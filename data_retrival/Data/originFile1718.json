{"items":[{"tags":["java","knights-tour"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1613957365,"post_id":66308732,"comment_id":117228273,"body_markdown":"*I&#39;m doing this for a class so I need to get it done soon.* - irrelevant to the problem. Time management is up to you, not us.","body":"<i>I&#39;m doing this for a class so I need to get it done soon.</i> - irrelevant to the problem. Time management is up to you, not us."}],"answers":[{"tags":[],"owner":{"account_id":7655202,"reputation":1958,"user_id":5802381,"accept_rate":62,"display_name":"Andrew Vershinin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613954825,"creation_date":1613954825,"answer_id":66308741,"question_id":66308732,"body_markdown":"`while(moveMade = false)` - assignment instead of comparison (and don&#39;t use comparisons on booleans, please - `while (!moveMade)`)","title":"Issues with Knights Tour","body":"<p><code>while(moveMade = false)</code> - assignment instead of comparison (and don't use comparisons on booleans, please - <code>while (!moveMade)</code>)</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613960830,"creation_date":1613960830,"answer_id":66309294,"question_id":66308732,"body_markdown":"It looks to me as if your moveKnight() method moves the knight but never updates the ChessBoard. So after 64 moves it still seems untouched.","title":"Issues with Knights Tour","body":"<p>It looks to me as if your moveKnight() method moves the knight but never updates the ChessBoard. So after 64 moves it still seems untouched.</p>\n"}],"owner":{"account_id":20774433,"reputation":11,"user_id":15256297,"display_name":"BeowulfSword"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1641139420,"creation_date":1613954713,"question_id":66308732,"body_markdown":"I&#39;ve made this piece of code to complete the knight&#39;s tour, where you have to make it to every square on the chessboard with a knight with no repeats, but I&#39;m having some issues. It only ever prints an empty chessboard with no moves made, and I&#39;m not sure how to fix it.\r\n\r\n```import java.util.ArrayList;\r\n\r\nimport javax.lang.model.util.ElementScanner6;\r\npublic class KnightsTour\r\n{\r\n    private int[][] ChessBoard = new int[9][9];\r\n    private boolean[] Taken = new boolean[9];\r\n    private int[] Horizontal = {0,1,2,2,1,-1,-2,-2,-1};\r\n    private int[] Vertical = {0,-2,-1,1,2,2,1,-1,-2};\r\n    private int myRow, myCol;\r\n    private int moveCount;\r\n\r\n    public KnightsTour()\r\n    {\r\n        doKnightsTour();\r\n    }\r\n    public void doKnightsTour()\r\n    {\r\n        while(moveKnight()==true)\r\n        {\r\n\r\n        }\r\n        printChessBoard();\r\n    }\r\n\r\n    private boolean moveKnight()\r\n    {\r\n        int randomPos;\r\n        boolean moveMade = false;\r\n\r\n        if(moveCount &lt; 64)\r\n        {\r\n            \r\n            if(allTakenNearby() == false)\r\n            {\r\n              \r\n                while(moveMade = false)\r\n                {\r\n                   \r\n                    randomPos = (int)(Math.random()*8) + 1;\r\n\r\n                    if(Taken[randomPos] == false)\r\n                    {\r\n                      \r\n                        myRow += Vertical[randomPos];\r\n                        myCol += Horizontal[randomPos];\r\n                        moveCount++;\r\n                        moveMade = true;\r\n                        \r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        \r\n        return moveMade;\r\n    }\r\n\r\n    private boolean allTakenNearby()\r\n    {\r\n        int tempRow;\r\n        int tempCol;\r\n        boolean allFilled = true;\r\n        boolean notTaken;\r\n        \r\n        for(int i = 1; i&lt;= 8; i++)\r\n        {\r\n            Taken[i] = false;\r\n        }\r\n        for(int i = 1; i &lt;= 8; i++)\r\n        {\r\n            tempRow = myRow + Vertical[i];\r\n            tempCol = myCol + Horizontal[i];\r\n\r\n            if(tempRow &gt;= 1 &amp;&amp; tempRow &lt;= 8 &amp;&amp; tempCol &gt;= 1 &amp;&amp; tempCol &lt;=8 )\r\n            {\r\n                if(ChessBoard[tempRow][tempCol] &gt; 0 )\r\n                {\r\n                   Taken[i] = true;\r\n                }\r\n                else\r\n                {\r\n                    allFilled = false;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                Taken[i] = true;\r\n            }\r\n        }\r\n        return allFilled;\r\n    }\r\n\r\n    private void printChessBoard()\r\n    {\r\n        int x;\r\n        int y;\r\n\r\n        System.out.println();\r\n        System.out.println(&quot;ChessBoard is: &quot;);\r\n        System.out.println();\r\n\r\n        for(x = 1; x &lt;= 8; x++)\r\n        {\r\n            for(y = 1; y &lt;= 8; y++)\r\n            {\r\n                if(y == 8)\r\n                {\r\n                    if(ChessBoard[x][y] == 0)\r\n                    {\r\n                        System.out.print(&quot;xx&quot;);\r\n                        System.out.print(&quot;  &quot;);\r\n                    }\r\n                    else if(ChessBoard[x][y] &gt; 0 &amp;&amp; ChessBoard[x][y] &lt;= 9)\r\n                    {\r\n                        System.out.print(&quot;0&quot; + ChessBoard[x][y]);\r\n                        System.out.print(&quot;  &quot;);\r\n                    }\r\n                    else\r\n                    {\r\n                        System.out.print(ChessBoard[x][y]);\r\n                        System.out.print(&quot;  &quot;);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    if(ChessBoard[x][y] == 0)\r\n                    {\r\n                        System.out.print(&quot;xx&quot;);\r\n                        System.out.print(&quot;  &quot;);\r\n                    }\r\n                    else if(ChessBoard[x][y] &gt; 0 &amp;&amp; ChessBoard[x][y] &lt;= 9)\r\n                    {\r\n                        System.out.print(&quot;0&quot; + ChessBoard[x][y]);\r\n                        System.out.print(&quot;  &quot;);\r\n                    }\r\n                    else\r\n                    {\r\n                        System.out.print(ChessBoard[x][y]);\r\n                        System.out.print(&quot;  &quot;);\r\n                    }\r\n                }\r\n            }\r\n\r\n            System.out.println();\r\n\r\n        }\r\n        System.out.println();\r\n        System.out.println(&quot;Amount of Moves Made = &quot; + moveCount);\r\n    }\r\n}\r\n\r\n```\r\nTester: \r\n```import java.util.ArrayList;\r\n\r\nimport javax.lang.model.util.ElementScanner6;\r\npublic class KnightsTourTester\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        KnightsTour tour = new KnightsTour();\r\n        \r\n    }\r\n}\r\n```\r\nAny suggestions would be appreciated, I&#39;m doing this for a class so I need to get it done soon.","title":"Issues with Knights Tour","body":"<p>I've made this piece of code to complete the knight's tour, where you have to make it to every square on the chessboard with a knight with no repeats, but I'm having some issues. It only ever prints an empty chessboard with no moves made, and I'm not sure how to fix it.</p>\n<pre><code>\nimport javax.lang.model.util.ElementScanner6;\npublic class KnightsTour\n{\n    private int[][] ChessBoard = new int[9][9];\n    private boolean[] Taken = new boolean[9];\n    private int[] Horizontal = {0,1,2,2,1,-1,-2,-2,-1};\n    private int[] Vertical = {0,-2,-1,1,2,2,1,-1,-2};\n    private int myRow, myCol;\n    private int moveCount;\n\n    public KnightsTour()\n    {\n        doKnightsTour();\n    }\n    public void doKnightsTour()\n    {\n        while(moveKnight()==true)\n        {\n\n        }\n        printChessBoard();\n    }\n\n    private boolean moveKnight()\n    {\n        int randomPos;\n        boolean moveMade = false;\n\n        if(moveCount &lt; 64)\n        {\n            \n            if(allTakenNearby() == false)\n            {\n              \n                while(moveMade = false)\n                {\n                   \n                    randomPos = (int)(Math.random()*8) + 1;\n\n                    if(Taken[randomPos] == false)\n                    {\n                      \n                        myRow += Vertical[randomPos];\n                        myCol += Horizontal[randomPos];\n                        moveCount++;\n                        moveMade = true;\n                        \n                    }\n                }\n            }\n\n        }\n        \n        return moveMade;\n    }\n\n    private boolean allTakenNearby()\n    {\n        int tempRow;\n        int tempCol;\n        boolean allFilled = true;\n        boolean notTaken;\n        \n        for(int i = 1; i&lt;= 8; i++)\n        {\n            Taken[i] = false;\n        }\n        for(int i = 1; i &lt;= 8; i++)\n        {\n            tempRow = myRow + Vertical[i];\n            tempCol = myCol + Horizontal[i];\n\n            if(tempRow &gt;= 1 &amp;&amp; tempRow &lt;= 8 &amp;&amp; tempCol &gt;= 1 &amp;&amp; tempCol &lt;=8 )\n            {\n                if(ChessBoard[tempRow][tempCol] &gt; 0 )\n                {\n                   Taken[i] = true;\n                }\n                else\n                {\n                    allFilled = false;\n                }\n            }\n            else\n            {\n                Taken[i] = true;\n            }\n        }\n        return allFilled;\n    }\n\n    private void printChessBoard()\n    {\n        int x;\n        int y;\n\n        System.out.println();\n        System.out.println(&quot;ChessBoard is: &quot;);\n        System.out.println();\n\n        for(x = 1; x &lt;= 8; x++)\n        {\n            for(y = 1; y &lt;= 8; y++)\n            {\n                if(y == 8)\n                {\n                    if(ChessBoard[x][y] == 0)\n                    {\n                        System.out.print(&quot;xx&quot;);\n                        System.out.print(&quot;  &quot;);\n                    }\n                    else if(ChessBoard[x][y] &gt; 0 &amp;&amp; ChessBoard[x][y] &lt;= 9)\n                    {\n                        System.out.print(&quot;0&quot; + ChessBoard[x][y]);\n                        System.out.print(&quot;  &quot;);\n                    }\n                    else\n                    {\n                        System.out.print(ChessBoard[x][y]);\n                        System.out.print(&quot;  &quot;);\n                    }\n                }\n                else\n                {\n                    if(ChessBoard[x][y] == 0)\n                    {\n                        System.out.print(&quot;xx&quot;);\n                        System.out.print(&quot;  &quot;);\n                    }\n                    else if(ChessBoard[x][y] &gt; 0 &amp;&amp; ChessBoard[x][y] &lt;= 9)\n                    {\n                        System.out.print(&quot;0&quot; + ChessBoard[x][y]);\n                        System.out.print(&quot;  &quot;);\n                    }\n                    else\n                    {\n                        System.out.print(ChessBoard[x][y]);\n                        System.out.print(&quot;  &quot;);\n                    }\n                }\n            }\n\n            System.out.println();\n\n        }\n        System.out.println();\n        System.out.println(&quot;Amount of Moves Made = &quot; + moveCount);\n    }\n}\n\n</code></pre>\n<p>Tester:</p>\n<pre><code>\nimport javax.lang.model.util.ElementScanner6;\npublic class KnightsTourTester\n{\n    public static void main(String args[])\n    {\n        KnightsTour tour = new KnightsTour();\n        \n    }\n}\n</code></pre>\n<p>Any suggestions would be appreciated, I'm doing this for a class so I need to get it done soon.</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":3,"creation_date":1639231853,"post_id":70315727,"comment_id":124298492,"body_markdown":"One way is using System Property - see [java -Dlog4j2.formatMsgNoLookups=true ...](https://spring.io/blog/2021/12/10/log4j2-vulnerability-and-spring-boot) or other suggestions are to delete `JndiLookup.class`","body":"One way is using System Property - see <a href=\"https://spring.io/blog/2021/12/10/log4j2-vulnerability-and-spring-boot\" rel=\"nofollow noreferrer\">java -Dlog4j2.formatMsgNoLookups=true ...</a> or other suggestions are to delete <code>JndiLookup.class</code>"}],"answers":[{"tags":[],"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1641134545,"creation_date":1639232332,"answer_id":70315902,"question_id":70315727,"body_markdown":"As [DuncG commented][1], the option to disable lookups for Log4j is not a configuration option but a system property\r\n\r\n```lang-none\r\nlog4j2.formatMsgNoLookups\r\n```\r\n\r\nDepending on your environment ([Spring][2], stand-alone executable, [Tomcat][3] web application,…) the way system properties are set may vary. The simplest possibility for starting a Java process from a JAR file would be to add\r\n\r\n```lang-none\r\n-Dlog4j2.formatMsgNoLookups=true\r\n```\r\n\r\nto your command line:\r\n\r\n```lang-none\r\njava -Dlog4j2.formatMsgNoLookups=true -jar myapp.jar\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/70315727/where-to-put-formatmsgnolookups-in-the-log4j-xml-configuration-file#comment124298492_70315727\r\n  [2]: https://en.wikipedia.org/wiki/Spring_Framework\r\n  [3]: https://en.wikipedia.org/wiki/Apache_Tomcat\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Where to put formatMsgNoLookups in the Log4j XML configuration file","body":"<p>As <a href=\"https://stackoverflow.com/questions/70315727/where-to-put-formatmsgnolookups-in-the-log4j-xml-configuration-file#comment124298492_70315727\">DuncG commented</a>, the option to disable lookups for Log4j is not a configuration option but a system property</p>\n<pre class=\"lang-none prettyprint-override\"><code>log4j2.formatMsgNoLookups\n</code></pre>\n<p>Depending on your environment (<a href=\"https://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring</a>, stand-alone executable, <a href=\"https://en.wikipedia.org/wiki/Apache_Tomcat\" rel=\"nofollow noreferrer\">Tomcat</a> web application,…) the way system properties are set may vary. The simplest possibility for starting a Java process from a JAR file would be to add</p>\n<pre class=\"lang-none prettyprint-override\"><code>-Dlog4j2.formatMsgNoLookups=true\n</code></pre>\n<p>to your command line:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -Dlog4j2.formatMsgNoLookups=true -jar myapp.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1641135471,"creation_date":1639232858,"answer_id":70315976,"question_id":70315727,"body_markdown":"**CVE-2021-44228 Log4Shell Vulnerability**\r\n\r\nIf you can, upgrade to Log4j2 + Java versions as recommended by the security details on the [Apache logging site][1]. This site has changed since my original post; always follow recommended guidelines from the Apache website.\r\n\r\nThe Apache site previously suggested some workarounds for the JNDI lookup vulnerability reported against earlier releases of Log4j2.\r\n\r\n**IMO: This is such a serious vulnerability, you shouldn&#39;t contemplate these workarounds, and by the time you read this they may not help anyway. Upgrade Log4j JAR files and see the note below on places to check.**\r\n\r\n1) Set system property `log4j2.formatMsgNoLookups` when you launch the VM, passing as\r\n   `java -Dlog4j2.formatMsgNoLookups=true ...` .\r\n2) Set environment variable `LOG4J_FORMAT_MSG_NO_LOOKUPS` to true.\r\n3) For releases from 2.0-beta9 to 2.10.0, the mitigation is to remove the `org/apache/logging/log4j/core/lookup/JndiLookup.class` from the classpath - see `log4j-core-*.jar`.\r\n4) replace format pattern `%m` by `%m{nolookups}` for some versions\r\n\r\nI could not find `LOG4J_FORMAT_MSG_NO_LOOKUPS` when running a `grep` on the Java source code for `2.14.0`, so it’s not clear if this helps at all.\r\n\r\nCertain JDK releases mitigate the risks: JDK greater than 6u211, 7u201, 8u191, and 11.0.1 are not affected due to defaults applied to LDAP lookups. Upgrade where possible.\r\n\r\n**Some places to check for Log4j use**\r\n\r\nCheck which versions of Java you use are recent enough:\r\n\r\n    java -version\r\n\r\nScan your application release structures, app servers, development environments for possible old versions of Log4j:\r\n\r\n    find yourReleaseDir -type f -name log4j\\*jar\r\n\r\nIf you are unsure about which Log4j version you have open the JAR file in a ZIP tool and view `META-INF\\MANIFEST.MF` - there may a line with details of the version:\r\n\r\n     Log4jReleaseVersion: A.B.C\r\n\r\nView the running processes on each release machine to see if there are any open file handles to Log4j JAR files:\r\n\r\n    lsof | grep log4j\r\n\r\nAlso scan machines to verify the Java VM are versions you expect. This may spot more applications to work on:\r\n\r\n    ps -ef | egrep &quot;(java|jdk)&quot;    #OR: | grep -v grep\r\n\r\nScan EAR and WAR archives on application servers to verify there aren’t any embedded Log4j JAR files inside a container archive. You can do this with `find` and `unzip` commands, or try the `ShowClassVersions` class I wrote to detect Java compiler versions in [this answer][2]. This would print out names of JAR files inside [WAR][3] and [EAR][4] files:\r\n\r\n    java ShowClassVersions.java app_server_dir |grep log4j\r\n    app_server_dir/somewebapp.war =&gt; WEB-INF/lib/log4j2-core.jar\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/security.html\r\n  [2]: https://stackoverflow.com/questions/63175327/determine-jdk-compatibility-of-any-java-framework/63197423#63197423\r\n  [3]: https://en.wikipedia.org/wiki/WAR_(file_format)\r\n  [4]: https://en.wikipedia.org/wiki/EAR_(file_format)\r\n\r\n\r\n\r\n","title":"Where to put formatMsgNoLookups in the Log4j XML configuration file","body":"<p><strong>CVE-2021-44228 Log4Shell Vulnerability</strong></p>\n<p>If you can, upgrade to Log4j2 + Java versions as recommended by the security details on the <a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"nofollow noreferrer\">Apache logging site</a>. This site has changed since my original post; always follow recommended guidelines from the Apache website.</p>\n<p>The Apache site previously suggested some workarounds for the JNDI lookup vulnerability reported against earlier releases of Log4j2.</p>\n<p><strong>IMO: This is such a serious vulnerability, you shouldn't contemplate these workarounds, and by the time you read this they may not help anyway. Upgrade Log4j JAR files and see the note below on places to check.</strong></p>\n<ol>\n<li>Set system property <code>log4j2.formatMsgNoLookups</code> when you launch the VM, passing as\n<code>java -Dlog4j2.formatMsgNoLookups=true ...</code> .</li>\n<li>Set environment variable <code>LOG4J_FORMAT_MSG_NO_LOOKUPS</code> to true.</li>\n<li>For releases from 2.0-beta9 to 2.10.0, the mitigation is to remove the <code>org/apache/logging/log4j/core/lookup/JndiLookup.class</code> from the classpath - see <code>log4j-core-*.jar</code>.</li>\n<li>replace format pattern <code>%m</code> by <code>%m{nolookups}</code> for some versions</li>\n</ol>\n<p>I could not find <code>LOG4J_FORMAT_MSG_NO_LOOKUPS</code> when running a <code>grep</code> on the Java source code for <code>2.14.0</code>, so it’s not clear if this helps at all.</p>\n<p>Certain JDK releases mitigate the risks: JDK greater than 6u211, 7u201, 8u191, and 11.0.1 are not affected due to defaults applied to LDAP lookups. Upgrade where possible.</p>\n<p><strong>Some places to check for Log4j use</strong></p>\n<p>Check which versions of Java you use are recent enough:</p>\n<pre><code>java -version\n</code></pre>\n<p>Scan your application release structures, app servers, development environments for possible old versions of Log4j:</p>\n<pre><code>find yourReleaseDir -type f -name log4j\\*jar\n</code></pre>\n<p>If you are unsure about which Log4j version you have open the JAR file in a ZIP tool and view <code>META-INF\\MANIFEST.MF</code> - there may a line with details of the version:</p>\n<pre><code> Log4jReleaseVersion: A.B.C\n</code></pre>\n<p>View the running processes on each release machine to see if there are any open file handles to Log4j JAR files:</p>\n<pre><code>lsof | grep log4j\n</code></pre>\n<p>Also scan machines to verify the Java VM are versions you expect. This may spot more applications to work on:</p>\n<pre><code>ps -ef | egrep &quot;(java|jdk)&quot;    #OR: | grep -v grep\n</code></pre>\n<p>Scan EAR and WAR archives on application servers to verify there aren’t any embedded Log4j JAR files inside a container archive. You can do this with <code>find</code> and <code>unzip</code> commands, or try the <code>ShowClassVersions</code> class I wrote to detect Java compiler versions in <a href=\"https://stackoverflow.com/questions/63175327/determine-jdk-compatibility-of-any-java-framework/63197423#63197423\">this answer</a>. This would print out names of JAR files inside <a href=\"https://en.wikipedia.org/wiki/WAR_(file_format)\" rel=\"nofollow noreferrer\">WAR</a> and <a href=\"https://en.wikipedia.org/wiki/EAR_(file_format)\" rel=\"nofollow noreferrer\">EAR</a> files:</p>\n<pre><code>java ShowClassVersions.java app_server_dir |grep log4j\napp_server_dir/somewebapp.war =&gt; WEB-INF/lib/log4j2-core.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1695460,"reputation":301,"user_id":1556934,"display_name":"Mj.B"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1641135710,"creation_date":1639330828,"answer_id":70326075,"question_id":70315727,"body_markdown":"You can do this: `%m{nolookups}` in the layout.\r\n\r\n`{nolookups}` is how you set the property `log4j2.formatMsgNoLookups=true` within the configuration XML content.\r\n\r\nQuoting from the Log4j source:\r\n\r\n&gt; public static final boolean FORMAT_MESSAGES_PATTERN_DISABLE_LOOKUPS =\r\n&gt; PropertiesUtil.getProperties().getBooleanProperty(&quot;log4j2.formatMsgNoLookups&quot;,\r\n&gt; false);\r\n\r\nand its javadoc:\r\n\r\n&gt; LOG4J2-2109 if true, MessagePatternConverter will always operate as\r\n&gt; though\r\n&gt;\r\n&gt;  %m{nolookups}\r\n&gt;\r\n&gt;  is configured.\r\n&gt;\r\n&gt;  Since:\r\n&gt;\r\n&gt; 2.10\r\n\r\n\r\n\r\n","title":"Where to put formatMsgNoLookups in the Log4j XML configuration file","body":"<p>You can do this: <code>%m{nolookups}</code> in the layout.</p>\n<p><code>{nolookups}</code> is how you set the property <code>log4j2.formatMsgNoLookups=true</code> within the configuration XML content.</p>\n<p>Quoting from the Log4j source:</p>\n<blockquote>\n<p>public static final boolean FORMAT_MESSAGES_PATTERN_DISABLE_LOOKUPS =\nPropertiesUtil.getProperties().getBooleanProperty(&quot;log4j2.formatMsgNoLookups&quot;,\nfalse);</p>\n</blockquote>\n<p>and its javadoc:</p>\n<blockquote>\n<p>LOG4J2-2109 if true, MessagePatternConverter will always operate as\nthough</p>\n<p>%m{nolookups}</p>\n<p>is configured.</p>\n<p>Since:</p>\n<p>2.10</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4058718,"reputation":31,"user_id":3335806,"display_name":"shivrajg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639474273,"creation_date":1639462205,"answer_id":70344468,"question_id":70315727,"body_markdown":"Add the delimiter `-Dlog4j2.formatMsgNoLookups=true` under the `export catalina_opts` or `export java_options`.\r\n\r\n","title":"Where to put formatMsgNoLookups in the Log4j XML configuration file","body":"<p>Add the delimiter <code>-Dlog4j2.formatMsgNoLookups=true</code> under the <code>export catalina_opts</code> or <code>export java_options</code>.</p>\n"},{"tags":[],"owner":{"account_id":15886331,"reputation":79,"user_id":11462588,"display_name":"Jackson Pfeffer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641139286,"creation_date":1639734068,"answer_id":70391163,"question_id":70315727,"body_markdown":"Remember to always check for the latest information from the resources listed below.\r\n\r\n**[CVE-2021-45105][1]**... 2.16.0 and 2.12.2 are no longer valid remediations! The current fixing versions are 2.17.0 (Java 8) and 2.12.3 (Java 7). All other Java versions have to take the stop gap approach (removing/deleting JndiLookup.class file from the *log4j-core* JAR.\r\n\r\n---\r\n\r\nThe environment variable option is no longer considered a valid remediation or mitigation. It will technically slightly reduce the exposure of the vulnerability, but it won&#39;t actually fix anything. I outline remediation info below.\r\n\r\n * More resources\r\n   * *[Log4j 0day being exploited][2]*\r\n     * This one has *tons* of useful information including detectors, even more resource links, very easy to understand remediation steps, and more\r\n   * *[Apache Log4j Vulnerability Guidance][3]*\r\n   * *[CISA Log4j (CVE-2021-44228) Vulnerability Guidance][4]*\r\n   * *[Apache Log4j Security Vulnerabilities][5]*\r\n\r\n---\r\n\r\n**Remediation:**\r\n\r\n**[CVE-2021-45046][6] ... [CVE-2021-44228][7] ... [CVE-2021-45105][1]**\r\n\r\n * Follow the guidance in those resources... it may change, but\r\n\r\n### As of 2021-12-18\r\n\r\nIt&#39;s basically\r\n\r\n * Remove *log4j-core* JAR files if possible\r\n      * From both running machines for an immediate fix *and*\r\n      * in your source code / source code management files to prevent future builds / releases / deployments from overwriting the change\r\n * If that is not possible (due to a dependency), upgrade them\r\n      * If you are running Java 8, then you can upgrade to Log4j 2.17.0+\r\n      * If you are running Java 7, then you can upgrade to Log4j 2.12.3\r\n      * If you are running an older version of Java, then you need to upgrade to the newest version of Java and then use the newest version of Log4J\r\n      * Again, these changes have to happen both on running machine and in code\r\n * If neither of those are possible for some reason... then there is the *non*-remediation stop gap of removing the JndiLookup.class file from the *log4j-core* JAR files.\r\n   * There is a one-liner for the stop gap option on Linux using the `zip` command that comes packaged with most Linux distributions by default.\r\n     * `zip -q -d &quot;$LOG4J_JAR_PATH&quot; org/apache/logging/log4j/core/lookup/JndiLookup.class`\r\n   * At time of writing, most of the guides online for the stop gap option on Windows say to do the following (again... assuming you can&#39;t do one of the remove JAR or upgrade options above):\r\n     * Install something like [7-Zip][8]\r\n     * Locate all of your *log4j-core* JAR files and for each one do the following...\r\n     * Rename the JAR to change the extension to `.zip`\r\n     * Use 7-Zip to unzip the JAR file (which now has a `.zip` extension)\r\n     * Locate and remove the JndiLookup.class file from the unzipped folder\r\n       * The path is `\\\\path\\\\to\\\\unzippedFolder\\\\org\\\\apache\\\\logging\\\\log4j\\\\core\\\\lookup\\\\JndiLookup.class`\r\n     * Delete the old JAR file (which now has an extension of .zip)\r\n     * Use 7-Zip to *re*-zip the folder\r\n     * Rename the new .zip folder to change the extension to `.jar`\r\n   * There are also some options to use PowerShell\r\n     * [Reddit thread: log4j_0day_being_exploited][2]\r\n     * &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;F&lt;/kbd&gt; for &quot;PowerShell&quot;\r\n\r\nThis is fine if you only have one or two JAR files to deal with and you don&#39;t mind installing 7-Zip or you have PowerShell available to do it. However, if you have lots of JAR files, or if you don&#39;t want to install 7-Zip and don&#39;t have access to PowerShell, I created an open-source [VBScript][9] script (.vbs) that will do it for you without needing to install any additional software. *[Windowslog4jClassRemover][10]*\r\n\r\nRead the README and the release notes - *[Release: The light is really easy to read &amp;amp; follow now CrazyKidJack/Windowslog4jClassRemover][11]*\r\n\r\n  [1]: https://nvd.nist.gov/vuln/detail/CVE-2021-45105\r\n  [2]: https://www.reddit.com/r/blueteamsec/comments/rd38z9/log4j_0day_being_exploited/\r\n  [3]: https://www.cisa.gov/uscert/apache-log4j-vulnerability-guidance\r\n  [4]: https://github.com/cisagov/log4j-affected-db\r\n  [5]: https://logging.apache.org/log4j/2.x/security.html\r\n  [6]: https://nvd.nist.gov/vuln/detail/CVE-2021-45046\r\n  [7]: https://nvd.nist.gov/vuln/detail/CVE-2021-44228\r\n  [8]: https://en.wikipedia.org/wiki/7-Zip\r\n  [9]: https://en.wikipedia.org/wiki/VBScript\r\n  [10]: https://github.com/CrazyKidJack/Windowslog4jClassRemover\r\n  [11]: https://github.com/CrazyKidJack/Windowslog4jClassRemover/releases/latest\r\n\r\n\r\n\r\n","title":"Where to put formatMsgNoLookups in the Log4j XML configuration file","body":"<p>Remember to always check for the latest information from the resources listed below.</p>\n<p><strong><a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-45105\" rel=\"nofollow noreferrer\">CVE-2021-45105</a></strong>... 2.16.0 and 2.12.2 are no longer valid remediations! The current fixing versions are 2.17.0 (Java 8) and 2.12.3 (Java 7). All other Java versions have to take the stop gap approach (removing/deleting JndiLookup.class file from the <em>log4j-core</em> JAR.</p>\n<hr />\n<p>The environment variable option is no longer considered a valid remediation or mitigation. It will technically slightly reduce the exposure of the vulnerability, but it won't actually fix anything. I outline remediation info below.</p>\n<ul>\n<li>More resources\n<ul>\n<li><em><a href=\"https://www.reddit.com/r/blueteamsec/comments/rd38z9/log4j_0day_being_exploited/\" rel=\"nofollow noreferrer\">Log4j 0day being exploited</a></em>\n<ul>\n<li>This one has <em>tons</em> of useful information including detectors, even more resource links, very easy to understand remediation steps, and more</li>\n</ul>\n</li>\n<li><em><a href=\"https://www.cisa.gov/uscert/apache-log4j-vulnerability-guidance\" rel=\"nofollow noreferrer\">Apache Log4j Vulnerability Guidance</a></em></li>\n<li><em><a href=\"https://github.com/cisagov/log4j-affected-db\" rel=\"nofollow noreferrer\">CISA Log4j (CVE-2021-44228) Vulnerability Guidance</a></em></li>\n<li><em><a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"nofollow noreferrer\">Apache Log4j Security Vulnerabilities</a></em></li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>Remediation:</strong></p>\n<p><strong><a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-45046\" rel=\"nofollow noreferrer\">CVE-2021-45046</a> ... <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-44228\" rel=\"nofollow noreferrer\">CVE-2021-44228</a> ... <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-45105\" rel=\"nofollow noreferrer\">CVE-2021-45105</a></strong></p>\n<ul>\n<li>Follow the guidance in those resources... it may change, but</li>\n</ul>\n<h3>As of 2021-12-18</h3>\n<p>It's basically</p>\n<ul>\n<li>Remove <em>log4j-core</em> JAR files if possible\n<ul>\n<li>From both running machines for an immediate fix <em>and</em></li>\n<li>in your source code / source code management files to prevent future builds / releases / deployments from overwriting the change</li>\n</ul>\n</li>\n<li>If that is not possible (due to a dependency), upgrade them\n<ul>\n<li>If you are running Java 8, then you can upgrade to Log4j 2.17.0+</li>\n<li>If you are running Java 7, then you can upgrade to Log4j 2.12.3</li>\n<li>If you are running an older version of Java, then you need to upgrade to the newest version of Java and then use the newest version of Log4J</li>\n<li>Again, these changes have to happen both on running machine and in code</li>\n</ul>\n</li>\n<li>If neither of those are possible for some reason... then there is the <em>non</em>-remediation stop gap of removing the JndiLookup.class file from the <em>log4j-core</em> JAR files.\n<ul>\n<li>There is a one-liner for the stop gap option on Linux using the <code>zip</code> command that comes packaged with most Linux distributions by default.\n<ul>\n<li><code>zip -q -d &quot;$LOG4J_JAR_PATH&quot; org/apache/logging/log4j/core/lookup/JndiLookup.class</code></li>\n</ul>\n</li>\n<li>At time of writing, most of the guides online for the stop gap option on Windows say to do the following (again... assuming you can't do one of the remove JAR or upgrade options above):\n<ul>\n<li>Install something like <a href=\"https://en.wikipedia.org/wiki/7-Zip\" rel=\"nofollow noreferrer\">7-Zip</a></li>\n<li>Locate all of your <em>log4j-core</em> JAR files and for each one do the following...</li>\n<li>Rename the JAR to change the extension to <code>.zip</code></li>\n<li>Use 7-Zip to unzip the JAR file (which now has a <code>.zip</code> extension)</li>\n<li>Locate and remove the JndiLookup.class file from the unzipped folder\n<ul>\n<li>The path is <code>\\\\path\\\\to\\\\unzippedFolder\\\\org\\\\apache\\\\logging\\\\log4j\\\\core\\\\lookup\\\\JndiLookup.class</code></li>\n</ul>\n</li>\n<li>Delete the old JAR file (which now has an extension of .zip)</li>\n<li>Use 7-Zip to <em>re</em>-zip the folder</li>\n<li>Rename the new .zip folder to change the extension to <code>.jar</code></li>\n</ul>\n</li>\n<li>There are also some options to use PowerShell\n<ul>\n<li><a href=\"https://www.reddit.com/r/blueteamsec/comments/rd38z9/log4j_0day_being_exploited/\" rel=\"nofollow noreferrer\">Reddit thread: log4j_0day_being_exploited</a></li>\n<li><kbd>Ctrl</kbd> + <kbd>F</kbd> for &quot;PowerShell&quot;</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>This is fine if you only have one or two JAR files to deal with and you don't mind installing 7-Zip or you have PowerShell available to do it. However, if you have lots of JAR files, or if you don't want to install 7-Zip and don't have access to PowerShell, I created an open-source <a href=\"https://en.wikipedia.org/wiki/VBScript\" rel=\"nofollow noreferrer\">VBScript</a> script (.vbs) that will do it for you without needing to install any additional software. <em><a href=\"https://github.com/CrazyKidJack/Windowslog4jClassRemover\" rel=\"nofollow noreferrer\">Windowslog4jClassRemover</a></em></p>\n<p>Read the README and the release notes - <em><a href=\"https://github.com/CrazyKidJack/Windowslog4jClassRemover/releases/latest\" rel=\"nofollow noreferrer\">Release: The light is really easy to read &amp; follow now CrazyKidJack/Windowslog4jClassRemover</a></em></p>\n"},{"tags":[],"owner":{"account_id":23677846,"reputation":1,"user_id":17703827,"display_name":"Cesar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641138836,"creation_date":1639765640,"answer_id":70397404,"question_id":70315727,"body_markdown":"There is a lot of confusion regarding the variable to use, log4j2.formatMsgNoLookups, log4j.formatMsgNoLookups, etc. Keep in mind that as indicated in *[PropertySource.java][1]*,\r\n\r\n    / **\r\n    * Converts a property name string into a list of tokens. This will strip a prefix of {@code log4j},\r\n    * {@code log4j2}, {@code Log4j}, or {@code org.apache.logging.log4j}, along with separators of\r\n    * dash {@code -}, dot {@code.}, underscore {@code _}, and slash {@code /}. Tokens can also be separated\r\n    * by camel case conventions without needing a separator character in between.\r\n    *\r\n    * @param value property name\r\n    * @return the property broken into lower case tokens\r\n    * /\r\n\r\nYou can use different values ​​for the variable, as you can check with this test code (unfortunately, you must indicate the property of the system in a static block, so to test the different options, you must comment or uncomment the different lines of the test).\r\n\r\n    package org.apache.logging.log4j.core.pattern;\r\n\r\n    import org.apache.logging.log4j.core.util.Constants;\r\n    import org.junit.Test;\r\n\r\n    import static org.junit.Assert.assertTrue;\r\n\r\n    / **\r\n     *\r\n     * /\r\n\r\n    public class Log4jParameterTest {\r\n        static {\r\n            // Test Ok. All working\r\n    // System.setProperty (&quot;log4j2.formatMsgNoLookups&quot;, &quot;true&quot;);\r\n    // System.setProperty (&quot;log4j.formatMsgNoLookups&quot;, &quot;true&quot;);\r\n    // System.setProperty (&quot;Log4j.formatMsgNoLookups&quot;, &quot;true&quot;);\r\n    // System.setProperty (&quot;org.apache.logging.log4j.formatMsgNoLookups&quot;, &quot;true&quot;);\r\n    // System.setProperty (&quot;log4j2-formatMsgNoLookups&quot;, &quot;true&quot;);\r\n    // System.setProperty (&quot;log4j2_formatMsgNoLookups&quot;, &quot;true&quot;);\r\n            System.setProperty (&quot;log4j2 / formatMsgNoLookups&quot;, &quot;true&quot;);\r\n            // Test KO. All fail\r\n    // System.setProperty (&quot;log5j2.formatMsgNoLookups&quot;, &quot;true&quot;);\r\n    // System.setProperty (&quot;log5j2-formatMsgNoLookups&quot;, &quot;true&quot;);\r\n        }\r\n        @Test\r\n        public void testLookupEnabledByDefault () {\r\n            assertTrue (&quot;Lookups deactivated&quot;, Constants.FORMAT_MESSAGES_PATTERN_DISABLE_LOOKUPS);\r\n\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/apache/logging-log4j2/blob/master/log4j-api/src/main/java/org/apache/logging/log4j/util/PropertySource.java\r\n\r\n","title":"Where to put formatMsgNoLookups in the Log4j XML configuration file","body":"<p>There is a lot of confusion regarding the variable to use, log4j2.formatMsgNoLookups, log4j.formatMsgNoLookups, etc. Keep in mind that as indicated in <em><a href=\"https://github.com/apache/logging-log4j2/blob/master/log4j-api/src/main/java/org/apache/logging/log4j/util/PropertySource.java\" rel=\"nofollow noreferrer\">PropertySource.java</a></em>,</p>\n<pre><code>/ **\n* Converts a property name string into a list of tokens. This will strip a prefix of {@code log4j},\n* {@code log4j2}, {@code Log4j}, or {@code org.apache.logging.log4j}, along with separators of\n* dash {@code -}, dot {@code.}, underscore {@code _}, and slash {@code /}. Tokens can also be separated\n* by camel case conventions without needing a separator character in between.\n*\n* @param value property name\n* @return the property broken into lower case tokens\n* /\n</code></pre>\n<p>You can use different values ​​for the variable, as you can check with this test code (unfortunately, you must indicate the property of the system in a static block, so to test the different options, you must comment or uncomment the different lines of the test).</p>\n<pre><code>package org.apache.logging.log4j.core.pattern;\n\nimport org.apache.logging.log4j.core.util.Constants;\nimport org.junit.Test;\n\nimport static org.junit.Assert.assertTrue;\n\n/ **\n *\n * /\n\npublic class Log4jParameterTest {\n    static {\n        // Test Ok. All working\n// System.setProperty (&quot;log4j2.formatMsgNoLookups&quot;, &quot;true&quot;);\n// System.setProperty (&quot;log4j.formatMsgNoLookups&quot;, &quot;true&quot;);\n// System.setProperty (&quot;Log4j.formatMsgNoLookups&quot;, &quot;true&quot;);\n// System.setProperty (&quot;org.apache.logging.log4j.formatMsgNoLookups&quot;, &quot;true&quot;);\n// System.setProperty (&quot;log4j2-formatMsgNoLookups&quot;, &quot;true&quot;);\n// System.setProperty (&quot;log4j2_formatMsgNoLookups&quot;, &quot;true&quot;);\n        System.setProperty (&quot;log4j2 / formatMsgNoLookups&quot;, &quot;true&quot;);\n        // Test KO. All fail\n// System.setProperty (&quot;log5j2.formatMsgNoLookups&quot;, &quot;true&quot;);\n// System.setProperty (&quot;log5j2-formatMsgNoLookups&quot;, &quot;true&quot;);\n    }\n    @Test\n    public void testLookupEnabledByDefault () {\n        assertTrue (&quot;Lookups deactivated&quot;, Constants.FORMAT_MESSAGES_PATTERN_DISABLE_LOOKUPS);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4489645,"reputation":194,"user_id":3651057,"display_name":"Al3xC"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640255768,"creation_date":1640255768,"answer_id":70460898,"question_id":70315727,"body_markdown":"To whom use **log4j-xml-config-file**:\r\n\r\n1. Replace `%m` by `%m{nolookups}` in the PatternLayout\r\n2. Add system property log4j.formatMsgNoLookups = true: `System.setProperty(&quot;log4j2.formatMsgNoLookups&quot;, &quot;true&quot;);`","title":"Where to put formatMsgNoLookups in the Log4j XML configuration file","body":"<p>To whom use <strong>log4j-xml-config-file</strong>:</p>\n<ol>\n<li>Replace <code>%m</code> by <code>%m{nolookups}</code> in the PatternLayout</li>\n<li>Add system property log4j.formatMsgNoLookups = true: <code>System.setProperty(&quot;log4j2.formatMsgNoLookups&quot;, &quot;true&quot;);</code></li>\n</ol>\n"}],"owner":{"account_id":8986,"reputation":2791,"user_id":16424,"accept_rate":92,"display_name":"Ben"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70656,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":70315976,"answer_count":7,"score":50,"last_activity_date":1641139286,"creation_date":1639230738,"question_id":70315727,"body_markdown":"I configure my Log4j with an XML file. Where should I add the *formatMsgNoLookups=true*?\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!--  Upload files compare config --&gt;\r\n&lt;configuration status=&quot;OFF&quot;&gt;\r\n  &lt;appenders&gt;\r\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n      &lt;PatternLayout pattern=&quot;%d{HH:mm:ss} %p - %msg%n&quot;/&gt;\r\n    &lt;/Console&gt;\r\n\r\n    &lt;!-- http://logging.apache.org/log4j/2.x/manual/appenders.html#RollingFileAppender --&gt;\r\n    &lt;RollingFile name=&quot;File&quot; fileName=&quot;logs/MyLogFile.log&quot;\r\n                          filePattern=&quot;logs/MyLogFile-%d{yyyy-MM-dd}.log&quot;\r\n                 ignoreExceptions=&quot;false&quot;&gt;\r\n      &lt;PatternLayout&gt;\r\n        &lt;Pattern&gt;%d %p %c{1.} %m%n&lt;/Pattern&gt;\r\n      &lt;/PatternLayout&gt;\r\n    &lt;/RollingFile&gt;\r\n  &lt;/appenders&gt;\r\n  &lt;Loggers&gt;\r\n    &lt;Root level=&quot;INFO&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;File&quot;/&gt;\r\n      &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n    &lt;/Root&gt;\r\n  &lt;/Loggers&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Where to put formatMsgNoLookups in the Log4j XML configuration file","body":"<p>I configure my Log4j with an XML file. Where should I add the <em>formatMsgNoLookups=true</em>?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!--  Upload files compare config --&gt;\n&lt;configuration status=&quot;OFF&quot;&gt;\n  &lt;appenders&gt;\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n      &lt;PatternLayout pattern=&quot;%d{HH:mm:ss} %p - %msg%n&quot;/&gt;\n    &lt;/Console&gt;\n\n    &lt;!-- http://logging.apache.org/log4j/2.x/manual/appenders.html#RollingFileAppender --&gt;\n    &lt;RollingFile name=&quot;File&quot; fileName=&quot;logs/MyLogFile.log&quot;\n                          filePattern=&quot;logs/MyLogFile-%d{yyyy-MM-dd}.log&quot;\n                 ignoreExceptions=&quot;false&quot;&gt;\n      &lt;PatternLayout&gt;\n        &lt;Pattern&gt;%d %p %c{1.} %m%n&lt;/Pattern&gt;\n      &lt;/PatternLayout&gt;\n    &lt;/RollingFile&gt;\n  &lt;/appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;INFO&quot;&gt;\n      &lt;AppenderRef ref=&quot;File&quot;/&gt;\n      &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","sql","hibernate","maven","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":2486839,"reputation":236,"user_id":2165120,"accept_rate":100,"display_name":"Ucello"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1563277423,"creation_date":1563277423,"answer_id":57056470,"question_id":57056207,"body_markdown":"Looks like your parameters do not match the data types expected by the query. Can you try with Integer instead of Long?","title":"SQL Error: 17059, SQLState: 99999:org.hibernate.util.JDBCExceptionReporter-[ERROR]: Fail to convert to internal representation","body":"<p>Looks like your parameters do not match the data types expected by the query. Can you try with Integer instead of Long?</p>\n"},{"tags":[],"owner":{"account_id":5534542,"reputation":59,"user_id":4393331,"display_name":"Erik M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641139202,"creation_date":1641139202,"answer_id":70557490,"question_id":57056207,"body_markdown":"I agree with the answer of @Ucello; this will appear when there is a data type mismatch. But also when running the wrong project&#39;s version.\r\n\r\nI used to have separated front-end and back-end projects. When I ran *Grails* (front-end), I didn&#39;t realize I was running *MyApp* v**3.1** but having started the Java back-end of *MyApp* v**3.0**. So, between the 3.1 and 3.0 versions, there was a mismatch in the data types and throwing this error. \r\n\r\nNot sure if this helps other users. It took me time to realize :)\r\n\r\n\r\n \r\n","title":"SQL Error: 17059, SQLState: 99999:org.hibernate.util.JDBCExceptionReporter-[ERROR]: Fail to convert to internal representation","body":"<p>I agree with the answer of @Ucello; this will appear when there is a data type mismatch. But also when running the wrong project's version.</p>\n<p>I used to have separated front-end and back-end projects. When I ran <em>Grails</em> (front-end), I didn't realize I was running <em>MyApp</em> v<strong>3.1</strong> but having started the Java back-end of <em>MyApp</em> v<strong>3.0</strong>. So, between the 3.1 and 3.0 versions, there was a mismatch in the data types and throwing this error.</p>\n<p>Not sure if this helps other users. It took me time to realize :)</p>\n"}],"owner":{"account_id":10950194,"reputation":21,"user_id":8046797,"display_name":"Vikash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13051,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57056470,"answer_count":2,"score":1,"last_activity_date":1641139202,"creation_date":1563276431,"question_id":57056207,"body_markdown":"Getting Exception from below hibernate query while calling the API. \r\n\r\ndao class method:\r\n\r\n\tpublic List&lt;ErmChangeLog&gt; fetchChangeLog(JsonInput jsonInput) throws SQLException {\r\n\t\tSession session = this.sessionFactory.openSession();\t\r\n\t\tList&lt;ErmChangeLog&gt; objectList = null;\r\n\t\tLong instanceKey = 0L;\r\n\t\ttry {\r\n\t\t\tinstanceKey = jsonInput.getSystematic_Risk_ID();\r\n\t\t\tlogger.debug(&quot;Connection creation process is completed.&quot;);\r\n\t\t\tQuery query = session.createQuery(CommonConstants.fetch_ChangeLog);\r\n\t\t\tlogger.info(&quot;query   : &quot; + CommonConstants.fetch_ChangeLog);\r\n\t\t\tquery.setParameter(&quot;instanceKey&quot;, instanceKey);\r\n\t\t\tlogger.info(&quot;instanceKey : &quot; + instanceKey);\r\n\t\t\tobjectList = query.list();\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.debug(&quot;Failed to fetch Change Log&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t\tsession.close();\r\n\t\treturn objectList;\r\n\r\n\t}\r\n\r\nquery : String fetch_ChangeLog= &quot;from ErmChangeLog p where p.instanceKey =:instanceKey&quot;;\r\n\r\n\r\nexception :\r\n```\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n[2019-07-16 16:39:10,915]:org.hibernate.util.JDBCExceptionReporter-[WARN]: SQL Error: 17059, SQLState: 99999\r\n[2019-07-16 16:39:10,915]:org.hibernate.util.JDBCExceptionReporter-[ERROR]: Fail to convert to internal representation\r\n[2019-07-16 16:39:10,916]:org.hibernate.jdbc.ConnectionManager-[DEBUG]: transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!\r\n```","title":"SQL Error: 17059, SQLState: 99999:org.hibernate.util.JDBCExceptionReporter-[ERROR]: Fail to convert to internal representation","body":"<p>Getting Exception from below hibernate query while calling the API. </p>\n\n<p>dao class method:</p>\n\n<pre><code>public List&lt;ErmChangeLog&gt; fetchChangeLog(JsonInput jsonInput) throws SQLException {\n    Session session = this.sessionFactory.openSession();    \n    List&lt;ErmChangeLog&gt; objectList = null;\n    Long instanceKey = 0L;\n    try {\n        instanceKey = jsonInput.getSystematic_Risk_ID();\n        logger.debug(\"Connection creation process is completed.\");\n        Query query = session.createQuery(CommonConstants.fetch_ChangeLog);\n        logger.info(\"query   : \" + CommonConstants.fetch_ChangeLog);\n        query.setParameter(\"instanceKey\", instanceKey);\n        logger.info(\"instanceKey : \" + instanceKey);\n        objectList = query.list();\n\n    } catch (Exception e) {\n        logger.debug(\"Failed to fetch Change Log\");\n        e.printStackTrace();\n        throw e;\n    }\n    session.close();\n    return objectList;\n\n}\n</code></pre>\n\n<p>query : String fetch_ChangeLog= \"from ErmChangeLog p where p.instanceKey =:instanceKey\";</p>\n\n<p>exception :</p>\n\n<pre><code>    at java.lang.Thread.run(Thread.java:745)\n[2019-07-16 16:39:10,915]:org.hibernate.util.JDBCExceptionReporter-[WARN]: SQL Error: 17059, SQLState: 99999\n[2019-07-16 16:39:10,915]:org.hibernate.util.JDBCExceptionReporter-[ERROR]: Fail to convert to internal representation\n[2019-07-16 16:39:10,916]:org.hibernate.jdbc.ConnectionManager-[DEBUG]: transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2773648,"reputation":1167,"user_id":2387708,"accept_rate":79,"display_name":"Spartan"},"score":0,"creation_date":1641133336,"post_id":70556672,"comment_id":124724673,"body_markdown":"you got this because of &quot;Rest Repositories&quot;","body":"you got this because of &quot;Rest Repositories&quot;"}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641139082,"creation_date":1641139082,"answer_id":70557470,"question_id":70556672,"body_markdown":"The &quot;_links&quot; and &quot;profile&quot; are from [HATEOS][1]\r\n\r\nIt&#39;s the &quot;Spring Data Rest&quot; library.\r\nSee https://docs.spring.io/spring-hateoas/docs/current/reference/html\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/HATEOAS","title":"How does Spring create links in JSON?","body":"<p>The &quot;_links&quot; and &quot;profile&quot; are from <a href=\"https://en.wikipedia.org/wiki/HATEOAS\" rel=\"nofollow noreferrer\">HATEOS</a></p>\n<p>It's the &quot;Spring Data Rest&quot; library.\nSee <a href=\"https://docs.spring.io/spring-hateoas/docs/current/reference/html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-hateoas/docs/current/reference/html</a></p>\n"}],"owner":{"account_id":23471540,"reputation":35,"user_id":17524975,"display_name":"Albert Hofmann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70557470,"answer_count":1,"score":0,"last_activity_date":1641139082,"creation_date":1641132697,"question_id":70556672,"body_markdown":"I wrote little bit of code and then Spring showed me this:\r\n\r\n    {\r\n    \r\n      &quot;_links&quot; : {\r\n        &quot;employees&quot; : {\r\n          &quot;href&quot; : &quot;http://localhost:8080/api/employees&quot;\r\n        },\r\n        &quot;profile&quot; : {\r\n          &quot;href&quot; : &quot;http://localhost:8080/api/profile&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nI didnt get how Spring define links like &quot;employees&quot; and &quot;profile&quot; (there is also profile/employees exist) cause I didnt write it anywhere. I only set `spring.data.rest.base-path=/api` in application.properties file.\r\n\r\nHere my code. I made only these changes. Dependencies are: \r\n\r\n    Rest Repositories\r\n\r\n    Thymeleaf\r\n\r\n    JPA\r\n\r\n    H2\r\n\r\n\r\nDatabaseLoader.java:\r\n\r\n    @Component\r\n    public class DatabaseLoader implements CommandLineRunner{\r\n        private final EmployeeRepository repository;\r\n    \r\n    \t@Autowired \r\n    \tpublic DatabaseLoader(EmployeeRepository repository) {\r\n    \t\tthis.repository = repository;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... strings) throws Exception {\r\n    \t\tthis.repository.save(new Employee(&quot;Frodo&quot;, &quot;Baggins&quot;, &quot;ring bearer&quot;));\r\n    \t}\r\n    }\r\n\r\n&quot;EmployeeRepository.java&quot;:\r\n\r\n        public interface EmployeeRepository extends CrudRepository&lt;Employee, Long&gt; { \r\n    \r\n    }\r\n\r\n&quot;Employee.java&quot;:\r\n\r\n        @Entity\r\n    public class Employee {\r\n    \r\n        private @Id @GeneratedValue Long id;\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    \tprivate String description;\r\n    \r\n    \tprivate Employee() {}\r\n    // and then getters, setters, equals, hashcode, toString... }\r\n","title":"How does Spring create links in JSON?","body":"<p>I wrote little bit of code and then Spring showed me this:</p>\n<pre><code>{\n\n  &quot;_links&quot; : {\n    &quot;employees&quot; : {\n      &quot;href&quot; : &quot;http://localhost:8080/api/employees&quot;\n    },\n    &quot;profile&quot; : {\n      &quot;href&quot; : &quot;http://localhost:8080/api/profile&quot;\n    }\n  }\n}\n</code></pre>\n<p>I didnt get how Spring define links like &quot;employees&quot; and &quot;profile&quot; (there is also profile/employees exist) cause I didnt write it anywhere. I only set <code>spring.data.rest.base-path=/api</code> in application.properties file.</p>\n<p>Here my code. I made only these changes. Dependencies are:</p>\n<pre><code>Rest Repositories\n\nThymeleaf\n\nJPA\n\nH2\n</code></pre>\n<p>DatabaseLoader.java:</p>\n<pre><code>@Component\npublic class DatabaseLoader implements CommandLineRunner{\n    private final EmployeeRepository repository;\n\n    @Autowired \n    public DatabaseLoader(EmployeeRepository repository) {\n        this.repository = repository;\n    }\n\n    @Override\n    public void run(String... strings) throws Exception {\n        this.repository.save(new Employee(&quot;Frodo&quot;, &quot;Baggins&quot;, &quot;ring bearer&quot;));\n    }\n}\n</code></pre>\n<p>&quot;EmployeeRepository.java&quot;:</p>\n<pre><code>    public interface EmployeeRepository extends CrudRepository&lt;Employee, Long&gt; { \n\n}\n</code></pre>\n<p>&quot;Employee.java&quot;:</p>\n<pre><code>    @Entity\npublic class Employee {\n\n    private @Id @GeneratedValue Long id;\n    private String firstName;\n    private String lastName;\n    private String description;\n\n    private Employee() {}\n// and then getters, setters, equals, hashcode, toString... }\n</code></pre>\n"},{"tags":["java","design-patterns","factory-pattern"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1641151142,"post_id":70557410,"comment_id":124728972,"body_markdown":"No, the pattern does not make sense, because of the way the generics work; trying to return a different type based on a string is a bad idea.  Honestly, your registry class doesn&#39;t really add any value over a HashMap directly.","body":"No, the pattern does not make sense, because of the way the generics work; trying to return a different type based on a string is a bad idea.  Honestly, your registry class doesn&#39;t really add any value over a HashMap directly."},{"owner":{"account_id":18229176,"reputation":111,"user_id":13268423,"display_name":"Alex"},"score":0,"creation_date":1641240713,"post_id":70557410,"comment_id":124750518,"body_markdown":"Thank you for your answer. I&#39;d really appreciate if you gave me some more advice. What i was actually planning to do, was to create some sort of MockUp-Database. We are working on a project with multiple microservices that depend on each other. In order to develop independently it&#39;d be helpful to just use some sample-objects that normally these microservices would return. So for example one service uses another that returns a person instance. \nThus, I created the MockUpRegistry that simply holds a few sample-instances of a certain entity. Can you suggest something more common for this?","body":"Thank you for your answer. I&#39;d really appreciate if you gave me some more advice. What i was actually planning to do, was to create some sort of MockUp-Database. We are working on a project with multiple microservices that depend on each other. In order to develop independently it&#39;d be helpful to just use some sample-objects that normally these microservices would return. So for example one service uses another that returns a person instance.  Thus, I created the MockUpRegistry that simply holds a few sample-instances of a certain entity. Can you suggest something more common for this?"}],"owner":{"account_id":18229176,"reputation":111,"user_id":13268423,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641138965,"creation_date":1641138543,"question_id":70557410,"body_markdown":"I am currently learning how to write &quot;better&quot; Code in Java using common patterns. What I am facing now is the following:\r\n\r\nI have several Entities such as Person, Company or City. I want to create Registries to store different instances of these entities in these registries. For this I created the following class:\r\n\r\n```\r\npublic class MockUpRegistry&lt;K, V&gt; implements IRegistry&lt;K, V&gt;{\r\n\r\n    HashMap&lt;K, V&gt; items = null;\r\n\r\n    public MockUpRegistry() {\r\n        items = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public void addMockUp(K key, V value) {\r\n        items.put(key, value);\r\n    }\r\n\r\n\r\n    public ArrayList&lt;V&gt; getAll() {\r\n        ArrayList&lt;V&gt; allEntries = new ArrayList&lt;&gt;();\r\n\r\n        for (V value : items.values()) {\r\n            allEntries.add(value);\r\n        };\r\n\r\n        return  allEntries;\r\n    }\r\n\r\n\r\n    public V getByKey(K key) {\r\n        return items.get(key);\r\n    }\r\n\r\n    public void removeByKey(K key) {\r\n        items.remove(key);\r\n    }\r\n}\r\n```\r\n\r\nIt is basically just a Skeleton to create a Registry depending on the entity type you want to store in this registry. Also, you can then use it via an interface to add, get and delete instances. For example I create a registry for Person like:\r\n\r\n```\r\nIRegistry personRegistry = new MockupRegistry&lt;Integer, Person&gt;();\r\n```\r\n\r\nWhat I was wondering now was if it makes sense to make use of the Factory Pattern to create the corresponding registry. I was thinking of something like that:\r\n\r\n```\r\npublic class RegistryFactory {\r\n\r\n    public static MockUpRegistry getMockUpRegistry(String entity) {\r\n        switch (entity) {\r\n            case &quot;Person&quot;:\r\n                return new MockUpRegistry&lt;Integer, Person&gt;();\r\n            case &quot;Company&quot;:\r\n                return new MockUpRegistry&lt;Integer, Company&gt;();\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nI got to know the Factory-Pattern in the context of inheritance so I am not sure if the pattern also makes sense in my example. \r\nI think that it is pretty easy to instantiate the different registries like that. What do you think? Can you think of any downsides/advantages of this?","title":"Use Factory Pattern with Generics","body":"<p>I am currently learning how to write &quot;better&quot; Code in Java using common patterns. What I am facing now is the following:</p>\n<p>I have several Entities such as Person, Company or City. I want to create Registries to store different instances of these entities in these registries. For this I created the following class:</p>\n<pre><code>public class MockUpRegistry&lt;K, V&gt; implements IRegistry&lt;K, V&gt;{\n\n    HashMap&lt;K, V&gt; items = null;\n\n    public MockUpRegistry() {\n        items = new HashMap&lt;&gt;();\n    }\n\n    public void addMockUp(K key, V value) {\n        items.put(key, value);\n    }\n\n\n    public ArrayList&lt;V&gt; getAll() {\n        ArrayList&lt;V&gt; allEntries = new ArrayList&lt;&gt;();\n\n        for (V value : items.values()) {\n            allEntries.add(value);\n        };\n\n        return  allEntries;\n    }\n\n\n    public V getByKey(K key) {\n        return items.get(key);\n    }\n\n    public void removeByKey(K key) {\n        items.remove(key);\n    }\n}\n</code></pre>\n<p>It is basically just a Skeleton to create a Registry depending on the entity type you want to store in this registry. Also, you can then use it via an interface to add, get and delete instances. For example I create a registry for Person like:</p>\n<pre><code>IRegistry personRegistry = new MockupRegistry&lt;Integer, Person&gt;();\n</code></pre>\n<p>What I was wondering now was if it makes sense to make use of the Factory Pattern to create the corresponding registry. I was thinking of something like that:</p>\n<pre><code>public class RegistryFactory {\n\n    public static MockUpRegistry getMockUpRegistry(String entity) {\n        switch (entity) {\n            case &quot;Person&quot;:\n                return new MockUpRegistry&lt;Integer, Person&gt;();\n            case &quot;Company&quot;:\n                return new MockUpRegistry&lt;Integer, Company&gt;();\n            default:\n                return null;\n        }\n    }\n\n}\n</code></pre>\n<p>I got to know the Factory-Pattern in the context of inheritance so I am not sure if the pattern also makes sense in my example.\nI think that it is pretty easy to instantiate the different registries like that. What do you think? Can you think of any downsides/advantages of this?</p>\n"},{"tags":["java","arrays","methods","size"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1641128977,"post_id":70556187,"comment_id":124723646,"body_markdown":"arr is not populated with any numbers. it contains all zeros. the condition `if (arr [i]==arr[j])` always evaluates to true","body":"arr is not populated with any numbers. it contains all zeros. the condition <code>if (arr [i]==arr[j])</code> always evaluates to true"},{"owner":{"account_id":21411474,"reputation":49,"user_id":15771588,"display_name":"mensure.ezeroglu"},"score":0,"creation_date":1641132656,"post_id":70556187,"comment_id":124724499,"body_markdown":"@SharonBenAsher  what should I do then?","body":"@SharonBenAsher  what should I do then?"}],"answers":[{"tags":[],"owner":{"account_id":18975310,"reputation":68,"user_id":13847924,"display_name":"Mohan k"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641131571,"creation_date":1641131571,"answer_id":70556535,"question_id":70556187,"body_markdown":"\r\n\r\n    public static void uniqueNumbers(int[] arr, int n) {\r\n            int slow = 1;\r\n            for (int fast = 1; fast &lt; n; fast++) {\r\n                if (arr[fast] != arr[slow - 1]) {\r\n                    arr[slow++] = arr[fast];\r\n                }\r\n            }\r\n            arr = Arrays.copyOf(arr, slow);\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                System.out.println(arr[i]);\r\n            }\r\n        }","title":"How to print only distinct integer values once even though they are repeated multiple times","body":"<pre><code>public static void uniqueNumbers(int[] arr, int n) {\n        int slow = 1;\n        for (int fast = 1; fast &lt; n; fast++) {\n            if (arr[fast] != arr[slow - 1]) {\n                arr[slow++] = arr[fast];\n            }\n        }\n        arr = Arrays.copyOf(arr, slow);\n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.println(arr[i]);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12670586,"reputation":28,"user_id":9208265,"display_name":"SumanthM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641134028,"creation_date":1641134028,"answer_id":70556822,"question_id":70556187,"body_markdown":"You need to fill the array,that is, you need to take input for the array elements.\r\n\r\n    public static void main(String[] args) {\r\n    Scanner sc =new Scanner(System.in);\r\n    int n =sc.nextInt();\r\n    int arr [] = new int [n];\r\n     //Add the following lines.\r\n    for (int i = 0; i &lt; n; i++) {\r\n        arr[i] = sc.nextInt();\r\n    }\r\n    uniqueNumbers(arr,n);\r\n    }\r\n\r\nPrint the array and try your logic again.","title":"How to print only distinct integer values once even though they are repeated multiple times","body":"<p>You need to fill the array,that is, you need to take input for the array elements.</p>\n<pre><code>public static void main(String[] args) {\nScanner sc =new Scanner(System.in);\nint n =sc.nextInt();\nint arr [] = new int [n];\n //Add the following lines.\nfor (int i = 0; i &lt; n; i++) {\n    arr[i] = sc.nextInt();\n}\nuniqueNumbers(arr,n);\n}\n</code></pre>\n<p>Print the array and try your logic again.</p>\n"},{"tags":[],"owner":{"account_id":12842085,"reputation":101,"user_id":9289813,"display_name":"Hassan Liasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641138869,"creation_date":1641136591,"answer_id":70557153,"question_id":70556187,"body_markdown":"you need to first request for the size of the array as shown below:\r\n\r\n``` java \r\n\r\n  public static void main (String[] args)\r\n    {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter array size&quot;);\r\n\r\n        int n =scan.nextInt();\r\n\r\n        // declaring and creating array objects\r\n        int[] arr = new int[n];\r\n\r\n        // displaying default values\r\n        System.out.println(&quot;Default values of array:&quot;);\r\n        for (int i=0; i &lt; arr.length; i++) {\r\n            System.out.print(arr[i]+&quot;\\t&quot;);\r\n        }\r\n\r\n        // initializing array\r\n        System.out.println(&quot;\\n\\n***Initializing Array***&quot;);\r\n        System.out.println(&quot;Enter &quot;+ arr.length\r\n                + &quot; integer values:&quot;);\r\n\r\n        for(int i=0; i &lt; arr.length; i++) {\r\n            // read input\r\n            arr[i] = scan.nextInt();\r\n        }\r\n\r\n\r\n        uniqueNumbers(arr, n);\r\n\r\n    }\r\n\r\n","title":"How to print only distinct integer values once even though they are repeated multiple times","body":"<p>you need to first request for the size of the array as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n  public static void main (String[] args)\n    {\n        Scanner scan = new Scanner(System.in);\n\n        System.out.println(&quot;Enter array size&quot;);\n\n        int n =scan.nextInt();\n\n        // declaring and creating array objects\n        int[] arr = new int[n];\n\n        // displaying default values\n        System.out.println(&quot;Default values of array:&quot;);\n        for (int i=0; i &lt; arr.length; i++) {\n            System.out.print(arr[i]+&quot;\\t&quot;);\n        }\n\n        // initializing array\n        System.out.println(&quot;\\n\\n***Initializing Array***&quot;);\n        System.out.println(&quot;Enter &quot;+ arr.length\n                + &quot; integer values:&quot;);\n\n        for(int i=0; i &lt; arr.length; i++) {\n            // read input\n            arr[i] = scan.nextInt();\n        }\n\n\n        uniqueNumbers(arr, n);\n\n    }\n\n</code></pre>\n"}],"owner":{"account_id":21411474,"reputation":49,"user_id":15771588,"display_name":"mensure.ezeroglu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70556822,"answer_count":3,"score":0,"last_activity_date":1641138869,"creation_date":1641128502,"question_id":70556187,"body_markdown":"   I am trying to print only distinct integer values once even though they are repeated multiple times in an array with the introduced order. Firstly, I need to take array size from user but I cannot determine how to initialize that variable.Can I use n -inclueded in the code- as an array size variable? When I compiled I doesn&#39;t print anything. Where are my mistakes, and how to deal with them? Any idea?\r\n\r\n    public static void uniqueNumbers(int arr[], int n)\r\n    \t{\r\n    \t\tfor (int i=0; i&lt;n; i++)\r\n    \t\t{\r\n    \t\t\tfor (int j =0; j&lt;i;j++)\r\n    \t\t\t{\r\n    \t\t\t\tif (arr [i]==arr[j])\r\n    \t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tif (i==j)\r\n\t\t\t\t\tSystem.out.print(arr[i] + &quot; &quot;);\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc =new Scanner(System.in);\r\n\t\tint n =sc.nextInt();\r\n\t\tint arr [] = new int [n];\r\n\t\tuniqueNumbers(arr,n);\r\n\r\n\t}\r\n\r\n}","title":"How to print only distinct integer values once even though they are repeated multiple times","body":"<p>I am trying to print only distinct integer values once even though they are repeated multiple times in an array with the introduced order. Firstly, I need to take array size from user but I cannot determine how to initialize that variable.Can I use n -inclueded in the code- as an array size variable? When I compiled I doesn't print anything. Where are my mistakes, and how to deal with them? Any idea?</p>\n<pre><code>public static void uniqueNumbers(int arr[], int n)\n    {\n        for (int i=0; i&lt;n; i++)\n        {\n            for (int j =0; j&lt;i;j++)\n            {\n                if (arr [i]==arr[j])\n                    break;\n            \n            if (i==j)\n                System.out.print(arr[i] + &quot; &quot;);\n                \n        }\n    }\n}\n\npublic static void main(String[] args) {\n    Scanner sc =new Scanner(System.in);\n    int n =sc.nextInt();\n    int arr [] = new int [n];\n    uniqueNumbers(arr,n);\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","amazon-web-services","amazon-iam"],"answers":[{"tags":[],"owner":{"account_id":16070366,"reputation":3584,"user_id":11598956,"display_name":"OARP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641138496,"creation_date":1641138496,"answer_id":70557402,"question_id":70553993,"body_markdown":"For Java SDK v2 you can use this code snippet:\r\n\r\n        Region region = Region.AWS_GLOBAL;\r\n\t\tAwsBasicCredentials awsCreds = AwsBasicCredentials.create(&quot;ACCESS_KEY&quot;, &quot;SECRET_ACCESS_KEY&quot;);\r\n\t\tStaticCredentialsProvider credentialsProvider = StaticCredentialsProvider.create(awsCreds);\r\n        \r\n\t\tIamClient iam = IamClient.builder()\r\n\t\t\t.credentialsProvider(credentialsProvider)\r\n            .region(region)\r\n            .build();\r\n\t\t\r\n\t\tListRolesResponse listRoles = iam.listRoles();\r\n\r\n\r\nTo take into consideration:\r\n\r\n - Set the Region as Region.AWS_GLOBAL. Otherwise, you will get an UnknownHostException\r\n - Make sure you are using Java SDK v2 as it is a major change from v1 and it does not work in that previous version\r\n\r\n","title":"Using Basic Credentials to make IamClient requests","body":"<p>For Java SDK v2 you can use this code snippet:</p>\n<pre><code>    Region region = Region.AWS_GLOBAL;\n    AwsBasicCredentials awsCreds = AwsBasicCredentials.create(&quot;ACCESS_KEY&quot;, &quot;SECRET_ACCESS_KEY&quot;);\n    StaticCredentialsProvider credentialsProvider = StaticCredentialsProvider.create(awsCreds);\n    \n    IamClient iam = IamClient.builder()\n        .credentialsProvider(credentialsProvider)\n        .region(region)\n        .build();\n    \n    ListRolesResponse listRoles = iam.listRoles();\n</code></pre>\n<p>To take into consideration:</p>\n<ul>\n<li>Set the Region as Region.AWS_GLOBAL. Otherwise, you will get an UnknownHostException</li>\n<li>Make sure you are using Java SDK v2 as it is a major change from v1 and it does not work in that previous version</li>\n</ul>\n"}],"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70557402,"answer_count":1,"score":0,"last_activity_date":1641138496,"creation_date":1641104135,"question_id":70553993,"body_markdown":"I am using BasicCredentials to `AmazonS3` requests using AWS Java SDK v2. I am trying to use the same approach to make `IAmClient` requests but not finding a way to do that. here is the code I am using for AmazonS3 requests:    \r\n\r\n            BasicAWSCredentials awsCreds = new BasicAWSCredentials(&quot;accesskey&quot;, &quot;secretey&quot;);\r\n\r\n\r\n        AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\r\n                .withCredentials(new AWSStaticCredentialsProvider(awsCreds))\r\n                .withRegion(Regions.US_EAST_2)\r\n                .build();\r\n\r\n`withCredentials` method is not available for `IAmClient`. `IAmClient` has a method `credentialsProvider` but it doesn&#39;t accept `BasicAWSCredentials`. Here is the code I tried for IAmClient:    \r\n    \r\n            BasicAWSCredentials awsCreds = new BasicAWSCredentials(&quot;accesskey&quot;, &quot;secretey&quot;);\r\n            IamClient iam = IamClient.builder().credentialsProvider(awsCreds)\r\n                .region(region)\r\n                .build();\r\n\r\nWhen I run it, it says :    \r\n&gt; /home/jamshaid/IdeaProjects/AWSTestS3/src/main/java/test/ListUsers.java:40: error: incompatible types: com.amazonaws.auth.BasicAWSCredentials cannot be converted to software.amazon.awssdk.auth.credentials.AwsCredentialsProvider\r\n\r\nI am not finding any relevant documentation as well. How am I supposed to use `BasicAWSCredentials` to make IAmClient requests? \r\n","title":"Using Basic Credentials to make IamClient requests","body":"<p>I am using BasicCredentials to <code>AmazonS3</code> requests using AWS Java SDK v2. I am trying to use the same approach to make <code>IAmClient</code> requests but not finding a way to do that. here is the code I am using for AmazonS3 requests:</p>\n<pre><code>        BasicAWSCredentials awsCreds = new BasicAWSCredentials(&quot;accesskey&quot;, &quot;secretey&quot;);\n\n\n    AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\n            .withCredentials(new AWSStaticCredentialsProvider(awsCreds))\n            .withRegion(Regions.US_EAST_2)\n            .build();\n</code></pre>\n<p><code>withCredentials</code> method is not available for <code>IAmClient</code>. <code>IAmClient</code> has a method <code>credentialsProvider</code> but it doesn't accept <code>BasicAWSCredentials</code>. Here is the code I tried for IAmClient:</p>\n<pre><code>        BasicAWSCredentials awsCreds = new BasicAWSCredentials(&quot;accesskey&quot;, &quot;secretey&quot;);\n        IamClient iam = IamClient.builder().credentialsProvider(awsCreds)\n            .region(region)\n            .build();\n</code></pre>\n<p>When I run it, it says :</p>\n<blockquote>\n<p>/home/jamshaid/IdeaProjects/AWSTestS3/src/main/java/test/ListUsers.java:40: error: incompatible types: com.amazonaws.auth.BasicAWSCredentials cannot be converted to software.amazon.awssdk.auth.credentials.AwsCredentialsProvider</p>\n</blockquote>\n<p>I am not finding any relevant documentation as well. How am I supposed to use <code>BasicAWSCredentials</code> to make IAmClient requests?</p>\n"},{"tags":["java","android","notifications","android-notifications","alarmmanager"],"answers":[{"tags":[],"owner":{"account_id":21144036,"reputation":186,"user_id":15545774,"display_name":"Chandresh Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641138255,"creation_date":1641138255,"answer_id":70557362,"question_id":70555802,"body_markdown":"This is the expected behavior since in your code, when you set the alarm, you have to give every PendingIntent unique requestCode which in your case remains the same, i.e., 0. So when you set another alarm with same requestCode, the last alarm gets updated to the new time instead of creating a new alarm. So only your last alarm works. So at the time of setting the alarm, in your `PendingIntent.getBroadcast()`, instead of the 0, you could use either the Random class to generate a random number every time or you could just use `(int)System.currentTimeMillis()` which would always be a different number.","title":"Android studio notifications","body":"<p>This is the expected behavior since in your code, when you set the alarm, you have to give every PendingIntent unique requestCode which in your case remains the same, i.e., 0. So when you set another alarm with same requestCode, the last alarm gets updated to the new time instead of creating a new alarm. So only your last alarm works. So at the time of setting the alarm, in your <code>PendingIntent.getBroadcast()</code>, instead of the 0, you could use either the Random class to generate a random number every time or you could just use <code>(int)System.currentTimeMillis()</code> which would always be a different number.</p>\n"}],"owner":{"account_id":20537009,"reputation":33,"user_id":15072853,"display_name":"duszyn_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70557362,"answer_count":1,"score":0,"last_activity_date":1641138255,"creation_date":1641125095,"question_id":70555802,"body_markdown":"I have a problem with notifications in my app. I want to set multiple notifications for different hours of the day. For example, let&#39;s take 8, 12 and 23 o&#39;clock. But only the one at 23 o&#39;clock triggers every day. What&#39;s wrong with my code and will it work even if the app is killed?\r\nHere&#39;s the code that sets alarms in my activity\r\n\r\n    public void myAlarm(int hour, int minute) {\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.set(Calendar.HOUR_OF_DAY, hour);\r\n        calendar.set(Calendar.MINUTE, minute);\r\n        calendar.set(Calendar.SECOND, 0);\r\n\r\n\r\n        Intent intent = new Intent(getApplicationContext(), Reminder.class);\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\r\n\r\n        if (alarmManager != null) {\r\n            alarmManager.setInexactRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntent);\r\n        }\r\n    }\r\n\r\nand this is what I wrote in onCreate\r\n\r\n            myAlarm(8, 0);\r\n            myAlarm(12, 0);\r\n            myAlarm(23, 0);\r\n\r\nthis is my receiver\r\n\r\n    public class Reminder extends BroadcastReceiver {\r\n\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        Intent in = new Intent(context, MySecoundActivity.class);\r\n        in.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, in, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;Reminder&quot;)\r\n                .setSmallIcon(R.drawable.bell)\r\n                .setContentTitle(&quot;Notification!&quot;)\r\n                .setContentText(&quot;Text of notification&quot;)\r\n                .setColor(0xfb3ff)\r\n                .setAutoCancel(true)\r\n                .setContentIntent(pendingIntent)\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH);\r\n\r\n\r\n        NotificationManagerCompat notificationMngr = NotificationManagerCompat.from(context);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            CharSequence name = &quot;Reminder&quot;;\r\n            String description = &quot;reminder channel&quot;;\r\n            int importance = NotificationManager.IMPORTANCE_HIGH;\r\n            NotificationChannel channel = new NotificationChannel(&quot;Reminder&quot;, name, importance);\r\n            channel.setDescription(description);\r\n            NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n            notificationManager.createNotificationChannel(channel);\r\n\r\n        }\r\n        notificationMngr.notify(200, builder.build());\r\n    }\r\n\r\n\r\nReceiver is in android manifest\r\n\r\n    &lt;receiver android:name=&quot;.Reminder&quot;/&gt;","title":"Android studio notifications","body":"<p>I have a problem with notifications in my app. I want to set multiple notifications for different hours of the day. For example, let's take 8, 12 and 23 o'clock. But only the one at 23 o'clock triggers every day. What's wrong with my code and will it work even if the app is killed?\nHere's the code that sets alarms in my activity</p>\n<pre><code>public void myAlarm(int hour, int minute) {\n\n    Calendar calendar = Calendar.getInstance();\n    calendar.set(Calendar.HOUR_OF_DAY, hour);\n    calendar.set(Calendar.MINUTE, minute);\n    calendar.set(Calendar.SECOND, 0);\n\n\n    Intent intent = new Intent(getApplicationContext(), Reminder.class);\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n    AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\n\n    if (alarmManager != null) {\n        alarmManager.setInexactRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntent);\n    }\n}\n</code></pre>\n<p>and this is what I wrote in onCreate</p>\n<pre><code>        myAlarm(8, 0);\n        myAlarm(12, 0);\n        myAlarm(23, 0);\n</code></pre>\n<p>this is my receiver</p>\n<pre><code>public class Reminder extends BroadcastReceiver {\n\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    Intent in = new Intent(context, MySecoundActivity.class);\n    in.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, in, PendingIntent.FLAG_UPDATE_CURRENT);\n\n    NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;Reminder&quot;)\n            .setSmallIcon(R.drawable.bell)\n            .setContentTitle(&quot;Notification!&quot;)\n            .setContentText(&quot;Text of notification&quot;)\n            .setColor(0xfb3ff)\n            .setAutoCancel(true)\n            .setContentIntent(pendingIntent)\n            .setPriority(NotificationCompat.PRIORITY_HIGH);\n\n\n    NotificationManagerCompat notificationMngr = NotificationManagerCompat.from(context);\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        CharSequence name = &quot;Reminder&quot;;\n        String description = &quot;reminder channel&quot;;\n        int importance = NotificationManager.IMPORTANCE_HIGH;\n        NotificationChannel channel = new NotificationChannel(&quot;Reminder&quot;, name, importance);\n        channel.setDescription(description);\n        NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n        notificationManager.createNotificationChannel(channel);\n\n    }\n    notificationMngr.notify(200, builder.build());\n}\n</code></pre>\n<p>Receiver is in android manifest</p>\n<pre><code>&lt;receiver android:name=&quot;.Reminder&quot;/&gt;\n</code></pre>\n"},{"tags":["java","javafx","increment"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":2,"creation_date":1641129728,"post_id":70555535,"comment_id":124723803,"body_markdown":"Do not create new AtomicLong whenever `save` is invoked. Make `AtomicLong identifier` a field and initialize it once.","body":"Do not create new AtomicLong whenever <code>save</code> is invoked. Make <code>AtomicLong identifier</code> a field and initialize it once."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641137725,"creation_date":1641136937,"answer_id":70557204,"question_id":70555535,"body_markdown":"Move this line:\r\n\r\n    final AtomicLong identifier = new AtomicLong(5);\r\n\r\n… higher up, outside the method, to be a member field on the class. \r\n\r\nIn your existing code, each call to that `save` method is creating a new `AtomicLong` to replace the previous one. So your counting cannot accumulate. \r\n\r\nProper naming can help clarify. That `AtomicLong` is not an “identifier”. It is an “identifierGenerator”. Each number returned by its `incrementAndGet` method is the “identifier”.","title":"JavaFX - Auto increment ID","body":"<p>Move this line:</p>\n<pre><code>final AtomicLong identifier = new AtomicLong(5);\n</code></pre>\n<p>… higher up, outside the method, to be a member field on the class.</p>\n<p>In your existing code, each call to that <code>save</code> method is creating a new <code>AtomicLong</code> to replace the previous one. So your counting cannot accumulate.</p>\n<p>Proper naming can help clarify. That <code>AtomicLong</code> is not an “identifier”. It is an “identifierGenerator”. Each number returned by its <code>incrementAndGet</code> method is the “identifier”.</p>\n"}],"owner":{"account_id":23256932,"reputation":99,"user_id":17343844,"display_name":"JurajC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641137725,"creation_date":1641122473,"question_id":70555535,"body_markdown":"This is what I have\r\n```\r\npublic class AddNewCategoryController implements Initializable {\r\n\r\n    @FXML\r\n    private TextField name;\r\n\r\n    @FXML\r\n    private TextField description;\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n    }\r\n\r\n    public void save(){\r\n        final AtomicLong identifier = new AtomicLong(5);\r\n        Long id = identifier.incrementAndGet();\r\n        String catgoryName = name.getText();\r\n        String categoryDescription = description.getText();\r\n\r\n        Category category = new Category(id,catgoryName,categoryDescription);\r\n\r\n        ReadingDataFromFiles.writeCategory(category);\r\n\r\n    }\r\n}\r\n```\r\n\r\nWhen the programs runs there&#39;s a screen to add a new category and the user has to write category&#39;s name and description but ID should be automatic and should be increased every time the user enters a new Category. The way I&#39;ve done it doesn&#39;t work as intended, it&#39;s increased only once but since initial value stays 5 it&#39;s always 6.","title":"JavaFX - Auto increment ID","body":"<p>This is what I have</p>\n<pre><code>public class AddNewCategoryController implements Initializable {\n\n    @FXML\n    private TextField name;\n\n    @FXML\n    private TextField description;\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n    }\n\n    public void save(){\n        final AtomicLong identifier = new AtomicLong(5);\n        Long id = identifier.incrementAndGet();\n        String catgoryName = name.getText();\n        String categoryDescription = description.getText();\n\n        Category category = new Category(id,catgoryName,categoryDescription);\n\n        ReadingDataFromFiles.writeCategory(category);\n\n    }\n}\n</code></pre>\n<p>When the programs runs there's a screen to add a new category and the user has to write category's name and description but ID should be automatic and should be increased every time the user enters a new Category. The way I've done it doesn't work as intended, it's increased only once but since initial value stays 5 it's always 6.</p>\n"},{"tags":["java","arrays","loops","time-complexity"],"comments":[{"owner":{"account_id":19263900,"reputation":72,"user_id":14079212,"display_name":"Gresta"},"score":0,"creation_date":1641133256,"post_id":70556698,"comment_id":124724661,"body_markdown":"if given array is sorted for sure, you can try binary search for better complexity. And for the duplicates  you can check for most right or most left. [This might help](https://www.geeksforgeeks.org/binary-search/)","body":"if given array is sorted for sure, you can try binary search for better complexity. And for the duplicates  you can check for most right or most left. <a href=\"https://www.geeksforgeeks.org/binary-search/\" rel=\"nofollow noreferrer\">This might help</a>"},{"owner":{"account_id":18531090,"reputation":27,"user_id":13501846,"display_name":"Sigma9"},"score":0,"creation_date":1641133427,"post_id":70556698,"comment_id":124724696,"body_markdown":"what should i add to the code to check most left/right? and btw the array is not necessarily sorted","body":"what should i add to the code to check most left/right? and btw the array is not necessarily sorted"},{"owner":{"account_id":19263900,"reputation":72,"user_id":14079212,"display_name":"Gresta"},"score":0,"creation_date":1641133613,"post_id":70556698,"comment_id":124724738,"body_markdown":"If it is sorted array like `1, 2, 3, 3, 4, 5, 6, 6` and you get  input as `3` and `6`, You need to find most right 3 and most left 6 because you know 6 is bigger than 3 so it has to be on right. To find most right, just go 1 by 1 or do binary search until you dont get 3. If the array is not sorted, this maybe not works.","body":"If it is sorted array like <code>1, 2, 3, 3, 4, 5, 6, 6</code> and you get  input as <code>3</code> and <code>6</code>, You need to find most right 3 and most left 6 because you know 6 is bigger than 3 so it has to be on right. To find most right, just go 1 by 1 or do binary search until you dont get 3. If the array is not sorted, this maybe not works."},{"owner":{"account_id":19263900,"reputation":72,"user_id":14079212,"display_name":"Gresta"},"score":0,"creation_date":1641133906,"post_id":70556698,"comment_id":124724799,"body_markdown":"If array is not sorted and  you need min distance(you did not say what kind of distance you need) you can check 1 by 1 as i said before and for each `3` you find the nearest `6` distance. After eaching each `3` save the sortest  distance and return it.","body":"If array is not sorted and  you need min distance(you did not say what kind of distance you need) you can check 1 by 1 as i said before and for each <code>3</code> you find the nearest <code>6</code> distance. After eaching each <code>3</code> save the sortest  distance and return it."}],"answers":[{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641135934,"creation_date":1641135620,"answer_id":70557026,"question_id":70556698,"body_markdown":"If there are duplicate values in the array your algorithm does not work because it always remembers only the right-most x and y values that it encounters in the array and only calculates the distance between them in the end.\r\n\r\nEven if the array is not sorted, you can still meet the O(n) requirement, by tracking 3 variables as you traverse the array:\r\n 1. the last encountered x index,\r\n 2. the last encountered y index\r\n 3. the shortest distance so far\r\n \r\nEvery time you encounter either an x value or and y value, update all 3 variables that you are tracking. Which means that you would calculate the distance of the newly found pair and compare it to the current shortest distance. If it is shorter, save it, otherwise ignore it.\r\n\r\nSince the distance calculation and updating the values takes constant time, you still end with a O(n) time complexity when the end of the array is reached and the shortest distance variable will contain the shortest distance.\r\n\r\nThe key place in you algorithm would be here\r\n```\r\n        if(a[i]==x)\r\n        {\r\n            curr = i;\r\n            // here if you found a complete pair, calculate the\r\n            // distance and, if it is less than the current shortest\r\n            // distance, update the shortest distance variable\r\n        }\r\n        else if(a[i] == y){\r\n            next = i;\r\n            // here if you found a complete pair, calculate the\r\n            // distance and, if it is less than the current shortest\r\n            // distance, update the shortest distance variable\r\n        }\r\n```\r\nAlso remove the old distance calculation `min_dist = Math.abs(curr - next);`","title":"Finding min distance between elements in an array","body":"<p>If there are duplicate values in the array your algorithm does not work because it always remembers only the right-most x and y values that it encounters in the array and only calculates the distance between them in the end.</p>\n<p>Even if the array is not sorted, you can still meet the O(n) requirement, by tracking 3 variables as you traverse the array:</p>\n<ol>\n<li>the last encountered x index,</li>\n<li>the last encountered y index</li>\n<li>the shortest distance so far</li>\n</ol>\n<p>Every time you encounter either an x value or and y value, update all 3 variables that you are tracking. Which means that you would calculate the distance of the newly found pair and compare it to the current shortest distance. If it is shorter, save it, otherwise ignore it.</p>\n<p>Since the distance calculation and updating the values takes constant time, you still end with a O(n) time complexity when the end of the array is reached and the shortest distance variable will contain the shortest distance.</p>\n<p>The key place in you algorithm would be here</p>\n<pre><code>        if(a[i]==x)\n        {\n            curr = i;\n            // here if you found a complete pair, calculate the\n            // distance and, if it is less than the current shortest\n            // distance, update the shortest distance variable\n        }\n        else if(a[i] == y){\n            next = i;\n            // here if you found a complete pair, calculate the\n            // distance and, if it is less than the current shortest\n            // distance, update the shortest distance variable\n        }\n</code></pre>\n<p>Also remove the old distance calculation <code>min_dist = Math.abs(curr - next);</code></p>\n"},{"tags":[],"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641135755,"creation_date":1641135755,"answer_id":70557042,"question_id":70556698,"body_markdown":"    public static int findMinDiff(int [] a, int x, int y) {\r\n        //previous index and min distance\r\n        int next = -1,curr = -1, min_dist = Integer.MAX_VALUE;\r\n\r\n        for(int i=0 ; i&lt;a.length ; i++)\r\n        {\r\n            if(a[i]==x)\r\n            {\r\n                curr = i;\r\n                if(next != -1) {\r\n                    min_dist = Math.min(min_dist, Math.abs(curr-next));\r\n                }\r\n            }\r\n            else if(a[i] == y){\r\n                next = i;\r\n                if(curr != -1){\r\n                    min_dist = Math.min(min_dist, Math.abs(curr-next));\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        if(min_dist==Integer.MAX_VALUE)\r\n            return -1;\r\n\r\n        return min_dist;\r\n    }\r\n\r\nThis might help.","title":"Finding min distance between elements in an array","body":"<pre><code>public static int findMinDiff(int [] a, int x, int y) {\n    //previous index and min distance\n    int next = -1,curr = -1, min_dist = Integer.MAX_VALUE;\n\n    for(int i=0 ; i&lt;a.length ; i++)\n    {\n        if(a[i]==x)\n        {\n            curr = i;\n            if(next != -1) {\n                min_dist = Math.min(min_dist, Math.abs(curr-next));\n            }\n        }\n        else if(a[i] == y){\n            next = i;\n            if(curr != -1){\n                min_dist = Math.min(min_dist, Math.abs(curr-next));\n            }\n        }\n\n    }\n\n    if(min_dist==Integer.MAX_VALUE)\n        return -1;\n\n    return min_dist;\n}\n</code></pre>\n<p>This might help.</p>\n"}],"owner":{"account_id":18531090,"reputation":27,"user_id":13501846,"display_name":"Sigma9"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3202,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1641222955,"answer_count":2,"score":0,"last_activity_date":1641135934,"creation_date":1641132921,"question_id":70556698,"body_markdown":"I&#39;m trying to find the minimum distance between 2 given elements of an array.\r\nfor example, in the following array {1,2,3,4,5,6,7} the distance between elements 3,7 is 4.\r\nI&#39;ve written a code that successfully calculates that distance, but if there are duplicates, it doesn&#39;t work. \r\nBelow is what I&#39;ve written so far. What am I missing? should I add any conditions?\r\nAlso, it should be done at a complexity no greater than O(n).\r\n\r\n```java\r\npublic static int findMinDiff(int [] a, int x, int y) {\r\n             \r\n    //previous index and min distance\r\n    int next = 0,curr = 0, min_dist = Integer.MAX_VALUE;\r\n         \r\n    for(int i=0 ; i&lt;a.length ; i++)\r\n    {\r\n        if(a[i]==x)\r\n        {\r\n            curr = i; \r\n        }\r\n        else if(a[i] == y){\r\n            next = i;\r\n        }\r\n            \r\n    }\r\n    \r\n    min_dist = Math.abs(curr - next);\r\n    if(min_dist==Integer.MAX_VALUE)\r\n        return -1;\r\n     \r\n    return min_dist;\r\n}\r\n```\r\n","title":"Finding min distance between elements in an array","body":"<p>I'm trying to find the minimum distance between 2 given elements of an array.\nfor example, in the following array {1,2,3,4,5,6,7} the distance between elements 3,7 is 4.\nI've written a code that successfully calculates that distance, but if there are duplicates, it doesn't work.\nBelow is what I've written so far. What am I missing? should I add any conditions?\nAlso, it should be done at a complexity no greater than O(n).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int findMinDiff(int [] a, int x, int y) {\n             \n    //previous index and min distance\n    int next = 0,curr = 0, min_dist = Integer.MAX_VALUE;\n         \n    for(int i=0 ; i&lt;a.length ; i++)\n    {\n        if(a[i]==x)\n        {\n            curr = i; \n        }\n        else if(a[i] == y){\n            next = i;\n        }\n            \n    }\n    \n    min_dist = Math.abs(curr - next);\n    if(min_dist==Integer.MAX_VALUE)\n        return -1;\n     \n    return min_dist;\n}\n</code></pre>\n"},{"tags":["java","json","gson","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1641132935,"post_id":70556207,"comment_id":124724568,"body_markdown":"I would recommend to use a proper database like SQLite instead of a json file.","body":"I would recommend to use a proper database like SQLite instead of a json file."}],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641135739,"creation_date":1641135739,"answer_id":70557040,"question_id":70556207,"body_markdown":"You are using `entrie.toString()` which gives you the string that is used for console output. You should be using `entrie.getAsString()` instead.\r\n\r\nFurthermore, you are also using a lot of deprecated things with `JsonParser` which should be replaced. `new JsonParser().parse(...)` should be replaced by `JsonParser.parseReader(...)`.\r\n\r\nAbove all that, it is highly recommended using a database for this kind of task. Something such as SQLite or Redis would be much better at handling concurrent changes and redundancy. Or at least, you should use a try-with-resources for your reader.\r\n\r\n```java\r\ntry (Reader reader = ...) {\r\n  JsonElement json = JsonParser.parseReader(reader).getAsJsonObject();\r\n  ...\r\n}\r\n```","title":"Updating Json file when String ist not present in list","body":"<p>You are using <code>entrie.toString()</code> which gives you the string that is used for console output. You should be using <code>entrie.getAsString()</code> instead.</p>\n<p>Furthermore, you are also using a lot of deprecated things with <code>JsonParser</code> which should be replaced. <code>new JsonParser().parse(...)</code> should be replaced by <code>JsonParser.parseReader(...)</code>.</p>\n<p>Above all that, it is highly recommended using a database for this kind of task. Something such as SQLite or Redis would be much better at handling concurrent changes and redundancy. Or at least, you should use a try-with-resources for your reader.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Reader reader = ...) {\n  JsonElement json = JsonParser.parseReader(reader).getAsJsonObject();\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":20941623,"reputation":31,"user_id":15385543,"display_name":"Jonathan Schuder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70557040,"answer_count":1,"score":0,"last_activity_date":1641135739,"creation_date":1641128681,"question_id":70556207,"body_markdown":"I am coding a Discord Giveaway Bot with Java. I am saving all the details of the Giveaway to a JSON file. Now I want to read the entries list and if the Users ID is not in the list I want to add it and save the file.\r\n\r\nHere is the Giveaway Class:\r\n\r\n    public class Giveaway {\r\n    \r\n        private String prize;\r\n        private long time;\r\n        private Integer winners;\r\n        private List&lt;String&gt; entries;\r\n    \r\n        public Giveaway(String prize, Integer winners, long time, List&lt;String&gt; entries) {\r\n            this.prize = prize;\r\n            this.winners = winners;\r\n            this.time = time;\r\n            this.entries = entries;\r\n        }\r\n    \r\n        public  Giveaway() {}\r\n    \r\n        public String getPrize() {\r\n            return prize;\r\n        }\r\n    \r\n        public void setPrize(String prize) {\r\n            this.prize = prize;\r\n        }\r\n    \r\n        public long getTime() {\r\n            return time;\r\n        }\r\n    \r\n        public void setTime(long time) {\r\n            this.time = time;\r\n        }\r\n    \r\n        public Integer getWinners() {\r\n            return winners;\r\n        }\r\n    \r\n        public void setWinners(Integer winners) {\r\n            this.winners = winners;\r\n        }\r\n    \r\n        public List&lt;String&gt; getEntries() {\r\n            return entries;\r\n        }\r\n    \r\n        public void setEntries(List&lt;String&gt; entries) {\r\n            this.entries = entries;\r\n        }\r\n    \r\n    }\r\n\r\nWhen the GW is created the JSON looks like this:\r\n\r\n    {\r\n      &quot;prize&quot;: &quot;Discord Nitro&quot;,\r\n      &quot;time&quot;: 1641732935,\r\n      &quot;winners&quot;: 2,\r\n      &quot;entries&quot;: []\r\n    }\r\nThen when the user clicks a button it should read the list look if the ID is in the list and if not add the id. But when I save the list the whole JSON file changes.\r\n\r\nHow I read it out and save it:\r\n\r\n    public class ButtonClick extends ListenerAdapter {\r\n    \r\n        private static Reader reader;\r\n    \r\n        private static Giveaway giveaway = new Giveaway();\r\n    \r\n        public void onButtonClick(ButtonClickEvent event) {\r\n            event.deferEdit().queue();\r\n            try {\r\n                reader = Files.newBufferedReader(Path.of(GiveawayStats.getGiveawayStats().getAbsolutePath()));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            if (event.getButton().getId().equals(&quot;gwEnter&quot;)) {\r\n                JsonParser parser = new JsonParser();\r\n                JsonObject obj = parser.parse(reader).getAsJsonObject();\r\n                JsonArray jsonEntries = obj.get(&quot;entries&quot;).getAsJsonArray();\r\n                long time = obj.get(&quot;time&quot;).getAsLong();\r\n    \r\n                List&lt;String&gt; entries = new ArrayList&lt;&gt;();\r\n    \r\n                for (JsonElement entrie : jsonEntries) {\r\n                    entries.add(entrie.toString());\r\n                }\r\n    \r\n                if (entries.contains(event.getMember().getId())) {\r\n                    event.getChannel().sendMessage(&quot;Already in!&quot;).queue();\r\n                } else {\r\n                    entries.add(event.getUser().getId().strip());\r\n                    printToJson(entries);\r\n                }\r\n            }\r\n    \r\n            try {\r\n                reader.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private static void printToJson(List&lt;String&gt; entries) {\r\n            GsonBuilder gsonBuilder = new GsonBuilder();\r\n            gsonBuilder.setVersion(2.0);\r\n            Gson gson = gsonBuilder.setPrettyPrinting().create();\r\n    \r\n            giveaway.setEntries(entries);\r\n    \r\n            try (Writer writer = new FileWriter(GiveawayStats.getGiveawayStats().getPath())) {\r\n                gson.toJson(giveaway, writer);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nAfter the print so JSON the file looks like this:\r\n\r\n    {\r\n      &quot;time&quot;: 0,\r\n      &quot;entries&quot;: [\r\n        &quot;695629580014321747&quot;\r\n      ]\r\n    }\r\n\r\nAnd when I click the Button again it looks like this:\r\n\r\n    {\r\n      &quot;time&quot;: 0,\r\n      &quot;entries&quot;: [\r\n        &quot;\\&quot;695629580014321747\\&quot;&quot;,\r\n        &quot;695629580014321747&quot;\r\n      ]\r\n    }\r\n\r\nSo why is my IF condition not working?","title":"Updating Json file when String ist not present in list","body":"<p>I am coding a Discord Giveaway Bot with Java. I am saving all the details of the Giveaway to a JSON file. Now I want to read the entries list and if the Users ID is not in the list I want to add it and save the file.</p>\n<p>Here is the Giveaway Class:</p>\n<pre><code>public class Giveaway {\n\n    private String prize;\n    private long time;\n    private Integer winners;\n    private List&lt;String&gt; entries;\n\n    public Giveaway(String prize, Integer winners, long time, List&lt;String&gt; entries) {\n        this.prize = prize;\n        this.winners = winners;\n        this.time = time;\n        this.entries = entries;\n    }\n\n    public  Giveaway() {}\n\n    public String getPrize() {\n        return prize;\n    }\n\n    public void setPrize(String prize) {\n        this.prize = prize;\n    }\n\n    public long getTime() {\n        return time;\n    }\n\n    public void setTime(long time) {\n        this.time = time;\n    }\n\n    public Integer getWinners() {\n        return winners;\n    }\n\n    public void setWinners(Integer winners) {\n        this.winners = winners;\n    }\n\n    public List&lt;String&gt; getEntries() {\n        return entries;\n    }\n\n    public void setEntries(List&lt;String&gt; entries) {\n        this.entries = entries;\n    }\n\n}\n</code></pre>\n<p>When the GW is created the JSON looks like this:</p>\n<pre><code>{\n  &quot;prize&quot;: &quot;Discord Nitro&quot;,\n  &quot;time&quot;: 1641732935,\n  &quot;winners&quot;: 2,\n  &quot;entries&quot;: []\n}\n</code></pre>\n<p>Then when the user clicks a button it should read the list look if the ID is in the list and if not add the id. But when I save the list the whole JSON file changes.</p>\n<p>How I read it out and save it:</p>\n<pre><code>public class ButtonClick extends ListenerAdapter {\n\n    private static Reader reader;\n\n    private static Giveaway giveaway = new Giveaway();\n\n    public void onButtonClick(ButtonClickEvent event) {\n        event.deferEdit().queue();\n        try {\n            reader = Files.newBufferedReader(Path.of(GiveawayStats.getGiveawayStats().getAbsolutePath()));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        if (event.getButton().getId().equals(&quot;gwEnter&quot;)) {\n            JsonParser parser = new JsonParser();\n            JsonObject obj = parser.parse(reader).getAsJsonObject();\n            JsonArray jsonEntries = obj.get(&quot;entries&quot;).getAsJsonArray();\n            long time = obj.get(&quot;time&quot;).getAsLong();\n\n            List&lt;String&gt; entries = new ArrayList&lt;&gt;();\n\n            for (JsonElement entrie : jsonEntries) {\n                entries.add(entrie.toString());\n            }\n\n            if (entries.contains(event.getMember().getId())) {\n                event.getChannel().sendMessage(&quot;Already in!&quot;).queue();\n            } else {\n                entries.add(event.getUser().getId().strip());\n                printToJson(entries);\n            }\n        }\n\n        try {\n            reader.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void printToJson(List&lt;String&gt; entries) {\n        GsonBuilder gsonBuilder = new GsonBuilder();\n        gsonBuilder.setVersion(2.0);\n        Gson gson = gsonBuilder.setPrettyPrinting().create();\n\n        giveaway.setEntries(entries);\n\n        try (Writer writer = new FileWriter(GiveawayStats.getGiveawayStats().getPath())) {\n            gson.toJson(giveaway, writer);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>After the print so JSON the file looks like this:</p>\n<pre><code>{\n  &quot;time&quot;: 0,\n  &quot;entries&quot;: [\n    &quot;695629580014321747&quot;\n  ]\n}\n</code></pre>\n<p>And when I click the Button again it looks like this:</p>\n<pre><code>{\n  &quot;time&quot;: 0,\n  &quot;entries&quot;: [\n    &quot;\\&quot;695629580014321747\\&quot;&quot;,\n    &quot;695629580014321747&quot;\n  ]\n}\n</code></pre>\n<p>So why is my IF condition not working?</p>\n"},{"tags":["java","multithreading","runnable"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1641087469,"post_id":70552488,"comment_id":124718370,"body_markdown":"run() only runs on a separate thread if you write code to do so.  run() can  be and often is called on the same thread.  It&#39;s not magic, it&#39;s just a method.","body":"run() only runs on a separate thread if you write code to do so.  run() can  be and often is called on the same thread.  It&#39;s not magic, it&#39;s just a method."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641079646,"creation_date":1641079646,"answer_id":70552602,"question_id":70552488,"body_markdown":"There&#39;s no additional magic in `Runnable`. A `Thread` takes a `Runnable` and calls its `run` method on a new thread. End of story. Any other methods on that object are none of `Thread`&#39;s business. If you want to provide tighter integration between the calling thread and the created thread, that&#39;s on you to design.","title":"All methods in runnable class run on a seperate thread or only run() method? Java","body":"<p>There's no additional magic in <code>Runnable</code>. A <code>Thread</code> takes a <code>Runnable</code> and calls its <code>run</code> method on a new thread. End of story. Any other methods on that object are none of <code>Thread</code>'s business. If you want to provide tighter integration between the calling thread and the created thread, that's on you to design.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641134538,"creation_date":1641083068,"answer_id":70552830,"question_id":70552488,"body_markdown":"What [Silvio Mayolo says](https://stackoverflow.com/a/70552602/642706) is correct, any thread can call any method of an object, passing a Runnable to a thread&#39;s constructor tells the thread to execute that Runnable&#39;s run method. If you want you can pass the same object implementing Runnable to several new threads and let them all run it. No magic here. \r\n\r\nWhen you call `Thread.currentThread()`, that returns the thread that is executing the code. So as your posted code works now, if 1) a thread A starts a new thread B passing in this Runnable, and next 2) thread A calls shutdown on the Runnable, the result is that the interrupt flag is set on thread A, not on the thread B, the one executing the run method. Probably not what you want. It would be better to keep a reference to the new thread, and call interrupt on that. \r\n\r\nEach thread gets a name generated for it. Try adding some lines like:\r\n\r\n    System.out.println(&quot;thread=&quot; + Thread.currentThread().getName());\r\n\r\n in your code and it will show you which thread is executing. You will see the new thread executing the run method, and the thread that created the new thread running the shutdown method. \r\n\r\n\r\n","title":"All methods in runnable class run on a seperate thread or only run() method? Java","body":"<p>What <a href=\"https://stackoverflow.com/a/70552602/642706\">Silvio Mayolo says</a> is correct, any thread can call any method of an object, passing a Runnable to a thread's constructor tells the thread to execute that Runnable's run method. If you want you can pass the same object implementing Runnable to several new threads and let them all run it. No magic here.</p>\n<p>When you call <code>Thread.currentThread()</code>, that returns the thread that is executing the code. So as your posted code works now, if 1) a thread A starts a new thread B passing in this Runnable, and next 2) thread A calls shutdown on the Runnable, the result is that the interrupt flag is set on thread A, not on the thread B, the one executing the run method. Probably not what you want. It would be better to keep a reference to the new thread, and call interrupt on that.</p>\n<p>Each thread gets a name generated for it. Try adding some lines like:</p>\n<pre><code>System.out.println(&quot;thread=&quot; + Thread.currentThread().getName());\n</code></pre>\n<p>in your code and it will show you which thread is executing. You will see the new thread executing the run method, and the thread that created the new thread running the shutdown method.</p>\n"}],"owner":{"account_id":23801838,"reputation":27,"user_id":17811921,"display_name":"Moshe W"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641134538,"creation_date":1641078041,"question_id":70552488,"body_markdown":"Let&#39;s say I have a runnable class with two methods:\r\n\r\n```\r\nclass ExampleClass implements Runnable { \r\n\r\npublic void shutdown()\r\n{\r\ncurrentThread().interrupt();\r\n}\r\n \r\npublic void run(){\r\nwhile(!currentThread().isInterrupted()){  \r\nSystem.out.println(&quot;thread is running...&quot;);  \r\n}\r\n\r\n}\r\n```\r\n\r\nAnd I go and implement the class somewhere like so and pass it to a thread:\r\n\r\n```\r\nExampleClass object = new ExampleClass();\r\nThread sideThread = new Thread( object, &quot;Side Thread&quot;);\r\nthread.start();\r\nobject.shutdown();\r\n```\r\nWill all this *object* and all its methods be running on sideThread or is just the run() method of object on the side thread? \r\n\r\ni.e. When I call shutdown() will it actually interrupt the sideThread or will it just interrupt on the main thread where the object is instantiated? ","title":"All methods in runnable class run on a seperate thread or only run() method? Java","body":"<p>Let's say I have a runnable class with two methods:</p>\n<pre><code>class ExampleClass implements Runnable { \n\npublic void shutdown()\n{\ncurrentThread().interrupt();\n}\n \npublic void run(){\nwhile(!currentThread().isInterrupted()){  \nSystem.out.println(&quot;thread is running...&quot;);  \n}\n\n}\n</code></pre>\n<p>And I go and implement the class somewhere like so and pass it to a thread:</p>\n<pre><code>ExampleClass object = new ExampleClass();\nThread sideThread = new Thread( object, &quot;Side Thread&quot;);\nthread.start();\nobject.shutdown();\n</code></pre>\n<p>Will all this <em>object</em> and all its methods be running on sideThread or is just the run() method of object on the side thread?</p>\n<p>i.e. When I call shutdown() will it actually interrupt the sideThread or will it just interrupt on the main thread where the object is instantiated?</p>\n"},{"tags":["java","spring-boot","quartz-scheduler","multi-tenant","quartz"],"answers":[{"tags":[],"owner":{"account_id":259205,"reputation":7667,"user_id":541917,"accept_rate":67,"display_name":"Saravanan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641134437,"creation_date":1641134107,"answer_id":70556834,"question_id":70277589,"body_markdown":"Did you explore on the use of the `Custom ConnectionProvider Implementations` in Quartz, wherein, we can provide a custom connection provider that can look up the database of your application to identify the tenant specific connection string and then return to Quartz to be used. \r\n\r\nThis will allow you to use multiple connections based on some tenancy data.\r\n\r\nMore [here][1]\r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/configuration.html#configuration-of-jdbc-jobstoretx-store-jobs-and-triggers-in-a-database-via-jdbc","title":"Multi Tenancy Quartz Scheduler","body":"<p>Did you explore on the use of the <code>Custom ConnectionProvider Implementations</code> in Quartz, wherein, we can provide a custom connection provider that can look up the database of your application to identify the tenant specific connection string and then return to Quartz to be used.</p>\n<p>This will allow you to use multiple connections based on some tenancy data.</p>\n<p>More <a href=\"http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/configuration.html#configuration-of-jdbc-jobstoretx-store-jobs-and-triggers-in-a-database-via-jdbc\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":5510946,"reputation":163,"user_id":4377228,"display_name":"Suman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641134437,"creation_date":1638977466,"question_id":70277589,"body_markdown":"I have a backend spring boot application that has a quartz scheduler with multiple job triggers working all good but now we got a new client who wants the exact same solution so in order to support this we choose multi-tenancy by SEPERATE SCHEMA approach so each client/tenant will now have his own schema but I am not sure on how do we have quartz running in each schema individually.\r\n\r\nAny help is greatly appreciated.   ","title":"Multi Tenancy Quartz Scheduler","body":"<p>I have a backend spring boot application that has a quartz scheduler with multiple job triggers working all good but now we got a new client who wants the exact same solution so in order to support this we choose multi-tenancy by SEPERATE SCHEMA approach so each client/tenant will now have his own schema but I am not sure on how do we have quartz running in each schema individually.</p>\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["java","spring","mongodb","rest","spring-boot"],"comments":[{"owner":{"account_id":298276,"reputation":4624,"user_id":604218,"display_name":"Roberto"},"score":2,"creation_date":1467149889,"post_id":30970717,"comment_id":63609684,"body_markdown":"I solved the issue using this solution http://stackoverflow.com/a/30372930/604218","body":"I solved the issue using this solution <a href=\"http://stackoverflow.com/a/30372930/604218\">stackoverflow.com/a/30372930/604218</a>"}],"answers":[{"tags":[],"owner":{"account_id":1612785,"reputation":2294,"user_id":1491283,"accept_rate":46,"display_name":"ArunM"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1434999515,"creation_date":1434950285,"answer_id":30972532,"question_id":30970717,"body_markdown":"The problem for you seems to be that both mongo and jackson are behaving as expected. Mongo does not persist the data and jackson ignores the property since it is marked as transient. I managed to get this working by &#39;tricking&#39; jackson to ignore the transient field and then annotating the getter method with `@JsonProperty`. Here is my sample bean.\r\n\r\n        @Entity\r\n        public class User {\r\n        \r\n        @Id\r\n        private Integer id;\r\n        @Column\r\n        private String username;\r\n        \r\n        @JsonIgnore\r\n        @Transient\r\n        private String password;\r\n        \r\n        @JsonProperty(&quot;password&quot;)\r\n        public String getPassword() {\r\n        \treturn // your logic here;\r\n        }\r\n    }\r\n\r\nThis is more of a work around than a proper solution so I am not sure if this will introduce any side effects for you.","title":"Specify field is transient for MongoDB but not for RestController","body":"<p>The problem for you seems to be that both mongo and jackson are behaving as expected. Mongo does not persist the data and jackson ignores the property since it is marked as transient. I managed to get this working by 'tricking' jackson to ignore the transient field and then annotating the getter method with <code>@JsonProperty</code>. Here is my sample bean.</p>\n\n<pre><code>    @Entity\n    public class User {\n\n    @Id\n    private Integer id;\n    @Column\n    private String username;\n\n    @JsonIgnore\n    @Transient\n    private String password;\n\n    @JsonProperty(\"password\")\n    public String getPassword() {\n        return // your logic here;\n    }\n}\n</code></pre>\n\n<p>This is more of a work around than a proper solution so I am not sure if this will introduce any side effects for you.</p>\n"},{"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1435004705,"creation_date":1435004705,"answer_id":30989172,"question_id":30970717,"body_markdown":"As long as you use `org.springframework.data.annotation.Transient` it should work as expected. Jackson knows nothing about *spring-data* and it ignores it&#39;s annotations.\r\n\r\nSample code, that works:\r\n\r\n&lt;!-- lang-java --&gt;\r\n\r\n    interface PersonRepository extends CrudRepository&lt;Person, String&gt; {}\r\n\r\n&lt;!-- lang-java --&gt;\r\n\r\n    import org.springframework.data.annotation.Id;\r\n    import org.springframework.data.annotation.Transient;\r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n    \r\n    @Document\r\n    class Person {\r\n        @Id\r\n        private String id;\r\n        private String name;\r\n        @Transient\r\n        private Integer age;\r\n    \r\n        // setters &amp; getters &amp; toString()\r\n    }\r\n\r\n&lt;!-- lang-java --&gt;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/person&quot;)\r\n    class PersonController {\r\n        private static final Logger LOG = LoggerFactory.getLogger(PersonController.class);\r\n        private final PersonRepository personRepository;\r\n    \r\n        @Autowired\r\n        PersonController(PersonRepository personRepository) {\r\n            this.personRepository = personRepository;\r\n        }\r\n    \r\n        @RequestMapping(method = RequestMethod.POST)\r\n        public void post(@RequestBody Person person) {\r\n            // logging to show that json deserialization works\r\n            LOG.info(&quot;Saving person: {}&quot;, person);\r\n            personRepository.save(person);\r\n        }\r\n    \r\n        @RequestMapping(method = RequestMethod.GET)\r\n        public Iterable&lt;Person&gt; list() {\r\n            Iterable&lt;Person&gt; list = personRepository.findAll();\r\n            // setting age to show that json serialization works\r\n            list.forEach(foobar -&gt; foobar.setAge(18));\r\n    \r\n            return list;\r\n        }\r\n    }\r\n\r\nExecuting *POST* `http://localhost:8080/person`:\r\n\r\n    {\r\n\t    &quot;name&quot;:&quot;John Doe&quot;,\r\n    \t&quot;age&quot;: 40\r\n    }\r\n\r\n- Log output `Saving person: Person{age=40, id=&#39;null&#39;, name=&#39;John Doe&#39;}`\r\n- Entry in `person` collection:\r\n    `{ &quot;_id&quot; : ObjectId(&quot;55886dae5ca42c52f22a9af3&quot;), &quot;_class&quot; : &quot;demo.Person&quot;, &quot;name&quot; : &quot;John Doe&quot; }` - age is not persisted\r\n\r\nExecuting *GET* `http://localhost:8080/person`:\r\n\r\n- Result: `[{&quot;id&quot;:&quot;55886dae5ca42c52f22a9af3&quot;,&quot;name&quot;:&quot;John Doe&quot;,&quot;age&quot;:18}]`\r\n\r\n","title":"Specify field is transient for MongoDB but not for RestController","body":"<p>As long as you use <code>org.springframework.data.annotation.Transient</code> it should work as expected. Jackson knows nothing about <em>spring-data</em> and it ignores it's annotations.</p>\n\n<p>Sample code, that works:</p>\n\n\n\n<pre><code>interface PersonRepository extends CrudRepository&lt;Person, String&gt; {}\n</code></pre>\n\n\n\n<pre><code>import org.springframework.data.annotation.Id;\nimport org.springframework.data.annotation.Transient;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document\nclass Person {\n    @Id\n    private String id;\n    private String name;\n    @Transient\n    private Integer age;\n\n    // setters &amp; getters &amp; toString()\n}\n</code></pre>\n\n\n\n<pre><code>@RestController\n@RequestMapping(\"/person\")\nclass PersonController {\n    private static final Logger LOG = LoggerFactory.getLogger(PersonController.class);\n    private final PersonRepository personRepository;\n\n    @Autowired\n    PersonController(PersonRepository personRepository) {\n        this.personRepository = personRepository;\n    }\n\n    @RequestMapping(method = RequestMethod.POST)\n    public void post(@RequestBody Person person) {\n        // logging to show that json deserialization works\n        LOG.info(\"Saving person: {}\", person);\n        personRepository.save(person);\n    }\n\n    @RequestMapping(method = RequestMethod.GET)\n    public Iterable&lt;Person&gt; list() {\n        Iterable&lt;Person&gt; list = personRepository.findAll();\n        // setting age to show that json serialization works\n        list.forEach(foobar -&gt; foobar.setAge(18));\n\n        return list;\n    }\n}\n</code></pre>\n\n<p>Executing <em>POST</em> <code>http://localhost:8080/person</code>:</p>\n\n<pre><code>{\n    \"name\":\"John Doe\",\n    \"age\": 40\n}\n</code></pre>\n\n<ul>\n<li>Log output <code>Saving person: Person{age=40, id='null', name='John Doe'}</code></li>\n<li>Entry in <code>person</code> collection:\n<code>{ \"_id\" : ObjectId(\"55886dae5ca42c52f22a9af3\"), \"_class\" : \"demo.Person\", \"name\" : \"John Doe\" }</code> - age is not persisted</li>\n</ul>\n\n<p>Executing <em>GET</em> <code>http://localhost:8080/person</code>:</p>\n\n<ul>\n<li>Result: <code>[{\"id\":\"55886dae5ca42c52f22a9af3\",\"name\":\"John Doe\",\"age\":18}]</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1203350,"reputation":271,"user_id":1173562,"display_name":"sach"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435781391,"creation_date":1435781391,"answer_id":31170727,"question_id":30970717,"body_markdown":"carlos-bribiescas,\r\nwhat version are you using for it. It could be version issue. Because this transient annotation is meant only for not persisting to the mongo db. Please try to change the version.Probably similar to Maciej one (1.2.4 release)\r\n\r\nThere was issue with json parsing for spring data project in one of the version.\r\n[http://www.widecodes.com/CyVjgkqPXX/fields-with-jsonproperty-are-ignored-on-deserialization-in-spring-boot-spring-data-rest.html][1]\r\n\r\n\r\n  [1]: http://www.widecodes.com/CyVjgkqPXX/fields-with-jsonproperty-are-ignored-on-deserialization-in-spring-boot-spring-data-rest.html","title":"Specify field is transient for MongoDB but not for RestController","body":"<p>carlos-bribiescas,\nwhat version are you using for it. It could be version issue. Because this transient annotation is meant only for not persisting to the mongo db. Please try to change the version.Probably similar to Maciej one (1.2.4 release)</p>\n\n<p>There was issue with json parsing for spring data project in one of the version.\n<a href=\"http://www.widecodes.com/CyVjgkqPXX/fields-with-jsonproperty-are-ignored-on-deserialization-in-spring-boot-spring-data-rest.html\" rel=\"nofollow\">http://www.widecodes.com/CyVjgkqPXX/fields-with-jsonproperty-are-ignored-on-deserialization-in-spring-boot-spring-data-rest.html</a></p>\n"},{"tags":[],"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435861966,"creation_date":1435861966,"answer_id":31192095,"question_id":30970717,"body_markdown":"Since you are not exposing your `MongoRepositories` as restful endpoint with [Spring Data REST](http://docs.spring.io/spring-data/rest/docs/2.3.1.RELEASE/reference/html/) it makes more sense to have your `Resources/endpoint` responses decoupled from your domain model, that way your domain model could evolve without impacting your rest clients/consumers. For the Resource you could consider leveraging what [Spring HATEOAS](http://docs.spring.io/spring-hateoas/docs/current/reference/html/#fundamentals.resources) has to offer.","title":"Specify field is transient for MongoDB but not for RestController","body":"<p>Since you are not exposing your <code>MongoRepositories</code> as restful endpoint with <a href=\"http://docs.spring.io/spring-data/rest/docs/2.3.1.RELEASE/reference/html/\" rel=\"nofollow\">Spring Data REST</a> it makes more sense to have your <code>Resources/endpoint</code> responses decoupled from your domain model, that way your domain model could evolve without impacting your rest clients/consumers. For the Resource you could consider leveraging what <a href=\"http://docs.spring.io/spring-hateoas/docs/current/reference/html/#fundamentals.resources\" rel=\"nofollow\">Spring HATEOAS</a> has to offer.</p>\n"},{"tags":[],"owner":{"account_id":483178,"reputation":3024,"user_id":898057,"accept_rate":76,"display_name":"sheetal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1510084530,"creation_date":1510084530,"answer_id":47166397,"question_id":30970717,"body_markdown":"I solved by using **@JsonSerialize**. Optionally you can also opt for  **@JsonDeserialize** if you want this to be deserailized as well.\r\n\r\n    @Entity\r\n    public class Article {\r\n\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    @Transient\r\n\t@JsonSerialize\r\n\t@JsonDeserialize\r\n\tprivate Boolean testing;\r\n    }\r\n\r\n    // No annotations needed here\r\n    public Boolean getTesting() {\r\n\t\treturn testing;\r\n\t}\r\n\r\n\tpublic void setTesting(Boolean testing) {\r\n\t\tthis.testing = testing;\r\n\t}","title":"Specify field is transient for MongoDB but not for RestController","body":"<p>I solved by using <strong>@JsonSerialize</strong>. Optionally you can also opt for  <strong>@JsonDeserialize</strong> if you want this to be deserailized as well.</p>\n\n<pre><code>@Entity\npublic class Article {\n\n@Column(name = \"title\")\nprivate String title;\n\n@Transient\n@JsonSerialize\n@JsonDeserialize\nprivate Boolean testing;\n}\n\n// No annotations needed here\npublic Boolean getTesting() {\n    return testing;\n}\n\npublic void setTesting(Boolean testing) {\n    this.testing = testing;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":444705,"reputation":1877,"user_id":836701,"accept_rate":65,"display_name":"Alex Po"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546367138,"creation_date":1546367138,"answer_id":53997876,"question_id":30970717,"body_markdown":"I solved this question by implementing custom `JacksonAnnotationIntrospector`:\r\n\r\n    @Bean\r\n    @Primary\r\n    ObjectMapper objectMapper() {\r\n      Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n      AnnotationIntrospector annotationIntrospector = new JacksonAnnotationIntrospector() {\r\n        @Override\r\n        protected boolean _isIgnorable(Annotated a) {\r\n          boolean ignorable = super._isIgnorable(a);\r\n          if (ignorable) {\r\n            Transient aTransient = a.getAnnotation(Transient.class);\r\n            JsonIgnore jsonIgnore = a.getAnnotation(JsonIgnore.class);\r\n    \r\n            return aTransient == null || jsonIgnore != null &amp;&amp; jsonIgnore.value();\r\n          }\r\n          return false;\r\n        }\r\n      };\r\n      builder.annotationIntrospector(annotationIntrospector);\r\n      return builder.build();\r\n    }\r\n\r\nThis code makes invisible `org.springframework.data.annotation.Transient` annotation for `Jackson` but it works for `mongodb`.","title":"Specify field is transient for MongoDB but not for RestController","body":"<p>I solved this question by implementing custom <code>JacksonAnnotationIntrospector</code>:</p>\n\n<pre><code>@Bean\n@Primary\nObjectMapper objectMapper() {\n  Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n  AnnotationIntrospector annotationIntrospector = new JacksonAnnotationIntrospector() {\n    @Override\n    protected boolean _isIgnorable(Annotated a) {\n      boolean ignorable = super._isIgnorable(a);\n      if (ignorable) {\n        Transient aTransient = a.getAnnotation(Transient.class);\n        JsonIgnore jsonIgnore = a.getAnnotation(JsonIgnore.class);\n\n        return aTransient == null || jsonIgnore != null &amp;&amp; jsonIgnore.value();\n      }\n      return false;\n    }\n  };\n  builder.annotationIntrospector(annotationIntrospector);\n  return builder.build();\n}\n</code></pre>\n\n<p>This code makes invisible <code>org.springframework.data.annotation.Transient</code> annotation for <code>Jackson</code> but it works for <code>mongodb</code>.</p>\n"},{"tags":[],"owner":{"account_id":2378682,"reputation":832,"user_id":2081279,"display_name":"Thomas Sch&#252;tt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641134134,"creation_date":1641134134,"answer_id":70556838,"question_id":30970717,"body_markdown":"You can use the annotation org.bson.codecs.pojo.annotations.BsonIgnore instead of @transient at the fields, that MongoDB shall not persist.\r\n\r\n    @BsonIgnore\r\n    private BuildingDefense defenses;\r\n\r\nIt also works on getters.","title":"Specify field is transient for MongoDB but not for RestController","body":"<p>You can use the annotation org.bson.codecs.pojo.annotations.BsonIgnore instead of @transient at the fields, that MongoDB shall not persist.</p>\n<pre><code>@BsonIgnore\nprivate BuildingDefense defenses;\n</code></pre>\n<p>It also works on getters.</p>\n"}],"owner":{"account_id":3255523,"reputation":4267,"user_id":2744726,"accept_rate":79,"display_name":"Carlos Bribiescas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19105,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":47166397,"answer_count":7,"score":20,"last_activity_date":1641134134,"creation_date":1434933191,"question_id":30970717,"body_markdown":"I&#39;m using spring-boot to provide a REST interface persisted with MongoDB.  I&#39;m using the &#39;standard&#39; dependencies to power it, including `spring-boot-starter-data-mongodb` and `spring-boot-starter-web`.\r\n\r\nHowever, in some of my classes I have fields that I annotate `@Transient` so that MongoDB does not persist that information.  However, this information I DO want sent out in my rest services.  Unfortunately, both MongoDB and the rest controller seem to share that annotation.  So when my front-end receives the JSON object, those fields are not instantiated (but still declared).  Removing the annotation allows the fields to come through in the JSON object.\r\n\r\nHow I do configure what is transient for MongoDB and REST separately?\r\n\r\nHere is my class\r\n\r\n    package com.clashalytics.domain.building;\r\n    \r\n    import com.clashalytics.domain.building.constants.BuildingConstants;\r\n    import com.clashalytics.domain.building.constants.BuildingType;\r\n    import com.google.common.base.Objects;\r\n    import org.springframework.data.annotation.Id;\r\n    import org.springframework.data.annotation.Transient;\r\n    \r\n    import java.util.*;\r\n    \r\n    public class Building {\r\n    \r\n        @Id\r\n        private int id;\r\n    \r\n        private BuildingType buildingType;\r\n        private int level;\r\n        private Location location;\r\n        // TODO http://stackoverflow.com/questions/30970717/specify-field-is-transient-for-mongodb-but-not-for-restcontroller\r\n        @Transient\r\n        private int hp;\r\n        @Transient\r\n        private BuildingDefense defenses;\r\n    \r\n        private static Map&lt;Building,Building&gt; buildings = new HashMap&lt;&gt;();\r\n    \r\n        public Building(){}\r\n        public Building(BuildingType buildingType, int level){\r\n            this.buildingType = buildingType;\r\n            this.level = level;\r\n            if(BuildingConstants.hpMap.containsKey(buildingType))\r\n                this.hp = BuildingConstants.hpMap.get(buildingType).get(level - 1);\r\n    \r\n            this.defenses = BuildingDefense.get(buildingType, level);\r\n        }\r\n    \r\n        public static Building get(BuildingType townHall, int level) {\r\n            Building newCandidate = new Building(townHall,level);\r\n            if (buildings.containsKey(newCandidate)){\r\n                return buildings.get(newCandidate);\r\n            }\r\n            buildings.put(newCandidate,newCandidate);\r\n            return newCandidate;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getName(){\r\n            return buildingType.getName();\r\n        }\r\n    \r\n        public BuildingType getBuildingType() {\r\n            return buildingType;\r\n        }\r\n    \r\n        public int getHp() {\r\n            return hp;\r\n        }\r\n    \r\n        public int getLevel() {\r\n            return level;\r\n        }\r\n    \r\n        public Location getLocation() {\r\n            return location;\r\n        }\r\n    \r\n        public void setLocation(Location location) {\r\n            this.location = location;\r\n        }\r\n    \r\n        public BuildingDefense getDefenses() {\r\n            return defenses;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Building building = (Building) o;\r\n            return Objects.equal(id, building.id) &amp;&amp;\r\n                    Objects.equal(hp, building.hp) &amp;&amp;\r\n                    Objects.equal(level, building.level) &amp;&amp;\r\n                    Objects.equal(buildingType, building.buildingType) &amp;&amp;\r\n                    Objects.equal(defenses, building.defenses) &amp;&amp;\r\n                    Objects.equal(location, building.location);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hashCode(id, buildingType, hp, level, defenses, location);\r\n        }\r\n    }\r\n    \r\nAs is, `hp` and `defenses` show up as `0` and `null` respectively.  If I remove the `@Transient` tag it comes through.","title":"Specify field is transient for MongoDB but not for RestController","body":"<p>I'm using spring-boot to provide a REST interface persisted with MongoDB.  I'm using the 'standard' dependencies to power it, including <code>spring-boot-starter-data-mongodb</code> and <code>spring-boot-starter-web</code>.</p>\n\n<p>However, in some of my classes I have fields that I annotate <code>@Transient</code> so that MongoDB does not persist that information.  However, this information I DO want sent out in my rest services.  Unfortunately, both MongoDB and the rest controller seem to share that annotation.  So when my front-end receives the JSON object, those fields are not instantiated (but still declared).  Removing the annotation allows the fields to come through in the JSON object.</p>\n\n<p>How I do configure what is transient for MongoDB and REST separately?</p>\n\n<p>Here is my class</p>\n\n<pre><code>package com.clashalytics.domain.building;\n\nimport com.clashalytics.domain.building.constants.BuildingConstants;\nimport com.clashalytics.domain.building.constants.BuildingType;\nimport com.google.common.base.Objects;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.annotation.Transient;\n\nimport java.util.*;\n\npublic class Building {\n\n    @Id\n    private int id;\n\n    private BuildingType buildingType;\n    private int level;\n    private Location location;\n    // TODO http://stackoverflow.com/questions/30970717/specify-field-is-transient-for-mongodb-but-not-for-restcontroller\n    @Transient\n    private int hp;\n    @Transient\n    private BuildingDefense defenses;\n\n    private static Map&lt;Building,Building&gt; buildings = new HashMap&lt;&gt;();\n\n    public Building(){}\n    public Building(BuildingType buildingType, int level){\n        this.buildingType = buildingType;\n        this.level = level;\n        if(BuildingConstants.hpMap.containsKey(buildingType))\n            this.hp = BuildingConstants.hpMap.get(buildingType).get(level - 1);\n\n        this.defenses = BuildingDefense.get(buildingType, level);\n    }\n\n    public static Building get(BuildingType townHall, int level) {\n        Building newCandidate = new Building(townHall,level);\n        if (buildings.containsKey(newCandidate)){\n            return buildings.get(newCandidate);\n        }\n        buildings.put(newCandidate,newCandidate);\n        return newCandidate;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName(){\n        return buildingType.getName();\n    }\n\n    public BuildingType getBuildingType() {\n        return buildingType;\n    }\n\n    public int getHp() {\n        return hp;\n    }\n\n    public int getLevel() {\n        return level;\n    }\n\n    public Location getLocation() {\n        return location;\n    }\n\n    public void setLocation(Location location) {\n        this.location = location;\n    }\n\n    public BuildingDefense getDefenses() {\n        return defenses;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Building building = (Building) o;\n        return Objects.equal(id, building.id) &amp;&amp;\n                Objects.equal(hp, building.hp) &amp;&amp;\n                Objects.equal(level, building.level) &amp;&amp;\n                Objects.equal(buildingType, building.buildingType) &amp;&amp;\n                Objects.equal(defenses, building.defenses) &amp;&amp;\n                Objects.equal(location, building.location);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hashCode(id, buildingType, hp, level, defenses, location);\n    }\n}\n</code></pre>\n\n<p>As is, <code>hp</code> and <code>defenses</code> show up as <code>0</code> and <code>null</code> respectively.  If I remove the <code>@Transient</code> tag it comes through.</p>\n"},{"tags":["java","android","file","audio","mp3"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1641127201,"post_id":70555980,"comment_id":124723320,"body_markdown":"Are you querying the `MediaStore` to get the audio content to play? If so, does the renamed piece of media show up in your `MediaStore` query?","body":"Are you querying the <code>MediaStore</code> to get the audio content to play? If so, does the renamed piece of media show up in your <code>MediaStore</code> query?"},{"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"score":0,"creation_date":1641128653,"post_id":70555980,"comment_id":124723575,"body_markdown":"&quot;Is there any way I can check to see if a file without the .mp3 extension is still an audio/mp3 file&quot; see https://stackoverflow.com/questions/11360286/detect-if-a-file-is-an-mp3-file","body":"&quot;Is there any way I can check to see if a file without the .mp3 extension is still an audio/mp3 file&quot; see <a href=\"https://stackoverflow.com/questions/11360286/detect-if-a-file-is-an-mp3-file\" title=\"detect if a file is an mp3 file\">stackoverflow.com/questions/11360286/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641134075,"creation_date":1641134075,"answer_id":70556830,"question_id":70555980,"body_markdown":"Well, Android has this library/class called `MediaPlayer`:\r\n\r\nhttps://developer.android.com/guide/topics/media/mediaplayer\r\n\r\nThe `MediaPlayer` is what you use when you play audio,\r\n\r\nthe `MediaPlayer` takes the input(the file) as long as it is still encoded as an audio file.\r\n\r\nNo matter what you do with the file extension, as long as it is still encoded as audio,\r\n\r\nit will stay as an audio file.\r\n\r\nThat&#39;s why~","title":"How can MP3 files without a file extension play in the Android files app and is there any way I can play such files in my MP3 player Android app?","body":"<p>Well, Android has this library/class called <code>MediaPlayer</code>:</p>\n<p><a href=\"https://developer.android.com/guide/topics/media/mediaplayer\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/media/mediaplayer</a></p>\n<p>The <code>MediaPlayer</code> is what you use when you play audio,</p>\n<p>the <code>MediaPlayer</code> takes the input(the file) as long as it is still encoded as an audio file.</p>\n<p>No matter what you do with the file extension, as long as it is still encoded as audio,</p>\n<p>it will stay as an audio file.</p>\n<p>That's why~</p>\n"}],"owner":{"account_id":23805403,"reputation":1,"user_id":17815013,"display_name":"Yourmomcodes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641134075,"creation_date":1641126693,"question_id":70555980,"body_markdown":"I am creating an MP3 Player app. It&#39;s mostly working correctly but there is one edge case. \r\n\r\nIf a user has a file named &quot;Bieber.mp3&quot; but changes the name of the file to &quot;Bieber&quot; without the file extension in the files app (on Android), they will still be able to play the song properly from the files app depending on the device (older devices like Nexus running on marshmallow will do it while newer devices like the pixel on Android 12 will say it&#39;s an invalid file type).\r\n\r\nHowever, when the MP3 file is emailed (or uploaded somewhere in the cloud like drive or Dropbox), the file will have an unknown file type when  attempting to from there\r\n\r\nI want to know, how can MP3 files that are renamed to exclude the .mp3 extension still play in the android files app? Is there any way I can check to see if a file without the .mp3 extension is still an audio/mp3 file in Java for my mp3 player?\r\n\r\nIf mp3 files without the mp3 extension can play in the android files app, surely there should be some way to play/access them in the MP3 player I&#39;m making, right?\r\n\r\n","title":"How can MP3 files without a file extension play in the Android files app and is there any way I can play such files in my MP3 player Android app?","body":"<p>I am creating an MP3 Player app. It's mostly working correctly but there is one edge case.</p>\n<p>If a user has a file named &quot;Bieber.mp3&quot; but changes the name of the file to &quot;Bieber&quot; without the file extension in the files app (on Android), they will still be able to play the song properly from the files app depending on the device (older devices like Nexus running on marshmallow will do it while newer devices like the pixel on Android 12 will say it's an invalid file type).</p>\n<p>However, when the MP3 file is emailed (or uploaded somewhere in the cloud like drive or Dropbox), the file will have an unknown file type when  attempting to from there</p>\n<p>I want to know, how can MP3 files that are renamed to exclude the .mp3 extension still play in the android files app? Is there any way I can check to see if a file without the .mp3 extension is still an audio/mp3 file in Java for my mp3 player?</p>\n<p>If mp3 files without the mp3 extension can play in the android files app, surely there should be some way to play/access them in the MP3 player I'm making, right?</p>\n"},{"tags":["java","sorting","hashmap","hashtable","ranking"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1641127110,"post_id":70555976,"comment_id":124723304,"body_markdown":"Does this answer your question? [sort hashtable by values](https://stackoverflow.com/questions/5176771/sort-hashtable-by-values)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5176771/sort-hashtable-by-values\">sort hashtable by values</a>"},{"owner":{"account_id":12227116,"reputation":43,"user_id":8924354,"display_name":"Cannonball"},"score":0,"creation_date":1641127408,"post_id":70555976,"comment_id":124723349,"body_markdown":"@Joe this only sorts a hash with one value and i want to know how to put two values in and get the highest one by considering the time and kills.","body":"@Joe this only sorts a hash with one value and i want to know how to put two values in and get the highest one by considering the time and kills."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1641127488,"post_id":70555976,"comment_id":124723364,"body_markdown":"Then would augmenting it with https://stackoverflow.com/questions/4258700/collections-sort-with-multiple-fields solve your issue?","body":"Then would augmenting it with <a href=\"https://stackoverflow.com/questions/4258700/collections-sort-with-multiple-fields\" title=\"collections sort with multiple fields\">stackoverflow.com/questions/4258700/&hellip;</a> solve your issue?"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1641129386,"post_id":70555976,"comment_id":124723733,"body_markdown":"_  put two values in to get the highest one_ have you `compare` method return a value based on the two integers.  For more help post [mre] and include hard coded test data","body":"_  put two values in to get the highest one_ have you <code>compare</code> method return a value based on the two integers.  For more help post <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and include hard coded test data"},{"owner":{"account_id":12227116,"reputation":43,"user_id":8924354,"display_name":"Cannonball"},"score":0,"creation_date":1641129977,"post_id":70555976,"comment_id":124723856,"body_markdown":"@Joe not quite actually.","body":"@Joe not quite actually."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1641130383,"post_id":70555976,"comment_id":124723952,"body_markdown":"Hashtable is considered an outdated class, and it would be better to use a HashMap.","body":"Hashtable is considered an outdated class, and it would be better to use a HashMap."}],"answers":[{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1641133005,"creation_date":1641130009,"answer_id":70556351,"question_id":70555976,"body_markdown":"EDIT: Edited the post to sort the whole `entrySet()` instead.\r\n\r\nTo get a custom sort order you would define a Comparator&lt;Map.Entry&lt;String, Values&gt;&gt;, specifying the order in what you would like to compare the entries from your map, and if any part of the sort should be done in reverse (descending).\r\n\r\nFrom your description I think you wanted `a` to be the first to be sorted descending and then `b` to be sorted descending as well.\r\n```\r\nComparator&lt;Map.Entry&lt;String, Values&gt;&gt; myValuesComparator = Comparator\r\n        .comparingInt((Map.Entry&lt;String, Values&gt; entry) -&gt; entry.getValue().a)\r\n        .thenComparingInt(entry -&gt; entry.getValue().b)\r\n        .reversed();\r\n```\r\n\r\nThen you turn your `hash.entrySet()` into a stream by calling `.stream()` and then you sort the stream of entries with your comparator by calling `.sorted(myValuesComparator)`. In the end you collect the sorted entries into a new collection, we will collect them into a `List&lt;Map.Entry&lt;String, Values&gt;&gt;` here.\r\n\r\n``` \r\nList&lt;Map.Entry&lt;String, Values&gt;&gt; list = hash.entrySet()\r\n    .stream()\r\n    .sorted(myValuesComparator)\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nIf you want to check the result you can place a breakpoint and check the elements inside the list or just print the whole list\r\n```\r\nfor (Map.Entry&lt;String, Values&gt; entry : list) {\r\n    System.out.printf(&quot;Key: %s, score: %d, time of last update: %d%n&quot;, entry.getKey(), entry.getValue().a, entry.getValue().b);\r\n}\r\n```\r\nThis same code also works if you change your `Hashtable` to a `HashMap`, as suggested by Mark Rotteveel in the comments, since `Hashtable` is considered an outdated class.\r\n\r\nHere is my sample output\r\n```\r\nKey: Test9, score: 11, time of last update: 3\r\nKey: Test8, score: 11, time of last update: 2\r\nKey: Test7, score: 11, time of last update: 1\r\nKey: Test6, score: 10, time of last update: 3\r\nKey: Test5, score: 10, time of last update: 2\r\nKey: Test4, score: 10, time of last update: 1\r\nKey: Test3, score: 1, time of last update: 3\r\nKey: Test2, score: 1, time of last update: 2\r\nKey: Test1, score: 1, time of last update: 1\r\n```\r\nfor input\r\n```\r\nhash.put(&quot;Test1&quot;, new Values( 1, 1));\r\nhash.put(&quot;Test2&quot;, new Values( 1, 2));\r\nhash.put(&quot;Test3&quot;, new Values( 1, 3));\r\nhash.put(&quot;Test4&quot;, new Values(10, 1));\r\nhash.put(&quot;Test5&quot;, new Values(10, 2));\r\nhash.put(&quot;Test6&quot;, new Values(10, 3));\r\nhash.put(&quot;Test7&quot;, new Values(11, 1));\r\nhash.put(&quot;Test8&quot;, new Values(11, 2));\r\nhash.put(&quot;Test9&quot;, new Values(11, 3));\r\n```","title":"What is the best method to sort a Hashtable who has a class as value with multiple variables (Integers) in Java?","body":"<p>EDIT: Edited the post to sort the whole <code>entrySet()</code> instead.</p>\n<p>To get a custom sort order you would define a Comparator&lt;Map.Entry&lt;String, Values&gt;&gt;, specifying the order in what you would like to compare the entries from your map, and if any part of the sort should be done in reverse (descending).</p>\n<p>From your description I think you wanted <code>a</code> to be the first to be sorted descending and then <code>b</code> to be sorted descending as well.</p>\n<pre><code>Comparator&lt;Map.Entry&lt;String, Values&gt;&gt; myValuesComparator = Comparator\n        .comparingInt((Map.Entry&lt;String, Values&gt; entry) -&gt; entry.getValue().a)\n        .thenComparingInt(entry -&gt; entry.getValue().b)\n        .reversed();\n</code></pre>\n<p>Then you turn your <code>hash.entrySet()</code> into a stream by calling <code>.stream()</code> and then you sort the stream of entries with your comparator by calling <code>.sorted(myValuesComparator)</code>. In the end you collect the sorted entries into a new collection, we will collect them into a <code>List&lt;Map.Entry&lt;String, Values&gt;&gt;</code> here.</p>\n<pre><code>List&lt;Map.Entry&lt;String, Values&gt;&gt; list = hash.entrySet()\n    .stream()\n    .sorted(myValuesComparator)\n    .collect(Collectors.toList());\n</code></pre>\n<p>If you want to check the result you can place a breakpoint and check the elements inside the list or just print the whole list</p>\n<pre><code>for (Map.Entry&lt;String, Values&gt; entry : list) {\n    System.out.printf(&quot;Key: %s, score: %d, time of last update: %d%n&quot;, entry.getKey(), entry.getValue().a, entry.getValue().b);\n}\n</code></pre>\n<p>This same code also works if you change your <code>Hashtable</code> to a <code>HashMap</code>, as suggested by Mark Rotteveel in the comments, since <code>Hashtable</code> is considered an outdated class.</p>\n<p>Here is my sample output</p>\n<pre><code>Key: Test9, score: 11, time of last update: 3\nKey: Test8, score: 11, time of last update: 2\nKey: Test7, score: 11, time of last update: 1\nKey: Test6, score: 10, time of last update: 3\nKey: Test5, score: 10, time of last update: 2\nKey: Test4, score: 10, time of last update: 1\nKey: Test3, score: 1, time of last update: 3\nKey: Test2, score: 1, time of last update: 2\nKey: Test1, score: 1, time of last update: 1\n</code></pre>\n<p>for input</p>\n<pre><code>hash.put(&quot;Test1&quot;, new Values( 1, 1));\nhash.put(&quot;Test2&quot;, new Values( 1, 2));\nhash.put(&quot;Test3&quot;, new Values( 1, 3));\nhash.put(&quot;Test4&quot;, new Values(10, 1));\nhash.put(&quot;Test5&quot;, new Values(10, 2));\nhash.put(&quot;Test6&quot;, new Values(10, 3));\nhash.put(&quot;Test7&quot;, new Values(11, 1));\nhash.put(&quot;Test8&quot;, new Values(11, 2));\nhash.put(&quot;Test9&quot;, new Values(11, 3));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18975310,"reputation":68,"user_id":13847924,"display_name":"Mohan k"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1641132788,"creation_date":1641132788,"answer_id":70556682,"question_id":70555976,"body_markdown":"Set&lt;String&gt; keys = hash.keySet();\r\n\r\nkeys.stream().forEach(System.out::println);","title":"What is the best method to sort a Hashtable who has a class as value with multiple variables (Integers) in Java?","body":"<p>Set keys = hash.keySet();</p>\n<p>keys.stream().forEach(System.out::println);</p>\n"}],"owner":{"account_id":12227116,"reputation":43,"user_id":8924354,"display_name":"Cannonball"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70556351,"answer_count":2,"score":1,"last_activity_date":1641133005,"creation_date":1641126663,"question_id":70555976,"body_markdown":"I have a system to check to sort by value in a Hashtable and it is used to get the top Strings in that Hashtable. I want to set another value in that Hashtable, so I am using a class inside, like that: \r\n\r\n`Map&lt;String, Values&gt; hash = new Hashtable&lt;String,Values&gt;();`\r\n\r\nThe class: \r\n\r\n    public class Values {\r\n    \tpublic Integer a;\r\n    \tpublic Integer b;\r\n    \r\n    \tpublic Values(Integer a, Integer b) {    \r\n    \t\tthis.a = a;\r\n    \t\tthis.b = b;\r\n    \t}    \r\n    }\r\n\r\nMy objective is sorting all the values in the Hashtable (Integer a and b) and returning the Hashtable String showing who has the highest values, (like a database system) is it possible to do that? The reason I want to do that is for getting the best killers in a game sorting by Integer a and set the time when the last kill was done in Integer b, so if the player has killed before the other and has the same amount of kills it shows the one with the highest Integer b at first, which would be the one with the highest time (milliseconds) in the variable b. \r\n\r\nWhat would be the best method to do something like that?\r\n","title":"What is the best method to sort a Hashtable who has a class as value with multiple variables (Integers) in Java?","body":"<p>I have a system to check to sort by value in a Hashtable and it is used to get the top Strings in that Hashtable. I want to set another value in that Hashtable, so I am using a class inside, like that:</p>\n<p><code>Map&lt;String, Values&gt; hash = new Hashtable&lt;String,Values&gt;();</code></p>\n<p>The class:</p>\n<pre><code>public class Values {\n    public Integer a;\n    public Integer b;\n\n    public Values(Integer a, Integer b) {    \n        this.a = a;\n        this.b = b;\n    }    \n}\n</code></pre>\n<p>My objective is sorting all the values in the Hashtable (Integer a and b) and returning the Hashtable String showing who has the highest values, (like a database system) is it possible to do that? The reason I want to do that is for getting the best killers in a game sorting by Integer a and set the time when the last kill was done in Integer b, so if the player has killed before the other and has the same amount of kills it shows the one with the highest Integer b at first, which would be the one with the highest time (milliseconds) in the variable b.</p>\n<p>What would be the best method to do something like that?</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641132618,"creation_date":1641131136,"answer_id":70556487,"question_id":70521530,"body_markdown":"# Cause #\r\n\r\nWhat happens is that because you designate it on the WrapperMapper it will not directly use the FruitMapper. Instead the WrapperMapper implementation will get a new mapping method generated to map fruits. MapStruct fails at this attempt and gives you that compile error.\r\n\r\n# Solution #\r\n\r\nIf you add that ignore to the FruitMapper it would inherit it to both subclassmappings:\r\n```\r\n        @SubclassMapping( source = Apple.class, target = AppleDto.class )\r\n        @SubclassMapping( source = Banana.class, target = BananaDto.class )\r\n        @Mapping( target = &quot;weight&quot;, ignore = true )\r\n        FruitDto map( Fruit fruit );\r\n```\r\n\r\nIn case you want to have a mapping with weights and one without weights you could add the `@org.mapstruct.Named` annotation to the one without weights and then use this at the WrappedMapper.\r\n\r\nlike this:\r\n```\r\n    @Mapper(subclassExhaustiveStrategy = SubclassExhaustiveStrategy.RUNTIME_EXCEPTION /*...*/)\r\n    public interface FruitMapper {\r\n        @SubclassMapping( source = Apple.class, target = AppleDto.class )\r\n        @SubclassMapping( source = Banana.class, target = BananaDto.class )\r\n        FruitDto map( Fruit fruit );\r\n\r\n        @SubclassMapping( source = Apple.class, target = AppleDto.class )\r\n        @SubclassMapping( source = Banana.class, target = BananaDto.class )\r\n        @Mapping( target = &quot;weight&quot;, ignore = true )\r\n        @Named( &quot;NoWeights&quot; )\r\n        FruitDto map( Fruit fruit );\r\n    }\r\n\r\n    @Mapper(uses = {FruitMapper.class})\r\n    public interface WrapperMapper {\r\n        @Mapping( target = &quot;fruit&quot;, qualifiedByName = &quot;NoWeights&quot; )\r\n        WrapperDto map(Wrapper wrapper)\r\n    }\r\n```","title":"How to ignore some fields in MapStruct when using the new @SubclassMapping annotation?","body":"<h1>Cause</h1>\n<p>What happens is that because you designate it on the WrapperMapper it will not directly use the FruitMapper. Instead the WrapperMapper implementation will get a new mapping method generated to map fruits. MapStruct fails at this attempt and gives you that compile error.</p>\n<h1>Solution</h1>\n<p>If you add that ignore to the FruitMapper it would inherit it to both subclassmappings:</p>\n<pre><code>        @SubclassMapping( source = Apple.class, target = AppleDto.class )\n        @SubclassMapping( source = Banana.class, target = BananaDto.class )\n        @Mapping( target = &quot;weight&quot;, ignore = true )\n        FruitDto map( Fruit fruit );\n</code></pre>\n<p>In case you want to have a mapping with weights and one without weights you could add the <code>@org.mapstruct.Named</code> annotation to the one without weights and then use this at the WrappedMapper.</p>\n<p>like this:</p>\n<pre><code>    @Mapper(subclassExhaustiveStrategy = SubclassExhaustiveStrategy.RUNTIME_EXCEPTION /*...*/)\n    public interface FruitMapper {\n        @SubclassMapping( source = Apple.class, target = AppleDto.class )\n        @SubclassMapping( source = Banana.class, target = BananaDto.class )\n        FruitDto map( Fruit fruit );\n\n        @SubclassMapping( source = Apple.class, target = AppleDto.class )\n        @SubclassMapping( source = Banana.class, target = BananaDto.class )\n        @Mapping( target = &quot;weight&quot;, ignore = true )\n        @Named( &quot;NoWeights&quot; )\n        FruitDto map( Fruit fruit );\n    }\n\n    @Mapper(uses = {FruitMapper.class})\n    public interface WrapperMapper {\n        @Mapping( target = &quot;fruit&quot;, qualifiedByName = &quot;NoWeights&quot; )\n        WrapperDto map(Wrapper wrapper)\n    }\n</code></pre>\n"}],"owner":{"account_id":23776313,"reputation":13,"user_id":17789717,"display_name":"rpeveng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2078,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70556487,"answer_count":1,"score":1,"last_activity_date":1641132618,"creation_date":1640791853,"question_id":70521530,"body_markdown":"# Initial situation #\r\nUsing current 1.5.0.Beta2 MapStruct release with JDK 13.\r\n\r\n## Domain Model ##\r\n```java\r\nclass Wrapper {\r\n    private Fruit fruit;\r\n}\r\n```\r\n\r\n```java\r\nabstract class Fruit {\r\n    private int weight;\r\n    /* ... */\r\n}\r\n\r\nclass Apple extends Fruit {\r\n    /* ... */\r\n}\r\n\r\nclass Banana extends Fruit {\r\n    /* ... */\r\n}\r\n```\r\n\r\n(Corresponding 1:1 DTOs omitted)\r\n\r\n## Mappers ##\r\n### Mapper for Wrapper class ###\r\n```java\r\n@Mapper(uses = {FruitMapper.class})\r\npublic interface WrapperMapper {\r\n    WrapperDto map(Wrapper wrapper)\r\n}\r\n````\r\n\r\n### Mapper for Fruit class(es) ###\r\nMapStruct `Mapper` for **abstract** `Fruit` class with method signature and annotations:\r\n```java\r\n@Mapper(subclassExhaustiveStrategy = SubclassExhaustiveStrategy.RUNTIME_EXCEPTION /*...*/)\r\npublic interface FruitMapper {\r\n    @SubclassMapping(source = Apple.class, target = AppleDto.class)\r\n    @SubclassMapping(source = Banana.class, target = BananaDto.class)\r\n    FruitDto map(Fruit fruit);\r\n}\r\n```\r\n\r\n# Problem #\r\nThe above works fine until a field needs to be ignored on the referenced abstract class (e.g. the `weight` of a `Fruit`).\r\nPutting this annotation to the `WrapperMapper` `map` method...\r\n```java\r\n@Mapping(target = &quot;fruit.weight&quot;, ignore = true)\r\nWrapperDto map(Wrapper wrapper)\r\n```\r\n...leads to `The return type FruitDto is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.` compile error.\r\n\r\n# Question #\r\nIs there a way to skip fields in MapStruct mapping as outlined without getting this compile error?","title":"How to ignore some fields in MapStruct when using the new @SubclassMapping annotation?","body":"<h1>Initial situation</h1>\n<p>Using current 1.5.0.Beta2 MapStruct release with JDK 13.</p>\n<h2>Domain Model</h2>\n<pre class=\"lang-java prettyprint-override\"><code>class Wrapper {\n    private Fruit fruit;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Fruit {\n    private int weight;\n    /* ... */\n}\n\nclass Apple extends Fruit {\n    /* ... */\n}\n\nclass Banana extends Fruit {\n    /* ... */\n}\n</code></pre>\n<p>(Corresponding 1:1 DTOs omitted)</p>\n<h2>Mappers</h2>\n<h3>Mapper for Wrapper class</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(uses = {FruitMapper.class})\npublic interface WrapperMapper {\n    WrapperDto map(Wrapper wrapper)\n}\n</code></pre>\n<h3>Mapper for Fruit class(es)</h3>\n<p>MapStruct <code>Mapper</code> for <strong>abstract</strong> <code>Fruit</code> class with method signature and annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(subclassExhaustiveStrategy = SubclassExhaustiveStrategy.RUNTIME_EXCEPTION /*...*/)\npublic interface FruitMapper {\n    @SubclassMapping(source = Apple.class, target = AppleDto.class)\n    @SubclassMapping(source = Banana.class, target = BananaDto.class)\n    FruitDto map(Fruit fruit);\n}\n</code></pre>\n<h1>Problem</h1>\n<p>The above works fine until a field needs to be ignored on the referenced abstract class (e.g. the <code>weight</code> of a <code>Fruit</code>).\nPutting this annotation to the <code>WrapperMapper</code> <code>map</code> method...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;fruit.weight&quot;, ignore = true)\nWrapperDto map(Wrapper wrapper)\n</code></pre>\n<p>...leads to <code>The return type FruitDto is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.</code> compile error.</p>\n<h1>Question</h1>\n<p>Is there a way to skip fields in MapStruct mapping as outlined without getting this compile error?</p>\n"},{"tags":["java","android","android-asynctask"],"answers":[{"tags":[],"owner":{"account_id":8155647,"reputation":136,"user_id":6141307,"display_name":"Visttux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1576010320,"creation_date":1576010320,"answer_id":59275005,"question_id":59270102,"body_markdown":"The default maximum thread pool size for `AsyncTask.THREAD_POOL_EXECUTOR` is 20, that&#39;s the reason why you don&#39;t see more than this executed concurrently.\r\n\r\nIf you want to have a bigger pool size you can define your own `Executor`:\r\n\r\n    @TargetApi(11)\r\n    static public &lt;T&gt; void executeAsyncTask(AsyncTask&lt;T, ?, ?&gt; task, T... params) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\r\n            Executor executor = new ThreadPoolExecutor(1, 128,\r\n                                      5, TimeUnit.SECONDS,\r\n                                      new SynchronousQueue&lt;Runnable&gt;());\r\n            task.executeOnExecutor(executor, params);\r\n        } else {\r\n            task.execute(params);\r\n        }\r\n    }","title":"Custom max asyncTasks in Android","body":"<p>The default maximum thread pool size for <code>AsyncTask.THREAD_POOL_EXECUTOR</code> is 20, that's the reason why you don't see more than this executed concurrently.</p>\n\n<p>If you want to have a bigger pool size you can define your own <code>Executor</code>:</p>\n\n<pre><code>@TargetApi(11)\nstatic public &lt;T&gt; void executeAsyncTask(AsyncTask&lt;T, ?, ?&gt; task, T... params) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\n        Executor executor = new ThreadPoolExecutor(1, 128,\n                                  5, TimeUnit.SECONDS,\n                                  new SynchronousQueue&lt;Runnable&gt;());\n        task.executeOnExecutor(executor, params);\n    } else {\n        task.execute(params);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14906661,"reputation":425,"user_id":10763638,"display_name":"FikiCar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59275005,"answer_count":1,"score":2,"last_activity_date":1641132117,"creation_date":1575990075,"question_id":59270102,"body_markdown":"I am creating an app and it needs to execute exactly 128 tasks at the same time. I have read that the maximum is 128 but it only does 20 on my emulator. How to make him do more or how to edit max async tasks?\r\n\r\nSome info:\r\nAPI 29\r\n\r\nI am calling them with this method:\r\n```java\r\n@TargetApi(11)\r\nstatic public &lt;T&gt; void executeAsyncTask(AsyncTask&lt;T, ?, ?&gt; task, T... params) {\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\r\n        task.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, params);\r\n    } else {\r\n        task.execute(params);\r\n    }\r\n}\r\n```\r\nThis is supposed to work but it runs only 20 at the same time","title":"Custom max asyncTasks in Android","body":"<p>I am creating an app and it needs to execute exactly 128 tasks at the same time. I have read that the maximum is 128 but it only does 20 on my emulator. How to make him do more or how to edit max async tasks?</p>\n\n<p>Some info:\nAPI 29</p>\n\n<p>I am calling them with this method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@TargetApi(11)\nstatic public &lt;T&gt; void executeAsyncTask(AsyncTask&lt;T, ?, ?&gt; task, T... params) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\n        task.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, params);\n    } else {\n        task.execute(params);\n    }\n}\n</code></pre>\n\n<p>This is supposed to work but it runs only 20 at the same time</p>\n"},{"tags":["java","arrays","recursion","matrix","knights-tour"],"comments":[{"owner":{"account_id":86477,"reputation":192886,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"score":3,"creation_date":1630273212,"post_id":68977001,"comment_id":121905316,"body_markdown":"Something has to test it. The ifs have to happen. Your choice is just whether you want to do it WETly or DRYly. A DRY approach would be to isolate the coordinate tests: make a function that tests coordinates, and if valid, adds the value at the coordinates to an arraylist. Then just call the function eight times on an empty arraylist.","body":"Something has to test it. The ifs have to happen. Your choice is just whether you want to do it WETly or DRYly. A DRY approach would be to isolate the coordinate tests: make a function that tests coordinates, and if valid, adds the value at the coordinates to an arraylist. Then just call the function eight times on an empty arraylist."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1630278093,"creation_date":1630277694,"answer_id":68977535,"question_id":68977001,"body_markdown":"Here are the results of one of my many test runs.\r\n\r\n    Origin row: 3, column: 4\r\n        Move to row: 1, column: 5\r\n        Move to row: 1, column: 3\r\n        Move to row: 2, column: 6\r\n        Move to row: 2, column: 2\r\n        Move to row: 4, column: 6\r\n        Move to row: 4, column: 2\r\n        Move to row: 5, column: 5\r\n        Move to row: 5, column: 3\r\n    \r\n    Origin row: 1, column: 1\r\n        Move to row: 0, column: 3\r\n        Move to row: 2, column: 3\r\n        Move to row: 3, column: 2\r\n        Move to row: 3, column: 0\r\n    \r\n    Origin row: 7, column: 7\r\n        Move to row: 5, column: 8\r\n        Move to row: 5, column: 6\r\n        Move to row: 6, column: 5\r\n        Move to row: 8, column: 5\r\n    \r\n    Origin row: 1, column: 7\r\n        Move to row: 0, column: 5\r\n        Move to row: 2, column: 5\r\n        Move to row: 3, column: 8\r\n        Move to row: 3, column: 6\r\n    \r\n    Origin row: 7, column: 1\r\n        Move to row: 5, column: 2\r\n        Move to row: 5, column: 0\r\n        Move to row: 6, column: 3\r\n        Move to row: 8, column: 3\r\n\r\nThe first thing I did was create a `Coordinate` class.  This allowed me to put the index out of bounds test in one place, in the `Coordinate` class.\r\n\r\nThe `knightMove` method figures out how many moves are valid, creates a Coordinates array, and returns the valid move coordinates.\r\n\r\nHere&#39;s the complete, runnable code.\r\n\r\n    public class MoveKnight {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tMoveKnight mk = new MoveKnight();\r\n    \t\tdisplayOutput(mk, 3, 4);\r\n    \t\tdisplayOutput(mk, 1, 1);\r\n    \t\tdisplayOutput(mk, 7, 7);\r\n    \t\tdisplayOutput(mk, 1, 7);\r\n    \t\tdisplayOutput(mk, 7, 1);\r\n    \t}\r\n    \r\n    \tprivate static void displayOutput(MoveKnight mk, int row, int column) {\r\n    \t\tSystem.out.println(&quot;Origin row: &quot; + row + &quot;, column: &quot; + column);\r\n    \t\tCoordinate[] output = mk.knightMove(row, column);\r\n    \t\tfor (int index = 0; index &lt; output.length; index++) {\r\n    \t\t\tSystem.out.println(&quot;    Move to row: &quot; + output[index].getRow() + \r\n    \t\t\t\t\t&quot;, column: &quot; + output[index].getColumn());\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \r\n    \tpublic Coordinate[] knightMove(int currentRow, int currentColumn) {\r\n    \t\tCoordinate[] difference = { new Coordinate(-2, 1), new Coordinate(-2, -1), \r\n    \t\t\t\tnew Coordinate(-1, 2), new Coordinate(-1, -2), new Coordinate(1, 2), \r\n    \t\t\t\tnew Coordinate(1, -2), new Coordinate(2, 1), new Coordinate(2, -1) };\r\n    \r\n    \t\tint count = 0;\r\n    \t\tfor (int index = 0; index &lt; difference.length; index++) {\r\n    \t\t\tCoordinate destination = new Coordinate(currentRow, currentColumn);\r\n    \t\t\tdestination.incrementCoordinate(difference[index]);\r\n    \t\t\tif (destination.isValid()) {\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tCoordinate[] output = new Coordinate[count];\r\n    \t\tcount = 0;\r\n    \t\tfor (int index = 0; index &lt; difference.length; index++) {\r\n    \t\t\tCoordinate destination = new Coordinate(currentRow, currentColumn);\r\n    \t\t\tdestination.incrementCoordinate(difference[index]);\r\n    \t\t\tif (destination.isValid()) {\r\n    \t\t\t\toutput[count++] = destination;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn output;\r\n    \t}\r\n    \r\n    \tpublic class Coordinate {\r\n    \r\n    \t\tprivate int column, row;\r\n    \r\n    \t\tpublic Coordinate(int row, int column) {\r\n    \t\t\tsetRowColumn(row, column);\r\n    \t\t}\r\n    \r\n    \t\tpublic int getColumn() {\r\n    \t\t\treturn column;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getRow() {\r\n    \t\t\treturn row;\r\n    \t\t}\r\n    \r\n    \t\tpublic void incrementCoordinate(Coordinate increment) {\r\n    \t\t\tthis.row += increment.getRow();\r\n    \t\t\tthis.column += increment.getColumn();\r\n    \t\t}\r\n    \r\n    \t\tpublic void setRowColumn(int row, int column) {\r\n    \t\t\tthis.row = row;\r\n    \t\t\tthis.column = column;\r\n    \t\t}\r\n    \r\n    \t\tpublic boolean isValid() {\r\n    \t\t\treturn row &gt;= 0 &amp;&amp; row &lt; 8 &amp;&amp; column &gt;= 0 &amp;&amp; column &lt; 8;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to avoid accessing an invalid position in a 2d array?","body":"<p>Here are the results of one of my many test runs.</p>\n<pre><code>Origin row: 3, column: 4\n    Move to row: 1, column: 5\n    Move to row: 1, column: 3\n    Move to row: 2, column: 6\n    Move to row: 2, column: 2\n    Move to row: 4, column: 6\n    Move to row: 4, column: 2\n    Move to row: 5, column: 5\n    Move to row: 5, column: 3\n\nOrigin row: 1, column: 1\n    Move to row: 0, column: 3\n    Move to row: 2, column: 3\n    Move to row: 3, column: 2\n    Move to row: 3, column: 0\n\nOrigin row: 7, column: 7\n    Move to row: 5, column: 8\n    Move to row: 5, column: 6\n    Move to row: 6, column: 5\n    Move to row: 8, column: 5\n\nOrigin row: 1, column: 7\n    Move to row: 0, column: 5\n    Move to row: 2, column: 5\n    Move to row: 3, column: 8\n    Move to row: 3, column: 6\n\nOrigin row: 7, column: 1\n    Move to row: 5, column: 2\n    Move to row: 5, column: 0\n    Move to row: 6, column: 3\n    Move to row: 8, column: 3\n</code></pre>\n<p>The first thing I did was create a <code>Coordinate</code> class.  This allowed me to put the index out of bounds test in one place, in the <code>Coordinate</code> class.</p>\n<p>The <code>knightMove</code> method figures out how many moves are valid, creates a Coordinates array, and returns the valid move coordinates.</p>\n<p>Here's the complete, runnable code.</p>\n<pre><code>public class MoveKnight {\n\n    public static void main(String[] args) {\n        MoveKnight mk = new MoveKnight();\n        displayOutput(mk, 3, 4);\n        displayOutput(mk, 1, 1);\n        displayOutput(mk, 7, 7);\n        displayOutput(mk, 1, 7);\n        displayOutput(mk, 7, 1);\n    }\n\n    private static void displayOutput(MoveKnight mk, int row, int column) {\n        System.out.println(&quot;Origin row: &quot; + row + &quot;, column: &quot; + column);\n        Coordinate[] output = mk.knightMove(row, column);\n        for (int index = 0; index &lt; output.length; index++) {\n            System.out.println(&quot;    Move to row: &quot; + output[index].getRow() + \n                    &quot;, column: &quot; + output[index].getColumn());\n        }\n        System.out.println();\n    }\n\n    public Coordinate[] knightMove(int currentRow, int currentColumn) {\n        Coordinate[] difference = { new Coordinate(-2, 1), new Coordinate(-2, -1), \n                new Coordinate(-1, 2), new Coordinate(-1, -2), new Coordinate(1, 2), \n                new Coordinate(1, -2), new Coordinate(2, 1), new Coordinate(2, -1) };\n\n        int count = 0;\n        for (int index = 0; index &lt; difference.length; index++) {\n            Coordinate destination = new Coordinate(currentRow, currentColumn);\n            destination.incrementCoordinate(difference[index]);\n            if (destination.isValid()) {\n                count++;\n            }\n        }\n\n        Coordinate[] output = new Coordinate[count];\n        count = 0;\n        for (int index = 0; index &lt; difference.length; index++) {\n            Coordinate destination = new Coordinate(currentRow, currentColumn);\n            destination.incrementCoordinate(difference[index]);\n            if (destination.isValid()) {\n                output[count++] = destination;\n            }\n        }\n\n        return output;\n    }\n\n    public class Coordinate {\n\n        private int column, row;\n\n        public Coordinate(int row, int column) {\n            setRowColumn(row, column);\n        }\n\n        public int getColumn() {\n            return column;\n        }\n\n        public int getRow() {\n            return row;\n        }\n\n        public void incrementCoordinate(Coordinate increment) {\n            this.row += increment.getRow();\n            this.column += increment.getColumn();\n        }\n\n        public void setRowColumn(int row, int column) {\n            this.row = row;\n            this.column = column;\n        }\n\n        public boolean isValid() {\n            return row &gt;= 0 &amp;&amp; row &lt; 8 &amp;&amp; column &gt;= 0 &amp;&amp; column &lt; 8;\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14757545,"reputation":97,"user_id":10657844,"display_name":"Waifu_Forever"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68977535,"answer_count":1,"score":0,"last_activity_date":1641130621,"creation_date":1630272185,"question_id":68977001,"body_markdown":"I&#39;m working on the Knight&#39;s Tour problem and I&#39;m making a recursive solution for it. https://www.chess.com/terms/knights-tour-chess#:~:text=The%20knight&#39;s%20tour%20is%20a,same%20square%20more%20than%20once.\r\n\r\nI have a matrix[8][8] and a method called `knightMove(int currentRow, int currentColumn);`. This method should add all possible moves that the knight can make from the current position into an array. If the value of the position of the possible move is equal to 0, then `knightMove(newRow, newColumn)` will be called again from the new position.\r\n\r\nIf it finds a dead end, then it will try the next possible move in the array in the previous call. If it runs out of previous array positions, it will try the next position in the array called before this one and so on. The program will only end when it finds the right solution to the problem.\r\n\r\nNow comes my question, I&#39;d like to avoid use so many &#39;ifs&#39; to check whether a knight move goes out of table or not.\r\n\r\n    ArrayList &lt;int[]&gt; moves = new ArrayList&lt;int[]&gt;();\r\n    int[] arr = new int[2];\r\n    int max=8;\r\n    if (currentColumn-2 &gt; 0){\r\n        \r\n        if(currentRow - 1 &gt; 0){\r\n            arr[0] = currentColumn-2;\r\n            arr[1] = currentRow-1;  \r\n            moves.add(arr);\r\n        } \r\n        \r\n        if(currentRow+1 &lt; max){\r\n            arr[0] = currentColumn-2;\r\n            arr[1] = currentRow+1;\r\n            moves.add(arr);\r\n        }\r\n    } \r\n    if (currentRow-2 &gt; 0){\r\n        \r\n        if(currentColumn-1 &gt; 0){                \r\n            arr[0] = currentColumn-1;  \r\n            arr[1] = currentRow-2;\r\n            moves.add(arr);  \r\n        } \r\n        \r\n        if(currentColumn+1 &lt; max){\r\n            arr[0] = currentColumn+1;\r\n            arr[1] = currentRow-2;\r\n            moves.add(arr);\r\n        }\r\n    } \r\n    if (currentColumn+2 &gt; 0){\r\n        \r\n        if(currentRow-1 &gt; 0){\r\n            arr[0] = currentColumn+2;\r\n            arr[1] = currentRow-1;  \r\n            moves.add(arr);\r\n        } \r\n        \r\n        if(currentRow+1 &lt; max){\r\n            arr[0] = currentColumn+2;\r\n            arr[1] = currentRow+1;\r\n            moves.add(arr);\r\n        }\r\n    } \r\n    if (currentRow+2 &gt; 0){\r\n       \r\n        if(currentColumn-1 &gt; 0){\r\n            arr[0] = currentColumn-1;  \r\n            arr[1] = currentRow+2;\r\n            moves.add(arr);\r\n        } \r\n       \r\n        if(currentRow+1 &lt; max){\r\n            arr[0] = currentColumn+2;\r\n            arr[1] = currentRow+1;\r\n            moves.add(arr);\r\n        }\r\n    } \r\n\r\n     for (int[] c : moves){\r\n     // recursive logic...\r\n     }\r\n\r\n\r\nI&#39;m not interested in invalid positions. If the compiler can&#39;t access such invalid positions, it should just don&#39;t do anything with them, and not break my code. Focus on the ones that are really a valid position. I&#39;d like do something like below, adding just the values of valid positions in an array (Utopic solution):\r\n\r\n    int[] temp = {\r\n        table[currentRow-2][currentColumn-1], \r\n        table[currentRow-2][currentColumn+1], \r\n        table[currentRow+1][currentColumn-2], \r\n        table[currentRow-1][currentColumn-2],  \r\n        table[currentRow+2][currentColumn-1], \r\n        table[currentRow+2][currentColumn+1], \r\n        table[currentRow-1][currentColumn+2], \r\n        table[currentRow+1][currentColumn+2]  \r\n    };\r\n\r\nI want help to figure out a better approach to avoid accessing an invalid position in a matrix.","title":"How to avoid accessing an invalid position in a 2d array?","body":"<p>I'm working on the Knight's Tour problem and I'm making a recursive solution for it. <a href=\"https://www.chess.com/terms/knights-tour-chess#:%7E:text=The%20knight%27s%20tour%20is%20a,same%20square%20more%20than%20once\" rel=\"nofollow noreferrer\">https://www.chess.com/terms/knights-tour-chess#:~:text=The%20knight's%20tour%20is%20a,same%20square%20more%20than%20once</a>.</p>\n<p>I have a matrix[8][8] and a method called <code>knightMove(int currentRow, int currentColumn);</code>. This method should add all possible moves that the knight can make from the current position into an array. If the value of the position of the possible move is equal to 0, then <code>knightMove(newRow, newColumn)</code> will be called again from the new position.</p>\n<p>If it finds a dead end, then it will try the next possible move in the array in the previous call. If it runs out of previous array positions, it will try the next position in the array called before this one and so on. The program will only end when it finds the right solution to the problem.</p>\n<p>Now comes my question, I'd like to avoid use so many 'ifs' to check whether a knight move goes out of table or not.</p>\n<pre><code>ArrayList &lt;int[]&gt; moves = new ArrayList&lt;int[]&gt;();\nint[] arr = new int[2];\nint max=8;\nif (currentColumn-2 &gt; 0){\n    \n    if(currentRow - 1 &gt; 0){\n        arr[0] = currentColumn-2;\n        arr[1] = currentRow-1;  \n        moves.add(arr);\n    } \n    \n    if(currentRow+1 &lt; max){\n        arr[0] = currentColumn-2;\n        arr[1] = currentRow+1;\n        moves.add(arr);\n    }\n} \nif (currentRow-2 &gt; 0){\n    \n    if(currentColumn-1 &gt; 0){                \n        arr[0] = currentColumn-1;  \n        arr[1] = currentRow-2;\n        moves.add(arr);  \n    } \n    \n    if(currentColumn+1 &lt; max){\n        arr[0] = currentColumn+1;\n        arr[1] = currentRow-2;\n        moves.add(arr);\n    }\n} \nif (currentColumn+2 &gt; 0){\n    \n    if(currentRow-1 &gt; 0){\n        arr[0] = currentColumn+2;\n        arr[1] = currentRow-1;  \n        moves.add(arr);\n    } \n    \n    if(currentRow+1 &lt; max){\n        arr[0] = currentColumn+2;\n        arr[1] = currentRow+1;\n        moves.add(arr);\n    }\n} \nif (currentRow+2 &gt; 0){\n   \n    if(currentColumn-1 &gt; 0){\n        arr[0] = currentColumn-1;  \n        arr[1] = currentRow+2;\n        moves.add(arr);\n    } \n   \n    if(currentRow+1 &lt; max){\n        arr[0] = currentColumn+2;\n        arr[1] = currentRow+1;\n        moves.add(arr);\n    }\n} \n\n for (int[] c : moves){\n // recursive logic...\n }\n</code></pre>\n<p>I'm not interested in invalid positions. If the compiler can't access such invalid positions, it should just don't do anything with them, and not break my code. Focus on the ones that are really a valid position. I'd like do something like below, adding just the values of valid positions in an array (Utopic solution):</p>\n<pre><code>int[] temp = {\n    table[currentRow-2][currentColumn-1], \n    table[currentRow-2][currentColumn+1], \n    table[currentRow+1][currentColumn-2], \n    table[currentRow-1][currentColumn-2],  \n    table[currentRow+2][currentColumn-1], \n    table[currentRow+2][currentColumn+1], \n    table[currentRow-1][currentColumn+2], \n    table[currentRow+1][currentColumn+2]  \n};\n</code></pre>\n<p>I want help to figure out a better approach to avoid accessing an invalid position in a matrix.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1641126143,"post_id":70555793,"comment_id":124723144,"body_markdown":"`String arr = [1,0,1,0,1,1];` will not compile. Please don&#39;t include in questions problems unrelated to topic you want to ask. Use [edit] option to correct it.","body":"<code>String arr = [1,0,1,0,1,1];</code> will not compile. Please don&#39;t include in questions problems unrelated to topic you want to ask. Use <a href=\"https://stackoverflow.com/posts/70555793/edit\">edit</a> option to correct it."}],"answers":[{"tags":[],"owner":{"account_id":12405879,"reputation":44,"user_id":9040853,"display_name":"Ameen Essa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1641125865,"creation_date":1641125865,"answer_id":70555891,"question_id":70555793,"body_markdown":"I have implemented it using Java for you and I will explain it below with the code:\r\n\r\n```Java\r\n    public static void main(String[] args) {\r\n        int[] arr = {1, 0, 1, 0, 1, 1};\r\n        /*\r\n            Here you make a two index array to hold the values\r\n            of 0`s and 1`s as a counter.\r\n         */\r\n        int[] results = new int[2];\r\n\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            try {\r\n                //Check if the current index is 0 or 1\r\n                //Then increment the counter.\r\n                if (arr[i] &gt; 0) results[1]++;\r\n                else results[0]++;\r\n            } catch (NumberFormatException nfe) {\r\n                //NOTE: write something here if you need to recover from formatting errors\r\n            }\r\n        }\r\n        //Check which one is greater than the other.\r\n        System.out.println(results[1] &gt; results[0] ? &quot;True&quot; : &quot;False&quot;);\r\n    }\r\n```\r\n\r\nI hope you found it useful :)","title":"Count the Integer Array Values","body":"<p>I have implemented it using Java for you and I will explain it below with the code:</p>\n<pre><code>    public static void main(String[] args) {\n        int[] arr = {1, 0, 1, 0, 1, 1};\n        /*\n            Here you make a two index array to hold the values\n            of 0`s and 1`s as a counter.\n         */\n        int[] results = new int[2];\n\n        for (int i = 0; i &lt; arr.length; i++) {\n            try {\n                //Check if the current index is 0 or 1\n                //Then increment the counter.\n                if (arr[i] &gt; 0) results[1]++;\n                else results[0]++;\n            } catch (NumberFormatException nfe) {\n                //NOTE: write something here if you need to recover from formatting errors\n            }\n        }\n        //Check which one is greater than the other.\n        System.out.println(results[1] &gt; results[0] ? &quot;True&quot; : &quot;False&quot;);\n    }\n</code></pre>\n<p>I hope you found it useful :)</p>\n"},{"tags":[],"owner":{"account_id":20931868,"reputation":1,"user_id":15378093,"display_name":"filipgrzelak"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641130487,"creation_date":1641130487,"answer_id":70556397,"question_id":70555793,"body_markdown":"    public static void main(String[] args) {\r\n        String arg = &quot;[1,0,1,0,0]&quot;;\r\n        int amountOfZeros = 0;\r\n        int amountOfOnes = 0;\r\n        for (int i = 1; i &lt;arg.length() ; i= i + 2) {\r\n            int numberInArray = Integer.parseInt(String.valueOf(arg.charAt(i)));\r\n            try{\r\n                if(numberInArray == 0){\r\n                    amountOfZeros++;\r\n                }\r\n                if(numberInArray == 1){\r\n                    amountOfOnes++;\r\n                }\r\n            } catch (Exception e){\r\n                System.out.println(e);\r\n            }\r\n        }\r\n        // and now you can print this amounts of numbers and false or true if you need it;\r\n        System.out.println(amountOfZeros &lt;= amountOfOnes);\r\n        //or\r\n        if(amountOfZeros &gt; amountOfOnes){\r\n            System.out.println(false);\r\n        } else {\r\n            System.out.println(true);\r\n        }\r\n        System.out.println(amountOfZeros);\r\n        System.out.println(amountOfOnes);\r\n    }\r\nthis is how i understand your problem :p","title":"Count the Integer Array Values","body":"<pre><code>public static void main(String[] args) {\n    String arg = &quot;[1,0,1,0,0]&quot;;\n    int amountOfZeros = 0;\n    int amountOfOnes = 0;\n    for (int i = 1; i &lt;arg.length() ; i= i + 2) {\n        int numberInArray = Integer.parseInt(String.valueOf(arg.charAt(i)));\n        try{\n            if(numberInArray == 0){\n                amountOfZeros++;\n            }\n            if(numberInArray == 1){\n                amountOfOnes++;\n            }\n        } catch (Exception e){\n            System.out.println(e);\n        }\n    }\n    // and now you can print this amounts of numbers and false or true if you need it;\n    System.out.println(amountOfZeros &lt;= amountOfOnes);\n    //or\n    if(amountOfZeros &gt; amountOfOnes){\n        System.out.println(false);\n    } else {\n        System.out.println(true);\n    }\n    System.out.println(amountOfZeros);\n    System.out.println(amountOfOnes);\n}\n</code></pre>\n<p>this is how i understand your problem :p</p>\n"}],"owner":{"account_id":23448146,"reputation":15,"user_id":17504660,"display_name":"P76107077杰凱力艾"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1641298395,"accepted_answer_id":70555891,"answer_count":2,"score":-2,"last_activity_date":1641130487,"creation_date":1641125045,"question_id":70555793,"body_markdown":"how to count the integer values from the code below :\r\n\r\n                String arr = [1,0,1,0,1,1];\r\n                String[] items = arr.replaceAll(&quot;\\\\[&quot;, &quot;&quot;).replaceAll(&quot;\\\\]&quot;, &quot;&quot;).replaceAll(&quot;\\\\s&quot;, &quot;&quot;).split(&quot;,&quot;);\r\n\r\n                int[] results = new int[items.length];\r\n\r\n                for (int i = 0; i &lt; items.length; i++) {\r\n                    try {\r\n                        results[i] = Integer.parseInt(items[i]);\r\n                    } catch (NumberFormatException nfe) {\r\n                        //NOTE: write something here if you need to recover from formatting errors\r\n                    };\r\n                }\r\n\r\nI want to implement if 0 is more than 1 so will print false and if 1 is more than 0 will print true","title":"Count the Integer Array Values","body":"<p>how to count the integer values from the code below :</p>\n<pre><code>            String arr = [1,0,1,0,1,1];\n            String[] items = arr.replaceAll(&quot;\\\\[&quot;, &quot;&quot;).replaceAll(&quot;\\\\]&quot;, &quot;&quot;).replaceAll(&quot;\\\\s&quot;, &quot;&quot;).split(&quot;,&quot;);\n\n            int[] results = new int[items.length];\n\n            for (int i = 0; i &lt; items.length; i++) {\n                try {\n                    results[i] = Integer.parseInt(items[i]);\n                } catch (NumberFormatException nfe) {\n                    //NOTE: write something here if you need to recover from formatting errors\n                };\n            }\n</code></pre>\n<p>I want to implement if 0 is more than 1 so will print false and if 1 is more than 0 will print true</p>\n"},{"tags":["java","maven","pom.xml","maven-plugin","reflections"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641076694,"post_id":70552208,"comment_id":124717075,"body_markdown":"probably due to: &quot;Openmind is now part of Accenture Interactive&quot; ... https://www.openmindonline.it/ .... yea, **plugins** harder to &quot;scan&quot; than *dependencies*, please try: `mvn help:effective-pom &gt; effective-pom.xml` (`&amp;&amp; grep &#39;reflections-maven&#39; effective-pom.xml`;)","body":"probably due to: &quot;Openmind is now part of Accenture Interactive&quot; ... <a href=\"https://www.openmindonline.it/\" rel=\"nofollow noreferrer\">openmindonline.it</a> .... yea, <b>plugins</b> harder to &quot;scan&quot; than <i>dependencies</i>, please try: <code>mvn help:effective-pom &gt; effective-pom.xml</code> (<code>&amp;&amp; grep &#39;reflections-maven&#39; effective-pom.xml</code>;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641076754,"post_id":70552208,"comment_id":124717079,"body_markdown":"[help:effective-pom](https://maven.apache.org/plugins/maven-help-plugin/effective-pom-mojo.html) (netbeans has an extra view/tab for this;)","body":"<a href=\"https://maven.apache.org/plugins/maven-help-plugin/effective-pom-mojo.html\" rel=\"nofollow noreferrer\">help:effective-pom</a> (netbeans has an extra view/tab for this;)"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1641078322,"post_id":70552208,"comment_id":124717308,"body_markdown":"@xerx593 Yes, the `effective-pom.xml` shows indeed `reflections-maven` version `0.9.5` and execution with `process-classes` phase and `reflections` goal among plugins. However, it doesn&#39;t lead me to its origin.","body":"@xerx593 Yes, the <code>effective-pom.xml</code> shows indeed <code>reflections-maven</code> version <code>0.9.5</code> and execution with <code>process-classes</code> phase and <code>reflections</code> goal among plugins. However, it doesn&#39;t lead me to its origin."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641078810,"post_id":70552208,"comment_id":124717374,"body_markdown":"&quot;&lt;verbose&gt;\tboolean\t3.2.0\tOutput POM input location as comments.&quot;","body":"&quot;&lt;verbose&gt;\tboolean\t3.2.0\tOutput POM input location as comments.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641130415,"creation_date":1641083182,"answer_id":70552838,"question_id":70552208,"body_markdown":"With \r\n[Help:Effective-Pom](https://maven.apache.org/plugins/maven-help-plugin/effective-pom-mojo.html):\r\n\r\n`mvn -Dverbose=true -Doutput=./effective-pom.xml help:effective-pom`\r\n\r\nWe can analyze our &quot;effective pom&quot; ([Pom#inheritance][1], [Pom#super-Pom][2]).\r\n\r\n- The `verbose` flag will also add the source pom (artifact) as a comment to each output line.\r\n- `output` sets an output file. (default: prints to console)\r\n\r\n&quot;inter alia&quot; it allows us to locate/override any inherited plugin/dependency/&quot;pom element&quot;.\r\n\r\nUnfortunately the output generates:\r\n- for &quot;trivial&quot; projects &quot;hundreds&quot; lines of pom.\r\n- for &quot;non-trivial&quot; (spring-boot-starter), it gets easily into &quot;ten-thousands&quot; (lines of pom). \r\n\r\nIn [tag:intellij] we have a [&quot;Show effective Pom&quot;][3] command, which basically invokes the mentioned goal and shows the output (in community edition unfortunately!?) without &quot;verbose&quot;.\r\n\r\n----------\r\n\r\n[tag:netbeans] has a &quot;Effective&quot; tab in its &quot;Pom Editor&quot;:\r\n- scrolling/cursoring is here also &quot;cumbersome&quot;, but we have &quot;full&quot;:\r\n- &quot;Navigation&quot; (window) support\r\n- Text search\r\n- Code hints, etc...\r\n\r\n(, &quot;Graph&quot; view also very nice...(and unique feature among &quot;maven IDES (that i know)&quot;, and it can be installed un-rooted;)!\r\n\r\n----------\r\n\r\n### Update:\r\n\r\nSo the mojo seems to work as documented:\r\n&gt;`&lt;verbose&gt;`\tboolean\t(**since:**)3.2.0\tOutput POM input location as comments.\r\n&gt;\r\n&gt; Default value is: `false`.\r\n&gt;\r\n&gt; User property is: `verbose`.\r\n\r\nFor `verbose` to have an effect, we need to:\r\n```lang-xml\r\n&lt;project ...&gt;\r\n ...\r\n &lt;build&gt;\r\n   &lt;plugins&gt;\r\n     &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\r\n     &lt;version&gt;3.2.0&lt;/version&gt; &lt;!-- or higher! --&gt;\r\n   &lt;/plugins&gt;\r\n &lt;/build&gt;\r\n ...\r\n&lt;/project&gt;\r\n```\r\n... respectively can (without pom modification):\r\n```lang-bash\r\nmvn -Dverbose=true -Doutput=./eff.pom.xml \\\r\n  org.apache.maven.plugins:maven-help-plugin:3.2.0:effective-pom\r\n```\r\n\r\n  [1]: https://maven.apache.org/pom.html#inheritance\r\n  [2]: https://maven.apache.org/pom.html#the-super-pom\r\n  [3]: https://www.jetbrains.com/help/idea/maven-projects-tool-window.html#5ac14161\r\n  [4]: https://i.stack.imgur.com/M95ZI.png","title":"Unable to find out where reflections-maven plugin comes from","body":"<p>With\n<a href=\"https://maven.apache.org/plugins/maven-help-plugin/effective-pom-mojo.html\" rel=\"nofollow noreferrer\">Help:Effective-Pom</a>:</p>\n<p><code>mvn -Dverbose=true -Doutput=./effective-pom.xml help:effective-pom</code></p>\n<p>We can analyze our &quot;effective pom&quot; (<a href=\"https://maven.apache.org/pom.html#inheritance\" rel=\"nofollow noreferrer\">Pom#inheritance</a>, <a href=\"https://maven.apache.org/pom.html#the-super-pom\" rel=\"nofollow noreferrer\">Pom#super-Pom</a>).</p>\n<ul>\n<li>The <code>verbose</code> flag will also add the source pom (artifact) as a comment to each output line.</li>\n<li><code>output</code> sets an output file. (default: prints to console)</li>\n</ul>\n<p>&quot;inter alia&quot; it allows us to locate/override any inherited plugin/dependency/&quot;pom element&quot;.</p>\n<p>Unfortunately the output generates:</p>\n<ul>\n<li>for &quot;trivial&quot; projects &quot;hundreds&quot; lines of pom.</li>\n<li>for &quot;non-trivial&quot; (spring-boot-starter), it gets easily into &quot;ten-thousands&quot; (lines of pom).</li>\n</ul>\n<p>In <a href=\"/questions/tagged/intellij\" class=\"post-tag\" title=\"show questions tagged &#39;intellij&#39;\" rel=\"tag\">intellij</a> we have a <a href=\"https://www.jetbrains.com/help/idea/maven-projects-tool-window.html#5ac14161\" rel=\"nofollow noreferrer\">&quot;Show effective Pom&quot;</a> command, which basically invokes the mentioned goal and shows the output (in community edition unfortunately!?) without &quot;verbose&quot;.</p>\n<hr />\n<p><a href=\"/questions/tagged/netbeans\" class=\"post-tag\" title=\"show questions tagged &#39;netbeans&#39;\" rel=\"tag\">netbeans</a> has a &quot;Effective&quot; tab in its &quot;Pom Editor&quot;:</p>\n<ul>\n<li>scrolling/cursoring is here also &quot;cumbersome&quot;, but we have &quot;full&quot;:</li>\n<li>&quot;Navigation&quot; (window) support</li>\n<li>Text search</li>\n<li>Code hints, etc...</li>\n</ul>\n<p>(, &quot;Graph&quot; view also very nice...(and unique feature among &quot;maven IDES (that i know)&quot;, and it can be installed un-rooted;)!</p>\n<hr />\n<h3>Update:</h3>\n<p>So the mojo seems to work as documented:</p>\n<blockquote>\n<p><code>&lt;verbose&gt;</code>    boolean (<strong>since:</strong>)3.2.0   Output POM input location as comments.</p>\n<p>Default value is: <code>false</code>.</p>\n<p>User property is: <code>verbose</code>.</p>\n</blockquote>\n<p>For <code>verbose</code> to have an effect, we need to:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project ...&gt;\n ...\n &lt;build&gt;\n   &lt;plugins&gt;\n     &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\n     &lt;version&gt;3.2.0&lt;/version&gt; &lt;!-- or higher! --&gt;\n   &lt;/plugins&gt;\n &lt;/build&gt;\n ...\n&lt;/project&gt;\n</code></pre>\n<p>... respectively can (without pom modification):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn -Dverbose=true -Doutput=./eff.pom.xml \\\n  org.apache.maven.plugins:maven-help-plugin:3.2.0:effective-pom\n</code></pre>\n"}],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70552838,"answer_count":1,"score":3,"last_activity_date":1641130464,"creation_date":1641074838,"question_id":70552208,"body_markdown":"There executes a particular Maven plugin and I struggle to find out where it comes from to either remove or replace it as its compile dependency link is broken. I am talking about [`org.reflections:reflections-maven:0.9.8`][1] that depends on [`org.jfrog.jade.plugins.common:jade-plugin-common:1.3.8`][2] which Maven is not able to download from the central repository as the link redirects to OpenMind location and results in 404 ([link][3]).\r\n\r\nInstead of including such JAR in the project structure, I would rather figure out where is reflections-maven plugin defined as this plugin is discontinued ([GitHub][4]) but somehow is executed during the build (`mvn clean install`).\r\n\r\n```\r\n[INFO] --- reflections-maven:0.9.5:reflections (default) @ my-module ---\r\n[INFO] Reflections took 240 ms to scan 1 urls, producing 35 keys and 128 values \r\n[INFO] Reflections successfully saved in C:\\Dev\\my-project\\my-parent\\my-module\\target\\classes\\META-INF\\reflections\\my-module-reflections.xml using XmlSerializer\r\n```\r\n\r\nI haven&#39;t found where is `reflections-maven` defined in any of the multi-module project structure or used. Note I use Maven `3.3.9`. My attempts:\r\n\r\n- Skimming through all plugins and dependencies `pom.xml` of the failing module and all its parents (the module depends on other modules, however, they were all built successfully before the failing one).\r\n- `mvn dependency:tree -Dverbose` doesn&#39;t mention any of `reflections-maven` or `jade-plugin-common` at all. The command generates over 136k lines, so it was required to save the output into a file and perform the full-text-search. I am afras Maven 3 is the limit here as far as I understand from this [comment][5].\r\n- Using [`depgraph-maven-plugin`][6] gave me the very same negative result.\r\n- `mvn dependency:analyze -DignoreNonCompile` gives only an information that the artifacts were resolved and that where it ends. it doesn&#39;t really show anything useful.\r\n    ```\r\n    [INFO] --- reflections-maven:0.9.5:reflections (default) @ my-module ---\r\n    [IJ]-1-ARTIFACT_RESOLVING-[IJ]-path=-[IJ]-artifactCoord=org.reflections:reflections-maven:pom:0.9.5-[IJ]-error=\r\n    [IJ]-1-ARTIFACT_RESOLVED-[IJ]-path=C:\\Users\\user\\.m2\\repository\\org\\reflections\\reflections-maven\\0.9.5\\reflections-maven-0.9.5.pom-[IJ]-artifactCoord=org.reflections:reflections-maven:pom:0.9.5-[IJ]-error=\r\n    [IJ]-1-ARTIFACT_RESOLVING-[IJ]-path=-[IJ]-artifactCoord=org.reflections:reflections-maven:jar:0.9.5-[IJ]-error=\r\n    [IJ]-1-ARTIFACT_RESOLVED-[IJ]-path=C:\\Users\\user\\.m2\\repository\\org\\reflections\\reflections-maven\\0.9.5\\reflections-maven-0.9.5.jar-[IJ]-artifactCoord=org.reflections:reflections-maven:jar:0.9.5-[IJ]-error=\r\n    [IJ]-1-ARTIFACT_RESOLVING-[IJ]-path=-[IJ]-artifactCoord=org.reflections:reflections:jar:0.9.5-[IJ]-error=\r\n    [IJ]-1-ARTIFACT_RESOLVED-[IJ]-path=C:\\Users\\user\\.m2\\repository\\org\\reflections\\reflections\\0.9.5\\reflections-0.9.5.jar-[IJ]-artifactCoord=org.reflections:reflections:jar:0.9.5-[IJ]-error=\r\n    [IJ]-1-ARTIFACT_RESOLVING-[IJ]-path=-[IJ]-artifactCoord=com.google.guava:guava:jar:r08-[IJ]-error=\r\n    [IJ]-1-ARTIFACT_RESOLVED-[IJ]-path=C:\\Users\\user\\.m2\\repository\\com\\google\\guava\\guava\\r08\\guava-r08.jar-[IJ]-artifactCoord=com.google.guava:guava:jar:r08-[IJ]-error=\r\n    ...\r\n    [IJ]-1-ARTIFACT_RESOLVING-[IJ]-path=-[IJ]-artifactCoord=org.jfrog.maven.annomojo:maven-plugin-anno:jar:1.4.0-[IJ]-error=\r\n    [IJ]-1-ARTIFACT_RESOLVED-[IJ]-path=C:\\Users\\user\\.m2\\repository\\org\\jfrog\\maven\\annomojo\\maven-plugin-anno\\1.4.0\\maven-plugin-anno-1.4.0.jar-[IJ]-artifactCoord=org.jfrog.maven.annomojo:maven-plugin-anno:jar:1.4.0-[IJ]-error=\r\n    [IJ]-1-ARTIFACT_RESOLVING-[IJ]-path=-[IJ]-artifactCoord=org.jfrog.jade.plugins.common:jade-plugin-common:jar:1.3.8-[IJ]-error=\r\n    [IJ]-1-ARTIFACT_RESOLVED-[IJ]-path=C:\\Users\\user\\.m2\\repository\\org\\jfrog\\jade\\plugins\\common\\jade-plugin-common\\1.3.8\\jade-plugin-common-1.3.8.jar-[IJ]-artifactCoord=org.jfrog.jade.plugins.common:jade-plugin-common:jar:1.3.8-[IJ]-error=\r\n    ...\r\n    ```\r\n- Checking the artifacts using the `reflections-maven` from [here][7], however, none of the artifacts mentioned appear in my project as well.\r\n\r\n**Question:** If I don&#39;t have such JAR in the local repository, the build fails as the plugin is executed. In that case, how can I find a way any plugin (particularly `reflections-maven` in my case) is *truly* imported and executed in the project? \r\n\r\nFeel free to ask for more info in the commens. I use IntelliJ Idea, Maven 3.3.9 and Java 7 if it matters.\r\n\r\n____\r\n\r\n**Solution 1 (didn&#39;t work for me):** I have tried to run `mvn -Dverbose=true -Doutput=./effective-pom.xml help:effective-pom` and both the normal and the verbose form of `effective-pom` displays the same output of `reflections-maven` plugin with no additional information about its origin. Since the file is rather big, I include a screenshot:\r\n\r\n[![enter image description here][8]][8]\r\n\r\nThis might be an issue with my Maven 3.3.9 with a custom `settings.xml` and a specific IntelliJ Idea. I assume the `verbose` output would lead to the true origin.\r\n\r\n____\r\n\r\n**Solution 2:**\r\n\r\nUpon installing Netbeans (I use IntelliJ Idea by default), the `Effective` tab of the POM editor finally led me to the true origin where the plugin is defined.\r\n\r\n[![enter image description here][9]][9]\r\n\r\nSadly, IntelliJ Idea doesn&#39;t provide such navigation through its effective POM and navigating to the origin is virtually impossible without manual clicking through parent POMs.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.reflections/reflections-maven/0.9.8\r\n  [2]: https://mvnrepository.com/artifact/org.jfrog.jade.plugins.common/jade-plugin-common/1.3.8\r\n  [3]: https://repository.openmindonline.it/org/jfrog/jade/plugins/common/jade-plugin-common/1.3.8/jade-plugin-common-1.3.8.jar\r\n  [4]: https://github.com/ronmamo/reflections-maven\r\n  [5]: https://stackoverflow.com/questions/45696845/how-to-find-a-dependency-in-maven-dependencytree-doesnt-work#comment124371495_45697030\r\n  [6]: https://github.com/ferstl/depgraph-maven-plugin\r\n  [7]: https://mvnrepository.com/artifact/org.reflections/reflections-maven/usages\r\n  [8]: https://i.stack.imgur.com/q7Jtr.png\r\n  [9]: https://i.stack.imgur.com/4OaBJ.png","title":"Unable to find out where reflections-maven plugin comes from","body":"<p>There executes a particular Maven plugin and I struggle to find out where it comes from to either remove or replace it as its compile dependency link is broken. I am talking about <a href=\"https://mvnrepository.com/artifact/org.reflections/reflections-maven/0.9.8\" rel=\"nofollow noreferrer\"><code>org.reflections:reflections-maven:0.9.8</code></a> that depends on <a href=\"https://mvnrepository.com/artifact/org.jfrog.jade.plugins.common/jade-plugin-common/1.3.8\" rel=\"nofollow noreferrer\"><code>org.jfrog.jade.plugins.common:jade-plugin-common:1.3.8</code></a> which Maven is not able to download from the central repository as the link redirects to OpenMind location and results in 404 (<a href=\"https://repository.openmindonline.it/org/jfrog/jade/plugins/common/jade-plugin-common/1.3.8/jade-plugin-common-1.3.8.jar\" rel=\"nofollow noreferrer\">link</a>).</p>\n<p>Instead of including such JAR in the project structure, I would rather figure out where is reflections-maven plugin defined as this plugin is discontinued (<a href=\"https://github.com/ronmamo/reflections-maven\" rel=\"nofollow noreferrer\">GitHub</a>) but somehow is executed during the build (<code>mvn clean install</code>).</p>\n<pre><code>[INFO] --- reflections-maven:0.9.5:reflections (default) @ my-module ---\n[INFO] Reflections took 240 ms to scan 1 urls, producing 35 keys and 128 values \n[INFO] Reflections successfully saved in C:\\Dev\\my-project\\my-parent\\my-module\\target\\classes\\META-INF\\reflections\\my-module-reflections.xml using XmlSerializer\n</code></pre>\n<p>I haven't found where is <code>reflections-maven</code> defined in any of the multi-module project structure or used. Note I use Maven <code>3.3.9</code>. My attempts:</p>\n<ul>\n<li>Skimming through all plugins and dependencies <code>pom.xml</code> of the failing module and all its parents (the module depends on other modules, however, they were all built successfully before the failing one).</li>\n<li><code>mvn dependency:tree -Dverbose</code> doesn't mention any of <code>reflections-maven</code> or <code>jade-plugin-common</code> at all. The command generates over 136k lines, so it was required to save the output into a file and perform the full-text-search. I am afras Maven 3 is the limit here as far as I understand from this <a href=\"https://stackoverflow.com/questions/45696845/how-to-find-a-dependency-in-maven-dependencytree-doesnt-work#comment124371495_45697030\">comment</a>.</li>\n<li>Using <a href=\"https://github.com/ferstl/depgraph-maven-plugin\" rel=\"nofollow noreferrer\"><code>depgraph-maven-plugin</code></a> gave me the very same negative result.</li>\n<li><code>mvn dependency:analyze -DignoreNonCompile</code> gives only an information that the artifacts were resolved and that where it ends. it doesn't really show anything useful.\n<pre><code>[INFO] --- reflections-maven:0.9.5:reflections (default) @ my-module ---\n[IJ]-1-ARTIFACT_RESOLVING-[IJ]-path=-[IJ]-artifactCoord=org.reflections:reflections-maven:pom:0.9.5-[IJ]-error=\n[IJ]-1-ARTIFACT_RESOLVED-[IJ]-path=C:\\Users\\user\\.m2\\repository\\org\\reflections\\reflections-maven\\0.9.5\\reflections-maven-0.9.5.pom-[IJ]-artifactCoord=org.reflections:reflections-maven:pom:0.9.5-[IJ]-error=\n[IJ]-1-ARTIFACT_RESOLVING-[IJ]-path=-[IJ]-artifactCoord=org.reflections:reflections-maven:jar:0.9.5-[IJ]-error=\n[IJ]-1-ARTIFACT_RESOLVED-[IJ]-path=C:\\Users\\user\\.m2\\repository\\org\\reflections\\reflections-maven\\0.9.5\\reflections-maven-0.9.5.jar-[IJ]-artifactCoord=org.reflections:reflections-maven:jar:0.9.5-[IJ]-error=\n[IJ]-1-ARTIFACT_RESOLVING-[IJ]-path=-[IJ]-artifactCoord=org.reflections:reflections:jar:0.9.5-[IJ]-error=\n[IJ]-1-ARTIFACT_RESOLVED-[IJ]-path=C:\\Users\\user\\.m2\\repository\\org\\reflections\\reflections\\0.9.5\\reflections-0.9.5.jar-[IJ]-artifactCoord=org.reflections:reflections:jar:0.9.5-[IJ]-error=\n[IJ]-1-ARTIFACT_RESOLVING-[IJ]-path=-[IJ]-artifactCoord=com.google.guava:guava:jar:r08-[IJ]-error=\n[IJ]-1-ARTIFACT_RESOLVED-[IJ]-path=C:\\Users\\user\\.m2\\repository\\com\\google\\guava\\guava\\r08\\guava-r08.jar-[IJ]-artifactCoord=com.google.guava:guava:jar:r08-[IJ]-error=\n...\n[IJ]-1-ARTIFACT_RESOLVING-[IJ]-path=-[IJ]-artifactCoord=org.jfrog.maven.annomojo:maven-plugin-anno:jar:1.4.0-[IJ]-error=\n[IJ]-1-ARTIFACT_RESOLVED-[IJ]-path=C:\\Users\\user\\.m2\\repository\\org\\jfrog\\maven\\annomojo\\maven-plugin-anno\\1.4.0\\maven-plugin-anno-1.4.0.jar-[IJ]-artifactCoord=org.jfrog.maven.annomojo:maven-plugin-anno:jar:1.4.0-[IJ]-error=\n[IJ]-1-ARTIFACT_RESOLVING-[IJ]-path=-[IJ]-artifactCoord=org.jfrog.jade.plugins.common:jade-plugin-common:jar:1.3.8-[IJ]-error=\n[IJ]-1-ARTIFACT_RESOLVED-[IJ]-path=C:\\Users\\user\\.m2\\repository\\org\\jfrog\\jade\\plugins\\common\\jade-plugin-common\\1.3.8\\jade-plugin-common-1.3.8.jar-[IJ]-artifactCoord=org.jfrog.jade.plugins.common:jade-plugin-common:jar:1.3.8-[IJ]-error=\n...\n</code></pre>\n</li>\n<li>Checking the artifacts using the <code>reflections-maven</code> from <a href=\"https://mvnrepository.com/artifact/org.reflections/reflections-maven/usages\" rel=\"nofollow noreferrer\">here</a>, however, none of the artifacts mentioned appear in my project as well.</li>\n</ul>\n<p><strong>Question:</strong> If I don't have such JAR in the local repository, the build fails as the plugin is executed. In that case, how can I find a way any plugin (particularly <code>reflections-maven</code> in my case) is <em>truly</em> imported and executed in the project?</p>\n<p>Feel free to ask for more info in the commens. I use IntelliJ Idea, Maven 3.3.9 and Java 7 if it matters.</p>\n<hr />\n<p><strong>Solution 1 (didn't work for me):</strong> I have tried to run <code>mvn -Dverbose=true -Doutput=./effective-pom.xml help:effective-pom</code> and both the normal and the verbose form of <code>effective-pom</code> displays the same output of <code>reflections-maven</code> plugin with no additional information about its origin. Since the file is rather big, I include a screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/q7Jtr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q7Jtr.png\" alt=\"enter image description here\" /></a></p>\n<p>This might be an issue with my Maven 3.3.9 with a custom <code>settings.xml</code> and a specific IntelliJ Idea. I assume the <code>verbose</code> output would lead to the true origin.</p>\n<hr />\n<p><strong>Solution 2:</strong></p>\n<p>Upon installing Netbeans (I use IntelliJ Idea by default), the <code>Effective</code> tab of the POM editor finally led me to the true origin where the plugin is defined.</p>\n<p><a href=\"https://i.stack.imgur.com/4OaBJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4OaBJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Sadly, IntelliJ Idea doesn't provide such navigation through its effective POM and navigating to the origin is virtually impossible without manual clicking through parent POMs.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","testcontainers","testcontainers-junit5"],"answers":[{"tags":[],"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641130199,"creation_date":1641130199,"answer_id":70556368,"question_id":70555004,"body_markdown":"The Selenium 4.X support for the `selenium` Testcontainers module is currently an [ongoing issue][1] and has already been reported.\r\n\r\nThere&#39;s already an [open PR][2] to fix it but it&#39;s not yet integrated. \r\n\r\nYou can try to downgrade Selenium to `3.141.59` if you&#39;re not relying on any Selenium 4.X API.\r\n\r\n\r\n  [1]: https://github.com/testcontainers/testcontainers-java/issues/4593\r\n  [2]: https://github.com/testcontainers/testcontainers-java/pull/4609","title":"TestContainer running a Selenium Chrome Driver, java.lang.NoSuchMethodError","body":"<p>The Selenium 4.X support for the <code>selenium</code> Testcontainers module is currently an <a href=\"https://github.com/testcontainers/testcontainers-java/issues/4593\" rel=\"nofollow noreferrer\">ongoing issue</a> and has already been reported.</p>\n<p>There's already an <a href=\"https://github.com/testcontainers/testcontainers-java/pull/4609\" rel=\"nofollow noreferrer\">open PR</a> to fix it but it's not yet integrated.</p>\n<p>You can try to downgrade Selenium to <code>3.141.59</code> if you're not relying on any Selenium 4.X API.</p>\n"}],"owner":{"account_id":437059,"reputation":654,"user_id":824553,"accept_rate":100,"display_name":"kwh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1032,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70556368,"answer_count":1,"score":1,"last_activity_date":1641130199,"creation_date":1641116859,"question_id":70555004,"body_markdown":"I am trying to run a Selenium test via a TestContainer.\r\n\r\nThis is failing via a NoSuchMethodError on `ChromeOptions .addArguments(String...s)`\r\n\r\nHowever, if I call this directly from a test it passes and the `addArguments(String...s)` method is found, e.g.\r\n\r\n    @Test \r\n    void thisTestPasses() {\r\n      ChromeOptions co = new ChromeOptions();\r\n      co.addArguments(&quot;--disable-gpu&quot;);\r\n    }\r\n\r\n\r\nHowever, if this method is called via the `BrowserWebDriverContainer` class, then it throws a `NoSuchMethodError`\r\n\r\nThis is my test method:\r\n\r\n      @Test\r\n    void thisTestFailsWithMethodNotFound() {\r\n      BrowserWebDriverContainer chrome = new BrowserWebDriverContainer()\r\n          .withRecordingMode(BrowserWebDriverContainer.VncRecordingMode.RECORD_ALL,\r\n              new File(&quot;./target/&quot;))\r\n          .withCapabilities(new ChromeOptions());\r\n      chrome.start();\r\n  }\r\n\r\nThis test calls the following from `org.testcontainers.containers.BrowserWebDriverContainer` \r\n\r\n        // Hack for new selenium-chrome image that contains Chrome 92.\r\n        // If not disabled, container startup will fail in most cases and consume excessive amounts of CPU.\r\n        if (capabilities instanceof ChromeOptions) {\r\n            ChromeOptions options = (ChromeOptions) this.capabilities;\r\n            options.addArguments(&quot;--disable-gpu&quot;);\r\n        }\r\n\r\nWhere `options.addArguments(&quot;--disable-gpu&quot;);` throws `java.lang.NoSuchMethodError`\r\n\r\n    java.lang.NoSuchMethodError: &#39;org.openqa.selenium.chrome.ChromeOptions org.openqa.selenium.chrome.ChromeOptions.addArguments(java.lang.String[])&#39;\r\n\r\n\tat org.testcontainers.containers.BrowserWebDriverContainer.configure(BrowserWebDriverContainer.java:173)\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:322)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:317)\r\n\tat com.example.demo.DemoApplicationTests.contextLoads(DemoApplicationTests.java:25)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\n\r\n\r\nThis is a demo project I have setup to try and recreate the issue, here is the entirety of my `pom.xml` file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;testcontainers.version&gt;1.16.2&lt;/testcontainers.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n","title":"TestContainer running a Selenium Chrome Driver, java.lang.NoSuchMethodError","body":"<p>I am trying to run a Selenium test via a TestContainer.</p>\n<p>This is failing via a NoSuchMethodError on <code>ChromeOptions .addArguments(String...s)</code></p>\n<p>However, if I call this directly from a test it passes and the <code>addArguments(String...s)</code> method is found, e.g.</p>\n<pre><code>@Test \nvoid thisTestPasses() {\n  ChromeOptions co = new ChromeOptions();\n  co.addArguments(&quot;--disable-gpu&quot;);\n}\n</code></pre>\n<p>However, if this method is called via the <code>BrowserWebDriverContainer</code> class, then it throws a <code>NoSuchMethodError</code></p>\n<p>This is my test method:</p>\n<pre><code>  @Test\nvoid thisTestFailsWithMethodNotFound() {\n  BrowserWebDriverContainer chrome = new BrowserWebDriverContainer()\n      .withRecordingMode(BrowserWebDriverContainer.VncRecordingMode.RECORD_ALL,\n          new File(&quot;./target/&quot;))\n      .withCapabilities(new ChromeOptions());\n  chrome.start();\n</code></pre>\n<p>}</p>\n<p>This test calls the following from <code>org.testcontainers.containers.BrowserWebDriverContainer</code></p>\n<pre><code>    // Hack for new selenium-chrome image that contains Chrome 92.\n    // If not disabled, container startup will fail in most cases and consume excessive amounts of CPU.\n    if (capabilities instanceof ChromeOptions) {\n        ChromeOptions options = (ChromeOptions) this.capabilities;\n        options.addArguments(&quot;--disable-gpu&quot;);\n    }\n</code></pre>\n<p>Where <code>options.addArguments(&quot;--disable-gpu&quot;);</code> throws <code>java.lang.NoSuchMethodError</code></p>\n<pre><code>java.lang.NoSuchMethodError: 'org.openqa.selenium.chrome.ChromeOptions org.openqa.selenium.chrome.ChromeOptions.addArguments(java.lang.String[])'\n\nat org.testcontainers.containers.BrowserWebDriverContainer.configure(BrowserWebDriverContainer.java:173)\nat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:322)\nat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:317)\nat com.example.demo.DemoApplicationTests.contextLoads(DemoApplicationTests.java:25)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\n</code></pre>\n<p>This is a demo project I have setup to try and recreate the issue, here is the entirety of my <code>pom.xml</code> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttps://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;demo&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;testcontainers.version&gt;1.16.2&lt;/testcontainers.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium&lt;/artifactId&gt;\n        &lt;version&gt;1.16.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n        &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n        &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n        &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\n            &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":4,"creation_date":1640981189,"post_id":70545160,"comment_id":124703969,"body_markdown":"What exactly is the problem? Your code is more or less O(n) on the number of items in the list-of-lists (hard to know for sure, since it looks like there are a couple bugs, but you haven&#39;t told us the end goal), which is as good as it&#39;s going to get if you can&#39;t assume any ordering. You may want to read the items into a Map or such of you need repeated lookups, and if it fits into memory. If it doesn&#39;t fit into memory, it may be time to look into a real database. But without knowing what specific problem you&#39;re actually having, we can&#39;t offer a solution.","body":"What exactly is the problem? Your code is more or less O(n) on the number of items in the list-of-lists (hard to know for sure, since it looks like there are a couple bugs, but you haven&#39;t told us the end goal), which is as good as it&#39;s going to get if you can&#39;t assume any ordering. You may want to read the items into a Map or such of you need repeated lookups, and if it fits into memory. If it doesn&#39;t fit into memory, it may be time to look into a real database. But without knowing what specific problem you&#39;re actually having, we can&#39;t offer a solution."},{"owner":{"account_id":14028682,"reputation":716,"user_id":10133114,"display_name":"Hasan Aga"},"score":0,"creation_date":1640984066,"post_id":70545160,"comment_id":124704480,"body_markdown":"The code which you have provided does not compile because you are treating `countries` as a list of lists while it is only a list of string!","body":"The code which you have provided does not compile because you are treating <code>countries</code> as a list of lists while it is only a list of string!"}],"answers":[{"tags":[],"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1640985049,"creation_date":1640983446,"answer_id":70545559,"question_id":70545160,"body_markdown":"You can use jackson (here you&#39;ll find documention of it [https://github.com/FasterXML/jackson-dataformats-text/tree/master/csv][1]) to read CSV file.\r\n\r\nyou can try this code, in this way you can iterate the list easily. \r\n\r\n```\r\nimport com.fasterxml.jackson.dataformat.csv.CsvMapper;\r\nimport com.fasterxml.jackson.dataformat.csv.CsvSchema;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\npublic class CsvUtils {\r\n\r\n    private final static CsvMapper mapper = new CsvMapper();\r\n\r\n\r\n    /**\r\n     * function to read SCV\r\n     * @param clazz {@link Class}\r\n     * @param file {@link File}\r\n     * @param &lt;T&gt; {@link T}\r\n     * @return List of object\r\n     * @throws IOException must catch it\r\n     */\r\n    public static &lt;T&gt; List&lt;T&gt; read(Class&lt;T&gt; clazz, File file) throws IOException {\r\n        CsvSchema schema = mapper.schemaFor(clazz).withHeader().withColumnSeparator(&#39;,&#39;);\r\n        return mapper.readerFor(clazz).with(schema).&lt;T&gt;readValues(file).readAll();\r\n    }\r\n\r\n\r\n}\r\n``` \r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-dataformats-text/tree/master/csv","title":"How to iterate over List of Lists in Java?","body":"<p>You can use jackson (here you'll find documention of it <a href=\"https://github.com/FasterXML/jackson-dataformats-text/tree/master/csv\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-dataformats-text/tree/master/csv</a>) to read CSV file.</p>\n<p>you can try this code, in this way you can iterate the list easily.</p>\n<pre><code>import com.fasterxml.jackson.dataformat.csv.CsvMapper;\nimport com.fasterxml.jackson.dataformat.csv.CsvSchema;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.List;\n\npublic class CsvUtils {\n\n    private final static CsvMapper mapper = new CsvMapper();\n\n\n    /**\n     * function to read SCV\n     * @param clazz {@link Class}\n     * @param file {@link File}\n     * @param &lt;T&gt; {@link T}\n     * @return List of object\n     * @throws IOException must catch it\n     */\n    public static &lt;T&gt; List&lt;T&gt; read(Class&lt;T&gt; clazz, File file) throws IOException {\n        CsvSchema schema = mapper.schemaFor(clazz).withHeader().withColumnSeparator(',');\n        return mapper.readerFor(clazz).with(schema).&lt;T&gt;readValues(file).readAll();\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14028682,"reputation":716,"user_id":10133114,"display_name":"Hasan Aga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641064652,"creation_date":1640986444,"answer_id":70545781,"question_id":70545160,"body_markdown":"I don&#39;t quite understand your question, but in any case, your code does not compile because you are treating `countries` as a list of lists while it is only a list of String! here is a working version of your application:\r\n```\r\npackage com.company;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public static void distance(List&lt;List&lt;String&gt;&gt; list) {\r\n\r\n        for (List row : list) {\r\n            for(Object item: row)\r\n                System.out.println(item + &quot;\\t&quot;);\r\n\r\n            System.out.println();\r\n        }\r\n    }\r\n    public static void main(String[] args) throws IOException {\r\n        String file = &quot;countries.csv&quot;;\r\n        List&lt;List&lt;String&gt;&gt; countries = new ArrayList&lt;&gt;();\r\n\r\n        BufferedReader reader = null;\r\n        String line = &quot;&quot;;\r\n\r\n        reader = new BufferedReader(new FileReader(file));\r\n        while ( (line = reader.readLine()) != null ) {\r\n            List&lt;String&gt; nodes = Arrays.asList(line.split(&quot;,&quot;));\r\n            countries.add(nodes);\r\n            //System.out.println(countries);\r\n            // System.out.println(Arrays.toString(nodes));\r\n        }\r\n        System.out.println();\r\n\r\n        distance(countries);\r\n    }\r\n}\r\n```\r\nI changed `countries = nodes;` to `countries.add(nodes);` which creates a list of `List&lt;string&gt;`, now if you want to access the last element of the inner list, you can do so like this:\r\n```\r\nSystem.out.println(&quot;Country: &quot; + row.get(3));\r\n```\r\nI believe you would benefit a lot by reading on:\r\n\r\n - how to initialize objects in Java.\r\n - data structures such as `Array`, `LinkedList` and `ArrayList`.\r\n\r\n ","title":"How to iterate over List of Lists in Java?","body":"<p>I don't quite understand your question, but in any case, your code does not compile because you are treating <code>countries</code> as a list of lists while it is only a list of String! here is a working version of your application:</p>\n<pre><code>package com.company;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n    public static void distance(List&lt;List&lt;String&gt;&gt; list) {\n\n        for (List row : list) {\n            for(Object item: row)\n                System.out.println(item + &quot;\\t&quot;);\n\n            System.out.println();\n        }\n    }\n    public static void main(String[] args) throws IOException {\n        String file = &quot;countries.csv&quot;;\n        List&lt;List&lt;String&gt;&gt; countries = new ArrayList&lt;&gt;();\n\n        BufferedReader reader = null;\n        String line = &quot;&quot;;\n\n        reader = new BufferedReader(new FileReader(file));\n        while ( (line = reader.readLine()) != null ) {\n            List&lt;String&gt; nodes = Arrays.asList(line.split(&quot;,&quot;));\n            countries.add(nodes);\n            //System.out.println(countries);\n            // System.out.println(Arrays.toString(nodes));\n        }\n        System.out.println();\n\n        distance(countries);\n    }\n}\n</code></pre>\n<p>I changed <code>countries = nodes;</code> to <code>countries.add(nodes);</code> which creates a list of <code>List&lt;string&gt;</code>, now if you want to access the last element of the inner list, you can do so like this:</p>\n<pre><code>System.out.println(&quot;Country: &quot; + row.get(3));\n</code></pre>\n<p>I believe you would benefit a lot by reading on:</p>\n<ul>\n<li>how to initialize objects in Java.</li>\n<li>data structures such as <code>Array</code>, <code>LinkedList</code> and <code>ArrayList</code>.</li>\n</ul>\n"}],"owner":{"account_id":18937241,"reputation":23,"user_id":15441887,"display_name":"zkhan122"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1640986713,"accepted_answer_id":70545781,"answer_count":2,"score":-2,"last_activity_date":1641129952,"creation_date":1640978809,"question_id":70545160,"body_markdown":"I am reading a CSV file into a `List&lt;String&gt;`. However, my program creates a new List for each row in the CSV file. structure of the CSV file is shown below:\r\n\r\n    [KI , -3.370417, -168.734039, Kiribati]\r\n\r\n    [KM , -11.875001, 43.872219, Comoros]\r\n\r\n    [KN , 17.357822, -62.782998, Saint Kitts and Nevis]\r\n\r\n    [KP , 40.339852, 127.510093, North Korea]\r\n\r\n    [KR , 35.907757, 127.766922, South Korea]\r\n\r\n    [KW , 29.31166, 47.481766, Kuwait]\r\n\r\n    [KY , 19.513469, -80.566956, Cayman Islands]\r\n\r\n    [KZ , 48.019573, 66.923684, Kazakhstan]\r\n\r\n    [LA , 19.85627, 102.495496, Laos]\r\n\r\nI want to be able to iterate over each of these lists and access items such as the &quot;South Korea&quot; or &quot;KI&quot;. \r\n\r\nHowever I cannot find an efficient way of doing so. My attempt is shown below for traversing the Lists in the method `distance()`:\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void distance(List&lt;String&gt; list) {\r\n    \t\t\r\n                //attempt\r\n    \t\tfor (List row : list) {\r\n    \t\t\tfor (Object item : row) {\r\n    \t\t\t\tSystem.out.println(item + &quot;\\t&quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t}\r\n\r\n    \tpublic static void main(String[] args) throws FileNotFoundException, IOException {\r\n    \t\tString file = &quot;countries.csv&quot;;\r\n    \t\tList&lt;String&gt; countries;\r\n    \r\n    \t\tBufferedReader reader = null;\r\n    \t\tString line = &quot;&quot;;\r\n    \r\n    \t\treader = new BufferedReader(new FileReader(file));\r\n    \t\twhile ( (line = reader.readLine()) != null ) {\r\n    \t\t\tList&lt;String&gt; nodes = Arrays.asList(line.split(&quot;,&quot;));\r\n    \t\t\tcountries = nodes;\r\n    \t\t\t//System.out.println(countries);\r\n    \t\t\t// System.out.println(Arrays.toString(nodes));\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \r\n    \t\tdistance(countries);\r\n    \t}\r\n    }\r\n\r\nIs there a way of iterating over and accessing elements of List of Lists?\r\n.","title":"How to iterate over List of Lists in Java?","body":"<p>I am reading a CSV file into a <code>List&lt;String&gt;</code>. However, my program creates a new List for each row in the CSV file. structure of the CSV file is shown below:</p>\n<pre><code>[KI , -3.370417, -168.734039, Kiribati]\n\n[KM , -11.875001, 43.872219, Comoros]\n\n[KN , 17.357822, -62.782998, Saint Kitts and Nevis]\n\n[KP , 40.339852, 127.510093, North Korea]\n\n[KR , 35.907757, 127.766922, South Korea]\n\n[KW , 29.31166, 47.481766, Kuwait]\n\n[KY , 19.513469, -80.566956, Cayman Islands]\n\n[KZ , 48.019573, 66.923684, Kazakhstan]\n\n[LA , 19.85627, 102.495496, Laos]\n</code></pre>\n<p>I want to be able to iterate over each of these lists and access items such as the &quot;South Korea&quot; or &quot;KI&quot;.</p>\n<p>However I cannot find an efficient way of doing so. My attempt is shown below for traversing the Lists in the method <code>distance()</code>:</p>\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class Main {\n\n    public static void distance(List&lt;String&gt; list) {\n        \n            //attempt\n        for (List row : list) {\n            for (Object item : row) {\n                System.out.println(item + &quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    public static void main(String[] args) throws FileNotFoundException, IOException {\n        String file = &quot;countries.csv&quot;;\n        List&lt;String&gt; countries;\n\n        BufferedReader reader = null;\n        String line = &quot;&quot;;\n\n        reader = new BufferedReader(new FileReader(file));\n        while ( (line = reader.readLine()) != null ) {\n            List&lt;String&gt; nodes = Arrays.asList(line.split(&quot;,&quot;));\n            countries = nodes;\n            //System.out.println(countries);\n            // System.out.println(Arrays.toString(nodes));\n        }\n        System.out.println();\n\n        distance(countries);\n    }\n}\n</code></pre>\n<p>Is there a way of iterating over and accessing elements of List of Lists?\n.</p>\n"},{"tags":["java","ant","javacard"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641129254,"creation_date":1641043190,"answer_id":70549132,"question_id":70546475,"body_markdown":"If I remember correctly using `new` in field initialization is forbidden in Java Card. You either have to perform the `new` from within the static `install` method (or a method called from `install`) or you can mark the field `private`, in which case the array is stored in the constant pool. I would strongly recommend the latter. Basically, no `static` code execution is allowed.\r\n\r\nUsing `TRUE` and `FALSE` as public static fields is not a good idea either, as they would be reference lookups, which is vulnerable to timing oracles. The whole idea of having `TRUE` and `FALSE` defined this way is to protect against such oracles as well as fault injection; I suggest to make them `private`.\r\n","title":"Javacard: error on static array initialization in package build with ant-javacard","body":"<p>If I remember correctly using <code>new</code> in field initialization is forbidden in Java Card. You either have to perform the <code>new</code> from within the static <code>install</code> method (or a method called from <code>install</code>) or you can mark the field <code>private</code>, in which case the array is stored in the constant pool. I would strongly recommend the latter. Basically, no <code>static</code> code execution is allowed.</p>\n<p>Using <code>TRUE</code> and <code>FALSE</code> as public static fields is not a good idea either, as they would be reference lookups, which is vulnerable to timing oracles. The whole idea of having <code>TRUE</code> and <code>FALSE</code> defined this way is to protect against such oracles as well as fault injection; I suggest to make them <code>private</code>.</p>\n"}],"owner":{"account_id":14574152,"reputation":23,"user_id":10526522,"display_name":"huckym"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70549132,"answer_count":1,"score":1,"last_activity_date":1641129254,"creation_date":1640998339,"question_id":70546475,"body_markdown":"I have the following toy code for a library package with a static array:\r\n```\r\npackage testapplets.library;\r\nimport javacard.security.RandomData;\r\n\r\npublic class SomeLibrary {\r\n\tpublic static final short TRUE = (short) 0x5AA5;\r\n\tpublic static final short FALSE = (short) 0xA55A;\r\n\r\n\tpublic static final byte[] test = { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;};\r\n\r\n\tpublic static short booleantest(boolean b) {\r\n\t        return b ? TRUE : FALSE;\r\n\t}\r\n\r\n\tpublic static RandomData getRandom() {\r\n\t\treturn RandomData.getInstance(RandomData.ALG_SECURE_RANDOM);\r\n\t}\r\n}\r\n```\r\n\r\nand the following ant task to build the library package:\r\n```\r\n  &lt;target name=&quot;libtest&quot; depends=&quot;prepare&quot;&gt;\r\n    &lt;javacard jckit=&quot;${converter.sdk}&quot;&gt;\r\n      &lt;cap targetsdk=&quot;${target.sdk}&quot; sources=&quot;src/library&quot; package=&quot;testapplets.library&quot; aid=&quot;11:22:33:44:55&quot; export=&quot;lib&quot; output=&quot;build/libtest.cap&quot; version=&quot;1.0&quot;/&gt;\r\n    &lt;/javacard&gt;\r\n  &lt;/target&gt;\r\n```\r\n\r\nbut I am getting the following error message:\r\n```\r\n  [convert] [ INFO: ] Converter [v3.1.0]\r\n  [convert] [ INFO: ]     Copyright (c) 1998, 2019, Oracle and/or its affiliates. All rights reserved.\r\n  [convert]     \r\n  [convert]     \r\n  [convert] [ INFO: ] conversion completed with 1 errors and 0 warnings.\r\n  [convert] error:  Static array initialization in class testapplets/library/SomeLibrary in library package not allowed.\r\n```\r\n\r\nWhy is static array in a library problematic? builds fine if I remove the static array\r\n","title":"Javacard: error on static array initialization in package build with ant-javacard","body":"<p>I have the following toy code for a library package with a static array:</p>\n<pre><code>package testapplets.library;\nimport javacard.security.RandomData;\n\npublic class SomeLibrary {\n    public static final short TRUE = (short) 0x5AA5;\n    public static final short FALSE = (short) 0xA55A;\n\n    public static final byte[] test = { 'a', 'b', 'c'};\n\n    public static short booleantest(boolean b) {\n            return b ? TRUE : FALSE;\n    }\n\n    public static RandomData getRandom() {\n        return RandomData.getInstance(RandomData.ALG_SECURE_RANDOM);\n    }\n}\n</code></pre>\n<p>and the following ant task to build the library package:</p>\n<pre><code>  &lt;target name=&quot;libtest&quot; depends=&quot;prepare&quot;&gt;\n    &lt;javacard jckit=&quot;${converter.sdk}&quot;&gt;\n      &lt;cap targetsdk=&quot;${target.sdk}&quot; sources=&quot;src/library&quot; package=&quot;testapplets.library&quot; aid=&quot;11:22:33:44:55&quot; export=&quot;lib&quot; output=&quot;build/libtest.cap&quot; version=&quot;1.0&quot;/&gt;\n    &lt;/javacard&gt;\n  &lt;/target&gt;\n</code></pre>\n<p>but I am getting the following error message:</p>\n<pre><code>  [convert] [ INFO: ] Converter [v3.1.0]\n  [convert] [ INFO: ]     Copyright (c) 1998, 2019, Oracle and/or its affiliates. All rights reserved.\n  [convert]     \n  [convert]     \n  [convert] [ INFO: ] conversion completed with 1 errors and 0 warnings.\n  [convert] error:  Static array initialization in class testapplets/library/SomeLibrary in library package not allowed.\n</code></pre>\n<p>Why is static array in a library problematic? builds fine if I remove the static array</p>\n"},{"tags":["java","rest","jakarta-ee","seam","servlet-filters"],"answers":[{"tags":[],"owner":{"account_id":3247882,"reputation":333,"user_id":2738899,"display_name":"olexii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378242458,"creation_date":1378242458,"answer_id":18601518,"question_id":18600355,"body_markdown":"i think you should use for this purpose own exceptions handler which can be defined in web.xml and in case of exception you should process it inside exception handler and not in filter.\r\n\r\nyou can get more details in article [&quot;Servlets - Exception Handling&quot;][1]\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/servlets/servlets-exception-handling.htm","title":"Servlet Filter not working when exception is thrown","body":"<p>i think you should use for this purpose own exceptions handler which can be defined in web.xml and in case of exception you should process it inside exception handler and not in filter.</p>\n\n<p>you can get more details in article <a href=\"http://www.tutorialspoint.com/servlets/servlets-exception-handling.htm\" rel=\"nofollow\">\"Servlets - Exception Handling\"</a></p>\n"}],"owner":{"account_id":159676,"reputation":88183,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7534,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1641128540,"creation_date":1378237787,"question_id":18600355,"body_markdown":"**What am I trying to do?**\r\n\r\nI am trying to generate new timestamped tokens from server side that client can use in their subsequent request\r\n\r\n**What I have tried?** \r\n\r\nI have a Servlet filter which wraps around `REST` calls and looks like\r\n\r\n    @WebFilter(urlPatterns = &quot;/rest/secure&quot;)\r\n    public class SecurityFilter implements Filter {\r\n    \r\n        private static final Pattern PATTERN = Pattern.compile(&quot;:&quot;);\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(SecurityFilter.class);\r\n    \r\n        @Override\r\n        public void init(final FilterConfig filterConfig) throws ServletException {\r\n            //LOGGER.info(&quot;initializing SecurityFilter&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(final ServletRequest request, final ServletResponse response, final FilterChain chain) throws IOException, ServletException {\r\n            final HttpServletResponse httpServletResponse = (HttpServletResponse) response;\r\n            final String authToken = getAuthenticationHeaderValue((HttpServletRequest) request);\r\n    \r\n            try {\r\n                validateAuthToken(authToken);\r\n            } catch (IllegalArgumentException tokenNotValidException) {\r\n                LOGGER.error(&quot;invalid token&quot;);\r\n                httpServletResponse.sendError(401);\r\n            }\r\n    \r\n            try {\r\n                chain.doFilter(request, response);\r\n            } catch (Exception e) {\r\n                LOGGER.error(&quot;exception: &quot; + e.getMessage());\r\n            }finally {\r\n                final String newAuthToken = generateNewAuthToken(authToken);\r\n                httpServletResponse.addHeader(AUTH_TOKEN, newAuthToken);\r\n                LOGGER.info(&quot;added new security token: &quot; + newAuthToken);\r\n            }\r\n        }\r\n\r\nand in one of my endpoints I do\r\n\r\n    @PUT\r\n    public Response updateUser() {\r\n        throw new IllegalArgumentException(&quot;just for test purposes&quot;);\r\n    }\r\n\r\nI am using `RESTEasy` for all `REST` based work.  \r\n\r\nand I am also using `Seam REST` library to map server exceptions to `REST` based exceptions\r\n\r\n    @ExceptionMapping.List({\r\n            @ExceptionMapping(exceptionType = IllegalArgumentException.class, status = 400, useExceptionMessage = true),\r\n            @ExceptionMapping(exceptionType = PersistenceException.class, status = 400, useExceptionMessage = true),\r\n            @ExceptionMapping(exceptionType = ConstraintViolationException.class, status = 400, useExceptionMessage = true),\r\n            @ExceptionMapping(exceptionType = ValidationException.class, status = 400, useExceptionMessage = true),\r\n            @ExceptionMapping(exceptionType = NoResultException.class, status = 404, useExceptionMessage = true),\r\n            @ExceptionMapping(exceptionType = IllegalStateException.class, status = 406, useExceptionMessage = true),\r\n            @ExceptionMapping(exceptionType = NoClassDefFoundError.class, status = 404, useExceptionMessage = true),\r\n            @ExceptionMapping(exceptionType = UnsupportedOperationException.class, status = 400, useExceptionMessage = true),\r\n    })\r\n    @ApplicationPath(&quot;/rest&quot;)\r\n    public class MarketApplicationConfiguration extends Application {\r\n    }\r\n\r\n**Problem?**  \r\n- when endpoint throws the exception, the callback is never returned to the filter code.  \r\n- This is even when I use `try/catch/finally` as follows\r\n\r\n            try {\r\n                    chain.doFilter(request, response);\r\n                } catch (Exception e) {\r\n                    LOGGER.error(&quot;exception: &quot; + e.getMessage());\r\n                }finally {\r\n                    final String newAuthToken = generateNewAuthToken(authToken);\r\n                    httpServletResponse.addHeader(AUTH_TOKEN, newAuthToken);\r\n                    LOGGER.info(&quot;added new security token: &quot; + newAuthToken);\r\n                }\r\n- I can however test that the `IllegalArgumentException` is mapped to `HTTP 400` based on `Seam REST` exception mapping, but it is never returned back to the `SecurityFilter` code in case of server exceptions.\r\n\r\n**Required?**  \r\n- I want to generate server tokens even when the application throws exception(s) so that client can use them    \r\n- How can, in case of exceptions, I can route my response through `SecurityFilter`?  \r\n","title":"Servlet Filter not working when exception is thrown","body":"<p><strong>What am I trying to do?</strong></p>\n\n<p>I am trying to generate new timestamped tokens from server side that client can use in their subsequent request</p>\n\n<p><strong>What I have tried?</strong> </p>\n\n<p>I have a Servlet filter which wraps around <code>REST</code> calls and looks like</p>\n\n<pre><code>@WebFilter(urlPatterns = \"/rest/secure\")\npublic class SecurityFilter implements Filter {\n\n    private static final Pattern PATTERN = Pattern.compile(\":\");\n    private static final Logger LOGGER = LoggerFactory.getLogger(SecurityFilter.class);\n\n    @Override\n    public void init(final FilterConfig filterConfig) throws ServletException {\n        //LOGGER.info(\"initializing SecurityFilter\");\n    }\n\n    @Override\n    public void doFilter(final ServletRequest request, final ServletResponse response, final FilterChain chain) throws IOException, ServletException {\n        final HttpServletResponse httpServletResponse = (HttpServletResponse) response;\n        final String authToken = getAuthenticationHeaderValue((HttpServletRequest) request);\n\n        try {\n            validateAuthToken(authToken);\n        } catch (IllegalArgumentException tokenNotValidException) {\n            LOGGER.error(\"invalid token\");\n            httpServletResponse.sendError(401);\n        }\n\n        try {\n            chain.doFilter(request, response);\n        } catch (Exception e) {\n            LOGGER.error(\"exception: \" + e.getMessage());\n        }finally {\n            final String newAuthToken = generateNewAuthToken(authToken);\n            httpServletResponse.addHeader(AUTH_TOKEN, newAuthToken);\n            LOGGER.info(\"added new security token: \" + newAuthToken);\n        }\n    }\n</code></pre>\n\n<p>and in one of my endpoints I do</p>\n\n<pre><code>@PUT\npublic Response updateUser() {\n    throw new IllegalArgumentException(\"just for test purposes\");\n}\n</code></pre>\n\n<p>I am using <code>RESTEasy</code> for all <code>REST</code> based work.  </p>\n\n<p>and I am also using <code>Seam REST</code> library to map server exceptions to <code>REST</code> based exceptions</p>\n\n<pre><code>@ExceptionMapping.List({\n        @ExceptionMapping(exceptionType = IllegalArgumentException.class, status = 400, useExceptionMessage = true),\n        @ExceptionMapping(exceptionType = PersistenceException.class, status = 400, useExceptionMessage = true),\n        @ExceptionMapping(exceptionType = ConstraintViolationException.class, status = 400, useExceptionMessage = true),\n        @ExceptionMapping(exceptionType = ValidationException.class, status = 400, useExceptionMessage = true),\n        @ExceptionMapping(exceptionType = NoResultException.class, status = 404, useExceptionMessage = true),\n        @ExceptionMapping(exceptionType = IllegalStateException.class, status = 406, useExceptionMessage = true),\n        @ExceptionMapping(exceptionType = NoClassDefFoundError.class, status = 404, useExceptionMessage = true),\n        @ExceptionMapping(exceptionType = UnsupportedOperationException.class, status = 400, useExceptionMessage = true),\n})\n@ApplicationPath(\"/rest\")\npublic class MarketApplicationConfiguration extends Application {\n}\n</code></pre>\n\n<p><strong>Problem?</strong><br>\n- when endpoint throws the exception, the callback is never returned to the filter code.<br>\n- This is even when I use <code>try/catch/finally</code> as follows</p>\n\n<pre><code>        try {\n                chain.doFilter(request, response);\n            } catch (Exception e) {\n                LOGGER.error(\"exception: \" + e.getMessage());\n            }finally {\n                final String newAuthToken = generateNewAuthToken(authToken);\n                httpServletResponse.addHeader(AUTH_TOKEN, newAuthToken);\n                LOGGER.info(\"added new security token: \" + newAuthToken);\n            }\n</code></pre>\n\n<p>- I can however test that the <code>IllegalArgumentException</code> is mapped to <code>HTTP 400</code> based on <code>Seam REST</code> exception mapping, but it is never returned back to the <code>SecurityFilter</code> code in case of server exceptions.</p>\n\n<p><strong>Required?</strong><br>\n- I want to generate server tokens even when the application throws exception(s) so that client can use them<br>\n- How can, in case of exceptions, I can route my response through <code>SecurityFilter</code>?  </p>\n"},{"tags":["java","excel","xls","xlsm","apache-poi-4"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1564515197,"post_id":57278069,"comment_id":101054309,"body_markdown":"Some of the information is missing, like the errors you&#39;re getting, but I wonder if you&#39;re giving all the sheets unique names?","body":"Some of the information is missing, like the errors you&#39;re getting, but I wonder if you&#39;re giving all the sheets unique names?"},{"owner":{"account_id":2317615,"reputation":344,"user_id":2034293,"display_name":"Sai Haridass"},"score":0,"creation_date":1564575891,"post_id":57278069,"comment_id":101075785,"body_markdown":"@David thanks for response\n\nThere are no errors in the Java code. From the Java program point of view everything went well without any errors and exceptions.\n\nBut, when I try to open the excel is when I get the error messages","body":"@David thanks for response  There are no errors in the Java code. From the Java program point of view everything went well without any errors and exceptions.  But, when I try to open the excel is when I get the error messages"}],"answers":[{"tags":[],"owner":{"account_id":2317615,"reputation":344,"user_id":2034293,"display_name":"Sai Haridass"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1565196819,"creation_date":1565196819,"answer_id":57399110,"question_id":57278069,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eG4Aw.png\r\n\r\nFinally resolved the issue using jacob api and also by making changes to template. Issue was with local variable defined in Excel which I was able to access by going to (Formulas -&gt; Name Manager) and deleted the variable.Even after deleting the variable I was not able get it to working with Apache POI so ended up using Jacob api. Code is as follows: \r\n\r\n        package com.ford.ltdrive.model.output.excel.excelenum;\r\n\r\n    import com.jacob.activeX.ActiveXComponent;\r\n    import com.jacob.com.Dispatch;\r\n    import com.jacob.com.Variant;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.StandardCopyOption;\r\n    import java.util.Date;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class CloneSheet {\r\n\r\n        public void backup(String filepath) {\r\n            try {\r\n                Date d = new Date();\r\n                String dateString = (d.getYear() + 1900) + &quot;_&quot; + d.getMonth() + &quot;_&quot; + d.getDate();\r\n               // String backupfilepath = filepath.replace(&quot;.xlsm&quot;, &quot;_backup_&quot; + dateString + &quot;.xlsm&quot;);\r\n                //Path copied = Paths.get(backupfilepath);\r\n                Path copied1 = Paths.get(filepath + &quot;_tmp&quot;);\r\n                Path originalPath = Paths.get(filepath);\r\n               // Files.copy(originalPath, copied, StandardCopyOption.REPLACE_EXISTING);\r\n                Files.copy(originalPath, copied1, StandardCopyOption.REPLACE_EXISTING);\r\n                Files.delete(Paths.get(filepath));\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(CloneSheet.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n\r\n        }\r\n\r\n        public void cloneSheets(String xlsfile, java.util.List&lt;String&gt; list,int copynum) {\r\n            ActiveXComponent app = new ActiveXComponent(&quot;Excel.Application&quot;);\r\n            try {\r\n                backup(xlsfile);\r\n\r\n                app.setProperty(&quot;Visible&quot;, new Variant(false));\r\n                Dispatch excels = app.getProperty(&quot;Workbooks&quot;).toDispatch();\r\n                Dispatch excel = Dispatch.invoke(\r\n                        excels,\r\n                        &quot;Open&quot;,\r\n                        Dispatch.Method,\r\n                        new Object[]{xlsfile + &quot;_tmp&quot;, new Variant(false),\r\n                            new Variant(true)}, new int[1]).toDispatch();\r\n                //Dispatch sheets = Dispatch.get((Dispatch) excel, &quot;Worksheets&quot;).toDispatch();\r\n                int sz = list.size();//&quot;Angle_1pc_SBC_R1&quot;\r\n                for (int i = 0; i &lt; sz; i++) {\r\n                    Dispatch sheet = Dispatch.invoke(excel, &quot;Worksheets&quot;, Dispatch.Get,\r\n                            new Object[]{list.get(i)}, new int[1]).toDispatch();//Whatever sheet you    //wanted the new sheet inserted after\r\n\r\n                    //Dispatch workbooksTest = app.getProperty(&quot;Sheets&quot;).toDispatch();//Get the workbook\r\n                    //Dispatch sheet2 = Dispatch.call(workbooksTest, &quot;Add&quot;).toDispatch();\r\n                    for(int k=0;k&lt;copynum -1;k++)\r\n                    {\r\n                        Dispatch.call(sheet, &quot;Copy&quot;, sheet);\r\n                    }\r\n                }\r\n                //Moves the sheet behind the desired sheet\r\n                Dispatch.invoke(excel, &quot;SaveAs&quot;, Dispatch.Method, new Object[]{xlsfile, new Variant(52)}, new int[1]);\r\n                Variant f = new Variant(false);\r\n                Dispatch.call(excel, &quot;Close&quot;, f);\r\n                Files.delete(Paths.get(xlsfile + &quot;_tmp&quot;));\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                app.invoke(&quot;Quit&quot;, new Variant[]{});\r\n            }\r\n        }\r\n       /* public static void main(String args[])\r\n        {\r\n            java.util.ArrayList&lt;String&gt; list = new java.util.ArrayList();\r\n            list.add(&quot;Angle_1pc_SBC_R1&quot;);\r\n            new CloneSheet().cloneSheets(&quot;C:\\\\LTDrive2_4\\\\Excel\\\\Test.xlsm&quot;, list, 2);\r\n        }*/\r\n    }\r\n","title":"How to fix &quot;We found a problem with some content in &#39;abc.xlsm&#39;. Do you want us to try to recover as much as we can?","body":"<p><a href=\"https://i.stack.imgur.com/eG4Aw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eG4Aw.png\" alt=\"enter image description here\"></a></p>\n\n<p>Finally resolved the issue using jacob api and also by making changes to template. Issue was with local variable defined in Excel which I was able to access by going to (Formulas -> Name Manager) and deleted the variable.Even after deleting the variable I was not able get it to working with Apache POI so ended up using Jacob api. Code is as follows: </p>\n\n<pre><code>    package com.ford.ltdrive.model.output.excel.excelenum;\n\nimport com.jacob.activeX.ActiveXComponent;\nimport com.jacob.com.Dispatch;\nimport com.jacob.com.Variant;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardCopyOption;\nimport java.util.Date;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class CloneSheet {\n\n    public void backup(String filepath) {\n        try {\n            Date d = new Date();\n            String dateString = (d.getYear() + 1900) + \"_\" + d.getMonth() + \"_\" + d.getDate();\n           // String backupfilepath = filepath.replace(\".xlsm\", \"_backup_\" + dateString + \".xlsm\");\n            //Path copied = Paths.get(backupfilepath);\n            Path copied1 = Paths.get(filepath + \"_tmp\");\n            Path originalPath = Paths.get(filepath);\n           // Files.copy(originalPath, copied, StandardCopyOption.REPLACE_EXISTING);\n            Files.copy(originalPath, copied1, StandardCopyOption.REPLACE_EXISTING);\n            Files.delete(Paths.get(filepath));\n        } catch (IOException ex) {\n            Logger.getLogger(CloneSheet.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n\n    public void cloneSheets(String xlsfile, java.util.List&lt;String&gt; list,int copynum) {\n        ActiveXComponent app = new ActiveXComponent(\"Excel.Application\");\n        try {\n            backup(xlsfile);\n\n            app.setProperty(\"Visible\", new Variant(false));\n            Dispatch excels = app.getProperty(\"Workbooks\").toDispatch();\n            Dispatch excel = Dispatch.invoke(\n                    excels,\n                    \"Open\",\n                    Dispatch.Method,\n                    new Object[]{xlsfile + \"_tmp\", new Variant(false),\n                        new Variant(true)}, new int[1]).toDispatch();\n            //Dispatch sheets = Dispatch.get((Dispatch) excel, \"Worksheets\").toDispatch();\n            int sz = list.size();//\"Angle_1pc_SBC_R1\"\n            for (int i = 0; i &lt; sz; i++) {\n                Dispatch sheet = Dispatch.invoke(excel, \"Worksheets\", Dispatch.Get,\n                        new Object[]{list.get(i)}, new int[1]).toDispatch();//Whatever sheet you    //wanted the new sheet inserted after\n\n                //Dispatch workbooksTest = app.getProperty(\"Sheets\").toDispatch();//Get the workbook\n                //Dispatch sheet2 = Dispatch.call(workbooksTest, \"Add\").toDispatch();\n                for(int k=0;k&lt;copynum -1;k++)\n                {\n                    Dispatch.call(sheet, \"Copy\", sheet);\n                }\n            }\n            //Moves the sheet behind the desired sheet\n            Dispatch.invoke(excel, \"SaveAs\", Dispatch.Method, new Object[]{xlsfile, new Variant(52)}, new int[1]);\n            Variant f = new Variant(false);\n            Dispatch.call(excel, \"Close\", f);\n            Files.delete(Paths.get(xlsfile + \"_tmp\"));\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            app.invoke(\"Quit\", new Variant[]{});\n        }\n    }\n   /* public static void main(String args[])\n    {\n        java.util.ArrayList&lt;String&gt; list = new java.util.ArrayList();\n        list.add(\"Angle_1pc_SBC_R1\");\n        new CloneSheet().cloneSheets(\"C:\\\\LTDrive2_4\\\\Excel\\\\Test.xlsm\", list, 2);\n    }*/\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641128278,"creation_date":1641128278,"answer_id":70556164,"question_id":57278069,"body_markdown":"have similar issue. \r\nI have a Threads that was writing to an excel file .\r\n\r\nsolve it by adding `synchronized` to the function that I use to write into the excel ","title":"How to fix &quot;We found a problem with some content in &#39;abc.xlsm&#39;. Do you want us to try to recover as much as we can?","body":"<p>have similar issue.\nI have a Threads that was writing to an excel file .</p>\n<p>solve it by adding <code>synchronized</code> to the function that I use to write into the excel</p>\n"}],"owner":{"account_id":2317615,"reputation":344,"user_id":2034293,"display_name":"Sai Haridass"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57399110,"answer_count":2,"score":1,"last_activity_date":1641128278,"creation_date":1564511586,"question_id":57278069,"body_markdown":"I have the following method (`createAdditionalSheetsInExcel`) in my code which tries to create additional sheets for a particular scenario (`runOutputNumber &gt; 1`). It ends up creating an excel but the problem is when you try to open the excel you end up getting the following errors:\r\n\r\nThe `workBookObj.cloneSheet(index,sheetName)` throws no errors in the java code but when I try to open the excel file I get the following errors:\r\n\r\n\r\n\r\n\r\nI tried to remove the formatting for the table in the sheet and then the error disappears. So it must be something to do with the format of the table inside the sheet. \r\n\r\n```\r\nprivate static void createAdditionalSheetsInExcel(String tempOutputFileName, String outputFileName, int runOutputNumber) throws IOException {\r\n\r\n    FileInputStream fileIn = new FileInputStream(tempOutputFileName);\r\n\tXSSFWorkbook workBookObj = new XSSFWorkbook(fileIn);\r\n\tworkBookObj.setWorkbookType(XSSFWorkbookType.XLSM);\r\n\r\n\trunOutputNumber = 2;//Hard coded for clarification\r\n\tif (runOutputNumber &gt; 1) {\r\n\r\n\t\tint initialNoOfSheets = workBookObj.getNumberOfSheets();\r\n\r\n\t\tfor (int runIndex = 2; runIndex &lt;= runOutputNumber; runIndex++) {\r\n\r\n\t\t\tfor (int index = 0; index &lt; initialNoOfSheets; index++) {\r\n\t\t\t\tXSSFSheet sheet = workBookObj.getSheetAt(index);\r\n\r\n\t\t\t\tString sheetName = sheet.getSheetName().trim()\r\n\t\t\t\t\t\t\t\t\t.substring(0, sheet.getSheetName().length() - 1) + runIndex;\r\n\t\t\t\tworkBookObj.cloneSheet(index, sheetName);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tFileOutputStream fileOut = new FileOutputStream(outputFileName);\r\n\tworkBookObj.write(fileOut);\r\n\r\n\tfileOut.close();\r\n\tworkBookObj.close();\r\n\tdeleteTempExcel(tempOutputFileName);\r\n}\r\n```\r\n\r\nError when the excel tries to open:\r\n\r\nWe found a problem with some content in &#39;abc.xlsm&#39;. Do you want to try to recover as much as we can? If you trust the source of this workbook, click Yes. \r\n\r\nError: After opening the excel file:\r\n\r\nRepaired Records: Table from /xl/tables/table1.xml part (Table)","title":"How to fix &quot;We found a problem with some content in &#39;abc.xlsm&#39;. Do you want us to try to recover as much as we can?","body":"<p>I have the following method (<code>createAdditionalSheetsInExcel</code>) in my code which tries to create additional sheets for a particular scenario (<code>runOutputNumber &gt; 1</code>). It ends up creating an excel but the problem is when you try to open the excel you end up getting the following errors:</p>\n\n<p>The <code>workBookObj.cloneSheet(index,sheetName)</code> throws no errors in the java code but when I try to open the excel file I get the following errors:</p>\n\n<p>I tried to remove the formatting for the table in the sheet and then the error disappears. So it must be something to do with the format of the table inside the sheet. </p>\n\n<pre><code>private static void createAdditionalSheetsInExcel(String tempOutputFileName, String outputFileName, int runOutputNumber) throws IOException {\n\n    FileInputStream fileIn = new FileInputStream(tempOutputFileName);\n    XSSFWorkbook workBookObj = new XSSFWorkbook(fileIn);\n    workBookObj.setWorkbookType(XSSFWorkbookType.XLSM);\n\n    runOutputNumber = 2;//Hard coded for clarification\n    if (runOutputNumber &gt; 1) {\n\n        int initialNoOfSheets = workBookObj.getNumberOfSheets();\n\n        for (int runIndex = 2; runIndex &lt;= runOutputNumber; runIndex++) {\n\n            for (int index = 0; index &lt; initialNoOfSheets; index++) {\n                XSSFSheet sheet = workBookObj.getSheetAt(index);\n\n                String sheetName = sheet.getSheetName().trim()\n                                    .substring(0, sheet.getSheetName().length() - 1) + runIndex;\n                workBookObj.cloneSheet(index, sheetName);\n            }\n        }\n    }\n\n    FileOutputStream fileOut = new FileOutputStream(outputFileName);\n    workBookObj.write(fileOut);\n\n    fileOut.close();\n    workBookObj.close();\n    deleteTempExcel(tempOutputFileName);\n}\n</code></pre>\n\n<p>Error when the excel tries to open:</p>\n\n<p>We found a problem with some content in 'abc.xlsm'. Do you want to try to recover as much as we can? If you trust the source of this workbook, click Yes. </p>\n\n<p>Error: After opening the excel file:</p>\n\n<p>Repaired Records: Table from /xl/tables/table1.xml part (Table)</p>\n"},{"tags":["java","android","filesize","apk"],"comments":[{"owner":{"account_id":1481975,"reputation":1,"user_id":1391143,"display_name":"user1391143"},"score":0,"creation_date":1336832449,"post_id":8801769,"comment_id":17618203,"body_markdown":"Could you give more details about the incorrect result?\nWhen does the incorrect package size is got? Here you check if the app is system package, if yes, bypass the size check, why?\nAs I&#39;ve ever tested system app codeSize and always got ZERO.\nI am quite curious why system app codeSize could not be retrieved always. Is there any permission restriction or other cause?","body":"Could you give more details about the incorrect result? When does the incorrect package size is got? Here you check if the app is system package, if yes, bypass the size check, why? As I&#39;ve ever tested system app codeSize and always got ZERO. I am quite curious why system app codeSize could not be retrieved always. Is there any permission restriction or other cause?"},{"owner":{"account_id":540951,"reputation":14600,"user_id":909317,"accept_rate":84,"display_name":"Sunny"},"score":0,"creation_date":1336841893,"post_id":8801769,"comment_id":17618204,"body_markdown":"Here the problem was that the codeSize of app may be calculated in different thread. So using `CountdownTimer` class we can wait untill the app size is calculated. I did not need to do anything with system app so i just left them. I don&#39;t know about any permission which restrict to calculate the system app size. We only require the GET_PACKAGE_SIZE permission to calculate the app size.","body":"Here the problem was that the codeSize of app may be calculated in different thread. So using <code>CountdownTimer</code> class we can wait untill the app size is calculated. I did not need to do anything with system app so i just left them. I don&#39;t know about any permission which restrict to calculate the system app size. We only require the GET_PACKAGE_SIZE permission to calculate the app size."}],"answers":[{"tags":[],"owner":{"account_id":942076,"reputation":4036,"user_id":969988,"accept_rate":100,"display_name":"Semere Ta&#233;zaz Sium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1326192923,"creation_date":1326192923,"answer_id":8802120,"question_id":8801769,"body_markdown":"Here is a hack from Joseph that worked for me. His original post can be found [here][1]\r\n\r\n    PackageManager pm = getPackageManager();\r\n    \r\n    Method getPackageSizeInfo = pm.getClass().getMethod(\r\n        &quot;getPackageSizeInfo&quot;, String.class, IPackageStatsObserver.class);\r\n    \r\n    getPackageSizeInfo.invoke(pm, &quot;com.android.mms&quot;,\r\n        new IPackageStatsObserver.Stub() {\r\n    \r\n            @Override\r\n            public void onGetStatsCompleted(PackageStats pStats, boolean succeeded)\r\n                throws RemoteException {\r\n    \r\n                Log.i(TAG, &quot;codeSize: &quot; + pStats.codeSize);\r\n            }\r\n        });\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1806286/getting-installed-app-size","title":"find the APK size of installed applications","body":"<p>Here is a hack from Joseph that worked for me. His original post can be found <a href=\"https://stackoverflow.com/questions/1806286/getting-installed-app-size\">here</a></p>\n\n<pre><code>PackageManager pm = getPackageManager();\n\nMethod getPackageSizeInfo = pm.getClass().getMethod(\n    \"getPackageSizeInfo\", String.class, IPackageStatsObserver.class);\n\ngetPackageSizeInfo.invoke(pm, \"com.android.mms\",\n    new IPackageStatsObserver.Stub() {\n\n        @Override\n        public void onGetStatsCompleted(PackageStats pStats, boolean succeeded)\n            throws RemoteException {\n\n            Log.i(TAG, \"codeSize: \" + pStats.codeSize);\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2262337,"reputation":1569,"user_id":1992067,"display_name":"Yan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422282275,"creation_date":1422282275,"answer_id":28151970,"question_id":8801769,"body_markdown":"    ApplicationInfo tmpInfo = context.getPackageManager().getApplicationInfo(packageName,-1);\r\n    long size = new File(tmpInfo.sourceDir).length();","title":"find the APK size of installed applications","body":"<pre><code>ApplicationInfo tmpInfo = context.getPackageManager().getApplicationInfo(packageName,-1);\nlong size = new File(tmpInfo.sourceDir).length();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13867917,"reputation":49,"user_id":16261724,"display_name":"Alias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641128275,"creation_date":1641128275,"answer_id":70556162,"question_id":8801769,"body_markdown":"IPackageStatsObserver it is the very hard-level code, I use the code to archive apks size:\r\n\r\n    ApplicationInfo appInfo = packageManager.getApplicationInfo(packageName, 0);\r\n    String sourceDir = appInfo.publicSourceDir;\r\n    File file = new File(sourceDir);\r\n    long bytes = file.length();      // main apk, devide 1024 to get KB, etc.\r\n    \r\n    String[] splitSourceDirs = appInfo.splitPublicSourceDirs;\r\n    for(String str: splitSourceDirs){\r\n        File file = new File (str);  // split apks, do the same to get size\r\n\r\nResult:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qtm6x.png\r\n","title":"find the APK size of installed applications","body":"<p>IPackageStatsObserver it is the very hard-level code, I use the code to archive apks size:</p>\n<pre><code>ApplicationInfo appInfo = packageManager.getApplicationInfo(packageName, 0);\nString sourceDir = appInfo.publicSourceDir;\nFile file = new File(sourceDir);\nlong bytes = file.length();      // main apk, devide 1024 to get KB, etc.\n\nString[] splitSourceDirs = appInfo.splitPublicSourceDirs;\nfor(String str: splitSourceDirs){\n    File file = new File (str);  // split apks, do the same to get size\n</code></pre>\n<p>Result:\n<a href=\"https://i.stack.imgur.com/Qtm6x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qtm6x.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":540951,"reputation":14600,"user_id":909317,"accept_rate":84,"display_name":"Sunny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5847,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8802120,"answer_count":3,"score":1,"last_activity_date":1641128275,"creation_date":1326191294,"question_id":8801769,"body_markdown":"I am trying to calculate apk file size of the installed applications. Here is the code\r\n\r\n\r\n     public class PackageTabActivity extends ListActivity{\r\n     \r\n\t  private static final String APP_NAME = &quot;app_name&quot;;\r\n\t  private static final String APP_ICON = &quot;app_icon&quot;;\r\n\t  private static final String APP_SIZE = &quot;app_size&quot;;\r\n\t  Method getPackageSizeInfo = null;\r\n\t  PackageManager pm  ;\r\n\t@Override\r\n\tpublic void onCreate(Bundle icicle){\r\n\t\tsuper.onCreate(icicle);\r\n\t\tpm = getPackageManager();\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tgetPackageSizeInfo = pm.getClass().getMethod(&quot;getPackageSizeInfo&quot;, String.class, IPackageStatsObserver.class);\r\n\t\t} catch (SecurityException e1) {\r\n\t\r\n\t\t\te1.printStackTrace();\r\n\t\t} catch (NoSuchMethodException e1) {\r\n\t\t\t\r\n\t\t\te1.printStackTrace();\r\n\t\t} \r\n\t    new AppDetails().execute();\r\n\t}\r\n\t\r\n\tprivate boolean isSystemPackage(PackageInfo pkgInfo) {\r\n\t    return ((pkgInfo.applicationInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) != 0) ? true\r\n\t            : false;\r\n\t}\r\n\t\r\n\t\r\n\tclass AppDetails extends AsyncTask&lt;Void, Void, ArrayList&lt;HashMap&lt;String , Object&gt;&gt;&gt;\r\n\t{\r\n\t\t private  long   app_apk_size;\r\n\t\t ProgressDialog mDialog;\r\n\t\t @Override\r\n\t\t public void onPreExecute()\r\n\t\t {\r\n\t\t\t     mDialog = new ProgressDialog(PackageTabActivity.this);\r\n\t\t\t     mDialog.setCancelable(true);\r\n\t\t\t     mDialog.setMessage(&quot;Loading... &quot; );\r\n\t\t\t     mDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);\r\n\t\t\t     mDialog.setProgress(0);\r\n\t\t\t     mDialog.show();\r\n\t\t }\r\n\t\t@Override\r\n\t\tprotected ArrayList&lt;HashMap&lt;String, Object&gt;&gt; doInBackground(\r\n\t\t\t\tVoid... params) {\r\n\r\n\t\t\tArrayList&lt;HashMap&lt;String,Object&gt;&gt; applistwithicon = new ArrayList&lt;HashMap&lt;String,Object&gt;&gt;();\r\n\t\t\tHashMap&lt;String,Object&gt; hm;\r\n\t\t\tString appname;\r\n\t\t\tDrawable icon = null;\r\n\t\t    List&lt;PackageInfo&gt; packs = getPackageManager().getInstalledPackages(0);   \r\n\t\t   \r\n\t\t    for(int i=0;i&lt;packs.size();i++) {\r\n\t\t    \t\r\n\t\t        PackageInfo p = packs.get(i);\r\n\t\t        \r\n\t\t  \r\n\t\t        if(!isSystemPackage(p))\r\n\t\t        {\r\n\t\t        \thm = new HashMap&lt;String, Object&gt;();\r\n\t\t        \tappname = p.applicationInfo.loadLabel(getPackageManager()).toString();\r\n\t\t     \r\n\t\t            icon = p.applicationInfo.loadIcon(getPackageManager());\r\n\t\t            Log.v(&quot;package name&quot;, &quot;package name =&quot; + p.packageName);\r\n\t\t         \ttry {\r\n\t\t\t\t\t  getPackageSizeInfo.invoke(pm,  p.packageName, new IPackageStatsObserver.Stub()  {\r\n\t\t\t\t\t      \r\n\t\t\t\t\t\tpublic void onGetStatsCompleted(PackageStats pStats, boolean succeeded) throws RemoteException {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t           app_apk_size = pStats.codeSize;    \r\n\t\t\t\t\t\t\t           Log.v(&quot;apksize&quot;, &quot;appsize = &quot;+app_apk_size);\r\n\t\t\t\t\t\t}   \t    \r\n\t\t\t\t});\r\n\t\t        \t}catch(IllegalAccessException e) {}\r\n\t\t        \tcatch(IllegalArgumentException r) {}\r\n\t\t        \tcatch(InvocationTargetException w){}\r\n\t\t        \r\n\t\t        hm.put(APP_SIZE, (app_apk_size/(1024)));\r\n\t\t        hm.put(APP_ICON, icon);\r\n\t\t        hm.put(APP_NAME, appname);\r\n\t\t        applistwithicon.add(hm);\r\n\t\t        }\r\n\t\t    }\r\n\t\t    \r\n\t\t\treturn applistwithicon;\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void onPostExecute(ArrayList&lt;HashMap&lt;String, Object&gt;&gt; result)\r\n\t\t{\r\n\t\t\tmDialog.dismiss();\r\n\t\t\t CustomAdapterList myAdapter = new CustomAdapterList(result,PackageTabActivity.this );\r\n\t\t\t \r\n\t\t      setListAdapter(myAdapter);\r\n\t\t     \r\n\t\t}\r\n\t}\r\n    }\r\nHere IPackageStatsObserver is an interface (aidl file).\r\nThis gives me correct result on emulator but on phone. It gives mixture of right and wrong size of application.\r\n\r\nI am now totally stuck and can&#39;t find any workaround.\r\n\r\nAny help would be higly appreciated.\r\n\r\n\r\n","title":"find the APK size of installed applications","body":"<p>I am trying to calculate apk file size of the installed applications. Here is the code</p>\n\n<pre><code> public class PackageTabActivity extends ListActivity{\n\n  private static final String APP_NAME = \"app_name\";\n  private static final String APP_ICON = \"app_icon\";\n  private static final String APP_SIZE = \"app_size\";\n  Method getPackageSizeInfo = null;\n  PackageManager pm  ;\n@Override\npublic void onCreate(Bundle icicle){\n    super.onCreate(icicle);\n    pm = getPackageManager();\n\n\n    try {\n        getPackageSizeInfo = pm.getClass().getMethod(\"getPackageSizeInfo\", String.class, IPackageStatsObserver.class);\n    } catch (SecurityException e1) {\n\n        e1.printStackTrace();\n    } catch (NoSuchMethodException e1) {\n\n        e1.printStackTrace();\n    } \n    new AppDetails().execute();\n}\n\nprivate boolean isSystemPackage(PackageInfo pkgInfo) {\n    return ((pkgInfo.applicationInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) != 0) ? true\n            : false;\n}\n\n\nclass AppDetails extends AsyncTask&lt;Void, Void, ArrayList&lt;HashMap&lt;String , Object&gt;&gt;&gt;\n{\n     private  long   app_apk_size;\n     ProgressDialog mDialog;\n     @Override\n     public void onPreExecute()\n     {\n             mDialog = new ProgressDialog(PackageTabActivity.this);\n             mDialog.setCancelable(true);\n             mDialog.setMessage(\"Loading... \" );\n             mDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);\n             mDialog.setProgress(0);\n             mDialog.show();\n     }\n    @Override\n    protected ArrayList&lt;HashMap&lt;String, Object&gt;&gt; doInBackground(\n            Void... params) {\n\n        ArrayList&lt;HashMap&lt;String,Object&gt;&gt; applistwithicon = new ArrayList&lt;HashMap&lt;String,Object&gt;&gt;();\n        HashMap&lt;String,Object&gt; hm;\n        String appname;\n        Drawable icon = null;\n        List&lt;PackageInfo&gt; packs = getPackageManager().getInstalledPackages(0);   \n\n        for(int i=0;i&lt;packs.size();i++) {\n\n            PackageInfo p = packs.get(i);\n\n\n            if(!isSystemPackage(p))\n            {\n                hm = new HashMap&lt;String, Object&gt;();\n                appname = p.applicationInfo.loadLabel(getPackageManager()).toString();\n\n                icon = p.applicationInfo.loadIcon(getPackageManager());\n                Log.v(\"package name\", \"package name =\" + p.packageName);\n                try {\n                  getPackageSizeInfo.invoke(pm,  p.packageName, new IPackageStatsObserver.Stub()  {\n\n                    public void onGetStatsCompleted(PackageStats pStats, boolean succeeded) throws RemoteException {\n\n                                   app_apk_size = pStats.codeSize;    \n                                   Log.v(\"apksize\", \"appsize = \"+app_apk_size);\n                    }           \n            });\n                }catch(IllegalAccessException e) {}\n                catch(IllegalArgumentException r) {}\n                catch(InvocationTargetException w){}\n\n            hm.put(APP_SIZE, (app_apk_size/(1024)));\n            hm.put(APP_ICON, icon);\n            hm.put(APP_NAME, appname);\n            applistwithicon.add(hm);\n            }\n        }\n\n        return applistwithicon;\n    }\n    @Override\n    public void onPostExecute(ArrayList&lt;HashMap&lt;String, Object&gt;&gt; result)\n    {\n        mDialog.dismiss();\n         CustomAdapterList myAdapter = new CustomAdapterList(result,PackageTabActivity.this );\n\n          setListAdapter(myAdapter);\n\n    }\n}\n}\n</code></pre>\n\n<p>Here IPackageStatsObserver is an interface (aidl file).\nThis gives me correct result on emulator but on phone. It gives mixture of right and wrong size of application.</p>\n\n<p>I am now totally stuck and can't find any workaround.</p>\n\n<p>Any help would be higly appreciated.</p>\n"},{"tags":["java","arrays","random","infinite-loop","do-while"],"comments":[{"owner":{"account_id":12359080,"reputation":383,"user_id":9013923,"display_name":"Julius H&#246;rger"},"score":0,"creation_date":1576243014,"post_id":59323313,"comment_id":104846272,"body_markdown":"You are overriding ``found`` so it will take its last value","body":"You are overriding <code>found</code> so it will take its last value"},{"owner":{"account_id":8188250,"reputation":118,"user_id":6163381,"display_name":"Dennis B."},"score":0,"creation_date":1576243055,"post_id":59323313,"comment_id":104846291,"body_markdown":"What happens, if every pawn is chosen? For every number `nextInt` provides, there will be a chosenPawn and `found`  will be true, thus the loop never exits.","body":"What happens, if every pawn is chosen? For every number <code>nextInt</code> provides, there will be a chosenPawn and <code>found</code>  will be true, thus the loop never exits."},{"owner":{"account_id":7007162,"reputation":939,"user_id":5371168,"display_name":"D. Lawrence"},"score":0,"creation_date":1576243065,"post_id":59323313,"comment_id":104846301,"body_markdown":"Just a small remark: don&#39;t do ```while(found == true)```. In fact, ```found``` is already a boolean. It should only be ```while(found)```.","body":"Just a small remark: don&#39;t do <code>while(found == true)</code>. In fact, <code>found</code> is already a boolean. It should only be <code>while(found)</code>."},{"owner":{"account_id":16779973,"reputation":132,"user_id":12130402,"display_name":"Arlien"},"score":0,"creation_date":1576243210,"post_id":59323313,"comment_id":104846374,"body_markdown":"When you do `int[] chosenPawns = new int[40];` it&#39;s only creating this array of int. You need to fill it.","body":"When you do <code>int[] chosenPawns = new int[40];</code> it&#39;s only creating this array of int. You need to fill it."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1576800663,"post_id":59323313,"comment_id":105024123,"body_markdown":"Provided an answer that randomizes your pawn placement in linear time and does not require keeping track of indices.","body":"Provided an answer that randomizes your pawn placement in linear time and does not require keeping track of indices."}],"answers":[{"tags":[],"owner":{"account_id":5659394,"reputation":1769,"user_id":4477481,"accept_rate":80,"display_name":"Narek Hayrapetyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576243491,"creation_date":1576243491,"answer_id":59323498,"question_id":59323313,"body_markdown":"You can have two arrays, and second one keep for selected integers, then do loop in second array check if there is any number equal to given one return false or true.\r\n\r\n    int [] selectedInts = new int[40];\r\n    \r\n    boolean contains(int num) {\r\n      for (int i = 0 ; i &lt; selectedInts.length; i++) {\r\n        if (i == num) return true;\r\n      }\r\n      return false;\r\n    }\r\n    \r\nAlso you can use like\r\n\r\n    Arrays.asList().contains(yourInt);","title":"How to fill ant int array randomly with values from another integer array in Java?","body":"<p>You can have two arrays, and second one keep for selected integers, then do loop in second array check if there is any number equal to given one return false or true.</p>\n\n<pre><code>int [] selectedInts = new int[40];\n\nboolean contains(int num) {\n  for (int i = 0 ; i &lt; selectedInts.length; i++) {\n    if (i == num) return true;\n  }\n  return false;\n}\n</code></pre>\n\n<p>Also you can use like</p>\n\n<pre><code>Arrays.asList().contains(yourInt);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576244475,"creation_date":1576244475,"answer_id":59323754,"question_id":59323313,"body_markdown":"The chosenPawns array should only be searched upto counter.\r\nUsing repeatedly random to find a free spot when almost all is used, could take several thousands of steps to find the final last open spots. There is not even a guarantee to find an open spot.\r\n\r\nSimply consider the random position as starting point to find the first free pawn, going round-robin from ... 36, 37, 38, 39, 0, 1, ....\r\n\r\n    int[] pawnsArray = {1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4,\r\n        5, 5, 5, 5, 6, 6, 6, 6, 7, 7, 7, 8, 8, 9, 10, 11, 12, 12, 12, 12, 12, 12 };\r\n    // this array contains 40 integers\r\n\r\n    boolean[] pawnsChosen = new boolean[40];\r\n    // this array tells wether the i&#39;th pawn was chosen.\r\n\r\n    for (int i = 0; i &lt; 4; i++) {\r\n        for (int j = 0; j &lt; 10; j++) {\r\n\r\n            int pawnIndex = rand.nextInt(40);\r\n            while (pawnsChosen[pawnIndex]) {\r\n                pawnIndex = (pawnIndex + 1) % 40;\r\n            }\r\n            pawnsChosen[pawnIndex] = true;\r\n\r\n            board[i][j].rank = availablePawnsArray[pawnIndex];\r\n        }\r\n    }","title":"How to fill ant int array randomly with values from another integer array in Java?","body":"<p>The chosenPawns array should only be searched upto counter.\nUsing repeatedly random to find a free spot when almost all is used, could take several thousands of steps to find the final last open spots. There is not even a guarantee to find an open spot.</p>\n\n<p>Simply consider the random position as starting point to find the first free pawn, going round-robin from ... 36, 37, 38, 39, 0, 1, ....</p>\n\n<pre><code>int[] pawnsArray = {1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4,\n    5, 5, 5, 5, 6, 6, 6, 6, 7, 7, 7, 8, 8, 9, 10, 11, 12, 12, 12, 12, 12, 12 };\n// this array contains 40 integers\n\nboolean[] pawnsChosen = new boolean[40];\n// this array tells wether the i'th pawn was chosen.\n\nfor (int i = 0; i &lt; 4; i++) {\n    for (int j = 0; j &lt; 10; j++) {\n\n        int pawnIndex = rand.nextInt(40);\n        while (pawnsChosen[pawnIndex]) {\n            pawnIndex = (pawnIndex + 1) % 40;\n        }\n        pawnsChosen[pawnIndex] = true;\n\n        board[i][j].rank = availablePawnsArray[pawnIndex];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576251742,"creation_date":1576247705,"answer_id":59324641,"question_id":59323313,"body_markdown":"You can simplify this by modifying the random number selection in the same way that one might shuffle a deck of cards.  It is a slight variation of Fisher-Yates. I believe this should always work in linear time.\r\n\r\n```java\r\n\t  Random rand = new Random();\r\n\t  int[] availablePawnsArray = {\r\n\t        1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 6,\r\n\t        6, 6, 6, 7, 7, 7, 8, 8, 9, 10, 11, 12, 12, 12, 12, 12, 12\r\n\t  };\r\n\r\n\t\r\n\t  int start = 39;\r\n\t  for (int i = 0; i &lt; 4; i++) {\r\n\t\t for (int k = 0; k &lt; 10; k++) {\r\n\t\t\tint chosenPawn = rand.nextInt(start + 1);\r\n            // chose the pawn\r\n\t\t\tboard[i][k].rank = availablePawnsArray[chosenPawn];\r\n            // copy the pawn from the end of the list to the \r\n            // chosen pawn location.\r\n\t\t\tavailablePawnsArray[chosenPawn] = availablePawnsArray[start];\r\n\t\t\t// update the random number to ignore the last slot\r\n            // in the array (the pawn in that slot has\r\n            // been moved to occupy the chosenPawn&#39;s location)\r\n            start--;\r\n\t\t }\r\n\t  }\r\n\r\n\t  for (int i = 0; i &lt; 4; i++) {\r\n\t\t for (int k = 0; k &lt; 10; k++) {\r\n\t\t\tSystem.out.print(board[i][k].rank + &quot; &quot;);\r\n\t\t }\r\n\t\t System.out.println();\r\n\t  }\r\n   }\r\n```\r\n\r\n","title":"How to fill ant int array randomly with values from another integer array in Java?","body":"<p>You can simplify this by modifying the random number selection in the same way that one might shuffle a deck of cards.  It is a slight variation of Fisher-Yates. I believe this should always work in linear time.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>      Random rand = new Random();\n      int[] availablePawnsArray = {\n            1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 6,\n            6, 6, 6, 7, 7, 7, 8, 8, 9, 10, 11, 12, 12, 12, 12, 12, 12\n      };\n\n\n      int start = 39;\n      for (int i = 0; i &lt; 4; i++) {\n         for (int k = 0; k &lt; 10; k++) {\n            int chosenPawn = rand.nextInt(start + 1);\n            // chose the pawn\n            board[i][k].rank = availablePawnsArray[chosenPawn];\n            // copy the pawn from the end of the list to the \n            // chosen pawn location.\n            availablePawnsArray[chosenPawn] = availablePawnsArray[start];\n            // update the random number to ignore the last slot\n            // in the array (the pawn in that slot has\n            // been moved to occupy the chosenPawn's location)\n            start--;\n         }\n      }\n\n      for (int i = 0; i &lt; 4; i++) {\n         for (int k = 0; k &lt; 10; k++) {\n            System.out.print(board[i][k].rank + \" \");\n         }\n         System.out.println();\n      }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8595751,"reputation":5395,"user_id":6438819,"display_name":"RaffleBuffle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1629216619,"creation_date":1629216619,"answer_id":68820732,"question_id":59323313,"body_markdown":"Unless you need to implement it as an exercise you could use the built in `shuffle` method, wrapping your array of available pawns in a list:\r\n\r\n\tCollections.shuffle(Arrays.asList(availablePawnsArray));\r\n\t\t\r\n\tfor (int i = 0, k = 0; i &lt; 4; i++) \r\n\t    for (int j = 0; j &lt; 10; j++, k++) \r\n\t    \tboard[i][j].rank = availablePawnsArray[k];\r\n","title":"How to fill ant int array randomly with values from another integer array in Java?","body":"<p>Unless you need to implement it as an exercise you could use the built in <code>shuffle</code> method, wrapping your array of available pawns in a list:</p>\n<pre><code>Collections.shuffle(Arrays.asList(availablePawnsArray));\n    \nfor (int i = 0, k = 0; i &lt; 4; i++) \n    for (int j = 0; j &lt; 10; j++, k++) \n        board[i][j].rank = availablePawnsArray[k];\n</code></pre>\n"}],"owner":{"account_id":9189818,"reputation":97,"user_id":6830765,"display_name":"jlanssie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68820732,"answer_count":4,"score":1,"last_activity_date":1641126690,"creation_date":1576242753,"question_id":59323313,"body_markdown":"I have an integer array with 40 integer values and need to put these randomly on into another integer array. \r\n\r\nI have a random number that chooses a random value from the first array, but if that specific integer has already been chosen, it has to pick a new random value, but that last part seems to bug for some reason.\r\n\r\n```java\r\nRandom rand = new Random();    \r\n\r\nint[] availablePawnsArray = {1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 6, 6, 6, 6, 7, 7, 7, 8, 8, 9, 10, 11, 12, 12, 12, 12, 12, 12 };\r\n// this array contains 40 integers\r\n\r\nint[] chosenPawns = new int[40];\r\n//this array contains the index numbers of already selected pawnsfrom the previous array\r\n\r\nint counter = 0;\r\n//counts how many pawns have been selected already    \r\n\r\nfor (int i = 0; i &lt; 4; i++) {\r\n    for (int j = 0; j &lt; 10; j++) {\r\n    //this refers to my board, 40 locations for my 40 pawns    \r\n\r\n        int chosenPawn = rand.nextInt(40);\r\n        //a random numder from 0 to 40\r\n        \r\n        boolean found = false;\r\n        //a boolean to say if i have already selected this pawn before or not    \r\n\r\n        do {\r\n            for (int n : chosenPawns) {\r\n                if (n == chosenPawn) {\r\n                    found = true;\r\n                    chosenPawn = rand.nextInt(40);\r\n                } else {\r\n                    found = false;\r\n                }\r\n            }\r\n        } while(found == true);    \r\n\r\n        board[i][j].rank = availablePawnsArray[chosenPawn];\r\n        chosenPawns[counter] = chosenPawn;\r\n        counter++;\r\n    }\r\n}\r\n```\r\n","title":"How to fill ant int array randomly with values from another integer array in Java?","body":"<p>I have an integer array with 40 integer values and need to put these randomly on into another integer array.</p>\n<p>I have a random number that chooses a random value from the first array, but if that specific integer has already been chosen, it has to pick a new random value, but that last part seems to bug for some reason.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Random rand = new Random();    \n\nint[] availablePawnsArray = {1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 6, 6, 6, 6, 7, 7, 7, 8, 8, 9, 10, 11, 12, 12, 12, 12, 12, 12 };\n// this array contains 40 integers\n\nint[] chosenPawns = new int[40];\n//this array contains the index numbers of already selected pawnsfrom the previous array\n\nint counter = 0;\n//counts how many pawns have been selected already    \n\nfor (int i = 0; i &lt; 4; i++) {\n    for (int j = 0; j &lt; 10; j++) {\n    //this refers to my board, 40 locations for my 40 pawns    \n\n        int chosenPawn = rand.nextInt(40);\n        //a random numder from 0 to 40\n        \n        boolean found = false;\n        //a boolean to say if i have already selected this pawn before or not    \n\n        do {\n            for (int n : chosenPawns) {\n                if (n == chosenPawn) {\n                    found = true;\n                    chosenPawn = rand.nextInt(40);\n                } else {\n                    found = false;\n                }\n            }\n        } while(found == true);    \n\n        board[i][j].rank = availablePawnsArray[chosenPawn];\n        chosenPawns[counter] = chosenPawn;\n        counter++;\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","backtracking","chess","knights-tour"],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633474506,"creation_date":1633474506,"answer_id":69458088,"question_id":69457978,"body_markdown":"It&#39;s simply an exhaustive list of all the moves a knight can make, relative to its current position.  That list is determined by the rules of chess (and the rectangular grid of a chessboard). \r\n\r\nFor example, the 0&#39;th entries in both arrays mean &quot;2 squares right and 1 square forward&quot; - assuming x-coordinates increase left-to-right and y coordinates increase front-to-back.\r\n\r\nYou can determine the list for yourself by enumerating every possible combination of &quot;two squares in one direction, and then one square at right-angles to it&quot;.\r\n","title":"How do you find possible x, y values for the Knight&#39;s Tour Problem?","body":"<p>It's simply an exhaustive list of all the moves a knight can make, relative to its current position.  That list is determined by the rules of chess (and the rectangular grid of a chessboard).</p>\n<p>For example, the 0'th entries in both arrays mean &quot;2 squares right and 1 square forward&quot; - assuming x-coordinates increase left-to-right and y coordinates increase front-to-back.</p>\n<p>You can determine the list for yourself by enumerating every possible combination of &quot;two squares in one direction, and then one square at right-angles to it&quot;.</p>\n"}],"owner":{"account_id":22799501,"reputation":1,"user_id":16952453,"display_name":"captaincabbage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641126687,"creation_date":1633473496,"question_id":69457978,"body_markdown":"I was looking into the Knight&#39;s Tour Problem, where the solution is obtained when a chess knight piece moves to every square on a grid exactly once. However, upon looking at different solutions for the problem, I keep seeing a specific array of numbers:\r\n\r\n    int xMove[] = { 2, 1, -1, -2, -2, -1, 1, 2 };\r\n    int yMove[] = { 1, 2, 2, 1, -1, -2, -2, -1 };\r\n\r\nWhere exactly these integers are coming from? Is there a way that you can solve the problem without these specific integers, or are they essential to the problem? For reference, here is the full code I was looking at. (credit GeeksforGeeks)\r\n\r\n    // Java program for Knight Tour problem\r\n    class KnightTour {\r\n        static int N = 8;\r\n     \r\n        /* A utility function to check if i,j are\r\n           valid indexes for N*N chessboard */\r\n        static boolean isSafe(int x, int y, int sol[][])\r\n        {\r\n            return (x &gt;= 0 &amp;&amp; x &lt; N &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; N\r\n                    &amp;&amp; sol[x][y] == -1);\r\n        }\r\n     \r\n        /* A utility function to print solution\r\n           matrix sol[N][N] */\r\n        static void printSolution(int sol[][])\r\n        {\r\n            for (int x = 0; x &lt; N; x++) {\r\n                for (int y = 0; y &lt; N; y++)\r\n                    System.out.print(sol[x][y] + &quot; &quot;);\r\n                System.out.println();\r\n            }\r\n        }\r\n     \r\n        /* This function solves the Knight Tour problem\r\n           using Backtracking.  This  function mainly\r\n           uses solveKTUtil() to solve the problem. It\r\n           returns false if no complete tour is possible,\r\n           otherwise return true and prints the tour.\r\n           Please note that there may be more than one\r\n           solutions, this function prints one of the\r\n           feasible solutions.  */\r\n        static boolean solveKT()\r\n        {\r\n            int sol[][] = new int[8][8];\r\n     \r\n            /* Initialization of solution matrix */\r\n            for (int x = 0; x &lt; N; x++)\r\n                for (int y = 0; y &lt; N; y++)\r\n                    sol[x][y] = -1;\r\n     \r\n            /* xMove[] and yMove[] define next move of Knight.\r\n               xMove[] is for next value of x coordinate\r\n               yMove[] is for next value of y coordinate */\r\n\r\n            int xMove[] = { 2, 1, -1, -2, -2, -1, 1, 2 };\r\n            int yMove[] = { 1, 2, 2, 1, -1, -2, -2, -1 };\r\n     \r\n            // Since the Knight is initially at the first block\r\n            sol[0][0] = 0;\r\n     \r\n            /* Start from 0,0 and explore all tours using\r\n               solveKTUtil() */\r\n            if (!solveKTUtil(0, 0, 1, sol, xMove, yMove)) {\r\n                System.out.println(&quot;Solution does not exist&quot;);\r\n                return false;\r\n            }\r\n            else\r\n                printSolution(sol);\r\n     \r\n            return true;\r\n        }\r\n     \r\n        /* A recursive utility function to solve Knight\r\n           Tour problem */\r\n        static boolean solveKTUtil(int x, int y, int movei,\r\n                                   int sol[][], int xMove[],\r\n                                   int yMove[])\r\n        {\r\n            int k, next_x, next_y;\r\n            if (movei == N * N)\r\n                return true;\r\n     \r\n            /* Try all next moves from the current coordinate\r\n                x, y */\r\n            for (k = 0; k &lt; 8; k++) {\r\n                next_x = x + xMove[k];\r\n                next_y = y + yMove[k];\r\n                if (isSafe(next_x, next_y, sol)) {\r\n                    sol[next_x][next_y] = movei;\r\n                    if (solveKTUtil(next_x, next_y, movei + 1,\r\n                                    sol, xMove, yMove))\r\n                        return true;\r\n                    else\r\n                        sol[next_x][next_y]\r\n                            = -1; // backtracking\r\n                }\r\n            }\r\n     \r\n            return false;\r\n        }\r\n     \r\n        /* Driver Code */\r\n        public static void main(String args[])\r\n        {\r\n            // Function Call\r\n            solveKT();\r\n        }\r\n    }\r\n    // This code is contributed by Abhishek Shankhadhar\r\n\r\n ","title":"How do you find possible x, y values for the Knight&#39;s Tour Problem?","body":"<p>I was looking into the Knight's Tour Problem, where the solution is obtained when a chess knight piece moves to every square on a grid exactly once. However, upon looking at different solutions for the problem, I keep seeing a specific array of numbers:</p>\n<pre><code>int xMove[] = { 2, 1, -1, -2, -2, -1, 1, 2 };\nint yMove[] = { 1, 2, 2, 1, -1, -2, -2, -1 };\n</code></pre>\n<p>Where exactly these integers are coming from? Is there a way that you can solve the problem without these specific integers, or are they essential to the problem? For reference, here is the full code I was looking at. (credit GeeksforGeeks)</p>\n<pre><code>// Java program for Knight Tour problem\nclass KnightTour {\n    static int N = 8;\n \n    /* A utility function to check if i,j are\n       valid indexes for N*N chessboard */\n    static boolean isSafe(int x, int y, int sol[][])\n    {\n        return (x &gt;= 0 &amp;&amp; x &lt; N &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; N\n                &amp;&amp; sol[x][y] == -1);\n    }\n \n    /* A utility function to print solution\n       matrix sol[N][N] */\n    static void printSolution(int sol[][])\n    {\n        for (int x = 0; x &lt; N; x++) {\n            for (int y = 0; y &lt; N; y++)\n                System.out.print(sol[x][y] + &quot; &quot;);\n            System.out.println();\n        }\n    }\n \n    /* This function solves the Knight Tour problem\n       using Backtracking.  This  function mainly\n       uses solveKTUtil() to solve the problem. It\n       returns false if no complete tour is possible,\n       otherwise return true and prints the tour.\n       Please note that there may be more than one\n       solutions, this function prints one of the\n       feasible solutions.  */\n    static boolean solveKT()\n    {\n        int sol[][] = new int[8][8];\n \n        /* Initialization of solution matrix */\n        for (int x = 0; x &lt; N; x++)\n            for (int y = 0; y &lt; N; y++)\n                sol[x][y] = -1;\n \n        /* xMove[] and yMove[] define next move of Knight.\n           xMove[] is for next value of x coordinate\n           yMove[] is for next value of y coordinate */\n\n        int xMove[] = { 2, 1, -1, -2, -2, -1, 1, 2 };\n        int yMove[] = { 1, 2, 2, 1, -1, -2, -2, -1 };\n \n        // Since the Knight is initially at the first block\n        sol[0][0] = 0;\n \n        /* Start from 0,0 and explore all tours using\n           solveKTUtil() */\n        if (!solveKTUtil(0, 0, 1, sol, xMove, yMove)) {\n            System.out.println(&quot;Solution does not exist&quot;);\n            return false;\n        }\n        else\n            printSolution(sol);\n \n        return true;\n    }\n \n    /* A recursive utility function to solve Knight\n       Tour problem */\n    static boolean solveKTUtil(int x, int y, int movei,\n                               int sol[][], int xMove[],\n                               int yMove[])\n    {\n        int k, next_x, next_y;\n        if (movei == N * N)\n            return true;\n \n        /* Try all next moves from the current coordinate\n            x, y */\n        for (k = 0; k &lt; 8; k++) {\n            next_x = x + xMove[k];\n            next_y = y + yMove[k];\n            if (isSafe(next_x, next_y, sol)) {\n                sol[next_x][next_y] = movei;\n                if (solveKTUtil(next_x, next_y, movei + 1,\n                                sol, xMove, yMove))\n                    return true;\n                else\n                    sol[next_x][next_y]\n                        = -1; // backtracking\n            }\n        }\n \n        return false;\n    }\n \n    /* Driver Code */\n    public static void main(String args[])\n    {\n        // Function Call\n        solveKT();\n    }\n}\n// This code is contributed by Abhishek Shankhadhar\n</code></pre>\n"},{"tags":["java","algorithm","swing","knights-tour"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1639037524,"post_id":70286145,"comment_id":124247254,"body_markdown":"It looks like your first application is a commandline tool, i.e. it contains some i/o but mostly the algorithm. I would suggest you extract the algorithm into a class, i.e. separate i/o from it and also keep data as instance variables instead of statics. Once that&#39;s done you should be able to reuse the algorithm class in your Swing application and replace command line i/o with Swing-based i/o. That way you can test your algorithm separately and if it works in one case but not the other you know that the problem is with your i/o and you can debug that portion.","body":"It looks like your first application is a commandline tool, i.e. it contains some i/o but mostly the algorithm. I would suggest you extract the algorithm into a class, i.e. separate i/o from it and also keep data as instance variables instead of statics. Once that&#39;s done you should be able to reuse the algorithm class in your Swing application and replace command line i/o with Swing-based i/o. That way you can test your algorithm separately and if it works in one case but not the other you know that the problem is with your i/o and you can debug that portion."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1639040127,"post_id":70286145,"comment_id":124248151,"body_markdown":"You have a thread.sleep in your UI and you&#39;re wondering why it takes longer?  Also, Swing is not thread safe","body":"You have a thread.sleep in your UI and you&#39;re wondering why it takes longer?  Also, Swing is not thread safe"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639043767,"creation_date":1639043767,"answer_id":70287864,"question_id":70286145,"body_markdown":"So, I&#39;ve been trying to get my head around you code and it&#39;s ... interesting.\r\n\r\nIf I feed in `x=8`, `y=8`, `row=2` and `column=2` into both implementations, both give back the same values, having said that, you can reduce some of the potential risk of issues by using the exact same algorithm\r\n\r\nStart by defining a single class which does all the work...\r\n\r\n    public class KnightsTour {\r\n\r\n        private int x, y;\r\n        private boolean[] visited;\r\n        private boolean finished;\r\n\r\n        public KnightsTour(int x, int y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n\r\n        public int[][] start(int row, int column) {\r\n            int[][] chessboard = new int[x][y];\r\n            visited = new boolean[x * y];\r\n            finished = false;\r\n\r\n            traversalChessboard(chessboard, row - 1, column - 1, 1);\r\n            return chessboard;\r\n        }\r\n\r\n        protected void traversalChessboard(int[][] chessboard, int row, int column, int step) {\r\n            chessboard[row][column] = step;\r\n            visited[row * x + column] = true;\r\n            ArrayList&lt;Point&gt; ps = getAvailable(new Point(column, row));\r\n            sort(ps);\r\n            while (!ps.isEmpty()) {\r\n                Point p = (Point) ps.remove(0);\r\n                if (!visited[p.y * x + p.x]) {\r\n                    traversalChessboard(chessboard, p.y, p.x, step + 1);\r\n                }\r\n            }\r\n\r\n            if (step &lt; x * y &amp;&amp; !finished) {\r\n                chessboard[row][column] = 0;\r\n                visited[row * x + column] = false;\r\n            } else {\r\n                finished = true;\r\n            }\r\n\r\n        }\r\n\r\n        //This method is to get next collection of the position that horse can reach in current position\r\n        protected ArrayList&lt;Point&gt; getAvailable(Point curPoint) {\r\n            ArrayList&lt;Point&gt; ps = new ArrayList&lt;&gt;();\r\n            Point p1 = new Point();\r\n            if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\r\n                ps.add(new Point(p1));\r\n            }\r\n\r\n            if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\r\n                ps.add(new Point(p1));\r\n            }\r\n\r\n            if ((p1.x = curPoint.x + 1) &lt; x &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\r\n                ps.add(new Point(p1));\r\n            }\r\n\r\n            if ((p1.x = curPoint.x + 2) &lt; x &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\r\n                ps.add(new Point(p1));\r\n            }\r\n\r\n            if ((p1.x = curPoint.x + 2) &lt; x &amp;&amp; (p1.y = curPoint.y + 1) &lt; y) {\r\n                ps.add(new Point(p1));\r\n            }\r\n\r\n            if ((p1.x = curPoint.x + 1) &lt; x &amp;&amp; (p1.y = curPoint.y + 2) &lt; y) {\r\n                ps.add(new Point(p1));\r\n            }\r\n\r\n            if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 2) &lt; y) {\r\n                ps.add(new Point(p1));\r\n            }\r\n\r\n            if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 1) &lt; y) {\r\n                ps.add(new Point(p1));\r\n            }\r\n\r\n            return ps;\r\n        }\r\n\r\n        //The core of GCD. This method is to sort the collection of position the horse can reach according to time-consuming.\r\n        protected void sort(ArrayList&lt;Point&gt; ps) {\r\n            ps.sort(new Comparator&lt;Point&gt;() {\r\n                public int compare(Point o1, Point o2) {\r\n                    int count1 = getAvailable(o1).size();\r\n                    int count2 = getAvailable(o2).size();\r\n                    if (count1 &lt; count2) {\r\n                        return -1;\r\n                    } else {\r\n                        return count1 == count2 ? 0 : 1;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nNote, I&#39;ve removed a lot of `static` from your code, this isn&#39;t helping you.\r\n\r\nFor the text based solution, it might look something like this...\r\n\r\n    Instant startedAt = Instant.now();\r\n    int[][] chessboard = new KnightsTour(8, 8).start(2, 3);\r\n    Duration duration = Duration.between(startedAt, Instant.now());\r\n    System.out.println(&quot;time: &quot; + (duration.toMillis()) + &quot; ms&quot;);\r\n    for (int[] rows : chessboard) {\r\n        for (int steps : rows) {\r\n            System.out.print(steps + &quot;\\t&quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\nFor me, this prints\r\n\r\n    time: 4 ms\r\n    2\t35\t4\t19\t30\t33\t14\t17\t\r\n    5\t20\t1\t34\t15\t18\t29\t32\t\r\n    36\t3\t62\t57\t44\t31\t16\t13\t\r\n    21\t6\t59\t54\t61\t28\t43\t46\t\r\n    52\t37\t56\t63\t58\t45\t12\t27\t\r\n    7\t22\t53\t60\t55\t64\t47\t42\t\r\n    38\t51\t24\t9\t40\t49\t26\t11\t\r\n    23\t8\t39\t50\t25\t10\t41\t48\r\n\r\nThe UI is slightly more complicated.  Swing isn&#39;t thread safe and it&#39;s single threaded.\r\n\r\nThis basically means that you shouldn&#39;t run any long running operations within the context of the Event Dispatching Thread and you shouldn&#39;t update the UI (or a state the UI relies on) from outside the context of the EDT\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details.\r\n\r\nNow, for this solution, I would use a `SwingWorker`, see [Worker Threads and SwingWorker](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html) for more details\r\n\r\n    // This just allows me to move data from one thread context to another\r\n    protected class DataPoint {\r\n\r\n        private int x, y, value;\r\n\r\n        public DataPoint(int x, int y, int value) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.value = value;\r\n        }\r\n\r\n        public int getX() {\r\n            return x;\r\n        }\r\n\r\n        public int getY() {\r\n            return y;\r\n        }\r\n\r\n        public int getValue() {\r\n            return value;\r\n        }\r\n\r\n    }\r\n\r\n    // nb you could actually pass a pre-filled instance of \r\n    // KnightsTour, but we do need some of the properties\r\n    // so it&#39;s up to you\r\n    public class KingsTourWorker extends SwingWorker&lt;Void, DataPoint&gt; {\r\n\r\n        private DefaultTableModel model;\r\n        private int x;\r\n        private int y;\r\n        private int startRow;\r\n        private int startColumn;\r\n\r\n        public KingsTourWorker(DefaultTableModel model, int x, int y, int startRow, int startColumn) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.startRow = startRow;\r\n            this.startColumn = startColumn;\r\n            this.model = model;\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground() throws Exception {\r\n            Instant startedAt = Instant.now();\r\n            int[][] chessboard = new KnightsTour(x, y).start(startRow, startColumn);\r\n            Duration duration = Duration.between(startedAt, Instant.now());\r\n            System.out.println(&quot;time: &quot; + (duration.toMillis()) + &quot; ms&quot;);\r\n            for (int[] rows : chessboard) {\r\n                for (int steps : rows) {\r\n                    System.out.print(steps + &quot;\\t&quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            for (int i = 1; i &lt;= x * y; i++) {\r\n                Point p = getIndex(chessboard, i);\r\n                publish(new DataPoint(p.x, p.y, i));\r\n                Thread.sleep(25);\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void process(List&lt;DataPoint&gt; chunks) {\r\n            for (DataPoint dp : chunks) {\r\n                model.setValueAt(dp.getValue(), dp.getX(), dp.getY());\r\n            }\r\n        }\r\n\r\n        private Point getIndex(int[][] temp1, int temp2) {\r\n            for (int i = 0; i &lt; x; i++) {\r\n                for (int j = 0; j &lt; y; j++) {\r\n                    if (temp1[i][j] == temp2) {\r\n                        return new Point(i, j);\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nAnd finally the actual pane itself...\r\n\r\n    public class HorsePane extends JPanel implements ActionListener {\r\n\r\n        private JTextField[] texts;\r\n        private JButton button;\r\n        private DefaultTableModel tableModel;\r\n        private JTable jtable;\r\n        public Object[] temp = {&quot;no result&quot;};\r\n\r\n        public HorsePane() {\r\n            setLayout(new BorderLayout());\r\n            JPanel panel = new JPanel();\r\n            add(panel, &quot;North&quot;);\r\n\r\n            String[] str_label = {&quot;chessboard&#39;s row&quot;, &quot;chessboard&#39;s column&quot;, &quot;initial row&quot;, &quot;initial column&quot;};\r\n            String[] str_text = {&quot;8&quot;, &quot;8&quot;, &quot;2&quot;, &quot;3&quot;};\r\n            this.texts = new JTextField[str_text.length];\r\n\r\n            for (int i = 0; i &lt; str_text.length; i++) {\r\n                panel.add(new JLabel(str_label[i]));\r\n                panel.add(this.texts[i] = new JTextField(str_text[i]));\r\n            }\r\n\r\n            panel.add(this.button = new JButton(&quot;demonstrate&quot;));\r\n            this.button.addActionListener(this);\r\n            this.tableModel = new DefaultTableModel();\r\n            this.tableModel.setRowCount(0);\r\n            this.tableModel.setColumnCount(0);\r\n            this.jtable = new JTable(this.tableModel);\r\n            add(new JScrollPane(jtable));\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            this.tableModel.setRowCount(0);\r\n            this.tableModel.setColumnCount(0);\r\n            if (&quot;demonstrate&quot;.equals(e.getActionCommand())) {\r\n                int x = Integer.parseInt(texts[0].getText());\r\n                int y = Integer.parseInt(texts[1].getText());\r\n                this.tableModel.setRowCount(x);\r\n                this.tableModel.setColumnCount(y);\r\n                int startRow = Integer.parseInt(texts[2].getText());\r\n                int startColumn = Integer.parseInt(texts[3].getText());\r\n\r\n                button.setEnabled(false);\r\n\r\n                KingsTourWorker worker = new KingsTourWorker(tableModel, x, y, startRow, startColumn);\r\n                worker.addPropertyChangeListener(new PropertyChangeListener() {\r\n                    @Override\r\n                    public void propertyChange(PropertyChangeEvent evt) {\r\n                        if (worker.getState() == SwingWorker.StateValue.DONE) {\r\n                            button.setEnabled(true);\r\n                        }\r\n                    }\r\n                });\r\n                worker.execute();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nNow, when I run it, the worker will dump out\r\n\r\n    time: 1 ms\r\n    2\t35\t4\t19\t30\t33\t14\t17\t\r\n    5\t20\t1\t34\t15\t18\t29\t32\t\r\n    36\t3\t62\t57\t44\t31\t16\t13\t\r\n    21\t6\t59\t54\t61\t28\t43\t46\t\r\n    52\t37\t56\t63\t58\t45\t12\t27\t\r\n    7\t22\t53\t60\t55\t64\t47\t42\t\r\n    38\t51\t24\t9\t40\t49\t26\t11\t\r\n    23\t8\t39\t50\t25\t10\t41\t48\r\n\r\nto the console and the UI ....\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&gt; But why doesn&#39;t mine work\r\n\r\nHonestly, I can only speculate, but I would surmise that:\r\n\r\n* In violating the single threaded nature of the API, you&#39;ve broken it\r\n* You are running more than one thread simultaneously and this is generating conflicts.  You will note in my code, I disable the button while the worker is running\r\n\r\n# Runnable example\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingWorker;\r\n    import javax.swing.table.DefaultTableModel;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n\r\n        }\r\n\r\n        public Test() {\r\n            Instant startedAt = Instant.now();\r\n            int[][] chessboard = new KnightsTour(8, 8).start(2, 3);\r\n            Duration duration = Duration.between(startedAt, Instant.now());\r\n            System.out.println(&quot;time: &quot; + (duration.toMillis()) + &quot; ms&quot;);\r\n            for (int[] rows : chessboard) {\r\n                for (int steps : rows) {\r\n                    System.out.print(steps + &quot;\\t&quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new HorsePane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class KnightsTour {\r\n\r\n            private int x, y;\r\n            private boolean[] visited;\r\n            private boolean finished;\r\n\r\n            public KnightsTour(int x, int y) {\r\n                this.x = x;\r\n                this.y = y;\r\n            }\r\n\r\n            public int[][] start(int row, int column) {\r\n                int[][] chessboard = new int[x][y];\r\n                visited = new boolean[x * y];\r\n                finished = false;\r\n\r\n                traversalChessboard(chessboard, row - 1, column - 1, 1);\r\n                return chessboard;\r\n            }\r\n\r\n            protected void traversalChessboard(int[][] chessboard, int row, int column, int step) {\r\n                chessboard[row][column] = step;\r\n                visited[row * x + column] = true;\r\n                ArrayList&lt;Point&gt; ps = getAvailable(new Point(column, row));\r\n                sort(ps);\r\n                while (!ps.isEmpty()) {\r\n                    Point p = (Point) ps.remove(0);\r\n                    if (!visited[p.y * x + p.x]) {\r\n                        traversalChessboard(chessboard, p.y, p.x, step + 1);\r\n                    }\r\n                }\r\n\r\n                if (step &lt; x * y &amp;&amp; !finished) {\r\n                    chessboard[row][column] = 0;\r\n                    visited[row * x + column] = false;\r\n                } else {\r\n                    finished = true;\r\n                }\r\n\r\n            }\r\n\r\n            //This method is to get next collection of the position that horse can reach in current position\r\n            protected ArrayList&lt;Point&gt; getAvailable(Point curPoint) {\r\n                ArrayList&lt;Point&gt; ps = new ArrayList&lt;&gt;();\r\n                Point p1 = new Point();\r\n                if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\r\n                    ps.add(new Point(p1));\r\n                }\r\n\r\n                if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\r\n                    ps.add(new Point(p1));\r\n                }\r\n\r\n                if ((p1.x = curPoint.x + 1) &lt; x &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\r\n                    ps.add(new Point(p1));\r\n                }\r\n\r\n                if ((p1.x = curPoint.x + 2) &lt; x &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\r\n                    ps.add(new Point(p1));\r\n                }\r\n\r\n                if ((p1.x = curPoint.x + 2) &lt; x &amp;&amp; (p1.y = curPoint.y + 1) &lt; y) {\r\n                    ps.add(new Point(p1));\r\n                }\r\n\r\n                if ((p1.x = curPoint.x + 1) &lt; x &amp;&amp; (p1.y = curPoint.y + 2) &lt; y) {\r\n                    ps.add(new Point(p1));\r\n                }\r\n\r\n                if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 2) &lt; y) {\r\n                    ps.add(new Point(p1));\r\n                }\r\n\r\n                if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 1) &lt; y) {\r\n                    ps.add(new Point(p1));\r\n                }\r\n\r\n                return ps;\r\n            }\r\n\r\n            //The core of GCD. This method is to sort the collection of position the horse can reach according to time-consuming.\r\n            protected void sort(ArrayList&lt;Point&gt; ps) {\r\n                ps.sort(new Comparator&lt;Point&gt;() {\r\n                    public int compare(Point o1, Point o2) {\r\n                        int count1 = getAvailable(o1).size();\r\n                        int count2 = getAvailable(o2).size();\r\n                        if (count1 &lt; count2) {\r\n                            return -1;\r\n                        } else {\r\n                            return count1 == count2 ? 0 : 1;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        public class HorsePane extends JPanel implements ActionListener {\r\n\r\n            private JTextField[] texts;\r\n            private JButton button;\r\n            private DefaultTableModel tableModel;\r\n            private JTable jtable;\r\n            public Object[] temp = {&quot;no result&quot;};\r\n\r\n            public HorsePane() {\r\n                setLayout(new BorderLayout());\r\n                JPanel panel = new JPanel();\r\n                add(panel, &quot;North&quot;);\r\n\r\n                String[] str_label = {&quot;chessboard&#39;s row&quot;, &quot;chessboard&#39;s column&quot;, &quot;initial row&quot;, &quot;initial column&quot;};\r\n                String[] str_text = {&quot;8&quot;, &quot;8&quot;, &quot;2&quot;, &quot;3&quot;};\r\n                this.texts = new JTextField[str_text.length];\r\n\r\n                for (int i = 0; i &lt; str_text.length; i++) {\r\n                    panel.add(new JLabel(str_label[i]));\r\n                    panel.add(this.texts[i] = new JTextField(str_text[i]));\r\n                }\r\n\r\n                panel.add(this.button = new JButton(&quot;demonstrate&quot;));\r\n                this.button.addActionListener(this);\r\n                this.tableModel = new DefaultTableModel();\r\n                this.tableModel.setRowCount(0);\r\n                this.tableModel.setColumnCount(0);\r\n                this.jtable = new JTable(this.tableModel);\r\n                add(new JScrollPane(jtable));\r\n            }\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                this.tableModel.setRowCount(0);\r\n                this.tableModel.setColumnCount(0);\r\n                if (&quot;demonstrate&quot;.equals(e.getActionCommand())) {\r\n                    int x = Integer.parseInt(texts[0].getText());\r\n                    int y = Integer.parseInt(texts[1].getText());\r\n                    this.tableModel.setRowCount(x);\r\n                    this.tableModel.setColumnCount(y);\r\n                    int startRow = Integer.parseInt(texts[2].getText());\r\n                    int startColumn = Integer.parseInt(texts[3].getText());\r\n\r\n                    button.setEnabled(false);\r\n\r\n                    KingsTourWorker worker = new KingsTourWorker(tableModel, x, y, startRow, startColumn);\r\n                    worker.addPropertyChangeListener(new PropertyChangeListener() {\r\n                        @Override\r\n                        public void propertyChange(PropertyChangeEvent evt) {\r\n                            if (worker.getState() == SwingWorker.StateValue.DONE) {\r\n                                button.setEnabled(true);\r\n                            }\r\n                        }\r\n                    });\r\n                    worker.execute();\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        protected class DataPoint {\r\n\r\n            private int x, y, value;\r\n\r\n            public DataPoint(int x, int y, int value) {\r\n                this.x = x;\r\n                this.y = y;\r\n                this.value = value;\r\n            }\r\n\r\n            public int getX() {\r\n                return x;\r\n            }\r\n\r\n            public int getY() {\r\n                return y;\r\n            }\r\n\r\n            public int getValue() {\r\n                return value;\r\n            }\r\n\r\n        }\r\n\r\n        public class KingsTourWorker extends SwingWorker&lt;Void, DataPoint&gt; {\r\n\r\n            private DefaultTableModel model;\r\n            private int x;\r\n            private int y;\r\n            private int startRow;\r\n            private int startColumn;\r\n\r\n            public KingsTourWorker(DefaultTableModel model, int x, int y, int startRow, int startColumn) {\r\n                this.x = x;\r\n                this.y = y;\r\n                this.startRow = startRow;\r\n                this.startColumn = startColumn;\r\n                this.model = model;\r\n            }\r\n\r\n            @Override\r\n            protected Void doInBackground() throws Exception {\r\n                Instant startedAt = Instant.now();\r\n                int[][] chessboard = new KnightsTour(x, y).start(startRow, startColumn);\r\n                Duration duration = Duration.between(startedAt, Instant.now());\r\n                System.out.println(&quot;time: &quot; + (duration.toMillis()) + &quot; ms&quot;);\r\n                for (int[] rows : chessboard) {\r\n                    for (int steps : rows) {\r\n                        System.out.print(steps + &quot;\\t&quot;);\r\n                    }\r\n                    System.out.println();\r\n                }\r\n                for (int i = 1; i &lt;= x * y; i++) {\r\n                    Point p = getIndex(chessboard, i);\r\n                    publish(new DataPoint(p.x, p.y, i));\r\n                    Thread.sleep(25);\r\n                }\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void process(List&lt;DataPoint&gt; chunks) {\r\n                for (DataPoint dp : chunks) {\r\n                    model.setValueAt(dp.getValue(), dp.getX(), dp.getY());\r\n                }\r\n            }\r\n\r\n            private Point getIndex(int[][] temp1, int temp2) {\r\n                for (int i = 0; i &lt; x; i++) {\r\n                    for (int j = 0; j &lt; y; j++) {\r\n                        if (temp1[i][j] == temp2) {\r\n                            return new Point(i, j);\r\n                        }\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xAw8f.gif","title":"Why the same algorithm and the same data appied to different application can show significant difference.(Knight&#39;s Tour)","body":"<p>So, I've been trying to get my head around you code and it's ... interesting.</p>\n<p>If I feed in <code>x=8</code>, <code>y=8</code>, <code>row=2</code> and <code>column=2</code> into both implementations, both give back the same values, having said that, you can reduce some of the potential risk of issues by using the exact same algorithm</p>\n<p>Start by defining a single class which does all the work...</p>\n<pre><code>public class KnightsTour {\n\n    private int x, y;\n    private boolean[] visited;\n    private boolean finished;\n\n    public KnightsTour(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public int[][] start(int row, int column) {\n        int[][] chessboard = new int[x][y];\n        visited = new boolean[x * y];\n        finished = false;\n\n        traversalChessboard(chessboard, row - 1, column - 1, 1);\n        return chessboard;\n    }\n\n    protected void traversalChessboard(int[][] chessboard, int row, int column, int step) {\n        chessboard[row][column] = step;\n        visited[row * x + column] = true;\n        ArrayList&lt;Point&gt; ps = getAvailable(new Point(column, row));\n        sort(ps);\n        while (!ps.isEmpty()) {\n            Point p = (Point) ps.remove(0);\n            if (!visited[p.y * x + p.x]) {\n                traversalChessboard(chessboard, p.y, p.x, step + 1);\n            }\n        }\n\n        if (step &lt; x * y &amp;&amp; !finished) {\n            chessboard[row][column] = 0;\n            visited[row * x + column] = false;\n        } else {\n            finished = true;\n        }\n\n    }\n\n    //This method is to get next collection of the position that horse can reach in current position\n    protected ArrayList&lt;Point&gt; getAvailable(Point curPoint) {\n        ArrayList&lt;Point&gt; ps = new ArrayList&lt;&gt;();\n        Point p1 = new Point();\n        if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x + 1) &lt; x &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x + 2) &lt; x &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x + 2) &lt; x &amp;&amp; (p1.y = curPoint.y + 1) &lt; y) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x + 1) &lt; x &amp;&amp; (p1.y = curPoint.y + 2) &lt; y) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 2) &lt; y) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 1) &lt; y) {\n            ps.add(new Point(p1));\n        }\n\n        return ps;\n    }\n\n    //The core of GCD. This method is to sort the collection of position the horse can reach according to time-consuming.\n    protected void sort(ArrayList&lt;Point&gt; ps) {\n        ps.sort(new Comparator&lt;Point&gt;() {\n            public int compare(Point o1, Point o2) {\n                int count1 = getAvailable(o1).size();\n                int count2 = getAvailable(o2).size();\n                if (count1 &lt; count2) {\n                    return -1;\n                } else {\n                    return count1 == count2 ? 0 : 1;\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>Note, I've removed a lot of <code>static</code> from your code, this isn't helping you.</p>\n<p>For the text based solution, it might look something like this...</p>\n<pre><code>Instant startedAt = Instant.now();\nint[][] chessboard = new KnightsTour(8, 8).start(2, 3);\nDuration duration = Duration.between(startedAt, Instant.now());\nSystem.out.println(&quot;time: &quot; + (duration.toMillis()) + &quot; ms&quot;);\nfor (int[] rows : chessboard) {\n    for (int steps : rows) {\n        System.out.print(steps + &quot;\\t&quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n<p>For me, this prints</p>\n<pre><code>time: 4 ms\n2   35  4   19  30  33  14  17  \n5   20  1   34  15  18  29  32  \n36  3   62  57  44  31  16  13  \n21  6   59  54  61  28  43  46  \n52  37  56  63  58  45  12  27  \n7   22  53  60  55  64  47  42  \n38  51  24  9   40  49  26  11  \n23  8   39  50  25  10  41  48\n</code></pre>\n<p>The UI is slightly more complicated.  Swing isn't thread safe and it's single threaded.</p>\n<p>This basically means that you shouldn't run any long running operations within the context of the Event Dispatching Thread and you shouldn't update the UI (or a state the UI relies on) from outside the context of the EDT</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.</p>\n<p>Now, for this solution, I would use a <code>SwingWorker</code>, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">Worker Threads and SwingWorker</a> for more details</p>\n<pre><code>// This just allows me to move data from one thread context to another\nprotected class DataPoint {\n\n    private int x, y, value;\n\n    public DataPoint(int x, int y, int value) {\n        this.x = x;\n        this.y = y;\n        this.value = value;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n}\n\n// nb you could actually pass a pre-filled instance of \n// KnightsTour, but we do need some of the properties\n// so it's up to you\npublic class KingsTourWorker extends SwingWorker&lt;Void, DataPoint&gt; {\n\n    private DefaultTableModel model;\n    private int x;\n    private int y;\n    private int startRow;\n    private int startColumn;\n\n    public KingsTourWorker(DefaultTableModel model, int x, int y, int startRow, int startColumn) {\n        this.x = x;\n        this.y = y;\n        this.startRow = startRow;\n        this.startColumn = startColumn;\n        this.model = model;\n    }\n\n    @Override\n    protected Void doInBackground() throws Exception {\n        Instant startedAt = Instant.now();\n        int[][] chessboard = new KnightsTour(x, y).start(startRow, startColumn);\n        Duration duration = Duration.between(startedAt, Instant.now());\n        System.out.println(&quot;time: &quot; + (duration.toMillis()) + &quot; ms&quot;);\n        for (int[] rows : chessboard) {\n            for (int steps : rows) {\n                System.out.print(steps + &quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n        for (int i = 1; i &lt;= x * y; i++) {\n            Point p = getIndex(chessboard, i);\n            publish(new DataPoint(p.x, p.y, i));\n            Thread.sleep(25);\n        }\n        return null;\n    }\n\n    @Override\n    protected void process(List&lt;DataPoint&gt; chunks) {\n        for (DataPoint dp : chunks) {\n            model.setValueAt(dp.getValue(), dp.getX(), dp.getY());\n        }\n    }\n\n    private Point getIndex(int[][] temp1, int temp2) {\n        for (int i = 0; i &lt; x; i++) {\n            for (int j = 0; j &lt; y; j++) {\n                if (temp1[i][j] == temp2) {\n                    return new Point(i, j);\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>And finally the actual pane itself...</p>\n<pre><code>public class HorsePane extends JPanel implements ActionListener {\n\n    private JTextField[] texts;\n    private JButton button;\n    private DefaultTableModel tableModel;\n    private JTable jtable;\n    public Object[] temp = {&quot;no result&quot;};\n\n    public HorsePane() {\n        setLayout(new BorderLayout());\n        JPanel panel = new JPanel();\n        add(panel, &quot;North&quot;);\n\n        String[] str_label = {&quot;chessboard's row&quot;, &quot;chessboard's column&quot;, &quot;initial row&quot;, &quot;initial column&quot;};\n        String[] str_text = {&quot;8&quot;, &quot;8&quot;, &quot;2&quot;, &quot;3&quot;};\n        this.texts = new JTextField[str_text.length];\n\n        for (int i = 0; i &lt; str_text.length; i++) {\n            panel.add(new JLabel(str_label[i]));\n            panel.add(this.texts[i] = new JTextField(str_text[i]));\n        }\n\n        panel.add(this.button = new JButton(&quot;demonstrate&quot;));\n        this.button.addActionListener(this);\n        this.tableModel = new DefaultTableModel();\n        this.tableModel.setRowCount(0);\n        this.tableModel.setColumnCount(0);\n        this.jtable = new JTable(this.tableModel);\n        add(new JScrollPane(jtable));\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        this.tableModel.setRowCount(0);\n        this.tableModel.setColumnCount(0);\n        if (&quot;demonstrate&quot;.equals(e.getActionCommand())) {\n            int x = Integer.parseInt(texts[0].getText());\n            int y = Integer.parseInt(texts[1].getText());\n            this.tableModel.setRowCount(x);\n            this.tableModel.setColumnCount(y);\n            int startRow = Integer.parseInt(texts[2].getText());\n            int startColumn = Integer.parseInt(texts[3].getText());\n\n            button.setEnabled(false);\n\n            KingsTourWorker worker = new KingsTourWorker(tableModel, x, y, startRow, startColumn);\n            worker.addPropertyChangeListener(new PropertyChangeListener() {\n                @Override\n                public void propertyChange(PropertyChangeEvent evt) {\n                    if (worker.getState() == SwingWorker.StateValue.DONE) {\n                        button.setEnabled(true);\n                    }\n                }\n            });\n            worker.execute();\n        }\n    }\n\n}\n</code></pre>\n<p>Now, when I run it, the worker will dump out</p>\n<pre><code>time: 1 ms\n2   35  4   19  30  33  14  17  \n5   20  1   34  15  18  29  32  \n36  3   62  57  44  31  16  13  \n21  6   59  54  61  28  43  46  \n52  37  56  63  58  45  12  27  \n7   22  53  60  55  64  47  42  \n38  51  24  9   40  49  26  11  \n23  8   39  50  25  10  41  48\n</code></pre>\n<p>to the console and the UI ....</p>\n<p><a href=\"https://i.stack.imgur.com/xAw8f.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xAw8f.gif\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>But why doesn't mine work</p>\n</blockquote>\n<p>Honestly, I can only speculate, but I would surmise that:</p>\n<ul>\n<li>In violating the single threaded nature of the API, you've broken it</li>\n<li>You are running more than one thread simultaneously and this is generating conflicts.  You will note in my code, I disable the button while the worker is running</li>\n</ul>\n<h1>Runnable example</h1>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.JTextField;\nimport javax.swing.SwingWorker;\nimport javax.swing.table.DefaultTableModel;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n\n    }\n\n    public Test() {\n        Instant startedAt = Instant.now();\n        int[][] chessboard = new KnightsTour(8, 8).start(2, 3);\n        Duration duration = Duration.between(startedAt, Instant.now());\n        System.out.println(&quot;time: &quot; + (duration.toMillis()) + &quot; ms&quot;);\n        for (int[] rows : chessboard) {\n            for (int steps : rows) {\n                System.out.print(steps + &quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new HorsePane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class KnightsTour {\n\n        private int x, y;\n        private boolean[] visited;\n        private boolean finished;\n\n        public KnightsTour(int x, int y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        public int[][] start(int row, int column) {\n            int[][] chessboard = new int[x][y];\n            visited = new boolean[x * y];\n            finished = false;\n\n            traversalChessboard(chessboard, row - 1, column - 1, 1);\n            return chessboard;\n        }\n\n        protected void traversalChessboard(int[][] chessboard, int row, int column, int step) {\n            chessboard[row][column] = step;\n            visited[row * x + column] = true;\n            ArrayList&lt;Point&gt; ps = getAvailable(new Point(column, row));\n            sort(ps);\n            while (!ps.isEmpty()) {\n                Point p = (Point) ps.remove(0);\n                if (!visited[p.y * x + p.x]) {\n                    traversalChessboard(chessboard, p.y, p.x, step + 1);\n                }\n            }\n\n            if (step &lt; x * y &amp;&amp; !finished) {\n                chessboard[row][column] = 0;\n                visited[row * x + column] = false;\n            } else {\n                finished = true;\n            }\n\n        }\n\n        //This method is to get next collection of the position that horse can reach in current position\n        protected ArrayList&lt;Point&gt; getAvailable(Point curPoint) {\n            ArrayList&lt;Point&gt; ps = new ArrayList&lt;&gt;();\n            Point p1 = new Point();\n            if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\n                ps.add(new Point(p1));\n            }\n\n            if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\n                ps.add(new Point(p1));\n            }\n\n            if ((p1.x = curPoint.x + 1) &lt; x &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\n                ps.add(new Point(p1));\n            }\n\n            if ((p1.x = curPoint.x + 2) &lt; x &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\n                ps.add(new Point(p1));\n            }\n\n            if ((p1.x = curPoint.x + 2) &lt; x &amp;&amp; (p1.y = curPoint.y + 1) &lt; y) {\n                ps.add(new Point(p1));\n            }\n\n            if ((p1.x = curPoint.x + 1) &lt; x &amp;&amp; (p1.y = curPoint.y + 2) &lt; y) {\n                ps.add(new Point(p1));\n            }\n\n            if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 2) &lt; y) {\n                ps.add(new Point(p1));\n            }\n\n            if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 1) &lt; y) {\n                ps.add(new Point(p1));\n            }\n\n            return ps;\n        }\n\n        //The core of GCD. This method is to sort the collection of position the horse can reach according to time-consuming.\n        protected void sort(ArrayList&lt;Point&gt; ps) {\n            ps.sort(new Comparator&lt;Point&gt;() {\n                public int compare(Point o1, Point o2) {\n                    int count1 = getAvailable(o1).size();\n                    int count2 = getAvailable(o2).size();\n                    if (count1 &lt; count2) {\n                        return -1;\n                    } else {\n                        return count1 == count2 ? 0 : 1;\n                    }\n                }\n            });\n        }\n    }\n\n    public class HorsePane extends JPanel implements ActionListener {\n\n        private JTextField[] texts;\n        private JButton button;\n        private DefaultTableModel tableModel;\n        private JTable jtable;\n        public Object[] temp = {&quot;no result&quot;};\n\n        public HorsePane() {\n            setLayout(new BorderLayout());\n            JPanel panel = new JPanel();\n            add(panel, &quot;North&quot;);\n\n            String[] str_label = {&quot;chessboard's row&quot;, &quot;chessboard's column&quot;, &quot;initial row&quot;, &quot;initial column&quot;};\n            String[] str_text = {&quot;8&quot;, &quot;8&quot;, &quot;2&quot;, &quot;3&quot;};\n            this.texts = new JTextField[str_text.length];\n\n            for (int i = 0; i &lt; str_text.length; i++) {\n                panel.add(new JLabel(str_label[i]));\n                panel.add(this.texts[i] = new JTextField(str_text[i]));\n            }\n\n            panel.add(this.button = new JButton(&quot;demonstrate&quot;));\n            this.button.addActionListener(this);\n            this.tableModel = new DefaultTableModel();\n            this.tableModel.setRowCount(0);\n            this.tableModel.setColumnCount(0);\n            this.jtable = new JTable(this.tableModel);\n            add(new JScrollPane(jtable));\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            this.tableModel.setRowCount(0);\n            this.tableModel.setColumnCount(0);\n            if (&quot;demonstrate&quot;.equals(e.getActionCommand())) {\n                int x = Integer.parseInt(texts[0].getText());\n                int y = Integer.parseInt(texts[1].getText());\n                this.tableModel.setRowCount(x);\n                this.tableModel.setColumnCount(y);\n                int startRow = Integer.parseInt(texts[2].getText());\n                int startColumn = Integer.parseInt(texts[3].getText());\n\n                button.setEnabled(false);\n\n                KingsTourWorker worker = new KingsTourWorker(tableModel, x, y, startRow, startColumn);\n                worker.addPropertyChangeListener(new PropertyChangeListener() {\n                    @Override\n                    public void propertyChange(PropertyChangeEvent evt) {\n                        if (worker.getState() == SwingWorker.StateValue.DONE) {\n                            button.setEnabled(true);\n                        }\n                    }\n                });\n                worker.execute();\n            }\n        }\n\n    }\n\n    protected class DataPoint {\n\n        private int x, y, value;\n\n        public DataPoint(int x, int y, int value) {\n            this.x = x;\n            this.y = y;\n            this.value = value;\n        }\n\n        public int getX() {\n            return x;\n        }\n\n        public int getY() {\n            return y;\n        }\n\n        public int getValue() {\n            return value;\n        }\n\n    }\n\n    public class KingsTourWorker extends SwingWorker&lt;Void, DataPoint&gt; {\n\n        private DefaultTableModel model;\n        private int x;\n        private int y;\n        private int startRow;\n        private int startColumn;\n\n        public KingsTourWorker(DefaultTableModel model, int x, int y, int startRow, int startColumn) {\n            this.x = x;\n            this.y = y;\n            this.startRow = startRow;\n            this.startColumn = startColumn;\n            this.model = model;\n        }\n\n        @Override\n        protected Void doInBackground() throws Exception {\n            Instant startedAt = Instant.now();\n            int[][] chessboard = new KnightsTour(x, y).start(startRow, startColumn);\n            Duration duration = Duration.between(startedAt, Instant.now());\n            System.out.println(&quot;time: &quot; + (duration.toMillis()) + &quot; ms&quot;);\n            for (int[] rows : chessboard) {\n                for (int steps : rows) {\n                    System.out.print(steps + &quot;\\t&quot;);\n                }\n                System.out.println();\n            }\n            for (int i = 1; i &lt;= x * y; i++) {\n                Point p = getIndex(chessboard, i);\n                publish(new DataPoint(p.x, p.y, i));\n                Thread.sleep(25);\n            }\n            return null;\n        }\n\n        @Override\n        protected void process(List&lt;DataPoint&gt; chunks) {\n            for (DataPoint dp : chunks) {\n                model.setValueAt(dp.getValue(), dp.getX(), dp.getY());\n            }\n        }\n\n        private Point getIndex(int[][] temp1, int temp2) {\n            for (int i = 0; i &lt; x; i++) {\n                for (int j = 0; j &lt; y; j++) {\n                    if (temp1[i][j] == temp2) {\n                        return new Point(i, j);\n                    }\n                }\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22671121,"reputation":1,"user_id":16842881,"display_name":"Frederick_Chen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641126590,"creation_date":1639035214,"question_id":70286145,"body_markdown":"This is a Knight&#39;s Tour problem.\r\nThe first application:\r\n```\r\nimport java.awt.*;\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\n\r\npublic class GcdsHorse {\r\n    private static int X;\r\n    private static int Y;\r\n    private static boolean[] visited;\r\n    private static boolean finished;\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;the horse has been running&quot;);\r\n        X = 8;\r\n        Y = 8;\r\n        int row = 2;\r\n        int column = 3;\r\n        int[][] chessboard = new int[X][Y];\r\n        visited = new boolean[X * Y];\r\n        long start = System.currentTimeMillis();\r\n        traversalChessboard(chessboard, row - 1, column - 1, 1);\r\n        long end = System.currentTimeMillis();\r\n        System.out.println(&quot;time: &quot; + (end - start) + &quot; ms&quot;);\r\n        for (int[] rows:chessboard){\r\n            for (int steps:rows){\r\n                System.out.print(steps+&quot;\\t&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    public static void traversalChessboard(int[][] chessboard, int row, int column, int step){\r\n        System.out.println(step);\r\n        chessboard[row][column] =step;\r\n        visited[row * X + column] = true;\r\n        ArrayList&lt;Point&gt; ps = getAvailable(new Point(column, row));\r\n        sort(ps);\r\n        while(!ps.isEmpty()) {\r\n            Point p = (Point)ps.remove(0);\r\n            if (!visited[p.y * X + p.x]) {\r\n                traversalChessboard(chessboard, p.y, p.x, step + 1);\r\n            }\r\n        }\r\n\r\n        if (step &lt; X * Y &amp;&amp; !finished) {\r\n            chessboard[row][column] = 0;\r\n            visited[row * X + column] = false;\r\n        } else {\r\n            finished = true;\r\n        }\r\n\r\n    }\r\n    \r\n    //This method is to get next collection of the position that horse can reach in current position\r\n    public static ArrayList&lt;Point&gt; getAvailable(Point curPoint){\r\n        ArrayList&lt;Point&gt; ps=new ArrayList&lt;&gt;();\r\n        Point p1=new Point();\r\n        if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x + 1) &lt; X &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x + 2) &lt; X &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x + 2) &lt; X &amp;&amp; (p1.y = curPoint.y + 1) &lt; Y) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x + 1) &lt; X &amp;&amp; (p1.y = curPoint.y + 2) &lt; Y) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 2) &lt; Y) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 1) &lt; Y) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        return ps;\r\n    }\r\n    \r\n    //The core of GCD. This method is to sort the collection of position the horse can reach according to time-consuming.\r\n    public static void sort(ArrayList&lt;Point&gt; ps) {\r\n        ps.sort(new Comparator&lt;Point&gt;() {\r\n            public int compare(Point o1, Point o2) {\r\n                int count1 = GcdsHorse.getAvailable(o1).size();\r\n                int count2 = GcdsHorse.getAvailable(o2).size();\r\n                if (count1 &lt; count2) {\r\n                    return -1;\r\n                } else {\r\n                    return count1 == count2 ? 0 : 1;\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nAnd the computational results is:\r\n```\r\ntime: 12 ms\r\n2\t35\t4\t19\t30\t33\t14\t17\t\r\n5\t20\t1\t34\t15\t18\t29\t32\t\r\n36\t3\t62\t57\t44\t31\t16\t13\t\r\n21\t6\t59\t54\t61\t28\t43\t46\t\r\n52\t37\t56\t63\t58\t45\t12\t27\t\r\n7\t22\t53\t60\t55\t64\t47\t42\t\r\n38\t51\t24\t9\t40\t49\t26\t11\t\r\n23\t8\t39\t50\t25\t10\t41\t48\r\n```\r\nThe cost of time is low.\r\nBut when I use the same algorithm and the same data in a swing application.\r\nIt seems like an endless loop. Code is below:\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\n\r\npublic class HorsePane extends JFrame implements ActionListener,Runnable{\r\n    private static int X;\r\n    private static int Y;\r\n    private static boolean[] visited;\r\n    private static boolean finished;\r\n\r\n    private JTextField[] texts;\r\n    private JButton button;\r\n    private DefaultTableModel tableModel;\r\n    private JTable jtable;\r\n    public Object [] temp= {&quot;no result&quot;};\r\n    Thread thread;\r\n\r\n    public HorsePane(){\r\n        super(&quot;knigtht&#39;s tour&quot;);\r\n        this.setBounds(400, 300, 800, 360);\r\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\r\n        JPanel panel=new JPanel();\r\n        this.getContentPane().add(panel,&quot;North&quot;);\r\n\r\n\r\n        String[] str_label= {&quot;chessboard&#39;s row&quot;,&quot;chessboard&#39;s column&quot;,&quot;initial row&quot;,&quot;initial column&quot;};\r\n        String[] str_text= {&quot;6&quot;,&quot;6&quot;,&quot;1&quot;,&quot;1&quot;};\r\n        this.texts=new JTextField[str_text.length];\r\n\r\n        for(int i=0; i&lt;str_text.length;i++)\r\n        {\r\n            panel.add(new JLabel(str_label[i]));\r\n            panel.add(this.texts[i]=new JTextField(str_text[i]));\r\n        }\r\n\r\n        \r\n        panel.add(this.button=new JButton(&quot;demonstrate&quot;));\r\n        this.button.addActionListener(this);\r\n        this.tableModel =new DefaultTableModel();\r\n        this.tableModel.setRowCount(0);\r\n        this.tableModel.setColumnCount(0);\r\n        this. jtable=new JTable (this.tableModel);\r\n        this.getContentPane().add(new JScrollPane(jtable));\r\n\r\n        this.setVisible(true);\r\n\r\n    }\r\n\r\n    public static void traversalChessboard(int[][] chessboard, int row, int column, int step){\r\n        System.out.println(step);\r\n        chessboard[row][column] =step;\r\n        visited[row * X + column] = true;\r\n        ArrayList&lt;Point&gt; ps = getAvailable(new Point(column, row));\r\n        sort(ps);\r\n        while(!ps.isEmpty()) {\r\n            Point p = (Point)ps.remove(0);\r\n            if (!visited[p.y * X + p.x]) {\r\n                traversalChessboard(chessboard, p.y, p.x, step + 1);\r\n            }\r\n        }\r\n\r\n        if (step &lt; X * Y &amp;&amp; !finished) {\r\n            chessboard[row][column] = 0;\r\n            visited[row * X + column] = false;\r\n        } else {\r\n            finished = true;\r\n        }\r\n\r\n    }\r\n    \r\n    //This method is to get next collection of the position that horse can reach in current position\r\n    public static ArrayList&lt;Point&gt; getAvailable(Point curPoint){\r\n        ArrayList&lt;Point&gt; ps=new ArrayList&lt;&gt;();\r\n        Point p1=new Point();if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x + 1) &lt; X &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x + 2) &lt; X &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x + 2) &lt; X &amp;&amp; (p1.y = curPoint.y + 1) &lt; Y) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x + 1) &lt; X &amp;&amp; (p1.y = curPoint.y + 2) &lt; Y) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 2) &lt; Y) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 1) &lt; Y) {\r\n            ps.add(new Point(p1));\r\n        }\r\n\r\n        return ps;\r\n    }\r\n    \r\n    //The core of GCD. This method is to sort the collection of position the horse can reach according to time-consuming.\r\n    public static void sort(ArrayList&lt;Point&gt; ps) {\r\n        ps.sort(new Comparator&lt;Point&gt;() {\r\n            public int compare(Point o1, Point o2) {\r\n                int count1 = GcdsHorse.getAvailable(o1).size();\r\n                int count2 = GcdsHorse.getAvailable(o2).size();\r\n                if (count1 &lt; count2) {\r\n                    return -1;\r\n                } else {\r\n                    return count1 == count2 ? 0 : 1;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        this.tableModel.setRowCount(0);\r\n        this.tableModel.setColumnCount(0);\r\n        if(e.getSource() instanceof JButton)\r\n        {\r\n\r\n            this.thread=new Thread(this);\r\n            this.thread.start();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n\r\n\r\n        try {\r\n            X=Integer.parseInt(texts[0].getText());\r\n            Y=Integer.parseInt(texts[1].getText());\r\n            int row=Integer.parseInt(texts[2].getText());\r\n            int column=Integer.parseInt(texts[3].getText());\r\n            int[][] chessboard = new int[X][Y];\r\n            visited = new boolean[X * Y];\r\n            finished=false;\r\n            traversalChessboard(chessboard, row - 1, column - 1, 1);\r\n            if(!finished){\r\n                throw new Exception(&quot;no result&quot;);\r\n            }\r\n            this.tableModel.setRowCount(X);\r\n            this.tableModel.setColumnCount(Y);\r\n\r\n            for(int i=1;i&lt;=X*Y;i++){\r\n                Point p = getIndex(chessboard,i);\r\n                this.tableModel.setValueAt(String.format(&quot;%d&quot;, i),p.x, p.y);\r\n                this.thread.sleep(500);\r\n            }\r\n            this.thread.interrupt();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            JOptionPane.showMessageDialog(this, e.toString());\r\n        }\r\n    }\r\n\r\n    public static Point getIndex(int[][] temp1,int temp2){\r\n        for (int i=0;i&lt;X;i++){\r\n            for(int j=0;j&lt;Y;j++){\r\n                if (temp1[i][j]==temp2){\r\n                    return new Point(i,j);\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new HorsePane();\r\n    }\r\n}\r\n```\r\n[The endless loop][1]\r\n\r\n\r\n But in other situation, when I use other data, the second swing application can run.\r\n[data:6,6,1,1][2]\r\n[data:8,8,1,1][3]\r\n\r\nI can&#39;t find where the reason is. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/55EFs.png\r\n  [2]: https://i.stack.imgur.com/NXIiK.png\r\n  [3]: https://i.stack.imgur.com/Tc4og.png","title":"Why the same algorithm and the same data appied to different application can show significant difference.(Knight&#39;s Tour)","body":"<p>This is a Knight's Tour problem.\nThe first application:</p>\n<pre><code>import java.awt.*;\nimport java.util.ArrayList;\nimport java.util.Comparator;\n\npublic class GcdsHorse {\n    private static int X;\n    private static int Y;\n    private static boolean[] visited;\n    private static boolean finished;\n    public static void main(String[] args) {\n        System.out.println(&quot;the horse has been running&quot;);\n        X = 8;\n        Y = 8;\n        int row = 2;\n        int column = 3;\n        int[][] chessboard = new int[X][Y];\n        visited = new boolean[X * Y];\n        long start = System.currentTimeMillis();\n        traversalChessboard(chessboard, row - 1, column - 1, 1);\n        long end = System.currentTimeMillis();\n        System.out.println(&quot;time: &quot; + (end - start) + &quot; ms&quot;);\n        for (int[] rows:chessboard){\n            for (int steps:rows){\n                System.out.print(steps+&quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n    }\n    public static void traversalChessboard(int[][] chessboard, int row, int column, int step){\n        System.out.println(step);\n        chessboard[row][column] =step;\n        visited[row * X + column] = true;\n        ArrayList&lt;Point&gt; ps = getAvailable(new Point(column, row));\n        sort(ps);\n        while(!ps.isEmpty()) {\n            Point p = (Point)ps.remove(0);\n            if (!visited[p.y * X + p.x]) {\n                traversalChessboard(chessboard, p.y, p.x, step + 1);\n            }\n        }\n\n        if (step &lt; X * Y &amp;&amp; !finished) {\n            chessboard[row][column] = 0;\n            visited[row * X + column] = false;\n        } else {\n            finished = true;\n        }\n\n    }\n    \n    //This method is to get next collection of the position that horse can reach in current position\n    public static ArrayList&lt;Point&gt; getAvailable(Point curPoint){\n        ArrayList&lt;Point&gt; ps=new ArrayList&lt;&gt;();\n        Point p1=new Point();\n        if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x + 1) &lt; X &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x + 2) &lt; X &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x + 2) &lt; X &amp;&amp; (p1.y = curPoint.y + 1) &lt; Y) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x + 1) &lt; X &amp;&amp; (p1.y = curPoint.y + 2) &lt; Y) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 2) &lt; Y) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 1) &lt; Y) {\n            ps.add(new Point(p1));\n        }\n\n        return ps;\n    }\n    \n    //The core of GCD. This method is to sort the collection of position the horse can reach according to time-consuming.\n    public static void sort(ArrayList&lt;Point&gt; ps) {\n        ps.sort(new Comparator&lt;Point&gt;() {\n            public int compare(Point o1, Point o2) {\n                int count1 = GcdsHorse.getAvailable(o1).size();\n                int count2 = GcdsHorse.getAvailable(o2).size();\n                if (count1 &lt; count2) {\n                    return -1;\n                } else {\n                    return count1 == count2 ? 0 : 1;\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>And the computational results is:</p>\n<pre><code>time: 12 ms\n2   35  4   19  30  33  14  17  \n5   20  1   34  15  18  29  32  \n36  3   62  57  44  31  16  13  \n21  6   59  54  61  28  43  46  \n52  37  56  63  58  45  12  27  \n7   22  53  60  55  64  47  42  \n38  51  24  9   40  49  26  11  \n23  8   39  50  25  10  41  48\n</code></pre>\n<p>The cost of time is low.\nBut when I use the same algorithm and the same data in a swing application.\nIt seems like an endless loop. Code is below:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.table.DefaultTableModel;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.Comparator;\n\npublic class HorsePane extends JFrame implements ActionListener,Runnable{\n    private static int X;\n    private static int Y;\n    private static boolean[] visited;\n    private static boolean finished;\n\n    private JTextField[] texts;\n    private JButton button;\n    private DefaultTableModel tableModel;\n    private JTable jtable;\n    public Object [] temp= {&quot;no result&quot;};\n    Thread thread;\n\n    public HorsePane(){\n        super(&quot;knigtht's tour&quot;);\n        this.setBounds(400, 300, 800, 360);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n        JPanel panel=new JPanel();\n        this.getContentPane().add(panel,&quot;North&quot;);\n\n\n        String[] str_label= {&quot;chessboard's row&quot;,&quot;chessboard's column&quot;,&quot;initial row&quot;,&quot;initial column&quot;};\n        String[] str_text= {&quot;6&quot;,&quot;6&quot;,&quot;1&quot;,&quot;1&quot;};\n        this.texts=new JTextField[str_text.length];\n\n        for(int i=0; i&lt;str_text.length;i++)\n        {\n            panel.add(new JLabel(str_label[i]));\n            panel.add(this.texts[i]=new JTextField(str_text[i]));\n        }\n\n        \n        panel.add(this.button=new JButton(&quot;demonstrate&quot;));\n        this.button.addActionListener(this);\n        this.tableModel =new DefaultTableModel();\n        this.tableModel.setRowCount(0);\n        this.tableModel.setColumnCount(0);\n        this. jtable=new JTable (this.tableModel);\n        this.getContentPane().add(new JScrollPane(jtable));\n\n        this.setVisible(true);\n\n    }\n\n    public static void traversalChessboard(int[][] chessboard, int row, int column, int step){\n        System.out.println(step);\n        chessboard[row][column] =step;\n        visited[row * X + column] = true;\n        ArrayList&lt;Point&gt; ps = getAvailable(new Point(column, row));\n        sort(ps);\n        while(!ps.isEmpty()) {\n            Point p = (Point)ps.remove(0);\n            if (!visited[p.y * X + p.x]) {\n                traversalChessboard(chessboard, p.y, p.x, step + 1);\n            }\n        }\n\n        if (step &lt; X * Y &amp;&amp; !finished) {\n            chessboard[row][column] = 0;\n            visited[row * X + column] = false;\n        } else {\n            finished = true;\n        }\n\n    }\n    \n    //This method is to get next collection of the position that horse can reach in current position\n    public static ArrayList&lt;Point&gt; getAvailable(Point curPoint){\n        ArrayList&lt;Point&gt; ps=new ArrayList&lt;&gt;();\n        Point p1=new Point();if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x + 1) &lt; X &amp;&amp; (p1.y = curPoint.y - 2) &gt;= 0) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x + 2) &lt; X &amp;&amp; (p1.y = curPoint.y - 1) &gt;= 0) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x + 2) &lt; X &amp;&amp; (p1.y = curPoint.y + 1) &lt; Y) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x + 1) &lt; X &amp;&amp; (p1.y = curPoint.y + 2) &lt; Y) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x - 1) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 2) &lt; Y) {\n            ps.add(new Point(p1));\n        }\n\n        if ((p1.x = curPoint.x - 2) &gt;= 0 &amp;&amp; (p1.y = curPoint.y + 1) &lt; Y) {\n            ps.add(new Point(p1));\n        }\n\n        return ps;\n    }\n    \n    //The core of GCD. This method is to sort the collection of position the horse can reach according to time-consuming.\n    public static void sort(ArrayList&lt;Point&gt; ps) {\n        ps.sort(new Comparator&lt;Point&gt;() {\n            public int compare(Point o1, Point o2) {\n                int count1 = GcdsHorse.getAvailable(o1).size();\n                int count2 = GcdsHorse.getAvailable(o2).size();\n                if (count1 &lt; count2) {\n                    return -1;\n                } else {\n                    return count1 == count2 ? 0 : 1;\n                }\n            }\n        });\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        this.tableModel.setRowCount(0);\n        this.tableModel.setColumnCount(0);\n        if(e.getSource() instanceof JButton)\n        {\n\n            this.thread=new Thread(this);\n            this.thread.start();\n        }\n    }\n\n    @Override\n    public void run() {\n\n\n\n        try {\n            X=Integer.parseInt(texts[0].getText());\n            Y=Integer.parseInt(texts[1].getText());\n            int row=Integer.parseInt(texts[2].getText());\n            int column=Integer.parseInt(texts[3].getText());\n            int[][] chessboard = new int[X][Y];\n            visited = new boolean[X * Y];\n            finished=false;\n            traversalChessboard(chessboard, row - 1, column - 1, 1);\n            if(!finished){\n                throw new Exception(&quot;no result&quot;);\n            }\n            this.tableModel.setRowCount(X);\n            this.tableModel.setColumnCount(Y);\n\n            for(int i=1;i&lt;=X*Y;i++){\n                Point p = getIndex(chessboard,i);\n                this.tableModel.setValueAt(String.format(&quot;%d&quot;, i),p.x, p.y);\n                this.thread.sleep(500);\n            }\n            this.thread.interrupt();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n            JOptionPane.showMessageDialog(this, e.toString());\n        }\n    }\n\n    public static Point getIndex(int[][] temp1,int temp2){\n        for (int i=0;i&lt;X;i++){\n            for(int j=0;j&lt;Y;j++){\n                if (temp1[i][j]==temp2){\n                    return new Point(i,j);\n                }\n            }\n        }\n        return null;\n    }\n\n    public static void main(String[] args) {\n        new HorsePane();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/55EFs.png\" rel=\"nofollow noreferrer\">The endless loop</a></p>\n<p>But in other situation, when I use other data, the second swing application can run.\n<a href=\"https://i.stack.imgur.com/NXIiK.png\" rel=\"nofollow noreferrer\">data:6,6,1,1</a>\n<a href=\"https://i.stack.imgur.com/Tc4og.png\" rel=\"nofollow noreferrer\">data:8,8,1,1</a></p>\n<p>I can't find where the reason is.</p>\n"},{"tags":["java","selenium","testng","testng-dataprovider"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1640454144,"post_id":70478913,"comment_id":124590157,"body_markdown":"I am using TestNG version `7.4.0` and able to execute the Test successfully.","body":"I am using TestNG version <code>7.4.0</code> and able to execute the Test successfully."},{"owner":{"account_id":12150509,"reputation":75,"user_id":8870965,"display_name":"code_warrior"},"score":0,"creation_date":1640458311,"post_id":70478913,"comment_id":124590879,"body_markdown":"I am stuck with qmery  2.1.14   and testng 6.10. Question: did you in fact get four executions each displaying a different suite?","body":"I am stuck with qmery  2.1.14   and testng 6.10. Question: did you in fact get four executions each displaying a different suite?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1640611312,"post_id":70478913,"comment_id":124615412,"body_markdown":"@code_warrior Why do you say that the dependencies from the testng stuff are brought in after all QAF stuff? It doesn&#39;t look like this to me. Please, consider include the com.qmetry related dependencies in your pom.xml as first level dependencies, something like: `&lt;dependency&gt;&lt;groupId&gt;com.qmetry&lt;/groupId&gt;&lt;artifactId&gt;qaf&lt;/artifactId&gt;&lt;version&gt;2.1.14&lt;/version&gt;&lt;/dependency&gt;`. Probably the issue you cited has to do with that. At least, I tried your simple test and it worked properly. Please, could you try as well?","body":"@code_warrior Why do you say that the dependencies from the testng stuff are brought in after all QAF stuff? It doesn&#39;t look like this to me. Please, consider include the com.qmetry related dependencies in your pom.xml as first level dependencies, something like: <code>&lt;dependency&gt;&lt;groupId&gt;com.qmetry&lt;&#47;groupId&gt;&lt;artifactId&gt;qaf&lt;&#47;ar&zwnj;&#8203;tifactId&gt;&lt;version&gt;2.&zwnj;&#8203;1.14&lt;&#47;version&gt;&lt;&#47;depe&zwnj;&#8203;ndency&gt;</code>. Probably the issue you cited has to do with that. At least, I tried your simple test and it worked properly. Please, could you try as well?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1640709985,"post_id":70478913,"comment_id":124639899,"body_markdown":"@code_warrior can you show your pom.xml ?","body":"@code_warrior can you show your pom.xml ?"}],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641126388,"creation_date":1641126388,"answer_id":70555940,"question_id":70478913,"body_markdown":"I&#39;m not completely sure, but I think you should upgrade the versions of the tools you are using.  \r\nYou should use 7.4.0 version of the [TestNG](https://mvnrepository.com/artifact/org.testng/testng)  \r\nAnd 3.0.x version of [qmery](https://mvnrepository.com/artifact/com.qmetry/qaf)   \r\nThis should work:\r\n```\r\n&lt;dependencies&gt;\r\n  &lt;!-- https://mvnrepository.com/artifact/com.qmetry/qaf --&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.qmetry&lt;/groupId&gt;\r\n    &lt;artifactId&gt;qaf&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    &lt;version&gt;7.4.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"ClassCastException - TestNGMethod to TestNGScenario","body":"<p>I'm not completely sure, but I think you should upgrade the versions of the tools you are using.<br />\nYou should use 7.4.0 version of the <a href=\"https://mvnrepository.com/artifact/org.testng/testng\" rel=\"nofollow noreferrer\">TestNG</a><br />\nAnd 3.0.x version of <a href=\"https://mvnrepository.com/artifact/com.qmetry/qaf\" rel=\"nofollow noreferrer\">qmery</a><br />\nThis should work:</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;!-- https://mvnrepository.com/artifact/com.qmetry/qaf --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.qmetry&lt;/groupId&gt;\n    &lt;artifactId&gt;qaf&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;7.4.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":12150509,"reputation":75,"user_id":8870965,"display_name":"code_warrior"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1028,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641126388,"creation_date":1640422132,"question_id":70478913,"body_markdown":"Eclipse/Maven/Java/Selenium/TestNG\r\n\r\nMy very simple test:\r\n\r\n    @DataProvider( name=&quot;suite&quot;)\r\n    public Object[][] dpMethod_suite() {\r\n        return new Object[][] {{&quot;diamonds&quot;},{&quot;hearts&quot;},{&quot;clubs&quot;},{&quot;spades&quot;}};\r\n    }\r\n\r\n    @Test( dataProvider=&quot;suite&quot;)   //  &lt;---- throws the errmsg\r\n    public void Test_01( String suite) {\r\n        boolean testPassed = true;\r\n\r\n        System.out.println(&quot;suite passed in: &quot; + suite);\r\n\r\n        Assert.assertEquals( testPassed, true);\r\n    }\r\n\r\nshould produce 4 executions of test Test_01 but instead throws a runtime error\r\n\r\n    java.lang.ClassCastException: org.testng.internal.TestNGMethod cannot be cast to com.qmetry.qaf.automation.step.client.TestNGEcenario\r\n\r\nwhich is exactly the problem discussed in https://github.com/qmetry/qaf/issues/247\r\n\r\nso I adjusted my pom so qaf stuff is brought in before testng stuff. \r\n\r\n    &lt;parent&gt;\r\n      &lt;groupId&gt;com.xxxxx.eqe&lt;/groupId&gt;\r\n      &lt;artifactId&gt;xxxxx.lib.eqe.parent&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.qmetry&lt;/groupId&gt;\r\n        &lt;artifactId&gt;qaf&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.14&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.qmetry&lt;/groupId&gt;\r\n        &lt;artifactId&gt;qaf-support&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.14&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n        &lt;version&gt;6.10&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nResults of\r\n\r\n    mvn dependency:tree\r\n\r\nyields\r\n\r\n    +- com.xxxxxxx.eqe:xxxxxxx-eqe-automation.jar\r\n      +- com.qmetry:qaf\r\n        +- org.hamcrest stuff\r\n        +- com.sun.jersey stuff\r\n        +- org.aspectj stuff\r\n        ..... alot of stuff but NO testng stuff\r\n      +- com.qmetry:qaf-support\r\n      +- org.seleniumhq:selenium-java\r\n         .....\r\n      +- org.seleniumhq:selenium-support\r\n         .....\r\n      .... more stuff but NO testNG stuff\r\n    +- org.testng:testng\r\n      +- com.beust:jcommander\r\n    +- some other stuff\r\n\r\nso I&#39;m pretty confident testng is brought in after all QAF stuff as indicated by the github article\r\n\r\nSo either a) I&#39;m wrong, b) the solution on github is wrong or c) who knows?\r\n\r\nAny solutions/idea/constructive criticisms would be appreciated.\r\n\r\nTIA,\r\n\r\nStill-Learning Steve\r\n\r\n      \r\n    \r\n\r\n","title":"ClassCastException - TestNGMethod to TestNGScenario","body":"<p>Eclipse/Maven/Java/Selenium/TestNG</p>\n<p>My very simple test:</p>\n<pre><code>@DataProvider( name=&quot;suite&quot;)\npublic Object[][] dpMethod_suite() {\n    return new Object[][] {{&quot;diamonds&quot;},{&quot;hearts&quot;},{&quot;clubs&quot;},{&quot;spades&quot;}};\n}\n\n@Test( dataProvider=&quot;suite&quot;)   //  &lt;---- throws the errmsg\npublic void Test_01( String suite) {\n    boolean testPassed = true;\n\n    System.out.println(&quot;suite passed in: &quot; + suite);\n\n    Assert.assertEquals( testPassed, true);\n}\n</code></pre>\n<p>should produce 4 executions of test Test_01 but instead throws a runtime error</p>\n<pre><code>java.lang.ClassCastException: org.testng.internal.TestNGMethod cannot be cast to com.qmetry.qaf.automation.step.client.TestNGEcenario\n</code></pre>\n<p>which is exactly the problem discussed in <a href=\"https://github.com/qmetry/qaf/issues/247\" rel=\"nofollow noreferrer\">https://github.com/qmetry/qaf/issues/247</a></p>\n<p>so I adjusted my pom so qaf stuff is brought in before testng stuff.</p>\n<pre><code>&lt;parent&gt;\n  &lt;groupId&gt;com.xxxxx.eqe&lt;/groupId&gt;\n  &lt;artifactId&gt;xxxxx.lib.eqe.parent&lt;/artifactId&gt;\n  &lt;version&gt;2.3&lt;/version&gt;\n&lt;/parent&gt;\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.qmetry&lt;/groupId&gt;\n    &lt;artifactId&gt;qaf&lt;/artifactId&gt;\n    &lt;version&gt;2.1.14&lt;/version&gt;\n    &lt;exclusions&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.qmetry&lt;/groupId&gt;\n    &lt;artifactId&gt;qaf-support&lt;/artifactId&gt;\n    &lt;version&gt;2.1.14&lt;/version&gt;\n  &lt;/dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;6.10&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Results of</p>\n<pre><code>mvn dependency:tree\n</code></pre>\n<p>yields</p>\n<pre><code>+- com.xxxxxxx.eqe:xxxxxxx-eqe-automation.jar\n  +- com.qmetry:qaf\n    +- org.hamcrest stuff\n    +- com.sun.jersey stuff\n    +- org.aspectj stuff\n    ..... alot of stuff but NO testng stuff\n  +- com.qmetry:qaf-support\n  +- org.seleniumhq:selenium-java\n     .....\n  +- org.seleniumhq:selenium-support\n     .....\n  .... more stuff but NO testNG stuff\n+- org.testng:testng\n  +- com.beust:jcommander\n+- some other stuff\n</code></pre>\n<p>so I'm pretty confident testng is brought in after all QAF stuff as indicated by the github article</p>\n<p>So either a) I'm wrong, b) the solution on github is wrong or c) who knows?</p>\n<p>Any solutions/idea/constructive criticisms would be appreciated.</p>\n<p>TIA,</p>\n<p>Still-Learning Steve</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641089397,"creation_date":1641079177,"answer_id":70552567,"question_id":70552516,"body_markdown":"To show all values from `bpm` you can do something like this:\r\n```\r\n                                                   // &#128071; Read only the bpm node\r\ndbReff = FirebaseDatabase.getInstance().getReference(&quot;bpm&quot;);\r\ndbReff.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n        for (DataSnapshot childSnapshot: dataSnapshot.getChildren()) { // &#128072; loop over child nodes of snapshot\r\n            bpm = childSnapshot.getValue().toString();\r\n            Log.d(&quot;bpm&quot;, bpm); // &#128072; log the value\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n        throw error.toException(); // &#128072; Never ignore errors\r\n    }\r\n});\r\n```\r\n\r\n---\r\n\r\nIf you want to process all top-level nodes like this, you can do:\r\n\r\n```\r\n                                                   // &#128071; Read all data\r\ndbReff = FirebaseDatabase.getInstance().getReference();\r\ndbReff.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                                                    // &#128071; Look up bpm child node\r\n        DataSnapshot bpmSnapshot = dataSnapshot.child(&quot;bpm&quot;);\r\n        for (DataSnapshot childSnapshot: bpmSnapshot.getChildren()) { // &#128072; loop over child nodes of the bpm node snapshot\r\n            bpm = childSnapshot.getValue().toString();\r\n            Log.d(&quot;bpm&quot;, bpm); // &#128072; log the value\r\n        }\r\n\r\n                                                    // &#128071; Look up next child node\r\n        DataSnapshot tempSnapshot = dataSnapshot.child(&quot;tempC&quot;);\r\n        for (DataSnapshot childSnapshot: tempSnapshot.getChildren()) { // &#128072; loop over child nodes of the tempC node snapshot\r\n            ...\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n        throw error.toException(); // &#128072; Never ignore errors\r\n    }\r\n});\r\n```","title":"How can I get the last updated data in firebase to android studio and show it in textview while the key is generated from other source","body":"<p>To show all values from <code>bpm</code> you can do something like this:</p>\n<pre><code>                                                   // 👇 Read only the bpm node\ndbReff = FirebaseDatabase.getInstance().getReference(&quot;bpm&quot;);\ndbReff.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n        for (DataSnapshot childSnapshot: dataSnapshot.getChildren()) { // 👈 loop over child nodes of snapshot\n            bpm = childSnapshot.getValue().toString();\n            Log.d(&quot;bpm&quot;, bpm); // 👈 log the value\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        throw error.toException(); // 👈 Never ignore errors\n    }\n});\n</code></pre>\n<hr />\n<p>If you want to process all top-level nodes like this, you can do:</p>\n<pre><code>                                                   // 👇 Read all data\ndbReff = FirebaseDatabase.getInstance().getReference();\ndbReff.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                                                    // 👇 Look up bpm child node\n        DataSnapshot bpmSnapshot = dataSnapshot.child(&quot;bpm&quot;);\n        for (DataSnapshot childSnapshot: bpmSnapshot.getChildren()) { // 👈 loop over child nodes of the bpm node snapshot\n            bpm = childSnapshot.getValue().toString();\n            Log.d(&quot;bpm&quot;, bpm); // 👈 log the value\n        }\n\n                                                    // 👇 Look up next child node\n        DataSnapshot tempSnapshot = dataSnapshot.child(&quot;tempC&quot;);\n        for (DataSnapshot childSnapshot: tempSnapshot.getChildren()) { // 👈 loop over child nodes of the tempC node snapshot\n            ...\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        throw error.toException(); // 👈 Never ignore errors\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":13639462,"reputation":11,"user_id":9839759,"display_name":"Abraham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641125975,"creation_date":1641078488,"question_id":70552516,"body_markdown":"I want to ask about how can I get the last updated data in Firebase, because the code:\r\n\r\n    dbReff = FirebaseDatabase.getInstance().getReference();\r\n    dbReff.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n            bpm = dataSnapshot.child(&quot;bpm&quot;).getValue().toString();\r\n            spo = dataSnapshot.child(&quot;spo2&quot;).getValue().toString();\r\n            tempc = dataSnapshot.child(&quot;tempc&quot;).getValue().toString();\r\n            update();\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n    });\r\n    update();\r\n\r\nI don&#39;t know how to get the data that show it like this image below because i pushed the data from a nodemcu \r\n\r\n![](https://i.stack.imgur.com/IHODB.jpg)\r\n\r\n![](https://i.stack.imgur.com/pT5hK.jpg)\r\n\r\nAnd I create the data inside the firebase to have more data because I need the logs to create the history page.\r\n\r\nEdit: \r\nThe page for this code will be for this page\r\n\r\nhttps://i.stack.imgur.com/F1aH7.jpg\r\n\r\nre-Edit: This is the full code\r\n\r\n    package com.example.poxt;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.fragment.app.Fragment;\r\n    \r\n    import android.os.Handler;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n    \r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    \r\n    \r\n    public class monitorFragment extends Fragment {\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            return inflater.inflate(R.layout.fragment_monitor_navigation, container, false);\r\n        }\r\n        TextView bpmValue, spo2Value,  temperatureValue;\r\n    \r\n        int count = 0;\r\n        String bpm, spo, tempc;\r\n        DatabaseReference dbReff;\r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            bpmValue = (TextView) view.findViewById(R.id.bpmValue);\r\n            spo2Value = (TextView) view.findViewById(R.id.spo2Value);\r\n            temperatureValue = (TextView) view.findViewById(R.id.temperatureValue);\r\n            dbReff = FirebaseDatabase.getInstance().getReference(&quot;po2t-iot-default-rtdb&quot;);\r\n            dbReff.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    // &#128071; Look up bpm child node\r\n                    DataSnapshot bpmSnapshot = dataSnapshot.child(&quot;bpm&quot;);\r\n                    for (DataSnapshot childSnapshot: bpmSnapshot.getChildren()) { // &#128072; loop over child nodes of the bpm node snapshot\r\n                        bpm = childSnapshot.getValue().toString();\r\n                        Log.d(&quot;bpm&quot;, bpm); // &#128072; log the value\r\n                    }\r\n                    DataSnapshot spoSnapshot = dataSnapshot.child(&quot;spo&quot;);\r\n                    for (DataSnapshot childSnapshot: spoSnapshot.getChildren()){\r\n                        spo = childSnapshot.getValue().toString();\r\n                        Log.d(&quot;spo&quot;,spo);\r\n                    }\r\n    \r\n                    // &#128071; Look up next child node\r\n                    DataSnapshot tempSnapshot = dataSnapshot.child(&quot;temp&quot;);\r\n                    for (DataSnapshot childSnapshot: tempSnapshot.getChildren()) { // &#128072; loop over child nodes of the tempC node snapshot\r\n                        tempc = childSnapshot.getValue().toString();\r\n                        Log.d(&quot;temp&quot;,tempc);\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                }\r\n            });\r\n            update();\r\n    \r\n        }\r\n        public void update(){\r\n            count++;\r\n            bpmValue.setText(bpm);\r\n            spo2Value.setText(spo);\r\n            temperatureValue.setText(tempc);\r\n            refresh(1000);\r\n        }\r\n    \r\n        private void refresh(int millisecond) {\r\n            final Handler handler = new Handler();\r\n            final Runnable runnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    update();\r\n                }\r\n            };\r\n            handler.postDelayed(runnable, millisecond);\r\n    \r\n        }\r\n    }","title":"How can I get the last updated data in firebase to android studio and show it in textview while the key is generated from other source","body":"<p>I want to ask about how can I get the last updated data in Firebase, because the code:</p>\n<pre><code>dbReff = FirebaseDatabase.getInstance().getReference();\ndbReff.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n        bpm = dataSnapshot.child(&quot;bpm&quot;).getValue().toString();\n        spo = dataSnapshot.child(&quot;spo2&quot;).getValue().toString();\n        tempc = dataSnapshot.child(&quot;tempc&quot;).getValue().toString();\n        update();\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\nupdate();\n</code></pre>\n<p>I don't know how to get the data that show it like this image below because i pushed the data from a nodemcu</p>\n<p><img src=\"https://i.stack.imgur.com/IHODB.jpg\" alt=\"\" /></p>\n<p><img src=\"https://i.stack.imgur.com/pT5hK.jpg\" alt=\"\" /></p>\n<p>And I create the data inside the firebase to have more data because I need the logs to create the history page.</p>\n<p>Edit:\nThe page for this code will be for this page</p>\n<p><a href=\"https://i.stack.imgur.com/F1aH7.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/F1aH7.jpg</a></p>\n<p>re-Edit: This is the full code</p>\n<pre><code>package com.example.poxt;\n\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\nimport android.os.Handler;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\n\npublic class monitorFragment extends Fragment {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_monitor_navigation, container, false);\n    }\n    TextView bpmValue, spo2Value,  temperatureValue;\n\n    int count = 0;\n    String bpm, spo, tempc;\n    DatabaseReference dbReff;\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        bpmValue = (TextView) view.findViewById(R.id.bpmValue);\n        spo2Value = (TextView) view.findViewById(R.id.spo2Value);\n        temperatureValue = (TextView) view.findViewById(R.id.temperatureValue);\n        dbReff = FirebaseDatabase.getInstance().getReference(&quot;po2t-iot-default-rtdb&quot;);\n        dbReff.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                // 👇 Look up bpm child node\n                DataSnapshot bpmSnapshot = dataSnapshot.child(&quot;bpm&quot;);\n                for (DataSnapshot childSnapshot: bpmSnapshot.getChildren()) { // 👈 loop over child nodes of the bpm node snapshot\n                    bpm = childSnapshot.getValue().toString();\n                    Log.d(&quot;bpm&quot;, bpm); // 👈 log the value\n                }\n                DataSnapshot spoSnapshot = dataSnapshot.child(&quot;spo&quot;);\n                for (DataSnapshot childSnapshot: spoSnapshot.getChildren()){\n                    spo = childSnapshot.getValue().toString();\n                    Log.d(&quot;spo&quot;,spo);\n                }\n\n                // 👇 Look up next child node\n                DataSnapshot tempSnapshot = dataSnapshot.child(&quot;temp&quot;);\n                for (DataSnapshot childSnapshot: tempSnapshot.getChildren()) { // 👈 loop over child nodes of the tempC node snapshot\n                    tempc = childSnapshot.getValue().toString();\n                    Log.d(&quot;temp&quot;,tempc);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n        update();\n\n    }\n    public void update(){\n        count++;\n        bpmValue.setText(bpm);\n        spo2Value.setText(spo);\n        temperatureValue.setText(tempc);\n        refresh(1000);\n    }\n\n    private void refresh(int millisecond) {\n        final Handler handler = new Handler();\n        final Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                update();\n            }\n        };\n        handler.postDelayed(runnable, millisecond);\n\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5084916,"reputation":303,"user_id":4079977,"accept_rate":50,"display_name":"MishraJi"},"score":0,"creation_date":1641125019,"post_id":70555735,"comment_id":124722964,"body_markdown":"You have to change the last two lines of your code.","body":"You have to change the last two lines of your code."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1641125542,"post_id":70555735,"comment_id":124723054,"body_markdown":"If you tried to compile the code, you would get a compilation error because the arguments to `String::join` are incorrect.","body":"If you tried to compile the code, you would get a compilation error because the arguments to <code>String::join</code> are incorrect."}],"answers":[{"tags":[],"owner":{"account_id":6303188,"reputation":3960,"user_id":4897144,"display_name":"shruti1810"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641125015,"creation_date":1641125015,"answer_id":70555788,"question_id":70555735,"body_markdown":"You should be iterating over the array while joining the words and printing as well. Here is the code that would work:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String[] first = new String[5];\r\n        String[] last = new String[5];\r\n        System.out.print(&quot;Enter 5 first name: &quot;);\r\n        for(int i=0; i&lt;5; i++){\r\n            first[i]=sc.nextLine();\r\n        }\r\n        System.out.print(&quot;Enter 5 last name: &quot;);\r\n        for(int i=0; i&lt;5; i++){\r\n            last[i]=sc.nextLine();\r\n        }\r\n        for(int i=0; i&lt;5; i++) {\r\n            String joinedString = String.join(&quot; &quot;, first[i], last[i]);\r\n            System.out.println(joinedString);\r\n        }\r\n    }","title":"Create two arrays that can store the first name (in first array) and last name (in second array) of a person","body":"<p>You should be iterating over the array while joining the words and printing as well. Here is the code that would work:</p>\n<pre><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    String[] first = new String[5];\n    String[] last = new String[5];\n    System.out.print(&quot;Enter 5 first name: &quot;);\n    for(int i=0; i&lt;5; i++){\n        first[i]=sc.nextLine();\n    }\n    System.out.print(&quot;Enter 5 last name: &quot;);\n    for(int i=0; i&lt;5; i++){\n        last[i]=sc.nextLine();\n    }\n    for(int i=0; i&lt;5; i++) {\n        String joinedString = String.join(&quot; &quot;, first[i], last[i]);\n        System.out.println(joinedString);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9724170,"reputation":1075,"user_id":7211815,"display_name":"codrelphi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641125115,"creation_date":1641125115,"answer_id":70555804,"question_id":70555735,"body_markdown":"Your issue come from this part:\r\n\r\n    String joinedString = String.join(first, last);\r\n    System.out.println(joinedString);\r\n\r\nYou can also use a naive method by creating the join array and use it.\r\n\r\n    String[] result = new String[5];\r\n    for(int i=0; i&lt;5; i++){\r\n        result[i] = first[i] + &quot; &quot; + last[i];\r\n        System.out.println(result[i]);\r\n    }\r\n\r\n   \r\n","title":"Create two arrays that can store the first name (in first array) and last name (in second array) of a person","body":"<p>Your issue come from this part:</p>\n<pre><code>String joinedString = String.join(first, last);\nSystem.out.println(joinedString);\n</code></pre>\n<p>You can also use a naive method by creating the join array and use it.</p>\n<pre><code>String[] result = new String[5];\nfor(int i=0; i&lt;5; i++){\n    result[i] = first[i] + &quot; &quot; + last[i];\n    System.out.println(result[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5084916,"reputation":303,"user_id":4079977,"accept_rate":50,"display_name":"MishraJi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641125773,"creation_date":1641125773,"answer_id":70555876,"question_id":70555735,"body_markdown":"This will solve your problem, as you can create a fullName array instead of lastName array.\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    String[] first = new String[5];\r\n    String[] fullName = new String[5];\r\n    System.out.print(&quot;Enter 5 first name: &quot;);\r\n    for(int i=0; i&lt;5; i++){\r\n        first[i]=sc.nextLine();\r\n    }\r\n    System.out.print(&quot;Enter 5 last name: &quot;);\r\n    for(int i=0; i&lt;5; i++){\r\n        fullName[i]=first[i]+&quot; &quot;+sc.nextLine());\r\n    }\r\n    for(int i=0; i&lt;5; i++){\r\n        System.out.println(fullName[i]);\r\n    }\r\n","title":"Create two arrays that can store the first name (in first array) and last name (in second array) of a person","body":"<p>This will solve your problem, as you can create a fullName array instead of lastName array.</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nString[] first = new String[5];\nString[] fullName = new String[5];\nSystem.out.print(&quot;Enter 5 first name: &quot;);\nfor(int i=0; i&lt;5; i++){\n    first[i]=sc.nextLine();\n}\nSystem.out.print(&quot;Enter 5 last name: &quot;);\nfor(int i=0; i&lt;5; i++){\n    fullName[i]=first[i]+&quot; &quot;+sc.nextLine());\n}\nfor(int i=0; i&lt;5; i++){\n    System.out.println(fullName[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":22406504,"reputation":33,"user_id":16615952,"display_name":"flopprfr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1441,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1641150229,"answer_count":3,"score":-2,"last_activity_date":1641125773,"creation_date":1641124551,"question_id":70555735,"body_markdown":"I&#39;m struggling with concatenating the first_name array and last_name array alternating together. My code is below.\r\n\r\nCreate two arrays that can store the first name (in first array) and last name (in second array) of a person. Ask the user to enter any 5 first names of any person, and again ask the user to enter their respective last names. Now, Print the full name by concatenating the first name and the last name. \r\nExample- Let us suppose that the array containing the first name and last name is as follows:\r\n\r\nfirstNameArray = { “Tom”, “John” }\r\n\r\nsecondNameArray = { “Holland”, “Wick” }\r\n\r\nOUTPUT:\r\n\r\nTom Holland\r\n\r\nJohn Wick\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n        String[] first = new String[5];\r\n        String[] last = new String[5];\r\n        System.out.print(&quot;Enter 5 first name: &quot;);\r\n        for(int i=0; i&lt;5; i++){\r\n            first[i]=sc.nextLine();\r\n        }\r\n        System.out.print(&quot;Enter 5 last name: &quot;);\r\n        for(int i=0; i&lt;5; i++){\r\n            last[i]=sc.nextLine();\r\n        }\r\n        String joinedString = String.join(first, last);\r\n        System.out.println(joinedString);\r\n\r\n","title":"Create two arrays that can store the first name (in first array) and last name (in second array) of a person","body":"<p>I'm struggling with concatenating the first_name array and last_name array alternating together. My code is below.</p>\n<p>Create two arrays that can store the first name (in first array) and last name (in second array) of a person. Ask the user to enter any 5 first names of any person, and again ask the user to enter their respective last names. Now, Print the full name by concatenating the first name and the last name.\nExample- Let us suppose that the array containing the first name and last name is as follows:</p>\n<p>firstNameArray = { “Tom”, “John” }</p>\n<p>secondNameArray = { “Holland”, “Wick” }</p>\n<p>OUTPUT:</p>\n<p>Tom Holland</p>\n<p>John Wick</p>\n<pre><code>Scanner sc = new Scanner(System.in);\n    String[] first = new String[5];\n    String[] last = new String[5];\n    System.out.print(&quot;Enter 5 first name: &quot;);\n    for(int i=0; i&lt;5; i++){\n        first[i]=sc.nextLine();\n    }\n    System.out.print(&quot;Enter 5 last name: &quot;);\n    for(int i=0; i&lt;5; i++){\n        last[i]=sc.nextLine();\n    }\n    String joinedString = String.join(first, last);\n    System.out.println(joinedString);\n</code></pre>\n"},{"tags":["java","android","calendarview"],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641125472,"creation_date":1641125472,"answer_id":70555845,"question_id":70555765,"body_markdown":"The way to achieve this is by creating a CustomCalenderView view class which extends from CalenderView.\r\n\r\nIn that CustomCalenderView class create a new method that would take care of changing the color of the calender date you want to change colour of.\r\n\r\nSomething like this.\r\n\r\n```\r\npublic void setMonthDateColor(Date date, int color) {                \r\n    final int childCount = mListView.getChildCount();\r\n    for (int i = 0; i &lt; childCount; i++) {\r\n        WeekView weekView = (WeekView) mListView.getChildAt(i);\r\n        if (weekView.isDateInWeek(date)) {\r\n            //this method adds the date and colour to a \r\n            //Map collection in weekView Object \r\n            weekView.setDateColour(date, color);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand \r\n\r\n```\r\npublic int setMonthDateColor(Date date, int color) {\r\n    return mDelegate.getMonthDateColor(date, color);\r\n}\r\n```\r\n\r\nRef:[more details on creating a custom Calender View][1]\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27036651/13533028","title":"Highlight dates in CalendarView","body":"<p>The way to achieve this is by creating a CustomCalenderView view class which extends from CalenderView.</p>\n<p>In that CustomCalenderView class create a new method that would take care of changing the color of the calender date you want to change colour of.</p>\n<p>Something like this.</p>\n<pre><code>public void setMonthDateColor(Date date, int color) {                \n    final int childCount = mListView.getChildCount();\n    for (int i = 0; i &lt; childCount; i++) {\n        WeekView weekView = (WeekView) mListView.getChildAt(i);\n        if (weekView.isDateInWeek(date)) {\n            //this method adds the date and colour to a \n            //Map collection in weekView Object \n            weekView.setDateColour(date, color);\n        }\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public int setMonthDateColor(Date date, int color) {\n    return mDelegate.getMonthDateColor(date, color);\n}\n</code></pre>\n<p>Ref:<a href=\"https://stackoverflow.com/a/27036651/13533028\">more details on creating a custom Calender View</a></p>\n"}],"owner":{"account_id":21080110,"reputation":21,"user_id":15494629,"display_name":"Jayur Pithava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1313,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1641125472,"creation_date":1641124770,"question_id":70555765,"body_markdown":"How can I change color of specific date of CalendarView? I am creating simple app that can add event on calendar and I want to highlight dates which has events. Can anyone tell how it can be done or if it is not possible, suggest me some other way.","title":"Highlight dates in CalendarView","body":"<p>How can I change color of specific date of CalendarView? I am creating simple app that can add event on calendar and I want to highlight dates which has events. Can anyone tell how it can be done or if it is not possible, suggest me some other way.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":106364,"reputation":159997,"user_id":283366,"accept_rate":100,"display_name":"Phil"},"score":0,"creation_date":1524799988,"post_id":50054793,"comment_id":87126097,"body_markdown":"https://stackoverflow.com/a/36498517/283366","body":"<a href=\"https://stackoverflow.com/a/36498517/283366\">stackoverflow.com/a/36498517/283366</a>"},{"owner":{"account_id":106364,"reputation":159997,"user_id":283366,"accept_rate":100,"display_name":"Phil"},"score":1,"creation_date":1524800209,"post_id":50054793,"comment_id":87126139,"body_markdown":"Possible duplicate of [String variable interpolation Java](https://stackoverflow.com/questions/6389827/string-variable-interpolation-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/6389827/string-variable-interpolation-java\">String variable interpolation Java</a>"},{"owner":{"account_id":9137758,"reputation":2553,"user_id":8586214,"accept_rate":100,"display_name":"CoXier"},"score":0,"creation_date":1524802351,"post_id":50054793,"comment_id":87126611,"body_markdown":"Why close my question? Have you read my question?","body":"Why close my question? Have you read my question?"},{"owner":{"account_id":9137758,"reputation":2553,"user_id":8586214,"accept_rate":100,"display_name":"CoXier"},"score":0,"creation_date":1524802872,"post_id":50054793,"comment_id":87126747,"body_markdown":"@Phil Can please you read my question again?","body":"@Phil Can please you read my question again?"},{"owner":{"account_id":9532102,"reputation":6466,"user_id":7083401,"accept_rate":100,"display_name":"ice1000"},"score":0,"creation_date":1524806947,"post_id":50054793,"comment_id":87128035,"body_markdown":"According to your edit, it becomes an extremely complicated question..","body":"According to your edit, it becomes an extremely complicated question.."},{"owner":{"account_id":9137758,"reputation":2553,"user_id":8586214,"accept_rate":100,"display_name":"CoXier"},"score":0,"creation_date":1524807800,"post_id":50054793,"comment_id":87128309,"body_markdown":"Yes，but I cannot delete my question and create new one. So I am so sorry.","body":"Yes，but I cannot delete my question and create new one. So I am so sorry."}],"answers":[{"tags":[],"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524800063,"creation_date":1524799966,"answer_id":50054815,"question_id":50054793,"body_markdown":"You can use [`String.format()`](https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#format(java.lang.String,java.lang.Object...)):\r\n\r\n    String[] sentences = { &quot;hello&quot;, &quot;world&quot; };\r\n    String template = &quot;Dialogue: %s%nDialogue: %s%n&quot;;\r\n    String result = String.format(template, arr[0], arr[1]);","title":"Java/kotlin format string that read from file using array","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>String.format()</code></a>:</p>\n\n<pre><code>String[] sentences = { \"hello\", \"world\" };\nString template = \"Dialogue: %s%nDialogue: %s%n\";\nString result = String.format(template, arr[0], arr[1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9532102,"reputation":6466,"user_id":7083401,"accept_rate":100,"display_name":"ice1000"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524801124,"creation_date":1524800128,"answer_id":50054846,"question_id":50054793,"body_markdown":"The code above is **completely wrong use of `String.format`**. Let me explain why.\r\n\r\nIn the first two line:\r\n\r\n    var sentences = arrayOf(&quot;hello&quot;, &quot;world&quot;)\r\n    var template = &quot;Dialogue: ${sentences[0]}\\n&quot; +\r\n                  &quot;Dialogue: ${sentences[1]}\\n&quot;\r\n\r\nHere, `template` is already there, it&#39;s a `String`, its value is `&quot;Dialogue: hello\\nDialogue: world&quot;`, which is the result you see.\r\n\r\nIf you don&#39;t trust me, try replace `sentences` with a non-exist variable name. You&#39;ll get a compile error, because the string is connected exactly when you create it. &quot;String template&quot; is just a syntax sugar of `+`.\r\n\r\nThen, you&#39;ve invoked `template.format`, which is actually `String.format`, the returned string is not used.\r\n\r\nSince this is already wrong in Kotlin, you can do the same thing in Java easily:\r\n\r\n    String[] sentences = new String { &quot;hello&quot;, &quot;world&quot; };\r\n    String template = &quot;Dialogue: &quot; + sentences[0] + &quot;\\n&quot; +\r\n                      &quot;Dialogue: &quot; + sentences[1] + &quot;\\n&quot;;\r\n\r\n    template.format(sentences);\r\n\r\n    System.out.print(template);\r\n\r\nThis code equals to the Kotlin code you&#39;ve given.\r\n\r\nI guess you want this:\r\n\r\n    String template = String.format(&quot;Dialogue: %s%nDialogue: %s%n&quot;, sentences);\r\n    System.out.print(template);","title":"Java/kotlin format string that read from file using array","body":"<p>The code above is <strong>completely wrong use of <code>String.format</code></strong>. Let me explain why.</p>\n\n<p>In the first two line:</p>\n\n<pre><code>var sentences = arrayOf(\"hello\", \"world\")\nvar template = \"Dialogue: ${sentences[0]}\\n\" +\n              \"Dialogue: ${sentences[1]}\\n\"\n</code></pre>\n\n<p>Here, <code>template</code> is already there, it's a <code>String</code>, its value is <code>\"Dialogue: hello\\nDialogue: world\"</code>, which is the result you see.</p>\n\n<p>If you don't trust me, try replace <code>sentences</code> with a non-exist variable name. You'll get a compile error, because the string is connected exactly when you create it. \"String template\" is just a syntax sugar of <code>+</code>.</p>\n\n<p>Then, you've invoked <code>template.format</code>, which is actually <code>String.format</code>, the returned string is not used.</p>\n\n<p>Since this is already wrong in Kotlin, you can do the same thing in Java easily:</p>\n\n<pre><code>String[] sentences = new String { \"hello\", \"world\" };\nString template = \"Dialogue: \" + sentences[0] + \"\\n\" +\n                  \"Dialogue: \" + sentences[1] + \"\\n\";\n\ntemplate.format(sentences);\n\nSystem.out.print(template);\n</code></pre>\n\n<p>This code equals to the Kotlin code you've given.</p>\n\n<p>I guess you want this:</p>\n\n<pre><code>String template = String.format(\"Dialogue: %s%nDialogue: %s%n\", sentences);\nSystem.out.print(template);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3136463,"reputation":2569,"user_id":2652883,"accept_rate":89,"display_name":"Muli Yulzary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641124510,"creation_date":1525183185,"answer_id":50117861,"question_id":50054793,"body_markdown":"Use `%s` for substitutions in the template file.\r\nKotlin (Java) will then call the `toString` method for each argument and replace them with respect to the order of the arguments.\r\n    \r\n    //template.txt\r\n    %s magnificent %s!\r\n    \r\n    //Main.kt\r\n    val sentences = arrayOf(&quot;hello&quot;, &quot;world&quot;)\r\n    val template = File(&quot;template.txt&quot;).readText()\r\n    \r\n    template.format(sentences) // hello magnificent world!","title":"Java/kotlin format string that read from file using array","body":"<p>Use <code>%s</code> for substitutions in the template file.\nKotlin (Java) will then call the <code>toString</code> method for each argument and replace them with respect to the order of the arguments.</p>\n<pre><code>//template.txt\n%s magnificent %s!\n\n//Main.kt\nval sentences = arrayOf(&quot;hello&quot;, &quot;world&quot;)\nval template = File(&quot;template.txt&quot;).readText()\n\ntemplate.format(sentences) // hello magnificent world!\n</code></pre>\n"}],"owner":{"account_id":9137758,"reputation":2553,"user_id":8586214,"accept_rate":100,"display_name":"CoXier"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2481,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1641124510,"creation_date":1524799785,"question_id":50054793,"body_markdown":"As title says, I want to know is there any convent way to format string using array in Java.\r\n\r\nLet me hold an kotlin example.\r\n\r\n    var sentences = arrayOf(&quot;hello&quot;, &quot;world&quot;)\r\n    var template = &quot;Dialogue: ${sentences[0]}\\n&quot; +\r\n                    &quot;Dialogue: ${sentences[1]}\\n&quot;\r\n\r\n    template.format(sentences)\r\n\r\n    print(template)\r\n\r\n\r\nAbove code works well. So how about `Java` ?\r\n\r\n# EDIT\r\nI am sorry I have not described my question clearly. And when I run into my real case I found my code cannot work for me now.\r\n\r\nIn fact, `template` is read from a file. \r\n\r\n    var sentences = arrayOf(&quot;hello&quot;, &quot;world&quot;)\r\n    var template = File(&quot;template.txt&quot;).readText()\r\n\r\n    template.format(sentences)\r\n    print(template)\r\n\r\nAnd template.txt file contains:\r\n\r\n    Dialogue: ${sentences[0]}\r\n    Dialogue: ${sentences[1]}\r\n\r\n**As you see, I want to read file then format the result.**\r\n\r\nIn addition, I am so sorry about this question. **Because it seems to be changed to how to format string which is read from file.**","title":"Java/kotlin format string that read from file using array","body":"<p>As title says, I want to know is there any convent way to format string using array in Java.</p>\n\n<p>Let me hold an kotlin example.</p>\n\n<pre><code>var sentences = arrayOf(\"hello\", \"world\")\nvar template = \"Dialogue: ${sentences[0]}\\n\" +\n                \"Dialogue: ${sentences[1]}\\n\"\n\ntemplate.format(sentences)\n\nprint(template)\n</code></pre>\n\n<p>Above code works well. So how about <code>Java</code> ?</p>\n\n<h1>EDIT</h1>\n\n<p>I am sorry I have not described my question clearly. And when I run into my real case I found my code cannot work for me now.</p>\n\n<p>In fact, <code>template</code> is read from a file. </p>\n\n<pre><code>var sentences = arrayOf(\"hello\", \"world\")\nvar template = File(\"template.txt\").readText()\n\ntemplate.format(sentences)\nprint(template)\n</code></pre>\n\n<p>And template.txt file contains:</p>\n\n<pre><code>Dialogue: ${sentences[0]}\nDialogue: ${sentences[1]}\n</code></pre>\n\n<p><strong>As you see, I want to read file then format the result.</strong></p>\n\n<p>In addition, I am so sorry about this question. <strong>Because it seems to be changed to how to format string which is read from file.</strong></p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1640820045,"post_id":70523349,"comment_id":124668856,"body_markdown":"The code you posted doesn’t do anything other than create a controller by calling the default constructor on a class specific to each FXML. This is exactly the default behavior. Why don’t you simply specify the controller class directly in each FXML file in the usual way, and avoid calling either `setController(…)` *or* `setControllerFactory(…)`?","body":"The code you posted doesn’t do anything other than create a controller by calling the default constructor on a class specific to each FXML. This is exactly the default behavior. Why don’t you simply specify the controller class directly in each FXML file in the usual way, and avoid calling either <code>setController(…)</code> <i>or</i> <code>setControllerFactory(…)</code>?"},{"owner":{"account_id":13601639,"reputation":13,"user_id":9812149,"display_name":"Phantom"},"score":0,"creation_date":1640880320,"post_id":70523349,"comment_id":124682498,"body_markdown":"@James_D That is a great question! I would like to be able to use JSON with controllers, so customizing a Controller_Factory would be the best way to do it.","body":"@James_D That is a great question! I would like to be able to use JSON with controllers, so customizing a Controller_Factory would be the best way to do it."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1640880405,"post_id":70523349,"comment_id":124682520,"body_markdown":"It’s still not clear what you’re asking. Why do you need a controller factory to use JSON in your controllers?","body":"It’s still not clear what you’re asking. Why do you need a controller factory to use JSON in your controllers?"},{"owner":{"account_id":13601639,"reputation":13,"user_id":9812149,"display_name":"Phantom"},"score":0,"creation_date":1640881025,"post_id":70523349,"comment_id":124682725,"body_markdown":"Agh, Im sorry if I did not answer properly, I will try my best to give my reasons. \nWhat I am trying to accomplish-\nconfiguration JSON is either iterated over or the specific controller entry is extracted via key, with each key having a list of arguments for an associated controller. Regardless of how many arguments there are, that entire section of the config is shoved into the factory.  Read in some simple configuration JSON that has at least one entry for every page (it could just be as simple as having the name of each page and a list of pages you can go to)","body":"Agh, Im sorry if I did not answer properly, I will try my best to give my reasons.  What I am trying to accomplish- configuration JSON is either iterated over or the specific controller entry is extracted via key, with each key having a list of arguments for an associated controller. Regardless of how many arguments there are, that entire section of the config is shoved into the factory.  Read in some simple configuration JSON that has at least one entry for every page (it could just be as simple as having the name of each page and a list of pages you can go to)"},{"owner":{"account_id":13601639,"reputation":13,"user_id":9812149,"display_name":"Phantom"},"score":0,"creation_date":1640881037,"post_id":70523349,"comment_id":124682729,"body_markdown":"I will update my original post with my current work Progress. If this still was not clear, I apologize. I&#39;m trying to explain it as I understand it, which is obviously not very well :)","body":"I will update my original post with my current work Progress. If this still was not clear, I apologize. I&#39;m trying to explain it as I understand it, which is obviously not very well :)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1640881680,"post_id":70523349,"comment_id":124682913,"body_markdown":"A `controllerFactory` is just a function that takes a `Class` and returns an object. When the `FXMLLoader` loads the FXML, it passes the class defined in the `fx:controller` attribute to that function and uses the resulting object as the controller. The “default controller factory” simply invokes the no-arg constructor on the class to create the object. Nothing in your question, or comments (as far as I understand them) shows any need to do anything other than the default.","body":"A <code>controllerFactory</code> is just a function that takes a <code>Class</code> and returns an object. When the <code>FXMLLoader</code> loads the FXML, it passes the class defined in the <code>fx:controller</code> attribute to that function and uses the resulting object as the controller. The “default controller factory” simply invokes the no-arg constructor on the class to create the object. Nothing in your question, or comments (as far as I understand them) shows any need to do anything other than the default."},{"owner":{"account_id":13601639,"reputation":13,"user_id":9812149,"display_name":"Phantom"},"score":0,"creation_date":1640881820,"post_id":70523349,"comment_id":124682960,"body_markdown":"Updated question with more info at the bottom. Hopefully that clears up what I am trying to do.","body":"Updated question with more info at the bottom. Hopefully that clears up what I am trying to do."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1640882028,"post_id":70523349,"comment_id":124683033,"body_markdown":"Create a suitable Java representation of that (in a class). Make your controllers have a constructor that takes an instance of that class. Use reflection in the controller factory to invoke that constructor and return the result.","body":"Create a suitable Java representation of that (in a class). Make your controllers have a constructor that takes an instance of that class. Use reflection in the controller factory to invoke that constructor and return the result."},{"owner":{"account_id":13601639,"reputation":13,"user_id":9812149,"display_name":"Phantom"},"score":0,"creation_date":1640884696,"post_id":70523349,"comment_id":124683962,"body_markdown":"Would it be too much for me to ask you to give visual examples? If you put that in the Answer Question I can add it as the answer :)","body":"Would it be too much for me to ask you to give visual examples? If you put that in the Answer Question I can add it as the answer :)"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640892048,"creation_date":1640892048,"answer_id":70535831,"question_id":70523349,"body_markdown":"The controller factory is simply a `Callback&lt;Class&lt;?&gt;, Object&gt;` whose `call(Class&lt;?&gt; type)` function takes the class defined in the `fx:controller` attribute in the FXML file and returns the object to be used as the controller. This is invoked by the `FXMLLoader` at the time the FXML is loaded.\r\n\r\nI think your question is asking if you can use a controller factory to automatically populate controllers with data that&#39;s stored in JSON, which will be read at runtime. \r\n\r\nYou can do something like this:\r\n\r\n    public class NavigationInfo {\r\n    \r\n        private final Map&lt;String, PageNavigationInfo&gt; pageInfoPerPage ;\r\n    \r\n        public NavigationInfo(Map&lt;String, PageNavigationInfo pageInfoPerPage) {\r\n            this.pageInfoPerPage = pageInfoPerPage;\r\n        }\r\n    \r\n        public PageNavigationInfo getInfoForPage(String page) {\r\n            return pageInfoPerPage.get(page);\r\n        }\r\n    }\r\n\r\n&lt;!-- --&gt;\r\n\r\n    public class PageNavigationInfo {\r\n    \r\n        private final String internalID ;\r\n    \r\n        private final List&lt;String&gt; validPages ;\r\n    \r\n        private final List&lt;String&gt; cryptos ;\r\n    \r\n        // .... etc\r\n    }\r\n\r\n&lt;!-- --&gt;\r\n\r\n    public class NavigationControllerFactory implements Callback&lt;Class&lt;?&gt;, Object&gt; {\r\n    \r\n        private final NavigationInfo navigationInfo ;\r\n    \r\n        public NavigationControllerFactory() {\r\n            // read and parse JSON and create NavigationInfo instance\r\n        }\r\n    \r\n        @Override\r\n        public Object call(Class&lt;?&gt; type) {\r\n            try {\r\n                for (Constructor&lt;?&gt; c : type.getConstructors()) {\r\n                    if (c.getParameterCount() == 1 &amp;&amp; c.getParameterTypes()[0].equals(NavigationInfo.class)) {\r\n                        return c.newInstance(navigationInfo);\r\n                    }\r\n                }\r\n                // no suitable constructor, just use default constructor as fallabck\r\n                return type.getConstructor().newInstance();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nNow just define the `fx:controller` attribute in each FXML in the usual way. E.g. for `Buy.fxml` do\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;BorderPane ... fx:controller=&quot;com.yourcompany.yourproject.BuyController&quot;&gt;\r\n    \r\n        &lt;!-- ... --&gt;\r\n    &lt;/BorderPane&gt;\r\n\r\nThen\r\n\r\n    public class BuyController {\r\n    \r\n        private final PageNavigationInfo navInfo ;\r\n    \r\n        public BuyController(NavigationInfo navigationInfo) {\r\n            this.navInfo = navigationInfo.getInfoForPage(&quot;BuyPage&quot;);\r\n        }\r\n    \r\n        @FXML\r\n        private void initialize() {\r\n            // do whatever you need with navInfo\r\n        }\r\n    }","title":"How to change this JavaFX into using a ControllerFactory","body":"<p>The controller factory is simply a <code>Callback&lt;Class&lt;?&gt;, Object&gt;</code> whose <code>call(Class&lt;?&gt; type)</code> function takes the class defined in the <code>fx:controller</code> attribute in the FXML file and returns the object to be used as the controller. This is invoked by the <code>FXMLLoader</code> at the time the FXML is loaded.</p>\n<p>I think your question is asking if you can use a controller factory to automatically populate controllers with data that's stored in JSON, which will be read at runtime.</p>\n<p>You can do something like this:</p>\n<pre><code>public class NavigationInfo {\n\n    private final Map&lt;String, PageNavigationInfo&gt; pageInfoPerPage ;\n\n    public NavigationInfo(Map&lt;String, PageNavigationInfo pageInfoPerPage) {\n        this.pageInfoPerPage = pageInfoPerPage;\n    }\n\n    public PageNavigationInfo getInfoForPage(String page) {\n        return pageInfoPerPage.get(page);\n    }\n}\n</code></pre>\n\n<pre><code>public class PageNavigationInfo {\n\n    private final String internalID ;\n\n    private final List&lt;String&gt; validPages ;\n\n    private final List&lt;String&gt; cryptos ;\n\n    // .... etc\n}\n</code></pre>\n\n<pre><code>public class NavigationControllerFactory implements Callback&lt;Class&lt;?&gt;, Object&gt; {\n\n    private final NavigationInfo navigationInfo ;\n\n    public NavigationControllerFactory() {\n        // read and parse JSON and create NavigationInfo instance\n    }\n\n    @Override\n    public Object call(Class&lt;?&gt; type) {\n        try {\n            for (Constructor&lt;?&gt; c : type.getConstructors()) {\n                if (c.getParameterCount() == 1 &amp;&amp; c.getParameterTypes()[0].equals(NavigationInfo.class)) {\n                    return c.newInstance(navigationInfo);\n                }\n            }\n            // no suitable constructor, just use default constructor as fallabck\n            return type.getConstructor().newInstance();\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n<p>Now just define the <code>fx:controller</code> attribute in each FXML in the usual way. E.g. for <code>Buy.fxml</code> do</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;BorderPane ... fx:controller=&quot;com.yourcompany.yourproject.BuyController&quot;&gt;\n\n    &lt;!-- ... --&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>Then</p>\n<pre><code>public class BuyController {\n\n    private final PageNavigationInfo navInfo ;\n\n    public BuyController(NavigationInfo navigationInfo) {\n        this.navInfo = navigationInfo.getInfoForPage(&quot;BuyPage&quot;);\n    }\n\n    @FXML\n    private void initialize() {\n        // do whatever you need with navInfo\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13601639,"reputation":13,"user_id":9812149,"display_name":"Phantom"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70535831,"answer_count":1,"score":0,"last_activity_date":1641123964,"creation_date":1640801748,"question_id":70523349,"body_markdown":"I have looked into using ControllerFactory a lot, to allow this code to be instantiated from a database, and have cross-controller compatibility. But with my original setup different from others I found online, I found it extremely hard to follow along, and use what would fit into my program from theirs. Any advice on where to start?\r\n\r\n\r\n\r\nCurrent Controller creation - \r\n``` private static void loadNewRoute(RouteScene route) throws IOException {\r\n        // get Main Class package name to get correct files path\r\n        String pathRef = mainRef.getClass().getPackage().getName();\r\n        // set FXRouter current route reference\r\n        currentRoute = route;\r\n        // create correct file path.  &quot;/&quot; doesn&#39;t affect any OS\r\n        String scenePath = &quot;/&quot; + pathRef + &quot;/&quot; + route.scenePath;\r\n\r\n\r\n\r\n\r\n        // Creates controller for route\r\n        Controller_Factory cf = new Controller_Factory();\r\n        Object controller  = cf.CreateController(route.scenePath);\r\n\r\n\r\n        FXMLLoader loader = new FXMLLoader(controller.getClass().getResource(scenePath));\r\n        loader.setController(controller);\r\n\r\n\r\n        Parent root = loader.load();\r\n\r\n\r\n\r\n        // set window title from route settings or default setting\r\n        window.setTitle(route.windowTitle);\r\n        // set new route scene\r\n        window.setScene(new Scene(root, route.sceneWidth, route.sceneHeight));\r\n        // show the window\r\n        window.show();\r\n\r\n\r\n    }\r\n```\r\n\r\n\r\nController Example-\r\n\r\n```\r\npublic class BuyController extends Controller {\r\n\r\n    @FXML\r\n    public Button CloseAppButton;\r\n    @FXML public Button SwitchToProfileButton;\r\n    @FXML public Button SwitchToSellButton;\r\n    @FXML public Button SwitchToBuyButton;\r\n    @FXML public Button SwitchToMainButton;\r\n\r\n@FXML public TextField BuyText;\r\n\r\n\r\nString AmountBought;\r\n\r\n    public void initialize (URL location, ResourceBundle resources){\r\n        CloseAppButton.setPrefHeight(30);\r\n        CloseAppButton.setPrefWidth(56);\r\n\r\n        SwitchToBuyButton.setPrefHeight(30);\r\n        SwitchToBuyButton.setPrefWidth(56);\r\n\r\n        SwitchToMainButton.setPrefHeight(30);\r\n        SwitchToMainButton.setPrefWidth(56);\r\n\r\n        SwitchToSellButton.setPrefHeight(30);\r\n        SwitchToSellButton.setPrefWidth(56);\r\n\r\n        SwitchToProfileButton.setPrefHeight(30);\r\n        SwitchToProfileButton.setPrefWidth(56);\r\n    }\r\n    public void OnBuyButton (ActionEvent event) {\r\nAmountBought = BuyText.getText();\r\nSystem.out.println(&quot;You have bought &quot; + AmountBought + &quot; of crypto&quot;);\r\nBuyText.clear();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void initilize(URL url, ResourceBundle rb) {\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nCurrent Controller_Factory-\r\n\r\n```\r\npublic class Controller_Factory {\r\n\r\n    private static final Controller_Factory instance = new Controller_Factory();\r\n\r\npublic static Controller_Factory getInstance() {\r\n    return instance;\r\n}\r\n\r\n\r\n\r\npublic Object CreateController (String routeScenePath) throws IllegalArgumentException, IOException {\r\n\r\n\r\n\r\n    Object controller = null;\r\n\r\n\r\n\r\n    switch (routeScenePath) {\r\n        case  &quot;Buy.fxml&quot;:\r\n            controller = new BuyController();\r\n            break;\r\n        case &quot;Error.fxml&quot;:\r\n            controller = new ErrorController();\r\n            break;\r\n        case &quot;Home.fxml&quot;:\r\n            controller = new HomeController();\r\n            break;\r\n        case &quot;Profile.fxml&quot;:\r\n            controller = new ProfileController();\r\n            break;\r\n        case &quot;Sell.fxml&quot;:\r\n            controller = new SellController();\r\n            break;\r\n        default:\r\n\r\n    }\r\n   System.out.println(routeScenePath);\r\n    return controller;\r\n}\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nHow would I pass this info with the said controller? (This is not real code I have, but an example of configuration JSON I want to pass with the controller.)\r\n\r\n```{\r\n  &quot;HomePage&quot;: {\r\n    &quot;ValidPages&quot;: [\r\n      &quot;BuyPage&quot;,\r\n      &quot;SellPage&quot;\r\n    ],\r\n    &quot;InternalID&quot;: &quot;HP&quot;\r\n  },\r\n  &quot;BuyPage&quot;: {\r\n    &quot;ValidPages&quot;: [\r\n      &quot;HomePage&quot;\r\n    ],\r\n    &quot;InternalID&quot;: &quot;BP&quot;,\r\n    &quot;Cryptos&quot;: [\r\n      &quot;BTC&quot;,\r\n      &quot;LTC&quot;\r\n    ]\r\n```","title":"How to change this JavaFX into using a ControllerFactory","body":"<p>I have looked into using ControllerFactory a lot, to allow this code to be instantiated from a database, and have cross-controller compatibility. But with my original setup different from others I found online, I found it extremely hard to follow along, and use what would fit into my program from theirs. Any advice on where to start?</p>\n<p>Current Controller creation -</p>\n<pre><code>        // get Main Class package name to get correct files path\n        String pathRef = mainRef.getClass().getPackage().getName();\n        // set FXRouter current route reference\n        currentRoute = route;\n        // create correct file path.  &quot;/&quot; doesn't affect any OS\n        String scenePath = &quot;/&quot; + pathRef + &quot;/&quot; + route.scenePath;\n\n\n\n\n        // Creates controller for route\n        Controller_Factory cf = new Controller_Factory();\n        Object controller  = cf.CreateController(route.scenePath);\n\n\n        FXMLLoader loader = new FXMLLoader(controller.getClass().getResource(scenePath));\n        loader.setController(controller);\n\n\n        Parent root = loader.load();\n\n\n\n        // set window title from route settings or default setting\n        window.setTitle(route.windowTitle);\n        // set new route scene\n        window.setScene(new Scene(root, route.sceneWidth, route.sceneHeight));\n        // show the window\n        window.show();\n\n\n    }\n</code></pre>\n<p>Controller Example-</p>\n<pre><code>public class BuyController extends Controller {\n\n    @FXML\n    public Button CloseAppButton;\n    @FXML public Button SwitchToProfileButton;\n    @FXML public Button SwitchToSellButton;\n    @FXML public Button SwitchToBuyButton;\n    @FXML public Button SwitchToMainButton;\n\n@FXML public TextField BuyText;\n\n\nString AmountBought;\n\n    public void initialize (URL location, ResourceBundle resources){\n        CloseAppButton.setPrefHeight(30);\n        CloseAppButton.setPrefWidth(56);\n\n        SwitchToBuyButton.setPrefHeight(30);\n        SwitchToBuyButton.setPrefWidth(56);\n\n        SwitchToMainButton.setPrefHeight(30);\n        SwitchToMainButton.setPrefWidth(56);\n\n        SwitchToSellButton.setPrefHeight(30);\n        SwitchToSellButton.setPrefWidth(56);\n\n        SwitchToProfileButton.setPrefHeight(30);\n        SwitchToProfileButton.setPrefWidth(56);\n    }\n    public void OnBuyButton (ActionEvent event) {\nAmountBought = BuyText.getText();\nSystem.out.println(&quot;You have bought &quot; + AmountBought + &quot; of crypto&quot;);\nBuyText.clear();\n    }\n\n\n    @Override\n    public void initilize(URL url, ResourceBundle rb) {\n\n    }\n\n\n}\n</code></pre>\n<p>Current Controller_Factory-</p>\n<pre><code>public class Controller_Factory {\n\n    private static final Controller_Factory instance = new Controller_Factory();\n\npublic static Controller_Factory getInstance() {\n    return instance;\n}\n\n\n\npublic Object CreateController (String routeScenePath) throws IllegalArgumentException, IOException {\n\n\n\n    Object controller = null;\n\n\n\n    switch (routeScenePath) {\n        case  &quot;Buy.fxml&quot;:\n            controller = new BuyController();\n            break;\n        case &quot;Error.fxml&quot;:\n            controller = new ErrorController();\n            break;\n        case &quot;Home.fxml&quot;:\n            controller = new HomeController();\n            break;\n        case &quot;Profile.fxml&quot;:\n            controller = new ProfileController();\n            break;\n        case &quot;Sell.fxml&quot;:\n            controller = new SellController();\n            break;\n        default:\n\n    }\n   System.out.println(routeScenePath);\n    return controller;\n}\n\n\n}\n</code></pre>\n<p>How would I pass this info with the said controller? (This is not real code I have, but an example of configuration JSON I want to pass with the controller.)</p>\n<pre><code>  &quot;HomePage&quot;: {\n    &quot;ValidPages&quot;: [\n      &quot;BuyPage&quot;,\n      &quot;SellPage&quot;\n    ],\n    &quot;InternalID&quot;: &quot;HP&quot;\n  },\n  &quot;BuyPage&quot;: {\n    &quot;ValidPages&quot;: [\n      &quot;HomePage&quot;\n    ],\n    &quot;InternalID&quot;: &quot;BP&quot;,\n    &quot;Cryptos&quot;: [\n      &quot;BTC&quot;,\n      &quot;LTC&quot;\n    ]\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":14575753,"reputation":306,"user_id":10527665,"display_name":"wl.GIG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545808685,"creation_date":1545808685,"answer_id":53928724,"question_id":53928515,"body_markdown":"I dont know which version eclipse you are using. But you can try this way.\r\n\r\n    Window--&gt;Preferences--&gt;General--&gt;Editor--&gt;Text Editors--&gt;Annotations--&gt;Error\r\n\r\nand there are three checkboxs. Check them.","title":"Eclipse not giving an this errors or warnings: &#39;Tomcat: multiple contexts path of..&#39; and pom.xml file","body":"<p>I dont know which version eclipse you are using. But you can try this way.</p>\n\n<pre><code>Window--&gt;Preferences--&gt;General--&gt;Editor--&gt;Text Editors--&gt;Annotations--&gt;Error\n</code></pre>\n\n<p>and there are three checkboxs. Check them.</p>\n"}],"owner":{"account_id":14968464,"reputation":1,"user_id":10806042,"display_name":"meraba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641123613,"creation_date":1545807490,"question_id":53928515,"body_markdown":"My Eclipse Java EE 2018-09(4.9.0) is working on Ubuntu 18.04. The problem is, it is not working properly. I got this issues:\r\n\r\n- Tomcat server had an &quot;Multiple contexts have path of ...&quot; error, but Eclipse didn&#39;t warn me.\r\n\r\n- In pom.xml file had an error about &quot;web xml missing ...&quot;, but again, Eclipse didn&#39;t warn me.\r\n\r\nI saw this errors from tutorials. Why is this happening? Is it about configuration or something?\r\n\r\n\r\nI tried cleaning project, update maven project, building again, but still getting this errors.\r\n\r\n","title":"Eclipse not giving an this errors or warnings: &#39;Tomcat: multiple contexts path of..&#39; and pom.xml file","body":"<p>My Eclipse Java EE 2018-09(4.9.0) is working on Ubuntu 18.04. The problem is, it is not working properly. I got this issues:</p>\n<ul>\n<li><p>Tomcat server had an &quot;Multiple contexts have path of ...&quot; error, but Eclipse didn't warn me.</p>\n</li>\n<li><p>In pom.xml file had an error about &quot;web xml missing ...&quot;, but again, Eclipse didn't warn me.</p>\n</li>\n</ul>\n<p>I saw this errors from tutorials. Why is this happening? Is it about configuration or something?</p>\n<p>I tried cleaning project, update maven project, building again, but still getting this errors.</p>\n"},{"tags":["java","mqtt"],"answers":[{"tags":[],"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641123167,"creation_date":1641123167,"answer_id":70555597,"question_id":70555550,"body_markdown":"The code you have is a line at a time, if the command outputs multiple lines then you are going to send multiple messages.\r\n\r\nYou need to loop over the output from `reader.readLine()` store all the results and then publish the message.\r\n\r\n    String line;\r\n    String output = &quot;&quot;;\r\n    while ((line=reader.readLine()) != null) {\r\n      System.out.println(line);\r\n      output += line + &quot;\\n&quot;;\r\n    }\r\n    final MqttTopic timeTopic = client.getTopic(TOPIC);\r\n    timeTopic.publish(new MqttMessage(line.getBytes()));\r\n    System.out.println(&quot; - Published data. Topic: &quot; + timeTopic.getName() + &quot;  Message: &quot; + result);","title":"how to send a unique message with MQTT?","body":"<p>The code you have is a line at a time, if the command outputs multiple lines then you are going to send multiple messages.</p>\n<p>You need to loop over the output from <code>reader.readLine()</code> store all the results and then publish the message.</p>\n<pre><code>String line;\nString output = &quot;&quot;;\nwhile ((line=reader.readLine()) != null) {\n  System.out.println(line);\n  output += line + &quot;\\n&quot;;\n}\nfinal MqttTopic timeTopic = client.getTopic(TOPIC);\ntimeTopic.publish(new MqttMessage(line.getBytes()));\nSystem.out.println(&quot; - Published data. Topic: &quot; + timeTopic.getName() + &quot;  Message: &quot; + result);\n</code></pre>\n"}],"owner":{"account_id":23654261,"reputation":1,"user_id":17682783,"display_name":"DiegoDEV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641123167,"creation_date":1641122651,"question_id":70555550,"body_markdown":"i need your help. I am creating a program with MQTT, it must execute commands written on a file and send the result to a topic. I have already managed to execute the command and print the result on the terminal, but when I have to send it via MQTT it creates two messages, is it possible to send a message only with the result? how can I do? thanks I&#39;ll put the code for reading the result of the command executed and the two messages it sends me.\r\n\r\n    String result;\r\n    while ((result=reader.readLine()) != null) {\r\n      System.out.println(result);\r\n      final  MqttTopic timeTopic = client.getTopic(TOPIC);\r\n      timeTopic.publish(new MqttMessage(result.getBytes()));\r\n      System.out.println(&quot; - Published data. Topic: &quot; + timeTopic.getName() + &quot;  Message: &quot; + result);\r\n    }\r\n\r\n\r\n![message][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4XDtc.png","title":"how to send a unique message with MQTT?","body":"<p>i need your help. I am creating a program with MQTT, it must execute commands written on a file and send the result to a topic. I have already managed to execute the command and print the result on the terminal, but when I have to send it via MQTT it creates two messages, is it possible to send a message only with the result? how can I do? thanks I'll put the code for reading the result of the command executed and the two messages it sends me.</p>\n<pre><code>String result;\nwhile ((result=reader.readLine()) != null) {\n  System.out.println(result);\n  final  MqttTopic timeTopic = client.getTopic(TOPIC);\n  timeTopic.publish(new MqttMessage(result.getBytes()));\n  System.out.println(&quot; - Published data. Topic: &quot; + timeTopic.getName() + &quot;  Message: &quot; + result);\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/4XDtc.png\" alt=\"message\" /></p>\n"},{"tags":["java","spring-boot","junit","microservices","junit5"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641123150,"creation_date":1641123150,"answer_id":70555596,"question_id":70555428,"body_markdown":"You can try `OutputCaptureExtension` which will capture all things that are printed out by `System.out` and `System.err`. An example is :\r\n\r\n\r\n```\r\n@ExtendWith(OutputCaptureExtension.class)\r\npublic class MyTest {\r\n\r\n    @Test\r\n    public void theTest(CapturedOutput output) {\r\n        FooService fooService = new FooService();\r\n        fooService.doSomthing();\r\n\r\n        assertThat(output.getOut()).contains(&quot;bar&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIt will then expect that `fooService.doSomthing()` will print out some logging statements which contains the word &quot;bar&quot; to `System.out`","title":"How to write Junit Test case for particular log statement in a particular Method","body":"<p>You can try <code>OutputCaptureExtension</code> which will capture all things that are printed out by <code>System.out</code> and <code>System.err</code>. An example is :</p>\n<pre><code>@ExtendWith(OutputCaptureExtension.class)\npublic class MyTest {\n\n    @Test\n    public void theTest(CapturedOutput output) {\n        FooService fooService = new FooService();\n        fooService.doSomthing();\n\n        assertThat(output.getOut()).contains(&quot;bar&quot;);\n    }\n\n}\n</code></pre>\n<p>It will then expect that <code>fooService.doSomthing()</code> will print out some logging statements which contains the word &quot;bar&quot; to <code>System.out</code></p>\n"}],"owner":{"account_id":11668874,"reputation":1,"user_id":8544690,"display_name":"VastoLorde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641204952,"answer_count":1,"score":0,"last_activity_date":1641123150,"creation_date":1641121381,"question_id":70555428,"body_markdown":"How to write Junit test case for Log statement which is written inside a method in service or controller class.","title":"How to write Junit Test case for particular log statement in a particular Method","body":"<p>How to write Junit test case for Log statement which is written inside a method in service or controller class.</p>\n"},{"tags":["java","spring-boot","enums"],"comments":[{"owner":{"account_id":20397849,"reputation":115,"user_id":14964236,"display_name":"Richard"},"score":0,"creation_date":1641085559,"post_id":70552944,"comment_id":124718192,"body_markdown":"Can you check in the controller that the value is loaded into your map correctly in the `property`? Every value I use in Thymeleaf is loaded into a Map in the controller.","body":"Can you check in the controller that the value is loaded into your map correctly in the <code>property</code>? Every value I use in Thymeleaf is loaded into a Map in the controller."}],"answers":[{"tags":[],"owner":{"account_id":16019624,"reputation":26,"user_id":11561413,"display_name":"yao Mr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641093516,"creation_date":1641093516,"answer_id":70553383,"question_id":70552944,"body_markdown":"that is available for me.\r\n\r\nclass\r\n\r\n    @Setter\r\n    @Getter\r\n    public class Demo {\r\n    \r\n        private RoomType roomType;\r\n    }\r\nenum\r\n\r\n\r\n    public enum RoomType {\r\n    \r\n        GARSONJERA(&quot;garsonjera&quot;), JEDNOIPOSOBAN(&quot;jednoiposoban&quot;), DVOSOBAN(&quot;dvosoban&quot;),\r\n        DVOIPOSOBAN(&quot;dvoiposoban&quot;), TROSOBAN(&quot;trosoban&quot;), TROIPOSOBAN(&quot;troiposoban&quot;),\r\n        CERVOROSOBAN(&quot;cetvorosoban&quot;), CETVOROIPOSOBAN(&quot;cetvoroiposoban&quot;), VISESOBAN(&quot;visesoban&quot;);\r\n    \r\n        private final String roomType;\r\n    \r\n        private RoomType(String roomType) {\r\n            this.roomType = roomType;\r\n        }\r\n    \r\n        public String getRoomType() {\r\n            return this.roomType;\r\n        }\r\n    }\r\ncontroller:\r\n\r\n    @Controller\r\n    @RequestMapping( &quot;test&quot;)\r\n    public class TestController {\r\n    \r\n        @GetMapping(&quot;demo&quot;)\r\n        public String demo(Model model){\r\n            Demo demo = new Demo();\r\n            demo.setRoomType(RoomType.CERVOROSOBAN);\r\n            model.addAttribute(demo);\r\n            return &quot;test/demo&quot;;\r\n        }\r\n    }\r\n\r\nHTML:\r\n\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n        &lt;label for=&quot;rooms&quot;&gt;Rooms&lt;/label&gt;\r\n        &lt;select class=&quot;form-select selectpicker show-tick&quot; th:field=&quot;*{demo.roomType}&quot; id=&quot;rooms&quot;&gt;\r\n            &lt;option value=&quot;&quot;&gt;Nothing selected&lt;/option&gt;\r\n            &lt;option th:each=&quot;value : ${T(com.bluray.boot.business.test.RoomType).values()}&quot;\r\n                    th:value=&quot;${value}&quot;\r\n                    th:text=&quot;${value}&quot;&gt;\r\n            &lt;/option&gt;\r\n        &lt;/select&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\nI use spring-boot 2.3.6.release\r\n","title":"Getting values from enum in thymeleaf","body":"<p>that is available for me.</p>\n<p>class</p>\n<pre><code>@Setter\n@Getter\npublic class Demo {\n\n    private RoomType roomType;\n}\n</code></pre>\n<p>enum</p>\n<pre><code>public enum RoomType {\n\n    GARSONJERA(&quot;garsonjera&quot;), JEDNOIPOSOBAN(&quot;jednoiposoban&quot;), DVOSOBAN(&quot;dvosoban&quot;),\n    DVOIPOSOBAN(&quot;dvoiposoban&quot;), TROSOBAN(&quot;trosoban&quot;), TROIPOSOBAN(&quot;troiposoban&quot;),\n    CERVOROSOBAN(&quot;cetvorosoban&quot;), CETVOROIPOSOBAN(&quot;cetvoroiposoban&quot;), VISESOBAN(&quot;visesoban&quot;);\n\n    private final String roomType;\n\n    private RoomType(String roomType) {\n        this.roomType = roomType;\n    }\n\n    public String getRoomType() {\n        return this.roomType;\n    }\n}\n</code></pre>\n<p>controller:</p>\n<pre><code>@Controller\n@RequestMapping( &quot;test&quot;)\npublic class TestController {\n\n    @GetMapping(&quot;demo&quot;)\n    public String demo(Model model){\n        Demo demo = new Demo();\n        demo.setRoomType(RoomType.CERVOROSOBAN);\n        model.addAttribute(demo);\n        return &quot;test/demo&quot;;\n    }\n}\n</code></pre>\n<p>HTML:</p>\n<pre><code>&lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;rooms&quot;&gt;Rooms&lt;/label&gt;\n    &lt;select class=&quot;form-select selectpicker show-tick&quot; th:field=&quot;*{demo.roomType}&quot; id=&quot;rooms&quot;&gt;\n        &lt;option value=&quot;&quot;&gt;Nothing selected&lt;/option&gt;\n        &lt;option th:each=&quot;value : ${T(com.bluray.boot.business.test.RoomType).values()}&quot;\n                th:value=&quot;${value}&quot;\n                th:text=&quot;${value}&quot;&gt;\n        &lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I use spring-boot 2.3.6.release</p>\n"}],"owner":{"account_id":15917181,"reputation":35,"user_id":11485409,"display_name":"Developer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1670,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70553383,"answer_count":1,"score":2,"last_activity_date":1641122988,"creation_date":1641085051,"question_id":70552944,"body_markdown":"I&#39;m using enum for select options in thymeleaf and I can&#39;t see them or insert them in the database. There is nothing in the dropdown list.\r\n[![enter image description here][1]][1]\r\n\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n         &lt;label for=&quot;roomType&quot;&gt;Rooms&lt;/label&gt;\r\n         &lt;select class=&quot;form-select selectpicker show-tick&quot; th:field=&quot;*{property.roomType}&quot; id=&quot;rooms&quot;&gt;\r\n              &lt;option value=&quot;&quot;&gt;Nothing selected&lt;/option&gt;\r\n              &lt;option th:each=&quot;property.roomType : ${T(com.realestate.petfriendly.entity.RoomType).values()}&quot;\r\n                      th:value=&quot;${property.roomType}&quot;\r\n                      th:text=&quot;${property.roomType}&quot;&gt;\r\n              &lt;/option&gt;\r\n         &lt;/select&gt;\r\n     &lt;/div&gt;\r\n\r\n\r\nclass\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;RoomType&quot;)\r\n    private RoomType roomType;\r\n\r\nand enum\r\n\r\n    public enum RoomType {\r\n            \r\n        GARSONJERA(&quot;garsonjera&quot;), JEDNOIPOSOBAN(&quot;jednoiposoban&quot;), DVOSOBAN(&quot;dvosoban&quot;),\r\n        DVOIPOSOBAN(&quot;dvoiposoban&quot;), TROSOBAN(&quot;trosoban&quot;), TROIPOSOBAN(&quot;troiposoban&quot;),\r\n        CERVOROSOBAN(&quot;cetvorosoban&quot;), CETVOROIPOSOBAN(&quot;cetvoroiposoban&quot;), VISESOBAN(&quot;visesoban&quot;);\r\n    \r\n        private String roomType;\r\n    \r\n        private RoomType(String roomType) {\r\n            this.roomType = roomType;\r\n        }\r\n    \r\n        public String getRoomType() {\r\n            return this.roomType;\r\n        }\r\n}\r\n\r\nI&#39;m not sure why it doesn&#39;t show me anything\r\n\r\n  [1]: https://i.stack.imgur.com/FnepZ.jpg","title":"Getting values from enum in thymeleaf","body":"<p>I'm using enum for select options in thymeleaf and I can't see them or insert them in the database. There is nothing in the dropdown list.\n<a href=\"https://i.stack.imgur.com/FnepZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FnepZ.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;div class=&quot;form-group&quot;&gt;\n     &lt;label for=&quot;roomType&quot;&gt;Rooms&lt;/label&gt;\n     &lt;select class=&quot;form-select selectpicker show-tick&quot; th:field=&quot;*{property.roomType}&quot; id=&quot;rooms&quot;&gt;\n          &lt;option value=&quot;&quot;&gt;Nothing selected&lt;/option&gt;\n          &lt;option th:each=&quot;property.roomType : ${T(com.realestate.petfriendly.entity.RoomType).values()}&quot;\n                  th:value=&quot;${property.roomType}&quot;\n                  th:text=&quot;${property.roomType}&quot;&gt;\n          &lt;/option&gt;\n     &lt;/select&gt;\n &lt;/div&gt;\n</code></pre>\n<p>class</p>\n<pre><code>@Enumerated(EnumType.STRING)\n@Column(name = &quot;RoomType&quot;)\nprivate RoomType roomType;\n</code></pre>\n<p>and enum</p>\n<pre><code>public enum RoomType {\n        \n    GARSONJERA(&quot;garsonjera&quot;), JEDNOIPOSOBAN(&quot;jednoiposoban&quot;), DVOSOBAN(&quot;dvosoban&quot;),\n    DVOIPOSOBAN(&quot;dvoiposoban&quot;), TROSOBAN(&quot;trosoban&quot;), TROIPOSOBAN(&quot;troiposoban&quot;),\n    CERVOROSOBAN(&quot;cetvorosoban&quot;), CETVOROIPOSOBAN(&quot;cetvoroiposoban&quot;), VISESOBAN(&quot;visesoban&quot;);\n\n    private String roomType;\n\n    private RoomType(String roomType) {\n        this.roomType = roomType;\n    }\n\n    public String getRoomType() {\n        return this.roomType;\n    }\n</code></pre>\n<p>}</p>\n<p>I'm not sure why it doesn't show me anything</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1641003332,"post_id":70546597,"comment_id":124706764,"body_markdown":"It depends.  It might as simple as declaring a field (a variable) in the enclosing class and assigning `item` to it.  I recommend that you find / read a tutorial on writing Android apps.","body":"It depends.  It might as simple as declaring a field (a variable) in the enclosing class and assigning <code>item</code> to it.  I recommend that you find / read a tutorial on writing Android apps."},{"owner":{"account_id":21977207,"reputation":57,"user_id":16252850,"display_name":"Carl"},"score":0,"creation_date":1641003416,"post_id":70546597,"comment_id":124706775,"body_markdown":"I am trying to fin a way to store this value of yes, then it must show some result in the next activity.","body":"I am trying to fin a way to store this value of yes, then it must show some result in the next activity."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1641003622,"post_id":70546597,"comment_id":124706787,"body_markdown":"So ... explain clearly what you are trying to do **in the question**.  Use the **edit** button.","body":"So ... explain clearly what you are trying to do <b>in the question</b>.  Use the <b>edit</b> button."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1641003819,"post_id":70546597,"comment_id":124706802,"body_markdown":"But I suspect that this is just a duplicate of (for example) https://stackoverflow.com/questions/2091465.","body":"But I suspect that this is just a duplicate of (for example) <a href=\"https://stackoverflow.com/questions/2091465\">stackoverflow.com/questions/2091465</a>."},{"owner":{"account_id":21977207,"reputation":57,"user_id":16252850,"display_name":"Carl"},"score":0,"creation_date":1641003859,"post_id":70546597,"comment_id":124706805,"body_markdown":"Unfortunately I&#39;m not being able to edit it one more time... Can you give me a hint so I can google more? I did a dropdown menu asking a question, what I&#39;m trying to do is when I choose yes, a specific answer shows in the next activity.","body":"Unfortunately I&#39;m not being able to edit it one more time... Can you give me a hint so I can google more? I did a dropdown menu asking a question, what I&#39;m trying to do is when I choose yes, a specific answer shows in the next activity."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1641003901,"post_id":70546597,"comment_id":124706808,"body_markdown":"Why are you not able to edit it?  Can&#39;t you find the edit link???  See the line of tags?  See the line under that?  See the grey &quot;Edit&quot; ?","body":"Why are you not able to edit it?  Can&#39;t you find the edit link???  See the line of tags?  See the line under that?  See the grey &quot;Edit&quot; ?"},{"owner":{"account_id":21977207,"reputation":57,"user_id":16252850,"display_name":"Carl"},"score":0,"creation_date":1641003983,"post_id":70546597,"comment_id":124706813,"body_markdown":"It only show me this!\n\nApprove, reject, or improve this suggested edit.","body":"It only show me this!  Approve, reject, or improve this suggested edit."},{"owner":{"account_id":21977207,"reputation":57,"user_id":16252850,"display_name":"Carl"},"score":0,"creation_date":1641005523,"post_id":70546597,"comment_id":124706941,"body_markdown":"Sir in my case I would like to to ask a question and have a dropmenu with yes or no. If I choose yes then a result show in other activity. Can you give me a hint on what to google? Thank you!","body":"Sir in my case I would like to to ask a question and have a dropmenu with yes or no. If I choose yes then a result show in other activity. Can you give me a hint on what to google? Thank you!"},{"owner":{"account_id":21977207,"reputation":57,"user_id":16252850,"display_name":"Carl"},"score":0,"creation_date":1641006087,"post_id":70546597,"comment_id":124706992,"body_markdown":"Should I declare that yes is equal to something?\nI want to show the result that comes from the answer yes.","body":"Should I declare that yes is equal to something? I want to show the result that comes from the answer yes."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1641006220,"post_id":70546597,"comment_id":124707000,"body_markdown":"Maybe.  I&#39;m not understanding what you are saying.  I think you would be better off reading a tutorial on Java programming and another on writing Android apps in Java.  StackOverflow is NOT a tutoring / teaching service.","body":"Maybe.  I&#39;m not understanding what you are saying.  I think you would be better off reading a tutorial on Java programming and another on writing Android apps in Java.  StackOverflow is NOT a tutoring / teaching service."},{"owner":{"account_id":21977207,"reputation":57,"user_id":16252850,"display_name":"Carl"},"score":0,"creation_date":1641006408,"post_id":70546597,"comment_id":124707011,"body_markdown":"Im sorry for being kind of ignorant... WHat I meant is, there is a dropdown and has question like what is the month you born? If the user choose January then a result comes in the next activity like you are capricorn. Thanks for replying.","body":"Im sorry for being kind of ignorant... WHat I meant is, there is a dropdown and has question like what is the month you born? If the user choose January then a result comes in the next activity like you are capricorn. Thanks for replying."},{"owner":{"account_id":15431364,"reputation":770,"user_id":11132702,"display_name":"private static"},"score":1,"creation_date":1641026792,"post_id":70546597,"comment_id":124708641,"body_markdown":"Try the answers in the link in Stephen&#39;s comment. That&#39;s how you pass data. Otherwise, add more info to the question.","body":"Try the answers in the link in Stephen&#39;s comment. That&#39;s how you pass data. Otherwise, add more info to the question."},{"owner":{"account_id":21977207,"reputation":57,"user_id":16252850,"display_name":"Carl"},"score":0,"creation_date":1641054469,"post_id":70546597,"comment_id":124712947,"body_markdown":"Thank you I edited, hopefuly it comes with an answer :)","body":"Thank you I edited, hopefuly it comes with an answer :)"}],"owner":{"account_id":21977207,"reputation":57,"user_id":16252850,"display_name":"Carl"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641121915,"creation_date":1641001257,"question_id":70546597,"body_markdown":"    String[] items =  {&quot;Yes&quot;,&quot;No&quot;};\r\n    \r\n    @Override\r\n      public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n      String item = parent.getItemAtPosition(position).toString();\r\n      Toast.makeText(getApplicationContext(),&quot;Item: &quot;+item,Toast.LENGTH_SHORT).show(); }\r\n\r\nHow to display a result in next activity? \r\nI want to make a drop-down and if I choose yes, a result must show when I press confirm. ","title":"How to display a result in the other activity?","body":"<pre><code>String[] items =  {&quot;Yes&quot;,&quot;No&quot;};\n\n@Override\n  public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n  String item = parent.getItemAtPosition(position).toString();\n  Toast.makeText(getApplicationContext(),&quot;Item: &quot;+item,Toast.LENGTH_SHORT).show(); }\n</code></pre>\n<p>How to display a result in next activity?\nI want to make a drop-down and if I choose yes, a result must show when I press confirm.</p>\n"},{"tags":["java","null","doubly-linked-list"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":2,"creation_date":1641120230,"post_id":70555277,"comment_id":124722163,"body_markdown":"Maybe it helps garbage collector determine whether that allocated memory is to be freed, but not sure.","body":"Maybe it helps garbage collector determine whether that allocated memory is to be freed, but not sure."},{"owner":{"account_id":3597514,"reputation":117142,"user_id":3001761,"display_name":"jonrsharpe"},"score":1,"creation_date":1641120313,"post_id":70555277,"comment_id":124722170,"body_markdown":"Exactly that, without it you have a memory leak.","body":"Exactly that, without it you have a memory leak."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1641121139,"post_id":70555277,"comment_id":124722312,"body_markdown":"@jonrsharpe Only if something else holds a reference to the node in question, otherwise GC will find a remove it anyway.","body":"@jonrsharpe Only if something else holds a reference to the node in question, otherwise GC will find a remove it anyway."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641120797,"creation_date":1641120402,"answer_id":70555329,"question_id":70555277,"body_markdown":"To be entirely clear: `new Node()` would initialize the node fields `left` and `right` with `null`.\r\n\r\nThat `remove` sets all fields of the removed `foundNode` to `null` is a **misguided** attempt to _optimize_ garbage collection.\r\n\r\nYou do not create lingering objects (other removed nodes), no memory leak. As a garbage collector can deal with collections of unreachable objects.\r\n\r\nMind: for other languages this might not hold.","title":"The reason why the member variable of the node to be deleted from the doubly linked list should be initialized to null","body":"<p>To be entirely clear: <code>new Node()</code> would initialize the node fields <code>left</code> and <code>right</code> with <code>null</code>.</p>\n<p>That <code>remove</code> sets all fields of the removed <code>foundNode</code> to <code>null</code> is a <strong>misguided</strong> attempt to <em>optimize</em> garbage collection.</p>\n<p>You do not create lingering objects (other removed nodes), no memory leak. As a garbage collector can deal with collections of unreachable objects.</p>\n<p>Mind: for other languages this might not hold.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641121859,"creation_date":1641121859,"answer_id":70555476,"question_id":70555277,"body_markdown":"In &quot;normal&quot; circumstances the three last assignments with `null` are not needed. When the function completes, its local variables are deallocated, and so there will usually not be any reference to the node that was referenced by `foundNode`.\r\n\r\nHowever, it could be that in other code -- not part of this function -- there is still a variable that references that node, and then it is not that bad to indicate that this node is no longer part of a (longer) list. By setting `left` and `right` to `null`, the following invariant is maintained for every `node`:\r\n\r\n1. Either `node.left == null`, or\r\n2. `node.left.right == node`\r\n\r\n...and similarly:\r\n\r\n1. Either `node.right == null`, or\r\n2. `node.right.left == node`\r\n\r\nIf we do not set `foundNode.left = null`, then the above invariant is not restored, and this could be an issue if there is still a reference to `foundNode` outside of the function&#39;s execution context.\r\n\r\nAs to `foundNode.data = null`: that should not really be necessary. If the node referenced by `foundNode` is not referenced elsewhere, then `foundNode` can be garbage collected. And if there is also no other reference to its data, then also that data can be garbage collected. Setting this property to `null` does not really change that process. Secondly, if we consider the case where there still might be a reference to this node, then `null` might be data that is *actually* meaningful in the overall algorithm, so setting it to `null` is not guaranteed to mark it in an unambiguous way as a &quot;deleted&quot; node. \r\n\r\n","title":"The reason why the member variable of the node to be deleted from the doubly linked list should be initialized to null","body":"<p>In &quot;normal&quot; circumstances the three last assignments with <code>null</code> are not needed. When the function completes, its local variables are deallocated, and so there will usually not be any reference to the node that was referenced by <code>foundNode</code>.</p>\n<p>However, it could be that in other code -- not part of this function -- there is still a variable that references that node, and then it is not that bad to indicate that this node is no longer part of a (longer) list. By setting <code>left</code> and <code>right</code> to <code>null</code>, the following invariant is maintained for every <code>node</code>:</p>\n<ol>\n<li>Either <code>node.left == null</code>, or</li>\n<li><code>node.left.right == node</code></li>\n</ol>\n<p>...and similarly:</p>\n<ol>\n<li>Either <code>node.right == null</code>, or</li>\n<li><code>node.right.left == node</code></li>\n</ol>\n<p>If we do not set <code>foundNode.left = null</code>, then the above invariant is not restored, and this could be an issue if there is still a reference to <code>foundNode</code> outside of the function's execution context.</p>\n<p>As to <code>foundNode.data = null</code>: that should not really be necessary. If the node referenced by <code>foundNode</code> is not referenced elsewhere, then <code>foundNode</code> can be garbage collected. And if there is also no other reference to its data, then also that data can be garbage collected. Setting this property to <code>null</code> does not really change that process. Secondly, if we consider the case where there still might be a reference to this node, then <code>null</code> might be data that is <em>actually</em> meaningful in the overall algorithm, so setting it to <code>null</code> is not guaranteed to mark it in an unambiguous way as a &quot;deleted&quot; node.</p>\n"}],"owner":{"display_name":"user9178840"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70555476,"answer_count":2,"score":0,"last_activity_date":1641121859,"creation_date":1641119854,"question_id":70555277,"body_markdown":"```\r\npublic class Node&lt;E&gt; {\r\n    E data;\r\n    Node&lt;E&gt; left;\r\n    Node&lt;E&gt; right;\r\n}\r\n```\r\nThe code below deletes a node at a specific index from a doubly linked list. At the end of the code, left, right, and data of the node to be deleted must all be initialized to null. Is this a necessary process? What can happen if you don&#39;t initialize to null\r\n\r\n\r\n    public void remove(int index) {\r\n\r\n        Node foundNode = findNode(index);\r\n        Node leftNode = foundNode.left;\r\n        Node rightNode = foundNode.right;\r\n\r\n        leftNode.right = rightNode;\r\n        rightNode.left = leftNode;\r\n\r\n        foundNode.left = null;\r\n        foundNode.right = null;\r\n        foundNode.data = null;\r\n\r\n        --size;\r\n    }\r\n","title":"The reason why the member variable of the node to be deleted from the doubly linked list should be initialized to null","body":"<pre><code>public class Node&lt;E&gt; {\n    E data;\n    Node&lt;E&gt; left;\n    Node&lt;E&gt; right;\n}\n</code></pre>\n<p>The code below deletes a node at a specific index from a doubly linked list. At the end of the code, left, right, and data of the node to be deleted must all be initialized to null. Is this a necessary process? What can happen if you don't initialize to null</p>\n<pre><code>public void remove(int index) {\n\n    Node foundNode = findNode(index);\n    Node leftNode = foundNode.left;\n    Node rightNode = foundNode.right;\n\n    leftNode.right = rightNode;\n    rightNode.left = leftNode;\n\n    foundNode.left = null;\n    foundNode.right = null;\n    foundNode.data = null;\n\n    --size;\n}\n</code></pre>\n"},{"tags":["java","concurrenthashmap"],"owner":{"account_id":12563243,"reputation":11,"user_id":9140128,"display_name":"zhangzhitong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641121846,"creation_date":1641121846,"question_id":70555474,"body_markdown":"     if (i &lt; 0 || i &gt;= n || i + n &gt;= nextn) {\r\n                int sc;\r\n                if (finishing) {\r\n                    nextTable = null;\r\n                    table = nextTab;\r\n                    sizeCtl = (n &lt;&lt; 1) - (n &gt;&gt;&gt; 1);\r\n                    return;\r\n                }\r\n                if (U.compareAndSwapInt(this, SIZECTL, sc = sizeCtl, sc - 1)) {\r\n                    if ((sc - 2) != resizeStamp(n) &lt;&lt; RESIZE_STAMP_SHIFT)\r\n                        return;\r\n                    finishing = advance = true;\r\n                    i = n; // recheck before commit\r\n                }\r\n            }\r\nHow to ensure no conflict in ： sizeCtl = (n &lt;&lt; 1) - (n &gt;&gt;&gt; 1); and U.compareAndSwapInt(this, SIZECTL, sc = sizeCtl, sc - 1)；\r\n\r\nfor example ： 2 thread into this fucntion, and one thread has finished and set sizeCtl = (n &lt;&lt; 1) - (n &gt;&gt;&gt; 1);\r\nanother thread executed the U.compareAndSwapInt(this, SIZECTL, sc = sizeCtl, sc - 1) successed,so the sizeCtl = (n &lt;&lt; 1) - (n &gt;&gt;&gt; 1) -1? and not equal 0.75 * 2n。in otehr words,sizeCtl Not necessarily equal to 0.75 * n？","title":"ConcurrentHasMap how to Avoid conflict to modify the sizeCtl in the function of transfer","body":"<pre><code> if (i &lt; 0 || i &gt;= n || i + n &gt;= nextn) {\n            int sc;\n            if (finishing) {\n                nextTable = null;\n                table = nextTab;\n                sizeCtl = (n &lt;&lt; 1) - (n &gt;&gt;&gt; 1);\n                return;\n            }\n            if (U.compareAndSwapInt(this, SIZECTL, sc = sizeCtl, sc - 1)) {\n                if ((sc - 2) != resizeStamp(n) &lt;&lt; RESIZE_STAMP_SHIFT)\n                    return;\n                finishing = advance = true;\n                i = n; // recheck before commit\n            }\n        }\n</code></pre>\n<p>How to ensure no conflict in ： sizeCtl = (n &lt;&lt; 1) - (n &gt;&gt;&gt; 1); and U.compareAndSwapInt(this, SIZECTL, sc = sizeCtl, sc - 1)；</p>\n<p>for example ： 2 thread into this fucntion, and one thread has finished and set sizeCtl = (n &lt;&lt; 1) - (n &gt;&gt;&gt; 1);\nanother thread executed the U.compareAndSwapInt(this, SIZECTL, sc = sizeCtl, sc - 1) successed,so the sizeCtl = (n &lt;&lt; 1) - (n &gt;&gt;&gt; 1) -1? and not equal 0.75 * 2n。in otehr words,sizeCtl Not necessarily equal to 0.75 * n？</p>\n"},{"tags":["java","maven","github","pom.xml","jnativehook"],"answers":[{"tags":[],"owner":{"account_id":2180302,"reputation":3139,"user_id":1929959,"accept_rate":0,"display_name":"Mihai8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641121403,"creation_date":1641121403,"answer_id":70555432,"question_id":70555285,"body_markdown":"Just try to synchronize you project. \r\n\r\nI add an imagine where can be seen that dependencies is load correctly.[![enter image description here][1]][1].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D2CEL.png","title":"Maven doesn&#39;t compile the project with jNativeHook from Github","body":"<p>Just try to synchronize you project.</p>\n<p>I add an imagine where can be seen that dependencies is load correctly.<a href=\"https://i.stack.imgur.com/D2CEL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D2CEL.png\" alt=\"enter image description here\" /></a>.</p>\n"}],"owner":{"account_id":15575376,"reputation":1,"user_id":11236633,"display_name":"awayneff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641121403,"creation_date":1641119931,"question_id":70555285,"body_markdown":"I have added Jitpack repo and dependency from Github to pom.xml and it still doesn&#39;t compile. However, when I point onto the line in import block, it clearly shows the description of a module.\r\n[VSCode screenshot][1] \r\n\r\nFor example, I try to import com.github.kwhat.jnativehook.GlobalScreen, it shows the description of the module but still underlines the line with red and shows the error:\r\n\r\n *The type com.github.kwhat.jnativehook.GlobalScreen is not accessible Java(16778666)*\r\n\r\nWhat could be the problem?\r\n\r\n\r\nHere&#39;s a part of **pom.xml**\r\n\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jitpack.io&lt;/id&gt;\r\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.kwhat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jnativehook&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    &lt;/dependencies&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jatsO.png","title":"Maven doesn&#39;t compile the project with jNativeHook from Github","body":"<p>I have added Jitpack repo and dependency from Github to pom.xml and it still doesn't compile. However, when I point onto the line in import block, it clearly shows the description of a module.\n<a href=\"https://i.stack.imgur.com/jatsO.png\" rel=\"nofollow noreferrer\">VSCode screenshot</a></p>\n<p>For example, I try to import com.github.kwhat.jnativehook.GlobalScreen, it shows the description of the module but still underlines the line with red and shows the error:</p>\n<p><em>The type com.github.kwhat.jnativehook.GlobalScreen is not accessible Java(16778666)</em></p>\n<p>What could be the problem?</p>\n<p>Here's a part of <strong>pom.xml</strong></p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jitpack.io&lt;/id&gt;\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n        &lt;version&gt;13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.kwhat&lt;/groupId&gt;\n        &lt;artifactId&gt;jnativehook&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","multithreading","performance","concurrency"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1641039649,"post_id":70548808,"comment_id":124710439,"body_markdown":"`CopyOnWriteArrayList` is slow for _all_ mutative operations as it requires a full copy every time.","body":"<code>CopyOnWriteArrayList</code> is slow for <i>all</i> mutative operations as it requires a full copy every time."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1641041656,"post_id":70548808,"comment_id":124710715,"body_markdown":"The thing I think you&#39;re misunderstanding is that CopyOnWriteArrayList is safe when accessed concurrently, but only for each atomic action. Calling size() and remove(...) are two separate actions, which are not invoked atomically. For this to work, you need to do ensure that no other thread can interleave with those two method calls.","body":"The thing I think you&#39;re misunderstanding is that CopyOnWriteArrayList is safe when accessed concurrently, but only for each atomic action. Calling size() and remove(...) are two separate actions, which are not invoked atomically. For this to work, you need to do ensure that no other thread can interleave with those two method calls."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1641041768,"post_id":70548808,"comment_id":124710735,"body_markdown":"(Actually, you&#39;re invoking 3 actions non-atomically - two calls to size, which may return different values; and a call to remove).","body":"(Actually, you&#39;re invoking 3 actions non-atomically - two calls to size, which may return different values; and a call to remove)."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1641042353,"post_id":70548808,"comment_id":124710824,"body_markdown":"@andyturner I was wondering, but haven’t had a chance to check, whether a subclass can grab a reference to the “current” list reference - such that subsequent writes will be irrelevant. (Would obviously have other problems, but not the ones described here)","body":"@andyturner I was wondering, but haven’t had a chance to check, whether a subclass can grab a reference to the “current” list reference - such that subsequent writes will be irrelevant. (Would obviously have other problems, but not the ones described here)"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1641045027,"post_id":70548808,"comment_id":124711248,"body_markdown":"@Frank  Yang: can you add some information on what you are trying to do. Maybe there is no need for a CopyOnWriteArrayList at all. A very simple structure that allows for concurrent writers and readers is either some form of Queue or a (Concurrent)Map.","body":"@Frank  Yang: can you add some information on what you are trying to do. Maybe there is no need for a CopyOnWriteArrayList at all. A very simple structure that allows for concurrent writers and readers is either some form of Queue or a (Concurrent)Map."},{"owner":{"account_id":20261253,"reputation":373,"user_id":14859549,"display_name":"Frank Yang"},"score":0,"creation_date":1641121034,"post_id":70548808,"comment_id":124722293,"body_markdown":"@pveentjer I actually want to poll elements randomly, not in the insertion order. So a ConcurrentLinkedQueue or something similar does not meet my need.  May be a set from a ConcurrentHashMap can do this?  Since the order of a hashmap is random. Thanks :)","body":"@pveentjer I actually want to poll elements randomly, not in the insertion order. So a ConcurrentLinkedQueue or something similar does not meet my need.  May be a set from a ConcurrentHashMap can do this?  Since the order of a hashmap is random. Thanks :)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641042597,"creation_date":1641042597,"answer_id":70549080,"question_id":70548808,"body_markdown":"COW list works as follows:\r\n\r\n* It has a single relevant field, which is `Object[]`, containing the elements in the list.\r\n* Any call that mutates (so, `clear`, `add`, `addAll`, `remove`, etcetera) will __copy that inner array__, apply the mutation to the copy, then it sets its field to this new array. Given how java works, the &#39;old&#39; array still exists, that field is just a pointer.\r\n* Notably any iterators (`for (Foo f : theCowList)` is one way to make one) copy over the &#39;pointer&#39;, which means any existing iterators just keep on truckin&#39;. They won&#39;t cover whatever you added. They will cover whatever you removed - an iterator made from a cowList will iterate through all elements as there were when you made the iterator regardless of any mutations you perform afterwards. __That is the &#39;point&#39; of a COWList__. If you don&#39;t need that functionality it is exceedingly unlikely that COWList is the right type for you.\r\n\r\nCOWList by its nature is atomic and safe for any single call. However, your operation is three calls: `size()` and then `indexOf` and `size()` again. __There is no guarantee of atomicity here. Your concern is valid__.\r\n\r\n## General mindset update\r\n\r\nWhat you&#39;re doing is so-called &#39;check-then-act&#39;: You check the state of the object (is it empty?), and then you decide how to act.\r\n\r\n__This is the wrong way to go about it in concurrency land__. The proper model is act-then-check: You assume fair weather, perform your action, and then react to invalid state afterwards. This also means it is __required__ for the &#39;act&#39; part to do the checking intrinsically. If no such intrinsic operation is available, __neither model works__, and that is the point: In such a case you must find a way to inject synchronization, or the operation is __impossible__ to do safely in a concurrent operation. Example: &quot;Add an element if it is not already in the list&quot; is __impossible__ in a concurrent fashion in a plain jane `ArrayList`.\r\n\r\nA second important realization when working with concurrency is that if you want to shift the concurrency checking to the object itself, then __the only way__ to interact with that object that is safe is __single__ calls. You are making 3 calls. No good. You get just the one.\r\n\r\nHere&#39;s an example of a different operation that _could_ work here: Let&#39;s say you have a method that removes the first item from your list, throwing `NSElemEx` if the list is empty.\r\n\r\nYour &#39;style&#39; would write this:\r\n\r\n```java\r\npublic E pollFirst() {\r\n  // This code is wrong! do not use!\r\n  if (isEmpty()) throw new NoSuchElementException();\r\n  return remove(0);\r\n}\r\n```\r\n\r\nThis is wrong - you&#39;re mixed up 2 calls. You only get one. This is the right way:\r\n\r\n```java\r\npublic E pollFirst() {\r\n  try {\r\n    return remove(0);\r\n  } catch (ArrayIndexOutOfBoundsException e) {\r\n    throw new NoSuchElementException();\r\n  }\r\n}\r\n```\r\n\r\nNote how we first act, assuming fair weather: We just remove the 0th element, not knowing if there is even such an element in the first place. If this fails, we react to the failure (if you call `remove(0)` on an empty COWList, an ArrayIndexOutOfBoundsException falls out, we react to that here).\r\n\r\n## So how do we do it?\r\n\r\nThe unfortunate answer is, __not possible__ - COWList doesn&#39;t have a single call that does what you want, thus, you&#39;re dead in the water. `COWList` promises certain concurrency safeties; to do this, it has a package private (so you can&#39;t see it!) field called `lock`. Operations such as `remove(int index)` acquire this lock and thus will cause any threads to e.g. also call `remove` to freeze until the first thread is done.\r\n\r\n__You cannot use this lock__. This causes all sorts of problems. We&#39;re just stuck at this point, and we need to first go back and correct a bunch of style errors you&#39;ve committed.\r\n\r\n## Prefer composition over inheritance\r\n\r\nYou&#39;ve decided to extend COWList. That means you&#39;re saying that any instance of your object acts in all ways like a COWList and offers additional features on top of that. The problem is, COWList and what you want are at odds. In particular, in order to befit the idea of &#39;you are a COWList with bolted on extras&#39;, you&#39;d need to copy its locking behaviour: Your operation of grabbing a random element requires locking out other threads because COWList as an impl simply doesn&#39;t offer the API you&#39;d need to do it without a lock, but you can&#39;t actually see the lock, which means you just can&#39;t do this.\r\n\r\nThe real problem, though, is that you really _do not_ want to be &#39;a COWList with additional functionality&#39;. That as a concept is rarely a good idea: COWList is already a complex beast, thus anything that is by definition &#39;a COWList with addons&#39; is even more complicated. Forget COWList, what you want is much simpler: A datastructure to which you can add things concurrently and grab (concurrency-safe) random elements from it. That&#39;s all you want. Why bring COWList&#39;s rules into it? You&#39;re using COWlist here because it&#39;s convenient - most of the work is done for you. That&#39;s great, but, don&#39;t &#39;expose&#39; that. Keep implementation details internalized. Thus, write it like so:\r\n\r\n```\r\npublic class SomeList&lt;E&gt; extends AbstractList&lt;E&gt; {\r\n  private final CopyOnWriteArrayList&lt;E&gt; list = new CopyOnWriteArrayList&lt;E&gt;();\r\n}\r\n```\r\n\r\nHere you just adopt the rules of `List` itself, but given that your type is named `SomeList`, I assume you intentionally want that. The mental &#39;load&#39; of what AbstractList enforces is vastly simpler than what COWList enforces. Now you merely implement all methods you need to, usually as one-liners that just farm out the work to your COWList.\r\n\r\nNow we&#39;re at least closer to doing it right: You can now make your own lock object or just define in the docs that all operations synchronize on the `SomeList` instance itself (which means you just add the `synchronized` keyword to every method - that&#39;s shorthand for wrapping the entire method body in `synchronized (this) { body-goes-here }`.\r\n\r\nSticking a field in a class and implementing many methods as one-liners that just invoke a similar method on said field is called __composition__, vs adding an `extends` clause and letting it serve as implementation for most of the methods you intend to expose, which is called __inheritance__. Prefer composition over inheritance.\r\n\r\nNow that you&#39;re taking care of the synchronizing on your own, there is absolutely no need for COWList anymore. That inner list can just become a plain jane `ArrayList`. Much more efficient.\r\n\r\n## Efficiency\r\n\r\n&quot;Just synchronize on all the things&quot; is a bit of a cop-out. `synchronized (x) { ... }` simply means that only one thread can be in such a block for any given x. Just &#39;blocking&#39; threads is the easy way out. A really cool datastructure would do some or all of the work without holding the lock. Separately, &#39;remove item from the middle of a large arraylist&#39; is a slow operation (because all elements that follow must be copied over to one slot earlier; arraylist fundamentally works as a continuous set of elements, hence why removing one in the middle is so pricey).\r\n\r\nThus, even the &#39;fixed&#39; case of using composition over inheritance is quite inefficient: It uses locks (ouch), and removes elements from the middle of arraylists (double ouch).\r\n\r\nMaking concurrency-safe data structures that are still fast require three things:\r\n\r\n[1] It is quite an artform. You need to come up with very creative ideas.\r\n\r\n[2] It&#39;s trade-offs, so be sure to be _very specific_ in what you data structure can and cannot do. You often end up with datastructures that take up (way) more space in memory in order to allow lock-free access. Also often seemingly simple operations such as &#39;how many elements are in you&#39; are impossible to efficiently answer, so don&#39;t offer that functionality. There&#39;s a reason the `java.util.concurrent` package has so many classes in it: There is no god-class that can do it all and do it efficiently in both memory, CPU, and lock aspects.\r\n\r\n[3] Be clear in the difference between &#39;trends&#39; and &#39;guarantees&#39;. For example, it&#39;s much easier to write a fast, efficient system that can give you (and remove) a random element from a humongous list of elements that &#39;trends towards&#39; picking fairly from the bunch, vs. one that __guarantees__ that it is exactly uniformly randomly chosen every time.\r\n\r\nPart of the art is to know when you can make do with a trend instead of a guarantee, usually orders-of-magnitude speedups lie in such realizations.\r\n\r\nHere are some ideas on how to make hypothetically really fast ones:\r\n\r\n### Do you add everything, and then you &#39;switch the mode&#39; and never add another element again, instead only removing from there on out?\r\n\r\nIf that&#39;s the case, a much faster idea:\r\n\r\nHave one object that is &#39;modal&#39;. It starts out with just having an `add` method (and possibly `addAll`). Nothing else. Not even `.get` (don&#39;t add API you don&#39;t need, it only limits your flexibility when trying to optimize things!). It doesn&#39;t even promise concurrency-safe behaviour (calling `add` from 2 threads simultaneously will fail disastrously at times). When &#39;done&#39;, you call a `build()` method. This returns a __new__ object that ONLY has `poll()` method that returns an arbitrary element in a concurrency-safe fashion.\r\n\r\nIf that&#39;s your API you can write it _very_ efficiency and __entirely__ lock free!\r\n\r\nYour builder is just a really simple class that contains a plain jane arraylist and fills it:\r\n\r\n```\r\nclass RandomPollerBuilder&lt;E&gt; {\r\n  private final ArrayList&lt;E&gt; data = new ArrayList&lt;E&gt;();\r\n  private boolean open = true;\r\n\r\n  public void add(E elem) {\r\n    if (!open) throw new IllegalStateException();\r\n    data.add(elem);\r\n  }\r\n\r\n  public RandomPoller&lt;E&gt; build() {\r\n    open = false;\r\n    data.trimToSize();\r\n    Collection.shuffle(data);\r\n    return new RandomPoller&lt;E&gt;(data);\r\n  }\r\n}\r\n```\r\n\r\nThe random poller then looks something like:\r\n\r\n```java\r\npublic class RandomPoller&lt;E&gt; {\r\n  private final AtomicInteger pos;\r\n  private final List&lt;E&gt; input;\r\n\r\n  RandomPoller&lt;E&gt;(List&lt;E&gt; input) {\r\n    this.input = input;\r\n    this.pos = new AtomicInteger(input.size());\r\n  }\r\n\r\n  public E poll() {\r\n    int idx = pos.decrementAndGet();\r\n    if (idx &gt;= 0) return input.get(idx);\r\n    pos.incrementAndGet();\r\n    throw new NoSuchElementException();\r\n  }\r\n\r\n  public int size() {\r\n    return Math.max(0, pos.get());\r\n  }\r\n}\r\n```\r\n\r\nHere we combine a boatload of properties:\r\n\r\n* We don&#39;t remove at all. Removal tends to be slow, if we can avoid it, why not?\r\n* We rely on AtomicInteger which gives us a way to guarantee a strict and complete ordering in a concurrent environment in a way that is considerably faster than locks.\r\n* We reduced the implementation to just the bits you really need. Every method is painful to write. I included a `size()` method to show this: The way the `poll` algorithm works is that it increments 0 to -1 or even worse (if multiple threads all simultaneously attempt to `poll()` an empty poller, that atomicinteger can go lower than -1, but eventually it gets back to 0, so no risk of &#39;rolling over&#39; our atomic integer as no system is going to have 2 billion threads). We need to guard against this in our `size()` method.\r\n* It also means: If you don&#39;t particularly need the efficiency, then don&#39;t bother with any of this and make globally locking data structures. The cop-out is easy and works (it&#39;s just not efficient). Testing concurrency is extremely difficult (because things merely _could_ go wrong in the right circumstance, they aren&#39;t guaranteed to. In tests you WANT broken code to actually fail, and therein lies the rub. That&#39;s virtually impossible to do!) - so don&#39;t go there unless you absolutely know what you are doing and you&#39;re sure you need it.\r\n","title":"Getting random elements from a list while another thread is mutating it","body":"<p>COW list works as follows:</p>\n<ul>\n<li>It has a single relevant field, which is <code>Object[]</code>, containing the elements in the list.</li>\n<li>Any call that mutates (so, <code>clear</code>, <code>add</code>, <code>addAll</code>, <code>remove</code>, etcetera) will <strong>copy that inner array</strong>, apply the mutation to the copy, then it sets its field to this new array. Given how java works, the 'old' array still exists, that field is just a pointer.</li>\n<li>Notably any iterators (<code>for (Foo f : theCowList)</code> is one way to make one) copy over the 'pointer', which means any existing iterators just keep on truckin'. They won't cover whatever you added. They will cover whatever you removed - an iterator made from a cowList will iterate through all elements as there were when you made the iterator regardless of any mutations you perform afterwards. <strong>That is the 'point' of a COWList</strong>. If you don't need that functionality it is exceedingly unlikely that COWList is the right type for you.</li>\n</ul>\n<p>COWList by its nature is atomic and safe for any single call. However, your operation is three calls: <code>size()</code> and then <code>indexOf</code> and <code>size()</code> again. <strong>There is no guarantee of atomicity here. Your concern is valid</strong>.</p>\n<h2>General mindset update</h2>\n<p>What you're doing is so-called 'check-then-act': You check the state of the object (is it empty?), and then you decide how to act.</p>\n<p><strong>This is the wrong way to go about it in concurrency land</strong>. The proper model is act-then-check: You assume fair weather, perform your action, and then react to invalid state afterwards. This also means it is <strong>required</strong> for the 'act' part to do the checking intrinsically. If no such intrinsic operation is available, <strong>neither model works</strong>, and that is the point: In such a case you must find a way to inject synchronization, or the operation is <strong>impossible</strong> to do safely in a concurrent operation. Example: &quot;Add an element if it is not already in the list&quot; is <strong>impossible</strong> in a concurrent fashion in a plain jane <code>ArrayList</code>.</p>\n<p>A second important realization when working with concurrency is that if you want to shift the concurrency checking to the object itself, then <strong>the only way</strong> to interact with that object that is safe is <strong>single</strong> calls. You are making 3 calls. No good. You get just the one.</p>\n<p>Here's an example of a different operation that <em>could</em> work here: Let's say you have a method that removes the first item from your list, throwing <code>NSElemEx</code> if the list is empty.</p>\n<p>Your 'style' would write this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public E pollFirst() {\n  // This code is wrong! do not use!\n  if (isEmpty()) throw new NoSuchElementException();\n  return remove(0);\n}\n</code></pre>\n<p>This is wrong - you're mixed up 2 calls. You only get one. This is the right way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public E pollFirst() {\n  try {\n    return remove(0);\n  } catch (ArrayIndexOutOfBoundsException e) {\n    throw new NoSuchElementException();\n  }\n}\n</code></pre>\n<p>Note how we first act, assuming fair weather: We just remove the 0th element, not knowing if there is even such an element in the first place. If this fails, we react to the failure (if you call <code>remove(0)</code> on an empty COWList, an ArrayIndexOutOfBoundsException falls out, we react to that here).</p>\n<h2>So how do we do it?</h2>\n<p>The unfortunate answer is, <strong>not possible</strong> - COWList doesn't have a single call that does what you want, thus, you're dead in the water. <code>COWList</code> promises certain concurrency safeties; to do this, it has a package private (so you can't see it!) field called <code>lock</code>. Operations such as <code>remove(int index)</code> acquire this lock and thus will cause any threads to e.g. also call <code>remove</code> to freeze until the first thread is done.</p>\n<p><strong>You cannot use this lock</strong>. This causes all sorts of problems. We're just stuck at this point, and we need to first go back and correct a bunch of style errors you've committed.</p>\n<h2>Prefer composition over inheritance</h2>\n<p>You've decided to extend COWList. That means you're saying that any instance of your object acts in all ways like a COWList and offers additional features on top of that. The problem is, COWList and what you want are at odds. In particular, in order to befit the idea of 'you are a COWList with bolted on extras', you'd need to copy its locking behaviour: Your operation of grabbing a random element requires locking out other threads because COWList as an impl simply doesn't offer the API you'd need to do it without a lock, but you can't actually see the lock, which means you just can't do this.</p>\n<p>The real problem, though, is that you really <em>do not</em> want to be 'a COWList with additional functionality'. That as a concept is rarely a good idea: COWList is already a complex beast, thus anything that is by definition 'a COWList with addons' is even more complicated. Forget COWList, what you want is much simpler: A datastructure to which you can add things concurrently and grab (concurrency-safe) random elements from it. That's all you want. Why bring COWList's rules into it? You're using COWlist here because it's convenient - most of the work is done for you. That's great, but, don't 'expose' that. Keep implementation details internalized. Thus, write it like so:</p>\n<pre><code>public class SomeList&lt;E&gt; extends AbstractList&lt;E&gt; {\n  private final CopyOnWriteArrayList&lt;E&gt; list = new CopyOnWriteArrayList&lt;E&gt;();\n}\n</code></pre>\n<p>Here you just adopt the rules of <code>List</code> itself, but given that your type is named <code>SomeList</code>, I assume you intentionally want that. The mental 'load' of what AbstractList enforces is vastly simpler than what COWList enforces. Now you merely implement all methods you need to, usually as one-liners that just farm out the work to your COWList.</p>\n<p>Now we're at least closer to doing it right: You can now make your own lock object or just define in the docs that all operations synchronize on the <code>SomeList</code> instance itself (which means you just add the <code>synchronized</code> keyword to every method - that's shorthand for wrapping the entire method body in <code>synchronized (this) { body-goes-here }</code>.</p>\n<p>Sticking a field in a class and implementing many methods as one-liners that just invoke a similar method on said field is called <strong>composition</strong>, vs adding an <code>extends</code> clause and letting it serve as implementation for most of the methods you intend to expose, which is called <strong>inheritance</strong>. Prefer composition over inheritance.</p>\n<p>Now that you're taking care of the synchronizing on your own, there is absolutely no need for COWList anymore. That inner list can just become a plain jane <code>ArrayList</code>. Much more efficient.</p>\n<h2>Efficiency</h2>\n<p>&quot;Just synchronize on all the things&quot; is a bit of a cop-out. <code>synchronized (x) { ... }</code> simply means that only one thread can be in such a block for any given x. Just 'blocking' threads is the easy way out. A really cool datastructure would do some or all of the work without holding the lock. Separately, 'remove item from the middle of a large arraylist' is a slow operation (because all elements that follow must be copied over to one slot earlier; arraylist fundamentally works as a continuous set of elements, hence why removing one in the middle is so pricey).</p>\n<p>Thus, even the 'fixed' case of using composition over inheritance is quite inefficient: It uses locks (ouch), and removes elements from the middle of arraylists (double ouch).</p>\n<p>Making concurrency-safe data structures that are still fast require three things:</p>\n<p>[1] It is quite an artform. You need to come up with very creative ideas.</p>\n<p>[2] It's trade-offs, so be sure to be <em>very specific</em> in what you data structure can and cannot do. You often end up with datastructures that take up (way) more space in memory in order to allow lock-free access. Also often seemingly simple operations such as 'how many elements are in you' are impossible to efficiently answer, so don't offer that functionality. There's a reason the <code>java.util.concurrent</code> package has so many classes in it: There is no god-class that can do it all and do it efficiently in both memory, CPU, and lock aspects.</p>\n<p>[3] Be clear in the difference between 'trends' and 'guarantees'. For example, it's much easier to write a fast, efficient system that can give you (and remove) a random element from a humongous list of elements that 'trends towards' picking fairly from the bunch, vs. one that <strong>guarantees</strong> that it is exactly uniformly randomly chosen every time.</p>\n<p>Part of the art is to know when you can make do with a trend instead of a guarantee, usually orders-of-magnitude speedups lie in such realizations.</p>\n<p>Here are some ideas on how to make hypothetically really fast ones:</p>\n<h3>Do you add everything, and then you 'switch the mode' and never add another element again, instead only removing from there on out?</h3>\n<p>If that's the case, a much faster idea:</p>\n<p>Have one object that is 'modal'. It starts out with just having an <code>add</code> method (and possibly <code>addAll</code>). Nothing else. Not even <code>.get</code> (don't add API you don't need, it only limits your flexibility when trying to optimize things!). It doesn't even promise concurrency-safe behaviour (calling <code>add</code> from 2 threads simultaneously will fail disastrously at times). When 'done', you call a <code>build()</code> method. This returns a <strong>new</strong> object that ONLY has <code>poll()</code> method that returns an arbitrary element in a concurrency-safe fashion.</p>\n<p>If that's your API you can write it <em>very</em> efficiency and <strong>entirely</strong> lock free!</p>\n<p>Your builder is just a really simple class that contains a plain jane arraylist and fills it:</p>\n<pre><code>class RandomPollerBuilder&lt;E&gt; {\n  private final ArrayList&lt;E&gt; data = new ArrayList&lt;E&gt;();\n  private boolean open = true;\n\n  public void add(E elem) {\n    if (!open) throw new IllegalStateException();\n    data.add(elem);\n  }\n\n  public RandomPoller&lt;E&gt; build() {\n    open = false;\n    data.trimToSize();\n    Collection.shuffle(data);\n    return new RandomPoller&lt;E&gt;(data);\n  }\n}\n</code></pre>\n<p>The random poller then looks something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RandomPoller&lt;E&gt; {\n  private final AtomicInteger pos;\n  private final List&lt;E&gt; input;\n\n  RandomPoller&lt;E&gt;(List&lt;E&gt; input) {\n    this.input = input;\n    this.pos = new AtomicInteger(input.size());\n  }\n\n  public E poll() {\n    int idx = pos.decrementAndGet();\n    if (idx &gt;= 0) return input.get(idx);\n    pos.incrementAndGet();\n    throw new NoSuchElementException();\n  }\n\n  public int size() {\n    return Math.max(0, pos.get());\n  }\n}\n</code></pre>\n<p>Here we combine a boatload of properties:</p>\n<ul>\n<li>We don't remove at all. Removal tends to be slow, if we can avoid it, why not?</li>\n<li>We rely on AtomicInteger which gives us a way to guarantee a strict and complete ordering in a concurrent environment in a way that is considerably faster than locks.</li>\n<li>We reduced the implementation to just the bits you really need. Every method is painful to write. I included a <code>size()</code> method to show this: The way the <code>poll</code> algorithm works is that it increments 0 to -1 or even worse (if multiple threads all simultaneously attempt to <code>poll()</code> an empty poller, that atomicinteger can go lower than -1, but eventually it gets back to 0, so no risk of 'rolling over' our atomic integer as no system is going to have 2 billion threads). We need to guard against this in our <code>size()</code> method.</li>\n<li>It also means: If you don't particularly need the efficiency, then don't bother with any of this and make globally locking data structures. The cop-out is easy and works (it's just not efficient). Testing concurrency is extremely difficult (because things merely <em>could</em> go wrong in the right circumstance, they aren't guaranteed to. In tests you WANT broken code to actually fail, and therein lies the rub. That's virtually impossible to do!) - so don't go there unless you absolutely know what you are doing and you're sure you need it.</li>\n</ul>\n"}],"owner":{"account_id":20261253,"reputation":373,"user_id":14859549,"display_name":"Frank Yang"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70549080,"answer_count":1,"score":1,"last_activity_date":1641121257,"creation_date":1641039257,"question_id":70548808,"body_markdown":"I&#39;m trying to create a concurrent data structure which allows a thread to poll random elements from it while another thread is writing to it. \r\n\r\n```java\r\npublic class SomeList&lt;E&gt; extends CopyOnWriteArrayList&lt;E&gt; {\r\n    private final Random random = new Random();\r\n\r\n    public E pollRandom() {\r\n        if (size() == 0) {\r\n            throw new NoSuchElementException();\r\n        }\r\n        return remove(random.nextInt(size()));\r\n    }\r\n}\r\n```\r\n\r\nMy concern is: in an extreme case, for example, after thread A calls `size()` (in `pollRandom()`), thread B removes the last element. Unfortunately, the random index happens to be the index of the last element (which has already been removed). Therefore, the `remove()` call will throw an uncaught `IndexOutOfBoundsException`. This is what I don&#39;t expect - a `pollRandom()` call failed, even though there are still elements in this list.\r\n\r\nSo I&#39;d like to ask: Is my concern real? Maybe I misunderstand what does a `CopyOnWriteArrayList` (or any other type of concurrent list) actually do? If my concern is real, is there a way to solve the problem? I don&#39;t want to add `synchronized` to all the methods, since adding `synchronized` makes the performance much worse.\r\n\r\nI&#39;d be glad if someone would like to answer the question. My English is far from good, if my expression sounds vague or impolite, please let me know, thanks :)\r\n\r\nPS: I&#39;m aware that `CopyOnWriteArrayList` is slow for all mutative operations as it requires a full copy every time, thanks to @Boris the Spider. It can be any type of concurrent list. Here&#39;s just an example.","title":"Getting random elements from a list while another thread is mutating it","body":"<p>I'm trying to create a concurrent data structure which allows a thread to poll random elements from it while another thread is writing to it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeList&lt;E&gt; extends CopyOnWriteArrayList&lt;E&gt; {\n    private final Random random = new Random();\n\n    public E pollRandom() {\n        if (size() == 0) {\n            throw new NoSuchElementException();\n        }\n        return remove(random.nextInt(size()));\n    }\n}\n</code></pre>\n<p>My concern is: in an extreme case, for example, after thread A calls <code>size()</code> (in <code>pollRandom()</code>), thread B removes the last element. Unfortunately, the random index happens to be the index of the last element (which has already been removed). Therefore, the <code>remove()</code> call will throw an uncaught <code>IndexOutOfBoundsException</code>. This is what I don't expect - a <code>pollRandom()</code> call failed, even though there are still elements in this list.</p>\n<p>So I'd like to ask: Is my concern real? Maybe I misunderstand what does a <code>CopyOnWriteArrayList</code> (or any other type of concurrent list) actually do? If my concern is real, is there a way to solve the problem? I don't want to add <code>synchronized</code> to all the methods, since adding <code>synchronized</code> makes the performance much worse.</p>\n<p>I'd be glad if someone would like to answer the question. My English is far from good, if my expression sounds vague or impolite, please let me know, thanks :)</p>\n<p>PS: I'm aware that <code>CopyOnWriteArrayList</code> is slow for all mutative operations as it requires a full copy every time, thanks to @Boris the Spider. It can be any type of concurrent list. Here's just an example.</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":12465817,"reputation":123,"user_id":9075811,"display_name":"Jahangir Jadi"},"score":0,"creation_date":1639565428,"post_id":70302985,"comment_id":124379258,"body_markdown":"The issue has been resolved now. The issue was that I was using giphy and facebook sdk but now facebook is providing support for giphy so you don&#39;t need to add giphy sdk with facebook sdk.","body":"The issue has been resolved now. The issue was that I was using giphy and facebook sdk but now facebook is providing support for giphy so you don&#39;t need to add giphy sdk with facebook sdk."}],"answers":[{"tags":[],"owner":{"account_id":20721068,"reputation":1,"user_id":15215465,"display_name":"C&#233;sar A. Pinardi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639143472,"creation_date":1639143472,"answer_id":70305370,"question_id":70302985,"body_markdown":"Have you downloaded the Manifest and the build.gradle with the dependencies used in this project? It seems that you did not import the dependencies, in your build.gradle see if they are there;\r\n\r\n    dependencies {\r\n        implementation &#39;com.your_dep_here:1.0.19&#39;\r\n    }\r\n\r\n","title":"Cannot compile android project","body":"<p>Have you downloaded the Manifest and the build.gradle with the dependencies used in this project? It seems that you did not import the dependencies, in your build.gradle see if they are there;</p>\n<pre><code>dependencies {\n    implementation 'com.your_dep_here:1.0.19'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6349075,"reputation":1862,"user_id":4928715,"display_name":"Samuel Ewudzi Incoom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641121057,"creation_date":1641027922,"answer_id":70547884,"question_id":70302985,"body_markdown":"**Why its happening** :  JFrog has announced that they are shutting down the Bintray hosting service, which includes the popular JCenter hosting service for Java artifacts, as well as GoCenter (which hosted Go packages) and ChartCenter (which hosted Helm charts)\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Solution;**  Delete ***Jcenter()*** declaration from your main build.gradle file in your project root and use **google() mavenCentral() and\r\n        gradlePluginPortal()** instead.. Re-sync and Rebuild..\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/iZ8ZM.png\r\n  [2]: https://i.stack.imgur.com/vnBuX.png","title":"Cannot compile android project","body":"<p><strong>Why its happening</strong> :  JFrog has announced that they are shutting down the Bintray hosting service, which includes the popular JCenter hosting service for Java artifacts, as well as GoCenter (which hosted Go packages) and ChartCenter (which hosted Helm charts)\n<a href=\"https://i.stack.imgur.com/vnBuX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vnBuX.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Solution;</strong>  Delete <em><strong>Jcenter()</strong></em> declaration from your main build.gradle file in your project root and use <strong>google() mavenCentral() and\ngradlePluginPortal()</strong> instead.. Re-sync and Rebuild..</p>\n<p><a href=\"https://i.stack.imgur.com/iZ8ZM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iZ8ZM.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12465817,"reputation":123,"user_id":9075811,"display_name":"Jahangir Jadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":811,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1641121057,"creation_date":1639131791,"question_id":70302985,"body_markdown":"I downloaded a project and trying to build it but it&#39;s giving me so many errors.\r\n\r\nFAILURE: Build completed with 6 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:checkDebugAarMetadata&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not resolve com.mindorks.android:prdownloader:0.6.0.\r\n     Required by:\r\n         project :app\r\n      &gt; Skipped due to earlier error\r\n   &gt; Could not resolve com.facebook.android:facebook-android-sdk:[5,6).\r\n     Required by:\r\n         project :app\r\n      &gt; Failed to list versions for com.facebook.android:facebook-android-sdk.\r\n         &gt; Unable to load Maven meta-data from https://giphy.bintray.com/giphy-sdk/com/facebook/android/facebook-android-sdk/maven-metadata.xml.\r\n            &gt; Could not get resource &#39;https://giphy.bintray.com/giphy-sdk/com/facebook/android/facebook-android-sdk/maven-metadata.xml&#39;.\r\n               &gt; Could not GET &#39;https://giphy.bintray.com/giphy-sdk/com/facebook/android/facebook-android-sdk/maven-metadata.xml&#39;. Received status code 502 from server: Bad Gateway\r\n   &gt; Could not resolve :volley-plus-release.\r\n     Required by:\r\n         project :app\r\n      &gt; Skipped due to earlier error\r\n   &gt; Could not resolve dev.dworks.libs:volleyplus:+.\r\n     Required by:\r\n         project :app\r\n      &gt; Skipped due to earlier error\r\n   &gt; Could not resolve com.wonderkiln:camerakit:0.13.0.\r\n     Required by:\r\n         project :app\r\n      &gt; Skipped due to earlier error\r\n   &gt; Could not resolve com.ycuwq.widgets:datepicker:1.3.1.\r\n     Required by:\r\n         project :app\r\n      &gt; Skipped due to earlier error\r\n   &gt; Could not resolve jp.co.cyberagent.android:gpuimage:2.0.3.\r\n     Required by:\r\n         project :app\r\n      &gt; Skipped due to earlier error\r\n   &gt; Could not resolve com.github.danylovolokh:hashtag-helper:1.1.0.\r\n     Required by:\r\n         project :app\r\n      &gt; Skipped due to earlier error","title":"Cannot compile android project","body":"<p>I downloaded a project and trying to build it but it's giving me so many errors.</p>\n<p>FAILURE: Build completed with 6 failures.</p>\n<h2>1: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:checkDebugAarMetadata'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\nCould not resolve com.mindorks.android:prdownloader:0.6.0.\nRequired by:\nproject :app\n&gt; Skipped due to earlier error\nCould not resolve com.facebook.android:facebook-android-sdk:[5,6).\nRequired by:\nproject :app\n&gt; Failed to list versions for com.facebook.android:facebook-android-sdk.\n&gt; Unable to load Maven meta-data from https://giphy.bintray.com/giphy-sdk/com/facebook/android/facebook-android-sdk/maven-metadata.xml.\n&gt; Could not get resource 'https://giphy.bintray.com/giphy-sdk/com/facebook/android/facebook-android-sdk/maven-metadata.xml'.\n&gt; Could not GET 'https://giphy.bintray.com/giphy-sdk/com/facebook/android/facebook-android-sdk/maven-metadata.xml'. Received status code 502 from server: Bad Gateway\nCould not resolve :volley-plus-release.\nRequired by:\nproject :app\n&gt; Skipped due to earlier error\nCould not resolve dev.dworks.libs:volleyplus:+.\nRequired by:\nproject :app\n&gt; Skipped due to earlier error\nCould not resolve com.wonderkiln:camerakit:0.13.0.\nRequired by:\nproject :app\n&gt; Skipped due to earlier error\nCould not resolve com.ycuwq.widgets:datepicker:1.3.1.\nRequired by:\nproject :app\n&gt; Skipped due to earlier error\nCould not resolve jp.co.cyberagent.android:gpuimage:2.0.3.\nRequired by:\nproject :app\n&gt; Skipped due to earlier error\nCould not resolve com.github.danylovolokh:hashtag-helper:1.1.0.\nRequired by:\nproject :app\n&gt; Skipped due to earlier error</p>\n</blockquote>\n"},{"tags":["java","macos"],"answers":[{"tags":[],"owner":{"account_id":139982,"reputation":161,"user_id":345957,"display_name":"Jill"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1275879860,"creation_date":1275879860,"answer_id":2986866,"question_id":2872520,"body_markdown":"I think we find the root cause so here is an answer of my own question.\r\n\r\n1. the Java system property &quot;java.ext.dirs&quot; in Mac OS X 10.5 is:\r\n/Library/Java/Extensions:/System/Library/Java/Extensions:/System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home/lib/ext. The sunjce_provider.jar should be in /System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home/lib/ext but also be found in /Library/Java/Extensions/ in the problem mac.\r\n\r\n2. the sunjce_provider.jar in /Library/Java/Extensions/ belongs to Java Cryptography Extension(JCE) 1.2.2, which has been installed in the mac. JCE 1.2.2 is an optional package of J2SE 1.3.1 and may not includes enough libraries for J2SE 1.4 and later.\r\n\r\n3. the Java applcation works normally after all JCE 1.2.2 related jar files have been removed from /Library/Java/Extensions/.","title":"SunTlsRsaPremasterSecret KeyGenerator not available","body":"<p>I think we find the root cause so here is an answer of my own question.</p>\n\n<ol>\n<li><p>the Java system property \"java.ext.dirs\" in Mac OS X 10.5 is:\n/Library/Java/Extensions:/System/Library/Java/Extensions:/System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home/lib/ext. The sunjce_provider.jar should be in /System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home/lib/ext but also be found in /Library/Java/Extensions/ in the problem mac.</p></li>\n<li><p>the sunjce_provider.jar in /Library/Java/Extensions/ belongs to Java Cryptography Extension(JCE) 1.2.2, which has been installed in the mac. JCE 1.2.2 is an optional package of J2SE 1.3.1 and may not includes enough libraries for J2SE 1.4 and later.</p></li>\n<li><p>the Java applcation works normally after all JCE 1.2.2 related jar files have been removed from /Library/Java/Extensions/.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":97770,"reputation":2686,"user_id":265038,"display_name":"altumano"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1300976284,"creation_date":1300976284,"answer_id":5420550,"question_id":2872520,"body_markdown":"I&#39;ve had the same problem after upgrading to new Java version on Mac.\r\nMy (maven) project ran OK from command line but got the &quot;SunTlsRsaPremasterSecret&quot; error in Eclipse.\r\n\r\nThe solution was to remove Installed JREs in Eclipse configuration and add them again (using the &quot;Search...&quot; button).","title":"SunTlsRsaPremasterSecret KeyGenerator not available","body":"<p>I've had the same problem after upgrading to new Java version on Mac.\nMy (maven) project ran OK from command line but got the \"SunTlsRsaPremasterSecret\" error in Eclipse.</p>\n\n<p>The solution was to remove Installed JREs in Eclipse configuration and add them again (using the \"Search...\" button).</p>\n"},{"tags":[],"owner":{"account_id":227344,"reputation":1055,"user_id":1205593,"accept_rate":67,"display_name":"Riz"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1329926908,"creation_date":1329926908,"answer_id":9398476,"question_id":2872520,"body_markdown":"had a similar issue. Adding the classpath to the ext directory fixed it for me. This fix worked for me on windows 7 with java 1.6\r\n\r\n    java -Djava.ext.dirs=lib -classpath &quot;%java_home%\\lib\\ext\\*&quot; myapp.jar \r\n\r\n\r\n","title":"SunTlsRsaPremasterSecret KeyGenerator not available","body":"<p>had a similar issue. Adding the classpath to the ext directory fixed it for me. This fix worked for me on windows 7 with java 1.6</p>\n\n<pre><code>java -Djava.ext.dirs=lib -classpath \"%java_home%\\lib\\ext\\*\" myapp.jar \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8897,"reputation":11209,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442418870,"creation_date":1442418870,"answer_id":32613377,"question_id":2872520,"body_markdown":"It happened to me while launching the tomcat server from eclipse. I solved it by changing the configuration in Windows -&gt; Preferences -&gt; Java -&gt; Installed JREs -&gt; Edit. I had to update all the JRE system libraries with the corresponding jars from the folders in:\r\n\r\n - %JAVA_HOME%/jre/lib/ext\r\n - %JAVA_HOME%/jre/lib/\r\n\r\nIt seems that after the last update I have changed the JRE_Home but forgot those libraries.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ETCcs.jpg","title":"SunTlsRsaPremasterSecret KeyGenerator not available","body":"<p>It happened to me while launching the tomcat server from eclipse. I solved it by changing the configuration in Windows -> Preferences -> Java -> Installed JREs -> Edit. I had to update all the JRE system libraries with the corresponding jars from the folders in:</p>\n\n<ul>\n<li>%JAVA_HOME%/jre/lib/ext</li>\n<li>%JAVA_HOME%/jre/lib/</li>\n</ul>\n\n<p>It seems that after the last update I have changed the JRE_Home but forgot those libraries.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ETCcs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ETCcs.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6892497,"reputation":1,"user_id":5295452,"display_name":"Ish Asokan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443420891,"creation_date":1443420891,"answer_id":32816711,"question_id":2872520,"body_markdown":"Had to spend almost a day on this while trying to use JavaMail in Eclipse Luna.\r\nTried all approaches suggested in various forums, but no luck.\r\n\r\nDigged into the complete flow and found the exception arising due to **Class is on BootClassPath**\r\n\r\n \r\nfrom KeyAgreement.getInstance()-&gt;JceSecurity.canUseProvider()-&gt;JceSecurity.getVerificationResult()-&gt;JarVerifier.verify()\r\n\r\n\r\nvoid verify()\r\n          throws JarException, IOException\r\n        {\r\n     if (jarURL == null) {\r\n       throw new JarException(&quot;Class is on the bootclasspath&quot;);\r\n     }.......\r\n\r\nI removed sunjce_provider jar from \\ext\\ folder and can send mail now.\r\nThis might not be right but atleast a quick workaround.\r\n\r\nRefer [Eclipse bug][2].\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/mMxCY.png\r\n  [2]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=89935","title":"SunTlsRsaPremasterSecret KeyGenerator not available","body":"<p>Had to spend almost a day on this while trying to use JavaMail in Eclipse Luna.\nTried all approaches suggested in various forums, but no luck.</p>\n\n<p>Digged into the complete flow and found the exception arising due to <strong>Class is on BootClassPath</strong></p>\n\n<p>from KeyAgreement.getInstance()->JceSecurity.canUseProvider()->JceSecurity.getVerificationResult()->JarVerifier.verify()</p>\n\n<p>void verify()\n          throws JarException, IOException\n        {\n     if (jarURL == null) {\n       throw new JarException(\"Class is on the bootclasspath\");\n     }.......</p>\n\n<p>I removed sunjce_provider jar from \\ext\\ folder and can send mail now.\nThis might not be right but atleast a quick workaround.</p>\n\n<p>Refer <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=89935\" rel=\"nofollow\">Eclipse bug</a>.</p>\n"},{"tags":[],"owner":{"account_id":4972684,"reputation":471,"user_id":3999944,"display_name":"numsu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464958978,"creation_date":1464958978,"answer_id":37615152,"question_id":2872520,"body_markdown":"I also had this issue, noticed that the problem was in my Eclipse configuration.\r\n\r\n    Window &gt; Preferences &gt; Java &gt; Installed JREs &gt; jdk8_64bit &gt; Edit...\r\n\r\nThe path of my `sunjce_provider.jar` was pointing to `jdk8_64bit\\lib\\ext\\sunjce.provider.jar`. It should point to the JRE&#39;s equivalent in `jdk8_64bit\\jre\\lib\\ext\\sunjce.provider.jar`.","title":"SunTlsRsaPremasterSecret KeyGenerator not available","body":"<p>I also had this issue, noticed that the problem was in my Eclipse configuration.</p>\n\n<pre><code>Window &gt; Preferences &gt; Java &gt; Installed JREs &gt; jdk8_64bit &gt; Edit...\n</code></pre>\n\n<p>The path of my <code>sunjce_provider.jar</code> was pointing to <code>jdk8_64bit\\lib\\ext\\sunjce.provider.jar</code>. It should point to the JRE's equivalent in <code>jdk8_64bit\\jre\\lib\\ext\\sunjce.provider.jar</code>.</p>\n"},{"tags":[],"owner":{"account_id":5388081,"reputation":341,"user_id":4291412,"accept_rate":33,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569155401,"creation_date":1569155401,"answer_id":58049220,"question_id":2872520,"body_markdown":"I know, I am joining late here. But for me, this error came suddenly as soon as I changed the Preference -&gt; Java -&gt; Installed JREs -&gt; Execution Environments as JavaSE-1.8 to jdk1.8 path. But it should be jre1.8 path.\r\n\r\nI don&#39;t know why is it happening now. But It sorted the problem.","title":"SunTlsRsaPremasterSecret KeyGenerator not available","body":"<p>I know, I am joining late here. But for me, this error came suddenly as soon as I changed the Preference -> Java -> Installed JREs -> Execution Environments as JavaSE-1.8 to jdk1.8 path. But it should be jre1.8 path.</p>\n\n<p>I don't know why is it happening now. But It sorted the problem.</p>\n"},{"tags":[],"owner":{"account_id":18411110,"reputation":1,"user_id":13411385,"display_name":"Pranathi Sadhula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587909863,"creation_date":1587909863,"answer_id":61442084,"question_id":2872520,"body_markdown":"Probable solution: Check if jdk path is set till C:\\Program Files\\Java\\jdk1.8.0_171 but not including bin","title":"SunTlsRsaPremasterSecret KeyGenerator not available","body":"<p>Probable solution: Check if jdk path is set till C:\\Program Files\\Java\\jdk1.8.0_171 but not including bin</p>\n"},{"tags":[],"owner":{"account_id":8347798,"reputation":131,"user_id":6270984,"display_name":"Gaganam Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641118897,"creation_date":1641118897,"answer_id":70555193,"question_id":2872520,"body_markdown":"In my case, I got above same issue, after reading above solutions, I changed JRE Definition and Restore Default. It is working fine now. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xa9uc.png","title":"SunTlsRsaPremasterSecret KeyGenerator not available","body":"<p>In my case, I got above same issue, after reading above solutions, I changed JRE Definition and Restore Default. It is working fine now. <a href=\"https://i.stack.imgur.com/Xa9uc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xa9uc.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":139982,"reputation":161,"user_id":345957,"display_name":"Jill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28690,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":2986866,"answer_count":9,"score":13,"last_activity_date":1641118897,"creation_date":1274348296,"question_id":2872520,"body_markdown":"I encountered an error when my application tries to load a RSA Algorithm provider class from JAVA. The exception stack is as follow:\r\n\r\n    javax.jms.JMSException: RSA premaster secret error\r\n\tat org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:49)\r\n\tat org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1255)\r\n\tat org.apache.activemq.ActiveMQConnection.ensureConnectionInfoSent(ActiveMQConnection.java:1350)\r\n\tat org.apache.activemq.ActiveMQConnection.setClientID(ActiveMQConnection.java:388)\r\n\tat com.trendmicro.tmsm.TMSMAgent.open(TMSMAgent.java:63)\r\n\t\r\n\tCaused by: javax.net.ssl.SSLKeyException: RSA premaster secret error\r\n\tat com.sun.net.ssl.internal.ssl.RSAClientKeyExchange.&lt;init&gt;(RSAClientKeyExchange.java:97)\r\n\tat com.sun.net.ssl.internal.ssl.ClientHandshaker.serverHelloDone(ClientHandshaker.java:634)\r\n\tat com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:226)\r\n\tat com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:516)\r\n\tat com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:454)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:884)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1112)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:623)\r\n\tat com.sun.net.ssl.internal.ssl.AppOutputStream.write(AppOutputStream.java:59)\r\n\tat org.apache.activemq.transport.tcp.TcpBufferedOutputStream.flush(TcpBufferedOutputStream.java:115)\r\n\tat java.io.DataOutputStream.flush(DataOutputStream.java:106)\r\n\tat org.apache.activemq.transport.tcp.TcpTransport.oneway(TcpTransport.java:167)\r\n\tat org.apache.activemq.transport.InactivityMonitor.oneway(InactivityMonitor.java:237)\r\n\tat org.apache.activemq.transport.WireFormatNegotiator.sendWireFormat(WireFormatNegotiator.java:168)\r\n\tat org.apache.activemq.transport.WireFormatNegotiator.sendWireFormat(WireFormatNegotiator.java:84)\r\n\tat org.apache.activemq.transport.WireFormatNegotiator.start(WireFormatNegotiator.java:74)\r\n\tat org.apache.activemq.transport.failover.FailoverTransport.doReconnect(FailoverTransport.java:715)\r\n\tat org.apache.activemq.transport.failover.FailoverTransport$2.iterate(FailoverTransport.java:115)\r\n\tat org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)\r\n\tat org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n\tat java.lang.Thread.run(Thread.java:637)\r\n\t\r\n\tCaused by: java.security.NoSuchAlgorithmException: SunTlsRsaPremasterSecret KeyGenerator not available\r\n\tat javax.crypto.KeyGenerator.&lt;init&gt;(DashoA13*..)\r\n\tat javax.crypto.KeyGenerator.getInstance(DashoA13*..)\r\n\tat com.sun.net.ssl.internal.ssl.JsseJce.getKeyGenerator(JsseJce.java:223)\r\n\tat com.sun.net.ssl.internal.ssl.RSAClientKeyExchange.&lt;init&gt;(RSAClientKeyExchange.java:89)\r\n\t... 22 more\r\n\r\nI&#39;ve googled the error message and most of posts says it&#39;s because JVM cannot find sunjce_provider.jar. However, I can find the file in /Library/Java/Home/lib/ext folder.\r\n\r\nThe platform is Mac OS X 10.6 and Java version is 1.6.0_17.\r\n\r\nMy questions are:\r\n\r\n1. Why JVM does not search /Library/Java/Home/lib/ext for jar files?\r\n2. Can we change CLASSPATH or java.ext.dirs property by modify any config file?\r\n3. Any suggestion to solve this problem?\r\n\r\nThanks in advance.","title":"SunTlsRsaPremasterSecret KeyGenerator not available","body":"<p>I encountered an error when my application tries to load a RSA Algorithm provider class from JAVA. The exception stack is as follow:</p>\n\n<pre><code>javax.jms.JMSException: RSA premaster secret error\nat org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:49)\nat org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1255)\nat org.apache.activemq.ActiveMQConnection.ensureConnectionInfoSent(ActiveMQConnection.java:1350)\nat org.apache.activemq.ActiveMQConnection.setClientID(ActiveMQConnection.java:388)\nat com.trendmicro.tmsm.TMSMAgent.open(TMSMAgent.java:63)\n\nCaused by: javax.net.ssl.SSLKeyException: RSA premaster secret error\nat com.sun.net.ssl.internal.ssl.RSAClientKeyExchange.&lt;init&gt;(RSAClientKeyExchange.java:97)\nat com.sun.net.ssl.internal.ssl.ClientHandshaker.serverHelloDone(ClientHandshaker.java:634)\nat com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:226)\nat com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:516)\nat com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:454)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:884)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1112)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:623)\nat com.sun.net.ssl.internal.ssl.AppOutputStream.write(AppOutputStream.java:59)\nat org.apache.activemq.transport.tcp.TcpBufferedOutputStream.flush(TcpBufferedOutputStream.java:115)\nat java.io.DataOutputStream.flush(DataOutputStream.java:106)\nat org.apache.activemq.transport.tcp.TcpTransport.oneway(TcpTransport.java:167)\nat org.apache.activemq.transport.InactivityMonitor.oneway(InactivityMonitor.java:237)\nat org.apache.activemq.transport.WireFormatNegotiator.sendWireFormat(WireFormatNegotiator.java:168)\nat org.apache.activemq.transport.WireFormatNegotiator.sendWireFormat(WireFormatNegotiator.java:84)\nat org.apache.activemq.transport.WireFormatNegotiator.start(WireFormatNegotiator.java:74)\nat org.apache.activemq.transport.failover.FailoverTransport.doReconnect(FailoverTransport.java:715)\nat org.apache.activemq.transport.failover.FailoverTransport$2.iterate(FailoverTransport.java:115)\nat org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)\nat org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)\nat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\nat java.lang.Thread.run(Thread.java:637)\n\nCaused by: java.security.NoSuchAlgorithmException: SunTlsRsaPremasterSecret KeyGenerator not available\nat javax.crypto.KeyGenerator.&lt;init&gt;(DashoA13*..)\nat javax.crypto.KeyGenerator.getInstance(DashoA13*..)\nat com.sun.net.ssl.internal.ssl.JsseJce.getKeyGenerator(JsseJce.java:223)\nat com.sun.net.ssl.internal.ssl.RSAClientKeyExchange.&lt;init&gt;(RSAClientKeyExchange.java:89)\n... 22 more\n</code></pre>\n\n<p>I've googled the error message and most of posts says it's because JVM cannot find sunjce_provider.jar. However, I can find the file in /Library/Java/Home/lib/ext folder.</p>\n\n<p>The platform is Mac OS X 10.6 and Java version is 1.6.0_17.</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Why JVM does not search /Library/Java/Home/lib/ext for jar files?</li>\n<li>Can we change CLASSPATH or java.ext.dirs property by modify any config file?</li>\n<li>Any suggestion to solve this problem?</li>\n</ol>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","android-studio","apk"],"answers":[{"tags":[],"owner":{"account_id":23801959,"reputation":24,"user_id":17812025,"display_name":"T Devops"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641117839,"creation_date":1641117839,"answer_id":70555095,"question_id":70555018,"body_markdown":"Select Build &gt; Build Bundle(s)/APK(s) &gt; Build APK(s) from the toolbar menu.\r\nAPK file in the following path within your project folder\r\n\r\n&gt; app/build/outputs/apk/debug\r\n\r\nİf you want to generate a signed APK file, open the Build menu from the toolbar and select Generate Signed Bundle/APK. In next screen you can check APK radio button.\r\n\r\nNext step you’ll be asked about your Key store path, Key store password, Key alias, and the Key password\r\nTo do so, select Create new. You will find it underneath the input field where you enter the key store path. In the new window, enter the path for your new key store, and then enter a password to protect it. \r\n\r\nThen next screen you can choose debug or release and select V2 (Full APK Signature) and click Finish.\r\n\r\nYou will find apk in your project folder in the \r\n\r\n&gt; app/release\r\n\r\n","title":"Create and export .apk file using Android studio","body":"<p>Select Build &gt; Build Bundle(s)/APK(s) &gt; Build APK(s) from the toolbar menu.\nAPK file in the following path within your project folder</p>\n<blockquote>\n<p>app/build/outputs/apk/debug</p>\n</blockquote>\n<p>İf you want to generate a signed APK file, open the Build menu from the toolbar and select Generate Signed Bundle/APK. In next screen you can check APK radio button.</p>\n<p>Next step you’ll be asked about your Key store path, Key store password, Key alias, and the Key password\nTo do so, select Create new. You will find it underneath the input field where you enter the key store path. In the new window, enter the path for your new key store, and then enter a password to protect it.</p>\n<p>Then next screen you can choose debug or release and select V2 (Full APK Signature) and click Finish.</p>\n<p>You will find apk in your project folder in the</p>\n<blockquote>\n<p>app/release</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14672981,"reputation":66,"user_id":10596965,"display_name":"Vitaliy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641117999,"creation_date":1641117999,"answer_id":70555109,"question_id":70555018,"body_markdown":"To build apk you need to type the command ./gradlew assemble in android studio terminal.  This command will create an APK which will be located at {project_path}/{your_module}/build/outputs/apk/","title":"Create and export .apk file using Android studio","body":"<p>To build apk you need to type the command ./gradlew assemble in android studio terminal.  This command will create an APK which will be located at {project_path}/{your_module}/build/outputs/apk/</p>\n"}],"owner":{"account_id":23780536,"reputation":13,"user_id":17793281,"display_name":"Sayyam Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1800,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70555095,"answer_count":2,"score":1,"last_activity_date":1641118589,"creation_date":1641117008,"question_id":70555018,"body_markdown":"I&#39;ve created an Android app, I want to export it as .apk file so that I can share it with others, can anyone tell me how to create and share .apk file? Using Android Studio.","title":"Create and export .apk file using Android studio","body":"<p>I've created an Android app, I want to export it as .apk file so that I can share it with others, can anyone tell me how to create and share .apk file? Using Android Studio.</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":0,"creation_date":1641121897,"post_id":70553681,"comment_id":124722456,"body_markdown":"You can try to append `ON CONFLICT DO NOTHING` to the `insert` statement used in saveAll(xxx) to skip duplicates without facing that constraint violation error","body":"You can try to append <code>ON CONFLICT DO NOTHING</code> to the <code>insert</code> statement used in saveAll(xxx) to skip duplicates without facing that constraint violation error"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1641137240,"post_id":70553681,"comment_id":124725586,"body_markdown":"Add a UNIQUE constraint in Postgres, ignore the exception that is thrown when it&#39;s violated.","body":"Add a UNIQUE constraint in Postgres, ignore the exception that is thrown when it&#39;s violated."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1641144071,"post_id":70553681,"comment_id":124727239,"body_markdown":"&quot;Even when attempting to catch those with a generic Exception either I&#39;m not handling it correctly, or it doesn&#39;t do what I expect.&quot;  You should show us the parts of the code that have the problem rather than the parts that don&#39;t.","body":"&quot;Even when attempting to catch those with a generic Exception either I&#39;m not handling it correctly, or it doesn&#39;t do what I expect.&quot;  You should show us the parts of the code that have the problem rather than the parts that don&#39;t."},{"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"score":0,"creation_date":1641152952,"post_id":70553681,"comment_id":124729307,"body_markdown":"@jjanes read it again and check the try/catch block.","body":"@jjanes read it again and check the try/catch block."},{"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"score":0,"creation_date":1641153040,"post_id":70553681,"comment_id":124729329,"body_markdown":"Thanks @dshelya and Alexey Veleshko it&#39;s what I had ended up doing, was just hoping for some alternative solution as this seems to just mask the problem but this seems to be what people recommend...","body":"Thanks @dshelya and Alexey Veleshko it&#39;s what I had ended up doing, was just hoping for some alternative solution as this seems to just mask the problem but this seems to be what people recommend..."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1641160614,"post_id":70553681,"comment_id":124730884,"body_markdown":"Of course it ignores entire chunks where you currently have it.  Did you try moving it down into saveAll?  Or parse the error message, remove the offender, and retry?","body":"Of course it ignores entire chunks where you currently have it.  Did you try moving it down into saveAll?  Or parse the error message, remove the offender, and retry?"}],"answers":[{"tags":[],"owner":{"account_id":9728098,"reputation":161,"user_id":7214251,"display_name":"Granit Krasniqi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641117009,"creation_date":1641117009,"answer_id":70555019,"question_id":70553681,"body_markdown":"This could be a possible solution. You save only hash property in a Set and in that way you can have unique hash across chunks and also it&#39;s memory efficient because you are saving only a String and not an object with all properties. You also need to override hashCode and equals methods in TokenUri (to use hash property) because otherwise `Set&lt;TokenUri&gt;` doesn&#39;t work.\r\n\r\n\r\n    public class CreateImages {\r\n        //...\r\n    \r\n        @EventListener(ApplicationReadyEvent.class)\r\n        public void process() {\r\n            Set&lt;String&gt; hashCodesOfSavedImages = new HashSet&lt;&gt;();\r\n            while (hashCodesOfSavedImages.size() &lt; 100_000) {\r\n                hashCodesOfSavedImages.addAll(createChunkOfImages(hashCodesOfSavedImages, 1000));\r\n            }\r\n            \r\n        }\r\n    \r\n        private Set&lt;String&gt; createChunkOfImages(Set&lt;String&gt; hashCodesOfSavedImages, int chunkSize) {\r\n    \r\n            Set&lt;TokenUri&gt; chunkOfImages = new HashSet&lt;&gt;();\r\n\r\n            while (chunkOfImages.size() &lt; chunkSize) {\r\n                final ImageWrapper imageWrapper = svgService.create(-1);\r\n\r\n                // O(1) time complexity (contains)\r\n                if (!hashCodesOfSavedImages.contains(imageWrapper.hash())) {\r\n                    chunkOfImages.add(TokenUri.builder()\r\n                        .hash(imageWrapper.hash())\r\n                        .data(encodeService.encode(imageWrapper))\r\n                        .build());\r\n                }\r\n            }\r\n\r\n            repository.saveAll(chunkOfImages);\r\n\r\n            return chunkOfImages.stream().map(TokenUri::hash).collect(Collectors.toSet());\r\n        }\r\n    }","title":"How to write large volumes of unique data to Postgres without storing it all in memory","body":"<p>This could be a possible solution. You save only hash property in a Set and in that way you can have unique hash across chunks and also it's memory efficient because you are saving only a String and not an object with all properties. You also need to override hashCode and equals methods in TokenUri (to use hash property) because otherwise <code>Set&lt;TokenUri&gt;</code> doesn't work.</p>\n<pre><code>public class CreateImages {\n    //...\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void process() {\n        Set&lt;String&gt; hashCodesOfSavedImages = new HashSet&lt;&gt;();\n        while (hashCodesOfSavedImages.size() &lt; 100_000) {\n            hashCodesOfSavedImages.addAll(createChunkOfImages(hashCodesOfSavedImages, 1000));\n        }\n        \n    }\n\n    private Set&lt;String&gt; createChunkOfImages(Set&lt;String&gt; hashCodesOfSavedImages, int chunkSize) {\n\n        Set&lt;TokenUri&gt; chunkOfImages = new HashSet&lt;&gt;();\n\n        while (chunkOfImages.size() &lt; chunkSize) {\n            final ImageWrapper imageWrapper = svgService.create(-1);\n\n            // O(1) time complexity (contains)\n            if (!hashCodesOfSavedImages.contains(imageWrapper.hash())) {\n                chunkOfImages.add(TokenUri.builder()\n                    .hash(imageWrapper.hash())\n                    .data(encodeService.encode(imageWrapper))\n                    .build());\n            }\n        }\n\n        repository.saveAll(chunkOfImages);\n\n        return chunkOfImages.stream().map(TokenUri::hash).collect(Collectors.toSet());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641117009,"creation_date":1641099221,"question_id":70553681,"body_markdown":"I have a Spring Boot application that generates images. I&#39;m trying to scale it to the point it can generate an unlimited number of images. \r\n\r\nWhen an image is generated I create a hash using `MurmurHash3` of the base64 encoded values of the image, this is then added to an object as a `@Lob` value. The hash is how I consider images to be unique, the images are then pushed into Postgres.\r\n\r\nSo far everything is fine and this creates ~1,000 images in a few seconds without problem. Where I&#39;m having issues is say I want to create 100,000+ images.\r\n\r\nWhen the images are generated there is a pretty good chance of duplicates, so what I thought was a good idea would be to create &#39;chunks&#39; of images using a `HashSet` to hopefully rule out duplicates at least within the specific &#39;chunk&#39;\r\n\r\n```\r\npublic class CreateImages {\r\n    //...\r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void process() {\r\n        while (repository.count() &lt; 100_000) {\r\n            createChunk();\r\n        }\r\n    }\r\n\r\n    private void createChunk() {\r\n\r\n        Set&lt;TokenUri&gt; result = new HashSet&lt;&gt;();\r\n\r\n        while (result.size() &lt; 1000) {\r\n            final ImageWrapper imageWrapper = svgService.create(-1); \r\n\r\n            result.add(TokenUri.builder()\r\n                    .hash(imageWrapper.hash())\r\n                    .data(encodeService.encode(imageWrapper))\r\n                    .build());\r\n        }\r\n\r\n        try {\r\n            repository.saveAll(result);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Failed to save chunk {}&quot;, e.getMessage());\r\n        }\r\n\r\n        log.info(&quot;Created {} images&quot;, repository.count());\r\n    }\r\n}\r\n```\r\nNot worrying about time taken here to create the images (it&#39;s all single threaded) this will do what I expect, each chunk doesn&#39;t contain duplicates, however more than likely it will contain duplicates when compared to previously generated chunks.\r\n\r\nSo to try and solve that I added a `@Column(unique = true)` annotation to each `hash` row being saved. Thinking Postgres will reject duplicates, but allow &#39;non-duplicates&#39; to be saved.  \r\n\r\nWhat seems to happen though is the batch write fails due to not satisfying the condition and doesn&#39;t seem to move past it.\r\n\r\n```\r\n2022-01-02 15:38:56.071 ERROR 19292 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint &quot;uk_90jgw9r7w8bhtgw17fmi79j0w&quot;\r\n  Detail: Key (hash)=(1625765490) already exists.\r\n```\r\n\r\nEven when attempting to catch those with a generic `Exception` either I&#39;m not handling it correctly, or it doesn&#39;t do what I expect. \r\n\r\nEven this feels rather hackey and not a correct solution. \r\n\r\nSo, tl:dr - How can I generate an unknown (assume millions) of unique objects, (without keeping them all in memory to check for uniqueness) and safely store those into Postgres? \r\n\r\nIs there some standard pattern for this kind of thing? \r\n","title":"How to write large volumes of unique data to Postgres without storing it all in memory","body":"<p>I have a Spring Boot application that generates images. I'm trying to scale it to the point it can generate an unlimited number of images.</p>\n<p>When an image is generated I create a hash using <code>MurmurHash3</code> of the base64 encoded values of the image, this is then added to an object as a <code>@Lob</code> value. The hash is how I consider images to be unique, the images are then pushed into Postgres.</p>\n<p>So far everything is fine and this creates ~1,000 images in a few seconds without problem. Where I'm having issues is say I want to create 100,000+ images.</p>\n<p>When the images are generated there is a pretty good chance of duplicates, so what I thought was a good idea would be to create 'chunks' of images using a <code>HashSet</code> to hopefully rule out duplicates at least within the specific 'chunk'</p>\n<pre><code>public class CreateImages {\n    //...\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void process() {\n        while (repository.count() &lt; 100_000) {\n            createChunk();\n        }\n    }\n\n    private void createChunk() {\n\n        Set&lt;TokenUri&gt; result = new HashSet&lt;&gt;();\n\n        while (result.size() &lt; 1000) {\n            final ImageWrapper imageWrapper = svgService.create(-1); \n\n            result.add(TokenUri.builder()\n                    .hash(imageWrapper.hash())\n                    .data(encodeService.encode(imageWrapper))\n                    .build());\n        }\n\n        try {\n            repository.saveAll(result);\n        } catch (Exception e) {\n            log.error(&quot;Failed to save chunk {}&quot;, e.getMessage());\n        }\n\n        log.info(&quot;Created {} images&quot;, repository.count());\n    }\n}\n</code></pre>\n<p>Not worrying about time taken here to create the images (it's all single threaded) this will do what I expect, each chunk doesn't contain duplicates, however more than likely it will contain duplicates when compared to previously generated chunks.</p>\n<p>So to try and solve that I added a <code>@Column(unique = true)</code> annotation to each <code>hash</code> row being saved. Thinking Postgres will reject duplicates, but allow 'non-duplicates' to be saved.</p>\n<p>What seems to happen though is the batch write fails due to not satisfying the condition and doesn't seem to move past it.</p>\n<pre><code>2022-01-02 15:38:56.071 ERROR 19292 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint &quot;uk_90jgw9r7w8bhtgw17fmi79j0w&quot;\n  Detail: Key (hash)=(1625765490) already exists.\n</code></pre>\n<p>Even when attempting to catch those with a generic <code>Exception</code> either I'm not handling it correctly, or it doesn't do what I expect.</p>\n<p>Even this feels rather hackey and not a correct solution.</p>\n<p>So, tl:dr - How can I generate an unknown (assume millions) of unique objects, (without keeping them all in memory to check for uniqueness) and safely store those into Postgres?</p>\n<p>Is there some standard pattern for this kind of thing?</p>\n"},{"tags":["java","python","string"],"answers":[{"tags":[],"owner":{"account_id":5411634,"reputation":203,"user_id":4308192,"accept_rate":81,"display_name":"Okadzaki Tomoe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1445519490,"creation_date":1445519490,"answer_id":33281881,"question_id":33281826,"body_markdown":"For example:\r\n\r\n    String s = String.format(&quot;something %s&quot;,&quot;name&quot;);\r\n\r\n","title":"Java: Equivalent to Python&#39;s str.format()","body":"<p>For example:</p>\n\n<pre><code>String s = String.format(\"something %s\",\"name\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2601927,"reputation":13304,"user_id":2254048,"accept_rate":100,"display_name":"YoungHobbit"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1445519997,"creation_date":1445519553,"answer_id":33281904,"question_id":33281826,"body_markdown":"    System.out.format(&quot;ExampleProgram - %s - %s &quot;,type, msg);\r\n\r\nYou can use the format method from the `System.out`.\r\n\r\nThen use the following:\r\n\r\n     String output = String.format(&quot;ExampleProgram - %s - %s &quot;, type, msg);\r\n\r\nHere `type` and `msg` are of `String` type.\r\n\r\nFor any integer use `%d`, and floating point `%f`, and `String` `%s`.\r\n\r\nYou can find all the information about different way of formatting output in the java documentation. [Formatting Numeric Print Output][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/data/numberformat.html","title":"Java: Equivalent to Python&#39;s str.format()","body":"<pre><code>System.out.format(\"ExampleProgram - %s - %s \",type, msg);\n</code></pre>\n\n<p>You can use the format method from the <code>System.out</code>.</p>\n\n<p>Then use the following:</p>\n\n<pre><code> String output = String.format(\"ExampleProgram - %s - %s \", type, msg);\n</code></pre>\n\n<p>Here <code>type</code> and <code>msg</code> are of <code>String</code> type.</p>\n\n<p>For any integer use <code>%d</code>, and floating point <code>%f</code>, and <code>String</code> <code>%s</code>.</p>\n\n<p>You can find all the information about different way of formatting output in the java documentation. <a href=\"https://docs.oracle.com/javase/tutorial/java/data/numberformat.html\" rel=\"nofollow\">Formatting Numeric Print Output</a></p>\n"},{"tags":[],"owner":{"account_id":2704121,"reputation":7828,"user_id":2334092,"accept_rate":69,"display_name":"AbtPst"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445519628,"creation_date":1445519628,"answer_id":33281927,"question_id":33281826,"body_markdown":"how about System.out.printf()? then you can use c style formatting\r\n","title":"Java: Equivalent to Python&#39;s str.format()","body":"<p>how about System.out.printf()? then you can use c style formatting</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1445519644,"creation_date":1445519644,"answer_id":33281934,"question_id":33281826,"body_markdown":"[MessageFormat][1] has the exact usage.\r\n\r\n     int planet = 7;\r\n     String event = &quot;a disturbance in the Force&quot;;\r\n\r\n     String result = MessageFormat.format(\r\n         &quot;At {1,time} on {1,date}, there was {2} on planet {0,number,integer}.&quot;,\r\n         planet, new Date(), event);\r\n     \r\nYou can simple use `{0123}` without extras.\r\nThe output is:\r\n\r\n     At 12:30 PM on Jul 3, 2053, there was a disturbance in the Force on planet 7.\r\n     \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html","title":"Java: Equivalent to Python&#39;s str.format()","body":"<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html\">MessageFormat</a> has the exact usage.</p>\n\n<pre><code> int planet = 7;\n String event = \"a disturbance in the Force\";\n\n String result = MessageFormat.format(\n     \"At {1,time} on {1,date}, there was {2} on planet {0,number,integer}.\",\n     planet, new Date(), event);\n</code></pre>\n\n<p>You can simple use <code>{0123}</code> without extras.\nThe output is:</p>\n\n<pre><code> At 12:30 PM on Jul 3, 2053, there was a disturbance in the Force on planet 7.\n</code></pre>\n"}],"owner":{"account_id":4038832,"reputation":11673,"user_id":3322273,"accept_rate":73,"display_name":"SomethingSomething"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3256,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33281934,"answer_count":4,"score":2,"last_activity_date":1641116183,"creation_date":1445519338,"question_id":33281826,"body_markdown":"In Python, there is a very nice method which simplifies creation of strings, making their code beautiful and readable.\r\n\r\nFor example, the following code will print `ExampleProgram -E- Cannot do something`\r\n\r\n    \r\n    def print_msg(msg_type, msg):\r\n        print &#39;ExampleProgram -{0}- {1}&#39;.format(msg_type, msg)\r\n    print_msg(&#39;E&#39;, &#39;Cannot do something&#39;)\r\n\r\n\r\nI.e. I can specify &quot;slots&quot; within the string, using the `{x}` syntax, where `x` is the parameter index, and then it returns an new string, in which it replaces these slots with the parameters passed to the `.format()` method.\r\n\r\n\r\nCurrently with my Java knowledge, I would implement such a method this ugly way:\r\n\r\n    void printMsg(String type, String msg) {\r\n        System.out.println(&quot;ExampleProgram -&quot; + type + &quot;- &quot; + msg);\r\n    }\r\n\r\n\r\nIs there something equivalent to Python&#39;s `.format()` string method?\r\n","title":"Java: Equivalent to Python&#39;s str.format()","body":"<p>In Python, there is a very nice method which simplifies creation of strings, making their code beautiful and readable.</p>\n<p>For example, the following code will print <code>ExampleProgram -E- Cannot do something</code></p>\n<pre><code>def print_msg(msg_type, msg):\n    print 'ExampleProgram -{0}- {1}'.format(msg_type, msg)\nprint_msg('E', 'Cannot do something')\n</code></pre>\n<p>I.e. I can specify &quot;slots&quot; within the string, using the <code>{x}</code> syntax, where <code>x</code> is the parameter index, and then it returns an new string, in which it replaces these slots with the parameters passed to the <code>.format()</code> method.</p>\n<p>Currently with my Java knowledge, I would implement such a method this ugly way:</p>\n<pre><code>void printMsg(String type, String msg) {\n    System.out.println(&quot;ExampleProgram -&quot; + type + &quot;- &quot; + msg);\n}\n</code></pre>\n<p>Is there something equivalent to Python's <code>.format()</code> string method?</p>\n"},{"tags":["java","amazon-web-services","amazon-iam"],"comments":[{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":1,"creation_date":1641038730,"post_id":70548284,"comment_id":124710316,"body_markdown":"I tried out your code, I run into the same issue. I believe this is a bug in the SDK. [@smac2020](https://stackoverflow.com/users/1435543/smac2020) could you confirm this?","body":"I tried out your code, I run into the same issue. I believe this is a bug in the SDK. <a href=\"https://stackoverflow.com/users/1435543/smac2020\">@smac2020</a> could you confirm this?"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1641061483,"post_id":70548284,"comment_id":124714449,"body_markdown":"I will look into this,,,","body":"I will look into this,,,"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641063130,"creation_date":1641062612,"answer_id":70551053,"question_id":70548284,"body_markdown":"I have confirmed this behavior by setting a permission boundary on an IAM user in the AWS Management Console. I changed the ListUsers example to include this code: \r\n\r\n     for(User user : response.users()) {\r\n        System.out.format(&quot;\\n Retrieved user %s&quot;, user.userName());\r\n        AttachedPermissionsBoundary permissionsBoundary = user.permissionsBoundary();\r\n        if (permissionsBoundary != null)\r\n            System.out.format(&quot;\\n Permissions boundary details %s&quot;, permissionsBoundary.permissionsBoundaryTypeAsString());\r\n       }\r\n...\r\n\r\nThe **permissionsBoundary()** method does return null - even though the permission is set. This is a bug. \r\n\r\nMy advice here is to log a Github issue here: \r\n\r\nhttps://github.com/aws/aws-sdk-java-v2\r\n\r\nI also tested this with Kotlin SDK. Same result. \r\n\r\n    suspend fun listAllUsers() {\r\n    \r\n            IamClient { region = &quot;AWS_GLOBAL&quot; }.use { iamClient -&gt;\r\n                val response = iamClient.listUsers(ListUsersRequest { })\r\n                response.users?.forEach { user -&gt;\r\n                    println(&quot;Retrieved user ${user.userName}&quot;)\r\n                    val permissionsBoundary = user.permissionsBoundary\r\n                    if (permissionsBoundary != null)\r\n                        println(&quot;Permissions boundary details ${permissionsBoundary.permissionsBoundaryType.toString()}&quot;)\r\n    \r\n                }\r\n            }\r\n     }\r\n\r\n","title":"user.permissionsBoundary returns NULL while retrieving information from AWS using Java SDK","body":"<p>I have confirmed this behavior by setting a permission boundary on an IAM user in the AWS Management Console. I changed the ListUsers example to include this code:</p>\n<pre><code> for(User user : response.users()) {\n    System.out.format(&quot;\\n Retrieved user %s&quot;, user.userName());\n    AttachedPermissionsBoundary permissionsBoundary = user.permissionsBoundary();\n    if (permissionsBoundary != null)\n        System.out.format(&quot;\\n Permissions boundary details %s&quot;, permissionsBoundary.permissionsBoundaryTypeAsString());\n   }\n</code></pre>\n<p>...</p>\n<p>The <strong>permissionsBoundary()</strong> method does return null - even though the permission is set. This is a bug.</p>\n<p>My advice here is to log a Github issue here:</p>\n<p><a href=\"https://github.com/aws/aws-sdk-java-v2\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java-v2</a></p>\n<p>I also tested this with Kotlin SDK. Same result.</p>\n<pre><code>suspend fun listAllUsers() {\n\n        IamClient { region = &quot;AWS_GLOBAL&quot; }.use { iamClient -&gt;\n            val response = iamClient.listUsers(ListUsersRequest { })\n            response.users?.forEach { user -&gt;\n                println(&quot;Retrieved user ${user.userName}&quot;)\n                val permissionsBoundary = user.permissionsBoundary\n                if (permissionsBoundary != null)\n                    println(&quot;Permissions boundary details ${permissionsBoundary.permissionsBoundaryType.toString()}&quot;)\n\n            }\n        }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641115175,"creation_date":1641063918,"answer_id":70551179,"question_id":70548284,"body_markdown":"I do not think it is an issue, but the programmed behavior. From the [API docs](https://docs.aws.amazon.com/IAM/latest/APIReference/API_ListUsers.html):\r\n\r\n&gt; IAM resource-listing operations return a subset of the available attributes \r\n&gt; for the resource. For example, this operation does not return tags, even \r\n&gt; though they are an attribute of the returned object. To view all of the \r\n&gt; information for a user, see [GetUser](https://docs.aws.amazon.com/IAM/latest/APIReference/API_GetUser.html).\r\n\r\nThis is stated as well in the API [javadocs](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/iam/IamClient.html#listUsers-software.amazon.awssdk.services.iam.model.ListUsersRequest-).\r\n\r\nIn the console you are using `get-user`, not [`list-users`](https://docs.aws.amazon.com/cli/latest/reference/iam/list-users.html), and this is why the command is returning all the information about the user, `PermissionsBoundary` within it.\r\n\r\nPlease, try instead using:\r\n\r\n```\r\naws iam list-users\r\n```\r\n\r\nand check the output, it should match the result you obtained with the Java SDK, it will not contain `PermissionsBoundary` either.\r\n\r\nIf you want to obtain the same results that you are currently getting with the command `aws iam get-user --user-name test` from Java code, you can use the [`getUser` method](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/iam/IamClient.html#getUser-software.amazon.awssdk.services.iam.model.GetUserRequest-) in `IamClient`. Try Something like:\r\n\r\n```java\r\nGetUserRequest request = GetUserRequest.builder()\r\n  .userName(&quot;test&quot;)\r\n  .build()\r\n;\r\n\r\nGetUserResponse response = iam.getUser(request);\r\nUser user = response.user();\r\nSystem.out.println(&quot;\\nPermission Boundary: &quot; + user.permissionsBoundary());\r\n```\r\n\r\nThe [`User` class](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/iam/model/User.html) is reused in both operations, `get` and `list`, but only in the former all the fields are populated.","title":"user.permissionsBoundary returns NULL while retrieving information from AWS using Java SDK","body":"<p>I do not think it is an issue, but the programmed behavior. From the <a href=\"https://docs.aws.amazon.com/IAM/latest/APIReference/API_ListUsers.html\" rel=\"nofollow noreferrer\">API docs</a>:</p>\n<blockquote>\n<p>IAM resource-listing operations return a subset of the available attributes\nfor the resource. For example, this operation does not return tags, even\nthough they are an attribute of the returned object. To view all of the\ninformation for a user, see <a href=\"https://docs.aws.amazon.com/IAM/latest/APIReference/API_GetUser.html\" rel=\"nofollow noreferrer\">GetUser</a>.</p>\n</blockquote>\n<p>This is stated as well in the API <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/iam/IamClient.html#listUsers-software.amazon.awssdk.services.iam.model.ListUsersRequest-\" rel=\"nofollow noreferrer\">javadocs</a>.</p>\n<p>In the console you are using <code>get-user</code>, not <a href=\"https://docs.aws.amazon.com/cli/latest/reference/iam/list-users.html\" rel=\"nofollow noreferrer\"><code>list-users</code></a>, and this is why the command is returning all the information about the user, <code>PermissionsBoundary</code> within it.</p>\n<p>Please, try instead using:</p>\n<pre><code>aws iam list-users\n</code></pre>\n<p>and check the output, it should match the result you obtained with the Java SDK, it will not contain <code>PermissionsBoundary</code> either.</p>\n<p>If you want to obtain the same results that you are currently getting with the command <code>aws iam get-user --user-name test</code> from Java code, you can use the <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/iam/IamClient.html#getUser-software.amazon.awssdk.services.iam.model.GetUserRequest-\" rel=\"nofollow noreferrer\"><code>getUser</code> method</a> in <code>IamClient</code>. Try Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GetUserRequest request = GetUserRequest.builder()\n  .userName(&quot;test&quot;)\n  .build()\n;\n\nGetUserResponse response = iam.getUser(request);\nUser user = response.user();\nSystem.out.println(&quot;\\nPermission Boundary: &quot; + user.permissionsBoundary());\n</code></pre>\n<p>The <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/iam/model/User.html\" rel=\"nofollow noreferrer\"><code>User</code> class</a> is reused in both operations, <code>get</code> and <code>list</code>, but only in the former all the fields are populated.</p>\n"}],"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70551179,"answer_count":2,"score":1,"last_activity_date":1641115175,"creation_date":1641033225,"question_id":70548284,"body_markdown":"I am using AWS Java SDK v2 to list users using the code defined [here][1] on the AWS GitHub repo. \r\n\r\n     public static void listAllUsers(IamClient iam) {\r\n\r\n        try {\r\n            boolean done = false;\r\n            String newMarker = null;\r\n\r\n            while (!done) {\r\n                ListUsersResponse response;\r\n\r\n                ListUsersRequest request;\r\n                if (newMarker == null) {\r\n                    request = ListUsersRequest.builder().build();\r\n                } else {\r\n                    request = ListUsersRequest.builder()\r\n                            .marker(newMarker).build();\r\n                }\r\n\r\n                response = iam.listUsers(request);\r\n\r\n                for (User user : response.users()) {\r\n                    System.out.format(&quot;\\n Retrieved user %s&quot;, user.userName());\r\n                    System.out.println(&quot;\\nPermission Boundary: &quot; + user.permissionsBoundary());\r\n                }\r\n\r\n                if (!response.isTruncated()) {\r\n                    done = true;\r\n                } else {\r\n                    newMarker = response.marker();\r\n                }\r\n            }\r\n        } catch (IamException e) {\r\n            System.err.println(e);\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\nIt returns NULL for `user.permissionsBoundary()`.  Here is the output for print statements in the above code.    \r\n\r\n     Retrieved user jamshaid\r\n    Permission Boundary: null\r\n\r\n     Retrieved user luminadmin\r\n    Permission Boundary: null\r\n\r\n     Retrieved user test\r\n    Permission Boundary: null\r\n\r\n\r\n  \r\n\r\nWhen I run the following command in AWS CloudShell on AWS console, it returns the PermissionBoundary for the users it is defined.    \r\n \r\n\r\n    aws iam get-user --user-name test     \r\n Here is the sample output from AWS CloudShell.    \r\n[![console output][2]][2]    \r\nI am using the same account to make both requests.\r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/iam/src/main/java/com/example/iam/ListUsers.java\r\n  [2]: https://i.stack.imgur.com/MefNu.png","title":"user.permissionsBoundary returns NULL while retrieving information from AWS using Java SDK","body":"<p>I am using AWS Java SDK v2 to list users using the code defined <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/iam/src/main/java/com/example/iam/ListUsers.java\" rel=\"nofollow noreferrer\">here</a> on the AWS GitHub repo.</p>\n<pre><code> public static void listAllUsers(IamClient iam) {\n\n    try {\n        boolean done = false;\n        String newMarker = null;\n\n        while (!done) {\n            ListUsersResponse response;\n\n            ListUsersRequest request;\n            if (newMarker == null) {\n                request = ListUsersRequest.builder().build();\n            } else {\n                request = ListUsersRequest.builder()\n                        .marker(newMarker).build();\n            }\n\n            response = iam.listUsers(request);\n\n            for (User user : response.users()) {\n                System.out.format(&quot;\\n Retrieved user %s&quot;, user.userName());\n                System.out.println(&quot;\\nPermission Boundary: &quot; + user.permissionsBoundary());\n            }\n\n            if (!response.isTruncated()) {\n                done = true;\n            } else {\n                newMarker = response.marker();\n            }\n        }\n    } catch (IamException e) {\n        System.err.println(e);\n        System.exit(1);\n    }\n}\n</code></pre>\n<p>It returns NULL for <code>user.permissionsBoundary()</code>.  Here is the output for print statements in the above code.</p>\n<pre><code> Retrieved user jamshaid\nPermission Boundary: null\n\n Retrieved user luminadmin\nPermission Boundary: null\n\n Retrieved user test\nPermission Boundary: null\n</code></pre>\n<p>When I run the following command in AWS CloudShell on AWS console, it returns the PermissionBoundary for the users it is defined.</p>\n<pre><code>aws iam get-user --user-name test     \n</code></pre>\n<p>Here is the sample output from AWS CloudShell.<br />\n<a href=\"https://i.stack.imgur.com/MefNu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MefNu.png\" alt=\"console output\" /></a><br />\nI am using the same account to make both requests.</p>\n"},{"tags":["java","multithreading","spring-boot","threadpool"],"answers":[{"tags":[],"owner":{"account_id":14401561,"reputation":582,"user_id":10403022,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641075840,"creation_date":1641075840,"answer_id":70552313,"question_id":70552112,"body_markdown":"\r\n*A thread is an independent path of execution through program code*. Creating a thread is an expensive task. There is a lot of work needs to be done like allocating memory, initializing the thread stack.\r\n\r\n 1. It is good to create thread pool once\r\n    for the application and not on each request. It reduces overhead and\r\n    latency in processing the request. In Spring boot you can define a\r\n    bean for this.\r\n    \r\n         @Bean(&quot;cachedThreadPool&quot;)\r\n         public ExecutorService cachedThreadPool() {\r\n         \treturn Executors.newCachedThreadPool();\r\n         }\r\n    \r\n   2. Consider a database connection with a\r\n    maximum pool size of 50. It doesn&#39;t make sense to have a thread pool\r\n    of 100 in this case. So it is always better to decide on maximum\r\n    numbers of threads based on the use case you&#39;re on.","title":"Thread pool in each api request vs single application pool reuse","body":"<p><em>A thread is an independent path of execution through program code</em>. Creating a thread is an expensive task. There is a lot of work needs to be done like allocating memory, initializing the thread stack.</p>\n<ol>\n<li><p>It is good to create thread pool once\nfor the application and not on each request. It reduces overhead and\nlatency in processing the request. In Spring boot you can define a\nbean for this.</p>\n<pre><code> @Bean(&quot;cachedThreadPool&quot;)\n public ExecutorService cachedThreadPool() {\n    return Executors.newCachedThreadPool();\n }\n</code></pre>\n</li>\n<li><p>Consider a database connection with a\nmaximum pool size of 50. It doesn't make sense to have a thread pool\nof 100 in this case. So it is always better to decide on maximum\nnumbers of threads based on the use case you're on.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641114483,"creation_date":1641114483,"answer_id":70554795,"question_id":70552112,"body_markdown":"You can use spring ThreadPoolTaskExecutor. Here you can configure pool size, max pool size, queue size etc.\r\n\r\n    @Bean\r\n    ThreadPoolTaskExecutor taskExecutor() {\r\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n        taskExecutor.setCorePoolSize(500);\r\n        taskExecutor.setMaxPoolSize(1000);\r\n        taskExecutor.setQueueCapacity(200);\r\n        taskExecutor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());\r\n        return taskExecutor;\r\n    }\r\n\r\n[Check][1] this fore maxPoolSize, corePoolSize, queueSize.\r\n\r\n\r\n  [1]: https://codingtim.github.io/spring-threadpooltaskexecutor/","title":"Thread pool in each api request vs single application pool reuse","body":"<p>You can use spring ThreadPoolTaskExecutor. Here you can configure pool size, max pool size, queue size etc.</p>\n<pre><code>@Bean\nThreadPoolTaskExecutor taskExecutor() {\n    ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n    taskExecutor.setCorePoolSize(500);\n    taskExecutor.setMaxPoolSize(1000);\n    taskExecutor.setQueueCapacity(200);\n    taskExecutor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());\n    return taskExecutor;\n}\n</code></pre>\n<p><a href=\"https://codingtim.github.io/spring-threadpooltaskexecutor/\" rel=\"nofollow noreferrer\">Check</a> this fore maxPoolSize, corePoolSize, queueSize.</p>\n"}],"owner":{"account_id":3390495,"reputation":12113,"user_id":2845414,"accept_rate":94,"display_name":"Sumeet Kumar Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1708,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70552313,"answer_count":2,"score":2,"last_activity_date":1641114483,"creation_date":1641073822,"question_id":70552112,"body_markdown":"I want to run few task in parallel on each request I receive from client . I am using spring boot to run server and on HTTP api call it calls getItems method . I am using Executors.newCachedThreadPool() to spawn multiple threads . I need few inputs on below implementation\r\n\r\n 1. Is it good to have ExecutorService thread pool with each request or create a pool once for application and reuse it? \r\n 2. How to decide the pool size for the Executors service.\r\n```\r\n@Override\r\n            public List&lt;Item&gt; getItems(List&lt;String&gt; id) {\r\n                List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n                ExecutorService execSvc = Executors.newCachedThreadPool();\r\n                List&lt;Callable&lt;Item&gt; &gt; inventories = id.stream()\r\n                        .map((itemId)-&gt; (Callable&lt;Item&gt;) () -&gt; {\r\n                            List&lt;InventoryNode&gt; inventoryNodes =  getInventory(itemId);\r\n                            return getItem(inventoryNodes);\r\n                        }).collect(Collectors.toList());\r\n                try {\r\n                    List&lt;Future&lt;Item&gt;&gt; results = execSvc.invokeAll(inventories);\r\n                    for(Future&lt;Item&gt; inventory :results){\r\n                        if(inventory.isDone()){\r\n                            items.add(inventory.get());\r\n                        }\r\n                    }\r\n                } catch (InterruptedException | ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }finally {\r\n                    execSvc.shutdown();\r\n                }\r\n                return items;\r\n            }\r\n```","title":"Thread pool in each api request vs single application pool reuse","body":"<p>I want to run few task in parallel on each request I receive from client . I am using spring boot to run server and on HTTP api call it calls getItems method . I am using Executors.newCachedThreadPool() to spawn multiple threads . I need few inputs on below implementation</p>\n<ol>\n<li>Is it good to have ExecutorService thread pool with each request or create a pool once for application and reuse it?</li>\n<li>How to decide the pool size for the Executors service.</li>\n</ol>\n<pre><code>@Override\n            public List&lt;Item&gt; getItems(List&lt;String&gt; id) {\n                List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n                ExecutorService execSvc = Executors.newCachedThreadPool();\n                List&lt;Callable&lt;Item&gt; &gt; inventories = id.stream()\n                        .map((itemId)-&gt; (Callable&lt;Item&gt;) () -&gt; {\n                            List&lt;InventoryNode&gt; inventoryNodes =  getInventory(itemId);\n                            return getItem(inventoryNodes);\n                        }).collect(Collectors.toList());\n                try {\n                    List&lt;Future&lt;Item&gt;&gt; results = execSvc.invokeAll(inventories);\n                    for(Future&lt;Item&gt; inventory :results){\n                        if(inventory.isDone()){\n                            items.add(inventory.get());\n                        }\n                    }\n                } catch (InterruptedException | ExecutionException e) {\n                    e.printStackTrace();\n                }finally {\n                    execSvc.shutdown();\n                }\n                return items;\n            }\n</code></pre>\n"},{"tags":["java","hashmap","hashtable"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1641030126,"post_id":70548036,"comment_id":124709076,"body_markdown":"Is your code working? If not, what seems to be the trouble?","body":"Is your code working? If not, what seems to be the trouble?"},{"owner":{"account_id":903708,"reputation":4817,"user_id":939133,"accept_rate":70,"display_name":"Jakoss"},"score":1,"creation_date":1641030887,"post_id":70548036,"comment_id":124709221,"body_markdown":"What is the question here? Stack Overflow is not a code review portal","body":"What is the question here? Stack Overflow is not a code review portal"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1641031353,"post_id":70548036,"comment_id":124709287,"body_markdown":"Do you really need a map if the &quot;key&quot; in each line is the number from 0 to N?  It seems that a list is more appropriate to store the values after the row number.","body":"Do you really need a map if the &quot;key&quot; in each line is the number from 0 to N?  It seems that a list is more appropriate to store the values after the row number."},{"owner":{"account_id":112753,"reputation":772,"user_id":297274,"accept_rate":23,"display_name":"cobp"},"score":0,"creation_date":1641034309,"post_id":70548036,"comment_id":124709678,"body_markdown":"key value and value can be determined as follows: int key = Integer.parseInt(temp[i].split(&quot; &quot;)[0]); and value can be determined as follows:String val = temp[i].replaceFirst(&quot;[0-9]+ &quot;,&quot;&quot;);","body":"key value and value can be determined as follows: int key = Integer.parseInt(temp[i].split(&quot; &quot;)[0]); and value can be determined as follows:String val = temp[i].replaceFirst(&quot;[0-9]+ &quot;,&quot;&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":9066455,"reputation":726,"user_id":6751083,"display_name":"Mohammad Reza Khahani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641113986,"creation_date":1641031690,"answer_id":70548180,"question_id":70548036,"body_markdown":"You can use Map for key-value values. If you have any restrictions for using Map, let me know to write an array example. The code below shows you how to use Map:\r\n\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    \r\n    public class App {\r\n        public static void main(String[] args) {\r\n    \r\n            String text = &quot;0 96\\n&quot; +\r\n                    &quot;1 29\\n&quot; +\r\n                    &quot;2 304\\n&quot; +\r\n                    &quot;3 561\\n&quot; +\r\n                    &quot;4 742\\n&quot; +\r\n                    &quot;5 621\\n&quot; +\r\n                    &quot;6 620\\n&quot; +\r\n                    &quot;11605 sub %14922, 12566\\n&quot; +\r\n                    &quot;11606 mov %15653, %12958&quot;;\r\n    \r\n            HashMap&lt;Integer, String&gt; items = new HashMap&lt;&gt;();\r\n    \r\n            Arrays.stream(text.split(&quot;\\n&quot;)).forEach((s) -&gt; {\r\n                int splitIndex = s.indexOf(&quot; &quot;);\r\n                String key = s.substring(0, splitIndex);\r\n                String value = s.substring(splitIndex);\r\n    \r\n                items.put(Integer.parseInt(key), value);\r\n            });\r\n    \r\n            System.out.println(items);\r\n        }\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n{0= 96, 1= 29, 2= 304, 3= 561, 4= 742, 5= 621, 11605= sub %14922, 12566, 6= 620, 11606= mov %15653, %12958}","title":"Representing memory using hashtable from a text file","body":"<p>You can use Map for key-value values. If you have any restrictions for using Map, let me know to write an array example. The code below shows you how to use Map:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.HashMap;\n\npublic class App {\n    public static void main(String[] args) {\n\n        String text = &quot;0 96\\n&quot; +\n                &quot;1 29\\n&quot; +\n                &quot;2 304\\n&quot; +\n                &quot;3 561\\n&quot; +\n                &quot;4 742\\n&quot; +\n                &quot;5 621\\n&quot; +\n                &quot;6 620\\n&quot; +\n                &quot;11605 sub %14922, 12566\\n&quot; +\n                &quot;11606 mov %15653, %12958&quot;;\n\n        HashMap&lt;Integer, String&gt; items = new HashMap&lt;&gt;();\n\n        Arrays.stream(text.split(&quot;\\n&quot;)).forEach((s) -&gt; {\n            int splitIndex = s.indexOf(&quot; &quot;);\n            String key = s.substring(0, splitIndex);\n            String value = s.substring(splitIndex);\n\n            items.put(Integer.parseInt(key), value);\n        });\n\n        System.out.println(items);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<p>{0= 96, 1= 29, 2= 304, 3= 561, 4= 742, 5= 621, 11605= sub %14922, 12566, 6= 620, 11606= mov %15653, %12958}</p>\n"}],"owner":{"account_id":22628443,"reputation":25,"user_id":16806199,"display_name":"monstajoe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1641032606,"accepted_answer_id":70548180,"answer_count":1,"score":-1,"last_activity_date":1641113986,"creation_date":1641029979,"question_id":70548036,"body_markdown":"I have a project where I need to create a memory management program in Java and I have the text file but don&#39;t know where to begin. I&#39;m already familiar with the `split()` method in Java, but basically I want the index as the key and everything that comes after as a value.\r\n\r\nHere&#39;s the text file cus it&#39;s big AF: https://pastebin.com/Q4whQHxW\r\n\r\nCode:\r\n```java \r\n\r\nString[] temp;\r\ntemp = data.split(&quot;\\n&quot;); //assume data is the string that contains the text \r\n//doc contents\r\nString[][] temp2 = new String[temp.length][];\r\n\r\nfor(int i = 0; i &lt; temp.length; i++) {\r\n    temp2[i] = temp[i].split(&quot;( )&quot;);\r\n}\r\nfor(int i = 0; i &lt; temp2.length; i++) {\r\n    for(int j = 1; j &lt; temp2[i].length; j++)\r\n        memoryPhysical.put(Integer.parseInt(temp2[i][0]),temp2[i][j]);\r\n}\r\nSystem.out.println(memoryPhysical);\r\n```","title":"Representing memory using hashtable from a text file","body":"<p>I have a project where I need to create a memory management program in Java and I have the text file but don't know where to begin. I'm already familiar with the <code>split()</code> method in Java, but basically I want the index as the key and everything that comes after as a value.</p>\n<p>Here's the text file cus it's big AF: <a href=\"https://pastebin.com/Q4whQHxW\" rel=\"nofollow noreferrer\">https://pastebin.com/Q4whQHxW</a></p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nString[] temp;\ntemp = data.split(&quot;\\n&quot;); //assume data is the string that contains the text \n//doc contents\nString[][] temp2 = new String[temp.length][];\n\nfor(int i = 0; i &lt; temp.length; i++) {\n    temp2[i] = temp[i].split(&quot;( )&quot;);\n}\nfor(int i = 0; i &lt; temp2.length; i++) {\n    for(int j = 1; j &lt; temp2[i].length; j++)\n        memoryPhysical.put(Integer.parseInt(temp2[i][0]),temp2[i][j]);\n}\nSystem.out.println(memoryPhysical);\n</code></pre>\n"},{"tags":["java","macos","pcsc","smartcardio"],"answers":[{"tags":[],"owner":{"account_id":2844059,"reputation":685,"user_id":2442960,"accept_rate":57,"display_name":"geri-m"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641113671,"creation_date":1641113671,"answer_id":70554711,"question_id":70531793,"body_markdown":"The option with `System.setProperty` works for me.\r\n\r\nThe only problem in my case was, that there was a typo in the property name. The correct property name is `sun.security.smartcardio.library`","title":"javax.smartcardio on macOS Monterey does not find PCSC readers","body":"<p>The option with <code>System.setProperty</code> works for me.</p>\n<p>The only problem in my case was, that there was a typo in the property name. The correct property name is <code>sun.security.smartcardio.library</code></p>\n"}],"owner":{"account_id":2844059,"reputation":685,"user_id":2442960,"accept_rate":57,"display_name":"geri-m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1018,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70554711,"answer_count":1,"score":0,"last_activity_date":1641113671,"creation_date":1640867875,"question_id":70531793,"body_markdown":"I want to access a PC/SC Reader (Reiner SCT) on macOS Monterey (12.0.1) using Java 8/11. (`javax.smartcardio` already works in [Java 11](https://stackoverflow.com/questions/52054619/javax-smartcardio-in-java-9-10-11-12-etc/61721513#61721513)). With both Java Version, \r\n\r\n```java\r\nTerminalFactory factory = TerminalFactory.getDefault();\r\nList&lt;CardTerminal&gt; terminals = factory.terminals().list();\r\n```\r\n\r\nreturns an empty list of readers. I found a similar [issue already for OS X Big Sur](https://bugs.openjdk.java.net/browse/JDK-8255877). Hence I was trying to start my application with the parameter as CLI argument\r\n\r\n```shell\r\n-Dsun.security.smartcardio.library=&quot;/System/Library/Frameworks/PCSC.framework/Versions/Current/PCSC&quot;\r\n```\r\n\r\nbut also via the run time code\r\n\r\n```java\r\nSystem.setProperty(&quot;sun.security.smadtcardio.library&quot;, &quot;/System/Library/Frameworks/PCSC.framework/Versions/Current/PCSC&quot;);\r\n```\r\n\r\n-- but the list stays empty. \r\n\r\nWhen I list the content of the folder `/System/Library/Frameworks/PCSC.framework/Versions/Current/` on my mac, there is no `PCSC` on macOS Monterey (only `Resources`, `XPCServices` and `_CodeSignature`). Hence I assume there is something missing.\r\n\r\nSo the question is, what do I need to do, to make `javax.smartcardio` work on macOS Monterey.","title":"javax.smartcardio on macOS Monterey does not find PCSC readers","body":"<p>I want to access a PC/SC Reader (Reiner SCT) on macOS Monterey (12.0.1) using Java 8/11. (<code>javax.smartcardio</code> already works in <a href=\"https://stackoverflow.com/questions/52054619/javax-smartcardio-in-java-9-10-11-12-etc/61721513#61721513\">Java 11</a>). With both Java Version,</p>\n<pre class=\"lang-java prettyprint-override\"><code>TerminalFactory factory = TerminalFactory.getDefault();\nList&lt;CardTerminal&gt; terminals = factory.terminals().list();\n</code></pre>\n<p>returns an empty list of readers. I found a similar <a href=\"https://bugs.openjdk.java.net/browse/JDK-8255877\" rel=\"nofollow noreferrer\">issue already for OS X Big Sur</a>. Hence I was trying to start my application with the parameter as CLI argument</p>\n<pre class=\"lang-sh prettyprint-override\"><code>-Dsun.security.smartcardio.library=&quot;/System/Library/Frameworks/PCSC.framework/Versions/Current/PCSC&quot;\n</code></pre>\n<p>but also via the run time code</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;sun.security.smadtcardio.library&quot;, &quot;/System/Library/Frameworks/PCSC.framework/Versions/Current/PCSC&quot;);\n</code></pre>\n<p>-- but the list stays empty.</p>\n<p>When I list the content of the folder <code>/System/Library/Frameworks/PCSC.framework/Versions/Current/</code> on my mac, there is no <code>PCSC</code> on macOS Monterey (only <code>Resources</code>, <code>XPCServices</code> and <code>_CodeSignature</code>). Hence I assume there is something missing.</p>\n<p>So the question is, what do I need to do, to make <code>javax.smartcardio</code> work on macOS Monterey.</p>\n"},{"tags":["java","compiler-construction"],"comments":[{"owner":{"account_id":140233,"reputation":2538,"user_id":346387,"display_name":"Andrew"},"score":0,"creation_date":1305853668,"post_id":6066257,"comment_id":7024252,"body_markdown":"you&#39;re importing acm.program... which you say is a package... not a class.   To import a class from acm.program package you have to do *&#39;import acm.program.CLASS&#39;*, to import a single class OR you have import all the classes in the package with _&#39;import acm.program.*_ ;&#39;","body":"you&#39;re importing acm.program... which you say is a package... not a class.   To import a class from acm.program package you have to do <i>&#39;import acm.program.CLASS&#39;</i>, to import a single class OR you have import all the classes in the package with <i>&#39;import acm.program.*</i> ;&#39;"}],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1305851063,"creation_date":1305851063,"answer_id":6066280,"question_id":6066257,"body_markdown":"Are you running these commands on a Windows machine? On Windows, the elements of the classpath are separated by a semicolon, not a colon. So:\r\n\r\n    javac -classpath .;acm.jar TestConsole.java\r\n\r\nAnother possibility: the structure of `acm.jar` is wrong. It&#39;s not sufficient that the class files inside were compiled from files that declare `package acm.program` - the package structure must also be represented as a directory hierarchy, so `acm.jar` must contain a directory `acm`, and within that a subdirectory `program` that contains the actual class files for the classes used in `TestConsole`.\r\n\r\n","title":"How to compile Java program with .jar library","body":"<p>Are you running these commands on a Windows machine? On Windows, the elements of the classpath are separated by a semicolon, not a colon. So:</p>\n\n<pre><code>javac -classpath .;acm.jar TestConsole.java\n</code></pre>\n\n<p>Another possibility: the structure of <code>acm.jar</code> is wrong. It's not sufficient that the class files inside were compiled from files that declare <code>package acm.program</code> - the package structure must also be represented as a directory hierarchy, so <code>acm.jar</code> must contain a directory <code>acm</code>, and within that a subdirectory <code>program</code> that contains the actual class files for the classes used in <code>TestConsole</code>.</p>\n"},{"tags":[],"owner":{"account_id":324587,"reputation":18467,"user_id":645226,"accept_rate":74,"display_name":"Bhushan"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1305852389,"creation_date":1305851619,"answer_id":6066317,"question_id":6066257,"body_markdown":"    javac -cp &lt;jar you want to include&gt;;&lt;jar you want to include&gt; &lt;source.java&gt; \r\n\r\n`&lt;jar you want to include&gt;`  if in same directory, just name of jar will do, if not, specify full or relative paths\r\n\r\nif more than one jars, separate with `,`\r\n\r\nreplace `;` with `:` on `unix`\r\n\r\nIf possible, use some IDE like Eclipse. I used to spend a lot of time on similar things, but in industry, you will hardly ever do it in this fashion.","title":"How to compile Java program with .jar library","body":"<pre><code>javac -cp &lt;jar you want to include&gt;;&lt;jar you want to include&gt; &lt;source.java&gt; \n</code></pre>\n\n<p><code>&lt;jar you want to include&gt;</code>  if in same directory, just name of jar will do, if not, specify full or relative paths</p>\n\n<p>if more than one jars, separate with <code>,</code></p>\n\n<p>replace <code>;</code> with <code>:</code> on <code>unix</code></p>\n\n<p>If possible, use some IDE like Eclipse. I used to spend a lot of time on similar things, but in industry, you will hardly ever do it in this fashion.</p>\n"},{"tags":[],"owner":{"account_id":140233,"reputation":2538,"user_id":346387,"display_name":"Andrew"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1305853556,"creation_date":1305853556,"answer_id":6066485,"question_id":6066257,"body_markdown":"Check list:\r\n\r\n 1. your classes in acm.jar appear as:\r\n    &lt;p&gt;acm/program/CLASSX.class\r\n    &lt;p&gt;acm/program/CLASSY.class\r\n\r\n   when  decanted with jar tf acm.jar\r\n\r\n 2. You&#39;re importing them like:\r\n\r\n&lt;p&gt; import acm.program.CLASSX ;\r\n&lt;p&gt;or\r\n&lt;p&gt; import acm.program.* ;\r\n\r\n\r\n","title":"How to compile Java program with .jar library","body":"<p>Check list:</p>\n\n<ol>\n<li><p>your classes in acm.jar appear as:\n<p>acm/program/CLASSX.class\n<p>acm/program/CLASSY.class</p>\n\n<p>when  decanted with jar tf acm.jar</p></li>\n<li><p>You're importing them like:</p></li>\n</ol>\n\n<p><p> import acm.program.CLASSX ;\n<p>or\n<p> import acm.program.* ;</p>\n"},{"tags":[],"owner":{"account_id":10582861,"reputation":1,"user_id":7796089,"display_name":"Narayan Iyer"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1490943381,"creation_date":1490941331,"answer_id":43133766,"question_id":6066257,"body_markdown":"I&#39;m just adding for folks who are still looking for the answer to the same problem after successful compilation.\r\n\r\nWhile compiling use the command as suggested above by @Michael Borgwardt:\r\n\r\n    javac -classpath .;acm.jar TestConsole.java\r\n\r\nFor executing also you need to specify the class path:\r\n\r\n    java -classpath .;acm.jar TestConsole\r\n\r\n","title":"How to compile Java program with .jar library","body":"<p>I'm just adding for folks who are still looking for the answer to the same problem after successful compilation.</p>\n\n<p>While compiling use the command as suggested above by @Michael Borgwardt:</p>\n\n<pre><code>javac -classpath .;acm.jar TestConsole.java\n</code></pre>\n\n<p>For executing also you need to specify the class path:</p>\n\n<pre><code>java -classpath .;acm.jar TestConsole\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3703023,"reputation":4987,"user_id":3082414,"accept_rate":35,"display_name":"Kirk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641113618,"creation_date":1536003538,"answer_id":52155432,"question_id":6066257,"body_markdown":"Whoever is trying to compile and still having the problem as I struggled for hours, I tried all the answers above and still was not able to run the program due to one minor issue.\r\n\r\nThe no-brainier issue was the semi colon after every package. I am not sure about Mac or Linux but for Windows Command Prompt this was the case\r\n\r\n`javac -cp mysql-connector-java-8.0.12.jar; Testing.java`\r\n\r\n`java -cp mysql-connector-java-8.0.12.jar; Testing`\r\n\r\nYou might wanna follow this both cases either in compilation or while running.","title":"How to compile Java program with .jar library","body":"<p>Whoever is trying to compile and still having the problem as I struggled for hours, I tried all the answers above and still was not able to run the program due to one minor issue.</p>\n<p>The no-brainier issue was the semi colon after every package. I am not sure about Mac or Linux but for Windows Command Prompt this was the case</p>\n<p><code>javac -cp mysql-connector-java-8.0.12.jar; Testing.java</code></p>\n<p><code>java -cp mysql-connector-java-8.0.12.jar; Testing</code></p>\n<p>You might wanna follow this both cases either in compilation or while running.</p>\n"},{"tags":[],"owner":{"account_id":17428729,"reputation":9,"user_id":12633134,"display_name":"phill"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610147160,"creation_date":1610147160,"answer_id":65637564,"question_id":6066257,"body_markdown":"Many years behind but i struggled with this syntax, this worked for me to add all jar files plus compile with all classes in the program to the main class\r\n\r\nMy File Tree:\r\nStore  classes  .java files\r\n       jars     .jar files    \r\n       images   .PNG files\r\n\r\ncommand line:\r\n\r\nC:\\Store&gt;javac -cp &quot;jars/*&quot; classes/*.java classes/storeMain.java","title":"How to compile Java program with .jar library","body":"<p>Many years behind but i struggled with this syntax, this worked for me to add all jar files plus compile with all classes in the program to the main class</p>\n<p>My File Tree:\nStore  classes  .java files\njars     .jar files<br />\nimages   .PNG files</p>\n<p>command line:</p>\n<p>C:\\Store&gt;javac -cp &quot;jars/<em>&quot; classes/</em>.java classes/storeMain.java</p>\n"}],"owner":{"account_id":250046,"reputation":1286,"user_id":526507,"display_name":"Rebecca Nelson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71964,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":6066485,"answer_count":6,"score":20,"last_activity_date":1641113618,"creation_date":1305850875,"question_id":6066257,"body_markdown":"I can&#39;t make javac recognize an external .jar file, whose classes I&#39;m trying to extend. I have two files in the same directory: TestConsole.java and acm.jar. I&#39;m compiling from the same directory using the following command:\r\n\r\n`javac -classpath .:acm.jar TestConsole.java`\r\n\r\nBut it seems like javac is just ignoring acm.jar. It gives me the error:\r\n\r\n    TestConsole.java:1: package acm does not exist\r\n    import acm.program;\r\n              ^\r\nOf course, acm.program is a package in acm.jar. All of the classes in acm.jar are already compiled; I just want to use them in my classes, not compile them.\r\n\r\nWhat am I doing wrong?\r\n\r\nI am running this on a Mac, and the directory structure of acm.jar appears to be valid: It contains an `acm/program` directory, which has `ConsoleProgram.class`, the only class that `TestConsole` extends.\r\n\r\n`javac -classpath &quot;.:acm.jar&quot; TestConsole.java` does not work, either.\r\n","title":"How to compile Java program with .jar library","body":"<p>I can't make javac recognize an external .jar file, whose classes I'm trying to extend. I have two files in the same directory: TestConsole.java and acm.jar. I'm compiling from the same directory using the following command:</p>\n\n<p><code>javac -classpath .:acm.jar TestConsole.java</code></p>\n\n<p>But it seems like javac is just ignoring acm.jar. It gives me the error:</p>\n\n<pre><code>TestConsole.java:1: package acm does not exist\nimport acm.program;\n          ^\n</code></pre>\n\n<p>Of course, acm.program is a package in acm.jar. All of the classes in acm.jar are already compiled; I just want to use them in my classes, not compile them.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>I am running this on a Mac, and the directory structure of acm.jar appears to be valid: It contains an <code>acm/program</code> directory, which has <code>ConsoleProgram.class</code>, the only class that <code>TestConsole</code> extends.</p>\n\n<p><code>javac -classpath \".:acm.jar\" TestConsole.java</code> does not work, either.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641113375,"creation_date":1641113375,"answer_id":70554687,"question_id":70553695,"body_markdown":"You are adding your `flight` instance under the `flights` key to the model while in the Thymeleaf template, you use `${flight....}`.\r\n\r\nChanging this:\r\n\r\n    modelMap.addAttribute(&quot;flights&quot;, flight);\r\n\r\nto\r\n\r\n    modelMap.addAttribute(&quot;flight&quot;, flight);\r\n\r\nshould help.","title":"thymeleaf template not getting all response while sending request in chrome, I am receiving data from database is there any error in binding?","body":"<p>You are adding your <code>flight</code> instance under the <code>flights</code> key to the model while in the Thymeleaf template, you use <code>${flight....}</code>.</p>\n<p>Changing this:</p>\n<pre><code>modelMap.addAttribute(&quot;flights&quot;, flight);\n</code></pre>\n<p>to</p>\n<pre><code>modelMap.addAttribute(&quot;flight&quot;, flight);\n</code></pre>\n<p>should help.</p>\n"}],"owner":{"account_id":23586307,"reputation":1,"user_id":17624713,"display_name":"Azmat Hayat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641113375,"creation_date":1641099429,"question_id":70553695,"body_markdown":"**Flight**\r\n\r\n    package com.shahbaz.flightreservation.entities;\r\n    \r\n    import java.sql.Timestamp;\r\n    import java.util.Date;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Temporal;\r\n    import javax.persistence.TemporalType;\r\n    @Entity\r\n    public class Flight extends AbstractEntity {\r\n    \r\n    \tprivate String flightNumber;\r\n    \tprivate String operatingAirlines;\r\n    \tprivate String departureCity;\r\n    \tprivate String arrivalCity;\r\n    \t@Temporal(TemporalType.DATE)\r\n    \tprivate Date dateOfDeparture;\r\n    \tprivate Timestamp estimatedDepartureTime;\r\n    \t\r\n    \tpublic String getFlightNumber() {\r\n    \t\treturn flightNumber;\r\n    \t}\r\n    \tpublic void setFlightNumber(String flightNumber) {\r\n    \t\tthis.flightNumber = flightNumber;\r\n    \t}\r\n    \tpublic String getOperatingAirlines() {\r\n    \t\treturn operatingAirlines;\r\n    \t}\r\n    \tpublic void setOperatingAirlines(String operatingAirlines) {\r\n    \t\tthis.operatingAirlines = operatingAirlines;\r\n    \t}\r\n    \tpublic String getDepartureCity() {\r\n    \t\treturn departureCity;\r\n    \t}\r\n    \tpublic void setDepartureCity(String departureCity) {\r\n    \t\tthis.departureCity = departureCity;\r\n    \t}\r\n    \tpublic String getArrivalCity() {\r\n    \t\treturn arrivalCity;\r\n    \t}\r\n    \tpublic void setArrivalCity(String arrivalCity) {\r\n    \t\tthis.arrivalCity = arrivalCity;\r\n    \t}\r\n    \tpublic Date getDateOfDeparture() {\r\n    \t\treturn dateOfDeparture;\r\n    \t}\r\n    \tpublic void setDateOfDeparture(Date dateOfDeparture) {\r\n    \t\tthis.dateOfDeparture = dateOfDeparture;\r\n    \t}\r\n    \tpublic Timestamp getEstimatedDepartureTime() {\r\n    \t\treturn estimatedDepartureTime;\r\n    \t}\r\n    \tpublic void setEstimatedDepartureTime(Timestamp estimatedDepartureTime) {\r\n    \t\tthis.estimatedDepartureTime = estimatedDepartureTime;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**AbstractEntity**\r\n\r\n \r\n\r\n package com.shahbaz.flightreservation.entities;\r\n    \r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.MappedSuperclass;\r\n    @MappedSuperclass\r\n    public class AbstractEntity {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    }\r\n\r\n****FlightRepository****\r\n\r\n    package com.shahbaz.flightreservation.repos;\r\n    \r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.query.Param;\r\n    import org.springframework.format.annotation.DateTimeFormat;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.shahbaz.flightreservation.entities.Flight;\r\n    @Repository\r\n    public interface FlightRepository extends JpaRepository&lt;Flight,Long&gt; {\r\n    \t\r\n    \t@Query(&quot;from Flight where departureCity=:departureCity and arrivalCity=:arrivalCity and dateOfDeparture=:dateOfDeparture&quot;)\r\n    \tList&lt;Flight&gt; findFlights(@Param(&quot;departureCity&quot;) String from, @Param(&quot;arrivalCity&quot;) String to,\r\n    \t\t\t@Param(&quot;dateOfDeparture&quot;)  Date departureDate);\r\n    \t@Query(&quot;from Flight where id=:id&quot;)\r\n    \tFlight findOne(@Param(&quot;id&quot;) Long flightId);\r\n    \t\r\n    \t\r\n    }\r\n\r\n**ReservationController**\r\n\r\n    package com.shahbaz.flightreservation.controllers;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    \r\n    import com.shahbaz.flightreservation.entities.Flight;\r\n    import com.shahbaz.flightreservation.repos.FlightRepository;\r\n    \r\n    @Controller\r\n    public class ReservationController {\r\n    \r\n    \t@Autowired\r\n    \tFlightRepository flightRepository;\r\n    \t\r\n    \t@RequestMapping(&quot;/showCompleteReservation&quot;)\r\n    \tpublic String showCompleteReservation(@RequestParam(&quot;flightId&quot;) Long flightId,ModelMap modelMap)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Welcome Home&quot;);\r\n    \t\tFlight flight = flightRepository.findOne(flightId);\r\n    \t\tmodelMap.addAttribute(&quot;flights&quot;, flight);\r\n    \t\tSystem.out.println(flight.getArrivalCity());\r\n    \t\tSystem.out.println(flight.getDepartureCity());\r\n    \t\treturn &quot;completeReservation&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**completeReservation**\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n    &lt;title&gt;Complete Reservation&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h2&gt;Complete Reservation&lt;/h2&gt;\r\n    Airline: &lt;span th:text=&quot;${flight.operatingAirlines}&quot;&gt; &lt;br/&gt;\r\n    Departure City:  &lt;span th:text=&quot;${flight.departureCity}&quot;&gt;&lt;br/&gt;\r\n    Arrival City:&lt;spanp th:text=&quot;${flight.arrivalCity}&quot;&gt;&lt;br/&gt;\r\n\r\n    &lt;form action=&quot;completeReservation&quot; method=&quot;post&quot;&gt;\r\n    &lt;pre&gt;\r\n    &lt;h2&gt;Passenger Details:&lt;/h2&gt;\r\n    First Name:&lt;input type=&quot;text&quot; name=&quot;passengerFirstName&quot;/&gt;\r\n    Last Name:&lt;input type=&quot;text&quot; name=&quot;passengerLastName&quot;/&gt;\r\n    Email:&lt;input type=&quot;text&quot; name=&quot;passengerEmail&quot;/&gt;\r\n    Phone:&lt;input type=&quot;text&quot; name=&quot;passengerPhone&quot;/&gt;\r\n\r\n    &lt;h2&gt;Card Details:&lt;/h2&gt;\r\n    Name on the card:&lt;input type=&quot;text&quot; name=&quot;nameOnTheCard&quot;/&gt;\r\n    Card No:&lt;input type=&quot;text&quot; name=&quot;cardNumber&quot;/&gt;\r\n    Expiry Date:&lt;input type=&quot;text&quot; name=&quot;expirationDate&quot;/&gt;\r\n    Three Digit Sec Code:&lt;input type=&quot;text&quot; name=&quot;securityCode&quot;/&gt;\r\n\r\n    &lt;input type=&quot;hidden&quot; name=&quot;flightId&quot; th:value=&quot;${flight.id}&quot;/&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;confirm&quot;/&gt;\r\n    &lt;/pre&gt;\r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**While Debugging the code I am Getting Values from database But i am not getting all values while sending request in chrome.I am Getting only Airline value.If anyone can help me to find out the error I tried but unable to come up with solution as i am new to thymeleaf**","title":"thymeleaf template not getting all response while sending request in chrome, I am receiving data from database is there any error in binding?","body":"<p><strong>Flight</strong></p>\n<pre><code>package com.shahbaz.flightreservation.entities;\n\nimport java.sql.Timestamp;\nimport java.util.Date;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Temporal;\nimport javax.persistence.TemporalType;\n@Entity\npublic class Flight extends AbstractEntity {\n\n    private String flightNumber;\n    private String operatingAirlines;\n    private String departureCity;\n    private String arrivalCity;\n    @Temporal(TemporalType.DATE)\n    private Date dateOfDeparture;\n    private Timestamp estimatedDepartureTime;\n    \n    public String getFlightNumber() {\n        return flightNumber;\n    }\n    public void setFlightNumber(String flightNumber) {\n        this.flightNumber = flightNumber;\n    }\n    public String getOperatingAirlines() {\n        return operatingAirlines;\n    }\n    public void setOperatingAirlines(String operatingAirlines) {\n        this.operatingAirlines = operatingAirlines;\n    }\n    public String getDepartureCity() {\n        return departureCity;\n    }\n    public void setDepartureCity(String departureCity) {\n        this.departureCity = departureCity;\n    }\n    public String getArrivalCity() {\n        return arrivalCity;\n    }\n    public void setArrivalCity(String arrivalCity) {\n        this.arrivalCity = arrivalCity;\n    }\n    public Date getDateOfDeparture() {\n        return dateOfDeparture;\n    }\n    public void setDateOfDeparture(Date dateOfDeparture) {\n        this.dateOfDeparture = dateOfDeparture;\n    }\n    public Timestamp getEstimatedDepartureTime() {\n        return estimatedDepartureTime;\n    }\n    public void setEstimatedDepartureTime(Timestamp estimatedDepartureTime) {\n        this.estimatedDepartureTime = estimatedDepartureTime;\n    }\n    \n}\n</code></pre>\n<p><strong>AbstractEntity</strong></p>\n<p>package com.shahbaz.flightreservation.entities;</p>\n<pre><code>import javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.MappedSuperclass;\n@MappedSuperclass\npublic class AbstractEntity {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p><strong><strong>FlightRepository</strong></strong></p>\n<pre><code>package com.shahbaz.flightreservation.repos;\n\nimport java.util.Date;\nimport java.util.List;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.format.annotation.DateTimeFormat;\nimport org.springframework.stereotype.Repository;\n\nimport com.shahbaz.flightreservation.entities.Flight;\n@Repository\npublic interface FlightRepository extends JpaRepository&lt;Flight,Long&gt; {\n    \n    @Query(&quot;from Flight where departureCity=:departureCity and arrivalCity=:arrivalCity and dateOfDeparture=:dateOfDeparture&quot;)\n    List&lt;Flight&gt; findFlights(@Param(&quot;departureCity&quot;) String from, @Param(&quot;arrivalCity&quot;) String to,\n            @Param(&quot;dateOfDeparture&quot;)  Date departureDate);\n    @Query(&quot;from Flight where id=:id&quot;)\n    Flight findOne(@Param(&quot;id&quot;) Long flightId);\n    \n    \n}\n</code></pre>\n<p><strong>ReservationController</strong></p>\n<pre><code>package com.shahbaz.flightreservation.controllers;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport com.shahbaz.flightreservation.entities.Flight;\nimport com.shahbaz.flightreservation.repos.FlightRepository;\n\n@Controller\npublic class ReservationController {\n\n    @Autowired\n    FlightRepository flightRepository;\n    \n    @RequestMapping(&quot;/showCompleteReservation&quot;)\n    public String showCompleteReservation(@RequestParam(&quot;flightId&quot;) Long flightId,ModelMap modelMap)\n    {\n        System.out.println(&quot;Welcome Home&quot;);\n        Flight flight = flightRepository.findOne(flightId);\n        modelMap.addAttribute(&quot;flights&quot;, flight);\n        System.out.println(flight.getArrivalCity());\n        System.out.println(flight.getDepartureCity());\n        return &quot;completeReservation&quot;;\n    }\n    \n}\n</code></pre>\n<p><strong>completeReservation</strong>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n&lt;title&gt;Complete Reservation&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;Complete Reservation&lt;/h2&gt;\nAirline: &lt;span th:text=\"${flight.operatingAirlines}\"&gt; &lt;br/&gt;\nDeparture City:  &lt;span th:text=\"${flight.departureCity}\"&gt;&lt;br/&gt;\nArrival City:&lt;spanp th:text=\"${flight.arrivalCity}\"&gt;&lt;br/&gt;\n\n&lt;form action=\"completeReservation\" method=\"post\"&gt;\n&lt;pre&gt;\n&lt;h2&gt;Passenger Details:&lt;/h2&gt;\nFirst Name:&lt;input type=\"text\" name=\"passengerFirstName\"/&gt;\nLast Name:&lt;input type=\"text\" name=\"passengerLastName\"/&gt;\nEmail:&lt;input type=\"text\" name=\"passengerEmail\"/&gt;\nPhone:&lt;input type=\"text\" name=\"passengerPhone\"/&gt;\n\n&lt;h2&gt;Card Details:&lt;/h2&gt;\nName on the card:&lt;input type=\"text\" name=\"nameOnTheCard\"/&gt;\nCard No:&lt;input type=\"text\" name=\"cardNumber\"/&gt;\nExpiry Date:&lt;input type=\"text\" name=\"expirationDate\"/&gt;\nThree Digit Sec Code:&lt;input type=\"text\" name=\"securityCode\"/&gt;\n\n&lt;input type=\"hidden\" name=\"flightId\" th:value=\"${flight.id}\"/&gt;\n&lt;input type=\"submit\" value=\"confirm\"/&gt;\n&lt;/pre&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>While Debugging the code I am Getting Values from database But i am not getting all values while sending request in chrome.I am Getting only Airline value.If anyone can help me to find out the error I tried but unable to come up with solution as i am new to thymeleaf</strong></p>\n"},{"tags":["java","spring-boot","graphql","monitoring"],"comments":[{"owner":{"account_id":5808544,"reputation":704,"user_id":4580435,"display_name":"JohnBegood"},"score":0,"creation_date":1647606564,"post_id":70554671,"comment_id":126418856,"body_markdown":"Datadog or Honeycomb have you looked at those 2 tools. I think they might solve your needs.","body":"Datadog or Honeycomb have you looked at those 2 tools. I think they might solve your needs."}],"owner":{"account_id":8539095,"reputation":247,"user_id":6399789,"display_name":"Ivan Nikolaychuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641113258,"creation_date":1641113258,"question_id":70554671,"body_markdown":"I am looking for a good monitoring solution that is also capable of analysing GraphQL queries (out of the box or with little config), can anyone advise something?\r\n\r\nMy basic needs are:\r\n- See what queries were made\r\n- See the body of the query\r\n- Group queries by type and plot that on the graph\r\n\r\nP.S. Instana doesn&#39;t work for us because their pricing is more enterprise-oriented.\r\n\r\nAny help is appreciated.","title":"How to monitor Graphql with some SAAS monitoring solution?","body":"<p>I am looking for a good monitoring solution that is also capable of analysing GraphQL queries (out of the box or with little config), can anyone advise something?</p>\n<p>My basic needs are:</p>\n<ul>\n<li>See what queries were made</li>\n<li>See the body of the query</li>\n<li>Group queries by type and plot that on the graph</li>\n</ul>\n<p>P.S. Instana doesn't work for us because their pricing is more enterprise-oriented.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","url"],"comments":[{"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"score":1,"creation_date":1393515236,"post_id":22073034,"comment_id":33473170,"body_markdown":"Can you print the resulting value of `URL` in the second case ?","body":"Can you print the resulting value of <code>URL</code> in the second case ?"},{"owner":{"account_id":2684968,"reputation":5561,"user_id":2319542,"accept_rate":82,"display_name":"Sash_KP"},"score":0,"creation_date":1393524672,"post_id":22073034,"comment_id":33480254,"body_markdown":"Your simple question solved my problem.I checked those variables and they were returning null.Modified what needed.Worked as expected.Thanks.","body":"Your simple question solved my problem.I checked those variables and they were returning null.Modified what needed.Worked as expected.Thanks."}],"answers":[{"tags":[],"owner":{"account_id":4082545,"reputation":1864,"user_id":3352674,"display_name":"PlasmaPower"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393515573,"creation_date":1393515573,"answer_id":22073247,"question_id":22073034,"body_markdown":"I think of your variables is a `JSONArray`. To concatenate everything, it tries to turn your `String` into a `JSONArray`, which is not possible as your string is not JSON but part of a URL. ","title":"Concatenating a string variable to a url properly","body":"<p>I think of your variables is a <code>JSONArray</code>. To concatenate everything, it tries to turn your <code>String</code> into a <code>JSONArray</code>, which is not possible as your string is not JSON but part of a URL. </p>\n"},{"tags":[],"owner":{"account_id":2684968,"reputation":5561,"user_id":2319542,"accept_rate":82,"display_name":"Sash_KP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393524812,"creation_date":1393524812,"answer_id":22076892,"question_id":22073034,"body_markdown":"I checked for the variables `isBatch` and `section1`.They were returning null.Modified what was needed.Worked as expected.No more JSONException.","title":"Concatenating a string variable to a url properly","body":"<p>I checked for the variables <code>isBatch</code> and <code>section1</code>.They were returning null.Modified what was needed.Worked as expected.No more JSONException.</p>\n"},{"tags":[],"owner":{"account_id":19500782,"reputation":30,"user_id":14266929,"display_name":"hafiz mohammad Danmanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641112881,"creation_date":1641112881,"answer_id":70554631,"question_id":22073034,"body_markdown":"I solved the issue with this\r\n\r\n        String batch= &quot;C&quot;;\r\n        String section = &quot;2&quot;;\r\n        String URL = &quot;http://192.168.32.1/Aafois/notice.php?isBatch=&quot;;\r\n        URL= URL.concat(batch+&quot;&amp; section =&quot;+section);\r\n\r\n\r\n   ","title":"Concatenating a string variable to a url properly","body":"<p>I solved the issue with this</p>\n<pre><code>    String batch= &quot;C&quot;;\n    String section = &quot;2&quot;;\n    String URL = &quot;http://192.168.32.1/Aafois/notice.php?isBatch=&quot;;\n    URL= URL.concat(batch+&quot;&amp; section =&quot;+section);\n</code></pre>\n"}],"owner":{"account_id":2684968,"reputation":5561,"user_id":2319542,"accept_rate":82,"display_name":"Sash_KP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1850,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1641112881,"creation_date":1393515036,"question_id":22073034,"body_markdown":"This is a follow up question of [Removing linebreak from php json output](https://stackoverflow.com/questions/22053132/removing-linebreak-from-php-json-output).I couldn&#39;t find out what was making that problem but i somehow got rid of `value &lt;br ...JSONException`.\r\n\r\n**The Issue**\r\n\r\n**when i use** \r\n\r\n`String url = &quot;http://192.168.32.1/Aafois/notice.php?isBatch=2010&amp;section1=&#39;IT&#39;&quot;;`\r\n\r\nI get what i want i.e parsing the JSON to my android app.However when i use\r\n\r\n    String URL=&quot;http://192.168.32.1/Aafois/notice.php?isBatch=&quot;+isbatch+&quot;&amp;section1=&quot;+&quot;&#39;&quot;+section1+&quot;&#39;&quot;;\r\n\r\nI get `Value of java.lang.string can&#39;t be converted to JSONArray...JSONException`.So obviously there must be some problem there in this previous line.`isbatch` is an integer variable and `secton1` is a string variable which is `URL encoded to utf-8`.\r\n\r\n**P.S**\r\n\r\nI need `single quote` `&#39;` before and after the variable `section1` as the url goes like \r\n`http://192.168.32.1/Aafois/notice.php?isBatch=2010&amp;section1=`**&#39;IT&#39;**.","title":"Concatenating a string variable to a url properly","body":"<p>This is a follow up question of <a href=\"https://stackoverflow.com/questions/22053132/removing-linebreak-from-php-json-output\">Removing linebreak from php json output</a>.I couldn't find out what was making that problem but i somehow got rid of <code>value &lt;br ...JSONException</code>.</p>\n\n<p><strong>The Issue</strong></p>\n\n<p><strong>when i use</strong> </p>\n\n<p><code>String url = \"http://192.168.32.1/Aafois/notice.php?isBatch=2010&amp;section1='IT'\";</code></p>\n\n<p>I get what i want i.e parsing the JSON to my android app.However when i use</p>\n\n<pre><code>String URL=\"http://192.168.32.1/Aafois/notice.php?isBatch=\"+isbatch+\"&amp;section1=\"+\"'\"+section1+\"'\";\n</code></pre>\n\n<p>I get <code>Value of java.lang.string can't be converted to JSONArray...JSONException</code>.So obviously there must be some problem there in this previous line.<code>isbatch</code> is an integer variable and <code>secton1</code> is a string variable which is <code>URL encoded to utf-8</code>.</p>\n\n<p><strong>P.S</strong></p>\n\n<p>I need <code>single quote</code> <code>'</code> before and after the variable <code>section1</code> as the url goes like \n<code>http://192.168.32.1/Aafois/notice.php?isBatch=2010&amp;section1=</code><strong>'IT'</strong>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":5,"creation_date":1378418248,"post_id":18646600,"comment_id":27456001,"body_markdown":"Are you attempting to declare a `boolean` variable named `isLeapYear` or a method named `isLeapYear` that returns a `boolean`?","body":"Are you attempting to declare a <code>boolean</code> variable named <code>isLeapYear</code> or a method named <code>isLeapYear</code> that returns a <code>boolean</code>?"},{"owner":{"account_id":1382218,"reputation":244,"user_id":1314972,"display_name":"drewdles"},"score":0,"creation_date":1378418351,"post_id":18646600,"comment_id":27456034,"body_markdown":"having (int year) after isLeapYear is invalid. Remove it and it should work","body":"having (int year) after isLeapYear is invalid. Remove it and it should work"},{"owner":{"account_id":3255568,"reputation":13,"user_id":2744756,"display_name":"user2744756"},"score":0,"creation_date":1378418903,"post_id":18646600,"comment_id":27456223,"body_markdown":"I believe I am supposed to implement a method","body":"I believe I am supposed to implement a method"}],"answers":[{"tags":[],"owner":{"account_id":96837,"reputation":94466,"user_id":263004,"accept_rate":96,"display_name":"Vivin Paliath"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378419197,"creation_date":1378418318,"answer_id":18646643,"question_id":18646600,"body_markdown":"    boolean isLeapYear(int year) = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\r\n\r\nThe above line makes no sense at all. Do you want it to be a method?\r\n\r\nIf so it should be:\r\n\r\n    private static boolean isLeapYear(int year) {\r\n        return ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\r\n    }\r\n\r\nand you would call it like so:\r\n\r\n    boolean isLeapYear = isLeapYear(year); //note that the fact that both the boolean\r\n                                           //variable and the method name are \r\n                                           //identical is coincidence; the variable\r\n                                           //can be named whatever you want (as long\r\n                                           //as it makes sense).\r\n\r\nor you can just do:\r\n\r\n    if(isLeapYear(year)) {\r\n        ...\r\n    } else {\r\n        ...\r\n    }\r\n\r\nOr if you just want a `boolean` variable:\r\n\r\n    boolean isLeapYear = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));","title":"Basic programming in java-Leap Year","body":"<pre><code>boolean isLeapYear(int year) = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\n</code></pre>\n\n<p>The above line makes no sense at all. Do you want it to be a method?</p>\n\n<p>If so it should be:</p>\n\n<pre><code>private static boolean isLeapYear(int year) {\n    return ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\n}\n</code></pre>\n\n<p>and you would call it like so:</p>\n\n<pre><code>boolean isLeapYear = isLeapYear(year); //note that the fact that both the boolean\n                                       //variable and the method name are \n                                       //identical is coincidence; the variable\n                                       //can be named whatever you want (as long\n                                       //as it makes sense).\n</code></pre>\n\n<p>or you can just do:</p>\n\n<pre><code>if(isLeapYear(year)) {\n    ...\n} else {\n    ...\n}\n</code></pre>\n\n<p>Or if you just want a <code>boolean</code> variable:</p>\n\n<pre><code>boolean isLeapYear = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1370050,"reputation":19409,"user_id":1305516,"accept_rate":59,"display_name":"David says Reinstate Monica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378418331,"creation_date":1378418331,"answer_id":18646647,"question_id":18646600,"body_markdown":"Looks like you got a basic syntax error here. Either isLeapYear is a either a function or a variable, and you are mixing the two. You should have something like \r\n\r\n    boolean isLeapYear = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));","title":"Basic programming in java-Leap Year","body":"<p>Looks like you got a basic syntax error here. Either isLeapYear is a either a function or a variable, and you are mixing the two. You should have something like </p>\n\n<pre><code>boolean isLeapYear = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2915411,"reputation":13804,"user_id":2498729,"accept_rate":69,"display_name":"But I&#39;m Not A Wrapper Class"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378433348,"creation_date":1378418521,"answer_id":18646680,"question_id":18646600,"body_markdown":"Here is what your code should sort of look like (not tested):\r\n\r\n    public class LeapYear{\r\n      //main method (always runs when you compile then run)\r\n      public static void main(String[ ] args){\r\n        //int year = readInt();\r\n        int hardCodedYear = 4;\r\n        System.out.prinln(isLeapYear(hardCodedYear));//method call and print results\r\n      }\r\n   \r\n      //create method \r\n      public boolean isLeapYear(int year){\r\n        //check if its leap year (not sure if this is correct)\r\n        if (year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 ==0){\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    \r\n    }","title":"Basic programming in java-Leap Year","body":"<p>Here is what your code should sort of look like (not tested):</p>\n\n<pre><code>public class LeapYear{\n  //main method (always runs when you compile then run)\n  public static void main(String[ ] args){\n    //int year = readInt();\n    int hardCodedYear = 4;\n    System.out.prinln(isLeapYear(hardCodedYear));//method call and print results\n  }\n\n  //create method \n  public boolean isLeapYear(int year){\n    //check if its leap year (not sure if this is correct)\n    if (year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 ==0){\n      return true;\n    }\n    return false;\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23791619,"reputation":1,"user_id":17802991,"display_name":"Nano Fibres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641112835,"creation_date":1641112835,"answer_id":70554625,"question_id":18646600,"body_markdown":"I think, the code should be like this - \r\n\r\n    public class Leapyr\r\n    {\r\n        boolean isLeapYear(int year)\r\n        {\r\n            if((year%4==0) &amp;&amp; (year%100!=0) || (year%400==0))\r\n            {\r\n                return true;\r\n            }\r\n            else \r\n            {\r\n                return false;\r\n            }\r\n        }\r\n        public static void main (int y)\r\n        {\r\n            Leapyr yr=new Leapyr();\r\n            boolean rslt;\r\n            rslt=yr.isLeapYear(y);\r\n            if(rslt==true)\r\n            {\r\n                System.out.println(&quot;Year is Leap Year&quot;);\r\n            }\r\n            else \r\n            {\r\n                System.out.println(&quot;Year is not a Leap Year&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nwhen you initiate the `main()` it works properly. I&#39;ve tested it myself.\r\n            ","title":"Basic programming in java-Leap Year","body":"<p>I think, the code should be like this -</p>\n<pre><code>public class Leapyr\n{\n    boolean isLeapYear(int year)\n    {\n        if((year%4==0) &amp;&amp; (year%100!=0) || (year%400==0))\n        {\n            return true;\n        }\n        else \n        {\n            return false;\n        }\n    }\n    public static void main (int y)\n    {\n        Leapyr yr=new Leapyr();\n        boolean rslt;\n        rslt=yr.isLeapYear(y);\n        if(rslt==true)\n        {\n            System.out.println(&quot;Year is Leap Year&quot;);\n        }\n        else \n        {\n            System.out.println(&quot;Year is not a Leap Year&quot;);\n        }\n    }\n}\n</code></pre>\n<p>when you initiate the <code>main()</code> it works properly. I've tested it myself.</p>\n"}],"owner":{"account_id":3255568,"reputation":13,"user_id":2744756,"display_name":"user2744756"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6187,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":4,"score":-3,"last_activity_date":1641112835,"creation_date":1378418113,"question_id":18646600,"body_markdown":"So for a basic programming class, we have to make a program that tells if a year is a leap year. We aren&#39;t using the scanner method; rather, the year will be an argument. We have to use a boolean called isLaeapYear(int year). Here is my code\r\n\r\n    public class LeapYear{\r\n      public static void main(String[ ] args){\r\n        int year = readInt();\r\n         boolean isLeapYear(int year) = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\r\n        if (isLeapYear)\r\n        {\r\n          return true;\r\n        }\r\n        else {\r\n          return false;\r\n        }\r\n        \r\n    \r\n      }\r\n    }\r\n\r\nFor some reason, it won&#39;t compile it says that a ; is expected after isLeapYear in my boolean line. Any suggestions? Thanks!\r\n          ","title":"Basic programming in java-Leap Year","body":"<p>So for a basic programming class, we have to make a program that tells if a year is a leap year. We aren't using the scanner method; rather, the year will be an argument. We have to use a boolean called isLaeapYear(int year). Here is my code</p>\n\n<pre><code>public class LeapYear{\n  public static void main(String[ ] args){\n    int year = readInt();\n     boolean isLeapYear(int year) = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\n    if (isLeapYear)\n    {\n      return true;\n    }\n    else {\n      return false;\n    }\n\n\n  }\n}\n</code></pre>\n\n<p>For some reason, it won't compile it says that a ; is expected after isLeapYear in my boolean line. Any suggestions? Thanks!</p>\n"},{"tags":["java","python","dictionary"],"answers":[{"tags":[],"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393410813,"creation_date":1393410813,"answer_id":22038670,"question_id":22038504,"body_markdown":"You can use the [Google Translate API](http://code.google.com/p/google-api-translate-java/), its very easy to implement. For sure you will need an internet connection for it to work.\r\n\r\n    Translator translate = Translator.getInstance();\r\n    String text = translate.translate(&quot;Good morning&quot;, Language.ENGLISH, Language.KOREAN)","title":"Java code to translate using a particular language dictionary","body":"<p>You can use the <a href=\"http://code.google.com/p/google-api-translate-java/\" rel=\"nofollow\">Google Translate API</a>, its very easy to implement. For sure you will need an internet connection for it to work.</p>\n\n<pre><code>Translator translate = Translator.getInstance();\nString text = translate.translate(\"Good morning\", Language.ENGLISH, Language.KOREAN)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297611,"reputation":996,"user_id":603220,"accept_rate":75,"display_name":"Big Bad Baerni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393415929,"creation_date":1393415929,"answer_id":22040684,"question_id":22038504,"body_markdown":"Using a map is one possible &amp; easy way (as shown in the short example). Though you still would need to do a big effort for problems like upper/lower case of words, punctuation, verbs etc.\r\n\r\n        Map&lt;String, String&gt; dictionary = new HashMap&lt;String, String&gt;();\r\n        dictionary.put(&quot;this&quot;, &quot;das&quot;);\r\n        dictionary.put(&quot;is&quot;, &quot;ist&quot;);\r\n        dictionary.put(&quot;my&quot;, &quot;mein&quot;);\r\n        dictionary.put(&quot;house&quot;, &quot;haus&quot;);\r\n\r\n        String translate = &quot;this is my new house&quot;;\r\n        StringBuilder result = new StringBuilder();\r\n\r\n        StringTokenizer st = new StringTokenizer(translate, &quot; &quot;);\r\n        while (st.hasMoreTokens()) {\r\n            String key = st.nextToken();\r\n            String translatedWord = dictionary.get(key);\r\n            if (translatedWord != null) {\r\n                result.append(translatedWord);\r\n            } else {\r\n                result.append(&quot;*&quot; + key + &quot;*&quot;); // Unknown word\r\n            }\r\n            result.append(&quot; &quot;);\r\n        }\r\n\r\n        System.out.println(result.toString());\r\n","title":"Java code to translate using a particular language dictionary","body":"<p>Using a map is one possible &amp; easy way (as shown in the short example). Though you still would need to do a big effort for problems like upper/lower case of words, punctuation, verbs etc.</p>\n\n<pre><code>    Map&lt;String, String&gt; dictionary = new HashMap&lt;String, String&gt;();\n    dictionary.put(\"this\", \"das\");\n    dictionary.put(\"is\", \"ist\");\n    dictionary.put(\"my\", \"mein\");\n    dictionary.put(\"house\", \"haus\");\n\n    String translate = \"this is my new house\";\n    StringBuilder result = new StringBuilder();\n\n    StringTokenizer st = new StringTokenizer(translate, \" \");\n    while (st.hasMoreTokens()) {\n        String key = st.nextToken();\n        String translatedWord = dictionary.get(key);\n        if (translatedWord != null) {\n            result.append(translatedWord);\n        } else {\n            result.append(\"*\" + key + \"*\"); // Unknown word\n        }\n        result.append(\" \");\n    }\n\n    System.out.println(result.toString());\n</code></pre>\n"}],"owner":{"account_id":3313596,"reputation":33,"user_id":2786437,"accept_rate":50,"display_name":"user2786437"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641112411,"creation_date":1393410460,"question_id":22038504,"body_markdown":"I am not that good at java program, i am trying to do something like this please help.\r\n\r\nI want to make a simple translator for one particular language, say **korean**.\r\n\r\nCan i download a korean - english dictionary from internet and use it as a hash map or a dictionary datastructure to search for korean word based on the english input i give?\r\n","title":"Java code to translate using a particular language dictionary","body":"<p>I am not that good at java program, i am trying to do something like this please help.</p>\n\n<p>I want to make a simple translator for one particular language, say <strong>korean</strong>.</p>\n\n<p>Can i download a korean - english dictionary from internet and use it as a hash map or a dictionary datastructure to search for korean word based on the english input i give?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6599622,"reputation":1183,"user_id":5098338,"accept_rate":49,"display_name":"jahra"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527497657,"creation_date":1527496538,"answer_id":50562241,"question_id":50562057,"body_markdown":"    public static Character getDelim(String fieldseparator, Character defaultDelim) {\r\n        if (isNotEmpty(fieldseparator)) {\r\n            return fieldseparator.equals(&quot;\\\\t&quot;) ? &#39;\\t&#39; : getFromUnicode(fieldseparator);\r\n        }\r\n        return defaultDelim;\r\n    }\r\n\r\n    private static Character getFromUnicode(String fieldseparator) {\r\n        Integer i = Ints.tryParse(fieldseparator);\r\n        return i != null ? String.valueOf(Character.toChars(i)).charAt(0) : fieldseparator.charAt(0);\r\n    }\r\n\r\n    private static boolean isNotEmpty(String fieldseparator) {\r\n        return fieldseparator != null &amp;&amp; !fieldseparator.isEmpty();\r\n    }","title":"Refactor this method to reduce its Cognitive Complexity","body":"<pre><code>public static Character getDelim(String fieldseparator, Character defaultDelim) {\n    if (isNotEmpty(fieldseparator)) {\n        return fieldseparator.equals(\"\\\\t\") ? '\\t' : getFromUnicode(fieldseparator);\n    }\n    return defaultDelim;\n}\n\nprivate static Character getFromUnicode(String fieldseparator) {\n    Integer i = Ints.tryParse(fieldseparator);\n    return i != null ? String.valueOf(Character.toChars(i)).charAt(0) : fieldseparator.charAt(0);\n}\n\nprivate static boolean isNotEmpty(String fieldseparator) {\n    return fieldseparator != null &amp;&amp; !fieldseparator.isEmpty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10487526,"reputation":3438,"user_id":7730554,"display_name":"Andreas H&#252;tter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641111726,"creation_date":1640902920,"answer_id":70537264,"question_id":50562057,"body_markdown":"For a general explanation about cognitive complexity and how it is calculated, please have a look at this answer: https://stackoverflow.com/a/62867219/7730554.\r\n\r\nFirst of all, I want to state that I am not trying to come up with a better solution than already provided by jahra (which is great). I rather want to share how cognitive complexity can be reduced by taking safe baby steps applying well-known refactoring techniques. The final result is of course very similar to the one already shown in the existing answer.\r\n\r\nConcerning this specific example you can pretty easy achieve a cognitive complexity reduction by applying simple refactorings such as *[Replace Nested Condition with Guard Clause][1]*, [*Consolidate Duplicate Conditional Fragments*][2] and *[Extract Method][3]*. I applied these as shown in the following code listings as emphasized in the code comments.\r\n\r\nNote: nowadays most IDEs already provide these refactorings as ***automated refactorings*** out of the box, in my case I used IntelliJ (for Java) which provides all of the mentioned refactorings so I did not have to these manually. Other technology stacks provide similar features, e.g. Rider or ReSharper for .Net, PHPStorm for PHP, etc.\r\n\r\nLet&#39;s first calculate the cognitive complexity of the original code (see comments to follow the calculation of each relevant statement):\r\n\r\n    // Total cognitive complexity: 9\r\n    public char findDelimiter_original(String fieldseparator)\r\n    {\r\n        char delim = &#39;\\0&#39;;\r\n        if (fieldseparator != null // +1 for the if condition\r\n                &amp;&amp; !fieldseparator.isEmpty()) { // +1 for the binary operator\r\n            if (fieldseparator.equals(&quot;\\\\t&quot;)) { // +2 for the nested if (nesting = 1)\r\n                delim = &#39;\\t&#39;;\r\n            } else { // +1 for else\r\n                // handling unicode separator\r\n                Integer i = Ints.tryParse(fieldseparator);\r\n                if (i != null) { // +3 for the double nested if (nesting = 2)\r\n                    fieldseparator = String.valueOf(Character.toChars(i));\r\n                    delim = fieldseparator.charAt(0);\r\n                } else { // +1 for the else\r\n                    delim = fieldseparator.charAt(0);\r\n                }\r\n            }\r\n        }\r\n        return delim;\r\n    }\r\n\r\nSo the original code leaves us with a **cognitive complexity of 9**.\r\n\r\nIn the next step I applied the *[Replace Nested Condition with Guard Clause][1]* and the [*Consolidate Duplicate Conditional Fragments*][2] refactorings. \r\n\r\nNote: using IntelliJ *Replace Nested Condition with Guard Clause* can be easily achieved via &quot;Invert if condition&quot; while *Consolidate Duplicate Conditional Fragments* can be achieved via &quot;Extract common part from if&quot; from the IntelliJ context menu.\r\n\r\n    // Total cognitive complexity: 4\r\n    public char findDelimiter_guardClauses(String fieldseparator)\r\n    {\r\n        // Applied &quot;guard clause&quot; refactoring by inverting if\r\n        if (fieldseparator == null // +1 for the if condition\r\n                || fieldseparator.isEmpty()) { // +1 for the binary operator\r\n            return &#39;\\0&#39;;\r\n        }\r\n\r\n        // Applied &quot;guard clause&quot; refactoring by inverting if\r\n        if (fieldseparator.equals(&quot;\\\\t&quot;)) { // +1 the if condition\r\n            return &#39;\\t&#39;;\r\n        }\r\n\r\n        // Applied &quot;consolidate duplicate conditional fragments&quot; refactoring\r\n        // handling unicode separator\r\n        Integer i = Ints.tryParse(fieldseparator);\r\n        if (i != null) { // +1\r\n            fieldseparator = String.valueOf(Character.toChars(i));\r\n        }\r\n        return fieldseparator.charAt(0);\r\n    }\r\n\r\nThis now leaves us with a **reduced cognitive complexity of 4** which is already great, but we can still do better, especially in terms of readability.\r\n\r\nIn the last step I applied the *Extract Method* refactoring which is also available in IntelliJ as automated refactoring.\r\n\r\n    // Total cognitive complexity: 2\r\n    public char findDelimiter_extractMethod(String fieldseparator)\r\n    {\r\n        // Applied &quot;extract method&quot; refactoring\r\n        if (hasNoSeparator(fieldseparator)) { // +1 for the if condition\r\n            return &#39;\\0&#39;;\r\n        }\r\n\r\n        // Applied &quot;extract method&quot; refactoring\r\n        if (fieldSeparatorIsTab(fieldseparator)) { // +1 for the if condition\r\n            return &#39;\\t&#39;;\r\n        }\r\n\r\n        // Applied &quot;extract method&quot; refactoring\r\n        return handleUnicodeString(fieldseparator).charAt(0);\r\n    }\r\n\r\n    // Total complexity: 1\r\n    private String handleUnicodeString(String fieldseparator) {\r\n        Integer i = Ints.tryParse(fieldseparator);\r\n        if (i != null) { // +1 for the if condition\r\n            fieldseparator = String.valueOf(Character.toChars(i));\r\n        }\r\n        return fieldseparator;\r\n    }\r\n\r\n    // Total cognitive complexity: 0\r\n    private boolean fieldSeparatorIsTab(String fieldseparator) {\r\n        return fieldseparator.equals(&quot;\\\\t&quot;);\r\n    }\r\n\r\n    // Total cognitive complexity: 1\r\n    private boolean hasNoSeparator(String fieldseparator) {\r\n        return fieldseparator == null || fieldseparator.isEmpty(); // +1 for the binary operator\r\n    }\r\n\r\nThe overall code (including the extracted private methods) still has an overall cognitive complexity of 4, while the **main method now only has a cognitive complexity of 2**.\r\n\r\nFinally we can replace the last if condition with the ternery operator (which is also provided by IntelliJ via &quot;replace if else with ?&quot;.\r\n\r\n    // Total cognitive complexity: 2\r\n    public char findDelimiter_extractMethod(String fieldseparator)\r\n    {\r\n        // Applied &quot;extract method&quot; refactoring\r\n        if (hasNoSeparator(fieldseparator)) { // +1 for the if condition\r\n            return &#39;\\0&#39;;\r\n        }\r\n\r\n        // Introduced ternary operator\r\n        // +1 for the ternary operator\r\n        return fieldSeparatorIsTab(fieldseparator) ? &#39;\\t&#39; : handleUnicodeString(fieldseparator).charAt(0);\r\n    }\r\n\r\n  [1]: https://refactoring.guru/replace-nested-conditional-with-guard-clauses\r\n  [2]: https://refactoring.guru/consolidate-duplicate-conditional-fragments\r\n  [3]: https://refactoring.guru/extract-method","title":"Refactor this method to reduce its Cognitive Complexity","body":"<p>For a general explanation about cognitive complexity and how it is calculated, please have a look at this answer: <a href=\"https://stackoverflow.com/a/62867219/7730554\">https://stackoverflow.com/a/62867219/7730554</a>.</p>\n<p>First of all, I want to state that I am not trying to come up with a better solution than already provided by jahra (which is great). I rather want to share how cognitive complexity can be reduced by taking safe baby steps applying well-known refactoring techniques. The final result is of course very similar to the one already shown in the existing answer.</p>\n<p>Concerning this specific example you can pretty easy achieve a cognitive complexity reduction by applying simple refactorings such as <em><a href=\"https://refactoring.guru/replace-nested-conditional-with-guard-clauses\" rel=\"nofollow noreferrer\">Replace Nested Condition with Guard Clause</a></em>, <a href=\"https://refactoring.guru/consolidate-duplicate-conditional-fragments\" rel=\"nofollow noreferrer\"><em>Consolidate Duplicate Conditional Fragments</em></a> and <em><a href=\"https://refactoring.guru/extract-method\" rel=\"nofollow noreferrer\">Extract Method</a></em>. I applied these as shown in the following code listings as emphasized in the code comments.</p>\n<p>Note: nowadays most IDEs already provide these refactorings as <em><strong>automated refactorings</strong></em> out of the box, in my case I used IntelliJ (for Java) which provides all of the mentioned refactorings so I did not have to these manually. Other technology stacks provide similar features, e.g. Rider or ReSharper for .Net, PHPStorm for PHP, etc.</p>\n<p>Let's first calculate the cognitive complexity of the original code (see comments to follow the calculation of each relevant statement):</p>\n<pre><code>// Total cognitive complexity: 9\npublic char findDelimiter_original(String fieldseparator)\n{\n    char delim = '\\0';\n    if (fieldseparator != null // +1 for the if condition\n            &amp;&amp; !fieldseparator.isEmpty()) { // +1 for the binary operator\n        if (fieldseparator.equals(&quot;\\\\t&quot;)) { // +2 for the nested if (nesting = 1)\n            delim = '\\t';\n        } else { // +1 for else\n            // handling unicode separator\n            Integer i = Ints.tryParse(fieldseparator);\n            if (i != null) { // +3 for the double nested if (nesting = 2)\n                fieldseparator = String.valueOf(Character.toChars(i));\n                delim = fieldseparator.charAt(0);\n            } else { // +1 for the else\n                delim = fieldseparator.charAt(0);\n            }\n        }\n    }\n    return delim;\n}\n</code></pre>\n<p>So the original code leaves us with a <strong>cognitive complexity of 9</strong>.</p>\n<p>In the next step I applied the <em><a href=\"https://refactoring.guru/replace-nested-conditional-with-guard-clauses\" rel=\"nofollow noreferrer\">Replace Nested Condition with Guard Clause</a></em> and the <a href=\"https://refactoring.guru/consolidate-duplicate-conditional-fragments\" rel=\"nofollow noreferrer\"><em>Consolidate Duplicate Conditional Fragments</em></a> refactorings.</p>\n<p>Note: using IntelliJ <em>Replace Nested Condition with Guard Clause</em> can be easily achieved via &quot;Invert if condition&quot; while <em>Consolidate Duplicate Conditional Fragments</em> can be achieved via &quot;Extract common part from if&quot; from the IntelliJ context menu.</p>\n<pre><code>// Total cognitive complexity: 4\npublic char findDelimiter_guardClauses(String fieldseparator)\n{\n    // Applied &quot;guard clause&quot; refactoring by inverting if\n    if (fieldseparator == null // +1 for the if condition\n            || fieldseparator.isEmpty()) { // +1 for the binary operator\n        return '\\0';\n    }\n\n    // Applied &quot;guard clause&quot; refactoring by inverting if\n    if (fieldseparator.equals(&quot;\\\\t&quot;)) { // +1 the if condition\n        return '\\t';\n    }\n\n    // Applied &quot;consolidate duplicate conditional fragments&quot; refactoring\n    // handling unicode separator\n    Integer i = Ints.tryParse(fieldseparator);\n    if (i != null) { // +1\n        fieldseparator = String.valueOf(Character.toChars(i));\n    }\n    return fieldseparator.charAt(0);\n}\n</code></pre>\n<p>This now leaves us with a <strong>reduced cognitive complexity of 4</strong> which is already great, but we can still do better, especially in terms of readability.</p>\n<p>In the last step I applied the <em>Extract Method</em> refactoring which is also available in IntelliJ as automated refactoring.</p>\n<pre><code>// Total cognitive complexity: 2\npublic char findDelimiter_extractMethod(String fieldseparator)\n{\n    // Applied &quot;extract method&quot; refactoring\n    if (hasNoSeparator(fieldseparator)) { // +1 for the if condition\n        return '\\0';\n    }\n\n    // Applied &quot;extract method&quot; refactoring\n    if (fieldSeparatorIsTab(fieldseparator)) { // +1 for the if condition\n        return '\\t';\n    }\n\n    // Applied &quot;extract method&quot; refactoring\n    return handleUnicodeString(fieldseparator).charAt(0);\n}\n\n// Total complexity: 1\nprivate String handleUnicodeString(String fieldseparator) {\n    Integer i = Ints.tryParse(fieldseparator);\n    if (i != null) { // +1 for the if condition\n        fieldseparator = String.valueOf(Character.toChars(i));\n    }\n    return fieldseparator;\n}\n\n// Total cognitive complexity: 0\nprivate boolean fieldSeparatorIsTab(String fieldseparator) {\n    return fieldseparator.equals(&quot;\\\\t&quot;);\n}\n\n// Total cognitive complexity: 1\nprivate boolean hasNoSeparator(String fieldseparator) {\n    return fieldseparator == null || fieldseparator.isEmpty(); // +1 for the binary operator\n}\n</code></pre>\n<p>The overall code (including the extracted private methods) still has an overall cognitive complexity of 4, while the <strong>main method now only has a cognitive complexity of 2</strong>.</p>\n<p>Finally we can replace the last if condition with the ternery operator (which is also provided by IntelliJ via &quot;replace if else with ?&quot;.</p>\n<pre><code>// Total cognitive complexity: 2\npublic char findDelimiter_extractMethod(String fieldseparator)\n{\n    // Applied &quot;extract method&quot; refactoring\n    if (hasNoSeparator(fieldseparator)) { // +1 for the if condition\n        return '\\0';\n    }\n\n    // Introduced ternary operator\n    // +1 for the ternary operator\n    return fieldSeparatorIsTab(fieldseparator) ? '\\t' : handleUnicodeString(fieldseparator).charAt(0);\n}\n</code></pre>\n"}],"owner":{"display_name":"user9821941"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19794,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641111726,"creation_date":1527495947,"question_id":50562057,"body_markdown":"I&#39;m having a problem with refactoring this part of the code. How to reduce the cognitive complexity of this code\r\n\r\n    if (fieldseparator != null &amp;&amp; !fieldseparator.isEmpty()) {\r\n            if (fieldseparator.equals(&quot;\\\\t&quot;)) {\r\n                delim = &#39;\\t&#39;;\r\n            } else {\r\n                // handling unicode separator\r\n                Integer i = Ints.tryParse(fieldseparator);\r\n                if (i != null) {\r\n                    fieldseparator = String.valueOf(Character.toChars(i));\r\n                    delim = fieldseparator.charAt(0);\r\n                } else {\r\n                    delim = fieldseparator.charAt(0);\r\n                }\r\n            }\r\n        }","title":"Refactor this method to reduce its Cognitive Complexity","body":"<p>I'm having a problem with refactoring this part of the code. How to reduce the cognitive complexity of this code</p>\n\n<pre><code>if (fieldseparator != null &amp;&amp; !fieldseparator.isEmpty()) {\n        if (fieldseparator.equals(\"\\\\t\")) {\n            delim = '\\t';\n        } else {\n            // handling unicode separator\n            Integer i = Ints.tryParse(fieldseparator);\n            if (i != null) {\n                fieldseparator = String.valueOf(Character.toChars(i));\n                delim = fieldseparator.charAt(0);\n            } else {\n                delim = fieldseparator.charAt(0);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","arrays","methods","deep-copy","stringbuffer"],"answers":[{"tags":[],"owner":{"account_id":135720,"reputation":2208,"user_id":338784,"accept_rate":75,"display_name":"Jihed Amine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432583697,"creation_date":1432575742,"answer_id":30443454,"question_id":30443349,"body_markdown":"Reference copy = A new variable pointing to the original object.\r\n\r\nShallow copy = Create a new copy of the original object and assign identical values to its primitive properties but use the same references as the original object for the properties that refer to other objects. \r\n\r\nDeep copy = Create a new copy of the original object and recursively create new copies for every object reference in the original object references chain.\r\n\r\nExample:\r\n\r\n    class C {\r\n    int b;\r\n    A ref1; // in shallow copy, use the same object reference. In deep copy, create a copy on this class instance\r\n    }\r\n\r\n---\r\n\r\nTo answer your second question on why `hal.equals(hel)` returns false: It&#39;s because this is the same as == check. To compare two arrays contents, you&#39;d have to use `Arrays.equals(array1, array2);`","title":"Reference, Shallow, and Deep Copy","body":"<p>Reference copy = A new variable pointing to the original object.</p>\n\n<p>Shallow copy = Create a new copy of the original object and assign identical values to its primitive properties but use the same references as the original object for the properties that refer to other objects. </p>\n\n<p>Deep copy = Create a new copy of the original object and recursively create new copies for every object reference in the original object references chain.</p>\n\n<p>Example:</p>\n\n<pre><code>class C {\nint b;\nA ref1; // in shallow copy, use the same object reference. In deep copy, create a copy on this class instance\n}\n</code></pre>\n\n<hr>\n\n<p>To answer your second question on why <code>hal.equals(hel)</code> returns false: It's because this is the same as == check. To compare two arrays contents, you'd have to use <code>Arrays.equals(array1, array2);</code></p>\n"},{"tags":[],"owner":{"account_id":1857085,"reputation":12517,"user_id":1682419,"display_name":"Jerry101"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432594052,"creation_date":1432575972,"answer_id":30443510,"question_id":30443349,"body_markdown":"Your `refCopy()` is fine.\r\n\r\n`shalCopy()` needs to construct a `new` array, then copy in the input `StringBuffer` references so it shares those `StringBuffer` objects. Write a loop or use `arrayCopy`.\r\n\r\n`deepCopy()` needs to construct a `new` array and then make copies of all the input `StringBuffers`.\r\n\r\nCan you fill in the details? If we do your assignment for you, you might not learn from it as well.\r\n\r\n**Update:** Your updated `shalCopy()` method gets the right result in this case but (1) it should use `bar.length` (its input array length) instead of assuming its input array has length `n`, and (2) the first assignment `buf = new StringBuffer[n]` is pointless and misleading since the code immediately replaces that with another array. Also, this will be more instructive if you write an explicit loop rather than call `Arrays.copyOf()`.\r\n\r\nYour updated `deepCopy()` does not get the right result, and it repeats the above problems. `clone()` is not what&#39;s needed, is not so useful in general, and does not shed any light on the problem at hand, that is, it&#39;s not instructive here. Instead, try constructing a new array and using a loop to (deep) copy all the StringBuffer objects, not their references.\r\n\r\nHere&#39;s how you can tell if your code works:\r\n\r\n* A **reference copy** `dest = refCopy(source)` should make the variable `dest` refer to the same instance as `source`. So changing e.g. `dest[0] = null` will also change `source[0]`.\r\n* A **shallow copy** `dest = shalCopy(source)` should make the variable `dest` refer to a new array that contains the very same instances that are in `source`. So changing `dest[0] = null` will not change `source[0]`, but modifying a shared instance, e.g. `dest[1].append(&quot;!&quot;)` will modify `source[1]`.\r\n* A **deep copy** `dest = deepCopy(source)` should make the variable `dest` refer to a separate array that contains separate instances that are not in `source`. So neither of the above changes to `dest` will modify `source`.","title":"Reference, Shallow, and Deep Copy","body":"<p>Your <code>refCopy()</code> is fine.</p>\n\n<p><code>shalCopy()</code> needs to construct a <code>new</code> array, then copy in the input <code>StringBuffer</code> references so it shares those <code>StringBuffer</code> objects. Write a loop or use <code>arrayCopy</code>.</p>\n\n<p><code>deepCopy()</code> needs to construct a <code>new</code> array and then make copies of all the input <code>StringBuffers</code>.</p>\n\n<p>Can you fill in the details? If we do your assignment for you, you might not learn from it as well.</p>\n\n<p><strong>Update:</strong> Your updated <code>shalCopy()</code> method gets the right result in this case but (1) it should use <code>bar.length</code> (its input array length) instead of assuming its input array has length <code>n</code>, and (2) the first assignment <code>buf = new StringBuffer[n]</code> is pointless and misleading since the code immediately replaces that with another array. Also, this will be more instructive if you write an explicit loop rather than call <code>Arrays.copyOf()</code>.</p>\n\n<p>Your updated <code>deepCopy()</code> does not get the right result, and it repeats the above problems. <code>clone()</code> is not what's needed, is not so useful in general, and does not shed any light on the problem at hand, that is, it's not instructive here. Instead, try constructing a new array and using a loop to (deep) copy all the StringBuffer objects, not their references.</p>\n\n<p>Here's how you can tell if your code works:</p>\n\n<ul>\n<li>A <strong>reference copy</strong> <code>dest = refCopy(source)</code> should make the variable <code>dest</code> refer to the same instance as <code>source</code>. So changing e.g. <code>dest[0] = null</code> will also change <code>source[0]</code>.</li>\n<li>A <strong>shallow copy</strong> <code>dest = shalCopy(source)</code> should make the variable <code>dest</code> refer to a new array that contains the very same instances that are in <code>source</code>. So changing <code>dest[0] = null</code> will not change <code>source[0]</code>, but modifying a shared instance, e.g. <code>dest[1].append(\"!\")</code> will modify <code>source[1]</code>.</li>\n<li>A <strong>deep copy</strong> <code>dest = deepCopy(source)</code> should make the variable <code>dest</code> refer to a separate array that contains separate instances that are not in <code>source</code>. So neither of the above changes to <code>dest</code> will modify <code>source</code>.</li>\n</ul>\n"}],"owner":{"account_id":6351005,"reputation":173,"user_id":4930066,"accept_rate":60,"display_name":"userb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3823,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1641111718,"creation_date":1432575252,"question_id":30443349,"body_markdown":"I have been researching and reading what these three (Reference copy, Shallow copy and Deep copy) methods do and how to create them; and I am still having a hard time understanding how to implement the said methods in my code. \r\n\r\nThe first method suppose to be a reference method (refCopy), the second should be a shallow method (shalCopy) and last a deep copy method(deepCopy). Not sure if these are correct. Any help on how to execute these copies correctly will be greatly appreciated. \r\n\r\n\r\nThis is my code so far:\r\n\r\n\r\n\r\n\r\n\r\n    public class ArrayRefCopy implements Cloneable {\r\n    \tprivate static int n = 3;\r\n    \tprivate static StringBuffer[] buf = new StringBuffer[4];\r\n    \tpublic static void main(String[] args){\r\n    \t\t\r\n    \t\tStringBuffer[] hel = new StringBuffer[n];\r\n    \t\thel[0] = new StringBuffer(&quot;hello&quot;);\r\n    \t\thel[1] = new StringBuffer(&quot;hallo&quot;);\r\n    \t\thel[2] = new StringBuffer(&quot;hey&quot;);\r\n    \t\t\r\n    \t\trefCopy(hel);\r\n    \t\tSystem.out.println(Arrays.toString(hel));\r\n    \t\tshalCopy(hel);\r\n    \t\tSystem.out.println(Arrays.toString(hel));\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static StringBuffer[] refCopy(StringBuffer[] bra){\r\n    \t\t\r\n    \t\tStringBuffer[] ber = bra;\r\n    \t\treturn ber;\r\n    \t}\r\n    \t\r\n    \tpublic static StringBuffer[] shalCopy(StringBuffer[] bar){\r\n    \t\t\r\n    \t\treturn buf = bar;\r\n    \t}\r\n    \t\r\n    \tpublic static StringBuffer[] deepCopy(StringBuffer[] bri){\r\n    \t\t\r\n    \t\tStringBuffer[] deep = new StringBuffer[n];\r\n    \t\treturn deep = bri.clone();\r\n    \t}\r\n    }\r\n\r\n\r\n=========================================================================\r\n\r\nI changed the last two methods to this (created objects in them):\r\n\r\n    public static StringBuffer[] shalCopy(StringBuffer[] bar){\r\n            StringBuffer[] buf = new StringBuffer[n];\r\n            return buf = Arrays.copyOf(bar, n);\r\n        }\r\n    \r\n        public static StringBuffer[] deepCopy(StringBuffer[] bri){\r\n    \r\n            StringBuffer[] deep = new StringBuffer[n];\r\n            return deep = bri.clone();\r\n        }\r\n\r\nBut when I do this:\r\n\r\n\r\n\r\n    StringBuffer[] hel = new StringBuffer[n];\r\n            hel[0] = new StringBuffer(&quot;hello&quot;);\r\n            hel[1] = new StringBuffer(&quot;hallo&quot;);\r\n            hel[2] = new StringBuffer(&quot;hey&quot;);\r\n    \r\n            StringBuffer[] hal = new StringBuffer[n];\r\n            hal = deepCopy(hel);\r\n    \r\n    \r\n            System.out.println(hal.equals(hel));\r\n\r\n\r\n\r\nIt gives me false. I thought clone would completely copy the object with its values. Why is it giving me false?\r\n\r\n\r\n**UPDATE:**\r\n\r\n    public static StringBuffer[] shalCopy(StringBuffer[] bar){\r\n    \t\tStringBuffer[] buf = new StringBuffer[bar.length];\r\n    \t\tfor(int i = 0; i &lt; bar.length; i++){\r\n    \t\t\tbuf[i] = bar[i];\r\n    \t\t}\r\n    \t\t\t\r\n    \t\t\treturn buf;\r\n    \t\t}\r\n    \r\n    \t\t\r\n    \t\r\n    \t\r\n    \tpublic static StringBuffer[] deepCopy(StringBuffer[] bri){\r\n    \t\t\r\n    \t\tStringBuffer[] deep = new StringBuffer[bri.length];\r\n    \t\tfor(int i=0; i &lt; bri.length; i++){\r\n    \t\t\tbri[i] = new StringBuffer(bri[i]);\r\n    \t\t\tdeep[i] = bri[i];\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn deep;\r\n    \t\t\r\n    \t}\r\n\r\n","title":"Reference, Shallow, and Deep Copy","body":"<p>I have been researching and reading what these three (Reference copy, Shallow copy and Deep copy) methods do and how to create them; and I am still having a hard time understanding how to implement the said methods in my code. </p>\n\n<p>The first method suppose to be a reference method (refCopy), the second should be a shallow method (shalCopy) and last a deep copy method(deepCopy). Not sure if these are correct. Any help on how to execute these copies correctly will be greatly appreciated. </p>\n\n<p>This is my code so far:</p>\n\n<pre><code>public class ArrayRefCopy implements Cloneable {\n    private static int n = 3;\n    private static StringBuffer[] buf = new StringBuffer[4];\n    public static void main(String[] args){\n\n        StringBuffer[] hel = new StringBuffer[n];\n        hel[0] = new StringBuffer(\"hello\");\n        hel[1] = new StringBuffer(\"hallo\");\n        hel[2] = new StringBuffer(\"hey\");\n\n        refCopy(hel);\n        System.out.println(Arrays.toString(hel));\n        shalCopy(hel);\n        System.out.println(Arrays.toString(hel));\n\n\n    }\n\n    public static StringBuffer[] refCopy(StringBuffer[] bra){\n\n        StringBuffer[] ber = bra;\n        return ber;\n    }\n\n    public static StringBuffer[] shalCopy(StringBuffer[] bar){\n\n        return buf = bar;\n    }\n\n    public static StringBuffer[] deepCopy(StringBuffer[] bri){\n\n        StringBuffer[] deep = new StringBuffer[n];\n        return deep = bri.clone();\n    }\n}\n</code></pre>\n\n<p>=========================================================================</p>\n\n<p>I changed the last two methods to this (created objects in them):</p>\n\n<pre><code>public static StringBuffer[] shalCopy(StringBuffer[] bar){\n        StringBuffer[] buf = new StringBuffer[n];\n        return buf = Arrays.copyOf(bar, n);\n    }\n\n    public static StringBuffer[] deepCopy(StringBuffer[] bri){\n\n        StringBuffer[] deep = new StringBuffer[n];\n        return deep = bri.clone();\n    }\n</code></pre>\n\n<p>But when I do this:</p>\n\n<pre><code>StringBuffer[] hel = new StringBuffer[n];\n        hel[0] = new StringBuffer(\"hello\");\n        hel[1] = new StringBuffer(\"hallo\");\n        hel[2] = new StringBuffer(\"hey\");\n\n        StringBuffer[] hal = new StringBuffer[n];\n        hal = deepCopy(hel);\n\n\n        System.out.println(hal.equals(hel));\n</code></pre>\n\n<p>It gives me false. I thought clone would completely copy the object with its values. Why is it giving me false?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code>public static StringBuffer[] shalCopy(StringBuffer[] bar){\n        StringBuffer[] buf = new StringBuffer[bar.length];\n        for(int i = 0; i &lt; bar.length; i++){\n            buf[i] = bar[i];\n        }\n\n            return buf;\n        }\n\n\n\n\n    public static StringBuffer[] deepCopy(StringBuffer[] bri){\n\n        StringBuffer[] deep = new StringBuffer[bri.length];\n        for(int i=0; i &lt; bri.length; i++){\n            bri[i] = new StringBuffer(bri[i]);\n            deep[i] = bri[i];\n        }\n\n        return deep;\n\n    }\n</code></pre>\n"},{"tags":["java","mysql","sql"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1640988283,"post_id":70545904,"comment_id":124705170,"body_markdown":"[Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1640988320,"post_id":70545904,"comment_id":124705174,"body_markdown":"can you share tha table definition ? Do `desc user;` and show us by [edit]ing your post","body":"can you share tha table definition ? Do <code>desc user;</code> and show us by <a href=\"https://stackoverflow.com/posts/70545904/edit\">edit</a>ing your post"},{"owner":{"account_id":20528397,"reputation":1,"user_id":15066306,"display_name":"luucid"},"score":0,"creation_date":1640989459,"post_id":70545904,"comment_id":124705354,"body_markdown":"i really dont know how this stack overflow thing works im new, so im sorry if i break some rules","body":"i really dont know how this stack overflow thing works im new, so im sorry if i break some rules"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1640989550,"post_id":70545904,"comment_id":124705368,"body_markdown":"Just leave userId out of the insert statement.","body":"Just leave userId out of the insert statement."},{"owner":{"account_id":20528397,"reputation":1,"user_id":15066306,"display_name":"luucid"},"score":0,"creation_date":1640989677,"post_id":70545904,"comment_id":124705397,"body_markdown":"yea i already did that but it said &quot;Field &#39;userId&#39; doesn&#39;t have a default value&quot;","body":"yea i already did that but it said &quot;Field &#39;userId&#39; doesn&#39;t have a default value&quot;"},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1640991111,"post_id":70545904,"comment_id":124705575,"body_markdown":"it sounds like maybe your alter table didn&#39;t succeed?  could you edit your question and show (as text, not an image) the output of `show create table users;`?  @azro that provides so much more helpful information than desc","body":"it sounds like maybe your alter table didn&#39;t succeed?  could you edit your question and show (as text, not an image) the output of <code>show create table users;</code>?  @azro that provides so much more helpful information than desc"},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1640996567,"post_id":70545904,"comment_id":124706179,"body_markdown":"I mean `show create table user;`","body":"I mean <code>show create table user;</code>"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1641042323,"post_id":70545904,"comment_id":124710820,"body_markdown":"Also, don&#39;t make SQL statements by concatenating strings like that - you are wide open to SQL Injection attacks. Use PreparedStatement with setValue.","body":"Also, don&#39;t make SQL statements by concatenating strings like that - you are wide open to SQL Injection attacks. Use PreparedStatement with setValue."}],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640992504,"creation_date":1640992504,"answer_id":70546167,"question_id":70545904,"body_markdown":"You can&#39;t make a column AUTO_INCREMENT unless it&#39;s has a key (that is, index) on it. Best if it&#39;s a PRIMARY KEY or UNIQUE KEY.\r\n\r\nBut I see in your example of describe table, the column is not a key:\r\n\r\n    |Field   |Type         |Null|key|Default|Extra|\r\n    |--------|-------------|----|---|-------|-----|\r\n    |userId  |int          |NO  |___|NULL   |     |\r\n\r\n                                 ^^^ ideally this should say &quot;PRI&quot;\r\n\r\nSo your ALTER TABLE to make the column AUTO_INCREMENT probably failed. You can confirm this:\r\n\r\n    SHOW CREATE TABLE `user`\\G\r\n\r\nDo you see the `AUTO_INCREMENT` option next to the `userId` column? I don&#39;t think you will.\r\n\r\nYou can try again to make the column a primary key _and_ make it AUTO_INCREMENT:\r\n\r\n    ALTER TABLE `user`\r\n     ADD PRIMARY KEY (`userId`),\r\n     MODIFY `userId` INT AUTO_INCREMENT;\r\n\r\nDon&#39;t bother with `INT(255)`. The length argument for an integer is a common source of confusion. [It has almost no purpose or effect][1], and it&#39;s [deprecated in MySQL 8.0][2].\r\n\r\nDon&#39;t bother making the column `NOT NULL`. That will happen automatically as you add the PRIMARY KEY constraint.\r\n\r\nDon&#39;t bother setting the `AUTO_INCREMENT=8`. The next AI value will automatically be set to the highest value in that column, plus one. It can never be less than the greatest value in that column.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3135804/types-in-mysql-bigint20-vs-int20/3135854#3135854\r\n  [2]: https://bugs.mysql.com/bug.php?id=99385","title":"How do I create a query in Java for auto increment table?","body":"<p>You can't make a column AUTO_INCREMENT unless it's has a key (that is, index) on it. Best if it's a PRIMARY KEY or UNIQUE KEY.</p>\n<p>But I see in your example of describe table, the column is not a key:</p>\n<pre><code>|Field   |Type         |Null|key|Default|Extra|\n|--------|-------------|----|---|-------|-----|\n|userId  |int          |NO  |___|NULL   |     |\n\n                             ^^^ ideally this should say &quot;PRI&quot;\n</code></pre>\n<p>So your ALTER TABLE to make the column AUTO_INCREMENT probably failed. You can confirm this:</p>\n<pre><code>SHOW CREATE TABLE `user`\\G\n</code></pre>\n<p>Do you see the <code>AUTO_INCREMENT</code> option next to the <code>userId</code> column? I don't think you will.</p>\n<p>You can try again to make the column a primary key <em>and</em> make it AUTO_INCREMENT:</p>\n<pre><code>ALTER TABLE `user`\n ADD PRIMARY KEY (`userId`),\n MODIFY `userId` INT AUTO_INCREMENT;\n</code></pre>\n<p>Don't bother with <code>INT(255)</code>. The length argument for an integer is a common source of confusion. <a href=\"https://stackoverflow.com/questions/3135804/types-in-mysql-bigint20-vs-int20/3135854#3135854\">It has almost no purpose or effect</a>, and it's <a href=\"https://bugs.mysql.com/bug.php?id=99385\" rel=\"nofollow noreferrer\">deprecated in MySQL 8.0</a>.</p>\n<p>Don't bother making the column <code>NOT NULL</code>. That will happen automatically as you add the PRIMARY KEY constraint.</p>\n<p>Don't bother setting the <code>AUTO_INCREMENT=8</code>. The next AI value will automatically be set to the highest value in that column, plus one. It can never be less than the greatest value in that column.</p>\n"},{"tags":[],"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641028750,"creation_date":1640993421,"answer_id":70546221,"question_id":70545904,"body_markdown":"Try this code, must work if you already defined userId is an auto_increament.\r\n\r\n    String query = &quot;INSERT INTO user(username,password,gender,country,role)  VALUES(&#39;&quot;+uu+&quot;&#39;, &#39;&quot;+pp+&quot;&#39;, &#39;&quot;+gg+&quot;&#39;,&#39;&quot;+cc+&quot;&#39;, &#39;&quot;+rr+&quot;&#39;)&quot;;\r\n","title":"How do I create a query in Java for auto increment table?","body":"<p>Try this code, must work if you already defined userId is an auto_increament.</p>\n<pre><code>String query = &quot;INSERT INTO user(username,password,gender,country,role)  VALUES('&quot;+uu+&quot;', '&quot;+pp+&quot;', '&quot;+gg+&quot;','&quot;+cc+&quot;', '&quot;+rr+&quot;')&quot;;\n</code></pre>\n"}],"owner":{"account_id":20528397,"reputation":1,"user_id":15066306,"display_name":"luucid"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641110342,"creation_date":1640988144,"question_id":70545904,"body_markdown":"I was trying to create an insert query in Java to MySQL server but the thing is it keep asking for value for column &quot;user id&quot; even though I&#39;ve already define it as AUTO_INCREMENT. I&#39;ve tried to set the value to NULL too but it said &quot;column user id cannot be null&quot;.\r\n\r\nFrom what I know in SQL you don&#39;t have to define value for auto increment type right ?\r\n\r\nQuery:\r\n\r\n    String query = &quot;INSERT INTO \r\n    user(userId, username, password, gender, country, role) \r\n    VALUES(NULL,&#39;&quot;+uu+&quot;&#39;, &#39;&quot;+pp+&quot;&#39;, &#39;&quot;+gg+&quot;&#39;,&#39;&quot;+cc+&quot;&#39;, &#39;&quot;+rr+&quot;&#39;)&quot;;\r\n\r\nErrors :\r\n\r\n&gt; java.sql.SQLIntegrityConstraintViolationException: Column &#39;userId&#39; cannot be null\r\n&gt;\r\n&gt; at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)  \r\n&gt; at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)  \r\n&gt; at com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1333)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2106)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1243)\r\n\tat main.Connect.updateData(Connect.java:43)\r\n\tat main.Regis.actionPerformed(Regis.java:189)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\r\n\tat java.awt.Component.processMouseEvent(Unknown Source)\r\n\tat javax.swing.JComponent.processMouseEvent(Unknown Source)\r\n\tat java.awt.Component.processEvent(Unknown Source)\r\n\tat java.awt.Container.processEvent(Unknown Source)\r\n\tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Window.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.EventQueue.access$500(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue$4.run(Unknown Source)\r\n\tat java.awt.EventQueue$4.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.run(Unknown Source)\r\n\r\nTable definition :\r\n\r\n```\r\n|Column  |Type         |Null|key|Default|Extra|\r\n+--------+-------------+----+---+-------+-----+\r\n|userId  |int          |NO  |___|NULL   |     |\r\n|username|varchar(255) |NO  |___|NULL   |     |\r\n|password|varchar(255) |NO  |___|NULL   |     |\r\n|gender  |varchar(255) |NO  |___|NULL   |     |\r\n|country |varchar(255) |NO  |___|NULL   |     |\r\n|role    |varchar(255) |NO  |___|NULL   |     |\r\n```\r\n\r\n\r\nNote : from the `.sql` file that I get there is alter table code for table user\r\n\r\n    ALTER TABLE `user`\r\n    MODIFY `userId` int(255) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;\r\n\r\n\r\n\r\n\r\n","title":"How do I create a query in Java for auto increment table?","body":"<p>I was trying to create an insert query in Java to MySQL server but the thing is it keep asking for value for column &quot;user id&quot; even though I've already define it as AUTO_INCREMENT. I've tried to set the value to NULL too but it said &quot;column user id cannot be null&quot;.</p>\n<p>From what I know in SQL you don't have to define value for auto increment type right ?</p>\n<p>Query:</p>\n<pre><code>String query = &quot;INSERT INTO \nuser(userId, username, password, gender, country, role) \nVALUES(NULL,'&quot;+uu+&quot;', '&quot;+pp+&quot;', '&quot;+gg+&quot;','&quot;+cc+&quot;', '&quot;+rr+&quot;')&quot;;\n</code></pre>\n<p>Errors :</p>\n<blockquote>\n<p>java.sql.SQLIntegrityConstraintViolationException: Column 'userId' cannot be null</p>\n<p>at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)<br />\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)<br />\nat com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1333)\nat com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2106)\nat com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1243)\nat main.Connect.updateData(Connect.java:43)\nat main.Regis.actionPerformed(Regis.java:189)\nat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\nat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\nat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\nat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\nat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\nat java.awt.Component.processMouseEvent(Unknown Source)\nat javax.swing.JComponent.processMouseEvent(Unknown Source)\nat java.awt.Component.processEvent(Unknown Source)\nat java.awt.Container.processEvent(Unknown Source)\nat java.awt.Component.dispatchEventImpl(Unknown Source)\nat java.awt.Container.dispatchEventImpl(Unknown Source)\nat java.awt.Component.dispatchEvent(Unknown Source)\nat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\nat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\nat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\nat java.awt.Container.dispatchEventImpl(Unknown Source)\nat java.awt.Window.dispatchEventImpl(Unknown Source)\nat java.awt.Component.dispatchEvent(Unknown Source)\nat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\nat java.awt.EventQueue.access$500(Unknown Source)\nat java.awt.EventQueue$3.run(Unknown Source)\nat java.awt.EventQueue$3.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\nat java.awt.EventQueue$4.run(Unknown Source)\nat java.awt.EventQueue$4.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\nat java.awt.EventQueue.dispatchEvent(Unknown Source)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\nat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\nat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\nat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\nat java.awt.EventDispatchThread.run(Unknown Source)</p>\n</blockquote>\n<p>Table definition :</p>\n<pre><code>|Column  |Type         |Null|key|Default|Extra|\n+--------+-------------+----+---+-------+-----+\n|userId  |int          |NO  |___|NULL   |     |\n|username|varchar(255) |NO  |___|NULL   |     |\n|password|varchar(255) |NO  |___|NULL   |     |\n|gender  |varchar(255) |NO  |___|NULL   |     |\n|country |varchar(255) |NO  |___|NULL   |     |\n|role    |varchar(255) |NO  |___|NULL   |     |\n</code></pre>\n<p>Note : from the <code>.sql</code> file that I get there is alter table code for table user</p>\n<pre><code>ALTER TABLE `user`\nMODIFY `userId` int(255) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;\n</code></pre>\n"},{"tags":["java","android","timestamp"],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641109441,"creation_date":1641109441,"answer_id":70554367,"question_id":70554266,"body_markdown":"You can get this output with this logic. \r\n\r\n1. Store the value you want to reset to the preset value using shared preferences\r\n2. Store the date-time value from the system using the sharedPrefs.\r\n3. On App startup check if the local time matches the time in sharedPrefereces.\r\n\r\nIf it matches -&gt; do nothing\r\nif it does not -&gt; reset\r\n\r\nPS: Here shared preferences is just an example you can use room/datastore or anything to perform this check on app startup.","title":"How to reset a value after 24 hour passed in android","body":"<p>You can get this output with this logic.</p>\n<ol>\n<li>Store the value you want to reset to the preset value using shared preferences</li>\n<li>Store the date-time value from the system using the sharedPrefs.</li>\n<li>On App startup check if the local time matches the time in sharedPrefereces.</li>\n</ol>\n<p>If it matches -&gt; do nothing\nif it does not -&gt; reset</p>\n<p>PS: Here shared preferences is just an example you can use room/datastore or anything to perform this check on app startup.</p>\n"}],"owner":{"account_id":22595079,"reputation":73,"user_id":16777508,"display_name":"Cynthia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641109441,"creation_date":1641108319,"question_id":70554266,"body_markdown":"#### I want make a kind of a daily login reward.\r\n\r\nI have a button named `ClaimReward` and A user can claim reward one time in a day!. if user claimed the reward then `disable` the `button` and if\r\n24 hours passed then again `enabled` the `button`.\r\n\r\n#### My try\r\n\r\n    I stored a today&#39;s date in firebase realtime database in millis (long) or timestamp - 1353534920\r\n\r\nSo, how can I do this in android\r\n\r\n\r\n\r\n","title":"How to reset a value after 24 hour passed in android","body":"<h4>I want make a kind of a daily login reward.</h4>\n<p>I have a button named <code>ClaimReward</code> and A user can claim reward one time in a day!. if user claimed the reward then <code>disable</code> the <code>button</code> and if\n24 hours passed then again <code>enabled</code> the <code>button</code>.</p>\n<h4>My try</h4>\n<pre><code>I stored a today's date in firebase realtime database in millis (long) or timestamp - 1353534920\n</code></pre>\n<p>So, how can I do this in android</p>\n"},{"tags":["java","hibernate","criteria"],"comments":[{"owner":{"account_id":1021804,"reputation":12875,"user_id":1031945,"accept_rate":83,"display_name":"Aniket Kulkarni"},"score":0,"creation_date":1391429071,"post_id":21526867,"comment_id":32503504,"body_markdown":"Check connection URL `jdbc:oracle:thin:@localhost:1521:xe` [see here](http://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html). Also check log","body":"Check connection URL <code>jdbc:oracle:thin:@localhost:1521:xe</code> <a href=\"http://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html\" rel=\"nofollow noreferrer\">see here</a>. Also check log"},{"owner":{"account_id":2345376,"reputation":3008,"user_id":2055782,"accept_rate":58,"display_name":"Mohsin AR"},"score":0,"creation_date":1391429152,"post_id":21526867,"comment_id":32503573,"body_markdown":"this [link](http://www.mkyong.com/hibernate/hibernate-criteria-examples/) will help you","body":"this <a href=\"http://www.mkyong.com/hibernate/hibernate-criteria-examples/\" rel=\"nofollow noreferrer\">link</a> will help you"},{"owner":{"account_id":3284464,"reputation":4395,"user_id":2764279,"accept_rate":89,"display_name":"earthmover"},"score":0,"creation_date":1391429336,"post_id":21526867,"comment_id":32503683,"body_markdown":"actually I have another URL here `jdbc:oracle:thin:@URL:xe`, I&#39;ve written `8080` only here for security of my server...@Aniket","body":"actually I have another URL here <code>jdbc:oracle:thin:@URL:xe</code>, I&#39;ve written <code>8080</code> only here for security of my server...@Aniket"},{"owner":{"account_id":3284464,"reputation":4395,"user_id":2764279,"accept_rate":89,"display_name":"earthmover"},"score":0,"creation_date":1391429516,"post_id":21526867,"comment_id":32503803,"body_markdown":"not getting any exception or error.....only the O/P is `List length =======  0`","body":"not getting any exception or error.....only the O/P is <code>List length =======  0</code>"}],"answers":[{"tags":[],"owner":{"account_id":3729156,"reputation":337,"user_id":3102118,"accept_rate":72,"display_name":"Bhaskar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391434616,"creation_date":1391434616,"answer_id":21528842,"question_id":21526867,"body_markdown":"While working with Criteria API, we need to provide the expression or alias which basically sets the Criteria which is ought to be implemented in the calling method/class.\r\n\r\nConsider, that I want to SET a criteria for an ORDER bean which has orderId, orderName, orderType as its input attributes on the basis of which I will set the criteria or fetch the data. My approach will be something like this:\r\n\r\n    hibernateSession_destination = HibernateUtilReports.INSTANCE.getSession();\r\n    Criteria criteria = hibernateSession_destination.createCriteria(Order.class);\r\n    criteria.add(Expression.eq(&quot;orderId&quot;, orderId)); //1\r\n    criteria.add(Expression.like(&quot;orderType&quot;, siteType)); //2\r\n    criteria.add(Expression.in(&quot;orderId&quot;, siteId)); //3\r\n    List list = criteria.list();\r\n    System.out.println(&quot;List length =======  &quot; + list.size());\r\n\r\nNote: It&#39;s not necessary for me to include all of 1,2,3 marked above. But for setting Order Criteria. You can use this as a work-around if you are not able to fetch the entire schema due to any restrictions.\r\n\r\nHowever, you may also need to check your db connectivity. This may be an issue which isn&#39;t allowing your application to fetch the data.","title":"why Hibernate criteria return empty list if I have data in my table?","body":"<p>While working with Criteria API, we need to provide the expression or alias which basically sets the Criteria which is ought to be implemented in the calling method/class.</p>\n\n<p>Consider, that I want to SET a criteria for an ORDER bean which has orderId, orderName, orderType as its input attributes on the basis of which I will set the criteria or fetch the data. My approach will be something like this:</p>\n\n<pre><code>hibernateSession_destination = HibernateUtilReports.INSTANCE.getSession();\nCriteria criteria = hibernateSession_destination.createCriteria(Order.class);\ncriteria.add(Expression.eq(\"orderId\", orderId)); //1\ncriteria.add(Expression.like(\"orderType\", siteType)); //2\ncriteria.add(Expression.in(\"orderId\", siteId)); //3\nList list = criteria.list();\nSystem.out.println(\"List length =======  \" + list.size());\n</code></pre>\n\n<p>Note: It's not necessary for me to include all of 1,2,3 marked above. But for setting Order Criteria. You can use this as a work-around if you are not able to fetch the entire schema due to any restrictions.</p>\n\n<p>However, you may also need to check your db connectivity. This may be an issue which isn't allowing your application to fetch the data.</p>\n"},{"tags":[],"owner":{"account_id":3585414,"reputation":909,"user_id":2992722,"accept_rate":25,"display_name":"Mathews"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1411576059,"creation_date":1411576059,"answer_id":26021969,"question_id":21526867,"body_markdown":"For those who are still looking for an answer to this question as I was, Please check your hibernate config xml and make sure your hibernate entity is declared there","title":"why Hibernate criteria return empty list if I have data in my table?","body":"<p>For those who are still looking for an answer to this question as I was, Please check your hibernate config xml and make sure your hibernate entity is declared there</p>\n"},{"tags":[],"owner":{"account_id":20486425,"reputation":13,"user_id":15033479,"display_name":"Pramit Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641109308,"creation_date":1641108495,"answer_id":70554285,"question_id":21526867,"body_markdown":"Please use this :\r\n    \r\n\r\n&gt; List&lt;Class_name&gt; list = criteria.list();\r\n\r\ninstead of directly using:   \r\n    \r\n\r\n&gt; List list = criteria.list();\r\n\r\nWe should always mention the class for which we are fetching the list.For example,if i want the data for my Student class from the database using Criteria api then,i would use somthing like this:\r\n\r\n\r\n    SessionFactory factory= new Configuration().configure().buildSessionFactory(); \r\n    Session session =factory.openSession(); \r\n    Criteria criteria=session.createCriteria(Student.class);\r\n    List&lt;Student&gt; list=criteria.list();\r\n     \r\n       for(Student student:list)\r\n        {\r\n        \tSystem.out.println(&quot;Criteria Demo:&quot;+student.getName());\t\r\n        \r\n        }\r\n\r\n","title":"why Hibernate criteria return empty list if I have data in my table?","body":"<p>Please use this :</p>\n<blockquote>\n<p>List&lt;Class_name&gt; list = criteria.list();</p>\n</blockquote>\n<p>instead of directly using:</p>\n<blockquote>\n<p>List list = criteria.list();</p>\n</blockquote>\n<p>We should always mention the class for which we are fetching the list.For example,if i want the data for my Student class from the database using Criteria api then,i would use somthing like this:</p>\n<pre><code>SessionFactory factory= new Configuration().configure().buildSessionFactory(); \nSession session =factory.openSession(); \nCriteria criteria=session.createCriteria(Student.class);\nList&lt;Student&gt; list=criteria.list();\n \n   for(Student student:list)\n    {\n        System.out.println(&quot;Criteria Demo:&quot;+student.getName()); \n    \n    }\n</code></pre>\n"}],"owner":{"account_id":3284464,"reputation":4395,"user_id":2764279,"accept_rate":89,"display_name":"earthmover"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12022,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26021969,"answer_count":3,"score":4,"last_activity_date":1641109308,"creation_date":1391428791,"question_id":21526867,"body_markdown":"I didn&#39;t understand why I am getting empty list from `criteria`, and I have data in my table.\r\n\r\ncode where I&#39;m getting List:\r\n\r\n    hibernateSession_destination = HibernateUtilReports.INSTANCE.getSession();\r\n            \r\n            Criteria criteria = hibernateSession_destination.createCriteria(nr_rec_backup_rule.class);\r\n            List list = criteria.list();\r\n            System.out.println(&quot;List length =======  &quot; + list.size()); // prints size = 0\r\n\r\nMy HibernateUtilReports.java :\r\n\r\n    public enum HibernateUtilReports {\r\n        INSTANCE;\r\n        public static SessionFactory sessionFactory = null;\r\n    \r\n    private synchronized SessionFactory getSessionFactory(){\r\n        \r\n        if(sessionFactory == null){\r\n            Configuration config = new Configuration();\r\n            config.addAnnotatedClass(contaque_recording_log.class);\r\n            config.addAnnotatedClass(contaque_servers.class);\r\n            config.configure(&quot;reportshibernate.cfg.xml&quot;); // is here any error???\r\n            \r\n            Properties configProperties = config.getProperties();\r\n            ServiceRegistryBuilder serviceRegisteryBuilder = new ServiceRegistryBuilder();\r\n            ServiceRegistry serviceRegistry = serviceRegisteryBuilder.applySettings(configProperties).buildServiceRegistry();\r\n            sessionFactory = config.buildSessionFactory(serviceRegistry);\r\n        }\r\n        return sessionFactory;\r\n    }\r\n    \r\n    public Session getSession(){\r\n        return getSessionFactory().openSession();\r\n    }\r\n    }\r\n\r\nMy reportshibernate.cfg.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;connection.driver_class&quot;&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:oracle:thin:@8080/xe&lt;/property&gt; \r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;user&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;1234&lt;/property&gt;\r\n           \r\n            &lt;property name=&quot;c3p0.minPoolSize&quot;&gt;2&lt;/property&gt;\r\n        &lt;property name=&quot;c3p0.maxPoolSize&quot;&gt;100&lt;/property&gt;\r\n        &lt;property name=&quot;c3p0.timeout&quot;&gt;1000&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.zeroDateTimeBehavior&quot;&gt;convertToNull&lt;/property&gt;\r\n        \r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n\r\nWhere am I going wrong???\r\n\r\n**Edited:**\r\n\r\n&gt; Note: Since &quot;show_sql&quot; is set to &#39;true&#39; in my xml, but I am not getting any SQL query on my console.\r\n\r\n","title":"why Hibernate criteria return empty list if I have data in my table?","body":"<p>I didn't understand why I am getting empty list from <code>criteria</code>, and I have data in my table.</p>\n\n<p>code where I'm getting List:</p>\n\n<pre><code>hibernateSession_destination = HibernateUtilReports.INSTANCE.getSession();\n\n        Criteria criteria = hibernateSession_destination.createCriteria(nr_rec_backup_rule.class);\n        List list = criteria.list();\n        System.out.println(\"List length =======  \" + list.size()); // prints size = 0\n</code></pre>\n\n<p>My HibernateUtilReports.java :</p>\n\n<pre><code>public enum HibernateUtilReports {\n    INSTANCE;\n    public static SessionFactory sessionFactory = null;\n\nprivate synchronized SessionFactory getSessionFactory(){\n\n    if(sessionFactory == null){\n        Configuration config = new Configuration();\n        config.addAnnotatedClass(contaque_recording_log.class);\n        config.addAnnotatedClass(contaque_servers.class);\n        config.configure(\"reportshibernate.cfg.xml\"); // is here any error???\n\n        Properties configProperties = config.getProperties();\n        ServiceRegistryBuilder serviceRegisteryBuilder = new ServiceRegistryBuilder();\n        ServiceRegistry serviceRegistry = serviceRegisteryBuilder.applySettings(configProperties).buildServiceRegistry();\n        sessionFactory = config.buildSessionFactory(serviceRegistry);\n    }\n    return sessionFactory;\n}\n\npublic Session getSession(){\n    return getSessionFactory().openSession();\n}\n}\n</code></pre>\n\n<p>My reportshibernate.cfg.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\" \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"connection.driver_class\"&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\n        &lt;property name=\"connection.url\"&gt;jdbc:oracle:thin:@8080/xe&lt;/property&gt; \n        &lt;property name=\"hibernate.connection.username\"&gt;user&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;1234&lt;/property&gt;\n\n        &lt;property name=\"c3p0.minPoolSize\"&gt;2&lt;/property&gt;\n    &lt;property name=\"c3p0.maxPoolSize\"&gt;100&lt;/property&gt;\n    &lt;property name=\"c3p0.timeout\"&gt;1000&lt;/property&gt;\n    &lt;property name=\"hibernate.cache.use_second_level_cache\"&gt;false&lt;/property&gt;\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.zeroDateTimeBehavior\"&gt;convertToNull&lt;/property&gt;\n\n&lt;/session-factory&gt;\n</code></pre>\n\n<p></p>\n\n<p>Where am I going wrong???</p>\n\n<p><strong>Edited:</strong></p>\n\n<blockquote>\n  <p>Note: Since \"show_sql\" is set to 'true' in my xml, but I am not getting any SQL query on my console.</p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1478660600,"post_id":40499018,"comment_id":68243193,"body_markdown":"What difficulty exactly? What happens when you run your code, and what did you expect to happen instead? Any errors?","body":"What difficulty exactly? What happens when you run your code, and what did you expect to happen instead? Any errors?"},{"owner":{"account_id":8388724,"reputation":45,"user_id":6298178,"accept_rate":50,"display_name":"natsuVsnaruto"},"score":0,"creation_date":1478672034,"post_id":40499018,"comment_id":68245611,"body_markdown":"My codes run well, in login part, but when i close my app without logging out, and open again, it still make me direct to login activity, so i want it to direct immediately to mainactivity.","body":"My codes run well, in login part, but when i close my app without logging out, and open again, it still make me direct to login activity, so i want it to direct immediately to mainactivity."},{"owner":{"account_id":3099350,"reputation":1405,"user_id":2623882,"display_name":"Amit Bhati"},"score":0,"creation_date":1478682689,"post_id":40499018,"comment_id":68249576,"body_markdown":"maintain a boolean isLogin in sharedPreferance, and check it in onCreate() of your activity, if its return true then redirect to your mainActivity.","body":"maintain a boolean isLogin in sharedPreferance, and check it in onCreate() of your activity, if its return true then redirect to your mainActivity."}],"answers":[{"tags":[],"owner":{"account_id":3099350,"reputation":1405,"user_id":2623882,"display_name":"Amit Bhati"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1479274914,"creation_date":1478683128,"answer_id":40503408,"question_id":40499018,"body_markdown":"Made change in below code-\r\n\r\nMaintain a boolean variable in sharedPreferance and will work for you.\r\n\r\n    SharedPreferences sharedPreferences;\r\n        SharedPreferences.Editor editor;\r\n    \r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.login);\r\n    \r\n    sharedPreferences =getSharedPreferences(getPackageName(), MODE_PRIVATE);\r\n            editor = sharedPreferences.edit();\r\n    \r\n    if(sharedPreferences.getBoolean(&quot;isLogin&quot;,false))\r\n    {\r\n            Intent intent = new Intent(Login.this , MainActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n    }\r\n    \r\n        OptionalPendingResult&lt;GoogleSignInResult&gt; opr = Auth.GoogleSignInApi.silentSignIn(mGoogleApiClient);\r\n    \r\n        if(opr.isDone()) {\r\n            Log.d(TAG,&quot;Got cached sign-in&quot;);\r\n            GoogleSignInResult result = opr.get();\r\n            handleSignInResult(result);\r\n        } else {\r\n            SignInButton mGoogleSignInButton = (SignInButton) findViewById(R.id.sign_in_button);\r\n            mStatusView = (TextView) findViewById(R.id.status_text);\r\n            mGoogleSignInButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    switch (v.getId()) {\r\n                        case R.id.sign_in_button:\r\n                            signInWithGoogle();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n     private void signInWithGoogle(){\r\n        if(mGoogleApiClient != null) {\r\n            mGoogleApiClient.disconnect();\r\n        }\r\n    \r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().build();\r\n        mGoogleApiClient = new GoogleApiClient.Builder(this).addApi(Auth.GOOGLE_SIGN_IN_API,gso).build();\r\n    \r\n        final Intent signInIntent = Auth.GoogleSignInApi.getSignInIntent(mGoogleApiClient);\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n    \r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode,resultCode,data);\r\n    \r\n        if(requestCode == RC_SIGN_IN) {\r\n            GoogleSignInResult result = Auth.GoogleSignInApi.getSignInResultFromIntent(data);\r\n            handleSignInResult(result);\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    private void handleSignInResult(GoogleSignInResult result) {\r\n        Log.d(TAG, &quot;handleSignInResult:&quot; + result.isSuccess());\r\n        if(result.isSuccess()) {\r\n            GoogleSignInAccount account = result.getSignInAccount();\r\n            mStatusView.setText(getString(R.string.signed_in_fmt, account.getDisplayName()));\r\n            //TODO: Start another explicit intent here. but this time, start MainActivity\r\n    \r\n            sharedPreferences.edit().putBoolean(&quot;isLogin&quot;,true).apply();\r\n            Intent intent = new Intent(Login.this , MainActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n    \r\n        } else {\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to check if user is already login in google auth. in android","body":"<p>Made change in below code-</p>\n\n<p>Maintain a boolean variable in sharedPreferance and will work for you.</p>\n\n<pre><code>SharedPreferences sharedPreferences;\n    SharedPreferences.Editor editor;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.login);\n\nsharedPreferences =getSharedPreferences(getPackageName(), MODE_PRIVATE);\n        editor = sharedPreferences.edit();\n\nif(sharedPreferences.getBoolean(\"isLogin\",false))\n{\n        Intent intent = new Intent(Login.this , MainActivity.class);\n        startActivity(intent);\n        finish();\n}\n\n    OptionalPendingResult&lt;GoogleSignInResult&gt; opr = Auth.GoogleSignInApi.silentSignIn(mGoogleApiClient);\n\n    if(opr.isDone()) {\n        Log.d(TAG,\"Got cached sign-in\");\n        GoogleSignInResult result = opr.get();\n        handleSignInResult(result);\n    } else {\n        SignInButton mGoogleSignInButton = (SignInButton) findViewById(R.id.sign_in_button);\n        mStatusView = (TextView) findViewById(R.id.status_text);\n        mGoogleSignInButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                switch (v.getId()) {\n                    case R.id.sign_in_button:\n                        signInWithGoogle();\n                }\n            }\n        });\n    }\n}\n private void signInWithGoogle(){\n    if(mGoogleApiClient != null) {\n        mGoogleApiClient.disconnect();\n    }\n\n    GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().build();\n    mGoogleApiClient = new GoogleApiClient.Builder(this).addApi(Auth.GOOGLE_SIGN_IN_API,gso).build();\n\n    final Intent signInIntent = Auth.GoogleSignInApi.getSignInIntent(mGoogleApiClient);\n    startActivityForResult(signInIntent, RC_SIGN_IN);\n}\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode,resultCode,data);\n\n    if(requestCode == RC_SIGN_IN) {\n        GoogleSignInResult result = Auth.GoogleSignInApi.getSignInResultFromIntent(data);\n        handleSignInResult(result);\n    }\n}\n\n\n\nprivate void handleSignInResult(GoogleSignInResult result) {\n    Log.d(TAG, \"handleSignInResult:\" + result.isSuccess());\n    if(result.isSuccess()) {\n        GoogleSignInAccount account = result.getSignInAccount();\n        mStatusView.setText(getString(R.string.signed_in_fmt, account.getDisplayName()));\n        //TODO: Start another explicit intent here. but this time, start MainActivity\n\n        sharedPreferences.edit().putBoolean(\"isLogin\",true).apply();\n        Intent intent = new Intent(Login.this , MainActivity.class);\n        startActivity(intent);\n        finish();\n\n    } else {\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6544716,"reputation":686,"user_id":5061078,"display_name":"Lips_coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479281794,"creation_date":1479281794,"answer_id":40626424,"question_id":40499018,"body_markdown":"For Google Login check whether user is signed in or not:\r\n\r\n    if (mGoogleApiClient != null &amp;&amp; mGoogleApiClient.isConnected()) {\r\n       // User is signed in.\r\n       // ...\r\n    } else {\r\n       // User is not signed in. \r\n       // Perform your operation.\r\n    }","title":"How to check if user is already login in google auth. in android","body":"<p>For Google Login check whether user is signed in or not:</p>\n\n<pre><code>if (mGoogleApiClient != null &amp;&amp; mGoogleApiClient.isConnected()) {\n   // User is signed in.\n   // ...\n} else {\n   // User is not signed in. \n   // Perform your operation.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3927584,"reputation":181,"user_id":3247364,"display_name":"Syed Atir Mohiuddin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479288603,"creation_date":1479288603,"answer_id":40628392,"question_id":40499018,"body_markdown":"  Assuming that you are checking authentication status from any Activity for e.g. Main Activity (Incase fragment get a singleton instance of your context from any activity which it is triggered from).  \r\n\r\n    GoogleApiClient mGoogleApiClient = new GoogleApiClient.Builder(this)\r\n                    .addConnectionCallbacks(this)\r\n                    .addOnConnectionFailedListener(this)\r\n                    .addApi(Plus.API)\r\n                    .addScope(Plus.SCOPE_PLUS_LOGIN)\r\n                    .build();\r\n        \r\n        if (mGoogleApiClient.isConnected()) {\r\n                //Todo\r\n            }\r\n        }","title":"How to check if user is already login in google auth. in android","body":"<p>Assuming that you are checking authentication status from any Activity for e.g. Main Activity (Incase fragment get a singleton instance of your context from any activity which it is triggered from).  </p>\n\n<pre><code>GoogleApiClient mGoogleApiClient = new GoogleApiClient.Builder(this)\n                .addConnectionCallbacks(this)\n                .addOnConnectionFailedListener(this)\n                .addApi(Plus.API)\n                .addScope(Plus.SCOPE_PLUS_LOGIN)\n                .build();\n\n    if (mGoogleApiClient.isConnected()) {\n            //Todo\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8469613,"reputation":2411,"user_id":6352712,"accept_rate":89,"display_name":"Serg Burlaka"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1599505070,"creation_date":1599505070,"answer_id":63782909,"question_id":40499018,"body_markdown":"\r\n\r\n \r\n\r\n GoogleApiClient mGoogleApiClient is deprecated now!\r\nSo according [doc][1]\r\n\r\n\r\n       // Check for existing Google Sign In account, if the user is already signed in\r\n    // the GoogleSignInAccount will be non-null.\r\n    GoogleSignInAccount account = GoogleSignIn.getLastSignedInAccount(this);\r\n    updateUI(account);\r\n\r\n\r\nFor example:\r\n\r\n \r\n\r\n     if (GoogleSignIn.getLastSignedInAccount(context) == null) {\r\n                Log.d(TAG_SIGN_FLOW, &quot;User is not signed in, so make login in&quot;)\r\n    \r\n                val signInOptions: GoogleSignInOptions = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                    .requestEmail()\r\n                    .requestScopes(Scope(DriveScopes.DRIVE_FILE))\r\n                    .build()\r\n                startActivityForResult(GoogleSignIn.getClient(this.requireActivity(), signInOptions).signInIntent, REQUEST_CODE_SIGN_IN)\r\n            } else {\r\n                Log.d(TAG_SIGN_FLOW, &quot;User has already been login&quot;)\r\n            }\r\n\r\n [1]: https://developers.google.com/identity/sign-in/android/sign-in#check_for_an_existing_signed-in_user","title":"How to check if user is already login in google auth. in android","body":"<p>GoogleApiClient mGoogleApiClient is deprecated now!\nSo according <a href=\"https://developers.google.com/identity/sign-in/android/sign-in#check_for_an_existing_signed-in_user\" rel=\"nofollow noreferrer\">doc</a></p>\n<pre><code>   // Check for existing Google Sign In account, if the user is already signed in\n// the GoogleSignInAccount will be non-null.\nGoogleSignInAccount account = GoogleSignIn.getLastSignedInAccount(this);\nupdateUI(account);\n</code></pre>\n<p>For example:</p>\n<pre><code> if (GoogleSignIn.getLastSignedInAccount(context) == null) {\n            Log.d(TAG_SIGN_FLOW, &quot;User is not signed in, so make login in&quot;)\n\n            val signInOptions: GoogleSignInOptions = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestEmail()\n                .requestScopes(Scope(DriveScopes.DRIVE_FILE))\n                .build()\n            startActivityForResult(GoogleSignIn.getClient(this.requireActivity(), signInOptions).signInIntent, REQUEST_CODE_SIGN_IN)\n        } else {\n            Log.d(TAG_SIGN_FLOW, &quot;User has already been login&quot;)\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19738023,"reputation":43,"user_id":14452038,"display_name":"Jimmy Wire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641109255,"creation_date":1640960820,"answer_id":70543191,"question_id":40499018,"body_markdown":"To check whether user is logged in and immediately open the MainActivity override the `onStart` method:\r\n```\r\n@Override\r\n protected void onStart() {\r\n super.onStart()\r\n\r\n FirebaseAuth auth = FirebaseAuth.getInstance();\r\n FirebaseUser fUser = auth.getCurrentUser();\r\n\r\n if (fUser != null){\r\n  startActivity(new Intent(LoginActivity.this, MainActivity.class));\r\n  }\r\n\r\n}\r\n```","title":"How to check if user is already login in google auth. in android","body":"<p>To check whether user is logged in and immediately open the MainActivity override the <code>onStart</code> method:</p>\n<pre><code>@Override\n protected void onStart() {\n super.onStart()\n\n FirebaseAuth auth = FirebaseAuth.getInstance();\n FirebaseUser fUser = auth.getCurrentUser();\n\n if (fUser != null){\n  startActivity(new Intent(LoginActivity.this, MainActivity.class));\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8388724,"reputation":45,"user_id":6298178,"accept_rate":50,"display_name":"natsuVsnaruto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3073,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1641109255,"creation_date":1478654273,"question_id":40499018,"body_markdown":"I&#39;m a new android developer and a student. I&#39;m having difficulty of if the user is already login in my app. I will show some of my codes. I greatly appreciate for the help and answer.\r\n\r\nLogin.java\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.login);\r\n\r\n        OptionalPendingResult&lt;GoogleSignInResult&gt; opr = Auth.GoogleSignInApi.silentSignIn(mGoogleApiClient);\r\n\r\n        if(opr.isDone()) {\r\n            Log.d(TAG,&quot;Got cached sign-in&quot;);\r\n            GoogleSignInResult result = opr.get();\r\n            handleSignInResult(result);\r\n        } else {\r\n            SignInButton mGoogleSignInButton = (SignInButton) findViewById(R.id.sign_in_button);\r\n            mStatusView = (TextView) findViewById(R.id.status_text);\r\n            mGoogleSignInButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    switch (v.getId()) {\r\n                        case R.id.sign_in_button:\r\n                            signInWithGoogle();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n     private void signInWithGoogle(){\r\n        if(mGoogleApiClient != null) {\r\n            mGoogleApiClient.disconnect();\r\n        }\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().build();\r\n        mGoogleApiClient = new GoogleApiClient.Builder(this).addApi(Auth.GOOGLE_SIGN_IN_API,gso).build();\r\n\r\n        final Intent signInIntent = Auth.GoogleSignInApi.getSignInIntent(mGoogleApiClient);\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode,resultCode,data);\r\n\r\n        if(requestCode == RC_SIGN_IN) {\r\n            GoogleSignInResult result = Auth.GoogleSignInApi.getSignInResultFromIntent(data);\r\n            handleSignInResult(result);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private void handleSignInResult(GoogleSignInResult result) {\r\n        Log.d(TAG, &quot;handleSignInResult:&quot; + result.isSuccess());\r\n        if(result.isSuccess()) {\r\n            GoogleSignInAccount account = result.getSignInAccount();\r\n            mStatusView.setText(getString(R.string.signed_in_fmt, account.getDisplayName()));\r\n            //TODO: Start another explicit intent here. but this time, start MainActivity\r\n            Intent intent = new Intent(Login.this , MainActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n            \r\n        } else {\r\n            \r\n        }\r\n    }\r\n\r\n\r\nwhere did i go wrong ?\r\n\r\n","title":"How to check if user is already login in google auth. in android","body":"<p>I'm a new android developer and a student. I'm having difficulty of if the user is already login in my app. I will show some of my codes. I greatly appreciate for the help and answer.</p>\n\n<p>Login.java</p>\n\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.login);\n\n    OptionalPendingResult&lt;GoogleSignInResult&gt; opr = Auth.GoogleSignInApi.silentSignIn(mGoogleApiClient);\n\n    if(opr.isDone()) {\n        Log.d(TAG,\"Got cached sign-in\");\n        GoogleSignInResult result = opr.get();\n        handleSignInResult(result);\n    } else {\n        SignInButton mGoogleSignInButton = (SignInButton) findViewById(R.id.sign_in_button);\n        mStatusView = (TextView) findViewById(R.id.status_text);\n        mGoogleSignInButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                switch (v.getId()) {\n                    case R.id.sign_in_button:\n                        signInWithGoogle();\n                }\n            }\n        });\n    }\n}\n private void signInWithGoogle(){\n    if(mGoogleApiClient != null) {\n        mGoogleApiClient.disconnect();\n    }\n\n    GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().build();\n    mGoogleApiClient = new GoogleApiClient.Builder(this).addApi(Auth.GOOGLE_SIGN_IN_API,gso).build();\n\n    final Intent signInIntent = Auth.GoogleSignInApi.getSignInIntent(mGoogleApiClient);\n    startActivityForResult(signInIntent, RC_SIGN_IN);\n}\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode,resultCode,data);\n\n    if(requestCode == RC_SIGN_IN) {\n        GoogleSignInResult result = Auth.GoogleSignInApi.getSignInResultFromIntent(data);\n        handleSignInResult(result);\n    }\n}\n\n\n\nprivate void handleSignInResult(GoogleSignInResult result) {\n    Log.d(TAG, \"handleSignInResult:\" + result.isSuccess());\n    if(result.isSuccess()) {\n        GoogleSignInAccount account = result.getSignInAccount();\n        mStatusView.setText(getString(R.string.signed_in_fmt, account.getDisplayName()));\n        //TODO: Start another explicit intent here. but this time, start MainActivity\n        Intent intent = new Intent(Login.this , MainActivity.class);\n        startActivity(intent);\n        finish();\n\n    } else {\n\n    }\n}\n</code></pre>\n\n<p>where did i go wrong ?</p>\n"},{"tags":["java","android","httprequest"],"answers":[{"tags":[],"owner":{"account_id":19712643,"reputation":772,"user_id":14447117,"display_name":"Alfredo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641108751,"creation_date":1641108751,"answer_id":70554303,"question_id":70553832,"body_markdown":"Most files (docs, sheets, presentation, etc..) can be downloaded by replacing **edit** with **export?format=** in the URL.\r\n\r\n    https://docs.google.com/document/d/FILE-ID/edit\r\n    https://docs.google.com/document/d/FILE-ID/export?format=doc\r\n\r\nThere are a lot of formats available (pdf/doc/pptx/xlsx/csv/jpg/etc...)\r\n\r\nThe above solution usually works fine with pdfs, images, native google files and microsoft office files. However, if you are \r\ntrying to download another type of file, you can use the next URL.\r\n\r\n    https://drive.google.com/uc?export=download&amp;id=FILE-ID\r\n\r\n[More URL tricks here][1]\r\n\r\n\r\n  [1]: https://www.labnol.org/internet/direct-links-for-google-drive/28356/","title":"How to download public Google drive file using http request in android using Java?","body":"<p>Most files (docs, sheets, presentation, etc..) can be downloaded by replacing <strong>edit</strong> with <strong>export?format=</strong> in the URL.</p>\n<pre><code>https://docs.google.com/document/d/FILE-ID/edit\nhttps://docs.google.com/document/d/FILE-ID/export?format=doc\n</code></pre>\n<p>There are a lot of formats available (pdf/doc/pptx/xlsx/csv/jpg/etc...)</p>\n<p>The above solution usually works fine with pdfs, images, native google files and microsoft office files. However, if you are\ntrying to download another type of file, you can use the next URL.</p>\n<pre><code>https://drive.google.com/uc?export=download&amp;id=FILE-ID\n</code></pre>\n<p><a href=\"https://www.labnol.org/internet/direct-links-for-google-drive/28356/\" rel=\"nofollow noreferrer\">More URL tricks here</a></p>\n"}],"owner":{"account_id":23803364,"reputation":1,"user_id":17813249,"display_name":"Roshan Sing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641108751,"creation_date":1641101637,"question_id":70553832,"body_markdown":"I have tried so many ways to download google drive public file but unable to find any answer?\r\nIf anyone knows how to do that please help me.\r\n\r\nNote: without using Google drive api","title":"How to download public Google drive file using http request in android using Java?","body":"<p>I have tried so many ways to download google drive public file but unable to find any answer?\nIf anyone knows how to do that please help me.</p>\n<p>Note: without using Google drive api</p>\n"},{"tags":["java","android","libgdx","storage","scoped-storage"],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641106703,"creation_date":1641106703,"answer_id":70554152,"question_id":70553358,"body_markdown":"A lott of fuss.\r\n\r\nYou can in the classic way save your files to the public Documents directory.\r\n\r\nOr use SAF with ACTION_OPEN_DOCUMENT_TREE for that directory.\r\n\r\nBoth dont need &#39;all files access&#39;.","title":"Saving Text Files - Scoped Storage Android 11","body":"<p>A lott of fuss.</p>\n<p>You can in the classic way save your files to the public Documents directory.</p>\n<p>Or use SAF with ACTION_OPEN_DOCUMENT_TREE for that directory.</p>\n<p>Both dont need 'all files access'.</p>\n"}],"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70554152,"answer_count":1,"score":0,"last_activity_date":1641106703,"creation_date":1641093075,"question_id":70553358,"body_markdown":"Is there a way to create and save text files outside of the Android/data folder in external storage? I am creating a music app and I added a preset manager so users can save, load, and edit preset files (which worked great before Android 11), I don’t want these files to be automatically removed if the app is uninstalled. That would be like if Photoshop deleted all of your Photoshop documents when Photoshop is uninstalled, that’s terrible! These are files that the user saves and they can be deleted separately if the user wants to.\r\n\r\nThere has to be a way around this but I haven’t been able to find anything that works. `ACTION_OPEN_DOCUMENT_TREE` looked very promising, until I saw that Android has removed this option too.\r\n\r\nhttps://developer.android.com/about/versions/11/privacy/storage\r\n\r\n&gt; You can no longer use the ACTION_OPEN_DOCUMENT_TREE intent action to\r\n&gt; request access to the following directories:\r\n&gt; * The root directory of the internal storage volume.\r\n&gt; * The root directory of each SD card volume that the device manufacturer considers to be reliable, regardless of whether the card\r\n&gt; is emulated or removable. A reliable volume is one that an app can\r\n&gt; successfully access most of the time.\r\n&gt; * The Download directory.\r\n\r\nI’ve read Google Play only allows `MANAGE_EXTERNAL_STORAGE` in apps that need it (like file browsers, or anti-virus, etc) which likely will not work in my case. I don’t want to rely on only targeting older API’s so `requestLegacyExternalStorage` won’t work either.\r\n\r\nEverything I’ve looked into appears to be a dead end. Is there anything else I can do?\r\n\r\nHere is a short test program (I’m using LibGDX), which at the moment can only save to the root location:\r\n\r\n    Android/data/com.mygdx.filetest/files/\r\n\r\n**[core] FileTest.java**\r\n\r\n    package com.mygdx.filetest;\r\n    \r\n    import com.badlogic.gdx.ApplicationListener;\r\n    import com.badlogic.gdx.Files;\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.files.FileHandle;\r\n    import com.badlogic.gdx.utils.ScreenUtils;\r\n    \r\n    public class FileTest implements ApplicationListener {\r\n        private NativePermissions permissions;\r\n        private Files.FileType fileType;\r\n        private String directory = &quot;TestDir/&quot;;\r\n        private String name = &quot;text.txt&quot;;\r\n           \r\n        public FileTest(final NativePermissions permissions){     \r\n            this.permissions = permissions;\r\n        }\r\n        \r\n        @Override\r\n        public void create(){\r\n            fileType = getFileType();\r\n            if (permissions != null){\r\n                permissions.checkExternalStoragePermission();\r\n            } else {\r\n                permissionGranted();\r\n            }\r\n        }\r\n        private Files.FileType getFileType(){\r\n            switch(Gdx.app.getType()) {\r\n                case Android:\r\n                    return Files.FileType.External;\r\n                default:\r\n                    return Files.FileType.Local;\r\n            }\r\n        }\r\n        \r\n        @Override public void render(){ ScreenUtils.clear(0.4f, 0.4f, 0.4f, 1); }\r\n        @Override public void resize(int width, int height) {}\r\n        @Override public void pause(){}\r\n        @Override public void resume(){}\r\n        @Override public void dispose (){}\r\n        \r\n        public void permissionGranted() {\r\n            FileHandle fileHandle = Gdx.files.getFileHandle(directory+name, fileType); \r\n            if (fileHandle!=null) fileHandle.writeString(&quot;test&quot;, false);\r\n        }\r\n    }\r\n\r\n**[android] AndroidLauncher.java**\r\n\r\n    package com.mygdx.filetest;\r\n    \r\n    import android.Manifest;\r\n    import android.app.AlertDialog;\r\n    import android.content.DialogInterface;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.core.app.ActivityCompat;\r\n    \r\n    import com.badlogic.gdx.backends.android.AndroidApplication;\r\n    import com.badlogic.gdx.backends.android.AndroidApplicationConfiguration;\r\n    \r\n    public class AndroidLauncher extends AndroidApplication {\r\n        private final FileTest application;\r\n        private final int STORAGE_PERMISSION_CODE = 1;\r\n        private boolean dialogBoxShowing = false;\r\n        \r\n        public AndroidLauncher(){\r\n            final AndroidPermissions permissions = new AndroidPermissions(this);\r\n            application = new FileTest(permissions);\r\n        }\r\n        \r\n        @Override\r\n        protected void onCreate (Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            AndroidApplicationConfiguration config = new AndroidApplicationConfiguration();\r\n            initialize(application, config);\r\n        }\r\n        @Override\r\n        public void onRequestPermissionsResult(final int requestCode, final String permissions[], final int[] grantResults) {\r\n            dialogBoxShowing = false;\r\n            if (requestCode == STORAGE_PERMISSION_CODE) {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    Toast.makeText(this, &quot;Permission GRANTED&quot;, Toast.LENGTH_SHORT).show();\r\n                    permissionGranted();\r\n                } else {\r\n                    Toast.makeText(this, &quot;Permission DENIED&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n        public void promptExternalStoragePermission() {\r\n            if (dialogBoxShowing) return;\r\n            dialogBoxShowing = true;\r\n            this.runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    final AlertDialog.Builder builder = new AlertDialog.Builder(AndroidLauncher.this);\r\n                    builder.setMessage(&quot;To save user presets and custom settings, allow access to your phone’s storage.&quot;);\r\n                    builder.setCancelable(false);\r\n                    // reverse these buttons to put &quot;NO&quot; on left and &quot;YES&quot; on right\r\n                    builder.setPositiveButton(&quot;NOT NOW&quot;, new DialogInterface.OnClickListener(){\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            dialogBoxShowing = false;\r\n                            dialog.dismiss();\r\n                        }\r\n                    });\r\n                    builder.setNegativeButton(&quot;CONTINUE&quot;, new DialogInterface.OnClickListener(){\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            ActivityCompat.requestPermissions(AndroidLauncher.this, new String[] {Manifest.permission.WRITE_EXTERNAL_STORAGE}, STORAGE_PERMISSION_CODE);\r\n                        }\r\n                    });\r\n                    builder.create().show();\r\n                }\r\n            });\r\n        }\r\n        public void permissionGranted(){ application.permissionGranted(); }\r\n    }\r\n\r\n**[core] NativePermissions.java**\r\n\r\n    package com.mygdx.filetest;\r\n    \r\n    public interface NativePermissions {\r\n        public void checkExternalStoragePermission();\r\n    }\r\n\r\n**[android] AndroidPermissions.java**\r\n\r\n    package com.mygdx.filetest;\r\n    \r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    \r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    public class AndroidPermissions implements NativePermissions {\r\n        private final AndroidLauncher context;\r\n        \r\n        public AndroidPermissions(final AndroidLauncher context){\r\n            this.context = context;\r\n        }\r\n        \r\n        @Override\r\n        public void checkExternalStoragePermission() {\r\n            if (ContextCompat.checkSelfPermission(context, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED){\r\n                context.permissionGranted();\r\n            } else {\r\n                context.promptExternalStoragePermission();\r\n            }\r\n        }\r\n    }\r\n**[android] AndroidManifest.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.mygdx.filetest&quot;&gt;\r\n        \r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n        \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:isGame=&quot;true&quot;\r\n            android:appCategory=&quot;game&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/GdxTheme&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;com.mygdx.filetest.AndroidLauncher&quot;\r\n                android:label=&quot;@string/app_name&quot; \r\n                android:screenOrientation=&quot;fullUser&quot;\r\n                android:configChanges=&quot;keyboard|keyboardHidden|navigation|orientation|screenSize|screenLayout&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n","title":"Saving Text Files - Scoped Storage Android 11","body":"<p>Is there a way to create and save text files outside of the Android/data folder in external storage? I am creating a music app and I added a preset manager so users can save, load, and edit preset files (which worked great before Android 11), I don’t want these files to be automatically removed if the app is uninstalled. That would be like if Photoshop deleted all of your Photoshop documents when Photoshop is uninstalled, that’s terrible! These are files that the user saves and they can be deleted separately if the user wants to.</p>\n<p>There has to be a way around this but I haven’t been able to find anything that works. <code>ACTION_OPEN_DOCUMENT_TREE</code> looked very promising, until I saw that Android has removed this option too.</p>\n<p><a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/11/privacy/storage</a></p>\n<blockquote>\n<p>You can no longer use the ACTION_OPEN_DOCUMENT_TREE intent action to\nrequest access to the following directories:</p>\n<ul>\n<li>The root directory of the internal storage volume.</li>\n<li>The root directory of each SD card volume that the device manufacturer considers to be reliable, regardless of whether the card\nis emulated or removable. A reliable volume is one that an app can\nsuccessfully access most of the time.</li>\n<li>The Download directory.</li>\n</ul>\n</blockquote>\n<p>I’ve read Google Play only allows <code>MANAGE_EXTERNAL_STORAGE</code> in apps that need it (like file browsers, or anti-virus, etc) which likely will not work in my case. I don’t want to rely on only targeting older API’s so <code>requestLegacyExternalStorage</code> won’t work either.</p>\n<p>Everything I’ve looked into appears to be a dead end. Is there anything else I can do?</p>\n<p>Here is a short test program (I’m using LibGDX), which at the moment can only save to the root location:</p>\n<pre><code>Android/data/com.mygdx.filetest/files/\n</code></pre>\n<p><strong>[core] FileTest.java</strong></p>\n<pre><code>package com.mygdx.filetest;\n\nimport com.badlogic.gdx.ApplicationListener;\nimport com.badlogic.gdx.Files;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.files.FileHandle;\nimport com.badlogic.gdx.utils.ScreenUtils;\n\npublic class FileTest implements ApplicationListener {\n    private NativePermissions permissions;\n    private Files.FileType fileType;\n    private String directory = &quot;TestDir/&quot;;\n    private String name = &quot;text.txt&quot;;\n       \n    public FileTest(final NativePermissions permissions){     \n        this.permissions = permissions;\n    }\n    \n    @Override\n    public void create(){\n        fileType = getFileType();\n        if (permissions != null){\n            permissions.checkExternalStoragePermission();\n        } else {\n            permissionGranted();\n        }\n    }\n    private Files.FileType getFileType(){\n        switch(Gdx.app.getType()) {\n            case Android:\n                return Files.FileType.External;\n            default:\n                return Files.FileType.Local;\n        }\n    }\n    \n    @Override public void render(){ ScreenUtils.clear(0.4f, 0.4f, 0.4f, 1); }\n    @Override public void resize(int width, int height) {}\n    @Override public void pause(){}\n    @Override public void resume(){}\n    @Override public void dispose (){}\n    \n    public void permissionGranted() {\n        FileHandle fileHandle = Gdx.files.getFileHandle(directory+name, fileType); \n        if (fileHandle!=null) fileHandle.writeString(&quot;test&quot;, false);\n    }\n}\n</code></pre>\n<p><strong>[android] AndroidLauncher.java</strong></p>\n<pre><code>package com.mygdx.filetest;\n\nimport android.Manifest;\nimport android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.widget.Toast;\n\nimport androidx.core.app.ActivityCompat;\n\nimport com.badlogic.gdx.backends.android.AndroidApplication;\nimport com.badlogic.gdx.backends.android.AndroidApplicationConfiguration;\n\npublic class AndroidLauncher extends AndroidApplication {\n    private final FileTest application;\n    private final int STORAGE_PERMISSION_CODE = 1;\n    private boolean dialogBoxShowing = false;\n    \n    public AndroidLauncher(){\n        final AndroidPermissions permissions = new AndroidPermissions(this);\n        application = new FileTest(permissions);\n    }\n    \n    @Override\n    protected void onCreate (Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        AndroidApplicationConfiguration config = new AndroidApplicationConfiguration();\n        initialize(application, config);\n    }\n    @Override\n    public void onRequestPermissionsResult(final int requestCode, final String permissions[], final int[] grantResults) {\n        dialogBoxShowing = false;\n        if (requestCode == STORAGE_PERMISSION_CODE) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, &quot;Permission GRANTED&quot;, Toast.LENGTH_SHORT).show();\n                permissionGranted();\n            } else {\n                Toast.makeText(this, &quot;Permission DENIED&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n    public void promptExternalStoragePermission() {\n        if (dialogBoxShowing) return;\n        dialogBoxShowing = true;\n        this.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                final AlertDialog.Builder builder = new AlertDialog.Builder(AndroidLauncher.this);\n                builder.setMessage(&quot;To save user presets and custom settings, allow access to your phone’s storage.&quot;);\n                builder.setCancelable(false);\n                // reverse these buttons to put &quot;NO&quot; on left and &quot;YES&quot; on right\n                builder.setPositiveButton(&quot;NOT NOW&quot;, new DialogInterface.OnClickListener(){\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialogBoxShowing = false;\n                        dialog.dismiss();\n                    }\n                });\n                builder.setNegativeButton(&quot;CONTINUE&quot;, new DialogInterface.OnClickListener(){\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        ActivityCompat.requestPermissions(AndroidLauncher.this, new String[] {Manifest.permission.WRITE_EXTERNAL_STORAGE}, STORAGE_PERMISSION_CODE);\n                    }\n                });\n                builder.create().show();\n            }\n        });\n    }\n    public void permissionGranted(){ application.permissionGranted(); }\n}\n</code></pre>\n<p><strong>[core] NativePermissions.java</strong></p>\n<pre><code>package com.mygdx.filetest;\n\npublic interface NativePermissions {\n    public void checkExternalStoragePermission();\n}\n</code></pre>\n<p><strong>[android] AndroidPermissions.java</strong></p>\n<pre><code>package com.mygdx.filetest;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\n\nimport androidx.core.content.ContextCompat;\n\npublic class AndroidPermissions implements NativePermissions {\n    private final AndroidLauncher context;\n    \n    public AndroidPermissions(final AndroidLauncher context){\n        this.context = context;\n    }\n    \n    @Override\n    public void checkExternalStoragePermission() {\n        if (ContextCompat.checkSelfPermission(context, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED){\n            context.permissionGranted();\n        } else {\n            context.promptExternalStoragePermission();\n        }\n    }\n}\n</code></pre>\n<p><strong>[android] AndroidManifest.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.mygdx.filetest&quot;&gt;\n    \n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    \n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@drawable/ic_launcher&quot;\n        android:isGame=&quot;true&quot;\n        android:appCategory=&quot;game&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:theme=&quot;@style/GdxTheme&quot; &gt;\n        &lt;activity\n            android:name=&quot;com.mygdx.filetest.AndroidLauncher&quot;\n            android:label=&quot;@string/app_name&quot; \n            android:screenOrientation=&quot;fullUser&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|navigation|orientation|screenSize|screenLayout&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","types","variable-types"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1640849872,"post_id":70528596,"comment_id":124673535,"body_markdown":"Because Java arithmetic operators promote their operands to `int` or `long`.  So what you are actually seeing is equivalent to (for example) `((int) Byte.MIN_VALUE) - 5` ... which does not overflow `int`.","body":"Because Java arithmetic operators promote their operands to <code>int</code> or <code>long</code>.  So what you are actually seeing is equivalent to (for example) <code>((int) Byte.MIN_VALUE) - 5</code> ... which does not overflow <code>int</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1641109139,"post_id":70528596,"comment_id":124720504,"body_markdown":"@user16320675 - I think that that is the opposite of what the OP means by &quot;exceeding the limit&quot;.  The result will be `-128` which in the OP&#39;s sense is still within the limit of `byte`.  Look carefully at the OP&#39;s examples to understand what the question is asking.","body":"@user16320675 - I think that that is the opposite of what the OP means by &quot;exceeding the limit&quot;.  The result will be <code>-128</code> which in the OP&#39;s sense is still within the limit of <code>byte</code>.  Look carefully at the OP&#39;s examples to understand what the question is asking."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1641109333,"post_id":70528596,"comment_id":124720525,"body_markdown":"@Mahub - How to overcome it?  Cast the result to a `byte` or `short`.  Or use `+=`, `-=` and so on.","body":"@Mahub - How to overcome it?  Cast the result to a <code>byte</code> or <code>short</code>.  Or use <code>+=</code>, <code>-=</code> and so on."}],"owner":{"account_id":15286841,"reputation":863,"user_id":11029624,"display_name":"Mahbub Ul Islam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1640850695,"answer_count":0,"score":0,"last_activity_date":1641106525,"creation_date":1640849189,"question_id":70528596,"body_markdown":"In Java Integer and Long data type does not exceed their limit.\r\n\r\n    System.out.println(&quot;Min Integer Value: &quot; + Integer.MIN_VALUE);\r\n    System.out.println(&quot;Max Integer Value: &quot; + Integer.MAX_VALUE);\r\n    System.out.println(&quot;Busted Min Integer Value: &quot; + (Integer.MIN_VALUE - 1));\r\n    System.out.println(&quot;Busted Max Integer Value: &quot; + (Integer.MAX_VALUE + 1));\r\n\r\n    System.out.println(&quot;Min Long Value: &quot; + Long.MIN_VALUE);\r\n    System.out.println(&quot;Max Long Value: &quot; + Long.MAX_VALUE);\r\n    System.out.println(&quot;Busted Min Long Value: &quot; + (Long.MIN_VALUE - 1));\r\n    System.out.println(&quot;Busted Max Long Value: &quot; + (Long.MAX_VALUE + 1));\r\n\r\nOutput:\r\n\r\n    Min Integer Value: -2147483648\r\n    Max Integer Value: 2147483647\r\n    Busted Min Integer Value: 2147483647\r\n    Busted Max Integer Value: -2147483648\r\n    \r\n    Min Long Value: -9223372036854775808\r\n    Max Long Value: 9223372036854775807\r\n    Busted Min Long Value: 9223372036854775807\r\n    Busted Max Long Value: -9223372036854775808\r\n\r\nBut Short and Byte go over their limit.\r\n\r\n    System.out.println(&quot;Min Short Value: &quot; + Short.MIN_VALUE);\r\n    System.out.println(&quot;Max Short Value: &quot; + Short.MAX_VALUE);\r\n    System.out.println(&quot;Overflow Min Short Value: &quot; + (Short.MIN_VALUE - 5));\r\n    System.out.println(&quot;Overflow Max Short Value: &quot; + (Short.MAX_VALUE + 10));\r\n    \r\n    System.out.println(&quot;Min Byte Value: &quot; + Byte.MIN_VALUE);\r\n    System.out.println(&quot;Max Byte Value: &quot; + Byte.MAX_VALUE);\r\n    System.out.println(&quot;Overflow Min Byte Value: &quot; + (Byte.MIN_VALUE - 5));\r\n    System.out.println(&quot;Overflow Max Byte Value: &quot; + (Byte.MAX_VALUE + 10));\r\n\r\nOutput:\r\n\r\n    Min Short Value: -32768\r\n    Max Short Value: 32767\r\n    Overflow Min Short Value: -32773\r\n    Overflow Max Short Value: 32777\r\n    \r\n    Min Byte Value: -128\r\n    Max Byte Value: 127\r\n    Overflow Min Byte Value: -133\r\n    Overflow Max Byte Value: 137\r\n\r\n**Why short and byte behave like that?**\r\n\r\n**How to overcome this problem?**","title":"Why Byte and Short type exceed their limit in java? How to overcome this?","body":"<p>In Java Integer and Long data type does not exceed their limit.</p>\n<pre><code>System.out.println(&quot;Min Integer Value: &quot; + Integer.MIN_VALUE);\nSystem.out.println(&quot;Max Integer Value: &quot; + Integer.MAX_VALUE);\nSystem.out.println(&quot;Busted Min Integer Value: &quot; + (Integer.MIN_VALUE - 1));\nSystem.out.println(&quot;Busted Max Integer Value: &quot; + (Integer.MAX_VALUE + 1));\n\nSystem.out.println(&quot;Min Long Value: &quot; + Long.MIN_VALUE);\nSystem.out.println(&quot;Max Long Value: &quot; + Long.MAX_VALUE);\nSystem.out.println(&quot;Busted Min Long Value: &quot; + (Long.MIN_VALUE - 1));\nSystem.out.println(&quot;Busted Max Long Value: &quot; + (Long.MAX_VALUE + 1));\n</code></pre>\n<p>Output:</p>\n<pre><code>Min Integer Value: -2147483648\nMax Integer Value: 2147483647\nBusted Min Integer Value: 2147483647\nBusted Max Integer Value: -2147483648\n\nMin Long Value: -9223372036854775808\nMax Long Value: 9223372036854775807\nBusted Min Long Value: 9223372036854775807\nBusted Max Long Value: -9223372036854775808\n</code></pre>\n<p>But Short and Byte go over their limit.</p>\n<pre><code>System.out.println(&quot;Min Short Value: &quot; + Short.MIN_VALUE);\nSystem.out.println(&quot;Max Short Value: &quot; + Short.MAX_VALUE);\nSystem.out.println(&quot;Overflow Min Short Value: &quot; + (Short.MIN_VALUE - 5));\nSystem.out.println(&quot;Overflow Max Short Value: &quot; + (Short.MAX_VALUE + 10));\n\nSystem.out.println(&quot;Min Byte Value: &quot; + Byte.MIN_VALUE);\nSystem.out.println(&quot;Max Byte Value: &quot; + Byte.MAX_VALUE);\nSystem.out.println(&quot;Overflow Min Byte Value: &quot; + (Byte.MIN_VALUE - 5));\nSystem.out.println(&quot;Overflow Max Byte Value: &quot; + (Byte.MAX_VALUE + 10));\n</code></pre>\n<p>Output:</p>\n<pre><code>Min Short Value: -32768\nMax Short Value: 32767\nOverflow Min Short Value: -32773\nOverflow Max Short Value: 32777\n\nMin Byte Value: -128\nMax Byte Value: 127\nOverflow Min Byte Value: -133\nOverflow Max Byte Value: 137\n</code></pre>\n<p><strong>Why short and byte behave like that?</strong></p>\n<p><strong>How to overcome this problem?</strong></p>\n"},{"tags":["java","android","service","timer","timertask"],"answers":[{"tags":[],"owner":{"account_id":315449,"reputation":4648,"user_id":631147,"display_name":"Mike dg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1303738346,"creation_date":1303738346,"answer_id":5778816,"question_id":5778409,"body_markdown":"Sounds like you need a [Partial Wake Lock][1]\r\nThis will stop the CPU from going into a sleep state when the screen is off. Be warned though, misuse can cause battery issues and you need a permission to use wake locks.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/PowerManager.html","title":"Android Timer ticks late when phone screen locked","body":"<p>Sounds like you need a <a href=\"http://developer.android.com/reference/android/os/PowerManager.html\" rel=\"noreferrer\">Partial Wake Lock</a>\nThis will stop the CPU from going into a sleep state when the screen is off. Be warned though, misuse can cause battery issues and you need a permission to use wake locks.</p>\n"}],"owner":{"account_id":195892,"reputation":1550,"user_id":439051,"accept_rate":100,"display_name":"Yasin YILDIRIM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4365,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":5778816,"answer_count":1,"score":9,"last_activity_date":1641105085,"creation_date":1303735270,"question_id":5778409,"body_markdown":"I have a service that runs a TimerTask in a method, which must count every second and do something after some time. My service works properly and when i start the method in service, timer starts to tick every second (1000 milliseconds). The problem is, when device&#39;s screen turns off, my timer stops sometimes and doesn&#39;t count properly. I can see in the log file that timer stops for 15 seconds, then runs 5 seconds, then stops again... When the device is connected to computer, timer always works normally, this problem occurs when i disconnect the device from computer.\r\n\r\nHere&#39;s my service:\r\n\r\n    public class MyService extends Service {\r\n    \tprivate String TAG = getClass().getName();\r\n\r\n    \tpublic void count() {\r\n    \t\t\r\n    \t\tLog.i(TAG, &quot;Service Count Method Start&quot;);\r\n    \t\t\r\n    \t\tint counter;\r\n    \t\tTimer mTimer = new Timer();\r\n    \t\t\r\n    \t\tmTimer.schedule(new TimerTask() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\tLog.i(TAG, &quot;Timer count value : &quot; + counter);\r\n    \t\t\t\t\r\n    \t\t\t\tif (!someCondition) {\r\n    \t\t\t\t\tcounter++;\r\n    \t\t\t\t\tif (DefaultApplication.notOnDisplayTime &gt;= 180) {\r\n    \t\t\t\t\t\tLog.d(TAG, &quot;APPLICATION REACHED TIME LIMIT!&quot;);\r\n    \t\t\t\t\t\tsomeCondition = true;\r\n\r\n    \t\t\t\t\t} else\r\n    \t\t\t\t    \t    \tsomeCondition = false;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tcounter = 0;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}, 0, 1000);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic IBinder onBind(Intent intent) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn mBinder;\r\n    \t}\r\n    \t\r\n    \tpublic class MyServiceBinder extends Binder {\r\n    \t\tpublic MyService getService() {\r\n    \t\t\treturn MyService.this;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate final IBinder mBinder = new MyServiceBinder();\r\n    \t@Override\r\n    \tpublic boolean onUnbind(Intent intent) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tLog.i(TAG, &quot;MyService Unbound&quot;);\r\n    \t\treturn super.onUnbind(intent);\r\n    \t}\r\n    }\r\n\r\n\r\nAnd here&#39;s the logcat output:\r\n\r\n        04-25 14:35:22.951 I/com.mypackagename.MyService( 6745): Timer count value : 73\r\n        04-25 14:35:23.949 I/com.mypackagename.MyService( 6745): Timer count value : 74\r\n        04-25 14:35:24.019 D/dalvikvm( 6832): GC_FOR_MALLOC freed 6656 objects / 495856 bytes in 61ms\r\n        04-25 14:35:24.951 I/com.mypackagename.MyService( 6745): Timer count value : 75\r\n        04-25 14:35:25.951 I/com.mypackagename.MyService( 6745): Timer count value : 76\r\n\r\n*#### Screen is getting locked here ####*\r\n\r\n        04-25 14:35:26.929 I/power ( 96): *** set_screen_state 0]\r\n        04-25 14:35:26.959 V/KeyguardViewMediator( 96): password timeout now\r\n        04-25 14:35:26.959 D/KeyguardViewManager( 96): show()\r\n        04-25 14:35:26.999 D/Sensors ( 96): close_akm, fd=138\r\n        04-25 14:35:26.999 I/com.mypackagename.MyService( 6745): Timer count value : 77\r\n        04-25 14:35:27.039 D/HtcLockScreen( 96): onScreenRestart\r\n        04-25 14:35:27.039 I/HtcLockScreen( 96): updateStatusViewByPriority, mIsSimCheckView = false, mIsBatteryInfo = false, mIsMusicPlaying = false, mIsAirPlaneMode = false\r\n        04-25 14:35:27.049 I/HtcLockScreen( 96): HtcLockScreen:onResume \r\n        04-25 14:35:27.069 D/SurfaceFlinger( 96): Layer::setBuffers(this=0x785580), pid=96, w=480, h=762\r\n        04-25 14:35:27.079 D/SurfaceFlinger( 96): Layer::setBuffers(this=0x785580), pid=96, w=480, h=762\r\n        04-25 14:35:27.109 D/SurfaceFlinger( 96): Layer::requestBuffer(this=0x785580), index=0, pid=96, w=480, h=762 success\r\n        04-25 14:35:27.339 D/alogcat ( 6832): stopping ...\r\n        04-25 14:35:27.339 D/alogcat ( 6832): paused\r\n        04-25 14:35:27.609 D/SurfaceFlinger( 96): About to give-up screen, flinger = 0xb4e28\r\n        04-25 14:35:27.669 D/AK8973 ( 72): Compass CLOSE\r\n\r\n*#### Screen Locked ####*\r\n\r\n        04-25 14:35:27.949 I/com.mypackagename.MyService( 6745): Timer count value : 78\r\n        04-25 14:35:28.949 I/com.mypackagename.MyService( 6745): Timer count value : 79\r\n        04-25 14:35:44.602 I/com.mypackagename.MyService( 6745): Timer count value : 80\r\n        04-25 14:35:45.603 I/com.mypackagename.MyService( 6745): Timer count value : 81\r\n        04-25 14:35:45.784 I/wpa_supplicant( 256): CTRL-EVENT-SCAN-RESULTS Ready\r\n        04-25 14:35:45.799 D/LocationMasfClient( 96): getNetworkLocation(): Returning cache location with accuracy 75.0\r\n        04-25 14:35:46.603 I/com.mypackagename.MyService( 6745): Timer count value : 82\r\n        04-25 14:35:47.603 I/com.mypackagename.MyService( 6745): Timer count value : 83\r\n        04-25 14:35:48.604 I/com.mypackagename.MyService( 6745): Timer count value : 84\r\n        04-25 14:35:49.604 I/com.mypackagename.MyService( 6745): Timer count value : 85\r\n        04-25 14:36:10.558 D/SurfaceFlinger( 96): Layer::requestBuffer(this=0x785580), index=1, pid=96, w=480, h=762 success\r\n        04-25 14:36:11.033 I/com.mypackagename.MyService( 6745): Timer count value : 86\r\n        04-25 14:36:13.269 I/com.mypackagename.MyService( 6745): Timer count value : 87\r\n        04-25 14:36:13.289 D/com.mypackagename.utils.XUtil( 6745): return 0 char $\r\n        04-25 14:36:14.039 D/com.mypackagename.utils.XUtil( 6745): return 0 char $\r\n        04-25 14:36:14.269 I/com.mypackagename.MyService( 6745): Timer count value : 88\r\n        04-25 14:36:17.009 I/com.mypackagename.MyService( 6745): Timer count value : 89\r\n        04-25 14:36:29.512 I/com.mypackagename.MyService( 6745): Timer count value : 90\r\n\r\nYou can see that after the screen locked, timer doesn&#39;t seem to tick every second. It stops for 15 - 20 seconds periods then works normally for 5 seconds...\r\n\r\nAny opinion about how to prevent timer to stop when device screen locked?","title":"Android Timer ticks late when phone screen locked","body":"<p>I have a service that runs a TimerTask in a method, which must count every second and do something after some time. My service works properly and when i start the method in service, timer starts to tick every second (1000 milliseconds). The problem is, when device's screen turns off, my timer stops sometimes and doesn't count properly. I can see in the log file that timer stops for 15 seconds, then runs 5 seconds, then stops again... When the device is connected to computer, timer always works normally, this problem occurs when i disconnect the device from computer.</p>\n\n<p>Here's my service:</p>\n\n<pre><code>public class MyService extends Service {\n    private String TAG = getClass().getName();\n\n    public void count() {\n\n        Log.i(TAG, \"Service Count Method Start\");\n\n        int counter;\n        Timer mTimer = new Timer();\n\n        mTimer.schedule(new TimerTask() {\n\n            @Override\n            public void run() {\n\n\n                Log.i(TAG, \"Timer count value : \" + counter);\n\n                if (!someCondition) {\n                    counter++;\n                    if (DefaultApplication.notOnDisplayTime &gt;= 180) {\n                        Log.d(TAG, \"APPLICATION REACHED TIME LIMIT!\");\n                        someCondition = true;\n\n                    } else\n                                someCondition = false;\n                } else {\n                    counter = 0;\n                }\n            }\n        }, 0, 1000);\n\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        // TODO Auto-generated method stub\n        return mBinder;\n    }\n\n    public class MyServiceBinder extends Binder {\n        public MyService getService() {\n            return MyService.this;\n        }\n    }\n\n    private final IBinder mBinder = new MyServiceBinder();\n    @Override\n    public boolean onUnbind(Intent intent) {\n        // TODO Auto-generated method stub\n        Log.i(TAG, \"MyService Unbound\");\n        return super.onUnbind(intent);\n    }\n}\n</code></pre>\n\n<p>And here's the logcat output:</p>\n\n<pre><code>    04-25 14:35:22.951 I/com.mypackagename.MyService( 6745): Timer count value : 73\n    04-25 14:35:23.949 I/com.mypackagename.MyService( 6745): Timer count value : 74\n    04-25 14:35:24.019 D/dalvikvm( 6832): GC_FOR_MALLOC freed 6656 objects / 495856 bytes in 61ms\n    04-25 14:35:24.951 I/com.mypackagename.MyService( 6745): Timer count value : 75\n    04-25 14:35:25.951 I/com.mypackagename.MyService( 6745): Timer count value : 76\n</code></pre>\n\n<p><em>#### Screen is getting locked here ####</em></p>\n\n<pre><code>    04-25 14:35:26.929 I/power ( 96): *** set_screen_state 0]\n    04-25 14:35:26.959 V/KeyguardViewMediator( 96): password timeout now\n    04-25 14:35:26.959 D/KeyguardViewManager( 96): show()\n    04-25 14:35:26.999 D/Sensors ( 96): close_akm, fd=138\n    04-25 14:35:26.999 I/com.mypackagename.MyService( 6745): Timer count value : 77\n    04-25 14:35:27.039 D/HtcLockScreen( 96): onScreenRestart\n    04-25 14:35:27.039 I/HtcLockScreen( 96): updateStatusViewByPriority, mIsSimCheckView = false, mIsBatteryInfo = false, mIsMusicPlaying = false, mIsAirPlaneMode = false\n    04-25 14:35:27.049 I/HtcLockScreen( 96): HtcLockScreen:onResume \n    04-25 14:35:27.069 D/SurfaceFlinger( 96): Layer::setBuffers(this=0x785580), pid=96, w=480, h=762\n    04-25 14:35:27.079 D/SurfaceFlinger( 96): Layer::setBuffers(this=0x785580), pid=96, w=480, h=762\n    04-25 14:35:27.109 D/SurfaceFlinger( 96): Layer::requestBuffer(this=0x785580), index=0, pid=96, w=480, h=762 success\n    04-25 14:35:27.339 D/alogcat ( 6832): stopping ...\n    04-25 14:35:27.339 D/alogcat ( 6832): paused\n    04-25 14:35:27.609 D/SurfaceFlinger( 96): About to give-up screen, flinger = 0xb4e28\n    04-25 14:35:27.669 D/AK8973 ( 72): Compass CLOSE\n</code></pre>\n\n<p><em>#### Screen Locked ####</em></p>\n\n<pre><code>    04-25 14:35:27.949 I/com.mypackagename.MyService( 6745): Timer count value : 78\n    04-25 14:35:28.949 I/com.mypackagename.MyService( 6745): Timer count value : 79\n    04-25 14:35:44.602 I/com.mypackagename.MyService( 6745): Timer count value : 80\n    04-25 14:35:45.603 I/com.mypackagename.MyService( 6745): Timer count value : 81\n    04-25 14:35:45.784 I/wpa_supplicant( 256): CTRL-EVENT-SCAN-RESULTS Ready\n    04-25 14:35:45.799 D/LocationMasfClient( 96): getNetworkLocation(): Returning cache location with accuracy 75.0\n    04-25 14:35:46.603 I/com.mypackagename.MyService( 6745): Timer count value : 82\n    04-25 14:35:47.603 I/com.mypackagename.MyService( 6745): Timer count value : 83\n    04-25 14:35:48.604 I/com.mypackagename.MyService( 6745): Timer count value : 84\n    04-25 14:35:49.604 I/com.mypackagename.MyService( 6745): Timer count value : 85\n    04-25 14:36:10.558 D/SurfaceFlinger( 96): Layer::requestBuffer(this=0x785580), index=1, pid=96, w=480, h=762 success\n    04-25 14:36:11.033 I/com.mypackagename.MyService( 6745): Timer count value : 86\n    04-25 14:36:13.269 I/com.mypackagename.MyService( 6745): Timer count value : 87\n    04-25 14:36:13.289 D/com.mypackagename.utils.XUtil( 6745): return 0 char $\n    04-25 14:36:14.039 D/com.mypackagename.utils.XUtil( 6745): return 0 char $\n    04-25 14:36:14.269 I/com.mypackagename.MyService( 6745): Timer count value : 88\n    04-25 14:36:17.009 I/com.mypackagename.MyService( 6745): Timer count value : 89\n    04-25 14:36:29.512 I/com.mypackagename.MyService( 6745): Timer count value : 90\n</code></pre>\n\n<p>You can see that after the screen locked, timer doesn't seem to tick every second. It stops for 15 - 20 seconds periods then works normally for 5 seconds...</p>\n\n<p>Any opinion about how to prevent timer to stop when device screen locked?</p>\n"},{"tags":["java","jsp-tags"],"comments":[{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1306390611,"post_id":6134139,"comment_id":7120077,"body_markdown":"My first question would be, are you using Eclipse for Java EE Developers?","body":"My first question would be, are you using Eclipse for Java EE Developers?"},{"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"score":0,"creation_date":1306395159,"post_id":6134139,"comment_id":7121108,"body_markdown":"Yes, I downloaded the package for Java EE.","body":"Yes, I downloaded the package for Java EE."}],"answers":[{"tags":[],"owner":{"account_id":80269,"reputation":880,"user_id":227081,"accept_rate":88,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1306390411,"creation_date":1306390411,"answer_id":6134428,"question_id":6134139,"body_markdown":"If Eclipse doesn&#39;t automatically pick up the XSD from the library, you can always add it manually:\r\nWindow &gt; Preferences &gt; XML &gt; XML Catalog\r\n\r\nIn my case it was already present in the plugin section. It probably came with one of the Eclipse Java EE plugins.","title":"JSP custom tags: missing DTD/XML Schema","body":"<p>If Eclipse doesn't automatically pick up the XSD from the library, you can always add it manually:\nWindow > Preferences > XML > XML Catalog</p>\n\n<p>In my case it was already present in the plugin section. It probably came with one of the Eclipse Java EE plugins.</p>\n"},{"tags":[],"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1312703256,"creation_date":1312699731,"answer_id":6971237,"question_id":6134139,"body_markdown":"I didn&#39;t bother looking at this problem for over a month, because anyway everything was working in Tomcat. Recently I tried GlassFish and JBoss. While GlassFish 3.1.1 didn&#39;t complain, JBoss 7.0 refused to run the application, because of tld problems. In the meantime I&#39;ve also updated Eclipse Helios to Indigo.\r\n\r\nI figured out that I was using DTD and Schema at the same time, which can&#39;t be good. I ditched the DTD and kept only the Schema. I had to rename a few tags, such as tlibversion to tlib-version, shortname to short-name, bodycontent to body-content, tagclass to tag-class, remove the info tag, which I substituted with XML comments. I guess it&#39;s probably a newer version of the specs, because in the example I followed they were named without hyphens.\r\n\r\nAfter that everything worked: Eclipse didn&#39;t give any warning any more, JBoss ran the application perfectly. For reference here is the working tld:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;taglib\r\n\t\t\txsi:schemaLocation=&quot;\r\n\t\t\t\thttp://java.sun.com/xml/ns/javaee \r\n\t\t\t\thttp://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd&quot;\r\n\t\t\txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; \r\n\t\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\tversion=&quot;2.1&quot;&gt;\r\n\t\t&lt;tlib-version&gt;1.0&lt;/tlib-version&gt; \r\n\t\t&lt;short-name&gt;StivloTags&lt;/short-name&gt;\r\n\t\t&lt;uri&gt;http://www.stefanolocati.it/&lt;/uri&gt;\r\n\r\n\t\t&lt;!-- Example from http://www.stardeveloper.com/articles/display.html?article=2001081301&amp;amp;page=1 --&gt;\r\n\t\t&lt;tag&gt; \r\n\t\t\t&lt;name&gt;firstTag&lt;/name&gt; \r\n\t\t\t&lt;tag-class&gt;obliquid.tag.FirstTag&lt;/tag-class&gt;\r\n\t\t\t&lt;body-content&gt;empty&lt;/body-content&gt; \r\n\t\t\t&lt;attribute&gt;\r\n\t\t\t\t&lt;name&gt;name&lt;/name&gt;\r\n\t\t\t\t&lt;required&gt;false&lt;/required&gt;\r\n\t\t\t&lt;/attribute&gt;\r\n\t\t&lt;/tag&gt; \r\n\t\t\r\n\t\t&lt;!-- Truncate text after maxLength or 80 chars, adding &quot;&amp;amp;hellip;&quot; if the the text was longer --&gt;\r\n\t\t&lt;tag&gt;\r\n\t\t\t&lt;name&gt;ellipsis&lt;/name&gt;\r\n\t\t\t&lt;tag-class&gt;obliquid.tag.Ellipsis&lt;/tag-class&gt;\r\n\t\t\t&lt;body-content&gt;scriptless&lt;/body-content&gt;\r\n\t\t\t&lt;attribute&gt;\r\n\t\t\t\t &lt;name&gt;maxLength&lt;/name&gt;\r\n\t\t\t\t &lt;required&gt;false&lt;/required&gt;\r\n\t\t\t&lt;/attribute&gt;\r\n\t\t&lt;/tag&gt;\r\n\t\t\r\n\t&lt;/taglib&gt;\r\n\r\n","title":"JSP custom tags: missing DTD/XML Schema","body":"<p>I didn't bother looking at this problem for over a month, because anyway everything was working in Tomcat. Recently I tried GlassFish and JBoss. While GlassFish 3.1.1 didn't complain, JBoss 7.0 refused to run the application, because of tld problems. In the meantime I've also updated Eclipse Helios to Indigo.</p>\n\n<p>I figured out that I was using DTD and Schema at the same time, which can't be good. I ditched the DTD and kept only the Schema. I had to rename a few tags, such as tlibversion to tlib-version, shortname to short-name, bodycontent to body-content, tagclass to tag-class, remove the info tag, which I substituted with XML comments. I guess it's probably a newer version of the specs, because in the example I followed they were named without hyphens.</p>\n\n<p>After that everything worked: Eclipse didn't give any warning any more, JBoss ran the application perfectly. For reference here is the working tld:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;taglib\n        xsi:schemaLocation=\"\n            http://java.sun.com/xml/ns/javaee \n            http://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd\"\n        xmlns=\"http://java.sun.com/xml/ns/javaee\" \n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        version=\"2.1\"&gt;\n    &lt;tlib-version&gt;1.0&lt;/tlib-version&gt; \n    &lt;short-name&gt;StivloTags&lt;/short-name&gt;\n    &lt;uri&gt;http://www.stefanolocati.it/&lt;/uri&gt;\n\n    &lt;!-- Example from http://www.stardeveloper.com/articles/display.html?article=2001081301&amp;amp;page=1 --&gt;\n    &lt;tag&gt; \n        &lt;name&gt;firstTag&lt;/name&gt; \n        &lt;tag-class&gt;obliquid.tag.FirstTag&lt;/tag-class&gt;\n        &lt;body-content&gt;empty&lt;/body-content&gt; \n        &lt;attribute&gt;\n            &lt;name&gt;name&lt;/name&gt;\n            &lt;required&gt;false&lt;/required&gt;\n        &lt;/attribute&gt;\n    &lt;/tag&gt; \n\n    &lt;!-- Truncate text after maxLength or 80 chars, adding \"&amp;amp;hellip;\" if the the text was longer --&gt;\n    &lt;tag&gt;\n        &lt;name&gt;ellipsis&lt;/name&gt;\n        &lt;tag-class&gt;obliquid.tag.Ellipsis&lt;/tag-class&gt;\n        &lt;body-content&gt;scriptless&lt;/body-content&gt;\n        &lt;attribute&gt;\n             &lt;name&gt;maxLength&lt;/name&gt;\n             &lt;required&gt;false&lt;/required&gt;\n        &lt;/attribute&gt;\n    &lt;/tag&gt;\n\n&lt;/taglib&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21444556,"reputation":11,"user_id":15798369,"display_name":"VIVEK SINGH LATWAL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641104938,"creation_date":1641104938,"answer_id":70554037,"question_id":6134139,"body_markdown":"its &lt;br&gt; [java.sun.com/dtd/web-jsptaglibrary_1_2.dtd][1]\r\nnot &lt;br&gt;\r\nhttp://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_2.dtd\r\n\r\ngo to the second link you will see. &lt;br&gt;\r\nfaced the same problem . the file itself said that the location is changed.\r\n\r\n\r\n  [1]: http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd","title":"JSP custom tags: missing DTD/XML Schema","body":"<p>its <br> <a href=\"http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd\" rel=\"nofollow noreferrer\">java.sun.com/dtd/web-jsptaglibrary_1_2.dtd</a>\nnot <br>\n<a href=\"http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_2.dtd\" rel=\"nofollow noreferrer\">http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_2.dtd</a></p>\n<p>go to the second link you will see. <br>\nfaced the same problem . the file itself said that the location is changed.</p>\n"}],"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15911,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":6134428,"answer_count":3,"score":7,"last_activity_date":1641104938,"creation_date":1306388279,"question_id":6134139,"body_markdown":"I&#39;ve written my JSP custom tag with the following TLD:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;taglib\r\n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee web-jsptaglibrary_2_1.xsd&quot;\r\n      xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      version=&quot;2.1&quot;&gt;\r\n      &lt;tlibversion&gt;1.0&lt;/tlibversion&gt; \r\n      &lt;jspversion&gt;2.1&lt;/jspversion&gt;\r\n      ...\r\n\r\nNow Eclipse Helios complains that &quot;No grammar constraints (DTD or XML schema) detected for the document.&quot;\r\n\r\nI know how to disable the warning, I was instead wondering how to solve the problem by providing DTD or schema information.\r\n\r\nBy the way in the above piece of XML I have:\r\n\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee web-jsptaglibrary_2_1.xsd&quot;\r\n\r\nbut it doesn&#39;t seem to help.\r\n\r\n**UPDATE** on Peter&#39;s suggestion I went to check in my Window &gt; Preferences &gt; XML &gt; XML Catalog and I found the following that may fit:\r\n\r\n    Entry element:  Public\r\n    Location:   dtdsAndSchemas/web-jsptaglibrary_1_2.dtd in jar file \r\n    usr/local/eclipse/plugins/org.eclipse.jst.standard.schemas_1.1.0.v201003031644.jar\r\n    URI:       jar:file:/usr/local/eclipse/plugins/org\r\n      .eclipse.jst.standard.schemas_1.1.0.v201003031644.jar!/dtdsAndSchemas\r\n      /web-jsptaglibrary_1_2.dtd\r\n    Key type:   Public ID\r\n    Key:    -//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN\r\n\r\nSo I tried to add the following to my tld:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE taglib PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot; \r\n    &quot;http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_2.dtd&quot;&gt;\r\n\r\nNow I&#39;ve the following errors:\r\n\r\nMultiple annotations found at this line:\r\n\r\n* Attribute &quot;xsi:schemaLocation&quot; must be declared for element type &quot;taglib&quot;.\r\n* Attribute &quot;version&quot; must be declared for element type &quot;taglib&quot;.\r\n* Attribute &quot;xmlns&quot; with value &quot;http://java.sun.com/xml/ns/javaee&quot; must have a value of &quot;http://java.sun.com/JSP/ TagLibraryDescriptor&quot;.\r\n\r\n* schema_reference.4: Failed to read schema document &#39;web-jsptaglibrary_2_1.xsd&#39;, because\r\n\r\n    1) could not find the document; \r\n    2) the document could not be read; \r\n    3) the root element of the document is not &lt;xsd:schema&gt;.\r\n\r\n* The content of element type &quot;taglib&quot; must match &quot;(tlib-version,jsp-version,short-name,uri?,display-name?,small-icon?,large-icon?,description?,validator?,listener*,tag+)&quot;.\r\n* Attribute &quot;xmlns:xsi&quot; must be declared for element type &quot;taglib&quot;.\r\n","title":"JSP custom tags: missing DTD/XML Schema","body":"<p>I've written my JSP custom tag with the following TLD:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;taglib\n  xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee web-jsptaglibrary_2_1.xsd\"\n  xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  version=\"2.1\"&gt;\n  &lt;tlibversion&gt;1.0&lt;/tlibversion&gt; \n  &lt;jspversion&gt;2.1&lt;/jspversion&gt;\n  ...\n</code></pre>\n\n<p>Now Eclipse Helios complains that \"No grammar constraints (DTD or XML schema) detected for the document.\"</p>\n\n<p>I know how to disable the warning, I was instead wondering how to solve the problem by providing DTD or schema information.</p>\n\n<p>By the way in the above piece of XML I have:</p>\n\n<pre><code>xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee web-jsptaglibrary_2_1.xsd\"\n</code></pre>\n\n<p>but it doesn't seem to help.</p>\n\n<p><strong>UPDATE</strong> on Peter's suggestion I went to check in my Window > Preferences > XML > XML Catalog and I found the following that may fit:</p>\n\n<pre><code>Entry element:  Public\nLocation:   dtdsAndSchemas/web-jsptaglibrary_1_2.dtd in jar file \nusr/local/eclipse/plugins/org.eclipse.jst.standard.schemas_1.1.0.v201003031644.jar\nURI:       jar:file:/usr/local/eclipse/plugins/org\n  .eclipse.jst.standard.schemas_1.1.0.v201003031644.jar!/dtdsAndSchemas\n  /web-jsptaglibrary_1_2.dtd\nKey type:   Public ID\nKey:    -//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN\n</code></pre>\n\n<p>So I tried to add the following to my tld:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE taglib PUBLIC \"-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN\" \n\"http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_2.dtd\"&gt;\n</code></pre>\n\n<p>Now I've the following errors:</p>\n\n<p>Multiple annotations found at this line:</p>\n\n<ul>\n<li>Attribute \"xsi:schemaLocation\" must be declared for element type \"taglib\".</li>\n<li>Attribute \"version\" must be declared for element type \"taglib\".</li>\n<li><p>Attribute \"xmlns\" with value \"http://java.sun.com/xml/ns/javaee\" must have a value of \"http://java.sun.com/JSP/ TagLibraryDescriptor\".</p></li>\n<li><p>schema_reference.4: Failed to read schema document 'web-jsptaglibrary_2_1.xsd', because</p>\n\n<p>1) could not find the document; \n2) the document could not be read; \n3) the root element of the document is not .</p></li>\n<li><p>The content of element type \"taglib\" must match \"(tlib-version,jsp-version,short-name,uri?,display-name?,small-icon?,large-icon?,description?,validator?,listener*,tag+)\".</p></li>\n<li>Attribute \"xmlns:xsi\" must be declared for element type \"taglib\".</li>\n</ul>\n"},{"tags":["java","algorithm","dynamic-programming"],"comments":[{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1641113325,"post_id":70554031,"comment_id":124721073,"body_markdown":"This is not dynamic programming. There is no memoization. Calculating the time complexity is quite complex here. It involves Catalan numbers. Look into that.","body":"This is not dynamic programming. There is no memoization. Calculating the time complexity is quite complex here. It involves Catalan numbers. Look into that."},{"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"score":0,"creation_date":1641114669,"post_id":70554031,"comment_id":124721288,"body_markdown":"No memoization, but it uses tabulation, right @trincot? It builds the solution in a bottom-up manner. Previous step result is stored &amp; used to calculate the current step result.","body":"No memoization, but it uses tabulation, right @trincot? It builds the solution in a bottom-up manner. Previous step result is stored &amp; used to calculate the current step result."},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1641119258,"post_id":70554031,"comment_id":124721994,"body_markdown":"Yes, it uses tabulation, although still in a top-down manner, as *n* set objects are created before getting to the base case.","body":"Yes, it uses tabulation, although still in a top-down manner, as <i>n</i> set objects are created before getting to the base case."},{"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"score":0,"creation_date":1641136310,"post_id":70554031,"comment_id":124725366,"body_markdown":"I still think it is bottom-up manner. Line &quot;for (String s : generateParenthesis(n - 1)) {&quot;  will first satisfy the base case. Then it will incrementally build the result case using tabulation.","body":"I still think it is bottom-up manner. Line &quot;for (String s : generateParenthesis(n - 1)) {&quot;  will first satisfy the base case. Then it will incrementally build the result case using tabulation."},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1641136585,"post_id":70554031,"comment_id":124725434,"body_markdown":"Think of how it would be with top-down. Surely you also then need the base cases before you can increment the result. That is not what distinguishes bottom up from top down.","body":"Think of how it would be with top-down. Surely you also then need the base cases before you can increment the result. That is not what distinguishes bottom up from top down."}],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641104834,"creation_date":1641104834,"question_id":70554031,"body_markdown":"```\r\npublic List&lt;String&gt; generateParenthesis(int n) {\r\n    if (n &lt; 1) {\r\n        return Arrays.asList(&quot;&quot;);\r\n    } else if (n == 1) {\r\n        return Arrays.asList(&quot;()&quot;);\r\n    } else {\r\n        Set&lt;String&gt; set = new HashSet&lt;&gt;(n * 2);\r\n        for (String s : generateParenthesis(n - 1)) {\r\n            char[] ca = s.toCharArray();\r\n            int len = s.length();\r\n            for (int i = 0; i &lt; len; i++) {\r\n                set.add(String.copyValueOf(ca, 0, i) + &quot;()&quot;\r\n                        + String.copyValueOf(ca, i, len - i));\r\n            }\r\n        }\r\n        return new ArrayList&lt;String&gt;(set);\r\n    }\r\n}\r\n```\r\nI found the above code online from an old post https://rekinyz.wordpress.com/2015/02/13/generate-parentheses/. It is a bottom-up dynamic programming approach for generating all valid parentheses which would work. But I am not sure how to explain the worst time complexity of this solution. Can  someone plz tell what is the time complexity of this code &amp; why it is so? Original article doesn&#39;t  have anything about the time complexity.","title":"What is the time complexity of below DP code for generating all balanced parentheses?","body":"<pre><code>public List&lt;String&gt; generateParenthesis(int n) {\n    if (n &lt; 1) {\n        return Arrays.asList(&quot;&quot;);\n    } else if (n == 1) {\n        return Arrays.asList(&quot;()&quot;);\n    } else {\n        Set&lt;String&gt; set = new HashSet&lt;&gt;(n * 2);\n        for (String s : generateParenthesis(n - 1)) {\n            char[] ca = s.toCharArray();\n            int len = s.length();\n            for (int i = 0; i &lt; len; i++) {\n                set.add(String.copyValueOf(ca, 0, i) + &quot;()&quot;\n                        + String.copyValueOf(ca, i, len - i));\n            }\n        }\n        return new ArrayList&lt;String&gt;(set);\n    }\n}\n</code></pre>\n<p>I found the above code online from an old post <a href=\"https://rekinyz.wordpress.com/2015/02/13/generate-parentheses/\" rel=\"nofollow noreferrer\">https://rekinyz.wordpress.com/2015/02/13/generate-parentheses/</a>. It is a bottom-up dynamic programming approach for generating all valid parentheses which would work. But I am not sure how to explain the worst time complexity of this solution. Can  someone plz tell what is the time complexity of this code &amp; why it is so? Original article doesn't  have anything about the time complexity.</p>\n"},{"tags":["java","selenium","maven","intellij-idea","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641098172,"post_id":70552998,"comment_id":124719490,"body_markdown":"You already have a jlink config and a module info file. It might be better for you to use the openjfx plugin to create a jlink based runtime image or use jpackage rather than  trying to create an unsupported maven shade fat jar. If you do use jlink, check that the module info is requiring all of the modules you need.","body":"You already have a jlink config and a module info file. It might be better for you to use the openjfx plugin to create a jlink based runtime image or use jpackage rather than  trying to create an unsupported maven shade fat jar. If you do use jlink, check that the module info is requiring all of the modules you need."}],"answers":[{"tags":[],"owner":{"account_id":18320560,"reputation":160,"user_id":13341425,"display_name":"JackElia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641104405,"creation_date":1641104405,"answer_id":70554007,"question_id":70552998,"body_markdown":"As @jewelsea said, it was a duplicate of https://stackoverflow.com/questions/67679962/cant-compile-my-javafx-and-selenium-project-due-to-google-autoservice-processor.\r\n\r\nOnce I changed\r\n```\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nto this\r\n```\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;com.google.auto.service&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;auto-service&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nEverything worked!","title":"Compilation failure error given when doing Maven Install in IntelliJ with JavaFX and Selenium","body":"<p>As @jewelsea said, it was a duplicate of <a href=\"https://stackoverflow.com/questions/67679962/cant-compile-my-javafx-and-selenium-project-due-to-google-autoservice-processor\">Can&#39;t compile my javafx and selenium project due to google autoservice processor (&quot;Unable to get public no-arg constructor&quot;)</a>.</p>\n<p>Once I changed</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>to this</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;com.google.auto.service&lt;/groupId&gt;\n                            &lt;artifactId&gt;auto-service&lt;/artifactId&gt;\n                            &lt;version&gt;1.0&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Everything worked!</p>\n"}],"owner":{"account_id":18320560,"reputation":160,"user_id":13341425,"display_name":"JackElia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1641114434,"answer_count":1,"score":1,"last_activity_date":1641104405,"creation_date":1641086351,"question_id":70552998,"body_markdown":"My code is able to be run and works perfectly, but when I try to make a fat jar with Maven Install, it gives the error:\r\n```\r\nCompilation failure\r\nBad service configuration file, or exception thrown while constructing Processor object: javax.annotation.processing.Processor: com.google.auto.service.processor.AutoServiceProcessor Unable to get public no-arg constructor\r\n```\r\n\r\nI&#39;m not sure what&#39;s causing it, maybe Selenium? I was able to get mvn install to work when I had the default JavaFX project, but once I ported in my code for Data Storage, Selenium, and my custom GUI it stopped working.\r\n\r\nHeres my project structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hVL4R.png\r\n\r\nHere is my pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PleaseWork&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;PleaseWork&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.example.pleasework.Main_1&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-compile&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;fun/n/learn/annotation/LogMeCustomAnnotationProcessor.java&lt;/include&gt;\r\n                                &lt;!--include dependencies required for LogMeCustomAnnotationProcessor --&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=\r\n                                                     &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;com.example.pleasework.Main_1&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI have 2 mains, Main_1 does not extend Application and is being used to run Main ","title":"Compilation failure error given when doing Maven Install in IntelliJ with JavaFX and Selenium","body":"<p>My code is able to be run and works perfectly, but when I try to make a fat jar with Maven Install, it gives the error:</p>\n<pre><code>Compilation failure\nBad service configuration file, or exception thrown while constructing Processor object: javax.annotation.processing.Processor: com.google.auto.service.processor.AutoServiceProcessor Unable to get public no-arg constructor\n</code></pre>\n<p>I'm not sure what's causing it, maybe Selenium? I was able to get mvn install to work when I had the default JavaFX project, but once I ported in my code for Data Storage, Selenium, and my custom GUI it stopped working.</p>\n<p>Heres my project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/hVL4R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hVL4R.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;PleaseWork&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;PleaseWork&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;11.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;11.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.pleasework.Main_1&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-compile&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;fun/n/learn/annotation/LogMeCustomAnnotationProcessor.java&lt;/include&gt;\n                                &lt;!--include dependencies required for LogMeCustomAnnotationProcessor --&gt;\n                            &lt;/includes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=\n                                                     &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;com.example.pleasework.Main_1&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have 2 mains, Main_1 does not extend Application and is being used to run Main</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"score":5,"creation_date":1289776152,"post_id":4179587,"comment_id":4516305,"body_markdown":"I can&#39;t recommend Herlihy&#39;s &quot;Art of Multiprocessor Programming&quot; highly enough.  It&#39;s challenging, but it addresses this issue head-on, it&#39;s seminal stuff, and it is accompanied by a set of good PPT slides and great Java example code, unusual for a book of this theoretical depth.","body":"I can&#39;t recommend Herlihy&#39;s &quot;Art of Multiprocessor Programming&quot; highly enough.  It&#39;s challenging, but it addresses this issue head-on, it&#39;s seminal stuff, and it is accompanied by a set of good PPT slides and great Java example code, unusual for a book of this theoretical depth."}],"answers":[{"tags":[],"owner":{"account_id":208094,"reputation":6180,"user_id":458368,"accept_rate":64,"display_name":"JOTN"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1289767706,"creation_date":1289767706,"answer_id":4179618,"question_id":4179587,"body_markdown":"Check Wikipedia&#39;s explanation:\r\n\r\nhttp://en.wikipedia.org/wiki/Linearizability#Linearizability_versus_serializability\r\n\r\nIt can also be a bit confusing because we also use the term serialize to refer to converting a class into data stream for storage or network transmission.  \r\n","title":"What is the difference between linearizability and serializability?","body":"<p>Check Wikipedia's explanation:</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Linearizability#Linearizability_versus_serializability\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Linearizability#Linearizability_versus_serializability</a></p>\n\n<p>It can also be a bit confusing because we also use the term serialize to refer to converting a class into data stream for storage or network transmission.  </p>\n"},{"tags":[],"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"down_vote_count":0,"up_vote_count":112,"is_accepted":true,"score":112,"last_activity_date":1601514081,"creation_date":1289773145,"answer_id":4180031,"question_id":4179587,"body_markdown":"The central distinction between the two is that **serializability** is a *global* property; a property of an entire history of operations/transactions.  **Linearizability** is a *local property*; a property of a single operation/transaction.  Another distinction is that linearizability includes a notion of **real-time**, which serializability does not:  the linearization point of an operation must lie between its invocation and response times.  (See Tim Harris: *Transactional Memory, 2ed*.  See Herlihy&#39;s slides from *The Art of Multiprocessor Programming, the section on Linearizability*, which are [available here][1], for some examples and proofs.\r\n\r\nBoth properties are aimed at the same goal: sequential consistency.  From Herlihy&#39;s paper:\r\n\r\n&gt; Much work on databases and distributed systems uses serializability as the basic correctness condition for concurrent computations. In this model, a transaction is a thread of control that applies a finite sequence of primitive operations to a set of objects shared with other transactions. A history is serializable if it is equivalent to one in which transactions appear to execute sequentially, i.e., without interleaving. A (partial) precedence order can be defined on non-overlapping pairs of transactions in the obvious way. A history is strictly serializable if the transactions’ order in the sequential history is compatible with their precedence order...\r\n&gt; \r\n&gt; ...Linearizability can be viewed as a special case of strict serializability where transactions are restricted to consist of a single operation applied to a single object. Nevertheless, this single-operation restriction has far-reaching practical and formal consequences, giving linearizable computations a different flavor from their serializable counterparts. An immediate practical consequence is that concurrency control mechanisms appropriate for serializability are typically inappropriate for linearizability because they introduce unnecessary overhead and place unnecessary restrictions on concurrency.\r\n\r\nReferences:\r\n-----------\r\n\r\n* Harris, Tim, James Larus, and Ravi Rajwar:  *Transactional Memory, 2ed*.  Synthesis Lectures on Computer Architecture.  Morgn &amp; Claypool, 2010.  ISBN 9781608452354.  URL: http://www.morganclaypool.com/doi/abs/10.2200/S00272ED1V01Y201006CAC011?journalCode=cac\r\n\r\n* Herlihy, Maurice and Jeanette Wing: *Linearizability: A Correctness Condition for Concurrent Objects*.  ACM Trans. Prog. Lang. and Sys.  Vol. 12, No. 3, July 1990, Pages 463-492. URL\r\nhttp://www.cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf\r\n\r\n* Papadimitriou, Christos:  *The Serializability of Concurrent Database Updates*.  Journal of the ACM Vol 26. No 4. October 1979, pp 631-653. URL http://publications.csail.mit.edu/lcs/pubs/pdf/MIT-LCS-TR-210.pdf\r\n\r\n* Herlihy, Maurice and Nir Shavit: *The Art of Multiprocessor Programming*.  Elsevier, 2008.  ISBN 978-0-12-370591-4.  URL: http://www.elsevier.com/wps/find/bookdescription.cws_home/714091/description#description PPT slides on linearizability are here: http://pub.ist.ac.at/courses/ppc10/slides/Linearizability.pptx\r\n\r\n* Attiya, Hagit and Jennifer Welch: *Sequential Consistency versus Linearizability*. ACM Transactions on Computer Systems Vol. 12, No. 2, May 1994, Pages 91-122. URL http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.133.4969&amp;rep=rep1&amp;type=pdf\r\n\r\nMore Details:\r\n-------------\r\n\r\nIf you really care about this, read the paper that introduced the definitions.  For linearizability, that&#39;s [*Linearizability: A Correctness Condition for Concurrent Objects*, Herlihy and Wing][2].  It&#39;s dense, but worth the attention.  Note that in the software transactional memory community, it&#39;s an open question whether linearizability is the right goal / property to aim for.\r\n\r\n**Serializability** is about the outcome of a collection of operations/the &quot;system&quot; being expressible as a specific ordering (&quot;as if execution took place in a specific order...&quot;) of all the operations.  Linearizability is a property of a single subset of operations in the system... an operation/set of operations are linearizable if they appear to the other operations as if they occurred at a specific instant in (logical) time with respect to the others.  The canonical paper here is [Papadimitriou, *The Serializability of Concurrent Database Updates*][3].\r\n\r\nThink &quot;atomic operation&quot; when you&#39;re thinking about &quot;linearizable.&quot;  A (set of) operations are linearizable when they (appear to) occur atomically with respect to other parts of the system.  A common formulation is &quot;provide the illusion that each operation takes effect instantaneously between its invocation and response.&quot;  The formulation of **linearizability** is due to [Herlihy][4], which emphasizes that this is a local property, vs. other kinds of sequential consistency properties like &quot;serializability&quot; which are global.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20140411210603/http://pub.ist.ac.at/courses/ppc10/slides/Linearizability.pptx\r\n  [2]: http://www.cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf\r\n  [3]: http://publications.csail.mit.edu/lcs/pubs/pdf/MIT-LCS-TR-210.pdf\r\n  [4]: http://www.cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf","title":"What is the difference between linearizability and serializability?","body":"<p>The central distinction between the two is that <strong>serializability</strong> is a <em>global</em> property; a property of an entire history of operations/transactions.  <strong>Linearizability</strong> is a <em>local property</em>; a property of a single operation/transaction.  Another distinction is that linearizability includes a notion of <strong>real-time</strong>, which serializability does not:  the linearization point of an operation must lie between its invocation and response times.  (See Tim Harris: <em>Transactional Memory, 2ed</em>.  See Herlihy's slides from <em>The Art of Multiprocessor Programming, the section on Linearizability</em>, which are <a href=\"https://web.archive.org/web/20140411210603/http://pub.ist.ac.at/courses/ppc10/slides/Linearizability.pptx\" rel=\"noreferrer\">available here</a>, for some examples and proofs.</p>\n<p>Both properties are aimed at the same goal: sequential consistency.  From Herlihy's paper:</p>\n<blockquote>\n<p>Much work on databases and distributed systems uses serializability as the basic correctness condition for concurrent computations. In this model, a transaction is a thread of control that applies a finite sequence of primitive operations to a set of objects shared with other transactions. A history is serializable if it is equivalent to one in which transactions appear to execute sequentially, i.e., without interleaving. A (partial) precedence order can be defined on non-overlapping pairs of transactions in the obvious way. A history is strictly serializable if the transactions’ order in the sequential history is compatible with their precedence order...</p>\n<p>...Linearizability can be viewed as a special case of strict serializability where transactions are restricted to consist of a single operation applied to a single object. Nevertheless, this single-operation restriction has far-reaching practical and formal consequences, giving linearizable computations a different flavor from their serializable counterparts. An immediate practical consequence is that concurrency control mechanisms appropriate for serializability are typically inappropriate for linearizability because they introduce unnecessary overhead and place unnecessary restrictions on concurrency.</p>\n</blockquote>\n<h2>References:</h2>\n<ul>\n<li><p>Harris, Tim, James Larus, and Ravi Rajwar:  <em>Transactional Memory, 2ed</em>.  Synthesis Lectures on Computer Architecture.  Morgn &amp; Claypool, 2010.  ISBN 9781608452354.  URL: <a href=\"http://www.morganclaypool.com/doi/abs/10.2200/S00272ED1V01Y201006CAC011?journalCode=cac\" rel=\"noreferrer\">http://www.morganclaypool.com/doi/abs/10.2200/S00272ED1V01Y201006CAC011?journalCode=cac</a></p>\n</li>\n<li><p>Herlihy, Maurice and Jeanette Wing: <em>Linearizability: A Correctness Condition for Concurrent Objects</em>.  ACM Trans. Prog. Lang. and Sys.  Vol. 12, No. 3, July 1990, Pages 463-492. URL\n<a href=\"http://www.cs.brown.edu/%7Emph/HerlihyW90/p463-herlihy.pdf\" rel=\"noreferrer\">http://www.cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf</a></p>\n</li>\n<li><p>Papadimitriou, Christos:  <em>The Serializability of Concurrent Database Updates</em>.  Journal of the ACM Vol 26. No 4. October 1979, pp 631-653. URL <a href=\"http://publications.csail.mit.edu/lcs/pubs/pdf/MIT-LCS-TR-210.pdf\" rel=\"noreferrer\">http://publications.csail.mit.edu/lcs/pubs/pdf/MIT-LCS-TR-210.pdf</a></p>\n</li>\n<li><p>Herlihy, Maurice and Nir Shavit: <em>The Art of Multiprocessor Programming</em>.  Elsevier, 2008.  ISBN 978-0-12-370591-4.  URL: <a href=\"http://www.elsevier.com/wps/find/bookdescription.cws_home/714091/description#description\" rel=\"noreferrer\">http://www.elsevier.com/wps/find/bookdescription.cws_home/714091/description#description</a> PPT slides on linearizability are here: <a href=\"http://pub.ist.ac.at/courses/ppc10/slides/Linearizability.pptx\" rel=\"noreferrer\">http://pub.ist.ac.at/courses/ppc10/slides/Linearizability.pptx</a></p>\n</li>\n<li><p>Attiya, Hagit and Jennifer Welch: <em>Sequential Consistency versus Linearizability</em>. ACM Transactions on Computer Systems Vol. 12, No. 2, May 1994, Pages 91-122. URL <a href=\"http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.133.4969&amp;rep=rep1&amp;type=pdf\" rel=\"noreferrer\">http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.133.4969&amp;rep=rep1&amp;type=pdf</a></p>\n</li>\n</ul>\n<h2>More Details:</h2>\n<p>If you really care about this, read the paper that introduced the definitions.  For linearizability, that's <a href=\"http://www.cs.brown.edu/%7Emph/HerlihyW90/p463-herlihy.pdf\" rel=\"noreferrer\"><em>Linearizability: A Correctness Condition for Concurrent Objects</em>, Herlihy and Wing</a>.  It's dense, but worth the attention.  Note that in the software transactional memory community, it's an open question whether linearizability is the right goal / property to aim for.</p>\n<p><strong>Serializability</strong> is about the outcome of a collection of operations/the &quot;system&quot; being expressible as a specific ordering (&quot;as if execution took place in a specific order...&quot;) of all the operations.  Linearizability is a property of a single subset of operations in the system... an operation/set of operations are linearizable if they appear to the other operations as if they occurred at a specific instant in (logical) time with respect to the others.  The canonical paper here is <a href=\"http://publications.csail.mit.edu/lcs/pubs/pdf/MIT-LCS-TR-210.pdf\" rel=\"noreferrer\">Papadimitriou, <em>The Serializability of Concurrent Database Updates</em></a>.</p>\n<p>Think &quot;atomic operation&quot; when you're thinking about &quot;linearizable.&quot;  A (set of) operations are linearizable when they (appear to) occur atomically with respect to other parts of the system.  A common formulation is &quot;provide the illusion that each operation takes effect instantaneously between its invocation and response.&quot;  The formulation of <strong>linearizability</strong> is due to <a href=\"http://www.cs.brown.edu/%7Emph/HerlihyW90/p463-herlihy.pdf\" rel=\"noreferrer\">Herlihy</a>, which emphasizes that this is a local property, vs. other kinds of sequential consistency properties like &quot;serializability&quot; which are global.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1289776104,"creation_date":1289775725,"answer_id":4180214,"question_id":4179587,"body_markdown":"See @andersoj&#39;s answer for a clear description of the difference between serializability and linearizability.\r\n\r\nThis is only indirectly relevant to Java concurrent programming.  In general, a concurrent Java program does not need to have either a serializable or linearizable history.  In the cases that do, serializability is generally sufficient for a program (Java or otherwise) for &quot;correctness&quot;, though particular problems could require the stronger linearizability property.  But either way, it is the *problem* that determines the correctness requirements, not Java.\r\n\r\n","title":"What is the difference between linearizability and serializability?","body":"<p>See @andersoj's answer for a clear description of the difference between serializability and linearizability.</p>\n\n<p>This is only indirectly relevant to Java concurrent programming.  In general, a concurrent Java program does not need to have either a serializable or linearizable history.  In the cases that do, serializability is generally sufficient for a program (Java or otherwise) for \"correctness\", though particular problems could require the stronger linearizability property.  But either way, it is the <em>problem</em> that determines the correctness requirements, not Java.</p>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27075,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1416940028,"creation_date":1416940028,"answer_id":27134026,"question_id":4179587,"body_markdown":"There&#39;s a great explanation by Peter Bailis here:\r\n\r\n - [Linearizability versus Serializability][1] \r\n\r\n&quot;In plain English, under **linearizability**, writes should appear to be instantaneous. Imprecisely, once a write completes, all later reads (where “later” is defined by wall-clock start time) should return the value of that write or the value of a later write. Once a read returns a particular value, all later reads should return that value or the value of a later write.&quot;\r\n\r\n&quot;**Serializability** is a guarantee about transactions, or groups of one or more operations over one or more objects. It guarantees that the execution of a set of transactions (usually containing read and write operations) over multiple items is equivalent to some serial execution (total ordering) of the transactions.&quot;\r\n\r\n  [1]: http://www.bailis.org/blog/linearizability-versus-serializability/","title":"What is the difference between linearizability and serializability?","body":"<p>There's a great explanation by Peter Bailis here:</p>\n\n<ul>\n<li><a href=\"http://www.bailis.org/blog/linearizability-versus-serializability/\">Linearizability versus Serializability</a> </li>\n</ul>\n\n<p>\"In plain English, under <strong>linearizability</strong>, writes should appear to be instantaneous. Imprecisely, once a write completes, all later reads (where “later” is defined by wall-clock start time) should return the value of that write or the value of a later write. Once a read returns a particular value, all later reads should return that value or the value of a later write.\"</p>\n\n<p>\"<strong>Serializability</strong> is a guarantee about transactions, or groups of one or more operations over one or more objects. It guarantees that the execution of a set of transactions (usually containing read and write operations) over multiple items is equivalent to some serial execution (total ordering) of the transactions.\"</p>\n"},{"tags":[],"owner":{"account_id":2300934,"reputation":4140,"user_id":2021245,"display_name":"Ming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588077527,"creation_date":1588077527,"answer_id":61480375,"question_id":4179587,"body_markdown":"A good way to understand this is to look at this problem from a database standpoint. (I know you ask for a context of java, sorry)\r\n\r\nAssuming, you are a database. You accepts multiple transactions operating on the same object **concurrently** but you only have **one single disk arm**. \r\n\r\nWhen you received multiple transactions at the same time, you will have to re-order those operations within transactions in some way so you poor disk arm can handle them one-by-one. \r\n\r\n**Serializable**\r\n\r\nyou have the ability re-arrange those transactions to make it looks like they happens sequentially (one by one). \r\nAs you can imagine, it&#39;s not always possible if you accept arbitrary transactions (e.g. one bad transaction last 10 years). \r\nSo naturally, you enforce some restrictions or conflict prevention mechanisms then you can say &quot;I&#39;m serializable! :)&quot; .\r\n\r\n**Linearizable**\r\n\r\nNot only do you need to do what `serialization` needs you to do. You also take a good look at those transactions. And try very hard to re-arrange those transactions in a sequential fashion without breaking the semantic order of transactions. As you might have noticed, `semantic order` is the key. \r\nBasically, in order to claim that you are `linearizable`, you will have to assume/find a `linearization point` for every transactions and then order them according to the `linearization point`. \r\n\r\nTherefore, it&#39;s uncommon for a versatile RDMS database to say `Hey I&#39;m linearizable!`. \r\nBut, it&#39;s not uncommon if you are a Key-Value database. \r\n\r\ne.g. As a KV database, you can say &quot;I am `linearizable`!&quot; if you can ensure a `read` will always get the latest possible write. \r\n(assuming the moment of sending response for the `read` operation is the `linearization point`)\r\nThis sounds trivial, but will be a major challenge if you are a distributed KV database.\r\nAlso note that `serializability` doesn&#39;t require you to give the same guarantee.","title":"What is the difference between linearizability and serializability?","body":"<p>A good way to understand this is to look at this problem from a database standpoint. (I know you ask for a context of java, sorry)</p>\n\n<p>Assuming, you are a database. You accepts multiple transactions operating on the same object <strong>concurrently</strong> but you only have <strong>one single disk arm</strong>. </p>\n\n<p>When you received multiple transactions at the same time, you will have to re-order those operations within transactions in some way so you poor disk arm can handle them one-by-one. </p>\n\n<p><strong>Serializable</strong></p>\n\n<p>you have the ability re-arrange those transactions to make it looks like they happens sequentially (one by one). \nAs you can imagine, it's not always possible if you accept arbitrary transactions (e.g. one bad transaction last 10 years). \nSo naturally, you enforce some restrictions or conflict prevention mechanisms then you can say \"I'm serializable! :)\" .</p>\n\n<p><strong>Linearizable</strong></p>\n\n<p>Not only do you need to do what <code>serialization</code> needs you to do. You also take a good look at those transactions. And try very hard to re-arrange those transactions in a sequential fashion without breaking the semantic order of transactions. As you might have noticed, <code>semantic order</code> is the key. \nBasically, in order to claim that you are <code>linearizable</code>, you will have to assume/find a <code>linearization point</code> for every transactions and then order them according to the <code>linearization point</code>. </p>\n\n<p>Therefore, it's uncommon for a versatile RDMS database to say <code>Hey I'm linearizable!</code>. \nBut, it's not uncommon if you are a Key-Value database. </p>\n\n<p>e.g. As a KV database, you can say \"I am <code>linearizable</code>!\" if you can ensure a <code>read</code> will always get the latest possible write. \n(assuming the moment of sending response for the <code>read</code> operation is the <code>linearization point</code>)\nThis sounds trivial, but will be a major challenge if you are a distributed KV database.\nAlso note that <code>serializability</code> doesn't require you to give the same guarantee.</p>\n"},{"tags":[],"owner":{"account_id":3278379,"reputation":105,"user_id":2759660,"display_name":"mridul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641103989,"creation_date":1641103989,"answer_id":70553986,"question_id":4179587,"body_markdown":"Imagine you have your distributed system running on 3 machines (3 replicas). We simply want to write and read value of key &quot;A&quot;. \r\n\r\n**Linearizable**\r\n\r\nIn this model, our system will work like this - As soon as write(A) is done, we can read the latest value from any of the three replicas. Meaning, once an action (write/read) is done, its impact is visible to all future actions across the whole system (Like an atomic operation). \r\n\r\nHere, the order of operation doesn&#39;t matter. So, in reality, we want to do write and read, but the system can do read and write and its fine and will still be Linearizable. Paxos/Raft algorithms provide this for a transaction for majority nodes.  \r\n\r\n**Serializable**\r\n\r\nIn this model, all the replicas (machines) will process actions/events in same order. So, if one of the replica does write(A) and read(A), other replicas will do in same order. \r\n\r\nHere, it&#39;s possible to get stale data from other replicas. Let&#39;s say - replica_1 does write(A). Read(A) from replica_1 will return latest value, but if we read from replica_2, we may get old value. The only guarantee is whenever (no time limit) replica_2 will process in same order - write and then read. Zookeeper provides this. \r\n\r\n\r\nThis is a good blog to learn more about this - \r\nhttp://www.bailis.org/blog/linearizability-versus-serializability/\r\n\r\nLet me know if my understanding is incorrect. Happy to learn and grow !","title":"What is the difference between linearizability and serializability?","body":"<p>Imagine you have your distributed system running on 3 machines (3 replicas). We simply want to write and read value of key &quot;A&quot;.</p>\n<p><strong>Linearizable</strong></p>\n<p>In this model, our system will work like this - As soon as write(A) is done, we can read the latest value from any of the three replicas. Meaning, once an action (write/read) is done, its impact is visible to all future actions across the whole system (Like an atomic operation).</p>\n<p>Here, the order of operation doesn't matter. So, in reality, we want to do write and read, but the system can do read and write and its fine and will still be Linearizable. Paxos/Raft algorithms provide this for a transaction for majority nodes.</p>\n<p><strong>Serializable</strong></p>\n<p>In this model, all the replicas (machines) will process actions/events in same order. So, if one of the replica does write(A) and read(A), other replicas will do in same order.</p>\n<p>Here, it's possible to get stale data from other replicas. Let's say - replica_1 does write(A). Read(A) from replica_1 will return latest value, but if we read from replica_2, we may get old value. The only guarantee is whenever (no time limit) replica_2 will process in same order - write and then read. Zookeeper provides this.</p>\n<p>This is a good blog to learn more about this -\n<a href=\"http://www.bailis.org/blog/linearizability-versus-serializability/\" rel=\"nofollow noreferrer\">http://www.bailis.org/blog/linearizability-versus-serializability/</a></p>\n<p>Let me know if my understanding is incorrect. Happy to learn and grow !</p>\n"}],"owner":{"account_id":33601,"reputation":28353,"user_id":94169,"accept_rate":77,"display_name":"softwarematter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27819,"favorite_count":0,"down_vote_count":1,"up_vote_count":89,"accepted_answer_id":4180031,"answer_count":6,"score":88,"last_activity_date":1641103989,"creation_date":1289767271,"question_id":4179587,"body_markdown":"What is the difference between linearizability and serializability (in the context of Java)? Can you please explain the difference between these with an example or provide a good reference?","title":"What is the difference between linearizability and serializability?","body":"<p>What is the difference between linearizability and serializability (in the context of Java)? Can you please explain the difference between these with an example or provide a good reference?</p>\n"},{"tags":["java","logarithm"],"comments":[{"owner":{"account_id":7668980,"reputation":2584,"user_id":5811874,"display_name":"Hanchen Jiang"},"score":0,"creation_date":1641102395,"post_id":70553834,"comment_id":124719833,"body_markdown":"Does this help? https://stackoverflow.com/a/40746823/5811874","body":"Does this help? <a href=\"https://stackoverflow.com/a/40746823/5811874\">stackoverflow.com/a/40746823/5811874</a>"}],"answers":[{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641103961,"creation_date":1641103961,"answer_id":70553981,"question_id":70553834,"body_markdown":"Although I flagged my own question as a duplicate, I&#39;m posting what I found.\r\n\r\nThe problem is that the input is not just positive but also including zero and that&#39;s why the way of simply dividing &lt;i&gt;log&lt;sub&gt;whatever&lt;/sub&gt;v&lt;/i&gt; with &lt;i&gt;log&lt;sub&gt;whatever&lt;/sub&gt;2&lt;/i&gt; won&#39;t work cuz &lt;i&gt;log&lt;sub&gt;whatever&lt;/sub&gt;0&lt;/i&gt; is not defined.\r\n\r\nHere comes what I concluded with https://stackoverflow.com/a/680040/330457.\r\n\r\n```java\r\n    static int size(final int value) {\r\n        if (value &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;value(&quot; + value + &quot;) is negative&quot;);\r\n        }\r\n        if (value == 0) {\r\n            return 1;\r\n        }\r\n        return Integer.SIZE - Integer.numberOfLeadingZeros(value);\r\n    }\r\n```\r\n\r\n```\r\nsize for 909663241: 30  (RANDOM)\r\nsize for 1: 1           (ONE)\r\nsize for 0: 1           (ZERO)\r\nsize for 2147483647: 31 (Integer.MAX_VALUE)\r\n```","title":"How can I calculate required bits for an unsigned value?","body":"<p>Although I flagged my own question as a duplicate, I'm posting what I found.</p>\n<p>The problem is that the input is not just positive but also including zero and that's why the way of simply dividing <i>log<sub>whatever</sub>v</i> with <i>log<sub>whatever</sub>2</i> won't work cuz <i>log<sub>whatever</sub>0</i> is not defined.</p>\n<p>Here comes what I concluded with <a href=\"https://stackoverflow.com/a/680040/330457\">https://stackoverflow.com/a/680040/330457</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static int size(final int value) {\n        if (value &lt; 0) {\n            throw new IllegalArgumentException(&quot;value(&quot; + value + &quot;) is negative&quot;);\n        }\n        if (value == 0) {\n            return 1;\n        }\n        return Integer.SIZE - Integer.numberOfLeadingZeros(value);\n    }\n</code></pre>\n<pre><code>size for 909663241: 30  (RANDOM)\nsize for 1: 1           (ONE)\nsize for 0: 1           (ZERO)\nsize for 2147483647: 31 (Integer.MAX_VALUE)\n</code></pre>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641121464,"answer_count":1,"score":0,"last_activity_date":1641103961,"creation_date":1641101663,"question_id":70553834,"body_markdown":"For a given unsigned `int` value, I tried following method for the number of bits for storing given value.\r\n\r\n```java\r\n    // Returns the number of required bits for (storing) specified unsigned value.\r\n    static int size(final int value) {\r\n        if (value &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;value(&quot; + value + &quot;) is negative&quot;);\r\n        }\r\n        return (int) Math.ceil(Math.log10(value) / Math.log10(2));\r\n    }\r\n```\r\n\r\nAnd here comes what I got.\r\n\r\n```\r\nsize for 1310394095: 31              (RANDOM)\r\nsize for 1: 0                        (1; Not Good; should be 1)\r\nsize_NotNegative_Zero() is @Disabled (0; ERROR; Expecting actual: -2147483648 ...)\r\nsize for 2147483647: 31              (Integer.MAX_VALUE)\r\n```\r\n\r\nThe `31` for `Integer.MAX_VALUE` seems OK.\r\n\r\nHow can I fix this?","title":"How can I calculate required bits for an unsigned value?","body":"<p>For a given unsigned <code>int</code> value, I tried following method for the number of bits for storing given value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // Returns the number of required bits for (storing) specified unsigned value.\n    static int size(final int value) {\n        if (value &lt; 0) {\n            throw new IllegalArgumentException(&quot;value(&quot; + value + &quot;) is negative&quot;);\n        }\n        return (int) Math.ceil(Math.log10(value) / Math.log10(2));\n    }\n</code></pre>\n<p>And here comes what I got.</p>\n<pre><code>size for 1310394095: 31              (RANDOM)\nsize for 1: 0                        (1; Not Good; should be 1)\nsize_NotNegative_Zero() is @Disabled (0; ERROR; Expecting actual: -2147483648 ...)\nsize for 2147483647: 31              (Integer.MAX_VALUE)\n</code></pre>\n<p>The <code>31</code> for <code>Integer.MAX_VALUE</code> seems OK.</p>\n<p>How can I fix this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1641099349,"post_id":70553583,"comment_id":124719570,"body_markdown":"It&#39;s known as a &quot;factory&quot; method.  You pass it the properties you want it to use and it will create a new instance of the class for you","body":"It&#39;s known as a &quot;factory&quot; method.  You pass it the properties you want it to use and it will create a new instance of the class for you"}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641098574,"creation_date":1641098574,"answer_id":70553646,"question_id":70553583,"body_markdown":"LocalDate provides a static method named `of` that allocates a new instance.\r\n\r\nAny class can do this.\r\n\r\n        class MyClass {\r\n              :\r\n           static MyClass makeOne(int someArg) {\r\n               :\r\n              MyClass thing = new MyClass();\r\n               :\r\n              return thing;\r\n           }\r\n            :\r\n         }\r\n           \r\n`makeOne` might equally be named `of` if that makes sense.\r\n   \r\nSo, you&#39;re right, &#39;new&#39; is how instances get created, but that doesn&#39;t mean the &#39;new&#39; call is written in **your** code.\r\n","title":"How to create the object of class LocalDate in Java? And why not use new keyword?","body":"<p>LocalDate provides a static method named <code>of</code> that allocates a new instance.</p>\n<p>Any class can do this.</p>\n<pre><code>    class MyClass {\n          :\n       static MyClass makeOne(int someArg) {\n           :\n          MyClass thing = new MyClass();\n           :\n          return thing;\n       }\n        :\n     }\n       \n</code></pre>\n<p><code>makeOne</code> might equally be named <code>of</code> if that makes sense.</p>\n<p>So, you're right, 'new' is how instances get created, but that doesn't mean the 'new' call is written in <strong>your</strong> code.</p>\n"},{"tags":[],"owner":{"display_name":"user17783874"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641099272,"creation_date":1641099272,"answer_id":70553687,"question_id":70553583,"body_markdown":"The [LocalDate][1] class has a private constructor. So you cannot instantiate a new instance of the [LocalDate][1] class using the new keyword. But the [LocalDate][1] class implements a static function [of][2], which lets you specify the year, month, and day of the month, and the function returns the new constructed [LocalDate][1] object.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#of-int-int-int-","title":"How to create the object of class LocalDate in Java? And why not use new keyword?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a> class has a private constructor. So you cannot instantiate a new instance of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a> class using the new keyword. But the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a> class implements a static function <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#of-int-int-int-\" rel=\"nofollow noreferrer\">of</a>, which lets you specify the year, month, and day of the month, and the function returns the new constructed <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a> object.</p>\n"}],"owner":{"account_id":22704205,"reputation":39,"user_id":16871178,"display_name":"Aditya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70553687,"answer_count":2,"score":1,"last_activity_date":1641099272,"creation_date":1641097048,"question_id":70553583,"body_markdown":"I am using this code to create the object of class **LocalDate** in Java.time package but it does not require the keyword **new**. Can anyone tell me how this exactly works.\r\n\r\n    LocalDate date = LocalDate.of(year, month, day);\r\n\r\n ","title":"How to create the object of class LocalDate in Java? And why not use new keyword?","body":"<p>I am using this code to create the object of class <strong>LocalDate</strong> in Java.time package but it does not require the keyword <strong>new</strong>. Can anyone tell me how this exactly works.</p>\n<pre><code>LocalDate date = LocalDate.of(year, month, day);\n</code></pre>\n"},{"tags":["java","sorting","comparator","comparable","custom-sort"],"answers":[{"tags":[],"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641097188,"creation_date":1641097188,"answer_id":70553587,"question_id":70551690,"body_markdown":"It&#39;s not a sorted array, so that you can just go from one element to the one with the lesser priority.The Iterator provided in method iterator() is not guaranteed to traverse the elements of the PriorityQueue in any particular order. If you need ordered traversal, consider using \r\n\r\n    Arrays.sort(pq.toArray()).\r\n\r\nOr you can \r\n\r\n        while (!str.isEmpty()) {\r\n            Parse p = str.peek();\r\n            str.remove();\r\n            System.out.println(p.major + &quot; &quot; + p.minor + &quot; &quot; + p.patch);\r\n        }\r\n\r\nBut this will empty the queue.\r\n\r\nI do now know why are you using priority queue. If you just want sorted list then use List and then sort the list using comparable/comparator.","title":"Log sorting - Custom sorting is not working","body":"<p>It's not a sorted array, so that you can just go from one element to the one with the lesser priority.The Iterator provided in method iterator() is not guaranteed to traverse the elements of the PriorityQueue in any particular order. If you need ordered traversal, consider using</p>\n<pre><code>Arrays.sort(pq.toArray()).\n</code></pre>\n<p>Or you can</p>\n<pre><code>    while (!str.isEmpty()) {\n        Parse p = str.peek();\n        str.remove();\n        System.out.println(p.major + &quot; &quot; + p.minor + &quot; &quot; + p.patch);\n    }\n</code></pre>\n<p>But this will empty the queue.</p>\n<p>I do now know why are you using priority queue. If you just want sorted list then use List and then sort the list using comparable/comparator.</p>\n"}],"owner":{"account_id":6382693,"reputation":63,"user_id":4951525,"display_name":"dmah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70553587,"answer_count":1,"score":1,"last_activity_date":1641097188,"creation_date":1641069236,"question_id":70551690,"body_markdown":"Trying to sort the array 0f log versions in ascending order. I can get it to work by directly implementing Comparator as\r\n```\r\n Arrays.sort(input, new CustomComparator())\r\n```\r\nand writing the same logic as below code(from the Parse class) in the CustomComparator class. However, when i try to sort it by adding the values in a Queue, the sorting does not work.\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class LogSorting {\r\n\r\n    public static void main(String[] args) {\r\n        String[] input = {&quot;2.10.0&quot;, &quot;1.0.100&quot;, &quot;1.0.1&quot;, &quot;1.1.100&quot;, &quot;2.1.10&quot;, &quot;1.1.1&quot;};\r\n        PriorityQueue&lt;Parse&gt; str = new PriorityQueue&lt;&gt;();\r\n        for (String i : input) {\r\n            String[] result = i.split(&quot;\\\\.&quot;);\r\n            str.add(new Parse(Integer.parseInt(result[0]), Integer.parseInt(result[1]), Integer.parseInt(result[2])));\r\n        }\r\n        for (Parse p : str) {\r\n            System.out.println(p.major + &quot; &quot; + p.minor + &quot; &quot; + p.patch);\r\n        }\r\n    }\r\n}\r\n\r\nclass Parse implements Comparable&lt;Parse&gt; {\r\n    int major;\r\n    int minor;\r\n    int patch;\r\n\r\n    Parse(int major, int minor, int patch) {\r\n        this.major = major;\r\n        this.minor = minor;\r\n        this.patch = patch;\r\n    }\r\n\r\n    public int compareTo(Parse p) {\r\n\r\n        if (major == p.major &amp;&amp; minor == p.minor)\r\n            return Integer.compare(patch, p.patch);\r\n        if (major == p.major)\r\n            return Integer.compare(minor, p.minor);\r\n        return Integer.compare(major, p.major);\r\n    }\r\n}\r\n\r\n```\r\noutput \r\n```\r\n1 0 1\r\n\r\n1 1 100\r\n\r\n1 0 100\r\n\r\n2 10 0\r\n\r\n2 1 10\r\n\r\n1 1 1\r\n```\r\n\r\nThe output should be sorted as\r\n1 0 1, 1 0 100, 1 1 1, 1 1 100, 2 1 10, 2 10 0","title":"Log sorting - Custom sorting is not working","body":"<p>Trying to sort the array 0f log versions in ascending order. I can get it to work by directly implementing Comparator as</p>\n<pre><code> Arrays.sort(input, new CustomComparator())\n</code></pre>\n<p>and writing the same logic as below code(from the Parse class) in the CustomComparator class. However, when i try to sort it by adding the values in a Queue, the sorting does not work.</p>\n<pre><code>import java.util.*;\n\npublic class LogSorting {\n\n    public static void main(String[] args) {\n        String[] input = {&quot;2.10.0&quot;, &quot;1.0.100&quot;, &quot;1.0.1&quot;, &quot;1.1.100&quot;, &quot;2.1.10&quot;, &quot;1.1.1&quot;};\n        PriorityQueue&lt;Parse&gt; str = new PriorityQueue&lt;&gt;();\n        for (String i : input) {\n            String[] result = i.split(&quot;\\\\.&quot;);\n            str.add(new Parse(Integer.parseInt(result[0]), Integer.parseInt(result[1]), Integer.parseInt(result[2])));\n        }\n        for (Parse p : str) {\n            System.out.println(p.major + &quot; &quot; + p.minor + &quot; &quot; + p.patch);\n        }\n    }\n}\n\nclass Parse implements Comparable&lt;Parse&gt; {\n    int major;\n    int minor;\n    int patch;\n\n    Parse(int major, int minor, int patch) {\n        this.major = major;\n        this.minor = minor;\n        this.patch = patch;\n    }\n\n    public int compareTo(Parse p) {\n\n        if (major == p.major &amp;&amp; minor == p.minor)\n            return Integer.compare(patch, p.patch);\n        if (major == p.major)\n            return Integer.compare(minor, p.minor);\n        return Integer.compare(major, p.major);\n    }\n}\n\n</code></pre>\n<p>output</p>\n<pre><code>1 0 1\n\n1 1 100\n\n1 0 100\n\n2 10 0\n\n2 1 10\n\n1 1 1\n</code></pre>\n<p>The output should be sorted as\n1 0 1, 1 0 100, 1 1 1, 1 1 100, 2 1 10, 2 10 0</p>\n"},{"tags":["java","minecraft","bukkit"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1641096794,"post_id":70553534,"comment_id":124719373,"body_markdown":"`rootData` is null.  It is not expected to be that.","body":"<code>rootData</code> is null.  It is not expected to be that."},{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1641096973,"post_id":70553534,"comment_id":124719389,"body_markdown":"Does this answer your question? [Java: How to check if object is null?](https://stackoverflow.com/questions/2033088/java-how-to-check-if-object-is-null)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2033088/java-how-to-check-if-object-is-null\">Java: How to check if object is null?</a>"}],"owner":{"account_id":23802964,"reputation":1,"user_id":17812897,"display_name":"instanse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641121482,"answer_count":0,"score":0,"last_activity_date":1641097165,"creation_date":1641096140,"question_id":70553534,"body_markdown":" This is my code that causes the error:\r\n\r\n```java\r\npublic void onJoin(PlayerJoinEvent event ){\r\n    Player player = event.getPlayer();\r\n\r\n    if (this.rootdata.getBoolean(&quot;CustomJoin.custom-message&quot;)) {\r\n        final List&lt;String&gt; message = (List&lt;String&gt;)this.langdata.getStringList(&quot;CustomJoinMessage.message&quot;);\r\n        for (final String send : message) {\r\n            MsgUtil.sendMessage(player, send);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Caused by: java.lang.NullPointerException: Cannot invoke &quot;dev.instanse.aHub.file.RootFile.getBoolean(String)&quot; because &quot;this.rootdata&quot; is null","body":"<p>This is my code that causes the error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onJoin(PlayerJoinEvent event ){\n    Player player = event.getPlayer();\n\n    if (this.rootdata.getBoolean(&quot;CustomJoin.custom-message&quot;)) {\n        final List&lt;String&gt; message = (List&lt;String&gt;)this.langdata.getStringList(&quot;CustomJoinMessage.message&quot;);\n        for (final String send : message) {\n            MsgUtil.sendMessage(player, send);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","netbeans-8"],"answers":[{"tags":[],"owner":{"account_id":9378438,"reputation":1138,"user_id":8504033,"display_name":"Abdul Alim Shakir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641096679,"creation_date":1641096679,"answer_id":70553565,"question_id":70551969,"body_markdown":"The global default policy has been set by the file `java\\jre\\lib\\security\\java.policy` in the JRE. And it is shared by all of the Java programs that run in the JVM on the node. Default permissions for the java.policy file can be found [here][1].\r\n\r\nFor more information, please look at [Specifying Permissions with the Security Policy][2] and [Default Policy Implementation and Policy File Syntax][3]\r\n\r\nExample of a custom policy file could be found [here][4] and this policy file tells the Java security manager what to allow and disallow.\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/was/8.5.5?topic=security-javapolicy-file-permissions\r\n  [2]: https://docs.oracle.com/javase/tutorial/ext/security/policy.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/PolicyFiles.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/security/userperm/policy.html","title":"How do I grant &#39;all&#39; permissions to a netbeans project? | netbeans 8.2","body":"<p>The global default policy has been set by the file <code>java\\jre\\lib\\security\\java.policy</code> in the JRE. And it is shared by all of the Java programs that run in the JVM on the node. Default permissions for the java.policy file can be found <a href=\"https://www.ibm.com/docs/en/was/8.5.5?topic=security-javapolicy-file-permissions\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>For more information, please look at <a href=\"https://docs.oracle.com/javase/tutorial/ext/security/policy.html\" rel=\"nofollow noreferrer\">Specifying Permissions with the Security Policy</a> and <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/PolicyFiles.html\" rel=\"nofollow noreferrer\">Default Policy Implementation and Policy File Syntax</a></p>\n<p>Example of a custom policy file could be found <a href=\"https://docs.oracle.com/javase/tutorial/security/userperm/policy.html\" rel=\"nofollow noreferrer\">here</a> and this policy file tells the Java security manager what to allow and disallow.</p>\n"}],"owner":{"display_name":"user17712850"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70553565,"answer_count":1,"score":1,"last_activity_date":1641096679,"creation_date":1641072340,"question_id":70551969,"body_markdown":"I don&#39;t have a policy file or at least i can&#39;t find it, how do i grant `all` permissions to my java projects? I&#39;ve seen solutions to edit a `my.policy` file and grant all permissions and add its path to `VM Options` but where can I find or how do I generate a policy file?","title":"How do I grant &#39;all&#39; permissions to a netbeans project? | netbeans 8.2","body":"<p>I don't have a policy file or at least i can't find it, how do i grant <code>all</code> permissions to my java projects? I've seen solutions to edit a <code>my.policy</code> file and grant all permissions and add its path to <code>VM Options</code> but where can I find or how do I generate a policy file?</p>\n"},{"tags":["java","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":491970,"reputation":5764,"user_id":1076562,"display_name":"Justin Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610234275,"creation_date":1610234275,"answer_id":65648592,"question_id":65647310,"body_markdown":"This is expected behavior for the Upcoming Invoice endpoint.  Have a look at [the documentation for previewing a proration](https://stripe.com/docs/billing/subscriptions/prorations#preview-proration) which shows the same thing you&#39;re seeing in the example result:\r\n\r\n&gt; You can expand the example response below to see:\r\n&gt;\r\n&gt; - The credit for unused time at the previous price on lines 36-38.\r\n&gt; - The cost for time spent at the new price on lines 107-109.\r\n&gt; - The new subtotal and total for the invoice on lines 276-279.\r\n\r\nYou&#39;re previewing the *upcoming* Invoice, which means it&#39;s going to Invoice for both the current period&#39;s change *and* the next period&#39;s regular amount.  There are two line items for the change in the current period and one line item for the upcoming period.\r\n\r\n&gt; Now if I go through with the actual subscription update the invoice that Stripe generates is indeed for 34.99 euros.\r\n\r\nIt sounds like you&#39;re making this change and then immediately generating an Invoice rather than waiting for the Invoice that would normally be generated as a result of the Subscription.","title":"Previewing upcoming invoices with proration issues with Stripe [Java]","body":"<p>This is expected behavior for the Upcoming Invoice endpoint.  Have a look at <a href=\"https://stripe.com/docs/billing/subscriptions/prorations#preview-proration\" rel=\"nofollow noreferrer\">the documentation for previewing a proration</a> which shows the same thing you're seeing in the example result:</p>\n<blockquote>\n<p>You can expand the example response below to see:</p>\n<ul>\n<li>The credit for unused time at the previous price on lines 36-38.</li>\n<li>The cost for time spent at the new price on lines 107-109.</li>\n<li>The new subtotal and total for the invoice on lines 276-279.</li>\n</ul>\n</blockquote>\n<p>You're previewing the <em>upcoming</em> Invoice, which means it's going to Invoice for both the current period's change <em>and</em> the next period's regular amount.  There are two line items for the change in the current period and one line item for the upcoming period.</p>\n<blockquote>\n<p>Now if I go through with the actual subscription update the invoice that Stripe generates is indeed for 34.99 euros.</p>\n</blockquote>\n<p>It sounds like you're making this change and then immediately generating an Invoice rather than waiting for the Invoice that would normally be generated as a result of the Subscription.</p>\n"},{"tags":[],"owner":{"account_id":1135574,"reputation":461,"user_id":1120690,"accept_rate":80,"display_name":"sm0ke21"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610238868,"creation_date":1610238868,"answer_id":65649068,"question_id":65647310,"body_markdown":"I can see that the documentation example does indeed follow the same pattern. It contains 3 lines. 2 for the prorated charges and one for the actual item.\r\n\r\nSo the gist of this is that the *upcoming* invoice (on the subscription renew date) will include the prorated charges and the new installment charge.\r\n\r\nSo if I want to present my customer with what the upcoming invoice will look like if they upgrade/downgrade *now* I have to manually subtract the item price from the response.\r\n\r\nThe invoice generated is 34.99 because I am issuing the invoice roughly at the same time as the upcoming invoice preview modifying the subscription item&#39;s price.","title":"Previewing upcoming invoices with proration issues with Stripe [Java]","body":"<p>I can see that the documentation example does indeed follow the same pattern. It contains 3 lines. 2 for the prorated charges and one for the actual item.</p>\n<p>So the gist of this is that the <em>upcoming</em> invoice (on the subscription renew date) will include the prorated charges and the new installment charge.</p>\n<p>So if I want to present my customer with what the upcoming invoice will look like if they upgrade/downgrade <em>now</em> I have to manually subtract the item price from the response.</p>\n<p>The invoice generated is 34.99 because I am issuing the invoice roughly at the same time as the upcoming invoice preview modifying the subscription item's price.</p>\n"},{"tags":[],"owner":{"account_id":2023842,"reputation":13,"user_id":1809414,"display_name":"Rich Harvey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631790122,"creation_date":1631790122,"answer_id":69207259,"question_id":65647310,"body_markdown":"Just hit the same issue.  I managed to get the correct upcoming invoice (ie 2 lines one for the rebate and 1 for the new charge)  by setting the proration_behavior to &quot;always_invoice&quot;","title":"Previewing upcoming invoices with proration issues with Stripe [Java]","body":"<p>Just hit the same issue.  I managed to get the correct upcoming invoice (ie 2 lines one for the rebate and 1 for the new charge)  by setting the proration_behavior to &quot;always_invoice&quot;</p>\n"},{"tags":[],"owner":{"account_id":3115098,"reputation":327,"user_id":2636056,"accept_rate":71,"display_name":"Grobbed"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641096672,"creation_date":1641096672,"answer_id":70553564,"question_id":65647310,"body_markdown":"Just wanted to extend on @Rich Harvey&#39;s answer in case anybody else runs into this issue.\r\n\r\nThe reason the actual invoice and the preview invoice are different, is because you set `proration_behavior: &quot;always_invoice&quot;` when you actually apply the change to the subscription, thus creating an invoice right away with just the proration amounts.\r\n\r\nHowever, in your preview, the change is being applied to the **next** invoice, thus charging the full price for the subscription + the proration amounts.\r\n\r\nTo fix this, simply set `subscription_proration_behavior = &#39;always_invoice&#39;` for the invoice preview:\r\n\r\n```\r\nInvoiceUpcomingParams params = InvoiceUpcomingParams.builder()\r\n        .setCustomer(userId)\r\n        .setSubscription(subscriptionId)\r\n\r\n        .addSubscriptionItem(\r\n                InvoiceUpcomingParams.SubscriptionItem.builder()\r\n                .setId(subscription.getItems().getData().get(0).getId())\r\n                .setPrice(priceId)\r\n                .build()\r\n        ).setSubscriptionProrationDate(prorationDate)\r\n        .setSubscriptionProrationBehavior(&#39;always_invoice&#39;)\r\n        .build();\r\n``` \r\n\r\nSee the [Documentation][1] for `.setSubscriptionProrationBehavior()`\r\n\r\n\r\n  [1]: https://stripe.dev/stripe-java/com/stripe/param/InvoiceUpcomingParams.Builder.html#setSubscriptionProrationBehavior(com.stripe.param.InvoiceUpcomingParams.SubscriptionProrationBehavior)","title":"Previewing upcoming invoices with proration issues with Stripe [Java]","body":"<p>Just wanted to extend on @Rich Harvey's answer in case anybody else runs into this issue.</p>\n<p>The reason the actual invoice and the preview invoice are different, is because you set <code>proration_behavior: &quot;always_invoice&quot;</code> when you actually apply the change to the subscription, thus creating an invoice right away with just the proration amounts.</p>\n<p>However, in your preview, the change is being applied to the <strong>next</strong> invoice, thus charging the full price for the subscription + the proration amounts.</p>\n<p>To fix this, simply set <code>subscription_proration_behavior = 'always_invoice'</code> for the invoice preview:</p>\n<pre><code>InvoiceUpcomingParams params = InvoiceUpcomingParams.builder()\n        .setCustomer(userId)\n        .setSubscription(subscriptionId)\n\n        .addSubscriptionItem(\n                InvoiceUpcomingParams.SubscriptionItem.builder()\n                .setId(subscription.getItems().getData().get(0).getId())\n                .setPrice(priceId)\n                .build()\n        ).setSubscriptionProrationDate(prorationDate)\n        .setSubscriptionProrationBehavior('always_invoice')\n        .build();\n</code></pre>\n<p>See the <a href=\"https://stripe.dev/stripe-java/com/stripe/param/InvoiceUpcomingParams.Builder.html#setSubscriptionProrationBehavior(com.stripe.param.InvoiceUpcomingParams.SubscriptionProrationBehavior)\" rel=\"nofollow noreferrer\">Documentation</a> for <code>.setSubscriptionProrationBehavior()</code></p>\n"}],"owner":{"account_id":1135574,"reputation":461,"user_id":1120690,"accept_rate":80,"display_name":"sm0ke21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":950,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1641096672,"creation_date":1610224227,"question_id":65647310,"body_markdown":"I am trying to preview an upcoming invoice with prorated charges.\r\n\r\nThe client is changing from a 30 euros / Year plan to a 65 euros / Year plan on day 1 (important for proration date calculations).\r\n\r\nAccording to the documentation [here](https://stripe.com/docs/billing/subscriptions/prorations) the client should be charged:\r\n\r\n- -30 euros for the remaining time on the old plan\r\n- 65 euros for the remaining time on the new plan\r\n\r\nWhich comes out to 35 euros in total. The next invoice issued should be for 35 euros.\r\nThe following call is made using the Java library to fetch the upcoming invoice:\r\n\r\n```\r\nInvoiceUpcomingParams params = InvoiceUpcomingParams.builder()\r\n        .setCustomer(userId)\r\n        .setSubscription(subscriptionId)\r\n        .addSubscriptionItem(\r\n                InvoiceUpcomingParams.SubscriptionItem.builder()\r\n                .setId(subscription.getItems().getData().get(0).getId())\r\n                .setPrice(priceId)\r\n                .build()\r\n        ).setSubscriptionProrationDate(prorationDate)\r\n        .build();\r\n```\r\n\r\nThe resulting invoice has the following properties:\r\n\r\n* amountPaid: 0\r\n* amountDue: 9999\r\n* amountRemaining: 9999\r\n* subTotal: 9999\r\n\r\n\r\n...and the following invoice lines (ids have been obfuscated):\r\n\r\n```\r\n{\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;amount&quot;: -3000,\r\n            &quot;currency&quot;: &quot;eur&quot;,\r\n            &quot;description&quot;: &quot;Unused time on xxxxx after 09 Jan 2021&quot;,\r\n            &quot;discount_amounts&quot;: [],\r\n            &quot;discountable&quot;: false,\r\n            &quot;discounts&quot;: [],\r\n            &quot;id&quot;: &quot;---&quot;,\r\n            &quot;invoice_item&quot;: &quot;---&quot;,\r\n            &quot;livemode&quot;: false,\r\n            &quot;metadata&quot;: {},\r\n            &quot;object&quot;: &quot;line_item&quot;,\r\n            &quot;period&quot;: {\r\n                &quot;end&quot;: 1641756061,\r\n                &quot;start&quot;: 1610222989\r\n            },\r\n            &quot;plan&quot;: {\r\n                &quot;active&quot;: true,\r\n                &quot;aggregate_usage&quot;: null,\r\n                &quot;amount&quot;: 3000,\r\n                &quot;amount_decimal&quot;: 3000,\r\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\r\n                &quot;created&quot;: 1598220277,\r\n                &quot;currency&quot;: &quot;eur&quot;,\r\n                &quot;deleted&quot;: null,\r\n                &quot;id&quot;: &quot;---&quot;,\r\n                &quot;interval&quot;: &quot;year&quot;,\r\n                &quot;interval_count&quot;: 1,\r\n                &quot;livemode&quot;: false,\r\n                &quot;metadata&quot;: {},\r\n                &quot;nickname&quot;: null,\r\n                &quot;object&quot;: &quot;plan&quot;,\r\n                &quot;product&quot;: &quot;---&quot;,\r\n                &quot;tiers&quot;: null,\r\n                &quot;tiers_mode&quot;: null,\r\n                &quot;transform_usage&quot;: null,\r\n                &quot;trial_period_days&quot;: null,\r\n                &quot;usage_type&quot;: &quot;licensed&quot;\r\n            },\r\n            &quot;price&quot;: {\r\n                &quot;active&quot;: true,\r\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\r\n                &quot;created&quot;: 1598220277,\r\n                &quot;currency&quot;: &quot;eur&quot;,\r\n                &quot;deleted&quot;: null,\r\n                &quot;id&quot;: &quot;---&quot;,\r\n                &quot;livemode&quot;: false,\r\n                &quot;lookup_key&quot;: null,\r\n                &quot;metadata&quot;: {},\r\n                &quot;nickname&quot;: null,\r\n                &quot;object&quot;: &quot;price&quot;,\r\n                &quot;product&quot;: &quot;---&quot;,\r\n                &quot;recurring&quot;: {\r\n                    &quot;aggregate_usage&quot;: null,\r\n                    &quot;interval&quot;: &quot;year&quot;,\r\n                    &quot;interval_count&quot;: 1,\r\n                    &quot;trial_period_days&quot;: null,\r\n                    &quot;usage_type&quot;: &quot;licensed&quot;\r\n                },\r\n                &quot;tiers&quot;: null,\r\n                &quot;tiers_mode&quot;: null,\r\n                &quot;transform_quantity&quot;: null,\r\n                &quot;type&quot;: &quot;recurring&quot;,\r\n                &quot;unit_amount&quot;: 3000,\r\n                &quot;unit_amount_decimal&quot;: 3000\r\n            },\r\n            &quot;proration&quot;: true,\r\n            &quot;quantity&quot;: 1,\r\n            &quot;subscription&quot;: &quot;---&quot;,\r\n            &quot;subscription_item&quot;: &quot;---&quot;,\r\n            &quot;tax_amounts&quot;: [],\r\n            &quot;tax_rates&quot;: [],\r\n            &quot;type&quot;: &quot;invoiceitem&quot;,\r\n            &quot;unified_proration&quot;: null\r\n        },\r\n        {\r\n            &quot;amount&quot;: 6499,\r\n            &quot;currency&quot;: &quot;eur&quot;,\r\n            &quot;description&quot;: &quot;Remaining time on xxxx after 09 Jan 2021&quot;,\r\n            &quot;discount_amounts&quot;: [],\r\n            &quot;discountable&quot;: false,\r\n            &quot;discounts&quot;: [],\r\n            &quot;id&quot;: &quot;---&quot;,\r\n            &quot;invoice_item&quot;: &quot;---&quot;,\r\n            &quot;livemode&quot;: false,\r\n            &quot;metadata&quot;: {},\r\n            &quot;object&quot;: &quot;line_item&quot;,\r\n            &quot;period&quot;: {\r\n                &quot;end&quot;: 1641756061,\r\n                &quot;start&quot;: 1610222989\r\n            },\r\n            &quot;plan&quot;: {\r\n                &quot;active&quot;: true,\r\n                &quot;aggregate_usage&quot;: null,\r\n                &quot;amount&quot;: 6500,\r\n                &quot;amount_decimal&quot;: 6500,\r\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\r\n                &quot;created&quot;: 1598220248,\r\n                &quot;currency&quot;: &quot;eur&quot;,\r\n                &quot;deleted&quot;: null,\r\n                &quot;id&quot;: &quot;---&quot;,\r\n                &quot;interval&quot;: &quot;year&quot;,\r\n                &quot;interval_count&quot;: 1,\r\n                &quot;livemode&quot;: false,\r\n                &quot;metadata&quot;: {},\r\n                &quot;nickname&quot;: null,\r\n                &quot;object&quot;: &quot;plan&quot;,\r\n                &quot;product&quot;: &quot;---&quot;,\r\n                &quot;tiers&quot;: null,\r\n                &quot;tiers_mode&quot;: null,\r\n                &quot;transform_usage&quot;: null,\r\n                &quot;trial_period_days&quot;: null,\r\n                &quot;usage_type&quot;: &quot;licensed&quot;\r\n            },\r\n            &quot;price&quot;: {\r\n                &quot;active&quot;: true,\r\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\r\n                &quot;created&quot;: 1598220248,\r\n                &quot;currency&quot;: &quot;eur&quot;,\r\n                &quot;deleted&quot;: null,\r\n                &quot;id&quot;: &quot;---&quot;,\r\n                &quot;livemode&quot;: false,\r\n                &quot;lookup_key&quot;: null,\r\n                &quot;metadata&quot;: {},\r\n                &quot;nickname&quot;: null,\r\n                &quot;object&quot;: &quot;price&quot;,\r\n                &quot;product&quot;: &quot;---&quot;,\r\n                &quot;recurring&quot;: {\r\n                    &quot;aggregate_usage&quot;: null,\r\n                    &quot;interval&quot;: &quot;year&quot;,\r\n                    &quot;interval_count&quot;: 1,\r\n                    &quot;trial_period_days&quot;: null,\r\n                    &quot;usage_type&quot;: &quot;licensed&quot;\r\n                },\r\n                &quot;tiers&quot;: null,\r\n                &quot;tiers_mode&quot;: null,\r\n                &quot;transform_quantity&quot;: null,\r\n                &quot;type&quot;: &quot;recurring&quot;,\r\n                &quot;unit_amount&quot;: 6500,\r\n                &quot;unit_amount_decimal&quot;: 6500\r\n            },\r\n            &quot;proration&quot;: true,\r\n            &quot;quantity&quot;: 1,\r\n            &quot;subscription&quot;: &quot;---&quot;,\r\n            &quot;subscription_item&quot;: &quot;---&quot;,\r\n            &quot;tax_amounts&quot;: [],\r\n            &quot;tax_rates&quot;: [],\r\n            &quot;type&quot;: &quot;invoiceitem&quot;,\r\n            &quot;unified_proration&quot;: null\r\n        },\r\n        {\r\n            &quot;amount&quot;: 6500,\r\n            &quot;currency&quot;: &quot;eur&quot;,\r\n            &quot;description&quot;: &quot;1 &#215; xxxx (at €65.00 / year)&quot;,\r\n            &quot;discount_amounts&quot;: [],\r\n            &quot;discountable&quot;: true,\r\n            &quot;discounts&quot;: [],\r\n            &quot;id&quot;: &quot;---&quot;,\r\n            &quot;invoice_item&quot;: null,\r\n            &quot;livemode&quot;: false,\r\n            &quot;metadata&quot;: {},\r\n            &quot;object&quot;: &quot;line_item&quot;,\r\n            &quot;period&quot;: {\r\n                &quot;end&quot;: 1673292061,\r\n                &quot;start&quot;: 1641756061\r\n            },\r\n            &quot;plan&quot;: {\r\n                &quot;active&quot;: true,\r\n                &quot;aggregate_usage&quot;: null,\r\n                &quot;amount&quot;: 6500,\r\n                &quot;amount_decimal&quot;: 6500,\r\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\r\n                &quot;created&quot;: 1598220248,\r\n                &quot;currency&quot;: &quot;eur&quot;,\r\n                &quot;deleted&quot;: null,\r\n                &quot;id&quot;: &quot;---&quot;,\r\n                &quot;interval&quot;: &quot;year&quot;,\r\n                &quot;interval_count&quot;: 1,\r\n                &quot;livemode&quot;: false,\r\n                &quot;metadata&quot;: {},\r\n                &quot;nickname&quot;: null,\r\n                &quot;object&quot;: &quot;plan&quot;,\r\n                &quot;product&quot;: &quot;---&quot;,\r\n                &quot;tiers&quot;: null,\r\n                &quot;tiers_mode&quot;: null,\r\n                &quot;transform_usage&quot;: null,\r\n                &quot;trial_period_days&quot;: null,\r\n                &quot;usage_type&quot;: &quot;licensed&quot;\r\n            },\r\n            &quot;price&quot;: {\r\n                &quot;active&quot;: true,\r\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\r\n                &quot;created&quot;: 1598220248,\r\n                &quot;currency&quot;: &quot;eur&quot;,\r\n                &quot;deleted&quot;: null,\r\n                &quot;id&quot;: &quot;---&quot;,\r\n                &quot;livemode&quot;: false,\r\n                &quot;lookup_key&quot;: null,\r\n                &quot;metadata&quot;: {},\r\n                &quot;nickname&quot;: null,\r\n                &quot;object&quot;: &quot;price&quot;,\r\n                &quot;product&quot;: &quot;---&quot;,\r\n                &quot;recurring&quot;: {\r\n                    &quot;aggregate_usage&quot;: null,\r\n                    &quot;interval&quot;: &quot;year&quot;,\r\n                    &quot;interval_count&quot;: 1,\r\n                    &quot;trial_period_days&quot;: null,\r\n                    &quot;usage_type&quot;: &quot;licensed&quot;\r\n                },\r\n                &quot;tiers&quot;: null,\r\n                &quot;tiers_mode&quot;: null,\r\n                &quot;transform_quantity&quot;: null,\r\n                &quot;type&quot;: &quot;recurring&quot;,\r\n                &quot;unit_amount&quot;: 6500,\r\n                &quot;unit_amount_decimal&quot;: 6500\r\n            },\r\n            &quot;proration&quot;: false,\r\n            &quot;quantity&quot;: 1,\r\n            &quot;subscription&quot;: &quot;---&quot;,\r\n            &quot;subscription_item&quot;: &quot;---&quot;,\r\n            &quot;tax_amounts&quot;: [],\r\n            &quot;tax_rates&quot;: [],\r\n            &quot;type&quot;: &quot;subscription&quot;,\r\n            &quot;unified_proration&quot;: null\r\n        }\r\n    ],\r\n    &quot;has_more&quot;: false,\r\n    &quot;object&quot;: &quot;list&quot;,\r\n    &quot;request_options&quot;: null,\r\n    &quot;request_params&quot;: null,\r\n    &quot;url&quot;: &quot;---&quot;\r\n}\r\n```\r\n\r\nIn short the invoice lines contain the following:\r\n\r\n* Unused time on xxxxx after 09 Jan 2021: -3000\r\n* Remaining time on xxxxx after 09 Jan 2021: 6499\r\n* 1 &#215; xxxxx (at €65.00 / year): 6500\r\n\r\n## Issue 1 ##\r\n**I believe this to be wrong**. According to the documentation [here](https://stripe.com/docs/billing/subscriptions/prorations) the charge should be: *64.99 - 30 = 34.99 euros*\r\n\r\nNow if I **go through** with the actual subscription update the invoice that Stripe generates is indeed for 34.99 euros. So there seems to be something wrong with either how I call the upcoming invoice API or what it returns.\r\n\r\nWhat am I missing? Am I supposed to deduct the price of the subscription from the *amountDue* myself?","title":"Previewing upcoming invoices with proration issues with Stripe [Java]","body":"<p>I am trying to preview an upcoming invoice with prorated charges.</p>\n<p>The client is changing from a 30 euros / Year plan to a 65 euros / Year plan on day 1 (important for proration date calculations).</p>\n<p>According to the documentation <a href=\"https://stripe.com/docs/billing/subscriptions/prorations\" rel=\"nofollow noreferrer\">here</a> the client should be charged:</p>\n<ul>\n<li>-30 euros for the remaining time on the old plan</li>\n<li>65 euros for the remaining time on the new plan</li>\n</ul>\n<p>Which comes out to 35 euros in total. The next invoice issued should be for 35 euros.\nThe following call is made using the Java library to fetch the upcoming invoice:</p>\n<pre><code>InvoiceUpcomingParams params = InvoiceUpcomingParams.builder()\n        .setCustomer(userId)\n        .setSubscription(subscriptionId)\n        .addSubscriptionItem(\n                InvoiceUpcomingParams.SubscriptionItem.builder()\n                .setId(subscription.getItems().getData().get(0).getId())\n                .setPrice(priceId)\n                .build()\n        ).setSubscriptionProrationDate(prorationDate)\n        .build();\n</code></pre>\n<p>The resulting invoice has the following properties:</p>\n<ul>\n<li>amountPaid: 0</li>\n<li>amountDue: 9999</li>\n<li>amountRemaining: 9999</li>\n<li>subTotal: 9999</li>\n</ul>\n<p>...and the following invoice lines (ids have been obfuscated):</p>\n<pre><code>{\n    &quot;data&quot;: [\n        {\n            &quot;amount&quot;: -3000,\n            &quot;currency&quot;: &quot;eur&quot;,\n            &quot;description&quot;: &quot;Unused time on xxxxx after 09 Jan 2021&quot;,\n            &quot;discount_amounts&quot;: [],\n            &quot;discountable&quot;: false,\n            &quot;discounts&quot;: [],\n            &quot;id&quot;: &quot;---&quot;,\n            &quot;invoice_item&quot;: &quot;---&quot;,\n            &quot;livemode&quot;: false,\n            &quot;metadata&quot;: {},\n            &quot;object&quot;: &quot;line_item&quot;,\n            &quot;period&quot;: {\n                &quot;end&quot;: 1641756061,\n                &quot;start&quot;: 1610222989\n            },\n            &quot;plan&quot;: {\n                &quot;active&quot;: true,\n                &quot;aggregate_usage&quot;: null,\n                &quot;amount&quot;: 3000,\n                &quot;amount_decimal&quot;: 3000,\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\n                &quot;created&quot;: 1598220277,\n                &quot;currency&quot;: &quot;eur&quot;,\n                &quot;deleted&quot;: null,\n                &quot;id&quot;: &quot;---&quot;,\n                &quot;interval&quot;: &quot;year&quot;,\n                &quot;interval_count&quot;: 1,\n                &quot;livemode&quot;: false,\n                &quot;metadata&quot;: {},\n                &quot;nickname&quot;: null,\n                &quot;object&quot;: &quot;plan&quot;,\n                &quot;product&quot;: &quot;---&quot;,\n                &quot;tiers&quot;: null,\n                &quot;tiers_mode&quot;: null,\n                &quot;transform_usage&quot;: null,\n                &quot;trial_period_days&quot;: null,\n                &quot;usage_type&quot;: &quot;licensed&quot;\n            },\n            &quot;price&quot;: {\n                &quot;active&quot;: true,\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\n                &quot;created&quot;: 1598220277,\n                &quot;currency&quot;: &quot;eur&quot;,\n                &quot;deleted&quot;: null,\n                &quot;id&quot;: &quot;---&quot;,\n                &quot;livemode&quot;: false,\n                &quot;lookup_key&quot;: null,\n                &quot;metadata&quot;: {},\n                &quot;nickname&quot;: null,\n                &quot;object&quot;: &quot;price&quot;,\n                &quot;product&quot;: &quot;---&quot;,\n                &quot;recurring&quot;: {\n                    &quot;aggregate_usage&quot;: null,\n                    &quot;interval&quot;: &quot;year&quot;,\n                    &quot;interval_count&quot;: 1,\n                    &quot;trial_period_days&quot;: null,\n                    &quot;usage_type&quot;: &quot;licensed&quot;\n                },\n                &quot;tiers&quot;: null,\n                &quot;tiers_mode&quot;: null,\n                &quot;transform_quantity&quot;: null,\n                &quot;type&quot;: &quot;recurring&quot;,\n                &quot;unit_amount&quot;: 3000,\n                &quot;unit_amount_decimal&quot;: 3000\n            },\n            &quot;proration&quot;: true,\n            &quot;quantity&quot;: 1,\n            &quot;subscription&quot;: &quot;---&quot;,\n            &quot;subscription_item&quot;: &quot;---&quot;,\n            &quot;tax_amounts&quot;: [],\n            &quot;tax_rates&quot;: [],\n            &quot;type&quot;: &quot;invoiceitem&quot;,\n            &quot;unified_proration&quot;: null\n        },\n        {\n            &quot;amount&quot;: 6499,\n            &quot;currency&quot;: &quot;eur&quot;,\n            &quot;description&quot;: &quot;Remaining time on xxxx after 09 Jan 2021&quot;,\n            &quot;discount_amounts&quot;: [],\n            &quot;discountable&quot;: false,\n            &quot;discounts&quot;: [],\n            &quot;id&quot;: &quot;---&quot;,\n            &quot;invoice_item&quot;: &quot;---&quot;,\n            &quot;livemode&quot;: false,\n            &quot;metadata&quot;: {},\n            &quot;object&quot;: &quot;line_item&quot;,\n            &quot;period&quot;: {\n                &quot;end&quot;: 1641756061,\n                &quot;start&quot;: 1610222989\n            },\n            &quot;plan&quot;: {\n                &quot;active&quot;: true,\n                &quot;aggregate_usage&quot;: null,\n                &quot;amount&quot;: 6500,\n                &quot;amount_decimal&quot;: 6500,\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\n                &quot;created&quot;: 1598220248,\n                &quot;currency&quot;: &quot;eur&quot;,\n                &quot;deleted&quot;: null,\n                &quot;id&quot;: &quot;---&quot;,\n                &quot;interval&quot;: &quot;year&quot;,\n                &quot;interval_count&quot;: 1,\n                &quot;livemode&quot;: false,\n                &quot;metadata&quot;: {},\n                &quot;nickname&quot;: null,\n                &quot;object&quot;: &quot;plan&quot;,\n                &quot;product&quot;: &quot;---&quot;,\n                &quot;tiers&quot;: null,\n                &quot;tiers_mode&quot;: null,\n                &quot;transform_usage&quot;: null,\n                &quot;trial_period_days&quot;: null,\n                &quot;usage_type&quot;: &quot;licensed&quot;\n            },\n            &quot;price&quot;: {\n                &quot;active&quot;: true,\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\n                &quot;created&quot;: 1598220248,\n                &quot;currency&quot;: &quot;eur&quot;,\n                &quot;deleted&quot;: null,\n                &quot;id&quot;: &quot;---&quot;,\n                &quot;livemode&quot;: false,\n                &quot;lookup_key&quot;: null,\n                &quot;metadata&quot;: {},\n                &quot;nickname&quot;: null,\n                &quot;object&quot;: &quot;price&quot;,\n                &quot;product&quot;: &quot;---&quot;,\n                &quot;recurring&quot;: {\n                    &quot;aggregate_usage&quot;: null,\n                    &quot;interval&quot;: &quot;year&quot;,\n                    &quot;interval_count&quot;: 1,\n                    &quot;trial_period_days&quot;: null,\n                    &quot;usage_type&quot;: &quot;licensed&quot;\n                },\n                &quot;tiers&quot;: null,\n                &quot;tiers_mode&quot;: null,\n                &quot;transform_quantity&quot;: null,\n                &quot;type&quot;: &quot;recurring&quot;,\n                &quot;unit_amount&quot;: 6500,\n                &quot;unit_amount_decimal&quot;: 6500\n            },\n            &quot;proration&quot;: true,\n            &quot;quantity&quot;: 1,\n            &quot;subscription&quot;: &quot;---&quot;,\n            &quot;subscription_item&quot;: &quot;---&quot;,\n            &quot;tax_amounts&quot;: [],\n            &quot;tax_rates&quot;: [],\n            &quot;type&quot;: &quot;invoiceitem&quot;,\n            &quot;unified_proration&quot;: null\n        },\n        {\n            &quot;amount&quot;: 6500,\n            &quot;currency&quot;: &quot;eur&quot;,\n            &quot;description&quot;: &quot;1 × xxxx (at €65.00 / year)&quot;,\n            &quot;discount_amounts&quot;: [],\n            &quot;discountable&quot;: true,\n            &quot;discounts&quot;: [],\n            &quot;id&quot;: &quot;---&quot;,\n            &quot;invoice_item&quot;: null,\n            &quot;livemode&quot;: false,\n            &quot;metadata&quot;: {},\n            &quot;object&quot;: &quot;line_item&quot;,\n            &quot;period&quot;: {\n                &quot;end&quot;: 1673292061,\n                &quot;start&quot;: 1641756061\n            },\n            &quot;plan&quot;: {\n                &quot;active&quot;: true,\n                &quot;aggregate_usage&quot;: null,\n                &quot;amount&quot;: 6500,\n                &quot;amount_decimal&quot;: 6500,\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\n                &quot;created&quot;: 1598220248,\n                &quot;currency&quot;: &quot;eur&quot;,\n                &quot;deleted&quot;: null,\n                &quot;id&quot;: &quot;---&quot;,\n                &quot;interval&quot;: &quot;year&quot;,\n                &quot;interval_count&quot;: 1,\n                &quot;livemode&quot;: false,\n                &quot;metadata&quot;: {},\n                &quot;nickname&quot;: null,\n                &quot;object&quot;: &quot;plan&quot;,\n                &quot;product&quot;: &quot;---&quot;,\n                &quot;tiers&quot;: null,\n                &quot;tiers_mode&quot;: null,\n                &quot;transform_usage&quot;: null,\n                &quot;trial_period_days&quot;: null,\n                &quot;usage_type&quot;: &quot;licensed&quot;\n            },\n            &quot;price&quot;: {\n                &quot;active&quot;: true,\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\n                &quot;created&quot;: 1598220248,\n                &quot;currency&quot;: &quot;eur&quot;,\n                &quot;deleted&quot;: null,\n                &quot;id&quot;: &quot;---&quot;,\n                &quot;livemode&quot;: false,\n                &quot;lookup_key&quot;: null,\n                &quot;metadata&quot;: {},\n                &quot;nickname&quot;: null,\n                &quot;object&quot;: &quot;price&quot;,\n                &quot;product&quot;: &quot;---&quot;,\n                &quot;recurring&quot;: {\n                    &quot;aggregate_usage&quot;: null,\n                    &quot;interval&quot;: &quot;year&quot;,\n                    &quot;interval_count&quot;: 1,\n                    &quot;trial_period_days&quot;: null,\n                    &quot;usage_type&quot;: &quot;licensed&quot;\n                },\n                &quot;tiers&quot;: null,\n                &quot;tiers_mode&quot;: null,\n                &quot;transform_quantity&quot;: null,\n                &quot;type&quot;: &quot;recurring&quot;,\n                &quot;unit_amount&quot;: 6500,\n                &quot;unit_amount_decimal&quot;: 6500\n            },\n            &quot;proration&quot;: false,\n            &quot;quantity&quot;: 1,\n            &quot;subscription&quot;: &quot;---&quot;,\n            &quot;subscription_item&quot;: &quot;---&quot;,\n            &quot;tax_amounts&quot;: [],\n            &quot;tax_rates&quot;: [],\n            &quot;type&quot;: &quot;subscription&quot;,\n            &quot;unified_proration&quot;: null\n        }\n    ],\n    &quot;has_more&quot;: false,\n    &quot;object&quot;: &quot;list&quot;,\n    &quot;request_options&quot;: null,\n    &quot;request_params&quot;: null,\n    &quot;url&quot;: &quot;---&quot;\n}\n</code></pre>\n<p>In short the invoice lines contain the following:</p>\n<ul>\n<li>Unused time on xxxxx after 09 Jan 2021: -3000</li>\n<li>Remaining time on xxxxx after 09 Jan 2021: 6499</li>\n<li>1 × xxxxx (at €65.00 / year): 6500</li>\n</ul>\n<h2>Issue 1</h2>\n<p><strong>I believe this to be wrong</strong>. According to the documentation <a href=\"https://stripe.com/docs/billing/subscriptions/prorations\" rel=\"nofollow noreferrer\">here</a> the charge should be: <em>64.99 - 30 = 34.99 euros</em></p>\n<p>Now if I <strong>go through</strong> with the actual subscription update the invoice that Stripe generates is indeed for 34.99 euros. So there seems to be something wrong with either how I call the upcoming invoice API or what it returns.</p>\n<p>What am I missing? Am I supposed to deduct the price of the subscription from the <em>amountDue</em> myself?</p>\n"},{"tags":["java","timezone"],"answers":[{"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1320077938,"creation_date":1320076888,"answer_id":7956252,"question_id":7956044,"body_markdown":"In one of my JREs, there&#39;s a file in `JRE_PATH\\lib\\zi` named `ZoneInfoMappings`. In the first line it displays the data you are looking for.\r\n\r\nI&#39;m going to search for a less hackish way, will update answer if I find something.\r\n\r\nUPDATE:\r\nSeems that there&#39;s no API to get this data. However, the code in the class `sun.util.calendar.ZoneInfoFile` shows how to parse it.","title":"Java - find tzdata version in use regardless of JRE version","body":"<p>In one of my JREs, there's a file in <code>JRE_PATH\\lib\\zi</code> named <code>ZoneInfoMappings</code>. In the first line it displays the data you are looking for.</p>\n\n<p>I'm going to search for a less hackish way, will update answer if I find something.</p>\n\n<p>UPDATE:\nSeems that there's no API to get this data. However, the code in the class <code>sun.util.calendar.ZoneInfoFile</code> shows how to parse it.</p>\n"},{"tags":[],"owner":{"account_id":51988,"reputation":569,"user_id":155341,"accept_rate":29,"display_name":"Jim P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360876998,"creation_date":1360876998,"answer_id":14884295,"question_id":7956044,"body_markdown":"Here&#39;s a hackish thing that worked for me in both IBM and Oracle JREs:\r\n\r\n    public static void main(String args[]) throws Exception {\r\n        File f = new File(System.getProperty(&quot;java.home&quot;) + File.separator + &quot;lib&quot; + File.separator + &quot;zi&quot; + File.separator + &quot;ZoneInfoMappings&quot;);\r\n        if (f.exists()) {\r\n            FileInputStream fis = new FileInputStream(f);\r\n            byte[] buf = new byte[11];\r\n            try {\r\n                fis.skip(11);\r\n                fis.read(buf);\r\n                System.out.print(&quot;Olson Database version is &quot;);\r\n                System.out.println(new String(buf));\r\n            } finally {\r\n                fis.close();\r\n            }\r\n        }       \r\n    }\r\n      \r\nMy jdk1.6.0_29 jre says tzdata2012i, and my websphere7 JDK says tzdata2011g\r\n\r\nYou can google those to see whether your JDK is updated, and which zones have what tz changes.    \r\n","title":"Java - find tzdata version in use regardless of JRE version","body":"<p>Here's a hackish thing that worked for me in both IBM and Oracle JREs:</p>\n\n<pre><code>public static void main(String args[]) throws Exception {\n    File f = new File(System.getProperty(\"java.home\") + File.separator + \"lib\" + File.separator + \"zi\" + File.separator + \"ZoneInfoMappings\");\n    if (f.exists()) {\n        FileInputStream fis = new FileInputStream(f);\n        byte[] buf = new byte[11];\n        try {\n            fis.skip(11);\n            fis.read(buf);\n            System.out.print(\"Olson Database version is \");\n            System.out.println(new String(buf));\n        } finally {\n            fis.close();\n        }\n    }       \n}\n</code></pre>\n\n<p>My jdk1.6.0_29 jre says tzdata2012i, and my websphere7 JDK says tzdata2011g</p>\n\n<p>You can google those to see whether your JDK is updated, and which zones have what tz changes.    </p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1580511343,"creation_date":1484966661,"answer_id":41775223,"question_id":7956044,"body_markdown":"# `ZoneRulesProvider.getVersions`\r\n\r\nIn Java 8, you can use [`ZoneRulesProvider.getVersions(&quot;UTC&quot;)`][1]:\r\n\r\n &gt; The exact meaning and format of the version is provider specific. The version must follow lexicographical order, thus the returned map will be order from the oldest known rules to the newest available rules. The default &#39;TZDB&#39; group uses version numbering consisting of the year followed by a letter, such as &#39;2009e&#39; or &#39;2012f&#39;.\r\n\r\nExample:\r\n\r\n\tSystem.out.println(\r\n        java.time.zone.ZoneRulesProvider\r\n                      .getVersions(&quot;UTC&quot;)\r\n                      .lastEntry()\r\n                      .getKey()\r\n    );\r\n\r\nIn my Oracle Java 8u91, I get:\r\n\r\n`2016a`\r\n\r\nSee this [code run live at IdeOne.com][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/zone/ZoneRulesProvider.html#getVersions-java.lang.String-\r\n  [2]: https://ideone.com/r8AqCw","title":"Java - find tzdata version in use regardless of JRE version","body":"<h1><code>ZoneRulesProvider.getVersions</code></h1>\n\n<p>In Java 8, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/zone/ZoneRulesProvider.html#getVersions-java.lang.String-\" rel=\"noreferrer\"><code>ZoneRulesProvider.getVersions(\"UTC\")</code></a>:</p>\n\n<blockquote>\n  <p>The exact meaning and format of the version is provider specific. The version must follow lexicographical order, thus the returned map will be order from the oldest known rules to the newest available rules. The default 'TZDB' group uses version numbering consisting of the year followed by a letter, such as '2009e' or '2012f'.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>System.out.println(\n    java.time.zone.ZoneRulesProvider\n                  .getVersions(\"UTC\")\n                  .lastEntry()\n                  .getKey()\n);\n</code></pre>\n\n<p>In my Oracle Java 8u91, I get:</p>\n\n<p><code>2016a</code></p>\n\n<p>See this <a href=\"https://ideone.com/r8AqCw\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n"},{"tags":[],"owner":{"account_id":3140348,"reputation":2256,"user_id":2655914,"accept_rate":43,"display_name":"Muralidharan.rade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495559456,"creation_date":1495559456,"answer_id":44141098,"question_id":7956044,"body_markdown":"In windows, use\r\n\r\n    findstr tzdata &lt;java-home&gt;\\lib\\zi\\ZoneInfoMappings\r\n\r\nThe following reference and link was useful for complete understanding of the tzdata in JRE. \r\n\r\nhttp://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\r\n\r\nTo determine TZData in other platforms, please refer\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/time-zone001.html\r\n","title":"Java - find tzdata version in use regardless of JRE version","body":"<p>In windows, use</p>\n\n<pre><code>findstr tzdata &lt;java-home&gt;\\lib\\zi\\ZoneInfoMappings\n</code></pre>\n\n<p>The following reference and link was useful for complete understanding of the tzdata in JRE. </p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html</a></p>\n\n<p>To determine TZData in other platforms, please refer\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/time-zone001.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/time-zone001.html</a></p>\n"},{"tags":[],"owner":{"account_id":4973669,"reputation":23,"user_id":4013042,"display_name":"Bob Wojack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628699376,"creation_date":1628699376,"answer_id":68745780,"question_id":7956044,"body_markdown":"The upvoted solution works, but instead of writing and executing code, one can also ask the TZ Updater tool itself for each installed JRE:\r\n\r\n    &lt;PATH to JRE bin dir&gt;/java -jar tzupdater.jar -V\r\n\r\nSample Output:\r\n\r\n    tzupdater version 2.3.2-b02\r\n    JRE tzdata version: tzdata2018g\r\n    tzupdater tool would update with tzdata version: tzdata2021a\r\n\r\n","title":"Java - find tzdata version in use regardless of JRE version","body":"<p>The upvoted solution works, but instead of writing and executing code, one can also ask the TZ Updater tool itself for each installed JRE:</p>\n<pre><code>&lt;PATH to JRE bin dir&gt;/java -jar tzupdater.jar -V\n</code></pre>\n<p>Sample Output:</p>\n<pre><code>tzupdater version 2.3.2-b02\nJRE tzdata version: tzdata2018g\ntzupdater tool would update with tzdata version: tzdata2021a\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10171463,"reputation":71,"user_id":7511632,"display_name":"kkid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641092090,"creation_date":1640764807,"answer_id":70516639,"question_id":7956044,"body_markdown":"If you are using Azul JDK, you can find this information here: \r\nJAVA_HOME/jre/lib/tzdb.dat\r\n\r\nExample (Linux):\r\n\r\n```\r\n$ stings tzdb.dat | grep -i &quot;America/Sao_Paulo&quot;\r\nAmerica/Sao_Paulo\r\n```\r\n","title":"Java - find tzdata version in use regardless of JRE version","body":"<p>If you are using Azul JDK, you can find this information here:\nJAVA_HOME/jre/lib/tzdb.dat</p>\n<p>Example (Linux):</p>\n<pre><code>$ stings tzdb.dat | grep -i &quot;America/Sao_Paulo&quot;\nAmerica/Sao_Paulo\n</code></pre>\n"}],"owner":{"account_id":472335,"reputation":4034,"user_id":880767,"accept_rate":100,"display_name":"johnny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13114,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":7956252,"answer_count":6,"score":10,"last_activity_date":1641092090,"creation_date":1320075941,"question_id":7956044,"body_markdown":"We have a simple utility app that reads all the time zone data used in a JRE and displays it all in a simple table. We need to use an older version of the JRE (6_24) for an upcoming product release (due to other issues apparently), but we also need to include newer time zone updates in that release (that would otherwise be included in, say, 6_29). We&#39;re already packaging a private JRE that will be installed, so getting the time zone updates into that private JRE using the [TZUpdater tool](http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html) is not the issue - The issue is reading/verifying which version of the [tzdata](http://www.oracle.com/technetwork/java/javase/tzdata-versions-138805.html) (e.g. tzdata2010o, tzdata2011k) is being read with the utility app (i.e. which version is being used in the JRE the app is running in). The app currently displays the _JRE version_ in the title bar, but with the time zone updates, that&#39;s no longer sufficient to determine which _time zone data_ version is in use.\r\n\r\nI&#39;ve looked into the [TimeZone](http://download.oracle.com/javase/6/docs/api/java/util/TimeZone.html) class, but it doesn&#39;t seem to provide this information - perhaps there is a system property that holds this info? The TZUpdater tool knows which version is being used, so it must be available somewhere - I can&#39;t imagine they would analytically determine which version is in use in the update tool... Anybody know where to locate this info?","title":"Java - find tzdata version in use regardless of JRE version","body":"<p>We have a simple utility app that reads all the time zone data used in a JRE and displays it all in a simple table. We need to use an older version of the JRE (6_24) for an upcoming product release (due to other issues apparently), but we also need to include newer time zone updates in that release (that would otherwise be included in, say, 6_29). We're already packaging a private JRE that will be installed, so getting the time zone updates into that private JRE using the <a href=\"http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\" rel=\"noreferrer\">TZUpdater tool</a> is not the issue - The issue is reading/verifying which version of the <a href=\"http://www.oracle.com/technetwork/java/javase/tzdata-versions-138805.html\" rel=\"noreferrer\">tzdata</a> (e.g. tzdata2010o, tzdata2011k) is being read with the utility app (i.e. which version is being used in the JRE the app is running in). The app currently displays the <em>JRE version</em> in the title bar, but with the time zone updates, that's no longer sufficient to determine which <em>time zone data</em> version is in use.</p>\n\n<p>I've looked into the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/TimeZone.html\" rel=\"noreferrer\">TimeZone</a> class, but it doesn't seem to provide this information - perhaps there is a system property that holds this info? The TZUpdater tool knows which version is being used, so it must be available somewhere - I can't imagine they would analytically determine which version is in use in the update tool... Anybody know where to locate this info?</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":7097254,"reputation":4695,"user_id":5430306,"display_name":"Rafsanjani"},"score":0,"creation_date":1641090328,"post_id":70553159,"comment_id":124718689,"body_markdown":"What version of room and android gradle plugin do you have","body":"What version of room and android gradle plugin do you have"},{"owner":{"account_id":9513597,"reputation":101,"user_id":7070758,"display_name":"Austin Weaver"},"score":0,"creation_date":1641090629,"post_id":70553159,"comment_id":124718722,"body_markdown":"@Rafsanjani from that build.gradle file, Room version 2.4.0, unless you&#39;re asking about something else. Where would I find the android gradle plugin version?","body":"@Rafsanjani from that build.gradle file, Room version 2.4.0, unless you&#39;re asking about something else. Where would I find the android gradle plugin version?"}],"owner":{"account_id":9513597,"reputation":101,"user_id":7070758,"display_name":"Austin Weaver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641091345,"creation_date":1641089336,"question_id":70553159,"body_markdown":"I&#39;m in the process of converting my android app from using simple file IO to using a proper database, so I&#39;ve been going through the tutorials for Android Jetpack&#39;s Room. I&#39;m having problems  trying to specify the room.schemaLocation argument. My build.gradle file looks like this:\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n    buildToolsVersion &quot;29.0.2&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.austinweaver.myapp&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 31\r\n        multiDexEnabled true\r\n        versionCode 13\r\n        versionName &quot;2.4.2&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n*       javaCompileOptions {\r\n*           annotationProcessorOptions {\r\n*               arguments += [&quot;room.schemaLocation&quot;: &quot;$projectDir/schemas&quot;.toString()]\r\n*           }\r\n*       }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.preference:preference:1.1.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:20.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:20.5.0&#39;\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    implementation (&#39;io.socket:socket.io-client:2.0.0&#39;) {\r\n        exclude group: &#39;org.json&#39;, module: &#39;json&#39;\r\n    }\r\n    implementation &quot;androidx.room:room-runtime:2.4.0&quot;\r\n    annotationProcessor &quot;androidx.room:room-compiler:2.4.0&quot;\r\n    androidTestImplementation &quot;androidx.room:room-testing:2.4.0&quot;\r\n}\r\n```\r\n\r\nThe block marked with the *s is the issue: without it, my app runs fine but tells me to specify the room.schemaLocation. With that block, the gradle sync works but then the app build fails with the following message:\r\n\r\n```\r\nUnable to find method &#39;java.nio.file.Path.of(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;&#39;\r\njava.nio.file.Path.of(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;\r\n\r\nGradle&#39;s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\r\n\r\nRe-download dependencies and sync project (requires network)\r\nThe state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\r\n\r\nStop Gradle build processes (requires restart)\r\nYour project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\r\n\r\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.\r\n```\r\n\r\nI&#39;ve tried restarting Android Studio and tried some scattered solutions I found by trying to google the error message, but all the relevant things I found were deprecated or didn&#39;t work.\r\n\r\nLet me know if there&#39;s any information I should have included here, because I&#39;m not sure what else in my project even relates to this. Thanks for any help!\r\n\r\nEdit: my project-level build.gradle:\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.3&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```","title":"Problem Specifying Jetpack Room Schema Location","body":"<p>I'm in the process of converting my android app from using simple file IO to using a proper database, so I've been going through the tutorials for Android Jetpack's Room. I'm having problems  trying to specify the room.schemaLocation argument. My build.gradle file looks like this:</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion &quot;29.0.2&quot;\n    defaultConfig {\n        applicationId &quot;com.austinweaver.myapp&quot;\n        minSdkVersion 16\n        targetSdkVersion 31\n        multiDexEnabled true\n        versionCode 13\n        versionName &quot;2.4.2&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n*       javaCompileOptions {\n*           annotationProcessorOptions {\n*               arguments += [&quot;room.schemaLocation&quot;: &quot;$projectDir/schemas&quot;.toString()]\n*           }\n*       }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.preference:preference:1.1.1'\n    implementation 'com.google.android.gms:play-services-auth:20.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation 'com.google.android.gms:play-services-ads:20.5.0'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation ('io.socket:socket.io-client:2.0.0') {\n        exclude group: 'org.json', module: 'json'\n    }\n    implementation &quot;androidx.room:room-runtime:2.4.0&quot;\n    annotationProcessor &quot;androidx.room:room-compiler:2.4.0&quot;\n    androidTestImplementation &quot;androidx.room:room-testing:2.4.0&quot;\n}\n</code></pre>\n<p>The block marked with the *s is the issue: without it, my app runs fine but tells me to specify the room.schemaLocation. With that block, the gradle sync works but then the app build fails with the following message:</p>\n<pre><code>Unable to find method 'java.nio.file.Path.of(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;'\njava.nio.file.Path.of(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;\n\nGradle's dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\n\nRe-download dependencies and sync project (requires network)\nThe state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\n\nStop Gradle build processes (requires restart)\nYour project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\n\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.\n</code></pre>\n<p>I've tried restarting Android Studio and tried some scattered solutions I found by trying to google the error message, but all the relevant things I found were deprecated or didn't work.</p>\n<p>Let me know if there's any information I should have included here, because I'm not sure what else in my project even relates to this. Thanks for any help!</p>\n<p>Edit: my project-level build.gradle:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.3'\n        classpath 'com.google.gms:google-services:4.3.10'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n"},{"tags":["java","mysql","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641090758,"creation_date":1641090758,"answer_id":70553243,"question_id":70552935,"body_markdown":"Security Warning: Do not allow the Internet to access Cloud SQL.\r\n\r\nYour question states **without a need for Authorized networks**. If that is a requirement, then you must implement a server to proxy requests for Cloud SQL. That server will need to use the Cloud SQL Auth Proxy or have access via private IP.\r\n\r\n[About the Cloud SQL Auth proxy][1]\r\n\r\nTo allow public Internet access, use the address range **0.0.0.0/0**. This means adding that value as an authorized network. \r\n\r\n[Authorizing with authorized networks][2]\r\n\r\nYou can also use the CLI:\r\n\r\n    gcloud sql instances patch INSTANCE --authorized-networks=0.0.0.0/0\r\n\r\n[gcloud sql instances patch][3]\r\n\r\n\r\n  [1]: https://cloud.google.com/sql/docs/mysql/sql-proxy\r\n  [2]: https://cloud.google.com/sql/docs/mysql/authorize-networks\r\n  [3]: https://cloud.google.com/sdk/gcloud/reference/sql/instances/patch#--authorized-networks","title":"access to database without a need for Authorized networks in cloud sql","body":"<p>Security Warning: Do not allow the Internet to access Cloud SQL.</p>\n<p>Your question states <strong>without a need for Authorized networks</strong>. If that is a requirement, then you must implement a server to proxy requests for Cloud SQL. That server will need to use the Cloud SQL Auth Proxy or have access via private IP.</p>\n<p><a href=\"https://cloud.google.com/sql/docs/mysql/sql-proxy\" rel=\"nofollow noreferrer\">About the Cloud SQL Auth proxy</a></p>\n<p>To allow public Internet access, use the address range <strong>0.0.0.0/0</strong>. This means adding that value as an authorized network.</p>\n<p><a href=\"https://cloud.google.com/sql/docs/mysql/authorize-networks\" rel=\"nofollow noreferrer\">Authorizing with authorized networks</a></p>\n<p>You can also use the CLI:</p>\n<pre><code>gcloud sql instances patch INSTANCE --authorized-networks=0.0.0.0/0\n</code></pre>\n<p><a href=\"https://cloud.google.com/sdk/gcloud/reference/sql/instances/patch#--authorized-networks\" rel=\"nofollow noreferrer\">gcloud sql instances patch</a></p>\n"}],"owner":{"account_id":20523307,"reputation":1,"user_id":16133159,"display_name":"GAMEOVER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641090758,"creation_date":1641084926,"question_id":70552935,"body_markdown":"i made a java application that anybody can use it from different location, i want to every user to have the access to the database in the cloud sql , my question is how can i access to the database  without a need for Authorized networks ","title":"access to database without a need for Authorized networks in cloud sql","body":"<p>i made a java application that anybody can use it from different location, i want to every user to have the access to the database in the cloud sql , my question is how can i access to the database  without a need for Authorized networks</p>\n"},{"tags":["java","logging","log4j2","pci-compliance"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1641090330,"post_id":70553186,"comment_id":124718690,"body_markdown":"The best plan is to mask the data *before* you create the log entry.  For example, if the above is the result of calling `toString()` on an object, change the `toString()` method, or create the log message in a way that doesn&#39;t call `toString()`.","body":"The best plan is to mask the data <i>before</i> you create the log entry.  For example, if the above is the result of calling <code>toString()</code> on an object, change the <code>toString()</code> method, or create the log message in a way that doesn&#39;t call <code>toString()</code>."}],"owner":{"account_id":7365374,"reputation":21,"user_id":5607228,"display_name":"Sachin Pardeshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641089684,"creation_date":1641089684,"question_id":70553186,"body_markdown":"I want to mask track data , card data and etc , my pattern of logging is as follows \r\nplain text  : userID=1234|trackData=789654asdas|pin=897|userName=445566\r\nMasked text : userID=1234|trackData=|pin=|userName=445566\r\n\r\ni don&#39;t want to print this data which is sensitive , \r\nis there any way to do so ,\r\nalso i am not using spring boot or spring mvc architecture , this is normal rest api&#39;s.","title":"Masking Card Data Using log4j2","body":"<p>I want to mask track data , card data and etc , my pattern of logging is as follows\nplain text  : userID=1234|trackData=789654asdas|pin=897|userName=445566\nMasked text : userID=1234|trackData=|pin=|userName=445566</p>\n<p>i don't want to print this data which is sensitive ,\nis there any way to do so ,\nalso i am not using spring boot or spring mvc architecture , this is normal rest api's.</p>\n"},{"tags":["java","android-studio","android-fragments","onclicklistener","android-cardview"],"owner":{"account_id":22774850,"reputation":37,"user_id":16931704,"display_name":"Chief Simz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641087848,"creation_date":1641087848,"question_id":70553078,"body_markdown":"I have multiple card views in my Main Fragment that go to different fragments within the app usin  onClickListener functionality. \r\n\r\nHowever, when the cardviews are selected the fragment that shows is always the last replaced. \r\n\r\nEx: In main activity all the card views, when selected, show the affirmations fragment. No matter if they have been connected to their proper fragment.\r\n\r\nMainActivity.java\r\n\r\n    @Override\r\n    public void onCardSelected() {\r\n        fragmentManager = getSupportFragmentManager();\r\n        fragmentTransaction = fragmentManager.beginTransaction();\r\n        fragmentTransaction.replace(R.id.container_fragment, new ProfileFragment());\r\n        fragmentTransaction.replace(R.id.container_fragment, new BibleFragment());\r\n        fragmentTransaction.replace(R.id.container_fragment, new ShopFragment());\r\n        fragmentTransaction.replace(R.id.container_fragment, new NotiFragment());\r\n        fragmentTransaction.replace(R.id.container_fragment, new CalFragment());\r\n        fragmentTransaction.replace(R.id.container_fragment, new AffFragment());\r\n        fragmentTransaction.commit();\r\n    }\r\n\r\nMainFragment.java\r\n\r\n    public class MainFragment extends Fragment {\r\n    private onFragmentBtnSelected listener;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\r\n                             @Nullable Bundle savedInstanceState)\r\n    {\r\n       View view = inflater.inflate(R.layout.fragment_main,container,false);\r\n       CardView clickCardProfile = view.findViewById(R.id.cardProfile);\r\n       CardView clickCardBible = view.findViewById(R.id.cardBible);\r\n       CardView clickCardShop = view.findViewById(R.id.cardShop);\r\n       CardView clickCardNoti = view.findViewById(R.id.cardNotifications);\r\n       CardView clickCardCalendar = view.findViewById(R.id.cardCalendar);\r\n       CardView clickCardAffirmations = view.findViewById(R.id.cardAffirmations);\r\n\r\n      /*Button clickme = view.findViewById(R.id.clickHF);\r\n       clickme.setOnClickListener(new View.OnClickListener() {\r\n           @Override\r\n           public void onClick(View v) {\r\n               listener.onBtnSelected();\r\n           }\r\n       });\r\n       return view;*/\r\n       clickCardProfile.setOnClickListener(new View.OnClickListener() {\r\n           @Override\r\n           public void onClick(View v) {\r\n               listener.onCardSelected();\r\n           }\r\n       });\r\n       //return view;\r\n       clickCardBible.setOnClickListener(new View.OnClickListener() {\r\n           @Override\r\n           public void onClick(View v) {\r\n               listener.onCardSelected();\r\n           }\r\n       });\r\n       //return view;\r\n       clickCardShop.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                listener.onCardSelected();\r\n            }\r\n        });\r\n       clickCardNoti.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                listener.onCardSelected();\r\n            }\r\n        });\r\n       clickCardCalendar.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                listener.onCardSelected();\r\n            }\r\n        });\r\n       clickCardAffirmations.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                listener.onCardSelected();\r\n            }\r\n        });\r\n       return view;\r\n    }\r\n    @Override\r\n    public void onAttach(@NonNull Context context){\r\n        super.onAttach(context);\r\n        if(context instanceof onFragmentBtnSelected ){\r\n            listener =(onFragmentBtnSelected) context;\r\n        }\r\n        else {\r\n            throw new ClassCastException(context.toString() + &quot; must implement listiner&quot;);\r\n        }\r\n    }\r\n    public interface onFragmentBtnSelected{\r\n        //public void onBtnSelected();\r\n        public void onCardSelected();\r\n    }\r\n\r\nWould I need to create an interface method for each of the buttons, and separate the respective  replace statements or is there a way to have them all in the same method and switch from fragment to fragment?","title":"How to handle multiple card views / buttons on a fragment","body":"<p>I have multiple card views in my Main Fragment that go to different fragments within the app usin  onClickListener functionality.</p>\n<p>However, when the cardviews are selected the fragment that shows is always the last replaced.</p>\n<p>Ex: In main activity all the card views, when selected, show the affirmations fragment. No matter if they have been connected to their proper fragment.</p>\n<p>MainActivity.java</p>\n<pre><code>@Override\npublic void onCardSelected() {\n    fragmentManager = getSupportFragmentManager();\n    fragmentTransaction = fragmentManager.beginTransaction();\n    fragmentTransaction.replace(R.id.container_fragment, new ProfileFragment());\n    fragmentTransaction.replace(R.id.container_fragment, new BibleFragment());\n    fragmentTransaction.replace(R.id.container_fragment, new ShopFragment());\n    fragmentTransaction.replace(R.id.container_fragment, new NotiFragment());\n    fragmentTransaction.replace(R.id.container_fragment, new CalFragment());\n    fragmentTransaction.replace(R.id.container_fragment, new AffFragment());\n    fragmentTransaction.commit();\n}\n</code></pre>\n<p>MainFragment.java</p>\n<pre><code>public class MainFragment extends Fragment {\nprivate onFragmentBtnSelected listener;\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\n                         @Nullable Bundle savedInstanceState)\n{\n   View view = inflater.inflate(R.layout.fragment_main,container,false);\n   CardView clickCardProfile = view.findViewById(R.id.cardProfile);\n   CardView clickCardBible = view.findViewById(R.id.cardBible);\n   CardView clickCardShop = view.findViewById(R.id.cardShop);\n   CardView clickCardNoti = view.findViewById(R.id.cardNotifications);\n   CardView clickCardCalendar = view.findViewById(R.id.cardCalendar);\n   CardView clickCardAffirmations = view.findViewById(R.id.cardAffirmations);\n\n  /*Button clickme = view.findViewById(R.id.clickHF);\n   clickme.setOnClickListener(new View.OnClickListener() {\n       @Override\n       public void onClick(View v) {\n           listener.onBtnSelected();\n       }\n   });\n   return view;*/\n   clickCardProfile.setOnClickListener(new View.OnClickListener() {\n       @Override\n       public void onClick(View v) {\n           listener.onCardSelected();\n       }\n   });\n   //return view;\n   clickCardBible.setOnClickListener(new View.OnClickListener() {\n       @Override\n       public void onClick(View v) {\n           listener.onCardSelected();\n       }\n   });\n   //return view;\n   clickCardShop.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            listener.onCardSelected();\n        }\n    });\n   clickCardNoti.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            listener.onCardSelected();\n        }\n    });\n   clickCardCalendar.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            listener.onCardSelected();\n        }\n    });\n   clickCardAffirmations.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            listener.onCardSelected();\n        }\n    });\n   return view;\n}\n@Override\npublic void onAttach(@NonNull Context context){\n    super.onAttach(context);\n    if(context instanceof onFragmentBtnSelected ){\n        listener =(onFragmentBtnSelected) context;\n    }\n    else {\n        throw new ClassCastException(context.toString() + &quot; must implement listiner&quot;);\n    }\n}\npublic interface onFragmentBtnSelected{\n    //public void onBtnSelected();\n    public void onCardSelected();\n}\n</code></pre>\n<p>Would I need to create an interface method for each of the buttons, and separate the respective  replace statements or is there a way to have them all in the same method and switch from fragment to fragment?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":10,"creation_date":1345705145,"post_id":12086298,"comment_id":16155914,"body_markdown":"member variables are not polymorphic, only methods are **See Also** - [http://stackoverflow.com/questions/11974428/java-code-snippet-output-explanation-required](http://stackoverflow.com/questions/11974428/java-code-snippet-output-explanation-required)","body":"member variables are not polymorphic, only methods are <b>See Also</b> - <a href=\"http://stackoverflow.com/questions/11974428/java-code-snippet-output-explanation-required\">http://stackoverflow.com/questions/11974428/java-code-snippe&zwnj;&#8203;t-output-explanation&zwnj;&#8203;-required</a>"},{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1345705443,"post_id":12086298,"comment_id":16148566,"body_markdown":"http://stackoverflow.com/questions/12078751/java-variables-shadowed-methods-overridden-concept/12078801#12078801","body":"<a href=\"http://stackoverflow.com/questions/12078751/java-variables-shadowed-methods-overridden-concept/12078801#12078801\" title=\"java variables shadowed methods overridden concept\">stackoverflow.com/questions/12078751/&hellip;</a>"},{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1345705460,"post_id":12086298,"comment_id":16148573,"body_markdown":"possible dup : http://stackoverflow.com/questions/12078751/java-variables-shadowed-methods-overridden-concept","body":"possible dup : <a href=\"http://stackoverflow.com/questions/12078751/java-variables-shadowed-methods-overridden-concept\" title=\"java variables shadowed methods overridden concept\">stackoverflow.com/questions/12078751/&hellip;</a>"},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":3,"creation_date":1345705908,"post_id":12086298,"comment_id":16148719,"body_markdown":"@user1012372 this is an example of *field hiding*, not *overriding*.","body":"@user1012372 this is an example of <i>field hiding</i>, not <i>overriding</i>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1641087670,"creation_date":1345707408,"answer_id":12086862,"question_id":12086298,"body_markdown":"&gt;  Why instance variable of a superclass is not overridden in subclass method see my code below ...\r\n\r\nBecause instance variables CANNOT be overridden in Java.  In Java, only methods can be overridden.  \r\n\r\nWhen you declare a field with the same name as an existing field in a superclass, the new field *hides* the existing field.  The existing field from the superclass is still present in the subclass, and can even be used ... subject to the normal Java access rules.\r\n\r\n(In your example, an instance of `C` has two distinct fields called `a`, containing distinct values.)\r\n\r\n----------------\r\n\r\n&gt; Because instance variables CANNOT be overridden in Java, but why? why is it done in this manner in Java? What&#39;s the reason?\r\n\r\nWhy did they design it that way?  \r\n\r\n 1. Because overriding variables would fundamentally break code in the superclass.  For example, if an override changes the variable&#39;s type, that is likely to change the behavior of methods declared in the parent class that used the original variable.  At worst, it renders them uncompilable.  \r\n\r\n    For example:\r\n\r\n           public class Sup {\r\n               private int foo;\r\n               public int getFoo() {\r\n                   return foo;\r\n               }\r\n           }\r\n    \r\n           public class Sub extends Sup {\r\n               private int[] foo;\r\n               ...\r\n           }\r\n\r\n    If `Sub.foo` overrides (i.e. replaces) `Sup.foo`, how can `getFoo()` work?  In the subclass context, it would be trying to return a value of a field of the wrong type!\r\n\r\n 2. If fields that were overridden were not private, it would be even worse.  That would break the Liskov Substitutability Principle (LSP) in a pretty fundamental way.  That removes the basis for polymorphism.\r\n\r\n 3. On the flipside, overriding fields would not achieve anything that cannot be done *better* in other ways.  For example, a good design declares all instance variables as private and provides getters/setters for them as required.  The getters/setters *can* be overridden, and the parent class can &quot;protect&quot; itself against undesirable overrides by using the private fields directly, or declaring the getters/setters` final`.\r\n\r\n-----------------\r\n\r\nReferences:  \r\n\r\n  - Java Tutorial - [Hiding Fields][1]\r\n  - JLS [Example 8.3.1.1-3 - Hiding of Instance Fields][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/IandI/hidevariables.html\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#d5e10217","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<blockquote>\n<p>Why instance variable of a superclass is not overridden in subclass method see my code below ...</p>\n</blockquote>\n<p>Because instance variables CANNOT be overridden in Java.  In Java, only methods can be overridden.</p>\n<p>When you declare a field with the same name as an existing field in a superclass, the new field <em>hides</em> the existing field.  The existing field from the superclass is still present in the subclass, and can even be used ... subject to the normal Java access rules.</p>\n<p>(In your example, an instance of <code>C</code> has two distinct fields called <code>a</code>, containing distinct values.)</p>\n<hr />\n<blockquote>\n<p>Because instance variables CANNOT be overridden in Java, but why? why is it done in this manner in Java? What's the reason?</p>\n</blockquote>\n<p>Why did they design it that way?</p>\n<ol>\n<li><p>Because overriding variables would fundamentally break code in the superclass.  For example, if an override changes the variable's type, that is likely to change the behavior of methods declared in the parent class that used the original variable.  At worst, it renders them uncompilable.</p>\n<p>For example:</p>\n<pre><code>   public class Sup {\n       private int foo;\n       public int getFoo() {\n           return foo;\n       }\n   }\n\n   public class Sub extends Sup {\n       private int[] foo;\n       ...\n   }\n</code></pre>\n<p>If <code>Sub.foo</code> overrides (i.e. replaces) <code>Sup.foo</code>, how can <code>getFoo()</code> work?  In the subclass context, it would be trying to return a value of a field of the wrong type!</p>\n</li>\n<li><p>If fields that were overridden were not private, it would be even worse.  That would break the Liskov Substitutability Principle (LSP) in a pretty fundamental way.  That removes the basis for polymorphism.</p>\n</li>\n<li><p>On the flipside, overriding fields would not achieve anything that cannot be done <em>better</em> in other ways.  For example, a good design declares all instance variables as private and provides getters/setters for them as required.  The getters/setters <em>can</em> be overridden, and the parent class can &quot;protect&quot; itself against undesirable overrides by using the private fields directly, or declaring the getters/setters<code> final</code>.</p>\n</li>\n</ol>\n<hr />\n<p>References:</p>\n<ul>\n<li>Java Tutorial - <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/hidevariables.html\" rel=\"nofollow noreferrer\">Hiding Fields</a></li>\n<li>JLS <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#d5e10217\" rel=\"nofollow noreferrer\">Example 8.3.1.1-3 - Hiding of Instance Fields</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1482917,"reputation":798,"user_id":1391837,"accept_rate":0,"display_name":"Shree"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1376273314,"creation_date":1376268277,"answer_id":18178166,"question_id":12086298,"body_markdown":"You may refer following section / examples in [Java language specification](http://docs.oracle.com/javase/specs/jls/se7/html/index.html) that explains about the topic.  \r\n\r\n1. Example 8.3.1.1-3. [Hiding of Instance Variables](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#d5e10238)\r\n2. Section 8.4.8. [Inheritance, Overriding, and Hiding](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.8) and related examples\r\n\r\nRest of my post is an additional information for those who are interested in scratching the surface of jvm internals on this subject. We can start by examining the byte codes generated for class A using javap. Following disassembles the byte codes into a human readable text based instructions (mnemonics).\r\n\r\n    javap -c A.class \r\n\r\nWithout getting lost in many details of the entire dis-assembly, we can focus on the lines corresponding to b.print and b.a\r\n\r\n\r\n    9: invokevirtual #4                  // Method B.print:()V\r\n    ...\r\n    ...\r\n    16: getfield      #6                  // Field B.a:I\r\n\r\n\r\nWe can immediately infer that the op codes used for accessing the method and a variable are different. If you are from a C++ school, you could sense that all method calls are virtual by default in java.\r\n\r\nNow let us write another class A1 identical to A, but just has a casting for accessing variable &#39;a&#39; in C. \r\n&gt; public class A1  {  \r\n&gt;  &amp;nbsp;&amp;nbsp;public static void main(String[] args) {  \r\n&gt;  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;B b=new C();  \r\n&gt;  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;b.print(); //casting is irrelevant here because methods are anyway bound at runtime \r\n&gt;  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;System.out.println(((C)b).a);// the casting allows us to access of value of a in C  \r\n&gt;   &amp;nbsp;&amp;nbsp;}  \r\n} &lt;br/&gt;\r\n\r\n\r\nCompile the file and disassemble the class.  \r\n&gt; javap -c A1.class \r\n\r\nYou would notice that dis-assembly now points to C.a instead of B.a  \r\n&gt; 19: getfield      #6                  // Field C.a:I\r\n\r\n\r\nif you want to dig deep into this, here goes additional information:   \r\n- invokevirtual corresponds to opcode 0xb6  \r\n- getfield corresponds to opcode 0xb4\r\n\r\nYou can find a JVM specification that explains comprehensively about these opcodes at  - http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html  \r\nCheck out in amazon.com for &quot;Java Virtual Machine&quot; books that could make life little more easier for decoding the specification.","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>You may refer following section / examples in <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/index.html\" rel=\"noreferrer\">Java language specification</a> that explains about the topic.  </p>\n\n<ol>\n<li>Example 8.3.1.1-3. <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#d5e10238\" rel=\"noreferrer\">Hiding of Instance Variables</a></li>\n<li>Section 8.4.8. <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.8\" rel=\"noreferrer\">Inheritance, Overriding, and Hiding</a> and related examples</li>\n</ol>\n\n<p>Rest of my post is an additional information for those who are interested in scratching the surface of jvm internals on this subject. We can start by examining the byte codes generated for class A using javap. Following disassembles the byte codes into a human readable text based instructions (mnemonics).</p>\n\n<pre><code>javap -c A.class \n</code></pre>\n\n<p>Without getting lost in many details of the entire dis-assembly, we can focus on the lines corresponding to b.print and b.a</p>\n\n<pre><code>9: invokevirtual #4                  // Method B.print:()V\n...\n...\n16: getfield      #6                  // Field B.a:I\n</code></pre>\n\n<p>We can immediately infer that the op codes used for accessing the method and a variable are different. If you are from a C++ school, you could sense that all method calls are virtual by default in java.</p>\n\n<p>Now let us write another class A1 identical to A, but just has a casting for accessing variable 'a' in C. </p>\n\n<blockquote>\n  <p>public class A1  {<br>\n   &nbsp;&nbsp;public static void main(String[] args) {<br>\n   &nbsp;&nbsp;&nbsp;&nbsp;B b=new C();<br>\n   &nbsp;&nbsp;&nbsp;&nbsp;b.print(); //casting is irrelevant here because methods are anyway bound at runtime \n   &nbsp;&nbsp;&nbsp;&nbsp;System.out.println(((C)b).a);// the casting allows us to access of value of a in C<br>\n    &nbsp;&nbsp;}<br>\n  } <br/></p>\n</blockquote>\n\n<p>Compile the file and disassemble the class.  </p>\n\n<blockquote>\n  <p>javap -c A1.class </p>\n</blockquote>\n\n<p>You would notice that dis-assembly now points to C.a instead of B.a  </p>\n\n<blockquote>\n  <p>19: getfield      #6                  // Field C.a:I</p>\n</blockquote>\n\n<p>if you want to dig deep into this, here goes additional information:<br>\n- invokevirtual corresponds to opcode 0xb6<br>\n- getfield corresponds to opcode 0xb4</p>\n\n<p>You can find a JVM specification that explains comprehensively about these opcodes at  - <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html</a><br>\nCheck out in amazon.com for \"Java Virtual Machine\" books that could make life little more easier for decoding the specification.</p>\n"},{"tags":[],"owner":{"account_id":4482535,"reputation":464,"user_id":5161634,"accept_rate":0,"display_name":"Sriharsha g.r.v"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1474198795,"creation_date":1474195974,"answer_id":39556852,"question_id":12086298,"body_markdown":"I have modified your code for easy Explanation ,instead of variable &#39;a&#39; ,lets say the Class C  contains variable &#39;c&#39;.\r\nIts for the same reason why class C cannot access the instance variable of Class c itself without Typecasting.\r\nExample Given below\r\n\r\n    class B\r\n    {\r\n         int a=10;\r\n         public void print()\r\n         {\r\n             System.out.println(&quot;inside B super class&quot;);\r\n         }\r\n    \r\n    }\r\n     class C extends B\r\n     {\r\n         int x=20;\r\n         public void print()\r\n         {\r\n             System.out.println(&quot;inside C sub class&quot;);\r\n         }\r\n    \r\n    \r\n     }\r\n    public class A  {\r\n        public static void main(String[] args) {\r\n            B b=new C();\r\n      \r\n            System.out.println(b.x);//will throw compile error unless b is type casted to Class C\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nSo,in java,the compiler  goes by the reference,not by the instance.\r\nTo get over this compiler uses **Runtime polymorphism**,but it is for the methods,not the instance variables.\r\nSo variables cannot be accessed without type-casting\r\nand\r\nthe methods unless,overridden(Runtime polymoprhism),cannot be accessed without type-casting.\r\n\r\n\r\n\r\nSo,in our case.it is obvious for refrence of Superclass carrying an instance of subclass,to view in the superclass.  ","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>I have modified your code for easy Explanation ,instead of variable 'a' ,lets say the Class C  contains variable 'c'.\nIts for the same reason why class C cannot access the instance variable of Class c itself without Typecasting.\nExample Given below</p>\n\n<pre><code>class B\n{\n     int a=10;\n     public void print()\n     {\n         System.out.println(\"inside B super class\");\n     }\n\n}\n class C extends B\n {\n     int x=20;\n     public void print()\n     {\n         System.out.println(\"inside C sub class\");\n     }\n\n\n }\npublic class A  {\n    public static void main(String[] args) {\n        B b=new C();\n\n        System.out.println(b.x);//will throw compile error unless b is type casted to Class C\n\n    }\n\n}\n</code></pre>\n\n<p>So,in java,the compiler  goes by the reference,not by the instance.\nTo get over this compiler uses <strong>Runtime polymorphism</strong>,but it is for the methods,not the instance variables.\nSo variables cannot be accessed without type-casting\nand\nthe methods unless,overridden(Runtime polymoprhism),cannot be accessed without type-casting.</p>\n\n<p>So,in our case.it is obvious for refrence of Superclass carrying an instance of subclass,to view in the superclass.  </p>\n"},{"tags":[],"owner":{"account_id":4836106,"reputation":562,"user_id":3902762,"accept_rate":50,"display_name":"Varun"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1486844859,"creation_date":1486844859,"answer_id":42180865,"question_id":12086298,"body_markdown":"As instance variables don&#39;t get overridden in java there is no run time polymorphism associated with them and hence at compile time only it is decided by reference.\r\n\r\nIn your code \r\n    \r\n    B b = new C();\r\n    b.print();\r\n\r\n    As b is of type Class B which is Parent to C and hence as there is no \r\n    run time polymorphism it is decided at compile time to call instance \r\n    variable of Class B.\r\n    \r\n\r\n\r\n\r\n    ","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>As instance variables don't get overridden in java there is no run time polymorphism associated with them and hence at compile time only it is decided by reference.</p>\n\n<p>In your code </p>\n\n<pre><code>B b = new C();\nb.print();\n\nAs b is of type Class B which is Parent to C and hence as there is no \nrun time polymorphism it is decided at compile time to call instance \nvariable of Class B.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3483018,"reputation":383,"user_id":2914579,"display_name":"Dheeru Mundluru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501844979,"creation_date":1501844979,"answer_id":45505307,"question_id":12086298,"body_markdown":"Here is my perspective at a design/conceptual level on why instance variables are not overridden. To keep it simple, if we consider abstract classes, they define abstract methods and expect them to be overridden. **There has been never been anything like abstract variables**. If there was, then we could expect language to support it by overriding. So, when an abstract class is being designed, then the designer defines some **common concrete state** and common behavior (including abstract methods) for subtypes. Almost always if state is to be inherited (protected access), then it would be simply inherited and I believe in very few cases some of it could be re-defined, but very rarely re-declared. So, state is naturally being expected to be simply inherited while behavior is being expected to be inherited and overridden.","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>Here is my perspective at a design/conceptual level on why instance variables are not overridden. To keep it simple, if we consider abstract classes, they define abstract methods and expect them to be overridden. <strong>There has been never been anything like abstract variables</strong>. If there was, then we could expect language to support it by overriding. So, when an abstract class is being designed, then the designer defines some <strong>common concrete state</strong> and common behavior (including abstract methods) for subtypes. Almost always if state is to be inherited (protected access), then it would be simply inherited and I believe in very few cases some of it could be re-defined, but very rarely re-declared. So, state is naturally being expected to be simply inherited while behavior is being expected to be inherited and overridden.</p>\n"},{"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1544847757,"creation_date":1541779992,"answer_id":53229414,"question_id":12086298,"body_markdown":"Because variables in Java do not follow polymorphism and overriding is only applicable to methods but not to variables.\n\nIn Java, when the child and parent class both have a variable with the same name, Child class&#39;s variable hides the parent class&#39;s variable, even if their types are different. And this concept is known as **Variable Hiding**.\n\n\nIn the case of method overriding, overriding methods completely replaces the inherited methods but in variable hiding child class hides the inherited variables instead of replacing which basically means is that the object of Child class contains both variables but Child&#39;s variable hides Parent&#39;s variable. so when we try to access the variable within Child class, it will be accessed from the child class.\n\nIf we are trying to access the variable outside of Parent and Child class, then the instance variable is chosen from the reference type.\n\n### Why Instance Variable Is Chosen from Reference Type Instead Of Instance\n\nAs explained in [How Does JVM Handle Method Overloading and Overriding Internally][1],  at compile time overriding method calls are treated from the reference class only but all overridden methods get replaced by the overriding method at the runtime using a vtable and this phenomenon is called **runtime polymorphism**.\n\nSimilarly, at compile time variable access is also treated from the reference type but as we discussed variables do not follow overriding or runtime polymorphism, so they are not replaced by child class variables at the runtime and still refer to the reference type.\n\n### Why Variables do not Follow Overriding Or Why They Follow Hiding\n\n\nBecause variable overriding might break methods inherited from the parent if we change the variable&#39;s type in the child class.\n\nWe know every child class inherits variables and methods (state and behavior) from its parent class. Imagine if Java allows variable overriding and we change the type of a variable from `int` to `Object` in the child class. It will break any method which is using that variable and because the child has inherited those methods from the parent, the compiler will give errors in the child class.\n\nAnd as mentioned, if Java allows variable overriding then Child&#39;s variable cannot substitute Parent&#39;s variable and this would break the Liskov Substitutability Principle (LSP).\n\n\nYou can read more on my articles [What is Variable Shadowing and Hiding in Java][2], [Why Instance Variable Of Super Class Is Not Overridden In Sub Class][3]\n\n\n  [1]: https://programmingmitra.com/2017/05/how-does-jvm-handle-method-overriding-internally.html\n  [2]: https://programmingmitra.com/2018/02/what-is-variable-shadowing-and-hiding.html\n  [3]: https://programmingmitra.com/2018/11/why-instance-variable-of-super-class-is-not-overridden-In-sub-class.html","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>Because variables in Java do not follow polymorphism and overriding is only applicable to methods but not to variables.</p>\n<p>In Java, when the child and parent class both have a variable with the same name, Child class's variable hides the parent class's variable, even if their types are different. And this concept is known as <strong>Variable Hiding</strong>.</p>\n<p>In the case of method overriding, overriding methods completely replaces the inherited methods but in variable hiding child class hides the inherited variables instead of replacing which basically means is that the object of Child class contains both variables but Child's variable hides Parent's variable. so when we try to access the variable within Child class, it will be accessed from the child class.</p>\n<p>If we are trying to access the variable outside of Parent and Child class, then the instance variable is chosen from the reference type.</p>\n<h3>Why Instance Variable Is Chosen from Reference Type Instead Of Instance</h3>\n<p>As explained in <a href=\"https://programmingmitra.com/2017/05/how-does-jvm-handle-method-overriding-internally.html\" rel=\"nofollow noreferrer\">How Does JVM Handle Method Overloading and Overriding Internally</a>,  at compile time overriding method calls are treated from the reference class only but all overridden methods get replaced by the overriding method at the runtime using a vtable and this phenomenon is called <strong>runtime polymorphism</strong>.</p>\n<p>Similarly, at compile time variable access is also treated from the reference type but as we discussed variables do not follow overriding or runtime polymorphism, so they are not replaced by child class variables at the runtime and still refer to the reference type.</p>\n<h3>Why Variables do not Follow Overriding Or Why They Follow Hiding</h3>\n<p>Because variable overriding might break methods inherited from the parent if we change the variable's type in the child class.</p>\n<p>We know every child class inherits variables and methods (state and behavior) from its parent class. Imagine if Java allows variable overriding and we change the type of a variable from <code>int</code> to <code>Object</code> in the child class. It will break any method which is using that variable and because the child has inherited those methods from the parent, the compiler will give errors in the child class.</p>\n<p>And as mentioned, if Java allows variable overriding then Child's variable cannot substitute Parent's variable and this would break the Liskov Substitutability Principle (LSP).</p>\n<p>You can read more on my articles <a href=\"https://programmingmitra.com/2018/02/what-is-variable-shadowing-and-hiding.html\" rel=\"nofollow noreferrer\">What is Variable Shadowing and Hiding in Java</a>, <a href=\"https://programmingmitra.com/2018/11/why-instance-variable-of-super-class-is-not-overridden-In-sub-class.html\" rel=\"nofollow noreferrer\">Why Instance Variable Of Super Class Is Not Overridden In Sub Class</a></p>\n"},{"tags":[],"owner":{"account_id":16013228,"reputation":11,"user_id":11556710,"display_name":"Mathew Klimek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558847429,"creation_date":1558847429,"answer_id":56310818,"question_id":12086298,"body_markdown":"Like others have mentioned, you cannot override a super class&#39;s instance variables, but **you can use constructors to assign the proper values for your objects.** For example, you can use constructors to make the value of &#39;a&#39; equal to &#39;20&#39; in class C. \r\n\r\nThis is your original code that is augmented using constructors to set the value for &#39;a&#39; equal to &#39;20&#39; in class C. \r\n\r\nLong story short, we are using the arguments of an object instance and of a constructors to pass up a value to the superclass. \r\n\r\n\r\n\r\n     public class B {\r\n        \tprivate int a; //initialize int a\r\n        \tpublic int getA() { //create a getter for a\r\n        \t\treturn a;\r\n        \t}\r\n        public B(int size) { //constructor that takes an int\r\n        \t\ta = size; //sets a to the value in the parameters\r\n        \t}\r\n            public void print() {\r\n                System.out.println(&quot;inside B superclass&quot;);\r\n            }\r\n        }\r\n    \r\n    public class C extends B{\r\n    \tpublic C(int a) { //C constructor takes an int\r\n    \t\tsuper(a); //it send the name up to its superclass (B)\r\n    \t}\r\n        public void print() {\r\n            System.out.println(&quot;inside C subclass&quot;);\r\n        }\r\n    }\r\n    \r\n    public class A {\r\n        public static void main(String[] args) {\r\n            B b = new C(20); //Creates a new object &#39;b&#39; of type C\r\n            b.print(); // prints: inside C subclass\r\n            System.out.println(b.getA()); // prints the value &#39;20&#39;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>Like others have mentioned, you cannot override a super class's instance variables, but <strong>you can use constructors to assign the proper values for your objects.</strong> For example, you can use constructors to make the value of 'a' equal to '20' in class C. </p>\n\n<p>This is your original code that is augmented using constructors to set the value for 'a' equal to '20' in class C. </p>\n\n<p>Long story short, we are using the arguments of an object instance and of a constructors to pass up a value to the superclass. </p>\n\n<pre><code> public class B {\n        private int a; //initialize int a\n        public int getA() { //create a getter for a\n            return a;\n        }\n    public B(int size) { //constructor that takes an int\n            a = size; //sets a to the value in the parameters\n        }\n        public void print() {\n            System.out.println(\"inside B superclass\");\n        }\n    }\n\npublic class C extends B{\n    public C(int a) { //C constructor takes an int\n        super(a); //it send the name up to its superclass (B)\n    }\n    public void print() {\n        System.out.println(\"inside C subclass\");\n    }\n}\n\npublic class A {\n    public static void main(String[] args) {\n        B b = new C(20); //Creates a new object 'b' of type C\n        b.print(); // prints: inside C subclass\n        System.out.println(b.getA()); // prints the value '20'\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":996598,"reputation":6067,"user_id":1012372,"accept_rate":49,"display_name":"Jayesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44554,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":12086862,"answer_count":7,"score":45,"last_activity_date":1641087670,"creation_date":1345705027,"question_id":12086298,"body_markdown":"See my code below, in which the method `print` is overridden but variable `a` is not. Why is it allowed to declare duplicate variables in a subclass?\r\n\r\n\tclass B {\r\n\t\tint a = 10;\r\n\t\tpublic void print() {\r\n\t\t\tSystem.out.println(&quot;inside B superclass&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass C extends B {\r\n\t\tint a = 20;\r\n\t\tpublic void print() {\r\n\t\t\tSystem.out.println(&quot;inside C subclass&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic class A {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tB b = new C();\r\n\t\t\tb.print(); // prints: inside C subclass\r\n\t\t\tSystem.out.println(b.a); // prints superclass variable value 10\r\n\t\t}\r\n\t}","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>See my code below, in which the method <code>print</code> is overridden but variable <code>a</code> is not. Why is it allowed to declare duplicate variables in a subclass?</p>\n\n<pre><code>class B {\n    int a = 10;\n    public void print() {\n        System.out.println(\"inside B superclass\");\n    }\n}\n\nclass C extends B {\n    int a = 20;\n    public void print() {\n        System.out.println(\"inside C subclass\");\n    }\n}\n\npublic class A {\n    public static void main(String[] args) {\n        B b = new C();\n        b.print(); // prints: inside C subclass\n        System.out.println(b.a); // prints superclass variable value 10\n    }\n}\n</code></pre>\n"},{"tags":["java","java.util.concurrent","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641086755,"creation_date":1641086108,"answer_id":70552979,"question_id":70549671,"body_markdown":"Your reasoning is based on the assumption that 2 writer-threads could potentially enter the `contendedLock()` method and the second writer would be parked indefinitely by itself which is, of course, impossible as the `putVal`\r\nis [synchronized on the root node](https://github.com/openjdk/jdk11u/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1031) of the tree in question.\r\n\r\nIn fact, the `lockState` is only used to orchestrate readers vs writers through CAS and only if both reader and writer try to access the same RB-tree (i.e. they both operate on a key with identical hash). \r\n\r\nIn that case the writer-thread would park itself once it found `lockState=READER` (and then added the `WAITER` bit to the `lockState` through OR (`s | WAITER`). This value (00000110) will later be used in the `finally` block by the reader to unpark the writer-thread (once it clears the reading state by adding `-READER`, that is -4, and sees the previous value was also 00000110)","title":"Is it possible to get a deadlock with ConcurrentHashMap with two threads lockRoot","body":"<p>Your reasoning is based on the assumption that 2 writer-threads could potentially enter the <code>contendedLock()</code> method and the second writer would be parked indefinitely by itself which is, of course, impossible as the <code>putVal</code>\nis <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1031\" rel=\"nofollow noreferrer\">synchronized on the root node</a> of the tree in question.</p>\n<p>In fact, the <code>lockState</code> is only used to orchestrate readers vs writers through CAS and only if both reader and writer try to access the same RB-tree (i.e. they both operate on a key with identical hash).</p>\n<p>In that case the writer-thread would park itself once it found <code>lockState=READER</code> (and then added the <code>WAITER</code> bit to the <code>lockState</code> through OR (<code>s | WAITER</code>). This value (00000110) will later be used in the <code>finally</code> block by the reader to unpark the writer-thread (once it clears the reading state by adding <code>-READER</code>, that is -4, and sees the previous value was also 00000110)</p>\n"}],"owner":{"account_id":9813199,"reputation":43,"user_id":7270583,"display_name":"Kevin Ni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70552979,"answer_count":1,"score":1,"last_activity_date":1641086755,"creation_date":1641049252,"question_id":70549671,"body_markdown":"if two threads put vals into one tree at same time\r\n\r\n    private final void contendedLock() {\r\n            boolean waiting = false;\r\n            for (int s;;) {\r\n                if (((s = lockState) &amp; ~WAITER) == 0) {\r\n                    if (U.compareAndSwapInt(this, LOCKSTATE, s, WRITER)) {\r\n                        if (waiting)\r\n                            waiter = null;\r\n                        return;\r\n                    }\r\n                }\r\n                else if ((s &amp; WAITER) == 0) {\r\n                    if (U.compareAndSwapInt(this, LOCKSTATE, s, s | WAITER)) {\r\n                        waiting = true;\r\n                        waiter = Thread.currentThread();\r\n                    }\r\n                }\r\n                else if (waiting)\r\n                    LockSupport.park(this);\r\n            }\r\n        }\r\n\r\nThread1:CAS the lockstate to WRITER\r\n\r\nThread2:CAS the lockstate to (WRITER|WAITER)\r\n\r\nThread2:LockSupport.park(this)\r\n\r\nThread1:unlockRoot\r\n\r\n    private final void unlockRoot() {\r\n            lockState = 0;\r\n        }\r\n\r\nthen who can unpark the Thread2?\r\n\r\nthe finally part of find() method need to be done in strict conditions\r\n \r\n\r\n    finally {\r\n                            Thread w;\r\n                            if (U.getAndAddInt(this, LOCKSTATE, -READER) ==\r\n                                (READER|WAITER) &amp;&amp; (w = waiter) != null)\r\n                                LockSupport.unpark(w);\r\n                        }\r\n\r\n\r\ncan somebody tell me if I was thinking wrong?","title":"Is it possible to get a deadlock with ConcurrentHashMap with two threads lockRoot","body":"<p>if two threads put vals into one tree at same time</p>\n<pre><code>private final void contendedLock() {\n        boolean waiting = false;\n        for (int s;;) {\n            if (((s = lockState) &amp; ~WAITER) == 0) {\n                if (U.compareAndSwapInt(this, LOCKSTATE, s, WRITER)) {\n                    if (waiting)\n                        waiter = null;\n                    return;\n                }\n            }\n            else if ((s &amp; WAITER) == 0) {\n                if (U.compareAndSwapInt(this, LOCKSTATE, s, s | WAITER)) {\n                    waiting = true;\n                    waiter = Thread.currentThread();\n                }\n            }\n            else if (waiting)\n                LockSupport.park(this);\n        }\n    }\n</code></pre>\n<p>Thread1:CAS the lockstate to WRITER</p>\n<p>Thread2:CAS the lockstate to (WRITER|WAITER)</p>\n<p>Thread2:LockSupport.park(this)</p>\n<p>Thread1:unlockRoot</p>\n<pre><code>private final void unlockRoot() {\n        lockState = 0;\n    }\n</code></pre>\n<p>then who can unpark the Thread2?</p>\n<p>the finally part of find() method need to be done in strict conditions</p>\n<pre><code>finally {\n                        Thread w;\n                        if (U.getAndAddInt(this, LOCKSTATE, -READER) ==\n                            (READER|WAITER) &amp;&amp; (w = waiter) != null)\n                            LockSupport.unpark(w);\n                    }\n</code></pre>\n<p>can somebody tell me if I was thinking wrong?</p>\n"},{"tags":["java","multithreading","executorservice"],"comments":[{"owner":{"account_id":2075778,"reputation":249,"user_id":1849165,"display_name":"Senthil"},"score":2,"creation_date":1641022036,"post_id":70547255,"comment_id":124708184,"body_markdown":"`ExecutorService` interface extends `Executor` interface. ExecutorService provides few more additional methods for coordination like shutDown and awaitTermination. So it is based on your use case. As a good practice, you can always use `ExecutorService`","body":"<code>ExecutorService</code> interface extends <code>Executor</code> interface. ExecutorService provides few more additional methods for coordination like shutDown and awaitTermination. So it is based on your use case. As a good practice, you can always use <code>ExecutorService</code>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641086124,"creation_date":1641025096,"answer_id":70547671,"question_id":70547255,"body_markdown":"&gt; Q: When would be a scenario when I would use Executor over ExecutorService? \r\n\r\nA: When you **know** that you are never going to use any of the `ExecutorService` methods.\r\n\r\nThere are few situations where you *wouldn&#39;t* need to manage the executor service in some way, there are few applications where you wouldn&#39;t need to manage the service.\r\n\r\n(Hypothetically ... if you were creating your own task execution mechanism that didn&#39;t involve running the tasks in local threads, the management functions of `ExecutorService` might be a poor fit.)\r\n\r\n-----------------\r\n\r\n&gt; Q: Can I use `ExecutorService` everywhere?\r\n\r\nA: Assuming that you instantiated an instance of `ExecutorService`, yes.\r\n\r\n-----------------\r\n\r\n&gt; Q: Is there a way to add an explicit shutdown for an Executor&#39;s execute or what is the general practice around it?\r\n\r\nIf you are asking if you can shut down the entire `Executor`, no there isn&#39;t a way.\r\n\r\n`Executor` service is an interface.  In the general sense, it could be implemented in a way that can&#39;t be shut down at all.  But either way, if you don&#39;t know how the executor is implemented, then you don&#39;t know how to tell it to shut itself down.\r\n\r\n(Sure ... if you know that it is likely to be a `ExecutorService`, then you *could* type cast it to `ExecutorService` and then call `ExecutorService.shutdown()`.)\r\n\r\nOn the other hand, if you are asking if you can cancel a specific task submitted by `Executor.execute`, the answer is also No.\r\n\r\nBut if you use the `ExecutorService.submit` methods, you will get a `Future` for each task.  You *may* be able to use `Future.cancel()` to stop the corresponding task from running or interrupt it if it is currently running.\r\n\r\n","title":"When should I use Executor over ExecutorService","body":"<blockquote>\n<p>Q: When would be a scenario when I would use Executor over ExecutorService?</p>\n</blockquote>\n<p>A: When you <strong>know</strong> that you are never going to use any of the <code>ExecutorService</code> methods.</p>\n<p>There are few situations where you <em>wouldn't</em> need to manage the executor service in some way, there are few applications where you wouldn't need to manage the service.</p>\n<p>(Hypothetically ... if you were creating your own task execution mechanism that didn't involve running the tasks in local threads, the management functions of <code>ExecutorService</code> might be a poor fit.)</p>\n<hr />\n<blockquote>\n<p>Q: Can I use <code>ExecutorService</code> everywhere?</p>\n</blockquote>\n<p>A: Assuming that you instantiated an instance of <code>ExecutorService</code>, yes.</p>\n<hr />\n<blockquote>\n<p>Q: Is there a way to add an explicit shutdown for an Executor's execute or what is the general practice around it?</p>\n</blockquote>\n<p>If you are asking if you can shut down the entire <code>Executor</code>, no there isn't a way.</p>\n<p><code>Executor</code> service is an interface.  In the general sense, it could be implemented in a way that can't be shut down at all.  But either way, if you don't know how the executor is implemented, then you don't know how to tell it to shut itself down.</p>\n<p>(Sure ... if you know that it is likely to be a <code>ExecutorService</code>, then you <em>could</em> type cast it to <code>ExecutorService</code> and then call <code>ExecutorService.shutdown()</code>.)</p>\n<p>On the other hand, if you are asking if you can cancel a specific task submitted by <code>Executor.execute</code>, the answer is also No.</p>\n<p>But if you use the <code>ExecutorService.submit</code> methods, you will get a <code>Future</code> for each task.  You <em>may</em> be able to use <code>Future.cancel()</code> to stop the corresponding task from running or interrupt it if it is currently running.</p>\n"},{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641050744,"creation_date":1641050744,"answer_id":70549801,"question_id":70547255,"body_markdown":"You should use the `ExecutorService` interface to *manage* the executor service.  This interface would normally be used by the object that creates or owns the executor service.\r\n\r\nAn object or method that just needs to execute stuff using an executor that is managed elsewhere should take parameters of type `Executor`.  You can pass an instance of `ExecutorService`, since it implements `Executor`.","title":"When should I use Executor over ExecutorService","body":"<p>You should use the <code>ExecutorService</code> interface to <em>manage</em> the executor service.  This interface would normally be used by the object that creates or owns the executor service.</p>\n<p>An object or method that just needs to execute stuff using an executor that is managed elsewhere should take parameters of type <code>Executor</code>.  You can pass an instance of <code>ExecutorService</code>, since it implements <code>Executor</code>.</p>\n"}],"owner":{"account_id":27641,"reputation":9774,"user_id":73137,"accept_rate":89,"display_name":"SyncMaster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70547671,"answer_count":2,"score":2,"last_activity_date":1641086124,"creation_date":1641018199,"question_id":70547255,"body_markdown":"I am learning multi-threading and I came across [this SO post][1].  \r\n\r\n- [Executor][2] just executes stuff we give it.\r\n\r\n- [ExecutorService][3] adds startup, shutdown, and the ability to wait for and look at the status of jobs we&#39;ve submitted for execution on top of Executor (which it extends).\r\n\r\nI am still trying to wrap my head around the usage of Executor and ExecutorService. \r\n1. When would be a scenario when I would use Executor over ExecutorService? Can I use ExecutorService everywhere?\r\n2. Is there a way to add an explicit `shutdown` for an Executor&#39;s execute or what is the general practice around it? \r\n\r\nThe below code where I use `Executor` doesn&#39;t terminate. Is this the right way to use an Executor or am I missing something here? How can I properly terminate the code? I am aware that Executor doesn&#39;t have a `shutdown`. So is it expected for this program to not terminate?\r\n\r\n```\r\nimport java.util.concurrent.*;\r\n\r\npublic class A {\r\n    public static void main(String[] args) {\r\n        Executor executor = Executors.newFixedThreadPool(3);\r\n        executor.execute(() -&gt;\r\n                System.out.println(&quot;Executor Class: &quot; +\r\n                        Thread.currentThread().getId() + &quot;, Name: &quot; +\r\n                        Thread.currentThread().getName()));\r\n    }\r\n}\r\n\r\n```\r\n\r\nIf I replace the above with `ExecutorService` and add a `shutdown`, the program terminates fine.\r\n\r\n```\r\nimport java.util.concurrent.*;\r\n\r\npublic class A {\r\n    public static void main(String[] args) {\r\n        ExecutorService executor = Executors.newFixedThreadPool(3);\r\n        executor.submit(() -&gt;\r\n                System.out.println(&quot;ExecutorService Class: &quot; +\r\n                        Thread.currentThread().getId() + &quot;, Name: &quot; +\r\n                        Thread.currentThread().getName()));\r\n        executor.shutdown();\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/15052317/whats-the-difference-between-executor-and-executorservice\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executor.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html","title":"When should I use Executor over ExecutorService","body":"<p>I am learning multi-threading and I came across <a href=\"https://stackoverflow.com/questions/15052317/whats-the-difference-between-executor-and-executorservice\">this SO post</a>.</p>\n<ul>\n<li><p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executor.html\" rel=\"nofollow noreferrer\">Executor</a> just executes stuff we give it.</p>\n</li>\n<li><p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a> adds startup, shutdown, and the ability to wait for and look at the status of jobs we've submitted for execution on top of Executor (which it extends).</p>\n</li>\n</ul>\n<p>I am still trying to wrap my head around the usage of Executor and ExecutorService.</p>\n<ol>\n<li>When would be a scenario when I would use Executor over ExecutorService? Can I use ExecutorService everywhere?</li>\n<li>Is there a way to add an explicit <code>shutdown</code> for an Executor's execute or what is the general practice around it?</li>\n</ol>\n<p>The below code where I use <code>Executor</code> doesn't terminate. Is this the right way to use an Executor or am I missing something here? How can I properly terminate the code? I am aware that Executor doesn't have a <code>shutdown</code>. So is it expected for this program to not terminate?</p>\n<pre><code>import java.util.concurrent.*;\n\npublic class A {\n    public static void main(String[] args) {\n        Executor executor = Executors.newFixedThreadPool(3);\n        executor.execute(() -&gt;\n                System.out.println(&quot;Executor Class: &quot; +\n                        Thread.currentThread().getId() + &quot;, Name: &quot; +\n                        Thread.currentThread().getName()));\n    }\n}\n\n</code></pre>\n<p>If I replace the above with <code>ExecutorService</code> and add a <code>shutdown</code>, the program terminates fine.</p>\n<pre><code>import java.util.concurrent.*;\n\npublic class A {\n    public static void main(String[] args) {\n        ExecutorService executor = Executors.newFixedThreadPool(3);\n        executor.submit(() -&gt;\n                System.out.println(&quot;ExecutorService Class: &quot; +\n                        Thread.currentThread().getId() + &quot;, Name: &quot; +\n                        Thread.currentThread().getName()));\n        executor.shutdown();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":6,"creation_date":1641070972,"post_id":70551852,"comment_id":124716064,"body_markdown":"&quot;*`int num = 000000;`*&quot; - That&#39;s the same as `int num = 0;`. Therefore `Integer.toString(num);` will evaluate to `&quot;0&quot;`.","body":"&quot;<i><code>int num = 000000;</code></i>&quot; - That&#39;s the same as <code>int num = 0;</code>. Therefore <code>Integer.toString(num);</code> will evaluate to <code>&quot;0&quot;</code>."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1641071166,"post_id":70551852,"comment_id":124716094,"body_markdown":"Start with a `String`. Or just `int[] numbers = new int[6];` (note that `0` is the default value in an `int[]`).","body":"Start with a <code>String</code>. Or just <code>int[] numbers = new int[6];</code> (note that <code>0</code> is the default value in an <code>int[]</code>)."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1641099073,"post_id":70551852,"comment_id":124719553,"body_markdown":"As in arithmetic, there is only one zero value, no matter how many times you write the character &#39;0&#39;.","body":"As in arithmetic, there is only one zero value, no matter how many times you write the character &#39;0&#39;."}],"answers":[{"tags":[],"owner":{"account_id":15591203,"reputation":66,"user_id":11248197,"display_name":"ErayZaxy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641072462,"creation_date":1641072087,"answer_id":70551950,"question_id":70551852,"body_markdown":"    int num = 000000;\r\n\r\nThis is the same as\r\n\r\n    int num = 0;\r\nInstead start with a string and then continue\r\n\r\n    class Main{\r\n        public static void main(String[] args) {\r\n    \r\n            String temp = &quot;000000&quot;;\r\n\r\n            int[] numbers = new int[temp.length()];\r\n            for (int i = 0; i &lt; temp.length(); i++) {\r\n                numbers[i] = temp.charAt(i) - &#39;0&#39;;\r\n            }\r\n            System.out.println(Arrays.toString(numbers));\r\n    \r\n        }\r\n    }\r\nOr if you just want zeroes inside the array you could also just do this\r\n\r\n    int[] numbers = new int[6]\r\n\r\nYou could even do this and add any number you like\r\n\r\n    int[] numbers = new int[5]//will make an array of size 5 with all elements 0\r\n    Arrays.fill(numbers, 1);//will set all elements to 1\r\n\r\n","title":"How do I convert int of zeros to int [] (array of digts)?","body":"<pre><code>int num = 000000;\n</code></pre>\n<p>This is the same as</p>\n<pre><code>int num = 0;\n</code></pre>\n<p>Instead start with a string and then continue</p>\n<pre><code>class Main{\n    public static void main(String[] args) {\n\n        String temp = &quot;000000&quot;;\n\n        int[] numbers = new int[temp.length()];\n        for (int i = 0; i &lt; temp.length(); i++) {\n            numbers[i] = temp.charAt(i) - '0';\n        }\n        System.out.println(Arrays.toString(numbers));\n\n    }\n}\n</code></pre>\n<p>Or if you just want zeroes inside the array you could also just do this</p>\n<pre><code>int[] numbers = new int[6]\n</code></pre>\n<p>You could even do this and add any number you like</p>\n<pre><code>int[] numbers = new int[5]//will make an array of size 5 with all elements 0\nArrays.fill(numbers, 1);//will set all elements to 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641085975,"creation_date":1641085975,"answer_id":70552977,"question_id":70551852,"body_markdown":"Use the Arrays class to convert a string of `decimal digits` to an `int array` of those digits.\r\n```\r\nString digitString = &quot;000000&quot;;\r\nint[] digits = new int[digitString.length()];\r\nArrays.setAll(digits, i-&gt; digitString.charAt(i)-&#39;0&#39;);\r\nSystem.out.println(Arrays.toString(digits));\r\n```\r\nprints\r\n```\r\n[0,0,0,0,0,0]\r\n```\r\nThere are simpler ways if the digits are all the same.  But the above will work for a string of any decimal digits.\r\n","title":"How do I convert int of zeros to int [] (array of digts)?","body":"<p>Use the Arrays class to convert a string of <code>decimal digits</code> to an <code>int array</code> of those digits.</p>\n<pre><code>String digitString = &quot;000000&quot;;\nint[] digits = new int[digitString.length()];\nArrays.setAll(digits, i-&gt; digitString.charAt(i)-'0');\nSystem.out.println(Arrays.toString(digits));\n</code></pre>\n<p>prints</p>\n<pre><code>[0,0,0,0,0,0]\n</code></pre>\n<p>There are simpler ways if the digits are all the same.  But the above will work for a string of any decimal digits.</p>\n"}],"owner":{"account_id":23265104,"reputation":11,"user_id":17350773,"display_name":"Abdihakim Mohamed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70552977,"answer_count":2,"score":-1,"last_activity_date":1641085975,"creation_date":1641070896,"question_id":70551852,"body_markdown":"This did not work when I tried it.\r\n\r\n  \r\n\r\n    class Main{\r\n        public static void main(String[] args) {\r\n    \r\n            int num = 000000;\r\n    \r\n            String temp = Integer.toString(num);\r\n            int[] numbers = new int[temp.length()];\r\n            for (int i = 0; i &lt; temp.length(); i++) {\r\n                numbers[i] = temp.charAt(i) - &#39;0&#39;;\r\n            }\r\n            System.out.println(Arrays.toString(numbers));\r\n    \r\n        }\r\n    }\r\n\r\n\r\nit only outputs one zero.\r\n","title":"How do I convert int of zeros to int [] (array of digts)?","body":"<p>This did not work when I tried it.</p>\n<pre><code>class Main{\n    public static void main(String[] args) {\n\n        int num = 000000;\n\n        String temp = Integer.toString(num);\n        int[] numbers = new int[temp.length()];\n        for (int i = 0; i &lt; temp.length(); i++) {\n            numbers[i] = temp.charAt(i) - '0';\n        }\n        System.out.println(Arrays.toString(numbers));\n\n    }\n}\n</code></pre>\n<p>it only outputs one zero.</p>\n"},{"tags":["java","mysql","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1641065345,"post_id":70549533,"comment_id":124715167,"body_markdown":"should a driver be allowed to holder multiple licenses?","body":"should a driver be allowed to holder multiple licenses?"},{"owner":{"account_id":7890262,"reputation":613,"user_id":5960663,"accept_rate":64,"display_name":"Mason Stedman"},"score":0,"creation_date":1641077781,"post_id":70549533,"comment_id":124717230,"body_markdown":"Do you actually want just driver ID to be the PK or driverID + license","body":"Do you actually want just driver ID to be the PK or driverID + license"},{"owner":{"account_id":16360970,"reputation":9,"user_id":11816595,"display_name":"Ghost0fAlexandria"},"score":0,"creation_date":1641079983,"post_id":70549533,"comment_id":124717521,"body_markdown":"@PanagiotisBougioukos No, only one license","body":"@PanagiotisBougioukos No, only one license"},{"owner":{"account_id":16360970,"reputation":9,"user_id":11816595,"display_name":"Ghost0fAlexandria"},"score":0,"creation_date":1641080009,"post_id":70549533,"comment_id":124717524,"body_markdown":"@MasonStedman No I want it to be a composite key of driverID and License Number","body":"@MasonStedman No I want it to be a composite key of driverID and License Number"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1641080068,"post_id":70549533,"comment_id":124717533,"body_markdown":"@Ghost0fAlexandria then my answer under is the one you need","body":"@Ghost0fAlexandria then my answer under is the one you need"},{"owner":{"account_id":16360970,"reputation":9,"user_id":11816595,"display_name":"Ghost0fAlexandria"},"score":0,"creation_date":1641080507,"post_id":70549533,"comment_id":124717591,"body_markdown":"@PanagiotisBougioukos then surely I have to modify the SQL tables accordingly, correct?","body":"@PanagiotisBougioukos then surely I have to modify the SQL tables accordingly, correct?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1641080653,"post_id":70549533,"comment_id":124717606,"body_markdown":"you either modify the SQL tables by yourself or you let the ORM provider do it for you when you update the entity layer with the annotations I have provided to you and you set the property `spring.jpa.hibernate:.ddl-auto: update`","body":"you either modify the SQL tables by yourself or you let the ORM provider do it for you when you update the entity layer with the annotations I have provided to you and you set the property <code>spring.jpa.hibernate:.ddl-auto: update</code>"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1641080981,"post_id":70549533,"comment_id":124717656,"body_markdown":"@Ghost0fAlexandria please accept the answer if it has helped you solve your problem. You can always upvote as well ;)","body":"@Ghost0fAlexandria please accept the answer if it has helped you solve your problem. You can always upvote as well ;)"}],"owner":{"account_id":16360970,"reputation":9,"user_id":11816595,"display_name":"Ghost0fAlexandria"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1641085174,"creation_date":1641047705,"question_id":70549533,"body_markdown":"I want to represent a one-to-one relationship with a driver and a license where the license is a weak entity having a composite key of the license number and the driver number.\r\nThe driver number is a foreign key that refers to the primary key of the user table.\r\n```SQL\r\nCREATE TABLE user (\r\n\tuser_id SMALLINT NOT NULL GENERATED ALWAYS AS IDENTITY,\r\n\tname VARCHAR(50) NOT NULL,\r\n  \temail VARCHAR(50) NOT NULL UNIQUE,\r\n  \tPRIMARY KEY (user_id)\r\n);\r\n```\r\n```sql\r\nCREATE TABLE license (\r\n  \tdriver SMALLINT NOT NULL,\r\n  \tlicense_number SMALLINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,\r\n  \texpiration_date timestamp NOT NULL,\r\n  \tPRIMARY KEY (driver, license_number),\r\n  \tFOREIGN KEY (driver) REFERENCES user(user_id)\r\n);\r\n```\r\nHow can I use the annotation ```@EmbeddedKey``` and ```@Embeddable```?\r\nMy understanding is that there should be a new class called LicenseId that implements serializable and has two fields (the license number and the driver id), But I don&#39;t know how to tell JPA that this driver Id refers to the primary Id of the user\r\nWhat I have done so far in terms of classes and entities:\r\n```java\r\nimport javax.persistence.Embeddable;\r\nimport java.io.Serializable;\r\n\r\n@Embeddable\r\npublic class LicenseId implements Serializable {\r\n    private int driver;\r\n    private int licenseNumber;\r\n}\r\n```\r\n```java\r\nimport javax.persistence.Column;\r\nimport javax.persistence.EmbeddedId;\r\nimport javax.persistence.Entity;\r\nimport java.sql.Date;\r\nimport java.sql.Timestamp;\r\n\r\n@Entity\r\npublic class License {\r\n\r\n    @EmbeddedId\r\n    private LicenseId licenseId;\r\n\r\n    @Column(name = &quot;expiration_date&quot;, nullable = false)\r\n    private Timestamp expirationDate;\r\n\r\n}\r\n```","title":"How to represent weak entity (License) having a composite key of License Number and Driver Number where Driver Number is a foreign key","body":"<p>I want to represent a one-to-one relationship with a driver and a license where the license is a weak entity having a composite key of the license number and the driver number.\nThe driver number is a foreign key that refers to the primary key of the user table.</p>\n<pre><code>CREATE TABLE user (\n    user_id SMALLINT NOT NULL GENERATED ALWAYS AS IDENTITY,\n    name VARCHAR(50) NOT NULL,\n    email VARCHAR(50) NOT NULL UNIQUE,\n    PRIMARY KEY (user_id)\n);\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE license (\n    driver SMALLINT NOT NULL,\n    license_number SMALLINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,\n    expiration_date timestamp NOT NULL,\n    PRIMARY KEY (driver, license_number),\n    FOREIGN KEY (driver) REFERENCES user(user_id)\n);\n</code></pre>\n<p>How can I use the annotation <code>@EmbeddedKey</code> and <code>@Embeddable</code>?\nMy understanding is that there should be a new class called LicenseId that implements serializable and has two fields (the license number and the driver id), But I don't know how to tell JPA that this driver Id refers to the primary Id of the user\nWhat I have done so far in terms of classes and entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.Embeddable;\nimport java.io.Serializable;\n\n@Embeddable\npublic class LicenseId implements Serializable {\n    private int driver;\n    private int licenseNumber;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.Column;\nimport javax.persistence.EmbeddedId;\nimport javax.persistence.Entity;\nimport java.sql.Date;\nimport java.sql.Timestamp;\n\n@Entity\npublic class License {\n\n    @EmbeddedId\n    private LicenseId licenseId;\n\n    @Column(name = &quot;expiration_date&quot;, nullable = false)\n    private Timestamp expirationDate;\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","spring-tool-suite"],"answers":[{"tags":[],"owner":{"account_id":4273680,"reputation":1417,"user_id":3494901,"display_name":"aboyko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1641084964,"creation_date":1442057682,"answer_id":32538311,"question_id":32532133,"body_markdown":"1. Go to `Window -&gt; Preferences`\r\n2. Once the preferences dialog appears, go to `Java -&gt; Installed JRE`\r\n3. Add your JRE, if it&#39;s not in the list, check-mark it, `Apply`, `OK`","title":"How to set custom JRE System library path value in Spring Tool Suite?","body":"<ol>\n<li>Go to <code>Window -&gt; Preferences</code></li>\n<li>Once the preferences dialog appears, go to <code>Java -&gt; Installed JRE</code></li>\n<li>Add your JRE, if it's not in the list, check-mark it, <code>Apply</code>, <code>OK</code></li>\n</ol>\n"}],"owner":{"account_id":551884,"reputation":330,"user_id":916875,"display_name":"ajup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32538311,"answer_count":1,"score":1,"last_activity_date":1641084964,"creation_date":1442005667,"question_id":32532133,"body_markdown":"I&#39;m trying to set the default value for the JRE system library in Spring Tool Suite and it&#39;s setting it to 1.6 version but I need it to be 1.6.0_xx by default.\r\n\r\nI have set the value for JAVA_HOME to be C:\\..\\java\\jdk1.6.0_xx and in the PATH variable it set to C:\\..\\java\\jdk1.6.0_xx\\bin. After I configured it this way, I was able to build my maven projects successfully via the command line but when I attempt to build the Maven project from STS I get this error\r\n\r\n**Error occurred during initialization of VM\r\njava/lang/NoClassDefFoundError: java/lang/Object**\r\n\r\nIs there any workaround for this error?","title":"How to set custom JRE System library path value in Spring Tool Suite?","body":"<p>I'm trying to set the default value for the JRE system library in Spring Tool Suite and it's setting it to 1.6 version but I need it to be 1.6.0_xx by default.</p>\n\n<p>I have set the value for JAVA_HOME to be C:..\\java\\jdk1.6.0_xx and in the PATH variable it set to C:..\\java\\jdk1.6.0_xx\\bin. After I configured it this way, I was able to build my maven projects successfully via the command line but when I attempt to build the Maven project from STS I get this error</p>\n\n<p><strong>Error occurred during initialization of VM\njava/lang/NoClassDefFoundError: java/lang/Object</strong></p>\n\n<p>Is there any workaround for this error?</p>\n"},{"tags":["java","pdf","file-conversion"],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8882,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641084568,"creation_date":1638569702,"answer_id":70221226,"question_id":70220010,"body_markdown":"Windows vanilla print() is text based so print to pdf via notepad or other text modes will simply produce a pdf containing output as if a file was viewed in text format. You dont need all that codeopen an rtf in notepad and print to pdf will do the same.\r\n\r\nFor printing html or xml (text) we could do better by using Edge. However for images we need to route via paint/image apps or for MS documents we need a MS document handler.\r\n\r\nBy far the simplest way **to translate MS RTF/Doc/DocX/Odt to MS PDF without libraries is via the already licensed shell application &quot;Write&quot;** or &quot;WordPad&quot;, there are limitations in that the RTF must be WordPad compatible without throwing a &quot;some features are not supported&quot; message. Note tables must have a border width to be printed as visible lines and transparency in images can give odd results so ideally keep them simple. Background images are rarely supported. Keep RTF stupidly simple as if written in a plain text line editor or batch file. the page will be current MS PDF default (here it is using previous A4 Landscape) *unless you pre-adjust orientation or format with PrintUI.*\r\n\r\nAvoid trying to hand write images as rich text :-) it is possible but life is not long enough, here are the first few lines of this sample RTF :-\r\n\r\n```\r\n{\\rtf1\\ansi\\ansicpg1252\\deff0\\nouicompat\r\n\r\n{\\fonttbl\r\n{\\f0\\fnil\\fcharset0 Calibri;}\r\n{\\f1\\froman\\fcharset0 Times New Roman;}\r\n{\\f2\\fnil\\fcharset0 Segoe UI;}\r\n}\r\n\r\n{\\colortbl ;\\red255\\green0\\blue0;}\r\n{\\*\\generator Riched20 10.0.19041}\r\n\r\n\\viewkind4\\uc1\r\n\\pard\\sa200\\sl240\\slmult1\\f0\\fs22\\lang9\r\n\r\n{\\pict{\\*\\picprop}\\wmetafile8\\picw24818\\pich5001\\picwgoal3495\\pichgoal705 \r\n010009000003a6ae000000007dae000000000400000003010800050000000b0200000000050000\r\n000c02bd00aa03030000001e00040000000701040004000000070104007dae0000410b2000cc00\r\nbd00aa0300000000bd00aa030000000028000000aa030000bd0000000100040000000000000000\r\n000000000000000000000000000000000000000000ffffff00ccffff003399ff00c0c0c0008080\r\n800033333300000000000000000000000000000000000000000000000000000000000000000000\r\n000000111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n```\r\nand the image requires another 2290 lines of text, before the simpler table. \r\n\r\n**Thus use Word or WordPad to insert a picture or inject decoded img2rtf for images.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**For command line printing just shell the command such as this**\r\n\r\n```\r\nwrite /pt file.doc &quot;printer name&quot; &quot;printer driver name&quot; &quot;port address&quot;\r\n```\r\n- You can use write (usually 2 stubs) or wordpad (the main engine)\r\n- /pt is print to\r\n- for &quot;Microsoft Print to PDF&quot; both printer and driver have the same name\r\n- the port address can be a remote pdf printer or default Portprompt: or a port filename\r\n\r\n  [1]: https://i.stack.imgur.com/zifxR.png","title":"Convert a document to PDF using &quot;Microsoft Print to PDF&quot; and Java","body":"<p>Windows vanilla print() is text based so print to pdf via notepad or other text modes will simply produce a pdf containing output as if a file was viewed in text format. You dont need all that codeopen an rtf in notepad and print to pdf will do the same.</p>\n<p>For printing html or xml (text) we could do better by using Edge. However for images we need to route via paint/image apps or for MS documents we need a MS document handler.</p>\n<p>By far the simplest way <strong>to translate MS RTF/Doc/DocX/Odt to MS PDF without libraries is via the already licensed shell application &quot;Write&quot;</strong> or &quot;WordPad&quot;, there are limitations in that the RTF must be WordPad compatible without throwing a &quot;some features are not supported&quot; message. Note tables must have a border width to be printed as visible lines and transparency in images can give odd results so ideally keep them simple. Background images are rarely supported. Keep RTF stupidly simple as if written in a plain text line editor or batch file. the page will be current MS PDF default (here it is using previous A4 Landscape) <em>unless you pre-adjust orientation or format with PrintUI.</em></p>\n<p>Avoid trying to hand write images as rich text :-) it is possible but life is not long enough, here are the first few lines of this sample RTF :-</p>\n<pre><code>{\\rtf1\\ansi\\ansicpg1252\\deff0\\nouicompat\n\n{\\fonttbl\n{\\f0\\fnil\\fcharset0 Calibri;}\n{\\f1\\froman\\fcharset0 Times New Roman;}\n{\\f2\\fnil\\fcharset0 Segoe UI;}\n}\n\n{\\colortbl ;\\red255\\green0\\blue0;}\n{\\*\\generator Riched20 10.0.19041}\n\n\\viewkind4\\uc1\n\\pard\\sa200\\sl240\\slmult1\\f0\\fs22\\lang9\n\n{\\pict{\\*\\picprop}\\wmetafile8\\picw24818\\pich5001\\picwgoal3495\\pichgoal705 \n010009000003a6ae000000007dae000000000400000003010800050000000b0200000000050000\n000c02bd00aa03030000001e00040000000701040004000000070104007dae0000410b2000cc00\nbd00aa0300000000bd00aa030000000028000000aa030000bd0000000100040000000000000000\n000000000000000000000000000000000000000000ffffff00ccffff003399ff00c0c0c0008080\n800033333300000000000000000000000000000000000000000000000000000000000000000000\n000000111111111111111111111111111111111111111111111111111111111111111111111111\n111111111111111111111111111111111111111111111111111111111111111111111111111111\n111111111111111111111111111111111111111111111111111111111111111111111111111111\n</code></pre>\n<p>and the image requires another 2290 lines of text, before the simpler table.</p>\n<p><strong>Thus use Word or WordPad to insert a picture or inject decoded img2rtf for images.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/zifxR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zifxR.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>For command line printing just shell the command such as this</strong></p>\n<pre><code>write /pt file.doc &quot;printer name&quot; &quot;printer driver name&quot; &quot;port address&quot;\n</code></pre>\n<ul>\n<li>You can use write (usually 2 stubs) or wordpad (the main engine)</li>\n<li>/pt is print to</li>\n<li>for &quot;Microsoft Print to PDF&quot; both printer and driver have the same name</li>\n<li>the port address can be a remote pdf printer or default Portprompt: or a port filename</li>\n</ul>\n"}],"owner":{"account_id":23538799,"reputation":21,"user_id":17583340,"display_name":"AlexAtPlunet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1269,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641084568,"creation_date":1638561377,"question_id":70220010,"body_markdown":"I am currently testing to convert RTF/DOC documents into PDF on a Microsoft Windows host. I have a working peace of code that uses the API of Microsoft Word but due to license costs I would like to get rid of it.\r\n\r\nI had the idea that it might be possible to convert RTFs to PDF by just &quot;sending&quot; them to the Microsoft Print To PDF printer.\r\n\r\nThe issue I got here is that I can on the one hand access the printer and I also get an output, but the file is corrupted.\r\n\r\nIf I just rename the generated file back from .pdf to .rtf and open it in Microsoft Word the content looks something like this (it is just an excerpt of the whole content):\r\n```\r\n\\rtf1\\adeflang1025\\ansi\\ansicpg1252\\uc1\\adeff1\\deff0\\stshfdbch0\\stshfloch0\\stshfhich0\\stshfbi0\\deflang1031\\deflangfe1031\\themelang1031\\themelangfe0\\themelangcs0{\\fonttbl{\\f0\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\r\n{\\f1\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 020b0604020202020204}Arial{\\*\\falt Arial};}{\\f2\\fbidi \\fmodern\\fcharset0\\fprq1{\\*\\panose 02070309020205020404}Courier New{\\*\\falt ?l?r ???fc};}\r\n{\\f3\\fbidi \\froman\\fcharset2\\fprq2{\\*\\panose 05050102010706020507}Symbol{\\*\\falt Symbol};}{\\f10\\fbidi \\fnil\\fcharset2\\fprq2{\\*\\panose 05000000000000000000}Wingdings;}{\\f34\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02040503050406030204}Cambria Math;}\r\n{\\f38\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 020b0604030504040204}Tahoma;}{\\f39\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 00000000000000000000}Arial Black;}\r\n{\\flomajor\\f31500\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}{\\fdbmajor\\f31501\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\r\n{\\fhimajor\\f31502\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02040503050406030204}Cambria;}{\\fbimajor\\f31503\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\r\n{\\flominor\\f31504\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}{\\fdbminor\\f31505\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\r\n{\\fhiminor\\f31506\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 020f0502020204030204}Calibri;}{\\fbiminor\\f31507\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\r\n{\\f40\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}{\\f41\\fbidi \\froman\\fcharset204\\fprq2 Times New Roman Cyr{\\*\\falt Courier New};}{\\f43\\fbidi \\froman\\fcharset161\\fprq2 Times New Roman Greek{\\*\\falt Courier New};}\r\n{\\f44\\fbidi \\froman\\fcharset162\\fprq2 Times New Roman Tur{\\*\\falt Courier New};}{\\f45\\fbidi \\froman\\fcharset177\\fprq2 Times New Roman (Hebrew){\\*\\falt Courier New};}{\\f46\\fbidi \\froman\\fcharset178\\fprq2 Times New Roman (Arabic){\\*\\falt Courier New};}\r\n{\\f47\\fbidi \\froman\\fcharset186\\fprq2 Times New Roman Baltic{\\*\\falt Courier New};}{\\f48\\fbidi \\froman\\fcharset163\\fprq2 Times New Roman (Vietnamese){\\*\\falt Courier New};}{\\f50\\fbidi \\fswiss\\fcharset238\\fprq2 Arial CE{\\*\\falt Arial};}\r\n{\\f51\\fbidi \\fswiss\\fcharset204\\fprq2 Arial Cyr{\\*\\falt Arial};}{\\f53\\fbidi \\fswiss\\fcharset161\\fprq2 Arial Greek{\\*\\falt Arial};}{\\f54\\fbidi \\fswiss\\fcharset162\\fprq2 Arial Tur{\\*\\falt Arial};}\r\n{\\f55\\fbidi \\fswiss\\fcharset177\\fprq2 Arial (Hebrew){\\*\\falt Arial};}{\\f56\\fbidi \\fswiss\\fcharset178\\fprq2 Arial (Arabic){\\*\\falt Arial};}{\\f57\\fbidi \\fswiss\\fcharset186\\fprq2 Arial Baltic{\\*\\falt Arial};}\r\n{\\f58\\fbidi \\fswiss\\fcharset163\\fprq2 Arial (Vietnamese){\\*\\falt Arial};}{\\f60\\fbidi \\fmodern\\fcharset238\\fprq1 Courier New CE{\\*\\falt ?l?r ???fc};}{\\f61\\fbidi \\fmodern\\fcharset204\\fprq1 Courier New Cyr{\\*\\falt ?l?r ???fc};}\r\n{\\f63\\fbidi \\fmodern\\fcharset161\\fprq1 Courier New Greek{\\*\\falt ?l?r ???fc};}{\\f64\\fbidi \\fmodern\\fcharset162\\fprq1 Courier New Tur{\\*\\falt ?l?r ???fc};}{\\f65\\fbidi \\fmodern\\fcharset177\\fprq1 Courier New (Hebrew){\\*\\falt ?l?r ???fc};}\r\n{\\f66\\fbidi \\fmodern\\fcharset178\\fprq1 Courier New (Arabic){\\*\\falt ?l?r ???fc};}{\\f67\\fbidi \\fmodern\\fcharset186\\fprq1 Courier New Baltic{\\*\\falt ?l?r ???fc};}{\\f68\\fbidi \\fmodern\\fcharset163\\fprq1 Courier New (Vietnamese){\\*\\falt ?l?r ???fc};}\r\n{\\f380\\fbidi \\froman\\fcharset238\\fprq2 Cambria Math CE;}{\\f381\\fbidi \\froman\\fcharset204\\fprq2 Cambria Math Cyr;}{\\f383\\fbidi \\froman\\fcharset161\\fprq2 Cambria Math Greek;}{\\f384\\fbidi \\froman\\fcharset162\\fprq2 Cambria Math Tur;}\r\n{\\f387\\fbidi \\froman\\fcharset186\\fprq2 Cambria Math Baltic;}{\\f388\\fbidi \\froman\\fcharset163\\fprq2 Cambria Math (Vietnamese);}{\\f420\\fbidi \\fswiss\\fcharset238\\fprq2 Tahoma CE;}{\\f421\\fbidi \\fswiss\\fcharset204\\fprq2 Tahoma Cyr;}\r\n{\\f423\\fbidi \\fswiss\\fcharset161\\fprq2 Tahoma Greek;}{\\f424\\fbidi \\fswiss\\fcharset162\\fprq2 Tahoma Tur;}{\\f425\\fbidi \\fswiss\\fcharset177\\fprq2 Tahoma (Hebrew);}{\\f426\\fbidi \\fswiss\\fcharset178\\fprq2 Tahoma (Arabic);}\r\n{\\f427\\fbidi \\fswiss\\fcharset186\\fprq2 Tahoma Baltic;}{\\f428\\fbidi \\fswiss\\fcharset163\\fprq2 Tahoma (Vietnamese);}{\\f429\\fbidi \\fswiss\\fcharset222\\fprq2 Tahoma (Thai);}{\\f430\\fbidi \\fswiss\\fcharset238\\fprq2 Arial Black CE;}\r\n{\\f431\\fbidi \\fswiss\\fcharset204\\fprq2 Arial Black Cyr;}{\\f433\\fbidi \\fswiss\\fcharset161\\fprq2 Arial Black Greek;}{\\f434\\fbidi \\fswiss\\fcharset162\\fprq2 Arial Black Tur;}{\\f437\\fbidi \\fswiss\\fcharset186\\fprq2 Arial Black Baltic;}\r\n{\\flomajor\\f31508\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}{\\flomajor\\f31509\\fbidi \\froman\\fcharset204\\fprq2 Times New Roman Cyr{\\*\\falt Courier New};}\r\n{\\flomajor\\f31511\\fbidi \\froman\\fcharset161\\fprq2 Times New Roman Greek{\\*\\falt Courier New};}{\\flomajor\\f31512\\fbidi \\froman\\fcharset162\\fprq2 Times New Roman Tur{\\*\\falt Courier New};}\r\n{\\flomajor\\f31513\\fbidi \\froman\\fcharset177\\fprq2 Times New Roman (Hebrew){\\*\\falt Courier New};}{\\flomajor\\f31514\\fbidi \\froman\\fcharset178\\fprq2 Times New Roman (Arabic){\\*\\falt Courier New};}\r\n{\\flomajor\\f31515\\fbidi \\froman\\fcharset186\\fprq2 Times New Roman Baltic{\\*\\falt Courier New};}{\\flomajor\\f31516\\fbidi \\froman\\fcharset163\\fprq2 Times New Roman (Vietnamese){\\*\\falt Courier New};}\r\n{\\fdbmajor\\f31518\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}{\\fdbmajor\\f31519\\fbidi \\froman\\fcharset204\\fprq2 Times New Roman Cyr{\\*\\falt Courier New};}\r\n{\\fdbmajor\\f31521\\fbidi \\froman\\fcharset161\\fprq2 Times New Roman Greek{\\*\\falt Courier New};}{\\fdbmajor\\f31522\\fbidi \\froman\\fcharset162\\fprq2 Times New Roman Tur{\\*\\falt Courier New};}\r\n{\\fdbmajor\\f31523\\fbidi \\froman\\fcharset177\\fprq2 Times New Roman (Hebrew){\\*\\falt Courier New};}{\\fdbmajor\\f31524\\fbidi \\froman\\fcharset178\\fprq2 Times New Roman (Arabic){\\*\\falt Courier New};}\r\n{\\fdbmajor\\f31525\\fbidi \\froman\\fcharset186\\fprq2 Times New Roman Baltic{\\*\\falt Courier New};}{\\fdbmajor\\f31526\\fbidi \\froman\\fcharset163\\fprq2 Times New Roman (Vietnamese){\\*\\falt Courier New};}\r\n{\\fhimajor\\f31528\\fbidi \\froman\\fcharset238\\fprq2 Cambria CE;}{\\fhimajor\\f31529\\fbidi \\froman\\fcharset204\\fprq2 Cambria Cyr;}{\\fhimajor\\f31531\\fbidi \\froman\\fcharset161\\fprq2 Cambria Greek;}{\\fhimajor\\f31532\\fbidi \\froman\\fcharset162\\fprq2 Cambria Tur;}\r\n{\\fhimajor\\f31535\\fbidi \\froman\\fcharset186\\fprq2 Cambria Baltic;}{\\fhimajor\\f31536\\fbidi \\froman\\fcharset163\\fprq2 Cambria (Vietnamese);}{\\fbimajor\\f31538\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}\r\n```\r\n\r\nI am assuming that I do not read the file correctly. Or maybe not writing it correctly? Not sure.\r\nMaybe an attribute is missing - I just think it is a little thing that it is wrong.\r\n\r\nI have the following code:\r\n\r\n```\r\nimport javax.print.Doc;\r\nimport javax.print.DocFlavor;\r\nimport javax.print.DocPrintJob;\r\nimport javax.print.PrintService;\r\nimport javax.print.PrintServiceLookup;\r\nimport javax.print.SimpleDoc;\r\nimport javax.print.attribute.HashPrintRequestAttributeSet;\r\nimport javax.print.attribute.PrintRequestAttributeSet;\r\nimport javax.print.attribute.standard.Copies;\r\nimport javax.print.attribute.standard.Destination;\r\nimport javax.print.event.PrintJobAdapter;\r\nimport javax.print.event.PrintJobEvent;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.net.URISyntaxException;\r\nimport java.util.Arrays;\r\n\r\n\r\npublic class Program {\r\n\r\n\r\n    public static final String myPath = &quot;C:/Project Files/Template&quot;;\r\n    public static final String myFile =  &quot;CreditNoteEnglish.rtf&quot;;\r\n    public static final String myFile2 =  &quot;CreditNoteEnglish.pdf&quot;;\r\n    public static void  main (String[] args)\r\n    {\r\n        try {\r\n            convertToPDF_PerPrint(myPath, myFile);\r\n        } catch (URISyntaxException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    private static void convertToPDF_PerPrint( String Verzeichnis,  String pFileName) throws URISyntaxException {\r\n        final String defaultPrinterName = &quot;Microsoft Print To PDF&quot;;\r\n        DocFlavor docType = DocFlavor.INPUT_STREAM.AUTOSENSE;\r\n        PrintRequestAttributeSet printerSettings = new HashPrintRequestAttributeSet();\r\n        PrintService PDFPrinter = null;\r\n        File myFile = new File(Verzeichnis + &quot;/&quot; + pFileName);\r\n        File outFile = new File (Verzeichnis + &quot;/&quot; + myFile2);\r\n       // printerSettings.add(MediaSizeName.ISO_A4);\r\n        printerSettings.add(new Destination(outFile.toURI()));\r\n        printerSettings.add(new Copies(1));\r\n        PrintService[] printServices = PrintServiceLookup.lookupPrintServices(docType,printerSettings);\r\n        try\r\n        {\r\n            if(printServices.length == 0)\r\n            {\r\n                throw new Exception(&quot;No printers found for given attributes&quot;);\r\n            }\r\n            System.out.println ( &quot;Available printers: &quot; + Arrays.asList ( printServices ) );\r\n\r\n            for(PrintService availableService : printServices)\r\n            {\r\n                if(availableService.getName().contains(&quot;PDF&quot;))\r\n                {\r\n                    PDFPrinter = availableService;\r\n                    break;\r\n                }\r\n            }            if (PDFPrinter == null)\r\n        {\r\n            throw new IllegalStateException(&quot;Can not find PDF printer.&quot;);\r\n        }\r\n\r\n            FileInputStream fileAsStream = new FileInputStream(myFile);\r\n\r\n            System.out.println ( Verzeichnis + &quot;\\\\&quot; + pFileName );\r\n            System.out.println ( fileAsStream.read() );\r\n            DocPrintJob myPrintJob =  PDFPrinter.createPrintJob();\r\n            Doc myConvertableFile = new SimpleDoc(fileAsStream, DocFlavor.INPUT_STREAM.AUTOSENSE,null);\r\n            PrintJobWatcher watcher = new PrintJobWatcher(myPrintJob);\r\n            myPrintJob.print(myConvertableFile, printerSettings);\r\n            watcher.waitForDone();\r\n            fileAsStream.close();\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n\r\nclass PrintJobWatcher {\r\n\r\n    boolean done = false;\r\n\r\n    PrintJobWatcher(DocPrintJob job) {\r\n        job.addPrintJobListener(new PrintJobAdapter() {\r\n            public void printJobCanceled(PrintJobEvent pje) {\r\n                allDone();\r\n            }\r\n\r\n            public void printJobCompleted(PrintJobEvent pje) {\r\n                allDone();\r\n            }\r\n\r\n            public void printJobFailed(PrintJobEvent pje) {\r\n                allDone();\r\n            }\r\n\r\n            public void printJobNoMoreEvents(PrintJobEvent pje) {\r\n                allDone();\r\n            }\r\n\r\n            void allDone() {\r\n                synchronized (PrintJobWatcher.this) {\r\n                    done = true;\r\n                    System.out.println(&quot;Printing done ...&quot;);\r\n                    PrintJobWatcher.this.notify();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public synchronized void waitForDone() {\r\n        try {\r\n            while (!done) {\r\n                wait();\r\n            }\r\n        } catch (InterruptedException e) {\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nDoes anyone have an idea why it is not possible to make Microsoft Print to PDF Printer generating a proper PDF when using the code above?\r\n\r\nAny hints will be highly appreciated.\r\n\r\nThank you very much.","title":"Convert a document to PDF using &quot;Microsoft Print to PDF&quot; and Java","body":"<p>I am currently testing to convert RTF/DOC documents into PDF on a Microsoft Windows host. I have a working peace of code that uses the API of Microsoft Word but due to license costs I would like to get rid of it.</p>\n<p>I had the idea that it might be possible to convert RTFs to PDF by just &quot;sending&quot; them to the Microsoft Print To PDF printer.</p>\n<p>The issue I got here is that I can on the one hand access the printer and I also get an output, but the file is corrupted.</p>\n<p>If I just rename the generated file back from .pdf to .rtf and open it in Microsoft Word the content looks something like this (it is just an excerpt of the whole content):</p>\n<pre><code>\\rtf1\\adeflang1025\\ansi\\ansicpg1252\\uc1\\adeff1\\deff0\\stshfdbch0\\stshfloch0\\stshfhich0\\stshfbi0\\deflang1031\\deflangfe1031\\themelang1031\\themelangfe0\\themelangcs0{\\fonttbl{\\f0\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\n{\\f1\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 020b0604020202020204}Arial{\\*\\falt Arial};}{\\f2\\fbidi \\fmodern\\fcharset0\\fprq1{\\*\\panose 02070309020205020404}Courier New{\\*\\falt ?l?r ???fc};}\n{\\f3\\fbidi \\froman\\fcharset2\\fprq2{\\*\\panose 05050102010706020507}Symbol{\\*\\falt Symbol};}{\\f10\\fbidi \\fnil\\fcharset2\\fprq2{\\*\\panose 05000000000000000000}Wingdings;}{\\f34\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02040503050406030204}Cambria Math;}\n{\\f38\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 020b0604030504040204}Tahoma;}{\\f39\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 00000000000000000000}Arial Black;}\n{\\flomajor\\f31500\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}{\\fdbmajor\\f31501\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\n{\\fhimajor\\f31502\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02040503050406030204}Cambria;}{\\fbimajor\\f31503\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\n{\\flominor\\f31504\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}{\\fdbminor\\f31505\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\n{\\fhiminor\\f31506\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 020f0502020204030204}Calibri;}{\\fbiminor\\f31507\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\n{\\f40\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}{\\f41\\fbidi \\froman\\fcharset204\\fprq2 Times New Roman Cyr{\\*\\falt Courier New};}{\\f43\\fbidi \\froman\\fcharset161\\fprq2 Times New Roman Greek{\\*\\falt Courier New};}\n{\\f44\\fbidi \\froman\\fcharset162\\fprq2 Times New Roman Tur{\\*\\falt Courier New};}{\\f45\\fbidi \\froman\\fcharset177\\fprq2 Times New Roman (Hebrew){\\*\\falt Courier New};}{\\f46\\fbidi \\froman\\fcharset178\\fprq2 Times New Roman (Arabic){\\*\\falt Courier New};}\n{\\f47\\fbidi \\froman\\fcharset186\\fprq2 Times New Roman Baltic{\\*\\falt Courier New};}{\\f48\\fbidi \\froman\\fcharset163\\fprq2 Times New Roman (Vietnamese){\\*\\falt Courier New};}{\\f50\\fbidi \\fswiss\\fcharset238\\fprq2 Arial CE{\\*\\falt Arial};}\n{\\f51\\fbidi \\fswiss\\fcharset204\\fprq2 Arial Cyr{\\*\\falt Arial};}{\\f53\\fbidi \\fswiss\\fcharset161\\fprq2 Arial Greek{\\*\\falt Arial};}{\\f54\\fbidi \\fswiss\\fcharset162\\fprq2 Arial Tur{\\*\\falt Arial};}\n{\\f55\\fbidi \\fswiss\\fcharset177\\fprq2 Arial (Hebrew){\\*\\falt Arial};}{\\f56\\fbidi \\fswiss\\fcharset178\\fprq2 Arial (Arabic){\\*\\falt Arial};}{\\f57\\fbidi \\fswiss\\fcharset186\\fprq2 Arial Baltic{\\*\\falt Arial};}\n{\\f58\\fbidi \\fswiss\\fcharset163\\fprq2 Arial (Vietnamese){\\*\\falt Arial};}{\\f60\\fbidi \\fmodern\\fcharset238\\fprq1 Courier New CE{\\*\\falt ?l?r ???fc};}{\\f61\\fbidi \\fmodern\\fcharset204\\fprq1 Courier New Cyr{\\*\\falt ?l?r ???fc};}\n{\\f63\\fbidi \\fmodern\\fcharset161\\fprq1 Courier New Greek{\\*\\falt ?l?r ???fc};}{\\f64\\fbidi \\fmodern\\fcharset162\\fprq1 Courier New Tur{\\*\\falt ?l?r ???fc};}{\\f65\\fbidi \\fmodern\\fcharset177\\fprq1 Courier New (Hebrew){\\*\\falt ?l?r ???fc};}\n{\\f66\\fbidi \\fmodern\\fcharset178\\fprq1 Courier New (Arabic){\\*\\falt ?l?r ???fc};}{\\f67\\fbidi \\fmodern\\fcharset186\\fprq1 Courier New Baltic{\\*\\falt ?l?r ???fc};}{\\f68\\fbidi \\fmodern\\fcharset163\\fprq1 Courier New (Vietnamese){\\*\\falt ?l?r ???fc};}\n{\\f380\\fbidi \\froman\\fcharset238\\fprq2 Cambria Math CE;}{\\f381\\fbidi \\froman\\fcharset204\\fprq2 Cambria Math Cyr;}{\\f383\\fbidi \\froman\\fcharset161\\fprq2 Cambria Math Greek;}{\\f384\\fbidi \\froman\\fcharset162\\fprq2 Cambria Math Tur;}\n{\\f387\\fbidi \\froman\\fcharset186\\fprq2 Cambria Math Baltic;}{\\f388\\fbidi \\froman\\fcharset163\\fprq2 Cambria Math (Vietnamese);}{\\f420\\fbidi \\fswiss\\fcharset238\\fprq2 Tahoma CE;}{\\f421\\fbidi \\fswiss\\fcharset204\\fprq2 Tahoma Cyr;}\n{\\f423\\fbidi \\fswiss\\fcharset161\\fprq2 Tahoma Greek;}{\\f424\\fbidi \\fswiss\\fcharset162\\fprq2 Tahoma Tur;}{\\f425\\fbidi \\fswiss\\fcharset177\\fprq2 Tahoma (Hebrew);}{\\f426\\fbidi \\fswiss\\fcharset178\\fprq2 Tahoma (Arabic);}\n{\\f427\\fbidi \\fswiss\\fcharset186\\fprq2 Tahoma Baltic;}{\\f428\\fbidi \\fswiss\\fcharset163\\fprq2 Tahoma (Vietnamese);}{\\f429\\fbidi \\fswiss\\fcharset222\\fprq2 Tahoma (Thai);}{\\f430\\fbidi \\fswiss\\fcharset238\\fprq2 Arial Black CE;}\n{\\f431\\fbidi \\fswiss\\fcharset204\\fprq2 Arial Black Cyr;}{\\f433\\fbidi \\fswiss\\fcharset161\\fprq2 Arial Black Greek;}{\\f434\\fbidi \\fswiss\\fcharset162\\fprq2 Arial Black Tur;}{\\f437\\fbidi \\fswiss\\fcharset186\\fprq2 Arial Black Baltic;}\n{\\flomajor\\f31508\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}{\\flomajor\\f31509\\fbidi \\froman\\fcharset204\\fprq2 Times New Roman Cyr{\\*\\falt Courier New};}\n{\\flomajor\\f31511\\fbidi \\froman\\fcharset161\\fprq2 Times New Roman Greek{\\*\\falt Courier New};}{\\flomajor\\f31512\\fbidi \\froman\\fcharset162\\fprq2 Times New Roman Tur{\\*\\falt Courier New};}\n{\\flomajor\\f31513\\fbidi \\froman\\fcharset177\\fprq2 Times New Roman (Hebrew){\\*\\falt Courier New};}{\\flomajor\\f31514\\fbidi \\froman\\fcharset178\\fprq2 Times New Roman (Arabic){\\*\\falt Courier New};}\n{\\flomajor\\f31515\\fbidi \\froman\\fcharset186\\fprq2 Times New Roman Baltic{\\*\\falt Courier New};}{\\flomajor\\f31516\\fbidi \\froman\\fcharset163\\fprq2 Times New Roman (Vietnamese){\\*\\falt Courier New};}\n{\\fdbmajor\\f31518\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}{\\fdbmajor\\f31519\\fbidi \\froman\\fcharset204\\fprq2 Times New Roman Cyr{\\*\\falt Courier New};}\n{\\fdbmajor\\f31521\\fbidi \\froman\\fcharset161\\fprq2 Times New Roman Greek{\\*\\falt Courier New};}{\\fdbmajor\\f31522\\fbidi \\froman\\fcharset162\\fprq2 Times New Roman Tur{\\*\\falt Courier New};}\n{\\fdbmajor\\f31523\\fbidi \\froman\\fcharset177\\fprq2 Times New Roman (Hebrew){\\*\\falt Courier New};}{\\fdbmajor\\f31524\\fbidi \\froman\\fcharset178\\fprq2 Times New Roman (Arabic){\\*\\falt Courier New};}\n{\\fdbmajor\\f31525\\fbidi \\froman\\fcharset186\\fprq2 Times New Roman Baltic{\\*\\falt Courier New};}{\\fdbmajor\\f31526\\fbidi \\froman\\fcharset163\\fprq2 Times New Roman (Vietnamese){\\*\\falt Courier New};}\n{\\fhimajor\\f31528\\fbidi \\froman\\fcharset238\\fprq2 Cambria CE;}{\\fhimajor\\f31529\\fbidi \\froman\\fcharset204\\fprq2 Cambria Cyr;}{\\fhimajor\\f31531\\fbidi \\froman\\fcharset161\\fprq2 Cambria Greek;}{\\fhimajor\\f31532\\fbidi \\froman\\fcharset162\\fprq2 Cambria Tur;}\n{\\fhimajor\\f31535\\fbidi \\froman\\fcharset186\\fprq2 Cambria Baltic;}{\\fhimajor\\f31536\\fbidi \\froman\\fcharset163\\fprq2 Cambria (Vietnamese);}{\\fbimajor\\f31538\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}\n</code></pre>\n<p>I am assuming that I do not read the file correctly. Or maybe not writing it correctly? Not sure.\nMaybe an attribute is missing - I just think it is a little thing that it is wrong.</p>\n<p>I have the following code:</p>\n<pre><code>import javax.print.Doc;\nimport javax.print.DocFlavor;\nimport javax.print.DocPrintJob;\nimport javax.print.PrintService;\nimport javax.print.PrintServiceLookup;\nimport javax.print.SimpleDoc;\nimport javax.print.attribute.HashPrintRequestAttributeSet;\nimport javax.print.attribute.PrintRequestAttributeSet;\nimport javax.print.attribute.standard.Copies;\nimport javax.print.attribute.standard.Destination;\nimport javax.print.event.PrintJobAdapter;\nimport javax.print.event.PrintJobEvent;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.net.URISyntaxException;\nimport java.util.Arrays;\n\n\npublic class Program {\n\n\n    public static final String myPath = &quot;C:/Project Files/Template&quot;;\n    public static final String myFile =  &quot;CreditNoteEnglish.rtf&quot;;\n    public static final String myFile2 =  &quot;CreditNoteEnglish.pdf&quot;;\n    public static void  main (String[] args)\n    {\n        try {\n            convertToPDF_PerPrint(myPath, myFile);\n        } catch (URISyntaxException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    private static void convertToPDF_PerPrint( String Verzeichnis,  String pFileName) throws URISyntaxException {\n        final String defaultPrinterName = &quot;Microsoft Print To PDF&quot;;\n        DocFlavor docType = DocFlavor.INPUT_STREAM.AUTOSENSE;\n        PrintRequestAttributeSet printerSettings = new HashPrintRequestAttributeSet();\n        PrintService PDFPrinter = null;\n        File myFile = new File(Verzeichnis + &quot;/&quot; + pFileName);\n        File outFile = new File (Verzeichnis + &quot;/&quot; + myFile2);\n       // printerSettings.add(MediaSizeName.ISO_A4);\n        printerSettings.add(new Destination(outFile.toURI()));\n        printerSettings.add(new Copies(1));\n        PrintService[] printServices = PrintServiceLookup.lookupPrintServices(docType,printerSettings);\n        try\n        {\n            if(printServices.length == 0)\n            {\n                throw new Exception(&quot;No printers found for given attributes&quot;);\n            }\n            System.out.println ( &quot;Available printers: &quot; + Arrays.asList ( printServices ) );\n\n            for(PrintService availableService : printServices)\n            {\n                if(availableService.getName().contains(&quot;PDF&quot;))\n                {\n                    PDFPrinter = availableService;\n                    break;\n                }\n            }            if (PDFPrinter == null)\n        {\n            throw new IllegalStateException(&quot;Can not find PDF printer.&quot;);\n        }\n\n            FileInputStream fileAsStream = new FileInputStream(myFile);\n\n            System.out.println ( Verzeichnis + &quot;\\\\&quot; + pFileName );\n            System.out.println ( fileAsStream.read() );\n            DocPrintJob myPrintJob =  PDFPrinter.createPrintJob();\n            Doc myConvertableFile = new SimpleDoc(fileAsStream, DocFlavor.INPUT_STREAM.AUTOSENSE,null);\n            PrintJobWatcher watcher = new PrintJobWatcher(myPrintJob);\n            myPrintJob.print(myConvertableFile, printerSettings);\n            watcher.waitForDone();\n            fileAsStream.close();\n        }\n        catch(Exception e)\n        {\n            System.out.println(e);\n        }\n    }\n}\n\nclass PrintJobWatcher {\n\n    boolean done = false;\n\n    PrintJobWatcher(DocPrintJob job) {\n        job.addPrintJobListener(new PrintJobAdapter() {\n            public void printJobCanceled(PrintJobEvent pje) {\n                allDone();\n            }\n\n            public void printJobCompleted(PrintJobEvent pje) {\n                allDone();\n            }\n\n            public void printJobFailed(PrintJobEvent pje) {\n                allDone();\n            }\n\n            public void printJobNoMoreEvents(PrintJobEvent pje) {\n                allDone();\n            }\n\n            void allDone() {\n                synchronized (PrintJobWatcher.this) {\n                    done = true;\n                    System.out.println(&quot;Printing done ...&quot;);\n                    PrintJobWatcher.this.notify();\n                }\n            }\n        });\n    }\n\n    public synchronized void waitForDone() {\n        try {\n            while (!done) {\n                wait();\n            }\n        } catch (InterruptedException e) {\n        }\n    }\n}\n</code></pre>\n<p>Does anyone have an idea why it is not possible to make Microsoft Print to PDF Printer generating a proper PDF when using the code above?</p>\n<p>Any hints will be highly appreciated.</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","google-colaboratory","automl","h2o.ai"],"answers":[{"tags":[],"owner":{"account_id":9714878,"reputation":1195,"user_id":7205625,"display_name":"Rumesh Madhusanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641084535,"creation_date":1641037254,"answer_id":70548631,"question_id":66847980,"body_markdown":"You can use localtunnel to expose the port that H2O.ai runs on:\r\n\r\nInstall localtunnel: \r\n\r\n    !npm install -g localtunnel\r\n\r\nStart localtunnel:\r\n\r\n    !lt --port 54321\r\nThen you can navigate to the url it returns and access H2O.ai notebook.\r\n","title":"How to access H2O Flow when using Google Colab","body":"<p>You can use localtunnel to expose the port that H2O.ai runs on:</p>\n<p>Install localtunnel:</p>\n<pre><code>!npm install -g localtunnel\n</code></pre>\n<p>Start localtunnel:</p>\n<pre><code>!lt --port 54321\n</code></pre>\n<p>Then you can navigate to the url it returns and access H2O.ai notebook.</p>\n"}],"owner":{"account_id":5989141,"reputation":5020,"user_id":7725621,"accept_rate":77,"display_name":"Kohei TAMURA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641084535,"creation_date":1616984033,"question_id":66847980,"body_markdown":"Does anyone know how to access H2O Flow when using Google Colab?\r\n\r\nMy code is as follows:\r\n\r\n```\r\n!pip install H2O\r\n```\r\n\r\n```python\r\nimport h2o\r\nh2o.init(bind_to_localhost=False, log_dir=&quot;./&quot;)\r\nfrom google.colab.output import eval_js\r\nprint(eval_js(&quot;google.colab.kernel.proxyPort(54321)&quot;))\r\n```\r\n\r\nthis code shows the following output:\r\n\r\n```\r\nChecking whether there is an H2O instance running at http://localhost:54321 ..... not found.\r\nAttempting to start a local H2O server...\r\n  Java Version: openjdk version &quot;11.0.10&quot; 2021-01-19; OpenJDK Runtime Environment (build 11.0.10+9-Ubuntu-0ubuntu1.18.04); OpenJDK 64-Bit Server VM (build 11.0.10+9-Ubuntu-0ubuntu1.18.04, mixed mode, sharing)\r\n  Starting server from /usr/local/lib/python3.7/dist-packages/h2o/backend/bin/h2o.jar\r\n  Ice root: /tmp/tmp5mullu7m\r\n  JVM stdout: /tmp/tmp5mullu7m/h2o_unknownUser_started_from_python.out\r\n  JVM stderr: /tmp/tmp5mullu7m/h2o_unknownUser_started_from_python.err\r\n  Server is running at http://127.0.0.1:54321\r\nConnecting to H2O server at http://127.0.0.1:54321 ... successful.\r\n\r\nH2O_cluster_uptime: \t02 secs\r\nH2O_cluster_timezone: \tEtc/UTC\r\nH2O_data_parsing_timezone: \tUTC\r\nH2O_cluster_version: \t3.32.1.1\r\nH2O_cluster_version_age: \t3 days\r\nH2O_cluster_name: \tH2O_from_python_unknownUser_0ttq4b\r\nH2O_cluster_total_nodes: \t1\r\nH2O_cluster_free_memory: \t3.180 Gb\r\nH2O_cluster_total_cores: \t2\r\nH2O_cluster_allowed_cores: \t2\r\nH2O_cluster_status: \taccepting new members, healthy\r\nH2O_connection_url: \thttp://127.0.0.1:54321\r\nH2O_connection_proxy: \t{&quot;http&quot;: null, &quot;https&quot;: null}\r\nH2O_internal_security: \tFalse\r\nH2O_API_Extensions: \tAmazon S3, XGBoost, Algos, AutoML, Core V3, TargetEncoder, Core V4\r\nPython_version: \t3.7.10 final\r\n\r\nhttps://0258qgrdz6tx-496ff2e9c6d22116-54321-colab.googleusercontent.com/\r\n```\r\n\r\nand clicking https://0258qgrdz6tx-496ff2e9c6d22116-54321-colab.googleusercontent.com/ returns HTTP 500 error with &quot;Not Implemented&quot; message instead of H2O Flow (Web UI) page.\r\n\r\nIt seems that the message is returned by [Persist](https://github.com/h2oai/h2o-3/blob/master/h2o-core/src/main/java/water/persist/Persist.java) class.\r\n","title":"How to access H2O Flow when using Google Colab","body":"<p>Does anyone know how to access H2O Flow when using Google Colab?</p>\n<p>My code is as follows:</p>\n<pre><code>!pip install H2O\n</code></pre>\n<pre class=\"lang-py prettyprint-override\"><code>import h2o\nh2o.init(bind_to_localhost=False, log_dir=&quot;./&quot;)\nfrom google.colab.output import eval_js\nprint(eval_js(&quot;google.colab.kernel.proxyPort(54321)&quot;))\n</code></pre>\n<p>this code shows the following output:</p>\n<pre><code>Checking whether there is an H2O instance running at http://localhost:54321 ..... not found.\nAttempting to start a local H2O server...\n  Java Version: openjdk version &quot;11.0.10&quot; 2021-01-19; OpenJDK Runtime Environment (build 11.0.10+9-Ubuntu-0ubuntu1.18.04); OpenJDK 64-Bit Server VM (build 11.0.10+9-Ubuntu-0ubuntu1.18.04, mixed mode, sharing)\n  Starting server from /usr/local/lib/python3.7/dist-packages/h2o/backend/bin/h2o.jar\n  Ice root: /tmp/tmp5mullu7m\n  JVM stdout: /tmp/tmp5mullu7m/h2o_unknownUser_started_from_python.out\n  JVM stderr: /tmp/tmp5mullu7m/h2o_unknownUser_started_from_python.err\n  Server is running at http://127.0.0.1:54321\nConnecting to H2O server at http://127.0.0.1:54321 ... successful.\n\nH2O_cluster_uptime:     02 secs\nH2O_cluster_timezone:   Etc/UTC\nH2O_data_parsing_timezone:  UTC\nH2O_cluster_version:    3.32.1.1\nH2O_cluster_version_age:    3 days\nH2O_cluster_name:   H2O_from_python_unknownUser_0ttq4b\nH2O_cluster_total_nodes:    1\nH2O_cluster_free_memory:    3.180 Gb\nH2O_cluster_total_cores:    2\nH2O_cluster_allowed_cores:  2\nH2O_cluster_status:     accepting new members, healthy\nH2O_connection_url:     http://127.0.0.1:54321\nH2O_connection_proxy:   {&quot;http&quot;: null, &quot;https&quot;: null}\nH2O_internal_security:  False\nH2O_API_Extensions:     Amazon S3, XGBoost, Algos, AutoML, Core V3, TargetEncoder, Core V4\nPython_version:     3.7.10 final\n\nhttps://0258qgrdz6tx-496ff2e9c6d22116-54321-colab.googleusercontent.com/\n</code></pre>\n<p>and clicking <a href=\"https://0258qgrdz6tx-496ff2e9c6d22116-54321-colab.googleusercontent.com/\" rel=\"nofollow noreferrer\">https://0258qgrdz6tx-496ff2e9c6d22116-54321-colab.googleusercontent.com/</a> returns HTTP 500 error with &quot;Not Implemented&quot; message instead of H2O Flow (Web UI) page.</p>\n<p>It seems that the message is returned by <a href=\"https://github.com/h2oai/h2o-3/blob/master/h2o-core/src/main/java/water/persist/Persist.java\" rel=\"nofollow noreferrer\">Persist</a> class.</p>\n"},{"tags":["java","android","nginx","ssl","mobile"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1641084632,"post_id":70552789,"comment_id":124718097,"body_markdown":"is this not just a dupe of https://stackoverflow.com/questions/34766380/volley-signature-uses-an-insecure-hash-function","body":"is this not just a dupe of <a href=\"https://stackoverflow.com/questions/34766380/volley-signature-uses-an-insecure-hash-function\" title=\"volley signature uses an insecure hash function\">stackoverflow.com/questions/34766380/&hellip;</a>"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1641084709,"post_id":70552789,"comment_id":124718103,"body_markdown":"if android is detecting this is a weak hash, it&#39;s probably a bigger issue than just trying to fix it for your app, so not sure this is an android issue, probably something you have to resolve with your certificate","body":"if android is detecting this is a weak hash, it&#39;s probably a bigger issue than just trying to fix it for your app, so not sure this is an android issue, probably something you have to resolve with your certificate"},{"owner":{"account_id":18806833,"reputation":1,"user_id":13715976,"display_name":"Matthew Uy"},"score":0,"creation_date":1641108203,"post_id":70552789,"comment_id":124720398,"body_markdown":"@local_nobody thanks for the input. What we don&#39;t wanna do is fix our app.","body":"@local_nobody thanks for the input. What we don&#39;t wanna do is fix our app."}],"owner":{"account_id":18806833,"reputation":1,"user_id":13715976,"display_name":"Matthew Uy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641082329,"creation_date":1641082329,"question_id":70552789,"body_markdown":"The android app stops connecting to the server after installing a new ssl. The ssl was bought from godaddy. It was working perfectly when I used the current ssl, but it&#39;s about to expire so I installed the new ssl. I don&#39;t think there was a problem when installing the ssl. I included the intermediate cert (gd_bundle-g2-g1.crt) but still the problem exists.\r\n\r\nHere is the error that I am getting from the mobile app: (log from logcat).\r\n\r\n    OkHttpClient: &lt;-- HTTP FAILED: javax.net.ssl.SSLHandshakeException: Unacceptable certificate: OU=Go Daddy Class 2 Certification Authority, O=&quot;The Go Daddy Group, Inc.&quot;, C=US W/System.err: Caused by: java.security.cert.CertificateException: Signature uses an insecure hash function:\r\n\r\nAny help would be appreciated.","title":"android app not connecting to server after renewing ssl","body":"<p>The android app stops connecting to the server after installing a new ssl. The ssl was bought from godaddy. It was working perfectly when I used the current ssl, but it's about to expire so I installed the new ssl. I don't think there was a problem when installing the ssl. I included the intermediate cert (gd_bundle-g2-g1.crt) but still the problem exists.</p>\n<p>Here is the error that I am getting from the mobile app: (log from logcat).</p>\n<pre><code>OkHttpClient: &lt;-- HTTP FAILED: javax.net.ssl.SSLHandshakeException: Unacceptable certificate: OU=Go Daddy Class 2 Certification Authority, O=&quot;The Go Daddy Group, Inc.&quot;, C=US W/System.err: Caused by: java.security.cert.CertificateException: Signature uses an insecure hash function:\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","user-interface","javafx","pane"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1641082167,"post_id":70552756,"comment_id":124717780,"body_markdown":"work through a tutorial about how to use layouts - when stuck come back with a [mcve] demonstrating what&#39;s wrong","body":"work through a tutorial about how to use layouts - when stuck come back with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what&#39;s wrong"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641084276,"post_id":70552756,"comment_id":124718059,"body_markdown":"[bouncing ball app](https://gist.github.com/james-d/8327842)","body":"<a href=\"https://gist.github.com/james-d/8327842\" rel=\"nofollow noreferrer\">bouncing ball app</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641098807,"post_id":70552756,"comment_id":124719537,"body_markdown":"“the minX of the Pane seems to get smaller as the ball goes off the edge of it” -&gt; don’t let the ball go off the edge.","body":"“the minX of the Pane seems to get smaller as the ball goes off the edge of it” -&gt; don’t let the ball go off the edge."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641098840,"post_id":70552756,"comment_id":124719542,"body_markdown":"Another example: [breakout game](https://gist.github.com/jewelsea/910dae32ef6d1bd4257850031aefcba2) (more complex).","body":"Another example: <a href=\"https://gist.github.com/jewelsea/910dae32ef6d1bd4257850031aefcba2\" rel=\"nofollow noreferrer\">breakout game</a> (more complex)."},{"owner":{"account_id":13853453,"reputation":81,"user_id":10000830,"display_name":"Makori SM"},"score":0,"creation_date":1641138267,"post_id":70552756,"comment_id":124725793,"body_markdown":"@jewelsea so from what you&#39;re saying/your second example I&#39;m getting the impression that Panes always resize? As in there&#39;s no way to really get the bounds without just extracting them out into a second object at creation?","body":"@jewelsea so from what you&#39;re saying/your second example I&#39;m getting the impression that Panes always resize? As in there&#39;s no way to really get the bounds without just extracting them out into a second object at creation?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1641138702,"post_id":70552756,"comment_id":124725901,"body_markdown":"@MakoriSM No, that’s not what I think jewelsea is saying. If you check the current bounds of the pane when you love the ball, and just don’t move the ball outside those bounds, then the bounds should never change.","body":"@MakoriSM No, that’s not what I think jewelsea is saying. If you check the current bounds of the pane when you love the ball, and just don’t move the ball outside those bounds, then the bounds should never change."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1641138756,"post_id":70552756,"comment_id":124725916,"body_markdown":"Read the links and try to implement it the same way. If you can’t do it, create and post a [mre] demonstrating the problem.","body":"Read the links and try to implement it the same way. If you can’t do it, create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem."},{"owner":{"account_id":13853453,"reputation":81,"user_id":10000830,"display_name":"Makori SM"},"score":0,"creation_date":1641140850,"post_id":70552756,"comment_id":124726410,"body_markdown":"@James_D I&#39;m able to do it in that way, but that&#39;s a different implementation to the one I proposed, one that only is necessary if my assumption that &quot;you can&#39;t check the ball once it has gone off the edge because the Pane will always resize&quot; is true. I want to know if there is no way to prevent this Pane resizing.","body":"@James_D I&#39;m able to do it in that way, but that&#39;s a different implementation to the one I proposed, one that only is necessary if my assumption that &quot;you can&#39;t check the ball once it has gone off the edge because the Pane will always resize&quot; is true. I want to know if there is no way to prevent this Pane resizing."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1641141018,"post_id":70552756,"comment_id":124726456,"body_markdown":"@MakoriSM “Move it and then move it back if it moved off the edge of the pane”, as compared to “move it only if moving it doesn’t move it off the edge of the pane” just seems like a terrible choice anyway. It’s not really possible to answer the question you’re asking without more information though.","body":"@MakoriSM “Move it and then move it back if it moved off the edge of the pane”, as compared to “move it only if moving it doesn’t move it off the edge of the pane” just seems like a terrible choice anyway. It’s not really possible to answer the question you’re asking without more information though."}],"owner":{"account_id":13853453,"reputation":81,"user_id":10000830,"display_name":"Makori SM"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1641143124,"answer_count":0,"score":3,"last_activity_date":1641081730,"creation_date":1641081730,"question_id":70552756,"body_markdown":"I am currently using JavaFX `Pane` and have a ball class (an `Imageview`) within it that I want to bounce off the edges of it like is detailed [here][1] however the `minX` of the Pane seems to get smaller as the ball goes off the edge of it. \r\n\r\nIt seems the `Pane` resizes to fit all the nodes added to it, meaning I can&#39;t ever check if the ball goes off the left side of the `Pane`. Is there a way to prevent this resizing or a better way to check the edges of the Pane?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20022889/how-to-make-the-ball-bounce-off-the-walls-in-javafx","title":"How can I prevent my Javafx Pane from resizing to fit it&#39;s children","body":"<p>I am currently using JavaFX <code>Pane</code> and have a ball class (an <code>Imageview</code>) within it that I want to bounce off the edges of it like is detailed <a href=\"https://stackoverflow.com/questions/20022889/how-to-make-the-ball-bounce-off-the-walls-in-javafx\">here</a> however the <code>minX</code> of the Pane seems to get smaller as the ball goes off the edge of it.</p>\n<p>It seems the <code>Pane</code> resizes to fit all the nodes added to it, meaning I can't ever check if the ball goes off the left side of the <code>Pane</code>. Is there a way to prevent this resizing or a better way to check the edges of the Pane?</p>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1641288354,"post_id":70552751,"comment_id":124760246,"body_markdown":"You aren&#39;t measuring runtime as you don&#39;t know that the process has ended: `p.waitFor()`","body":"You aren&#39;t measuring runtime as you don&#39;t know that the process has ended: <code>p.waitFor()</code>"},{"owner":{"account_id":16626227,"reputation":111,"user_id":12015272,"display_name":"Curious Person"},"score":0,"creation_date":1641347711,"post_id":70552751,"comment_id":124780314,"body_markdown":"Can you provide an answer?","body":"Can you provide an answer?"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1641395715,"post_id":70552751,"comment_id":124794436,"body_markdown":"External tools such as a profiler, VisualVM, the attach API, `ps` and `jmap` may help you find details of memory use of another running Java process.","body":"External tools such as a profiler, VisualVM, the attach API, <code>ps</code> and <code>jmap</code> may help you find details of memory use of another running Java process."}],"owner":{"account_id":16626227,"reputation":111,"user_id":12015272,"display_name":"Curious Person"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1641081581,"creation_date":1641081581,"question_id":70552751,"body_markdown":"Say I have a Java program A from which I call another Java program B, with the help of Process:\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;java B&quot;);\r\n\r\nI also want to calculate the memory used by program B from program A, but am unable to figure it out. I can measure the runtime by the following:\r\n\r\n    long start = System.currentTimeMillis();\r\n    Process p = Runtime.getRuntime().exec(&quot;java B&quot;);\r\n    long end = System.currentTimeMillis();\r\n    long runtime = end - start;\r\n\r\nI was wondering if we could do something similar, to measure the memory of B from A? I tried doing Runtime.getRuntime().totalMemory(), but that will fetch the memory of program A not B.","title":"Measure memory used by a program from another program","body":"<p>Say I have a Java program A from which I call another Java program B, with the help of Process:</p>\n<pre><code>Process p = Runtime.getRuntime().exec(&quot;java B&quot;);\n</code></pre>\n<p>I also want to calculate the memory used by program B from program A, but am unable to figure it out. I can measure the runtime by the following:</p>\n<pre><code>long start = System.currentTimeMillis();\nProcess p = Runtime.getRuntime().exec(&quot;java B&quot;);\nlong end = System.currentTimeMillis();\nlong runtime = end - start;\n</code></pre>\n<p>I was wondering if we could do something similar, to measure the memory of B from A? I tried doing Runtime.getRuntime().totalMemory(), but that will fetch the memory of program A not B.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1641089024,"post_id":70551748,"comment_id":124718554,"body_markdown":"What is the JSON structure you are expecting for `CustomClass_2`? Could you please include some sample JSON data.","body":"What is the JSON structure you are expecting for <code>CustomClass_2</code>? Could you please include some sample JSON data."}],"answers":[{"tags":[],"owner":{"account_id":355707,"reputation":2299,"user_id":694804,"display_name":"jCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641080872,"creation_date":1641080872,"answer_id":70552703,"question_id":70551748,"body_markdown":"First, the `JsonSyntaxException` is thrown in the &quot;wrong&quot; case where the data to deserialize does not match the string data, so maybe this can be ignored because the other case will deserialize the string correctly.\r\nIf you need to suppress this exception, then you might consider using some different approach to define your objects. This might also be the case when `Collection`s will be serialized as objects and not as arrays and therefore the &quot;wrong&quot; deserialization is done.\r\n\r\nSecond, it seems that deriving from a `Collection` (and `List`) and adding fields to derived classes, GSON will only serialize the `Collection`&#39;s elements, according to [this source][1]. For this kind of classes, you might need a custom `TypeAdapter` implementation to achieve the desired JSON string.\r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/internal/bind/CollectionTypeAdapterFactory.java#L95","title":"GSON parse serialized instance of uncertain type","body":"<p>First, the <code>JsonSyntaxException</code> is thrown in the &quot;wrong&quot; case where the data to deserialize does not match the string data, so maybe this can be ignored because the other case will deserialize the string correctly.\nIf you need to suppress this exception, then you might consider using some different approach to define your objects. This might also be the case when <code>Collection</code>s will be serialized as objects and not as arrays and therefore the &quot;wrong&quot; deserialization is done.</p>\n<p>Second, it seems that deriving from a <code>Collection</code> (and <code>List</code>) and adding fields to derived classes, GSON will only serialize the <code>Collection</code>'s elements, according to <a href=\"https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/internal/bind/CollectionTypeAdapterFactory.java#L95\" rel=\"nofollow noreferrer\">this source</a>. For this kind of classes, you might need a custom <code>TypeAdapter</code> implementation to achieve the desired JSON string.</p>\n"}],"owner":{"account_id":1612506,"reputation":163,"user_id":1491069,"display_name":"Alberto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641080872,"creation_date":1641069926,"question_id":70551748,"body_markdown":"In the following example I have to parse a json string which is the serialization of an object that may be either instance of CustomClass_1 or of CustomClass_2 and I don&#39;t know it beforehand. The problems are as follows:\r\n\r\n - I get an exception com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY\r\n - the json string produced by GSON from the instance of CustomClass_2 is just the string *[&quot;item&quot;]* as if the object was just an instance of the superclass *ArrayList&lt;String&gt;*\r\n\r\nAny suggestion to achieve what I want?\r\n\r\n    class CustomClass_1 {\r\n      String type;\r\n\r\n      CustomClass_1(){\r\n        type = &quot;CustomClass_1&quot;;\r\n      }\r\n    }\r\n    \r\n    class CustomClass_2 extends ArrayList&lt;String&gt; {\r\n      String type;\r\n\r\n      CustomClass_2(){\r\n        super();\r\n        type = &quot;CustomClass_2&quot;;\r\n        this.add(&quot;item&quot;);\r\n      }\r\n    }\r\n\r\n    public class DeserializationTest {\r\n\r\n      @Test\r\n      public void testIncomingMessageParsing(){\r\n        String serialized_object = receive();\r\n        CustomClass_1 cc1 = null;\r\n        CustomClass_2 cc2 = null;\r\n        try{\r\n          cc1 = (new Gson()).fromJson(serialized_object, CustomClass_1.class);\r\n        } catch (Exception e){\r\n          e.printStackTrace();\r\n        }\r\n        try{\r\n          cc2 = (new Gson()).fromJson(serialized_object, CustomClass_2.class);\r\n        } catch (Exception e){\r\n          e.printStackTrace();\r\n        }\r\n        if (cc1 != null &amp;&amp; cc1.type.equals(&quot;CustomClass_1&quot;)) {\r\n          System.out.println(&quot;It&#39;s a CustomClass_1.&quot;);\r\n        } else if (cc2 != null &amp;&amp; cc2.type.equals(&quot;CustomClass_2&quot;)) {\r\n          System.out.println(&quot;It&#39;s a CustomClass_2.&quot;);\r\n        }\r\n      }\r\n\r\n      String receive(){\r\n        CustomClass_1 cc1 = new CustomClass_1();\r\n        CustomClass_2 cc2 = new CustomClass_2();\r\n        String serialized_object = &quot;&quot;;\r\n        Gson gson = new Gson();\r\n        boolean head = (new Random()).nextBoolean();\r\n        if (head){\r\n          serialized_object = gson.toJson(cc1);\r\n        } else {\r\n          serialized_object = gson.toJson(cc2);\r\n        }\r\n        return serialized_object;\r\n      }\r\n    } // end of class","title":"GSON parse serialized instance of uncertain type","body":"<p>In the following example I have to parse a json string which is the serialization of an object that may be either instance of CustomClass_1 or of CustomClass_2 and I don't know it beforehand. The problems are as follows:</p>\n<ul>\n<li>I get an exception com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY</li>\n<li>the json string produced by GSON from the instance of CustomClass_2 is just the string <em>[&quot;item&quot;]</em> as if the object was just an instance of the superclass <em>ArrayList</em></li>\n</ul>\n<p>Any suggestion to achieve what I want?</p>\n<pre><code>class CustomClass_1 {\n  String type;\n\n  CustomClass_1(){\n    type = &quot;CustomClass_1&quot;;\n  }\n}\n\nclass CustomClass_2 extends ArrayList&lt;String&gt; {\n  String type;\n\n  CustomClass_2(){\n    super();\n    type = &quot;CustomClass_2&quot;;\n    this.add(&quot;item&quot;);\n  }\n}\n\npublic class DeserializationTest {\n\n  @Test\n  public void testIncomingMessageParsing(){\n    String serialized_object = receive();\n    CustomClass_1 cc1 = null;\n    CustomClass_2 cc2 = null;\n    try{\n      cc1 = (new Gson()).fromJson(serialized_object, CustomClass_1.class);\n    } catch (Exception e){\n      e.printStackTrace();\n    }\n    try{\n      cc2 = (new Gson()).fromJson(serialized_object, CustomClass_2.class);\n    } catch (Exception e){\n      e.printStackTrace();\n    }\n    if (cc1 != null &amp;&amp; cc1.type.equals(&quot;CustomClass_1&quot;)) {\n      System.out.println(&quot;It's a CustomClass_1.&quot;);\n    } else if (cc2 != null &amp;&amp; cc2.type.equals(&quot;CustomClass_2&quot;)) {\n      System.out.println(&quot;It's a CustomClass_2.&quot;);\n    }\n  }\n\n  String receive(){\n    CustomClass_1 cc1 = new CustomClass_1();\n    CustomClass_2 cc2 = new CustomClass_2();\n    String serialized_object = &quot;&quot;;\n    Gson gson = new Gson();\n    boolean head = (new Random()).nextBoolean();\n    if (head){\n      serialized_object = gson.toJson(cc1);\n    } else {\n      serialized_object = gson.toJson(cc2);\n    }\n    return serialized_object;\n  }\n} // end of class\n</code></pre>\n"},{"tags":["java","decimalformat"],"answers":[{"tags":[],"owner":{"account_id":40248,"reputation":56308,"user_id":116614,"accept_rate":92,"display_name":"mellamokb"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1334334446,"creation_date":1334334446,"answer_id":10144691,"question_id":10144636,"body_markdown":"This is intentional behavior.  From [the documentation][1]:\n\n&gt;Rounding\n&gt;\n&gt;DecimalFormat uses half-even rounding (see ROUND_HALF_EVEN) for formatting.\n\nAbout [ROUND_HALF_EVEN][2]:\n\n&gt;Rounding mode to round towards the &quot;nearest neighbor&quot; unless both neighbors are equidistant, in which case, round towards the even neighbor. Behaves as for ROUND_HALF_UP if the digit to the left of the discarded fraction is odd; behaves as for ROUND_HALF_DOWN if it&#39;s even. Note that this is the rounding mode that minimizes cumulative error when applied repeatedly over a sequence of calculations.\n\nThis is also known as banker&#39;s rounding.\n\n[`Math.Round`][3] on the other hand uses the following formula, which is &quot;normal&quot; rounding:\n\n    (long)Math.floor(a + 0.5d)\n\n\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/text/DecimalFormat.html\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html#ROUND_HALF_EVEN\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#round%28double%29","title":"Rounding with DecimalFormat in Java","body":"<p>This is intentional behavior.  From <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/text/DecimalFormat.html\" rel=\"noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>Rounding</p>\n<p>DecimalFormat uses half-even rounding (see ROUND_HALF_EVEN) for formatting.</p>\n</blockquote>\n<p>About <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html#ROUND_HALF_EVEN\" rel=\"noreferrer\">ROUND_HALF_EVEN</a>:</p>\n<blockquote>\n<p>Rounding mode to round towards the &quot;nearest neighbor&quot; unless both neighbors are equidistant, in which case, round towards the even neighbor. Behaves as for ROUND_HALF_UP if the digit to the left of the discarded fraction is odd; behaves as for ROUND_HALF_DOWN if it's even. Note that this is the rounding mode that minimizes cumulative error when applied repeatedly over a sequence of calculations.</p>\n</blockquote>\n<p>This is also known as banker's rounding.</p>\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#round%28double%29\" rel=\"noreferrer\"><code>Math.Round</code></a> on the other hand uses the following formula, which is &quot;normal&quot; rounding:</p>\n<pre><code>(long)Math.floor(a + 0.5d)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1358,"reputation":13478,"user_id":1813,"accept_rate":83,"display_name":"Jon Bright"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1641080438,"creation_date":1334334473,"answer_id":10144696,"question_id":10144636,"body_markdown":"The default rounding mode of [`DecimalFormat`][1] is [`RoundingMode.HALF_EVEN`][2].  This means that it rounds up, or rounds down if the number is nearer to the next neighbour.  When the number is exactly between two neighbours (in your case, 2 and 3), it rounds to the nearest even number (in your case, 2).\r\n\r\nAs you can see, when you tried it with 3.5, it rounded to 4.\r\n\r\nIf you want the more &quot;intuitive&quot; behaviour, known as “schoolhouse rounding” as it is often taught to children, use [`RoundingMode.HALF_UP`][3].\r\n\r\n    setRoundingMode(RoundingMode.HALF_UP)\r\n\r\nIf the number is exactly between two neighbours, `HALF_UP` will always round upwards.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DecimalFormat.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/RoundingMode.html#HALF_EVEN\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/RoundingMode.html#HALF_UP","title":"Rounding with DecimalFormat in Java","body":"<p>The default rounding mode of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\"><code>DecimalFormat</code></a> is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/RoundingMode.html#HALF_EVEN\" rel=\"nofollow noreferrer\"><code>RoundingMode.HALF_EVEN</code></a>.  This means that it rounds up, or rounds down if the number is nearer to the next neighbour.  When the number is exactly between two neighbours (in your case, 2 and 3), it rounds to the nearest even number (in your case, 2).</p>\n<p>As you can see, when you tried it with 3.5, it rounded to 4.</p>\n<p>If you want the more &quot;intuitive&quot; behaviour, known as “schoolhouse rounding” as it is often taught to children, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/RoundingMode.html#HALF_UP\" rel=\"nofollow noreferrer\"><code>RoundingMode.HALF_UP</code></a>.</p>\n<pre><code>setRoundingMode(RoundingMode.HALF_UP)\n</code></pre>\n<p>If the number is exactly between two neighbours, <code>HALF_UP</code> will always round upwards.</p>\n"}],"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24441,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":10144691,"answer_count":2,"score":19,"last_activity_date":1641080438,"creation_date":1334334201,"question_id":10144636,"body_markdown":"Let&#39;s look at the following statements in Java.\r\n\r\n    System.out.println(new DecimalFormat(&quot;0&quot;).format(2.4)); //returns 2\r\n\r\n    System.out.println(new DecimalFormat(&quot;0&quot;).format(2.5)); //returns 2  &lt;---Concentrate here\r\n    System.out.println(Math.round(2.5));                    //returns 3\r\n\r\n    System.out.println(new DecimalFormat(&quot;0&quot;).format(2.6)); //returns 3\r\n    System.out.println(new DecimalFormat(&quot;0&quot;).format(3.5)); //returns 4\r\n\r\nIn the above statements, all other cases are obvious except the following.\r\n\r\n    System.out.println(new DecimalFormat(&quot;0&quot;).format(2.5));\r\n\r\nIt should return `3` but it returns `2`. How?","title":"Rounding with DecimalFormat in Java","body":"<p>Let's look at the following statements in Java.</p>\n\n<pre><code>System.out.println(new DecimalFormat(\"0\").format(2.4)); //returns 2\n\nSystem.out.println(new DecimalFormat(\"0\").format(2.5)); //returns 2  &lt;---Concentrate here\nSystem.out.println(Math.round(2.5));                    //returns 3\n\nSystem.out.println(new DecimalFormat(\"0\").format(2.6)); //returns 3\nSystem.out.println(new DecimalFormat(\"0\").format(3.5)); //returns 4\n</code></pre>\n\n<p>In the above statements, all other cases are obvious except the following.</p>\n\n<pre><code>System.out.println(new DecimalFormat(\"0\").format(2.5));\n</code></pre>\n\n<p>It should return <code>3</code> but it returns <code>2</code>. How?</p>\n"},{"tags":["java","spring","junit","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":2214769,"reputation":300,"user_id":1955694,"display_name":"Rauf Aghayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641080202,"creation_date":1641080202,"answer_id":70552658,"question_id":70552502,"body_markdown":"If you want to do a unit test, you should exclude the security part here. You can set up MockMvc with a custom security config, see: \r\n\r\n    RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    public class SecuredControllerSpringBootIntegrationTest {\r\n    \r\n        @Autowired\r\n        private WebApplicationContext context;\r\n    \r\n        private MockMvc mvc;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            mvc = MockMvcBuilders\r\n              .webAppContextSetup(context)\r\n              .apply(springSecurity())\r\n              .build();\r\n        }\r\n    \r\n        // ... other methods\r\n    \r\n        @WithMockUser(&quot;spring&quot;)\r\n        @Test\r\n        public void givenAuthRequestOnPrivateService_shouldSucceedWith200() throws Exception {\r\n            mvc.perform(get(&quot;/private/hello&quot;).contentType(MediaType.APPLICATION_JSON))\r\n              .andExpect(status().isOk());\r\n        }\r\n    }  \r\n\r\nFor more details: https://www.baeldung.com/spring-security-integration-tests","title":"How to mock a class that implements UserDetailsService","body":"<p>If you want to do a unit test, you should exclude the security part here. You can set up MockMvc with a custom security config, see:</p>\n<pre><code>RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\npublic class SecuredControllerSpringBootIntegrationTest {\n\n    @Autowired\n    private WebApplicationContext context;\n\n    private MockMvc mvc;\n\n    @Before\n    public void setup() {\n        mvc = MockMvcBuilders\n          .webAppContextSetup(context)\n          .apply(springSecurity())\n          .build();\n    }\n\n    // ... other methods\n\n    @WithMockUser(&quot;spring&quot;)\n    @Test\n    public void givenAuthRequestOnPrivateService_shouldSucceedWith200() throws Exception {\n        mvc.perform(get(&quot;/private/hello&quot;).contentType(MediaType.APPLICATION_JSON))\n          .andExpect(status().isOk());\n    }\n}  \n</code></pre>\n<p>For more details: <a href=\"https://www.baeldung.com/spring-security-integration-tests\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-integration-tests</a></p>\n"}],"owner":{"account_id":8077755,"reputation":682,"user_id":6088149,"accept_rate":100,"display_name":"exSnake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641080202,"creation_date":1641078246,"question_id":70552502,"body_markdown":"I have a Client/Server architecture application with SpringBoot for a University Project.\r\n\r\nI&#39;m trying to UnitTest my ManageUserController using JUnit and MockMvc.\r\n\r\nI need to test that a method, behind a certain path that is accessible to everyone (POST, &quot;api/v1/user/signup&quot;), will return a successful status code, so I mocked the ManageUserService to return me a newUser when registrate(user) has been called.\r\n\r\nManageUserServiceImpl implements UserDetailsService overriding loadUserByUsername from Springboot Security to check if a user is registered, to validate his password and his role.\r\n\r\nProblem is that even if it&#39;s a path is accessible to everyone, when I run the test, 403 Forbidden is returned. I found the problem is in a certain way the UserDetailsService, because if i remove it everything seem to be working, i&#39;m strugglin with this from yesterday, searching for a solution but i don&#39;t know how to work it out.\r\n\r\nThis is my SecurityConfig:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    private final UserDetailsService userDetailsService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        CustomAuthenticationFilter customAuthenticationFilter = new CustomAuthenticationFilter(authenticationManagerBean());\r\n        customAuthenticationFilter.setFilterProcessesUrl(&quot;/api/v1/user/login&quot;);\r\n        http.csrf().disable();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.authorizeRequests().antMatchers(&quot;/api/v1/user/signup&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n        http.addFilter(customAuthenticationFilter);\r\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        http.exceptionHandling((e) -&gt; e.accessDeniedHandler(new AccessDeniedHandler() {\r\n            @Override\r\n            public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\r\n                response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n                response.setHeader(&quot;error&quot;, &quot;Autorizzazione fallita&quot;);\r\n                response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n                response.getWriter().write(&quot;{\\&quot;message\\&quot;: \\&quot;Non sei autorizzato per questa funzionalit&#224;\\&quot;, \\&quot;status\\&quot;: \\&quot;error\\&quot;}&quot;);\r\n            }\r\n        }));\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n}\r\n```\r\n\r\nManageUserController\r\n\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/user&quot;)\r\npublic class ManageUserController {\r\n\r\n    private ManageUserService service;\r\n\r\n    @Autowired\r\n    public ManageUserController(ManageUserService service) {\r\n        this.service = service;\r\n    }\r\n\r\n    @PostMapping(&quot;signup&quot;)\r\n    ResponseEntity&lt;Object&gt; signup(@RequestBody User user) {\r\n        User newUser = null;\r\n        try {\r\n            newUser = service.signup(user);\r\n        } catch (IllegalArgumentException e) {\r\n            return ResponseHandler.generateResponse(HttpStatus.BAD_REQUEST, e.getMessage());\r\n        }\r\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n        response.put(&quot;utente&quot;, newUser);\r\n        return ResponseHandler.generateResponse(HttpStatus.CREATED, &quot;response&quot;,\r\n                response);\r\n    }\r\n}\r\n```\r\n\r\nManageUserService\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\n@Slf4j\r\n@Transactional\r\npublic class ManageUserServiceImpl implements ManageUserService, UserDetailsService {\r\n\r\n    private final UtenteRepository utenteRepository;\r\n    private final RuoloRepository ruoloRepository;\r\n    private final BCryptPasswordEncoder passwordEncoder;\r\n\r\n\r\n    @Override\r\n    public User signup(User user) throws IllegalArgumentException {\r\n        if (user == null) {\r\n            throw new IllegalArgumentException(&quot;Invalid User&quot;);\r\n        }\r\n        if (utenteRepository.existsByEmail(user.getEmail())) {\r\n            throw new IllegalArgumentException(&quot;Email already exists&quot;);\r\n        }\r\n        user.setRuolo(ruoloRepository.findByName(&quot;TRAINER&quot;));\r\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n        return utenteRepository.save(user);\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * This method find an user from email\r\n     *\r\n     * @param email email of the user to search for\r\n     * @return UserDetails\r\n     * @throws UsernameNotFoundException\r\n     */\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        User user = utenteRepository.findByEmail(email);\r\n        if (user == null) {\r\n            throw new UsernameNotFoundException(&quot;User not found in DB&quot;);\r\n        }\r\n        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n\r\n        authorities.add(new SimpleGrantedAuthority(user.getRuolo().getNome()));\r\n\r\n        return new org.springframework.security.core.userdetails.User(user.getEmail(), user.getPassword(), authorities);\r\n    }\r\n\r\n}\r\n```\r\n\r\nManageUserControllerTest\r\n\r\n```\r\n@ActiveProfiles(&quot;test&quot;)\r\n@RunWith(SpringRunner.class)\r\n@ContextConfiguration(classes = BackendApplicationTest.class)\r\n@WebMvcTest(ManageUserController.class)\r\nclass ManageUserControllerTest {\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private ManageUserService gestioneUtenzaService;\r\n\r\n    @Test\r\n    void createMockMvc() {\r\n        Assert.assertNotNull(mockMvc);\r\n    }\r\n\r\n    @Test\r\n    void signupTest() throws Exception {\r\n        String url = &quot;/api/v1/user/signup&quot;;\r\n        Ruolo ruoloPrep = new Role(1L, &quot;TRAINER&quot;, null, null);\r\n        String utenteJson = &quot;{\\n&quot; +\r\n                &quot;    \\&quot;name\\&quot;: \\&quot;Name\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;surname\\&quot;: \\&quot;Surname\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;birth\\&quot;: \\&quot;2000-03-03\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;gender\\&quot;: \\&quot;M\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;email\\&quot;: \\&quot;test@gmail.com\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;password\\&quot;: \\&quot;1234*\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;confirmPassword\\&quot;: \\&quot;1234*\\&quot;\\n&quot; +\r\n                &quot;}&quot;;\r\n        User user = new User(null, &quot;Name&quot;, &quot;Surname&quot;, &quot;test@gmail.com&quot;, &quot;1234&quot;, true, LocalDate.parse(&quot;2000-03-03&quot;), null,null, &quot;M&quot;, null, null, null,null, null, null, null, null, null);\r\n        User newUser = new User(1L, &quot;Name&quot;, &quot;Surname&quot;, &quot;test@gmail.com&quot;, &quot;1234&quot;, true, LocalDate.parse(&quot;2000-03-03&quot;), null,null, &quot;M&quot;, null, null, null,null, null, null, null, null, null);\r\n        when(gestioneUtenzaService.signup(user)).thenReturn(newUser);\r\n        mockMvc.perform(post(url).content(utenteJson).contentType(MediaType.APPLICATION_JSON)).andDo(print()).andExpect(status().isOk());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAny clue of how i could mock the UserDetailsService too and why i still get 403 even with a path that have a permitAll()?\r\nIf i run the server and use Postman to make the request, everything is working fine.","title":"How to mock a class that implements UserDetailsService","body":"<p>I have a Client/Server architecture application with SpringBoot for a University Project.</p>\n<p>I'm trying to UnitTest my ManageUserController using JUnit and MockMvc.</p>\n<p>I need to test that a method, behind a certain path that is accessible to everyone (POST, &quot;api/v1/user/signup&quot;), will return a successful status code, so I mocked the ManageUserService to return me a newUser when registrate(user) has been called.</p>\n<p>ManageUserServiceImpl implements UserDetailsService overriding loadUserByUsername from Springboot Security to check if a user is registered, to validate his password and his role.</p>\n<p>Problem is that even if it's a path is accessible to everyone, when I run the test, 403 Forbidden is returned. I found the problem is in a certain way the UserDetailsService, because if i remove it everything seem to be working, i'm strugglin with this from yesterday, searching for a solution but i don't know how to work it out.</p>\n<p>This is my SecurityConfig:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final UserDetailsService userDetailsService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        CustomAuthenticationFilter customAuthenticationFilter = new CustomAuthenticationFilter(authenticationManagerBean());\n        customAuthenticationFilter.setFilterProcessesUrl(&quot;/api/v1/user/login&quot;);\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeRequests().antMatchers(&quot;/api/v1/user/signup&quot;).permitAll()\n                .anyRequest().authenticated();\n        http.addFilter(customAuthenticationFilter);\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\n        http.exceptionHandling((e) -&gt; e.accessDeniedHandler(new AccessDeniedHandler() {\n            @Override\n            public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\n                response.setStatus(HttpStatus.UNAUTHORIZED.value());\n                response.setHeader(&quot;error&quot;, &quot;Autorizzazione fallita&quot;);\n                response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n                response.getWriter().write(&quot;{\\&quot;message\\&quot;: \\&quot;Non sei autorizzato per questa funzionalità\\&quot;, \\&quot;status\\&quot;: \\&quot;error\\&quot;}&quot;);\n            }\n        }));\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p>ManageUserController</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;api/v1/user&quot;)\npublic class ManageUserController {\n\n    private ManageUserService service;\n\n    @Autowired\n    public ManageUserController(ManageUserService service) {\n        this.service = service;\n    }\n\n    @PostMapping(&quot;signup&quot;)\n    ResponseEntity&lt;Object&gt; signup(@RequestBody User user) {\n        User newUser = null;\n        try {\n            newUser = service.signup(user);\n        } catch (IllegalArgumentException e) {\n            return ResponseHandler.generateResponse(HttpStatus.BAD_REQUEST, e.getMessage());\n        }\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n        response.put(&quot;utente&quot;, newUser);\n        return ResponseHandler.generateResponse(HttpStatus.CREATED, &quot;response&quot;,\n                response);\n    }\n}\n</code></pre>\n<p>ManageUserService</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@Slf4j\n@Transactional\npublic class ManageUserServiceImpl implements ManageUserService, UserDetailsService {\n\n    private final UtenteRepository utenteRepository;\n    private final RuoloRepository ruoloRepository;\n    private final BCryptPasswordEncoder passwordEncoder;\n\n\n    @Override\n    public User signup(User user) throws IllegalArgumentException {\n        if (user == null) {\n            throw new IllegalArgumentException(&quot;Invalid User&quot;);\n        }\n        if (utenteRepository.existsByEmail(user.getEmail())) {\n            throw new IllegalArgumentException(&quot;Email already exists&quot;);\n        }\n        user.setRuolo(ruoloRepository.findByName(&quot;TRAINER&quot;));\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\n        return utenteRepository.save(user);\n    }\n\n\n\n    /**\n     * This method find an user from email\n     *\n     * @param email email of the user to search for\n     * @return UserDetails\n     * @throws UsernameNotFoundException\n     */\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        User user = utenteRepository.findByEmail(email);\n        if (user == null) {\n            throw new UsernameNotFoundException(&quot;User not found in DB&quot;);\n        }\n        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n\n        authorities.add(new SimpleGrantedAuthority(user.getRuolo().getNome()));\n\n        return new org.springframework.security.core.userdetails.User(user.getEmail(), user.getPassword(), authorities);\n    }\n\n}\n</code></pre>\n<p>ManageUserControllerTest</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\n@RunWith(SpringRunner.class)\n@ContextConfiguration(classes = BackendApplicationTest.class)\n@WebMvcTest(ManageUserController.class)\nclass ManageUserControllerTest {\n    @Autowired\n    private WebApplicationContext webApplicationContext;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private ManageUserService gestioneUtenzaService;\n\n    @Test\n    void createMockMvc() {\n        Assert.assertNotNull(mockMvc);\n    }\n\n    @Test\n    void signupTest() throws Exception {\n        String url = &quot;/api/v1/user/signup&quot;;\n        Ruolo ruoloPrep = new Role(1L, &quot;TRAINER&quot;, null, null);\n        String utenteJson = &quot;{\\n&quot; +\n                &quot;    \\&quot;name\\&quot;: \\&quot;Name\\&quot;,\\n&quot; +\n                &quot;    \\&quot;surname\\&quot;: \\&quot;Surname\\&quot;,\\n&quot; +\n                &quot;    \\&quot;birth\\&quot;: \\&quot;2000-03-03\\&quot;,\\n&quot; +\n                &quot;    \\&quot;gender\\&quot;: \\&quot;M\\&quot;,\\n&quot; +\n                &quot;    \\&quot;email\\&quot;: \\&quot;test@gmail.com\\&quot;,\\n&quot; +\n                &quot;    \\&quot;password\\&quot;: \\&quot;1234*\\&quot;,\\n&quot; +\n                &quot;    \\&quot;confirmPassword\\&quot;: \\&quot;1234*\\&quot;\\n&quot; +\n                &quot;}&quot;;\n        User user = new User(null, &quot;Name&quot;, &quot;Surname&quot;, &quot;test@gmail.com&quot;, &quot;1234&quot;, true, LocalDate.parse(&quot;2000-03-03&quot;), null,null, &quot;M&quot;, null, null, null,null, null, null, null, null, null);\n        User newUser = new User(1L, &quot;Name&quot;, &quot;Surname&quot;, &quot;test@gmail.com&quot;, &quot;1234&quot;, true, LocalDate.parse(&quot;2000-03-03&quot;), null,null, &quot;M&quot;, null, null, null,null, null, null, null, null, null);\n        when(gestioneUtenzaService.signup(user)).thenReturn(newUser);\n        mockMvc.perform(post(url).content(utenteJson).contentType(MediaType.APPLICATION_JSON)).andDo(print()).andExpect(status().isOk());\n    }\n\n}\n\n</code></pre>\n<p>Any clue of how i could mock the UserDetailsService too and why i still get 403 even with a path that have a permitAll()?\nIf i run the server and use Postman to make the request, everything is working fine.</p>\n"},{"tags":["java","minecraft","potion"],"answers":[{"tags":[],"owner":{"account_id":18446687,"reputation":15,"user_id":13437790,"display_name":"JXc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640626913,"creation_date":1640626913,"answer_id":70498713,"question_id":70497060,"body_markdown":"You need to give a integer as the effect &quot;strength&quot;. I don&#39;t know what the Tier belongs to, but maybe that will interrupt it?\r\n\r\nTry to use:\r\n\r\n    Potion heal = new Potion(PotionType.INSTANT_HEAL, 2, false)\r\n\r\n\r\n","title":"Potion Tier 2 bug with toItemStack() method","body":"<p>You need to give a integer as the effect &quot;strength&quot;. I don't know what the Tier belongs to, but maybe that will interrupt it?</p>\n<p>Try to use:</p>\n<pre><code>Potion heal = new Potion(PotionType.INSTANT_HEAL, 2, false)\n</code></pre>\n"}],"owner":{"account_id":22253909,"reputation":27,"user_id":16486359,"display_name":"Leonarddoo Campione"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641079973,"creation_date":1640616953,"question_id":70497060,"body_markdown":"this code doesn&#39;t work when I put tier_two or 2. However, if I put it to 1 or One it works. Does someone have an idea ?\r\n \r\n\r\n    Potion heal = new Potion(PotionType.INSTANT_HEAL, Tier.TWO, true);\r\n    contents[3] = heal.toItemStack(1);\r\n\r\nFor information the content is an ItemMeta [] which I use to create a kit","title":"Potion Tier 2 bug with toItemStack() method","body":"<p>this code doesn't work when I put tier_two or 2. However, if I put it to 1 or One it works. Does someone have an idea ?</p>\n<pre><code>Potion heal = new Potion(PotionType.INSTANT_HEAL, Tier.TWO, true);\ncontents[3] = heal.toItemStack(1);\n</code></pre>\n<p>For information the content is an ItemMeta [] which I use to create a kit</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8274,"page":1718,"page_size":100}
