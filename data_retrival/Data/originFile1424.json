{"items":[{"tags":["java","file","directory"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1650216764,"post_id":71904001,"comment_id":127059636,"body_markdown":"It&#39;s a programming language; program it. You can write code that lists files of a directory, that asks for the last modified stamps, compares it to the current time, deletes them all in a loop, then deletes the dir they were in, and which uses recursion or a queue to apply the process recursively. There is no `.deleteFolderAndAllContentsIfAllContentsAreOlderThan(timestamp)` method and there never will be - but you can program that function!","body":"It&#39;s a programming language; program it. You can write code that lists files of a directory, that asks for the last modified stamps, compares it to the current time, deletes them all in a loop, then deletes the dir they were in, and which uses recursion or a queue to apply the process recursively. There is no <code>.deleteFolderAndAllContentsIfAllContentsAreOlderThan(timesta&zwnj;&#8203;mp)</code> method and there never will be - but you can program that function!"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1650216799,"post_id":71904001,"comment_id":127059642,"body_markdown":".. and if you decide to do so, `java.io.File` is obsolete and should not be used. You want the classes in the`java.nio.file` package, primarily `Path`, `Paths`, and `Files`.","body":".. and if you decide to do so, <code>java.io.File</code> is obsolete and should not be used. You want the classes in the<code>java.nio.file</code> package, primarily <code>Path</code>, <code>Paths</code>, and <code>Files</code>."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650217404,"creation_date":1650217404,"answer_id":71904095,"question_id":71904001,"body_markdown":"The easiest way is probably to use `Files.walkFileTree`. `Files.walk` gives you a `Stream&lt;Path&gt;`, but folders come first, not after. The `FileVisitor` on the other hand uses two events for folders - before visiting, and after.\r\n\r\nSomething that could work (untested):\r\n\r\n    Deque&lt;LongAdder&gt; counts = new ArrayDeque&lt;&gt;(); // counting # of remaining files per level\r\n    Files.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {\r\n        @Override\r\n        public FileVisitResult preVisitDirectory(T dir, BasicFileAttributes attrs) {\r\n            counts.push(new LongAdder());\r\n            return FileVisitResult.CONTINUE;\r\n        }\r\n \r\n        @Override\r\n        public FileVisitResult postVisitDirectory(T dir, BasicFileAttributes attrs) throws IOException {\r\n            long remaining = counts.pop().sum();\r\n            if (remaining == 0) {\r\n                // the directory is empty now, delete it\r\n            }\r\n            return FileVisitResult.CONTINUE;\r\n        }\r\n\r\n        @Override\r\n        public FileVisitResult visitFile(T file, BasicFileAttributes attrs) throws IOException {\r\n            if (is old enough to delete) {\r\n                // delete\r\n            } else {\r\n                counts.peek().increment();\r\n            }\r\n            return FileVisitResult.CONTINUE;\r\n        }\r\n\r\n        @Override\r\n        public FileVisitResult visitFileFailed(T file, IOException exc) {\r\n            counts.peek().increment();\r\n            return FileVisitResult.CONTINUE;\r\n        }\r\n    });","title":"Delete Files and Folders inside Folder if is empty (Java)","body":"<p>The easiest way is probably to use <code>Files.walkFileTree</code>. <code>Files.walk</code> gives you a <code>Stream&lt;Path&gt;</code>, but folders come first, not after. The <code>FileVisitor</code> on the other hand uses two events for folders - before visiting, and after.</p>\n<p>Something that could work (untested):</p>\n<pre><code>Deque&lt;LongAdder&gt; counts = new ArrayDeque&lt;&gt;(); // counting # of remaining files per level\nFiles.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {\n    @Override\n    public FileVisitResult preVisitDirectory(T dir, BasicFileAttributes attrs) {\n        counts.push(new LongAdder());\n        return FileVisitResult.CONTINUE;\n    }\n\n    @Override\n    public FileVisitResult postVisitDirectory(T dir, BasicFileAttributes attrs) throws IOException {\n        long remaining = counts.pop().sum();\n        if (remaining == 0) {\n            // the directory is empty now, delete it\n        }\n        return FileVisitResult.CONTINUE;\n    }\n\n    @Override\n    public FileVisitResult visitFile(T file, BasicFileAttributes attrs) throws IOException {\n        if (is old enough to delete) {\n            // delete\n        } else {\n            counts.peek().increment();\n        }\n        return FileVisitResult.CONTINUE;\n    }\n\n    @Override\n    public FileVisitResult visitFileFailed(T file, IOException exc) {\n        counts.peek().increment();\n        return FileVisitResult.CONTINUE;\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":24206465,"reputation":7,"user_id":18163594,"display_name":"Nodir RaPuZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71904095,"answer_count":1,"score":0,"last_activity_date":1650217404,"creation_date":1650216636,"question_id":71904001,"body_markdown":"       String dirWay = &quot;C:\\\\Project&quot;;\r\n       int daysBack = 7;\r\n\r\n        File directory = new File(dirWay);\r\n\r\n     if(directory.exists()){\r\n        File[] listFiles = directory.listFiles();\r\n\r\n        long purgeTime = System.currentTimeMillis() - (daysBack * 24 * 60 * 60 * 1000);\r\n    \r\n        for(File listFile : listFiles) {\r\n\r\n            if(listFile.lastModified() &lt; purgeTime) {      \r\n\r\n                if(!listFile.delete()) {\r\n                    System.err.println(&quot;Unable to delete file: &quot; + listFile);\r\n                   \r\n                } else {\r\n\r\n                    System.out.println(listFile);\r\n               }\r\n           }\r\n        }\r\n    }\r\n\r\nThis is working only for Project folder files. But i have some folders and files in the Project folder, and each folder has some folders and files.\r\n\r\nHow i can check inside all folder and check files last modified date and delete it if more than 7 days?\r\n\r\nFor example i have directory: C:/Project/JavaIdea/...\r\nIf files in the JavaIdea folder older than 7 days, i need delete all files and JavaIdea folder too.\r\n\r\n\r\n\r\n","title":"Delete Files and Folders inside Folder if is empty (Java)","body":"<pre><code>   String dirWay = &quot;C:\\\\Project&quot;;\n   int daysBack = 7;\n\n    File directory = new File(dirWay);\n\n if(directory.exists()){\n    File[] listFiles = directory.listFiles();\n\n    long purgeTime = System.currentTimeMillis() - (daysBack * 24 * 60 * 60 * 1000);\n\n    for(File listFile : listFiles) {\n\n        if(listFile.lastModified() &lt; purgeTime) {      \n\n            if(!listFile.delete()) {\n                System.err.println(&quot;Unable to delete file: &quot; + listFile);\n               \n            } else {\n\n                System.out.println(listFile);\n           }\n       }\n    }\n}\n</code></pre>\n<p>This is working only for Project folder files. But i have some folders and files in the Project folder, and each folder has some folders and files.</p>\n<p>How i can check inside all folder and check files last modified date and delete it if more than 7 days?</p>\n<p>For example i have directory: C:/Project/JavaIdea/...\nIf files in the JavaIdea folder older than 7 days, i need delete all files and JavaIdea folder too.</p>\n"},{"tags":["java","loops","if-statement","passwords"],"answers":[{"tags":[],"owner":{"account_id":23490171,"reputation":1,"user_id":17541296,"display_name":"Timo Heinrich"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649674894,"creation_date":1649674894,"answer_id":71826657,"question_id":71826247,"body_markdown":"You can surround it with a while loop.\r\n\r\n    boolean inputNeeded = true;\r\n   \r\n    while (inputNeeded) {\r\n       // your code\r\n       if(User.length()&lt;=MAXL &amp;&amp; SpecCounter &gt;= Spec){\r\n                System.out.println(&quot;Username successfully captured&quot;);\r\n                inputNeeded = false;\r\n            }\r\n            else{\r\n                System.out.println(&quot;Username is not correctly formatted, please ensure that your username contains an underscore and is no more than 5 characters in length.&quot;);             \r\n        }  \r\n    }\r\n","title":"How to add a loop to an IF statement for a password registry in Java","body":"<p>You can surround it with a while loop.</p>\n<pre><code>boolean inputNeeded = true;\n\nwhile (inputNeeded) {\n   // your code\n   if(User.length()&lt;=MAXL &amp;&amp; SpecCounter &gt;= Spec){\n            System.out.println(&quot;Username successfully captured&quot;);\n            inputNeeded = false;\n        }\n        else{\n            System.out.println(&quot;Username is not correctly formatted, please ensure that your username contains an underscore and is no more than 5 characters in length.&quot;);             \n    }  \n}\n</code></pre>\n"}],"owner":{"account_id":24898409,"reputation":1,"user_id":18769384,"display_name":"MYHST 180"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650216731,"creation_date":1649672878,"question_id":71826247,"body_markdown":"I am trying to loop an IF statement for my assignment. I&#39;m trying to figure out how to make my code loop back to the beginning of the scanner if the conditions were not met. I tried using For loops and While loops but I can&#39;t seem to figure it out.I thought about using a boolean instead, not sure if that would work.\r\n\r\nHere&#39;s my code:\r\n\r\n    public static void main(String[] args) {\r\n     \r\n        final int MAXL = 5;\r\n        final int Spec = 1;\r\n        \r\n        int SpecCounter = 0;\r\n  \r\n        System.out.println(&quot;Enter Username&quot;);\r\n        Scanner input = new Scanner(System.in);\r\n        String User = input.nextLine();\r\n \r\n        for(int i = 0;i &lt; User.length();i++){\r\n            \r\n             char c = User.charAt(i);\r\n                      \r\n                     if(c&gt;=33&amp;&amp;c&lt;=46||c==64)\r\n                      SpecCounter++;\r\n         }             \r\n             \r\n                if(User.length()&lt;=MAXL &amp;&amp; SpecCounter &gt;= Spec){\r\n                    System.out.println(&quot;Username successfully captured&quot;);\r\n                }\r\n                else{\r\n                    System.out.println(&quot;Username is not correctly formatted, please ensure that your username contains an underscore and is no more than 5 characters in length.&quot;);             \r\n            }  \r\n         \r\n        \r\n    \r\n    }\r\n\r\n ","title":"How to add a loop to an IF statement for a password registry in Java","body":"<p>I am trying to loop an IF statement for my assignment. I'm trying to figure out how to make my code loop back to the beginning of the scanner if the conditions were not met. I tried using For loops and While loops but I can't seem to figure it out.I thought about using a boolean instead, not sure if that would work.</p>\n<p>Here's my code:</p>\n<pre><code>public static void main(String[] args) {\n \n    final int MAXL = 5;\n    final int Spec = 1;\n    \n    int SpecCounter = 0;\n\n    System.out.println(&quot;Enter Username&quot;);\n    Scanner input = new Scanner(System.in);\n    String User = input.nextLine();\n\n    for(int i = 0;i &lt; User.length();i++){\n        \n         char c = User.charAt(i);\n                  \n                 if(c&gt;=33&amp;&amp;c&lt;=46||c==64)\n                  SpecCounter++;\n     }             \n         \n            if(User.length()&lt;=MAXL &amp;&amp; SpecCounter &gt;= Spec){\n                System.out.println(&quot;Username successfully captured&quot;);\n            }\n            else{\n                System.out.println(&quot;Username is not correctly formatted, please ensure that your username contains an underscore and is no more than 5 characters in length.&quot;);             \n        }  \n     \n    \n\n}\n</code></pre>\n"},{"tags":["java","ant","xinclude"],"answers":[{"tags":[],"owner":{"account_id":14641099,"reputation":34,"user_id":10573676,"display_name":"renzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650216147,"creation_date":1650216147,"answer_id":71903939,"question_id":37411469,"body_markdown":"Your schemavalidate task is correct. It seems to have been a bug in the past. I can say that it works with ant 1.10.9. Do not known when it was fixed.","title":"Enable xinclude processing for Ants `schemavalidate` task","body":"<p>Your schemavalidate task is correct. It seems to have been a bug in the past. I can say that it works with ant 1.10.9. Do not known when it was fixed.</p>\n"}],"owner":{"account_id":3319271,"reputation":3165,"user_id":2790838,"accept_rate":100,"display_name":"Markus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1650216147,"creation_date":1464087173,"question_id":37411469,"body_markdown":"I&#39;m using the `schemavalidate` task of Ant to validate XML documents.\r\n\r\n    &lt;schemavalidate\r\n        noNamespaceFile=&quot;${user.input.xsd}&quot; file=&quot;${user.input.xml}&quot;&gt;\r\n    &lt;/schemavalidate&gt;\r\n\r\nThis works as expected. But now I have schema files using XInclude like this:\r\n\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot;&gt;\r\n      &lt;xi:include href=&quot;...&quot; xpointer=&quot;xmlns(xs=http://www.w3.org/2001/XMLSchema)xpointer(/xs:schema/xs:*)&quot;/&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\nThis gives the following error in Ant:\r\n\r\n&gt; foo.xsd:8:136: s4s-elt-schema-ns: The namespace of element &#39;include&#39; must be from the schema namespace, &#39;http://www.w3.org/2001/XMLSchema&#39;.\r\n\r\nNow I tried enabling XInclude processing by enabling the corresponding feature:\r\n\r\n    &lt;schemavalidate\r\n        noNamespaceFile=&quot;${user.input.xsd}&quot; file=&quot;${user.input.xml}&quot;&gt;\r\n      &lt;attribute name=&quot;http://apache.org/xml/features/xinclude&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/schemavalidate&gt;\r\n\r\nBut this doesn&#39;t help, the error message stays the same. The feature seems to be recognised by the parser, because when I change the attribute element to use some non-existing feature, I get a corresponding error message, e.g.\r\n\r\n&gt; Parser org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser doesn&#39;t recognize feature http://apache.org/xml/features/xinclud\r\n\r\nIs it possible to enable XInclude processing here?\r\n\r\n*Edit 1*\r\n\r\nWhen enabling Ant debug mode, I can see that the feature is set correctly:\r\n\r\n    [schemavalidate] Using SAX2 reader org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser\r\n    [schemavalidate] Setting feature http://xml.org/sax/features/validation=true\r\n    [schemavalidate] Setting feature http://apache.org/xml/features/xinclude=true\r\n    [schemavalidate] Setting feature http://xml.org/sax/features/namespaces=true\r\n    [schemavalidate] Setting feature http://apache.org/xml/features/validation/schema=true\r\n    [schemavalidate] Setting feature http://apache.org/xml/features/validation/schema-full-checking=true\r\n    [schemavalidate] Validating foo.xml...\r\n\r\n","title":"Enable xinclude processing for Ants `schemavalidate` task","body":"<p>I'm using the <code>schemavalidate</code> task of Ant to validate XML documents.</p>\n\n<pre><code>&lt;schemavalidate\n    noNamespaceFile=\"${user.input.xsd}\" file=\"${user.input.xml}\"&gt;\n&lt;/schemavalidate&gt;\n</code></pre>\n\n<p>This works as expected. But now I have schema files using XInclude like this:</p>\n\n<pre><code>&lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xi=\"http://www.w3.org/2001/XInclude\"&gt;\n  &lt;xi:include href=\"...\" xpointer=\"xmlns(xs=http://www.w3.org/2001/XMLSchema)xpointer(/xs:schema/xs:*)\"/&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>This gives the following error in Ant:</p>\n\n<blockquote>\n  <p>foo.xsd:8:136: s4s-elt-schema-ns: The namespace of element 'include' must be from the schema namespace, '<a href=\"http://www.w3.org/2001/XMLSchema\" rel=\"nofollow\">http://www.w3.org/2001/XMLSchema</a>'.</p>\n</blockquote>\n\n<p>Now I tried enabling XInclude processing by enabling the corresponding feature:</p>\n\n<pre><code>&lt;schemavalidate\n    noNamespaceFile=\"${user.input.xsd}\" file=\"${user.input.xml}\"&gt;\n  &lt;attribute name=\"http://apache.org/xml/features/xinclude\" value=\"true\"/&gt;\n&lt;/schemavalidate&gt;\n</code></pre>\n\n<p>But this doesn't help, the error message stays the same. The feature seems to be recognised by the parser, because when I change the attribute element to use some non-existing feature, I get a corresponding error message, e.g.</p>\n\n<blockquote>\n  <p>Parser org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser doesn't recognize feature <a href=\"http://apache.org/xml/features/xinclud\" rel=\"nofollow\">http://apache.org/xml/features/xinclud</a></p>\n</blockquote>\n\n<p>Is it possible to enable XInclude processing here?</p>\n\n<p><em>Edit 1</em></p>\n\n<p>When enabling Ant debug mode, I can see that the feature is set correctly:</p>\n\n<pre><code>[schemavalidate] Using SAX2 reader org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser\n[schemavalidate] Setting feature http://xml.org/sax/features/validation=true\n[schemavalidate] Setting feature http://apache.org/xml/features/xinclude=true\n[schemavalidate] Setting feature http://xml.org/sax/features/namespaces=true\n[schemavalidate] Setting feature http://apache.org/xml/features/validation/schema=true\n[schemavalidate] Setting feature http://apache.org/xml/features/validation/schema-full-checking=true\n[schemavalidate] Validating foo.xml...\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1650209403,"post_id":71903146,"comment_id":127058044,"body_markdown":"Why do you need `this` for a global method? What are you trying to do with it?","body":"Why do you need <code>this</code> for a global method? What are you trying to do with it?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1650209552,"post_id":71903146,"comment_id":127058079,"body_markdown":"If you need to reference `this`, it&#39;s not a global method, as it&#39;s bound to a single instance. If other code is to use that method, they&#39;ll need to create an instance (or perhaps use a shared instance).","body":"If you need to reference <code>this</code>, it&#39;s not a global method, as it&#39;s bound to a single instance. If other code is to use that method, they&#39;ll need to create an instance (or perhaps use a shared instance)."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1650210760,"post_id":71903146,"comment_id":127058337,"body_markdown":"How do you expect the other classes to get their value of `this` for your class?","body":"How do you expect the other classes to get their value of <code>this</code> for your class?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1650211617,"post_id":71903146,"comment_id":127058539,"body_markdown":"Also consider using an `enum` to enforce the singleton property, suggested [here](https://stackoverflow.com/q/4709175/230513)","body":"Also consider using an <code>enum</code> to enforce the singleton property, suggested <a href=\"https://stackoverflow.com/q/4709175/230513\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":23904234,"reputation":1928,"user_id":17902018,"display_name":"rikyeah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650215813,"creation_date":1650215813,"answer_id":71903902,"question_id":71903146,"body_markdown":"As mentioned in the comments, if you need to reference `this`, it&#39;s not a global method, as it&#39;s bound to a single instance. If other code is to use that method, they&#39;ll need to create an instance.","title":"Java global methods without using static","body":"<p>As mentioned in the comments, if you need to reference <code>this</code>, it's not a global method, as it's bound to a single instance. If other code is to use that method, they'll need to create an instance.</p>\n"}],"owner":{"account_id":20165271,"reputation":11,"user_id":14789389,"display_name":"Crafty"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650215813,"creation_date":1650209327,"question_id":71903146,"body_markdown":"Is there any way to create a method in Java that can be accessed from other classes without making the method static? As all the solutions I have seen online say to make the method static don&#39;t work for me as I am trying to reference a non-static variable from within the method. The variable I am referenceing is ```this``` (referring to the class it is in).","title":"Java global methods without using static","body":"<p>Is there any way to create a method in Java that can be accessed from other classes without making the method static? As all the solutions I have seen online say to make the method static don't work for me as I am trying to reference a non-static variable from within the method. The variable I am referenceing is <code>this</code> (referring to the class it is in).</p>\n"},{"tags":["java","audio","javasound","java-audio"],"comments":[{"owner":{"account_id":21208365,"reputation":260,"user_id":15597511,"display_name":"Daksh Rawal"},"score":0,"creation_date":1649934792,"post_id":71870590,"comment_id":127002852,"body_markdown":"constructors automatically initialize the variable or in your case the sound....so remove the audio code from the constructor and put it to the play() method","body":"constructors automatically initialize the variable or in your case the sound....so remove the audio code from the constructor and put it to the play() method"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1649935195,"post_id":71870590,"comment_id":127002974,"body_markdown":"How do you know it&#39;s starting in the constructor?","body":"How do you know it&#39;s starting in the constructor?"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1649935521,"post_id":71870590,"comment_id":127003076,"body_markdown":"unrelated: why does your `play` method use both a `SoundLoader#isRunning()` method and a `clip.isRunning()`method ?","body":"unrelated: why does your <code>play</code> method use both a <code>SoundLoader#isRunning()</code> method and a <code>clip.isRunning()</code>method ?"},{"owner":{"account_id":20071305,"reputation":1,"user_id":14716010,"display_name":"fesd20"},"score":0,"creation_date":1649936317,"post_id":71870590,"comment_id":127003329,"body_markdown":"@jhamon I forgot to change the clip.isRunning() to just isRunning() because clip is private and I didn&#39;t know if I was going to use it in other classes so I made isRunning()","body":"@jhamon I forgot to change the clip.isRunning() to just isRunning() because clip is private and I didn&#39;t know if I was going to use it in other classes so I made isRunning()"},{"owner":{"account_id":20071305,"reputation":1,"user_id":14716010,"display_name":"fesd20"},"score":0,"creation_date":1649936942,"post_id":71870590,"comment_id":127003555,"body_markdown":"@FedericoklezCulloca I tried to initialize the object in another class where I wanted the sound and when I ran it by accident the sound started to play","body":"@FedericoklezCulloca I tried to initialize the object in another class where I wanted the sound and when I ran it by accident the sound started to play"},{"owner":{"account_id":20071305,"reputation":1,"user_id":14716010,"display_name":"fesd20"},"score":1,"creation_date":1649937103,"post_id":71870590,"comment_id":127003605,"body_markdown":"@daksh but in the Clip class, the only method that I&#39;m aware of that can start playing audio is clip.start(). clip.open(...) just passes in input for the clip to play","body":"@daksh but in the Clip class, the only method that I&#39;m aware of that can start playing audio is clip.start(). clip.open(...) just passes in input for the clip to play"},{"owner":{"account_id":21208365,"reputation":260,"user_id":15597511,"display_name":"Daksh Rawal"},"score":0,"creation_date":1649938170,"post_id":71870590,"comment_id":127003987,"body_markdown":"the code looks fine ... remove clip.start() from the while loop or maybe try cleaning up your code and rewrite it","body":"the code looks fine ... remove clip.start() from the while loop or maybe try cleaning up your code and rewrite it"},{"owner":{"account_id":20071305,"reputation":1,"user_id":14716010,"display_name":"fesd20"},"score":0,"creation_date":1649941926,"post_id":71870590,"comment_id":127005409,"body_markdown":"@daksh the reason why I put the while loop there is because sometimes the start method in the Clip class doesn&#39;t start straight away and could be missed. meaning that the audio wouldn&#39;t actually play.","body":"@daksh the reason why I put the while loop there is because sometimes the start method in the Clip class doesn&#39;t start straight away and could be missed. meaning that the audio wouldn&#39;t actually play."}],"answers":[{"tags":[],"owner":{"account_id":20071305,"reputation":1,"user_id":14716010,"display_name":"fesd20"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649942350,"creation_date":1649942350,"answer_id":71872310,"question_id":71870590,"body_markdown":"okay I solved it. It was just a case of me blacking out while I was coding and I was playing the sound in the main method of the project. I&#39;m glad that it wasn&#39;t a problem with the Clip class","title":"audio playing in constructor instead of play method","body":"<p>okay I solved it. It was just a case of me blacking out while I was coding and I was playing the sound in the main method of the project. I'm glad that it wasn't a problem with the Clip class</p>\n"}],"owner":{"account_id":20071305,"reputation":1,"user_id":14716010,"display_name":"fesd20"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650215516,"creation_date":1649934218,"question_id":71870590,"body_markdown":"so I&#39;ve been working on my game library and I just got working on the sound aspect of it. But the problems are that the Sound starts playing from the constructor instead of the play method and also the stop doesn&#39;t work for the constructor and only the play method.\r\n\r\nI tried debugging the code but I didn&#39;t get any results from it. I also tried using the stop method before doing the play method but that didn&#39;t work either\r\n\r\nbelow is the code,\r\n\r\n    import java.io.*;\r\n    import java.io.File;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.sound.sampled.*;\r\n    \r\n    // class stuff\r\n    \r\n    \tprivate Clip clip;\r\n    \tprivate FloatControl fc;\r\n    \t\r\n    \tpublic SoundLoader(File file) {\r\n    \t\ttry {\r\n    \t\t\tInputStream audioSource = new FileInputStream(file);\r\n    \t\t\tInputStream bufferedInput = new BufferedInputStream(audioSource);\r\n    \t\t\tAudioInputStream audioInputStream = AudioSystem.getAudioInputStream(bufferedInput);\r\n    \t\t\tAudioFormat baseFormat = audioInputStream.getFormat();\r\n    \t\t\tAudioFormat decodedFormat = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED,\r\n    \t\t\t\t\tbaseFormat.getSampleRate(),\r\n    \t\t\t\t\tbaseFormat.getSampleSizeInBits(),\r\n    \t\t\t\t\tbaseFormat.getChannels(),\r\n    \t\t\t\t\tbaseFormat.getFrameSize(),\r\n    \t\t\t\t\tbaseFormat.getFrameRate(),\r\n    \t\t\t\t\tfalse\r\n    \t\t\t\t\t);\r\n    \t\t\tAudioInputStream decodedAudioInputStream = AudioSystem.getAudioInputStream(decodedFormat, audioInputStream);\r\n    \t\t\tclip = AudioSystem.getClip();\r\n    \t\t\tclip.open(decodedAudioInputStream);\r\n    \t\t\tfc = (FloatControl)clip.getControl(FloatControl.Type.MASTER_GAIN);\r\n    \t\t} catch (UnsupportedAudioFileException | IOException | LineUnavailableException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\t\r\n\r\n        public void play(boolean loop){\r\n    \r\n    \t\tif(clip == null || isRunning())return;\r\n    \t\tstop();\r\n    \t\twhile(!clip.isRunning())\r\n    \t\t\tclip.start();\r\n    \r\n    \t\tif(loop)clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n    \t\t\t\r\n    \t}\r\n\r\nand here is an example of what&#39;s happening in log form,\r\n\r\n    clip starts running from constructor\r\n    same clip starts running from play method\r\n    stop method stops the clip from running from the play method\r\n    constructor keeps on playing\r\n\r\nIf anyone knows why this is happening it would be nice if you could reply to this. Thanks\r\n\r\nedit: I changed clip and fc to not static because I use testing something out with static and then I forgot to change it back to normal\r\n","title":"audio playing in constructor instead of play method","body":"<p>so I've been working on my game library and I just got working on the sound aspect of it. But the problems are that the Sound starts playing from the constructor instead of the play method and also the stop doesn't work for the constructor and only the play method.</p>\n<p>I tried debugging the code but I didn't get any results from it. I also tried using the stop method before doing the play method but that didn't work either</p>\n<p>below is the code,</p>\n<pre><code>import java.io.*;\nimport java.io.File;\n\nimport java.io.IOException;\n\nimport javax.sound.sampled.*;\n\n// class stuff\n\n    private Clip clip;\n    private FloatControl fc;\n    \n    public SoundLoader(File file) {\n        try {\n            InputStream audioSource = new FileInputStream(file);\n            InputStream bufferedInput = new BufferedInputStream(audioSource);\n            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(bufferedInput);\n            AudioFormat baseFormat = audioInputStream.getFormat();\n            AudioFormat decodedFormat = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED,\n                    baseFormat.getSampleRate(),\n                    baseFormat.getSampleSizeInBits(),\n                    baseFormat.getChannels(),\n                    baseFormat.getFrameSize(),\n                    baseFormat.getFrameRate(),\n                    false\n                    );\n            AudioInputStream decodedAudioInputStream = AudioSystem.getAudioInputStream(decodedFormat, audioInputStream);\n            clip = AudioSystem.getClip();\n            clip.open(decodedAudioInputStream);\n            fc = (FloatControl)clip.getControl(FloatControl.Type.MASTER_GAIN);\n        } catch (UnsupportedAudioFileException | IOException | LineUnavailableException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n\n    public void play(boolean loop){\n\n        if(clip == null || isRunning())return;\n        stop();\n        while(!clip.isRunning())\n            clip.start();\n\n        if(loop)clip.loop(Clip.LOOP_CONTINUOUSLY);\n            \n    }\n</code></pre>\n<p>and here is an example of what's happening in log form,</p>\n<pre><code>clip starts running from constructor\nsame clip starts running from play method\nstop method stops the clip from running from the play method\nconstructor keeps on playing\n</code></pre>\n<p>If anyone knows why this is happening it would be nice if you could reply to this. Thanks</p>\n<p>edit: I changed clip and fc to not static because I use testing something out with static and then I forgot to change it back to normal</p>\n"},{"tags":["java","imagej","image-stitching","fiji","java-heap"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1649849904,"post_id":71855493,"comment_id":126978966,"body_markdown":"Well - it is an `OutOfMemoryError`, so your JVM has run out of memory. How large is the image you were trying to create? How much heap space is assigned to your JVM?","body":"Well - it is an <code>OutOfMemoryError</code>, so your JVM has run out of memory. How large is the image you were trying to create? How much heap space is assigned to your JVM?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1649849963,"post_id":71855493,"comment_id":126978986,"body_markdown":"Does this answer your question? [How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?](https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error\">How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?</a>"},{"owner":{"account_id":15742700,"reputation":1,"user_id":11359603,"display_name":"Tobi Lawal"},"score":0,"creation_date":1649856765,"post_id":71855493,"comment_id":126981750,"body_markdown":"@Hulk The file size is about 1.2GB and I assigned 6GB (75%) of my Maximum memory to ImageJ. Thank you for sending that link, I would have a look at it.","body":"@Hulk The file size is about 1.2GB and I assigned 6GB (75%) of my Maximum memory to ImageJ. Thank you for sending that link, I would have a look at it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649862144,"post_id":71855493,"comment_id":126984254,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":4422959,"reputation":497,"user_id":3602294,"display_name":"mzouink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650215220,"creation_date":1650215220,"answer_id":71903837,"question_id":71855493,"body_markdown":"In your case, you&#39;re exceeding the maximum memory available in ImageJ.  \r\nSo, if your data is not big and it can be handled in the memory. you can increase the memory that ImageJ can use:\r\nBy: `Edit &gt; Options &gt; Memory and Threads.`\r\n\r\n2- \r\nIf your data is big, I will recommend using BigStitcher ImageJ plugin. you can find tutorials here: https://www.youtube.com/playlist?list=PLNZz8lLDpAeVOeAmQWMrKGOeB3vv28yJE .\r\n\r\nMosaicJ was made a long time ago. So I am not sure if they supports lazy loading mode. or if they are using virtual stacking.\r\n\r\nAnd I will recommend asking in : https://forum.image.sc/ and you can tag @ctrueden or one of the author, it is more effecient than stackoverflow in ImageJ related questions.","title":"Trying to create a Mosaic in ImageJ and I get this Java error","body":"<p>In your case, you're exceeding the maximum memory available in ImageJ.<br />\nSo, if your data is not big and it can be handled in the memory. you can increase the memory that ImageJ can use:\nBy: <code>Edit &gt; Options &gt; Memory and Threads.</code></p>\n<p>2-\nIf your data is big, I will recommend using BigStitcher ImageJ plugin. you can find tutorials here: <a href=\"https://www.youtube.com/playlist?list=PLNZz8lLDpAeVOeAmQWMrKGOeB3vv28yJE\" rel=\"nofollow noreferrer\">https://www.youtube.com/playlist?list=PLNZz8lLDpAeVOeAmQWMrKGOeB3vv28yJE</a> .</p>\n<p>MosaicJ was made a long time ago. So I am not sure if they supports lazy loading mode. or if they are using virtual stacking.</p>\n<p>And I will recommend asking in : <a href=\"https://forum.image.sc/\" rel=\"nofollow noreferrer\">https://forum.image.sc/</a> and you can tag @ctrueden or one of the author, it is more effecient than stackoverflow in ImageJ related questions.</p>\n"}],"owner":{"account_id":15742700,"reputation":1,"user_id":11359603,"display_name":"Tobi Lawal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650215220,"creation_date":1649843726,"question_id":71855493,"body_markdown":"I am trying to stitch images using the MosaicJ plugin in Fiji (ImageJ), however, I get the error in the code below. Does anyone know what it means and **how I can fix this please?** I have no experience using Java at all. I am using a MacBook by the way if this is relevant.Thanks. [Java error][1]\r\n\r\n\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space\r\n\tat ij.gui.NewImage.createFloatImage(NewImage.java:326)\r\n\tat MosaicJTree.getGlobalImage(MosaicJ_.java:5306)\r\n\tat MosaicJTree.createMosaic(MosaicJ_.java:4692)\r\n\tat MosaicJ_.actionPerformed(MosaicJ_.java:222)\r\n\tat java.awt.MenuItem.processActionEvent(MenuItem.java:669)\r\n\tat java.awt.MenuItem.processEvent(MenuItem.java:628)\r\n\tat java.awt.MenuComponent.dispatchEventImpl(MenuComponent.java:357)\r\n\tat java.awt.MenuComponent.dispatchEvent(MenuComponent.java:345)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:763)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V5OcR.png","title":"Trying to create a Mosaic in ImageJ and I get this Java error","body":"<p>I am trying to stitch images using the MosaicJ plugin in Fiji (ImageJ), however, I get the error in the code below. Does anyone know what it means and <strong>how I can fix this please?</strong> I have no experience using Java at all. I am using a MacBook by the way if this is relevant.Thanks. <a href=\"https://i.stack.imgur.com/V5OcR.png\" rel=\"nofollow noreferrer\">Java error</a></p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space\nat ij.gui.NewImage.createFloatImage(NewImage.java:326)\nat MosaicJTree.getGlobalImage(MosaicJ_.java:5306)\nat MosaicJTree.createMosaic(MosaicJ_.java:4692)\nat MosaicJ_.actionPerformed(MosaicJ_.java:222)\nat java.awt.MenuItem.processActionEvent(MenuItem.java:669)\nat java.awt.MenuItem.processEvent(MenuItem.java:628)\nat java.awt.MenuComponent.dispatchEventImpl(MenuComponent.java:357)\nat java.awt.MenuComponent.dispatchEvent(MenuComponent.java:345)\nat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:763)\nat java.awt.EventQueue.access$500(EventQueue.java:97)\nat java.awt.EventQueue$3.run(EventQueue.java:709)\nat java.awt.EventQueue$3.run(EventQueue.java:703)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\nat java.awt.EventQueue$4.run(EventQueue.java:733)\nat java.awt.EventQueue$4.run(EventQueue.java:731)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\nat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\nat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\nat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space</p>\n"},{"tags":["java","eclipse","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650215214,"creation_date":1650214725,"answer_id":71903799,"question_id":71903491,"body_markdown":"Your button in fxml can&#39;t call Login() in its controller class because there is no onAction attribute in fxml button tag .   \r\nSo ,in `&lt;Button alignment=&quot;CENTER&quot; layoutX=&quot;106.0&quot; layoutY=&quot;137.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;73.0&quot; style=&quot;-fx-background-color: #fff2cc;&quot; text=&quot;LOGIN&quot; /&gt;` add  `onAction=&quot;#Login&quot;` inside Button Tag:\r\n\r\n    &lt;Button alignment=&quot;CENTER&quot; layoutX=&quot;106.0&quot; layoutY=&quot;137.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#Login&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;73.0&quot; style=&quot;-fx-background-color: #fff2cc;&quot; text=&quot;LOGIN&quot; /&gt;\r\n\r\nAnd , naming a method in a class with exact the same name of that class is concidered a bad practice. Only constructors must match its name with class identifier \r\n\r\n\r\n\r\n    \r\n\r\n","title":"Javafx button does nothing","body":"<p>Your button in fxml can't call Login() in its controller class because there is no onAction attribute in fxml button tag .<br />\nSo ,in <code>&lt;Button alignment=&quot;CENTER&quot; layoutX=&quot;106.0&quot; layoutY=&quot;137.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;73.0&quot; style=&quot;-fx-background-color: #fff2cc;&quot; text=&quot;LOGIN&quot; /&gt;</code> add  <code>onAction=&quot;#Login&quot;</code> inside Button Tag:</p>\n<pre><code>&lt;Button alignment=&quot;CENTER&quot; layoutX=&quot;106.0&quot; layoutY=&quot;137.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#Login&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;73.0&quot; style=&quot;-fx-background-color: #fff2cc;&quot; text=&quot;LOGIN&quot; /&gt;\n</code></pre>\n<p>And , naming a method in a class with exact the same name of that class is concidered a bad practice. Only constructors must match its name with class identifier</p>\n"}],"owner":{"account_id":24975180,"reputation":11,"user_id":18837882,"display_name":"Karl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650215214,"creation_date":1650212158,"question_id":71903491,"body_markdown":"I&#39;m creating a simple login GUI form using eclipse, JavaFX and scene builder. I&#39;ve coded my program so that every time I click the login button, it would switch to another window but it doesn&#39;t work. i&#39;m a beginner in java but we&#39;ve been tasked to create a system in my class so I&#39;ve only relied on youtube tutorials, any help would be appreciated!\r\n\r\nthis is my main code\r\n```\r\npackage application;\r\n\t\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.BorderPane;\r\n\r\n\r\npublic class Main extends Application {\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n\t\ttry {\r\n\t\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;Main.fxml&quot;));\r\n\t\t\tScene scene = new Scene(root);\r\n\t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\nmy login form\r\n```\r\npackage application;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.PasswordField;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Login {\r\n\r\n    @FXML\r\n    private Button button;\r\n\r\n    @FXML\r\n    private PasswordField password;\r\n\r\n    @FXML\r\n    private TextField username;\r\n\r\n    @FXML\r\n    private Label wrongLogin;\r\n\r\n    @FXML\r\n    public void Login(ActionEvent event) {\r\n    \t\r\n    \tStage primaryStage = new Stage();\r\n    \t\r\n    \tif (username.getText().equals(&quot;admin&quot;) &amp;&amp; password.getText().equals(&quot;admin&quot;)) {\r\n    \t\ttry {\r\n    \t\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;BookRooms.fxml&quot;));\r\n    \t\t\tScene scene = new Scene(root);\r\n    \t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n    \t\t\tprimaryStage.setScene(scene);\r\n    \t\t\tprimaryStage.show();\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nmy fxml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;AnchorPane prefHeight=&quot;345.0&quot; prefWidth=&quot;545.0&quot; style=&quot;-fx-background-color: #fff2cc;&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.Login&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;AnchorPane layoutX=&quot;132.0&quot; layoutY=&quot;62.0&quot; prefHeight=&quot;221.0&quot; prefWidth=&quot;279.0&quot; style=&quot;-fx-background-color: #545454; -fx-border-radius: 10;&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label layoutX=&quot;34.0&quot; layoutY=&quot;60.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Username:&quot; textFill=&quot;WHITE&quot; /&gt;\r\n            &lt;Label layoutX=&quot;34.0&quot; layoutY=&quot;98.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Password:&quot; textFill=&quot;WHITE&quot; /&gt;\r\n            &lt;TextField layoutX=&quot;106.0&quot; layoutY=&quot;60.0&quot; promptText=&quot;Enter Username ID:&quot; /&gt;\r\n            &lt;TextField layoutX=&quot;106.0&quot; layoutY=&quot;98.0&quot; promptText=&quot;Enter Password&quot; /&gt;\r\n            &lt;Button alignment=&quot;CENTER&quot; layoutX=&quot;106.0&quot; layoutY=&quot;137.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;73.0&quot; style=&quot;-fx-background-color: #fff2cc;&quot; text=&quot;LOGIN&quot; /&gt;\r\n         &lt;/children&gt;&lt;/AnchorPane&gt;\r\n      &lt;Label layoutX=&quot;225.0&quot; layoutY=&quot;36.0&quot; text=&quot;HOTEL DEL LUNA&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```","title":"Javafx button does nothing","body":"<p>I'm creating a simple login GUI form using eclipse, JavaFX and scene builder. I've coded my program so that every time I click the login button, it would switch to another window but it doesn't work. i'm a beginner in java but we've been tasked to create a system in my class so I've only relied on youtube tutorials, any help would be appreciated!</p>\n<p>this is my main code</p>\n<pre><code>package application;\n    \nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.stage.Stage;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;Main.fxml&quot;));\n            Scene scene = new Scene(root);\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>my login form</p>\n<pre><code>package application;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.PasswordField;\nimport javafx.scene.control.TextField;\nimport javafx.stage.Stage;\n\npublic class Login {\n\n    @FXML\n    private Button button;\n\n    @FXML\n    private PasswordField password;\n\n    @FXML\n    private TextField username;\n\n    @FXML\n    private Label wrongLogin;\n\n    @FXML\n    public void Login(ActionEvent event) {\n        \n        Stage primaryStage = new Stage();\n        \n        if (username.getText().equals(&quot;admin&quot;) &amp;&amp; password.getText().equals(&quot;admin&quot;)) {\n            try {\n                Parent root = FXMLLoader.load(getClass().getResource(&quot;BookRooms.fxml&quot;));\n                Scene scene = new Scene(root);\n                scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n                primaryStage.setScene(scene);\n                primaryStage.show();\n            } catch(Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>my fxml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane prefHeight=&quot;345.0&quot; prefWidth=&quot;545.0&quot; style=&quot;-fx-background-color: #fff2cc;&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.Login&quot;&gt;\n   &lt;children&gt;\n      &lt;AnchorPane layoutX=&quot;132.0&quot; layoutY=&quot;62.0&quot; prefHeight=&quot;221.0&quot; prefWidth=&quot;279.0&quot; style=&quot;-fx-background-color: #545454; -fx-border-radius: 10;&quot;&gt;\n         &lt;children&gt;\n            &lt;Label layoutX=&quot;34.0&quot; layoutY=&quot;60.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Username:&quot; textFill=&quot;WHITE&quot; /&gt;\n            &lt;Label layoutX=&quot;34.0&quot; layoutY=&quot;98.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Password:&quot; textFill=&quot;WHITE&quot; /&gt;\n            &lt;TextField layoutX=&quot;106.0&quot; layoutY=&quot;60.0&quot; promptText=&quot;Enter Username ID:&quot; /&gt;\n            &lt;TextField layoutX=&quot;106.0&quot; layoutY=&quot;98.0&quot; promptText=&quot;Enter Password&quot; /&gt;\n            &lt;Button alignment=&quot;CENTER&quot; layoutX=&quot;106.0&quot; layoutY=&quot;137.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;73.0&quot; style=&quot;-fx-background-color: #fff2cc;&quot; text=&quot;LOGIN&quot; /&gt;\n         &lt;/children&gt;&lt;/AnchorPane&gt;\n      &lt;Label layoutX=&quot;225.0&quot; layoutY=&quot;36.0&quot; text=&quot;HOTEL DEL LUNA&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1650211865,"post_id":71903317,"comment_id":127058598,"body_markdown":"Note you couldn&#39;t do that if `main` was in a separate package.","body":"Note you couldn&#39;t do that if <code>main</code> was in a separate package."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1650212900,"post_id":71903317,"comment_id":127058812,"body_markdown":"But that&#39;s not the point of this. The various classes could be made public and placed in separate files, and then any `main` would be able to do that. \n\n@rgbk21, you are right, if you deleted the `Fruit` implementation and implemented inside the Apple and Orange, you wouldn&#39;t be able to do the `compareTo` at the end.","body":"But that&#39;s not the point of this. The various classes could be made public and placed in separate files, and then any <code>main</code> would be able to do that.   @rgbk21, you are right, if you deleted the <code>Fruit</code> implementation and implemented inside the Apple and Orange, you wouldn&#39;t be able to do the <code>compareTo</code> at the end."}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650214441,"creation_date":1650214441,"answer_id":71903769,"question_id":71903317,"body_markdown":"1. A class has method `compareTo(Fruit)` doesn&#39;t mean it implements `Comparable&lt;Fruit&gt;`. Only the opposite is correct.\r\n2. In java API, method requiring comparison is based on `Comparable` interface, instead of checking if the class has `compareTo` method.\r\n\r\nSince `Fruit` does not implements `Comparable&lt;Fruit&gt;`(it is a design problem if it implements), what the book say is correct. You can see `Collections.max` can&#39;t be called with `List&lt;Fruit&gt;`.\r\n\r\n### IMO, what make us confuse is the method name `compareTo` in `Fruit`. \r\n\r\n- The name is ambiguous to `Comparable` method,   \r\n  So by convention, we should name a method `compareTo` only when we implements `Comparable`.\r\n- Wrong method may be called due to static binding\r\n  ```\r\n  // Apple#compareTo is called\r\n  System.out.println(apple1.compareTo(apple2));\r\n  Fruit fruitWhichIsApple2 = apple2;\r\n  // Fruit#compareTo is called\r\n  System.out.println(apple1.compareTo(fruitWhichIsApple2));\r\n  ```\r\n\r\nAlthough it is marked as `protected`(which avoid usage from other package class), it is much clear if we rename it to something else.","title":"Using Comparable interface to prohibit comparison between inherited types","body":"<ol>\n<li>A class has method <code>compareTo(Fruit)</code> doesn't mean it implements <code>Comparable&lt;Fruit&gt;</code>. Only the opposite is correct.</li>\n<li>In java API, method requiring comparison is based on <code>Comparable</code> interface, instead of checking if the class has <code>compareTo</code> method.</li>\n</ol>\n<p>Since <code>Fruit</code> does not implements <code>Comparable&lt;Fruit&gt;</code>(it is a design problem if it implements), what the book say is correct. You can see <code>Collections.max</code> can't be called with <code>List&lt;Fruit&gt;</code>.</p>\n<h3>IMO, what make us confuse is the method name <code>compareTo</code> in <code>Fruit</code>.</h3>\n<ul>\n<li>The name is ambiguous to <code>Comparable</code> method,<br />\nSo by convention, we should name a method <code>compareTo</code> only when we implements <code>Comparable</code>.</li>\n<li>Wrong method may be called due to static binding\n<pre><code>// Apple#compareTo is called\nSystem.out.println(apple1.compareTo(apple2));\nFruit fruitWhichIsApple2 = apple2;\n// Fruit#compareTo is called\nSystem.out.println(apple1.compareTo(fruitWhichIsApple2));\n</code></pre>\n</li>\n</ul>\n<p>Although it is marked as <code>protected</code>(which avoid usage from other package class), it is much clear if we rename it to something else.</p>\n"}],"owner":{"account_id":5175649,"reputation":163,"user_id":8742428,"display_name":"rgbk21"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71903769,"answer_count":1,"score":2,"last_activity_date":1650214441,"creation_date":1650210698,"question_id":71903317,"body_markdown":"I am going through the &quot;Java Generics and Collections&quot; book by Naftalin. I want to check my understanding regarding a point that they make in Chapter 3.\r\n\r\nThey explain about how the `Comparable` interface allows us to control what types we can compare with one another. In the below code example that they provide, they say that it is not possible to compare *Apple* with *Orange*. To be precise, this is what they say: \r\n\r\n&gt; Since Apple implements `Comparable&lt;Apple&gt;`, it is clear that you can compare apples with apples, but not with oranges. \r\n\r\nBut as you can see, on the last line of the `main` method, we are able to do so, because the `compareTo` from the base class ends up being called. So I presume the solution to this would be to duplicate the implementation of the `compareTo` method by moving it to each of the *Apple* and *Orange* classes? And removing it from the base *Fruit* class? Or is there a better way to do this?\r\n\r\n```\r\nabstract class Fruit {\r\n    protected String name;\r\n    protected int size;\r\n\r\n  protected Fruit(String name, int size) {\r\n    this.name = checkNotNull(name);\r\n    this.size = size;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (o instanceof Fruit) {\r\n      Fruit that = (Fruit) o;\r\n      return this.name.equals(that.name) &amp;&amp; this.size == that.size;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return name.hashCode() * 29 + size;\r\n  }\r\n\r\n  protected int compareTo(@Nullable Fruit that) {\r\n    if (this.size &gt; that.size) {\r\n      return 1;\r\n    } else if (this.size &lt; that.size) {\r\n      return -1;\r\n    } else return 0;\r\n  }\r\n  }\r\n}\r\n\r\nclass Apple extends Fruit implements Comparable&lt;Apple&gt; {\r\n  public Apple(int size) {\r\n    super(&quot;Apple&quot;, size);\r\n  }\r\n\r\n  @Override\r\n  public int compareTo(Apple apple) {\r\n    return super.compareTo(apple);\r\n  }\r\n}\r\n\r\nclass Orange extends Fruit implements Comparable&lt;Orange&gt; {\r\n  protected Orange(int size) {\r\n    super(&quot;Orange&quot;, size);\r\n  }\r\n\r\n  @Override\r\n  public int compareTo(Orange orange) {\r\n    return super.compareTo(orange);\r\n  }\r\n}\r\n\r\nclass TestFruit {\r\n  public static void main(String[] args) {\r\n    Apple apple1 = new Apple(1);\r\n    Apple apple2 = new Apple(2);\r\n    Orange orange1 = new Orange(1);\r\n    Orange orange2 = new Orange(2);\r\n\r\n    List&lt;Apple&gt; apples = List.of(apple1, apple2);\r\n    List&lt;Orange&gt; oranges = List.of(orange1, orange2);\r\n\r\n    // Both of these work as expected\r\n    System.out.println(Collections.max(apples)); // Apple{name=Apple, size=2}\r\n    System.out.println(Collections.max(oranges)); // Orange{name=Orange, size=2}\r\n\r\n    // But now, as expected, when you try to create a mixed list, it will no longer work\r\n    List&lt;Fruit&gt; mixed = List.of(apple1, orange2);\r\n    // Compile error on the below line\r\n    System.out.println(Collections.max(mixed));\r\n\r\n    // But this also works now, because compareTo from the Fruit class\r\n    // is being used here.\r\n    System.out.println(apple1.compareTo(orange1)); // -1\r\n  }\r\n}\r\n```","title":"Using Comparable interface to prohibit comparison between inherited types","body":"<p>I am going through the &quot;Java Generics and Collections&quot; book by Naftalin. I want to check my understanding regarding a point that they make in Chapter 3.</p>\n<p>They explain about how the <code>Comparable</code> interface allows us to control what types we can compare with one another. In the below code example that they provide, they say that it is not possible to compare <em>Apple</em> with <em>Orange</em>. To be precise, this is what they say:</p>\n<blockquote>\n<p>Since Apple implements <code>Comparable&lt;Apple&gt;</code>, it is clear that you can compare apples with apples, but not with oranges.</p>\n</blockquote>\n<p>But as you can see, on the last line of the <code>main</code> method, we are able to do so, because the <code>compareTo</code> from the base class ends up being called. So I presume the solution to this would be to duplicate the implementation of the <code>compareTo</code> method by moving it to each of the <em>Apple</em> and <em>Orange</em> classes? And removing it from the base <em>Fruit</em> class? Or is there a better way to do this?</p>\n<pre><code>abstract class Fruit {\n    protected String name;\n    protected int size;\n\n  protected Fruit(String name, int size) {\n    this.name = checkNotNull(name);\n    this.size = size;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (o instanceof Fruit) {\n      Fruit that = (Fruit) o;\n      return this.name.equals(that.name) &amp;&amp; this.size == that.size;\n    }\n    return false;\n  }\n\n  @Override\n  public int hashCode() {\n    return name.hashCode() * 29 + size;\n  }\n\n  protected int compareTo(@Nullable Fruit that) {\n    if (this.size &gt; that.size) {\n      return 1;\n    } else if (this.size &lt; that.size) {\n      return -1;\n    } else return 0;\n  }\n  }\n}\n\nclass Apple extends Fruit implements Comparable&lt;Apple&gt; {\n  public Apple(int size) {\n    super(&quot;Apple&quot;, size);\n  }\n\n  @Override\n  public int compareTo(Apple apple) {\n    return super.compareTo(apple);\n  }\n}\n\nclass Orange extends Fruit implements Comparable&lt;Orange&gt; {\n  protected Orange(int size) {\n    super(&quot;Orange&quot;, size);\n  }\n\n  @Override\n  public int compareTo(Orange orange) {\n    return super.compareTo(orange);\n  }\n}\n\nclass TestFruit {\n  public static void main(String[] args) {\n    Apple apple1 = new Apple(1);\n    Apple apple2 = new Apple(2);\n    Orange orange1 = new Orange(1);\n    Orange orange2 = new Orange(2);\n\n    List&lt;Apple&gt; apples = List.of(apple1, apple2);\n    List&lt;Orange&gt; oranges = List.of(orange1, orange2);\n\n    // Both of these work as expected\n    System.out.println(Collections.max(apples)); // Apple{name=Apple, size=2}\n    System.out.println(Collections.max(oranges)); // Orange{name=Orange, size=2}\n\n    // But now, as expected, when you try to create a mixed list, it will no longer work\n    List&lt;Fruit&gt; mixed = List.of(apple1, orange2);\n    // Compile error on the below line\n    System.out.println(Collections.max(mixed));\n\n    // But this also works now, because compareTo from the Fruit class\n    // is being used here.\n    System.out.println(apple1.compareTo(orange1)); // -1\n  }\n}\n</code></pre>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1650210381,"post_id":71903239,"comment_id":127058254,"body_markdown":"I don&#39;t see anything in that code that ever completes any CompletableFuture.","body":"I don&#39;t see anything in that code that ever completes any CompletableFuture."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650210673,"post_id":71903239,"comment_id":127058319,"body_markdown":"Not only that. The call `.thenRun(() -&gt; printAsync(4))` creates a `CompletableFuture`, in which ANOTHER `CompletableFture` is created and executed (asynchronously). If we replace this line with `.thenRun(() -&gt; printAsync(4).join()).join();`, then we get the expected output.","body":"Not only that. The call <code>.thenRun(() -&gt; printAsync(4))</code> creates a <code>CompletableFuture</code>, in which ANOTHER <code>CompletableFture</code> is created and executed (asynchronously). If we replace this line with <code>.thenRun(() -&gt; printAsync(4).join()).join();</code>, then we get the expected output."}],"answers":[{"tags":[],"owner":{"account_id":23904234,"reputation":1928,"user_id":17902018,"display_name":"rikyeah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650211570,"creation_date":1650211570,"answer_id":71903414,"question_id":71903239,"body_markdown":"As mentioned in the comments, `.thenRun(() -&gt; printAsync(4).join()).join();` will create another `CompletableFuture` and complete it, giving you the expected output.","title":"how does ThenRun in CompletableFuture work?","body":"<p>As mentioned in the comments, <code>.thenRun(() -&gt; printAsync(4).join()).join();</code> will create another <code>CompletableFuture</code> and complete it, giving you the expected output.</p>\n"},{"tags":[],"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650212462,"creation_date":1650212462,"answer_id":71903540,"question_id":71903239,"body_markdown":"You invoke `doSomething()` from `printAsync()` and each invocation puts the invoking thread to sleep for 100ms. Therefore you don&#39;t wait long enough to see the output of `4`.\r\n\r\nYou can use `join` as suggested in the comments to wait until all submitted tasks are finished. Or (to help understand what is happening) you can add a parameter to `doSomething` to specify the amount of ms to sleep and wait a bit longer in your main thread, as shown below.\r\n\r\nIt is not that the `printAsync(4)` is not executed. Rather, the jvm terminates the process because all non-daemon threads (in this case the main thread) are done before that point.\r\n\r\n    import java.util.concurrent.CompletableFuture;\r\n    import java.lang.Thread;\r\n    \r\n      class CF {\r\n      static void doSomething(long sleep) {\r\n        try {\r\n          Thread.sleep(sleep);\r\n        } catch(InterruptedException e) {\r\n          System.out.println(&quot;ggwp&quot;);\r\n        }\r\n      }\r\n     \r\n      static CompletableFuture&lt;Void&gt; printAsync(int i) {\r\n        return CompletableFuture.runAsync(() -&gt; {\r\n          doSomething(100);\r\n          System.out.print(i);\r\n          System.out.println(Thread.currentThread().getName());\r\n        });\r\n      }\r\n \r\n      public static void main(String[] args) {\r\n        printAsync(1).join();\r\n        CompletableFuture.allOf(printAsync(2), printAsync(3))\r\n          .thenRun(() -&gt; printAsync(4));\r\n        doSomething(500);\r\n        }\r\n      }\r\n\r\n","title":"how does ThenRun in CompletableFuture work?","body":"<p>You invoke <code>doSomething()</code> from <code>printAsync()</code> and each invocation puts the invoking thread to sleep for 100ms. Therefore you don't wait long enough to see the output of <code>4</code>.</p>\n<p>You can use <code>join</code> as suggested in the comments to wait until all submitted tasks are finished. Or (to help understand what is happening) you can add a parameter to <code>doSomething</code> to specify the amount of ms to sleep and wait a bit longer in your main thread, as shown below.</p>\n<p>It is not that the <code>printAsync(4)</code> is not executed. Rather, the jvm terminates the process because all non-daemon threads (in this case the main thread) are done before that point.</p>\n<pre><code>import java.util.concurrent.CompletableFuture;\nimport java.lang.Thread;\n\n  class CF {\n  static void doSomething(long sleep) {\n    try {\n      Thread.sleep(sleep);\n    } catch(InterruptedException e) {\n      System.out.println(&quot;ggwp&quot;);\n    }\n  }\n \n  static CompletableFuture&lt;Void&gt; printAsync(int i) {\n    return CompletableFuture.runAsync(() -&gt; {\n      doSomething(100);\n      System.out.print(i);\n      System.out.println(Thread.currentThread().getName());\n    });\n  }\n\n  public static void main(String[] args) {\n    printAsync(1).join();\n    CompletableFuture.allOf(printAsync(2), printAsync(3))\n      .thenRun(() -&gt; printAsync(4));\n    doSomething(500);\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":21217707,"reputation":23,"user_id":15604998,"display_name":"Zenith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71903540,"answer_count":2,"score":0,"last_activity_date":1650212462,"creation_date":1650210041,"question_id":71903239,"body_markdown":"The main function outputs only 1, 2 and 3. Why does the Runnable in thenRun not run and print 4 as well? \r\n\r\n~~~java\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.lang.Thread;\r\n\r\n  class CF {\r\n  static void doSomething() {\r\n    try {\r\n      Thread.sleep(100);\r\n    } catch(InterruptedException e) {\r\n      System.out.println(&quot;ggwp&quot;);\r\n    }\r\n  }\r\n \r\n  static CompletableFuture&lt;Void&gt; printAsync(int i) {\r\n    return CompletableFuture.runAsync(() -&gt; {\r\n      doSomething();\r\n      System.out.print(i);\r\n      System.out.println(Thread.currentThread().getName());\r\n    });\r\n  }\r\n \r\n  public static void main(String[] args) {\r\n    printAsync(1).join();\r\n    CompletableFuture.allOf(printAsync(2), printAsync(3))\r\n      .thenRun(() -&gt; printAsync(4));\r\n    doSomething();\r\n    }\r\n  }\r\n~~~\r\n\r\nHowever, when I change the doSomething function as shown below, all the numbers 1,2,3 and 4 will be printed.\r\n~~~java\r\n  static void doSomething() {\r\n    return;\r\n  }\r\n~~~\r\n\r\n","title":"how does ThenRun in CompletableFuture work?","body":"<p>The main function outputs only 1, 2 and 3. Why does the Runnable in thenRun not run and print 4 as well?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.CompletableFuture;\nimport java.lang.Thread;\n\n  class CF {\n  static void doSomething() {\n    try {\n      Thread.sleep(100);\n    } catch(InterruptedException e) {\n      System.out.println(&quot;ggwp&quot;);\n    }\n  }\n \n  static CompletableFuture&lt;Void&gt; printAsync(int i) {\n    return CompletableFuture.runAsync(() -&gt; {\n      doSomething();\n      System.out.print(i);\n      System.out.println(Thread.currentThread().getName());\n    });\n  }\n \n  public static void main(String[] args) {\n    printAsync(1).join();\n    CompletableFuture.allOf(printAsync(2), printAsync(3))\n      .thenRun(() -&gt; printAsync(4));\n    doSomething();\n    }\n  }\n</code></pre>\n<p>However, when I change the doSomething function as shown below, all the numbers 1,2,3 and 4 will be printed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  static void doSomething() {\n    return;\n  }\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":0,"creation_date":1650211425,"post_id":71903313,"comment_id":127058495,"body_markdown":"The error seems rather clear, you&#39;re specifying us-east-1 for a bucket in the ca-central-1 region","body":"The error seems rather clear, you&#39;re specifying us-east-1 for a bucket in the ca-central-1 region"},{"owner":{"account_id":14772846,"reputation":1,"user_id":10668751,"display_name":"szwedosz"},"score":0,"creation_date":1650213021,"post_id":71903313,"comment_id":127058838,"body_markdown":"But my bucket is in us-east-1 region","body":"But my bucket is in us-east-1 region"},{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":0,"creation_date":1650213045,"post_id":71903313,"comment_id":127058843,"body_markdown":"AWS doesn&#39;t think so","body":"AWS doesn&#39;t think so"},{"owner":{"account_id":14772846,"reputation":1,"user_id":10668751,"display_name":"szwedosz"},"score":0,"creation_date":1650218185,"post_id":71903313,"comment_id":127059929,"body_markdown":"How can I set it then? When I go into properties of my bucket it says us-east-1 in region","body":"How can I set it then? When I go into properties of my bucket it says us-east-1 in region"},{"owner":{"account_id":14772846,"reputation":1,"user_id":10668751,"display_name":"szwedosz"},"score":0,"creation_date":1650323255,"post_id":71903313,"comment_id":127083132,"body_markdown":"Never mind, I had a bad bucket name","body":"Never mind, I had a bad bucket name"}],"owner":{"account_id":14772846,"reputation":1,"user_id":10668751,"display_name":"szwedosz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650210681,"creation_date":1650210681,"question_id":71903313,"body_markdown":"I&#39;m trying to upload an image to S3 via pre-signed URL generated by Java client but I&#39;m getting \r\n```\r\n&lt;Error&gt;\r\n    &lt;Code&gt;AuthorizationQueryParametersError&lt;/Code&gt;\r\n    &lt;Message&gt;Error parsing the X-Amz-Credential parameter; the region &#39;us-east-1&#39; is wrong; expecting &#39;ca-central-1&#39;&lt;/Message&gt;\r\n    &lt;Region&gt;ca-central-1&lt;/Region&gt;\r\n    &lt;RequestId&gt;G5WQRR38PQVZQJMH&lt;/RequestId&gt;\r\n    &lt;HostId&gt;pEkHWAWitW8Ay30lDuCUG3Yg8yucEyQH+ExKjaMc7OrrcIqkiK8a6/cRYNmWWXj0jIK3rFtcsbA=&lt;/HostId&gt;\r\n&lt;/Error&gt;\r\n```\r\nMy bucket is in us-east-1 region. Here is my code generating pre-signed URL:\r\n```\r\nAmazonS3 amazonS3Client = AmazonS3ClientBuilder\r\n            .standard()\r\n            .withRegion(&quot;us-east-1&quot;)\r\n            .build();\r\n\r\nGeneratePresignedUrlRequest generatePresignedUrlRequest =\r\n    new GeneratePresignedUrlRequest(BUCKET_NAME, objectKey)\r\n       .withMethod(HttpMethod.PUT)\r\n       .withExpiration(getExpirationDate());\r\nURL url = amazonS3Client.generatePresignedUrl(generatePresignedUrlRequest);","title":"Attempt to upload to pre-signed URL generated by Java SDK leads to AuthorizationQueryParametersError","body":"<p>I'm trying to upload an image to S3 via pre-signed URL generated by Java client but I'm getting</p>\n<pre><code>&lt;Error&gt;\n    &lt;Code&gt;AuthorizationQueryParametersError&lt;/Code&gt;\n    &lt;Message&gt;Error parsing the X-Amz-Credential parameter; the region 'us-east-1' is wrong; expecting 'ca-central-1'&lt;/Message&gt;\n    &lt;Region&gt;ca-central-1&lt;/Region&gt;\n    &lt;RequestId&gt;G5WQRR38PQVZQJMH&lt;/RequestId&gt;\n    &lt;HostId&gt;pEkHWAWitW8Ay30lDuCUG3Yg8yucEyQH+ExKjaMc7OrrcIqkiK8a6/cRYNmWWXj0jIK3rFtcsbA=&lt;/HostId&gt;\n&lt;/Error&gt;\n</code></pre>\n<p>My bucket is in us-east-1 region. Here is my code generating pre-signed URL:</p>\n<pre><code>AmazonS3 amazonS3Client = AmazonS3ClientBuilder\n            .standard()\n            .withRegion(&quot;us-east-1&quot;)\n            .build();\n\nGeneratePresignedUrlRequest generatePresignedUrlRequest =\n    new GeneratePresignedUrlRequest(BUCKET_NAME, objectKey)\n       .withMethod(HttpMethod.PUT)\n       .withExpiration(getExpirationDate());\nURL url = amazonS3Client.generatePresignedUrl(generatePresignedUrlRequest);\n</code></pre>\n"},{"tags":["java","stream","java-stream"],"comments":[{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":1,"creation_date":1650208582,"post_id":71902940,"comment_id":127057868,"body_markdown":"Can you edit your question providing the Snp class implementation? Besides, I didn&#39;t quite understand the purpose of the array SNP_DATA","body":"Can you edit your question providing the Snp class implementation? Besides, I didn&#39;t quite understand the purpose of the array SNP_DATA"},{"owner":{"display_name":"user18299593"},"score":0,"creation_date":1650209003,"post_id":71902940,"comment_id":127057957,"body_markdown":"I have added the Snp class","body":"I have added the Snp class"},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":1,"creation_date":1650209215,"post_id":71902940,"comment_id":127057999,"body_markdown":"Thank you. Could you maybe edit the question to elaborate the SNP_DATA array and the purpose of those strings (100273;A;G;0.0123)?","body":"Thank you. Could you maybe edit the question to elaborate the SNP_DATA array and the purpose of those strings (100273;A;G;0.0123)?"},{"owner":{"display_name":"user18299593"},"score":0,"creation_date":1650209549,"post_id":71902940,"comment_id":127058077,"body_markdown":"I need to make this for a school assignment, that code was already in there. I don&#39;t know the purpose either","body":"I need to make this for a school assignment, that code was already in there. I don&#39;t know the purpose either"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650209193,"creation_date":1650209193,"answer_id":71903129,"question_id":71902940,"body_markdown":"Since your `Snp` class doesn&#39;t contain information about whether it&#39;s a transition or transversion, you would need a wrapper class. I&#39;ll omit that, but it just needs to have a `String type` property, `Snp snp` property, and a factory method (let&#39;s call it parse).\r\n\r\n    result = SNP_COLLECTION.stream()\r\n            // do your filtering based on string values\r\n            .map(SnpWrapper::parse) // String to Snp conversion\r\n            // do your filtering based on Snp values\r\n            .collect(Collectors.groupingBy(\r\n                    Wrapper::getType,\r\n                    Collectors.mapping(Wrapper::getSnp, Collectors.toList())\r\n            ));\r\n\r\nEdit: the wrapping is actually not needed. You&#39;ll just need to provide a utility method. That can be placed in `Snp`, or as a private method in your current class. Let&#39;s assume it&#39;s the latter and it&#39;s named `getSnpType`:\r\n\r\n    result = SNP_COLLECTION.stream()\r\n            // do your filtering based on string values\r\n            .map(Snp::parse) // or whatever you have for String -&gt; Snp\r\n            // do your filtering based on Snp values\r\n            .collect(Collectors.groupingBy(StreamAssignment::getSnpType));\r\n","title":"java stream make map after two different filters","body":"<p>Since your <code>Snp</code> class doesn't contain information about whether it's a transition or transversion, you would need a wrapper class. I'll omit that, but it just needs to have a <code>String type</code> property, <code>Snp snp</code> property, and a factory method (let's call it parse).</p>\n<pre><code>result = SNP_COLLECTION.stream()\n        // do your filtering based on string values\n        .map(SnpWrapper::parse) // String to Snp conversion\n        // do your filtering based on Snp values\n        .collect(Collectors.groupingBy(\n                Wrapper::getType,\n                Collectors.mapping(Wrapper::getSnp, Collectors.toList())\n        ));\n</code></pre>\n<p>Edit: the wrapping is actually not needed. You'll just need to provide a utility method. That can be placed in <code>Snp</code>, or as a private method in your current class. Let's assume it's the latter and it's named <code>getSnpType</code>:</p>\n<pre><code>result = SNP_COLLECTION.stream()\n        // do your filtering based on string values\n        .map(Snp::parse) // or whatever you have for String -&gt; Snp\n        // do your filtering based on Snp values\n        .collect(Collectors.groupingBy(StreamAssignment::getSnpType));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650210672,"creation_date":1650210672,"answer_id":71903312,"question_id":71902940,"body_markdown":"You could concat your two chars `reference` &amp; `alternative` to a string and use regex to check for `transition` or `transversion`. Something like \r\n\r\n\r\n    import java.util.function.BiFunction;\r\n\r\n    ....\r\n\r\n\r\n    public static Map&lt;String, List&lt;Snp&gt;&gt; getTransversionsTransitions() {\r\n        BiFunction&lt;Character,Character,String&gt; func =\r\n                (a,b) -&gt; (&quot;&quot;+a+b).matches(&quot;AG|GA|CT|TC&quot;) ? &quot;Transitions&quot;:&quot;Transversions&quot;;\r\n        return SNP_COLLECTION.stream()\r\n                .collect(Collectors.groupingBy(snp -&gt; func.apply(snp.getReference(),snp.getAlternative())));\r\n    }","title":"java stream make map after two different filters","body":"<p>You could concat your two chars <code>reference</code> &amp; <code>alternative</code> to a string and use regex to check for <code>transition</code> or <code>transversion</code>. Something like</p>\n<pre><code>import java.util.function.BiFunction;\n\n....\n\n\npublic static Map&lt;String, List&lt;Snp&gt;&gt; getTransversionsTransitions() {\n    BiFunction&lt;Character,Character,String&gt; func =\n            (a,b) -&gt; (&quot;&quot;+a+b).matches(&quot;AG|GA|CT|TC&quot;) ? &quot;Transitions&quot;:&quot;Transversions&quot;;\n    return SNP_COLLECTION.stream()\n            .collect(Collectors.groupingBy(snp -&gt; func.apply(snp.getReference(),snp.getAlternative())));\n}\n</code></pre>\n"}],"owner":{"display_name":"user18299593"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71903129,"answer_count":2,"score":0,"last_activity_date":1650210672,"creation_date":1650207587,"question_id":71902940,"body_markdown":"It should return a Map. \r\nKeys of this Map should be the Strings &quot;transversion&quot; and &quot;transition&quot;, and the values of the Map should be lists of SNP objects. &quot;Transitions&quot; are changes between A&lt;-&gt;G and C&lt;-&gt;T and &quot;transversions&quot; are changes A&lt;-&gt;C, G&lt;-&gt;T, A&lt;-&gt;T and C&lt;-&gt;G.\r\n\r\n\r\nHow should I make the two filters?\r\n\r\n```\r\npublic class StreamAssignment {\r\n\r\n    private static final List&lt;Snp&gt; SNP_COLLECTION = Snp.getSnpCollection();\r\n    private static final String[] SNP_DATA = new String[14];\r\n\r\n    static {\r\n        SNP_DATA[0] = &quot;100273;A;G;0.0123&quot;;\r\n        SNP_DATA[1] = &quot;100275;A;C;0.00323&quot;;\r\n        SNP_DATA[2] = &quot;117807;T;G;0.1915&quot;;\r\n        SNP_DATA[3] = &quot;162889;C;G;8.72E-4&quot;;\r\n        SNP_DATA[4] = &quot;190199;T;C;0.1019&quot;;\r\n        SNP_DATA[5] = &quot;277614;A;G;0.0168&quot;;\r\n        SNP_DATA[6] = &quot;372778;C;A;4.24E-5&quot;;\r\n        SNP_DATA[7] = &quot;417752;A;G;1.8474E-10&quot;;\r\n        SNP_DATA[8] = &quot;478808;A;G;1.535689E-8&quot;;\r\n        SNP_DATA[9] = &quot;556920;T;G;0.1097&quot;;\r\n        SNP_DATA[10] = &quot;676255;G;C;0.0016672&quot;;\r\n        SNP_DATA[11] = &quot;667280;A;G;0.00287&quot;;\r\n        SNP_DATA[12] = &quot;719876;C;A;0.006649&quot;;\r\n        SNP_DATA[13] = &quot;828771;A;C;0.097706&quot;;\r\n    }\r\n\r\n    public static Map&lt;String, List&lt;Snp&gt;&gt; getTransversionsTransitions() {\r\n        Map&lt;String, List&lt;Snp&gt;&gt; result;\r\n        result = SNP_COLLECTION.stream().filter();\r\n\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n\r\nsnp class\r\n```\r\npackage nl.bioinf.appdesign.d_streams_lambdas;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Snp {\r\n    private final long position;\r\n    private final char reference;\r\n    private final char alternative;\r\n    private final double minorAlleleFrequency;\r\n\r\n    public Snp(long position, char reference, char alternative, double minorAlleleFrequency) {\r\n        this.position = position;\r\n        this.reference = reference;\r\n        this.alternative = alternative;\r\n        this.minorAlleleFrequency = minorAlleleFrequency;\r\n    }\r\n\r\n    public long getPosition() {\r\n        return position;\r\n    }\r\n\r\n    public char getReference() {\r\n        return reference;\r\n    }\r\n\r\n    public char getAlternative() {\r\n        return alternative;\r\n    }\r\n\r\n    public double getMinorAlleleFrequency() {\r\n        return minorAlleleFrequency;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Snp{&quot; +\r\n                &quot;position=&quot; + position +\r\n                &quot;, reference=&quot; + reference +\r\n                &quot;, alternative=&quot; + alternative +\r\n                &quot;, minorAlleleFrequency=&quot; + minorAlleleFrequency +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    public final static List&lt;Snp&gt; getSnpCollection() {\r\n        List&lt;Snp&gt; snps = new ArrayList&lt;&gt;();\r\n        snps.add(new Snp(100273, &#39;A&#39;, &#39;G&#39;, 0.0123));\r\n        snps.add(new Snp(100275, &#39;A&#39;, &#39;C&#39;, 0.00323));\r\n        snps.add(new Snp(117807, &#39;T&#39;, &#39;G&#39;, 0.1915));\r\n        snps.add(new Snp(162889, &#39;C&#39;, &#39;G&#39;, 0.000872));\r\n        snps.add(new Snp(190199, &#39;T&#39;, &#39;C&#39;, 0.1019));\r\n        snps.add(new Snp(277614, &#39;A&#39;, &#39;G&#39;, 0.0168));\r\n        snps.add(new Snp(372778, &#39;C&#39;, &#39;A&#39;, 0.0000424));\r\n        snps.add(new Snp(417752, &#39;A&#39;, &#39;G&#39;, 1.8474e-10));\r\n        snps.add(new Snp(478808, &#39;A&#39;, &#39;G&#39;, 1.535689e-8));\r\n        snps.add(new Snp(556920, &#39;T&#39;, &#39;G&#39;, 0.1097));\r\n        snps.add(new Snp(676255, &#39;G&#39;, &#39;C&#39;, 1.6672e-3));\r\n        snps.add(new Snp(667280, &#39;A&#39;, &#39;G&#39;, 0.00287));\r\n        snps.add(new Snp(719876, &#39;C&#39;, &#39;A&#39;, 0.006649));\r\n        snps.add(new Snp(828771, &#39;A&#39;, &#39;C&#39;, 0.097706));\r\n        return snps;\r\n    }\r\n}\r\n```","title":"java stream make map after two different filters","body":"<p>It should return a Map.\nKeys of this Map should be the Strings &quot;transversion&quot; and &quot;transition&quot;, and the values of the Map should be lists of SNP objects. &quot;Transitions&quot; are changes between A&lt;-&gt;G and C&lt;-&gt;T and &quot;transversions&quot; are changes A&lt;-&gt;C, G&lt;-&gt;T, A&lt;-&gt;T and C&lt;-&gt;G.</p>\n<p>How should I make the two filters?</p>\n<pre><code>public class StreamAssignment {\n\n    private static final List&lt;Snp&gt; SNP_COLLECTION = Snp.getSnpCollection();\n    private static final String[] SNP_DATA = new String[14];\n\n    static {\n        SNP_DATA[0] = &quot;100273;A;G;0.0123&quot;;\n        SNP_DATA[1] = &quot;100275;A;C;0.00323&quot;;\n        SNP_DATA[2] = &quot;117807;T;G;0.1915&quot;;\n        SNP_DATA[3] = &quot;162889;C;G;8.72E-4&quot;;\n        SNP_DATA[4] = &quot;190199;T;C;0.1019&quot;;\n        SNP_DATA[5] = &quot;277614;A;G;0.0168&quot;;\n        SNP_DATA[6] = &quot;372778;C;A;4.24E-5&quot;;\n        SNP_DATA[7] = &quot;417752;A;G;1.8474E-10&quot;;\n        SNP_DATA[8] = &quot;478808;A;G;1.535689E-8&quot;;\n        SNP_DATA[9] = &quot;556920;T;G;0.1097&quot;;\n        SNP_DATA[10] = &quot;676255;G;C;0.0016672&quot;;\n        SNP_DATA[11] = &quot;667280;A;G;0.00287&quot;;\n        SNP_DATA[12] = &quot;719876;C;A;0.006649&quot;;\n        SNP_DATA[13] = &quot;828771;A;C;0.097706&quot;;\n    }\n\n    public static Map&lt;String, List&lt;Snp&gt;&gt; getTransversionsTransitions() {\n        Map&lt;String, List&lt;Snp&gt;&gt; result;\n        result = SNP_COLLECTION.stream().filter();\n\n\n        return null;\n    }\n}\n</code></pre>\n<p>snp class</p>\n<pre><code>package nl.bioinf.appdesign.d_streams_lambdas;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Snp {\n    private final long position;\n    private final char reference;\n    private final char alternative;\n    private final double minorAlleleFrequency;\n\n    public Snp(long position, char reference, char alternative, double minorAlleleFrequency) {\n        this.position = position;\n        this.reference = reference;\n        this.alternative = alternative;\n        this.minorAlleleFrequency = minorAlleleFrequency;\n    }\n\n    public long getPosition() {\n        return position;\n    }\n\n    public char getReference() {\n        return reference;\n    }\n\n    public char getAlternative() {\n        return alternative;\n    }\n\n    public double getMinorAlleleFrequency() {\n        return minorAlleleFrequency;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Snp{&quot; +\n                &quot;position=&quot; + position +\n                &quot;, reference=&quot; + reference +\n                &quot;, alternative=&quot; + alternative +\n                &quot;, minorAlleleFrequency=&quot; + minorAlleleFrequency +\n                '}';\n    }\n\n    public final static List&lt;Snp&gt; getSnpCollection() {\n        List&lt;Snp&gt; snps = new ArrayList&lt;&gt;();\n        snps.add(new Snp(100273, 'A', 'G', 0.0123));\n        snps.add(new Snp(100275, 'A', 'C', 0.00323));\n        snps.add(new Snp(117807, 'T', 'G', 0.1915));\n        snps.add(new Snp(162889, 'C', 'G', 0.000872));\n        snps.add(new Snp(190199, 'T', 'C', 0.1019));\n        snps.add(new Snp(277614, 'A', 'G', 0.0168));\n        snps.add(new Snp(372778, 'C', 'A', 0.0000424));\n        snps.add(new Snp(417752, 'A', 'G', 1.8474e-10));\n        snps.add(new Snp(478808, 'A', 'G', 1.535689e-8));\n        snps.add(new Snp(556920, 'T', 'G', 0.1097));\n        snps.add(new Snp(676255, 'G', 'C', 1.6672e-3));\n        snps.add(new Snp(667280, 'A', 'G', 0.00287));\n        snps.add(new Snp(719876, 'C', 'A', 0.006649));\n        snps.add(new Snp(828771, 'A', 'C', 0.097706));\n        return snps;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","focus","listener","caret"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650152396,"creation_date":1650152396,"answer_id":71898250,"question_id":71898207,"body_markdown":"First and foremost, *never* add a KeyListener to a Swing text component as this can have bad side effects on the text component&#39;s innate functionality.\r\n\r\nInstead, if you want to capture an enter keypress, simply add an ActionListener to the JTextField as this will be triggered by the enter keypress. You can then call `.requestFocusInWindow()` on the other JTextField from within this listener, and this will transfer the keyboard focus to the new JTextField.","title":"How can I move my caret on the other JTextField","body":"<p>First and foremost, <em>never</em> add a KeyListener to a Swing text component as this can have bad side effects on the text component's innate functionality.</p>\n<p>Instead, if you want to capture an enter keypress, simply add an ActionListener to the JTextField as this will be triggered by the enter keypress. You can then call <code>.requestFocusInWindow()</code> on the other JTextField from within this listener, and this will transfer the keyboard focus to the new JTextField.</p>\n"}],"owner":{"account_id":17801000,"reputation":57,"user_id":12927771,"display_name":"Klopo22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71898250,"answer_count":1,"score":1,"last_activity_date":1650210581,"creation_date":1650151811,"question_id":71898207,"body_markdown":"I have this code that create some text fields and I want that my caret changes his position to the other JTextField after pressing ENTER. Is it possible to do this? In the picture, I gave an example of how caret transfer should work.\r\n\r\n    class CaretMove extends JFrame implements KeyListener {\r\n    JTextField jTextField[] = new JTextField[3];\r\n    CaretMove(){\r\n        setSize(300, 150);\r\n        setLayout(new BoxLayout(getContentPane(), BoxLayout.Y_AXIS));\r\n        setLocationRelativeTo(null);\r\n        Border border = BorderFactory.createLineBorder(null, 6);\r\n        for (int i=0;i&lt;3;i++) {\r\n            jTextField[i] = new JTextField(10);\r\n            jTextField[i].addKeyListener(this);\r\n            jTextField[i].setBorder(border);\r\n            add(jTextField[i]);\r\n        }\r\n        pack();\r\n        setVisible(true);\r\n    }\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        if (e.getKeyChar() == KeyEvent.VK_ENTER){\r\n            JTextField jTextFiel = (JTextField)e.getSource();\r\n            if ( jTextFiel == jTextField[2])\r\n                e.setSource(jTextField[1]);\r\n            else {\r\n                e.setSource(jTextField[Arrays.asList(jTextField).indexOf(jTextFiel) + 1]);\r\n                ((JTextField) e.getSource()).setText(&quot;meow&quot;); //test meow\r\n          \r\n                ((JTextField) e.getSource()).setCaret(new MyCaret());\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n\r\n    }\r\n\r\n\r\n**Solution:** **I added these lines:**\r\n\r\n    e.setSource(jTextField[Arrays.asList(jTextField).indexOf(jTextFiel) + 1]);\r\n    ((JTextField) e.getSource()).requestFocusInWindow();\r\n**The first line sets my current text field object to the next one, and then I select this as the main focus.**\r\n\r\n[![Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fC73b.png","title":"How can I move my caret on the other JTextField","body":"<p>I have this code that create some text fields and I want that my caret changes his position to the other JTextField after pressing ENTER. Is it possible to do this? In the picture, I gave an example of how caret transfer should work.</p>\n<pre><code>class CaretMove extends JFrame implements KeyListener {\nJTextField jTextField[] = new JTextField[3];\nCaretMove(){\n    setSize(300, 150);\n    setLayout(new BoxLayout(getContentPane(), BoxLayout.Y_AXIS));\n    setLocationRelativeTo(null);\n    Border border = BorderFactory.createLineBorder(null, 6);\n    for (int i=0;i&lt;3;i++) {\n        jTextField[i] = new JTextField(10);\n        jTextField[i].addKeyListener(this);\n        jTextField[i].setBorder(border);\n        add(jTextField[i]);\n    }\n    pack();\n    setVisible(true);\n}\n\n@Override\npublic void keyTyped(KeyEvent e) {\n}\n\n@Override\npublic void keyPressed(KeyEvent e) {\n    if (e.getKeyChar() == KeyEvent.VK_ENTER){\n        JTextField jTextFiel = (JTextField)e.getSource();\n        if ( jTextFiel == jTextField[2])\n            e.setSource(jTextField[1]);\n        else {\n            e.setSource(jTextField[Arrays.asList(jTextField).indexOf(jTextFiel) + 1]);\n            ((JTextField) e.getSource()).setText(&quot;meow&quot;); //test meow\n      \n            ((JTextField) e.getSource()).setCaret(new MyCaret());\n        }\n    }\n}\n\n@Override\npublic void keyReleased(KeyEvent e) {\n\n}\n</code></pre>\n<p><strong>Solution:</strong> <strong>I added these lines:</strong></p>\n<pre><code>e.setSource(jTextField[Arrays.asList(jTextField).indexOf(jTextFiel) + 1]);\n((JTextField) e.getSource()).requestFocusInWindow();\n</code></pre>\n<p><strong>The first line sets my current text field object to the next one, and then I select this as the main focus.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/fC73b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fC73b.png\" alt=\"Image\" /></a></p>\n"},{"tags":["java","maven","spring-mvc","pom.xml"],"comments":[{"owner":{"account_id":52109,"reputation":16183,"user_id":155695,"accept_rate":86,"display_name":"Jimmy"},"score":0,"creation_date":1445827126,"post_id":33337171,"comment_id":54471886,"body_markdown":"Your IDE is warning you about the dependency, is your XML valid? Whats the red for?","body":"Your IDE is warning you about the dependency, is your XML valid? Whats the red for?"}],"answers":[{"tags":[],"owner":{"account_id":2037746,"reputation":3939,"user_id":1819669,"accept_rate":75,"display_name":"Micho"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1445825924,"creation_date":1445825924,"answer_id":33337504,"question_id":33337171,"body_markdown":"I cannot see the value of `${jackson.version}` on your image, but from the title of the question I assume it&#39;s version 1.9.11 you&#39;re looking for. If you check in any of the multiple maven repository viewers, like [maven central][1], you&#39;ll see that version is not present, and therefore maven cannot resolve that dependency. Click this link to see the versions available in [maven central][2].\r\n\r\nYou must choose an existing version from the central repository or, if you have version 1.9.11 in another repository, include that repository details in your pom.xml file.\r\n\r\n\r\n  [1]: http://search.maven.org/\r\n  [2]: http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.fasterxml.jackson.core%22%20AND%20a%3A%22jackson-core%22","title":"Missing artifact com.fasterxml.jackson.core:jackson-core:jar:1.9.11","body":"<p>I cannot see the value of <code>${jackson.version}</code> on your image, but from the title of the question I assume it's version 1.9.11 you're looking for. If you check in any of the multiple maven repository viewers, like <a href=\"http://search.maven.org/\" rel=\"nofollow\">maven central</a>, you'll see that version is not present, and therefore maven cannot resolve that dependency. Click this link to see the versions available in <a href=\"http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.fasterxml.jackson.core%22%20AND%20a%3A%22jackson-core%22\" rel=\"nofollow\">maven central</a>.</p>\n\n<p>You must choose an existing version from the central repository or, if you have version 1.9.11 in another repository, include that repository details in your pom.xml file.</p>\n"},{"tags":[],"owner":{"account_id":5301557,"reputation":386,"user_id":4230977,"accept_rate":94,"display_name":"MR AND"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572010537,"creation_date":1572010537,"answer_id":58559605,"question_id":33337171,"body_markdown":"You have to specify property of the jackson.version and this can be done by adding the section shown below:\r\n\r\n    &lt;properties&gt;\r\n    &lt;jackson.version&gt;2.10.0&lt;/jackson.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nThe version has been updated as per the recent documentation from Maven.","title":"Missing artifact com.fasterxml.jackson.core:jackson-core:jar:1.9.11","body":"<p>You have to specify property of the jackson.version and this can be done by adding the section shown below:</p>\n\n<pre><code>&lt;properties&gt;\n&lt;jackson.version&gt;2.10.0&lt;/jackson.version&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>The version has been updated as per the recent documentation from Maven.</p>\n"},{"tags":[],"owner":{"account_id":12190108,"reputation":11,"user_id":8897999,"display_name":"Prashant Biradar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650210333,"creation_date":1650210333,"answer_id":71903272,"question_id":33337171,"body_markdown":"From the Two Maven Dependencies \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.2&lt;/version&gt;\r\n\t\t\t&lt;type&gt;bundle&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.2.2&lt;/version&gt;\r\n\t\t\t&lt;type&gt;bundle&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nRemove the &lt;type&gt;bundle&lt;/type&gt; tag from both the dependencies and keep the version almost same it will work else it will show the above mentioned error.","title":"Missing artifact com.fasterxml.jackson.core:jackson-core:jar:1.9.11","body":"<p>From the Two Maven Dependencies</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.13.2&lt;/version&gt;\n        &lt;type&gt;bundle&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.13.2.2&lt;/version&gt;\n        &lt;type&gt;bundle&lt;/type&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Remove the bundle tag from both the dependencies and keep the version almost same it will work else it will show the above mentioned error.</p>\n"}],"owner":{"account_id":4715461,"reputation":185,"user_id":3814735,"accept_rate":89,"display_name":"Jerry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15640,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33337504,"answer_count":3,"score":2,"last_activity_date":1650210333,"creation_date":1445823090,"question_id":33337171,"body_markdown":"I build a maven project and get an error on pom.xml Missing artifact in some dependencies. How can I resolve it?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/7aOvy.png","title":"Missing artifact com.fasterxml.jackson.core:jackson-core:jar:1.9.11","body":"<p>I build a maven project and get an error on pom.xml Missing artifact in some dependencies. How can I resolve it?</p>\n\n<p><a href=\"https://i.stack.imgur.com/7aOvy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7aOvy.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","redis","jedis"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650209802,"creation_date":1650209802,"answer_id":71903210,"question_id":71817343,"body_markdown":"1. `30000` or 30 seconds here refers to (socket) timeout; the timeout for single socket (read) operation. It is not related with closing idle connections.\r\n\r\n   Closing idle connections are controlled by `GenericObjectPoolConfig`. So check the parameters there.\r\n\r\n2. Yes (mostly).\r\n\r\n3. `setMaxWaitMillis` is the timeout for getting a connection object from a connection object pool. It is not related to `30 secs` and not really solve you anything in terms of *availability*.\r\n\r\n4. Keep your cluster nodes available.\r\n\r\n   There has been changes in Jedis related to this. You can try a recent version (4.x, even better 4.2.x).","title":"JedisCluster configurations and how it maintains the pool of connections","body":"<ol>\n<li><p><code>30000</code> or 30 seconds here refers to (socket) timeout; the timeout for single socket (read) operation. It is not related with closing idle connections.</p>\n<p>Closing idle connections are controlled by <code>GenericObjectPoolConfig</code>. So check the parameters there.</p>\n</li>\n<li><p>Yes (mostly).</p>\n</li>\n<li><p><code>setMaxWaitMillis</code> is the timeout for getting a connection object from a connection object pool. It is not related to <code>30 secs</code> and not really solve you anything in terms of <em>availability</em>.</p>\n</li>\n<li><p>Keep your cluster nodes available.</p>\n<p>There has been changes in Jedis related to this. You can try a recent version (4.x, even better 4.2.x).</p>\n</li>\n</ol>\n"}],"owner":{"account_id":9995936,"reputation":391,"user_id":7476269,"accept_rate":20,"display_name":"Ayush Goyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1930,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1650209802,"creation_date":1649599540,"question_id":71817343,"body_markdown":"I have recently started using JedisCluster for my application. There is little to no documentation and examples for the same. I tested a use case and the results are not what I expected\r\n\r\n    public class test {\r\n    private static JedisCluster setConnection(HashSet&lt;HostAndPort&gt; IP) {\r\n        JedisCluster jediscluster = new JedisCluster(IP, 30000, 3,\r\n                new GenericObjectPoolConfig() {{\r\n                    setMaxTotal(500);\r\n                    setMinIdle(1);\r\n                    setMaxIdle(500);\r\n                    setBlockWhenExhausted(true);\r\n                    setMaxWaitMillis(30000);\r\n                }});\r\n        return jediscluster;\r\n    }\r\n\r\n    public static int getIdleconn(Map&lt;String, JedisPool&gt; nodes){\r\n        int i = 0;\r\n        for (String k : nodes.keySet()) {\r\n            i+=nodes.get(k).getNumIdle();\r\n        }\r\n        return i;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        HashSet IP = new HashSet&lt;HostAndPort&gt;() {\r\n            {\r\n                add(new HostAndPort(&quot;host1&quot;, port1));\r\n                add(new HostAndPort(&quot;host2&quot;, port2));\r\n            }};\r\n\r\n        JedisCluster cluster = setConnection(IP);\r\n\r\n        System.out.println(getIdleconn(cluster.getClusterNodes()));\r\n                cluster.set(&quot;Dummy&quot;, &quot;0&quot;);\r\n                cluster.set(&quot;Dummy1&quot;, &quot;0&quot;);\r\n                cluster.set(&quot;Dummy3&quot;, &quot;0&quot;);\r\n        System.out.println(getIdleconn(cluster.getClusterNodes()));\r\n\r\n        try {\r\n            Thread.sleep(60000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        System.out.println(getIdleconn(cluster.getClusterNodes()));\r\n    }\r\n}\r\n\r\nThe output for this snippet is:\r\n\r\n    0\r\n    3\r\n    3\r\n\r\nQuestions=&gt;\r\n\r\n1) I have set the timeout to 30000 `JedisCluster(IP, 30000, 3,new GenericObjectPoolConfig()` . I believe this is the connection timeout which means Idle connections are closed after 30 seconds. Although this doesn&#39;t seem to be happening. After sleeping for 60 seconds, the number of idle connections is still 3. What I am doing/understanding wrong here? I want the pool to close the connection if not used for more than 30 seconds.\r\n\r\n2) `setMinIdle(1)`. Does this mean that regardless the connection timeout, the pool will always maintain one connection?\r\n\r\n3) I prefer availability more than throughput for my app. What should be the value for `setMaxWaitMillis` if conn timeout is 30 secs?\r\n\r\n4) Though rare, the app fails with `redis.clients.jedis.exceptions.JedisNoReachableClusterNodeException: No reachable node in cluster`. This i think is connected to 1. How to prevent this?","title":"JedisCluster configurations and how it maintains the pool of connections","body":"<p>I have recently started using JedisCluster for my application. There is little to no documentation and examples for the same. I tested a use case and the results are not what I expected</p>\n<pre><code>public class test {\nprivate static JedisCluster setConnection(HashSet&lt;HostAndPort&gt; IP) {\n    JedisCluster jediscluster = new JedisCluster(IP, 30000, 3,\n            new GenericObjectPoolConfig() {{\n                setMaxTotal(500);\n                setMinIdle(1);\n                setMaxIdle(500);\n                setBlockWhenExhausted(true);\n                setMaxWaitMillis(30000);\n            }});\n    return jediscluster;\n}\n\npublic static int getIdleconn(Map&lt;String, JedisPool&gt; nodes){\n    int i = 0;\n    for (String k : nodes.keySet()) {\n        i+=nodes.get(k).getNumIdle();\n    }\n    return i;\n}\n\npublic static void main(String[] args) {\n\n    HashSet IP = new HashSet&lt;HostAndPort&gt;() {\n        {\n            add(new HostAndPort(&quot;host1&quot;, port1));\n            add(new HostAndPort(&quot;host2&quot;, port2));\n        }};\n\n    JedisCluster cluster = setConnection(IP);\n\n    System.out.println(getIdleconn(cluster.getClusterNodes()));\n            cluster.set(&quot;Dummy&quot;, &quot;0&quot;);\n            cluster.set(&quot;Dummy1&quot;, &quot;0&quot;);\n            cluster.set(&quot;Dummy3&quot;, &quot;0&quot;);\n    System.out.println(getIdleconn(cluster.getClusterNodes()));\n\n    try {\n        Thread.sleep(60000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n\n    System.out.println(getIdleconn(cluster.getClusterNodes()));\n}\n</code></pre>\n<p>}</p>\n<p>The output for this snippet is:</p>\n<pre><code>0\n3\n3\n</code></pre>\n<p>Questions=&gt;</p>\n<ol>\n<li><p>I have set the timeout to 30000 <code>JedisCluster(IP, 30000, 3,new GenericObjectPoolConfig()</code> . I believe this is the connection timeout which means Idle connections are closed after 30 seconds. Although this doesn't seem to be happening. After sleeping for 60 seconds, the number of idle connections is still 3. What I am doing/understanding wrong here? I want the pool to close the connection if not used for more than 30 seconds.</p>\n</li>\n<li><p><code>setMinIdle(1)</code>. Does this mean that regardless the connection timeout, the pool will always maintain one connection?</p>\n</li>\n<li><p>I prefer availability more than throughput for my app. What should be the value for <code>setMaxWaitMillis</code> if conn timeout is 30 secs?</p>\n</li>\n<li><p>Though rare, the app fails with <code>redis.clients.jedis.exceptions.JedisNoReachableClusterNodeException: No reachable node in cluster</code>. This i think is connected to 1. How to prevent this?</p>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-mvc","jpa","spring-security"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650209587,"post_id":71903144,"comment_id":127058082,"body_markdown":"From [the `UserDetails::isEnable` documentation](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/userdetails/UserDetails.html#isEnabled()): &quot;*Indicates whether the user is locked or unlocked. **A locked user cannot be authenticated.***&quot;","body":"From <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/userdetails/UserDetails.html#isEnabled()\" rel=\"nofollow noreferrer\">the <code>UserDetails::isEnable</code> documentation</a>: &quot;<i>Indicates whether the user is locked or unlocked. <b>A locked user cannot be authenticated.</i></b>&quot;"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1650209648,"post_id":71903144,"comment_id":127058096,"body_markdown":"@Turing85 you&#39;re quoting the wrong method. This is what `isEnabled` says: &quot;Indicates whether the user is enabled or disabled. A disabled user cannot be authenticated.&quot;","body":"@Turing85 you&#39;re quoting the wrong method. This is what <code>isEnabled</code> says: &quot;Indicates whether the user is enabled or disabled. A disabled user cannot be authenticated.&quot;"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650209825,"post_id":71903144,"comment_id":127058137,"body_markdown":"@RobSpoor whoops :) copied the wrong line. Corrected. Thanks","body":"@RobSpoor whoops :) copied the wrong line. Corrected. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650209776,"creation_date":1650209776,"answer_id":71903201,"question_id":71903144,"body_markdown":"It can be useful if your database model uses references to users in other tables. You can&#39;t delete those users, or your database contents will be inconsistent. With proper foreign key constraints it won&#39;t even be possible without deleting those references (either by setting them to `NULL`, or by removing the records that contain them).\r\n\r\nIf you don&#39;t need to disable user accounts, you can always just return `true` from the method.","title":"What exactly is &quot;isEnabled&quot; in the &quot;UserDetails&quot; class for?","body":"<p>It can be useful if your database model uses references to users in other tables. You can't delete those users, or your database contents will be inconsistent. With proper foreign key constraints it won't even be possible without deleting those references (either by setting them to <code>NULL</code>, or by removing the records that contain them).</p>\n<p>If you don't need to disable user accounts, you can always just return <code>true</code> from the method.</p>\n"}],"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71903201,"answer_count":1,"score":1,"last_activity_date":1650209776,"creation_date":1650209317,"question_id":71903144,"body_markdown":"This might sound like a dumb question, but I don&#39;t understand, what &quot;isEnabled&quot; in the &quot;UserDetails&quot; class is for. The documentation says &quot;Indicates whether the user is enabled or disabled. A disabled user cannot be authenticated.&quot; So, the only thing I really need this boolean for is, to disable authentication for some users? Because I have a database and in the tutorial the guy made a extra column to save the value for that boolean. But why do I need to save that value in a database? Why would I decide to disable authentication for one of the users? Wouldn&#39;t it be smarter to just delete the account of the user then? It would be nice, if someone could explain the practical use of this boolean to me.\r\nAnd this is &quot;MyUserDetails&quot; class, where I override the methods of &quot;UserDetails&quot;:\r\n```\r\npackage de.gabriel.vertretungsplan.models;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class MyUserDetails implements UserDetails {\r\n\r\n    private String userName;\r\n    private String password;\r\n    private boolean active;\r\n\r\n    private List&lt;GrantedAuthority&gt; authorities;\r\n\r\n    public MyUserDetails(User user) {\r\n        this.userName = user.getUserName();\r\n        this.password = user.getPassword();\r\n        this.active = user.isActive();\r\n        this.authorities = Arrays.stream(user.getRoles().split(&quot;,&quot;))\r\n                .map(SimpleGrantedAuthority::new)\r\n                .collect(Collectors.toList());\r\n        System.out.println(userName);\r\n        System.out.println(password);\r\n        System.out.println(active);\r\n        System.out.println(authorities);\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return authorities;\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return userName;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return active;\r\n    }\r\n}\r\n```","title":"What exactly is &quot;isEnabled&quot; in the &quot;UserDetails&quot; class for?","body":"<p>This might sound like a dumb question, but I don't understand, what &quot;isEnabled&quot; in the &quot;UserDetails&quot; class is for. The documentation says &quot;Indicates whether the user is enabled or disabled. A disabled user cannot be authenticated.&quot; So, the only thing I really need this boolean for is, to disable authentication for some users? Because I have a database and in the tutorial the guy made a extra column to save the value for that boolean. But why do I need to save that value in a database? Why would I decide to disable authentication for one of the users? Wouldn't it be smarter to just delete the account of the user then? It would be nice, if someone could explain the practical use of this boolean to me.\nAnd this is &quot;MyUserDetails&quot; class, where I override the methods of &quot;UserDetails&quot;:</p>\n<pre><code>package de.gabriel.vertretungsplan.models;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class MyUserDetails implements UserDetails {\n\n    private String userName;\n    private String password;\n    private boolean active;\n\n    private List&lt;GrantedAuthority&gt; authorities;\n\n    public MyUserDetails(User user) {\n        this.userName = user.getUserName();\n        this.password = user.getPassword();\n        this.active = user.isActive();\n        this.authorities = Arrays.stream(user.getRoles().split(&quot;,&quot;))\n                .map(SimpleGrantedAuthority::new)\n                .collect(Collectors.toList());\n        System.out.println(userName);\n        System.out.println(password);\n        System.out.println(active);\n        System.out.println(authorities);\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return userName;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return active;\n    }\n}\n</code></pre>\n"},{"tags":["java","loops","java.util.scanner","nosuchelementexception"],"answers":[{"tags":[],"owner":{"account_id":24972522,"reputation":1,"user_id":18835563,"display_name":"CaMiiN03"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650209644,"creation_date":1650207389,"answer_id":71902913,"question_id":71901085,"body_markdown":"I finally found how to solve it thanks to this page: [Solucione el error NoSuchElementException en Java][1]\r\n\r\n\r\nThe issue was that because of the size of this program I had to use 2 scanners at the same time, and when I closed one of them, it caused the other one to stop working, throwing that exception.\r\n\r\n\r\n  [1]: https://www.delftstack.com/es/howto/java/java-nosuchelementexception/#nosuchelementexception-al-usar-la-clase-de-esc%25C3%25A1ner-en-java","title":"No such element exception working with a Scanner","body":"<p>I finally found how to solve it thanks to this page: <a href=\"https://www.delftstack.com/es/howto/java/java-nosuchelementexception/#nosuchelementexception-al-usar-la-clase-de-esc%25C3%25A1ner-en-java\" rel=\"nofollow noreferrer\">Solucione el error NoSuchElementException en Java</a></p>\n<p>The issue was that because of the size of this program I had to use 2 scanners at the same time, and when I closed one of them, it caused the other one to stop working, throwing that exception.</p>\n"}],"owner":{"account_id":24972522,"reputation":1,"user_id":18835563,"display_name":"CaMiiN03"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650209644,"creation_date":1650191046,"question_id":71901085,"body_markdown":"I am having a problem while using a Scanner and I do not know how to solve it, kind of new in Java. I have created a menu to read an input char provided by the user through a Scanner and I read options from the menu with this loop:\r\n\r\n    /**\r\n\t * Constant to exit the menu.\r\n\t */\r\n\tprivate static final char EXIT = &#39;E&#39;;\r\n\r\n    public void run() {\r\n\t\tchar option = EXIT;\r\n\t\tdo {\r\n\t\t\tmenu.show();\r\n\t\t\toption = menu.readOption();\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tprocessOption(option);\r\n\t\t\t} catch (RuntimeException exception) {\r\n\t\t\t\thandleSystemError(exception);\r\n\t\t\t} catch (Exception exception) {\r\n\t\t\t\thandleUserError(exception);\r\n\t\t\t}\r\n\t\t} while (option != EXIT);\r\n\t\t\r\n\t}\r\n\r\nThis is what the method readOption does :\r\n\r\n    public char readOption() {\r\n\t\treturn Console.readChar(&quot; Option &quot;);\r\n\t}\r\nAnd this is what the method readChar does :\r\n\r\n    public static char readChar(String msg) {\r\n\t\tout.println( msg + &quot;: &quot;);\r\n\t\tkeyboard.useDelimiter(System.lineSeparator());\r\n\t\tchar res = keyboard.next().charAt(0);\r\n\t\tkeyboard.reset();\r\n\t\treturn res;\r\n\t}\r\n\r\nThe problem is, the loop in its first performance works perfectly fine. The program works propperly. But after the first performance, when it starts again, in the line where it readsOption, it throws a NoSuchElementException and I have been many hours trying to solve it and I do not know how to. Apparently the problem is in the method readChar, when I try to do &quot;keyboard.next()&quot; it throws the no such element exception. Cannot explain that it works the first time and not a second one. When first performance, it waits for me to introduce a char as I expect, but in the second one,while I wish to be expected to introduce a char, when &quot;keyboard.next()&quot;, it throws the mentioned exception. Having an issue clearly with my Scanner, I hope someone can identify the issue here. Thank you very much everyone.\r\n\r\n\r\n\r\n","title":"No such element exception working with a Scanner","body":"<p>I am having a problem while using a Scanner and I do not know how to solve it, kind of new in Java. I have created a menu to read an input char provided by the user through a Scanner and I read options from the menu with this loop:</p>\n<pre><code>/**\n * Constant to exit the menu.\n */\nprivate static final char EXIT = 'E';\n\npublic void run() {\n    char option = EXIT;\n    do {\n        menu.show();\n        option = menu.readOption();\n        \n        try {\n            processOption(option);\n        } catch (RuntimeException exception) {\n            handleSystemError(exception);\n        } catch (Exception exception) {\n            handleUserError(exception);\n        }\n    } while (option != EXIT);\n    \n}\n</code></pre>\n<p>This is what the method readOption does :</p>\n<pre><code>public char readOption() {\n    return Console.readChar(&quot; Option &quot;);\n}\n</code></pre>\n<p>And this is what the method readChar does :</p>\n<pre><code>public static char readChar(String msg) {\n    out.println( msg + &quot;: &quot;);\n    keyboard.useDelimiter(System.lineSeparator());\n    char res = keyboard.next().charAt(0);\n    keyboard.reset();\n    return res;\n}\n</code></pre>\n<p>The problem is, the loop in its first performance works perfectly fine. The program works propperly. But after the first performance, when it starts again, in the line where it readsOption, it throws a NoSuchElementException and I have been many hours trying to solve it and I do not know how to. Apparently the problem is in the method readChar, when I try to do &quot;keyboard.next()&quot; it throws the no such element exception. Cannot explain that it works the first time and not a second one. When first performance, it waits for me to introduce a char as I expect, but in the second one,while I wish to be expected to introduce a char, when &quot;keyboard.next()&quot;, it throws the mentioned exception. Having an issue clearly with my Scanner, I hope someone can identify the issue here. Thank you very much everyone.</p>\n"},{"tags":["java","android","flutter","gradle","google-cloud-firestore"],"comments":[{"owner":{"account_id":16991898,"reputation":198,"user_id":13049288,"display_name":"GoVindh"},"score":0,"creation_date":1650211653,"post_id":71903152,"comment_id":127058546,"body_markdown":"&gt; This might help you!\nhttps://stackoverflow.com/questions/61986128/gradle-threw-an-error-while-downloading-artifacts-from-the-network-exception","body":"&gt; This might help you! <a href=\"https://stackoverflow.com/questions/61986128/gradle-threw-an-error-while-downloading-artifacts-from-the-network-exception\" title=\"gradle threw an error while downloading artifacts from the network exception\">stackoverflow.com/questions/61986128/&hellip;</a>"},{"owner":{"account_id":20857467,"reputation":1,"user_id":15320439,"display_name":"mj_m"},"score":0,"creation_date":1650297668,"post_id":71903152,"comment_id":127076454,"body_markdown":"this doesn&#39;t work","body":"this doesn&#39;t work"},{"owner":{"account_id":16991898,"reputation":198,"user_id":13049288,"display_name":"GoVindh"},"score":0,"creation_date":1650300094,"post_id":71903152,"comment_id":127077241,"body_markdown":"https://stackoverflow.com/a/63187554/13049288 done this??","body":"<a href=\"https://stackoverflow.com/a/63187554/13049288\">stackoverflow.com/a/63187554/13049288</a> done this??"}],"owner":{"account_id":20857467,"reputation":1,"user_id":15320439,"display_name":"mj_m"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650209355,"creation_date":1650209355,"question_id":71903152,"body_markdown":"Here is the error I&#39;m getting:\r\n\r\nLaunching lib\\main.dart on RMX2189 in debug mode...\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:cloud_firestore&#39;.\r\n&gt; Could not resolve all artifacts for configuration &#39;:cloud_firestore:classpath&#39;.\r\n   &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.32.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:repository:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:aaptcompiler:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.analytics-library:shared:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.lint:lint-model:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; androidx.databinding:databinding-compiler-common:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-host-retention-proto:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder-model:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:gradle-api:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2 &gt; com.android.tools:common:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.analytics-library:tracker:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.build:manifest-merger:30.0.2\r\n      &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.32.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk8/1.4.32/kotlin-stdlib-jdk8-1.4.32.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk8/1.4.32/kotlin-stdlib-jdk8-1.4.32.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve io.grpc:grpc-core:1.21.1.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\r\n      &gt; Could not resolve io.grpc:grpc-core:1.21.1.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-core/1.21.1/grpc-core-1.21.1.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-core/1.21.1/grpc-core-1.21.1.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve io.grpc:grpc-netty:1.21.1.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\r\n      &gt; Could not resolve io.grpc:grpc-netty:1.21.1.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-netty/1.21.1/grpc-netty-1.21.1.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-netty/1.21.1/grpc-netty-1.21.1.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve io.grpc:grpc-protobuf:1.21.1.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\r\n      &gt; Could not resolve io.grpc:grpc-protobuf:1.21.1.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-protobuf/1.21.1/grpc-protobuf-1.21.1.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-protobuf/1.21.1/grpc-protobuf-1.21.1.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve io.grpc:grpc-stub:1.21.1.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\r\n      &gt; Could not resolve io.grpc:grpc-stub:1.21.1.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-stub/1.21.1/grpc-stub-1.21.1.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-stub/1.21.1/grpc-stub-1.21.1.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:aaptcompiler:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.analytics-library:crash:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.analytics-library:shared:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; androidx.databinding:databinding-compiler-common:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder-test-api:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:bundletool:1.6.0\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:gradle-api:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2 &gt; com.android.tools:common:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.analytics-library:tracker:30.0.2\r\n      &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve org.apache.commons:commons-compress:1.20.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdklib:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:repository:30.0.2\r\n      &gt; Could not resolve org.apache.commons:commons-compress:1.20.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/apache/commons/commons-compress/1.20/commons-compress-1.20.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/apache/commons/commons-compress/1.20/commons-compress-1.20.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.google.protobuf:protobuf-java-util:3.10.0\r\n      &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:repository:30.0.2 &gt; com.google.jimfs:jimfs:1.1\r\n      &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.build:apkzlib:7.0.2\r\n      &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n&gt; Failed to notify project evaluation listener.\r\n   &gt; Could not get unknown property &#39;android&#39; for project &#39;:cloud_firestore&#39; of type org.gradle.api.Project.\r\n   &gt; Could not find method implementation() for arguments [project &#39;:firebase_core&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n   &gt; Could not get unknown property &#39;android&#39; for project &#39;:cloud_firestore&#39; of type org.gradle.api.Project.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 29s\r\n[!] Gradle threw an error while downloading artifacts from the network. Retrying to download...\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:cloud_firestore&#39;.\r\n&gt; Could not resolve all artifacts for configuration &#39;:cloud_firestore:classpath&#39;.\r\n   &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.32.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:repository:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:aaptcompiler:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.analytics-library:shared:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.lint:lint-model:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; androidx.databinding:databinding-compiler-common:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-host-retention-proto:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder-model:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:gradle-api:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2 &gt; com.android.tools:common:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.analytics-library:tracker:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.build:manifest-merger:30.0.2\r\n      &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.32.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk8/1.4.32/kotlin-stdlib-jdk8-1.4.32.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk8/1.4.32/kotlin-stdlib-jdk8-1.4.32.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve io.grpc:grpc-core:1.21.1.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\r\n      &gt; Could not resolve io.grpc:grpc-core:1.21.1.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-core/1.21.1/grpc-core-1.21.1.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-core/1.21.1/grpc-core-1.21.1.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve io.grpc:grpc-netty:1.21.1.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\r\n      &gt; Could not resolve io.grpc:grpc-netty:1.21.1.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-netty/1.21.1/grpc-netty-1.21.1.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-netty/1.21.1/grpc-netty-1.21.1.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve io.grpc:grpc-protobuf:1.21.1.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\r\n      &gt; Could not resolve io.grpc:grpc-protobuf:1.21.1.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-protobuf/1.21.1/grpc-protobuf-1.21.1.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-protobuf/1.21.1/grpc-protobuf-1.21.1.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve io.grpc:grpc-stub:1.21.1.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\r\n      &gt; Could not resolve io.grpc:grpc-stub:1.21.1.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-stub/1.21.1/grpc-stub-1.21.1.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/io/grpc/grpc-stub/1.21.1/grpc-stub-1.21.1.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:aaptcompiler:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.analytics-library:crash:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.analytics-library:shared:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; androidx.databinding:databinding-compiler-common:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder-test-api:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:bundletool:1.6.0\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:gradle-api:7.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2 &gt; com.android.tools:common:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.analytics-library:tracker:30.0.2\r\n      &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve org.apache.commons:commons-compress:1.20.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdklib:30.0.2\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:repository:30.0.2\r\n      &gt; Could not resolve org.apache.commons:commons-compress:1.20.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/apache/commons/commons-compress/1.20/commons-compress-1.20.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/apache/commons/commons-compress/1.20/commons-compress-1.20.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.google.protobuf:protobuf-java-util:3.10.0\r\n      &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:repository:30.0.2 &gt; com.google.jimfs:jimfs:1.1\r\n      &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n   &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n     Required by:\r\n         project :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.build:apkzlib:7.0.2\r\n      &gt; Could not resolve com.google.guava:guava:30.1-jre.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom&#39;.\r\n               &gt; Remote host terminated the handshake\r\n&gt; Failed to notify project evaluation listener.\r\n   &gt; Could not get unknown property &#39;android&#39; for project &#39;:cloud_firestore&#39; of type org.gradle.api.Project.\r\n   &gt; Could not find method implementation() for arguments [project &#39;:firebase_core&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n   &gt; Could not get unknown property &#39;android&#39; for project &#39;:cloud_firestore&#39; of type org.gradle.api.Project.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 24s\r\n[!] Gradle threw an error while downloading artifacts from the network. Retrying to download...\r\nException: Gradle task assembleDebug failed with exit code 1\r\nExited (sigterm)\r\n","title":"I am getting the following error While adding cloud firestore to my flutter app","body":"<p>Here is the error I'm getting:</p>\n<p>Launching lib\\main.dart on RMX2189 in debug mode...</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nA problem occurred configuring project ':cloud_firestore'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all artifacts for configuration ':cloud_firestore:classpath'.\nCould not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.32.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:repository:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:aaptcompiler:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.analytics-library:shared:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.lint:lint-model:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; androidx.databinding:databinding-compiler-common:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-host-retention-proto:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder-model:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:gradle-api:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2 &gt; com.android.tools:common:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.analytics-library:tracker:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.build:manifest-merger:30.0.2\n&gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.32.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk8/1.4.32/kotlin-stdlib-jdk8-1.4.32.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk8/1.4.32/kotlin-stdlib-jdk8-1.4.32.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve io.grpc:grpc-core:1.21.1.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\n&gt; Could not resolve io.grpc:grpc-core:1.21.1.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/io/grpc/grpc-core/1.21.1/grpc-core-1.21.1.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/io/grpc/grpc-core/1.21.1/grpc-core-1.21.1.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve io.grpc:grpc-netty:1.21.1.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\n&gt; Could not resolve io.grpc:grpc-netty:1.21.1.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/io/grpc/grpc-netty/1.21.1/grpc-netty-1.21.1.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/io/grpc/grpc-netty/1.21.1/grpc-netty-1.21.1.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve io.grpc:grpc-protobuf:1.21.1.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\n&gt; Could not resolve io.grpc:grpc-protobuf:1.21.1.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/io/grpc/grpc-protobuf/1.21.1/grpc-protobuf-1.21.1.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/io/grpc/grpc-protobuf/1.21.1/grpc-protobuf-1.21.1.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve io.grpc:grpc-stub:1.21.1.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\n&gt; Could not resolve io.grpc:grpc-stub:1.21.1.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/io/grpc/grpc-stub/1.21.1/grpc-stub-1.21.1.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/io/grpc/grpc-stub/1.21.1/grpc-stub-1.21.1.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve com.google.guava:guava:30.1-jre.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:aaptcompiler:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.analytics-library:crash:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.analytics-library:shared:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; androidx.databinding:databinding-compiler-common:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder-test-api:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:bundletool:1.6.0\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:gradle-api:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2 &gt; com.android.tools:common:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.analytics-library:tracker:30.0.2\n&gt; Could not resolve com.google.guava:guava:30.1-jre.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve org.apache.commons:commons-compress:1.20.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdklib:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:repository:30.0.2\n&gt; Could not resolve org.apache.commons:commons-compress:1.20.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/apache/commons/commons-compress/1.20/commons-compress-1.20.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/org/apache/commons/commons-compress/1.20/commons-compress-1.20.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve com.google.guava:guava:30.1-jre.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.google.protobuf:protobuf-java-util:3.10.0\n&gt; Could not resolve com.google.guava:guava:30.1-jre.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve com.google.guava:guava:30.1-jre.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:repository:30.0.2 &gt; com.google.jimfs:jimfs:1.1\n&gt; Could not resolve com.google.guava:guava:30.1-jre.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve com.google.guava:guava:30.1-jre.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.build:apkzlib:7.0.2\n&gt; Could not resolve com.google.guava:guava:30.1-jre.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Remote host terminated the handshake\nFailed to notify project evaluation listener.\nCould not get unknown property 'android' for project ':cloud_firestore' of type org.gradle.api.Project.\nCould not find method implementation() for arguments [project ':firebase_core'] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\nCould not get unknown property 'android' for project ':cloud_firestore' of type org.gradle.api.Project.</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>BUILD FAILED in 29s\n[!] Gradle threw an error while downloading artifacts from the network. Retrying to download...</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nA problem occurred configuring project ':cloud_firestore'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all artifacts for configuration ':cloud_firestore:classpath'.\nCould not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.32.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:repository:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:aaptcompiler:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.analytics-library:shared:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.lint:lint-model:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; androidx.databinding:databinding-compiler-common:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-host-retention-proto:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder-model:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:gradle-api:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2 &gt; com.android.tools:common:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.analytics-library:tracker:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.build:manifest-merger:30.0.2\n&gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.32.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk8/1.4.32/kotlin-stdlib-jdk8-1.4.32.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk8/1.4.32/kotlin-stdlib-jdk8-1.4.32.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve io.grpc:grpc-core:1.21.1.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\n&gt; Could not resolve io.grpc:grpc-core:1.21.1.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/io/grpc/grpc-core/1.21.1/grpc-core-1.21.1.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/io/grpc/grpc-core/1.21.1/grpc-core-1.21.1.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve io.grpc:grpc-netty:1.21.1.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\n&gt; Could not resolve io.grpc:grpc-netty:1.21.1.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/io/grpc/grpc-netty/1.21.1/grpc-netty-1.21.1.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/io/grpc/grpc-netty/1.21.1/grpc-netty-1.21.1.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve io.grpc:grpc-protobuf:1.21.1.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\n&gt; Could not resolve io.grpc:grpc-protobuf:1.21.1.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/io/grpc/grpc-protobuf/1.21.1/grpc-protobuf-1.21.1.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/io/grpc/grpc-protobuf/1.21.1/grpc-protobuf-1.21.1.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve io.grpc:grpc-stub:1.21.1.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\n&gt; Could not resolve io.grpc:grpc-stub:1.21.1.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/io/grpc/grpc-stub/1.21.1/grpc-stub-1.21.1.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/io/grpc/grpc-stub/1.21.1/grpc-stub-1.21.1.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve com.google.guava:guava:30.1-jre.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:aaptcompiler:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.analytics-library:crash:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.analytics-library:shared:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; androidx.databinding:databinding-compiler-common:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder-test-api:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.utp:android-test-plugin-result-listener-gradle-proto:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:bundletool:1.6.0\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:gradle-api:7.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdk-common:30.0.2 &gt; com.android.tools:common:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.analytics-library:tracker:30.0.2\n&gt; Could not resolve com.google.guava:guava:30.1-jre.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve org.apache.commons:commons-compress:1.20.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:sdklib:30.0.2\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:repository:30.0.2\n&gt; Could not resolve org.apache.commons:commons-compress:1.20.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/apache/commons/commons-compress/1.20/commons-compress-1.20.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/org/apache/commons/commons-compress/1.20/commons-compress-1.20.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve com.google.guava:guava:30.1-jre.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.google.protobuf:protobuf-java-util:3.10.0\n&gt; Could not resolve com.google.guava:guava:30.1-jre.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve com.google.guava:guava:30.1-jre.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools:repository:30.0.2 &gt; com.google.jimfs:jimfs:1.1\n&gt; Could not resolve com.google.guava:guava:30.1-jre.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Remote host terminated the handshake\nCould not resolve com.google.guava:guava:30.1-jre.\nRequired by:\nproject :cloud_firestore &gt; com.android.tools.build:gradle:7.0.2 &gt; com.android.tools.build:builder:7.0.2 &gt; com.android.tools.build:apkzlib:7.0.2\n&gt; Could not resolve com.google.guava:guava:30.1-jre.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/com/google/guava/guava/30.1-jre/guava-30.1-jre.pom'.\n&gt; Remote host terminated the handshake\nFailed to notify project evaluation listener.\nCould not get unknown property 'android' for project ':cloud_firestore' of type org.gradle.api.Project.\nCould not find method implementation() for arguments [project ':firebase_core'] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\nCould not get unknown property 'android' for project ':cloud_firestore' of type org.gradle.api.Project.</p>\n</blockquote>\n<ul>\n<li>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</li>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 24s\n[!] Gradle threw an error while downloading artifacts from the network. Retrying to download...\nException: Gradle task assembleDebug failed with exit code 1\nExited (sigterm)</p>\n"},{"tags":["java","maven","javafx","java-platform-module-system","openjfx"],"comments":[{"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"score":3,"creation_date":1552859216,"post_id":55196468,"comment_id":97160393,"body_markdown":"Have you looked at [How to deploy a JavaFX 11 Desktop application with a JRE](https://stackoverflow.com/q/53453212/9662601)?","body":"Have you looked at <a href=\"https://stackoverflow.com/q/53453212/9662601\">How to deploy a JavaFX 11 Desktop application with a JRE</a>?"},{"owner":{"account_id":1621785,"reputation":921,"user_id":1506761,"accept_rate":78,"display_name":"Zeta.Investigator"},"score":0,"creation_date":1552904401,"post_id":55196468,"comment_id":97173141,"body_markdown":"@SamuelPhilipp It seems the tool I need is javapackager but it was removed from JDK 11 and now it is released experimentally","body":"@SamuelPhilipp It seems the tool I need is javapackager but it was removed from JDK 11 and now it is released experimentally"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1637599628,"post_id":55196468,"comment_id":123863685,"body_markdown":"Alternatively look at installer generators, creating a setup.exe or such. Also the migration to Java 17 would be easy.","body":"Alternatively look at installer generators, creating a setup.exe or such. Also the migration to Java 17 would be easy."}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650208366,"creation_date":1637601108,"answer_id":70069782,"question_id":55196468,"body_markdown":"Studying [other][1] [questions][2] [here][3] on SO, I think there is no way to produce a single EXE that includes the JRE. However, the tools mentioned can produce an EXE that can be put _alongside_ a &quot;jre&quot; directory.\r\n\r\nUsing the [JavaPackager][4] Maven plugin, this can actually be achieved quite easily, simply by adding something like this in your POM:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;io.github.fvarrui&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javapackager&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;package&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;...&lt;/mainClass&gt;\r\n                    &lt;bundleJre&gt;true&lt;/bundleJre&gt;\r\n                    &lt;platform&gt;windows&lt;/platform&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nRunning `mvn package` will generate a directory inside &quot;target&quot; that contains the EXE, a &quot;jre&quot; directory and a &quot;libs&quot; directory. The plugin can also generate an installer file.\r\n\r\nObviously, for different platforms you need to adjust the config, but I tested this on Windows with JDK 16 and 17, and it seems to work fine.\r\n\r\n  [1]: https://stackoverflow.com/q/1332548/1374678\r\n  [2]: https://stackoverflow.com/q/7071133/1374678\r\n  [3]: https://stackoverflow.com/q/33956697/1374678\r\n  [4]: https://github.com/fvarrui/JavaPackager","title":"How to create a standalone application using JavaFX 11 (Modular)?","body":"<p>Studying <a href=\"https://stackoverflow.com/q/1332548/1374678\">other</a> <a href=\"https://stackoverflow.com/q/7071133/1374678\">questions</a> <a href=\"https://stackoverflow.com/q/33956697/1374678\">here</a> on SO, I think there is no way to produce a single EXE that includes the JRE. However, the tools mentioned can produce an EXE that can be put <em>alongside</em> a &quot;jre&quot; directory.</p>\n<p>Using the <a href=\"https://github.com/fvarrui/JavaPackager\" rel=\"nofollow noreferrer\">JavaPackager</a> Maven plugin, this can actually be achieved quite easily, simply by adding something like this in your POM:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;io.github.fvarrui&lt;/groupId&gt;\n    &lt;artifactId&gt;javapackager&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;package&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;...&lt;/mainClass&gt;\n                &lt;bundleJre&gt;true&lt;/bundleJre&gt;\n                &lt;platform&gt;windows&lt;/platform&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Running <code>mvn package</code> will generate a directory inside &quot;target&quot; that contains the EXE, a &quot;jre&quot; directory and a &quot;libs&quot; directory. The plugin can also generate an installer file.</p>\n<p>Obviously, for different platforms you need to adjust the config, but I tested this on Windows with JDK 16 and 17, and it seems to work fine.</p>\n"}],"owner":{"account_id":1621785,"reputation":921,"user_id":1506761,"accept_rate":78,"display_name":"Zeta.Investigator"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1838,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"closed_date":1637599884,"accepted_answer_id":70069782,"answer_count":1,"score":7,"last_activity_date":1650208366,"creation_date":1552737338,"question_id":55196468,"body_markdown":"I&#39;m following the tutorial [here][1] and using `openjdk 11.0.2` and `javafx-sdk-11.0.2`.  \r\nI&#39;ve imported the *maven* project in Eclipse. The project actually compiles and packages just fine. It also created the jar file  in /target directory.   \r\nThe problem is, I want to export a **single executable** for my application which **also embeds the necessary JRE in itself** (so there would be no need to have a JRE installed on the target machine).   \r\n  Here is the actual [project][2] .\r\n\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#IDE-Eclipse\r\n  [2]: https://github.com/openjfx/samples/blob/master/IDE/Eclipse/Modular/Maven\r\n How can I automate the generation of the standalone executable in maven? I want a single exe if possible.","title":"How to create a standalone application using JavaFX 11 (Modular)?","body":"<p>I'm following the tutorial <a href=\"https://openjfx.io/openjfx-docs/#IDE-Eclipse\" rel=\"noreferrer\">here</a> and using <code>openjdk 11.0.2</code> and <code>javafx-sdk-11.0.2</code>.<br>\nI've imported the <em>maven</em> project in Eclipse. The project actually compiles and packages just fine. It also created the jar file  in /target directory.<br>\nThe problem is, I want to export a <strong>single executable</strong> for my application which <strong>also embeds the necessary JRE in itself</strong> (so there would be no need to have a JRE installed on the target machine).<br>\n  Here is the actual <a href=\"https://github.com/openjfx/samples/blob/master/IDE/Eclipse/Modular/Maven\" rel=\"noreferrer\">project</a> .</p>\n\n<p>How can I automate the generation of the standalone executable in maven? I want a single exe if possible.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1650100481,"post_id":71892069,"comment_id":127040135,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650096085,"creation_date":1650096085,"answer_id":71892135,"question_id":71892069,"body_markdown":"You could use [&lt;code&gt;List.&lt;b&gt;addAll&lt;/b&gt;&lt;/code&gt;][1] and [&lt;code&gt;List.&lt;b&gt;subList&lt;/b&gt;&lt;/code&gt;][2]:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; a = new LinkedList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;));\r\n            System.out.printf(&quot;a = %s%n&quot;, a);\r\n            List&lt;String&gt; b = new LinkedList&lt;&gt;(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;));\r\n            System.out.printf(&quot;b = %s%n&quot;, b);\r\n            int x = 1;\r\n            System.out.printf(&quot;x = %d%n&quot;, x);\r\n            int y = 2;\r\n            System.out.printf(&quot;y = %d%n&quot;, y);\r\n            b.addAll(a.subList(x, y + 1));\r\n            System.out.printf(&quot;b = %s%n&quot;, b);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    a = [A, B, C, D]\r\n    b = [1, 2, 3, 4]\r\n    x = 1\r\n    y = 2\r\n    b = [1, 2, 3, 4, B, C]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#addAll-java.util.Collection-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-","title":"How to copy a part of LinkedList into another LinkedList?","body":"<p>You could use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#addAll-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>List.<b>addAll</b></code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-\" rel=\"nofollow noreferrer\"><code>List.<b>subList</b></code></a>:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; a = new LinkedList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;));\n        System.out.printf(&quot;a = %s%n&quot;, a);\n        List&lt;String&gt; b = new LinkedList&lt;&gt;(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;));\n        System.out.printf(&quot;b = %s%n&quot;, b);\n        int x = 1;\n        System.out.printf(&quot;x = %d%n&quot;, x);\n        int y = 2;\n        System.out.printf(&quot;y = %d%n&quot;, y);\n        b.addAll(a.subList(x, y + 1));\n        System.out.printf(&quot;b = %s%n&quot;, b);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>a = [A, B, C, D]\nb = [1, 2, 3, 4]\nx = 1\ny = 2\nb = [1, 2, 3, 4, B, C]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6893749,"reputation":1,"user_id":5296378,"display_name":"saurabh kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650207542,"creation_date":1650207542,"answer_id":71902932,"question_id":71892069,"body_markdown":"    One addition to Sash Sinha answer, we can add the sublist at any index using b.addAll(0, a.subList(1, 3)).\r\n    \r\n    \r\n        \r\n    List&lt;String&gt; a = new LinkedList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;));\r\n    \t\tList&lt;String&gt; b = new LinkedList&lt;&gt;(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;));\r\n    \t\tb.addAll(0, a.subList(1, 3));\r\n    \t\tSystem.out.println(b);\r\n    \r\n    output:\r\n    \r\n    [B, C, 1, 2, 3, 4]\r\n\r\n\r\n\r\n","title":"How to copy a part of LinkedList into another LinkedList?","body":"<pre><code>One addition to Sash Sinha answer, we can add the sublist at any index using b.addAll(0, a.subList(1, 3)).\n\n\n    \nList&lt;String&gt; a = new LinkedList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;));\n        List&lt;String&gt; b = new LinkedList&lt;&gt;(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;));\n        b.addAll(0, a.subList(1, 3));\n        System.out.println(b);\n\noutput:\n\n[B, C, 1, 2, 3, 4]\n</code></pre>\n"}],"owner":{"account_id":24958300,"reputation":21,"user_id":18822508,"display_name":"Nekto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71892135,"answer_count":2,"score":0,"last_activity_date":1650207542,"creation_date":1650095447,"question_id":71892069,"body_markdown":"I have two LinkedLists. I need to copy a part from the first List (starting with index x and finishing with index y) to the second List. What ways are there to do this?","title":"How to copy a part of LinkedList into another LinkedList?","body":"<p>I have two LinkedLists. I need to copy a part from the first List (starting with index x and finishing with index y) to the second List. What ways are there to do this?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1650103717,"post_id":71892858,"comment_id":127040724,"body_markdown":"Can you share your `json` database?","body":"Can you share your <code>json</code> database?"},{"owner":{"account_id":24431713,"reputation":3,"user_id":18356565,"display_name":"Alon Lavy"},"score":0,"creation_date":1650105012,"post_id":71892858,"comment_id":127040962,"body_markdown":"@TicherhazFreePalestine Not sure how to do that. It is basically users, then a PC name and then some info about it. users is the first child and has more children.","body":"@TicherhazFreePalestine Not sure how to do that. It is basically users, then a PC name and then some info about it. users is the first child and has more children."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650206227,"creation_date":1650119146,"answer_id":71894691,"question_id":71892858,"body_markdown":"If it goes into neither of the callbacks, you may not have configured the connection to the database correctly. An easy way to fix that is to pass the database URL in the code, rather than depending on the `google-services.json` file:\r\n```\r\nDatabaseReference rootRef = FirebaseDatabase.getInstance(&quot;your database URL&quot;).getReference();\r\n```\r\n\r\n---\r\n\r\nIn general, you should *never* ignore possible errors, and implement `onCancelled`. At its minimum that should look like:\r\n```\r\npublic void onCancelled(@NonNull DatabaseError error) {\r\n    throw error.toException();\r\n}\r\n```","title":"Firebase Realtime database read not working (Android Java)","body":"<p>If it goes into neither of the callbacks, you may not have configured the connection to the database correctly. An easy way to fix that is to pass the database URL in the code, rather than depending on the <code>google-services.json</code> file:</p>\n<pre><code>DatabaseReference rootRef = FirebaseDatabase.getInstance(&quot;your database URL&quot;).getReference();\n</code></pre>\n<hr />\n<p>In general, you should <em>never</em> ignore possible errors, and implement <code>onCancelled</code>. At its minimum that should look like:</p>\n<pre><code>public void onCancelled(@NonNull DatabaseError error) {\n    throw error.toException();\n}\n</code></pre>\n"}],"owner":{"account_id":24431713,"reputation":3,"user_id":18356565,"display_name":"Alon Lavy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71894691,"answer_count":1,"score":0,"last_activity_date":1650206227,"creation_date":1650103008,"question_id":71892858,"body_markdown":"I am using realtime database in order to transfer information from a Windows computer to an Android phone. I am able to write data from the Windows PC to the database, but for some reason I am not able to read it off of the database to the Android. I am using Android studio Java. Here is the code:\r\n\r\n    DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference userRef = rootRef.child(&quot;users&quot;);\r\n        userRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot ds : dataSnapshot.getChildren()) {\r\n                    String name = ds.getKey();\r\n                    PCs.add(new PC(name));\r\n                }\r\n                for (int i = 0; i &lt; PCs.size(); i++) {\r\n                    PCs.get(i).setIp(dataSnapshot.child(PCs.get(i).getName()).child(&quot;ip&quot;).getValue(String.class));\r\n                    PCs.get(i).setConnected(dataSnapshot.child(PCs.get(i).getName()).child(&quot;status&quot;).getValue(Boolean.class));\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n\r\nIt just doesn&#39;t go into the onDataChange method, but also doesn&#39;t go to the onCancelled method.","title":"Firebase Realtime database read not working (Android Java)","body":"<p>I am using realtime database in order to transfer information from a Windows computer to an Android phone. I am able to write data from the Windows PC to the database, but for some reason I am not able to read it off of the database to the Android. I am using Android studio Java. Here is the code:</p>\n<pre><code>DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\n    DatabaseReference userRef = rootRef.child(&quot;users&quot;);\n    userRef.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            for (DataSnapshot ds : dataSnapshot.getChildren()) {\n                String name = ds.getKey();\n                PCs.add(new PC(name));\n            }\n            for (int i = 0; i &lt; PCs.size(); i++) {\n                PCs.get(i).setIp(dataSnapshot.child(PCs.get(i).getName()).child(&quot;ip&quot;).getValue(String.class));\n                PCs.get(i).setConnected(dataSnapshot.child(PCs.get(i).getName()).child(&quot;status&quot;).getValue(Boolean.class));\n            }\n        }\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n        }\n    });\n</code></pre>\n<p>It just doesn't go into the onDataChange method, but also doesn't go to the onCancelled method.</p>\n"},{"tags":["java","css","javafx","charts"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1650116749,"post_id":71893527,"comment_id":127043044,"body_markdown":"Does `#myLineChart.default-color0.chart-series-line { ... }` work?","body":"Does <code>#myLineChart.default-color0.chart-series-line { ... }</code> work?"},{"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"score":0,"creation_date":1650134106,"post_id":71893527,"comment_id":127046715,"body_markdown":"no there is no effect","body":"no there is no effect"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1650158716,"post_id":71893527,"comment_id":127050462,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."},{"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"score":0,"creation_date":1650186686,"post_id":71893527,"comment_id":127053752,"body_markdown":"an example added","body":"an example added"},{"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"score":0,"creation_date":1650194769,"post_id":71893527,"comment_id":127055120,"body_markdown":"i forgot the controller, added now","body":"i forgot the controller, added now"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1650200998,"post_id":71893527,"comment_id":127056243,"body_markdown":"thanks for adding the controller :) Now edit and fix the naming violations, please ...","body":"thanks for adding the controller :) Now edit and fix the naming violations, please ..."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1650202686,"post_id":71893527,"comment_id":127056554,"body_markdown":"worksforme - are you sure the stylesheet is found?","body":"worksforme - are you sure the stylesheet is found?"},{"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"score":0,"creation_date":1650204013,"post_id":71893527,"comment_id":127056850,"body_markdown":"yes because default color is orange , here it&#39;s blue","body":"yes because default color is orange , here it&#39;s blue"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1650206004,"post_id":71893527,"comment_id":127057308,"body_markdown":"hmm .. then I&#39;m out off ideas, as I said: worksform, I see the blue and the bigger round symbols. BTW: please stop adding nonsense lines to your question ..","body":"hmm .. then I&#39;m out off ideas, as I said: worksform, I see the blue and the bigger round symbols. BTW: please stop adding nonsense lines to your question .."},{"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"score":0,"creation_date":1650206312,"post_id":71893527,"comment_id":127057377,"body_markdown":"I&#39;m forced to add lines, without I can&#39;t publish cause of to many code lines. You see blue line and symbols because css refer to class , i would like to use ID ( myChart in fxml)","body":"I&#39;m forced to add lines, without I can&#39;t publish cause of to many code lines. You see blue line and symbols because css refer to class , i would like to use ID ( myChart in fxml)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1650206320,"post_id":71893527,"comment_id":127057379,"body_markdown":"re-reading the question: why don&#39;t you follow the suggestion by @James_D? Edit the question and apply it","body":"re-reading the question: why don&#39;t you follow the suggestion by @James_D? Edit the question and apply it"},{"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"score":0,"creation_date":1650206453,"post_id":71893527,"comment_id":127057403,"body_markdown":"already tested and answered, this doesn&#39;t work","body":"already tested and answered, this doesn&#39;t work"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1650206774,"post_id":71893527,"comment_id":127057488,"body_markdown":"repeating: worksforme ;) just use your chart&#39;s id and be sure there&#39;s a space between  the id and the color - `#myChart .default....` Maybe time to really work through the fx css spec .. ?","body":"repeating: worksforme ;) just use your chart&#39;s id and be sure there&#39;s a space between  the id and the color - <code>#myChart .default....</code> Maybe time to really work through the fx css spec .. ?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1650208113,"post_id":71893527,"comment_id":127057762,"body_markdown":"no, I certainly will not do private unpaid consultations - do as suggested and it will work :)","body":"no, I certainly will not do private unpaid consultations - do as suggested and it will work :)"},{"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"score":0,"creation_date":1650208551,"post_id":71893527,"comment_id":127057856,"body_markdown":"Sorry I not familiar with this site, just clicked as suggested ,  I tought it was just a question of ihm presesentation . good evening","body":"Sorry I not familiar with this site, just clicked as suggested ,  I tought it was just a question of ihm presesentation . good evening"},{"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"score":0,"creation_date":1650208683,"post_id":71893527,"comment_id":127057888,"body_markdown":"how can I pass your comment as the solution ?","body":"how can I pass your comment as the solution ?"}],"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650206170,"creation_date":1650108790,"question_id":71893527,"body_markdown":"I would like to know how to define colors line and symbol for a specific chart with css.\r\n\r\nCurrent css it&#39;s ok with class selector, but how to adapt that for a specific linechart with his Id #myChart ? \r\n\r\nhere is the code:\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.URISyntaxException;\r\nimport java.net.URL;\r\nimport java.nio.file.Paths;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport vue.VuetestCtrl2;\r\n\r\n\r\n\r\npublic class ChartTestMain extends Application {\r\n\r\n\tpublic static void main(String[] args) {  launch(args);}\r\n\r\n\t@Override\r\n\tpublic void start(Stage stage) throws Exception {  loadIhm( stage) ;}\r\n\t\t\r\n\tvoid loadIhm(Stage stage) throws URISyntaxException {\r\n\t\t\r\n\tURL location = ChartTestMain.class.getResource(&quot;/repTest/vuetest.fxml&quot;);    \r\n   \tfinal FXMLLoader loader = new FXMLLoader(location);\r\n   \t\r\n   File fic = Paths.get(location.toURI()).toFile();\r\n   System.out.println(&quot;fic = &quot;+ fic);\r\n   \r\n\ttry {\r\n\t\tParent root = (Parent) loader.load();\t\r\n\t\tVuetestCtrl2 controller = (VuetestCtrl2) loader.getController();\r\n\t\tstage.setScene(new Scene(root));\r\n\t\tstage.show();\r\n\r\n\t} catch (IOException e) { e.printStackTrace(); }\r\n  }\r\n\r\n}\r\n```\r\ncontroller : \r\n```\r\nimport java.net.URL;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.ResourceBundle;\r\nimport org.jfree.data.xy.XYSeriesCollection;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.chart.LineChart;\r\nimport javafx.scene.chart.NumberAxis;\r\nimport javafx.scene.chart.XYChart;\r\n\r\npublic class VuetestCtrl2 implements Initializable{\r\n\t\r\n\t@FXML\tprivate NumberAxis xAxisLine;\r\n\t@FXML\tprivate NumberAxis yAxisLine;\t\r\n\t@FXML   private LineChart&lt;Number,Number&gt; xyChart;\r\n\t\r\n\t@Override\r\n\tpublic void initialize(URL location, ResourceBundle resources) {\r\n\t\t\r\n\t\tXYChart.Series&lt;Number, Number&gt; serie = new XYChart.Series&lt;Number, Number&gt;();\r\n\t\t\r\n\t\txyChart.getData().add(serie);\r\n\t\t\r\n\t\t\r\n    \tserie.getData().add (new XYChart.Data&lt;Number,Number&gt;(10,10));\r\n    \tserie.getData().add (new XYChart.Data&lt;Number,Number&gt;(50,5));\r\n    \tserie.getData().add (new XYChart.Data&lt;Number,Number&gt;(100,30));\r\n\t} \r\n}\r\n\r\n```\r\n\r\nvuetest.fxml :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.chart.LineChart?&gt;\r\n&lt;?import javafx.scene.chart.NumberAxis?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;964.0&quot; prefWidth=&quot;1209.0&quot; stylesheets=&quot;@../../extension/extension.css&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;vue.VuetestCtrl2&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;LineChart id=&quot;myChart&quot; layoutX=&quot;174.0&quot; layoutY=&quot;108.0&quot; prefHeight=&quot;475.0&quot; prefWidth=&quot;750.0&quot; fx:id=&quot;xyChart&quot;&gt;\r\n        &lt;xAxis&gt;\r\n          &lt;NumberAxis side=&quot;BOTTOM&quot; fx:id=&quot;xAxisLine&quot; /&gt;\r\n        &lt;/xAxis&gt;\r\n        &lt;yAxis&gt;\r\n          &lt;NumberAxis fx:id=&quot;yAxisLine&quot; side=&quot;LEFT&quot; /&gt;\r\n        &lt;/yAxis&gt;\r\n      &lt;/LineChart&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\nextension.css\r\n```\r\n.default-color0.chart-line-symbol { /* hollow circle */\r\n\t-fx-background-color: blue , white;\r\n   \t-fx-background-radius: 6px;\r\n   \t-fx-padding: 6px ;\r\n\t-fx-background-insets: 0, 2;\r\n}\r\n\r\n.default-color0.chart-series-line {\r\n\t-fx-stroke: blue ;\r\n }\r\n```\r\n","title":"How to set line color of a particular fxml chart using css?","body":"<p>I would like to know how to define colors line and symbol for a specific chart with css.</p>\n<p>Current css it's ok with class selector, but how to adapt that for a specific linechart with his Id #myChart ?</p>\n<p>here is the code:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.nio.file.Paths;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport vue.VuetestCtrl2;\n\n\n\npublic class ChartTestMain extends Application {\n\n    public static void main(String[] args) {  launch(args);}\n\n    @Override\n    public void start(Stage stage) throws Exception {  loadIhm( stage) ;}\n        \n    void loadIhm(Stage stage) throws URISyntaxException {\n        \n    URL location = ChartTestMain.class.getResource(&quot;/repTest/vuetest.fxml&quot;);    \n    final FXMLLoader loader = new FXMLLoader(location);\n    \n   File fic = Paths.get(location.toURI()).toFile();\n   System.out.println(&quot;fic = &quot;+ fic);\n   \n    try {\n        Parent root = (Parent) loader.load();   \n        VuetestCtrl2 controller = (VuetestCtrl2) loader.getController();\n        stage.setScene(new Scene(root));\n        stage.show();\n\n    } catch (IOException e) { e.printStackTrace(); }\n  }\n\n}\n</code></pre>\n<p>controller :</p>\n<pre><code>import java.net.URL;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.ResourceBundle;\nimport org.jfree.data.xy.XYSeriesCollection;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.NumberAxis;\nimport javafx.scene.chart.XYChart;\n\npublic class VuetestCtrl2 implements Initializable{\n    \n    @FXML   private NumberAxis xAxisLine;\n    @FXML   private NumberAxis yAxisLine;   \n    @FXML   private LineChart&lt;Number,Number&gt; xyChart;\n    \n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        \n        XYChart.Series&lt;Number, Number&gt; serie = new XYChart.Series&lt;Number, Number&gt;();\n        \n        xyChart.getData().add(serie);\n        \n        \n        serie.getData().add (new XYChart.Data&lt;Number,Number&gt;(10,10));\n        serie.getData().add (new XYChart.Data&lt;Number,Number&gt;(50,5));\n        serie.getData().add (new XYChart.Data&lt;Number,Number&gt;(100,30));\n    } \n}\n\n</code></pre>\n<p>vuetest.fxml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.chart.LineChart?&gt;\n&lt;?import javafx.scene.chart.NumberAxis?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;964.0&quot; prefWidth=&quot;1209.0&quot; stylesheets=&quot;@../../extension/extension.css&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;vue.VuetestCtrl2&quot;&gt;\n   &lt;children&gt;\n      &lt;LineChart id=&quot;myChart&quot; layoutX=&quot;174.0&quot; layoutY=&quot;108.0&quot; prefHeight=&quot;475.0&quot; prefWidth=&quot;750.0&quot; fx:id=&quot;xyChart&quot;&gt;\n        &lt;xAxis&gt;\n          &lt;NumberAxis side=&quot;BOTTOM&quot; fx:id=&quot;xAxisLine&quot; /&gt;\n        &lt;/xAxis&gt;\n        &lt;yAxis&gt;\n          &lt;NumberAxis fx:id=&quot;yAxisLine&quot; side=&quot;LEFT&quot; /&gt;\n        &lt;/yAxis&gt;\n      &lt;/LineChart&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>extension.css</p>\n<pre><code>.default-color0.chart-line-symbol { /* hollow circle */\n    -fx-background-color: blue , white;\n    -fx-background-radius: 6px;\n    -fx-padding: 6px ;\n    -fx-background-insets: 0, 2;\n}\n\n.default-color0.chart-series-line {\n    -fx-stroke: blue ;\n }\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"score":0,"creation_date":1650187004,"post_id":71900613,"comment_id":127053807,"body_markdown":"https://github.com/meet2602/SignUp-Sign-In-System   that is example","body":"<a href=\"https://github.com/meet2602/SignUp-Sign-In-System\" rel=\"nofollow noreferrer\">github.com/meet2602/SignUp-Sign-In-System</a>   that is example"},{"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"score":0,"creation_date":1650187107,"post_id":71900613,"comment_id":127053826,"body_markdown":"https://github.com/meet2602/SignUp-Sign-In-System/blob/029cc00dc8104a18a5042379b9ee209ca93bd26a/app/src/main/java/com/signupsigninsystem/RegisterActivity.java#L193-L230","body":"<a href=\"https://github.com/meet2602/SignUp-Sign-In-System/blob/029cc00dc8104a18a5042379b9ee209ca93bd26a/app/src/main/java/com/signupsigninsystem/RegisterActivity.java#L193-L230\" rel=\"nofollow noreferrer\">github.com/meet2602/SignUp-Sign-In-System/blob/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1650193746,"post_id":71900613,"comment_id":127054934,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors? Please respond with @.","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors? Please respond with @."},{"owner":{"account_id":19962754,"reputation":23,"user_id":14629956,"display_name":"Endless Infinity"},"score":0,"creation_date":1650197508,"post_id":71900613,"comment_id":127055626,"body_markdown":"@AlexMamo No data in real database when clicked on register button","body":"@AlexMamo No data in real database when clicked on register button"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1650198688,"post_id":71900613,"comment_id":127055834,"body_markdown":"Is your onComplete even triggered?","body":"Is your onComplete even triggered?"},{"owner":{"account_id":19962754,"reputation":23,"user_id":14629956,"display_name":"Endless Infinity"},"score":0,"creation_date":1650201433,"post_id":71900613,"comment_id":127056323,"body_markdown":"@AlexMamo if(task.isSuccesful) works fine to me so far, I haven&#39;t test the &#39;else&#39; part.","body":"@AlexMamo if(task.isSuccesful) works fine to me so far, I haven&#39;t test the &#39;else&#39; part."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1650205963,"post_id":71900613,"comment_id":127057296,"body_markdown":"What isn&#39;t working about the code you shared?","body":"What isn&#39;t working about the code you shared?"},{"owner":{"account_id":19962754,"reputation":23,"user_id":14629956,"display_name":"Endless Infinity"},"score":0,"creation_date":1650207336,"post_id":71900613,"comment_id":127057602,"body_markdown":"@FrankvanPuffelen  No data in real database when clicked on register button","body":"@FrankvanPuffelen  No data in real database when clicked on register button"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1650212738,"post_id":71900613,"comment_id":127058782,"body_markdown":"i don&#39;t immediately see code that writes to the database in what you shared. Are you sure this is a [minimal, complete/standalone reproduction](http://stackoverflow.com/help/mcve) of the problem?","body":"i don&#39;t immediately see code that writes to the database in what you shared. Are you sure this is a <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete/standalone reproduction</a> of the problem?"}],"owner":{"account_id":19962754,"reputation":23,"user_id":14629956,"display_name":"Endless Infinity"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650205832,"creation_date":1650186299,"question_id":71900613,"body_markdown":"After the registration, I could login using those created emails and passwords but I noticed that there was no single data in real time database [Firebase] . I tried to use email as primary key but it seems like nothing happened after pressing &#39;Save button&#39;. I tried to look on youtube vides to solve this problem but it&#39;s still not working.\r\n\r\nCode on Register.java.\r\n```\r\npublic class Register extends AppCompatActivity {\r\n\r\n    EditText mFullName,mEmail,mPassword,mPhone;\r\n    Button mRegisterButton;\r\n    TextView mLoginButton;\r\n    FirebaseAuth fAuth;\r\n    ProgressBar progressBar;\r\n    FirebaseDatabase rootNode;\r\n    DatabaseReference reference;\r\n    users users;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n\r\n        mFullName           = findViewById(R.id.Name);\r\n        mEmail              = findViewById(R.id.Email);\r\n        mPassword           = findViewById(R.id.Password);\r\n        mPhone              = findViewById(R.id.Phonenumber);\r\n        mRegisterButton     = findViewById(R.id.registerbutton);\r\n        mLoginButton        = findViewById(R.id.loginpage);\r\n        users               = new users();\r\n\r\n        reference=rootNode.getInstance().getReference().child(&quot;User&quot;);\r\n        fAuth = FirebaseAuth.getInstance();\r\n        progressBar = findViewById(R.id.progressBar);\r\n\r\n        if(fAuth.getCurrentUser() != null)\r\n        {\r\n            startActivity(new Intent(getApplicationContext(),MainActivity.class));\r\n\r\n        }\r\n\r\n\r\n        mRegisterButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String email = mEmail.getText().toString().trim();\r\n                String password = mPassword.getText().toString().trim();\r\n\r\n\r\n                if(TextUtils.isEmpty(email))\r\n                {\r\n                    mEmail.setError(&quot;Email is required!&quot;);\r\n                    return;\r\n                }\r\n\r\n                if(TextUtils.isEmpty(password))\r\n                {\r\n                    mPassword.setError(&quot;Password is required!&quot;);\r\n                    return;\r\n                }\r\n\r\n                if(password.length() &lt; 6)\r\n                {\r\n                    mPassword.setError((&quot;Password must be longer than 6&quot;));\r\n                    return;\r\n                }\r\n\r\n                progressBar.setVisibility(View.VISIBLE);\r\n\r\n                fAuth.createUserWithEmailAndPassword(email,password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if(task.isSuccessful()){\r\n\r\n                            Toast.makeText(Register.this,&quot;User Created&quot;,Toast.LENGTH_LONG).show();\r\n                            startActivity(new Intent(getApplicationContext(),MainActivity.class));\r\n\r\n                        }else{\r\n                            Toast.makeText(Register.this,&quot;Error&quot; + task.getException().getMessage(),Toast.LENGTH_SHORT).show();\r\n                            progressBar.setVisibility(View.GONE);\r\n\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        mLoginButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(getApplicationContext(),Login.class));\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThis data is self made ,not from the database or after registered.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eNl0z.png","title":"How to add data from android studio into realtime database firebase?","body":"<p>After the registration, I could login using those created emails and passwords but I noticed that there was no single data in real time database [Firebase] . I tried to use email as primary key but it seems like nothing happened after pressing 'Save button'. I tried to look on youtube vides to solve this problem but it's still not working.</p>\n<p>Code on Register.java.</p>\n<pre><code>public class Register extends AppCompatActivity {\n\n    EditText mFullName,mEmail,mPassword,mPhone;\n    Button mRegisterButton;\n    TextView mLoginButton;\n    FirebaseAuth fAuth;\n    ProgressBar progressBar;\n    FirebaseDatabase rootNode;\n    DatabaseReference reference;\n    users users;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n        mFullName           = findViewById(R.id.Name);\n        mEmail              = findViewById(R.id.Email);\n        mPassword           = findViewById(R.id.Password);\n        mPhone              = findViewById(R.id.Phonenumber);\n        mRegisterButton     = findViewById(R.id.registerbutton);\n        mLoginButton        = findViewById(R.id.loginpage);\n        users               = new users();\n\n        reference=rootNode.getInstance().getReference().child(&quot;User&quot;);\n        fAuth = FirebaseAuth.getInstance();\n        progressBar = findViewById(R.id.progressBar);\n\n        if(fAuth.getCurrentUser() != null)\n        {\n            startActivity(new Intent(getApplicationContext(),MainActivity.class));\n\n        }\n\n\n        mRegisterButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String email = mEmail.getText().toString().trim();\n                String password = mPassword.getText().toString().trim();\n\n\n                if(TextUtils.isEmpty(email))\n                {\n                    mEmail.setError(&quot;Email is required!&quot;);\n                    return;\n                }\n\n                if(TextUtils.isEmpty(password))\n                {\n                    mPassword.setError(&quot;Password is required!&quot;);\n                    return;\n                }\n\n                if(password.length() &lt; 6)\n                {\n                    mPassword.setError((&quot;Password must be longer than 6&quot;));\n                    return;\n                }\n\n                progressBar.setVisibility(View.VISIBLE);\n\n                fAuth.createUserWithEmailAndPassword(email,password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if(task.isSuccessful()){\n\n                            Toast.makeText(Register.this,&quot;User Created&quot;,Toast.LENGTH_LONG).show();\n                            startActivity(new Intent(getApplicationContext(),MainActivity.class));\n\n                        }else{\n                            Toast.makeText(Register.this,&quot;Error&quot; + task.getException().getMessage(),Toast.LENGTH_SHORT).show();\n                            progressBar.setVisibility(View.GONE);\n\n                        }\n                    }\n                });\n            }\n        });\n\n        mLoginButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(getApplicationContext(),Login.class));\n            }\n        });\n    }\n}\n</code></pre>\n<p>This data is self made ,not from the database or after registered.\n<a href=\"https://i.stack.imgur.com/eNl0z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eNl0z.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8975629,"reputation":4835,"user_id":6692606,"accept_rate":100,"display_name":"ASDFGerte"},"score":0,"creation_date":1650204835,"post_id":71902611,"comment_id":127057054,"body_markdown":"http://javascriptisnotjava.com/","body":"<a href=\"http://javascriptisnotjava.com/\" rel=\"nofollow noreferrer\">javascriptisnotjava.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650205166,"creation_date":1650205166,"answer_id":71902651,"question_id":71902611,"body_markdown":"Change your `for` loop\r\n\r\n```java\r\nfor (int i = 1; i &lt; count.length; i++)\r\n```\r\n\r\nto\r\n\r\n```java\r\nfor (int i = count.length - 1; i &gt;= 0; i--)\r\n```\r\n \r\n","title":"How can I convert this in a descending order?","body":"<p>Change your <code>for</code> loop</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 1; i &lt; count.length; i++)\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = count.length - 1; i &gt;= 0; i--)\n</code></pre>\n"}],"owner":{"account_id":24974072,"reputation":19,"user_id":18836935,"display_name":"Wyvern"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1650205251,"creation_date":1650204789,"question_id":71902611,"body_markdown":"I am new in programming and I don&#39;t know much. I am having trouble on how to convert this in descending order.\r\n\r\nThe output showing in my code is:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    5 = 2\r\n    6 = 1\r\n    7 = 3\r\n    9 = 2\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nbut the output i want is:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    9 = 2\r\n    7 = 3\r\n    6 = 1\r\n    5 = 2\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nhere is my code\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            int [] arr = new int [] {7, 7, 5, 9, 6, 9, 5, 7};\r\n            int [] count = new int[100];\r\n              int temp = 0;\r\n\r\n       \r\n      \r\n            for(int i = 0; i &lt; arr.length; i++){\r\n                    temp = arr[i];\r\n                    count[temp]++;\r\n            }\r\n            \r\n\r\n\r\n            for(int i=1; i &lt; count.length; i++){\r\n                if(count[i] &gt; 0 &amp;&amp; count[i] == 1){\r\n                    System.out.printf(&quot;%d = %d \\n&quot;,i, count[i]);\r\n                 }\r\n                else if(count[i] &gt;= 2){\r\n                    System.out.printf(&quot;%d = %d \\n&quot;,i, count[i]);\r\n                }\r\n\r\n             }\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How can I convert this in a descending order?","body":"<p>I am new in programming and I don't know much. I am having trouble on how to convert this in descending order.</p>\n<p>The output showing in my code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>5 = 2\n6 = 1\n7 = 3\n9 = 2\n</code></pre>\n\n<p>but the output i want is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>9 = 2\n7 = 3\n6 = 1\n5 = 2\n</code></pre>\n\n<p>here is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        int [] arr = new int [] {7, 7, 5, 9, 6, 9, 5, 7};\n        int [] count = new int[100];\n          int temp = 0;\n\n   \n  \n        for(int i = 0; i &lt; arr.length; i++){\n                temp = arr[i];\n                count[temp]++;\n        }\n        \n\n\n        for(int i=1; i &lt; count.length; i++){\n            if(count[i] &gt; 0 &amp;&amp; count[i] == 1){\n                System.out.printf(&quot;%d = %d \\n&quot;,i, count[i]);\n             }\n            else if(count[i] &gt;= 2){\n                System.out.printf(&quot;%d = %d \\n&quot;,i, count[i]);\n            }\n\n         }\n    }\n}\n</code></pre>\n\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1650193894,"post_id":71900999,"comment_id":127054969,"body_markdown":"That&#39;s now how you can get the download URL. Please check the duplicate to see how you can solve this.","body":"That&#39;s now how you can get the download URL. Please check the duplicate to see how you can solve this."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1650205235,"post_id":71900999,"comment_id":127057136,"body_markdown":"Determining the download URL requires a call to the server. Because of this, the call to `getDownloadUrl()` returns a `Task` that completes when the download URL comes back from the server. You&#39;ll need to call `addSuccessListener()` on it to wait for it to complete. See the documentation [here](https://firebase.google.com/docs/storage/android/download-files#download_data_via_url) and this [answer](https://stackoverflow.com/a/51064689)","body":"Determining the download URL requires a call to the server. Because of this, the call to <code>getDownloadUrl()</code> returns a <code>Task</code> that completes when the download URL comes back from the server. You&#39;ll need to call <code>addSuccessListener()</code> on it to wait for it to complete. See the documentation <a href=\"https://firebase.google.com/docs/storage/android/download-files#download_data_via_url\" rel=\"nofollow noreferrer\">here</a> and this <a href=\"https://stackoverflow.com/a/51064689\">answer</a>"}],"owner":{"account_id":24684256,"reputation":13,"user_id":18577662,"display_name":"Fregene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650193859,"answer_count":0,"score":0,"last_activity_date":1650205246,"creation_date":1650190178,"question_id":71900999,"body_markdown":"```\r\nprivate void storeFireStore(final UploadTask.TaskSnapshot taskSnapshot, final String name, final String usernameToCompare) {\r\n\r\n    final Uri download_uri;\r\n\r\n    if (taskSnapshot != null) {\r\n        download_uri = taskSnapshot.getDownloadUrl();\r\n    } else {\r\n        download_uri = mainImageUri;\r\n    }\r\n```","title":"cannot resolve method getdownloadurl in tasksnapshot","body":"<pre><code>private void storeFireStore(final UploadTask.TaskSnapshot taskSnapshot, final String name, final String usernameToCompare) {\n\n    final Uri download_uri;\n\n    if (taskSnapshot != null) {\n        download_uri = taskSnapshot.getDownloadUrl();\n    } else {\n        download_uri = mainImageUri;\n    }\n</code></pre>\n"},{"tags":["java","svg","attributes","viewbox","batik"],"answers":[{"tags":[],"owner":{"account_id":1029387,"reputation":119820,"user_id":1038015,"display_name":"Robert Longson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1352127048,"creation_date":1352127048,"answer_id":13234515,"question_id":13229690,"body_markdown":"Using org.w3c.dom classes you&#39;d do something along these lines...\r\n\r\n            String parser = XMLResourceDescriptor.getXMLParserClassName();\r\n            SAXSVGDocumentFactory f = new SAXSVGDocumentFactory(parser);\r\n            URL url = new URL(getCodeBase(), &quot;fileName.svg&quot;);\r\n            Document doc = f.createDocument(url.toString());\r\n\r\n            Element svg = doc.getDocumentElement();\r\n\r\n            if (svg.hasAttribute(&quot;viewBox&quot;)) {\r\n              // notify the user somehow\r\n            }\r\n\r\nto delete call\r\n\r\n            svg.removeAttribute(&quot;viewBox&quot;)\r\n","title":"Checking and deleting attributes in SVG using Batik in Java","body":"<p>Using org.w3c.dom classes you'd do something along these lines...</p>\n\n<pre><code>        String parser = XMLResourceDescriptor.getXMLParserClassName();\n        SAXSVGDocumentFactory f = new SAXSVGDocumentFactory(parser);\n        URL url = new URL(getCodeBase(), \"fileName.svg\");\n        Document doc = f.createDocument(url.toString());\n\n        Element svg = doc.getDocumentElement();\n\n        if (svg.hasAttribute(\"viewBox\")) {\n          // notify the user somehow\n        }\n</code></pre>\n\n<p>to delete call</p>\n\n<pre><code>        svg.removeAttribute(\"viewBox\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6619558,"reputation":79,"user_id":5334403,"display_name":"Para Parasolian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650203279,"creation_date":1650203279,"answer_id":71902425,"question_id":13229690,"body_markdown":"I am using a slightly different approach to the same:\r\n\r\n    /**\r\n\t * Main getViewBoxRect method\r\n\t * \r\n\t * Returns the TopLeft point and width and height of the viewBox\r\n\t * \r\n\t * @param doc -- the SVGDocument\r\n\t * \r\n\t * @return\r\n\t */\r\n\tpublic static double[] getViewBoxRect(SVGDocument doc)\r\n\t{\r\n\t\tif (doc == null)\r\n\t\t{\r\n\t\t\tSystem.err.printf(&quot;\\ngetViewBoxRect: null document\\n\\n&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\tSVGSVGElement el = doc.getRootElement();\r\n\t\t\r\n\t\tif (el == null)\r\n\t\t{\r\n\t\t\tSystem.err.printf(&quot;\\ngetViewBoxRect: null rootElement\\n\\n&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tString viewBoxStr = el.getAttributeNS(null,\r\n\t\t\t\tSVGConstants.SVG_VIEW_BOX_ATTRIBUTE);\r\n\t\t\r\n\t\tif (viewBoxStr.length() != 0)\r\n\t\t{\r\n\t\t\tfloat[] rect = ViewBox.parseViewBoxAttribute(el, viewBoxStr, null);\r\n\t\t\t\r\n\t\t\treturn new double[]\r\n\t\t\t{\r\n\t\t\t\t\trect[0], rect[1],\r\n\t\t\t\t\trect[2], rect[3]\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tSystem.err.printf(&quot;\\ngetViewBoxRect: null viewBox received\\n\\n&quot;);\r\n\t\treturn null;\r\n\t}\r\n\r\nOf course, if you get a null value, no viewBox has been set. If you want to reset the viewBox, you can use\r\n\r\n doc.removeAttribute(&quot;viewBox&quot;);","title":"Checking and deleting attributes in SVG using Batik in Java","body":"<p>I am using a slightly different approach to the same:</p>\n<pre><code>/**\n * Main getViewBoxRect method\n * \n * Returns the TopLeft point and width and height of the viewBox\n * \n * @param doc -- the SVGDocument\n * \n * @return\n */\npublic static double[] getViewBoxRect(SVGDocument doc)\n{\n    if (doc == null)\n    {\n        System.err.printf(&quot;\\ngetViewBoxRect: null document\\n\\n&quot;);\n        return null;\n    }\n    \n    SVGSVGElement el = doc.getRootElement();\n    \n    if (el == null)\n    {\n        System.err.printf(&quot;\\ngetViewBoxRect: null rootElement\\n\\n&quot;);\n        return null;\n    }\n\n    String viewBoxStr = el.getAttributeNS(null,\n            SVGConstants.SVG_VIEW_BOX_ATTRIBUTE);\n    \n    if (viewBoxStr.length() != 0)\n    {\n        float[] rect = ViewBox.parseViewBoxAttribute(el, viewBoxStr, null);\n        \n        return new double[]\n        {\n                rect[0], rect[1],\n                rect[2], rect[3]\n        };\n    }\n\n    System.err.printf(&quot;\\ngetViewBoxRect: null viewBox received\\n\\n&quot;);\n    return null;\n}\n</code></pre>\n<p>Of course, if you get a null value, no viewBox has been set. If you want to reset the viewBox, you can use</p>\n<p>doc.removeAttribute(&quot;viewBox&quot;);</p>\n"}],"owner":{"account_id":447135,"reputation":808,"user_id":840587,"accept_rate":94,"display_name":"Invader Zim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1946,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":13234515,"answer_count":2,"score":3,"last_activity_date":1650203279,"creation_date":1352109475,"question_id":13229690,"body_markdown":"The question basically says it all. How can I check if SVG has a viewBox attribute? I am using Batik lib. I need this because I need to (at least) notify the user that there is a viewBox attribute.\r\n\r\nCan I delete it?","title":"Checking and deleting attributes in SVG using Batik in Java","body":"<p>The question basically says it all. How can I check if SVG has a viewBox attribute? I am using Batik lib. I need this because I need to (at least) notify the user that there is a viewBox attribute.</p>\n\n<p>Can I delete it?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2897949,"reputation":193,"user_id":2485358,"display_name":"Yodgorbek Komilov"},"score":0,"creation_date":1650096253,"post_id":71892132,"comment_id":127039415,"body_markdown":"did you check following tutorial https://www.tutorialspoint.com/how-to-read-a-txt-file-in-external-storage-with-runtime-permission-in-android","body":"did you check following tutorial <a href=\"https://www.tutorialspoint.com/how-to-read-a-txt-file-in-external-storage-with-runtime-permission-in-android\" rel=\"nofollow noreferrer\">tutorialspoint.com/&hellip;</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1650096263,"post_id":71892132,"comment_id":127039416,"body_markdown":"`openRawResource` already returns an `InputStream`, you don&#39;t need to pass through a `File` and a `FileInputStream`.","body":"<code>openRawResource</code> already returns an <code>InputStream</code>, you don&#39;t need to pass through a <code>File</code> and a <code>FileInputStream</code>."},{"owner":{"account_id":22211170,"reputation":25,"user_id":16450320,"display_name":"Exsent"},"score":0,"creation_date":1650096351,"post_id":71892132,"comment_id":127039432,"body_markdown":"may you help with example","body":"may you help with example"}],"answers":[{"tags":[],"owner":{"account_id":2845606,"reputation":37807,"user_id":2444099,"display_name":"Eugen Pechanec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650203164,"creation_date":1650102297,"answer_id":71892788,"question_id":71892132,"body_markdown":"[`Resources.openRawResource`](https://developer.android.com/reference/android/content/res/Resources#openRawResource(int)) already gives you an `InputStream`.\r\n\r\n```java\r\nfinal InputStream inputStream = getResources().openRawResource(R.raw.test);\r\ntry {\r\n    Scanner sc = new Scanner(inputStream, &quot;UTF-8&quot;);\r\n    // ...\r\n} finally {\r\n    inputStream.close();\r\n}\r\n```\r\n\r\nRaw resources are packed inside the APK. They&#39;re not accessible using a file system path you&#39;re used to.","title":"How to choose a txt file from raw folder, get path and read data?","body":"<p><a href=\"https://developer.android.com/reference/android/content/res/Resources#openRawResource(int)\" rel=\"nofollow noreferrer\"><code>Resources.openRawResource</code></a> already gives you an <code>InputStream</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final InputStream inputStream = getResources().openRawResource(R.raw.test);\ntry {\n    Scanner sc = new Scanner(inputStream, &quot;UTF-8&quot;);\n    // ...\n} finally {\n    inputStream.close();\n}\n</code></pre>\n<p>Raw resources are packed inside the APK. They're not accessible using a file system path you're used to.</p>\n"}],"owner":{"account_id":22211170,"reputation":25,"user_id":16450320,"display_name":"Exsent"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71892788,"answer_count":1,"score":1,"last_activity_date":1650203164,"creation_date":1650096065,"question_id":71892132,"body_markdown":"I have a big text file of about 40mbs, I have been looking for a way to read its contents and I found this:\r\n\r\n    File f = new File(String.valueOf(getResources().openRawResource(R.raw.test)));\r\n    \r\n    try {\r\n        FileInputStream inputStream = new FileInputStream(f);\r\n        Scanner sc = new Scanner(inputStream, &quot;UTF-8&quot;);\r\n        while (sc.hasNextLine()) {\r\n            String line = sc.nextLine();\r\n        }\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nUnfortunately I am getting the following error:\r\n\r\n    java.io.FileNotFoundException: android.content.res.AssetManager$AssetInputStream@ead83c (No such file or directory)\r\n\r\nThe file I am trying to access is in **raw** folder, and its name is **test.txt**\r\n\r\nWhere am I getting it wrong?","title":"How to choose a txt file from raw folder, get path and read data?","body":"<p>I have a big text file of about 40mbs, I have been looking for a way to read its contents and I found this:</p>\n<pre><code>File f = new File(String.valueOf(getResources().openRawResource(R.raw.test)));\n\ntry {\n    FileInputStream inputStream = new FileInputStream(f);\n    Scanner sc = new Scanner(inputStream, &quot;UTF-8&quot;);\n    while (sc.hasNextLine()) {\n        String line = sc.nextLine();\n    }\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Unfortunately I am getting the following error:</p>\n<pre><code>java.io.FileNotFoundException: android.content.res.AssetManager$AssetInputStream@ead83c (No such file or directory)\n</code></pre>\n<p>The file I am trying to access is in <strong>raw</strong> folder, and its name is <strong>test.txt</strong></p>\n<p>Where am I getting it wrong?</p>\n"},{"tags":["java","selenium","batch-file","selenium-webdriver"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1650259640,"post_id":71902398,"comment_id":127066309,"body_markdown":"Comments are not for extended discussion; this conversation has been [moved to chat](https://chat.stackoverflow.com/rooms/243978/discussion-on-question-by-sandesh-sawant-windows-batch-file-commands-not-executi).","body":"Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/243978/discussion-on-question-by-sandesh-sawant-windows-batch-file-commands-not-executi\">moved to chat</a>."}],"owner":{"account_id":14586701,"reputation":109,"user_id":11014052,"display_name":"Sandesh Sawant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650203072,"creation_date":1650203072,"question_id":71902398,"body_markdown":"I am trying to run Selenium tests using Docker with Selenium grid for which I am executing a batch file which is present in `src\\test\\resources` folder.\r\n\r\n**Below is the content of the batch file:**\r\n\r\n    cd &quot;%cd%\\src\\test\\resources&quot;\r\n    docker-compose -f docker-compose-v3.yml up -d\r\n\r\n**Below is the Java code in BeforeSuite method:**\r\n\r\n\tString gridFilePath = new File(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\test\\\\resources\\\\start_docker_grid.bat&quot;).getAbsolutePath();\r\n\tSystem.out.println(&quot;absolutePath: &quot; + gridFilePath);\r\n\tRuntime.getRuntime().exec(&quot;cmd /c start \\&quot;&quot; + gridFilePath + &quot;\\&quot;&quot;);\r\n\r\nIt opens the command prompt window but none of the commands in the batch file are executed.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1pK7L.png\r\n\r\nCan anyone please help here ?\r\n\r\n","title":"Windows batch file commands not executing","body":"<p>I am trying to run Selenium tests using Docker with Selenium grid for which I am executing a batch file which is present in <code>src\\test\\resources</code> folder.</p>\n<p><strong>Below is the content of the batch file:</strong></p>\n<pre><code>cd &quot;%cd%\\src\\test\\resources&quot;\ndocker-compose -f docker-compose-v3.yml up -d\n</code></pre>\n<p><strong>Below is the Java code in BeforeSuite method:</strong></p>\n<pre><code>String gridFilePath = new File(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\test\\\\resources\\\\start_docker_grid.bat&quot;).getAbsolutePath();\nSystem.out.println(&quot;absolutePath: &quot; + gridFilePath);\nRuntime.getRuntime().exec(&quot;cmd /c start \\&quot;&quot; + gridFilePath + &quot;\\&quot;&quot;);\n</code></pre>\n<p>It opens the command prompt window but none of the commands in the batch file are executed.</p>\n<p><a href=\"https://i.stack.imgur.com/1pK7L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1pK7L.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone please help here ?</p>\n"},{"tags":["java","android","database","api"],"answers":[{"tags":[],"owner":{"account_id":10454216,"reputation":594,"user_id":7706832,"display_name":"Maulik Togadiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650202980,"creation_date":1650202980,"answer_id":71902385,"question_id":71902235,"body_markdown":"If you are looking for some API then check this out this can be help full.\r\n\r\n    https://api-ninjas.com/api/celebrity\r\n\r\nYou can even check if Wikipedia have any API for providing info.\r\n\r\nI found this also\r\n\r\n    http://en.wikipedia.org/wiki/Wikipedia:Creating_a_bot#APIs%5Ffor%5Fbots\r\n\r\nIt appears there&#39;s also an API for IMDB: `http://www.deanclatworthy.com/imdb/`","title":"How can I retrieve database data and present it in an application","body":"<p>If you are looking for some API then check this out this can be help full.</p>\n<pre><code>https://api-ninjas.com/api/celebrity\n</code></pre>\n<p>You can even check if Wikipedia have any API for providing info.</p>\n<p>I found this also</p>\n<pre><code>http://en.wikipedia.org/wiki/Wikipedia:Creating_a_bot#APIs%5Ffor%5Fbots\n</code></pre>\n<p>It appears there's also an API for IMDB: <code>http://www.deanclatworthy.com/imdb/</code></p>\n"}],"owner":{"account_id":7234313,"reputation":19,"user_id":5520098,"display_name":"sammysahrd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650202980,"creation_date":1650201613,"question_id":71902235,"body_markdown":"I am currently working on an application in android studio as I am trying to learn how to use it in my spare time, my knowledge is very low so I was hoping I can explain the concept of my app and ask people for some pointers in different techniques I could use. The basic idea of my app is that it works by allowing people to search for a celebrity and it shows a few facts about them, their date of birth etc. I know its nothing special but it is literally a concept to help me improve my android studio knowledge. \r\n\r\nMy main issue with this is getting the information from the database into the application in an easy to read and presentable way, what sort of things should I be researching to help me achieve this, from my knowledge I believe I would need to set up a scanner to take the users input, then search the database to find the information and then I need to find a way to return the results in a presentable manner.\r\n\r\nApologies if this is too long winded a question, and thank you to everybody who takes the time to read and respond to me.\r\n","title":"How can I retrieve database data and present it in an application","body":"<p>I am currently working on an application in android studio as I am trying to learn how to use it in my spare time, my knowledge is very low so I was hoping I can explain the concept of my app and ask people for some pointers in different techniques I could use. The basic idea of my app is that it works by allowing people to search for a celebrity and it shows a few facts about them, their date of birth etc. I know its nothing special but it is literally a concept to help me improve my android studio knowledge.</p>\n<p>My main issue with this is getting the information from the database into the application in an easy to read and presentable way, what sort of things should I be researching to help me achieve this, from my knowledge I believe I would need to set up a scanner to take the users input, then search the database to find the information and then I need to find a way to return the results in a presentable manner.</p>\n<p>Apologies if this is too long winded a question, and thank you to everybody who takes the time to read and respond to me.</p>\n"},{"tags":["java","testing","junit5"],"comments":[{"owner":{"account_id":14869803,"reputation":1329,"user_id":10737626,"display_name":"Nick the Community Scientist"},"score":0,"creation_date":1650202474,"post_id":71902280,"comment_id":127056526,"body_markdown":"Maybe this can help you? https://www.baeldung.com/junit-5-migration","body":"Maybe this can help you? <a href=\"https://www.baeldung.com/junit-5-migration\" rel=\"nofollow noreferrer\">baeldung.com/junit-5-migration</a>"},{"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"score":0,"creation_date":1650206544,"post_id":71902280,"comment_id":127057434,"body_markdown":"It looks like PowerMock does not support JUnit 5 yet, see [this open issue](https://github.com/powermock/powermock/issues/830).","body":"It looks like PowerMock does not support JUnit 5 yet, see <a href=\"https://github.com/powermock/powermock/issues/830\" rel=\"nofollow noreferrer\">this open issue</a>."},{"owner":{"account_id":18260143,"reputation":285,"user_id":13293127,"display_name":"Abhishek Khaiwale"},"score":0,"creation_date":1680094679,"post_id":71902280,"comment_id":133838559,"body_markdown":"Hi david6969xin where you able to find a fix for it? Even I am facing a similar issue.","body":"Hi david6969xin where you able to find a fix for it? Even I am facing a similar issue."}],"owner":{"account_id":24973724,"reputation":1,"user_id":18836617,"display_name":"david6969xin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650202045,"creation_date":1650202045,"question_id":71902280,"body_markdown":"@RunWith(PowerMockRunner.class)&lt;br /&gt;\r\n@PrepareForTest({JvmUtils.class})&lt;br /&gt;\r\npublic class TestJvmUtils {&lt;br /&gt;\r\n    // test code&lt;br /&gt;\r\n}&lt;br /&gt;","title":"how to migrate to junit5 for @RunWith(PowerMockRunner.class)","body":"<p>@RunWith(PowerMockRunner.class)<br />\n@PrepareForTest({JvmUtils.class})<br />\npublic class TestJvmUtils {<br />\n// test code<br />\n}<br /></p>\n"},{"tags":["java","uuid"],"comments":[{"owner":{"account_id":2562138,"reputation":4154,"user_id":2223067,"display_name":"Keith"},"score":5,"creation_date":1370889524,"post_id":17030498,"comment_id":24616783,"body_markdown":"What are the requirements for the ID: (1) maximum length, (2) minimum length, (3) only numbers?  With the requirements you have given so far, my answer is:  String id = name + &quot;|&quot; + version.","body":"What are the requirements for the ID: (1) maximum length, (2) minimum length, (3) only numbers?  With the requirements you have given so far, my answer is:  String id = name + &quot;|&quot; + version."},{"owner":{"account_id":2367596,"reputation":14579,"user_id":2073001,"accept_rate":91,"display_name":"Steve P."},"score":0,"creation_date":1370890524,"post_id":17030498,"comment_id":24617266,"body_markdown":"Welcome to SO! You should take the [tour](http://stackoverflow.com/about).  Hope our answers are helpful.","body":"Welcome to SO! You should take the <a href=\"http://stackoverflow.com/about\">tour</a>.  Hope our answers are helpful."}],"answers":[{"tags":[],"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1370889578,"creation_date":1370889578,"answer_id":17030558,"question_id":17030498,"body_markdown":"I don&#39;t know why you want to use 2 strings to generate a unique ID and it might not be possible to preserve uniqueness in some cases. `java.util.UUID` presents useful methods for your case. Take a look at this usage:\r\n\r\n    import java.util.UUID;\r\n    \r\n    ...\r\n    \r\n    UUID idOne = UUID.randomUUID();\r\n    UUID idTwo = UUID.randomUUID();\r\n\r\nIf you are not satisfied with the IDs generated with this way, you can **append / prepend** your additional parameters like name and version to the generated IDs.","title":"Generating Unique identifier using two strings","body":"<p>I don't know why you want to use 2 strings to generate a unique ID and it might not be possible to preserve uniqueness in some cases. <code>java.util.UUID</code> presents useful methods for your case. Take a look at this usage:</p>\n\n<pre><code>import java.util.UUID;\n\n...\n\nUUID idOne = UUID.randomUUID();\nUUID idTwo = UUID.randomUUID();\n</code></pre>\n\n<p>If you are not satisfied with the IDs generated with this way, you can <strong>append / prepend</strong> your additional parameters like name and version to the generated IDs.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370889583,"creation_date":1370889583,"answer_id":17030560,"question_id":17030498,"body_markdown":"The best way to do this is to concatenate the strings with a separator which would not normally appear in those Strings\r\n\r\ne.g.\r\n\r\n    String name = ....\r\n    String version = .....\r\n    String key = name + &quot;/&quot; + version;\r\n\r\nYou can obtain the original name and version with `split(&quot;/&quot;)`","title":"Generating Unique identifier using two strings","body":"<p>The best way to do this is to concatenate the strings with a separator which would not normally appear in those Strings</p>\n\n<p>e.g.</p>\n\n<pre><code>String name = ....\nString version = .....\nString key = name + \"/\" + version;\n</code></pre>\n\n<p>You can obtain the original name and version with <code>split(\"/\")</code></p>\n"},{"tags":[],"owner":{"account_id":2367596,"reputation":14579,"user_id":2073001,"accept_rate":91,"display_name":"Steve P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370890379,"creation_date":1370889849,"answer_id":17030635,"question_id":17030498,"body_markdown":"You can use the static factory method `randomUUID()` to get a `UUID` object:\r\n\r\n    UUID id = UUID.randomUUID();    \r\n    \r\n  To combine the id with the version, come up with a delimiter that you know won&#39;t be in either string, like `/` or `_`. Then you can `split` on that delimiter or use regular expressions to extract what you desire:\r\n\r\n    String entry = id + &quot;_&quot; + version;\r\n    String[] divided = entry.split(delimiter);\r\n\r\n    //or using regex\r\n\r\n    String entry= &quot;idName_version&quot;; //delimiter is &quot;_&quot;\r\n    String pattern = &quot;(.*)_(.*)&quot;;\r\n    \r\n    Pattern p = Pattern.compile(pattern);\r\n    Matcher m = p.matcher(example);\r\n    \r\n    if (m.find())\r\n    {\r\n    \tSystem.out.println(m.group(1)); //prints idName\r\n    \tSystem.out.println(m.group(2)); //prints version\r\n    }\r\n\r\n","title":"Generating Unique identifier using two strings","body":"<p>You can use the static factory method <code>randomUUID()</code> to get a <code>UUID</code> object:</p>\n\n<pre><code>UUID id = UUID.randomUUID();    \n</code></pre>\n\n<p>To combine the id with the version, come up with a delimiter that you know won't be in either string, like <code>/</code> or <code>_</code>. Then you can <code>split</code> on that delimiter or use regular expressions to extract what you desire:</p>\n\n<pre><code>String entry = id + \"_\" + version;\nString[] divided = entry.split(delimiter);\n\n//or using regex\n\nString entry= \"idName_version\"; //delimiter is \"_\"\nString pattern = \"(.*)_(.*)\";\n\nPattern p = Pattern.compile(pattern);\nMatcher m = p.matcher(example);\n\nif (m.find())\n{\n    System.out.println(m.group(1)); //prints idName\n    System.out.println(m.group(2)); //prints version\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5550612,"reputation":1,"user_id":4403827,"display_name":"user4403827"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456245120,"creation_date":1456185937,"answer_id":35566397,"question_id":17030498,"body_markdown":"If you don&#39;t want to create a UUID just keep it pure strings\r\n\r\n    String.format(&quot;%s_%s_%s_%s&quot;, str1.length(), str2.length(), str1, str2);\r\n\r\n\r\ntested with the following\r\n\r\n    Pair.of(&quot;a&quot;, &quot;&quot;),      // &#39;a&#39;   and &#39;&#39;    into &#39;1_0_a_&#39;\r\n    Pair.of(&quot;&quot;, &quot;a&quot;),      // &#39;&#39;    and &#39;a&#39;   into &#39;0_1__a&#39;\r\n    Pair.of(&quot;a&quot;, &quot;a&quot;),     // &#39;a&#39;   and &#39;a&#39;   into &#39;1_1_a_a&#39;\r\n    Pair.of(&quot;aa&quot;, &quot;a&quot;),    // &#39;aa&#39;  and &#39;a&#39;   into &#39;2_1_aa_a&#39;\r\n    Pair.of(&quot;a&quot;, &quot;aa&quot;),    // &#39;a&#39;   and &#39;aa&#39;  into &#39;1_2_a_aa&#39;\r\n    Pair.of(&quot;_&quot;, &quot;&quot;),      // &#39;_&#39;   and &#39;&#39;    into &#39;1_0___&#39;\r\n    Pair.of(&quot;&quot;, &quot;_&quot;),      // &#39;&#39;    and &#39;_&#39;   into &#39;0_1___&#39;\r\n    Pair.of(&quot;__&quot;, &quot;_&quot;),    // &#39;__&#39;  and &#39;_&#39;   into &#39;2_1_____&#39;\r\n    Pair.of(&quot;_&quot;, &quot;__&quot;),    // &#39;_&#39;   and &#39;__&#39;  into &#39;1_2_____&#39;\r\n    Pair.of(&quot;__&quot;, &quot;__&quot;),   // &#39;__&#39;  and &#39;__&#39;  into &#39;2_2______&#39;\r\n    Pair.of(&quot;/t/&quot;, &quot;/t/&quot;), // &#39;/t/&#39; and &#39;/t/&#39; into &#39;3_3_/t/_/t/&#39;\r\n    Pair.of(&quot;&quot;, &quot;&quot;)        // &#39;&#39;    and &#39;&#39;    into &#39;0_0__&#39;\r\n\r\nThis works because the beginning creates a way to parse the following using a delimiter that cannot exist with numbers, it would fail if one used a delimiter like &#39;0&#39;\r\n\r\nThe other examples rely on the delimiter not existing in either string\r\n\r\n    str1+&quot;.&quot;+str2\r\n    // both &quot;..&quot;,&quot;.&quot; and &quot;.&quot;,&quot;..&quot; result in &quot;....&quot;\r\n\r\n**EDIT**\r\n\r\nSupport for combining &#39;n&#39; strings\r\n\r\n    private static String getUniqueString(String...srcs) {\r\n      StringBuilder uniqueCombo = new StringBuilder();\r\n      for (String src : srcs) {\r\n        uniqueCombo.append(src.length());\r\n        uniqueCombo.append(&#39;_&#39;);\r\n      }\r\n      // adding this second _ between numbers and strings allows unique strings across sizes\r\n      uniqueCombo.append(&#39;_&#39;);\r\n      for (String src : srcs) {\r\n        uniqueCombo.append(src);\r\n        uniqueCombo.append(&#39;_&#39;);\r\n      }\r\n      return uniqueCombo.toString();\r\n    }","title":"Generating Unique identifier using two strings","body":"<p>If you don't want to create a UUID just keep it pure strings</p>\n\n<pre><code>String.format(\"%s_%s_%s_%s\", str1.length(), str2.length(), str1, str2);\n</code></pre>\n\n<p>tested with the following</p>\n\n<pre><code>Pair.of(\"a\", \"\"),      // 'a'   and ''    into '1_0_a_'\nPair.of(\"\", \"a\"),      // ''    and 'a'   into '0_1__a'\nPair.of(\"a\", \"a\"),     // 'a'   and 'a'   into '1_1_a_a'\nPair.of(\"aa\", \"a\"),    // 'aa'  and 'a'   into '2_1_aa_a'\nPair.of(\"a\", \"aa\"),    // 'a'   and 'aa'  into '1_2_a_aa'\nPair.of(\"_\", \"\"),      // '_'   and ''    into '1_0___'\nPair.of(\"\", \"_\"),      // ''    and '_'   into '0_1___'\nPair.of(\"__\", \"_\"),    // '__'  and '_'   into '2_1_____'\nPair.of(\"_\", \"__\"),    // '_'   and '__'  into '1_2_____'\nPair.of(\"__\", \"__\"),   // '__'  and '__'  into '2_2______'\nPair.of(\"/t/\", \"/t/\"), // '/t/' and '/t/' into '3_3_/t/_/t/'\nPair.of(\"\", \"\")        // ''    and ''    into '0_0__'\n</code></pre>\n\n<p>This works because the beginning creates a way to parse the following using a delimiter that cannot exist with numbers, it would fail if one used a delimiter like '0'</p>\n\n<p>The other examples rely on the delimiter not existing in either string</p>\n\n<pre><code>str1+\".\"+str2\n// both \"..\",\".\" and \".\",\"..\" result in \"....\"\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Support for combining 'n' strings</p>\n\n<pre><code>private static String getUniqueString(String...srcs) {\n  StringBuilder uniqueCombo = new StringBuilder();\n  for (String src : srcs) {\n    uniqueCombo.append(src.length());\n    uniqueCombo.append('_');\n  }\n  // adding this second _ between numbers and strings allows unique strings across sizes\n  uniqueCombo.append('_');\n  for (String src : srcs) {\n    uniqueCombo.append(src);\n    uniqueCombo.append('_');\n  }\n  return uniqueCombo.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15011428,"reputation":373,"user_id":10835795,"display_name":"C.M Talha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650201604,"creation_date":1650201604,"answer_id":71902234,"question_id":17030498,"body_markdown":"The best way of preserving the uniqueness of identifiers using two strings is to first check their hashcode and then join them based upon any condition you want\r\neither lower or greater. in the end, you will always get the same unique Key each time.\r\n\r\n    void main() {\r\n    \r\n      print(join(&#39;String1&#39;, &#39;String2&#39;));\r\n      print(join(&#39;String2&#39;, &#39;String1&#39;));\r\n      print(join(&#39;Hello&#39;, &#39;World&#39;));\r\n      print(join(&#39;World&#39;, &#39;Hello&#39;));\r\n    }\r\n    \r\n    String join (String str1, String str2) {\r\n      String result = &#39;&#39;;\r\n         if (str1.hashCode &lt;= str2.hashCode) {\r\n          result = &#39;$str1-$str2&#39;;\r\n        } else {\r\n          result = &#39;$str2-$str1&#39;;\r\n        }\r\n      return result;\r\n    }\r\n\r\n\r\n[![Results][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/0KYtm.png\r\n\r\nSame as the above code you can order the strings and then do perform any operations to get a unique key.","title":"Generating Unique identifier using two strings","body":"<p>The best way of preserving the uniqueness of identifiers using two strings is to first check their hashcode and then join them based upon any condition you want\neither lower or greater. in the end, you will always get the same unique Key each time.</p>\n<pre><code>void main() {\n\n  print(join('String1', 'String2'));\n  print(join('String2', 'String1'));\n  print(join('Hello', 'World'));\n  print(join('World', 'Hello'));\n}\n\nString join (String str1, String str2) {\n  String result = '';\n     if (str1.hashCode &lt;= str2.hashCode) {\n      result = '$str1-$str2';\n    } else {\n      result = '$str2-$str1';\n    }\n  return result;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0KYtm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0KYtm.png\" alt=\"Results\" /></a></p>\n<p>Same as the above code you can order the strings and then do perform any operations to get a unique key.</p>\n"}],"owner":{"account_id":2061858,"reputation":417,"user_id":1838210,"accept_rate":25,"display_name":"thilinistg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6197,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1650201604,"creation_date":1370889231,"question_id":17030498,"body_markdown":"I would like to get an idea on how can we generate an unique identifier using two Strings. My requirement here is to generate an unique identifier for a particular document. For id generation, document &#39;name&#39; and &#39;version&#39; has to be used. And there should be a way to get back both &#39;name&#39; and &#39;version&#39; from the unique identifier of a particular document. Is there  a way to do this using UUID in java? or what is the best way of doing this. Can we use hashing or encoding for this purpose and if so how?","title":"Generating Unique identifier using two strings","body":"<p>I would like to get an idea on how can we generate an unique identifier using two Strings. My requirement here is to generate an unique identifier for a particular document. For id generation, document 'name' and 'version' has to be used. And there should be a way to get back both 'name' and 'version' from the unique identifier of a particular document. Is there  a way to do this using UUID in java? or what is the best way of doing this. Can we use hashing or encoding for this purpose and if so how?</p>\n"},{"tags":["java","windows","file","properties"],"comments":[{"owner":{"account_id":2098653,"reputation":689,"user_id":1866870,"accept_rate":33,"display_name":"Tzach Solomon"},"score":0,"creation_date":1473850172,"post_id":39488151,"comment_id":66294807,"body_markdown":"This question was already asked without an answer [http://stackoverflow.com/questions/11132939/how-to-show-properties-window-of-native-file-systems-file-folder-in-java](http://stackoverflow.com/questions/11132939/how-to-show-properties-window-of-native-file-systems-file-folder-in-java)","body":"This question was already asked without an answer <a href=\"http://stackoverflow.com/questions/11132939/how-to-show-properties-window-of-native-file-systems-file-folder-in-java\">http://stackoverflow.com/questions/11132939/how-to-show-prop&zwnj;&#8203;erties-window-of-nat&zwnj;&#8203;ive-file-systems-fil&zwnj;&#8203;e-folder-in-java</a>"},{"owner":{"account_id":2098653,"reputation":689,"user_id":1866870,"accept_rate":33,"display_name":"Tzach Solomon"},"score":0,"creation_date":1473851013,"post_id":39488151,"comment_id":66295298,"body_markdown":"I think your best option is to use  [java native access](https://github.com/java-native-access) and than try to use the following code [http://stackoverflow.com/a/33472984/1866870](http://stackoverflow.com/a/33472984/1866870)","body":"I think your best option is to use  <a href=\"https://github.com/java-native-access\" rel=\"nofollow noreferrer\">java native access</a> and than try to use the following code <a href=\"http://stackoverflow.com/a/33472984/1866870\">http://stackoverflow.com/a/33472984/1866870</a>"}],"answers":[{"tags":[],"owner":{"account_id":2098653,"reputation":689,"user_id":1866870,"accept_rate":33,"display_name":"Tzach Solomon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1473857381,"creation_date":1473857381,"answer_id":39490893,"question_id":39488151,"body_markdown":"I was able to display the file properties window using the following:\r\n\r\n* Go to https://oss.sonatype.org/content/repositories/snapshots/net/java/dev/jna/\r\n* Download the snapshot JARs jna-4.3.0-20160510.203907-1.jar and jna-platform-4.3.0-20160510.204004-1.jar (We can&#39;t use the latest version that is located at maven repo since it&#39;s 4.2.2 and it does not have the SHELLEXECUTEINFO)\r\n* Load the jars and paste the following code below\r\n\r\nThis should display the properties window with a delay of 3 seconds. Notice that alk talked about passing the window through hwnd member if you don&#39;t want it to auto close after the 3 seconds\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n            ShellAPI.SHELLEXECUTEINFO shellExecuteInfo = new ShellAPI.SHELLEXECUTEINFO();\r\n            shellExecuteInfo.lpFile = &quot;C:\\\\setup.log&quot;;\r\n            shellExecuteInfo.nShow = User32.SW_SHOW;\r\n            shellExecuteInfo.fMask = 0x0000000C;\r\n            shellExecuteInfo.lpVerb = &quot;properties&quot;;\r\n            if (Shell32.INSTANCE.ShellExecuteEx(shellExecuteInfo)){\r\n                Thread.sleep(3000);\r\n            }\r\n        }\r\n\r\n","title":"Open a file&#39;s properties window using Java","body":"<p>I was able to display the file properties window using the following:</p>\n\n<ul>\n<li>Go to <a href=\"https://oss.sonatype.org/content/repositories/snapshots/net/java/dev/jna/\" rel=\"nofollow\">https://oss.sonatype.org/content/repositories/snapshots/net/java/dev/jna/</a></li>\n<li>Download the snapshot JARs jna-4.3.0-20160510.203907-1.jar and jna-platform-4.3.0-20160510.204004-1.jar (We can't use the latest version that is located at maven repo since it's 4.2.2 and it does not have the SHELLEXECUTEINFO)</li>\n<li>Load the jars and paste the following code below</li>\n</ul>\n\n<p>This should display the properties window with a delay of 3 seconds. Notice that alk talked about passing the window through hwnd member if you don't want it to auto close after the 3 seconds</p>\n\n<pre><code>public static void main(String[] args) throws InterruptedException {\n        ShellAPI.SHELLEXECUTEINFO shellExecuteInfo = new ShellAPI.SHELLEXECUTEINFO();\n        shellExecuteInfo.lpFile = \"C:\\\\setup.log\";\n        shellExecuteInfo.nShow = User32.SW_SHOW;\n        shellExecuteInfo.fMask = 0x0000000C;\n        shellExecuteInfo.lpVerb = \"properties\";\n        if (Shell32.INSTANCE.ShellExecuteEx(shellExecuteInfo)){\n            Thread.sleep(3000);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650201048,"creation_date":1616947634,"answer_id":66843439,"question_id":39488151,"body_markdown":"The Windows API call [SHObjectProperties][1] will also launch Windows file property dialog. You could call from JNA, JNI or try JDK Panama / Foreign Memory API available as incubator in JDK16 or above.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/api/shlobj_core/nf-shlobj_core-shobjectproperties","title":"Open a file&#39;s properties window using Java","body":"<p>The Windows API call <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/shlobj_core/nf-shlobj_core-shobjectproperties\" rel=\"nofollow noreferrer\">SHObjectProperties</a> will also launch Windows file property dialog. You could call from JNA, JNI or try JDK Panama / Foreign Memory API available as incubator in JDK16 or above.</p>\n"}],"owner":{"account_id":3771295,"reputation":7247,"user_id":3133418,"accept_rate":100,"display_name":"nick zoum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":39490893,"answer_count":2,"score":0,"last_activity_date":1650201048,"creation_date":1473848925,"question_id":39488151,"body_markdown":"This is a question only regarding Java in Windows.\r\n\r\nI need a method that will call this window:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo essentially the method should be something like:\r\n\r\n    public void openProperties(File file){ // or String fileName\r\n\r\n    }\r\n\r\nSo the statement: `opernProperties(new File(test.txt));` should open the above window.\r\n\r\nSo just to clarify, I do not want to read and manage the properties. I just want to open the properties window.\r\n\r\n  [1]: http://i.stack.imgur.com/yQSCW.png","title":"Open a file&#39;s properties window using Java","body":"<p>This is a question only regarding Java in Windows.</p>\n\n<p>I need a method that will call this window:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yQSCW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yQSCW.png\" alt=\"enter image description here\"></a></p>\n\n<p>So essentially the method should be something like:</p>\n\n<pre><code>public void openProperties(File file){ // or String fileName\n\n}\n</code></pre>\n\n<p>So the statement: <code>opernProperties(new File(test.txt));</code> should open the above window.</p>\n\n<p>So just to clarify, I do not want to read and manage the properties. I just want to open the properties window.</p>\n"},{"tags":["java","spring","spring-boot","transactions"],"comments":[{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":0,"creation_date":1650022340,"post_id":71883216,"comment_id":127024561,"body_markdown":"@TheOnly1 Could you please add more real code?","body":"@TheOnly1 Could you please add more real code?"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1650022889,"post_id":71883216,"comment_id":127024706,"body_markdown":"@v.ladynev yea, I was slightly wrong, I didn&#39;t saw that ```@Transactional``` on first class. I couldn&#39;t edit first comment so I deleted it. Anyway according to this example with default propagation of ```@Transactional``` the transaction should be set only on doSomething method, and persist should occur after leaving this function. ```@Transactional``` on class B and C won&#39;t matter because spring will detect that there is an active transaction and won&#39;t create new one.","body":"@v.ladynev yea, I was slightly wrong, I didn&#39;t saw that <code>@Transactional</code> on first class. I couldn&#39;t edit first comment so I deleted it. Anyway according to this example with default propagation of <code>@Transactional</code> the transaction should be set only on doSomething method, and persist should occur after leaving this function. <code>@Transactional</code> on class B and C won&#39;t matter because spring will detect that there is an active transaction and won&#39;t create new one."},{"owner":{"account_id":19490271,"reputation":21,"user_id":14258583,"display_name":"TheOnly1"},"score":0,"creation_date":1650113695,"post_id":71883216,"comment_id":127042501,"body_markdown":"@TuanHoang, thank you for answer. I understand, that in normal way I need to commit transaction. The question is more about &quot;Can Spring or Hibernate find not flushed entity in transaction context? Or there are some other ways to do it?&quot;","body":"@TuanHoang, thank you for answer. I understand, that in normal way I need to commit transaction. The question is more about &quot;Can Spring or Hibernate find not flushed entity in transaction context? Or there are some other ways to do it?&quot;"},{"owner":{"account_id":5194410,"reputation":616,"user_id":4156237,"display_name":"Tuan Hoang"},"score":0,"creation_date":1650212776,"post_id":71883216,"comment_id":127058787,"body_markdown":"@v.ladynev thank you for correcting me. @ TheOnly1,in that case, I am sorry about that, and I would like to delete the comment for less confusion.","body":"@v.ladynev thank you for correcting me. @ TheOnly1,in that case, I am sorry about that, and I would like to delete the comment for less confusion."},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":0,"creation_date":1650279158,"post_id":71883216,"comment_id":127070898,"body_markdown":"@TuanHoang Always ready to help :)","body":"@TuanHoang Always ready to help :)"}],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650200611,"creation_date":1650023727,"answer_id":71883707,"question_id":71883216,"body_markdown":"**How saving works**\r\n\r\n1. `repository.save()` doesn&#39;t save anything to database, this method puts entity to the session (persistent context) in memory.\r\n\r\n2.  flush step — on this step actual `SQL insert` happens. It can be invoked manually `repository.saveAndFlush()`, `repository.flush()`. Hibernate can do flush in the background, before operations that can use saved to the database value, like JPQL statements.\r\nAlso flush happens when the end of `@Transactional` boundary is reached.\r\n\r\n**What can be an issue**\r\n\r\nYou are using incorrect method. This method from the old version of Spring data and it doesn&#39;t perform search in the database. You have to use `findById()` method instead.\r\n\r\n[Hibernate: findById vs getbyId](https://stackoverflow.com/questions/69109649/hibernate-findbyid-vs-getbyid)\r\n\r\nThe most simple way, if you want to use id after save — flush the data immediately.\r\n```java\r\nEntity entity = new Entity(some_information);\r\nrepository.saveAndFlush(entity);\r\n\r\nEntity findedEntity = repository.findById(entity.getId())\r\n  .orElseThrow(() -&gt; new RuntimeException(&quot;Can&#39;t find id=&quot; + entity.getId()));\r\n```\r\n\r\nHibernate will not necessary perform SQL `select` to get `findedEntity`. It can get it from the session, if it happens in the same `@Transactional` boundaries.\r\nSo if the above code resides in the method with `@Transaction` SQL will not performed. if there is not `@Transaction` SQL will be performed.\r\n\r\n**About this question**\r\n\r\n&gt; &quot;Can Spring or Hibernate find not flushed entity in transaction context? Or there are some other ways to do it?&quot;\r\n\r\nHibernate can&#39;t find not flushed entity. if `id` is autogenerated, Hibernate needs to perform `SQL INSERT` (flush) to get the id from a database. Another option to set up an id manually. Probably in this case it will be possible to get an entity from the persistent context.","title":"Spring @Transactional managing entities","body":"<p><strong>How saving works</strong></p>\n<ol>\n<li><p><code>repository.save()</code> doesn't save anything to database, this method puts entity to the session (persistent context) in memory.</p>\n</li>\n<li><p>flush step — on this step actual <code>SQL insert</code> happens. It can be invoked manually <code>repository.saveAndFlush()</code>, <code>repository.flush()</code>. Hibernate can do flush in the background, before operations that can use saved to the database value, like JPQL statements.\nAlso flush happens when the end of <code>@Transactional</code> boundary is reached.</p>\n</li>\n</ol>\n<p><strong>What can be an issue</strong></p>\n<p>You are using incorrect method. This method from the old version of Spring data and it doesn't perform search in the database. You have to use <code>findById()</code> method instead.</p>\n<p><a href=\"https://stackoverflow.com/questions/69109649/hibernate-findbyid-vs-getbyid\">Hibernate: findById vs getbyId</a></p>\n<p>The most simple way, if you want to use id after save — flush the data immediately.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Entity entity = new Entity(some_information);\nrepository.saveAndFlush(entity);\n\nEntity findedEntity = repository.findById(entity.getId())\n  .orElseThrow(() -&gt; new RuntimeException(&quot;Can't find id=&quot; + entity.getId()));\n</code></pre>\n<p>Hibernate will not necessary perform SQL <code>select</code> to get <code>findedEntity</code>. It can get it from the session, if it happens in the same <code>@Transactional</code> boundaries.\nSo if the above code resides in the method with <code>@Transaction</code> SQL will not performed. if there is not <code>@Transaction</code> SQL will be performed.</p>\n<p><strong>About this question</strong></p>\n<blockquote>\n<p>&quot;Can Spring or Hibernate find not flushed entity in transaction context? Or there are some other ways to do it?&quot;</p>\n</blockquote>\n<p>Hibernate can't find not flushed entity. if <code>id</code> is autogenerated, Hibernate needs to perform <code>SQL INSERT</code> (flush) to get the id from a database. Another option to set up an id manually. Probably in this case it will be possible to get an entity from the persistent context.</p>\n"}],"owner":{"account_id":19490271,"reputation":21,"user_id":14258583,"display_name":"TheOnly1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650200611,"creation_date":1650020525,"question_id":71883216,"body_markdown":"I have some uncatchable bug in my work.\r\n\r\nFor example, I have code that looks like this:\r\n\r\n    @Entity\r\n    public class Message {\r\n        @Id\r\n        @GeneratedValue(strategy = SEQUENCE, generator = &quot;message_generator&quot;)\r\n        private long id;\r\n    \r\n        private long massMessageId;\r\n    }\r\n    \r\n    public class MessageDTO {\r\n        public final long id;\r\n        public final long massMessageId;\r\n    }\r\n\r\n    @Transactional\r\n    @Service\r\n    public class ExtendedMessageService {\r\n       private MessageService messageService;\r\n    \r\n       public MessageDTO createMessage(MessageCreateDTO createDTO) {\r\n           var messageDTO = messageService.create();\r\n           return messageService.linkMassMessage(messageDTO.id, createDTO.massMessageId);\r\n       }\r\n    }\r\n    \r\n    @Transactional\r\n    @Service\r\n    public class MessageService {\r\n        private final MessageRepository repository;\r\n        private final ObjectMapper mapper;\r\n    \r\n        public MessageDTO create() {\r\n             var message = new Message();\r\n             var savedMessage = repository.save(message);\r\n             return mapper.map(savedMessage, MessageDTO.class);\r\n        }\r\n        \r\n        public MessageDTO linkMassMessage(long messageId, long massMessageId) {\r\n             var message = repository.findById(messageId)\r\n                 .orElseThrow(() -&gt; new ObjectNotFoundException(&quot;Message with id &quot; + id + &quot; was not found&quot;));\r\n             return mapper.map(repository.save(message.setMassMessageId(massMessageId)), MessageDTO.class);\r\n        }\r\n    }\r\n\r\n\r\nWhat will happen in this situation? I have some bugs, when repository.findById(id) can&#39;t find entity and throws exception.\r\nAnd i have no reason, why this bug is only on prod (i tried to repeat it on dev and nothing succeeded)\r\n\r\nAnd when i try to find the reason of it, i get a question:\r\n&quot;Can i save entity and get it in one transaction in Spring?&quot;","title":"Spring @Transactional managing entities","body":"<p>I have some uncatchable bug in my work.</p>\n<p>For example, I have code that looks like this:</p>\n<pre><code>@Entity\npublic class Message {\n    @Id\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;message_generator&quot;)\n    private long id;\n\n    private long massMessageId;\n}\n\npublic class MessageDTO {\n    public final long id;\n    public final long massMessageId;\n}\n\n@Transactional\n@Service\npublic class ExtendedMessageService {\n   private MessageService messageService;\n\n   public MessageDTO createMessage(MessageCreateDTO createDTO) {\n       var messageDTO = messageService.create();\n       return messageService.linkMassMessage(messageDTO.id, createDTO.massMessageId);\n   }\n}\n\n@Transactional\n@Service\npublic class MessageService {\n    private final MessageRepository repository;\n    private final ObjectMapper mapper;\n\n    public MessageDTO create() {\n         var message = new Message();\n         var savedMessage = repository.save(message);\n         return mapper.map(savedMessage, MessageDTO.class);\n    }\n    \n    public MessageDTO linkMassMessage(long messageId, long massMessageId) {\n         var message = repository.findById(messageId)\n             .orElseThrow(() -&gt; new ObjectNotFoundException(&quot;Message with id &quot; + id + &quot; was not found&quot;));\n         return mapper.map(repository.save(message.setMassMessageId(massMessageId)), MessageDTO.class);\n    }\n}\n</code></pre>\n<p>What will happen in this situation? I have some bugs, when repository.findById(id) can't find entity and throws exception.\nAnd i have no reason, why this bug is only on prod (i tried to repeat it on dev and nothing succeeded)</p>\n<p>And when i try to find the reason of it, i get a question:\n&quot;Can i save entity and get it in one transaction in Spring?&quot;</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":36529,"reputation":6827,"user_id":104237,"accept_rate":56,"display_name":"Martin Ille"},"score":0,"creation_date":1414938020,"post_id":26700304,"comment_id":41994234,"body_markdown":"Or another example: http://www.programcreek.com/2009/06/prototype-of-database-class/","body":"Or another example: <a href=\"http://www.programcreek.com/2009/06/prototype-of-database-class/\" rel=\"nofollow noreferrer\">programcreek.com/2009/06/prototype-of-database-class</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1414941107,"post_id":26700304,"comment_id":41995174,"body_markdown":"possible duplicate of [Returning a ResultSet](http://stackoverflow.com/questions/14853508/returning-a-resultset)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/14853508/returning-a-resultset\">Returning a ResultSet</a>"}],"answers":[{"tags":[],"owner":{"account_id":3371777,"reputation":4674,"user_id":2830834,"accept_rate":75,"display_name":"Sagar Pudi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1414938041,"creation_date":1414938041,"answer_id":26700334,"question_id":26700304,"body_markdown":"Returning result set is not a good idea. So,fetch the required data and make use of collection to return the data.\r\n[This answer may be useful](https://stackoverflow.com/a/14853625/2830834)","title":"Returning ResultSet without close?","body":"<p>Returning result set is not a good idea. So,fetch the required data and make use of collection to return the data.\n<a href=\"https://stackoverflow.com/a/14853625/2830834\">This answer may be useful</a></p>\n"},{"tags":[],"owner":{"account_id":1344426,"reputation":1432,"user_id":1285431,"accept_rate":41,"display_name":"mzzzzb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414939234,"creation_date":1414939234,"answer_id":26700526,"question_id":26700304,"body_markdown":"How about passing a callback that takes `ResultSet` as parameter and let client code do whatever needs to inside it while you make sure that everything is cleaned up afterwards. \r\n\r\nThis is pattern in used in spring JDBC `ResultSetExtractor` and `RowMapper`. Look at [this answer](https://stackoverflow.com/questions/12793165/spring-resultsetextractor). ","title":"Returning ResultSet without close?","body":"<p>How about passing a callback that takes <code>ResultSet</code> as parameter and let client code do whatever needs to inside it while you make sure that everything is cleaned up afterwards. </p>\n\n<p>This is pattern in used in spring JDBC <code>ResultSetExtractor</code> and <code>RowMapper</code>. Look at <a href=\"https://stackoverflow.com/questions/12793165/spring-resultsetextractor\">this answer</a>. </p>\n"},{"tags":[],"owner":{"account_id":14899946,"reputation":11,"user_id":10759075,"display_name":"nickf2k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564682753,"creation_date":1564643508,"answer_id":57303581,"question_id":26700304,"body_markdown":"You can&#39;t return `ResultSet` because it will be closed when method destroyed. But you can get raw data from `ResultSet`, try this:\r\n\r\n    public ArrayList&lt;ArrayList&lt;byte[]&gt;&gt; getResultQuery(String query){\r\n        ArrayList&lt;ArrayList&lt;byte[]&gt;&gt; tableResult = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;byte[]&gt; row;\r\n        conn = getConnection(db_url);\r\n        try {\r\n            Statement statement = conn.createStatement();\r\n            ResultSet resultSet = statement.executeQuery(query);\r\n            int countColumn = resultSet.getMetaData().getColumnCount();\r\n            if (countColumn==0) return null;\r\n            while (resultSet.next()){\r\n                row = new ArrayList&lt;&gt;();\r\n                for (int i = 0; i&lt;countColumn; i++){\r\n                    row.add(i,resultSet.getBytes(i+1));\r\n                }\r\n                tableResult.add(row);\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return tableResult;\r\n    }\r\n\r\n    public static Connection getConnection (String db_url){\r\n        Connection conn = null;\r\n        try{\r\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n            conn = DriverManager.getConnection(db_url);\r\n        }catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n        return conn;\r\n    }\r\nIn this, i try to return `ArrayList` of `ArrayList&lt;byte[]&gt;`, `ArrayList&lt;byte[]&gt; = 1 row` in `ResultSet`. If you want to get some value, just use `row.get(i)` to get value from `column i+1` in `ResultSet` which look like a 2 dimensions Matrix ","title":"Returning ResultSet without close?","body":"<p>You can't return <code>ResultSet</code> because it will be closed when method destroyed. But you can get raw data from <code>ResultSet</code>, try this:</p>\n\n<pre><code>public ArrayList&lt;ArrayList&lt;byte[]&gt;&gt; getResultQuery(String query){\n    ArrayList&lt;ArrayList&lt;byte[]&gt;&gt; tableResult = new ArrayList&lt;&gt;();\n    ArrayList&lt;byte[]&gt; row;\n    conn = getConnection(db_url);\n    try {\n        Statement statement = conn.createStatement();\n        ResultSet resultSet = statement.executeQuery(query);\n        int countColumn = resultSet.getMetaData().getColumnCount();\n        if (countColumn==0) return null;\n        while (resultSet.next()){\n            row = new ArrayList&lt;&gt;();\n            for (int i = 0; i&lt;countColumn; i++){\n                row.add(i,resultSet.getBytes(i+1));\n            }\n            tableResult.add(row);\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    return tableResult;\n}\n\npublic static Connection getConnection (String db_url){\n    Connection conn = null;\n    try{\n        Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n        conn = DriverManager.getConnection(db_url);\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n    return conn;\n}\n</code></pre>\n\n<p>In this, i try to return <code>ArrayList</code> of <code>ArrayList&lt;byte[]&gt;</code>, <code>ArrayList&lt;byte[]&gt; = 1 row</code> in <code>ResultSet</code>. If you want to get some value, just use <code>row.get(i)</code> to get value from <code>column i+1</code> in <code>ResultSet</code> which look like a 2 dimensions Matrix </p>\n"}],"owner":{"account_id":36529,"reputation":6827,"user_id":104237,"accept_rate":56,"display_name":"Martin Ille"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26700334,"answer_count":3,"score":1,"last_activity_date":1650200067,"creation_date":1414937867,"question_id":26700304,"body_markdown":"I would like to have a database connection managing class which I can use for simple `SQL` commands like `SELECT`, `INSERT` etc. by simple calling something like this (class below):\r\n\r\n    ResultSet test = DataService.getResultSet(&quot;SELECT NOW()&quot;);\r\n    test.first();\r\n    System.out.println(test.getString(1));\r\n\r\n\r\nThis is class I&#39;ve found on web:\r\n\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    \r\n    /**\r\n     * Database object to load drivers and perform queries\r\n     * @author Abdulsalam Umar blog.salamtura.com\r\n     */\r\n    public class DataService {\r\n    \r\n        private static Connection con;\r\n        private static final String Driver = &quot;oracle.jdbc.driver.OracleDriver&quot;;\r\n        private static final String ConnectionString = &quot;Your database connection string&quot;;\r\n        private static final String user = &quot;username&quot;;\r\n        private static final String pwd = &quot;password&quot;;\r\n    \r\n        /**\r\n         * create Database object\r\n         */\r\n        public DataService() {\r\n        }\r\n    \r\n        /**\r\n         * to load the database base driver\r\n         * @return a database connection\r\n         * @throws SQLException throws an exception if an error occurs\r\n         */\r\n        public static Connection loadDriver() throws SQLException {\r\n            try {\r\n                Class.forName(Driver);\r\n            } catch (ClassNotFoundException ex) {\r\n                System.out.println(ex.getMessage());\r\n            }\r\n            con = DriverManager.getConnection(ConnectionString, user, pwd);\r\n            return con;\r\n        }\r\n    \r\n        /**\r\n         * to get a result set of a query\r\n         * @param query custom query\r\n         * @return a result set of custom query\r\n         * @throws SQLException throws an exception if an error occurs\r\n         */\r\n        public static ResultSet getResultSet(String query) throws SQLException {\r\n            Connection con = loadDriver();\r\n            ResultSet rs;\r\n            PreparedStatement st = con.prepareStatement(query);\r\n            rs = st.executeQuery();\r\n    \r\n            return rs;\r\n        }\r\n    \r\n        /**\r\n         * to run an update query such as update, delete\r\n         * @param query custom query\r\n         * @throws SQLException throws an exception if an error occurs\r\n         */\r\n        public static void runQuery(String query) throws SQLException {\r\n            Connection con = loadDriver();\r\n            ResultSet rs;\r\n            PreparedStatement st = con.prepareStatement(query);\r\n            st.executeUpdate();\r\n        }\r\n    }\r\n\r\nIs this way of returning `ResultSet` without closing it (and closing the statement) right? How can I return the `ResultSet` from the method?","title":"Returning ResultSet without close?","body":"<p>I would like to have a database connection managing class which I can use for simple <code>SQL</code> commands like <code>SELECT</code>, <code>INSERT</code> etc. by simple calling something like this (class below):</p>\n<pre><code>ResultSet test = DataService.getResultSet(&quot;SELECT NOW()&quot;);\ntest.first();\nSystem.out.println(test.getString(1));\n</code></pre>\n<p>This is class I've found on web:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\n/**\n * Database object to load drivers and perform queries\n * @author Abdulsalam Umar blog.salamtura.com\n */\npublic class DataService {\n\n    private static Connection con;\n    private static final String Driver = &quot;oracle.jdbc.driver.OracleDriver&quot;;\n    private static final String ConnectionString = &quot;Your database connection string&quot;;\n    private static final String user = &quot;username&quot;;\n    private static final String pwd = &quot;password&quot;;\n\n    /**\n     * create Database object\n     */\n    public DataService() {\n    }\n\n    /**\n     * to load the database base driver\n     * @return a database connection\n     * @throws SQLException throws an exception if an error occurs\n     */\n    public static Connection loadDriver() throws SQLException {\n        try {\n            Class.forName(Driver);\n        } catch (ClassNotFoundException ex) {\n            System.out.println(ex.getMessage());\n        }\n        con = DriverManager.getConnection(ConnectionString, user, pwd);\n        return con;\n    }\n\n    /**\n     * to get a result set of a query\n     * @param query custom query\n     * @return a result set of custom query\n     * @throws SQLException throws an exception if an error occurs\n     */\n    public static ResultSet getResultSet(String query) throws SQLException {\n        Connection con = loadDriver();\n        ResultSet rs;\n        PreparedStatement st = con.prepareStatement(query);\n        rs = st.executeQuery();\n\n        return rs;\n    }\n\n    /**\n     * to run an update query such as update, delete\n     * @param query custom query\n     * @throws SQLException throws an exception if an error occurs\n     */\n    public static void runQuery(String query) throws SQLException {\n        Connection con = loadDriver();\n        ResultSet rs;\n        PreparedStatement st = con.prepareStatement(query);\n        st.executeUpdate();\n    }\n}\n</code></pre>\n<p>Is this way of returning <code>ResultSet</code> without closing it (and closing the statement) right? How can I return the <code>ResultSet</code> from the method?</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":19814986,"reputation":386,"user_id":14512907,"display_name":"Yannis Sauzeau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650199913,"creation_date":1650199913,"answer_id":71902035,"question_id":71901997,"body_markdown":"Try to use `androidx.constraintlayout.widget.Guideline` instead of `android.support.constraint.Guideline`\r\n\r\n```xml\r\n            &lt;androidx.constraintlayout.widget.Guideline\r\n                android:id=&quot;@+id/guideline&quot;\r\n                android:layout_width=&quot;1dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                app:layout_constraintGuide_percent=&quot;0.5&quot;/&gt;\r\n```","title":"GuideLine problem Android Studio - ClassNotFoundException","body":"<p>Try to use <code>androidx.constraintlayout.widget.Guideline</code> instead of <code>android.support.constraint.Guideline</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;androidx.constraintlayout.widget.Guideline\n                android:id=&quot;@+id/guideline&quot;\n                android:layout_width=&quot;1dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintGuide_percent=&quot;0.5&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":24967093,"reputation":39,"user_id":18830542,"display_name":"Doublementi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71902035,"answer_count":1,"score":0,"last_activity_date":1650199913,"creation_date":1650199626,"question_id":71901997,"body_markdown":"I have problem with GuideLine, does someone know the solution?\r\n\r\nIt look like the guideline is missing classes\r\n\r\nThe following classes could not be found:\r\n-&#160;android.support.constraint.Guideline (Fix Build Path, Edit XML, Create Class)\r\n\r\nLogcat after button click:\r\n\r\n[Guideline problem][1]\r\n\r\nXML Code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;350dp&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_gravity=&quot;center&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:cardCornerRadius=&quot;20dp&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;android.support.constraint.Guideline               &lt;!-- THAT&#39;S THE PROBLEM --&gt;\r\n                android:id=&quot;@+id/guideline&quot;\r\n                android:layout_width=&quot;1dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                app:layout_constraintGuide_percent=&quot;0.5&quot;/&gt;\r\n\r\n           \r\n\r\n           \r\n\r\n            &lt;!-- ... here are more similar textView&#39;s --&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_batteryDrainNum&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;32dp&quot;\r\n                android:text=&quot;0&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textSize=&quot;25sp&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintLeft_toRightOf=&quot;@+id/guideline&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tv_batteryDrain&quot; /&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nBuild Gradle:\r\n\r\n```\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.4&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:18.0.2&#39;\r\n    implementation &#39;com.github.anastr:speedviewlib:1.5.4&#39;\r\n    implementation &#39;androidx.gridlayout:gridlayout:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n}\r\n```\r\n  [1]: https://i.stack.imgur.com/0KR9t.png","title":"GuideLine problem Android Studio - ClassNotFoundException","body":"<p>I have problem with GuideLine, does someone know the solution?</p>\n<p>It look like the guideline is missing classes</p>\n<p>The following classes could not be found:\n- android.support.constraint.Guideline (Fix Build Path, Edit XML, Create Class)</p>\n<p>Logcat after button click:</p>\n<p><a href=\"https://i.stack.imgur.com/0KR9t.png\" rel=\"nofollow noreferrer\">Guideline problem</a></p>\n<p>XML Code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;350dp&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:cardCornerRadius=&quot;20dp&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;android.support.constraint.Guideline               &lt;!-- THAT'S THE PROBLEM --&gt;\n                android:id=&quot;@+id/guideline&quot;\n                android:layout_width=&quot;1dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintGuide_percent=&quot;0.5&quot;/&gt;\n\n           \n\n           \n\n            &lt;!-- ... here are more similar textView's --&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_batteryDrainNum&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;32dp&quot;\n                android:text=&quot;0&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textSize=&quot;25sp&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintLeft_toRightOf=&quot;@+id/guideline&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tv_batteryDrain&quot; /&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Build Gradle:</p>\n<pre><code>dependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.3.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'com.google.firebase:firebase-auth:21.0.3'\n    implementation 'com.google.firebase:firebase-database:20.0.4'\n    implementation 'com.google.android.gms:play-services-maps:18.0.2'\n    implementation 'com.github.anastr:speedviewlib:1.5.4'\n    implementation 'androidx.gridlayout:gridlayout:1.0.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1649968286,"post_id":71877243,"comment_id":127014470,"body_markdown":"What are you having trouble with specifically? Android Studio has commands for converting Java files to Kotlin, although it usually requires some manual clean-up after conversion.","body":"What are you having trouble with specifically? Android Studio has commands for converting Java files to Kotlin, although it usually requires some manual clean-up after conversion."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1649971757,"post_id":71877243,"comment_id":127015337,"body_markdown":"You can just do ``frasesst.random()`` to get a random element from a collection","body":"You can just do <code>frasesst.random()</code> to get a random element from a collection"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1649975130,"post_id":71877243,"comment_id":127016032,"body_markdown":"More current language? Java 18 came out just a few days ago, Java 19 is in the works. https://en.wikipedia.org/wiki/Java_version_history","body":"More current language? Java 18 came out just a few days ago, Java 19 is in the works. <a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_version_history</a>"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1650027873,"post_id":71877243,"comment_id":127026179,"body_markdown":"@Robert, Android only supports up to Java 8. One of the reasons Kotlin became the primary language for use on Android is that it has more modern features but still compiles Java 8-compatible bytecode. Anyway, Java is lagging Kotlin and C# in some modern and not-so-modern improvements. (null-safety operators, inlined methods, declaration-site generic type variance, primary/secondary constructors, properties, coroutines)","body":"@Robert, Android only supports up to Java 8. One of the reasons Kotlin became the primary language for use on Android is that it has more modern features but still compiles Java 8-compatible bytecode. Anyway, Java is lagging Kotlin and C# in some modern and not-so-modern improvements. (null-safety operators, inlined methods, declaration-site generic type variance, primary/secondary constructors, properties, coroutines)"}],"answers":[{"tags":[],"owner":{"account_id":18490605,"reputation":3,"user_id":13470341,"display_name":"guresberatcan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650199837,"creation_date":1650199837,"answer_id":71902025,"question_id":71877243,"body_markdown":"Kotlin version of the code is:\r\n\r\n    val numerosAleatorios = frasesst.random()\r\n    \r\n    frases.setText(frasesst[numerosAleatorios])\r\n\r\nOr you can directly use it like this without using a variable :\r\n\r\n    frases.setText(frasesst[frasesst.random()])\r\n\r\nYou can use Kotlin collections directly so you don&#39;t need this:\r\n\r\n    Random random = new Random()\r\n\r\n","title":"Difficulty making some sentences run randomly when I press the button","body":"<p>Kotlin version of the code is:</p>\n<pre><code>val numerosAleatorios = frasesst.random()\n\nfrases.setText(frasesst[numerosAleatorios])\n</code></pre>\n<p>Or you can directly use it like this without using a variable :</p>\n<pre><code>frases.setText(frasesst[frasesst.random()])\n</code></pre>\n<p>You can use Kotlin collections directly so you don't need this:</p>\n<pre><code>Random random = new Random()\n</code></pre>\n"}],"owner":{"account_id":24939065,"reputation":1,"user_id":18805234,"display_name":"Mateus Vitor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650199837,"creation_date":1649967724,"question_id":71877243,"body_markdown":"My app was built in Java, but I decided to migrate to Kotlin because it is a more current language...\r\nThe app consists of displaying some sentences at random, and for that purpose, I used the code below, but I&#39;m having trouble converting it to Kotlin. Someone who understands more than I could help me with this? To make the app work normally, I just need to be able to translate this code.\r\n\r\nPS.: The attributes &quot;frases&quot;, &quot;frasesst&quot; and &quot;numerosAleatorios&quot;, are in accordance with the names I gave in the project&#39;s source code.\r\n\r\n```\r\nRandom random = new Random(); //gerar n&#250;meros aleat&#243;rios\r\n                int numerosAleatorios = random.nextInt(frasesst.length); //rodar as frases aleat&#243;riamente quando apertar o bot&#227;o\r\n\r\n                frases.setText(frasesst[numerosAleatorios]);\r\n```","title":"Difficulty making some sentences run randomly when I press the button","body":"<p>My app was built in Java, but I decided to migrate to Kotlin because it is a more current language...\nThe app consists of displaying some sentences at random, and for that purpose, I used the code below, but I'm having trouble converting it to Kotlin. Someone who understands more than I could help me with this? To make the app work normally, I just need to be able to translate this code.</p>\n<p>PS.: The attributes &quot;frases&quot;, &quot;frasesst&quot; and &quot;numerosAleatorios&quot;, are in accordance with the names I gave in the project's source code.</p>\n<pre><code>Random random = new Random(); //gerar números aleatórios\n                int numerosAleatorios = random.nextInt(frasesst.length); //rodar as frases aleatóriamente quando apertar o botão\n\n                frases.setText(frasesst[numerosAleatorios]);\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":19226814,"reputation":21,"user_id":14049527,"display_name":"Teo"},"score":0,"creation_date":1650199470,"post_id":71901975,"comment_id":127055983,"body_markdown":"We are using MySql 5.7 in this system","body":"We are using MySql 5.7 in this system"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1650531619,"post_id":71901975,"comment_id":127141517,"body_markdown":"can you put a reproducer to github ?","body":"can you put a reproducer to github ?"}],"owner":{"account_id":19226814,"reputation":21,"user_id":14049527,"display_name":"Teo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650199787,"creation_date":1650199439,"question_id":71901975,"body_markdown":"I have been fighting this issue regarding two entities: User and ProfileInformation.\r\n\r\n**Each user should hold many ProfileInformation instances** but I  get the following error when creating a second ProfileInformation: `Duplicate entry &#39;usernameInQuestion&#39; for key &#39;UK_141232asdas78k552&#39;`. \r\n\r\nWhen checking the database schema for **ProfileInformation** I noticed that the &#39;**username**&#39; field was created as a unique key:\r\n\r\n  \r\n\r\n     `username` varchar(255) DEFAULT NULL,\r\n      PRIMARY KEY (`id`),\r\n      UNIQUE KEY `UK_14113pekuxo8jklda2678k552` (`username`),\r\n      CONSTRAINT `FKt3ewldgdc9d75ji6j5ii7cbrc` FOREIGN KEY (`username`) REFERENCES `users` (`username`)\r\n\r\nI have a very similar relation between ProfileInformation and another entity with the same code (except the naming of the classes and     `@JoinColumn(name = &quot;profileinformation_id&quot;)` ) and this doesn&#39;t happen:\r\n\r\n    `profileinformation_id` bigint(20) DEFAULT NULL,\r\n      PRIMARY KEY (`id`),\r\n      KEY `FKl5ww2gn1e1wgqcuvraa6p70ya` (`profileinformation_id`),\r\n      CONSTRAINT `FKl5ww2gn1e1wgqcuvraa6p70ya` FOREIGN KEY (`profileinformation_id`) REFERENCES `profileinformationtable` (`id`)\r\n\r\nThis is part of a bigger system and between all the confusion of making this work I attempted to replicate the already working similar situations.\r\n\r\n    public class ProfileInformation\r\n\r\n    [ ... ]\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;username&quot;)\r\n    private User user;\r\n\r\nThe User class is the following (although from what I gather this really doesn&#39;t seem to matter much):\r\n\r\n    public class User\r\n\r\n    [ ... ]\r\n\r\n    @Id\r\n    @Column(name = &quot;username&quot;, nullable = false)\r\n    private String username;\r\n    \r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.EAGER)\r\n    private List&lt;ProfileInformation&gt; infos;\r\n\r\n\r\n","title":"Unable to add multiple entities in ManyToOne mapping due to Unique Key being created","body":"<p>I have been fighting this issue regarding two entities: User and ProfileInformation.</p>\n<p><strong>Each user should hold many ProfileInformation instances</strong> but I  get the following error when creating a second ProfileInformation: <code>Duplicate entry 'usernameInQuestion' for key 'UK_141232asdas78k552'</code>.</p>\n<p>When checking the database schema for <strong>ProfileInformation</strong> I noticed that the '<strong>username</strong>' field was created as a unique key:</p>\n<pre><code> `username` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `UK_14113pekuxo8jklda2678k552` (`username`),\n  CONSTRAINT `FKt3ewldgdc9d75ji6j5ii7cbrc` FOREIGN KEY (`username`) REFERENCES `users` (`username`)\n</code></pre>\n<p>I have a very similar relation between ProfileInformation and another entity with the same code (except the naming of the classes and     <code>@JoinColumn(name = &quot;profileinformation_id&quot;)</code> ) and this doesn't happen:</p>\n<pre><code>`profileinformation_id` bigint(20) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  KEY `FKl5ww2gn1e1wgqcuvraa6p70ya` (`profileinformation_id`),\n  CONSTRAINT `FKl5ww2gn1e1wgqcuvraa6p70ya` FOREIGN KEY (`profileinformation_id`) REFERENCES `profileinformationtable` (`id`)\n</code></pre>\n<p>This is part of a bigger system and between all the confusion of making this work I attempted to replicate the already working similar situations.</p>\n<pre><code>public class ProfileInformation\n\n[ ... ]\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\n@ManyToOne\n@JoinColumn(name=&quot;username&quot;)\nprivate User user;\n</code></pre>\n<p>The User class is the following (although from what I gather this really doesn't seem to matter much):</p>\n<pre><code>public class User\n\n[ ... ]\n\n@Id\n@Column(name = &quot;username&quot;, nullable = false)\nprivate String username;\n\n@OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.EAGER)\nprivate List&lt;ProfileInformation&gt; infos;\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":11113839,"reputation":1926,"user_id":8158692,"display_name":"Baptiste Beauvais"},"score":2,"creation_date":1650201226,"post_id":71902011,"comment_id":127056281,"body_markdown":"Does this help : https://stackoverflow.com/questions/63518376/eclipse-maven-slf4j-class-path-contains-multiple-slf4j-bindings ?","body":"Does this help : <a href=\"https://stackoverflow.com/questions/63518376/eclipse-maven-slf4j-class-path-contains-multiple-slf4j-bindings\" title=\"eclipse maven slf4j class path contains multiple slf4j bindings\">stackoverflow.com/questions/63518376/&hellip;</a> ?"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1650202482,"post_id":71902011,"comment_id":127056528,"body_markdown":"Well, that got rid of the warnings I had. Now I have a different one -- when I start up eclipse, it tells me the &quot;optional&quot; slf4j package is required or some such. I&#39;ll look into that later. Thanks.","body":"Well, that got rid of the warnings I had. Now I have a different one -- when I start up eclipse, it tells me the &quot;optional&quot; slf4j package is required or some such. I&#39;ll look into that later. Thanks."}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650199752,"creation_date":1650199752,"question_id":71902011,"body_markdown":"I get the following warnings in my Maven build:\r\n\r\n&gt; SLF4J: Class path contains multiple SLF4J bindings.\r\n&gt; SLF4J: Found binding in [jar:file:/C:/Users/ralph/.p2/pool/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.16.0.20200610-1735/jars/slf4j-simple-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n&gt; SLF4J: Found binding in [file:/C:/Users/ralph/files/software/eclipse/configuration/org.eclipse.osgi/5/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\r\n&gt; SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n&gt; SLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]\r\n&gt; SLF4J: Class path contains multiple SLF4J bindings.\r\n&gt; SLF4J: Found binding in [jar:file:/C:/Users/ralph/.p2/pool/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.16.0.20200610-1735/jars/slf4j-simple-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n&gt; SLF4J: Found binding in [file:/C:/Users/ralph/files/software/eclipse/configuration/org.eclipse.osgi/5/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\r\n&gt; SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n&gt; SLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]\r\n\r\nI look for explanations and find that I must have a dependency that includes a transient dependency on slf4j. So I generate a dependency tree and find, among everything else, the following lines:\r\n\r\n    ...\r\n    [INFO] +- net.sourceforge.tess4j:tess4j:jar:4.4.1:compile\r\n    [INFO] |  +- net.java.dev.jna:jna:jar:5.4.0:compile\r\n    [INFO] |  +- com.github.jai-imageio:jai-imageio-core:jar:1.4.0:compile\r\n    [INFO] |  +- org.ghost4j:ghost4j:jar:1.0.1:compile\r\n    [INFO] |  |  +- log4j:log4j:jar:1.2.17:compile\r\n    [INFO] |  |  +- commons-beanutils:commons-beanutils:jar:1.9.2:compile\r\n    ...\r\n    [INFO] |  +- ch.qos.logback:logback-classic:jar:1.2.3:compile\r\n    [INFO] |  |  +- ch.qos.logback:logback-core:jar:1.2.3:compile\r\n    [INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.25:compile\r\n    [INFO] |  +- org.slf4j:jul-to-slf4j:jar:1.7.28:compile\r\n    [INFO] |  +- org.slf4j:jcl-over-slf4j:jar:1.7.28:compile\r\n    [INFO] |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.28:compile\r\n\r\n(The lower dependencies in the tree are still within those belonging to tess4j.)\r\n\r\nMy problem is that I don&#39;t know how to translate that to one or more exclusion tags to eliminate the warning message. I tried:\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\r\n\t    &lt;version&gt;4.4.1&lt;/version&gt;\r\n\t    &lt;exclusions&gt;\r\n\t    \t&lt;exclusion&gt;\r\n\t    \t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t    \t&lt;/exclusion&gt;\r\n\t    \t&lt;exclusion&gt;\r\n\t\t    \t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t    \t&lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n\t    \t&lt;/exclusion&gt;\r\n\t    &lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nbut it didn&#39;t have any effect. How do I translate the information from the dependency tree into an exclusion to get rid of my warning message?\r\n","title":"how to eliminate maven slf4j warning","body":"<p>I get the following warnings in my Maven build:</p>\n<blockquote>\n<p>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/C:/Users/ralph/.p2/pool/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.16.0.20200610-1735/jars/slf4j-simple-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [file:/C:/Users/ralph/files/software/eclipse/configuration/org.eclipse.osgi/5/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See <a href=\"http://www.slf4j.org/codes.html#multiple_bindings\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#multiple_bindings</a> for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/C:/Users/ralph/.p2/pool/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.16.0.20200610-1735/jars/slf4j-simple-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [file:/C:/Users/ralph/files/software/eclipse/configuration/org.eclipse.osgi/5/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See <a href=\"http://www.slf4j.org/codes.html#multiple_bindings\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#multiple_bindings</a> for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]</p>\n</blockquote>\n<p>I look for explanations and find that I must have a dependency that includes a transient dependency on slf4j. So I generate a dependency tree and find, among everything else, the following lines:</p>\n<pre><code>...\n[INFO] +- net.sourceforge.tess4j:tess4j:jar:4.4.1:compile\n[INFO] |  +- net.java.dev.jna:jna:jar:5.4.0:compile\n[INFO] |  +- com.github.jai-imageio:jai-imageio-core:jar:1.4.0:compile\n[INFO] |  +- org.ghost4j:ghost4j:jar:1.0.1:compile\n[INFO] |  |  +- log4j:log4j:jar:1.2.17:compile\n[INFO] |  |  +- commons-beanutils:commons-beanutils:jar:1.9.2:compile\n...\n[INFO] |  +- ch.qos.logback:logback-classic:jar:1.2.3:compile\n[INFO] |  |  +- ch.qos.logback:logback-core:jar:1.2.3:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.25:compile\n[INFO] |  +- org.slf4j:jul-to-slf4j:jar:1.7.28:compile\n[INFO] |  +- org.slf4j:jcl-over-slf4j:jar:1.7.28:compile\n[INFO] |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.28:compile\n</code></pre>\n<p>(The lower dependencies in the tree are still within those belonging to tess4j.)</p>\n<p>My problem is that I don't know how to translate that to one or more exclusion tags to eliminate the warning message. I tried:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\n    &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\n    &lt;version&gt;4.4.1&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but it didn't have any effect. How do I translate the information from the dependency tree into an exclusion to get rid of my warning message?</p>\n"},{"tags":["java","android","firebase","pagination","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1565514108,"creation_date":1565514108,"answer_id":57448654,"question_id":57441563,"body_markdown":"To get the number of items that are returned by the query which is passed to the `FirestorePagingOptions` object, you need to use `getItemCount()` method that exist in your adapter class. Because the data from Cloud Firestore is loaded asynchronously, you cannot simply call `getItemCount()` directly in your adapter class, as it will always be **zero**. So in order to get the total number of items, you need to register an observer like in the following lines of code:\r\n\r\n    mAdapter.registerAdapterDataObserver(new RecyclerView.AdapterDataObserver() {\r\n        public void onItemRangeInserted(int positionStart, int itemCount) {\r\n            int totalNumberOfItems = adapter.getItemCount();\r\n            Log.d(TAG, String.valueOf(totalNumberOfItems));\r\n            if(totalNumberOfItems == 0) {\r\n                recyclerView.setVisibility(View.GONE);\r\n                emptyInfoTextView.setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n    });","title":"Firestore Paging Adapter- How to know if query returns 0 results","body":"<p>To get the number of items that are returned by the query which is passed to the <code>FirestorePagingOptions</code> object, you need to use <code>getItemCount()</code> method that exist in your adapter class. Because the data from Cloud Firestore is loaded asynchronously, you cannot simply call <code>getItemCount()</code> directly in your adapter class, as it will always be <strong>zero</strong>. So in order to get the total number of items, you need to register an observer like in the following lines of code:</p>\n\n<pre><code>mAdapter.registerAdapterDataObserver(new RecyclerView.AdapterDataObserver() {\n    public void onItemRangeInserted(int positionStart, int itemCount) {\n        int totalNumberOfItems = adapter.getItemCount();\n        Log.d(TAG, String.valueOf(totalNumberOfItems));\n        if(totalNumberOfItems == 0) {\n            recyclerView.setVisibility(View.GONE);\n            emptyInfoTextView.setVisibility(View.VISIBLE);\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19117680,"reputation":97,"user_id":13962262,"display_name":"codegsaini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597088014,"creation_date":1597078808,"answer_id":63344676,"question_id":57441563,"body_markdown":"I solved this problem by simple code. Just override `onLoadingStateChangedListner` method inside your `FirestorePagingAdapter` and then use `getItemCount`.\r\nI implemented it as follow -\r\n\r\n\t@Override\r\n\tprotected void onLoadingStateChanged(@NonNull LoadingState state) {\r\n\t\tswitch (state){\r\n\t\t\tcase LOADED:\r\n\t\t\tcase FINISHED:\r\n\t\t\t\tprogressBar.setVisibility(View.GONE);\r\n\t\t\t\tif(getItemCount() == 0) {\r\n\t\t\t\t\temptyIcon.setVisibility(View.VISIBLE);\r\n\t\t\t\t\trecyclerview.setVisibility(View.GONE);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tsuper.onLoadingStateChanged(state);\r\n\t}","title":"Firestore Paging Adapter- How to know if query returns 0 results","body":"<p>I solved this problem by simple code. Just override <code>onLoadingStateChangedListner</code> method inside your <code>FirestorePagingAdapter</code> and then use <code>getItemCount</code>.\nI implemented it as follow -</p>\n<pre><code>@Override\nprotected void onLoadingStateChanged(@NonNull LoadingState state) {\n    switch (state){\n        case LOADED:\n        case FINISHED:\n            progressBar.setVisibility(View.GONE);\n            if(getItemCount() == 0) {\n                emptyIcon.setVisibility(View.VISIBLE);\n                recyclerview.setVisibility(View.GONE);\n            }\n            break;\n    }\n    super.onLoadingStateChanged(state);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18083896,"reputation":1,"user_id":13145321,"display_name":"Alpesh Desai"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650198810,"creation_date":1650198810,"answer_id":71901901,"question_id":57441563,"body_markdown":"solved issue with registerAdapterDataObserver","title":"Firestore Paging Adapter- How to know if query returns 0 results","body":"<p>solved issue with registerAdapterDataObserver</p>\n"}],"owner":{"account_id":6088620,"reputation":969,"user_id":4751730,"accept_rate":14,"display_name":"Alen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57448654,"answer_count":3,"score":0,"last_activity_date":1650198810,"creation_date":1565435195,"question_id":57441563,"body_markdown":"I&#39;m using firestore paging adapter to populate my `RecyclerView` with data from Firestore, if collection in Firestore is empty I would like to show a `TextView` to inform user about that, if it is not then I would like to populate `EecyclerView` with data but I don&#39;t see a way to do this with Firestore paging adapter because I can&#39;t acces data from inside the fragment where I create adapter\r\nIm my `Fragment` inside `onViewCreated`\r\n\r\n    val config = PagedList.Config.Builder()\r\n                    .setEnablePlaceholders(false)\r\n                    .setPrefetchDistance(2)\r\n                    .setPageSize(5)\r\n                    .build()\r\n            val options = FirestorePagingOptions.Builder&lt;Question&gt;()\r\n                    .setLifecycleOwner(viewLifecycleOwner)\r\n                    .setQuery(FirestoreUtil.myFeedQuery, config, Question::class.java)\r\n                    .build()\r\n            mAdapter = WallFeedRVAdapter(this, options)\r\n\r\nWallFeedRVAdapter is `RecyclerView` adapter where I populate `MyViewHolder` with loaded data. How can I from this current fragment that hosts `RecyclerView` know if myFeedQuery returned any results so I can update recyclerView visibility to GONE and emptyInfoTextView to VISIBLE.","title":"Firestore Paging Adapter- How to know if query returns 0 results","body":"<p>I'm using firestore paging adapter to populate my <code>RecyclerView</code> with data from Firestore, if collection in Firestore is empty I would like to show a <code>TextView</code> to inform user about that, if it is not then I would like to populate <code>EecyclerView</code> with data but I don't see a way to do this with Firestore paging adapter because I can't acces data from inside the fragment where I create adapter\nIm my <code>Fragment</code> inside <code>onViewCreated</code></p>\n\n<pre><code>val config = PagedList.Config.Builder()\n                .setEnablePlaceholders(false)\n                .setPrefetchDistance(2)\n                .setPageSize(5)\n                .build()\n        val options = FirestorePagingOptions.Builder&lt;Question&gt;()\n                .setLifecycleOwner(viewLifecycleOwner)\n                .setQuery(FirestoreUtil.myFeedQuery, config, Question::class.java)\n                .build()\n        mAdapter = WallFeedRVAdapter(this, options)\n</code></pre>\n\n<p>WallFeedRVAdapter is <code>RecyclerView</code> adapter where I populate <code>MyViewHolder</code> with loaded data. How can I from this current fragment that hosts <code>RecyclerView</code> know if myFeedQuery returned any results so I can update recyclerView visibility to GONE and emptyInfoTextView to VISIBLE.</p>\n"},{"tags":["java","spring","spring-boot","swagger-2.0","springfox-boot-starter"],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650198488,"creation_date":1650198488,"answer_id":71901867,"question_id":71901630,"body_markdown":" According to your error.log\r\n\r\n```\r\n java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\r\n```\r\n\r\nSo please resolve the NullPointerException in your `PatternsRequestCondition`  \r\n","title":"Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled. How can I solved Problem?","body":"<p>According to your error.log</p>\n<pre><code> java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\n</code></pre>\n<p>So please resolve the NullPointerException in your <code>PatternsRequestCondition</code></p>\n"}],"owner":{"account_id":24973159,"reputation":65,"user_id":18836125,"display_name":"Zekeriya İshak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71901867,"answer_count":1,"score":1,"last_activity_date":1650198488,"creation_date":1650196169,"question_id":71901630,"body_markdown":"Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n\r\n```\r\n2022-04-17 14:36:06.192 ERROR 6200 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat kodlamaio.northwind.NorthwindApplication.main(NorthwindApplication.java:17) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.6.jar:2.6.6]\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\r\n\tat springfox.documentation.spring.web.WebMvcPatternsRequestConditionWrapper.getPatterns(WebMvcPatternsRequestConditionWrapper.java:56) ~[springfox-spring-webmvc-3.0.0.jar:3.0.0]\r\n\tat springfox.documentation.RequestHandler.sortedPaths(RequestHandler.java:113) ~[springfox-core-3.0.0.jar:3.0.0]\r\n\tat springfox.documentation.spi.service.contexts.Orderings.lambda$byPatternsCondition$3(Orderings.java:89) ~[springfox-spi-3.0.0.jar:3.0.0]\r\n\tat java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:473) ~[na:na]\r\n\tat java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355) ~[na:na]\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:220) ~[na:na]\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1307) ~[na:na]\r\n\tat java.base/java.util.ArrayList.sort(ArrayList.java:1721) ~[na:na]\r\n\tat java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:392) ~[na:na]\r\n\tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258) ~[na:na]\r\n\tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258) ~[na:na]\r\n\tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258) ~[na:na]\r\n\tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n\tat springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:81) ~[springfox-spring-webmvc-3.0.0.jar:3.0.0]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n\tat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.withDefaults(AbstractDocumentationPluginsBootstrapper.java:107) ~[springfox-spring-web-3.0.0.jar:3.0.0]\r\n\tat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.buildContext(AbstractDocumentationPluginsBootstrapper.java:91) ~[springfox-spring-web-3.0.0.jar:3.0.0]\r\n\tat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.bootstrapDocumentationPlugins(AbstractDocumentationPluginsBootstrapper.java:82) ~[springfox-spring-web-3.0.0.jar:3.0.0]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:100) ~[springfox-spring-web-3.0.0.jar:3.0.0]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.18.jar:5.3.18]\r\n\t... 19 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n\r\n----------\r\npom.xml\r\n---------\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;kodlamaio&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;northwind&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;northwind&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;","title":"Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled. How can I solved Problem?","body":"<p>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.</p>\n<pre><code>2022-04-17 14:36:06.192 ERROR 6200 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.18.jar:5.3.18]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.6.jar:2.6.6]\n    at kodlamaio.northwind.NorthwindApplication.main(NorthwindApplication.java:17) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.6.jar:2.6.6]\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\n    at springfox.documentation.spring.web.WebMvcPatternsRequestConditionWrapper.getPatterns(WebMvcPatternsRequestConditionWrapper.java:56) ~[springfox-spring-webmvc-3.0.0.jar:3.0.0]\n    at springfox.documentation.RequestHandler.sortedPaths(RequestHandler.java:113) ~[springfox-core-3.0.0.jar:3.0.0]\n    at springfox.documentation.spi.service.contexts.Orderings.lambda$byPatternsCondition$3(Orderings.java:89) ~[springfox-spi-3.0.0.jar:3.0.0]\n    at java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:473) ~[na:na]\n    at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355) ~[na:na]\n    at java.base/java.util.TimSort.sort(TimSort.java:220) ~[na:na]\n    at java.base/java.util.Arrays.sort(Arrays.java:1307) ~[na:na]\n    at java.base/java.util.ArrayList.sort(ArrayList.java:1721) ~[na:na]\n    at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:392) ~[na:na]\n    at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258) ~[na:na]\n    at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258) ~[na:na]\n    at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258) ~[na:na]\n    at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n    at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:81) ~[springfox-spring-webmvc-3.0.0.jar:3.0.0]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n    at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.withDefaults(AbstractDocumentationPluginsBootstrapper.java:107) ~[springfox-spring-web-3.0.0.jar:3.0.0]\n    at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.buildContext(AbstractDocumentationPluginsBootstrapper.java:91) ~[springfox-spring-web-3.0.0.jar:3.0.0]\n    at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.bootstrapDocumentationPlugins(AbstractDocumentationPluginsBootstrapper.java:82) ~[springfox-spring-web-3.0.0.jar:3.0.0]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:100) ~[springfox-spring-web-3.0.0.jar:3.0.0]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.18.jar:5.3.18]\n    ... 19 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n<hr />\n<h2>pom.xml</h2>\n\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.6.6\n \n\nkodlamaio\nnorthwind\n0.0.1-SNAPSHOT\nnorthwind\nDemo project for Spring Boot\n\n&lt;java.version&gt;11&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-data-jpa\n\n\norg.springframework.boot\nspring-boot-starter-web\n</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","android","email"],"answers":[{"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650198263,"creation_date":1650182294,"answer_id":71900228,"question_id":71900168,"body_markdown":"I don&#39;t know exactly how the design is. I&#39;m also not sure where you got the recipient email from, but maybe this code will be useful for you.\r\n \r\n```java\r\npublic void contact() {\r\n    final Intent send = new Intent(Intent.ACTION_SENDTO);\r\n\r\n    final String email = &quot;youremail@gmail.com&quot;;\r\n    final String subject = &quot;subject&quot;;\r\n    final String body = &quot;body...&quot;;\r\n\r\n    final String uriText = &quot;mailto:&quot; + Uri.encode(email) +\r\n            &quot;?subject=&quot; + Uri.encode(subject) +\r\n            &quot;&amp;body=&quot; + Uri.encode(body);\r\n    final Uri uri = Uri.parse(uriText);\r\n\r\n    send.setData(uri);\r\n    startActivity(Intent.createChooser(send, getString(R.string.settings_email_chooser)));\r\n}\r\n```","title":"How can I identify the recipient of the email?","body":"<p>I don't know exactly how the design is. I'm also not sure where you got the recipient email from, but maybe this code will be useful for you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void contact() {\n    final Intent send = new Intent(Intent.ACTION_SENDTO);\n\n    final String email = &quot;youremail@gmail.com&quot;;\n    final String subject = &quot;subject&quot;;\n    final String body = &quot;body...&quot;;\n\n    final String uriText = &quot;mailto:&quot; + Uri.encode(email) +\n            &quot;?subject=&quot; + Uri.encode(subject) +\n            &quot;&amp;body=&quot; + Uri.encode(body);\n    final Uri uri = Uri.parse(uriText);\n\n    send.setData(uri);\n    startActivity(Intent.createChooser(send, getString(R.string.settings_email_chooser)));\n}\n</code></pre>\n"}],"owner":{"account_id":24762981,"reputation":11,"user_id":18647139,"display_name":"MUSTAFA KAYA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":71900228,"answer_count":1,"score":-2,"last_activity_date":1650198263,"creation_date":1650181700,"question_id":71900168,"body_markdown":"```java\r\n//Intent to gmail        \r\nIntent sendIntent = new Intent();\r\nsendIntent.setAction(Intent.ACTION_SEND);\r\nsendIntent.setData(Uri.parse(&quot;mailto:&quot;));\r\n//how can ı add this part\r\nsendIntent.putExtra(Intent.EXTRA_EMAIL,fromEmail);\r\nsendIntent.putExtra(Intent.EXTRA_SUBJECT, &quot;Feedback&quot;);\r\nsendIntent.putExtra(Intent.EXTRA_TEXT, emailBody);\r\nsendIntent.setType(&quot;text/plain&quot;);\r\ntry {\r\n    Intent shareIntent = Intent.createChooser(sendIntent, &quot;Feedback&quot;);\r\n    startActivity(shareIntent);\r\n    Log.i(&quot;Finished sending email...&quot;, &quot;&quot;);\r\n} catch (android.content.ActivityNotFoundException ex) {\r\n    Toast.makeText(MainActivity.this, &quot;There is no email client installed.&quot;, Toast.LENGTH_SHORT).show();\r\n}\r\n```\r\n\r\nThe sender works fine, but I couldn&#39;t make the receiver. Can you help me?\r\n","title":"How can I identify the recipient of the email?","body":"<pre class=\"lang-java prettyprint-override\"><code>//Intent to gmail        \nIntent sendIntent = new Intent();\nsendIntent.setAction(Intent.ACTION_SEND);\nsendIntent.setData(Uri.parse(&quot;mailto:&quot;));\n//how can ı add this part\nsendIntent.putExtra(Intent.EXTRA_EMAIL,fromEmail);\nsendIntent.putExtra(Intent.EXTRA_SUBJECT, &quot;Feedback&quot;);\nsendIntent.putExtra(Intent.EXTRA_TEXT, emailBody);\nsendIntent.setType(&quot;text/plain&quot;);\ntry {\n    Intent shareIntent = Intent.createChooser(sendIntent, &quot;Feedback&quot;);\n    startActivity(shareIntent);\n    Log.i(&quot;Finished sending email...&quot;, &quot;&quot;);\n} catch (android.content.ActivityNotFoundException ex) {\n    Toast.makeText(MainActivity.this, &quot;There is no email client installed.&quot;, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n<p>The sender works fine, but I couldn't make the receiver. Can you help me?</p>\n"},{"tags":["java","mutators"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1650184155,"post_id":71900401,"comment_id":127053380,"body_markdown":"you are creating local variables in your mutators, which is wrong. make partNo an instance member","body":"you are creating local variables in your mutators, which is wrong. make partNo an instance member"},{"owner":{"account_id":2973921,"reputation":45,"user_id":10400732,"display_name":"Destroyer2super"},"score":0,"creation_date":1650184492,"post_id":71900401,"comment_id":127053428,"body_markdown":"if i remove String from partNo it just shows an error that it cannot be resolved.","body":"if i remove String from partNo it just shows an error that it cannot be resolved."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1650185743,"post_id":71900401,"comment_id":127053613,"body_markdown":"yes, that is because you didn&#39;t add it as an instance member yet.","body":"yes, that is because you didn&#39;t add it as an instance member yet."}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650187868,"creation_date":1650187868,"answer_id":71900764,"question_id":71900401,"body_markdown":"    public static class Invoice{\r\n        Scanner sam = new Scanner(System.in);\r\n    int Quality;\r\n    double price;\r\n    public Invoice(){ \r\n        \r\n    }\r\n    public Invoice(String partNo, String description) { \r\n    }\r\n    public void setPartNo() {\r\n        System.out.println(&quot;Enter part no: &quot;);\r\n        String partNo  = sam.nextLine();\r\n        \r\n    \r\n    }\r\n    public static String getPartNo() {\r\n        return Invoice.getPartNo();\r\n        \r\n    }\r\n        }\r\n    \r\n    \r\n    public static void main(String[] args) {\r\n      Invoice.getPartNo();\r\n\r\nYou here have a few parameters to your constructor, you don&#39;t do anything with, which is pretty pointless. They won&#39;t exist anymore once the constructor has finished executing, so it&#39;s impossible for your mutators to get them\r\n\r\nThose parameters, set them up as instance members, that way your mutators will also have access to them.\r\n\r\n    public static class Invoice {\r\n      Scanner sam = new Scanner(System.in);\r\n      int quality;\r\n      double price;\r\n    \r\n      // add the additional instance members\r\n      String partNo;\r\n      String description;\r\n    \r\n      public Invoice() { }\r\n    \r\n      public Invoice(String partNo, String description) {\r\n        this.partNo = partNo;\r\n        this.description = description;\r\n      }\r\n    \r\n      // a normal mutator (setter) will not use a Scanner, but accept the value as parameter\r\n      // but for now, I&#39;m keeping your original design\r\n      public void setPartNo() {\r\n        System.out.println(&quot;Enter part no: &quot;);\r\n        this.partNo = sam.nextLine(); \r\n        // again, use this.partNo. If you declare it as a String here, it will no longer exist when the method is finished\r\n      }\r\n    \r\n      // this getter is both pointless, and will cause trouble by creating an endless \r\n      // recursive loop. Delete it.\r\n      public static String getPartNo() {\r\n        return Invoice.getPartNo();\r\n      }\r\n    }\r\n\r\nNow, the same code with some improvements:\r\n\r\n    public static class Invoice {\r\n      int quality;\r\n      double price;\r\n    \r\n      // add the additional instance members\r\n      String partNo;\r\n      String description;\r\n    \r\n      public Invoice() { }\r\n    \r\n      public Invoice(String partNo, String description) {\r\n        this.partNo = partNo;\r\n        this.description = description;\r\n      }\r\n    \r\n      public void setPartNo(String partNo) {\r\n        // you can always add validation on the new value here\r\n        this.partNo = partNo;\r\n      }\r\n    \r\n      public String getPartNo() {\r\n        return partNo;\r\n      }\r\n    }\r\n\r\nthis, you will be able to use as follows:\r\n\r\n    public static void main(String[] args) {\r\n      Invoice in = new Invoice(&quot;part&quot;, &quot;description&quot;);\r\n      System.out.pintln(in.getPartNo());\r\n      in.setPartNo(&quot;new PartNo&quot;);\r\n      System.out.println(in.getPartNo());\r\n    }\r\n\r\nIf you are wondering whether your getter should be static:\r\nit should only be static if the field is static itself. Since you set the value by a parameter you pass to the constructor, it is doubtfull it should be static.\r\n\r\nA parameter to the constructor should (usually) only set the value for that particular instance.\r\nIf it&#39;s a static field, it will be set for every single instance of that type.","title":"is there a way to use a constructor and a mutator in java together","body":"<pre><code>public static class Invoice{\n    Scanner sam = new Scanner(System.in);\nint Quality;\ndouble price;\npublic Invoice(){ \n    \n}\npublic Invoice(String partNo, String description) { \n}\npublic void setPartNo() {\n    System.out.println(&quot;Enter part no: &quot;);\n    String partNo  = sam.nextLine();\n    \n\n}\npublic static String getPartNo() {\n    return Invoice.getPartNo();\n    \n}\n    }\n\n\npublic static void main(String[] args) {\n  Invoice.getPartNo();\n</code></pre>\n<p>You here have a few parameters to your constructor, you don't do anything with, which is pretty pointless. They won't exist anymore once the constructor has finished executing, so it's impossible for your mutators to get them</p>\n<p>Those parameters, set them up as instance members, that way your mutators will also have access to them.</p>\n<pre><code>public static class Invoice {\n  Scanner sam = new Scanner(System.in);\n  int quality;\n  double price;\n\n  // add the additional instance members\n  String partNo;\n  String description;\n\n  public Invoice() { }\n\n  public Invoice(String partNo, String description) {\n    this.partNo = partNo;\n    this.description = description;\n  }\n\n  // a normal mutator (setter) will not use a Scanner, but accept the value as parameter\n  // but for now, I'm keeping your original design\n  public void setPartNo() {\n    System.out.println(&quot;Enter part no: &quot;);\n    this.partNo = sam.nextLine(); \n    // again, use this.partNo. If you declare it as a String here, it will no longer exist when the method is finished\n  }\n\n  // this getter is both pointless, and will cause trouble by creating an endless \n  // recursive loop. Delete it.\n  public static String getPartNo() {\n    return Invoice.getPartNo();\n  }\n}\n</code></pre>\n<p>Now, the same code with some improvements:</p>\n<pre><code>public static class Invoice {\n  int quality;\n  double price;\n\n  // add the additional instance members\n  String partNo;\n  String description;\n\n  public Invoice() { }\n\n  public Invoice(String partNo, String description) {\n    this.partNo = partNo;\n    this.description = description;\n  }\n\n  public void setPartNo(String partNo) {\n    // you can always add validation on the new value here\n    this.partNo = partNo;\n  }\n\n  public String getPartNo() {\n    return partNo;\n  }\n}\n</code></pre>\n<p>this, you will be able to use as follows:</p>\n<pre><code>public static void main(String[] args) {\n  Invoice in = new Invoice(&quot;part&quot;, &quot;description&quot;);\n  System.out.pintln(in.getPartNo());\n  in.setPartNo(&quot;new PartNo&quot;);\n  System.out.println(in.getPartNo());\n}\n</code></pre>\n<p>If you are wondering whether your getter should be static:\nit should only be static if the field is static itself. Since you set the value by a parameter you pass to the constructor, it is doubtfull it should be static.</p>\n<p>A parameter to the constructor should (usually) only set the value for that particular instance.\nIf it's a static field, it will be set for every single instance of that type.</p>\n"}],"owner":{"account_id":2973921,"reputation":45,"user_id":10400732,"display_name":"Destroyer2super"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1650198148,"creation_date":1650184057,"question_id":71900401,"body_markdown":"The code is incomplete at the moment, but I was wondering if I could use the String partNo the one that the constructor is making inside the mutator.\r\n\r\n```java\t\r\npublic static class Invoice{\r\n  \tScanner sam = new Scanner(System.in);\r\n    int Quality;\r\n    double price;\r\n    public Invoice(){ \r\n    \t\r\n    }\r\n    public Invoice(String partNo, String description) { \r\n    }\r\n    public void setPartNo() {\r\n    \tSystem.out.println(&quot;Enter part no: &quot;);\r\n    \tString partNo  = sam.nextLine();\r\n    \t\r\n    \r\n    }\r\n    public static String getPartNo() {\r\n    \treturn Invoice.getPartNo();\r\n    \t\r\n    }\r\n    \t}\r\n    \r\n\r\n\tpublic static void main(String[] args) {\r\n      Invoice.getPartNo();\r\n```","title":"is there a way to use a constructor and a mutator in java together","body":"<p>The code is incomplete at the moment, but I was wondering if I could use the String partNo the one that the constructor is making inside the mutator.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class Invoice{\n    Scanner sam = new Scanner(System.in);\n    int Quality;\n    double price;\n    public Invoice(){ \n        \n    }\n    public Invoice(String partNo, String description) { \n    }\n    public void setPartNo() {\n        System.out.println(&quot;Enter part no: &quot;);\n        String partNo  = sam.nextLine();\n        \n    \n    }\n    public static String getPartNo() {\n        return Invoice.getPartNo();\n        \n    }\n        }\n    \n\n    public static void main(String[] args) {\n      Invoice.getPartNo();\n</code></pre>\n"},{"tags":["java","multithreading","runnable","executor"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650198098,"post_id":71900561,"comment_id":127055739,"body_markdown":"The code as shown will (or should, I haven&#39;t verified it) also fail in Java 5 and Java 6.","body":"The code as shown will (or should, I haven&#39;t verified it) also fail in Java 5 and Java 6."}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650185968,"creation_date":1650185968,"answer_id":71900588,"question_id":71900561,"body_markdown":"From [the documentation of `ExecutorService::shutdown`][ExecutorServiceShutdownApi]: \r\n\r\n&gt; Initiates an orderly shutdown in which previously submitted tasks are executed, **but no new tasks will be accepted**. ...\r\n\r\n[ExecutorServiceShutdownApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdown()","title":"Why do threads through a loop give an error when with Executor","body":"<p>From <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdown()\" rel=\"nofollow noreferrer\">the documentation of <code>ExecutorService::shutdown</code></a>:</p>\n<blockquote>\n<p>Initiates an orderly shutdown in which previously submitted tasks are executed, <strong>but no new tasks will be accepted</strong>. ...</p>\n</blockquote>\n"}],"owner":{"account_id":24971742,"reputation":21,"user_id":18834844,"display_name":"General Esdeath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650198057,"creation_date":1650185702,"question_id":71900561,"body_markdown":"The sample code is taken from the Java Philosophy 2015 book and it used Java SE5/6. I used JDK11, maybe this code is not suitable for the new version, but why?\r\n    \r\n    public static void main(String[] args) { \r\n    \tExecutorService exec = Executors.newCachedThreadPool(); \r\n    \tfor(int i=0;i&lt;5;i++) { \r\n    \t\texec.execute(new LiftOff2());\r\n    \t\texec.shutdown();\r\n    \t}\r\n    } \r\n\r\n```none\r\nException in thread &quot;main&quot; java.util.concurrent.RejectedExecutionException: Task LiftOff2@5f205aa rejected from java.util.concurrent.ThreadPoolExecutor@6d86b085[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2055)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:825)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1355)\r\n\tat Runnable_p897.main(Runnable_p897.java:8)\r\n```","title":"Why do threads through a loop give an error when with Executor","body":"<p>The sample code is taken from the Java Philosophy 2015 book and it used Java SE5/6. I used JDK11, maybe this code is not suitable for the new version, but why?</p>\n<pre><code>public static void main(String[] args) { \n    ExecutorService exec = Executors.newCachedThreadPool(); \n    for(int i=0;i&lt;5;i++) { \n        exec.execute(new LiftOff2());\n        exec.shutdown();\n    }\n} \n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.util.concurrent.RejectedExecutionException: Task LiftOff2@5f205aa rejected from java.util.concurrent.ThreadPoolExecutor@6d86b085[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2055)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:825)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1355)\n    at Runnable_p897.main(Runnable_p897.java:8)\n</code></pre>\n"},{"tags":["java","docker","mqtt"],"comments":[{"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"score":0,"creation_date":1650197360,"post_id":71901554,"comment_id":127055602,"body_markdown":"Please show your code","body":"Please show your code"},{"owner":{"account_id":15718606,"reputation":704,"user_id":11342139,"display_name":"Angel Hadzhiev"},"score":0,"creation_date":1650198430,"post_id":71901554,"comment_id":127055799,"body_markdown":"@Kai-ShengYang Which code do you want to see? The mqtt connection?","body":"@Kai-ShengYang Which code do you want to see? The mqtt connection?"},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1650201157,"post_id":71901554,"comment_id":127056264,"body_markdown":"We need to know a lot more about your docker configuration, e.g. are you using docker-compose, if so we need to see the docker-compose file","body":"We need to know a lot more about your docker configuration, e.g. are you using docker-compose, if so we need to see the docker-compose file"}],"answers":[{"tags":[],"owner":{"account_id":5341503,"reputation":11,"user_id":4258439,"display_name":"Gaurav Chawla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650197933,"creation_date":1650197933,"answer_id":71901825,"question_id":71901554,"body_markdown":"you may go to https://github.com/eclipse/mosquitto/issues/2074\r\nwhere scott has mentioned \r\n\r\n\r\nThis broke for me when Watchtower upgraded this to 2.0.7 also. Adding the following to the config file and a restart fixed things for me:\r\n\r\nlistener 1883\r\n\r\n","title":"How to solve java.net.UnknownHostException: mosquitto in docker container?","body":"<p>you may go to <a href=\"https://github.com/eclipse/mosquitto/issues/2074\" rel=\"nofollow noreferrer\">https://github.com/eclipse/mosquitto/issues/2074</a>\nwhere scott has mentioned</p>\n<p>This broke for me when Watchtower upgraded this to 2.0.7 also. Adding the following to the config file and a restart fixed things for me:</p>\n<p>listener 1883</p>\n"}],"owner":{"account_id":15718606,"reputation":704,"user_id":11342139,"display_name":"Angel Hadzhiev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650197933,"creation_date":1650195454,"question_id":71901554,"body_markdown":"I am running a Java application which successfully connects to a MQTT broker locally like this: \r\n\r\n`ws://localhost:9001` and then has to do the same in a docker container for `ws://mosquitto:9001`. This used to work fine but I found now that I get this issue: \r\n\r\n    Failed to connect to the MQTT broker with address ws://mosquitto:9001 MqttException (0) - java.net.UnknownHostException: mosquitto \r\n\r\nI receive no other error so I wonder what could be the cause of this since it used to work fine before. ","title":"How to solve java.net.UnknownHostException: mosquitto in docker container?","body":"<p>I am running a Java application which successfully connects to a MQTT broker locally like this:</p>\n<p><code>ws://localhost:9001</code> and then has to do the same in a docker container for <code>ws://mosquitto:9001</code>. This used to work fine but I found now that I get this issue:</p>\n<pre><code>Failed to connect to the MQTT broker with address ws://mosquitto:9001 MqttException (0) - java.net.UnknownHostException: mosquitto \n</code></pre>\n<p>I receive no other error so I wonder what could be the cause of this since it used to work fine before.</p>\n"},{"tags":["java","spring-boot","swagger","springdoc"],"comments":[{"owner":{"account_id":2109919,"reputation":726,"user_id":1875391,"accept_rate":86,"display_name":"Wanny Miarelli"},"score":0,"creation_date":1650199174,"post_id":71901245,"comment_id":127055915,"body_markdown":"Take a look here https://stackoverflow.com/questions/45766296/spring-boot-swagger-ui-protect-ui-access","body":"Take a look here <a href=\"https://stackoverflow.com/questions/45766296/spring-boot-swagger-ui-protect-ui-access\" title=\"spring boot swagger ui protect ui access\">stackoverflow.com/questions/45766296/&hellip;</a>"}],"owner":{"account_id":17993463,"reputation":41,"user_id":13077045,"display_name":"Prabhu Pant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650197708,"creation_date":1650192618,"question_id":71901245,"body_markdown":"Currently, swagger-docs are open to public and I would like to hide them behind some auth wall. I am using SpringDoc and API Key auth is the major authentication mechanism this project is using. All the APIs are authenticated by it only. Here is the SecurityConfig\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\tprivate final ApiKeyAuthenticationProvider apiKeyAuthenticationProvider;\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity httpSecurity) throws Exception {\r\n\t\thttpSecurity\r\n\t\t\t\t.authorizeRequests()\r\n\t\t\t\t.antMatchers(&quot;/health&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/api/**&quot;).hasAnyAuthority(&quot;DEV&quot;, &quot;ADMIN&quot;)\r\n\t\t\t\t.anyRequest()\r\n\t\t\t\t.authenticated()\r\n\t\t\t\t.and()\r\n\t\t\t\t.csrf().disable()\r\n\t\t\t\t.addFilterBefore(\r\n\t\t\t\t\t\tnew ApiKeyAuthenticationFilter(authenticationManager()),\r\n\t\t\t\t\t\tAnonymousAuthenticationFilter.class);\r\n\r\n\t\thttpSecurity.exceptionHandling()\r\n\t\t\t\t.accessDeniedHandler((request, response, accessDeniedException) -&gt; {\r\n\t\t\t\t\tresponse.sendError(HttpServletResponse.SC_FORBIDDEN);\r\n\t\t\t\t})\r\n\t\t\t\t.authenticationEntryPoint((request, response, authException) -&gt; {\r\n\t\t\t\t\tresponse.sendError(HttpServletResponse.SC_UNAUTHORIZED);\r\n\t\t\t\t});\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configure(WebSecurity web)  {\r\n\t\tweb.ignoring().antMatchers(\r\n\t\t\t\t&quot;/health&quot;\r\n\t\t);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager() {\r\n\t\treturn new ProviderManager(Collections.singletonList(apiKeyAuthenticationProvider));\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI tried adding `/swagger-ui/**` to HttpSecurity and then use `formLogin()` and `httpBasic()` but it was throwing 401 error.","title":"How do I add authentication to access Swagger-UI?","body":"<p>Currently, swagger-docs are open to public and I would like to hide them behind some auth wall. I am using SpringDoc and API Key auth is the major authentication mechanism this project is using. All the APIs are authenticated by it only. Here is the SecurityConfig</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final ApiKeyAuthenticationProvider apiKeyAuthenticationProvider;\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .authorizeRequests()\n                .antMatchers(&quot;/health&quot;).permitAll()\n                .antMatchers(&quot;/api/**&quot;).hasAnyAuthority(&quot;DEV&quot;, &quot;ADMIN&quot;)\n                .anyRequest()\n                .authenticated()\n                .and()\n                .csrf().disable()\n                .addFilterBefore(\n                        new ApiKeyAuthenticationFilter(authenticationManager()),\n                        AnonymousAuthenticationFilter.class);\n\n        httpSecurity.exceptionHandling()\n                .accessDeniedHandler((request, response, accessDeniedException) -&gt; {\n                    response.sendError(HttpServletResponse.SC_FORBIDDEN);\n                })\n                .authenticationEntryPoint((request, response, authException) -&gt; {\n                    response.sendError(HttpServletResponse.SC_UNAUTHORIZED);\n                });\n    }\n\n    @Override\n    public void configure(WebSecurity web)  {\n        web.ignoring().antMatchers(\n                &quot;/health&quot;\n        );\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager() {\n        return new ProviderManager(Collections.singletonList(apiKeyAuthenticationProvider));\n    }\n\n}\n</code></pre>\n<p>I tried adding <code>/swagger-ui/**</code> to HttpSecurity and then use <code>formLogin()</code> and <code>httpBasic()</code> but it was throwing 401 error.</p>\n"},{"tags":["java","swing","jlist","jpopupmenu"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1650157319,"post_id":71898476,"comment_id":127050314,"body_markdown":"1) *&quot;only for entries of JList, not all space of the JList&quot;* See [`List.setVisibleRowCount(int)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JList.html#setVisibleRowCount(int)). 2) If experiencing problems clicking on entries in a list within a popup menu, those can likely be solved by displaying the list in a `JOptionPane` instead. Note that it has a variant specifically designed for a list of choices, so the `JList` might not even be required. 3) **For better help sooner, [edit] to add a [mre].**","body":"1) <i>&quot;only for entries of JList, not all space of the JList&quot;</i> See <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JList.html#setVisibleRowCount(int)\" rel=\"nofollow noreferrer\"><code>List.setVisibleRowCount(int)</code></a>. 2) If experiencing problems clicking on entries in a list within a popup menu, those can likely be solved by displaying the list in a <code>JOptionPane</code> instead. Note that it has a variant specifically designed for a list of choices, so the <code>JList</code> might not even be required. 3) <b>For better help sooner, <a href=\"https://stackoverflow.com/posts/71898476/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.</b>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1650159509,"post_id":71898476,"comment_id":127050526,"body_markdown":"Read the section from the Swing tutorial on [Bringing Up Popup Menus](https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html#popup) for the &quot;old&quot; way to display the popup so you can control when to display the menu. Check out: https://stackoverflow.com/questions/16743427/jtable-right-click-popup-menu/16744590#16744590 for a basic example using a JTable. The concept would be the same for a JList.","body":"Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html#popup\" rel=\"nofollow noreferrer\">Bringing Up Popup Menus</a> for the &quot;old&quot; way to display the popup so you can control when to display the menu. Check out: <a href=\"https://stackoverflow.com/questions/16743427/jtable-right-click-popup-menu/16744590#16744590\" title=\"jtable right click popup menu\">stackoverflow.com/questions/16743427/&hellip;</a> for a basic example using a JTable. The concept would be the same for a JList."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650157317,"creation_date":1650156245,"answer_id":71898504,"question_id":71898476,"body_markdown":"Use the following method to get the component renderer (renders the items on the list)\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/javax/swing/JList.html#getCellRenderer()\r\n\r\nThen fetch the component. Then attach a mouselistener, and upon right click, perform whatever action you want.\r\n\r\n**EDIT** - Here&#39;s an even better way. I wasn&#39;t aware of this solution at the time of creating this answer.\r\n\r\n```\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JList;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\n\r\npublic class SOQ_20220416\r\n{\r\n\r\n   public static void main(String[] args)\r\n   {\r\n   \r\n      JFrame frame = new JFrame(&quot;Title&quot;);\r\n      \r\n      frame.setSize(500, 500);\r\n      frame.setLocation(200, 400);\r\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      \r\n      frame.add(createPanelAndList());\r\n      \r\n      frame.setVisible(true);\r\n   \r\n   }\r\n   \r\n   public static JPanel createPanelAndList()\r\n   {\r\n   \r\n      enum Fruit\r\n      {\r\n      \r\n         APPLE,\r\n         BANANA,\r\n         CHERRY,\r\n         ;\r\n      \r\n      }\r\n   \r\n      JPanel panel = new JPanel();\r\n      \r\n      JList&lt;Fruit&gt; list = new JList&lt;&gt;(Fruit.values());\r\n      \r\n      panel.add(list);\r\n      \r\n      MouseListener mouseListener = \r\n         new MouseAdapter() {\r\n            public void mouseClicked(MouseEvent e) {\r\n               if (SwingUtilities.isRightMouseButton(e)) {\r\n                  int index = list.locationToIndex(e.getPoint());\r\n                  System.out.println(&quot;Right clicked on Item &quot; + index);\r\n               }\r\n            }\r\n         };\r\n   \r\n      list.addMouseListener(mouseListener);\r\n      \r\n      return panel;\r\n   \r\n   }\r\n\r\n}\r\n```","title":"JPopupMenu only for entries of JList, not all space of the JList","body":"<p>Use the following method to get the component renderer (renders the items on the list)</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JList.html#getCellRenderer()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/swing/JList.html#getCellRenderer()</a></p>\n<p>Then fetch the component. Then attach a mouselistener, and upon right click, perform whatever action you want.</p>\n<p><strong>EDIT</strong> - Here's an even better way. I wasn't aware of this solution at the time of creating this answer.</p>\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\n\npublic class SOQ_20220416\n{\n\n   public static void main(String[] args)\n   {\n   \n      JFrame frame = new JFrame(&quot;Title&quot;);\n      \n      frame.setSize(500, 500);\n      frame.setLocation(200, 400);\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      \n      frame.add(createPanelAndList());\n      \n      frame.setVisible(true);\n   \n   }\n   \n   public static JPanel createPanelAndList()\n   {\n   \n      enum Fruit\n      {\n      \n         APPLE,\n         BANANA,\n         CHERRY,\n         ;\n      \n      }\n   \n      JPanel panel = new JPanel();\n      \n      JList&lt;Fruit&gt; list = new JList&lt;&gt;(Fruit.values());\n      \n      panel.add(list);\n      \n      MouseListener mouseListener = \n         new MouseAdapter() {\n            public void mouseClicked(MouseEvent e) {\n               if (SwingUtilities.isRightMouseButton(e)) {\n                  int index = list.locationToIndex(e.getPoint());\n                  System.out.println(&quot;Right clicked on Item &quot; + index);\n               }\n            }\n         };\n   \n      list.addMouseListener(mouseListener);\n      \n      return panel;\n   \n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59184,"reputation":9708,"user_id":177145,"display_name":"aterai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650197459,"creation_date":1650197459,"answer_id":71901765,"question_id":71898476,"body_markdown":"Another option is to override `JPopupMenu#show(Component, int, int)` method. Since it is possible to get the coordinates of the click, you can control whether the `JPopupMenu` is shown or hidden by doing `super.show(c, x, y);` only if those coordinates are in a `JList` cell.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class ListPopupMenuTest {\r\n      private Component makeUI() {\r\n        String[] model = {&quot;Entry 1&quot;, &quot;Entry 2&quot;, &quot;Entry 3&quot;};\r\n        JList&lt;String&gt; list = new JList&lt;&gt;(model);\r\n        list.setComponentPopupMenu(new ListPopupMenu());\r\n        return new JScrollPane(list);\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n          JFrame frame = new JFrame();\r\n          frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n          frame.getContentPane().add(new ListPopupMenuTest().makeUI());\r\n          frame.setSize(320, 240);\r\n          frame.setLocationRelativeTo(null);\r\n          frame.setVisible(true);\r\n        });\r\n      }\r\n    }\r\n    \r\n    class ListPopupMenu extends JPopupMenu {\r\n      protected ListPopupMenu() {\r\n        super();\r\n        add(&quot;Item 1&quot;).addActionListener(System.out::println);\r\n        add(&quot;Item 2&quot;).addActionListener(System.out::println);\r\n        addSeparator();\r\n        add(&quot;Item 3&quot;).addActionListener(System.out::println);\r\n      }\r\n    \r\n      @Override public void show(Component c, int x, int y) {\r\n        if (c instanceof JList) {\r\n          JList&lt;?&gt; list = (JList&lt;?&gt;) c;\r\n          Point pt = new Point(x, y);\r\n          int idx = list.locationToIndex(pt);\r\n          Rectangle r = list.getCellBounds(idx, idx);\r\n          if (r != null &amp;&amp; r.contains(pt)) { // &amp;&amp; !list.isSelectionEmpty()) {\r\n            super.show(c, x, y);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"JPopupMenu only for entries of JList, not all space of the JList","body":"<p>Another option is to override <code>JPopupMenu#show(Component, int, int)</code> method. Since it is possible to get the coordinates of the click, you can control whether the <code>JPopupMenu</code> is shown or hidden by doing <code>super.show(c, x, y);</code> only if those coordinates are in a <code>JList</code> cell.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class ListPopupMenuTest {\n  private Component makeUI() {\n    String[] model = {&quot;Entry 1&quot;, &quot;Entry 2&quot;, &quot;Entry 3&quot;};\n    JList&lt;String&gt; list = new JList&lt;&gt;(model);\n    list.setComponentPopupMenu(new ListPopupMenu());\n    return new JScrollPane(list);\n  }\n\n  public static void main(String[] args) {\n    EventQueue.invokeLater(() -&gt; {\n      JFrame frame = new JFrame();\n      frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n      frame.getContentPane().add(new ListPopupMenuTest().makeUI());\n      frame.setSize(320, 240);\n      frame.setLocationRelativeTo(null);\n      frame.setVisible(true);\n    });\n  }\n}\n\nclass ListPopupMenu extends JPopupMenu {\n  protected ListPopupMenu() {\n    super();\n    add(&quot;Item 1&quot;).addActionListener(System.out::println);\n    add(&quot;Item 2&quot;).addActionListener(System.out::println);\n    addSeparator();\n    add(&quot;Item 3&quot;).addActionListener(System.out::println);\n  }\n\n  @Override public void show(Component c, int x, int y) {\n    if (c instanceof JList) {\n      JList&lt;?&gt; list = (JList&lt;?&gt;) c;\n      Point pt = new Point(x, y);\n      int idx = list.locationToIndex(pt);\n      Rectangle r = list.getCellBounds(idx, idx);\n      if (r != null &amp;&amp; r.contains(pt)) { // &amp;&amp; !list.isSelectionEmpty()) {\n        super.show(c, x, y);\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2339705,"reputation":1133,"user_id":2052584,"accept_rate":75,"display_name":"MrSnrub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1650197459,"creation_date":1650155666,"question_id":71898476,"body_markdown":"I want to display a `JPopupMenu` on right click on elements of a `JList`.\r\n\r\n`jList.setComponentPopupMenu(...)` works fine and displays the context menu (`JPopupMenu`) if I right click the `JList`.\r\n\r\nBut my `JList` often is larger (taller) than needed for its entries (as the JList is expanded to window height). \r\n\r\nAnd the context menu always appears, even if I click on the blank area of the JList.\r\n\r\nI want the context-menu (JPopupMenu) to only show up, if the user right-clicks an entry, *not* if the user clicks on the blank space below the last list entry. \r\nThe menu options are only applicable to a certain entry, not to the `JList` in its entirety.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI tried `setComponentPopupMenu` on a custom `ListCellRenderer` instead of on the list but that doesn&#39;t show a menu at all.\r\n\r\nHow could I get an only-on-entry context menu for my JList?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hXZiK.png","title":"JPopupMenu only for entries of JList, not all space of the JList","body":"<p>I want to display a <code>JPopupMenu</code> on right click on elements of a <code>JList</code>.</p>\n<p><code>jList.setComponentPopupMenu(...)</code> works fine and displays the context menu (<code>JPopupMenu</code>) if I right click the <code>JList</code>.</p>\n<p>But my <code>JList</code> often is larger (taller) than needed for its entries (as the JList is expanded to window height).</p>\n<p>And the context menu always appears, even if I click on the blank area of the JList.</p>\n<p>I want the context-menu (JPopupMenu) to only show up, if the user right-clicks an entry, <em>not</em> if the user clicks on the blank space below the last list entry.\nThe menu options are only applicable to a certain entry, not to the <code>JList</code> in its entirety.</p>\n<p><a href=\"https://i.stack.imgur.com/hXZiK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hXZiK.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried <code>setComponentPopupMenu</code> on a custom <code>ListCellRenderer</code> instead of on the list but that doesn't show a menu at all.</p>\n<p>How could I get an only-on-entry context menu for my JList?</p>\n"},{"tags":["javascript","java","reactjs","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650033637,"creation_date":1650033637,"answer_id":71885411,"question_id":71885042,"body_markdown":"&gt; So basically, I need to figure out how to get the input (both file AND\r\n&gt; title) at once,\r\n\r\nYou need to send a POST request to the backend with your image and the title. It HTML 5, the standard way to do this is with a form with an input of type file\r\n\r\n&lt;form action=&quot;...&quot; method=&quot;POST&quot;&gt;\r\n&lt;input type=&quot;file&quot; /&gt;\r\n&lt;/form&gt;\r\n\r\nThere is actually also JavaScript API to set the file input to only accept image files; I think this worked using file extension.\r\n\r\n&gt; send it to my backend and save it in the Post DB. Am I\r\n&gt; gonna need to pass the title as an argument in my post controller?\r\n\r\nStandard file posts have the name of the file included\r\n\r\n&gt; Since the UserPost DB is a one to many relationship with a User, I am\r\n&gt; gonna need to pass that logged in user&#39;s ID to my controller so that\r\n&gt; it gets sent to the post DB, just not sure how.\r\n\r\nYou should not send the user id. In fact, you should typically be wary of sending the user id to the front end at all. Everything in javascript can be inspected by the user... or someone else who sits at his/her desk.\r\n\r\nInstead you can rely on the current session (create on the backend) for user identification.","title":"How can I pass both the title and an image file from my front end (React.js) to my backend API (Spring Boot)?","body":"<blockquote>\n<p>So basically, I need to figure out how to get the input (both file AND\ntitle) at once,</p>\n</blockquote>\n<p>You need to send a POST request to the backend with your image and the title. It HTML 5, the standard way to do this is with a form with an input of type file</p>\n\n\n\n<p>There is actually also JavaScript API to set the file input to only accept image files; I think this worked using file extension.</p>\n<blockquote>\n<p>send it to my backend and save it in the Post DB. Am I\ngonna need to pass the title as an argument in my post controller?</p>\n</blockquote>\n<p>Standard file posts have the name of the file included</p>\n<blockquote>\n<p>Since the UserPost DB is a one to many relationship with a User, I am\ngonna need to pass that logged in user's ID to my controller so that\nit gets sent to the post DB, just not sure how.</p>\n</blockquote>\n<p>You should not send the user id. In fact, you should typically be wary of sending the user id to the front end at all. Everything in javascript can be inspected by the user... or someone else who sits at his/her desk.</p>\n<p>Instead you can rely on the current session (create on the backend) for user identification.</p>\n"}],"owner":{"account_id":19531296,"reputation":173,"user_id":14290998,"display_name":"Stephen Aranda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650196505,"creation_date":1650031626,"question_id":71885042,"body_markdown":"I am attempting to make an application that allows a registered user to submit an image file (.jpeg, .png, etc) along with a title of that image. I am having trouble wrapping my mind around how to do this.\r\n\r\nI need to send the image to an amazon AWS S3 bucket, and I was able to figure out how to do this, but adding a title input has confused me a lot in terms of how to get both the file and title from my front-end (JSON) to my back-end API and have it be saved to my post database (JPA). I have a user_post database that has the following column: ID (post ID primary key), user_id (foreign key from User table), title, &amp; post_image (containing the file that is to be saved in the DB). So basically, I need to figure out how to get the input (both file and title) at once, send it to my back-end and save it in the Post DB. \r\n\r\nDo I need to pass the title as an argument in my post controller? Since the UserPost DB is a one to many relationship with a User, I need to pass that logged in user&#39;s ID to my controller so that it gets sent to the post DB, I&#39;m just not sure how.\r\n\r\nI have been searching online everywhere for help and figured I would give Stack Overflow a shot on this as I desperately need help. I am using JWT authentication through local storage for now to access user information such as username and id. Before I was testing my API with Postman by using the &quot;file&quot; key in the body and then proceeding to choose the image that is to be selected, but how can I do this if I want to add a title as well? Ideally, it would be the same but with text instead of file for the type as seen below but I am not sure. (Of course depending on what key I set for the title if I am thinking of it right).\r\n\r\n [![enter image description here][1]][1]\r\n\r\nThis is a screenshot of my front-end just for a visual in case it helps at all.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is my code, I apologize for it being so messy, I am working on cleaning it up as soon as I can. I will start with the front-end. I believe I need to set the key for my title input so that it gets passed to my back-end API, but I am not even sure if I am doing that right. I also needed to use a custom form validation since I am dealing with an image upload. I ended up putting the call to my API in my useForm.js file since my form validations are done in that custom hook.\r\n\r\nUpload.jsx:\r\n\r\n```javascript\r\nimport &#39;../../components/pages/styles/Uploads.css&#39;;\r\nimport {Formik, Field, Form, ErrorMessage} from &#39;formik&#39;;\r\nimport * as Yup from &#39;yup&#39;;\r\nimport {useEffect, useState} from &#39;react&#39;;\r\nimport {} from &#39;react-router-dom&#39;;\r\nimport {useDispatch, useSelector} from &#39;react-redux&#39;;\r\nimport axios from &#39;axios&#39;;\r\nimport {clearMessage} from &#39;../../slices/messages&#39;;\r\nimport authHeader from &#39;../../services/auth-header&#39;;\r\nimport useForm from &#39;../../hooks/useForm&#39;;\r\nconst API_URL = &#39;http://localhost:8080/api/posts&#39;;\r\n\r\nfunction Uploads(onUpload) {\r\n\tconst {user: currentUser} = useSelector((state) =&gt; state.auth);\r\n\tconst [file, setFile] = useState();\r\n\tconst [title, setTitle] = useState();\r\n\tconst [description, setDescription] = useState(&#39;&#39;);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [content, setContent] = useState(&#39;&#39;);\r\n\tconst [preview, setPreview] = useState(null);\r\n\tconst initialValues = {\r\n\t\ttitle: &#39;&#39;,\r\n\t};\r\n\r\n\tconst [formErrors, setFormErrors] = useState();\r\n\r\n\tuseEffect(() =&gt; {}, []);\r\n\r\n\tconst handlePost = (formValue) =&gt; {};\r\n\r\n\tconst onAddImage = (file) =&gt; {\r\n\t\twindow.URL.revokeObjectURL(preview);\r\n\t\tif (!file) return;\r\n\t\tsetPreview(window.URL.createObjectURL(file));\r\n\t};\r\n\r\n    //The postUserImage function below was moved to useForm.js \r\n    //since my form validations are done there. I might have \r\n    //messed this up. \r\n\r\n\t// const postUserImage = async (event) =&gt; {\r\n\t//This is the code that will get passed to my backend. I need the image and title to be added here somehow.\r\n\t// \tevent.preventDefault();\r\n\r\n\t// \tconst formData = new FormData();\r\n\t// \tformData.append(&#39;file&#39;, file);\r\n\t// \tformData.append(&#39;title&#39;, title);\r\n\r\n\t// \tconst result = await axios.post(&#39;/upload&#39;, formData, {\r\n\t// \t\theaders: {...authHeader(), &#39;Content-Type&#39;: &#39;multipart/form-data&#39;},\r\n\t// \t});\r\n\t// \tconsole.log(result.data);\r\n\t// };\r\n\r\n\t//Custom hook call\r\n\t// const {handleChange, values, errors, handleSubmit} = useForm(postUserImage);\r\n\tconst initialState = {title: &#39;&#39;};\r\n\tconst validations = [\r\n\t\t({title}) =&gt; isRequired(title) || {title: &#39;Title is required&#39;},\r\n\t];\r\n\tconst {values, isValid, errors, changeHandler, submitHandler, touched} =\r\n\t\tuseForm(initialState, validations, onUpload);\r\n\r\n\treturn (\r\n\t\t&lt;div className=&#39;page&#39;&gt;\r\n\t\t\t&lt;div className=&#39;upload-card&#39;&gt;\r\n\t\t\t\t&lt;div id=&#39;preview&#39;&gt;\r\n\t\t\t\t\t&lt;img\r\n\t\t\t\t\t\tsrc={preview || require(&#39;../../assets/user-solid.jpeg&#39;)}\r\n\t\t\t\t\t\tid=&#39;image&#39;\r\n\t\t\t\t\t\talt=&#39;Thumbnail&#39;\r\n\t\t\t\t\t\tclassName=&#39;user-post&#39;\r\n\t\t\t\t\t/&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;div className=&#39;upload-container&#39;&gt;\r\n\t\t\t\t&lt;div className=&#39;post-form-container&#39;&gt;\r\n\t\t\t\t\t&lt;p id=&#39;upload-form-label&#39;&gt;Hello, feel free to post an image!&lt;/p&gt;\r\n\t\t\t\t\t&lt;form\r\n\t\t\t\t\t\t// onSubmit={&#39;return Validate(this);&#39;}\r\n\r\n\t\t\t\t\t\tonSubmit={submitHandler}\r\n\t\t\t\t\t\tclassName=&#39;upload-form&#39;\r\n\t\t\t\t\t&gt;\r\n\t\t\t\t\t\t&lt;div className=&#39;panel&#39;&gt;\r\n\t\t\t\t\t\t\t&lt;div className=&#39;button_outer&#39;&gt;\r\n\t\t\t\t\t\t\t\t&lt;div className=&#39;btn_upload&#39;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;input\r\n\t\t\t\t\t\t\t\t\t\tfilename={file}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =&gt; onAddImage(e.target.files[0])}\r\n\t\t\t\t\t\t\t\t\t\ttype=&#39;file&#39;\r\n\t\t\t\t\t\t\t\t\t\taccept=&#39;.jpeg,.svg,.gif,.png&#39;\r\n\t\t\t\t\t\t\t\t\t\tid=&#39;image-selection-btn&#39;\r\n\t\t\t\t\t\t\t\t\t&gt;&lt;/input&gt;\r\n\t\t\t\t\t\t\t\t\tChoose your Art\r\n\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t&lt;input\r\n\t\t\t\t\t\t\tname=&#39;title&#39;\r\n\t\t\t\t\t\t\ttype=&#39;text&#39;\r\n\t\t\t\t\t\t\tclassName=&#39;form-control&#39;\r\n\t\t\t\t\t\t\tplaceholder=&#39;Enter Title&#39;\r\n\t\t\t\t\t\t\tid=&#39;cred-input&#39;\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={values.title}\r\n\t\t\t\t\t\t\tonChange={changeHandler}\r\n\t\t\t\t\t\t/&gt;\r\n\r\n\t\t\t\t\t\t{touched.title &amp;&amp; errors.title &amp;&amp; (\r\n\t\t\t\t\t\t\t&lt;p className=&#39;error&#39;&gt;{errors.title}&lt;/p&gt;\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t&lt;button type=&#39;submit&#39; id=&#39;post-upload-btn&#39; disabled={isValid}&gt;\r\n\t\t\t\t\t\t\tUpload Image\r\n\t\t\t\t\t\t&lt;/button&gt;\r\n\t\t\t\t\t&lt;/form&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t);\r\n\tfunction isRequired(value) {\r\n\t\treturn value != null &amp;&amp; value.trim().length &gt; 0;\r\n\t}\r\n\r\n\tfunction isSame(value1, value2) {\r\n\t\treturn value1 === value2;\r\n\t}\r\n}\r\n\r\nexport default Uploads;\r\n```\r\n\r\nuseForm.js:\r\n\r\n```javascript\r\nimport React, {useState} from &#39;react&#39;;\r\nimport {omit} from &#39;lodash&#39;;\r\nimport authHeader from &#39;../services/auth-header&#39;;\r\nimport axios from &#39;axios&#39;;\r\n\r\nfunction useForm(initialState = {}, validations = [], onSubmit = () =&gt; {}) {\r\n\tconst API_URL = &#39;http://localhost:8080/api/posts&#39;;\r\n\t// Add the &#39;onSubmit&#39; argument\r\n\tconst {isValid: initialIsValid, errors: initialErrors} = validate(\r\n\t\tvalidations,\r\n\t\tinitialState\r\n\t);\r\n\tconst [values, setValues] = useState(initialState);\r\n\tconst [errors, setErrors] = useState(initialErrors);\r\n\tconst [isValid, setValid] = useState(initialIsValid);\r\n\tconst [touched, setTouched] = useState({});\r\n\tconst [file, setFile] = useState();\r\n\tconst [title, setTitle] = useState();\r\n\tconst changeHandler = (event) =&gt; {\r\n\t\tconst newValues = {...values, [event.target.name]: event.target.value};\r\n\t\tconst {isValid, errors} = validate(validations, newValues);\r\n\t\tsetValues(newValues);\r\n\t\tsetValid(isValid);\r\n\t\tsetErrors(errors);\r\n\t\tsetTouched({...touched, [event.target.name]: true});\r\n\t};\r\n\t// Add this\r\n\tconst submitHandler = async (event) =&gt; {\r\n\t\tevent.preventDefault();\r\n\t\tonSubmit(values);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append(&#39;file&#39;, file);\r\n\t\tformData.append(&#39;title&#39;, values.title);\r\n\r\n\t\tconst result = await axios.post(&#39;/upload&#39;, formData, {\r\n\t\t\theaders: {...authHeader(), &#39;Content-Type&#39;: &#39;multipart/form-data&#39;},\r\n\t\t});\r\n\t\tconsole.log(result.data);\r\n\t};\r\n\treturn {values, changeHandler, isValid, errors, touched, submitHandler}; // Add &#39;submitHandler&#39;\r\n}\r\n\r\nfunction validate(validations, values) {\r\n\tconst errors = validations\r\n\t\t.map((validation) =&gt; validation(values))\r\n\t\t.filter((validation) =&gt; typeof validation === &#39;object&#39;);\r\n\treturn {\r\n\t\tisValid: errors.length === 0,\r\n\t\terrors: errors.reduce((errors, error) =&gt; ({...errors, ...error}), {}),\r\n\t};\r\n}\r\n\r\nexport default useForm;\r\n```\r\n\r\nBack-end code:\r\n\r\nUser.java:\r\n\r\n```java\r\npackage com.Application.models;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.Email;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.Size;\r\nimport java.io.Serializable;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(\tname = &quot;users&quot;,\r\n        uniqueConstraints = {\r\n                @UniqueConstraint(columnNames = &quot;username&quot;),\r\n\r\n\r\n        })\r\n\r\npublic class User {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    @NotBlank\r\n    @Size(max = 20)\r\n    private String username;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    @NotBlank\r\n    @Size(max = 50)\r\n    @Email\r\n    private String email;\r\n\r\n    @NotBlank\r\n    @Size(max = 120)\r\n    private String password;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\tname = &quot;user_roles&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n    @OneToMany(cascade = CascadeType.ALL,\r\n            fetch = FetchType.LAZY,\r\n            mappedBy = &quot;user&quot;)\r\n    @Column(name = &quot;user_post&quot;)\r\n    private Set&lt;UserPosts&gt; userPosts = new HashSet&lt;&gt;();\r\n\r\n    public User(String username, String email\r\n                ,String password) {\r\n\r\n        this.username = username;\r\n        this.email = email;\r\n        this.password = password;\r\n    }\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\npublic Long getId() {\r\n    return id;\r\n}\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n    public Set&lt;Role&gt; getRoles() {\r\n        return roles;\r\n    }\r\n    public void setRoles(Set&lt;Role&gt; roles) {\r\n        this.roles = roles;\r\n    }\r\n}\r\n```\r\n\r\nUserRepository.java:\r\n\r\n```java\r\npackage com.Application.repository;\r\nimport java.util.Optional;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport com.HashTek.HashTekApplication.models.User;\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    Optional&lt;User&gt; findByUsername(String username);\r\n    Optional&lt;User&gt; findByEmail(String email);\r\n\r\n    Boolean existsByUsername(String username);\r\n    Boolean existsByEmail(String email);\r\n}\r\n```\r\n\r\nUserPost.java: \r\n\r\n```java\r\npackage com.Application.models;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;user_posts&quot;)\r\npublic class UserPosts {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @ManyToOne(cascade = {CascadeType.ALL}, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    private User user;\r\n\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    @Column(name = &quot;post_image&quot;)\r\n    private String postImage;\r\n\r\n    @Column(name = &quot;likes&quot;)\r\n    private Long likes;\r\n\r\n    @Column(name = &quot;views&quot;)\r\n    private Long views;\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getPostImage() {\r\n        return postImage;\r\n    }\r\n\r\n    public String getPostImageComplete() {\r\n        return &quot; https://hashtekbucket.s3.us-east-2.amazonaws.com/&quot; + postImage;\r\n    }\r\n\r\n    public void setPostImage(String postImage) {\r\n        this.postImage = postImage;\r\n    }\r\n\r\n    public Long getLikes() {\r\n        return likes;\r\n    }\r\n\r\n    public void setLikes(Long likes) {\r\n        this.likes = likes;\r\n    }\r\n\r\n    public Long getViews() {\r\n        return views;\r\n    }\r\n\r\n    public void setViews(Long views) {\r\n        this.views = views;\r\n    }\r\n}\r\n```\r\n\r\nUserPostController.java:\r\n\r\n```java\r\npackage com.Application.controller;\r\n\r\nimport com.Application.models.User;\r\nimport com.Application.models.UserPosts;\r\nimport com.Application.payload.response.MessageResponse;\r\nimport com.Application.repository.UserPostsRepository;\r\nimport com.Application.security.jwt.JwtUtils;\r\nimport com.Application.security.services.CustomUserDetails;\r\nimport com.Application.security.services.CustomUserDetailsService;\r\nimport com.amazonaws.auth.AWSCredentials;\r\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\r\nimport com.amazonaws.auth.BasicAWSCredentials;\r\nimport com.amazonaws.regions.Regions;\r\nimport com.amazonaws.services.s3.AmazonS3;\r\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\nimport com.amazonaws.services.s3.model.PutObjectRequest;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.servlet.mvc.support.RedirectAttributes;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\n\r\nimport static org.apache.http.entity.ContentType.*;\r\nimport static org.apache.http.entity.ContentType.IMAGE_GIF;\r\n\r\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/api/posts&quot;)\r\npublic class UserPostsController {\r\n    private static final String AUTH_HEADER = &quot;authorization&quot;;\r\n\r\n    //  @Autowired\r\n    //  private final UserPostsRepository userPostRepo;\r\n    @Autowired\r\n    private CustomUserDetailsService userDetailsService;\r\n    @Autowired\r\n    JwtUtils jwtUtils;\r\n\r\n    /**  AWS CREDENTIALS SOURCE\r\n     For AWS Builder  **/\r\n    @Value(&quot;${cloud.aws.credentials.access-key}&quot;)\r\n    private String accessKey;\r\n    @Value(&quot;${cloud.aws.credentials.secret-key}&quot;)\r\n    private String accessSecret;\r\n    @Value(&quot;${cloud.aws.region.static}&quot;)\r\n    private String region;\r\n\r\n    //    public UserPostsController(UserPostsRepository userPostRepo) {\r\n    //        this.userPostRepo = userPostRepo;\r\n    //    }\r\n\r\n    @PostMapping(\r\n        path = &quot;/upload&quot;,\r\n        consumes = MediaType.MULTIPART_FORM_DATA_VALUE,\r\n        produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity &lt; ? &gt; userPostUpload(@RequestParam(&quot;file&quot;) MultipartFile file,\r\n        RedirectAttributes redirectAttributes,\r\n        Model model,\r\n        UserPosts userPosts, HttpServletRequest request, User user) {\r\n\r\n        //Check if POST is empty\r\n        if (file.isEmpty()) {\r\n\r\n            return ResponseEntity.ok(new MessageResponse(&quot;Please select a file to upload&quot;));\r\n        }\r\n\r\n        isImage(file);\r\n\r\n        //Hard coded bucketName -&gt; linked to AWS\r\n        String bucketName = &quot;hashtekbucket&quot;;\r\n\r\n        //Add timestamp to name to prevent duplicate names\r\n        String fileName = System.currentTimeMillis() + &quot;_&quot; + file.getOriginalFilename();\r\n\r\n        //getting aws access\r\n        AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\r\n\r\n        //Building S3Client connection\r\n        AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\r\n            .withRegion(Regions.US_EAST_2)\r\n            .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n            .withRegion(region).build();\r\n\r\n        try {\r\n            //            //PUSH TO BUCKET\r\n            File fileObj = convertMultiPartFileToFile(file);\r\n            s3Client.putObject(new PutObjectRequest(bucketName, fileName, fileObj));\r\n            fileObj.delete();\r\n            //Show Successful Upload\r\n            redirectAttributes.addFlashAttribute(&quot;message_2&quot;, fileName + &quot;: SuccessFully Uploaded On AWS S3&quot;);\r\n\r\n            //JWT Token retrieval from HTTP request header\r\n            final String authHeader = request.getHeader(AUTH_HEADER);\r\n            String username = null;\r\n            String jwt = null;\r\n\r\n            if (authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer&quot;)) {\r\n                jwt = authHeader.substring(7);\r\n                username = jwtUtils.getUserNameFromJwtToken(jwt);\r\n            }\r\n\r\n            //Load logged in Username from JWT Token obtained\r\n            CustomUserDetails customUser = (CustomUserDetails) userDetailsService.loadUserByUsername(username);\r\n            Long userId = customUser.getId();\r\n\r\n            UserPosts myUserPost = new UserPosts();\r\n\r\n            myUserPost.setId(userId);\r\n            myUserPost.setPostImage(fileName);\r\n\r\n            // The code under here is how I saved a user profile by ID,               // but I am getting an error in my post repo\r\n            // since there is no post Id until a user creates one.\r\n\r\n            //            //Find User by id\r\n            //            userProfile = userProfRepo.findByUserId(userId);\r\n            //\r\n            //            //Set resource name to\r\n            //            userProfile.setProfile_banner(fileName);\r\n            //\r\n            //            //Save database changes\r\n            //            userProfRepo.save(userProfile);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        model.addAttribute(&quot;userPosts&quot;, userPosts);\r\n        return ResponseEntity.ok(new MessageResponse(&quot;File Upload Successful&quot;));\r\n\r\n    }\r\n\r\n    private void isImage(MultipartFile file) {\r\n        if (!Arrays.asList(\r\n                IMAGE_JPEG.getMimeType(),\r\n                IMAGE_SVG.getMimeType(),\r\n                IMAGE_PNG.getMimeType(),\r\n                IMAGE_GIF.getMimeType()).contains(file.getContentType())) {\r\n            throw new IllegalStateException(&quot;File must be an image [&quot; + file.getContentType() + &quot;]&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     File Conversion\r\n     **/\r\n    private File convertMultiPartFileToFile(MultipartFile file) {\r\n        File convertedFile = new File(file.getOriginalFilename());\r\n        try (FileOutputStream fos = new FileOutputStream(convertedFile)) {\r\n            fos.write(file.getBytes());\r\n        } catch (IOException e) {\r\n            // log.error(&quot;Error converting multipartFile to file&quot;, e);\r\n        }\r\n        return convertedFile;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nIf anyone could help me at all, any information, tips, or anything, it would mean the world. If I am missing anything that seems important please let me know.\r\n\r\n  [1]: https://i.stack.imgur.com/uC90W.png\r\n  [2]: https://i.stack.imgur.com/kllRC.png\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I pass both the title and an image file from my front end (React.js) to my backend API (Spring Boot)?","body":"<p>I am attempting to make an application that allows a registered user to submit an image file (.jpeg, .png, etc) along with a title of that image. I am having trouble wrapping my mind around how to do this.</p>\n<p>I need to send the image to an amazon AWS S3 bucket, and I was able to figure out how to do this, but adding a title input has confused me a lot in terms of how to get both the file and title from my front-end (JSON) to my back-end API and have it be saved to my post database (JPA). I have a user_post database that has the following column: ID (post ID primary key), user_id (foreign key from User table), title, &amp; post_image (containing the file that is to be saved in the DB). So basically, I need to figure out how to get the input (both file and title) at once, send it to my back-end and save it in the Post DB.</p>\n<p>Do I need to pass the title as an argument in my post controller? Since the UserPost DB is a one to many relationship with a User, I need to pass that logged in user's ID to my controller so that it gets sent to the post DB, I'm just not sure how.</p>\n<p>I have been searching online everywhere for help and figured I would give Stack Overflow a shot on this as I desperately need help. I am using JWT authentication through local storage for now to access user information such as username and id. Before I was testing my API with Postman by using the &quot;file&quot; key in the body and then proceeding to choose the image that is to be selected, but how can I do this if I want to add a title as well? Ideally, it would be the same but with text instead of file for the type as seen below but I am not sure. (Of course depending on what key I set for the title if I am thinking of it right).</p>\n<p><a href=\"https://i.stack.imgur.com/uC90W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uC90W.png\" alt=\"enter image description here\" /></a></p>\n<p>This is a screenshot of my front-end just for a visual in case it helps at all.</p>\n<p><a href=\"https://i.stack.imgur.com/kllRC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kllRC.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code, I apologize for it being so messy, I am working on cleaning it up as soon as I can. I will start with the front-end. I believe I need to set the key for my title input so that it gets passed to my back-end API, but I am not even sure if I am doing that right. I also needed to use a custom form validation since I am dealing with an image upload. I ended up putting the call to my API in my useForm.js file since my form validations are done in that custom hook.</p>\n<p>Upload.jsx:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import '../../components/pages/styles/Uploads.css';\nimport {Formik, Field, Form, ErrorMessage} from 'formik';\nimport * as Yup from 'yup';\nimport {useEffect, useState} from 'react';\nimport {} from 'react-router-dom';\nimport {useDispatch, useSelector} from 'react-redux';\nimport axios from 'axios';\nimport {clearMessage} from '../../slices/messages';\nimport authHeader from '../../services/auth-header';\nimport useForm from '../../hooks/useForm';\nconst API_URL = 'http://localhost:8080/api/posts';\n\nfunction Uploads(onUpload) {\n    const {user: currentUser} = useSelector((state) =&gt; state.auth);\n    const [file, setFile] = useState();\n    const [title, setTitle] = useState();\n    const [description, setDescription] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [content, setContent] = useState('');\n    const [preview, setPreview] = useState(null);\n    const initialValues = {\n        title: '',\n    };\n\n    const [formErrors, setFormErrors] = useState();\n\n    useEffect(() =&gt; {}, []);\n\n    const handlePost = (formValue) =&gt; {};\n\n    const onAddImage = (file) =&gt; {\n        window.URL.revokeObjectURL(preview);\n        if (!file) return;\n        setPreview(window.URL.createObjectURL(file));\n    };\n\n    //The postUserImage function below was moved to useForm.js \n    //since my form validations are done there. I might have \n    //messed this up. \n\n    // const postUserImage = async (event) =&gt; {\n    //This is the code that will get passed to my backend. I need the image and title to be added here somehow.\n    //  event.preventDefault();\n\n    //  const formData = new FormData();\n    //  formData.append('file', file);\n    //  formData.append('title', title);\n\n    //  const result = await axios.post('/upload', formData, {\n    //      headers: {...authHeader(), 'Content-Type': 'multipart/form-data'},\n    //  });\n    //  console.log(result.data);\n    // };\n\n    //Custom hook call\n    // const {handleChange, values, errors, handleSubmit} = useForm(postUserImage);\n    const initialState = {title: ''};\n    const validations = [\n        ({title}) =&gt; isRequired(title) || {title: 'Title is required'},\n    ];\n    const {values, isValid, errors, changeHandler, submitHandler, touched} =\n        useForm(initialState, validations, onUpload);\n\n    return (\n        &lt;div className='page'&gt;\n            &lt;div className='upload-card'&gt;\n                &lt;div id='preview'&gt;\n                    &lt;img\n                        src={preview || require('../../assets/user-solid.jpeg')}\n                        id='image'\n                        alt='Thumbnail'\n                        className='user-post'\n                    /&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div className='upload-container'&gt;\n                &lt;div className='post-form-container'&gt;\n                    &lt;p id='upload-form-label'&gt;Hello, feel free to post an image!&lt;/p&gt;\n                    &lt;form\n                        // onSubmit={'return Validate(this);'}\n\n                        onSubmit={submitHandler}\n                        className='upload-form'\n                    &gt;\n                        &lt;div className='panel'&gt;\n                            &lt;div className='button_outer'&gt;\n                                &lt;div className='btn_upload'&gt;\n                                    &lt;input\n                                        filename={file}\n                                        onChange={(e) =&gt; onAddImage(e.target.files[0])}\n                                        type='file'\n                                        accept='.jpeg,.svg,.gif,.png'\n                                        id='image-selection-btn'\n                                    &gt;&lt;/input&gt;\n                                    Choose your Art\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;input\n                            name='title'\n                            type='text'\n                            className='form-control'\n                            placeholder='Enter Title'\n                            id='cred-input'\n                            required\n                            value={values.title}\n                            onChange={changeHandler}\n                        /&gt;\n\n                        {touched.title &amp;&amp; errors.title &amp;&amp; (\n                            &lt;p className='error'&gt;{errors.title}&lt;/p&gt;\n                        )}\n\n                        &lt;button type='submit' id='post-upload-btn' disabled={isValid}&gt;\n                            Upload Image\n                        &lt;/button&gt;\n                    &lt;/form&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    );\n    function isRequired(value) {\n        return value != null &amp;&amp; value.trim().length &gt; 0;\n    }\n\n    function isSame(value1, value2) {\n        return value1 === value2;\n    }\n}\n\nexport default Uploads;\n</code></pre>\n<p>useForm.js:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import React, {useState} from 'react';\nimport {omit} from 'lodash';\nimport authHeader from '../services/auth-header';\nimport axios from 'axios';\n\nfunction useForm(initialState = {}, validations = [], onSubmit = () =&gt; {}) {\n    const API_URL = 'http://localhost:8080/api/posts';\n    // Add the 'onSubmit' argument\n    const {isValid: initialIsValid, errors: initialErrors} = validate(\n        validations,\n        initialState\n    );\n    const [values, setValues] = useState(initialState);\n    const [errors, setErrors] = useState(initialErrors);\n    const [isValid, setValid] = useState(initialIsValid);\n    const [touched, setTouched] = useState({});\n    const [file, setFile] = useState();\n    const [title, setTitle] = useState();\n    const changeHandler = (event) =&gt; {\n        const newValues = {...values, [event.target.name]: event.target.value};\n        const {isValid, errors} = validate(validations, newValues);\n        setValues(newValues);\n        setValid(isValid);\n        setErrors(errors);\n        setTouched({...touched, [event.target.name]: true});\n    };\n    // Add this\n    const submitHandler = async (event) =&gt; {\n        event.preventDefault();\n        onSubmit(values);\n        const formData = new FormData();\n        formData.append('file', file);\n        formData.append('title', values.title);\n\n        const result = await axios.post('/upload', formData, {\n            headers: {...authHeader(), 'Content-Type': 'multipart/form-data'},\n        });\n        console.log(result.data);\n    };\n    return {values, changeHandler, isValid, errors, touched, submitHandler}; // Add 'submitHandler'\n}\n\nfunction validate(validations, values) {\n    const errors = validations\n        .map((validation) =&gt; validation(values))\n        .filter((validation) =&gt; typeof validation === 'object');\n    return {\n        isValid: errors.length === 0,\n        errors: errors.reduce((errors, error) =&gt; ({...errors, ...error}), {}),\n    };\n}\n\nexport default useForm;\n</code></pre>\n<p>Back-end code:</p>\n<p>User.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.Application.models;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\nimport java.io.Serializable;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.UUID;\n\n@Entity\n@Table( name = &quot;users&quot;,\n        uniqueConstraints = {\n                @UniqueConstraint(columnNames = &quot;username&quot;),\n\n\n        })\n\npublic class User {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n\n    @Column(name = &quot;username&quot;)\n    @NotBlank\n    @Size(max = 20)\n    private String username;\n\n    @Column(name = &quot;email&quot;)\n    @NotBlank\n    @Size(max = 50)\n    @Email\n    private String email;\n\n    @NotBlank\n    @Size(max = 120)\n    private String password;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable( name = &quot;user_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    @OneToMany(cascade = CascadeType.ALL,\n            fetch = FetchType.LAZY,\n            mappedBy = &quot;user&quot;)\n    @Column(name = &quot;user_post&quot;)\n    private Set&lt;UserPosts&gt; userPosts = new HashSet&lt;&gt;();\n\n    public User(String username, String email\n                ,String password) {\n\n        this.username = username;\n        this.email = email;\n        this.password = password;\n    }\n\n    public User() {\n\n    }\n\npublic Long getId() {\n    return id;\n}\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    public Set&lt;Role&gt; getRoles() {\n        return roles;\n    }\n    public void setRoles(Set&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n}\n</code></pre>\n<p>UserRepository.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.Application.repository;\nimport java.util.Optional;\nimport java.util.UUID;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport com.HashTek.HashTekApplication.models.User;\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findByUsername(String username);\n    Optional&lt;User&gt; findByEmail(String email);\n\n    Boolean existsByUsername(String username);\n    Boolean existsByEmail(String email);\n}\n</code></pre>\n<p>UserPost.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.Application.models;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;user_posts&quot;)\npublic class UserPosts {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @ManyToOne(cascade = {CascadeType.ALL}, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    private User user;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    @Column(name = &quot;post_image&quot;)\n    private String postImage;\n\n    @Column(name = &quot;likes&quot;)\n    private Long likes;\n\n    @Column(name = &quot;views&quot;)\n    private Long views;\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getPostImage() {\n        return postImage;\n    }\n\n    public String getPostImageComplete() {\n        return &quot; https://hashtekbucket.s3.us-east-2.amazonaws.com/&quot; + postImage;\n    }\n\n    public void setPostImage(String postImage) {\n        this.postImage = postImage;\n    }\n\n    public Long getLikes() {\n        return likes;\n    }\n\n    public void setLikes(Long likes) {\n        this.likes = likes;\n    }\n\n    public Long getViews() {\n        return views;\n    }\n\n    public void setViews(Long views) {\n        this.views = views;\n    }\n}\n</code></pre>\n<p>UserPostController.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.Application.controller;\n\nimport com.Application.models.User;\nimport com.Application.models.UserPosts;\nimport com.Application.payload.response.MessageResponse;\nimport com.Application.repository.UserPostsRepository;\nimport com.Application.security.jwt.JwtUtils;\nimport com.Application.security.services.CustomUserDetails;\nimport com.Application.security.services.CustomUserDetailsService;\nimport com.amazonaws.auth.AWSCredentials;\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport com.amazonaws.services.s3.model.PutObjectRequest;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.servlet.mvc.support.RedirectAttributes;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.Arrays;\n\nimport static org.apache.http.entity.ContentType.*;\nimport static org.apache.http.entity.ContentType.IMAGE_GIF;\n\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\n@RestController\n@RequestMapping(&quot;/api/posts&quot;)\npublic class UserPostsController {\n    private static final String AUTH_HEADER = &quot;authorization&quot;;\n\n    //  @Autowired\n    //  private final UserPostsRepository userPostRepo;\n    @Autowired\n    private CustomUserDetailsService userDetailsService;\n    @Autowired\n    JwtUtils jwtUtils;\n\n    /**  AWS CREDENTIALS SOURCE\n     For AWS Builder  **/\n    @Value(&quot;${cloud.aws.credentials.access-key}&quot;)\n    private String accessKey;\n    @Value(&quot;${cloud.aws.credentials.secret-key}&quot;)\n    private String accessSecret;\n    @Value(&quot;${cloud.aws.region.static}&quot;)\n    private String region;\n\n    //    public UserPostsController(UserPostsRepository userPostRepo) {\n    //        this.userPostRepo = userPostRepo;\n    //    }\n\n    @PostMapping(\n        path = &quot;/upload&quot;,\n        consumes = MediaType.MULTIPART_FORM_DATA_VALUE,\n        produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity &lt; ? &gt; userPostUpload(@RequestParam(&quot;file&quot;) MultipartFile file,\n        RedirectAttributes redirectAttributes,\n        Model model,\n        UserPosts userPosts, HttpServletRequest request, User user) {\n\n        //Check if POST is empty\n        if (file.isEmpty()) {\n\n            return ResponseEntity.ok(new MessageResponse(&quot;Please select a file to upload&quot;));\n        }\n\n        isImage(file);\n\n        //Hard coded bucketName -&gt; linked to AWS\n        String bucketName = &quot;hashtekbucket&quot;;\n\n        //Add timestamp to name to prevent duplicate names\n        String fileName = System.currentTimeMillis() + &quot;_&quot; + file.getOriginalFilename();\n\n        //getting aws access\n        AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\n\n        //Building S3Client connection\n        AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\n            .withRegion(Regions.US_EAST_2)\n            .withCredentials(new AWSStaticCredentialsProvider(credentials))\n            .withRegion(region).build();\n\n        try {\n            //            //PUSH TO BUCKET\n            File fileObj = convertMultiPartFileToFile(file);\n            s3Client.putObject(new PutObjectRequest(bucketName, fileName, fileObj));\n            fileObj.delete();\n            //Show Successful Upload\n            redirectAttributes.addFlashAttribute(&quot;message_2&quot;, fileName + &quot;: SuccessFully Uploaded On AWS S3&quot;);\n\n            //JWT Token retrieval from HTTP request header\n            final String authHeader = request.getHeader(AUTH_HEADER);\n            String username = null;\n            String jwt = null;\n\n            if (authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer&quot;)) {\n                jwt = authHeader.substring(7);\n                username = jwtUtils.getUserNameFromJwtToken(jwt);\n            }\n\n            //Load logged in Username from JWT Token obtained\n            CustomUserDetails customUser = (CustomUserDetails) userDetailsService.loadUserByUsername(username);\n            Long userId = customUser.getId();\n\n            UserPosts myUserPost = new UserPosts();\n\n            myUserPost.setId(userId);\n            myUserPost.setPostImage(fileName);\n\n            // The code under here is how I saved a user profile by ID,               // but I am getting an error in my post repo\n            // since there is no post Id until a user creates one.\n\n            //            //Find User by id\n            //            userProfile = userProfRepo.findByUserId(userId);\n            //\n            //            //Set resource name to\n            //            userProfile.setProfile_banner(fileName);\n            //\n            //            //Save database changes\n            //            userProfRepo.save(userProfile);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        model.addAttribute(&quot;userPosts&quot;, userPosts);\n        return ResponseEntity.ok(new MessageResponse(&quot;File Upload Successful&quot;));\n\n    }\n\n    private void isImage(MultipartFile file) {\n        if (!Arrays.asList(\n                IMAGE_JPEG.getMimeType(),\n                IMAGE_SVG.getMimeType(),\n                IMAGE_PNG.getMimeType(),\n                IMAGE_GIF.getMimeType()).contains(file.getContentType())) {\n            throw new IllegalStateException(&quot;File must be an image [&quot; + file.getContentType() + &quot;]&quot;);\n        }\n\n    }\n\n    /**\n     File Conversion\n     **/\n    private File convertMultiPartFileToFile(MultipartFile file) {\n        File convertedFile = new File(file.getOriginalFilename());\n        try (FileOutputStream fos = new FileOutputStream(convertedFile)) {\n            fos.write(file.getBytes());\n        } catch (IOException e) {\n            // log.error(&quot;Error converting multipartFile to file&quot;, e);\n        }\n        return convertedFile;\n    }\n\n\n}\n</code></pre>\n<p>If anyone could help me at all, any information, tips, or anything, it would mean the world. If I am missing anything that seems important please let me know.</p>\n"},{"tags":["java","hibernate","jpql","sql-like","string-comparison"],"comments":[{"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"score":0,"creation_date":1564485574,"post_id":57270354,"comment_id":101038939,"body_markdown":"Possible duplicate of [Hibernate Named Query Using Like and % % operators?](https://stackoverflow.com/questions/14119241/hibernate-named-query-using-like-and-operators)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/14119241/hibernate-named-query-using-like-and-operators\">Hibernate Named Query Using Like and % % operators?</a>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1564485806,"post_id":57270354,"comment_id":101039055,"body_markdown":"how is your query set up?","body":"how is your query set up?"},{"owner":{"account_id":387811,"reputation":197,"user_id":746388,"accept_rate":54,"display_name":"charmi"},"score":0,"creation_date":1564489106,"post_id":57270354,"comment_id":101040978,"body_markdown":"sqlQuery = &quot;select * from ( &quot; + sqlQuery + &quot;) a where a.payeeName ilike :searchpayeename &quot;;","body":"sqlQuery = &quot;select * from ( &quot; + sqlQuery + &quot;) a where a.payeeName ilike :searchpayeename &quot;;"}],"answers":[{"tags":[],"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1564600279,"creation_date":1564489791,"answer_id":57271735,"question_id":57270354,"body_markdown":"### Operator iLike not work with jpql, only with native query.\n\nIf you want use jpql you need simulate the iLike function using **`toLowerCase()`** on both sides of query.\n\n\n    jpqlQuery = &quot;SELECT a FROM EntityName a WHERE LOWER(a.payeeName) LIKE :searchpayeename&quot;;\n\n    SQLQuery query = sessionFactory.getCurrentSession().createSQLQuery(jpqlQuery)\n                    .addScalar(&quot;id&quot;, new LongType());\n\n    query.setParameter(&quot;searchpayeename&quot;, &quot;%&quot; + payee.toLowerCase() + &quot;%&quot;);\n\n\nOr using createNativeQuery:\n\n    sqlQuery = &quot;SELECT * FROM EntityName a WHERE &quot; +\n               &quot;LOWER(a.payeeName) LIKE LOWER(CONCAT(&#39;%&#39;,:searchpayeename, &#39;%&#39;))&quot;;\n\n    SQLQuery query = sessionFactory.getCurrentSession().createNativeQuery(sqlQuery)\n                    .addScalar(&quot;id&quot;, new LongType());\n\n    query.setParameter(&quot;searchpayeename&quot;, &quot;%&quot; + payee.toLowerCase() + &quot;%&quot;);","title":"How to use ilike and % in createSQLQuery in hibernate java","body":"<h3>Operator iLike not work with jpql, only with native query.</h3>\n<p>If you want use jpql you need simulate the iLike function using <strong><code>toLowerCase()</code></strong> on both sides of query.</p>\n<pre><code>jpqlQuery = &quot;SELECT a FROM EntityName a WHERE LOWER(a.payeeName) LIKE :searchpayeename&quot;;\n\nSQLQuery query = sessionFactory.getCurrentSession().createSQLQuery(jpqlQuery)\n                .addScalar(&quot;id&quot;, new LongType());\n\nquery.setParameter(&quot;searchpayeename&quot;, &quot;%&quot; + payee.toLowerCase() + &quot;%&quot;);\n</code></pre>\n<p>Or using createNativeQuery:</p>\n<pre><code>sqlQuery = &quot;SELECT * FROM EntityName a WHERE &quot; +\n           &quot;LOWER(a.payeeName) LIKE LOWER(CONCAT('%',:searchpayeename, '%'))&quot;;\n\nSQLQuery query = sessionFactory.getCurrentSession().createNativeQuery(sqlQuery)\n                .addScalar(&quot;id&quot;, new LongType());\n\nquery.setParameter(&quot;searchpayeename&quot;, &quot;%&quot; + payee.toLowerCase() + &quot;%&quot;);\n</code></pre>\n"}],"owner":{"account_id":387811,"reputation":197,"user_id":746388,"accept_rate":54,"display_name":"charmi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650196397,"creation_date":1564485268,"question_id":57270354,"body_markdown":"I have made a sql query now i need to add search from it. it needs to search from userfullname the given keyword query is working in postgresql but it is not working with CreateSqlQuery.\r\n\r\n```\r\nsqlQuery = &quot;select * from ( &quot; + sqlQuery + &quot;) a where a.payeeName ilike :searchpayeename &quot;;\r\nSQLQuery query = sessionFactory.getCurrentSession().createSQLQuery(sqlQuery)\r\n                .addScalar(&quot;id&quot;, new LongType());\r\n query.setParameter(&quot;searchpayeename&quot;, &quot;%&quot;+payee + &quot;%&quot;);\r\n```\r\n\r\nIt is not giving me result while if i run same query in sql it is giving    result. Any Idea.","title":"How to use ilike and % in createSQLQuery in hibernate java","body":"<p>I have made a sql query now i need to add search from it. it needs to search from userfullname the given keyword query is working in postgresql but it is not working with CreateSqlQuery.</p>\n\n<pre><code>sqlQuery = \"select * from ( \" + sqlQuery + \") a where a.payeeName ilike :searchpayeename \";\nSQLQuery query = sessionFactory.getCurrentSession().createSQLQuery(sqlQuery)\n                .addScalar(\"id\", new LongType());\n query.setParameter(\"searchpayeename\", \"%\"+payee + \"%\");\n</code></pre>\n\n<p>It is not giving me result while if i run same query in sql it is giving    result. Any Idea.</p>\n"},{"tags":["java","list","sorting","selection-sort"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1650147436,"post_id":71897826,"comment_id":127049139,"body_markdown":"I mean, you can change `1` to `-1`, though technically you should be checking if the result of `compare` is `&gt; 0` or `&lt; 0`.  `comparator.compare` is allowed to return, for example, `2`.","body":"I mean, you can change <code>1</code> to <code>-1</code>, though technically you should be checking if the result of <code>compare</code> is <code>&gt; 0</code> or <code>&lt; 0</code>.  <code>comparator.compare</code> is allowed to return, for example, <code>2</code>."},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1650147439,"post_id":71897826,"comment_id":127049140,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T- - *a negative integer, zero, or **a positive integer** as the first argument is less than, equal to, or **greater than the second**.* - so, `comparator.compare(items.get(j), items.get(min_idx))` is going to be positive (and not necessarily 1) when the item at `min_idx` is *less* than the item at `j`. So you are finding the maximum element, not  the minimum one.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a> - <i>a negative integer, zero, or <b>a positive integer</b> as the first argument is less than, equal to, or <b>greater than the second</b>.</i> - so, <code>comparator.compare(items.get(j), items.get(min_idx))</code> is going to be positive (and not necessarily 1) when the item at <code>min_idx</code> is <i>less</i> than the item at <code>j</code>. So you are finding the maximum element, not  the minimum one."},{"owner":{"account_id":15906159,"reputation":3,"user_id":11477318,"display_name":"Tim B"},"score":0,"creation_date":1650202803,"post_id":71897826,"comment_id":127056581,"body_markdown":"I changed the comparator from ==1 to &gt; 0 and played around with it a but further but this doesn&#39;t seem to fix the issue of the returned list being in descending order.","body":"I changed the comparator from ==1 to &gt; 0 and played around with it a but further but this doesn&#39;t seem to fix the issue of the returned list being in descending order."}],"answers":[{"tags":[],"owner":{"account_id":17951472,"reputation":89,"user_id":16237195,"display_name":"Hazhir Ahmadzadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650149501,"creation_date":1650149501,"answer_id":71898039,"question_id":71897826,"body_markdown":"In my opinion there is no need to create selInSort() method but if you insist then you can solve it as so:\r\n\r\n```\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\n\r\npublic class CustomSort&lt;E&gt; {\r\n    public List&lt;E&gt; selInsSort(List&lt;E&gt; items, Comparator&lt;E&gt; comparator) {\r\n        // TODO implement selection or insertion sort\r\n        //Selection sort O(N&#178;)\r\n        for (int i = 0; i &lt; items.size(); i++) {\r\n            // Find the minimum element in unsorted array\r\n            int min_idx = i;\r\n            for (int j = i + 1; j &lt; items.size(); j++)\r\n                if (comparator.compare(items.get(j), items.get(min_idx)) &gt; 0)\r\n                    min_idx = j;\r\n            // Swap the found minimum element with the first\r\n            // element\r\n            if (comparator.compare(items.get(min_idx), items.get(i)) &gt; 0) {\r\n                E temp = items.get(min_idx);\r\n                items.remove(min_idx);\r\n                items.add(i, temp);\r\n            }\r\n        }\r\n        return items;\r\n    }\r\n}\r\n```\r\n\r\nand finally you can call sort as so remember if you want to revese the list just change the comparator subtract from &quot;o2 - o1&quot; to &quot;o1 - o2&quot;.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\n\r\npublic class Stackoverflow {\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\r\n        integerList.add(24);\r\n        integerList.add(10);\r\n        integerList.add(3);\r\n        integerList.add(55);\r\n        integerList.add(65);\r\n        integerList.add(0);\r\n        integerList.add(10);\r\n        CustomSort&lt;Integer&gt; customSortInteger = new CustomSort&lt;&gt;();\r\n        Comparator&lt;Integer&gt; comparator = (o1, o2) -&gt; o2 - o1;\r\n        List&lt;Integer&gt; sortedList = customSortInteger.selInsSort(integerList, comparator);\r\n        System.out.println(sortedList);\r\n    }\r\n}\r\n```\r\nand the result should be: [0, 3, 10, 10, 24, 55, 65]\r\nwhat i am here trying to say is that you need to change your comparator condition to get different results.","title":"My selection sort implementation returns a properly sorted yet reversed list, how do I solve this?","body":"<p>In my opinion there is no need to create selInSort() method but if you insist then you can solve it as so:</p>\n<pre><code>import java.util.Comparator;\nimport java.util.List;\n\npublic class CustomSort&lt;E&gt; {\n    public List&lt;E&gt; selInsSort(List&lt;E&gt; items, Comparator&lt;E&gt; comparator) {\n        // TODO implement selection or insertion sort\n        //Selection sort O(N²)\n        for (int i = 0; i &lt; items.size(); i++) {\n            // Find the minimum element in unsorted array\n            int min_idx = i;\n            for (int j = i + 1; j &lt; items.size(); j++)\n                if (comparator.compare(items.get(j), items.get(min_idx)) &gt; 0)\n                    min_idx = j;\n            // Swap the found minimum element with the first\n            // element\n            if (comparator.compare(items.get(min_idx), items.get(i)) &gt; 0) {\n                E temp = items.get(min_idx);\n                items.remove(min_idx);\n                items.add(i, temp);\n            }\n        }\n        return items;\n    }\n}\n</code></pre>\n<p>and finally you can call sort as so remember if you want to revese the list just change the comparator subtract from &quot;o2 - o1&quot; to &quot;o1 - o2&quot;.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class Stackoverflow {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\n        integerList.add(24);\n        integerList.add(10);\n        integerList.add(3);\n        integerList.add(55);\n        integerList.add(65);\n        integerList.add(0);\n        integerList.add(10);\n        CustomSort&lt;Integer&gt; customSortInteger = new CustomSort&lt;&gt;();\n        Comparator&lt;Integer&gt; comparator = (o1, o2) -&gt; o2 - o1;\n        List&lt;Integer&gt; sortedList = customSortInteger.selInsSort(integerList, comparator);\n        System.out.println(sortedList);\n    }\n}\n</code></pre>\n<p>and the result should be: [0, 3, 10, 10, 24, 55, 65]\nwhat i am here trying to say is that you need to change your comparator condition to get different results.</p>\n"}],"owner":{"account_id":15906159,"reputation":3,"user_id":11477318,"display_name":"Tim B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650195695,"creation_date":1650146988,"question_id":71897826,"body_markdown":"I&#39;m making a generic selection sort implementation that receives an unsorted list of objects and returns the sorted list of elements (based on a comparator). Based on my UnitTests, it seems to do the sorting part fine except the list that is being returned is exactly a **reversed** version of the expected list.\r\n\r\nI have already tried using the **.reverse()** method from the Collection framework, but that doesn&#39;t seem to work. Here is the code:\r\n\r\n    public List&lt;E&gt; selInsSort(List&lt;E&gt; items, Comparator&lt;E&gt; comparator) {\r\n        // TODO implement selection or insertion sort\r\n        //Selection sort O(N&#178;)\r\n        for (int i = 0; i &lt; items.size(); i++) {\r\n            // Find the minimum element in unsorted array\r\n            int min_idx = i;\r\n            for (int j = i + 1; j &lt; items.size(); j++)\r\n                if (comparator.compare(items.get(j), items.get(min_idx)) == 1)\r\n                    min_idx = j;\r\n\r\n            // Swap the found minimum element with the first\r\n            // element\r\n            if (comparator.compare(items.get(min_idx), items.get(i)) == 1) {\r\n                E temp = items.get(min_idx);\r\n                items.remove(min_idx);\r\n                items.add(i, temp);\r\n            }\r\n        }\r\n        return items;\r\n    }","title":"My selection sort implementation returns a properly sorted yet reversed list, how do I solve this?","body":"<p>I'm making a generic selection sort implementation that receives an unsorted list of objects and returns the sorted list of elements (based on a comparator). Based on my UnitTests, it seems to do the sorting part fine except the list that is being returned is exactly a <strong>reversed</strong> version of the expected list.</p>\n<p>I have already tried using the <strong>.reverse()</strong> method from the Collection framework, but that doesn't seem to work. Here is the code:</p>\n<pre><code>public List&lt;E&gt; selInsSort(List&lt;E&gt; items, Comparator&lt;E&gt; comparator) {\n    // TODO implement selection or insertion sort\n    //Selection sort O(N²)\n    for (int i = 0; i &lt; items.size(); i++) {\n        // Find the minimum element in unsorted array\n        int min_idx = i;\n        for (int j = i + 1; j &lt; items.size(); j++)\n            if (comparator.compare(items.get(j), items.get(min_idx)) == 1)\n                min_idx = j;\n\n        // Swap the found minimum element with the first\n        // element\n        if (comparator.compare(items.get(min_idx), items.get(i)) == 1) {\n            E temp = items.get(min_idx);\n            items.remove(min_idx);\n            items.add(i, temp);\n        }\n    }\n    return items;\n}\n</code></pre>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":305143,"reputation":1151,"user_id":615104,"display_name":"Jan Martiška"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648539601,"creation_date":1648539601,"answer_id":71658166,"question_id":71657538,"body_markdown":"I think you can&#39;t use a filter for that, exactly because a filter is not allowed to change the params. You could use a param converter, roughly something like this:\r\n\r\n```\r\n@Provider\r\npublic class ScopeConverterProvider implements ParamConverterProvider {\r\n\r\n    @Override\r\n    public &lt;T&gt; ParamConverter&lt;T&gt; getConverter(Class&lt;T&gt; rawType, Type genericType, Annotation[] annotations) {\r\n        if(rawType == Set.class) {\r\n            for (Annotation annotation : annotations) {\r\n                if (annotation.annotationType().equals(Split.class)) {\r\n                    return (ParamConverter&lt;T&gt;) new ScopeConverter(((Split) annotation).value());\r\n                }\r\n            }\r\n            return (ParamConverter&lt;T&gt;) new ScopeConverter(&quot; &quot;);// default if there&#39;s no @Split annotation\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\npublic class ScopeConverter implements ParamConverter&lt;Set&lt;Scope&gt;&gt; {\r\n\r\n    private final String splitCharacter;\r\n\r\n    public ScopeConverter(String splitCharacter) {\r\n        this.splitCharacter = splitCharacter;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Scope&gt; fromString(String value) {\r\n        // strip the [] that the value gets automatically wrapped in,\r\n        // because the query param is a set\r\n        value = value.substring(1, value.length() - 1);\r\n        String[] splits = value.split(splitCharacter);\r\n        HashSet&lt;Scope&gt; scopes = new HashSet&lt;&gt;();\r\n        for (String split : splits) {\r\n            scopes.add(Scope.fromString(split));\r\n        }\r\n        return scopes;\r\n    }\r\n\r\n    @Override\r\n    public String toString(Set&lt;Scope&gt; value) {\r\n        return null;   // unused\r\n    }\r\n}\r\n```","title":"Add request query params in quarkus filter","body":"<p>I think you can't use a filter for that, exactly because a filter is not allowed to change the params. You could use a param converter, roughly something like this:</p>\n<pre><code>@Provider\npublic class ScopeConverterProvider implements ParamConverterProvider {\n\n    @Override\n    public &lt;T&gt; ParamConverter&lt;T&gt; getConverter(Class&lt;T&gt; rawType, Type genericType, Annotation[] annotations) {\n        if(rawType == Set.class) {\n            for (Annotation annotation : annotations) {\n                if (annotation.annotationType().equals(Split.class)) {\n                    return (ParamConverter&lt;T&gt;) new ScopeConverter(((Split) annotation).value());\n                }\n            }\n            return (ParamConverter&lt;T&gt;) new ScopeConverter(&quot; &quot;);// default if there's no @Split annotation\n        }\n        return null;\n    }\n\n}\n\npublic class ScopeConverter implements ParamConverter&lt;Set&lt;Scope&gt;&gt; {\n\n    private final String splitCharacter;\n\n    public ScopeConverter(String splitCharacter) {\n        this.splitCharacter = splitCharacter;\n    }\n\n    @Override\n    public Set&lt;Scope&gt; fromString(String value) {\n        // strip the [] that the value gets automatically wrapped in,\n        // because the query param is a set\n        value = value.substring(1, value.length() - 1);\n        String[] splits = value.split(splitCharacter);\n        HashSet&lt;Scope&gt; scopes = new HashSet&lt;&gt;();\n        for (String split : splits) {\n            scopes.add(Scope.fromString(split));\n        }\n        return scopes;\n    }\n\n    @Override\n    public String toString(Set&lt;Scope&gt; value) {\n        return null;   // unused\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15029870,"reputation":3,"user_id":10848348,"display_name":"Remering"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4906,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71658166,"answer_count":1,"score":0,"last_activity_date":1650195576,"creation_date":1648536200,"question_id":71657538,"body_markdown":"I have a url like `http://localhost:8080?scope=openid%20profile`\r\n\r\nI want to transfer it to `http://localhost:8080?scope=openid&amp;scope=profile`\r\nso that the following endpoint could accept it.\r\n\r\n```java\r\n// Scope.java\r\npublic enum Scope {\r\n  OPENID,\r\n  PROFILE;\r\n  public static Scope fromString(String value) {\r\n    return valueOf(value.toUpperCase());\r\n  }\r\n}\r\n\r\n// AuthorizationEndpoint.java\r\n  @GET\r\n  @Path(&quot;authorize&quot;)\r\n  public Response authorize(@Valid @NotEmpty @QueryParam(&quot;scope&quot;) Set&lt;Scope&gt; scope) {\r\n    ...\r\n  }\r\n```\r\n\r\nI tried to add a filter like below, but the map of request params is **unmodifiable** !\r\n\r\n```java\r\n// Split.java\r\npublic @interface Split {\r\n    String value();\r\n}\r\n\r\n// AuthorizationEndpoint.java\r\n  @GET\r\n  @Path(&quot;authorize&quot;)\r\n  // add @Split(&quot; &quot;)\r\n  public Response authorize(@Valid @NotEmpty @QueryParam(&quot;scope&quot;) @Split(&quot; &quot;) Set&lt;Scope&gt; scope)    \r\n  {\r\n    ...\r\n  }\r\n\r\n// SplitFilter.java\r\n@Provider\r\nclass SplitFilter implements ContainerRequestFilter {\r\n    \r\n    private final ResourceInfo resourceInfo;\r\n\r\n    SplitFilter(ResourceInfo resourceInfo) {\r\n        this.resourceInfo = resourceInfo;\r\n    }\r\n    \r\n    @Override\r\n    public void filter(ContainerRequestContext requestContext) {\r\n        for (var parameter: resourceInfo.getResourceMethod().getParameters()) {\r\n            var queryParam = parameter.getAnnotation(QueryParam.class);\r\n            if (queryParam == null) continue;\r\n            var split = parameter.getAnnotation(Split.class);\r\n            if (split == null) continue;\r\n            var queryName = queryParam.value();\r\n\r\n            // Note: queryParams is unmodifiable!!!\r\n            var queryParams = requestContext.getUriInfo().getQueryParameters();\r\n            var originQueryValues = queryParams.get(queryName);\r\n            if (originQueryValues.size() != 1) {\r\n                throw new IllegalStateException(&quot;Incorrect size of query values: &quot; + originQueryValues + &quot;, expect only 1.&quot;);\r\n            }\r\n            var splitQueryValue = originQueryValues.get(0).split(split.value());\r\n            \r\n            // Error: originQueryValues is unmodifiable!!!\r\n            originQueryValues.clear(); \r\n            originQueryValues.addAll(Arrays.asList(splitQueryValue));   \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo is there a proper way to modify the request params in filters or other inteceptors?\r\n\r\nI also tried to make `Set&lt;Scope&gt;` a single class that recieves a `String` value as constructor param,\r\nbut how to get the converter that converts a `String` value to a instance of `Scope` instead of calling `Scope.fromString`?","title":"Add request query params in quarkus filter","body":"<p>I have a url like <code>http://localhost:8080?scope=openid%20profile</code></p>\n<p>I want to transfer it to <code>http://localhost:8080?scope=openid&amp;scope=profile</code>\nso that the following endpoint could accept it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Scope.java\npublic enum Scope {\n  OPENID,\n  PROFILE;\n  public static Scope fromString(String value) {\n    return valueOf(value.toUpperCase());\n  }\n}\n\n// AuthorizationEndpoint.java\n  @GET\n  @Path(&quot;authorize&quot;)\n  public Response authorize(@Valid @NotEmpty @QueryParam(&quot;scope&quot;) Set&lt;Scope&gt; scope) {\n    ...\n  }\n</code></pre>\n<p>I tried to add a filter like below, but the map of request params is <strong>unmodifiable</strong> !</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Split.java\npublic @interface Split {\n    String value();\n}\n\n// AuthorizationEndpoint.java\n  @GET\n  @Path(&quot;authorize&quot;)\n  // add @Split(&quot; &quot;)\n  public Response authorize(@Valid @NotEmpty @QueryParam(&quot;scope&quot;) @Split(&quot; &quot;) Set&lt;Scope&gt; scope)    \n  {\n    ...\n  }\n\n// SplitFilter.java\n@Provider\nclass SplitFilter implements ContainerRequestFilter {\n    \n    private final ResourceInfo resourceInfo;\n\n    SplitFilter(ResourceInfo resourceInfo) {\n        this.resourceInfo = resourceInfo;\n    }\n    \n    @Override\n    public void filter(ContainerRequestContext requestContext) {\n        for (var parameter: resourceInfo.getResourceMethod().getParameters()) {\n            var queryParam = parameter.getAnnotation(QueryParam.class);\n            if (queryParam == null) continue;\n            var split = parameter.getAnnotation(Split.class);\n            if (split == null) continue;\n            var queryName = queryParam.value();\n\n            // Note: queryParams is unmodifiable!!!\n            var queryParams = requestContext.getUriInfo().getQueryParameters();\n            var originQueryValues = queryParams.get(queryName);\n            if (originQueryValues.size() != 1) {\n                throw new IllegalStateException(&quot;Incorrect size of query values: &quot; + originQueryValues + &quot;, expect only 1.&quot;);\n            }\n            var splitQueryValue = originQueryValues.get(0).split(split.value());\n            \n            // Error: originQueryValues is unmodifiable!!!\n            originQueryValues.clear(); \n            originQueryValues.addAll(Arrays.asList(splitQueryValue));   \n        }\n    }\n}\n</code></pre>\n<p>So is there a proper way to modify the request params in filters or other inteceptors?</p>\n<p>I also tried to make <code>Set&lt;Scope&gt;</code> a single class that recieves a <code>String</code> value as constructor param,\nbut how to get the converter that converts a <code>String</code> value to a instance of <code>Scope</code> instead of calling <code>Scope.fromString</code>?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1572954923,"creation_date":1401622749,"answer_id":23979436,"question_id":23979274,"body_markdown":"- Before iteration create result array, lets say with length 0. \r\n- Each time you find `4` create new result array with size based on index of that `4` and length of `nums` to store rest of elements. \r\n- If number is not `4` place it in result array (don&#39;t place if result arrays length is `0` because it means we didn&#39;t find any `4` yet, or it was last element of `nums` array).\r\n\r\n\r\nHere is example solution\r\n\r\n    public int[] post4(int[] nums) {\r\n    \r\n        int[] result = new int[0];\r\n        \r\n        int j = 0;\r\n        for (int i = 0; i&lt;nums.length; i++){\r\n           if (nums[i] == 4) {\r\n               result = new int[nums.length - i-1];\r\n               j=0;\r\n           }\r\n           else \r\n               if (result.length&gt;0) result[j++] = nums[i]; \r\n        }\r\n    \r\n        return result;\r\n    }\r\n\r\n","title":"Solving codingBat Post4 with one loop in Java","body":"<ul>\n<li>Before iteration create result array, lets say with length 0. </li>\n<li>Each time you find <code>4</code> create new result array with size based on index of that <code>4</code> and length of <code>nums</code> to store rest of elements. </li>\n<li>If number is not <code>4</code> place it in result array (don't place if result arrays length is <code>0</code> because it means we didn't find any <code>4</code> yet, or it was last element of <code>nums</code> array).</li>\n</ul>\n\n<p>Here is example solution</p>\n\n<pre><code>public int[] post4(int[] nums) {\n\n    int[] result = new int[0];\n\n    int j = 0;\n    for (int i = 0; i&lt;nums.length; i++){\n       if (nums[i] == 4) {\n           result = new int[nums.length - i-1];\n           j=0;\n       }\n       else \n           if (result.length&gt;0) result[j++] = nums[i]; \n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1401622755,"creation_date":1401622755,"answer_id":23979438,"question_id":23979274,"body_markdown":"You may use the class Arrays...that is:\r\n\r\n\r\n\tpublic int[] post4(int[] nums) {\r\n\t\tint lastFourIndex = 0;\r\n\t\t  for (int i = 0; i &lt; nums.length; i++) {\r\n\t\t\t\r\n\t\t\t  if(nums[i] == 4)\r\n\t\t\t  {\r\n\t\t\t\t  lastFourIndex = i;\r\n\t\t\t  }\r\n\t\t}\r\n\t\t  return Arrays.copyOfRange(nums, lastFourIndex+1, nums.length);\r\n\t}\r\n\r\nAngelo","title":"Solving codingBat Post4 with one loop in Java","body":"<p>You may use the class Arrays...that is:</p>\n\n<pre><code>public int[] post4(int[] nums) {\n    int lastFourIndex = 0;\n      for (int i = 0; i &lt; nums.length; i++) {\n\n          if(nums[i] == 4)\n          {\n              lastFourIndex = i;\n          }\n    }\n      return Arrays.copyOfRange(nums, lastFourIndex+1, nums.length);\n}\n</code></pre>\n\n<p>Angelo</p>\n"}],"owner":{"account_id":3157727,"reputation":2306,"user_id":2669716,"accept_rate":97,"display_name":"Anirudh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23979436,"answer_count":2,"score":0,"last_activity_date":1650195372,"creation_date":1401621581,"question_id":23979274,"body_markdown":"The question is about Solving [this][1] problem from codingBat in Java.\r\n\r\n\r\n  [1]: http://codingbat.com/prob/p164144\r\n\r\n\r\n**Problem Statement:**\r\n\r\n*Given a non-empty array of ints, return a new array containing the elements from the original array that come after the last 4 in the original array. The original array will contain at least one 4. Note that it is valid in Java to create an array of length 0.*\r\n\r\n*post4({2, 4, 1, 2}) → {1, 2}*\r\n\r\n*post4({4, 1, 4, 2}) → {2}*\r\n\r\n*post4({4, 4, 1, 2, 3}) → {1, 2, 3}*\r\n\r\n\r\n\r\nHere is my solution:\r\n\r\n    public int[] post4(int[] nums) {\r\n    \r\n    int lastFour=-1;\r\n    int[] post4={};\r\n    \r\n      for(int i=nums.length-1;i&gt;=0;i--)\r\n      {\r\n         if((nums[i]==4))\r\n         {\r\n           lastFour=i;    //find the index of the last 4 in the array\r\n           break;\r\n         }  \r\n       } \r\n       int newLen=(nums.length-lastFour)-1;\r\n       post4=new int[newLen];   //reassign the post4 array with required length\r\n       \r\n      for(int j=0;j&lt;newLen;j++)\r\n      {\r\n         post4[j]=nums[lastFour+1];   //assign values from orig. array after last 4\r\n         lastFour++;\r\n      }\r\n      \r\n      return post4;   \r\n    }\r\n\r\n\r\nBut I have used 2 loops. It should be solved using at max one loop. Do not use collections or any wrappers classes.\r\n\r\n\r\n\r\n","title":"Solving codingBat Post4 with one loop in Java","body":"<p>The question is about Solving <a href=\"http://codingbat.com/prob/p164144\" rel=\"nofollow\">this</a> problem from codingBat in Java.</p>\n\n<p><strong>Problem Statement:</strong></p>\n\n<p><em>Given a non-empty array of ints, return a new array containing the elements from the original array that come after the last 4 in the original array. The original array will contain at least one 4. Note that it is valid in Java to create an array of length 0.</em></p>\n\n<p><em>post4({2, 4, 1, 2}) → {1, 2}</em></p>\n\n<p><em>post4({4, 1, 4, 2}) → {2}</em></p>\n\n<p><em>post4({4, 4, 1, 2, 3}) → {1, 2, 3}</em></p>\n\n<p>Here is my solution:</p>\n\n<pre><code>public int[] post4(int[] nums) {\n\nint lastFour=-1;\nint[] post4={};\n\n  for(int i=nums.length-1;i&gt;=0;i--)\n  {\n     if((nums[i]==4))\n     {\n       lastFour=i;    //find the index of the last 4 in the array\n       break;\n     }  \n   } \n   int newLen=(nums.length-lastFour)-1;\n   post4=new int[newLen];   //reassign the post4 array with required length\n\n  for(int j=0;j&lt;newLen;j++)\n  {\n     post4[j]=nums[lastFour+1];   //assign values from orig. array after last 4\n     lastFour++;\n  }\n\n  return post4;   \n}\n</code></pre>\n\n<p>But I have used 2 loops. It should be solved using at max one loop. Do not use collections or any wrappers classes.</p>\n"},{"tags":["java","api","servlets","file-io","bufferedreader"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1650211445,"post_id":71901164,"comment_id":127058500,"body_markdown":"I realize you did not write Utils.java, but that file is a bad example.  No one should ever, for any reason, name a file Utils.java.  It should have been called BodyExtractor.java or TextBodyExtractor.java.  “Utils” is about as descriptive as “SomeClass.”  Someday when you write your own APIs, I hope you will not use the name “Utils.”","body":"I realize you did not write Utils.java, but that file is a bad example.  No one should ever, for any reason, name a file Utils.java.  It should have been called BodyExtractor.java or TextBodyExtractor.java.  “Utils” is about as descriptive as “SomeClass.”  Someday when you write your own APIs, I hope you will not use the name “Utils.”"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650194395,"creation_date":1650193326,"answer_id":71901317,"question_id":71901164,"body_markdown":"The purpose of this method is to read the request body and return it as a `String`.   Basically, it gets hold of the request&#39;s input stream, wraps it as a reader (which converts to characters), reads characters from it and appends them to `StringBuilder`.  When it reaches the end of the stream it closes it, and returns the builder&#39;s contents as a `String`.\r\n\r\nThe code *could* be simplified a bit.  Indeed, in Java 8+, the core code could be replaced with \r\n\r\n    return bufferedReader.lines().collect(Collectors.joining(&quot;\\n&quot;))\r\n\r\nThe clunky handling of the streams could be simplified using Java 7+ *try with resources*.\r\n\r\nThe method simplifies to this:\r\n\r\n    public static String getBody(HttpServletRequest request) throws IOException {\r\n        try (InputStream is = request.getInputStream();\r\n             BufferedReader br = new BufferedReader(new InputStreamReader(is))) {\r\n            return br.lines().collect(Collectors.joining(System.lineSeparator()));\r\n        }\r\n    }\r\n\r\nThere are a couple of issues with this:\r\n\r\n  1.  It is using the platform default character set to decode the input rather than the character set that *may* have been specified in the HTTP request header.  That problem can be solved by using `request.getReader()` instead of `request.getInputStream()`.\r\n\r\n  2.  It is converting the original end-of-line sequences into the platform&#39;s standard end-of-line sequences.\r\n\r\n  3.  If the request&#39;s body is extremely large, converting it into a `String` could fill up the heap, and lead to OOMEs.  That could be used as a Denial of Service attack.  If this is a concern, the code needs to be more defensive ... or you need to set a request size limit at the web container level.\r\n\r\n\r\n\r\n\r\n","title":"Use of Utils.java file","body":"<p>The purpose of this method is to read the request body and return it as a <code>String</code>.   Basically, it gets hold of the request's input stream, wraps it as a reader (which converts to characters), reads characters from it and appends them to <code>StringBuilder</code>.  When it reaches the end of the stream it closes it, and returns the builder's contents as a <code>String</code>.</p>\n<p>The code <em>could</em> be simplified a bit.  Indeed, in Java 8+, the core code could be replaced with</p>\n<pre><code>return bufferedReader.lines().collect(Collectors.joining(&quot;\\n&quot;))\n</code></pre>\n<p>The clunky handling of the streams could be simplified using Java 7+ <em>try with resources</em>.</p>\n<p>The method simplifies to this:</p>\n<pre><code>public static String getBody(HttpServletRequest request) throws IOException {\n    try (InputStream is = request.getInputStream();\n         BufferedReader br = new BufferedReader(new InputStreamReader(is))) {\n        return br.lines().collect(Collectors.joining(System.lineSeparator()));\n    }\n}\n</code></pre>\n<p>There are a couple of issues with this:</p>\n<ol>\n<li><p>It is using the platform default character set to decode the input rather than the character set that <em>may</em> have been specified in the HTTP request header.  That problem can be solved by using <code>request.getReader()</code> instead of <code>request.getInputStream()</code>.</p>\n</li>\n<li><p>It is converting the original end-of-line sequences into the platform's standard end-of-line sequences.</p>\n</li>\n<li><p>If the request's body is extremely large, converting it into a <code>String</code> could fill up the heap, and lead to OOMEs.  That could be used as a Denial of Service attack.  If this is a concern, the code needs to be more defensive ... or you need to set a request size limit at the web container level.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":20873165,"reputation":23,"user_id":15332621,"display_name":"Priyanshu0007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650194395,"creation_date":1650191851,"question_id":71901164,"body_markdown":"I have this Java servlet API file and in it is a class called utils.java . I can&#39;t quite figure out what the use of this piece of code is in the API. This is my first time working on APIs so any help in understanding this would be appreciated.\r\n\r\n    package implementation;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    public class Utils {\r\n    \t\r\n    \tpublic static String getBody(HttpServletRequest request) throws IOException {\r\n    \r\n    \t    String body = null;\r\n    \t    StringBuilder stringBuilder = new StringBuilder();\r\n    \t    BufferedReader bufferedReader = null;\r\n    \r\n    \t    try {\r\n    \t        InputStream inputStream = request.getInputStream();\r\n    \t        if (inputStream != null) {\r\n    \t            bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n    \t            char[] charBuffer = new char[128];\r\n    \t            int bytesRead = -1;\r\n    \t            while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\r\n    \t                stringBuilder.append(charBuffer, 0, bytesRead);\r\n    \t            }\r\n    \t        } else {\r\n    \t            stringBuilder.append(&quot;&quot;);\r\n    \t        }\r\n    \t    } catch (IOException ex) {\r\n    \t        throw ex;\r\n    \t    } finally {\r\n    \t        if (bufferedReader != null) {\r\n    \t            try {\r\n    \t                bufferedReader.close();\r\n    \t            } catch (IOException ex) {\r\n    \t                throw ex;\r\n    \t            }\r\n    \t        }\r\n    \t    }\r\n    \r\n    \t    body = stringBuilder.toString();\r\n    \t    return body;\r\n    \t}\r\n    }\r\n   \r\nAnd then in other servlets it has been called like this: `String req = Utils.getBody(request);`\r\n\r\nCan someone please explain the working? \r\n    \r\n     ","title":"Use of Utils.java file","body":"<p>I have this Java servlet API file and in it is a class called utils.java . I can't quite figure out what the use of this piece of code is in the API. This is my first time working on APIs so any help in understanding this would be appreciated.</p>\n<pre><code>package implementation;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\n\nimport javax.servlet.http.HttpServletRequest;\n\npublic class Utils {\n    \n    public static String getBody(HttpServletRequest request) throws IOException {\n\n        String body = null;\n        StringBuilder stringBuilder = new StringBuilder();\n        BufferedReader bufferedReader = null;\n\n        try {\n            InputStream inputStream = request.getInputStream();\n            if (inputStream != null) {\n                bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n                char[] charBuffer = new char[128];\n                int bytesRead = -1;\n                while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n                    stringBuilder.append(charBuffer, 0, bytesRead);\n                }\n            } else {\n                stringBuilder.append(&quot;&quot;);\n            }\n        } catch (IOException ex) {\n            throw ex;\n        } finally {\n            if (bufferedReader != null) {\n                try {\n                    bufferedReader.close();\n                } catch (IOException ex) {\n                    throw ex;\n                }\n            }\n        }\n\n        body = stringBuilder.toString();\n        return body;\n    }\n}\n</code></pre>\n<p>And then in other servlets it has been called like this: <code>String req = Utils.getBody(request);</code></p>\n<p>Can someone please explain the working?</p>\n"},{"tags":["java","pass-by-reference","language-design","bytecode","bytecode-manipulation"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":4,"creation_date":1390365930,"post_id":21274346,"comment_id":32055930,"body_markdown":"Are you familiar with [Jasmin](http://faculty.cs.wwu.edu/meehan/Jasmin/)?  I&#39;ve always liked the answer there - under &quot;Implementing Call-by-reference for your language using the JVM instruction set.&quot; Spoiler: They called &quot;reference&quot; - &quot;value&quot;.","body":"Are you familiar with <a href=\"http://faculty.cs.wwu.edu/meehan/Jasmin/\" rel=\"nofollow noreferrer\">Jasmin</a>?  I&#39;ve always liked the answer there - under &quot;Implementing Call-by-reference for your language using the JVM instruction set.&quot; Spoiler: They called &quot;reference&quot; - &quot;value&quot;."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1390366182,"post_id":21274346,"comment_id":32056018,"body_markdown":"@ElliottFrisch Thanks for the link, I wasn&#39;t familiar with Jasmin. It seems I&#39;m suggesting something similar to their solution with wrapper classes.","body":"@ElliottFrisch Thanks for the link, I wasn&#39;t familiar with Jasmin. It seems I&#39;m suggesting something similar to their solution with wrapper classes."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1390366290,"post_id":21274346,"comment_id":32056049,"body_markdown":"Unfortunately, they haven&#39;t updated the [homepage](http://jasmin.sourceforge.net/) for almost ten years. I own the book.","body":"Unfortunately, they haven&#39;t updated the <a href=\"http://jasmin.sourceforge.net/\" rel=\"nofollow noreferrer\">homepage</a> for almost ten years. I own the book."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1390575777,"post_id":21274346,"comment_id":32163894,"body_markdown":"Why not just *returning* the new value? Or why not using a different programming language that matches your requirements instead of trying to change this one?","body":"Why not just <i>returning</i> the new value? Or why not using a different programming language that matches your requirements instead of trying to change this one?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1390576103,"post_id":21274346,"comment_id":32164140,"body_markdown":"@holger You might want to return another value from the method. It&#39;s a theoretical language design question.","body":"@holger You might want to return another value from the method. It&#39;s a theoretical language design question."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":10,"creation_date":1390576842,"post_id":21274346,"comment_id":32164682,"body_markdown":"It doesn’t sound like a theoretical language design question; your entire question is about how to implement it, though you already answer it yourself giving an entire solution right inside the question. So what is your question actually? That you are opening a can of worms introducing a language feature that makes local variables non-local needs no discussion. That was understood over a decade ago when Java was created and this language design decision, not to support such thing, was made. As said, you can use a different language if you don’t like it.","body":"It doesn’t sound like a theoretical language design question; your entire question is about how to implement it, though you already answer it yourself giving an entire solution right inside the question. So what is your question actually? That you are opening a can of worms introducing a language feature that makes local variables non-local needs no discussion. That was understood over a decade ago when Java was created and this language design decision, not to support such thing, was made. As said, you can use a different language if you don’t like it."},{"owner":{"account_id":1566273,"reputation":16719,"user_id":1455016,"accept_rate":43,"display_name":"tbodt"},"score":0,"creation_date":1390609193,"post_id":21274346,"comment_id":32180998,"body_markdown":"I recommend an annotation to indicate that a parameter should be pass-by-ref. Since it would be hard to modify the compiler, you could write a bytecode manipulator.","body":"I recommend an annotation to indicate that a parameter should be pass-by-ref. Since it would be hard to modify the compiler, you could write a bytecode manipulator."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1390609227,"post_id":21274346,"comment_id":32181009,"body_markdown":"@tbodt That would look nice as well.","body":"@tbodt That would look nice as well."},{"owner":{"account_id":1566273,"reputation":16719,"user_id":1455016,"accept_rate":43,"display_name":"tbodt"},"score":0,"creation_date":1390609261,"post_id":21274346,"comment_id":32181020,"body_markdown":"I may write such a bytecode manipulator.","body":"I may write such a bytecode manipulator."},{"owner":{"account_id":1566273,"reputation":16719,"user_id":1455016,"accept_rate":43,"display_name":"tbodt"},"score":1,"creation_date":1390609325,"post_id":21274346,"comment_id":32181039,"body_markdown":"It would use one-element arrays instead of custom classes.","body":"It would use one-element arrays instead of custom classes."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1390781679,"post_id":21274346,"comment_id":32227505,"body_markdown":"A similar concept is used for SOAP based Web Services in providing WSDL-conform `OUT` and `INOUT` operation parameters. As parameters might get updated with new values, these changes need to be returned appropriately to the caller. Java provides therefore the [Holder](http://docs.oracle.com/javaee/7/api/javax/xml/ws/Holder.html) class which is similar to your suggestion. So, unless you propose a language addition (maybe in a C++ like way with adding `&amp;` at the end of a variable or on including an explicit ref keyword), this (and the array way) will probably be the only working solutions, IMO","body":"A similar concept is used for SOAP based Web Services in providing WSDL-conform <code>OUT</code> and <code>INOUT</code> operation parameters. As parameters might get updated with new values, these changes need to be returned appropriately to the caller. Java provides therefore the <a href=\"http://docs.oracle.com/javaee/7/api/javax/xml/ws/Holder.html\" rel=\"nofollow noreferrer\">Holder</a> class which is similar to your suggestion. So, unless you propose a language addition (maybe in a C++ like way with adding <code>&amp;</code> at the end of a variable or on including an explicit ref keyword), this (and the array way) will probably be the only working solutions, IMO"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1390781829,"post_id":21274346,"comment_id":32227544,"body_markdown":"@RomanVottner Interesting SOAP workaround. And yes, I&#39;m not trying to achieve this in base Java. I&#39;m trying to see how I can modify byte code (compilation) to achieve it.","body":"@RomanVottner Interesting SOAP workaround. And yes, I&#39;m not trying to achieve this in base Java. I&#39;m trying to see how I can modify byte code (compilation) to achieve it."},{"owner":{"account_id":22521,"reputation":35904,"user_id":55637,"accept_rate":67,"display_name":"Jeffrey Hantin"},"score":0,"creation_date":1390892851,"post_id":21274346,"comment_id":32277561,"body_markdown":"@RomanVottner, I prefer one-element arrays over generics here for two reasons: primitives would in practice be &quot;double-boxed&quot; since they&#39;d have to be boxed before being treated generically, and arrays throw immediately on ill-typed assignment to their members.","body":"@RomanVottner, I prefer one-element arrays over generics here for two reasons: primitives would in practice be &quot;double-boxed&quot; since they&#39;d have to be boxed before being treated generically, and arrays throw immediately on ill-typed assignment to their members."}],"answers":[{"tags":[],"owner":{"account_id":22521,"reputation":35904,"user_id":55637,"accept_rate":67,"display_name":"Jeffrey Hantin"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1390608736,"creation_date":1390366581,"answer_id":21274490,"question_id":21274346,"body_markdown":"The usual idiom I&#39;ve seen for pass-by-reference in Java is to pass a single-element array, which will both preserve run-time type-safety (unlike generics which undergo erasure) and avoid the need to introduce a new class.\r\n\r\n    public static void main(String[] args) {\r\n        String[] holder = new String[1];\r\n\r\n        // variable optimized away as holder[0]\r\n        holder[0] = &quot;&#39;previous String reference&#39;&quot;;\r\n\r\n        passByReference(holder);\r\n        System.out.println(holder[0]);\r\n    }\r\n    \r\n    public static void passByReference(String[] someString) {\r\n        someString[0] = &quot;&#39;new String reference&#39;&quot;;\r\n    }","title":"How can you extend Java to introduce passing by reference?","body":"<p>The usual idiom I've seen for pass-by-reference in Java is to pass a single-element array, which will both preserve run-time type-safety (unlike generics which undergo erasure) and avoid the need to introduce a new class.</p>\n\n<pre><code>public static void main(String[] args) {\n    String[] holder = new String[1];\n\n    // variable optimized away as holder[0]\n    holder[0] = \"'previous String reference'\";\n\n    passByReference(holder);\n    System.out.println(holder[0]);\n}\n\npublic static void passByReference(String[] someString) {\n    someString[0] = \"'new String reference'\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":285620,"reputation":920,"user_id":584388,"display_name":"Sinto"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1390369944,"creation_date":1390369944,"answer_id":21275245,"question_id":21274346,"body_markdown":"Using AtomicReference class as holder object.\r\n\r\n    public static void main(String[] args) {\r\n    \tString variable=&quot;old&quot;;\r\n    \tAtomicReference&lt;String&gt; at=new AtomicReference&lt;String&gt;(variable);\r\n    \tpassByReference(at);\r\n    \tvariable=at.get();\r\n    \tSystem.out.println(variable);\r\n    }\r\n    \r\n    public static void passByReference(AtomicReference&lt;String&gt; at) {\r\n      at.set(&quot;new&quot;);\r\n    }\r\n\r\n","title":"How can you extend Java to introduce passing by reference?","body":"<p>Using AtomicReference class as holder object.</p>\n\n<pre><code>public static void main(String[] args) {\n    String variable=\"old\";\n    AtomicReference&lt;String&gt; at=new AtomicReference&lt;String&gt;(variable);\n    passByReference(at);\n    variable=at.get();\n    System.out.println(variable);\n}\n\npublic static void passByReference(AtomicReference&lt;String&gt; at) {\n  at.set(\"new\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1380869,"reputation":931,"user_id":1313898,"accept_rate":54,"display_name":"Menachem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391106815,"creation_date":1390578849,"answer_id":21336916,"question_id":21274346,"body_markdown":"Think about how it might be implemented with a primitive type, say `int`.  Java - the JVM, not just the language - does not have any &quot;pointer&quot; type to a local variable, on the frame (method stack) or the operand stack.  Without that, it is not possible to truly pass by reference.\r\n\r\nOther languages that support pass-by-reference use pointers (I believe, though I don&#39;t see any other possibility).  C++ references (like `int&amp;`) are pointers in disguise.\r\n\r\nI&#39;ve thought of creating a new set of classes that extend `Number`, containing `int`, `long`, etc. but _not_ immutable.  This could give some of the effect of passing primitives by reference - but they won&#39;t be auto-boxed, and some other features might not work.\r\n\r\nWithout support in the JVM, you can&#39;t have real pass-by-reference.  Sorry, but that&#39;s my understanding.\r\n\r\nBTW, there are already several Reference-type classes (like you&#39;d like for Holder). `ThreadLocal&lt;&gt;` (which has `get()` and `set()`), or the `Reference` extenders, like `WeakReference` (which I think only have `get()`).\r\n\r\nEdit:\r\nAfter reading some other answers, I&#39;d suggest that `ref` be a form of auto-boxing.  Thus:\r\n\r\n    class ReferenceHolder&lt;T&gt; {\r\n        T referrent;\r\n        static &lt;T&gt; ReferenceHolder&lt;T&gt; valueOf(T object) {\r\n            return new ReferenceHolder&lt;T&gt;(object);\r\n        }\r\n        ReferenceHolder(T object) { referrent = object; }\r\n        T get()            { return referrent; }\r\n        void set(T value)  { referrent = value; }\r\n    }\r\n\r\n    class RefTest {\r\n        static void main() {\r\n            String s = &quot;Hello&quot;;\r\n            // This is how it is written...\r\n            change(s);\r\n            // but the compiler converts it to...\r\n            ReferenceHolder&lt;String&gt; $tmp = ReferenceHolder.valueOf(s);\r\n            change($tmp);\r\n            s = $tmp.get();\r\n        }\r\n        // This is how it is written...\r\n        static void change(ref Object s) {\r\n            s = &quot;Goodbye&quot;;              // won&#39;t work\r\n            s = 17;             // *Potential ClassCastException, but not here*\r\n        }\r\n        // but the compiler converts it tothe compiler treats it as:\r\n        static &lt;T&gt; void change(ReferenceHolder&lt;T&gt; obj) {\r\n            obj.set((T) &quot;Goodbye&quot;);     // this works\r\n            obj.set((T) 17);    // *Compiler can&#39;t really catch this*\r\n        }\r\n    }\r\n\r\nBut see where there is potential for putting the wrong kind of type in the `ReferenceHolder`?  If genericized properly, the compiler may be able to warn sometimes, but as you likely want the new code to resemble normal code as much as possible, there is the possibility of a CCEx with each auto-ref call.","title":"How can you extend Java to introduce passing by reference?","body":"<p>Think about how it might be implemented with a primitive type, say <code>int</code>.  Java - the JVM, not just the language - does not have any \"pointer\" type to a local variable, on the frame (method stack) or the operand stack.  Without that, it is not possible to truly pass by reference.</p>\n\n<p>Other languages that support pass-by-reference use pointers (I believe, though I don't see any other possibility).  C++ references (like <code>int&amp;</code>) are pointers in disguise.</p>\n\n<p>I've thought of creating a new set of classes that extend <code>Number</code>, containing <code>int</code>, <code>long</code>, etc. but <em>not</em> immutable.  This could give some of the effect of passing primitives by reference - but they won't be auto-boxed, and some other features might not work.</p>\n\n<p>Without support in the JVM, you can't have real pass-by-reference.  Sorry, but that's my understanding.</p>\n\n<p>BTW, there are already several Reference-type classes (like you'd like for Holder). <code>ThreadLocal&lt;&gt;</code> (which has <code>get()</code> and <code>set()</code>), or the <code>Reference</code> extenders, like <code>WeakReference</code> (which I think only have <code>get()</code>).</p>\n\n<p>Edit:\nAfter reading some other answers, I'd suggest that <code>ref</code> be a form of auto-boxing.  Thus:</p>\n\n<pre><code>class ReferenceHolder&lt;T&gt; {\n    T referrent;\n    static &lt;T&gt; ReferenceHolder&lt;T&gt; valueOf(T object) {\n        return new ReferenceHolder&lt;T&gt;(object);\n    }\n    ReferenceHolder(T object) { referrent = object; }\n    T get()            { return referrent; }\n    void set(T value)  { referrent = value; }\n}\n\nclass RefTest {\n    static void main() {\n        String s = \"Hello\";\n        // This is how it is written...\n        change(s);\n        // but the compiler converts it to...\n        ReferenceHolder&lt;String&gt; $tmp = ReferenceHolder.valueOf(s);\n        change($tmp);\n        s = $tmp.get();\n    }\n    // This is how it is written...\n    static void change(ref Object s) {\n        s = \"Goodbye\";              // won't work\n        s = 17;             // *Potential ClassCastException, but not here*\n    }\n    // but the compiler converts it tothe compiler treats it as:\n    static &lt;T&gt; void change(ReferenceHolder&lt;T&gt; obj) {\n        obj.set((T) \"Goodbye\");     // this works\n        obj.set((T) 17);    // *Compiler can't really catch this*\n    }\n}\n</code></pre>\n\n<p>But see where there is potential for putting the wrong kind of type in the <code>ReferenceHolder</code>?  If genericized properly, the compiler may be able to warn sometimes, but as you likely want the new code to resemble normal code as much as possible, there is the possibility of a CCEx with each auto-ref call.</p>\n"},{"tags":[],"owner":{"account_id":3328940,"reputation":13909,"user_id":2798291,"accept_rate":53,"display_name":"TwoThe"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1390669456,"creation_date":1390669456,"answer_id":21353445,"question_id":21274346,"body_markdown":"Your attempt to modify the language ignores the fact that this &quot;feature&quot; was explicitly left out to prevent well-known side-effect bugs from being able to happen in the first place. Java recommends to do what you are trying to archive by the use of data-holder classes:\r\n\r\n    public class Holder&lt;T&gt; {\r\n      protected T value;\r\n\r\n      public T getValue() {\r\n        return value;\r\n      }\r\n\r\n      public void setValue(T value) {\r\n        this.value = value;\r\n      }\r\n    }\r\n\r\nA thread-safe version would be the [AtomicReference][1].\r\n\r\nNow storing a single String in a class seems over-kill and most likely it is, however usually you have a data-holder class for several related values instead of a single String.\r\n\r\nThe big benefit of this approach is that what happens inside the method is __very explicit__. So even if you are programming on a Monday morning after an eventful weekend and the coffee machine just broke down, you still can tell easily what the code is doing ([KISS][2]), preventing several bugs from even happening in the first place, just because you forgot about that one feature of method foo.\r\n\r\nIf you think about what your approach can do that the data-holder version cannot, you&#39;ll soon realize that you are implementing something just because it is different, but effectively it has no real value.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReference.html\r\n  [2]: https://en.wikipedia.org/wiki/KISS_principle","title":"How can you extend Java to introduce passing by reference?","body":"<p>Your attempt to modify the language ignores the fact that this \"feature\" was explicitly left out to prevent well-known side-effect bugs from being able to happen in the first place. Java recommends to do what you are trying to archive by the use of data-holder classes:</p>\n\n<pre><code>public class Holder&lt;T&gt; {\n  protected T value;\n\n  public T getValue() {\n    return value;\n  }\n\n  public void setValue(T value) {\n    this.value = value;\n  }\n}\n</code></pre>\n\n<p>A thread-safe version would be the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReference.html\">AtomicReference</a>.</p>\n\n<p>Now storing a single String in a class seems over-kill and most likely it is, however usually you have a data-holder class for several related values instead of a single String.</p>\n\n<p>The big benefit of this approach is that what happens inside the method is <strong>very explicit</strong>. So even if you are programming on a Monday morning after an eventful weekend and the coffee machine just broke down, you still can tell easily what the code is doing (<a href=\"https://en.wikipedia.org/wiki/KISS_principle\">KISS</a>), preventing several bugs from even happening in the first place, just because you forgot about that one feature of method foo.</p>\n\n<p>If you think about what your approach can do that the data-holder version cannot, you'll soon realize that you are implementing something just because it is different, but effectively it has no real value.</p>\n"},{"tags":[],"owner":{"account_id":3856259,"reputation":716,"user_id":3195113,"display_name":"aljipa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390753330,"creation_date":1390753330,"answer_id":21365979,"question_id":21274346,"body_markdown":"Answering you question about how to extend the language my pick would be:\r\n- Using various holders technics as several other answers describe\r\n- Use annotations to attach metadata regarding which arguments should be passed by reference and then start juggling with a byte code manipulation library, like [cglib](http://cglib.sourceforge.net) in order to fulfil your ideas in byte code itself.\r\n\r\nThough this whole idea seems strange.","title":"How can you extend Java to introduce passing by reference?","body":"<p>Answering you question about how to extend the language my pick would be:\n- Using various holders technics as several other answers describe\n- Use annotations to attach metadata regarding which arguments should be passed by reference and then start juggling with a byte code manipulation library, like <a href=\"http://cglib.sourceforge.net\" rel=\"nofollow\">cglib</a> in order to fulfil your ideas in byte code itself.</p>\n\n<p>Though this whole idea seems strange.</p>\n"},{"tags":[],"owner":{"account_id":2986598,"reputation":5657,"user_id":2535242,"accept_rate":48,"display_name":"La-comadreja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390841251,"creation_date":1390841251,"answer_id":21386597,"question_id":21274346,"body_markdown":"There are several ways to write Java code as effectively pass-by-reference, even within the standard pass-by-value conventions.\r\n\r\nOne approach is to use instance or static variables whose scope includes a particular method, in lieu of explicit parameters.  The variables which are being modified could be included in the comments, if you really want to mention their names at the beginning of a method.\r\n\r\nThe disadvantage with this approach is that the scope of these variables would need to encompass the entire class in question, rather than only the method.  If you would like to restrict the variables&#39; scopes more precisely, you could always modify them using getter and setter methods rather than as parameters.\r\n\r\nHaving worked with both Java and C/C++, I don&#39;t think Java&#39;s supposed inflexibility in being pass-by-value only is a big deal--for any programmers who know what happens to the variables, there are reasonable workarounds that can accomplish the same things functionally.","title":"How can you extend Java to introduce passing by reference?","body":"<p>There are several ways to write Java code as effectively pass-by-reference, even within the standard pass-by-value conventions.</p>\n\n<p>One approach is to use instance or static variables whose scope includes a particular method, in lieu of explicit parameters.  The variables which are being modified could be included in the comments, if you really want to mention their names at the beginning of a method.</p>\n\n<p>The disadvantage with this approach is that the scope of these variables would need to encompass the entire class in question, rather than only the method.  If you would like to restrict the variables' scopes more precisely, you could always modify them using getter and setter methods rather than as parameters.</p>\n\n<p>Having worked with both Java and C/C++, I don't think Java's supposed inflexibility in being pass-by-value only is a big deal--for any programmers who know what happens to the variables, there are reasonable workarounds that can accomplish the same things functionally.</p>\n"},{"tags":[],"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1391180825,"creation_date":1391024837,"answer_id":21441079,"question_id":21274346,"body_markdown":"To answer your question:\r\n\r\n&gt; Where can this fail?\r\n\r\n 1. Final variables and enum constants\r\n 2. &#39;Special&#39; references such as `this`\r\n 3. References that are returned from method calls, or constructed inline using `new`\r\n 4. Literals (Strings, integers, etc.)\r\n\r\n...and possibly others.  Basically, your `ref` keyword must only be usable if the parameter source is a non-final field or local variable.  Any other source should generate a compilation error when used with `ref`.\r\n\r\nAn example of (1):\r\n\r\n    final String s = &quot;final&quot;;\r\n    passByReference(ref s);  // Should not be possible\r\n\r\nAn example of (2):\r\n\r\n    passByReference(ref this);  // Definitely impossible\r\n\r\nAn example of (3):\r\n\r\n    passByReference(ref toString());  // Definitely impossible\r\n    passByReference(ref new String(&quot;foo&quot;));  // Definitely impossible\r\n\r\nAn example of (4):\r\n\r\n    passByReference(ref &quot;literal&quot;);  // Definitely impossible\r\n\r\nAnd then there are assignment expressions, which seem to me like something of a judgement call:\r\n\r\n    String s;\r\n    passByReference(ref (s=&quot;initial&quot;));  // Possible, but does it make sense?\r\n\r\nIt&#39;s also a little strange that your syntax requires the `ref` keyword for both the method definition and the method invocation.  I think the method definition would be sufficient.","title":"How can you extend Java to introduce passing by reference?","body":"<p>To answer your question:</p>\n\n<blockquote>\n  <p>Where can this fail?</p>\n</blockquote>\n\n<ol>\n<li>Final variables and enum constants</li>\n<li>'Special' references such as <code>this</code></li>\n<li>References that are returned from method calls, or constructed inline using <code>new</code></li>\n<li>Literals (Strings, integers, etc.)</li>\n</ol>\n\n<p>...and possibly others.  Basically, your <code>ref</code> keyword must only be usable if the parameter source is a non-final field or local variable.  Any other source should generate a compilation error when used with <code>ref</code>.</p>\n\n<p>An example of (1):</p>\n\n<pre><code>final String s = \"final\";\npassByReference(ref s);  // Should not be possible\n</code></pre>\n\n<p>An example of (2):</p>\n\n<pre><code>passByReference(ref this);  // Definitely impossible\n</code></pre>\n\n<p>An example of (3):</p>\n\n<pre><code>passByReference(ref toString());  // Definitely impossible\npassByReference(ref new String(\"foo\"));  // Definitely impossible\n</code></pre>\n\n<p>An example of (4):</p>\n\n<pre><code>passByReference(ref \"literal\");  // Definitely impossible\n</code></pre>\n\n<p>And then there are assignment expressions, which seem to me like something of a judgement call:</p>\n\n<pre><code>String s;\npassByReference(ref (s=\"initial\"));  // Possible, but does it make sense?\n</code></pre>\n\n<p>It's also a little strange that your syntax requires the <code>ref</code> keyword for both the method definition and the method invocation.  I think the method definition would be sufficient.</p>\n"},{"tags":[],"owner":{"account_id":1028702,"reputation":968,"user_id":1037439,"display_name":"TomWolk"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1391061569,"creation_date":1391061569,"answer_id":21448953,"question_id":21274346,"body_markdown":"Java is (in fact) pass by reference. When the method is called, the reference(pointer) to the object is passed and when you modify the object you can see the modification when you return from the method. The problem with your example is that java.lang.String is immutable.\r\n\r\nAnd what you are actually achieving with your example is output parameters.\r\n\r\nHere is a slightly different version of Jeffrey Hantin:\r\n\r\n\r\n    public static void main(String[] args) {\r\n      StringBuilder variable = new StringBuilder(&quot;&#39;previous String reference&#39;&quot;);\r\n      passByReference(variable);\r\n      System.out.println(variable); // I want this to print &#39;new String reference&#39;\r\n    }\r\n\r\n    public static void passByReference(StringBuilder someString) {\r\n      String nr = &quot;&#39;new String reference&#39;&quot;;\r\n      someString.replace(0, nr.length() - 1, nr);\r\n    }","title":"How can you extend Java to introduce passing by reference?","body":"<p>Java is (in fact) pass by reference. When the method is called, the reference(pointer) to the object is passed and when you modify the object you can see the modification when you return from the method. The problem with your example is that java.lang.String is immutable.</p>\n\n<p>And what you are actually achieving with your example is output parameters.</p>\n\n<p>Here is a slightly different version of Jeffrey Hantin:</p>\n\n<pre><code>public static void main(String[] args) {\n  StringBuilder variable = new StringBuilder(\"'previous String reference'\");\n  passByReference(variable);\n  System.out.println(variable); // I want this to print 'new String reference'\n}\n\npublic static void passByReference(StringBuilder someString) {\n  String nr = \"'new String reference'\";\n  someString.replace(0, nr.length() - 1, nr);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":464537,"reputation":4252,"user_id":868121,"display_name":"Ted Bigham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391067719,"creation_date":1391067719,"answer_id":21450482,"question_id":21274346,"body_markdown":"I think you can accomplish most of what you want by building an agent and using cglib.\r\n\r\nMany of the examples given here can work.  I&#39;d recommend using the template you proposed because it will compile with the normal compiler.\r\n\r\n    public void doSomething(@Ref String var)\r\n\r\nThen behind the scenes you use cglib to rewrite the annotated methods, which is easy.  You&#39;ll also have to rewrite the caller, which i think will be much more complicated in cglib.  **javassist** uses more of a &quot;source code&quot; oriented approach, and might be better suited for rewriting the callers.","title":"How can you extend Java to introduce passing by reference?","body":"<p>I think you can accomplish most of what you want by building an agent and using cglib.</p>\n\n<p>Many of the examples given here can work.  I'd recommend using the template you proposed because it will compile with the normal compiler.</p>\n\n<pre><code>public void doSomething(@Ref String var)\n</code></pre>\n\n<p>Then behind the scenes you use cglib to rewrite the annotated methods, which is easy.  You'll also have to rewrite the caller, which i think will be much more complicated in cglib.  <strong>javassist</strong> uses more of a \"source code\" oriented approach, and might be better suited for rewriting the callers.</p>\n"},{"tags":[],"owner":{"account_id":2176852,"reputation":3240,"user_id":1927339,"display_name":"James_pic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1391518931,"creation_date":1391170638,"answer_id":21479909,"question_id":21274346,"body_markdown":"Oddly enough, I&#39;ve been thinking about this problem myself recently. I was considering whether it might be fun to create a dialect of VB that ran on the JVM - I decided it wouldn&#39;t be.\r\n\r\nAnyway, there are two main cases where this is likely to be useful and well defined:\r\n\r\n - local variables\r\n - object attributes\r\n\r\nI&#39;m assuming that you&#39;re writing a new compiler (or adapting an existing one) for your new dialect of Java.\r\n\r\n**Local variables** are typically handled by code similar to what you&#39;re proposing. I&#39;m most familiar with Scala, which doesn&#39;t support pass-by-reference, but does support closures, which have the same issues. In Scala, there&#39;s a class `scala.runtime.ObjectRef`, which resembles your `Holder` class. There are also similar `{...}Ref` classes for primitives, volatile variables, and similar.\r\n\r\nIf the compiler needs to create a closure that updates a local variable, it &quot;upgrades&quot; the variable to a `final ObjectRef` (which can be passed to the closure in its constructor), and replaces uses of that variable by `get`s and updates by `set`s, on the `ObjectRef`. In your compiler, you could upgrade local variables whenever they&#39;re passed by reference.\r\n\r\nYou could use a similar trick with **object attributes**. Suppose that `Holder` implements an interface `ByRef`. When your compiler sees an object attribute being passed by reference, it could create an anonymous subclass of `ByRef` that reads and updates the object attribute in its `get` and `set` methods. Again, Scala does something similar to this for lazily evaluated parameters (like references, but read-only).\r\n\r\nFor extra brownie points, you could extend the techique to JavaBean properties and even `Map`, `List` and `Array` elements.\r\n\r\nOne side effect of this is that at the JVM level, your methods have unexpected signatures. If you compile a method with signature `void doIt(ref String)`, at the bytecode level, you&#39;ll end up with the signature `void doIt(ByRef)` (you might expect this to be something like `void doIt(ByRef&lt;String&gt;)`, but of course generics use type erasure). This can cause problems with method overloading, as all by-ref parameters compile to the same signature.\r\n\r\nIt *may* be possible to do this with bytecode manipulation, but there are pitfalls, like the fact that the JVM permits applications to re-use local variables - so at the bytecode level, it may not be clear whether a parameter is being re-assigned, or its slot re-used, if the application was compiled without debugging symbols. Also, the compiler may elide `aload` instructions if there&#39;s no possibility of a value having changed within the outer method - if you don&#39;t take steps to avoid this, changes to your reference variable may not be reflected in the outer method.","title":"How can you extend Java to introduce passing by reference?","body":"<p>Oddly enough, I've been thinking about this problem myself recently. I was considering whether it might be fun to create a dialect of VB that ran on the JVM - I decided it wouldn't be.</p>\n\n<p>Anyway, there are two main cases where this is likely to be useful and well defined:</p>\n\n<ul>\n<li>local variables</li>\n<li>object attributes</li>\n</ul>\n\n<p>I'm assuming that you're writing a new compiler (or adapting an existing one) for your new dialect of Java.</p>\n\n<p><strong>Local variables</strong> are typically handled by code similar to what you're proposing. I'm most familiar with Scala, which doesn't support pass-by-reference, but does support closures, which have the same issues. In Scala, there's a class <code>scala.runtime.ObjectRef</code>, which resembles your <code>Holder</code> class. There are also similar <code>{...}Ref</code> classes for primitives, volatile variables, and similar.</p>\n\n<p>If the compiler needs to create a closure that updates a local variable, it \"upgrades\" the variable to a <code>final ObjectRef</code> (which can be passed to the closure in its constructor), and replaces uses of that variable by <code>get</code>s and updates by <code>set</code>s, on the <code>ObjectRef</code>. In your compiler, you could upgrade local variables whenever they're passed by reference.</p>\n\n<p>You could use a similar trick with <strong>object attributes</strong>. Suppose that <code>Holder</code> implements an interface <code>ByRef</code>. When your compiler sees an object attribute being passed by reference, it could create an anonymous subclass of <code>ByRef</code> that reads and updates the object attribute in its <code>get</code> and <code>set</code> methods. Again, Scala does something similar to this for lazily evaluated parameters (like references, but read-only).</p>\n\n<p>For extra brownie points, you could extend the techique to JavaBean properties and even <code>Map</code>, <code>List</code> and <code>Array</code> elements.</p>\n\n<p>One side effect of this is that at the JVM level, your methods have unexpected signatures. If you compile a method with signature <code>void doIt(ref String)</code>, at the bytecode level, you'll end up with the signature <code>void doIt(ByRef)</code> (you might expect this to be something like <code>void doIt(ByRef&lt;String&gt;)</code>, but of course generics use type erasure). This can cause problems with method overloading, as all by-ref parameters compile to the same signature.</p>\n\n<p>It <em>may</em> be possible to do this with bytecode manipulation, but there are pitfalls, like the fact that the JVM permits applications to re-use local variables - so at the bytecode level, it may not be clear whether a parameter is being re-assigned, or its slot re-used, if the application was compiled without debugging symbols. Also, the compiler may elide <code>aload</code> instructions if there's no possibility of a value having changed within the outer method - if you don't take steps to avoid this, changes to your reference variable may not be reflected in the outer method.</p>\n"},{"tags":[],"owner":{"account_id":1742788,"reputation":201,"user_id":1593719,"accept_rate":40,"display_name":"Lauri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650194321,"creation_date":1650180369,"answer_id":71900047,"question_id":21274346,"body_markdown":"The question is about the language itself, but answers seems to mention practical tricks. Adding to the list.\r\n\r\nThere is an option to hold data in atomics, such as `AtomicReference&lt;T&gt;`\r\n- `new AtomicReference&lt;&gt;(&quot;my data&quot;)`\r\n\r\nAlso it seems that `Pair` and other sorts of `Tuple`s are good holders, so its often happens that you already have a holder in your project.\r\n\r\n - `Tuples.of(....)`  (reactor.util.function.Tuples)\r\n - `Pair.of(a, b)` (spring, apache commons etc)\r\n - `AbstractMap.SimpleEntry` (jdk)\r\n - `new Object[]{&quot;my data&quot;}` can be a holder too\r\n\r\n\r\n\r\n","title":"How can you extend Java to introduce passing by reference?","body":"<p>The question is about the language itself, but answers seems to mention practical tricks. Adding to the list.</p>\n<p>There is an option to hold data in atomics, such as <code>AtomicReference&lt;T&gt;</code></p>\n<ul>\n<li><code>new AtomicReference&lt;&gt;(&quot;my data&quot;)</code></li>\n</ul>\n<p>Also it seems that <code>Pair</code> and other sorts of <code>Tuple</code>s are good holders, so its often happens that you already have a holder in your project.</p>\n<ul>\n<li><code>Tuples.of(....)</code>  (reactor.util.function.Tuples)</li>\n<li><code>Pair.of(a, b)</code> (spring, apache commons etc)</li>\n<li><code>AbstractMap.SimpleEntry</code> (jdk)</li>\n<li><code>new Object[]{&quot;my data&quot;}</code> can be a holder too</li>\n</ul>\n"}],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3774,"favorite_count":0,"down_vote_count":5,"up_vote_count":33,"accepted_answer_id":21441079,"answer_count":11,"score":28,"last_activity_date":1650194321,"creation_date":1390365776,"question_id":21274346,"body_markdown":"[Java is pass-by-value.][1] How could you modify the language to introduce passing by reference (or some equivalent behavior)?\r\n\r\nTake for example something like\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString variable = &quot;&#39;previous String reference&#39;&quot;;\r\n\t\tpassByReference(ref variable);\r\n\t\tSystem.out.println(variable); // I want this to print &#39;new String reference&#39;\r\n\t}\r\n\r\n\tpublic static void passByReference(ref String someString) {\r\n\t\tsomeString = &quot;&#39;new String reference&#39;&quot;;\r\n\t}\r\n\r\nwhich (without the `ref`) compiles to the following [bytecode][2]\r\n\r\n      public static void main(java.lang.String[]);\r\n        Code:\r\n           0: ldc           #2                  // String &#39;previous String reference&#39;\r\n           2: astore_1\r\n           3: aload_1\r\n           4: invokestatic  #3                  // Method passByReference:(Ljava/lang/String;)V\r\n           7: return\r\n    \r\n      public static void passByReference(java.lang.String);\r\n        Code:\r\n           0: ldc           #4                  // String &#39;new String reference&#39;\r\n           2: astore_0\r\n           3: return\r\n\t\r\nThe code at `3:` loads the reference onto the stack from the variable `variable`. \r\n\r\nOne possibility I&#39;m considering is to have the compiler determine a method is pass by reference, possibly with `ref`, and change the method to accept a Holder object which stores the same reference as our variable. When the method completes, and possibly changes that reference in the holder, the variable on the caller side&#39;s value is replaced with the holder reference&#39;s value. \r\n\r\nIt should compile to an equivalent of this \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString variable = &quot;&#39;previous String reference&#39;&quot;;\r\n\t\tHolder holder = Holder.referenceOf(variable);\r\n\t\tpassByReference2(holder);\r\n\t\tvariable = (String) holder.getReference(); // I don&#39;t think this cast is necessary in bytecode\r\n\t\tSystem.out.println(variable);\r\n\t}\r\n\r\n\tpublic static void passByReference(Holder someString) {\r\n\t\tsomeString.setReference(&quot;&#39;new String reference&#39;&quot;);\r\n\t}\r\n\t\r\nwhere `Holder` might be something like \r\n\r\n\tpublic class Holder {\r\n\t\tObject reference;\r\n\t\tprivate Holder (Object reference) {\r\n\t\t\tthis.reference = reference;\r\n\t\t}\r\n\t\tpublic Object getReference() {\r\n\t\t\treturn this.reference;\r\n\t\t}\r\n\t\tpublic void setReference(Object reference) {\r\n\t\t\tthis.reference = reference;\r\n\t\t}\r\n\t\tpublic static Holder referenceOf(Object reference) {\r\n\t\t\treturn new Holder(reference);\r\n\t\t}\r\n\t}\r\n\r\nWhere can this fail or how could you improve it? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40480/is-java-pass-by-reference\r\n  [2]: http://en.wikipedia.org/wiki/Java_bytecode_instruction_listings","title":"How can you extend Java to introduce passing by reference?","body":"<p><a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference\">Java is pass-by-value.</a> How could you modify the language to introduce passing by reference (or some equivalent behavior)?</p>\n\n<p>Take for example something like</p>\n\n<pre><code>public static void main(String[] args) {\n    String variable = \"'previous String reference'\";\n    passByReference(ref variable);\n    System.out.println(variable); // I want this to print 'new String reference'\n}\n\npublic static void passByReference(ref String someString) {\n    someString = \"'new String reference'\";\n}\n</code></pre>\n\n<p>which (without the <code>ref</code>) compiles to the following <a href=\"http://en.wikipedia.org/wiki/Java_bytecode_instruction_listings\" rel=\"nofollow noreferrer\">bytecode</a></p>\n\n<pre><code>  public static void main(java.lang.String[]);\n    Code:\n       0: ldc           #2                  // String 'previous String reference'\n       2: astore_1\n       3: aload_1\n       4: invokestatic  #3                  // Method passByReference:(Ljava/lang/String;)V\n       7: return\n\n  public static void passByReference(java.lang.String);\n    Code:\n       0: ldc           #4                  // String 'new String reference'\n       2: astore_0\n       3: return\n</code></pre>\n\n<p>The code at <code>3:</code> loads the reference onto the stack from the variable <code>variable</code>. </p>\n\n<p>One possibility I'm considering is to have the compiler determine a method is pass by reference, possibly with <code>ref</code>, and change the method to accept a Holder object which stores the same reference as our variable. When the method completes, and possibly changes that reference in the holder, the variable on the caller side's value is replaced with the holder reference's value. </p>\n\n<p>It should compile to an equivalent of this </p>\n\n<pre><code>public static void main(String[] args) {\n    String variable = \"'previous String reference'\";\n    Holder holder = Holder.referenceOf(variable);\n    passByReference2(holder);\n    variable = (String) holder.getReference(); // I don't think this cast is necessary in bytecode\n    System.out.println(variable);\n}\n\npublic static void passByReference(Holder someString) {\n    someString.setReference(\"'new String reference'\");\n}\n</code></pre>\n\n<p>where <code>Holder</code> might be something like </p>\n\n<pre><code>public class Holder {\n    Object reference;\n    private Holder (Object reference) {\n        this.reference = reference;\n    }\n    public Object getReference() {\n        return this.reference;\n    }\n    public void setReference(Object reference) {\n        this.reference = reference;\n    }\n    public static Holder referenceOf(Object reference) {\n        return new Holder(reference);\n    }\n}\n</code></pre>\n\n<p>Where can this fail or how could you improve it? </p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1650193816,"post_id":71901356,"comment_id":127054950,"body_markdown":"what is the exception? what is on line 12?","body":"what is the exception? what is on line 12?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650193837,"post_id":71901356,"comment_id":127054956,"body_markdown":"&quot;*The code runs but throws an exception when it reaches to the enter n part on line no 12*&quot; - Please [edit] the post, add the stack trace and highlight the line throwing the exception.","body":"&quot;<i>The code runs but throws an exception when it reaches to the enter n part on line no 12</i>&quot; - Please <a href=\"https://stackoverflow.com/posts/71901356/edit\">edit</a> the post, add the stack trace and highlight the line throwing the exception."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1650193870,"post_id":71901356,"comment_id":127054962,"body_markdown":"You don&#39;t need two instances of `Scanner` and you definitely don&#39;t need to close any of them until after you print the value, if ever.","body":"You don&#39;t need two instances of <code>Scanner</code> and you definitely don&#39;t need to close any of them until after you print the value, if ever."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1650195873,"post_id":71901356,"comment_id":127055306,"body_markdown":"The thing is that when you `close()` a `Scanner`, it&#39;ll close the underlying stream. So in your case, `System.in` is closed, and because both `Scanner`s are bound to `System.in`, both `Scanner`s cannot be used again.","body":"The thing is that when you <code>close()</code> a <code>Scanner</code>, it&#39;ll close the underlying stream. So in your case, <code>System.in</code> is closed, and because both <code>Scanner</code>s are bound to <code>System.in</code>, both <code>Scanner</code>s cannot be used again."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1650196074,"post_id":71901356,"comment_id":127055354,"body_markdown":"It is generally a good idea to close a stream when you&#39;re done with it. However, `System.in`, `System.out` and `System.err` are exceptions to this rule: they are wired by the JVM at startup, so the JVM is responsible for closing them. As a rule of thumb: don&#39;t close what you didn&#39;t open.","body":"It is generally a good idea to close a stream when you&#39;re done with it. However, <code>System.in</code>, <code>System.out</code> and <code>System.err</code> are exceptions to this rule: they are wired by the JVM at startup, so the JVM is responsible for closing them. As a rule of thumb: don&#39;t close what you didn&#39;t open."}],"answers":[{"tags":[],"owner":{"account_id":8036411,"reputation":50,"user_id":6059365,"display_name":"Jatin Kheradiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650194243,"creation_date":1650194243,"answer_id":71901415,"question_id":71901356,"body_markdown":"You should reuse the same scanner object to read multiple times. \r\nSo removing the object `ob` and using `sc` will help.\r\nAlso, do not close the `sc` scanner.\r\nRefer to this for more details: [Java Multiple Scanners][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19766566/java-multiple-scanners#:~:text=Having%20multiple%20scanners%20(on%20same,consume%20the%20stream%20they%20share.&amp;text=a%20reference%20to%20the%20source,buffer%20used%20to%20hold%20input","title":"Interger array where the user enters the index and the element is printed on screen","body":"<p>You should reuse the same scanner object to read multiple times.\nSo removing the object <code>ob</code> and using <code>sc</code> will help.\nAlso, do not close the <code>sc</code> scanner.\nRefer to this for more details: [Java Multiple Scanners][1].</p>\n<p>[1]: https://stackoverflow.com/questions/19766566/java-multiple-scanners#:~:text=Having%20multiple%20scanners%20(on%20same,consume%20the%20stream%20they%20share.&amp;text=a%20reference%20to%20the%20source,buffer%20used%20to%20hold%20input</p>\n"}],"owner":{"account_id":24972824,"reputation":3,"user_id":18835827,"display_name":"Pranshu Sati"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650194620,"accepted_answer_id":71901415,"answer_count":1,"score":0,"last_activity_date":1650194243,"creation_date":1650193699,"question_id":71901356,"body_markdown":"I tried entering an array and print only a certain index element\r\nForgive me if my question is stupid, I am a beginner, \r\nThe code runs but throws an exception when it reaches to the enter n part on line no 12\r\nthis is my code down below \r\n\r\n    import java.util.*;\r\n    public class array {\r\n        public static void main(String[] args) {\r\n            // ??classof 5 students\r\n            int []a=new int[5];\r\n            Scanner sc =new Scanner(System.in);\r\n            Scanner ob = new Scanner(System.in);\r\n            for(int i=0;i&lt;5;i++)\r\n            {\r\n                a[i]=sc.nextInt();\r\n            }sc.close();\r\n            System.out.println(&quot;enter n&quot;);\r\n            int n = ob.nextInt();\r\n            System.out.println(&quot;,&quot;+a[n]+&quot;,&quot;);\r\n       \r\n    \r\n        }\r\n    }\r\n\r\n","title":"Interger array where the user enters the index and the element is printed on screen","body":"<p>I tried entering an array and print only a certain index element\nForgive me if my question is stupid, I am a beginner,\nThe code runs but throws an exception when it reaches to the enter n part on line no 12\nthis is my code down below</p>\n<pre><code>import java.util.*;\npublic class array {\n    public static void main(String[] args) {\n        // ??classof 5 students\n        int []a=new int[5];\n        Scanner sc =new Scanner(System.in);\n        Scanner ob = new Scanner(System.in);\n        for(int i=0;i&lt;5;i++)\n        {\n            a[i]=sc.nextInt();\n        }sc.close();\n        System.out.println(&quot;enter n&quot;);\n        int n = ob.nextInt();\n        System.out.println(&quot;,&quot;+a[n]+&quot;,&quot;);\n   \n\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","math","time-complexity","fibonacci"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1650179990,"post_id":71900017,"comment_id":127052742,"body_markdown":"It is *O(1)* because there is nothing in the formula that happens more than once. Nothing to do with processor speed.","body":"It is <i>O(1)</i> because there is nothing in the formula that happens more than once. Nothing to do with processor speed."},{"owner":{"account_id":16389513,"reputation":125,"user_id":11838630,"display_name":"CodingDevil"},"score":1,"creation_date":1650180093,"post_id":71900017,"comment_id":127052758,"body_markdown":"hey @user207421 , but Math.pow(A,N) function is multiplying A upto N times to find power. so is not that counted int time complexity? see &quot;double fibN=(Math.pow(Phi,N)-Math.pow(phi,N))/sqrtFive;&quot;","body":"hey @user207421 , but Math.pow(A,N) function is multiplying A upto N times to find power. so is not that counted int time complexity? see &quot;double fibN=(Math.pow(Phi,N)-Math.pow(phi,N))/sqrtFive;&quot;"},{"owner":{"account_id":2684795,"reputation":182450,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":1,"creation_date":1650180328,"post_id":71900017,"comment_id":127052798,"body_markdown":"@CodingDevil: no, `pow(A, N) == exp(N * log(A))` where both `exp` and `log` are built-in FPU commands","body":"@CodingDevil: no, <code>pow(A, N) == exp(N * log(A))</code> where both <code>exp</code> and <code>log</code> are built-in FPU commands"},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":1,"creation_date":1650180338,"post_id":71900017,"comment_id":127052800,"body_markdown":"Exponentiation by squaring is logarithmic, so yeah definitely not constant. The real problem is that your Fibonacci function will probably already break for Ns around 30 if I&#39;d to guess thanks to fp inaccuracies.","body":"Exponentiation by squaring is logarithmic, so yeah definitely not constant. The real problem is that your Fibonacci function will probably already break for Ns around 30 if I&#39;d to guess thanks to fp inaccuracies."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1650180345,"post_id":71900017,"comment_id":127052803,"body_markdown":"`Math.pow()` only loops N times if it&#39;s implemented very badly in software, which it almost certainly isn&#39;t.","body":"<code>Math.pow()</code> only loops N times if it&#39;s implemented very badly in software, which it almost certainly isn&#39;t."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":1,"creation_date":1650180458,"post_id":71900017,"comment_id":127052822,"body_markdown":"@user207421 Generally when analyzing algorithms one is talking about the mathematical algorithm. Otherwise if you&#39;re considering hardware limitations literally every algorithm is solvable in constant time (very, very large constant times, but still constant)","body":"@user207421 Generally when analyzing algorithms one is talking about the mathematical algorithm. Otherwise if you&#39;re considering hardware limitations literally every algorithm is solvable in constant time (very, very large constant times, but still constant)"},{"owner":{"account_id":4749863,"reputation":27187,"user_id":3840170,"display_name":"user3840170"},"score":0,"creation_date":1650180944,"post_id":71900017,"comment_id":127052913,"body_markdown":"Expect rounding errors for large N, though.","body":"Expect rounding errors for large N, though."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650181001,"post_id":71900017,"comment_id":127052919,"body_markdown":"@Voo That is simply untrue. Most equations depend on variables, so you cannot know the answer in advance, so you cannot compute them in constant time. The Fibonacci relation without using Binet&#39;s formula as here is a case in point. You don&#39;t know N in advance. Unless you are also positing infinite lookup tables?","body":"@Voo That is simply untrue. Most equations depend on variables, so you cannot know the answer in advance, so you cannot compute them in constant time. The Fibonacci relation without using Binet&#39;s formula as here is a case in point. You don&#39;t know N in advance. Unless you are also positing infinite lookup tables?"},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1650181255,"post_id":71900017,"comment_id":127052951,"body_markdown":"@dmitry By that argument the traveling salesman problem is constant as well.. &quot;your hardware can only represent K nodes, for K nodes we have at most K^K operations which is constant&quot;. Your built-in hardware operation can only handle pretty small numbers, what do you do when the numbers are bigger than that limitation? That&#39;s the relevant part (and you definitely can&#39;t get the power of two arbitrarily large numbers in constant time to their size)","body":"@dmitry By that argument the traveling salesman problem is constant as well.. &quot;your hardware can only represent K nodes, for K nodes we have at most K^K operations which is constant&quot;. Your built-in hardware operation can only handle pretty small numbers, what do you do when the numbers are bigger than that limitation? That&#39;s the relevant part (and you definitely can&#39;t get the power of two arbitrarily large numbers in constant time to their size)"},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1650181428,"post_id":71900017,"comment_id":127052977,"body_markdown":"@user207421 Hardware isn&#39;t infinite, which means I only need a finite lookup table, but that&#39;s also not necessary - if you limit the size of your input (as you have to do for your hardware), every function is constant in Big(O) notation, by definition. For any f(n) with n &lt; K I can find a constant that&#39;s always larger than f for any valid input.","body":"@user207421 Hardware isn&#39;t infinite, which means I only need a finite lookup table, but that&#39;s also not necessary - if you limit the size of your input (as you have to do for your hardware), every function is constant in Big(O) notation, by definition. For any f(n) with n &lt; K I can find a constant that&#39;s always larger than f for any valid input."},{"owner":{"account_id":16389513,"reputation":125,"user_id":11838630,"display_name":"CodingDevil"},"score":0,"creation_date":1650181765,"post_id":71900017,"comment_id":127053013,"body_markdown":"@Voo We are computing time complexity on the basis of input size, here pow() function does computation based on input. so time complexity cant be constant, I think.","body":"@Voo We are computing time complexity on the basis of input size, here pow() function does computation based on input. so time complexity cant be constant, I think."},{"owner":{"account_id":16389513,"reputation":125,"user_id":11838630,"display_name":"CodingDevil"},"score":0,"creation_date":1650181987,"post_id":71900017,"comment_id":127053033,"body_markdown":"@DmitryBychenko may I know complexity of &#39;exp&#39; and &#39;log&#39; built-in commands?\n\nPS: Your comment was, &quot;pow(A, N) == exp(N * log(A)) where both exp and log are built-in FPU commands&quot;\n\nthanks","body":"@DmitryBychenko may I know complexity of &#39;exp&#39; and &#39;log&#39; built-in commands?  PS: Your comment was, &quot;pow(A, N) == exp(N * log(A)) where both exp and log are built-in FPU commands&quot;  thanks"},{"owner":{"account_id":2684795,"reputation":182450,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1650183506,"post_id":71900017,"comment_id":127053264,"body_markdown":"@CodingDevil: In case of **x87** FPU you can use `F2XM1` for `2**x - 1` and `FY2XP1` to get `y*log(x + 1)`; both commands have `O(1)` time complexity; and you have to add and subtract `1` which is also `O(1)`","body":"@CodingDevil: In case of <b>x87</b> FPU you can use <code>F2XM1</code> for <code>2**x - 1</code> and <code>FY2XP1</code> to get <code>y*log(x + 1)</code>; both commands have <code>O(1)</code> time complexity; and you have to add and subtract <code>1</code> which is also <code>O(1)</code>"},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1650183788,"post_id":71900017,"comment_id":127053306,"body_markdown":"@dmitry If you&#39;re saying the algorithm is O(1) that means you need the approximately same time to compute the power of two 100 bit numbers as it takes for two one million bit numbers. I&#39;m doubtful that you can manage that (what with it being provably impossible)","body":"@dmitry If you&#39;re saying the algorithm is O(1) that means you need the approximately same time to compute the power of two 100 bit numbers as it takes for two one million bit numbers. I&#39;m doubtful that you can manage that (what with it being provably impossible)"},{"owner":{"account_id":2684795,"reputation":182450,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1650188738,"post_id":71900017,"comment_id":127054061,"body_markdown":"@Voo: you are quite right for *arbitrary precision numbers* (`100` or may be million bits long). My comments are about `double` (which is used in the question), and `double` has fixed length of 64 bit; that&#39;s why we have `O(1)` in this case.","body":"@Voo: you are quite right for <i>arbitrary precision numbers</i> (<code>100</code> or may be million bits long). My comments are about <code>double</code> (which is used in the question), and <code>double</code> has fixed length of 64 bit; that&#39;s why we have <code>O(1)</code> in this case."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":1,"creation_date":1650191886,"post_id":71900017,"comment_id":127054624,"body_markdown":"Understanding complexity of actual programs requires some sort of statement of a computational model and how the actual program maps into that computational model. This is always true (but often disregarded), but it&#39;s most important when you&#39;re using floating point (and need an accurate result) and also when the result of the function is quickly out of range for standard types. Here, you&#39;ve got floating point, a complex operation (pow), large numbers, and a need for high accuracy if you want correct results.","body":"Understanding complexity of actual programs requires some sort of statement of a computational model and how the actual program maps into that computational model. This is always true (but often disregarded), but it&#39;s most important when you&#39;re using floating point (and need an accurate result) and also when the result of the function is quickly out of range for standard types. Here, you&#39;ve got floating point, a complex operation (pow), large numbers, and a need for high accuracy if you want correct results."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1650202874,"post_id":71900017,"comment_id":127056592,"body_markdown":"People are arguing about the complexity of exponentiation, but that&#39;s not what OP&#39;s question is about. His computation uses `java.lang.Math.pow()`, which is O(1). If OP doubles the size of N, or halves it, the computation takes the same amount of time.","body":"People are arguing about the complexity of exponentiation, but that&#39;s not what OP&#39;s question is about. His computation uses <code>java.lang.Math.pow()</code>, which is O(1). If OP doubles the size of N, or halves it, the computation takes the same amount of time."},{"owner":{"account_id":16389513,"reputation":125,"user_id":11838630,"display_name":"CodingDevil"},"score":0,"creation_date":1650203074,"post_id":71900017,"comment_id":127056641,"body_markdown":"@President James K. Polk , math.pow() will take O(logn) time complexity or O(1)??","body":"@President James K. Polk , math.pow() will take O(logn) time complexity or O(1)??"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1650203851,"post_id":71900017,"comment_id":127056810,"body_markdown":"`java.lang.Math.pow()` is O(1). But all `double` arithmetic is limited in precision, so using `java.lang.Math.pow()` means you&#39;re only getting an approximation to answer.","body":"<code>java.lang.Math.pow()</code> is O(1). But all <code>double</code> arithmetic is limited in precision, so using <code>java.lang.Math.pow()</code> means you&#39;re only getting an approximation to answer."},{"owner":{"account_id":17476274,"reputation":25037,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1650209907,"post_id":71900017,"comment_id":127058158,"body_markdown":"@PresidentJamesK.Polk Yeah, looks like the only &quot;range&quot; where it&#39;s correct is [from N=36 to N=71](https://tio.run/##ZVDBboMwDL3zFRanZBRaJu0yhnbbrWhSj9MOZgWaLk1YCJ2qqd/OnIy2dA1SHL/3/LC9xT3G2/XnMIhdq42FLQFJb4VM7rJgiklUjcPavpTiAz4kdh0sUajgJwA6I95ZtBT2WqxhRyxbWSNU8/YOaJqOw5/YHalVAwg5LGZQUkizM1VrA0woC4WjMwpPkC7cI4qmFmcbXdekrEXJCg4xYHYlWR06W@0S3dukpWasVKyACEL6olNRBMyb0P/gGcIQHon1UHnwOvekGh5ynt02gG4CJEF5Tbr5/kFeOcGOweX217hC7@u684vgl6lroVDCWtPCK@i@jH0R@ypfot0kLmMPkwZH1etG5OwkjVI@v7@RtCQhWZzeMNRDkTPv3@pvRqJZweNz3vqcz0/2l3pT2d4oYG4S7m2ycdbjMPwC). Below or above it&#39;s wrong in various ways.","body":"@PresidentJamesK.Polk Yeah, looks like the only &quot;range&quot; where it&#39;s correct is <a href=\"https://tio.run/##ZVDBboMwDL3zFRanZBRaJu0yhnbbrWhSj9MOZgWaLk1YCJ2qqd/OnIy2dA1SHL/3/LC9xT3G2/XnMIhdq42FLQFJb4VM7rJgiklUjcPavpTiAz4kdh0sUajgJwA6I95ZtBT2WqxhRyxbWSNU8/YOaJqOw5/YHalVAwg5LGZQUkizM1VrA0woC4WjMwpPkC7cI4qmFmcbXdekrEXJCg4xYHYlWR06W@0S3dukpWasVKyACEL6olNRBMyb0P/gGcIQHon1UHnwOvekGh5ynt02gG4CJEF5Tbr5/kFeOcGOweX217hC7@u684vgl6lroVDCWtPCK@i@jH0R@ypfot0kLmMPkwZH1etG5OwkjVI@v7@RtCQhWZzeMNRDkTPv3@pvRqJZweNz3vqcz0/2l3pT2d4oYG4S7m2ycdbjMPwC\" rel=\"nofollow noreferrer\">from N=36 to N=71</a>. Below or above it&#39;s wrong in various ways."},{"owner":{"account_id":17476274,"reputation":25037,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1650210490,"post_id":71900017,"comment_id":127058277,"body_markdown":"(Below 36, their formula (as implemented by them) isn&#39;t good enough. Above 71, `double` isn&#39;t good enough. Above 92, `long` also isn&#39;t good enough. And at 1475, the `double` becomes &quot;Infinity&quot;.)","body":"(Below 36, their formula (as implemented by them) isn&#39;t good enough. Above 71, <code>double</code> isn&#39;t good enough. Above 92, <code>long</code> also isn&#39;t good enough. And at 1475, the <code>double</code> becomes &quot;Infinity&quot;.)"},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1650306268,"post_id":71900017,"comment_id":127079028,"body_markdown":"@Dmitry My main point is that asymptotic complexity only makes sense to describe an algorithm - it&#39;s a theoretical concept that doesn&#39;t make sense for actual implementations. Arrays in Java are limited to less than 2^31 elements, so by definition sort is O(1) in Java. You can use Java to describe the algorithm, but it&#39;s just a concise shorthand. Although I guess some schools tend to not teach that distinction. Big O performance is really not a useful real world characteristic (as all those galactic algorithms demonstrate).","body":"@Dmitry My main point is that asymptotic complexity only makes sense to describe an algorithm - it&#39;s a theoretical concept that doesn&#39;t make sense for actual implementations. Arrays in Java are limited to less than 2^31 elements, so by definition sort is O(1) in Java. You can use Java to describe the algorithm, but it&#39;s just a concise shorthand. Although I guess some schools tend to not teach that distinction. Big O performance is really not a useful real world characteristic (as all those galactic algorithms demonstrate)."}],"answers":[{"tags":[],"owner":{"account_id":20353171,"reputation":9,"user_id":14929349,"display_name":"BooleanCube"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650182195,"creation_date":1650182195,"answer_id":71900218,"question_id":71900017,"body_markdown":"Time Complexity is calculated in terms of the amount of iterations. This method of calculating fibonacci is actually O(1) because everything is done in 1 iteration without doing any recursion or looping.\r\n\r\nEdit:\r\nIf you only call this fibonacci method a couple times the runtime of the pow() operations doesnt matter. However, the more the method is called you do sorta have to take into account for the runtime of pow() as well. But in terms of Big O Notation, I would say that this is O(1)\r\n\r\n","title":"What is the time complexity of computing Fibonacci terms with the &#39;fib(N) = [Phi^N – phi^N] / Sqrt[5]&#39; formula?","body":"<p>Time Complexity is calculated in terms of the amount of iterations. This method of calculating fibonacci is actually O(1) because everything is done in 1 iteration without doing any recursion or looping.</p>\n<p>Edit:\nIf you only call this fibonacci method a couple times the runtime of the pow() operations doesnt matter. However, the more the method is called you do sorta have to take into account for the runtime of pow() as well. But in terms of Big O Notation, I would say that this is O(1)</p>\n"}],"owner":{"account_id":16389513,"reputation":125,"user_id":11838630,"display_name":"CodingDevil"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1650194687,"answer_count":1,"score":3,"last_activity_date":1650194196,"creation_date":1650179868,"question_id":71900017,"body_markdown":"The normal recurrence of Fibonacci is **Fib(N)= Fib(N-1)+Fib(n-2)** which gives time complexity of 2^N.\r\nTo reduce time complexity we have a formula below:\r\n\r\n`Fib(N) = [Phi^N – phi^N] / Sqrt[5]` [Source][1]\r\n\r\nwhere `Phi= (1 + Sqrt[5]) / 2`\r\nand\r\n`phi = (1-Sqrt[5])/2;`\r\nor `phi=Phi-1` [Source][2]\r\n\r\nMy code in java is below:\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(fib(50)+&quot;&quot;);\r\n    \t}\r\n    \t\r\n    \tstatic long fib(int N){\r\n    \t    final double sqrtFive=Math.sqrt(5);\r\n    \t    double Phi=(sqrtFive+1)/2;\r\n    \t    double phi=Phi-1;\r\n    \t    double fibN=(Math.pow(Phi,N)-Math.pow(phi,N))/sqrtFive;\r\n    \t    return (long) fibN;\r\n    \t}\r\n    }\r\n\r\n**What is the time complexity of my code?**\r\n\r\n&gt; O(1)? because modern computer are superfast in computation so\r\n&gt; `Math.pow(base,power)` will be almost constant for any power.\r\n&gt; \r\n&gt; O(logn+logn) means O(logn)? because I&#39;m doing\r\n&gt; `Math.pow(Phi,N)-Math.pow(phi,N)` and Math.pow() function takes logN time.\r\n\r\nI&#39;m confused, please help me.\r\n\r\n  [1]: &lt;https://math.hmc.edu/funfacts/fibonacci-number-formula/#:~:text=Yes%2C%20there%20is%20an%20exact,%5D%20%2F%20Sqrt%5B5%5D.&amp;text=phi%20%3D%20(1%20%E2%80%93%20Sqrt%5B,to%20(%2D1%20%2F%20Phi).&gt;\r\n  [2]: https://r-knott.surrey.ac.uk/Fibonacci/fibFormula.html\r\n","title":"What is the time complexity of computing Fibonacci terms with the &#39;fib(N) = [Phi^N – phi^N] / Sqrt[5]&#39; formula?","body":"<p>The normal recurrence of Fibonacci is <strong>Fib(N)= Fib(N-1)+Fib(n-2)</strong> which gives time complexity of 2^N.\nTo reduce time complexity we have a formula below:</p>\n<p><code>Fib(N) = [Phi^N – phi^N] / Sqrt[5]</code> <a href=\"https://math.hmc.edu/funfacts/fibonacci-number-formula/#:%7E:text=Yes%2C%20there%20is%20an%20exact,%5D%20%2F%20Sqrt%5B5%5D.&amp;text=phi%20%3D%20(1%20%E2%80%93%20Sqrt%5B,to%20(%2D1%20%2F%20Phi).\" rel=\"nofollow noreferrer\">Source</a></p>\n<p>where <code>Phi= (1 + Sqrt[5]) / 2</code>\nand\n<code>phi = (1-Sqrt[5])/2;</code>\nor <code>phi=Phi-1</code> <a href=\"https://r-knott.surrey.ac.uk/Fibonacci/fibFormula.html\" rel=\"nofollow noreferrer\">Source</a></p>\n<p>My code in java is below:</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\npublic class Main\n{\n    public static void main(String[] args) {\n        System.out.println(fib(50)+&quot;&quot;);\n    }\n    \n    static long fib(int N){\n        final double sqrtFive=Math.sqrt(5);\n        double Phi=(sqrtFive+1)/2;\n        double phi=Phi-1;\n        double fibN=(Math.pow(Phi,N)-Math.pow(phi,N))/sqrtFive;\n        return (long) fibN;\n    }\n}\n</code></pre>\n<p><strong>What is the time complexity of my code?</strong></p>\n<blockquote>\n<p>O(1)? because modern computer are superfast in computation so\n<code>Math.pow(base,power)</code> will be almost constant for any power.</p>\n<p>O(logn+logn) means O(logn)? because I'm doing\n<code>Math.pow(Phi,N)-Math.pow(phi,N)</code> and Math.pow() function takes logN time.</p>\n</blockquote>\n<p>I'm confused, please help me.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11080808,"reputation":117,"user_id":8136032,"display_name":"MMJM"},"score":0,"creation_date":1650176992,"post_id":71899774,"comment_id":127052307,"body_markdown":"Works for me, I do not know which is incorrect, since 1 multiplied by 1 is 1","body":"Works for me, I do not know which is incorrect, since 1 multiplied by 1 is 1"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1650177377,"post_id":71899774,"comment_id":127052361,"body_markdown":"Works for me too - after changing `ABCTest()` to `main(String[] args)`","body":"Works for me too - after changing <code>ABCTest()</code> to <code>main(String[] args)</code>"}],"answers":[{"tags":[],"owner":{"display_name":"user18810706"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650178077,"creation_date":1650177569,"answer_id":71899846,"question_id":71899774,"body_markdown":"Intellij Input/Output:\r\n\r\n    Enter the value of A, B and c\r\n    1\r\n    2\r\n    3\r\n    Value of x is: 6.0\r\n    Value of A square is: 1.0\r\n    Value of B Square is: 4.0\r\n    Value of C square is: 9.0\r\n    Value of A divide is: 1.0\r\n    Value of B divide is: 0.25\r\n    Value of C divide is: 0.1111111111111111\r\n\r\nCode is fine.\r\n\r\n\r\n**UPDATE**\r\n\r\nYou probably expected the value of `x` to be equal to sum of these\r\n\r\n    Value of A divide is: 1.0\r\n    Value of B divide is: 0.25\r\n    Value of C divide is: 0.1111111111111111\r\n\r\nBut you are wrong. Because in statement:\r\n\r\n    double x = (1/a*a) + (2/b*b) + (3/c*c);\r\n\r\n\r\nIf a = 1, then (1/1*1) means first it divides 1 with 1 which is equal to 1, then multiplies 1 with 1, which is equal to 1.\r\n\r\nThe same with b and c, because you assign values of 2 and 3 to them.\r\n\r\nIn the end 1+2+3=6\r\n\r\n\r\n","title":"Simple algebra math in Java showing wrong answer","body":"<p>Intellij Input/Output:</p>\n<pre><code>Enter the value of A, B and c\n1\n2\n3\nValue of x is: 6.0\nValue of A square is: 1.0\nValue of B Square is: 4.0\nValue of C square is: 9.0\nValue of A divide is: 1.0\nValue of B divide is: 0.25\nValue of C divide is: 0.1111111111111111\n</code></pre>\n<p>Code is fine.</p>\n<p><strong>UPDATE</strong></p>\n<p>You probably expected the value of <code>x</code> to be equal to sum of these</p>\n<pre><code>Value of A divide is: 1.0\nValue of B divide is: 0.25\nValue of C divide is: 0.1111111111111111\n</code></pre>\n<p>But you are wrong. Because in statement:</p>\n<pre><code>double x = (1/a*a) + (2/b*b) + (3/c*c);\n</code></pre>\n<p>If a = 1, then (1/1*1) means first it divides 1 with 1 which is equal to 1, then multiplies 1 with 1, which is equal to 1.</p>\n<p>The same with b and c, because you assign values of 2 and 3 to them.</p>\n<p>In the end 1+2+3=6</p>\n"},{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650178166,"creation_date":1650177864,"answer_id":71899867,"question_id":71899774,"body_markdown":"In Java, there is operation priority that determines the order of calculations. \r\nI changed the code and it will work correctly:\r\n\r\n    double a, b, c;\r\n        Scanner inputNumber = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the value of A, B and c&quot;);\r\n    \r\n        a = inputNumber.nextInt();\r\n        b = inputNumber.nextInt();\r\n        c = inputNumber.nextInt();\r\n    \r\n        double aSquare = a*a;\r\n        double bSquare = b*b;\r\n        double cSquare = c*c;\r\n    \r\n        double ax = (1/aSquare);\r\n        double bx = (1/bSquare);\r\n        double cx = (1/cSquare);\r\n    \r\n        double x = (1/aSquare) + (2/bSquare) + (3/cSquare);\r\n        System.out.println(&quot;Value of x is: &quot; + x);\r\n    \r\n        System.out.println(&quot;Value of A square is: &quot; + aSquare);\r\n        System.out.println(&quot;Value of B Square is: &quot; + bSquare);\r\n        System.out.println(&quot;Value of C square is: &quot; + cSquare);\r\n\r\nValue of x is: 1.8333333333333333\r\n","title":"Simple algebra math in Java showing wrong answer","body":"<p>In Java, there is operation priority that determines the order of calculations.\nI changed the code and it will work correctly:</p>\n<pre><code>double a, b, c;\n    Scanner inputNumber = new Scanner(System.in);\n    System.out.println(&quot;Enter the value of A, B and c&quot;);\n\n    a = inputNumber.nextInt();\n    b = inputNumber.nextInt();\n    c = inputNumber.nextInt();\n\n    double aSquare = a*a;\n    double bSquare = b*b;\n    double cSquare = c*c;\n\n    double ax = (1/aSquare);\n    double bx = (1/bSquare);\n    double cx = (1/cSquare);\n\n    double x = (1/aSquare) + (2/bSquare) + (3/cSquare);\n    System.out.println(&quot;Value of x is: &quot; + x);\n\n    System.out.println(&quot;Value of A square is: &quot; + aSquare);\n    System.out.println(&quot;Value of B Square is: &quot; + bSquare);\n    System.out.println(&quot;Value of C square is: &quot; + cSquare);\n</code></pre>\n<p>Value of x is: 1.8333333333333333</p>\n"}],"owner":{"account_id":24970763,"reputation":1,"user_id":18833960,"display_name":"Tiyash Paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1650194059,"answer_count":2,"score":-2,"last_activity_date":1650193979,"creation_date":1650176708,"question_id":71899774,"body_markdown":"I am using this code in BlueJ for my school project, but this is returning wrong answer. I have tried everything, but each time I enter this value - A = 1, B = 2 and C = 3, it is showing 1 as answer which is incorrect.\r\n\r\n ```java\r\n import java.util.*;\r\n public class ABCD\r\n {\r\n     public static void ABCTest() {\r\n         double a, b, c;\r\n         Scanner inputNumber = new Scanner(System.in);\r\n         System.out.println(&quot;Enter the value of A, B and c&quot;);\r\n         \r\n         a = inputNumber.nextInt();\r\n         b = inputNumber.nextInt();\r\n         c = inputNumber.nextInt();\r\n         \r\n         double aSquare = a*a;\r\n         double bSquare = b*b;\r\n         double cSquare = c*c;\r\n         \r\n         double ax = (1/aSquare);\r\n         double bx = (1/bSquare);\r\n         double cx = (1/cSquare);\r\n         \r\n         double x = (1/a*a) + (2/b*b) + (3/c*c);\r\n         System.out.println(&quot;Value of x is: &quot; + x);\r\n         \r\n         System.out.println(&quot;Value of A square is: &quot; + aSquare);\r\n         System.out.println(&quot;Value of B Square is: &quot; + bSquare);\r\n         System.out.println(&quot;Value of C square is: &quot; + cSquare);\r\n         \r\n         System.out.println(&quot;Value of A divide is: &quot; + ax);\r\n         System.out.println(&quot;Value of B divide is: &quot; + bx);\r\n         System.out.println(&quot;Value of C divide is: &quot; + cx);\r\n     }\r\n }\r\n```\r\n\r\n ","title":"Simple algebra math in Java showing wrong answer","body":"<p>I am using this code in BlueJ for my school project, but this is returning wrong answer. I have tried everything, but each time I enter this value - A = 1, B = 2 and C = 3, it is showing 1 as answer which is incorrect.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\npublic class ABCD\n{\n    public static void ABCTest() {\n        double a, b, c;\n        Scanner inputNumber = new Scanner(System.in);\n        System.out.println(&quot;Enter the value of A, B and c&quot;);\n        \n        a = inputNumber.nextInt();\n        b = inputNumber.nextInt();\n        c = inputNumber.nextInt();\n        \n        double aSquare = a*a;\n        double bSquare = b*b;\n        double cSquare = c*c;\n        \n        double ax = (1/aSquare);\n        double bx = (1/bSquare);\n        double cx = (1/cSquare);\n        \n        double x = (1/a*a) + (2/b*b) + (3/c*c);\n        System.out.println(&quot;Value of x is: &quot; + x);\n        \n        System.out.println(&quot;Value of A square is: &quot; + aSquare);\n        System.out.println(&quot;Value of B Square is: &quot; + bSquare);\n        System.out.println(&quot;Value of C square is: &quot; + cSquare);\n        \n        System.out.println(&quot;Value of A divide is: &quot; + ax);\n        System.out.println(&quot;Value of B divide is: &quot; + bx);\n        System.out.println(&quot;Value of C divide is: &quot; + cx);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","sockets","signalr"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1649914084,"post_id":71866771,"comment_id":126996474,"body_markdown":"If internet is off you can not get any event from the User .. You can use a ping mechanism lets say if u don&#39;t get a ping in like 30 seconds you can assume the user is offline . And this goes for both parties including the signaling Server . For reconnection i am sure there r callbacks for connection status form where you try reconnecting again once the connection lost . There might be some build in mechanism also check the docs . Disclaimer - i never used `SignalR`.","body":"If internet is off you can not get any event from the User .. You can use a ping mechanism lets say if u don&#39;t get a ping in like 30 seconds you can assume the user is offline . And this goes for both parties including the signaling Server . For reconnection i am sure there r callbacks for connection status form where you try reconnecting again once the connection lost . There might be some build in mechanism also check the docs . Disclaimer - i never used <code>SignalR</code>."},{"owner":{"account_id":2879368,"reputation":163,"user_id":2470593,"display_name":"Farid Savad"},"score":0,"creation_date":1649914538,"post_id":71866771,"comment_id":126996556,"body_markdown":"@ADM thankyou, By disconnection, I mean disconnecting the note in a few milliseconds and reconnecting, but the signal is no longer reconnected. And it can not be handled","body":"@ADM thankyou, By disconnection, I mean disconnecting the note in a few milliseconds and reconnecting, but the signal is no longer reconnected. And it can not be handled"}],"answers":[{"tags":[],"owner":{"account_id":2879368,"reputation":163,"user_id":2470593,"display_name":"Farid Savad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650193848,"creation_date":1650193422,"answer_id":71901323,"question_id":71866771,"body_markdown":"After much research, I managed to solve this problem. I am writing the solution to this problem. I hope it solves someone else&#39;s problem\r\n\r\n**handle the signalr connection close:**\r\n\r\n    hubConnection.onClosed(exception -&gt; {\r\n                //do something\r\n                //attemt to connect\r\n                //note: exception is null when the user stop connection\r\n            });\r\n\r\n**handle the signalr connection start:**\r\n\r\n        hubConnection.start()\r\n                                .doOnError(throwable -&gt; {\r\n                                    Log.e(TAG, &quot;doInBackground &gt; doOnError: &quot;, throwable);\r\n    //start fail , try again    \r\n    //note: the start function need try chach when we use this function\r\n                                })\r\n                                .doOnComplete(() -&gt; {\r\n                                    Log.i(TAG, &quot;doInBackground &gt; doOnComplete.&quot;);\r\n                                    //start complated\r\n                                })\r\n                                .blockingAwait();//you must write this function ,else other function not worck \r\n\r\n","title":"signalr connection event handle in java android","body":"<p>After much research, I managed to solve this problem. I am writing the solution to this problem. I hope it solves someone else's problem</p>\n<p><strong>handle the signalr connection close:</strong></p>\n<pre><code>hubConnection.onClosed(exception -&gt; {\n            //do something\n            //attemt to connect\n            //note: exception is null when the user stop connection\n        });\n</code></pre>\n<p><strong>handle the signalr connection start:</strong></p>\n<pre><code>    hubConnection.start()\n                            .doOnError(throwable -&gt; {\n                                Log.e(TAG, &quot;doInBackground &gt; doOnError: &quot;, throwable);\n//start fail , try again    \n//note: the start function need try chach when we use this function\n                            })\n                            .doOnComplete(() -&gt; {\n                                Log.i(TAG, &quot;doInBackground &gt; doOnComplete.&quot;);\n                                //start complated\n                            })\n                            .blockingAwait();//you must write this function ,else other function not worck \n</code></pre>\n"}],"owner":{"account_id":2879368,"reputation":163,"user_id":2470593,"display_name":"Farid Savad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71901323,"answer_count":1,"score":2,"last_activity_date":1650193848,"creation_date":1649913060,"question_id":71866771,"body_markdown":"I&#39;m using SignalR to make a two-player online game. So far so good. But when one of the players&#39; internet is cut off ( in a few milliseconds) or the server is cut off for any reason, the program no longer works. How can I be notified of connection events?\r\nHow can I reconnect automatically?\r\n\r\nI have been researching it for a long time, but I have not found a solution\r\n\r\nAsp.NET core 5.0 server-side:\r\n\r\n        public class ChatHub : Hub\r\n        {\r\n            LogHelper logHelper = new LogHelper(&quot;hub&quot;);\r\n    \r\n            public async Task Move(float x, float y)\r\n            {\r\n                    await Clients.Others.SendAsync(&quot;ReceivePosition&quot;, x, y);\r\n            }\r\n    }\r\n\r\nclient-side java android studio :\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        private static final String TAG = &quot;qazwsx&quot;;\r\n        Button btnStart;\r\n        View viewMove;\r\n    \r\n        HubConnection hubConnection;\r\n    \r\n        @SuppressLint({&quot;ClickableViewAccessibility&quot;, &quot;CheckResult&quot;})\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            hubConnection = HubConnectionBuilder.create(&quot;http://192.168.1.10:45455/notification&quot;).build();\r\n    \r\n            hubConnection.on(&quot;ReceivePosition&quot;, (x, y) -&gt; {\r\n    \r\n                runOnUiThread(() -&gt; {\r\n                    viewMove.setX(x);\r\n                    viewMove.setY(y);\r\n    \r\n                    Log.i(TAG, String.format(&quot;onCreate: x:%s  y:%s&quot;, x, y));\r\n                });\r\n    \r\n            }, Float.class, Float.class);\r\n    \r\n            btnStart = findViewById(R.id.bntStart);\r\n            viewMove = findViewById(R.id.viewMove);\r\n    \r\n    \r\n            btnStart.setOnClickListener(view -&gt; {\r\n                Log.i(TAG, &quot;onCreate &gt; btnStart.setOnClickListener &gt; status:&quot; + hubConnection.getConnectionState());\r\n                if (btnStart.getText().toString().equals(&quot;START&quot;)) {\r\n                    if (hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED) {\r\n                        btnStart.setText(&quot;STOP&quot;);\r\n                    }\r\n                } else {\r\n                    if (hubConnection.getConnectionState() == HubConnectionState.CONNECTED) {\r\n                        hubConnection.stop();\r\n    \r\n                    }\r\n                }\r\n            });\r\n    \r\n            final float[] dX = new float[1];\r\n            final float[] dY = new float[1];\r\n            viewMove.setOnTouchListener((view, event) -&gt; {\r\n    \r\n                switch (event.getAction()) {\r\n                    //this is your code\r\n                    case MotionEvent.ACTION_DOWN:\r\n                        dX[0] = view.getX() - event.getRawX();\r\n                        dY[0] = view.getY() - event.getRawY();\r\n                        break;\r\n                    case MotionEvent.ACTION_MOVE:\r\n                        view.animate()\r\n                                .x(event.getRawX() + dX[0])\r\n                                .y(event.getRawY() + dY[0])\r\n                                .setDuration(0)\r\n                                .start();\r\n                        if (hubConnection.getConnectionState() == HubConnectionState.CONNECTED) {\r\n                            hubConnection.send(&quot;Move&quot;, event.getRawX() + dX[0], event.getRawY() + dY[0]);\r\n                            Log.i(TAG, String.format(&quot;move: x:%s  y:%s&quot;, dX[0], dY[0]));\r\n    \r\n                        }\r\n                        break;\r\n                    default:\r\n                        return false;\r\n                }\r\n                return true;\r\n    \r\n            });\r\n        }\r\n    \r\n    \r\n    }\r\n","title":"signalr connection event handle in java android","body":"<p>I'm using SignalR to make a two-player online game. So far so good. But when one of the players' internet is cut off ( in a few milliseconds) or the server is cut off for any reason, the program no longer works. How can I be notified of connection events?\nHow can I reconnect automatically?</p>\n<p>I have been researching it for a long time, but I have not found a solution</p>\n<p>Asp.NET core 5.0 server-side:</p>\n<pre><code>    public class ChatHub : Hub\n    {\n        LogHelper logHelper = new LogHelper(&quot;hub&quot;);\n\n        public async Task Move(float x, float y)\n        {\n                await Clients.Others.SendAsync(&quot;ReceivePosition&quot;, x, y);\n        }\n}\n</code></pre>\n<p>client-side java android studio :</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\n    private static final String TAG = &quot;qazwsx&quot;;\n    Button btnStart;\n    View viewMove;\n\n    HubConnection hubConnection;\n\n    @SuppressLint({&quot;ClickableViewAccessibility&quot;, &quot;CheckResult&quot;})\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        hubConnection = HubConnectionBuilder.create(&quot;http://192.168.1.10:45455/notification&quot;).build();\n\n        hubConnection.on(&quot;ReceivePosition&quot;, (x, y) -&gt; {\n\n            runOnUiThread(() -&gt; {\n                viewMove.setX(x);\n                viewMove.setY(y);\n\n                Log.i(TAG, String.format(&quot;onCreate: x:%s  y:%s&quot;, x, y));\n            });\n\n        }, Float.class, Float.class);\n\n        btnStart = findViewById(R.id.bntStart);\n        viewMove = findViewById(R.id.viewMove);\n\n\n        btnStart.setOnClickListener(view -&gt; {\n            Log.i(TAG, &quot;onCreate &gt; btnStart.setOnClickListener &gt; status:&quot; + hubConnection.getConnectionState());\n            if (btnStart.getText().toString().equals(&quot;START&quot;)) {\n                if (hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED) {\n                    btnStart.setText(&quot;STOP&quot;);\n                }\n            } else {\n                if (hubConnection.getConnectionState() == HubConnectionState.CONNECTED) {\n                    hubConnection.stop();\n\n                }\n            }\n        });\n\n        final float[] dX = new float[1];\n        final float[] dY = new float[1];\n        viewMove.setOnTouchListener((view, event) -&gt; {\n\n            switch (event.getAction()) {\n                //this is your code\n                case MotionEvent.ACTION_DOWN:\n                    dX[0] = view.getX() - event.getRawX();\n                    dY[0] = view.getY() - event.getRawY();\n                    break;\n                case MotionEvent.ACTION_MOVE:\n                    view.animate()\n                            .x(event.getRawX() + dX[0])\n                            .y(event.getRawY() + dY[0])\n                            .setDuration(0)\n                            .start();\n                    if (hubConnection.getConnectionState() == HubConnectionState.CONNECTED) {\n                        hubConnection.send(&quot;Move&quot;, event.getRawX() + dX[0], event.getRawY() + dY[0]);\n                        Log.i(TAG, String.format(&quot;move: x:%s  y:%s&quot;, dX[0], dY[0]));\n\n                    }\n                    break;\n                default:\n                    return false;\n            }\n            return true;\n\n        });\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","swing","graphics","jbutton","helper"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1650203717,"post_id":71899771,"comment_id":127056774,"body_markdown":"*Here is the code that moves the circles without the conditions of overlapping.* - so why are you trying to write all the code at once? Your first task is to make sure you can move the circle by clicking on a button. Only then should you worry about other constraints. Maybe the reason the circle doesn&#39;t move is because your overlapping logic is wrong. You can&#39;t solve a problem unless you know what problem you are attempting to solve. Also, why are you playing with the &quot;clip&quot;. Again this is unnecessary. Keep the code simple to get it working first.","body":"<i>Here is the code that moves the circles without the conditions of overlapping.</i> - so why are you trying to write all the code at once? Your first task is to make sure you can move the circle by clicking on a button. Only then should you worry about other constraints. Maybe the reason the circle doesn&#39;t move is because your overlapping logic is wrong. You can&#39;t solve a problem unless you know what problem you are attempting to solve. Also, why are you playing with the &quot;clip&quot;. Again this is unnecessary. Keep the code simple to get it working first."}],"answers":[{"tags":[],"owner":{"account_id":18021593,"reputation":316,"user_id":13098656,"display_name":"Steffi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650193461,"creation_date":1650193461,"answer_id":71901326,"question_id":71899771,"body_markdown":"Here is an old sample program of mine. You just have to adjust it a little. Maybe it will help you\r\n\r\n\r\n\r\n    public class MainPanel extends JFrame {\r\n    \r\n        int x = 0;\r\n        int y = 0;\r\n    \r\n        ContentPanel drawPanel = new ContentPanel();\r\n    \r\n        public static void main(String[] args) {\r\n            MainPanel mainPanel = new MainPanel();       \r\n        }\r\n        \r\n        public MainPanel() {\r\n            \r\n            setLayout(new BorderLayout());\r\n            \r\n            JButton button1 = new JButton();\r\n                button1.setText(&quot;/\\\\&quot;);\r\n                button1.setPreferredSize(new Dimension(800, 50));\r\n                button1.addActionListener((ActionEvent e) -&gt; {\r\n                    y -= 10;\r\n                    drawPanel.repaint();\r\n                });\r\n            add(button1, BorderLayout.NORTH);\r\n            JButton button2 = new JButton();\r\n                button2.setText(&quot;&lt;&quot;);\r\n                button2.setPreferredSize(new Dimension(50, 800));\r\n                button2.addActionListener((ActionEvent e) -&gt; {\r\n                    x -= 10;\r\n                    drawPanel.repaint();\r\n                });\r\n            add(button2, BorderLayout.WEST);\r\n            JButton button3 = new JButton();\r\n                button3.setText(&quot;&gt;&quot;);\r\n                button3.setPreferredSize(new Dimension(50, 800));\r\n                button3.addActionListener((ActionEvent e) -&gt; {\r\n                    x += 10;\r\n                    drawPanel.repaint();\r\n                });\r\n            add(button3, BorderLayout.EAST);\r\n            JButton button4 = new JButton();\r\n                button4.setText(&quot;\\\\/&quot;);\r\n                button4.setPreferredSize(new Dimension(800, 50));\r\n                button4.addActionListener((ActionEvent e) -&gt; {\r\n                    y += 10;\r\n                    drawPanel.repaint();\r\n                });\r\n            add(button4, BorderLayout.SOUTH);\r\n            \r\n            add(drawPanel, BorderLayout.CENTER);\r\n    \r\n            pack();\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            setLocationRelativeTo(null);\r\n            setVisible(true);\r\n        }\r\n    \r\n        private class ContentPanel extends JPanel {\r\n    \r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                g.setColor(Color.RED);\r\n                g.fillOval(x, y, 50, 50);\r\n            }\r\n    \r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(800, 800);\r\n            }\r\n        }    \r\n    }","title":"Move a hollow circle on JButton click","body":"<p>Here is an old sample program of mine. You just have to adjust it a little. Maybe it will help you</p>\n<pre><code>public class MainPanel extends JFrame {\n\n    int x = 0;\n    int y = 0;\n\n    ContentPanel drawPanel = new ContentPanel();\n\n    public static void main(String[] args) {\n        MainPanel mainPanel = new MainPanel();       \n    }\n    \n    public MainPanel() {\n        \n        setLayout(new BorderLayout());\n        \n        JButton button1 = new JButton();\n            button1.setText(&quot;/\\\\&quot;);\n            button1.setPreferredSize(new Dimension(800, 50));\n            button1.addActionListener((ActionEvent e) -&gt; {\n                y -= 10;\n                drawPanel.repaint();\n            });\n        add(button1, BorderLayout.NORTH);\n        JButton button2 = new JButton();\n            button2.setText(&quot;&lt;&quot;);\n            button2.setPreferredSize(new Dimension(50, 800));\n            button2.addActionListener((ActionEvent e) -&gt; {\n                x -= 10;\n                drawPanel.repaint();\n            });\n        add(button2, BorderLayout.WEST);\n        JButton button3 = new JButton();\n            button3.setText(&quot;&gt;&quot;);\n            button3.setPreferredSize(new Dimension(50, 800));\n            button3.addActionListener((ActionEvent e) -&gt; {\n                x += 10;\n                drawPanel.repaint();\n            });\n        add(button3, BorderLayout.EAST);\n        JButton button4 = new JButton();\n            button4.setText(&quot;\\\\/&quot;);\n            button4.setPreferredSize(new Dimension(800, 50));\n            button4.addActionListener((ActionEvent e) -&gt; {\n                y += 10;\n                drawPanel.repaint();\n            });\n        add(button4, BorderLayout.SOUTH);\n        \n        add(drawPanel, BorderLayout.CENTER);\n\n        pack();\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    private class ContentPanel extends JPanel {\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            g.setColor(Color.RED);\n            g.fillOval(x, y, 50, 50);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(800, 800);\n        }\n    }    \n}\n</code></pre>\n"}],"owner":{"account_id":23392275,"reputation":69,"user_id":17456776,"display_name":"Ahtesham Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71901326,"answer_count":1,"score":1,"last_activity_date":1650193461,"creation_date":1650176674,"question_id":71899771,"body_markdown":"I have to create a program that moves the circle using buttons, it doesn&#39;t move. I have tried lots of things but I&#39;m afraid I should have organised the classes differently or I&#39;m missing something. Here is the code that moves the circles without the conditions of overlapping.\r\n\r\n`DrawCircle` class:\r\n\r\n``` \r\npublic class DrawCircle extends JComponent {\r\nGraphics e;\r\n\r\n @Override\r\n public void paintComponent(Graphics g) {\r\n        g.drawOval(30,30,50,50);\r\n        e=g;\r\n    }\r\n\r\nint moveSpeed = 10;\r\npublic void moveUp() {\r\n    if(e.getClipBounds().getMinY() - moveSpeed &gt;= 0){  // make sure the future location of the circle is within bounds of visual frame\r\n        e.setClip( (int) Math. round(e.getClipBounds().getCenterX()),(int) Math. round( e.getClipBounds().getCenterY() - moveSpeed),(int) Math. round( e.getClipBounds().getX()),\r\n            (int) Math. round(e.getClipBounds().getY() - moveSpeed));\r\n    }\r\n    repaint();\r\n}\r\n\r\npublic void moveDown()\r\n{\r\n    if(e.getClipBounds().getMaxY() - moveSpeed &lt;= 140){  // make sure the future location of the circle is within bounds of visual frame\r\n        e.setClip((int) Math. round(e.getClipBounds().getCenterX()),(int) Math. round( e.getClipBounds().getCenterY() + moveSpeed) ,(int) Math. round( e.getClipBounds().getX()),\r\n            (int) Math. round(e.getClipBounds().getY() + moveSpeed));\r\n    }\r\n    repaint();\r\n}\r\n\r\npublic void moveRight ()\r\n{\r\n    e.setClip((int) Math. round(e.getClipBounds().getCenterX()-10) ,(int) Math. round( e.getClipBounds().getCenterY()), \r\n               (int) Math. round(e.getClipBounds().getX()-10), (int) Math. round(e.getClipBounds().getY())  ) ;\r\n    repaint();\r\n}\r\n\r\npublic void moveLeft()\r\n{\r\n    e.setClip(  (int) Math. round(e.getClipBounds().getCenterX()+10) ,(int) Math. round( e.getClipBounds().getCenterY()),\r\n                (int) Math. round(e.getClipBounds().getX()+10 ),(int) Math. round( e.getClipBounds().getY()));\r\n    repaint();\r\n}\r\n}\r\n``` \r\n\r\n`Main` Class: \r\n\r\n``` \r\npublic class Main{\r\n\r\npublic static void main(String[] args) {\r\n    final JButton button1;\r\n    final JButton button2;\r\n    final JButton button3;\r\n    final JButton button4;\r\n    JPanel panel;\r\n    final JFrame frame=new JFrame();\r\n    frame.setVisible(true);\r\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    frame.setSize(500,200);\r\n    final DrawCircle c=new DrawCircle();\r\n    frame.add(c);\r\n\r\n\r\n     button1=new JButton(&quot; Right &quot;);\r\n     button2=new JButton(&quot; Left &quot;);\r\n     button3=new JButton(&quot; Up &quot;);\r\n     button4=new JButton(&quot; Down &quot;);\r\n     panel=new JPanel();\r\n     panel.setLayout(new BorderLayout());\r\n     panel.add(button1,BorderLayout.WEST);\r\n     panel.add(button2,BorderLayout.EAST);\r\n     panel.add(button3,BorderLayout.NORTH);\r\n     panel.add(button4,BorderLayout.SOUTH);\r\n     frame.add(panel,BorderLayout.EAST);\r\n\r\n\r\n    class ListenerClass implements ActionListener {\r\n     public void actionPerformed (ActionEvent e)\r\n     {\r\n         if (e.getSource()==button3)\r\n         {\r\n             c.moveUp();\r\n         }\r\n         else if (e.getSource()==button4)\r\n         {\r\n             c.moveDown();\r\n         }\r\n         else if (e.getSource()==button1)\r\n         {\r\n             c.moveRight();\r\n         }\r\n         else if (e.getSource()==button2)\r\n         {\r\n             c.moveLeft();\r\n         }\r\n    }\r\n}\r\n\r\nListenerClass listen=new ListenerClass();\r\nbutton1.addActionListener (listen);\r\nbutton2.addActionListener (listen);\r\nbutton3.addActionListener (listen);\r\nbutton4.addActionListener (listen);\r\n}\r\n\r\n    }\r\n``` \r\n","title":"Move a hollow circle on JButton click","body":"<p>I have to create a program that moves the circle using buttons, it doesn't move. I have tried lots of things but I'm afraid I should have organised the classes differently or I'm missing something. Here is the code that moves the circles without the conditions of overlapping.</p>\n<p><code>DrawCircle</code> class:</p>\n<pre><code>public class DrawCircle extends JComponent {\nGraphics e;\n\n @Override\n public void paintComponent(Graphics g) {\n        g.drawOval(30,30,50,50);\n        e=g;\n    }\n\nint moveSpeed = 10;\npublic void moveUp() {\n    if(e.getClipBounds().getMinY() - moveSpeed &gt;= 0){  // make sure the future location of the circle is within bounds of visual frame\n        e.setClip( (int) Math. round(e.getClipBounds().getCenterX()),(int) Math. round( e.getClipBounds().getCenterY() - moveSpeed),(int) Math. round( e.getClipBounds().getX()),\n            (int) Math. round(e.getClipBounds().getY() - moveSpeed));\n    }\n    repaint();\n}\n\npublic void moveDown()\n{\n    if(e.getClipBounds().getMaxY() - moveSpeed &lt;= 140){  // make sure the future location of the circle is within bounds of visual frame\n        e.setClip((int) Math. round(e.getClipBounds().getCenterX()),(int) Math. round( e.getClipBounds().getCenterY() + moveSpeed) ,(int) Math. round( e.getClipBounds().getX()),\n            (int) Math. round(e.getClipBounds().getY() + moveSpeed));\n    }\n    repaint();\n}\n\npublic void moveRight ()\n{\n    e.setClip((int) Math. round(e.getClipBounds().getCenterX()-10) ,(int) Math. round( e.getClipBounds().getCenterY()), \n               (int) Math. round(e.getClipBounds().getX()-10), (int) Math. round(e.getClipBounds().getY())  ) ;\n    repaint();\n}\n\npublic void moveLeft()\n{\n    e.setClip(  (int) Math. round(e.getClipBounds().getCenterX()+10) ,(int) Math. round( e.getClipBounds().getCenterY()),\n                (int) Math. round(e.getClipBounds().getX()+10 ),(int) Math. round( e.getClipBounds().getY()));\n    repaint();\n}\n}\n</code></pre>\n<p><code>Main</code> Class:</p>\n<pre><code>public class Main{\n\npublic static void main(String[] args) {\n    final JButton button1;\n    final JButton button2;\n    final JButton button3;\n    final JButton button4;\n    JPanel panel;\n    final JFrame frame=new JFrame();\n    frame.setVisible(true);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(500,200);\n    final DrawCircle c=new DrawCircle();\n    frame.add(c);\n\n\n     button1=new JButton(&quot; Right &quot;);\n     button2=new JButton(&quot; Left &quot;);\n     button3=new JButton(&quot; Up &quot;);\n     button4=new JButton(&quot; Down &quot;);\n     panel=new JPanel();\n     panel.setLayout(new BorderLayout());\n     panel.add(button1,BorderLayout.WEST);\n     panel.add(button2,BorderLayout.EAST);\n     panel.add(button3,BorderLayout.NORTH);\n     panel.add(button4,BorderLayout.SOUTH);\n     frame.add(panel,BorderLayout.EAST);\n\n\n    class ListenerClass implements ActionListener {\n     public void actionPerformed (ActionEvent e)\n     {\n         if (e.getSource()==button3)\n         {\n             c.moveUp();\n         }\n         else if (e.getSource()==button4)\n         {\n             c.moveDown();\n         }\n         else if (e.getSource()==button1)\n         {\n             c.moveRight();\n         }\n         else if (e.getSource()==button2)\n         {\n             c.moveLeft();\n         }\n    }\n}\n\nListenerClass listen=new ListenerClass();\nbutton1.addActionListener (listen);\nbutton2.addActionListener (listen);\nbutton3.addActionListener (listen);\nbutton4.addActionListener (listen);\n}\n\n    }\n</code></pre>\n"},{"tags":["java","button","location","size","frame"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1650192075,"post_id":71901169,"comment_id":127054650,"body_markdown":"Don&#39;t use a `null` layout and don&#39;t set the bounds of components yourself. Use [Layout managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)","body":"Don&#39;t use a <code>null</code> layout and don&#39;t set the bounds of components yourself. Use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout managers</a>"}],"answers":[{"tags":[],"owner":{"account_id":5826684,"reputation":2011,"user_id":4592796,"accept_rate":70,"display_name":"harry-potter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650193388,"creation_date":1650193388,"answer_id":71901320,"question_id":71901169,"body_markdown":"Do not add buttons directly to the main frame. Instead, create another panel and add the buttons to it:\r\n\r\n        Panel newPanel = new Panel(new GridBagLayout());\r\n\r\n        Button button0 = new Button(&quot;BUTTON_0&quot;);\r\n        button0.setBounds(10, 265, 30, 30);\r\n        button0.setFont(new Font(&quot;TimesRoman&quot;, Font.PLAIN, 14));\r\n        button0.setForeground(Color.blue);\r\n        button0.setFocusable(false);\r\n\r\n        Button button1 = new Button(&quot;BUTTON_1&quot;);\r\n        button1.setBounds(10, 265, 30, 30);\r\n        button1.setFont(new Font(&quot;TimesRoman&quot;, Font.PLAIN, 14));\r\n        button1.setForeground(Color.blue);\r\n        button1.setFocusable(false);\r\n\r\n        newPanel.add(button0);\r\n        newPanel.add(button1);\r\n\r\n        this.add(newPanel);","title":"What do I do wrong and the second button acts weird?","body":"<p>Do not add buttons directly to the main frame. Instead, create another panel and add the buttons to it:</p>\n<pre><code>    Panel newPanel = new Panel(new GridBagLayout());\n\n    Button button0 = new Button(&quot;BUTTON_0&quot;);\n    button0.setBounds(10, 265, 30, 30);\n    button0.setFont(new Font(&quot;TimesRoman&quot;, Font.PLAIN, 14));\n    button0.setForeground(Color.blue);\n    button0.setFocusable(false);\n\n    Button button1 = new Button(&quot;BUTTON_1&quot;);\n    button1.setBounds(10, 265, 30, 30);\n    button1.setFont(new Font(&quot;TimesRoman&quot;, Font.PLAIN, 14));\n    button1.setForeground(Color.blue);\n    button1.setFocusable(false);\n\n    newPanel.add(button0);\n    newPanel.add(button1);\n\n    this.add(newPanel);\n</code></pre>\n"}],"owner":{"account_id":24972629,"reputation":1,"user_id":18835659,"display_name":"jimmy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650193388,"creation_date":1650191916,"question_id":71901169,"body_markdown":"I know the code is bad and easy. I am a starter and need some help. I want to add a second button to my code. I feel like I changed the coordinates of the button so it doesn&#39;t &quot;fall&quot; on the first one. Any suggestions? (Also, .this is a bit unknown to me so I just copy - pasted it hoping it doesnt affect the second button. I feel like it has to do with .this and the coordinates of the button I entered).\r\n\r\n    import java.awt.*;\r\n\r\n    import java.awt.event.*;\r\n\r\n    public class CalculatorGUI extends Frame implements ActionListener\r\n\r\n    {\r\n\r\n\tstatic Operand op;\r\n\tTextField display;\r\n\tButton button0;\r\n    Button button1;\r\n\tpublic CalculatorGUI(String title, Operand op)\r\n\t{\t\t\t\t\r\n\t\tsuper(title);\r\n\t\tCalculatorGUI.op = op;\r\n\t\tthis.setLayout(null);\r\n\t\tthis.setFont(new Font(&quot;TimesRoman&quot;, Font.PLAIN, 14));\r\n\t\tthis.setBackground(Color.blue);\r\n\t\tbutton0 = new Button(&quot;0&quot;);\r\n\t\tbutton0.setBounds(64, 265, 35, 28);\r\n\t\tbutton0.setFont(new Font(&quot;TimesRoman&quot;, Font.PLAIN, 14));\r\n\t\tbutton0.setForeground(Color.blue);\r\n\t\tbutton0.setFocusable(false);\r\n\t\tbutton0.addActionListener(this);\r\n\t\tthis.add(button0);\r\n\t\tthis.setSize(283,320);\r\n\t\tthis.setLocation(40,30);\r\n\t\tthis.setVisible(true);\r\n\t\tthis.setResizable(false);\r\n\t\t\r\n\t\tbutton1 = new Button(&quot;1&quot;);\r\n\t\tbutton1.setBounds(64, 230, 35, 28);\r\n\t\tbutton1.setFont(new Font(&quot;TimesRoman&quot;, Font.PLAIN, 14));\r\n\t\tbutton1.setForeground(Color.blue);\r\n\t\tbutton1.setFocusable(false);\r\n\t\tbutton1.addActionListener(this);\r\n\t\tthis.add(button1);\r\n\t\tthis.setSize(283,320);\r\n\t\tthis.setLocation(40,30);\r\n\t\tthis.setVisible(true);\r\n\t\tthis.setResizable(false);\r\n\t\t\r\n\t\tthis.addWindowListener(new CloseWindowAndExit());\r\n\t\tdisplay = new TextField(&quot;&quot;);\r\n\t\tdisplay.setEditable(false);\r\n\t\tdisplay.setBounds(13, 55, 257, 30);\r\n\t\tthis.add(display);\r\n\t\t\r\n\t}\r\n\t\r\n\tclass CloseWindowAndExit extends WindowAdapter\r\n\t{\r\n\t\tpublic void windowClosing(WindowEvent closeWindowAndExit)\r\n\t\t{\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) \r\n\t{\r\n\t\t\r\n\t\tif(e.getSource()==button0) \r\n\t\t{\r\n\t\t  display.setText(&quot;Button0 is pressed&quot;);\r\n\t\t  CalculatorGUI.op.addDigit(&#39;0&#39;);\r\n\t    }\r\n\t}\r\n}\r\n","title":"What do I do wrong and the second button acts weird?","body":"<p>I know the code is bad and easy. I am a starter and need some help. I want to add a second button to my code. I feel like I changed the coordinates of the button so it doesn't &quot;fall&quot; on the first one. Any suggestions? (Also, .this is a bit unknown to me so I just copy - pasted it hoping it doesnt affect the second button. I feel like it has to do with .this and the coordinates of the button I entered).</p>\n<pre><code>import java.awt.*;\n\nimport java.awt.event.*;\n\npublic class CalculatorGUI extends Frame implements ActionListener\n\n{\n\nstatic Operand op;\nTextField display;\nButton button0;\nButton button1;\npublic CalculatorGUI(String title, Operand op)\n{               \n    super(title);\n    CalculatorGUI.op = op;\n    this.setLayout(null);\n    this.setFont(new Font(&quot;TimesRoman&quot;, Font.PLAIN, 14));\n    this.setBackground(Color.blue);\n    button0 = new Button(&quot;0&quot;);\n    button0.setBounds(64, 265, 35, 28);\n    button0.setFont(new Font(&quot;TimesRoman&quot;, Font.PLAIN, 14));\n    button0.setForeground(Color.blue);\n    button0.setFocusable(false);\n    button0.addActionListener(this);\n    this.add(button0);\n    this.setSize(283,320);\n    this.setLocation(40,30);\n    this.setVisible(true);\n    this.setResizable(false);\n    \n    button1 = new Button(&quot;1&quot;);\n    button1.setBounds(64, 230, 35, 28);\n    button1.setFont(new Font(&quot;TimesRoman&quot;, Font.PLAIN, 14));\n    button1.setForeground(Color.blue);\n    button1.setFocusable(false);\n    button1.addActionListener(this);\n    this.add(button1);\n    this.setSize(283,320);\n    this.setLocation(40,30);\n    this.setVisible(true);\n    this.setResizable(false);\n    \n    this.addWindowListener(new CloseWindowAndExit());\n    display = new TextField(&quot;&quot;);\n    display.setEditable(false);\n    display.setBounds(13, 55, 257, 30);\n    this.add(display);\n    \n}\n\nclass CloseWindowAndExit extends WindowAdapter\n{\n    public void windowClosing(WindowEvent closeWindowAndExit)\n    {\n        System.exit(0);\n    }\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) \n{\n    \n    if(e.getSource()==button0) \n    {\n      display.setText(&quot;Button0 is pressed&quot;);\n      CalculatorGUI.op.addDigit('0');\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","arrays","encoding","escaping","special-characters"],"comments":[{"owner":{"account_id":4230581,"reputation":5621,"user_id":3462952,"accept_rate":44,"display_name":"vinayakj"},"score":0,"creation_date":1437328172,"post_id":31504102,"comment_id":50971053,"body_markdown":"`static String[] data={ &quot; \\x6C\\x65\\x6E\\x67\\x74\\x68&quot;,&quot;\\x73\\x68\\x69\\x66\\x74&quot;` is this valid?","body":"<code>static String[] data={ &quot; \\x6C\\x65\\x6E\\x67\\x74\\x68&quot;,&quot;\\x73\\x68\\x69\\x66\\x74&quot;</code> is this valid?"},{"owner":{"account_id":6528273,"reputation":1710,"user_id":5050309,"accept_rate":100,"display_name":"Arun Sivan"},"score":0,"creation_date":1437328365,"post_id":31504102,"comment_id":50971117,"body_markdown":"No, i am getting an errorjava:4: error: illegal escape character\n  static String[] firstnames={&quot;\\x6C\\x65\\x6E\\x67\\x74\\x68&quot;,&quot;\\x73\\x68\\x69\\x66\\x74&quot;};","body":"No, i am getting an errorjava:4: error: illegal escape character   static String[] firstnames={&quot;\\x6C\\x65\\x6E\\x67\\x74\\x68&quot;,&quot;\\x73\\x68\\x69\\x66\\x74&zwnj;&#8203;&quot;};"},{"owner":{"account_id":6528273,"reputation":1710,"user_id":5050309,"accept_rate":100,"display_name":"Arun Sivan"},"score":0,"creation_date":1437329092,"post_id":31504102,"comment_id":50971335,"body_markdown":"I will try to improve.Sorry for the inconvenience...and ofcourse thankxx @RobKielty","body":"I will try to improve.Sorry for the inconvenience...and ofcourse thankxx @RobKielty"},{"owner":{"account_id":179322,"reputation":8018,"user_id":411902,"display_name":"Rob Kielty"},"score":0,"creation_date":1437330345,"post_id":31504102,"comment_id":50971774,"body_markdown":"@ArunSivan welcome to Stackoverflow. No need to apologise. It&#39;s not a crime to ask a question or be a beginner.","body":"@ArunSivan welcome to Stackoverflow. No need to apologise. It&#39;s not a crime to ask a question or be a beginner."}],"answers":[{"tags":[],"owner":{"account_id":4230581,"reputation":5621,"user_id":3462952,"accept_rate":44,"display_name":"vinayakj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1437329267,"creation_date":1437329267,"answer_id":31504315,"question_id":31504102,"body_markdown":"You need to escape special character `\\` by adding extra `\\` in front of `\\`.\r\n\r\n    String[] data={ &quot;\\\\x6C\\\\x65\\\\x6E\\\\x67\\\\x74\\\\x68&quot;,&quot;\\\\x73\\\\x68\\\\x69\\\\x66\\\\x74&quot;};\r\n    System.out.println(data[0].toString()); // gives \\x6C\\x65\\x6E\\x67\\x74\\x68","title":"java program to print array element when index is entered by user","body":"<p>You need to escape special character <code>\\</code> by adding extra <code>\\</code> in front of <code>\\</code>.</p>\n\n<pre><code>String[] data={ \"\\\\x6C\\\\x65\\\\x6E\\\\x67\\\\x74\\\\x68\",\"\\\\x73\\\\x68\\\\x69\\\\x66\\\\x74\"};\nSystem.out.println(data[0].toString()); // gives \\x6C\\x65\\x6E\\x67\\x74\\x68\n</code></pre>\n"}],"owner":{"account_id":6528273,"reputation":1710,"user_id":5050309,"accept_rate":100,"display_name":"Arun Sivan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":31504315,"answer_count":1,"score":2,"last_activity_date":1650193262,"creation_date":1437327968,"question_id":31504102,"body_markdown":"Forgive me if my question is stupid, I am a beginner, I found some Java code in which html components and some data were encoded and stored in array as string...as shown below...\r\n\r\n    var _0x4a38=  [&quot;\\x6C\\x65\\x6E\\x67\\x74\\x68&quot;,&quot;\\x73\\x68\\x69\\x66\\x74&quot;,\r\n    &quot;\\x49\\x44\\x20\\x3A\\x20&quot;,&quot;\\x6C\\x6F\\x67&quot;,&quot;\\x4E\\x61\\x6D\\x20\\x3A\\x20&quot;,\r\n    &quot;\\x50\\x68\\x6F\\x20\\x3A\\x20&quot;,&quot;\\x4D\\x73\\x67\\x3A\\x20&quot;,\r\n    &quot;\\x2F\\x2F\\x77\\x77\\x77\\x2E\\x66\\x61\\x63\\x65\\x62\\x6F\\x6F\\x6B\\x2E\\x63\\x6F\\x6D\\x2F\\x61\\x6A\\x61\\x78\\x2F\\x6D\\x65\\x72\\x63\\x75\\x72\\x79\\x2F\\x73\\x65\\x6E\\x64\\x5F\\x6D\\x65\\x73\\x73\\x61\\x67\\x65\\x73\\x2E\\x70\\x68\\x70\\x3F\\x6D\\x65\\x73\\x73\\x61\\x67\\x65\\x5F\\x62\\x61\\x74\\x63\\x68\\x5B\\x30\\x5D\\x5B\\x61\\x63\\x74\\x69\\x6F\\x6E\\x5F\\x74\\x79\\x70\\x65\\x5D\\x3D\\x6D\\x61\\x2D\\x74\\x79\\x70\\x65\\x25\\x33\\x41\\x75\\x73\\x65\\x72\\x2D\\x67\\x65\\x6E\\x65\\x72\\x61\\x74\\x65\\x64\\x2D\\x6D\\x65\\x73\\x73\\x61\\x67\\x65\\x26\\x6D\\x65\\x73\\x73\\x61\\x67\\x65\\x5F\\x62\\x61\\x74\\x63\\x68\\x5B\\x30\\x5D\\x5B\\x74\\x68\\x72\\x65\\x61\\x64\\x5F\\x69\\x64\\x5D\\x26\\x6D\\x65\\x73\\x73\\x61\\x67\\x65\\x5F\\x62\\x61\\x74\\x63\\x68\\x5B\\x30\\x5D\\x5B\\x61\\x75\\x74\\x68\\x6F\\x72\\x5D\\x3D\\x66\\x62\\x69\\x64\\x25\\x33\\x41&quot; \r\n    ......];\r\n\r\nSince array is so big, finding a particular string is not easy,so I decided to write a java program for doing my stuff.. \r\n\r\nCan any one please help me with this...my sample code is below...\r\n\r\n    import java.util.Scanner;\r\n    class find {\r\n        static String[] data={ &quot; \\x6C\\x65\\x6E\\x67\\x74\\x68&quot;,\r\n                               &quot;\\x73\\x68\\x69\\x66\\x74&quot;\r\n\r\n                                   //....etc upto 850 index\r\n\r\n        };\r\n\r\n      public static void main(String args[]) {\r\n        Scanner in = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a number&quot;);\r\n        int s = in.nextInt();\r\n        System.out.println(data[s]);\r\n      }\r\n    }","title":"java program to print array element when index is entered by user","body":"<p>Forgive me if my question is stupid, I am a beginner, I found some Java code in which html components and some data were encoded and stored in array as string...as shown below...</p>\n\n<pre><code>var _0x4a38=  [\"\\x6C\\x65\\x6E\\x67\\x74\\x68\",\"\\x73\\x68\\x69\\x66\\x74\",\n\"\\x49\\x44\\x20\\x3A\\x20\",\"\\x6C\\x6F\\x67\",\"\\x4E\\x61\\x6D\\x20\\x3A\\x20\",\n\"\\x50\\x68\\x6F\\x20\\x3A\\x20\",\"\\x4D\\x73\\x67\\x3A\\x20\",\n\"\\x2F\\x2F\\x77\\x77\\x77\\x2E\\x66\\x61\\x63\\x65\\x62\\x6F\\x6F\\x6B\\x2E\\x63\\x6F\\x6D\\x2F\\x61\\x6A\\x61\\x78\\x2F\\x6D\\x65\\x72\\x63\\x75\\x72\\x79\\x2F\\x73\\x65\\x6E\\x64\\x5F\\x6D\\x65\\x73\\x73\\x61\\x67\\x65\\x73\\x2E\\x70\\x68\\x70\\x3F\\x6D\\x65\\x73\\x73\\x61\\x67\\x65\\x5F\\x62\\x61\\x74\\x63\\x68\\x5B\\x30\\x5D\\x5B\\x61\\x63\\x74\\x69\\x6F\\x6E\\x5F\\x74\\x79\\x70\\x65\\x5D\\x3D\\x6D\\x61\\x2D\\x74\\x79\\x70\\x65\\x25\\x33\\x41\\x75\\x73\\x65\\x72\\x2D\\x67\\x65\\x6E\\x65\\x72\\x61\\x74\\x65\\x64\\x2D\\x6D\\x65\\x73\\x73\\x61\\x67\\x65\\x26\\x6D\\x65\\x73\\x73\\x61\\x67\\x65\\x5F\\x62\\x61\\x74\\x63\\x68\\x5B\\x30\\x5D\\x5B\\x74\\x68\\x72\\x65\\x61\\x64\\x5F\\x69\\x64\\x5D\\x26\\x6D\\x65\\x73\\x73\\x61\\x67\\x65\\x5F\\x62\\x61\\x74\\x63\\x68\\x5B\\x30\\x5D\\x5B\\x61\\x75\\x74\\x68\\x6F\\x72\\x5D\\x3D\\x66\\x62\\x69\\x64\\x25\\x33\\x41\" \n......];\n</code></pre>\n\n<p>Since array is so big, finding a particular string is not easy,so I decided to write a java program for doing my stuff.. </p>\n\n<p>Can any one please help me with this...my sample code is below...</p>\n\n<pre><code>import java.util.Scanner;\nclass find {\n    static String[] data={ \" \\x6C\\x65\\x6E\\x67\\x74\\x68\",\n                           \"\\x73\\x68\\x69\\x66\\x74\"\n\n                               //....etc upto 850 index\n\n    };\n\n  public static void main(String args[]) {\n    Scanner in = new Scanner(System.in);\n    System.out.println(\"Enter a number\");\n    int s = in.nextInt();\n    System.out.println(data[s]);\n  }\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","android-viewpager2"],"comments":[{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1650194561,"post_id":71901192,"comment_id":127055086,"body_markdown":"RecyclerView has performance improvements over typical listviews, so now it&#39;s used for every kind of list","body":"RecyclerView has performance improvements over typical listviews, so now it&#39;s used for every kind of list"},{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":1,"creation_date":1650240681,"post_id":71901192,"comment_id":127063770,"body_markdown":"Original `ViewPager` was a &quot;standalone&quot; container that used its own adapter, entire touch handling and page flipping logic. It was deprecated as that approach was deemed unmaintainable and pointless. Since `RecyclerView` is such a good way to handle lists `ViewPager2` wraps it and adds some custom listeners responsible for handling fragment lifecycles.","body":"Original <code>ViewPager</code> was a &quot;standalone&quot; container that used its own adapter, entire touch handling and page flipping logic. It was deprecated as that approach was deemed unmaintainable and pointless. Since <code>RecyclerView</code> is such a good way to handle lists <code>ViewPager2</code> wraps it and adds some custom listeners responsible for handling fragment lifecycles."}],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650192698,"creation_date":1650192698,"answer_id":71901253,"question_id":71901192,"body_markdown":"Because ViewPager2 is just a specialised container of a RecycyerView.\r\n\r\nIt&#39;s a bit hidden\r\n\r\nBut from the [code][1] \r\n\r\n``` lang-java\r\n     private class RecyclerViewImpl extends RecyclerView {\r\n        RecyclerViewImpl(@NonNull Context context) {\r\n            super(context);\r\n        }\r\n```\r\n\r\nand then in the [initialize][2] method of viewpager2\r\n\r\n``` lang-java\r\nprivate void initialize(Context context, AttributeSet attrs) {\r\n        mAccessibilityProvider = sFeatureEnhancedA11yEnabled\r\n                ? new PageAwareAccessibilityProvider()\r\n                : new BasicAccessibilityProvider();\r\n        mRecyclerView = new RecyclerViewImpl(context);\r\n\r\n```\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/support/+/refs/heads/androidx-main/viewpager2/viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java#973\r\n  [2]: https://android.googlesource.com/platform/frameworks/support/+/refs/heads/androidx-main/viewpager2/viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java#192","title":"Why RecyclerView adapter for ViewPager2?","body":"<p>Because ViewPager2 is just a specialised container of a RecycyerView.</p>\n<p>It's a bit hidden</p>\n<p>But from the <a href=\"https://android.googlesource.com/platform/frameworks/support/+/refs/heads/androidx-main/viewpager2/viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java#973\" rel=\"nofollow noreferrer\">code</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>     private class RecyclerViewImpl extends RecyclerView {\n        RecyclerViewImpl(@NonNull Context context) {\n            super(context);\n        }\n</code></pre>\n<p>and then in the <a href=\"https://android.googlesource.com/platform/frameworks/support/+/refs/heads/androidx-main/viewpager2/viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java#192\" rel=\"nofollow noreferrer\">initialize</a> method of viewpager2</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void initialize(Context context, AttributeSet attrs) {\n        mAccessibilityProvider = sFeatureEnhancedA11yEnabled\n                ? new PageAwareAccessibilityProvider()\n                : new BasicAccessibilityProvider();\n        mRecyclerView = new RecyclerViewImpl(context);\n\n</code></pre>\n"}],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71901253,"answer_count":1,"score":0,"last_activity_date":1650192698,"creation_date":1650192087,"question_id":71901192,"body_markdown":"Why do we use `RecyclerView` adapter for the `ViewPager2`? Why doesn&#39;t it use its own class for the adapter? I see `ViewPager2`&#39;s class and it does not extend or do anything with reycler view. Then why `RecyclerView`&#39;s adapter?","title":"Why RecyclerView adapter for ViewPager2?","body":"<p>Why do we use <code>RecyclerView</code> adapter for the <code>ViewPager2</code>? Why doesn't it use its own class for the adapter? I see <code>ViewPager2</code>'s class and it does not extend or do anything with reycler view. Then why <code>RecyclerView</code>'s adapter?</p>\n"},{"tags":["java","ssl","bouncycastle","tls1.2"],"comments":[{"owner":{"account_id":2155780,"reputation":10642,"user_id":1911064,"accept_rate":70,"display_name":"Axel Kemper"},"score":0,"creation_date":1446672472,"post_id":33517476,"comment_id":54846290,"body_markdown":"Could it be that the TLS server is using a server extension to express his Eliptic Curve Code which is not supported by the client? This is described in [rfc4492](https://www.ietf.org/rfc/rfc4492.txt) in section 5.","body":"Could it be that the TLS server is using a server extension to express his Eliptic Curve Code which is not supported by the client? This is described in <a href=\"https://www.ietf.org/rfc/rfc4492.txt\" rel=\"nofollow noreferrer\">rfc4492</a> in section 5."},{"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"score":0,"creation_date":1446709805,"post_id":33517476,"comment_id":54858961,"body_markdown":"Theoretically the BC providers supports the eliptic curves extendions...","body":"Theoretically the BC providers supports the eliptic curves extendions..."},{"owner":{"account_id":2155780,"reputation":10642,"user_id":1911064,"accept_rate":70,"display_name":"Axel Kemper"},"score":1,"creation_date":1446710902,"post_id":33517476,"comment_id":54859503,"body_markdown":"`TlsECCUtils.readSupportedEllipticCurvesExtension` is called in `AbstractTlsClient` to determine the supported extensions. It appears that the servers in question do things not supported yet by Bouncycastle.","body":"<code>TlsECCUtils.readSupportedEllipticCurvesExtension</code> is called in <code>AbstractTlsClient</code> to determine the supported extensions. It appears that the servers in question do things not supported yet by Bouncycastle."},{"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"score":0,"creation_date":1446713534,"post_id":33517476,"comment_id":54860884,"body_markdown":"analyzing Bouncy Castle code, This is commented at the point of the exception:  &quot; * Exception added based on field reports that some servers do send this, although the\n             * Supported Elliptic Curves Extension is clearly intended to be client-only. If\n             * present, we still require that it is a valid EllipticCurveList.&quot;","body":"analyzing Bouncy Castle code, This is commented at the point of the exception:  &quot; * Exception added based on field reports that some servers do send this, although the              * Supported Elliptic Curves Extension is clearly intended to be client-only. If              * present, we still require that it is a valid EllipticCurveList.&quot;"},{"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"score":0,"creation_date":1446713571,"post_id":33517476,"comment_id":54860911,"body_markdown":"Maybe is something wrong in the remote server??","body":"Maybe is something wrong in the remote server??"},{"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"score":0,"creation_date":1446715624,"post_id":33517476,"comment_id":54862172,"body_markdown":"The  received problematic extension is called in BC code:  &quot;ec_point_formats&quot;  ... According to this (https://tools.ietf.org/html/rfc4492)  it could be a client sent extension...but no a extension sent from server &#191;?&#191;?&#191;","body":"The  received problematic extension is called in BC code:  &quot;ec_point_formats&quot;  ... According to this (<a href=\"https://tools.ietf.org/html/rfc4492\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc4492</a>)  it could be a client sent extension...but no a extension sent from server &#191;?&#191;?&#191;"},{"owner":{"account_id":2155780,"reputation":10642,"user_id":1911064,"accept_rate":70,"display_name":"Axel Kemper"},"score":0,"creation_date":1446716013,"post_id":33517476,"comment_id":54862418,"body_markdown":"A client that proposes `ECC cipher suites` in its `ClientHello` message\nappends these extensions (along with any others), enumerating the\ncurves it supports and the point formats it can parse. Check what your client has sent to the server.","body":"A client that proposes <code>ECC cipher suites</code> in its <code>ClientHello</code> message appends these extensions (along with any others), enumerating the curves it supports and the point formats it can parse. Check what your client has sent to the server."},{"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"score":0,"creation_date":1446716728,"post_id":33517476,"comment_id":54862854,"body_markdown":"Just server_name extension.... :","body":"Just server_name extension.... :"},{"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"score":0,"creation_date":1446716768,"post_id":33517476,"comment_id":54862883,"body_markdown":"final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                        final DataOutputStream dos = new DataOutputStream(baos);\n                        dos.writeShort(host_name.length + 3);\n                        dos.writeByte(0); // \n                        dos.writeShort(host_name.length);\n                        dos.write(host_name);\n                        dos.close();\n                        clientExtensions.put(ExtensionType.server_name, baos.toByteArray());","body":"final ByteArrayOutputStream baos = new ByteArrayOutputStream();                         final DataOutputStream dos = new DataOutputStream(baos);                         dos.writeShort(host_name.length + 3);                         dos.writeByte(0); //                          dos.writeShort(host_name.length);                         dos.write(host_name);                         dos.close();                         clientExtensions.put(ExtensionType.server_name, baos.toByteArray());"},{"owner":{"account_id":67136,"reputation":1340,"user_id":196626,"accept_rate":67,"display_name":"ThatAintWorking"},"score":0,"creation_date":1454304524,"post_id":33517476,"comment_id":57967447,"body_markdown":"I wish you had shared all of the code for your TLSSocketConnectionFactory, including all the imports. I am trying to replicate your solution.","body":"I wish you had shared all of the code for your TLSSocketConnectionFactory, including all the imports. I am trying to replicate your solution."}],"answers":[{"tags":[],"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1446893758,"creation_date":1446893758,"answer_id":33581902,"question_id":33517476,"body_markdown":"If you look at RFC 4492 5.2, you&#39;ll see that the server CAN send the &quot;ec_point_formats&quot; extension, but is only supposed to do so &quot;when negotiating an ECC cipher suite&quot;. If you want TLSClient to just ignore the extra extension instead of raising an exception, I suggest overriding TlsClient.allowUnexpectedServerExtension(...) to allow ec_point_formats in the same way the default implementation allows elliptic_curves:\r\n\r\n    protected boolean allowUnexpectedServerExtension(Integer extensionType, byte[] extensionData)\r\n        throws IOException\r\n    {\r\n        switch (extensionType.intValue())\r\n        {\r\n        case ExtensionType.ec_point_formats:\r\n            /*\r\n             * Exception added based on field reports that some servers send Supported\r\n             * Point Format Extension even when not negotiating an ECC cipher suite.\r\n             * If present, we still require that it is a valid ECPointFormatList.\r\n             */\r\n            TlsECCUtils.readSupportedPointFormatsExtension(extensionData);\r\n            return true;\r\n        default:\r\n            return super.allowUnexpectedServerExtension(extensionType, extensionData);\r\n        }\r\n    }\r\n\r\nIf this is a widespread problem, we might consider adding this case to the default implementation.\r\n\r\nFor logging, there are the (TLSPeer) methods notifyAlertRaised and notifyAlertReceived that you can override on your TLSClient implementation.","title":"TLS 1.2 + Java 1.6 + BouncyCastle","body":"<p>If you look at RFC 4492 5.2, you'll see that the server CAN send the \"ec_point_formats\" extension, but is only supposed to do so \"when negotiating an ECC cipher suite\". If you want TLSClient to just ignore the extra extension instead of raising an exception, I suggest overriding TlsClient.allowUnexpectedServerExtension(...) to allow ec_point_formats in the same way the default implementation allows elliptic_curves:</p>\n\n<pre><code>protected boolean allowUnexpectedServerExtension(Integer extensionType, byte[] extensionData)\n    throws IOException\n{\n    switch (extensionType.intValue())\n    {\n    case ExtensionType.ec_point_formats:\n        /*\n         * Exception added based on field reports that some servers send Supported\n         * Point Format Extension even when not negotiating an ECC cipher suite.\n         * If present, we still require that it is a valid ECPointFormatList.\n         */\n        TlsECCUtils.readSupportedPointFormatsExtension(extensionData);\n        return true;\n    default:\n        return super.allowUnexpectedServerExtension(extensionType, extensionData);\n    }\n}\n</code></pre>\n\n<p>If this is a widespread problem, we might consider adding this case to the default implementation.</p>\n\n<p>For logging, there are the (TLSPeer) methods notifyAlertRaised and notifyAlertReceived that you can override on your TLSClient implementation.</p>\n"},{"tags":[],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650191955,"creation_date":1650191955,"answer_id":71901173,"question_id":33517476,"body_markdown":"i am posting this so maybe some people might find this helpful - i was also getting invalid_parameter(47) exception from my BC client code.\r\nthis error started to happen when we upgraded BC from version 1.62 (bcprov- and bctls-jdk15on-162 JARs) to 1.71 (bcprov-, bctls-, bcpkix-, bcutil-jdk15to18-171).\r\nmy stacktrace was different from the above problem, though:\r\n\r\n&gt; org.bouncycastle.tls.TlsFatalAlert: illegal_parameter(47)\r\n&gt; at org.bouncycastle.tls.TlsClientProtocol.processServerHello(Unknown Source)\r\n&gt; at org.bouncycastle.tls.TlsClientProtocol.handleHandshakeMessage(Unknown Source)\r\n&gt; ...\r\n\r\nI had some trouble figuring out how to debug the internal BC TLS code. Тhe provided JARs are compiled without the debug info - I had to download the source files from Maven Central and build from them, creating a new project in Netbeans with existing sources - the only Java version it can be built with is 8, but the end result could be referenced by my Java 6 client code.\r\n\r\nHaving compiled bctls with debug info, and referencing it from my client, I could actually land in the code that was throwing the exception:\r\n\r\n    protected void processServerHello(ServerHello serverHello)\r\n    \tthrows IOException\r\n    {\r\n        ...\r\n    \t\r\n    \tif (sessionServerExtensions != null &amp;&amp; !sessionServerExtensions.isEmpty())\r\n    \t{\r\n    \t\t{\r\n    \t\t\t/*\r\n    \t\t\t * RFC 7366 3. If a server receives an encrypt-then-MAC request extension from a client\r\n    \t\t\t * and then selects a stream or Authenticated Encryption with Associated Data (AEAD)\r\n    \t\t\t * ciphersuite, it MUST NOT send an encrypt-then-MAC response extension back to the\r\n    \t\t\t * client.\r\n    \t\t\t */\r\n    \t\t\tboolean serverSentEncryptThenMAC = TlsExtensionsUtils.hasEncryptThenMACExtension(sessionServerExtensions);\r\n    \t\t\tif (serverSentEncryptThenMAC &amp;&amp; !TlsUtils.isBlockCipherSuite(securityParameters.getCipherSuite()))\r\n    \t\t\t{\r\n    \t\t\t\tthrow new TlsFatalAlert(AlertDescription.illegal_parameter);\r\n    \t\t\t}\r\n    \t\t\tsecurityParameters.encryptThenMAC = serverSentEncryptThenMAC;\r\n    \t\t}\r\n    \t...\r\n    }\r\n\r\nI don&#39;t really know what encrypt-then-MAC and MAC-then-encrypt is, and I didn&#39;t want to get deep into their meaning. After some searching, I figured out that possibly I had to limit the list of the cipher suites used for the communication - because possibly some cipher suite that is chosen by default forces the server into some condition where it behaves differently from the RFC specification - and yes, this at least worked:\r\n\r\n    TrustManagerFactory tmf = ...\r\n    SSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;, BouncyCastleJsseProvider.PROVIDER_NAME);\r\n    sc.init(null, tmf.getTrustManagers(), new SecureRandom());\r\n    \r\n    SSLConnectionSocketFactory ret = new SSLConnectionSocketFactory(sc, \r\n    \t\tnew String[] { &quot;TLSv1.2&quot; }, \r\n    \t\tnew String[] { &quot;TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256&quot;, \r\n    \t\t\t&quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_DHE_DSS_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_DHE_DSS_WITH_AES_128_GCM_SHA256&quot; }, \r\n    \t\tSSLConnectionSocketFactory.getDefaultHostnameVerifier());\r\n    \r\n    // the created SSLConnectionSocketFactory is then used to create socketFactoryRegistry \r\n    // which is then passed to constructor of Apache HttpComponents&#39; PoolingHttpClientConnectionManager \r\n    // which is used to create a new instance of Apache HttpClient\r\n\r\nOther useful stuff that I learned is \r\n - there are sites, e.g. [https://www.ssllabs.com/ssltest][1] that analyze the available protocols and cipher suites that a server supports.\r\n - the list of the cipher suites above is not exactly arbitrary - I took it from this [stackoverflow q&amp;a][2].\r\n\r\n\r\n  [1]: https://www.ssllabs.com/ssltest\r\n  [2]: https://stackoverflow.com/questions/1037590/which-cipher-suites-to-enable-for-ssl-socket","title":"TLS 1.2 + Java 1.6 + BouncyCastle","body":"<p>i am posting this so maybe some people might find this helpful - i was also getting invalid_parameter(47) exception from my BC client code.\nthis error started to happen when we upgraded BC from version 1.62 (bcprov- and bctls-jdk15on-162 JARs) to 1.71 (bcprov-, bctls-, bcpkix-, bcutil-jdk15to18-171).\nmy stacktrace was different from the above problem, though:</p>\n<blockquote>\n<p>org.bouncycastle.tls.TlsFatalAlert: illegal_parameter(47)\nat org.bouncycastle.tls.TlsClientProtocol.processServerHello(Unknown Source)\nat org.bouncycastle.tls.TlsClientProtocol.handleHandshakeMessage(Unknown Source)\n...</p>\n</blockquote>\n<p>I had some trouble figuring out how to debug the internal BC TLS code. Тhe provided JARs are compiled without the debug info - I had to download the source files from Maven Central and build from them, creating a new project in Netbeans with existing sources - the only Java version it can be built with is 8, but the end result could be referenced by my Java 6 client code.</p>\n<p>Having compiled bctls with debug info, and referencing it from my client, I could actually land in the code that was throwing the exception:</p>\n<pre><code>protected void processServerHello(ServerHello serverHello)\n    throws IOException\n{\n    ...\n    \n    if (sessionServerExtensions != null &amp;&amp; !sessionServerExtensions.isEmpty())\n    {\n        {\n            /*\n             * RFC 7366 3. If a server receives an encrypt-then-MAC request extension from a client\n             * and then selects a stream or Authenticated Encryption with Associated Data (AEAD)\n             * ciphersuite, it MUST NOT send an encrypt-then-MAC response extension back to the\n             * client.\n             */\n            boolean serverSentEncryptThenMAC = TlsExtensionsUtils.hasEncryptThenMACExtension(sessionServerExtensions);\n            if (serverSentEncryptThenMAC &amp;&amp; !TlsUtils.isBlockCipherSuite(securityParameters.getCipherSuite()))\n            {\n                throw new TlsFatalAlert(AlertDescription.illegal_parameter);\n            }\n            securityParameters.encryptThenMAC = serverSentEncryptThenMAC;\n        }\n    ...\n}\n</code></pre>\n<p>I don't really know what encrypt-then-MAC and MAC-then-encrypt is, and I didn't want to get deep into their meaning. After some searching, I figured out that possibly I had to limit the list of the cipher suites used for the communication - because possibly some cipher suite that is chosen by default forces the server into some condition where it behaves differently from the RFC specification - and yes, this at least worked:</p>\n<pre><code>TrustManagerFactory tmf = ...\nSSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;, BouncyCastleJsseProvider.PROVIDER_NAME);\nsc.init(null, tmf.getTrustManagers(), new SecureRandom());\n\nSSLConnectionSocketFactory ret = new SSLConnectionSocketFactory(sc, \n        new String[] { &quot;TLSv1.2&quot; }, \n        new String[] { &quot;TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256&quot;, \n            &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_DHE_DSS_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_DHE_DSS_WITH_AES_128_GCM_SHA256&quot; }, \n        SSLConnectionSocketFactory.getDefaultHostnameVerifier());\n\n// the created SSLConnectionSocketFactory is then used to create socketFactoryRegistry \n// which is then passed to constructor of Apache HttpComponents' PoolingHttpClientConnectionManager \n// which is used to create a new instance of Apache HttpClient\n</code></pre>\n<p>Other useful stuff that I learned is</p>\n<ul>\n<li>there are sites, e.g. <a href=\"https://www.ssllabs.com/ssltest\" rel=\"nofollow noreferrer\">https://www.ssllabs.com/ssltest</a> that analyze the available protocols and cipher suites that a server supports.</li>\n<li>the list of the cipher suites above is not exactly arbitrary - I took it from this <a href=\"https://stackoverflow.com/questions/1037590/which-cipher-suites-to-enable-for-ssl-socket\">stackoverflow q&amp;a</a>.</li>\n</ul>\n"}],"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16855,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1650191955,"creation_date":1446627376,"question_id":33517476,"body_markdown":"For supporting HTTPS connections through a Java 1.6 API to remote hosts using TLS 1.2, we have developed a customized TLS SocketConnection factory based on Bouncy Castle Libraries (v. 1.53)\r\n\r\nIt&#39;s very easy to use, just: \r\n\r\n            String httpsURL =  xxxxxxxxxx\r\n            URL myurl = new URL(httpsURL); \t    \r\n            HttpsURLConnection  con = (HttpsURLConnection )myurl.openConnection();\r\n            con.setSSLSocketFactory(new TSLSocketConnectionFactory());\t \r\n            InputStream ins = con.getInputStream();\r\n\r\nDuring testing, I connect different web and remote hosts exposed into [SSLabs Tests][1]\r\n\r\n90% of the time this works fine! But there are some cases in which we get an annoying error: **&quot;Internal TLS error, this could be an attack&quot;** . It has been checked that there is no attack. That&#39;s a common error based on the treatment of internal BouncyCastle exceptions. **I&#39;m trying to find a common pattern to those remote host that fails with little luck.**\r\n\r\n**Updated:** \r\n\r\nUpdating some code for extra information, we get this:\r\n\r\n    org.bouncycastle.crypto.tls.TlsFatalAlert: illegal_parameter(47)\r\n    \tat org.bouncycastle.crypto.tls.AbstractTlsClient.checkForUnexpectedServerExtension(AbstractTlsClient.java:56)\r\n    \tat org.bouncycastle.crypto.tls.AbstractTlsClient.processServerExtensions(AbstractTlsClient.java:207)\r\n    \tat org.bouncycastle.crypto.tls.TlsClientProtocol.receiveServerHelloMessage(TlsClientProtocol.java:773)\r\n\r\n\r\nThe extension type i get is this: \r\n\r\nExtensionType:11\r\nExtensionData:\r\n\r\nAcording to ExtensionType class,  &quot;ec_point_formats&quot;. This causes  &quot;UnexpectedServerExtension&quot; --&gt; The &quot;UnexpectedServerExtension&quot; causes a --&gt; TlsFatalAlert: illegal_parameter , and at last this a &quot;Internal TLS error, this could be an attack&quot;\r\n\r\nAny advise to log or trace this strange TLS Errors....????  As i say, this code works 90%...but with some remote host i get this errof\r\n\r\nThe trick consists in overriding startHandShake to use Bouncy&#39;s TLSClientProtocol:\r\n\r\n 1. Override ClientExtensions to include &quot;host&quot; ExtensionType. Just ExtensionType.server_name ( maybe any more Extension to include?)\r\n 2. Create a   TlsAuthentication to include remoteCerts on Socket&#39;s\r\n    peerCertificate    .Also optionally check if remote certs are in\r\n    default keystore    (cacerts,etc..)\r\n\r\nI share the code of TLSSocketConnectionFactory: \r\n\r\n    public class TLSSocketConnectionFactory extends SSLSocketFactory {\t\r\n    \t\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //Adding Custom BouncyCastleProvider\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    \t\r\n    \tstatic {\r\n    \t\tif (Security.getProvider(BouncyCastleProvider.PROVIDER_NAME) == null) {\r\n    \t\t\tSecurity.addProvider(new BouncyCastleProvider());\r\n    \t\t}\r\n    \t}\t\r\n    \t\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //SECURE RANDOM\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    \t\r\n    \tprivate SecureRandom _secureRandom = new SecureRandom();\r\n    \r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //Adding Custom BouncyCastleProvider\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    \t\r\n    \t@Override\r\n    \tpublic Socket createSocket(Socket socket, final String host, int port, boolean arg3)\r\n    \t\t\tthrows IOException {\r\n    \t\tif (socket == null) {\r\n    \t\t\tsocket = new Socket();\r\n    \t\t}\r\n    \t\tif (!socket.isConnected()) {\r\n    \t\t\tsocket.connect(new InetSocketAddress(host, port));\r\n    \t\t}\r\n    \t\t\r\n    \t\tfinal TlsClientProtocol tlsClientProtocol = new TlsClientProtocol(socket.getInputStream(), socket.getOutputStream(), _secureRandom);       \r\n    \t\t\r\n    \t\treturn _createSSLSocket(host, tlsClientProtocol);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // SOCKET FACTORY  METHODS\t\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\t\r\n    \t\r\n    \t@Override\r\n    \tpublic String[] getDefaultCipherSuites() {\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String[] getSupportedCipherSuites(){\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Socket createSocket( String host,\r\n    \t\t\t\t\t\t\t\tint port) throws IOException,UnknownHostException{\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Socket createSocket( InetAddress host,\r\n    \t\t\t\t\t\t\t\tint port) throws IOException {\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Socket createSocket( String host, \r\n    \t\t\t\t\t\t\t\tint port, \r\n    \t\t\t\t\t\t\t\tInetAddress localHost,\r\n    \t\t\t\t\t\t\t\tint localPort) throws IOException, UnknownHostException {\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Socket createSocket( InetAddress address,\r\n    \t\t\t\t\t\t\t\tint port,\r\n    \t\t\t\t\t\t\t\tInetAddress localAddress,\r\n    \t\t\t\t\t\t\t\tint localPort) throws IOException{\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //SOCKET CREATION\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    \t\r\n    \tprivate SSLSocket _createSSLSocket(final String host , final TlsClientProtocol tlsClientProtocol) {\r\n    \t\treturn new SSLSocket() {\r\n    \t\t\tprivate java.security.cert.Certificate[] peertCerts;\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic InputStream getInputStream() throws IOException {\r\n    \t\t\t\treturn tlsClientProtocol.getInputStream();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic OutputStream getOutputStream() throws IOException {\r\n    \t\t\t\treturn tlsClientProtocol.getOutputStream();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic synchronized void close() throws IOException {\r\n    \t\t\t\tLog.to(&quot;util&quot;).info(&quot;\\\\\\n::::::Close Socket&quot;);\r\n    \t\t\t\ttlsClientProtocol.close();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void addHandshakeCompletedListener(HandshakeCompletedListener arg0) {\r\n    \t\t\t \r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean getEnableSessionCreation() {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic String[] getEnabledCipherSuites() {\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic String[] getEnabledProtocols() {\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean getNeedClientAuth(){\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic SSLSession getSession() {\r\n    \t\t\t\treturn new SSLSession() {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic int getApplicationBufferSize() {\r\n    \t\t\t\t\t\treturn 0;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic String getCipherSuite() {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic long getCreationTime() {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic byte[] getId() {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic long getLastAccessedTime() {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic java.security.cert.Certificate[] getLocalCertificates() {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic Principal getLocalPrincipal() {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic int getPacketBufferSize() {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic X509Certificate[] getPeerCertificateChain()\r\n    \t\t\t\t\t\t\tthrows SSLPeerUnverifiedException {\r\n    \t\t\t\t\t\treturn null;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic java.security.cert.Certificate[] getPeerCertificates()throws SSLPeerUnverifiedException {\r\n    \t\t\t\t\t\treturn peertCerts;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic String getPeerHost() {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic int getPeerPort() {\r\n    \t\t\t\t\t\treturn 0;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic Principal getPeerPrincipal()\tthrows SSLPeerUnverifiedException {\r\n    \t\t\t\t\t\treturn null;\r\n    \t\t\t\t\t\t//throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic String getProtocol() {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic SSLSessionContext getSessionContext() {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic Object getValue(String arg0) {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic String[] getValueNames() {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void invalidate() {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic boolean isValid() {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void putValue(String arg0, Object arg1) {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void removeValue(String arg0) {\r\n    \t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t};\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic String[] getSupportedProtocols() {\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean getUseClientMode() {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean getWantClientAuth() {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void removeHandshakeCompletedListener(HandshakeCompletedListener arg0) {\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void setEnableSessionCreation(boolean arg0) {\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void setEnabledCipherSuites(String[] arg0) {\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void setEnabledProtocols(String[] arg0) {\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void setNeedClientAuth(boolean arg0) {\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void setUseClientMode(boolean arg0) {\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void setWantClientAuth(boolean arg0) {\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic String[] getSupportedCipherSuites() {\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\t@Override\r\n    \t\t\tpublic void startHandshake() throws IOException {\r\n    \t\t\t\t\t\r\n    \t\t\t\tLog.to(&quot;util&quot;).info(&quot;TSLSocketConnectionFactory:startHandshake()&quot;);\r\n    \t\t\t\ttlsClientProtocol.connect(new DefaultTlsClient() {\r\n    \t\t\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic Hashtable&lt;Integer, byte[]&gt; getClientExtensions() throws IOException {\r\n    \t\t\t\t\t\tHashtable&lt;Integer, byte[]&gt; clientExtensions = super.getClientExtensions();\r\n    \t\t\t\t\t\tif (clientExtensions == null) {\r\n    \t\t\t\t\t\t\tclientExtensions = new Hashtable&lt;Integer, byte[]&gt;();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\t//Add host_name\r\n    \t\t\t\t\t\tbyte[] host_name = host.getBytes();\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tfinal ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\t\t\t\t\tfinal DataOutputStream dos = new DataOutputStream(baos);\r\n    \t\t\t\t\t\tdos.writeShort(host_name.length + 3);\r\n    \t\t\t\t\t\tdos.writeByte(0); // \r\n    \t\t\t\t\t\tdos.writeShort(host_name.length);\r\n    \t\t\t\t\t\tdos.write(host_name);\r\n    \t\t\t\t\t\tdos.close();\r\n    \t\t\t\t\t\tclientExtensions.put(ExtensionType.server_name, baos.toByteArray());\r\n    \t\t\t\t\t\treturn clientExtensions;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic TlsAuthentication getAuthentication()\r\n    \t\t\t\t\t\t\tthrows IOException {\r\n    \t\t\t\t\t\treturn new TlsAuthentication() {\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\tpublic void notifyServerCertificate(Certificate serverCertificate) throws IOException {\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\t\tKeyStore ks = _loadKeyStore();\r\n    \t\t\t\t\t\t\t\t\tLog.to(&quot;util&quot;).info(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; KeyStore : &quot;+ks.size());\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\tCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    \t\t\t\t\t\t\t\t\tList&lt;java.security.cert.Certificate&gt; certs = new LinkedList&lt;java.security.cert.Certificate&gt;();\r\n    \t\t\t\t\t\t\t\t\tboolean trustedCertificate = false;\r\n    \t\t\t\t\t\t\t\t\tfor ( org.bouncycastle.asn1.x509.Certificate c : serverCertificate.getCertificateList()) {\r\n    \t\t\t\t\t\t\t\t\t\tjava.security.cert.Certificate cert = cf.generateCertificate(new ByteArrayInputStream(c.getEncoded()));\r\n    \t\t\t\t\t\t\t\t\t\tcerts.add(cert);\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\tString alias = ks.getCertificateAlias(cert);\r\n    \t\t\t\t\t\t\t\t\t\tif(alias != null) {\r\n    \t\t\t\t\t\t\t\t\t\t\tLog.to(&quot;util&quot;).info(&quot;&gt;&gt;&gt; Trusted cert\\n&quot; + c.getSubject().toString());\r\n    \t\t\t\t\t\t\t\t\t\t\tif (cert instanceof java.security.cert.X509Certificate) {\r\n    \t\t\t\t\t\t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t( (java.security.cert.X509Certificate) cert).checkValidity();\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\ttrustedCertificate = true;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\tLog.to(&quot;util&quot;).info(&quot;Certificate is active for current date\\n&quot;+cert);\r\n    \t\t\t\t\t\t\t\t\t\t\t\t} catch(CertificateExpiredException cee) {\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\tR01FLog.to(&quot;r01f.util&quot;).info(&quot;Certificate is expired...&quot;);\r\n    \t\t\t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\t\t\tLog.to(&quot;util&quot;).info(&quot;&gt;&gt;&gt; Unknown cert &quot; + c.getSubject().toString());\r\n    \t\t\t\t\t\t\t\t\t\t\tLog.to(&quot;util&quot;).fine(&quot;&quot;+cert);\r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\tif (!trustedCertificate) {\r\n    \t\t\t\t\t\t\t\t\t\tthrow new CertificateException(&quot;Unknown cert &quot; + serverCertificate);\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\tpeertCerts = certs.toArray(new java.security.cert.Certificate[0]);\r\n    \t\t\t\t\t\t\t\t} catch (Exception ex) {\r\n    \t\t\t\t\t\t\t\t\tex.printStackTrace();\r\n    \t\t\t\t\t\t\t\t\tthrow new IOException(ex);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\tpublic TlsCredentials getClientCredentials(CertificateRequest arg0)\r\n    \t\t\t\t\t\t\t\t\tthrows IOException {\r\n    \t\t\t\t\t\t\t\treturn null;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t/**\r\n    \t\t\t\t\t\t\t * Private method to load keyStore with system or default properties.\r\n    \t\t\t\t\t\t\t * @return\r\n    \t\t\t\t\t\t\t * @throws Exception\r\n    \t\t\t\t\t\t\t */\r\n    \t\t\t\t\t\t\tprivate KeyStore _loadKeyStore() throws Exception {\r\n    \t\t\t\t\t\t\t\tFileInputStream trustStoreFis = null;\r\n    \t\t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\t\tString sysTrustStore = null;\r\n    \t\t\t\t\t\t\t\t\tFile trustStoreFile = null;\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\tKeyStore localKeyStore = null;\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\tsysTrustStore = System.getProperty(&quot;javax.net.ssl.trustStore&quot;);\r\n    \t\t\t\t\t\t\t\t\tString javaHome;\r\n    \t\t\t\t\t\t\t\t\tif (!&quot;NONE&quot;.equals(sysTrustStore)) {\r\n    \t\t\t\t\t\t\t\t\t\tif (sysTrustStore != null) {\r\n    \t\t\t\t\t\t\t\t\t\t\ttrustStoreFile = new File(sysTrustStore);\r\n    \t\t\t\t\t\t\t\t\t\t\ttrustStoreFis = _getFileInputStream(trustStoreFile);\r\n    \t\t\t\t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\t\t\t\tjavaHome = System.getProperty(&quot;java.home&quot;);\r\n    \t\t\t\t\t\t\t\t\t\t\ttrustStoreFile = new File(javaHome + File.separator + &quot;lib&quot; + File.separator + &quot;security&quot; + File.separator + &quot;jssecacerts&quot;);\r\n    \t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\tif ((trustStoreFis = _getFileInputStream(trustStoreFile)) == null) {\r\n    \t\t\t\t\t\t\t\t\t\t\t\ttrustStoreFile = new File(javaHome + File.separator + &quot;lib&quot; + File.separator + &quot;security&quot; + File.separator + &quot;cacerts&quot;);\r\n    \t\t\t\t\t\t\t\t\t\t\t\ttrustStoreFis = _getFileInputStream(trustStoreFile);\r\n    \t\t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\tif (trustStoreFis != null) {\r\n    \t\t\t\t\t\t\t\t\t\t\tsysTrustStore = trustStoreFile.getPath();\r\n    \t\t\t\t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\t\t\t\tsysTrustStore = &quot;No File Available, using empty keystore.&quot;;\r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\tString trustStoreType = System.getProperty(&quot;javax.net.ssl.trustStoreType&quot;)!=null?System.getProperty(&quot;javax.net.ssl.trustStoreType&quot;):KeyStore.getDefaultType();\r\n    \t\t\t\t\t\t\t\t\tString trustStoreProvider = System.getProperty(&quot;javax.net.ssl.trustStoreProvider&quot;)!=null?System.getProperty(&quot;javax.net.ssl.trustStoreProvider&quot;):&quot;&quot;;\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\tif (trustStoreType.length() != 0) {\r\n    \t\t\t\t\t\t\t\t\t\tif (trustStoreProvider.length() == 0) {\r\n    \t\t\t\t\t\t\t\t\t\t\tlocalKeyStore = KeyStore.getInstance(trustStoreType);\r\n    \t\t\t\t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\t\t\t\tlocalKeyStore = KeyStore.getInstance(trustStoreType, trustStoreProvider);\r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\tchar[] keyStorePass = null;\r\n    \t\t\t\t\t\t\t\t\t\tString str5 = System.getProperty(&quot;javax.net.ssl.trustStorePassword&quot;)!=null?System.getProperty(&quot;javax.net.ssl.trustStorePassword&quot;):&quot;&quot;;\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\tif (str5.length() != 0) {\r\n    \t\t\t\t\t\t\t\t\t\t\tkeyStorePass = str5.toCharArray();\r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\tlocalKeyStore.load(trustStoreFis, (char[]) keyStorePass);\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\tif (keyStorePass != null) {\r\n    \t\t\t\t\t\t\t\t\t\t\tfor (int i = 0; i &lt; keyStorePass.length; i++) {\r\n    \t\t\t\t\t\t\t\t\t\t\t\tkeyStorePass[i] = 0;\r\n    \t\t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\treturn (KeyStore)localKeyStore;\r\n    \t\t\t\t\t\t\t\t} finally {\r\n    \t\t\t\t\t\t\t\t\tif (trustStoreFis != null) {\r\n    \t\t\t\t\t\t\t\t\t\ttrustStoreFis.close();\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tprivate FileInputStream _getFileInputStream(File paramFile) throws Exception {\r\n    \t\t\t\t\t\t\t\tif (paramFile.exists()) {\r\n    \t\t\t\t\t\t\t\t\treturn new FileInputStream(paramFile);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\treturn null;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t};\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t});\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t};//Socket\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n  [1]: https://www.ssllabs.com/ssltest/index.html\r\n\r\n","title":"TLS 1.2 + Java 1.6 + BouncyCastle","body":"<p>For supporting HTTPS connections through a Java 1.6 API to remote hosts using TLS 1.2, we have developed a customized TLS SocketConnection factory based on Bouncy Castle Libraries (v. 1.53)</p>\n\n<p>It's very easy to use, just: </p>\n\n<pre><code>        String httpsURL =  xxxxxxxxxx\n        URL myurl = new URL(httpsURL);      \n        HttpsURLConnection  con = (HttpsURLConnection )myurl.openConnection();\n        con.setSSLSocketFactory(new TSLSocketConnectionFactory());   \n        InputStream ins = con.getInputStream();\n</code></pre>\n\n<p>During testing, I connect different web and remote hosts exposed into <a href=\"https://www.ssllabs.com/ssltest/index.html\" rel=\"noreferrer\">SSLabs Tests</a></p>\n\n<p>90% of the time this works fine! But there are some cases in which we get an annoying error: <strong>\"Internal TLS error, this could be an attack\"</strong> . It has been checked that there is no attack. That's a common error based on the treatment of internal BouncyCastle exceptions. <strong>I'm trying to find a common pattern to those remote host that fails with little luck.</strong></p>\n\n<p><strong>Updated:</strong> </p>\n\n<p>Updating some code for extra information, we get this:</p>\n\n<pre><code>org.bouncycastle.crypto.tls.TlsFatalAlert: illegal_parameter(47)\n    at org.bouncycastle.crypto.tls.AbstractTlsClient.checkForUnexpectedServerExtension(AbstractTlsClient.java:56)\n    at org.bouncycastle.crypto.tls.AbstractTlsClient.processServerExtensions(AbstractTlsClient.java:207)\n    at org.bouncycastle.crypto.tls.TlsClientProtocol.receiveServerHelloMessage(TlsClientProtocol.java:773)\n</code></pre>\n\n<p>The extension type i get is this: </p>\n\n<p>ExtensionType:11\nExtensionData:</p>\n\n<p>Acording to ExtensionType class,  \"ec_point_formats\". This causes  \"UnexpectedServerExtension\" --> The \"UnexpectedServerExtension\" causes a --> TlsFatalAlert: illegal_parameter , and at last this a \"Internal TLS error, this could be an attack\"</p>\n\n<p>Any advise to log or trace this strange TLS Errors....????  As i say, this code works 90%...but with some remote host i get this errof</p>\n\n<p>The trick consists in overriding startHandShake to use Bouncy's TLSClientProtocol:</p>\n\n<ol>\n<li>Override ClientExtensions to include \"host\" ExtensionType. Just ExtensionType.server_name ( maybe any more Extension to include?)</li>\n<li>Create a   TlsAuthentication to include remoteCerts on Socket's\npeerCertificate    .Also optionally check if remote certs are in\ndefault keystore    (cacerts,etc..)</li>\n</ol>\n\n<p>I share the code of TLSSocketConnectionFactory: </p>\n\n<pre><code>public class TLSSocketConnectionFactory extends SSLSocketFactory {  \n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//Adding Custom BouncyCastleProvider\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    static {\n        if (Security.getProvider(BouncyCastleProvider.PROVIDER_NAME) == null) {\n            Security.addProvider(new BouncyCastleProvider());\n        }\n    }   \n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//SECURE RANDOM\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private SecureRandom _secureRandom = new SecureRandom();\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//Adding Custom BouncyCastleProvider\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    @Override\n    public Socket createSocket(Socket socket, final String host, int port, boolean arg3)\n            throws IOException {\n        if (socket == null) {\n            socket = new Socket();\n        }\n        if (!socket.isConnected()) {\n            socket.connect(new InetSocketAddress(host, port));\n        }\n\n        final TlsClientProtocol tlsClientProtocol = new TlsClientProtocol(socket.getInputStream(), socket.getOutputStream(), _secureRandom);       \n\n        return _createSSLSocket(host, tlsClientProtocol);\n\n    }\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// SOCKET FACTORY  METHODS  \n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////  \n\n    @Override\n    public String[] getDefaultCipherSuites() {\n        return null;\n    }\n\n    @Override\n    public String[] getSupportedCipherSuites(){\n        return null;\n    }\n\n    @Override\n    public Socket createSocket( String host,\n                                int port) throws IOException,UnknownHostException{\n        return null;\n    }\n\n    @Override\n    public Socket createSocket( InetAddress host,\n                                int port) throws IOException {\n        return null;\n    }\n\n    @Override\n    public Socket createSocket( String host, \n                                int port, \n                                InetAddress localHost,\n                                int localPort) throws IOException, UnknownHostException {\n        return null;\n    }\n\n    @Override\n    public Socket createSocket( InetAddress address,\n                                int port,\n                                InetAddress localAddress,\n                                int localPort) throws IOException{\n        return null;\n    }\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//SOCKET CREATION\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private SSLSocket _createSSLSocket(final String host , final TlsClientProtocol tlsClientProtocol) {\n        return new SSLSocket() {\n            private java.security.cert.Certificate[] peertCerts;\n\n            @Override\n            public InputStream getInputStream() throws IOException {\n                return tlsClientProtocol.getInputStream();\n            }\n\n            @Override\n            public OutputStream getOutputStream() throws IOException {\n                return tlsClientProtocol.getOutputStream();\n            }\n\n            @Override\n            public synchronized void close() throws IOException {\n                Log.to(\"util\").info(\"\\\\\\n::::::Close Socket\");\n                tlsClientProtocol.close();\n            }\n\n            @Override\n            public void addHandshakeCompletedListener(HandshakeCompletedListener arg0) {\n\n            }\n\n            @Override\n            public boolean getEnableSessionCreation() {\n                return false;\n            }\n\n            @Override\n            public String[] getEnabledCipherSuites() {\n                return null;\n            }\n\n            @Override\n            public String[] getEnabledProtocols() {\n                return null;\n            }\n\n            @Override\n            public boolean getNeedClientAuth(){\n                return false;\n            }\n\n            @Override\n            public SSLSession getSession() {\n                return new SSLSession() {\n\n                    @Override\n                    public int getApplicationBufferSize() {\n                        return 0;\n                    }\n\n                    @Override\n                    public String getCipherSuite() {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public long getCreationTime() {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public byte[] getId() {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public long getLastAccessedTime() {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public java.security.cert.Certificate[] getLocalCertificates() {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public Principal getLocalPrincipal() {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public int getPacketBufferSize() {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public X509Certificate[] getPeerCertificateChain()\n                            throws SSLPeerUnverifiedException {\n                        return null;\n                    }\n\n                    @Override\n                    public java.security.cert.Certificate[] getPeerCertificates()throws SSLPeerUnverifiedException {\n                        return peertCerts;\n                    }\n\n                    @Override\n                    public String getPeerHost() {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public int getPeerPort() {\n                        return 0;\n                    }\n\n                    @Override\n                    public Principal getPeerPrincipal() throws SSLPeerUnverifiedException {\n                        return null;\n                        //throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public String getProtocol() {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public SSLSessionContext getSessionContext() {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public Object getValue(String arg0) {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public String[] getValueNames() {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public void invalidate() {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public boolean isValid() {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public void putValue(String arg0, Object arg1) {\n                        throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public void removeValue(String arg0) {\n                        throw new UnsupportedOperationException();\n                    }\n\n                };\n            }\n\n\n            @Override\n            public String[] getSupportedProtocols() {\n                return null;\n            }\n\n            @Override\n            public boolean getUseClientMode() {\n                return false;\n            }\n\n            @Override\n            public boolean getWantClientAuth() {\n                return false;\n            }\n\n            @Override\n            public void removeHandshakeCompletedListener(HandshakeCompletedListener arg0) {\n\n            }\n\n            @Override\n            public void setEnableSessionCreation(boolean arg0) {\n\n            }\n\n            @Override\n            public void setEnabledCipherSuites(String[] arg0) {\n\n            }\n\n            @Override\n            public void setEnabledProtocols(String[] arg0) {\n\n            }\n\n            @Override\n            public void setNeedClientAuth(boolean arg0) {\n\n            }\n\n            @Override\n            public void setUseClientMode(boolean arg0) {\n\n            }\n\n            @Override\n            public void setWantClientAuth(boolean arg0) {\n\n            }\n\n            @Override\n            public String[] getSupportedCipherSuites() {\n                return null;\n            }\n            @Override\n            public void startHandshake() throws IOException {\n\n                Log.to(\"util\").info(\"TSLSocketConnectionFactory:startHandshake()\");\n                tlsClientProtocol.connect(new DefaultTlsClient() {\n                    @SuppressWarnings(\"unchecked\")\n                    @Override\n                    public Hashtable&lt;Integer, byte[]&gt; getClientExtensions() throws IOException {\n                        Hashtable&lt;Integer, byte[]&gt; clientExtensions = super.getClientExtensions();\n                        if (clientExtensions == null) {\n                            clientExtensions = new Hashtable&lt;Integer, byte[]&gt;();\n                        }\n\n                        //Add host_name\n                        byte[] host_name = host.getBytes();\n\n                        final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                        final DataOutputStream dos = new DataOutputStream(baos);\n                        dos.writeShort(host_name.length + 3);\n                        dos.writeByte(0); // \n                        dos.writeShort(host_name.length);\n                        dos.write(host_name);\n                        dos.close();\n                        clientExtensions.put(ExtensionType.server_name, baos.toByteArray());\n                        return clientExtensions;\n                    }\n\n                    @Override\n                    public TlsAuthentication getAuthentication()\n                            throws IOException {\n                        return new TlsAuthentication() {\n\n                            @Override\n                            public void notifyServerCertificate(Certificate serverCertificate) throws IOException {\n\n                                try {\n                                    KeyStore ks = _loadKeyStore();\n                                    Log.to(\"util\").info(\"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; KeyStore : \"+ks.size());\n\n                                    CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n                                    List&lt;java.security.cert.Certificate&gt; certs = new LinkedList&lt;java.security.cert.Certificate&gt;();\n                                    boolean trustedCertificate = false;\n                                    for ( org.bouncycastle.asn1.x509.Certificate c : serverCertificate.getCertificateList()) {\n                                        java.security.cert.Certificate cert = cf.generateCertificate(new ByteArrayInputStream(c.getEncoded()));\n                                        certs.add(cert);\n\n                                        String alias = ks.getCertificateAlias(cert);\n                                        if(alias != null) {\n                                            Log.to(\"util\").info(\"&gt;&gt;&gt; Trusted cert\\n\" + c.getSubject().toString());\n                                            if (cert instanceof java.security.cert.X509Certificate) {\n                                                try {\n                                                    ( (java.security.cert.X509Certificate) cert).checkValidity();\n                                                    trustedCertificate = true;\n                                                    Log.to(\"util\").info(\"Certificate is active for current date\\n\"+cert);\n                                                } catch(CertificateExpiredException cee) {\n                                                    R01FLog.to(\"r01f.util\").info(\"Certificate is expired...\");\n                                                }\n                                            }\n                                        } else {\n                                        Log.to(\"util\").info(\"&gt;&gt;&gt; Unknown cert \" + c.getSubject().toString());\n                                            Log.to(\"util\").fine(\"\"+cert);\n                                        }\n\n                                    }\n                                    if (!trustedCertificate) {\n                                        throw new CertificateException(\"Unknown cert \" + serverCertificate);\n                                    }\n                                    peertCerts = certs.toArray(new java.security.cert.Certificate[0]);\n                                } catch (Exception ex) {\n                                    ex.printStackTrace();\n                                    throw new IOException(ex);\n                                }\n\n                            }\n\n                            @Override\n                            public TlsCredentials getClientCredentials(CertificateRequest arg0)\n                                    throws IOException {\n                                return null;\n                            }\n\n                            /**\n                             * Private method to load keyStore with system or default properties.\n                             * @return\n                             * @throws Exception\n                             */\n                            private KeyStore _loadKeyStore() throws Exception {\n                                FileInputStream trustStoreFis = null;\n                                try {\n                                    String sysTrustStore = null;\n                                    File trustStoreFile = null;\n\n                                    KeyStore localKeyStore = null;\n\n                                    sysTrustStore = System.getProperty(\"javax.net.ssl.trustStore\");\n                                    String javaHome;\n                                    if (!\"NONE\".equals(sysTrustStore)) {\n                                        if (sysTrustStore != null) {\n                                            trustStoreFile = new File(sysTrustStore);\n                                            trustStoreFis = _getFileInputStream(trustStoreFile);\n                                        } else {\n                                            javaHome = System.getProperty(\"java.home\");\n                                            trustStoreFile = new File(javaHome + File.separator + \"lib\" + File.separator + \"security\" + File.separator + \"jssecacerts\");\n\n                                            if ((trustStoreFis = _getFileInputStream(trustStoreFile)) == null) {\n                                                trustStoreFile = new File(javaHome + File.separator + \"lib\" + File.separator + \"security\" + File.separator + \"cacerts\");\n                                                trustStoreFis = _getFileInputStream(trustStoreFile);\n                                            }\n                                        }\n\n                                        if (trustStoreFis != null) {\n                                            sysTrustStore = trustStoreFile.getPath();\n                                        } else {\n                                            sysTrustStore = \"No File Available, using empty keystore.\";\n                                        }\n                                    }\n\n                                    String trustStoreType = System.getProperty(\"javax.net.ssl.trustStoreType\")!=null?System.getProperty(\"javax.net.ssl.trustStoreType\"):KeyStore.getDefaultType();\n                                    String trustStoreProvider = System.getProperty(\"javax.net.ssl.trustStoreProvider\")!=null?System.getProperty(\"javax.net.ssl.trustStoreProvider\"):\"\";\n\n                                    if (trustStoreType.length() != 0) {\n                                        if (trustStoreProvider.length() == 0) {\n                                            localKeyStore = KeyStore.getInstance(trustStoreType);\n                                        } else {\n                                            localKeyStore = KeyStore.getInstance(trustStoreType, trustStoreProvider);\n                                        }\n\n                                        char[] keyStorePass = null;\n                                        String str5 = System.getProperty(\"javax.net.ssl.trustStorePassword\")!=null?System.getProperty(\"javax.net.ssl.trustStorePassword\"):\"\";\n\n                                        if (str5.length() != 0) {\n                                            keyStorePass = str5.toCharArray();\n                                        }\n\n                                        localKeyStore.load(trustStoreFis, (char[]) keyStorePass);\n\n                                        if (keyStorePass != null) {\n                                            for (int i = 0; i &lt; keyStorePass.length; i++) {\n                                                keyStorePass[i] = 0;\n                                            }\n                                        }\n                                    }\n                                    return (KeyStore)localKeyStore;\n                                } finally {\n                                    if (trustStoreFis != null) {\n                                        trustStoreFis.close();\n                                    }\n                                }\n                            }\n\n                            private FileInputStream _getFileInputStream(File paramFile) throws Exception {\n                                if (paramFile.exists()) {\n                                    return new FileInputStream(paramFile);\n                                }\n                                return null;\n                            }\n\n                        };\n\n                    }\n\n                });\n\n            }\n\n        };//Socket\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","exception","initialization"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1650190710,"post_id":71901010,"comment_id":127054409,"body_markdown":"Please format your code to make it readable. Also make it a habit to give your variables a value right when you declare them (`double age = 0.0;` above the `while` loop).","body":"Please format your code to make it readable. Also make it a habit to give your variables a value right when you declare them (<code>double age = 0.0;</code> above the <code>while</code> loop)."},{"owner":{"account_id":24924127,"reputation":27,"user_id":18792117,"display_name":"Alanzhou"},"score":0,"creation_date":1650190954,"post_id":71901010,"comment_id":127054449,"body_markdown":"Hi JustAnotherDeveloper. Thanks for the suggestion. I have approved the improved edit suggested by the system itself. It should look readable now.","body":"Hi JustAnotherDeveloper. Thanks for the suggestion. I have approved the improved edit suggested by the system itself. It should look readable now."}],"answers":[{"tags":[],"owner":{"account_id":5826684,"reputation":2011,"user_id":4592796,"accept_rate":70,"display_name":"harry-potter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650191912,"creation_date":1650191368,"answer_id":71901120,"question_id":71901010,"body_markdown":"The problem is that if your code enters the following lines of code, the variable age will not actually be valued:\r\n\r\n         catch (NumberFormatException e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Input Error. &quot;+ &quot;Please enter a number corresponding to your age only.&quot;, &quot;error&quot;, JOptionPane.ERROR_MESSAGE);\r\n        }\r\n\r\nJava checks at compile time whether all variables have been correctly initialised. If the compiler considers that a variable may not have been initialised before the next instruction, this error is obtained. \r\n\r\nYou can solve this problem by simply initialising the variable:\r\n\r\n         catch (NumberFormatException e) {\r\n            age = 0D;\r\n            JOptionPane.showMessageDialog(null, &quot;Input Error. &quot;+ &quot;Please enter a number corresponding to your age only.&quot;, &quot;error&quot;, JOptionPane.ERROR_MESSAGE);\r\n        }\r\n\r\nBut I think that the proper way is:\r\n\r\n         catch (NumberFormatException e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Input Error. &quot;+ &quot;Please enter a number corresponding to your age only.&quot;, &quot;error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            continue;\r\n        }\r\n\r\n\r\nRegarding your second question, concerning the\r\n`showMessageDialog`, you can read in the [documentation][1] that:\r\n\r\n    public static void showMessageDialog(Component parentComponent, Object message) throws HeadlessException\r\n        Brings up an information-message dialog titled &quot;Message&quot;.\r\n        Parameters:\r\n            * parentComponent - determines the Frame in which the dialog is displayed; if null, or if the parentComponent has no Frame, a default Frame is used\r\n            * message - the Object to display\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JOptionPane.html#showMessageDialog(java.awt.Component,java.lang.Object)","title":"The error &quot;The local variable age may not have been initialized&quot; occurs as a result of attempting to catch more than one exceptions","body":"<p>The problem is that if your code enters the following lines of code, the variable age will not actually be valued:</p>\n<pre><code>     catch (NumberFormatException e) {\n        JOptionPane.showMessageDialog(null, &quot;Input Error. &quot;+ &quot;Please enter a number corresponding to your age only.&quot;, &quot;error&quot;, JOptionPane.ERROR_MESSAGE);\n    }\n</code></pre>\n<p>Java checks at compile time whether all variables have been correctly initialised. If the compiler considers that a variable may not have been initialised before the next instruction, this error is obtained.</p>\n<p>You can solve this problem by simply initialising the variable:</p>\n<pre><code>     catch (NumberFormatException e) {\n        age = 0D;\n        JOptionPane.showMessageDialog(null, &quot;Input Error. &quot;+ &quot;Please enter a number corresponding to your age only.&quot;, &quot;error&quot;, JOptionPane.ERROR_MESSAGE);\n    }\n</code></pre>\n<p>But I think that the proper way is:</p>\n<pre><code>     catch (NumberFormatException e) {\n        JOptionPane.showMessageDialog(null, &quot;Input Error. &quot;+ &quot;Please enter a number corresponding to your age only.&quot;, &quot;error&quot;, JOptionPane.ERROR_MESSAGE);\n        continue;\n    }\n</code></pre>\n<p>Regarding your second question, concerning the\n<code>showMessageDialog</code>, you can read in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JOptionPane.html#showMessageDialog(java.awt.Component,java.lang.Object)\" rel=\"nofollow noreferrer\">documentation</a> that:</p>\n<pre><code>public static void showMessageDialog(Component parentComponent, Object message) throws HeadlessException\n    Brings up an information-message dialog titled &quot;Message&quot;.\n    Parameters:\n        * parentComponent - determines the Frame in which the dialog is displayed; if null, or if the parentComponent has no Frame, a default Frame is used\n        * message - the Object to display\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650191444,"creation_date":1650191444,"answer_id":71901130,"question_id":71901010,"body_markdown":"Let&#39;s say someone enters &quot;hello&quot; in the popup. The `JOptionPane.showInputDialog` method returns just fine, and `&quot;Hello&quot;` is handed to `Double.parseDouble`. This causes `NumberFormatException` to be thrown, and thus code switches to the catch block.\r\n\r\nThis catch block will print a message about needing to enter a number and then.. code just continues. After all, catching means you handle it (if you want to do something but then continue with the exception process, then re-throw it, or do something else to affect control flow, such as `continue;` which you DO do in the NullPointer catch block!)\r\n\r\nCode continues into `if (age &lt; 0)` and this code cannot be executed as `age` is unset in this case. The compiler knows this and will refuse to compile it.\r\n\r\nThe primary solution here seems to be to write control flow such that the `if (age &lt; 0)` block is never ever &#39;hit&#39; if the user doesn&#39;t enter a number in the first place. You know how - you&#39;re doing it with a while loop and that `continue;` statement in the other catch block.\r\n\r\nAlternatively, pick an age that functions as a default or placeholder to indicate the user hasn&#39;t entered something yet. But that doesn&#39;t sound like the best solution for this case - you don&#39;t want to process the age until the user actually enters one.\r\n","title":"The error &quot;The local variable age may not have been initialized&quot; occurs as a result of attempting to catch more than one exceptions","body":"<p>Let's say someone enters &quot;hello&quot; in the popup. The <code>JOptionPane.showInputDialog</code> method returns just fine, and <code>&quot;Hello&quot;</code> is handed to <code>Double.parseDouble</code>. This causes <code>NumberFormatException</code> to be thrown, and thus code switches to the catch block.</p>\n<p>This catch block will print a message about needing to enter a number and then.. code just continues. After all, catching means you handle it (if you want to do something but then continue with the exception process, then re-throw it, or do something else to affect control flow, such as <code>continue;</code> which you DO do in the NullPointer catch block!)</p>\n<p>Code continues into <code>if (age &lt; 0)</code> and this code cannot be executed as <code>age</code> is unset in this case. The compiler knows this and will refuse to compile it.</p>\n<p>The primary solution here seems to be to write control flow such that the <code>if (age &lt; 0)</code> block is never ever 'hit' if the user doesn't enter a number in the first place. You know how - you're doing it with a while loop and that <code>continue;</code> statement in the other catch block.</p>\n<p>Alternatively, pick an age that functions as a default or placeholder to indicate the user hasn't entered something yet. But that doesn't sound like the best solution for this case - you don't want to process the age until the user actually enters one.</p>\n"},{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650191447,"creation_date":1650191447,"answer_id":71901132,"question_id":71901010,"body_markdown":"Try to move all the age validation login inside the `try` block, where the `age` variable is 100% defined. Like that:\r\n```\r\ntry {\r\n    // here you initialise the &quot;age&quot; variable\r\n    final double age = Double.parseDouble(JOptionPane.showInputDialog(null, &quot;please enter your age and we will define your age group&quot;));\r\n    \r\n    // here you work with the &quot;age&quot; variable\r\n    if (age &lt; 0) JOptionPane.showMessageDialog(null, &quot;Warning!Negative values cannot hold true.&quot;,\r\n                    &quot;warning&quot;, JOptionPane.WARNING_MESSAGE);\r\n    else if (age &lt;= 0.1) JOptionPane.showMessageDialog(null, &quot;You are a newborn.&quot;);\r\n    else if (age &lt;= 1) JOptionPane.showMessageDialog(null, &quot;You are an infant.&quot;);\r\n    else if (age &lt;= 3) JOptionPane.showMessageDialog(null, &quot;You are a toddler.&quot;);\r\n    else if (age &lt;= 5) JOptionPane.showMessageDialog(null, &quot;You are a preschooler.&quot;);\r\n    else if (age &lt;= 13) JOptionPane.showMessageDialog(null, &quot;You are a school-aged child.&quot;);\r\n    else if (age &lt;= 19) JOptionPane.showMessageDialog(null, &quot;You are an adolescent and a denarian.&quot;);\r\n    else if (age &lt;= 29) JOptionPane.showMessageDialog(null, &quot;You are a vicenarian.&quot;);\r\n    else if (age &lt;= 39) JOptionPane.showMessageDialog(null, &quot;You are a tricenarian.&quot;);\r\n    else if (age &lt;= 49) JOptionPane.showMessageDialog(null, &quot;You are a quadragenarian.&quot;);\r\n    else if (age &lt;= 59) JOptionPane.showMessageDialog(null, &quot;You are a quinquagenarian.&quot;);\r\n    else if (age &lt;= 69) JOptionPane.showMessageDialog(null, &quot;You are a sexagenarian.&quot;);\r\n    else if (age &lt;= 79) JOptionPane.showMessageDialog(null, &quot;You are a septuagenarian.&quot;);\r\n    else if (age &lt;= 89) JOptionPane.showMessageDialog(null, &quot;You are a octogenarian.&quot;);\r\n    else if (age &lt;= 99) JOptionPane.showMessageDialog(null, &quot;You are a nonagenarian.&quot;);\r\n    else if (age &lt;= 109) JOptionPane.showMessageDialog(null, &quot;You are a centenarian.&quot;);\r\n    else if (age &lt;= 150) JOptionPane.showMessageDialog(null, &quot;You are a supercentenarian.&quot;);\r\n    else if (age &gt; 150)\r\n                JOptionPane.showMessageDialog(null, &quot;Warning!The value entered is too large to be processed.&quot;, &quot;warning&quot;, JOptionPane.WARNING_MESSAGE);\r\n} catch (NumberFormatException e) {\r\n     JOptionPane.showMessageDialog(null, &quot;Input Error. &quot;\r\n                        + &quot;Please enter a number corresponding to your age only.&quot;, &quot;error&quot;, JOptionPane.ERROR_MESSAGE);\r\n} catch (NullPointerException e) {\r\n    JOptionPane.showMessageDialog(null, &quot;Program canceled.&quot;);\r\n                continue;\r\n}\r\n            ","title":"The error &quot;The local variable age may not have been initialized&quot; occurs as a result of attempting to catch more than one exceptions","body":"<p>Try to move all the age validation login inside the <code>try</code> block, where the <code>age</code> variable is 100% defined. Like that:</p>\n<pre><code>try {\n    // here you initialise the &quot;age&quot; variable\n    final double age = Double.parseDouble(JOptionPane.showInputDialog(null, &quot;please enter your age and we will define your age group&quot;));\n    \n    // here you work with the &quot;age&quot; variable\n    if (age &lt; 0) JOptionPane.showMessageDialog(null, &quot;Warning!Negative values cannot hold true.&quot;,\n                    &quot;warning&quot;, JOptionPane.WARNING_MESSAGE);\n    else if (age &lt;= 0.1) JOptionPane.showMessageDialog(null, &quot;You are a newborn.&quot;);\n    else if (age &lt;= 1) JOptionPane.showMessageDialog(null, &quot;You are an infant.&quot;);\n    else if (age &lt;= 3) JOptionPane.showMessageDialog(null, &quot;You are a toddler.&quot;);\n    else if (age &lt;= 5) JOptionPane.showMessageDialog(null, &quot;You are a preschooler.&quot;);\n    else if (age &lt;= 13) JOptionPane.showMessageDialog(null, &quot;You are a school-aged child.&quot;);\n    else if (age &lt;= 19) JOptionPane.showMessageDialog(null, &quot;You are an adolescent and a denarian.&quot;);\n    else if (age &lt;= 29) JOptionPane.showMessageDialog(null, &quot;You are a vicenarian.&quot;);\n    else if (age &lt;= 39) JOptionPane.showMessageDialog(null, &quot;You are a tricenarian.&quot;);\n    else if (age &lt;= 49) JOptionPane.showMessageDialog(null, &quot;You are a quadragenarian.&quot;);\n    else if (age &lt;= 59) JOptionPane.showMessageDialog(null, &quot;You are a quinquagenarian.&quot;);\n    else if (age &lt;= 69) JOptionPane.showMessageDialog(null, &quot;You are a sexagenarian.&quot;);\n    else if (age &lt;= 79) JOptionPane.showMessageDialog(null, &quot;You are a septuagenarian.&quot;);\n    else if (age &lt;= 89) JOptionPane.showMessageDialog(null, &quot;You are a octogenarian.&quot;);\n    else if (age &lt;= 99) JOptionPane.showMessageDialog(null, &quot;You are a nonagenarian.&quot;);\n    else if (age &lt;= 109) JOptionPane.showMessageDialog(null, &quot;You are a centenarian.&quot;);\n    else if (age &lt;= 150) JOptionPane.showMessageDialog(null, &quot;You are a supercentenarian.&quot;);\n    else if (age &gt; 150)\n                JOptionPane.showMessageDialog(null, &quot;Warning!The value entered is too large to be processed.&quot;, &quot;warning&quot;, JOptionPane.WARNING_MESSAGE);\n} catch (NumberFormatException e) {\n     JOptionPane.showMessageDialog(null, &quot;Input Error. &quot;\n                        + &quot;Please enter a number corresponding to your age only.&quot;, &quot;error&quot;, JOptionPane.ERROR_MESSAGE);\n} catch (NullPointerException e) {\n    JOptionPane.showMessageDialog(null, &quot;Program canceled.&quot;);\n                continue;\n}\n            \n</code></pre>\n"}],"owner":{"account_id":24924127,"reputation":27,"user_id":18792117,"display_name":"Alanzhou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71901132,"answer_count":3,"score":1,"last_activity_date":1650191912,"creation_date":1650190306,"question_id":71901010,"body_markdown":"The error &quot;The local variable age may not have been initialized&quot; occurs as a result of attempting to catch more than one exceptions.\r\n\r\nHi. After the previous question has been resolved, I decided to make a small alteration to the program by using JOptionPane to transform printing in the console to a simple GUI, and a new error has occurred. I tried to catch two specific exceptions named NumberFormatException and NullPointerException. NumberFormatException occurs as a result of inputting characters other than numbers in the blank space of JOptionPane.showMessageDialog, since the variable has been declared as double. NullPointerException occurs as a result of clicking the X sign or cancel button.\r\nIn order to catch NullPointerException, I added some extra code following NumberFormatException.\r\nHowever, when testing running the program, the following error occurs in the console as a result:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\tThe local variable age may not have been initialized\r\n\r\n\tat Welcome.main(Welcome.java:10)\r\n\r\nActually, in the beginning of the class I have already declared the variable age as double, despite this, the error of &#39;may not have been initialized&#39; persists. Could you please provide a solution to this error? The error will not occur if the code catch(NullPointerException e){JOptionPane.showMessageDialog(null,&quot;Program canceled.&quot;) does not exist. \r\n\r\nBy the way, in addition to the main question, could you please also explain the meaning and usage of &#39;null&#39; inside the parentheses of JOptionPane.showMessageDialog. Thanks a lot.\r\nMy code is as follows:\r\n\r\n    import javax.swing.*;\r\n    \r\n    public class Welcome {\r\n        public static void main(String[] args) {\r\n            double age;\r\n            while (true) {\r\n                try {\r\n                    age = Double.parseDouble(JOptionPane.showInputDialog(null, &quot;please enter your age and we will define your age group&quot;));\r\n                } catch (NumberFormatException e) {\r\n                    JOptionPane.showMessageDialog(null, &quot;Input Error. &quot;\r\n                            + &quot;Please enter a number corresponding to your age only.&quot;, &quot;error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                } catch (NullPointerException e) {\r\n                    JOptionPane.showMessageDialog(null, &quot;Program canceled.&quot;);\r\n                    continue;\r\n                }\r\n                if (age &lt; 0) JOptionPane.showMessageDialog(null, &quot;Warning!Negative values cannot hold true.&quot;,\r\n                        &quot;warning&quot;, JOptionPane.WARNING_MESSAGE);\r\n                else if (age &lt;= 0.1) JOptionPane.showMessageDialog(null, &quot;You are a newborn.&quot;);\r\n                else if (age &lt;= 1) JOptionPane.showMessageDialog(null, &quot;You are an infant.&quot;);\r\n                else if (age &lt;= 3) JOptionPane.showMessageDialog(null, &quot;You are a toddler.&quot;);\r\n                else if (age &lt;= 5) JOptionPane.showMessageDialog(null, &quot;You are a preschooler.&quot;);\r\n                else if (age &lt;= 13) JOptionPane.showMessageDialog(null, &quot;You are a school-aged child.&quot;);\r\n                else if (age &lt;= 19) JOptionPane.showMessageDialog(null, &quot;You are an adolescent and a denarian.&quot;);\r\n                else if (age &lt;= 29) JOptionPane.showMessageDialog(null, &quot;You are a vicenarian.&quot;);\r\n                else if (age &lt;= 39) JOptionPane.showMessageDialog(null, &quot;You are a tricenarian.&quot;);\r\n                else if (age &lt;= 49) JOptionPane.showMessageDialog(null, &quot;You are a quadragenarian.&quot;);\r\n                else if (age &lt;= 59) JOptionPane.showMessageDialog(null, &quot;You are a quinquagenarian.&quot;);\r\n                else if (age &lt;= 69) JOptionPane.showMessageDialog(null, &quot;You are a sexagenarian.&quot;);\r\n                else if (age &lt;= 79) JOptionPane.showMessageDialog(null, &quot;You are a septuagenarian.&quot;);\r\n                else if (age &lt;= 89) JOptionPane.showMessageDialog(null, &quot;You are a octogenarian.&quot;);\r\n                else if (age &lt;= 99) JOptionPane.showMessageDialog(null, &quot;You are a nonagenarian.&quot;);\r\n                else if (age &lt;= 109) JOptionPane.showMessageDialog(null, &quot;You are a centenarian.&quot;);\r\n                else if (age &lt;= 150) JOptionPane.showMessageDialog(null, &quot;You are a supercentenarian.&quot;);\r\n                else if (age &gt; 150)\r\n                    JOptionPane.showMessageDialog(null, &quot;Warning!The value entered is too large to be processed.&quot;, &quot;warning&quot;, JOptionPane.WARNING_MESSAGE);\r\n            }\r\n        }\r\n    }","title":"The error &quot;The local variable age may not have been initialized&quot; occurs as a result of attempting to catch more than one exceptions","body":"<p>The error &quot;The local variable age may not have been initialized&quot; occurs as a result of attempting to catch more than one exceptions.</p>\n<p>Hi. After the previous question has been resolved, I decided to make a small alteration to the program by using JOptionPane to transform printing in the console to a simple GUI, and a new error has occurred. I tried to catch two specific exceptions named NumberFormatException and NullPointerException. NumberFormatException occurs as a result of inputting characters other than numbers in the blank space of JOptionPane.showMessageDialog, since the variable has been declared as double. NullPointerException occurs as a result of clicking the X sign or cancel button.\nIn order to catch NullPointerException, I added some extra code following NumberFormatException.\nHowever, when testing running the program, the following error occurs in the console as a result:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\nThe local variable age may not have been initialized\n\nat Welcome.main(Welcome.java:10)\n</code></pre>\n<p>Actually, in the beginning of the class I have already declared the variable age as double, despite this, the error of 'may not have been initialized' persists. Could you please provide a solution to this error? The error will not occur if the code catch(NullPointerException e){JOptionPane.showMessageDialog(null,&quot;Program canceled.&quot;) does not exist.</p>\n<p>By the way, in addition to the main question, could you please also explain the meaning and usage of 'null' inside the parentheses of JOptionPane.showMessageDialog. Thanks a lot.\nMy code is as follows:</p>\n<pre><code>import javax.swing.*;\n\npublic class Welcome {\n    public static void main(String[] args) {\n        double age;\n        while (true) {\n            try {\n                age = Double.parseDouble(JOptionPane.showInputDialog(null, &quot;please enter your age and we will define your age group&quot;));\n            } catch (NumberFormatException e) {\n                JOptionPane.showMessageDialog(null, &quot;Input Error. &quot;\n                        + &quot;Please enter a number corresponding to your age only.&quot;, &quot;error&quot;, JOptionPane.ERROR_MESSAGE);\n            } catch (NullPointerException e) {\n                JOptionPane.showMessageDialog(null, &quot;Program canceled.&quot;);\n                continue;\n            }\n            if (age &lt; 0) JOptionPane.showMessageDialog(null, &quot;Warning!Negative values cannot hold true.&quot;,\n                    &quot;warning&quot;, JOptionPane.WARNING_MESSAGE);\n            else if (age &lt;= 0.1) JOptionPane.showMessageDialog(null, &quot;You are a newborn.&quot;);\n            else if (age &lt;= 1) JOptionPane.showMessageDialog(null, &quot;You are an infant.&quot;);\n            else if (age &lt;= 3) JOptionPane.showMessageDialog(null, &quot;You are a toddler.&quot;);\n            else if (age &lt;= 5) JOptionPane.showMessageDialog(null, &quot;You are a preschooler.&quot;);\n            else if (age &lt;= 13) JOptionPane.showMessageDialog(null, &quot;You are a school-aged child.&quot;);\n            else if (age &lt;= 19) JOptionPane.showMessageDialog(null, &quot;You are an adolescent and a denarian.&quot;);\n            else if (age &lt;= 29) JOptionPane.showMessageDialog(null, &quot;You are a vicenarian.&quot;);\n            else if (age &lt;= 39) JOptionPane.showMessageDialog(null, &quot;You are a tricenarian.&quot;);\n            else if (age &lt;= 49) JOptionPane.showMessageDialog(null, &quot;You are a quadragenarian.&quot;);\n            else if (age &lt;= 59) JOptionPane.showMessageDialog(null, &quot;You are a quinquagenarian.&quot;);\n            else if (age &lt;= 69) JOptionPane.showMessageDialog(null, &quot;You are a sexagenarian.&quot;);\n            else if (age &lt;= 79) JOptionPane.showMessageDialog(null, &quot;You are a septuagenarian.&quot;);\n            else if (age &lt;= 89) JOptionPane.showMessageDialog(null, &quot;You are a octogenarian.&quot;);\n            else if (age &lt;= 99) JOptionPane.showMessageDialog(null, &quot;You are a nonagenarian.&quot;);\n            else if (age &lt;= 109) JOptionPane.showMessageDialog(null, &quot;You are a centenarian.&quot;);\n            else if (age &lt;= 150) JOptionPane.showMessageDialog(null, &quot;You are a supercentenarian.&quot;);\n            else if (age &gt; 150)\n                JOptionPane.showMessageDialog(null, &quot;Warning!The value entered is too large to be processed.&quot;, &quot;warning&quot;, JOptionPane.WARNING_MESSAGE);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","web-scraping","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":2513243,"reputation":397,"user_id":2185196,"display_name":"Nischitha K N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1619007811,"creation_date":1619007811,"answer_id":67195876,"question_id":67189967,"body_markdown":"Sometimes with some Windows version driver.quit() will not kill the chrome process which I have come across.\r\nSo at the end of the script you can kill the chrome processes if exists using java code, if the driver.quit doesn&#39;t work. \r\n\r\nPlease refer [stackoverflow][1] link which has the code to kill the process if exists in Java and pass the chrome process to it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/81902/how-to-find-and-kill-running-win-processes-from-within-java#:~:text=You%20can%20use%20command%20line,exec()%20.&amp;text=You%20could%20use%20a%20command,SysInternals%20PsKill%20and%20SysInternals%20PsList.","title":"How to fix [WARNING]: Timed out connecting to Chrome, retrying","body":"<p>Sometimes with some Windows version driver.quit() will not kill the chrome process which I have come across.\nSo at the end of the script you can kill the chrome processes if exists using java code, if the driver.quit doesn't work.</p>\n<p>Please refer <a href=\"https://stackoverflow.com/questions/81902/how-to-find-and-kill-running-win-processes-from-within-java#:%7E:text=You%20can%20use%20command%20line,exec()%20.&amp;text=You%20could%20use%20a%20command,SysInternals%20PsKill%20and%20SysInternals%20PsList.\">stackoverflow</a> link which has the code to kill the process if exists in Java and pass the chrome process to it.</p>\n"},{"tags":[],"owner":{"account_id":6404353,"reputation":13,"user_id":12391619,"display_name":"Roo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619008683,"creation_date":1619008683,"answer_id":67196117,"question_id":67189967,"body_markdown":"i found a workaround for anyone who would be interested. First setting up a pageLoadTimeout, after that force any chrome instance to  be killed if an Exception is being thrown.\r\n\r\n     try{\r\n    driver.manage().timeouts().pageLoadTimeout(10, TimeUnit.SECONDS);\r\n    //some excecution code....\r\n    }\r\n\r\n    catch (Exception e) {\r\n            System.out.println(&quot;Error. Closing&quot;);\r\n            driver.quit();\r\n            Runtime.getRuntime().exec(&quot;taskkill /F /IM chrome.exe&quot;);}\r\n","title":"How to fix [WARNING]: Timed out connecting to Chrome, retrying","body":"<p>i found a workaround for anyone who would be interested. First setting up a pageLoadTimeout, after that force any chrome instance to  be killed if an Exception is being thrown.</p>\n<pre><code> try{\ndriver.manage().timeouts().pageLoadTimeout(10, TimeUnit.SECONDS);\n//some excecution code....\n}\n\ncatch (Exception e) {\n        System.out.println(&quot;Error. Closing&quot;);\n        driver.quit();\n        Runtime.getRuntime().exec(&quot;taskkill /F /IM chrome.exe&quot;);}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13307136,"reputation":11,"user_id":9606559,"display_name":"Bardia Namjoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650191765,"creation_date":1650191765,"answer_id":71901160,"question_id":67189967,"body_markdown":"    timerChromeKillListener = new Timer();\r\n    timerChromeKillListener.schedule(new TimerTask()\r\n    {\r\n        @Override\r\n        public void run()\r\n        {\r\n            if (driver != null)\r\n            {\r\n                try\r\n                {\r\n                    final Logs logs = driver.manage().logs();\r\n                    final LogEntries driverLog = logs.get(&quot;driver&quot;);\r\n                    if (driverLog != null)\r\n                    {\r\n                        final List&lt;LogEntry&gt; logEntries = driverLog.getAll();\r\n                        for (final LogEntry logEntry : logEntries)\r\n                        {\r\n                            final String message = logEntry.getMessage();\r\n                            if (message.contains(&quot;Unable to evaluate script: disconnected: not connected to DevTools&quot;) || message.contains(&quot;Timed out connecting to Chrome, retrying...&quot;))\r\n                            {\r\n                                disconnect();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                catch (Exception ignored)\r\n                {\r\n                }\r\n            }\r\n        }\r\n    } , 1 , 100);","title":"How to fix [WARNING]: Timed out connecting to Chrome, retrying","body":"<pre><code>timerChromeKillListener = new Timer();\ntimerChromeKillListener.schedule(new TimerTask()\n{\n    @Override\n    public void run()\n    {\n        if (driver != null)\n        {\n            try\n            {\n                final Logs logs = driver.manage().logs();\n                final LogEntries driverLog = logs.get(&quot;driver&quot;);\n                if (driverLog != null)\n                {\n                    final List&lt;LogEntry&gt; logEntries = driverLog.getAll();\n                    for (final LogEntry logEntry : logEntries)\n                    {\n                        final String message = logEntry.getMessage();\n                        if (message.contains(&quot;Unable to evaluate script: disconnected: not connected to DevTools&quot;) || message.contains(&quot;Timed out connecting to Chrome, retrying...&quot;))\n                        {\n                            disconnect();\n                        }\n                    }\n                }\n            }\n            catch (Exception ignored)\n            {\n            }\n        }\n    }\n} , 1 , 100);\n</code></pre>\n"}],"owner":{"account_id":6404353,"reputation":13,"user_id":12391619,"display_name":"Roo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1973,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67195876,"answer_count":3,"score":0,"last_activity_date":1650191765,"creation_date":1618984324,"question_id":67189967,"body_markdown":"I access Websites in a loop via selenium Java based. Some of the sites crash imediately so that i get the error\r\n\r\n    [1618982990.911][WARNING]: Timed out connecting to Chrome, retrying...\r\n\r\nafter a short time. \r\n\r\nSo this is not a selenium issue i assume, since even chrome crashes if i visit the site manually because of js errors, saying unresonsive Website\r\n\r\nMy problem is, that every time a site crashes, chromedriver and a chrome instance will stay alive so that i have high CPU usage after a short time.\r\n\r\nCan i tell selenium to quit the instance if it is frozen? But i dont know how this should be possible if it does not get answer from chrome anymore?\r\n\r\nThankful for any solution or idea\r\n","title":"How to fix [WARNING]: Timed out connecting to Chrome, retrying","body":"<p>I access Websites in a loop via selenium Java based. Some of the sites crash imediately so that i get the error</p>\n<pre><code>[1618982990.911][WARNING]: Timed out connecting to Chrome, retrying...\n</code></pre>\n<p>after a short time.</p>\n<p>So this is not a selenium issue i assume, since even chrome crashes if i visit the site manually because of js errors, saying unresonsive Website</p>\n<p>My problem is, that every time a site crashes, chromedriver and a chrome instance will stay alive so that i have high CPU usage after a short time.</p>\n<p>Can i tell selenium to quit the instance if it is frozen? But i dont know how this should be possible if it does not get answer from chrome anymore?</p>\n<p>Thankful for any solution or idea</p>\n"},{"tags":["java","mysql","user-interface","javafx","jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649538048,"post_id":71811807,"comment_id":126902417,"body_markdown":"Got to say that if you&#39;re using MySql with it, then it sounds like you need an installer, not an executable jar file","body":"Got to say that if you&#39;re using MySql with it, then it sounds like you need an installer, not an executable jar file"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1649583929,"post_id":71811807,"comment_id":126908246,"body_markdown":"work through a decent tutorial on how to deploy javafx applications (the tag wiki has a section with references). Apply what you learned, when still stuck, edit your question and add concrete details of what you did and what doesn&#39;t work as expected.","body":"work through a decent tutorial on how to deploy javafx applications (the tag wiki has a section with references). Apply what you learned, when still stuck, edit your question and add concrete details of what you did and what doesn&#39;t work as expected."}],"answers":[{"tags":[],"owner":{"account_id":16621987,"reputation":217,"user_id":12012015,"display_name":"ADSquared"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650191497,"creation_date":1650191497,"answer_id":71901136,"question_id":71811807,"body_markdown":"I am not familiar with eclipse, however I have ran into similar issues deploying apps with Intellij, and most of the issues were caused by altered files upon being exported or missing librairies.\r\n\r\nFirst, make sure that the external libraries your program uses are bundled with your app and are configured correctly when you export the project into a jar file. One solution is to use gradle or maven to handle dependencies and deployment. More info on Maven [HERE][1]\r\n\r\nSecond when exporting the project, and again this applies to Intellij and maven, the MANIFEST.MF file in the META.INF folder sometimes gets corrupted for some reason and doesn&#39;t point to the right class. In the IDE it points to your Main class but once exported for some reason unbeknownst to me, it points elsewhere and you have to manually update the file after it is exported. You can use a program like Winrar to check the contents of your jar file and to make sure that every file has the right content.\r\n\r\nI made an entire series (Very poor quality) on how to deploy a javaFX app with maven and Intellij because so many people run into the same issues, myself included. The series covers making a runnable .jar file, packaging it into a .exe file with the JRE and dependencies bundled and finally making it into an installer for distribution. You can find it [Here][2]  \r\n\r\nIf you want more help we are going to need more info however. I don&#39;t think the fact you are using a MySQL database or the JBDC connector is relevant to your issue. Your issue is configuring and exporting your project.\r\n\r\nGood luck\r\n\r\n  [1]: https://maven.apache.org/what-is-maven.html\r\n  [2]: https://www.youtube.com/watch?v=IoPXzopsmpE","title":"In eclipse, I select create runnable jar file, but the file generated is normal jar","body":"<p>I am not familiar with eclipse, however I have ran into similar issues deploying apps with Intellij, and most of the issues were caused by altered files upon being exported or missing librairies.</p>\n<p>First, make sure that the external libraries your program uses are bundled with your app and are configured correctly when you export the project into a jar file. One solution is to use gradle or maven to handle dependencies and deployment. More info on Maven <a href=\"https://maven.apache.org/what-is-maven.html\" rel=\"nofollow noreferrer\">HERE</a></p>\n<p>Second when exporting the project, and again this applies to Intellij and maven, the MANIFEST.MF file in the META.INF folder sometimes gets corrupted for some reason and doesn't point to the right class. In the IDE it points to your Main class but once exported for some reason unbeknownst to me, it points elsewhere and you have to manually update the file after it is exported. You can use a program like Winrar to check the contents of your jar file and to make sure that every file has the right content.</p>\n<p>I made an entire series (Very poor quality) on how to deploy a javaFX app with maven and Intellij because so many people run into the same issues, myself included. The series covers making a runnable .jar file, packaging it into a .exe file with the JRE and dependencies bundled and finally making it into an installer for distribution. You can find it <a href=\"https://www.youtube.com/watch?v=IoPXzopsmpE\" rel=\"nofollow noreferrer\">Here</a></p>\n<p>If you want more help we are going to need more info however. I don't think the fact you are using a MySQL database or the JBDC connector is relevant to your issue. Your issue is configuring and exporting your project.</p>\n<p>Good luck</p>\n"}],"owner":{"account_id":16267454,"reputation":1,"user_id":11747067,"display_name":"Pedro Pinto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650191497,"creation_date":1649537482,"question_id":71811807,"body_markdown":"I have seen tutorials wherein the generated files properties it is meant to say: executable jar file, however, mine solely says .jar file.\r\n\r\nI use JavaFX and scene builder to create a program, as well as MySQL and JDBC with MySQL workbench.\r\n\r\nI have attempted to create a batch (.bat) file with the following line: `java -jar RecipeMemory.jar`, with RecipeMemory being the name of the .jar file I created.\r\n\r\nThe program runs when executed in the eclipse IDE, however I receive the following errors when attempting to run it in the command prompt.\r\n\r\n```\r\n\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @615227bb&#39;\r\nGraphics Device initialization failed for :  d3d, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        at com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:254)\r\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:264)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\r\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n        at java.base/java.lang.Thread.run(Thread.java:831)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n        ... 1 more\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61)\r\nCaused by: java.lang.RuntimeException: No toolkit found\r\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:276)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\r\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n        at java.base/java.lang.Thread.run(Thread.java:831)\r\n```\r\n\r\nResearch into similar problems has only shown me examples which show this error when run from the IDE and offer solutions to fix the module-info.java file however my file already contains the information included in the solutions I have seen.\r\n\r\nI will link my full code in my github.\r\n\r\nhttps://github.com/Pedro105/RecipeTracker.git\r\n\r\n\r\nnote: when I exported the project I set the launch configuration to Main, which was the only option that appeared.\r\n","title":"In eclipse, I select create runnable jar file, but the file generated is normal jar","body":"<p>I have seen tutorials wherein the generated files properties it is meant to say: executable jar file, however, mine solely says .jar file.</p>\n<p>I use JavaFX and scene builder to create a program, as well as MySQL and JDBC with MySQL workbench.</p>\n<p>I have attempted to create a batch (.bat) file with the following line: <code>java -jar RecipeMemory.jar</code>, with RecipeMemory being the name of the .jar file I created.</p>\n<p>The program runs when executed in the eclipse IDE, however I receive the following errors when attempting to run it in the command prompt.</p>\n<pre><code>\nWARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @615227bb'\nGraphics Device initialization failed for :  d3d, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:254)\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:264)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n        at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n        ... 1 more\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61)\nCaused by: java.lang.RuntimeException: No toolkit found\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:276)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n        at java.base/java.lang.Thread.run(Thread.java:831)\n</code></pre>\n<p>Research into similar problems has only shown me examples which show this error when run from the IDE and offer solutions to fix the module-info.java file however my file already contains the information included in the solutions I have seen.</p>\n<p>I will link my full code in my github.</p>\n<p><a href=\"https://github.com/Pedro105/RecipeTracker.git\" rel=\"nofollow noreferrer\">https://github.com/Pedro105/RecipeTracker.git</a></p>\n<p>note: when I exported the project I set the launch configuration to Main, which was the only option that appeared.</p>\n"},{"tags":["java","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1650179302,"post_id":71898746,"comment_id":127052655,"body_markdown":"This: `&lt;version&gt;RELEASE&lt;/version&gt;` will not work...remove this because you are using a parent ...","body":"This: <code>&lt;version&gt;RELEASE&lt;&#47;version&gt;</code> will not work...remove this because you are using a parent ..."}],"answers":[{"tags":[],"owner":{"account_id":8801988,"reputation":121,"user_id":6577784,"display_name":"MIN"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1650181533,"creation_date":1650166482,"answer_id":71899096,"question_id":71898746,"body_markdown":"You should NOT use task jar in IntelliJ like that:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nInstead, we can build jar by this command: `./mvnw clean package`\r\n\r\nAnd start service as usual:  `java -jar demo-0.0.1-SNAPSHOT.jar` \r\n\r\nUpdate: Also can use package in IntelliJ:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Up3yv.png\r\n  [2]: https://i.stack.imgur.com/UH50R.png","title":"Spring Boot create .jar file (Maven)","body":"<p>You should NOT use task jar in IntelliJ like that:\n<a href=\"https://i.stack.imgur.com/Up3yv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Up3yv.png\" alt=\"enter image description here\" /></a></p>\n<p>Instead, we can build jar by this command: <code>./mvnw clean package</code></p>\n<p>And start service as usual:  <code>java -jar demo-0.0.1-SNAPSHOT.jar</code></p>\n<p>Update: Also can use package in IntelliJ:\n<a href=\"https://i.stack.imgur.com/UH50R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UH50R.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11190019,"reputation":1300,"user_id":8210794,"accept_rate":100,"display_name":"Ahmet Aziz Beşli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71899096,"answer_count":1,"score":1,"last_activity_date":1650190999,"creation_date":1650160622,"question_id":71898746,"body_markdown":"I did not want to ask this question but I tried all the possible solutions on the StackOverFlow. With all the codes I tried the problem was:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mUxhY.png\r\n\r\nHere is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.ahmetbesli&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;nobet&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;name&gt;nobetci&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.5.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;20190722&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nI am trying to create the jar file with Intellij build artifacts.\r\n\r\nI tried to add maven plugin for creating jar file.\r\nI tried to define the mainClass also. But it didn&#39;t work.\r\n\r\nhttps://stackoverflow.com/questions/53584533/spring-boot-maven-how-to-create-executable-jar-with-main-class\r\n\r\nhttps://stackoverflow.com/questions/46226654/create-jar-of-maven-spring-boot-project\r\n\r\nhttps://stackoverflow.com/questions/62650732/build-jar-and-run-spring-boot-from-cmd\r\n\r\nThanks for your help.","title":"Spring Boot create .jar file (Maven)","body":"<p>I did not want to ask this question but I tried all the possible solutions on the StackOverFlow. With all the codes I tried the problem was:</p>\n<p><a href=\"https://i.stack.imgur.com/mUxhY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mUxhY.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ahmetbesli&lt;/groupId&gt;\n    &lt;artifactId&gt;nobet&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;nobetci&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20190722&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I am trying to create the jar file with Intellij build artifacts.</p>\n<p>I tried to add maven plugin for creating jar file.\nI tried to define the mainClass also. But it didn't work.</p>\n<p><a href=\"https://stackoverflow.com/questions/53584533/spring-boot-maven-how-to-create-executable-jar-with-main-class\">spring-boot Maven: How to create executable jar with main class?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/46226654/create-jar-of-maven-spring-boot-project\">Create Jar of maven spring boot project</a></p>\n<p><a href=\"https://stackoverflow.com/questions/62650732/build-jar-and-run-spring-boot-from-cmd\">Build jar and run spring boot from cmd</a></p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1650120208,"post_id":71894356,"comment_id":127043732,"body_markdown":"see [Setting default values to null fields when mapping with Jackson](//stackoverflow.com/q/18805455)","body":"see <a href=\"//stackoverflow.com/q/18805455\">Setting default values to null fields when mapping with Jackson</a>"},{"owner":{"account_id":9911493,"reputation":38,"user_id":7338044,"display_name":"Vova"},"score":0,"creation_date":1650120623,"post_id":71894356,"comment_id":127043828,"body_markdown":"@Tom I have tried but it is not working.","body":"@Tom I have tried but it is not working."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1650121331,"post_id":71894356,"comment_id":127043984,"body_markdown":"@Vova What do you mean? What did you try? And what were the results? Please [edit] your question to include more details.","body":"@Vova What do you mean? What did you try? And what were the results? Please <a href=\"https://stackoverflow.com/posts/71894356/edit\">edit</a> your question to include more details."},{"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"score":0,"creation_date":1650121397,"post_id":71894356,"comment_id":127043998,"body_markdown":"It doesn&#39;t work because country code is not null, but is empty string. Try to use @JsonSetter to implement the method that will handle null or empty string","body":"It doesn&#39;t work because country code is not null, but is empty string. Try to use @JsonSetter to implement the method that will handle null or empty string"},{"owner":{"account_id":9911493,"reputation":38,"user_id":7338044,"display_name":"Vova"},"score":0,"creation_date":1650122591,"post_id":71894356,"comment_id":127044304,"body_markdown":"@mpdgr could you desribe how to do this in right way? Thank you.","body":"@mpdgr could you desribe how to do this in right way? Thank you."},{"owner":{"account_id":9911493,"reputation":38,"user_id":7338044,"display_name":"Vova"},"score":0,"creation_date":1650122917,"post_id":71894356,"comment_id":127044405,"body_markdown":"@Code-Apprentice i tried to set    @JsonInclude(JsonInclude.Include.NON_EMPTY) for class. And result was that value were empty instead of default value. Also tried to set         @JsonSetter(contentNulls = JsonSetter.Nulls.AS_EMPTY) but it just skips it and set the defualt value in any way.","body":"@Code-Apprentice i tried to set    @JsonInclude(JsonInclude.Include.NON_EMPTY) for class. And result was that value were empty instead of default value. Also tried to set         @JsonSetter(contentNulls = JsonSetter.Nulls.AS_EMPTY) but it just skips it and set the defualt value in any way."},{"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"score":0,"creation_date":1650123249,"post_id":71894356,"comment_id":127044480,"body_markdown":"I thought about exactly the same solution Rakib descibed below","body":"I thought about exactly the same solution Rakib descibed below"},{"owner":{"account_id":9911493,"reputation":38,"user_id":7338044,"display_name":"Vova"},"score":0,"creation_date":1650125569,"post_id":71894356,"comment_id":127044981,"body_markdown":"@mpdgr so the only way its the defenite the all setters in the pojo class, corect?","body":"@mpdgr so the only way its the defenite the all setters in the pojo class, corect?"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1650126359,"post_id":71894356,"comment_id":127045137,"body_markdown":"@Vova You could also write your own JSON parser, Jackson allows you to do that and provides tools for doing so. But you don&#39;t really want that.","body":"@Vova You could also write your own JSON parser, Jackson allows you to do that and provides tools for doing so. But you don&#39;t really want that."},{"owner":{"account_id":9911493,"reputation":38,"user_id":7338044,"display_name":"Vova"},"score":0,"creation_date":1650127323,"post_id":71894356,"comment_id":127045337,"body_markdown":"@mpdgr got you)))","body":"@mpdgr got you)))"}],"answers":[{"tags":[],"owner":{"account_id":2480954,"reputation":317,"user_id":2160443,"display_name":"Rakib Hasan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1650189860,"creation_date":1650121266,"answer_id":71894977,"question_id":71894356,"body_markdown":"We can make the JSON setter like the below:\r\n\r\n```\r\n@JsonSetter(&quot;CountryCode&quot;)\r\npublic void setCountryCode (String countryCode) {\r\n    if (!countryCode.equals(null) &amp;&amp; !countryCode.equals(&quot;&quot;)) { \r\n        this.countryCode = countryCode; \r\n    }\r\n}\r\n```\r\nI think it will serve your requirement. If not work, let us know the details.\r\n\r\nRef: [reference][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41965174/2160443","title":"java jackson set default value","body":"<p>We can make the JSON setter like the below:</p>\n<pre><code>@JsonSetter(&quot;CountryCode&quot;)\npublic void setCountryCode (String countryCode) {\n    if (!countryCode.equals(null) &amp;&amp; !countryCode.equals(&quot;&quot;)) { \n        this.countryCode = countryCode; \n    }\n}\n</code></pre>\n<p>I think it will serve your requirement. If not work, let us know the details.</p>\n<p>Ref: <a href=\"https://stackoverflow.com/a/41965174/2160443\">reference</a></p>\n"}],"owner":{"account_id":9911493,"reputation":38,"user_id":7338044,"display_name":"Vova"},"comment_count":10,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2012,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1650121456,"accepted_answer_id":71894977,"answer_count":1,"score":0,"last_activity_date":1650189860,"creation_date":1650116374,"question_id":71894356,"body_markdown":"I am using Java and Jackson library to parse a JSON file to a Java class. My problem is that I can&#39;t set a default value if the value is null or empty. Is it possible to do it? For now, I just write it in the setters section.\r\n\r\nFor example, I have a JSON file \r\n\r\n```json\r\n{&quot;CountryCode&quot;: &quot;&quot;,\r\n  &quot;sourceName&quot;: &quot;&quot;,\r\n  &quot;from&quot;: &quot;type1&quot;,\r\n  &quot;to&quot;: &quot;type2&quot;}\r\n```\r\n\r\nAnd in my Java class I would like to set the value to some Java function if it is null or empty.\r\n\r\nFor example\r\n\r\n```java\r\npublic class ExClass{\r\n    @JsonProperty(&quot;CountryCode&quot;)\r\n    private String countryCode = &quot;USA&quot;;\r\n}\r\n```\r\n\r\nSo, if the value is set, then it will be it. If it is not, then it should be USA.\r\n","title":"java jackson set default value","body":"<p>I am using Java and Jackson library to parse a JSON file to a Java class. My problem is that I can't set a default value if the value is null or empty. Is it possible to do it? For now, I just write it in the setters section.</p>\n<p>For example, I have a JSON file</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;CountryCode&quot;: &quot;&quot;,\n  &quot;sourceName&quot;: &quot;&quot;,\n  &quot;from&quot;: &quot;type1&quot;,\n  &quot;to&quot;: &quot;type2&quot;}\n</code></pre>\n<p>And in my Java class I would like to set the value to some Java function if it is null or empty.</p>\n<p>For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExClass{\n    @JsonProperty(&quot;CountryCode&quot;)\n    private String countryCode = &quot;USA&quot;;\n}\n</code></pre>\n<p>So, if the value is set, then it will be it. If it is not, then it should be USA.</p>\n"},{"tags":["java","file-io","bufferedreader","java-io"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650189915,"post_id":24838495,"comment_id":127054255,"body_markdown":"There is no [tag:nio] here. Don&#39;t tag indiscriminately.","body":"There is no <a href=\"https://stackoverflow.com/questions/tagged/nio\">nio</a> here. Don&#39;t tag indiscriminately."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1405762422,"creation_date":1405761599,"answer_id":24838759,"question_id":24838495,"body_markdown":"The simple solution is to output each line as you get it (not save it in an array and then send/write it), or every 1000 lines as you get them.  This way you only read the file in one go. The less line you hold in memory, the less memory you use.\r\n\r\nNote: the only way to read to from line N is to read N lines and ignore them.  This would become increasingly expensive as the file get larger.\r\n\r\nSay you have a method which translates a line of CSV into JSon.\r\n\r\n    try(BufferedReader br = new BufferedReader(new FileReader(infile));\r\n        PrintWriter bw = new PrintWriter(new FileWriter(outfile))) {\r\n        for(String line; (line = br.readLine()) != null;) {\r\n            String json = process(line);\r\n            bw.println(json);\r\n        }\r\n    }\r\n\r\nThis will only need enough memory for one line of CSV and one line of JSON, no matter how big the file is.\r\n","title":"Read a set of lines from a file using BufferedReader","body":"<p>The simple solution is to output each line as you get it (not save it in an array and then send/write it), or every 1000 lines as you get them.  This way you only read the file in one go. The less line you hold in memory, the less memory you use.</p>\n\n<p>Note: the only way to read to from line N is to read N lines and ignore them.  This would become increasingly expensive as the file get larger.</p>\n\n<p>Say you have a method which translates a line of CSV into JSon.</p>\n\n<pre><code>try(BufferedReader br = new BufferedReader(new FileReader(infile));\n    PrintWriter bw = new PrintWriter(new FileWriter(outfile))) {\n    for(String line; (line = br.readLine()) != null;) {\n        String json = process(line);\n        bw.println(json);\n    }\n}\n</code></pre>\n\n<p>This will only need enough memory for one line of CSV and one line of JSON, no matter how big the file is.</p>\n"}],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24838759,"answer_count":1,"score":0,"last_activity_date":1650189859,"creation_date":1405759581,"question_id":24838495,"body_markdown":"I have one large CSV file of around 1.6 GB and I am trying to read that file and create JSON array of these lines and send it to other consumables processes.\r\n\r\nI have the following code\r\n   \r\n\r\n    while(consumeover){\r\n        try (BufferedReader br = new BufferedReader(new FileReader\r\n                                    (&quot;/my/path/largefile&quot;),65536)) {\r\n             for (String line; (line = br.readLine()) != null;) {\r\n             String[] dataRow = line.split(&quot;\\\\|&quot;);\r\n             //create json array\r\n             //add each dataRow element to array  \r\n             }\r\n        }\r\n       }\r\n\r\nNow what is happening is above code reads entire file and creates json array which throws &quot;Out of Memory&quot; error. I want to read set of lines say 1000 lines every time I create json array. How do I set my last read position to i+1000? As file is very large, Java is throwing out of memory because of data arrays getting created.\r\n","title":"Read a set of lines from a file using BufferedReader","body":"<p>I have one large CSV file of around 1.6 GB and I am trying to read that file and create JSON array of these lines and send it to other consumables processes.</p>\n<p>I have the following code</p>\n<pre><code>while(consumeover){\n    try (BufferedReader br = new BufferedReader(new FileReader\n                                (&quot;/my/path/largefile&quot;),65536)) {\n         for (String line; (line = br.readLine()) != null;) {\n         String[] dataRow = line.split(&quot;\\\\|&quot;);\n         //create json array\n         //add each dataRow element to array  \n         }\n    }\n   }\n</code></pre>\n<p>Now what is happening is above code reads entire file and creates json array which throws &quot;Out of Memory&quot; error. I want to read set of lines say 1000 lines every time I create json array. How do I set my last read position to i+1000? As file is very large, Java is throwing out of memory because of data arrays getting created.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1650210052,"post_id":71900942,"comment_id":127058188,"body_markdown":"Are you [_Deploying an Application as a Module_](https://stackoverflow.com/search?q=%5Bjavafx%5D+Deploying+an+Application+as+a+Module)?","body":"Are you <a href=\"https://stackoverflow.com/search?q=%5Bjavafx%5D+Deploying+an+Application+as+a+Module\"><i>Deploying an Application as a Module</i></a>?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1650216343,"post_id":71900942,"comment_id":127059551,"body_markdown":"Sounds like a module-info.java issue. That&#39;s assuming your project uses `module-Info.java`.","body":"Sounds like a module-info.java issue. That&#39;s assuming your project uses <code>module-Info.java</code>."},{"owner":{"account_id":24972347,"reputation":1,"user_id":18835398,"display_name":"kefirius"},"score":0,"creation_date":1650217369,"post_id":71900942,"comment_id":127059778,"body_markdown":"I also thought that my problem arose because of `module-Info.java` , but I have no idea how I can fix it @Sedrick","body":"I also thought that my problem arose because of <code>module-Info.java</code> , but I have no idea how I can fix it @Sedrick"},{"owner":{"account_id":24972347,"reputation":1,"user_id":18835398,"display_name":"kefirius"},"score":0,"creation_date":1650217531,"post_id":71900942,"comment_id":127059815,"body_markdown":"I think not. To be honest, I don&#39;t really understand what you&#39;re talking about, because I&#39;m still not well versed in java @trashgod","body":"I think not. To be honest, I don&#39;t really understand what you&#39;re talking about, because I&#39;m still not well versed in java @trashgod"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1650220220,"post_id":71900942,"comment_id":127060362,"body_markdown":"Look at the image [here](https://user-images.githubusercontent.com/7428930/52966126-7e517000-3374-11e9-9c1a-ed66deabeb45.png). It looks like you need the line `javafx.base/com.sum.javafx.event to org.controlsfx.controls;` in module-info.java. I am not sure how to represent it there. Unforutnlaly, with JavaFX you can no longer simply concentrate on your code. You have to jump through hoops for things like this and to create executable Jars.","body":"Look at the image <a href=\"https://user-images.githubusercontent.com/7428930/52966126-7e517000-3374-11e9-9c1a-ed66deabeb45.png\" rel=\"nofollow noreferrer\">here</a>. It looks like you need the line <code>javafx.base&#47;com.sum.javafx.event to org.controlsfx.controls;</code> in module-info.java. I am not sure how to represent it there. Unforutnlaly, with JavaFX you can no longer simply concentrate on your code. You have to jump through hoops for things like this and to create executable Jars."}],"owner":{"account_id":24972347,"reputation":1,"user_id":18835398,"display_name":"kefirius"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650189731,"creation_date":1650189731,"question_id":71900942,"body_markdown":"when I call AutoCompletePopup, I see this error:\r\n`Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalAccessError: class com.example.ontology.add_ps$1 (in module com.example.ontology) cannot access class impl.org.controlsfx.skin.AutoCompletePopup (in module org.controlsfx.controls) because module org.controlsfx.controls does not export impl.org.controlsfx.skin to module com.example.ontology`\r\nhow can I fix this?\r\n(I connected controlsfx via maven. Maybe I need to add a new VM option?)","title":"error when trying to use AutoCompletePopup","body":"<p>when I call AutoCompletePopup, I see this error:\n<code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalAccessError: class com.example.ontology.add_ps$1 (in module com.example.ontology) cannot access class impl.org.controlsfx.skin.AutoCompletePopup (in module org.controlsfx.controls) because module org.controlsfx.controls does not export impl.org.controlsfx.skin to module com.example.ontology</code>\nhow can I fix this?\n(I connected controlsfx via maven. Maybe I need to add a new VM option?)</p>\n"},{"tags":["java","swing","combobox","jcombobox"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650188150,"post_id":71900718,"comment_id":127053987,"body_markdown":"No time for detail but what you need is a Model that is boolean and you need a *renderer* (google it) that gives you radio buttons - two quite different and distinct parts to carry out","body":"No time for detail but what you need is a Model that is boolean and you need a <i>renderer</i> (google it) that gives you radio buttons - two quite different and distinct parts to carry out"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1650204067,"post_id":71900718,"comment_id":127056868,"body_markdown":"The model can hold any type of data so there is no need to change the model. However, yes, you do need a custom renderer to paint the data in the model. So there is only one issue to solve. Read the section from the Swing tutorial on [Providing a custom renderer](https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#renderer). Note, you will also need to add an ActionListener to the combo box to change the state of the radio button when it is clicked.","body":"The model can hold any type of data so there is no need to change the model. However, yes, you do need a custom renderer to paint the data in the model. So there is only one issue to solve. Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#renderer\" rel=\"nofollow noreferrer\">Providing a custom renderer</a>. Note, you will also need to add an ActionListener to the combo box to change the state of the radio button when it is clicked."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1650212086,"post_id":71900718,"comment_id":127058644,"body_markdown":"**Use a JMenu containing JCheckBoxMenuItems** instead of a JComboBox.  You are misusing JComboBox and you are misusing JRadioButtons.  JRadioButtons are explicitly designed to allow **only one** in a group to be selected at any time.  Even if you force them to work differently, you will end up confusing users of the application, who expect that something which looks like a radio button actually behaves like a radio button.  And while it is possible to embed components in a JComboBox, JComboBox is not designed to work that way.","body":"<b>Use a JMenu containing JCheckBoxMenuItems</b> instead of a JComboBox.  You are misusing JComboBox and you are misusing JRadioButtons.  JRadioButtons are explicitly designed to allow <b>only one</b> in a group to be selected at any time.  Even if you force them to work differently, you will end up confusing users of the application, who expect that something which looks like a radio button actually behaves like a radio button.  And while it is possible to embed components in a JComboBox, JComboBox is not designed to work that way."}],"owner":{"account_id":20291048,"reputation":101,"user_id":15284073,"display_name":"Aryan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650189289,"creation_date":1650187194,"question_id":71900718,"body_markdown":"I need to make a JComboBox that is filled with JRadioButtons as its entries. So it looks like a drop down box that has several JRadioButtons in it that can be chosen. So I used the following code :\r\n\r\n    JComboBox&lt;JRadioButton&gt; deg=new JComboBox();\r\n    DefaultComboBoxModel&lt;JRadioButton&gt; degModel=new DefaultComboBoxModel&lt;&gt;();\r\n    degModel.addElement(new JRadioButton(&quot;This Button));\r\n    deg.setModel(degModel);\r\n\r\nSo naturally, I would expect a drop down menu of JRadioButtons but instead I happen to see something like this :  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSo it seems like for some reason, the entry type of the JComboBox hasn&#39;t changed although I tried to set the types to JRadioButtons and it&#39;s still trying to make a JComboBox of String datatypes and hence is showing the toString of the mentioned JRadioButton.\r\n  \r\nI also found [this link][2] related to the issue but it&#39;s only an option on NetBeans (as far as I know) and it&#39;s quite weird how changing a built-in compiler option is related to the functionality of a certain class.  \r\n\r\nCan anyone help me fix this? Any help would be appreciated!  \r\n(I also need the JRadioButton to change isSelected when clicked on)  \r\nP.S. : Any alternative to JComboBox in this case is also appreciated.  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ghpEb.png\r\n  [2]: https://stackoverflow.com/questions/43892438/netbeans-java-swing-how-can-i-change-the-datatype-of-jcombobox-items","title":"Changing datatypes of JComboBox elements","body":"<p>I need to make a JComboBox that is filled with JRadioButtons as its entries. So it looks like a drop down box that has several JRadioButtons in it that can be chosen. So I used the following code :</p>\n<pre><code>JComboBox&lt;JRadioButton&gt; deg=new JComboBox();\nDefaultComboBoxModel&lt;JRadioButton&gt; degModel=new DefaultComboBoxModel&lt;&gt;();\ndegModel.addElement(new JRadioButton(&quot;This Button));\ndeg.setModel(degModel);\n</code></pre>\n<p>So naturally, I would expect a drop down menu of JRadioButtons but instead I happen to see something like this :</p>\n<p><a href=\"https://i.stack.imgur.com/ghpEb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ghpEb.png\" alt=\"enter image description here\" /></a></p>\n<p>So it seems like for some reason, the entry type of the JComboBox hasn't changed although I tried to set the types to JRadioButtons and it's still trying to make a JComboBox of String datatypes and hence is showing the toString of the mentioned JRadioButton.</p>\n<p>I also found <a href=\"https://stackoverflow.com/questions/43892438/netbeans-java-swing-how-can-i-change-the-datatype-of-jcombobox-items\">this link</a> related to the issue but it's only an option on NetBeans (as far as I know) and it's quite weird how changing a built-in compiler option is related to the functionality of a certain class.</p>\n<p>Can anyone help me fix this? Any help would be appreciated!<br />\n(I also need the JRadioButton to change isSelected when clicked on)<br />\nP.S. : Any alternative to JComboBox in this case is also appreciated.</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":1454346,"reputation":67,"user_id":1370393,"accept_rate":0,"display_name":"user1370393"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650188360,"creation_date":1449582741,"answer_id":34157653,"question_id":33760867,"body_markdown":"There is count method available.\r\nIt&#39;s accepts Bson filter. So after getting the collection object, you can directly put the count function.\r\n\r\n    MongoCollection&lt;Document&gt; collection = db.getCollection(collectionName);\r\n    long totalFilteredRecords = collection.count(&quot;field&quot;,&quot;value&quot;);","title":"FindIterable&lt;Document&gt; how to get total records in a result of a query","body":"<p>There is count method available.\nIt's accepts Bson filter. So after getting the collection object, you can directly put the count function.</p>\n<pre><code>MongoCollection&lt;Document&gt; collection = db.getCollection(collectionName);\nlong totalFilteredRecords = collection.count(&quot;field&quot;,&quot;value&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4546782,"reputation":11,"user_id":3693142,"display_name":"user3693142"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469113221,"creation_date":1469113221,"answer_id":38507722,"question_id":33760867,"body_markdown":"You can use this :\r\n\r\n    (mongo).getCollection().count(findArgs);","title":"FindIterable&lt;Document&gt; how to get total records in a result of a query","body":"<p>You can use this :</p>\n\n<pre><code>(mongo).getCollection().count(findArgs);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2509609,"reputation":90,"user_id":2182418,"accept_rate":100,"display_name":"AACaN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509220239,"creation_date":1509220239,"answer_id":46993828,"question_id":33760867,"body_markdown":"While this question is old and you may have already found your answer, i&#39;ll post this to a newbie like myself who&#39;s struggling something as small as this.\r\nWithout any Querying you can directly use &quot;Count&quot;\r\n\r\n    mongoClient = new MongoClient(&quot;localhost&quot;, 27017);\r\n    \t\t\t  DB db = mongoClient.getDB(&quot;DatabaseName&quot;);\r\n    \t\t\t  DBCollection coll = db.getCollection(&quot;CollectionName&quot;);\r\n    \t\t\t  long count = coll.count();\r\n\r\nHope it helps! ","title":"FindIterable&lt;Document&gt; how to get total records in a result of a query","body":"<p>While this question is old and you may have already found your answer, i'll post this to a newbie like myself who's struggling something as small as this.\nWithout any Querying you can directly use \"Count\"</p>\n\n<pre><code>mongoClient = new MongoClient(\"localhost\", 27017);\n              DB db = mongoClient.getDB(\"DatabaseName\");\n              DBCollection coll = db.getCollection(\"CollectionName\");\n              long count = coll.count();\n</code></pre>\n\n<p>Hope it helps! </p>\n"},{"tags":[],"owner":{"account_id":13514912,"reputation":438,"user_id":9749861,"display_name":"B.Z."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540844125,"creation_date":1540842492,"answer_id":53052769,"question_id":33760867,"body_markdown":"`MongoCollection.count()` is deprecated in the newer version. You can use:\r\n\r\n    long result = collection.countDocuments(findArgs);\r\n\r\ne.g.\r\n\r\n    long result = collection.countDocuments(eq(&quot;_id&quot;, idValue));","title":"FindIterable&lt;Document&gt; how to get total records in a result of a query","body":"<p><code>MongoCollection.count()</code> is deprecated in the newer version. You can use:</p>\n\n<pre><code>long result = collection.countDocuments(findArgs);\n</code></pre>\n\n<p>e.g.</p>\n\n<pre><code>long result = collection.countDocuments(eq(\"_id\", idValue));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3063506,"reputation":359,"user_id":2595714,"accept_rate":17,"display_name":"Eduardo Mayer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562357032,"creation_date":1562357032,"answer_id":56908714,"question_id":33760867,"body_markdown":"FindIterable is basically an iterator. Iterators do not know the total size of the elements they will return. The best way I have found to do this is to create a single &quot;query map&quot; but with two query operations (a find and a count).\r\n\r\nSomething like this (groovy):\r\n\r\n    Map query = [_id: [$in:idList]]\r\n    \r\n    FindIterable userList = User.collection.find(query).skip(offset).limit(max)\r\n    \r\n    Integer totalCount = User.collection.count(query)\r\n\r\nI know that this was not what you where after, but I believe what you want is not possible.\r\n\r\nAnother way would be to use aggregation (mongodb version 3.4+), but not sure if that would be better for you. [Here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39784851/2595714","title":"FindIterable&lt;Document&gt; how to get total records in a result of a query","body":"<p>FindIterable is basically an iterator. Iterators do not know the total size of the elements they will return. The best way I have found to do this is to create a single \"query map\" but with two query operations (a find and a count).</p>\n\n<p>Something like this (groovy):</p>\n\n<pre><code>Map query = [_id: [$in:idList]]\n\nFindIterable userList = User.collection.find(query).skip(offset).limit(max)\n\nInteger totalCount = User.collection.count(query)\n</code></pre>\n\n<p>I know that this was not what you where after, but I believe what you want is not possible.</p>\n\n<p>Another way would be to use aggregation (mongodb version 3.4+), but not sure if that would be better for you. <a href=\"https://stackoverflow.com/a/39784851/2595714\">Here</a></p>\n"},{"tags":[],"owner":{"account_id":16846071,"reputation":11,"user_id":12180219,"display_name":"JieYuan Shen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570509259,"creation_date":1570509259,"answer_id":58280235,"question_id":33760867,"body_markdown":"This is an old question. A typical answer is to use the count() method. However it&#39;s not always a preferred method considering performance.\r\n\r\nTo execute count() method, the MongoDB server has to iterate over all the documents that matches the filter. It will be extremely slow and uses lots of load if the total-matching document number is large, and the winning plan is not an optimal one.\r\n\r\nA common strategy, is to projection the result to help MongoDB optimize winning plan. Thus, very likely, the winning plan is an optimal one. It will faster than pure count().\r\n\r\nThen, using Iterable size method (e.g. the one from *guava*), the code looks like:\r\n```\r\nIterable&lt;?&gt; it = table.find(filterBson).projection(new Document(&quot;_id&quot;, 1));\r\nint count = Iterables.size(it);\r\n```","title":"FindIterable&lt;Document&gt; how to get total records in a result of a query","body":"<p>This is an old question. A typical answer is to use the count() method. However it's not always a preferred method considering performance.</p>\n\n<p>To execute count() method, the MongoDB server has to iterate over all the documents that matches the filter. It will be extremely slow and uses lots of load if the total-matching document number is large, and the winning plan is not an optimal one.</p>\n\n<p>A common strategy, is to projection the result to help MongoDB optimize winning plan. Thus, very likely, the winning plan is an optimal one. It will faster than pure count().</p>\n\n<p>Then, using Iterable size method (e.g. the one from <em>guava</em>), the code looks like:</p>\n\n<pre><code>Iterable&lt;?&gt; it = table.find(filterBson).projection(new Document(\"_id\", 1));\nint count = Iterables.size(it);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7828980,"reputation":945,"user_id":5919734,"display_name":"Dominic Giallombardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631329645,"creation_date":1630593088,"answer_id":69032295,"question_id":33760867,"body_markdown":"`int size = Iterators.size(cursor.iterator());`\r\n\r\nThey wanted a count of the records. cursor.iterator() gets you an iterator object. Iterators.size() gets you the count of records in the iterator.","title":"FindIterable&lt;Document&gt; how to get total records in a result of a query","body":"<p><code>int size = Iterators.size(cursor.iterator());</code></p>\n<p>They wanted a count of the records. cursor.iterator() gets you an iterator object. Iterators.size() gets you the count of records in the iterator.</p>\n"}],"owner":{"account_id":4406705,"reputation":2296,"user_id":3590895,"accept_rate":29,"display_name":"jeorfevre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14218,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":7,"score":9,"last_activity_date":1650188360,"creation_date":1447774430,"question_id":33760867,"body_markdown":"I was using mongo driver for java 2.x and passed to 3.1.\r\n`DBCursor` is deprecated and I had to use the `FindIterable&lt;Document&gt;` structure.\r\n\r\nWhen I perform a query \r\n\r\n    FindIterable&lt;Document&gt; cursor=(mongo).getCollection().find(findArgs).limit(10).skip(0);\r\n\r\n**I would like to get the count of the total number of records in the resultset with the query find in only one Query.**\r\n\r\n**How can I retrieve the count without performing another query?**\r\nI&#39;m not speaking of the 10 records in the limit but of the total number of records.\r\n\r\nI want to perform one query to retrieve count and find. I don&#39;t want to execute find and count. \r\n\r\nThanks","title":"FindIterable&lt;Document&gt; how to get total records in a result of a query","body":"<p>I was using mongo driver for java 2.x and passed to 3.1.\n<code>DBCursor</code> is deprecated and I had to use the <code>FindIterable&lt;Document&gt;</code> structure.</p>\n\n<p>When I perform a query </p>\n\n<pre><code>FindIterable&lt;Document&gt; cursor=(mongo).getCollection().find(findArgs).limit(10).skip(0);\n</code></pre>\n\n<p><strong>I would like to get the count of the total number of records in the resultset with the query find in only one Query.</strong></p>\n\n<p><strong>How can I retrieve the count without performing another query?</strong>\nI'm not speaking of the 10 records in the limit but of the total number of records.</p>\n\n<p>I want to perform one query to retrieve count and find. I don't want to execute find and count. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","exception","deployment","glassfish"],"owner":{"account_id":24880642,"reputation":11,"user_id":18753891,"display_name":"papperlapap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650187293,"creation_date":1650187293,"question_id":71900725,"body_markdown":"I&#39;ve got a Problem with Deploying my Code on my Glassfish Server. When trying to deploy I get this four Exceptions:\r\n\r\n\r\n    java.lang.IllegalAccessError: tried to access class sun.security.provider.SunEntries from class com.sun.crypto.provider.SunJCE\r\n    java.lang.IllegalStateException: Unable to perform operation: post construct on com.sun.enterprise.security.ssl.SSLUtils\r\n    java.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.sun.enterprise.security.SecurityLifecycle errors were found\r\n    java.lang.IllegalStateException: Unable to perform operation: resolve on com.sun.enterprise.security.SecurityLifecycle\r\n\r\nI am using Java SDK 1.8.0_322 and GlassFish 5.0.1.\r\n\r\nMy Code:\r\n```\r\npackage com.example.demo;\r\n\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\n\r\n@Path(&quot;/hello-world&quot;)\r\npublic class HelloResource {\r\n    @GET\r\n    @Produces(&quot;text/plain&quot;)\r\n    public String hello() {\r\n        return &quot;Hello, World!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nmy Pom File:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.SP1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nIf there is more Code you need pls, just ask. I am fairly new to this and so I dont know if I missed something basic/important.\r\n\r\n\r\nFrom what I am reading out of this Exceptions he is trying to access/write in a File that is not Included? But where is this needed and why?","title":"Deployment Exception with Java -&gt; Glassfish","body":"<p>I've got a Problem with Deploying my Code on my Glassfish Server. When trying to deploy I get this four Exceptions:</p>\n<pre><code>java.lang.IllegalAccessError: tried to access class sun.security.provider.SunEntries from class com.sun.crypto.provider.SunJCE\njava.lang.IllegalStateException: Unable to perform operation: post construct on com.sun.enterprise.security.ssl.SSLUtils\njava.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.sun.enterprise.security.SecurityLifecycle errors were found\njava.lang.IllegalStateException: Unable to perform operation: resolve on com.sun.enterprise.security.SecurityLifecycle\n</code></pre>\n<p>I am using Java SDK 1.8.0_322 and GlassFish 5.0.1.</p>\n<p>My Code:</p>\n<pre><code>package com.example.demo;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\n\n@Path(&quot;/hello-world&quot;)\npublic class HelloResource {\n    @GET\n    @Produces(&quot;text/plain&quot;)\n    public String hello() {\n        return &quot;Hello, World!&quot;;\n    }\n}\n</code></pre>\n<p>my Pom File:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.SP1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>If there is more Code you need pls, just ask. I am fairly new to this and so I dont know if I missed something basic/important.</p>\n<p>From what I am reading out of this Exceptions he is trying to access/write in a File that is not Included? But where is this needed and why?</p>\n"},{"tags":["java","json","concurrency","concurrentmodification"],"owner":{"account_id":6653192,"reputation":11,"user_id":5134566,"display_name":"Kajal Rawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650187286,"creation_date":1620141340,"question_id":67387513,"body_markdown":"I have to modify each value for key inside JSONObject and I&#39;m using recursion to iterate over JSONObject because it can be nested. But I&#39;m getting exception in `it.next()`\r\nI tried to change approach with foreach loop, fori and foreach with remainingkeys but not able to resolved.\r\n\r\n\r\n     Iterator&lt;String&gt; it = myList.iterator();\r\n                    while (it.hasNext()) {\r\n                        String value = it.next();\r\n                        jsonObject.put(value, newValue);\r\n                  }\r\n\r\nComplete Recursion method is something like this :\r\n\r\n   \r\n\r\n     public void handleJSON(Object input, Map&lt;String,Object&gt; result ){\r\n    if (input instanceof JSONObject) {\r\n      for (String key: ((JSONObject) input).keySet()) {\r\n        if (!(((JSONObject) input).get(key) instanceof JSONArray))\r\n          if (((JSONObject) input).get(key) instanceof JSONObject) {\r\n            handleJSONObject(((JSONObject) input).get(key), map);\r\n          } else {\r\n            Object value = ((JSONObject) input).get(key);\r\n            ((JSONObject) input).put(key, handleValue(value, map));\r\n          }\r\n        else\r\n          handleJSONObject(new JSONArray(((JSONObject) input).get(key).toString()), map);\r\n      }\r\n    \r\n    }\r\n    if (input instanceof JSONArray) {\r\n      for (int i = 0; i &lt; ((JSONArray) input).length(); i++) {\r\n        JSONObject jsonObject = ((JSONArray) input).getJSONObject(i);\r\n        handleJSONObject(jsonObject, map);\r\n      }\r\n    }\r\n    }\r\n\r\n\r\n","title":"Modifying JSONObject in java , getting exception of ConcurrentModificationException","body":"<p>I have to modify each value for key inside JSONObject and I'm using recursion to iterate over JSONObject because it can be nested. But I'm getting exception in <code>it.next()</code>\nI tried to change approach with foreach loop, fori and foreach with remainingkeys but not able to resolved.</p>\n<pre><code> Iterator&lt;String&gt; it = myList.iterator();\n                while (it.hasNext()) {\n                    String value = it.next();\n                    jsonObject.put(value, newValue);\n              }\n</code></pre>\n<p>Complete Recursion method is something like this :</p>\n<pre><code> public void handleJSON(Object input, Map&lt;String,Object&gt; result ){\nif (input instanceof JSONObject) {\n  for (String key: ((JSONObject) input).keySet()) {\n    if (!(((JSONObject) input).get(key) instanceof JSONArray))\n      if (((JSONObject) input).get(key) instanceof JSONObject) {\n        handleJSONObject(((JSONObject) input).get(key), map);\n      } else {\n        Object value = ((JSONObject) input).get(key);\n        ((JSONObject) input).put(key, handleValue(value, map));\n      }\n    else\n      handleJSONObject(new JSONArray(((JSONObject) input).get(key).toString()), map);\n  }\n\n}\nif (input instanceof JSONArray) {\n  for (int i = 0; i &lt; ((JSONArray) input).length(); i++) {\n    JSONObject jsonObject = ((JSONArray) input).getJSONObject(i);\n    handleJSONObject(jsonObject, map);\n  }\n}\n}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":18145453,"reputation":423,"user_id":13198830,"display_name":"Abhishek"},"score":0,"creation_date":1624017560,"post_id":68033997,"comment_id":120249037,"body_markdown":"Save the json file for it to get updated, you just changed the value of an object not in the local file","body":"Save the json file for it to get updated, you just changed the value of an object not in the local file"}],"answers":[{"tags":[],"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624015340,"creation_date":1624015340,"answer_id":68034275,"question_id":68033997,"body_markdown":"JSONObject is a represent of json that does not link to originally file.\r\nTo rewrite file you need to change values in `person` and write it to file.\r\n\r\n    person.put(&quot;city&quot;, &quot;BLR&quot;);\r\n    String jsonString = person.toString();\r\n    // write jsonString to file","title":"how to update json array in java with existing json array value using java. Value are not updating in external json file","body":"<p>JSONObject is a represent of json that does not link to originally file.\nTo rewrite file you need to change values in <code>person</code> and write it to file.</p>\n<pre><code>person.put(&quot;city&quot;, &quot;BLR&quot;);\nString jsonString = person.toString();\n// write jsonString to file\n</code></pre>\n"}],"owner":{"account_id":21986052,"reputation":1,"user_id":16260295,"display_name":"shubham vashishth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650187246,"creation_date":1624014120,"question_id":68033997,"body_markdown":"JSON file:\r\n[  \r\n  {  \r\n      &quot;name&quot;:&quot;John&quot;,\r\n      &quot;city&quot;:&quot;Berlin&quot;,\r\n      &quot;job&quot;:&quot;Teacher&quot;\r\n  },\r\n  {  \r\n      &quot;name&quot;:&quot;Mark&quot;,\r\n      &quot;city&quot;:&quot;Oslo&quot;,\r\n      &quot;job&quot;:&quot;Doctor&quot;\r\n  }\r\n]\r\n\r\n\r\nJSONParser parser = new JSONParser();\r\n\t\tJSONArray a = (JSONArray) parser.parse(new FileReader(&quot;F:\\\\file.json&quot;));\r\n\r\n\t\tfor (Object o : a) {\r\n\t\t\tJSONObject person = (JSONObject) o;\r\n\r\n\t\t\tString name = (String) person.get(&quot;name&quot;);\r\n\t\t\t\r\n\t\t\tif (name.equalsIgnoreCase(&quot;john&quot;)) {\r\n\t\t\t\tString name1 = (String) person.get(&quot;name&quot;);\r\n\t\t\t\tSystem.out.println(&quot;name1&quot; + name1);\r\n\r\n\t\t\t\tString city1 = (String) person.get(&quot;city&quot;);\r\n\t\t\t\tSystem.out.println(&quot;city1&quot; + city1);\r\n\r\n\t\t\t\tString job1 = (String) person.get(&quot;job&quot;);\r\n\t\t\t\tSystem.out.println(&quot;job1&quot; + job1);\t\r\n\t\t\t\t\r\n\t\t\t\tperson.put(&quot;city&quot;, &quot;BLR&quot;);\r\n\t\t\t\tString city2 = (String) person.get(&quot;city&quot;);\r\n\t\t\t\tSystem.out.println(&quot;city2&quot; + city2);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\nValue are not updating in Json external file","title":"how to update json array in java with existing json array value using java. Value are not updating in external json file","body":"<p>JSON file:\n[<br />\n{<br />\n&quot;name&quot;:&quot;John&quot;,\n&quot;city&quot;:&quot;Berlin&quot;,\n&quot;job&quot;:&quot;Teacher&quot;\n},\n{<br />\n&quot;name&quot;:&quot;Mark&quot;,\n&quot;city&quot;:&quot;Oslo&quot;,\n&quot;job&quot;:&quot;Doctor&quot;\n}\n]</p>\n<p>JSONParser parser = new JSONParser();\nJSONArray a = (JSONArray) parser.parse(new FileReader(&quot;F:\\file.json&quot;));</p>\n<pre><code>    for (Object o : a) {\n        JSONObject person = (JSONObject) o;\n\n        String name = (String) person.get(&quot;name&quot;);\n        \n        if (name.equalsIgnoreCase(&quot;john&quot;)) {\n            String name1 = (String) person.get(&quot;name&quot;);\n            System.out.println(&quot;name1&quot; + name1);\n\n            String city1 = (String) person.get(&quot;city&quot;);\n            System.out.println(&quot;city1&quot; + city1);\n\n            String job1 = (String) person.get(&quot;job&quot;);\n            System.out.println(&quot;job1&quot; + job1);  \n            \n            person.put(&quot;city&quot;, &quot;BLR&quot;);\n            String city2 = (String) person.get(&quot;city&quot;);\n            System.out.println(&quot;city2&quot; + city2);\n        }\n    }\n</code></pre>\n<p>Value are not updating in Json external file</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":970256,"reputation":892,"user_id":992940,"accept_rate":67,"display_name":"Dmitrii Bocharov"},"score":0,"creation_date":1609924994,"post_id":65593086,"comment_id":115970419,"body_markdown":"https://www.baeldung.com/jackson-object-mapper-tutorial","body":"<a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">baeldung.com/jackson-object-mapper-tutorial</a>"},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1609926421,"post_id":65593086,"comment_id":115970968,"body_markdown":"aside from all the good suggestions in the answers, you could use string replace with regex and that would not require any additional packages. although i can&#39;t give you the exact regex to fit your case.","body":"aside from all the good suggestions in the answers, you could use string replace with regex and that would not require any additional packages. although i can&#39;t give you the exact regex to fit your case."},{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1609953510,"post_id":65593086,"comment_id":115983646,"body_markdown":"I agree with @TomElias. Sometimes a tool like ObjectMapper to update just one string value in JSON is overkill. In addition to simple and standard string operations, you may take a look at this https://stackoverflow.com/questions/64422516/how-to-update-json-value-using-java/64424791#64424791","body":"I agree with @TomElias. Sometimes a tool like ObjectMapper to update just one string value in JSON is overkill. In addition to simple and standard string operations, you may take a look at this <a href=\"https://stackoverflow.com/questions/64422516/how-to-update-json-value-using-java/64424791#64424791\" title=\"how to update json value using java\">stackoverflow.com/questions/64422516/&hellip;</a>"},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1610007278,"post_id":65593086,"comment_id":115998323,"body_markdown":"a word of warning to everyone who loves JSON parsers so much:\n1) JSON mapping relies heavily on reflection. and that&#39;s very bad performance in high throughput systems.\n2) JSON serializers are often NOT thread safe. people usually use object mappers as singleton beans and that can be risky.","body":"a word of warning to everyone who loves JSON parsers so much: 1) JSON mapping relies heavily on reflection. and that&#39;s very bad performance in high throughput systems. 2) JSON serializers are often NOT thread safe. people usually use object mappers as singleton beans and that can be risky."}],"answers":[{"tags":[],"owner":{"account_id":2693254,"reputation":8153,"user_id":2325987,"accept_rate":91,"display_name":"A Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609925516,"creation_date":1609925516,"answer_id":65593270,"question_id":65593086,"body_markdown":"Try something like this. Below is both options to delete or update the data. Use com.fasterxml.jackson\r\n\r\n  \r\n\r\n      String tt = &quot;{   \\&quot;result\\&quot;:{      \\&quot;issue_date\\&quot;:\\&quot;20-02-2011\\&quot;,      \\&quot;father/husband\\&quot;:\\&quot;Chopra\\&quot;,      \\&quot;name\\&quot;:\\&quot;Variyar\\&quot;,       \\&quot;img\\&quot;:\\&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\\&quot;,      \\&quot;blood_group\\&quot;:\\&quot;\\&quot;,      \\&quot;dob\\&quot;:\\&quot;11-03-1981\\&quot;,      \\&quot;validity\\&quot;:{         \\&quot;non-transport\\&quot;:\\&quot;24-03-2010 to 23-02-2030\\&quot;,         \\&quot;transport\\&quot;:\\&quot;\\&quot;      },      \\&quot;cov_details\\&quot;:[         {            \\&quot;issue_date\\&quot;:\\&quot;UNIT OFFICE,TRICHY\\&quot;,            \\&quot;cov\\&quot;:\\&quot;NCWG\\&quot;         }      ],      \\&quot;dl_number\\&quot;:\\&quot;TN0290000784\\&quot;,      \\&quot;address\\&quot;:\\&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK\\&quot;   },   \\&quot;request_id\\&quot;:\\&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe\\&quot;,   \\&quot;status-code\\&quot;:\\&quot;101\\&quot;}&quot;;\r\n        \t ObjectMapper mapper = new ObjectMapper();\r\n        \t mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n        \t JsonFactory factory = mapper.getFactory();\r\n        \t JsonParser createParser = factory.createParser(tt);\r\n        \t JsonNode actualObj1 = mapper.readTree(createParser);\r\n    // if you just want to update\r\n        \t ((ObjectNode)((ObjectNode)actualObj1).get(&quot;result&quot;)).put(&quot;img&quot;, &quot;n/a&quot;); \r\n    // if you just want delete\r\n        \t ((ObjectNode)((ObjectNode)actualObj1).get(&quot;result&quot;)).remove(&quot;img&quot;);\r\n        \t System.out.println(actualObj1.toString());","title":"How to modify values inside JSON object in Java","body":"<p>Try something like this. Below is both options to delete or update the data. Use com.fasterxml.jackson</p>\n<pre><code>  String tt = &quot;{   \\&quot;result\\&quot;:{      \\&quot;issue_date\\&quot;:\\&quot;20-02-2011\\&quot;,      \\&quot;father/husband\\&quot;:\\&quot;Chopra\\&quot;,      \\&quot;name\\&quot;:\\&quot;Variyar\\&quot;,       \\&quot;img\\&quot;:\\&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\\&quot;,      \\&quot;blood_group\\&quot;:\\&quot;\\&quot;,      \\&quot;dob\\&quot;:\\&quot;11-03-1981\\&quot;,      \\&quot;validity\\&quot;:{         \\&quot;non-transport\\&quot;:\\&quot;24-03-2010 to 23-02-2030\\&quot;,         \\&quot;transport\\&quot;:\\&quot;\\&quot;      },      \\&quot;cov_details\\&quot;:[         {            \\&quot;issue_date\\&quot;:\\&quot;UNIT OFFICE,TRICHY\\&quot;,            \\&quot;cov\\&quot;:\\&quot;NCWG\\&quot;         }      ],      \\&quot;dl_number\\&quot;:\\&quot;TN0290000784\\&quot;,      \\&quot;address\\&quot;:\\&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK\\&quot;   },   \\&quot;request_id\\&quot;:\\&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe\\&quot;,   \\&quot;status-code\\&quot;:\\&quot;101\\&quot;}&quot;;\n         ObjectMapper mapper = new ObjectMapper();\n         mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n         JsonFactory factory = mapper.getFactory();\n         JsonParser createParser = factory.createParser(tt);\n         JsonNode actualObj1 = mapper.readTree(createParser);\n// if you just want to update\n         ((ObjectNode)((ObjectNode)actualObj1).get(&quot;result&quot;)).put(&quot;img&quot;, &quot;n/a&quot;); \n// if you just want delete\n         ((ObjectNode)((ObjectNode)actualObj1).get(&quot;result&quot;)).remove(&quot;img&quot;);\n         System.out.println(actualObj1.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20354853,"reputation":188,"user_id":14930632,"display_name":"CodeDead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609926607,"creation_date":1609925959,"answer_id":65593351,"question_id":65593086,"body_markdown":"You can use any of the popular Json serialization libraries to convert Java objects to Json and the other way around:\r\n\r\n* [Jackson][1]\r\n* [Moshi][2]\r\n* [Gson][3]\r\n\r\nIn the case of Jackson, your objects in Java would look something like this:\r\n```\r\npackage com.example;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n&quot;issue_date&quot;,\r\n&quot;cov&quot;\r\n})\r\npublic class CovDetail {\r\n\r\n@JsonProperty(&quot;issue_date&quot;)\r\nprivate String issueDate;\r\n@JsonProperty(&quot;cov&quot;)\r\nprivate String cov;\r\n@JsonIgnore\r\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n@JsonProperty(&quot;issue_date&quot;)\r\npublic String getIssueDate() {\r\nreturn issueDate;\r\n}\r\n\r\n@JsonProperty(&quot;issue_date&quot;)\r\npublic void setIssueDate(String issueDate) {\r\nthis.issueDate = issueDate;\r\n}\r\n\r\n@JsonProperty(&quot;cov&quot;)\r\npublic String getCov() {\r\nreturn cov;\r\n}\r\n\r\n@JsonProperty(&quot;cov&quot;)\r\npublic void setCov(String cov) {\r\nthis.cov = cov;\r\n}\r\n\r\n@JsonAnyGetter\r\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\r\nreturn this.additionalProperties;\r\n}\r\n\r\n@JsonAnySetter\r\npublic void setAdditionalProperty(String name, Object value) {\r\nthis.additionalProperties.put(name, value);\r\n}\r\n\r\n}\r\n```\r\n```\r\npackage com.example;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n&quot;result&quot;,\r\n&quot;request_id&quot;,\r\n&quot;status-code&quot;\r\n})\r\npublic class Result {\r\n\r\n@JsonProperty(&quot;result&quot;)\r\nprivate Result_ result;\r\n@JsonProperty(&quot;request_id&quot;)\r\nprivate String requestId;\r\n@JsonProperty(&quot;status-code&quot;)\r\nprivate String statusCode;\r\n@JsonIgnore\r\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n@JsonProperty(&quot;result&quot;)\r\npublic Result_ getResult() {\r\nreturn result;\r\n}\r\n\r\n@JsonProperty(&quot;result&quot;)\r\npublic void setResult(Result_ result) {\r\nthis.result = result;\r\n}\r\n\r\n@JsonProperty(&quot;request_id&quot;)\r\npublic String getRequestId() {\r\nreturn requestId;\r\n}\r\n\r\n@JsonProperty(&quot;request_id&quot;)\r\npublic void setRequestId(String requestId) {\r\nthis.requestId = requestId;\r\n}\r\n\r\n@JsonProperty(&quot;status-code&quot;)\r\npublic String getStatusCode() {\r\nreturn statusCode;\r\n}\r\n\r\n@JsonProperty(&quot;status-code&quot;)\r\npublic void setStatusCode(String statusCode) {\r\nthis.statusCode = statusCode;\r\n}\r\n\r\n@JsonAnyGetter\r\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\r\nreturn this.additionalProperties;\r\n}\r\n\r\n@JsonAnySetter\r\npublic void setAdditionalProperty(String name, Object value) {\r\nthis.additionalProperties.put(name, value);\r\n}\r\n\r\n}\r\n```\r\n\r\n```\r\npackage com.example;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n&quot;issue_date&quot;,\r\n&quot;father/husband&quot;,\r\n&quot;name&quot;,\r\n&quot;img&quot;,\r\n&quot;blood_group&quot;,\r\n&quot;dob&quot;,\r\n&quot;validity&quot;,\r\n&quot;cov_details&quot;,\r\n&quot;dl_number&quot;,\r\n&quot;address&quot;\r\n})\r\npublic class Result_ {\r\n\r\n@JsonProperty(&quot;issue_date&quot;)\r\nprivate String issueDate;\r\n@JsonProperty(&quot;father/husband&quot;)\r\nprivate String fatherHusband;\r\n@JsonProperty(&quot;name&quot;)\r\nprivate String name;\r\n@JsonProperty(&quot;img&quot;)\r\nprivate String img;\r\n@JsonProperty(&quot;blood_group&quot;)\r\nprivate String bloodGroup;\r\n@JsonProperty(&quot;dob&quot;)\r\nprivate String dob;\r\n@JsonProperty(&quot;validity&quot;)\r\nprivate Validity validity;\r\n@JsonProperty(&quot;cov_details&quot;)\r\nprivate List&lt;CovDetail&gt; covDetails = null;\r\n@JsonProperty(&quot;dl_number&quot;)\r\nprivate String dlNumber;\r\n@JsonProperty(&quot;address&quot;)\r\nprivate String address;\r\n@JsonIgnore\r\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n@JsonProperty(&quot;issue_date&quot;)\r\npublic String getIssueDate() {\r\nreturn issueDate;\r\n}\r\n\r\n@JsonProperty(&quot;issue_date&quot;)\r\npublic void setIssueDate(String issueDate) {\r\nthis.issueDate = issueDate;\r\n}\r\n\r\n@JsonProperty(&quot;father/husband&quot;)\r\npublic String getFatherHusband() {\r\nreturn fatherHusband;\r\n}\r\n\r\n@JsonProperty(&quot;father/husband&quot;)\r\npublic void setFatherHusband(String fatherHusband) {\r\nthis.fatherHusband = fatherHusband;\r\n}\r\n\r\n@JsonProperty(&quot;name&quot;)\r\npublic String getName() {\r\nreturn name;\r\n}\r\n\r\n@JsonProperty(&quot;name&quot;)\r\npublic void setName(String name) {\r\nthis.name = name;\r\n}\r\n\r\n@JsonProperty(&quot;img&quot;)\r\npublic String getImg() {\r\nreturn img;\r\n}\r\n\r\n@JsonProperty(&quot;img&quot;)\r\npublic void setImg(String img) {\r\nthis.img = img;\r\n}\r\n\r\n@JsonProperty(&quot;blood_group&quot;)\r\npublic String getBloodGroup() {\r\nreturn bloodGroup;\r\n}\r\n\r\n@JsonProperty(&quot;blood_group&quot;)\r\npublic void setBloodGroup(String bloodGroup) {\r\nthis.bloodGroup = bloodGroup;\r\n}\r\n\r\n@JsonProperty(&quot;dob&quot;)\r\npublic String getDob() {\r\nreturn dob;\r\n}\r\n\r\n@JsonProperty(&quot;dob&quot;)\r\npublic void setDob(String dob) {\r\nthis.dob = dob;\r\n}\r\n\r\n@JsonProperty(&quot;validity&quot;)\r\npublic Validity getValidity() {\r\nreturn validity;\r\n}\r\n\r\n@JsonProperty(&quot;validity&quot;)\r\npublic void setValidity(Validity validity) {\r\nthis.validity = validity;\r\n}\r\n\r\n@JsonProperty(&quot;cov_details&quot;)\r\npublic List&lt;CovDetail&gt; getCovDetails() {\r\nreturn covDetails;\r\n}\r\n\r\n@JsonProperty(&quot;cov_details&quot;)\r\npublic void setCovDetails(List&lt;CovDetail&gt; covDetails) {\r\nthis.covDetails = covDetails;\r\n}\r\n\r\n@JsonProperty(&quot;dl_number&quot;)\r\npublic String getDlNumber() {\r\nreturn dlNumber;\r\n}\r\n\r\n@JsonProperty(&quot;dl_number&quot;)\r\npublic void setDlNumber(String dlNumber) {\r\nthis.dlNumber = dlNumber;\r\n}\r\n\r\n@JsonProperty(&quot;address&quot;)\r\npublic String getAddress() {\r\nreturn address;\r\n}\r\n\r\n@JsonProperty(&quot;address&quot;)\r\npublic void setAddress(String address) {\r\nthis.address = address;\r\n}\r\n\r\n@JsonAnyGetter\r\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\r\nreturn this.additionalProperties;\r\n}\r\n\r\n@JsonAnySetter\r\npublic void setAdditionalProperty(String name, Object value) {\r\nthis.additionalProperties.put(name, value);\r\n}\r\n\r\n}\r\n```\r\n\r\n```\r\npackage com.example;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n&quot;non-transport&quot;,\r\n&quot;transport&quot;\r\n})\r\npublic class Validity {\r\n\r\n@JsonProperty(&quot;non-transport&quot;)\r\nprivate String nonTransport;\r\n@JsonProperty(&quot;transport&quot;)\r\nprivate String transport;\r\n@JsonIgnore\r\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n@JsonProperty(&quot;non-transport&quot;)\r\npublic String getNonTransport() {\r\nreturn nonTransport;\r\n}\r\n\r\n@JsonProperty(&quot;non-transport&quot;)\r\npublic void setNonTransport(String nonTransport) {\r\nthis.nonTransport = nonTransport;\r\n}\r\n\r\n@JsonProperty(&quot;transport&quot;)\r\npublic String getTransport() {\r\nreturn transport;\r\n}\r\n\r\n@JsonProperty(&quot;transport&quot;)\r\npublic void setTransport(String transport) {\r\nthis.transport = transport;\r\n}\r\n\r\n@JsonAnyGetter\r\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\r\nreturn this.additionalProperties;\r\n}\r\n\r\n@JsonAnySetter\r\npublic void setAdditionalProperty(String name, Object value) {\r\nthis.additionalProperties.put(name, value);\r\n}\r\n\r\n}\r\n```\r\n\r\nYou can then serialize the Json to Java objects by running the following code:\r\n```\r\nfinal ObjectMapper objectMapper = new ObjectMapper();\r\nfinal Result result = objectMapper.readValue(json, Result.class);\r\n```\r\n\r\nWhereby the `json` variable refers to your Json data. After you have your Java objects, you can simply use the getters and setters to adjust the objects to your needs.\r\n\r\n```\r\nresult.setRequestId(&quot;Test&quot;);\r\n```\r\n\r\nIn case you want to edit the `img` property:\r\n```\r\nresult.getResult().setImg(&quot;N/A&quot;);\r\n```\r\n\r\nIf you then want to convert the Java objects back to Json, you could do something like this:\r\n```\r\nfinal ObjectMapper mapper = new ObjectMapper();\r\nfinal String jsonString = mapper.writeValueAsString(result);\r\n```\r\n\r\n*Source of the Java classes: http://www.jsonschema2pojo.org/*\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: https://github.com/square/moshi\r\n  [3]: https://github.com/google/gson","title":"How to modify values inside JSON object in Java","body":"<p>You can use any of the popular Json serialization libraries to convert Java objects to Json and the other way around:</p>\n<ul>\n<li><a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a></li>\n<li><a href=\"https://github.com/square/moshi\" rel=\"nofollow noreferrer\">Moshi</a></li>\n<li><a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a></li>\n</ul>\n<p>In the case of Jackson, your objects in Java would look something like this:</p>\n<pre><code>package com.example;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n&quot;issue_date&quot;,\n&quot;cov&quot;\n})\npublic class CovDetail {\n\n@JsonProperty(&quot;issue_date&quot;)\nprivate String issueDate;\n@JsonProperty(&quot;cov&quot;)\nprivate String cov;\n@JsonIgnore\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n@JsonProperty(&quot;issue_date&quot;)\npublic String getIssueDate() {\nreturn issueDate;\n}\n\n@JsonProperty(&quot;issue_date&quot;)\npublic void setIssueDate(String issueDate) {\nthis.issueDate = issueDate;\n}\n\n@JsonProperty(&quot;cov&quot;)\npublic String getCov() {\nreturn cov;\n}\n\n@JsonProperty(&quot;cov&quot;)\npublic void setCov(String cov) {\nthis.cov = cov;\n}\n\n@JsonAnyGetter\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\nreturn this.additionalProperties;\n}\n\n@JsonAnySetter\npublic void setAdditionalProperty(String name, Object value) {\nthis.additionalProperties.put(name, value);\n}\n\n}\n</code></pre>\n<pre><code>package com.example;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n&quot;result&quot;,\n&quot;request_id&quot;,\n&quot;status-code&quot;\n})\npublic class Result {\n\n@JsonProperty(&quot;result&quot;)\nprivate Result_ result;\n@JsonProperty(&quot;request_id&quot;)\nprivate String requestId;\n@JsonProperty(&quot;status-code&quot;)\nprivate String statusCode;\n@JsonIgnore\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n@JsonProperty(&quot;result&quot;)\npublic Result_ getResult() {\nreturn result;\n}\n\n@JsonProperty(&quot;result&quot;)\npublic void setResult(Result_ result) {\nthis.result = result;\n}\n\n@JsonProperty(&quot;request_id&quot;)\npublic String getRequestId() {\nreturn requestId;\n}\n\n@JsonProperty(&quot;request_id&quot;)\npublic void setRequestId(String requestId) {\nthis.requestId = requestId;\n}\n\n@JsonProperty(&quot;status-code&quot;)\npublic String getStatusCode() {\nreturn statusCode;\n}\n\n@JsonProperty(&quot;status-code&quot;)\npublic void setStatusCode(String statusCode) {\nthis.statusCode = statusCode;\n}\n\n@JsonAnyGetter\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\nreturn this.additionalProperties;\n}\n\n@JsonAnySetter\npublic void setAdditionalProperty(String name, Object value) {\nthis.additionalProperties.put(name, value);\n}\n\n}\n</code></pre>\n<pre><code>package com.example;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n&quot;issue_date&quot;,\n&quot;father/husband&quot;,\n&quot;name&quot;,\n&quot;img&quot;,\n&quot;blood_group&quot;,\n&quot;dob&quot;,\n&quot;validity&quot;,\n&quot;cov_details&quot;,\n&quot;dl_number&quot;,\n&quot;address&quot;\n})\npublic class Result_ {\n\n@JsonProperty(&quot;issue_date&quot;)\nprivate String issueDate;\n@JsonProperty(&quot;father/husband&quot;)\nprivate String fatherHusband;\n@JsonProperty(&quot;name&quot;)\nprivate String name;\n@JsonProperty(&quot;img&quot;)\nprivate String img;\n@JsonProperty(&quot;blood_group&quot;)\nprivate String bloodGroup;\n@JsonProperty(&quot;dob&quot;)\nprivate String dob;\n@JsonProperty(&quot;validity&quot;)\nprivate Validity validity;\n@JsonProperty(&quot;cov_details&quot;)\nprivate List&lt;CovDetail&gt; covDetails = null;\n@JsonProperty(&quot;dl_number&quot;)\nprivate String dlNumber;\n@JsonProperty(&quot;address&quot;)\nprivate String address;\n@JsonIgnore\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n@JsonProperty(&quot;issue_date&quot;)\npublic String getIssueDate() {\nreturn issueDate;\n}\n\n@JsonProperty(&quot;issue_date&quot;)\npublic void setIssueDate(String issueDate) {\nthis.issueDate = issueDate;\n}\n\n@JsonProperty(&quot;father/husband&quot;)\npublic String getFatherHusband() {\nreturn fatherHusband;\n}\n\n@JsonProperty(&quot;father/husband&quot;)\npublic void setFatherHusband(String fatherHusband) {\nthis.fatherHusband = fatherHusband;\n}\n\n@JsonProperty(&quot;name&quot;)\npublic String getName() {\nreturn name;\n}\n\n@JsonProperty(&quot;name&quot;)\npublic void setName(String name) {\nthis.name = name;\n}\n\n@JsonProperty(&quot;img&quot;)\npublic String getImg() {\nreturn img;\n}\n\n@JsonProperty(&quot;img&quot;)\npublic void setImg(String img) {\nthis.img = img;\n}\n\n@JsonProperty(&quot;blood_group&quot;)\npublic String getBloodGroup() {\nreturn bloodGroup;\n}\n\n@JsonProperty(&quot;blood_group&quot;)\npublic void setBloodGroup(String bloodGroup) {\nthis.bloodGroup = bloodGroup;\n}\n\n@JsonProperty(&quot;dob&quot;)\npublic String getDob() {\nreturn dob;\n}\n\n@JsonProperty(&quot;dob&quot;)\npublic void setDob(String dob) {\nthis.dob = dob;\n}\n\n@JsonProperty(&quot;validity&quot;)\npublic Validity getValidity() {\nreturn validity;\n}\n\n@JsonProperty(&quot;validity&quot;)\npublic void setValidity(Validity validity) {\nthis.validity = validity;\n}\n\n@JsonProperty(&quot;cov_details&quot;)\npublic List&lt;CovDetail&gt; getCovDetails() {\nreturn covDetails;\n}\n\n@JsonProperty(&quot;cov_details&quot;)\npublic void setCovDetails(List&lt;CovDetail&gt; covDetails) {\nthis.covDetails = covDetails;\n}\n\n@JsonProperty(&quot;dl_number&quot;)\npublic String getDlNumber() {\nreturn dlNumber;\n}\n\n@JsonProperty(&quot;dl_number&quot;)\npublic void setDlNumber(String dlNumber) {\nthis.dlNumber = dlNumber;\n}\n\n@JsonProperty(&quot;address&quot;)\npublic String getAddress() {\nreturn address;\n}\n\n@JsonProperty(&quot;address&quot;)\npublic void setAddress(String address) {\nthis.address = address;\n}\n\n@JsonAnyGetter\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\nreturn this.additionalProperties;\n}\n\n@JsonAnySetter\npublic void setAdditionalProperty(String name, Object value) {\nthis.additionalProperties.put(name, value);\n}\n\n}\n</code></pre>\n<pre><code>package com.example;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n&quot;non-transport&quot;,\n&quot;transport&quot;\n})\npublic class Validity {\n\n@JsonProperty(&quot;non-transport&quot;)\nprivate String nonTransport;\n@JsonProperty(&quot;transport&quot;)\nprivate String transport;\n@JsonIgnore\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n@JsonProperty(&quot;non-transport&quot;)\npublic String getNonTransport() {\nreturn nonTransport;\n}\n\n@JsonProperty(&quot;non-transport&quot;)\npublic void setNonTransport(String nonTransport) {\nthis.nonTransport = nonTransport;\n}\n\n@JsonProperty(&quot;transport&quot;)\npublic String getTransport() {\nreturn transport;\n}\n\n@JsonProperty(&quot;transport&quot;)\npublic void setTransport(String transport) {\nthis.transport = transport;\n}\n\n@JsonAnyGetter\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\nreturn this.additionalProperties;\n}\n\n@JsonAnySetter\npublic void setAdditionalProperty(String name, Object value) {\nthis.additionalProperties.put(name, value);\n}\n\n}\n</code></pre>\n<p>You can then serialize the Json to Java objects by running the following code:</p>\n<pre><code>final ObjectMapper objectMapper = new ObjectMapper();\nfinal Result result = objectMapper.readValue(json, Result.class);\n</code></pre>\n<p>Whereby the <code>json</code> variable refers to your Json data. After you have your Java objects, you can simply use the getters and setters to adjust the objects to your needs.</p>\n<pre><code>result.setRequestId(&quot;Test&quot;);\n</code></pre>\n<p>In case you want to edit the <code>img</code> property:</p>\n<pre><code>result.getResult().setImg(&quot;N/A&quot;);\n</code></pre>\n<p>If you then want to convert the Java objects back to Json, you could do something like this:</p>\n<pre><code>final ObjectMapper mapper = new ObjectMapper();\nfinal String jsonString = mapper.writeValueAsString(result);\n</code></pre>\n<p><em>Source of the Java classes: <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">http://www.jsonschema2pojo.org/</a></em></p>\n"},{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609926732,"creation_date":1609926187,"answer_id":65593406,"question_id":65593086,"body_markdown":"Solution using simple org.json library(*without using POJO classes)\r\n\r\n   \r\n\r\n    \r\n    import org.json.JSONObject;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            String jsonArray = &quot;{\\n&quot; +\r\n                    &quot;   \\&quot;result\\&quot;:{\\n&quot; +\r\n                    &quot;      \\&quot;issue_date\\&quot;:\\&quot;20-02-2011\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;father/husband\\&quot;:\\&quot;Chopra\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;name\\&quot;:\\&quot;Variyar\\&quot;,\\n&quot; +\r\n                    &quot;      \\n&quot; +\r\n                    &quot; \\&quot;img\\&quot;:\\&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;blood_group\\&quot;:\\&quot;\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;dob\\&quot;:\\&quot;11-03-1981\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;validity\\&quot;:{\\n&quot; +\r\n                    &quot;         \\&quot;non-transport\\&quot;:\\&quot;24-03-2010 to 23-02-2030\\&quot;,\\n&quot; +\r\n                    &quot;         \\&quot;transport\\&quot;:\\&quot;\\&quot;\\n&quot; +\r\n                    &quot;      },\\n&quot; +\r\n                    &quot;      \\&quot;cov_details\\&quot;:[\\n&quot; +\r\n                    &quot;         {\\n&quot; +\r\n                    &quot;            \\&quot;issue_date\\&quot;:\\&quot;UNIT OFFICE,TRICHY\\&quot;,\\n&quot; +\r\n                    &quot;            \\&quot;cov\\&quot;:\\&quot;NCWG\\&quot;\\n&quot; +\r\n                    &quot;         }\\n&quot; +\r\n                    &quot;      ],\\n&quot; +\r\n                    &quot;      \\&quot;dl_number\\&quot;:\\&quot;TN0290000784\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;address\\&quot;:\\&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK\\&quot;\\n&quot; +\r\n                    &quot;   },\\n&quot; +\r\n                    &quot;   \\&quot;request_id\\&quot;:\\&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe\\&quot;,\\n&quot; +\r\n                    &quot;   \\&quot;status-code\\&quot;:\\&quot;101\\&quot;\\n&quot; +\r\n                    &quot;}&quot;;\r\n            JSONObject jObject = new JSONObject(jsonArray);\r\n            jObject.getJSONObject(&quot;result&quot;).put(&quot;img&quot;, &quot;N/A&quot;);\r\n            System.out.println(jObject);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nOutput:\r\n\r\n   \r\n\r\n     {\r\n       &quot;result&quot;:{\r\n          &quot;cov_details&quot;:[\r\n             {\r\n                &quot;issue_date&quot;:&quot;UNIT OFFICE,TRICHY&quot;,\r\n                &quot;cov&quot;:&quot;NCWG&quot;\r\n             }\r\n          ],\r\n          &quot;img&quot;:&quot;N/A&quot;,\r\n          &quot;dl_number&quot;:&quot;TN0290000784&quot;,\r\n          &quot;address&quot;:&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK&quot;,\r\n          &quot;issue_date&quot;:&quot;20-02-2011&quot;,\r\n          &quot;dob&quot;:&quot;11-03-1981&quot;,\r\n          &quot;name&quot;:&quot;Variyar&quot;,\r\n          &quot;blood_group&quot;:&quot;&quot;,\r\n          &quot;validity&quot;:{\r\n             &quot;transport&quot;:&quot;&quot;,\r\n             &quot;non-transport&quot;:&quot;24-03-2010 to 23-02-2030&quot;\r\n          },\r\n          &quot;father/husband&quot;:&quot;Chopra&quot;\r\n       },\r\n       &quot;status-code&quot;:&quot;101&quot;,\r\n       &quot;request_id&quot;:&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe&quot;\r\n    }","title":"How to modify values inside JSON object in Java","body":"<p>Solution using simple org.json library(*without using POJO classes)</p>\n<pre><code>import org.json.JSONObject;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        String jsonArray = &quot;{\\n&quot; +\n                &quot;   \\&quot;result\\&quot;:{\\n&quot; +\n                &quot;      \\&quot;issue_date\\&quot;:\\&quot;20-02-2011\\&quot;,\\n&quot; +\n                &quot;      \\&quot;father/husband\\&quot;:\\&quot;Chopra\\&quot;,\\n&quot; +\n                &quot;      \\&quot;name\\&quot;:\\&quot;Variyar\\&quot;,\\n&quot; +\n                &quot;      \\n&quot; +\n                &quot; \\&quot;img\\&quot;:\\&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\\&quot;,\\n&quot; +\n                &quot;      \\&quot;blood_group\\&quot;:\\&quot;\\&quot;,\\n&quot; +\n                &quot;      \\&quot;dob\\&quot;:\\&quot;11-03-1981\\&quot;,\\n&quot; +\n                &quot;      \\&quot;validity\\&quot;:{\\n&quot; +\n                &quot;         \\&quot;non-transport\\&quot;:\\&quot;24-03-2010 to 23-02-2030\\&quot;,\\n&quot; +\n                &quot;         \\&quot;transport\\&quot;:\\&quot;\\&quot;\\n&quot; +\n                &quot;      },\\n&quot; +\n                &quot;      \\&quot;cov_details\\&quot;:[\\n&quot; +\n                &quot;         {\\n&quot; +\n                &quot;            \\&quot;issue_date\\&quot;:\\&quot;UNIT OFFICE,TRICHY\\&quot;,\\n&quot; +\n                &quot;            \\&quot;cov\\&quot;:\\&quot;NCWG\\&quot;\\n&quot; +\n                &quot;         }\\n&quot; +\n                &quot;      ],\\n&quot; +\n                &quot;      \\&quot;dl_number\\&quot;:\\&quot;TN0290000784\\&quot;,\\n&quot; +\n                &quot;      \\&quot;address\\&quot;:\\&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK\\&quot;\\n&quot; +\n                &quot;   },\\n&quot; +\n                &quot;   \\&quot;request_id\\&quot;:\\&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe\\&quot;,\\n&quot; +\n                &quot;   \\&quot;status-code\\&quot;:\\&quot;101\\&quot;\\n&quot; +\n                &quot;}&quot;;\n        JSONObject jObject = new JSONObject(jsonArray);\n        jObject.getJSONObject(&quot;result&quot;).put(&quot;img&quot;, &quot;N/A&quot;);\n        System.out.println(jObject);\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code> {\n   &quot;result&quot;:{\n      &quot;cov_details&quot;:[\n         {\n            &quot;issue_date&quot;:&quot;UNIT OFFICE,TRICHY&quot;,\n            &quot;cov&quot;:&quot;NCWG&quot;\n         }\n      ],\n      &quot;img&quot;:&quot;N/A&quot;,\n      &quot;dl_number&quot;:&quot;TN0290000784&quot;,\n      &quot;address&quot;:&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK&quot;,\n      &quot;issue_date&quot;:&quot;20-02-2011&quot;,\n      &quot;dob&quot;:&quot;11-03-1981&quot;,\n      &quot;name&quot;:&quot;Variyar&quot;,\n      &quot;blood_group&quot;:&quot;&quot;,\n      &quot;validity&quot;:{\n         &quot;transport&quot;:&quot;&quot;,\n         &quot;non-transport&quot;:&quot;24-03-2010 to 23-02-2030&quot;\n      },\n      &quot;father/husband&quot;:&quot;Chopra&quot;\n   },\n   &quot;status-code&quot;:&quot;101&quot;,\n   &quot;request_id&quot;:&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609927498,"creation_date":1609927498,"answer_id":65593738,"question_id":65593086,"body_markdown":"I suggest using Strings to replace &quot;img&quot; object as follow (no matter what &quot;img&quot; value or length you have): \r\n\r\n1. First get the &quot;img&quot; object value as string:\r\n\r\n       String imgObject = &quot;\\&quot;img\\&quot;: \\&quot;&quot; + json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;) + &quot;\\&quot;,&quot;;\r\n    \r\noutput will be: \r\n\r\n&quot;img&quot;: &quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS&quot;,\r\n\r\n\r\n2. Then extract only the &quot;img&quot; value:\r\n\r\n       imgObject = imgObject.substring(8,imgObject.length()-2);\r\n       imgObject = imgObject.replace(&quot;\\&quot;,&quot;,&quot;&quot;);\r\n\r\nOutput will be: \r\n\r\n/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\r\n\r\n\r\n3. Convert the original Json to string: \r\n\r\n       String convertedJson = json.toString();\r\n\r\n4. replace &quot;img&quot; with &quot;N/A&quot;:\r\n\r\n       convertedJson = convertedJson.replace(imgObject,&quot;N/A&quot;);\r\n\r\n5. convert back to JSONObject:\r\n\r\n       json = new JSONObject(convertedJson);\r\n\r\nand that&#39;s it. \r\n\r\n\r\nComplete code:\r\n\r\n            JSONObject json = new JSONObject(&quot;{\\n&quot; +\r\n                &quot;   \\&quot;result\\&quot;:{\\n&quot; +\r\n                &quot;      \\&quot;issue_date\\&quot;:\\&quot;20-02-2011\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;father/husband\\&quot;:\\&quot;Chopra\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;name\\&quot;:\\&quot;Variyar\\&quot;,\\n&quot; +\r\n                &quot;      \\n&quot; +\r\n                &quot; \\&quot;img\\&quot;:\\&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;blood_group\\&quot;:\\&quot;\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;dob\\&quot;:\\&quot;11-03-1981\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;validity\\&quot;:{\\n&quot; +\r\n                &quot;         \\&quot;non-transport\\&quot;:\\&quot;24-03-2010 to 23-02-2030\\&quot;,\\n&quot; +\r\n                &quot;         \\&quot;transport\\&quot;:\\&quot;\\&quot;\\n&quot; +\r\n                &quot;      },\\n&quot; +\r\n                &quot;      \\&quot;cov_details\\&quot;:[\\n&quot; +\r\n                &quot;         {\\n&quot; +\r\n                &quot;            \\&quot;issue_date\\&quot;:\\&quot;UNIT OFFICE,TRICHY\\&quot;,\\n&quot; +\r\n                &quot;            \\&quot;cov\\&quot;:\\&quot;NCWG\\&quot;\\n&quot; +\r\n                &quot;         }\\n&quot; +\r\n                &quot;      ],\\n&quot; +\r\n                &quot;      \\&quot;dl_number\\&quot;:\\&quot;TN0290000784\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;address\\&quot;:\\&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK\\&quot;\\n&quot; +\r\n                &quot;   },\\n&quot; +\r\n                &quot;   \\&quot;request_id\\&quot;:\\&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe\\&quot;,\\n&quot; +\r\n                &quot;   \\&quot;status-code\\&quot;:\\&quot;101\\&quot;\\n&quot; +\r\n                &quot;}&quot;);\r\n\r\n        System.out.println(&quot;Original img value: &quot;+ json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;));\r\n\r\n        //SubString the img object:\r\n        String imgObject = &quot;\\&quot;img\\&quot;: \\&quot;&quot; + json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;) + &quot;\\&quot;,&quot;;\r\n        System.out.println(&quot;img object key and value: &quot;+imgObject);\r\n\r\n        imgObject = imgObject.substring(8,imgObject.length()-2);\r\n        imgObject = imgObject.replace(&quot;\\&quot;,&quot;,&quot;&quot;);\r\n\r\n        System.out.println(&quot;img object only value: &quot;+imgObject);\r\n\r\n        //convert json to string:\r\n        String convertedJson = json.toString();\r\n\r\n        //replace img\r\n        convertedJson = convertedJson.replace(imgObject,&quot;N/A&quot;);\r\n\r\n\r\n        //convert back to JSONObject\r\n        json = new JSONObject(convertedJson);\r\n\r\n        System.out.println(&quot;Converted Json with new img value: &quot;+ json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;));","title":"How to modify values inside JSON object in Java","body":"<p>I suggest using Strings to replace &quot;img&quot; object as follow (no matter what &quot;img&quot; value or length you have):</p>\n<ol>\n<li><p>First get the &quot;img&quot; object value as string:</p>\n<pre><code>String imgObject = &quot;\\&quot;img\\&quot;: \\&quot;&quot; + json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;) + &quot;\\&quot;,&quot;;\n</code></pre>\n</li>\n</ol>\n<p>output will be:</p>\n<p>&quot;img&quot;: &quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS&quot;,</p>\n<ol start=\"2\">\n<li><p>Then extract only the &quot;img&quot; value:</p>\n<pre><code>imgObject = imgObject.substring(8,imgObject.length()-2);\nimgObject = imgObject.replace(&quot;\\&quot;,&quot;,&quot;&quot;);\n</code></pre>\n</li>\n</ol>\n<p>Output will be:</p>\n<p>/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS</p>\n<ol start=\"3\">\n<li><p>Convert the original Json to string:</p>\n<pre><code>String convertedJson = json.toString();\n</code></pre>\n</li>\n<li><p>replace &quot;img&quot; with &quot;N/A&quot;:</p>\n<pre><code>convertedJson = convertedJson.replace(imgObject,&quot;N/A&quot;);\n</code></pre>\n</li>\n<li><p>convert back to JSONObject:</p>\n<pre><code>json = new JSONObject(convertedJson);\n</code></pre>\n</li>\n</ol>\n<p>and that's it.</p>\n<p>Complete code:</p>\n<pre><code>        JSONObject json = new JSONObject(&quot;{\\n&quot; +\n            &quot;   \\&quot;result\\&quot;:{\\n&quot; +\n            &quot;      \\&quot;issue_date\\&quot;:\\&quot;20-02-2011\\&quot;,\\n&quot; +\n            &quot;      \\&quot;father/husband\\&quot;:\\&quot;Chopra\\&quot;,\\n&quot; +\n            &quot;      \\&quot;name\\&quot;:\\&quot;Variyar\\&quot;,\\n&quot; +\n            &quot;      \\n&quot; +\n            &quot; \\&quot;img\\&quot;:\\&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\\&quot;,\\n&quot; +\n            &quot;      \\&quot;blood_group\\&quot;:\\&quot;\\&quot;,\\n&quot; +\n            &quot;      \\&quot;dob\\&quot;:\\&quot;11-03-1981\\&quot;,\\n&quot; +\n            &quot;      \\&quot;validity\\&quot;:{\\n&quot; +\n            &quot;         \\&quot;non-transport\\&quot;:\\&quot;24-03-2010 to 23-02-2030\\&quot;,\\n&quot; +\n            &quot;         \\&quot;transport\\&quot;:\\&quot;\\&quot;\\n&quot; +\n            &quot;      },\\n&quot; +\n            &quot;      \\&quot;cov_details\\&quot;:[\\n&quot; +\n            &quot;         {\\n&quot; +\n            &quot;            \\&quot;issue_date\\&quot;:\\&quot;UNIT OFFICE,TRICHY\\&quot;,\\n&quot; +\n            &quot;            \\&quot;cov\\&quot;:\\&quot;NCWG\\&quot;\\n&quot; +\n            &quot;         }\\n&quot; +\n            &quot;      ],\\n&quot; +\n            &quot;      \\&quot;dl_number\\&quot;:\\&quot;TN0290000784\\&quot;,\\n&quot; +\n            &quot;      \\&quot;address\\&quot;:\\&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK\\&quot;\\n&quot; +\n            &quot;   },\\n&quot; +\n            &quot;   \\&quot;request_id\\&quot;:\\&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe\\&quot;,\\n&quot; +\n            &quot;   \\&quot;status-code\\&quot;:\\&quot;101\\&quot;\\n&quot; +\n            &quot;}&quot;);\n\n    System.out.println(&quot;Original img value: &quot;+ json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;));\n\n    //SubString the img object:\n    String imgObject = &quot;\\&quot;img\\&quot;: \\&quot;&quot; + json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;) + &quot;\\&quot;,&quot;;\n    System.out.println(&quot;img object key and value: &quot;+imgObject);\n\n    imgObject = imgObject.substring(8,imgObject.length()-2);\n    imgObject = imgObject.replace(&quot;\\&quot;,&quot;,&quot;&quot;);\n\n    System.out.println(&quot;img object only value: &quot;+imgObject);\n\n    //convert json to string:\n    String convertedJson = json.toString();\n\n    //replace img\n    convertedJson = convertedJson.replace(imgObject,&quot;N/A&quot;);\n\n\n    //convert back to JSONObject\n    json = new JSONObject(convertedJson);\n\n    System.out.println(&quot;Converted Json with new img value: &quot;+ json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3502928,"reputation":21,"user_id":2929229,"display_name":"Mostafa Shabani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609931867,"creation_date":1609931867,"answer_id":65594795,"question_id":65593086,"body_markdown":"    try {\r\n            com.fasterxml.jackson.databind.ObjectMapper mapper = new com.fasterxml.jackson.databind.ObjectMapper();\r\n            java.util.LinkedHashMap obj = (java.util.LinkedHashMap) mapper.readValue(jsonString, Object.class);\r\n            java.util.LinkedHashMap result = (java.util.LinkedHashMap) obj.get(&quot;result&quot;);\r\n            result.put(&quot;img&quot;, &quot;YOUR_VALUE&quot;);\r\n            java.io.ByteArrayOutputStream bout = new java.io.ByteArrayOutputStream();\r\n            mapper.writeValue(bout, obj);\r\n            byte[] objectBytes = bout.toByteArray();\r\n            jsonString = new String(objectBytes);\r\n        } catch (java.io.IOException e) {\r\n            e.printStackTrace();\r\n        }","title":"How to modify values inside JSON object in Java","body":"<pre><code>try {\n        com.fasterxml.jackson.databind.ObjectMapper mapper = new com.fasterxml.jackson.databind.ObjectMapper();\n        java.util.LinkedHashMap obj = (java.util.LinkedHashMap) mapper.readValue(jsonString, Object.class);\n        java.util.LinkedHashMap result = (java.util.LinkedHashMap) obj.get(&quot;result&quot;);\n        result.put(&quot;img&quot;, &quot;YOUR_VALUE&quot;);\n        java.io.ByteArrayOutputStream bout = new java.io.ByteArrayOutputStream();\n        mapper.writeValue(bout, obj);\n        byte[] objectBytes = bout.toByteArray();\n        jsonString = new String(objectBytes);\n    } catch (java.io.IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":20051857,"reputation":11,"user_id":14700400,"display_name":"Natsu Uchiha "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6050,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1650187206,"creation_date":1609924586,"question_id":65593086,"body_markdown":"I have a JSON Object which looks like this. \r\n```\r\n{\r\n   &quot;result&quot;:{\r\n      &quot;issue_date&quot;:&quot;20-02-2011&quot;,\r\n      &quot;father/husband&quot;:&quot;Chopra&quot;,\r\n      &quot;name&quot;:&quot;Variyar&quot;,\r\n      \r\n &quot;img&quot;:&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS&quot;,\r\n      &quot;blood_group&quot;:&quot;&quot;,\r\n      &quot;dob&quot;:&quot;11-03-1981&quot;,\r\n      &quot;validity&quot;:{\r\n         &quot;non-transport&quot;:&quot;24-03-2010 to 23-02-2030&quot;,\r\n         &quot;transport&quot;:&quot;&quot;\r\n      },\r\n      &quot;cov_details&quot;:[\r\n         {\r\n            &quot;issue_date&quot;:&quot;UNIT OFFICE,TRICHY&quot;,\r\n            &quot;cov&quot;:&quot;NCWG&quot;\r\n         }\r\n      ],\r\n      &quot;dl_number&quot;:&quot;TN0290000784&quot;,\r\n      &quot;address&quot;:&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK&quot;\r\n   },\r\n   &quot;request_id&quot;:&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe&quot;,\r\n   &quot;status-code&quot;:&quot;101&quot;\r\n}\r\n```\r\nI want to edit the values inside of &quot;img&quot; which is inside &quot;result&quot; using java.\r\n```\r\nobj.remove(&quot;img&quot;);\r\nobj.put(&quot;img&quot;,&quot;N/A&quot;);\r\n```\r\nBut it did not work. My expected output is that the Img tag should be like this \r\n```\r\n &quot;img&quot;:&quot;N/A&quot;,     \r\n```\r\nAny suggestion on how to achieve this? ","title":"How to modify values inside JSON object in Java","body":"<p>I have a JSON Object which looks like this.</p>\n<pre><code>{\n   &quot;result&quot;:{\n      &quot;issue_date&quot;:&quot;20-02-2011&quot;,\n      &quot;father/husband&quot;:&quot;Chopra&quot;,\n      &quot;name&quot;:&quot;Variyar&quot;,\n      \n &quot;img&quot;:&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS&quot;,\n      &quot;blood_group&quot;:&quot;&quot;,\n      &quot;dob&quot;:&quot;11-03-1981&quot;,\n      &quot;validity&quot;:{\n         &quot;non-transport&quot;:&quot;24-03-2010 to 23-02-2030&quot;,\n         &quot;transport&quot;:&quot;&quot;\n      },\n      &quot;cov_details&quot;:[\n         {\n            &quot;issue_date&quot;:&quot;UNIT OFFICE,TRICHY&quot;,\n            &quot;cov&quot;:&quot;NCWG&quot;\n         }\n      ],\n      &quot;dl_number&quot;:&quot;TN0290000784&quot;,\n      &quot;address&quot;:&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK&quot;\n   },\n   &quot;request_id&quot;:&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe&quot;,\n   &quot;status-code&quot;:&quot;101&quot;\n}\n</code></pre>\n<p>I want to edit the values inside of &quot;img&quot; which is inside &quot;result&quot; using java.</p>\n<pre><code>obj.remove(&quot;img&quot;);\nobj.put(&quot;img&quot;,&quot;N/A&quot;);\n</code></pre>\n<p>But it did not work. My expected output is that the Img tag should be like this</p>\n<pre><code> &quot;img&quot;:&quot;N/A&quot;,     \n</code></pre>\n<p>Any suggestion on how to achieve this?</p>\n"},{"tags":["java","file","package"],"comments":[{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":6,"creation_date":1347639831,"post_id":12428394,"comment_id":16708331,"body_markdown":"Try putting the .txt file in the root of your project.  While text files can be in the same folder as files in a particular package, that doesn&#39;t really make them part of the package.  Instead, you need to load it from the file system (or alternatively, from the jar or war.)","body":"Try putting the .txt file in the root of your project.  While text files can be in the same folder as files in a particular package, that doesn&#39;t really make them part of the package.  Instead, you need to load it from the file system (or alternatively, from the jar or war.)"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483975811,"creation_date":1347639889,"answer_id":12428425,"question_id":12428394,"body_markdown":"Assuming the text file is in the same directory as the `.class`, rather than the `.java` file you can do\r\n\r\n    Scanner scanner = new Scanner(getClass().getResourceAsStream(&quot;Words.txt&quot;));\r\n\r\nWhat you have will look for the file in the current working directory. When you are building your program this is typically the root directory of your program. When you run it as a standalone program it is usually the directory the program was started from.","title":"Java - Getting file from same package","body":"<p>Assuming the text file is in the same directory as the <code>.class</code>, rather than the <code>.java</code> file you can do</p>\n\n<pre><code>Scanner scanner = new Scanner(getClass().getResourceAsStream(\"Words.txt\"));\n</code></pre>\n\n<p>What you have will look for the file in the current working directory. When you are building your program this is typically the root directory of your program. When you run it as a standalone program it is usually the directory the program was started from.</p>\n"},{"tags":[],"owner":{"account_id":1744463,"reputation":12621,"user_id":1594980,"accept_rate":85,"display_name":"Jiri Kremser"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1347639921,"creation_date":1347639921,"answer_id":12428435,"question_id":12428394,"body_markdown":"   \r\n\r\n    InputStream is = MyClass.class.getResourceAsStream(&quot;Words.txt&quot;);\r\n    ...","title":"Java - Getting file from same package","body":"<pre><code>InputStream is = MyClass.class.getResourceAsStream(\"Words.txt\");\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1544874,"reputation":19288,"user_id":1438628,"accept_rate":80,"display_name":"Majid Laissi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347639970,"creation_date":1347639970,"answer_id":12428442,"question_id":12428394,"body_markdown":"\r\n\r\n    Scanner = new Scanner(new File(&quot;/path/to/Words.txt&quot;)); \r\n\r\nThe argument in the File() constructor, Is the path relative to the system your VM is running on, it s doesn&#39;t depend on the classe&#39;s package. \r\n\r\nIf you your words.txt is a resource packaged with your war you can see here : https://stackoverflow.com/questions/3294196/load-resource-from-anywhere-in-classpath","title":"Java - Getting file from same package","body":"<pre><code>Scanner = new Scanner(new File(\"/path/to/Words.txt\")); \n</code></pre>\n\n<p>The argument in the File() constructor, Is the path relative to the system your VM is running on, it s doesn't depend on the classe's package. </p>\n\n<p>If you your words.txt is a resource packaged with your war you can see here : <a href=\"https://stackoverflow.com/questions/3294196/load-resource-from-anywhere-in-classpath\">Load resource from anywhere in classpath</a></p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347640109,"creation_date":1347640109,"answer_id":12428481,"question_id":12428394,"body_markdown":"\r\n\r\n    Scanner scanner = new Scanner(getClass().getResourceAsInputStream(&quot;Words.txt&quot;));\r\n    \r\n    String s = new String();\r\n    \r\n    while(scanner.hasNextLine()){\r\n    \r\n    \r\n            s = s + scanner.nextLine();\r\n    \r\n           \r\n     }","title":"Java - Getting file from same package","body":"<pre><code>Scanner scanner = new Scanner(getClass().getResourceAsInputStream(\"Words.txt\"));\n\nString s = new String();\n\nwhile(scanner.hasNextLine()){\n\n\n        s = s + scanner.nextLine();\n\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7246552,"reputation":466,"user_id":5528262,"display_name":"Umar Kayondo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650187162,"creation_date":1650121094,"answer_id":71894951,"question_id":12428394,"body_markdown":"All the above solutions did not work for me, however this seemed to work as expected even when the source code is exported as a docker image.\r\n\r\n    import java.io.InputStream;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.apache.commons.lang.StringUtils;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    \r\n    \r\n    public class FileUtil {\r\n\tprivate static final Logger LOGGER = Logger.getLogger(FileUtil.class.getSimpleName());\r\n\r\n\tprivate FileUtil() {\r\n\t\t// Private constructor\r\n\t}\r\n\r\n\tprivate static FileUtil instance = null;\r\n\r\n\tpublic static FileUtil getInstance() {\r\n\t\tif (instance == null) {\r\n\t\t\tinstance = new FileUtil();\r\n\t\t}\r\n\t\treturn instance;\r\n\t}\r\n\r\n\t/**\r\n\t * Read file from the the resources folder as a string from an\r\n\t * {@link InputStream}\r\n\t * \r\n\t * @param fileName: This can be name.txt or any file format of your choice\r\n\t * @return\r\n\t * @throws Exception\r\n\t */\r\n\tpublic String getResourceFileAsString(String fileName) throws ValidationFailedException {\r\n\t\ttry {\r\n\t\t\tfileName = String.format(&quot;classpath:%s&quot;, fileName);\r\n\t\t\ttry (InputStream reader = new ClassPathResource(fileName).getInputStream()) {\r\n\t\t\t\treturn IOUtils.toString(reader, StandardCharsets.UTF_8.toString());\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.log(Level.WARNING, String.format(&quot;Failed to read template {%s}&quot;, e.getMessage()), e);\r\n\t\t\tthrow new Exception(String.format(&quot;Failed to read template {%s}&quot;, e.getMessage()));\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java - Getting file from same package","body":"<p>All the above solutions did not work for me, however this seemed to work as expected even when the source code is exported as a docker image.</p>\n<pre><code>import java.io.InputStream;\nimport java.nio.charset.StandardCharsets;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport org.apache.commons.io.IOUtils;\nimport org.apache.commons.lang.StringUtils;\nimport org.springframework.core.io.ClassPathResource;\n\n\npublic class FileUtil {\nprivate static final Logger LOGGER = Logger.getLogger(FileUtil.class.getSimpleName());\n\nprivate FileUtil() {\n    // Private constructor\n}\n\nprivate static FileUtil instance = null;\n\npublic static FileUtil getInstance() {\n    if (instance == null) {\n        instance = new FileUtil();\n    }\n    return instance;\n}\n\n/**\n * Read file from the the resources folder as a string from an\n * {@link InputStream}\n * \n * @param fileName: This can be name.txt or any file format of your choice\n * @return\n * @throws Exception\n */\npublic String getResourceFileAsString(String fileName) throws ValidationFailedException {\n    try {\n        fileName = String.format(&quot;classpath:%s&quot;, fileName);\n        try (InputStream reader = new ClassPathResource(fileName).getInputStream()) {\n            return IOUtils.toString(reader, StandardCharsets.UTF_8.toString());\n        }\n    } catch (Exception e) {\n        LOGGER.log(Level.WARNING, String.format(&quot;Failed to read template {%s}&quot;, e.getMessage()), e);\n        throw new Exception(String.format(&quot;Failed to read template {%s}&quot;, e.getMessage()));\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1828811,"reputation":151,"user_id":1660833,"accept_rate":0,"display_name":"Ronan H"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45222,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1650187162,"creation_date":1347639716,"question_id":12428394,"body_markdown":"If I want to read from &quot;Words.txt&quot; which is in the same package as the class, how would I do this? Doing simply `Scanner = new Scanner(new File(&quot;Words.txt&quot;));` returns an error.","title":"Java - Getting file from same package","body":"<p>If I want to read from \"Words.txt\" which is in the same package as the class, how would I do this? Doing simply <code>Scanner = new Scanner(new File(\"Words.txt\"));</code> returns an error.</p>\n"},{"tags":["java","c"],"comments":[{"owner":{"account_id":321625,"reputation":25233,"user_id":640558,"accept_rate":97,"display_name":"Lostsoul"},"score":0,"creation_date":1350236983,"post_id":12884834,"comment_id":17446787,"body_markdown":"@SparKot I never heard of it, I&#39;ll research it a bit. Thanks.","body":"@SparKot I never heard of it, I&#39;ll research it a bit. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350238189,"creation_date":1350238189,"answer_id":12885040,"question_id":12884834,"body_markdown":"Here what I have on the top of my head\r\n 1. run C program using command line from java app.\r\n 2. Use JNI/JNA\r\n 3. Implement your own &quot;client-server&quot; architecture. It sounds complicated but in some cases it may be the best and the simplest solution.\r\n 4. Communicate using Web service, SOAP, REST, whatever.\r\n\r\nI hope this is helpful for the beginning.\r\nYou are welcome to ask more specific questions once you have.","title":"How can I pass and access C data from Java?","body":"<p>Here what I have on the top of my head\n 1. run C program using command line from java app.\n 2. Use JNI/JNA\n 3. Implement your own \"client-server\" architecture. It sounds complicated but in some cases it may be the best and the simplest solution.\n 4. Communicate using Web service, SOAP, REST, whatever.</p>\n\n<p>I hope this is helpful for the beginning.\nYou are welcome to ask more specific questions once you have.</p>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1350238659,"creation_date":1350238659,"answer_id":12885109,"question_id":12884834,"body_markdown":"You may find it easier to keep the programs testable and clear if you leave them separate and then use a client-server approach, or simply choose a common file format and have the latter steps poll the output directory for new files to process.\r\n\r\nTo make it easier to define file formats across different languages, consider a package like [Apache Thrift](http://thrift.apache.org) or [Google Protocol Buffers](http://code.google.com/p/protobuf/).","title":"How can I pass and access C data from Java?","body":"<p>You may find it easier to keep the programs testable and clear if you leave them separate and then use a client-server approach, or simply choose a common file format and have the latter steps poll the output directory for new files to process.</p>\n\n<p>To make it easier to define file formats across different languages, consider a package like <a href=\"http://thrift.apache.org\" rel=\"nofollow\">Apache Thrift</a> or <a href=\"http://code.google.com/p/protobuf/\" rel=\"nofollow\">Google Protocol Buffers</a>.</p>\n"}],"owner":{"account_id":321625,"reputation":25233,"user_id":640558,"accept_rate":97,"display_name":"Lostsoul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12885109,"answer_count":2,"score":0,"last_activity_date":1650186744,"creation_date":1350236810,"question_id":12884834,"body_markdown":"I&#39;ve been doing some programming in Java and some in C but now I need to sort of use both together.\r\n\r\nHere&#39;s the situation, I&#39;m using Hadoop/Hbase to process and store a lot of data but I&#39;m using C/Cuda to do number crunching on the data.  Is there a stable/mature/common way to take data (it&#39;s basically a log file) in Java and pass it to a C program, which C processes the data it stores it as a linked list that is then accessible by the Java app?\r\n\r\nI might not be searching for the right thing, but so far I found JavaCPP, which is good but seems to involve both programs together.  Because Java handles the data flow and C handles the processing of the data, I thought it might be better to keep them as independent programs that can communicate to each other as opposed to a single program that may become confusing.   But I&#39;m totally flexible so any suggestions/solutions are welcomed.","title":"How can I pass and access C data from Java?","body":"<p>I've been doing some programming in Java and some in C but now I need to sort of use both together.</p>\n<p>Here's the situation, I'm using Hadoop/Hbase to process and store a lot of data but I'm using C/Cuda to do number crunching on the data.  Is there a stable/mature/common way to take data (it's basically a log file) in Java and pass it to a C program, which C processes the data it stores it as a linked list that is then accessible by the Java app?</p>\n<p>I might not be searching for the right thing, but so far I found JavaCPP, which is good but seems to involve both programs together.  Because Java handles the data flow and C handles the processing of the data, I thought it might be better to keep them as independent programs that can communicate to each other as opposed to a single program that may become confusing.   But I'm totally flexible so any suggestions/solutions are welcomed.</p>\n"},{"tags":["java","json","selenium"],"comments":[{"owner":{"account_id":11030710,"reputation":624,"user_id":8102135,"display_name":"Jonah"},"score":0,"creation_date":1579262185,"post_id":59786618,"comment_id":105716551,"body_markdown":"Have you tried to deserialize the JSON?","body":"Have you tried to deserialize the JSON?"},{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":1,"creation_date":1579266952,"post_id":59786618,"comment_id":105718775,"body_markdown":"Selenium is used to automate the browser. Is this JSON file being updated through the browser, or do you just need to manipulate this data in Java? I suspect this has nothing to do with Selenium.","body":"Selenium is used to automate the browser. Is this JSON file being updated through the browser, or do you just need to manipulate this data in Java? I suspect this has nothing to do with Selenium."},{"owner":{"account_id":13794080,"reputation":31,"user_id":9955682,"display_name":"MVJ"},"score":0,"creation_date":1579292928,"post_id":59786618,"comment_id":105730926,"body_markdown":"Here  DemoFileJson is a json array and inside that there is another array &quot;specimens&quot; : and I want to update that array along with &quot;accessionNumber&quot; object at the same time in java.","body":"Here  DemoFileJson is a json array and inside that there is another array &quot;specimens&quot; : and I want to update that array along with &quot;accessionNumber&quot; object at the same time in java."},{"owner":{"account_id":13794080,"reputation":31,"user_id":9955682,"display_name":"MVJ"},"score":0,"creation_date":1579293224,"post_id":59786618,"comment_id":105731044,"body_markdown":"@GregBurghardt : Yes, it&#39;s only for java.","body":"@GregBurghardt : Yes, it&#39;s only for java."}],"answers":[{"tags":[],"owner":{"account_id":24652826,"reputation":1,"user_id":18549759,"display_name":"nurfiqih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648000219,"creation_date":1648000219,"answer_id":71580935,"question_id":59786618,"body_markdown":"    search &amp; update value json file, with java class\r\n\r\n    example json file\r\n    [{&quot;trx_id&quot;:&quot;123&quot;},{&quot;trx_id&quot;:&quot;123&quot;,&quot;datetime_expired&quot;:&quot;20221102&quot;}]\r\n    \r\n    public class cariJSON {\r\n        public static void main(String[] args)throws Exception {\r\n             JSONArray dd = updateJson(&quot;datetime_expired&quot;, &quot;20331001&quot;);    \r\n                 try (FileWriter file = new FileWriter(&quot;C://file.json&quot;)) { //store data\r\n                file.append(dd.toString());\r\n                file.flush();\r\n                 }\r\n                System.out.println(dd);\r\n       }\r\n        \r\n        public static JSONArray updateJson(String keyString, String newValue) throws Exception {\r\n                \r\n          String jsons = readFileAsString(&quot;C://file.json&quot;);\r\n          JSONArray jsonArray = new JSONArray(jsons);  \r\n          for (int j = 0; j &lt; jsonArray.length(); j++)\r\n          {\r\n               JSONObject obj = new JSONObject(jsonArray.get(j).toString());\r\n                // get the keys of json object\r\n             \r\n                if (obj.get(&quot;trx_id&quot;).equals(&quot;123&quot;))\r\n            {\r\n                \r\n                Iterator iterator = obj.keys();\r\n                String key = null;\r\n                while (iterator.hasNext()) {\r\n                    key = (String) iterator.next();\r\n                    // if the key is a string, then update the value\r\n                    if ((obj.optJSONArray(key) == null) &amp;&amp; (obj.optJSONObject(key) == null)) {\r\n                        if ((key.equals(keyString))) {\r\n    \r\n                            obj.put(key, newValue);\r\n                            jsonArray.remove(j);\r\n                            return jsonArray.put(obj);                 \r\n                        }\r\n    \r\n                    }\r\n                    // if it&#39;s jsonobject\r\n                    if (obj.optJSONObject(key) != null) {\r\n                        updateJson(keyString, newValue);\r\n                    }\r\n                    // if it&#39;s jsonarray\r\n                    if (obj.optJSONArray(key) != null) {\r\n                        JSONArray jArray = obj.getJSONArray(key);\r\n                        for (int i = 0; i &lt; jArray.length(); i++) {\r\n                            updateJson(keyString, newValue);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n                System.out.println(&quot;Output array : &quot; + jsonArray);\r\n                return jsonArray;\r\n               }\r\n            return null;            \r\n        }\r\n    }\r\n\r\n","title":"How to update few fields in JSON file and again read the JSON with updated values in selenium using Java","body":"<pre><code>search &amp; update value json file, with java class\n\nexample json file\n[{&quot;trx_id&quot;:&quot;123&quot;},{&quot;trx_id&quot;:&quot;123&quot;,&quot;datetime_expired&quot;:&quot;20221102&quot;}]\n\npublic class cariJSON {\n    public static void main(String[] args)throws Exception {\n         JSONArray dd = updateJson(&quot;datetime_expired&quot;, &quot;20331001&quot;);    \n             try (FileWriter file = new FileWriter(&quot;C://file.json&quot;)) { //store data\n            file.append(dd.toString());\n            file.flush();\n             }\n            System.out.println(dd);\n   }\n    \n    public static JSONArray updateJson(String keyString, String newValue) throws Exception {\n            \n      String jsons = readFileAsString(&quot;C://file.json&quot;);\n      JSONArray jsonArray = new JSONArray(jsons);  \n      for (int j = 0; j &lt; jsonArray.length(); j++)\n      {\n           JSONObject obj = new JSONObject(jsonArray.get(j).toString());\n            // get the keys of json object\n         \n            if (obj.get(&quot;trx_id&quot;).equals(&quot;123&quot;))\n        {\n            \n            Iterator iterator = obj.keys();\n            String key = null;\n            while (iterator.hasNext()) {\n                key = (String) iterator.next();\n                // if the key is a string, then update the value\n                if ((obj.optJSONArray(key) == null) &amp;&amp; (obj.optJSONObject(key) == null)) {\n                    if ((key.equals(keyString))) {\n\n                        obj.put(key, newValue);\n                        jsonArray.remove(j);\n                        return jsonArray.put(obj);                 \n                    }\n\n                }\n                // if it's jsonobject\n                if (obj.optJSONObject(key) != null) {\n                    updateJson(keyString, newValue);\n                }\n                // if it's jsonarray\n                if (obj.optJSONArray(key) != null) {\n                    JSONArray jArray = obj.getJSONArray(key);\n                    for (int i = 0; i &lt; jArray.length(); i++) {\n                        updateJson(keyString, newValue);\n                    }\n                }\n            }\n        }\n            System.out.println(&quot;Output array : &quot; + jsonArray);\n            return jsonArray;\n           }\n        return null;            \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13794080,"reputation":31,"user_id":9955682,"display_name":"MVJ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650186491,"creation_date":1579261064,"question_id":59786618,"body_markdown":"How to update few fields in JSON file and again read the JSON with updated values in selenium using Java.\r\n\r\nBelow is my JSON :\r\nI want to update \r\n\r\n```json\r\n{\n&quot;DemoFileJson&quot;: [\n{\r\n  &quot;name&quot;: &quot;demoPan&quot;,\r\n  &quot;Type&quot;: &quot;patientcare&quot;,\r\n  &quot;indication&quot;: &quot;fever&quot;,\r\n  &quot;disease&quot;: {\r\n    &quot;code&quot;: &quot;282292002&quot;,\r\n    &quot;label&quot;: &quot;Uncertain diagnosis&quot;\r\n  },\r\n\r\n  &quot;identified&quot;: false,\r\n\r\n  &quot;specimens&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;primarySpecimen&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;code&quot;: &quot;442524009&quot;,\r\n        &quot;label&quot;: &quot;a.m. specimen&quot;\r\n      },\r\n      &quot;studyIdentifier&quot;: &quot;Stud1&quot;,\r\n      &quot;studySubjectIdentifier&quot;: &quot;Part1&quot;,\r\n      &quot;accessionNumber&quot;: &quot;TSO500-MJ678&quot;,\r\n      &quot;dateAccessioned&quot;: &quot;2019-03-29T20:00:00Z&quot;,\r\n      &quot;datecollected&quot;: &quot;2019-03-29T20:00:00Z&quot;,\r\n      &quot;dateReceived&quot;: &quot;2019-03-29T20:00:00Z&quot;\r\n    }\r\n  ]\r\n}\n]\n}","title":"How to update few fields in JSON file and again read the JSON with updated values in selenium using Java","body":"<p>How to update few fields in JSON file and again read the JSON with updated values in selenium using Java.</p>\n\n<p>Below is my JSON :\nI want to update </p>\n\n<pre><code>{\n\"DemoFileJson\": [\n{\n  \"name\": \"demoPan\",\n  \"Type\": \"patientcare\",\n  \"indication\": \"fever\",\n  \"disease\": {\n    \"code\": \"282292002\",\n    \"label\": \"Uncertain diagnosis\"\n  },\n\n  \"identified\": false,\n\n  \"specimens\": [\n    {\n      \"name\": \"primarySpecimen\",\n      \"type\": {\n        \"code\": \"442524009\",\n        \"label\": \"a.m. specimen\"\n      },\n      \"studyIdentifier\": \"Stud1\",\n      \"studySubjectIdentifier\": \"Part1\",\n      \"accessionNumber\": \"TSO500-MJ678\",\n      \"dateAccessioned\": \"2019-03-29T20:00:00Z\",\n      \"datecollected\": \"2019-03-29T20:00:00Z\",\n      \"dateReceived\": \"2019-03-29T20:00:00Z\"\n    }\n  ]\n}\n]\n}\n</code></pre>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":215364,"reputation":3722,"user_id":469983,"display_name":"Adinia"},"score":0,"creation_date":1559723617,"post_id":56454721,"comment_id":99505727,"body_markdown":"How do you know it&#39;s not working? By looking at `singleparsed`? If so, it&#39;s normal,  you need to move it after the lines where you put the new values.","body":"How do you know it&#39;s not working? By looking at <code>singleparsed</code>? If so, it&#39;s normal,  you need to move it after the lines where you put the new values."},{"owner":{"account_id":16064508,"reputation":19,"user_id":11594547,"display_name":"pavan sai"},"score":0,"creation_date":1559725930,"post_id":56454721,"comment_id":99506912,"body_markdown":"Yeah you were right but its not updating in link why??","body":"Yeah you were right but its not updating in link why??"},{"owner":{"account_id":215364,"reputation":3722,"user_id":469983,"display_name":"Adinia"},"score":0,"creation_date":1559725935,"post_id":56454721,"comment_id":99506916,"body_markdown":"Well, then show us all the code; here you are just creating a copy to the `JO` object with the new values, but you are not using it, nor publishing it back to the url.","body":"Well, then show us all the code; here you are just creating a copy to the <code>JO</code> object with the new values, but you are not using it, nor publishing it back to the url."},{"owner":{"account_id":16064508,"reputation":19,"user_id":11594547,"display_name":"pavan sai"},"score":0,"creation_date":1559727119,"post_id":56454721,"comment_id":99507478,"body_markdown":"this was the code and to post it back what to do?? Thanks","body":"this was the code and to post it back what to do?? Thanks"},{"owner":{"account_id":215364,"reputation":3722,"user_id":469983,"display_name":"Adinia"},"score":0,"creation_date":1559727947,"post_id":56454721,"comment_id":99507880,"body_markdown":"That&#39;s entirely another question; see [Android-POST Json with HttpUrlConnection](https://stackoverflow.com/q/40238360)","body":"That&#39;s entirely another question; see <a href=\"https://stackoverflow.com/q/40238360\">Android-POST Json with HttpUrlConnection</a>"},{"owner":{"account_id":16064508,"reputation":19,"user_id":11594547,"display_name":"pavan sai"},"score":0,"creation_date":1559737473,"post_id":56454721,"comment_id":99512224,"body_markdown":"i have gone through that but i didnt get where to use that method in above code??please help","body":"i have gone through that but i didnt get where to use that method in above code??please help"}],"answers":[{"tags":[],"owner":{"account_id":11123015,"reputation":1,"user_id":8165369,"display_name":"Mathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559717199,"creation_date":1559714185,"answer_id":56454916,"question_id":56454721,"body_markdown":"We can use JSON Object request instead of String request in Volley.\r\n\r\n    JSONObject obj = JSONObject()\r\n    obj.put(&quot;name&quot;, &quot;xxx&quot;)\r\n    obj.put(&quot;hit&quot;, false)\r\n    \r\n    Log.i(&quot;OutPut : &quot;,obj.toString())","title":"How to update element value in JsonObject?","body":"<p>We can use JSON Object request instead of String request in Volley.</p>\n\n<pre><code>JSONObject obj = JSONObject()\nobj.put(\"name\", \"xxx\")\nobj.put(\"hit\", false)\n\nLog.i(\"OutPut : \",obj.toString())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8052003,"reputation":134,"user_id":6070229,"display_name":"Chandan Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559715545,"creation_date":1559715545,"answer_id":56455131,"question_id":56454721,"body_markdown":" You can override the value as you want putting the same key.\r\n    \r\n    \r\n    [ { &quot;name&quot;: &quot;pavan&quot;, &quot;hit&quot;: true } ]\r\n    \r\n    JsonObject jsonObj = new JsonObject();\r\n    jsonObj .put(&quot;name&quot;, &quot;Sai&quot;);\r\n    jsonObj .put(&quot;hit&quot;, false); \r\n","title":"How to update element value in JsonObject?","body":"<p>You can override the value as you want putting the same key.</p>\n\n<pre><code>[ { \"name\": \"pavan\", \"hit\": true } ]\n\nJsonObject jsonObj = new JsonObject();\njsonObj .put(\"name\", \"Sai\");\njsonObj .put(\"hit\", false); \n</code></pre>\n"}],"owner":{"account_id":16064508,"reputation":19,"user_id":11594547,"display_name":"pavan sai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10274,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1650186395,"creation_date":1559712802,"question_id":56454721,"body_markdown":"I have a json file with parameters `name` and `hit`.\r\n\r\n    [{\r\n        &quot;name&quot;: &quot;pavan&quot;,\r\n        &quot;hit&quot;: true   \r\n    }]\r\n\r\nI would like to update `name` and `hit` to \r\n\r\n    [{\r\n        &quot;name&quot;: &quot;sai&quot;,\r\n        &quot;hit&quot;: false\r\n    }]\r\n\r\nI tried using `put` but it is not updating the values.\r\n\r\n\r\n    protected Void doInBackground(Void... voids) {\r\n    \r\n          /*  x = new ArrayList&lt;Entry&gt;();\r\n            y = new ArrayList&lt;String&gt;();*/\r\n            try {\r\n                URL url=new URL(&quot;https://api.myjson.com/bins/1854yb&quot;);\r\n                HttpURLConnection httpURLConnection=(HttpURLConnection) url.openConnection();\r\n                InputStream inputStream=httpURLConnection.getInputStream();\r\n                BufferedReader bufferedReader=new BufferedReader(new InputStreamReader(inputStream));\r\n                String line=&quot;&quot;;\r\n                while (line!=null)\r\n                {\r\n                    line=bufferedReader.readLine();\r\n                    data=data+line;\r\n                }\r\n                JSONArray JA=new JSONArray(data);\r\n                for(int i=0;i&lt;JA.length();i++)\r\n                {\r\n                    JSONObject JO= (JSONObject) JA.get(i);\r\n                    singleparsed=&quot;Name:&quot;+JO.get(&quot;name&quot;)+&quot;\\n&quot;+\r\n                            &quot;Hit:&quot;+JO.get(&quot;hit&quot;);\r\n                    \r\n                    JO.put(&quot;name&quot;,&quot;sai&quot;);\r\n                    JO.put(&quot;hit&quot;,false);\r\n    \r\n                    dataparsed=dataparsed+singleparsed;\r\n                }\r\n    \r\n    \r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n\r\nI want to update any element in that file, but it&#39;s not working.","title":"How to update element value in JsonObject?","body":"<p>I have a json file with parameters <code>name</code> and <code>hit</code>.</p>\n\n<pre><code>[{\n    \"name\": \"pavan\",\n    \"hit\": true   \n}]\n</code></pre>\n\n<p>I would like to update <code>name</code> and <code>hit</code> to </p>\n\n<pre><code>[{\n    \"name\": \"sai\",\n    \"hit\": false\n}]\n</code></pre>\n\n<p>I tried using <code>put</code> but it is not updating the values.</p>\n\n<pre><code>protected Void doInBackground(Void... voids) {\n\n      /*  x = new ArrayList&lt;Entry&gt;();\n        y = new ArrayList&lt;String&gt;();*/\n        try {\n            URL url=new URL(\"https://api.myjson.com/bins/1854yb\");\n            HttpURLConnection httpURLConnection=(HttpURLConnection) url.openConnection();\n            InputStream inputStream=httpURLConnection.getInputStream();\n            BufferedReader bufferedReader=new BufferedReader(new InputStreamReader(inputStream));\n            String line=\"\";\n            while (line!=null)\n            {\n                line=bufferedReader.readLine();\n                data=data+line;\n            }\n            JSONArray JA=new JSONArray(data);\n            for(int i=0;i&lt;JA.length();i++)\n            {\n                JSONObject JO= (JSONObject) JA.get(i);\n                singleparsed=\"Name:\"+JO.get(\"name\")+\"\\n\"+\n                        \"Hit:\"+JO.get(\"hit\");\n\n                JO.put(\"name\",\"sai\");\n                JO.put(\"hit\",false);\n\n                dataparsed=dataparsed+singleparsed;\n            }\n\n\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n</code></pre>\n\n<p>I want to update any element in that file, but it's not working.</p>\n"},{"tags":["java","opencv","computer-vision","edge-detection"],"comments":[{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":0,"creation_date":1650185729,"post_id":71893073,"comment_id":127053608,"body_markdown":"After posting the answer, I tried your JAVA code, and the problem is not reproducible (I downloaded the JAVA code only now). I saw you replaced `200.3` with `200,3`. Did you fix the issue, or is it a result of using different OpenCV version? I also updated my post with suggested simplified version of JAVA implementation.","body":"After posting the answer, I tried your JAVA code, and the problem is not reproducible (I downloaded the JAVA code only now). I saw you replaced <code>200.3</code> with <code>200,3</code>. Did you fix the issue, or is it a result of using different OpenCV version? I also updated my post with suggested simplified version of JAVA implementation."}],"answers":[{"tags":[],"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650185375,"creation_date":1650148530,"answer_id":71897951,"question_id":71893073,"body_markdown":"The main issue is applying `findContours` after Canny edge detection.  \r\n\r\nThe Canny operator creates small gaps in the external contours:  \r\n[![enter image description here][1]][1]  \r\n\r\nIn combination with `approxPolyDP`, we are getting weird results.  \r\n\r\n---\r\n\r\nSimple solution is skipping the Canny operator and applying `findContours` on `dilatedMat`.  \r\n\r\nReplace `Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);` with:  \r\n\r\n    Imgproc.findContours(dilatedMat, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\r\n\r\nNote: using `RETR_EXTERNAL` is recommended but not a must in this case.  \r\n\r\n---\r\n\r\nA minor issue is that there are small contours that are result of noise.  \r\nWe may use [opening][2] morphological operation for removing the small (noise) contours (better applied before dilate).  \r\n\r\nAnother simple solution is skipping contours with small area.  \r\nI found out that area below 10000 pixels may considered &quot;small&quot;.  \r\n\r\n\r\nIn the for loop add an if statement:  \r\n\r\n    double area = Imgproc.contourArea(cnt);\r\n    if (area &gt; 10000) { // Exclude small contours (noise)...\r\n\r\n---\r\n\r\nOutput:  \r\n\r\n[![enter image description here][3]][3]\r\n\r\n---\r\n\r\nI converted the code to Python (the JAVA code is kept in the comments).\r\n\r\nComplete code sample:  \r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    import cv2\r\n    import numpy as np\r\n    \r\n    srcMat = cv2.imread(&#39;receipts.jpg&#39;)  # Read input image\r\n    cv2.resize(srcMat, (0, 0), srcMat, 0.1, 0.1, cv2.INTER_AREA)  # Imgproc.resize (srcMat, srcMat, new Size (0,0), 0.5, 0.5, Imgproc.INTER_AREA);\r\n    grayMat = cv2.cvtColor(srcMat, cv2.COLOR_BGR2GRAY)  # grayMat = Imgproc.cvtColor (srcMat, grayMat, Imgproc.COLOR_BGR2GRAY);\r\n    grayMat = cv2.threshold(grayMat, 177, 200, cv2.THRESH_BINARY)[1]  # Imgproc.threshold (grayMat, grayMat, 177, 200, Imgproc.THRESH_BINARY);\r\n    blurredMat = cv2.GaussianBlur(grayMat, ksize=(21, 21), sigmaX=0, sigmaY=0)  # Imgproc.GaussianBlur (grayMat, blurredMat, new Size (21,21), 0, 0, Core.BORDER_DEFAULT); // 3,3, 9,9 15,15, ....\r\n    \r\n    rectKernel = cv2.getStructuringElement(cv2.MORPH_RECT, (21, 21))  # Mat rectKernel = Imgproc.getStructuringElement (Imgproc.MORPH_RECT, new Size (21,21));\r\n    \r\n    dilatedMat = cv2.dilate(blurredMat, rectKernel)  # Imgproc.dilate (blurredMat, dilatedMat, rectKernel, new Point (0,0), 1);\r\n    cannyMat = cv2.Canny(dilatedMat, 100, 200.3)  # Imgproc.Canny (dilatedMat, cannyMat, 100,200.3);\r\n    \r\n    # List &lt;MatOfPoint&gt; contours = new ArrayList &lt;MatOfPoint&gt; ();\r\n    # final Mat hierarchy = new Mat ();\r\n    #contours, hierarchy = cv2.findContours(cannyMat, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)  # Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\r\n    \r\n    # Find contours over dilatedMat (the Canny operator creates gaps in the external contour).\r\n    contours, hierarchy = cv2.findContours(dilatedMat, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)  # Imgproc.findContours(dilatedMat, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\r\n    \r\n    \r\n    # Use cv2.RETR_EXTERNAL instead of cv2.RETR_TREE\r\n    #contours, hierarchy = cv2.findContours(cannyMat, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)  # Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\r\n    \r\n    cntImg = srcMat.copy()\r\n    # Mark best_cnt with green line - used for testing\r\n    cv2.drawContours(cntImg, contours, -1, (0, 255, 0), 20)\r\n    \r\n    # for(MatOfPoint cnt : contours) {\r\n    for cnt  in contours:\r\n        area = cv2.contourArea(cnt)\r\n    \r\n        # Exclude small contours (noise)\r\n        if area &gt; 10000:\r\n            mop2f = cv2.approxPolyDP(cnt, 0.02 * cv2.arcLength(cnt, True), True)  # Imgproc.approxPolyDP(mop2f, mop2f, 0.02*Imgproc.arcLength(mop2f, true), true);\r\n            rr = cv2.minAreaRect(mop2f) #  RotatedRect rr = Imgproc.minAreaRect(mop2f);\r\n            m = cv2.boxPoints(rr) # Imgproc.boxPoints(rr, m);  \r\n    \r\n            # Point[] rectPoints = new Point[4];\r\n            # rr.points(rectPoints);\r\n            rectPoints = np.int0(m)  # Convert all coordinates floating point values to int\r\n    \r\n            # for (int j = 0; j &lt; 4; ++j) {\r\n            #     Imgproc.line(srcMat, rectPoints[j], rectPoints[(j + 1) % 4], new Scalar(0,255,0), 20); }    \r\n            #for j in range(4):\r\n            #    cv2.line(srcMat, tuple(rectPoints[j]), tuple(rectPoints[(j + 1) % 4]), (0, 255, 0), 20)  # Imgproc.line(srcMat, rectPoints[j], rectPoints[(j + 1) % 4], new Scalar(0,255,0), 20);\r\n    \r\n            # Deaw the rectangles using drawContours instead of drawing lines\r\n            # https://stackoverflow.com/questions/18207181/opencv-python-draw-minarearect-rotatedrect-not-implemented\r\n            cv2.drawContours(srcMat, [rectPoints], 0, (0, 255, 0), 20)\r\n    \r\n            boundingRect = cv2.boundingRect(cnt)  # Rect boundingRect = Imgproc.boundingRect(cnt);\r\n            cv2.rectangle(srcMat, boundingRect, (0, 0, 255), 20)  # Imgproc.rectangle(srcMat, boundingRect, new Scalar(0,0,255),20); //scalar not is RGB but BGR !\r\n\r\n---\r\n\r\nSimplifying the implementation (suggestion):  \r\n\r\n - Use `Imgproc.THRESH_OTSU` for automatic threshold selection.  \r\n - There is no need to apply `GaussianBlur`.\r\n - Use closing instead of dilate.\r\n - There is no need to apply `Canny`.\r\n\r\nSuggested JAVA code:  \r\n\r\n    package myproject; //package it.neo7bf;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.MatOfPoint;\r\n    import org.opencv.core.MatOfPoint2f;\r\n    import org.opencv.core.Point;\r\n    import org.opencv.core.Rect;\r\n    import org.opencv.core.RotatedRect;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.core.Size;\r\n    import org.opencv.imgcodecs.Imgcodecs;\r\n    import org.opencv.imgproc.Imgproc;\r\n    \r\n    //import nu.pattern.OpenCV;\r\n    \r\n    public class SeparationTest3 {\r\n        \r\n        static { System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\r\n        \r\n        static class I {\r\n            public String name;\r\n            public int v;\r\n            I(String name, int v) {\r\n                this.name = name;\r\n                this.v = v;\r\n            }\r\n        }\r\n        \r\n        public static void cannyTest() {\r\n    \r\n            List&lt;I&gt; images = List.of(\r\n                new I(&quot;2022-04-16_085329&quot;,3)\r\n            );\r\n    \r\n            for(I image : images) {\r\n    \r\n                Mat srcMat = Imgcodecs.imread(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\&quot;+image.name+&quot;.jpg&quot;);\r\n                \r\n                Mat grayMat = new Mat();\r\n                //Mat blurredMat = new Mat();\r\n                Mat dilatedMat = new Mat();\r\n                //Mat cannyMat = new Mat();\r\n                \r\n    \r\n                Imgproc.resize(srcMat, srcMat, new Size(0,0), 0.5, 0.5, Imgproc.INTER_AREA);\r\n                Imgproc.cvtColor(srcMat, grayMat, Imgproc.COLOR_BGR2GRAY);\r\n                //Imgproc.threshold(grayMat, grayMat, 177, 200, Imgproc.THRESH_BINARY);\r\n                Imgproc.threshold(grayMat, grayMat, 0, 255, Imgproc.THRESH_OTSU);  //Use automatic threshold\r\n                \r\n                //There is no need to blur the image after threshold\r\n                //Imgproc.GaussianBlur(grayMat, blurredMat, new Size(21,21),0, 0,Core.BORDER_DEFAULT); //3,3, 9,9 15,15,....\r\n                    \r\n                Mat rectKernel = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new Size(21,21));\r\n                \r\n                //Imgproc.dilate(blurredMat, dilatedMat, rectKernel, new Point(0,0),1);\r\n                Imgproc.morphologyEx(grayMat, dilatedMat, Imgproc.MORPH_CLOSE, rectKernel);  // Use closing instead of dilate\r\n                //Imgproc.Canny(dilatedMat,cannyMat,100,200,3); //No need for Canny\r\n                \r\n                List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\r\n                final Mat hierarchy = new Mat();\r\n        \r\n                //Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\r\n                \r\n                Imgproc.findContours(dilatedMat, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\r\n                \r\n                //contours = getMaxContours(contours,image.v);\r\n                \r\n                for(MatOfPoint cnt : contours) {\r\n                    double area = Imgproc.contourArea(cnt);\r\n                    if (area &gt; 10000) //Ignore small contours\r\n                    {\r\n                        MatOfPoint2f mop2f = new MatOfPoint2f(cnt.toArray());\r\n                        Imgproc.approxPolyDP(mop2f, mop2f, 0.02*Imgproc.arcLength(mop2f, true), true);\r\n                        RotatedRect rr = Imgproc.minAreaRect(mop2f);\r\n                        MatOfPoint m = new MatOfPoint();                    \r\n                        Imgproc.boxPoints(rr, m);\r\n                        Point[] rectPoints = new Point[4];          \r\n                        rr.points(rectPoints);\r\n                        for (int j = 0; j &lt; 4; ++j) {\r\n                          Imgproc.line(srcMat, rectPoints[j], rectPoints[(j + 1) % 4], new Scalar(0,255,0), 20); \r\n                        }\r\n    \r\n                        //BoundingBox\r\n                        Rect boundingRect = Imgproc.boundingRect(cnt);\r\n                        Imgproc.rectangle(srcMat, boundingRect, new Scalar(0,0,255),20); //scalar not is RGB but BGR !\r\n                    }\r\n                }\r\n                        \r\n                //C:\\ProgettoScontrino\\scontrini\\campioni-test\\test-separazione\\output\\\r\n                Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;gray.jpg&quot;, grayMat);\r\n                //Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;blurred.jpg&quot;, blurredMat);\r\n                Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;dilated.jpg&quot;, dilatedMat);\r\n                //Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;canny.jpg&quot;, cannyMat);\r\n                Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;contours.jpg&quot;, srcMat);\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            cannyTest();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2UQjV.png\r\n  [2]: https://en.wikipedia.org/wiki/Opening_(morphology)\r\n  [3]: https://i.stack.imgur.com/4bR9Q.png","title":"Why i can&#39;t correctly select the rectangular areas with java opencv?","body":"<p>The main issue is applying <code>findContours</code> after Canny edge detection.</p>\n<p>The Canny operator creates small gaps in the external contours:<br />\n<a href=\"https://i.stack.imgur.com/2UQjV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2UQjV.png\" alt=\"enter image description here\" /></a></p>\n<p>In combination with <code>approxPolyDP</code>, we are getting weird results.</p>\n<hr />\n<p>Simple solution is skipping the Canny operator and applying <code>findContours</code> on <code>dilatedMat</code>.</p>\n<p>Replace <code>Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);</code> with:</p>\n<pre><code>Imgproc.findContours(dilatedMat, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\n</code></pre>\n<p>Note: using <code>RETR_EXTERNAL</code> is recommended but not a must in this case.</p>\n<hr />\n<p>A minor issue is that there are small contours that are result of noise.<br />\nWe may use <a href=\"https://en.wikipedia.org/wiki/Opening_(morphology)\" rel=\"nofollow noreferrer\">opening</a> morphological operation for removing the small (noise) contours (better applied before dilate).</p>\n<p>Another simple solution is skipping contours with small area.<br />\nI found out that area below 10000 pixels may considered &quot;small&quot;.</p>\n<p>In the for loop add an if statement:</p>\n<pre><code>double area = Imgproc.contourArea(cnt);\nif (area &gt; 10000) { // Exclude small contours (noise)...\n</code></pre>\n<hr />\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/4bR9Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4bR9Q.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>I converted the code to Python (the JAVA code is kept in the comments).</p>\n<p>Complete code sample:</p>\n<pre class=\"lang-python prettyprint-override\"><code>import cv2\nimport numpy as np\n\nsrcMat = cv2.imread('receipts.jpg')  # Read input image\ncv2.resize(srcMat, (0, 0), srcMat, 0.1, 0.1, cv2.INTER_AREA)  # Imgproc.resize (srcMat, srcMat, new Size (0,0), 0.5, 0.5, Imgproc.INTER_AREA);\ngrayMat = cv2.cvtColor(srcMat, cv2.COLOR_BGR2GRAY)  # grayMat = Imgproc.cvtColor (srcMat, grayMat, Imgproc.COLOR_BGR2GRAY);\ngrayMat = cv2.threshold(grayMat, 177, 200, cv2.THRESH_BINARY)[1]  # Imgproc.threshold (grayMat, grayMat, 177, 200, Imgproc.THRESH_BINARY);\nblurredMat = cv2.GaussianBlur(grayMat, ksize=(21, 21), sigmaX=0, sigmaY=0)  # Imgproc.GaussianBlur (grayMat, blurredMat, new Size (21,21), 0, 0, Core.BORDER_DEFAULT); // 3,3, 9,9 15,15, ....\n\nrectKernel = cv2.getStructuringElement(cv2.MORPH_RECT, (21, 21))  # Mat rectKernel = Imgproc.getStructuringElement (Imgproc.MORPH_RECT, new Size (21,21));\n\ndilatedMat = cv2.dilate(blurredMat, rectKernel)  # Imgproc.dilate (blurredMat, dilatedMat, rectKernel, new Point (0,0), 1);\ncannyMat = cv2.Canny(dilatedMat, 100, 200.3)  # Imgproc.Canny (dilatedMat, cannyMat, 100,200.3);\n\n# List &lt;MatOfPoint&gt; contours = new ArrayList &lt;MatOfPoint&gt; ();\n# final Mat hierarchy = new Mat ();\n#contours, hierarchy = cv2.findContours(cannyMat, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)  # Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\n\n# Find contours over dilatedMat (the Canny operator creates gaps in the external contour).\ncontours, hierarchy = cv2.findContours(dilatedMat, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)  # Imgproc.findContours(dilatedMat, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\n\n\n# Use cv2.RETR_EXTERNAL instead of cv2.RETR_TREE\n#contours, hierarchy = cv2.findContours(cannyMat, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)  # Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\n\ncntImg = srcMat.copy()\n# Mark best_cnt with green line - used for testing\ncv2.drawContours(cntImg, contours, -1, (0, 255, 0), 20)\n\n# for(MatOfPoint cnt : contours) {\nfor cnt  in contours:\n    area = cv2.contourArea(cnt)\n\n    # Exclude small contours (noise)\n    if area &gt; 10000:\n        mop2f = cv2.approxPolyDP(cnt, 0.02 * cv2.arcLength(cnt, True), True)  # Imgproc.approxPolyDP(mop2f, mop2f, 0.02*Imgproc.arcLength(mop2f, true), true);\n        rr = cv2.minAreaRect(mop2f) #  RotatedRect rr = Imgproc.minAreaRect(mop2f);\n        m = cv2.boxPoints(rr) # Imgproc.boxPoints(rr, m);  \n\n        # Point[] rectPoints = new Point[4];\n        # rr.points(rectPoints);\n        rectPoints = np.int0(m)  # Convert all coordinates floating point values to int\n\n        # for (int j = 0; j &lt; 4; ++j) {\n        #     Imgproc.line(srcMat, rectPoints[j], rectPoints[(j + 1) % 4], new Scalar(0,255,0), 20); }    \n        #for j in range(4):\n        #    cv2.line(srcMat, tuple(rectPoints[j]), tuple(rectPoints[(j + 1) % 4]), (0, 255, 0), 20)  # Imgproc.line(srcMat, rectPoints[j], rectPoints[(j + 1) % 4], new Scalar(0,255,0), 20);\n\n        # Deaw the rectangles using drawContours instead of drawing lines\n        # https://stackoverflow.com/questions/18207181/opencv-python-draw-minarearect-rotatedrect-not-implemented\n        cv2.drawContours(srcMat, [rectPoints], 0, (0, 255, 0), 20)\n\n        boundingRect = cv2.boundingRect(cnt)  # Rect boundingRect = Imgproc.boundingRect(cnt);\n        cv2.rectangle(srcMat, boundingRect, (0, 0, 255), 20)  # Imgproc.rectangle(srcMat, boundingRect, new Scalar(0,0,255),20); //scalar not is RGB but BGR !\n</code></pre>\n<hr />\n<p>Simplifying the implementation (suggestion):</p>\n<ul>\n<li>Use <code>Imgproc.THRESH_OTSU</code> for automatic threshold selection.</li>\n<li>There is no need to apply <code>GaussianBlur</code>.</li>\n<li>Use closing instead of dilate.</li>\n<li>There is no need to apply <code>Canny</code>.</li>\n</ul>\n<p>Suggested JAVA code:</p>\n<pre><code>package myproject; //package it.neo7bf;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfPoint;\nimport org.opencv.core.MatOfPoint2f;\nimport org.opencv.core.Point;\nimport org.opencv.core.Rect;\nimport org.opencv.core.RotatedRect;\nimport org.opencv.core.Scalar;\nimport org.opencv.core.Size;\nimport org.opencv.imgcodecs.Imgcodecs;\nimport org.opencv.imgproc.Imgproc;\n\n//import nu.pattern.OpenCV;\n\npublic class SeparationTest3 {\n    \n    static { System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\n    \n    static class I {\n        public String name;\n        public int v;\n        I(String name, int v) {\n            this.name = name;\n            this.v = v;\n        }\n    }\n    \n    public static void cannyTest() {\n\n        List&lt;I&gt; images = List.of(\n            new I(&quot;2022-04-16_085329&quot;,3)\n        );\n\n        for(I image : images) {\n\n            Mat srcMat = Imgcodecs.imread(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\&quot;+image.name+&quot;.jpg&quot;);\n            \n            Mat grayMat = new Mat();\n            //Mat blurredMat = new Mat();\n            Mat dilatedMat = new Mat();\n            //Mat cannyMat = new Mat();\n            \n\n            Imgproc.resize(srcMat, srcMat, new Size(0,0), 0.5, 0.5, Imgproc.INTER_AREA);\n            Imgproc.cvtColor(srcMat, grayMat, Imgproc.COLOR_BGR2GRAY);\n            //Imgproc.threshold(grayMat, grayMat, 177, 200, Imgproc.THRESH_BINARY);\n            Imgproc.threshold(grayMat, grayMat, 0, 255, Imgproc.THRESH_OTSU);  //Use automatic threshold\n            \n            //There is no need to blur the image after threshold\n            //Imgproc.GaussianBlur(grayMat, blurredMat, new Size(21,21),0, 0,Core.BORDER_DEFAULT); //3,3, 9,9 15,15,....\n                \n            Mat rectKernel = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new Size(21,21));\n            \n            //Imgproc.dilate(blurredMat, dilatedMat, rectKernel, new Point(0,0),1);\n            Imgproc.morphologyEx(grayMat, dilatedMat, Imgproc.MORPH_CLOSE, rectKernel);  // Use closing instead of dilate\n            //Imgproc.Canny(dilatedMat,cannyMat,100,200,3); //No need for Canny\n            \n            List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\n            final Mat hierarchy = new Mat();\n    \n            //Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\n            \n            Imgproc.findContours(dilatedMat, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\n            \n            //contours = getMaxContours(contours,image.v);\n            \n            for(MatOfPoint cnt : contours) {\n                double area = Imgproc.contourArea(cnt);\n                if (area &gt; 10000) //Ignore small contours\n                {\n                    MatOfPoint2f mop2f = new MatOfPoint2f(cnt.toArray());\n                    Imgproc.approxPolyDP(mop2f, mop2f, 0.02*Imgproc.arcLength(mop2f, true), true);\n                    RotatedRect rr = Imgproc.minAreaRect(mop2f);\n                    MatOfPoint m = new MatOfPoint();                    \n                    Imgproc.boxPoints(rr, m);\n                    Point[] rectPoints = new Point[4];          \n                    rr.points(rectPoints);\n                    for (int j = 0; j &lt; 4; ++j) {\n                      Imgproc.line(srcMat, rectPoints[j], rectPoints[(j + 1) % 4], new Scalar(0,255,0), 20); \n                    }\n\n                    //BoundingBox\n                    Rect boundingRect = Imgproc.boundingRect(cnt);\n                    Imgproc.rectangle(srcMat, boundingRect, new Scalar(0,0,255),20); //scalar not is RGB but BGR !\n                }\n            }\n                    \n            //C:\\ProgettoScontrino\\scontrini\\campioni-test\\test-separazione\\output\\\n            Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;gray.jpg&quot;, grayMat);\n            //Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;blurred.jpg&quot;, blurredMat);\n            Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;dilated.jpg&quot;, dilatedMat);\n            //Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;canny.jpg&quot;, cannyMat);\n            Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;contours.jpg&quot;, srcMat);\n        }\n    }\n    \n    public static void main(String[] args) {\n        cannyTest();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5422650,"reputation":151,"user_id":4315871,"display_name":"Forcuti Alessandro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71897951,"answer_count":1,"score":1,"last_activity_date":1650185375,"creation_date":1650104786,"question_id":71893073,"body_markdown":"through opencv I would like to select the areas of the receipts from images like this:\r\n\r\nhttps://i.imgur.com/BnXzWPe.jpg\r\n\r\nand then crop them and save them in separate files.\r\n\r\nThe image was scanned at 1200 Dpi by superimposing a black cardboard over the receipts to better identify the edges.\r\n\r\nSo far I have come to the following result:\r\n\r\nhttps://i.imgur.com/tRaPocd.jpg\r\n\r\nwhere you can see in red the bounding box rectangle containing the receipt and in green the rectangle with the minimum area.\r\n\r\nDespite the correct identification of the edges with Canny:\r\n\r\nhttps://i.stack.imgur.com/aULhG.jpg\r\n\r\nthe central image green area is not correct and I cannot understand why.\r\n\r\nThis is an excerpt from the source code that you can find here in full: https://pastebin.com/NNc18pzA\r\n\r\n    Imgproc.resize (srcMat, srcMat, new Size (0,0), 0.5, 0.5, Imgproc.INTER_AREA);\r\n    Imgproc.cvtColor (srcMat, grayMat, Imgproc.COLOR_BGR2GRAY);\r\n    Imgproc.threshold (grayMat, grayMat, 177, 200, Imgproc.THRESH_BINARY);\r\n    Imgproc.GaussianBlur (grayMat, blurredMat, new Size (21,21), 0, 0, Core.BORDER_DEFAULT); // 3,3, 9,9 15,15, ....\r\n    \r\n    Mat rectKernel = Imgproc.getStructuringElement (Imgproc.MORPH_RECT, new Size (21,21));\r\n    \r\n    Imgproc.dilate (blurredMat, dilatedMat, rectKernel, new Point (0,0), 1);\r\n    Imgproc.Canny (dilatedMat, cannyMat, 100,200.3);\r\n    \r\n    List &lt;MatOfPoint&gt; contours = new ArrayList &lt;MatOfPoint&gt; ();\r\n    final Mat hierarchy = new Mat ();\r\n    \r\n    Imgproc.findContours (cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\r\n\r\n\r\nThese are the images processed in the intermediate stages:\r\n\r\ngrayed:\r\nhttps://i.imgur.com/ufeIMQT.jpg\r\n\r\nblurred:\r\nhttps://i.stack.imgur.com/2M6GW.jpg\r\n\r\ndilated:\r\nhttps://i.stack.imgur.com/CPlj4.jpg\r\n\r\nthis is the version of opencv used:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.openpnp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.3.0-2&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\n \r\n\r\n\r\nPlease help me.\r\n\r\nThank you all.","title":"Why i can&#39;t correctly select the rectangular areas with java opencv?","body":"<p>through opencv I would like to select the areas of the receipts from images like this:</p>\n<p><a href=\"https://i.imgur.com/BnXzWPe.jpg\" rel=\"nofollow noreferrer\">https://i.imgur.com/BnXzWPe.jpg</a></p>\n<p>and then crop them and save them in separate files.</p>\n<p>The image was scanned at 1200 Dpi by superimposing a black cardboard over the receipts to better identify the edges.</p>\n<p>So far I have come to the following result:</p>\n<p><a href=\"https://i.imgur.com/tRaPocd.jpg\" rel=\"nofollow noreferrer\">https://i.imgur.com/tRaPocd.jpg</a></p>\n<p>where you can see in red the bounding box rectangle containing the receipt and in green the rectangle with the minimum area.</p>\n<p>Despite the correct identification of the edges with Canny:</p>\n<p><a href=\"https://i.stack.imgur.com/aULhG.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/aULhG.jpg</a></p>\n<p>the central image green area is not correct and I cannot understand why.</p>\n<p>This is an excerpt from the source code that you can find here in full: <a href=\"https://pastebin.com/NNc18pzA\" rel=\"nofollow noreferrer\">https://pastebin.com/NNc18pzA</a></p>\n<pre><code>Imgproc.resize (srcMat, srcMat, new Size (0,0), 0.5, 0.5, Imgproc.INTER_AREA);\nImgproc.cvtColor (srcMat, grayMat, Imgproc.COLOR_BGR2GRAY);\nImgproc.threshold (grayMat, grayMat, 177, 200, Imgproc.THRESH_BINARY);\nImgproc.GaussianBlur (grayMat, blurredMat, new Size (21,21), 0, 0, Core.BORDER_DEFAULT); // 3,3, 9,9 15,15, ....\n\nMat rectKernel = Imgproc.getStructuringElement (Imgproc.MORPH_RECT, new Size (21,21));\n\nImgproc.dilate (blurredMat, dilatedMat, rectKernel, new Point (0,0), 1);\nImgproc.Canny (dilatedMat, cannyMat, 100,200.3);\n\nList &lt;MatOfPoint&gt; contours = new ArrayList &lt;MatOfPoint&gt; ();\nfinal Mat hierarchy = new Mat ();\n\nImgproc.findContours (cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\n</code></pre>\n<p>These are the images processed in the intermediate stages:</p>\n<p>grayed:\n<a href=\"https://i.imgur.com/ufeIMQT.jpg\" rel=\"nofollow noreferrer\">https://i.imgur.com/ufeIMQT.jpg</a></p>\n<p>blurred:\n<a href=\"https://i.stack.imgur.com/2M6GW.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/2M6GW.jpg</a></p>\n<p>dilated:\n<a href=\"https://i.stack.imgur.com/CPlj4.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CPlj4.jpg</a></p>\n<p>this is the version of opencv used:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\n    &lt;artifactId&gt;opencv&lt;/artifactId&gt;\n    &lt;version&gt;4.3.0-2&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>Please help me.</p>\n<p>Thank you all.</p>\n"},{"tags":["java","android","flutter","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":3438445,"reputation":1239,"user_id":2880947,"accept_rate":75,"display_name":"Gerry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649844602,"creation_date":1649842867,"answer_id":71855258,"question_id":71855169,"body_markdown":"It seems like some configuration files for android are missing.\r\n\r\nTry reinstalling the Android SDK.\r\n\r\nTo do this, you need to uninstall from SDK Manager and then reinstall it.\r\n\r\nFind it by: Clicking Tools &gt; SDK Manager.\r\n\r\n\r\n","title":"flutter gradle build failed with gradle 4.2.2 and sdk version 31","body":"<p>It seems like some configuration files for android are missing.</p>\n<p>Try reinstalling the Android SDK.</p>\n<p>To do this, you need to uninstall from SDK Manager and then reinstall it.</p>\n<p>Find it by: Clicking Tools &gt; SDK Manager.</p>\n"},{"tags":[],"owner":{"account_id":2566496,"reputation":2586,"user_id":2226388,"accept_rate":54,"display_name":"questionasker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650185085,"creation_date":1650185085,"answer_id":71900507,"question_id":71855169,"body_markdown":"I finally solve this issue by downgrade my Gradle version to `4.1.0`\r\n\r\n    dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n            ...        \r\n    }","title":"flutter gradle build failed with gradle 4.2.2 and sdk version 31","body":"<p>I finally solve this issue by downgrade my Gradle version to <code>4.1.0</code></p>\n<pre><code>dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.0'\n        ...        \n}\n</code></pre>\n"}],"owner":{"account_id":2566496,"reputation":2586,"user_id":2226388,"accept_rate":54,"display_name":"questionasker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3754,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71900507,"answer_count":2,"score":3,"last_activity_date":1650185085,"creation_date":1649842448,"question_id":71855169,"body_markdown":"I get below error when building flutter mobile apps:\r\n\r\n```\r\n* What went wrong:\r\nExecution failed for task &#39;:location_permissions:parseReleaseLocalResources&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:location_permissions:androidApis&#39;.\r\n   &gt; Failed to transform android.jar to match attributes {artifactType=android-platform-attr, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for PlatformAttrTransform: C:\\Users\\zukijuki\\AppData\\Local\\Android\\sdk\\platforms\\android-29\\android.jar.\r\n         &gt; C:\\Users\\zukijuki\\AppData\\Local\\Android\\sdk\\platforms\\android-29\\android.jar\r\n```\r\n\r\nmy `android/build.gradle` conf:\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven {\r\n            url &#39;https://maven.fabric.io/public&#39;\r\n        }\r\n        maven {\r\n            url &#39;https://plugins.gradle.org/m2/&#39;\r\n        }\r\n        maven {\r\n            url &#39;https://maven.google.com&#39;\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.2.2&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n        classpath &#39;io.fabric.tools:gradle:1.28.1&#39;        \r\n    }\r\n}\r\n``` \r\n\r\nand below `app/build.gradle`:\r\n\r\n```\r\n...\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n    buildToolsVersion &#39;28.0.3&#39;\r\n\r\n    lintOptions {\r\n        //disable &#39;InvalidPackage&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example&quot;\r\n        minSdkVersion 22\r\n        multiDexEnabled true\r\n        targetSdkVersion 30\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        resConfigs &quot;en&quot;, &quot;US&quot;\r\n    }\r\n    \r\n    ...\r\n\r\n}\r\n\r\nflutter {\r\n    source &#39;../..&#39;\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation(&quot;com.google.android.gms:play-services-base:17.0.0&quot;){ force = true } \r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n\r\n    implementation &#39;com.google.android.gms:play-services-location:16.0.0&#39;\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    implementation &#39;com.facebook.android:facebook-android-sdk:[5,6)&#39;\r\n\r\n\r\n}\r\n\r\nconfigurations {\r\n    all*.exclude group: &#39;com.google.guava&#39;, module: &#39;listenablefuture&#39;\r\n}\r\n\r\n\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply plugin: &#39;io.fabric&#39;\r\n```\r\n\r\n\r\nany idea to fix the above problem?\r\n\r\nThank you in advance...\r\n\r\n\r\n===**update**\r\n\r\n1) gradle.properties\r\n```\r\norg.gradle.jvmargs=-Xmx1536M\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\nandroid.enableR8=true\r\n```\r\n\r\n2) Build using `Android Studio Bumblebee | 2021.1.1 Patch 3`\r\n\r\n3) Reinstall API Level 29,30,31,32 still cant resolve.","title":"flutter gradle build failed with gradle 4.2.2 and sdk version 31","body":"<p>I get below error when building flutter mobile apps:</p>\n<pre><code>* What went wrong:\nExecution failed for task ':location_permissions:parseReleaseLocalResources'.\n&gt; Could not resolve all files for configuration ':location_permissions:androidApis'.\n   &gt; Failed to transform android.jar to match attributes {artifactType=android-platform-attr, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for PlatformAttrTransform: C:\\Users\\zukijuki\\AppData\\Local\\Android\\sdk\\platforms\\android-29\\android.jar.\n         &gt; C:\\Users\\zukijuki\\AppData\\Local\\Android\\sdk\\platforms\\android-29\\android.jar\n</code></pre>\n<p>my <code>android/build.gradle</code> conf:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url 'https://maven.fabric.io/public'\n        }\n        maven {\n            url 'https://plugins.gradle.org/m2/'\n        }\n        maven {\n            url 'https://maven.google.com'\n        }\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.2.2'\n        classpath 'com.google.gms:google-services:4.3.3'\n        classpath 'io.fabric.tools:gradle:1.28.1'        \n    }\n}\n</code></pre>\n<p>and below <code>app/build.gradle</code>:</p>\n<pre><code>...\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion '28.0.3'\n\n    lintOptions {\n        //disable 'InvalidPackage'\n    }\n\n    defaultConfig {\n        applicationId &quot;com.example&quot;\n        minSdkVersion 22\n        multiDexEnabled true\n        targetSdkVersion 30\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n        resConfigs &quot;en&quot;, &quot;US&quot;\n    }\n    \n    ...\n\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n\n    implementation(&quot;com.google.android.gms:play-services-base:17.0.0&quot;){ force = true } \n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n    implementation 'com.google.android.gms:play-services-location:16.0.0'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.facebook.android:facebook-android-sdk:[5,6)'\n\n\n}\n\nconfigurations {\n    all*.exclude group: 'com.google.guava', module: 'listenablefuture'\n}\n\n\napply plugin: 'com.google.gms.google-services'\napply plugin: 'io.fabric'\n</code></pre>\n<p>any idea to fix the above problem?</p>\n<p>Thank you in advance...</p>\n<p>===<strong>update</strong></p>\n<ol>\n<li>gradle.properties</li>\n</ol>\n<pre><code>org.gradle.jvmargs=-Xmx1536M\nandroid.useAndroidX=true\nandroid.enableJetifier=true\nandroid.enableR8=true\n</code></pre>\n<ol start=\"2\">\n<li><p>Build using <code>Android Studio Bumblebee | 2021.1.1 Patch 3</code></p>\n</li>\n<li><p>Reinstall API Level 29,30,31,32 still cant resolve.</p>\n</li>\n</ol>\n"},{"tags":["java","real-time"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1303580183,"post_id":5765718,"comment_id":6603488,"body_markdown":"You are aware that &quot;real time&quot; refers to that &quot;things are guaranteed to happen before X cycles&quot; where X can be large, and not &quot;things happen very fast&quot;?","body":"You are aware that &quot;real time&quot; refers to that &quot;things are guaranteed to happen before X cycles&quot; where X can be large, and not &quot;things happen very fast&quot;?"},{"owner":{"account_id":94758,"reputation":9844,"user_id":258526,"accept_rate":66,"display_name":"fred basset"},"score":0,"creation_date":1303580334,"post_id":5765718,"comment_id":6603506,"body_markdown":"Yes, looking to see if hard real time can be done with Java.","body":"Yes, looking to see if hard real time can be done with Java."},{"owner":{"account_id":78148,"reputation":5208,"user_id":222593,"accept_rate":91,"display_name":"seand"},"score":0,"creation_date":1303583174,"post_id":5765718,"comment_id":6603919,"body_markdown":"I&#39;d tread with caution.  Thinks like gc, JIT-compiling at run time can cause unpredictable delays.  Java doesn&#39;t seem like a good choice for this sort of thing","body":"I&#39;d tread with caution.  Thinks like gc, JIT-compiling at run time can cause unpredictable delays.  Java doesn&#39;t seem like a good choice for this sort of thing"},{"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"score":0,"creation_date":1303586974,"post_id":5765718,"comment_id":6604451,"body_markdown":"Please contact me if you have any RT/embedded Java questions.  I can help out.  But on StackOverflow, you need to ask specific questions with well-defined answers... likely to get closed...","body":"Please contact me if you have any RT/embedded Java questions.  I can help out.  But on StackOverflow, you need to ask specific questions with well-defined answers... likely to get closed..."}],"answers":[{"tags":[],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650184747,"creation_date":1303580267,"answer_id":5765793,"question_id":5765718,"body_markdown":"Have a look at [Java Optimized Processor][1]. It&#39;s the implementation of JVM in the hardware. This system can be used as a real-time embedded system.\r\n\r\n\r\n  [1]: http://www.jopdesign.com/","title":"Anyone experienced in real-time Java on embedded systems?","body":"<p>Have a look at <a href=\"http://www.jopdesign.com/\" rel=\"nofollow noreferrer\">Java Optimized Processor</a>. It's the implementation of JVM in the hardware. This system can be used as a real-time embedded system.</p>\n"}],"owner":{"account_id":94758,"reputation":9844,"user_id":258526,"accept_rate":66,"display_name":"fred basset"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1303586983,"answer_count":1,"score":1,"last_activity_date":1650184747,"creation_date":1303579320,"question_id":5765718,"body_markdown":"Has anyone out there implemented a real-time embedded Java system?  I am very interested to see if this could work for a new product I&#39;m developing, but am unsure of how the whole real-time responsiveness &amp; garbage collection work.  Would really like to contact anyone who&#39;s done a real-time Java system before.","title":"Anyone experienced in real-time Java on embedded systems?","body":"<p>Has anyone out there implemented a real-time embedded Java system?  I am very interested to see if this could work for a new product I'm developing, but am unsure of how the whole real-time responsiveness &amp; garbage collection work.  Would really like to contact anyone who's done a real-time Java system before.</p>\n"},{"tags":["java","maven","github","gradle","github-packages"],"comments":[{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1649574064,"post_id":71812255,"comment_id":126906617,"body_markdown":"can you also share the full line in dependencies {} for the dependency `&#39;:android@debug/compileClasspath&#39;:`  seems bit complicated. does the same work fine with maven local ?","body":"can you also share the full line in dependencies {} for the dependency <code>&#39;:android@debug&#47;compileClasspath&#39;:</code>  seems bit complicated. does the same work fine with maven local ?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1649597079,"post_id":71812255,"comment_id":126910708,"body_markdown":"@PrasadU, it&#39;s just a basic `implementation &#39;myGroup:myArtifact:myVersion&#39;` That phrase doesn&#39;t appear in my build.gradle. The part where I put *myDependency* is the name of the group/artifact/dependency. That other phrase is describing the android module and flavor.","body":"@PrasadU, it&#39;s just a basic <code>implementation &#39;myGroup:myArtifact:myVersion&#39;</code> That phrase doesn&#39;t appear in my build.gradle. The part where I put <i>myDependency</i> is the name of the group/artifact/dependency. That other phrase is describing the android module and flavor."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1650139658,"post_id":71812255,"comment_id":127047803,"body_markdown":"From the first look, it doesn&#39;t look like a connectivity issue to the repo but you could validate it by trying to download `maven-metadata.xml` that is a first step for maven repos `https://maven.pkg.github.com/OWNER/REPOSITORY/GROUP_ID/ARTIFACT_ID/VERSION/maven-metadata.xml` (please note that &quot;.&quot; should be replaced by &quot;/&quot; for GROUP_ID/ARTIFACT_ID).\nAlso, not sure what you mean by &quot;That phrase doesn&#39;t appear in my build.gradle&quot; but probably you need to define your repo in the `pluginManagement { repositories { } }&#39; that is applied before `repositories { }`.","body":"From the first look, it doesn&#39;t look like a connectivity issue to the repo but you could validate it by trying to download <code>maven-metadata.xml</code> that is a first step for maven repos <code>https:&#47;&#47;maven.pkg.github.com&#47;OWNER&#47;REPOSITORY&#47;GROUP_ID&#47;ARTIF&zwnj;&#8203;ACT_ID&#47;VERSION&#47;maven&zwnj;&#8203;-metadata.xml</code> (please note that &quot;.&quot; should be replaced by &quot;/&quot; for GROUP_ID/ARTIFACT_ID). Also, not sure what you mean by &quot;That phrase doesn&#39;t appear in my build.gradle&quot; but probably you need to define your repo in the <code>pluginManagement { repositories { } }&#39; that is applied before </code>repositories { }`."}],"answers":[{"tags":[],"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1650184707,"creation_date":1650142961,"answer_id":71897475,"question_id":71812255,"body_markdown":"From what I can tell from your question, your setup looks correct.\r\n\r\nIt seems that you’re only looking at the error provided by Android Studio. Gradle’s own error messages are usually more helpful, so I’d recommend to look at those. In other words, I’d recommend to try building the project from the command line, e.g. with:\r\n\r\n```lang-sh\r\n./gradlew build\r\n```\r\n\r\nDepending on what’s wrong, you’ll get different error messages. For example, if your password/token is wrong, then you’ll see something like this:\r\n\r\n```lang-none\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not resolve com.example:my-lib:1.0.0.\r\n     Required by:\r\n         project :\r\n      &gt; Could not resolve com.example:my-lib:1.0.0.\r\n         &gt; Could not get resource &#39;https://maven.pkg.github.com/myAccountName/myRepo/com/example/my-lib/1.0.0/my-lib-1.0.0.pom&#39;.\r\n            &gt; Could not GET &#39;https://maven.pkg.github.com/myAccountName/myRepo/com/example/my-lib/1.0.0/my-lib-1.0.0.pom&#39;. Received status code 401 from server: Unauthorized\r\n```\r\n\r\nNote the `Received status code 401 from server: Unauthorized` at the end.\r\n\r\nIf, however, your dependency declaration is wrong (any of group, module name or version), then you’ll get an error like this:\r\n\r\n```lang-none\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not find com.example:oops-wrong:1.0.0.\r\n     Searched in the following locations:\r\n       - file:/home/chriki/.m2/repository/com/example/oops-wrong/1.0.0/oops-wrong-1.0.0.pom\r\n       - https://maven.pkg.github.com/myAccountName/myRepo/com/example/oops-wrong/1.0.0/oops-wrong-1.0.0.pom\r\n     Required by:\r\n         project :\r\n```\r\n\r\nOf course, you’ll get the same error if you haven’t (correctly) uploaded/published the required package before. You can manually check if it exists at `https://maven.pkg.github.com/myAccountName/myRepo/packages`.\r\n\r\nThere may be other error messages for other cases. I remember having seen a 403, for example. Unfortunately, the GitHub Packages registry doesn’t seem to provide enough details to Gradle so that it can provide other errors than the two above. Even if I use a wrong repository, I still get the second kind of error only:\r\n\r\n```lang-none\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not find com.example:my-lib:1.0.0.\r\n     Searched in the following locations:\r\n       - file:/home/chriki/.m2/repository/com/example/my-lib/1.0.0/my-lib-1.0.0.pom\r\n       - https://maven.pkg.github.com/oops-wrong/com/example/my-lib/1.0.0/my-lib-1.0.0.pom\r\n     Required by:\r\n         project :\r\n```\r\n\r\nSome more findings:\r\n\r\n* For the credentials, it seems that GitHub only looks at the token. The user name doesn’t seem to matter.\r\n* The concrete name of the repository in the URL seems to be irrelevant as long as it’s not empty.\r\n\r\n---\r\n\r\nGetting back to your concrete issue: part of the Android Studio error message seems to still come from Gradle directly. It says “Could not resolve” rather than “Could not find”. So it’s likely a problem with the repository connection. If you haven’t used your token for anything else, then you can check at https://github.com/settings/tokens whether GitHub considers it to having been used, yet (e.g., “Last used within the last week”). If it says “Never used”, then you’ll know that Gradle has never succeeded to connect to GitHub, and you should double check the used token or try a new one. Alternatively, you could try your credentials with `wget` first:\r\n\r\n```lang-sh\r\nwget --user myAccountName --password &quot;$GITHUB_PACKAGES_TOKEN&quot; \\\r\n    https://maven.pkg.github.com/myAccountName/myRepo/com/example/my-lib/1.0.0/my-lib-1.0.0.pom\r\n```\r\n","title":"Debugging Github Packages repository connection in Gradle","body":"<p>From what I can tell from your question, your setup looks correct.</p>\n<p>It seems that you’re only looking at the error provided by Android Studio. Gradle’s own error messages are usually more helpful, so I’d recommend to look at those. In other words, I’d recommend to try building the project from the command line, e.g. with:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>./gradlew build\n</code></pre>\n<p>Depending on what’s wrong, you’ll get different error messages. For example, if your password/token is wrong, then you’ll see something like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not resolve com.example:my-lib:1.0.0.\n     Required by:\n         project :\n      &gt; Could not resolve com.example:my-lib:1.0.0.\n         &gt; Could not get resource 'https://maven.pkg.github.com/myAccountName/myRepo/com/example/my-lib/1.0.0/my-lib-1.0.0.pom'.\n            &gt; Could not GET 'https://maven.pkg.github.com/myAccountName/myRepo/com/example/my-lib/1.0.0/my-lib-1.0.0.pom'. Received status code 401 from server: Unauthorized\n</code></pre>\n<p>Note the <code>Received status code 401 from server: Unauthorized</code> at the end.</p>\n<p>If, however, your dependency declaration is wrong (any of group, module name or version), then you’ll get an error like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not find com.example:oops-wrong:1.0.0.\n     Searched in the following locations:\n       - file:/home/chriki/.m2/repository/com/example/oops-wrong/1.0.0/oops-wrong-1.0.0.pom\n       - https://maven.pkg.github.com/myAccountName/myRepo/com/example/oops-wrong/1.0.0/oops-wrong-1.0.0.pom\n     Required by:\n         project :\n</code></pre>\n<p>Of course, you’ll get the same error if you haven’t (correctly) uploaded/published the required package before. You can manually check if it exists at <code>https://maven.pkg.github.com/myAccountName/myRepo/packages</code>.</p>\n<p>There may be other error messages for other cases. I remember having seen a 403, for example. Unfortunately, the GitHub Packages registry doesn’t seem to provide enough details to Gradle so that it can provide other errors than the two above. Even if I use a wrong repository, I still get the second kind of error only:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not find com.example:my-lib:1.0.0.\n     Searched in the following locations:\n       - file:/home/chriki/.m2/repository/com/example/my-lib/1.0.0/my-lib-1.0.0.pom\n       - https://maven.pkg.github.com/oops-wrong/com/example/my-lib/1.0.0/my-lib-1.0.0.pom\n     Required by:\n         project :\n</code></pre>\n<p>Some more findings:</p>\n<ul>\n<li>For the credentials, it seems that GitHub only looks at the token. The user name doesn’t seem to matter.</li>\n<li>The concrete name of the repository in the URL seems to be irrelevant as long as it’s not empty.</li>\n</ul>\n<hr />\n<p>Getting back to your concrete issue: part of the Android Studio error message seems to still come from Gradle directly. It says “Could not resolve” rather than “Could not find”. So it’s likely a problem with the repository connection. If you haven’t used your token for anything else, then you can check at <a href=\"https://github.com/settings/tokens\" rel=\"nofollow noreferrer\">https://github.com/settings/tokens</a> whether GitHub considers it to having been used, yet (e.g., “Last used within the last week”). If it says “Never used”, then you’ll know that Gradle has never succeeded to connect to GitHub, and you should double check the used token or try a new one. Alternatively, you could try your credentials with <code>wget</code> first:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>wget --user myAccountName --password &quot;$GITHUB_PACKAGES_TOKEN&quot; \\\n    https://maven.pkg.github.com/myAccountName/myRepo/com/example/my-lib/1.0.0/my-lib-1.0.0.pom\n</code></pre>\n"}],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1175,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71897475,"answer_count":1,"score":3,"last_activity_date":1650184707,"creation_date":1649542059,"question_id":71812255,"body_markdown":"I have set up a private project in Github that has some Maven packages. I can browse to them on the Github web site.\r\n\r\nBy following the directions [here](https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-gradle-registry#authenticating-to-github-packages) I have set up my build.gradle to declare the repository as follows:\r\n\r\n```lang-groovy\r\nrepositories {\r\n    mavenLocal()\r\n    maven {\r\n        url = &quot;https://maven.pkg.github.com/myAccountName/myRepo&quot;\r\n        credentials {\r\n            username = System.getenv(&quot;GITHUB_USERNAME&quot;)\r\n            password = System.getenv(&quot;GITHUB_PACKAGES_TOKEN&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\nI&#39;ve set up the system environment variables with the username and access token that I created in Github settings with `read:packages` permission.\r\n\r\nI declare the dependency the same way I was doing previously when I had it installed to `mavenLocal()`. But I deleted it from the local Maven repo so I could test this.\r\n\r\nThe dependency cannot be resolved. But all the warning from Gradle says is:\r\n\r\n&gt; Unable to resolve dependency for &#39;:android@debug/compileClasspath&#39;: Could not resolve *myGroup:myArtifact:1.0*\r\n\r\nThere are no logged warnings about one of the Maven repos not being valid, but I think that is the likely problem, since this was working fine when the package was in the local Maven repo. Likely either I&#39;m specifying it incorrectly or the credentials aren&#39;t working.\r\n\r\nI also tried directly typing the string username and token instead of using environment variables. The token is brand new and not expired.\r\n\r\nHow can I determine what is going wrong with my connection to the Github Packages Maven repository? Is there a way I can get more useful logs? Or do you see something I&#39;m doing wrong with how I&#39;m authenticating?","title":"Debugging Github Packages repository connection in Gradle","body":"<p>I have set up a private project in Github that has some Maven packages. I can browse to them on the Github web site.</p>\n<p>By following the directions <a href=\"https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-gradle-registry#authenticating-to-github-packages\" rel=\"nofollow noreferrer\">here</a> I have set up my build.gradle to declare the repository as follows:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>repositories {\n    mavenLocal()\n    maven {\n        url = &quot;https://maven.pkg.github.com/myAccountName/myRepo&quot;\n        credentials {\n            username = System.getenv(&quot;GITHUB_USERNAME&quot;)\n            password = System.getenv(&quot;GITHUB_PACKAGES_TOKEN&quot;)\n        }\n    }\n}\n</code></pre>\n<p>I've set up the system environment variables with the username and access token that I created in Github settings with <code>read:packages</code> permission.</p>\n<p>I declare the dependency the same way I was doing previously when I had it installed to <code>mavenLocal()</code>. But I deleted it from the local Maven repo so I could test this.</p>\n<p>The dependency cannot be resolved. But all the warning from Gradle says is:</p>\n<blockquote>\n<p>Unable to resolve dependency for ':android@debug/compileClasspath': Could not resolve <em>myGroup:myArtifact:1.0</em></p>\n</blockquote>\n<p>There are no logged warnings about one of the Maven repos not being valid, but I think that is the likely problem, since this was working fine when the package was in the local Maven repo. Likely either I'm specifying it incorrectly or the credentials aren't working.</p>\n<p>I also tried directly typing the string username and token instead of using environment variables. The token is brand new and not expired.</p>\n<p>How can I determine what is going wrong with my connection to the Github Packages Maven repository? Is there a way I can get more useful logs? Or do you see something I'm doing wrong with how I'm authenticating?</p>\n"},{"tags":["java","hadoop","hdfs"],"answers":[{"tags":[],"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421858215,"creation_date":1421858215,"answer_id":28072290,"question_id":28072115,"body_markdown":"I usually keep the `core-site.xml` (along with the other files) in the classpath and get the configuration as follows:\r\n\r\n    Configuration conf = new Configuration();\r\n    FileSystem localfs = FileSystem.getLocal(conf);\r\n    FileSystem hdfs = FileSystem.get(conf);\r\n\r\nHere is the content of my `core-site.xml`:\r\n\r\n    &lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;\r\n    &lt;configuration&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;fs.default.name&lt;/name&gt;\r\n        &lt;value&gt;hdfs://{hadoop-server-addr}&lt;/value&gt;\r\n      &lt;/property&gt;\r\n    &lt;/configuration&gt;","title":"Hadoop configuration object not pointing to hdfs file system","body":"<p>I usually keep the <code>core-site.xml</code> (along with the other files) in the classpath and get the configuration as follows:</p>\n\n<pre><code>Configuration conf = new Configuration();\nFileSystem localfs = FileSystem.getLocal(conf);\nFileSystem hdfs = FileSystem.get(conf);\n</code></pre>\n\n<p>Here is the content of my <code>core-site.xml</code>:</p>\n\n<pre><code>&lt;?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?&gt;\n&lt;configuration&gt;\n  &lt;property&gt;\n    &lt;name&gt;fs.default.name&lt;/name&gt;\n    &lt;value&gt;hdfs://{hadoop-server-addr}&lt;/value&gt;\n  &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3222094,"reputation":907,"user_id":2719291,"accept_rate":86,"display_name":"Suraj Nayak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460239760,"creation_date":1460239760,"answer_id":36523320,"question_id":28072115,"body_markdown":"Add your hdfs-site.xml and core-site.xml to class path. And use following code.\r\n\r\n    Configuration conf = new Configuration();\r\n    FileSystem hdfs = FileSystem.newInstance(conf);\r\n\r\nIt will pick the configs mentioned in the xmls.","title":"Hadoop configuration object not pointing to hdfs file system","body":"<p>Add your hdfs-site.xml and core-site.xml to class path. And use following code.</p>\n\n<pre><code>Configuration conf = new Configuration();\nFileSystem hdfs = FileSystem.newInstance(conf);\n</code></pre>\n\n<p>It will pick the configs mentioned in the xmls.</p>\n"},{"tags":[],"owner":{"account_id":3149789,"reputation":31,"user_id":2663462,"display_name":"shunya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555062230,"creation_date":1555062230,"answer_id":55648828,"question_id":28072115,"body_markdown":"To debug the issue better, add this line after creating a new Configuration instance. This will give you a better idea.\r\n\r\n    Configuration conf = new Configuration(false);\r\n    conf.setQuietMode(false);\r\n\r\nIn most cases, defaulting to local filesystem instead of hdfs occurs when `Configuration` is not able to load resources specified by the Path strings. In such cases, the default behaviour of `Configuration` is to fail quietly and return `null` for requested key. In this case, the requested key is `fs.defaultFS` , the namenode host. `FileSystem` instance then defaults to the `file:///` scheme which is the local file system.\r\n\r\n","title":"Hadoop configuration object not pointing to hdfs file system","body":"<p>To debug the issue better, add this line after creating a new Configuration instance. This will give you a better idea.</p>\n\n<pre><code>Configuration conf = new Configuration(false);\nconf.setQuietMode(false);\n</code></pre>\n\n<p>In most cases, defaulting to local filesystem instead of hdfs occurs when <code>Configuration</code> is not able to load resources specified by the Path strings. In such cases, the default behaviour of <code>Configuration</code> is to fail quietly and return <code>null</code> for requested key. In this case, the requested key is <code>fs.defaultFS</code> , the namenode host. <code>FileSystem</code> instance then defaults to the <code>file:///</code> scheme which is the local file system.</p>\n"}],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2067,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1650184644,"creation_date":1421857644,"question_id":28072115,"body_markdown":"I am trying to create small Spark program in Java. I am creating a Hadoop configuration object as show below:\r\n\r\n    Configuration conf = new Configuration(false);\r\n    conf.addResource(new Path(&quot;/dir/core-site.xml&quot;));\r\n    conf.addResource(new Path(&quot;/dir/hdfs-site.xml&quot;));\r\n    conf.addResource(new Path(&quot;/dir/yarn-site.xml&quot;));\r\n    \r\n\r\nWhen I call the following I get file system but it points to local file system and not the hdfs file system\r\n\r\n    FileSystem fs = FileSystem.get(conf);\r\n\r\nI am new to Hadoop. \r\n","title":"Hadoop configuration object not pointing to hdfs file system","body":"<p>I am trying to create small Spark program in Java. I am creating a Hadoop configuration object as show below:</p>\n<pre><code>Configuration conf = new Configuration(false);\nconf.addResource(new Path(&quot;/dir/core-site.xml&quot;));\nconf.addResource(new Path(&quot;/dir/hdfs-site.xml&quot;));\nconf.addResource(new Path(&quot;/dir/yarn-site.xml&quot;));\n</code></pre>\n<p>When I call the following I get file system but it points to local file system and not the hdfs file system</p>\n<pre><code>FileSystem fs = FileSystem.get(conf);\n</code></pre>\n<p>I am new to Hadoop.</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":5668327,"reputation":8372,"user_id":4483840,"accept_rate":75,"display_name":"Zielu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1428598820,"creation_date":1428598033,"answer_id":29544368,"question_id":29544067,"body_markdown":"The `scheduleService.shutdown();`\r\n\r\nwill indicate that the the scheduler that it should not take new tasks and the existing one will either be cancelled or they may be executed (but not repeated) depending on the policy used:\r\n\r\n&gt; &quot;If the ExecuteExistingDelayedTasksAfterShutdownPolicy has been set\r\n&gt; false, existing delayed tasks whose delays have not yet elapsed are\r\n&gt; cancelled. And unless the\r\n&gt; ContinueExistingPeriodicTasksAfterShutdownPolicy has been set true,\r\n&gt; future executions of existing periodic tasks will be cancelled.&quot;\r\n\r\nNow in your code you should call:\r\n\r\n    scheduleSerice.awaitTermination()\r\n\r\ninstead of `while(!scheduleService.isTerminated())`. The while loop will burn all the cycles of the processor as it will be constantly checking the executor state.\r\n\r\nIf you don&#39;t call the awaitTermination method (or your loop aproach), the method from which you called your shceduleService.schedule will simply finish (quit), and potentially your whole program will terminate (without completing the jobs).\r\n\r\nBut it depends on your design. If it is asynrchonous, than, you can simply ignore the awaittermination and continue your work. The jobs will be processed in the background.\r\n\r\n**Your thread pool should not growth!!!!** It should match your avaialbe resources == CPUs. For not IO tasks that are waiting for resources it should be around processor counts, for IO tasks double the number of CPUs, anything more makes no sense, it will actually slow the execution down as there will thread throtling.\r\n\r\nThe pool size limits how many tasks will be executed simultaneusly, not the size of task queue, which unless set otherwise is unbounded and grows.","title":"Do we need to call awaitTermination on ScheduledExecutorService?","body":"<p>The <code>scheduleService.shutdown();</code></p>\n\n<p>will indicate that the the scheduler that it should not take new tasks and the existing one will either be cancelled or they may be executed (but not repeated) depending on the policy used:</p>\n\n<blockquote>\n  <p>\"If the ExecuteExistingDelayedTasksAfterShutdownPolicy has been set\n  false, existing delayed tasks whose delays have not yet elapsed are\n  cancelled. And unless the\n  ContinueExistingPeriodicTasksAfterShutdownPolicy has been set true,\n  future executions of existing periodic tasks will be cancelled.\"</p>\n</blockquote>\n\n<p>Now in your code you should call:</p>\n\n<pre><code>scheduleSerice.awaitTermination()\n</code></pre>\n\n<p>instead of <code>while(!scheduleService.isTerminated())</code>. The while loop will burn all the cycles of the processor as it will be constantly checking the executor state.</p>\n\n<p>If you don't call the awaitTermination method (or your loop aproach), the method from which you called your shceduleService.schedule will simply finish (quit), and potentially your whole program will terminate (without completing the jobs).</p>\n\n<p>But it depends on your design. If it is asynrchonous, than, you can simply ignore the awaittermination and continue your work. The jobs will be processed in the background.</p>\n\n<p><strong>Your thread pool should not growth!!!!</strong> It should match your avaialbe resources == CPUs. For not IO tasks that are waiting for resources it should be around processor counts, for IO tasks double the number of CPUs, anything more makes no sense, it will actually slow the execution down as there will thread throtling.</p>\n\n<p>The pool size limits how many tasks will be executed simultaneusly, not the size of task queue, which unless set otherwise is unbounded and grows.</p>\n"},{"tags":[],"owner":{"account_id":5309320,"reputation":1226,"user_id":4236207,"display_name":"hemant1900"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1428598833,"creation_date":1428598833,"answer_id":29544632,"question_id":29544067,"body_markdown":"You need to call `awaitTermination()` if your application is supposed to do some action after it makes sure that all current tasks are finished. If your application does not care when the current tasks finish then you don&#39;t need to `awaitTermination()`.\r\n\r\nAbout growing thread pool size, you can directly use `ScheduledThreadPoolExecutor`.\r\n\r\n    /**\r\n     * Creates a new {@code ScheduledThreadPoolExecutor} with the\r\n     * given core pool size.\r\n     *\r\n     * @param corePoolSize the number of threads to keep in the pool, even\r\n     *        if they are idle, unless {@code allowCoreThreadTimeOut} is set\r\n     * @throws IllegalArgumentException if {@code corePoolSize &lt; 0}\r\n     */\r\n    public ScheduledThreadPoolExecutor(int corePoolSize) {\r\n        super(corePoolSize, Integer.MAX_VALUE, 0, TimeUnit.NANOSECONDS,\r\n              new DelayedWorkQueue());\r\n    }\r\n\r\nKeep the core pool size as what you need at minimum and let it grow till the max pool size.","title":"Do we need to call awaitTermination on ScheduledExecutorService?","body":"<p>You need to call <code>awaitTermination()</code> if your application is supposed to do some action after it makes sure that all current tasks are finished. If your application does not care when the current tasks finish then you don't need to <code>awaitTermination()</code>.</p>\n\n<p>About growing thread pool size, you can directly use <code>ScheduledThreadPoolExecutor</code>.</p>\n\n<pre><code>/**\n * Creates a new {@code ScheduledThreadPoolExecutor} with the\n * given core pool size.\n *\n * @param corePoolSize the number of threads to keep in the pool, even\n *        if they are idle, unless {@code allowCoreThreadTimeOut} is set\n * @throws IllegalArgumentException if {@code corePoolSize &lt; 0}\n */\npublic ScheduledThreadPoolExecutor(int corePoolSize) {\n    super(corePoolSize, Integer.MAX_VALUE, 0, TimeUnit.NANOSECONDS,\n          new DelayedWorkQueue());\n}\n</code></pre>\n\n<p>Keep the core pool size as what you need at minimum and let it grow till the max pool size.</p>\n"}],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2398,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29544632,"answer_count":2,"score":3,"last_activity_date":1650184612,"creation_date":1428597100,"question_id":29544067,"body_markdown":"I am new to Java multithreading. I have thousands of scheduled tasks/threads that I need to be executed. I am using the following code:\r\n\r\n    ScheduledExecutorSerivce scheduleService = Executors.newScheduledThreadPool(90);\r\n    Map&lt;Interger,Interger&gt; loginMap = new HashMap&lt;&gt;();//contain login time of scheduled threads\r\n    for(int i = 0; i &lt; taskCount ; i++) {\r\n      scheduleService.schedule(new MyCallableWorker(),loginMap.get(i),TimeUnit.SECONDS)\r\n    }\r\n    scheduleService.shutdown();\r\n    //do I need to call the following because I dont know any timeout value or above shutDown() is enough\r\n    while(!scheduleService.isTerminated()) {\r\n    }\r\n\r\nAlso please let me know what should be the ideal count for thread pool. I have set as 90 but I want pool which can grow as needed but looks like ScheduleExecutorService has no such API.\r\n","title":"Do we need to call awaitTermination on ScheduledExecutorService?","body":"<p>I am new to Java multithreading. I have thousands of scheduled tasks/threads that I need to be executed. I am using the following code:</p>\n<pre><code>ScheduledExecutorSerivce scheduleService = Executors.newScheduledThreadPool(90);\nMap&lt;Interger,Interger&gt; loginMap = new HashMap&lt;&gt;();//contain login time of scheduled threads\nfor(int i = 0; i &lt; taskCount ; i++) {\n  scheduleService.schedule(new MyCallableWorker(),loginMap.get(i),TimeUnit.SECONDS)\n}\nscheduleService.shutdown();\n//do I need to call the following because I dont know any timeout value or above shutDown() is enough\nwhile(!scheduleService.isTerminated()) {\n}\n</code></pre>\n<p>Also please let me know what should be the ideal count for thread pool. I have set as 90 but I want pool which can grow as needed but looks like ScheduleExecutorService has no such API.</p>\n"},{"tags":["java","dictionary","compression","zstd"],"comments":[{"owner":{"account_id":193612,"reputation":32530,"user_id":2320035,"accept_rate":79,"display_name":"sascha"},"score":0,"creation_date":1650109353,"post_id":71886221,"comment_id":127041655,"body_markdown":"I guess you are talking about training-based dicts [zstd docs](http://facebook.github.io/zstd/#small-data). Using zstds tools, some binary-dict will be generated through some training procedure and i&#39;m pretty optimistic that your func-signature exactly want&#39;s those raw bytes. Howewer: This makes things much more complex: training-data acquisition, training-procedure, making sure compressor/decompressor use the same version of the pre-trained dict. It also is designed to help for small-data cases (you say: `large JSON payload`). With big data, this should not help. Maybe just tune the compr-lvl","body":"I guess you are talking about training-based dicts <a href=\"http://facebook.github.io/zstd/#small-data\" rel=\"nofollow noreferrer\">zstd docs</a>. Using zstds tools, some binary-dict will be generated through some training procedure and i&#39;m pretty optimistic that your func-signature exactly want&#39;s those raw bytes. Howewer: This makes things much more complex: training-data acquisition, training-procedure, making sure compressor/decompressor use the same version of the pre-trained dict. It also is designed to help for small-data cases (you say: <code>large JSON payload</code>). With big data, this should not help. Maybe just tune the compr-lvl"},{"owner":{"account_id":7316632,"reputation":71,"user_id":5574055,"display_name":"A. Ganesh"},"score":0,"creation_date":1650246664,"post_id":71886221,"comment_id":127064603,"body_markdown":"Thanks for your response! I&#39;m looking for something to help with reducing decompression speeds for large JSON payloads (I&#39;m happy with the compression ratio without the dict). If the large JSON payload has a lot of repeated patterns, will the dictionary help? Or is it only useful for smaller payloads as the documentation suggests? I can&#39;t change the compr-lvl for my situation unfortunately","body":"Thanks for your response! I&#39;m looking for something to help with reducing decompression speeds for large JSON payloads (I&#39;m happy with the compression ratio without the dict). If the large JSON payload has a lot of repeated patterns, will the dictionary help? Or is it only useful for smaller payloads as the documentation suggests? I can&#39;t change the compr-lvl for my situation unfortunately"}],"answers":[{"tags":[],"owner":{"account_id":15650051,"reputation":113,"user_id":11291606,"display_name":"koigor"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1650184190,"creation_date":1650184190,"answer_id":71900415,"question_id":71886221,"body_markdown":"This example is for https://github.com/luben/zstd-jni.\r\n\r\nFirst of all you need to get many samples of your jsons. You shouldn&#39;t use just one or couple samples. After that you can train your dictionary:\r\n```java\r\nList&lt;String&gt; jsons = ...; // List of your jsons samples\r\n\r\nZstdDictTrainer trainer = new ZstdDictTrainer(1024 * 1024, 16 * 1024); // 16 KB dictionary\r\n\r\nfor(String json : jsons) {\r\n    trainer.addSample(json.getBytes(StandardCharsets.UTF_8));\r\n}\r\n\r\nbyte[] dictionary = trainer.trainSamples();\r\n```\r\n\r\nNow you have you dictionary in byte array.\r\n\r\nNext step is using **SAME** dictionary to compress and decompress. \r\n\r\n```java\r\n// Compress\r\nbyte[] json = jsonString.getBytes(StandardCharsets.UTF_8);\r\nZstdDictCompress zstdDictCompress = new ZstdDictCompress(dictionary, Zstd.defaultCompressionLevel());\r\nbyte[] compressed = Zstd.compress(json, zstdDictCompress);\r\n\r\n// Tricky moment, you have to pass json full length to decompress method\r\nint jsonFullLength = json.length;\r\n\r\n// Decompress\r\nZstdDictDecompress zstdDictDecompress = new ZstdDictDecompress(dictionary);\r\nbyte[] decompressed = Zstd.decompress(compressed, zstdDictDecompress, jsonFullLength);\r\nString jsonString2 = new String(decompressed, StandardCharsets.UTF_8);\r\n```\r\n\r\nThat&#39;s all!\r\n","title":"How do I create a dictionary object for passing to Zstd.compress?","body":"<p>This example is for <a href=\"https://github.com/luben/zstd-jni\" rel=\"noreferrer\">https://github.com/luben/zstd-jni</a>.</p>\n<p>First of all you need to get many samples of your jsons. You shouldn't use just one or couple samples. After that you can train your dictionary:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; jsons = ...; // List of your jsons samples\n\nZstdDictTrainer trainer = new ZstdDictTrainer(1024 * 1024, 16 * 1024); // 16 KB dictionary\n\nfor(String json : jsons) {\n    trainer.addSample(json.getBytes(StandardCharsets.UTF_8));\n}\n\nbyte[] dictionary = trainer.trainSamples();\n</code></pre>\n<p>Now you have you dictionary in byte array.</p>\n<p>Next step is using <strong>SAME</strong> dictionary to compress and decompress.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Compress\nbyte[] json = jsonString.getBytes(StandardCharsets.UTF_8);\nZstdDictCompress zstdDictCompress = new ZstdDictCompress(dictionary, Zstd.defaultCompressionLevel());\nbyte[] compressed = Zstd.compress(json, zstdDictCompress);\n\n// Tricky moment, you have to pass json full length to decompress method\nint jsonFullLength = json.length;\n\n// Decompress\nZstdDictDecompress zstdDictDecompress = new ZstdDictDecompress(dictionary);\nbyte[] decompressed = Zstd.decompress(compressed, zstdDictDecompress, jsonFullLength);\nString jsonString2 = new String(decompressed, StandardCharsets.UTF_8);\n</code></pre>\n<p>That's all!</p>\n"}],"owner":{"account_id":7316632,"reputation":71,"user_id":5574055,"display_name":"A. Ganesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3393,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1650184190,"creation_date":1650038294,"question_id":71886221,"body_markdown":"I am using Zstd compression in Java for compressing a large JSON payload. I am using methods from the zstd-jni library for Java. I create a byte array out of the JSON string and use this method.\r\n\r\npublic static byte[] compress(byte[] var0, int var1)\r\n\r\nI read that ZSTD will give more optimal results when a dictionary is passed during compression and decompression. How do I create a ZstdDictCompress object? What byte array and integer should I pass to the constructor?\r\n\r\npublic static long compress(byte[] var0, byte[] var1, ZstdDictCompress var2) ","title":"How do I create a dictionary object for passing to Zstd.compress?","body":"<p>I am using Zstd compression in Java for compressing a large JSON payload. I am using methods from the zstd-jni library for Java. I create a byte array out of the JSON string and use this method.</p>\n<p>public static byte[] compress(byte[] var0, int var1)</p>\n<p>I read that ZSTD will give more optimal results when a dictionary is passed during compression and decompression. How do I create a ZstdDictCompress object? What byte array and integer should I pass to the constructor?</p>\n<p>public static long compress(byte[] var0, byte[] var1, ZstdDictCompress var2)</p>\n"},{"tags":["java","spring-mvc","file-io","multipart"],"answers":[{"tags":[],"owner":{"account_id":153343,"reputation":1086,"user_id":368532,"accept_rate":70,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1389610400,"creation_date":1389610400,"answer_id":21089474,"question_id":21089106,"body_markdown":"MultipartFile, by default, is already saved on your server as a file when user uploaded it.\r\nFrom that point - you can do anything you want with this file.\r\nThere is a method that moves that temp file to any destination you want.\r\nhttp://docs.spring.io/spring/docs/3.0.x/api/org/springframework/web/multipart/MultipartFile.html#transferTo(java.io.File)\r\n\r\nBut MultipartFile is just API, you can implement any other **MultipartResolver** \r\nhttp://docs.spring.io/spring/docs/3.0.x/api/org/springframework/web/multipart/MultipartResolver.html\r\n\r\nThis API accepts input stream and you can do anything you want with it. Default implementation (usually commons-multipart) saves it to temp dir as a file.\r\n\r\nBut other problem stays here   - if S3 API accepts a file as a parameter - you cannot do anything with this - you need a real file. If you want to avoid creating files at all - create you own S3 API.","title":"Converting MultipartFile to java.io.File without copying to local machine","body":"<p>MultipartFile, by default, is already saved on your server as a file when user uploaded it.\nFrom that point - you can do anything you want with this file.\nThere is a method that moves that temp file to any destination you want.\n<a href=\"http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/web/multipart/MultipartFile.html#transferTo(java.io.File)\">http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/web/multipart/MultipartFile.html#transferTo(java.io.File)</a></p>\n\n<p>But MultipartFile is just API, you can implement any other <strong>MultipartResolver</strong> \n<a href=\"http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/web/multipart/MultipartResolver.html\">http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/web/multipart/MultipartResolver.html</a></p>\n\n<p>This API accepts input stream and you can do anything you want with it. Default implementation (usually commons-multipart) saves it to temp dir as a file.</p>\n\n<p>But other problem stays here   - if S3 API accepts a file as a parameter - you cannot do anything with this - you need a real file. If you want to avoid creating files at all - create you own S3 API.</p>\n"},{"tags":[],"owner":{"account_id":1349124,"reputation":728,"user_id":1289270,"display_name":"Kostas Filios"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1428578706,"creation_date":1428578706,"answer_id":29537216,"question_id":21089106,"body_markdown":"The question is already more than one year old, so I&#39;m not sure if the [jets35][1] link provided by the OP had the following snippet at that time.\r\n\r\n&gt;  If your data isn&#39;t a `File` or `String` you can use any **input stream** as a data source, but **you must manually set the Content-Length**.\r\n&gt;\r\n&lt;!-- language: java --&gt;\r\n\r\n&gt;     // Create an object containing a greeting string as input stream data.\r\n&gt;     String greeting = &quot;Hello World!&quot;;\r\n&gt;\r\n&gt;     S3Object helloWorldObject = new S3Object(&quot;HelloWorld2.txt&quot;);\r\n&gt;\r\n&gt;     ByteArrayInputStream greetingIS = new ByteArrayInputStream(greeting.getBytes());\r\n&gt;\r\n&gt;     helloWorldObject.setDataInputStream(greetingIS);\r\n&gt;     helloWorldObject.setContentLength(\r\n&gt;         greeting.getBytes(Constants.DEFAULT_ENCODING).length);\r\n&gt;     helloWorldObject.setContentType(&quot;text/plain&quot;);\r\n&gt;\r\n&gt;     s3Service.putObject(testBucket, helloWorldObject);\r\n\r\n\r\nIt turns out you don&#39;t have to create a local file first. As @Boris suggests you can feed the `S3Object` with the `Data Input Stream`, `Content Type` and `Content Length` you&#39;ll get from [`MultipartFile.getInputStream()`][2], [`MultipartFile.getContentType()`][3] and [`MultipartFile.getSize()`][4] respectively.\r\n\r\n  [1]: http://jets3t.s3.amazonaws.com/toolkit/code-samples.html#uploading\r\n  [2]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getInputStream--\r\n  [3]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getContentType--\r\n  [4]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getSize--","title":"Converting MultipartFile to java.io.File without copying to local machine","body":"<p>The question is already more than one year old, so I'm not sure if the <a href=\"http://jets3t.s3.amazonaws.com/toolkit/code-samples.html#uploading\" rel=\"noreferrer\">jets35</a> link provided by the OP had the following snippet at that time.</p>\n\n<blockquote>\n  <p>If your data isn't a <code>File</code> or <code>String</code> you can use any <strong>input stream</strong> as a data source, but <strong>you must manually set the Content-Length</strong>.</p>\n  \n  <pre class=\"lang-java prettyprint-override\"><code>// Create an object containing a greeting string as input stream data.\nString greeting = \"Hello World!\";\n\nS3Object helloWorldObject = new S3Object(\"HelloWorld2.txt\");\n\nByteArrayInputStream greetingIS = new ByteArrayInputStream(greeting.getBytes());\n\nhelloWorldObject.setDataInputStream(greetingIS);\nhelloWorldObject.setContentLength(\n    greeting.getBytes(Constants.DEFAULT_ENCODING).length);\nhelloWorldObject.setContentType(\"text/plain\");\n\ns3Service.putObject(testBucket, helloWorldObject);\n</code></pre>\n</blockquote>\n\n<p>It turns out you don't have to create a local file first. As @Boris suggests you can feed the <code>S3Object</code> with the <code>Data Input Stream</code>, <code>Content Type</code> and <code>Content Length</code> you'll get from <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getInputStream--\" rel=\"noreferrer\"><code>MultipartFile.getInputStream()</code></a>, <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getContentType--\" rel=\"noreferrer\"><code>MultipartFile.getContentType()</code></a> and <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getSize--\" rel=\"noreferrer\"><code>MultipartFile.getSize()</code></a> respectively.</p>\n"},{"tags":[],"owner":{"account_id":10203549,"reputation":1434,"user_id":7532946,"accept_rate":0,"display_name":"anson"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1623945475,"creation_date":1623945475,"answer_id":68022767,"question_id":21089106,"body_markdown":"if you are try to use in httpentity check my answer here\r\n\r\n\r\n    https://stackoverflow.com/a/68022695/7532946","title":"Converting MultipartFile to java.io.File without copying to local machine","body":"<p>if you are try to use in httpentity check my answer here</p>\n<pre><code>https://stackoverflow.com/a/68022695/7532946\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650184144,"creation_date":1650184144,"answer_id":71900410,"question_id":21089106,"body_markdown":"Instead of copying it to your local machine, you can just do this and replace the file name with this:\r\n\r\n    File newFile = new File(multipartFile.getOriginalName());\r\n\r\nThis way, you don&#39;t have to have a local destination create your file","title":"Converting MultipartFile to java.io.File without copying to local machine","body":"<p>Instead of copying it to your local machine, you can just do this and replace the file name with this:</p>\n<pre><code>File newFile = new File(multipartFile.getOriginalName());\n</code></pre>\n<p>This way, you don't have to have a local destination create your file</p>\n"}],"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40737,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":21089474,"answer_count":4,"score":13,"last_activity_date":1650184144,"creation_date":1389609245,"question_id":21089106,"body_markdown":"I have a Java Spring MVC web application. From client, through AngularJS, I am uploading a file and posting it to Controller as webservice.\r\n\r\nIn my Controller, I am gettinfg it as **MultipartFile** and I can copy it to local machine.\r\n\r\nBut I want to upload the file to **Amazone S3** bucket. So I have to convert it to **java.io.File**. Right now what I am doing is, I am copying it to local machine and then uploading to S3 using [**jets3t**][1].\r\n\r\nHere is my way of converting in controller\r\n\r\n    MultipartHttpServletRequest mRequest=(MultipartHttpServletRequest)request;\r\n    \r\n    Iterator&lt;String&gt; itr=mRequest.getFileNames();\r\n    \t\twhile(itr.hasNext()){\r\n    \t\t\tMultipartFile mFile=mRequest.getFile(itr.next());\r\n    \t\t\tString fileName=mFile.getOriginalFilename();\r\n    \t\t\t\r\n    \t\t\tfileLoc=&quot;/home/mydocs/my-uploads/&quot;+date+&quot;_&quot;+fileName; //date is String form of current date.\r\n\r\nThen I am using FIleCopyUtils of SpringFramework\r\n\r\n    File newFile = new File(fileLoc);\r\n    \t\t\t\t\r\n    \t\t\t\t  // if the directory does not exist, create it\r\n    \t\t\t\t  if (!newFile.getParentFile().exists()) {\r\n    \t\t\t\t    newFile.getParentFile().mkdirs();  \r\n    \t\t\t\t  }\r\n    \t\t\t\tFileCopyUtils.copy(mFile.getBytes(), newFile);\r\n\r\n\r\n\r\nSo it will create a new file in the local machine. That file I am uplaoding in S3\r\n\r\n    S3Object fileObject = new S3Object(newFile);\r\n    \t\t\t\t\r\n    s3Service.putObject(&quot;myBucket&quot;, fileObject);\r\n\r\nIt creates file in my local system. I don&#39;t want to create.\r\n\r\n**Without creating a file in local system, how to convert a *MultipartFIle* to *java.io.File*?**\r\n\r\n\r\n  [1]: http://jets3t.s3.amazonaws.com/toolkit/code-samples.html","title":"Converting MultipartFile to java.io.File without copying to local machine","body":"<p>I have a Java Spring MVC web application. From client, through AngularJS, I am uploading a file and posting it to Controller as webservice.</p>\n\n<p>In my Controller, I am gettinfg it as <strong>MultipartFile</strong> and I can copy it to local machine.</p>\n\n<p>But I want to upload the file to <strong>Amazone S3</strong> bucket. So I have to convert it to <strong>java.io.File</strong>. Right now what I am doing is, I am copying it to local machine and then uploading to S3 using <a href=\"http://jets3t.s3.amazonaws.com/toolkit/code-samples.html\" rel=\"noreferrer\"><strong>jets3t</strong></a>.</p>\n\n<p>Here is my way of converting in controller</p>\n\n<pre><code>MultipartHttpServletRequest mRequest=(MultipartHttpServletRequest)request;\n\nIterator&lt;String&gt; itr=mRequest.getFileNames();\n        while(itr.hasNext()){\n            MultipartFile mFile=mRequest.getFile(itr.next());\n            String fileName=mFile.getOriginalFilename();\n\n            fileLoc=\"/home/mydocs/my-uploads/\"+date+\"_\"+fileName; //date is String form of current date.\n</code></pre>\n\n<p>Then I am using FIleCopyUtils of SpringFramework</p>\n\n<pre><code>File newFile = new File(fileLoc);\n\n                  // if the directory does not exist, create it\n                  if (!newFile.getParentFile().exists()) {\n                    newFile.getParentFile().mkdirs();  \n                  }\n                FileCopyUtils.copy(mFile.getBytes(), newFile);\n</code></pre>\n\n<p>So it will create a new file in the local machine. That file I am uplaoding in S3</p>\n\n<pre><code>S3Object fileObject = new S3Object(newFile);\n\ns3Service.putObject(\"myBucket\", fileObject);\n</code></pre>\n\n<p>It creates file in my local system. I don't want to create.</p>\n\n<p><strong>Without creating a file in local system, how to convert a <em>MultipartFIle</em> to <em>java.io.File</em>?</strong></p>\n"},{"tags":["java","kotlin","reflection"],"answers":[{"tags":[],"owner":{"account_id":16027731,"reputation":1182,"user_id":11567551,"display_name":"Michiel Leegwater"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569143479,"creation_date":1569140786,"answer_id":58047393,"question_id":58047229,"body_markdown":"In this specific case I think the [`isDefault()`][1] method should return `true`.\r\n\r\nI would have expected `Polite::class.java.getMethod(&quot;giveHello&quot;)` to return the method, but not `getDeclaredMethod()`, but we are in the world of using Java reflection on Kotlin classes and interfaces. The Java expectations may not be met.\r\n\r\nYou could use kotlin reflection though, use `declaredMembers` to get the properties and functions from the [`KClass`][2]. Note, import from `kotlin.reflect.full` is required, since extension methods are used.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html#isDefault--\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html","title":"How to check if a class has overriden a default method from an interface using Reflection in Kotlin or Java?","body":"<p>In this specific case I think the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html#isDefault--\" rel=\"nofollow noreferrer\"><code>isDefault()</code></a> method should return <code>true</code>.</p>\n\n<p>I would have expected <code>Polite::class.java.getMethod(\"giveHello\")</code> to return the method, but not <code>getDeclaredMethod()</code>, but we are in the world of using Java reflection on Kotlin classes and interfaces. The Java expectations may not be met.</p>\n\n<p>You could use kotlin reflection though, use <code>declaredMembers</code> to get the properties and functions from the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html\" rel=\"nofollow noreferrer\"><code>KClass</code></a>. Note, import from <code>kotlin.reflect.full</code> is required, since extension methods are used.</p>\n"},{"tags":[],"owner":{"account_id":7230627,"reputation":1424,"user_id":5517612,"display_name":"Todd Sewell"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1650184053,"creation_date":1569144510,"answer_id":58047891,"question_id":58047229,"body_markdown":"As described in [KT-4779](https://youtrack.jetbrains.com/issue/KT-4779), currently Kotlin default functions are not implemented using actual Java/JVM default methods. The default implementation lives in a static method instead, and all classes using that default implementation just call that static method. This is done to ensure Kotlin default functions also work on the 1.6 JVM target which doesn&#39;t have them yet.\r\n\r\nSo your code roughly compiles to this Java equivalent:\r\n\r\n```java\r\npublic interface MyType {\r\n  public String giveHello();\r\n\r\n  public static class MyTypeImpls {\r\n     public static String giveHello() { return &quot;Hello!&quot; }\r\n  }\r\n}\r\n\r\npublic final class Polite implements MyType {\r\n  //does not override\r\n  public String giveHello() { return MyType.MyTypeImpls.giveHello() }\r\n}\r\n\r\npublic final class Rude implements MyType {\r\n  //does override\r\n  override fun giveHello() { return &quot;I don&#39;t like you&quot; }\r\n}\r\n```\r\n\r\nThis is why java reflection thinks both classes override the function, ie because they actually do.\r\n\r\nYou need to use Kotlin reflection here, notably [`declaredMemberFunctions`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/declared-member-functions.html) and [`memberFunctions`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/member-functions.html):\r\n\r\n```kotlin\r\nfun overridesGiveHello&lt;T: MyType&gt;(cls: KClass&lt;T&gt;) =\r\n        cls.memberFunctions.first { it.name == &quot;giveHello&quot; } in cls.declaredFunctions\r\n\r\nprintln(overridesGiveHello(Polite::class)) //false\r\nprintln(overridesGiveHello(Rude::class))  //true\r\n```","title":"How to check if a class has overriden a default method from an interface using Reflection in Kotlin or Java?","body":"<p>As described in <a href=\"https://youtrack.jetbrains.com/issue/KT-4779\" rel=\"nofollow noreferrer\">KT-4779</a>, currently Kotlin default functions are not implemented using actual Java/JVM default methods. The default implementation lives in a static method instead, and all classes using that default implementation just call that static method. This is done to ensure Kotlin default functions also work on the 1.6 JVM target which doesn't have them yet.</p>\n<p>So your code roughly compiles to this Java equivalent:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyType {\n  public String giveHello();\n\n  public static class MyTypeImpls {\n     public static String giveHello() { return &quot;Hello!&quot; }\n  }\n}\n\npublic final class Polite implements MyType {\n  //does not override\n  public String giveHello() { return MyType.MyTypeImpls.giveHello() }\n}\n\npublic final class Rude implements MyType {\n  //does override\n  override fun giveHello() { return &quot;I don't like you&quot; }\n}\n</code></pre>\n<p>This is why java reflection thinks both classes override the function, ie because they actually do.</p>\n<p>You need to use Kotlin reflection here, notably <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/declared-member-functions.html\" rel=\"nofollow noreferrer\"><code>declaredMemberFunctions</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/member-functions.html\" rel=\"nofollow noreferrer\"><code>memberFunctions</code></a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun overridesGiveHello&lt;T: MyType&gt;(cls: KClass&lt;T&gt;) =\n        cls.memberFunctions.first { it.name == &quot;giveHello&quot; } in cls.declaredFunctions\n\nprintln(overridesGiveHello(Polite::class)) //false\nprintln(overridesGiveHello(Rude::class))  //true\n</code></pre>\n"}],"owner":{"account_id":10719481,"reputation":1127,"user_id":7889026,"display_name":"harold_admin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1438,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":58047891,"answer_count":2,"score":5,"last_activity_date":1650184053,"creation_date":1569139291,"question_id":58047229,"body_markdown":"I have an interface with a default method, and two classes which implement this interface. One of the classes overrides the default method, and the other does not.\r\n\r\n```kotlin\r\ninterface MyType {\r\n  fun giveHello(): String = &quot;Hello!&quot;\r\n}\r\n\r\nclass Polite: MyType {\r\n  // Does not override giveHello()\r\n}\r\n\r\nclass Rude: MyType {\r\n  override fun giveHello(): String = &quot;I don&#39;t like you&quot;\r\n}\r\n```\r\n\r\nI get access to the `giveHello` method using reflection like this:\r\n```kotlin\r\nval methodOfPolite = Polite::class.java.getDeclaredMethod(&quot;giveHello&quot;)\r\nval methodOfRude = Rude::class.java.getDeclaredMethod(&quot;giveHello&quot;)\r\n```\r\n\r\nThere&#39;s one weird thing here. The polite class does not override the `giveHello` method, but the `declaringClass` of this method object still points to `Polite`.\r\n\r\n**So is there a way I can check whether the class actually did override the default interface method or not?**\r\n\r\nMy use case looks something like this (assuming we can get the behaviour I&#39;m asking for in a property called `isOverriden`):\r\n```kotlin\r\nif (methodOfPolite.isOverriden) {\r\n  // do something\r\n} else {\r\n  // do something else\r\n}\r\n```","title":"How to check if a class has overriden a default method from an interface using Reflection in Kotlin or Java?","body":"<p>I have an interface with a default method, and two classes which implement this interface. One of the classes overrides the default method, and the other does not.</p>\n\n<pre><code>interface MyType {\n  fun giveHello(): String = \"Hello!\"\n}\n\nclass Polite: MyType {\n  // Does not override giveHello()\n}\n\nclass Rude: MyType {\n  override fun giveHello(): String = \"I don't like you\"\n}\n</code></pre>\n\n<p>I get access to the <code>giveHello</code> method using reflection like this:</p>\n\n<pre><code>val methodOfPolite = Polite::class.java.getDeclaredMethod(\"giveHello\")\nval methodOfRude = Rude::class.java.getDeclaredMethod(\"giveHello\")\n</code></pre>\n\n<p>There's one weird thing here. The polite class does not override the <code>giveHello</code> method, but the <code>declaringClass</code> of this method object still points to <code>Polite</code>.</p>\n\n<p><strong>So is there a way I can check whether the class actually did override the default interface method or not?</strong></p>\n\n<p>My use case looks something like this (assuming we can get the behaviour I'm asking for in a property called <code>isOverriden</code>):</p>\n\n<pre><code>if (methodOfPolite.isOverriden) {\n  // do something\n} else {\n  // do something else\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1650193605,"post_id":71898883,"comment_id":127054913,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":24968621,"reputation":1,"user_id":18831973,"display_name":"Cristina11"},"score":0,"creation_date":1650230955,"post_id":71898883,"comment_id":127062375,"body_markdown":"No, I have no errors, but nothing is displayed on the phone and I don&#39;t know why. @AlexMamo","body":"No, I have no errors, but nothing is displayed on the phone and I don&#39;t know why. @AlexMamo"}],"answers":[{"tags":[],"owner":{"account_id":10833670,"reputation":549,"user_id":7967235,"display_name":"Avital"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650183416,"creation_date":1650183416,"answer_id":71900318,"question_id":71898883,"body_markdown":"You try to retreive `actualizare` as a `long` variable while it is a `timestamp`. Try to change all the **long** to **Date** inside your class:\r\n\r\n    import java.util.Date;\r\n\r\n    public class Pacienti {\r\n    public String nume, varsta;\r\n    public Date actualizare;\r\n\r\n    public Pacienti(){\r\n\r\n    }\r\n\r\n    public Pacienti(String nume, String varsta, Date actualizare) {\r\n        this.nume = nume;\r\n        this.varsta = varsta;\r\n        this.actualizare = actualizare;\r\n    }\r\n\r\n    public String getNume() {\r\n        return nume;\r\n    }\r\n\r\n    public void setNume(String nume) {\r\n        this.nume = nume;\r\n    }\r\n\r\n\r\n    public String getVarsta() {\r\n        return varsta;\r\n    }\r\n\r\n    public void setVarsta(String varsta) {\r\n        this.varsta = varsta;\r\n    }\r\n\r\n\r\n    public Date getActualizare() {\r\n        return actualizare;\r\n    }\r\n\r\n\r\n    public void setActualizare(Date actualizare) {\r\n        this.actualizare = actualizare;\r\n    }\r\n}","title":"Unable to retrieve data from firestore in recyclerview","body":"<p>You try to retreive <code>actualizare</code> as a <code>long</code> variable while it is a <code>timestamp</code>. Try to change all the <strong>long</strong> to <strong>Date</strong> inside your class:</p>\n<pre><code>import java.util.Date;\n\npublic class Pacienti {\npublic String nume, varsta;\npublic Date actualizare;\n\npublic Pacienti(){\n\n}\n\npublic Pacienti(String nume, String varsta, Date actualizare) {\n    this.nume = nume;\n    this.varsta = varsta;\n    this.actualizare = actualizare;\n}\n\npublic String getNume() {\n    return nume;\n}\n\npublic void setNume(String nume) {\n    this.nume = nume;\n}\n\n\npublic String getVarsta() {\n    return varsta;\n}\n\npublic void setVarsta(String varsta) {\n    this.varsta = varsta;\n}\n\n\npublic Date getActualizare() {\n    return actualizare;\n}\n\n\npublic void setActualizare(Date actualizare) {\n    this.actualizare = actualizare;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":24968621,"reputation":1,"user_id":18831973,"display_name":"Cristina11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650183416,"creation_date":1650163064,"question_id":71898883,"body_markdown":"My activity code: \r\n\r\n```\r\npackage com.example.licenta;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.DocumentChange;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ListaPacienti extends AppCompatActivity {\r\n\r\n\r\n    RecyclerView recyclerView;\r\n    FirebaseFirestore db;\r\n    Myadapter myadapter;\r\n    ArrayList&lt;Pacienti&gt; list;\r\n    ProgressDialog progressDialog;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_lista_pacienti);\r\n\r\n        //progressDialog = new ProgressDialog(this);\r\n        //progressDialog.setCancelable(false);\r\n        //progressDialog.setMessage(&quot;...&quot;);\r\n        //progressDialog.show();\r\n\r\n        recyclerView = findViewById(R.id.listapacienti);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        db = FirebaseFirestore.getInstance();\r\n        list = new ArrayList&lt;Pacienti&gt;();\r\n        myadapter = new Myadapter(ListaPacienti.this, list);\r\n        recyclerView.setAdapter(myadapter);\r\n\r\n\r\n\r\n        EventChangeListener();\r\n    }\r\n\r\n\r\n    private void EventChangeListener() {\r\n        db.collection(&quot;Nume&quot;)\r\n                .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n\r\n                        if (error!=null){\r\n\r\n                            Log.e(&quot;Firestore error&quot;, error.getMessage());\r\n                            return;\r\n                        }\r\n\r\n                        for (DocumentChange dc: value.getDocumentChanges()){\r\n\r\n                            if(dc.getType() == DocumentChange.Type.ADDED){\r\n\r\n                                list.add(dc.getDocument().toObject(Pacienti.class));\r\n\r\n                            }\r\n\r\n                            myadapter.notifyDataSetChanged();\r\n\r\n                        }\r\n\r\n\r\n                    };\r\n                });\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nAdapter code:\r\n```\r\npackage com.example.licenta;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Myadapter extends RecyclerView.Adapter&lt;Myadapter.MyViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;Pacienti&gt; list;\r\n    \r\n    public Myadapter(Context context, ArrayList&lt;Pacienti&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Myadapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.item, parent, false);\r\n        return new MyViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n\r\n        Pacienti pacienti = list.get(position);\r\n\r\n\r\n        holder.nume.setText(list.get(position).getNume());\r\n        holder.varsta.setText(list.get(position).getVarsta());\r\n        holder.actualizare.setText(String.valueOf(list.get(position).getActualizare()));\r\n        //holder.varsta.setText(String.valueOf(list.varsta));\r\n        //holder.actualizare.setText(String.valueOf(pacienti.actualizare));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n\r\n        return list.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView nume, varsta, actualizare;\r\n\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            nume=itemView.findViewById(R.id.lstnume);\r\n            varsta=itemView.findViewById(R.id.lstvarsta);\r\n            actualizare=itemView.findViewById(R.id.lstactualizare);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nClass code: \r\n```\r\npackage com.example.licenta;\r\n\r\npublic class Pacienti {\r\n\r\n    public String nume, varsta;\r\n    public long actualizare;\r\n\r\n    public Pacienti(){\r\n\r\n    }\r\n\r\n    public Pacienti(String nume, String varsta, long actualizare) {\r\n        this.nume = nume;\r\n        this.varsta = varsta;\r\n        this.actualizare = actualizare;\r\n    }\r\n\r\n    public String getNume() {\r\n        return nume;\r\n    }\r\n\r\n    public void setNume(String nume) {\r\n        this.nume = nume;\r\n    }\r\n\r\n\r\n    public String getVarsta() {\r\n        return varsta;\r\n    }\r\n\r\n    public void setVarsta(String varsta) {\r\n        this.varsta = varsta;\r\n    }\r\n\r\n\r\n    public long getActualizare() {\r\n        return actualizare;\r\n    }\r\n\r\n\r\n    public void setActualizare(long actualizare) {\r\n        this.actualizare = actualizare;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd the firestore:\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rC5cj.png\r\n\r\nI don&#39;t know if my google-services.json is the problem. \r\n```\r\n{\r\n  &quot;project_info&quot;: {\r\n    &quot;project_number&quot;: &quot;825557024849&quot;,\r\n    &quot;project_id&quot;: &quot;listapacienti&quot;,\r\n    &quot;storage_bucket&quot;: &quot;listapacienti.appspot.com&quot;\r\n  },\r\n  &quot;client&quot;: [\r\n    {\r\n      &quot;client_info&quot;: {\r\n        &quot;mobilesdk_app_id&quot;: &quot;1:825557024849:android:e17859e27645053a59b870&quot;,\r\n        &quot;android_client_info&quot;: {\r\n          &quot;package_name&quot;: &quot;com.example.licenta&quot;\r\n        }\r\n      },\r\n      &quot;oauth_client&quot;: [\r\n        {\r\n          &quot;client_id&quot;: &quot;825557024849-v2kacaptlk31v3lbp7gn2pboi70bfda9.apps.googleusercontent.com&quot;,\r\n          &quot;client_type&quot;: 3\r\n        }\r\n      ],\r\n      &quot;api_key&quot;: [\r\n        {\r\n          &quot;current_key&quot;: &quot;AIzaSyCGkeG2qA8tSUYGV5dMjKz-RTcJAtXs1dw&quot;\r\n        }\r\n      ],\r\n      &quot;services&quot;: {\r\n        &quot;appinvite_service&quot;: {\r\n          &quot;other_platform_oauth_client&quot;: [\r\n            {\r\n              &quot;client_id&quot;: &quot;825557024849-v2kacaptlk31v3lbp7gn2pboi70bfda9.apps.googleusercontent.com&quot;,\r\n              &quot;client_type&quot;: 3\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  &quot;configuration_version&quot;: &quot;1&quot;\r\n}\r\n```\r\nThe app start, but doesn&#39;t show data from firebase.I tried with get() but it doesn&#39;t work.\r\nIt is a part of an app so it is possible to have this problem from another file? \r\n","title":"Unable to retrieve data from firestore in recyclerview","body":"<p>My activity code:</p>\n<pre><code>package com.example.licenta;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.app.ProgressDialog;\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.firestore.DocumentChange;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.EventListener;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.FirebaseFirestoreException;\nimport com.google.firebase.firestore.Query;\nimport com.google.firebase.firestore.QuerySnapshot;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ListaPacienti extends AppCompatActivity {\n\n\n    RecyclerView recyclerView;\n    FirebaseFirestore db;\n    Myadapter myadapter;\n    ArrayList&lt;Pacienti&gt; list;\n    ProgressDialog progressDialog;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_lista_pacienti);\n\n        //progressDialog = new ProgressDialog(this);\n        //progressDialog.setCancelable(false);\n        //progressDialog.setMessage(&quot;...&quot;);\n        //progressDialog.show();\n\n        recyclerView = findViewById(R.id.listapacienti);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        db = FirebaseFirestore.getInstance();\n        list = new ArrayList&lt;Pacienti&gt;();\n        myadapter = new Myadapter(ListaPacienti.this, list);\n        recyclerView.setAdapter(myadapter);\n\n\n\n        EventChangeListener();\n    }\n\n\n    private void EventChangeListener() {\n        db.collection(&quot;Nume&quot;)\n                .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n\n                        if (error!=null){\n\n                            Log.e(&quot;Firestore error&quot;, error.getMessage());\n                            return;\n                        }\n\n                        for (DocumentChange dc: value.getDocumentChanges()){\n\n                            if(dc.getType() == DocumentChange.Type.ADDED){\n\n                                list.add(dc.getDocument().toObject(Pacienti.class));\n\n                            }\n\n                            myadapter.notifyDataSetChanged();\n\n                        }\n\n\n                    };\n                });\n\n    }\n\n}\n</code></pre>\n<p>Adapter code:</p>\n<pre><code>package com.example.licenta;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class Myadapter extends RecyclerView.Adapter&lt;Myadapter.MyViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;Pacienti&gt; list;\n    \n    public Myadapter(Context context, ArrayList&lt;Pacienti&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public Myadapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.item, parent, false);\n        return new MyViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n\n        Pacienti pacienti = list.get(position);\n\n\n        holder.nume.setText(list.get(position).getNume());\n        holder.varsta.setText(list.get(position).getVarsta());\n        holder.actualizare.setText(String.valueOf(list.get(position).getActualizare()));\n        //holder.varsta.setText(String.valueOf(list.varsta));\n        //holder.actualizare.setText(String.valueOf(pacienti.actualizare));\n\n    }\n\n    @Override\n    public int getItemCount() {\n\n        return list.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n\n        TextView nume, varsta, actualizare;\n\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            nume=itemView.findViewById(R.id.lstnume);\n            varsta=itemView.findViewById(R.id.lstvarsta);\n            actualizare=itemView.findViewById(R.id.lstactualizare);\n        }\n    }\n}\n</code></pre>\n<p>Class code:</p>\n<pre><code>package com.example.licenta;\n\npublic class Pacienti {\n\n    public String nume, varsta;\n    public long actualizare;\n\n    public Pacienti(){\n\n    }\n\n    public Pacienti(String nume, String varsta, long actualizare) {\n        this.nume = nume;\n        this.varsta = varsta;\n        this.actualizare = actualizare;\n    }\n\n    public String getNume() {\n        return nume;\n    }\n\n    public void setNume(String nume) {\n        this.nume = nume;\n    }\n\n\n    public String getVarsta() {\n        return varsta;\n    }\n\n    public void setVarsta(String varsta) {\n        this.varsta = varsta;\n    }\n\n\n    public long getActualizare() {\n        return actualizare;\n    }\n\n\n    public void setActualizare(long actualizare) {\n        this.actualizare = actualizare;\n    }\n}\n\n</code></pre>\n<p>And the firestore:</p>\n<p><a href=\"https://i.stack.imgur.com/rC5cj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I don't know if my google-services.json is the problem.</p>\n<pre><code>{\n  &quot;project_info&quot;: {\n    &quot;project_number&quot;: &quot;825557024849&quot;,\n    &quot;project_id&quot;: &quot;listapacienti&quot;,\n    &quot;storage_bucket&quot;: &quot;listapacienti.appspot.com&quot;\n  },\n  &quot;client&quot;: [\n    {\n      &quot;client_info&quot;: {\n        &quot;mobilesdk_app_id&quot;: &quot;1:825557024849:android:e17859e27645053a59b870&quot;,\n        &quot;android_client_info&quot;: {\n          &quot;package_name&quot;: &quot;com.example.licenta&quot;\n        }\n      },\n      &quot;oauth_client&quot;: [\n        {\n          &quot;client_id&quot;: &quot;825557024849-v2kacaptlk31v3lbp7gn2pboi70bfda9.apps.googleusercontent.com&quot;,\n          &quot;client_type&quot;: 3\n        }\n      ],\n      &quot;api_key&quot;: [\n        {\n          &quot;current_key&quot;: &quot;AIzaSyCGkeG2qA8tSUYGV5dMjKz-RTcJAtXs1dw&quot;\n        }\n      ],\n      &quot;services&quot;: {\n        &quot;appinvite_service&quot;: {\n          &quot;other_platform_oauth_client&quot;: [\n            {\n              &quot;client_id&quot;: &quot;825557024849-v2kacaptlk31v3lbp7gn2pboi70bfda9.apps.googleusercontent.com&quot;,\n              &quot;client_type&quot;: 3\n            }\n          ]\n        }\n      }\n    }\n  ],\n  &quot;configuration_version&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>The app start, but doesn't show data from firebase.I tried with get() but it doesn't work.\nIt is a part of an app so it is possible to have this problem from another file?</p>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"score":0,"creation_date":1430044705,"post_id":29876506,"comment_id":47877371,"body_markdown":"Likely there&#39;s no element with id `header.tableHeader` - maybe you are looking for a selector like `docw.select(&quot;#trestleLifts time&quot;)`, and then you should pick the first element","body":"Likely there&#39;s no element with id <code>header.tableHeader</code> - maybe you are looking for a selector like <code>docw.select(&quot;#trestleLifts time&quot;)</code>, and then you should pick the first element"},{"owner":{"account_id":5226677,"reputation":551,"user_id":4178519,"accept_rate":57,"display_name":"Agustin Scalisi"},"score":0,"creation_date":1430067595,"post_id":29876506,"comment_id":47885397,"body_markdown":"Doesnt crash, but show nothing. I use this url      http://trestlebikepark.com/Lift_TrailStatus.html","body":"Doesnt crash, but show nothing. I use this url      <a href=\"http://trestlebikepark.com/Lift_TrailStatus.html\" rel=\"nofollow noreferrer\">trestlebikepark.com/Lift_TrailStatus.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650182816,"creation_date":1430044903,"answer_id":29876584,"question_id":29876506,"body_markdown":"    Element doc = docw.getElementById(&quot;header.tableHeader&quot;);\r\n\r\ndoesn&#39;t make much sense since there is no tag with `id=&quot;header.tableHeader&quot;` attribute.\r\n\r\nSince you are using CSS selector you want `select` method instead to pick `&lt;header class=&quot;tableHeader&quot;&gt;`.\r\n\r\n\tElements doc = docw.select(&quot;header.tableHeader&quot;);\r\n\r\nThan just pick `time` element \r\n\r\n    Elements h1 = doc.select(&quot;time&quot;);\r\n\r\nBTW you can do it all in one call via \r\n\r\n    \r\n    Elements h1 = doc.select(&quot;header.tableHeader time&quot;);\r\n\r\n---\r\nBased on your comment in which you include address of page you want to parse, it seems that problem with this solution is that `&lt;time&gt;` is empty `&lt;time&gt;&lt;/time&gt;` after page is loaded and its content is later generated by JavaScript. In that case Jsoup will not be able to help you, because it is HTML parser without support of JS engine. You will have to use different tool like selenium webdriver or HTMLutils.","title":"Retrieve time tag with Jsoup","body":"<pre><code>Element doc = docw.getElementById(&quot;header.tableHeader&quot;);\n</code></pre>\n<p>doesn't make much sense since there is no tag with <code>id=&quot;header.tableHeader&quot;</code> attribute.</p>\n<p>Since you are using CSS selector you want <code>select</code> method instead to pick <code>&lt;header class=&quot;tableHeader&quot;&gt;</code>.</p>\n<pre><code>Elements doc = docw.select(&quot;header.tableHeader&quot;);\n</code></pre>\n<p>Than just pick <code>time</code> element</p>\n<pre><code>Elements h1 = doc.select(&quot;time&quot;);\n</code></pre>\n<p>BTW you can do it all in one call via</p>\n<pre><code>Elements h1 = doc.select(&quot;header.tableHeader time&quot;);\n</code></pre>\n<hr />\n<p>Based on your comment in which you include address of page you want to parse, it seems that problem with this solution is that <code>&lt;time&gt;</code> is empty <code>&lt;time&gt;&lt;/time&gt;</code> after page is loaded and its content is later generated by JavaScript. In that case Jsoup will not be able to help you, because it is HTML parser without support of JS engine. You will have to use different tool like selenium webdriver or HTMLutils.</p>\n"}],"owner":{"account_id":5226677,"reputation":551,"user_id":4178519,"accept_rate":57,"display_name":"Agustin Scalisi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1650182816,"creation_date":1430044363,"question_id":29876506,"body_markdown":"This is my Html:\r\n\r\n    &lt;div id=&quot;trestleLifts&quot;&gt;\r\n                &lt;header class=&quot;tableHeader&quot;&gt;\r\n                    &lt;time&gt;as of 4/23/15 @5:18 AM MST&lt;/time&gt;\r\n                    &lt;h2&gt;Lifts&lt;/h2&gt;\r\n                &lt;/header&gt;\r\n               \r\nI need the time Tag, but cant resolve it.\r\n\r\nI try with this code, but the app crash\r\n\r\n      Document docw = Jsoup.connect(url).get();\r\n      Element doc = docw.getElementById(&quot;header.tableHeader&quot;);\r\n                Elements h1=doc.getElementsByTag(&quot;time&quot;);\r\n                String tit = h1.text();\r\n\r\n","title":"Retrieve time tag with Jsoup","body":"<p>This is my Html:</p>\n\n<pre><code>&lt;div id=\"trestleLifts\"&gt;\n            &lt;header class=\"tableHeader\"&gt;\n                &lt;time&gt;as of 4/23/15 @5:18 AM MST&lt;/time&gt;\n                &lt;h2&gt;Lifts&lt;/h2&gt;\n            &lt;/header&gt;\n</code></pre>\n\n<p>I need the time Tag, but cant resolve it.</p>\n\n<p>I try with this code, but the app crash</p>\n\n<pre><code>  Document docw = Jsoup.connect(url).get();\n  Element doc = docw.getElementById(\"header.tableHeader\");\n            Elements h1=doc.getElementsByTag(\"time\");\n            String tit = h1.text();\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650190523,"post_id":71900046,"comment_id":127054359,"body_markdown":"The method is executed by the current thread.","body":"The method is executed by the current thread."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650190766,"post_id":71900046,"comment_id":127054420,"body_markdown":"&#39;It results in MainThreadNetworking Exception &#39;: no it didn&#39;t. You got `NetworkingOnMainThreadException`. Be accurate.","body":"&#39;It results in MainThreadNetworking Exception &#39;: no it didn&#39;t. You got <code>NetworkingOnMainThreadException</code>. Be accurate."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650182645,"creation_date":1650182645,"answer_id":71900259,"question_id":71900046,"body_markdown":"There is no way to tell another thread to execute something. So, no, the above simply runs it in _your_ thread. Note, there&#39;s the concept &#39;Thread -a thing that runs on an OS core&#39; and &#39;java.lang.Thread - an object that represents that concept&#39;. They are not quite identical. I&#39;ll use `j.l.Thread` to indicate the Thread object and just thread for the OS concept. `j.l.Thread` is __just an object__, it&#39;s not particularly magical. Just interacting with a `j.l.Thread` instance is just.. interacting with an object. It doesn&#39;t convey magical &#39;anything you do with this object somehow runs in a separate thread&#39; powers.\r\n\r\nThere are only only 2 ways to tell another thread (OS-level or j.l.Thread) to execute something, i.e., only 2 ways to use `j.l.Thread` to actually run stuff in separate threads:\r\n\r\n* When creating a `j.l.Thread`, you pass along the &#39;run()&#39; code (either passing a Runnable, or extending Thread and supplying a `run()` method). When some thread runs the code `thatThreadObject.start()` (note: not run!) - then that starts an actual thread, and that newly created thread will, after initializing, begin by executing the code in that run() method of the `j.l.Thread` object.\r\n* By programming it. In other words, perhaps some thread looks like this:\r\n\r\n```\r\nprivate class Runner extends Thread {\r\n  private final ArrayBlockingQueue &lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;&gt;(1000);\r\n\r\n  public void offer(Runnable r) {\r\n    queue.add(r);\r\n  }\r\n\r\n  @Override public void run() {\r\n    while (true) {\r\n      Runnable r = queue.take();\r\n      r.run();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nThen, imagine some code is running in a thread (not the thread represented by the `j.l.Thread` instance made from the above code), and calls `thatThreadObj.offer(() -&gt; System.out.println(&quot;Hello!&quot;);`...\r\n\r\nthen eventually the thread represented by that `j.l.Thread` will run it. Because you programmed it to do this.\r\n\r\nIf you want something like that, note that the `java.util.concurrent` package has implementations of this concept (`ExecutorPool` and friends). Don&#39;t write it yourself.\r\n","title":"Access vs execute thread&#39;s method","body":"<p>There is no way to tell another thread to execute something. So, no, the above simply runs it in <em>your</em> thread. Note, there's the concept 'Thread -a thing that runs on an OS core' and 'java.lang.Thread - an object that represents that concept'. They are not quite identical. I'll use <code>j.l.Thread</code> to indicate the Thread object and just thread for the OS concept. <code>j.l.Thread</code> is <strong>just an object</strong>, it's not particularly magical. Just interacting with a <code>j.l.Thread</code> instance is just.. interacting with an object. It doesn't convey magical 'anything you do with this object somehow runs in a separate thread' powers.</p>\n<p>There are only only 2 ways to tell another thread (OS-level or j.l.Thread) to execute something, i.e., only 2 ways to use <code>j.l.Thread</code> to actually run stuff in separate threads:</p>\n<ul>\n<li>When creating a <code>j.l.Thread</code>, you pass along the 'run()' code (either passing a Runnable, or extending Thread and supplying a <code>run()</code> method). When some thread runs the code <code>thatThreadObject.start()</code> (note: not run!) - then that starts an actual thread, and that newly created thread will, after initializing, begin by executing the code in that run() method of the <code>j.l.Thread</code> object.</li>\n<li>By programming it. In other words, perhaps some thread looks like this:</li>\n</ul>\n<pre><code>private class Runner extends Thread {\n  private final ArrayBlockingQueue &lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;&gt;(1000);\n\n  public void offer(Runnable r) {\n    queue.add(r);\n  }\n\n  @Override public void run() {\n    while (true) {\n      Runnable r = queue.take();\n      r.run();\n    }\n  }\n}\n</code></pre>\n<p>Then, imagine some code is running in a thread (not the thread represented by the <code>j.l.Thread</code> instance made from the above code), and calls <code>thatThreadObj.offer(() -&gt; System.out.println(&quot;Hello!&quot;);</code>...</p>\n<p>then eventually the thread represented by that <code>j.l.Thread</code> will run it. Because you programmed it to do this.</p>\n<p>If you want something like that, note that the <code>java.util.concurrent</code> package has implementations of this concept (<code>ExecutorPool</code> and friends). Don't write it yourself.</p>\n"}],"owner":{"account_id":18980842,"reputation":93,"user_id":13852262,"display_name":"RektLeft"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1650190718,"answer_count":1,"score":-1,"last_activity_date":1650182645,"creation_date":1650180364,"question_id":71900046,"body_markdown":"Does this line:\r\n\r\n    ClientThread.ClientSocket.getInputStream().read()\r\n\r\ntakes ClientThread&#39;s method and executes it on MainUI thread, or does it tell ClientThread to execute it?\r\n\r\nIt results in MainThreadNetworking Exception so I believe it&#39;s the first option, sadly. If so, how can I execute that method in the ClientThread instead?","title":"Access vs execute thread&#39;s method","body":"<p>Does this line:</p>\n<pre><code>ClientThread.ClientSocket.getInputStream().read()\n</code></pre>\n<p>takes ClientThread's method and executes it on MainUI thread, or does it tell ClientThread to execute it?</p>\n<p>It results in MainThreadNetworking Exception so I believe it's the first option, sadly. If so, how can I execute that method in the ClientThread instead?</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650182196,"creation_date":1650182196,"answer_id":71900219,"question_id":71900145,"body_markdown":"The argument to the `java` executable __is not a file__. It&#39;s a fully qualified class name. To run such a name, java needs to know where the class file lives (as well as the class files for any types mentioned in it, of course) - and it does this by searching the classpath (not the `PATH`), which _are_ file system paths - you can specify either a jar file, or a directory. Either way, the class files need to exactly match the full names, e.g. the full name of the String class is `java.lang.String`. It&#39;s the package + the name (`String.java` starts with `package java.lang;`).\r\n\r\nIt&#39;s not clear whether you have told eclipse that `bin/test` is the base folder, or if `bin` is the base folder and your example class has `package test;` at the top.\r\n\r\nYou&#39;d run something like this:\r\n\r\n```\r\njava -cp ~/eclipse-workspace/bin/test example\r\n# or - depends on that package stuff\r\njava -cp ~/eclipse-workspace/bin test.example\r\n```\r\n\r\nIt gets more complicated if you have deps involved. Then it might look like:\r\n\r\n```\r\njava -cp ~/eclipse-workspace/bin:&#39;~/eclipse-workspace/lib/*&#39; test.example\r\n```\r\n\r\nNote the single quotes: You do _NOT_ want bash (your shell) to expand that star. It also depends on your eclipse config. Your question cannot possibly be an eclipse config, or at least, not without some _wildly_ odd setting shenanigans - normally it&#39;s `workspace/projectname/bin/fully/qualified/package/YourClass.class` - i.e. `workspace/projectname/bin` is the classpath. Not `workspace/bin`.\r\n","title":"How to simplify java route in mac terminal","body":"<p>The argument to the <code>java</code> executable <strong>is not a file</strong>. It's a fully qualified class name. To run such a name, java needs to know where the class file lives (as well as the class files for any types mentioned in it, of course) - and it does this by searching the classpath (not the <code>PATH</code>), which <em>are</em> file system paths - you can specify either a jar file, or a directory. Either way, the class files need to exactly match the full names, e.g. the full name of the String class is <code>java.lang.String</code>. It's the package + the name (<code>String.java</code> starts with <code>package java.lang;</code>).</p>\n<p>It's not clear whether you have told eclipse that <code>bin/test</code> is the base folder, or if <code>bin</code> is the base folder and your example class has <code>package test;</code> at the top.</p>\n<p>You'd run something like this:</p>\n<pre><code>java -cp ~/eclipse-workspace/bin/test example\n# or - depends on that package stuff\njava -cp ~/eclipse-workspace/bin test.example\n</code></pre>\n<p>It gets more complicated if you have deps involved. Then it might look like:</p>\n<pre><code>java -cp ~/eclipse-workspace/bin:'~/eclipse-workspace/lib/*' test.example\n</code></pre>\n<p>Note the single quotes: You do <em>NOT</em> want bash (your shell) to expand that star. It also depends on your eclipse config. Your question cannot possibly be an eclipse config, or at least, not without some <em>wildly</em> odd setting shenanigans - normally it's <code>workspace/projectname/bin/fully/qualified/package/YourClass.class</code> - i.e. <code>workspace/projectname/bin</code> is the classpath. Not <code>workspace/bin</code>.</p>\n"}],"owner":{"account_id":24971282,"reputation":3,"user_id":18834438,"display_name":"user6867"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1650198307,"accepted_answer_id":71900219,"answer_count":1,"score":-1,"last_activity_date":1650182196,"creation_date":1650181529,"question_id":71900145,"body_markdown":"If I have    eclipse-workspace/bin/test/example.class  in my mac\r\nI try `java example` (in test folder, use mac terminal)\r\nBut it doesn&#39;t work just say \r\n\r\n&gt; Error: Could not find or load main class haha\r\n\r\nBut it works `java test/example` (in bin folder)\r\nHow can i declare just &#39;java example&#39; in test folder?\r\n(I probably think it&#39;s about PATH, but i can&#39;t find solution...)","title":"How to simplify java route in mac terminal","body":"<p>If I have    eclipse-workspace/bin/test/example.class  in my mac\nI try <code>java example</code> (in test folder, use mac terminal)\nBut it doesn't work just say</p>\n<blockquote>\n<p>Error: Could not find or load main class haha</p>\n</blockquote>\n<p>But it works <code>java test/example</code> (in bin folder)\nHow can i declare just 'java example' in test folder?\n(I probably think it's about PATH, but i can't find solution...)</p>\n"},{"tags":["java","android","database","sqlite","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632512256,"creation_date":1632474576,"answer_id":69312423,"question_id":69310197,"body_markdown":"Much easier to use an `@Query` it&#39;s as simple as:-\r\n\r\n    @Query(&quot;SELECT * FROM UserTable WHERE userId IN (:idList)&quot;)\r\n    public List&lt;UserTable&gt; getWhatever(long[] idList);\r\n\r\nYou&#39;d then use `getWhatever(new long[]{1L,2L})`\r\n\r\nIf you need it an  @rawQuery though you could do it like (used previous answer code for my convenience) :-\r\n\r\n\r\n    private List&lt;TableXEntity&gt; loadAllUserListByIds(int order,long[] idList) {\r\n        StringBuilder idListAsCSV = new StringBuilder(); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n        boolean afterFirst = false; //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n        //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; all of the loop to create the CSV\r\n        for (Long l: idList) {\r\n            if (afterFirst) {\r\n                idListAsCSV.append(&quot;,&quot;);\r\n            }\r\n            afterFirst = true;\r\n            idListAsCSV.append(String.valueOf(l));\r\n        }\r\n        StringBuilder sb = new StringBuilder(&quot;SELECT * FROM &quot;).append(DBHelper.TableX.NAME);\r\n        sb.append(&quot; WHERE &quot; + DBHelper.TableX.COLUMN_ID + &quot; IN(&quot;).append(idListAsCSV).append(&quot;) &quot;); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n        switch (order) {\r\n            case DBHelper.TableX.FIRSTNAME_DESCENDING:\r\n                sb.append(DBHelper.TableX.ORDER_BY_FIRSTNAME_DESC);\r\n                break;\r\n            case DBHelper.TableX.FIRSTNAME_ASCENDING:\r\n                sb.append(DBHelper.TableX.ORDER_BY_FIRSTNAME_ASC);\r\n                break;\r\n            case DBHelper.TableX.LASTNAME_DESCENDING:\r\n                sb.append(DBHelper.TableX.ORDER_BY_LASTNAME_DESC);\r\n                break;\r\n            case DBHelper.TableX.LASTNAME_ASCENDING:\r\n                sb.append(DBHelper.TableX.ORDER_BY_LASTNAME_ASC);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        sb.append(&quot;;&quot;);\r\n        return roomDao.rawq(new SimpleSQLiteQuery(sb.toString(),null));\r\n    }\r\n\r\ni.e. provide a CSV *(although I vaguely recall being able to pass an array)*\r\n\r\n----\r\n\r\nTo use bind arguments (the recommended way as binding arguments protects against SQL injection) then you need a ? for each value and a corresponding array of objects.\r\n\r\nSo for 3 id&#39;s you need IN(?,?,?)  and the actual values, the bind arguments, in an Object[]. The following is an example that does this noting that it shows 2 ways of building the Object[] (the bind arguments/values):-\r\n\r\n    private List&lt;TableXEntity&gt; loadByidList(long[] idlist) {\r\n        List&lt;Object&gt; bindargs = new ArrayList&lt;&gt;(); // way 1\r\n        Object[] args4Bind = new Object[idlist.length]; // way 2\r\n        StringBuilder placeholders = new StringBuilder(); // for the ? placeholders\r\n        /* Build the sql before the place holders */\r\n        StringBuilder sql = new StringBuilder(&quot;SELECT * FROM &quot;)\r\n                .append(DBHelper.TableX.NAME)\r\n                .append(&quot; WHERE &quot;)\r\n                .append(DBHelper.TableX.COLUMN_ID)\r\n                .append(&quot; IN (&quot;);\r\n        boolean afterfirst = false;\r\n        int i = 0; /* using for each so have index counter (as opposed to for(int i=0 ....) */\r\n        for (long l: idlist) {\r\n            bindargs.add(l); // for way 1\r\n            args4Bind[i++] = String.valueOf(l); // for way 2\r\n            if (afterfirst) {\r\n                placeholders.append(&quot;,&quot;);\r\n            }\r\n            afterfirst = true;\r\n            placeholders.append(&quot;?&quot;);\r\n        }\r\n        /* finalise the SQL */\r\n        sql.append(placeholders.toString())\r\n                .append(&quot;);&quot;);\r\n        //return roomDao.rawq(new SimpleSQLiteQuery(sql.toString(),bindargs.toArray())); // way 1\r\n        return roomDao.rawq(new SimpleSQLiteQuery(sql.toString(),args4Bind)); // way 2\r\n    }","title":"Room database RawQuery() is not work on &quot;IN&quot; and &quot;NOT IN&quot; clause","body":"<p>Much easier to use an <code>@Query</code> it's as simple as:-</p>\n<pre><code>@Query(&quot;SELECT * FROM UserTable WHERE userId IN (:idList)&quot;)\npublic List&lt;UserTable&gt; getWhatever(long[] idList);\n</code></pre>\n<p>You'd then use <code>getWhatever(new long[]{1L,2L})</code></p>\n<p>If you need it an  @rawQuery though you could do it like (used previous answer code for my convenience) :-</p>\n<pre><code>private List&lt;TableXEntity&gt; loadAllUserListByIds(int order,long[] idList) {\n    StringBuilder idListAsCSV = new StringBuilder(); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n    boolean afterFirst = false; //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n    //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; all of the loop to create the CSV\n    for (Long l: idList) {\n        if (afterFirst) {\n            idListAsCSV.append(&quot;,&quot;);\n        }\n        afterFirst = true;\n        idListAsCSV.append(String.valueOf(l));\n    }\n    StringBuilder sb = new StringBuilder(&quot;SELECT * FROM &quot;).append(DBHelper.TableX.NAME);\n    sb.append(&quot; WHERE &quot; + DBHelper.TableX.COLUMN_ID + &quot; IN(&quot;).append(idListAsCSV).append(&quot;) &quot;); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n    switch (order) {\n        case DBHelper.TableX.FIRSTNAME_DESCENDING:\n            sb.append(DBHelper.TableX.ORDER_BY_FIRSTNAME_DESC);\n            break;\n        case DBHelper.TableX.FIRSTNAME_ASCENDING:\n            sb.append(DBHelper.TableX.ORDER_BY_FIRSTNAME_ASC);\n            break;\n        case DBHelper.TableX.LASTNAME_DESCENDING:\n            sb.append(DBHelper.TableX.ORDER_BY_LASTNAME_DESC);\n            break;\n        case DBHelper.TableX.LASTNAME_ASCENDING:\n            sb.append(DBHelper.TableX.ORDER_BY_LASTNAME_ASC);\n            break;\n        default:\n            break;\n    }\n    sb.append(&quot;;&quot;);\n    return roomDao.rawq(new SimpleSQLiteQuery(sb.toString(),null));\n}\n</code></pre>\n<p>i.e. provide a CSV <em>(although I vaguely recall being able to pass an array)</em></p>\n<hr />\n<p>To use bind arguments (the recommended way as binding arguments protects against SQL injection) then you need a ? for each value and a corresponding array of objects.</p>\n<p>So for 3 id's you need IN(?,?,?)  and the actual values, the bind arguments, in an Object[]. The following is an example that does this noting that it shows 2 ways of building the Object[] (the bind arguments/values):-</p>\n<pre><code>private List&lt;TableXEntity&gt; loadByidList(long[] idlist) {\n    List&lt;Object&gt; bindargs = new ArrayList&lt;&gt;(); // way 1\n    Object[] args4Bind = new Object[idlist.length]; // way 2\n    StringBuilder placeholders = new StringBuilder(); // for the ? placeholders\n    /* Build the sql before the place holders */\n    StringBuilder sql = new StringBuilder(&quot;SELECT * FROM &quot;)\n            .append(DBHelper.TableX.NAME)\n            .append(&quot; WHERE &quot;)\n            .append(DBHelper.TableX.COLUMN_ID)\n            .append(&quot; IN (&quot;);\n    boolean afterfirst = false;\n    int i = 0; /* using for each so have index counter (as opposed to for(int i=0 ....) */\n    for (long l: idlist) {\n        bindargs.add(l); // for way 1\n        args4Bind[i++] = String.valueOf(l); // for way 2\n        if (afterfirst) {\n            placeholders.append(&quot;,&quot;);\n        }\n        afterfirst = true;\n        placeholders.append(&quot;?&quot;);\n    }\n    /* finalise the SQL */\n    sql.append(placeholders.toString())\n            .append(&quot;);&quot;);\n    //return roomDao.rawq(new SimpleSQLiteQuery(sql.toString(),bindargs.toArray())); // way 1\n    return roomDao.rawq(new SimpleSQLiteQuery(sql.toString(),args4Bind)); // way 2\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16243342,"reputation":61,"user_id":11729111,"display_name":"Sachin Deshapande"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632483674,"creation_date":1632483674,"answer_id":69314433,"question_id":69310197,"body_markdown":"Please try this, here it has working!\r\n\r\nTry this simple trick to pass the arguments for IN operator-\r\n \r\n\r\n    List&lt;Object&gt; argList = new ArrayList&lt;&gt;();\r\n     argList.add(&quot;3&quot;);\r\n     argList.add(&quot;6&quot;);\r\n\r\n        \r\nThen prepare your raw query string:\r\n\r\n**Note- Match your argument list size with &#39;?&#39; size**\r\n\r\n  \r\n\r\n       String selectQuery = &quot;SELECT * FROM task WHERE id IN (?,?)&quot;;\r\n\r\nAfter this pass the raw query string to SimpleSQLiteQuery-\r\n  \r\n\r\n       SimpleSQLiteQuery rawQuery = new SimpleSQLiteQuery(selectQuery, args.toArray());\r\n\r\n\r\nThen fetch the List using DAO:\r\n \r\n\r\n    List&lt;UserTable&gt; taskList1=DatabaseClient\r\n                            .getInstance(getApplicationContext())\r\n                            .getAppDatabase()\r\n                            .userTableDAO()\r\n                            .getAllList(query);\r\n\r\n","title":"Room database RawQuery() is not work on &quot;IN&quot; and &quot;NOT IN&quot; clause","body":"<p>Please try this, here it has working!</p>\n<p>Try this simple trick to pass the arguments for IN operator-</p>\n<pre><code>List&lt;Object&gt; argList = new ArrayList&lt;&gt;();\n argList.add(&quot;3&quot;);\n argList.add(&quot;6&quot;);\n\n    \n</code></pre>\n<p>Then prepare your raw query string:</p>\n<p><strong>Note- Match your argument list size with '?' size</strong></p>\n<pre><code>   String selectQuery = &quot;SELECT * FROM task WHERE id IN (?,?)&quot;;\n</code></pre>\n<p>After this pass the raw query string to SimpleSQLiteQuery-</p>\n<pre><code>   SimpleSQLiteQuery rawQuery = new SimpleSQLiteQuery(selectQuery, args.toArray());\n</code></pre>\n<p>Then fetch the List using DAO:</p>\n<pre><code>List&lt;UserTable&gt; taskList1=DatabaseClient\n                        .getInstance(getApplicationContext())\n                        .getAppDatabase()\n                        .userTableDAO()\n                        .getAllList(query);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5229201,"reputation":2849,"user_id":4180169,"display_name":"protanvir993"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650181462,"creation_date":1650181462,"answer_id":71900139,"question_id":69310197,"body_markdown":"We can do it in kotlin in the more simpler way.\r\n\r\n 1. Let&#39;s create two helper methos\r\n\r\n        object Helper {\r\n           fun sqlIn(list: List&lt;Any&gt;, bindArgs: MutableList&lt;Any&gt;): String {\r\n              bindArgs.apply { this.addAll(list) }\r\n\r\n              return &quot;IN (${list.joinToString(&quot;,&quot;) { &quot;?&quot; }})&quot;\r\n           }\r\n\r\n           fun sqlNotIn(list: List&lt;Any&gt;, bindArgs: MutableList&lt;Any&gt;): String = &quot;NOT ${sqlIn(list, bindArgs)}&quot;\r\n        }\r\n\r\n 2. Then you can use it in anywhere else\r\n\r\n        val ids = listOf(1, 2, 3)\r\n        val ownerId = 10\r\n    \r\n        val bindArgs = mutableListOf&lt;Any&gt;()\r\n        val query = &quot;SELECT * FROM posts WHERE id ${Helper.sqlIn(ids, bindArgs)} AND owner_id = ?&quot;\r\n        bindArgs.add(ownerId)\r\n\r\n        dao.query(\r\n            SimpleSQLiteQuery(query, bindArgs.toTypedArray())\r\n        )","title":"Room database RawQuery() is not work on &quot;IN&quot; and &quot;NOT IN&quot; clause","body":"<p>We can do it in kotlin in the more simpler way.</p>\n<ol>\n<li><p>Let's create two helper methos</p>\n<pre><code>object Helper {\n   fun sqlIn(list: List&lt;Any&gt;, bindArgs: MutableList&lt;Any&gt;): String {\n      bindArgs.apply { this.addAll(list) }\n\n      return &quot;IN (${list.joinToString(&quot;,&quot;) { &quot;?&quot; }})&quot;\n   }\n\n   fun sqlNotIn(list: List&lt;Any&gt;, bindArgs: MutableList&lt;Any&gt;): String = &quot;NOT ${sqlIn(list, bindArgs)}&quot;\n}\n</code></pre>\n</li>\n<li><p>Then you can use it in anywhere else</p>\n<pre><code>val ids = listOf(1, 2, 3)\nval ownerId = 10\n\nval bindArgs = mutableListOf&lt;Any&gt;()\nval query = &quot;SELECT * FROM posts WHERE id ${Helper.sqlIn(ids, bindArgs)} AND owner_id = ?&quot;\nbindArgs.add(ownerId)\n\ndao.query(\n    SimpleSQLiteQuery(query, bindArgs.toTypedArray())\n)\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":8101110,"reputation":826,"user_id":6104103,"display_name":"Mayur Misal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":69312423,"answer_count":3,"score":2,"last_activity_date":1650181462,"creation_date":1632463104,"question_id":69310197,"body_markdown":"I have my one table like UserTable.\r\n\r\n    @Entity\r\n    public class UserTable{\r\n      @PrimaryKey(autoGenerate = true)\r\n        private int userId;\r\n        private String userName;\r\n        private String userEmailId;\r\n    \r\n      // Below code is getter and setter of this class.\r\n    }\r\n\r\n    @Dao\r\n    public interface UserDao {\r\n        @Query(&quot;SELECT * FROM userTable&quot;)\r\n        public List&lt;UserTable&gt; loadAllUsers();\r\n    \r\n        @Insert\r\n        public long insertUserTable(UserTable userTable);\r\n    \r\n        @Insert\r\n        public long[] insertUserTables(UserTable... userTables);\r\n    \r\n        @Update\r\n        public int updateUserTable(UserTable userTable);\r\n    \r\n        @Delete\r\n        public int deleteUserTable(UserTable userTable);\r\n    \r\n        @RawQuery\r\n        public abstract List&lt;UserTable&gt; loadAllUserListByGivenIds\r\n                (SupportSQLiteQuery query);\r\n    \r\n        public default List&lt;UserTable&gt; loadAllUserListByIds(long[] userIds) {\r\n            List&lt;UserTable&gt; list;\r\n            ArrayList&lt;Object&gt; argsList = new ArrayList&lt;&gt;();\r\n            String selectQuery = &quot;SELECT  * FROM UserTable WHERE userId IN (?);&quot;;\r\n            argsList.add(userIds);\r\n            \r\n            SimpleSQLiteQuery simpleSQLiteQuery = new SimpleSQLiteQuery(selectQuery, argsList.toArray());\r\n            list = loadAllUserListByGivenIds(simpleSQLiteQuery);\r\n            return list;\r\n        }\r\n    }\r\n\r\n// Now in My MainActivity.class file, I have use following code:\r\n\r\n     List&lt;UserTable&gt; userList= databaseClient\r\n                    .getAppDatabase()\r\n                    .userDao()\r\n                    .loadAllUserListByIds(new long[]{1L,2L});\r\n\r\n\r\nMy query is running in normal database, but when I was pass array of user ids then, in @RawQuery() method of dao class is not supported for &quot;IN&quot; clause used in where condition &quot;WHERE userId IN (?)&quot;.\r\n\r\nHow, I will use &quot;IN&quot; clause in @RawQuery() of room database.\r\n","title":"Room database RawQuery() is not work on &quot;IN&quot; and &quot;NOT IN&quot; clause","body":"<p>I have my one table like UserTable.</p>\n<pre><code>@Entity\npublic class UserTable{\n  @PrimaryKey(autoGenerate = true)\n    private int userId;\n    private String userName;\n    private String userEmailId;\n\n  // Below code is getter and setter of this class.\n}\n\n@Dao\npublic interface UserDao {\n    @Query(&quot;SELECT * FROM userTable&quot;)\n    public List&lt;UserTable&gt; loadAllUsers();\n\n    @Insert\n    public long insertUserTable(UserTable userTable);\n\n    @Insert\n    public long[] insertUserTables(UserTable... userTables);\n\n    @Update\n    public int updateUserTable(UserTable userTable);\n\n    @Delete\n    public int deleteUserTable(UserTable userTable);\n\n    @RawQuery\n    public abstract List&lt;UserTable&gt; loadAllUserListByGivenIds\n            (SupportSQLiteQuery query);\n\n    public default List&lt;UserTable&gt; loadAllUserListByIds(long[] userIds) {\n        List&lt;UserTable&gt; list;\n        ArrayList&lt;Object&gt; argsList = new ArrayList&lt;&gt;();\n        String selectQuery = &quot;SELECT  * FROM UserTable WHERE userId IN (?);&quot;;\n        argsList.add(userIds);\n        \n        SimpleSQLiteQuery simpleSQLiteQuery = new SimpleSQLiteQuery(selectQuery, argsList.toArray());\n        list = loadAllUserListByGivenIds(simpleSQLiteQuery);\n        return list;\n    }\n}\n</code></pre>\n<p>// Now in My MainActivity.class file, I have use following code:</p>\n<pre><code> List&lt;UserTable&gt; userList= databaseClient\n                .getAppDatabase()\n                .userDao()\n                .loadAllUserListByIds(new long[]{1L,2L});\n</code></pre>\n<p>My query is running in normal database, but when I was pass array of user ids then, in @RawQuery() method of dao class is not supported for &quot;IN&quot; clause used in where condition &quot;WHERE userId IN (?)&quot;.</p>\n<p>How, I will use &quot;IN&quot; clause in @RawQuery() of room database.</p>\n"},{"tags":["java","spring","multithreading","asynchronous"],"comments":[{"owner":{"account_id":1428135,"reputation":5246,"user_id":1351167,"accept_rate":75,"display_name":"jAC"},"score":0,"creation_date":1650180577,"post_id":71900053,"comment_id":127052841,"body_markdown":"That depends on the underlying cache provider. Do you simply use the default one?","body":"That depends on the underlying cache provider. Do you simply use the default one?"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1650180912,"post_id":71900053,"comment_id":127052905,"body_markdown":"@jAC Yes. I do.","body":"@jAC Yes. I do."},{"owner":{"account_id":1428135,"reputation":5246,"user_id":1351167,"accept_rate":75,"display_name":"jAC"},"score":1,"creation_date":1650186437,"post_id":71900053,"comment_id":127053710,"body_markdown":"Then this should answer your question: https://stackoverflow.com/questions/44202700/spring-cacheable-default-ttl","body":"Then this should answer your question: <a href=\"https://stackoverflow.com/questions/44202700/spring-cacheable-default-ttl\" title=\"spring cacheable default ttl\">stackoverflow.com/questions/44202700/&hellip;</a>"}],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650180413,"creation_date":1650180413,"question_id":71900053,"body_markdown":"I have a multi-threaded, high-performance and long-running process (I mean hours) in Spring. In order to allow this process to cancel I like to check periodically for the permission to cancel this process using a huge SQL.\r\n\r\n    @Service\r\n    public class CancelHolder {\r\n      @PersistenceContext\r\n      private final EntityManager em = null;\r\n\r\n      public boolean isCancel() {\r\n        return !em.createQuery(&quot;..&lt;huge sql&gt;..&quot;).getResultList().isEmpty();\r\n      }\r\n    }\r\n\r\nThis `isCancel` is called about 20/sec/thread from about 100 threads make a total of 2000 calls per second.\r\n\r\nProblem\r\n-\r\nIf I use `@Cacheable(value=&quot;cancelcache&quot;, sync=true)` the method is called once and stored forever.\r\n\r\nSolution\r\n-\r\nI have to evict the cache every 1 second.\r\n\r\nQuestion\r\n-\r\nHow to evict the cache every 1 second?","title":"Spring cachable timeout","body":"<p>I have a multi-threaded, high-performance and long-running process (I mean hours) in Spring. In order to allow this process to cancel I like to check periodically for the permission to cancel this process using a huge SQL.</p>\n<pre><code>@Service\npublic class CancelHolder {\n  @PersistenceContext\n  private final EntityManager em = null;\n\n  public boolean isCancel() {\n    return !em.createQuery(&quot;..&lt;huge sql&gt;..&quot;).getResultList().isEmpty();\n  }\n}\n</code></pre>\n<p>This <code>isCancel</code> is called about 20/sec/thread from about 100 threads make a total of 2000 calls per second.</p>\n<h2>Problem</h2>\n<p>If I use <code>@Cacheable(value=&quot;cancelcache&quot;, sync=true)</code> the method is called once and stored forever.</p>\n<h2>Solution</h2>\n<p>I have to evict the cache every 1 second.</p>\n<h2>Question</h2>\n<p>How to evict the cache every 1 second?</p>\n"},{"tags":["java","eclipse","file","class"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1650179350,"creation_date":1311269651,"answer_id":6780226,"question_id":6780182,"body_markdown":"You can view the the bin folders in the `Navigator` (`Window` --&gt; `Show View` ---&gt; `Navigator`), **which is now deprecated**, or in the `Project Explorer` (`Window` --&gt; `Show View` ---&gt; `Project Explorer`) . But you can&#39;t view the bin folders in the `Package Explorer`.\r\n\r\n\r\nFor viewing the bin folders in the `Project Explorer` , you can click `Customize View` ---&gt; `Filters` --&gt; Do not click `Java Output Folders`\r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/EXDpu.png\r\n  [2]: http://i.stack.imgur.com/4vkLr.png","title":"Eclipse - Show generated class files","body":"<p>You can view the the bin folders in the <code>Navigator</code> (<code>Window</code> --&gt; <code>Show View</code> ---&gt; <code>Navigator</code>), <strong>which is now deprecated</strong>, or in the <code>Project Explorer</code> (<code>Window</code> --&gt; <code>Show View</code> ---&gt; <code>Project Explorer</code>) . But you can't view the bin folders in the <code>Package Explorer</code>.</p>\n<p>For viewing the bin folders in the <code>Project Explorer</code> , you can click <code>Customize View</code> ---&gt; <code>Filters</code> --&gt; Do not click <code>Java Output Folders</code></p>\n<p><img src=\"https://i.stack.imgur.com/EXDpu.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/4vkLr.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":259956,"reputation":7267,"user_id":543220,"accept_rate":97,"display_name":"Joeblackdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37060,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":6780226,"answer_count":1,"score":16,"last_activity_date":1650179350,"creation_date":1311269435,"question_id":6780182,"body_markdown":"How can I show the folder (bin) where my class files are placed after I build a project in eclipse? I want this directory to show up in the package explorer. Searched the forums, but can&#39;t seem to find an answer","title":"Eclipse - Show generated class files","body":"<p>How can I show the folder (bin) where my class files are placed after I build a project in eclipse? I want this directory to show up in the package explorer. Searched the forums, but can't seem to find an answer</p>\n"},{"tags":["java","compression"],"comments":[{"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"score":0,"creation_date":1313070679,"post_id":7027022,"comment_id":8394180,"body_markdown":"You could try a statiscal approach (which you&#39;ve apparently already considered) or make some estimates beforehand given the file type. I&#39;d go for the second option and improve on that.","body":"You could try a statiscal approach (which you&#39;ve apparently already considered) or make some estimates beforehand given the file type. I&#39;d go for the second option and improve on that."},{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":0,"creation_date":1313070941,"post_id":7027022,"comment_id":8394305,"body_markdown":"Well, yes, but which statistical approach exactly?","body":"Well, yes, but which statistical approach exactly?"},{"owner":{"account_id":331003,"reputation":3741,"user_id":655424,"display_name":"Atreys"},"score":0,"creation_date":1313071109,"post_id":7027022,"comment_id":8394371,"body_markdown":"Where do you get your 128 bytes?  If that portion is having more varied data (header information / magic numbers / other) than other locations (a large expanse of pixels all the same color / 3000 paragraph breaks / a group of children with the same age), then your prediction might say no (the 128 bytes I saw were rich and full of content and not compressible), when the bulk of the data is amenable.  Just curious :)","body":"Where do you get your 128 bytes?  If that portion is having more varied data (header information / magic numbers / other) than other locations (a large expanse of pixels all the same color / 3000 paragraph breaks / a group of children with the same age), then your prediction might say no (the 128 bytes I saw were rich and full of content and not compressible), when the bulk of the data is amenable.  Just curious :)"},{"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"score":0,"creation_date":1313071228,"post_id":7027022,"comment_id":8394420,"body_markdown":"There&#39;s various approaches possible in pure statistics. One obvious one is selecting random elements.","body":"There&#39;s various approaches possible in pure statistics. One obvious one is selecting random elements."},{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":1,"creation_date":1313071368,"post_id":7027022,"comment_id":8394473,"body_markdown":"I found that looking at the first 128 bytes is enough to get a good prediction if a block is compressible. But it&#39;s really just an example.","body":"I found that looking at the first 128 bytes is enough to get a good prediction if a block is compressible. But it&#39;s really just an example."},{"owner":{"account_id":428580,"reputation":35982,"user_id":811001,"accept_rate":85,"display_name":"tskuzzy"},"score":0,"creation_date":1313071503,"post_id":7027022,"comment_id":8394526,"body_markdown":"If parsing a mere 128 bytes of data is too slow for you, I can&#39;t imagine a reliable method that would work fast enough.","body":"If parsing a mere 128 bytes of data is too slow for you, I can&#39;t imagine a reliable method that would work fast enough."},{"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"score":1,"creation_date":1313073973,"post_id":7027022,"comment_id":8395466,"body_markdown":"If you are mostly dealing with complete files than I would go with the file headers, maybe even only the first 4 bytes, to identify known compressed file formats. The linux file command uses a very extensive database of magic patterns from which you could extract the needed information.","body":"If you are mostly dealing with complete files than I would go with the file headers, maybe even only the first 4 bytes, to identify known compressed file formats. The linux file command uses a very extensive database of magic patterns from which you could extract the needed information."},{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":0,"creation_date":1313075717,"post_id":7027022,"comment_id":8396209,"body_markdown":"@J&#246;rn Unfortunately, it&#39;s not always complete files. Sometimes it&#39;s just chunks of files (large files are split into chunks).","body":"@J&#246;rn Unfortunately, it&#39;s not always complete files. Sometimes it&#39;s just chunks of files (large files are split into chunks)."},{"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"score":1,"creation_date":1313079516,"post_id":7027022,"comment_id":8397663,"body_markdown":"@Thomas Not sure about first 128 bytes. Some formats have compressible header here. E.g. JAR/zip file has list of file names, which is mostly like plain text, but then it has compressed content. Maybe it worth to sample several small blocks across the whole block.","body":"@Thomas Not sure about first 128 bytes. Some formats have compressible header here. E.g. JAR/zip file has list of file names, which is mostly like plain text, but then it has compressed content. Maybe it worth to sample several small blocks across the whole block."},{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":0,"creation_date":1313082378,"post_id":7027022,"comment_id":8398577,"body_markdown":"@kan You are right. Instead of smaller blocks, I guess using an offset of (let&#39;s say) 1 KB will help. Picking every xth byte might work as well, but isn&#39;t that cache-efficient.","body":"@kan You are right. Instead of smaller blocks, I guess using an offset of (let&#39;s say) 1 KB will help. Picking every xth byte might work as well, but isn&#39;t that cache-efficient."}],"answers":[{"tags":[],"owner":{"account_id":428580,"reputation":35982,"user_id":811001,"accept_rate":85,"display_name":"tskuzzy"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1313070918,"creation_date":1313070918,"answer_id":7027141,"question_id":7027022,"body_markdown":"Calculate the [entropy][1] of the data. If it has high entropy (~1.0), it is not likely going to be further compressed. If it has low entropy (~0.0), then that means that there isn&#39;t a lot of &quot;information&quot; in it and can be further compressed.\r\n\r\nIt provides a theoretical measure of how compressed a piece of data can get.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Entropy_%28information_theory%29","title":"How to efficiently predict if data is compressible","body":"<p>Calculate the <a href=\"http://en.wikipedia.org/wiki/Entropy_%28information_theory%29\" rel=\"noreferrer\">entropy</a> of the data. If it has high entropy (~1.0), it is not likely going to be further compressed. If it has low entropy (~0.0), then that means that there isn't a lot of \"information\" in it and can be further compressed.</p>\n\n<p>It provides a theoretical measure of how compressed a piece of data can get.</p>\n"},{"tags":[],"owner":{"account_id":210974,"reputation":545,"user_id":462891,"display_name":"cs94njw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313070958,"creation_date":1313070958,"answer_id":7027148,"question_id":7027022,"body_markdown":"I expect there&#39;s no way to check how compressible something is until you try to compress it.\r\nYou could check for patterns (more patterns, perhaps more compressible), but then a particular compression algorithmn may not use the patterns you checked for - and may do better than you expect.\r\nAnother trick may be to take the first 128000 bytes of data, push it through Deflate/Java compression, and see if it&#39;s less than the original size.  If so - chances are it&#39;s worthwhile compressing the entire lot.","title":"How to efficiently predict if data is compressible","body":"<p>I expect there's no way to check how compressible something is until you try to compress it.\nYou could check for patterns (more patterns, perhaps more compressible), but then a particular compression algorithmn may not use the patterns you checked for - and may do better than you expect.\nAnother trick may be to take the first 128000 bytes of data, push it through Deflate/Java compression, and see if it's less than the original size.  If so - chances are it's worthwhile compressing the entire lot.</p>\n"},{"tags":[],"owner":{"account_id":395405,"reputation":67443,"user_id":758345,"display_name":"Chronial"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1313071387,"creation_date":1313071387,"answer_id":7027268,"question_id":7027022,"body_markdown":"From my experience almost all of the formats that can effectively be compressed are non-binary. So checking if about 70-80% of the characters are within in the [0-127] rage should do the trick.\r\n\r\nIf you want to to it &quot;properly&quot; (even though I really can&#39;t see a reason to do that), you either have to run (parts of) your compression algorithm on the data or calculate the entropy, as tskuzzy already proposed.","title":"How to efficiently predict if data is compressible","body":"<p>From my experience almost all of the formats that can effectively be compressed are non-binary. So checking if about 70-80% of the characters are within in the [0-127] rage should do the trick.</p>\n\n<p>If you want to to it \"properly\" (even though I really can't see a reason to do that), you either have to run (parts of) your compression algorithm on the data or calculate the entropy, as tskuzzy already proposed.</p>\n"},{"tags":[],"owner":{"account_id":473876,"reputation":304,"user_id":883235,"display_name":"Peter Sherman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1313072747,"creation_date":1313072747,"answer_id":7027616,"question_id":7027022,"body_markdown":"It says on your profile that you&#39;re the author of the H2 Database Engine, a database written in Java.\r\n\r\nIf I am guessing correctly, you are looking to engineer this database engine to automatically compress BLOB data, if possible.\r\n\r\nBut -- (I am guessing) you have realized that not everything will compress, and speed is important -- so you don&#39;t want to waste a microsecond more than is necessary when determining if you should compress data...\r\n\r\nMy question is engineering in nature -- why do all this?   Basically, isn&#39;t it second-guessing the intent of the database user / application developer -- at the expense of speed?\r\n\r\nWouldn&#39;t you think that an application developer (who is writing data to the blob fields in the first place) would be the best person to make the decision if data should be compressed or not, and if so -- to choose the appropriate compression method?\r\n\r\nThe only possible place I can see automatic database compression possibly adding some value is in text/varchar fields -- and only if they&#39;re beyond a certain length -- but even so, that option might be better decided by the application developer...  I might even go so far as to allow the application developer a compression plug-in, if so...  That way they can make their own decisions for their own data...\r\n\r\nIf my assumptions about what you are trying to do were wrong -- then I humbly apologize for saying what I said... (It&#39;s just one insignificant user&#39;s opinion.)\r\n\r\n","title":"How to efficiently predict if data is compressible","body":"<p>It says on your profile that you're the author of the H2 Database Engine, a database written in Java.</p>\n\n<p>If I am guessing correctly, you are looking to engineer this database engine to automatically compress BLOB data, if possible.</p>\n\n<p>But -- (I am guessing) you have realized that not everything will compress, and speed is important -- so you don't want to waste a microsecond more than is necessary when determining if you should compress data...</p>\n\n<p>My question is engineering in nature -- why do all this?   Basically, isn't it second-guessing the intent of the database user / application developer -- at the expense of speed?</p>\n\n<p>Wouldn't you think that an application developer (who is writing data to the blob fields in the first place) would be the best person to make the decision if data should be compressed or not, and if so -- to choose the appropriate compression method?</p>\n\n<p>The only possible place I can see automatic database compression possibly adding some value is in text/varchar fields -- and only if they're beyond a certain length -- but even so, that option might be better decided by the application developer...  I might even go so far as to allow the application developer a compression plug-in, if so...  That way they can make their own decisions for their own data...</p>\n\n<p>If my assumptions about what you are trying to do were wrong -- then I humbly apologize for saying what I said... (It's just one insignificant user's opinion.)</p>\n"},{"tags":[],"owner":{"account_id":473876,"reputation":304,"user_id":883235,"display_name":"Peter Sherman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313117336,"creation_date":1313117336,"answer_id":7035114,"question_id":7027022,"body_markdown":"Also -- Why not try lzop?  I can personally vouch for the fact that it&#39;s faster, much faster (compression and decompression) than bzip, gzip, zip, rar...\r\n\r\nhttp://www.lzop.org\r\n\r\nUsing it for disk image compression makes the process disk-IO bound.  Using any of the other compressors makes the process CPU-bound (i.e., the other compressors use all available CPU, lzop (on a reasonable CPU) can handle data at the same speed a 7200 RPM stock hard drive can dish it out...)\r\n\r\nI&#39;ll bet if you tested it with the first X bytes of a &#39;test compression&#39; string, it would be much faster than most other methods...\r\n\r\n","title":"How to efficiently predict if data is compressible","body":"<p>Also -- Why not try lzop?  I can personally vouch for the fact that it's faster, much faster (compression and decompression) than bzip, gzip, zip, rar...</p>\n\n<p><a href=\"http://www.lzop.org\" rel=\"nofollow\">http://www.lzop.org</a></p>\n\n<p>Using it for disk image compression makes the process disk-IO bound.  Using any of the other compressors makes the process CPU-bound (i.e., the other compressors use all available CPU, lzop (on a reasonable CPU) can handle data at the same speed a 7200 RPM stock hard drive can dish it out...)</p>\n\n<p>I'll bet if you tested it with the first X bytes of a 'test compression' string, it would be much faster than most other methods...</p>\n"},{"tags":[],"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1394976633,"creation_date":1313133895,"answer_id":7036862,"question_id":7027022,"body_markdown":"I implemented a few methods to test if data is compressible. \r\n\r\n**Simplified Compression**\r\n\r\nThis basically checks for duplicate byte pairs:\r\n\r\n    static boolean isCompressible(byte[] data, int len) {\r\n        int result = 0;\r\n        // check in blocks of 256 bytes, \r\n        // and sum up how compressible each block is\r\n        for (int start = 0; start &lt; len; start += 256) {\r\n            result += matches(data, start, Math.min(start + 255, len));\r\n        }\r\n        // the result is proportional to the number of \r\n        // bytes that can be saved\r\n        // if we can save many bytes, then it is compressible\r\n        return ((len - result) * 777) &lt; len * 100;\r\n    }\r\n\r\n    static int matches(byte[] data, int i, int end) {\r\n        // bitArray is a bloom filter of seen byte pairs\r\n        // match counts duplicate byte pairs\r\n        // last is the last seen byte\r\n        int bitArray = 0, match = 0, last = 0;\r\n        if (i &lt; 0 || end &gt; data.length) {\r\n            // this check may allow the JVM to avoid\r\n            // array bound checks in the following loop\r\n            throw new ArrayIndexOutOfBoundsException();\r\n        }\r\n        for (; i &lt; end; i++) {\r\n            int x = data[i];\r\n            // the bloom filter bit to set\r\n            int bit = 1 &lt;&lt; ((last ^ x) &amp; 31);\r\n            // if it was already set, increment match\r\n            // (without using a branch, as branches are slow)\r\n            match -= (-(bitArray &amp; bit)) &gt;&gt; 31;\r\n            bitArray |= bit;\r\n            last = x;\r\n        }\r\n        return match;\r\n    }\r\n\r\nOn my (limited) set of test data, this algorithm is quite accurate. It about 5 times faster than compressing itself if the data is not compressible. For trivial data (all zeroes), it is about half as fast however.\r\n\r\n**Partial Entropy**\r\n\r\nThis algorithm estimates the entropy of the high nibbles. I wanted to avoid using too many buckets, because they have to be zeroed out each time (which is slow if the blocks to check are small). `63 - numberOfLeadingZeros` is the logarithm (I wanted to avoid using floating point numbers). Depending on the data, it is faster or slower than the algorithm above (not sure why). The result isn&#39;t quite as accurate as the algorithm above, possibly because of using only 16 buckets, and only integer arithmetic.\r\n\r\n    static boolean isCompressible(byte[] data, int len) {\r\n        // the number of bytes with \r\n        // high nibble 0, 1,.., 15\r\n        int[] sum = new int[16];\r\n        for (int i = 0; i &lt; len; i++) {\r\n            int x = (data[i] &amp; 255) &gt;&gt; 4;\r\n            sum[x]++;\r\n        }\r\n        // see wikipedia to understand this formula :-)\r\n        int r = 0;\r\n        for (int x : sum) {\r\n            long v = ((long) x &lt;&lt; 32) / len;\r\n            r += 63 - Long.numberOfLeadingZeros(v + 1);\r\n        }\r\n        return len * r &lt; 438 * len;\r\n    }","title":"How to efficiently predict if data is compressible","body":"<p>I implemented a few methods to test if data is compressible. </p>\n\n<p><strong>Simplified Compression</strong></p>\n\n<p>This basically checks for duplicate byte pairs:</p>\n\n<pre><code>static boolean isCompressible(byte[] data, int len) {\n    int result = 0;\n    // check in blocks of 256 bytes, \n    // and sum up how compressible each block is\n    for (int start = 0; start &lt; len; start += 256) {\n        result += matches(data, start, Math.min(start + 255, len));\n    }\n    // the result is proportional to the number of \n    // bytes that can be saved\n    // if we can save many bytes, then it is compressible\n    return ((len - result) * 777) &lt; len * 100;\n}\n\nstatic int matches(byte[] data, int i, int end) {\n    // bitArray is a bloom filter of seen byte pairs\n    // match counts duplicate byte pairs\n    // last is the last seen byte\n    int bitArray = 0, match = 0, last = 0;\n    if (i &lt; 0 || end &gt; data.length) {\n        // this check may allow the JVM to avoid\n        // array bound checks in the following loop\n        throw new ArrayIndexOutOfBoundsException();\n    }\n    for (; i &lt; end; i++) {\n        int x = data[i];\n        // the bloom filter bit to set\n        int bit = 1 &lt;&lt; ((last ^ x) &amp; 31);\n        // if it was already set, increment match\n        // (without using a branch, as branches are slow)\n        match -= (-(bitArray &amp; bit)) &gt;&gt; 31;\n        bitArray |= bit;\n        last = x;\n    }\n    return match;\n}\n</code></pre>\n\n<p>On my (limited) set of test data, this algorithm is quite accurate. It about 5 times faster than compressing itself if the data is not compressible. For trivial data (all zeroes), it is about half as fast however.</p>\n\n<p><strong>Partial Entropy</strong></p>\n\n<p>This algorithm estimates the entropy of the high nibbles. I wanted to avoid using too many buckets, because they have to be zeroed out each time (which is slow if the blocks to check are small). <code>63 - numberOfLeadingZeros</code> is the logarithm (I wanted to avoid using floating point numbers). Depending on the data, it is faster or slower than the algorithm above (not sure why). The result isn't quite as accurate as the algorithm above, possibly because of using only 16 buckets, and only integer arithmetic.</p>\n\n<pre><code>static boolean isCompressible(byte[] data, int len) {\n    // the number of bytes with \n    // high nibble 0, 1,.., 15\n    int[] sum = new int[16];\n    for (int i = 0; i &lt; len; i++) {\n        int x = (data[i] &amp; 255) &gt;&gt; 4;\n        sum[x]++;\n    }\n    // see wikipedia to understand this formula :-)\n    int r = 0;\n    for (int x : sum) {\n        long v = ((long) x &lt;&lt; 32) / len;\n        r += 63 - Long.numberOfLeadingZeros(v + 1);\n    }\n    return len * r &lt; 438 * len;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325643,"reputation":13388,"user_id":646947,"accept_rate":85,"display_name":"Cyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1316611108,"creation_date":1316611108,"answer_id":7500423,"question_id":7027022,"body_markdown":"Fast compressor such as LZ4 already have built-in checks for data compressibility. They quickly skip the bad segments to concentrate on more interesting ones.\r\nTo give a proper example, LZ4 on non-compressible data works at almost RAM speed limit (2GB/s on my laptop). So there is little room for a detector to be even faster.\r\nYou can try it for yourself :\r\nhttp://code.google.com/p/lz4/","title":"How to efficiently predict if data is compressible","body":"<p>Fast compressor such as LZ4 already have built-in checks for data compressibility. They quickly skip the bad segments to concentrate on more interesting ones.\nTo give a proper example, LZ4 on non-compressible data works at almost RAM speed limit (2GB/s on my laptop). So there is little room for a detector to be even faster.\nYou can try it for yourself :\n<a href=\"http://code.google.com/p/lz4/\" rel=\"nofollow\">http://code.google.com/p/lz4/</a></p>\n"},{"tags":[],"owner":{"account_id":2955,"reputation":34912,"user_id":4194,"accept_rate":75,"display_name":"dmeister"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1361960192,"creation_date":1361960192,"answer_id":15109466,"question_id":7027022,"body_markdown":"This problem is interesting alone because with for example zlib compressing uncompressible data takes much longer then compressing compressible data. So doing unsuccessful compression is especially expensive (for details see the links). Nice recent work in this area has been done by Harnik et al. from IBM.\r\n\r\nYes, the prefix method and byte order-0 entropy (called entropy in the other posts) are good indicators.\r\nOther good ways to guess if a file is compressable or not are (from the paper): \r\n\r\n - Core-set size – The character set that makes up most of the data\r\n - Symbol-pairs distribution indicator \r\n\r\nHere is the FAST [paper][1] and the [slides][2].\r\n\r\n\r\n  [1]: https://www.usenix.org/system/files/conference/fast13/fast13-final38.pdf\r\n  [2]: https://www.usenix.org/sites/default/files/conference/protected-files/harnik_fast13_slides.pdf","title":"How to efficiently predict if data is compressible","body":"<p>This problem is interesting alone because with for example zlib compressing uncompressible data takes much longer then compressing compressible data. So doing unsuccessful compression is especially expensive (for details see the links). Nice recent work in this area has been done by Harnik et al. from IBM.</p>\n\n<p>Yes, the prefix method and byte order-0 entropy (called entropy in the other posts) are good indicators.\nOther good ways to guess if a file is compressable or not are (from the paper): </p>\n\n<ul>\n<li>Core-set size – The character set that makes up most of the data</li>\n<li>Symbol-pairs distribution indicator </li>\n</ul>\n\n<p>Here is the FAST <a href=\"https://www.usenix.org/system/files/conference/fast13/fast13-final38.pdf\" rel=\"nofollow\">paper</a> and the <a href=\"https://www.usenix.org/sites/default/files/conference/protected-files/harnik_fast13_slides.pdf\" rel=\"nofollow\">slides</a>.</p>\n"},{"tags":[],"owner":{"account_id":16221379,"reputation":21,"user_id":11712847,"display_name":"sweetesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650178594,"creation_date":1650178594,"answer_id":71899923,"question_id":7027022,"body_markdown":"A faster and more accurate algorithm for estimating compressibility\r\n1) 2 to 4 times faster and more accurate answer than judging by Shannon&#39;s entropy. It is\r\nbased on the Huffman coding approach.\r\n2) Time complexity of answering does not depend on numerical values of frequency of\r\nsymbols, rather depends on the number of unique symbols. Shannon&#39;s entropy calculates\r\nlog(frequency), Hence the more the frequency, the more time it will consume to compute\r\nthis value. In the current approach, mathematical operations on frequency values are\r\navoided.\r\n3) For similar reasons as above, precision is also higher since our dependency on floating\r\npoint operations is avoided as well as we just rely on sum and multiplication operations and\r\nhow actual Huffman codes will contribute to total compressed size.\r\n4) Same algorithm can be enhanced to generate actual Huffman codes in less time which\r\nwon&#39;t involve complex data structures like trees, heaps or priority queue. For our different\r\nrequirements we just use the same frequency array of symbols.\r\n\r\nFollowing algorithm specifies how to calculate compressibility of a file whose symbol\r\nfrequency values are stored in map array.[Time comparison chart][1]\r\n\r\n         int compressed_file_size_in_bits = 0, n=256;\r\n      /* We sort the map array in increasing order.\r\n       * We will be simulating huffman codes algorithm.\r\n       * Insertion Sort is used as its a small array of 256 symbols.\r\n       */\r\n      insertionSort(map, 256);\r\n    \r\n      for (j = 0; j &lt; n; j++)\r\n        if (map[j] != 0)\r\n          break;\r\n    \r\n      for (i = j; i + 1 &lt; n; i++) {\r\n        j = i + 1;\r\n        /* Following is an important step, as we keep on building more\r\n         * and more codes bottom up, their contribution to compressed size\r\n         * gets governed by following formula. Copy pen simulation is recommended.\r\n         */\r\n        compressed_file_size_in_bits = compressed_file_size_in_bits + map[i] + map[j];\r\n    \r\n        /* Least two elements of the map gets summed up and form a new frequency\r\n         * value which gets placed at i+1 th index.\r\n         */\r\n        map[i + 1] = map[i] + map[j];\r\n        // map [i+2-----] is already sorted. Just fix the first element.\r\n        Adjust_first_element(map + i + 1, n - i - 1);\r\n      }\r\n      printf(&quot;Entropy per byte %f &quot;, compressed_file_size_in_bits * (1.0) / file_len);\r\n    \r\n      void insertionSort(long arr[], long n) {\r\n      long i, key, j;\r\n      for (i = 1; i &lt; n; i++) {\r\n        key = arr[i];\r\n        j = i - 1;\r\n    \r\n        /* Move elements of arr[0..i-1], that are\r\n        greater than key, to one position ahead\r\n        of their current position */\r\n        while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\r\n          arr[j + 1] = arr[j];\r\n          j = j - 1;\r\n        }\r\n        arr[j + 1] = key;\r\n      }\r\n    }\r\n    \r\n    // Assumes arr[i+1---] is already sorted. Just first\r\n    // element needs to be placed at appropriate place.\r\n    void Adjust_first_element(long arr[], long n) {\r\n      long i, key, j = 1;\r\n      key = arr[0];\r\n      while (j &lt; n &amp;&amp; arr[j] &lt; key) {\r\n        arr[j - 1] = arr[j];\r\n        j = j + 1;\r\n      }\r\n      arr[j - 1] = key;\r\n    }\r\n--------------------------------------------------------------------------\r\nConstruction of codes using above algorithm\r\n\r\nConstruction of codes which makes use of the above algorithm is a string manipulation problem where we start with no code for each symbol. Then we follow the same algorithm as compressed file size/ compressibility calculation. Additionally we just keep on maintaining the history of code evolution. After the iteration through frequency array finishes, our final code which contains the evolution of different Huffman code for each symbol gets stored in the top index of codes array.\r\nAt this point, a string parsing algorithm can parse this evolution and generate individual codes per symbol. Complete phenomenon involves no trees, heaps or priority queue. Just one iteration through frequency array (size 256 in most cases) would generate the evolution of codes as well as final compressed size value.\r\n\r\n\r\n \r\n\r\n       /* Generate code for map array of frequencies. Final code gets generated at\r\n     * codes[r] which can be provided as input to string parsing algorithm to\r\n     * generate code for individual symbols.\r\n     */\r\n    void generate_code(long map[], int l, int r) {\r\n      int i, j, k, compressed_file_size_in_bits = 0;\r\n    \r\n      insertionSort(map + l, r - l);\r\n    \r\n      for (i = l; i + 1 &lt;= r; i++) {\r\n        j = i + 1;\r\n    \r\n        compressed_file_size = compressed_file_size_in_bits + map[i] + map[j];\r\n        char code[50] = &quot;(&quot;;\r\n    \r\n        /* According to  algorithm, two different codes from two different\r\n         * nodes are getting combined in a way so that they can be separated by\r\n         * by a string parsing algorithm.  Left node code, codes[i] gets appended by\r\n         * 0  and right node code, codes[j] gets appended by 1. These two codes \r\n          get\r\n         * separated by a comma.\r\n         */\r\n        strcat(code, codes[i]);\r\n        strcat(code, &quot;0&quot;);\r\n        strcat(code, &quot;,&quot;);\r\n        strcat(code, codes[j]);\r\n        strcat(code, &quot;1&quot;);\r\n        strcat(code, &quot;)&quot;);\r\n    \r\n        map[i + 1] = map[i] + map[j];\r\n    \r\n        strcpy(codes[i + 1], code);\r\n    \r\n        int n = r - l;\r\n        /* Adjust_first_element now takes an additional 3rd argument.\r\n         * this argument helps in adjusting codes according to how\r\n         * map elements are getting adjusted.\r\n         */\r\n        Adjust_first_element(map + i + 1, n - i - 1, i + 1);\r\n      }\r\n    }\r\n    \r\n    void insertionSort(long arr[], long n) {\r\n      long i, key, j;\r\n      //   if(n&gt;3)\r\n      //  n=3;\r\n      for (i = 1; i &lt; n; i++) {\r\n        key = arr[i];\r\n        j = i - 1;\r\n    \r\n        /* Move elements of arr[0..i-1], that are\r\n        greater than key, to one position ahead\r\n        of their current position */\r\n        while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\r\n          arr[j + 1] = arr[j];\r\n          j = j - 1;\r\n        }\r\n        arr[j + 1] = key;\r\n      }\r\n    }\r\n    \r\n    // Assumes arr[i+1---] is already sorted. Just first\r\n    // element needs to be placed at appropriate place.\r\n    void Adjust_first_element(long arr[], long n, int start) {\r\n      long i, key, j = 1;\r\n      char temp_arr[250];\r\n      key = arr[0];\r\n      /* How map elements will change position, codes[] element will follow\r\n       * same path\r\n       */\r\n      strcpy(temp_arr, codes[start]);\r\n    \r\n      while (j &lt; n &amp;&amp; arr[j] &lt; key) {\r\n        arr[j - 1] = arr[j];\r\n        /* codes should also move according to map values */\r\n        strcpy(codes[j - 1 + start], codes[j + start]);\r\n        j = j + 1;\r\n      }\r\n      arr[j - 1] = key;\r\n      strcpy(codes[j - 1 + start], temp_arr);\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uh0Qk.png","title":"How to efficiently predict if data is compressible","body":"<p>A faster and more accurate algorithm for estimating compressibility</p>\n<ol>\n<li>2 to 4 times faster and more accurate answer than judging by Shannon's entropy. It is\nbased on the Huffman coding approach.</li>\n<li>Time complexity of answering does not depend on numerical values of frequency of\nsymbols, rather depends on the number of unique symbols. Shannon's entropy calculates\nlog(frequency), Hence the more the frequency, the more time it will consume to compute\nthis value. In the current approach, mathematical operations on frequency values are\navoided.</li>\n<li>For similar reasons as above, precision is also higher since our dependency on floating\npoint operations is avoided as well as we just rely on sum and multiplication operations and\nhow actual Huffman codes will contribute to total compressed size.</li>\n<li>Same algorithm can be enhanced to generate actual Huffman codes in less time which\nwon't involve complex data structures like trees, heaps or priority queue. For our different\nrequirements we just use the same frequency array of symbols.</li>\n</ol>\n<p>Following algorithm specifies how to calculate compressibility of a file whose symbol\nfrequency values are stored in map array.<a href=\"https://i.stack.imgur.com/Uh0Qk.png\" rel=\"nofollow noreferrer\">Time comparison chart</a></p>\n<pre><code>     int compressed_file_size_in_bits = 0, n=256;\n  /* We sort the map array in increasing order.\n   * We will be simulating huffman codes algorithm.\n   * Insertion Sort is used as its a small array of 256 symbols.\n   */\n  insertionSort(map, 256);\n\n  for (j = 0; j &lt; n; j++)\n    if (map[j] != 0)\n      break;\n\n  for (i = j; i + 1 &lt; n; i++) {\n    j = i + 1;\n    /* Following is an important step, as we keep on building more\n     * and more codes bottom up, their contribution to compressed size\n     * gets governed by following formula. Copy pen simulation is recommended.\n     */\n    compressed_file_size_in_bits = compressed_file_size_in_bits + map[i] + map[j];\n\n    /* Least two elements of the map gets summed up and form a new frequency\n     * value which gets placed at i+1 th index.\n     */\n    map[i + 1] = map[i] + map[j];\n    // map [i+2-----] is already sorted. Just fix the first element.\n    Adjust_first_element(map + i + 1, n - i - 1);\n  }\n  printf(&quot;Entropy per byte %f &quot;, compressed_file_size_in_bits * (1.0) / file_len);\n\n  void insertionSort(long arr[], long n) {\n  long i, key, j;\n  for (i = 1; i &lt; n; i++) {\n    key = arr[i];\n    j = i - 1;\n\n    /* Move elements of arr[0..i-1], that are\n    greater than key, to one position ahead\n    of their current position */\n    while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\n      arr[j + 1] = arr[j];\n      j = j - 1;\n    }\n    arr[j + 1] = key;\n  }\n}\n\n// Assumes arr[i+1---] is already sorted. Just first\n// element needs to be placed at appropriate place.\nvoid Adjust_first_element(long arr[], long n) {\n  long i, key, j = 1;\n  key = arr[0];\n  while (j &lt; n &amp;&amp; arr[j] &lt; key) {\n    arr[j - 1] = arr[j];\n    j = j + 1;\n  }\n  arr[j - 1] = key;\n}\n</code></pre>\n<hr />\n<p>Construction of codes using above algorithm</p>\n<p>Construction of codes which makes use of the above algorithm is a string manipulation problem where we start with no code for each symbol. Then we follow the same algorithm as compressed file size/ compressibility calculation. Additionally we just keep on maintaining the history of code evolution. After the iteration through frequency array finishes, our final code which contains the evolution of different Huffman code for each symbol gets stored in the top index of codes array.\nAt this point, a string parsing algorithm can parse this evolution and generate individual codes per symbol. Complete phenomenon involves no trees, heaps or priority queue. Just one iteration through frequency array (size 256 in most cases) would generate the evolution of codes as well as final compressed size value.</p>\n<pre><code>   /* Generate code for map array of frequencies. Final code gets generated at\n * codes[r] which can be provided as input to string parsing algorithm to\n * generate code for individual symbols.\n */\nvoid generate_code(long map[], int l, int r) {\n  int i, j, k, compressed_file_size_in_bits = 0;\n\n  insertionSort(map + l, r - l);\n\n  for (i = l; i + 1 &lt;= r; i++) {\n    j = i + 1;\n\n    compressed_file_size = compressed_file_size_in_bits + map[i] + map[j];\n    char code[50] = &quot;(&quot;;\n\n    /* According to  algorithm, two different codes from two different\n     * nodes are getting combined in a way so that they can be separated by\n     * by a string parsing algorithm.  Left node code, codes[i] gets appended by\n     * 0  and right node code, codes[j] gets appended by 1. These two codes \n      get\n     * separated by a comma.\n     */\n    strcat(code, codes[i]);\n    strcat(code, &quot;0&quot;);\n    strcat(code, &quot;,&quot;);\n    strcat(code, codes[j]);\n    strcat(code, &quot;1&quot;);\n    strcat(code, &quot;)&quot;);\n\n    map[i + 1] = map[i] + map[j];\n\n    strcpy(codes[i + 1], code);\n\n    int n = r - l;\n    /* Adjust_first_element now takes an additional 3rd argument.\n     * this argument helps in adjusting codes according to how\n     * map elements are getting adjusted.\n     */\n    Adjust_first_element(map + i + 1, n - i - 1, i + 1);\n  }\n}\n\nvoid insertionSort(long arr[], long n) {\n  long i, key, j;\n  //   if(n&gt;3)\n  //  n=3;\n  for (i = 1; i &lt; n; i++) {\n    key = arr[i];\n    j = i - 1;\n\n    /* Move elements of arr[0..i-1], that are\n    greater than key, to one position ahead\n    of their current position */\n    while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\n      arr[j + 1] = arr[j];\n      j = j - 1;\n    }\n    arr[j + 1] = key;\n  }\n}\n\n// Assumes arr[i+1---] is already sorted. Just first\n// element needs to be placed at appropriate place.\nvoid Adjust_first_element(long arr[], long n, int start) {\n  long i, key, j = 1;\n  char temp_arr[250];\n  key = arr[0];\n  /* How map elements will change position, codes[] element will follow\n   * same path\n   */\n  strcpy(temp_arr, codes[start]);\n\n  while (j &lt; n &amp;&amp; arr[j] &lt; key) {\n    arr[j - 1] = arr[j];\n    /* codes should also move according to map values */\n    strcpy(codes[j - 1 + start], codes[j + start]);\n    j = j + 1;\n  }\n  arr[j - 1] = key;\n  strcpy(codes[j - 1 + start], temp_arr);\n}\n</code></pre>\n"}],"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6754,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":7027268,"answer_count":9,"score":23,"last_activity_date":1650178594,"creation_date":1313070525,"question_id":7027022,"body_markdown":"I want to write a storage backend to store larger chunks of data. The data can be anything, but it is mainly binary files (images, pdfs, jar files) or text files (xml, jsp, js, html, java...). I found most of the data is already compressed. If everything is compressed, about 15% disk space can be saved.\r\n\r\nI am looking for the most efficient algorithm that can predict with high probability that a chunk of data (let&#39;s say 128 KB) can be compressed or not (lossless compression), without having to look at all the data if possible.\r\n\r\nThe compression algorithm will be either LZF, Deflate, or something similar (maybe Google Snappy). So predicting if data is compressible should be much faster than compressing the data itself, and use less memory.\r\n\r\nAlgorithms I already know about:\r\n\r\n* Try to compress a subset of the data, let&#39;s say 128 bytes (this is a bit slow)\r\n\r\n* Calculate the sum of 128 bytes, and if it&#39;s within a certain range then it&#39;s likely not compressible (within 10% of 128 * 127) (this is fast, and relatively good, but I&#39;m looking for something more reliable, because the algorithm really only looks at the topmost bits for each byte)\r\n\r\n* Look at the file headers (relatively reliable, but feels like cheating)\r\n\r\nI guess the general idea is that I need an algorithm that can quickly calculate if the probability of each bit in a list of bytes is roughly 0.5.\r\n\r\nUpdate\r\n------\r\n\r\nI have implemented &#39;ASCII checking&#39;, &#39;entropy calculation&#39;, and &#39;simplified compression&#39;, and all give good results. I want to refine the algorithms, and now my idea is to not only predict if data can be compressed, but also _how much_ it can be compressed. Possibly using a combination of algorithms. Now if I could only accept multiple answers... I will accept the answer that gave the best results.\r\n\r\nAdditional answers (new ideas) are still welcome! If possible, with source code or links :-)\r\n\r\nUpdate 2\r\n--------\r\nA similar method is [now implemented in Linux][1].\r\n\r\n\r\n  [1]: https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=19562430c6213925faba3baa9e8cb224ddd47ee6","title":"How to efficiently predict if data is compressible","body":"<p>I want to write a storage backend to store larger chunks of data. The data can be anything, but it is mainly binary files (images, pdfs, jar files) or text files (xml, jsp, js, html, java...). I found most of the data is already compressed. If everything is compressed, about 15% disk space can be saved.</p>\n\n<p>I am looking for the most efficient algorithm that can predict with high probability that a chunk of data (let's say 128 KB) can be compressed or not (lossless compression), without having to look at all the data if possible.</p>\n\n<p>The compression algorithm will be either LZF, Deflate, or something similar (maybe Google Snappy). So predicting if data is compressible should be much faster than compressing the data itself, and use less memory.</p>\n\n<p>Algorithms I already know about:</p>\n\n<ul>\n<li><p>Try to compress a subset of the data, let's say 128 bytes (this is a bit slow)</p></li>\n<li><p>Calculate the sum of 128 bytes, and if it's within a certain range then it's likely not compressible (within 10% of 128 * 127) (this is fast, and relatively good, but I'm looking for something more reliable, because the algorithm really only looks at the topmost bits for each byte)</p></li>\n<li><p>Look at the file headers (relatively reliable, but feels like cheating)</p></li>\n</ul>\n\n<p>I guess the general idea is that I need an algorithm that can quickly calculate if the probability of each bit in a list of bytes is roughly 0.5.</p>\n\n<h2>Update</h2>\n\n<p>I have implemented 'ASCII checking', 'entropy calculation', and 'simplified compression', and all give good results. I want to refine the algorithms, and now my idea is to not only predict if data can be compressed, but also <em>how much</em> it can be compressed. Possibly using a combination of algorithms. Now if I could only accept multiple answers... I will accept the answer that gave the best results.</p>\n\n<p>Additional answers (new ideas) are still welcome! If possible, with source code or links :-)</p>\n\n<h2>Update 2</h2>\n\n<p>A similar method is <a href=\"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=19562430c6213925faba3baa9e8cb224ddd47ee6\" rel=\"nofollow noreferrer\">now implemented in Linux</a>.</p>\n"},{"tags":["java","spring","unit-testing","testing","spring-data-jpa"],"comments":[{"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"score":0,"creation_date":1498037610,"post_id":44671835,"comment_id":76328619,"body_markdown":"I wouldn&#39;t to this, by which I mean write a generic Specification, I think it&#39;s rewriting the intention behind JPA.  I would write only specific Specification, most cases can be handled by Spring JPA anyway.  Just my own personal opinion of course.","body":"I wouldn&#39;t to this, by which I mean write a generic Specification, I think it&#39;s rewriting the intention behind JPA.  I would write only specific Specification, most cases can be handled by Spring JPA anyway.  Just my own personal opinion of course."},{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1498037696,"post_id":44671835,"comment_id":76328683,"body_markdown":"I have 10 parameters which can or not be empty/null. I cannot write 10! single specifications","body":"I have 10 parameters which can or not be empty/null. I cannot write 10! single specifications"}],"answers":[{"tags":[],"owner":{"account_id":2914806,"reputation":5288,"user_id":2596915,"accept_rate":14,"display_name":"xyz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1650178445,"creation_date":1498038618,"answer_id":44672656,"question_id":44671835,"body_markdown":"1. if you must test actual code that talks to the DB, use DBUnit for making your life easier, and it is recommended that you use HSQLDB, so that your tests will be able to setup their environment on runtime, without requiring a database already being installed and configured. \r\nInside integration test you check that query is : correct , executable , return expected result , data model is valid...... You don&#39;t need to check all possible combination inside integration tests, check only correct execution and result as expected.\r\n\r\n\r\n2. if you don&#39;t have to talk with the DB (appendOr,appendAnd - you check behavior , not data. check that specification builder has expected behavior - apply AND , OR..... predicates ), use a general mocking library : EasyMock, Mockito or any other, and make the tests not really talk to a DB, which will usually make tests faster and simpler.\r\n\r\nso , if you want to &#39;test only logic, how OR and AND clauses are created&#39; you can use mock for checking way of creation, but you should have min one integration test for method : Specification&lt;T&gt; build() with maximum amount of criteria like appendOr ,  appendAnd ....","title":"How to write a unit test for spring specification?","body":"<ol>\n<li><p>if you must test actual code that talks to the DB, use DBUnit for making your life easier, and it is recommended that you use HSQLDB, so that your tests will be able to setup their environment on runtime, without requiring a database already being installed and configured.\nInside integration test you check that query is : correct , executable , return expected result , data model is valid...... You don't need to check all possible combination inside integration tests, check only correct execution and result as expected.</p>\n</li>\n<li><p>if you don't have to talk with the DB (appendOr,appendAnd - you check behavior , not data. check that specification builder has expected behavior - apply AND , OR..... predicates ), use a general mocking library : EasyMock, Mockito or any other, and make the tests not really talk to a DB, which will usually make tests faster and simpler.</p>\n</li>\n</ol>\n<p>so , if you want to 'test only logic, how OR and AND clauses are created' you can use mock for checking way of creation, but you should have min one integration test for method : Specification build() with maximum amount of criteria like appendOr ,  appendAnd ....</p>\n"}],"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15727,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44672656,"answer_count":1,"score":4,"last_activity_date":1650178445,"creation_date":1498036732,"question_id":44671835,"body_markdown":"I created a builder class which construct [Specifications](http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/Specifications.html) object. It is used for creating queries for `JpaSpecificationExecutor`. The builder is used, because I have many parameters which can be null/empty (comes from user for filtering) and I cannot use just `Specifications` without it:\r\n\r\n\tpublic class SpecificationBuilder&lt;T&gt; {\r\n\r\n\t\tprivate Specifications&lt;T&gt; specification;\r\n\t\t\r\n\t\tpublic SpecificationBuilder() {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic SpecificationBuilder(final Specification&lt;T&gt; spec) {\r\n\t\t\tspecification = Specifications.where(spec);\r\n\t\t}\r\n\t\t\r\n\t\tpublic SpecificationBuilder&lt;T&gt; appendOr(final Specification&lt;T&gt; spec) {\r\n\t\t\tspecification = Specifications.where(spec).or(specification);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\tpublic SpecificationBuilder&lt;T&gt; appendAnd(final Specification&lt;T&gt; spec) {\r\n\t\t\tspecification = Specifications.where(spec).and(specification);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Specification&lt;T&gt; build() {\r\n\t\t\treturn Specifications.where(specification);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nMy problem here is that I don&#39;t know how to test it in isolation. Of course I can autowire real repository (on in-memory db) but I want to not involve any other classes for that and test only logic, how OR and AND clauses are created.\r\n\r\nUnfortunately in spring API I cannot find any method which will help","title":"How to write a unit test for spring specification?","body":"<p>I created a builder class which construct <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/Specifications.html\" rel=\"nofollow noreferrer\">Specifications</a> object. It is used for creating queries for <code>JpaSpecificationExecutor</code>. The builder is used, because I have many parameters which can be null/empty (comes from user for filtering) and I cannot use just <code>Specifications</code> without it:</p>\n\n<pre><code>public class SpecificationBuilder&lt;T&gt; {\n\n    private Specifications&lt;T&gt; specification;\n\n    public SpecificationBuilder() {\n\n    }\n\n    public SpecificationBuilder(final Specification&lt;T&gt; spec) {\n        specification = Specifications.where(spec);\n    }\n\n    public SpecificationBuilder&lt;T&gt; appendOr(final Specification&lt;T&gt; spec) {\n        specification = Specifications.where(spec).or(specification);\n        return this;\n    }\n\n    public SpecificationBuilder&lt;T&gt; appendAnd(final Specification&lt;T&gt; spec) {\n        specification = Specifications.where(spec).and(specification);\n        return this;\n    }\n\n    public Specification&lt;T&gt; build() {\n        return Specifications.where(specification);\n    }\n\n}\n</code></pre>\n\n<p>My problem here is that I don't know how to test it in isolation. Of course I can autowire real repository (on in-memory db) but I want to not involve any other classes for that and test only logic, how OR and AND clauses are created.</p>\n\n<p>Unfortunately in spring API I cannot find any method which will help</p>\n"},{"tags":["java","android","xml","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":1301014,"reputation":8110,"user_id":1250929,"accept_rate":72,"display_name":"Kristy Welsh"},"score":0,"creation_date":1620222379,"post_id":67401921,"comment_id":119136734,"body_markdown":"You never call stop on the previous audio track.","body":"You never call stop on the previous audio track."},{"owner":{"account_id":21486450,"reputation":31,"user_id":15833013,"display_name":"Aryan Raj"},"score":0,"creation_date":1620282423,"post_id":67401921,"comment_id":119155502,"body_markdown":"I have tried that also but however it is not working.","body":"I have tried that also but however it is not working."}],"answers":[{"tags":[],"owner":{"account_id":4824539,"reputation":969,"user_id":3894304,"display_name":"Marcel Hofgesang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620224513,"creation_date":1620224513,"answer_id":67403197,"question_id":67401921,"body_markdown":"Code seems to be good. Remember to call `release()` on your player and initialise it again with new media file before playing it. Maybe it could be useful for you to implement a [MediaPlayer.OnCompletionListener][1] in which you could call `player.release()`\r\n\r\nOr maybe this is enough:\r\n\r\n    holder.soundImage.setOnClickListener {\r\n            mediaPlayer!!.release()\r\n            mediaPlayer = null\r\n            mediaPlayer = MediaPlayer.create(context, itemModel.soundTrack)\r\n            Toast.makeText(context, itemModel.soundTitle, Toast.LENGTH_LONG).show()\r\n            mediaPlayer!!.start()\r\n        }\r\n\r\n  [1]: https://developer.android.com/reference/android/media/MediaPlayer#setOnCompletionListener(android.media.MediaPlayer.OnCompletionListener)","title":"When i click on multiple buttons, multiple audios start playing at the same time in android studio","body":"<p>Code seems to be good. Remember to call <code>release()</code> on your player and initialise it again with new media file before playing it. Maybe it could be useful for you to implement a <a href=\"https://developer.android.com/reference/android/media/MediaPlayer#setOnCompletionListener(android.media.MediaPlayer.OnCompletionListener)\" rel=\"nofollow noreferrer\">MediaPlayer.OnCompletionListener</a> in which you could call <code>player.release()</code></p>\n<p>Or maybe this is enough:</p>\n<pre><code>holder.soundImage.setOnClickListener {\n        mediaPlayer!!.release()\n        mediaPlayer = null\n        mediaPlayer = MediaPlayer.create(context, itemModel.soundTrack)\n        Toast.makeText(context, itemModel.soundTitle, Toast.LENGTH_LONG).show()\n        mediaPlayer!!.start()\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23903408,"reputation":159,"user_id":17901287,"display_name":"BeeProDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650177967,"creation_date":1650177967,"answer_id":71899875,"question_id":67401921,"body_markdown":"I&#39;ll recommend to initialize just single object of MediaPlayer in your fragment or activity in which your RecyclerView is located and than pass that object into adapter as a parameter and use it and dont forget to release MediaPlayer in onDestroy() of activity or onDestroyView() of fragment by calling MediaPlayer?.release(). In adapter OnClickListener() you have to stop the media player calling MediaPlayer?.stop() and MediaPlayer?.reset() and than add the new source\r\n\r\n    class RecylerViewAdapter (var context: Context, var arrayList: ArrayList&lt;ItemModel&gt;, var mediaPlayer : MediaPlayer?) :\r\n    RecyclerView.Adapter&lt;RecylerViewAdapter.ItemHolder&gt;() {\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemHolder {\r\n\r\n        val viewHolder = LayoutInflater.from(parent.context)\r\n            .inflate(R.layout.sound_item_list, parent, false)\r\n        return ItemHolder(viewHolder)\r\n\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: ItemHolder, position: Int) {\r\n\r\n        val itemModel: ItemModel = arrayList[position]\r\n\r\n        holder.soundImage.setImageResource(itemModel.soundImage)\r\n        holder.soundTitle.text = itemModel.soundTitle\r\n\r\n    \r\n        holder.soundImage.setOnClickListener {\r\n        mediaPlayer?.stop()\r\n        mediaPlayer?.reset()\r\n        mediaPlayer?.setDataSource(itemModel.soundTrack)\r\n        mediaPlayer?.isLooping = true\r\n        mediaPlayer?.start()\r\n        }\r\n\r\n    }\r\n\r\n\r\n    override fun getItemCount(): Int {\r\n\r\n        return arrayList.size\r\n\r\n    }\r\n\r\n    class ItemHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n\r\n        var soundImage = itemView.soundImage\r\n        var soundTitle = itemView.soundTitle\r\n\r\n    }\r\n}","title":"When i click on multiple buttons, multiple audios start playing at the same time in android studio","body":"<p>I'll recommend to initialize just single object of MediaPlayer in your fragment or activity in which your RecyclerView is located and than pass that object into adapter as a parameter and use it and dont forget to release MediaPlayer in onDestroy() of activity or onDestroyView() of fragment by calling MediaPlayer?.release(). In adapter OnClickListener() you have to stop the media player calling MediaPlayer?.stop() and MediaPlayer?.reset() and than add the new source</p>\n<pre><code>class RecylerViewAdapter (var context: Context, var arrayList: ArrayList&lt;ItemModel&gt;, var mediaPlayer : MediaPlayer?) :\nRecyclerView.Adapter&lt;RecylerViewAdapter.ItemHolder&gt;() {\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemHolder {\n\n    val viewHolder = LayoutInflater.from(parent.context)\n        .inflate(R.layout.sound_item_list, parent, false)\n    return ItemHolder(viewHolder)\n\n}\n\noverride fun onBindViewHolder(holder: ItemHolder, position: Int) {\n\n    val itemModel: ItemModel = arrayList[position]\n\n    holder.soundImage.setImageResource(itemModel.soundImage)\n    holder.soundTitle.text = itemModel.soundTitle\n\n\n    holder.soundImage.setOnClickListener {\n    mediaPlayer?.stop()\n    mediaPlayer?.reset()\n    mediaPlayer?.setDataSource(itemModel.soundTrack)\n    mediaPlayer?.isLooping = true\n    mediaPlayer?.start()\n    }\n\n}\n\n\noverride fun getItemCount(): Int {\n\n    return arrayList.size\n\n}\n\nclass ItemHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    var soundImage = itemView.soundImage\n    var soundTitle = itemView.soundTitle\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":21486450,"reputation":31,"user_id":15833013,"display_name":"Aryan Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1650177967,"creation_date":1620219845,"question_id":67401921,"body_markdown":"    \r\nWhen i click on multiple images of recyclerview then multiple audios start playing without stopping the previous one. It is getting irritating. I hope someone can help me fix this. I have read about singleton class and using only one instance of media player but couldn&#39;t understood how to implement it correctly.\r\n\r\n\r\n    class RecylerViewAdapter (var context: Context, var arrayList: ArrayList&lt;ItemModel&gt;) :\r\n        RecyclerView.Adapter&lt;RecylerViewAdapter.ItemHolder&gt;() {\r\n    \r\n        var mediaPlayer: MediaPlayer? = null\r\n    \r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemHolder {\r\n    \r\n            val viewHolder = LayoutInflater.from(parent.context)\r\n                .inflate(R.layout.sound_item_list, parent, false)\r\n            return ItemHolder(viewHolder)\r\n    \r\n        }\r\n    \r\n        override fun onBindViewHolder(holder: ItemHolder, position: Int) {\r\n    \r\n            val itemModel: ItemModel = arrayList[position]\r\n    \r\n            holder.soundImage.setImageResource(itemModel.soundImage)\r\n            holder.soundTitle.text = itemModel.soundTitle\r\n    \r\n            mediaPlayer = MediaPlayer.create(context, itemModel.soundTrack)\r\n            mediaPlayer!!.isLooping = true\r\n    \r\n            holder.soundImage.setOnClickListener {\r\n                Toast.makeText(context, itemModel.soundTitle, Toast.LENGTH_LONG).show()\r\n                mediaPlayer!!.start()\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        override fun getItemCount(): Int {\r\n    \r\n            return arrayList.size\r\n    \r\n        }\r\n    \r\n        class ItemHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n    \r\n            var soundImage = itemView.soundImage\r\n            var soundTitle = itemView.soundTitle\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"When i click on multiple buttons, multiple audios start playing at the same time in android studio","body":"<p>When i click on multiple images of recyclerview then multiple audios start playing without stopping the previous one. It is getting irritating. I hope someone can help me fix this. I have read about singleton class and using only one instance of media player but couldn't understood how to implement it correctly.</p>\n<pre><code>class RecylerViewAdapter (var context: Context, var arrayList: ArrayList&lt;ItemModel&gt;) :\n    RecyclerView.Adapter&lt;RecylerViewAdapter.ItemHolder&gt;() {\n\n    var mediaPlayer: MediaPlayer? = null\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemHolder {\n\n        val viewHolder = LayoutInflater.from(parent.context)\n            .inflate(R.layout.sound_item_list, parent, false)\n        return ItemHolder(viewHolder)\n\n    }\n\n    override fun onBindViewHolder(holder: ItemHolder, position: Int) {\n\n        val itemModel: ItemModel = arrayList[position]\n\n        holder.soundImage.setImageResource(itemModel.soundImage)\n        holder.soundTitle.text = itemModel.soundTitle\n\n        mediaPlayer = MediaPlayer.create(context, itemModel.soundTrack)\n        mediaPlayer!!.isLooping = true\n\n        holder.soundImage.setOnClickListener {\n            Toast.makeText(context, itemModel.soundTitle, Toast.LENGTH_LONG).show()\n            mediaPlayer!!.start()\n        }\n\n    }\n\n\n    override fun getItemCount(): Int {\n\n        return arrayList.size\n\n    }\n\n    class ItemHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        var soundImage = itemView.soundImage\n        var soundTitle = itemView.soundTitle\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","arraylist","text-files"],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649830464,"creation_date":1649824390,"answer_id":71851927,"question_id":71851789,"body_markdown":"Yes. You are right. You can use a hashmap. Try this code -&gt; \r\n```java\r\npublic static Hashmap&lt;String, Integer&gt; letterInstances(String file)throws IOException{\r\n    Hashmap&lt;String, String&gt; instanceMap = Hashmap&lt;String, String&gt;;\r\n  \r\n\r\n    Scanner reader = new Scanner(new File(&quot;test.txt&quot;));//scanner accesses file\r\n    \r\n    \r\n    while(reader.hasNext()){\r\n       String line = reader.nextLine();\r\n       for(int i = 0; i&lt; line.length(); i++){\r\n           String character = line.get(i).toString().toLowerCase();\r\n           int count = 0;\r\n           if(instanceMap.containsKey(character)) count = instanceList.get(character);\r\n           instanceMap.put(character, count)\r\n       }\r\n      \r\n       return instanceMap;\r\n\r\n}\r\n```\r\nOr if you also want to sort them to get the first 5 results, use this -&gt; \r\n```java\r\npublic List&lt;Entry&lt;String, Integer&gt;&gt; getTop5(Hashmap map){\r\n\r\n    Set&lt;Entry&lt;String, Integer&gt;&gt; set = map.entrySet();\r\n\r\n    List&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(\r\n            set);\r\n\r\n    Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\r\n\r\n        @Override\r\n        public int compare(Entry&lt;String, Integer&gt; o1,\r\n                Entry&lt;String, Integer&gt; o2) {\r\n\r\n            return o2.getValue().compareTo(o1.getValue());\r\n        }\r\n\r\n    });\r\n    System.out.println(list.subList(0, 5)); // this is the list of largest 5 characters in count\r\n    return list.subList(0, 5);\r\n}\r\n\r\n```","title":"Finding Highest occurrence in file","body":"<p>Yes. You are right. You can use a hashmap. Try this code -&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Hashmap&lt;String, Integer&gt; letterInstances(String file)throws IOException{\n    Hashmap&lt;String, String&gt; instanceMap = Hashmap&lt;String, String&gt;;\n  \n\n    Scanner reader = new Scanner(new File(&quot;test.txt&quot;));//scanner accesses file\n    \n    \n    while(reader.hasNext()){\n       String line = reader.nextLine();\n       for(int i = 0; i&lt; line.length(); i++){\n           String character = line.get(i).toString().toLowerCase();\n           int count = 0;\n           if(instanceMap.containsKey(character)) count = instanceList.get(character);\n           instanceMap.put(character, count)\n       }\n      \n       return instanceMap;\n\n}\n</code></pre>\n<p>Or if you also want to sort them to get the first 5 results, use this -&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Entry&lt;String, Integer&gt;&gt; getTop5(Hashmap map){\n\n    Set&lt;Entry&lt;String, Integer&gt;&gt; set = map.entrySet();\n\n    List&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(\n            set);\n\n    Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\n\n        @Override\n        public int compare(Entry&lt;String, Integer&gt; o1,\n                Entry&lt;String, Integer&gt; o2) {\n\n            return o2.getValue().compareTo(o1.getValue());\n        }\n\n    });\n    System.out.println(list.subList(0, 5)); // this is the list of largest 5 characters in count\n    return list.subList(0, 5);\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650176064,"creation_date":1649826435,"answer_id":71852155,"question_id":71851789,"body_markdown":"If you can not use a `HashMap`, you can try this.\r\n\r\nComments in the code.\r\n\r\n**Code**\r\n```\r\nmport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n/**\r\n *\r\n * @author Sedrick(sedj601)\r\n */\r\npublic class Main\r\n{\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        //Fake file data\r\n        String dataToRead = \r\n        &quot;Lorem Ipsum is simply dummy text of the \r\n        printing and typesetting industry Lorem \r\n        Ipsum has been the industrys standard dummy \r\n        text ever since thes when an unknown printer \r\n        took a galley of type and scrambled it to make a \r\n        type specimen book It has survived not only five \r\n        centuries but also the leap into electronic typesetting \r\n        remaining essentially unchanged It was popularised in the \r\n        a with the release of Letraset sheets containing \r\n        Lorem Ipsum passages and more recently with desktop \r\n        publishing software like Aldus PageMaker including \r\n        versions of Lorem Ipsum&quot;;        \r\n        List&lt;String&gt; data = Arrays.asList(dataToRead.toUpperCase().split(&quot;\\n&quot;));//Capatilize the data as you read it.\r\n        \r\n        List&lt;String&gt; keyCapitalLetters = new ArrayList(Arrays.asList(&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ &quot;.split(&quot;&quot;)));//Use this List like you would use the key part of a HashMap.\r\n        //data.forEach(System.out::println);\r\n        List&lt;Integer&gt; valuescounters = new ArrayList();//Use this list like you would use the value part of a HashMap\r\n        //Set all the counters values to zero.\r\n        for(int i = 0; i &lt; 27; i++)\r\n        {\r\n            valuescounters.add(0);\r\n        }\r\n        \r\n        //Process the fake data line by line\r\n        for(String line : data)\r\n        {\r\n            System.out.println(&quot;Line: &quot; + line);\r\n            for(int i = 0; i &lt; line.length(); i++)//Read each character of each line.\r\n            {                \r\n                int index = keyCapitalLetters.indexOf(String.valueOf(line.charAt(i)));//find the index in the key List of the characters that is being read.\r\n                valuescounters.set(index, valuescounters.get(index) + 1);//Increment the counter value in the value list.\r\n                System.out.println(&quot;Char: &quot; + line.charAt(i) + &quot;\\tIndex: &quot; + index);\r\n            }\r\n        }\r\n        \r\n        //Remove the space character.\r\n        keyCapitalLetters.remove(&quot; &quot;);\r\n        valuescounters.remove(26);\r\n        \r\n        //Print the output of the key and value list.\r\n        System.out.println(&quot;\\nCount:&quot;);\r\n        for(int i = 0; i &lt; keyCapitalLetters.size(); i++)\r\n        {\r\n            System.out.println(keyCapitalLetters.get(i) + &quot;: &quot; + valuescounters.get(i));\r\n        }\r\n        \r\n        doSelectionSort(keyCapitalLetters, valuescounters);//Sort.\r\n        //Print After sort.\r\n        System.out.println(&quot;\\nSorted:&quot;);     \r\n        for(int i = 0; i &lt; keyCapitalLetters.size(); i++)\r\n        {\r\n            System.out.println(keyCapitalLetters.get(i) + &quot;: &quot; + valuescounters.get(i));\r\n        }\r\n        \r\n        //Print Five Highest.\r\n        System.out.println(&quot;\\nHighest Five&quot;);\r\n        List&lt;String&gt; keysFiveHighest = keyCapitalLetters.subList(keyCapitalLetters.size() - 5, keyCapitalLetters.size());\r\n        List&lt;Integer&gt; valuesFiveHighest = valuescounters.subList(valuescounters.size() - 5, valuescounters.size());\r\n        for(int i = 0; i &lt; keysFiveHighest.size(); i++)\r\n        {\r\n            System.out.println(keysFiveHighest.get(i) + &quot;: &quot; + valuesFiveHighest.get(i));\r\n        }\r\n        \r\n        System.out.println(&quot;\\nHighest - &quot; + keyCapitalLetters.get(keyCapitalLetters.size() - 1) + &quot;: &quot; + valuescounters.get(valuescounters.size() -1 ));\r\n        System.out.println(&quot;\\nLowest - &quot; + keyCapitalLetters.get(0) + &quot;: &quot; + valuescounters.get(0));\r\n        \r\n        \r\n        \r\n        \r\n    }    \r\n    \r\n    public static void doSelectionSort(List&lt;String&gt; keyList, List&lt;Integer&gt; valuesList) {\r\n        for (int i = 0; i &lt; valuesList.size(); i++) {\r\n            // find position of smallest num between (i + 1)th element and last element\r\n            int pos = i;\r\n            for (int j = i; j &lt; valuesList.size(); j++) {\r\n                if (valuesList.get(j) &lt; valuesList.get(pos))\r\n                    pos = j;\r\n            }\r\n            // Swap min (smallest num) to current position on array\r\n            int minValue = valuesList.get(pos);\r\n            String minKey = keyList.get(pos);\r\n            \r\n            valuesList.set(pos, valuesList.get(i));\r\n            keyList.set(pos, keyList.get(i));\r\n            \r\n            valuesList.set(i, minValue);\r\n            keyList.set(i, minKey);            \r\n        }\r\n    }    \r\n}\r\n\r\n```\r\n\r\n**OutPut**\r\n```\r\nSorted:\r\nJ: 0\r\nQ: 0\r\nZ: 0\r\nX: 2\r\nB: 5\r\nV: 5\r\nF: 6\r\nW: 6\r\nK: 7\r\nC: 10\r\nG: 11\r\nY: 13\r\nH: 14\r\nD: 16\r\nU: 17\r\nP: 19\r\nM: 19\r\nL: 22\r\nR: 24\r\nO: 25\r\nA: 30\r\nI: 38\r\nN: 38\r\nS: 38\r\nT: 43\r\nE: 59\r\n\r\nHighest Five\r\nI: 38\r\nN: 38\r\nS: 38\r\nT: 43\r\nE: 59\r\n\r\nHighest - E: 59\r\n\r\nLowest - J: 0\r\n```","title":"Finding Highest occurrence in file","body":"<p>If you can not use a <code>HashMap</code>, you can try this.</p>\n<p>Comments in the code.</p>\n<p><strong>Code</strong></p>\n<pre><code>mport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n/**\n *\n * @author Sedrick(sedj601)\n */\npublic class Main\n{\n\n    public static void main(String[] args)\n    {\n        //Fake file data\n        String dataToRead = \n        &quot;Lorem Ipsum is simply dummy text of the \n        printing and typesetting industry Lorem \n        Ipsum has been the industrys standard dummy \n        text ever since thes when an unknown printer \n        took a galley of type and scrambled it to make a \n        type specimen book It has survived not only five \n        centuries but also the leap into electronic typesetting \n        remaining essentially unchanged It was popularised in the \n        a with the release of Letraset sheets containing \n        Lorem Ipsum passages and more recently with desktop \n        publishing software like Aldus PageMaker including \n        versions of Lorem Ipsum&quot;;        \n        List&lt;String&gt; data = Arrays.asList(dataToRead.toUpperCase().split(&quot;\\n&quot;));//Capatilize the data as you read it.\n        \n        List&lt;String&gt; keyCapitalLetters = new ArrayList(Arrays.asList(&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ &quot;.split(&quot;&quot;)));//Use this List like you would use the key part of a HashMap.\n        //data.forEach(System.out::println);\n        List&lt;Integer&gt; valuescounters = new ArrayList();//Use this list like you would use the value part of a HashMap\n        //Set all the counters values to zero.\n        for(int i = 0; i &lt; 27; i++)\n        {\n            valuescounters.add(0);\n        }\n        \n        //Process the fake data line by line\n        for(String line : data)\n        {\n            System.out.println(&quot;Line: &quot; + line);\n            for(int i = 0; i &lt; line.length(); i++)//Read each character of each line.\n            {                \n                int index = keyCapitalLetters.indexOf(String.valueOf(line.charAt(i)));//find the index in the key List of the characters that is being read.\n                valuescounters.set(index, valuescounters.get(index) + 1);//Increment the counter value in the value list.\n                System.out.println(&quot;Char: &quot; + line.charAt(i) + &quot;\\tIndex: &quot; + index);\n            }\n        }\n        \n        //Remove the space character.\n        keyCapitalLetters.remove(&quot; &quot;);\n        valuescounters.remove(26);\n        \n        //Print the output of the key and value list.\n        System.out.println(&quot;\\nCount:&quot;);\n        for(int i = 0; i &lt; keyCapitalLetters.size(); i++)\n        {\n            System.out.println(keyCapitalLetters.get(i) + &quot;: &quot; + valuescounters.get(i));\n        }\n        \n        doSelectionSort(keyCapitalLetters, valuescounters);//Sort.\n        //Print After sort.\n        System.out.println(&quot;\\nSorted:&quot;);     \n        for(int i = 0; i &lt; keyCapitalLetters.size(); i++)\n        {\n            System.out.println(keyCapitalLetters.get(i) + &quot;: &quot; + valuescounters.get(i));\n        }\n        \n        //Print Five Highest.\n        System.out.println(&quot;\\nHighest Five&quot;);\n        List&lt;String&gt; keysFiveHighest = keyCapitalLetters.subList(keyCapitalLetters.size() - 5, keyCapitalLetters.size());\n        List&lt;Integer&gt; valuesFiveHighest = valuescounters.subList(valuescounters.size() - 5, valuescounters.size());\n        for(int i = 0; i &lt; keysFiveHighest.size(); i++)\n        {\n            System.out.println(keysFiveHighest.get(i) + &quot;: &quot; + valuesFiveHighest.get(i));\n        }\n        \n        System.out.println(&quot;\\nHighest - &quot; + keyCapitalLetters.get(keyCapitalLetters.size() - 1) + &quot;: &quot; + valuescounters.get(valuescounters.size() -1 ));\n        System.out.println(&quot;\\nLowest - &quot; + keyCapitalLetters.get(0) + &quot;: &quot; + valuescounters.get(0));\n        \n        \n        \n        \n    }    \n    \n    public static void doSelectionSort(List&lt;String&gt; keyList, List&lt;Integer&gt; valuesList) {\n        for (int i = 0; i &lt; valuesList.size(); i++) {\n            // find position of smallest num between (i + 1)th element and last element\n            int pos = i;\n            for (int j = i; j &lt; valuesList.size(); j++) {\n                if (valuesList.get(j) &lt; valuesList.get(pos))\n                    pos = j;\n            }\n            // Swap min (smallest num) to current position on array\n            int minValue = valuesList.get(pos);\n            String minKey = keyList.get(pos);\n            \n            valuesList.set(pos, valuesList.get(i));\n            keyList.set(pos, keyList.get(i));\n            \n            valuesList.set(i, minValue);\n            keyList.set(i, minKey);            \n        }\n    }    \n}\n\n</code></pre>\n<p><strong>OutPut</strong></p>\n<pre><code>Sorted:\nJ: 0\nQ: 0\nZ: 0\nX: 2\nB: 5\nV: 5\nF: 6\nW: 6\nK: 7\nC: 10\nG: 11\nY: 13\nH: 14\nD: 16\nU: 17\nP: 19\nM: 19\nL: 22\nR: 24\nO: 25\nA: 30\nI: 38\nN: 38\nS: 38\nT: 43\nE: 59\n\nHighest Five\nI: 38\nN: 38\nS: 38\nT: 43\nE: 59\n\nHighest - E: 59\n\nLowest - J: 0\n</code></pre>\n"}],"owner":{"display_name":"user15447950"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1650176064,"creation_date":1649823216,"question_id":71851789,"body_markdown":"Passing an Integer arrayList. I get how to find the max and add that to a separate arrayList. But how would I be able to continue find the max. Not trying to use a selection sort algorithm.\r\n\r\n\r\n\r\n  \r\n  ","title":"Finding Highest occurrence in file","body":"<p>Passing an Integer arrayList. I get how to find the max and add that to a separate arrayList. But how would I be able to continue find the max. Not trying to use a selection sort algorithm.</p>\n"},{"tags":["java","arrays","foreach"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1352913348,"post_id":13383692,"comment_id":18278263,"body_markdown":"Just a silly suggestion: - Its not `2-D array` in Java. Its an `array of array`.","body":"Just a silly suggestion: - Its not <code>2-D array</code> in Java. Its an <code>array of array</code>."},{"owner":{"account_id":1233646,"reputation":1181,"user_id":1197712,"accept_rate":77,"display_name":"uml"},"score":0,"creation_date":1352913470,"post_id":13383692,"comment_id":18278323,"body_markdown":"It is implemented in the way of array in array, but it is called 2D array in books.","body":"It is implemented in the way of array in array, but it is called 2D array in books."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1352913600,"post_id":13383692,"comment_id":18278387,"body_markdown":"@uml.. May be, but still an `array of array` is a better term to name it. You will know it in future. :)","body":"@uml.. May be, but still an <code>array of array</code> is a better term to name it. You will know it in future. :)"},{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":0,"creation_date":1352913778,"post_id":13383692,"comment_id":18278450,"body_markdown":"@uml I know a lot of books call it a 2D array, and if I needed a 2D array in a Java program I would map it to this structure, but it really is an array of arrays, and it is much better to think of it that way. For example, the answer to your question becomes obvious if you think of the for loop as iterating over an array, each of whose elements is an int[].","body":"@uml I know a lot of books call it a 2D array, and if I needed a 2D array in a Java program I would map it to this structure, but it really is an array of arrays, and it is much better to think of it that way. For example, the answer to your question becomes obvious if you think of the for loop as iterating over an array, each of whose elements is an int[]."}],"answers":[{"tags":[],"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352913098,"creation_date":1352913098,"answer_id":13383714,"question_id":13383692,"body_markdown":"The loop is iterating on the elements of `uu`, which are objects of type `int[]`. (Or in other words - `u` is an element in `uu`, thus it is an `int[]`).\r\n\r\nThe declaration is always of the type of the objects retrieved by the iteration - in this case - it is `int[]` -\r\n\r\nSame as iterating over an `int[]` is:\r\n\r\n     for (int x : myArray) { ...}\r\n\r\nbecause each element of `x` is of type `int`.","title":"For each loop using 2D array","body":"<p>The loop is iterating on the elements of <code>uu</code>, which are objects of type <code>int[]</code>. (Or in other words - <code>u</code> is an element in <code>uu</code>, thus it is an <code>int[]</code>).</p>\n\n<p>The declaration is always of the type of the objects retrieved by the iteration - in this case - it is <code>int[]</code> -</p>\n\n<p>Same as iterating over an <code>int[]</code> is:</p>\n\n<pre><code> for (int x : myArray) { ...}\n</code></pre>\n\n<p>because each element of <code>x</code> is of type <code>int</code>.</p>\n"},{"tags":[],"owner":{"account_id":2031896,"reputation":4590,"user_id":1815355,"display_name":"ShyJ"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1352913108,"creation_date":1352913108,"answer_id":13383720,"question_id":13383692,"body_markdown":"It is because `uu` is an array of `int[]` arrays. So every item in it is `int[]`. In a `for` loop you declare the type of an item in an array you iterate over.","title":"For each loop using 2D array","body":"<p>It is because <code>uu</code> is an array of <code>int[]</code> arrays. So every item in it is <code>int[]</code>. In a <code>for</code> loop you declare the type of an item in an array you iterate over.</p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1352913638,"creation_date":1352913113,"answer_id":13383721,"question_id":13383692,"body_markdown":"Since your `uu` is an `array of array`. So, when you iterate over it, you will first get an `array`, and then you can iterate over that array to get individual elements.\r\n\r\nSo, your outer loop has `int[]` as type, and hence that declaration. If you iterate through your `u` in one more inner loop, you will get the type `int`: -\r\n\r\n    for (int[] u: uu) {\r\n        for (int elem: u) {\r\n            // Your individual element\r\n        }\r\n    }","title":"For each loop using 2D array","body":"<p>Since your <code>uu</code> is an <code>array of array</code>. So, when you iterate over it, you will first get an <code>array</code>, and then you can iterate over that array to get individual elements.</p>\n\n<p>So, your outer loop has <code>int[]</code> as type, and hence that declaration. If you iterate through your <code>u</code> in one more inner loop, you will get the type <code>int</code>: -</p>\n\n<pre><code>for (int[] u: uu) {\n    for (int elem: u) {\n        // Your individual element\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1303723,"reputation":6315,"user_id":1253136,"accept_rate":75,"display_name":"CosmicGiant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352917650,"creation_date":1352914931,"answer_id":13384237,"question_id":13383692,"body_markdown":"*&quot;why does the declaration part of for loop is declared as int[] u, but not as int[][] u?&quot;*\r\n\r\nThe array is two-dimensional, so you are dealing with a double-layered iteration. You have an array &quot;inside&quot; another, in the same principle as `List&lt;List&lt;Integer&gt;&gt;` would work.\r\n\r\nTo iterate through all the elements, you should consider a rows-elements structure. It&#39;s necessary that you get each row from the container, and then each element from each row.\r\n\r\n`for(int[] u: uu)` is simply a for-each iteration rows, with the same principle of `for(int row = 0; row &lt; container.length; row++)`, and `u` or respectively `container[row]` are not elements themselves, but rows (arrays) of elements. Meaning you require a second iteration layer to get the elements:\r\n\r\n    int[][] container = new int[10][10];\r\n    //... - Fill elements.\r\n    for(int row = 0; row &lt; container.length; row++){\r\n      for(int element = 0; element &lt; container[row].length; element++){\r\n        System.out.printf(&quot;Row: %d Element: %d Value: %d\\n&quot;, row, element, container[row][element]);\r\n      }\r\n    }","title":"For each loop using 2D array","body":"<p><em>\"why does the declaration part of for loop is declared as int[] u, but not as int[][] u?\"</em></p>\n\n<p>The array is two-dimensional, so you are dealing with a double-layered iteration. You have an array \"inside\" another, in the same principle as <code>List&lt;List&lt;Integer&gt;&gt;</code> would work.</p>\n\n<p>To iterate through all the elements, you should consider a rows-elements structure. It's necessary that you get each row from the container, and then each element from each row.</p>\n\n<p><code>for(int[] u: uu)</code> is simply a for-each iteration rows, with the same principle of <code>for(int row = 0; row &lt; container.length; row++)</code>, and <code>u</code> or respectively <code>container[row]</code> are not elements themselves, but rows (arrays) of elements. Meaning you require a second iteration layer to get the elements:</p>\n\n<pre><code>int[][] container = new int[10][10];\n//... - Fill elements.\nfor(int row = 0; row &lt; container.length; row++){\n  for(int element = 0; element &lt; container[row].length; element++){\n    System.out.printf(\"Row: %d Element: %d Value: %d\\n\", row, element, container[row][element]);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24970638,"reputation":1,"user_id":18833843,"display_name":"TarunHacker"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650175522,"creation_date":1650175522,"answer_id":71899685,"question_id":13383692,"body_markdown":"This is an example of finding the sum in 2d array and print it\r\n```\r\npublic class Array2DForEach {\r\n    public static void main(String[] args) {\r\n        int sum = 0;\r\n        int[][] myFirst2DArray = {\r\n                                    { 3, 5, 1, 9 },\r\n                                    { 10, 15, 3, 0  },\r\n                                    { 1, 11, 31, 90 },\r\n                                    { 2, 51, 1, 9 }\r\n                                };\r\n\r\n        for (int[] row:myFirst2DArray) {\r\n\r\n            for (int columnElement : row) {\r\n                sum+=columnElement;\r\n            }\r\n            \r\n        }\r\n        System.out.println(sum);\r\n    }\r\n}\r\n\r\n```","title":"For each loop using 2D array","body":"<p>This is an example of finding the sum in 2d array and print it</p>\n<pre><code>public class Array2DForEach {\n    public static void main(String[] args) {\n        int sum = 0;\n        int[][] myFirst2DArray = {\n                                    { 3, 5, 1, 9 },\n                                    { 10, 15, 3, 0  },\n                                    { 1, 11, 31, 90 },\n                                    { 2, 51, 1, 9 }\n                                };\n\n        for (int[] row:myFirst2DArray) {\n\n            for (int columnElement : row) {\n                sum+=columnElement;\n            }\n            \n        }\n        System.out.println(sum);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1233646,"reputation":1181,"user_id":1197712,"accept_rate":77,"display_name":"uml"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108981,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":13383721,"answer_count":5,"score":16,"last_activity_date":1650175522,"creation_date":1352912996,"question_id":13383692,"body_markdown":"This is the snippet of Java code:\r\n\r\n\tint[][] uu = new int[1][1];\r\n\tuu[0][0] = 5;\r\n\tfor(int[] u: uu){\r\n\t\tSystem.out.println(u[0]);\r\n\t}\r\n\r\nIt prints 5. But why does the declaration part of for loop is declared `as int[] u`, but not `as int[][] u`?\r\n\r\nAt the uu you reference 2D array...\r\nThat is not a homework. I am preparing for Java certification.\r\nCheers","title":"For each loop using 2D array","body":"<p>This is the snippet of Java code:</p>\n\n<pre><code>int[][] uu = new int[1][1];\nuu[0][0] = 5;\nfor(int[] u: uu){\n    System.out.println(u[0]);\n}\n</code></pre>\n\n<p>It prints 5. But why does the declaration part of for loop is declared <code>as int[] u</code>, but not <code>as int[][] u</code>?</p>\n\n<p>At the uu you reference 2D array...\nThat is not a homework. I am preparing for Java certification.\nCheers</p>\n"},{"tags":["java","vaadin","keyboard-shortcuts","vaadin7"],"answers":[{"tags":[],"owner":{"account_id":100513,"reputation":4957,"user_id":270910,"display_name":"Henri Kerola"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1392057995,"creation_date":1338404740,"answer_id":10822623,"question_id":10820117,"body_markdown":"Use focus and blur listeners to remove and add the shortcut key:\r\n\r\n\t\tf.addFocusListener(new FocusListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void focus(FocusEvent event) {\r\n\t\t\t\tb.setClickShortcut(KeyCode.ENTER);\r\n\t\t\t}\r\n\t\t});\r\n\t\tf.addBlurListener(new BlurListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void blur(BlurEvent event) {\r\n\t\t\t\tb.removeClickShortcut();\r\n\t\t\t}\r\n\t\t});","title":"Both ENTER shortcut and TextArea in Vaadin","body":"<p>Use focus and blur listeners to remove and add the shortcut key:</p>\n\n<pre><code>    f.addFocusListener(new FocusListener() {\n        @Override\n        public void focus(FocusEvent event) {\n            b.setClickShortcut(KeyCode.ENTER);\n        }\n    });\n    f.addBlurListener(new BlurListener() {\n        @Override\n        public void blur(BlurEvent event) {\n            b.removeClickShortcut();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2860283,"reputation":542,"user_id":2455698,"display_name":"Mirko Seifert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391937645,"creation_date":1391937318,"answer_id":21657281,"question_id":10820117,"body_markdown":"Newer versions of Vaadin require the following code as addListener() is deprecated now.\r\n\r\n\t    f.addFocusListener(new FocusListener() {\r\n\t    \t\r\n\t\t\tprivate static final long serialVersionUID = -6733373447805994139L;\r\n\r\n\t\t\t@Override\r\n\t        public void focus(FocusEvent event) {\r\n\t            b.setClickShortcut(KeyCode.ENTER);\r\n\t        }\r\n\t    });\r\n\t    \r\n\t    f.addBlurListener(new BlurListener() {\r\n\t\t\t\r\n\t\t\tprivate static final long serialVersionUID = -3673311830300629513L;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void blur(BlurEvent event) {\r\n\t\t\t\tb.removeClickShortcut();\r\n\t\t\t}\r\n\t\t});\r\n","title":"Both ENTER shortcut and TextArea in Vaadin","body":"<p>Newer versions of Vaadin require the following code as addListener() is deprecated now.</p>\n\n<pre><code>    f.addFocusListener(new FocusListener() {\n\n        private static final long serialVersionUID = -6733373447805994139L;\n\n        @Override\n        public void focus(FocusEvent event) {\n            b.setClickShortcut(KeyCode.ENTER);\n        }\n    });\n\n    f.addBlurListener(new BlurListener() {\n\n        private static final long serialVersionUID = -3673311830300629513L;\n\n        @Override\n        public void blur(BlurEvent event) {\n            b.removeClickShortcut();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5188476,"reputation":1415,"user_id":4160538,"accept_rate":12,"display_name":"Vipul Jain"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1594107921,"creation_date":1594107921,"answer_id":62770391,"question_id":10820117,"body_markdown":"Talking in terms of Vaadin 14,\r\nI was looking for the answer and for me, this worked well\r\n\r\n      Button search = new Button(&quot;Search&quot;);\r\n      search.addClickShortcut(Key.ENTER);\r\n\r\n","title":"Both ENTER shortcut and TextArea in Vaadin","body":"<p>Talking in terms of Vaadin 14,\nI was looking for the answer and for me, this worked well</p>\n<pre><code>  Button search = new Button(&quot;Search&quot;);\n  search.addClickShortcut(Key.ENTER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12328133,"reputation":4037,"user_id":8994998,"display_name":"Brett Sutton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650175072,"creation_date":1650175072,"answer_id":71899660,"question_id":10820117,"body_markdown":"As of Vaadin 23 (and probably for sometime before) the requirements have changed again.\r\n\r\n```java\r\n\r\nprivate ShortcutRegistration primaryShortCut;\r\n\r\nvoid customShortCutHandling()\r\n\t{\r\n\t\tmyTextAreaField.addFocusListener((e) -&gt;\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;disable&quot;);\r\n\t\t\t\tprimaryShortCut = primaryButton.addClickShortcut(Key.ENTER);\r\n\t\t\t});\r\n\r\n\t\tmyTextAreaField.addBlurListener((e) -&gt;\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;enable&quot;);\r\n\t\t\t\tprimaryShortCut.remove();\r\n\t\t\t});\r\n\t}\r\n}\r\n```\r\nThis code assumes that primaryShortCut was set when the form is created.","title":"Both ENTER shortcut and TextArea in Vaadin","body":"<p>As of Vaadin 23 (and probably for sometime before) the requirements have changed again.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate ShortcutRegistration primaryShortCut;\n\nvoid customShortCutHandling()\n    {\n        myTextAreaField.addFocusListener((e) -&gt;\n            {\n                System.out.println(&quot;disable&quot;);\n                primaryShortCut = primaryButton.addClickShortcut(Key.ENTER);\n            });\n\n        myTextAreaField.addBlurListener((e) -&gt;\n            {\n                System.out.println(&quot;enable&quot;);\n                primaryShortCut.remove();\n            });\n    }\n}\n</code></pre>\n<p>This code assumes that primaryShortCut was set when the form is created.</p>\n"}],"owner":{"account_id":98569,"reputation":37354,"user_id":266720,"accept_rate":70,"display_name":"Vi."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3894,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10822623,"answer_count":4,"score":5,"last_activity_date":1650175072,"creation_date":1338394347,"question_id":10820117,"body_markdown":"    TextField f = new TextField();\r\n    Button b = new Button(&quot;Save&quot;);\r\n    b.setClickShortcut(KeyCode.ENTER); // For quick saving from text field itself\r\n    \r\n    TextArea longText = new TextArea(); // &quot;Enter&quot; is garbled here\r\n\r\n\r\n\r\nHot to make the shortcut to work only in the from text field?","title":"Both ENTER shortcut and TextArea in Vaadin","body":"<pre><code>TextField f = new TextField();\nButton b = new Button(\"Save\");\nb.setClickShortcut(KeyCode.ENTER); // For quick saving from text field itself\n\nTextArea longText = new TextArea(); // \"Enter\" is garbled here\n</code></pre>\n\n<p>Hot to make the shortcut to work only in the from text field?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8568,"page":1424,"page_size":100}
