{"items":[{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1270556595,"creation_date":1270494073,"answer_id":2580430,"question_id":2580369,"body_markdown":"Doesn&#39;t this work?\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    map.put(&quot;xpath&quot;, &quot;PRICE&quot;);\r\n    when(mock.search(map)).thenReturn(&quot;$100.00&quot;);\r\n\r\nThe `Map` parameter should behave the same way as other parameters.","title":"Using Mockito, how do I match against the key-value pair of a map?","body":"<p>Doesn't this work?</p>\n\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nmap.put(\"xpath\", \"PRICE\");\nwhen(mock.search(map)).thenReturn(\"$100.00\");\n</code></pre>\n\n<p>The <code>Map</code> parameter should behave the same way as other parameters.</p>\n"},{"tags":[],"owner":{"account_id":81456,"reputation":11655,"user_id":229672,"display_name":"denis.solonenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1299647305,"creation_date":1299647305,"answer_id":5241605,"question_id":2580369,"body_markdown":"Seems like what you need is an `Answer`:\r\n\r\n    IOurXMLDocument doc = mock(IOurXMLDocument.class);\r\n    when(doc.search(Matchers.&lt;Map&lt;String,String&gt;&gt;any())).thenAnswer(new Answer&lt;String&gt;() {\r\n        @Override\r\n        public String answer(InvocationOnMock invocation) throws Throwable {\r\n            Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) invocation.getArguments()[0];\r\n            String value = map.get(&quot;xpath&quot;);\r\n            if (&quot;PRICE&quot;.equals(value)) {\r\n                return &quot;$100.00&quot;;\r\n            } else if (&quot;PRODUCTNAME&quot;.equals(value)) {\r\n                return &quot;Candybar&quot;;\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    });\r\n\r\nBut what seems like a better idea is to not use primitive `Map` as parameter to your search method - you could probably transform this map into a pojo with `price` and `productName` attributes. Just an idea :)\r\n","title":"Using Mockito, how do I match against the key-value pair of a map?","body":"<p>Seems like what you need is an <code>Answer</code>:</p>\n\n<pre><code>IOurXMLDocument doc = mock(IOurXMLDocument.class);\nwhen(doc.search(Matchers.&lt;Map&lt;String,String&gt;&gt;any())).thenAnswer(new Answer&lt;String&gt;() {\n    @Override\n    public String answer(InvocationOnMock invocation) throws Throwable {\n        Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) invocation.getArguments()[0];\n        String value = map.get(\"xpath\");\n        if (\"PRICE\".equals(value)) {\n            return \"$100.00\";\n        } else if (\"PRODUCTNAME\".equals(value)) {\n            return \"Candybar\";\n        } else {\n            return null;\n        }\n    }\n});\n</code></pre>\n\n<p>But what seems like a better idea is to not use primitive <code>Map</code> as parameter to your search method - you could probably transform this map into a pojo with <code>price</code> and <code>productName</code> attributes. Just an idea :)</p>\n"},{"tags":[],"owner":{"account_id":315536,"reputation":1786,"user_id":631272,"display_name":"Marquee"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1504275202,"creation_date":1396027816,"answer_id":22719550,"question_id":2580369,"body_markdown":"I found this trying to solve a similar issue creating a Mockito stub with a Map parameter. I didn&#39;t want to write a custom matcher for the Map in question and then I found a more elegant solution: use the additional matchers in [hamcrest-library][1] with mockito&#39;s argThat:\r\n\r\n    when(mock.search(argThat(hasEntry(&quot;xpath&quot;, &quot;PRICE&quot;))).thenReturn(&quot;$100.00&quot;);\r\n\r\nIf you need to check against multiple entries then you can use other hamcrest goodies:\r\n\r\n    when(mock.search(argThat(allOf(hasEntry(&quot;xpath&quot;, &quot;PRICE&quot;), hasEntry(&quot;otherKey&quot;, &quot;otherValue&quot;)))).thenReturn(&quot;$100.00&quot;);\r\n\r\nThis starts to get long with non-trivial maps, so I ended up extracting methods to collect the entry matchers and stuck them in our TestUtils:\r\n\r\n    import static org.hamcrest.Matchers.allOf;\r\n    import static org.hamcrest.Matchers.anyOf;\r\n    import static org.hamcrest.Matchers.hasEntry;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import org.hamcrest.Matcher;\r\n    ---------------------------------\r\n    public static &lt;K, V&gt; Matcher&lt;Map&lt;K, V&gt;&gt; matchesEntriesIn(Map&lt;K, V&gt; map) {\r\n        return allOf(buildMatcherArray(map));\r\n    }\r\n    \r\n    public static &lt;K, V&gt; Matcher&lt;Map&lt;K, V&gt;&gt; matchesAnyEntryIn(Map&lt;K, V&gt; map) {\r\n        return anyOf(buildMatcherArray(map));\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static &lt;K, V&gt; Matcher&lt;Map&lt;? extends K, ? extends V&gt;&gt;[] buildMatcherArray(Map&lt;K, V&gt; map) {\r\n        List&lt;Matcher&lt;Map&lt;? extends K, ? extends V&gt;&gt;&gt; entries = new ArrayList&lt;Matcher&lt;Map&lt;? extends K, ? extends V&gt;&gt;&gt;();\r\n        for (K key : map.keySet()) {\r\n            entries.add(hasEntry(key, map.get(key)));\r\n        }\r\n        return entries.toArray(new Matcher[entries.size()]);\r\n    }\r\n\r\nSo I&#39;m left with: \r\n\r\n    when(mock.search(argThat(matchesEntriesIn(map))).thenReturn(&quot;$100.00&quot;);\r\n    when(mock.search(argThat(matchesAnyEntryIn(map))).thenReturn(&quot;$100.00&quot;);\r\n\r\nThere&#39;s some ugliness associated with the generics and I&#39;m suppressing one warning, but at least it&#39;s DRY and hidden away in the TestUtil.\r\n\r\nOne last note, beware the [embedded hamcrest issues in JUnit 4.10][2]. With Maven, I recommend importing hamcrest-library first and then JUnit 4.11 (now 4.12) and exclude hamcrest-core from JUnit just for good measure:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;exclusions&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.9.5&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n----------\r\nEdit: Sept 1, 2017 - Per some of the comments, I updated my answer to show my Mockito dependency, my imports in the test util, and a junit that is running green as of today:\r\n\r\n    import static blah.tool.testutil.TestUtil.matchesAnyEntryIn;\r\n    import static blah.tool.testutil.TestUtil.matchesEntriesIn;\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.hamcrest.Matchers.is;\r\n    import static org.mockito.Matchers.argThat;\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    public class TestUtilTest {\r\n    \r\n    \t@Test\r\n    \tpublic void test() {\r\n    \t\tMap&lt;Integer, String&gt; expected = new HashMap&lt;Integer, String&gt;();\r\n    \t\texpected.put(1, &quot;One&quot;);\r\n    \t\texpected.put(3, &quot;Three&quot;);\r\n    \r\n    \t\tMap&lt;Integer, String&gt; actual = new HashMap&lt;Integer, String&gt;();\r\n    \t\tactual.put(1, &quot;One&quot;);\r\n    \t\tactual.put(2, &quot;Two&quot;);\r\n    \r\n    \t\tassertThat(actual, matchesAnyEntryIn(expected));\r\n    \r\n    \t\texpected.remove(3);\r\n    \t\texpected.put(2, &quot;Two&quot;);\r\n    \t\tassertThat(actual, matchesEntriesIn(expected));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void mockitoTest() {\r\n    \t\tSystemUnderTest sut = mock(SystemUnderTest.class);\r\n    \t\tMap&lt;Integer, String&gt; expected = new HashMap&lt;Integer, String&gt;();\r\n    \t\texpected.put(1, &quot;One&quot;);\r\n    \t\texpected.put(3, &quot;Three&quot;);\r\n    \r\n    \t\tMap&lt;Integer, String&gt; actual = new HashMap&lt;Integer, String&gt;();\r\n    \t\tactual.put(1, &quot;One&quot;);\r\n    \r\n    \t\twhen(sut.search(argThat(matchesAnyEntryIn(expected)))).thenReturn(&quot;Response&quot;);\r\n    \t\tassertThat(sut.search(actual), is(&quot;Response&quot;));\r\n    \t}\r\n    \r\n    \tprotected class SystemUnderTest {\r\n    \t\t// We don&#39;t really care what this does\r\n    \t\tpublic String search(Map&lt;Integer, String&gt; map) {\r\n    \t\t\tif (map == null) return null;\r\n    \t\t\treturn map.get(0);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n  [1]: https://code.google.com/p/hamcrest/wiki/Tutorial\r\n  [2]: http://saltnlight5.blogspot.com/2012/10/whats-up-with-junit-and-hamcrest.html","title":"Using Mockito, how do I match against the key-value pair of a map?","body":"<p>I found this trying to solve a similar issue creating a Mockito stub with a Map parameter. I didn't want to write a custom matcher for the Map in question and then I found a more elegant solution: use the additional matchers in <a href=\"https://code.google.com/p/hamcrest/wiki/Tutorial\" rel=\"noreferrer\">hamcrest-library</a> with mockito's argThat:</p>\n\n<pre><code>when(mock.search(argThat(hasEntry(\"xpath\", \"PRICE\"))).thenReturn(\"$100.00\");\n</code></pre>\n\n<p>If you need to check against multiple entries then you can use other hamcrest goodies:</p>\n\n<pre><code>when(mock.search(argThat(allOf(hasEntry(\"xpath\", \"PRICE\"), hasEntry(\"otherKey\", \"otherValue\")))).thenReturn(\"$100.00\");\n</code></pre>\n\n<p>This starts to get long with non-trivial maps, so I ended up extracting methods to collect the entry matchers and stuck them in our TestUtils:</p>\n\n<pre><code>import static org.hamcrest.Matchers.allOf;\nimport static org.hamcrest.Matchers.anyOf;\nimport static org.hamcrest.Matchers.hasEntry;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.hamcrest.Matcher;\n---------------------------------\npublic static &lt;K, V&gt; Matcher&lt;Map&lt;K, V&gt;&gt; matchesEntriesIn(Map&lt;K, V&gt; map) {\n    return allOf(buildMatcherArray(map));\n}\n\npublic static &lt;K, V&gt; Matcher&lt;Map&lt;K, V&gt;&gt; matchesAnyEntryIn(Map&lt;K, V&gt; map) {\n    return anyOf(buildMatcherArray(map));\n}\n\n@SuppressWarnings(\"unchecked\")\nprivate static &lt;K, V&gt; Matcher&lt;Map&lt;? extends K, ? extends V&gt;&gt;[] buildMatcherArray(Map&lt;K, V&gt; map) {\n    List&lt;Matcher&lt;Map&lt;? extends K, ? extends V&gt;&gt;&gt; entries = new ArrayList&lt;Matcher&lt;Map&lt;? extends K, ? extends V&gt;&gt;&gt;();\n    for (K key : map.keySet()) {\n        entries.add(hasEntry(key, map.get(key)));\n    }\n    return entries.toArray(new Matcher[entries.size()]);\n}\n</code></pre>\n\n<p>So I'm left with: </p>\n\n<pre><code>when(mock.search(argThat(matchesEntriesIn(map))).thenReturn(\"$100.00\");\nwhen(mock.search(argThat(matchesAnyEntryIn(map))).thenReturn(\"$100.00\");\n</code></pre>\n\n<p>There's some ugliness associated with the generics and I'm suppressing one warning, but at least it's DRY and hidden away in the TestUtil.</p>\n\n<p>One last note, beware the <a href=\"http://saltnlight5.blogspot.com/2012/10/whats-up-with-junit-and-hamcrest.html\" rel=\"noreferrer\">embedded hamcrest issues in JUnit 4.10</a>. With Maven, I recommend importing hamcrest-library first and then JUnit 4.11 (now 4.12) and exclude hamcrest-core from JUnit just for good measure:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.12&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n    &lt;version&gt;1.9.5&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<hr>\n\n<p>Edit: Sept 1, 2017 - Per some of the comments, I updated my answer to show my Mockito dependency, my imports in the test util, and a junit that is running green as of today:</p>\n\n<pre><code>import static blah.tool.testutil.TestUtil.matchesAnyEntryIn;\nimport static blah.tool.testutil.TestUtil.matchesEntriesIn;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.is;\nimport static org.mockito.Matchers.argThat;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.when;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.junit.Test;\n\npublic class TestUtilTest {\n\n    @Test\n    public void test() {\n        Map&lt;Integer, String&gt; expected = new HashMap&lt;Integer, String&gt;();\n        expected.put(1, \"One\");\n        expected.put(3, \"Three\");\n\n        Map&lt;Integer, String&gt; actual = new HashMap&lt;Integer, String&gt;();\n        actual.put(1, \"One\");\n        actual.put(2, \"Two\");\n\n        assertThat(actual, matchesAnyEntryIn(expected));\n\n        expected.remove(3);\n        expected.put(2, \"Two\");\n        assertThat(actual, matchesEntriesIn(expected));\n    }\n\n    @Test\n    public void mockitoTest() {\n        SystemUnderTest sut = mock(SystemUnderTest.class);\n        Map&lt;Integer, String&gt; expected = new HashMap&lt;Integer, String&gt;();\n        expected.put(1, \"One\");\n        expected.put(3, \"Three\");\n\n        Map&lt;Integer, String&gt; actual = new HashMap&lt;Integer, String&gt;();\n        actual.put(1, \"One\");\n\n        when(sut.search(argThat(matchesAnyEntryIn(expected)))).thenReturn(\"Response\");\n        assertThat(sut.search(actual), is(\"Response\"));\n    }\n\n    protected class SystemUnderTest {\n        // We don't really care what this does\n        public String search(Map&lt;Integer, String&gt; map) {\n            if (map == null) return null;\n            return map.get(0);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1616431557,"creation_date":1414614877,"answer_id":26640149,"question_id":2580369,"body_markdown":"If you just want to &quot;match&quot; against a particular Map, you can use some of the answers above, or a custom &quot;matcher&quot; Object that extends Map&lt;X, Y&gt;, or an ArgumentCaptor, like this:\r\n\r\n    ArgumentCaptor&lt;Map&gt; argumentsCaptured = ArgumentCaptor.forClass(Map.class);\r\n    verify(mock, times(1)).method((Map&lt;String, String&gt;) argumentsCaptured.capture());\r\n    assert argumentsCaptured.getValue().containsKey(&quot;keynameExpected&quot;); \r\n    // argumentsCaptured.getValue() will be the first Map it called it with.\r\n    // argumentsCaptured.getAllValues() if it was called more than times(1)\r\n\r\nSee also more answers here: https://stackoverflow.com/q/1142837/32453\r\n\r\nIf you want to capture multiple maps:\r\n\r\n    ArgumentCaptor&lt;Map&gt; argumentsCaptured = ArgumentCaptor.forClass(Map.class);\r\n    ArgumentCaptor&lt;Map&gt; argumentsCaptured2 = ArgumentCaptor.forClass(Map.class);\r\n    verify(mock, times(1)).method(argumentsCaptured.capture(), argumentsCaptured2.capture());\r\n    assert argumentsCaptured.getValue().containsKey(&quot;keynameExpected&quot;); \r\n    assert argumentsCaptured2.getValue().containsKey(&quot;keynameExpected2&quot;); \r\n    ....","title":"Using Mockito, how do I match against the key-value pair of a map?","body":"<p>If you just want to &quot;match&quot; against a particular Map, you can use some of the answers above, or a custom &quot;matcher&quot; Object that extends Map&lt;X, Y&gt;, or an ArgumentCaptor, like this:</p>\n<pre><code>ArgumentCaptor&lt;Map&gt; argumentsCaptured = ArgumentCaptor.forClass(Map.class);\nverify(mock, times(1)).method((Map&lt;String, String&gt;) argumentsCaptured.capture());\nassert argumentsCaptured.getValue().containsKey(&quot;keynameExpected&quot;); \n// argumentsCaptured.getValue() will be the first Map it called it with.\n// argumentsCaptured.getAllValues() if it was called more than times(1)\n</code></pre>\n<p>See also more answers here: <a href=\"https://stackoverflow.com/q/1142837/32453\">Verify object attribute value with mockito</a></p>\n<p>If you want to capture multiple maps:</p>\n<pre><code>ArgumentCaptor&lt;Map&gt; argumentsCaptured = ArgumentCaptor.forClass(Map.class);\nArgumentCaptor&lt;Map&gt; argumentsCaptured2 = ArgumentCaptor.forClass(Map.class);\nverify(mock, times(1)).method(argumentsCaptured.capture(), argumentsCaptured2.capture());\nassert argumentsCaptured.getValue().containsKey(&quot;keynameExpected&quot;); \nassert argumentsCaptured2.getValue().containsKey(&quot;keynameExpected2&quot;); \n....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4094217,"reputation":3104,"user_id":3361467,"display_name":"Ray"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1638876879,"creation_date":1638876879,"answer_id":70259410,"question_id":2580369,"body_markdown":"For anyone arriving to this question like myself, there&#39;s actually a very simple solution based on Lambdas:\r\n\r\n    when(mock.search(argThat(map -&gt; &quot;PRICE&quot;.equals(map.get(&quot;xpath&quot;))))).thenReturn(&quot;$100.00&quot;);\r\n\r\nExplanation: `argThat` expects an `ArgumentMatcher` which is a functional interface and thus can be written as a Lambda.","title":"Using Mockito, how do I match against the key-value pair of a map?","body":"<p>For anyone arriving to this question like myself, there's actually a very simple solution based on Lambdas:</p>\n<pre><code>when(mock.search(argThat(map -&gt; &quot;PRICE&quot;.equals(map.get(&quot;xpath&quot;))))).thenReturn(&quot;$100.00&quot;);\n</code></pre>\n<p>Explanation: <code>argThat</code> expects an <code>ArgumentMatcher</code> which is a functional interface and thus can be written as a Lambda.</p>\n"}],"owner":{"account_id":118360,"reputation":301,"user_id":309340,"display_name":"Sean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62697,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":5,"score":27,"last_activity_date":1638876879,"creation_date":1270493576,"question_id":2580369,"body_markdown":"I need to send a specific value from a mock object based on a specific key value.\r\n\r\nFrom the concrete class:\r\n\r\n    map.put(&quot;xpath&quot;, &quot;PRICE&quot;);\r\n    search(map);\r\n\r\nFrom the test case:\r\n\r\n    IOurXMLDocument mock = mock(IOurXMLDocument.class);\r\n    when(mock.search(.....need help here).thenReturn(&quot;$100.00&quot;);\r\n\r\nHow do I mock this method call for this key value pair?","title":"Using Mockito, how do I match against the key-value pair of a map?","body":"<p>I need to send a specific value from a mock object based on a specific key value.</p>\n\n<p>From the concrete class:</p>\n\n<pre><code>map.put(\"xpath\", \"PRICE\");\nsearch(map);\n</code></pre>\n\n<p>From the test case:</p>\n\n<pre><code>IOurXMLDocument mock = mock(IOurXMLDocument.class);\nwhen(mock.search(.....need help here).thenReturn(\"$100.00\");\n</code></pre>\n\n<p>How do I mock this method call for this key value pair?</p>\n"},{"tags":["java","oracle","hikaricp","ucp"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638871042,"post_id":70257733,"comment_id":124196790,"body_markdown":"You are using a connection pool (Hikari) so not sure why you think you aren&#39;t using a connection pool.","body":"You are using a connection pool (Hikari) so not sure why you think you aren&#39;t using a connection pool."},{"owner":{"account_id":6508418,"reputation":360,"user_id":5036567,"accept_rate":100,"display_name":"Zanndorin"},"score":0,"creation_date":1638871288,"post_id":70257733,"comment_id":124196882,"body_markdown":"I changed the text a bit: &quot;When I ran my application before adding connection pools&quot;. The main part of the question is if connection pools handle ungraceful shutdowns and Oracle keeping the session alive. Ungraceful being terminate or straight up pulling the electricity cable.","body":"I changed the text a bit: &quot;When I ran my application before adding connection pools&quot;. The main part of the question is if connection pools handle ungraceful shutdowns and Oracle keeping the session alive. Ungraceful being terminate or straight up pulling the electricity cable."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638871471,"post_id":70257733,"comment_id":124196937,"body_markdown":"Spring Boot by default uses a connection pool, so unless you explicitly disabled it/overrode it you have been using a connection pool from the start. I&#39;m also not sure what you mean with an ungracefull shutdown, every shutdown of a Spring Boot application will lead to closing the application context and thus the connection pool (unless you misconfigured things manually yourself!). Unless you are directly killing the application, which prevents a shutdown, everything will be closed. In the latter event there is nothing you can do to close things afterwards (on the application side).","body":"Spring Boot by default uses a connection pool, so unless you explicitly disabled it/overrode it you have been using a connection pool from the start. I&#39;m also not sure what you mean with an ungracefull shutdown, every shutdown of a Spring Boot application will lead to closing the application context and thus the connection pool (unless you misconfigured things manually yourself!). Unless you are directly killing the application, which prevents a shutdown, everything will be closed. In the latter event there is nothing you can do to close things afterwards (on the application side)."},{"owner":{"account_id":6508418,"reputation":360,"user_id":5036567,"accept_rate":100,"display_name":"Zanndorin"},"score":0,"creation_date":1638871623,"post_id":70257733,"comment_id":124197007,"body_markdown":"Are you sure? The &quot;HikariCP starting&quot; log doesn&#39;t show up when unless I add the HikariCP in spring settings. Also the behavior was way different after adding it.","body":"Are you sure? The &quot;HikariCP starting&quot; log doesn&#39;t show up when unless I add the HikariCP in spring settings. Also the behavior was way different after adding it."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638871722,"post_id":70257733,"comment_id":124197042,"body_markdown":"Yes I&#39;m sure, if you use data access code and the spring boot starters that is. If you manually are adding things and not using the starters you are in a different place. I also wonder how you have configured the datasource before that (and that also means if that still is in place the hikaricp is useless). Basically what I want is to see code you think it problematic as you  now have a vague(ish) description (at least for me). So basically add some dependencies, confiugration and code to your post.","body":"Yes I&#39;m sure, if you use data access code and the spring boot starters that is. If you manually are adding things and not using the starters you are in a different place. I also wonder how you have configured the datasource before that (and that also means if that still is in place the hikaricp is useless). Basically what I want is to see code you think it problematic as you  now have a vague(ish) description (at least for me). So basically add some dependencies, confiugration and code to your post."},{"owner":{"account_id":6508418,"reputation":360,"user_id":5036567,"accept_rate":100,"display_name":"Zanndorin"},"score":0,"creation_date":1638872109,"post_id":70257733,"comment_id":124197177,"body_markdown":"Yeah I had read that it would be autoconfigured when found in the classpath but I strongly doubt that it was in this application due to the difference in behavior between the two settings. This might be because of our Gradle runtimeClasspath settings, the application ecosystem is quite large so I don&#39;t have the full picture.\n\nI&#39;ll reconsider the question but I am a bit unsure of what I am asking, you mentioned it above that the issue is the &quot;application killing&quot; and not being able to do anything. So I guess that was the question, now to look for settings that might fix that in Oracle/Hikari","body":"Yeah I had read that it would be autoconfigured when found in the classpath but I strongly doubt that it was in this application due to the difference in behavior between the two settings. This might be because of our Gradle runtimeClasspath settings, the application ecosystem is quite large so I don&#39;t have the full picture.  I&#39;ll reconsider the question but I am a bit unsure of what I am asking, you mentioned it above that the issue is the &quot;application killing&quot; and not being able to do anything. So I guess that was the question, now to look for settings that might fix that in Oracle/Hikari"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638872245,"post_id":70257733,"comment_id":124197232,"body_markdown":"Well if it didn&#39;t you either used a different one, datasource/database access doesn&#39;t even use a datasource (regardless of the fact it is or isn&#39;t configured). Without change and onlyu adding the dependency and it still works, I highly doubt the connection pool is even in use.","body":"Well if it didn&#39;t you either used a different one, datasource/database access doesn&#39;t even use a datasource (regardless of the fact it is or isn&#39;t configured). Without change and onlyu adding the dependency and it still works, I highly doubt the connection pool is even in use."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1638872619,"post_id":70257733,"comment_id":124197383,"body_markdown":"@Zanndorin could you shed a light what OS you are on (both DB and Java) and what is the output of `netstat -na --timers` or `ss -nao` commands (assuming your DB is on Linux)? Are there any firewalls between Java and DB? At first glance it does not matter whether you are using connection pool or not - it is OS responsibility to cleanup resources (including sockets as well) of failed processes","body":"@Zanndorin could you shed a light what OS you are on (both DB and Java) and what is the output of <code>netstat -na --timers</code> or <code>ss -nao</code> commands (assuming your DB is on Linux)? Are there any firewalls between Java and DB? At first glance it does not matter whether you are using connection pool or not - it is OS responsibility to cleanup resources (including sockets as well) of failed processes"},{"owner":{"account_id":6508418,"reputation":360,"user_id":5036567,"accept_rate":100,"display_name":"Zanndorin"},"score":0,"creation_date":1638873038,"post_id":70257733,"comment_id":124197536,"body_markdown":"Sadly (or luckily) I am not responsible for the Databases and can&#39;t access them like that. I assume that I need to tell someone on the Oracle side to fix this or spend time on setting up my own... \n\nWhen I wrote the question I had hoped for an answer like &quot;UCP fixes this&quot; or &quot;Have you set this Hikari setting?&quot; :)","body":"Sadly (or luckily) I am not responsible for the Databases and can&#39;t access them like that. I assume that I need to tell someone on the Oracle side to fix this or spend time on setting up my own...   When I wrote the question I had hoped for an answer like &quot;UCP fixes this&quot; or &quot;Have you set this Hikari setting?&quot; :)"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1638874030,"post_id":70257733,"comment_id":124197959,"body_markdown":"it can&#39;t depend on usage of connection pool: from OS perspective &quot;direct&quot; and &quot;cp&quot; connections are both sockets, if you are issuing `kill -9` the application has no option to handle it, so it is handled by OS - it sends either FIN or RST. *BUT* the real world behaviour may depend on various factors (OS vendor, version, firewalls, etc), for example: https://access.redhat.com/discussions/2990731, what you have provided is not enough.","body":"it can&#39;t depend on usage of connection pool: from OS perspective &quot;direct&quot; and &quot;cp&quot; connections are both sockets, if you are issuing <code>kill -9</code> the application has no option to handle it, so it is handled by OS - it sends either FIN or RST. <i>BUT</i> the real world behaviour may depend on various factors (OS vendor, version, firewalls, etc), for example: <a href=\"https://access.redhat.com/discussions/2990731\" rel=\"nofollow noreferrer\">access.redhat.com/discussions/2990731</a>, what you have provided is not enough."},{"owner":{"account_id":6508418,"reputation":360,"user_id":5036567,"accept_rate":100,"display_name":"Zanndorin"},"score":0,"creation_date":1638883731,"post_id":70257733,"comment_id":124201665,"body_markdown":"@M.Deinum You were right it was already used because it was in the path but the default settings (not ours but from Spring?) for maxPoolSize were -1 in the HikariDataSource so (I assume) it wasn&#39;t really used so I &quot;activated&quot; it by setting real values.","body":"@M.Deinum You were right it was already used because it was in the path but the default settings (not ours but from Spring?) for maxPoolSize were -1 in the HikariDataSource so (I assume) it wasn&#39;t really used so I &quot;activated&quot; it by setting real values."}],"answers":[{"tags":[],"owner":{"account_id":17598499,"reputation":166,"user_id":12768970,"display_name":"Saurabh Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638876771,"creation_date":1638876771,"answer_id":70259391,"question_id":70257733,"body_markdown":"You may try using Universal Connection Pool (UCP), it has an inbuilt mechanism to gracefully close the connections on application/JVM shutdown.","title":"Ungraceful shutdown of connection pools towards Oracle","body":"<p>You may try using Universal Connection Pool (UCP), it has an inbuilt mechanism to gracefully close the connections on application/JVM shutdown.</p>\n"}],"owner":{"account_id":6508418,"reputation":360,"user_id":5036567,"accept_rate":100,"display_name":"Zanndorin"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638876771,"creation_date":1638869690,"question_id":70257733,"body_markdown":"My understanding of the ecosystem is limited so excuse my ignorance.\r\n\r\nI have a really large Oracle database (19) with a lot of connections to it from multiple applications. We have put some limit of maximum amount of connections (sessions) to it and we can hit that limit quite easily. \r\n\r\nWe are using Java 17 + Spring Boot 2.6.1 &amp; HikariCP (considering UCP) &amp; JDBI3 \r\n\r\nWhen I ran my application before adding connection pools I have noticed that when I terminate my connection ungracefully (kill the application forcefully) the connection is kept alive on Oracles side for quite a while (30m+). How is this handled when shutting down an application with connection pools? I assume that the connection pool will be shut down by TCP timeouts instead of a TCP FIN/ACK and that it works differently since the application is killed before being able to shut down the connections, but does that mean that the connections on the Oracle side would stay alive like before? \r\n\r\nTL;DR: Do I need to handle an ungraceful shutdown by shutting down the connection pool manually to avoid Oracle keeping dead connections alive?\r\n\r\nAlternatively I would need to contact our Oracle team and somehow convince them of lowering this keep-alive value that they seem to have on their side.","title":"Ungraceful shutdown of connection pools towards Oracle","body":"<p>My understanding of the ecosystem is limited so excuse my ignorance.</p>\n<p>I have a really large Oracle database (19) with a lot of connections to it from multiple applications. We have put some limit of maximum amount of connections (sessions) to it and we can hit that limit quite easily.</p>\n<p>We are using Java 17 + Spring Boot 2.6.1 &amp; HikariCP (considering UCP) &amp; JDBI3</p>\n<p>When I ran my application before adding connection pools I have noticed that when I terminate my connection ungracefully (kill the application forcefully) the connection is kept alive on Oracles side for quite a while (30m+). How is this handled when shutting down an application with connection pools? I assume that the connection pool will be shut down by TCP timeouts instead of a TCP FIN/ACK and that it works differently since the application is killed before being able to shut down the connections, but does that mean that the connections on the Oracle side would stay alive like before?</p>\n<p>TL;DR: Do I need to handle an ungraceful shutdown by shutting down the connection pool manually to avoid Oracle keeping dead connections alive?</p>\n<p>Alternatively I would need to contact our Oracle team and somehow convince them of lowering this keep-alive value that they seem to have on their side.</p>\n"},{"tags":["java","jenkins","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638876498,"creation_date":1638876498,"answer_id":70259336,"question_id":70247025,"body_markdown":"I worked around the problem by specifying a docker image for the &#39;Build&#39; stage\r\n\r\n```\r\n        stage(&#39;Build&#39;) {\r\n            agent {\r\n                docker {\r\n                    image &#39;maven:3.8.1-adoptopenjdk-11&#39;\r\n                    args &#39;-u root -v /root/.m2:/root/.m2 -v &quot;$pwd&quot;:/usr/src/app -w /usr/src/app&#39;\r\n                }\r\n            }\r\n            steps {\r\n                sh &#39;mvn -B -DskipTests clean package&#39;\r\n            }\r\n        }\r\n```","title":"Jenkins pipeline uses different java version from the one specified in the script","body":"<p>I worked around the problem by specifying a docker image for the 'Build' stage</p>\n<pre><code>        stage('Build') {\n            agent {\n                docker {\n                    image 'maven:3.8.1-adoptopenjdk-11'\n                    args '-u root -v /root/.m2:/root/.m2 -v &quot;$pwd&quot;:/usr/src/app -w /usr/src/app'\n                }\n            }\n            steps {\n                sh 'mvn -B -DskipTests clean package'\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3001,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70259336,"answer_count":1,"score":1,"last_activity_date":1638876498,"creation_date":1638800752,"question_id":70247025,"body_markdown":"My spring boot application uses java 11 but my jenkins server has java 8 installed. Hence I added a new JDK in the global tool configuration. I specified [this][1] download URL to be extracted in the JDK configuration. I specified a label (node name) and a sub directory too. My configuration looks like this.\r\n[![enter image description here][3]][3]\r\n\r\nI specified the JDK name in my pipeline script as shown below but when I do `java -version` from the pipeline script I still get the result as jdk 8. The `JAVA_HOME` path shows up correctly. Could someone guide me on what could be the issue?\r\n\r\nThanks\r\n\r\n```\r\npipeline {\r\n    agent any\r\n    tools {\r\n        jdk &#39;AdoptOpenJDK11&#39;\r\n        maven &#39;Maven_3_8_1&#39;\r\n    }\r\n    stages {\r\n        stage(&#39;Build&#39;) {\r\n            steps {\r\n                sh &#39;echo $JAVA_HOME$&#39;\r\n                sh &#39;java -version&#39;\r\n                sh &#39;mvn -B -DskipTests clean package&#39;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nJenkins logs are as below \r\n```\r\n+ echo /var/jenkins_home/tools/hudson.model.JDK/AdoptOpenJDK11/jdk11_13$\r\n/var/jenkins_home/tools/hudson.model.JDK/AdoptOpenJDK11/jdk11_13$\r\n[Pipeline] sh\r\n+ java -version\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\r\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.292-b10, mixed mode)\r\n[Pipeline] sh\r\n+ mvn -B -DskipTests clean package\r\nThe JAVA_HOME environment variable is not defined correctly\r\nThis environment variable is needed to run this program\r\nNB: JAVA_HOME should point to a JDK not a JRE\r\n```\r\n\r\n\r\n  [1]: https://github.com/adoptium/temurin11-binaries/releases/download/jdk-11.0.13%2B8/OpenJDK11U-jdk_x64_linux_hotspot_11.0.13_8.tar.gz\r\n  [2]: https://imgur.com/OBkGoPC\r\n  [3]: https://i.stack.imgur.com/V2miV.png","title":"Jenkins pipeline uses different java version from the one specified in the script","body":"<p>My spring boot application uses java 11 but my jenkins server has java 8 installed. Hence I added a new JDK in the global tool configuration. I specified <a href=\"https://github.com/adoptium/temurin11-binaries/releases/download/jdk-11.0.13%2B8/OpenJDK11U-jdk_x64_linux_hotspot_11.0.13_8.tar.gz\" rel=\"nofollow noreferrer\">this</a> download URL to be extracted in the JDK configuration. I specified a label (node name) and a sub directory too. My configuration looks like this.\n<a href=\"https://i.stack.imgur.com/V2miV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V2miV.png\" alt=\"enter image description here\" /></a></p>\n<p>I specified the JDK name in my pipeline script as shown below but when I do <code>java -version</code> from the pipeline script I still get the result as jdk 8. The <code>JAVA_HOME</code> path shows up correctly. Could someone guide me on what could be the issue?</p>\n<p>Thanks</p>\n<pre><code>pipeline {\n    agent any\n    tools {\n        jdk 'AdoptOpenJDK11'\n        maven 'Maven_3_8_1'\n    }\n    stages {\n        stage('Build') {\n            steps {\n                sh 'echo $JAVA_HOME$'\n                sh 'java -version'\n                sh 'mvn -B -DskipTests clean package'\n            }\n        }\n    }\n}\n</code></pre>\n<p>Jenkins logs are as below</p>\n<pre><code>+ echo /var/jenkins_home/tools/hudson.model.JDK/AdoptOpenJDK11/jdk11_13$\n/var/jenkins_home/tools/hudson.model.JDK/AdoptOpenJDK11/jdk11_13$\n[Pipeline] sh\n+ java -version\nopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.292-b10, mixed mode)\n[Pipeline] sh\n+ mvn -B -DskipTests clean package\nThe JAVA_HOME environment variable is not defined correctly\nThis environment variable is needed to run this program\nNB: JAVA_HOME should point to a JDK not a JRE\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1638873562,"post_id":70258597,"comment_id":124197747,"body_markdown":"Do you have any query/update reordering enabled? Which version of Hibernate are you using? How are you saving the parent and child? Can you post the SQL queries that Hibernate produces for a single save where this happens? This might provide a hint of what Hibernate is trying to do, especially if you also post the parameters for those queries.","body":"Do you have any query/update reordering enabled? Which version of Hibernate are you using? How are you saving the parent and child? Can you post the SQL queries that Hibernate produces for a single save where this happens? This might provide a hint of what Hibernate is trying to do, especially if you also post the parameters for those queries."},{"owner":{"account_id":932374,"reputation":1466,"user_id":961977,"accept_rate":31,"display_name":"Jesse van Bekkum"},"score":0,"creation_date":1638875754,"post_id":70258597,"comment_id":124198642,"body_markdown":"Hibernate 5.5.7.Final\nThe class I called parent here, is actually in a cascade.ALL @OneToMany with another class, and we call a Spring data repository .save() on that class.\nAbout query reordering, it&#39;s not set, we use whatever the default is.\n\nI&#39;ll see about the queries, but it does not happen always, so those might be hard to grab. This is also a production system, so I cannot post any real queries or values","body":"Hibernate 5.5.7.Final The class I called parent here, is actually in a cascade.ALL @OneToMany with another class, and we call a Spring data repository .save() on that class. About query reordering, it&#39;s not set, we use whatever the default is.  I&#39;ll see about the queries, but it does not happen always, so those might be hard to grab. This is also a production system, so I cannot post any real queries or values"},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1638876557,"post_id":70258597,"comment_id":124198908,"body_markdown":"@JessevanBekkum, try removing `@OneToOne` mapping from Child entity","body":"@JessevanBekkum, try removing <code>@OneToOne</code> mapping from Child entity"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1638880871,"post_id":70258597,"comment_id":124200505,"body_markdown":"If this doesn&#39;t happen all the time you should watch for patterns of when this happens, e.g. in a certain process or maybe a combination of actions. Then try to reproduce it in a dev or test environment. If you can only get the queries from production, try to obfuscate values - important are ids, condition parameters and version parameters (if you&#39;re using those). Also note that `idA` and `idB` might be duplicated by 2 distinct parent entities so the actual problem might not be related to Hibernate or at least only be partially related.","body":"If this doesn&#39;t happen all the time you should watch for patterns of when this happens, e.g. in a certain process or maybe a combination of actions. Then try to reproduce it in a dev or test environment. If you can only get the queries from production, try to obfuscate values - important are ids, condition parameters and version parameters (if you&#39;re using those). Also note that <code>idA</code> and <code>idB</code> might be duplicated by 2 distinct parent entities so the actual problem might not be related to Hibernate or at least only be partially related."},{"owner":{"account_id":932374,"reputation":1466,"user_id":961977,"accept_rate":31,"display_name":"Jesse van Bekkum"},"score":0,"creation_date":1638894707,"post_id":70258597,"comment_id":124206665,"body_markdown":"I more or less debugged it. We saved twice, and spring would execute an insert both times, causing this issue. By replacing the first one with saveAndFlush, it properly did an insert the first time and an update the second time.\n\nSomehow, if Child is @Transient, hibernate doesn&#39;t do an insert on the second call, but an update. I can&#39;t explain that part","body":"I more or less debugged it. We saved twice, and spring would execute an insert both times, causing this issue. By replacing the first one with saveAndFlush, it properly did an insert the first time and an update the second time.  Somehow, if Child is @Transient, hibernate doesn&#39;t do an insert on the second call, but an update. I can&#39;t explain that part"}],"owner":{"account_id":932374,"reputation":1466,"user_id":961977,"accept_rate":31,"display_name":"Jesse van Bekkum"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638876301,"creation_date":1638873285,"question_id":70258597,"body_markdown":"In my Spring Boot + Hibernate (5.5.7.Final) project, I have a parent object with a OneToOne relation to a child, and two business ids:\r\n\r\n```java\r\n@Id private long id;\r\n\r\n@OneToOne(mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL,\r\n   fetch = FetchType.EAGER, optional = false)\r\nChild child;\r\n\r\n@Column String idA;\r\n@Column String idB;\r\n```\r\n\r\nThe child has the following mapping to the parent:\r\n\r\n```java\r\n@OneToOne\r\n@MapsId\r\nprivate Parent parent\r\n```\r\n\r\nThere is a unique index on idA and idB in the database.\r\n\r\nWhen running this I see a lot of duplicate entry errors in my DB, on the unique index. For some reason, hibernate attempts to insert `Parent` twice. It is somehow caused by the child, because when I replace the JPA mapping on `Child` with an `@Transient`, the problem is gone.\r\n\r\nWhat can cause this?","title":"OneToOne mapping causes parent to be saved twice","body":"<p>In my Spring Boot + Hibernate (5.5.7.Final) project, I have a parent object with a OneToOne relation to a child, and two business ids:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id private long id;\n\n@OneToOne(mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL,\n   fetch = FetchType.EAGER, optional = false)\nChild child;\n\n@Column String idA;\n@Column String idB;\n</code></pre>\n<p>The child has the following mapping to the parent:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToOne\n@MapsId\nprivate Parent parent\n</code></pre>\n<p>There is a unique index on idA and idB in the database.</p>\n<p>When running this I see a lot of duplicate entry errors in my DB, on the unique index. For some reason, hibernate attempts to insert <code>Parent</code> twice. It is somehow caused by the child, because when I replace the JPA mapping on <code>Child</code> with an <code>@Transient</code>, the problem is gone.</p>\n<p>What can cause this?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1638792027,"post_id":70245025,"comment_id":124173964,"body_markdown":"Unfortunately, arrays and generics don&#39;t work very well together in Java (because of historical reasons / backward compatibility), so using arrays is not going to make it easier.  But what exactly is the question you want to ask? Do you have a specific question?","body":"Unfortunately, arrays and generics don&#39;t work very well together in Java (because of historical reasons / backward compatibility), so using arrays is not going to make it easier.  But what exactly is the question you want to ask? Do you have a specific question?"},{"owner":{"account_id":20664371,"reputation":77,"user_id":15171588,"display_name":"Thomas Herondale"},"score":0,"creation_date":1638792267,"post_id":70245025,"comment_id":124174037,"body_markdown":"My question is: is there a way I can make this class work? Do I have to switch to List?","body":"My question is: is there a way I can make this class work? Do I have to switch to List?"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1638794895,"post_id":70245025,"comment_id":124174969,"body_markdown":"One problem is that you are calling `getGenericArrayInstance()` but you are not passing any parameters to it, so it returns an array of length 0. Should be: `var auxArray = getGenericArrayInstance(array);` instead of `var auxArray = getGenericArrayInstance();` in the `merge` method.","body":"One problem is that you are calling <code>getGenericArrayInstance()</code> but you are not passing any parameters to it, so it returns an array of length 0. Should be: <code>var auxArray = getGenericArrayInstance(array);</code> instead of <code>var auxArray = getGenericArrayInstance();</code> in the <code>merge</code> method."},{"owner":{"account_id":20664371,"reputation":77,"user_id":15171588,"display_name":"Thomas Herondale"},"score":0,"creation_date":1638795144,"post_id":70245025,"comment_id":124175057,"body_markdown":"Sorry, I copy-pasted all the code, I thought I had copy-pasted only the mergeSort related ones. My problem is there, with mergeSort(). Your suggestion should solve the problem with the array of length 0, though. I&#39;m gonna try it as soon as I can","body":"Sorry, I copy-pasted all the code, I thought I had copy-pasted only the mergeSort related ones. My problem is there, with mergeSort(). Your suggestion should solve the problem with the array of length 0, though. I&#39;m gonna try it as soon as I can"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1638795298,"post_id":70245025,"comment_id":124175111,"body_markdown":"What&#39;s the point of the `getGenericArrayInstance` method, though? It does nothing, it just returns whatever you passed to it. Note that it does not make a copy of the array (was that what you intended?).","body":"What&#39;s the point of the <code>getGenericArrayInstance</code> method, though? It does nothing, it just returns whatever you passed to it. Note that it does not make a copy of the array (was that what you intended?)."},{"owner":{"account_id":20664371,"reputation":77,"user_id":15171588,"display_name":"Thomas Herondale"},"score":0,"creation_date":1638872616,"post_id":70245025,"comment_id":124197382,"body_markdown":"@Jesper I think I saw this method here on SO. I wanted to use it to &quot;instantiate&quot; a T[], which is not possible in the common Java approach since T is a bad parameter. I don&#39;t need to copy the array, I just need another instance of a T[], to merge the two sub-sequences (too bad Merge Sort can&#39;t do _in loco_ sorting). Was there a better way I could obtain an array with the merge of these two sequences?","body":"@Jesper I think I saw this method here on SO. I wanted to use it to &quot;instantiate&quot; a T[], which is not possible in the common Java approach since T is a bad parameter. I don&#39;t need to copy the array, I just need another instance of a T[], to merge the two sub-sequences (too bad Merge Sort can&#39;t do <i>in loco</i> sorting). Was there a better way I could obtain an array with the merge of these two sequences?"},{"owner":{"account_id":20664371,"reputation":77,"user_id":15171588,"display_name":"Thomas Herondale"},"score":0,"creation_date":1638872718,"post_id":70245025,"comment_id":124197419,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/239903/discussion-between-thomas-herondale-and-jesper).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/239903/discussion-between-thomas-herondale-and-jesper\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638875389,"creation_date":1638875029,"answer_id":70259001,"question_id":70245025,"body_markdown":"In Java, arrays and generics unfortunately don&#39;t work well together. The main reason for that is because arrays need runtime type information (an array knows at runtime what the type of its elements is), but generics work with type erasure (type parameters only exist at compile time). One of the consequences is that you cannot create an instance of an array of a generic type `T` with `new T[]` - the problem is that what `T` is, is unknown at runtime.\r\n\r\nThe `getGenericArrayInstance` method that you have in your question above is not a workaround for this:\r\n\r\n    private T[] getGenericArrayInstance(T ...dummyValues) {\r\n        return dummyValues;\r\n    }\r\n\r\nThis method does nothing. It just returns the array that you pass to it. Calling it with zero arguments is just like calling it with a zero-length array, so in that case it will return a zero-length array.\r\n\r\nThere is a way to create an instance of `T[]` using reflection. But it requires you to explicitly pass the type of the elements of the array. You could write it like this:\r\n\r\n    import java.lang.reflect.Array;\r\n\r\n    // ...\r\n\r\n    private T[] getGenericArrayInstance(Class&lt;T&gt; elementType, int length) {\r\n        return (T[]) Array.newInstance(elementType, length);\r\n    }\r\n\r\nNote that this means you will have to pass `elementType` through the whole chain of methods as well. So you&#39;ll get:\r\n\r\n    public void mergeSort(T[] array, Class&lt;T&gt; elementType) {\r\n        mergeSort(array, elementType, 0, array.length - 1);\r\n    }\r\n\r\n    private void mergeSort(T[] array, Class&lt;T&gt; elementType, int start, int end) {\r\n        if (start &gt;= end) return;\r\n        int mid = (start + end) / 2;\r\n        mergeSort(array, elementType, start, mid);\r\n        mergeSort(array, elementType, mid + 1, end);\r\n        merge(array, elementType, start, mid, end);\r\n    }\r\n\r\n    private void merge(T[] array, Class&lt;T&gt; elementType, int firstPointer, int firstTerminator, int secondTerminator) {\r\n        var auxArray = getGenericArrayInstance(elementType, array.length);\r\n\r\n        // ...\r\n    }\r\n\r\nAnd you&#39;ll have to call it like this:\r\n\r\n    String[] names = {&quot;c&quot;, &quot;a&quot;, &quot;b&quot;, &quot;z&quot;, &quot;d&quot;};\r\n\r\n    ListSorter&lt;String&gt; sorter = new ListSorter&lt;&gt;();\r\n\r\n    // Note that you have to pass String.class here\r\n    sorter.mergeSort(names, String.class);\r\n\r\nNote: This solves the problem of creating a `T[]`. If you fix this the code still won&#39;t work, because in the `merge` method you&#39;re putting the result of the sort in `auxArray`, but you&#39;re not updating the original `array`.\r\n\r\n(p.s.: I have a [course on Pluralsight](https://app.pluralsight.com/library/courses/java-se-8-programmer-creating-using-arrays-1z0-808-cert/table-of-contents) about arrays; towards the end of the course I explain exactly what the problems are with arrays and generics).","title":"Hard use of generics in a Sorter class","body":"<p>In Java, arrays and generics unfortunately don't work well together. The main reason for that is because arrays need runtime type information (an array knows at runtime what the type of its elements is), but generics work with type erasure (type parameters only exist at compile time). One of the consequences is that you cannot create an instance of an array of a generic type <code>T</code> with <code>new T[]</code> - the problem is that what <code>T</code> is, is unknown at runtime.</p>\n<p>The <code>getGenericArrayInstance</code> method that you have in your question above is not a workaround for this:</p>\n<pre><code>private T[] getGenericArrayInstance(T ...dummyValues) {\n    return dummyValues;\n}\n</code></pre>\n<p>This method does nothing. It just returns the array that you pass to it. Calling it with zero arguments is just like calling it with a zero-length array, so in that case it will return a zero-length array.</p>\n<p>There is a way to create an instance of <code>T[]</code> using reflection. But it requires you to explicitly pass the type of the elements of the array. You could write it like this:</p>\n<pre><code>import java.lang.reflect.Array;\n\n// ...\n\nprivate T[] getGenericArrayInstance(Class&lt;T&gt; elementType, int length) {\n    return (T[]) Array.newInstance(elementType, length);\n}\n</code></pre>\n<p>Note that this means you will have to pass <code>elementType</code> through the whole chain of methods as well. So you'll get:</p>\n<pre><code>public void mergeSort(T[] array, Class&lt;T&gt; elementType) {\n    mergeSort(array, elementType, 0, array.length - 1);\n}\n\nprivate void mergeSort(T[] array, Class&lt;T&gt; elementType, int start, int end) {\n    if (start &gt;= end) return;\n    int mid = (start + end) / 2;\n    mergeSort(array, elementType, start, mid);\n    mergeSort(array, elementType, mid + 1, end);\n    merge(array, elementType, start, mid, end);\n}\n\nprivate void merge(T[] array, Class&lt;T&gt; elementType, int firstPointer, int firstTerminator, int secondTerminator) {\n    var auxArray = getGenericArrayInstance(elementType, array.length);\n\n    // ...\n}\n</code></pre>\n<p>And you'll have to call it like this:</p>\n<pre><code>String[] names = {&quot;c&quot;, &quot;a&quot;, &quot;b&quot;, &quot;z&quot;, &quot;d&quot;};\n\nListSorter&lt;String&gt; sorter = new ListSorter&lt;&gt;();\n\n// Note that you have to pass String.class here\nsorter.mergeSort(names, String.class);\n</code></pre>\n<p>Note: This solves the problem of creating a <code>T[]</code>. If you fix this the code still won't work, because in the <code>merge</code> method you're putting the result of the sort in <code>auxArray</code>, but you're not updating the original <code>array</code>.</p>\n<p>(p.s.: I have a <a href=\"https://app.pluralsight.com/library/courses/java-se-8-programmer-creating-using-arrays-1z0-808-cert/table-of-contents\" rel=\"nofollow noreferrer\">course on Pluralsight</a> about arrays; towards the end of the course I explain exactly what the problems are with arrays and generics).</p>\n"}],"owner":{"account_id":20664371,"reputation":77,"user_id":15171588,"display_name":"Thomas Herondale"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70259001,"answer_count":1,"score":1,"last_activity_date":1638875389,"creation_date":1638791411,"question_id":70245025,"body_markdown":"I was assigned an exercise at school: I have to define a class `ListSorter` (or `ArraySorter`) that implements many sorting algorithms we studied and uses them to sort an integer array.  \r\nI decided to try to make, instead, a generic `*Sorter&lt;&gt;` that could sort data of any type.  \r\n Problem is, how do you even manage arrays and generics? I&#39;ve found many difficulties (couldn&#39;t even use `List.toArray()` because, if I remember well, it needs an array of the desired type to be passed, else the returned array would be `Object[]` --&gt; `ClassCastException`).  \r\nThat&#39;s why I switched to sorting arrays, hoping that it would make my work easier... it didn&#39;t.\r\n\r\n    import java.util.List;\r\n\r\n    /**\r\n     * The class ListSorter contains many implementations of famous sorting algorithms, whether their\r\n     * performances are optimal or not.\r\n     *\r\n     */\r\n    public final class ListSorter&lt;T extends Comparable&lt;T&gt;&gt; {\r\n\r\n\r\n    /**\r\n     * Sorts a list using the Insertion Sort algorithm, in time O(n^2). Actually, if the list is already\r\n     * partially sorted, this method reaches better performances.\r\n     * @param list the list to be sorted\r\n     * @param &lt;T&gt; the type of the elements of the list\r\n     */\r\n    public void insertionSort(List&lt;T&gt; list) {\r\n        for (var i = 1; i &lt; list.size(); i++) {\r\n            var current = list.get(i);\r\n            int j = 0;\r\n            // Trova il posto giusto per current\r\n            while (j &lt;= i - 1 &amp;&amp; list.get(j).compareTo(current) &lt;= 0)\r\n                j++;\r\n            // Scambia l&#39;elemento corrente con l&#39;ultimo\r\n            list.set(i, list.get(list.size() - 1));\r\n            // Fai posto per inserire current al posto giusto, shiftando gli elementi a destra\r\n            for (var k = list.size() - 1; k &gt; j; k--) {\r\n                list.set(k, list.get(k - 1));\r\n\r\n            }\r\n            list.set(j, current);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sorts a list using the Bubble Sort algorithm, in time O(n^2). Actually, it is far more probable\r\n     * that this method is going to reach better performances.\r\n     * @param list the list to be sorted\r\n     * @param &lt;T&gt; the type of the elements of the list\r\n     */\r\n    public void bubbleSort(List&lt;T&gt; list) {\r\n        boolean listChanged;\r\n        do {\r\n            listChanged = false;\r\n            for (var i = 0; i &lt; list.size() - 1; i++) {\r\n                if (list.get(i).compareTo(list.get(i + 1)) &gt; 0) {\r\n                    var temp = list.get(i);\r\n                    list.set(i, list.get(i + 1));\r\n                    list.set(i + 1, temp);\r\n                    listChanged = true;\r\n                }\r\n            }\r\n        } while (listChanged);\r\n    }\r\n\r\n    public void heapSort(List&lt;T&gt; list) {\r\n        // TODO\r\n    }\r\n\r\n    public void mergeSort(T[] array) {\r\n        mergeSort(array, 0, array.length - 1);\r\n    }\r\n\r\n    private void mergeSort(T[] array, int start, int end) {\r\n        if (start &gt;= end)\r\n            return;\r\n        int mid = (start + end) / 2;\r\n        mergeSort(array, start, mid);\r\n        mergeSort(array, mid + 1, end);\r\n        merge(array, start, mid, end);\r\n    }\r\n\r\n    private void merge(\r\n            T[] array, int firstPointer, int firstTerminator, int secondTerminator) {\r\n        var auxArray = getGenericArrayInstance();\r\n        int secondPointer = firstTerminator + 1;\r\n        int auxPointer = 0;\r\n\r\n        while (firstPointer &lt;= firstTerminator &amp;&amp; secondPointer &lt;= secondTerminator) {\r\n            if (array[firstPointer].compareTo(array[secondPointer]) &lt;= 0) {\r\n                auxArray[auxPointer] = array[firstPointer];\r\n                firstPointer++;\r\n            } else {\r\n                auxArray[auxPointer] = array[secondPointer];\r\n                secondPointer++;\r\n            }\r\n            auxPointer++;\r\n        }\r\n    }\r\n\r\n    // I know this may be bad practice, but I saw it here and needed to try.\r\n    // Didn&#39;t solve my problem, though, as I can&#39;t decide the length of \r\n    // the array --&gt; IndexOutOfBoundsException\r\n    @SafeVarargs\r\n    private T[] getGenericArrayInstance(T ...dummyValues) {\r\n        return dummyValues;\r\n    }\r\n\r\nMy question, now, is: am I trying to use generics in the wrong place, am I using the generics wrong, or what? I&#39;ve never worked with them so deeply, so I would like to see what you can do in these situations.","title":"Hard use of generics in a Sorter class","body":"<p>I was assigned an exercise at school: I have to define a class <code>ListSorter</code> (or <code>ArraySorter</code>) that implements many sorting algorithms we studied and uses them to sort an integer array.<br />\nI decided to try to make, instead, a generic <code>*Sorter&lt;&gt;</code> that could sort data of any type.<br />\nProblem is, how do you even manage arrays and generics? I've found many difficulties (couldn't even use <code>List.toArray()</code> because, if I remember well, it needs an array of the desired type to be passed, else the returned array would be <code>Object[]</code> --&gt; <code>ClassCastException</code>).<br />\nThat's why I switched to sorting arrays, hoping that it would make my work easier... it didn't.</p>\n<pre><code>import java.util.List;\n\n/**\n * The class ListSorter contains many implementations of famous sorting algorithms, whether their\n * performances are optimal or not.\n *\n */\npublic final class ListSorter&lt;T extends Comparable&lt;T&gt;&gt; {\n\n\n/**\n * Sorts a list using the Insertion Sort algorithm, in time O(n^2). Actually, if the list is already\n * partially sorted, this method reaches better performances.\n * @param list the list to be sorted\n * @param &lt;T&gt; the type of the elements of the list\n */\npublic void insertionSort(List&lt;T&gt; list) {\n    for (var i = 1; i &lt; list.size(); i++) {\n        var current = list.get(i);\n        int j = 0;\n        // Trova il posto giusto per current\n        while (j &lt;= i - 1 &amp;&amp; list.get(j).compareTo(current) &lt;= 0)\n            j++;\n        // Scambia l'elemento corrente con l'ultimo\n        list.set(i, list.get(list.size() - 1));\n        // Fai posto per inserire current al posto giusto, shiftando gli elementi a destra\n        for (var k = list.size() - 1; k &gt; j; k--) {\n            list.set(k, list.get(k - 1));\n\n        }\n        list.set(j, current);\n    }\n}\n\n/**\n * Sorts a list using the Bubble Sort algorithm, in time O(n^2). Actually, it is far more probable\n * that this method is going to reach better performances.\n * @param list the list to be sorted\n * @param &lt;T&gt; the type of the elements of the list\n */\npublic void bubbleSort(List&lt;T&gt; list) {\n    boolean listChanged;\n    do {\n        listChanged = false;\n        for (var i = 0; i &lt; list.size() - 1; i++) {\n            if (list.get(i).compareTo(list.get(i + 1)) &gt; 0) {\n                var temp = list.get(i);\n                list.set(i, list.get(i + 1));\n                list.set(i + 1, temp);\n                listChanged = true;\n            }\n        }\n    } while (listChanged);\n}\n\npublic void heapSort(List&lt;T&gt; list) {\n    // TODO\n}\n\npublic void mergeSort(T[] array) {\n    mergeSort(array, 0, array.length - 1);\n}\n\nprivate void mergeSort(T[] array, int start, int end) {\n    if (start &gt;= end)\n        return;\n    int mid = (start + end) / 2;\n    mergeSort(array, start, mid);\n    mergeSort(array, mid + 1, end);\n    merge(array, start, mid, end);\n}\n\nprivate void merge(\n        T[] array, int firstPointer, int firstTerminator, int secondTerminator) {\n    var auxArray = getGenericArrayInstance();\n    int secondPointer = firstTerminator + 1;\n    int auxPointer = 0;\n\n    while (firstPointer &lt;= firstTerminator &amp;&amp; secondPointer &lt;= secondTerminator) {\n        if (array[firstPointer].compareTo(array[secondPointer]) &lt;= 0) {\n            auxArray[auxPointer] = array[firstPointer];\n            firstPointer++;\n        } else {\n            auxArray[auxPointer] = array[secondPointer];\n            secondPointer++;\n        }\n        auxPointer++;\n    }\n}\n\n// I know this may be bad practice, but I saw it here and needed to try.\n// Didn't solve my problem, though, as I can't decide the length of \n// the array --&gt; IndexOutOfBoundsException\n@SafeVarargs\nprivate T[] getGenericArrayInstance(T ...dummyValues) {\n    return dummyValues;\n}\n</code></pre>\n<p>My question, now, is: am I trying to use generics in the wrong place, am I using the generics wrong, or what? I've never worked with them so deeply, so I would like to see what you can do in these situations.</p>\n"},{"tags":["java","spring-data","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":309065,"reputation":317,"user_id":621320,"accept_rate":60,"display_name":"Ivan Sharamet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1369412150,"creation_date":1369412150,"answer_id":16739401,"question_id":16739210,"body_markdown":"1 means that both &#39;firstname&#39; and &#39;lastname&#39; will be included in the resulted document. For example, if you have &#39;salary&#39; field you can exclude it from result by typing `&#39;salary&#39;: 0`.","title":"Spring Data Mongo Query Field parameters","body":"<p>1 means that both 'firstname' and 'lastname' will be included in the resulted document. For example, if you have 'salary' field you can exclude it from result by typing <code>'salary': 0</code>.</p>\n"},{"tags":[],"owner":{"account_id":4172764,"reputation":748,"user_id":3420149,"accept_rate":67,"display_name":"akinKaplanoglu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422617049,"creation_date":1422617049,"answer_id":28234849,"question_id":16739210,"body_markdown":"You can use &lt;code&gt;MongoTemplate&lt;/code&gt; for querying.First you declare &lt;code&gt;query&lt;/code&gt; and after that you can declare &lt;code&gt;criteria&lt;/code&gt;.Below is an example :\r\n\r\n    Criteria criteria = Criteria.where(&quot;kademeler.isemriId&quot;).is(isemriNo)\r\n    \t\t\t\t.and(&quot;ogag&quot;).is(1);\r\n    \t\tQuery query = new Query(criteria);\r\n            query.fields().exclude(&quot;salary&quot;); //for excluding a field, this is &quot;salary&quot; for you\r\n    \t\tList&lt;AboneAriza&gt; result = mongoTemplate.find(query, AboneAriza.class);","title":"Spring Data Mongo Query Field parameters","body":"<p>You can use <code>MongoTemplate</code> for querying.First you declare <code>query</code> and after that you can declare <code>criteria</code>.Below is an example :</p>\n\n<pre><code>Criteria criteria = Criteria.where(\"kademeler.isemriId\").is(isemriNo)\n                .and(\"ogag\").is(1);\n        Query query = new Query(criteria);\n        query.fields().exclude(\"salary\"); //for excluding a field, this is \"salary\" for you\n        List&lt;AboneAriza&gt; result = mongoTemplate.find(query, AboneAriza.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3555436,"reputation":181,"user_id":2969323,"display_name":"Samba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453395171,"creation_date":1453395171,"answer_id":34929638,"question_id":16739210,"body_markdown":"Just to add, the id of the document is also returned by default, so this in detail will mean, firstname, lastname along with _id of the document will be return, and as some one already answered setting a field to zero will not return that particular field when the document is being returned.","title":"Spring Data Mongo Query Field parameters","body":"<p>Just to add, the id of the document is also returned by default, so this in detail will mean, firstname, lastname along with _id of the document will be return, and as some one already answered setting a field to zero will not return that particular field when the document is being returned.</p>\n"}],"owner":{"account_id":21157,"reputation":16683,"user_id":51230,"accept_rate":83,"display_name":"Maksim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8874,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16739401,"answer_count":3,"score":1,"last_activity_date":1638875346,"creation_date":1369411542,"question_id":16739210,"body_markdown":"I&#39;m playing with Spring Data Mongo Query and wondering about the field property parameters.\r\nHere is the example that I got from [the documentation][1]:\r\n\r\n    public interface PersonRepository extends MongoRepository&lt;Person, String&gt;\r\n      @Query(value=&quot;{ &#39;firstname&#39; : ?0 }&quot;, fields=&quot;{ &#39;firstname&#39; : 1, &#39;lastname&#39; : 1}&quot;)\r\n      List&lt;Person&gt; findByThePersonsFirstname(String firstname);\r\n    }\r\n\r\nThe question is: What is the meaning of `1` in `{ &#39;firstname&#39; : 1, &#39;lastname&#39; : 1}`?\r\n\r\n  [1]: http://static.springsource.org/spring-data/mongodb/docs/current/reference/html/mongo.repositories.html#d0e4055","title":"Spring Data Mongo Query Field parameters","body":"<p>I'm playing with Spring Data Mongo Query and wondering about the field property parameters.\nHere is the example that I got from <a href=\"http://static.springsource.org/spring-data/mongodb/docs/current/reference/html/mongo.repositories.html#d0e4055\" rel=\"nofollow\">the documentation</a>:</p>\n\n<pre><code>public interface PersonRepository extends MongoRepository&lt;Person, String&gt;\n  @Query(value=\"{ 'firstname' : ?0 }\", fields=\"{ 'firstname' : 1, 'lastname' : 1}\")\n  List&lt;Person&gt; findByThePersonsFirstname(String firstname);\n}\n</code></pre>\n\n<p>The question is: What is the meaning of <code>1</code> in <code>{ 'firstname' : 1, 'lastname' : 1}</code>?</p>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":20741201,"reputation":333,"user_id":15230812,"display_name":"Marlon"},"score":2,"creation_date":1638696275,"post_id":70232911,"comment_id":124152149,"body_markdown":"Pretty strange task. Maybe start by creat a new array with the length of n * actual length. Then write a new recursive method whichs gets the starting index of the array as well as n. At each call you would decrease n by one. Then call this methode for each element of the original array, with the right index and n.","body":"Pretty strange task. Maybe start by creat a new array with the length of n * actual length. Then write a new recursive method whichs gets the starting index of the array as well as n. At each call you would decrease n by one. Then call this methode for each element of the original array, with the right index and n."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638697428,"creation_date":1638697428,"answer_id":70233082,"question_id":70232911,"body_markdown":"You can simulate a for loop with recursion by having an extra `index` parameter. At the end of the method, recursively call the method again with `index + 1`. The method should `return` when `index` reaches the end of the array, just like a for loop:\r\n\r\n    private static void repeatEachElement(int times, int[] input, int[] output, int index) {\r\n        // stopping condition\r\n        if (index == output.length) {\r\n            return;\r\n        }\r\n\r\n        // this is where it fills the array.\r\n        output[index] = input[index / times];\r\n\r\n        // calls itself again with index + 1\r\n        repeatEachElement(times, input, output, index + 1);\r\n    }\r\n\r\nNote that I&#39;m &quot;looping&quot; over the output array, so that I don&#39;t need another loop to fill each index. I can just get the element that should be at that index by doing `input[index / times]`.\r\n\r\nTo call this method, you would need to create an output array of the correct length first, and `index` must start at 0. You can wrap this method into a more convenient method:\r\n\r\n    private static int[] repeatEachElement(int times, int[] input) {\r\n        int[] output = new int[input.length * times];\r\n        repeatEachElement(times, input, output, 0);\r\n        return output;\r\n    }\r\n\r\nThen you can do:\r\n\r\n    int[] input = {8, 4, 3, 4};\r\n    System.out.println(Arrays.toString(repeatEachElement(3, input)));\r\n    // [8, 8, 8, 4, 4, 4, 3, 3, 3, 4, 4, 4]\r\n\r\nAt the end of the day though, there isn&#39;t much point in doing this recursively in Java, other than to learn about how recursion works. It is less readable than a loop, and will overflow the stack if the array is long enough.","title":"How to recursively repeat n times the elements in an array?","body":"<p>You can simulate a for loop with recursion by having an extra <code>index</code> parameter. At the end of the method, recursively call the method again with <code>index + 1</code>. The method should <code>return</code> when <code>index</code> reaches the end of the array, just like a for loop:</p>\n<pre><code>private static void repeatEachElement(int times, int[] input, int[] output, int index) {\n    // stopping condition\n    if (index == output.length) {\n        return;\n    }\n\n    // this is where it fills the array.\n    output[index] = input[index / times];\n\n    // calls itself again with index + 1\n    repeatEachElement(times, input, output, index + 1);\n}\n</code></pre>\n<p>Note that I'm &quot;looping&quot; over the output array, so that I don't need another loop to fill each index. I can just get the element that should be at that index by doing <code>input[index / times]</code>.</p>\n<p>To call this method, you would need to create an output array of the correct length first, and <code>index</code> must start at 0. You can wrap this method into a more convenient method:</p>\n<pre><code>private static int[] repeatEachElement(int times, int[] input) {\n    int[] output = new int[input.length * times];\n    repeatEachElement(times, input, output, 0);\n    return output;\n}\n</code></pre>\n<p>Then you can do:</p>\n<pre><code>int[] input = {8, 4, 3, 4};\nSystem.out.println(Arrays.toString(repeatEachElement(3, input)));\n// [8, 8, 8, 4, 4, 4, 3, 3, 3, 4, 4, 4]\n</code></pre>\n<p>At the end of the day though, there isn't much point in doing this recursively in Java, other than to learn about how recursion works. It is less readable than a loop, and will overflow the stack if the array is long enough.</p>\n"},{"tags":[],"owner":{"account_id":6393555,"reputation":370,"user_id":5202260,"display_name":"Vadim Chernetsov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638875314,"creation_date":1638792144,"answer_id":70245191,"question_id":70232911,"body_markdown":"I can offer the solution of your problem, using the algorithm **Depth first search**.\r\n\r\n    /*\r\n    Input = [8, 4, 3, 4],\r\n    n = 3,\r\n    Output = [8, 8, 8, 4, 4, 4, 3, 3, 3, 4, 4, 4].\r\n    */\r\n    #include &lt;iostream&gt;\r\n    #include &lt;vector&gt;\r\n    #include &lt;algorithm&gt;\r\n    using namespace std;\r\n    const int maximumSize=40;\r\n    vector&lt;int&gt; visited(maximumSize, 0);\r\n    void showContentVector(vector&lt;int&gt;&amp; input)\r\n    {\r\n\t    for(int i=0; i&lt;input.size(); ++i)\r\n\t    {\r\n\t\t    cout&lt;&lt;input[i]&lt;&lt;&quot;, &quot;;\r\n\t    }\r\n\t    return;\r\n    }\r\n    void dfs(int current, int previous, vector&lt;int&gt;&amp; input, int number)\r\n    {\r\n\t    if(visited[current]==1)\r\n\t    {\r\n\t\t    return;\r\n\t    }\r\n\t    visited[current]=1;\r\n\t    int inputSize=input.size();\r\n\t    vector&lt;int&gt; numbers;\r\n\t    for(int i=0; i&lt;number; ++i)\r\n\t    {\r\n\t\t    numbers.push_back(input[current]);\r\n\t    }\r\n\t    for(int next=(current+1); next&lt;inputSize; ++next)\r\n\t    {\r\n\t\t    if(next==previous)\r\n\t\t    {\r\n\t\t\t    continue;\r\n\t\t    }\r\n\t\t    dfs(next, current, input, number);\r\n\t    }\r\n\t    for(int i=0; i&lt;numbers.size(); ++i)\r\n\t    {\r\n\t\t    input.push_back(numbers[i]);\r\n\t    }\r\n\t    if(current==0)\r\n\t    {\r\n\t\t    vector&lt;int&gt; temporary;\r\n\t\t    for(int i=inputSize; i&lt;input.size(); ++i)\r\n\t\t    {\r\n\t\t\t    temporary.push_back(input[i]);\r\n\t\t    }\r\n\t\t    reverse(temporary.begin(), temporary.end());\r\n\t\t    input.clear();\r\n\t\t    for(int i=0; i&lt;temporary.size(); ++i)\r\n\t\t    {\r\n\t\t\t    input.push_back(temporary[i]);\r\n\t\t    }\r\n\t    }\r\n\t    return;\r\n    }\r\n    int main()\r\n    {\r\n\t    vector&lt;int&gt; inputVector={8, 4, 3, 4};\r\n\t    cout&lt;&lt;&quot;inputVector &lt;- &quot;;\r\n\t    showContentVector(inputVector);\r\n\t    cout&lt;&lt;endl;\r\n\t    dfs(0, -1, inputVector, 3);\r\n\t    cout&lt;&lt;&quot;inputVector &lt;- &quot;;\r\n\t    showContentVector(inputVector);\r\n\t    cout&lt;&lt;endl;\r\n\t    return 0;\r\n    }\r\n\r\nHere is the result:\r\n\r\n    inputVector &lt;- 8, 4, 3, 4, \r\n    inputVector &lt;- 8, 8, 8, 4, 4, 4, 3, 3, 3, 4, 4, 4, ","title":"How to recursively repeat n times the elements in an array?","body":"<p>I can offer the solution of your problem, using the algorithm <strong>Depth first search</strong>.</p>\n<pre><code>/*\nInput = [8, 4, 3, 4],\nn = 3,\nOutput = [8, 8, 8, 4, 4, 4, 3, 3, 3, 4, 4, 4].\n*/\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\nconst int maximumSize=40;\nvector&lt;int&gt; visited(maximumSize, 0);\nvoid showContentVector(vector&lt;int&gt;&amp; input)\n{\n    for(int i=0; i&lt;input.size(); ++i)\n    {\n        cout&lt;&lt;input[i]&lt;&lt;&quot;, &quot;;\n    }\n    return;\n}\nvoid dfs(int current, int previous, vector&lt;int&gt;&amp; input, int number)\n{\n    if(visited[current]==1)\n    {\n        return;\n    }\n    visited[current]=1;\n    int inputSize=input.size();\n    vector&lt;int&gt; numbers;\n    for(int i=0; i&lt;number; ++i)\n    {\n        numbers.push_back(input[current]);\n    }\n    for(int next=(current+1); next&lt;inputSize; ++next)\n    {\n        if(next==previous)\n        {\n            continue;\n        }\n        dfs(next, current, input, number);\n    }\n    for(int i=0; i&lt;numbers.size(); ++i)\n    {\n        input.push_back(numbers[i]);\n    }\n    if(current==0)\n    {\n        vector&lt;int&gt; temporary;\n        for(int i=inputSize; i&lt;input.size(); ++i)\n        {\n            temporary.push_back(input[i]);\n        }\n        reverse(temporary.begin(), temporary.end());\n        input.clear();\n        for(int i=0; i&lt;temporary.size(); ++i)\n        {\n            input.push_back(temporary[i]);\n        }\n    }\n    return;\n}\nint main()\n{\n    vector&lt;int&gt; inputVector={8, 4, 3, 4};\n    cout&lt;&lt;&quot;inputVector &lt;- &quot;;\n    showContentVector(inputVector);\n    cout&lt;&lt;endl;\n    dfs(0, -1, inputVector, 3);\n    cout&lt;&lt;&quot;inputVector &lt;- &quot;;\n    showContentVector(inputVector);\n    cout&lt;&lt;endl;\n    return 0;\n}\n</code></pre>\n<p>Here is the result:</p>\n<pre><code>inputVector &lt;- 8, 4, 3, 4, \ninputVector &lt;- 8, 8, 8, 4, 4, 4, 3, 3, 3, 4, 4, 4, \n</code></pre>\n"}],"owner":{"account_id":23539871,"reputation":31,"user_id":17584242,"display_name":"judahthehogwash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1638875314,"creation_date":1638695996,"question_id":70232911,"body_markdown":"I&#39;m trying to find the recursive function for this problem, to be more clear:\r\n\r\n - Input = [8, 4, 3, 4}\r\n - n = 3\r\n - Output = [8, 8, 8, 4, 4, 4, 3, 3, 3, 4, 4, 4]\r\n\r\nI&#39;ve solved it using iteration and loop, but since I was just introduced to recursive methods, I&#39;m still struggling pretty hard with this problem in particular. This is my iterative solution for it. \r\n\r\n    public class repeatElement {\r\n\r\n    public static void main(String[] args) {\r\n        int[] a = {1, 2, 3};\r\n        int n, j, i;\r\n        n = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter n&quot;));\r\n        int[] b = new int[a.length * n];\r\n\r\n        for (i = 0; i &lt; a.length; i++) {\r\n             for (j = n*i; j &lt; n*(i+1); j++) {\r\n                if (j % n == 0) {\r\n                    b[j] = a[i];\r\n                }\r\n                if (j % n != 0) {\r\n                    b[j] = a[i];\r\n                }\r\n            }\r\n        }\r\n        JOptionPane.showMessageDialog(null, Arrays.toString(b));\r\n    }\r\n","title":"How to recursively repeat n times the elements in an array?","body":"<p>I'm trying to find the recursive function for this problem, to be more clear:</p>\n<ul>\n<li>Input = [8, 4, 3, 4}</li>\n<li>n = 3</li>\n<li>Output = [8, 8, 8, 4, 4, 4, 3, 3, 3, 4, 4, 4]</li>\n</ul>\n<p>I've solved it using iteration and loop, but since I was just introduced to recursive methods, I'm still struggling pretty hard with this problem in particular. This is my iterative solution for it.</p>\n<pre><code>public class repeatElement {\n\npublic static void main(String[] args) {\n    int[] a = {1, 2, 3};\n    int n, j, i;\n    n = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter n&quot;));\n    int[] b = new int[a.length * n];\n\n    for (i = 0; i &lt; a.length; i++) {\n         for (j = n*i; j &lt; n*(i+1); j++) {\n            if (j % n == 0) {\n                b[j] = a[i];\n            }\n            if (j % n != 0) {\n                b[j] = a[i];\n            }\n        }\n    }\n    JOptionPane.showMessageDialog(null, Arrays.toString(b));\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","spring-saml","spring-security-saml2"],"owner":{"account_id":7112428,"reputation":327,"user_id":5439836,"accept_rate":43,"display_name":"mooor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638874800,"creation_date":1638874800,"question_id":70258963,"body_markdown":"I am in the middle of transferring an old SAML implementation that was written using the Spring Security SAML Extension into the the Spring Security SAML2. I have difficulties with the following bean:\r\n\r\n    &lt;!-- Central storage of cryptographic keys --&gt;\r\n\t&lt;bean id=&quot;keyManager&quot; class=&quot;org.springframework.security.saml.key.JKSKeyManager&quot;&gt;\r\n\t\t&lt;constructor-arg value=&quot;classpath:security/ssoKeystore_test.jks&quot; /&gt;\r\n\t\t&lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;client123&quot; /&gt;\r\n\t\t&lt;constructor-arg&gt;\r\n\t\t\t&lt;map&gt;\r\n\t\t\t\t&lt;entry key=&quot;ssokey&quot; value=&quot;client123&quot; /&gt;\r\n\t\t\t&lt;/map&gt;\r\n\t\t&lt;/constructor-arg&gt;\r\n\t\t&lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;ssokey&quot; /&gt;\r\n\t&lt;/bean&gt;\r\nIs there any equivalent way in the Spring Security context to configure the key manager?\r\nI want to work exclusively with the Java configuration","title":"How use JKS Keystore in the Spring Security SAML2 context","body":"<p>I am in the middle of transferring an old SAML implementation that was written using the Spring Security SAML Extension into the the Spring Security SAML2. I have difficulties with the following bean:</p>\n<pre><code>&lt;!-- Central storage of cryptographic keys --&gt;\n&lt;bean id=&quot;keyManager&quot; class=&quot;org.springframework.security.saml.key.JKSKeyManager&quot;&gt;\n    &lt;constructor-arg value=&quot;classpath:security/ssoKeystore_test.jks&quot; /&gt;\n    &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;client123&quot; /&gt;\n    &lt;constructor-arg&gt;\n        &lt;map&gt;\n            &lt;entry key=&quot;ssokey&quot; value=&quot;client123&quot; /&gt;\n        &lt;/map&gt;\n    &lt;/constructor-arg&gt;\n    &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;ssokey&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Is there any equivalent way in the Spring Security context to configure the key manager?\nI want to work exclusively with the Java configuration</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1638868762,"post_id":70233267,"comment_id":124195994,"body_markdown":"*i want to take data inside an folder of my realtime database* Which one?","body":"<i>i want to take data inside an folder of my realtime database</i> Which one?"},{"owner":{"display_name":"user17562398"},"score":0,"creation_date":1638869343,"post_id":70233267,"comment_id":124196173,"body_markdown":"in DataPelanggan, im gonna take the currentDateandTime, date, fullName, nik, but after i took the data, im gonna put them into recycleview fragmnet","body":"in DataPelanggan, im gonna take the currentDateandTime, date, fullName, nik, but after i took the data, im gonna put them into recycleview fragmnet"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1638869483,"post_id":70233267,"comment_id":124196231,"body_markdown":"So you only want to get the value of `currentDateAndTime`, `date`, `fullName` and `nik` that exist inside DataPelanggan? If this what you want, I don&#39;t see any reason you have used a Query.","body":"So you only want to get the value of <code>currentDateAndTime</code>, <code>date</code>, <code>fullName</code> and <code>nik</code> that exist inside DataPelanggan? If this what you want, I don&#39;t see any reason you have used a Query."},{"owner":{"display_name":"user17562398"},"score":0,"creation_date":1638870386,"post_id":70233267,"comment_id":124196539,"body_markdown":"oh ya?, i don&#39;t know bout that cause i&#39;ve been following some of youtube video of how to use startAt and endAt, what should i change to?, i&#39;ve follow your way to search range data too https://stackoverflow.com/questions/70077152/search-firebase-realtime-database-base-on-6-digit-in-front-of-the-child-data-i","body":"oh ya?, i don&#39;t know bout that cause i&#39;ve been following some of youtube video of how to use startAt and endAt, what should i change to?, i&#39;ve follow your way to search range data too <a href=\"https://stackoverflow.com/questions/70077152/search-firebase-realtime-database-base-on-6-digit-in-front-of-the-child-data-i\" title=\"search firebase realtime database base on 6 digit in front of the child data i\">stackoverflow.com/questions/70077152/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1638871355,"post_id":70233267,"comment_id":124196901,"body_markdown":"So you followed that, and what&#39;s the issue?","body":"So you followed that, and what&#39;s the issue?"},{"owner":{"display_name":"user17562398"},"score":0,"creation_date":1638872308,"post_id":70233267,"comment_id":124197267,"body_markdown":"it surely took data from the range, but im going to show the data at the recyleview. with the one i&#39;ve using now is show blank on fragment, but when i manually put the data outside of DataNasabah folder, its work properly","body":"it surely took data from the range, but im going to show the data at the recyleview. with the one i&#39;ve using now is show blank on fragment, but when i manually put the data outside of DataNasabah folder, its work properly"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638874689,"creation_date":1638874689,"answer_id":70258934,"question_id":70233267,"body_markdown":"When you are using the Firebase-UI library for Android, it means that the adapter will be able to display only a flat list of objects based on the query that you pass in, creating one ViewHolder object for each element.\r\n\r\nSince your actual data is located beneath nodes like `DataPelanggan`, `KTP`, and so on, that library isn&#39;t really helpful. If you can change the database schema like this:\r\n\r\n    Firebase-root\r\n      |\r\n      --- Pending\r\n           |\r\n           --- *20211127...\r\n                 |\r\n                 --- type: &quot;DataPelanggan&quot; &#128072;\r\n                 |\r\n                 --- currentDateAndTime: &quot;*20211127...&quot;\r\n                 |\r\n                 --- date: &quot;16/10/1999&quot;\r\n                 |\r\n                 --- fullName: &quot;a&quot;\r\n                 |\r\n                 --- nik: &quot;4444....&quot;\r\n\r\nIt will work because we have added the node key as a field right under each object. In this way, we removed that extra level in the schema and your code may remain unchanged.","title":"i&#39;ve using startAt and endAt for getting range data, but i need to take data in another child inside the startAt","body":"<p>When you are using the Firebase-UI library for Android, it means that the adapter will be able to display only a flat list of objects based on the query that you pass in, creating one ViewHolder object for each element.</p>\n<p>Since your actual data is located beneath nodes like <code>DataPelanggan</code>, <code>KTP</code>, and so on, that library isn't really helpful. If you can change the database schema like this:</p>\n<pre><code>Firebase-root\n  |\n  --- Pending\n       |\n       --- *20211127...\n             |\n             --- type: &quot;DataPelanggan&quot; \n             |\n             --- currentDateAndTime: &quot;*20211127...&quot;\n             |\n             --- date: &quot;16/10/1999&quot;\n             |\n             --- fullName: &quot;a&quot;\n             |\n             --- nik: &quot;4444....&quot;\n</code></pre>\n<p>It will work because we have added the node key as a field right under each object. In this way, we removed that extra level in the schema and your code may remain unchanged.</p>\n"}],"owner":{"display_name":"user17562398"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70258934,"answer_count":1,"score":-1,"last_activity_date":1638874730,"creation_date":1638699144,"question_id":70233267,"body_markdown":"I want to take data inside a folder of my Realtime Database that looks like this:\r\n\r\n[![this is the realtime database look like][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n7hiE.png\r\n\r\nI have this code for getting the date range data and showing it in RecycleView .\r\n\r\n```\r\n    DatabaseReference db = FirebaseDatabase.getInstance ( ).getReference ( );\r\n        DatabaseReference pendingRef = db.child (&quot;Users&quot;).child (&quot;Pending&quot;);\r\n\r\n        Query queryByKey = pendingRef.orderByKey ()\r\n                .startAt (&quot;*&quot; + tanggalawal)\r\n                .endAt (&quot;*&quot; + tanggalakhir + &quot;\\uf8ff&quot;);\r\n\r\n        recView = (RecyclerView)findViewById (R.id.recview);\r\n        recView.setLayoutManager (new LinearLayoutManager (this));\r\n\r\n        FirebaseRecyclerOptions&lt;Model&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\r\n                        .setQuery(queryByKey, Model.class)\r\n                        .build();\r\n\r\n        adapter = new MyAdapter (options);\r\n        recView.setAdapter (adapter);\r\n```\r\n\r\nHow can I get the DataPelanggan data inside of it?","title":"i&#39;ve using startAt and endAt for getting range data, but i need to take data in another child inside the startAt","body":"<p>I want to take data inside a folder of my Realtime Database that looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/n7hiE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n7hiE.png\" alt=\"this is the realtime database look like\" /></a></p>\n<p>I have this code for getting the date range data and showing it in RecycleView .</p>\n<pre><code>    DatabaseReference db = FirebaseDatabase.getInstance ( ).getReference ( );\n        DatabaseReference pendingRef = db.child (&quot;Users&quot;).child (&quot;Pending&quot;);\n\n        Query queryByKey = pendingRef.orderByKey ()\n                .startAt (&quot;*&quot; + tanggalawal)\n                .endAt (&quot;*&quot; + tanggalakhir + &quot;\\uf8ff&quot;);\n\n        recView = (RecyclerView)findViewById (R.id.recview);\n        recView.setLayoutManager (new LinearLayoutManager (this));\n\n        FirebaseRecyclerOptions&lt;Model&gt; options =\n                new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\n                        .setQuery(queryByKey, Model.class)\n                        .build();\n\n        adapter = new MyAdapter (options);\n        recView.setAdapter (adapter);\n</code></pre>\n<p>How can I get the DataPelanggan data inside of it?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","cookies"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1631827684,"post_id":69214936,"comment_id":122335417,"body_markdown":"See if this helps: https://stackoverflow.com/questions/33118342/java-get-cookie-value-by-name-in-spring-mvc.","body":"See if this helps: <a href=\"https://stackoverflow.com/questions/33118342/java-get-cookie-value-by-name-in-spring-mvc\" title=\"java get cookie value by name in spring mvc\">stackoverflow.com/questions/33118342/&hellip;</a>."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1631827920,"post_id":69214936,"comment_id":122335475,"body_markdown":"[This](https://dzone.com/articles/how-to-use-cookies-in-spring-boot) article by Atta Shah provides another way to set, retrieve, and delete cookies.","body":"<a href=\"https://dzone.com/articles/how-to-use-cookies-in-spring-boot\" rel=\"nofollow noreferrer\">This</a> article by Atta Shah provides another way to set, retrieve, and delete cookies."}],"answers":[{"tags":[],"owner":{"account_id":23020582,"reputation":125,"user_id":17141696,"display_name":"Pranay Srivastava"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635257889,"creation_date":1635257889,"answer_id":69724817,"question_id":69214936,"body_markdown":"To delete a cookie, set the Max-Age directive to 0 and unset its value. You must also pass the same other cookie properties you used to set it. Don&#39;t set the Max-Age directive value to -1. Otherwise, it will be treated as a session cookie by the browser.\r\n\r\n\r\n    // create a cookie\r\n    Cookie cookie = new Cookie(&quot;username&quot;, null);\r\n    cookie.setMaxAge(0);\r\n    cookie.setSecure(true);\r\n    cookie.setHttpOnly(true);\r\n    cookie.setPath(&quot;/&quot;);\r\n    \r\n    //add cookie to response\r\n    response.addCookie(cookie);\r\n\r\n\r\nFor more, refer to the post by Dzone:\r\n[https://dzone.com/articles/how-to-use-cookies-in-spring-boot][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/how-to-use-cookies-in-spring-boot","title":"How to delete a cookie from backend upon an error","body":"<p>To delete a cookie, set the Max-Age directive to 0 and unset its value. You must also pass the same other cookie properties you used to set it. Don't set the Max-Age directive value to -1. Otherwise, it will be treated as a session cookie by the browser.</p>\n<pre><code>// create a cookie\nCookie cookie = new Cookie(&quot;username&quot;, null);\ncookie.setMaxAge(0);\ncookie.setSecure(true);\ncookie.setHttpOnly(true);\ncookie.setPath(&quot;/&quot;);\n\n//add cookie to response\nresponse.addCookie(cookie);\n</code></pre>\n<p>For more, refer to the post by Dzone:\n<a href=\"https://dzone.com/articles/how-to-use-cookies-in-spring-boot\" rel=\"nofollow noreferrer\">https://dzone.com/articles/how-to-use-cookies-in-spring-boot</a></p>\n"}],"owner":{"account_id":22679799,"reputation":179,"user_id":16850290,"display_name":"stacky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69724817,"answer_count":1,"score":0,"last_activity_date":1638874402,"creation_date":1631825056,"question_id":69214936,"body_markdown":"Currently setting up http only cookie in a Spring boot project via configurations as follows. \r\n&lt;br/&gt;This cookie is getting set correctly when ever I call following endpoint. \r\n\r\n      @Bean\r\n      public CookieSerializer defaultCookieSerializer() {\r\n        DefaultCookieSerializer cookie = new DefaultCookieSerializer();\r\n        cookie.setDomainNamePattern(&quot;.*&quot;);\r\n        cookie.setCookieName(&quot;my_cookie&quot;);\r\n        cookie.setUseSecureCookie(true);\r\n        cookie.setUseHttpOnlyCookie(true);\r\n        cookie.setCookieMaxAge(1200);\r\n        return cookie;\r\n      }\r\n\r\n  As can see, the cookie called `my_cookie` is being set for 2 mins. \r\n  &lt;br/&gt;In my controller within same project, I have the following controller method. \r\n  &lt;br/&gt;In the event I enter the error block, I wish to delete the cookie called `my_cookie`. How can I do that? \r\n\r\n  This is the closest question I found for this but is not the same case considering I set it via configurations. \r\n  &lt;br/&gt;https://stackoverflow.com/questions/9821919/delete-cookie-from-a-servlet-response\r\n\r\n      @PostMapping(value = &quot;/endpoint&quot;)\r\n      public List CustomResponse(\r\n              @RequestBody Request request,\r\n      ) throws Exception {\r\n    \r\n        CustomResponse response = null;\r\n        if (otherCookie != null) {\r\n            CustomResponse response = // perform some other rest request and get value from there \r\n        }\r\n    \r\n        if (response == null) {\r\n    \r\n            // I want to delete the cookie named `my_cookie` at this stage. \r\n    \r\n            throw new CustomException(&#39;name&#39;);\r\n        }\r\n    \r\n        return response;\r\n      }","title":"How to delete a cookie from backend upon an error","body":"<p>Currently setting up http only cookie in a Spring boot project via configurations as follows.\n<br/>This cookie is getting set correctly when ever I call following endpoint.</p>\n<pre><code>  @Bean\n  public CookieSerializer defaultCookieSerializer() {\n    DefaultCookieSerializer cookie = new DefaultCookieSerializer();\n    cookie.setDomainNamePattern(&quot;.*&quot;);\n    cookie.setCookieName(&quot;my_cookie&quot;);\n    cookie.setUseSecureCookie(true);\n    cookie.setUseHttpOnlyCookie(true);\n    cookie.setCookieMaxAge(1200);\n    return cookie;\n  }\n</code></pre>\n<p>As can see, the cookie called <code>my_cookie</code> is being set for 2 mins.\n<br/>In my controller within same project, I have the following controller method.\n<br/>In the event I enter the error block, I wish to delete the cookie called <code>my_cookie</code>. How can I do that?</p>\n<p>This is the closest question I found for this but is not the same case considering I set it via configurations.\n<br/>https://stackoverflow.com/questions/9821919/delete-cookie-from-a-servlet-response</p>\n<pre><code>  @PostMapping(value = &quot;/endpoint&quot;)\n  public List CustomResponse(\n          @RequestBody Request request,\n  ) throws Exception {\n\n    CustomResponse response = null;\n    if (otherCookie != null) {\n        CustomResponse response = // perform some other rest request and get value from there \n    }\n\n    if (response == null) {\n\n        // I want to delete the cookie named `my_cookie` at this stage. \n\n        throw new CustomException('name');\n    }\n\n    return response;\n  }\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":1113831,"reputation":36,"user_id":5847372,"display_name":"Andrii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638874177,"creation_date":1638874177,"answer_id":70258808,"question_id":70258075,"body_markdown":"I believe an embeddable composite key is what you need:\r\n\r\n    @Entity\r\n    public class EmployeeEntity extends BaseEntity {\r\n\r\n        @Embeddable\r\n        static class Pk implements Serializable {\r\n            @OneToOne\r\n            @JoinColumn(name = &quot;PERSON_ID&quot;)\r\n            private PersonEntity person;\r\n\r\n            @OneToOne\r\n            @JoinColumn(name = &quot;DEPARTMENT_ID&quot;)\r\n            private DepartmentEntity department;\r\n        }\r\n\r\n        @Id\r\n        private final Pk id;\r\n\r\n        public EmployeeEntity(DepartmentEntity department, PersonEntity person) {\r\n            this.id = new Pk();\r\n            this.id.person = person;\r\n            this.id.department = department;\r\n        }\r\n    }","title":"Define composite primary key on JPA Entity","body":"<p>I believe an embeddable composite key is what you need:</p>\n<pre><code>@Entity\npublic class EmployeeEntity extends BaseEntity {\n\n    @Embeddable\n    static class Pk implements Serializable {\n        @OneToOne\n        @JoinColumn(name = &quot;PERSON_ID&quot;)\n        private PersonEntity person;\n\n        @OneToOne\n        @JoinColumn(name = &quot;DEPARTMENT_ID&quot;)\n        private DepartmentEntity department;\n    }\n\n    @Id\n    private final Pk id;\n\n    public EmployeeEntity(DepartmentEntity department, PersonEntity person) {\n        this.id = new Pk();\n        this.id.person = person;\n        this.id.department = department;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368166,"reputation":302,"user_id":3850345,"display_name":"SvdTweel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638874217,"creation_date":1638874217,"answer_id":70258820,"question_id":70258075,"body_markdown":"You should create a new class which contains both fields, that class will become your composite key for your `EmployeeEntity`.\r\n\r\n```\r\n@Embeddable\r\npublic class EmployeeId implements Serializable {\r\n    private PersonEntity person;\r\n    private DepartmentEntity department;\r\n\r\n    public EmployeeId() {}\r\n\r\n    public EmployeeId(PersonEntity person, DepartmentEntity department) {\r\n        this.person = person;\r\n        this.department = department;\r\n    }\r\n\r\n    // equals() and hashCode() methods should also be implemented here\r\n}\r\n```\r\n\r\n```\r\npublic class EmployeeEntity implements Serializable {\r\n    @EmbeddedId\r\n    private EmployeeId id;\r\n}\r\n```","title":"Define composite primary key on JPA Entity","body":"<p>You should create a new class which contains both fields, that class will become your composite key for your <code>EmployeeEntity</code>.</p>\n<pre><code>@Embeddable\npublic class EmployeeId implements Serializable {\n    private PersonEntity person;\n    private DepartmentEntity department;\n\n    public EmployeeId() {}\n\n    public EmployeeId(PersonEntity person, DepartmentEntity department) {\n        this.person = person;\n        this.department = department;\n    }\n\n    // equals() and hashCode() methods should also be implemented here\n}\n</code></pre>\n<pre><code>public class EmployeeEntity implements Serializable {\n    @EmbeddedId\n    private EmployeeId id;\n}\n</code></pre>\n"}],"owner":{"account_id":14022098,"reputation":75,"user_id":11714531,"display_name":"Oleg Leinov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2645,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70258808,"answer_count":2,"score":1,"last_activity_date":1638874217,"creation_date":1638871101,"question_id":70258075,"body_markdown":"Is it possible to define a composite primary key in my Entity, but 2 IDs are @OneToOne fields? I&#39;m trying to do it with @PrimaryKeyJoinColumn annotation, unsuccessfully\r\n\r\n    public class EmployeeEntity {\r\n    // my composite ID must be person_id + department_id\r\n    @OneToOne\r\n    //@PrimaryKeyJoinColumn(name = &quot;person_id&quot;)\r\n    private PersonEntity person;\r\n    @OneToOne\r\n    //@PrimaryKeyJoinColumn(name = &quot;department_id&quot;)\r\n    private DepartmentEntity department;\r\n    // other fields\r\nI definitely can do it in a classic way with two numeric fields, but I want to have a OneToOne relationship to be set.\r\n\r\nActually, DB schema should be like that:\r\n\r\n    create table EMPLOYEE\r\n    (\r\n    PERSON_ID          INT       not null,\r\n    DEPARTMENT_ID      INT       not null,\r\n    constraint EMPLOYEE_PK\r\n        primary key (PERSON_ID, DEPARTMENT_ID),\r\n    constraint EMPLOYEE_PERSON_ID_FK\r\n        foreign key (PERSON_ID) references PERSON (ID),\r\n    );","title":"Define composite primary key on JPA Entity","body":"<p>Is it possible to define a composite primary key in my Entity, but 2 IDs are @OneToOne fields? I'm trying to do it with @PrimaryKeyJoinColumn annotation, unsuccessfully</p>\n<pre><code>public class EmployeeEntity {\n// my composite ID must be person_id + department_id\n@OneToOne\n//@PrimaryKeyJoinColumn(name = &quot;person_id&quot;)\nprivate PersonEntity person;\n@OneToOne\n//@PrimaryKeyJoinColumn(name = &quot;department_id&quot;)\nprivate DepartmentEntity department;\n// other fields\n</code></pre>\n<p>I definitely can do it in a classic way with two numeric fields, but I want to have a OneToOne relationship to be set.</p>\n<p>Actually, DB schema should be like that:</p>\n<pre><code>create table EMPLOYEE\n(\nPERSON_ID          INT       not null,\nDEPARTMENT_ID      INT       not null,\nconstraint EMPLOYEE_PK\n    primary key (PERSON_ID, DEPARTMENT_ID),\nconstraint EMPLOYEE_PERSON_ID_FK\n    foreign key (PERSON_ID) references PERSON (ID),\n);\n</code></pre>\n"},{"tags":["java","android","maven","build"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1540484450,"post_id":52993822,"comment_id":92892867,"body_markdown":"Maybe your system certificates are obsolete, what OS are you using?","body":"Maybe your system certificates are obsolete, what OS are you using?"},{"owner":{"account_id":5017434,"reputation":11,"user_id":4031922,"display_name":"HKA"},"score":0,"creation_date":1540487166,"post_id":52993822,"comment_id":92894264,"body_markdown":"I have Windows 10.","body":"I have Windows 10."}],"owner":{"account_id":5017434,"reputation":11,"user_id":4031922,"display_name":"HKA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638874122,"creation_date":1540483949,"question_id":52993822,"body_markdown":"    org.gradle.internal.resource.transport.http.HttpRequestException: Could not HEAD &#39;https://maven.google.com/com/android/support/cursoradapter/28.0.0/cursoradapter-28.0.0.pom&#39;.\r\n\r\n\r\nI have the above error while doing a build. I was able to download these files in the browser but still failed in Android studio. I tried doing certification import but I guess it didn&#39;t go as expected. Below is my detailed error report. When I ran, Keytool. I get below error.\r\n\r\n&gt; C:\\Program Files\\Java\\jdk1.8.0_181\\jre\\lib\\security&gt;keytool -list\r\n&gt; keytool error: java.lang.Exception: Keystore file does not exist:\r\n&gt; C:\\Users\\h.adani\\.keystore\r\n\r\n\r\n\r\n    org.gradle.internal.resource.transport.http.HttpRequestException: Could not HEAD &#39;https://maven.google.com/com/android/support/cursoradapter/28.0.0/cursoradapter-28.0.0.pom&#39;.\r\n    \tat org.gradle.internal.resource.transport.http.HttpClientHelper.performRequest(HttpClientHelper.java:96)\r\n    \tat org.gradle.internal.resource.transport.http.HttpClientHelper.performRawHead(HttpClientHelper.java:72)\r\n    \tat org.gradle.internal.resource.transport.http.HttpClientHelper.performHead(HttpClientHelper.java:76)\r\n    \tat org.gradle.internal.resource.transport.http.HttpResourceAccessor.getMetaData(HttpResourceAccessor.java:65)\r\n    \tat org.gradle.internal.resource.transfer.DefaultExternalResourceConnector.getMetaData(DefaultExternalResourceConnector.java:63)\r\n    \tat org.gradle.internal.resource.transfer.AccessorBackedExternalResource.getMetaData(AccessorBackedExternalResource.java:201)\r\n    \tat org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator$1.call(BuildOperationFiringExternalResourceDecorator.java:61)\r\n    \tat org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator$1.call(BuildOperationFiringExternalResourceDecorator.java:58)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:350)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:340)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:120)\r\n    \tat org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator.getMetaData(BuildOperationFiringExternalResourceDecorator.java:58)\r\n    \tat org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor$1.create(DefaultCacheAwareExternalResourceAccessor.java:102)\r\n    \tat org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor$1.create(DefaultCacheAwareExternalResourceAccessor.java:82)\r\n    \tat org.gradle.cache.internal.ProducerGuard$AdaptiveProducerGuard.guardByKey(ProducerGuard.java:97)\r\n    \tat org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor.getResource(DefaultCacheAwareExternalResourceAccessor.java:82)\r\n    \tat org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver.downloadByCoords(DefaultExternalResourceArtifactResolver.java:138)\r\n    \tat org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver.downloadStaticResource(DefaultExternalResourceArtifactResolver.java:98)\r\n    \tat org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver.resolveArtifact(DefaultExternalResourceArtifactResolver.java:65)\r\n    \tat org.gradle.api.internal.artifacts.repositories.metadata.AbstractRepositoryMetadataSource.parseMetaDataFromArtifact(AbstractRepositoryMetadataSource.java:69)\r\n    \tat org.gradle.api.internal.artifacts.repositories.metadata.AbstractRepositoryMetadataSource.create(AbstractRepositoryMetadataSource.java:59)\r\n    \tat org.gradle.api.internal.artifacts.repositories.resolver.ExternalResourceResolver.resolveStaticDependency(ExternalResourceResolver.java:199)\r\n    \tat org.gradle.api.internal.artifacts.repositories.resolver.MavenResolver.doResolveComponentMetaData(MavenResolver.java:117)\r\n    \tat org.gradle.api.internal.artifacts.repositories.resolver.ExternalResourceResolver$RemoteRepositoryAccess.resolveComponentMetaData(ExternalResourceResolver.java:400)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository$ResolveAndCacheRepositoryAccess.resolveComponentMetaData(CachingModuleComponentRepository.java:381)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.resolveComponentMetaData(ErrorHandlingModuleComponentRepository.java:136)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ComponentMetaDataResolveState.process(ComponentMetaDataResolveState.java:66)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ComponentMetaDataResolveState.resolve(ComponentMetaDataResolveState.java:58)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.findBestMatch(RepositoryChainComponentMetaDataResolver.java:138)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.findBestMatch(RepositoryChainComponentMetaDataResolver.java:119)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.resolveModule(RepositoryChainComponentMetaDataResolver.java:92)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.resolve(RepositoryChainComponentMetaDataResolver.java:63)\r\n    \tat org.gradle.api.internal.artifacts.query.DefaultArtifactResolutionQuery.buildComponentResult(DefaultArtifactResolutionQuery.java:154)\r\n    \tat org.gradle.api.internal.artifacts.query.DefaultArtifactResolutionQuery.createResult(DefaultArtifactResolutionQuery.java:132)\r\n    \tat org.gradle.api.internal.artifacts.query.DefaultArtifactResolutionQuery.execute(DefaultArtifactResolutionQuery.java:123)\r\n    \tat com.android.build.gradle.internal.ide.ArtifactDependencyGraph.handleSources(ArtifactDependencyGraph.java:668)\r\n    \tat com.android.build.gradle.internal.ide.ArtifactDependencyGraph.createDependencies(ArtifactDependencyGraph.java:597)\r\n    \tat com.android.build.gradle.internal.ide.ModelBuilder.getDependencies(ModelBuilder.java:545)\r\n    \tat com.android.build.gradle.internal.ide.ModelBuilder.createAndroidArtifact(ModelBuilder.java:620)\r\n    \tat com.android.build.gradle.internal.ide.ModelBuilder.createVariant(ModelBuilder.java:370)\r\n    \tat com.android.build.gradle.internal.ide.ModelBuilder.buildAndroidProject(ModelBuilder.java:316)\r\n    \tat com.android.build.gradle.internal.ide.ModelBuilder.buildAll(ModelBuilder.java:176)\r\n    \tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:79)\r\n    \tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter$2.getModel(InternalBuildActionAdapter.java:77)\r\n    \tat org.gradle.tooling.internal.consumer.connection.BuildControllerAdapter.getModel(BuildControllerAdapter.java:62)\r\n    \tat org.gradle.tooling.internal.consumer.connection.AbstractBuildController.findModel(AbstractBuildController.java:57)\r\n    \tat org.gradle.tooling.internal.consumer.connection.AbstractBuildController.findModel(AbstractBuildController.java:44)\r\n    \tat org.jetbrains.plugins.gradle.model.ProjectImportAction.addExtraProject(ProjectImportAction.java:134)\r\n    \tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:76)\r\n    \tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:40)\r\n    \tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:80)\r\n    \tat org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.buildResult(ClientProvidedBuildActionRunner.java:77)\r\n    \tat org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.access$000(ClientProvidedBuildActionRunner.java:37)\r\n    \tat org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner$1.buildFinished(ClientProvidedBuildActionRunner.java:56)\r\n    \tat sun.reflect.GeneratedMethodAccessor156.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.DefaultListenerManager$ListenerDetails.dispatch(DefaultListenerManager.java:370)\r\n    \tat org.gradle.internal.event.DefaultListenerManager$ListenerDetails.dispatch(DefaultListenerManager.java:352)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)\r\n    \tat org.gradle.internal.event.DefaultListenerManager$EventBroadcast$ListenerDispatch.dispatch(DefaultListenerManager.java:340)\r\n    \tat org.gradle.internal.event.DefaultListenerManager$EventBroadcast$ListenerDispatch.dispatch(DefaultListenerManager.java:327)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy17.buildFinished(Unknown Source)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.finishBuild(DefaultGradleLauncher.java:154)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.finishBuild(DefaultGradleLauncher.java:122)\r\n    \tat org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:88)\r\n    \tat org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:84)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\r\n    \tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\r\n    \tat org.gradle.internal.invocation.GradleBuildController.configure(GradleBuildController.java:84)\r\n    \tat org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:64)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\r\n    \tat org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\r\n    \tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\r\n    \tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\r\n    \tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\r\n    \tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\r\n    \tat org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\r\n    \tat org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\r\n    \tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n    \tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n    \tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n    \tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\r\n    \tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n    \tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n    \tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\n    Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n    \tat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1964)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:328)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:322)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1614)\r\n    \tat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)\r\n    \tat sun.security.ssl.Handshaker.processLoop(Handshaker.java:1052)\r\n    \tat sun.security.ssl.Handshaker.process_record(Handshaker.java:987)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1072)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1385)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1413)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1397)\r\n    \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:396)\r\n    \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:355)\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:373)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237)\r\n    \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\r\n    \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n    \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111)\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n    \tat org.gradle.internal.resource.transport.http.HttpClientHelper.performHttpRequest(HttpClientHelper.java:148)\r\n    \tat org.gradle.internal.resource.transport.http.HttpClientHelper.performHttpRequest(HttpClientHelper.java:126)\r\n    \tat org.gradle.internal.resource.transport.http.HttpClientHelper.executeGetOrHead(HttpClientHelper.java:103)\r\n    \tat org.gradle.internal.resource.transport.http.HttpClientHelper.performRequest(HttpClientHelper.java:94)\r\n    \t... 140 more\r\n\r\n\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:397)\r\n    \tat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:302)\r\n    \tat sun.security.validator.Validator.validate(Validator.java:262)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1596)\r\n    \t... 162 more\r\n\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n    \tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n    \tat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\r\n    \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:392)\r\n    \t... 168 more\r\n\r\n\r\nMy project is building successfully but still would like to fix these errors. Please advice. Thanks in advance. ","title":"Could not HEAD &#39;https://maven.google.com/com/android/support/cursoradapter/28.0.0/cursoradapter-28.0.0.pom","body":"<pre><code>org.gradle.internal.resource.transport.http.HttpRequestException: Could not HEAD 'https://maven.google.com/com/android/support/cursoradapter/28.0.0/cursoradapter-28.0.0.pom'.\n</code></pre>\n<p>I have the above error while doing a build. I was able to download these files in the browser but still failed in Android studio. I tried doing certification import but I guess it didn't go as expected. Below is my detailed error report. When I ran, Keytool. I get below error.</p>\n<blockquote>\n<p>C:\\Program Files\\Java\\jdk1.8.0_181\\jre\\lib\\security&gt;keytool -list\nkeytool error: java.lang.Exception: Keystore file does not exist:\nC:\\Users\\h.adani.keystore</p>\n</blockquote>\n<pre><code>org.gradle.internal.resource.transport.http.HttpRequestException: Could not HEAD 'https://maven.google.com/com/android/support/cursoradapter/28.0.0/cursoradapter-28.0.0.pom'.\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performRequest(HttpClientHelper.java:96)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performRawHead(HttpClientHelper.java:72)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performHead(HttpClientHelper.java:76)\n    at org.gradle.internal.resource.transport.http.HttpResourceAccessor.getMetaData(HttpResourceAccessor.java:65)\n    at org.gradle.internal.resource.transfer.DefaultExternalResourceConnector.getMetaData(DefaultExternalResourceConnector.java:63)\n    at org.gradle.internal.resource.transfer.AccessorBackedExternalResource.getMetaData(AccessorBackedExternalResource.java:201)\n    at org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator$1.call(BuildOperationFiringExternalResourceDecorator.java:61)\n    at org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator$1.call(BuildOperationFiringExternalResourceDecorator.java:58)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:350)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:340)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:120)\n    at org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator.getMetaData(BuildOperationFiringExternalResourceDecorator.java:58)\n    at org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor$1.create(DefaultCacheAwareExternalResourceAccessor.java:102)\n    at org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor$1.create(DefaultCacheAwareExternalResourceAccessor.java:82)\n    at org.gradle.cache.internal.ProducerGuard$AdaptiveProducerGuard.guardByKey(ProducerGuard.java:97)\n    at org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor.getResource(DefaultCacheAwareExternalResourceAccessor.java:82)\n    at org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver.downloadByCoords(DefaultExternalResourceArtifactResolver.java:138)\n    at org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver.downloadStaticResource(DefaultExternalResourceArtifactResolver.java:98)\n    at org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver.resolveArtifact(DefaultExternalResourceArtifactResolver.java:65)\n    at org.gradle.api.internal.artifacts.repositories.metadata.AbstractRepositoryMetadataSource.parseMetaDataFromArtifact(AbstractRepositoryMetadataSource.java:69)\n    at org.gradle.api.internal.artifacts.repositories.metadata.AbstractRepositoryMetadataSource.create(AbstractRepositoryMetadataSource.java:59)\n    at org.gradle.api.internal.artifacts.repositories.resolver.ExternalResourceResolver.resolveStaticDependency(ExternalResourceResolver.java:199)\n    at org.gradle.api.internal.artifacts.repositories.resolver.MavenResolver.doResolveComponentMetaData(MavenResolver.java:117)\n    at org.gradle.api.internal.artifacts.repositories.resolver.ExternalResourceResolver$RemoteRepositoryAccess.resolveComponentMetaData(ExternalResourceResolver.java:400)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository$ResolveAndCacheRepositoryAccess.resolveComponentMetaData(CachingModuleComponentRepository.java:381)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.resolveComponentMetaData(ErrorHandlingModuleComponentRepository.java:136)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ComponentMetaDataResolveState.process(ComponentMetaDataResolveState.java:66)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ComponentMetaDataResolveState.resolve(ComponentMetaDataResolveState.java:58)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.findBestMatch(RepositoryChainComponentMetaDataResolver.java:138)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.findBestMatch(RepositoryChainComponentMetaDataResolver.java:119)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.resolveModule(RepositoryChainComponentMetaDataResolver.java:92)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.resolve(RepositoryChainComponentMetaDataResolver.java:63)\n    at org.gradle.api.internal.artifacts.query.DefaultArtifactResolutionQuery.buildComponentResult(DefaultArtifactResolutionQuery.java:154)\n    at org.gradle.api.internal.artifacts.query.DefaultArtifactResolutionQuery.createResult(DefaultArtifactResolutionQuery.java:132)\n    at org.gradle.api.internal.artifacts.query.DefaultArtifactResolutionQuery.execute(DefaultArtifactResolutionQuery.java:123)\n    at com.android.build.gradle.internal.ide.ArtifactDependencyGraph.handleSources(ArtifactDependencyGraph.java:668)\n    at com.android.build.gradle.internal.ide.ArtifactDependencyGraph.createDependencies(ArtifactDependencyGraph.java:597)\n    at com.android.build.gradle.internal.ide.ModelBuilder.getDependencies(ModelBuilder.java:545)\n    at com.android.build.gradle.internal.ide.ModelBuilder.createAndroidArtifact(ModelBuilder.java:620)\n    at com.android.build.gradle.internal.ide.ModelBuilder.createVariant(ModelBuilder.java:370)\n    at com.android.build.gradle.internal.ide.ModelBuilder.buildAndroidProject(ModelBuilder.java:316)\n    at com.android.build.gradle.internal.ide.ModelBuilder.buildAll(ModelBuilder.java:176)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:79)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter$2.getModel(InternalBuildActionAdapter.java:77)\n    at org.gradle.tooling.internal.consumer.connection.BuildControllerAdapter.getModel(BuildControllerAdapter.java:62)\n    at org.gradle.tooling.internal.consumer.connection.AbstractBuildController.findModel(AbstractBuildController.java:57)\n    at org.gradle.tooling.internal.consumer.connection.AbstractBuildController.findModel(AbstractBuildController.java:44)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.addExtraProject(ProjectImportAction.java:134)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:76)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:40)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:80)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.buildResult(ClientProvidedBuildActionRunner.java:77)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.access$000(ClientProvidedBuildActionRunner.java:37)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner$1.buildFinished(ClientProvidedBuildActionRunner.java:56)\n    at sun.reflect.GeneratedMethodAccessor156.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.DefaultListenerManager$ListenerDetails.dispatch(DefaultListenerManager.java:370)\n    at org.gradle.internal.event.DefaultListenerManager$ListenerDetails.dispatch(DefaultListenerManager.java:352)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)\n    at org.gradle.internal.event.DefaultListenerManager$EventBroadcast$ListenerDispatch.dispatch(DefaultListenerManager.java:340)\n    at org.gradle.internal.event.DefaultListenerManager$EventBroadcast$ListenerDispatch.dispatch(DefaultListenerManager.java:327)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)\n    at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)\n    at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy17.buildFinished(Unknown Source)\n    at org.gradle.initialization.DefaultGradleLauncher.finishBuild(DefaultGradleLauncher.java:154)\n    at org.gradle.initialization.DefaultGradleLauncher.finishBuild(DefaultGradleLauncher.java:122)\n    at org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:88)\n    at org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:84)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n    at org.gradle.internal.invocation.GradleBuildController.configure(GradleBuildController.java:84)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:64)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\n\n\nCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1964)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:328)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:322)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1614)\n    at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)\n    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:1052)\n    at sun.security.ssl.Handshaker.process_record(Handshaker.java:987)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1072)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1385)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1413)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1397)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:396)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:355)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:373)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performHttpRequest(HttpClientHelper.java:148)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performHttpRequest(HttpClientHelper.java:126)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.executeGetOrHead(HttpClientHelper.java:103)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performRequest(HttpClientHelper.java:94)\n    ... 140 more\n\n\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:397)\n    at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:302)\n    at sun.security.validator.Validator.validate(Validator.java:262)\n    at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1596)\n    ... 162 more\n\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n    at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:392)\n    ... 168 more\n</code></pre>\n<p>My project is building successfully but still would like to fix these errors. Please advice. Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1638873614,"post_id":70258554,"comment_id":124197769,"body_markdown":"Is it not possible to use `toString()`? Define the signature of the your `set` method to take `Object`. And then simply call `.toString()` on the incoming value (with null checks, of course). Eg, `public void setValue(Object o){ if( o!=null ) this.valueStr = o.toString(); }`","body":"Is it not possible to use <code>toString()</code>? Define the signature of the your <code>set</code> method to take <code>Object</code>. And then simply call <code>.toString()</code> on the incoming value (with null checks, of course). Eg, <code>public void setValue(Object o){ if( o!=null ) this.valueStr = o.toString(); }</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638873678,"post_id":70258554,"comment_id":124197800,"body_markdown":"Why use this code at all if you want to use strings?","body":"Why use this code at all if you want to use strings?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1638883493,"post_id":70258554,"comment_id":124201556,"body_markdown":"i want to read values from my table What table?  I dont see any reading of a table in that code.","body":"i want to read values from my table What table?  I dont see any reading of a table in that code."},{"owner":{"account_id":20662456,"reputation":17,"user_id":15170137,"display_name":"codeitforfuture"},"score":0,"creation_date":1638885044,"post_id":70258554,"comment_id":124202329,"body_markdown":"the table is acctually a file input i add in main when i want to test","body":"the table is acctually a file input i add in main when i want to test"},{"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"score":0,"creation_date":1638892687,"post_id":70258554,"comment_id":124205839,"body_markdown":"@codeitforfuture have you tried my answer?","body":"@codeitforfuture have you tried my answer?"}],"answers":[{"tags":[],"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638874015,"creation_date":1638874015,"answer_id":70258770,"question_id":70258554,"body_markdown":"For `BigDecimal` use `toString()`\r\n\r\n    valueStr = value.toString();\r\n\r\nFor `LocalDate` / `LocalDateTime` use `java.time.format.DateTimeFormatter` \r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n    valueStr = value.format(formatter);\r\n\r\nFor more on how to use Date time patterns see [this][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string","title":"read all the values of a table as string","body":"<p>For <code>BigDecimal</code> use <code>toString()</code></p>\n<pre><code>valueStr = value.toString();\n</code></pre>\n<p>For <code>LocalDate</code> / <code>LocalDateTime</code> use <code>java.time.format.DateTimeFormatter</code></p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\nvalueStr = value.format(formatter);\n</code></pre>\n<p>For more on how to use Date time patterns see <a href=\"https://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string\">this</a></p>\n"}],"owner":{"account_id":20662456,"reputation":17,"user_id":15170137,"display_name":"codeitforfuture"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638874015,"creation_date":1638873099,"question_id":70258554,"body_markdown":"i found this code in java that reads the values inside a table, and tells strings from numbers. \r\n\r\ni want to read values from my table considering everything string, including dates .\r\n\r\nhow to edit this code to make it read all as strings \r\n\r\n\r\n\r\n```public class SylkCell {\r\n\r\n\tpublic String valueStr;\r\n\tpublic BigDecimal valueNumber;\r\n\r\n\tpublic String getString() {\r\n\t\treturn valueStr;\r\n\t}\r\n\r\n\tpublic void setNull() {\r\n\t\tvalueNumber = null;\r\n\t\tvalueStr = null;\r\n\t}\r\n\r\n\tpublic void setString(String value) {\r\n\t\tvalueStr = value;\r\n\t\tvalueNumber = null;\r\n\t}\r\n\r\n\tpublic BigDecimal getNumber() {\r\n\t\treturn valueNumber;\r\n\t}\r\n\r\n\tpublic void setNumber(BigDecimal value) {\r\n\t\tvalueStr = null;\r\n\t\tvalueNumber = value;\r\n\t}\r\n\r\n\tpublic LocalDate getDate() {\r\n\t\tif (getNumber() == null)\r\n\t\t\treturn null;\r\n\t\treturn LocalDate.ofEpochDay(((long) getNumber().doubleValue()) - 25569);\r\n\t}\r\n\r\n\tpublic void setDate(LocalDate date) {\r\n\t\tvalueStr = null;\r\n\t\tvalueNumber = BigDecimal.valueOf(date.toEpochDay() + 25569);\r\n\t}\r\n\r\n\tpublic LocalDateTime getDateTime() {\r\n\t\tif (getNumber() == null)\r\n\t\t\treturn null;\r\n\t\treturn LocalDateTime.ofEpochSecond((long) (getNumber().doubleValue() - 25569) * 86400, 0, ZoneOffset.UTC);\r\n\t}\r\n\r\n\tpublic void setDateTime(LocalDateTime dateTime) {\r\n\t\tvalueStr = null;\r\n\t\tvalueNumber = BigDecimal.valueOf(dateTime.toEpochSecond(ZoneOffset.UTC) / 86400. + 25569);\r\n\t}\r\n}\r\n```","title":"read all the values of a table as string","body":"<p>i found this code in java that reads the values inside a table, and tells strings from numbers.</p>\n<p>i want to read values from my table considering everything string, including dates .</p>\n<p>how to edit this code to make it read all as strings</p>\n<pre><code>\n    public String valueStr;\n    public BigDecimal valueNumber;\n\n    public String getString() {\n        return valueStr;\n    }\n\n    public void setNull() {\n        valueNumber = null;\n        valueStr = null;\n    }\n\n    public void setString(String value) {\n        valueStr = value;\n        valueNumber = null;\n    }\n\n    public BigDecimal getNumber() {\n        return valueNumber;\n    }\n\n    public void setNumber(BigDecimal value) {\n        valueStr = null;\n        valueNumber = value;\n    }\n\n    public LocalDate getDate() {\n        if (getNumber() == null)\n            return null;\n        return LocalDate.ofEpochDay(((long) getNumber().doubleValue()) - 25569);\n    }\n\n    public void setDate(LocalDate date) {\n        valueStr = null;\n        valueNumber = BigDecimal.valueOf(date.toEpochDay() + 25569);\n    }\n\n    public LocalDateTime getDateTime() {\n        if (getNumber() == null)\n            return null;\n        return LocalDateTime.ofEpochSecond((long) (getNumber().doubleValue() - 25569) * 86400, 0, ZoneOffset.UTC);\n    }\n\n    public void setDateTime(LocalDateTime dateTime) {\n        valueStr = null;\n        valueNumber = BigDecimal.valueOf(dateTime.toEpochSecond(ZoneOffset.UTC) / 86400. + 25569);\n    }\n}\n</code></pre>\n"},{"tags":["java","elasticsearch","logging","kibana","logback"],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638873688,"creation_date":1638873688,"answer_id":70258693,"question_id":70257938,"body_markdown":"You should create an ingest pipeline using the [`dot_expander` processor](https://www.elastic.co/guide/en/elasticsearch/reference/current/dot-expand-processor.html) in order to transform your dotted field into an object:\r\n\r\n    PUT _inest/pipeline/de-dot\r\n    {\r\n      &quot;processors&quot; : [\r\n        {\r\n          &quot;dot_expander&quot;: {\r\n            &quot;field&quot;: &quot;event.duration&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nThen you need to make sure that your indexing process references this pipeline, i.e. `...?pipeline=de-dot`","title":"How to properly store event.duration field in Elastic?","body":"<p>You should create an ingest pipeline using the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/dot-expand-processor.html\" rel=\"nofollow noreferrer\"><code>dot_expander</code> processor</a> in order to transform your dotted field into an object:</p>\n<pre><code>PUT _inest/pipeline/de-dot\n{\n  &quot;processors&quot; : [\n    {\n      &quot;dot_expander&quot;: {\n        &quot;field&quot;: &quot;event.duration&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Then you need to make sure that your indexing process references this pipeline, i.e. <code>...?pipeline=de-dot</code></p>\n"}],"owner":{"account_id":1412824,"reputation":307,"user_id":1339102,"accept_rate":50,"display_name":"Andrew Sokolov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638873688,"creation_date":1638870569,"question_id":70257938,"body_markdown":"I have a Java service that writes logs in JSON format, they are then picked up by filebeat and sent to Elastic. I would like to be able to set one of the ECS fields (`event.duration`) described [here][1]\r\nI set up a `net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder` encoder, and I set the `event.duration` field in MDC before calling logging method. The output looks like this:\r\n```\r\n{\r\n  &quot;@timestamp&quot;: &quot;2021-12-07T10:41:59.589+01:00&quot;,\r\n  &quot;message&quot;: &quot;message&quot;,\r\n  &quot;event.duration&quot;: &quot;5606000000&quot;,\r\n  &quot;service&quot;: {\r\n    &quot;name&quot;: &quot;logging.application.name_IS_UNDEFINED&quot;,\r\n    &quot;type&quot;: &quot;java&quot;\r\n  },\r\n  &quot;log&quot;: {\r\n    &quot;logger&quot;: &quot;com.demo.Demo&quot;,\r\n    &quot;level&quot;: &quot;WARN&quot;\r\n  },\r\n  &quot;process&quot;: {\r\n    &quot;thread&quot;: {\r\n      &quot;name&quot;: &quot;main&quot;\r\n    }\r\n  },\r\n  &quot;error&quot;: {}\r\n}\r\n```\r\nHowever, in Kibana I see `event.duration` as a JSON inside the `flat` field:\r\n```\r\nflat\r\n{\r\n  &quot;event.duration&quot;: &quot;10051000000&quot;\r\n}\r\n```\r\nHow can I make it on the same level as other ECS fields like `event.name`?\r\n\r\n  [1]: https://www.elastic.co/guide/en/ecs/current/ecs-event.html#field-event-duration","title":"How to properly store event.duration field in Elastic?","body":"<p>I have a Java service that writes logs in JSON format, they are then picked up by filebeat and sent to Elastic. I would like to be able to set one of the ECS fields (<code>event.duration</code>) described <a href=\"https://www.elastic.co/guide/en/ecs/current/ecs-event.html#field-event-duration\" rel=\"nofollow noreferrer\">here</a>\nI set up a <code>net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder</code> encoder, and I set the <code>event.duration</code> field in MDC before calling logging method. The output looks like this:</p>\n<pre><code>{\n  &quot;@timestamp&quot;: &quot;2021-12-07T10:41:59.589+01:00&quot;,\n  &quot;message&quot;: &quot;message&quot;,\n  &quot;event.duration&quot;: &quot;5606000000&quot;,\n  &quot;service&quot;: {\n    &quot;name&quot;: &quot;logging.application.name_IS_UNDEFINED&quot;,\n    &quot;type&quot;: &quot;java&quot;\n  },\n  &quot;log&quot;: {\n    &quot;logger&quot;: &quot;com.demo.Demo&quot;,\n    &quot;level&quot;: &quot;WARN&quot;\n  },\n  &quot;process&quot;: {\n    &quot;thread&quot;: {\n      &quot;name&quot;: &quot;main&quot;\n    }\n  },\n  &quot;error&quot;: {}\n}\n</code></pre>\n<p>However, in Kibana I see <code>event.duration</code> as a JSON inside the <code>flat</code> field:</p>\n<pre><code>flat\n{\n  &quot;event.duration&quot;: &quot;10051000000&quot;\n}\n</code></pre>\n<p>How can I make it on the same level as other ECS fields like <code>event.name</code>?</p>\n"},{"tags":["java","android","curl"],"answers":[{"tags":[],"owner":{"account_id":18391181,"reputation":308,"user_id":13396825,"display_name":"SarangD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638873401,"creation_date":1638873401,"answer_id":70258626,"question_id":70258260,"body_markdown":"For the sake of code reusability, and for conforming to the preferred Android patterns (e.g., MVVM), it is generally accepted practice to use an HTTP library such as [Retrofit][1]. If your case is simple enough, you should be able to map your cURL parameters to the Retrofit  classes and methods easily enough.\r\n\r\nOther options include [Apache HTTPComponents Client][2], [OkHttpClient][3], [AsyncHttpClient][4], [JettyHttpClient][5], and so on.\r\n\r\nIf you wish, you can always use the core Java `HttpUrlConnection` as you&#39;ve included in the example. However, it is good practice to wrap these functions/methods into appropriate classes, interfaces, callbacks, or repositories, as required. (The available libraries manage this overhead for you.)\r\n\r\nIf I&#39;ve not addressed some specific concerns, let me know so that I can build on this answer further.\r\n\r\n**P.S.**: Not including any code here, since the link to any of the docs should be a good starting point.\r\n\r\n\r\n  [1]: https://square.github.io/retrofit/\r\n  [2]: https://hc.apache.org/httpcomponents-client-5.0.x/index.html\r\n  [3]: https://square.github.io/okhttp/\r\n  [4]: https://github.com/AsyncHttpClient/async-http-client\r\n  [5]: https://www.eclipse.org/jetty/documentation/current/http-client.html","title":"Curl scripts in Android","body":"<p>For the sake of code reusability, and for conforming to the preferred Android patterns (e.g., MVVM), it is generally accepted practice to use an HTTP library such as <a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a>. If your case is simple enough, you should be able to map your cURL parameters to the Retrofit  classes and methods easily enough.</p>\n<p>Other options include <a href=\"https://hc.apache.org/httpcomponents-client-5.0.x/index.html\" rel=\"nofollow noreferrer\">Apache HTTPComponents Client</a>, <a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">OkHttpClient</a>, <a href=\"https://github.com/AsyncHttpClient/async-http-client\" rel=\"nofollow noreferrer\">AsyncHttpClient</a>, <a href=\"https://www.eclipse.org/jetty/documentation/current/http-client.html\" rel=\"nofollow noreferrer\">JettyHttpClient</a>, and so on.</p>\n<p>If you wish, you can always use the core Java <code>HttpUrlConnection</code> as you've included in the example. However, it is good practice to wrap these functions/methods into appropriate classes, interfaces, callbacks, or repositories, as required. (The available libraries manage this overhead for you.)</p>\n<p>If I've not addressed some specific concerns, let me know so that I can build on this answer further.</p>\n<p><strong>P.S.</strong>: Not including any code here, since the link to any of the docs should be a good starting point.</p>\n"},{"tags":[],"owner":{"account_id":13518167,"reputation":773,"user_id":9752209,"display_name":"Omkar T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638873593,"creation_date":1638873593,"answer_id":70258668,"question_id":70258260,"body_markdown":"- Add the curl commands to postman via Import &gt; Paste raw\r\n- Export postman collection\r\n- Install this plugin [PostmanToRetrofit2][1]\r\n- &lt;kbd&gt;Right click&lt;/kbd&gt;  &gt; &lt;kbd&gt;Generate&lt;/kbd&gt; &gt; &lt;kbd&gt;Retrofit2Generator&lt;/kbd&gt; &gt; Paste your postman collection &gt; &lt;kbd&gt;OK&lt;/kbd&gt;\r\n\r\n\r\n\r\n  [1]: https://github.com/ShuYiBin/PostmanToRetrofit2","title":"Curl scripts in Android","body":"<ul>\n<li>Add the curl commands to postman via Import &gt; Paste raw</li>\n<li>Export postman collection</li>\n<li>Install this plugin <a href=\"https://github.com/ShuYiBin/PostmanToRetrofit2\" rel=\"nofollow noreferrer\">PostmanToRetrofit2</a></li>\n<li><kbd>Right click</kbd>  &gt; <kbd>Generate</kbd> &gt; <kbd>Retrofit2Generator</kbd> &gt; Paste your postman collection &gt; <kbd>OK</kbd></li>\n</ul>\n"}],"owner":{"account_id":23572745,"reputation":1,"user_id":17612728,"display_name":"Sleepless"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638873593,"creation_date":1638871854,"question_id":70258260,"body_markdown":"I have been provided several curl commands that to use in android.\r\n\r\nThe curl commands are structured like this:\r\n\r\n```\r\ncurl &quot;https://www.website.com/api/a/page&quot; \r\n  -H &quot;Authorization: Bearer API_KEY&quot;\r\n  -H &quot;Content-Type: application/json&quot;\r\n  -X GET\r\n```\r\nI can not figure out how to make use of this in java in Android.\r\n\r\nIf it could be turned into something like:\r\n\r\n```\r\nstringURL = &quot;https://www.website.com/api/a/page&amp;appid=API_KEY&quot;;\r\nURL url = new URL(stringURL);\r\nHttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\nInputStream in = new BufferedInputStream(urlConnection.getInputStream());\r\n```\r\nany help would be appreciated","title":"Curl scripts in Android","body":"<p>I have been provided several curl commands that to use in android.</p>\n<p>The curl commands are structured like this:</p>\n<pre><code>curl &quot;https://www.website.com/api/a/page&quot; \n  -H &quot;Authorization: Bearer API_KEY&quot;\n  -H &quot;Content-Type: application/json&quot;\n  -X GET\n</code></pre>\n<p>I can not figure out how to make use of this in java in Android.</p>\n<p>If it could be turned into something like:</p>\n<pre><code>stringURL = &quot;https://www.website.com/api/a/page&amp;appid=API_KEY&quot;;\nURL url = new URL(stringURL);\nHttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\nInputStream in = new BufferedInputStream(urlConnection.getInputStream());\n</code></pre>\n<p>any help would be appreciated</p>\n"},{"tags":["java","spring","oracle","kotlin","spring-data-r2dbc"],"comments":[{"owner":{"account_id":18858438,"reputation":2538,"user_id":13755857,"display_name":"Shawrup"},"score":0,"creation_date":1630398226,"post_id":68995191,"comment_id":121938255,"body_markdown":"Which oracle version you are using ? Can you show you pom.xml file or build.gradle file?","body":"Which oracle version you are using ? Can you show you pom.xml file or build.gradle file?"},{"owner":{"account_id":18766542,"reputation":115,"user_id":13684273,"display_name":"Xu&#226;n Dng o&#224;n"},"score":0,"creation_date":1630407027,"post_id":68995191,"comment_id":121941933,"body_markdown":"I&#39;ve just updated the gradle file and version of oracle is 11.0.2.4","body":"I&#39;ve just updated the gradle file and version of oracle is 11.0.2.4"},{"owner":{"account_id":18858438,"reputation":2538,"user_id":13755857,"display_name":"Shawrup"},"score":0,"creation_date":1630420841,"post_id":68995191,"comment_id":121948568,"body_markdown":"As per oracle r2dbc github page, you also need &#39;com.oracle.database.jdbc:ojdbc11:21.1.0.0&#39; dependency. Try with this dependency.","body":"As per oracle r2dbc github page, you also need &#39;com.oracle.database.jdbc:ojdbc11:21.1.0.0&#39; dependency. Try with this dependency."},{"owner":{"account_id":18766542,"reputation":115,"user_id":13684273,"display_name":"Xu&#226;n Dng o&#224;n"},"score":0,"creation_date":1630427404,"post_id":68995191,"comment_id":121951394,"body_markdown":"@Shawrup I&#39;ve tried but it still the same. I had updated the code causes that exception.","body":"@Shawrup I&#39;ve tried but it still the same. I had updated the code causes that exception."}],"answers":[{"tags":[],"owner":{"account_id":193369,"reputation":1560,"user_id":3665044,"display_name":"dropbear"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638873311,"creation_date":1634722612,"answer_id":69643624,"question_id":68995191,"body_markdown":"Looks like you yourself [opened a ticket][1] in the Oracle R2DBC Github repo with this exact issue after this question here, and got an answer.\r\n\r\nHelping others having the same question:\r\n\r\nThis is a known limitation of version 0.1.0 of Oracle R2DBC.\r\nIt has been fixed in version 0.2.0, but that version is targeting R2DBC SPI version 0.9, which is currently not supported by Spring Data R2DBC as it hasn&#39;t been released as general availability yet.\r\n\r\nA GA release of R2DBC SPI version 0.9 is [planned for 2021-12-06][2], after this we can expect Spring Data R2DBC to implement support for it, making it possible to upgrade the Oracle R2DBC driver and get rid of this limitation.\r\n\r\n---\r\n\r\n**Edit**: Version 0.9.0.RELEASE of R2DBC SPI [was released][3] yesterday according to plan. Now it&#39;s just a matter of waiting for a new version of Spring Data R2DBC supporting the 0.9 version of R2DBC SPI.\r\n\r\n\r\n  [1]: https://github.com/oracle/oracle-r2dbc/issues/47\r\n  [2]: https://groups.google.com/g/r2dbc/c/SBjSvn6Mxak/m/nA-pcdZVBQAJ\r\n  [3]: https://github.com/r2dbc/r2dbc-spi/releases/tag/v0.9.0.RELEASE","title":"Failed to obtain R2DBC, this publisher does not support multiple subscribers","body":"<p>Looks like you yourself <a href=\"https://github.com/oracle/oracle-r2dbc/issues/47\" rel=\"nofollow noreferrer\">opened a ticket</a> in the Oracle R2DBC Github repo with this exact issue after this question here, and got an answer.</p>\n<p>Helping others having the same question:</p>\n<p>This is a known limitation of version 0.1.0 of Oracle R2DBC.\nIt has been fixed in version 0.2.0, but that version is targeting R2DBC SPI version 0.9, which is currently not supported by Spring Data R2DBC as it hasn't been released as general availability yet.</p>\n<p>A GA release of R2DBC SPI version 0.9 is <a href=\"https://groups.google.com/g/r2dbc/c/SBjSvn6Mxak/m/nA-pcdZVBQAJ\" rel=\"nofollow noreferrer\">planned for 2021-12-06</a>, after this we can expect Spring Data R2DBC to implement support for it, making it possible to upgrade the Oracle R2DBC driver and get rid of this limitation.</p>\n<hr />\n<p><strong>Edit</strong>: Version 0.9.0.RELEASE of R2DBC SPI <a href=\"https://github.com/r2dbc/r2dbc-spi/releases/tag/v0.9.0.RELEASE\" rel=\"nofollow noreferrer\">was released</a> yesterday according to plan. Now it's just a matter of waiting for a new version of Spring Data R2DBC supporting the 0.9 version of R2DBC SPI.</p>\n"}],"owner":{"account_id":18766542,"reputation":115,"user_id":13684273,"display_name":"Xu&#226;n Dng o&#224;n"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1245,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1638873311,"creation_date":1630397938,"question_id":68995191,"body_markdown":"I try to run r2dbc application with spring-boot-starter-data-r2dbc and oracle-r2dbc but it gives me an exception &quot; org.springframework.dao.DataAccessResourceFailureException: Failed to obtain R2DBC Connection; nested exception is java.lang.IllegalStateException: This publisher does not support multiple subscribers&quot;.\r\n\r\nHere is my properties file:\r\n```\r\nspring.r2dbc.url=r2dbc:oracle:thin://localhost:1521:orcl\r\nspring.r2dbc.username=user\r\nspring.r2dbc.password=password\r\n\r\n```\r\nand dependenices part of gradle file:\r\n```\r\ndependencies {\r\n    ktlint &#39;com.pinterest:ktlint:0.41.0&#39;\r\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlinVersion&quot;)\r\n\timplementation(&quot;org.jetbrains.kotlin:kotlin-reflect:$kotlinVersion&quot;)\r\n    implementation(&#39;com.fasterxml.jackson.module:jackson-module-kotlin&#39;)\r\n    implementation(&#39;org.codehaus.janino:janino&#39;)\r\n    implementation(&#39;org.springframework.cloud:spring-cloud-starter-stream-kafka&#39;)\r\n    implementation(&#39;org.springframework.cloud:spring-cloud-stream&#39;)\r\n    implementation(&#39;org.springframework.boot:spring-boot-configuration-processor&#39;)\r\n    implementation(&#39;org.apache.httpcomponents:httpclient:4.5.8&#39;)\r\n    implementation(&#39;org.springframework.retry:spring-retry&#39;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-data-r2dbc&#39;)\r\n    implementation(&#39;com.oracle.database.r2dbc:oracle-r2dbc&#39;)\r\n    implementation(&#39;com.oracle.database.jdbc:ojdbc11:21.1.0.0&#39;)\r\n}\r\n```\r\nHere the part code causes error:\r\n```\r\nmessage.flatMap { fromMessage -&gt;\r\n                Mono\r\n                    .zip(\r\n                        listOf(\r\n                            dimensionAdviserRepository\r\n                                .findFirstByEntityIdOrderByFromDateDescToDateDesc(message.adviserKey)\r\n                                .map { it?.adviserKey ?: -1L }\r\n                                .switchIfEmpty(Mono.just(-1L)),\r\n                            dimensionAccountRepository\r\n                                .findFirstByEntityIdOrderByFromDateDescToDateDesc(fromMessage.accountKey!!)\r\n                                .map { it?.account_key ?: -1L }\r\n                                .switchIfEmpty(Mono.just(-1L))\r\n))}\r\n```\r\nAm I missing any configuration or is this a known limitation?","title":"Failed to obtain R2DBC, this publisher does not support multiple subscribers","body":"<p>I try to run r2dbc application with spring-boot-starter-data-r2dbc and oracle-r2dbc but it gives me an exception &quot; org.springframework.dao.DataAccessResourceFailureException: Failed to obtain R2DBC Connection; nested exception is java.lang.IllegalStateException: This publisher does not support multiple subscribers&quot;.</p>\n<p>Here is my properties file:</p>\n<pre><code>spring.r2dbc.url=r2dbc:oracle:thin://localhost:1521:orcl\nspring.r2dbc.username=user\nspring.r2dbc.password=password\n\n</code></pre>\n<p>and dependenices part of gradle file:</p>\n<pre><code>dependencies {\n    ktlint 'com.pinterest:ktlint:0.41.0'\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlinVersion&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect:$kotlinVersion&quot;)\n    implementation('com.fasterxml.jackson.module:jackson-module-kotlin')\n    implementation('org.codehaus.janino:janino')\n    implementation('org.springframework.cloud:spring-cloud-starter-stream-kafka')\n    implementation('org.springframework.cloud:spring-cloud-stream')\n    implementation('org.springframework.boot:spring-boot-configuration-processor')\n    implementation('org.apache.httpcomponents:httpclient:4.5.8')\n    implementation('org.springframework.retry:spring-retry')\n    implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\n    implementation('org.springframework.boot:spring-boot-starter-data-r2dbc')\n    implementation('com.oracle.database.r2dbc:oracle-r2dbc')\n    implementation('com.oracle.database.jdbc:ojdbc11:21.1.0.0')\n}\n</code></pre>\n<p>Here the part code causes error:</p>\n<pre><code>message.flatMap { fromMessage -&gt;\n                Mono\n                    .zip(\n                        listOf(\n                            dimensionAdviserRepository\n                                .findFirstByEntityIdOrderByFromDateDescToDateDesc(message.adviserKey)\n                                .map { it?.adviserKey ?: -1L }\n                                .switchIfEmpty(Mono.just(-1L)),\n                            dimensionAccountRepository\n                                .findFirstByEntityIdOrderByFromDateDescToDateDesc(fromMessage.accountKey!!)\n                                .map { it?.account_key ?: -1L }\n                                .switchIfEmpty(Mono.just(-1L))\n))}\n</code></pre>\n<p>Am I missing any configuration or is this a known limitation?</p>\n"},{"tags":["java","selenium","maven","automation","testng"],"owner":{"account_id":23370453,"reputation":11,"user_id":17441401,"display_name":"hussainsm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638872785,"creation_date":1637177308,"question_id":70010425,"body_markdown":"I&#39;m working on a Java-Selenium based Automation project where I have to run the tests on Google chrome. I don&#39;t want to have the binary executable file in the project folder. I know we can use Webdriver Manager(io.github.bonigarcia) dependency, but it is not allowed in our org. We are using Nexus repository to get the dependencies. So, is there any way to get OS compatible(such as windows, linux) and latest version of chrome driver from nexus repository? \r\n\r\nThanks in advance.","title":"Is there any way to get chrome driver executable file from nexus repository using maven for Automation project?","body":"<p>I'm working on a Java-Selenium based Automation project where I have to run the tests on Google chrome. I don't want to have the binary executable file in the project folder. I know we can use Webdriver Manager(io.github.bonigarcia) dependency, but it is not allowed in our org. We are using Nexus repository to get the dependencies. So, is there any way to get OS compatible(such as windows, linux) and latest version of chrome driver from nexus repository?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","node.js","crypt","diffie-hellman"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1638857762,"post_id":70253753,"comment_id":124192675,"body_markdown":"`Mg==` is not the base64 of the number 2 (which is the generator you used in Java); it is the base64 of the number 50, which is the ASCII-and-later code of the _character_ `2`. For the number 2 use `Ag==`. With that change it looks like it works to me; if you think there is another problem you should state clearly (in your Q) what you expect and how this differs.","body":"<code>Mg==</code> is not the base64 of the number 2 (which is the generator you used in Java); it is the base64 of the number 50, which is the ASCII-and-later code of the <i>character</i> <code>2</code>. For the number 2 use <code>Ag==</code>. With that change it looks like it works to me; if you think there is another problem you should state clearly (in your Q) what you expect and how this differs."},{"owner":{"account_id":10976415,"reputation":1,"user_id":8064967,"display_name":" "},"score":0,"creation_date":1638872485,"post_id":70253753,"comment_id":124197326,"body_markdown":"@dave_thompson_085 thanks i&#39;m edited the code, please check it, that&#39;s give me another result and not like java, Are &#39;key&#39; and &#39;prime&#39; used correctly in their places?","body":"@dave_thompson_085 thanks i&#39;m edited the code, please check it, that&#39;s give me another result and not like java, Are &#39;key&#39; and &#39;prime&#39; used correctly in their places?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1638951783,"post_id":70253753,"comment_id":124221479,"body_markdown":"Define &#39;like&#39;. Both your Java and nodejs code use ephemeral keypairs for local (and a static public key for remote), so every time you run _either_ of them you get a different local key and resulting secret. Two runs of Java are different; two runs of nodejs are different; a run of Java and a run of nodejs are different. But your modified nodejs code no longer uses the same values for p and (other)key as the Java, so they won&#39;t interoperate with the same peer. You are now using the characters of the decimal string, which makes no sense, and won&#39;t even be the same size, and likely not prime.","body":"Define &#39;like&#39;. Both your Java and nodejs code use ephemeral keypairs for local (and a static public key for remote), so every time you run <i>either</i> of them you get a different local key and resulting secret. Two runs of Java are different; two runs of nodejs are different; a run of Java and a run of nodejs are different. But your modified nodejs code no longer uses the same values for p and (other)key as the Java, so they won&#39;t interoperate with the same peer. You are now using the characters of the decimal string, which makes no sense, and won&#39;t even be the same size, and likely not prime."}],"owner":{"account_id":10976415,"reputation":1,"user_id":8064967,"display_name":" "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638872286,"creation_date":1638838829,"question_id":70253753,"body_markdown":"I&#39;m trying to simulate java Diffie Hellman codes in Node.JS\r\nin java code I have &#39;key&#39; and &#39;prime&#39;\r\nbut I&#39;m don&#39;t know how to use this values in Node.js code\r\n\r\n\r\nJava :\r\n\r\n    private static byte[] getSharedSecretKey() {\r\n    try {\r\n            String key = &quot;OoJcHg4+2ady0ULZJGFWK0giozYA9Je0Aacu1q9ElbU=&quot;;\r\n            String prime = &quot;qYsHeFZ0HlCU+Bnk3zmmtQr+ZkIkux8M/EQVSvzXFZs=&quot;;\r\n            KeyPair generateKeyPair;\r\n            DHParameterSpec dHParameterSpec = new DHParameterSpec(new BigInteger(1, Base64.decode(prime,2)), BigInteger.valueOf(2));\r\n            KeyPairGenerator instance = KeyPairGenerator.getInstance(&quot;DiffieHellman&quot;);\r\n            instance.initialize(dHParameterSpec);\r\n            generateKeyPair = instance.generateKeyPair();\r\n            KeyAgreement keyAgreement = KeyAgreement.getInstance(&quot;DiffieHellman&quot;);\r\n            PrivateKey privateKey = generateKeyPair.getPrivate();\r\n\r\n            keyAgreement.init(privateKey);\r\n\r\n            String encodeToString3 = Base64.encodeToString(((DHPublicKey) generateKeyPair.getPublic()).getY().toByteArray(), 2);\r\n            Log.i(&quot;pooya2&quot;,encodeToString3);\r\n\t\t\t\r\n\r\n            PublicKey generatePublic = KeyFactory.getInstance(&quot;DiffieHellman&quot;).generatePublic(new DHPublicKeySpec(new BigInteger(1, Base64.decode(key,2)), new BigInteger(1, Base64.decode(prime,2)), BigInteger.valueOf(2)));\r\n            keyAgreement.doPhase(generatePublic, true);\r\n            byte[] bArr = keyAgreement.generateSecret();\r\n            return bArr;\r\n        }catch (Exception e)\r\n        {\r\n            return null;\r\n        }\r\n    }\r\n\r\nNode.js :\r\n\r\n    const crypto = require(&#39;crypto&#39;);\r\n   \r\n    var p =&quot;76686514709098868078547561269724999506546756740829312045036485484543791797659&quot;;\r\n    var key =&quot;26464471107213172395531456221994106144264598183422226468709095454165464028597&quot;;\r\n    var g= 2;\r\n\r\n    let diffiehellmangrp1 = crypto.createDiffieHellman(Buffer.from(p,).toString(&quot;hex&quot;),&quot;hex&quot;,2);\r\n    let diffiehellmangrp2 = crypto.createDiffieHellman(Buffer.from(p,).toString(&quot;hex&quot;),&quot;hex&quot;,2);\r\n    // Generating keys\r\n    let alicePublicKey = diffiehellmangrp1.generateKeys();\r\n    let bobPublicKey = diffiehellmangrp2.generateKeys();\r\n    console.log(&quot;alicePublicKey&quot;, new Buffer(alicePublicKey).toString(&#39;base64&#39;));\r\n    console.log(&quot;bobPublicKey&quot;, new Buffer(bobPublicKey).toString(&#39;base64&#39;));\r\n\r\n    // Computing secret\r\n    const diffiehellmangrp1sc = diffiehellmangrp1 .computeSecret(Buffer.from(key,).toString(&quot;hex&quot;), &#39;hex&#39;, &#39;base64&#39;);\r\n    console.log(&quot;aliceKey&quot;, diffiehellmangrp1sc);\r\n   \r\n    const diffiehellmangrp2sc = diffiehellmangrp2 .computeSecret(Buffer.from(key,).toString(&quot;hex&quot;), &#39;hex&#39;, &#39;base64&#39;);\r\n    console.log(&quot;bobKey&quot;, diffiehellmangrp2sc);\r\n\r\nAre &#39;key&#39; and &#39;prime&#39; used correctly in their places?\r\nthats give me another result and not like java","title":"Diffie-Hellman algorithm between java and Node.js","body":"<p>I'm trying to simulate java Diffie Hellman codes in Node.JS\nin java code I have 'key' and 'prime'\nbut I'm don't know how to use this values in Node.js code</p>\n<p>Java :</p>\n<pre><code>private static byte[] getSharedSecretKey() {\ntry {\n        String key = &quot;OoJcHg4+2ady0ULZJGFWK0giozYA9Je0Aacu1q9ElbU=&quot;;\n        String prime = &quot;qYsHeFZ0HlCU+Bnk3zmmtQr+ZkIkux8M/EQVSvzXFZs=&quot;;\n        KeyPair generateKeyPair;\n        DHParameterSpec dHParameterSpec = new DHParameterSpec(new BigInteger(1, Base64.decode(prime,2)), BigInteger.valueOf(2));\n        KeyPairGenerator instance = KeyPairGenerator.getInstance(&quot;DiffieHellman&quot;);\n        instance.initialize(dHParameterSpec);\n        generateKeyPair = instance.generateKeyPair();\n        KeyAgreement keyAgreement = KeyAgreement.getInstance(&quot;DiffieHellman&quot;);\n        PrivateKey privateKey = generateKeyPair.getPrivate();\n\n        keyAgreement.init(privateKey);\n\n        String encodeToString3 = Base64.encodeToString(((DHPublicKey) generateKeyPair.getPublic()).getY().toByteArray(), 2);\n        Log.i(&quot;pooya2&quot;,encodeToString3);\n        \n\n        PublicKey generatePublic = KeyFactory.getInstance(&quot;DiffieHellman&quot;).generatePublic(new DHPublicKeySpec(new BigInteger(1, Base64.decode(key,2)), new BigInteger(1, Base64.decode(prime,2)), BigInteger.valueOf(2)));\n        keyAgreement.doPhase(generatePublic, true);\n        byte[] bArr = keyAgreement.generateSecret();\n        return bArr;\n    }catch (Exception e)\n    {\n        return null;\n    }\n}\n</code></pre>\n<p>Node.js :</p>\n<pre><code>const crypto = require('crypto');\n\nvar p =&quot;76686514709098868078547561269724999506546756740829312045036485484543791797659&quot;;\nvar key =&quot;26464471107213172395531456221994106144264598183422226468709095454165464028597&quot;;\nvar g= 2;\n\nlet diffiehellmangrp1 = crypto.createDiffieHellman(Buffer.from(p,).toString(&quot;hex&quot;),&quot;hex&quot;,2);\nlet diffiehellmangrp2 = crypto.createDiffieHellman(Buffer.from(p,).toString(&quot;hex&quot;),&quot;hex&quot;,2);\n// Generating keys\nlet alicePublicKey = diffiehellmangrp1.generateKeys();\nlet bobPublicKey = diffiehellmangrp2.generateKeys();\nconsole.log(&quot;alicePublicKey&quot;, new Buffer(alicePublicKey).toString('base64'));\nconsole.log(&quot;bobPublicKey&quot;, new Buffer(bobPublicKey).toString('base64'));\n\n// Computing secret\nconst diffiehellmangrp1sc = diffiehellmangrp1 .computeSecret(Buffer.from(key,).toString(&quot;hex&quot;), 'hex', 'base64');\nconsole.log(&quot;aliceKey&quot;, diffiehellmangrp1sc);\n\nconst diffiehellmangrp2sc = diffiehellmangrp2 .computeSecret(Buffer.from(key,).toString(&quot;hex&quot;), 'hex', 'base64');\nconsole.log(&quot;bobKey&quot;, diffiehellmangrp2sc);\n</code></pre>\n<p>Are 'key' and 'prime' used correctly in their places?\nthats give me another result and not like java</p>\n"},{"tags":["java","type-conversion"],"answers":[{"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1539832618,"creation_date":1539832618,"answer_id":52866492,"question_id":52866479,"body_markdown":"`4.0` isn&#39;t a long value It&#39;s a double, Try `Double.parseDouble(a)`","title":"JAVA - Converstion String (With dot) to Long","body":"<p><code>4.0</code> isn't a long value It's a double, Try <code>Double.parseDouble(a)</code></p>\n"},{"tags":[],"owner":{"account_id":2064196,"reputation":1249,"user_id":1840078,"display_name":"Mark A. Fitzgerald"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539832953,"creation_date":1539832953,"answer_id":52866538,"question_id":52866479,"body_markdown":"You are attempting to covert a string with an unsupported character, `.`, into a `Long`. This is not supported by https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#parseLong(java.lang.String). Try `Long l = Double.valueOf(a).longValue();`: https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#valueOf(java.lang.String).","title":"JAVA - Converstion String (With dot) to Long","body":"<p>You are attempting to covert a string with an unsupported character, <code>.</code>, into a <code>Long</code>. This is not supported by <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#parseLong(java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#parseLong(java.lang.String)</a>. Try <code>Long l = Double.valueOf(a).longValue();</code>: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#valueOf(java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#valueOf(java.lang.String)</a>.</p>\n"},{"tags":[],"owner":{"account_id":8158330,"reputation":19,"user_id":7772488,"display_name":"Kavya"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1539833480,"creation_date":1539833480,"answer_id":52866604,"question_id":52866479,"body_markdown":"You can also use Double.valueOf(a)\r\n\r\nDouble.parseDouble(String) will return a primitive double type. \r\nDouble.valueOf(String) will return a wrapper object of type Double.\r\n\r\nDepending on your need you can use one of teh above\r\n","title":"JAVA - Converstion String (With dot) to Long","body":"<p>You can also use Double.valueOf(a)</p>\n\n<p>Double.parseDouble(String) will return a primitive double type. \nDouble.valueOf(String) will return a wrapper object of type Double.</p>\n\n<p>Depending on your need you can use one of teh above</p>\n"},{"tags":[],"owner":{"account_id":14567533,"reputation":11,"user_id":10521758,"display_name":"JackForst"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1539834531,"creation_date":1539834531,"answer_id":52866732,"question_id":52866479,"body_markdown":"Ur code String a = &quot;4.0&quot;;\r\nStr a isnt Long,It&#39;s Double,\r\nif U want to converstion to Long, U need to converstion Double.type first.\r\nU should :\r\n  Double d = Double.valueOf(a);\r\n  then \r\n  Long re = d.longValue() or use Ur method Long re = d.toLong\r\n re is final result.","title":"JAVA - Converstion String (With dot) to Long","body":"<p>Ur code String a = \"4.0\";\nStr a isnt Long,It's Double,\nif U want to converstion to Long, U need to converstion Double.type first.\nU should :\n  Double d = Double.valueOf(a);\n  then \n  Long re = d.longValue() or use Ur method Long re = d.toLong\n re is final result.</p>\n"},{"tags":[],"owner":{"account_id":6185837,"reputation":473,"user_id":4819978,"display_name":"pwipo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638872179,"creation_date":1638736349,"answer_id":70238306,"question_id":52866479,"body_markdown":"works for me:\r\n\r\n    !a.contains(&quot;.&quot;) ? Long.parseLong(a) : (long) Double.parseDouble(a)","title":"JAVA - Converstion String (With dot) to Long","body":"<p>works for me:</p>\n<pre><code>!a.contains(&quot;.&quot;) ? Long.parseLong(a) : (long) Double.parseDouble(a)\n</code></pre>\n"}],"owner":{"account_id":1987031,"reputation":690,"user_id":1781950,"display_name":"fahrizal89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1463,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52866492,"answer_count":5,"score":2,"last_activity_date":1638872179,"creation_date":1539832530,"question_id":52866479,"body_markdown":"I have problem about convertion from string to long value. Example :\r\n\r\n    String a = &quot;4.0&quot;;\r\n\tLong l= Long.parseLong(a);\r\n\r\nWhen I execute, get exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;4.0&quot;\r\n\tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n\tat java.lang.Long.parseLong(Long.java:589)\r\n\tat java.lang.Long.parseLong(Long.java:631)\r\n\tat com.tests.Test2.main(Test2.java:69)\r\n\r\nAny idea?\r\nThanks!","title":"JAVA - Converstion String (With dot) to Long","body":"<p>I have problem about convertion from string to long value. Example :</p>\n\n<pre><code>String a = \"4.0\";\nLong l= Long.parseLong(a);\n</code></pre>\n\n<p>When I execute, get exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NumberFormatException: For input string: \"4.0\"\nat java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\nat java.lang.Long.parseLong(Long.java:589)\nat java.lang.Long.parseLong(Long.java:631)\nat com.tests.Test2.main(Test2.java:69)\n</code></pre>\n\n<p>Any idea?\nThanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user1196549"},"score":1,"creation_date":1638872358,"post_id":70258333,"comment_id":124197285,"body_markdown":"You can&#39;t do this, because all letters are translated to their ascii values, and you can&#39;t distinguish between &#39;D&#39; and 68. (But if your integers are &lt; 127, you can encode them as negatives).","body":"You can&#39;t do this, because all letters are translated to their ascii values, and you can&#39;t distinguish between &#39;D&#39; and 68. (But if your integers are &lt; 127, you can encode them as negatives)."},{"owner":{"account_id":7132908,"reputation":189,"user_id":5453550,"display_name":"NLxDoDge"},"score":0,"creation_date":1638880628,"post_id":70258333,"comment_id":124200407,"body_markdown":"You could change `byte letter[]={&#39;h&#39;,&#39;e&#39;,&#39;l&#39;,68,&#39;l&#39;,&#39;o&#39;,1,2};` to a `List&lt;String&gt;` that would hold both numbers and characters. So if you don&#39;t care about the type of letter then that should work: `List&lt;String&gt; letter = List.of(&quot;h&quot;, &quot;e&quot;, &quot;l&quot;,&quot;68&quot;, &quot;l&quot;, &quot;o&quot;, &quot;1&quot;, &quot;2&quot;)` as in your example.","body":"You could change <code>byte letter[]={&#39;h&#39;,&#39;e&#39;,&#39;l&#39;,68,&#39;l&#39;,&#39;o&#39;,1,2};</code> to a <code>List&lt;String&gt;</code> that would hold both numbers and characters. So if you don&#39;t care about the type of letter then that should work: <code>List&lt;String&gt; letter = List.of(&quot;h&quot;, &quot;e&quot;, &quot;l&quot;,&quot;68&quot;, &quot;l&quot;, &quot;o&quot;, &quot;1&quot;, &quot;2&quot;)</code> as in your example."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1638883641,"post_id":70258333,"comment_id":124201627,"body_markdown":"Both your title and your code are confusing.  Do you want to read from a file, or do you want to read from System.in?  Why are you trying to do both?","body":"Both your title and your code are confusing.  Do you want to read from a file, or do you want to read from System.in?  Why are you trying to do both?"}],"owner":{"account_id":23572968,"reputation":21,"user_id":17612925,"display_name":"Shubham J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1638872137,"creation_date":1638872137,"question_id":70258333,"body_markdown":"I&#39;ve been looking for a way to print integers from a file which is supposed to have both integer and characters. I stored the integers and characters in an array called byte. I haven&#39;t been able to print the integers alone, as the ASCII value of all the characters is printed. Is there any way to get around this?\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\nclass readint\r\n{\r\n    public static void main()throws IOException\r\n    {\r\n        Scanner sc=new Scanner(System.in);\r\n        byte letter[]={&#39;h&#39;,&#39;e&#39;,&#39;l&#39;,68,&#39;l&#39;,&#39;o&#39;,1,2};\r\n        FileOutputStream fout=new FileOutputStream(&quot;Integer.txt&quot;);\r\n        fout.write(letter);\r\n        FileInputStream fin=new FileInputStream(&quot;Integer.txt&quot;);\r\n        int p;\r\n        String str=&quot;&quot;;\r\n        System.out.println(sc.next());\r\n        boolean b;\r\n        while((p=fin.read())!=-1 &amp;&amp; (b=sc.hasNextInt())==true)\r\n        {\r\n            System.out.print(p+&quot; &quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Can I read integers from a file that has both characters and integers from a byte array?","body":"<p>I've been looking for a way to print integers from a file which is supposed to have both integer and characters. I stored the integers and characters in an array called byte. I haven't been able to print the integers alone, as the ASCII value of all the characters is printed. Is there any way to get around this?</p>\n<pre><code>import java.util.*;\nimport java.io.*;\nclass readint\n{\n    public static void main()throws IOException\n    {\n        Scanner sc=new Scanner(System.in);\n        byte letter[]={'h','e','l',68,'l','o',1,2};\n        FileOutputStream fout=new FileOutputStream(&quot;Integer.txt&quot;);\n        fout.write(letter);\n        FileInputStream fin=new FileInputStream(&quot;Integer.txt&quot;);\n        int p;\n        String str=&quot;&quot;;\n        System.out.println(sc.next());\n        boolean b;\n        while((p=fin.read())!=-1 &amp;&amp; (b=sc.hasNextInt())==true)\n        {\n            System.out.print(p+&quot; &quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","reflection"],"comments":[{"owner":{"account_id":71316,"reputation":34203,"user_id":206367,"accept_rate":93,"display_name":"t0mm13b"},"score":0,"creation_date":1377166665,"post_id":18377516,"comment_id":26986098,"body_markdown":"Have you looked at [this](http://stackoverflow.com/questions/5679254/all-super-classes-of-a-class)?","body":"Have you looked at <a href=\"http://stackoverflow.com/questions/5679254/all-super-classes-of-a-class\">this</a>?"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1377166869,"post_id":18377516,"comment_id":26986209,"body_markdown":"@t0mm13b. That&#39;s about super classes, not subclasses.","body":"@t0mm13b. That&#39;s about super classes, not subclasses."},{"owner":{"account_id":71316,"reputation":34203,"user_id":206367,"accept_rate":93,"display_name":"t0mm13b"},"score":0,"creation_date":1377166955,"post_id":18377516,"comment_id":26986244,"body_markdown":"@RohitJain then why is the OP&#39;s code referring to `SuperClass.Class`?","body":"@RohitJain then why is the OP&#39;s code referring to <code>SuperClass.Class</code>?"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1377167010,"post_id":18377516,"comment_id":26986278,"body_markdown":"@t0mm13b. Perhaps, he wants all the subclasses of the `SuperClass` in the wildcard bound.","body":"@t0mm13b. Perhaps, he wants all the subclasses of the <code>SuperClass</code> in the wildcard bound."},{"owner":{"account_id":71316,"reputation":34203,"user_id":206367,"accept_rate":93,"display_name":"t0mm13b"},"score":0,"creation_date":1377167210,"post_id":18377516,"comment_id":26986404,"body_markdown":"@RohitJain Maybe... yeah that could be what the OP&#39;s intention was,","body":"@RohitJain Maybe... yeah that could be what the OP&#39;s intention was,"},{"owner":{"account_id":892119,"reputation":4973,"user_id":930171,"accept_rate":52,"display_name":"Ivelius"},"score":0,"creation_date":1377167858,"post_id":18377516,"comment_id":26986786,"body_markdown":"I need all SUB types , not SUPER type...","body":"I need all SUB types , not SUPER type..."}],"answers":[{"tags":[],"owner":{"account_id":83027,"reputation":8345,"user_id":233048,"accept_rate":73,"display_name":"mach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377167810,"creation_date":1377167810,"answer_id":18378108,"question_id":18377516,"body_markdown":"This might not work due to the compilation process used in Android. The source code is converted into .class files with the Java compiler. The next step turns the .class files into Android .dex files (Dalvik bytecode) and they are unlikely to keep all meta-data. \r\n\r\nhttp://developer.android.com/tools/building/index.html","title":"Find All Subclasses of a given class (Android)","body":"<p>This might not work due to the compilation process used in Android. The source code is converted into .class files with the Java compiler. The next step turns the .class files into Android .dex files (Dalvik bytecode) and they are unlikely to keep all meta-data. </p>\n\n<p><a href=\"http://developer.android.com/tools/building/index.html\" rel=\"nofollow\">http://developer.android.com/tools/building/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":3229433,"reputation":3236,"user_id":2725031,"display_name":"Marcin o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377697073,"creation_date":1377697073,"answer_id":18489540,"question_id":18377516,"body_markdown":"There is an official API for dealing with dex files. See [here][1] for details. Basically, given path of the .dex file, you can enumerate all the files inside it. To get the URL of the `classes.dex`, you can use \r\n\r\n      Thread.currentThread().getContextClassLoader().getResource(&quot;classes.dex&quot;)\r\n\r\n(you may need to cut the trailing `&quot;!/classes.dex&quot;`, can&#39;t check it right now). Then, you can iterate over the classes.dex contents and attempt to load all the classes you find this way. (`Class.forName`), and, finally, check whatever class properties you need. Keep in mind, however, that `classes.dex` contains **all** the classes, and &quot;all&quot; can be &quot;quite a lot&quot;. There are also other performance issues to remember when dealing with .dex files. You should, however, be fine, as long as you don&#39;t attempt something needlessly inefficient. Especially since Reflections accomplishes its magic in a similar manner, as far as I remamber.\r\n\r\n  [1]: http://developer.android.com/reference/dalvik/system/DexFile.html","title":"Find All Subclasses of a given class (Android)","body":"<p>There is an official API for dealing with dex files. See <a href=\"http://developer.android.com/reference/dalvik/system/DexFile.html\" rel=\"nofollow\">here</a> for details. Basically, given path of the .dex file, you can enumerate all the files inside it. To get the URL of the <code>classes.dex</code>, you can use </p>\n\n<pre><code>  Thread.currentThread().getContextClassLoader().getResource(\"classes.dex\")\n</code></pre>\n\n<p>(you may need to cut the trailing <code>\"!/classes.dex\"</code>, can't check it right now). Then, you can iterate over the classes.dex contents and attempt to load all the classes you find this way. (<code>Class.forName</code>), and, finally, check whatever class properties you need. Keep in mind, however, that <code>classes.dex</code> contains <strong>all</strong> the classes, and \"all\" can be \"quite a lot\". There are also other performance issues to remember when dealing with .dex files. You should, however, be fine, as long as you don't attempt something needlessly inefficient. Especially since Reflections accomplishes its magic in a similar manner, as far as I remamber.</p>\n"},{"tags":[],"owner":{"account_id":1792337,"reputation":1159,"user_id":1632448,"display_name":"fantouch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435402468,"creation_date":1435402468,"answer_id":31087947,"question_id":18377516,"body_markdown":"maybe you can try this:\r\n\r\n    public abstract class ClassScanner {\r\n\r\n        private static final String TAG = &quot;ClassScanner&quot;; \r\n        private Context mContext;\r\n\r\n        public ClassScanner(Context context) {\r\n            mContext = context;\r\n        }\r\n\r\n        public Context getContext() {\r\n            return mContext;\r\n        }\r\n\r\n        void scan() throws IOException, ClassNotFoundException, NoSuchMethodException {\r\n            long timeBegin = System.currentTimeMillis();\r\n\r\n            PathClassLoader classLoader = (PathClassLoader) getContext().getClassLoader();\r\n            //PathClassLoader classLoader = (PathClassLoader) Thread.currentThread().getContextClassLoader();//This also works good\r\n            DexFile dexFile = new DexFile(getContext().getPackageCodePath());\r\n            Enumeration&lt;String&gt; classNames = dexFile.entries();\r\n            while (classNames.hasMoreElements()) {\r\n                String className = classNames.nextElement();\r\n                if (isTargetClassName(className)) {\r\n                    //Class&lt;?&gt; aClass = Class.forName(className);//java.lang.ExceptionInInitializerError\r\n                    //Class&lt;?&gt; aClass = Class.forName(className, false, classLoader);//tested on Note(M463C)_Android4.4.4 and Mi2s_Android5.1.1\r\n                    Class&lt;?&gt; aClass = classLoader.loadClass(className);//tested on Note(M463C)_Android4.4.4 and Mi2s_Android5.1.1\r\n                    if (isTargetClass(aClass)) {\r\n                        onScanResult(aClass);\r\n                    }\r\n                }\r\n            }\r\n\r\n            long timeEnd = System.currentTimeMillis();\r\n            long timeElapsed = timeEnd - timeBegin;\r\n            Log.d(TAG, &quot;scan() cost &quot; + timeElapsed + &quot;ms&quot;);\r\n        }\r\n\r\n        protected abstract boolean isTargetClassName(String className);\r\n\r\n        protected abstract boolean isTargetClass(Class clazz);\r\n\r\n        protected abstract void onScanResult(Class clazz);\r\n    }\r\n\r\nand this is a example how to use:\r\n\r\n        new ClassScanner(context) {\r\n\r\n        @Override\r\n        protected boolean isTargetClassName(String className) {\r\n            return className.startsWith(getContext().getPackageName())//I want classes under my package\r\n                    &amp;&amp; !className.contains(&quot;$&quot;);//I don&#39;t need none-static inner classes\r\n        }\r\n\r\n        @Override\r\n        protected boolean isTargetClass(Class clazz) {\r\n            return AbsFactory.class.isAssignableFrom(clazz)//I want subclasses of AbsFactory\r\n                    &amp;&amp; !Modifier.isAbstract(clazz.getModifiers());//I don&#39;t want abstract classes\r\n        }\r\n\r\n        @Override\r\n        protected void onScanResult(Class clazz) {\r\n            Constructor constructor = null;\r\n            try {\r\n                constructor = clazz.getDeclaredConstructor();\r\n                constructor.setAccessible(true);\r\n                constructor.newInstance();\r\n            } catch (NoSuchMethodException e) {\r\n                e.printStackTrace();\r\n            } catch (InstantiationException e) {\r\n                e.printStackTrace();\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            } catch (InvocationTargetException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }.scan();","title":"Find All Subclasses of a given class (Android)","body":"<p>maybe you can try this:</p>\n\n<pre><code>public abstract class ClassScanner {\n\n    private static final String TAG = \"ClassScanner\"; \n    private Context mContext;\n\n    public ClassScanner(Context context) {\n        mContext = context;\n    }\n\n    public Context getContext() {\n        return mContext;\n    }\n\n    void scan() throws IOException, ClassNotFoundException, NoSuchMethodException {\n        long timeBegin = System.currentTimeMillis();\n\n        PathClassLoader classLoader = (PathClassLoader) getContext().getClassLoader();\n        //PathClassLoader classLoader = (PathClassLoader) Thread.currentThread().getContextClassLoader();//This also works good\n        DexFile dexFile = new DexFile(getContext().getPackageCodePath());\n        Enumeration&lt;String&gt; classNames = dexFile.entries();\n        while (classNames.hasMoreElements()) {\n            String className = classNames.nextElement();\n            if (isTargetClassName(className)) {\n                //Class&lt;?&gt; aClass = Class.forName(className);//java.lang.ExceptionInInitializerError\n                //Class&lt;?&gt; aClass = Class.forName(className, false, classLoader);//tested on Note(M463C)_Android4.4.4 and Mi2s_Android5.1.1\n                Class&lt;?&gt; aClass = classLoader.loadClass(className);//tested on Note(M463C)_Android4.4.4 and Mi2s_Android5.1.1\n                if (isTargetClass(aClass)) {\n                    onScanResult(aClass);\n                }\n            }\n        }\n\n        long timeEnd = System.currentTimeMillis();\n        long timeElapsed = timeEnd - timeBegin;\n        Log.d(TAG, \"scan() cost \" + timeElapsed + \"ms\");\n    }\n\n    protected abstract boolean isTargetClassName(String className);\n\n    protected abstract boolean isTargetClass(Class clazz);\n\n    protected abstract void onScanResult(Class clazz);\n}\n</code></pre>\n\n<p>and this is a example how to use:</p>\n\n<pre><code>    new ClassScanner(context) {\n\n    @Override\n    protected boolean isTargetClassName(String className) {\n        return className.startsWith(getContext().getPackageName())//I want classes under my package\n                &amp;&amp; !className.contains(\"$\");//I don't need none-static inner classes\n    }\n\n    @Override\n    protected boolean isTargetClass(Class clazz) {\n        return AbsFactory.class.isAssignableFrom(clazz)//I want subclasses of AbsFactory\n                &amp;&amp; !Modifier.isAbstract(clazz.getModifiers());//I don't want abstract classes\n    }\n\n    @Override\n    protected void onScanResult(Class clazz) {\n        Constructor constructor = null;\n        try {\n            constructor = clazz.getDeclaredConstructor();\n            constructor.setAccessible(true);\n            constructor.newInstance();\n        } catch (NoSuchMethodException e) {\n            e.printStackTrace();\n        } catch (InstantiationException e) {\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        } catch (InvocationTargetException e) {\n            e.printStackTrace();\n        }\n    }\n\n}.scan();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11643195,"reputation":652,"user_id":8526957,"display_name":"Sam Sch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522070551,"creation_date":1522070551,"answer_id":49492538,"question_id":18377516,"body_markdown":"Here&#39;s my one-method-solution based on fantouch&#39;s answer.\r\n&lt;br&gt;Result will also contain inderect descendants. \r\n\r\n\tpublic class Utils\r\n\t{\r\n\t\t// ...\r\n\t\t\r\n\t\tpublic static ArrayList&lt;Class&gt; GetSubClasses( Context context, String packageName, Class targetSuperClass )\r\n\t\t{\r\n\t\t\tArrayList&lt;Class&gt; subClasses = new ArrayList&lt;&gt;();\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tDexFile dex = new DexFile( context.getPackageCodePath() );\r\n\t\t\t\tfor ( Enumeration&lt;String&gt; iterator = dex.entries(); iterator.hasMoreElements(); )\r\n\t\t\t\t{\r\n\t\t\t\t\tString className = iterator.nextElement();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( !className.startsWith( packageName ) || className.contains(&quot;$&quot;) )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tClass classObj = Class.forName( className );\r\n\t\t\t\t\t\r\n\t\t\t\t\tClass superClass = classObj;\r\n\t\t\t\t\twhile ( true )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsuperClass = superClass.getSuperclass();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( superClass == null || superClass == Object.class )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( superClass == targetSuperClass )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tsubClasses.add( classObj );\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch ( Exception e )\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn subClasses;\r\n\t\t}\r\n\t}","title":"Find All Subclasses of a given class (Android)","body":"<p>Here's my one-method-solution based on fantouch's answer.\n<br>Result will also contain inderect descendants. </p>\n\n<pre><code>public class Utils\n{\n    // ...\n\n    public static ArrayList&lt;Class&gt; GetSubClasses( Context context, String packageName, Class targetSuperClass )\n    {\n        ArrayList&lt;Class&gt; subClasses = new ArrayList&lt;&gt;();\n\n        try\n        {\n            DexFile dex = new DexFile( context.getPackageCodePath() );\n            for ( Enumeration&lt;String&gt; iterator = dex.entries(); iterator.hasMoreElements(); )\n            {\n                String className = iterator.nextElement();\n\n                if ( !className.startsWith( packageName ) || className.contains(\"$\") )\n                {\n                    continue;\n                }\n\n                Class classObj = Class.forName( className );\n\n                Class superClass = classObj;\n                while ( true )\n                {\n                    superClass = superClass.getSuperclass();\n\n                    if ( superClass == null || superClass == Object.class )\n                    {\n                        break;\n                    }\n\n                    if ( superClass == targetSuperClass )\n                    {\n                        subClasses.add( classObj );\n                        break;\n                    }\n                }\n            }\n        }\n        catch ( Exception e )\n        {\n            e.printStackTrace();\n        }\n\n        return subClasses;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8828622,"reputation":191,"user_id":6595975,"display_name":"Vasilii Shumilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638872034,"creation_date":1638872034,"answer_id":70258314,"question_id":18377516,"body_markdown":"Here is a Kotlin solution that also works with interfaces. What you need is a real `Context` instance, so be aware that you are not able to use this approach in unit-tests.\r\nNote that `DexFile` is [deprecated][1] due to API fragility with no useful replacement.\r\n\r\n    private inline fun &lt;reified T&gt; getAllSubclasses(\r\n        startsWithPackage: String,\r\n        context: Context,\r\n    ): Set&lt;Class&lt;out T&gt;&gt; {\r\n        val classNames = DexFile(context.packageCodePath).entries()\r\n        val classLoader = context.classLoader\r\n\r\n        val superclass = T::class.java\r\n\r\n        val result = mutableSetOf&lt;Class&lt;out T&gt;&gt;()\r\n\r\n        classNames.iterator().forEach { className -&gt;\r\n            if (className.startsWith(startsWithPackage) &amp;&amp; className.contains(&quot;$&quot;).not()) {\r\n                val loadedClass = classLoader.loadClass(className)\r\n                if (loadedClass.superclass == superclass || loadedClass.interfaces.contains(superclass)) {\r\n                    @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n                    result.add(loadedClass as Class&lt;out T&gt;)\r\n                }\r\n            }\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\nThe method above could be used like that.\r\n\r\n    val subclasses = getAllSubclasses&lt;SuperClass&gt;(&quot;com.example&quot;, context)\r\n\r\n  [1]: https://developer.android.com/reference/kotlin/dalvik/system/DexFile","title":"Find All Subclasses of a given class (Android)","body":"<p>Here is a Kotlin solution that also works with interfaces. What you need is a real <code>Context</code> instance, so be aware that you are not able to use this approach in unit-tests.\nNote that <code>DexFile</code> is <a href=\"https://developer.android.com/reference/kotlin/dalvik/system/DexFile\" rel=\"nofollow noreferrer\">deprecated</a> due to API fragility with no useful replacement.</p>\n<pre><code>private inline fun &lt;reified T&gt; getAllSubclasses(\n    startsWithPackage: String,\n    context: Context,\n): Set&lt;Class&lt;out T&gt;&gt; {\n    val classNames = DexFile(context.packageCodePath).entries()\n    val classLoader = context.classLoader\n\n    val superclass = T::class.java\n\n    val result = mutableSetOf&lt;Class&lt;out T&gt;&gt;()\n\n    classNames.iterator().forEach { className -&gt;\n        if (className.startsWith(startsWithPackage) &amp;&amp; className.contains(&quot;$&quot;).not()) {\n            val loadedClass = classLoader.loadClass(className)\n            if (loadedClass.superclass == superclass || loadedClass.interfaces.contains(superclass)) {\n                @Suppress(&quot;UNCHECKED_CAST&quot;)\n                result.add(loadedClass as Class&lt;out T&gt;)\n            }\n        }\n    }\n\n    return result\n}\n</code></pre>\n<p>The method above could be used like that.</p>\n<pre><code>val subclasses = getAllSubclasses&lt;SuperClass&gt;(&quot;com.example&quot;, context)\n</code></pre>\n"}],"owner":{"account_id":892119,"reputation":4973,"user_id":930171,"accept_rate":52,"display_name":"Ivelius"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2917,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1638872034,"creation_date":1377166209,"question_id":18377516,"body_markdown":"I&#39;ve used [Reflections][1] Library to Find All Subclasses of a given class in Java before.\r\n\r\nThis is a code snippet that I use in a **simple java** project : \r\n\r\n        Reflections reflections = new Reflections(PACKAGE_NAME);\r\n \r\n        Set&lt;Class&lt;? extends SuperClass&gt;&gt; subTypes =\r\n                reflections.getSubTypesOf(SuperClass.class);\r\n\r\n        for (Class&lt;? extends SuperClass&gt; subType : subTypes) {\r\n\r\n            log(&quot;Subclass = &quot; + subType.getSimpleName());\r\n        }\r\n\r\nWhen I run the same code in **android** project , &quot;subType&quot; List returns empty.\r\n\r\nCan Anybody help me to get this work on Android ?\r\n\r\n\r\n\r\n**EDIT**\r\nJars I add for the whole thing to work are :\r\n\r\n - reflections-0.9.9-RC1-uberjar.jar\r\n - javassist-3.12.1.GA.jar\r\n - guava-14.0.1.jar\r\n\r\n \r\n\r\n  [1]: https://code.google.com/p/reflections/","title":"Find All Subclasses of a given class (Android)","body":"<p>I've used <a href=\"https://code.google.com/p/reflections/\" rel=\"noreferrer\">Reflections</a> Library to Find All Subclasses of a given class in Java before.</p>\n\n<p>This is a code snippet that I use in a <strong>simple java</strong> project : </p>\n\n<pre><code>    Reflections reflections = new Reflections(PACKAGE_NAME);\n\n    Set&lt;Class&lt;? extends SuperClass&gt;&gt; subTypes =\n            reflections.getSubTypesOf(SuperClass.class);\n\n    for (Class&lt;? extends SuperClass&gt; subType : subTypes) {\n\n        log(\"Subclass = \" + subType.getSimpleName());\n    }\n</code></pre>\n\n<p>When I run the same code in <strong>android</strong> project , \"subType\" List returns empty.</p>\n\n<p>Can Anybody help me to get this work on Android ?</p>\n\n<p><strong>EDIT</strong>\nJars I add for the whole thing to work are :</p>\n\n<ul>\n<li>reflections-0.9.9-RC1-uberjar.jar</li>\n<li>javassist-3.12.1.GA.jar</li>\n<li>guava-14.0.1.jar</li>\n</ul>\n"},{"tags":["java","android","sqlite","camera","click"],"comments":[{"owner":{"account_id":21316656,"reputation":2206,"user_id":15690398,"display_name":"che10"},"score":0,"creation_date":1622718785,"post_id":67817736,"comment_id":119875046,"body_markdown":"I would suggest you instead store the path of your image than storing the image itself.","body":"I would suggest you instead store the path of your image than storing the image itself."}],"answers":[{"tags":[],"owner":{"account_id":8506236,"reputation":13,"user_id":6377725,"display_name":"Rishav Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622730005,"creation_date":1622730005,"answer_id":67823211,"question_id":67817736,"body_markdown":"SQlite supports blob if you want to save the images in database of your device application.\r\nBut the idea is not to extensively use local database for storing images instead you can save the image in your external storage and then save the path in your sqlite database which will make more sense and efficient.  ","title":"how to store camera click picture in Android sqlite database using java","body":"<p>SQlite supports blob if you want to save the images in database of your device application.\nBut the idea is not to extensively use local database for storing images instead you can save the image in your external storage and then save the path in your sqlite database which will make more sense and efficient.</p>\n"},{"tags":[],"owner":{"account_id":22131826,"reputation":45,"user_id":17062040,"display_name":"Dharmik "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638871837,"creation_date":1638871837,"answer_id":70258256,"question_id":67817736,"body_markdown":"you can save images by converting them in the byte array.\r\n\r\nI have 2 edit text fields so ignore them\r\n\r\n```\r\nsave.setOnClickListener(v -&gt; {\r\n            byte[] img = convert_imaveView_ByteArray(imageView);\r\n            db_class = new DatabaseClass(MainActivity.this);\r\n            if (db_class.save(1,et_name.getText().toString(),et_email.getText().toString(),img)){\r\n                Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n            }else Toast.makeText(getApplicationContext(), &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n            db_class.save(1,et_name.getText().toString(),et_email.getText().toString(),img);\r\n        });\r\n```\r\nuse this method in your database class \r\n```\r\n public boolean save(int id, String name, String email,byte [] img){\r\n        try{\r\n\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(&quot;id&quot;,id);\r\n            cv.put(&quot;name&quot;,name);\r\n            cv.put(&quot;email&quot;,email);\r\n            cv.put(&quot;img&quot;,img);\r\n\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            db.insert(TableName,null,cv);\r\n            return true;\r\n\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n```","title":"how to store camera click picture in Android sqlite database using java","body":"<p>you can save images by converting them in the byte array.</p>\n<p>I have 2 edit text fields so ignore them</p>\n<pre><code>save.setOnClickListener(v -&gt; {\n            byte[] img = convert_imaveView_ByteArray(imageView);\n            db_class = new DatabaseClass(MainActivity.this);\n            if (db_class.save(1,et_name.getText().toString(),et_email.getText().toString(),img)){\n                Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n            }else Toast.makeText(getApplicationContext(), &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n            db_class.save(1,et_name.getText().toString(),et_email.getText().toString(),img);\n        });\n</code></pre>\n<p>use this method in your database class</p>\n<pre><code> public boolean save(int id, String name, String email,byte [] img){\n        try{\n\n            ContentValues cv = new ContentValues();\n            cv.put(&quot;id&quot;,id);\n            cv.put(&quot;name&quot;,name);\n            cv.put(&quot;email&quot;,email);\n            cv.put(&quot;img&quot;,img);\n\n            SQLiteDatabase db = this.getWritableDatabase();\n            db.insert(TableName,null,cv);\n            return true;\n\n        }catch (Exception e){\n            e.printStackTrace();\n            return false;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":21791630,"reputation":11,"user_id":16091753,"display_name":"Shraddha Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638871837,"creation_date":1622707652,"question_id":67817736,"body_markdown":"How can I store camera click picture in SQLite database?\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode,  Intent data) {\r\n        //super n0m .onActivityResult(requestCode, resultCode, data);\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == CAMERA_REQUEST &amp;&amp; resultCode== AppCompatActivity.RESULT_OK) {\r\n            Bitmap bitmap = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n            imageView.setImageBitmap(bitmap);\r\n\r\n\r\n            //theImage = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n\r\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n            byte[] byteArray = stream.toByteArray();\r\n\r\n            long t=handler.insertImage(byteArray);\r\n\r\n\r\n            if (t &gt; 0) {\r\n                Toast.makeText(Camera.this,&quot;sucess image&quot;,Toast.LENGTH_LONG).show();\r\n\r\n            }\r\n            else {\r\n                Toast.makeText(Camera.this,&quot;fail image&quot;,Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n           // Intent intent = new Intent(Camera.this, Voice.class);\r\n\r\n            //startActivity(intent);\r\n        }\r\n","title":"how to store camera click picture in Android sqlite database using java","body":"<p>How can I store camera click picture in SQLite database?</p>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode,  Intent data) {\n    //super n0m .onActivityResult(requestCode, resultCode, data);\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == CAMERA_REQUEST &amp;&amp; resultCode== AppCompatActivity.RESULT_OK) {\n        Bitmap bitmap = (Bitmap) data.getExtras().get(&quot;data&quot;);\n        imageView.setImageBitmap(bitmap);\n\n\n        //theImage = (Bitmap) data.getExtras().get(&quot;data&quot;);\n\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\n        byte[] byteArray = stream.toByteArray();\n\n        long t=handler.insertImage(byteArray);\n\n\n        if (t &gt; 0) {\n            Toast.makeText(Camera.this,&quot;sucess image&quot;,Toast.LENGTH_LONG).show();\n\n        }\n        else {\n            Toast.makeText(Camera.this,&quot;fail image&quot;,Toast.LENGTH_LONG).show();\n        }\n\n       // Intent intent = new Intent(Camera.this, Voice.class);\n\n        //startActivity(intent);\n    }\n</code></pre>\n"},{"tags":["java","xml","soap","namespaces","element"],"answers":[{"tags":[],"owner":{"account_id":2907038,"reputation":1529,"user_id":2492068,"accept_rate":100,"display_name":"spcial"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638871738,"creation_date":1638871738,"answer_id":70258238,"question_id":70191727,"body_markdown":"Unfortunately it seems that it is not possible to somehow force to show an empty `namespace`. See also the [java docs for QName][1] for the `toString()` function:\r\n\r\n&gt; The commonly accepted way of representing a QName as a String was\r\n&gt; defined by James Clark. Although this is not a standard specification,\r\n&gt; it is in common use, e.g. Transformer.setParameter(String name, Object\r\n&gt; value). This implementation represents a QName as: &quot;{&quot; + Namespace URI\r\n&gt; \\+ &quot;}&quot; + local part. **If the Namespace URI .equals(XMLConstants.NULL_NS_URI), only the local part is returned**. An\r\n&gt; appropriate use of this method is for debugging or logging for human\r\n&gt; consumption.\r\n\r\n\r\n\r\n`NULL_NS_URI` on the other hand is defined in the [java docs for XMLConstants][2] as: \r\n\r\n&gt; Namespace URI to use to represent that there is no Namespace.\r\n&gt;      Defined by the Namespace specification to be &quot;&quot;.\r\n\r\n\r\nSo this is by design. Maybe you can somehow configure the third party soap to accept empty `namespaces`? Otherwise maybe checking for empty `namesspaces` and using a dummy or default `namespace` could do the trick.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/xml/namespace/QName.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/javax/xml/XMLConstants.html","title":"Java SoapMessage add empty namespace","body":"<p>Unfortunately it seems that it is not possible to somehow force to show an empty <code>namespace</code>. See also the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/namespace/QName.html\" rel=\"nofollow noreferrer\">java docs for QName</a> for the <code>toString()</code> function:</p>\n<blockquote>\n<p>The commonly accepted way of representing a QName as a String was\ndefined by James Clark. Although this is not a standard specification,\nit is in common use, e.g. Transformer.setParameter(String name, Object\nvalue). This implementation represents a QName as: &quot;{&quot; + Namespace URI\n+ &quot;}&quot; + local part. <strong>If the Namespace URI .equals(XMLConstants.NULL_NS_URI), only the local part is returned</strong>. An\nappropriate use of this method is for debugging or logging for human\nconsumption.</p>\n</blockquote>\n<p><code>NULL_NS_URI</code> on the other hand is defined in the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/XMLConstants.html\" rel=\"nofollow noreferrer\">java docs for XMLConstants</a> as:</p>\n<blockquote>\n<p>Namespace URI to use to represent that there is no Namespace.\nDefined by the Namespace specification to be &quot;&quot;.</p>\n</blockquote>\n<p>So this is by design. Maybe you can somehow configure the third party soap to accept empty <code>namespaces</code>? Otherwise maybe checking for empty <code>namesspaces</code> and using a dummy or default <code>namespace</code> could do the trick.</p>\n"}],"owner":{"account_id":8139367,"reputation":21,"user_id":6130060,"display_name":"Edward Gilmore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70258238,"answer_count":1,"score":1,"last_activity_date":1638871738,"creation_date":1638395865,"question_id":70191727,"body_markdown":"I am calling third party soap where each element must have a namespace. I am calling from Java to a .NET service. In some elements, I must include &quot;http:/abc.com&quot;. Other times, I must include xmlns:&quot;&quot;. For example; \r\n\r\n```\r\n&lt;GetYears xmlns=&quot;http://example.com&quot;&gt;\r\n  &lt;oCar xmlns=&quot;&quot;&gt;\r\n    &lt;make xmlns=&quot;http://example.com&quot;&gt;Ford&lt;/make&gt;\r\n    &lt;model xmlns=&quot;http://example.com&quot;&gt;F250&lt;/make&gt;\r\n  &lt;/oCar&gt;\r\n&lt;/GetYears&gt;\r\n```\r\nI am using javax.xml.soap.*\r\n```\r\n\t\tMessageFactory messageFactory = MessageFactory.newInstance();\r\n\t\tSOAPMessage soapMessage = messageFactory.createMessage();\r\n        ...\r\n        QName bodyName = new QName(&quot;http://example.com&quot;, &quot;GetAircraftDueListItems&quot;);\r\n\t\tSOAPElement soapBodyElement = soapBody.addBodyElement(bodyName);\r\n\t\tQName qName = new QName(&quot;&quot;, &quot;oCar&quot;);\r\n\t\tSOAPElement carEement = soapBodyElement.addChildElement(qName);\r\n```\r\nBy default, this produces the following output which is rejected by the service because the namespace &quot;&quot; is missing on oCar.\r\n```\r\n&lt;GetYears xmlns=&quot;http://example.com&quot;&gt;\r\n  &lt;oCar&gt;\r\n    &lt;make xmlns=&quot;http://example.com&quot;&gt;Ford&lt;/make&gt;\r\n    &lt;model xmlns=&quot;http://example.com&quot;&gt;F250&lt;/make&gt;\r\n  &lt;/oCar&gt;\r\n&lt;/GetYears&gt;\r\n\r\n```\r\nIt appears that an empty namespace is ignored. Is there a way to force the element to include xmlns=&quot;&quot;?\r\n\r\nThanks","title":"Java SoapMessage add empty namespace","body":"<p>I am calling third party soap where each element must have a namespace. I am calling from Java to a .NET service. In some elements, I must include &quot;http:/abc.com&quot;. Other times, I must include xmlns:&quot;&quot;. For example;</p>\n<pre><code>&lt;GetYears xmlns=&quot;http://example.com&quot;&gt;\n  &lt;oCar xmlns=&quot;&quot;&gt;\n    &lt;make xmlns=&quot;http://example.com&quot;&gt;Ford&lt;/make&gt;\n    &lt;model xmlns=&quot;http://example.com&quot;&gt;F250&lt;/make&gt;\n  &lt;/oCar&gt;\n&lt;/GetYears&gt;\n</code></pre>\n<p>I am using javax.xml.soap.*</p>\n<pre><code>        MessageFactory messageFactory = MessageFactory.newInstance();\n        SOAPMessage soapMessage = messageFactory.createMessage();\n        ...\n        QName bodyName = new QName(&quot;http://example.com&quot;, &quot;GetAircraftDueListItems&quot;);\n        SOAPElement soapBodyElement = soapBody.addBodyElement(bodyName);\n        QName qName = new QName(&quot;&quot;, &quot;oCar&quot;);\n        SOAPElement carEement = soapBodyElement.addChildElement(qName);\n</code></pre>\n<p>By default, this produces the following output which is rejected by the service because the namespace &quot;&quot; is missing on oCar.</p>\n<pre><code>&lt;GetYears xmlns=&quot;http://example.com&quot;&gt;\n  &lt;oCar&gt;\n    &lt;make xmlns=&quot;http://example.com&quot;&gt;Ford&lt;/make&gt;\n    &lt;model xmlns=&quot;http://example.com&quot;&gt;F250&lt;/make&gt;\n  &lt;/oCar&gt;\n&lt;/GetYears&gt;\n\n</code></pre>\n<p>It appears that an empty namespace is ignored. Is there a way to force the element to include xmlns=&quot;&quot;?</p>\n<p>Thanks</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1637444588,"post_id":70048523,"comment_id":123829456,"body_markdown":"You have generated random numbers. How do you define a pair? Would that mean a number occurs twice? What happens if the number occurs three times? Or four times?","body":"You have generated random numbers. How do you define a pair? Would that mean a number occurs twice? What happens if the number occurs three times? Or four times?"},{"owner":{"account_id":23284061,"reputation":145,"user_id":17367145,"display_name":"Ruslan Pylypiuk"},"score":0,"creation_date":1637450253,"post_id":70048523,"comment_id":123830465,"body_markdown":"@HiranChaudhuri If it occurs 3 times I calculate only one pair, if it occurs four times I can count two pairs. By pair means 10 and 10, 20 and 20, 50 and 50.","body":"@HiranChaudhuri If it occurs 3 times I calculate only one pair, if it occurs four times I can count two pairs. By pair means 10 and 10, 20 and 20, 50 and 50."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1637479317,"post_id":70048523,"comment_id":123833591,"body_markdown":"What happens if you have [10,20,10,30,10,50,10]?","body":"What happens if you have [10,20,10,30,10,50,10]?"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637502983,"creation_date":1637502983,"answer_id":70055181,"question_id":70048523,"body_markdown":"The following should do it and is even simpler that your nested for solution. You just need to use some Java features (`Collections.frequency()` for example):\r\n```java\r\nint[] bonusGame = {10, 20, 20, 30, 30, 30, 30, 50, 50, 50, 200};\r\nfor (int z: bonusGame) {\r\n    System.out.println(z);\r\n}\r\n\r\nList&lt;Integer&gt; bonusGameList = Arrays.stream(bonusGame).boxed().collect(Collectors.toList());\r\nSet&lt;Integer&gt; bonusGameUnique = new HashSet&lt;&gt;(bonusGameList);\r\nMap&lt;Integer, Integer&gt; numbersCount = new HashMap&lt;&gt;();\r\n\r\nfor (Integer number : bonusGameUnique) {\r\n    int count = Collections.frequency(bonusGameList, number);\r\n    numbersCount.put(number, count);\r\n}\r\n\r\nMap&lt;Integer, Integer&gt; numbersPairsCount = numbersCount.entrySet().stream()\r\n        .collect(Collectors.toMap(Entry::getKey, entry -&gt; entry.getValue()/2));\r\n\r\nSystem.out.println(numbersPairsCount);\r\n```","title":"Java: calculating the amount of pairs in array","body":"<p>The following should do it and is even simpler that your nested for solution. You just need to use some Java features (<code>Collections.frequency()</code> for example):</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] bonusGame = {10, 20, 20, 30, 30, 30, 30, 50, 50, 50, 200};\nfor (int z: bonusGame) {\n    System.out.println(z);\n}\n\nList&lt;Integer&gt; bonusGameList = Arrays.stream(bonusGame).boxed().collect(Collectors.toList());\nSet&lt;Integer&gt; bonusGameUnique = new HashSet&lt;&gt;(bonusGameList);\nMap&lt;Integer, Integer&gt; numbersCount = new HashMap&lt;&gt;();\n\nfor (Integer number : bonusGameUnique) {\n    int count = Collections.frequency(bonusGameList, number);\n    numbersCount.put(number, count);\n}\n\nMap&lt;Integer, Integer&gt; numbersPairsCount = numbersCount.entrySet().stream()\n        .collect(Collectors.toMap(Entry::getKey, entry -&gt; entry.getValue()/2));\n\nSystem.out.println(numbersPairsCount);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638871731,"creation_date":1637508028,"answer_id":70055843,"question_id":70048523,"body_markdown":"Here&#39;s an efficient one-liner:\r\n\r\n    long numPairs = Arrays.stream(bonusGame).boxed() // stream Integers\r\n      .collect(groupingBy(identity(), counting()))   // collect to map of freqs\r\n      .values().stream()                             // stream frequency counts\r\n      .mapToLong(n -&gt; n / 2)                         // integer halve\r\n      .sum();                                        // sum\r\n\r\nIt works by first getting the frequencies of all numbers, then sums all frequencies after halving then using integer arithmetic, which discards fractions. For example, `5 / 2` results in `2`.\r\n\r\nAs an example, given `10, 20, 10, 30, 10, 50, 10, 50, 30, 30`, the result is `4`, comprising `2` from `10,10,10,10`, `1` from `30,30,30` and `1` from `50,50`.","title":"Java: calculating the amount of pairs in array","body":"<p>Here's an efficient one-liner:</p>\n<pre><code>long numPairs = Arrays.stream(bonusGame).boxed() // stream Integers\n  .collect(groupingBy(identity(), counting()))   // collect to map of freqs\n  .values().stream()                             // stream frequency counts\n  .mapToLong(n -&gt; n / 2)                         // integer halve\n  .sum();                                        // sum\n</code></pre>\n<p>It works by first getting the frequencies of all numbers, then sums all frequencies after halving then using integer arithmetic, which discards fractions. For example, <code>5 / 2</code> results in <code>2</code>.</p>\n<p>As an example, given <code>10, 20, 10, 30, 10, 50, 10, 50, 30, 30</code>, the result is <code>4</code>, comprising <code>2</code> from <code>10,10,10,10</code>, <code>1</code> from <code>30,30,30</code> and <code>1</code> from <code>50,50</code>.</p>\n"}],"owner":{"account_id":23284061,"reputation":145,"user_id":17367145,"display_name":"Ruslan Pylypiuk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638871731,"creation_date":1637431215,"question_id":70048523,"body_markdown":"I have a program ( it is a bonus game for lottery ) that calculates the amount of pairs among generated numbers, it works good, however, I have a problem that - if there is 3 exact numbers it will count that there is already 2 pairs of number, but I need it to only count pairs, not calculate all possible probability to  make pairs between numbers:\r\n\r\n    int randomChance = r.nextInt(100);\r\n\tfor (int newNum = 0; newNum&lt;5 ;newNum++) {\r\n\t\tint chanceGen = r.nextInt(100);\r\n\t\tif (chanceGen &lt;= 50) {\r\n\t\t\tbonusGame[newNum] = 10;\r\n\t\t}\r\n\t\telse if (chanceGen &lt;= 77) {\r\n\t\t\tbonusGame[newNum] = 20;\r\n\t\t}\r\n\t\telse if (chanceGen &lt;= 92) {\r\n\t\t\tbonusGame[newNum] = 50;\r\n\t\t}\r\n\t\telse if (chanceGen &lt;= 98) {\r\n\t\t\tbonusGame[newNum] = 200;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbonusGame[newNum] = 1000;\r\n\t\t}\r\n\t\t\r\n\t\t}\r\n\tfor (int z: bonusGame) {\r\n\t\tSystem.out.println(z);\r\n\t}\r\n\tfor (int f = 0; f &lt; bonusGame.length - 1; ++f) {\r\n\t    for (int j = f + 1; j &lt; bonusGame.length; ++j) {\r\n\t        if (bonusGame[j] == bonusGame[f] &amp; bonusGame[j] == 10 ) {\r\n\t            System.out.println(&quot; You won 10 euro &quot;);\r\n\t            bonusGameSum +=10;\r\n\t        }\r\n\t        else if (bonusGame[j] == bonusGame[f] &amp; bonusGame[j] == 20 ) {\r\n\t            System.out.println(&quot; You won 20 euro &quot;);\r\n\t            bonusGameSum +=20;\r\n\t        }\r\n\t        else if (bonusGame[j] == bonusGame[f] &amp; bonusGame[j] == 50 ) {\r\n\t            System.out.println(&quot; You won 50 euro &quot;);\r\n\t            bonusGameSum +=50;\r\n\t        }\r\n\t        else if (bonusGame[j] == bonusGame[f] &amp; bonusGame[j] == 200 ) {\r\n\t            System.out.println(&quot; You won 200 euro &quot;);\r\n\t            bonusGameSum +=200;\r\n\t        }\r\n\t        else if (bonusGame[j] == bonusGame[f] &amp; bonusGame[j] == 1000 ) {\r\n\t            System.out.println(&quot; You won 1000 euro &quot;);\r\n\t            bonusGameSum +=1000;\r\n\t        }\r\n\t    }\r\n\r\nWhat should i fix in order for program to calculate right amount of exact pairs?","title":"Java: calculating the amount of pairs in array","body":"<p>I have a program ( it is a bonus game for lottery ) that calculates the amount of pairs among generated numbers, it works good, however, I have a problem that - if there is 3 exact numbers it will count that there is already 2 pairs of number, but I need it to only count pairs, not calculate all possible probability to  make pairs between numbers:</p>\n<pre><code>int randomChance = r.nextInt(100);\nfor (int newNum = 0; newNum&lt;5 ;newNum++) {\n    int chanceGen = r.nextInt(100);\n    if (chanceGen &lt;= 50) {\n        bonusGame[newNum] = 10;\n    }\n    else if (chanceGen &lt;= 77) {\n        bonusGame[newNum] = 20;\n    }\n    else if (chanceGen &lt;= 92) {\n        bonusGame[newNum] = 50;\n    }\n    else if (chanceGen &lt;= 98) {\n        bonusGame[newNum] = 200;\n    }\n    else {\n        bonusGame[newNum] = 1000;\n    }\n    \n    }\nfor (int z: bonusGame) {\n    System.out.println(z);\n}\nfor (int f = 0; f &lt; bonusGame.length - 1; ++f) {\n    for (int j = f + 1; j &lt; bonusGame.length; ++j) {\n        if (bonusGame[j] == bonusGame[f] &amp; bonusGame[j] == 10 ) {\n            System.out.println(&quot; You won 10 euro &quot;);\n            bonusGameSum +=10;\n        }\n        else if (bonusGame[j] == bonusGame[f] &amp; bonusGame[j] == 20 ) {\n            System.out.println(&quot; You won 20 euro &quot;);\n            bonusGameSum +=20;\n        }\n        else if (bonusGame[j] == bonusGame[f] &amp; bonusGame[j] == 50 ) {\n            System.out.println(&quot; You won 50 euro &quot;);\n            bonusGameSum +=50;\n        }\n        else if (bonusGame[j] == bonusGame[f] &amp; bonusGame[j] == 200 ) {\n            System.out.println(&quot; You won 200 euro &quot;);\n            bonusGameSum +=200;\n        }\n        else if (bonusGame[j] == bonusGame[f] &amp; bonusGame[j] == 1000 ) {\n            System.out.println(&quot; You won 1000 euro &quot;);\n            bonusGameSum +=1000;\n        }\n    }\n</code></pre>\n<p>What should i fix in order for program to calculate right amount of exact pairs?</p>\n"},{"tags":["java","spring-security","ldap"],"comments":[{"owner":{"account_id":19956259,"reputation":157,"user_id":14624844,"display_name":"Bob"},"score":0,"creation_date":1638415615,"post_id":70187837,"comment_id":124084288,"body_markdown":"The `UserDetailsImpl` implements `UserDetails` but not extend `LdapUserDetailsImpl`. When you use ` authentication.getPrincipal()`, it get a object instance of LdapUserDetailsImpl instead of UserDetailsImpl. So you could not force cast it.","body":"The <code>UserDetailsImpl</code> implements <code>UserDetails</code> but not extend <code>LdapUserDetailsImpl</code>. When you use ` authentication.getPrincipal()`, it get a object instance of LdapUserDetailsImpl instead of UserDetailsImpl. So you could not force cast it."},{"owner":{"account_id":14933328,"reputation":3,"user_id":10782143,"display_name":"Ouj.Soukaina"},"score":0,"creation_date":1638438403,"post_id":70187837,"comment_id":124089819,"body_markdown":"then how an LdapUser is supposed to get authenticated based on this logic ? I don&#39;t really what changes I need to make on the code ?","body":"then how an LdapUser is supposed to get authenticated based on this logic ? I don&#39;t really what changes I need to make on the code ?"},{"owner":{"account_id":19956259,"reputation":157,"user_id":14624844,"display_name":"Bob"},"score":0,"creation_date":1638439238,"post_id":70187837,"comment_id":124090130,"body_markdown":"try to extend or wrap LdapUserDetailsImpl","body":"try to extend or wrap LdapUserDetailsImpl"},{"owner":{"account_id":14933328,"reputation":3,"user_id":10782143,"display_name":"Ouj.Soukaina"},"score":0,"creation_date":1638463664,"post_id":70187837,"comment_id":124100921,"body_markdown":"I did some reaserches on Internet but couldn&#39;t get the point. Please excuse my lack of knowledge in Java and Spring. Can you give me an example to understand better.","body":"I did some reaserches on Internet but couldn&#39;t get the point. Please excuse my lack of knowledge in Java and Spring. Can you give me an example to understand better."},{"owner":{"account_id":19956259,"reputation":157,"user_id":14624844,"display_name":"Bob"},"score":0,"creation_date":1638496234,"post_id":70187837,"comment_id":124110527,"body_markdown":"See this article[Spring Security With LDAP Authentication](https://dzone.com/articles/spring-security-with-ldap-authentication)","body":"See this article<a href=\"https://dzone.com/articles/spring-security-with-ldap-authentication\" rel=\"nofollow noreferrer\">Spring Security With LDAP Authentication</a>"}],"owner":{"account_id":14933328,"reputation":3,"user_id":10782143,"display_name":"Ouj.Soukaina"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638871143,"creation_date":1638376101,"question_id":70187837,"body_markdown":"I am new to spring.\r\nIn my SpringBoot application, I had a DB-local authentication. The new requirement is to implement an LDAP Authentication. The local authentication is working correctly and local user details are returned to generate the JWT, but when an LDAP user tries to authenticate below Java exception is returned : \r\n\r\n&gt; Servlet.service() for servlet [dispatcherServlet] in context with path\r\n&gt; [] threw exception [Request processing failed; nested exception is\r\n&gt; java.lang.ClassCastException: class\r\n&gt; org.springframework.security.ldap.userdetails.LdapUserDetailsImpl     \r\n&gt; cannot be cast to class\r\n&gt; semicore.rest.security.documents.UserDetailsImpl\r\n&gt; (org.springframework.security.ldap.userdetails.LdapUserDetailsImpl and\r\n&gt; semicore.rest.security.                                               \r\n&gt; documents.UserDetailsImpl are in unnamed module of loader\r\n&gt; org.springframework.boot.loader.LaunchedURLClassLoader @21b8d17c)]\r\n&gt; with root cause\r\n&gt; \r\n&gt; java.lang.ClassCastException: class\r\n&gt; org.springframework.security.ldap.userdetails.LdapUserDetailsImpl\r\n&gt; cannot be cast to class semicore.rest.security.documents.             \r\n&gt; UserDetailsImpl\r\n&gt; (org.springframework.security.ldap.userdetails.LdapUserDetailsImpl and\r\n&gt; semicore.rest.security.documents.UserDetailsImpl are in unnamed module\r\n&gt; of loader  org.springframework.boot.loader.LaunchedURLClassLoader\r\n&gt; @21b8d17c)\r\n\r\nAny help on how to solve this problem?\r\n\r\nThe authentication is generated by calling the method : \r\n\r\n\t\tUserDetailsImpl userPrincipal = (UserDetailsImpl) authentication.getPrincipal();\r\n\r\n\r\n\r\n\r\n--- Here is my UserDetailsImpl.java\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n   \r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class UserDetailsImpl implements UserDetails{\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t\r\n    \tprivate String id;\r\n\r\n    \tprivate String username;\r\n\r\n    \t@JsonIgnore\r\n    \tprivate String password;\r\n    \tprivate String email;\r\n\r\n    \tprivate Collection&lt;? extends GrantedAuthority&gt; authorities;\r\n    \tprivate String favorite;\r\n\r\n    \tpublic static UserDetailsImpl build(User user) {\r\n    \t\tList&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\r\n    \t\t\t\t.map(role -&gt; new SimpleGrantedAuthority(role.getName().name()))\r\n    \t\t\t\t.collect(Collectors.toList());\r\n\r\n    \t\treturn new UserDetailsImpl(\r\n    \t\t\t\tuser.getId(), \r\n    \t\t\t\tuser.getUsername(),\r\n    \t\t\t\tuser.getPassword(),\r\n    \t\t\t\tuser.getEmail(),\r\n    \t\t\t\tauthorities,\r\n    \t\t\t\tuser.getFavDashboard());\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    \t\treturn authorities;\r\n    \t}\r\n\r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic boolean isAccountNonExpired() {\r\n    \t\treturn true;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic boolean isAccountNonLocked() {\r\n    \t\treturn true;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic boolean isCredentialsNonExpired() {\r\n    \t\treturn true;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic boolean isEnabled() {\r\n    \t\treturn true;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic boolean equals(Object o) {\r\n    \t\tif (this == o)\r\n    \t\t\treturn true;\r\n    \t\tif (o == null || getClass() != o.getClass())\r\n    \t\t\treturn false;\r\n    \t\tUserDetailsImpl user = (UserDetailsImpl) o;\r\n    \t\treturn Objects.equals(id, user.id);\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n- JwtUtils.java\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Component\r\n    public class JwtUtils {\r\n    \t@Autowired\r\n    \tLogService logService;\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\r\n\r\n    \t@Value(&quot;${grafone.jwt.secret:secret}&quot;)\r\n    \tprivate String jwtSecret;\r\n\r\n    \t@Value(&quot;${grafone.jwt.expirationMs:1000000000}&quot;)\r\n    \tprivate int jwtExpirationMs;\r\n\r\n    \tpublic String generateJwtToken(Authentication authentication) {\r\n\r\n    \t\tUserDetailsImpl userPrincipal = (UserDetailsImpl) authentication.getPrincipal();\r\n\r\n    \t\treturn Jwts.builder()\r\n    \t\t\t\t.setSubject((userPrincipal.getUsername()))\r\n    \t\t\t\t.setIssuedAt(new Date())\r\n    \t\t\t\t.setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\r\n    \t\t\t\t.signWith(SignatureAlgorithm.HS512, jwtSecret)\r\n    \t\t\t\t.claim(&quot;favDashboard&quot;, userPrincipal.getFavorite())\r\n    \t\t\t\t.claim(&quot;userId&quot;, userPrincipal.getId())\r\n    \t\t\t\t//.claim(&quot;roles&quot;, userPrincipal.getAuthorities().stream().map(auth -&gt; auth.getAuthority()).collect(Collectors.toList()))\r\n    \t\t\t\t.compact();\r\n    \t}\r\n\r\n    \tpublic String getUserNameFromJwtToken(String token) {\r\n    \t\treturn Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\r\n    \t}\r\n\r\n    \tpublic boolean validateJwtToken(String authToken) {\r\n    \t\ttry {\r\n    \t\t\tJwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\r\n    \t\t\treturn true;\r\n    \t\t} catch (SignatureException e) {\r\n    \t\t\tlogService.warn(&quot;Invalid JWT signature: &quot;+ e.getMessage(), &quot;Authentification&quot;);\r\n    \t\t\tlogger.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\r\n    \t\t} catch (MalformedJwtException e) {\r\n    \t\t\tlogService.warn(&quot;Invalid JWT token: &quot;+ e.getMessage(), &quot;Authentification&quot;);\r\n    \t\t\tlogger.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\r\n    \t\t} catch (ExpiredJwtException e) {\r\n    \t\t\tlogService.warn(&quot;JWT token is expired: &quot;+ e.getMessage(), &quot;Authentification&quot;);\r\n    \t\t\tlogger.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\r\n    \t\t} catch (UnsupportedJwtException e) {\r\n    \t\t\tlogService.warn(&quot;JWT token is unsupported: &quot;+ e.getMessage(), &quot;Authentification&quot;);\r\n    \t\t\tlogger.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\r\n    \t\t} catch (IllegalArgumentException e) {\r\n    \t\t\tlogService.warn(&quot;JWT claims string is empty: &quot;+ e.getMessage(), &quot;Authentification&quot;);\r\n    \t\t\tlogger.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\r\n    \t\t}\r\n\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWebSecurityConfig.js\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    @EnableGlobalMethodSecurity(\r\n    \t\tprePostEnabled = true,\r\n    \t\tjsr250Enabled = true\r\n    )\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter{\r\n\r\n    \t@Autowired\r\n    \tUserDetailsServiceImpl userDetailsService;\r\n\r\n    \tprivate final LdapUserAuthoritiesPopulator ldapUserAuthoritiesPopulator;\r\n\r\n    \t@Autowired\r\n    \tprivate AuthEntryPointJwt unauthorizedHandler;\r\n\r\n    \t@Bean\r\n    \tpublic AuthTokenFilter authenticationJwtTokenFilter() {\r\n    \t\treturn new AuthTokenFilter();\r\n    \t}\r\n\r\n    \t@Bean\r\n    \t@Override\r\n    \tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\treturn super.authenticationManagerBean();\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n    \t\tauthenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    \t\tauthenticationManagerBuilder.ldapAuthentication()\r\n    \t    .userSearchFilter(&quot;uid={0}&quot;)\r\n                .userSearchBase(&quot;&quot;)\r\n                .contextSource()\r\n                    .url(&quot;ldap://ldap.xxx.fr:19005/dc=xxx,dc=fr&quot;)\r\n                    .port(19005)\r\n                    .managerDn(&quot;cn=admin,dc=xxx,dc=fr&quot;)\r\n                    .managerPassword(&quot;password&quot;).and()\r\n    \t\t.passwordCompare().passwordEncoder(new LdapShaPasswordEncoder())\r\n    \t\t.passwordAttribute(&quot;userPassword&quot;).and()\r\n    \t\t.ldapAuthoritiesPopulator(ldapUserAuthoritiesPopulator);\r\n\r\n    \t}\r\n\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.cors().and().csrf().disable()\r\n    \t\t\t.exceptionHandling().authenticationEntryPoint(unauthorizedHandler)\r\n    \t\t.and()\r\n    \t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n    \t\t.and()\r\n    \t\t\t.authorizeRequests().antMatchers(&quot;/api/auth/signin&quot;).permitAll()\r\n    \t\t.and()\r\n    \t\t\t.authorizeRequests().antMatchers(&quot;/api/logo/**&quot;).permitAll()\r\n    \t\t.and()\r\n    \t\t\t.authorizeRequests().anyRequest().authenticated();\r\n\r\n    \t\thttp.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    \t}\r\n\r\n    \t@Bean\r\n    \tpublic WebMvcConfigurer corsConfigurer(){\r\n    \t\treturn new WebMvcConfigurerAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n    \t\t\t\tregistry.addMapping(&quot;/**&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n\r\n    \t@Bean\r\n    \tpublic PasswordEncoder passwordEncoder() {\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWebSecurityConfig.js\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Service\r\n    public class AuthService {\r\n        @Autowired private AuthenticationManager authenticationManager;\r\n        @Autowired private AuthUserRepository userRepository;\r\n        @Autowired private RoleRepository roleRepository;\r\n        @Autowired private PasswordEncoder encoder;\r\n        @Autowired private JwtUtils jwtUtils;\r\n        @Autowired private LogService logService;\r\n\r\n        /**\r\n         * Enregistre un nouvel utilisateur avec ses informations.\r\n         * @param signUpRequest informations sur l&#39;utilisateur.\r\n         * @return\r\n         */\r\n        public ResponseEntity&lt;Object&gt; signup(SignupRequest signUpRequest){\r\n\r\n            if (userRepository.existsByUsername(signUpRequest.getUsername()))\r\n                return createUsernameAlreadyExistsResponse(signUpRequest);\r\n\r\n            User user = new User(signUpRequest.getUsername(), encodePassword(signUpRequest.getPassword()));\r\n            user.setEmail(signUpRequest.getEmail());\r\n            Set&lt;Role&gt; strRoles = signUpRequest.getRoles();\r\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n            if (strRoles == null) {\r\n                definedRoleAtUser(roles);\r\n            } else {\r\n                strRoles.forEach(role -&gt; {\r\n                    chooseUserRole(roles, role);\r\n                });\r\n            }\r\n            user.setRoles(roles);\r\n            userRepository.save(user);\r\n            logService.info(&quot;Enregistrement d&#39;un nouvel utilisateur:&quot;\r\n                    +user.getUsername()\r\n                    +&quot;avec le role: &quot;\r\n                    +user.getRoles().toString(), &quot;Authentification&quot;);\r\n            return ResponseEntity.ok(user);\r\n        }\r\n\r\n        /**\r\n         * Encode un mot de passe pour la sauvegarde dans la base de donn&#233;e.\r\n         * @param clearPassword mot de passe en clair\r\n         * @return mot de passe encod&#233;.\r\n         */\r\n        public String encodePassword(String clearPassword) {\r\n            return encoder.encode(clearPassword);\r\n        }\r\n\r\n        private void chooseUserRole(Set&lt;Role&gt; roles, Role role) {\r\n            switch (role.getName().getValue()) {\r\n                case &quot;ROLE_OWNER&quot;:\r\n                    Optional&lt;Role&gt; ownerRole = roleRepository.findByName(RoleEnum.ROLE_OWNER);\r\n                    if (ownerRole.isPresent()) roles.add(ownerRole.get());\r\n                    else roles.add(this.roleRepository.save(new Role(RoleEnum.ROLE_OWNER)));\r\n                case &quot;ROLE_ADMIN&quot;:\r\n                    Optional&lt;Role&gt; adminRole = roleRepository.findByName(RoleEnum.ROLE_ADMIN);\r\n                    if (adminRole.isPresent()) roles.add(adminRole.get());\r\n                    else roles.add(this.roleRepository.save(new Role(RoleEnum.ROLE_ADMIN)));\r\n                    break;\r\n\r\n                default:\r\n                    definedRoleAtUser(roles);\r\n            }\r\n        }\r\n\r\n        private void definedRoleAtUser(Set&lt;Role&gt; roles) {\r\n            Optional&lt;Role&gt; userRole = roleRepository.findByName(RoleEnum.ROLE_USER);\r\n            if (userRole.isPresent()) roles.add(userRole.get());\r\n            else roles.add(this.roleRepository.save(new Role(RoleEnum.ROLE_USER)));\r\n        }\r\n\r\n        private ResponseEntity&lt;Object&gt; createUsernameAlreadyExistsResponse(SignupRequest signUpRequest) {\r\n            logService.warn(&quot;Le nom du nouveau utilisateur est deja utilis&#233;: &quot;+ signUpRequest.getUsername(),\r\n                    &quot;Authentification&quot;);\r\n            return ResponseEntity\r\n                    .badRequest()\r\n                    .body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\r\n        }\r\n\r\n        /**\r\n         * Permet a l&#39;utilisateur de s&#39;authentifier. Retourne le token JWT de connection.\r\n         * @param loginRequest DTO contenant les informations de l&#39;utilisateur.\r\n         * @return une reponse contenant le token JWT, l&#39;id de l&#39;utilisateur, son nom d&#39;utilisateur et ses roles.\r\n         */\r\n        public ResponseEntity&lt;?&gt; authenticateUser(LoginRequest loginRequest) {\r\n            Authentication authentication = this.checkCredentials(loginRequest.getUsername(), loginRequest.getPassword());\r\n\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            String jwt = jwtUtils.generateJwtToken(authentication);\r\n\r\n            UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\r\n            this.logService.info(&quot;Connection de l&#39;utilisateur &quot;+userDetails.getUsername(), &quot;Authentification&quot;);\r\n\r\n            List&lt;String&gt; roles = userDetails.getAuthorities().stream()\r\n                    .map(item -&gt; item.getAuthority())\r\n                    .collect(Collectors.toList());\r\n\r\n            return ResponseEntity.ok(new JwtResponse(jwt,\r\n                    userDetails.getId(),\r\n                    userDetails.getUsername(),\r\n                    roles));\r\n        }\r\n\r\n        /**\r\n         * Verifie si les coordonn&#233;es (nom d&#39;utilisateur et le mot de passe) corresponde. Si ce n&#39;est pas le cas, l&#233;ve une\r\n         * exception.\r\n         * @param username nom d&#39;utilisateur\r\n         * @param password mot de passe\r\n         * @return Authentification contenant les information d&#39;authentification.\r\n         */\r\n        public Authentication checkCredentials(String username, String password){\r\n            Authentication token = new UsernamePasswordAuthenticationToken(username, password);\r\n            return authenticationManager.authenticate(token);\r\n        }\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nLdapAuthoritiesPopulator.js\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    @Component\r\n    public class LdapUserAuthoritiesPopulator implements LdapAuthoritiesPopulator {\r\n\r\n    \tprivate final UserDetailsService userDetailsService;\r\n\r\n    \t@Override\r\n    \tpublic Collection&lt;? extends GrantedAuthority&gt; getGrantedAuthorities(DirContextOperations userData, String username) {\r\n    \t\tCollection&lt;? extends GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n    \t\ttry {\r\n    \t\t\tauthorities = userDetailsService.loadUserByUsername(username).getAuthorities();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.warn(&quot;Unable to fetch the user authorities from the database. otherwise, assigning default user role&quot;);\r\n    \t\t\tauthorities = Arrays.asList(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n    \t\t}\r\n    \t\treturn authorities;\r\n    \t}\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n                                                                   \r\n\r\n\r\n\r\n\r\nThanks in advance.","title":"Spring Security - Integrating both local DB and LDAP authentication generates : exception is java.lang.ClassCastException","body":"<p>I am new to spring.\nIn my SpringBoot application, I had a DB-local authentication. The new requirement is to implement an LDAP Authentication. The local authentication is working correctly and local user details are returned to generate the JWT, but when an LDAP user tries to authenticate below Java exception is returned :</p>\n<blockquote>\n<p>Servlet.service() for servlet [dispatcherServlet] in context with path\n[] threw exception [Request processing failed; nested exception is\njava.lang.ClassCastException: class\norg.springframework.security.ldap.userdetails.LdapUserDetailsImpl<br />\ncannot be cast to class\nsemicore.rest.security.documents.UserDetailsImpl\n(org.springframework.security.ldap.userdetails.LdapUserDetailsImpl and\nsemicore.rest.security.<br />\ndocuments.UserDetailsImpl are in unnamed module of loader\norg.springframework.boot.loader.LaunchedURLClassLoader @21b8d17c)]\nwith root cause</p>\n<p>java.lang.ClassCastException: class\norg.springframework.security.ldap.userdetails.LdapUserDetailsImpl\ncannot be cast to class semicore.rest.security.documents.<br />\nUserDetailsImpl\n(org.springframework.security.ldap.userdetails.LdapUserDetailsImpl and\nsemicore.rest.security.documents.UserDetailsImpl are in unnamed module\nof loader  org.springframework.boot.loader.LaunchedURLClassLoader\n@21b8d17c)</p>\n</blockquote>\n<p>Any help on how to solve this problem?</p>\n<p>The authentication is generated by calling the method :</p>\n<pre><code>    UserDetailsImpl userPrincipal = (UserDetailsImpl) authentication.getPrincipal();\n</code></pre>\n<p>--- Here is my UserDetailsImpl.java\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>   \n@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class UserDetailsImpl implements UserDetails{\n    private static final long serialVersionUID = 1L;\n    \n    \n    private String id;\n\n    private String username;\n\n    @JsonIgnore\n    private String password;\n    private String email;\n\n    private Collection&lt;? extends GrantedAuthority&gt; authorities;\n    private String favorite;\n\n    public static UserDetailsImpl build(User user) {\n        List&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName().name()))\n                .collect(Collectors.toList());\n\n        return new UserDetailsImpl(\n                user.getId(), \n                user.getUsername(),\n                user.getPassword(),\n                user.getEmail(),\n                authorities,\n                user.getFavDashboard());\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o)\n            return true;\n        if (o == null || getClass() != o.getClass())\n            return false;\n        UserDetailsImpl user = (UserDetailsImpl) o;\n        return Objects.equals(id, user.id);\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ul>\n<li>JwtUtils.java</li>\n</ul>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Component\npublic class JwtUtils {\n    @Autowired\n    LogService logService;\n    private static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\n\n    @Value(\"${grafone.jwt.secret:secret}\")\n    private String jwtSecret;\n\n    @Value(\"${grafone.jwt.expirationMs:1000000000}\")\n    private int jwtExpirationMs;\n\n    public String generateJwtToken(Authentication authentication) {\n\n        UserDetailsImpl userPrincipal = (UserDetailsImpl) authentication.getPrincipal();\n\n        return Jwts.builder()\n                .setSubject((userPrincipal.getUsername()))\n                .setIssuedAt(new Date())\n                .setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\n                .claim(\"favDashboard\", userPrincipal.getFavorite())\n                .claim(\"userId\", userPrincipal.getId())\n                //.claim(\"roles\", userPrincipal.getAuthorities().stream().map(auth -&gt; auth.getAuthority()).collect(Collectors.toList()))\n                .compact();\n    }\n\n    public String getUserNameFromJwtToken(String token) {\n        return Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\n    }\n\n    public boolean validateJwtToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            logService.warn(\"Invalid JWT signature: \"+ e.getMessage(), \"Authentification\");\n            logger.error(\"Invalid JWT signature: {}\", e.getMessage());\n        } catch (MalformedJwtException e) {\n            logService.warn(\"Invalid JWT token: \"+ e.getMessage(), \"Authentification\");\n            logger.error(\"Invalid JWT token: {}\", e.getMessage());\n        } catch (ExpiredJwtException e) {\n            logService.warn(\"JWT token is expired: \"+ e.getMessage(), \"Authentification\");\n            logger.error(\"JWT token is expired: {}\", e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            logService.warn(\"JWT token is unsupported: \"+ e.getMessage(), \"Authentification\");\n            logger.error(\"JWT token is unsupported: {}\", e.getMessage());\n        } catch (IllegalArgumentException e) {\n            logService.warn(\"JWT claims string is empty: \"+ e.getMessage(), \"Authentification\");\n            logger.error(\"JWT claims string is empty: {}\", e.getMessage());\n        }\n\n        return false;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>WebSecurityConfig.js</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\n@EnableGlobalMethodSecurity(\n        prePostEnabled = true,\n        jsr250Enabled = true\n)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter{\n\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    private final LdapUserAuthoritiesPopulator ldapUserAuthoritiesPopulator;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n        authenticationManagerBuilder.ldapAuthentication()\n        .userSearchFilter(\"uid={0}\")\n            .userSearchBase(\"\")\n            .contextSource()\n                .url(\"ldap://ldap.xxx.fr:19005/dc=xxx,dc=fr\")\n                .port(19005)\n                .managerDn(\"cn=admin,dc=xxx,dc=fr\")\n                .managerPassword(\"password\").and()\n        .passwordCompare().passwordEncoder(new LdapShaPasswordEncoder())\n        .passwordAttribute(\"userPassword\").and()\n        .ldapAuthoritiesPopulator(ldapUserAuthoritiesPopulator);\n\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n            .exceptionHandling().authenticationEntryPoint(unauthorizedHandler)\n        .and()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n            .authorizeRequests().antMatchers(\"/api/auth/signin\").permitAll()\n        .and()\n            .authorizeRequests().antMatchers(\"/api/logo/**\").permitAll()\n        .and()\n            .authorizeRequests().anyRequest().authenticated();\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer(){\n        return new WebMvcConfigurerAdapter() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(\"/**\");\n            }\n        };\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>WebSecurityConfig.js</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Service\npublic class AuthService {\n    @Autowired private AuthenticationManager authenticationManager;\n    @Autowired private AuthUserRepository userRepository;\n    @Autowired private RoleRepository roleRepository;\n    @Autowired private PasswordEncoder encoder;\n    @Autowired private JwtUtils jwtUtils;\n    @Autowired private LogService logService;\n\n    /**\n     * Enregistre un nouvel utilisateur avec ses informations.\n     * @param signUpRequest informations sur l'utilisateur.\n     * @return\n     */\n    public ResponseEntity&lt;Object&gt; signup(SignupRequest signUpRequest){\n\n        if (userRepository.existsByUsername(signUpRequest.getUsername()))\n            return createUsernameAlreadyExistsResponse(signUpRequest);\n\n        User user = new User(signUpRequest.getUsername(), encodePassword(signUpRequest.getPassword()));\n        user.setEmail(signUpRequest.getEmail());\n        Set&lt;Role&gt; strRoles = signUpRequest.getRoles();\n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n        if (strRoles == null) {\n            definedRoleAtUser(roles);\n        } else {\n            strRoles.forEach(role -&gt; {\n                chooseUserRole(roles, role);\n            });\n        }\n        user.setRoles(roles);\n        userRepository.save(user);\n        logService.info(\"Enregistrement d'un nouvel utilisateur:\"\n                +user.getUsername()\n                +\"avec le role: \"\n                +user.getRoles().toString(), \"Authentification\");\n        return ResponseEntity.ok(user);\n    }\n\n    /**\n     * Encode un mot de passe pour la sauvegarde dans la base de donne.\n     * @param clearPassword mot de passe en clair\n     * @return mot de passe encod.\n     */\n    public String encodePassword(String clearPassword) {\n        return encoder.encode(clearPassword);\n    }\n\n    private void chooseUserRole(Set&lt;Role&gt; roles, Role role) {\n        switch (role.getName().getValue()) {\n            case \"ROLE_OWNER\":\n                Optional&lt;Role&gt; ownerRole = roleRepository.findByName(RoleEnum.ROLE_OWNER);\n                if (ownerRole.isPresent()) roles.add(ownerRole.get());\n                else roles.add(this.roleRepository.save(new Role(RoleEnum.ROLE_OWNER)));\n            case \"ROLE_ADMIN\":\n                Optional&lt;Role&gt; adminRole = roleRepository.findByName(RoleEnum.ROLE_ADMIN);\n                if (adminRole.isPresent()) roles.add(adminRole.get());\n                else roles.add(this.roleRepository.save(new Role(RoleEnum.ROLE_ADMIN)));\n                break;\n\n            default:\n                definedRoleAtUser(roles);\n        }\n    }\n\n    private void definedRoleAtUser(Set&lt;Role&gt; roles) {\n        Optional&lt;Role&gt; userRole = roleRepository.findByName(RoleEnum.ROLE_USER);\n        if (userRole.isPresent()) roles.add(userRole.get());\n        else roles.add(this.roleRepository.save(new Role(RoleEnum.ROLE_USER)));\n    }\n\n    private ResponseEntity&lt;Object&gt; createUsernameAlreadyExistsResponse(SignupRequest signUpRequest) {\n        logService.warn(\"Le nom du nouveau utilisateur est deja utilis: \"+ signUpRequest.getUsername(),\n                \"Authentification\");\n        return ResponseEntity\n                .badRequest()\n                .body(new MessageResponse(\"Error: Username is already taken!\"));\n    }\n\n    /**\n     * Permet a l'utilisateur de s'authentifier. Retourne le token JWT de connection.\n     * @param loginRequest DTO contenant les informations de l'utilisateur.\n     * @return une reponse contenant le token JWT, l'id de l'utilisateur, son nom d'utilisateur et ses roles.\n     */\n    public ResponseEntity&lt;?&gt; authenticateUser(LoginRequest loginRequest) {\n        Authentication authentication = this.checkCredentials(loginRequest.getUsername(), loginRequest.getPassword());\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        String jwt = jwtUtils.generateJwtToken(authentication);\n\n        UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\n        this.logService.info(\"Connection de l'utilisateur \"+userDetails.getUsername(), \"Authentification\");\n\n        List&lt;String&gt; roles = userDetails.getAuthorities().stream()\n                .map(item -&gt; item.getAuthority())\n                .collect(Collectors.toList());\n\n        return ResponseEntity.ok(new JwtResponse(jwt,\n                userDetails.getId(),\n                userDetails.getUsername(),\n                roles));\n    }\n\n    /**\n     * Verifie si les coordonnes (nom d'utilisateur et le mot de passe) corresponde. Si ce n'est pas le cas, lve une\n     * exception.\n     * @param username nom d'utilisateur\n     * @param password mot de passe\n     * @return Authentification contenant les information d'authentification.\n     */\n    public Authentication checkCredentials(String username, String password){\n        Authentication token = new UsernamePasswordAuthenticationToken(username, password);\n        return authenticationManager.authenticate(token);\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>LdapAuthoritiesPopulator.js</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Slf4j\n@RequiredArgsConstructor\n@Component\npublic class LdapUserAuthoritiesPopulator implements LdapAuthoritiesPopulator {\n\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getGrantedAuthorities(DirContextOperations userData, String username) {\n        Collection&lt;? extends GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n        try {\n            authorities = userDetailsService.loadUserByUsername(username).getAuthorities();\n        } catch (Exception e) {\n            log.warn(\"Unable to fetch the user authorities from the database. otherwise, assigning default user role\");\n            authorities = Arrays.asList(new SimpleGrantedAuthority(\"ROLE_USER\"));\n        }\n        return authorities;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","json","jackson","deserialization","class-hierarchy"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1638800477,"post_id":70246212,"comment_id":124177122,"body_markdown":"please add the code you use to deserialize the json input. are you using correct method readValue? i think your annotation should have converter=... and not contentConverter=...","body":"please add the code you use to deserialize the json input. are you using correct method readValue? i think your annotation should have converter=... and not contentConverter=..."},{"owner":{"account_id":17338001,"reputation":21,"user_id":12559447,"display_name":"Vaan"},"score":0,"creation_date":1638805909,"post_id":70246212,"comment_id":124179476,"body_markdown":"Hi @TomElias, i&#39;ve added it and figured my error out. The example i gave in my question was a simplified version of my actual code and as it turns out, i had another property for which a similar converter was needed. But i wanted to implement one at a time... Thanks for your support and sorry Internet","body":"Hi @TomElias, i&#39;ve added it and figured my error out. The example i gave in my question was a simplified version of my actual code and as it turns out, i had another property for which a similar converter was needed. But i wanted to implement one at a time... Thanks for your support and sorry Internet"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1638821535,"post_id":70246212,"comment_id":124185221,"body_markdown":"Please add the solution as an answer and accept it or delete the question. Thanks!","body":"Please add the solution as an answer and accept it or delete the question. Thanks!"},{"owner":{"account_id":17338001,"reputation":21,"user_id":12559447,"display_name":"Vaan"},"score":1,"creation_date":1638871073,"post_id":70246212,"comment_id":124196806,"body_markdown":"@Jo&#227;oDias, consider it done","body":"@Jo&#227;oDias, consider it done"}],"answers":[{"tags":[],"owner":{"account_id":17338001,"reputation":21,"user_id":12559447,"display_name":"Vaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638871032,"creation_date":1638871032,"answer_id":70258059,"question_id":70246212,"body_markdown":"To do this you must annotate the property `roles` in the the `Account` object as follows:\r\n```java\r\n  snip\r\n  @JsonDeserialize(contentConverter = UserReferenceConverter.class)\r\n  Map&lt;String, User&gt; roles = new HashMap&lt;&gt;();\r\n  snip\r\n```\r\nAnd then with create a `UserReferenceConverter` that can convert a user-id in the form of a `String` into an actual `User` instance`enter code here`: \r\n```java\r\npublic class UserReferenceConverter extends StdConverter&lt;String, User&gt; {\r\n  \r\n  @Override\r\n  public User convert( String value ) {\r\n    // Get the user...\r\n    return UserRepository.getUserById( value );\r\n  }\r\n}\r\n```\r\n\r\nTo load the `Account` from a JSON string run this:\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n  snip\r\n  ObjectMapper mapper = new ObjectMapper();\r\n  Account account = mapper.readValue(json, Account.class);\r\n  snip\r\n```","title":"How to convert references into instances during JSON deserialization","body":"<p>To do this you must annotate the property <code>roles</code> in the the <code>Account</code> object as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  snip\n  @JsonDeserialize(contentConverter = UserReferenceConverter.class)\n  Map&lt;String, User&gt; roles = new HashMap&lt;&gt;();\n  snip\n</code></pre>\n<p>And then with create a <code>UserReferenceConverter</code> that can convert a user-id in the form of a <code>String</code> into an actual <code>User</code> instance<code>enter code here</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserReferenceConverter extends StdConverter&lt;String, User&gt; {\n  \n  @Override\n  public User convert( String value ) {\n    // Get the user...\n    return UserRepository.getUserById( value );\n  }\n}\n</code></pre>\n<p>To load the <code>Account</code> from a JSON string run this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\n\n  snip\n  ObjectMapper mapper = new ObjectMapper();\n  Account account = mapper.readValue(json, Account.class);\n  snip\n</code></pre>\n"}],"owner":{"account_id":17338001,"reputation":21,"user_id":12559447,"display_name":"Vaan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638871032,"creation_date":1638796942,"question_id":70246212,"body_markdown":"This was a question, but it has been solved. I was trying to do deserialize some JSON data into Java POJO&#39;s. For example take the following JSON data:\r\n\r\nFor the `Account` data i have the following JSON data which refers to users by their id:\r\n```json\r\n{\r\n  &quot;name&quot; : &quot;Bob&#39;s Account&quot;,\r\n  &quot;roles&quot;: {\r\n    &quot;administrator&quot; : &quot;user-1&quot;,\r\n    &quot;owner&quot;         : &quot;user-1&quot;,\r\n    &quot;participant&quot;   : &quot;user-2&quot; \r\n  }\r\n}\r\n```\r\nAnd for the `User`s &#39;Bob&#39; and &#39;Alice&#39; i&#39;ve got this JSON data:\r\n```json\r\n{\r\n  &quot;name&quot;: &quot;Bob&quot;,\r\n  &quot;id&quot;  : &quot;user-1&quot;\r\n}\r\n```\r\n```json\r\n{\r\n  &quot;name&quot;: &quot;Alice&quot;,\r\n  &quot;id&quot;  : &quot;user-2&quot;\r\n}\r\n```\r\nWhat i&#39;d wanted to achieve is to deserialize the data into the following Java classes:\r\n```java\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\n\r\npublic class Account {\r\n  String name;\r\n  Map&lt;String, User&gt; roles = new HashMap&lt;&gt;();\r\n}\r\n```\r\nand\r\n```java\r\npublic class User {\r\n  String id;\r\n  String name;\r\n}\r\n```\r\nNotice that the `Account` class has a map that links `String` to a `User` instance.","title":"How to convert references into instances during JSON deserialization","body":"<p>This was a question, but it has been solved. I was trying to do deserialize some JSON data into Java POJO's. For example take the following JSON data:</p>\n<p>For the <code>Account</code> data i have the following JSON data which refers to users by their id:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot; : &quot;Bob's Account&quot;,\n  &quot;roles&quot;: {\n    &quot;administrator&quot; : &quot;user-1&quot;,\n    &quot;owner&quot;         : &quot;user-1&quot;,\n    &quot;participant&quot;   : &quot;user-2&quot; \n  }\n}\n</code></pre>\n<p>And for the <code>User</code>s 'Bob' and 'Alice' i've got this JSON data:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;Bob&quot;,\n  &quot;id&quot;  : &quot;user-1&quot;\n}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;Alice&quot;,\n  &quot;id&quot;  : &quot;user-2&quot;\n}\n</code></pre>\n<p>What i'd wanted to achieve is to deserialize the data into the following Java classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Map;\nimport java.util.HashMap;\n\npublic class Account {\n  String name;\n  Map&lt;String, User&gt; roles = new HashMap&lt;&gt;();\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n  String id;\n  String name;\n}\n</code></pre>\n<p>Notice that the <code>Account</code> class has a map that links <code>String</code> to a <code>User</code> instance.</p>\n"},{"tags":["java","kotlin","generics","inheritance","abstraction"],"comments":[{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1638870001,"post_id":70257758,"comment_id":124196405,"body_markdown":"Could you please explain a bit more what doesn&#39;t work with the current approach without generics? What error do you get / with which code?","body":"Could you please explain a bit more what doesn&#39;t work with the current approach without generics? What error do you get / with which code?"},{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":0,"creation_date":1638870053,"post_id":70257758,"comment_id":124196427,"body_markdown":"The overriding method doesn&#39;t work in both scenarios, so method `protected override fun makeRequest(requestBuilder: ConcreteRequestBuilder)` doesn&#39;t get matched by any of the 2 specified methods I used.","body":"The overriding method doesn&#39;t work in both scenarios, so method <code>protected override fun makeRequest(requestBuilder: ConcreteRequestBuilder)</code> doesn&#39;t get matched by any of the 2 specified methods I used."},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1638870092,"post_id":70257758,"comment_id":124196441,"body_markdown":"Ah yes, I see. I will try to explain in an answer","body":"Ah yes, I see. I will try to explain in an answer"}],"answers":[{"tags":[],"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638870901,"creation_date":1638870272,"answer_id":70257868,"question_id":70257758,"body_markdown":"You can&#39;t override a method with more specific argument types, because it breaks [Liskov&#39;s substitution principle](https://en.wikipedia.org/wiki/Liskov_substitution_principle):\r\n\r\n```kotlin\r\nval client: AbstractApiClient = ConcreteApiClient()\r\n\r\nclient.makeRequest(AbstractRequestBuilder())\r\n```\r\n\r\nAs you can see above, the `ConreteApiClient` implementation has to be able to handle all possible inputs of the parent class, because it could be accessed through the parent class&#39;s API.\r\n\r\nTo do what you want, you need to restrict the parent class itself via generics:\r\n\r\n```kotlin\r\nopen class AbstractApiClient&lt;R : AbstractRequestBuilder&gt; {\r\n  \r\n  open protected fun makeRequest(requestBuilder: R) {\r\n    // ... \r\n  }\r\n}\r\n\r\nclass ConcreteApiClient: AbstractApiClient&lt;ConcreteRequestBuilder&gt;() {\r\n  \r\n  protected override fun makeRequest(requestBuilder: ConcreteRequestBuilder) {\r\n    // ... \r\n  }\r\n}\r\n```\r\n\r\nThis way, any instance of `AbstractApiClient&lt;R&gt;` has to show which type of request builder it accepts (in the type argument). It prevents the above issue because now the parent type also carries information:\r\n\r\n```kotlin\r\n// doesn&#39;t compile\r\nval client: AbstractApiClient&lt;AbstractRequestBuilder&gt; = ConcreteApiClient() \r\n\r\n// this compiles\r\nval client: AbstractApiClient&lt;ConcreteRequestBuilder&gt; = ConcreteApiClient()\r\n```\r\n\r\n&gt; I tried this notation protected open fun &lt;R: ApiRequestBuilder&gt; make request(request builder: R)\r\n\r\nNow regarding this attempt, it doesn&#39;t work because if you make the *method* generic (not the *class*) it means every implementation of the method has to handle *all* kinds of `R` (NOT one `R` per implementation). Putting the generic on the class allows to specify the generic argument once per instance of the class.","title":"How to override method with inherited class in Kotlin?","body":"<p>You can't override a method with more specific argument types, because it breaks <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov's substitution principle</a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val client: AbstractApiClient = ConcreteApiClient()\n\nclient.makeRequest(AbstractRequestBuilder())\n</code></pre>\n<p>As you can see above, the <code>ConreteApiClient</code> implementation has to be able to handle all possible inputs of the parent class, because it could be accessed through the parent class's API.</p>\n<p>To do what you want, you need to restrict the parent class itself via generics:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>open class AbstractApiClient&lt;R : AbstractRequestBuilder&gt; {\n  \n  open protected fun makeRequest(requestBuilder: R) {\n    // ... \n  }\n}\n\nclass ConcreteApiClient: AbstractApiClient&lt;ConcreteRequestBuilder&gt;() {\n  \n  protected override fun makeRequest(requestBuilder: ConcreteRequestBuilder) {\n    // ... \n  }\n}\n</code></pre>\n<p>This way, any instance of <code>AbstractApiClient&lt;R&gt;</code> has to show which type of request builder it accepts (in the type argument). It prevents the above issue because now the parent type also carries information:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// doesn't compile\nval client: AbstractApiClient&lt;AbstractRequestBuilder&gt; = ConcreteApiClient() \n\n// this compiles\nval client: AbstractApiClient&lt;ConcreteRequestBuilder&gt; = ConcreteApiClient()\n</code></pre>\n<blockquote>\n<p>I tried this notation protected open fun &lt;R: ApiRequestBuilder&gt; make request(request builder: R)</p>\n</blockquote>\n<p>Now regarding this attempt, it doesn't work because if you make the <em>method</em> generic (not the <em>class</em>) it means every implementation of the method has to handle <em>all</em> kinds of <code>R</code> (NOT one <code>R</code> per implementation). Putting the generic on the class allows to specify the generic argument once per instance of the class.</p>\n"}],"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70257868,"answer_count":1,"score":1,"last_activity_date":1638870901,"creation_date":1638869798,"question_id":70257758,"body_markdown":"I am exploring and actively using generics in production with Kotlin.\r\n\r\nKotlin + generics is a big puzzle for me, so maybe you can explain and help me understand how it works here, compared to Java.\r\n\r\nI have class `AbstracApiClient` (not really abstract)\r\n\r\n```\r\nclass AbstracApiClient {\r\n  \r\n  open protected fun makeRequest(requestBuilder: AbstractRequestBuilder) {\r\n    // ... \r\n  }\r\n}\r\n```\r\n\r\n`AbstractRequestBuilder` (not really abstract):\r\n```\r\nopen class AbstractRequestBuilder {\r\n  ...\r\n}\r\n```\r\n\r\n`ConcreteApiClient` that inherits `AbstractApiClient` that should override makeRequest with `ConcreteRequestBuilder` inherited from `AbstractRequestBuilder`:\r\n```\r\nclass ConcreteApiClient: AbstractApiClient() {\r\n  \r\n  protected override fun makeRequest(requestBuilder: ConcreteRequestBuilder) {\r\n    // ... \r\n  }\r\n}\r\n\r\nclass ConcreteRequestBuilder: AbstractRequestBuilder()\r\n```\r\n\r\nAs I would have more concrete API clients. I would like to make an abstraction that I can pass inherited concrete requests builders and override `make requests method.\r\n\r\n1. I tried using it as it is but wouldn&#39;t work\r\n2. I tried this notation `protected open fun &lt;R: ApiRequestBuilder&gt; make request(request builder: R)` but it won&#39;t match overriding function which I want it to be: `protected override fun make request(request builder: ConcreteRequestBuilder)`\r\n\r\nWhat other options do I have? Am I missing something here?\r\n\r\n**Note:** I cannot use `interface` or `abstract classes` in this scenario, so ideally I would like to find a way with inheritance and functions overriding.","title":"How to override method with inherited class in Kotlin?","body":"<p>I am exploring and actively using generics in production with Kotlin.</p>\n<p>Kotlin + generics is a big puzzle for me, so maybe you can explain and help me understand how it works here, compared to Java.</p>\n<p>I have class <code>AbstracApiClient</code> (not really abstract)</p>\n<pre><code>class AbstracApiClient {\n  \n  open protected fun makeRequest(requestBuilder: AbstractRequestBuilder) {\n    // ... \n  }\n}\n</code></pre>\n<p><code>AbstractRequestBuilder</code> (not really abstract):</p>\n<pre><code>open class AbstractRequestBuilder {\n  ...\n}\n</code></pre>\n<p><code>ConcreteApiClient</code> that inherits <code>AbstractApiClient</code> that should override makeRequest with <code>ConcreteRequestBuilder</code> inherited from <code>AbstractRequestBuilder</code>:</p>\n<pre><code>class ConcreteApiClient: AbstractApiClient() {\n  \n  protected override fun makeRequest(requestBuilder: ConcreteRequestBuilder) {\n    // ... \n  }\n}\n\nclass ConcreteRequestBuilder: AbstractRequestBuilder()\n</code></pre>\n<p>As I would have more concrete API clients. I would like to make an abstraction that I can pass inherited concrete requests builders and override `make requests method.</p>\n<ol>\n<li>I tried using it as it is but wouldn't work</li>\n<li>I tried this notation <code>protected open fun &lt;R: ApiRequestBuilder&gt; make request(request builder: R)</code> but it won't match overriding function which I want it to be: <code>protected override fun make request(request builder: ConcreteRequestBuilder)</code></li>\n</ol>\n<p>What other options do I have? Am I missing something here?</p>\n<p><strong>Note:</strong> I cannot use <code>interface</code> or <code>abstract classes</code> in this scenario, so ideally I would like to find a way with inheritance and functions overriding.</p>\n"},{"tags":["java","sql-server","sql-server-2008"],"answers":[{"tags":[],"owner":{"account_id":45927,"reputation":119696,"user_id":135566,"display_name":"Devart"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1452251561,"creation_date":1452250491,"answer_id":34675317,"question_id":34675258,"body_markdown":"    SELECT ProductVersion = CAST(SERVERPROPERTY(&#39;ProductVersion&#39;) AS NVARCHAR(128)),\r\n           ProductLevel = CAST(SERVERPROPERTY(&#39;ProductLevel&#39;) AS NVARCHAR(128)),\r\n           Edition = CAST(SERVERPROPERTY(&#39;Edition&#39;) AS NVARCHAR(128))","title":"com.microsoft.sqlserver.jdbc.SQLServerException: The &quot;variant&quot; data type is not supported","body":"<pre><code>SELECT ProductVersion = CAST(SERVERPROPERTY('ProductVersion') AS NVARCHAR(128)),\n       ProductLevel = CAST(SERVERPROPERTY('ProductLevel') AS NVARCHAR(128)),\n       Edition = CAST(SERVERPROPERTY('Edition') AS NVARCHAR(128))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12012059,"reputation":215,"user_id":8788367,"display_name":"tonderaimuchada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581324945,"creation_date":1581324945,"answer_id":60146946,"question_id":34675258,"body_markdown":"The simpler way is just to alter the datatype from your database side.\r\n\r\nGo to the design of the table and change the column data types of the columns (productversion, productlevel &amp; edition) to NVARCHAR(128).\r\n\r\nI hope that this will work for you. Happy coding!!!","title":"com.microsoft.sqlserver.jdbc.SQLServerException: The &quot;variant&quot; data type is not supported","body":"<p>The simpler way is just to alter the datatype from your database side.</p>\n\n<p>Go to the design of the table and change the column data types of the columns (productversion, productlevel &amp; edition) to NVARCHAR(128).</p>\n\n<p>I hope that this will work for you. Happy coding!!!</p>\n"},{"tags":[],"owner":{"account_id":8587609,"reputation":1094,"user_id":6433161,"display_name":"Sandeep Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638870709,"creation_date":1638870709,"answer_id":70257976,"question_id":34675258,"body_markdown":"I simply resolved by correcting the connector version of sql server  : \r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n             &lt;version&gt;9.2.1.jre8&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;","title":"com.microsoft.sqlserver.jdbc.SQLServerException: The &quot;variant&quot; data type is not supported","body":"<p>I simply resolved by correcting the connector version of sql server  :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n         &lt;version&gt;9.2.1.jre8&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11927,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1638870709,"creation_date":1452250318,"question_id":34675258,"body_markdown":"I want to create simple Java code which displays MSSQL server version:\r\n\r\n\r\n    public void testMSSQLVersion() throws Exception\r\n        {\r\n            System.out.println(&quot;\\nTesting SQL query for MSSQL version\\n&quot;);\r\n    \r\n            try\r\n            {\r\n                // Load the SQLServerDriver class, build the\r\n                // connection string, and get a connection\r\n                Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n                String connectionUrl = &quot;jdbc:sqlserver://localhost:1433;&quot;\r\n                    + &quot;database=master;&quot;\r\n                    + &quot;user=admin;&quot;\r\n                    + &quot;password=dss!Q;&quot;;\r\n                Connection con = DriverManager.getConnection(connectionUrl);\r\n                System.out.println(&quot;Connected.&quot;);\r\n    \r\n                // Create and execute an SQL statement that returns some data.\r\n                String SQL = &quot;SELECT SERVERPROPERTY(&#39;productversion&#39;), SERVERPROPERTY(&#39;productlevel&#39;), SERVERPROPERTY(&#39;edition&#39;)&quot;;\r\n                Statement stmt = con.createStatement();\r\n                ResultSet rs = stmt.executeQuery(SQL);\r\n    \r\n                // Iterate through the data in the result set and display it.\r\n                while (rs.next())\r\n                {\r\n                    System.out.println(rs.getString(1));\r\n                }\r\n    \r\n            }\r\n            catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nBut when I run the code I get this error:\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: The &quot;variant&quot; data type is not supported.\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:190)\r\n    \tat com.microsoft.sqlserver.jdbc.TypeInfo$Builder$16.apply(dtv.java:1996)\r\n    \tat com.microsoft.sqlserver.jdbc.TypeInfo$Builder.build(dtv.java:2158)\r\n\r\nIs there any solution for this problem?","title":"com.microsoft.sqlserver.jdbc.SQLServerException: The &quot;variant&quot; data type is not supported","body":"<p>I want to create simple Java code which displays MSSQL server version:</p>\n\n<pre><code>public void testMSSQLVersion() throws Exception\n    {\n        System.out.println(\"\\nTesting SQL query for MSSQL version\\n\");\n\n        try\n        {\n            // Load the SQLServerDriver class, build the\n            // connection string, and get a connection\n            Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n            String connectionUrl = \"jdbc:sqlserver://localhost:1433;\"\n                + \"database=master;\"\n                + \"user=admin;\"\n                + \"password=dss!Q;\";\n            Connection con = DriverManager.getConnection(connectionUrl);\n            System.out.println(\"Connected.\");\n\n            // Create and execute an SQL statement that returns some data.\n            String SQL = \"SELECT SERVERPROPERTY('productversion'), SERVERPROPERTY('productlevel'), SERVERPROPERTY('edition')\";\n            Statement stmt = con.createStatement();\n            ResultSet rs = stmt.executeQuery(SQL);\n\n            // Iterate through the data in the result set and display it.\n            while (rs.next())\n            {\n                System.out.println(rs.getString(1));\n            }\n\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>But when I run the code I get this error:</p>\n\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: The \"variant\" data type is not supported.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:190)\n    at com.microsoft.sqlserver.jdbc.TypeInfo$Builder$16.apply(dtv.java:1996)\n    at com.microsoft.sqlserver.jdbc.TypeInfo$Builder.build(dtv.java:2158)\n</code></pre>\n\n<p>Is there any solution for this problem?</p>\n"},{"tags":["java","algorithm","search","maze"],"comments":[{"owner":{"account_id":8274254,"reputation":6929,"user_id":6221024,"display_name":"Dillon Davis"},"score":0,"creation_date":1638749139,"post_id":70239162,"comment_id":124164412,"body_markdown":"Could you give a small sample maze, just to make sure we interpret your problem correctly?","body":"Could you give a small sample maze, just to make sure we interpret your problem correctly?"},{"owner":{"account_id":11287736,"reputation":11,"user_id":8277977,"display_name":"Kevin Weng Jr."},"score":0,"creation_date":1638753868,"post_id":70239162,"comment_id":124165126,"body_markdown":"@DillonDavis Edited post to include sample maze.","body":"@DillonDavis Edited post to include sample maze."},{"owner":{"account_id":1463487,"reputation":16359,"user_id":1377097,"display_name":"beaker"},"score":1,"creation_date":1638804578,"post_id":70239162,"comment_id":124178961,"body_markdown":"This sounds like a setup for [A* search](https://en.wikipedia.org/wiki/A*_search_algorithm).","body":"This sounds like a setup for <a href=\"https://en.wikipedia.org/wiki/A%2A_search_algorithm\" rel=\"nofollow noreferrer\">A* search</a>."},{"owner":{"account_id":11287736,"reputation":11,"user_id":8277977,"display_name":"Kevin Weng Jr."},"score":0,"creation_date":1638813334,"post_id":70239162,"comment_id":124182400,"body_markdown":"@beaker I tried implementing A* search, which as far as I know involves choosing a node with the lowest f-score in an openList  but ran into the difficulty of not being able to get the neighbors of that node. (Recall how I can only get the neighbors of the very node I stand on.)","body":"@beaker I tried implementing A* search, which as far as I know involves choosing a node with the lowest f-score in an openList  but ran into the difficulty of not being able to get the neighbors of that node. (Recall how I can only get the neighbors of the very node I stand on.)"},{"owner":{"account_id":1463487,"reputation":16359,"user_id":1377097,"display_name":"beaker"},"score":1,"creation_date":1638814131,"post_id":70239162,"comment_id":124182681,"body_markdown":"Those are the only neighbors you need.","body":"Those are the only neighbors you need."},{"owner":{"account_id":11287736,"reputation":11,"user_id":8277977,"display_name":"Kevin Weng Jr."},"score":0,"creation_date":1638815983,"post_id":70239162,"comment_id":124183317,"body_markdown":"So should my A* simply move my character to the node with the lowest f-score? How do I implement an A* that uses the neighbors of my current location without picking out a node and then enumerating its neighbors?","body":"So should my A* simply move my character to the node with the lowest f-score? How do I implement an A* that uses the neighbors of my current location without picking out a node and then enumerating its neighbors?"},{"owner":{"account_id":5886544,"reputation":959,"user_id":4634373,"display_name":"inordirection"},"score":0,"creation_date":1638845645,"post_id":70239162,"comment_id":124190624,"body_markdown":"@beaker With A* you need information about more than one node to choose the next node to explore. You have a priority queue of all unexplored nodes ordered by shortest estimated distance to the goal. In OP&#39;s setup, you can&#39;t simultaneously stand on all of these nodes at once, you only have information about 1 node","body":"@beaker With A* you need information about more than one node to choose the next node to explore. You have a priority queue of all unexplored nodes ordered by shortest estimated distance to the goal. In OP&#39;s setup, you can&#39;t simultaneously stand on all of these nodes at once, you only have information about 1 node"},{"owner":{"account_id":11287736,"reputation":11,"user_id":8277977,"display_name":"Kevin Weng Jr."},"score":0,"creation_date":1638849564,"post_id":70239162,"comment_id":124191240,"body_markdown":"@inordirection To clarify, at any given point in the maze I have information on up to 5 nodes -- the one I am standing on and up to 4 that I can walk to from there. I can also store all this this information throughout my walk. Does that change my circumstance at all?","body":"@inordirection To clarify, at any given point in the maze I have information on up to 5 nodes -- the one I am standing on and up to 4 that I can walk to from there. I can also store all this this information throughout my walk. Does that change my circumstance at all?"},{"owner":{"account_id":1463487,"reputation":16359,"user_id":1377097,"display_name":"beaker"},"score":0,"creation_date":1638851748,"post_id":70239162,"comment_id":124191575,"body_markdown":"@inordirection Ah, yes. If you must commit to a move in order to check its neighbors and cannot backtrack, then you cannot guarantee any approach will give you the optimal solution.","body":"@inordirection Ah, yes. If you must commit to a move in order to check its neighbors and cannot backtrack, then you cannot guarantee any approach will give you the optimal solution."},{"owner":{"account_id":5886544,"reputation":959,"user_id":4634373,"display_name":"inordirection"},"score":0,"creation_date":1638851832,"post_id":70239162,"comment_id":124191584,"body_markdown":"@KevinWengJr. Yeah, in that case you actually could do A* as you could theoretically maintain its priority queue of estimated distances for the open nodes, but for any node you pop from the queue you would have to backtrack to it before you could expand/explore it. There would be a lot of overhead involved in shuffling back and forth between nodes in the frontier like that, storing/maintaining the information that would allow you to do so. So you could get the optimal path with A* here, but the overhead would make the complexity for finding it with A* quite bad.","body":"@KevinWengJr. Yeah, in that case you actually could do A* as you could theoretically maintain its priority queue of estimated distances for the open nodes, but for any node you pop from the queue you would have to backtrack to it before you could expand/explore it. There would be a lot of overhead involved in shuffling back and forth between nodes in the frontier like that, storing/maintaining the information that would allow you to do so. So you could get the optimal path with A* here, but the overhead would make the complexity for finding it with A* quite bad."},{"owner":{"account_id":5886544,"reputation":959,"user_id":4634373,"display_name":"inordirection"},"score":0,"creation_date":1638852076,"post_id":70239162,"comment_id":124191629,"body_markdown":"@KevinWengJr. I think you would probably be better with a kind of heuristically guided DFS, where you just have to maintain the current path you&#39;ve taken and a visited set, and then at every iteration recurse on the unvisited neighbor with the lowest manhattan distance to the goal (rather than iterating over neighbors and recursing on them in arbitrary order). If you ever reach a node with no unexplored neighbors and you need to backtrack, you could use/pop the path you&#39;ve built to backtrack up the DFS tree until you find a node with an unexplored neighbor again.","body":"@KevinWengJr. I think you would probably be better with a kind of heuristically guided DFS, where you just have to maintain the current path you&#39;ve taken and a visited set, and then at every iteration recurse on the unvisited neighbor with the lowest manhattan distance to the goal (rather than iterating over neighbors and recursing on them in arbitrary order). If you ever reach a node with no unexplored neighbors and you need to backtrack, you could use/pop the path you&#39;ve built to backtrack up the DFS tree until you find a node with an unexplored neighbor again."},{"owner":{"account_id":5886544,"reputation":959,"user_id":4634373,"display_name":"inordirection"},"score":0,"creation_date":1638852202,"post_id":70239162,"comment_id":124191651,"body_markdown":"@KevinWengJr. This sort of approach wouldn&#39;t give you the guaranteed optimal solution but it would run a lot faster than A* because of its much simpler backtracking, and would most likely be quicker and more optimal than naive DFS as well,","body":"@KevinWengJr. This sort of approach wouldn&#39;t give you the guaranteed optimal solution but it would run a lot faster than A* because of its much simpler backtracking, and would most likely be quicker and more optimal than naive DFS as well,"},{"owner":{"account_id":5886544,"reputation":959,"user_id":4634373,"display_name":"inordirection"},"score":0,"creation_date":1638852711,"post_id":70239162,"comment_id":124191746,"body_markdown":"@KevinWengJr. If strict optimality is really important though, then you could try to store alongside every node in A*&#39;s frontier/priority queue the path you could take to get back to it from your current location, and update all these paths every time you make a move so that when you pop from the queue the node with the lowest f(n), you know how to backtrack to it from your current location because of its stored path. I think that could be pretty hard to implement though.","body":"@KevinWengJr. If strict optimality is really important though, then you could try to store alongside every node in A*&#39;s frontier/priority queue the path you could take to get back to it from your current location, and update all these paths every time you make a move so that when you pop from the queue the node with the lowest f(n), you know how to backtrack to it from your current location because of its stored path. I think that could be pretty hard to implement though."},{"owner":{"account_id":11287736,"reputation":11,"user_id":8277977,"display_name":"Kevin Weng Jr."},"score":0,"creation_date":1638853934,"post_id":70239162,"comment_id":124191979,"body_markdown":"@inordirection Great, thanks for the ideas! I tried to implement a sort of heuristically guided DFS as you suggested, shown in the updated post. It&#39;s certainly much better than the unguided DFS, but I would like to pursue further optimality. I&#39;m wondering if A* would be possible here","body":"@inordirection Great, thanks for the ideas! I tried to implement a sort of heuristically guided DFS as you suggested, shown in the updated post. It&#39;s certainly much better than the unguided DFS, but I would like to pursue further optimality. I&#39;m wondering if A* would be possible here"},{"owner":{"account_id":11287736,"reputation":11,"user_id":8277977,"display_name":"Kevin Weng Jr."},"score":0,"creation_date":1638871013,"post_id":70239162,"comment_id":124196780,"body_markdown":"@inordirection So I think I&#39;ve settled on a heuristic-based recursive DFS, particularly one that uses the same heuristic as A*: the sum of current node&#39;s distance to exit and current node&#39;s distance to start. This is apparently referred to in https://www.aaai.org/Papers/JAIR/Vol21/JAIR-2119.pdf as &quot;A*DFS&quot;. But I don&#39;t know how to go about saving the distances from the current node to the starting node, especially since 1. my method is recursive and 2. at any given game state I only have access to my own node and its neighbors.","body":"@inordirection So I think I&#39;ve settled on a heuristic-based recursive DFS, particularly one that uses the same heuristic as A*: the sum of current node&#39;s distance to exit and current node&#39;s distance to start. This is apparently referred to in <a href=\"https://www.aaai.org/Papers/JAIR/Vol21/JAIR-2119.pdf\" rel=\"nofollow noreferrer\">aaai.org/Papers/JAIR/Vol21/JAIR-2119.pdf</a> as &quot;A*DFS&quot;. But I don&#39;t know how to go about saving the distances from the current node to the starting node, especially since 1. my method is recursive and 2. at any given game state I only have access to my own node and its neighbors."},{"owner":{"account_id":5886544,"reputation":959,"user_id":4634373,"display_name":"inordirection"},"score":0,"creation_date":1638905243,"post_id":70239162,"comment_id":124210700,"body_markdown":"Your dfs would need a visited set though, right? And a current path which it could use to backtrack and which it would return once it finds the goal node? These could just be parameters to the dfs function of course. I think that you could use the length of the current path as your g(n), but since you&#39;re always making a choice between the neighbors of one node and they all would have g(n) = currentPath.length + 1, I don&#39;t think the g(n) could actually influence your decision as it would be the same for every node you&#39;re choosing between.","body":"Your dfs would need a visited set though, right? And a current path which it could use to backtrack and which it would return once it finds the goal node? These could just be parameters to the dfs function of course. I think that you could use the length of the current path as your g(n), but since you&#39;re always making a choice between the neighbors of one node and they all would have g(n) = currentPath.length + 1, I don&#39;t think the g(n) could actually influence your decision as it would be the same for every node you&#39;re choosing between."},{"owner":{"account_id":5886544,"reputation":959,"user_id":4634373,"display_name":"inordirection"},"score":0,"creation_date":1638905634,"post_id":70239162,"comment_id":124210849,"body_markdown":"Maybe the A*DFS the paper is referencing is calculating g(n) not just as the length of the current path walked, but as an absolute distance from the start node to the current position. So you could use euclidean distance there instead of path length, but I&#39;m not sure that would actually help for optimality since you mainly care about path-length","body":"Maybe the A*DFS the paper is referencing is calculating g(n) not just as the length of the current path walked, but as an absolute distance from the start node to the current position. So you could use euclidean distance there instead of path length, but I&#39;m not sure that would actually help for optimality since you mainly care about path-length"}],"owner":{"account_id":11287736,"reputation":11,"user_id":8277977,"display_name":"Kevin Weng Jr."},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638870517,"creation_date":1638743775,"question_id":70239162,"body_markdown":"I&#39;ve been looking for an optimal, efficient algorithm in Java that will walk to the exit of a maze (4-directional movement), given only 3 pieces of information:\r\n\r\n1. Our current location and current Manhattan distance to exit\r\n\r\n2. Traversable tiles adjacent to current location, and their Manhattan distances to exit\r\n\r\nWe do NOT know the exact location of the exit, only how far we (and our neighboring tiles) are from it. \r\n\r\nWe CANNOT access neighbors of neighbors, or neighbors of any other node that we are not currently standing on.\r\n\r\nWe access our current location, distance from the exit, and our neighboring NodeDatas from State s. Each node has a long ID associated with it.\r\n\r\nNodeDatas are Comparable and thus sortable by their distances to the exit.\r\n\r\nMy current algorithm is a somewhat-optimized greedy depth first walk of the maze, which is acceptably efficient but is often thrown off by tiles that seem &quot;closer&quot; to the exit but don&#39;t actually lead to it. I was wondering if there was any further steps I could take to optimize the algorithm, or perhaps supplant it with some sort of A*.\r\n\r\n        private boolean smartDFS(SeekState s) {\r\n        long u= s.currentLocation();\r\n        FibonacciHeap&lt;Long&gt; toVisit= new FibonacciHeap&lt;&gt;();\r\n        if (s.distanceToRing() == 0) return true;\r\n        visited.add(u);\r\n        for (NodeStatus w : s.neighbors()) {\r\n            long wID= w.getId();\r\n            if (!visited.contains(wID)) {\r\n                toVisit.enqueue(wID, w.getDistanceToRing());\r\n            }\r\n        }\r\n        while (!toVisit.isEmpty()) {\r\n            long wID= toVisit.dequeueMin().getValue();\r\n            s.moveTo(wID);\r\n            if (smartDFS(s)) return true;\r\n            s.moveTo(u);\r\n        }\r\n        return false;\r\n    }\r\n\r\nI&#39;ve read this thread on an apparently similar issue: https://stackoverflow.com/questions/40175098/optimal-algorithm-to-find-exit-of-a-maze-with-no-information, but the answer isn&#39;t concrete enough for me to understand.\r\n\r\nThe mazes in my problem are not perfect (they have multiple solutions). My program runs via a GUI, but an example of a maze, where 1&#39;s are walls, periods are paths, and X is the goal would be: \r\n\r\n    1  1  1  1  1  1  1  1  1  1  1  1\r\n    .  .  1  .  1  .  .  1  1  1  1  1\r\n    1  .  1  .  .  .  .  1  1  1  1  1\r\n    1  .  1  1  .  1  1  1  1  1  1  1\r\n    1  .  .  .  .  .  .  .  .  1  1  1\r\n    1  1  .  1  .  1  .  1  .  .  1  1\r\n    1  .  .  1  .  1  .  1  .  .  X  1\r\n    1  .  1  .  .  .  .  1  1  .  .  1\r\n    1  .  .  .  1  1  1  1  1  .  .  1\r\n    1  .  1  .  .  .  1  1  1  .  .  1\r\n    1  .  1  .  1  .  1  1  1  .  .  1\r\n    1  .  1  .  1  .  1  .  .  1  .  1\r\n    1  .  .  .  .  .  .  .  .  .  .  1\r\n    1  1  1  1  1  1  1  1  1  1  1  1\r\n\r\nAny ideas?\r\n\r\nEDIT: \r\n\r\nTo be extra clear, here is how my game is structured:\r\n\r\nMy traversal algorithm has access to a game state State s. State s contains the following functions:\r\n\r\n    // returns the id of current location\r\n    long currentLocation();\r\n\r\n    // returns NodeData of current neighbors\r\n    Collection&lt;NodeData&gt; neighbors();\r\n\r\n    // returns current distance to exit\r\n    int distanceToExit();\r\n\r\n    // moves player to node with the specified id\r\n    void moveTo(long id);\r\n\r\nInstances of NodeData, which are Comparable, contain information about a node, namely;\r\n\r\n    long getId();\r\n\r\n    int getDistancetoExit();\r\n\r\n    // compareTo() and equals() are also implemented.\r\n\r\nComplexity is almost a non-concern, and anything in O(n!) time is probably fine. What I want to minimize is the number of total steps I take.","title":"How to find optimal solution of a maze with limited information","body":"<p>I've been looking for an optimal, efficient algorithm in Java that will walk to the exit of a maze (4-directional movement), given only 3 pieces of information:</p>\n<ol>\n<li><p>Our current location and current Manhattan distance to exit</p>\n</li>\n<li><p>Traversable tiles adjacent to current location, and their Manhattan distances to exit</p>\n</li>\n</ol>\n<p>We do NOT know the exact location of the exit, only how far we (and our neighboring tiles) are from it.</p>\n<p>We CANNOT access neighbors of neighbors, or neighbors of any other node that we are not currently standing on.</p>\n<p>We access our current location, distance from the exit, and our neighboring NodeDatas from State s. Each node has a long ID associated with it.</p>\n<p>NodeDatas are Comparable and thus sortable by their distances to the exit.</p>\n<p>My current algorithm is a somewhat-optimized greedy depth first walk of the maze, which is acceptably efficient but is often thrown off by tiles that seem &quot;closer&quot; to the exit but don't actually lead to it. I was wondering if there was any further steps I could take to optimize the algorithm, or perhaps supplant it with some sort of A*.</p>\n<pre><code>    private boolean smartDFS(SeekState s) {\n    long u= s.currentLocation();\n    FibonacciHeap&lt;Long&gt; toVisit= new FibonacciHeap&lt;&gt;();\n    if (s.distanceToRing() == 0) return true;\n    visited.add(u);\n    for (NodeStatus w : s.neighbors()) {\n        long wID= w.getId();\n        if (!visited.contains(wID)) {\n            toVisit.enqueue(wID, w.getDistanceToRing());\n        }\n    }\n    while (!toVisit.isEmpty()) {\n        long wID= toVisit.dequeueMin().getValue();\n        s.moveTo(wID);\n        if (smartDFS(s)) return true;\n        s.moveTo(u);\n    }\n    return false;\n}\n</code></pre>\n<p>I've read this thread on an apparently similar issue: <a href=\"https://stackoverflow.com/questions/40175098/optimal-algorithm-to-find-exit-of-a-maze-with-no-information\">Optimal algorithm to find exit of a maze with no information</a>, but the answer isn't concrete enough for me to understand.</p>\n<p>The mazes in my problem are not perfect (they have multiple solutions). My program runs via a GUI, but an example of a maze, where 1's are walls, periods are paths, and X is the goal would be:</p>\n<pre><code>1  1  1  1  1  1  1  1  1  1  1  1\n.  .  1  .  1  .  .  1  1  1  1  1\n1  .  1  .  .  .  .  1  1  1  1  1\n1  .  1  1  .  1  1  1  1  1  1  1\n1  .  .  .  .  .  .  .  .  1  1  1\n1  1  .  1  .  1  .  1  .  .  1  1\n1  .  .  1  .  1  .  1  .  .  X  1\n1  .  1  .  .  .  .  1  1  .  .  1\n1  .  .  .  1  1  1  1  1  .  .  1\n1  .  1  .  .  .  1  1  1  .  .  1\n1  .  1  .  1  .  1  1  1  .  .  1\n1  .  1  .  1  .  1  .  .  1  .  1\n1  .  .  .  .  .  .  .  .  .  .  1\n1  1  1  1  1  1  1  1  1  1  1  1\n</code></pre>\n<p>Any ideas?</p>\n<p>EDIT:</p>\n<p>To be extra clear, here is how my game is structured:</p>\n<p>My traversal algorithm has access to a game state State s. State s contains the following functions:</p>\n<pre><code>// returns the id of current location\nlong currentLocation();\n\n// returns NodeData of current neighbors\nCollection&lt;NodeData&gt; neighbors();\n\n// returns current distance to exit\nint distanceToExit();\n\n// moves player to node with the specified id\nvoid moveTo(long id);\n</code></pre>\n<p>Instances of NodeData, which are Comparable, contain information about a node, namely;</p>\n<pre><code>long getId();\n\nint getDistancetoExit();\n\n// compareTo() and equals() are also implemented.\n</code></pre>\n<p>Complexity is almost a non-concern, and anything in O(n!) time is probably fine. What I want to minimize is the number of total steps I take.</p>\n"},{"tags":["java","android","sql","sqlite","android-room"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1636379000,"post_id":69884421,"comment_id":123533247,"body_markdown":"Which dbms are you using?","body":"Which dbms are you using?"},{"owner":{"account_id":22873125,"reputation":492,"user_id":17015855,"display_name":"Tilen"},"score":0,"creation_date":1636379084,"post_id":69884421,"comment_id":123533275,"body_markdown":"I don&#39;t know RoomDB myself, but checking around a bit, I saw that it uses `NULLIF` to check for nulls and replace them. You can list all parameters and then do `OR field1 like nullif(:param2, field1)`. This will make the parameter optional. This will essentially, in the case of a null, inner join the table with itself, meaning it&#39;ll get the same results as if the parameter wasn&#39;t even there. Alternatively, you can use `AND (field1 LIKE :param OR :param IS NULL)`.","body":"I don&#39;t know RoomDB myself, but checking around a bit, I saw that it uses <code>NULLIF</code> to check for nulls and replace them. You can list all parameters and then do <code>OR field1 like nullif(:param2, field1)</code>. This will make the parameter optional. This will essentially, in the case of a null, inner join the table with itself, meaning it&#39;ll get the same results as if the parameter wasn&#39;t even there. Alternatively, you can use <code>AND (field1 LIKE :param OR :param IS NULL)</code>."},{"owner":{"account_id":4545435,"reputation":860,"user_id":3692177,"accept_rate":88,"display_name":"SebasSBM"},"score":0,"creation_date":1636380707,"post_id":69884421,"comment_id":123533983,"body_markdown":"@jarlh I beg your pardon: what&#39;s a dbms (maybe Database Management System?). I use Android Room, if that counts as a DBMS...","body":"@jarlh I beg your pardon: what&#39;s a dbms (maybe Database Management System?). I use Android Room, if that counts as a DBMS..."},{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1636380772,"post_id":69884421,"comment_id":123534010,"body_markdown":"The software reading SQL and that manages the tables and the data. Perhaps SQLite?","body":"The software reading SQL and that manages the tables and the data. Perhaps SQLite?"},{"owner":{"account_id":4545435,"reputation":860,"user_id":3692177,"accept_rate":88,"display_name":"SebasSBM"},"score":0,"creation_date":1636380856,"post_id":69884421,"comment_id":123534045,"body_markdown":"@jarlh Well, Android Room relies on SQLite, so... yes, I guess","body":"@jarlh Well, Android Room relies on SQLite, so... yes, I guess"}],"answers":[{"tags":[],"owner":{"account_id":4829520,"reputation":64,"user_id":3898032,"display_name":"dave110022"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636379864,"creation_date":1636379864,"answer_id":69884658,"question_id":69884421,"body_markdown":"Create the query programatically with the list of parameters.","title":"Howto make SELECT queries with variable size for filtering parameters?","body":"<p>Create the query programatically with the list of parameters.</p>\n"},{"tags":[],"owner":{"account_id":4545435,"reputation":860,"user_id":3692177,"accept_rate":88,"display_name":"SebasSBM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636399154,"creation_date":1636399154,"answer_id":69888818,"question_id":69884421,"body_markdown":"I haven&#39;t tested this yet, but according to [this link][1], this might do the job for `OR`-like filtering:\r\n\r\n    @Query(&quot;SELECT * FROM table WHERE field1 IN(:params)&quot;)\r\n    LiveData&lt;List&lt;Table&gt;&gt; filterTableData(List&lt;String&gt; params);\r\n\r\nHowever, I don&#39;t have any idea for `AND`-like filtering (yet)...\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/room/Query","title":"Howto make SELECT queries with variable size for filtering parameters?","body":"<p>I haven't tested this yet, but according to <a href=\"https://developer.android.com/reference/androidx/room/Query\" rel=\"nofollow noreferrer\">this link</a>, this might do the job for <code>OR</code>-like filtering:</p>\n<pre><code>@Query(&quot;SELECT * FROM table WHERE field1 IN(:params)&quot;)\nLiveData&lt;List&lt;Table&gt;&gt; filterTableData(List&lt;String&gt; params);\n</code></pre>\n<p>However, I don't have any idea for <code>AND</code>-like filtering (yet)...</p>\n"},{"tags":[],"owner":{"account_id":22131826,"reputation":45,"user_id":17062040,"display_name":"Dharmik "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638870161,"creation_date":1638870161,"answer_id":70257838,"question_id":69884421,"body_markdown":"add this in your database  class\r\n```\r\n public byte [] get(String query){\r\n        try {\r\n\r\n            SQLiteDatabase db = this.getReadableDatabase();\r\n            Cursor cursor = db.rawQuery(query,null);\r\n\r\n            if (cursor.moveToFirst()){\r\n                return  cursor.getBlob(0);\r\n            }\r\n            return null;\r\n\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\n and use this for retrive image\r\n```\r\ndb_class = new DatabaseClass(MainActivity.this);\r\n            byte [] img = db_class.get(&quot;SELECT IMG FROM data WHERE id = 1&quot;);\r\n            if (img != null){\r\n                Bitmap bitmap = convertbytearyrtobitmap(img);\r\n                imageView.setImageBitmap(bitmap);\r\n            }\r\n```","title":"Howto make SELECT queries with variable size for filtering parameters?","body":"<p>add this in your database  class</p>\n<pre><code> public byte [] get(String query){\n        try {\n\n            SQLiteDatabase db = this.getReadableDatabase();\n            Cursor cursor = db.rawQuery(query,null);\n\n            if (cursor.moveToFirst()){\n                return  cursor.getBlob(0);\n            }\n            return null;\n\n        } catch (Exception e){\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>and use this for retrive image</p>\n<pre><code>db_class = new DatabaseClass(MainActivity.this);\n            byte [] img = db_class.get(&quot;SELECT IMG FROM data WHERE id = 1&quot;);\n            if (img != null){\n                Bitmap bitmap = convertbytearyrtobitmap(img);\n                imageView.setImageBitmap(bitmap);\n            }\n</code></pre>\n"}],"owner":{"account_id":4545435,"reputation":860,"user_id":3692177,"accept_rate":88,"display_name":"SebasSBM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1638870161,"creation_date":1636378775,"question_id":69884421,"body_markdown":"With RoomBD I could make in a DAO a query like this one:\r\n\r\n    @Query(&quot;SELECT * FROM table &quot;\r\n         + &quot;WHERE field1 LIKE :param1 &quot;\r\n         + &quot;OR field1 LIKE :param2 &quot;\r\n         + &quot;OR field1 LIKE :param3&quot;)\r\n    public LiveData&lt;List&lt;Table&gt;&gt; filterTableData(String param1, String param2, String param3);\r\n\r\n...but the point is that i need to do this kind of SELECT statement with a variable amount of filtering parameters, so I don&#39;t have to redundantly create multiple `filterTableData` methods in the DAO that would do exactly the same thing but with a different amount of filtering parameters. Is there a way to do so?\r\n\r\n    // XXX What I&#39;d like it to be (SQL is pseudocode here)\r\n    @Query(&quot;SELECT * FROM table WHERE field1 LIKE :any_of_the_parameters&quot;)\r\n    public LiveData&lt;List&lt;Table&gt;&gt; filterTableData(ArrayList&lt;String&gt; params);","title":"Howto make SELECT queries with variable size for filtering parameters?","body":"<p>With RoomBD I could make in a DAO a query like this one:</p>\n<pre><code>@Query(&quot;SELECT * FROM table &quot;\n     + &quot;WHERE field1 LIKE :param1 &quot;\n     + &quot;OR field1 LIKE :param2 &quot;\n     + &quot;OR field1 LIKE :param3&quot;)\npublic LiveData&lt;List&lt;Table&gt;&gt; filterTableData(String param1, String param2, String param3);\n</code></pre>\n<p>...but the point is that i need to do this kind of SELECT statement with a variable amount of filtering parameters, so I don't have to redundantly create multiple <code>filterTableData</code> methods in the DAO that would do exactly the same thing but with a different amount of filtering parameters. Is there a way to do so?</p>\n<pre><code>// XXX What I'd like it to be (SQL is pseudocode here)\n@Query(&quot;SELECT * FROM table WHERE field1 LIKE :any_of_the_parameters&quot;)\npublic LiveData&lt;List&lt;Table&gt;&gt; filterTableData(ArrayList&lt;String&gt; params);\n</code></pre>\n"},{"tags":["java","android","sqlite","android-studio"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636542754,"creation_date":1636539024,"answer_id":69911333,"question_id":69911026,"body_markdown":"Try using :-\r\n\r\n    db.delete(&quot;data&quot;, &quot;entryid=?&quot;, new String[]{String.valueOf(entryid)});\r\n\r\nRe comment:-\r\n\r\n&gt; Unfortunately that didn&#39;t change anything, ....\r\n\r\n I believe that you also need to change :-\r\n\r\n    else if (v.equals(_btnDelete)){\r\n                Integer val = Integer.parseInt(_etDelete.getText().toString());\r\n                db.deleteEntry(val);\r\n            }\r\n\r\nto \r\n\r\n    else if (view.getId() == R.id.btnDelete){\r\n                Integer val = Integer.parseInt(_etDelete.getText().toString());\r\n                db.deleteEntry(val);\r\n            }\r\n\r\n","title":"Can&#39;t delete SQLite Database entry with EditText and Button","body":"<p>Try using :-</p>\n<pre><code>db.delete(&quot;data&quot;, &quot;entryid=?&quot;, new String[]{String.valueOf(entryid)});\n</code></pre>\n<p>Re comment:-</p>\n<blockquote>\n<p>Unfortunately that didn't change anything, ....</p>\n</blockquote>\n<p>I believe that you also need to change :-</p>\n<pre><code>else if (v.equals(_btnDelete)){\n            Integer val = Integer.parseInt(_etDelete.getText().toString());\n            db.deleteEntry(val);\n        }\n</code></pre>\n<p>to</p>\n<pre><code>else if (view.getId() == R.id.btnDelete){\n            Integer val = Integer.parseInt(_etDelete.getText().toString());\n            db.deleteEntry(val);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18062773,"reputation":588,"user_id":13129513,"display_name":"S&#225;ndor Kriszti&#225;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636540416,"creation_date":1636540416,"answer_id":69911716,"question_id":69911026,"body_markdown":"Try this: \r\n\r\n    public void deleteEntry(Integer entryid){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        db.delete(&quot;data&quot;, &quot;entryid&quot; + &quot;=&#39;&quot; + entryid + &quot;&#39;&quot;, null);\r\n    }\r\n\r\nAlthough **&quot;** is more recently supported, it is better for **&#39;** to denote SQL strings. \r\n","title":"Can&#39;t delete SQLite Database entry with EditText and Button","body":"<p>Try this:</p>\n<pre><code>public void deleteEntry(Integer entryid){\n    SQLiteDatabase db = this.getWritableDatabase();\n    db.delete(&quot;data&quot;, &quot;entryid&quot; + &quot;='&quot; + entryid + &quot;'&quot;, null);\n}\n</code></pre>\n<p>Although <strong>&quot;</strong> is more recently supported, it is better for <strong>'</strong> to denote SQL strings.</p>\n"},{"tags":[],"owner":{"account_id":22131826,"reputation":45,"user_id":17062040,"display_name":"Dharmik "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638869967,"creation_date":1638869967,"answer_id":70257798,"question_id":69911026,"body_markdown":"try  this it may help you\r\n\r\n```\r\npublic void removeSingleItem(String id) {\r\n        SQLiteDatabase database = this.getWritableDatabase();\r\n\r\n        long result = database.delete(TableName, &quot;id=?&quot;, new String[]{id});\r\n        if (result == -1) {\r\n            Toast.makeText(context, &quot;Item Not Deleted&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(context, &quot;Item Deleted Successfully&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n```","title":"Can&#39;t delete SQLite Database entry with EditText and Button","body":"<p>try  this it may help you</p>\n<pre><code>public void removeSingleItem(String id) {\n        SQLiteDatabase database = this.getWritableDatabase();\n\n        long result = database.delete(TableName, &quot;id=?&quot;, new String[]{id});\n        if (result == -1) {\n            Toast.makeText(context, &quot;Item Not Deleted&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(context, &quot;Item Deleted Successfully&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":23293294,"reputation":11,"user_id":17375038,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1638869967,"creation_date":1636537704,"question_id":69911026,"body_markdown":"I&#39;m trying to implement a method, so I can enter a value (integer) into an edittext field and click a button to delete an SQLite Database entry. I can&#39;t seem to get it to work though.\r\n\r\nHere is the method in the DatabaseManager class:\r\n\r\n    public void deleteEntry(Integer entryid){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        db.delete(&quot;data&quot;, &quot;entryid&quot; + &quot;=\\&quot;&quot; + entryid + &quot;\\&quot;&quot;, null);\r\n    }\r\n\r\nHere is the declaration in the activity class:\r\n   \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_history);\r\n\r\n        _btnDelete = (Button) findViewById(R.id.btnDelete);\r\n        _etDelete = (EditText) findViewById(R.id.etDelete);\r\n        db = new DatabaseManager(this);\r\n\r\n        _btnDelete.setOnClickListener(this);\r\n        \r\n        }\r\n\r\nAnd here is the method I&#39;m calling in the Activity, when the delete button is clicked:\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n    [...]\r\n    else if (v.equals(_btnDelete)){\r\n                Integer val = Integer.parseInt(_etDelete.getText().toString());\r\n                db.deleteEntry(val);\r\n            }\r\n\r\nAnd here is the layout for the EditText and Button:\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/etDelete&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;60dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:digits=&quot;0123456789&quot;\r\n                    android:inputType=&quot;number&quot;\r\n                    android:hint=&quot;Enter ID to delete&quot;/&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/btnDelete&quot;\r\n                    android:layout_width=&quot;180dp&quot;\r\n                    android:layout_height=&quot;60dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;Delete&quot;/&gt;\r\n\r\nAnd lastly, the Database scheme:\r\n\r\n    public void onCreate(SQLiteDatabase db){\r\n\r\n        try{\r\n            db.execSQL(&quot;CREATE TABLE data (&quot; +\r\n                    &quot;entryid INTEGER PRIMARY KEY AUTOINCREMENT,&quot; +\r\n                    &quot;name TEXT,&quot; +\r\n                    &quot;weight INTEGER,&quot; +\r\n                    &quot;reps INTEGER,&quot; +\r\n                    &quot;entrytime TEXT)&quot;\r\n            );\r\n\r\nWhat am I doing wrong? Thank you in advance :))","title":"Can&#39;t delete SQLite Database entry with EditText and Button","body":"<p>I'm trying to implement a method, so I can enter a value (integer) into an edittext field and click a button to delete an SQLite Database entry. I can't seem to get it to work though.</p>\n<p>Here is the method in the DatabaseManager class:</p>\n<pre><code>public void deleteEntry(Integer entryid){\n    SQLiteDatabase db = this.getWritableDatabase();\n    db.delete(&quot;data&quot;, &quot;entryid&quot; + &quot;=\\&quot;&quot; + entryid + &quot;\\&quot;&quot;, null);\n}\n</code></pre>\n<p>Here is the declaration in the activity class:</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_history);\n\n    _btnDelete = (Button) findViewById(R.id.btnDelete);\n    _etDelete = (EditText) findViewById(R.id.etDelete);\n    db = new DatabaseManager(this);\n\n    _btnDelete.setOnClickListener(this);\n    \n    }\n</code></pre>\n<p>And here is the method I'm calling in the Activity, when the delete button is clicked:</p>\n<pre><code>@Override\npublic void onClick(View v) {\n[...]\nelse if (v.equals(_btnDelete)){\n            Integer val = Integer.parseInt(_etDelete.getText().toString());\n            db.deleteEntry(val);\n        }\n</code></pre>\n<p>And here is the layout for the EditText and Button:</p>\n<pre><code>            &lt;EditText\n                android:id=&quot;@+id/etDelete&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:digits=&quot;0123456789&quot;\n                android:inputType=&quot;number&quot;\n                android:hint=&quot;Enter ID to delete&quot;/&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/btnDelete&quot;\n                android:layout_width=&quot;180dp&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;Delete&quot;/&gt;\n</code></pre>\n<p>And lastly, the Database scheme:</p>\n<pre><code>public void onCreate(SQLiteDatabase db){\n\n    try{\n        db.execSQL(&quot;CREATE TABLE data (&quot; +\n                &quot;entryid INTEGER PRIMARY KEY AUTOINCREMENT,&quot; +\n                &quot;name TEXT,&quot; +\n                &quot;weight INTEGER,&quot; +\n                &quot;reps INTEGER,&quot; +\n                &quot;entrytime TEXT)&quot;\n        );\n</code></pre>\n<p>What am I doing wrong? Thank you in advance :))</p>\n"},{"tags":["java","events"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1638860569,"post_id":70255924,"comment_id":124193326,"body_markdown":"What is exactly not working? Is the button visible but does not display the hover effect? In that case you probably need to force a repaint by calling invalidate and repaint.","body":"What is exactly not working? Is the button visible but does not display the hover effect? In that case you probably need to force a repaint by calling invalidate and repaint."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1638868996,"post_id":70255924,"comment_id":124196058,"body_markdown":"Your `JButton` is as large as the inner area of your entire `JFrame`.","body":"Your <code>JButton</code> is as large as the inner area of your entire <code>JFrame</code>."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1638869423,"creation_date":1638869423,"answer_id":70257669,"question_id":70255924,"body_markdown":"Your `JButton` takes up the entire inner area of your `JFrame`.\r\n\r\nI modified your code to put the `JButton` in a `JPanel`, then put the `JPanel` in the `JFrame`.\r\n\r\nHere&#39;s the revised GUI.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere&#39;s the revised code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.MouseListener;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class HoverEffect extends JFrame {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tJButton b;\r\n    \r\n    \tHoverEffect() {\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tb = new JButton(&quot;hover me&quot;);\r\n    \t\tb.addMouseListener(new myMouse());\r\n    \t\tpanel.add(b);\r\n    \t\t\r\n    \t\tadd(panel, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tsetSize(200, 100);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \r\n    \tclass myMouse implements MouseListener {\r\n    \t\t@Override\r\n    \t\tpublic void mouseClicked(java.awt.event.MouseEvent e) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void mousePressed(java.awt.event.MouseEvent e) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void mouseReleased(java.awt.event.MouseEvent e) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void mouseEntered(java.awt.event.MouseEvent e) {\r\n    \t\t\tb.setBackground(Color.GREEN);\r\n    \r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void mouseExited(java.awt.event.MouseEvent e) {\r\n    \t\t\tb.setBackground(Color.white);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew HoverEffect();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EdvlQ.png\r\n","title":"Event Handling in java mouseListener problem","body":"<p>Your <code>JButton</code> takes up the entire inner area of your <code>JFrame</code>.</p>\n<p>I modified your code to put the <code>JButton</code> in a <code>JPanel</code>, then put the <code>JPanel</code> in the <code>JFrame</code>.</p>\n<p>Here's the revised GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/EdvlQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EdvlQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the revised code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.FlowLayout;\nimport java.awt.event.MouseListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class HoverEffect extends JFrame {\n\n    private static final long serialVersionUID = 1L;\n\n    JButton b;\n\n    HoverEffect() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        JPanel panel = new JPanel(new FlowLayout());\n        b = new JButton(&quot;hover me&quot;);\n        b.addMouseListener(new myMouse());\n        panel.add(b);\n        \n        add(panel, BorderLayout.CENTER);\n        \n        setSize(200, 100);\n        setVisible(true);\n    }\n\n    class myMouse implements MouseListener {\n        @Override\n        public void mouseClicked(java.awt.event.MouseEvent e) {\n            // TODO Auto-generated method stub\n\n        }\n\n        @Override\n        public void mousePressed(java.awt.event.MouseEvent e) {\n            // TODO Auto-generated method stub\n\n        }\n\n        @Override\n        public void mouseReleased(java.awt.event.MouseEvent e) {\n            // TODO Auto-generated method stub\n\n        }\n\n        @Override\n        public void mouseEntered(java.awt.event.MouseEvent e) {\n            b.setBackground(Color.GREEN);\n\n        }\n\n        @Override\n        public void mouseExited(java.awt.event.MouseEvent e) {\n            b.setBackground(Color.white);\n        }\n    }\n\n    public static void main(String[] args) {\n        new HoverEffect();\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user14466198"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638869423,"creation_date":1638859768,"question_id":70255924,"body_markdown":"I only want the hover effect on my button which is &quot;hover me&quot; but I do not know why it is implemented on my full frame","title":"Event Handling in java mouseListener problem","body":"<p>I only want the hover effect on my button which is &quot;hover me&quot; but I do not know why it is implemented on my full frame</p>\n"},{"tags":["java","algorithm","char","combinations"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1632824741,"post_id":69359994,"comment_id":122592055,"body_markdown":"Please [edit] your question and add your code nicely formatted here. While you are at it, add more information about what exactly you are asking, e.g. where you are stuck, what your current code does and what you expect it to do.","body":"Please <a href=\"https://stackoverflow.com/posts/69359994/edit\">edit</a> your question and add your code nicely formatted here. While you are at it, add more information about what exactly you are asking, e.g. where you are stuck, what your current code does and what you expect it to do."},{"owner":{"account_id":1463487,"reputation":16359,"user_id":1377097,"display_name":"beaker"},"score":0,"creation_date":1632838880,"post_id":69359994,"comment_id":122598728,"body_markdown":"Information on how to format your question can be found in the [help] under [How do I format my posts using Markdown or HTML?](https://stackoverflow.com/help/formatting).","body":"Information on how to format your question can be found in the <a href=\"https://stackoverflow.com/help\">help center</a> under <a href=\"https://stackoverflow.com/help/formatting\">How do I format my posts using Markdown or HTML?</a>."}],"answers":[{"tags":[],"owner":{"account_id":11295868,"reputation":26,"user_id":8283411,"display_name":"Dewald Pretorius"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633862539,"creation_date":1633862539,"answer_id":69514424,"question_id":69359994,"body_markdown":"If it is the solution/example you are are looking for I can refer you to an API I have created to generate combinations of objects in a memory efficient way: https://github.com/3venthorizon/meta/blob/master/meta-mathics/src/main/java/com/devlambda/meta/mathics/CombinationGenerator.java\r\n\r\n```\r\n@Test\r\npublic void charComboTest() {\r\n   List&lt;Character&gt; domain = Arrays.asList(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;);\r\n   CombinationGenerator&lt;Character&gt; combinations = new CombinationGenerator&lt;&gt;(domain, 3);\r\n   while (combinations.hasNext()) {\r\n      List&lt;Character&gt; combination = combinations.next();\r\n      System.out.println(combination.stream().map(Object::toString)\r\n            .collect(Collectors.joining(&quot;, &quot;, &quot;[&quot;, &quot;]&quot;)));\r\n   }\r\n}\r\n```\r\n\r\nThis prints out the the following result:\r\n```\r\n[a, b, c]\r\n[a, b, d]\r\n[a, b, e]\r\n[a, c, d]\r\n[a, c, e]\r\n[a, d, e]\r\n[b, c, d]\r\n[b, c, e]\r\n[b, d, e]\r\n[c, d, e]\r\n```","title":"How to generate combinations from char array?","body":"<p>If it is the solution/example you are are looking for I can refer you to an API I have created to generate combinations of objects in a memory efficient way: <a href=\"https://github.com/3venthorizon/meta/blob/master/meta-mathics/src/main/java/com/devlambda/meta/mathics/CombinationGenerator.java\" rel=\"nofollow noreferrer\">https://github.com/3venthorizon/meta/blob/master/meta-mathics/src/main/java/com/devlambda/meta/mathics/CombinationGenerator.java</a></p>\n<pre><code>@Test\npublic void charComboTest() {\n   List&lt;Character&gt; domain = Arrays.asList('a', 'b', 'c', 'd', 'e');\n   CombinationGenerator&lt;Character&gt; combinations = new CombinationGenerator&lt;&gt;(domain, 3);\n   while (combinations.hasNext()) {\n      List&lt;Character&gt; combination = combinations.next();\n      System.out.println(combination.stream().map(Object::toString)\n            .collect(Collectors.joining(&quot;, &quot;, &quot;[&quot;, &quot;]&quot;)));\n   }\n}\n</code></pre>\n<p>This prints out the the following result:</p>\n<pre><code>[a, b, c]\n[a, b, d]\n[a, b, e]\n[a, c, d]\n[a, c, e]\n[a, d, e]\n[b, c, d]\n[b, c, e]\n[b, d, e]\n[c, d, e]\n</code></pre>\n"}],"owner":{"account_id":17847569,"reputation":64,"user_id":13061135,"display_name":"elf01b"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":69514424,"answer_count":1,"score":-3,"last_activity_date":1638869422,"creation_date":1632824664,"question_id":69359994,"body_markdown":"How to generate combinations from char array?\r\nhere is my code\r\nhttps://anotepad.com/notes/icjsc5ct\r\nI have an array with 5 characters: a, b, c, d, e\r\nAnd I want to generate combinations of 3 characters\r\n1. [a, b, c];  \r\n2. [a, b, d];  \r\n3. [b, c, d];  \r\n4. [b, c, e]; \r\n5. [c, d, e] \r\n\r\nMy code just can generate 2 combinations of 3 character:\r\n1. [a, b, c];  \r\n2. [a, b, d];\r\n\r\nI don&#39;t know how to increase index of Array[0] and Array[1];\r\n&lt;!-- --&gt;\r\n   \r\n    public ArrayList&lt; char[] &gt; generate02( int r ) {\r\n\r\n\t\tArrayList&lt; char[] &gt; combinationsList = new ArrayList&lt;&gt;();\r\n\t\tchar[] data = new char[ r ];\r\n\t\t// initialize with lowest lexicographic combination\r\n\t\tfor ( int i = 0; i &lt; r; i++ ) {\r\n\t\t\tdata[ i ] = CharArray01[ i ];\r\n\t\t}\r\n\t\tPrintData( CharArray01 );\r\n\t\tint n = CharArray01.length;\r\n\t\twhile ( IndexInt( data[ r - 1 ] ) &lt; n - 1 ) {\r\n\t\t\tint t01 = r - 1;\r\n\t\t\tSystem.out.println( &quot; IndexInt( data[ r - 1 ] ) &lt; n &quot; );\r\n\t\t\tSystem.out.println( &quot; data[ r - 1 ] ) = &quot; + data[ t01 ]\r\n\t\t\t\t\t+ &quot;;  IndexInt( data[ r - 1 ] ) = &quot;\r\n\t\t\t\t\t+ IndexInt( data[ r - 1 ] )\r\n\t\t\t\t\t+ &quot;;  n = &quot; + n );\r\n\t\t\tcombinationsList.add( data.clone() );\r\n\t\t\t// generate next combination in lexicographic order\r\n\t\t\tint t02 = n - r + t01;\r\n\t\t\twhile ( t01 != 0 &amp;&amp; IndexInt( data[ t01 ] ) == t02 ) {\r\n\t\t\t\tt01--;\r\n\t\t\t}\r\n\t\t\tint k1 = IndexInt( data[ r - 1 ] );\r\n\t\t\tint k2 = k1 + 1;\r\n\t\t\tdata[ r - 1 ] = IndexChar( k2 );\r\n\t\t\tSystem.out.println( &quot; data[ r - 1 ] ) = &quot; + data[ t01 ]\r\n\t\t\t\t\t+ &quot;;  IndexInt( data[ r - 1 ] ) = &quot;\r\n\t\t\t\t\t+ IndexInt( data[ r - 1 ] ) );\r\n\t\t\tSystem.out.println( &quot;t01 = &quot; + t01 + &quot;;  n = &quot; + n );\r\n\t\t\tint i = 0;\r\n\t\t\tfor ( i = t01 + 1; i &lt; r; i++ ) {\r\n\t\t\t\tint index02 = IndexInt( data[ i - 1 ] );\r\n\t\t\t\tint index03 = index02 + 1;\r\n\t\t\t\tdata[ i ] = data[ index03 ];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn combinationsList;\r\n\t}\r\n    ```\r\n- Function PrintData convert a char array into String and Display it for my debug\r\n    ```\r\n    public void PrintData( char[] CharArray02 ) {\r\n    \tint length = CharArray02.length;\r\n    \tString string01 = &quot;&quot;;\r\n    \tfor ( int i = 0; i &lt; length; i++ ) {\r\n    \t\tstring01 = string01 + CharArray02[ i ] + &quot;  &quot;;\r\n    \t}\r\n    \tSystem.out.println( &quot;PrintData:  String01 = &quot; + string01 );\r\n    }\r\n\r\n\r\n- Function IndexInt return position of char (start from 0) in sample string &quot;abcde&quot;\r\n    ```\r\n    public int IndexInt( char char01 ) {\r\n    \tint result = 0;\r\n    \tString string01 = &quot;abcde&quot;;\r\n    \tint length = string01.length();\r\n    \tfor ( int i = 0; i &lt; length; i++ ) {\r\n    \t\tif ( char01 == (char) string01.charAt( i ) ) { return i; }\r\n    \t}\r\n    \treturn result;\r\n    }\r\n    ```\r\n- Function IndexChar return char at int position in sample string &quot;abcde&quot;\r\n\r\n      public char IndexChar( int index01 ) {\r\n          char result = &#39;a&#39;;\r\n    \t  String string01 = &quot;abcde&quot;;\r\n    \t  result = string01.charAt( index01 );\r\n    \t  return result;\r\n      }\r\n\r\n\r\n- Function `public ArrayList&lt;char[]&gt; generate02(int r)` is the copy and modified code from algorithm integer combination. I really don&#39;t understand how the algorithm work\r\n\r\n\r\n\r\n","title":"How to generate combinations from char array?","body":"<p>How to generate combinations from char array?\nhere is my code\n<a href=\"https://anotepad.com/notes/icjsc5ct\" rel=\"nofollow noreferrer\">https://anotepad.com/notes/icjsc5ct</a>\nI have an array with 5 characters: a, b, c, d, e\nAnd I want to generate combinations of 3 characters</p>\n<ol>\n<li>[a, b, c];</li>\n<li>[a, b, d];</li>\n<li>[b, c, d];</li>\n<li>[b, c, e];</li>\n<li>[c, d, e]</li>\n</ol>\n<p>My code just can generate 2 combinations of 3 character:</p>\n<ol>\n<li>[a, b, c];</li>\n<li>[a, b, d];</li>\n</ol>\n<p>I don't know how to increase index of Array[0] and Array[1];</p>\n\n<pre><code>public ArrayList&lt; char[] &gt; generate02( int r ) {\n\n    ArrayList&lt; char[] &gt; combinationsList = new ArrayList&lt;&gt;();\n    char[] data = new char[ r ];\n    // initialize with lowest lexicographic combination\n    for ( int i = 0; i &lt; r; i++ ) {\n        data[ i ] = CharArray01[ i ];\n    }\n    PrintData( CharArray01 );\n    int n = CharArray01.length;\n    while ( IndexInt( data[ r - 1 ] ) &lt; n - 1 ) {\n        int t01 = r - 1;\n        System.out.println( &quot; IndexInt( data[ r - 1 ] ) &lt; n &quot; );\n        System.out.println( &quot; data[ r - 1 ] ) = &quot; + data[ t01 ]\n                + &quot;;  IndexInt( data[ r - 1 ] ) = &quot;\n                + IndexInt( data[ r - 1 ] )\n                + &quot;;  n = &quot; + n );\n        combinationsList.add( data.clone() );\n        // generate next combination in lexicographic order\n        int t02 = n - r + t01;\n        while ( t01 != 0 &amp;&amp; IndexInt( data[ t01 ] ) == t02 ) {\n            t01--;\n        }\n        int k1 = IndexInt( data[ r - 1 ] );\n        int k2 = k1 + 1;\n        data[ r - 1 ] = IndexChar( k2 );\n        System.out.println( &quot; data[ r - 1 ] ) = &quot; + data[ t01 ]\n                + &quot;;  IndexInt( data[ r - 1 ] ) = &quot;\n                + IndexInt( data[ r - 1 ] ) );\n        System.out.println( &quot;t01 = &quot; + t01 + &quot;;  n = &quot; + n );\n        int i = 0;\n        for ( i = t01 + 1; i &lt; r; i++ ) {\n            int index02 = IndexInt( data[ i - 1 ] );\n            int index03 = index02 + 1;\n            data[ i ] = data[ index03 ];\n        }\n    }\n    return combinationsList;\n}\n```\n</code></pre>\n<ul>\n<li><p>Function PrintData convert a char array into String and Display it for my debug</p>\n<pre><code>public void PrintData( char[] CharArray02 ) {\n    int length = CharArray02.length;\n    String string01 = &quot;&quot;;\n    for ( int i = 0; i &lt; length; i++ ) {\n        string01 = string01 + CharArray02[ i ] + &quot;  &quot;;\n    }\n    System.out.println( &quot;PrintData:  String01 = &quot; + string01 );\n}\n\n\n</code></pre>\n</li>\n<li><p>Function IndexInt return position of char (start from 0) in sample string &quot;abcde&quot;</p>\n<pre><code>public int IndexInt( char char01 ) {\n    int result = 0;\n    String string01 = &quot;abcde&quot;;\n    int length = string01.length();\n    for ( int i = 0; i &lt; length; i++ ) {\n        if ( char01 == (char) string01.charAt( i ) ) { return i; }\n    }\n    return result;\n}\n</code></pre>\n</li>\n<li><p>Function IndexChar return char at int position in sample string &quot;abcde&quot;</p>\n<pre><code>public char IndexChar( int index01 ) {\n    char result = 'a';\n    String string01 = &quot;abcde&quot;;\n    result = string01.charAt( index01 );\n    return result;\n}\n</code></pre>\n</li>\n<li><p>Function <code>public ArrayList&lt;char[]&gt; generate02(int r)</code> is the copy and modified code from algorithm integer combination. I really don't understand how the algorithm work</p>\n</li>\n</ul>\n"},{"tags":["java","swagger"],"owner":{"account_id":14932927,"reputation":117,"user_id":14923814,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638869421,"creation_date":1638869007,"question_id":70257592,"body_markdown":"Here are 3 simple Java classes:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Animal {\r\n        protected String name;\r\n        protected Integer age;\r\n    \r\n        public enum AnimalType{\r\n            ANGRY,\r\n            FUNNY\r\n    \r\n        }\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Cat extends Animal{\r\n    \r\n        private AnimalType type=AnimalType.ANGRY;\r\n    }\r\n\r\n    @Setter\r\n    @Getter\r\n    public class Dog extends Animal{\r\n        private AnimalType type=AnimalType.FUNNY;\r\n    }\r\n\r\n\r\nWhat do I need to do so that swagger generates something like this?\r\n```none\r\ntype*  AnimalType  string\r\n       value= FANNY\r\n       Enum:\r\n       &gt;Array[2]\r\n```\r\n\r\nIs there any way to do it? I need to add ENUM for all classes and specific value of this enum for each class.","title":"How to use specific value of enum in swagger schema using annotation","body":"<p>Here are 3 simple Java classes:</p>\n<pre><code>@Getter\n@Setter\npublic class Animal {\n    protected String name;\n    protected Integer age;\n\n    public enum AnimalType{\n        ANGRY,\n        FUNNY\n\n    }\n}\n\n@Getter\n@Setter\npublic class Cat extends Animal{\n\n    private AnimalType type=AnimalType.ANGRY;\n}\n\n@Setter\n@Getter\npublic class Dog extends Animal{\n    private AnimalType type=AnimalType.FUNNY;\n}\n</code></pre>\n<p>What do I need to do so that swagger generates something like this?</p>\n<pre class=\"lang-none prettyprint-override\"><code>type*  AnimalType  string\n       value= FANNY\n       Enum:\n       &gt;Array[2]\n</code></pre>\n<p>Is there any way to do it? I need to add ENUM for all classes and specific value of this enum for each class.</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","junit5"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1638858619,"post_id":70255719,"comment_id":124192860,"body_markdown":"Do you create a mock for the repo at all?","body":"Do you create a mock for the repo at all?"},{"owner":{"display_name":"user17186249"},"score":0,"creation_date":1638859488,"post_id":70255719,"comment_id":124193056,"body_markdown":"@daniu Yes, of course (I updated the question)","body":"@daniu Yes, of course (I updated the question)"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":1,"creation_date":1638862432,"post_id":70255719,"comment_id":124193889,"body_markdown":"Please post full stacktrace explaining WHAT is throwing null pointer exception.","body":"Please post full stacktrace explaining WHAT is throwing null pointer exception."},{"owner":{"display_name":"user17186249"},"score":0,"creation_date":1639116471,"post_id":70255719,"comment_id":124271521,"body_markdown":"@dominicoder `saved` variable is null, that means `labelRepository.saveAndFlush(label)` is not mocked. But I think I do not need to mock it.","body":"@dominicoder <code>saved</code> variable is null, that means <code>labelRepository.saveAndFlush(label)</code> is not mocked. But I think I do not need to mock it."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1639121587,"post_id":70255719,"comment_id":124272609,"body_markdown":"Notice that I asked you to post a full stacktrace that explains what is actually throwing a null pointer exception and instead of doing that you&#39;re re-explaining your question that is incomplete and unclear. If you want help solving your problem, you need to provide as much information as possible to help us understand what is happening.","body":"Notice that I asked you to post a full stacktrace that explains what is actually throwing a null pointer exception and instead of doing that you&#39;re re-explaining your question that is incomplete and unclear. If you want help solving your problem, you need to provide as much information as possible to help us understand what is happening."}],"answers":[{"tags":[],"owner":{"account_id":9109424,"reputation":718,"user_id":6778706,"display_name":"Amad&#225;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638868542,"creation_date":1638867784,"answer_id":70257353,"question_id":70255719,"body_markdown":"**F I R S T**\r\n\r\nI think that you only declared your mocks but never defined/created them. There&#39;s basically three ways to do so:\r\n\r\n**1) mockito extension**\r\n\r\nThe convenient way in JUnit 5 is to use the MockitoExtension:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class LabelServiceImplTest {\r\n\r\n\t  // declare mocks, spies and captors ...\r\n\r\n      // system under test\r\n      @InjectMocks\r\n      LabelService sut;\r\n\r\n    }\r\n\r\nNothing else should be needed now.\r\n\r\nMind that by `@InjectMocks` you instruct Mockito to create your system under test and inject the mocks. You may as well do that manually, e. g. by injecting mocks into the SUT&#39;s constructor. I prefer that way to have more control over the configuration of my SUT.\r\n\r\n**2) MockitoAnnotations.openMocks(testclass)**\r\n\r\nThis method will inject mocks into the given object:\r\n\r\n    public class LabelServiceImplTest {\r\n\t\r\n\t  // declare mocks, spies and captors ...\r\n\r\n      // system under test\r\n      @InjectMocks\r\n      LabelService sut;\r\n\t\r\n\t  @BeforeEach\r\n\t  void setup() {\r\n\t    MockitoAnnotations.openMock(this)\r\n\t\t\r\n\t\t// ...\r\n\t  }\r\n\t\r\n\t}\r\n\r\nOn JUnit 4 you&#39;d use `MockitoAnnotations.initMocks()` instead.\r\n\r\n**3) the old school way**\r\n\r\n    public class LabelServiceImplTest {\r\n\r\n\t  LabelRepository labelRepositoryMock = Mockito.mock(LabelRepository.class);\r\n\r\n      // ...\r\n\r\n      // system under test\r\n      LabelServiceImpl sut;\r\n\r\n\r\n      @BeforeEach\r\n      void setup() {\r\n        sut = new LabelService(labelRepositoryMock);\r\n\r\n        // ...\r\n      }\r\n\r\n\t}\r\n\r\n----------\r\n\r\n**S E C O N D**\r\n\r\nYour questions \r\n\r\n**1) Do you need to create the request and the label?**\r\n\r\nYes. You call the service using the request and the mock returns the label. I would suggest you do *not* use the request&#39;s property to set up your label, use a `String` literal instead.\r\n\r\n**2) Do you need to mock the saveAndFlush() method?**\r\n\r\nYes. This is the part where you configure your SUT&#39;s environment to behave in a predictable way.\r\n\r\n----------\r\n\r\nYou might consider postfixing your mocks, spies and captors by: &quot;Mock&quot;, &quot;Spy&quot; and &quot;Captor&quot;.\r\nYou might also consider calling your system under test &quot;sut&quot;.\r\n\r\n    @Mock\r\n    private LabelRepository labelRepositoryMock;\r\n\r\n    @Captor\r\n    ArgumentCaptor&lt;Label&gt; labelCaptor;\r\n\r\n    // system under test\r\n    @InjectMocks\r\n    private LabelServiceImpl sut;\r\n        \r\nThis makes the test code more readably, I think.\r\n","title":"Unit Test: Cannot use ArgumentCaptor","body":"<p><strong>F I R S T</strong></p>\n<p>I think that you only declared your mocks but never defined/created them. There's basically three ways to do so:</p>\n<p><strong>1) mockito extension</strong></p>\n<p>The convenient way in JUnit 5 is to use the MockitoExtension:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class LabelServiceImplTest {\n\n  // declare mocks, spies and captors ...\n\n  // system under test\n  @InjectMocks\n  LabelService sut;\n\n}\n</code></pre>\n<p>Nothing else should be needed now.</p>\n<p>Mind that by <code>@InjectMocks</code> you instruct Mockito to create your system under test and inject the mocks. You may as well do that manually, e. g. by injecting mocks into the SUT's constructor. I prefer that way to have more control over the configuration of my SUT.</p>\n<p><strong>2) MockitoAnnotations.openMocks(testclass)</strong></p>\n<p>This method will inject mocks into the given object:</p>\n<pre><code>public class LabelServiceImplTest {\n\n  // declare mocks, spies and captors ...\n\n  // system under test\n  @InjectMocks\n  LabelService sut;\n\n  @BeforeEach\n  void setup() {\n    MockitoAnnotations.openMock(this)\n    \n    // ...\n  }\n\n}\n</code></pre>\n<p>On JUnit 4 you'd use <code>MockitoAnnotations.initMocks()</code> instead.</p>\n<p><strong>3) the old school way</strong></p>\n<pre><code>public class LabelServiceImplTest {\n\n  LabelRepository labelRepositoryMock = Mockito.mock(LabelRepository.class);\n\n  // ...\n\n  // system under test\n  LabelServiceImpl sut;\n\n\n  @BeforeEach\n  void setup() {\n    sut = new LabelService(labelRepositoryMock);\n\n    // ...\n  }\n\n}\n</code></pre>\n<hr />\n<p><strong>S E C O N D</strong></p>\n<p>Your questions </p>\n<p><strong>1) Do you need to create the request and the label?</strong></p>\n<p>Yes. You call the service using the request and the mock returns the label. I would suggest you do <em>not</em> use the request's property to set up your label, use a <code>String</code> literal instead.</p>\n<p><strong>2) Do you need to mock the saveAndFlush() method?</strong></p>\n<p>Yes. This is the part where you configure your SUT's environment to behave in a predictable way.</p>\n<hr />\n<p>You might consider postfixing your mocks, spies and captors by: &quot;Mock&quot;, &quot;Spy&quot; and &quot;Captor&quot;.\nYou might also consider calling your system under test &quot;sut&quot;.</p>\n<pre><code>@Mock\nprivate LabelRepository labelRepositoryMock;\n\n@Captor\nArgumentCaptor&lt;Label&gt; labelCaptor;\n\n// system under test\n@InjectMocks\nprivate LabelServiceImpl sut;\n    \n</code></pre>\n<p>This makes the test code more readably, I think.</p>\n"}],"owner":{"display_name":"user17186249"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638868542,"creation_date":1638858218,"question_id":70255719,"body_markdown":"I am trying to create a unit test for the following method that calls another private method:\r\n\r\n```\r\npublic CommandDTO create(final LabelRequest request) {\r\n\t\treturn saveLabel(new Label(), request);\r\n}\r\n\r\nprivate CommandDTO saveLabel(final Label label, final LabelRequest request) {\r\n\t\tlabel.setName(request.getName());\r\n\t\tfinal Label saved = labelRepository.saveAndFlush(label);\r\n\r\n\t\treturn CommandDTO.builder().uuid(saved.getUuid()).build();\r\n}\r\n```\r\n\r\nIt returns &quot;nullpointer exception for the `saved` parameter as I did not mock in in my test. \r\n\r\n&lt;br/&gt;\r\n\r\nHere is the Unit Test. I added 2 question as comment (Q1 and Q2). Could you please clarify me what is wrong?\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class LabelServiceImplTest {\r\n\r\n    @Mock\r\n    private LabelRepository labelRepository;\r\n\r\n    @InjectMocks\r\n    private LabelServiceImpl labelService;\r\n\t\t\r\n    @Captor\r\n    ArgumentCaptor&lt;Label&gt; labelCaptor;\r\n\r\n    @Test\r\n    public void test_create {\r\n\t\t\t\r\n\t    // Q1: I am not sure if the following parts are needed\r\n        final LabelRequest request = new LabelRequest();\r\n        request.setName(&quot;Label Name&quot;);\r\n        final Label label = new Label();\r\n        label.setName(request.getName());\r\n\r\n\r\n        // Q2: I think there is no need to mock saveAndFlush method. \r\n        // But in this scene it returns &quot;nullpointer exception&quot;\r\n        when(labelRepository.saveAndFlush(any())).thenReturn(label);\r\n\r\n\r\n        CommandDTO result = labelService.create(request);\r\n\r\n        Mockito.verify(labelRepository).saveAndFlush(labelCaptor.capture());\r\n        final Label value = labelCaptor.getValue();\r\n\t\t\t\t\r\n\t\t// then make necessary assertions\r\n    }\r\n}\r\n```","title":"Unit Test: Cannot use ArgumentCaptor","body":"<p>I am trying to create a unit test for the following method that calls another private method:</p>\n<pre><code>public CommandDTO create(final LabelRequest request) {\n        return saveLabel(new Label(), request);\n}\n\nprivate CommandDTO saveLabel(final Label label, final LabelRequest request) {\n        label.setName(request.getName());\n        final Label saved = labelRepository.saveAndFlush(label);\n\n        return CommandDTO.builder().uuid(saved.getUuid()).build();\n}\n</code></pre>\n<p>It returns &quot;nullpointer exception for the <code>saved</code> parameter as I did not mock in in my test.</p>\n<br/>\n<p>Here is the Unit Test. I added 2 question as comment (Q1 and Q2). Could you please clarify me what is wrong?</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class LabelServiceImplTest {\n\n    @Mock\n    private LabelRepository labelRepository;\n\n    @InjectMocks\n    private LabelServiceImpl labelService;\n        \n    @Captor\n    ArgumentCaptor&lt;Label&gt; labelCaptor;\n\n    @Test\n    public void test_create {\n            \n        // Q1: I am not sure if the following parts are needed\n        final LabelRequest request = new LabelRequest();\n        request.setName(&quot;Label Name&quot;);\n        final Label label = new Label();\n        label.setName(request.getName());\n\n\n        // Q2: I think there is no need to mock saveAndFlush method. \n        // But in this scene it returns &quot;nullpointer exception&quot;\n        when(labelRepository.saveAndFlush(any())).thenReturn(label);\n\n\n        CommandDTO result = labelService.create(request);\n\n        Mockito.verify(labelRepository).saveAndFlush(labelCaptor.capture());\n        final Label value = labelCaptor.getValue();\n                \n        // then make necessary assertions\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","macos","environment-variables"],"comments":[{"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"score":2,"creation_date":1347567263,"post_id":12414077,"comment_id":16685598,"body_markdown":"how are you launching your java app?","body":"how are you launching your java app?"},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1347567610,"post_id":12414077,"comment_id":16685757,"body_markdown":"the session that you are running on doesn&#39;t have the new exports in `.bash_profile`, re-exec `.bash_profile` from your current session and all applications should be able to see it then.","body":"the session that you are running on doesn&#39;t have the new exports in <code>.bash_profile</code>, re-exec <code>.bash_profile</code> from your current session and all applications should be able to see it then."}],"answers":[{"tags":[],"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1347569217,"creation_date":1347567483,"answer_id":12414144,"question_id":12414077,"body_markdown":"The reason that you needed to put the `export` in your `.bash_profile` is that setting environment variables in a shell only persist the variables in that shell, and - since you used `export` - to _children_ of that shell, or in other words, other programs launched by that shell.\r\n\r\nIf you&#39;re running your java code from Eclipse, and you launch Eclipse from a shell with your environment variables set, then your program should see the added environment variables. To launch Eclipse from the shell, you&#39;ll need to use the OS X `open` command:\r\n\r\n    $ open /Applications/eclipse/Eclipse.app\r\n\r\nAlternately, you can set the environment variables _within_ your Eclipse project, and you&#39;ll need to do this if you&#39;re not launching Eclipse from a shell with the proper environment. In the _Run Configurations_ dialog, look for a tab named _Environment_. Here you&#39;ll find a table for adding environment variables that will be passed to your program.\r\n\r\nIt&#39;s better to add the environment variables to the Run Configuration since that way they&#39;ll always be available to your project. Your code doesn&#39;t actually care where the environment variables are coming from, and adding them to the project is simpler, and will work the same way on different platforms.\r\n\r\nOf course, when you run your program _outside_ Eclipse, you&#39;ll need to make sure that the same environment variables exist in the shell where you e.g. run `java`.","title":"reading environment variables from java using Eclipse","body":"<p>The reason that you needed to put the <code>export</code> in your <code>.bash_profile</code> is that setting environment variables in a shell only persist the variables in that shell, and - since you used <code>export</code> - to <em>children</em> of that shell, or in other words, other programs launched by that shell.</p>\n\n<p>If you're running your java code from Eclipse, and you launch Eclipse from a shell with your environment variables set, then your program should see the added environment variables. To launch Eclipse from the shell, you'll need to use the OS X <code>open</code> command:</p>\n\n<pre><code>$ open /Applications/eclipse/Eclipse.app\n</code></pre>\n\n<p>Alternately, you can set the environment variables <em>within</em> your Eclipse project, and you'll need to do this if you're not launching Eclipse from a shell with the proper environment. In the <em>Run Configurations</em> dialog, look for a tab named <em>Environment</em>. Here you'll find a table for adding environment variables that will be passed to your program.</p>\n\n<p>It's better to add the environment variables to the Run Configuration since that way they'll always be available to your project. Your code doesn't actually care where the environment variables are coming from, and adding them to the project is simpler, and will work the same way on different platforms.</p>\n\n<p>Of course, when you run your program <em>outside</em> Eclipse, you'll need to make sure that the same environment variables exist in the shell where you e.g. run <code>java</code>.</p>\n"},{"tags":[],"owner":{"account_id":43412,"reputation":23624,"user_id":126916,"accept_rate":91,"display_name":"Abhinav Sarkar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1347569613,"creation_date":1347567534,"answer_id":12414151,"question_id":12414077,"body_markdown":"Eclipse does not use the system&#39;s env variables unless launched directly from the shell (which is how it is generally launched, by clicking its icon). In that case you will have to explicitly set the required env variables in the environment tab of the run configuration of the program.","title":"reading environment variables from java using Eclipse","body":"<p>Eclipse does not use the system's env variables unless launched directly from the shell (which is how it is generally launched, by clicking its icon). In that case you will have to explicitly set the required env variables in the environment tab of the run configuration of the program.</p>\n"},{"tags":[],"owner":{"account_id":14477646,"reputation":1,"user_id":10457838,"display_name":"Yadav Thyagaraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638868263,"creation_date":1638868263,"answer_id":70257444,"question_id":12414077,"body_markdown":"I too faced The same issue , I resolved it this way.\r\n\r\n- Open Terminal\r\n\r\n- cd to the folder where eclipse.app is located E.g `cd /Users/Shared/eclipse/jee-2020-09`\r\n- Type `open Eclipse.app/`\r\n- Eclipse will now open and will be able to access the system environment variables as well.\r\n\r\nCheck it using the code:\r\n\r\n    System.getenv().forEach((k, v) -&gt; {\r\n    \tSystem.out.println(&quot;ENV : &quot; + k + &quot;:&quot; + v);\r\n    });\r\n\r\n","title":"reading environment variables from java using Eclipse","body":"<p>I too faced The same issue , I resolved it this way.</p>\n<ul>\n<li><p>Open Terminal</p>\n</li>\n<li><p>cd to the folder where eclipse.app is located E.g <code>cd /Users/Shared/eclipse/jee-2020-09</code></p>\n</li>\n<li><p>Type <code>open Eclipse.app/</code></p>\n</li>\n<li><p>Eclipse will now open and will be able to access the system environment variables as well.</p>\n</li>\n</ul>\n<p>Check it using the code:</p>\n<pre><code>System.getenv().forEach((k, v) -&gt; {\n    System.out.println(&quot;ENV : &quot; + k + &quot;:&quot; + v);\n});\n</code></pre>\n"}],"owner":{"account_id":426999,"reputation":3284,"user_id":808536,"accept_rate":77,"display_name":"samach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5999,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":12414144,"answer_count":3,"score":5,"last_activity_date":1638868263,"creation_date":1347567198,"question_id":12414077,"body_markdown":"Everywhere I search, it says you can get an environment variable by using `System.getenv(str).`\r\n\r\nIt&#39;s not working for me. Here&#39;s what I am doing:\r\nOS : Mac OS x 10.7\r\nJava 1.6.x\r\n\r\nIf I do `export abc=/hello/` in my terminal and then `echo $abc`, it gives me the variable. If I close the terminal, reopen it again and do `echo $abc`, it&#39;s gone. To overcome this, I edited my `.bash_profile` file and inserted `export abc=/hello/`. Close the terminal, do `echo $abc` and it works. So I understood that the env variable is permanent now.\r\n\r\nNow if in my java console app, I print `System.getenv(&quot;abc&quot;)`, it returns `null`. What am I missing? ","title":"reading environment variables from java using Eclipse","body":"<p>Everywhere I search, it says you can get an environment variable by using <code>System.getenv(str).</code></p>\n\n<p>It's not working for me. Here's what I am doing:\nOS : Mac OS x 10.7\nJava 1.6.x</p>\n\n<p>If I do <code>export abc=/hello/</code> in my terminal and then <code>echo $abc</code>, it gives me the variable. If I close the terminal, reopen it again and do <code>echo $abc</code>, it's gone. To overcome this, I edited my <code>.bash_profile</code> file and inserted <code>export abc=/hello/</code>. Close the terminal, do <code>echo $abc</code> and it works. So I understood that the env variable is permanent now.</p>\n\n<p>Now if in my java console app, I print <code>System.getenv(\"abc\")</code>, it returns <code>null</code>. What am I missing? </p>\n"},{"tags":["java","time","comparison"],"comments":[{"owner":{"account_id":79859,"reputation":605,"user_id":226149,"accept_rate":100,"display_name":"jjj"},"score":2,"creation_date":1266826414,"post_id":2309558,"comment_id":2276794,"body_markdown":"put your code that you wrote so far","body":"put your code that you wrote so far"},{"owner":{"account_id":75921,"reputation":699,"user_id":217638,"accept_rate":56,"display_name":"sling"},"score":0,"creation_date":1266835439,"post_id":2309558,"comment_id":2277474,"body_markdown":"if (hourFrom &gt;=10 &amp;&amp; hourFrom &lt;= 18)\n                  {\n                     charge = 2;\n                     System.out.println(charge);\n                  }\n                  else if (hourFrom &gt;18 &amp;&amp; hourFrom &lt;= 24)\n                  {\n                      charge = 4;\n                      System.out.println(charge);\n                  }\n\nBut from this, it would not worked for time 18:01 to 18:59","body":"if (hourFrom &gt;=10 &amp;&amp; hourFrom &lt;= 18)                   {                      charge = 2;                      System.out.println(charge);                   }                   else if (hourFrom &gt;18 &amp;&amp; hourFrom &lt;= 24)                   {                       charge = 4;                       System.out.println(charge);                   }  But from this, it would not worked for time 18:01 to 18:59"},{"owner":{"account_id":2137644,"reputation":17159,"user_id":1897010,"display_name":"Sameer Kazi"},"score":0,"creation_date":1397210548,"post_id":2309558,"comment_id":35144836,"body_markdown":"I use calender class to convert time into dateTime then get gmt milliseconds of that date and then compare that milliseconds. see my answer billow.","body":"I use calender class to convert time into dateTime then get gmt milliseconds of that date and then compare that milliseconds. see my answer billow."}],"answers":[{"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1266826208,"creation_date":1266826208,"answer_id":2309571,"question_id":2309558,"body_markdown":"From your statement, it seems like you merely want to write:\r\n\r\n    if (10 &gt;= hh &amp;&amp; hh &lt; 18) {\r\n      ...\r\n    }\r\n\r\nThis is trivial if you are given the hours already. But surely you are asking something else?","title":"Time comparison","body":"<p>From your statement, it seems like you merely want to write:</p>\n\n<pre><code>if (10 &gt;= hh &amp;&amp; hh &lt; 18) {\n  ...\n}\n</code></pre>\n\n<p>This is trivial if you are given the hours already. But surely you are asking something else?</p>\n"},{"tags":[],"owner":{"account_id":79859,"reputation":605,"user_id":226149,"accept_rate":100,"display_name":"jjj"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1266826613,"creation_date":1266826613,"answer_id":2309596,"question_id":2309558,"body_markdown":"example:\r\n\r\n    import java.util.*;   \r\n    import java.lang.Object;   \r\n    import java.text.Collator;   \r\n    public class CurrentTime{   \r\n      public class CurrentTime   \r\n    {   \r\n        public static void main( String[] args )   \r\n        {   \r\n            Calendar calendar = new GregorianCalendar();   \r\n            String am_pm;   \r\n            int hour = calendar.get( Calendar.HOUR );   \r\n            int minute = calendar.get( Calendar.MINUTE );   \r\n            // int second = calendar.get(Calendar.SECOND);   \r\n            if( calendar.get( Calendar.AM_PM ) == 0 ){   \r\n                am_pm = &quot;AM&quot;;   \r\n                if(hour &gt;=10)   \r\n                    System.out.println( &quot;welcome&quot; );   \r\n            }               \r\n            else{   \r\n                am_pm = &quot;PM&quot;;   \r\n                if(hour&lt;6)   \r\n                    System.out.println( &quot;welcome&quot; );   \r\n            }   \r\n                   \r\n            String time = &quot;Current Time : &quot; + hour + &quot;:&quot; + minute + &quot; &quot; + am_pm;   \r\n            System.out.println( time );    \r\n        }   \r\n    }  \r\n\r\n\r\n[Source][1]  \r\n\r\n\r\n  [1]: http://www.coderanch.com/t/411474/Beginning-Java/java/compare-time-including-AM-PM","title":"Time comparison","body":"<p>example:</p>\n\n<pre><code>import java.util.*;   \nimport java.lang.Object;   \nimport java.text.Collator;   \npublic class CurrentTime{   \n  public class CurrentTime   \n{   \n    public static void main( String[] args )   \n    {   \n        Calendar calendar = new GregorianCalendar();   \n        String am_pm;   \n        int hour = calendar.get( Calendar.HOUR );   \n        int minute = calendar.get( Calendar.MINUTE );   \n        // int second = calendar.get(Calendar.SECOND);   \n        if( calendar.get( Calendar.AM_PM ) == 0 ){   \n            am_pm = \"AM\";   \n            if(hour &gt;=10)   \n                System.out.println( \"welcome\" );   \n        }               \n        else{   \n            am_pm = \"PM\";   \n            if(hour&lt;6)   \n                System.out.println( \"welcome\" );   \n        }   \n\n        String time = \"Current Time : \" + hour + \":\" + minute + \" \" + am_pm;   \n        System.out.println( time );    \n    }   \n}  \n</code></pre>\n\n<p><a href=\"http://www.coderanch.com/t/411474/Beginning-Java/java/compare-time-including-AM-PM\" rel=\"noreferrer\">Source</a>  </p>\n"},{"tags":[],"owner":{"account_id":41545,"reputation":52021,"user_id":120808,"accept_rate":90,"display_name":"Adam Batkin"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1266829662,"creation_date":1266826721,"answer_id":2309609,"question_id":2309558,"body_markdown":"Java doesn&#39;t (yet) have a good built-in `Time` class (it has one for JDBC queries, but that&#39;s not what you want).\r\n\r\nOne option would be use the [JodaTime][1] APIs and its [LocalTime][2] class.\r\n\r\nSticking with just the built-in Java APIs, you are stuck with [java.util.Date][3]. You can use a [SimpleDateFormat][4] to parse the time, then the `Date` comparison functions to see if it is before or after some other time:\r\n\r\n    SimpleDateFormat parser = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n    Date ten = parser.parse(&quot;10:00&quot;);\r\n    Date eighteen = parser.parse(&quot;18:00&quot;);\r\n    \r\n    try {\r\n        Date userDate = parser.parse(someOtherDate);\r\n        if (userDate.after(ten) &amp;&amp; userDate.before(eighteen)) {\r\n            ...\r\n        }\r\n    } catch (ParseException e) {\r\n        // Invalid date was entered\r\n    }\r\n\r\nOr you could just use some string manipulations, perhaps a regular expression to extract just the hour and the minute portions, convert them to numbers and do a numerical comparison:\r\n\r\n    Pattern p = Pattern.compile(&quot;(\\d{2}):(\\d{2})&quot;);\r\n    Matcher m = p.matcher(userString);\r\n    if (m.matches() ) {\r\n        String hourString = m.group(1);\r\n        String minuteString = m.group(2);\r\n        int hour = Integer.parseInt(hourString);\r\n        int minute = Integer.parseInt(minuteString);\r\n\r\n        if (hour &gt;= 10 &amp;&amp; hour &lt;= 18) {\r\n            ...\r\n        }\r\n    }\r\n    \r\n\r\nIt really all depends on what you are trying to accomplish.\r\n\r\n  [1]: http://joda-time.sourceforge.net/\r\n  [2]: http://joda-time.sourceforge.net/api-release/org/joda/time/LocalTime.html\r\n  [3]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/Date.html\r\n  [4]: http://java.sun.com/j2se/1.4.2/docs/api/java/text/SimpleDateFormat.html","title":"Time comparison","body":"<p>Java doesn't (yet) have a good built-in <code>Time</code> class (it has one for JDBC queries, but that's not what you want).</p>\n\n<p>One option would be use the <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">JodaTime</a> APIs and its <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/LocalTime.html\" rel=\"noreferrer\">LocalTime</a> class.</p>\n\n<p>Sticking with just the built-in Java APIs, you are stuck with <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Date.html\" rel=\"noreferrer\">java.util.Date</a>. You can use a <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a> to parse the time, then the <code>Date</code> comparison functions to see if it is before or after some other time:</p>\n\n<pre><code>SimpleDateFormat parser = new SimpleDateFormat(\"HH:mm\");\nDate ten = parser.parse(\"10:00\");\nDate eighteen = parser.parse(\"18:00\");\n\ntry {\n    Date userDate = parser.parse(someOtherDate);\n    if (userDate.after(ten) &amp;&amp; userDate.before(eighteen)) {\n        ...\n    }\n} catch (ParseException e) {\n    // Invalid date was entered\n}\n</code></pre>\n\n<p>Or you could just use some string manipulations, perhaps a regular expression to extract just the hour and the minute portions, convert them to numbers and do a numerical comparison:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"(\\d{2}):(\\d{2})\");\nMatcher m = p.matcher(userString);\nif (m.matches() ) {\n    String hourString = m.group(1);\n    String minuteString = m.group(2);\n    int hour = Integer.parseInt(hourString);\n    int minute = Integer.parseInt(minuteString);\n\n    if (hour &gt;= 10 &amp;&amp; hour &lt;= 18) {\n        ...\n    }\n}\n</code></pre>\n\n<p>It really all depends on what you are trying to accomplish.</p>\n"},{"tags":[],"owner":{"account_id":36883,"reputation":2520,"user_id":105326,"display_name":"lins314159"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436357780,"creation_date":1266880267,"answer_id":2315004,"question_id":2309558,"body_markdown":"The following assumes that your hours and minutes are stored as ints in variables named `hh` and `mm` respectively.\r\n\r\n\r\n    if ((hh &gt; START_HOUR || (hh == START_HOUR &amp;&amp; mm &gt;= START_MINUTE)) &amp;&amp;\r\n            (hh &lt; END_HOUR || (hh == END_HOUR &amp;&amp; mm &lt;= END_MINUTE))) {\r\n        ...\r\n    }","title":"Time comparison","body":"<p>The following assumes that your hours and minutes are stored as ints in variables named <code>hh</code> and <code>mm</code> respectively.</p>\n\n<pre><code>if ((hh &gt; START_HOUR || (hh == START_HOUR &amp;&amp; mm &gt;= START_MINUTE)) &amp;&amp;\n        (hh &lt; END_HOUR || (hh == END_HOUR &amp;&amp; mm &lt;= END_MINUTE))) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":399875,"reputation":1008,"user_id":765523,"accept_rate":50,"display_name":"austin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363071860,"creation_date":1363071860,"answer_id":15355231,"question_id":2309558,"body_markdown":"    import java.util.Calendar;\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    int currentHour = cal.get(Calendar.HOUR);\r\n    if (currentHour &gt; 10 &amp;&amp; currentHour &lt; 18) {\r\n        //then rock on\r\n    }","title":"Time comparison","body":"<pre><code>import java.util.Calendar;\n\nCalendar cal = Calendar.getInstance();\nint currentHour = cal.get(Calendar.HOUR);\nif (currentHour &gt; 10 &amp;&amp; currentHour &lt; 18) {\n    //then rock on\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3001026,"reputation":670,"user_id":2546540,"accept_rate":62,"display_name":"AdrianES"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390223578,"creation_date":1390223578,"answer_id":21235095,"question_id":2309558,"body_markdown":"I am using this class for time in this format &quot;hh:mm:ss&quot; u can use it with &quot;hh:mm:00&quot; (zero seconds) for your example. Here is the complete code. It has compare and between function and also checks the time format (in case of invalid time and throws TimeException). Hope you can use it or modify it for your needs.\r\n\r\nTime class:\r\n\r\n\r\n    package es.utility.time;\r\n    \r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    /**\r\n     *\r\n     * @author adrian\r\n     */\r\n    public class Time {\r\n    \r\n        private int hours; //Hours of the day\r\n        private int minutes; //Minutes of the day\r\n        private int seconds; //Seconds of the day\r\n        private String time; //Time of the day\r\n    \r\n        /**\r\n         * Constructor of Time class\r\n         *\r\n         * @param time\r\n         * @throws TimeException if time parameter is not valid\r\n         */\r\n        public Time(String time) throws TimeException {\r\n            //Check if valid time\r\n            if (!validTime(time)) {\r\n                throw new TimeException();\r\n            }\r\n            //Init class parametars\r\n            String[] params = time.split(&quot;:&quot;);\r\n            this.time = time;\r\n            this.hours = Integer.parseInt(params[0]);\r\n            this.minutes = Integer.parseInt(params[1]);\r\n            this.seconds = Integer.parseInt(params[2]);\r\n        }\r\n    \r\n        /**\r\n         * Constructor of Time class\r\n         *\r\n         * @param hours\r\n         * @param minutes\r\n         * @param seconds\r\n         * @throws TimeException if time parameter is not valid\r\n         */\r\n        public Time(int hours, int minutes, int seconds) throws TimeException {\r\n            //Check if valid time\r\n            if (!validTime(hours, minutes, seconds)) {\r\n                throw new TimeException();\r\n            }\r\n            this.time = timeToString(hours, minutes, seconds);\r\n            this.hours = hours;\r\n            this.minutes = minutes;\r\n            this.seconds = seconds;\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Checks if the sting can be parsed as time\r\n         *\r\n         * @param time (correct from hh:mm:ss)\r\n         * @return true if ok &lt;br/&gt; false if not ok\r\n         */\r\n        private boolean validTime(String time) {\r\n            String regex = &quot;([01]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]&quot;;\r\n            Pattern p = Pattern.compile(regex);\r\n            Matcher m = p.matcher(time);\r\n            return m.matches();\r\n        }\r\n    \r\n        /**\r\n         * Checks if the sting can be parsed as time\r\n         *\r\n         * @param hours hours\r\n         * @param minutes minutes\r\n         * @param seconds seconds\r\n         * @return true if ok &lt;br/&gt; false if not ok\r\n         */\r\n        private boolean validTime(int hours, int minutes, int seconds) {\r\n            return hours &gt;= 0 &amp;&amp; hours &lt;= 23 &amp;&amp; minutes &gt;= 0 &amp;&amp; minutes &lt;= 59 &amp;&amp; seconds &gt;= 0 &amp;&amp; seconds &lt;= 59;\r\n        }\r\n    \r\n        /**\r\n         * From Integer values to String time\r\n         *\r\n         * @param hours\r\n         * @param minutes\r\n         * @param seconds\r\n         * @return String generated from int values for hours minutes and seconds\r\n         */\r\n        private String timeToString(int hours, int minutes, int seconds) {\r\n            StringBuilder timeBuilder = new StringBuilder(&quot;&quot;);\r\n            if (hours &lt; 10) {\r\n                timeBuilder.append(&quot;0&quot;).append(hours);\r\n            } else {\r\n                timeBuilder.append(hours);\r\n            }\r\n            timeBuilder.append(&quot;:&quot;);\r\n            if (minutes &lt; 10) {\r\n                timeBuilder.append(&quot;0&quot;).append(minutes);\r\n            } else {\r\n                timeBuilder.append(minutes);\r\n            }\r\n            timeBuilder.append(&quot;:&quot;);\r\n            if (seconds &lt; 10) {\r\n                timeBuilder.append(&quot;0&quot;).append(seconds);\r\n            } else {\r\n                timeBuilder.append(seconds);\r\n            }\r\n            return timeBuilder.toString();\r\n        }\r\n    \r\n        /**\r\n         * Compare this time to other\r\n         *\r\n         * @param compare\r\n         * @return -1 time is before &lt;br/&gt; 0 time is equal &lt;br/&gt; time is after\r\n         */\r\n        public int compareTime(Time compare) {\r\n            //Check hours\r\n            if (this.getHours() &lt; compare.getHours()) { //If hours are before return -1\r\n                return -1;\r\n            }\r\n            if (this.getHours() &gt; compare.getHours()) { //If hours are after return 1\r\n                return 1;\r\n            }\r\n            //If no return hours are equeal\r\n            //Check minutes\r\n            if (this.getMinutes() &lt; compare.getMinutes()) { //If minutes are before return -1\r\n                return -1;\r\n            }\r\n            if (this.getMinutes() &gt; compare.getMinutes()) { //If minutes are after return 1\r\n                return 1;\r\n            }\r\n            //If no return minutes are equeal\r\n            //Check seconds\r\n            if (this.getSeconds() &lt; compare.getSeconds()) { //If minutes are before return -1\r\n                return -1;\r\n            }\r\n            if (this.getSeconds() &gt; compare.getSeconds()) { //If minutes are after return 1\r\n                return 1;\r\n            }\r\n            //If no return seconds are equeal and return 0\r\n            return 0;\r\n        }\r\n    \r\n        public boolean isBetween(Time before, Time after) throws TimeException{\r\n            if(before.compareTime(after)== 1){\r\n                throw new TimeException(&quot;Time &#39;before&#39; is after &#39;after&#39; time&quot;);\r\n            }\r\n            //Compare with before and after\r\n            if (this.compareTime(before) == -1 || this.compareTime(after) == 1) { //If time is before before time return false or time is after after time\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        public int getHours() {\r\n            return hours;\r\n        }\r\n    \r\n        public void setHours(int hours) {\r\n            this.hours = hours;\r\n        }\r\n    \r\n        public int getMinutes() {\r\n            return minutes;\r\n        }\r\n    \r\n        public void setMinutes(int minutes) {\r\n            this.minutes = minutes;\r\n        }\r\n    \r\n        public int getSeconds() {\r\n            return seconds;\r\n        }\r\n    \r\n        public void setSeconds(int seconds) {\r\n            this.seconds = seconds;\r\n        }\r\n    \r\n        public String getTime() {\r\n            return time;\r\n        }\r\n    \r\n        public void setTime(String time) {\r\n            this.time = time;\r\n        }\r\n    \r\n        /**\r\n         * Override the toString method and return all of the class private\r\n         * parameters\r\n         *\r\n         * @return String Time{&quot; + &quot;hours=&quot; + hours + &quot;, minutes=&quot; + minutes + &quot;,\r\n         * seconds=&quot; + seconds + &quot;, time=&quot; + time + &#39;}&#39;\r\n         */\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Time{&quot; + &quot;hours=&quot; + hours + &quot;, minutes=&quot; + minutes + &quot;, seconds=&quot; + seconds + &quot;, time=&quot; + time + &#39;}&#39;;\r\n        }\r\n    \r\n    }\r\n\r\nTimeException class:\r\n\r\n    package es.utility.time;\r\n    \r\n    /**\r\n     *\r\n     * @author adrian\r\n     */\r\n    public class TimeException extends Exception {\r\n    \r\n        public TimeException() {\r\n            super(&quot;Cannot create time with this params&quot;);\r\n        }\r\n    \r\n        public TimeException(String message) {\r\n            super(message);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Time comparison","body":"<p>I am using this class for time in this format \"hh:mm:ss\" u can use it with \"hh:mm:00\" (zero seconds) for your example. Here is the complete code. It has compare and between function and also checks the time format (in case of invalid time and throws TimeException). Hope you can use it or modify it for your needs.</p>\n\n<p>Time class:</p>\n\n<pre><code>package es.utility.time;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n/**\n *\n * @author adrian\n */\npublic class Time {\n\n    private int hours; //Hours of the day\n    private int minutes; //Minutes of the day\n    private int seconds; //Seconds of the day\n    private String time; //Time of the day\n\n    /**\n     * Constructor of Time class\n     *\n     * @param time\n     * @throws TimeException if time parameter is not valid\n     */\n    public Time(String time) throws TimeException {\n        //Check if valid time\n        if (!validTime(time)) {\n            throw new TimeException();\n        }\n        //Init class parametars\n        String[] params = time.split(\":\");\n        this.time = time;\n        this.hours = Integer.parseInt(params[0]);\n        this.minutes = Integer.parseInt(params[1]);\n        this.seconds = Integer.parseInt(params[2]);\n    }\n\n    /**\n     * Constructor of Time class\n     *\n     * @param hours\n     * @param minutes\n     * @param seconds\n     * @throws TimeException if time parameter is not valid\n     */\n    public Time(int hours, int minutes, int seconds) throws TimeException {\n        //Check if valid time\n        if (!validTime(hours, minutes, seconds)) {\n            throw new TimeException();\n        }\n        this.time = timeToString(hours, minutes, seconds);\n        this.hours = hours;\n        this.minutes = minutes;\n        this.seconds = seconds;\n\n    }\n\n    /**\n     * Checks if the sting can be parsed as time\n     *\n     * @param time (correct from hh:mm:ss)\n     * @return true if ok &lt;br/&gt; false if not ok\n     */\n    private boolean validTime(String time) {\n        String regex = \"([01]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]\";\n        Pattern p = Pattern.compile(regex);\n        Matcher m = p.matcher(time);\n        return m.matches();\n    }\n\n    /**\n     * Checks if the sting can be parsed as time\n     *\n     * @param hours hours\n     * @param minutes minutes\n     * @param seconds seconds\n     * @return true if ok &lt;br/&gt; false if not ok\n     */\n    private boolean validTime(int hours, int minutes, int seconds) {\n        return hours &gt;= 0 &amp;&amp; hours &lt;= 23 &amp;&amp; minutes &gt;= 0 &amp;&amp; minutes &lt;= 59 &amp;&amp; seconds &gt;= 0 &amp;&amp; seconds &lt;= 59;\n    }\n\n    /**\n     * From Integer values to String time\n     *\n     * @param hours\n     * @param minutes\n     * @param seconds\n     * @return String generated from int values for hours minutes and seconds\n     */\n    private String timeToString(int hours, int minutes, int seconds) {\n        StringBuilder timeBuilder = new StringBuilder(\"\");\n        if (hours &lt; 10) {\n            timeBuilder.append(\"0\").append(hours);\n        } else {\n            timeBuilder.append(hours);\n        }\n        timeBuilder.append(\":\");\n        if (minutes &lt; 10) {\n            timeBuilder.append(\"0\").append(minutes);\n        } else {\n            timeBuilder.append(minutes);\n        }\n        timeBuilder.append(\":\");\n        if (seconds &lt; 10) {\n            timeBuilder.append(\"0\").append(seconds);\n        } else {\n            timeBuilder.append(seconds);\n        }\n        return timeBuilder.toString();\n    }\n\n    /**\n     * Compare this time to other\n     *\n     * @param compare\n     * @return -1 time is before &lt;br/&gt; 0 time is equal &lt;br/&gt; time is after\n     */\n    public int compareTime(Time compare) {\n        //Check hours\n        if (this.getHours() &lt; compare.getHours()) { //If hours are before return -1\n            return -1;\n        }\n        if (this.getHours() &gt; compare.getHours()) { //If hours are after return 1\n            return 1;\n        }\n        //If no return hours are equeal\n        //Check minutes\n        if (this.getMinutes() &lt; compare.getMinutes()) { //If minutes are before return -1\n            return -1;\n        }\n        if (this.getMinutes() &gt; compare.getMinutes()) { //If minutes are after return 1\n            return 1;\n        }\n        //If no return minutes are equeal\n        //Check seconds\n        if (this.getSeconds() &lt; compare.getSeconds()) { //If minutes are before return -1\n            return -1;\n        }\n        if (this.getSeconds() &gt; compare.getSeconds()) { //If minutes are after return 1\n            return 1;\n        }\n        //If no return seconds are equeal and return 0\n        return 0;\n    }\n\n    public boolean isBetween(Time before, Time after) throws TimeException{\n        if(before.compareTime(after)== 1){\n            throw new TimeException(\"Time 'before' is after 'after' time\");\n        }\n        //Compare with before and after\n        if (this.compareTime(before) == -1 || this.compareTime(after) == 1) { //If time is before before time return false or time is after after time\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    public int getHours() {\n        return hours;\n    }\n\n    public void setHours(int hours) {\n        this.hours = hours;\n    }\n\n    public int getMinutes() {\n        return minutes;\n    }\n\n    public void setMinutes(int minutes) {\n        this.minutes = minutes;\n    }\n\n    public int getSeconds() {\n        return seconds;\n    }\n\n    public void setSeconds(int seconds) {\n        this.seconds = seconds;\n    }\n\n    public String getTime() {\n        return time;\n    }\n\n    public void setTime(String time) {\n        this.time = time;\n    }\n\n    /**\n     * Override the toString method and return all of the class private\n     * parameters\n     *\n     * @return String Time{\" + \"hours=\" + hours + \", minutes=\" + minutes + \",\n     * seconds=\" + seconds + \", time=\" + time + '}'\n     */\n    @Override\n    public String toString() {\n        return \"Time{\" + \"hours=\" + hours + \", minutes=\" + minutes + \", seconds=\" + seconds + \", time=\" + time + '}';\n    }\n\n}\n</code></pre>\n\n<p>TimeException class:</p>\n\n<pre><code>package es.utility.time;\n\n/**\n *\n * @author adrian\n */\npublic class TimeException extends Exception {\n\n    public TimeException() {\n        super(\"Cannot create time with this params\");\n    }\n\n    public TimeException(String message) {\n        super(message);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1838798,"reputation":311,"user_id":1668645,"accept_rate":29,"display_name":"Stefan H&#246;ltker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397208302,"creation_date":1397208302,"answer_id":23008581,"question_id":2309558,"body_markdown":"    package javaapplication4;\r\n    \r\n    import java.text.*;\r\n    import java.util.*;\r\n    \r\n    /**\r\n     *\r\n     * @author Stefan Wendelmann\r\n     */\r\n    public class JavaApplication4\r\n    {\r\n        private static SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss.SSS&quot;);\r\n    \r\n      /**\r\n       * @param args the command line arguments\r\n       */\r\n      public static void main(String[] args) throws ParseException\r\n      {\r\n        SimpleDateFormat parser = new SimpleDateFormat(&quot;dd.MM.YYYY HH:mm:ss.SSS&quot;);\r\n        Date before = parser.parse(&quot;01.10.1990 07:00:00.000&quot;);\r\n        Date base = parser.parse(&quot;01.10.1990 08:00:00.000&quot;);\r\n        Date after = parser.parse(&quot;01.10.1990 09:00:00.000&quot;);\r\n        \r\n        printCompare(base, base, &quot;==&quot;);\r\n        printCompare(base, before, &quot;==&quot;);\r\n        printCompare(base, before, &quot;&lt;&quot;);\r\n        printCompare(base, after, &quot;&lt;&quot;);\r\n        printCompare(base, after, &quot;&gt;&quot;);\r\n        printCompare(base, before, &quot;&gt;&quot;);\r\n        printCompare(base, before, &quot;&lt;=&quot;);\r\n        printCompare(base, base, &quot;&lt;=&quot;);\r\n        printCompare(base, after, &quot;&lt;=&quot;);\r\n        printCompare(base, after, &quot;&gt;=&quot;);\r\n        printCompare(base, base, &quot;&gt;=&quot;);\r\n        printCompare(base, before, &quot;&gt;=&quot;);\r\n    \r\n      }\r\n      \r\n      private static void printCompare (Date a, Date b, String operator){\r\n        System.out.println(sdf.format(b)+&quot;\\t&quot;+operator+&quot;\\t&quot;+sdf.format(a)+&quot;\\t&quot;+compareTime(a, b, operator));\r\n      }\r\n    \r\n      protected static boolean compareTime(Date a, Date b, String operator)\r\n      {\r\n        if (a == null)\r\n        {\r\n          return false;\r\n        }\r\n        try\r\n        {\r\n          //Zeit aus Datum holen\r\n    // The Magic happens here i only get the Time out of the Date Object\r\n          SimpleDateFormat parser = new SimpleDateFormat(&quot;HH:mm:ss.SSS&quot;);\r\n          a = parser.parse(parser.format(a));\r\n          b = parser.parse(parser.format(b));\r\n        }\r\n        catch (ParseException ex)\r\n        {\r\n          System.err.println(ex);\r\n        }\r\n        switch (operator)\r\n        {\r\n          case &quot;==&quot;:\r\n            return b.compareTo(a) == 0;\r\n          case &quot;&lt;&quot;:\r\n            return b.compareTo(a) &lt; 0;\r\n          case &quot;&gt;&quot;:\r\n            return b.compareTo(a) &gt; 0;\r\n          case &quot;&lt;=&quot;:\r\n            return b.compareTo(a) &lt;= 0;\r\n          case &quot;&gt;=&quot;:\r\n            return b.compareTo(a) &gt;= 0;\r\n          default:\r\n            throw new IllegalArgumentException(&quot;Operator &quot; + operator + &quot; wird f&#252;r Feldart Time nicht unterst&#252;tzt!&quot;);\r\n    \r\n        }\r\n      }\r\n    \r\n    }\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n    run:\r\n    08:00:00.000\t==\t08:00:00.000\ttrue\r\n    07:00:00.000\t==\t08:00:00.000\tfalse\r\n    07:00:00.000\t&lt;\t08:00:00.000\ttrue\r\n    09:00:00.000\t&lt;\t08:00:00.000\tfalse\r\n    09:00:00.000\t&gt;\t08:00:00.000\ttrue\r\n    07:00:00.000\t&gt;\t08:00:00.000\tfalse\r\n    07:00:00.000\t&lt;=\t08:00:00.000\ttrue\r\n    08:00:00.000\t&lt;=\t08:00:00.000\ttrue\r\n    09:00:00.000\t&lt;=\t08:00:00.000\tfalse\r\n    09:00:00.000\t&gt;=\t08:00:00.000\ttrue\r\n    08:00:00.000\t&gt;=\t08:00:00.000\ttrue\r\n    07:00:00.000\t&gt;=\t08:00:00.000\tfalse\r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\n","title":"Time comparison","body":"<pre><code>package javaapplication4;\n\nimport java.text.*;\nimport java.util.*;\n\n/**\n *\n * @author Stefan Wendelmann\n */\npublic class JavaApplication4\n{\n    private static SimpleDateFormat sdf = new SimpleDateFormat(\"HH:mm:ss.SSS\");\n\n  /**\n   * @param args the command line arguments\n   */\n  public static void main(String[] args) throws ParseException\n  {\n    SimpleDateFormat parser = new SimpleDateFormat(\"dd.MM.YYYY HH:mm:ss.SSS\");\n    Date before = parser.parse(\"01.10.1990 07:00:00.000\");\n    Date base = parser.parse(\"01.10.1990 08:00:00.000\");\n    Date after = parser.parse(\"01.10.1990 09:00:00.000\");\n\n    printCompare(base, base, \"==\");\n    printCompare(base, before, \"==\");\n    printCompare(base, before, \"&lt;\");\n    printCompare(base, after, \"&lt;\");\n    printCompare(base, after, \"&gt;\");\n    printCompare(base, before, \"&gt;\");\n    printCompare(base, before, \"&lt;=\");\n    printCompare(base, base, \"&lt;=\");\n    printCompare(base, after, \"&lt;=\");\n    printCompare(base, after, \"&gt;=\");\n    printCompare(base, base, \"&gt;=\");\n    printCompare(base, before, \"&gt;=\");\n\n  }\n\n  private static void printCompare (Date a, Date b, String operator){\n    System.out.println(sdf.format(b)+\"\\t\"+operator+\"\\t\"+sdf.format(a)+\"\\t\"+compareTime(a, b, operator));\n  }\n\n  protected static boolean compareTime(Date a, Date b, String operator)\n  {\n    if (a == null)\n    {\n      return false;\n    }\n    try\n    {\n      //Zeit aus Datum holen\n// The Magic happens here i only get the Time out of the Date Object\n      SimpleDateFormat parser = new SimpleDateFormat(\"HH:mm:ss.SSS\");\n      a = parser.parse(parser.format(a));\n      b = parser.parse(parser.format(b));\n    }\n    catch (ParseException ex)\n    {\n      System.err.println(ex);\n    }\n    switch (operator)\n    {\n      case \"==\":\n        return b.compareTo(a) == 0;\n      case \"&lt;\":\n        return b.compareTo(a) &lt; 0;\n      case \"&gt;\":\n        return b.compareTo(a) &gt; 0;\n      case \"&lt;=\":\n        return b.compareTo(a) &lt;= 0;\n      case \"&gt;=\":\n        return b.compareTo(a) &gt;= 0;\n      default:\n        throw new IllegalArgumentException(\"Operator \" + operator + \" wird fr Feldart Time nicht untersttzt!\");\n\n    }\n  }\n\n}\n</code></pre>\n\n<p><br>\n<br></p>\n\n<pre><code>run:\n08:00:00.000    ==  08:00:00.000    true\n07:00:00.000    ==  08:00:00.000    false\n07:00:00.000    &lt;   08:00:00.000    true\n09:00:00.000    &lt;   08:00:00.000    false\n09:00:00.000    &gt;   08:00:00.000    true\n07:00:00.000    &gt;   08:00:00.000    false\n07:00:00.000    &lt;=  08:00:00.000    true\n08:00:00.000    &lt;=  08:00:00.000    true\n09:00:00.000    &lt;=  08:00:00.000    false\n09:00:00.000    &gt;=  08:00:00.000    true\n08:00:00.000    &gt;=  08:00:00.000    true\n07:00:00.000    &gt;=  08:00:00.000    false\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2137644,"reputation":17159,"user_id":1897010,"display_name":"Sameer Kazi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397210327,"creation_date":1397210327,"answer_id":23009379,"question_id":2309558,"body_markdown":"Adam explain well in his answer \r\nBut I used this way. I think this is easiest way to understand time comparison  in  java \r\n\r\nFirst create 3 calender object with set your time only , Hour and min. \r\n\r\nthen get GMT milliseconds of that time and simply compare.\r\n\r\nEx. \r\n\r\n\t\r\n\tCalendar chechDateTime = Calendar.getInstance();\r\n\tchechDateTime.set(Calendar.MILLISECOND, 0);\r\n\tchechDateTime.set(Calendar.SECOND, 0);\r\n\tchechDateTime.set(Calendar.HOUR, 11);\r\n\tchechDateTime.set(Calendar.MINUTE, 22);\r\n\t\r\n\t\r\n\tCalendar startDateTime = Calendar.getInstance();\r\n\tstartDateTime.set(Calendar.MILLISECOND, 0);\r\n\tstartDateTime.set(Calendar.SECOND, 0);\r\n\tstartDateTime.set(Calendar.HOUR, 10);\r\n\tstartDateTime.set(Calendar.MINUTE, 0);\r\n\t\r\n\tCalendar endDateTime = Calendar.getInstance();\r\n\tendDateTime.set(Calendar.MILLISECOND, 0);\r\n\tendDateTime.set(Calendar.SECOND, 0);\r\n\tendDateTime.set(Calendar.HOUR, 18);\r\n\tendDateTime.set(Calendar.MINUTE, 22);\r\n\t\r\n\t long chechDateTimeMilliseconds=chechDateTime.getTime().getTime();\r\n\t long startDateTimeMilliseconds=startDateTime.getTime().getTime();\r\n\t long endDateTimeMilliseconds=endDateTime.getTime().getTime();\r\n\t \r\n\t \r\n \tSystem.out.println(&quot;chechDateTime : &quot;+chechDateTimeMilliseconds);\r\n \tSystem.out.println(&quot;startDateTime &quot;+startDateTimeMilliseconds);\r\n \tSystem.out.println(&quot;endDateTime &quot;+endDateTimeMilliseconds);\r\n \t\r\n   \r\n\r\n    if(chechDateTimeMilliseconds&gt;=startDateTimeMilliseconds &amp;&amp; chechDateTimeMilliseconds &lt;= endDateTimeMilliseconds ){\r\n    \t   System.out.println(&quot;In between &quot;);\r\n     \t}else{\r\n     \t\t System.out.println(&quot;Not In between &quot;);\r\n     \t}\r\n\r\n\r\nOutput will look like this :\r\n\r\n    chechDateTime : 1397238720000\r\n    startDateTime 1397233800000\r\n    endDateTime 1397263920000\r\n    In between \r\n\r\n","title":"Time comparison","body":"<p>Adam explain well in his answer \nBut I used this way. I think this is easiest way to understand time comparison  in  java </p>\n\n<p>First create 3 calender object with set your time only , Hour and min. </p>\n\n<p>then get GMT milliseconds of that time and simply compare.</p>\n\n<p>Ex. </p>\n\n<pre><code>Calendar chechDateTime = Calendar.getInstance();\nchechDateTime.set(Calendar.MILLISECOND, 0);\nchechDateTime.set(Calendar.SECOND, 0);\nchechDateTime.set(Calendar.HOUR, 11);\nchechDateTime.set(Calendar.MINUTE, 22);\n\n\nCalendar startDateTime = Calendar.getInstance();\nstartDateTime.set(Calendar.MILLISECOND, 0);\nstartDateTime.set(Calendar.SECOND, 0);\nstartDateTime.set(Calendar.HOUR, 10);\nstartDateTime.set(Calendar.MINUTE, 0);\n\nCalendar endDateTime = Calendar.getInstance();\nendDateTime.set(Calendar.MILLISECOND, 0);\nendDateTime.set(Calendar.SECOND, 0);\nendDateTime.set(Calendar.HOUR, 18);\nendDateTime.set(Calendar.MINUTE, 22);\n\n long chechDateTimeMilliseconds=chechDateTime.getTime().getTime();\n long startDateTimeMilliseconds=startDateTime.getTime().getTime();\n long endDateTimeMilliseconds=endDateTime.getTime().getTime();\n\n\nSystem.out.println(\"chechDateTime : \"+chechDateTimeMilliseconds);\nSystem.out.println(\"startDateTime \"+startDateTimeMilliseconds);\nSystem.out.println(\"endDateTime \"+endDateTimeMilliseconds);\n\n\n\nif(chechDateTimeMilliseconds&gt;=startDateTimeMilliseconds &amp;&amp; chechDateTimeMilliseconds &lt;= endDateTimeMilliseconds ){\n       System.out.println(\"In between \");\n    }else{\n         System.out.println(\"Not In between \");\n    }\n</code></pre>\n\n<p>Output will look like this :</p>\n\n<pre><code>chechDateTime : 1397238720000\nstartDateTime 1397233800000\nendDateTime 1397263920000\nIn between \n</code></pre>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1479741167,"creation_date":1479726127,"answer_id":40718570,"question_id":2309558,"body_markdown":"With Java 8+, you can use the new Java time API:\r\n\r\n- to parse the time:\r\n\r\n        LocalTime time = LocalTime.parse(&quot;11:22&quot;)\r\n\r\n- to do date comparisons, you have `LocalTime::isBefore` and `LocalTime::isAfter` - note that these methods are strict\r\n\r\nSo you problem would be as simple as:\r\n\r\n    public static void main(String[] args) {\r\n      LocalTime time = LocalTime.parse(&quot;11:22&quot;);\r\n      System.out.println(isBetween(time, LocalTime.of(10, 0), LocalTime.of(18, 0)));\r\n    }\r\n\r\n    public static boolean isBetween(LocalTime candidate, LocalTime start, LocalTime end) {\r\n      return !candidate.isBefore(start) &amp;&amp; !candidate.isAfter(end);  // Inclusive.\r\n    }\n\nFor inclusive beginning but exclusive ending (half-open), use this line.\n\n    return !candidate.isBefore(start) &amp;&amp; candidate.isBefore(end);  // Exclusive of end.\r\n\r\n    ","title":"Time comparison","body":"<p>With Java 8+, you can use the new Java time API:</p>\n\n<ul>\n<li><p>to parse the time:</p>\n\n<pre><code>LocalTime time = LocalTime.parse(\"11:22\")\n</code></pre></li>\n<li><p>to do date comparisons, you have <code>LocalTime::isBefore</code> and <code>LocalTime::isAfter</code> - note that these methods are strict</p></li>\n</ul>\n\n<p>So you problem would be as simple as:</p>\n\n<pre><code>public static void main(String[] args) {\n  LocalTime time = LocalTime.parse(\"11:22\");\n  System.out.println(isBetween(time, LocalTime.of(10, 0), LocalTime.of(18, 0)));\n}\n\npublic static boolean isBetween(LocalTime candidate, LocalTime start, LocalTime end) {\n  return !candidate.isBefore(start) &amp;&amp; !candidate.isAfter(end);  // Inclusive.\n}\n</code></pre>\n\n<p>For inclusive beginning but exclusive ending (half-open), use this line.</p>\n\n<pre><code>return !candidate.isBefore(start) &amp;&amp; candidate.isBefore(end);  // Exclusive of end.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12962968,"reputation":340,"user_id":9371608,"display_name":"Jared Zena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583807441,"creation_date":1583807441,"answer_id":60610807,"question_id":2309558,"body_markdown":"You can use the compareTo() method from Java Date class\r\n\r\n    public int result = date.compareTo(Date anotherDate); \r\n\r\nReturn Value: The function gives three return values specified below:\r\n\r\nIt returns the value 0 if the argument Date is equal to this Date.\r\nIt returns a value less than 0 if this Date is before the Date argument.\r\nIt returns a value greater than 0 if this Date is after the Date argument.\r\n\r\n    ","title":"Time comparison","body":"<p>You can use the compareTo() method from Java Date class</p>\n\n<pre><code>public int result = date.compareTo(Date anotherDate); \n</code></pre>\n\n<p>Return Value: The function gives three return values specified below:</p>\n\n<p>It returns the value 0 if the argument Date is equal to this Date.\nIt returns a value less than 0 if this Date is before the Date argument.\nIt returns a value greater than 0 if this Date is after the Date argument.</p>\n"},{"tags":[],"owner":{"account_id":9658005,"reputation":51,"user_id":7166980,"display_name":"Shubham Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600360268,"creation_date":1600360268,"answer_id":63942428,"question_id":2309558,"body_markdown":"            String timeRange = &quot;12:24-13:24&quot;;\r\n\t\t\tString[] timeR = timeRange.trim().split(&quot;-&quot;);\r\n\t\t\t\r\n\t\t\t// java 8\r\n\t\t\tLocalTime start = LocalTime.parse(timeR[0].trim());\r\n\t\t\tLocalTime end = LocalTime.parse(timeR[1].trim());\r\n\t\t\tLocalTime current = LocalTime.now();\r\n\t\t\tLocalTime currentHM = LocalTime.parse(current.getHour()+&quot;:&quot;+current.getMinute());\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(!currentHM.isBefore(start) &amp;&amp; !currentHM.isAfter(end)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}else {\r\n\t\t\t\treturn false;\r\n\t\t\t}","title":"Time comparison","body":"<pre><code>        String timeRange = &quot;12:24-13:24&quot;;\n        String[] timeR = timeRange.trim().split(&quot;-&quot;);\n        \n        // java 8\n        LocalTime start = LocalTime.parse(timeR[0].trim());\n        LocalTime end = LocalTime.parse(timeR[1].trim());\n        LocalTime current = LocalTime.now();\n        LocalTime currentHM = LocalTime.parse(current.getHour()+&quot;:&quot;+current.getMinute());\n        \n        \n        if(!currentHM.isBefore(start) &amp;&amp; !currentHM.isAfter(end)) {\n            return true;\n        }else {\n            return false;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23340523,"reputation":305,"user_id":17415483,"display_name":"Krahmal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638867921,"creation_date":1638867921,"answer_id":70257383,"question_id":2309558,"body_markdown":"I don&#39; t know Java, but in Kotlin we have ```coerceIn``` now.\r\n```\r\npublic fun &lt;T : Comparable&lt;T&gt;&gt; T.coerceIn(\r\n    range: ClosedRange&lt;T&gt;\r\n): T\r\n```\r\nEnsures that this value lies in the specified range.\r\n\r\nReturns:\r\nthis value if it&#39;s in the range, or range.start if this value is less than range.start, or range.endInclusive if this value is greater than range.endInclusive.","title":"Time comparison","body":"<p>I don' t know Java, but in Kotlin we have <code>coerceIn</code> now.</p>\n<pre><code>public fun &lt;T : Comparable&lt;T&gt;&gt; T.coerceIn(\n    range: ClosedRange&lt;T&gt;\n): T\n</code></pre>\n<p>Ensures that this value lies in the specified range.</p>\n<p>Returns:\nthis value if it's in the range, or range.start if this value is less than range.start, or range.endInclusive if this value is greater than range.endInclusive.</p>\n"}],"owner":{"account_id":75921,"reputation":699,"user_id":217638,"accept_rate":56,"display_name":"sling"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157055,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":2309609,"answer_count":12,"score":37,"last_activity_date":1638867921,"creation_date":1266825993,"question_id":2309558,"body_markdown":"I have a time in `hh:mm` and it has to be entered by the user in that format.\r\n\r\nHowever, I want to compare the time (eg. 11:22) is it between 10am to 6pm? But how do I compare it?\r\n\r\n","title":"Time comparison","body":"<p>I have a time in <code>hh:mm</code> and it has to be entered by the user in that format.</p>\n\n<p>However, I want to compare the time (eg. 11:22) is it between 10am to 6pm? But how do I compare it?</p>\n"},{"tags":["java","spring-boot","api","rest","mocking"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638864967,"post_id":70256493,"comment_id":124194731,"body_markdown":"1. Use interfacs, you defined those so use them (in your controller and test). 2. Why Spring Extension in your test you aren&#39;t using anything Spring related in there, either use it or ditch the extension. 3. Judging from your test code you are mixing also JUnit4 and JUnit5 which isn&#39;t going to help either.","body":"1. Use interfacs, you defined those so use them (in your controller and test). 2. Why Spring Extension in your test you aren&#39;t using anything Spring related in there, either use it or ditch the extension. 3. Judging from your test code you are mixing also JUnit4 and JUnit5 which isn&#39;t going to help either."},{"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"score":0,"creation_date":1638866865,"post_id":70256493,"comment_id":124195336,"body_markdown":"@M.Deinum It still doesn&#39;t solve the error :C","body":"@M.Deinum It still doesn&#39;t solve the error :C"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638867062,"post_id":70256493,"comment_id":124195414,"body_markdown":"The main cause is mixing JUnit4 and JUnit5 that is trouble waiting to happen. If you didn&#39;t solve that it simply won&#39;t work.","body":"The main cause is mixing JUnit4 and JUnit5 that is trouble waiting to happen. If you didn&#39;t solve that it simply won&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638867823,"creation_date":1638867823,"answer_id":70257364,"question_id":70256493,"body_markdown":"The main issue in your test is that you are mixing JUnit 4 annotations and JUnit5 in a single test. The `@Before` is from JUnit4 so the setup is never being run, hence no dependencies or mocks will be created. Hence a `NullPointerException` as nothing is injected. \r\n\r\nIn your code you should use the `CompaniaService` interface instead of the `CompaniaServiceImpl`. You have defined an interface which you should use to your advantage. \r\n\r\nChange your controller. \r\n\r\n```java\r\n@RestController\r\n@RequestMapping(path = &quot;/companias&quot;)\r\npublic class ControllerAPI {\r\n\r\n\r\n    private final CompaniaService companiaService;\r\n\r\n    public ControllerAPI(CompaniaService companiaService) {\r\n        this.companiaService = companiaService;\r\n    }\r\n```\r\nYou don&#39;t need the `@Autowired` on the field as injection is done through the constructor!. \r\n\r\nNow for your test you can do a couple of things. \r\n\r\n1. Replace `@Before` with `@BeforeEach` which is the JUnit5 annotation to mark the method. You don&#39;t need the `@ExtendsWith` and `@ContextConfiguration`.\r\n\r\n2. Instead of the `@ExtendsWith(SpringExtension.class)` use the `MockitoExtension`, use `@BeforeEach` but not to initialize the mocks. \r\n\r\n3. Use `@WebMvcTest` and `@MockBean` and let Spring Boot handle the injection and mock creation for you. \r\n\r\n\r\nUse proper annotations\r\n---\r\n\r\n```java\r\nclass ControllerAPITest {\r\n\r\n    String token = &quot;xxx&quot;;\r\n\r\n    @InjectMocks\r\n    private ControllerAPI controllerAPI;\r\n\r\n    @Mock\r\n    private CompaniaService companiaService;\r\n\r\n    private MockMvc mockMvc;\r\n\r\n    @BeforeEach\r\n    public void setup() throws Exception{\r\n\r\n        MockitoAnnotations.initMocks(this);\r\n\r\n        this.mockMvc = MockMvcBuilders.standaloneSetup(controllerAPI).build();\r\n    }\r\n\r\n\r\n   @Test\r\n   void getByField() throws Exception {  ... }\r\n\r\n```\r\n\r\n\r\nUse `MockitoExtension`\r\n---\r\n```java\r\n@ExtendsWith(MockitoExtension.class)\r\nclass ControllerAPITest {\r\n\r\n    String token = &quot;xxx&quot;;\r\n\r\n    @InjectMocks\r\n    private ControllerAPI controllerAPI;\r\n\r\n    @Mock\r\n    private CompaniaService companiaService;\r\n\r\n    private MockMvc mockMvc;\r\n\r\n    @BeforeEach\r\n    public void setup() throws Exception{\r\n        this.mockMvc = MockMvcBuilders.standaloneSetup(controllerAPI).build();\r\n    }\r\n\r\n   @Test\r\n   void getByField() throws Exception {  ... }\r\n\r\n```\r\n\r\nUse `@WebMvcTest`\r\n---\r\n```java\r\n@WebMvcTest(ControllerAPI.class)\r\nclass ControllerAPITest {\r\n\r\n    String token = &quot;xxx&quot;;\r\n\r\n    @MockBean\r\n    private CompaniaService companiaService;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n\r\n   @Test\r\n   void getByField() throws Exception {  ... }\r\n\r\n```","title":"NullPointerException on controller when testing in SpringBoot API - Mocking","body":"<p>The main issue in your test is that you are mixing JUnit 4 annotations and JUnit5 in a single test. The <code>@Before</code> is from JUnit4 so the setup is never being run, hence no dependencies or mocks will be created. Hence a <code>NullPointerException</code> as nothing is injected.</p>\n<p>In your code you should use the <code>CompaniaService</code> interface instead of the <code>CompaniaServiceImpl</code>. You have defined an interface which you should use to your advantage.</p>\n<p>Change your controller.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(path = &quot;/companias&quot;)\npublic class ControllerAPI {\n\n\n    private final CompaniaService companiaService;\n\n    public ControllerAPI(CompaniaService companiaService) {\n        this.companiaService = companiaService;\n    }\n</code></pre>\n<p>You don't need the <code>@Autowired</code> on the field as injection is done through the constructor!.</p>\n<p>Now for your test you can do a couple of things.</p>\n<ol>\n<li><p>Replace <code>@Before</code> with <code>@BeforeEach</code> which is the JUnit5 annotation to mark the method. You don't need the <code>@ExtendsWith</code> and <code>@ContextConfiguration</code>.</p>\n</li>\n<li><p>Instead of the <code>@ExtendsWith(SpringExtension.class)</code> use the <code>MockitoExtension</code>, use <code>@BeforeEach</code> but not to initialize the mocks.</p>\n</li>\n<li><p>Use <code>@WebMvcTest</code> and <code>@MockBean</code> and let Spring Boot handle the injection and mock creation for you.</p>\n</li>\n</ol>\n<h2>Use proper annotations</h2>\n<pre class=\"lang-java prettyprint-override\"><code>class ControllerAPITest {\n\n    String token = &quot;xxx&quot;;\n\n    @InjectMocks\n    private ControllerAPI controllerAPI;\n\n    @Mock\n    private CompaniaService companiaService;\n\n    private MockMvc mockMvc;\n\n    @BeforeEach\n    public void setup() throws Exception{\n\n        MockitoAnnotations.initMocks(this);\n\n        this.mockMvc = MockMvcBuilders.standaloneSetup(controllerAPI).build();\n    }\n\n\n   @Test\n   void getByField() throws Exception {  ... }\n\n</code></pre>\n<h2>Use <code>MockitoExtension</code></h2>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendsWith(MockitoExtension.class)\nclass ControllerAPITest {\n\n    String token = &quot;xxx&quot;;\n\n    @InjectMocks\n    private ControllerAPI controllerAPI;\n\n    @Mock\n    private CompaniaService companiaService;\n\n    private MockMvc mockMvc;\n\n    @BeforeEach\n    public void setup() throws Exception{\n        this.mockMvc = MockMvcBuilders.standaloneSetup(controllerAPI).build();\n    }\n\n   @Test\n   void getByField() throws Exception {  ... }\n\n</code></pre>\n<h2>Use <code>@WebMvcTest</code></h2>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(ControllerAPI.class)\nclass ControllerAPITest {\n\n    String token = &quot;xxx&quot;;\n\n    @MockBean\n    private CompaniaService companiaService;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n\n   @Test\n   void getByField() throws Exception {  ... }\n\n</code></pre>\n"}],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70257364,"answer_count":1,"score":0,"last_activity_date":1638867823,"creation_date":1638862990,"question_id":70256493,"body_markdown":"I don&#39;t know why, but my code is giving me a nullPointerException error when I try to use test any of my methods from the controller using MVC. Here I put some parts of code:\r\n\r\nMy **controller**(first method only):\r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;/companias&quot;)\r\n    public class ControllerAPI {\r\n    \r\n    \r\n        @Autowired\r\n        private final CompaniaServiceImpl companiaService;\r\n    \r\n        public ControllerAPI(CompaniaServiceImpl companiaService) {\r\n            this.companiaService = companiaService;\r\n        }\r\n    \r\n        @ResponseStatus(HttpStatus.OK)\r\n        @GetMapping(&quot;/{companiaId}/{field_name}&quot;)\r\n        public Map&lt;String, List&lt;Object&gt;&gt; getByField(\r\n            @PathVariable(&quot;companiaId&quot;) Long companiaId,\r\n            @PathVariable(&quot;field_name&quot;) String fieldName) {\r\n    \r\n            return companiaService.getCompaniaByfield(companiaId, fieldName);\r\n    \r\n        }\r\n\r\n\r\nHere is my **Service** (the one I&#39;m trying to mock):\r\n\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class CompaniaServiceImpl implements CompaniaService {\r\n    \r\n    \r\n        private final CompaniaRepository companiaRepository;\r\n        private final DefaultGroupRepository defaultGroupRepository;\r\n        private final OfficeRepository officeRepository;\r\n    \r\n        @Autowired\r\n        public CompaniaServiceImpl(CompaniaRepository companiaRepository, DefaultGroupRepository defaultGroupRepository, OfficeRepository officeRepository) {\r\n            this.companiaRepository = companiaRepository;\r\n            this.defaultGroupRepository = defaultGroupRepository;\r\n            this.officeRepository = officeRepository;\r\n        }\r\n    \r\n    \r\n        public Map&lt;String, List&lt;Object&gt;&gt; getCompaniaByfield(Long companiaId, String fieldName) {\r\n    \r\n            if (companiaRepository.existsById(companiaId)) {\r\n                Map&lt;String, Function&lt;Compania, Object&gt;&gt; mapCompania = Map.of(\r\n                    &quot;name&quot;, Compania::getName,\r\n                    &quot;dominio&quot;, Compania::getDominio,\r\n                    &quot;altas&quot;, Compania::getAltas,\r\n                    &quot;bajas&quot;, Compania::getBajas\r\n                );\r\n    \r\n                Compania c = companiaRepository.findCompaniaById(companiaId);\r\n                Function&lt;Compania, Object&gt; retriever = mapCompania.get(fieldName);\r\n    \r\n    \r\n                return Collections.singletonMap(&quot;success&quot;, List.of(retriever.apply(c)));\r\n            }\r\n            else throw new IllegalStateException(\r\n                &quot;Compania con id (&quot; + companiaId + &quot;) no existe&quot;\r\n            );\r\n    \r\n        }\r\n\r\nHere is my **controller Test**:\r\n\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration\r\n    class ControllerAPITest {\r\n    \r\n        String token = &quot;xxx&quot;;\r\n    \r\n        @InjectMocks\r\n        private ControllerAPI controllerAPI;\r\n    \r\n        private CompaniaServiceImpl companiaService = Mockito.mock(CompaniaServiceImpl.class);\r\n    \r\n        private MockMvc mockMvc;\r\n    \r\n        @Before\r\n        public void setup() throws Exception{\r\n    \r\n            MockitoAnnotations.initMocks(this);\r\n    \r\n            this.mockMvc = MockMvcBuilders.standaloneSetup(controllerAPI).build();\r\n        }\r\n    \r\n    \r\n        @Test\r\n        void getByField() throws Exception {\r\n            Map&lt;String, List&lt;Object&gt;&gt; response = Collections.singletonMap(&quot;success&quot;, List.of(&quot;nombre1&quot;));\r\n            Mockito.when(companiaService.getCompaniaByfield(1L,&quot;name&quot;)).thenReturn(response);\r\n    \r\n            this.mockMvc.perform(\r\n                    get(&quot;/companias/{companiaId}/{field_name}&quot;, 1L, &quot;name&quot;)\r\n                        .header(&quot;authorization&quot;, &quot;Bearer &quot; + token)\r\n                        .contentType(MediaType.APPLICATION_JSON))\r\n                .andDo(print())\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$.success[0]&quot;).isNotEmpty())\r\n                .andExpect(jsonPath(&quot;$.success[0]&quot;).value(&quot;nombre1&quot;));\r\n        }\r\n\r\n\r\n\r\n\r\nAnd the **NullPointerException error** that is giving me:\r\n\r\n\r\n    java.lang.NullPointerException\r\n    \tat database.configuration.controller.ControllerAPITest.getByField(ControllerAPITest.java:69)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n\r\nIt gives me this error in the line that says ***this.mockMvc.perform(*** I don&#39;t know why I&#39;m not being able to mock my service. If you could help me, I&#39;d really appreciate it\r\n\r\n\r\n","title":"NullPointerException on controller when testing in SpringBoot API - Mocking","body":"<p>I don't know why, but my code is giving me a nullPointerException error when I try to use test any of my methods from the controller using MVC. Here I put some parts of code:</p>\n<p>My <strong>controller</strong>(first method only):</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/companias&quot;)\npublic class ControllerAPI {\n\n\n    @Autowired\n    private final CompaniaServiceImpl companiaService;\n\n    public ControllerAPI(CompaniaServiceImpl companiaService) {\n        this.companiaService = companiaService;\n    }\n\n    @ResponseStatus(HttpStatus.OK)\n    @GetMapping(&quot;/{companiaId}/{field_name}&quot;)\n    public Map&lt;String, List&lt;Object&gt;&gt; getByField(\n        @PathVariable(&quot;companiaId&quot;) Long companiaId,\n        @PathVariable(&quot;field_name&quot;) String fieldName) {\n\n        return companiaService.getCompaniaByfield(companiaId, fieldName);\n\n    }\n</code></pre>\n<p>Here is my <strong>Service</strong> (the one I'm trying to mock):</p>\n<pre><code>@Service\n@Slf4j\npublic class CompaniaServiceImpl implements CompaniaService {\n\n\n    private final CompaniaRepository companiaRepository;\n    private final DefaultGroupRepository defaultGroupRepository;\n    private final OfficeRepository officeRepository;\n\n    @Autowired\n    public CompaniaServiceImpl(CompaniaRepository companiaRepository, DefaultGroupRepository defaultGroupRepository, OfficeRepository officeRepository) {\n        this.companiaRepository = companiaRepository;\n        this.defaultGroupRepository = defaultGroupRepository;\n        this.officeRepository = officeRepository;\n    }\n\n\n    public Map&lt;String, List&lt;Object&gt;&gt; getCompaniaByfield(Long companiaId, String fieldName) {\n\n        if (companiaRepository.existsById(companiaId)) {\n            Map&lt;String, Function&lt;Compania, Object&gt;&gt; mapCompania = Map.of(\n                &quot;name&quot;, Compania::getName,\n                &quot;dominio&quot;, Compania::getDominio,\n                &quot;altas&quot;, Compania::getAltas,\n                &quot;bajas&quot;, Compania::getBajas\n            );\n\n            Compania c = companiaRepository.findCompaniaById(companiaId);\n            Function&lt;Compania, Object&gt; retriever = mapCompania.get(fieldName);\n\n\n            return Collections.singletonMap(&quot;success&quot;, List.of(retriever.apply(c)));\n        }\n        else throw new IllegalStateException(\n            &quot;Compania con id (&quot; + companiaId + &quot;) no existe&quot;\n        );\n\n    }\n</code></pre>\n<p>Here is my <strong>controller Test</strong>:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration\nclass ControllerAPITest {\n\n    String token = &quot;xxx&quot;;\n\n    @InjectMocks\n    private ControllerAPI controllerAPI;\n\n    private CompaniaServiceImpl companiaService = Mockito.mock(CompaniaServiceImpl.class);\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup() throws Exception{\n\n        MockitoAnnotations.initMocks(this);\n\n        this.mockMvc = MockMvcBuilders.standaloneSetup(controllerAPI).build();\n    }\n\n\n    @Test\n    void getByField() throws Exception {\n        Map&lt;String, List&lt;Object&gt;&gt; response = Collections.singletonMap(&quot;success&quot;, List.of(&quot;nombre1&quot;));\n        Mockito.when(companiaService.getCompaniaByfield(1L,&quot;name&quot;)).thenReturn(response);\n\n        this.mockMvc.perform(\n                get(&quot;/companias/{companiaId}/{field_name}&quot;, 1L, &quot;name&quot;)\n                    .header(&quot;authorization&quot;, &quot;Bearer &quot; + token)\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andDo(print())\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.success[0]&quot;).isNotEmpty())\n            .andExpect(jsonPath(&quot;$.success[0]&quot;).value(&quot;nombre1&quot;));\n    }\n</code></pre>\n<p>And the <strong>NullPointerException error</strong> that is giving me:</p>\n<pre><code>java.lang.NullPointerException\n    at database.configuration.controller.ControllerAPITest.getByField(ControllerAPITest.java:69)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>It gives me this error in the line that says <em><strong>this.mockMvc.perform(</strong></em> I don't know why I'm not being able to mock my service. If you could help me, I'd really appreciate it</p>\n"},{"tags":["java","listener","sftp","apache-mina"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1638867609,"creation_date":1429275191,"answer_id":29699757,"question_id":29698274,"body_markdown":"You seem to have an idea that the SFTP is similar protocol to an HTTP. I.e. the client opens a connection with &quot;write&quot; request (like HTTP PUT), sends a file contents of request body, disconnects and that&#39;s it. \r\n\r\nThat&#39;s not how the SFTP works.\r\n\r\nThe SFTP is like a remote file system. The client connects to the SSH/SFTP server and keeps the connection open. During the session, the client sends an &quot;open&quot; file request (with either read or write or both privileges) and gets a handle to the opened file. Then it sends a sequence of read/write-block requests using the file handle. And finally it closes the handle. During a single session, the client can (and typically does) read/write or both any number of files it likes. It can even have several files opened in parallel, accessing them in a completely random order. It is very similar to a way an application works with a local file system.\r\n\r\nImplications:\r\n\r\n- You cannot reject connection when you do not like a file, because the connection request itself is not associated with a specific file. All you can is reject the file &quot;open&quot; (or &quot;create&quot;) request.  \r\n\r\n    One way to intercept a file open/create request:\r\n\r\n    - Derive `NativeFileSystemView`.\r\n    - Derive `NativeSshFile`.\r\n    - Override `NativeFileSystemView.createNativeSshFile` to create your `NativeSshFile`\r\n    - Override `NativeFileSystemView.isWritable()`\r\n\r\n- You cannot redirect an SFTP connection. SSH/SFTP does not support connection &quot;redirect&quot; (unlike HTTP)\r\n\r\n- There&#39;s not a single moment where you have a complete file in a memory at once, so that you can inspect it somehow. Instead the client sends the file in chunks. You can of course reimplement the MINA SFTP &quot;input stream&quot; in a way that it keeps the file contents in a memory and inspect a complete contents once you get a &quot;close&quot; request; saving the file to a disk only once you are happy with the file. Beware of DOS attacks though.\r\n\r\n---\r\n\r\nA protocol that is more close to what you imagine is the SCP, which also runs over SSH. For it, there&#39;s `ScpTransferEventListener`.","title":"Apache Mina SFTP server side channel listener for incoming files","body":"<p>You seem to have an idea that the SFTP is similar protocol to an HTTP. I.e. the client opens a connection with &quot;write&quot; request (like HTTP PUT), sends a file contents of request body, disconnects and that's it.</p>\n<p>That's not how the SFTP works.</p>\n<p>The SFTP is like a remote file system. The client connects to the SSH/SFTP server and keeps the connection open. During the session, the client sends an &quot;open&quot; file request (with either read or write or both privileges) and gets a handle to the opened file. Then it sends a sequence of read/write-block requests using the file handle. And finally it closes the handle. During a single session, the client can (and typically does) read/write or both any number of files it likes. It can even have several files opened in parallel, accessing them in a completely random order. It is very similar to a way an application works with a local file system.</p>\n<p>Implications:</p>\n<ul>\n<li><p>You cannot reject connection when you do not like a file, because the connection request itself is not associated with a specific file. All you can is reject the file &quot;open&quot; (or &quot;create&quot;) request.</p>\n<p>One way to intercept a file open/create request:</p>\n<ul>\n<li>Derive <code>NativeFileSystemView</code>.</li>\n<li>Derive <code>NativeSshFile</code>.</li>\n<li>Override <code>NativeFileSystemView.createNativeSshFile</code> to create your <code>NativeSshFile</code></li>\n<li>Override <code>NativeFileSystemView.isWritable()</code></li>\n</ul>\n</li>\n<li><p>You cannot redirect an SFTP connection. SSH/SFTP does not support connection &quot;redirect&quot; (unlike HTTP)</p>\n</li>\n<li><p>There's not a single moment where you have a complete file in a memory at once, so that you can inspect it somehow. Instead the client sends the file in chunks. You can of course reimplement the MINA SFTP &quot;input stream&quot; in a way that it keeps the file contents in a memory and inspect a complete contents once you get a &quot;close&quot; request; saving the file to a disk only once you are happy with the file. Beware of DOS attacks though.</p>\n</li>\n</ul>\n<hr />\n<p>A protocol that is more close to what you imagine is the SCP, which also runs over SSH. For it, there's <code>ScpTransferEventListener</code>.</p>\n"}],"owner":{"account_id":6158605,"reputation":84,"user_id":4800872,"display_name":"Leigh Griffin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2829,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":29699757,"answer_count":1,"score":5,"last_activity_date":1638867609,"creation_date":1429271201,"question_id":29698274,"body_markdown":"I am trying to figure out how to implement Server side listeners for a Java based SFTP server to alert me to an incoming file transfer. I&#39;m using the latest version of Apache Mina. My scenario is for my server to simply receive a file from a client and do &quot;something&quot; to the file before storing it. That something could be error checking / rules validation / forwarding the contents elsewhere. The thing is I want to do that before it is saved on my system. I&#39;m having difficulty with the documentation and can&#39;t find a working example that shows a listener implemented with access to the incoming file stream. I have a very simple server taken from a guide:\r\n\r\n    public void setupServer() throws IOException {\r\n\r\n        sshd = SshServer.setUpDefaultServer();\r\n        sshd.setFileSystemFactory(new NativeFileSystemFactory() {\r\n            @Override\r\n            public FileSystemView createFileSystemView(final Session session) {\r\n                return new NativeFileSystemView(session.getUsername(), false) {\r\n                    @Override\r\n                    public String getVirtualUserDir() {\r\n                        return testFolder.getRoot().getAbsolutePath();\r\n                    }\r\n                };\r\n            };\r\n        });\r\n        sshd.setPort(8001);\r\n        sshd.setSubsystemFactories(Arrays\r\n                .&lt;NamedFactory&lt;Command&gt;&gt; asList(new SftpSubsystem.Factory()));\r\n        sshd.setCommandFactory(new ScpCommandFactory());\r\n        sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(testFolder\r\n                .newFile(&quot;hostkey.ser&quot;).getAbsolutePath()));\r\n        sshd.setPasswordAuthenticator(new PasswordAuthenticator() {\r\n            public boolean authenticate(final String username, final String password,\r\n                    final ServerSession session) {\r\n\r\n                return StringUtils.equals(username, USERNAME)\r\n                        &amp;&amp; StringUtils.equals(password, PASSWORD);\r\n            }\r\n        });\r\n\r\n        // SessionListener event = new SessionListener();\r\n\r\n        sshd.start();\r\n    }\r\n\r\nThat server is capable of receiving a file and storing it on the virtual file system. I can read the file / verify the contents but only after the file is received and stored. Basic authentication is fine for now, the authentication mechanisms are really well documented thankfully!\r\n\r\nSo my question is:\r\n\r\n- Is there a means to check dynamically when a connection is being made / when the contents are being transferred and to intercept that as it is happening i.e. before the file is actually committed to a directory.\r\n\r\nor\r\n\r\n- Will I need to setup a listener to simply watch a directory for new files as they appear and process it accordingly?\r\n\r\nThanks in advance!\r\nLeigh.\r\n","title":"Apache Mina SFTP server side channel listener for incoming files","body":"<p>I am trying to figure out how to implement Server side listeners for a Java based SFTP server to alert me to an incoming file transfer. I'm using the latest version of Apache Mina. My scenario is for my server to simply receive a file from a client and do &quot;something&quot; to the file before storing it. That something could be error checking / rules validation / forwarding the contents elsewhere. The thing is I want to do that before it is saved on my system. I'm having difficulty with the documentation and can't find a working example that shows a listener implemented with access to the incoming file stream. I have a very simple server taken from a guide:</p>\n<pre><code>public void setupServer() throws IOException {\n\n    sshd = SshServer.setUpDefaultServer();\n    sshd.setFileSystemFactory(new NativeFileSystemFactory() {\n        @Override\n        public FileSystemView createFileSystemView(final Session session) {\n            return new NativeFileSystemView(session.getUsername(), false) {\n                @Override\n                public String getVirtualUserDir() {\n                    return testFolder.getRoot().getAbsolutePath();\n                }\n            };\n        };\n    });\n    sshd.setPort(8001);\n    sshd.setSubsystemFactories(Arrays\n            .&lt;NamedFactory&lt;Command&gt;&gt; asList(new SftpSubsystem.Factory()));\n    sshd.setCommandFactory(new ScpCommandFactory());\n    sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(testFolder\n            .newFile(&quot;hostkey.ser&quot;).getAbsolutePath()));\n    sshd.setPasswordAuthenticator(new PasswordAuthenticator() {\n        public boolean authenticate(final String username, final String password,\n                final ServerSession session) {\n\n            return StringUtils.equals(username, USERNAME)\n                    &amp;&amp; StringUtils.equals(password, PASSWORD);\n        }\n    });\n\n    // SessionListener event = new SessionListener();\n\n    sshd.start();\n}\n</code></pre>\n<p>That server is capable of receiving a file and storing it on the virtual file system. I can read the file / verify the contents but only after the file is received and stored. Basic authentication is fine for now, the authentication mechanisms are really well documented thankfully!</p>\n<p>So my question is:</p>\n<ul>\n<li>Is there a means to check dynamically when a connection is being made / when the contents are being transferred and to intercept that as it is happening i.e. before the file is actually committed to a directory.</li>\n</ul>\n<p>or</p>\n<ul>\n<li>Will I need to setup a listener to simply watch a directory for new files as they appear and process it accordingly?</li>\n</ul>\n<p>Thanks in advance!\nLeigh.</p>\n"},{"tags":["java","spring","spring-boot","tomcat","jetty"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638866332,"creation_date":1638865699,"answer_id":70256981,"question_id":70255978,"body_markdown":"From the spring documentation the [`server.jetty.max-http-form-post-size`](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server.server.jetty.max-http-form-post-size) is equivalent to the `org.eclipse.jetty.server.Request.maxFormContentSize` property and defines the *Maximum size of the form content in any HTTP post request*.\r\n\r\n","title":"How to set the equivalent of Jetty&#39;s &quot;maxFormContentSize&quot; in Spring Boot?","body":"<p>From the spring documentation the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server.server.jetty.max-http-form-post-size\" rel=\"nofollow noreferrer\"><code>server.jetty.max-http-form-post-size</code></a> is equivalent to the <code>org.eclipse.jetty.server.Request.maxFormContentSize</code> property and defines the <em>Maximum size of the form content in any HTTP post request</em>.</p>\n"}],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1061,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70256981,"answer_count":1,"score":2,"last_activity_date":1638867576,"creation_date":1638860082,"question_id":70255978,"body_markdown":"We&#39;re migrating a project from a classic war project to a Spring Boot application. The old project was using Jetty and when starting the Jetty JVM we supplied the `-Dorg.eclipse.jetty.server.Request.maxFormContentSize=5000000` parameter to limit the max size of form uploads. We want the same limit in our Spring Boot application. But I&#39;m a bit confused since there are many properties to choose from in Spring Boot, for example:\r\n\r\n```\r\nserver.tomcat.max-swallow-size\r\nserver.tomcat.max-http-post-size\r\nspring.servlet.multipart.fileSizeThreshold\r\nspring.servlet.multipart.max-file-size\r\nspring.servlet.multipart.max-request-size\r\n```\r\n\r\nThere could of course be more properties in the same vane that I don&#39;t know about. \r\n\r\nMy question is: What&#39;s the equivalent of `org.eclipse.jetty.server.Request.maxFormContentSize=5000000` in Spring Boot _when using the embedded tomcat web server_? We&#39;re using Spring Boot 2.5.6 (but we will upgrade to 2.6.x) and we&#39;re using the standard embedded Tomcat web server with blocking IO. ","title":"How to set the equivalent of Jetty&#39;s &quot;maxFormContentSize&quot; in Spring Boot?","body":"<p>We're migrating a project from a classic war project to a Spring Boot application. The old project was using Jetty and when starting the Jetty JVM we supplied the <code>-Dorg.eclipse.jetty.server.Request.maxFormContentSize=5000000</code> parameter to limit the max size of form uploads. We want the same limit in our Spring Boot application. But I'm a bit confused since there are many properties to choose from in Spring Boot, for example:</p>\n<pre><code>server.tomcat.max-swallow-size\nserver.tomcat.max-http-post-size\nspring.servlet.multipart.fileSizeThreshold\nspring.servlet.multipart.max-file-size\nspring.servlet.multipart.max-request-size\n</code></pre>\n<p>There could of course be more properties in the same vane that I don't know about.</p>\n<p>My question is: What's the equivalent of <code>org.eclipse.jetty.server.Request.maxFormContentSize=5000000</code> in Spring Boot <em>when using the embedded tomcat web server</em>? We're using Spring Boot 2.5.6 (but we will upgrade to 2.6.x) and we're using the standard embedded Tomcat web server with blocking IO.</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":17940452,"reputation":383,"user_id":16946039,"display_name":"Hugo Vinhal"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1638807596,"creation_date":1638807596,"answer_id":70248548,"question_id":70248211,"body_markdown":"I just solved the problem... It was the order of dependecies. I switched ```quarkus-resteasy-reactive``` to the top and it is working now.","title":"Error using RestResponse from RestEasy Reactive library","body":"<p>I just solved the problem... It was the order of dependecies. I switched <code>quarkus-resteasy-reactive</code> to the top and it is working now.</p>\n"},{"tags":[],"owner":{"account_id":5926985,"reputation":767,"user_id":4662593,"display_name":"Micha Szynkiewicz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638867430,"creation_date":1638867430,"answer_id":70257290,"question_id":70248211,"body_markdown":"With RESTEasy Reactive, you should use `quarkus-rest-client-reactive`. `quarkus-rest-client` may bring some RESTEasy classic classes that conflict with the reactive version","title":"Error using RestResponse from RestEasy Reactive library","body":"<p>With RESTEasy Reactive, you should use <code>quarkus-rest-client-reactive</code>. <code>quarkus-rest-client</code> may bring some RESTEasy classic classes that conflict with the reactive version</p>\n"}],"owner":{"account_id":17940452,"reputation":383,"user_id":16946039,"display_name":"Hugo Vinhal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1892,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70248548,"answer_count":2,"score":2,"last_activity_date":1638867430,"creation_date":1638806018,"question_id":70248211,"body_markdown":"I am trying to use the `RestResponse&lt;T&gt;` object from ```org.jboss.resteasy.reactive``` on the return of my application resources since the ```javax.ws.rs.core.Response``` doesn&#39;t provide the generic type.\r\n\r\nI am getting the error when I call this endpoint:\r\n\r\n```\r\npublic RestResponse&lt;List&lt;SampleResponse&gt;&gt; findAll() {\r\n    return ResponseBuilder.ok(sampleService.findAll()).build();\r\n}\r\n```\r\n\r\nThe error:  \r\n```none\r\nRequest failed: java.lang.ClassCastException: class org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl cann\r\not be cast to class org.jboss.resteasy.reactive.common.jaxrs.RuntimeDelegateImpl (org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl and org.jboss.resteasy.reactive.common.jaxrs.RuntimeDelegateImpl are in unnamed mo\r\ndule of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @3c153a1)\r\n```\r\n\r\nMy dependencies in pom.xml: \r\n  ```xml\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-liquibase&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-smallrye-health&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-config-yaml&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-spring-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-spring-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```","title":"Error using RestResponse from RestEasy Reactive library","body":"<p>I am trying to use the <code>RestResponse&lt;T&gt;</code> object from <code>org.jboss.resteasy.reactive</code> on the return of my application resources since the <code>javax.ws.rs.core.Response</code> doesn't provide the generic type.</p>\n<p>I am getting the error when I call this endpoint:</p>\n<pre><code>public RestResponse&lt;List&lt;SampleResponse&gt;&gt; findAll() {\n    return ResponseBuilder.ok(sampleService.findAll()).build();\n}\n</code></pre>\n<p>The error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Request failed: java.lang.ClassCastException: class org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl cann\not be cast to class org.jboss.resteasy.reactive.common.jaxrs.RuntimeDelegateImpl (org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl and org.jboss.resteasy.reactive.common.jaxrs.RuntimeDelegateImpl are in unnamed mo\ndule of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @3c153a1)\n</code></pre>\n<p>My dependencies in pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-liquibase&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-smallrye-health&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-config-yaml&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-spring-data-jpa&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;${lombok.version}&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-spring-web&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1453456148,"post_id":34943466,"comment_id":57618789,"body_markdown":"If you ever want to go this way, this topic is about &quot;never executing cron expressions&quot; : http://stackoverflow.com/questions/13835221/quartz-cron-expression-that-will-never-execute","body":"If you ever want to go this way, this topic is about &quot;never executing cron expressions&quot; : <a href=\"http://stackoverflow.com/questions/13835221/quartz-cron-expression-that-will-never-execute\" title=\"quartz cron expression that will never execute\">stackoverflow.com/questions/13835221/&hellip;</a>"},{"owner":{"account_id":2771244,"reputation":11224,"user_id":2385808,"accept_rate":62,"display_name":"Fritz Duchardt"},"score":0,"creation_date":1453456271,"post_id":34943466,"comment_id":57618870,"body_markdown":"@Berger but that question deals with quartz cron expressions which seem more flexible than spring cron expressions.","body":"@Berger but that question deals with quartz cron expressions which seem more flexible than spring cron expressions."}],"answers":[{"tags":[],"owner":{"account_id":3617484,"reputation":13834,"user_id":3017003,"accept_rate":81,"display_name":"Jakub Kubrynski"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1453456000,"creation_date":1453456000,"answer_id":34943553,"question_id":34943466,"body_markdown":"Empty string is an incorrect cron expression. If you want to disable scheduler in particular condition just use `@Profile` annotation or if you have to operate on property use `@ConditionalOnProperty` annotation from Spring Boot.\r\n\r\n    @Component\r\n    @ConditionalOnProperty(prefix = &quot;spring.cron&quot;, name = &quot;expression&quot;)\r\n    public class MyScheduler {\r\n       @Scheduled(cron = &quot;${spring.cron.expression}&quot;)\r\n       public void demonJob() throws .. { .. }\r\n    }","title":"How to disable @Scheduled method via properties file?","body":"<p>Empty string is an incorrect cron expression. If you want to disable scheduler in particular condition just use <code>@Profile</code> annotation or if you have to operate on property use <code>@ConditionalOnProperty</code> annotation from Spring Boot.</p>\n\n<pre><code>@Component\n@ConditionalOnProperty(prefix = \"spring.cron\", name = \"expression\")\npublic class MyScheduler {\n   @Scheduled(cron = \"${spring.cron.expression}\")\n   public void demonJob() throws .. { .. }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7247808,"reputation":3044,"user_id":5819877,"accept_rate":100,"display_name":"Praveen Kumar K S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453457238,"creation_date":1453457238,"answer_id":34943980,"question_id":34943466,"body_markdown":"**Possible Solution to your Question**\r\n\r\n 1. Configure your properties file based on the environment\r\n 2. Configure your ApplicationContext according to your environment profile.\r\n 3. Use Environment Specific CRON Entries.\r\n 4. Please check this [link][1] which may help you.\r\n\r\n\r\n  [1]: http://www.petrikainulainen.net/programming/spring-framework/spring-from-the-trenches-using-environment-specific-cron-expressions-with-the-scheduled-annotation/","title":"How to disable @Scheduled method via properties file?","body":"<p><strong>Possible Solution to your Question</strong></p>\n\n<ol>\n<li>Configure your properties file based on the environment</li>\n<li>Configure your ApplicationContext according to your environment profile.</li>\n<li>Use Environment Specific CRON Entries.</li>\n<li>Please check this <a href=\"http://www.petrikainulainen.net/programming/spring-framework/spring-from-the-trenches-using-environment-specific-cron-expressions-with-the-scheduled-annotation/\" rel=\"nofollow\">link</a> which may help you.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510926670,"creation_date":1510905690,"answer_id":47345876,"question_id":34943466,"body_markdown":"I could give another approach. Just redefine applicatino cron expression in any way to set unreachable time period. E.g. `spring.cron.expression=1 1 1 1 1 ?` (this is I use in my code and it is enough for me).\r\n\r\nProfit of this approach is that you do not have to do any additional changes in the code.","title":"How to disable @Scheduled method via properties file?","body":"<p>I could give another approach. Just redefine applicatino cron expression in any way to set unreachable time period. E.g. <code>spring.cron.expression=1 1 1 1 1 ?</code> (this is I use in my code and it is enough for me).</p>\n\n<p>Profit of this approach is that you do not have to do any additional changes in the code.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1638866832,"creation_date":1555686069,"answer_id":55763825,"question_id":34943466,"body_markdown":"As of Spring 5.1.0, the special cron value &quot;-&quot; can be used with the [`@Scheduled`](https://docs.spring.io/spring/docs/5.1.0.RELEASE/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#cron--) annotation to disable the cron trigger.\r\n\r\n&gt; The special value &quot;-&quot; indicates a disabled cron trigger, primarily meant for externally specified values resolved by a ${...} placeholder.\r\n\r\nFor your specific example, you merely need to set the `spring.cron.expression` variable to this value.  If this is a Spring Boot project, you can use one of the many [externalized configuration options available](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html) for this purpose, including:\r\n\r\n* Command line argument\r\n* Java System property\r\n* OS environment variable\r\n* Profile-specific application property for a profile used specifically for that environment\r\n\r\nIf this is not a Spring Boot project, you can still specify this property, though the mechanism to do so is going to be less standard and more project specific.","title":"How to disable @Scheduled method via properties file?","body":"<p>As of Spring 5.1.0, the special cron value &quot;-&quot; can be used with the <a href=\"https://docs.spring.io/spring/docs/5.1.0.RELEASE/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#cron--\" rel=\"noreferrer\"><code>@Scheduled</code></a> annotation to disable the cron trigger.</p>\n<blockquote>\n<p>The special value &quot;-&quot; indicates a disabled cron trigger, primarily meant for externally specified values resolved by a ${...} placeholder.</p>\n</blockquote>\n<p>For your specific example, you merely need to set the <code>spring.cron.expression</code> variable to this value.  If this is a Spring Boot project, you can use one of the many <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"noreferrer\">externalized configuration options available</a> for this purpose, including:</p>\n<ul>\n<li>Command line argument</li>\n<li>Java System property</li>\n<li>OS environment variable</li>\n<li>Profile-specific application property for a profile used specifically for that environment</li>\n</ul>\n<p>If this is not a Spring Boot project, you can still specify this property, though the mechanism to do so is going to be less standard and more project specific.</p>\n"}],"owner":{"account_id":2771244,"reputation":11224,"user_id":2385808,"accept_rate":62,"display_name":"Fritz Duchardt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15445,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":34943553,"answer_count":4,"score":14,"last_activity_date":1638867222,"creation_date":1453455729,"question_id":34943466,"body_markdown":"I have a Spring scheduled method that is periodically run:\r\n\r\n```lang-java\r\n@Scheduled(cron = &quot;${spring.cron.expression}&quot;)\r\npublic void demonJob() { ... }\r\n```\r\n\r\nThe cron expression is successfully read from the `application.properties`:\r\n\r\n```lang-none\r\nspring.cron.expression=0 0 * * * *\r\n```\r\n\r\nNow, I want to deploy my application to a special environment on which this particular scheduled method is not supposed to run. If I leave the cron property empty like this...\r\n\r\n```lang-none\r\nspring.cron.expression=\r\n```\r\n\r\n... I get the following exception:\r\n\r\n```lang-none\r\nEncountered invalid @Scheduled method &#39;demonJob&#39;: Cron expression must consist of 6 fields (found 0 in &quot;&quot;)\r\n```\r\n\r\nHow can I disable the Scheduled method elegantly, ideally only by providing a different setting in `application.properties`?","title":"How to disable @Scheduled method via properties file?","body":"<p>I have a Spring scheduled method that is periodically run:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron = &quot;${spring.cron.expression}&quot;)\npublic void demonJob() { ... }\n</code></pre>\n<p>The cron expression is successfully read from the <code>application.properties</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.cron.expression=0 0 * * * *\n</code></pre>\n<p>Now, I want to deploy my application to a special environment on which this particular scheduled method is not supposed to run. If I leave the cron property empty like this...</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.cron.expression=\n</code></pre>\n<p>... I get the following exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Encountered invalid @Scheduled method 'demonJob': Cron expression must consist of 6 fields (found 0 in &quot;&quot;)\n</code></pre>\n<p>How can I disable the Scheduled method elegantly, ideally only by providing a different setting in <code>application.properties</code>?</p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":14713804,"reputation":620,"user_id":10811865,"display_name":"SirHawrk"},"score":2,"creation_date":1638803864,"post_id":70247494,"comment_id":124178660,"body_markdown":"Could you give us the error message? My best guess would be that you are multithreading the tests and while you run it on its own there is no issue. When running it with other tests the Locks are not applied properly","body":"Could you give us the error message? My best guess would be that you are multithreading the tests and while you run it on its own there is no issue. When running it with other tests the Locks are not applied properly"},{"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"score":0,"creation_date":1638823113,"post_id":70247494,"comment_id":124185754,"body_markdown":"If you intend to use `circuitBreaker` in a multi-threaded setup, at least mark `state`, `failureCount`, `lastFailureTime` and `lastFailureMessage` as [volatile](https://stackoverflow.com/q/106591/3080094).","body":"If you intend to use <code>circuitBreaker</code> in a multi-threaded setup, at least mark <code>state</code>, <code>failureCount</code>, <code>lastFailureTime</code> and <code>lastFailureMessage</code> as <a href=\"https://stackoverflow.com/q/106591/3080094\">volatile</a>."},{"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1638878221,"post_id":70247494,"comment_id":124199494,"body_markdown":"i do not, as you can see only thing i do is sleeping the current thread.","body":"i do not, as you can see only thing i do is sleeping the current thread."},{"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1638878274,"post_id":70247494,"comment_id":124199515,"body_markdown":"@SirHawrk The last Assertions.assertTrue(resSuccess.isSuccess()) fails. which it shouldnt. If i run whole test class in intellij (around 15 tests ) then it never fails too. Only sometimes fails when running it with maven.","body":"@SirHawrk The last Assertions.assertTrue(resSuccess.isSuccess()) fails. which it shouldnt. If i run whole test class in intellij (around 15 tests ) then it never fails too. Only sometimes fails when running it with maven."},{"owner":{"account_id":14713804,"reputation":620,"user_id":10811865,"display_name":"SirHawrk"},"score":0,"creation_date":1638959775,"post_id":70247494,"comment_id":124224336,"body_markdown":"That is not an error message. There should be a stacktrace with that failure. We can not see if you are using it in a multi-threaded setup. That was a guess from my side.","body":"That is not an error message. There should be a stacktrace with that failure. We can not see if you are using it in a multi-threaded setup. That was a guess from my side."}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638866980,"creation_date":1638802728,"question_id":70247494,"body_markdown":"I am using JUnit 5, running test with simple `mvn clean test`. I have a few services/utilities that require some waiting in test, in order to test their functionality. One of them is a simple circuit breaker.\r\n\r\n    public class DefaultHttpCircuitBreaker implements CircuitBreaker&lt;HttpResponse&gt; {\r\n    \r\n        private enum State {\r\n            CLOSED,\r\n            OPEN,\r\n            HALF_OPEN\r\n        }\r\n    \r\n        private final int failureThreshold;\r\n        private final long retryPeriod;\r\n    \r\n        private State state;\r\n        private int failureCount;\r\n        private long lastFailureTime;\r\n        private String lastFailureMessage;\r\n    \r\n        public DefaultHttpCircuitBreaker(int failureThreshold, long retryPeriod) {\r\n            this.retryPeriod = retryPeriod;\r\n            this.state = State.CLOSED;\r\n            this.failureCount = 0;\r\n            this.failureThreshold = failureThreshold;\r\n        }\r\n    \r\n        @Override\r\n        public RemoteServiceResponse&lt;HttpResponse&gt; attemptCall(Caller&lt;HttpResponse&gt; caller) {\r\n            evaluateState();\r\n            if (this.state == State.OPEN) {\r\n                return RemoteServiceResponse.failure(lastFailureMessage);\r\n            } else {\r\n                try {\r\n                    HttpResponse response = caller.call();\r\n                    int result = response.getStatusLine().getStatusCode();\r\n                    if (result &lt; 200 || result &gt;= 300) {\r\n                        recordFailure(response.getStatusLine().getReasonPhrase());\r\n                        return RemoteServiceResponse.failure(lastFailureMessage);\r\n                    }\r\n                    resetCount();\r\n                    return RemoteServiceResponse.success(response);\r\n                } catch (Exception e) {\r\n                    recordFailure(e.getMessage());\r\n                    return RemoteServiceResponse.communicationError(lastFailureMessage);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public long getLastFailureTime() {\r\n            return lastFailureTime;\r\n        }\r\n    \r\n        @Override\r\n        public int getFailureCount(){\r\n            return failureCount;\r\n        }\r\n    \r\n        private void recordFailure(String message) {\r\n            failureCount++;\r\n            this.lastFailureMessage = message;\r\n            this.lastFailureTime = System.currentTimeMillis();\r\n        }\r\n    \r\n        private void evaluateState() {\r\n            if (failureCount &gt;= failureThreshold) {\r\n                if ((System.currentTimeMillis() - lastFailureTime) &gt; retryPeriod) {\r\n                    this.state = State.HALF_OPEN;\r\n                } else {\r\n                    this.state = State.OPEN;\r\n                }\r\n            } else {\r\n                this.state = State.CLOSED;\r\n            }\r\n        }\r\n    \r\n        private void resetCount() {\r\n            this.failureCount = 0;\r\n            this.state = State.CLOSED;\r\n            lastFailureTime = 0;\r\n        }\r\n    }\r\n\r\nAs you can see, when the CircuitBreaker is open, and certain time has passed, it become half open, so it can attempt to do call once more.\r\n\r\nAnd the test:\r\n\r\n    void testHalfOpenSuccess() throws InterruptedException {\r\n\r\n        int failureThreshold = 5;\r\n        String reasonPhrase = &quot;testPhrase&quot;;\r\n        long retryPeriod = 10000;\r\n        StatusLine line = new BasicStatusLine(new ProtocolVersion(&quot;version&quot;, 1, 1), 300, reasonPhrase);\r\n        Mockito.when(response.getStatusLine()).thenReturn(line);\r\n\r\n        CircuitBreaker&lt;HttpResponse&gt; circuitBreaker = new DefaultHttpCircuitBreaker(failureThreshold, retryPeriod);\r\n\r\n        long lastFailureTime = 0;\r\n        for (int i = 0; i &lt; failureThreshold; i++) {\r\n            RemoteServiceResponse&lt;HttpResponse&gt; res = circuitBreaker.attemptCall(() -&gt; client.execute(new HttpGet(&quot;testUrl&quot;)));\r\n            lastFailureTime = circuitBreaker.getLastFailureTime();\r\n            Assertions.assertTrue(res.isFail());\r\n            Assertions.assertEquals(reasonPhrase, res.getErrMessage());\r\n        }\r\n\r\n        RemoteServiceResponse&lt;HttpResponse&gt; res = circuitBreaker.attemptCall(() -&gt; client.execute(new HttpGet(&quot;testUrl&quot;)));\r\n        Assertions.assertTrue(res.isFail());\r\n        Assertions.assertEquals(reasonPhrase, res.getErrMessage());\r\n        Assertions.assertEquals(lastFailureTime, circuitBreaker.getLastFailureTime());\r\n\r\n        Thread.sleep(2 *retryPeriod); //NOSONAR\r\n        Mockito.when(response.getStatusLine()).thenReturn(new BasicStatusLine(new ProtocolVersion(&quot;version&quot;, 1, 1), 200, reasonPhrase));\r\n\r\n        RemoteServiceResponse&lt;HttpResponse&gt; resSuccess = circuitBreaker.attemptCall(() -&gt; client.execute(new HttpGet(&quot;testUrl&quot;)));\r\n        Assertions.assertTrue(resSuccess.isSuccess());\r\n        Assertions.assertEquals(0, circuitBreaker.getFailureCount());\r\n        Assertions.assertEquals(0, circuitBreaker.getLastFailureTime());\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nThis test attempts to call service threshold times, all should fail. Then it tries to call it instantly one more time just it to fail. However, then i sleep the thread so the retryPeriod has passed and the CircuitBreaker can attempt to call once more.\r\n\r\nThis test works. However, when I run it with `mvn clean test` it randomly fails 1 out of 10 times. What is reason for this? If I run this test using IntelliJ, it never fails. What is the reason maven fails test using Thread.sleep()? Same thing happens when I run test that uses `wait()` and `notify()`. However only the last defined test in class fails like this.\r\n\r\nWhat fails is last `Assertions.assertTrue(resSuccess.isSuccess())`;\r\n\r\nWhat is the reason?","title":"Last defined test in classes using Thread.sleep or wait() randomly fails using maven","body":"<p>I am using JUnit 5, running test with simple <code>mvn clean test</code>. I have a few services/utilities that require some waiting in test, in order to test their functionality. One of them is a simple circuit breaker.</p>\n<pre><code>public class DefaultHttpCircuitBreaker implements CircuitBreaker&lt;HttpResponse&gt; {\n\n    private enum State {\n        CLOSED,\n        OPEN,\n        HALF_OPEN\n    }\n\n    private final int failureThreshold;\n    private final long retryPeriod;\n\n    private State state;\n    private int failureCount;\n    private long lastFailureTime;\n    private String lastFailureMessage;\n\n    public DefaultHttpCircuitBreaker(int failureThreshold, long retryPeriod) {\n        this.retryPeriod = retryPeriod;\n        this.state = State.CLOSED;\n        this.failureCount = 0;\n        this.failureThreshold = failureThreshold;\n    }\n\n    @Override\n    public RemoteServiceResponse&lt;HttpResponse&gt; attemptCall(Caller&lt;HttpResponse&gt; caller) {\n        evaluateState();\n        if (this.state == State.OPEN) {\n            return RemoteServiceResponse.failure(lastFailureMessage);\n        } else {\n            try {\n                HttpResponse response = caller.call();\n                int result = response.getStatusLine().getStatusCode();\n                if (result &lt; 200 || result &gt;= 300) {\n                    recordFailure(response.getStatusLine().getReasonPhrase());\n                    return RemoteServiceResponse.failure(lastFailureMessage);\n                }\n                resetCount();\n                return RemoteServiceResponse.success(response);\n            } catch (Exception e) {\n                recordFailure(e.getMessage());\n                return RemoteServiceResponse.communicationError(lastFailureMessage);\n            }\n        }\n    }\n\n    @Override\n    public long getLastFailureTime() {\n        return lastFailureTime;\n    }\n\n    @Override\n    public int getFailureCount(){\n        return failureCount;\n    }\n\n    private void recordFailure(String message) {\n        failureCount++;\n        this.lastFailureMessage = message;\n        this.lastFailureTime = System.currentTimeMillis();\n    }\n\n    private void evaluateState() {\n        if (failureCount &gt;= failureThreshold) {\n            if ((System.currentTimeMillis() - lastFailureTime) &gt; retryPeriod) {\n                this.state = State.HALF_OPEN;\n            } else {\n                this.state = State.OPEN;\n            }\n        } else {\n            this.state = State.CLOSED;\n        }\n    }\n\n    private void resetCount() {\n        this.failureCount = 0;\n        this.state = State.CLOSED;\n        lastFailureTime = 0;\n    }\n}\n</code></pre>\n<p>As you can see, when the CircuitBreaker is open, and certain time has passed, it become half open, so it can attempt to do call once more.</p>\n<p>And the test:</p>\n<pre><code>void testHalfOpenSuccess() throws InterruptedException {\n\n    int failureThreshold = 5;\n    String reasonPhrase = &quot;testPhrase&quot;;\n    long retryPeriod = 10000;\n    StatusLine line = new BasicStatusLine(new ProtocolVersion(&quot;version&quot;, 1, 1), 300, reasonPhrase);\n    Mockito.when(response.getStatusLine()).thenReturn(line);\n\n    CircuitBreaker&lt;HttpResponse&gt; circuitBreaker = new DefaultHttpCircuitBreaker(failureThreshold, retryPeriod);\n\n    long lastFailureTime = 0;\n    for (int i = 0; i &lt; failureThreshold; i++) {\n        RemoteServiceResponse&lt;HttpResponse&gt; res = circuitBreaker.attemptCall(() -&gt; client.execute(new HttpGet(&quot;testUrl&quot;)));\n        lastFailureTime = circuitBreaker.getLastFailureTime();\n        Assertions.assertTrue(res.isFail());\n        Assertions.assertEquals(reasonPhrase, res.getErrMessage());\n    }\n\n    RemoteServiceResponse&lt;HttpResponse&gt; res = circuitBreaker.attemptCall(() -&gt; client.execute(new HttpGet(&quot;testUrl&quot;)));\n    Assertions.assertTrue(res.isFail());\n    Assertions.assertEquals(reasonPhrase, res.getErrMessage());\n    Assertions.assertEquals(lastFailureTime, circuitBreaker.getLastFailureTime());\n\n    Thread.sleep(2 *retryPeriod); //NOSONAR\n    Mockito.when(response.getStatusLine()).thenReturn(new BasicStatusLine(new ProtocolVersion(&quot;version&quot;, 1, 1), 200, reasonPhrase));\n\n    RemoteServiceResponse&lt;HttpResponse&gt; resSuccess = circuitBreaker.attemptCall(() -&gt; client.execute(new HttpGet(&quot;testUrl&quot;)));\n    Assertions.assertTrue(resSuccess.isSuccess());\n    Assertions.assertEquals(0, circuitBreaker.getFailureCount());\n    Assertions.assertEquals(0, circuitBreaker.getLastFailureTime());\n}\n</code></pre>\n<p>This test attempts to call service threshold times, all should fail. Then it tries to call it instantly one more time just it to fail. However, then i sleep the thread so the retryPeriod has passed and the CircuitBreaker can attempt to call once more.</p>\n<p>This test works. However, when I run it with <code>mvn clean test</code> it randomly fails 1 out of 10 times. What is reason for this? If I run this test using IntelliJ, it never fails. What is the reason maven fails test using Thread.sleep()? Same thing happens when I run test that uses <code>wait()</code> and <code>notify()</code>. However only the last defined test in class fails like this.</p>\n<p>What fails is last <code>Assertions.assertTrue(resSuccess.isSuccess())</code>;</p>\n<p>What is the reason?</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1638866632,"post_id":70257066,"comment_id":124195262,"body_markdown":"Check please https://www.baeldung.com/mockito-junit-5-extension","body":"Check please <a href=\"https://www.baeldung.com/mockito-junit-5-extension\" rel=\"nofollow noreferrer\">baeldung.com/mockito-junit-5-extension</a>"},{"owner":{"account_id":11509677,"reputation":149,"user_id":8434915,"display_name":"David Maranga"},"score":0,"creation_date":1638866787,"post_id":70257066,"comment_id":124195309,"body_markdown":"@Valijon I&#39;ve already gone through the process of what the site gave (e.g., installing other libraries like Surefire Plugin), but it still gave me the same error as the one I&#39;ve posted in here.","body":"@Valijon I&#39;ve already gone through the process of what the site gave (e.g., installing other libraries like Surefire Plugin), but it still gave me the same error as the one I&#39;ve posted in here."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1638867952,"post_id":70257066,"comment_id":124195695,"body_markdown":"What IDE do you use, if any?","body":"What IDE do you use, if any?"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1638867960,"post_id":70257066,"comment_id":124195701,"body_markdown":"What are you trying to run exactly?  Is your `Activity1.class` located in `Junit-Standalone.jar`?  Is your jar file an executable jar?   Please see Solution 3 on how to run a Jar file, while also providing required libraries.... https://timjansen.github.io/jarfiller/javabasics/jar/libraries.xhtml","body":"What are you trying to run exactly?  Is your <code>Activity1.class</code> located in <code>Junit-Standalone.jar</code>?  Is your jar file an executable jar?   Please see Solution 3 on how to run a Jar file, while also providing required libraries.... <a href=\"https://timjansen.github.io/jarfiller/javabasics/jar/libraries.xhtml\" rel=\"nofollow noreferrer\">timjansen.github.io/jarfiller/javabasics/jar/libraries.xhtml</a>"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1638867991,"post_id":70257066,"comment_id":124195707,"body_markdown":"https://stackoverflow.com/questions/5258159/how-to-make-an-executable-jar-file and see that for how to make an executable jar.","body":"<a href=\"https://stackoverflow.com/questions/5258159/how-to-make-an-executable-jar-file\" title=\"how to make an executable jar file\">stackoverflow.com/questions/5258159/&hellip;</a> and see that for how to make an executable jar."},{"owner":{"account_id":11509677,"reputation":149,"user_id":8434915,"display_name":"David Maranga"},"score":0,"creation_date":1638868018,"post_id":70257066,"comment_id":124195714,"body_markdown":"@AdriaanKoster Visual Studio Code","body":"@AdriaanKoster Visual Studio Code"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1638868055,"post_id":70257066,"comment_id":124195727,"body_markdown":"And see this also, https://www.baeldung.com/java-run-jar-with-arguments   Your issue is NOT dependencies....its that you are not putting those dependencies on the classpath as you want to run your JAR, plus I have a feeling that you are not running the correct jar that has your TEST files...","body":"And see this also, <a href=\"https://www.baeldung.com/java-run-jar-with-arguments\" rel=\"nofollow noreferrer\">baeldung.com/java-run-jar-with-arguments</a>   Your issue is NOT dependencies....its that you are not putting those dependencies on the classpath as you want to run your JAR, plus I have a feeling that you are not running the correct jar that has your TEST files..."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1638868118,"post_id":70257066,"comment_id":124195751,"body_markdown":"1. Mockito-Junit-Jupiter is not on your classpath when you run the test. `--classpath` is not recursive. 2. Do you have any specific reason for not using a build tool (Maven and Gradle are popular choices, but there are more). 3. Your project layout is highly unconventional. It is not typical for java projects to mix java and class files in the same directory. It is not common to have 3rd party libs under src.","body":"1. Mockito-Junit-Jupiter is not on your classpath when you run the test. <code>--classpath</code> is not recursive. 2. Do you have any specific reason for not using a build tool (Maven and Gradle are popular choices, but there are more). 3. Your project layout is highly unconventional. It is not typical for java projects to mix java and class files in the same directory. It is not common to have 3rd party libs under src."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1638868286,"post_id":70257066,"comment_id":124195808,"body_markdown":"Indeed @Lesiak I agree. Maybe this answer of mine can give some hints for that: https://stackoverflow.com/questions/1510291/eclipse-java-project-folder-organization/1510717#1510717 Manage the dependencies using Maven or Gradle and use an IDE which supports them.","body":"Indeed @Lesiak I agree. Maybe this answer of mine can give some hints for that: <a href=\"https://stackoverflow.com/questions/1510291/eclipse-java-project-folder-organization/1510717#1510717\" title=\"eclipse java project folder organization\">stackoverflow.com/questions/1510291/&hellip;</a> Manage the dependencies using Maven or Gradle and use an IDE which supports them."},{"owner":{"account_id":11509677,"reputation":149,"user_id":8434915,"display_name":"David Maranga"},"score":0,"creation_date":1638882848,"post_id":70257066,"comment_id":124201292,"body_markdown":"@everyone I&#39;ve decided to use Maven now, and it works perfectly fine already. Also, the project layout is now much better than before. Thanks for the suggestion and the help! :)","body":"@everyone I&#39;ve decided to use Maven now, and it works perfectly fine already. Also, the project layout is now much better than before. Thanks for the suggestion and the help! :)"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1638926581,"post_id":70257066,"comment_id":124216407,"body_markdown":"Consider adding the solution as an answer and accepting it. Thanks!","body":"Consider adding the solution as an answer and accepting it. Thanks!"}],"owner":{"account_id":11509677,"reputation":149,"user_id":8434915,"display_name":"David Maranga"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638866857,"creation_date":1638866176,"question_id":70257066,"body_markdown":"So I&#39;m trying to implement Mockito and JUnit5, but I can&#39;t seem to make it work. It always shows this error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**This is the test file:**\r\n\r\n```\r\npackage test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\nimport static org.mockito.Mockito.*;\r\n\r\nimport javax.swing.*;\r\nimport java.util.*;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\n\r\nimport com.mycompany.helloworldapp.Activity1;\r\nimport utils.TestUtils;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class Activity1Test {\r\n  @InjectMocks\r\n  Activity1 activity1;\r\n\r\n  @Mock\r\n  List&lt;Integer&gt; list;\r\n  \r\n  @Test\r\n  public void testUpdateTextButton() {\r\n    when(list.add(100)).thenReturn(true);\r\n  }\r\n}\r\n```\r\n\r\n**Libraries used:**\r\n\r\n1. junit-platform-console-standalone-1.8.2\r\n2. mockito-core-4.1.0\r\n3. mockito-junit-jupiter-4.1.0\r\n\r\n\r\n**This is the folder structure:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qoi5P.png\r\n  [2]: https://i.stack.imgur.com/SIWwE.png\r\n\r\n**And these are the commands I used in the Terminal:**\r\n\r\n**1. Compiling Java files except Test files:**\r\n\r\n```cd src; javac -target 17 -source 17 com/mycompany/helloworldapp/Activity1.java```\r\n\r\n```cd src; javac -target 17 -source 17 utils/TestUtils.java```\r\n\r\n**2. Compiling Test files:**\r\n\r\n```cd src; javac -target 17 -source 17 -sourcepath . -classpath libraries/JUnit-Standalone.jar:libraries/Mockito-Core.jar:libraries/Mockito-JUnit-Jupiter.jar test/Activity1Test.java```\r\n\r\n**3. Running the test:**\r\n\r\n```cd src; java -jar libraries/JUnit-Standalone.jar --classpath . --scan-classpath```","title":"Mockito with JUnit5 always say &quot;Type org.mockito.junit.jupiter.MockitoExtension not present&quot;","body":"<p>So I'm trying to implement Mockito and JUnit5, but I can't seem to make it work. It always shows this error:</p>\n<p><a href=\"https://i.stack.imgur.com/qoi5P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qoi5P.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>This is the test file:</strong></p>\n<pre><code>package test;\n\nimport static org.junit.jupiter.api.Assertions.*;\nimport static org.mockito.Mockito.*;\n\nimport javax.swing.*;\nimport java.util.*;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\n\nimport com.mycompany.helloworldapp.Activity1;\nimport utils.TestUtils;\n\n@ExtendWith(MockitoExtension.class)\npublic class Activity1Test {\n  @InjectMocks\n  Activity1 activity1;\n\n  @Mock\n  List&lt;Integer&gt; list;\n  \n  @Test\n  public void testUpdateTextButton() {\n    when(list.add(100)).thenReturn(true);\n  }\n}\n</code></pre>\n<p><strong>Libraries used:</strong></p>\n<ol>\n<li>junit-platform-console-standalone-1.8.2</li>\n<li>mockito-core-4.1.0</li>\n<li>mockito-junit-jupiter-4.1.0</li>\n</ol>\n<p><strong>This is the folder structure:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/SIWwE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SIWwE.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>And these are the commands I used in the Terminal:</strong></p>\n<p><strong>1. Compiling Java files except Test files:</strong></p>\n<p><code>cd src; javac -target 17 -source 17 com/mycompany/helloworldapp/Activity1.java</code></p>\n<p><code>cd src; javac -target 17 -source 17 utils/TestUtils.java</code></p>\n<p><strong>2. Compiling Test files:</strong></p>\n<p><code>cd src; javac -target 17 -source 17 -sourcepath . -classpath libraries/JUnit-Standalone.jar:libraries/Mockito-Core.jar:libraries/Mockito-JUnit-Jupiter.jar test/Activity1Test.java</code></p>\n<p><strong>3. Running the test:</strong></p>\n<p><code>cd src; java -jar libraries/JUnit-Standalone.jar --classpath . --scan-classpath</code></p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"score":1,"creation_date":1413918052,"post_id":26494197,"comment_id":41621833,"body_markdown":"The problem is you are mutating the map in the same time that is getting an deleting. Put the system.out.println before the remove.","body":"The problem is you are mutating the map in the same time that is getting an deleting. Put the system.out.println before the remove."},{"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"v"},"score":0,"creation_date":1413918983,"post_id":26494197,"comment_id":41622313,"body_markdown":"possible duplicate of [ConcurrentModification Exception with Map and Hashtable](http://stackoverflow.com/questions/13453217/concurrentmodification-exception-with-map-and-hashtable)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/13453217/concurrentmodification-exception-with-map-and-hashtable\">ConcurrentModification Exception with Map and Hashtable</a>"}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1413918065,"creation_date":1413918065,"answer_id":26494281,"question_id":26494197,"body_markdown":"Your for-loop gets the map.entrySet and uses the iterator on it to work through the map entries (this version of the for-loop requires an Iterable, it gets the iterator from the Iterable). When you are using an iterator on a map, but remove things from the map without using that iterator, you get the ConcurrentModificationException. That is the map telling the iterator that it&#39;s out of date.\r\n\r\nYou can write a for loop using the iterator explicitly, like this:\r\n\r\n    for (Iterator&lt;Map.Entry&lt;String, Integer&gt; it = map.entrySet().iterator();\r\n    it.hasNext();) {\r\n\r\n and use the iterator&#39;s remove method when you need to delete an entry.\r\n\r\n","title":"java.util.ConcurrentModificationException when removing elements from a hashmap","body":"<p>Your for-loop gets the map.entrySet and uses the iterator on it to work through the map entries (this version of the for-loop requires an Iterable, it gets the iterator from the Iterable). When you are using an iterator on a map, but remove things from the map without using that iterator, you get the ConcurrentModificationException. That is the map telling the iterator that it's out of date.</p>\n\n<p>You can write a for loop using the iterator explicitly, like this:</p>\n\n<pre><code>for (Iterator&lt;Map.Entry&lt;String, Integer&gt; it = map.entrySet().iterator();\nit.hasNext();) {\n</code></pre>\n\n<p>and use the iterator's remove method when you need to delete an entry.</p>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1413918094,"creation_date":1413918094,"answer_id":26494288,"question_id":26494197,"body_markdown":"You are calling `remove` while you&#39;re iterating over the `Map`.  This line, the enhanced for loop, runs an `Iterator` implicitly:\r\n\r\n    for(Map.Entry&lt;String,Integer&gt; entry : map.entrySet() )\r\n\r\nWhen an `Iterator` detects that its collection is modified, it throws a `ConcurrentModificationException`.  However, you can call `remove()` on the `Iterator` itself without that exception being thrown.  Use an `Iterator` explicitly:\r\n\r\n    Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; itr = map.entrySet().iterator();\r\n    while(itr.hasNext())\r\n    {\r\n       Map.Entry&lt;String, Integer&gt; entry = itr.next();\r\n       if(entry.getValue().intValue() == 2)\r\n       {\r\n          System.out.println(&quot;Key : &quot;+entry.getKey()+&quot; Removed.&quot;);\r\n          itr.remove();  // Call Iterator&#39;s remove method.\r\n       }\r\n    }","title":"java.util.ConcurrentModificationException when removing elements from a hashmap","body":"<p>You are calling <code>remove</code> while you're iterating over the <code>Map</code>.  This line, the enhanced for loop, runs an <code>Iterator</code> implicitly:</p>\n\n<pre><code>for(Map.Entry&lt;String,Integer&gt; entry : map.entrySet() )\n</code></pre>\n\n<p>When an <code>Iterator</code> detects that its collection is modified, it throws a <code>ConcurrentModificationException</code>.  However, you can call <code>remove()</code> on the <code>Iterator</code> itself without that exception being thrown.  Use an <code>Iterator</code> explicitly:</p>\n\n<pre><code>Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; itr = map.entrySet().iterator();\nwhile(itr.hasNext())\n{\n   Map.Entry&lt;String, Integer&gt; entry = itr.next();\n   if(entry.getValue().intValue() == 2)\n   {\n      System.out.println(\"Key : \"+entry.getKey()+\" Removed.\");\n      itr.remove();  // Call Iterator's remove method.\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1514610,"reputation":1025,"user_id":1415929,"accept_rate":82,"display_name":"IdusOrtus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413919624,"creation_date":1413919624,"answer_id":26494702,"question_id":26494197,"body_markdown":"You cannot remove an element from a map which you are currently iterating over. You could define an iterator, or you could make a few simple modifications to your code within the block for case 3.\r\n\r\n    case 3:\r\n        System.out.print(&quot;Enter Value to remove : &quot;);\r\n        value = input.nextInt();\r\n        if(map.containsValue(new Integer(value)))\r\n        {\r\n            Map.Entry&lt;String,Integer&gt; foo = null;\r\n            for(Map.Entry&lt;String,Integer&gt; entry : map.entrySet() )\r\n                if(entry.getValue().intValue() == value)\r\n                    foo = entry;\r\n    \r\n            System.out.println(&quot;Key : &quot;+foo.getKey()+&quot; Removed.&quot;);\r\n            map.remove(foo.getKey());\r\n        }\r\n        break;","title":"java.util.ConcurrentModificationException when removing elements from a hashmap","body":"<p>You cannot remove an element from a map which you are currently iterating over. You could define an iterator, or you could make a few simple modifications to your code within the block for case 3.</p>\n\n<pre><code>case 3:\n    System.out.print(\"Enter Value to remove : \");\n    value = input.nextInt();\n    if(map.containsValue(new Integer(value)))\n    {\n        Map.Entry&lt;String,Integer&gt; foo = null;\n        for(Map.Entry&lt;String,Integer&gt; entry : map.entrySet() )\n            if(entry.getValue().intValue() == value)\n                foo = entry;\n\n        System.out.println(\"Key : \"+foo.getKey()+\" Removed.\");\n        map.remove(foo.getKey());\n    }\n    break;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6828915,"reputation":130,"user_id":5253714,"display_name":"Keshav bansal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440363158,"creation_date":1440363158,"answer_id":32171417,"question_id":26494197,"body_markdown":"Just Use Iterator class to remove the Iterating Element as\r\n\r\n    for (Iterator&lt;Map.Entry&lt;String, Integer&gt; it = map.entrySet().iterator();\r\n    while(it.hasNext()) {\r\n      Map.Entry&lt;String, Integer&gt; e= itr.next();\r\n      key = e.getKey();\r\n      Value = e.getValue();\r\n\r\n      //Your Other Code Here\r\n\r\n       it.remove();                    //It removes the current Itertaion from Map\r\n\r\n\r\n    }","title":"java.util.ConcurrentModificationException when removing elements from a hashmap","body":"<p>Just Use Iterator class to remove the Iterating Element as</p>\n\n<pre><code>for (Iterator&lt;Map.Entry&lt;String, Integer&gt; it = map.entrySet().iterator();\nwhile(it.hasNext()) {\n  Map.Entry&lt;String, Integer&gt; e= itr.next();\n  key = e.getKey();\n  Value = e.getValue();\n\n  //Your Other Code Here\n\n   it.remove();                    //It removes the current Itertaion from Map\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1919626,"reputation":587,"user_id":1731467,"accept_rate":50,"display_name":"SRF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638866765,"creation_date":1638866765,"answer_id":70257172,"question_id":26494197,"body_markdown":"It is possible to use removeIf of the `Collections` class.\r\n\r\n    map.keySet().removeIf(key -&gt; key.equals(&quot;someThing&quot;));","title":"java.util.ConcurrentModificationException when removing elements from a hashmap","body":"<p>It is possible to use removeIf of the <code>Collections</code> class.</p>\n<pre><code>map.keySet().removeIf(key -&gt; key.equals(&quot;someThing&quot;));\n</code></pre>\n"}],"owner":{"account_id":2975262,"reputation":3096,"user_id":2526437,"accept_rate":100,"display_name":"cyberpirate92"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30167,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":26494281,"answer_count":5,"score":9,"last_activity_date":1638866765,"creation_date":1413917778,"question_id":26494197,"body_markdown":"I am learning about `HashMap` class and wrote this simple program.\r\nthis code works good for adding elements to the hashmap and while removing elements from the hashmap , I am encountering `java.util.ConcurrentModificationException` \r\n for example here is a copy of my terminal,\r\n\r\n    [ravi@doom test]$ java TestHashMap \r\n    .....MENU.....\r\n    1. Add\r\n    2. remove key\r\n    3. remove value\r\n    4. display\r\n    7. Exit\r\n    Your choice :1\r\n    \r\n     Key : A\r\n    \r\n     Value : 1\r\n    Key/Value : (A,1) added to storage.\r\n    .....MENU.....\r\n    1. Add\r\n    2. remove key\r\n    3. remove value\r\n    4. display\r\n    7. Exit\r\n    Your choice :1\r\n    \r\n     Key : B\r\n    \r\n     Value : 2\r\n    Key/Value : (B,2) added to storage.\r\n    .....MENU.....\r\n    1. Add\r\n    2. remove key\r\n    3. remove value\r\n    4. display\r\n    7. Exit\r\n    Your choice :1\r\n    \r\n     Key : C\r\n    \r\n     Value : 3\r\n    Key/Value : (C,3) added to storage.\r\n    .....MENU.....\r\n    1. Add\r\n    2. remove key\r\n    3. remove value\r\n    4. display\r\n    7. Exit\r\n    Your choice :1\r\n    \r\n     Key : D\r\n    \r\n     Value : 4\r\n    Key/Value : (D,4) added to storage.\r\n    .....MENU.....\r\n    1. Add\r\n    2. remove key\r\n    3. remove value\r\n    4. display\r\n    7. Exit\r\n    Your choice :4\r\n    ( D , 4 );\r\n    ( A , 1 );\r\n    ( B , 2 );\r\n    ( C , 3 );\r\n    .....MENU.....\r\n    1. Add\r\n    2. remove key\r\n    3. remove value\r\n    4. display\r\n    7. Exit\r\n    Your choice :2\r\n    Key to REMOVE : \r\n    D\r\n    Pair (D,4) Removed.\r\n    .....MENU.....\r\n    1. Add\r\n    2. remove key\r\n    3. remove value\r\n    4. display\r\n    7. Exit\r\n    Your choice :4\r\n    ( A , 1 );\r\n    ( B , 2 );\r\n    ( C , 3 );\r\n    .....MENU.....\r\n    1. Add\r\n    2. remove key\r\n    3. remove value\r\n    4. display\r\n    7. Exit\r\n    Your choice :3\r\n    Enter Value to remove : 2\r\n    Key : B Removed.\r\n    Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n    \tat java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)\r\n    \tat java.util.HashMap$EntryIterator.next(HashMap.java:962)\r\n    \tat java.util.HashMap$EntryIterator.next(HashMap.java:960)\r\n    \tat TestHashMap.start(TestHashMap.java:60)\r\n    \tat TestHashMap.main(TestHashMap.java:87)\r\n    ABRT problem creation: &#39;success&#39;\r\n\r\n\r\n\r\n**code:**\r\n\r\n\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Scanner;\r\n    \r\n    class TestHashMap\r\n    {\r\n    \tprivate Map&lt;String,Integer&gt; map;\r\n    \tpublic TestHashMap()\r\n    \t{\r\n    \t\tmap = new HashMap&lt;String,Integer&gt;();\r\n    \t}\r\n    \tpublic void displayMenu()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;.....MENU.....&quot;);\r\n    \t\tSystem.out.println(&quot;1. Add&quot;);\r\n    \t\tSystem.out.println(&quot;2. remove key&quot;);\r\n    \t\tSystem.out.println(&quot;3. remove value&quot;);\r\n    \t\tSystem.out.println(&quot;4. display&quot;);\r\n    \t\tSystem.out.println(&quot;7. Exit&quot;);\r\n    \t\tSystem.out.print(&quot;Your choice :&quot;);\r\n    \t}\r\n    \tpublic void start()\r\n    \t{\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tint menuChoice,value;\r\n    \t\tString key;\r\n    \t\twhile(true)\r\n    \t\t{\r\n    \t\t\tdisplayMenu();\r\n    \t\t\tmenuChoice = input.nextInt();\r\n    \t\t\tswitch(menuChoice)\r\n    \t\t\t{\r\n    \t\t\t\tcase 1:\r\n    \t\t\t\t\tSystem.out.print(&quot;\\n Key : &quot;);\r\n    \t\t\t\t\tinput.nextLine();\r\n    \t\t\t\t\tkey = input.nextLine();\r\n    \t\t\t\t\tSystem.out.print(&quot;\\n Value : &quot;);\r\n    \t\t\t\t\tvalue = input.nextInt();\r\n    \t\t\t\t\tmap.put(key,new Integer(value));\r\n    \t\t\t\t\tSystem.out.println(&quot;Key/Value : (&quot;+key+&quot;,&quot;+value+&quot;) added to storage.&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t\tcase 2:\r\n    \t\t\t\t\tSystem.out.println(&quot;Key to REMOVE : &quot;);\r\n    \t\t\t\t\tinput.nextLine();\r\n    \t\t\t\t\tkey = input.nextLine();\r\n    \t\t\t\t\tInteger v = map.get(key);\r\n    \t\t\t\t\tif(v == null)\r\n    \t\t\t\t\t\tSystem.out.println(&quot;No value exists for key &quot;+key);\r\n    \t\t\t\t\telse\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tmap.remove(key);\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Pair (&quot;+key+&quot;,&quot;+v.intValue()+&quot;) Removed.&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 3:\r\n    \t\t\t\t\tSystem.out.print(&quot;Enter Value to remove : &quot;);\r\n    \t\t\t\t\tvalue = input.nextInt();\r\n    \t\t\t\t\tif(map.containsValue(new Integer(value)))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tfor(Map.Entry&lt;String,Integer&gt; entry : map.entrySet() )\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tif(entry.getValue().intValue() == value)\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\tSystem.out.println(&quot;Key : &quot;+entry.getKey()+&quot; Removed.&quot;);\r\n    \t\t\t\t\t\t\t\tmap.remove(entry.getKey());\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\t\tcase 4:\r\n    \t\t\t\t\tfor(Map.Entry&lt;String,Integer&gt; entry : map.entrySet() )\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tSystem.out.println(&quot;( &quot;+entry.getKey()+&quot; , &quot;+entry.getValue()+&quot; );&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\t\tcase 7:\r\n    \t\t\t\t\tinput.close();\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\tdefault:\r\n    \t\t\t\t\tSystem.out.println(&quot;Invalid Choice !&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tTestHashMap thm = new TestHashMap();\r\n    \t\tthm.start();\r\n    \t}\r\n    }\r\n\r\n\r\n**UPDATE**: working code\r\n\r\nthanks to both (*rgettman*,*Nathan Hughes*) of you.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Scanner;\r\n    import java.util.Iterator;\r\n    \r\n    class TestHashMap\r\n    {\r\n    \tprivate Map&lt;String,Integer&gt; map;\r\n    \tpublic TestHashMap()\r\n    \t{\r\n    \t\tmap = new HashMap&lt;String,Integer&gt;();\r\n    \t}\r\n    \tpublic void displayMenu()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;.....MENU.....&quot;);\r\n    \t\tSystem.out.println(&quot;1. Add&quot;);\r\n    \t\tSystem.out.println(&quot;2. remove key&quot;);\r\n    \t\tSystem.out.println(&quot;3. remove value&quot;);\r\n    \t\tSystem.out.println(&quot;4. display&quot;);\r\n    \t\tSystem.out.println(&quot;7. Exit&quot;);\r\n    \t\tSystem.out.print(&quot;Your choice :&quot;);\r\n    \t}\r\n    \tpublic void start()\r\n    \t{\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tint menuChoice,value;\r\n    \t\tString key;\r\n    \t\twhile(true)\r\n    \t\t{\r\n    \t\t\tdisplayMenu();\r\n    \t\t\tmenuChoice = input.nextInt();\r\n    \t\t\tswitch(menuChoice)\r\n    \t\t\t{\r\n    \t\t\t\tcase 1:\r\n    \t\t\t\t\tSystem.out.print(&quot;\\n Key : &quot;);\r\n    \t\t\t\t\tinput.nextLine();\r\n    \t\t\t\t\tkey = input.nextLine();\r\n    \t\t\t\t\tSystem.out.print(&quot;\\n Value : &quot;);\r\n    \t\t\t\t\tvalue = input.nextInt();\r\n    \t\t\t\t\tmap.put(key,new Integer(value));\r\n    \t\t\t\t\tSystem.out.println(&quot;Key/Value : (&quot;+key+&quot;,&quot;+value+&quot;) added to storage.&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t\tcase 2:\r\n    \t\t\t\t\tSystem.out.println(&quot;Key to REMOVE : &quot;);\r\n    \t\t\t\t\tinput.nextLine();\r\n    \t\t\t\t\tkey = input.nextLine();\r\n    \t\t\t\t\tInteger v = map.get(key);\r\n    \t\t\t\t\tif(v == null)\r\n    \t\t\t\t\t\tSystem.out.println(&quot;No value exists for key &quot;+key);\r\n    \t\t\t\t\telse\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tmap.remove(key);\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Pair (&quot;+key+&quot;,&quot;+v.intValue()+&quot;) Removed.&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 3:\r\n    \t\t\t\t\tSystem.out.print(&quot;Enter Value to remove : &quot;);\r\n    \t\t\t\t\tvalue = input.nextInt();\r\n    \t\t\t\t\tif(map.containsValue(new Integer(value)))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tfor (Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; it = map.entrySet().iterator();it.hasNext();) \r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tMap.Entry&lt;String,Integer&gt; x = it.next();\r\n    \t\t\t\t\t\t\tif(x.getValue().intValue() == value)\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\tkey = x.getKey();\r\n    \t\t\t\t\t\t\t\tit.remove();\r\n    \t\t\t\t\t\t\t\tSystem.out.println(&quot;Key : &quot;+key+&quot; Removed.&quot;);\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\t\tcase 4:\r\n    \t\t\t\t\tfor(Map.Entry&lt;String,Integer&gt; entry : map.entrySet() )\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tSystem.out.println(&quot;( &quot;+entry.getKey()+&quot; , &quot;+entry.getValue()+&quot; );&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\t\tcase 7:\r\n    \t\t\t\t\tinput.close();\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\tdefault:\r\n    \t\t\t\t\tSystem.out.println(&quot;Invalid Choice !&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tTestHashMap thm = new TestHashMap();\r\n    \t\tthm.start();\r\n    \t}\r\n    }","title":"java.util.ConcurrentModificationException when removing elements from a hashmap","body":"<p>I am learning about <code>HashMap</code> class and wrote this simple program.\nthis code works good for adding elements to the hashmap and while removing elements from the hashmap , I am encountering <code>java.util.ConcurrentModificationException</code> \n for example here is a copy of my terminal,</p>\n\n<pre><code>[ravi@doom test]$ java TestHashMap \n.....MENU.....\n1. Add\n2. remove key\n3. remove value\n4. display\n7. Exit\nYour choice :1\n\n Key : A\n\n Value : 1\nKey/Value : (A,1) added to storage.\n.....MENU.....\n1. Add\n2. remove key\n3. remove value\n4. display\n7. Exit\nYour choice :1\n\n Key : B\n\n Value : 2\nKey/Value : (B,2) added to storage.\n.....MENU.....\n1. Add\n2. remove key\n3. remove value\n4. display\n7. Exit\nYour choice :1\n\n Key : C\n\n Value : 3\nKey/Value : (C,3) added to storage.\n.....MENU.....\n1. Add\n2. remove key\n3. remove value\n4. display\n7. Exit\nYour choice :1\n\n Key : D\n\n Value : 4\nKey/Value : (D,4) added to storage.\n.....MENU.....\n1. Add\n2. remove key\n3. remove value\n4. display\n7. Exit\nYour choice :4\n( D , 4 );\n( A , 1 );\n( B , 2 );\n( C , 3 );\n.....MENU.....\n1. Add\n2. remove key\n3. remove value\n4. display\n7. Exit\nYour choice :2\nKey to REMOVE : \nD\nPair (D,4) Removed.\n.....MENU.....\n1. Add\n2. remove key\n3. remove value\n4. display\n7. Exit\nYour choice :4\n( A , 1 );\n( B , 2 );\n( C , 3 );\n.....MENU.....\n1. Add\n2. remove key\n3. remove value\n4. display\n7. Exit\nYour choice :3\nEnter Value to remove : 2\nKey : B Removed.\nException in thread \"main\" java.util.ConcurrentModificationException\n    at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)\n    at java.util.HashMap$EntryIterator.next(HashMap.java:962)\n    at java.util.HashMap$EntryIterator.next(HashMap.java:960)\n    at TestHashMap.start(TestHashMap.java:60)\n    at TestHashMap.main(TestHashMap.java:87)\nABRT problem creation: 'success'\n</code></pre>\n\n<p><strong>code:</strong></p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\n\nclass TestHashMap\n{\n    private Map&lt;String,Integer&gt; map;\n    public TestHashMap()\n    {\n        map = new HashMap&lt;String,Integer&gt;();\n    }\n    public void displayMenu()\n    {\n        System.out.println(\".....MENU.....\");\n        System.out.println(\"1. Add\");\n        System.out.println(\"2. remove key\");\n        System.out.println(\"3. remove value\");\n        System.out.println(\"4. display\");\n        System.out.println(\"7. Exit\");\n        System.out.print(\"Your choice :\");\n    }\n    public void start()\n    {\n        Scanner input = new Scanner(System.in);\n        int menuChoice,value;\n        String key;\n        while(true)\n        {\n            displayMenu();\n            menuChoice = input.nextInt();\n            switch(menuChoice)\n            {\n                case 1:\n                    System.out.print(\"\\n Key : \");\n                    input.nextLine();\n                    key = input.nextLine();\n                    System.out.print(\"\\n Value : \");\n                    value = input.nextInt();\n                    map.put(key,new Integer(value));\n                    System.out.println(\"Key/Value : (\"+key+\",\"+value+\") added to storage.\");\n                break;\n                case 2:\n                    System.out.println(\"Key to REMOVE : \");\n                    input.nextLine();\n                    key = input.nextLine();\n                    Integer v = map.get(key);\n                    if(v == null)\n                        System.out.println(\"No value exists for key \"+key);\n                    else\n                    {\n                        map.remove(key);\n                        System.out.println(\"Pair (\"+key+\",\"+v.intValue()+\") Removed.\");\n                    }\n                    break;\n                case 3:\n                    System.out.print(\"Enter Value to remove : \");\n                    value = input.nextInt();\n                    if(map.containsValue(new Integer(value)))\n                    {\n                        for(Map.Entry&lt;String,Integer&gt; entry : map.entrySet() )\n                        {\n                            if(entry.getValue().intValue() == value)\n                            {\n                                System.out.println(\"Key : \"+entry.getKey()+\" Removed.\");\n                                map.remove(entry.getKey());\n                            }\n                        }\n                    }\n                break;\n                case 4:\n                    for(Map.Entry&lt;String,Integer&gt; entry : map.entrySet() )\n                    {\n                        System.out.println(\"( \"+entry.getKey()+\" , \"+entry.getValue()+\" );\");\n                    }\n                break;\n                case 7:\n                    input.close();\n                    System.exit(0);\n                default:\n                    System.out.println(\"Invalid Choice !\");\n            }\n        }\n    }\n    public static void main(String args[])\n    {\n        TestHashMap thm = new TestHashMap();\n        thm.start();\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong>: working code</p>\n\n<p>thanks to both (<em>rgettman</em>,<em>Nathan Hughes</em>) of you.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\nimport java.util.Iterator;\n\nclass TestHashMap\n{\n    private Map&lt;String,Integer&gt; map;\n    public TestHashMap()\n    {\n        map = new HashMap&lt;String,Integer&gt;();\n    }\n    public void displayMenu()\n    {\n        System.out.println(\".....MENU.....\");\n        System.out.println(\"1. Add\");\n        System.out.println(\"2. remove key\");\n        System.out.println(\"3. remove value\");\n        System.out.println(\"4. display\");\n        System.out.println(\"7. Exit\");\n        System.out.print(\"Your choice :\");\n    }\n    public void start()\n    {\n        Scanner input = new Scanner(System.in);\n        int menuChoice,value;\n        String key;\n        while(true)\n        {\n            displayMenu();\n            menuChoice = input.nextInt();\n            switch(menuChoice)\n            {\n                case 1:\n                    System.out.print(\"\\n Key : \");\n                    input.nextLine();\n                    key = input.nextLine();\n                    System.out.print(\"\\n Value : \");\n                    value = input.nextInt();\n                    map.put(key,new Integer(value));\n                    System.out.println(\"Key/Value : (\"+key+\",\"+value+\") added to storage.\");\n                break;\n                case 2:\n                    System.out.println(\"Key to REMOVE : \");\n                    input.nextLine();\n                    key = input.nextLine();\n                    Integer v = map.get(key);\n                    if(v == null)\n                        System.out.println(\"No value exists for key \"+key);\n                    else\n                    {\n                        map.remove(key);\n                        System.out.println(\"Pair (\"+key+\",\"+v.intValue()+\") Removed.\");\n                    }\n                    break;\n                case 3:\n                    System.out.print(\"Enter Value to remove : \");\n                    value = input.nextInt();\n                    if(map.containsValue(new Integer(value)))\n                    {\n                        for (Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; it = map.entrySet().iterator();it.hasNext();) \n                        {\n                            Map.Entry&lt;String,Integer&gt; x = it.next();\n                            if(x.getValue().intValue() == value)\n                            {\n                                key = x.getKey();\n                                it.remove();\n                                System.out.println(\"Key : \"+key+\" Removed.\");\n                            }\n                        }\n                    }\n                break;\n                case 4:\n                    for(Map.Entry&lt;String,Integer&gt; entry : map.entrySet() )\n                    {\n                        System.out.println(\"( \"+entry.getKey()+\" , \"+entry.getValue()+\" );\");\n                    }\n                break;\n                case 7:\n                    input.close();\n                    System.exit(0);\n                default:\n                    System.out.println(\"Invalid Choice !\");\n            }\n        }\n    }\n    public static void main(String args[])\n    {\n        TestHashMap thm = new TestHashMap();\n        thm.start();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","cassandra"],"answers":[{"tags":[],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638866442,"creation_date":1638866442,"answer_id":70257116,"question_id":70256496,"body_markdown":"The error you&#39;re getting makes sense, `CassandraConfig` is not an autoconfiguration but a configuration class.\r\n\r\nTo exclude it you could use a Spring profile:\r\n\r\n```\r\n@Configuration\r\n@Profile(&quot;!test&quot;)\r\npublic class CassandraConfig {\r\n```\r\n\r\nThen in your test class:\r\n\r\n```\r\n@SpringBootTest(properties = &quot;spring.profiles.active=test&quot;)\r\nclass ApplicationTest {\r\n```\r\n","title":"Exclude config classes from spring context","body":"<p>The error you're getting makes sense, <code>CassandraConfig</code> is not an autoconfiguration but a configuration class.</p>\n<p>To exclude it you could use a Spring profile:</p>\n<pre><code>@Configuration\n@Profile(&quot;!test&quot;)\npublic class CassandraConfig {\n</code></pre>\n<p>Then in your test class:</p>\n<pre><code>@SpringBootTest(properties = &quot;spring.profiles.active=test&quot;)\nclass ApplicationTest {\n</code></pre>\n"}],"owner":{"account_id":15521882,"reputation":372,"user_id":11564329,"display_name":"Alexey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638866442,"creation_date":1638863001,"question_id":70256496,"body_markdown":"I have a class that configures Cassandra database:\r\n```\r\n@Configuration\r\n@EnableCassandraRepositories(basePackages = { BASE_PACKAGE })\r\npublic class CassandraConfig {\r\n\r\n    @Value(&quot;${spring.data.cassandra.contact-points}&quot;)\r\n    private String contactPoints;\r\n    @Value(&quot;${spring.data.cassandra.keyspace-name}&quot;)\r\n    private String keyspaceName;\r\n    @Value(&quot;${spring.data.cassandra.datacenter-name}&quot;)\r\n    private String datacenterName;\r\n    @Value(&quot;${spring.data.cassandra.port}&quot;)\r\n    private int port;\r\n\r\n    @Bean\r\n    public CqlSessionFactoryBean session() {\r\n        CqlSessionFactoryBean session = new CqlSessionFactoryBean();\r\n        session.setContactPoints(contactPoints);\r\n        session.setKeyspaceName(keyspaceName);\r\n        session.setLocalDatacenter(datacenterName);\r\n        session.setPort(port);\r\n        return session;\r\n    }\r\n...\r\n\r\n}\r\n\r\n```\r\n\r\nAnd I have an empty test that just loads spring context\r\n```\r\n@SpringBootTest\r\nclass ApplicationTest {\r\n\r\n    @Test\r\n    void contextLoads() {\r\n    }\r\n\r\n}\r\n```\r\nWhen I run it, I see this exception message:\r\n```\r\nFailed to load ApplicationContext\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n...\r\n\r\nCaused by: com.datastax.oss.driver.api.core.AllNodesFailedException: Could not reach any contact point, make sure you&#39;ve provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=127.0.0.1/&lt;unresolved&gt;:9042, hostId=null, hashCode=29caef8c): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\r\n\tat app//com.datastax.oss.driver.api.core.AllNodesFailedException.copy(AllNodesFailedException.java:141)\r\n\tat app//com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149)\r\n\tat app//com.datastax.oss.driver.api.core.session.SessionBuilder.build(SessionBuilder.java:835)\r\n\tat app//org.springframework.data.cassandra.config.CqlSessionFactoryBean.buildSystemSession(CqlSessionFactoryBean.java:498)\r\n\tat app//org.springframework.data.cassandra.config.CqlSessionFactoryBean.afterPropertiesSet(CqlSessionFactoryBean.java:451)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n\t... 166 more\r\n\tSuppressed: com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)\r\n\t\tat app//com.datastax.oss.driver.internal.core.channel.ProtocolInitHandler$InitRequest.fail(ProtocolInitHandler.java:356)\r\n\t\tat app//com.datastax.oss.driver.internal.core.channel.ChannelHandlerRequest.writeListener(ChannelHandlerRequest.java:87)\r\n\t\tat app//io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\r\n\t\tat app//io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)\r\n\t\tat app//io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\r\n\t\tat app//io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:184)\r\n\t\tat app//io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)\r\n\t\tat app//io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)\r\n\t\tat app//com.datastax.oss.driver.internal.core.channel.ChannelHandlerRequest.send(ChannelHandlerRequest.java:76)\r\n\t\tat app//com.datastax.oss.driver.internal.core.channel.ProtocolInitHandler$InitRequest.send(ProtocolInitHandler.java:193)\r\n\t\tat app//com.datastax.oss.driver.internal.core.channel.ProtocolInitHandler.onRealConnect(ProtocolInitHandler.java:124)\r\n\t\tat app//com.datastax.oss.driver.internal.core.channel.ConnectInitHandler.lambda$connect$0(ConnectInitHandler.java:57)\r\n\t\tat app//io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\r\n\t\tat app//io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)\r\n\t\tat app//io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)\r\n\t\tat app//io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\r\n\t\tat app//io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\r\n\t\tat app//io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)\r\n\t\tat app//io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\r\n\t\tat app//io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\r\n\t\tat app//io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\r\n\t\tat app//io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\r\n\t\tat app//io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n\t\tat app//io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n\t\tat app//io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\t\tat app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n\t\tat app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.base@17.0.1/java.lang.Thread.run(Thread.java:833)\r\n\t\tSuppressed: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /127.0.0.1:9042\r\n\t\tCaused by: java.net.ConnectException: Connection refused\r\n\t\t\tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n\t\t\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\r\n\t\t\tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)\r\n\t\t\tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\r\n\t\t\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\r\n\t\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\r\n\t\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n\t\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n\t\t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\t\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n\t\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tCaused by: io.netty.channel.StacklessClosedChannelException\r\n\t\tat io.netty.channel.AbstractChannel$AbstractUnsafe.flush0()(Unknown Source)\r\n```\r\nAs I understand, it tries to connect to the database but it cannot, thus, it fails. \r\nI tried different ways to exclude this class from context loading like `@EnableAutoConfiguration(exclude = CassandraConfig.class)` but then it fails with\r\n```\r\njava.lang.IllegalStateException: The following classes could not be excluded because they are not auto-configuration classes: com.myproject.test.config.CassandraConfig\r\n```\r\nIs there some advices or best practices how to solve this problem?","title":"Exclude config classes from spring context","body":"<p>I have a class that configures Cassandra database:</p>\n<pre><code>@Configuration\n@EnableCassandraRepositories(basePackages = { BASE_PACKAGE })\npublic class CassandraConfig {\n\n    @Value(&quot;${spring.data.cassandra.contact-points}&quot;)\n    private String contactPoints;\n    @Value(&quot;${spring.data.cassandra.keyspace-name}&quot;)\n    private String keyspaceName;\n    @Value(&quot;${spring.data.cassandra.datacenter-name}&quot;)\n    private String datacenterName;\n    @Value(&quot;${spring.data.cassandra.port}&quot;)\n    private int port;\n\n    @Bean\n    public CqlSessionFactoryBean session() {\n        CqlSessionFactoryBean session = new CqlSessionFactoryBean();\n        session.setContactPoints(contactPoints);\n        session.setKeyspaceName(keyspaceName);\n        session.setLocalDatacenter(datacenterName);\n        session.setPort(port);\n        return session;\n    }\n...\n\n}\n\n</code></pre>\n<p>And I have an empty test that just loads spring context</p>\n<pre><code>@SpringBootTest\nclass ApplicationTest {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n<p>When I run it, I see this exception message:</p>\n<pre><code>Failed to load ApplicationContext\njava.lang.IllegalStateException: Failed to load ApplicationContext\n\n...\n\nCaused by: com.datastax.oss.driver.api.core.AllNodesFailedException: Could not reach any contact point, make sure you've provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=127.0.0.1/&lt;unresolved&gt;:9042, hostId=null, hashCode=29caef8c): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\n    at app//com.datastax.oss.driver.api.core.AllNodesFailedException.copy(AllNodesFailedException.java:141)\n    at app//com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149)\n    at app//com.datastax.oss.driver.api.core.session.SessionBuilder.build(SessionBuilder.java:835)\n    at app//org.springframework.data.cassandra.config.CqlSessionFactoryBean.buildSystemSession(CqlSessionFactoryBean.java:498)\n    at app//org.springframework.data.cassandra.config.CqlSessionFactoryBean.afterPropertiesSet(CqlSessionFactoryBean.java:451)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    ... 166 more\n    Suppressed: com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)\n        at app//com.datastax.oss.driver.internal.core.channel.ProtocolInitHandler$InitRequest.fail(ProtocolInitHandler.java:356)\n        at app//com.datastax.oss.driver.internal.core.channel.ChannelHandlerRequest.writeListener(ChannelHandlerRequest.java:87)\n        at app//io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\n        at app//io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)\n        at app//io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\n        at app//io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:184)\n        at app//io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)\n        at app//io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)\n        at app//com.datastax.oss.driver.internal.core.channel.ChannelHandlerRequest.send(ChannelHandlerRequest.java:76)\n        at app//com.datastax.oss.driver.internal.core.channel.ProtocolInitHandler$InitRequest.send(ProtocolInitHandler.java:193)\n        at app//com.datastax.oss.driver.internal.core.channel.ProtocolInitHandler.onRealConnect(ProtocolInitHandler.java:124)\n        at app//com.datastax.oss.driver.internal.core.channel.ConnectInitHandler.lambda$connect$0(ConnectInitHandler.java:57)\n        at app//io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\n        at app//io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)\n        at app//io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)\n        at app//io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\n        at app//io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\n        at app//io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)\n        at app//io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\n        at app//io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\n        at app//io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\n        at app//io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\n        at app//io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n        at app//io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n        at app//io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n        at app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n        at app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base@17.0.1/java.lang.Thread.run(Thread.java:833)\n        Suppressed: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /127.0.0.1:9042\n        Caused by: java.net.ConnectException: Connection refused\n            at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n            at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\n            at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)\n            at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\n            at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\n            at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\n            at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n            at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n            at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n            at java.base/java.lang.Thread.run(Thread.java:833)\n    Caused by: io.netty.channel.StacklessClosedChannelException\n        at io.netty.channel.AbstractChannel$AbstractUnsafe.flush0()(Unknown Source)\n</code></pre>\n<p>As I understand, it tries to connect to the database but it cannot, thus, it fails.\nI tried different ways to exclude this class from context loading like <code>@EnableAutoConfiguration(exclude = CassandraConfig.class)</code> but then it fails with</p>\n<pre><code>java.lang.IllegalStateException: The following classes could not be excluded because they are not auto-configuration classes: com.myproject.test.config.CassandraConfig\n</code></pre>\n<p>Is there some advices or best practices how to solve this problem?</p>\n"},{"tags":["java","spring-boot","dependencies","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638866255,"creation_date":1638866255,"answer_id":70257078,"question_id":69367432,"body_markdown":"There is no generic answer to build a solution you are asking for, because a spring boot application might be packaged in different ways for runtime.\r\nFor example it might be an executable jar like it is described [here][1] or it might be an OCI image packaged by [Spring Boot Maven Plugin][2].\r\n\r\nDepending on the format, there are alternative ways to retrieve classpath library versions like `classpath.idx` from executable jar or `jib-classpath-file` from [jib-plugin][3] created images.\r\n\r\nBut if you have a stable environment and if you know, where you can get the information from, then you should start writing a spring bean with `org.springframework.boot.actuate.endpoint.annotation.Endpoint` annotation, which exposes the information parsed from those files. \r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/2.5.6/maven-plugin/reference/htmlsingle/\r\n  [3]: https://github.com/GoogleContainerTools/jib","title":"Spring boot application - how to show the dependency JAR version used in actuator info endpoint","body":"<p>There is no generic answer to build a solution you are asking for, because a spring boot application might be packaged in different ways for runtime.\nFor example it might be an executable jar like it is described <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\" rel=\"nofollow noreferrer\">here</a> or it might be an OCI image packaged by <a href=\"https://docs.spring.io/spring-boot/docs/2.5.6/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\">Spring Boot Maven Plugin</a>.</p>\n<p>Depending on the format, there are alternative ways to retrieve classpath library versions like <code>classpath.idx</code> from executable jar or <code>jib-classpath-file</code> from <a href=\"https://github.com/GoogleContainerTools/jib\" rel=\"nofollow noreferrer\">jib-plugin</a> created images.</p>\n<p>But if you have a stable environment and if you know, where you can get the information from, then you should start writing a spring bean with <code>org.springframework.boot.actuate.endpoint.annotation.Endpoint</code> annotation, which exposes the information parsed from those files.</p>\n"}],"owner":{"account_id":3094771,"reputation":975,"user_id":2620252,"accept_rate":75,"display_name":"PankajSays"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638866255,"creation_date":1632856952,"question_id":69367432,"body_markdown":"I have a spring boot project that uses a few simple java lib jar files as dependency. Few of these jar files are updated frequently.\r\n\r\nI want to add the dependency jar version information to the actuator info endpoint so that at any point, I can see what version of library given build of the project using. \r\n\r\nCan anyone provide some guidance on this?","title":"Spring boot application - how to show the dependency JAR version used in actuator info endpoint","body":"<p>I have a spring boot project that uses a few simple java lib jar files as dependency. Few of these jar files are updated frequently.</p>\n<p>I want to add the dependency jar version information to the actuator info endpoint so that at any point, I can see what version of library given build of the project using.</p>\n<p>Can anyone provide some guidance on this?</p>\n"},{"tags":["java","apache-kafka","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1622206834,"post_id":67738277,"comment_id":119732867,"body_markdown":"Can you please share your producer code?","body":"Can you please share your producer code?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622206905,"creation_date":1622206905,"answer_id":67739338,"question_id":67738277,"body_markdown":"If you only called send method with one (or few) message, then that&#39;s not going to be immediately sent to the broker, you&#39;ll need to flush the producer to do that. Ideally, by adding a shutdown hook to the JVM\r\n\r\nSchemas only need to be registered when records get sent and serialized ","title":"Should auto.register.schemas create a new version in schema-registry on modifying .avsc?","body":"<p>If you only called send method with one (or few) message, then that's not going to be immediately sent to the broker, you'll need to flush the producer to do that. Ideally, by adding a shutdown hook to the JVM</p>\n<p>Schemas only need to be registered when records get sent and serialized</p>\n"}],"owner":{"account_id":16393715,"reputation":496,"user_id":12014002,"display_name":"idetyp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638866243,"creation_date":1622202582,"question_id":67738277,"body_markdown":"I&#39;ve noticed a strange thing trying to follow a tutorial on Kafka schema-registry and a simple producer. It doesn&#39;t auto-generate new schema in schema-registry if I change the `.avsc` file. Steps I did:\r\n\r\n1. Spin up a local schema-registry, Kafka and Zookeeper\r\n2. Create `.avsc` file with 2 string fields\r\n3. Create Java producer using `KafkaProducer` - I&#39;m using avro-maven-plugin to generate a Java class out of the `.avsc` file.\r\n4. Compile and run the producer - new Java class is generated and records are produced. Also, in the schema-registry a new entry appears.\r\n5. Modify `.avsc` file - add a new field there\r\n6. Compile - new Java class is generated with the new field. I add this field to the producer code.\r\n7. **Run the producer** - no records are produced, no new version of the schema gets created in the schema registry but also I get no exception.\r\n\r\nIn the last step I expected the `auto.register.schemas` to create a new schema version, but it didn&#39;t. After I created it manually with curl in schema-registry, the records started to be produced correctly again.\r\n\r\nI&#39;m concerned that there was no Exception which made it hard to understand why the records are not produced.","title":"Should auto.register.schemas create a new version in schema-registry on modifying .avsc?","body":"<p>I've noticed a strange thing trying to follow a tutorial on Kafka schema-registry and a simple producer. It doesn't auto-generate new schema in schema-registry if I change the <code>.avsc</code> file. Steps I did:</p>\n<ol>\n<li>Spin up a local schema-registry, Kafka and Zookeeper</li>\n<li>Create <code>.avsc</code> file with 2 string fields</li>\n<li>Create Java producer using <code>KafkaProducer</code> - I'm using avro-maven-plugin to generate a Java class out of the <code>.avsc</code> file.</li>\n<li>Compile and run the producer - new Java class is generated and records are produced. Also, in the schema-registry a new entry appears.</li>\n<li>Modify <code>.avsc</code> file - add a new field there</li>\n<li>Compile - new Java class is generated with the new field. I add this field to the producer code.</li>\n<li><strong>Run the producer</strong> - no records are produced, no new version of the schema gets created in the schema registry but also I get no exception.</li>\n</ol>\n<p>In the last step I expected the <code>auto.register.schemas</code> to create a new schema version, but it didn't. After I created it manually with curl in schema-registry, the records started to be produced correctly again.</p>\n<p>I'm concerned that there was no Exception which made it hard to understand why the records are not produced.</p>\n"},{"tags":["java","spring","spring-boot","aerospike","aerospike-ce"],"answers":[{"tags":[],"owner":{"account_id":23571640,"reputation":51,"user_id":17611711,"display_name":"dc-coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638866120,"creation_date":1638866120,"answer_id":70257055,"question_id":70256714,"body_markdown":"Leaving the answer for anyone who runs into the same issue.\r\n\r\nHere is what I did to resolve the issue.\r\n\r\nReferenced the code in `org.springframework.data.aerospike.config.AerospikeDataSettings` and overrode the bean in my applications Aerospike config class\r\n\r\n      *@Bean\r\n      public AerospikeDataSettings aerospikeDataSettings() {\r\n        return AerospikeDataSettings.builder().scansEnabled(true).sendKey(true).build();\r\n      }*\r\n\r\n","title":"How to enable &quot;scansEnabled&quot; property of org.springframework.data.aerospike.config.AerospikeDataSettings?","body":"<p>Leaving the answer for anyone who runs into the same issue.</p>\n<p>Here is what I did to resolve the issue.</p>\n<p>Referenced the code in <code>org.springframework.data.aerospike.config.AerospikeDataSettings</code> and overrode the bean in my applications Aerospike config class</p>\n<pre><code>  *@Bean\n  public AerospikeDataSettings aerospikeDataSettings() {\n    return AerospikeDataSettings.builder().scansEnabled(true).sendKey(true).build();\n  }*\n</code></pre>\n"}],"owner":{"account_id":23571640,"reputation":51,"user_id":17611711,"display_name":"dc-coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1638866120,"creation_date":1638864262,"question_id":70256714,"body_markdown":"I am using spring-data-aerospike dependency within my spring boot app to interact with Aerospike db. I ran into the follow error while using findAll() method of AerospikeRepository (which is synonymous to the findAll() method provided by CrudRepository).\r\n\r\n*java.lang.IllegalStateException: Query without a filter will initiate a scan. Since scans are potentially dangerous operations, they are disabled by default in spring-data-aerospike. If you still need to use them, enable them via `scansEnabled` property in `org.springframework.data.aerospike.config.AerospikeDataSettings`.*  \r\n\r\nAny leads or pointers is greatly appreciated.\r\n\r\n","title":"How to enable &quot;scansEnabled&quot; property of org.springframework.data.aerospike.config.AerospikeDataSettings?","body":"<p>I am using spring-data-aerospike dependency within my spring boot app to interact with Aerospike db. I ran into the follow error while using findAll() method of AerospikeRepository (which is synonymous to the findAll() method provided by CrudRepository).</p>\n<p><em>java.lang.IllegalStateException: Query without a filter will initiate a scan. Since scans are potentially dangerous operations, they are disabled by default in spring-data-aerospike. If you still need to use them, enable them via <code>scansEnabled</code> property in <code>org.springframework.data.aerospike.config.AerospikeDataSettings</code>.</em></p>\n<p>Any leads or pointers is greatly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638865269,"post_id":70256864,"comment_id":124194827,"body_markdown":"SetButton extends JButton. so you are adding one single JButton. One that doesn&#39;t make sense, but still.","body":"SetButton extends JButton. so you are adding one single JButton. One that doesn&#39;t make sense, but still."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1638865916,"post_id":70256864,"comment_id":124195051,"body_markdown":"Btw, having a button array like this doesn&#39;t make sense as well. The buttons seem to have special and distinct meanings so accessing them as `exitBtn`, `newGameBtn` etc. makes more sense than `buttonArray[0]` etc. If you want to provide common settings to those buttons try a method that constructs one and returns it, e.g. `exitButton = createButton(&quot;Exit&quot;, theExistActionListener);`. This leads to the next issue: don&#39;t use a single action listener for all of them but use separate listeners as the actions will likely be quite distinct (right now all buttons would have &quot;exit actions).","body":"Btw, having a button array like this doesn&#39;t make sense as well. The buttons seem to have special and distinct meanings so accessing them as <code>exitBtn</code>, <code>newGameBtn</code> etc. makes more sense than <code>buttonArray[0]</code> etc. If you want to provide common settings to those buttons try a method that constructs one and returns it, e.g. <code>exitButton = createButton(&quot;Exit&quot;, theExistActionListener);</code>. This leads to the next issue: don&#39;t use a single action listener for all of them but use separate listeners as the actions will likely be quite distinct (right now all buttons would have &quot;exit actions)."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1638865970,"post_id":70256864,"comment_id":124195064,"body_markdown":"One last thing: `this.buttonArray[3].setLayout(new FlowLayout())` doesn&#39;t make sense either as buttons normally don&#39;t have any child components to layout.","body":"One last thing: <code>this.buttonArray[3].setLayout(new FlowLayout())</code> doesn&#39;t make sense either as buttons normally don&#39;t have any child components to layout."},{"owner":{"account_id":5042581,"reputation":11,"user_id":4049491,"display_name":"Daniel A. Morales"},"score":0,"creation_date":1639013845,"post_id":70256864,"comment_id":124242724,"body_markdown":"Thanks. I am new to GUI development in Java. I am trying to make sense of it now. Do you have any reading recommendations?","body":"Thanks. I am new to GUI development in Java. I am trying to make sense of it now. Do you have any reading recommendations?"}],"owner":{"account_id":5042581,"reputation":11,"user_id":4049491,"display_name":"Daniel A. Morales"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638866061,"creation_date":1638865064,"question_id":70256864,"body_markdown":"I am not sure what I am doing wrong. I am trying to create 4 buttons using the arrays and passing the method to the Set Panel class. When I run it I only get one button. Any help would be great. Essentially what I want is a Panel with four buttons, through the use of Methods.\r\n\r\n  \r\n\r\n    public class SetButtons extends JButton implements ActionListener {\r\n    \r\n        JButton [] buttonArray = new JButton[4];\r\n        JButton exitBtn, newGameBtn, checkBtn, clearBtn;\r\n        Font myFont = new Font(&quot;ink free&quot;, Font.BOLD,22);\r\n    \r\n        public SetButtons(){\r\n    \r\n    \r\n           \r\n            this.exitBtn = new JButton(&quot;Exit&quot;);\r\n            this.newGameBtn = new JButton(&quot;New Game&quot;);\r\n            this.checkBtn = new JButton(&quot;Check Answer&quot;);\r\n            this.clearBtn = new JButton(&quot;Clear&quot;);\r\n    \r\n            this.buttonArray[0] = exitBtn;\r\n            this.buttonArray[1] = newGameBtn;\r\n            this.buttonArray[2] = checkBtn;\r\n            this.buttonArray[3] = clearBtn;\r\n    \r\n           \r\n    \r\n            for (int i = 0; i &lt; 4; i++){\r\n                this.buttonArray[i].addActionListener(this);\r\n                this.buttonArray[i].setFont(myFont);\r\n                this.buttonArray[i].setFocusable(false);\r\n                this.buttonArray[i].setLayout(new FlowLayout());\r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            if(e.getSource() == this){\r\n                System.exit(0);\r\n            }\r\n    \r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class SetPanel extends JPanel {\r\n       \r\n        Font myFont = new Font(&quot;ink free&quot;, Font.BOLD,22);\r\n        SetLabels labels;\r\n        SetButtons exitButton;\r\n    \r\n        \r\n        SetPanel(){\r\n            SetButtons btn = new SetButtons();\r\n            this.add(btn);\r\n            this.setBackground(Color.darkGray);\r\n            this.setLayout(new FlowLayout());\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n        \r\n        \r\n        ","title":"Use of JButton array Java","body":"<p>I am not sure what I am doing wrong. I am trying to create 4 buttons using the arrays and passing the method to the Set Panel class. When I run it I only get one button. Any help would be great. Essentially what I want is a Panel with four buttons, through the use of Methods.</p>\n<pre><code>public class SetButtons extends JButton implements ActionListener {\n\n    JButton [] buttonArray = new JButton[4];\n    JButton exitBtn, newGameBtn, checkBtn, clearBtn;\n    Font myFont = new Font(&quot;ink free&quot;, Font.BOLD,22);\n\n    public SetButtons(){\n\n\n       \n        this.exitBtn = new JButton(&quot;Exit&quot;);\n        this.newGameBtn = new JButton(&quot;New Game&quot;);\n        this.checkBtn = new JButton(&quot;Check Answer&quot;);\n        this.clearBtn = new JButton(&quot;Clear&quot;);\n\n        this.buttonArray[0] = exitBtn;\n        this.buttonArray[1] = newGameBtn;\n        this.buttonArray[2] = checkBtn;\n        this.buttonArray[3] = clearBtn;\n\n       \n\n        for (int i = 0; i &lt; 4; i++){\n            this.buttonArray[i].addActionListener(this);\n            this.buttonArray[i].setFont(myFont);\n            this.buttonArray[i].setFocusable(false);\n            this.buttonArray[i].setLayout(new FlowLayout());\n\n        }\n    }\n\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource() == this){\n            System.exit(0);\n        }\n\n    }\n}\n\n\n\n\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class SetPanel extends JPanel {\n   \n    Font myFont = new Font(&quot;ink free&quot;, Font.BOLD,22);\n    SetLabels labels;\n    SetButtons exitButton;\n\n    \n    SetPanel(){\n        SetButtons btn = new SetButtons();\n        this.add(btn);\n        this.setBackground(Color.darkGray);\n        this.setLayout(new FlowLayout());\n\n\n    }\n\n}\n    \n    \n    \n</code></pre>\n"},{"tags":["java","converters","pojo","snakeyaml"],"comments":[{"owner":{"account_id":2363085,"reputation":6406,"user_id":2069368,"accept_rate":60,"display_name":"pepuch"},"score":0,"creation_date":1379316601,"post_id":18822451,"comment_id":27763821,"body_markdown":"Did you try to use `yaml.load(yamlString)`? As I can see here https://code.google.com/p/snakeyaml/wiki/Documentation#Loading_YAML it should help you.","body":"Did you try to use <code>yaml.load(yamlString)</code>? As I can see here <a href=\"https://code.google.com/p/snakeyaml/wiki/Documentation#Loading_YAML\" rel=\"nofollow noreferrer\">code.google.com/p/snakeyaml/wiki/Documentation#Loading_YAML</a> it should help you."},{"owner":{"account_id":1177894,"reputation":1194,"user_id":1153438,"accept_rate":48,"display_name":"amrk7"},"score":0,"creation_date":1379319884,"post_id":18822451,"comment_id":27765244,"body_markdown":"It doesnt work... It loads it as a list of linked hash map. Probably should I add tags for snakeyaml to recognize that its a java bean?","body":"It doesnt work... It loads it as a list of linked hash map. Probably should I add tags for snakeyaml to recognize that its a java bean?"},{"owner":{"account_id":2363085,"reputation":6406,"user_id":2069368,"accept_rate":60,"display_name":"pepuch"},"score":0,"creation_date":1379320324,"post_id":18822451,"comment_id":27765446,"body_markdown":"As you wrote you should load pojos to list and work on it. BTW you can also use `loadAll` method.","body":"As you wrote you should load pojos to list and work on it. BTW you can also use <code>loadAll</code> method."}],"answers":[{"tags":[],"owner":{"account_id":1177894,"reputation":1194,"user_id":1153438,"accept_rate":48,"display_name":"amrk7"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1638866047,"creation_date":1389247755,"answer_id":21012797,"question_id":18822451,"body_markdown":"I&#39;ve started using [Jackson&#39;s YAML format plugin](https://github.com/FasterXML/jackson-dataformat-yaml) for serializing and deserializing YAML. \r\nQuite friendly.","title":"Snakeyaml to convert yaml to pojo","body":"<p>I've started using <a href=\"https://github.com/FasterXML/jackson-dataformat-yaml\" rel=\"nofollow noreferrer\">Jackson's YAML format plugin</a> for serializing and deserializing YAML.\nQuite friendly.</p>\n"},{"tags":[],"owner":{"account_id":6504525,"reputation":3,"user_id":6388792,"display_name":"Nirav Mehta"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1472511997,"creation_date":1472511997,"answer_id":39216493,"question_id":18822451,"body_markdown":"One way to achieve this is to create a class that contains a list of POJO.\r\n\r\n    class POJOList {\r\n        List&lt;pojo&gt; pojoList;\r\n        public POJOList(List&lt;pojo&gt; pojoList) {\r\n            this.pojoList = pojoList;\r\n        }\r\n    }\r\n\r\nYou can then read the yaml file under the resources folder as:\r\n\r\n    InputStream in = ClassLoader.getResourceAsStream(&quot;pojolist.yaml&quot;);\r\n    POJOList pojoList = yaml.loadAs(in, POJOList.class);","title":"Snakeyaml to convert yaml to pojo","body":"<p>One way to achieve this is to create a class that contains a list of POJO.</p>\n\n<pre><code>class POJOList {\n    List&lt;pojo&gt; pojoList;\n    public POJOList(List&lt;pojo&gt; pojoList) {\n        this.pojoList = pojoList;\n    }\n}\n</code></pre>\n\n<p>You can then read the yaml file under the resources folder as:</p>\n\n<pre><code>InputStream in = ClassLoader.getResourceAsStream(\"pojolist.yaml\");\nPOJOList pojoList = yaml.loadAs(in, POJOList.class);\n</code></pre>\n"}],"owner":{"account_id":1177894,"reputation":1194,"user_id":1153438,"accept_rate":48,"display_name":"amrk7"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7588,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1638866047,"creation_date":1379316278,"question_id":18822451,"body_markdown":"I want to load a list of POJO from my yaml file. Is it possible for me to do that using snake yaml?\r\n\r\nmy yaml file looks something like this -- \r\n\r\n    - pty1:val1\r\n      pty2:val2\r\n\r\n    - pty1:val1\r\n      pty2:val2\r\n\r\nAnd my pojo - \r\n\r\n    class pojo {\r\n      String pty1;\r\n      String pty2;\r\n    }\r\n\r\nSnakeyaml documentation does say to use loadAs() but that loads a single element. Can I load list of such elements with automatic type binding?\r\n\r\nThanks!\r\n\r\n\r\n\r\n\r\n\r\n ","title":"Snakeyaml to convert yaml to pojo","body":"<p>I want to load a list of POJO from my yaml file. Is it possible for me to do that using snake yaml?</p>\n\n<p>my yaml file looks something like this -- </p>\n\n<pre><code>- pty1:val1\n  pty2:val2\n\n- pty1:val1\n  pty2:val2\n</code></pre>\n\n<p>And my pojo - </p>\n\n<pre><code>class pojo {\n  String pty1;\n  String pty2;\n}\n</code></pre>\n\n<p>Snakeyaml documentation does say to use loadAs() but that loads a single element. Can I load list of such elements with automatic type binding?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","jpa","cascade"],"comments":[{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":1,"creation_date":1638787814,"post_id":70242616,"comment_id":124172584,"body_markdown":"Could you add the full code to reproduce for example for MERGE case showing how you have initalized all entities before saving?","body":"Could you add the full code to reproduce for example for MERGE case showing how you have initalized all entities before saving?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1638805696,"post_id":70242616,"comment_id":124179385,"body_markdown":"It isn&#39;t clear what JPA methods you are using, persist or merge, with the various cascade type operations. It also isn&#39;t clear in this 4 entity type graph, which are new and which are existing, or why you have different cascade merge operations at different levels. ChildDisease-&gt;MedicationDecree-&gt; Intake all use cascade persist, while MedicationDecree-&gt;IntakeTime and Intake-&gt; IntakeTime use cascade merge. If you are only working with ChildDiseases that exist, merge will NOT pick up MedicationDecree. And if using persist, it won&#39;t pick up any referenced IntakeTime.","body":"It isn&#39;t clear what JPA methods you are using, persist or merge, with the various cascade type operations. It also isn&#39;t clear in this 4 entity type graph, which are new and which are existing, or why you have different cascade merge operations at different levels. ChildDisease-&gt;MedicationDecree-&gt; Intake all use cascade persist, while MedicationDecree-&gt;IntakeTime and Intake-&gt; IntakeTime use cascade merge. If you are only working with ChildDiseases that exist, merge will NOT pick up MedicationDecree. And if using persist, it won&#39;t pick up any referenced IntakeTime."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1638806102,"post_id":70242616,"comment_id":124179567,"body_markdown":"Sounds though that you are creating new parents that reference existing IntakeTime instances in the graph, and calling persist. You must look up those existing IntakeTime instances from the current EnityManager context, and use those references in the ChildDisease. Maybe persist ChildDisease before setting those references, and then fix/save the ChildDisease after. Just looking them up does not force updates to them","body":"Sounds though that you are creating new parents that reference existing IntakeTime instances in the graph, and calling persist. You must look up those existing IntakeTime instances from the current EnityManager context, and use those references in the ChildDisease. Maybe persist ChildDisease before setting those references, and then fix/save the ChildDisease after. Just looking them up does not force updates to them"},{"owner":{"account_id":18829226,"reputation":223,"user_id":13733426,"display_name":"tstdplt"},"score":0,"creation_date":1638948936,"post_id":70242616,"comment_id":124220615,"body_markdown":"@pirho Hey, thanks for your quick answer. This is my full ChildDisease related code / respectively the classes I need for saving the entity. I&#39;ve tried what @/shockwave showed me with the existsById, but this one didn&#39;t work either. By trying to fetch the specific data (as you can see in the ChildDiseaseService.java (comments)), I&#39;ve came up the same result. \n\nMy code: https://www.toptal.com/developers/hastebin/zaferuloyu.kotlin","body":"@pirho Hey, thanks for your quick answer. This is my full ChildDisease related code / respectively the classes I need for saving the entity. I&#39;ve tried what @/shockwave showed me with the existsById, but this one didn&#39;t work either. By trying to fetch the specific data (as you can see in the ChildDiseaseService.java (comments)), I&#39;ve came up the same result.   My code: <a href=\"https://www.toptal.com/developers/hastebin/zaferuloyu.kotlin\" rel=\"nofollow noreferrer\">toptal.com/developers/hastebin/zaferuloyu.kotlin</a>"},{"owner":{"account_id":18829226,"reputation":223,"user_id":13733426,"display_name":"tstdplt"},"score":0,"creation_date":1638949246,"post_id":70242616,"comment_id":124220705,"body_markdown":"@Chris Hey, thanks for your answer. To be honest at this point, I was just arbitrarily trying CascadeType operations in hope that it&#39;ll work, because for me it feels like that no combination of the cascade type methods work here. I&#39;m pretty sure this isn&#39;t the case. What I want to do is that I can save and update a ChildDisease using one API endpoint, which works for every other entity. I&#39;ve tried to look them up (I think so), as you can see in my provided hastebin link. I&#39;ve tried to call them through the repository so they will be in the context, but it didn&#39;t work as expected. (1/2)","body":"@Chris Hey, thanks for your answer. To be honest at this point, I was just arbitrarily trying CascadeType operations in hope that it&#39;ll work, because for me it feels like that no combination of the cascade type methods work here. I&#39;m pretty sure this isn&#39;t the case. What I want to do is that I can save and update a ChildDisease using one API endpoint, which works for every other entity. I&#39;ve tried to look them up (I think so), as you can see in my provided hastebin link. I&#39;ve tried to call them through the repository so they will be in the context, but it didn&#39;t work as expected. (1/2)"},{"owner":{"account_id":18829226,"reputation":223,"user_id":13733426,"display_name":"tstdplt"},"score":0,"creation_date":1638949269,"post_id":70242616,"comment_id":124220708,"body_markdown":"@Chris I&#39;ve also tried to set them to the entity, but this one didn&#39;t work aswell. (outcommented stuff)","body":"@Chris I&#39;ve also tried to set them to the entity, but this one didn&#39;t work aswell. (outcommented stuff)"},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":1,"creation_date":1638950379,"post_id":70242616,"comment_id":124221028,"body_markdown":"Good start but to reproduce the problem there is a need also for all the mapper code and also real data. And in a [minimal form](https://stackoverflow.com/help/minimal-reproducible-example). You might then see the problem by yourself.","body":"Good start but to reproduce the problem there is a need also for all the mapper code and also real data. And in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal form</a>. You might then see the problem by yourself."},{"owner":{"account_id":18829226,"reputation":223,"user_id":13733426,"display_name":"tstdplt"},"score":0,"creation_date":1638952495,"post_id":70242616,"comment_id":124221725,"body_markdown":"@pirho Hey, thanks for your answer. I&#39;ve added some necessary information to another hastebin. https://www.toptal.com/developers/hastebin/agujakupul.cpp\n\nWhen debugging a while I&#39;ve figured out, that I am able to save my JSON-Data, when there&#39;s the specific IntakeTime id missing in the intermediate table &quot;intake_remaining_doses&quot; as a tupel. \n\nMeans: if I want to save an entity, which contains the IntakeTime with ID &quot;1&quot; in the Intake.remainingDoses List and in this intermediate table already is an entry with the ID &quot;1&quot;, he gives me the stack trace for the &quot;Duplicate entry &#39;x&#39; for &#39;x&#39;&quot;.","body":"@pirho Hey, thanks for your answer. I&#39;ve added some necessary information to another hastebin. <a href=\"https://www.toptal.com/developers/hastebin/agujakupul.cpp\" rel=\"nofollow noreferrer\">toptal.com/developers/hastebin/agujakupul.cpp</a>  When debugging a while I&#39;ve figured out, that I am able to save my JSON-Data, when there&#39;s the specific IntakeTime id missing in the intermediate table &quot;intake_remaining_doses&quot; as a tupel.   Means: if I want to save an entity, which contains the IntakeTime with ID &quot;1&quot; in the Intake.remainingDoses List and in this intermediate table already is an entry with the ID &quot;1&quot;, he gives me the stack trace for the &quot;Duplicate entry &#39;x&#39; for &#39;x&#39;&quot;."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1638977328,"post_id":70242616,"comment_id":124231326,"body_markdown":"Why are you calling existsById on paused in intakeTime.getId values - was that switched from a findbyId in your testing? They would need to be added to the collection and set in the collection, but you also have the MedicationDecree.intakeTimes collection you must check as well. But you&#39;ve found the issue - you&#39;ve mapped Intake-&gt; IntakeTime as a OneToMany, and your table only allows one IntakeTime per Intake. You either need to correct the existing Intake that references the existing IntakeTime so that only one references it, or change the table/mapping to be a ManyToMany.","body":"Why are you calling existsById on paused in intakeTime.getId values - was that switched from a findbyId in your testing? They would need to be added to the collection and set in the collection, but you also have the MedicationDecree.intakeTimes collection you must check as well. But you&#39;ve found the issue - you&#39;ve mapped Intake-&gt; IntakeTime as a OneToMany, and your table only allows one IntakeTime per Intake. You either need to correct the existing Intake that references the existing IntakeTime so that only one references it, or change the table/mapping to be a ManyToMany."},{"owner":{"account_id":18829226,"reputation":223,"user_id":13733426,"display_name":"tstdplt"},"score":1,"creation_date":1638977879,"post_id":70242616,"comment_id":124231600,"body_markdown":"@Chris Thanks for your answer, I just realized that this probably was the problem. In the meantime I&#39;ve did some workaround in front- &amp; backend and managed to fix the problem. Maybe with not a such good solution as you just answered with, but still with functionality ;) Thanks for your encouragement","body":"@Chris Thanks for your answer, I just realized that this probably was the problem. In the meantime I&#39;ve did some workaround in front- &amp; backend and managed to fix the problem. Maybe with not a such good solution as you just answered with, but still with functionality ;) Thanks for your encouragement"}],"answers":[{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638866011,"creation_date":1638785382,"answer_id":70243782,"question_id":70242616,"body_markdown":"Your error occurred because you&#39;ve tried to save an entity which is already existing in the database (detached), but the default `JpaRepository` doesn&#39;t have a way of identifying if an entity is new or old, so it tries to create a new entity in the database.\r\n\r\nYou can fix this in multiple ways. One of it would be implementing the `Persistable` interface.\r\nBasically you need to implement `Persistable` on your entity and provide `isNew()` and `getId()` methods, now you can use the logic that if the `id` field is already populated return `true` in `isNew()`.\r\n\r\n    public class Intake extends BaseEntity implements Persistable&lt;UUID&gt; {\r\n       @Override\r\n       public boolean isNew(){\r\n          return this.getId() == null; // or any other logic with which you can identify if it&#39;s a new object or not \r\n       }\r\n    }\r\nRefer: [Persistable SpringDoc][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Persistable.html","title":"JPA CascadeType&#39;s won&#39;t work as I expected they will","body":"<p>Your error occurred because you've tried to save an entity which is already existing in the database (detached), but the default <code>JpaRepository</code> doesn't have a way of identifying if an entity is new or old, so it tries to create a new entity in the database.</p>\n<p>You can fix this in multiple ways. One of it would be implementing the <code>Persistable</code> interface.\nBasically you need to implement <code>Persistable</code> on your entity and provide <code>isNew()</code> and <code>getId()</code> methods, now you can use the logic that if the <code>id</code> field is already populated return <code>true</code> in <code>isNew()</code>.</p>\n<pre><code>public class Intake extends BaseEntity implements Persistable&lt;UUID&gt; {\n   @Override\n   public boolean isNew(){\n      return this.getId() == null; // or any other logic with which you can identify if it's a new object or not \n   }\n}\n</code></pre>\n<p>Refer: <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Persistable.html\" rel=\"nofollow noreferrer\">Persistable SpringDoc</a></p>\n"}],"owner":{"account_id":18829226,"reputation":223,"user_id":13733426,"display_name":"tstdplt"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638866011,"creation_date":1638779107,"question_id":70242616,"body_markdown":"Hello dear StackOverflow Community,\r\nI&#39;ve been having a problem lately, where I wasn&#39;t able to just put the reference of an already saved object in it. I don&#39;t want to save or update the object, since these objects are pre inserted in our database. \r\n\r\nSo basically my situation works as following: \r\nI have a parent, in this case it is an Intake and the object has a List of IntakeTimes, which are declared as remainingDoses. Makes sense, huh.\r\n\r\nWhen using the CascadeType.MERGE on the remainingDoses, I&#39;m actually able to save the ChildDisease Object (uppermost parent object that I&#39;m actually saving), but if a saved ChildDisease with such an IntakeTime on his Intake object exists, I receive a &quot;Duplicate entry &#39;X&#39; for Key &#39;X&#39;&quot; error. \r\n\r\nWhen using the CascadeType.PERSIST on the remainingDoses, I&#39;m getting the &quot;detached entity passed to persist: com.x.x.entity.IntakeTime&quot;\r\n\r\nMy models look as following:&lt;br&gt;\r\n&lt;h3&gt;ChildDisease.java (uppermost parent)&lt;/h3&gt;\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name=&quot;child_disease&quot;)\r\npublic class ChildDisease extends BaseEntity {\r\n\r\n    @ManyToOne(cascade = CascadeType.DETACH)\r\n    @JoinColumn(name=&quot;child_Fk&quot;)\r\n    private Child child;\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name=&quot;disease_Fk&quot;)\r\n    private Disease disease;\r\n\r\n    @OneToOne(cascade = CascadeType.PERSIST, orphanRemoval = true, fetch=FetchType.EAGER)\r\n    @JoinColumn(name = &quot;medication_decree_Fk&quot;)\r\n    private MedicationDecree medicationDecree;\r\n}\r\n```\r\n\r\n&lt;h3&gt;MedicationDecree.java (direct child of ChildDisease.java)&lt;/h3&gt;\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table\r\npublic class MedicationDecree extends BaseEntity {\r\n\r\n    @Column\r\n    private float consumptionAmount;\r\n\r\n    @Column(nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private MeasuringUnit measuringUnit;\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name=&quot;medication_Fk&quot;)\r\n    private Medication medication;\r\n\r\n    @OneToOne(cascade = CascadeType.PERSIST)\r\n    private Intake intake;\r\n\r\n    @ManyToMany(cascade = CascadeType.MERGE)\r\n    private List&lt;IntakeTime&gt; intakeTimes;\r\n}\r\n```\r\n\r\n&lt;h3&gt;Intake.java (direct child of ChildDisease.java)&lt;/h3&gt;\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Intake extends BaseEntity {\r\n\r\n    @OneToMany(cascade = CascadeType.MERGE)\r\n    public List&lt;IntakeTime&gt; remainingDoses;\r\n\r\n    @Column\r\n    public Date date;\r\n}\r\n```\r\n\r\nI&#39;m looking forward for any help or tips, thanks community.","title":"JPA CascadeType&#39;s won&#39;t work as I expected they will","body":"<p>Hello dear StackOverflow Community,\nI've been having a problem lately, where I wasn't able to just put the reference of an already saved object in it. I don't want to save or update the object, since these objects are pre inserted in our database.</p>\n<p>So basically my situation works as following:\nI have a parent, in this case it is an Intake and the object has a List of IntakeTimes, which are declared as remainingDoses. Makes sense, huh.</p>\n<p>When using the CascadeType.MERGE on the remainingDoses, I'm actually able to save the ChildDisease Object (uppermost parent object that I'm actually saving), but if a saved ChildDisease with such an IntakeTime on his Intake object exists, I receive a &quot;Duplicate entry 'X' for Key 'X'&quot; error.</p>\n<p>When using the CascadeType.PERSIST on the remainingDoses, I'm getting the &quot;detached entity passed to persist: com.x.x.entity.IntakeTime&quot;</p>\n<p>My models look as following:<br></p>\n<h3>ChildDisease.java (uppermost parent)</h3>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name=&quot;child_disease&quot;)\npublic class ChildDisease extends BaseEntity {\n\n    @ManyToOne(cascade = CascadeType.DETACH)\n    @JoinColumn(name=&quot;child_Fk&quot;)\n    private Child child;\n\n    @ManyToOne(cascade = CascadeType.PERSIST)\n    @JoinColumn(name=&quot;disease_Fk&quot;)\n    private Disease disease;\n\n    @OneToOne(cascade = CascadeType.PERSIST, orphanRemoval = true, fetch=FetchType.EAGER)\n    @JoinColumn(name = &quot;medication_decree_Fk&quot;)\n    private MedicationDecree medicationDecree;\n}\n</code></pre>\n<h3>MedicationDecree.java (direct child of ChildDisease.java)</h3>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table\npublic class MedicationDecree extends BaseEntity {\n\n    @Column\n    private float consumptionAmount;\n\n    @Column(nullable = false)\n    @Enumerated(EnumType.STRING)\n    private MeasuringUnit measuringUnit;\n\n    @ManyToOne(cascade = CascadeType.PERSIST)\n    @JoinColumn(name=&quot;medication_Fk&quot;)\n    private Medication medication;\n\n    @OneToOne(cascade = CascadeType.PERSIST)\n    private Intake intake;\n\n    @ManyToMany(cascade = CascadeType.MERGE)\n    private List&lt;IntakeTime&gt; intakeTimes;\n}\n</code></pre>\n<h3>Intake.java (direct child of ChildDisease.java)</h3>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Intake extends BaseEntity {\n\n    @OneToMany(cascade = CascadeType.MERGE)\n    public List&lt;IntakeTime&gt; remainingDoses;\n\n    @Column\n    public Date date;\n}\n</code></pre>\n<p>I'm looking forward for any help or tips, thanks community.</p>\n"},{"tags":["java","excel","apache-poi","xssf"],"answers":[{"tags":[],"owner":{"account_id":7284149,"reputation":673,"user_id":5552809,"display_name":"contrapost"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638865664,"creation_date":1520956473,"answer_id":49260530,"question_id":49259708,"body_markdown":"I&#39;ll do it in this way:\r\n\r\n    import com.google.common.collect.Lists;\r\n    import no.tollpost.web.termodash.rest.report.excel.model.ExcelReportDTO;\r\n    import no.tollpost.web.termodash.rest.report.excel.model.RowDTO;\r\n    import org.apache.poi.openxml4j.exceptions.OpenXML4JRuntimeException;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.stream.IntStream;\r\n\r\n    public final class ExcelGenerator {\r\n      \r\n      private ExcelGenerator() {\r\n      }\r\n\r\n      public static void getExcelVersion(final OutputStream outputStream) {\r\n        try {\r\n            final Workbook book = new XSSFWorkbook();\r\n            generateReport(book);\r\n            book.write(outputStream);\r\n        } catch (final IOException | OpenXML4JRuntimeException e) {\r\n            //log.warn(&quot;Failed to build excel report&quot;, e);\r\n        }\r\n      }\r\n\r\n      private static void generateReport(final Workbook book) {\r\n        final Sheet sheet = book.createSheet(&quot;Sheet_name&quot;);\r\n        final List&lt;String&gt; columnNames = getColumnNames();\r\n        final List&lt;RowDTO&gt; rows = getRows(getYourData()); // get your data as list of your DTOs\r\n\r\n        generateTableHeader(sheet, book, columnNames);\r\n        generateTableRows(sheet, rows);\r\n\r\n        IntStream.range(0, columnNames.size()).forEach(sheet::autoSizeColumn);\r\n      }\r\n\r\n      private List&lt;YourDTO&gt; getYourData() {\r\n      return // Your data as List (each element will be row in the excel sheet)\r\n      }\r\n\r\n      private static List&lt;String&gt; getColumnNames() {\r\n        return Lists.newArrayList(&quot;column_name_1&quot;, &quot;column_name_2&quot;, &quot;column_name_3&quot;);\r\n      }\r\n\r\n      private static List&lt;RowDTO&gt; getRows(final List&lt;YourDTO&gt; data) {\r\n            final List&lt;RowDTO&gt; rows = new ArrayList&lt;&gt;();\r\n            IntStream.range(0, data.size()).forEach(i -&gt; {\r\n                final List&lt;String&gt; cellsMapper = new ArrayList&lt;&gt;();\r\n                cellsMapper.add(data.get(i).getSomeProperty());\r\n                cellsMapper.add(data.get(i).getOtherProperty());\r\n                cellsMapper.add(data.get(i).getThirdProperty());\r\n                cellsMapper.add(data.get(i).getFourthProperty());\r\n                \r\n                rows.add(new RowDTO(cellsMapper));\r\n            });\r\n\r\n            // rows.sort(Comparator.comparing(row -&gt; row.getData().get(3)));\r\n\r\n            return rows;\r\n      }\r\n\r\n      private static void generateTableHeader(final Sheet sheet, final Workbook workbook, final List&lt;String&gt; cellTitles) {\r\n        final Row tabellHeader = sheet.createRow(0);\r\n\r\n        IntStream.range(0, cellTitles.size()).forEach(cellNummer -&gt; {\r\n            final Cell cell = tabellHeader.createCell(cellNummer);\r\n            cell.setCellValue(cellTitles.get(cellNummer));\r\n            setHeaderCellStyle(cell, workbook, cellTitles.get(cellNummer));\r\n        });\r\n      }\r\n\r\n      private static void setHeaderCellStyle(final Cell celle, final Workbook workbook, final String celleTittel) {\r\n        if (!celleTittel.isEmpty()) {\r\n            celle.setCellStyle(getHeaderCellStyle(workbook));\r\n        }\r\n      }\r\n\r\n      private static CellStyle getHeaderCellStyle(final Workbook workbook) {\r\n        final CellStyle style = workbook.createCellStyle();\r\n        style.setFillForegroundColor(IndexedColors.PALE_BLUE.getIndex());\r\n        style.setFillPattern(CellStyle.SOLID_FOREGROUND);\r\n        final Font font = workbook.createFont();\r\n        font.setBoldweight(Font.BOLDWEIGHT_BOLD);\r\n        style.setFont(font);\r\n\r\n        return style;\r\n      }\r\n\r\n      private static void generateTableRows(final Sheet sheet, final List&lt;RowDTO&gt; rows) {\r\n        IntStream.range(0, rows.size()).forEach(rowNUmber -&gt; {\r\n            final Row row = sheet.createRow(rowNUmber + 1);\r\n\r\n            IntStream.range(0, rows.get(rowNUmber).getData().size())\r\n                     .forEach(cellNumber -&gt; setCellValue(cellNumber, rowNUmber, row, rows));\r\n        });\r\n      }\r\n\r\n      private static void setCellValue(final int cellNumber, final int rowNumber, final Row row, final List&lt;RowDTO&gt; rows) {\r\n        final Cell cell = row.createCell(cellNumber);\r\n        cell.setCellValue(rows.get(rowNumber).getData().get(cellNumber));\r\n        cell.setCellType(Cell.CELL_TYPE_STRING);\r\n      }\r\n    }\r\n\r\n    final class RowDTO {\r\n\r\n        private final List&lt;String&gt; data;\r\n\r\n        public RowDTO(final List&lt;String&gt; data) {\r\n        this.data = data;\r\n        }\r\n\r\n        public List&lt;String&gt; getData() {\r\n           return data;\r\n       }\r\n    }","title":"Write to Next Blank row Excel - Java","body":"<p>I'll do it in this way:</p>\n<pre><code>import com.google.common.collect.Lists;\nimport no.tollpost.web.termodash.rest.report.excel.model.ExcelReportDTO;\nimport no.tollpost.web.termodash.rest.report.excel.model.RowDTO;\nimport org.apache.poi.openxml4j.exceptions.OpenXML4JRuntimeException;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.IntStream;\n\npublic final class ExcelGenerator {\n  \n  private ExcelGenerator() {\n  }\n\n  public static void getExcelVersion(final OutputStream outputStream) {\n    try {\n        final Workbook book = new XSSFWorkbook();\n        generateReport(book);\n        book.write(outputStream);\n    } catch (final IOException | OpenXML4JRuntimeException e) {\n        //log.warn(&quot;Failed to build excel report&quot;, e);\n    }\n  }\n\n  private static void generateReport(final Workbook book) {\n    final Sheet sheet = book.createSheet(&quot;Sheet_name&quot;);\n    final List&lt;String&gt; columnNames = getColumnNames();\n    final List&lt;RowDTO&gt; rows = getRows(getYourData()); // get your data as list of your DTOs\n\n    generateTableHeader(sheet, book, columnNames);\n    generateTableRows(sheet, rows);\n\n    IntStream.range(0, columnNames.size()).forEach(sheet::autoSizeColumn);\n  }\n\n  private List&lt;YourDTO&gt; getYourData() {\n  return // Your data as List (each element will be row in the excel sheet)\n  }\n\n  private static List&lt;String&gt; getColumnNames() {\n    return Lists.newArrayList(&quot;column_name_1&quot;, &quot;column_name_2&quot;, &quot;column_name_3&quot;);\n  }\n\n  private static List&lt;RowDTO&gt; getRows(final List&lt;YourDTO&gt; data) {\n        final List&lt;RowDTO&gt; rows = new ArrayList&lt;&gt;();\n        IntStream.range(0, data.size()).forEach(i -&gt; {\n            final List&lt;String&gt; cellsMapper = new ArrayList&lt;&gt;();\n            cellsMapper.add(data.get(i).getSomeProperty());\n            cellsMapper.add(data.get(i).getOtherProperty());\n            cellsMapper.add(data.get(i).getThirdProperty());\n            cellsMapper.add(data.get(i).getFourthProperty());\n            \n            rows.add(new RowDTO(cellsMapper));\n        });\n\n        // rows.sort(Comparator.comparing(row -&gt; row.getData().get(3)));\n\n        return rows;\n  }\n\n  private static void generateTableHeader(final Sheet sheet, final Workbook workbook, final List&lt;String&gt; cellTitles) {\n    final Row tabellHeader = sheet.createRow(0);\n\n    IntStream.range(0, cellTitles.size()).forEach(cellNummer -&gt; {\n        final Cell cell = tabellHeader.createCell(cellNummer);\n        cell.setCellValue(cellTitles.get(cellNummer));\n        setHeaderCellStyle(cell, workbook, cellTitles.get(cellNummer));\n    });\n  }\n\n  private static void setHeaderCellStyle(final Cell celle, final Workbook workbook, final String celleTittel) {\n    if (!celleTittel.isEmpty()) {\n        celle.setCellStyle(getHeaderCellStyle(workbook));\n    }\n  }\n\n  private static CellStyle getHeaderCellStyle(final Workbook workbook) {\n    final CellStyle style = workbook.createCellStyle();\n    style.setFillForegroundColor(IndexedColors.PALE_BLUE.getIndex());\n    style.setFillPattern(CellStyle.SOLID_FOREGROUND);\n    final Font font = workbook.createFont();\n    font.setBoldweight(Font.BOLDWEIGHT_BOLD);\n    style.setFont(font);\n\n    return style;\n  }\n\n  private static void generateTableRows(final Sheet sheet, final List&lt;RowDTO&gt; rows) {\n    IntStream.range(0, rows.size()).forEach(rowNUmber -&gt; {\n        final Row row = sheet.createRow(rowNUmber + 1);\n\n        IntStream.range(0, rows.get(rowNUmber).getData().size())\n                 .forEach(cellNumber -&gt; setCellValue(cellNumber, rowNUmber, row, rows));\n    });\n  }\n\n  private static void setCellValue(final int cellNumber, final int rowNumber, final Row row, final List&lt;RowDTO&gt; rows) {\n    final Cell cell = row.createCell(cellNumber);\n    cell.setCellValue(rows.get(rowNumber).getData().get(cellNumber));\n    cell.setCellType(Cell.CELL_TYPE_STRING);\n  }\n}\n\nfinal class RowDTO {\n\n    private final List&lt;String&gt; data;\n\n    public RowDTO(final List&lt;String&gt; data) {\n    this.data = data;\n    }\n\n    public List&lt;String&gt; getData() {\n       return data;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":6612804,"reputation":395,"user_id":5107210,"accept_rate":91,"display_name":"Jonathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2935,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49260530,"answer_count":1,"score":2,"last_activity_date":1638865664,"creation_date":1520954057,"question_id":49259708,"body_markdown":"My code writes data to excel however it is overwriting the same row and columns. I do not want to overwrite the row that has the column titles and the rows after that if it has data in it. \r\n\r\nSteps\r\n1 enter column heading\r\n2 enter data in rows/columns\r\n3 if column heading are there don&#39;t write column heading\r\n4 if row/columns filled go to next\r\n5 repeat 1-4\r\n\r\nMy code is below. Any help would be appreciated.\r\n\r\n\t  \t//Create blank workbook\r\n\t\t\t\t\t      XSSFWorkbook workbook = new XSSFWorkbook();\r\n\t\t\t\t\t      \r\n\t\t\t\t\t      //Create a blank sheet\r\n\t\t\t\t\t      XSSFSheet spreadsheet = workbook.createSheet( &quot; Employee Info &quot;);\r\n\r\n\t\t\t\t\t      //Create row object\r\n\t\t\t\t\t      XSSFRow row;\r\n\r\n\t\t\t\t\t      //This data needs to be written (Object[])\r\n\t\t\t\t\t      Map &lt; String, Object[] &gt; clientinfo = new TreeMap &lt; String, Object[] &gt;();\r\n\t\t\t\t\t      clientinfo.put( &quot;1&quot;, new Object[] {\r\n\t\t\t\t\t         &quot;PayRoll Status&quot;, &quot;Week #&quot;, &quot;Pay Date&quot;,&quot;End Date&quot; });\r\n\t\t\t\t\t      \r\n\t\t\t\t\t      clientinfo.put( &quot;2&quot;, new Object[] {\r\n\t\t\t\t\t      CycleStatus, WeekID, DateId, EndDateId });\r\n\t\t\t\t\t      \r\n\r\n\t\t\t\t\t      //Iterate over data and write to sheet\r\n\t\t\t\t\t      Set &lt; String &gt; keyid = clientinfo.keySet();\r\n\t\t\t\t\t      int rowid = 0;\r\n\t\t\t\t\t      \r\n\t\t\t\t\t      for (String key : keyid) {\r\n\t\t\t\t\t         row = spreadsheet.createRow(rowid++);\r\n\t\t\t\t\t         Object [] objectArr = clientinfo.get(key);\r\n\t\t\t\t\t         int cellid = 0;\r\n\t\t\t\t\t         \r\n\t\t\t\t\t         for (Object obj : objectArr){\r\n\t\t\t\t\t            Cell cell = row.createCell(cellid++);\r\n\t\t\t\t\t            cell.setCellValue((String)obj);\r\n\t\t\t\t\t         }\r\n\t\t\t\t\t      }\r\n\t\t\t\t\t      //Write the workbook in file system\r\n\t\t\t\t\t      FileOutputStream out = new FileOutputStream(\r\n\t\t\t\t\t         new File(&quot;C:/PayrollSync/Pre-Payroll.xlsx&quot;));\r\n\t\t\t\t\t      \r\n\t\t\t\t\t      workbook.write(out);\r\n\t\t\t\t\t      out.close();\r\n\t\t\t\t\t      System.out.println(&quot;Prepayroll.xlsx written successfully&quot;);\r\n\t\t\t\t\t   \r\n---------------------------------------------------\r\n\r\nThis is the solution i came up with however it write the count of the rows is there any way to take it off\r\n\r\n      String excelFilePath = &quot;C://PayrollSync//Pre-Payroll.xlsx&quot;;\r\n    \t\t\t\t            FileInputStream inputStream = new FileInputStream(new File(excelFilePath));\r\n    \t\t\t\t            Workbook workbook = WorkbookFactory.create(inputStream);\r\n    \t\t\t\t \r\n    \t\t\t\t            Sheet sheet = workbook.getSheetAt(0);\r\n    \t\t\t\t            \r\n    \t\t\t\t            //CycleStatus, WeekID, DateId, EndDateId\r\n    \t\t\t\t            Object[][] bookData = {\r\n    \t\t\t\t                    {CycleStatus,WeekID,DateId,EndDateId},\r\n    \t\t\t\t            \r\n    \t\t\t\t            };\r\n    \t\t\t\t \r\n    \t\t\t\t            int rowCount = sheet.getLastRowNum();\r\n    \t\t\t\t \r\n    \t\t\t\t            for (Object[] aBook : bookData) {\r\n    \t\t\t\t                Row row = sheet.createRow(++rowCount);\r\n    \t\t\t\t \r\n    \t\t\t\t                int columnCount = 0;\r\n    \t\t\t\t                 \r\n    \t\t\t\t                Cell cell = row.createCell(columnCount);\r\n    \t\t\t\t                cell.setCellValue(rowCount);\r\n    \t\t\t\t                 \r\n    \t\t\t\t                for (Object field : aBook) {\r\n    \t\t\t\t                    cell = row.createCell(++columnCount);\r\n    \t\t\t\t                    if (field instanceof String) {\r\n    \t\t\t\t                        cell.setCellValue((String) field);\r\n    \t\t\t\t                    } else if (field instanceof Integer) {\r\n    \t\t\t\t                        cell.setCellValue((Integer) field);\r\n    \t\t\t\t                    }\r\n    \t\t\t\t                }\r\n    \t\t\t\t \r\n    \t\t\t\t            }\r\n    \t\t\t\t \r\n    \t\t\t\t           \r\n    \t\t\t\t \r\n    \t\t\t\t            FileOutputStream outputStream = new FileOutputStream(&quot;C://PayrollSync//Pre-Payroll.xlsx&quot;);\r\n    \t\t\t\t            workbook.write(outputStream);\r\n    \t\t\t\t            inputStream.close();\r\n    \t\t\t\t            outputStream.close();","title":"Write to Next Blank row Excel - Java","body":"<p>My code writes data to excel however it is overwriting the same row and columns. I do not want to overwrite the row that has the column titles and the rows after that if it has data in it. </p>\n\n<p>Steps\n1 enter column heading\n2 enter data in rows/columns\n3 if column heading are there don't write column heading\n4 if row/columns filled go to next\n5 repeat 1-4</p>\n\n<p>My code is below. Any help would be appreciated.</p>\n\n<pre><code>    //Create blank workbook\n                      XSSFWorkbook workbook = new XSSFWorkbook();\n\n                      //Create a blank sheet\n                      XSSFSheet spreadsheet = workbook.createSheet( \" Employee Info \");\n\n                      //Create row object\n                      XSSFRow row;\n\n                      //This data needs to be written (Object[])\n                      Map &lt; String, Object[] &gt; clientinfo = new TreeMap &lt; String, Object[] &gt;();\n                      clientinfo.put( \"1\", new Object[] {\n                         \"PayRoll Status\", \"Week #\", \"Pay Date\",\"End Date\" });\n\n                      clientinfo.put( \"2\", new Object[] {\n                      CycleStatus, WeekID, DateId, EndDateId });\n\n\n                      //Iterate over data and write to sheet\n                      Set &lt; String &gt; keyid = clientinfo.keySet();\n                      int rowid = 0;\n\n                      for (String key : keyid) {\n                         row = spreadsheet.createRow(rowid++);\n                         Object [] objectArr = clientinfo.get(key);\n                         int cellid = 0;\n\n                         for (Object obj : objectArr){\n                            Cell cell = row.createCell(cellid++);\n                            cell.setCellValue((String)obj);\n                         }\n                      }\n                      //Write the workbook in file system\n                      FileOutputStream out = new FileOutputStream(\n                         new File(\"C:/PayrollSync/Pre-Payroll.xlsx\"));\n\n                      workbook.write(out);\n                      out.close();\n                      System.out.println(\"Prepayroll.xlsx written successfully\");\n</code></pre>\n\n<hr>\n\n<p>This is the solution i came up with however it write the count of the rows is there any way to take it off</p>\n\n<pre><code>  String excelFilePath = \"C://PayrollSync//Pre-Payroll.xlsx\";\n                            FileInputStream inputStream = new FileInputStream(new File(excelFilePath));\n                            Workbook workbook = WorkbookFactory.create(inputStream);\n\n                            Sheet sheet = workbook.getSheetAt(0);\n\n                            //CycleStatus, WeekID, DateId, EndDateId\n                            Object[][] bookData = {\n                                    {CycleStatus,WeekID,DateId,EndDateId},\n\n                            };\n\n                            int rowCount = sheet.getLastRowNum();\n\n                            for (Object[] aBook : bookData) {\n                                Row row = sheet.createRow(++rowCount);\n\n                                int columnCount = 0;\n\n                                Cell cell = row.createCell(columnCount);\n                                cell.setCellValue(rowCount);\n\n                                for (Object field : aBook) {\n                                    cell = row.createCell(++columnCount);\n                                    if (field instanceof String) {\n                                        cell.setCellValue((String) field);\n                                    } else if (field instanceof Integer) {\n                                        cell.setCellValue((Integer) field);\n                                    }\n                                }\n\n                            }\n\n\n\n                            FileOutputStream outputStream = new FileOutputStream(\"C://PayrollSync//Pre-Payroll.xlsx\");\n                            workbook.write(outputStream);\n                            inputStream.close();\n                            outputStream.close();\n</code></pre>\n"},{"tags":["java","sql","oracle"],"comments":[{"owner":{"account_id":22872933,"reputation":1106,"user_id":17015693,"display_name":"Arun"},"score":0,"creation_date":1638770867,"post_id":70241098,"comment_id":124167737,"body_markdown":"If my understanding is correct, It must be `3` for `score 7-6` in SEMESTER_NO `2`","body":"If my understanding is correct, It must be <code>3</code> for <code>score 7-6</code> in SEMESTER_NO <code>2</code>"},{"owner":{"account_id":41710,"reputation":38369,"user_id":121309,"accept_rate":100,"display_name":"Hans Keing"},"score":0,"creation_date":1638865149,"post_id":70241098,"comment_id":124194793,"body_markdown":"Please, for your own sanity, fix typos: it is *semester*, not &quot;sem*i*ster&quot; or &quot;SEME*TS*ER&quot;","body":"Please, for your own sanity, fix typos: it is <i>semester</i>, not &quot;sem<i>i</i>ster&quot; or &quot;SEME<i>TS</i>ER&quot;"}],"answers":[{"tags":[],"owner":{"account_id":22872933,"reputation":1106,"user_id":17015693,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638771126,"creation_date":1638771126,"answer_id":70241480,"question_id":70241098,"body_markdown":"Using `CASE-WHEN` and `PIVOT` is one of the options:\r\n\r\n    SELECT *\r\n    FROM \r\n    (\r\n      SELECT semester_no,\r\n              CASE \r\n                WHEN SCORE&gt;= 9 and SCORE&lt;=10 THEN &#39;Score 10-9&#39;\r\n                WHEN SCORE&gt;= 8 and SCORE&lt;9 THEN &#39;Score 9-8&#39;\r\n                WHEN SCORE&gt;= 7 and SCORE&lt;8 THEN &#39;Score 8-7&#39;\r\n                WHEN SCORE&gt;= 6 and SCORE&lt;7 THEN &#39;Score 7-6&#39;\r\n                WHEN SCORE&gt;= 5 and SCORE&lt;6 THEN &#39;Score 6-5&#39;\r\n                WHEN SCORE&gt;= 4 and SCORE&lt;5 THEN &#39;Score 5-4&#39;\r\n              END AS score_cat\r\n       FROM student_semester\r\n    )\r\n    PIVOT \r\n    (\r\n       COUNT(score_cat)\r\n       FOR score_cat IN (&#39;Score 10-9&#39;,&#39;Score 9-8&#39;,&#39;Score 8-7&#39;,&#39;Score 7-6&#39;,&#39;Score 6-5&#39;,&#39;Score 5-4&#39;)\r\n    )\r\n    ORDER BY semester_no\r\n\r\nThe `CASE` statement will categorize the score into different buckets *(Modify as per your need)* and `PIVOT` statement will transpose the data into desired level.\r\n\r\n[DEMO][1] \r\n\r\n\r\n  [1]: https://dbfiddle.uk/?rdbms=oracle_11.2&amp;fiddle=f12841cc1e2cf88a2ee896f7015f8e71","title":"Semester wise results and display cgpa count by range","body":"<p>Using <code>CASE-WHEN</code> and <code>PIVOT</code> is one of the options:</p>\n<pre><code>SELECT *\nFROM \n(\n  SELECT semester_no,\n          CASE \n            WHEN SCORE&gt;= 9 and SCORE&lt;=10 THEN 'Score 10-9'\n            WHEN SCORE&gt;= 8 and SCORE&lt;9 THEN 'Score 9-8'\n            WHEN SCORE&gt;= 7 and SCORE&lt;8 THEN 'Score 8-7'\n            WHEN SCORE&gt;= 6 and SCORE&lt;7 THEN 'Score 7-6'\n            WHEN SCORE&gt;= 5 and SCORE&lt;6 THEN 'Score 6-5'\n            WHEN SCORE&gt;= 4 and SCORE&lt;5 THEN 'Score 5-4'\n          END AS score_cat\n   FROM student_semester\n)\nPIVOT \n(\n   COUNT(score_cat)\n   FOR score_cat IN ('Score 10-9','Score 9-8','Score 8-7','Score 7-6','Score 6-5','Score 5-4')\n)\nORDER BY semester_no\n</code></pre>\n<p>The <code>CASE</code> statement will categorize the score into different buckets <em>(Modify as per your need)</em> and <code>PIVOT</code> statement will transpose the data into desired level.</p>\n<p><a href=\"https://dbfiddle.uk/?rdbms=oracle_11.2&amp;fiddle=f12841cc1e2cf88a2ee896f7015f8e71\" rel=\"nofollow noreferrer\">DEMO</a></p>\n"}],"owner":{"account_id":23557973,"reputation":19,"user_id":17599706,"display_name":"GoAshraya Save Cows"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1638865075,"creation_date":1638767224,"question_id":70241098,"body_markdown":"How to calculate grade wise counts by semester and grade range. \r\n\r\nI am having tables, fields and data as follows:\r\n\r\n**SEMETSER**\r\n\r\n| SEMISTER_NO | NAME |\r\n| ----------- | ------ |\r\n| 1           | FIRST  |\r\n| 2           | SECOND |\r\n\r\n**STUDENT_SEMETSER**\r\n\r\n| STUDENT_NO | SEMESTER_NO | SCORE |\r\n| ----------- | ----------- | ----- |\r\n| 1 | 1 | 9.8   |\r\n| 2 | 1 | 9.2   |\r\n| 3 | 1 | 8.8   |\r\n| 4 | 1 | 7.8   |\r\n| 5 | 1 | 7.5   |\r\n| 6 | 1 | 7.2   |\r\n| 7 | 2 | 8.8   |\r\n| 8 | 2 | 8.2   |\r\n| 9 | 2 | 8.8   |\r\n| 10 | 2 | 6.8   |\r\n| 11 | 2 | 6.5   |\r\n| 12 | 2 | 6.2   |\r\n\r\n**RESULTS Expected:**\r\n\r\n| SEMESTER_NO | SCORE 10-9 | SCORE 9-8 | 8-7 | 7-6 | 6-5 | 5-4 |\r\n| ----------- | ---------- |---------- | --- | --- | --- | --- |\r\n| 1 | 2 | 1 | 3 | 0 | 0 | 0 |   \r\n| 2 | 0 | 3 | 0 | 2 | 0 | 0 |    \r\n","title":"Semester wise results and display cgpa count by range","body":"<p>How to calculate grade wise counts by semester and grade range.</p>\n<p>I am having tables, fields and data as follows:</p>\n<p><strong>SEMETSER</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>SEMISTER_NO</th>\n<th>NAME</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>FIRST</td>\n</tr>\n<tr>\n<td>2</td>\n<td>SECOND</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>STUDENT_SEMETSER</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>STUDENT_NO</th>\n<th>SEMESTER_NO</th>\n<th>SCORE</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>9.8</td>\n</tr>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>9.2</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1</td>\n<td>8.8</td>\n</tr>\n<tr>\n<td>4</td>\n<td>1</td>\n<td>7.8</td>\n</tr>\n<tr>\n<td>5</td>\n<td>1</td>\n<td>7.5</td>\n</tr>\n<tr>\n<td>6</td>\n<td>1</td>\n<td>7.2</td>\n</tr>\n<tr>\n<td>7</td>\n<td>2</td>\n<td>8.8</td>\n</tr>\n<tr>\n<td>8</td>\n<td>2</td>\n<td>8.2</td>\n</tr>\n<tr>\n<td>9</td>\n<td>2</td>\n<td>8.8</td>\n</tr>\n<tr>\n<td>10</td>\n<td>2</td>\n<td>6.8</td>\n</tr>\n<tr>\n<td>11</td>\n<td>2</td>\n<td>6.5</td>\n</tr>\n<tr>\n<td>12</td>\n<td>2</td>\n<td>6.2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>RESULTS Expected:</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>SEMESTER_NO</th>\n<th>SCORE 10-9</th>\n<th>SCORE 9-8</th>\n<th>8-7</th>\n<th>7-6</th>\n<th>6-5</th>\n<th>5-4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>2</td>\n<td>1</td>\n<td>3</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>2</td>\n<td>0</td>\n<td>3</td>\n<td>0</td>\n<td>2</td>\n<td>0</td>\n<td>0</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","json","algorithm","design-patterns","jsonparser"],"comments":[{"owner":{"account_id":20410134,"reputation":2766,"user_id":14973743,"display_name":"Anand Sowmithiran"},"score":0,"creation_date":1638193362,"post_id":70151088,"comment_id":124015378,"body_markdown":"IDEs like Visual Studio support generating classes when we `paste JSON string`, to make this kind of work easier. Check if any of the Java IDEs support that as well.","body":"IDEs like Visual Studio support generating classes when we <code>paste JSON string</code>, to make this kind of work easier. Check if any of the Java IDEs support that as well."},{"owner":{"account_id":20410134,"reputation":2766,"user_id":14973743,"display_name":"Anand Sowmithiran"},"score":0,"creation_date":1638193574,"post_id":70151088,"comment_id":124015466,"body_markdown":"you could check out these https://github.com/joelittlejohn/jsonschema2pojo, https://json2csharp.com/json-to-pojo","body":"you could check out these <a href=\"https://github.com/joelittlejohn/jsonschema2pojo\" rel=\"nofollow noreferrer\">github.com/joelittlejohn/jsonschema2pojo</a>, <a href=\"https://json2csharp.com/json-to-pojo\" rel=\"nofollow noreferrer\">json2csharp.com/json-to-pojo</a>"},{"owner":{"account_id":21034389,"reputation":67,"user_id":15458086,"display_name":"Subhadip Gupta"},"score":0,"creation_date":1638249012,"post_id":70151088,"comment_id":124031599,"body_markdown":"@AnandSowmithiran Thank you for the information, what exactly I am looking for is a way to filter a JSON document based on a predefined JSON spec sheet / JSON mapping document. So is there a readymade utility that will read the JSON spec document and filter the input JSON document and produce a output JSON document as mentioned in the example.","body":"@AnandSowmithiran Thank you for the information, what exactly I am looking for is a way to filter a JSON document based on a predefined JSON spec sheet / JSON mapping document. So is there a readymade utility that will read the JSON spec document and filter the input JSON document and produce a output JSON document as mentioned in the example."},{"owner":{"account_id":20410134,"reputation":2766,"user_id":14973743,"display_name":"Anand Sowmithiran"},"score":0,"creation_date":1638252703,"post_id":70151088,"comment_id":124032377,"body_markdown":"ok, understood. check if this library named [jolt](https://github.com/bazaarvoice/jolt#jolt) meets your requirement.","body":"ok, understood. check if this library named <a href=\"https://github.com/bazaarvoice/jolt#jolt\" rel=\"nofollow noreferrer\">jolt</a> meets your requirement."},{"owner":{"account_id":21034389,"reputation":67,"user_id":15458086,"display_name":"Subhadip Gupta"},"score":0,"creation_date":1638863277,"post_id":70151088,"comment_id":124194148,"body_markdown":"Yes, going through the document and looks like it&#39;s going to be useful for the requirement. Thank you.","body":"Yes, going through the document and looks like it&#39;s going to be useful for the requirement. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":20410134,"reputation":2766,"user_id":14973743,"display_name":"Anand Sowmithiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638864331,"creation_date":1638864331,"answer_id":70256726,"question_id":70151088,"body_markdown":"The request is for a way to filter a JSON document based on a predefined JSON spec sheet / JSON mapping document. The [jolt](https://github.com/bazaarvoice/jolt#jolt) library would likely be able to meet this requirement.","title":"Parse JSON document based on predefined JSON mapping document in Java","body":"<p>The request is for a way to filter a JSON document based on a predefined JSON spec sheet / JSON mapping document. The <a href=\"https://github.com/bazaarvoice/jolt#jolt\" rel=\"nofollow noreferrer\">jolt</a> library would likely be able to meet this requirement.</p>\n"}],"owner":{"account_id":21034389,"reputation":67,"user_id":15458086,"display_name":"Subhadip Gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70256726,"answer_count":1,"score":0,"last_activity_date":1638864331,"creation_date":1638171297,"question_id":70151088,"body_markdown":"I want to get some idea if there is any **library in Java** that I can use to **filter** a **JSON document based on a predefined JSON mapping document**, or only way to achieve this is to write custom java code.\r\n\r\nIf it&#39;s required to write Java custom code what type of **design pattern or data structure** I should follow. Any advice will be very much appreciated.\r\n\r\nExample -\r\n\r\n**Input JSON document -**\r\n\r\n    {\r\n      &quot;basicInfo&quot;: {\r\n        &quot;name&quot;: &quot;name&quot;,\r\n        &quot;age&quot;: &quot;25&quot;,\r\n        &quot;address&quot;: &quot;address&quot;\r\n      },\r\n      &quot;education&quot;: [\r\n        {\r\n          &quot;ug&quot;: {\r\n            &quot;unversity&quot;: &quot;university&quot;,\r\n            &quot;major&quot;: [\r\n              &quot;cs&quot;,\r\n              &quot;ds&quot;\r\n            ],\r\n            &quot;year&quot;: &quot;2012&quot;\r\n          },\r\n          &quot;pg&quot;: {\r\n            &quot;unversity&quot;: &quot;university&quot;,\r\n            &quot;major&quot;: [\r\n              &quot;cs&quot;,\r\n              &quot;ds&quot;\r\n            ],\r\n            &quot;year&quot;: &quot;2015&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\n**Predefined JSON mapping document (Can be defined in any JSON format, below is one such example that I have created) -**\r\n\r\n    {\r\n        &quot;definitions&quot;: {\r\n          &quot;basicInfo&quot;: {\r\n            &quot;maxOccurance&quot;: &quot;1&quot;,\r\n            &quot;fields&quot;: [\r\n              {\r\n                &quot;key&quot;: &quot;name&quot;,\r\n                &quot;type&quot;: &quot;S&quot;,\r\n                &quot;lenght&quot;: &quot;50&quot;,\r\n                &quot;usage&quot;: &quot;M&quot;,\r\n                &quot;maxOccurrance&quot;: &quot;1&quot;\r\n              },\r\n              {\r\n                &quot;key&quot;: &quot;age&quot;,\r\n                &quot;type&quot;: &quot;S&quot;,\r\n                &quot;lenght&quot;: &quot;3&quot;,\r\n                &quot;usage&quot;: &quot;O&quot;,\r\n                &quot;maxOccurrance&quot;: &quot;1&quot;\r\n              }\r\n            ]\r\n          },\r\n          &quot;education&quot;: {\r\n            &quot;maxOccurance&quot;: &quot;10&quot;,\r\n            &quot;fields&quot;: [\r\n              {\r\n                &quot;pg&quot;: {\r\n                  &quot;maxOccurance&quot;: &quot;1&quot;,\r\n                  &quot;fields&quot;: [\r\n                    {\r\n                      &quot;key&quot;: &quot;university&quot;,\r\n                      &quot;type&quot;: &quot;S&quot;,\r\n                      &quot;lenght&quot;: &quot;50&quot;,\r\n                      &quot;usage&quot;: &quot;M&quot;,\r\n                      &quot;maxOccurrance&quot;: &quot;1&quot;\r\n                    },\r\n                    {\r\n                      &quot;key&quot;: &quot;major&quot;,\r\n                      &quot;type&quot;: &quot;S&quot;,\r\n                      &quot;lenght&quot;: &quot;3&quot;,\r\n                      &quot;usage&quot;: &quot;O&quot;,\r\n                      &quot;maxOccurrance&quot;: &quot;1&quot;\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      }\r\n\r\n**Expected output JSON document**\r\n\r\n    {\r\n        &quot;basicInfo&quot;: {\r\n          &quot;name&quot;: &quot;name&quot;,\r\n          &quot;age&quot;: &quot;25&quot;\r\n        },\r\n        &quot;education&quot;: [\r\n          {\r\n            &quot;pg&quot;: {\r\n              &quot;unversity&quot;: &quot;university&quot;,\r\n              &quot;major&quot;: &quot;cs&quot;\r\n            }\r\n          }\r\n        ]\r\n      }","title":"Parse JSON document based on predefined JSON mapping document in Java","body":"<p>I want to get some idea if there is any <strong>library in Java</strong> that I can use to <strong>filter</strong> a <strong>JSON document based on a predefined JSON mapping document</strong>, or only way to achieve this is to write custom java code.</p>\n<p>If it's required to write Java custom code what type of <strong>design pattern or data structure</strong> I should follow. Any advice will be very much appreciated.</p>\n<p>Example -</p>\n<p><strong>Input JSON document -</strong></p>\n<pre><code>{\n  &quot;basicInfo&quot;: {\n    &quot;name&quot;: &quot;name&quot;,\n    &quot;age&quot;: &quot;25&quot;,\n    &quot;address&quot;: &quot;address&quot;\n  },\n  &quot;education&quot;: [\n    {\n      &quot;ug&quot;: {\n        &quot;unversity&quot;: &quot;university&quot;,\n        &quot;major&quot;: [\n          &quot;cs&quot;,\n          &quot;ds&quot;\n        ],\n        &quot;year&quot;: &quot;2012&quot;\n      },\n      &quot;pg&quot;: {\n        &quot;unversity&quot;: &quot;university&quot;,\n        &quot;major&quot;: [\n          &quot;cs&quot;,\n          &quot;ds&quot;\n        ],\n        &quot;year&quot;: &quot;2015&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p><strong>Predefined JSON mapping document (Can be defined in any JSON format, below is one such example that I have created) -</strong></p>\n<pre><code>{\n    &quot;definitions&quot;: {\n      &quot;basicInfo&quot;: {\n        &quot;maxOccurance&quot;: &quot;1&quot;,\n        &quot;fields&quot;: [\n          {\n            &quot;key&quot;: &quot;name&quot;,\n            &quot;type&quot;: &quot;S&quot;,\n            &quot;lenght&quot;: &quot;50&quot;,\n            &quot;usage&quot;: &quot;M&quot;,\n            &quot;maxOccurrance&quot;: &quot;1&quot;\n          },\n          {\n            &quot;key&quot;: &quot;age&quot;,\n            &quot;type&quot;: &quot;S&quot;,\n            &quot;lenght&quot;: &quot;3&quot;,\n            &quot;usage&quot;: &quot;O&quot;,\n            &quot;maxOccurrance&quot;: &quot;1&quot;\n          }\n        ]\n      },\n      &quot;education&quot;: {\n        &quot;maxOccurance&quot;: &quot;10&quot;,\n        &quot;fields&quot;: [\n          {\n            &quot;pg&quot;: {\n              &quot;maxOccurance&quot;: &quot;1&quot;,\n              &quot;fields&quot;: [\n                {\n                  &quot;key&quot;: &quot;university&quot;,\n                  &quot;type&quot;: &quot;S&quot;,\n                  &quot;lenght&quot;: &quot;50&quot;,\n                  &quot;usage&quot;: &quot;M&quot;,\n                  &quot;maxOccurrance&quot;: &quot;1&quot;\n                },\n                {\n                  &quot;key&quot;: &quot;major&quot;,\n                  &quot;type&quot;: &quot;S&quot;,\n                  &quot;lenght&quot;: &quot;3&quot;,\n                  &quot;usage&quot;: &quot;O&quot;,\n                  &quot;maxOccurrance&quot;: &quot;1&quot;\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  }\n</code></pre>\n<p><strong>Expected output JSON document</strong></p>\n<pre><code>{\n    &quot;basicInfo&quot;: {\n      &quot;name&quot;: &quot;name&quot;,\n      &quot;age&quot;: &quot;25&quot;\n    },\n    &quot;education&quot;: [\n      {\n        &quot;pg&quot;: {\n          &quot;unversity&quot;: &quot;university&quot;,\n          &quot;major&quot;: &quot;cs&quot;\n        }\n      }\n    ]\n  }\n</code></pre>\n"},{"tags":["java","antlr","antlr4"],"comments":[{"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"score":0,"creation_date":1638844117,"post_id":70253826,"comment_id":124190396,"body_markdown":"It appears that your ANTLR jar is not in the classpath at runtime (this is not the same as being in the classpath at compile time, which had to be correct to get a clean compile)","body":"It appears that your ANTLR jar is not in the classpath at runtime (this is not the same as being in the classpath at compile time, which had to be correct to get a clean compile)"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1638857509,"post_id":70253826,"comment_id":124192636,"body_markdown":"Hi @HARPREET above issue occurs when having class conflict during runtime. this issue can occur either 2 jars having same name and during compilation 1st jar pointed with correct import and during runtime it&#39;s referring to another path.\n\nPlease do clean and extract jar to see actual class is available on requested path or not.","body":"Hi @HARPREET above issue occurs when having class conflict during runtime. this issue can occur either 2 jars having same name and during compilation 1st jar pointed with correct import and during runtime it&#39;s referring to another path.  Please do clean and extract jar to see actual class is available on requested path or not."},{"owner":{"account_id":17591668,"reputation":11,"user_id":17608743,"display_name":"HARPREET"},"score":0,"creation_date":1638949115,"post_id":70253826,"comment_id":124220656,"body_markdown":"Hello @RaushanKumar I did clean and export jar and then tried to execute it in the command prompt and got the following error: Error: LinkageError occurred while loading main class app.ExpressionApp\n        java.lang.UnsupportedClassVersionError: app/ExpressionApp has been compiled by a more recent version of the Java Runtime (class file version 60.0), this version of the Java Runtime only recognizes class file versions up to 55.0.   I recently downloaded the java file that allowed me to use javac, however I already had an java file with jre, is this the one that I might need to updata?","body":"Hello @RaushanKumar I did clean and export jar and then tried to execute it in the command prompt and got the following error: Error: LinkageError occurred while loading main class app.ExpressionApp         java.lang.UnsupportedClassVersionError: app/ExpressionApp has been compiled by a more recent version of the Java Runtime (class file version 60.0), this version of the Java Runtime only recognizes class file versions up to 55.0.   I recently downloaded the java file that allowed me to use javac, however I already had an java file with jre, is this the one that I might need to updata?"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1638949416,"post_id":70253826,"comment_id":124220753,"body_markdown":"yeah, you just need to set the current java version to 55.0, then it will work.\nPlease go through the below post.\nhttps://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers","body":"yeah, you just need to set the current java version to 55.0, then it will work. Please go through the below post. <a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\" title=\"list of java class file format major version numbers\">stackoverflow.com/questions/9170832/&hellip;</a>"}],"owner":{"account_id":17591668,"reputation":11,"user_id":17608743,"display_name":"HARPREET"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638864098,"creation_date":1638839616,"question_id":70253826,"body_markdown":"I got this error message have been browsing for a long time and still couldn&#39;t find the reason or the fix for it.\r\n\r\nHere is the Error message I am getting:\r\n\r\n&gt; Error: Unable to initialize main class app.ExpressionApp Caused by: java.lang.NoClassDefFoundError: org/antlr/v4/runtime/tree/ParseTree\r\n\r\nHere is the image of my directories (the folder I am trying to run is the visitor one):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd here is the ExpressionApp class content\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package app;\r\n\r\n    import java.io.IOException;\r\n\r\n    import org.antlr.v4.runtime.*;\r\n    import org.antlr.v4.runtime.tree.*;\r\n\r\n    import Expression.AntlrToProgram;\r\n    import Expression.ExpressionProcessor;\r\n    import Expression.Program;\r\n    import antlr.ExprLexer;\r\n    import antlr.ExprParser;\r\n\r\n    public class ExpressionApp {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tif(args.length != 1) {\r\n    \t\t\tSystem.err.print(&quot;Usage: file name&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tString fileName = args[0];\r\n    \t\t\tExprParser parser = getParser(fileName);\r\n    \t\t\t\r\n    \t\t\tParseTree antlrAST = parser.prog();\r\n    \t\t\t\r\n    \t\t\tAntlrToProgram progVisitor = new AntlrToProgram();\r\n    \t\t\tProgram prog = progVisitor.visit(antlrAST);\r\n    \t\t\t\r\n    \t\t\tif(progVisitor.semanticErrors.isEmpty()) {\r\n    \t\t\t\tExpressionProcessor ep = new ExpressionProcessor(prog.expressions);\r\n    \t\t\t\tfor(String evaluation: ep.getEvaluationResults()) {\r\n    \t\t\t\t\tSystem.out.println(evaluation);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tfor(String err: progVisitor.semanticErrors) {\r\n    \t\t\t\t\tSystem.out.println(err); \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n\r\n    \t}\r\n\r\n    \tprivate static ExprParser getParser(String fileName) {\r\n    \t\tExprParser parser = null;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tCharStream input = CharStreams.fromFileName(fileName);\r\n    \t\t\tExprLexer lexer = new ExprLexer(input);\r\n    \t\t\tCommonTokenStream tokens = new CommonTokenStream(lexer);\r\n    \t\t\tparser = new ExprParser(tokens);\r\n    \t\t\t\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn parser;\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI have checked whether I have imported any wrong antlr files and nothing was foud\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nSNbl.png","title":"Error: Unable to initialize main class app.ExpressionApp Caused by: java.lang.NoClassDefFoundError: org/antlr/v4/runtime/tree/ParseTree","body":"<p>I got this error message have been browsing for a long time and still couldn't find the reason or the fix for it.</p>\n<p>Here is the Error message I am getting:</p>\n<blockquote>\n<p>Error: Unable to initialize main class app.ExpressionApp Caused by: java.lang.NoClassDefFoundError: org/antlr/v4/runtime/tree/ParseTree</p>\n</blockquote>\n<p>Here is the image of my directories (the folder I am trying to run is the visitor one):</p>\n<p><a href=\"https://i.stack.imgur.com/nSNbl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nSNbl.png\" alt=\"enter image description here\" /></a></p>\n<p>And here is the ExpressionApp class content</p>\n<pre class=\"lang-java prettyprint-override\"><code>package app;\n\nimport java.io.IOException;\n\nimport org.antlr.v4.runtime.*;\nimport org.antlr.v4.runtime.tree.*;\n\nimport Expression.AntlrToProgram;\nimport Expression.ExpressionProcessor;\nimport Expression.Program;\nimport antlr.ExprLexer;\nimport antlr.ExprParser;\n\npublic class ExpressionApp {\n\n    public static void main(String[] args) {\n        if(args.length != 1) {\n            System.err.print(&quot;Usage: file name&quot;);\n        }\n        else {\n            String fileName = args[0];\n            ExprParser parser = getParser(fileName);\n            \n            ParseTree antlrAST = parser.prog();\n            \n            AntlrToProgram progVisitor = new AntlrToProgram();\n            Program prog = progVisitor.visit(antlrAST);\n            \n            if(progVisitor.semanticErrors.isEmpty()) {\n                ExpressionProcessor ep = new ExpressionProcessor(prog.expressions);\n                for(String evaluation: ep.getEvaluationResults()) {\n                    System.out.println(evaluation);\n                }\n            }\n            else {\n                for(String err: progVisitor.semanticErrors) {\n                    System.out.println(err); \n                }\n            }\n        }\n\n    }\n\n    private static ExprParser getParser(String fileName) {\n        ExprParser parser = null;\n        \n        try {\n            CharStream input = CharStreams.fromFileName(fileName);\n            ExprLexer lexer = new ExprLexer(input);\n            CommonTokenStream tokens = new CommonTokenStream(lexer);\n            parser = new ExprParser(tokens);\n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n        return parser;\n    }\n}\n</code></pre>\n\n<p>I have checked whether I have imported any wrong antlr files and nothing was foud</p>\n"},{"tags":["java","jpa","annotations"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1638831976,"post_id":70252878,"comment_id":124188303,"body_markdown":"Can&#39;t you call it on construction?","body":"Can&#39;t you call it on construction?"},{"owner":{"account_id":15910003,"reputation":531,"user_id":11480186,"display_name":"Nickname11"},"score":0,"creation_date":1638832645,"post_id":70252878,"comment_id":124188442,"body_markdown":"@shmosel Sorry, my mistake. I meant when entity is persisted (I&#39;ve already edited my question)","body":"@shmosel Sorry, my mistake. I meant when entity is persisted (I&#39;ve already edited my question)"}],"answers":[{"tags":[],"owner":{"account_id":4116401,"reputation":1189,"user_id":3377836,"accept_rate":62,"display_name":"frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638838780,"creation_date":1638838780,"answer_id":70253748,"question_id":70252878,"body_markdown":"does `after` point cut of spring aop can solve your problem?","title":"Is there an Annotation for method, to work as a trigger in Java Spring?","body":"<p>does <code>after</code> point cut of spring aop can solve your problem?</p>\n"},{"tags":[],"owner":{"account_id":182885,"reputation":121,"user_id":417905,"display_name":"Matt Vickery"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638839224,"creation_date":1638839224,"answer_id":70253788,"question_id":70252878,"body_markdown":"You could consider using entity validation annotations directly on your entity objects, e.g. hibernate entity annotations. If you register your entity validator, these can be called automatically prior to entity save.","title":"Is there an Annotation for method, to work as a trigger in Java Spring?","body":"<p>You could consider using entity validation annotations directly on your entity objects, e.g. hibernate entity annotations. If you register your entity validator, these can be called automatically prior to entity save.</p>\n"},{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638843857,"creation_date":1638843857,"answer_id":70254213,"question_id":70252878,"body_markdown":"I think you are looking for this\r\n\r\nhttps://www.baeldung.com/jpa-entity-lifecycle-events\r\n\r\nSo you can use `@PostPersist` inside your entity\r\n\r\n","title":"Is there an Annotation for method, to work as a trigger in Java Spring?","body":"<p>I think you are looking for this</p>\n<p><a href=\"https://www.baeldung.com/jpa-entity-lifecycle-events\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-entity-lifecycle-events</a></p>\n<p>So you can use <code>@PostPersist</code> inside your entity</p>\n"}],"owner":{"account_id":15910003,"reputation":531,"user_id":11480186,"display_name":"Nickname11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70254213,"answer_count":3,"score":2,"last_activity_date":1638864002,"creation_date":1638830667,"question_id":70252878,"body_markdown":"I would like to execute certain method every time a specific Entity is persisted. This method should perform some kind of checking on entity object, so its need a access to this specific object.\r\n\r\nIs there an Annotation, or other method allowing me to do so? Basically, it should be working like some kind of trigger.","title":"Is there an Annotation for method, to work as a trigger in Java Spring?","body":"<p>I would like to execute certain method every time a specific Entity is persisted. This method should perform some kind of checking on entity object, so its need a access to this specific object.</p>\n<p>Is there an Annotation, or other method allowing me to do so? Basically, it should be working like some kind of trigger.</p>\n"},{"tags":["java","tomcat","web-applications","tomcat10"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1638863774,"post_id":70256542,"comment_id":124194338,"body_markdown":"Tomcat 10 is JakartaEE **not** JavaEE.","body":"Tomcat 10 is JakartaEE <b>not</b> JavaEE."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1638869672,"post_id":70256542,"comment_id":124196293,"body_markdown":"Thank you for the quick response. Switching my project and dependencies from JavaEE to JakartaEE actually helped. It effectively means to compile versus jakarta.servlet. I was not aware about that huge breach.","body":"Thank you for the quick response. Switching my project and dependencies from JavaEE to JakartaEE actually helped. It effectively means to compile versus jakarta.servlet. I was not aware about that huge breach."}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638863810,"answer_count":0,"score":0,"last_activity_date":1638863842,"creation_date":1638863315,"question_id":70256542,"body_markdown":"I am trying to build a webapplication project using Netbeans 12.4 and Tomcat 10.0.13.\r\nAnd I am surprised to see my project compile well but the context listener is never invoked. Instead I see messages like\r\n\r\n    java.lang.NoClassDefFoundError: javax/servlet/ServletContextListener\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletContextListener\r\n\r\nin the logs. My war does not bundle servet API and solutions as with https://stackoverflow.com/questions/7849452/classnotfoundexception-with-servletcontextlistener seem to not work, so I went another path and tried to find the ServletContextListener class in the Tomcat installation. And found it in ${CATALINA_HOME}/lib/servlet-api.jar. So far so good.\r\n\r\nBut when I inspected the jar further, the fully qualified class name is `jakarta.servlet.ServletContextListener`. Alarmed, I searched on and found https://tomcat.apache.org/tomcat-10.0-doc/servletapi/index.html?jakarta/servlet/ServletContextListener.html\r\n\r\nThis does not look like a glitch, does it? But then, how am I expected to write a Java webapplication? Should I compile versus `javax.servlet.XXX` or `jakarta.servlet.XXX` ?","title":"ClassNotFoundException with ServletContextlistener on Tomcat 10","body":"<p>I am trying to build a webapplication project using Netbeans 12.4 and Tomcat 10.0.13.\nAnd I am surprised to see my project compile well but the context listener is never invoked. Instead I see messages like</p>\n<pre><code>java.lang.NoClassDefFoundError: javax/servlet/ServletContextListener\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletContextListener\n</code></pre>\n<p>in the logs. My war does not bundle servet API and solutions as with <a href=\"https://stackoverflow.com/questions/7849452/classnotfoundexception-with-servletcontextlistener\">ClassNotFoundException with ServletContextlistener</a> seem to not work, so I went another path and tried to find the ServletContextListener class in the Tomcat installation. And found it in ${CATALINA_HOME}/lib/servlet-api.jar. So far so good.</p>\n<p>But when I inspected the jar further, the fully qualified class name is <code>jakarta.servlet.ServletContextListener</code>. Alarmed, I searched on and found <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/servletapi/index.html?jakarta/servlet/ServletContextListener.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-10.0-doc/servletapi/index.html?jakarta/servlet/ServletContextListener.html</a></p>\n<p>This does not look like a glitch, does it? But then, how am I expected to write a Java webapplication? Should I compile versus <code>javax.servlet.XXX</code> or <code>jakarta.servlet.XXX</code> ?</p>\n"},{"tags":["java","aws-lambda","amazon-sqs"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1609673536,"post_id":65548170,"comment_id":115890634,"body_markdown":"In case of partial batch processing failure there is no other way other than manually deleting those messages that were successful and letting the other messages time out in terms of their visibility timeout and letting sqs redeliver them. You *could* update the visibility timeout of the failed message such that the visibility timeout happens sooner. Alternatively you have to build your code / infrastructure in a way that handling the same message multiple times is no issue, e.g. because it was part of a batch that failed later on. And no, there is no value to return that means anything.","body":"In case of partial batch processing failure there is no other way other than manually deleting those messages that were successful and letting the other messages time out in terms of their visibility timeout and letting sqs redeliver them. You <i>could</i> update the visibility timeout of the failed message such that the visibility timeout happens sooner. Alternatively you have to build your code / infrastructure in a way that handling the same message multiple times is no issue, e.g. because it was part of a batch that failed later on. And no, there is no value to return that means anything."},{"owner":{"account_id":7449413,"reputation":23,"user_id":5664694,"display_name":"Pawe Wiszniewski"},"score":0,"creation_date":1609675243,"post_id":65548170,"comment_id":115891093,"body_markdown":"Thanks! ProcessMessages method already handles removing processed messages from SQS, so with this part I have no problem. I just wonder if there is some other way to finish the handleRequest method in some other/more elegant way then just throwing an Exception in case of any problems.","body":"Thanks! ProcessMessages method already handles removing processed messages from SQS, so with this part I have no problem. I just wonder if there is some other way to finish the handleRequest method in some other/more elegant way then just throwing an Exception in case of any problems."}],"answers":[{"tags":[],"owner":{"account_id":6201789,"reputation":1940,"user_id":4831297,"display_name":"s.hesse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609676344,"creation_date":1609676344,"answer_id":65549768,"question_id":65548170,"body_markdown":"1. No, you don&#39;t need to return anything special. The returned data is only relevant for other Lambda integrations, e.g. in combination with API Gateway.\r\n\r\n2. I think there&#39;s no better way than throwing an exception in case of an error. From the AWS docs:\r\n&gt; If your function successfully processes the batch, Lambda deletes the messages from the queue. If your function is throttled, returns an error, or doesn&#39;t respond, the message becomes visible again. All messages in a failed batch return to the queue, so your function code must be able to process the same message multiple times without side effects.\r\n\r\nSource: [Using AWS Lambda with Amazon SQS](https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html)\r\n\r\nMy suggestions for you in case you don&#39;t want to reprocess messages multiple times:\r\n\r\n1. Delete all successful messages (immediately) from the queue.\r\n2. If one or more messages fail, throw an exception in your Lambda function. If you don&#39;t throw an exception, the Lambda service thinks everything went fine and deletes all messages of the batch from the queue - this is not what you want.","title":"AWS Lambda and SQS: failure reporting","body":"<ol>\n<li><p>No, you don't need to return anything special. The returned data is only relevant for other Lambda integrations, e.g. in combination with API Gateway.</p>\n</li>\n<li><p>I think there's no better way than throwing an exception in case of an error. From the AWS docs:</p>\n</li>\n</ol>\n<blockquote>\n<p>If your function successfully processes the batch, Lambda deletes the messages from the queue. If your function is throttled, returns an error, or doesn't respond, the message becomes visible again. All messages in a failed batch return to the queue, so your function code must be able to process the same message multiple times without side effects.</p>\n</blockquote>\n<p>Source: <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html\" rel=\"nofollow noreferrer\">Using AWS Lambda with Amazon SQS</a></p>\n<p>My suggestions for you in case you don't want to reprocess messages multiple times:</p>\n<ol>\n<li>Delete all successful messages (immediately) from the queue.</li>\n<li>If one or more messages fail, throw an exception in your Lambda function. If you don't throw an exception, the Lambda service thinks everything went fine and deletes all messages of the batch from the queue - this is not what you want.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":296389,"reputation":166,"user_id":601318,"display_name":"Cristian G"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638863237,"creation_date":1638863237,"answer_id":70256534,"question_id":65548170,"body_markdown":"There seems to be support now for partial failures when consuming SQS messages from Lambda: https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html#services-sqs-batchfailurereporting","title":"AWS Lambda and SQS: failure reporting","body":"<p>There seems to be support now for partial failures when consuming SQS messages from Lambda: <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html#services-sqs-batchfailurereporting\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html#services-sqs-batchfailurereporting</a></p>\n"}],"owner":{"account_id":7449413,"reputation":23,"user_id":5664694,"display_name":"Pawe Wiszniewski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1701,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70256534,"answer_count":2,"score":2,"last_activity_date":1638863237,"creation_date":1609664830,"question_id":65548170,"body_markdown":"It&#39;s more of a &quot;best practice&quot; or &quot;am I doing it right&quot; question, but I can&#39;t find the answer anywhere on the Internet. \r\nI&#39;m preparing an AWS Lambda (Java), which will be triggered by SQS events. It will receive up to 10 events and process them. If some of the events will not be processed correctly (dependent on external services), it will remove processed events from the SQS queue. Nothing very fancy really :)\r\nQuestion is - how should I finish the execution of the lambda in case of failure in the processing of the batch (either partial or full).\r\n\r\nCode for Lambda handler looks like this:\r\n\r\n```java\r\npublic class LambdaHandler implements RequestHandler&lt;SQSEvent, Void&gt; {\r\n\r\n    private final CopierComponent copierComponent;\r\n\r\n    public LambdaHandler() {\r\n        this.copierComponent = DaggerCopierComponent.builder().build();\r\n    }\r\n\r\n    @Override\r\n    public Void handleRequest(SQSEvent sqsEvent, Context context) {\r\n        context.getLogger().log(&quot;entering the function&quot;);\r\n        copierComponent.ldpDynamoToEsCopier().processMessages(sqsEvent);\r\n        return null;\r\n    }\r\n}\r\n```\r\nQuestions:\r\n\r\n1) In case of success, LambdaHandler will just return null. Should it return anything else? Some kind of LambdaResponse with code 200? Some examples propose String &quot;200 OK&quot;, but does it really matter?\r\n\r\n2) In case of failure, `processMessages` will first remove processed messages from SQS, then raise an exception (BatchProcessingFailure). SQS will not receive any response, so after visibility timeout, it will return not processed messages back to the queue (there is a DLQ configured as well).\r\n\r\nI don&#39;t like this method though. Is there some other method of returning some value or finishing lambda with a failed state? Some kind of LambdaResponse with code 500, that would inform SQS to not to remove messages and return them to queue?","title":"AWS Lambda and SQS: failure reporting","body":"<p>It's more of a &quot;best practice&quot; or &quot;am I doing it right&quot; question, but I can't find the answer anywhere on the Internet.\nI'm preparing an AWS Lambda (Java), which will be triggered by SQS events. It will receive up to 10 events and process them. If some of the events will not be processed correctly (dependent on external services), it will remove processed events from the SQS queue. Nothing very fancy really :)\nQuestion is - how should I finish the execution of the lambda in case of failure in the processing of the batch (either partial or full).</p>\n<p>Code for Lambda handler looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LambdaHandler implements RequestHandler&lt;SQSEvent, Void&gt; {\n\n    private final CopierComponent copierComponent;\n\n    public LambdaHandler() {\n        this.copierComponent = DaggerCopierComponent.builder().build();\n    }\n\n    @Override\n    public Void handleRequest(SQSEvent sqsEvent, Context context) {\n        context.getLogger().log(&quot;entering the function&quot;);\n        copierComponent.ldpDynamoToEsCopier().processMessages(sqsEvent);\n        return null;\n    }\n}\n</code></pre>\n<p>Questions:</p>\n<ol>\n<li><p>In case of success, LambdaHandler will just return null. Should it return anything else? Some kind of LambdaResponse with code 200? Some examples propose String &quot;200 OK&quot;, but does it really matter?</p>\n</li>\n<li><p>In case of failure, <code>processMessages</code> will first remove processed messages from SQS, then raise an exception (BatchProcessingFailure). SQS will not receive any response, so after visibility timeout, it will return not processed messages back to the queue (there is a DLQ configured as well).</p>\n</li>\n</ol>\n<p>I don't like this method though. Is there some other method of returning some value or finishing lambda with a failed state? Some kind of LambdaResponse with code 500, that would inform SQS to not to remove messages and return them to queue?</p>\n"},{"tags":["java","spring","redirect","spring-mvc","request"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1331649642,"creation_date":1331649642,"answer_id":9686261,"question_id":9686219,"body_markdown":"You need a flash scope. It is already implemented from spring 3.1.RC1 onward - [see the request][1]\r\n\r\n\r\n  [1]: https://jira.springsource.org/browse/SPR-6464","title":"Spring MVC - keep request parameters after redirect","body":"<p>You need a flash scope. It is already implemented from spring 3.1.RC1 onward - <a href=\"https://jira.springsource.org/browse/SPR-6464\" rel=\"nofollow\">see the request</a></p>\n"},{"tags":[],"owner":{"account_id":67792,"reputation":5168,"user_id":198153,"accept_rate":96,"display_name":"chzbrgla"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638862796,"creation_date":1331657348,"answer_id":9688384,"question_id":9686219,"body_markdown":"Since the solutions suggested by Bozho where not quite satisfactory for my needs, I wrote a filter which does exactly what I want. Not sure if any problems might occur in future cases but until then, feel free to use my implementation:\r\n\r\n\r\n    @Service\r\n    public class RedirectFilter implements Filter {\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n\r\n        String queryString = ((HttpServletRequest) request).getQueryString();\r\n        if (queryString != null) {\r\n            RedirectAwareResponseWrapper res = new RedirectAwareResponseWrapper((HttpServletResponse) response);\r\n            chain.doFilter(request, res);\r\n            if (res.isRedirected()) {\r\n                ((HttpServletResponse) response).sendRedirect(res.getLocation() + &quot;?&quot; + queryString);\r\n            }\r\n        } else {\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n\r\n    class RedirectAwareResponseWrapper extends HttpServletResponseWrapper {\r\n\r\n        private boolean redirected = false;\r\n        private String location;\r\n\r\n        public RedirectAwareResponseWrapper(HttpServletResponse response) {\r\n            super(response);\r\n        }\r\n\r\n        @Override\r\n        public void sendRedirect(String location) throws IOException {\r\n            redirected = true;\r\n            this.location = location;\r\n            //IMPORTANT: don&#39;t call super() here\r\n        }\r\n\r\n        public boolean isRedirected() {\r\n            return redirected;\r\n        }\r\n\r\n        public String getLocation() {\r\n            return location;\r\n        }\r\n\r\n    }\r\n    }","title":"Spring MVC - keep request parameters after redirect","body":"<p>Since the solutions suggested by Bozho where not quite satisfactory for my needs, I wrote a filter which does exactly what I want. Not sure if any problems might occur in future cases but until then, feel free to use my implementation:</p>\n<pre><code>@Service\npublic class RedirectFilter implements Filter {\n\n@Override\npublic void init(FilterConfig filterConfig) throws ServletException {\n}\n\n@Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n\n    String queryString = ((HttpServletRequest) request).getQueryString();\n    if (queryString != null) {\n        RedirectAwareResponseWrapper res = new RedirectAwareResponseWrapper((HttpServletResponse) response);\n        chain.doFilter(request, res);\n        if (res.isRedirected()) {\n            ((HttpServletResponse) response).sendRedirect(res.getLocation() + &quot;?&quot; + queryString);\n        }\n    } else {\n        chain.doFilter(request, response);\n    }\n}\n\n@Override\npublic void destroy() {\n}\n\nclass RedirectAwareResponseWrapper extends HttpServletResponseWrapper {\n\n    private boolean redirected = false;\n    private String location;\n\n    public RedirectAwareResponseWrapper(HttpServletResponse response) {\n        super(response);\n    }\n\n    @Override\n    public void sendRedirect(String location) throws IOException {\n        redirected = true;\n        this.location = location;\n        //IMPORTANT: don't call super() here\n    }\n\n    public boolean isRedirected() {\n        return redirected;\n    }\n\n    public String getLocation() {\n        return location;\n    }\n\n}\n}\n</code></pre>\n"}],"owner":{"account_id":67792,"reputation":5168,"user_id":198153,"accept_rate":96,"display_name":"chzbrgla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7744,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9688384,"answer_count":2,"score":4,"last_activity_date":1638862796,"creation_date":1331649488,"question_id":9686219,"body_markdown":"I have a situation here where my frontend developer wants to add several parameters to every link. He needs those as parameters in the view where the link points to.\r\n\r\nEach `@Controller` method will return Strings only. This is backed by a standard viewresolver using said String as viewname:\r\n\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\r\n    \t\tp:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\r\n\r\nWhenever the Controller returns a `redirect:` however, the request parameters from the original request are dropped and he can not access them in the .jsp\r\n\r\nIs there any neat way to ensure that even after `redirect:`&#39;ing, the url parameters are present in the view which was redirected to?","title":"Spring MVC - keep request parameters after redirect","body":"<p>I have a situation here where my frontend developer wants to add several parameters to every link. He needs those as parameters in the view where the link points to.</p>\n\n<p>Each <code>@Controller</code> method will return Strings only. This is backed by a standard viewresolver using said String as viewname:</p>\n\n<pre><code>&lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"\n        p:prefix=\"/WEB-INF/jsp/\" p:suffix=\".jsp\" /&gt;\n</code></pre>\n\n<p>Whenever the Controller returns a <code>redirect:</code> however, the request parameters from the original request are dropped and he can not access them in the .jsp</p>\n\n<p>Is there any neat way to ensure that even after <code>redirect:</code>'ing, the url parameters are present in the view which was redirected to?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4250421,"reputation":13500,"user_id":4453262,"accept_rate":75,"display_name":"karthik manchala"},"score":0,"creation_date":1426421269,"post_id":29060364,"comment_id":46357052,"body_markdown":"you have all the data to perform what you what.. have you even tried anything?","body":"you have all the data to perform what you what.. have you even tried anything?"},{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":1,"creation_date":1426421643,"post_id":29060364,"comment_id":46357150,"body_markdown":"Eh, I see you expect that `FileWriter` should replace `&quot;dd/MM/yy....&quot;` with the date, this won&#39;t work.","body":"Eh, I see you expect that <code>FileWriter</code> should replace <code>&quot;dd&#47;MM&#47;yy....&quot;</code> with the date, this won&#39;t work."},{"owner":{"account_id":5911328,"reputation":37,"user_id":4651493,"accept_rate":80,"display_name":"Lewis"},"score":0,"creation_date":1426421656,"post_id":29060364,"comment_id":46357152,"body_markdown":"Yer i have tried it and it seems not to be working, the file isn&#39;t getting saved int he project folder unlike when just name serverlog.txt","body":"Yer i have tried it and it seems not to be working, the file isn&#39;t getting saved int he project folder unlike when just name serverlog.txt"}],"answers":[{"tags":[],"owner":{"account_id":2776979,"reputation":6304,"user_id":3657198,"accept_rate":100,"display_name":"Galya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638861817,"creation_date":1426421323,"answer_id":29060412,"question_id":29060364,"body_markdown":"Check how you can convert Date to String: &lt;http://kodejava.org/how-do-i-convert-date-to-string/&gt;\r\n\r\nIn your case the code should be:\r\n\r\n        DateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yy HH:mm:ss&quot;);\r\n        Date today = Calendar.getInstance().getTime();\r\n        String logDate = dateFormat.format(today);\r\n        logWriter = new BufferedWriter (new FileWriter(logDate + &quot;serverLog.txt&quot;, true));","title":"Java how to save a file with current date and time","body":"<p>Check how you can convert Date to String: <a href=\"http://kodejava.org/how-do-i-convert-date-to-string/\" rel=\"nofollow noreferrer\">http://kodejava.org/how-do-i-convert-date-to-string/</a></p>\n<p>In your case the code should be:</p>\n<pre><code>    DateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yy HH:mm:ss&quot;);\n    Date today = Calendar.getInstance().getTime();\n    String logDate = dateFormat.format(today);\n    logWriter = new BufferedWriter (new FileWriter(logDate + &quot;serverLog.txt&quot;, true));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3665959,"reputation":261,"user_id":3054396,"accept_rate":75,"display_name":"condorcraft110 II"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1426424254,"creation_date":1426421325,"answer_id":29060414,"question_id":29060364,"body_markdown":"Use SimpleDateFormat.\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yy HH-mm-ss&quot;);\r\n    Date date = new Date();\r\n    logWriter = new BufferedWriter(new FileWriter(dateFormat.format(date) + &quot; serverLog.log&quot;, true));\r\n\r\nThe way you have written it, you try to save the file as &#39; HH:mm:ss serverLog.txt&#39; in a directory called &#39;yy&#39;, in a directory called &#39;MM&#39;, in a directory called &#39;dd&#39;; it won&#39;t work because colons (`:`) are forbidden in filenames (at least on Windows)  because they mark drive letters.","title":"Java how to save a file with current date and time","body":"<p>Use SimpleDateFormat.</p>\n\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yy HH-mm-ss\");\nDate date = new Date();\nlogWriter = new BufferedWriter(new FileWriter(dateFormat.format(date) + \" serverLog.log\", true));\n</code></pre>\n\n<p>The way you have written it, you try to save the file as ' HH:mm:ss serverLog.txt' in a directory called 'yy', in a directory called 'MM', in a directory called 'dd'; it won't work because colons (<code>:</code>) are forbidden in filenames (at least on Windows)  because they mark drive letters.</p>\n"},{"tags":[],"owner":{"account_id":4250421,"reputation":13500,"user_id":4453262,"accept_rate":75,"display_name":"karthik manchala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426421470,"creation_date":1426421470,"answer_id":29060442,"question_id":29060364,"body_markdown":"    DateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yy/ HH:mm:ss&quot;);\r\n    Date today = Calendar.getInstance().getTime();        \r\n    String date= dateFormat .format(today);\r\n\r\n    logWriter = new BufferedWriter (new FileWriter  (date+&quot; serverLog.txt&quot;, true ));\r\n\r\nThere you go!","title":"Java how to save a file with current date and time","body":"<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"dd/MM/yy/ HH:mm:ss\");\nDate today = Calendar.getInstance().getTime();        \nString date= dateFormat .format(today);\n\nlogWriter = new BufferedWriter (new FileWriter  (date+\" serverLog.txt\", true ));\n</code></pre>\n\n<p>There you go!</p>\n"}],"owner":{"account_id":5911328,"reputation":37,"user_id":4651493,"accept_rate":80,"display_name":"Lewis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8246,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":29060414,"answer_count":3,"score":0,"last_activity_date":1638861817,"creation_date":1426420941,"question_id":29060364,"body_markdown":"I am trying to save the file in the project folder with the current date and time in the name.\r\n\r\n\r\nMy current code\r\n        \r\n         DateFormat dateFormat = new SimpleDateFormat(&quot;\\n dd/MM/yy/ HH:mm:ss&quot;);\r\n         Date date = new Date();\r\n         logWriter = new BufferedWriter (new FileWriter  (&quot;dd/MM/yy/ HH:mm:ss       serverLog.txt&#39;&quot;, true));\r\n\r\n\r\nBelow does the job and saves in the write place without date and time\r\n\r\n\r\n         logWriter = new BufferedWriter (new FileWriter  (&quot;serverLog.txt&quot;, true ));","title":"Java how to save a file with current date and time","body":"<p>I am trying to save the file in the project folder with the current date and time in the name.</p>\n\n<p>My current code</p>\n\n<pre><code>     DateFormat dateFormat = new SimpleDateFormat(\"\\n dd/MM/yy/ HH:mm:ss\");\n     Date date = new Date();\n     logWriter = new BufferedWriter (new FileWriter  (\"dd/MM/yy/ HH:mm:ss       serverLog.txt'\", true));\n</code></pre>\n\n<p>Below does the job and saves in the write place without date and time</p>\n\n<pre><code>     logWriter = new BufferedWriter (new FileWriter  (\"serverLog.txt\", true ));\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1638862336,"post_id":70256081,"comment_id":124193859,"body_markdown":"check this,https://stackoverflow.com/questions/37977839/android-compare-2-images-and-highlight-difference","body":"check this,<a href=\"https://stackoverflow.com/questions/37977839/android-compare-2-images-and-highlight-difference\" title=\"android compare 2 images and highlight difference\">stackoverflow.com/questions/37977839/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638861004,"creation_date":1638861004,"answer_id":70256139,"question_id":70256081,"body_markdown":"make some `CustomView extends View` and override [`onTouchEvent`](https://developer.android.com/reference/android/view/View#onTouchEvent(android.view.MotionEvent)) method. or handle all touch events in `Activity` by overriding [`dispatchTouchEvent`](https://developer.android.com/reference/android/app/Activity#dispatchTouchEvent(android.view.MotionEvent)). you can obtain precise point of touch/action with `getX()` and `getY()` methods of `MotionEvent` (which is an object passed to both methods mentioned above), now its your turn to do some math and calculate which item has been touched (by default `Activity` is dispatching touch events to its layout e.g. inflated from XML)","title":"Android find difference between two ImageView","body":"<p>make some <code>CustomView extends View</code> and override <a href=\"https://developer.android.com/reference/android/view/View#onTouchEvent(android.view.MotionEvent)\" rel=\"nofollow noreferrer\"><code>onTouchEvent</code></a> method. or handle all touch events in <code>Activity</code> by overriding <a href=\"https://developer.android.com/reference/android/app/Activity#dispatchTouchEvent(android.view.MotionEvent)\" rel=\"nofollow noreferrer\"><code>dispatchTouchEvent</code></a>. you can obtain precise point of touch/action with <code>getX()</code> and <code>getY()</code> methods of <code>MotionEvent</code> (which is an object passed to both methods mentioned above), now its your turn to do some math and calculate which item has been touched (by default <code>Activity</code> is dispatching touch events to its layout e.g. inflated from XML)</p>\n"}],"owner":{"account_id":22432578,"reputation":16,"user_id":16638237,"display_name":"Harnis Testing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638861004,"creation_date":1638860649,"question_id":70256081,"body_markdown":"I am developing a puzzle game like find differences on images in Android (Java).\r\nSo how can i know, where user touched on image, and is it right place where user touched.","title":"Android find difference between two ImageView","body":"<p>I am developing a puzzle game like find differences on images in Android (Java).\nSo how can i know, where user touched on image, and is it right place where user touched.</p>\n"},{"tags":["java","itext7","html2pdf"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1638861005,"post_id":70037767,"comment_id":124193439,"body_markdown":"`HtmlConverter` is a class from iText 7 so I edited your question (you mentioned iText 5 initially).","body":"<code>HtmlConverter</code> is a class from iText 7 so I edited your question (you mentioned iText 5 initially)."},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1638861018,"post_id":70037767,"comment_id":124193447,"body_markdown":"Have you installed [pdfCalligraph](https://itextpdf.com/en/products/itext-7/pdfcalligraph)?","body":"Have you installed <a href=\"https://itextpdf.com/en/products/itext-7/pdfcalligraph\" rel=\"nofollow noreferrer\">pdfCalligraph</a>?"}],"owner":{"account_id":13266759,"reputation":71,"user_id":9579278,"display_name":"Simo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638860964,"creation_date":1637338255,"question_id":70037767,"body_markdown":"I have tried to set Arabic font but the RTL is not working even though I set the direction from Right To Left in my HTML file.\r\nI have used FontProvider but still Arabic isn&#39;t working properly.\r\n\r\n// this is the result I got\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\t\r\n//that is the code I have used\r\n\r\n\r\n\tpublic static final String[] FONTS = { &quot;src/main/resources/fonts/noto/NotoNaskhArabic-Regular.ttf&quot;,\r\n\t\t\t&quot;src/main/resources/fonts/noto/arial.ttf&quot; };\r\n\r\n\r\n    String htmlString = null;\r\n    \t\ttry {\r\n    \t\t\thtmlString = FileUtils.readFileToString(htmlTemplateFile);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \r\n    \t\tConverterProperties properties = new ConverterProperties();\r\n    \t\t\r\n    \t\tFontProvider fontProvider = new DefaultFontProvider(false, false, false);\r\n    \t\tfor (String font : FONTS) {\r\n    \t\t\tFontProgram fontProgram = FontProgramFactory.createFont(font);\r\n    \t\t\tfontProvider.addFont(fontProgram);\r\n    \t\t}\r\n    \t\tproperties.setFontProvider(fontProvider);\r\n    \t\tproperties.setCharset(&quot;UTF-8&quot;);\r\n    \r\n    \t\tHtmlConverter.convertToPdf(htmlString, baos, properties);\r\n\r\n\r\n// that is a part of my html file\r\n\r\n\t&lt;table&gt;\r\n\t\t\t\t\t\t\t\t&lt;tbody&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;td dir=&quot;rtl&quot; style=&quot;font-family: Noto Naskh Arabic&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t          \r\n\t\t\t\t\t\t\t\t\t\t\t       &lt;/td&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;td&gt;J&#39;ai lu et j&#39;accepte les formes mentionn&#233;es au recto\r\n\t\t\t\t\t\t\t\t\t\t\tet verso de pr&#233;sent contrat et du carnet de bord&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;td dir=&quot;rtl&quot; style=&quot;font-family: Noto Naskh Arabic&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t %currentUserName%        \r\n\t\t\t\t\t\t\t\t\t\t\t    &lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;td&gt;La St&#233; %currentUserName% se r&#233;serve le plein droit de\r\n\t\t\t\t\t\t\t\t\t\t\tr&#233;cup&#233;rer la voiture &#224; tous moment sans justif ni indermnit&#233;&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t\t\t\t\t\t&lt;/tbody&gt;\r\n\t\t\t\t\t\t\t&lt;/table&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mturR.png","title":"Arabic letter in iText 7","body":"<p>I have tried to set Arabic font but the RTL is not working even though I set the direction from Right To Left in my HTML file.\nI have used FontProvider but still Arabic isn't working properly.</p>\n<p>// this is the result I got</p>\n<p><a href=\"https://i.stack.imgur.com/mturR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mturR.png\" alt=\"enter image description here\" /></a></p>\n<p>//that is the code I have used</p>\n<pre><code>public static final String[] FONTS = { &quot;src/main/resources/fonts/noto/NotoNaskhArabic-Regular.ttf&quot;,\n        &quot;src/main/resources/fonts/noto/arial.ttf&quot; };\n\n\nString htmlString = null;\n        try {\n            htmlString = FileUtils.readFileToString(htmlTemplateFile);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n        ConverterProperties properties = new ConverterProperties();\n        \n        FontProvider fontProvider = new DefaultFontProvider(false, false, false);\n        for (String font : FONTS) {\n            FontProgram fontProgram = FontProgramFactory.createFont(font);\n            fontProvider.addFont(fontProgram);\n        }\n        properties.setFontProvider(fontProvider);\n        properties.setCharset(&quot;UTF-8&quot;);\n\n        HtmlConverter.convertToPdf(htmlString, baos, properties);\n</code></pre>\n<p>// that is a part of my html file</p>\n<pre><code>&lt;table&gt;\n                            &lt;tbody&gt;\n                                &lt;tr&gt;\n                                    &lt;td dir=&quot;rtl&quot; style=&quot;font-family: Noto Naskh Arabic&quot;&gt;\n                                                  \n                                               &lt;/td&gt;\n\n                                &lt;/tr&gt;\n\n                                &lt;tr&gt;\n                                    &lt;td&gt;J'ai lu et j'accepte les formes mentionnes au recto\n                                        et verso de prsent contrat et du carnet de bord&lt;/td&gt;\n                                &lt;/tr&gt;\n\n                                &lt;tr&gt;\n                                    &lt;td dir=&quot;rtl&quot; style=&quot;font-family: Noto Naskh Arabic&quot;&gt;\n                                         %currentUserName%        \n                                            &lt;/td&gt;\n                                &lt;/tr&gt;\n\n                                &lt;tr&gt;\n                                    &lt;td&gt;La St %currentUserName% se rserve le plein droit de\n                                        rcuprer la voiture  tous moment sans justif ni indermnit&lt;/td&gt;\n                                &lt;/tr&gt;\n\n                            &lt;/tbody&gt;\n                        &lt;/table&gt;\n</code></pre>\n"},{"tags":["java","android","selenium","browser-automation"],"comments":[{"owner":{"account_id":1634908,"reputation":11162,"user_id":1508671,"accept_rate":62,"display_name":"KOTIOS"},"score":0,"creation_date":1407608630,"post_id":25221701,"comment_id":39285082,"body_markdown":"did u added jar in build path?","body":"did u added jar in build path?"},{"owner":{"account_id":1360949,"reputation":1740,"user_id":1298342,"accept_rate":74,"display_name":"kk1076"},"score":0,"creation_date":1407609405,"post_id":25221701,"comment_id":39285277,"body_markdown":"yes. added selenium-server-standalone-2.42.2.jar file as external jar file","body":"yes. added selenium-server-standalone-2.42.2.jar file as external jar file"},{"owner":{"account_id":1634908,"reputation":11162,"user_id":1508671,"accept_rate":62,"display_name":"KOTIOS"},"score":0,"creation_date":1407610348,"post_id":25221701,"comment_id":39285526,"body_markdown":"can u post screenshot or like so?","body":"can u post screenshot or like so?"},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1422533091,"post_id":25221701,"comment_id":44792127,"body_markdown":"I think you should use selendroid.","body":"I think you should use selendroid."}],"answers":[{"tags":[],"owner":{"account_id":2508667,"reputation":362,"user_id":2181636,"accept_rate":22,"display_name":"SahilPatel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1422532728,"creation_date":1422532728,"answer_id":28214229,"question_id":25221701,"body_markdown":"I think so android driver is belongs to java-client library so giving an error that android driver cannot resolve as type. please add java-client library and then import android driver that can solve problem.\r\nthis link can help you with java-client :-http://mvnrepository.com/artifact/io.appium/java-client\r\nand then user import statement in eclipse :-\r\nimport io.appium.java_client.android.AndroidDriver;\r\nTry this it may help you","title":"AndroidDriver cannot be resolved to a type","body":"<p>I think so android driver is belongs to java-client library so giving an error that android driver cannot resolve as type. please add java-client library and then import android driver that can solve problem.\nthis link can help you with java-client :-<a href=\"http://mvnrepository.com/artifact/io.appium/java-client\" rel=\"nofollow\">http://mvnrepository.com/artifact/io.appium/java-client</a>\nand then user import statement in eclipse :-\nimport io.appium.java_client.android.AndroidDriver;\nTry this it may help you</p>\n"},{"tags":[],"owner":{"account_id":11664156,"reputation":31,"user_id":8541371,"display_name":"Nandini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504531416,"creation_date":1504531072,"answer_id":46037962,"question_id":25221701,"body_markdown":"I had faced same problem in Windows 7 64-bit.\r\n\r\nDoing below steps my error got solved:-\r\n\r\n - Downloaded Java-client jar from\r\n   https://mvnrepository.com/artifact/io.appium/java-client/2.1.0.\r\n  \r\n - Add the Jar to Build Path of my project. [Right click &gt;&gt;&gt; Build Path &gt;&gt;&gt; \r\n   Configure build path &gt;&gt;&gt; Libraries tab &gt;&gt;&gt; Add external jars &gt;&gt;&gt; Now select your downloaded java-client].\r\n   \r\n - Now in your class add import as :import \r\n   io.appium.java_client.android.AndroidDriver;\r\n\r\n - Save the class.\r\n\r\nAfter following above steps i am successfully able to access Android drivers.\r\n\r\n","title":"AndroidDriver cannot be resolved to a type","body":"<p>I had faced same problem in Windows 7 64-bit.</p>\n\n<p>Doing below steps my error got solved:-</p>\n\n<ul>\n<li><p>Downloaded Java-client jar from\n<a href=\"https://mvnrepository.com/artifact/io.appium/java-client/2.1.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.appium/java-client/2.1.0</a>.</p></li>\n<li><p>Add the Jar to Build Path of my project. [Right click >>> Build Path >>> \nConfigure build path >>> Libraries tab >>> Add external jars >>> Now select your downloaded java-client].</p></li>\n<li><p>Now in your class add import as :import \nio.appium.java_client.android.AndroidDriver;</p></li>\n<li><p>Save the class.</p></li>\n</ul>\n\n<p>After following above steps i am successfully able to access Android drivers.</p>\n"},{"tags":[],"owner":{"display_name":"user7123229"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504894663,"creation_date":1504894663,"answer_id":46122421,"question_id":25221701,"body_markdown":"In case you are running a maven java project, add the following dependency to your POM and that should add the java-client jars to your project automatically. Once added, the error should go away.\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;5.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"AndroidDriver cannot be resolved to a type","body":"<p>In case you are running a maven java project, add the following dependency to your POM and that should add the java-client jars to your project automatically. Once added, the error should go away.</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;io.appium&lt;/groupId&gt;\n&lt;artifactId&gt;java-client&lt;/artifactId&gt;\n&lt;version&gt;5.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18475505,"reputation":21,"user_id":13459169,"display_name":"Somayyeh Mehrabadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638860366,"creation_date":1638855897,"answer_id":70255441,"question_id":25221701,"body_markdown":"    import io.appium.java_client.android.AndroidDriver;\r\n\r\nin your Code:\r\n\r\n    driver= new AndroidDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), cap);","title":"AndroidDriver cannot be resolved to a type","body":"<pre><code>import io.appium.java_client.android.AndroidDriver;\n</code></pre>\n<p>in your Code:</p>\n<pre><code>driver= new AndroidDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), cap);\n</code></pre>\n"}],"owner":{"account_id":1360949,"reputation":1740,"user_id":1298342,"accept_rate":74,"display_name":"kk1076"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19700,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1638860366,"creation_date":1407608587,"question_id":25221701,"body_markdown":"I am new to java. I am trying to create a sample mobile automation testing application using Selenium web driver for android. &lt;br/&gt;\r\nI have installed the Android SDK and started the Android emulator based on the guidelines from the below links. &lt;br/&gt;\r\nhttp://www.abodeqa.com/2013/05/08/configuring-android-webdriver-in-eclipse/ &lt;br/&gt;\r\nhttp://selenium.polteq.com/en/running-tests-on-an-android-simulator/ &lt;br/&gt;\r\nhttps://code.google.com/p/selenium/wiki/AndroidDriver\r\n\r\nI added the external jar files for selenium (`selenium-server-standalone-2.42.2`) and started the emulator using apk (`android-server-2.38.0.apk`) and added the code from the links.\r\n\r\nI get reference errors for android driver as (`The import.org.selenium.android cannot be resolved`)\r\n\r\n    import org.openqa.selenium.android.AndroidDriver;\r\n\r\n and in the below code as (*Android driver cannot be resolved to a type*)\r\n\r\n    AndroidDriver driver = new AndroidDriver();\r\n\r\nHow to solve these reference errors for android ?. &lt;br/&gt;\r\nAny suggestions will be greatly helpful.\r\nThanks in advance.\r\n\r\nEDIT : Added Screenshot\r\n![Screenshot android reference error][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/TOTM2.png","title":"AndroidDriver cannot be resolved to a type","body":"<p>I am new to java. I am trying to create a sample mobile automation testing application using Selenium web driver for android. <br/>\nI have installed the Android SDK and started the Android emulator based on the guidelines from the below links. <br/>\n<a href=\"http://www.abodeqa.com/2013/05/08/configuring-android-webdriver-in-eclipse/\" rel=\"nofollow noreferrer\">http://www.abodeqa.com/2013/05/08/configuring-android-webdriver-in-eclipse/</a> <br/>\n<a href=\"http://selenium.polteq.com/en/running-tests-on-an-android-simulator/\" rel=\"nofollow noreferrer\">http://selenium.polteq.com/en/running-tests-on-an-android-simulator/</a> <br/>\n<a href=\"https://code.google.com/p/selenium/wiki/AndroidDriver\" rel=\"nofollow noreferrer\">https://code.google.com/p/selenium/wiki/AndroidDriver</a></p>\n\n<p>I added the external jar files for selenium (<code>selenium-server-standalone-2.42.2</code>) and started the emulator using apk (<code>android-server-2.38.0.apk</code>) and added the code from the links.</p>\n\n<p>I get reference errors for android driver as (<code>The import.org.selenium.android cannot be resolved</code>)</p>\n\n<pre><code>import org.openqa.selenium.android.AndroidDriver;\n</code></pre>\n\n<p>and in the below code as (<em>Android driver cannot be resolved to a type</em>)</p>\n\n<pre><code>AndroidDriver driver = new AndroidDriver();\n</code></pre>\n\n<p>How to solve these reference errors for android ?. <br/>\nAny suggestions will be greatly helpful.\nThanks in advance.</p>\n\n<p>EDIT : Added Screenshot\n<img src=\"https://i.stack.imgur.com/TOTM2.png\" alt=\"Screenshot android reference error\"></p>\n"},{"tags":["java","http","webserver"],"comments":[{"owner":{"account_id":12655916,"reputation":852,"user_id":10673107,"display_name":"A. Vreeswijk"},"score":0,"creation_date":1638840365,"post_id":70253505,"comment_id":124189770,"body_markdown":"You should avoid `while(true)` loops.... Always make it stop able by putting in a boolean. It can also be used easily for debugging","body":"You should avoid <code>while(true)</code> loops.... Always make it stop able by putting in a boolean. It can also be used easily for debugging"}],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638859318,"creation_date":1638838882,"answer_id":70253755,"question_id":70253505,"body_markdown":"[Content-Length][1] is needed, browser cannot know the content length of your message, and naturally it cannot parse out the complete message.\r\n\r\nAnd as mentioned in this answer: https://stackoverflow.com/a/2773415/9690075:\r\n\r\n&gt; If both Content-Length and Transfer-Encoding headers are missing, then at the end of the response the connection must be closed.\r\n\r\n\r\n\r\nTry:\r\n\r\n```\r\n    private static String HTTP_RESPONSE_TEMPLATE =\r\n            &quot;HTTP/1.1 200 OK\\r\\n&quot; +\r\n                    &quot;Content-Length: %d\\r\\n&quot; +\r\n                    &quot;Content-Type: text/html\\r\\n&quot; +\r\n                    &quot;\\r\\n&quot; +\r\n                    &quot;%s&quot;;\r\n\r\n    byte[] buildSuccessfulResponse(String content) {\r\n        return String.format(HTTP_RESPONSE_TEMPLATE, content.length(), content).getBytes(StandardCharsets.UTF_8);\r\n    }\r\n    \r\n    private void writeToKey(SelectionKey key) throws IOException {\r\n        // get previously stored response for this client\r\n        String response = ((ClientConnectionState) key.attachment()).pendingResponse;\r\n        ByteBuffer buf = ByteBuffer.wrap(buildSuccessfulResponse(response));\r\n        System.out.println(clientSkt.write(buf));\r\n        //..\r\n    }\r\n\r\n    private void readFromKey(SelectionKey key) throws IOException {\r\n        //..\r\n        String response = &quot;hello&quot;;\r\n        key.interestOps(SelectionKey.OP_WRITE);\r\n        ((ClientConnectionState) key.attachment()).pendingResponse = response;\r\n        //..\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html","title":"Java - Sending HTTP response but the browser keeps loading","body":"<p><a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html\" rel=\"nofollow noreferrer\">Content-Length</a> is needed, browser cannot know the content length of your message, and naturally it cannot parse out the complete message.</p>\n<p>And as mentioned in this answer: <a href=\"https://stackoverflow.com/a/2773415/9690075\">https://stackoverflow.com/a/2773415/9690075</a>:</p>\n<blockquote>\n<p>If both Content-Length and Transfer-Encoding headers are missing, then at the end of the response the connection must be closed.</p>\n</blockquote>\n<p>Try:</p>\n<pre><code>    private static String HTTP_RESPONSE_TEMPLATE =\n            &quot;HTTP/1.1 200 OK\\r\\n&quot; +\n                    &quot;Content-Length: %d\\r\\n&quot; +\n                    &quot;Content-Type: text/html\\r\\n&quot; +\n                    &quot;\\r\\n&quot; +\n                    &quot;%s&quot;;\n\n    byte[] buildSuccessfulResponse(String content) {\n        return String.format(HTTP_RESPONSE_TEMPLATE, content.length(), content).getBytes(StandardCharsets.UTF_8);\n    }\n    \n    private void writeToKey(SelectionKey key) throws IOException {\n        // get previously stored response for this client\n        String response = ((ClientConnectionState) key.attachment()).pendingResponse;\n        ByteBuffer buf = ByteBuffer.wrap(buildSuccessfulResponse(response));\n        System.out.println(clientSkt.write(buf));\n        //..\n    }\n\n    private void readFromKey(SelectionKey key) throws IOException {\n        //..\n        String response = &quot;hello&quot;;\n        key.interestOps(SelectionKey.OP_WRITE);\n        ((ClientConnectionState) key.attachment()).pendingResponse = response;\n        //..\n    }\n</code></pre>\n"}],"owner":{"account_id":16879198,"reputation":509,"user_id":12424975,"display_name":"Samuele B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638859318,"creation_date":1638836157,"question_id":70253505,"body_markdown":"I&#39;m using the following program to simulate a webserver.\r\n\r\n```\r\npublic void runServer() {\r\n        try {\r\n            ServerSocketChannel srvSktChan = ServerSocketChannel.open();\r\n            ServerSocket skt = srvSktChan.socket();\r\n            Selector selector = Selector.open();\r\n\r\n            skt.bind(new InetSocketAddress(8000));\r\n            srvSktChan.configureBlocking(false);\r\n            srvSktChan.register(selector, SelectionKey.OP_ACCEPT);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n\r\n        while (true) {\r\n            try {\r\n                System.out.println(&quot;ready to accept...&quot;);\r\n                this.selector.select();\r\n                System.out.println(&quot;accepted...&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            }\r\n\r\n            Iterator&lt;SelectionKey&gt; rdyKeys = selector.selectedKeys().iterator();\r\n            while (rdyKeys.hasNext()) {\r\n                SelectionKey currKey = rdyKeys.next();\r\n                rdyKeys.remove();\r\n                try {\r\n                    if (currKey.isAcceptable()) {\r\n                        this.acceptKey(currKey);\r\n                        System.out.println(&quot;A client connected&quot;);\r\n                    } else if (currKey.isReadable()) {\r\n                        this.readFromKey(currKey);\r\n                    } else if (currKey.isWritable()) {\r\n                        this.writeToKey(currKey);\r\n                    }\r\n                } catch (IOException e) {\r\n                    currKey.cancel();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void acceptKey(SelectionKey key) throws IOException {\r\n        ServerSocketChannel channel = (ServerSocketChannel) key.channel();\r\n        SocketChannel clientSkt = channel.accept();\r\n\r\n        clientSkt.configureBlocking(false);\r\n        SelectionKey clientKey = clientSkt.register(this.selector, SelectionKey.OP_READ);\r\n        clientKey.attach(new ClientConnectionState());\r\n    }\r\n\r\n    private void writeToKey(SelectionKey key) throws IOException {\r\n        SocketChannel clientSkt = (SocketChannel) key.channel();\r\n\r\n        // get previously stored response for this client\r\n        Srtring response = ((ClientState) key.attachment()).pendingResponse;\r\n\r\n        ByteBuffer buf = ByteBuffer.wrap(response.getBytes(&quot;UTF-8&quot;));\r\n        clientSkt.write(buf);\r\n\r\n        key.interestOps(SelectionKey.OP_READ);\r\n    }\r\n\r\n    private void readFromKey(SelectionKey key) throws IOException {\r\n        SocketChannel clientSkt = (SocketChannel) key.channel();\r\n        ByteBuffer buf = ByteBuffer.allocate(this.BUF_CAPACITY);\r\n        \r\n        clientSkt.read(buf);\r\n        buf.flip();\r\n\r\n        String response = &quot;HTTP/1.1 200 OK\\r\\n\\r\\n\\r\\n\\r\\n; // see note below\r\n\r\n        key.interestOps(SelectionKey.OP_WRITE);\r\n        ((ClientState) key.attachment()).pendingResponse = response;\r\n    }\r\n```\r\nThis code works fine for the most part: when I open a browser and type `127.0.0.1:8000`, the Java program does log an HTTP GET request and writes back the response.\r\n\r\nHowever, the browser tab keeps loading forever, until the connection times out. In the browser network tab, the request is marked as pending and never completes. The response does seem to get written correctly, as I&#39;ve tried sending a body and it is in fact received by the browser, but is only rendered when I kill the java app (which causes the browser to stop loading). I have a feeling that it&#39;s a matter of how I&#39;m terminating the resposne I&#39;m writing, but I&#39;ve tried numerous other alternatives, such as writing these responses:\r\n\r\n```\r\n&quot;HTTP/1.1 200 OK\\n&quot;\r\n                + &quot;Content-type: text/html; charset=UTF-8\\n&quot;\r\n                + &quot;&lt;html&gt;&lt;body&gt;OK&lt;/body&gt;&lt;/html&gt;\\r\\n\\r\\n&quot;\r\n```\r\n\r\n```\r\n&quot;HTTP/1.1 200 OK\\n&quot;\r\n                + &quot;Content-type: text/html; charset=UTF-8\\n&quot;\r\n                + &quot;&lt;html&gt;&lt;body&gt;OK&lt;/body&gt;&lt;/html&gt;\r\n```\r\n\r\n```\r\n&quot;HTTP/1.1 200 OK\\r\\n\\r\\n\\r\\nTEST\\r\\n\\r\\n&quot;\r\n```\r\n\r\n```\r\n&quot;HTTP/1.1 200 OK\\r\\n\\r\\n\\r\\nTEST&quot;\r\n```\r\n\r\nand so on. All of them cause the same behavior in the browser. I&#39;m starting to think there might be something about the way I&#39;m instantiating and using the buffer or the socket to write my response that causes the browser to think I&#39;m not done sending my response.\r\n\r\nI also tried other tools such as cURL and I always get the same issue, so it&#39;s not just the browser.\r\n\r\nWhat am I doing wrong?","title":"Java - Sending HTTP response but the browser keeps loading","body":"<p>I'm using the following program to simulate a webserver.</p>\n<pre><code>public void runServer() {\n        try {\n            ServerSocketChannel srvSktChan = ServerSocketChannel.open();\n            ServerSocket skt = srvSktChan.socket();\n            Selector selector = Selector.open();\n\n            skt.bind(new InetSocketAddress(8000));\n            srvSktChan.configureBlocking(false);\n            srvSktChan.register(selector, SelectionKey.OP_ACCEPT);\n        } catch (IOException e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n\n        while (true) {\n            try {\n                System.out.println(&quot;ready to accept...&quot;);\n                this.selector.select();\n                System.out.println(&quot;accepted...&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n                System.exit(1);\n            }\n\n            Iterator&lt;SelectionKey&gt; rdyKeys = selector.selectedKeys().iterator();\n            while (rdyKeys.hasNext()) {\n                SelectionKey currKey = rdyKeys.next();\n                rdyKeys.remove();\n                try {\n                    if (currKey.isAcceptable()) {\n                        this.acceptKey(currKey);\n                        System.out.println(&quot;A client connected&quot;);\n                    } else if (currKey.isReadable()) {\n                        this.readFromKey(currKey);\n                    } else if (currKey.isWritable()) {\n                        this.writeToKey(currKey);\n                    }\n                } catch (IOException e) {\n                    currKey.cancel();\n                }\n            }\n        }\n    }\n\n    private void acceptKey(SelectionKey key) throws IOException {\n        ServerSocketChannel channel = (ServerSocketChannel) key.channel();\n        SocketChannel clientSkt = channel.accept();\n\n        clientSkt.configureBlocking(false);\n        SelectionKey clientKey = clientSkt.register(this.selector, SelectionKey.OP_READ);\n        clientKey.attach(new ClientConnectionState());\n    }\n\n    private void writeToKey(SelectionKey key) throws IOException {\n        SocketChannel clientSkt = (SocketChannel) key.channel();\n\n        // get previously stored response for this client\n        Srtring response = ((ClientState) key.attachment()).pendingResponse;\n\n        ByteBuffer buf = ByteBuffer.wrap(response.getBytes(&quot;UTF-8&quot;));\n        clientSkt.write(buf);\n\n        key.interestOps(SelectionKey.OP_READ);\n    }\n\n    private void readFromKey(SelectionKey key) throws IOException {\n        SocketChannel clientSkt = (SocketChannel) key.channel();\n        ByteBuffer buf = ByteBuffer.allocate(this.BUF_CAPACITY);\n        \n        clientSkt.read(buf);\n        buf.flip();\n\n        String response = &quot;HTTP/1.1 200 OK\\r\\n\\r\\n\\r\\n\\r\\n; // see note below\n\n        key.interestOps(SelectionKey.OP_WRITE);\n        ((ClientState) key.attachment()).pendingResponse = response;\n    }\n</code></pre>\n<p>This code works fine for the most part: when I open a browser and type <code>127.0.0.1:8000</code>, the Java program does log an HTTP GET request and writes back the response.</p>\n<p>However, the browser tab keeps loading forever, until the connection times out. In the browser network tab, the request is marked as pending and never completes. The response does seem to get written correctly, as I've tried sending a body and it is in fact received by the browser, but is only rendered when I kill the java app (which causes the browser to stop loading). I have a feeling that it's a matter of how I'm terminating the resposne I'm writing, but I've tried numerous other alternatives, such as writing these responses:</p>\n<pre><code>&quot;HTTP/1.1 200 OK\\n&quot;\n                + &quot;Content-type: text/html; charset=UTF-8\\n&quot;\n                + &quot;&lt;html&gt;&lt;body&gt;OK&lt;/body&gt;&lt;/html&gt;\\r\\n\\r\\n&quot;\n</code></pre>\n<pre><code>&quot;HTTP/1.1 200 OK\\n&quot;\n                + &quot;Content-type: text/html; charset=UTF-8\\n&quot;\n                + &quot;&lt;html&gt;&lt;body&gt;OK&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<pre><code>&quot;HTTP/1.1 200 OK\\r\\n\\r\\n\\r\\nTEST\\r\\n\\r\\n&quot;\n</code></pre>\n<pre><code>&quot;HTTP/1.1 200 OK\\r\\n\\r\\n\\r\\nTEST&quot;\n</code></pre>\n<p>and so on. All of them cause the same behavior in the browser. I'm starting to think there might be something about the way I'm instantiating and using the buffer or the socket to write my response that causes the browser to think I'm not done sending my response.</p>\n<p>I also tried other tools such as cURL and I always get the same issue, so it's not just the browser.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4959604,"reputation":8469,"user_id":3991211,"display_name":"Garr Godfrey"},"score":0,"creation_date":1638834434,"post_id":70253284,"comment_id":124188807,"body_markdown":"you can only get the value of static fields from a class. You can pass `null` into `get` for static members","body":"you can only get the value of static fields from a class. You can pass <code>null</code> into <code>get</code> for static members"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1638891709,"post_id":70253284,"comment_id":124205415,"body_markdown":"You can&#39;t change the constants class? Because it sounds like you really want it to be an `enum`.","body":"You can&#39;t change the constants class? Because it sounds like you really want it to be an <code>enum</code>."},{"owner":{"account_id":19748473,"reputation":23,"user_id":14460314,"display_name":"Ron"},"score":0,"creation_date":1638978027,"post_id":70253284,"comment_id":124231692,"body_markdown":"@JohnBayko no I can&#39;t change it, it is imported from other people&#39;s package","body":"@JohnBayko no I can&#39;t change it, it is imported from other people&#39;s package"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638858862,"creation_date":1638834371,"answer_id":70253321,"question_id":70253284,"body_markdown":"You can do it like this:\r\n\r\n```\r\nimport java.lang.reflect.Field;\r\n\r\nimport static java.lang.reflect.Modifier.STATIC;\r\n\r\npublic class Example {\r\n    public static class colorConstants {\r\n        public static final String BLUE = &quot;blue&quot;;\r\n        public static final String RED = &quot;red&quot;;\r\n        public static final String YELLOW = &quot;yellow&quot;;\r\n        public String blah;\r\n\r\n        public colorConstants() {}\r\n    }\r\n\r\n    public static void main(String[] args) throws IllegalAccessException {\r\n        Field[] fields = colorConstants.class.getFields();\r\n        for (Field field : fields) {\r\n\r\n            if ((field.getModifiers() &amp; STATIC) != 0) {\r\n                String value = (String) field.get(null);\r\n                System.out.println(value);\r\n            } else {\r\n                System.out.println(&quot;Ignoring non-static field &quot; + field.getName());\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nI&#39;ve improved the style by changing `colorConstants` to `ColorConstants`, as class names should start with upper case letters, and changing `Field` to `field`.","title":"Java - how to extract the value of fields from another class","body":"<p>You can do it like this:</p>\n<pre><code>import java.lang.reflect.Field;\n\nimport static java.lang.reflect.Modifier.STATIC;\n\npublic class Example {\n    public static class colorConstants {\n        public static final String BLUE = &quot;blue&quot;;\n        public static final String RED = &quot;red&quot;;\n        public static final String YELLOW = &quot;yellow&quot;;\n        public String blah;\n\n        public colorConstants() {}\n    }\n\n    public static void main(String[] args) throws IllegalAccessException {\n        Field[] fields = colorConstants.class.getFields();\n        for (Field field : fields) {\n\n            if ((field.getModifiers() &amp; STATIC) != 0) {\n                String value = (String) field.get(null);\n                System.out.println(value);\n            } else {\n                System.out.println(&quot;Ignoring non-static field &quot; + field.getName());\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>I've improved the style by changing <code>colorConstants</code> to <code>ColorConstants</code>, as class names should start with upper case letters, and changing <code>Field</code> to <code>field</code>.</p>\n"}],"owner":{"account_id":19748473,"reputation":23,"user_id":14460314,"display_name":"Ron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638858998,"creation_date":1638833977,"question_id":70253284,"body_markdown":"I am trying to get all the fields and values from another read-only class, and write them into a file, how to get the values of fields?\r\n\r\nThe class is read-only, and don&#39;t have getters:\r\n```java\r\n  public class colorConstants {\r\n    public static final String BLUE = &quot;blue&quot;;\r\n    public static final String RED = &quot;red&quot;;\r\n    public static final String YELLOW = &quot;yellow&quot;;\r\n    ...\r\n    \r\n    public colorConstants() {}\r\n  }\r\n```\r\n\r\nIn another class:\r\n```java\r\nField[] fields = colorConstants.class.getFields();\r\nfor(Field : fields) {\r\n  String fieldName = fieldName;\r\n  \r\n  //how to get the value of each field\r\n  String value = fieldName.get()?\r\n}\r\n```","title":"Java - how to extract the value of fields from another class","body":"<p>I am trying to get all the fields and values from another read-only class, and write them into a file, how to get the values of fields?</p>\n<p>The class is read-only, and don't have getters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public class colorConstants {\n    public static final String BLUE = &quot;blue&quot;;\n    public static final String RED = &quot;red&quot;;\n    public static final String YELLOW = &quot;yellow&quot;;\n    ...\n    \n    public colorConstants() {}\n  }\n</code></pre>\n<p>In another class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Field[] fields = colorConstants.class.getFields();\nfor(Field : fields) {\n  String fieldName = fieldName;\n  \n  //how to get the value of each field\n  String value = fieldName.get()?\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","awss3transfermanager","s3transfermanager"],"comments":[{"owner":{"account_id":297281,"reputation":459,"user_id":602713,"display_name":"Norman"},"score":0,"creation_date":1638859260,"post_id":70255807,"comment_id":124193003,"body_markdown":"Does the user linked to the access credentials have access to the S3 location as well as having permission to perform the PutObject action?","body":"Does the user linked to the access credentials have access to the S3 location as well as having permission to perform the PutObject action?"},{"owner":{"account_id":20044970,"reputation":1,"user_id":14694869,"display_name":"Balaji Karthick"},"score":0,"creation_date":1638859678,"post_id":70255807,"comment_id":124193099,"body_markdown":"for unit test, have mocked the S3CLIENTCONFIGURATION class which builts the user credentials for the bucket. This is the line, s3ClientConfiguration =mock(S3ClientConfiguration.class);\n\n   s3TransferManager = S3TransferManager.builder().s3ClientConfiguration(s3ClientConfiguration).build();","body":"for unit test, have mocked the S3CLIENTCONFIGURATION class which builts the user credentials for the bucket. This is the line, s3ClientConfiguration =mock(S3ClientConfiguration.class);     s3TransferManager = S3TransferManager.builder().s3ClientConfiguration(s3ClientCo&zwnj;&#8203;nfiguration).build()&zwnj;&#8203;;"}],"owner":{"account_id":20044970,"reputation":1,"user_id":14694869,"display_name":"Balaji Karthick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638858845,"creation_date":1638858845,"question_id":70255807,"body_markdown":"am trying to use S3TransferManager to upload file to s3. but my unit test fails due to the below error,\r\n\r\njava.util.concurrent.CompletionException: software.amazon.awssdk.services.s3.model.S3Exception: Invalid response status from request\r\n\r\nhere&#39;s my code,\r\n\r\n    public class AwsTransferService {\r\n\r\n\tprivate final S3TransferManager s3TransferManager;\r\n\tprivate final AwsS3Config s3Config;\r\n\r\n\tpublic AwsTransferService(AwsS3Config s3Config, AwsConfig awsConfig) {\r\n\t\tthis.s3Config = s3Config;\r\n\r\n\t\tAwsBasicCredentials awsCredentials = create(awsConfig.getAccessKey(), awsConfig.getSecretKey());\r\n\t\tthis.s3TransferManager = S3TransferManager.builder()\r\n\t\t\t\t.s3ClientConfiguration(builder -&gt; builder.credentialsProvider(create(awsCredentials))\r\n\t\t\t\t\t\t.region(s3Config.getRegion())\r\n\t\t\t\t\t\t.minimumPartSizeInBytes(10 * MB)\r\n\t\t\t\t\t\t.targetThroughputInGbps(20.0))\r\n\t\t\t\t.build();\r\n\r\n\t}\r\n\r\n\tpublic AwsTransferService(S3TransferManager s3TransferManager, AwsS3Config s3Config) {\r\n\t\tthis.s3TransferManager = s3TransferManager;\r\n\t\tthis.s3Config = s3Config;\r\n\t}\r\n\r\n\r\n\tpublic void transferObject(@NonNull String bucketName, @NonNull String transferKey, @NonNull File file) {\r\n\t\tvalidateS3Key(transferKey);\r\n\t\tvalidatePath(file.toPath());\r\n\t\tlog.info(&quot;Transfering s3 object from :{} to :{}&quot;, file.getPath(), transferKey);\r\n\t\ttry {\r\n\t\t\tUpload upload =\r\n\t\t\t\t\ts3TransferManager.upload(b -&gt; b.putObjectRequest(r -&gt; r.bucket(bucketName).key(transferKey))\r\n\t\t\t\t\t\t\t.source(file.toPath()));\r\n\t\t\tCompletedUpload completedUpload = upload.completionFuture().join();\r\n\r\n\t\t\tlog.info(&quot;PutObjectResponse: &quot; + completedUpload.response());\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\n\t}\r\nand here is my unit test for the above code,\r\n\r\n    \t@RegisterExtension\r\n\tpublic static final S3MockExtension S3_MOCK = builder()\r\n\t\t\t.silent()\r\n\t\t\t.withSecureConnection(false)\r\n\t\t\t.build();\r\n\r\n\tprivate S3ClientConfiguration s3ClientConfiguration;\r\n\r\n\tprivate AwsTransferService service;\r\n\r\n\tprivate AwsS3Service awsS3Service;\r\n\r\n\tprivate S3TransferManager s3TransferManager;\r\n\r\n\tprivate static S3Client s3Client;\r\n\r\n\t@BeforeAll\r\n\tpublic static void beforeAll() {\r\n\t\ts3Client = S3_MOCK.createS3ClientV2();\r\n\t}\r\n\r\n\t@BeforeEach\r\n\tpublic void beforeEach() throws IOException {\r\n\r\n       s3ClientConfiguration =mock(S3ClientConfiguration.class);\r\n\r\n       s3TransferManager = S3TransferManager.builder().s3ClientConfiguration(s3ClientConfiguration).build();\r\n\r\n\t\tAwsS3Config s3Config = AwsS3Config.builder()\r\n\t\t\t\t.region(Region.AP_SOUTHEAST_2)\r\n\t\t\t\t.s3BucketName(S3Factory.VALID_S3_BUCKET)\r\n\t\t\t\t.build();\r\n\r\n\t\tawsS3Service = new AwsS3Service(s3Config, s3Client);\r\n\r\n\t\tawsS3Service.createBucket(VALID_S3_BUCKET);\r\n\r\n\t\tservice = new AwsTransferService(s3TransferManager, s3Config);\r\n\r\n\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void transferObject_singleFile_ShouldUploadFiletoS3() throws IOException {\r\n\r\n\t\tString transferKey = TRANSFER_KEY_UPLOAD;\r\n\t\tString fileName = FILE_PATH + TRANSFER_FILE_NAME;\r\n\t\twriteFile(fileName);\r\n\t\tFile transferFile = new File(fileName);\r\n\t\tservice.transferObject(VALID_S3_BUCKET, transferKey + TRANSFER_FILE_NAME, transferFile);\r\n\t\tint expectedObjectsSize = 1;\r\n\t\tLog.initLoggingToFile(Log.LogLevel.Error, &quot;log.txt&quot;);\r\n\t\tList&lt;S3Object&gt; matchedObjects = awsS3Service.listObjectsWithPrefix(transferKey + TRANSFER_FILE_NAME);\r\n\t\tassertEquals(expectedObjectsSize, matchedObjects.size());\r\n\t\tassertEquals(transferKey + TRANSFER_FILE_NAME, matchedObjects.get(0).key());\r\n\t}\r\n\r\n\r\nplease let me know why the unit test fails with the above mentioned error?\r\n\r\nalso please let me know is there any other way to mock &quot;s3ClientConfiguration&quot;? in aws java sdk v2","title":"software.amazon.awssdk.services.s3.model.S3Exception: Invalid response status from request while using aws java sdk v2 &quot;S3TRANSFERMANAGER&quot;","body":"<p>am trying to use S3TransferManager to upload file to s3. but my unit test fails due to the below error,</p>\n<p>java.util.concurrent.CompletionException: software.amazon.awssdk.services.s3.model.S3Exception: Invalid response status from request</p>\n<p>here's my code,</p>\n<pre><code>public class AwsTransferService {\n\nprivate final S3TransferManager s3TransferManager;\nprivate final AwsS3Config s3Config;\n\npublic AwsTransferService(AwsS3Config s3Config, AwsConfig awsConfig) {\n    this.s3Config = s3Config;\n\n    AwsBasicCredentials awsCredentials = create(awsConfig.getAccessKey(), awsConfig.getSecretKey());\n    this.s3TransferManager = S3TransferManager.builder()\n            .s3ClientConfiguration(builder -&gt; builder.credentialsProvider(create(awsCredentials))\n                    .region(s3Config.getRegion())\n                    .minimumPartSizeInBytes(10 * MB)\n                    .targetThroughputInGbps(20.0))\n            .build();\n\n}\n\npublic AwsTransferService(S3TransferManager s3TransferManager, AwsS3Config s3Config) {\n    this.s3TransferManager = s3TransferManager;\n    this.s3Config = s3Config;\n}\n\n\npublic void transferObject(@NonNull String bucketName, @NonNull String transferKey, @NonNull File file) {\n    validateS3Key(transferKey);\n    validatePath(file.toPath());\n    log.info(&quot;Transfering s3 object from :{} to :{}&quot;, file.getPath(), transferKey);\n    try {\n        Upload upload =\n                s3TransferManager.upload(b -&gt; b.putObjectRequest(r -&gt; r.bucket(bucketName).key(transferKey))\n                        .source(file.toPath()));\n        CompletedUpload completedUpload = upload.completionFuture().join();\n\n        log.info(&quot;PutObjectResponse: &quot; + completedUpload.response());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n\n}\n</code></pre>\n<p>and here is my unit test for the above code,</p>\n<pre><code>    @RegisterExtension\npublic static final S3MockExtension S3_MOCK = builder()\n        .silent()\n        .withSecureConnection(false)\n        .build();\n\nprivate S3ClientConfiguration s3ClientConfiguration;\n\nprivate AwsTransferService service;\n\nprivate AwsS3Service awsS3Service;\n\nprivate S3TransferManager s3TransferManager;\n\nprivate static S3Client s3Client;\n\n@BeforeAll\npublic static void beforeAll() {\n    s3Client = S3_MOCK.createS3ClientV2();\n}\n\n@BeforeEach\npublic void beforeEach() throws IOException {\n\n   s3ClientConfiguration =mock(S3ClientConfiguration.class);\n\n   s3TransferManager = S3TransferManager.builder().s3ClientConfiguration(s3ClientConfiguration).build();\n\n    AwsS3Config s3Config = AwsS3Config.builder()\n            .region(Region.AP_SOUTHEAST_2)\n            .s3BucketName(S3Factory.VALID_S3_BUCKET)\n            .build();\n\n    awsS3Service = new AwsS3Service(s3Config, s3Client);\n\n    awsS3Service.createBucket(VALID_S3_BUCKET);\n\n    service = new AwsTransferService(s3TransferManager, s3Config);\n\n\n}\n\n@Test\npublic void transferObject_singleFile_ShouldUploadFiletoS3() throws IOException {\n\n    String transferKey = TRANSFER_KEY_UPLOAD;\n    String fileName = FILE_PATH + TRANSFER_FILE_NAME;\n    writeFile(fileName);\n    File transferFile = new File(fileName);\n    service.transferObject(VALID_S3_BUCKET, transferKey + TRANSFER_FILE_NAME, transferFile);\n    int expectedObjectsSize = 1;\n    Log.initLoggingToFile(Log.LogLevel.Error, &quot;log.txt&quot;);\n    List&lt;S3Object&gt; matchedObjects = awsS3Service.listObjectsWithPrefix(transferKey + TRANSFER_FILE_NAME);\n    assertEquals(expectedObjectsSize, matchedObjects.size());\n    assertEquals(transferKey + TRANSFER_FILE_NAME, matchedObjects.get(0).key());\n}\n</code></pre>\n<p>please let me know why the unit test fails with the above mentioned error?</p>\n<p>also please let me know is there any other way to mock &quot;s3ClientConfiguration&quot;? in aws java sdk v2</p>\n"},{"tags":["java","keycloak","kerberos","keycloak-services","spnego"],"answers":[{"tags":[],"owner":{"account_id":22100829,"reputation":1647,"user_id":16357334,"display_name":"sventorben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638653434,"creation_date":1638653434,"answer_id":70229640,"question_id":70195558,"body_markdown":"You will have to use a custom ID and replace the authenticator in the authentication flow. ","title":"override default authenticator provider in keycloak.x","body":"<p>You will have to use a custom ID and replace the authenticator in the authentication flow.</p>\n"}],"owner":{"account_id":2715546,"reputation":7607,"user_id":2343011,"accept_rate":64,"display_name":"flavio.donze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638858370,"creation_date":1638430195,"question_id":70195558,"body_markdown":"I need to change the behavior of the default kerberos authenticator (because of the issue declared here: [KEYCLOAK-19865][1]).&lt;br/&gt;\r\n\r\n\r\nI was hopping I could just create a new factory and use the existing ID:\r\n\r\n\tpublic class CustomSpnegoAuthenticatorFactory implements AuthenticatorFactory, DisplayTypeAuthenticatorFactory {\r\n\t\tpublic static final String PROVIDER_ID = &quot;auth-spnego&quot;; // ID of the default provider SpnegoAuthenticatorFactory\r\n\r\nAnd add the following line in my custom provider: *META-INF/services/org.keycloak.authentication.AuthenticatorFactory*\r\n\r\n    org.keycloak.authentication.authenticators.browser.CustomSpnegoAuthenticatorFactory\r\n\r\nBut the still the default provider is used. How can I override the default provider in keycloak.x?\r\n\r\nEDIT: We have a lot of installations with existing auth-flows and kerberos configurations. What I&#39;m looking for is to override the default provider, without modifying productive configurations / auth-flows.\r\n\r\n  [1]: https://issues.redhat.com/browse/KEYCLOAK-19865","title":"override default authenticator provider in keycloak.x","body":"<p>I need to change the behavior of the default kerberos authenticator (because of the issue declared here: <a href=\"https://issues.redhat.com/browse/KEYCLOAK-19865\" rel=\"nofollow noreferrer\">KEYCLOAK-19865</a>).<br/></p>\n<p>I was hopping I could just create a new factory and use the existing ID:</p>\n<pre><code>public class CustomSpnegoAuthenticatorFactory implements AuthenticatorFactory, DisplayTypeAuthenticatorFactory {\n    public static final String PROVIDER_ID = &quot;auth-spnego&quot;; // ID of the default provider SpnegoAuthenticatorFactory\n</code></pre>\n<p>And add the following line in my custom provider: <em>META-INF/services/org.keycloak.authentication.AuthenticatorFactory</em></p>\n<pre><code>org.keycloak.authentication.authenticators.browser.CustomSpnegoAuthenticatorFactory\n</code></pre>\n<p>But the still the default provider is used. How can I override the default provider in keycloak.x?</p>\n<p>EDIT: We have a lot of installations with existing auth-flows and kerberos configurations. What I'm looking for is to override the default provider, without modifying productive configurations / auth-flows.</p>\n"},{"tags":["java","javafx","installation","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638858300,"creation_date":1638857697,"answer_id":70255652,"question_id":70255482,"body_markdown":"The [*Scene Builder* product page][1] seems pretty clear:\r\n\r\n&gt; Scene Builder 17.0.0 was released on Sep 29, 2021.\r\n&gt;\r\n&gt;You can use this Scene Builder version together with Java 11 and higher.\r\n\r\n and:\r\n\r\n&gt; Scene Builder 8.5.0 is for users who are still on Java 8. It was released on Jun 5, 2018.\r\n\r\nJava 8, 11, and 17 are the [LTS][2] versions of Java. \r\n\r\n| | Java 8 | Java 11+ |\r\n|--:| :---: | :---: |\r\n| Scene Builder version: | 8.5.0 | 17.0.0 |\r\n\r\n\r\n\r\n  [1]: https://gluonhq.com/products/scene-builder/\r\n  [2]: https://en.wikipedia.org/wiki/Long-term_support","title":"Is javafx Scene Builder 8.5.0 support for java jdk 17?","body":"<p>The <a href=\"https://gluonhq.com/products/scene-builder/\" rel=\"nofollow noreferrer\"><em>Scene Builder</em> product page</a> seems pretty clear:</p>\n<blockquote>\n<p>Scene Builder 17.0.0 was released on Sep 29, 2021.</p>\n<p>You can use this Scene Builder version together with Java 11 and higher.</p>\n</blockquote>\n<p> and:</p>\n<blockquote>\n<p>Scene Builder 8.5.0 is for users who are still on Java 8. It was released on Jun 5, 2018.</p>\n</blockquote>\n<p>Java 8, 11, and 17 are the <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"nofollow noreferrer\">LTS</a> versions of Java.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: right;\"></th>\n<th style=\"text-align: center;\">Java 8</th>\n<th style=\"text-align: center;\">Java 11+</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: right;\">Scene Builder version:</td>\n<td style=\"text-align: center;\">8.5.0</td>\n<td style=\"text-align: center;\">17.0.0</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":20856617,"reputation":75,"user_id":15319781,"display_name":"Jack Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"answer_count":1,"score":-7,"last_activity_date":1638858300,"creation_date":1638856222,"question_id":70255482,"body_markdown":"I just want to know, is Scene Builder 8.5.0 support for both java jdk 17 and java jdk 8.","title":"Is javafx Scene Builder 8.5.0 support for java jdk 17?","body":"<p>I just want to know, is Scene Builder 8.5.0 support for both java jdk 17 and java jdk 8.</p>\n"},{"tags":["java","image","apache-poi","xwpf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1638868346,"post_id":70255704,"comment_id":124195831,"body_markdown":"What `apache poi` version are you using?","body":"What <code>apache poi</code> version are you using?"},{"owner":{"account_id":7019742,"reputation":66,"user_id":7645532,"display_name":"Kiran Gavhane"},"score":0,"creation_date":1638872475,"post_id":70255704,"comment_id":124197323,"body_markdown":"I am using 4.1.1.","body":"I am using 4.1.1."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1638873477,"post_id":70255704,"comment_id":124197719,"body_markdown":"Cannot reproducing that issue. Exactly your code works for me using `apache poi 4.1.1`. Result is a document having a big picture on first page and a small picture in default header.","body":"Cannot reproducing that issue. Exactly your code works for me using <code>apache poi 4.1.1</code>. Result is a document having a big picture on first page and a small picture in default header."},{"owner":{"account_id":7019742,"reputation":66,"user_id":7645532,"display_name":"Kiran Gavhane"},"score":0,"creation_date":1638874091,"post_id":70255704,"comment_id":124197983,"body_markdown":"Not sure, but this is not working for me anyhow. Can you please share the document you have created anywhere? Are you using the similar code?","body":"Not sure, but this is not working for me anyhow. Can you please share the document you have created anywhere? Are you using the similar code?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1638877931,"post_id":70255704,"comment_id":124199391,"body_markdown":"Used exactly your code. Of course I have used different image files. It creates https://docs.google.com/document/d/1Dic_hD-F4XzXhkJu2qRXK0TZhsA9TjfmL1mSR36uHmQ/edit?usp=sharing","body":"Used exactly your code. Of course I have used different image files. It creates <a href=\"https://docs.google.com/document/d/1Dic_hD-F4XzXhkJu2qRXK0TZhsA9TjfmL1mSR36uHmQ/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"},{"owner":{"account_id":7019742,"reputation":66,"user_id":7645532,"display_name":"Kiran Gavhane"},"score":0,"creation_date":1638879067,"post_id":70255704,"comment_id":124199832,"body_markdown":"It&#39;s really working at your end. What version of java you are using? I am using java 8. I am not sure if it is the issue.","body":"It&#39;s really working at your end. What version of java you are using? I am using java 8. I am not sure if it is the issue."},{"owner":{"account_id":7019742,"reputation":66,"user_id":7645532,"display_name":"Kiran Gavhane"},"score":0,"creation_date":1638880412,"post_id":70255704,"comment_id":124200320,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/239908/discussion-between-kiran-gavhane-and-axel-richter).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/239908/discussion-between-kiran-gavhane-and-axel-richter\">continue this discussion in chat</a>."}],"owner":{"account_id":7019742,"reputation":66,"user_id":7645532,"display_name":"Kiran Gavhane"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638858121,"creation_date":1638858121,"question_id":70255704,"body_markdown":"Here I am trying to insert image in the title page in apache poi but with the header image, it is not displaying the image on the title page. If I remove the addPicture from the header part, then, title page correctly displays the proper image. I am not sure what&#39;s the issue. I have added the code here.\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\n\r\nimport org.apache.poi.xwpf.usermodel.*;\r\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSectPr;\r\nimport org.apache.poi.util.Units;\r\nimport org.apache.poi.wp.usermodel.HeaderFooterType;\r\n\r\npublic class Check {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\tXWPFDocument document = new XWPFDocument();\r\n\r\n\t\tXWPFParagraph paragraph = document.createParagraph();\r\n\t\tXWPFRun run = paragraph.createRun();\r\n\r\n\t\tCTSectPr sectPr = document.getDocument().getBody().addNewSectPr();\r\n\t\tsectPr.addNewTitlePg();\r\n\r\n\t\tFile image = new File(&quot;D:\\\\Img.png&quot;);\r\n\t\tFileInputStream imageData = new FileInputStream(image);\r\n\r\n\t\trun = paragraph.createRun();\r\n\t\tint imageType = XWPFDocument.PICTURE_TYPE_PNG;\r\n\t\tString imageFileName = image.getName();\r\n\r\n\t\tint width = 612;\r\n\t\tint height = 550;\r\n\r\n\t\trun.addPicture(imageData, imageType, imageFileName, Units.toEMU(width), Units.toEMU(height));\r\n\t\tparagraph = document.createParagraph();\r\n\t\trun = paragraph.createRun();\r\n\t\trun.setText(&quot;The Body... first page&quot;);\r\n\r\n\t\tparagraph = document.createParagraph();\r\n\t\trun = paragraph.createRun();\r\n\t\trun.addBreak(BreakType.PAGE);\r\n\t\trun.setText(&quot;The Body... second page&quot;);\r\n\r\n\t\tXWPFHeader header = document.createHeader(HeaderFooterType.FIRST);\r\n\t\tparagraph = header.createParagraph();\r\n\t\tparagraph.setAlignment(ParagraphAlignment.CENTER);\r\n\t\trun = paragraph.createRun();\r\n\t\trun.setText(&quot;First page footer...&quot;);\r\n\t\t\r\n\t\t\r\n\t\t// adding header here\r\n\t\theader = document.createHeader(HeaderFooterType.DEFAULT);\r\n\r\n\t\tparagraph = header.getParagraphArray(0);\r\n\t\tif (paragraph == null)\r\n\t\t\tparagraph = header.createParagraph();\r\n\t\tparagraph.setAlignment(ParagraphAlignment.RIGHT);\r\n\t\timage = new File(&quot;D:\\\\Picture.png&quot;);\r\n\t\timageData = new FileInputStream(image);\r\n\r\n\t\trun = paragraph.createRun();\r\n\t\timageType = XWPFDocument.PICTURE_TYPE_PNG;\r\n\t\timageFileName = image.getName();\r\n\r\n\t\twidth = 100;\r\n\t\theight = 50;\r\n\t\t// adding image here.\r\n\t\trun.addPicture(imageData, imageType, imageFileName, Units.toEMU(width), Units.toEMU(height));\r\n\r\n\t\t// header image part completed\r\n\t\tFileOutputStream out = new FileOutputStream(&quot;D:\\\\CreateWordFooters.docx&quot;);\r\n\t\tdocument.write(out);\r\n\t\tout.close();\r\n\t\tdocument.close();\r\n\r\n\t}\r\n}","title":"How to add title page image in apache poi with header image in it. Currently, whenever I add image in header, title page image disappears","body":"<p>Here I am trying to insert image in the title page in apache poi but with the header image, it is not displaying the image on the title page. If I remove the addPicture from the header part, then, title page correctly displays the proper image. I am not sure what's the issue. I have added the code here.</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSectPr;\nimport org.apache.poi.util.Units;\nimport org.apache.poi.wp.usermodel.HeaderFooterType;\n\npublic class Check {\n\n    public static void main(String[] args) throws Exception {\n\n        XWPFDocument document = new XWPFDocument();\n\n        XWPFParagraph paragraph = document.createParagraph();\n        XWPFRun run = paragraph.createRun();\n\n        CTSectPr sectPr = document.getDocument().getBody().addNewSectPr();\n        sectPr.addNewTitlePg();\n\n        File image = new File(&quot;D:\\\\Img.png&quot;);\n        FileInputStream imageData = new FileInputStream(image);\n\n        run = paragraph.createRun();\n        int imageType = XWPFDocument.PICTURE_TYPE_PNG;\n        String imageFileName = image.getName();\n\n        int width = 612;\n        int height = 550;\n\n        run.addPicture(imageData, imageType, imageFileName, Units.toEMU(width), Units.toEMU(height));\n        paragraph = document.createParagraph();\n        run = paragraph.createRun();\n        run.setText(&quot;The Body... first page&quot;);\n\n        paragraph = document.createParagraph();\n        run = paragraph.createRun();\n        run.addBreak(BreakType.PAGE);\n        run.setText(&quot;The Body... second page&quot;);\n\n        XWPFHeader header = document.createHeader(HeaderFooterType.FIRST);\n        paragraph = header.createParagraph();\n        paragraph.setAlignment(ParagraphAlignment.CENTER);\n        run = paragraph.createRun();\n        run.setText(&quot;First page footer...&quot;);\n        \n        \n        // adding header here\n        header = document.createHeader(HeaderFooterType.DEFAULT);\n\n        paragraph = header.getParagraphArray(0);\n        if (paragraph == null)\n            paragraph = header.createParagraph();\n        paragraph.setAlignment(ParagraphAlignment.RIGHT);\n        image = new File(&quot;D:\\\\Picture.png&quot;);\n        imageData = new FileInputStream(image);\n\n        run = paragraph.createRun();\n        imageType = XWPFDocument.PICTURE_TYPE_PNG;\n        imageFileName = image.getName();\n\n        width = 100;\n        height = 50;\n        // adding image here.\n        run.addPicture(imageData, imageType, imageFileName, Units.toEMU(width), Units.toEMU(height));\n\n        // header image part completed\n        FileOutputStream out = new FileOutputStream(&quot;D:\\\\CreateWordFooters.docx&quot;);\n        document.write(out);\n        out.close();\n        document.close();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":2,"creation_date":1378395182,"post_id":18640437,"comment_id":27444303,"body_markdown":"Did you go through any regex tutorial? `.` is a meta-character which matches anything except a newline. Inside a character class, it isn&#39;t a meta-character.","body":"Did you go through any regex tutorial? <code>.</code> is a meta-character which matches anything except a newline. Inside a character class, it isn&#39;t a meta-character."},{"owner":{"account_id":2884250,"reputation":1641,"user_id":2474498,"accept_rate":71,"display_name":"GDanger"},"score":0,"creation_date":1378395279,"post_id":18640437,"comment_id":27444359,"body_markdown":"Yes, I have been looking at the oracle tutorials. `[abc]` is a character class that matches a, b, or c. So why doesn&#39;t `[.]` act the same as `.`?","body":"Yes, I have been looking at the oracle tutorials. <code>[abc]</code> is a character class that matches a, b, or c. So why doesn&#39;t <code>[.]</code> act the same as <code>.</code>?"},{"owner":{"account_id":2884250,"reputation":1641,"user_id":2474498,"accept_rate":71,"display_name":"GDanger"},"score":1,"creation_date":1378395333,"post_id":18640437,"comment_id":27444387,"body_markdown":"ahh, I didn&#39;t understand that inside it&#39;s own character class it&#39;s no longer a meta-character. Thank you.","body":"ahh, I didn&#39;t understand that inside it&#39;s own character class it&#39;s no longer a meta-character. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":176857,"reputation":360143,"user_id":2225682,"display_name":"falsetru"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1380303707,"creation_date":1378395189,"answer_id":18640460,"question_id":18640437,"body_markdown":"`[.]` matches a dot (`.`) literally, while `.` matches any character except newline (`\\n`) (unless you use [`DOTALL`][1] mode).\r\n\r\nYou can also use `\\.` (`&quot;\\\\.&quot;` if you use java string literal) to literally match dot.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL","title":"Java regex &quot;[.]&quot; vs &quot;.&quot;","body":"<p><code>[.]</code> matches a dot (<code>.</code>) literally, while <code>.</code> matches any character except newline (<code>\\n</code>) (unless you use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL\" rel=\"noreferrer\"><code>DOTALL</code></a> mode).</p>\n\n<p>You can also use <code>\\.</code> (<code>\"\\\\.\"</code> if you use java string literal) to literally match dot.</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1378396275,"creation_date":1378395470,"answer_id":18640543,"question_id":18640437,"body_markdown":"The `[` and `]` are *metacharacters* that let you define a [*character class*][1]. Anything enclosed in square brackets is interpreted literally. You can include multiple characters as well:\r\n\r\n    [.=*&amp;^$] // Matches any single character from the list &#39;.&#39;,&#39;=&#39;,&#39;*&#39;,&#39;&amp;&#39;,&#39;^&#39;,&#39;$&#39;\r\n\r\nThere are two specific things you need to know about the `[...]` syntax:\r\n\r\n - The `^` symbol at the beginning of the group has a special meaning: it inverts what&#39;s matched by the group. For example, `[^.]` matches any character except a dot `.`\r\n - Dash `-` in between two characters means any code point between the two. For example, `[A-Z]` matches any single uppercase letter. You can use dash multiple times - for example, `[A-Za-z0-9]` means &quot;any single upper- or lower-case letter or a digit&quot;.\r\n\r\nThe two constructs above (`^` and `-`) are common to nearly all regex engines; some engines  (such as Java&#39;s) define [additional syntax][2] specific only to these engines.\r\n\r\n  [1]: http://www.regular-expressions.info/charclass.html\r\n  [2]: https://stackoverflow.com/q/3201689/335858","title":"Java regex &quot;[.]&quot; vs &quot;.&quot;","body":"<p>The <code>[</code> and <code>]</code> are <em>metacharacters</em> that let you define a <a href=\"http://www.regular-expressions.info/charclass.html\" rel=\"nofollow noreferrer\"><em>character class</em></a>. Anything enclosed in square brackets is interpreted literally. You can include multiple characters as well:</p>\n\n<pre><code>[.=*&amp;^$] // Matches any single character from the list '.','=','*','&amp;','^','$'\n</code></pre>\n\n<p>There are two specific things you need to know about the <code>[...]</code> syntax:</p>\n\n<ul>\n<li>The <code>^</code> symbol at the beginning of the group has a special meaning: it inverts what's matched by the group. For example, <code>[^.]</code> matches any character except a dot <code>.</code></li>\n<li>Dash <code>-</code> in between two characters means any code point between the two. For example, <code>[A-Z]</code> matches any single uppercase letter. You can use dash multiple times - for example, <code>[A-Za-z0-9]</code> means \"any single upper- or lower-case letter or a digit\".</li>\n</ul>\n\n<p>The two constructs above (<code>^</code> and <code>-</code>) are common to nearly all regex engines; some engines  (such as Java's) define <a href=\"https://stackoverflow.com/q/3201689/335858\">additional syntax</a> specific only to these engines.</p>\n"},{"tags":[],"owner":{"account_id":22278874,"reputation":11,"user_id":16507527,"display_name":"Harshit Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638857869,"creation_date":1638857869,"answer_id":70255671,"question_id":18640437,"body_markdown":"[regular-expression constructs][1]\r\n\r\n \r\n\r\n&gt; . =&gt;  *Any character (may or may not match line terminators)*\r\n\r\n\r\n----------\r\n\r\n\r\nand to match the dot  .  use the following\r\n\r\n    [.] =&gt; it will matches a dot\r\n    \\\\. =&gt; it will matches a dot\r\n\r\n**NOTE:** The character classes in Java regular expression is defined using the square brackets &quot;[ ]&quot;, this subexpression matches a single character from the specified or, set of possible characters.\r\n\r\n&gt;**Example :** In string address replaces every &quot;.&quot; with &quot;[.]&quot; \r\n\r\n    public static void main(String[] args) {\r\n        String address = &quot;1.1.1.1&quot;;\r\n        System.out.println(address.replaceAll(&quot;[.]&quot;,&quot;[.]&quot;));\r\n    }\r\n\r\nif anything is missed please add :)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","title":"Java regex &quot;[.]&quot; vs &quot;.&quot;","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">regular-expression constructs</a></p>\n<blockquote>\n<p>. =&gt;  <em>Any character (may or may not match line terminators)</em></p>\n</blockquote>\n<hr />\n<p>and to match the dot  .  use the following</p>\n<pre><code>[.] =&gt; it will matches a dot\n\\\\. =&gt; it will matches a dot\n</code></pre>\n<p><strong>NOTE:</strong> The character classes in Java regular expression is defined using the square brackets &quot;[ ]&quot;, this subexpression matches a single character from the specified or, set of possible characters.</p>\n<blockquote>\n<p><strong>Example :</strong> In string address replaces every &quot;.&quot; with &quot;[.]&quot;</p>\n</blockquote>\n<pre><code>public static void main(String[] args) {\n    String address = &quot;1.1.1.1&quot;;\n    System.out.println(address.replaceAll(&quot;[.]&quot;,&quot;[.]&quot;));\n}\n</code></pre>\n<p>if anything is missed please add :)</p>\n"}],"owner":{"account_id":2884250,"reputation":1641,"user_id":2474498,"accept_rate":71,"display_name":"GDanger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1420,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":18640460,"answer_count":3,"score":9,"last_activity_date":1638857869,"creation_date":1378395138,"question_id":18640437,"body_markdown":"I&#39;m trying to use some regex in Java and I came across this when debugging my code.\r\n\r\nWhat&#39;s the difference between `[.]` and `.`?\r\n\r\nI was surprised that `.at` would match &quot;cat&quot; but `[.]at` wouldn&#39;t.","title":"Java regex &quot;[.]&quot; vs &quot;.&quot;","body":"<p>I'm trying to use some regex in Java and I came across this when debugging my code.</p>\n\n<p>What's the difference between <code>[.]</code> and <code>.</code>?</p>\n\n<p>I was surprised that <code>.at</code> would match \"cat\" but <code>[.]at</code> wouldn't.</p>\n"},{"tags":["java","weblogic","java-heap"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1638860787,"post_id":70255644,"comment_id":124193383,"body_markdown":"You claim to not store any data in the loop.  However, you are adding CensusData object to your list, thus storing data in memory.","body":"You claim to not store any data in the loop.  However, you are adding CensusData object to your list, thus storing data in memory."},{"owner":{"account_id":15912336,"reputation":27,"user_id":11481951,"display_name":"reza"},"score":0,"creation_date":1638861492,"post_id":70255644,"comment_id":124193589,"body_markdown":"i mean i&#39;m not creating new instance of list inside the loop. just adding to the existed one. besides i have no choice. what can i do?","body":"i mean i&#39;m not creating new instance of list inside the loop. just adding to the existed one. besides i have no choice. what can i do?"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1638885180,"post_id":70255644,"comment_id":124202394,"body_markdown":"Store it in database?","body":"Store it in database?"},{"owner":{"account_id":15912336,"reputation":27,"user_id":11481951,"display_name":"reza"},"score":0,"creation_date":1638940943,"post_id":70255644,"comment_id":124218786,"body_markdown":"no. i need to create an instance of `CensusData` out of each line of the text file. that&#39;s why i add to the list in each iteration","body":"no. i need to create an instance of <code>CensusData</code> out of each line of the text file. that&#39;s why i add to the list in each iteration"}],"owner":{"account_id":15912336,"reputation":27,"user_id":11481951,"display_name":"reza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638857620,"creation_date":1638857620,"question_id":70255644,"body_markdown":"i&#39;m using weblogic and java ee. when i try to read a text file (about 100mb) and create an array out of it, java heap size exceeds and weblogic goes down. \r\ni use `scanner` to avoid reading file in memory and also try not to create any new variable inside the loop to prevent java heap error. but unfortunately i get that error and get `weblogic exit on panic` message in the console and it breaks down.\r\n\r\n    public static CensusData[] load(String path) throws Exception {\r\n            List&lt;CensusData&gt; list = new ArrayList&lt;&gt;(43);\r\n            String s;\r\n            try (FileInputStream inputStream = new FileInputStream(path); Scanner sc = new Scanner(inputStream, &quot;UTF-8&quot;)) {\r\n                while (sc.hasNextLine()) {\r\n                     s=sc.nextLine();\r\n                    list.add(new CensusData(Integer.parseInt(s.split(&quot;,&quot;)[0].trim()),\r\n                            s.split(&quot;,&quot;)[1].trim(),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[2].trim()),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[3].trim()),\r\n                            s.split(&quot;,&quot;)[4].trim(),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[5].trim()),\r\n                            s.split(&quot;,&quot;)[6].trim(),\r\n                            s.split(&quot;,&quot;)[7].trim(),\r\n                            s.split(&quot;,&quot;)[8].trim(),\r\n                            s.split(&quot;,&quot;)[9].trim(),\r\n                            s.split(&quot;,&quot;)[10].trim(),\r\n                            s.split(&quot;,&quot;)[11].trim(),\r\n                            s.split(&quot;,&quot;)[12].trim(),\r\n                            s.split(&quot;,&quot;)[13].trim(),\r\n                            s.split(&quot;,&quot;)[14].trim(),\r\n                            s.split(&quot;,&quot;)[15].trim(),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[16].trim()),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[17].trim()),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[18].trim()),\r\n                            s.split(&quot;,&quot;)[19].trim(),\r\n                            s.split(&quot;,&quot;)[20].trim(),\r\n                            s.split(&quot;,&quot;)[21].trim(),\r\n                            s.split(&quot;,&quot;)[22].trim(),\r\n                            s.split(&quot;,&quot;)[24].trim(),\r\n                            s.split(&quot;,&quot;)[25].trim(),\r\n                            s.split(&quot;,&quot;)[26].trim(),\r\n                            s.split(&quot;,&quot;)[27].trim(),\r\n                            s.split(&quot;,&quot;)[28].trim(),\r\n                            s.split(&quot;,&quot;)[29].trim(),\r\n                            s.split(&quot;,&quot;)[30].trim(),\r\n                            s.split(&quot;,&quot;)[31].trim(),\r\n                            s.split(&quot;,&quot;)[32].trim(),\r\n                            s.split(&quot;,&quot;)[33].trim(),\r\n                            s.split(&quot;,&quot;)[34].trim(),\r\n                            s.split(&quot;,&quot;)[35].trim(),\r\n                            s.split(&quot;,&quot;)[36].trim(),\r\n                            s.split(&quot;,&quot;)[37].trim(),\r\n                            s.split(&quot;,&quot;)[38].trim(),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[39].trim()),\r\n                            s.split(&quot;,&quot;)[40].trim()));\r\n                }\r\n                // note that Scanner suppresses exceptions\r\n                if (sc.ioException() != null) {\r\n                    throw sc.ioException();\r\n                }\r\n            } catch (Exception e) {\r\n               e.printStackTrace();\r\n            }\r\n\r\n \r\ni know increasing Xmx size will help (which in my case will not), i&#39;m looking for a real solution. why heap size is exceeded while i&#39;m not storing any new instance inside the loop?\r\n\r\nalso consider the case. i need to get an array of ```CensusData``` out of the file.\r\ntherefore i iterate each line of the text file and split it to get necessary data for creating that array.","title":"java heap error while reading a file line by line inside a while loop","body":"<p>i'm using weblogic and java ee. when i try to read a text file (about 100mb) and create an array out of it, java heap size exceeds and weblogic goes down.\ni use <code>scanner</code> to avoid reading file in memory and also try not to create any new variable inside the loop to prevent java heap error. but unfortunately i get that error and get <code>weblogic exit on panic</code> message in the console and it breaks down.</p>\n<pre><code>public static CensusData[] load(String path) throws Exception {\n        List&lt;CensusData&gt; list = new ArrayList&lt;&gt;(43);\n        String s;\n        try (FileInputStream inputStream = new FileInputStream(path); Scanner sc = new Scanner(inputStream, &quot;UTF-8&quot;)) {\n            while (sc.hasNextLine()) {\n                 s=sc.nextLine();\n                list.add(new CensusData(Integer.parseInt(s.split(&quot;,&quot;)[0].trim()),\n                        s.split(&quot;,&quot;)[1].trim(),\n                        Integer.parseInt(s.split(&quot;,&quot;)[2].trim()),\n                        Integer.parseInt(s.split(&quot;,&quot;)[3].trim()),\n                        s.split(&quot;,&quot;)[4].trim(),\n                        Integer.parseInt(s.split(&quot;,&quot;)[5].trim()),\n                        s.split(&quot;,&quot;)[6].trim(),\n                        s.split(&quot;,&quot;)[7].trim(),\n                        s.split(&quot;,&quot;)[8].trim(),\n                        s.split(&quot;,&quot;)[9].trim(),\n                        s.split(&quot;,&quot;)[10].trim(),\n                        s.split(&quot;,&quot;)[11].trim(),\n                        s.split(&quot;,&quot;)[12].trim(),\n                        s.split(&quot;,&quot;)[13].trim(),\n                        s.split(&quot;,&quot;)[14].trim(),\n                        s.split(&quot;,&quot;)[15].trim(),\n                        Integer.parseInt(s.split(&quot;,&quot;)[16].trim()),\n                        Integer.parseInt(s.split(&quot;,&quot;)[17].trim()),\n                        Integer.parseInt(s.split(&quot;,&quot;)[18].trim()),\n                        s.split(&quot;,&quot;)[19].trim(),\n                        s.split(&quot;,&quot;)[20].trim(),\n                        s.split(&quot;,&quot;)[21].trim(),\n                        s.split(&quot;,&quot;)[22].trim(),\n                        s.split(&quot;,&quot;)[24].trim(),\n                        s.split(&quot;,&quot;)[25].trim(),\n                        s.split(&quot;,&quot;)[26].trim(),\n                        s.split(&quot;,&quot;)[27].trim(),\n                        s.split(&quot;,&quot;)[28].trim(),\n                        s.split(&quot;,&quot;)[29].trim(),\n                        s.split(&quot;,&quot;)[30].trim(),\n                        s.split(&quot;,&quot;)[31].trim(),\n                        s.split(&quot;,&quot;)[32].trim(),\n                        s.split(&quot;,&quot;)[33].trim(),\n                        s.split(&quot;,&quot;)[34].trim(),\n                        s.split(&quot;,&quot;)[35].trim(),\n                        s.split(&quot;,&quot;)[36].trim(),\n                        s.split(&quot;,&quot;)[37].trim(),\n                        s.split(&quot;,&quot;)[38].trim(),\n                        Integer.parseInt(s.split(&quot;,&quot;)[39].trim()),\n                        s.split(&quot;,&quot;)[40].trim()));\n            }\n            // note that Scanner suppresses exceptions\n            if (sc.ioException() != null) {\n                throw sc.ioException();\n            }\n        } catch (Exception e) {\n           e.printStackTrace();\n        }\n</code></pre>\n<p>i know increasing Xmx size will help (which in my case will not), i'm looking for a real solution. why heap size is exceeded while i'm not storing any new instance inside the loop?</p>\n<p>also consider the case. i need to get an array of <code>CensusData</code> out of the file.\ntherefore i iterate each line of the text file and split it to get necessary data for creating that array.</p>\n"},{"tags":["java","android","arrays"],"answers":[{"tags":[],"owner":{"account_id":48759,"reputation":16097,"user_id":144969,"display_name":"Dimitar Dimitrov"},"down_vote_count":0,"up_vote_count":231,"is_accepted":true,"score":231,"last_activity_date":1427287088,"creation_date":1268740786,"answer_id":2454084,"question_id":2453989,"body_markdown":"You can&#39;t initialize your `testArray` field this way, because the application resources still aren&#39;t ready.\r\n\r\nJust change the code to:\r\n\r\n    package com.xtensivearts.episode.seven;\r\n    \r\n    import android.app.ListActivity;\r\n    import android.os.Bundle;\r\n    import android.widget.ArrayAdapter;\r\n   \r\n    public class Episode7 extends ListActivity {\r\n        String[] mTestArray;\r\n    \r\n        /** Called when the activity is first created. */\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        \r\n            // Create an ArrayAdapter that will contain all list items\r\n            ArrayAdapter&lt;String&gt; adapter;\r\n    \r\n            mTestArray = getResources().getStringArray(R.array.testArray);    \r\n\r\n            /* Assign the name array to that adapter and \r\n            also choose a simple layout for the list items */ \r\n            adapter = new ArrayAdapter&lt;String&gt;(\r\n                this,\r\n                android.R.layout.simple_list_item_1,\r\n                mTestArray);\r\n    \r\n            // Assign the adapter to this ListActivity\r\n            setListAdapter(adapter);\r\n        }\r\n    }\r\n\r\n","title":"How to get String Array from arrays.xml file","body":"<p>You can't initialize your <code>testArray</code> field this way, because the application resources still aren't ready.</p>\n\n<p>Just change the code to:</p>\n\n<pre><code>package com.xtensivearts.episode.seven;\n\nimport android.app.ListActivity;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\n\npublic class Episode7 extends ListActivity {\n    String[] mTestArray;\n\n    /** Called when the activity is first created. */\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        // Create an ArrayAdapter that will contain all list items\n        ArrayAdapter&lt;String&gt; adapter;\n\n        mTestArray = getResources().getStringArray(R.array.testArray);    \n\n        /* Assign the name array to that adapter and \n        also choose a simple layout for the list items */ \n        adapter = new ArrayAdapter&lt;String&gt;(\n            this,\n            android.R.layout.simple_list_item_1,\n            mTestArray);\n\n        // Assign the adapter to this ListActivity\n        setListAdapter(adapter);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":209242,"reputation":2440,"user_id":460156,"accept_rate":64,"display_name":"HaMMeReD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292626675,"creation_date":1292626675,"answer_id":4475484,"question_id":2453989,"body_markdown":"Your XML is not entirely clear, but arrays XML can cause force closes if you make them numbers, and/or put white space in their definition.\r\n\r\nMake sure they are defined like &lt;this&gt;No Leading or Trailing Whitespace&lt;/this&gt;","title":"How to get String Array from arrays.xml file","body":"<p>Your XML is not entirely clear, but arrays XML can cause force closes if you make them numbers, and/or put white space in their definition.</p>\n\n<p>Make sure they are defined like No Leading or Trailing Whitespace</p>\n"},{"tags":[],"owner":{"account_id":1663845,"reputation":20579,"user_id":1531657,"accept_rate":55,"display_name":"Muhammad Aamir Ali"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1354001067,"creation_date":1354001067,"answer_id":13579275,"question_id":2453989,"body_markdown":"Your array.xml is not right. change it to like this\r\n\r\nHere is array.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;  \r\n    &lt;resources&gt;  \r\n        &lt;string-array name=&quot;testArray&quot;&gt;  \r\n            &lt;item&gt;first&lt;/item&gt;  \r\n            &lt;item&gt;second&lt;/item&gt;  \r\n            &lt;item&gt;third&lt;/item&gt;  \r\n            &lt;item&gt;fourth&lt;/item&gt;  \r\n            &lt;item&gt;fifth&lt;/item&gt;  \r\n       &lt;/string-array&gt;\r\n    &lt;/resources&gt;\r\n","title":"How to get String Array from arrays.xml file","body":"<p>Your array.xml is not right. change it to like this</p>\n\n<p>Here is array.xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;  \n&lt;resources&gt;  \n    &lt;string-array name=\"testArray\"&gt;  \n        &lt;item&gt;first&lt;/item&gt;  \n        &lt;item&gt;second&lt;/item&gt;  \n        &lt;item&gt;third&lt;/item&gt;  \n        &lt;item&gt;fourth&lt;/item&gt;  \n        &lt;item&gt;fifth&lt;/item&gt;  \n   &lt;/string-array&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21159740,"reputation":83,"user_id":15558237,"display_name":"rama-void"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638857418,"creation_date":1638857418,"answer_id":70255622,"question_id":2453989,"body_markdown":"You can also get the string array from xml as ArrayList&lt;String&gt; by the following code\r\n\r\nxml array: \r\n\r\n        &lt;string-array name=&quot;testArray&quot;&gt;  \r\n            &lt;item&gt;first&lt;/item&gt;  \r\n            &lt;item&gt;second&lt;/item&gt;  \r\n            &lt;item&gt;third&lt;/item&gt;  \r\n            &lt;item&gt;fourth&lt;/item&gt;  \r\n            &lt;item&gt;fifth&lt;/item&gt;  \r\n       &lt;/string-array&gt;\r\n\r\nkotlin code:\r\n\r\n    val stringArray: ArrayList&lt;String&gt; =  resources.getStringArray(R.array.testArray).toList() as ArrayList&lt;String&gt;","title":"How to get String Array from arrays.xml file","body":"<p>You can also get the string array from xml as ArrayList by the following code</p>\n<p>xml array:</p>\n<pre><code>    &lt;string-array name=&quot;testArray&quot;&gt;  \n        &lt;item&gt;first&lt;/item&gt;  \n        &lt;item&gt;second&lt;/item&gt;  \n        &lt;item&gt;third&lt;/item&gt;  \n        &lt;item&gt;fourth&lt;/item&gt;  \n        &lt;item&gt;fifth&lt;/item&gt;  \n   &lt;/string-array&gt;\n</code></pre>\n<p>kotlin code:</p>\n<pre><code>val stringArray: ArrayList&lt;String&gt; =  resources.getStringArray(R.array.testArray).toList() as ArrayList&lt;String&gt;\n</code></pre>\n"}],"owner":{"account_id":111588,"reputation":1747,"user_id":294703,"accept_rate":50,"display_name":"Soren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239195,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":2454084,"answer_count":4,"score":126,"last_activity_date":1638857418,"creation_date":1268739922,"question_id":2453989,"body_markdown":"I am just trying to display a list from an array that I have in my `arrays.xml`. When I try to run it in the emulator, I get a force close message. \r\n\r\nIf I define the array in the java file \r\n\r\n    String[] testArray = new String[] {&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;etc&quot;};\r\n\r\nit works, but when I use \r\n\r\n    String[] testArray = getResources().getStringArray(R.array.testArray);\r\n\r\nit doesnt work.\r\n\r\nHere is my Java file:\r\n\r\n    package com.xtensivearts.episode.seven;\r\n    \r\n    import android.app.ListActivity;\r\n    import android.os.Bundle;\r\n    import android.widget.ArrayAdapter;\r\n    \r\n    public class Episode7 extends ListActivity {\r\n     String[] testArray = getResources().getStringArray(R.array.testArray);\r\n     \r\n     /** Called when the activity is first created. */\r\n     @Override\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n      super.onCreate(savedInstanceState);\r\n    \r\n      // Create an ArrayAdapter that will contain all list items\r\n      ArrayAdapter&lt;String&gt; adapter;\r\n      \r\n      /* Assign the name array to that adapter and \r\n         also choose a simple layout for the list items */ \r\n      adapter = new ArrayAdapter&lt;String&gt;(\r\n        this,\r\n        android.R.layout.simple_list_item_1,\r\n        testArray);\r\n      \r\n      // Assign the adapter to this ListActivity\r\n      setListAdapter(adapter);\r\n     }\r\n    \r\n     \r\n    }\r\n\r\nHere is my `arrays.xml` file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;  \r\n    &lt;resources&gt;  \r\n      &lt;array name=&quot;testArray&quot;&gt;  \r\n        &lt;item&gt;first&lt;/item&gt;  \r\n        &lt;item&gt;second&lt;/item&gt;  \r\n        &lt;item&gt;third&lt;/item&gt;  \r\n        &lt;item&gt;fourth&lt;/item&gt;  \r\n        &lt;item&gt;fifth&lt;/item&gt;  \r\n      &lt;/array&gt;\r\n    &lt;/resources&gt;\r\n","title":"How to get String Array from arrays.xml file","body":"<p>I am just trying to display a list from an array that I have in my <code>arrays.xml</code>. When I try to run it in the emulator, I get a force close message. </p>\n\n<p>If I define the array in the java file </p>\n\n<pre><code>String[] testArray = new String[] {\"one\",\"two\",\"three\",\"etc\"};\n</code></pre>\n\n<p>it works, but when I use </p>\n\n<pre><code>String[] testArray = getResources().getStringArray(R.array.testArray);\n</code></pre>\n\n<p>it doesnt work.</p>\n\n<p>Here is my Java file:</p>\n\n<pre><code>package com.xtensivearts.episode.seven;\n\nimport android.app.ListActivity;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\n\npublic class Episode7 extends ListActivity {\n String[] testArray = getResources().getStringArray(R.array.testArray);\n\n /** Called when the activity is first created. */\n @Override\n protected void onCreate(Bundle savedInstanceState) {\n\n  super.onCreate(savedInstanceState);\n\n  // Create an ArrayAdapter that will contain all list items\n  ArrayAdapter&lt;String&gt; adapter;\n\n  /* Assign the name array to that adapter and \n     also choose a simple layout for the list items */ \n  adapter = new ArrayAdapter&lt;String&gt;(\n    this,\n    android.R.layout.simple_list_item_1,\n    testArray);\n\n  // Assign the adapter to this ListActivity\n  setListAdapter(adapter);\n }\n\n\n}\n</code></pre>\n\n<p>Here is my <code>arrays.xml</code> file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;  \n&lt;resources&gt;  \n  &lt;array name=\"testArray\"&gt;  \n    &lt;item&gt;first&lt;/item&gt;  \n    &lt;item&gt;second&lt;/item&gt;  \n    &lt;item&gt;third&lt;/item&gt;  \n    &lt;item&gt;fourth&lt;/item&gt;  \n    &lt;item&gt;fifth&lt;/item&gt;  \n  &lt;/array&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":1,"creation_date":1638859754,"post_id":70255611,"comment_id":124193122,"body_markdown":"please check this answer,https://stackoverflow.com/questions/66641751/couldnt-attach-file-send-email-android-11","body":"please check this answer,<a href=\"https://stackoverflow.com/questions/66641751/couldnt-attach-file-send-email-android-11\" title=\"couldnt attach file send email android 11\">stackoverflow.com/questions/66641751/&hellip;</a>"}],"owner":{"account_id":18480076,"reputation":11,"user_id":13462467,"display_name":"Alam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638857306,"creation_date":1638857306,"question_id":70255611,"body_markdown":"  Intent intentShareFile = new \r\n  Intent(Intent.ACTION_SEND);\r\n \r\n \r\n intentShareFile.putExtra(Intent.EXTRA_EMAIL, new String[] {mailTo});\r\n    File fileWithinMyDir = new File(path);\r\n    \r\n    if(fileWithinMyDir.exists()) {\r\n        intentShareFile.setType(&quot;application/pdf&quot;);\r\n        intentShareFile.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(myfile));\r\n\t\t\r\n    \r\n        intentShareFile.putExtra(Intent.EXTRA_SUBJECT,\r\n    \t\t\t\t\t\t&quot;SUBJECT&quot;);\r\n        intentShareFile.putExtra(Intent.EXTRA_TEXT, &quot;MESSAGE&quot;);\r\n\t\tintentShareFile.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\t\tintentShareFile.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n    \r\n        startActivity(Intent.createChooser(intentShareFile, &quot;Share File&quot;));\r\n    }\r\n\r\n - List item","title":"How can i attach pdf file from my internel storage to gmail app programatically","body":"<p>Intent intentShareFile = new\nIntent(Intent.ACTION_SEND);</p>\n<p>intentShareFile.putExtra(Intent.EXTRA_EMAIL, new String[] {mailTo});\nFile fileWithinMyDir = new File(path);</p>\n<pre><code>if(fileWithinMyDir.exists()) {\n    intentShareFile.setType(&quot;application/pdf&quot;);\n    intentShareFile.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(myfile));\n    \n\n    intentShareFile.putExtra(Intent.EXTRA_SUBJECT,\n                        &quot;SUBJECT&quot;);\n    intentShareFile.putExtra(Intent.EXTRA_TEXT, &quot;MESSAGE&quot;);\n    intentShareFile.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    intentShareFile.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n\n    startActivity(Intent.createChooser(intentShareFile, &quot;Share File&quot;));\n}\n</code></pre>\n<ul>\n<li>List item</li>\n</ul>\n"},{"tags":["java","enums","getter-setter","pojo"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1638854697,"post_id":70255274,"comment_id":124192085,"body_markdown":"You have already done that successfully. When your enum class first loads, each of the named objects will be instantiated. As part of that instantiation a new subject that presumably is a subclass of `EventType` will be stored on the member field named `eventType`. (By the way, you might want to make that field `private`.) And you have a getter method to retrieve that `EventType` object.  `EventType et = EventTypeName.CUSTOMER_EVENT.getEventType() ;`  So what is your question?","body":"You have already done that successfully. When your enum class first loads, each of the named objects will be instantiated. As part of that instantiation a new subject that presumably is a subclass of <code>EventType</code> will be stored on the member field named <code>eventType</code>. (By the way, you might want to make that field <code>private</code>.) And you have a getter method to retrieve that <code>EventType</code> object.  <code>EventType et = EventTypeName.CUSTOMER_EVENT.getEventType() ;</code>  So what is your question?"},{"owner":{"account_id":22636179,"reputation":11,"user_id":16812957,"display_name":"Fahd"},"score":0,"creation_date":1638855562,"post_id":70255274,"comment_id":124192236,"body_markdown":"It should not be this way                                                                  \n    MAIN_EVENT(new MainEvent()),\n    MAIN_ADJUSTMENT_EVENT(new MainAdjustmentEvent()),\n    CUSTOMER_EVENT(new CustomerEvent()),                                                                         These should be created automatically when we call from others and the object should get assigned @BasilBourque","body":"It should not be this way                                                                       MAIN_EVENT(new MainEvent()),     MAIN_ADJUSTMENT_EVENT(new MainAdjustmentEvent()),     CUSTOMER_EVENT(new CustomerEvent()),                                                                         These should be created automatically when we call from others and the object should get assigned @BasilBourque"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1638855645,"post_id":70255274,"comment_id":124192249,"body_markdown":"You can&#39;t dynamically create `enum` instances. enum can only be used if it is known at compile time what instances / values there are.","body":"You can&#39;t dynamically create <code>enum</code> instances. enum can only be used if it is known at compile time what instances / values there are."},{"owner":{"account_id":22636179,"reputation":11,"user_id":16812957,"display_name":"Fahd"},"score":0,"creation_date":1638855831,"post_id":70255274,"comment_id":124192288,"body_markdown":"Can we make it done in any other way to make it create dynamically. My requirement is to make it create dynamically","body":"Can we make it done in any other way to make it create dynamically. My requirement is to make it create dynamically"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1638855860,"post_id":70255274,"comment_id":124192299,"body_markdown":"Do you mean that you want each call to the `getEventType` method should return a new instance of one of the three subclasses? If so, that is possible,  but is likely a poor use of an enum.","body":"Do you mean that you want each call to the <code>getEventType</code> method should return a new instance of one of the three subclasses? If so, that is possible,  but is likely a poor use of an enum."},{"owner":{"account_id":22636179,"reputation":11,"user_id":16812957,"display_name":"Fahd"},"score":0,"creation_date":1638856146,"post_id":70255274,"comment_id":124192345,"body_markdown":"Yes my requirement is that way for now.. let me know incase any possibilities @BasilBourque","body":"Yes my requirement is that way for now.. let me know incase any possibilities @BasilBourque"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638857296,"creation_date":1638856196,"answer_id":70255479,"question_id":70255274,"body_markdown":"Apparently you want to instante a new subclass of `EventType` for each of the various enum objects, when the `getEventType` method is called. \r\n\r\nIn this situation, do not name your method with `get` prefix. In commonly used JavaBeans conventions, such a prefix indicates an accessory method to retrieve a property of the object. Given your intentions, a prefix of `new` or `make` may be more appropriate.\r\n\r\n\r\n```java\r\n\r\npublic enum EventTypeName\r\n{\r\n    MAIN_EVENT , MAIN_ADJUSTMENT_EVENT , CUSTOMER_EVENT ;\r\n\r\n    // Assumes MainEvent, MainAdjustmentEvent, and CustomerEvent are all subclasses of EventType. \r\n    public EventType makeEventType()\r\n    {\r\n        if ( this.equals( MAIN_EVENT ) ) { return new MainEvent() ; }\r\n        if ( this.equals( MAIN_ADJUSTMENT_EVENT ) ) { return new MainAdjustmentEvent() ; }\r\n        if ( this.equals( CUSTOMER_EVENT ) ) { return new CustomerEvent() ; }\r\n    }\r\n}\r\n```\r\n\r\nUsage.\r\n\r\n    EventType eventType = EventTypeName.MAIN_ADJUSTMENT_EVENT.makeEventType() ;\r\n\r\n\r\n----------\r\n\r\n\r\nI get an unsettled feeling from looking at your code, suspecting a poor or flawed design. Likely from a misunderstanding of enums in Java. An enum should not be considered as a collection. You cannot define additional enum objects at runtime; they are defined at compile-time.","title":"How to create getters and setters for enum","body":"<p>Apparently you want to instante a new subclass of <code>EventType</code> for each of the various enum objects, when the <code>getEventType</code> method is called.</p>\n<p>In this situation, do not name your method with <code>get</code> prefix. In commonly used JavaBeans conventions, such a prefix indicates an accessory method to retrieve a property of the object. Given your intentions, a prefix of <code>new</code> or <code>make</code> may be more appropriate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic enum EventTypeName\n{\n    MAIN_EVENT , MAIN_ADJUSTMENT_EVENT , CUSTOMER_EVENT ;\n\n    // Assumes MainEvent, MainAdjustmentEvent, and CustomerEvent are all subclasses of EventType. \n    public EventType makeEventType()\n    {\n        if ( this.equals( MAIN_EVENT ) ) { return new MainEvent() ; }\n        if ( this.equals( MAIN_ADJUSTMENT_EVENT ) ) { return new MainAdjustmentEvent() ; }\n        if ( this.equals( CUSTOMER_EVENT ) ) { return new CustomerEvent() ; }\n    }\n}\n</code></pre>\n<p>Usage.</p>\n<pre><code>EventType eventType = EventTypeName.MAIN_ADJUSTMENT_EVENT.makeEventType() ;\n</code></pre>\n<hr />\n<p>I get an unsettled feeling from looking at your code, suspecting a poor or flawed design. Likely from a misunderstanding of enums in Java. An enum should not be considered as a collection. You cannot define additional enum objects at runtime; they are defined at compile-time.</p>\n"}],"owner":{"account_id":22636179,"reputation":11,"user_id":16812957,"display_name":"Fahd"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1638857296,"creation_date":1638854302,"question_id":70255274,"body_markdown":"    public enum EventTypeName\r\n    {\r\n        MAIN_EVENT(new MainEvent()),\r\n        MAIN_ADJUSTMENT_EVENT(new MainAdjustmentEvent()),\r\n        CUSTOMER_EVENT(new CustomerEvent()),\r\n         EventType eventType;\r\n    \r\n        private EventTypeName(EventType eventType)\r\n        {\r\n            this.eventType = eventType;\r\n        }\r\n    \r\n        public EventType getEventType()\r\n        {\r\n            return eventType;\r\n        }\r\n    }\r\n\r\n\r\nI need to make getters and getters and setters for all new events to be declared in enum.\r\n\r\n","title":"How to create getters and setters for enum","body":"<pre><code>public enum EventTypeName\n{\n    MAIN_EVENT(new MainEvent()),\n    MAIN_ADJUSTMENT_EVENT(new MainAdjustmentEvent()),\n    CUSTOMER_EVENT(new CustomerEvent()),\n     EventType eventType;\n\n    private EventTypeName(EventType eventType)\n    {\n        this.eventType = eventType;\n    }\n\n    public EventType getEventType()\n    {\n        return eventType;\n    }\n}\n</code></pre>\n<p>I need to make getters and getters and setters for all new events to be declared in enum.</p>\n"},{"tags":["java","war"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":4,"creation_date":1638857047,"post_id":70255541,"comment_id":124192527,"body_markdown":"A war file has a specific format; you cannot add arbitrary subdirectories. A JavaEE application server looks in certain places for certain things. https://en.m.wikipedia.org/wiki/WAR_(file_format). The file you have is not a war file.","body":"A war file has a specific format; you cannot add arbitrary subdirectories. A JavaEE application server looks in certain places for certain things. <a href=\"https://en.m.wikipedia.org/wiki/WAR_(file_format)\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/WAR_(file_format)</a>. The file you have is not a war file."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1638859725,"post_id":70255541,"comment_id":124193111,"body_markdown":"In short ... they messed up.  Bounce this back to the people who sent you that &quot;not really a WAR&quot; file.","body":"In short ... they messed up.  Bounce this back to the people who sent you that &quot;not really a WAR&quot; file."}],"owner":{"account_id":21737564,"reputation":49,"user_id":16045350,"display_name":"Chris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638856742,"creation_date":1638856742,"question_id":70255541,"body_markdown":"I have been asked to update an existing system before it is redeployed. Unfortunately, I don&#39;t have access to the source for the update - someone else has to get the full package, extract the bit I&#39;ll use (a .war file), and then send just that bit to me. My job is to modify the makefile to use the new version, and make any code changes needed to address compatibility issues.\r\n\r\nIn the last four versions I received the contents of the .war were all standard, but the latest file has everything contained in an extra folder in the root. The difference between the two is like this:\r\n\r\n[![Two directory trees, one of which contains an extra folder between the root and the first branches][1]][1]\r\n\r\nI assumed what I&#39;d been sent was good and I was just messing up the makefile, but I&#39;m starting to wonder if that&#39;s not the case. The big thing I&#39;m noticing is that in version 2.1, the paths referenced in the web.xml file don&#39;t seem to acknowledge the additional folder. For instance, there&#39;s a reference to a config file, but it&#39;s pointing at `/WEB-INF/unit4.properties` instead of `/software/WEB-INF/unit4.properties`\r\n\r\nIs the file I&#39;ve received likely fine, or is this something unusual? And if I do need to alter what I received, is there anything I&#39;ll need to do when modifying the .war beyond just extracting it to a folder, changing the directory, then zipping it back up and renaming it as a .war file?\r\n\r\n  [1]: https://i.stack.imgur.com/rbXrz.png","title":"Does this nonstandard .war file require modification?","body":"<p>I have been asked to update an existing system before it is redeployed. Unfortunately, I don't have access to the source for the update - someone else has to get the full package, extract the bit I'll use (a .war file), and then send just that bit to me. My job is to modify the makefile to use the new version, and make any code changes needed to address compatibility issues.</p>\n<p>In the last four versions I received the contents of the .war were all standard, but the latest file has everything contained in an extra folder in the root. The difference between the two is like this:</p>\n<p><a href=\"https://i.stack.imgur.com/rbXrz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rbXrz.png\" alt=\"Two directory trees, one of which contains an extra folder between the root and the first branches\" /></a></p>\n<p>I assumed what I'd been sent was good and I was just messing up the makefile, but I'm starting to wonder if that's not the case. The big thing I'm noticing is that in version 2.1, the paths referenced in the web.xml file don't seem to acknowledge the additional folder. For instance, there's a reference to a config file, but it's pointing at <code>/WEB-INF/unit4.properties</code> instead of <code>/software/WEB-INF/unit4.properties</code></p>\n<p>Is the file I've received likely fine, or is this something unusual? And if I do need to alter what I received, is there anything I'll need to do when modifying the .war beyond just extracting it to a folder, changing the directory, then zipping it back up and renaming it as a .war file?</p>\n"},{"tags":["java","dictionary","java-8","stream","option-type"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1638856438,"post_id":70255486,"comment_id":124192408,"body_markdown":"Dont use raw types. `List&lt;A&gt;` has a raw type as `A` is generic. Raw types and type inference dont play nice!","body":"Dont use raw types. <code>List&lt;A&gt;</code> has a raw type as <code>A</code> is generic. Raw types and type inference dont play nice!"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1638856659,"post_id":70255486,"comment_id":124192451,"body_markdown":"The raw type `A` in `List&lt;A&gt;` causes you to lose all generic information, including the return type on `getOp()`, even if it&#39;s unrelated to `T`. Also, `Optional&lt;Integer&gt; getOp()` *smells* when the enclosing type is `A&lt;T&gt;`. Shouldn&#39;t it be having something to do with `Optional&lt;T&gt;`?","body":"The raw type <code>A</code> in <code>List&lt;A&gt;</code> causes you to lose all generic information, including the return type on <code>getOp()</code>, even if it&#39;s unrelated to <code>T</code>. Also, <code>Optional&lt;Integer&gt; getOp()</code> <i>smells</i> when the enclosing type is <code>A&lt;T&gt;</code>. Shouldn&#39;t it be having something to do with <code>Optional&lt;T&gt;</code>?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1638857099,"post_id":70255486,"comment_id":124192539,"body_markdown":"What about using `List&lt;A&lt;?&gt;&gt;` instead of `List&lt;A&gt;`?","body":"What about using <code>List&lt;A&lt;?&gt;&gt;</code> instead of <code>List&lt;A&gt;</code>?"},{"owner":{"account_id":4094869,"reputation":126,"user_id":3361953,"display_name":"petyanca"},"score":0,"creation_date":1638857128,"post_id":70255486,"comment_id":124192547,"body_markdown":"It&#39;s just an example when a generic has a method not dependent on generic type parameter. Real example looks like `class A implements Iterable&lt;B&gt;` where `B` is a generic interface. So `A` declaration uses &quot;raw interface&quot; as type parameter. I&#39;ll read up on this. Thanks!","body":"It&#39;s just an example when a generic has a method not dependent on generic type parameter. Real example looks like <code>class A implements Iterable&lt;B&gt;</code> where <code>B</code> is a generic interface. So <code>A</code> declaration uses &quot;raw interface&quot; as type parameter. I&#39;ll read up on this. Thanks!"},{"owner":{"account_id":4094869,"reputation":126,"user_id":3361953,"display_name":"petyanca"},"score":0,"creation_date":1638857358,"post_id":70255486,"comment_id":124192601,"body_markdown":"@dan1st it works)","body":"@dan1st it works)"},{"owner":{"account_id":9109424,"reputation":718,"user_id":6778706,"display_name":"Amad&#225;n"},"score":0,"creation_date":1638868840,"post_id":70255486,"comment_id":124196012,"body_markdown":"@dan1st `List&lt;A&gt;` and `List&lt;A&lt;?&gt;&gt;` are the same. You might want to use `List&lt;A&lt;T&gt;&gt;` instead. It is not clear to me what you need the `T` for, though.","body":"@dan1st <code>List&lt;A&gt;</code> and <code>List&lt;A&lt;?&gt;&gt;</code> are the same. You might want to use <code>List&lt;A&lt;T&gt;&gt;</code> instead. It is not clear to me what you need the <code>T</code> for, though."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":3,"creation_date":1638873210,"post_id":70255486,"comment_id":124197604,"body_markdown":"It is not the same. `A` is a raw type and `A&lt;?&gt;` is a wildcard generic type. It seems that the raw type was the problem.","body":"It is not the same. <code>A</code> is a raw type and <code>A&lt;?&gt;</code> is a wildcard generic type. It seems that the raw type was the problem."}],"owner":{"account_id":4094869,"reputation":126,"user_id":3361953,"display_name":"petyanca"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638856240,"creation_date":1638856240,"question_id":70255486,"body_markdown":"I had a compiler problem which I was able to reduce to this example. This code\r\n```\r\nclass A&lt;T&gt; {\r\n    Optional&lt;Integer&gt; op;\r\n\r\n    public Optional&lt;Integer&gt; getOp() {\r\n        return op;\r\n    }\r\n}\r\nList&lt;A&gt; l = null;\r\nl.stream().map(x -&gt; x.getOp().orElse(0)).max(Comparator.naturalOrder());\r\n```\r\ndoesn&#39;t compile with\r\n\r\n```\r\nerror: incompatible types: inference variable T has incompatible bounds\r\n    [javac]         l.stream().map(x -&gt; x.getOp().orElse(0)).max(Comparator.naturalOrder());\r\n    [javac]                                                                             ^\r\n```\r\n\r\nIf I remove generic parameter `&lt;T&gt;` (which is not used in the class at all) then this snippet compiles. What is going on here? I&#39;m using Java 8.","title":"Map on stream of Optionals type","body":"<p>I had a compiler problem which I was able to reduce to this example. This code</p>\n<pre><code>class A&lt;T&gt; {\n    Optional&lt;Integer&gt; op;\n\n    public Optional&lt;Integer&gt; getOp() {\n        return op;\n    }\n}\nList&lt;A&gt; l = null;\nl.stream().map(x -&gt; x.getOp().orElse(0)).max(Comparator.naturalOrder());\n</code></pre>\n<p>doesn't compile with</p>\n<pre><code>error: incompatible types: inference variable T has incompatible bounds\n    [javac]         l.stream().map(x -&gt; x.getOp().orElse(0)).max(Comparator.naturalOrder());\n    [javac]                                                                             ^\n</code></pre>\n<p>If I remove generic parameter <code>&lt;T&gt;</code> (which is not used in the class at all) then this snippet compiles. What is going on here? I'm using Java 8.</p>\n"},{"tags":["java","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":1,"creation_date":1638839698,"post_id":70253688,"comment_id":124189644,"body_markdown":"You can google ```bst delete node```","body":"You can google <code>bst delete node</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638847419,"post_id":70253688,"comment_id":124190891,"body_markdown":"Please learn that youre supposed to search before posting a question here, and in your question account for what you found and in what way it was insufficient for answering your question. As @zysaaa seems to indicate, in this case you would likely have found your answer easily. Theres no need waiting around for hours for us to find it for you.","body":"Please learn that youre supposed to search before posting a question here, and in your question account for what you found and in what way it was insufficient for answering your question. As @zysaaa seems to indicate, in this case you would likely have found your answer easily. Theres no need waiting around for hours for us to find it for you."}],"owner":{"account_id":22862852,"reputation":1,"user_id":17006642,"display_name":"JokerFever"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638847525,"answer_count":0,"score":0,"last_activity_date":1638855984,"creation_date":1638838165,"question_id":70253688,"body_markdown":"So, I recently got to know what binary search trees are, but I have one question. How do you delete a root of a binary search tree if it already has a right and a left? And those right and left, have their own respective right and left sides? I&#39;m still not sure how to do this, can someone help me","title":"Binary Search Tree Question about root deletion","body":"<p>So, I recently got to know what binary search trees are, but I have one question. How do you delete a root of a binary search tree if it already has a right and a left? And those right and left, have their own respective right and left sides? I'm still not sure how to do this, can someone help me</p>\n"},{"tags":["java","scala","shell","apache-spark","unix"],"comments":[{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":1,"creation_date":1638901076,"post_id":70255440,"comment_id":124209193,"body_markdown":"Where are your different elements? Scripts? Cluster? Data? Remember: all needs to be accessible from everywhere.","body":"Where are your different elements? Scripts? Cluster? Data? Remember: all needs to be accessible from everywhere."}],"owner":{"account_id":9299080,"reputation":59,"user_id":6905168,"display_name":"mukesh dewangan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638855896,"creation_date":1638855896,"question_id":70255440,"body_markdown":"I have a Unix shell script that creates some files based on business logic. I have another project which is java spark based and we run it in cluster mode. By any chance can we call the shell script successfully without making any code changes in the shell script. Currently, it only works when I run the job in client mode.","title":"Run shell script using Spark cluster mode in the node where the spark submit is issued","body":"<p>I have a Unix shell script that creates some files based on business logic. I have another project which is java spark based and we run it in cluster mode. By any chance can we call the shell script successfully without making any code changes in the shell script. Currently, it only works when I run the job in client mode.</p>\n"},{"tags":["java","android","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":12885724,"reputation":121,"user_id":9319290,"display_name":"Tobias Alt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638804128,"creation_date":1638803388,"answer_id":70247624,"question_id":70246611,"body_markdown":"For just showing Web-Content from an existing URL, I would recommend to implement an Android WebView.\r\n\r\nYour current popup-View is defined as Android TextView:\r\n\r\n    ((TextView) popupView.findViewById(R.id.contentView)).setText(content);\r\n\r\nChange this to a WebView (in the xml &quot;Design-/Layout-View&quot; Tool)\r\n\r\nFor an example look at Android Developer Docs https://developer.android.com/guide/webapps/webview\r\n\r\nIt is straigt forward to use, you can invoke JS if necessary.\r\n\r\nDont forget to change your manifest-file for permissions.\r\n\r\n    &lt;manifest ... &gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        ...\r\n    &lt;/manifest&gt;","title":"How can I change the Type GUI Element from TextView to HTMLView","body":"<p>For just showing Web-Content from an existing URL, I would recommend to implement an Android WebView.</p>\n<p>Your current popup-View is defined as Android TextView:</p>\n<pre><code>((TextView) popupView.findViewById(R.id.contentView)).setText(content);\n</code></pre>\n<p>Change this to a WebView (in the xml &quot;Design-/Layout-View&quot; Tool)</p>\n<p>For an example look at Android Developer Docs <a href=\"https://developer.android.com/guide/webapps/webview\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/webapps/webview</a></p>\n<p>It is straigt forward to use, you can invoke JS if necessary.</p>\n<p>Dont forget to change your manifest-file for permissions.</p>\n<pre><code>&lt;manifest ... &gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    ...\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":23518836,"reputation":11,"user_id":17566307,"display_name":"Irina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638854801,"creation_date":1638798942,"question_id":70246611,"body_markdown":"I have a code, that is a website and I need to write an App, that shows just this page.\r\nBut the problem is that my code didn&#39;t see the Hyperlinks because I need to change from TextView to HTMLView. \r\nthis is the code:\r\n\r\n        public class BlackBoardClient {\r\n        private static final String BLACK_BOARD_URL = &quot;https://zpa.cs.hm.edu/public/notice_board/&quot;;\r\n        private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\r\n    \r\n        public static List&lt;BlackBoardEntry&gt; getBlackBoardEntries() throws IOException  {\r\n            List&lt;BlackBoardEntry&gt; entries = new ArrayList&lt;&gt;();\r\n            Document doc = Jsoup.connect(BLACK_BOARD_URL).get();\r\n            Element newsTable = doc.getElementById(&quot;content&quot;).selectFirst(&quot;table&quot;);\r\n            Iterable&lt;Element&gt; rows = newsTable.selectFirst(&quot;tbody&quot;).children();\r\n    \r\n            for (Element row : rows) {\r\n                Iterator&lt;Element&gt; columns = row.children().iterator();\r\n                String author = columns.next().text();\r\n                String title = columns.next().text();\r\n                String content = columns.next().text();\r\n                LocalDate validFrom = LocalDate.parse(columns.next().text(), FORMATTER);\r\n                LocalDate validUntil = LocalDate.parse(columns.next().text(), FORMATTER);\r\n                BlackBoardEntry entry = new BlackBoardEntry(author, title, content, validFrom, validUntil);\r\n                entries.add(entry);\r\n            }\r\n    \r\n            return entries;\r\n        }\r\n    }\r\n\r\nIt shows like this: [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IGask.png\r\n\r\n   \r\n\r\n     public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            ListView dataList = findViewById(R.id.dataList);\r\n    \r\n            dataList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                    BlackBoardEntry entry = (BlackBoardEntry) parent.getItemAtPosition(position);\r\n                    String content = entry.getContent();\r\n                    LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                    View popupView = inflater.inflate(R.layout.content_popup, null, false);\r\n                    ((TextView) popupView.findViewById(R.id.contentView)).setText(content);\r\n    \r\n                    PopupWindow popup = new PopupWindow(popupView, 500, 1000, true);\r\n                    popup.showAtLocation(parent, Gravity.CENTER, 0, 0);\r\n    \r\n    \r\n                    }\r\n            });\r\n    \r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        List&lt;BlackBoardEntry&gt; entries = BlackBoardClient.getBlackBoardEntries();\r\n                        BlackBoardAdapter adapter = new BlackBoardAdapter(entries, getApplicationContext());\r\n                        dataList.post(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                dataList.setAdapter(adapter);\r\n                            }\r\n                        });\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n\r\n","title":"How can I change the Type GUI Element from TextView to HTMLView","body":"<p>I have a code, that is a website and I need to write an App, that shows just this page.\nBut the problem is that my code didn't see the Hyperlinks because I need to change from TextView to HTMLView.\nthis is the code:</p>\n<pre><code>    public class BlackBoardClient {\n    private static final String BLACK_BOARD_URL = &quot;https://zpa.cs.hm.edu/public/notice_board/&quot;;\n    private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\n\n    public static List&lt;BlackBoardEntry&gt; getBlackBoardEntries() throws IOException  {\n        List&lt;BlackBoardEntry&gt; entries = new ArrayList&lt;&gt;();\n        Document doc = Jsoup.connect(BLACK_BOARD_URL).get();\n        Element newsTable = doc.getElementById(&quot;content&quot;).selectFirst(&quot;table&quot;);\n        Iterable&lt;Element&gt; rows = newsTable.selectFirst(&quot;tbody&quot;).children();\n\n        for (Element row : rows) {\n            Iterator&lt;Element&gt; columns = row.children().iterator();\n            String author = columns.next().text();\n            String title = columns.next().text();\n            String content = columns.next().text();\n            LocalDate validFrom = LocalDate.parse(columns.next().text(), FORMATTER);\n            LocalDate validUntil = LocalDate.parse(columns.next().text(), FORMATTER);\n            BlackBoardEntry entry = new BlackBoardEntry(author, title, content, validFrom, validUntil);\n            entries.add(entry);\n        }\n\n        return entries;\n    }\n}\n</code></pre>\n<p>It shows like this: <a href=\"https://i.stack.imgur.com/IGask.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code> public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ListView dataList = findViewById(R.id.dataList);\n\n        dataList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                BlackBoardEntry entry = (BlackBoardEntry) parent.getItemAtPosition(position);\n                String content = entry.getContent();\n                LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n                View popupView = inflater.inflate(R.layout.content_popup, null, false);\n                ((TextView) popupView.findViewById(R.id.contentView)).setText(content);\n\n                PopupWindow popup = new PopupWindow(popupView, 500, 1000, true);\n                popup.showAtLocation(parent, Gravity.CENTER, 0, 0);\n\n\n                }\n        });\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    List&lt;BlackBoardEntry&gt; entries = BlackBoardClient.getBlackBoardEntries();\n                    BlackBoardAdapter adapter = new BlackBoardAdapter(entries, getApplicationContext());\n                    dataList.post(new Runnable() {\n                        @Override\n                        public void run() {\n                            dataList.setAdapter(adapter);\n                        }\n                    });\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n"},{"tags":["java","google-speech-to-text-api"],"comments":[{"owner":{"account_id":18674005,"reputation":485,"user_id":13612096,"display_name":"Shreyas B"},"score":0,"creation_date":1638805012,"post_id":70242025,"comment_id":124179116,"body_markdown":"Just curious, doesn&#39;t GCS use URL starting with `gs://`?","body":"Just curious, doesn&#39;t GCS use URL starting with <code>gs:&#47;&#47;</code>?"},{"owner":{"account_id":22958905,"reputation":3,"user_id":17089095,"display_name":" "},"score":0,"creation_date":1638806048,"post_id":70242025,"comment_id":124179545,"body_markdown":"me curious too) but in many examples path specify as gs://","body":"me curious too) but in many examples path specify as gs://"},{"owner":{"account_id":18674005,"reputation":485,"user_id":13612096,"display_name":"Shreyas B"},"score":0,"creation_date":1638807985,"post_id":70242025,"comment_id":124180359,"body_markdown":"Can you specify `gs://summaryapp/record1638730255219.wav` instead of `gc://summaryapp/record1638730255219.wav` and try it?","body":"Can you specify <code>gs:&#47;&#47;summaryapp&#47;record1638730255219.wav</code> instead of <code>gc:&#47;&#47;summaryapp&#47;record1638730255219.wav</code> and try it?"},{"owner":{"account_id":22958905,"reputation":3,"user_id":17089095,"display_name":" "},"score":0,"creation_date":1638816592,"post_id":70242025,"comment_id":124183516,"body_markdown":"thanks! now i am do not have any messages about invalid path, but now i still not get any recognize result - see UPD above.","body":"thanks! now i am do not have any messages about invalid path, but now i still not get any recognize result - see UPD above."}],"owner":{"account_id":22958905,"reputation":3,"user_id":17089095,"display_name":" "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638854783,"creation_date":1638775354,"question_id":70242025,"body_markdown":"Help me please if you can)\r\nI am trying to use google speech to text API. I have uploaded an audio file ( record1638730550724.wav) on google storage bucket with the name &quot;summaryapp&quot;. But when i try to make longrecognize request i get this error\r\n\r\n&gt; 2021-12-05 18:56:20 INFO  RecordController:60 -\r\n&gt; com.google.api.gax.rpc.InvalidArgumentException:\r\n&gt; io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Audio URI\r\n&gt; `gc://summaryapp/record1638730255219.wav` is an invalid GCS path.\r\n\r\nRecognizeRequestHandler class:\r\n\r\n        public class RecognizeRequestHandler {\r\n    \r\n    \r\n        private static CallsInfo callsInfo;\r\n        @Autowired\r\n        private static CallsInfoDaoImpl callsInfoDao;\r\n    \r\n        public static void asyncRecognizeGcs(String gcsUri, int oid) throws Exception {\r\n            // Configure polling algorithm\r\n            SpeechSettings.Builder speechSettings = SpeechSettings.newBuilder();\r\n            TimedRetryAlgorithm timedRetryAlgorithm =\r\n                    OperationTimedPollAlgorithm.create(\r\n                            RetrySettings.newBuilder()\r\n                                    .setInitialRetryDelay(Duration.ofMillis(500L))\r\n                                    .setRetryDelayMultiplier(1.5)\r\n                                    .setMaxRetryDelay(Duration.ofMillis(5000L))\r\n                                    .setInitialRpcTimeout(Duration.ZERO) // ignored\r\n                                    .setRpcTimeoutMultiplier(1.0) // ignored\r\n                                    .setMaxRpcTimeout(Duration.ZERO) // ignored\r\n                                    .setTotalTimeout(Duration.ofHours(24L)) // set polling timeout to 24 hours\r\n                                    .build());\r\n            speechSettings.longRunningRecognizeOperationSettings().setPollingAlgorithm(timedRetryAlgorithm);\r\n    \r\n            // Instantiates a client with GOOGLE_APPLICATION_CREDENTIALS\r\n            try (SpeechClient speech = SpeechClient.create(speechSettings.build())) {\r\n    \r\n                // Configure remote file request for FLAC\r\n                RecognitionConfig config =\r\n                        RecognitionConfig.newBuilder()\r\n                                .setEncoding(AudioEncoding.LINEAR16)\r\n                                .setLanguageCode(&quot;ru-RU&quot;)\r\n                                .setSampleRateHertz(16000)\r\n                                .build();\r\n                RecognitionAudio audio = RecognitionAudio.newBuilder().setUri(gcsUri).build();\r\n    \r\n                // Use non-blocking call for getting file transcription\r\n                OperationFuture&lt;LongRunningRecognizeResponse, LongRunningRecognizeMetadata&gt; response =\r\n                        speech.longRunningRecognizeAsync(config, audio);\r\n                while (!response.isDone()) {\r\n                    System.out.println(&quot;Waiting for response...&quot;);\r\n                    Thread.sleep(10000);\r\n                }\r\n    \r\n                List&lt;SpeechRecognitionResult&gt; results = response.get().getResultsList();\r\n    \r\n                for (SpeechRecognitionResult result : results) {\r\n                    // There can be several alternative transcripts for a given chunk of speech. Just use the\r\n                    // first (most likely) one here.\r\n                    SpeechRecognitionAlternative alternative = result.getAlternativesList().get(0);\r\n                    System.out.printf(&quot;Transcription: %s\\n&quot;, alternative.getTranscript());\r\n    \r\n                    //Trying to write response to database\r\n                    Date date = new Date(System.currentTimeMillis());\r\n                    String text = alternative.getTranscript();\r\n                    callsInfo = new CallsInfo(oid, date, text);\r\n                    callsInfoDao.create(callsInfo);\r\n                }\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nAnd this is RecordController class, which call Recognize class with GCS URL\r\n\r\n    public class RecordController {\r\n    \r\n        public static Logger logger = LoggerFactory.getLogger(RecordController.class);\r\n    \r\n        @Autowired\r\n        AuthToken authToken;\r\n    \r\n        @Autowired\r\n        AuthTokenDaoImpl authTokenDao;\r\n    \r\n        @Autowired\r\n        AudioRecord audioRecord;\r\n    \r\n        @Autowired\r\n        RecordDaoImpl recordDao;\r\n    \r\n        Thread t;\r\n    \r\n        private String RESULT = &quot;NO MATCHING&quot;;\r\n        private String GCS_URL = &quot;gc://summaryapp/&quot;;\r\n        private String RECORD_FILE_NAME = &quot;&quot;;\r\n    \r\n        @PostMapping(value = &quot;/newAudioRecord&quot;, consumes = &quot;application/json&quot;,\r\n                produces = &quot;text/plain;charset=UTF-8&quot;)\r\n        public String postNewRecord(@RequestParam(value = &quot;token&quot;, required = true) String token,\r\n                                    @RequestBody AudioRecord audioRecord) throws JsonProcessingException {\r\n            System.out.println(audioRecord.getOid() + &quot; &quot; + audioRecord.getRecordFileName());\r\n            authToken = authTokenDao.readByToken(token);\r\n            if (authToken != null) {\r\n                RECORD_FILE_NAME = audioRecord.getRecordFileName();\r\n                audioRecord.setOid(authToken.getOid());\r\n                recordDao.create(audioRecord);\r\n                AudioRecord resultAudioRecord = recordDao.readByName(audioRecord.getOid(),\r\n                        audioRecord.getRecordFileName());\r\n                ObjectMapper mapper = new ObjectMapper();\r\n                RESULT = mapper.writeValueAsString(resultAudioRecord);\r\n    \r\n                      try {\r\n                          RecognizeRequestHandler.asyncRecognizeGcs(GCS_URL+RECORD_FILE_NAME, audioRecord.getOid());\r\n                      } catch (Exception e) {\r\n                          logger.info(e.getMessage());\r\n                      }\r\n            }\r\n            return RESULT;\r\n        }\r\n    }\r\n\r\n**UPD:** After changing gc:// to gs:// in path i am do not get any messages about &quot;invalid path&quot;. But now process ends with following lines in logs:\r\n\r\n&gt; 2021-12-06 18:37:34 INFO  RecognizeRequestHandler:108 - --------&gt;\r\n&gt; Result list size: 0 2021-12-06 18:37:34 DEBUG NettyClientHandler:214 -\r\n&gt; [id: 0xa576e0da, L:/172.18.0.2:49394 -\r\n&gt; R:speech.googleapis.com/64.233.164.95:443] OUTBOUND GO_AWAY:\r\n&gt; lastStreamId=0 errorCode=0 length=0 bytes= 2021-12-06 18:37:35 DEBUG\r\n&gt; PoolThreadCache:229 - Freed 24 thread-local buffer(s) from thread:\r\n&gt; grpc-default-worker-ELG-1-4\r\n\r\nAs seen from &quot;sout debug&quot; - line of code\r\n\r\n    List&lt;SpeechRecognitionResult&gt; results = response.get().getResultsList();\r\n\r\nreturns a result list size: 0 \r\n&lt;br /&gt;\r\n--------&gt; Result list size: 0\r\n\r\n**UPD:** Audio recorded with next settings:\r\n\r\n    int mic = MediaRecorder.AudioSource.MIC;\r\n            recorder.setAudioSource(mic);\r\n            recorder.setOutputFormat(output_formats[currentFormat]); //MediaRecorder.OutputFormat.AAC_ADTS\r\n            recorder.setAudioEncoder(encoder); //MediaRecorder.AudioEncoder.AAC;\r\n            recorder.setAudioSamplingRate(sampleRate); //16000\r\n            recorder.setOutputFile(CurrentAudioFilePath);\r\n            recorder.setOnErrorListener(errorListener);\r\n            recorder.setOnInfoListener(infoListener);","title":"Audio URI `gc://...` is an invalid GCS path","body":"<p>Help me please if you can)\nI am trying to use google speech to text API. I have uploaded an audio file ( record1638730550724.wav) on google storage bucket with the name &quot;summaryapp&quot;. But when i try to make longrecognize request i get this error</p>\n<blockquote>\n<p>2021-12-05 18:56:20 INFO  RecordController:60 -\ncom.google.api.gax.rpc.InvalidArgumentException:\nio.grpc.StatusRuntimeException: INVALID_ARGUMENT: Audio URI\n<code>gc://summaryapp/record1638730255219.wav</code> is an invalid GCS path.</p>\n</blockquote>\n<p>RecognizeRequestHandler class:</p>\n<pre><code>    public class RecognizeRequestHandler {\n\n\n    private static CallsInfo callsInfo;\n    @Autowired\n    private static CallsInfoDaoImpl callsInfoDao;\n\n    public static void asyncRecognizeGcs(String gcsUri, int oid) throws Exception {\n        // Configure polling algorithm\n        SpeechSettings.Builder speechSettings = SpeechSettings.newBuilder();\n        TimedRetryAlgorithm timedRetryAlgorithm =\n                OperationTimedPollAlgorithm.create(\n                        RetrySettings.newBuilder()\n                                .setInitialRetryDelay(Duration.ofMillis(500L))\n                                .setRetryDelayMultiplier(1.5)\n                                .setMaxRetryDelay(Duration.ofMillis(5000L))\n                                .setInitialRpcTimeout(Duration.ZERO) // ignored\n                                .setRpcTimeoutMultiplier(1.0) // ignored\n                                .setMaxRpcTimeout(Duration.ZERO) // ignored\n                                .setTotalTimeout(Duration.ofHours(24L)) // set polling timeout to 24 hours\n                                .build());\n        speechSettings.longRunningRecognizeOperationSettings().setPollingAlgorithm(timedRetryAlgorithm);\n\n        // Instantiates a client with GOOGLE_APPLICATION_CREDENTIALS\n        try (SpeechClient speech = SpeechClient.create(speechSettings.build())) {\n\n            // Configure remote file request for FLAC\n            RecognitionConfig config =\n                    RecognitionConfig.newBuilder()\n                            .setEncoding(AudioEncoding.LINEAR16)\n                            .setLanguageCode(&quot;ru-RU&quot;)\n                            .setSampleRateHertz(16000)\n                            .build();\n            RecognitionAudio audio = RecognitionAudio.newBuilder().setUri(gcsUri).build();\n\n            // Use non-blocking call for getting file transcription\n            OperationFuture&lt;LongRunningRecognizeResponse, LongRunningRecognizeMetadata&gt; response =\n                    speech.longRunningRecognizeAsync(config, audio);\n            while (!response.isDone()) {\n                System.out.println(&quot;Waiting for response...&quot;);\n                Thread.sleep(10000);\n            }\n\n            List&lt;SpeechRecognitionResult&gt; results = response.get().getResultsList();\n\n            for (SpeechRecognitionResult result : results) {\n                // There can be several alternative transcripts for a given chunk of speech. Just use the\n                // first (most likely) one here.\n                SpeechRecognitionAlternative alternative = result.getAlternativesList().get(0);\n                System.out.printf(&quot;Transcription: %s\\n&quot;, alternative.getTranscript());\n\n                //Trying to write response to database\n                Date date = new Date(System.currentTimeMillis());\n                String text = alternative.getTranscript();\n                callsInfo = new CallsInfo(oid, date, text);\n                callsInfoDao.create(callsInfo);\n            }\n\n        }\n    }\n}\n</code></pre>\n<p>And this is RecordController class, which call Recognize class with GCS URL</p>\n<pre><code>public class RecordController {\n\n    public static Logger logger = LoggerFactory.getLogger(RecordController.class);\n\n    @Autowired\n    AuthToken authToken;\n\n    @Autowired\n    AuthTokenDaoImpl authTokenDao;\n\n    @Autowired\n    AudioRecord audioRecord;\n\n    @Autowired\n    RecordDaoImpl recordDao;\n\n    Thread t;\n\n    private String RESULT = &quot;NO MATCHING&quot;;\n    private String GCS_URL = &quot;gc://summaryapp/&quot;;\n    private String RECORD_FILE_NAME = &quot;&quot;;\n\n    @PostMapping(value = &quot;/newAudioRecord&quot;, consumes = &quot;application/json&quot;,\n            produces = &quot;text/plain;charset=UTF-8&quot;)\n    public String postNewRecord(@RequestParam(value = &quot;token&quot;, required = true) String token,\n                                @RequestBody AudioRecord audioRecord) throws JsonProcessingException {\n        System.out.println(audioRecord.getOid() + &quot; &quot; + audioRecord.getRecordFileName());\n        authToken = authTokenDao.readByToken(token);\n        if (authToken != null) {\n            RECORD_FILE_NAME = audioRecord.getRecordFileName();\n            audioRecord.setOid(authToken.getOid());\n            recordDao.create(audioRecord);\n            AudioRecord resultAudioRecord = recordDao.readByName(audioRecord.getOid(),\n                    audioRecord.getRecordFileName());\n            ObjectMapper mapper = new ObjectMapper();\n            RESULT = mapper.writeValueAsString(resultAudioRecord);\n\n                  try {\n                      RecognizeRequestHandler.asyncRecognizeGcs(GCS_URL+RECORD_FILE_NAME, audioRecord.getOid());\n                  } catch (Exception e) {\n                      logger.info(e.getMessage());\n                  }\n        }\n        return RESULT;\n    }\n}\n</code></pre>\n<p><strong>UPD:</strong> After changing gc:// to gs:// in path i am do not get any messages about &quot;invalid path&quot;. But now process ends with following lines in logs:</p>\n<blockquote>\n<p>2021-12-06 18:37:34 INFO  RecognizeRequestHandler:108 - --------&gt;\nResult list size: 0 2021-12-06 18:37:34 DEBUG NettyClientHandler:214 -\n[id: 0xa576e0da, L:/172.18.0.2:49394 -\nR:speech.googleapis.com/64.233.164.95:443] OUTBOUND GO_AWAY:\nlastStreamId=0 errorCode=0 length=0 bytes= 2021-12-06 18:37:35 DEBUG\nPoolThreadCache:229 - Freed 24 thread-local buffer(s) from thread:\ngrpc-default-worker-ELG-1-4</p>\n</blockquote>\n<p>As seen from &quot;sout debug&quot; - line of code</p>\n<pre><code>List&lt;SpeechRecognitionResult&gt; results = response.get().getResultsList();\n</code></pre>\n<p>returns a result list size: 0\n<br />\n--------&gt; Result list size: 0</p>\n<p><strong>UPD:</strong> Audio recorded with next settings:</p>\n<pre><code>int mic = MediaRecorder.AudioSource.MIC;\n        recorder.setAudioSource(mic);\n        recorder.setOutputFormat(output_formats[currentFormat]); //MediaRecorder.OutputFormat.AAC_ADTS\n        recorder.setAudioEncoder(encoder); //MediaRecorder.AudioEncoder.AAC;\n        recorder.setAudioSamplingRate(sampleRate); //16000\n        recorder.setOutputFile(CurrentAudioFilePath);\n        recorder.setOnErrorListener(errorListener);\n        recorder.setOnInfoListener(infoListener);\n</code></pre>\n"},{"tags":["java","android","android-studio","crash","android-edittext"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1638817891,"post_id":70250496,"comment_id":124183959,"body_markdown":"You read the text within the `onCreate()` method. That means that your `EditText` controls probably are still empty (the user had no time yet to enter anything) and `Float.parseFloat()` fails because what should the numerical value of an empty string be? To fix it you must move the reading of the `EditText` contents and the parsing into the `onCheckedChanged()` handler.","body":"You read the text within the <code>onCreate()</code> method. That means that your <code>EditText</code> controls probably are still empty (the user had no time yet to enter anything) and <code>Float.parseFloat()</code> fails because what should the numerical value of an empty string be? To fix it you must move the reading of the <code>EditText</code> contents and the parsing into the <code>onCheckedChanged()</code> handler."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1638826662,"post_id":70250496,"comment_id":124186828,"body_markdown":"You logged the error in your code, but didn&#39;t add that to your question. If you ever have an issue again it&#39;s recommended that you include the error message.","body":"You logged the error in your code, but didn&#39;t add that to your question. If you ever have an issue again it&#39;s recommended that you include the error message."},{"owner":{"account_id":20529400,"reputation":55,"user_id":15067071,"display_name":"Fardeen Khan"},"score":0,"creation_date":1639116710,"post_id":70250496,"comment_id":124271571,"body_markdown":"Thanks @ThomasKl&#228;ger for Explaining this issue","body":"Thanks @ThomasKl&#228;ger for Explaining this issue"},{"owner":{"account_id":20529400,"reputation":55,"user_id":15067071,"display_name":"Fardeen Khan"},"score":0,"creation_date":1639116836,"post_id":70250496,"comment_id":124271598,"body_markdown":"Does the same happens when some one assign audio to Media player in `onCreate()` function","body":"Does the same happens when some one assign audio to Media player in <code>onCreate()</code> function"}],"answers":[{"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638854003,"creation_date":1638853135,"answer_id":70255133,"question_id":70250496,"body_markdown":"**here you go**\r\n\r\nyou should get value from edittext at runtime when action perform,not at creating activity.\r\n\r\n    \r\n\r\n    package com.example.calculator;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.widget.EditText;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        RadioGroup radioGroup;\r\n        float ans;\r\n        EditText editText1,editText2;\r\n        TextView textView;\r\n        float num1, num2;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            //make sure that you entered value contains float,not other data type\r\n\r\n            editText1 = findViewById(R.id.first_number); \r\n            editText2 = findViewById(R.id.second_number);\r\n            \r\n            textView = findViewById(R.id.answer);\r\n            radioGroup = (RadioGroup) findViewById(R.id.radio_group);\r\n            radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                    try{\r\n                        num1 = Float.parseFloat(editText1.getText().toString()); //i&#39;m getting value here\r\n                    }catch(Exception e){\r\n                        Log.e(&quot;MainActivity&quot;, &quot;onCreate: Still Not Working&quot;, e);\r\n                    }\r\n                    try{\r\n                        num2 = Float.parseFloat(editText2.getText().toString());//i&#39;m getting value here\r\n                    }catch(Exception e){\r\n                        Log.e(&quot;MainActivity&quot;, &quot;onCreate: String unable to Assign.&quot;, e);\r\n                    }\r\n    \r\n                    caluclate(num1, num2);\r\n                    if(num2 == 0 &amp;&amp; checkedId == R.id.div){\r\n                        textView.setText(&quot;N.A.&quot;);\r\n                    }else{\r\n                        textView.setText(String.valueOf(ans));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        float addition(float n1, float n2){\r\n            return n1 + n2;\r\n        }\r\n        float subtraction(float n1, float n2){\r\n            return n1 - n2;\r\n        }\r\n        float multiplication(float n1, float n2){\r\n            return n1 * n2;\r\n        }\r\n        float division(float n1, float n2){\r\n            return n1/n2;\r\n        }\r\n    \r\n        void caluclate(float n1, float n2){\r\n            switch(radioGroup.getCheckedRadioButtonId()){\r\n                case R.id.add:\r\n                    ans = addition (n1, n2);\r\n                    break;\r\n                case R.id.sub:\r\n                    ans = subtraction(n1, n2);\r\n                    break;\r\n                case R.id.mul:\r\n                    ans = multiplication(n1, n2);\r\n                    break;\r\n                case R.id.div:\r\n                    ans = division(n1, n2);\r\n                    break;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Why my app crashes when I parse string (from EditText) to Float","body":"<p><strong>here you go</strong></p>\n<p>you should get value from edittext at runtime when action perform,not at creating activity.</p>\n<pre><code>package com.example.calculator;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.EditText;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n    RadioGroup radioGroup;\n    float ans;\n    EditText editText1,editText2;\n    TextView textView;\n    float num1, num2;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //make sure that you entered value contains float,not other data type\n\n        editText1 = findViewById(R.id.first_number); \n        editText2 = findViewById(R.id.second_number);\n        \n        textView = findViewById(R.id.answer);\n        radioGroup = (RadioGroup) findViewById(R.id.radio_group);\n        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\n                try{\n                    num1 = Float.parseFloat(editText1.getText().toString()); //i'm getting value here\n                }catch(Exception e){\n                    Log.e(&quot;MainActivity&quot;, &quot;onCreate: Still Not Working&quot;, e);\n                }\n                try{\n                    num2 = Float.parseFloat(editText2.getText().toString());//i'm getting value here\n                }catch(Exception e){\n                    Log.e(&quot;MainActivity&quot;, &quot;onCreate: String unable to Assign.&quot;, e);\n                }\n\n                caluclate(num1, num2);\n                if(num2 == 0 &amp;&amp; checkedId == R.id.div){\n                    textView.setText(&quot;N.A.&quot;);\n                }else{\n                    textView.setText(String.valueOf(ans));\n                }\n            }\n        });\n    }\n\n\n    float addition(float n1, float n2){\n        return n1 + n2;\n    }\n    float subtraction(float n1, float n2){\n        return n1 - n2;\n    }\n    float multiplication(float n1, float n2){\n        return n1 * n2;\n    }\n    float division(float n1, float n2){\n        return n1/n2;\n    }\n\n    void caluclate(float n1, float n2){\n        switch(radioGroup.getCheckedRadioButtonId()){\n            case R.id.add:\n                ans = addition (n1, n2);\n                break;\n            case R.id.sub:\n                ans = subtraction(n1, n2);\n                break;\n            case R.id.mul:\n                ans = multiplication(n1, n2);\n                break;\n            case R.id.div:\n                ans = division(n1, n2);\n                break;\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20529400,"reputation":55,"user_id":15067071,"display_name":"Fardeen Khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70255133,"answer_count":1,"score":0,"last_activity_date":1638854003,"creation_date":1638817001,"question_id":70250496,"body_markdown":"**Why Am I not able to convert String (taken from EditText) to Float.**\r\n\r\nI was building a simple app to calculate (addition, subtraction, division, multiplication) of two numbers as per the radio group selection.\r\nBut, As I extract string using\r\n\r\n    String temp =  editText.getText().toString();\r\n\r\nand then try to convert it back into Float in order to perform operation on it\r\n\r\n    num1 = Float.parseFloat(temp);\r\n\r\nThis very line of code causes some error which crashes my app.\r\nI tried to surround it with try-catch which prevented crashing of my app but String was still not parsing into Float.\r\n\r\n**Complete Java Code for Calculator App**\r\n\r\n    package com.example.calculator;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.widget.EditText;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        RadioGroup radioGroup;\r\n        float ans;\r\n        EditText editText;\r\n        TextView textView;\r\n        float num1, num2;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            editText = findViewById(R.id.first_number);\r\n            String temp =  editText.getText().toString();\r\n            try{\r\n                num1 = Float.parseFloat(temp);\r\n            }catch(Exception e){\r\n                Log.e(&quot;MainActivity&quot;, &quot;onCreate: Still Not Working&quot;, e);\r\n            }\r\n            editText = findViewById(R.id.second_number);\r\n            try{\r\n                num2 = Float.parseFloat(editText.getText().toString());\r\n            }catch(Exception e){\r\n                Log.e(&quot;MainActivity&quot;, &quot;onCreate: String unable to Assign.&quot;, e);\r\n            }\r\n            textView = findViewById(R.id.answer);\r\n            radioGroup = (RadioGroup) findViewById(R.id.radio_group);\r\n            radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n    \r\n                    caluclate(num1, num2);\r\n                    if(num2 == 0 &amp;&amp; checkedId == R.id.div){\r\n                        textView.setText(&quot;N.A.&quot;);\r\n                    }else{\r\n                        textView.setText(String.valueOf(ans));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        float addition(float n1, float n2){\r\n            return n1 + n2;\r\n        }\r\n        float subtraction(float n1, float n2){\r\n            return n1 - n2;\r\n        }\r\n        float multiplication(float n1, float n2){\r\n            return n1 * n2;\r\n        }\r\n        float division(float n1, float n2){\r\n            return n1/n2;\r\n        }\r\n    \r\n        void caluclate(float n1, float n2){\r\n            switch(radioGroup.getCheckedRadioButtonId()){\r\n                case R.id.add:\r\n                    ans = addition (n1, n2);\r\n                    break;\r\n                case R.id.sub:\r\n                    ans = subtraction(n1, n2);\r\n                    break;\r\n                case R.id.mul:\r\n                    ans = multiplication(n1, n2);\r\n                    break;\r\n                case R.id.div:\r\n                    ans = division(n1, n2);\r\n                    break;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**XML Code**\r\n\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#DFDFDF&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n    \r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:text=&quot;First Number&quot;\r\n            android:textColor=&quot;#2196F3&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/first_number&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:hint=&quot;Enter Here&quot;\r\n            android:inputType=&quot;numberDecimal|numberSigned&quot;\r\n            android:padding=&quot;8dp&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n    \r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:text=&quot;Second Number&quot;\r\n            android:textColor=&quot;#2196F3&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/second_number&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:hint=&quot;Enter Here&quot;\r\n            android:padding=&quot;8dp&quot;\r\n            android:inputType=&quot;numberDecimal|numberSigned&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n    \r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:text=&quot;Choose Operation&quot;\r\n            android:textColor=&quot;#2196F3&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/radio_group&quot;\r\n            android:paddingLeft=&quot;16dp&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/add&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;8dp&quot;\r\n                android:text=&quot;Addition&quot; /&gt;\r\n    \r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/sub&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;8dp&quot;\r\n                android:text=&quot;Subtraction&quot; /&gt;\r\n    \r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/mul&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;8dp&quot;\r\n                android:text=&quot;Multiplication&quot; /&gt;\r\n    \r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/div&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;8dp&quot;\r\n                android:text=&quot;Division&quot; /&gt;\r\n        &lt;/RadioGroup&gt;\r\n    \r\n        &lt;TextView\r\n    \r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:text=&quot;Answer&quot;\r\n            android:textColor=&quot;#2196F3&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/answer&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:textSize=&quot;20dp&quot;\r\n            android:padding=&quot;8dp&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n*My app was crashing until I comment out that line which assigns String to float\r\nthen I tried using try-catch block but this just prevented my app from crashing* ","title":"Why my app crashes when I parse string (from EditText) to Float","body":"<p><strong>Why Am I not able to convert String (taken from EditText) to Float.</strong></p>\n<p>I was building a simple app to calculate (addition, subtraction, division, multiplication) of two numbers as per the radio group selection.\nBut, As I extract string using</p>\n<pre><code>String temp =  editText.getText().toString();\n</code></pre>\n<p>and then try to convert it back into Float in order to perform operation on it</p>\n<pre><code>num1 = Float.parseFloat(temp);\n</code></pre>\n<p>This very line of code causes some error which crashes my app.\nI tried to surround it with try-catch which prevented crashing of my app but String was still not parsing into Float.</p>\n<p><strong>Complete Java Code for Calculator App</strong></p>\n<pre><code>package com.example.calculator;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.EditText;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n    RadioGroup radioGroup;\n    float ans;\n    EditText editText;\n    TextView textView;\n    float num1, num2;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        editText = findViewById(R.id.first_number);\n        String temp =  editText.getText().toString();\n        try{\n            num1 = Float.parseFloat(temp);\n        }catch(Exception e){\n            Log.e(&quot;MainActivity&quot;, &quot;onCreate: Still Not Working&quot;, e);\n        }\n        editText = findViewById(R.id.second_number);\n        try{\n            num2 = Float.parseFloat(editText.getText().toString());\n        }catch(Exception e){\n            Log.e(&quot;MainActivity&quot;, &quot;onCreate: String unable to Assign.&quot;, e);\n        }\n        textView = findViewById(R.id.answer);\n        radioGroup = (RadioGroup) findViewById(R.id.radio_group);\n        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\n\n                caluclate(num1, num2);\n                if(num2 == 0 &amp;&amp; checkedId == R.id.div){\n                    textView.setText(&quot;N.A.&quot;);\n                }else{\n                    textView.setText(String.valueOf(ans));\n                }\n            }\n        });\n    }\n\n\n    float addition(float n1, float n2){\n        return n1 + n2;\n    }\n    float subtraction(float n1, float n2){\n        return n1 - n2;\n    }\n    float multiplication(float n1, float n2){\n        return n1 * n2;\n    }\n    float division(float n1, float n2){\n        return n1/n2;\n    }\n\n    void caluclate(float n1, float n2){\n        switch(radioGroup.getCheckedRadioButtonId()){\n            case R.id.add:\n                ans = addition (n1, n2);\n                break;\n            case R.id.sub:\n                ans = subtraction(n1, n2);\n                break;\n            case R.id.mul:\n                ans = multiplication(n1, n2);\n                break;\n            case R.id.div:\n                ans = division(n1, n2);\n                break;\n        }\n    }\n\n}\n</code></pre>\n<p><strong>XML Code</strong></p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#DFDFDF&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:text=&quot;First Number&quot;\n        android:textColor=&quot;#2196F3&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/first_number&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:hint=&quot;Enter Here&quot;\n        android:inputType=&quot;numberDecimal|numberSigned&quot;\n        android:padding=&quot;8dp&quot;\n        android:background=&quot;@color/white&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:text=&quot;Second Number&quot;\n        android:textColor=&quot;#2196F3&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/second_number&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:hint=&quot;Enter Here&quot;\n        android:padding=&quot;8dp&quot;\n        android:inputType=&quot;numberDecimal|numberSigned&quot;\n        android:background=&quot;@color/white&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:text=&quot;Choose Operation&quot;\n        android:textColor=&quot;#2196F3&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;RadioGroup\n        android:id=&quot;@+id/radio_group&quot;\n        android:paddingLeft=&quot;16dp&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/add&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginRight=&quot;8dp&quot;\n            android:text=&quot;Addition&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/sub&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginRight=&quot;8dp&quot;\n            android:text=&quot;Subtraction&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/mul&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginRight=&quot;8dp&quot;\n            android:text=&quot;Multiplication&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/div&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginRight=&quot;8dp&quot;\n            android:text=&quot;Division&quot; /&gt;\n    &lt;/RadioGroup&gt;\n\n    &lt;TextView\n\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:text=&quot;Answer&quot;\n        android:textColor=&quot;#2196F3&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/answer&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:textSize=&quot;20dp&quot;\n        android:padding=&quot;8dp&quot;\n        android:inputType=&quot;number&quot;\n        android:background=&quot;@color/white&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><em>My app was crashing until I comment out that line which assigns String to float\nthen I tried using try-catch block but this just prevented my app from crashing</em></p>\n"},{"tags":["java","kotlin","google-bigquery","nan"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1599233373,"post_id":63743781,"comment_id":112720647,"body_markdown":"How do you usually pass values to bigquery? You pass primitive values and/or objects with the values. So pass a [`Double.NaN`](https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#NaN) value.","body":"How do you usually pass values to bigquery? You pass primitive values and/or objects with the values. So pass a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#NaN\" rel=\"nofollow noreferrer\"><code>Double.NaN</code></a> value."},{"owner":{"account_id":2098538,"reputation":10050,"user_id":1866775,"accept_rate":86,"display_name":"Tobias Hermann"},"score":0,"creation_date":1638538490,"post_id":63743781,"comment_id":124121930,"body_markdown":"I&#39;m currently fighting with the same problem. @BAE, did you find a solution?","body":"I&#39;m currently fighting with the same problem. @BAE, did you find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":6782076,"reputation":168058,"user_id":5221944,"accept_rate":86,"display_name":"Mikhail Berlyant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599233000,"creation_date":1599233000,"answer_id":63743962,"question_id":63743781,"body_markdown":"Below is for BigQuery Standard SQL and gives you few ways of generating Nan, I just wrapped it with IS_NaN to check that result is actually NaN and not just string &#39;NaN&#39;  \r\n\r\n    SELECT\r\n      test1,\r\n      IS_NAN(test1),\r\n      test2,\r\n      IS_NAN(test2)\r\n    FROM (  \r\n    SELECT \r\n      IEEE_DIVIDE(0, 0) test1, \r\n      CAST(&#39;NaN&#39; AS FLOAT64) test2\r\n    )  \r\n\r\n\r\nwith result    \r\n\r\n    Row\ttest1\tf0_\t    test2\tf1_\t \r\n    1\tNaN\t    true\tNaN\t    true\t ","title":"How to write NaN to biqquery in Java?","body":"<p>Below is for BigQuery Standard SQL and gives you few ways of generating Nan, I just wrapped it with IS_NaN to check that result is actually NaN and not just string 'NaN'</p>\n<pre><code>SELECT\n  test1,\n  IS_NAN(test1),\n  test2,\n  IS_NAN(test2)\nFROM (  \nSELECT \n  IEEE_DIVIDE(0, 0) test1, \n  CAST('NaN' AS FLOAT64) test2\n)  \n</code></pre>\n<p>with result</p>\n<pre><code>Row test1   f0_     test2   f1_  \n1   NaN     true    NaN     true     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638833880,"creation_date":1638833880,"answer_id":70253269,"question_id":63743781,"body_markdown":"`Float.NaN` or `Double.NaN` will not work.\r\n\r\nUnder the hood the Java BigQuery API uses the [Google HTTP Client Library for Java](https://github.com/googleapis/google-http-java-client).\r\n\r\nNeither `NaN` nor infinity are supported JSON symbols. Probably for that reason, when serializing the provided data, [`JsonGenerator`](https://github.com/googleapis/google-http-java-client/blob/main/google-http-client/src/main/java/com/google/api/client/json/JsonGenerator.java) [explicitly forbids it](https://github.com/googleapis/google-http-java-client/blob/ea0f6c0f58e8abffae1362feb344a9309d6d814e/google-http-client/src/main/java/com/google/api/client/json/JsonGenerator.java#L133-L135):\r\n\r\n```java\r\ndouble doubleValue = ((Number) value).doubleValue();\r\nPreconditions.checkArgument(!Double.isInfinite(doubleValue) &amp;&amp; !Double.isNaN(doubleValue));\r\nwriteNumber(doubleValue);\r\n```\r\n\r\n_As a side note, in contrast, the library allows parsing this values. Please, see the [relevant commit](https://github.com/googleapis/google-http-java-client/commit/926e04d07b8aee3b849922f67cea462eadc656b0)._\r\n\r\nIn addition two the aforementioned cases, in Java you cannot provide the `NaN` value by [other mean](https://stackoverflow.com/questions/28065158/java-bigdecimal-and-double-nan/28065194).\r\n\r\nIn my opinion, `NaN` is not conceived to be passed as a function argument, rather they should be considered a computational error or the result of some kind of overflow like the one that could be caused in `IEEE_DIVIDE`, and that is the [reason for the existence](https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types#floating_point_semantics) of the data type in BigQuery:\r\n\r\n&gt; Function calls and operators return an overflow error if the input is \r\n&gt; finite but the output would be non-finite. If the input contains non-finite \r\n&gt; values, the output can be non-finite. In general functions do not introduce \r\n&gt; `NaN`s or `+/-inf`. However, specific functions like `IEEE_DIVIDE` can \r\n&gt; return non-finite values on finite input. All such cases are noted \r\n&gt; explicitly in Mathematical functions.\r\n\r\nInstead of using `NaN`, please treat then as `null` values: that is the approach followed in other languages. \r\n","title":"How to write NaN to biqquery in Java?","body":"<p><code>Float.NaN</code> or <code>Double.NaN</code> will not work.</p>\n<p>Under the hood the Java BigQuery API uses the <a href=\"https://github.com/googleapis/google-http-java-client\" rel=\"nofollow noreferrer\">Google HTTP Client Library for Java</a>.</p>\n<p>Neither <code>NaN</code> nor infinity are supported JSON symbols. Probably for that reason, when serializing the provided data, <a href=\"https://github.com/googleapis/google-http-java-client/blob/main/google-http-client/src/main/java/com/google/api/client/json/JsonGenerator.java\" rel=\"nofollow noreferrer\"><code>JsonGenerator</code></a> <a href=\"https://github.com/googleapis/google-http-java-client/blob/ea0f6c0f58e8abffae1362feb344a9309d6d814e/google-http-client/src/main/java/com/google/api/client/json/JsonGenerator.java#L133-L135\" rel=\"nofollow noreferrer\">explicitly forbids it</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double doubleValue = ((Number) value).doubleValue();\nPreconditions.checkArgument(!Double.isInfinite(doubleValue) &amp;&amp; !Double.isNaN(doubleValue));\nwriteNumber(doubleValue);\n</code></pre>\n<p><em>As a side note, in contrast, the library allows parsing this values. Please, see the <a href=\"https://github.com/googleapis/google-http-java-client/commit/926e04d07b8aee3b849922f67cea462eadc656b0\" rel=\"nofollow noreferrer\">relevant commit</a>.</em></p>\n<p>In addition two the aforementioned cases, in Java you cannot provide the <code>NaN</code> value by <a href=\"https://stackoverflow.com/questions/28065158/java-bigdecimal-and-double-nan/28065194\">other mean</a>.</p>\n<p>In my opinion, <code>NaN</code> is not conceived to be passed as a function argument, rather they should be considered a computational error or the result of some kind of overflow like the one that could be caused in <code>IEEE_DIVIDE</code>, and that is the <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types#floating_point_semantics\" rel=\"nofollow noreferrer\">reason for the existence</a> of the data type in BigQuery:</p>\n<blockquote>\n<p>Function calls and operators return an overflow error if the input is\nfinite but the output would be non-finite. If the input contains non-finite\nvalues, the output can be non-finite. In general functions do not introduce\n<code>NaN</code>s or <code>+/-inf</code>. However, specific functions like <code>IEEE_DIVIDE</code> can\nreturn non-finite values on finite input. All such cases are noted\nexplicitly in Mathematical functions.</p>\n</blockquote>\n<p>Instead of using <code>NaN</code>, please treat then as <code>null</code> values: that is the approach followed in other languages.</p>\n"}],"owner":{"account_id":4746587,"reputation":8612,"user_id":3837778,"accept_rate":71,"display_name":"BAE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638853015,"creation_date":1599232247,"question_id":63743781,"body_markdown":"In biqquery table, we can use `isNaN()` to check [NaN][1] value.\r\n\r\nBut how to write NaN to bigquery table in java (JVM languages)?\r\n\r\nWrite string &quot;NaN&quot;?\r\n\r\nAny comments are welcome. Thanks\r\n\r\nUPDATE:\r\n-------\r\n\r\nwe were trying to send `Double.NaN`, but the big query does not accept it and throwing exceptions. No idea why.\r\n\r\n    Error sending insert request, table: xxxx\r\n    com.google.cloud.bigquery.BigQueryException: java.lang.IllegalArgumentException\r\n    at com.google.cloud.bigquery.BigQueryException.translateAndThrow(BigQueryException.java:100)\r\n    at com.google.cloud.bigquery.BigQueryImpl.insertAll(BigQueryImpl.java:979)\r\n    ...\r\n    Caused by: java.lang.IllegalArgumentException\r\n     \tat com.google.common.base.Preconditions.checkArgument(Preconditions.java:128)\r\n     \tat com.google.api.client.util.Preconditions.checkArgument(Preconditions.java:35) \t\r\n        at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:134)\r\n    \tat com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\r\n     \tat com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\r\n     \tat com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\r\n     \tat com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:146)\r\n     \tat com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\r\n     \tat com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:105)\r\n\r\n\r\n\r\n  [1]: https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types","title":"How to write NaN to biqquery in Java?","body":"<p>In biqquery table, we can use <code>isNaN()</code> to check <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types\" rel=\"nofollow noreferrer\">NaN</a> value.</p>\n<p>But how to write NaN to bigquery table in java (JVM languages)?</p>\n<p>Write string &quot;NaN&quot;?</p>\n<p>Any comments are welcome. Thanks</p>\n<h2>UPDATE:</h2>\n<p>we were trying to send <code>Double.NaN</code>, but the big query does not accept it and throwing exceptions. No idea why.</p>\n<pre><code>Error sending insert request, table: xxxx\ncom.google.cloud.bigquery.BigQueryException: java.lang.IllegalArgumentException\nat com.google.cloud.bigquery.BigQueryException.translateAndThrow(BigQueryException.java:100)\nat com.google.cloud.bigquery.BigQueryImpl.insertAll(BigQueryImpl.java:979)\n...\nCaused by: java.lang.IllegalArgumentException\n    at com.google.common.base.Preconditions.checkArgument(Preconditions.java:128)\n    at com.google.api.client.util.Preconditions.checkArgument(Preconditions.java:35)    \n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:134)\n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:146)\n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:105)\n</code></pre>\n"},{"tags":["java","arrays","function","geometry","boolean"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639354407,"post_id":70252906,"comment_id":124320832,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638853006,"creation_date":1638843137,"answer_id":70254148,"question_id":70252906,"body_markdown":"Possible approach:\r\n\r\nMake four 2d integer arrays of the same size or one 2d array of arrays[0..3].\r\n\r\nWalk through all diagonals in four directions, incrementing corresponding entries of auxiliary arrays if neighbors are similar. For example, walking from top &quot;F&quot; in bottom-right direction, put 0, 1 and 2 into `UPLEFT[1][2], UPLEFT[2][3]` and `UPLEFT[3][4]` correspondingly. Instead of diagonal walking, you can traverse line-by line twice - from the top, and from the bottom, checking needed upper neighbors during forward scan, and bottom neighbors during bottom-up scan.\r\n\r\nNow scan array again. When you have index pair `[k][m]` with `UPRIGHT[k][m]&gt;0` and `DOWNRIGHT[k][m]&gt;0`, choose minimal value \r\n\r\n    Wdt = min(UPRIGHT[k][m], DOWNRIGHT[k][m])\r\nand check `UPLEFT[k][r]` and `DOWNLEFT[k][r]` for values `r = m + 2*Wdt downto m+2` to reveal **the largest rhombus with left corner** in `[k][m]` pair.\r\n\r\n","title":"How to find rhombus of the same char in 2D Char Array?","body":"<p>Possible approach:</p>\n<p>Make four 2d integer arrays of the same size or one 2d array of arrays[0..3].</p>\n<p>Walk through all diagonals in four directions, incrementing corresponding entries of auxiliary arrays if neighbors are similar. For example, walking from top &quot;F&quot; in bottom-right direction, put 0, 1 and 2 into <code>UPLEFT[1][2], UPLEFT[2][3]</code> and <code>UPLEFT[3][4]</code> correspondingly. Instead of diagonal walking, you can traverse line-by line twice - from the top, and from the bottom, checking needed upper neighbors during forward scan, and bottom neighbors during bottom-up scan.</p>\n<p>Now scan array again. When you have index pair <code>[k][m]</code> with <code>UPRIGHT[k][m]&gt;0</code> and <code>DOWNRIGHT[k][m]&gt;0</code>, choose minimal value</p>\n<pre><code>Wdt = min(UPRIGHT[k][m], DOWNRIGHT[k][m])\n</code></pre>\n<p>and check <code>UPLEFT[k][r]</code> and <code>DOWNLEFT[k][r]</code> for values <code>r = m + 2*Wdt downto m+2</code> to reveal <strong>the largest rhombus with left corner</strong> in <code>[k][m]</code> pair.</p>\n"}],"owner":{"account_id":23423927,"reputation":3,"user_id":17483660,"display_name":"Swanky_Dwarf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638853006,"creation_date":1638830862,"question_id":70252906,"body_markdown":"let&#39;s say that I have a code that has a 2d char  array (max of 12*12),\r\nand I want to find in the array sequence of chars that make rhombus, how can I do it? I thought about making a boolean function that checks each place if it has the same values as his neighbors and other functions that use it to find rhombus but I don&#39;t really know how to use it.\r\n\r\nAt the end of this, I want to print the rhombus center values and the char that makes the rhombus.\r\n\r\nthk\r\n\r\nanother thing, I cant use recursion.\r\n[Example of rhombus in 2d array][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qpXsf.png","title":"How to find rhombus of the same char in 2D Char Array?","body":"<p>let's say that I have a code that has a 2d char  array (max of 12*12),\nand I want to find in the array sequence of chars that make rhombus, how can I do it? I thought about making a boolean function that checks each place if it has the same values as his neighbors and other functions that use it to find rhombus but I don't really know how to use it.</p>\n<p>At the end of this, I want to print the rhombus center values and the char that makes the rhombus.</p>\n<p>thk</p>\n<p>another thing, I cant use recursion.\n<a href=\"https://i.stack.imgur.com/qpXsf.png\" rel=\"nofollow noreferrer\">Example of rhombus in 2d array</a></p>\n"},{"tags":["java","android","android-service","intentservice","activity-recognition"],"comments":[{"owner":{"account_id":10851412,"reputation":147,"user_id":7979054,"display_name":"Deepak"},"score":0,"creation_date":1639059114,"post_id":70177573,"comment_id":124255523,"body_markdown":"you can make a work manager run your activity recognization in a fixed interval by defining some constraints. \nSince ActivityRecognition is deprecated you can use ActivityRecognitionClient for recognization","body":"you can make a work manager run your activity recognization in a fixed interval by defining some constraints.  Since ActivityRecognition is deprecated you can use ActivityRecognitionClient for recognization"},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1639084789,"post_id":70177573,"comment_id":124265654,"body_markdown":"@Deepak i need to run in background service which can regularly detect user activity even when app is not visible to user. Any Idea?","body":"@Deepak i need to run in background service which can regularly detect user activity even when app is not visible to user. Any Idea?"},{"owner":{"account_id":10851412,"reputation":147,"user_id":7979054,"display_name":"Deepak"},"score":0,"creation_date":1639555559,"post_id":70177573,"comment_id":124375766,"body_markdown":"yes you can do using work manager schedule task where you can define time interval for starting the task","body":"yes you can do using work manager schedule task where you can define time interval for starting the task"},{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1666345211,"post_id":70177573,"comment_id":130920048,"body_markdown":"@Deepak `WorkManager` minimum interval is 15 min. If OP needs to run less than 15 minutes then `WorkManager` is not the option","body":"@Deepak <code>WorkManager</code> minimum interval is 15 min. If OP needs to run less than 15 minutes then <code>WorkManager</code> is not the option"}],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638852972,"creation_date":1638316750,"question_id":70177573,"body_markdown":"I am using `IntentService` before to make my `ActivityRecognition` work in the background for location updates but since `Android 9+` `IntentService` deprecated and it&#39;s no longer working in recent Android versions. So I tried to use `WorkManager` but I am a bit confused about how I can migrate from `IntentService` to `WorkManager` because `WorkManager` doesn&#39;t have any return method like service.\r\n\r\nStart Of IntentService Like this (ActivityRecognition)\r\n\r\n    Intent ActivityRec_intent = new Intent(this, Activity_Recognized_Service.class);\r\n                PendingIntent pendingIntent = PendingIntent.getService(this, 0, ActivityRec_intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n                activityRecognitionClient.requestActivityUpdates(timeInLong,pendingIntent);\r\n\r\n\r\n\r\n`IntentService`\r\n---------------\r\n\r\n\r\n\r\n    public class Activity_Recognized_Service extends IntentService  {\r\n        /**\r\n         * Creates an IntentService.  Invoked by your subcl ass&#39;s constructor.\r\n         *\r\n         * @param name Used to name the worker thread, important only for debugging.\r\n         */\r\n        public static final String TAG = &quot;###RECOGNISED SRVCE###&quot;;\r\n        Timer timer;\r\n        LocationRequest mLocationRequest;\r\n        static int detectedActivity;\r\n    \r\n    \r\n        public Activity_Recognized_Service() {\r\n            super(&quot;Activity_Recognized_Service&quot;);\r\n        }\r\n    \r\n        public Activity_Recognized_Service(String name) {\r\n            super(name);\r\n        }\r\n    \r\n        @Override\r\n        protected void onHandleIntent(@Nullable Intent intent) {\r\n            Log.d(TAG, &quot;On Handle Intent&quot;);\r\n            if (ActivityRecognitionResult.hasResult(intent)) {\r\n                Log.d(TAG, &quot;ActivityRecognition Has Result&quot;);\r\n                ActivityRecognitionResult result = ActivityRecognitionResult.extractResult(intent);\r\n                Log.d(TAG,&quot;BackGround Service Starting&quot;);\r\n                handleDetectedActivities(result.getProbableActivities(),this);\r\n    \r\n            }\r\n        }\r\n        private void handleDetectedActivities(List&lt;DetectedActivity&gt; probableActivities, Context mContext) {\r\n            Intent notificationIntent=new Intent(&quot;Notification&quot;);\r\n    \r\n            for (DetectedActivity activity : probableActivities) {\r\n                switch (activity.getType()) {\r\n                    case DetectedActivity.IN_VEHICLE:\r\n                        Log.d(TAG, &quot;In Vehicle &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;In Vehicle &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;In Vehicle&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                             // 10 min   5 hours= hours * 60 min*60 sec* 1000 milliseconds\r\n                            setTimer(10);\r\n                            detectedActivity=activity.getType();\r\n                            //userSate = &quot;In Vehicle &quot;;\r\n    \r\n    \r\n                        }\r\n                        break;\r\n                    case DetectedActivity.ON_BICYCLE:\r\n                        Log.d(TAG, &quot;On Bicycle &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;On Bicycle &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\r\n    \r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;On Bicycle&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                            /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;On Bicycle&quot;);\r\n                            LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\r\n                             //7 min 5 hours= hours * 60 min*60 sec* 1000 milliseconds\r\n                            setTimer(5);\r\n                            //requestLocatonSetting(6*60*1000,6*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\r\n                            detectedActivity=activity.getType();\r\n                            //userSate = &quot;On Bicycle &quot;;\r\n    \r\n                        }\r\n                        break;\r\n                    case DetectedActivity.ON_FOOT:\r\n                        Log.d(TAG, &quot;On Foot &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;On Foot &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\r\n                            //Send Notification To User\r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;On Foot&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\r\n                            //builder.setLights(Color.WHITE,3000,3000);\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                            /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;On Foot&quot;);\r\n                            LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\r\n                            Log.d(TAG,&quot;Enter On Foot &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\r\n                            //userSate = &quot;On Foot&quot;;\r\n    \r\n                        }\r\n                        break;\r\n                    case DetectedActivity.RUNNING:\r\n                        Log.d(TAG, &quot;On Running &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;On Running &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity ) {\r\n                            //Send Notification To User\r\n                            Log.d(TAG,&quot;Enter In Running &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;Running&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                            /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Running&quot;);\r\n                            LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\r\n                            setTimer(2);\r\n                            //3 min 5 hours= hours * 60 min*60 sec* 1000 milliseconds\r\n                            //requestLocatonSetting(6*60*1000,6*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\r\n                            detectedActivity=activity.getType();\r\n                            // userSate = &quot;Running &quot;;\r\n    \r\n                        }\r\n                        break;\r\n                    case DetectedActivity.STILL:\r\n                        Log.d(TAG, &quot;On Still &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;On Still &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\r\n                            //Send Notification To User\r\n                            Log.d(TAG,&quot;Enter In Still &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\r\n    \r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;Still&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                            // NOTIFICATION BY LOCAL BROADCAST MANAGER\r\n                            setTimer(60*5);\r\n                            /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Still&quot;);\r\n                            LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\r\n                             //5 hrs 5 hours= hours * 60 min*60 sec* 1000 milliseconds\r\n                            // requestLocatonSetting(3*60*1000,2*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\r\n                            detectedActivity=activity.getType();\r\n                            //userSate = &quot;Still &quot;;\r\n                            App_Functions.writeToFile(App_Functions.MyCurrentTime_Date()+&quot; == &quot;+detectedActivity +&quot; CASE Detection &quot;+System.getProperty (&quot;line.separator&quot;),&quot;Tracking&quot;,&quot;UserMove.txt&quot;,MyApplication.getmContext());\r\n    \r\n                        }\r\n                        break;\r\n                    case DetectedActivity.TILTING:\r\n                        Log.d(TAG, &quot;On Tilting &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;On Tilting &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 95 &amp;&amp; activity.getType()!=detectedActivity) {\r\n                            //Send Notification To User\r\n                            Log.d(TAG,&quot;Enter In Tilting &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;Tilting&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                            /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Tilting&quot;);\r\n                            LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\r\n                            //5 hours= hours * 60 min*60 sec* 1000 milliseconds\r\n                            //requestLocatonSetting(3*60*60*1000,2*60*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\r\n                            detectedActivity=activity.getType();\r\n                            // userSate = &quot;Tilting  &quot;;\r\n                        }\r\n                        break;\r\n                    case DetectedActivity.WALKING:\r\n                        Log.d(TAG, &quot;On Walking &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;On Walking &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\r\n                            //Send Notification To User\r\n                            Log.d(TAG,&quot;Enter In Walking &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;Let&#39;s Walk&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                            /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Let&#39;s Walk&quot;);\r\n                            LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\r\n                             //3 min 5 hours= hours * 60 min*60 sec* 1000 milliseconds\r\n                            setTimer(2);\r\n                            detectedActivity=activity.getType();\r\n                            // userSate = &quot;Let&#39;s Walk   &quot;;\r\n    \r\n                        }\r\n                        break;\r\n                    case DetectedActivity.UNKNOWN:\r\n                        Log.d(TAG, &quot;UnKnown &quot; + activity.getConfidence());\r\n                        break;\r\n                }\r\n    \r\n            }\r\n        }\r\n        public void setTimer(int Minutes) {\r\n            Log.d(TAG, &quot;==================================================&quot;);\r\n            Log.d(TAG, &quot;Set Timer Starts It will Run Every &quot; + Minutes);\r\n            int MilliSeconds = 60000 * Minutes;\r\n            final Handler handler = new Handler(Looper.getMainLooper());\r\n            timer = new Timer();\r\n    \r\n            TimerTask doAsynchronousTask = new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    handler.post(new Runnable() {\r\n                        public void run() {\r\n                            try {\r\n                                //CODE THAT YOU WANT TO EXECUTE AT GIVEN INTERVAL\r\n                                Log.d(TAG, &quot;AsyncTask Start Here For Location Update&quot;);\r\n                               // App_Functions.writeToFile(App_Functions.MyCurrentTime_Date()+&quot; == &quot;+detectedActivity +&quot; ************* &quot;+System.getProperty (&quot;line.separator&quot;),&quot;Tracking&quot;,&quot;UserMove.txt&quot;,MyApplication.getmContext());\r\n                                new GetLocation(Activity_Recognized_Service.this,2);\r\n                            } catch (Exception e) {\r\n                                // TODO Auto-generated catch block\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n            timer.schedule(doAsynchronousTask, 0, MilliSeconds);\r\n            Log.d(TAG, &quot;==================================================&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nHow can i make my code work for background task and make it run even when app is closed.","title":"ActivityRecognition with workmanager for background task","body":"<p>I am using <code>IntentService</code> before to make my <code>ActivityRecognition</code> work in the background for location updates but since <code>Android 9+</code> <code>IntentService</code> deprecated and it's no longer working in recent Android versions. So I tried to use <code>WorkManager</code> but I am a bit confused about how I can migrate from <code>IntentService</code> to <code>WorkManager</code> because <code>WorkManager</code> doesn't have any return method like service.</p>\n<p>Start Of IntentService Like this (ActivityRecognition)</p>\n<pre><code>Intent ActivityRec_intent = new Intent(this, Activity_Recognized_Service.class);\n            PendingIntent pendingIntent = PendingIntent.getService(this, 0, ActivityRec_intent, PendingIntent.FLAG_UPDATE_CURRENT);\n            activityRecognitionClient.requestActivityUpdates(timeInLong,pendingIntent);\n</code></pre>\n<h2><code>IntentService</code></h2>\n<pre><code>public class Activity_Recognized_Service extends IntentService  {\n    /**\n     * Creates an IntentService.  Invoked by your subcl ass's constructor.\n     *\n     * @param name Used to name the worker thread, important only for debugging.\n     */\n    public static final String TAG = &quot;###RECOGNISED SRVCE###&quot;;\n    Timer timer;\n    LocationRequest mLocationRequest;\n    static int detectedActivity;\n\n\n    public Activity_Recognized_Service() {\n        super(&quot;Activity_Recognized_Service&quot;);\n    }\n\n    public Activity_Recognized_Service(String name) {\n        super(name);\n    }\n\n    @Override\n    protected void onHandleIntent(@Nullable Intent intent) {\n        Log.d(TAG, &quot;On Handle Intent&quot;);\n        if (ActivityRecognitionResult.hasResult(intent)) {\n            Log.d(TAG, &quot;ActivityRecognition Has Result&quot;);\n            ActivityRecognitionResult result = ActivityRecognitionResult.extractResult(intent);\n            Log.d(TAG,&quot;BackGround Service Starting&quot;);\n            handleDetectedActivities(result.getProbableActivities(),this);\n\n        }\n    }\n    private void handleDetectedActivities(List&lt;DetectedActivity&gt; probableActivities, Context mContext) {\n        Intent notificationIntent=new Intent(&quot;Notification&quot;);\n\n        for (DetectedActivity activity : probableActivities) {\n            switch (activity.getType()) {\n                case DetectedActivity.IN_VEHICLE:\n                    Log.d(TAG, &quot;In Vehicle &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;In Vehicle &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;In Vehicle&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                         // 10 min   5 hours= hours * 60 min*60 sec* 1000 milliseconds\n                        setTimer(10);\n                        detectedActivity=activity.getType();\n                        //userSate = &quot;In Vehicle &quot;;\n\n\n                    }\n                    break;\n                case DetectedActivity.ON_BICYCLE:\n                    Log.d(TAG, &quot;On Bicycle &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;On Bicycle &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\n\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;On Bicycle&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                        /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;On Bicycle&quot;);\n                        LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\n                         //7 min 5 hours= hours * 60 min*60 sec* 1000 milliseconds\n                        setTimer(5);\n                        //requestLocatonSetting(6*60*1000,6*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\n                        detectedActivity=activity.getType();\n                        //userSate = &quot;On Bicycle &quot;;\n\n                    }\n                    break;\n                case DetectedActivity.ON_FOOT:\n                    Log.d(TAG, &quot;On Foot &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;On Foot &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\n                        //Send Notification To User\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;On Foot&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\n                        //builder.setLights(Color.WHITE,3000,3000);\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                        /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;On Foot&quot;);\n                        LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\n                        Log.d(TAG,&quot;Enter On Foot &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\n                        //userSate = &quot;On Foot&quot;;\n\n                    }\n                    break;\n                case DetectedActivity.RUNNING:\n                    Log.d(TAG, &quot;On Running &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;On Running &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity ) {\n                        //Send Notification To User\n                        Log.d(TAG,&quot;Enter In Running &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;Running&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                        /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Running&quot;);\n                        LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\n                        setTimer(2);\n                        //3 min 5 hours= hours * 60 min*60 sec* 1000 milliseconds\n                        //requestLocatonSetting(6*60*1000,6*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\n                        detectedActivity=activity.getType();\n                        // userSate = &quot;Running &quot;;\n\n                    }\n                    break;\n                case DetectedActivity.STILL:\n                    Log.d(TAG, &quot;On Still &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;On Still &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\n                        //Send Notification To User\n                        Log.d(TAG,&quot;Enter In Still &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\n\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;Still&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                        // NOTIFICATION BY LOCAL BROADCAST MANAGER\n                        setTimer(60*5);\n                        /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Still&quot;);\n                        LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\n                         //5 hrs 5 hours= hours * 60 min*60 sec* 1000 milliseconds\n                        // requestLocatonSetting(3*60*1000,2*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\n                        detectedActivity=activity.getType();\n                        //userSate = &quot;Still &quot;;\n                        App_Functions.writeToFile(App_Functions.MyCurrentTime_Date()+&quot; == &quot;+detectedActivity +&quot; CASE Detection &quot;+System.getProperty (&quot;line.separator&quot;),&quot;Tracking&quot;,&quot;UserMove.txt&quot;,MyApplication.getmContext());\n\n                    }\n                    break;\n                case DetectedActivity.TILTING:\n                    Log.d(TAG, &quot;On Tilting &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;On Tilting &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 95 &amp;&amp; activity.getType()!=detectedActivity) {\n                        //Send Notification To User\n                        Log.d(TAG,&quot;Enter In Tilting &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;Tilting&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                        /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Tilting&quot;);\n                        LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\n                        //5 hours= hours * 60 min*60 sec* 1000 milliseconds\n                        //requestLocatonSetting(3*60*60*1000,2*60*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\n                        detectedActivity=activity.getType();\n                        // userSate = &quot;Tilting  &quot;;\n                    }\n                    break;\n                case DetectedActivity.WALKING:\n                    Log.d(TAG, &quot;On Walking &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;On Walking &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\n                        //Send Notification To User\n                        Log.d(TAG,&quot;Enter In Walking &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;Let's Walk&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                        /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Let's Walk&quot;);\n                        LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\n                         //3 min 5 hours= hours * 60 min*60 sec* 1000 milliseconds\n                        setTimer(2);\n                        detectedActivity=activity.getType();\n                        // userSate = &quot;Let's Walk   &quot;;\n\n                    }\n                    break;\n                case DetectedActivity.UNKNOWN:\n                    Log.d(TAG, &quot;UnKnown &quot; + activity.getConfidence());\n                    break;\n            }\n\n        }\n    }\n    public void setTimer(int Minutes) {\n        Log.d(TAG, &quot;==================================================&quot;);\n        Log.d(TAG, &quot;Set Timer Starts It will Run Every &quot; + Minutes);\n        int MilliSeconds = 60000 * Minutes;\n        final Handler handler = new Handler(Looper.getMainLooper());\n        timer = new Timer();\n\n        TimerTask doAsynchronousTask = new TimerTask() {\n            @Override\n            public void run() {\n                handler.post(new Runnable() {\n                    public void run() {\n                        try {\n                            //CODE THAT YOU WANT TO EXECUTE AT GIVEN INTERVAL\n                            Log.d(TAG, &quot;AsyncTask Start Here For Location Update&quot;);\n                           // App_Functions.writeToFile(App_Functions.MyCurrentTime_Date()+&quot; == &quot;+detectedActivity +&quot; ************* &quot;+System.getProperty (&quot;line.separator&quot;),&quot;Tracking&quot;,&quot;UserMove.txt&quot;,MyApplication.getmContext());\n                            new GetLocation(Activity_Recognized_Service.this,2);\n                        } catch (Exception e) {\n                            // TODO Auto-generated catch block\n                        }\n                    }\n                });\n            }\n        };\n        timer.schedule(doAsynchronousTask, 0, MilliSeconds);\n        Log.d(TAG, &quot;==================================================&quot;);\n    }\n\n}\n</code></pre>\n<p>How can i make my code work for background task and make it run even when app is closed.</p>\n"},{"tags":["java","multithreading","web-crawler","atomic"],"comments":[{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":3,"creation_date":1638718651,"post_id":70235778,"comment_id":124157027,"body_markdown":"You shouldn&#39;t be creating a new Random object ever time you want  a new random number.  Try using a ThreadLocal to hold the a Random instance for each thread.  https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html","body":"You shouldn&#39;t be creating a new Random object ever time you want  a new random number.  Try using a ThreadLocal to hold the a Random instance for each thread.  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":23553288,"reputation":19,"user_id":17595677,"display_name":"Andrea Zasa"},"score":0,"creation_date":1638721407,"post_id":70235778,"comment_id":124157715,"body_markdown":"Thank you for the feedback, I have updated the code with your suggestions. Still the problem persist.","body":"Thank you for the feedback, I have updated the code with your suggestions. Still the problem persist."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638724002,"creation_date":1638719309,"answer_id":70235933,"question_id":70235778,"body_markdown":"In the next method this code is a problem:\r\n\r\n        while (toVisit.size() == 0) {\r\n            try {\r\n                Thread.sleep(200);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nThe lock isn&#39;t held for this part, so size can be stale. Instead of this, try something like\r\n\r\n    while (toVisit.size() == 0) \r\n        wait();\r\n\r\nDo this in a synchronized block so  you have the lock held while checking the collection size. Code that adds to the collection should notify in order to wake up the waiting threads. \r\n\r\n","title":"How to make a block of code execute without interruption Java?","body":"<p>In the next method this code is a problem:</p>\n<pre><code>    while (toVisit.size() == 0) {\n        try {\n            Thread.sleep(200);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The lock isn't held for this part, so size can be stale. Instead of this, try something like</p>\n<pre><code>while (toVisit.size() == 0) \n    wait();\n</code></pre>\n<p>Do this in a synchronized block so  you have the lock held while checking the collection size. Code that adds to the collection should notify in order to wake up the waiting threads.</p>\n"},{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638762205,"creation_date":1638762205,"answer_id":70240636,"question_id":70235778,"body_markdown":"This piece of code is problematic:\r\n```\r\n        for (int i = 0; i &lt; urlHandler.getToVisit().size(); i++) {\r\n            webCrawler.add(new Runnable() {\r\n                // ...\r\n            });\r\n        }\r\n```\r\nThe ```urlHandler.getToVisit().size()``` is always changing during the traversal, and there is uncertainty (because the size will be changed asynchronously).\r\n\r\nChange to:\r\n```\r\n        int size = urlHandler.getToVisit().size();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            webCrawler.add(new Runnable() {\r\n                // ...\r\n            });\r\n        }\r\n```\r\n\r\n","title":"How to make a block of code execute without interruption Java?","body":"<p>This piece of code is problematic:</p>\n<pre><code>        for (int i = 0; i &lt; urlHandler.getToVisit().size(); i++) {\n            webCrawler.add(new Runnable() {\n                // ...\n            });\n        }\n</code></pre>\n<p>The <code>urlHandler.getToVisit().size()</code> is always changing during the traversal, and there is uncertainty (because the size will be changed asynchronously).</p>\n<p>Change to:</p>\n<pre><code>        int size = urlHandler.getToVisit().size();\n        for (int i = 0; i &lt; size; i++) {\n            webCrawler.add(new Runnable() {\n                // ...\n            });\n        }\n</code></pre>\n"}],"owner":{"account_id":23553288,"reputation":19,"user_id":17595677,"display_name":"Andrea Zasa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1638852352,"creation_date":1638718172,"question_id":70235778,"body_markdown":"I&#39;m trying to create a web crawler.\r\nI&#39;ve created a class to handle all URLs visited and to visit.\r\nThis class has to be accessed by multiple threads for retrieving and updating those lists.\r\nThe problem I&#39;m facing, or at least I think, is in **nextRandom()** and probably also in **next()**. I think what is happening is the threads are interfering with each other since the function is somewhat synchronized but not atomic. Is there a way to make so this block of code is executed without any interruption by other threads?\r\n\r\n\r\nThe URL handler\r\n---------------\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class UrlHandler {\r\n    private volatile Set&lt;String&gt; visited = new HashSet&lt;String&gt;();\r\n    private volatile List&lt;String&gt; toVisit = new ArrayList&lt;String&gt;();\r\n\r\n    public void addToVisit(String url) {\r\n        synchronized (this){\r\n            if (!visited.contains(url)) toVisit.add(url);\r\n        }\r\n    }\r\n\r\n    public void addToVisit(Collection&lt;String&gt; urls) {\r\n        synchronized (this){\r\n            for (String url : urls)\r\n                if (!visited.contains(url)) toVisit.add(url);\r\n        }\r\n    }\r\n\r\n    public void addVisited(String url){\r\n        synchronized (this){\r\n            visited.add(url);\r\n        }\r\n    }\r\n    public void addVisited(Collection&lt;String&gt; urls){\r\n        synchronized (this){\r\n            visited.addAll(urls);\r\n        }\r\n    }\r\n\r\n    public String next() {\r\n\r\n        while (toVisit.size() == 0) {\r\n            try {\r\n                Thread.sleep(200);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        synchronized (this){\r\n            String url = toVisit.get(0);\r\n            toVisit.remove(0);\r\n            return url;\r\n\r\n        }\r\n    }\r\n\r\n    public String nextRandom() {\r\n        synchronized (this){\r\n            int n = 0;\r\n            if (toVisit.size() &gt; 1){\r\n                n = ThreadLocalRandom.current().nextInt(toVisit.size());\r\n            }\r\n\r\n            String url = toVisit.get(n);\r\n            toVisit.remove(n);\r\n            return url;\r\n        }\r\n    }\r\n\r\n    public List&lt;String&gt; getToVisit() {\r\n        synchronized (this){\r\n            return toVisit;\r\n        }\r\n    }\r\n\r\n    public Set&lt;String&gt; getVisited() {\r\n        synchronized (this){\r\n            return visited;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWeb Crawler\r\n-----------\r\n\r\n```\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WebCrawler {\r\n    private final ExecutorService executor;\r\n\r\n    public WebCrawler(int nOfThreads) {\r\n        this.executor = Executors.newFixedThreadPool(nOfThreads);\r\n    }\r\n\r\n    public void add(Runnable runnable) {\r\n        this.executor.execute(runnable);\r\n    }\r\n\r\n    //Used to shut down safely and wait also 5 of seconds for not finished tasks\r\n    public void shutdown() {\r\n        this.executor.shutdown();\r\n        try {\r\n            this.executor.awaitTermination(5, TimeUnit.SECONDS);\r\n            if (!this.executor.isTerminated()) {\r\n                System.err.println(&quot;Timed out waiting for executor to terminate cleanly. Shutting down.&quot;);\r\n                this.executor.shutdownNow();\r\n            }\r\n        } catch (final InterruptedException e) {\r\n            System.err.println(&quot;Interrupted while waiting for executor shutdown.&quot;);\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFailing test example\r\n--------------------\r\n\r\n```\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class UrlHandlerTest {\r\n\r\n    List&lt;String&gt; testList = new ArrayList&lt;&gt;(List.of(&quot;test1&quot;, &quot;test2&quot;, &quot;test3&quot;, &quot;test3&quot;));\r\n    List&lt;String&gt; uniqueTestList = new ArrayList&lt;&gt;(List.of(&quot;test1&quot;, &quot;test2&quot;, &quot;test3&quot;));\r\n    UrlHandler urlHandler = new UrlHandler();\r\n\r\n    @Test\r\n    public void concurrentAccess(){\r\n        urlHandler.addToVisit(testList);\r\n\r\n        WebCrawler webCrawler = new WebCrawler(10);\r\n        for (int i = 0; i &lt; urlHandler.getToVisit().size(); i++) {\r\n            webCrawler.add(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    String url = urlHandler.nextRandom();\r\n                    urlHandler.addVisited(url);\r\n                    System.out.println(&quot;Here thread &quot; + Thread.currentThread().getId() + &quot; working on: &quot; + url);\r\n                }\r\n            });\r\n        }\r\n\r\n        webCrawler.shutdown();\r\n\r\n        System.out.println(urlHandler.getVisited());\r\n        assertEquals(true, urlHandler.getVisited().containsAll(uniqueTestList));\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to make a block of code execute without interruption Java?","body":"<p>I'm trying to create a web crawler.\nI've created a class to handle all URLs visited and to visit.\nThis class has to be accessed by multiple threads for retrieving and updating those lists.\nThe problem I'm facing, or at least I think, is in <strong>nextRandom()</strong> and probably also in <strong>next()</strong>. I think what is happening is the threads are interfering with each other since the function is somewhat synchronized but not atomic. Is there a way to make so this block of code is executed without any interruption by other threads?</p>\n<h2>The URL handler</h2>\n<pre><code>import java.util.*;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class UrlHandler {\n    private volatile Set&lt;String&gt; visited = new HashSet&lt;String&gt;();\n    private volatile List&lt;String&gt; toVisit = new ArrayList&lt;String&gt;();\n\n    public void addToVisit(String url) {\n        synchronized (this){\n            if (!visited.contains(url)) toVisit.add(url);\n        }\n    }\n\n    public void addToVisit(Collection&lt;String&gt; urls) {\n        synchronized (this){\n            for (String url : urls)\n                if (!visited.contains(url)) toVisit.add(url);\n        }\n    }\n\n    public void addVisited(String url){\n        synchronized (this){\n            visited.add(url);\n        }\n    }\n    public void addVisited(Collection&lt;String&gt; urls){\n        synchronized (this){\n            visited.addAll(urls);\n        }\n    }\n\n    public String next() {\n\n        while (toVisit.size() == 0) {\n            try {\n                Thread.sleep(200);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        synchronized (this){\n            String url = toVisit.get(0);\n            toVisit.remove(0);\n            return url;\n\n        }\n    }\n\n    public String nextRandom() {\n        synchronized (this){\n            int n = 0;\n            if (toVisit.size() &gt; 1){\n                n = ThreadLocalRandom.current().nextInt(toVisit.size());\n            }\n\n            String url = toVisit.get(n);\n            toVisit.remove(n);\n            return url;\n        }\n    }\n\n    public List&lt;String&gt; getToVisit() {\n        synchronized (this){\n            return toVisit;\n        }\n    }\n\n    public Set&lt;String&gt; getVisited() {\n        synchronized (this){\n            return visited;\n        }\n    }\n}\n</code></pre>\n<h2>Web Crawler</h2>\n<pre><code>import java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\npublic class WebCrawler {\n    private final ExecutorService executor;\n\n    public WebCrawler(int nOfThreads) {\n        this.executor = Executors.newFixedThreadPool(nOfThreads);\n    }\n\n    public void add(Runnable runnable) {\n        this.executor.execute(runnable);\n    }\n\n    //Used to shut down safely and wait also 5 of seconds for not finished tasks\n    public void shutdown() {\n        this.executor.shutdown();\n        try {\n            this.executor.awaitTermination(5, TimeUnit.SECONDS);\n            if (!this.executor.isTerminated()) {\n                System.err.println(&quot;Timed out waiting for executor to terminate cleanly. Shutting down.&quot;);\n                this.executor.shutdownNow();\n            }\n        } catch (final InterruptedException e) {\n            System.err.println(&quot;Interrupted while waiting for executor shutdown.&quot;);\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<h2>Failing test example</h2>\n<pre><code>\nimport org.junit.jupiter.api.Test;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class UrlHandlerTest {\n\n    List&lt;String&gt; testList = new ArrayList&lt;&gt;(List.of(&quot;test1&quot;, &quot;test2&quot;, &quot;test3&quot;, &quot;test3&quot;));\n    List&lt;String&gt; uniqueTestList = new ArrayList&lt;&gt;(List.of(&quot;test1&quot;, &quot;test2&quot;, &quot;test3&quot;));\n    UrlHandler urlHandler = new UrlHandler();\n\n    @Test\n    public void concurrentAccess(){\n        urlHandler.addToVisit(testList);\n\n        WebCrawler webCrawler = new WebCrawler(10);\n        for (int i = 0; i &lt; urlHandler.getToVisit().size(); i++) {\n            webCrawler.add(new Runnable() {\n                @Override\n                public void run() {\n                    String url = urlHandler.nextRandom();\n                    urlHandler.addVisited(url);\n                    System.out.println(&quot;Here thread &quot; + Thread.currentThread().getId() + &quot; working on: &quot; + url);\n                }\n            });\n        }\n\n        webCrawler.shutdown();\n\n        System.out.println(urlHandler.getVisited());\n        assertEquals(true, urlHandler.getVisited().containsAll(uniqueTestList));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-intent","android-service","lockscreen"],"answers":[{"tags":[],"owner":{"account_id":14395980,"reputation":97,"user_id":10399281,"display_name":"ssb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583845088,"creation_date":1583845088,"answer_id":60618148,"question_id":60551860,"body_markdown":"    I am new too, but I guess **android activity cycle** has an answer:\r\n    + The user opens an activity.\r\n           - onCreated() is called\r\n           - onStart() is called\r\n           - onResume() is called  \r\n    + The user LOCKS the device \r\n           - onPause() is called\r\n           - onDestroy() is called\r\n           - onCreate() is called\r\n           - onStart() is called\r\n           - onResume() is called \r\n           - onPause() is called   \r\n    + The user UNLOCKS the device\r\n           - onResume() is called\r\n           - onDestroy() is called\r\n           - onCreate() is called\r\n           - onStart() is called\r\n           - onResume() is called.\r\n    \r\n    Hope this helps","title":"Android activity opens twice when starting from lock screen","body":"<pre><code>I am new too, but I guess **android activity cycle** has an answer:\n+ The user opens an activity.\n       - onCreated() is called\n       - onStart() is called\n       - onResume() is called  \n+ The user LOCKS the device \n       - onPause() is called\n       - onDestroy() is called\n       - onCreate() is called\n       - onStart() is called\n       - onResume() is called \n       - onPause() is called   \n+ The user UNLOCKS the device\n       - onResume() is called\n       - onDestroy() is called\n       - onCreate() is called\n       - onStart() is called\n       - onResume() is called.\n\nHope this helps\n</code></pre>\n"}],"owner":{"account_id":17912684,"reputation":23,"user_id":13014422,"display_name":"sendHelpImAskingqq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638851880,"creation_date":1583432765,"question_id":60551860,"body_markdown":"guys last week I have tried myself with some android development and I&#39;m currently stuck on the following error: I&#39;m running a timer with a service in the background. When the time is up an activity shall open, even when the phone is locked. With the following code, while not locked everything is fine. But when opening from a locked screen it will always open up twice.. :/\r\n\r\n\r\nI have added this in the onCreate to make it open from the lock screen.\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        //allow window to be popped up while in lock screen\r\n        Window window = this.getWindow();\r\n        window.addFlags(WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD);\r\n        window.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);\r\n        window.addFlags(WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON);\r\n        setContentView(R.layout.activity_entry);\r\n\r\nAnd I am opening the activity from the service via an intent.\r\n\r\n        callEntryActivityIntent = new Intent(this, EntryActivity.class);\r\n        callEntryActivityIntent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\r\n        pendingIntent = PendingIntent.getActivity(this, 0, callEntryActivityIntent, 0);\r\nand when timer is finished -&gt; startActivity(callEntryActivityIntent);\r\n\r\nmaybe someone has an idea. I&#39;m really really new to android development, started this two weeks ago. \r\n\r\n\r\n","title":"Android activity opens twice when starting from lock screen","body":"<p>guys last week I have tried myself with some android development and I'm currently stuck on the following error: I'm running a timer with a service in the background. When the time is up an activity shall open, even when the phone is locked. With the following code, while not locked everything is fine. But when opening from a locked screen it will always open up twice.. :/</p>\n<p>I have added this in the onCreate to make it open from the lock screen.</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    //allow window to be popped up while in lock screen\n    Window window = this.getWindow();\n    window.addFlags(WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD);\n    window.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);\n    window.addFlags(WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON);\n    setContentView(R.layout.activity_entry);\n</code></pre>\n<p>And I am opening the activity from the service via an intent.</p>\n<pre><code>    callEntryActivityIntent = new Intent(this, EntryActivity.class);\n    callEntryActivityIntent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n    pendingIntent = PendingIntent.getActivity(this, 0, callEntryActivityIntent, 0);\n</code></pre>\n<p>and when timer is finished -&gt; startActivity(callEntryActivityIntent);</p>\n<p>maybe someone has an idea. I'm really really new to android development, started this two weeks ago.</p>\n"},{"tags":["java","android","android-studio","android-intent","android-service"],"answers":[{"tags":[],"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1584676957,"creation_date":1584666618,"answer_id":60767250,"question_id":60767216,"body_markdown":"As of Android 10 (API level 29), [you cannot start activities from the background anymore][1].\r\n\r\nThere are a number of [exceptions][2] to this rule that may or may not apply to your given scenario.\r\n\r\nIf none of the exceptions apply, you might want to consider displaying a [high-priority notification][3], possibly with a [full-screen Intent][4].\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/activities/background-starts\r\n  [2]: https://developer.android.com/guide/components/activities/background-starts#exceptions\r\n  [3]: https://developer.android.com/training/notify-user/time-sensitive#create-high-priority-notification\r\n  [4]: https://developer.android.com/reference/android/app/Notification.Builder#setFullScreenIntent(android.app.PendingIntent,%20boolean)","title":"How to trigger a launch Activity intent when my app is closed on Android 10/Q?","body":"<p>As of Android 10 (API level 29), <a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"noreferrer\">you cannot start activities from the background anymore</a>.</p>\n\n<p>There are a number of <a href=\"https://developer.android.com/guide/components/activities/background-starts#exceptions\" rel=\"noreferrer\">exceptions</a> to this rule that may or may not apply to your given scenario.</p>\n\n<p>If none of the exceptions apply, you might want to consider displaying a <a href=\"https://developer.android.com/training/notify-user/time-sensitive#create-high-priority-notification\" rel=\"noreferrer\">high-priority notification</a>, possibly with a <a href=\"https://developer.android.com/reference/android/app/Notification.Builder#setFullScreenIntent(android.app.PendingIntent,%20boolean)\" rel=\"noreferrer\">full-screen Intent</a>.</p>\n"}],"owner":{"account_id":18004394,"reputation":48,"user_id":13085535,"display_name":"CSG01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60767250,"answer_count":1,"score":2,"last_activity_date":1638851850,"creation_date":1584666317,"question_id":60767216,"body_markdown":"I am trying to create an app that will open another app at a specified time. To do this, I used an AlarmManager that starts a service. It works just fine if my app is open when the alarm is triggered. I get a notification that the service started, and the other app opens. However, if my app is in the background (after pressing the home button), and the alarm triggers, I get a notification that the service started, but the other app does not launch. What am I doing wrong? I am testing this on a Pixel 3 emulator running API level 29 (Android 10/Q).\r\n\r\nMainActivity.java\r\n-----------------\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public static final int REQUEST_CODE=101;\r\n    public static int aHour;\r\n    public static int aMinute;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void setAlarm() {\r\n        AlarmManager am = (AlarmManager) getSystemService(ALARM_SERVICE);\r\n        Intent intent = new Intent(this, amReceiver.class);\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(this, REQUEST_CODE, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTimeInMillis(System.currentTimeMillis());\r\n        calendar.set(Calendar.HOUR_OF_DAY, aHour);\r\n        calendar.set(Calendar.MINUTE, aMinute);\r\n        am.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n    }\r\n\r\n    //Some code that sets aHour and aMinute\r\n\r\n    //Some code that triggers setAlarm()\r\n\r\n}\r\n```\r\n\r\namReciever.java\r\n---------------\r\n\r\n```\r\npublic class amReceiver extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        Intent i = new Intent(context, launcherService.class);\r\n        ContextCompat.startForegroundService(getApplicationContext(), i);\r\n    }\r\n}\r\n```\r\n\r\nlauncherService.java\r\n--------------------\r\n\r\n```\r\npublic class launcherService extends Service {\r\n    public static final String CHANNEL_ID = &quot;ForegroundServiceChannel&quot;;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        createNotificationChannel();\r\n        Intent notificationIntent = new Intent(this, MainActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this,\r\n                0, notificationIntent, 0);\r\n        Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n                .setContentTitle(&quot;Foreground Service&quot;)\r\n                .setContentText(&quot;App is launching.&quot;)\r\n                .setSmallIcon(R.drawable.ic_launcher_foreground)\r\n                .setContentIntent(pendingIntent)\r\n                .build();\r\n        startForeground(1, notification);\r\n\r\n        Intent launcher = getApplicationContext().getPackageManager().getLaunchIntentForPackage(&quot;com.example.app&quot;);\r\n        if (launcher != null) {\r\n            startActivity(launcher);\r\n        }\r\n        return START_NOT_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel serviceChannel = new NotificationChannel(\r\n                    CHANNEL_ID,\r\n                    &quot;Foreground Service Channel&quot;,\r\n                    NotificationManager.IMPORTANCE_DEFAULT\r\n            );\r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(serviceChannel);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAndroidManifest.xml\r\n-------------------\r\n\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\r\n\r\n       &lt;service android:name=&quot;.launcherService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n```","title":"How to trigger a launch Activity intent when my app is closed on Android 10/Q?","body":"<p>I am trying to create an app that will open another app at a specified time. To do this, I used an AlarmManager that starts a service. It works just fine if my app is open when the alarm is triggered. I get a notification that the service started, and the other app opens. However, if my app is in the background (after pressing the home button), and the alarm triggers, I get a notification that the service started, but the other app does not launch. What am I doing wrong? I am testing this on a Pixel 3 emulator running API level 29 (Android 10/Q).</p>\n<h2>MainActivity.java</h2>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public static final int REQUEST_CODE=101;\n    public static int aHour;\n    public static int aMinute;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void setAlarm() {\n        AlarmManager am = (AlarmManager) getSystemService(ALARM_SERVICE);\n        Intent intent = new Intent(this, amReceiver.class);\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(this, REQUEST_CODE, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(System.currentTimeMillis());\n        calendar.set(Calendar.HOUR_OF_DAY, aHour);\n        calendar.set(Calendar.MINUTE, aMinute);\n        am.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n    }\n\n    //Some code that sets aHour and aMinute\n\n    //Some code that triggers setAlarm()\n\n}\n</code></pre>\n<h2>amReciever.java</h2>\n<pre><code>public class amReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Intent i = new Intent(context, launcherService.class);\n        ContextCompat.startForegroundService(getApplicationContext(), i);\n    }\n}\n</code></pre>\n<h2>launcherService.java</h2>\n<pre><code>public class launcherService extends Service {\n    public static final String CHANNEL_ID = &quot;ForegroundServiceChannel&quot;;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        createNotificationChannel();\n        Intent notificationIntent = new Intent(this, MainActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this,\n                0, notificationIntent, 0);\n        Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\n                .setContentTitle(&quot;Foreground Service&quot;)\n                .setContentText(&quot;App is launching.&quot;)\n                .setSmallIcon(R.drawable.ic_launcher_foreground)\n                .setContentIntent(pendingIntent)\n                .build();\n        startForeground(1, notification);\n\n        Intent launcher = getApplicationContext().getPackageManager().getLaunchIntentForPackage(&quot;com.example.app&quot;);\n        if (launcher != null) {\n            startActivity(launcher);\n        }\n        return START_NOT_STICKY;\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    private void createNotificationChannel() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel serviceChannel = new NotificationChannel(\n                    CHANNEL_ID,\n                    &quot;Foreground Service Channel&quot;,\n                    NotificationManager.IMPORTANCE_DEFAULT\n            );\n            NotificationManager manager = getSystemService(NotificationManager.class);\n            manager.createNotificationChannel(serviceChannel);\n        }\n    }\n}\n</code></pre>\n<h2>AndroidManifest.xml</h2>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\n\n       &lt;service android:name=&quot;.launcherService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot; /&gt;\n</code></pre>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1515343395,"post_id":48138846,"comment_id":83256139,"body_markdown":"`imgViewer` != `imgView`","body":"<code>imgViewer</code> != <code>imgView</code>"},{"owner":{"account_id":9881129,"reputation":68,"user_id":7969320,"display_name":"Muiz Uvais"},"score":0,"creation_date":1515343985,"post_id":48138846,"comment_id":83256340,"body_markdown":"imgViewer is only the fxid","body":"imgViewer is only the fxid"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1515344194,"post_id":48138846,"comment_id":83256428,"body_markdown":"You want a element to be injected to a controller field? Then the `fx:id` and the field&#39;s name need to match. There is no other element in the fxml with a `fx:id` of `imgView`...","body":"You want a element to be injected to a controller field? Then the <code>fx:id</code> and the field&#39;s name need to match. There is no other element in the fxml with a <code>fx:id</code> of <code>imgView</code>..."}],"answers":[{"tags":[],"owner":{"account_id":12295592,"reputation":81,"user_id":8971326,"display_name":"Black"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1515411832,"creation_date":1515411832,"answer_id":48149610,"question_id":48138846,"body_markdown":"The `fx:id=imageViewer` should be changed to `fx:id=imgView` as the field name in the class it is also same for all the `fx:id` in the fxml they should match with the field names in the class.","title":"Javafx: changing the image in an Imageview when a button is clicked","body":"<p>The <code>fx:id=imageViewer</code> should be changed to <code>fx:id=imgView</code> as the field name in the class it is also same for all the <code>fx:id</code> in the fxml they should match with the field names in the class.</p>\n"},{"tags":[],"owner":{"account_id":22867341,"reputation":35,"user_id":17010945,"display_name":"Sahil Goyal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638851647,"creation_date":1638851647,"answer_id":70254981,"question_id":48138846,"body_markdown":"you have put wrong id for ImageView in the fxml file. It should be either Imgview or Imgviewer in both the fxml and the java file","title":"Javafx: changing the image in an Imageview when a button is clicked","body":"<p>you have put wrong id for ImageView in the fxml file. It should be either Imgview or Imgviewer in both the fxml and the java file</p>\n"}],"owner":{"account_id":9881129,"reputation":68,"user_id":7969320,"display_name":"Muiz Uvais"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4370,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1638851647,"creation_date":1515340297,"question_id":48138846,"body_markdown":"Controller class:\r\n\r\n    import com.jfoenix.controls.JFXButton;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    \r\n    public class ControllerBuildingPlans {\r\n        @FXML public ImageView imgView;\r\n        @FXML public JFXButton bldingBtn1;\r\n        @FXML public JFXButton bldingBtn2;\r\n        \r\n        @FXML public void bldingBtnClick1() {\r\n            imgView.setImage(new Image(&quot;com/application/Menu/viewBuildingPlans/building1 plan.jpg&quot;));\r\n        }\r\n\r\n        @FXML\r\n        public void bldingBtnClick2() {\r\n            imgView.setImage(new Image(&quot;com/application/Menu/viewBuildingPlans/building2 plan.jpg&quot;));\r\n        }\r\n    }\r\n\r\n fxml class:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import com.jfoenix.controls.JFXButton?&gt;\r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Hyperlink?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.image.Image?&gt;\r\n    &lt;?import javafx.scene.image.ImageView?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.layout.HBox?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    &lt;?import javafx.scene.text.TextFlow?&gt;\r\n    \r\n    &lt;AnchorPane prefHeight=&quot;502.0&quot; prefWidth=&quot;682.0&quot; style=&quot;-fx-background-color: #2D3447;&quot; xmlns=&quot;http://javafx.com/javafx/8.0.141&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.application.Menu.viewBuildingPlans.ControllerBuildingPlans&quot;&gt;\r\n        &lt;children&gt;\r\n          &lt;HBox alignment=&quot;CENTER_RIGHT&quot; layoutX=&quot;-1.0&quot; layoutY=&quot;4.0&quot; nodeOrientation=&quot;LEFT_TO_RIGHT&quot; prefHeight=&quot;135.0&quot; prefWidth=&quot;682.0&quot;&gt;\r\n             &lt;children&gt;\r\n                &lt;AnchorPane prefHeight=&quot;135.0&quot; prefWidth=&quot;551.0&quot;&gt;\r\n                   &lt;children&gt;\r\n                      &lt;TextFlow fx:id=&quot;Logout&quot; layoutX=&quot;7.0&quot; layoutY=&quot;7.0&quot; prefHeight=&quot;120.0&quot; prefWidth=&quot;165.0&quot;&gt;\r\n                         &lt;children&gt;\r\n                            &lt;Hyperlink fx:id=&quot;lgout&quot; prefHeight=&quot;36.0&quot; prefWidth=&quot;67.0&quot; text=&quot;Logout&quot;&gt;\r\n                               &lt;font&gt;\r\n                                  &lt;Font size=&quot;16.0&quot; /&gt;\r\n                               &lt;/font&gt;\r\n                            &lt;/Hyperlink&gt;\r\n                         &lt;/children&gt;\r\n                         &lt;padding&gt;\r\n                            &lt;Insets left=&quot;-5.0&quot; /&gt;\r\n                         &lt;/padding&gt;\r\n                      &lt;/TextFlow&gt;\r\n                      &lt;Label layoutX=&quot;265.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;57.0&quot; prefWidth=&quot;211.0&quot; text=&quot;UGNiP Staff System&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot;&gt;\r\n                         &lt;font&gt;\r\n                            &lt;Font size=&quot;24.0&quot; /&gt;\r\n                         &lt;/font&gt;\r\n                      &lt;/Label&gt;\r\n                      &lt;Label alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutX=&quot;301.0&quot; layoutY=&quot;90.0&quot; prefHeight=&quot;57.0&quot; prefWidth=&quot;139.0&quot; text=&quot;Building Plans&quot; textFill=&quot;#f5f5f5&quot;&gt;\r\n                         &lt;font&gt;\r\n                            &lt;Font size=&quot;21.0&quot; /&gt;\r\n                         &lt;/font&gt;\r\n                      &lt;/Label&gt;\r\n                   &lt;/children&gt;\r\n                   &lt;padding&gt;\r\n                      &lt;Insets left=&quot;310.0&quot; right=&quot;-233.0&quot; /&gt;\r\n                   &lt;/padding&gt;\r\n                &lt;/AnchorPane&gt;\r\n                &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n                   &lt;children&gt;\r\n                        &lt;ImageView fitHeight=&quot;120.0&quot; fitWidth=&quot;211.0&quot; layoutX=&quot;-23.0&quot; layoutY=&quot;8.0&quot; nodeOrientation=&quot;INHERIT&quot; opacity=&quot;0.8&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                            &lt;image&gt;\r\n                                &lt;Image url=&quot;file:/C:/Users/muizu/Documents/codes/cwk3/src/Icons/image.jpeg&quot; /&gt;\r\n                            &lt;/image&gt;\r\n                        &lt;/ImageView&gt;\r\n                   &lt;/children&gt;\r\n                &lt;/AnchorPane&gt;\r\n             &lt;/children&gt;\r\n          &lt;/HBox&gt;\r\n            &lt;JFXButton fx:id=&quot;bldingBtn1&quot; layoutX=&quot;610.0&quot; layoutY=&quot;185.0&quot; prefHeight=&quot;47.0&quot; prefWidth=&quot;118.0&quot; style=&quot;-fx-background-color: #3C5BFA;&quot; text=&quot;Building 1&quot; textFill=&quot;#f5f5f5&quot;&gt;\r\n                &lt;font&gt;\r\n                    &lt;Font size=&quot;18.0&quot; /&gt;\r\n                &lt;/font&gt;\r\n            &lt;/JFXButton&gt;\r\n          &lt;JFXButton fx:id=&quot;bldingBtn2&quot; layoutX=&quot;610.0&quot; layoutY=&quot;310.0&quot; onAction=&quot;#bldingBtnClick2&quot; prefHeight=&quot;47.0&quot; prefWidth=&quot;118.0&quot; style=&quot;-fx-background-color: #3C5BFA;&quot; text=&quot;Building 2&quot; textFill=&quot;#f5f5f5&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;18.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/JFXButton&gt;\r\n          &lt;JFXButton fx:id=&quot;Back&quot; layoutY=&quot;404.0&quot; prefHeight=&quot;47.0&quot; prefWidth=&quot;86.0&quot; style=&quot;-fx-background-color: #3C5BFA;&quot; text=&quot;Back&quot; textFill=&quot;#f5f5f5&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;18.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/JFXButton&gt;\r\n          &lt;ImageView fx:id=&quot;imgViewer&quot; fitHeight=&quot;313.0&quot; fitWidth=&quot;483.0&quot; layoutX=&quot;118.0&quot; layoutY=&quot;150.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; /&gt;\r\n        &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nError message:\r\n\r\n&gt; Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException:\r\n&gt; java.lang.reflect.InvocationTargetException \tat\r\n&gt; javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1774) \tat\r\n&gt; javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1657)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n&gt; \tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n&gt; \tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49) \tat\r\n&gt; javafx.event.Event.fireEvent(Event.java:198) \tat\r\n&gt; javafx.scene.Node.fireEvent(Node.java:8413) \tat\r\n&gt; javafx.scene.control.Button.fire(Button.java:185) \tat\r\n&gt; com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\r\n&gt; \tat\r\n&gt; com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\r\n&gt; \tat\r\n&gt; com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n&gt; \tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n&gt; \tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54) \tat\r\n&gt; javafx.event.Event.fireEvent(Event.java:198) \tat\r\n&gt; javafx.scene.Scene$MouseHandler.process(Scene.java:3757) \tat\r\n&gt; javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485) \tat\r\n&gt; javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762) \tat\r\n&gt; javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494) \tat\r\n&gt; com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:381)\r\n&gt; \tat\r\n&gt; com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n&gt; \tat java.security.AccessController.doPrivileged(Native Method) \tat\r\n&gt; com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$354(GlassViewEventHandler.java:417)\r\n&gt; \tat\r\n&gt; com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\r\n&gt; \tat\r\n&gt; com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:416)\r\n&gt; \tat com.sun.glass.ui.View.handleMouseEvent(View.java:555) \tat\r\n&gt; com.sun.glass.ui.View.notifyMouse(View.java:937) \tat\r\n&gt; com.sun.glass.ui.win.WinApplication._runLoop(Native Method) \tat\r\n&gt; com.sun.glass.ui.win.WinApplication.lambda$null$148(WinApplication.java:191)\r\n&gt; \tat java.lang.Thread.run(Thread.java:748) Caused by:\r\n&gt; java.lang.reflect.InvocationTargetException \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71) \tat\r\n&gt; sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source) \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275) \tat\r\n&gt; javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1771) \t...\r\n&gt; 48 more Caused by: java.lang.NullPointerException \tat\r\n&gt; com.application.Menu.viewBuildingPlans.ControllerBuildingPlans.bldingBtnClick2(ControllerBuildingPlans.java:16)\r\n&gt; \t... 58 more\r\n\r\nI want to be able to change the image when the each of those buttons are clicked.","title":"Javafx: changing the image in an Imageview when a button is clicked","body":"<p>Controller class:</p>\n\n<pre><code>import com.jfoenix.controls.JFXButton;\nimport javafx.fxml.FXML;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\n\npublic class ControllerBuildingPlans {\n    @FXML public ImageView imgView;\n    @FXML public JFXButton bldingBtn1;\n    @FXML public JFXButton bldingBtn2;\n\n    @FXML public void bldingBtnClick1() {\n        imgView.setImage(new Image(\"com/application/Menu/viewBuildingPlans/building1 plan.jpg\"));\n    }\n\n    @FXML\n    public void bldingBtnClick2() {\n        imgView.setImage(new Image(\"com/application/Menu/viewBuildingPlans/building2 plan.jpg\"));\n    }\n}\n</code></pre>\n\n<p>fxml class:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import com.jfoenix.controls.JFXButton?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Hyperlink?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.TextFlow?&gt;\n\n&lt;AnchorPane prefHeight=\"502.0\" prefWidth=\"682.0\" style=\"-fx-background-color: #2D3447;\" xmlns=\"http://javafx.com/javafx/8.0.141\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"com.application.Menu.viewBuildingPlans.ControllerBuildingPlans\"&gt;\n    &lt;children&gt;\n      &lt;HBox alignment=\"CENTER_RIGHT\" layoutX=\"-1.0\" layoutY=\"4.0\" nodeOrientation=\"LEFT_TO_RIGHT\" prefHeight=\"135.0\" prefWidth=\"682.0\"&gt;\n         &lt;children&gt;\n            &lt;AnchorPane prefHeight=\"135.0\" prefWidth=\"551.0\"&gt;\n               &lt;children&gt;\n                  &lt;TextFlow fx:id=\"Logout\" layoutX=\"7.0\" layoutY=\"7.0\" prefHeight=\"120.0\" prefWidth=\"165.0\"&gt;\n                     &lt;children&gt;\n                        &lt;Hyperlink fx:id=\"lgout\" prefHeight=\"36.0\" prefWidth=\"67.0\" text=\"Logout\"&gt;\n                           &lt;font&gt;\n                              &lt;Font size=\"16.0\" /&gt;\n                           &lt;/font&gt;\n                        &lt;/Hyperlink&gt;\n                     &lt;/children&gt;\n                     &lt;padding&gt;\n                        &lt;Insets left=\"-5.0\" /&gt;\n                     &lt;/padding&gt;\n                  &lt;/TextFlow&gt;\n                  &lt;Label layoutX=\"265.0\" layoutY=\"14.0\" prefHeight=\"57.0\" prefWidth=\"211.0\" text=\"UGNiP Staff System\" textAlignment=\"CENTER\" textFill=\"WHITE\"&gt;\n                     &lt;font&gt;\n                        &lt;Font size=\"24.0\" /&gt;\n                     &lt;/font&gt;\n                  &lt;/Label&gt;\n                  &lt;Label alignment=\"CENTER\" contentDisplay=\"CENTER\" layoutX=\"301.0\" layoutY=\"90.0\" prefHeight=\"57.0\" prefWidth=\"139.0\" text=\"Building Plans\" textFill=\"#f5f5f5\"&gt;\n                     &lt;font&gt;\n                        &lt;Font size=\"21.0\" /&gt;\n                     &lt;/font&gt;\n                  &lt;/Label&gt;\n               &lt;/children&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=\"310.0\" right=\"-233.0\" /&gt;\n               &lt;/padding&gt;\n            &lt;/AnchorPane&gt;\n            &lt;AnchorPane prefHeight=\"200.0\" prefWidth=\"200.0\"&gt;\n               &lt;children&gt;\n                    &lt;ImageView fitHeight=\"120.0\" fitWidth=\"211.0\" layoutX=\"-23.0\" layoutY=\"8.0\" nodeOrientation=\"INHERIT\" opacity=\"0.8\" pickOnBounds=\"true\" preserveRatio=\"true\"&gt;\n                        &lt;image&gt;\n                            &lt;Image url=\"file:/C:/Users/muizu/Documents/codes/cwk3/src/Icons/image.jpeg\" /&gt;\n                        &lt;/image&gt;\n                    &lt;/ImageView&gt;\n               &lt;/children&gt;\n            &lt;/AnchorPane&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n        &lt;JFXButton fx:id=\"bldingBtn1\" layoutX=\"610.0\" layoutY=\"185.0\" prefHeight=\"47.0\" prefWidth=\"118.0\" style=\"-fx-background-color: #3C5BFA;\" text=\"Building 1\" textFill=\"#f5f5f5\"&gt;\n            &lt;font&gt;\n                &lt;Font size=\"18.0\" /&gt;\n            &lt;/font&gt;\n        &lt;/JFXButton&gt;\n      &lt;JFXButton fx:id=\"bldingBtn2\" layoutX=\"610.0\" layoutY=\"310.0\" onAction=\"#bldingBtnClick2\" prefHeight=\"47.0\" prefWidth=\"118.0\" style=\"-fx-background-color: #3C5BFA;\" text=\"Building 2\" textFill=\"#f5f5f5\"&gt;\n         &lt;font&gt;\n            &lt;Font size=\"18.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/JFXButton&gt;\n      &lt;JFXButton fx:id=\"Back\" layoutY=\"404.0\" prefHeight=\"47.0\" prefWidth=\"86.0\" style=\"-fx-background-color: #3C5BFA;\" text=\"Back\" textFill=\"#f5f5f5\"&gt;\n         &lt;font&gt;\n            &lt;Font size=\"18.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/JFXButton&gt;\n      &lt;ImageView fx:id=\"imgViewer\" fitHeight=\"313.0\" fitWidth=\"483.0\" layoutX=\"118.0\" layoutY=\"150.0\" pickOnBounds=\"true\" preserveRatio=\"true\" /&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n\n<p>Error message:</p>\n\n<blockquote>\n  <p>Exception in thread \"JavaFX Application Thread\" java.lang.RuntimeException:\n  java.lang.reflect.InvocationTargetException   at\n  javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1774)     at\n  javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1657)\n    at\n  com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at\n  com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at\n  com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at\n  com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at\n  com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at\n  com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at\n  com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at\n  com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at\n  com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at\n  com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)  at\n  javafx.event.Event.fireEvent(Event.java:198)  at\n  javafx.scene.Node.fireEvent(Node.java:8413)   at\n  javafx.scene.control.Button.fire(Button.java:185)     at\n  com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\n    at\n  com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\n    at\n  com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\n    at\n  com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at\n  com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at\n  com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at\n  com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at\n  com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at\n  com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at\n  com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at\n  com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at\n  com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at\n  com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at\n  com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)  at\n  javafx.event.Event.fireEvent(Event.java:198)  at\n  javafx.scene.Scene$MouseHandler.process(Scene.java:3757)  at\n  javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)  at\n  javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)    at\n  javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)  at\n  com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:381)\n    at\n  com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    at java.security.AccessController.doPrivileged(Native Method)   at\n  com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$354(GlassViewEventHandler.java:417)\n    at\n  com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\n    at\n  com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:416)\n    at com.sun.glass.ui.View.handleMouseEvent(View.java:555)    at\n  com.sun.glass.ui.View.notifyMouse(View.java:937)  at\n  com.sun.glass.ui.win.WinApplication._runLoop(Native Method)   at\n  com.sun.glass.ui.win.WinApplication.lambda$null$148(WinApplication.java:191)\n    at java.lang.Thread.run(Thread.java:748) Caused by:\n  java.lang.reflect.InvocationTargetException   at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)    at\n  sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)   at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)   at\n  javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1771)     ...\n  48 more Caused by: java.lang.NullPointerException     at\n  com.application.Menu.viewBuildingPlans.ControllerBuildingPlans.bldingBtnClick2(ControllerBuildingPlans.java:16)\n    ... 58 more</p>\n</blockquote>\n\n<p>I want to be able to change the image when the each of those buttons are clicked.</p>\n"},{"tags":["java","firebase","firebase-realtime-database","null","classpath"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638851013,"creation_date":1638851013,"answer_id":70254912,"question_id":70254612,"body_markdown":"The error comes from this method:\r\n\r\n    public String recuperarId(){\r\n        DatabaseReference referencia = ConfiguracaoFirebase.getFirebaseDatabase();\r\n        referencia.child(&quot;usuarios&quot;)\r\n                .child(getId()).get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                if(task.isSuccessful()){\r\n                    idSalvo = String.valueOf(task.getResult().getValue());\r\n                }\r\n            }\r\n        });\r\n\r\n        return idSalvo;\r\n    }\r\n\r\nSince there&#39;s only one call to `child()` where pass a variable, it&#39;s clear that `getId()` is returning `null`, which is not allowed. You&#39;ll want to investigate why `id` is null.\r\n\r\n---\r\n\r\nSeparate from that: this method is gonna return the old value of `idSalvo`, since by the time `return idSalvo` runs the `onComplete` hasn&#39;t been called yet. Run your code in a debugger, or add some logging lines, to most easily see this.\r\n\r\nFor more on this, read:\r\n\r\n* https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\r\n* https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\r\n","title":"Getting the error Can&#39;t pass null for argument &#39;pathString&#39; in child()","body":"<p>The error comes from this method:</p>\n<pre><code>public String recuperarId(){\n    DatabaseReference referencia = ConfiguracaoFirebase.getFirebaseDatabase();\n    referencia.child(&quot;usuarios&quot;)\n            .child(getId()).get()\n            .addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n            if(task.isSuccessful()){\n                idSalvo = String.valueOf(task.getResult().getValue());\n            }\n        }\n    });\n\n    return idSalvo;\n}\n</code></pre>\n<p>Since there's only one call to <code>child()</code> where pass a variable, it's clear that <code>getId()</code> is returning <code>null</code>, which is not allowed. You'll want to investigate why <code>id</code> is null.</p>\n<hr />\n<p>Separate from that: this method is gonna return the old value of <code>idSalvo</code>, since by the time <code>return idSalvo</code> runs the <code>onComplete</code> hasn't been called yet. Run your code in a debugger, or add some logging lines, to most easily see this.</p>\n<p>For more on this, read:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\">getContactsFromFirebase() method return an empty list</a></li>\n<li><a href=\"https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\">Setting Singleton property value in Firebase Listener</a></li>\n</ul>\n"}],"owner":{"account_id":23569188,"reputation":5,"user_id":17609544,"display_name":"X MrZaq X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70254912,"answer_count":1,"score":0,"last_activity_date":1638851013,"creation_date":1638847922,"question_id":70254612,"body_markdown":"I&#39;m getting the following error (below), and i have tried a lot of things like change the local to call the method localizacao.setId(usuario.recuperarId()), later tried to instanciety the class usuario alone and not this not solved, this is giving me a hard work to solve, if someone can help i&#39;ll be grateful\r\n\r\n//////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\nThe error\r\n---------\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.znovations.citty, PID: 4666\r\n    java.lang.NullPointerException: Can&#39;t pass null for argument &#39;pathString&#39; in child()\r\n        at com.google.firebase.database.DatabaseReference.child(DatabaseReference.java:96)\r\n        at com.znovations.citty.model.Usuario.recuperarId(Usuario.java:34)\r\n        at com.znovations.citty.activitys.MapsActivity.onMapReady(MapsActivity.java:84)\r\n        at com.google.android.gms.maps.zzat.zzb(com.google.android.gms:play-services-maps@@18.0.0:1)\r\n        at com.google.android.gms.maps.internal.zzaq.zza(com.google.android.gms:play-services-maps@@18.0.0:5)\r\n        at com.google.android.gms.internal.maps.zzb.onTransact(com.google.android.gms:play-services-maps@@18.0.0:3)\r\n        at android.os.Binder.transact(Binder.java:1043)\r\n        at dy.aZ(:com.google.android.gms.dynamite_mapsdynamite@214515084@21.45.15 (150700-0):2)\r\n        at com.google.maps.api.android.lib6.impl.bk.run(:com.google.android.gms.dynamite_mapsdynamite@214515084@21.45.15 (150700-0):1)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n\r\n```\r\n\r\nMapsActivity\r\n------------\r\n\r\n```\r\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n    private ActivityMapaBinding binding;\r\n    private FirebaseAuth autenticacao;\r\n    private Toolbar toolbar;\r\n    private LocationManager locationManager;\r\n    private LocationListener locationListener;\r\n    private LatLng localizacaoAtual;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMapaBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        toolbar = findViewById(R.id.toolbar);\r\n\r\n        //Configuracoes inciais\r\n        autenticacao = FirebaseAuth.getInstance();\r\n        configurarToolbar();\r\n\r\n\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n    }\r\n\r\n    /**\r\n     * Manipulates the map once available.\r\n     * This callback is triggered when the map is ready to be used.\r\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\r\n     * we just add a marker near Sydney, Australia.\r\n     * If Google Play services is not installed on the device, the user will be prompted to install\r\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\r\n     * installed Google Play services and returned to the app.\r\n     */\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        //Recuperar localiza&#231;&#227;o do usu&#225;rio\r\n        recuperarLocalizacaoUsuario();\r\n\r\n        localizacao.setId(usuario.recuperarId());\r\n        localizacao.salvarLocalizacao();\r\n\r\n    }\r\n\r\n    public void clicarMapa(){\r\n        mMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\r\n            @Override\r\n            public void onMapClick(@NonNull LatLng latLng) {\r\n                mMap.addMarker(\r\n                        new MarkerOptions()\r\n                        .position(latLng)\r\n                        .title(&quot;Local de experiencia&quot;)\r\n                        .icon(BitmapDescriptorFactory.fromResource(R.drawable.cranio))\r\n\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    Usuario usuario = new Usuario();\r\n    UsuarioLocalizacao localizacao = new UsuarioLocalizacao();\r\n\r\n    private void recuperarLocalizacaoUsuario() {\r\n\r\n        locationManager = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE);\r\n\r\n        locationListener = new LocationListener() {\r\n            @Override\r\n            public void onLocationChanged(@NonNull Location location) {\r\n\r\n                double latitude = location.getLatitude();\r\n                double longitude = location.getLongitude();\r\n               localizacaoAtual = new LatLng(latitude, longitude);\r\n\r\n                localizacao.setLatitude(String.valueOf(localizacaoAtual.latitude));\r\n                localizacao.setLongitude(String.valueOf(localizacaoAtual.longitude));\r\n\r\n                clicarMapa();\r\n                mMap.clear();\r\n                mMap.addMarker(\r\n                        new MarkerOptions()\r\n                                .position(localizacaoAtual)\r\n                                .title(&quot;Meu local&quot;)\r\n                                .icon(BitmapDescriptorFactory.fromResource(R.drawable.usuario))\r\n                );\r\n\r\n                mMap.moveCamera(\r\n                        CameraUpdateFactory.newLatLngZoom(localizacaoAtual, 15)\r\n                );\r\n            }\r\n\r\n        };\r\n\r\n\r\n\r\n        //Solicitar atualiza&#231;&#245;es de localiza&#231;&#227;o\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n            locationManager.requestLocationUpdates(\r\n                    LocationManager.GPS_PROVIDER,\r\n                    10000,\r\n                    10,\r\n                    locationListener\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n    public void configurarToolbar(){\r\n        toolbar.setTitle(&quot;Encontrar&quot;);\r\n        toolbar.inflateMenu(R.menu.menu_main);\r\n        Menu menu = toolbar.getMenu();\r\n        toolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener() {\r\n            @Override\r\n            public boolean onMenuItemClick(MenuItem item) {\r\n\r\n                switch (item.getItemId()){\r\n\r\n                    case R.id.menuSair:\r\n                        autenticacao.signOut();\r\n                        finish();\r\n                        break;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    public void deslogarUsuario(){\r\n        autenticacao.signOut();\r\n        finish();\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()){\r\n\r\n            case R.id.menuSair:\r\n                autenticacao.signOut();\r\n                finish();\r\n                break;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n}\r\n\r\n```\r\n\r\nUsuarioLocalizacao class\r\n------------------------\r\n\r\n```\r\npublic class UsuarioLocalizacao {\r\n\r\n    private String id;\r\n    private String latitude;\r\n    private String longitude;\r\n\r\n    public UsuarioLocalizacao() {\r\n\r\n    }\r\n\r\n    public void salvarLocalizacao(){\r\n        DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\r\n        DatabaseReference user = firebaseRef.child(String.valueOf(&quot;Localizacao&quot;)).child(getId());\r\n\r\n        user.setValue(this);\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getLatitude() {\r\n        return latitude;\r\n    }\r\n\r\n    public void setLatitude(String latitude) {\r\n        this.latitude = latitude;\r\n    }\r\n\r\n    public String getLongitude() {\r\n        return longitude;\r\n    }\r\n\r\n    public void setLongitude(String longitude) {\r\n        this.longitude = longitude;\r\n    }\r\n}\r\n\r\n```\r\n\r\nUsuario class\r\n-------------\r\n\r\n```\r\npublic class Usuario {\r\n\r\n    private String id;\r\n    private String nome;\r\n    private String Email;\r\n    private String senha;\r\n    private String idSalvo;\r\n\r\n    public Usuario() {\r\n    }\r\n\r\n    public void salvar(){\r\n        DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\r\n        DatabaseReference user = firebaseRef.child(&quot;usuarios&quot;).child( getId());\r\n\r\n        user.setValue(this);\r\n    }\r\n\r\n    public String recuperarId(){\r\n        DatabaseReference referencia = ConfiguracaoFirebase.getFirebaseDatabase();\r\n        referencia.child(&quot;usuarios&quot;)\r\n                .child(getId()).get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                if(task.isSuccessful()){\r\n                    idSalvo = String.valueOf(task.getResult().getValue());\r\n                }\r\n            }\r\n        });\r\n\r\n        return idSalvo;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getNome() {\r\n        return nome;\r\n    }\r\n\r\n    public void setNome(String nome) {\r\n        this.nome = nome;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return Email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        Email = email;\r\n    }\r\n\r\n    @Exclude\r\n    public String getSenha() {\r\n        return senha;\r\n    }\r\n\r\n    public void setSenha(String senha) {\r\n        this.senha = senha;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","title":"Getting the error Can&#39;t pass null for argument &#39;pathString&#39; in child()","body":"<p>I'm getting the following error (below), and i have tried a lot of things like change the local to call the method localizacao.setId(usuario.recuperarId()), later tried to instanciety the class usuario alone and not this not solved, this is giving me a hard work to solve, if someone can help i'll be grateful</p>\n<p>//////////////////////////////////////////////////////////////////////////////////////////////////</p>\n<h2>The error</h2>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.znovations.citty, PID: 4666\n    java.lang.NullPointerException: Can't pass null for argument 'pathString' in child()\n        at com.google.firebase.database.DatabaseReference.child(DatabaseReference.java:96)\n        at com.znovations.citty.model.Usuario.recuperarId(Usuario.java:34)\n        at com.znovations.citty.activitys.MapsActivity.onMapReady(MapsActivity.java:84)\n        at com.google.android.gms.maps.zzat.zzb(com.google.android.gms:play-services-maps@@18.0.0:1)\n        at com.google.android.gms.maps.internal.zzaq.zza(com.google.android.gms:play-services-maps@@18.0.0:5)\n        at com.google.android.gms.internal.maps.zzb.onTransact(com.google.android.gms:play-services-maps@@18.0.0:3)\n        at android.os.Binder.transact(Binder.java:1043)\n        at dy.aZ(:com.google.android.gms.dynamite_mapsdynamite@214515084@21.45.15 (150700-0):2)\n        at com.google.maps.api.android.lib6.impl.bk.run(:com.google.android.gms.dynamite_mapsdynamite@214515084@21.45.15 (150700-0):1)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n\n</code></pre>\n<h2>MapsActivity</h2>\n<pre><code>public class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n    private ActivityMapaBinding binding;\n    private FirebaseAuth autenticacao;\n    private Toolbar toolbar;\n    private LocationManager locationManager;\n    private LocationListener locationListener;\n    private LatLng localizacaoAtual;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMapaBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        toolbar = findViewById(R.id.toolbar);\n\n        //Configuracoes inciais\n        autenticacao = FirebaseAuth.getInstance();\n        configurarToolbar();\n\n\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n\n    /**\n     * Manipulates the map once available.\n     * This callback is triggered when the map is ready to be used.\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\n     * we just add a marker near Sydney, Australia.\n     * If Google Play services is not installed on the device, the user will be prompted to install\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\n     * installed Google Play services and returned to the app.\n     */\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n        //Recuperar localizao do usurio\n        recuperarLocalizacaoUsuario();\n\n        localizacao.setId(usuario.recuperarId());\n        localizacao.salvarLocalizacao();\n\n    }\n\n    public void clicarMapa(){\n        mMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n            @Override\n            public void onMapClick(@NonNull LatLng latLng) {\n                mMap.addMarker(\n                        new MarkerOptions()\n                        .position(latLng)\n                        .title(&quot;Local de experiencia&quot;)\n                        .icon(BitmapDescriptorFactory.fromResource(R.drawable.cranio))\n\n                );\n            }\n        });\n    }\n\n    Usuario usuario = new Usuario();\n    UsuarioLocalizacao localizacao = new UsuarioLocalizacao();\n\n    private void recuperarLocalizacaoUsuario() {\n\n        locationManager = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE);\n\n        locationListener = new LocationListener() {\n            @Override\n            public void onLocationChanged(@NonNull Location location) {\n\n                double latitude = location.getLatitude();\n                double longitude = location.getLongitude();\n               localizacaoAtual = new LatLng(latitude, longitude);\n\n                localizacao.setLatitude(String.valueOf(localizacaoAtual.latitude));\n                localizacao.setLongitude(String.valueOf(localizacaoAtual.longitude));\n\n                clicarMapa();\n                mMap.clear();\n                mMap.addMarker(\n                        new MarkerOptions()\n                                .position(localizacaoAtual)\n                                .title(&quot;Meu local&quot;)\n                                .icon(BitmapDescriptorFactory.fromResource(R.drawable.usuario))\n                );\n\n                mMap.moveCamera(\n                        CameraUpdateFactory.newLatLngZoom(localizacaoAtual, 15)\n                );\n            }\n\n        };\n\n\n\n        //Solicitar atualizaes de localizao\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n            locationManager.requestLocationUpdates(\n                    LocationManager.GPS_PROVIDER,\n                    10000,\n                    10,\n                    locationListener\n            );\n        }\n\n    }\n\n    public void configurarToolbar(){\n        toolbar.setTitle(&quot;Encontrar&quot;);\n        toolbar.inflateMenu(R.menu.menu_main);\n        Menu menu = toolbar.getMenu();\n        toolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener() {\n            @Override\n            public boolean onMenuItemClick(MenuItem item) {\n\n                switch (item.getItemId()){\n\n                    case R.id.menuSair:\n                        autenticacao.signOut();\n                        finish();\n                        break;\n                }\n                return false;\n            }\n        });\n    }\n\n    public void deslogarUsuario(){\n        autenticacao.signOut();\n        finish();\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n        switch (item.getItemId()){\n\n            case R.id.menuSair:\n                autenticacao.signOut();\n                finish();\n                break;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n\n</code></pre>\n<h2>UsuarioLocalizacao class</h2>\n<pre><code>public class UsuarioLocalizacao {\n\n    private String id;\n    private String latitude;\n    private String longitude;\n\n    public UsuarioLocalizacao() {\n\n    }\n\n    public void salvarLocalizacao(){\n        DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\n        DatabaseReference user = firebaseRef.child(String.valueOf(&quot;Localizacao&quot;)).child(getId());\n\n        user.setValue(this);\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getLatitude() {\n        return latitude;\n    }\n\n    public void setLatitude(String latitude) {\n        this.latitude = latitude;\n    }\n\n    public String getLongitude() {\n        return longitude;\n    }\n\n    public void setLongitude(String longitude) {\n        this.longitude = longitude;\n    }\n}\n\n</code></pre>\n<h2>Usuario class</h2>\n<pre><code>public class Usuario {\n\n    private String id;\n    private String nome;\n    private String Email;\n    private String senha;\n    private String idSalvo;\n\n    public Usuario() {\n    }\n\n    public void salvar(){\n        DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\n        DatabaseReference user = firebaseRef.child(&quot;usuarios&quot;).child( getId());\n\n        user.setValue(this);\n    }\n\n    public String recuperarId(){\n        DatabaseReference referencia = ConfiguracaoFirebase.getFirebaseDatabase();\n        referencia.child(&quot;usuarios&quot;)\n                .child(getId()).get()\n                .addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n                if(task.isSuccessful()){\n                    idSalvo = String.valueOf(task.getResult().getValue());\n                }\n            }\n        });\n\n        return idSalvo;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public String getEmail() {\n        return Email;\n    }\n\n    public void setEmail(String email) {\n        Email = email;\n    }\n\n    @Exclude\n    public String getSenha() {\n        return senha;\n    }\n\n    public void setSenha(String senha) {\n        this.senha = senha;\n    }\n}\n\n\n\n\n</code></pre>\n"},{"tags":["java","android","android-intent","nullpointerexception","bundle"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638471928,"creation_date":1638471928,"answer_id":70205148,"question_id":70205086,"body_markdown":"Generally speaking, do not call `Activity` methods from a field initializer. Move your `getIntent()` and `getExtras()` calls to be inside of `onCreate()`, after the call to `super.onCreate()`.","title":"Problem receiving data through Intent on Android","body":"<p>Generally speaking, do not call <code>Activity</code> methods from a field initializer. Move your <code>getIntent()</code> and <code>getExtras()</code> calls to be inside of <code>onCreate()</code>, after the call to <code>super.onCreate()</code>.</p>\n"}],"owner":{"account_id":22774881,"reputation":53,"user_id":16931734,"display_name":"Jack Stuart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70205148,"answer_count":1,"score":0,"last_activity_date":1638850725,"creation_date":1638471610,"question_id":70205086,"body_markdown":"It&#39;s better to post pictures to show what exactly is going on, okay?\r\nThe first image shows an object of the Intent class called senderIntent, which will send it to a class called &quot;Resultado&quot;.\r\nThe senderIntent (which is an object of the Intent class) sends the value of the variable email, to another variable also called email:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn the next image, it shows that I created an object of the Intent class called receiverIntent:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen I created an object of the Bundle class that receives the receiverIntent&#39;s getextras() method.\r\nThe problem is that the NullPointer Exception error is happening in the line of code:\r\nBundle receiverBundle = receiverIntent.getExtras();\r\n\r\nPlease what to do to fix it?\r\n----------------------------\r\n\r\n  [1]: https://i.stack.imgur.com/ik0e0.png\r\n  [2]: https://i.stack.imgur.com/Kin4y.png","title":"Problem receiving data through Intent on Android","body":"<p>It's better to post pictures to show what exactly is going on, okay?\nThe first image shows an object of the Intent class called senderIntent, which will send it to a class called &quot;Resultado&quot;.\nThe senderIntent (which is an object of the Intent class) sends the value of the variable email, to another variable also called email:</p>\n<p><a href=\"https://i.stack.imgur.com/ik0e0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ik0e0.png\" alt=\"enter image description here\" /></a></p>\n<p>In the next image, it shows that I created an object of the Intent class called receiverIntent:</p>\n<p><a href=\"https://i.stack.imgur.com/Kin4y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kin4y.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I created an object of the Bundle class that receives the receiverIntent's getextras() method.\nThe problem is that the NullPointer Exception error is happening in the line of code:\nBundle receiverBundle = receiverIntent.getExtras();</p>\n<h2>Please what to do to fix it?</h2>\n"},{"tags":["java","android","monitor","usb-camera"],"answers":[{"tags":[],"owner":{"account_id":22821029,"reputation":96,"user_id":16970888,"display_name":"Jamebes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638850318,"creation_date":1638850318,"answer_id":70254850,"question_id":69194647,"body_markdown":"First: U need start the app when usb camera inserted\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:launchMode=&quot;singleTask&quot;&gt;\r\n\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n\r\n                &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot;/&gt;\r\n               &lt;/intent-filter&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot;\r\n                    android:resource=&quot;@xml/device_filter&quot;/&gt;\r\n\r\n          &lt;/activity&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSecond: keep screen on\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThat work for me!","title":"How to get the screen on when usb attached (android 10)","body":"<p>First: U need start the app when usb camera inserted</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;activity\n            android:name=\".MainActivity\"\n            android:exported=\"true\"\n            android:launchMode=\"singleTask\"&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter&gt;\n            &lt;action android:name=\"android.hardware.usb.action.USB_DEVICE_ATTACHED\"/&gt;\n           &lt;/intent-filter&gt;\n            &lt;meta-data\n                android:name=\"android.hardware.usb.action.USB_DEVICE_ATTACHED\"\n                android:resource=\"@xml/device_filter\"/&gt;\n\n      &lt;/activity&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Second: keep screen on</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>That work for me!</p>\n"}],"owner":{"account_id":22760578,"reputation":1,"user_id":16919465,"display_name":"user16919465"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638850318,"creation_date":1631714501,"question_id":69194647,"body_markdown":"I am working on an app and I am trying to find a way to wake the screen when I plug a usb camera to the phone while screen off on a android phone. I tried to monitor my usb connection but it didn&#39;t work, once the screen off, my app can no longer tell if a usb camera is connected.\r\nCan somebody give me some ideas about how to do that? Thanks!","title":"How to get the screen on when usb attached (android 10)","body":"<p>I am working on an app and I am trying to find a way to wake the screen when I plug a usb camera to the phone while screen off on a android phone. I tried to monitor my usb connection but it didn't work, once the screen off, my app can no longer tell if a usb camera is connected.\nCan somebody give me some ideas about how to do that? Thanks!</p>\n"},{"tags":["java","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":13059842,"reputation":89,"user_id":9437421,"display_name":"Khaliq Izrail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638849445,"creation_date":1638849445,"answer_id":70254768,"question_id":70142018,"body_markdown":"I had the same issue while creating new project in Android studio. allProjects was missing from gradle. i had to add\r\n\r\n    flatDir {\r\n      dirs &#39;libs&#39;\r\n    }\r\n\r\nto my project. \r\ni solved this issue by adding it into \r\n\r\n&gt; settings.gradle\r\n\r\n \r\n\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            jcenter() // Warning: this repository is going to shut down soon\r\n    \r\n            flatDir {\r\n                dirs &#39;libs&#39;\r\n            }\r\n        }\r\n    }","title":"allprojects missing from build.gradle","body":"<p>I had the same issue while creating new project in Android studio. allProjects was missing from gradle. i had to add</p>\n<pre><code>flatDir {\n  dirs 'libs'\n}\n</code></pre>\n<p>to my project.\ni solved this issue by adding it into</p>\n<blockquote>\n<p>settings.gradle</p>\n</blockquote>\n<pre><code>dependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        jcenter() // Warning: this repository is going to shut down soon\n\n        flatDir {\n            dirs 'libs'\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16130325,"reputation":23,"user_id":11644192,"display_name":"Noivy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638849445,"creation_date":1638090967,"question_id":70142018,"body_markdown":"Whenever I create a new project, build.gradle doesn&#39;t seem to contain allprojects. When I try to add it manually to add a new repository, I get :\r\n\r\n* Exception is:\r\norg.gradle.api.GradleScriptException: A problem occurred evaluating root project","title":"allprojects missing from build.gradle","body":"<p>Whenever I create a new project, build.gradle doesn't seem to contain allprojects. When I try to add it manually to add a new repository, I get :</p>\n<ul>\n<li>Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating root project</li>\n</ul>\n"},{"tags":["java","jboss","java-ee-6"],"comments":[{"owner":{"account_id":9906407,"reputation":1254,"user_id":7334796,"display_name":"J&#233;r&#244;me"},"score":0,"creation_date":1490343852,"post_id":42994279,"comment_id":73079574,"body_markdown":"Have you tried it in a Wildfly 8 or EAP 7? Just to get shure it&#39;s not a bug in EAP 6.3.0.\nFound this here: https://access.redhat.com/solutions/291713 but seems to befixed in your version","body":"Have you tried it in a Wildfly 8 or EAP 7? Just to get shure it&#39;s not a bug in EAP 6.3.0. Found this here: <a href=\"https://access.redhat.com/solutions/291713\" rel=\"nofollow noreferrer\">access.redhat.com/solutions/291713</a> but seems to befixed in your version"},{"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"score":0,"creation_date":1490343897,"post_id":42994279,"comment_id":73079603,"body_markdown":"have you tried this in Jboss 7 AS. i cant see any problem, this should work. but one thing, databse cleanup task should not be done in preDestroy, it is just to do some resource cleanup. but in your example it is just a log.info","body":"have you tried this in Jboss 7 AS. i cant see any problem, this should work. but one thing, databse cleanup task should not be done in preDestroy, it is just to do some resource cleanup. but in your example it is just a log.info"},{"owner":{"account_id":10412239,"reputation":3333,"user_id":7677308,"accept_rate":100,"display_name":"SilverNak"},"score":0,"creation_date":1490346336,"post_id":42994279,"comment_id":73080855,"body_markdown":"There is also no `@PreDestroy` message when I deploy this to a Wildfly 8.\n\n@hunter When PreDestroy is not the right place to do database cleanup, where else can I do it? (If there is a better solution than `@PreDestroy`, I don&#39;t care about why this doesn&#39;t work)","body":"There is also no <code>@PreDestroy</code> message when I deploy this to a Wildfly 8.  @hunter When PreDestroy is not the right place to do database cleanup, where else can I do it? (If there is a better solution than <code>@PreDestroy</code>, I don&#39;t care about why this doesn&#39;t work)"}],"answers":[{"tags":[],"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1490349990,"creation_date":1490349990,"answer_id":42996573,"question_id":42994279,"body_markdown":"This is not the answer for your question, this is the answer for the question you raised in the last comment.\r\nactually i can not think about a right place to do it.someone else might help you to figure it out.\r\nbut anyway @PostContruct and @PreDestory might not be a part of transaction, that&#39;s why it is not good to do DB operations in those methods,\r\n\r\nBut for your help i attach this which i took from a book (Mastering EJB 3.0),\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BeCq4.png","title":"@PreDestroy method not called in @Singleton on JBoss EAP 6.3.0","body":"<p>This is not the answer for your question, this is the answer for the question you raised in the last comment.\nactually i can not think about a right place to do it.someone else might help you to figure it out.\nbut anyway @PostContruct and @PreDestory might not be a part of transaction, that's why it is not good to do DB operations in those methods,</p>\n\n<p>But for your help i attach this which i took from a book (Mastering EJB 3.0),</p>\n\n<p><a href=\"https://i.stack.imgur.com/BeCq4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BeCq4.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":10412239,"reputation":3333,"user_id":7677308,"accept_rate":100,"display_name":"SilverNak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1426,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42996573,"answer_count":1,"score":2,"last_activity_date":1638849356,"creation_date":1490342512,"question_id":42994279,"body_markdown":"In my JavaEE application, I have a `@Singleton` class containing some `@Scheduled` methods. Furthermore there are methods with `@PostConstruct` and `@PreDestroy` to set up and clean up the database. (For the sake of simplicity, I just have logging in the example, since that reproduces the problem.) The application has to run on a JBoss EAP 6.3.0.GA server.\r\n\r\nWhile the `@PostConstruct` method works fine, `@PreDestroy` is not called when I shutdown the server (neither when pressing the *stop the server* button in eclipse nor when using a `shutdown` command from jboss-cli). Here is some code, which reproduces the problem:\r\n\r\n\timport javax.annotation.PostConstruct;\r\n\timport javax.annotation.PreDestroy;\r\n\timport javax.ejb.Singleton;\r\n\timport javax.ejb.Startup;\r\n\t\r\n\timport org.slf4j.Logger;\r\n\timport org.slf4j.LoggerFactory;\r\n\t\r\n\t@Singleton\r\n\t@Startup\r\n\tpublic class TimerBean {\r\n\t\r\n\t\tprivate static final Logger log = LoggerFactory.getLogger(TimerBean.class);\r\n\r\n\t\t@PostConstruct\r\n\t\tprivate void postConstruct() {\r\n\t\t\tlog.info(&quot;PostConstruct called&quot;);\r\n\t\t}\r\n\t\r\n\t\t@PreDestroy\r\n\t\tprivate void preDestroy() {\r\n\t\t\tlog.info(&quot;PreDestroy called&quot;);\r\n\t\t}\r\n    }\r\n\r\nDuring startup of the server, the `@PostConstruct` message appears in the log. But when shutting down the server, no log message appears.\r\n\r\nHow can I make the server call the `@PreDestroy` method?\r\n\r\n**EDIT**: Since the `@PreDestroy` method is not the appropriate location to clean up the database, this question is obsolete.","title":"@PreDestroy method not called in @Singleton on JBoss EAP 6.3.0","body":"<p>In my JavaEE application, I have a <code>@Singleton</code> class containing some <code>@Scheduled</code> methods. Furthermore there are methods with <code>@PostConstruct</code> and <code>@PreDestroy</code> to set up and clean up the database. (For the sake of simplicity, I just have logging in the example, since that reproduces the problem.) The application has to run on a JBoss EAP 6.3.0.GA server.</p>\n\n<p>While the <code>@PostConstruct</code> method works fine, <code>@PreDestroy</code> is not called when I shutdown the server (neither when pressing the <em>stop the server</em> button in eclipse nor when using a <code>shutdown</code> command from jboss-cli). Here is some code, which reproduces the problem:</p>\n\n<pre><code>import javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;\nimport javax.ejb.Singleton;\nimport javax.ejb.Startup;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@Singleton\n@Startup\npublic class TimerBean {\n\n    private static final Logger log = LoggerFactory.getLogger(TimerBean.class);\n\n    @PostConstruct\n    private void postConstruct() {\n        log.info(\"PostConstruct called\");\n    }\n\n    @PreDestroy\n    private void preDestroy() {\n        log.info(\"PreDestroy called\");\n    }\n}\n</code></pre>\n\n<p>During startup of the server, the <code>@PostConstruct</code> message appears in the log. But when shutting down the server, no log message appears.</p>\n\n<p>How can I make the server call the <code>@PreDestroy</code> method?</p>\n\n<p><strong>EDIT</strong>: Since the <code>@PreDestroy</code> method is not the appropriate location to clean up the database, this question is obsolete.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1638846215,"post_id":70254412,"comment_id":124190705,"body_markdown":"It&#39;s setting `lastRet` and then evaluating it.","body":"It&#39;s setting <code>lastRet</code> and then evaluating it."},{"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"score":1,"creation_date":1638846497,"post_id":70254412,"comment_id":124190754,"body_markdown":"Adding `**` to the code is confusing because it&#39;s no longer valid.  It would be more clear if you removed the `**` and just left the comment in the code.","body":"Adding <code>**</code> to the code is confusing because it&#39;s no longer valid.  It would be more clear if you removed the <code>**</code> and just left the comment in the code."}],"answers":[{"tags":[],"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638846185,"creation_date":1638846185,"answer_id":70254449,"question_id":70254412,"body_markdown":"The value of an assignment statement is the value being assigned.\r\n\r\nIn this case the value is just `i` but the statement also has the effect of storing that value in `lastRet`.\r\n\r\n","title":"question about next() in arraylist iterator JAVA","body":"<p>The value of an assignment statement is the value being assigned.</p>\n<p>In this case the value is just <code>i</code> but the statement also has the effect of storing that value in <code>lastRet</code>.</p>\n"}],"owner":{"account_id":2494512,"reputation":693,"user_id":2171299,"accept_rate":71,"display_name":"john_w"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70254449,"answer_count":1,"score":0,"last_activity_date":1638849099,"creation_date":1638845790,"question_id":70254412,"body_markdown":"I am just wondering what does the highlighted part of the code do here?\r\n\r\n    public E next() {\r\n            checkForComodification();\r\n            int i = cursor;\r\n            if (i &gt;= size)\r\n            throw new NoSuchElementException();\r\n        Object[] elementData = ArrayList.this.elementData;\r\n        if (i &gt;= elementData.length)\r\n            throw new ConcurrentModificationException();\r\n        cursor = i + 1;\r\n        return (E) elementData[lastRet = i]; // what exactly does lastRet = i do??\r\n    }\r\n\r\ndoes lastRet = i assigns i to lastRet?  if so, if i = 3, then we have elementData[lastRet = 3]?\r\nbut what does that do? I understand if I have elementData[0] then I am retrieving elementData at the 0 position, and if I have elementData[2] then I am retrieving elementData at the 3rd position. \r\nBut what is elementData[lastRet = i]?  is lastRet = i actually checking if lastRet equals to i? like lastRet == i? but if so, why not write lastRet ==i instead?  so it shouldn&#39;t be checking equality. So what does lastRet = i do? so it assigns i to lastRet? But then I don&#39;t understand what the code: elementData[lastRet = i] do exactly? ","title":"question about next() in arraylist iterator JAVA","body":"<p>I am just wondering what does the highlighted part of the code do here?</p>\n<pre><code>public E next() {\n        checkForComodification();\n        int i = cursor;\n        if (i &gt;= size)\n        throw new NoSuchElementException();\n    Object[] elementData = ArrayList.this.elementData;\n    if (i &gt;= elementData.length)\n        throw new ConcurrentModificationException();\n    cursor = i + 1;\n    return (E) elementData[lastRet = i]; // what exactly does lastRet = i do??\n}\n</code></pre>\n<p>does lastRet = i assigns i to lastRet?  if so, if i = 3, then we have elementData[lastRet = 3]?\nbut what does that do? I understand if I have elementData[0] then I am retrieving elementData at the 0 position, and if I have elementData[2] then I am retrieving elementData at the 3rd position.\nBut what is elementData[lastRet = i]?  is lastRet = i actually checking if lastRet equals to i? like lastRet == i? but if so, why not write lastRet ==i instead?  so it shouldn't be checking equality. So what does lastRet = i do? so it assigns i to lastRet? But then I don't understand what the code: elementData[lastRet = i] do exactly?</p>\n"},{"tags":["java","docker","pid"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1638854031,"post_id":70254712,"comment_id":124191992,"body_markdown":"Why do you think it would be different in Docker?","body":"Why do you think it would be different in Docker?"},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1638879418,"post_id":70254712,"comment_id":124199955,"body_markdown":"Depending on your setup, the process ID is probably 1.","body":"Depending on your setup, the process ID is probably 1."},{"owner":{"account_id":11274470,"reputation":1,"user_id":8268885,"display_name":"G.yuan"},"score":1,"creation_date":1638950394,"post_id":70254712,"comment_id":124221030,"body_markdown":"The code `ManagementFactory.getRuntimeMXBean().getName()` is work in docker container. Thanks for your attention.","body":"The code <code>ManagementFactory.getRuntimeMXBean().getName()</code> is work in docker container. Thanks for your attention."}],"owner":{"account_id":11274470,"reputation":1,"user_id":8268885,"display_name":"G.yuan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638848802,"creation_date":1638848802,"question_id":70254712,"body_markdown":"How to get the ID of the Java process running in the docker container?\r\n\r\nJust like using `ManagementFactory.getRuntimeMXBean().getName()` in Windows or Linux.","title":"How can a Java program running in a docker container obtain its own process ID?","body":"<p>How to get the ID of the Java process running in the docker container?</p>\n<p>Just like using <code>ManagementFactory.getRuntimeMXBean().getName()</code> in Windows or Linux.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1638846102,"post_id":70254342,"comment_id":124190686,"body_markdown":"You printed out a bunch of `DataItem`s, not integers. `DataItem` isn&#39;t shown in the snippets above, so I presume it&#39;s a class of your own design","body":"You printed out a bunch of <code>DataItem</code>s, not integers. <code>DataItem</code> isn&#39;t shown in the snippets above, so I presume it&#39;s a class of your own design"}],"answers":[{"tags":[],"owner":{"account_id":19647165,"reputation":386,"user_id":15093679,"display_name":"TheSj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638848726,"creation_date":1638848726,"answer_id":70254701,"question_id":70254342,"body_markdown":"Your `HashArray` is an array of `DataItem`s. When you call\r\n```java\r\nSystem.out.print(this.HashArray[i] + &quot;  &quot;);\r\n```\r\ninside the for loop in the `DisplayHashTable` method, you&#39;re basically calling the `DataItem` at index `i` and printing it. Since that is an object, its address in memory (the &quot;nonsense numbers&quot;) is being printed to the terminal. \r\n\r\nOne way to fix this would be to add a method inside the `DataItem` class:\r\n\r\n```java\r\npublic void toString()\r\n{\r\n    //print whatever you want to output here\r\n}\r\n```\r\nThis should work according to what you want.  ","title":"When i try to use Display method the output just bring nonsense numbers, Why? I ment the output should be int number","body":"<p>Your <code>HashArray</code> is an array of <code>DataItem</code>s. When you call</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.print(this.HashArray[i] + &quot;  &quot;);\n</code></pre>\n<p>inside the for loop in the <code>DisplayHashTable</code> method, you're basically calling the <code>DataItem</code> at index <code>i</code> and printing it. Since that is an object, its address in memory (the &quot;nonsense numbers&quot;) is being printed to the terminal.</p>\n<p>One way to fix this would be to add a method inside the <code>DataItem</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void toString()\n{\n    //print whatever you want to output here\n}\n</code></pre>\n<p>This should work according to what you want.</p>\n"}],"owner":{"account_id":20035141,"reputation":15,"user_id":14687040,"display_name":"Murtaja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70254701,"answer_count":1,"score":0,"last_activity_date":1638848726,"creation_date":1638845226,"question_id":70254342,"body_markdown":"    public class HashTable implements IHashTable{\r\n\r\n\tprivate DataItem[] HashArray;\r\n\tprivate int ArraySize;\r\n\tprivate DataItem NonItem;\r\n\tpublic HashTable(int Size)\r\n\t{\r\n\t\tthis.ArraySize = Size;\r\n\t\tthis.HashArray = new DataItem[this.ArraySize];\r\n\t\tthis.NonItem = new DataItem(-1);\r\n\t}\r\n\t@Override\r\n\tpublic void DisplayHashTable() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tSystem.out.println(&quot;The Table Is :\\n&quot;);\r\n\t\tfor(int i =0 ; i &lt; this.ArraySize; i ++)\r\n\t\t{\r\n\t\t\tif(this.HashArray[i] != null)\r\n\t\t\t\tSystem.out.print(this.HashArray[i] + &quot;  &quot;);\r\n\t\t\telse\r\n\t\t\t\tSystem.out.println(&quot;** &quot;);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int HashFunc(int Key) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\treturn Key % this.ArraySize;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void insert(DataItem item) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint Key = item.GetKey();\r\n\t\tint HashVal = HashFunc(Key);\r\n\t\twhile (this.HashArray[HashVal] != null\r\n\t\t\t\t&amp;&amp;this.HashArray[HashVal].GetKey() != -1)\r\n\t\t{\r\n\t\t\t++HashVal;\r\n\t\t\tHashVal%=this.ArraySize;\r\n\t\t}\r\n\t\tthis.HashArray[HashVal] = item;\r\n\t\t// end .\r\n\t}\r\n\r\n\t@Override\r\n\tpublic DataItem Delete(int Key) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint HashVal = HashFunc(Key);\r\n\t\twhile(this.HashArray[HashVal] != null)\r\n\t\t{\r\n\t\t\tif(this.HashArray[HashVal].GetKey()== Key)\r\n\t\t\t{\r\n\t\t\t\tDataItem Temp = this.HashArray[HashVal];\r\n\t\t\t\tthis.HashArray[HashVal] = this.NonItem;\r\n\t\t\t\treturn Temp;\r\n\t\t\t}\r\n\t\t\t++HashVal;\r\n\t\t\tHashVal %= this.ArraySize;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic DataItem Find(int Key) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint HashVal = HashFunc(Key);\r\n\t\twhile(this.HashArray[HashVal] != null)\r\n\t\t{\r\n\t\t\tif(this.HashArray[HashVal].GetKey() == Key)\r\n\t\t\t\treturn this.HashArray[HashVal];\r\n\t\t\t++HashVal;\r\n\t\t\tHashVal %= this.ArraySize;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n}`\r\n\r\n\r\n--------------\r\nimport java.util.*;\r\npublic class HashTableTest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tint Key ;\r\n\t\tDataItem aDataItem;\r\n\t\tIHashTable HashTable = new HashTable(5);\r\n\t\tMenu();\r\n\t\tint ans =sc.nextInt();\r\n\t\twhile(ans !=5)\r\n\t\t{\r\n\t\t\t\r\n\t\t\tswitch(ans){\r\n\t\t\tcase 1 :\r\n\t\t\t\tHashTable.DisplayHashTable();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2 :\r\n\t\t\t\tKey = sc.nextInt();\r\n\t\t\t\taDataItem = new DataItem(Key);\r\n\t\t\t\tHashTable.insert(aDataItem);\r\n\t\t\t\tSystem.out.println(&quot;The Item Has Inserted&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3 :\r\n\t\t\t\tSystem.out.println(&quot;What Value You want to delete&quot;);\r\n\t\t\t\tKey = sc.nextInt();\r\n\t\t\t\tHashTable.Delete(Key);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4 :\r\n\t\t\t\tSystem.out.println(&quot;What Value You want to Find&quot;);\r\n\t\t\t\tKey = sc.nextInt();\r\n\t\t\t\taDataItem=HashTable.Find(Key);\r\n\t\t\t\tif(aDataItem != null)\r\n\t\t\t\t\tSystem.out.println(&quot;Found Key&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Could not Found&quot; + Key);\r\n\t\t\t\tbreak;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\tSystem.out.println(&quot;Wrong Number&quot;);\r\n\t\t\t}\r\n\t\t\tMenu();\r\n\t\t\t ans =sc.nextInt();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\tpublic static void Menu()\r\n\t{\r\n\t\tSystem.out.println(&quot;1 - Show The Table \\n 2- Insert New Value \\n&quot;\r\n\t\t\t\t+&quot;3- Delete A Value \\n 4- Find A Value\\n 5- Exit.&quot;);\r\n\t}\r\n\r\n}\r\n---------\r\n// the output\r\n---\r\n1 - Show The Table \r\n 2- Insert New Value \r\n3- Delete A Value \r\n 4- Find A Value\r\n 5- Exit.\r\n1\r\nThe Table Is :\r\n\r\n** \r\n** \r\n** \r\n** \r\n** \r\n \r\n1 - Show The Table \r\n 2- Insert New Value \r\n3- Delete A Value \r\n 4- Find A Value\r\n 5- Exit.\r\n2\r\n254\r\nThe Item Has Inserted\r\n1 - Show The Table \r\n 2- Insert New Value \r\n3- Delete A Value \r\n 4- Find A Value\r\n 5- Exit.\r\n2\r\n75\r\nThe Item Has Inserted\r\n1 - Show The Table \r\n 2- Insert New Value \r\n3- Delete A Value \r\n 4- Find A Value\r\n 5- Exit.\r\n2\r\n5\r\nThe Item Has Inserted\r\n1 - Show The Table \r\n 2- Insert New Value \r\n3- Delete A Value \r\n 4- Find A Value\r\n 5- Exit.\r\n1\r\nThe Table Is :\r\n\r\nDataItem@42d3bd8b  DataItem@26ba2a48  ** \r\n** \r\nDataItem@5f2050f6   \r\n1 - Show The Table \r\n 2- Insert New Value \r\n3- Delete A Value \r\n 4- Find A Value\r\n 5- Exit.\r\n`","title":"When i try to use Display method the output just bring nonsense numbers, Why? I ment the output should be int number","body":"<pre><code>public class HashTable implements IHashTable{\n\nprivate DataItem[] HashArray;\nprivate int ArraySize;\nprivate DataItem NonItem;\npublic HashTable(int Size)\n{\n    this.ArraySize = Size;\n    this.HashArray = new DataItem[this.ArraySize];\n    this.NonItem = new DataItem(-1);\n}\n@Override\npublic void DisplayHashTable() {\n    // TODO Auto-generated method stub\n    \n    System.out.println(&quot;The Table Is :\\n&quot;);\n    for(int i =0 ; i &lt; this.ArraySize; i ++)\n    {\n        if(this.HashArray[i] != null)\n            System.out.print(this.HashArray[i] + &quot;  &quot;);\n        else\n            System.out.println(&quot;** &quot;);\n    }\n    \n    System.out.println(&quot; &quot;);\n    \n}\n\n@Override\npublic int HashFunc(int Key) {\n    // TODO Auto-generated method stub\n    \n    return Key % this.ArraySize;\n}\n\n@Override\npublic void insert(DataItem item) {\n    // TODO Auto-generated method stub\n    int Key = item.GetKey();\n    int HashVal = HashFunc(Key);\n    while (this.HashArray[HashVal] != null\n            &amp;&amp;this.HashArray[HashVal].GetKey() != -1)\n    {\n        ++HashVal;\n        HashVal%=this.ArraySize;\n    }\n    this.HashArray[HashVal] = item;\n    // end .\n}\n\n@Override\npublic DataItem Delete(int Key) {\n    // TODO Auto-generated method stub\n    int HashVal = HashFunc(Key);\n    while(this.HashArray[HashVal] != null)\n    {\n        if(this.HashArray[HashVal].GetKey()== Key)\n        {\n            DataItem Temp = this.HashArray[HashVal];\n            this.HashArray[HashVal] = this.NonItem;\n            return Temp;\n        }\n        ++HashVal;\n        HashVal %= this.ArraySize;\n    }\n    return null;\n}\n\n@Override\npublic DataItem Find(int Key) {\n    // TODO Auto-generated method stub\n    int HashVal = HashFunc(Key);\n    while(this.HashArray[HashVal] != null)\n    {\n        if(this.HashArray[HashVal].GetKey() == Key)\n            return this.HashArray[HashVal];\n        ++HashVal;\n        HashVal %= this.ArraySize;\n    }\n    return null;\n}\n</code></pre>\n<p>}`</p>\n<hr />\n<p>import java.util.*;\npublic class HashTableTest {</p>\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    Scanner sc = new Scanner(System.in);\n    int Key ;\n    DataItem aDataItem;\n    IHashTable HashTable = new HashTable(5);\n    Menu();\n    int ans =sc.nextInt();\n    while(ans !=5)\n    {\n        \n        switch(ans){\n        case 1 :\n            HashTable.DisplayHashTable();\n            break;\n        case 2 :\n            Key = sc.nextInt();\n            aDataItem = new DataItem(Key);\n            HashTable.insert(aDataItem);\n            System.out.println(&quot;The Item Has Inserted&quot;);\n            break;\n        case 3 :\n            System.out.println(&quot;What Value You want to delete&quot;);\n            Key = sc.nextInt();\n            HashTable.Delete(Key);\n            break;\n        case 4 :\n            System.out.println(&quot;What Value You want to Find&quot;);\n            Key = sc.nextInt();\n            aDataItem=HashTable.Find(Key);\n            if(aDataItem != null)\n                System.out.println(&quot;Found Key&quot;);\n            System.out.println(&quot;Could not Found&quot; + Key);\n            break;\n            default :\n                System.out.println(&quot;Wrong Number&quot;);\n        }\n        Menu();\n         ans =sc.nextInt();\n        \n    }\n    \n    \n}\npublic static void Menu()\n{\n    System.out.println(&quot;1 - Show The Table \\n 2- Insert New Value \\n&quot;\n            +&quot;3- Delete A Value \\n 4- Find A Value\\n 5- Exit.&quot;);\n}\n</code></pre>\n<h2>}</h2>\n<h2>// the output</h2>\n<p>1 - Show The Table\n2- Insert New Value\n3- Delete A Value\n4- Find A Value\n5- Exit.\n1\nThe Table Is :</p>\n<p>**\n**\n**\n**\n**</p>\n<p>1 - Show The Table\n2- Insert New Value\n3- Delete A Value\n4- Find A Value\n5- Exit.\n2\n254\nThe Item Has Inserted\n1 - Show The Table\n2- Insert New Value\n3- Delete A Value\n4- Find A Value\n5- Exit.\n2\n75\nThe Item Has Inserted\n1 - Show The Table\n2- Insert New Value\n3- Delete A Value\n4- Find A Value\n5- Exit.\n2\n5\nThe Item Has Inserted\n1 - Show The Table\n2- Insert New Value\n3- Delete A Value\n4- Find A Value\n5- Exit.\n1\nThe Table Is :</p>\n<p>DataItem@42d3bd8b  DataItem@26ba2a48  **\n**\nDataItem@5f2050f6<br />\n1 - Show The Table\n2- Insert New Value\n3- Delete A Value\n4- Find A Value\n5- Exit.\n`</p>\n"},{"tags":["java","android","markdown"],"answers":[{"tags":[],"owner":{"account_id":21169863,"reputation":25,"user_id":15566416,"display_name":"cropperteam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638848645,"creation_date":1638848645,"answer_id":70254692,"question_id":70253955,"body_markdown":"I put the link in putExtra at the first activity and it works \r\n\r\n     if (position == 0) {\r\n            Intent intent = getIntent();\r\n            Bundle bundle = this.getIntent().getExtras();\r\n             aTitle = intent.getStringExtra(&quot;title&quot;);\r\n             lessons = intent.getStringExtra(&quot;lessons&quot;);\r\n            actionBar.setTitle(aTitle);\r\n\r\n            if (markdownView != null)\r\n            {\r\n                markdownView.loadMarkdownFile(BASE, lessons, STYLES, SCRIPT);\r\n                WebSettings settings = markdownView.getSettings();\r\n                settings.setBuiltInZoomControls(true);\r\n                settings.setDisplayZoomControls(false);\r\n            }\r\n\r\n        }else if (position == 1){\r\n            Intent intent = getIntent();\r\n            Bundle bundle = this.getIntent().getExtras();\r\n            aTitle = intent.getStringExtra(&quot;title&quot;);\r\n            lessons = intent.getStringExtra(&quot;lessons&quot;);\r\n            actionBar.setTitle(aTitle);\r\n            if (markdownView != null)\r\n            {\r\n                markdownView.loadMarkdownFile(BASE, lessons, STYLES, SCRIPT);\r\n                WebSettings settings = markdownView.getSettings();\r\n                settings.setBuiltInZoomControls(true);\r\n                settings.setDisplayZoomControls(false);\r\n            }\r\n        }","title":"Multi MarkdownView File","body":"<p>I put the link in putExtra at the first activity and it works</p>\n<pre><code> if (position == 0) {\n        Intent intent = getIntent();\n        Bundle bundle = this.getIntent().getExtras();\n         aTitle = intent.getStringExtra(&quot;title&quot;);\n         lessons = intent.getStringExtra(&quot;lessons&quot;);\n        actionBar.setTitle(aTitle);\n\n        if (markdownView != null)\n        {\n            markdownView.loadMarkdownFile(BASE, lessons, STYLES, SCRIPT);\n            WebSettings settings = markdownView.getSettings();\n            settings.setBuiltInZoomControls(true);\n            settings.setDisplayZoomControls(false);\n        }\n\n    }else if (position == 1){\n        Intent intent = getIntent();\n        Bundle bundle = this.getIntent().getExtras();\n        aTitle = intent.getStringExtra(&quot;title&quot;);\n        lessons = intent.getStringExtra(&quot;lessons&quot;);\n        actionBar.setTitle(aTitle);\n        if (markdownView != null)\n        {\n            markdownView.loadMarkdownFile(BASE, lessons, STYLES, SCRIPT);\n            WebSettings settings = markdownView.getSettings();\n            settings.setBuiltInZoomControls(true);\n            settings.setDisplayZoomControls(false);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":21169863,"reputation":25,"user_id":15566416,"display_name":"cropperteam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70254692,"answer_count":1,"score":1,"last_activity_date":1638848645,"creation_date":1638840916,"question_id":70253955,"body_markdown":"I have a listview of topics all contents are from MarkDown I&#39;m having a problem changing the \r\nmarkdown every click of the item in the listview \r\n\r\n\r\n\r\n\r\n     if (position == 0) {\r\n            Intent intent = getIntent();\r\n            Bundle bundle = this.getIntent().getExtras();\r\n             aTitle = intent.getStringExtra(&quot;title&quot;);\r\n            actionBar.setTitle(aTitle);\r\n            markdownView.loadMarkdownFile(BASE, &quot;file:///android_asset/Objects.md&quot;, STYLES, SCRIPT);\r\n        }else if (position == 1){\r\n            Intent intent = getIntent();\r\n            Bundle bundle = this.getIntent().getExtras();\r\n            aTitle = intent.getStringExtra(&quot;title&quot;);\r\n            actionBar.setTitle(aTitle);\r\n            markdownView.loadMarkdownFile(BASE, &quot;file:///android_asset/les2.md&quot;, STYLES, SCRIPT);\r\n        }\r\n","title":"Multi MarkdownView File","body":"<p>I have a listview of topics all contents are from MarkDown I'm having a problem changing the\nmarkdown every click of the item in the listview</p>\n<pre><code> if (position == 0) {\n        Intent intent = getIntent();\n        Bundle bundle = this.getIntent().getExtras();\n         aTitle = intent.getStringExtra(&quot;title&quot;);\n        actionBar.setTitle(aTitle);\n        markdownView.loadMarkdownFile(BASE, &quot;file:///android_asset/Objects.md&quot;, STYLES, SCRIPT);\n    }else if (position == 1){\n        Intent intent = getIntent();\n        Bundle bundle = this.getIntent().getExtras();\n        aTitle = intent.getStringExtra(&quot;title&quot;);\n        actionBar.setTitle(aTitle);\n        markdownView.loadMarkdownFile(BASE, &quot;file:///android_asset/les2.md&quot;, STYLES, SCRIPT);\n    }\n</code></pre>\n"},{"tags":["java","android","database","class","oop"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1638848439,"post_id":70250906,"comment_id":124191051,"body_markdown":"Is there more to the error message in the logcat? Sometimes there are multiple errors listed that are important to look for.","body":"Is there more to the error message in the logcat? Sometimes there are multiple errors listed that are important to look for."}],"answers":[{"tags":[],"owner":{"account_id":15867569,"reputation":622,"user_id":11449261,"display_name":"Vanheden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638822950,"creation_date":1638822950,"answer_id":70251635,"question_id":70250906,"body_markdown":"Perhaps this misstake is just from copy pasting your code here, but you seem to have syntax probems in your viewmodel.\r\n\r\nYour class ends before the constructor. This seems to be the complete class:\r\n\r\n    public class MainViewModel extends AndroidViewModel {\r\n        public static MovieDatabase database;\r\n        public final LiveData&lt;List&lt;Movie&gt;&gt; movies;\r\n    }\r\n\r\nJust remove } and perhaps add it to the end of the class, although it looks like it is not needed (but your IDE should have complained about this syntax problem?)\r\n\r\n","title":"Cannot create an instance of class MainViewModel_android","body":"<p>Perhaps this misstake is just from copy pasting your code here, but you seem to have syntax probems in your viewmodel.</p>\n<p>Your class ends before the constructor. This seems to be the complete class:</p>\n<pre><code>public class MainViewModel extends AndroidViewModel {\n    public static MovieDatabase database;\n    public final LiveData&lt;List&lt;Movie&gt;&gt; movies;\n}\n</code></pre>\n<p>Just remove } and perhaps add it to the end of the class, although it looks like it is not needed (but your IDE should have complained about this syntax problem?)</p>\n"}],"owner":{"account_id":23565692,"reputation":11,"user_id":17606452,"display_name":"Oleni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638848174,"creation_date":1638818906,"question_id":70250906,"body_markdown":"I try to create instance of ViewModel, but get an error.\r\n\r\n Process: com.example.popularmovies, PID: 20601\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.popularmovies/com.example.popularmovies.MainActivity}: java.lang.RuntimeException: Cannot create an instance of class com.example.popularmovies.data.MainViewModel\r\n\r\n**MainActivity:**\r\n\r\n    public class MainActivity extends AppCompatActivity { \r\n        private MainViewModel viewModel;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            viewModel = new ViewModelProvider(this).get(MainViewModel.class);\r\n\r\n**MainViewModel**\r\n\r\n    public class MainViewModel extends AndroidViewModel {\r\n\r\n        public static MovieDatabase database;\r\n        public final LiveData&lt;List&lt;Movie&gt;&gt; movies;\r\n    \r\n        public MainViewModel(@NonNull Application application) {\r\n            super(application);\r\n            database = MovieDatabase.getInstance(getApplication());\r\n            movies = database.movieDao().getAllMovies();\r\n        }\r\n\r\n        public Movie getMovieById(int id) {\r\n            try {\r\n                return new GetMovieTask().execute(id).get();\r\n            } catch (ExecutionException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        public void deleteAllMovies() {\r\n            new DeleteMoviesTask().execute();\r\n        }\r\n\r\n        public void insertMovie(Movie movie) {\r\n            new InsertTask().execute(movie);\r\n        }\r\n\r\n        public void deleteMovie(Movie movie) {\r\n            new DeleteTask().execute(movie);\r\n        }\r\n\r\n        public LiveData&lt;List&lt;Movie&gt;&gt; getMovies() {\r\n            return movies;\r\n        }\r\n\r\n        public static class DeleteTask extends AsyncTask&lt;Movie, Void, Void&gt; {\r\n            @Override\r\n            protected Void doInBackground(Movie... movies) {\r\n                if (movies != null &amp;&amp; movies.length &gt; 0) {\r\n                   database.movieDao().deleteMovie(movies[0]);\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public static class InsertTask extends AsyncTask&lt;Movie, Void, Void&gt;  {\r\n            @Override\r\n            protected Void doInBackground(Movie.. movies) {\r\n                if (movies != null &amp;&amp; movies.length &gt; 0) {\r\n                    database.movieDao().insertMovie(movies[0]);\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public static class DeleteMoviesTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n            @Override\r\n            protected Void doInBackground(Void.. integers) {\r\n                database.movieDao().deleteAllMovies();\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public static class GetMovieTask extends AsyncTask&lt;Integer, Void, Movie&gt; {\r\n            @Override\r\n            protected Movie doInBackground(Integer.. integers) {\r\n                if (integers != null &amp;&amp; integers.length &gt; 0) {\r\n                    return database.movieDao().getMovieById(integers[0]);\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n**DataBase:**\r\n\r\n    @Database(entities = {Movie.class}, version = 1, exportSchema = false)\r\n    public abstract class MovieDatabase extends RoomDatabase {\r\n\r\n        private static final String DB_NAME = &quot;movies.db&quot;;\r\n        private static MovieDatabase database;\r\n        private static final Object LOCK = new Object();\r\n\r\n        public static MovieDatabase getInstance(Context context) {\r\n            synchronized (LOCK) {\r\n                if (database == null) {\r\n                    database = Room.databaseBuilder(context, MovieDatabase.class, DB_NAME).build();\r\n                }\r\n            }\r\n            return database;\r\n        }\r\n\r\n        public abstract MovieDao movieDao();\r\n    }\r\n","title":"Cannot create an instance of class MainViewModel_android","body":"<p>I try to create instance of ViewModel, but get an error.</p>\n<p>Process: com.example.popularmovies, PID: 20601\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.popularmovies/com.example.popularmovies.MainActivity}: java.lang.RuntimeException: Cannot create an instance of class com.example.popularmovies.data.MainViewModel</p>\n<p><strong>MainActivity:</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity { \n    private MainViewModel viewModel;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        viewModel = new ViewModelProvider(this).get(MainViewModel.class);\n</code></pre>\n<p><strong>MainViewModel</strong></p>\n<pre><code>public class MainViewModel extends AndroidViewModel {\n\n    public static MovieDatabase database;\n    public final LiveData&lt;List&lt;Movie&gt;&gt; movies;\n\n    public MainViewModel(@NonNull Application application) {\n        super(application);\n        database = MovieDatabase.getInstance(getApplication());\n        movies = database.movieDao().getAllMovies();\n    }\n\n    public Movie getMovieById(int id) {\n        try {\n            return new GetMovieTask().execute(id).get();\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    public void deleteAllMovies() {\n        new DeleteMoviesTask().execute();\n    }\n\n    public void insertMovie(Movie movie) {\n        new InsertTask().execute(movie);\n    }\n\n    public void deleteMovie(Movie movie) {\n        new DeleteTask().execute(movie);\n    }\n\n    public LiveData&lt;List&lt;Movie&gt;&gt; getMovies() {\n        return movies;\n    }\n\n    public static class DeleteTask extends AsyncTask&lt;Movie, Void, Void&gt; {\n        @Override\n        protected Void doInBackground(Movie... movies) {\n            if (movies != null &amp;&amp; movies.length &gt; 0) {\n               database.movieDao().deleteMovie(movies[0]);\n            }\n            return null;\n        }\n    }\n\n    public static class InsertTask extends AsyncTask&lt;Movie, Void, Void&gt;  {\n        @Override\n        protected Void doInBackground(Movie.. movies) {\n            if (movies != null &amp;&amp; movies.length &gt; 0) {\n                database.movieDao().insertMovie(movies[0]);\n            }\n            return null;\n        }\n    }\n\n    public static class DeleteMoviesTask extends AsyncTask&lt;Void, Void, Void&gt; {\n        @Override\n        protected Void doInBackground(Void.. integers) {\n            database.movieDao().deleteAllMovies();\n            return null;\n        }\n    }\n\n    public static class GetMovieTask extends AsyncTask&lt;Integer, Void, Movie&gt; {\n        @Override\n        protected Movie doInBackground(Integer.. integers) {\n            if (integers != null &amp;&amp; integers.length &gt; 0) {\n                return database.movieDao().getMovieById(integers[0]);\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n<p><strong>DataBase:</strong></p>\n<pre><code>@Database(entities = {Movie.class}, version = 1, exportSchema = false)\npublic abstract class MovieDatabase extends RoomDatabase {\n\n    private static final String DB_NAME = &quot;movies.db&quot;;\n    private static MovieDatabase database;\n    private static final Object LOCK = new Object();\n\n    public static MovieDatabase getInstance(Context context) {\n        synchronized (LOCK) {\n            if (database == null) {\n                database = Room.databaseBuilder(context, MovieDatabase.class, DB_NAME).build();\n            }\n        }\n        return database;\n    }\n\n    public abstract MovieDao movieDao();\n}\n</code></pre>\n"},{"tags":["java","android","notifications","android-pendingintent","android-broadcast"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1637846682,"post_id":70111869,"comment_id":123938412,"body_markdown":"You need to use explicit `Intent`s for all of them: `new Intent(this, NotificationController.class)`.","body":"You need to use explicit <code>Intent</code>s for all of them: <code>new Intent(this, NotificationController.class)</code>."},{"owner":{"account_id":13629522,"reputation":1682,"user_id":9831902,"display_name":"Nanda Z"},"score":0,"creation_date":1663139434,"post_id":70111869,"comment_id":130165904,"body_markdown":"i got same issue, have u solved?","body":"i got same issue, have u solved?"}],"answers":[{"tags":[],"owner":{"account_id":19961058,"reputation":1,"user_id":14628634,"display_name":"QmanW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637857351,"creation_date":1637846820,"answer_id":70111937,"question_id":70111869,"body_markdown":"Initialize the `Intent`s like this:\r\n\r\n```java\r\nnew Intent(this, NameOfTheClass.class);\r\n```\r\n\r\nIn cases where you are in coroutine for example use \r\n\r\n```\r\napplicationContext\r\n```","title":"Android BroadcastReceiver not working by clicking at notification action","body":"<p>Initialize the <code>Intent</code>s like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Intent(this, NameOfTheClass.class);\n</code></pre>\n<p>In cases where you are in coroutine for example use</p>\n<pre><code>applicationContext\n</code></pre>\n"}],"owner":{"account_id":23451597,"reputation":21,"user_id":17507675,"display_name":"Yashar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638847962,"creation_date":1637846445,"question_id":70111869,"body_markdown":"I&#39;m building a music player app and I have a problem with the notification part I think all of my code about the notification is right but when I tap at notification controller buttons broadcast receiver don&#39;t work.\r\n\r\nAndroidManifest:\r\n----------------\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;receiver android:name=&quot;.notification.NotificationController&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.ydp.eight_d_musicplayer.ACTION_NOTIFY_PLAY_PAUSE&quot;/&gt;\r\n                    &lt;action android:name=&quot;com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_NEXT&quot;/&gt;\r\n                    &lt;action android:name=&quot;com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_PREVIOUS&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n\r\n            &lt;/receiver&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy Broadcast:\r\n-------------\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class NotificationController extends BroadcastReceiver {\r\n\r\n        public static String ACTION_NOTIFY_PLAY_PAUSE = &quot;com.ydp.eight_d_musicplayer.ACTION_NOTIFY_PLAY_PAUSE&quot;;\r\n        public static String ACTION_NOTIFY_SKIP_NEXT = &quot;com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_NEXT&quot;;\r\n        public static String ACTION_NOTIFY_SKIP_PREVIOUS = &quot;com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_PREVIOUS&quot;;\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction().equals(ACTION_NOTIFY_PLAY_PAUSE)){\r\n                if (Player.player.isPlaying()){\r\n                    Player.player.pause();\r\n                }else {\r\n                    Player.player.start();\r\n                }\r\n            } else if (intent.getAction().equals(ACTION_NOTIFY_SKIP_PREVIOUS)){\r\n                Toast.makeText(context, &quot;previous&quot;, Toast.LENGTH_SHORT).show();\r\n            }else {\r\n                Toast.makeText(context, &quot;next&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd My Service:\r\n---------------\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    PendingIntent pendingIntent = PendingIntent.getActivity(this,0,new Intent(this, MainActivity.class),0);\r\n            Intent previous = new Intent();\r\n            previous.setAction(ACTION_NOTIFY_SKIP_PREVIOUS);\r\n            Intent play = new Intent();\r\n            play.setAction(ACTION_NOTIFY_PLAY_PAUSE);\r\n            Intent next = new Intent();\r\n            play.setAction(ACTION_NOTIFY_SKIP_NEXT);\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n                Notification.Builder notification = new Notification.Builder(this, &quot;playback&quot;)\r\n                        .setSmallIcon(R.drawable.music_icon)\r\n                        .setContentTitle(retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_TITLE))\r\n                        .setContentText(retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_ALBUM) + &quot; . &quot; + retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_ARTIST))\r\n                        .setLargeIcon(songCover)\r\n                        .setVisibility(Notification.VISIBILITY_PUBLIC)\r\n                        .addAction(R.drawable.ic_skip_previous_black_24dp,&quot;previous&quot;,PendingIntent.getBroadcast(this,11,previous,PendingIntent.FLAG_UPDATE_CURRENT))\r\n                        .addAction(R.drawable.ic_pause_black_24dp,&quot;play&quot;,PendingIntent.getBroadcast(this,12,play,PendingIntent.FLAG_UPDATE_CURRENT))\r\n                        .addAction(R.drawable.ic_skip_next_black_24dp,&quot;next&quot;,PendingIntent.getBroadcast(this,13,next,PendingIntent.FLAG_UPDATE_CURRENT))\r\n                        .setContentIntent(pendingIntent);\r\n                Notification.MediaStyle mediaStyle = new Notification.MediaStyle();\r\n                mediaStyle.setBuilder(notification);\r\n                startForeground(1, mediaStyle.build());\r\n            }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Help, please!**","title":"Android BroadcastReceiver not working by clicking at notification action","body":"<p>I'm building a music player app and I have a problem with the notification part I think all of my code about the notification is right but when I tap at notification controller buttons broadcast receiver don't work.</p>\n<h2>AndroidManifest:</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;receiver android:name=\".notification.NotificationController\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.ydp.eight_d_musicplayer.ACTION_NOTIFY_PLAY_PAUSE\"/&gt;\n                &lt;action android:name=\"com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_NEXT\"/&gt;\n                &lt;action android:name=\"com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_PREVIOUS\"/&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/receiver&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>My Broadcast:</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class NotificationController extends BroadcastReceiver {\n\n    public static String ACTION_NOTIFY_PLAY_PAUSE = \"com.ydp.eight_d_musicplayer.ACTION_NOTIFY_PLAY_PAUSE\";\n    public static String ACTION_NOTIFY_SKIP_NEXT = \"com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_NEXT\";\n    public static String ACTION_NOTIFY_SKIP_PREVIOUS = \"com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_PREVIOUS\";\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction().equals(ACTION_NOTIFY_PLAY_PAUSE)){\n            if (Player.player.isPlaying()){\n                Player.player.pause();\n            }else {\n                Player.player.start();\n            }\n        } else if (intent.getAction().equals(ACTION_NOTIFY_SKIP_PREVIOUS)){\n            Toast.makeText(context, \"previous\", Toast.LENGTH_SHORT).show();\n        }else {\n            Toast.makeText(context, \"next\", Toast.LENGTH_SHORT).show();\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>And My Service:</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>PendingIntent pendingIntent = PendingIntent.getActivity(this,0,new Intent(this, MainActivity.class),0);\n        Intent previous = new Intent();\n        previous.setAction(ACTION_NOTIFY_SKIP_PREVIOUS);\n        Intent play = new Intent();\n        play.setAction(ACTION_NOTIFY_PLAY_PAUSE);\n        Intent next = new Intent();\n        play.setAction(ACTION_NOTIFY_SKIP_NEXT);\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            Notification.Builder notification = new Notification.Builder(this, \"playback\")\n                    .setSmallIcon(R.drawable.music_icon)\n                    .setContentTitle(retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_TITLE))\n                    .setContentText(retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_ALBUM) + \" . \" + retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_ARTIST))\n                    .setLargeIcon(songCover)\n                    .setVisibility(Notification.VISIBILITY_PUBLIC)\n                    .addAction(R.drawable.ic_skip_previous_black_24dp,\"previous\",PendingIntent.getBroadcast(this,11,previous,PendingIntent.FLAG_UPDATE_CURRENT))\n                    .addAction(R.drawable.ic_pause_black_24dp,\"play\",PendingIntent.getBroadcast(this,12,play,PendingIntent.FLAG_UPDATE_CURRENT))\n                    .addAction(R.drawable.ic_skip_next_black_24dp,\"next\",PendingIntent.getBroadcast(this,13,next,PendingIntent.FLAG_UPDATE_CURRENT))\n                    .setContentIntent(pendingIntent);\n            Notification.MediaStyle mediaStyle = new Notification.MediaStyle();\n            mediaStyle.setBuilder(notification);\n            startForeground(1, mediaStyle.build());\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Help, please!</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8206,"page":1786,"page_size":100}
