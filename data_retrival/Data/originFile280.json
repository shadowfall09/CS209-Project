{"items":[{"tags":["java","android","video-capture"],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690575232,"answer_count":0,"score":0,"last_activity_date":1690575242,"creation_date":1690573906,"question_id":76790668,"body_markdown":"I am working on an App that will upload videos to firebase, the issue is that I followed a certain tutorial to achieve that but the app cannot pick a video from my Android App even after giving all the necessary permissions. The videos file is open correctly but when I click on a particular video for upload, it&#39;s not picking the video. I don&#39;t know what is the issue. Here is what I did\r\n    \r\n    private void openVideo(){\r\n            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n            intent.setType(&quot;video/*&quot;);\r\n            startActivityForResult(intent,101);\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            if ((requestCode==101) &amp;&amp; (resultCode == RESULT_OK) &amp;&amp; (data.getData() != null)){\r\n                videoUri = data.getData();\r\n    \r\n                String path = null;\r\n                Cursor cursor;\r\n                int column_index_data;\r\n                String [] projection = {MediaStore.MediaColumns.DATA,MediaStore.Video.Media.BUCKET_DISPLAY_NAME,\r\n                MediaStore.Video.Media._ID,MediaStore.Video.Thumbnails.DATA};\r\n                final String orderBy = MediaStore.Video.Media.DEFAULT_SORT_ORDER;\r\n                cursor = MainActivity.this.getContentResolver().query(videoUri,projection,null,null,orderBy);\r\n                column_index_data = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA);\r\n                while (cursor.moveToNext()){\r\n                    path = cursor.getString(column_index_data);\r\n                    videoTitle = FilenameUtils.getBaseName(path);\r\n                }\r\n                tvVideoSelected.setText(videoTitle);\r\n            }\r\n        }\r\n\r\n","title":"How to get a video path in java android","body":"<p>I am working on an App that will upload videos to firebase, the issue is that I followed a certain tutorial to achieve that but the app cannot pick a video from my Android App even after giving all the necessary permissions. The videos file is open correctly but when I click on a particular video for upload, it's not picking the video. I don't know what is the issue. Here is what I did</p>\n<pre><code>private void openVideo(){\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        intent.setType(&quot;video/*&quot;);\n        startActivityForResult(intent,101);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if ((requestCode==101) &amp;&amp; (resultCode == RESULT_OK) &amp;&amp; (data.getData() != null)){\n            videoUri = data.getData();\n\n            String path = null;\n            Cursor cursor;\n            int column_index_data;\n            String [] projection = {MediaStore.MediaColumns.DATA,MediaStore.Video.Media.BUCKET_DISPLAY_NAME,\n            MediaStore.Video.Media._ID,MediaStore.Video.Thumbnails.DATA};\n            final String orderBy = MediaStore.Video.Media.DEFAULT_SORT_ORDER;\n            cursor = MainActivity.this.getContentResolver().query(videoUri,projection,null,null,orderBy);\n            column_index_data = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA);\n            while (cursor.moveToNext()){\n                path = cursor.getString(column_index_data);\n                videoTitle = FilenameUtils.getBaseName(path);\n            }\n            tvVideoSelected.setText(videoTitle);\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","fetch","retrofit","response"],"comments":[{"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"score":0,"creation_date":1690086946,"post_id":76746280,"comment_id":135302793,"body_markdown":"Why don&#39;t you use `Object` instead of `List` ?","body":"Why don&#39;t you use <code>Object</code> instead of <code>List</code> ?"},{"owner":{"account_id":28815725,"reputation":23,"user_id":22069400,"display_name":"San Nasser"},"score":0,"creation_date":1690127554,"post_id":76746280,"comment_id":135306850,"body_markdown":"I&#39;ve tried but can&#39;t find a way to extract the data from the object .","body":"I&#39;ve tried but can&#39;t find a way to extract the data from the object ."}],"answers":[{"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690575227,"creation_date":1690173941,"answer_id":76751459,"question_id":76746280,"body_markdown":"We had this problem in our project and we solved it using generic types, you can achieve your goal like this:\r\n\r\nFirst, define a generic type response model with all data you need:\r\n\r\n    public class ResponseModel&lt;T&gt; {\r\n    \r\n        @SerializedName(&quot;data&quot;)\r\n        private T dataModel;\r\n    \r\n        private boolean isSuccess;\r\n        private int statusCode;\r\n        private String message;\r\n    }\r\n\r\nand in your retrofit interface specify type of data:\r\n\r\n    Call&lt;ResponseModel&lt;List&lt;User&gt;&gt;&gt; getUser(\r\n        @Header(authorization) String token\r\n    );\r\n\r\nin this method, we defined that our expected data model is a list of users (`List&lt;User&gt;`)","title":"How to read response data from a custom type of json in android studio","body":"<p>We had this problem in our project and we solved it using generic types, you can achieve your goal like this:</p>\n<p>First, define a generic type response model with all data you need:</p>\n<pre><code>public class ResponseModel&lt;T&gt; {\n\n    @SerializedName(&quot;data&quot;)\n    private T dataModel;\n\n    private boolean isSuccess;\n    private int statusCode;\n    private String message;\n}\n</code></pre>\n<p>and in your retrofit interface specify type of data:</p>\n<pre><code>Call&lt;ResponseModel&lt;List&lt;User&gt;&gt;&gt; getUser(\n    @Header(authorization) String token\n);\n</code></pre>\n<p>in this method, we defined that our expected data model is a list of users (<code>List&lt;User&gt;</code>)</p>\n"}],"owner":{"account_id":28815725,"reputation":23,"user_id":22069400,"display_name":"San Nasser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76751459,"answer_count":1,"score":0,"last_activity_date":1690575227,"creation_date":1690073582,"question_id":76746280,"body_markdown":"I have a group of classes in the API, and I want the results of the request to be semi-uniform, for example, I created a class that contains 3 fields\r\nas follows below :\r\n\r\n\r\n```\r\n public class resultDataClass\r\n    {\r\n        public Boolean state { get;set; }\r\n        public string message { get; set; }\r\n        public object data { get; set; } //this field \r\n\r\n    }\r\n```\r\nThe third field returns different data from all classes \r\nmay be  type op users class or department class or another class\r\n-- below show data json in my response type\r\n\r\nmy be :\r\n\r\n```\r\n{\r\n&quot;state&quot;: true,\r\n&quot;message&quot;: &quot; data description&quot;,\r\n&quot;data&quot;: [\r\n          {\r\n             &quot;id&quot;: 1,\r\n             &quot;UserName&quot;: &quot;&quot;,\r\n             &quot;password&quot;: &quot;&quot;,\r\n             &quot;email&quot;: &quot;&quot;,\r\n             &quot;phone&quot;: &quot;&quot;\r\n          },\r\n          {\r\n             &quot;id&quot;: 2,\r\n             &quot;UserName&quot;: &quot;&quot;,\r\n             &quot;password&quot;: &quot;&quot;,\r\n             &quot;email&quot;: &quot;&quot;,\r\n             &quot;phone&quot;: &quot;&quot;\r\n          }\r\n        ]\r\n}\r\n\r\n```\r\n\r\nand my be  from another class and different fields:\r\n\r\n```\r\n{\r\n&quot;state&quot;: true,\r\n&quot;message&quot;: &quot; data description&quot;,\r\n&quot;data&quot;: [\r\n          {\r\n             &quot;id&quot;: 1,\r\n             &quot;title&quot;: &quot;&quot;,\r\n             &quot;content&quot;: &quot;&quot;,\r\n             &quot;description&quot;: &quot;&quot;,\r\n             &quot;image&quot;: &quot;&quot;\r\n          },\r\n          {\r\n             &quot;id&quot;: 1,\r\n             &quot;title&quot;: &quot;&quot;,\r\n             &quot;content&quot;: &quot;&quot;,\r\n             &quot;description&quot;: &quot;&quot;,\r\n             &quot;image&quot;: &quot;&quot;\r\n          }\r\n        ]\r\n}\r\n```\r\nnow , How can I build another Unified Class in Android Studio Java to fetch data from this json data\r\n\r\n\r\nhow to set response class this :\r\n\r\n```\r\npublic class ResponseClass {\r\n    public boolean state;\r\n    public String message;\r\n    // here how to define object like api class in up \r\n    public List&lt;??&gt;\r\n\r\n    public boolean isState() {\r\n        return state;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI am written this code to fetch data for one class .\r\n\r\n\r\n\r\n```\r\nString myMessage=&quot;&quot;;\r\nCall&lt;ResponseData&gt; call=api.getPosts(userId);\r\n    call.enqueue(new Callback&lt;ResponseData&gt;() {\r\n        @Override\r\n        public void onResponse(@NonNull Call&lt;ResponseData&gt; call, @NonNull Response&lt;ResponseData&gt; response) {\r\n                    if(response.isSuccessful()) {\r\n\r\n                        if(response.body.isstate)\r\n                            {\r\n                             \r\n                        try {\r\n                            for(int i = 0; i&lt; response.body().getData().size(); i++)\r\n                            {\r\n                                //here fetch data from desired class\r\n\r\n                                //It could be a user class or any other class\r\n                                mylist.add(row);\r\n                            }\r\n                            \r\n                            adapter=new MyAdapter(getContext(),mylist);\r\n                            recyclerView.setAdapter(adapter);\r\n                            pd.dismiss();\r\n                        }catch (Exception exception)\r\n                        {\r\n                           \r\n                        }\r\n                    } else myMessage=response.body.getmessage();}\r\n                    else {\r\n                        \r\n                    }\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(@NonNull Call&lt;ResponseContentData&gt; call, @NonNull Throwable t) {\r\n            Toast.makeText(getContext(), &quot;message :&quot;+ t.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n    });\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How to read response data from a custom type of json in android studio","body":"<p>I have a group of classes in the API, and I want the results of the request to be semi-uniform, for example, I created a class that contains 3 fields\nas follows below :</p>\n<pre><code> public class resultDataClass\n    {\n        public Boolean state { get;set; }\n        public string message { get; set; }\n        public object data { get; set; } //this field \n\n    }\n</code></pre>\n<p>The third field returns different data from all classes\nmay be  type op users class or department class or another class\n-- below show data json in my response type</p>\n<p>my be :</p>\n<pre><code>{\n&quot;state&quot;: true,\n&quot;message&quot;: &quot; data description&quot;,\n&quot;data&quot;: [\n          {\n             &quot;id&quot;: 1,\n             &quot;UserName&quot;: &quot;&quot;,\n             &quot;password&quot;: &quot;&quot;,\n             &quot;email&quot;: &quot;&quot;,\n             &quot;phone&quot;: &quot;&quot;\n          },\n          {\n             &quot;id&quot;: 2,\n             &quot;UserName&quot;: &quot;&quot;,\n             &quot;password&quot;: &quot;&quot;,\n             &quot;email&quot;: &quot;&quot;,\n             &quot;phone&quot;: &quot;&quot;\n          }\n        ]\n}\n\n</code></pre>\n<p>and my be  from another class and different fields:</p>\n<pre><code>{\n&quot;state&quot;: true,\n&quot;message&quot;: &quot; data description&quot;,\n&quot;data&quot;: [\n          {\n             &quot;id&quot;: 1,\n             &quot;title&quot;: &quot;&quot;,\n             &quot;content&quot;: &quot;&quot;,\n             &quot;description&quot;: &quot;&quot;,\n             &quot;image&quot;: &quot;&quot;\n          },\n          {\n             &quot;id&quot;: 1,\n             &quot;title&quot;: &quot;&quot;,\n             &quot;content&quot;: &quot;&quot;,\n             &quot;description&quot;: &quot;&quot;,\n             &quot;image&quot;: &quot;&quot;\n          }\n        ]\n}\n</code></pre>\n<p>now , How can I build another Unified Class in Android Studio Java to fetch data from this json data</p>\n<p>how to set response class this :</p>\n<pre><code>public class ResponseClass {\n    public boolean state;\n    public String message;\n    // here how to define object like api class in up \n    public List&lt;??&gt;\n\n    public boolean isState() {\n        return state;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n}\n</code></pre>\n<p>I am written this code to fetch data for one class .</p>\n<pre><code>String myMessage=&quot;&quot;;\nCall&lt;ResponseData&gt; call=api.getPosts(userId);\n    call.enqueue(new Callback&lt;ResponseData&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;ResponseData&gt; call, @NonNull Response&lt;ResponseData&gt; response) {\n                    if(response.isSuccessful()) {\n\n                        if(response.body.isstate)\n                            {\n                             \n                        try {\n                            for(int i = 0; i&lt; response.body().getData().size(); i++)\n                            {\n                                //here fetch data from desired class\n\n                                //It could be a user class or any other class\n                                mylist.add(row);\n                            }\n                            \n                            adapter=new MyAdapter(getContext(),mylist);\n                            recyclerView.setAdapter(adapter);\n                            pd.dismiss();\n                        }catch (Exception exception)\n                        {\n                           \n                        }\n                    } else myMessage=response.body.getmessage();}\n                    else {\n                        \n                    }\n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;ResponseContentData&gt; call, @NonNull Throwable t) {\n            Toast.makeText(getContext(), &quot;message :&quot;+ t.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","multithreading","threadpool"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1362094313,"post_id":15147701,"comment_id":21326693,"body_markdown":"&quot;*Of course, the BlockingQueue doesn&#39;t support changing the size, and the ThreadPoolExecutor doesn&#39;t support changing the queue.*&quot; =&gt; what makes you think so? Some implementations of BlockingQueue have variable sizes.","body":"&quot;<i>Of course, the BlockingQueue doesn&#39;t support changing the size, and the ThreadPoolExecutor doesn&#39;t support changing the queue.</i>&quot; =&gt; what makes you think so? Some implementations of BlockingQueue have variable sizes."},{"owner":{"account_id":1069990,"reputation":700,"user_id":1069522,"accept_rate":74,"display_name":"tdimmig"},"score":1,"creation_date":1362146130,"post_id":15147701,"comment_id":21346262,"body_markdown":"What implementations would these be?  I have read the javadoc for every known implementing class of [BlockingQueue&lt;E&gt;](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html), and none of them supports being both bounded and resizable.","body":"What implementations would these be?  I have read the javadoc for every known implementing class of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\">BlockingQueue&lt;E&gt;</a>, and none of them supports being both bounded and resizable."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1362217800,"post_id":15147701,"comment_id":21371064,"body_markdown":"The ones I was thinking about are unbounded.","body":"The ones I was thinking about are unbounded."},{"owner":{"account_id":1069990,"reputation":700,"user_id":1069522,"accept_rate":74,"display_name":"tdimmig"},"score":1,"creation_date":1362251186,"post_id":15147701,"comment_id":21380234,"body_markdown":"If they are unbounded, they don&#39;t have a size.  My first statement &quot;I need to be able to change the size of the task queue of a ThreadPoolExecutor&quot; indicates that I need a bounded size, and that I need to change it.  Unbounded queues do not satisfy my requirements.","body":"If they are unbounded, they don&#39;t have a size.  My first statement &quot;I need to be able to change the size of the task queue of a ThreadPoolExecutor&quot; indicates that I need a bounded size, and that I need to change it.  Unbounded queues do not satisfy my requirements."}],"answers":[{"tags":[],"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1362235583,"creation_date":1362235583,"answer_id":15175738,"question_id":15147701,"body_markdown":"Using a mix of &quot;shutdown()&quot; (not shutdownNow()),  then polling with getPoolSize()/isTerminated(), you could (a) stop the existing the pool . Then (b) simultaneously (in a separate thread) a new queue with the desired size could be created. You would have a tradeoff here in terms of:  can you allow there to temporarily exist more threads than the desired number (while the first pool is shutting down).  \r\n ","title":"Change queue size of a ThreadPoolExecutor","body":"<p>Using a mix of \"shutdown()\" (not shutdownNow()),  then polling with getPoolSize()/isTerminated(), you could (a) stop the existing the pool . Then (b) simultaneously (in a separate thread) a new queue with the desired size could be created. You would have a tradeoff here in terms of:  can you allow there to temporarily exist more threads than the desired number (while the first pool is shutting down).  </p>\n"},{"tags":[],"owner":{"account_id":1975904,"reputation":229,"user_id":1773699,"display_name":"Abhishek Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362236166,"creation_date":1362236166,"answer_id":15175814,"question_id":15147701,"body_markdown":"You should use isTerminated() method to check Executor state but make sure before calling isTerminated method you should call shutdown() otherwise isTermainated method aleays return false.","title":"Change queue size of a ThreadPoolExecutor","body":"<p>You should use isTerminated() method to check Executor state but make sure before calling isTerminated method you should call shutdown() otherwise isTermainated method aleays return false.</p>\n"},{"tags":[],"owner":{"account_id":1981904,"reputation":571,"user_id":1778299,"accept_rate":71,"display_name":"Tadhg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690574870,"creation_date":1690574870,"answer_id":76790754,"question_id":15147701,"body_markdown":"You can do this by creating extending the unbounded LinkedBlockingQueue with an implementation which enforce a capacity on the underlying unbounded queue. This gives you a resizable work queue for your thread pool.\r\n\r\nFirst, you&#39;ll need to create the resizable implementation\r\n\r\n    class ResizableBlockingQueue&lt;E&gt; extends LinkedBlockingQueue&lt;E&gt; {\r\n\r\n        private int maxCapacity;\r\n\r\n        public ResizableBlockingQueue(int maxCapacity) {\r\n            this.maxCapacity = maxCapacity;\r\n        }\r\n\r\n        public int getMaxCapacity() {\r\n            return maxCapacity;\r\n        }\r\n\r\n        public void setMaxCapacity(int maxCapacity) {\r\n            this.maxCapacity = maxCapacity;\r\n        }\r\n\r\n        @Override public int remainingCapacity() {\r\n            return getMaxCapacity() - size();\r\n        }\r\n\r\n        @Override public boolean offer(E e) {\r\n            if (remainingCapacity() &lt;= 0) {\r\n                return false;\r\n            }\r\n            return super.offer(e);\r\n        }\r\n    }\r\n\r\nand now you can use it like this\r\n \r\n    ResizableBlockingQueue&lt;Runnable&gt; executionQueue = new ResizableBlockingQueue&lt;&gt;(QUEUE_SIZE);\r\n    ThreadPoolExecutor executor = new ThreadPoolExecutor(MIN_THREADS, MAX_THREADS, 30, TimeUnit.SECONDS, executionQueue);\r\n\r\n    // Need a bigger work queue\r\n    executionQueue.setMaxCapacity(BIGGER_QUEUE_SIZE);\r\n\r\nAs you can see, by this design, setting a smaller capacity will not remove existing work from the queue but will prevent new work from being enqueued until the queue size falls below the new `maxCapacity`\r\n\r\nEnjoy!\r\n\r\n    \r\n","title":"Change queue size of a ThreadPoolExecutor","body":"<p>You can do this by creating extending the unbounded LinkedBlockingQueue with an implementation which enforce a capacity on the underlying unbounded queue. This gives you a resizable work queue for your thread pool.</p>\n<p>First, you'll need to create the resizable implementation</p>\n<pre><code>class ResizableBlockingQueue&lt;E&gt; extends LinkedBlockingQueue&lt;E&gt; {\n\n    private int maxCapacity;\n\n    public ResizableBlockingQueue(int maxCapacity) {\n        this.maxCapacity = maxCapacity;\n    }\n\n    public int getMaxCapacity() {\n        return maxCapacity;\n    }\n\n    public void setMaxCapacity(int maxCapacity) {\n        this.maxCapacity = maxCapacity;\n    }\n\n    @Override public int remainingCapacity() {\n        return getMaxCapacity() - size();\n    }\n\n    @Override public boolean offer(E e) {\n        if (remainingCapacity() &lt;= 0) {\n            return false;\n        }\n        return super.offer(e);\n    }\n}\n</code></pre>\n<p>and now you can use it like this</p>\n<pre><code>ResizableBlockingQueue&lt;Runnable&gt; executionQueue = new ResizableBlockingQueue&lt;&gt;(QUEUE_SIZE);\nThreadPoolExecutor executor = new ThreadPoolExecutor(MIN_THREADS, MAX_THREADS, 30, TimeUnit.SECONDS, executionQueue);\n\n// Need a bigger work queue\nexecutionQueue.setMaxCapacity(BIGGER_QUEUE_SIZE);\n</code></pre>\n<p>As you can see, by this design, setting a smaller capacity will not remove existing work from the queue but will prevent new work from being enqueued until the queue size falls below the new <code>maxCapacity</code></p>\n<p>Enjoy!</p>\n"}],"owner":{"account_id":1069990,"reputation":700,"user_id":1069522,"accept_rate":74,"display_name":"tdimmig"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2163,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":15175738,"answer_count":3,"score":7,"last_activity_date":1690574870,"creation_date":1362094135,"question_id":15147701,"body_markdown":"I need to be able to change the size of the task queue of a [ThreadPoolExecutor](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html).  Of course, the BlockingQueue doesn&#39;t support changing the size, and the ThreadPoolExecutor doesn&#39;t support changing the queue.\r\n\r\nSo, the method I&#39;ve come up with is to use [ThreadPoolExecutor.shutdownNow()](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html#shutdownNow%28%29), which gives me back a list of the Runnables that haven&#39;t yet been executed.  Then I can create a new executor with the desired queue size and re-submit all of the tasks.\r\n\r\nThe issue is with the tasks in progress at the time of the shutdownNow() call.  As far as I can tell from the javadoc, the executor will call Thread.interrupt() on all threads currently executing a taks.  I don&#39;t want my tasks to be killed.  This question may have been a long-winded way of asking how to write my tasks such that Thread.interrupt() won&#39;t have any effect?","title":"Change queue size of a ThreadPoolExecutor","body":"<p>I need to be able to change the size of the task queue of a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"noreferrer\">ThreadPoolExecutor</a>.  Of course, the BlockingQueue doesn't support changing the size, and the ThreadPoolExecutor doesn't support changing the queue.</p>\n\n<p>So, the method I've come up with is to use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html#shutdownNow%28%29\" rel=\"noreferrer\">ThreadPoolExecutor.shutdownNow()</a>, which gives me back a list of the Runnables that haven't yet been executed.  Then I can create a new executor with the desired queue size and re-submit all of the tasks.</p>\n\n<p>The issue is with the tasks in progress at the time of the shutdownNow() call.  As far as I can tell from the javadoc, the executor will call Thread.interrupt() on all threads currently executing a taks.  I don't want my tasks to be killed.  This question may have been a long-winded way of asking how to write my tasks such that Thread.interrupt() won't have any effect?</p>\n"},{"tags":["java","arraylist","collections","java-stream","collectors"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690573494,"post_id":76790624,"comment_id":135377759,"body_markdown":"Habe you taken a look at the [definition of `IntStream::collect` (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#collect(java.util.function.Supplier,java.util.function.ObjIntConsumer,java.util.function.BiConsumer))? The method takes three parameters.","body":"Habe you taken a look at the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#collect(java.util.function.Supplier,java.util.function.ObjIntConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\">definition of <code>IntStream::collect</code> (<code>docs.oracle.com</code>)</a>? The method takes three parameters."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690573798,"post_id":76790624,"comment_id":135377798,"body_markdown":"`.boxed().toList();` or since you&#39;re already dealing with an Integer Stream, simply `return numbers.stream().filter(s -&gt; s &gt;= 0).toList();`","body":"<code>.boxed().toList();</code> or since you&#39;re already dealing with an Integer Stream, simply <code>return numbers.stream().filter(s -&gt; s &gt;= 0).toList();</code>"},{"owner":{"account_id":26452725,"reputation":9,"user_id":20095706,"display_name":"testC0der"},"score":0,"creation_date":1690573799,"post_id":76790624,"comment_id":135377799,"body_markdown":"Forgot to write which one. Its Java 19","body":"Forgot to write which one. Its Java 19"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690574313,"creation_date":1690573769,"answer_id":76790658,"question_id":76790624,"body_markdown":"You are using `mapToInt()` without any reason, you can do this way:\r\n\r\n```java\r\npublic static List&lt;Integer&gt; positive(List&lt;Integer&gt; numbers) {\r\n    return numbers.stream()\r\n                  .filter(s -&gt; s &gt;= 0)\r\n                  .collect(Collectors.toList());\r\n}\r\n```\r\nYou can also, replace `.collect(Collectors.toList())` with [`.toList()`][1], which is available **since java 16**.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#toList()","title":"Problem with .collect() method in list .stream() in JAVA","body":"<p>You are using <code>mapToInt()</code> without any reason, you can do this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Integer&gt; positive(List&lt;Integer&gt; numbers) {\n    return numbers.stream()\n                  .filter(s -&gt; s &gt;= 0)\n                  .collect(Collectors.toList());\n}\n</code></pre>\n<p>You can also, replace <code>.collect(Collectors.toList())</code> with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#toList()\" rel=\"nofollow noreferrer\"><code>.toList()</code></a>, which is available <strong>since java 16</strong>.</p>\n"}],"owner":{"account_id":26452725,"reputation":9,"user_id":20095706,"display_name":"testC0der"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1690573932,"accepted_answer_id":76790658,"answer_count":1,"score":-1,"last_activity_date":1690574313,"creation_date":1690573323,"question_id":76790624,"body_markdown":"```\r\npublic class PositiveNumbers {\r\n    public static List&lt;Integer&gt; positive(List&lt;Integer&gt; numbers){\r\n\r\n        return numbers.stream()\r\n                .mapToInt(Integer::valueOf)\r\n                .filter(s -&gt; s &gt;= 0)\r\n                .collect(Collectors.toCollection(ArrayList&lt;Integer&gt;::new));\r\n    }\r\n}\r\n```\r\n\r\n[  \r\nImage of the code and description of problem given by IntelliJ](https://i.stack.imgur.com/Zc5qz.png)\r\n\r\nTried all that program gives as fix, asked chatGPT, but no results. I cannot see the problem.\r\n\r\nI tried also\r\n\r\n```\r\n.collect(Collectors.toList());\r\n```\r\n\r\nbut same problem...","title":"Problem with .collect() method in list .stream() in JAVA","body":"<pre><code>public class PositiveNumbers {\n    public static List&lt;Integer&gt; positive(List&lt;Integer&gt; numbers){\n\n        return numbers.stream()\n                .mapToInt(Integer::valueOf)\n                .filter(s -&gt; s &gt;= 0)\n                .collect(Collectors.toCollection(ArrayList&lt;Integer&gt;::new));\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Zc5qz.png\" rel=\"nofollow noreferrer\"><br />\nImage of the code and description of problem given by IntelliJ</a></p>\n<p>Tried all that program gives as fix, asked chatGPT, but no results. I cannot see the problem.</p>\n<p>I tried also</p>\n<pre><code>.collect(Collectors.toList());\n</code></pre>\n<p>but same problem...</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1690469240,"post_id":76780905,"comment_id":135361082,"body_markdown":"How are you going to use the interface in your code? Are you going to check every time if the returned Object is Mongo or JDBC? Once you answer that question, it should be easier to decide how to change the interface, and even if it should be an interface with two implementations, or separate entirely..","body":"How are you going to use the interface in your code? Are you going to check every time if the returned Object is Mongo or JDBC? Once you answer that question, it should be easier to decide how to change the interface, and even if it should be an interface with two implementations, or separate entirely.."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690469278,"post_id":76780905,"comment_id":135361090,"body_markdown":"In what context would this interface be implemented?","body":"In what context would this interface be implemented?"},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690535214,"post_id":76780905,"comment_id":135370499,"body_markdown":"@ArvindKumarAvinash Factory pattern does not solve this issue. Factory pattern is a creational design pattern. It solves problems related to instantiation. This problem is about the return type of a method that appears to be random and involves totally unrelated types.","body":"@ArvindKumarAvinash Factory pattern does not solve this issue. Factory pattern is a creational design pattern. It solves problems related to instantiation. This problem is about the return type of a method that appears to be random and involves totally unrelated types."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690536178,"post_id":76780905,"comment_id":135370704,"body_markdown":"Please provide more context if you want serious help. It&#39;s not clear what you are doing and ow the interface is used and how the implementation looks like.","body":"Please provide more context if you want serious help. It&#39;s not clear what you are doing and ow the interface is used and how the implementation looks like."},{"owner":{"account_id":19754330,"reputation":23,"user_id":14465001,"display_name":"Fabricio Franco"},"score":0,"creation_date":1691763357,"post_id":76780905,"comment_id":135539932,"body_markdown":"@Jorn yes. My goal is to design an API, and all the time the foreign applications will use different databases. The MongoDB wiil be used for &quot;caching&quot; some results for the user, and Mysql will act as repository.","body":"@Jorn yes. My goal is to design an API, and all the time the foreign applications will use different databases. The MongoDB wiil be used for &quot;caching&quot; some results for the user, and Mysql will act as repository."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690471059,"creation_date":1690471059,"answer_id":76781210,"question_id":76780905,"body_markdown":"&gt; I have an interface that returns a Connection. I&#39;ve changed to Object,\r\n&gt; because I need to return sometimes a Connection and sometimes a\r\n&gt; MongoDatabase object from Mongo. My poor ideia was to change this\r\n&gt; method to Object, like this:\r\n&gt; ```\r\n&gt; Object getConnnection(String uri);\r\n&gt; ```\r\n&gt; Is a poor design?\r\n\r\nIf the intended uses of this interface will require users to cast the return value, or otherwise do anything with it that depends on knowing or assuming whether it is a `Connection` or a `MongoDatabase`, then yes, it is a poor design.\r\n\r\nAlso, `getConnection` is a terrible name for a method that in fact might return something that is not a `Connection`.\r\n\r\n&gt; Any suggestion to improve this aproach?\r\n\r\nThere are plenty of alternatives that would be better, but which one is best for you depends on how you want to use instances of this interface.  Some of the more likely possibilities are\r\n\r\n - give the interface separate methods for retrieving a `Connection` and for retrieving a `MongoDatabase`.  This is not great if individual instances cannot be expected to be able to do both, but even then it&#39;s better than the version presented in the question.\r\n\r\n - provide a separate interface representing objects that can provide `MongoDatabase`s, with an appropriately-named method for that purpose.\r\n\r\n - put a method for retrieving a `MongoDatabase` (only) on a class implementing the interface, and make methods that need to be able to exercise that `getMongoDatabase()` method require instances specifically of that class.  Possibly create a sub-interface that specifies the `getMongoDatabase()` method.\r\n\r\n - make the interface generic, parameterized by the type of object to which it provides access.  For example,\r\n\r\n   ```\r\n   interface DatabaseAccessor&lt;T&gt; {\r\n       public T getDatabaseObject();\r\n   }\r\n   ```\r\n\r\n   Each implementation would then be specific for `Connection`s or `MongoDatabase`s or some other similar thing.  Other methods that want to consume these specify what flavor of `DatabaseAccessor` they need via the type parameter.","title":"Interface to return Generic type","body":"<blockquote>\n<p>I have an interface that returns a Connection. I've changed to Object,\nbecause I need to return sometimes a Connection and sometimes a\nMongoDatabase object from Mongo. My poor ideia was to change this\nmethod to Object, like this:</p>\n<pre><code>Object getConnnection(String uri);\n</code></pre>\n<p>Is a poor design?</p>\n</blockquote>\n<p>If the intended uses of this interface will require users to cast the return value, or otherwise do anything with it that depends on knowing or assuming whether it is a <code>Connection</code> or a <code>MongoDatabase</code>, then yes, it is a poor design.</p>\n<p>Also, <code>getConnection</code> is a terrible name for a method that in fact might return something that is not a <code>Connection</code>.</p>\n<blockquote>\n<p>Any suggestion to improve this aproach?</p>\n</blockquote>\n<p>There are plenty of alternatives that would be better, but which one is best for you depends on how you want to use instances of this interface.  Some of the more likely possibilities are</p>\n<ul>\n<li><p>give the interface separate methods for retrieving a <code>Connection</code> and for retrieving a <code>MongoDatabase</code>.  This is not great if individual instances cannot be expected to be able to do both, but even then it's better than the version presented in the question.</p>\n</li>\n<li><p>provide a separate interface representing objects that can provide <code>MongoDatabase</code>s, with an appropriately-named method for that purpose.</p>\n</li>\n<li><p>put a method for retrieving a <code>MongoDatabase</code> (only) on a class implementing the interface, and make methods that need to be able to exercise that <code>getMongoDatabase()</code> method require instances specifically of that class.  Possibly create a sub-interface that specifies the <code>getMongoDatabase()</code> method.</p>\n</li>\n<li><p>make the interface generic, parameterized by the type of object to which it provides access.  For example,</p>\n<pre><code>interface DatabaseAccessor&lt;T&gt; {\n    public T getDatabaseObject();\n}\n</code></pre>\n<p>Each implementation would then be specific for <code>Connection</code>s or <code>MongoDatabase</code>s or some other similar thing.  Other methods that want to consume these specify what flavor of <code>DatabaseAccessor</code> they need via the type parameter.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":43160,"reputation":227380,"user_id":126014,"accept_rate":86,"display_name":"Mark Seemann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690573883,"creation_date":1690477187,"answer_id":76781975,"question_id":76780905,"body_markdown":"Unless you plan to only use `toString` or the other few methods available on `Object`, that type isn&#39;t useful. Thus, client code will have to attempt to downcast in order to do something more useful with it. Thus, it&#39;s generally regarded as a design smell. I don&#39;t currently have my copy of [Refactoring][1] handy, but as far as I recall, it describes the code smell and suggests better alternatives.\r\n\r\nWhat&#39;s a better design? This depends on context. Why does the interface exist in the first place?\r\n\r\nYou may consider following the [Dependency Inversion Principle][2], which entails that abstractions should be defined by client code, and not by the implementing class.\r\n\r\nSince you don&#39;t describe the needs of client code, it&#39;s difficult to suggest a better API. I&#39;d suggest to look at the requirements that client code has, and then define a type (interface or base class) that supports those interactions. Then return that type from the method.\r\n\r\nIf you can&#39;t do that, a [sum type][3] could be useful. Unfortunately, most object-oriented languages don&#39;t support sum types natively, but you [can implement them with the Visitor design pattern][4].\r\n\r\n\r\n  [1]: https://blog.ploeh.dk/ref/refactoring\r\n  [2]: https://en.wikipedia.org/wiki/Dependency_inversion_principle\r\n  [3]: https://en.wikipedia.org/wiki/Tagged_union\r\n  [4]: https://blog.ploeh.dk/2018/06/25/visitor-as-a-sum-type","title":"Interface to return Generic type","body":"<p>Unless you plan to only use <code>toString</code> or the other few methods available on <code>Object</code>, that type isn't useful. Thus, client code will have to attempt to downcast in order to do something more useful with it. Thus, it's generally regarded as a design smell. I don't currently have my copy of <a href=\"https://blog.ploeh.dk/ref/refactoring\" rel=\"nofollow noreferrer\">Refactoring</a> handy, but as far as I recall, it describes the code smell and suggests better alternatives.</p>\n<p>What's a better design? This depends on context. Why does the interface exist in the first place?</p>\n<p>You may consider following the <a href=\"https://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"nofollow noreferrer\">Dependency Inversion Principle</a>, which entails that abstractions should be defined by client code, and not by the implementing class.</p>\n<p>Since you don't describe the needs of client code, it's difficult to suggest a better API. I'd suggest to look at the requirements that client code has, and then define a type (interface or base class) that supports those interactions. Then return that type from the method.</p>\n<p>If you can't do that, a <a href=\"https://en.wikipedia.org/wiki/Tagged_union\" rel=\"nofollow noreferrer\">sum type</a> could be useful. Unfortunately, most object-oriented languages don't support sum types natively, but you <a href=\"https://blog.ploeh.dk/2018/06/25/visitor-as-a-sum-type\" rel=\"nofollow noreferrer\">can implement them with the Visitor design pattern</a>.</p>\n"}],"owner":{"account_id":19754330,"reputation":23,"user_id":14465001,"display_name":"Fabricio Franco"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690573883,"creation_date":1690469080,"question_id":76780905,"body_markdown":"I have an interface that returns a Connection. I&#39;ve changed to Object, because I need to return sometimes a Connection and sometimes a MongoDatabase object from Mongo. \r\nMy poor ideia was to change this method to Object, like this: \r\n\r\n`Object getConnnection(String uri);`\r\n\r\nIs a poor design? Any suggestion to improve this aproach? Thanks a lot for any suggestion.","title":"Interface to return Generic type","body":"<p>I have an interface that returns a Connection. I've changed to Object, because I need to return sometimes a Connection and sometimes a MongoDatabase object from Mongo.\nMy poor ideia was to change this method to Object, like this:</p>\n<p><code>Object getConnnection(String uri);</code></p>\n<p>Is a poor design? Any suggestion to improve this aproach? Thanks a lot for any suggestion.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":28850828,"reputation":512,"user_id":22096771,"display_name":"Bademeister"},"score":0,"creation_date":1689083146,"post_id":76209767,"comment_id":135160768,"body_markdown":"Here is an package: https://github.com/alaugks/spring-messagesource-xliff","body":"Here is an package: <a href=\"https://github.com/alaugks/spring-messagesource-xliff\" rel=\"nofollow noreferrer\">github.com/alaugks/spring-messagesource-xliff</a>"}],"owner":{"account_id":9147861,"reputation":159,"user_id":6803365,"display_name":"Hans FooBar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690573593,"creation_date":1683638035,"question_id":76209767,"body_markdown":"I want to manage translations in Spring Boot with XLIFF files.  In my research, property files are always used for the translations. \r\n\r\nDo you know packages with which I can use XLIFF files for translations that can also be integrated well into Spring Boot?","title":"Spring Boot: XLIFF files for translations","body":"<p>I want to manage translations in Spring Boot with XLIFF files.  In my research, property files are always used for the translations.</p>\n<p>Do you know packages with which I can use XLIFF files for translations that can also be integrated well into Spring Boot?</p>\n"},{"tags":["java","soap","soapui","soap-client","webservice-client"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690461409,"post_id":76779706,"comment_id":135359053,"body_markdown":"Please, put `copy` method implementation in the question","body":"Please, put <code>copy</code> method implementation in the question"},{"owner":{"account_id":29102924,"reputation":11,"user_id":22294357,"display_name":"Santosh Reddy"},"score":0,"creation_date":1690476947,"post_id":76779706,"comment_id":135362746,"body_markdown":"@DiedgoBorba added copy method","body":"@DiedgoBorba added copy method"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690477354,"post_id":76779706,"comment_id":135362815,"body_markdown":"If possible, put `request.xml` too, please.","body":"If possible, put <code>request.xml</code> too, please."}],"owner":{"account_id":29102924,"reputation":11,"user_id":22294357,"display_name":"Santosh Reddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690572777,"creation_date":1690460588,"question_id":76779706,"body_markdown":"I am trying to implement soap client using java getting below error\r\n\r\n&gt; java.net.SocketException: Unexpected end of file from server\r\n\r\nBut using postman agent I&#39;m able to hit the endpoints (added client certificate and host)\r\n\r\nI added PFX certificate into key store and trust store not worked\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\t\tKeyStore clientStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\tString xmlFile2Send = &quot;C:\\\\Users\\\\santosh.velagala\\\\Downloads\\\\eurochange\\\\request.xml&quot;;\r\n\t\tFileInputStream fin = new FileInputStream(xmlFile2Send);\r\n\t\tByteArrayOutputStream bout = new ByteArrayOutputStream();\r\n\r\n\t\t// Copy SOAP file to the open connection.\r\n\t\tcopy(fin, bout);\r\n\t\tfin.close();\r\n\r\n\t\tbyte[] b = bout.toByteArray();\r\n\t\tStringBuffer buf = new StringBuffer();\r\n\t\tString s = new String(b);\r\n\t\tb = s.getBytes();\r\n\t\tclientStore.load(new FileInputStream(&quot;PFX CERTIFICATE&quot;), &quot;PFX_PASSWORD&quot;.toCharArray());\r\n\t\tKeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n\t\tkmf.init(clientStore, &quot;PFX_PASSWORD&quot;.toCharArray());\r\n\t\tKeyManager[] kms = kmf.getKeyManagers();\r\n\t\tKeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\ttrustStore.load(new FileInputStream(&quot;PFX CERTIFICATE&quot;), &quot;PFX PASSWORD&quot;.toCharArray());\r\n\t\tTrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\ttmf.init(trustStore);\r\n\t\tTrustManager[] tms = tmf.getTrustManagers();\r\n\r\n\t\tfinal SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\tsslContext.init(kms, tms, new SecureRandom());\r\n\t\tSSLContext.setDefault(sslContext);\r\n\r\n\t\tHostnameVerifier hostnameVerifier = NoopHostnameVerifier.INSTANCE;\r\n\t\tSystem.setProperty(&quot;https.proxyHost&quot;, &quot;uat.accessesb.com&quot;);\r\n\t\tSystem.setProperty(&quot;https.proxyPort&quot;, &quot;443&quot;);\r\n\t\tHttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\r\n\t\tHttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\r\n\t\tURL url = new URL(&quot;Service URL&quot;);\r\n\t\tHttpsURLConnection con = (HttpsURLConnection) url.openConnection();\r\n\t\tcon.setRequestMethod(&quot;POST&quot;);\r\n\t\tcon.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; rv:11.0) like Gecko&quot;);\r\n\t\tcon.setConnectTimeout(10000);\r\n\t\tcon.setSSLSocketFactory(sslContext.getSocketFactory());\r\n\t\tcon.setRequestProperty(&quot;Content-type&quot;, &quot;application/xml;charset=UTF-8&quot;);\r\n\t\tcon.setRequestProperty(&quot;Content-Language&quot;, &quot;en-US&quot;);\r\n\t\tcon.setDoInput(true);\r\n\t\tcon.setDoOutput(true);\r\n\t\tcon.setRequestProperty(&quot;Accept&quot;, &quot;text/xml&quot;);\r\n\t\tcon.setRequestProperty(&quot;SOAPAction&quot;, &quot;urn:checkCardAvailability&quot;);\r\n\t\tOutputStream os = con.getOutputStream();\r\n\t\tOutputStreamWriter osw = new OutputStreamWriter(os, &quot;UTF-8&quot;);\r\n\t\tosw.write(&quot;SOAP XML&quot;);\r\n\t\tosw.flush();\r\n\t\tosw.flush();\r\n\r\n\t\tosw.close();\r\n\t\tos.close(); // don&#39;t forget to close the OutputStream\r\n\r\n\t\tcon.connect();\r\n\t\tSystem.out.println(con.getAllowUserInteraction());\r\n\t\tSystem.out.println(con.getResponseCode());\r\n\t}\r\n    \r\n    public static void copy(InputStream in, OutputStream out)\r\n    \t\tthrows IOException {\r\n    \r\n    \tsynchronized (in) {\r\n    \t\tsynchronized (out) {\r\n    \t\t\tbyte[] buffer = new byte[256];\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tint bytesRead = in.read(buffer);\r\n    \t\t\t\tif (bytesRead == -1)\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tout.write(buffer, 0, bytesRead);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to add client certificate using Java(Soap client)","body":"<p>I am trying to implement soap client using java getting below error</p>\n<blockquote>\n<p>java.net.SocketException: Unexpected end of file from server</p>\n</blockquote>\n<p>But using postman agent I'm able to hit the endpoints (added client certificate and host)</p>\n<p>I added PFX certificate into key store and trust store not worked</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    KeyStore clientStore = KeyStore.getInstance(&quot;JKS&quot;);\n    String xmlFile2Send = &quot;C:\\\\Users\\\\santosh.velagala\\\\Downloads\\\\eurochange\\\\request.xml&quot;;\n    FileInputStream fin = new FileInputStream(xmlFile2Send);\n    ByteArrayOutputStream bout = new ByteArrayOutputStream();\n\n    // Copy SOAP file to the open connection.\n    copy(fin, bout);\n    fin.close();\n\n    byte[] b = bout.toByteArray();\n    StringBuffer buf = new StringBuffer();\n    String s = new String(b);\n    b = s.getBytes();\n    clientStore.load(new FileInputStream(&quot;PFX CERTIFICATE&quot;), &quot;PFX_PASSWORD&quot;.toCharArray());\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n    kmf.init(clientStore, &quot;PFX_PASSWORD&quot;.toCharArray());\n    KeyManager[] kms = kmf.getKeyManagers();\n    KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\n    trustStore.load(new FileInputStream(&quot;PFX CERTIFICATE&quot;), &quot;PFX PASSWORD&quot;.toCharArray());\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    tmf.init(trustStore);\n    TrustManager[] tms = tmf.getTrustManagers();\n\n    final SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n    sslContext.init(kms, tms, new SecureRandom());\n    SSLContext.setDefault(sslContext);\n\n    HostnameVerifier hostnameVerifier = NoopHostnameVerifier.INSTANCE;\n    System.setProperty(&quot;https.proxyHost&quot;, &quot;uat.accessesb.com&quot;);\n    System.setProperty(&quot;https.proxyPort&quot;, &quot;443&quot;);\n    HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\n    HttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\n    URL url = new URL(&quot;Service URL&quot;);\n    HttpsURLConnection con = (HttpsURLConnection) url.openConnection();\n    con.setRequestMethod(&quot;POST&quot;);\n    con.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; rv:11.0) like Gecko&quot;);\n    con.setConnectTimeout(10000);\n    con.setSSLSocketFactory(sslContext.getSocketFactory());\n    con.setRequestProperty(&quot;Content-type&quot;, &quot;application/xml;charset=UTF-8&quot;);\n    con.setRequestProperty(&quot;Content-Language&quot;, &quot;en-US&quot;);\n    con.setDoInput(true);\n    con.setDoOutput(true);\n    con.setRequestProperty(&quot;Accept&quot;, &quot;text/xml&quot;);\n    con.setRequestProperty(&quot;SOAPAction&quot;, &quot;urn:checkCardAvailability&quot;);\n    OutputStream os = con.getOutputStream();\n    OutputStreamWriter osw = new OutputStreamWriter(os, &quot;UTF-8&quot;);\n    osw.write(&quot;SOAP XML&quot;);\n    osw.flush();\n    osw.flush();\n\n    osw.close();\n    os.close(); // don't forget to close the OutputStream\n\n    con.connect();\n    System.out.println(con.getAllowUserInteraction());\n    System.out.println(con.getResponseCode());\n}\n\npublic static void copy(InputStream in, OutputStream out)\n        throws IOException {\n\n    synchronized (in) {\n        synchronized (out) {\n            byte[] buffer = new byte[256];\n            while (true) {\n                int bytesRead = in.read(buffer);\n                if (bytesRead == -1)\n                    break;\n                out.write(buffer, 0, bytesRead);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690629774,"post_id":76789674,"comment_id":135382176,"body_markdown":"I&#39;m having a hard time understanding what the problem is. So do you need to check if a user already exists? If yes, show us what you have tried.","body":"I&#39;m having a hard time understanding what the problem is. So do you need to check if a user already exists? If yes, show us what you have tried."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690708027,"post_id":76789674,"comment_id":135388712,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":19655794,"reputation":1,"user_id":22084420,"display_name":"KraNf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690570378,"creation_date":1690562766,"question_id":76789674,"body_markdown":"I have a database that contains a node called &quot;chats_users&quot; where all user names are recorded to ensure uniqueness. However, I don&#39;t understand how to check for duplicates in this node when the registration button is pressed. [DB](https://i.stack.imgur.com/glDT3.png)\r\n\r\n\r\n```\r\nbuttonReg.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        progressBar.setVisibility(View.VISIBLE);\r\n        String email, password, name;\r\n        email = String.valueOf(editTextEmail.getText());\r\n        password = String.valueOf(editTextPassword.getText());\r\n        name = String.valueOf(editTextName.getText());\r\n\r\n        if (TextUtils.isEmpty(name)) {\r\n            Toast.makeText(Register.this, &quot;Enter name&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        if (TextUtils.isEmpty(email)){\r\n            Toast.makeText(Register.this, &quot;Enter email&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        if (TextUtils.isEmpty((password))) {\r\n            Toast.makeText(Register.this, &quot;Enter password&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        progressBar.setVisibility(View.GONE);\r\n                        if (task.isSuccessful() &amp; password.length() &gt; 6 &amp; Patterns.EMAIL_ADDRESS.matcher(email).matches() &amp; !isName) {\r\n                            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n                            if (currentUser != null) {\r\n                                String userId = currentUser.getUid();\r\n\r\n                                Map&lt;String, Object&gt; userData = new HashMap&lt;&gt;();\r\n                                userData.put(&quot;email&quot;, email);\r\n                                userData.put(&quot;name&quot;, name);\r\n\r\n                                usersRef.child(userId).setValue(userData).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(Void unused) {\r\n                                        namesRef.child(name).setValue(name);\r\n                                        Intent intent = new Intent(getApplicationContext(), MainActivity.class);\r\n                                        startActivity(intent);\r\n                                        finish();\r\n                                    }\r\n                                }).addOnFailureListener(new OnFailureListener() {\r\n                                    @Override\r\n                                    public void onFailure(@NonNull Exception e) {\r\n\r\n                                    }\r\n                                });\r\n\r\n                            }\r\n                        } else {\r\n                            // If sign in fails, display a message to the user.\r\n                            Toast.makeText(Register.this, &quot;Authentication failed.&quot;,\r\n                                    Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n```\r\n\r\nI tried asking ChatGPT, but it only throws one method through DataChange, which runs only after the main loop. I just need to check if the username the user is trying to enter already exists in my database, and if it does, ask them to enter another one","title":"How to get data for Realtime DB Firebase","body":"<p>I have a database that contains a node called &quot;chats_users&quot; where all user names are recorded to ensure uniqueness. However, I don't understand how to check for duplicates in this node when the registration button is pressed. <a href=\"https://i.stack.imgur.com/glDT3.png\" rel=\"nofollow noreferrer\">DB</a></p>\n<pre><code>buttonReg.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        progressBar.setVisibility(View.VISIBLE);\n        String email, password, name;\n        email = String.valueOf(editTextEmail.getText());\n        password = String.valueOf(editTextPassword.getText());\n        name = String.valueOf(editTextName.getText());\n\n        if (TextUtils.isEmpty(name)) {\n            Toast.makeText(Register.this, &quot;Enter name&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        if (TextUtils.isEmpty(email)){\n            Toast.makeText(Register.this, &quot;Enter email&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        if (TextUtils.isEmpty((password))) {\n            Toast.makeText(Register.this, &quot;Enter password&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n\n        mAuth.createUserWithEmailAndPassword(email, password)\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        progressBar.setVisibility(View.GONE);\n                        if (task.isSuccessful() &amp; password.length() &gt; 6 &amp; Patterns.EMAIL_ADDRESS.matcher(email).matches() &amp; !isName) {\n                            FirebaseUser currentUser = mAuth.getCurrentUser();\n                            if (currentUser != null) {\n                                String userId = currentUser.getUid();\n\n                                Map&lt;String, Object&gt; userData = new HashMap&lt;&gt;();\n                                userData.put(&quot;email&quot;, email);\n                                userData.put(&quot;name&quot;, name);\n\n                                usersRef.child(userId).setValue(userData).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                    @Override\n                                    public void onSuccess(Void unused) {\n                                        namesRef.child(name).setValue(name);\n                                        Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n                                        startActivity(intent);\n                                        finish();\n                                    }\n                                }).addOnFailureListener(new OnFailureListener() {\n                                    @Override\n                                    public void onFailure(@NonNull Exception e) {\n\n                                    }\n                                });\n\n                            }\n                        } else {\n                            // If sign in fails, display a message to the user.\n                            Toast.makeText(Register.this, &quot;Authentication failed.&quot;,\n                                    Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n</code></pre>\n<p>I tried asking ChatGPT, but it only throws one method through DataChange, which runs only after the main loop. I just need to check if the username the user is trying to enter already exists in my database, and if it does, ask them to enter another one</p>\n"},{"tags":["java","android","canvas","draw"],"owner":{"account_id":26858374,"reputation":11,"user_id":20442314,"display_name":"Jan Stutz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690570093,"creation_date":1690569757,"question_id":76790340,"body_markdown":"I wan&#39;t to mark with canvas.drawCircle small points on a picture and revert them one by one with a undo button.\r\n\r\nI built the code so far but when I click on undo the image gets unusuable.\r\n\r\nI&#39;m not sure if it&#39;s correct to do it with Canvas Layers in an array.\r\n\r\n[![Before](https://i.stack.imgur.com/N3tpR.jpg)](https://i.stack.imgur.com/N3tpR.jpg)\r\n\r\n[![After undo](https://i.stack.imgur.com/nn9b0.jpg)](https://i.stack.imgur.com/nn9b0.jpg)\r\n\r\nI tried it with BitmapLayers first but it would need too many resources and didn&#39;t change the picture at all.\r\n\r\n```  \r\nif (requestCode==GALLERY_REQ_CODE) {\r\n                assert data != null;\r\n                imgGallery.setImageMatrix(new Matrix());\r\n                imgGallery.setImageURI(data.getData());\r\n                imgGallery.buildDrawingCache();\r\n                canvasLayers = new ArrayList&lt;&gt;();\r\n                markerStrings = new ArrayList&lt;&gt;();\r\n                Bitmap firstbitmap = imgGallery.getDrawingCache();\r\n                Canvas firstCanvas = new Canvas(firstbitmap);\r\n                canvasLayers.add(firstCanvas);\r\n                queensselected = true;\r\n                workersselected = false;\r\n                broodselected = false;\r\n                radioqueens.setChecked(true);\r\n                radioworkers.setChecked(false);\r\n                radiobrood.setChecked(false);\r\n                queencount = 0;\r\n                workercount = 0;\r\n                broodcount = 0;\r\n                txtQueen.setText(&quot;&quot;);\r\n                countQueen.setText(&quot;&quot;);\r\n                txtWorker.setText(&quot;&quot;);\r\n                countWorker.setText(&quot;&quot;);\r\n                txtBrood.setText(&quot;&quot;);\r\n                countBrood.setText(&quot;&quot;);\r\n                pictureadded = true;\r\n                undoButton.setVisibility(GONE);\r\n            }\r\n\r\n\r\nundoButton.setOnClickListener(view -&gt; {\r\n            if (!canvasLayers.isEmpty())\r\n            {\r\n\r\n                Canvas canvaslast = canvasLayers.get(canvasLayers.size() - 1);\r\n                String stringlast = markerStrings.get(markerStrings.size() - 1 );\r\n                canvasLayers.remove(canvasLayers.size() - 1);\r\n                markerStrings.remove(markerStrings.size() - 1);\r\n                imgGallery.draw(canvaslast);\r\n\r\n                if (Objects.equals(stringlast, &quot;Queen&quot;)) {\r\n                    queencount--;\r\n                    countQueen.setText(String.valueOf(queencount));\r\n                    Toast.makeText(getApplicationContext(), &quot;Queen removed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                if (Objects.equals(stringlast, &quot;Worker&quot;)) {\r\n                    workercount--;\r\n                    countWorker.setText(String.valueOf(workercount));\r\n                    Toast.makeText(getApplicationContext(), &quot;Worker removed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                if (Objects.equals(stringlast, &quot;Brood&quot;)) {\r\n                    broodcount--;\r\n                    countBrood.setText(String.valueOf(broodcount));\r\n                    Toast.makeText(getApplicationContext(), &quot;Brood removed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                //If no undos left, hide button\r\n                if (canvasLayers.size() == 1)\r\n                {\r\n                    undoButton.setVisibility(GONE);\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n@SuppressLint({&quot;ClickableViewAccessibility&quot;, &quot;SetTextI18n&quot;})\r\n    public boolean onTouch(View v, MotionEvent event) {\r\n        // handle touch events here\r\n        ImageView view = (ImageView) v;\r\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n            then = System.currentTimeMillis();\r\n        }\r\n\r\n        switch (event.getAction() &amp; MotionEvent.ACTION_MASK) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                savedMatrix.set(matrix);\r\n                start.set(event.getX(), event.getY());\r\n                mode = DRAG;\r\n                break;\r\n            case MotionEvent.ACTION_POINTER_DOWN:\r\n                oldDist = spacing(event);\r\n                if (oldDist &gt; 10f) {\r\n                   savedMatrix.set(matrix);\r\n                    midPoint(mid, event);\r\n                    mode = ZOOM;\r\n               }\r\n                break;\r\n            case MotionEvent.ACTION_UP:\r\n                int longClickDuration = 2000;\r\n                if ((System.currentTimeMillis() - then) &gt; longClickDuration) {\r\n\r\n                    // calculate inverse matrix\r\n                    Matrix inverse = new Matrix();\r\n                    imgGallery.getImageMatrix().invert(inverse);\r\n                    touchPoint = new float[] {event.getX(), event.getY()};\r\n                    inverse.mapPoints(touchPoint);\r\n\r\n                    if (pictureadded) {\r\n                    txtQueen.setText(&quot;Queen:&quot;);\r\n                    countQueen.setText(String.valueOf(queencount));\r\n                    txtWorker.setText(&quot;Worker:&quot;);\r\n                    countWorker.setText(String.valueOf(workercount));\r\n                    txtBrood.setText(&quot;Brood:&quot;);\r\n                    countBrood.setText(String.valueOf(broodcount));\r\n\r\n                    Bitmap bitmap = imgGallery.getDrawingCache();\r\n                    Canvas drawCanvas = new Canvas(bitmap);\r\n                    Paint paint = new Paint();\r\n\r\n                        if (queensselected) {\r\n                            queencount++;\r\n                            countQueen.setText(String.valueOf(queencount));\r\n                            paint.setColor(Color.YELLOW);\r\n                            toast = &quot;Queen marked&quot;;\r\n                            markerStrings.add(&quot;Queen&quot;);\r\n                        }\r\n                        if (workersselected) {\r\n                            workercount++;\r\n                            countWorker.setText(String.valueOf(workercount));\r\n                            paint.setColor(Color.RED);\r\n                            toast = &quot;Worker marked&quot;;\r\n                            markerStrings.add(&quot;Worker&quot;);\r\n                        }\r\n                        if (broodselected) {\r\n                            broodcount++;\r\n                            countBrood.setText(String.valueOf(broodcount));\r\n                            paint.setColor(Color.WHITE);\r\n                            toast = &quot;Brood marked&quot;;\r\n                            markerStrings.add(&quot;Brood&quot;);\r\n\r\n                        }\r\n                        drawCanvas.drawCircle(touchPoint[0], touchPoint[1], 10, paint);\r\n                        imgGallery.setImageBitmap(bitmap);\r\n                        canvasLayers.add(drawCanvas);\r\n                        myVib.vibrate(50);\r\n                        undoButton.setVisibility(VISIBLE);\r\n                        Toast.makeText(getApplicationContext(), toast, Toast.LENGTH_SHORT).show();\r\n                        return false;\r\n                    }\r\n\r\n                }\r\n                break;\r\n            case MotionEvent.ACTION_POINTER_UP:\r\n                mode = NONE;\r\n                break;\r\n            case MotionEvent.ACTION_MOVE:\r\n                if (mode == DRAG) {\r\n                    matrix.set(savedMatrix);\r\n                    float dx = event.getX() - start.x;\r\n                    float dy = event.getY() - start.y;\r\n                    matrix.postTranslate(dx, dy);\r\n                }\r\n                else if (mode == ZOOM) {\r\n                    float newDist = spacing(event);\r\n                    if (newDist &gt; 10f) {\r\n                        matrix.set(savedMatrix);\r\n                        float scale = (newDist / oldDist);\r\n                        matrix.postScale(scale, scale, mid.x, mid.y);\r\n\r\n                    }\r\n                    float[] values = new float[9];\r\n                    matrix.getValues(values);\r\n                    float scaleX = values[Matrix.MSCALE_X];\r\n                    float scaleY = values[Matrix.MSCALE_Y];\r\n\r\n                    if(scaleX &lt;= 1f) {\r\n                        matrix.postScale((1f)/scaleX, (1f)/scaleY, mid.x, mid.y);\r\n                    } else if(scaleX &gt;= 3) {\r\n                        matrix.postScale((3f)/scaleX, (3f)/scaleY, mid.x, mid.y);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        view.setImageMatrix(matrix);\r\n        return true;\r\n    }\r\n```\r\n","title":"How to revert drawings to canvas java Android Studio","body":"<p>I wan't to mark with canvas.drawCircle small points on a picture and revert them one by one with a undo button.</p>\n<p>I built the code so far but when I click on undo the image gets unusuable.</p>\n<p>I'm not sure if it's correct to do it with Canvas Layers in an array.</p>\n<p><a href=\"https://i.stack.imgur.com/N3tpR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N3tpR.jpg\" alt=\"Before\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/nn9b0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nn9b0.jpg\" alt=\"After undo\" /></a></p>\n<p>I tried it with BitmapLayers first but it would need too many resources and didn't change the picture at all.</p>\n<pre><code>if (requestCode==GALLERY_REQ_CODE) {\n                assert data != null;\n                imgGallery.setImageMatrix(new Matrix());\n                imgGallery.setImageURI(data.getData());\n                imgGallery.buildDrawingCache();\n                canvasLayers = new ArrayList&lt;&gt;();\n                markerStrings = new ArrayList&lt;&gt;();\n                Bitmap firstbitmap = imgGallery.getDrawingCache();\n                Canvas firstCanvas = new Canvas(firstbitmap);\n                canvasLayers.add(firstCanvas);\n                queensselected = true;\n                workersselected = false;\n                broodselected = false;\n                radioqueens.setChecked(true);\n                radioworkers.setChecked(false);\n                radiobrood.setChecked(false);\n                queencount = 0;\n                workercount = 0;\n                broodcount = 0;\n                txtQueen.setText(&quot;&quot;);\n                countQueen.setText(&quot;&quot;);\n                txtWorker.setText(&quot;&quot;);\n                countWorker.setText(&quot;&quot;);\n                txtBrood.setText(&quot;&quot;);\n                countBrood.setText(&quot;&quot;);\n                pictureadded = true;\n                undoButton.setVisibility(GONE);\n            }\n\n\nundoButton.setOnClickListener(view -&gt; {\n            if (!canvasLayers.isEmpty())\n            {\n\n                Canvas canvaslast = canvasLayers.get(canvasLayers.size() - 1);\n                String stringlast = markerStrings.get(markerStrings.size() - 1 );\n                canvasLayers.remove(canvasLayers.size() - 1);\n                markerStrings.remove(markerStrings.size() - 1);\n                imgGallery.draw(canvaslast);\n\n                if (Objects.equals(stringlast, &quot;Queen&quot;)) {\n                    queencount--;\n                    countQueen.setText(String.valueOf(queencount));\n                    Toast.makeText(getApplicationContext(), &quot;Queen removed&quot;, Toast.LENGTH_SHORT).show();\n                }\n                if (Objects.equals(stringlast, &quot;Worker&quot;)) {\n                    workercount--;\n                    countWorker.setText(String.valueOf(workercount));\n                    Toast.makeText(getApplicationContext(), &quot;Worker removed&quot;, Toast.LENGTH_SHORT).show();\n                }\n                if (Objects.equals(stringlast, &quot;Brood&quot;)) {\n                    broodcount--;\n                    countBrood.setText(String.valueOf(broodcount));\n                    Toast.makeText(getApplicationContext(), &quot;Brood removed&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                //If no undos left, hide button\n                if (canvasLayers.size() == 1)\n                {\n                    undoButton.setVisibility(GONE);\n                }\n\n            }\n        });\n\n@SuppressLint({&quot;ClickableViewAccessibility&quot;, &quot;SetTextI18n&quot;})\n    public boolean onTouch(View v, MotionEvent event) {\n        // handle touch events here\n        ImageView view = (ImageView) v;\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n            then = System.currentTimeMillis();\n        }\n\n        switch (event.getAction() &amp; MotionEvent.ACTION_MASK) {\n            case MotionEvent.ACTION_DOWN:\n                savedMatrix.set(matrix);\n                start.set(event.getX(), event.getY());\n                mode = DRAG;\n                break;\n            case MotionEvent.ACTION_POINTER_DOWN:\n                oldDist = spacing(event);\n                if (oldDist &gt; 10f) {\n                   savedMatrix.set(matrix);\n                    midPoint(mid, event);\n                    mode = ZOOM;\n               }\n                break;\n            case MotionEvent.ACTION_UP:\n                int longClickDuration = 2000;\n                if ((System.currentTimeMillis() - then) &gt; longClickDuration) {\n\n                    // calculate inverse matrix\n                    Matrix inverse = new Matrix();\n                    imgGallery.getImageMatrix().invert(inverse);\n                    touchPoint = new float[] {event.getX(), event.getY()};\n                    inverse.mapPoints(touchPoint);\n\n                    if (pictureadded) {\n                    txtQueen.setText(&quot;Queen:&quot;);\n                    countQueen.setText(String.valueOf(queencount));\n                    txtWorker.setText(&quot;Worker:&quot;);\n                    countWorker.setText(String.valueOf(workercount));\n                    txtBrood.setText(&quot;Brood:&quot;);\n                    countBrood.setText(String.valueOf(broodcount));\n\n                    Bitmap bitmap = imgGallery.getDrawingCache();\n                    Canvas drawCanvas = new Canvas(bitmap);\n                    Paint paint = new Paint();\n\n                        if (queensselected) {\n                            queencount++;\n                            countQueen.setText(String.valueOf(queencount));\n                            paint.setColor(Color.YELLOW);\n                            toast = &quot;Queen marked&quot;;\n                            markerStrings.add(&quot;Queen&quot;);\n                        }\n                        if (workersselected) {\n                            workercount++;\n                            countWorker.setText(String.valueOf(workercount));\n                            paint.setColor(Color.RED);\n                            toast = &quot;Worker marked&quot;;\n                            markerStrings.add(&quot;Worker&quot;);\n                        }\n                        if (broodselected) {\n                            broodcount++;\n                            countBrood.setText(String.valueOf(broodcount));\n                            paint.setColor(Color.WHITE);\n                            toast = &quot;Brood marked&quot;;\n                            markerStrings.add(&quot;Brood&quot;);\n\n                        }\n                        drawCanvas.drawCircle(touchPoint[0], touchPoint[1], 10, paint);\n                        imgGallery.setImageBitmap(bitmap);\n                        canvasLayers.add(drawCanvas);\n                        myVib.vibrate(50);\n                        undoButton.setVisibility(VISIBLE);\n                        Toast.makeText(getApplicationContext(), toast, Toast.LENGTH_SHORT).show();\n                        return false;\n                    }\n\n                }\n                break;\n            case MotionEvent.ACTION_POINTER_UP:\n                mode = NONE;\n                break;\n            case MotionEvent.ACTION_MOVE:\n                if (mode == DRAG) {\n                    matrix.set(savedMatrix);\n                    float dx = event.getX() - start.x;\n                    float dy = event.getY() - start.y;\n                    matrix.postTranslate(dx, dy);\n                }\n                else if (mode == ZOOM) {\n                    float newDist = spacing(event);\n                    if (newDist &gt; 10f) {\n                        matrix.set(savedMatrix);\n                        float scale = (newDist / oldDist);\n                        matrix.postScale(scale, scale, mid.x, mid.y);\n\n                    }\n                    float[] values = new float[9];\n                    matrix.getValues(values);\n                    float scaleX = values[Matrix.MSCALE_X];\n                    float scaleY = values[Matrix.MSCALE_Y];\n\n                    if(scaleX &lt;= 1f) {\n                        matrix.postScale((1f)/scaleX, (1f)/scaleY, mid.x, mid.y);\n                    } else if(scaleX &gt;= 3) {\n                        matrix.postScale((3f)/scaleX, (3f)/scaleY, mid.x, mid.y);\n                    }\n                }\n                break;\n        }\n        view.setImageMatrix(matrix);\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","swing","graphics","graphics2d","affinetransform"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690569355,"creation_date":1690559349,"answer_id":76789321,"question_id":76787716,"body_markdown":"I would reset the AffineTransform for the arrow head since needs an independent transformation on it before undergoing the main rotation and translation (which is already applied to the Graphics2D object. \r\n \r\n        \r\n```\r\nAT.translate(start.getCenterX(), start.getCenterY());\r\nAT.rotate(angle);\r\ng2d.transform(AT);\r\ng2d.draw(arrowShaft);    \r\n            \r\nAT.setToIdentity();\r\nAT.translate(length - arrowheadLength, 0);\r\nAT.rotate(Math.toRadians(-45));\r\nAT.shear(shearMultiplier, shearMultiplier);\r\ng2d.transform(AT);\r\ng2d.draw(arrowhead);  \r\n```\r\n\r\nOr alternatively, transform your head rectangle first, then the graphics coordinates, and then draw:\r\n\r\n```\r\nAffineTransform headTransform = new AffineTransform();\r\nheadTransform.translate(length - arrowheadLength, 0);\r\nheadTransform.rotate(Math.toRadians(-45));\r\nheadTransform.shear(shearMultiplier, shearMultiplier);\r\nShape arrowhead2 = headTransform.createTransformedShape(new Rectangle(new Dimension(16, 16)));\r\n\r\nAT.translate(start.getCenterX(), start.getCenterY());\r\nAT.rotate(angle);\r\n\r\ng2d.transform(AT);\r\ng2d.draw(arrowShaft);\r\ng2d.draw(arrowhead2);\r\n```\r\n\r\nEither way, the skewed rectangle needs its own transformation.\r\n\r\nBut having said this, I wouldn&#39;t even use affine transforms for this but rather the `java.awt.geom` library including Path2D, and then using basic geometry draw my arrow head and shaft as it is needed. This way, you can still use effective RenderingHints to anti-alias the drawn shapes:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.awt.geom.*;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class CanvasPane2 extends JPanel {\r\n    private static final int PREF_W = 1000;\r\n    private static final int PREF_H = 600;\r\n    private static final int ARROW_HEAD_LENGTH = 36;\r\n    private static final int ARROW_HEAD_WIDTH = 16;\r\n    private static final Color ARROW_HEAD_COLOR = Color.RED;\r\n    private static final Stroke ARROW_HEAD_STROKE = new BasicStroke(3f);\r\n    private double theta;\r\n    private double r;\r\n    private Line2D arrowShaft;\r\n    private Shape arrowHead;\r\n\r\n    public CanvasPane2() {\r\n        addMouseMotionListener(new MyMouse());\r\n    }\r\n    \r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(PREF_W, PREF_H);\r\n    }\r\n    \r\n    private class MyMouse extends MouseAdapter {\r\n        @Override\r\n        public void mouseMoved(MouseEvent e) {\r\n            int x1 = e.getX() - getWidth() / 2;\r\n            int y1 = e.getY() - getHeight() / 2;\r\n            theta = Math.atan2(y1, x1);\r\n            r = Point.distance(0, 0, x1, y1);\r\n            arrowHead = createArrowHead();\r\n            arrowShaft = createShaft();\r\n            repaint();\r\n        }\r\n    }\r\n    \r\n    private Line2D createShaft() {\r\n        double x = (r - ARROW_HEAD_LENGTH) * Math.cos(theta);\r\n        double y = (r - ARROW_HEAD_LENGTH) * Math.sin(theta);\r\n        \r\n        Line2D line = new Line2D.Double(transX(0), transY(0), transX(x), transY(y));\r\n        return line;\r\n    }\r\n    \r\n    private Shape createArrowHead() {\r\n        Path2D path = new Path2D.Double();\r\n        Point2D tip, base, right, left;\r\n\r\n        double tipX = r * Math.cos(theta);\r\n        double tipY = r * Math.sin(theta);\r\n        tip = new Point2D.Double(transX(tipX), transY(tipY));\r\n        \r\n        double baseR = (r - ARROW_HEAD_LENGTH);       \r\n        double baseX = baseR * Math.cos(theta);\r\n        double baseY = baseR * Math.sin(theta);        \r\n        base = new Point2D.Double(transX(baseX), transY(baseY));\r\n        \r\n        double sideR = r - ARROW_HEAD_LENGTH / 2.0;       \r\n        double deltaTheta = Math.atan2(ARROW_HEAD_WIDTH / 2.0, sideR); \r\n        \r\n        double rightX = sideR * Math.cos(theta + deltaTheta);\r\n        double rightY = sideR * Math.sin(theta + deltaTheta);        \r\n        right = new Point2D.Double(transX(rightX), transY(rightY));\r\n        \r\n        double leftX = sideR * Math.cos(theta - deltaTheta);\r\n        double leftY = sideR * Math.sin(theta - deltaTheta);        \r\n        left = new Point2D.Double(transX(leftX), transY(leftY));\r\n        \r\n        path.moveTo(tip.getX(), tip.getY());\r\n        path.lineTo(right.getX(), right.getY());\r\n        path.lineTo(base.getX(), base.getY());\r\n        path.lineTo(left.getX(), left.getY());\r\n        path.closePath();\r\n        return path;\r\n    }\r\n    \r\n    public double transX(double x0) {\r\n        return x0 + getWidth() / 2;\r\n    }\r\n\r\n    public double transY(double y0) {\r\n        return y0 + getHeight() / 2;\r\n    }\r\n\r\n    \r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        int delta = 5;\r\n        int x = getWidth() / 2 - delta;\r\n        int y = getHeight() / 2 - delta;\r\n        g2d.fill(new Rectangle(x, y, 2 * delta, 2 * delta));\r\n        \r\n        if (arrowShaft != null) {\r\n            g2d.draw(arrowShaft);\r\n        }\r\n        \r\n        if (arrowHead != null) {\r\n            Graphics2D g2dB = (Graphics2D) g2d.create();\r\n            g2dB.setColor(ARROW_HEAD_COLOR);\r\n            g2dB.setStroke(ARROW_HEAD_STROKE);\r\n            g2dB.fill(arrowHead);\r\n            g2dB.dispose();\r\n        }\r\n    }\r\n    \r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            CanvasPane2 mainPanel = new CanvasPane2();\r\n\r\n            JFrame frame = new JFrame(&quot;GUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nAs an aside, you will want to learn and use [Java naming conventions](http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java). Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HxHAe.gif","title":"Incorrect Position and Angle of Arrowhead with AffineTransform","body":"<p>I would reset the AffineTransform for the arrow head since needs an independent transformation on it before undergoing the main rotation and translation (which is already applied to the Graphics2D object.</p>\n<pre><code>AT.translate(start.getCenterX(), start.getCenterY());\nAT.rotate(angle);\ng2d.transform(AT);\ng2d.draw(arrowShaft);    \n            \nAT.setToIdentity();\nAT.translate(length - arrowheadLength, 0);\nAT.rotate(Math.toRadians(-45));\nAT.shear(shearMultiplier, shearMultiplier);\ng2d.transform(AT);\ng2d.draw(arrowhead);  \n</code></pre>\n<p>Or alternatively, transform your head rectangle first, then the graphics coordinates, and then draw:</p>\n<pre><code>AffineTransform headTransform = new AffineTransform();\nheadTransform.translate(length - arrowheadLength, 0);\nheadTransform.rotate(Math.toRadians(-45));\nheadTransform.shear(shearMultiplier, shearMultiplier);\nShape arrowhead2 = headTransform.createTransformedShape(new Rectangle(new Dimension(16, 16)));\n\nAT.translate(start.getCenterX(), start.getCenterY());\nAT.rotate(angle);\n\ng2d.transform(AT);\ng2d.draw(arrowShaft);\ng2d.draw(arrowhead2);\n</code></pre>\n<p>Either way, the skewed rectangle needs its own transformation.</p>\n<p>But having said this, I wouldn't even use affine transforms for this but rather the <code>java.awt.geom</code> library including Path2D, and then using basic geometry draw my arrow head and shaft as it is needed. This way, you can still use effective RenderingHints to anti-alias the drawn shapes:</p>\n<p><a href=\"https://i.stack.imgur.com/HxHAe.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HxHAe.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.geom.*;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class CanvasPane2 extends JPanel {\n    private static final int PREF_W = 1000;\n    private static final int PREF_H = 600;\n    private static final int ARROW_HEAD_LENGTH = 36;\n    private static final int ARROW_HEAD_WIDTH = 16;\n    private static final Color ARROW_HEAD_COLOR = Color.RED;\n    private static final Stroke ARROW_HEAD_STROKE = new BasicStroke(3f);\n    private double theta;\n    private double r;\n    private Line2D arrowShaft;\n    private Shape arrowHead;\n\n    public CanvasPane2() {\n        addMouseMotionListener(new MyMouse());\n    }\n    \n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(PREF_W, PREF_H);\n    }\n    \n    private class MyMouse extends MouseAdapter {\n        @Override\n        public void mouseMoved(MouseEvent e) {\n            int x1 = e.getX() - getWidth() / 2;\n            int y1 = e.getY() - getHeight() / 2;\n            theta = Math.atan2(y1, x1);\n            r = Point.distance(0, 0, x1, y1);\n            arrowHead = createArrowHead();\n            arrowShaft = createShaft();\n            repaint();\n        }\n    }\n    \n    private Line2D createShaft() {\n        double x = (r - ARROW_HEAD_LENGTH) * Math.cos(theta);\n        double y = (r - ARROW_HEAD_LENGTH) * Math.sin(theta);\n        \n        Line2D line = new Line2D.Double(transX(0), transY(0), transX(x), transY(y));\n        return line;\n    }\n    \n    private Shape createArrowHead() {\n        Path2D path = new Path2D.Double();\n        Point2D tip, base, right, left;\n\n        double tipX = r * Math.cos(theta);\n        double tipY = r * Math.sin(theta);\n        tip = new Point2D.Double(transX(tipX), transY(tipY));\n        \n        double baseR = (r - ARROW_HEAD_LENGTH);       \n        double baseX = baseR * Math.cos(theta);\n        double baseY = baseR * Math.sin(theta);        \n        base = new Point2D.Double(transX(baseX), transY(baseY));\n        \n        double sideR = r - ARROW_HEAD_LENGTH / 2.0;       \n        double deltaTheta = Math.atan2(ARROW_HEAD_WIDTH / 2.0, sideR); \n        \n        double rightX = sideR * Math.cos(theta + deltaTheta);\n        double rightY = sideR * Math.sin(theta + deltaTheta);        \n        right = new Point2D.Double(transX(rightX), transY(rightY));\n        \n        double leftX = sideR * Math.cos(theta - deltaTheta);\n        double leftY = sideR * Math.sin(theta - deltaTheta);        \n        left = new Point2D.Double(transX(leftX), transY(leftY));\n        \n        path.moveTo(tip.getX(), tip.getY());\n        path.lineTo(right.getX(), right.getY());\n        path.lineTo(base.getX(), base.getY());\n        path.lineTo(left.getX(), left.getY());\n        path.closePath();\n        return path;\n    }\n    \n    public double transX(double x0) {\n        return x0 + getWidth() / 2;\n    }\n\n    public double transY(double y0) {\n        return y0 + getHeight() / 2;\n    }\n\n    \n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        int delta = 5;\n        int x = getWidth() / 2 - delta;\n        int y = getHeight() / 2 - delta;\n        g2d.fill(new Rectangle(x, y, 2 * delta, 2 * delta));\n        \n        if (arrowShaft != null) {\n            g2d.draw(arrowShaft);\n        }\n        \n        if (arrowHead != null) {\n            Graphics2D g2dB = (Graphics2D) g2d.create();\n            g2dB.setColor(ARROW_HEAD_COLOR);\n            g2dB.setStroke(ARROW_HEAD_STROKE);\n            g2dB.fill(arrowHead);\n            g2dB.dispose();\n        }\n    }\n    \n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            CanvasPane2 mainPanel = new CanvasPane2();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p>As an aside, you will want to learn and use <a href=\"http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow noreferrer\">Java naming conventions</a>. Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.</p>\n"}],"owner":{"account_id":25110832,"reputation":45,"user_id":18960490,"display_name":"Jacky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76789321,"answer_count":1,"score":0,"last_activity_date":1690569355,"creation_date":1690546550,"question_id":76787716,"body_markdown":"I have written a test program using AffineTransform to draw an arrowhead. The program takes the center of the window as the starting point of the arrowhead and the mouse position as the ending point. However, the resulting arrowhead position and angle are incorrect. When my mouse is at the location of the green dot, the correct arrowhead position should be as shown by the red arrowhead in the image below. I&#39;m wondering what could be causing the incorrect arrowhead to be drawn.\r\n[![result][1]][1]\r\n\r\nThe logic I used to draw the entire arrowhead is as follows: \r\n- First, I draw a horizontal line with a length of (length - arrowheadLength) starting from the position (0,0).\r\n[![first][2]][2]\r\n\r\n- Then, I use (0,0) as the upper-left corner of a rectangle and apply shear and rotation to it before translating it to the right end of the horizontal line.\r\n[![second][3]][3]\r\n(shear)\r\n[![shear][4]][4]\r\n(rotate)\r\n[![rotate][5]][5]\r\n(translate)\r\n[![translate][6]][6]\r\n\r\n- Next, the entire arrowhead is rotated based on the calculated angle between the mouse and the start rectangle positions.\r\n[![next][7]][7]\r\n\r\n- Finally, the arrowhead is translated to the position of the start rectangle.\r\n[![finally][8]][8]\r\n\r\n\r\nBelow is the code for drawing the arrowhead:\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport javax.swing.event.MouseInputAdapter;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.geom.Line2D;\r\n\r\nclass CanvasPane extends JPanel {\r\n    Rectangle start = new Rectangle();\r\n    Line2D.Double arrowShaft = new Line2D.Double();\r\n    Rectangle arrowhead = new Rectangle(new Dimension(16, 16));\r\n    double shearMultiplier = 0.5;\r\n    double arrowheadLength = arrowhead.width * Math.sqrt(2) * (1 + shearMultiplier);\r\n    MouseEvent me;\r\n    double length, angle;\r\n\r\n    CanvasPane() {\r\n        setPreferredSize(new Dimension(1000, 600));\r\n\r\n        addMouseMotionListener(new MouseInputAdapter() {\r\n            @Override\r\n            public void mouseMoved(MouseEvent e)\r\n            {\r\n                me = e;\r\n                repaint();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g)\r\n    {\r\n        super.paintComponent(g);\r\n\r\n        start.setBounds(getWidth()/2 - 5, getHeight()/2 - 5, 10, 10);\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.fill(start);\r\n\r\n        if (me != null) {\r\n            length = Point.distance(start.getCenterX(), start.getCenterY(), me.getX(), me.getY());\r\n            angle = Math.atan2(me.getY() - start.getCenterY(), me.getX() - start.getCenterX());\r\n\r\n            arrowShaft.setLine(0, 0, length - arrowheadLength, 0);\r\n            AffineTransform storedTransform = g2d.getTransform();\r\n            AffineTransform AT = new AffineTransform();\r\n\r\n            AT.translate(start.getCenterX(), start.getCenterY());\r\n            AT.rotate(angle);\r\n            // For the arrowShaft, it is first rotated and then translated.\r\n            g2d.transform(AT);\r\n            g2d.draw(arrowShaft);\r\n\r\n            AT.translate(length - arrowheadLength, 0);\r\n            AT.rotate(Math.toRadians(-45));\r\n            AT.shear(shearMultiplier, shearMultiplier);\r\n            // For the arrowhead, it is first sheared, then rotated, translated, rotated again and finally translated.\r\n            g2d.transform(AT);\r\n            g2d.draw(arrowhead);\r\n\r\n            g2d.setTransform(storedTransform);\r\n        }\r\n    }\r\n}\r\n\r\npublic class DrawLine {\r\n    Container createContentPane() {\r\n        JPanel contentPane = new JPanel(new BorderLayout());\r\n        contentPane.setOpaque(true);\r\n        contentPane.add(new CanvasPane(), BorderLayout.CENTER);\r\n        return contentPane;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n            DrawLine drawLine = new DrawLine();\r\n            frame.setContentPane(drawLine.createContentPane());\r\n\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nCould you please help me identify what might be causing the incorrect position and angle of the arrowhead to be drawn? Thank you.\r\n\r\n  [1]: https://i.stack.imgur.com/lln5f.png\r\n  [2]: https://i.stack.imgur.com/FszFm.png\r\n  [3]: https://i.stack.imgur.com/sHirH.png\r\n  [4]: https://i.stack.imgur.com/9Q9kO.png\r\n  [5]: https://i.stack.imgur.com/Yi85e.png\r\n  [6]: https://i.stack.imgur.com/fOcQO.png\r\n  [7]: https://i.stack.imgur.com/T7Nb6.png\r\n  [8]: https://i.stack.imgur.com/LmTaK.png","title":"Incorrect Position and Angle of Arrowhead with AffineTransform","body":"<p>I have written a test program using AffineTransform to draw an arrowhead. The program takes the center of the window as the starting point of the arrowhead and the mouse position as the ending point. However, the resulting arrowhead position and angle are incorrect. When my mouse is at the location of the green dot, the correct arrowhead position should be as shown by the red arrowhead in the image below. I'm wondering what could be causing the incorrect arrowhead to be drawn.\n<a href=\"https://i.stack.imgur.com/lln5f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lln5f.png\" alt=\"result\" /></a></p>\n<p>The logic I used to draw the entire arrowhead is as follows:</p>\n<ul>\n<li><p>First, I draw a horizontal line with a length of (length - arrowheadLength) starting from the position (0,0).\n<a href=\"https://i.stack.imgur.com/FszFm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FszFm.png\" alt=\"first\" /></a></p>\n</li>\n<li><p>Then, I use (0,0) as the upper-left corner of a rectangle and apply shear and rotation to it before translating it to the right end of the horizontal line.\n<a href=\"https://i.stack.imgur.com/sHirH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sHirH.png\" alt=\"second\" /></a>\n(shear)\n<a href=\"https://i.stack.imgur.com/9Q9kO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Q9kO.png\" alt=\"shear\" /></a>\n(rotate)\n<a href=\"https://i.stack.imgur.com/Yi85e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yi85e.png\" alt=\"rotate\" /></a>\n(translate)\n<a href=\"https://i.stack.imgur.com/fOcQO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fOcQO.png\" alt=\"translate\" /></a></p>\n</li>\n<li><p>Next, the entire arrowhead is rotated based on the calculated angle between the mouse and the start rectangle positions.\n<a href=\"https://i.stack.imgur.com/T7Nb6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T7Nb6.png\" alt=\"next\" /></a></p>\n</li>\n<li><p>Finally, the arrowhead is translated to the position of the start rectangle.\n<a href=\"https://i.stack.imgur.com/LmTaK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LmTaK.png\" alt=\"finally\" /></a></p>\n</li>\n</ul>\n<p>Below is the code for drawing the arrowhead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport javax.swing.event.MouseInputAdapter;\nimport java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Line2D;\n\nclass CanvasPane extends JPanel {\n    Rectangle start = new Rectangle();\n    Line2D.Double arrowShaft = new Line2D.Double();\n    Rectangle arrowhead = new Rectangle(new Dimension(16, 16));\n    double shearMultiplier = 0.5;\n    double arrowheadLength = arrowhead.width * Math.sqrt(2) * (1 + shearMultiplier);\n    MouseEvent me;\n    double length, angle;\n\n    CanvasPane() {\n        setPreferredSize(new Dimension(1000, 600));\n\n        addMouseMotionListener(new MouseInputAdapter() {\n            @Override\n            public void mouseMoved(MouseEvent e)\n            {\n                me = e;\n                repaint();\n            }\n        });\n    }\n\n    @Override\n    protected void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);\n\n        start.setBounds(getWidth()/2 - 5, getHeight()/2 - 5, 10, 10);\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.fill(start);\n\n        if (me != null) {\n            length = Point.distance(start.getCenterX(), start.getCenterY(), me.getX(), me.getY());\n            angle = Math.atan2(me.getY() - start.getCenterY(), me.getX() - start.getCenterX());\n\n            arrowShaft.setLine(0, 0, length - arrowheadLength, 0);\n            AffineTransform storedTransform = g2d.getTransform();\n            AffineTransform AT = new AffineTransform();\n\n            AT.translate(start.getCenterX(), start.getCenterY());\n            AT.rotate(angle);\n            // For the arrowShaft, it is first rotated and then translated.\n            g2d.transform(AT);\n            g2d.draw(arrowShaft);\n\n            AT.translate(length - arrowheadLength, 0);\n            AT.rotate(Math.toRadians(-45));\n            AT.shear(shearMultiplier, shearMultiplier);\n            // For the arrowhead, it is first sheared, then rotated, translated, rotated again and finally translated.\n            g2d.transform(AT);\n            g2d.draw(arrowhead);\n\n            g2d.setTransform(storedTransform);\n        }\n    }\n}\n\npublic class DrawLine {\n    Container createContentPane() {\n        JPanel contentPane = new JPanel(new BorderLayout());\n        contentPane.setOpaque(true);\n        contentPane.add(new CanvasPane(), BorderLayout.CENTER);\n        return contentPane;\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame();\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            DrawLine drawLine = new DrawLine();\n            frame.setContentPane(drawLine.createContentPane());\n\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p>Could you please help me identify what might be causing the incorrect position and angle of the arrowhead to be drawn? Thank you.</p>\n"},{"tags":["java","recursion","random","nan"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1690465692,"post_id":76780184,"comment_id":135360187,"body_markdown":"Off-topic: You probably have a good reason for rolling your own. But, if if someone comes across this looking for a method to generate random numbers in a normal distribution, it [already exists](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html#nextGaussian())","body":"Off-topic: You probably have a good reason for rolling your own. But, if if someone comes across this looking for a method to generate random numbers in a normal distribution, it <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html#nextGaussian()\" rel=\"nofollow noreferrer\">already exists</a>"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1690468698,"post_id":76780184,"comment_id":135360934,"body_markdown":"Maybe your factorial function is overflowing such that you end up with a 0 in a denominator.","body":"Maybe your factorial function is overflowing such that you end up with a 0 in a denominator."}],"answers":[{"tags":[],"owner":{"account_id":20909129,"reputation":128,"user_id":15360395,"display_name":"Maximilian Grinik"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1690569308,"creation_date":1690464482,"answer_id":76780250,"question_id":76780184,"body_markdown":"**Possible Cases:**\r\n\r\n1. Division of zero by zero: When you divide zero by zero, the result is NaN.\r\n\r\n2. Division of a non-zero number by zero: Dividing a non-zero number by zero also results in NaN.\r\n\r\n3. Operations involving NaN: Any arithmetic operation involving NaN as an operand will produce NaN as the result.\r\n\r\n4. Mathematical functions with undefined values: Some mathematical functions may have undefined values for certain inputs, resulting in NaN.\r\n\r\n\r\nAlso it&#39;s **important** to note that comparing a value with NaN using the == operator will always return false. Instead, use the e.g. Double.isNaN() method to check if a value is NaN.","title":"What are all the cases that can result in a NaN output?(in Java)","body":"<p><strong>Possible Cases:</strong></p>\n<ol>\n<li><p>Division of zero by zero: When you divide zero by zero, the result is NaN.</p>\n</li>\n<li><p>Division of a non-zero number by zero: Dividing a non-zero number by zero also results in NaN.</p>\n</li>\n<li><p>Operations involving NaN: Any arithmetic operation involving NaN as an operand will produce NaN as the result.</p>\n</li>\n<li><p>Mathematical functions with undefined values: Some mathematical functions may have undefined values for certain inputs, resulting in NaN.</p>\n</li>\n</ol>\n<p>Also it's <strong>important</strong> to note that comparing a value with NaN using the == operator will always return false. Instead, use the e.g. Double.isNaN() method to check if a value is NaN.</p>\n"}],"owner":{"account_id":21261134,"reputation":1,"user_id":21118313,"display_name":"Rnishu _"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690569308,"creation_date":1690464080,"question_id":76780184,"body_markdown":"I am trying to make a random number generator that generates normally distributed numbers, I have a method CDF to calculate the CDF for any given x, then I have a method invNorm that uses Newton&#39;s method over 30 iterations that accepts a desired value and it finds x such that CDF(x)=desired.\r\n\r\n[This is the formula for estimation of CDF that ive implemented](https://i.stack.imgur.com/sK7ul.png)\r\n\r\n[This is the Newton&#39;s method formula I have used(on evaluation the denominator {\\Phi &#39;(x)} simplifies and can brought to the numerator](https://i.stack.imgur.com/huMEi.png)\r\n\r\n```\r\npublic double cdf(double x){\r\n        double out=0;\r\n        for(int k=0;k&lt;30;k++){\r\n            out+=Math.pow(-1,k)*Math.pow(x,(2*k)+1)/(Math.pow(2,k)*factorial(k)*((2*k)+1));\r\n        }\r\n        return 0.5+(out/Math.sqrt(2*Math.PI));\r\n    }\r\n    public double invNorm(double desired){\r\n        double x=0;\r\n        double dx;\r\n        for(int i=0;i&lt;30;i++){\r\n            dx=(cdf(x)-desired)*Math.exp(x*x*0.5)*Math.sqrt(2*Math.PI);\r\n            x-=dx;\r\n        } \r\n        return x;\r\n    }\r\n```\r\n\r\n\r\nBut this code is giving a NaN 10% of the time. When I ran the code to create a array of 100 random numbers and including this line &quot;while(Double.isNaN(arr[i])) arr[i]=Misc.invNorm(Math.random());&quot; that reassigns arr[i] if it got evaluated to NaN, the code ran perfectly and gave 70% value between the first standard deviations, 97 between the second and 100 between the third.The cdf function is definitely not the problem as I checked the cdf function by printing an array of 100 with cdf of random numbers and not a single one of them was NaN, but invNorm does not have any division at all and all powers are integers and there are no trigonometric functions. I considered the possibility of Math.exp returning positive infinity and (cdf(x)-desired) returning 0,but e^450 is not positive infinity and cdf(x) being equal to the desired value is very rare.\r\n\r\nWhile we are on the topic could someone also help me with the implementation of the recursive function for CDF? I tried implementing it like this, where cdf_n is the nth approximation, i consider x0=0, so CDF(x0)=0.5, but this gave NaN almost 60% of the time.\r\n\r\n```\r\npublic double cdf_n(double x,int n){\r\n        if(n==0){\r\n            return 0.5;\r\n        }\r\n        else if(n==1){\r\n            return 1/Math.sqrt(2*Math.PI);\r\n        }\r\n        else{\r\n            return (2-n)*cdf_n(x, n-2);\r\n        }\r\n    }\r\n    public double cdf(double x){\r\n        int n=0;\r\n        double out;\r\n        double cdf=0;\r\n        do{\r\n            out=cdf_n(x,n)*Math.pow(x,n)/factorial(n);\r\n            cdf+=out;\r\n            n++;\r\n        } while(Math.abs(out)&gt;Math.pow(10.0,-15.0));\r\n        return cdf;\r\n    }  \r\n```\r\n[This is the recursive formula](https://i.stack.imgur.com/0BmDn.png)\r\n","title":"What are all the cases that can result in a NaN output?(in Java)","body":"<p>I am trying to make a random number generator that generates normally distributed numbers, I have a method CDF to calculate the CDF for any given x, then I have a method invNorm that uses Newton's method over 30 iterations that accepts a desired value and it finds x such that CDF(x)=desired.</p>\n<p><a href=\"https://i.stack.imgur.com/sK7ul.png\" rel=\"nofollow noreferrer\">This is the formula for estimation of CDF that ive implemented</a></p>\n<p><a href=\"https://i.stack.imgur.com/huMEi.png\" rel=\"nofollow noreferrer\">This is the Newton's method formula I have used(on evaluation the denominator {\\Phi '(x)} simplifies and can brought to the numerator</a></p>\n<pre><code>public double cdf(double x){\n        double out=0;\n        for(int k=0;k&lt;30;k++){\n            out+=Math.pow(-1,k)*Math.pow(x,(2*k)+1)/(Math.pow(2,k)*factorial(k)*((2*k)+1));\n        }\n        return 0.5+(out/Math.sqrt(2*Math.PI));\n    }\n    public double invNorm(double desired){\n        double x=0;\n        double dx;\n        for(int i=0;i&lt;30;i++){\n            dx=(cdf(x)-desired)*Math.exp(x*x*0.5)*Math.sqrt(2*Math.PI);\n            x-=dx;\n        } \n        return x;\n    }\n</code></pre>\n<p>But this code is giving a NaN 10% of the time. When I ran the code to create a array of 100 random numbers and including this line &quot;while(Double.isNaN(arr[i])) arr[i]=Misc.invNorm(Math.random());&quot; that reassigns arr[i] if it got evaluated to NaN, the code ran perfectly and gave 70% value between the first standard deviations, 97 between the second and 100 between the third.The cdf function is definitely not the problem as I checked the cdf function by printing an array of 100 with cdf of random numbers and not a single one of them was NaN, but invNorm does not have any division at all and all powers are integers and there are no trigonometric functions. I considered the possibility of Math.exp returning positive infinity and (cdf(x)-desired) returning 0,but e^450 is not positive infinity and cdf(x) being equal to the desired value is very rare.</p>\n<p>While we are on the topic could someone also help me with the implementation of the recursive function for CDF? I tried implementing it like this, where cdf_n is the nth approximation, i consider x0=0, so CDF(x0)=0.5, but this gave NaN almost 60% of the time.</p>\n<pre><code>public double cdf_n(double x,int n){\n        if(n==0){\n            return 0.5;\n        }\n        else if(n==1){\n            return 1/Math.sqrt(2*Math.PI);\n        }\n        else{\n            return (2-n)*cdf_n(x, n-2);\n        }\n    }\n    public double cdf(double x){\n        int n=0;\n        double out;\n        double cdf=0;\n        do{\n            out=cdf_n(x,n)*Math.pow(x,n)/factorial(n);\n            cdf+=out;\n            n++;\n        } while(Math.abs(out)&gt;Math.pow(10.0,-15.0));\n        return cdf;\n    }  \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0BmDn.png\" rel=\"nofollow noreferrer\">This is the recursive formula</a></p>\n"},{"tags":["java","maven","amazon-s3","dependency-management"],"answers":[{"tags":[],"owner":{"account_id":382603,"reputation":9058,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472532405,"creation_date":1472532405,"answer_id":39218925,"question_id":39215174,"body_markdown":"You need to find out the logger name and then set the logger to error \r\n\r\n**Find the logger instance** \r\n\r\nIn the file `&lt;MAVEN_HOME&gt;/conf/logging/simplelogger.properties`.\r\nChange `org.slf4j.simpleLogger.showLogName=true`\r\nFind the logger which logs `Logged in` and `Logged off`\r\n\r\n**disable info logs for the logger instance**\r\n\r\nIf logger instance is `org.apache.maven.x.y.z`\r\nthen set `org.slf4j.simpleLogger.log.org.apache.maven.x.y.z = error`\r\n\r\nthis should not log info logs for that logger instance\r\n","title":"Too verbose logs when downloading artifacts in Maven","body":"<p>You need to find out the logger name and then set the logger to error </p>\n\n<p><strong>Find the logger instance</strong> </p>\n\n<p>In the file <code>&lt;MAVEN_HOME&gt;/conf/logging/simplelogger.properties</code>.\nChange <code>org.slf4j.simpleLogger.showLogName=true</code>\nFind the logger which logs <code>Logged in</code> and <code>Logged off</code></p>\n\n<p><strong>disable info logs for the logger instance</strong></p>\n\n<p>If logger instance is <code>org.apache.maven.x.y.z</code>\nthen set <code>org.slf4j.simpleLogger.log.org.apache.maven.x.y.z = error</code></p>\n\n<p>this should not log info logs for that logger instance</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653400088,"creation_date":1653400088,"answer_id":72364102,"question_id":39215174,"body_markdown":"You need two things:\r\n\r\n1. use either the `--no-transfer-progress` or `--batch-mode` parameter to suppress transfer progress output.\r\n2. pipe the output through `grep` to strip away all the downloading/downloaded messages without stripping away the uploading/uploaded messages.\r\n\r\nIn other words, you need to do this:\r\n\r\n    mvn --batch-mode ... bla bla bla ... | grep -v &#39;Download.* http&#39;\r\n","title":"Too verbose logs when downloading artifacts in Maven","body":"<p>You need two things:</p>\n<ol>\n<li>use either the <code>--no-transfer-progress</code> or <code>--batch-mode</code> parameter to suppress transfer progress output.</li>\n<li>pipe the output through <code>grep</code> to strip away all the downloading/downloaded messages without stripping away the uploading/uploaded messages.</li>\n</ol>\n<p>In other words, you need to do this:</p>\n<pre><code>mvn --batch-mode ... bla bla bla ... | grep -v 'Download.* http'\n</code></pre>\n"}],"owner":{"account_id":5906169,"reputation":10565,"user_id":4647853,"accept_rate":74,"display_name":"Michal Kordas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":946,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690568777,"creation_date":1472504577,"question_id":39215174,"body_markdown":"My console output when running Maven build is polluted with\r\n\r\n    [INFO] Logged in - repository.hid.com\r\n    [INFO] Downloading: s3://repository.hid.com/release/org/slf4j/slf4j-api/1.7.6/slf4j-api-1.7.6.pom\r\n    [INFO] Logged off - repository.hid.com\r\n    [INFO] Transfers: 1 Time: 43ms Amount: 0 bytes Throughput: 0.000 bytes/s\r\n    [INFO] Logged in - repository.hid.com\r\n    [INFO] Downloading: s3://repository.hid.com/release/org/slf4j/slf4j-parent/1.7.6/slf4j-parent-1.7.6.pom\r\n    [INFO] Logged off - repository.hid.com\r\n    [INFO] Transfers: 1 Time: 41ms Amount: 0 bytes Throughput: 0.000 bytes/s\r\n    [INFO] Logged in - repository.hid.com\r\n    [INFO] Downloading: s3://repository.hid.com/release/com/jcraft/jsch/0.1.42/jsch-0.1.42.pom\r\n    [INFO] Logged off - repository.hid.com\r\n\r\nIn `settings.xml` this repository is configured like\r\n\r\n    &lt;server&gt;\r\n      &lt;id&gt;repository.hid.com&lt;/id&gt;\r\n      &lt;username&gt;usr&lt;/username&gt;\r\n      &lt;password&gt;pwd&lt;/password&gt;\r\n    &lt;/server&gt;\r\n\r\nand then in `pom.xml`:\r\n\r\n     &lt;repository&gt;\r\n        &lt;id&gt;repository.hid.com&lt;/id&gt;\r\n        &lt;url&gt;s3://repository.hid.com/release&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n\r\nIs it possible to get rid of `Logged in` and `Logged off` messages or at least make just one connection per all artifacts?","title":"Too verbose logs when downloading artifacts in Maven","body":"<p>My console output when running Maven build is polluted with</p>\n\n<pre><code>[INFO] Logged in - repository.hid.com\n[INFO] Downloading: s3://repository.hid.com/release/org/slf4j/slf4j-api/1.7.6/slf4j-api-1.7.6.pom\n[INFO] Logged off - repository.hid.com\n[INFO] Transfers: 1 Time: 43ms Amount: 0 bytes Throughput: 0.000 bytes/s\n[INFO] Logged in - repository.hid.com\n[INFO] Downloading: s3://repository.hid.com/release/org/slf4j/slf4j-parent/1.7.6/slf4j-parent-1.7.6.pom\n[INFO] Logged off - repository.hid.com\n[INFO] Transfers: 1 Time: 41ms Amount: 0 bytes Throughput: 0.000 bytes/s\n[INFO] Logged in - repository.hid.com\n[INFO] Downloading: s3://repository.hid.com/release/com/jcraft/jsch/0.1.42/jsch-0.1.42.pom\n[INFO] Logged off - repository.hid.com\n</code></pre>\n\n<p>In <code>settings.xml</code> this repository is configured like</p>\n\n<pre><code>&lt;server&gt;\n  &lt;id&gt;repository.hid.com&lt;/id&gt;\n  &lt;username&gt;usr&lt;/username&gt;\n  &lt;password&gt;pwd&lt;/password&gt;\n&lt;/server&gt;\n</code></pre>\n\n<p>and then in <code>pom.xml</code>:</p>\n\n<pre><code> &lt;repository&gt;\n    &lt;id&gt;repository.hid.com&lt;/id&gt;\n    &lt;url&gt;s3://repository.hid.com/release&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n\n<p>Is it possible to get rid of <code>Logged in</code> and <code>Logged off</code> messages or at least make just one connection per all artifacts?</p>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":4257006,"reputation":694,"user_id":3482424,"accept_rate":80,"display_name":"Morten"},"score":0,"creation_date":1690566734,"post_id":76789992,"comment_id":135376774,"body_markdown":"I suggest you take a look at this post: https://stackoverflow.com/questions/28453541/java-make-sure-library-is-in-path-environment-variable Cheers. :-)","body":"I suggest you take a look at this post: <a href=\"https://stackoverflow.com/questions/28453541/java-make-sure-library-is-in-path-environment-variable\" title=\"java make sure library is in path environment variable\">stackoverflow.com/questions/28453541/&hellip;</a> Cheers. :-)"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690568744,"creation_date":1690568302,"answer_id":76790203,"question_id":76789992,"body_markdown":"On Windows the value of environment variable `Path` is used for System property `java.library.path`, so the following would include the folder &quot;whatever&quot; in library path:\r\n\r\n    set PATH=whatever;%PATH%\r\n\r\nOn Linux you can set environment variable `LD_LIBRARY_PATH`, this adds folder &quot;whatever&quot; to library path:\r\n\r\n    export LD_LIBRARY_PATH=whatever:$LD_LIBRARY_PATH\r\n\r\nNote that you need to be careful about relying on environment variables, and these variables aren&#39;t used if the `-Djava.library.path=` setting is used. \r\n\r\nAlternatively you could use `jpackage` to build executable version of your app and set `java.library.path` as part of the settings for the launch.","title":"Can I put the library path directly in the code?","body":"<p>On Windows the value of environment variable <code>Path</code> is used for System property <code>java.library.path</code>, so the following would include the folder &quot;whatever&quot; in library path:</p>\n<pre><code>set PATH=whatever;%PATH%\n</code></pre>\n<p>On Linux you can set environment variable <code>LD_LIBRARY_PATH</code>, this adds folder &quot;whatever&quot; to library path:</p>\n<pre><code>export LD_LIBRARY_PATH=whatever:$LD_LIBRARY_PATH\n</code></pre>\n<p>Note that you need to be careful about relying on environment variables, and these variables aren't used if the <code>-Djava.library.path=</code> setting is used.</p>\n<p>Alternatively you could use <code>jpackage</code> to build executable version of your app and set <code>java.library.path</code> as part of the settings for the launch.</p>\n"}],"owner":{"account_id":28903887,"reputation":1,"user_id":22138243,"display_name":"Pietro Cavicchioli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690568744,"creation_date":1690566208,"question_id":76789992,"body_markdown":"I&#39;m testing with JNI.\r\n\r\nSo currently I jave my .class file and my .so file in the same folder, the program actually runs fine, but when I want to run it I have to write:\r\n \r\n```\r\njava -Djava.library.path=. filename.class\r\n```\r\n\r\nSo that the .class can &quot;see&quot; the .so file.\r\n\r\nIs there a way to avoid writing `-Djava.library.path=.`?\r\n\r\n\r\n\r\nI&#39;ve researched online about this topic, but I can&#39;t seem to find anything useful","title":"Can I put the library path directly in the code?","body":"<p>I'm testing with JNI.</p>\n<p>So currently I jave my .class file and my .so file in the same folder, the program actually runs fine, but when I want to run it I have to write:</p>\n<pre><code>java -Djava.library.path=. filename.class\n</code></pre>\n<p>So that the .class can &quot;see&quot; the .so file.</p>\n<p>Is there a way to avoid writing <code>-Djava.library.path=.</code>?</p>\n<p>I've researched online about this topic, but I can't seem to find anything useful</p>\n"},{"tags":["java","eclipse","refactoring","sublimetext3","atom-editor"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1538067361,"post_id":52541244,"comment_id":92023473,"body_markdown":"Did you read [this one](https://stackoverflow.com/a/9460968/2834978)?","body":"Did you read <a href=\"https://stackoverflow.com/a/9460968/2834978\">this one</a>?"},{"owner":{"account_id":5425548,"reputation":6027,"user_id":4317945,"accept_rate":70,"display_name":"Gabe"},"score":3,"creation_date":1538068471,"post_id":52541244,"comment_id":92023981,"body_markdown":"Thanks for that @LuisMu&#241;oz. It does not work in the same way as Sublime/Atom/IntelliJ but better than nothing. (ALT+Shift+A - Multi line editing **only if aligned on the same column**).","body":"Thanks for that @LuisMu&#241;oz. It does not work in the same way as Sublime/Atom/IntelliJ but better than nothing. (ALT+Shift+A - Multi line editing <b>only if aligned on the same column</b>)."},{"owner":{"account_id":7082940,"reputation":460,"user_id":5420675,"display_name":"DarkFranX"},"score":2,"creation_date":1559148313,"post_id":52541244,"comment_id":99333522,"body_markdown":"I&#39;d still like to know if there&#39;s a plugin that would allow us to user the classical multi cursors","body":"I&#39;d still like to know if there&#39;s a plugin that would allow us to user the classical multi cursors"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690568401,"creation_date":1639237869,"answer_id":70316624,"question_id":52541244,"body_markdown":"Eclipse 4.22 (Q4 2021) now comes with:\r\n\r\n&gt; ## [Multiple text selection][1]\r\n&gt;\r\n&gt; Support for multiple selection has been added to Text Editors. \r\n&gt;\r\n&gt; Multi selections allow most edit operations (text replacement or insertion, extend selection to next word or to next line, copy/paste...) to apply simultaneously on all ranges.\r\n&gt;\r\n&gt; [![multi edit -- https://www.eclipse.org/eclipse/news/4.22/images/multi-carets.png][2]][2]\r\n&gt;\r\n&gt;Multiple strategies are available to enable multi-selections:\r\n&gt;\r\n&gt; - Turn a block selection into a multi-selection using the To multi-selection command,\r\n&gt; - Add a caret with &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Click&lt;/kbd&gt;,\r\n&gt; - Use the new `Select All` button on the `Find/Replace` dialog.\r\n\r\n----\r\n\r\nEclipse 4.24 (Q2 2022) comes with:\r\n\r\n&gt; ## [Action commands for multiple carets/selections][3]\r\n&gt;\r\n&gt; [![https://www.eclipse.org/eclipse/news/4.24/images/multi-selection-demo.gif][4]][4]\r\n&gt;\r\n&gt; That includes:\r\n&gt;\r\n&gt;  - Multi selection down relative to anchor selection (e.g. &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;J&lt;/kbd&gt;)\r\n&gt; - Multi selection up relative to anchor selection (e.g. &lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;J&lt;/kbd&gt;)\r\n&gt; - End multi-selection (e.g. &lt;kbd&gt;ESC&lt;/kbd&gt;)\r\n&gt; - Add all matches to multi-selection (e.g. &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Shift&lt;/kbd&gt;-&lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;J&lt;/kbd&gt;)\r\n&gt; - Multi caret up (e.g. &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;Shift&lt;/kbd&gt;-&lt;kbd&gt;Up&lt;/kbd&gt;)\r\n&gt; - Multi caret down (e.g. &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;Shift-&lt;kbd&gt;Down&lt;/kbd&gt;)\r\n\r\n----\r\n\r\nJuly 2023: [Manohar Bhat](https://stackoverflow.com/users/7293057/manohar-bhat) adds in [the comments](https://stackoverflow.com/questions/52541244/eclipse-multiple-line-editing-on-any-substring-like-in-sublime-text-and-atom/70316624#comment135376594_70316624):\r\n\r\n&gt;  One thing that is not supported and makes multi caret almost useless: After adding multi caret up or down at the beginning of two or more lines, if you press &lt;kbd&gt;ctrl&lt;/kbd&gt;+&lt;kbd&gt;shift&lt;/kbd&gt;+&lt;kbd&gt;right&lt;/kbd&gt;&lt;kbd&gt;&lt;/kbd&gt;, it should select next word&#39;s under all caret&#39;s.  \r\nBut it selects only one word and multi carets disappear. \r\n&gt;\r\n&gt; Same thing is also mentioned for DBeaver which is also based on eclipse framework, in [`dbeaver/dbeaver` issue 6064](https://github.com/dbeaver/dbeaver/issues/6064#issuecomment-1024359946): &quot;Add support for Multiple selections (multi-cursor)&quot;.\r\n\r\n  [1]: https://www.eclipse.org/eclipse/news/4.22/platform.php#multi-selection\r\n  [2]: https://i.stack.imgur.com/GPsCe.png\r\n  [3]: https://www.eclipse.org/eclipse/news/4.24/platform.php#multi-select-commands\r\n  [4]: https://i.stack.imgur.com/gsmI7.gif","title":"Eclipse - multiple line editing on any substring like in Sublime Text and Atom","body":"<p>Eclipse 4.22 (Q4 2021) now comes with:</p>\n<blockquote>\n<h2><a href=\"https://www.eclipse.org/eclipse/news/4.22/platform.php#multi-selection\" rel=\"nofollow noreferrer\">Multiple text selection</a></h2>\n<p>Support for multiple selection has been added to Text Editors.</p>\n<p>Multi selections allow most edit operations (text replacement or insertion, extend selection to next word or to next line, copy/paste...) to apply simultaneously on all ranges.</p>\n<p><a href=\"https://i.stack.imgur.com/GPsCe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GPsCe.png\" alt=\"multi edit -- https://www.eclipse.org/eclipse/news/4.22/images/multi-carets.png\" /></a></p>\n<p>Multiple strategies are available to enable multi-selections:</p>\n<ul>\n<li>Turn a block selection into a multi-selection using the To multi-selection command,</li>\n<li>Add a caret with <kbd>Alt</kbd>+<kbd>Click</kbd>,</li>\n<li>Use the new <code>Select All</code> button on the <code>Find/Replace</code> dialog.</li>\n</ul>\n</blockquote>\n<hr />\n<p>Eclipse 4.24 (Q2 2022) comes with:</p>\n<blockquote>\n<h2><a href=\"https://www.eclipse.org/eclipse/news/4.24/platform.php#multi-select-commands\" rel=\"nofollow noreferrer\">Action commands for multiple carets/selections</a></h2>\n<p><a href=\"https://i.stack.imgur.com/gsmI7.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gsmI7.gif\" alt=\"https://www.eclipse.org/eclipse/news/4.24/images/multi-selection-demo.gif\" /></a></p>\n<p>That includes:</p>\n<ul>\n<li>Multi selection down relative to anchor selection (e.g. <kbd>Ctrl</kbd>-<kbd>Alt</kbd>-<kbd>J</kbd>)</li>\n<li>Multi selection up relative to anchor selection (e.g. <kbd>Alt</kbd>-<kbd>J</kbd>)</li>\n<li>End multi-selection (e.g. <kbd>ESC</kbd>)</li>\n<li>Add all matches to multi-selection (e.g. <kbd>Ctrl</kbd>-<kbd>Shift</kbd>-<kbd>Alt</kbd>-<kbd>J</kbd>)</li>\n<li>Multi caret up (e.g. <kbd>Ctrl</kbd>-<kbd>Alt</kbd>-<kbd>Shift</kbd>-<kbd>Up</kbd>)</li>\n<li>Multi caret down (e.g. <kbd>Ctrl</kbd>-<kbd>Alt</kbd>-<kbd>Shift-<kbd>Down</kbd>)</li>\n</ul>\n</blockquote>\n<hr />\n<p>July 2023: <a href=\"https://stackoverflow.com/users/7293057/manohar-bhat\">Manohar Bhat</a> adds in <a href=\"https://stackoverflow.com/questions/52541244/eclipse-multiple-line-editing-on-any-substring-like-in-sublime-text-and-atom/70316624#comment135376594_70316624\">the comments</a>:</p>\n<blockquote>\n<p>One thing that is not supported and makes multi caret almost useless: After adding multi caret up or down at the beginning of two or more lines, if you press <kbd>ctrl</kbd>+<kbd>shift</kbd>+<kbd>right</kbd></kbd>, it should select next word's under all caret's.<br />\nBut it selects only one word and multi carets disappear.</p>\n<p>Same thing is also mentioned for DBeaver which is also based on eclipse framework, in <a href=\"https://github.com/dbeaver/dbeaver/issues/6064#issuecomment-1024359946\" rel=\"nofollow noreferrer\"><code>dbeaver/dbeaver</code> issue 6064</a>: &quot;Add support for Multiple selections (multi-cursor)&quot;.</p>\n</blockquote>\n"}],"owner":{"account_id":5425548,"reputation":6027,"user_id":4317945,"accept_rate":70,"display_name":"Gabe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2757,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1690568401,"creation_date":1538065061,"question_id":52541244,"body_markdown":"Is there nowadays any way to achieve in Eclipse multi-line editing **on any substring** like in Sublime and Atom? &lt;sub&gt;(CTRL+D for these)\r\n\r\nA reference to a Plugin would be ok too.\r\n( I found this plugin but it seems abandoned:\r\nhttps://github.com/caspark/eclipse-multicursor )\r\n\r\n&lt;sub&gt;I also found [this similar question](https://stackoverflow.com/questions/12583201/eclipse-multiple-text-selection-like-sublime-text-2) here on stackoverflow but it&#39;s 6 years old. Wondering whether something came out in the mean time.&lt;/sub&gt;\r\n\r\nThanks","title":"Eclipse - multiple line editing on any substring like in Sublime Text and Atom","body":"<p>Is there nowadays any way to achieve in Eclipse multi-line editing <strong>on any substring</strong> like in Sublime and Atom? <sub>(CTRL+D for these)</p>\n\n<p>A reference to a Plugin would be ok too.\n( I found this plugin but it seems abandoned:\n<a href=\"https://github.com/caspark/eclipse-multicursor\" rel=\"noreferrer\">https://github.com/caspark/eclipse-multicursor</a> )</p>\n\n<p>I also found <a href=\"https://stackoverflow.com/questions/12583201/eclipse-multiple-text-selection-like-sublime-text-2\">this similar question</a> here on stackoverflow but it's 6 years old. Wondering whether something came out in the mean time.</sub></p>\n\n<p>Thanks</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1690468223,"post_id":76780187,"comment_id":135360821,"body_markdown":"What does `java.time.Instant.now().toString()` give you?","body":"What does <code>java.time.Instant.now().toString()</code> give you?"},{"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"score":0,"creation_date":1690468772,"post_id":76780187,"comment_id":135360951,"body_markdown":"@k314159 this: 2023-07-27T14:39:12.220Z","body":"@k314159 this: 2023-07-27T14:39:12.220Z"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1690469767,"post_id":76780187,"comment_id":135361228,"body_markdown":"So it looks like your server is not returning microsecond-resolution times to the Java system clock. On Linux, the same string contains 9 decimal places instead of 3. So it&#39;s not log4j&#39;s fault, but it just can&#39;t get any higher precision from your server.","body":"So it looks like your server is not returning microsecond-resolution times to the Java system clock. On Linux, the same string contains 9 decimal places instead of 3. So it&#39;s not log4j&#39;s fault, but it just can&#39;t get any higher precision from your server."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1690526463,"post_id":76780187,"comment_id":135368830,"body_markdown":"How do you deploy your application? Do you deploy the original `log4j-core` jar file or do you put everything in an uber-jar?","body":"How do you deploy your application? Do you deploy the original <code>log4j-core</code> jar file or do you put everything in an uber-jar?"},{"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"score":0,"creation_date":1690530446,"post_id":76780187,"comment_id":135369533,"body_markdown":"@PiotrP.Karwasz deploying the original jar files (not an uber jar)","body":"@PiotrP.Karwasz deploying the original jar files (not an uber jar)"}],"answers":[{"tags":[],"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690465935,"creation_date":1690465935,"answer_id":76780443,"question_id":76780187,"body_markdown":"I am confused by your question it actually looks like you are getting microsecond precision 848000 (6 digits)?\r\n\r\n - One to three decimal digits (milliseconds).\r\n - Four to six decimal digits (microseconds).\r\n - Seven to nine decimal digits (nanoseconds).\r\n\r\nLog4j appears to be working correctly for you.  If you want more precision you could change to DEFAULT_NANO.\r\n\r\n    Pattern Layout\r\n    PatternLayout has additional options for the %d date format specifier:\r\n\r\n    %d{DEFAULT_MICROS} - e.g. 2012-11-02 14:34:02,123456\r\n    %d{DEFAULT_NANOS} - e.g. 2012-11-02 14:34:02,123456789\r\n    %d{ABSOLUTE_MICROS} - e.g. 14:34:02,123456\r\n    %d{ABSOLUTE_NANOS} - e.g. 14:34:02,123456789\r\n    %d{HH:mm:ss,nnnn} to %d{HH:mm:ss,nnnnnnnnn} - e.g. 14:34:02,1234 to \r\n    14:34:02,123456789\r\n    %d{dd MMM yyyy HH:mm:ss,nnnn} to %d{dd MMM yyyy HH:mm:ss,nnnnnnnnn} - \r\n    e.g. 02 Nov 2012 14:34:02,1234 to 02 Nov 2012 14:34:02,123456789","title":"log4j microsecond precision","body":"<p>I am confused by your question it actually looks like you are getting microsecond precision 848000 (6 digits)?</p>\n<ul>\n<li>One to three decimal digits (milliseconds).</li>\n<li>Four to six decimal digits (microseconds).</li>\n<li>Seven to nine decimal digits (nanoseconds).</li>\n</ul>\n<p>Log4j appears to be working correctly for you.  If you want more precision you could change to DEFAULT_NANO.</p>\n<pre><code>Pattern Layout\nPatternLayout has additional options for the %d date format specifier:\n\n%d{DEFAULT_MICROS} - e.g. 2012-11-02 14:34:02,123456\n%d{DEFAULT_NANOS} - e.g. 2012-11-02 14:34:02,123456789\n%d{ABSOLUTE_MICROS} - e.g. 14:34:02,123456\n%d{ABSOLUTE_NANOS} - e.g. 14:34:02,123456789\n%d{HH:mm:ss,nnnn} to %d{HH:mm:ss,nnnnnnnnn} - e.g. 14:34:02,1234 to \n14:34:02,123456789\n%d{dd MMM yyyy HH:mm:ss,nnnn} to %d{dd MMM yyyy HH:mm:ss,nnnnnnnnn} - \ne.g. 02 Nov 2012 14:34:02,1234 to 02 Nov 2012 14:34:02,123456789\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690568238,"creation_date":1690560675,"answer_id":76789461,"question_id":76780187,"body_markdown":"The `log4j-core` artifact is a [Multi-release JAR file](https://docs.oracle.com/en/java/javase/20/docs/specs/jar/jar.html) and the only class provided in both a JDK 8 and JDK 9+ version is a [`PreciseClock`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/time/PreciseClock.html) implementation. The JDK 8 version is based on [`System.currentTimeMillis()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#currentTimeMillis()) and has a millisecond precision. The improved JDK 9+ version is based on [`Clock.instant()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html#instant()) and has a much better precision.\r\n\r\nYou should check if your system supports multi-release jars. The most common way to lose MR support is to shade all jars into one, but the problem can also come from the application server: older application servers (pre-2017) lack multi-release support in their classloaders.","title":"log4j microsecond precision","body":"<p>The <code>log4j-core</code> artifact is a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/jar/jar.html\" rel=\"nofollow noreferrer\">Multi-release JAR file</a> and the only class provided in both a JDK 8 and JDK 9+ version is a <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/time/PreciseClock.html\" rel=\"nofollow noreferrer\"><code>PreciseClock</code></a> implementation. The JDK 8 version is based on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#currentTimeMillis()\" rel=\"nofollow noreferrer\"><code>System.currentTimeMillis()</code></a> and has a millisecond precision. The improved JDK 9+ version is based on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html#instant()\" rel=\"nofollow noreferrer\"><code>Clock.instant()</code></a> and has a much better precision.</p>\n<p>You should check if your system supports multi-release jars. The most common way to lose MR support is to shade all jars into one, but the problem can also come from the application server: older application servers (pre-2017) lack multi-release support in their classloaders.</p>\n"}],"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76789461,"answer_count":2,"score":1,"last_activity_date":1690568238,"creation_date":1690464102,"question_id":76780187,"body_markdown":"I am using log4j to send messages to ElasticSearch, with a Socket appender and a PatternLayout like this:  \r\n\r\n    &lt;PatternLayout pattern=&quot;{&amp;quot;time&amp;quot;: &amp;quot;%d{DEFAULT_MICROS}&amp;quot;, &amp;quot;message&amp;quot;: &amp;quot;%msg&amp;quot;}%n&quot;/&gt;  \r\n\r\nusing `%d{DEFAULT_MICROS}` to get microsecond precise dates as per the [documentation][1].\r\n\r\nBut this gives me only millisecond precision like so: `2023-07-27 15:13:11,848000` (the last 3 digits are always 0)\r\n\r\nThis similar [question][2] suggests that starting Java 9 and log4j 2.11.0, we can get microsecond precision, but I am using Java 11 and the latest log4j (2.20.0), running on Windows Server 2019 and getting only millisecond precision.  What am I missing ?  \r\nIt seems log4j is still using SimpleDateFormat? Can we get it to use the more modern time framework?\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/layouts.html\r\n  [2]: https://stackoverflow.com/questions/8376488/log4j-conversionpattern-timestamp-with-microseconds","title":"log4j microsecond precision","body":"<p>I am using log4j to send messages to ElasticSearch, with a Socket appender and a PatternLayout like this:</p>\n<pre><code>&lt;PatternLayout pattern=&quot;{&amp;quot;time&amp;quot;: &amp;quot;%d{DEFAULT_MICROS}&amp;quot;, &amp;quot;message&amp;quot;: &amp;quot;%msg&amp;quot;}%n&quot;/&gt;  \n</code></pre>\n<p>using <code>%d{DEFAULT_MICROS}</code> to get microsecond precise dates as per the <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>But this gives me only millisecond precision like so: <code>2023-07-27 15:13:11,848000</code> (the last 3 digits are always 0)</p>\n<p>This similar <a href=\"https://stackoverflow.com/questions/8376488/log4j-conversionpattern-timestamp-with-microseconds\">question</a> suggests that starting Java 9 and log4j 2.11.0, we can get microsecond precision, but I am using Java 11 and the latest log4j (2.20.0), running on Windows Server 2019 and getting only millisecond precision.  What am I missing ?<br />\nIt seems log4j is still using SimpleDateFormat? Can we get it to use the more modern time framework?</p>\n"},{"tags":["java","charts","swtchart"],"owner":{"account_id":19526279,"reputation":43,"user_id":14287068,"display_name":"Yanosik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690568107,"creation_date":1689757749,"question_id":76719645,"body_markdown":"I have a problem in which I&#39;m trying to display a few types of data in a single chart and it&#39;s not going well.  \r\nFirst of all, I have one series of data that is supposed to be displayed as a line chart, and then I have to add some bar charts. The number of bars depends on other conditions but it will be a number between 3 and 5. Each bar series is supposed to be created as a new IBarSeries because I have to check if each of them is bigger than the line chart value and change its color if true.    \r\nThe main function that creates char data looks like that \r\n\r\n ```\r\nprivate void setChartData( final List&lt;double[]&gt; ListOfAllSeries )\r\n    {   \r\n        NumberFormat integerFormat = NumberFormat.getIntegerInstance();\r\n        \r\n        ILineSeries lineSeries = (ILineSeries) chart.getSeriesSet().createSeries( SeriesType.LINE, &quot;LineSeries&quot; );\r\n        lineSeries.setYSeries( ListOfAllSeries.get( 1 ) );\r\n        lineSeries.setVisibleInLegend(false);\r\n\r\n        for(int i = 0; i &lt; ListOfAllSeries.get(0).length; i++)\r\n        {\r\n        \tcreateBarSeries(&quot;BarSeries &quot; + i,new double[] { series1.get(0)[i]}, new double[] {i},ListOfAllSeries.get(1)[i]);\r\n        }        \r\n\r\n        xAxis.getTick().setFormat( integerFormat );\r\n        chart.getAxisSet().adjustRange();\r\n        chart.getAxisSet().getXAxis(0).setRange(new Range(-0.5, ListOfAllSeries.get(0).length - 0.5));\r\n        chart.redraw();\r\n    }\r\n```\r\n\r\nIndex 0 of ListOfAllSeries always contains all bars data and in index 1 is line series data.  \r\n\r\nAnd here is createBarSeries function that creates bar series\r\n```\r\n\r\n    private void createBarSeries(String seriesName, double[] yValues, double[] xValues, double lineValue)\r\n    {\r\n    \tIBarSeries barSeries = (IBarSeries) chart.getSeriesSet().createSeries(SeriesType.BAR,seriesName);\r\n    \tbarSeries.setYSeries(yValues);\r\n    \tbarSeries.setXSeries(xValues);\r\n    \tbarSeries.setBarColor(yValues[0] &gt; lineValue ? redColor : blueColor);\r\n    \tbarSeries.setBarWidth(50);\r\n    \tbarSeries.setBarPadding(0);\r\n    }\r\n```\r\n\r\nThe problem is that bars, excluding the center bar, are shifted on the x-axis. For example, if there are supposed to be 3 bars, the center one will be in place but every other will be shifted from place and I want them to be exactly in the right spot. I tried different technics but nothing seems to work. ","title":"Displaying diffrent series in the same chart using swtchart","body":"<p>I have a problem in which I'm trying to display a few types of data in a single chart and it's not going well.<br />\nFirst of all, I have one series of data that is supposed to be displayed as a line chart, and then I have to add some bar charts. The number of bars depends on other conditions but it will be a number between 3 and 5. Each bar series is supposed to be created as a new IBarSeries because I have to check if each of them is bigger than the line chart value and change its color if true.<br />\nThe main function that creates char data looks like that</p>\n<pre><code>private void setChartData( final List&lt;double[]&gt; ListOfAllSeries )\n   {   \n       NumberFormat integerFormat = NumberFormat.getIntegerInstance();\n       \n       ILineSeries lineSeries = (ILineSeries) chart.getSeriesSet().createSeries( SeriesType.LINE, &quot;LineSeries&quot; );\n       lineSeries.setYSeries( ListOfAllSeries.get( 1 ) );\n       lineSeries.setVisibleInLegend(false);\n\n       for(int i = 0; i &lt; ListOfAllSeries.get(0).length; i++)\n       {\n           createBarSeries(&quot;BarSeries &quot; + i,new double[] { series1.get(0)[i]}, new double[] {i},ListOfAllSeries.get(1)[i]);\n       }        \n\n       xAxis.getTick().setFormat( integerFormat );\n       chart.getAxisSet().adjustRange();\n       chart.getAxisSet().getXAxis(0).setRange(new Range(-0.5, ListOfAllSeries.get(0).length - 0.5));\n       chart.redraw();\n   }\n</code></pre>\n<p>Index 0 of ListOfAllSeries always contains all bars data and in index 1 is line series data.</p>\n<p>And here is createBarSeries function that creates bar series</p>\n<pre><code>\n    private void createBarSeries(String seriesName, double[] yValues, double[] xValues, double lineValue)\n    {\n        IBarSeries barSeries = (IBarSeries) chart.getSeriesSet().createSeries(SeriesType.BAR,seriesName);\n        barSeries.setYSeries(yValues);\n        barSeries.setXSeries(xValues);\n        barSeries.setBarColor(yValues[0] &gt; lineValue ? redColor : blueColor);\n        barSeries.setBarWidth(50);\n        barSeries.setBarPadding(0);\n    }\n</code></pre>\n<p>The problem is that bars, excluding the center bar, are shifted on the x-axis. For example, if there are supposed to be 3 bars, the center one will be in place but every other will be shifted from place and I want them to be exactly in the right spot. I tried different technics but nothing seems to work.</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"score":0,"creation_date":1690050737,"post_id":76745283,"comment_id":135300223,"body_markdown":"I am unable to understand where I made the mistake if I get help asap it will save my day please consider helping .Have a good day thanks in advance if anyone helps","body":"I am unable to understand where I made the mistake if I get help asap it will save my day please consider helping .Have a good day thanks in advance if anyone helps"}],"answers":[{"tags":[],"owner":{"account_id":29071038,"reputation":26,"user_id":22269387,"display_name":"Dif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690059332,"creation_date":1690059332,"answer_id":76745745,"question_id":76745283,"body_markdown":"Based on the provided code, it seems like you are using MappingJacksonValue and SimpleBeanPropertyFilter from Jackson to apply dynamic filtering to the JSON response. The code looks correct, and the response for the endpoint ***/filtering-list*** looks fine. However, the issue might be related to the configuration or usage of the filter.\r\n\r\nBelow, I suggest some points to check:\r\n\r\n**1.** Verify if the ObjectMapper bean is correctly configured in the application. Make sure to register the FilterProvider with the ObjectMapper bean so that it recognizes the filter.\r\n\r\n**2.** Ensure that the SomeBean class is annotated with @JsonFilter(&quot;SomeBeanFilter&quot;), which you already have correctly.\r\n\r\n**3.** Check for any other filter or interceptor configurations that may be affecting the JSON response.\r\n\r\n**4.** Make sure you are accessing the correct URL for the endpoint ***/filtering***.\r\n\r\nAn example to configure the bean:\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\r\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\r\n\r\n@Configuration\r\npublic class JacksonConfig {\r\n    @Bean\r\n    public ObjectMapper objectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        FilterProvider filters = new SimpleFilterProvider().addFilter(&quot;SomeBeanFilter&quot;,\r\n                SimpleBeanPropertyFilter.serializeAllExcept(&quot;field2&quot;));\r\n        objectMapper.setFilterProvider(filters);\r\n        return objectMapper;\r\n    }\r\n}\r\n```\r\n\r\nIf you have tried the above steps and the issue persists, I recommend checking for other custom configurations, filters, or interceptors that might be interfering with the filtering process. Additionally, review if there are any error logs or exceptions when accessing the ***/filtering*** endpoint.","title":"Simple Spring boot filter not working properly","body":"<p>Based on the provided code, it seems like you are using MappingJacksonValue and SimpleBeanPropertyFilter from Jackson to apply dynamic filtering to the JSON response. The code looks correct, and the response for the endpoint <em><strong>/filtering-list</strong></em> looks fine. However, the issue might be related to the configuration or usage of the filter.</p>\n<p>Below, I suggest some points to check:</p>\n<p><strong>1.</strong> Verify if the ObjectMapper bean is correctly configured in the application. Make sure to register the FilterProvider with the ObjectMapper bean so that it recognizes the filter.</p>\n<p><strong>2.</strong> Ensure that the SomeBean class is annotated with @JsonFilter(&quot;SomeBeanFilter&quot;), which you already have correctly.</p>\n<p><strong>3.</strong> Check for any other filter or interceptor configurations that may be affecting the JSON response.</p>\n<p><strong>4.</strong> Make sure you are accessing the correct URL for the endpoint <em><strong>/filtering</strong></em>.</p>\n<p>An example to configure the bean:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\n\n@Configuration\npublic class JacksonConfig {\n    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        FilterProvider filters = new SimpleFilterProvider().addFilter(&quot;SomeBeanFilter&quot;,\n                SimpleBeanPropertyFilter.serializeAllExcept(&quot;field2&quot;));\n        objectMapper.setFilterProvider(filters);\n        return objectMapper;\n    }\n}\n</code></pre>\n<p>If you have tried the above steps and the issue persists, I recommend checking for other custom configurations, filters, or interceptors that might be interfering with the filtering process. Additionally, review if there are any error logs or exceptions when accessing the <em><strong>/filtering</strong></em> endpoint.</p>\n"},{"tags":[],"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690276732,"creation_date":1690276732,"answer_id":76761229,"question_id":76745283,"body_markdown":"I found out my mistake I had put the @JsonFilter(&quot;someBeanFilter&quot;) annotation on the String property field2 instead of the class . I put it on the class and now everything works fine .","title":"Simple Spring boot filter not working properly","body":"<p>I found out my mistake I had put the @JsonFilter(&quot;someBeanFilter&quot;) annotation on the String property field2 instead of the class . I put it on the class and now everything works fine .</p>\n"}],"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76745745,"answer_count":2,"score":0,"last_activity_date":1690567915,"creation_date":1690050654,"question_id":76745283,"body_markdown":"I am trying to access an endpoint of a spring boot application with some filters applied on it but the filters are not working properly.I need some help regarding this problem I am providing the suspective things below. \r\n\r\n```\r\npackage com.ronit.Restfulwebservice.filtering;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport org.springframework.http.converter.json.MappingJacksonValue;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\r\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\r\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\r\n\r\n@RestController\r\npublic class FilteringController {\r\n\t@GetMapping(&quot;/filtering&quot;)\r\n\tpublic MappingJacksonValue filtering() {\r\n\t\t\r\n\t\tSomeBean someBean = new SomeBean(&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;);\r\n\t\t\r\n\t\tMappingJacksonValue mappingJacksonValue = new MappingJacksonValue(someBean);\r\n\t\t\r\n\t\tSimpleBeanPropertyFilter filter = \r\n\t\t\t\tSimpleBeanPropertyFilter.filterOutAllExcept(&quot;field1&quot;,&quot;field3&quot;);\r\n\t\t\r\n\t\tFilterProvider filters = \r\n\t\t\t\tnew SimpleFilterProvider().addFilter(&quot;SomeBeanFilter&quot;, filter);\r\n\t\t\r\n\t\tmappingJacksonValue.setFilters(filters);\r\n\t\t\r\n\t\treturn mappingJacksonValue;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/filtering-list&quot;)\r\n\tpublic MappingJacksonValue filteringList() {\r\n\t\t\r\n\t\tList&lt;SomeBean&gt; list = Arrays.asList(new SomeBean(&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;),\r\n\t\t\t\tnew SomeBean(&quot;value4&quot;, &quot;value5&quot;, &quot;value6&quot;));\r\n\t\t\r\n\t\tMappingJacksonValue mappingJacksonValue = new MappingJacksonValue(list);\r\n\t\t\r\n\t\tSimpleBeanPropertyFilter filter = \r\n\t\t\t\tSimpleBeanPropertyFilter.filterOutAllExcept(&quot;field2&quot;);\r\n\t\t\r\n\t\tFilterProvider filters = \r\n\t\t\t\tnew SimpleFilterProvider().addFilter(&quot;SomeBeanFilter&quot;, filter);\r\n\t\t\r\n\t\tmappingJacksonValue.setFilters(filters);\r\n\t\t\r\n\t\treturn mappingJacksonValue;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the SomeBean class \r\n\r\n\r\n```\r\npackage com.ronit.Restfulwebservice.filtering;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonFilter;\r\n//@JsonIgnoreProperties({&quot;field1&quot;})\r\npublic class SomeBean {\r\n\tprivate String field1;\r\n\t//@JsonIgnore\r\n\t@JsonFilter(&quot;SomeBeanFilter&quot;)\r\n\t//@JsonFilter(&quot;ListFilter&quot;)\r\n\tprivate String field2;\r\n\tprivate String field3;\r\n\r\n\tpublic SomeBean(String field1, String field2, String field3) {\r\n\t\tsuper();\r\n\t\tthis.field1 = field1;\r\n\t\tthis.field2 = field2;\r\n\t\tthis.field3 = field3;\r\n\t}\r\n\r\n\tpublic String getField1() {\r\n\t\treturn field1;\r\n\t}\r\n\r\n\tpublic String getField2() {\r\n\t\treturn field2;\r\n\t}\r\n\r\n\tpublic String getField3() {\r\n\t\treturn field3;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;SomeBean [field1=&quot; + field1 + &quot;, field2=&quot; + field2 + &quot;, field3=&quot; + field3 + &quot;]&quot;;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the Application class\r\n\r\n\r\n```\r\npackage com.ronit.Restfulwebservice;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class RestfulWebServiceApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(RestfulWebServiceApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nThe application.properties file\r\n\r\n\r\n```\r\nlogging.level.org.springframework=debug\r\n\r\n```\r\n\r\nThe pom.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ronit&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Restful-web-service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Restful-web-service&lt;/name&gt;\r\n\t&lt;description&gt;My first rest api &lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;--&gt;\r\n\t\t\t&lt;!-- This dependency below converts json file to xml format without this dependency\r\n\t\t\t xml instead of json is given to the browser and the browser displays the same --&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nJson response for http://localhost:8080/filtering-list endpoint\r\n```\r\n[\r\n{\r\n&quot;field1&quot;: &quot;value1&quot;,\r\n&quot;field2&quot;: &quot;value2&quot;,\r\n&quot;field3&quot;: &quot;value3&quot;\r\n},\r\n{\r\n&quot;field1&quot;: &quot;value4&quot;,\r\n&quot;field2&quot;: &quot;value5&quot;,\r\n&quot;field3&quot;: &quot;value6&quot;\r\n}\r\n]\r\n```\r\nJson response for http://localhost:8080/filtering endpoint\r\n\r\n```\r\n{\r\n&quot;field1&quot;: &quot;value1&quot;,\r\n&quot;field2&quot;: &quot;value2&quot;,\r\n&quot;field3&quot;: &quot;value3&quot;\r\n}\r\n```\r\n\r\n\r\nI am following a course on udemy I made the exact same thing in the tutorial and followed the step by step guide on github and built the exact same thing but it is not working . I have searched online for solutions but I found none please help me with this problem . If more details on anything is required please ask thanks in advance","title":"Simple Spring boot filter not working properly","body":"<p>I am trying to access an endpoint of a spring boot application with some filters applied on it but the filters are not working properly.I need some help regarding this problem I am providing the suspective things below.</p>\n<pre><code>package com.ronit.Restfulwebservice.filtering;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.springframework.http.converter.json.MappingJacksonValue;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\n\n@RestController\npublic class FilteringController {\n    @GetMapping(&quot;/filtering&quot;)\n    public MappingJacksonValue filtering() {\n        \n        SomeBean someBean = new SomeBean(&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;);\n        \n        MappingJacksonValue mappingJacksonValue = new MappingJacksonValue(someBean);\n        \n        SimpleBeanPropertyFilter filter = \n                SimpleBeanPropertyFilter.filterOutAllExcept(&quot;field1&quot;,&quot;field3&quot;);\n        \n        FilterProvider filters = \n                new SimpleFilterProvider().addFilter(&quot;SomeBeanFilter&quot;, filter);\n        \n        mappingJacksonValue.setFilters(filters);\n        \n        return mappingJacksonValue;\n    }\n\n    @GetMapping(&quot;/filtering-list&quot;)\n    public MappingJacksonValue filteringList() {\n        \n        List&lt;SomeBean&gt; list = Arrays.asList(new SomeBean(&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;),\n                new SomeBean(&quot;value4&quot;, &quot;value5&quot;, &quot;value6&quot;));\n        \n        MappingJacksonValue mappingJacksonValue = new MappingJacksonValue(list);\n        \n        SimpleBeanPropertyFilter filter = \n                SimpleBeanPropertyFilter.filterOutAllExcept(&quot;field2&quot;);\n        \n        FilterProvider filters = \n                new SimpleFilterProvider().addFilter(&quot;SomeBeanFilter&quot;, filter);\n        \n        mappingJacksonValue.setFilters(filters);\n        \n        return mappingJacksonValue;\n    }\n}\n\n</code></pre>\n<p>This is the SomeBean class</p>\n<pre><code>package com.ronit.Restfulwebservice.filtering;\n\nimport com.fasterxml.jackson.annotation.JsonFilter;\n//@JsonIgnoreProperties({&quot;field1&quot;})\npublic class SomeBean {\n    private String field1;\n    //@JsonIgnore\n    @JsonFilter(&quot;SomeBeanFilter&quot;)\n    //@JsonFilter(&quot;ListFilter&quot;)\n    private String field2;\n    private String field3;\n\n    public SomeBean(String field1, String field2, String field3) {\n        super();\n        this.field1 = field1;\n        this.field2 = field2;\n        this.field3 = field3;\n    }\n\n    public String getField1() {\n        return field1;\n    }\n\n    public String getField2() {\n        return field2;\n    }\n\n    public String getField3() {\n        return field3;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;SomeBean [field1=&quot; + field1 + &quot;, field2=&quot; + field2 + &quot;, field3=&quot; + field3 + &quot;]&quot;;\n    }\n}\n\n</code></pre>\n<p>This is the Application class</p>\n<pre><code>package com.ronit.Restfulwebservice;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class RestfulWebServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RestfulWebServiceApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>The application.properties file</p>\n<pre><code>logging.level.org.springframework=debug\n\n</code></pre>\n<p>The pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ronit&lt;/groupId&gt;\n    &lt;artifactId&gt;Restful-web-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Restful-web-service&lt;/name&gt;\n    &lt;description&gt;My first rest api &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n            &lt;/dependency&gt;--&gt;\n            &lt;!-- This dependency below converts json file to xml format without this dependency\n             xml instead of json is given to the browser and the browser displays the same --&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Json response for http://localhost:8080/filtering-list endpoint</p>\n<pre><code>[\n{\n&quot;field1&quot;: &quot;value1&quot;,\n&quot;field2&quot;: &quot;value2&quot;,\n&quot;field3&quot;: &quot;value3&quot;\n},\n{\n&quot;field1&quot;: &quot;value4&quot;,\n&quot;field2&quot;: &quot;value5&quot;,\n&quot;field3&quot;: &quot;value6&quot;\n}\n]\n</code></pre>\n<p>Json response for http://localhost:8080/filtering endpoint</p>\n<pre><code>{\n&quot;field1&quot;: &quot;value1&quot;,\n&quot;field2&quot;: &quot;value2&quot;,\n&quot;field3&quot;: &quot;value3&quot;\n}\n</code></pre>\n<p>I am following a course on udemy I made the exact same thing in the tutorial and followed the step by step guide on github and built the exact same thing but it is not working . I have searched online for solutions but I found none please help me with this problem . If more details on anything is required please ask thanks in advance</p>\n"},{"tags":["java","selenium-webdriver","automation","microsoft-edge"],"comments":[{"owner":{"account_id":29100479,"reputation":11,"user_id":22292389,"display_name":"Yogesh Pawar"},"score":0,"creation_date":1690438379,"post_id":76776928,"comment_id":135354388,"body_markdown":"i tried using chromedriver but there is an issue with new chromedriver so i decided to go with edge driver but its also not working","body":"i tried using chromedriver but there is an issue with new chromedriver so i decided to go with edge driver but its also not working"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690446064,"creation_date":1690446064,"answer_id":76777806,"question_id":76776928,"body_markdown":"Just like the way you passed the full path of the [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) executable along with the extension as:\r\n\r\n\tC:\\\\Users\\\\yoges\\\\Downloads\\\\chromedriver-win32 (1)\\\\chromedriver-win32.exe\r\n\t\r\nSimilarly, you also have to pass the full path of the [EdgeDriver](https://stackoverflow.com/a/59927747/7429447) executable along with the extension as follows:\r\n\r\n\tC:\\\\Users\\\\yoges\\\\Downloads\\\\edgedriver_win64\\\\edgedriver.exe","title":"SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server using Selenium and Java","body":"<p>Just like the way you passed the full path of the <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> executable along with the extension as:</p>\n<pre><code>C:\\\\Users\\\\yoges\\\\Downloads\\\\chromedriver-win32 (1)\\\\chromedriver-win32.exe\n</code></pre>\n<p>Similarly, you also have to pass the full path of the <a href=\"https://stackoverflow.com/a/59927747/7429447\">EdgeDriver</a> executable along with the extension as follows:</p>\n<pre><code>C:\\\\Users\\\\yoges\\\\Downloads\\\\edgedriver_win64\\\\edgedriver.exe\n</code></pre>\n"}],"owner":{"account_id":29100479,"reputation":11,"user_id":22292389,"display_name":"Yogesh Pawar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690567680,"creation_date":1690438292,"question_id":76776928,"body_markdown":"I am using microsoft edge driver for the automation and driver is not responding. This is the error message I am not getting:\r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n    Host info: host: &#39;YOGESH&#39;, ip: &#39;192.168.1.7&#39;\r\n    Build info: version: &#39;4.10.0&#39;, revision: &#39;c14d967899&#39;\r\n    System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.7\r\n    Driver info: org.openqa.selenium.edge.EdgeDrivertext\r\n\r\nConsole error image:\r\n\r\n![console error image](https://i.stack.imgur.com/HQw9q.png)","title":"SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server using Selenium and Java","body":"<p>I am using microsoft edge driver for the automation and driver is not responding. This is the error message I am not getting:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'YOGESH', ip: '192.168.1.7'\nBuild info: version: '4.10.0', revision: 'c14d967899'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.7\nDriver info: org.openqa.selenium.edge.EdgeDrivertext\n</code></pre>\n<p>Console error image:</p>\n<p><img src=\"https://i.stack.imgur.com/HQw9q.png\" alt=\"console error image\" /></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":27742746,"reputation":61,"user_id":21178886,"display_name":"Piterek237"},"score":0,"creation_date":1690446120,"post_id":76777507,"comment_id":135355802,"body_markdown":"First off work on Your code, cause it is unreadable. What are those variablees? You&#39;re variable names tells us anything.","body":"First off work on Your code, cause it is unreadable. What are those variablees? You&#39;re variable names tells us anything."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1690471501,"post_id":76777507,"comment_id":135361630,"body_markdown":"The `OnCheckedChangeListener` for `radioGroup1` either has two `OnClickListener`s with the 10% listener firing second, or only the listener for 10%, as written (depending on how this is works at runtime, I&#39;ve never written anything for Android). Change your `if` statements to have their `then` clauses as blocks(`{}`) and this will be easier to see. Also, since you are using an IDE, you should consider not using Hungarian notation.","body":"The <code>OnCheckedChangeListener</code> for <code>radioGroup1</code> either has two <code>OnClickListener</code>s with the 10% listener firing second, or only the listener for 10%, as written (depending on how this is works at runtime, I&#39;ve never written anything for Android). Change your <code>if</code> statements to have their <code>then</code> clauses as blocks(<code>{}</code>) and this will be easier to see. Also, since you are using an IDE, you should consider not using Hungarian notation."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690471535,"post_id":76777507,"comment_id":135361638,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29046727,"reputation":1,"user_id":22250402,"display_name":"Lia Harsono"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690567623,"creation_date":1690443677,"question_id":76777507,"body_markdown":"i&#39;m doing some project related to cafe menu and the calculation. i&#39;m using a radio group for differentiate between 0% discount and 10% discount. When i click the radio button for 10% discount the code is working, but when i choose the radio button for the 0% discount the code isn&#39;t working. the result will be the same as 10% discount. Here&#39;s the code\r\n```\r\npackage com.example.fo_liaharsono_proj_cafestekom;\r\n\r\nimport android.os.Bundle;\r\nimport android.app.Activity;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.CheckBox;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends Activity {\r\n\tTextView edHrgAyamG,edHrgAyamC,edHrgKentang,edHrgSoft,edHrgAir,edSubTotal,edStatus,edBayar;\r\n\tCheckBox cbAyamG,cbAyamC,cbKentang,cbSoft,cbAir;\r\n\tRadioGroup radioGroup1;\r\n\tRadioButton rgTunai,rgCredit;\r\n\tButton btnPesan;\r\n\t\r\n\tprivate boolean checked;\r\n\tprivate double dSubTotal;\r\n\tprivate double dBayar;\r\n\tprivate double dHrgAyamG;\r\n\tprivate double dHrgAyamC;\r\n\tprivate double dHrgKentang;\r\n\tprivate double dHrgSoft;\r\n\tprivate double dHrgAir;\r\n\tprivate double Diskon;\r\n\t\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        edHrgAyamG = (TextView)findViewById(R.id.edHrgAyamG);\r\n        edHrgAyamC = (TextView)findViewById(R.id.edHrgAyamC);\r\n        edHrgKentang = (TextView)findViewById(R.id.edHrgKentang);\r\n        edHrgSoft = (TextView)findViewById(R.id.edHrgSoft);\r\n        edHrgAir = (TextView)findViewById(R.id.edHrgAir);\r\n        edSubTotal = (TextView)findViewById(R.id.edSubTotal);\r\n        edStatus = (TextView)findViewById(R.id.edStatus);\r\n        edBayar = (TextView)findViewById(R.id.edBayar);\r\n        \r\n        cbAyamG = (CheckBox)findViewById(R.id.cbAyamG);\r\n        cbAyamC = (CheckBox)findViewById(R.id.cbAyamC);\r\n        cbKentang = (CheckBox)findViewById(R.id.cbKentang);\r\n        cbSoft = (CheckBox)findViewById(R.id.cbSoft);\r\n        cbAir = (CheckBox)findViewById(R.id.cbAir);\r\n        \r\n        radioGroup1 = (RadioGroup)findViewById(R.id.radioGroup1);\r\n        rgTunai = (RadioButton)findViewById(R.id.rgTunai);\r\n        rgCredit = (RadioButton)findViewById(R.id.rgCredit);\r\n        \r\n        btnPesan = (Button)findViewById(R.id.btnPesan);\r\n    \r\nradioGroup1.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n\t\r\n\t@Override\r\n\tpublic void onCheckedChanged(RadioGroup arg0, int arg1) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tif(rgTunai.isChecked())\r\n\t\t\tedStatus.setText(&quot;Pembayaran Tunai Diskon 0%&quot;);\r\n\t\tbtnPesan.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tdSubTotal = (dHrgAyamG)+(dHrgAyamC)+(dHrgKentang)+(dHrgSoft)+(dHrgAir);\r\n\t\t\t\tDiskon = (dSubTotal*0)/100;\r\n\t\t\t\tdBayar = (dSubTotal-Diskon)*1000;\r\n\t\t\t\tedBayar.setText(&quot;Rp.  &quot;+dBayar);\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(rgCredit.isChecked())\r\n\t\t\tedStatus.setText(&quot;Pembayaran Credit Diskon 10%&quot;);\r\n\t\tbtnPesan.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tdSubTotal = (dHrgAyamG)+(dHrgAyamC)+(dHrgKentang)+(dHrgSoft)+(dHrgAir);\r\n\t\t\t\tDiskon = (dSubTotal*10)/100;\r\n\t\t\t\tdBayar = (dSubTotal-Diskon)*1000;\r\n\t\t\t\tedBayar.setText(&quot;Rp. &quot;+dBayar);\r\n\t\t\t}\r\n\t\t\t});  \r\n\t\t\t}\r\n\t\t});\r\n\t\t};   \t\t\r\n    \t\r\n    \r\n    public void KlikCheckBox(View v){\r\n    \tchecked = ((CheckBox)v).isChecked();\r\n    \tswitch (v.getId()){\r\n    \tcase R.id.cbAyamG:\r\n    \t\tif(checked)edHrgAyamG.setText(&quot;15.000&quot;);\r\n    \t\telse edHrgAyamG.setText(&quot;0&quot;);\r\n    \t\tbreak;\r\n    \tcase R.id.cbAyamC:\r\n    \t\tif(checked)edHrgAyamC.setText(&quot;12.000&quot;);\r\n    \t\telse edHrgAyamC.setText(&quot;0&quot;);\r\n    \t\tbreak;\r\n    \tcase R.id.cbKentang:\r\n    \t\tif(checked)edHrgKentang.setText(&quot;10.000&quot;);\r\n    \t\telse edHrgKentang.setText(&quot;0&quot;);\r\n    \t\tbreak;\r\n    \tcase R.id.cbSoft:\r\n    \t\tif(checked)edHrgSoft.setText(&quot;5.000&quot;);\r\n    \t\telse edHrgSoft.setText(&quot;0&quot;);\r\n    \t\tbreak;\r\n    \tcase R.id.cbAir:\r\n    \t\tif(checked)edHrgAir.setText(&quot;3.000&quot;);\r\n    \t\telse edHrgAir.setText(&quot;0&quot;);\r\n    \t\tbreak;\r\n    \t}\r\n    \tdHrgAyamG = Double.parseDouble(edHrgAyamG.getText().toString());\r\n    \tdHrgAyamC = Double.parseDouble(edHrgAyamC.getText().toString());\r\n    \tdHrgKentang = Double.parseDouble(edHrgKentang.getText().toString());\r\n    \tdHrgSoft = Double.parseDouble(edHrgSoft.getText().toString());\r\n    \tdHrgAir = Double.parseDouble(edHrgAir.getText().toString());\r\n    \t\r\n    \tdSubTotal = ((dHrgAyamG)+(dHrgAyamC)+(dHrgKentang)+(dHrgSoft)+(dHrgAir))*1000;\r\n    \tedSubTotal.setText(&quot;&quot;+dSubTotal);\r\n    }\r\n}\r\n```\r\n\r\n\r\ni&#39;m trying to figure out whats wrong but still can&#39;t find the answer","title":"Calculation using radio group not working","body":"<p>i'm doing some project related to cafe menu and the calculation. i'm using a radio group for differentiate between 0% discount and 10% discount. When i click the radio button for 10% discount the code is working, but when i choose the radio button for the 0% discount the code isn't working. the result will be the same as 10% discount. Here's the code</p>\n<pre><code>package com.example.fo_liaharsono_proj_cafestekom;\n\nimport android.os.Bundle;\nimport android.app.Activity;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.CheckBox;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\n\npublic class MainActivity extends Activity {\n    TextView edHrgAyamG,edHrgAyamC,edHrgKentang,edHrgSoft,edHrgAir,edSubTotal,edStatus,edBayar;\n    CheckBox cbAyamG,cbAyamC,cbKentang,cbSoft,cbAir;\n    RadioGroup radioGroup1;\n    RadioButton rgTunai,rgCredit;\n    Button btnPesan;\n    \n    private boolean checked;\n    private double dSubTotal;\n    private double dBayar;\n    private double dHrgAyamG;\n    private double dHrgAyamC;\n    private double dHrgKentang;\n    private double dHrgSoft;\n    private double dHrgAir;\n    private double Diskon;\n    \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        edHrgAyamG = (TextView)findViewById(R.id.edHrgAyamG);\n        edHrgAyamC = (TextView)findViewById(R.id.edHrgAyamC);\n        edHrgKentang = (TextView)findViewById(R.id.edHrgKentang);\n        edHrgSoft = (TextView)findViewById(R.id.edHrgSoft);\n        edHrgAir = (TextView)findViewById(R.id.edHrgAir);\n        edSubTotal = (TextView)findViewById(R.id.edSubTotal);\n        edStatus = (TextView)findViewById(R.id.edStatus);\n        edBayar = (TextView)findViewById(R.id.edBayar);\n        \n        cbAyamG = (CheckBox)findViewById(R.id.cbAyamG);\n        cbAyamC = (CheckBox)findViewById(R.id.cbAyamC);\n        cbKentang = (CheckBox)findViewById(R.id.cbKentang);\n        cbSoft = (CheckBox)findViewById(R.id.cbSoft);\n        cbAir = (CheckBox)findViewById(R.id.cbAir);\n        \n        radioGroup1 = (RadioGroup)findViewById(R.id.radioGroup1);\n        rgTunai = (RadioButton)findViewById(R.id.rgTunai);\n        rgCredit = (RadioButton)findViewById(R.id.rgCredit);\n        \n        btnPesan = (Button)findViewById(R.id.btnPesan);\n    \nradioGroup1.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n    \n    @Override\n    public void onCheckedChanged(RadioGroup arg0, int arg1) {\n        // TODO Auto-generated method stub\n        if(rgTunai.isChecked())\n            edStatus.setText(&quot;Pembayaran Tunai Diskon 0%&quot;);\n        btnPesan.setOnClickListener(new View.OnClickListener() {\n            \n            @Override\n            public void onClick(View arg0) {\n                // TODO Auto-generated method stub\n                dSubTotal = (dHrgAyamG)+(dHrgAyamC)+(dHrgKentang)+(dHrgSoft)+(dHrgAir);\n                Diskon = (dSubTotal*0)/100;\n                dBayar = (dSubTotal-Diskon)*1000;\n                edBayar.setText(&quot;Rp.  &quot;+dBayar);\n            }\n        });\n        if(rgCredit.isChecked())\n            edStatus.setText(&quot;Pembayaran Credit Diskon 10%&quot;);\n        btnPesan.setOnClickListener(new View.OnClickListener() {\n            \n            @Override\n            public void onClick(View arg0) {\n                // TODO Auto-generated method stub\n                dSubTotal = (dHrgAyamG)+(dHrgAyamC)+(dHrgKentang)+(dHrgSoft)+(dHrgAir);\n                Diskon = (dSubTotal*10)/100;\n                dBayar = (dSubTotal-Diskon)*1000;\n                edBayar.setText(&quot;Rp. &quot;+dBayar);\n            }\n            });  \n            }\n        });\n        };          \n        \n    \n    public void KlikCheckBox(View v){\n        checked = ((CheckBox)v).isChecked();\n        switch (v.getId()){\n        case R.id.cbAyamG:\n            if(checked)edHrgAyamG.setText(&quot;15.000&quot;);\n            else edHrgAyamG.setText(&quot;0&quot;);\n            break;\n        case R.id.cbAyamC:\n            if(checked)edHrgAyamC.setText(&quot;12.000&quot;);\n            else edHrgAyamC.setText(&quot;0&quot;);\n            break;\n        case R.id.cbKentang:\n            if(checked)edHrgKentang.setText(&quot;10.000&quot;);\n            else edHrgKentang.setText(&quot;0&quot;);\n            break;\n        case R.id.cbSoft:\n            if(checked)edHrgSoft.setText(&quot;5.000&quot;);\n            else edHrgSoft.setText(&quot;0&quot;);\n            break;\n        case R.id.cbAir:\n            if(checked)edHrgAir.setText(&quot;3.000&quot;);\n            else edHrgAir.setText(&quot;0&quot;);\n            break;\n        }\n        dHrgAyamG = Double.parseDouble(edHrgAyamG.getText().toString());\n        dHrgAyamC = Double.parseDouble(edHrgAyamC.getText().toString());\n        dHrgKentang = Double.parseDouble(edHrgKentang.getText().toString());\n        dHrgSoft = Double.parseDouble(edHrgSoft.getText().toString());\n        dHrgAir = Double.parseDouble(edHrgAir.getText().toString());\n        \n        dSubTotal = ((dHrgAyamG)+(dHrgAyamC)+(dHrgKentang)+(dHrgSoft)+(dHrgAir))*1000;\n        edSubTotal.setText(&quot;&quot;+dSubTotal);\n    }\n}\n</code></pre>\n<p>i'm trying to figure out whats wrong but still can't find the answer</p>\n"},{"tags":["java","ubuntu","ant","nutch"],"answers":[{"tags":[],"owner":{"account_id":10239512,"reputation":1324,"user_id":7557361,"display_name":"Nicomedes E."},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1492513456,"creation_date":1492513456,"answer_id":43470428,"question_id":43469620,"body_markdown":"Try to comment all this part in `build.xml`:\r\n\r\n      &lt;!-- ================================================================== --&gt;\r\n      &lt;!-- SONAR targets                                                      --&gt;\r\n      &lt;!-- ================================================================== --&gt;\r\n      \r\n      &lt;!-- Define the Sonar task if this hasn&#39;t been done in a common script --&gt;\r\n      &lt;taskdef uri=&quot;antlib:org.sonar.ant&quot; resource=&quot;org/sonar/ant/antlib.xml&quot;&gt;\r\n        &lt;classpath path=&quot;${ant.library.dir}&quot;/&gt;\r\n        &lt;classpath path=&quot;${mysql.library.dir}&quot;/&gt;\r\n      &lt;/taskdef&gt;\r\n      \r\n      &lt;!-- Add the target --&gt;\r\n      &lt;target name=&quot;sonar&quot; description=&quot;--&gt; run SONAR analysis&quot;&gt;\r\n        \r\n        &lt;!-- list of mandatory source directories (required) --&gt;\r\n        &lt;property name=&quot;sonar.sources&quot; value=&quot;${src.dir}&quot;/&gt;\r\n     \r\n        &lt;!-- list of properties (optional) --&gt;\r\n        &lt;property name=&quot;sonar.projectName&quot; value=&quot;Nutch Trunk 1.4 Sonar Analysis&quot; /&gt;\r\n        &lt;property name=&quot;sonar.binaries&quot; value=&quot;${build.dir}/classes&quot; /&gt;\r\n        &lt;property name=&quot;sonar.binaries&quot; value=&quot;${build.dir}/plugins&quot; /&gt;\r\n        &lt;property name=&quot;sonar.tests&quot; value=&quot;${test.src.dir}&quot; /&gt;\r\n    \r\n        &lt;sonar:sonar workDir=&quot;${base.dir}&quot; key=&quot;org.apache.nutch:trunk&quot; \r\n         version=&quot;1.4-SNAPSHOT&quot; xmlns:sonar=&quot;antlib:org.sonar.ant&quot;/&gt;\r\n      &lt;/target&gt;\r\n\r\nin this way, it should work.","title":"Nutch - Could not load definitions from resource org/sonar/ant/antlib.xml","body":"<p>Try to comment all this part in <code>build.xml</code>:</p>\n\n<pre><code>  &lt;!-- ================================================================== --&gt;\n  &lt;!-- SONAR targets                                                      --&gt;\n  &lt;!-- ================================================================== --&gt;\n\n  &lt;!-- Define the Sonar task if this hasn't been done in a common script --&gt;\n  &lt;taskdef uri=\"antlib:org.sonar.ant\" resource=\"org/sonar/ant/antlib.xml\"&gt;\n    &lt;classpath path=\"${ant.library.dir}\"/&gt;\n    &lt;classpath path=\"${mysql.library.dir}\"/&gt;\n  &lt;/taskdef&gt;\n\n  &lt;!-- Add the target --&gt;\n  &lt;target name=\"sonar\" description=\"--&gt; run SONAR analysis\"&gt;\n\n    &lt;!-- list of mandatory source directories (required) --&gt;\n    &lt;property name=\"sonar.sources\" value=\"${src.dir}\"/&gt;\n\n    &lt;!-- list of properties (optional) --&gt;\n    &lt;property name=\"sonar.projectName\" value=\"Nutch Trunk 1.4 Sonar Analysis\" /&gt;\n    &lt;property name=\"sonar.binaries\" value=\"${build.dir}/classes\" /&gt;\n    &lt;property name=\"sonar.binaries\" value=\"${build.dir}/plugins\" /&gt;\n    &lt;property name=\"sonar.tests\" value=\"${test.src.dir}\" /&gt;\n\n    &lt;sonar:sonar workDir=\"${base.dir}\" key=\"org.apache.nutch:trunk\" \n     version=\"1.4-SNAPSHOT\" xmlns:sonar=\"antlib:org.sonar.ant\"/&gt;\n  &lt;/target&gt;\n</code></pre>\n\n<p>in this way, it should work.</p>\n"},{"tags":[],"owner":{"account_id":9782480,"reputation":57,"user_id":7249929,"display_name":"Nani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690567070,"creation_date":1690567070,"answer_id":76790075,"question_id":43469620,"body_markdown":"I know the question is an old one, but felt the answer might help someone else.\r\n\r\nSetting sonarqube for java ant project with configuration specified in [sonarqube-setup-for-ant][1] throws error &#39;could not fine exception...&#39;\r\n\r\nSolution: try replacing the &#39;*&#39; defined in the \r\n\r\n    &lt;classpath path=&quot;/usr/share/ant/lib/sonarqube-ant-task-*.jar&quot; /&gt;\r\n\r\nTarget tag:\r\n```\r\n&lt;target name=&quot;sonar&quot;&gt;\r\n    &lt;taskdef uri=&quot;antlib:org.sonar.ant&quot; resource=&quot;org/sonar/ant/antlib.xml&quot;&gt;\r\n        &lt;!-- Update the following line, or put the &quot;sonarqube-ant-task-*.jar&quot; file in your &quot;$HOME/.ant/lib&quot; folder --&gt;\r\n        &lt;classpath path=&quot;path/to/sonar/ant/task/lib/sonarqube-ant-task-*.jar&quot; /&gt;\r\n    &lt;/taskdef&gt;\r\n \r\n    &lt;!-- Execute SonarScanner for Ant Analysis --&gt;\r\n    &lt;sonar:sonar /&gt;\r\n&lt;/target&gt;\r\n```\r\n\r\n\r\n  [1]: https://pmpl.cs.ui.ac.id/sonarqube/documentation/analysis/scan/sonarscanner-for-ant/#use","title":"Nutch - Could not load definitions from resource org/sonar/ant/antlib.xml","body":"<p>I know the question is an old one, but felt the answer might help someone else.</p>\n<p>Setting sonarqube for java ant project with configuration specified in <a href=\"https://pmpl.cs.ui.ac.id/sonarqube/documentation/analysis/scan/sonarscanner-for-ant/#use\" rel=\"nofollow noreferrer\">sonarqube-setup-for-ant</a> throws error 'could not fine exception...'</p>\n<p>Solution: try replacing the '*' defined in the</p>\n<pre><code>&lt;classpath path=&quot;/usr/share/ant/lib/sonarqube-ant-task-*.jar&quot; /&gt;\n</code></pre>\n<p>Target tag:</p>\n<pre><code>&lt;target name=&quot;sonar&quot;&gt;\n    &lt;taskdef uri=&quot;antlib:org.sonar.ant&quot; resource=&quot;org/sonar/ant/antlib.xml&quot;&gt;\n        &lt;!-- Update the following line, or put the &quot;sonarqube-ant-task-*.jar&quot; file in your &quot;$HOME/.ant/lib&quot; folder --&gt;\n        &lt;classpath path=&quot;path/to/sonar/ant/task/lib/sonarqube-ant-task-*.jar&quot; /&gt;\n    &lt;/taskdef&gt;\n \n    &lt;!-- Execute SonarScanner for Ant Analysis --&gt;\n    &lt;sonar:sonar /&gt;\n&lt;/target&gt;\n</code></pre>\n"}],"owner":{"account_id":8633454,"reputation":37,"user_id":6464408,"display_name":"Kaiux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43470428,"answer_count":2,"score":2,"last_activity_date":1690567070,"creation_date":1492511152,"question_id":43469620,"body_markdown":"I&#39;m learning  [Nutch][1] through the official guide. So when I run  [Ant][2] at bin directory, it says: \r\n\r\n&gt; &quot;Could not load definitions from resource `org/sonar/ant/antlib.xml`. It\r\n&gt; could not be found.&quot;\r\n\r\n I&#39;ve spent a lot of time in google to solve it, but I failed. My OS is Ubuntu16.04.\r\n\r\n![enter image description][3]\r\n\r\n\r\n  [1]: http://nutch.apache.org/\r\n  [2]: http://ant.apache.org/\r\n  [3]: https://i.stack.imgur.com/nmmaq.png","title":"Nutch - Could not load definitions from resource org/sonar/ant/antlib.xml","body":"<p>I'm learning  <a href=\"http://nutch.apache.org/\" rel=\"nofollow noreferrer\">Nutch</a> through the official guide. So when I run  <a href=\"http://ant.apache.org/\" rel=\"nofollow noreferrer\">Ant</a> at bin directory, it says: </p>\n\n<blockquote>\n  <p>\"Could not load definitions from resource <code>org/sonar/ant/antlib.xml</code>. It\n  could not be found.\"</p>\n</blockquote>\n\n<p>I've spent a lot of time in google to solve it, but I failed. My OS is Ubuntu16.04.</p>\n\n<p><img src=\"https://i.stack.imgur.com/nmmaq.png\" alt=\"enter image description\"></p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":1730446,"reputation":7868,"user_id":1584167,"display_name":"udalmik"},"score":0,"creation_date":1406629891,"post_id":25013103,"comment_id":38895249,"body_markdown":"Check your pom.xml for 2.4.3 version","body":"Check your pom.xml for 2.4.3 version"},{"owner":{"account_id":963492,"reputation":10559,"user_id":987339,"display_name":"user987339"},"score":0,"creation_date":1406629953,"post_id":25013103,"comment_id":38895282,"body_markdown":"possible duplicate of [Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved](http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources\">Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved</a>"},{"owner":{"account_id":1785335,"reputation":3954,"user_id":1626906,"accept_rate":78,"display_name":"hiway"},"score":0,"creation_date":1406630238,"post_id":25013103,"comment_id":38895419,"body_markdown":"@user987339, I already red this post, I dont understand why new maven project not use 2.5?","body":"@user987339, I already red this post, I dont understand why new maven project not use 2.5?"},{"owner":{"account_id":1785335,"reputation":3954,"user_id":1626906,"accept_rate":78,"display_name":"hiway"},"score":0,"creation_date":1406630307,"post_id":25013103,"comment_id":38895462,"body_markdown":"@udalmik, how to check ? I dont add any plugin or dependency in pom.xml.  `&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;entry&lt;/groupId&gt;\n  &lt;artifactId&gt;task&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n&lt;/project&gt;`","body":"@udalmik, how to check ? I dont add any plugin or dependency in pom.xml.  <code>&lt;project xmlns=&quot;http:&#47;&#47;maven.apache.org&#47;POM&#47;4.0.0&quot; xmlns:xsi=&quot;http:&#47;&#47;www.w3.org&#47;2001&#47;XMLSchema-instance&quot; xsi:schemaLocation=&quot;http:&#47;&#47;maven.apache.org&#47;POM&#47;4.0.0 http:&#47;&#47;maven.apache.org&#47;xsd&#47;maven-4.0.0.xsd&quot;&gt;   &lt;modelVersion&gt;4.0.0&lt;&#47;modelVersion&gt;   &lt;groupId&gt;entry&lt;&#47;groupId&gt;   &lt;artifactId&gt;task&lt;&#47;artifactId&gt;   &lt;version&gt;0.0.1-SNAPSHOT&lt;&#47;version&gt;   &lt;packaging&gt;war&lt;&#47;packaging&gt; &lt;&#47;project&gt;</code>"},{"owner":{"account_id":1730446,"reputation":7868,"user_id":1584167,"display_name":"udalmik"},"score":0,"creation_date":1406634294,"post_id":25013103,"comment_id":38897537,"body_markdown":"ok, so default one should be used. strange, it should be fine for 3.0.4 http://maven.apache.org/ref/3.0.4/maven-core/default-bindings.html#Bindings_for_war_packaging","body":"ok, so default one should be used. strange, it should be fine for 3.0.4 <a href=\"http://maven.apache.org/ref/3.0.4/maven-core/default-bindings.html#Bindings_for_war_packaging\" rel=\"nofollow noreferrer\">maven.apache.org/ref/3.0.4/maven-core/&hellip;</a>"},{"owner":{"account_id":3808056,"reputation":327,"user_id":3159856,"display_name":"Neeraj"},"score":0,"creation_date":1406634810,"post_id":25013103,"comment_id":38897818,"body_markdown":"Check if eclipse is not able to connect to Internet.","body":"Check if eclipse is not able to connect to Internet."},{"owner":{"account_id":3808056,"reputation":327,"user_id":3159856,"display_name":"Neeraj"},"score":0,"creation_date":1406634964,"post_id":25013103,"comment_id":38897896,"body_markdown":"You need to change default Maven from eclipse to your Maven. You can change it from preferences.","body":"You need to change default Maven from eclipse to your Maven. You can change it from preferences."}],"answers":[{"tags":[],"owner":{"account_id":1785335,"reputation":3954,"user_id":1626906,"accept_rate":78,"display_name":"hiway"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406777856,"creation_date":1406777856,"answer_id":25050444,"question_id":25013103,"body_markdown":"I solved it,\r\n\r\njust create src/main/java, src/main/resources, src/test/java, src/test/resources\r\n\r\nThe `maven-resources-plugin` will disappear.","title":"create maven project failed","body":"<p>I solved it,</p>\n\n<p>just create src/main/java, src/main/resources, src/test/java, src/test/resources</p>\n\n<p>The <code>maven-resources-plugin</code> will disappear.</p>\n"},{"tags":[],"owner":{"account_id":28819118,"reputation":11,"user_id":22072049,"display_name":"Harshit Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689436116,"creation_date":1689436068,"answer_id":76694568,"question_id":25013103,"body_markdown":"I was facing the same challenge but it got resolved soon as I created the folder under src/main/resources and saved.","title":"create maven project failed","body":"<p>I was facing the same challenge but it got resolved soon as I created the folder under src/main/resources and saved.</p>\n"},{"tags":[],"owner":{"account_id":29113014,"reputation":1,"user_id":22302406,"display_name":"Death2one"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690566766,"creation_date":1690566766,"answer_id":76790049,"question_id":25013103,"body_markdown":"&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance","title":"create maven project failed","body":"<p>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance</p>\n"}],"owner":{"account_id":1785335,"reputation":3954,"user_id":1626906,"accept_rate":78,"display_name":"hiway"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8089,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690566766,"creation_date":1406629431,"question_id":25013103,"body_markdown":"I create a simple maven project in eclipse(indigo), it reports an error:\r\n\r\n`Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.4.3 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.4.3`\r\n\r\n\r\nI found maven-resources-plugin:2.5 in local repo.\r\nI don&#39;t understand why my project needs 2.4.3 but not 2.5?\r\n\r\n\r\nmvn -v:\r\n\r\n    Apache Maven 3.0.4 (r1232337; 2012-01-17 16:44:56+0800)\r\n    Maven home: D:\\Program Files\\maven-3.0\r\n    Java version: 1.6.0_31, vendor: Sun Microsystems Inc.\r\n    Java home: D:\\Program Files\\Java\\jdk1.6.0_31\\jre\r\n    Default locale: zh_CN, platform encoding: GBK\r\n    OS name: &quot;windows xp&quot;, version: &quot;5.1&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot;\r\n","title":"create maven project failed","body":"<p>I create a simple maven project in eclipse(indigo), it reports an error:</p>\n\n<p><code>Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.4.3 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.4.3</code></p>\n\n<p>I found maven-resources-plugin:2.5 in local repo.\nI don't understand why my project needs 2.4.3 but not 2.5?</p>\n\n<p>mvn -v:</p>\n\n<pre><code>Apache Maven 3.0.4 (r1232337; 2012-01-17 16:44:56+0800)\nMaven home: D:\\Program Files\\maven-3.0\nJava version: 1.6.0_31, vendor: Sun Microsystems Inc.\nJava home: D:\\Program Files\\Java\\jdk1.6.0_31\\jre\nDefault locale: zh_CN, platform encoding: GBK\nOS name: \"windows xp\", version: \"5.1\", arch: \"x86\", family: \"windows\"\n</code></pre>\n"},{"tags":["java","initialization","static-members","wiremock","control-flow"],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690565280,"creation_date":1690564884,"question_id":76789880,"body_markdown":"I am using WireMock and managed to configure it to use SSL in JUnit 4 tests and disable throwing error if the hostname doesn&#39;t match the WireMock self signed certificate with `CN=Tom Akehurst`.\r\n\r\nThe code block I added to the JUnit test class:\r\n\r\n```\r\n\tstatic {\r\n\t\t//for localhost testing only\r\n\t\tjavax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\r\n\t\t\tpublic boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\r\n\t\t\t\tif (hostname.equals(&quot;localhost&quot;)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n```\r\n\r\nNote: replace `newJavaKeyword` with new as it is not posting without doing that.\r\n\r\nThe following is the error thrown if the above code is not added:\r\n```\r\njavax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No name matching localhost found\r\n```\r\n\r\nNow, I need to move with testing from my local to the server, and I still need to use `WireMock` and all the configured JSON mappings. This time, the test cases will run from the main process not from JUnit, so I need to add the flag `disableVerifyLocalHost` to be passed to say class `A` which will initialize class `B`. In class `B`, I want to run the above static code block only if the the flag `disableVerifyLocalHost` is `true`.\r\n\r\nI think I can put the code block above in a normal public method but I guess the purpose of the static code block is to ensure the code will run only once.\r\n\r\nMy understanding is the the static code block will run very early, so I need to ensure the flag `disableVerifyLocalHost` has been initialized before running the static code block above. Also, I think the flag `disableVerifyLocalHost` must be static as well.\r\n\r\nFollowing is how I think this should be implemented, but not sure:\r\n\r\n```\r\npublic class A {\r\n\r\n   private static boolean disableVerifyLocalHost = false;\r\n   public static setDisableVerifyLocalHost(...) {...}\r\n   public static boolean getDisableVerifyLocalHost(.) {...}\r\n   \r\n   public callClassB() {\r\n       B classB = new B()\r\n   }\r\n}\r\n\r\n\r\npublic class B {\r\n\r\n\tstatic {\r\n\t\t//for localhost testing only\r\n\t\tif (A.getDisableVerifyLocalHost()) {\r\n\t\t\tjavax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\r\n\t\t\t\tpublic boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\r\n\t\t\t\t\tif (hostname.equals(&quot;localhost&quot;)) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nMy question is how to ensure dependency between the code to initialize the flag `disableVerifyLocalHost` and the code to disable checking the hostname `localhost`? Or if you have a better suggestion, please let me know.","title":"How to make Java class to initialize another class, and execute static java code block conditionally","body":"<p>I am using WireMock and managed to configure it to use SSL in JUnit 4 tests and disable throwing error if the hostname doesn't match the WireMock self signed certificate with <code>CN=Tom Akehurst</code>.</p>\n<p>The code block I added to the JUnit test class:</p>\n<pre><code>    static {\n        //for localhost testing only\n        javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\n            public boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\n                if (hostname.equals(&quot;localhost&quot;)) {\n                    return true;\n                }\n                return false;\n            }\n        });\n    }\n</code></pre>\n<p>Note: replace <code>newJavaKeyword</code> with new as it is not posting without doing that.</p>\n<p>The following is the error thrown if the above code is not added:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No name matching localhost found\n</code></pre>\n<p>Now, I need to move with testing from my local to the server, and I still need to use <code>WireMock</code> and all the configured JSON mappings. This time, the test cases will run from the main process not from JUnit, so I need to add the flag <code>disableVerifyLocalHost</code> to be passed to say class <code>A</code> which will initialize class <code>B</code>. In class <code>B</code>, I want to run the above static code block only if the the flag <code>disableVerifyLocalHost</code> is <code>true</code>.</p>\n<p>I think I can put the code block above in a normal public method but I guess the purpose of the static code block is to ensure the code will run only once.</p>\n<p>My understanding is the the static code block will run very early, so I need to ensure the flag <code>disableVerifyLocalHost</code> has been initialized before running the static code block above. Also, I think the flag <code>disableVerifyLocalHost</code> must be static as well.</p>\n<p>Following is how I think this should be implemented, but not sure:</p>\n<pre><code>public class A {\n\n   private static boolean disableVerifyLocalHost = false;\n   public static setDisableVerifyLocalHost(...) {...}\n   public static boolean getDisableVerifyLocalHost(.) {...}\n   \n   public callClassB() {\n       B classB = new B()\n   }\n}\n\n\npublic class B {\n\n    static {\n        //for localhost testing only\n        if (A.getDisableVerifyLocalHost()) {\n            javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\n                public boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\n                    if (hostname.equals(&quot;localhost&quot;)) {\n                        return true;\n                    }\n                    return false;\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>My question is how to ensure dependency between the code to initialize the flag <code>disableVerifyLocalHost</code> and the code to disable checking the hostname <code>localhost</code>? Or if you have a better suggestion, please let me know.</p>\n"},{"tags":["java","open-telemetry"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1690645472,"post_id":76788903,"comment_id":135383970,"body_markdown":"Your code is fine. An incrementing counter is what you need. The issues you mention need to be solved in the tool that exploit these metrics. Typically with Prometheus, there are functions that handle reset of a counter automatically and also there are functions to compute a rate from an increasing counter, etc...","body":"Your code is fine. An incrementing counter is what you need. The issues you mention need to be solved in the tool that exploit these metrics. Typically with Prometheus, there are functions that handle reset of a counter automatically and also there are functions to compute a rate from an increasing counter, etc..."}],"owner":{"account_id":245105,"reputation":770,"user_id":518404,"accept_rate":71,"display_name":"Quintonn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690564964,"creation_date":1690555919,"question_id":76788903,"body_markdown":"I have managed to create a Java Application that is able to report the number of message my app processes.  \r\n\r\nI am able to do this with the **LongCounter** metric type.  \r\n\r\nBut I&#39;ve noticed some strange behavior that I didn&#39;t expect.  \r\n\r\nFirstly, the instrumentation sends the last known value every 1 minute.  \r\nI think this is the interval on the **PeriodicMetricReader**.  \r\nWhat then happens in my metrics dashboard, is that if nothing has happened for the last 10 minutes, it will still show the last value as thought it was happening all the time.  \r\n\r\nThis is not too bad, as I can work with this.  \r\n\r\nMy biggest issue is that if my app shuts down and starts back up, my metrics start from zero again.  \r\n\r\nBut ideally I would like to have to continue.  \r\n\r\nI found an article that mentions Aggregation Temporality, and I tried setting this to deltaPreferred, but now with this value, the metrics are not showing up at all in my Signoz dashboards.  \r\n\r\nWhat I&#39;m trying to do is have a metric, simple number, that shows how many messages my app has processed.  \r\nWhile the app is running it works, but if the app restarts, the counter resets, which is wrong.  \r\nAnd I can&#39;t just sum the value, because it keeps sending the last known value every 1 minute. So if I process 1 message, the sum is going to double every 1 minute, or something like that.  \r\n\r\nMaybe I&#39;m doing something wrong.  \r\n\r\nHere is the core of my code:  \r\n\r\n```java\r\nfinal OtlpHttpMetricExporter metricExporter = OtlpHttpMetricExporter.builder().setEndpoint(otlpEndpoint + &quot;metrics&quot;).setAggregationTemporalitySelector(AggregationTemporalitySelector.deltaPreferred()).setCompression(&quot;none&quot;).build();\r\nfinal SdkMeterProviderBuilder metricEmitterProviderBuilder = SdkMeterProvider.builder();\r\nmetricEmitterProviderBuilder.setResource(resource);\r\n\r\nfinal SdkMeterProviderBuilder metricProviderBuilder = metricEmitterProviderBuilder.registerMetricReader(PeriodicMetricReader.builder(metricExporter).setInterval(Duration.ofSeconds(Math.max(30, 50))).build());\r\n\r\nthis.meterProvider = metricProviderBuilder.build();\r\nthis.meter = this.meterProvider.meterBuilder(&quot;my-test&quot;).build();\r\nthis.counter = this.meter.counterBuilder(&quot;my_counter&quot;).setUnit(&quot;message&quot;).build();\r\n\r\n/// And later in my code:\r\n/// when my app sees a message it calls\r\nthis.counter.add(1);\r\n```","title":"Which metric to use for Open Telemetry for basic counter","body":"<p>I have managed to create a Java Application that is able to report the number of message my app processes.</p>\n<p>I am able to do this with the <strong>LongCounter</strong> metric type.</p>\n<p>But I've noticed some strange behavior that I didn't expect.</p>\n<p>Firstly, the instrumentation sends the last known value every 1 minute.<br />\nI think this is the interval on the <strong>PeriodicMetricReader</strong>.<br />\nWhat then happens in my metrics dashboard, is that if nothing has happened for the last 10 minutes, it will still show the last value as thought it was happening all the time.</p>\n<p>This is not too bad, as I can work with this.</p>\n<p>My biggest issue is that if my app shuts down and starts back up, my metrics start from zero again.</p>\n<p>But ideally I would like to have to continue.</p>\n<p>I found an article that mentions Aggregation Temporality, and I tried setting this to deltaPreferred, but now with this value, the metrics are not showing up at all in my Signoz dashboards.</p>\n<p>What I'm trying to do is have a metric, simple number, that shows how many messages my app has processed.<br />\nWhile the app is running it works, but if the app restarts, the counter resets, which is wrong.<br />\nAnd I can't just sum the value, because it keeps sending the last known value every 1 minute. So if I process 1 message, the sum is going to double every 1 minute, or something like that.</p>\n<p>Maybe I'm doing something wrong.</p>\n<p>Here is the core of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final OtlpHttpMetricExporter metricExporter = OtlpHttpMetricExporter.builder().setEndpoint(otlpEndpoint + &quot;metrics&quot;).setAggregationTemporalitySelector(AggregationTemporalitySelector.deltaPreferred()).setCompression(&quot;none&quot;).build();\nfinal SdkMeterProviderBuilder metricEmitterProviderBuilder = SdkMeterProvider.builder();\nmetricEmitterProviderBuilder.setResource(resource);\n\nfinal SdkMeterProviderBuilder metricProviderBuilder = metricEmitterProviderBuilder.registerMetricReader(PeriodicMetricReader.builder(metricExporter).setInterval(Duration.ofSeconds(Math.max(30, 50))).build());\n\nthis.meterProvider = metricProviderBuilder.build();\nthis.meter = this.meterProvider.meterBuilder(&quot;my-test&quot;).build();\nthis.counter = this.meter.counterBuilder(&quot;my_counter&quot;).setUnit(&quot;message&quot;).build();\n\n/// And later in my code:\n/// when my app sees a message it calls\nthis.counter.add(1);\n</code></pre>\n"},{"tags":["java","unit-testing","groovy","spock"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690548060,"post_id":76787892,"comment_id":135372969,"body_markdown":"You are getting a new temp file. Why are you surprised it&#39;s empty?","body":"You are getting a new temp file. Why are you surprised it&#39;s empty?"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1690810218,"post_id":76787892,"comment_id":135400682,"body_markdown":"Why do you mock such basic things like files and your excel library?","body":"Why do you mock such basic things like files and your excel library?"}],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690564117,"creation_date":1690564117,"answer_id":76789820,"question_id":76787892,"body_markdown":"Don&#39;t try to mock `File` or `FileInputStream`. Just use Spock&#39;s `@TempFile` extension to setup a temporary file with the necessary content.\r\n\r\nThis looks like you expect it to be mocked\r\n```\r\n  new FileInputStream(tempFile.getFile().getAbsolutePath()) &gt;&gt; fileInputStream\r\n  new XSSFWorkbook(fileInputStream) &gt;&gt; workBook\r\n```\r\nhowever that is not how it works.\r\n\r\nTry something along these lines, as I&#39;m not familiar with Apache POI the example might not work, but it should get you started.\r\n\r\n```groovy\r\nclass ASpec extends Specification {\r\n  @TempFile\r\n  File tempFile\r\n\r\n\r\n  def &quot;should generate claims error file&quot;(){\r\n    given: &#39;setup test workbook&#39;\r\n    def testWorkBook = XSSFWorkbook()\r\n    // add some testdata to workbook\r\n\r\n    and: &#39;save workbook&#39;\r\n    tempFile.withOutputStream { testWorkBook.write(it) }\r\n\r\n    and:\r\n    def excelErrorRecord = new ExcelErrorRecord(row: 5, col: 4, message: &quot;Test Message&quot;)\r\n    HashMap&lt;String, List&lt;ExcelErrorRecord&gt;&gt; errorRecords = new HashMap&lt;&gt;();\r\n    errorRecords.put(&quot;Medical&quot;,[excelErrorRecord])\r\n\r\n\r\n    when:\r\n    service.generateClaimsErrorFile(errorRecords, tempFile)\r\n\r\n    then:\r\n    noExceptionThrown()\r\n}\r\n```","title":"Getting org.apache.poi.EmptyFileException while writing unit test case for a java function using spock","body":"<p>Don't try to mock <code>File</code> or <code>FileInputStream</code>. Just use Spock's <code>@TempFile</code> extension to setup a temporary file with the necessary content.</p>\n<p>This looks like you expect it to be mocked</p>\n<pre><code>  new FileInputStream(tempFile.getFile().getAbsolutePath()) &gt;&gt; fileInputStream\n  new XSSFWorkbook(fileInputStream) &gt;&gt; workBook\n</code></pre>\n<p>however that is not how it works.</p>\n<p>Try something along these lines, as I'm not familiar with Apache POI the example might not work, but it should get you started.</p>\n<pre><code>class ASpec extends Specification {\n  @TempFile\n  File tempFile\n\n\n  def &quot;should generate claims error file&quot;(){\n    given: 'setup test workbook'\n    def testWorkBook = XSSFWorkbook()\n    // add some testdata to workbook\n\n    and: 'save workbook'\n    tempFile.withOutputStream { testWorkBook.write(it) }\n\n    and:\n    def excelErrorRecord = new ExcelErrorRecord(row: 5, col: 4, message: &quot;Test Message&quot;)\n    HashMap&lt;String, List&lt;ExcelErrorRecord&gt;&gt; errorRecords = new HashMap&lt;&gt;();\n    errorRecords.put(&quot;Medical&quot;,[excelErrorRecord])\n\n\n    when:\n    service.generateClaimsErrorFile(errorRecords, tempFile)\n\n    then:\n    noExceptionThrown()\n}\n</code></pre>\n"}],"owner":{"account_id":15568081,"reputation":197,"user_id":13065408,"display_name":"Thiluxan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690564117,"creation_date":1690547998,"question_id":76787892,"body_markdown":"I have this below unit test case for a java function:\r\n\r\n    def &quot;should generate claims error file&quot;(){\r\n        given:\r\n        def tempFile = new TempFile()\r\n        def excelErrorRecord = new ExcelErrorRecord(row: 5, col: 4, message: &quot;Test Message&quot;)\r\n        HashMap&lt;String, List&lt;ExcelErrorRecord&gt;&gt; errorRecords = new HashMap&lt;&gt;();\r\n        errorRecords.put(&quot;Medical&quot;,[excelErrorRecord])\r\n        def fileInputStream = Mock(FileInputStream)\r\n        def workBook = Mock(Workbook)\r\n        def file = Mock(File)\r\n    \r\n        and:\r\n        tempFile.getFile() &gt;&gt; file\r\n        file.length() &gt;&gt; 100\r\n        tempFile.getFile().getAbsolutePath() &gt;&gt; &quot;Temp File.xlsx&quot;\r\n        new FileInputStream(tempFile.getFile().getAbsolutePath()) &gt;&gt; fileInputStream\r\n        new XSSFWorkbook(fileInputStream) &gt;&gt; workBook\r\n    \r\n        when:\r\n        service.generateClaimsErrorFile(errorRecords, tempFile)\r\n    \r\n        then:\r\n        noExceptionThrown()\r\n      }\r\n\r\nThis test case is to execute the following piece of java function:\r\n\r\n    try (FileInputStream fis = new FileInputStream(tempFile.getFile().getAbsolutePath());\r\n             Workbook workbook = new XSSFWorkbook(fis)) \r\n    {}\r\n    catch(){}\r\n\r\nThe above test case is throwing `org.apache.poi.EmptyFileException` at the line `Workbook workbook = new XSSFWorkbook(fis)`. How can I fix this and what&#39;s the cause for this issue ?","title":"Getting org.apache.poi.EmptyFileException while writing unit test case for a java function using spock","body":"<p>I have this below unit test case for a java function:</p>\n<pre><code>def &quot;should generate claims error file&quot;(){\n    given:\n    def tempFile = new TempFile()\n    def excelErrorRecord = new ExcelErrorRecord(row: 5, col: 4, message: &quot;Test Message&quot;)\n    HashMap&lt;String, List&lt;ExcelErrorRecord&gt;&gt; errorRecords = new HashMap&lt;&gt;();\n    errorRecords.put(&quot;Medical&quot;,[excelErrorRecord])\n    def fileInputStream = Mock(FileInputStream)\n    def workBook = Mock(Workbook)\n    def file = Mock(File)\n\n    and:\n    tempFile.getFile() &gt;&gt; file\n    file.length() &gt;&gt; 100\n    tempFile.getFile().getAbsolutePath() &gt;&gt; &quot;Temp File.xlsx&quot;\n    new FileInputStream(tempFile.getFile().getAbsolutePath()) &gt;&gt; fileInputStream\n    new XSSFWorkbook(fileInputStream) &gt;&gt; workBook\n\n    when:\n    service.generateClaimsErrorFile(errorRecords, tempFile)\n\n    then:\n    noExceptionThrown()\n  }\n</code></pre>\n<p>This test case is to execute the following piece of java function:</p>\n<pre><code>try (FileInputStream fis = new FileInputStream(tempFile.getFile().getAbsolutePath());\n         Workbook workbook = new XSSFWorkbook(fis)) \n{}\ncatch(){}\n</code></pre>\n<p>The above test case is throwing <code>org.apache.poi.EmptyFileException</code> at the line <code>Workbook workbook = new XSSFWorkbook(fis)</code>. How can I fix this and what's the cause for this issue ?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1690610938,"post_id":76789816,"comment_id":135380499,"body_markdown":"If you are using Tomcat from within Eclipse, try a separate stock install of Tomcat (unzip) and run the web app. Check the logs and see if you are getting any exceptions, warnings, that might give more details of the issue.","body":"If you are using Tomcat from within Eclipse, try a separate stock install of Tomcat (unzip) and run the web app. Check the logs and see if you are getting any exceptions, warnings, that might give more details of the issue."}],"owner":{"account_id":303455,"reputation":43,"user_id":1411421,"accept_rate":25,"display_name":"Marko Sepp&#228;nen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690564081,"creation_date":1690564081,"question_id":76789816,"body_markdown":"When I&#39;m uploading a zipfile to a servlet as a *multipart/form-data*, its parts will be available when the file size is about 480 MB or less, but when the filesize is about 506 MB or more, *req.getParts().size()* is zero.\r\n\r\nThe Tomcat server seems to use the configuration values, which are set in files server.xml and application&#39;s web.xml. I tried to set relevant max sizes to &quot;-1&quot;, but to no avail as I couldn&#39;t upload a file that is slightly larger than 0.5 GB or so.\r\n\r\n**server.xml** - Connector has these values:\r\n\r\n```\r\nmaxPostSize=&quot;-1&quot;\r\nmaxHttpHeaderSize=&quot;65536&quot;\r\ndisableUploadTimeout=&quot;true&quot;\r\nprotocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n```\r\n\r\n**web.xml** - servlet&#39;s multipart-config has these values:\r\n\r\n```\r\n&lt;max-file-size&gt;-1&lt;/max-file-size&gt;\r\n&lt;max-request-size&gt;-1&lt;/max-request-size&gt;\r\n```\r\n\r\nWhat other configuration needs to be done to make Tomcat to not drop parts that are too large? Other parts aren&#39;t left out. E.g. the value of the &quot;dfgdfgd&quot; in the example would still be available, when doing req.getPart(&quot;dfgdfgd&quot;);\r\n\r\n```\r\nvar formdata = new FormData();\r\nformdata.append(&quot;dfgdfg&quot;, &quot;dfgdfgd&quot;);\r\nformdata.append(&quot;filedata&quot;, filedata);\r\n\r\n$.ajax({\r\n\turl: servletpath,\r\n\tmethod: &quot;POST&quot;,\r\n\tprocessData: false,\r\n\tcontentType: false,\r\n\tdata: formdata\r\n}).done(function(data) {\r\n```\r\n\r\nI was going to process &quot;filedata&quot; part in a later phase by retrieving it using req.getPart(&quot;filedata&quot;) and BufferedInputStream, but too large files cause problems as the req.getPart(&quot;filedata&quot;) would be just null.\r\n\r\nI&#39;m using Tomcat 9, Servlet Spec 4.0. I&#39;m using protocol &quot;Http11NioProtocol&quot;, because Eclipse can&#39;t start Tomcat, when it is set as &quot;Http11Nio2Protocol&quot;.","title":"What to configure, when Tomcat gladly accepts a 480 MB upload, but not much more even without maxsize restrictions?","body":"<p>When I'm uploading a zipfile to a servlet as a <em>multipart/form-data</em>, its parts will be available when the file size is about 480 MB or less, but when the filesize is about 506 MB or more, <em>req.getParts().size()</em> is zero.</p>\n<p>The Tomcat server seems to use the configuration values, which are set in files server.xml and application's web.xml. I tried to set relevant max sizes to &quot;-1&quot;, but to no avail as I couldn't upload a file that is slightly larger than 0.5 GB or so.</p>\n<p><strong>server.xml</strong> - Connector has these values:</p>\n<pre><code>maxPostSize=&quot;-1&quot;\nmaxHttpHeaderSize=&quot;65536&quot;\ndisableUploadTimeout=&quot;true&quot;\nprotocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n</code></pre>\n<p><strong>web.xml</strong> - servlet's multipart-config has these values:</p>\n<pre><code>&lt;max-file-size&gt;-1&lt;/max-file-size&gt;\n&lt;max-request-size&gt;-1&lt;/max-request-size&gt;\n</code></pre>\n<p>What other configuration needs to be done to make Tomcat to not drop parts that are too large? Other parts aren't left out. E.g. the value of the &quot;dfgdfgd&quot; in the example would still be available, when doing req.getPart(&quot;dfgdfgd&quot;);</p>\n<pre><code>var formdata = new FormData();\nformdata.append(&quot;dfgdfg&quot;, &quot;dfgdfgd&quot;);\nformdata.append(&quot;filedata&quot;, filedata);\n\n$.ajax({\n    url: servletpath,\n    method: &quot;POST&quot;,\n    processData: false,\n    contentType: false,\n    data: formdata\n}).done(function(data) {\n</code></pre>\n<p>I was going to process &quot;filedata&quot; part in a later phase by retrieving it using req.getPart(&quot;filedata&quot;) and BufferedInputStream, but too large files cause problems as the req.getPart(&quot;filedata&quot;) would be just null.</p>\n<p>I'm using Tomcat 9, Servlet Spec 4.0. I'm using protocol &quot;Http11NioProtocol&quot;, because Eclipse can't start Tomcat, when it is set as &quot;Http11Nio2Protocol&quot;.</p>\n"},{"tags":["java","amazon-web-services","rest","opensearch"],"owner":{"account_id":29112667,"reputation":1,"user_id":22302125,"display_name":"Manda Snehashish Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690563921,"creation_date":1690563563,"question_id":76789750,"body_markdown":"So, I have some documents in OpenSearch that I need to query a lot. My requirement is nothing more than sending a GET request to search for a keyword in an index that I would also specify and get back a JSON document/string that I could process. The JSON documents could be of any length or format so, mapping it to a class is not a possibility.\r\n\r\nI neither need to create indexes nor update or delete or anything else really. I only need the output of a GET request. I have the AWS endpoint, the username, and password for the endpoint with me and nothing else. Certificates, temporary access_keys and everything else is practically out of the question because my University won&#39;t give me anything more than this.\r\n\r\nI prefer Java and was planning to deploy my code as a microservice using Elastic Beanstalk or some other method. I&#39;m using Javalin to create my microservice&#39;s endpoints. Can&#39;t use SpringBoot, it&#39;s too heavy for my small use cases.\r\n\r\nThis is the code that I could get working out of all my tries.\r\n\r\n\r\n```\r\nimport org.apache.http.HttpHost;\r\nimport org.apache.http.auth.AuthScope;\r\nimport org.apache.http.auth.UsernamePasswordCredentials;\r\nimport org.apache.http.impl.client.BasicCredentialsProvider;\r\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\nimport org.opensearch.client.RestClient;\r\nimport org.opensearch.client.RestClientBuilder;\r\nimport org.opensearch.client.json.jackson.JacksonJsonpMapper;\r\nimport org.opensearch.client.opensearch.OpenSearchClient;\r\nimport org.opensearch.client.transport.OpenSearchTransport;\r\nimport org.opensearch.client.transport.rest_client.RestClientTransport;\r\n\r\npublic class OpenSearchInstance {\r\n\t\r\n\tpublic OpenSearchClient createOpenSearchClient(String username, String password, String host, Integer port) {\r\n\t\tfinal HttpHost httpHost = new HttpHost(&quot;https&quot;, port, host);\r\n\t\tfinal BasicCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n\t\t\r\n\t\tcredentialsProvider.setCredentials(new AuthScope(httpHost), new UsernamePasswordCredentials(username, password));\r\n\t\t\r\n\t\tfinal RestClient restClient = RestClient.builder(httpHost)\r\n\t\t\t\t.setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\r\n\t\t\t\t\t\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n\t\t\t\t\t\treturn httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).build();\r\n\t\t\r\n\t\tfinal OpenSearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\r\n\t\tfinal OpenSearchClient client = new OpenSearchClient(transport);\r\n\t\t\r\n\t\treturn client;\r\n\t}\r\n}\r\n```\r\n\r\nBut when I try to run this code from my Main class, I get a Host scheme not supported exception. For reference, the OpenSearch version of my endpoint is 2.7.0\r\n\r\nMy only use case is putting out GET requests with queries in them to OpenSearch and getting back the JSON string. I don&#39;t need any advanced functionality like pagination or sorting or anything really right now.","title":"Is there a minimal-boilerplate way I can send a GET request to my AWS endpoint?","body":"<p>So, I have some documents in OpenSearch that I need to query a lot. My requirement is nothing more than sending a GET request to search for a keyword in an index that I would also specify and get back a JSON document/string that I could process. The JSON documents could be of any length or format so, mapping it to a class is not a possibility.</p>\n<p>I neither need to create indexes nor update or delete or anything else really. I only need the output of a GET request. I have the AWS endpoint, the username, and password for the endpoint with me and nothing else. Certificates, temporary access_keys and everything else is practically out of the question because my University won't give me anything more than this.</p>\n<p>I prefer Java and was planning to deploy my code as a microservice using Elastic Beanstalk or some other method. I'm using Javalin to create my microservice's endpoints. Can't use SpringBoot, it's too heavy for my small use cases.</p>\n<p>This is the code that I could get working out of all my tries.</p>\n<pre><code>import org.apache.http.HttpHost;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\nimport org.opensearch.client.RestClient;\nimport org.opensearch.client.RestClientBuilder;\nimport org.opensearch.client.json.jackson.JacksonJsonpMapper;\nimport org.opensearch.client.opensearch.OpenSearchClient;\nimport org.opensearch.client.transport.OpenSearchTransport;\nimport org.opensearch.client.transport.rest_client.RestClientTransport;\n\npublic class OpenSearchInstance {\n    \n    public OpenSearchClient createOpenSearchClient(String username, String password, String host, Integer port) {\n        final HttpHost httpHost = new HttpHost(&quot;https&quot;, port, host);\n        final BasicCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        \n        credentialsProvider.setCredentials(new AuthScope(httpHost), new UsernamePasswordCredentials(username, password));\n        \n        final RestClient restClient = RestClient.builder(httpHost)\n                .setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\n                    \n                    @Override\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n                        return httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\n                    }\n                }).build();\n        \n        final OpenSearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\n        final OpenSearchClient client = new OpenSearchClient(transport);\n        \n        return client;\n    }\n}\n</code></pre>\n<p>But when I try to run this code from my Main class, I get a Host scheme not supported exception. For reference, the OpenSearch version of my endpoint is 2.7.0</p>\n<p>My only use case is putting out GET requests with queries in them to OpenSearch and getting back the JSON string. I don't need any advanced functionality like pagination or sorting or anything really right now.</p>\n"},{"tags":["java","spring","rest","design-patterns"],"comments":[{"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"score":0,"creation_date":1690558698,"post_id":76788651,"comment_id":135375374,"body_markdown":"I don&#39;t think so.","body":"I don&#39;t think so."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690645313,"post_id":76788651,"comment_id":135383954,"body_markdown":"When you have two domains that are totally independent/decoupled , behind their boundaries and both domains use their own models to represent data then you have to translate the data in order to use it cross-domain. You have to introduce an interface (architectural layer) that converts between the domains.","body":"When you have two domains that are totally independent/decoupled , behind their boundaries and both domains use their own models to represent data then you have to translate the data in order to use it cross-domain. You have to introduce an interface (architectural layer) that converts between the domains."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690645339,"post_id":76788651,"comment_id":135383958,"body_markdown":"Take a look at a database system. They introduce the same problem: two independent domains (database and client) that have to exchange data. Solution: you introduce an extra layer, a data object mapper (ORM framework) to convert between the models of both domains. Unless you can allow both domains to use the same data models to satisfy the interface (in order to allow data to cross the domain boundaries) you have no other alternative. You need that extra layer. Such a common type is not possible in the example of the database. But it is possible in case you are the owner of both domains.","body":"Take a look at a database system. They introduce the same problem: two independent domains (database and client) that have to exchange data. Solution: you introduce an extra layer, a data object mapper (ORM framework) to convert between the models of both domains. Unless you can allow both domains to use the same data models to satisfy the interface (in order to allow data to cross the domain boundaries) you have no other alternative. You need that extra layer. Such a common type is not possible in the example of the database. But it is possible in case you are the owner of both domains."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690645397,"post_id":76788651,"comment_id":135383963,"body_markdown":"What you must do is to introduce a kind of protocol. Like REST APIs do. For example you could use serialization: serialize the data objects of domain A to JSON. Pass the JSON across the boundaries. Deserialize the JSON to a model type of domain B. In this case the JSON data model dictates how the data has to be formatted in order to pass the boundaries. The JSON objects are owned by the interface layer that connects both domains. This interface layer provides the communication channel and data transport objects (JSON).","body":"What you must do is to introduce a kind of protocol. Like REST APIs do. For example you could use serialization: serialize the data objects of domain A to JSON. Pass the JSON across the boundaries. Deserialize the JSON to a model type of domain B. In this case the JSON data model dictates how the data has to be formatted in order to pass the boundaries. The JSON objects are owned by the interface layer that connects both domains. This interface layer provides the communication channel and data transport objects (JSON)."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690645400,"post_id":76788651,"comment_id":135383964,"body_markdown":"The data transport model can be any of type. JSON was just an example because I thought you could relate to it and it&#39;s functionality because it is a popular format used to transfer data across the client-server domain. The point is, the interface request data in a particular form (the protocol). The communicating objects are now responsible to perform the conversion from domain data types to the transport data type. This provides a clean separation and doesn&#39;t break information hiding principles.","body":"The data transport model can be any of type. JSON was just an example because I thought you could relate to it and it&#39;s functionality because it is a popular format used to transfer data across the client-server domain. The point is, the interface request data in a particular form (the protocol). The communicating objects are now responsible to perform the conversion from domain data types to the transport data type. This provides a clean separation and doesn&#39;t break information hiding principles."}],"owner":{"account_id":26335980,"reputation":3,"user_id":19995812,"display_name":"uzarkov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690563804,"creation_date":1690553955,"question_id":76788651,"body_markdown":"I have a following problem. I have two classes: `AnimalService` responsible for domain logic and `AnimalController` which is responsible for public API available to clients. `AnimalServices` uses domain abstract class `Animal` and `AnimalController` uses DTO objects. `AnimalService` is not aware of `AnimalController` existence, so `Animal` class does not know about `AnimalDTO`.\r\n\r\n```\r\npublic abstract class Animal {\r\n   ...\r\n}\r\n\r\npublic class AnimalController {\r\n\r\n   private final AnimalMapper animalMapper;\r\n\r\n   ...\r\n   \r\n   public AnimalDTO createAnimal(AnimalDTO newAnimal) {\r\n      Animal domainAnimal = animalMapper.fromDTO(newAnimal);\r\n      Animal createdAnimal = animalService.createAnimal(domainAnimal);\r\n      return animalMapper.toDTO(createdAnimal);\r\n   }\r\n}\r\n\r\npublic class AnimalService {\r\n   \r\n   public Animal createAnimal(Animal domainAnimal) {\r\n      ...\r\n   }\r\n}\r\n```\r\n\r\nSince the `Animal` class may have many implementations, Im having troubles with designing `AnimalDTO`. Creating a new `DTO` for every new implementation of `Animal` seems like a very bad dependency, which requires changes in multiple places each and every time and a `Single Responsibility` principle violation. \r\n\r\nIs there any better solution / design that I could possibly use in that case?\r\n","title":"Abstract classes in DTO - complex dependency beetwen layers","body":"<p>I have a following problem. I have two classes: <code>AnimalService</code> responsible for domain logic and <code>AnimalController</code> which is responsible for public API available to clients. <code>AnimalServices</code> uses domain abstract class <code>Animal</code> and <code>AnimalController</code> uses DTO objects. <code>AnimalService</code> is not aware of <code>AnimalController</code> existence, so <code>Animal</code> class does not know about <code>AnimalDTO</code>.</p>\n<pre><code>public abstract class Animal {\n   ...\n}\n\npublic class AnimalController {\n\n   private final AnimalMapper animalMapper;\n\n   ...\n   \n   public AnimalDTO createAnimal(AnimalDTO newAnimal) {\n      Animal domainAnimal = animalMapper.fromDTO(newAnimal);\n      Animal createdAnimal = animalService.createAnimal(domainAnimal);\n      return animalMapper.toDTO(createdAnimal);\n   }\n}\n\npublic class AnimalService {\n   \n   public Animal createAnimal(Animal domainAnimal) {\n      ...\n   }\n}\n</code></pre>\n<p>Since the <code>Animal</code> class may have many implementations, Im having troubles with designing <code>AnimalDTO</code>. Creating a new <code>DTO</code> for every new implementation of <code>Animal</code> seems like a very bad dependency, which requires changes in multiple places each and every time and a <code>Single Responsibility</code> principle violation.</p>\n<p>Is there any better solution / design that I could possibly use in that case?</p>\n"},{"tags":["java","apache-kafka","apache-flink","exactly-once"],"comments":[{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1592555360,"post_id":62466188,"comment_id":110472972,"body_markdown":"Here (https://stackoverflow.com/a/58644689/2096986) they implemented their own `KafkaSerializationSchema` on the class `ObjSerializationSchema`. I guess it can help to solve your issue since it is a serialization error.","body":"Here (<a href=\"https://stackoverflow.com/a/58644689/2096986\">stackoverflow.com/a/58644689/2096986</a>) they implemented their own <code>KafkaSerializationSchema</code> on the class <code>ObjSerializationSchema</code>. I guess it can help to solve your issue since it is a serialization error."},{"owner":{"account_id":1061042,"reputation":350,"user_id":1062668,"accept_rate":100,"display_name":"Olindholm"},"score":0,"creation_date":1592556447,"post_id":62466188,"comment_id":110473467,"body_markdown":"The KafkaEventSerializationSchema is the one I use from the example. Which i can&#39;t link right now, seems github is down.\nAnyway it also extends KafkaSerializationSchema just like you&#39;re suggesting. I can&#39;t understand what is the problem. If the serialization was a problem. Why does it work when not using EXACTLY_ONCE? and not work when using it?","body":"The KafkaEventSerializationSchema is the one I use from the example. Which i can&#39;t link right now, seems github is down. Anyway it also extends KafkaSerializationSchema just like you&#39;re suggesting. I can&#39;t understand what is the problem. If the serialization was a problem. Why does it work when not using EXACTLY_ONCE? and not work when using it?"},{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1592557051,"post_id":62466188,"comment_id":110473741,"body_markdown":"So `KafkaEventSerializationSchema` is the class that you created that implements `KafkaSerializationSchema`. On the java docs says this caveat `Please also implement KafkaContextAware if your serialization schema needs information about the available partitions and the number of parallel subtasks along with the subtask ID on which the Kafka Producer is running.` https://ci.apache.org/projects/flink/flink-docs-release-1.9/api/java/index.html?org/apache/flink/streaming/connectors/kafka/KafkaSerializationSchema.html . Maybe if you post your class it is easier to identify the error.","body":"So <code>KafkaEventSerializationSchema</code> is the class that you created that implements <code>KafkaSerializationSchema</code>. On the java docs says this caveat <code>Please also implement KafkaContextAware if your serialization schema needs information about the available partitions and the number of parallel subtasks along with the subtask ID on which the Kafka Producer is running.</code> <a href=\"https://ci.apache.org/projects/flink/flink-docs-release-1.9/api/java/index.html?org/apache/flink/streaming/connectors/kafka/KafkaSerializationSchema.html\" rel=\"nofollow noreferrer\">ci.apache.org/projects/flink/flink-docs-release-1.9/api/java&zwnj;&#8203;/&hellip;</a> . Maybe if you post your class it is easier to identify the error."},{"owner":{"account_id":1061042,"reputation":350,"user_id":1062668,"accept_rate":100,"display_name":"Olindholm"},"score":0,"creation_date":1592557551,"post_id":62466188,"comment_id":110473963,"body_markdown":"I will update the post. I cannot post code here.","body":"I will update the post. I cannot post code here."},{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1592557992,"post_id":62466188,"comment_id":110474176,"body_markdown":"I guess it is related to timeout when you are using `EXACTLY_ONCE` according to this answer https://stackoverflow.com/a/58648019/2096986","body":"I guess it is related to timeout when you are using <code>EXACTLY_ONCE</code> according to this answer <a href=\"https://stackoverflow.com/a/58648019/2096986\">stackoverflow.com/a/58648019/2096986</a>"},{"owner":{"account_id":1061042,"reputation":350,"user_id":1062668,"accept_rate":100,"display_name":"Olindholm"},"score":0,"creation_date":1592563053,"post_id":62466188,"comment_id":110476402,"body_markdown":"But that is not what the exception is saying. If `transaction.max.timeout.ms` is the problem. What should it be set to? if it is  15 minutes by default, and I get this exception immediately when trying to run the job. I don&#39;t see how it could&#39;ve timeout in few seconds.","body":"But that is not what the exception is saying. If <code>transaction.max.timeout.ms</code> is the problem. What should it be set to? if it is  15 minutes by default, and I get this exception immediately when trying to run the job. I don&#39;t see how it could&#39;ve timeout in few seconds."},{"owner":{"account_id":444651,"reputation":530,"user_id":836606,"display_name":"xrcsblue"},"score":0,"creation_date":1592568408,"post_id":62466188,"comment_id":110479001,"body_markdown":"I am seeing the same error, but the behaviour is inconsistent for me, the same application may fail with this error or work fine( exatly_once and checkpointing enabled in both cases). In my test env when I enabled exactly once I had the transaction.max.timeout.ms related error first, which I fixed by reducing the kafka producer transaction.timeout.ms, but that was a different error).","body":"I am seeing the same error, but the behaviour is inconsistent for me, the same application may fail with this error or work fine( exatly_once and checkpointing enabled in both cases). In my test env when I enabled exactly once I had the transaction.max.timeout.ms related error first, which I fixed by reducing the kafka producer transaction.timeout.ms, but that was a different error)."},{"owner":{"account_id":310386,"reputation":1494,"user_id":623334,"accept_rate":62,"display_name":"vikash dat"},"score":0,"creation_date":1596060322,"post_id":62466188,"comment_id":111693065,"body_markdown":"@WiggyLindholm were you able to resolve this?","body":"@WiggyLindholm were you able to resolve this?"},{"owner":{"account_id":1061042,"reputation":350,"user_id":1062668,"accept_rate":100,"display_name":"Olindholm"},"score":0,"creation_date":1596125466,"post_id":62466188,"comment_id":111717901,"body_markdown":"@vikash-dat Not really. I made many tweaks back and forth and nothing made it work. The exception seem to come less and less but still occur sometimes. I don&#39;t know why and I got some code provided from a colleague (which I cannot share publicly) however, as far as my eye can see. Practically the same so I don&#39;t know why it works now, or why it didn&#39;t work then. Sorry.\n\nMaybe if I have time at some point I can try to get a working example and post on github.","body":"@vikash-dat Not really. I made many tweaks back and forth and nothing made it work. The exception seem to come less and less but still occur sometimes. I don&#39;t know why and I got some code provided from a colleague (which I cannot share publicly) however, as far as my eye can see. Practically the same so I don&#39;t know why it works now, or why it didn&#39;t work then. Sorry.  Maybe if I have time at some point I can try to get a working example and post on github."}],"answers":[{"tags":[],"owner":{"account_id":4922112,"reputation":1,"user_id":3964434,"display_name":"Ivan Letenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592836778,"creation_date":1592836778,"answer_id":62516983,"question_id":62466188,"body_markdown":"I ran into the same problem and explicitly setting a timeout for the producer helped.\r\n`properties.setProperty(&quot;transaction.timeout.ms&quot;, &quot;900000&quot;);`\r\n","title":"Flink Kafka EXACTLY_ONCE causing KafkaException ByteArraySerializer is not an instance of Serializer","body":"<p>I ran into the same problem and explicitly setting a timeout for the producer helped.\n<code>properties.setProperty(&quot;transaction.timeout.ms&quot;, &quot;900000&quot;);</code></p>\n"},{"tags":[],"owner":{"account_id":1437254,"reputation":559,"user_id":8555541,"display_name":"Swapnil Khante"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690563771,"creation_date":1690563771,"answer_id":76789779,"question_id":62466188,"body_markdown":"Following parameters are required to enable EXACTLY_ONCE processing\r\n - `transaction.max.timeout.ms` on your Kafka broker should be beyond the maximum expected Flink and/or Kafka downtime.\r\n- The value for `transaction.timeout.ms` is lower than `transaction.max.timeout.ms`.\r\n\r\nFor example,\r\n\r\n```\r\nProperties producerProperties = new Properties();\r\nproducerProperties.setProperty(&quot;transaction.timeout.ms&quot;, &quot;60000&quot;);\r\n```\r\n\r\nIn addition to this you need to set the value for `setTransactionalIdPrefix`. This value has to be unique for each Flink application that you run in the same Kafka cluster.\r\n\r\n","title":"Flink Kafka EXACTLY_ONCE causing KafkaException ByteArraySerializer is not an instance of Serializer","body":"<p>Following parameters are required to enable EXACTLY_ONCE processing</p>\n<ul>\n<li><code>transaction.max.timeout.ms</code> on your Kafka broker should be beyond the maximum expected Flink and/or Kafka downtime.</li>\n<li>The value for <code>transaction.timeout.ms</code> is lower than <code>transaction.max.timeout.ms</code>.</li>\n</ul>\n<p>For example,</p>\n<pre><code>Properties producerProperties = new Properties();\nproducerProperties.setProperty(&quot;transaction.timeout.ms&quot;, &quot;60000&quot;);\n</code></pre>\n<p>In addition to this you need to set the value for <code>setTransactionalIdPrefix</code>. This value has to be unique for each Flink application that you run in the same Kafka cluster.</p>\n"}],"owner":{"account_id":1061042,"reputation":350,"user_id":1062668,"accept_rate":100,"display_name":"Olindholm"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1663,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1690563771,"creation_date":1592554878,"question_id":62466188,"body_markdown":"So, I&#39;m trying to enable EXACTLY_ONCE semantic in my Flink Kafka streaming job along with checkpointing.\r\n\r\nHowever I am not getting it to work, so I tried downloading the test sample code from Github:\r\nhttps://github.com/apache/flink/blob/c025407e8a11dff344b587324ed73bdba2024dff/flink-end-to-end-tests/flink-streaming-kafka-test/src/main/java/org/apache/flink/streaming/kafka/test/KafkaExample.java\r\n\r\nSo running this works fine. However, when enabling checkpointing I get errors.\r\nOr if I change EXACTLY_ONCE to AT_LEAST_ONCE semantics and enable checkpointing, it works fine. But then when changing it to EXACTLY_ONCE, I get this error again.\r\n\r\n\r\nThe exception I&#39;m getting:\r\n```\r\norg.apache.kafka.common.KafkaException: org.apache.kafka.common.KafkaException: Failed to construct kafka producer\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:593)\r\n\tat java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)\r\n\tat java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:735)\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)\r\n\tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)\r\n\tat org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer.abortTransactions(FlinkKafkaProducer.java:1099)\r\n\tat org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer.initializeState(FlinkKafkaProducer.java:1036)\r\n\tat org.apache.flink.streaming.util.functions.StreamingFunctionUtils.tryRestoreFunction(StreamingFunctionUtils.java:178)\r\n\tat org.apache.flink.streaming.util.functions.StreamingFunctionUtils.restoreFunctionState(StreamingFunctionUtils.java:160)\r\n\tat org.apache.flink.streaming.api.operators.AbstractUdfStreamOperator.initializeState(AbstractUdfStreamOperator.java:96)\r\n\tat org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:284)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.initializeStateAndOpen(StreamTask.java:1006)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$beforeInvoke$0(StreamTask.java:454)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$SynchronizedStreamTaskActionExecutor.runThrowing(StreamTaskActionExecutor.java:94)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.beforeInvoke(StreamTask.java:449)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:461)\r\n\tat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:707)\r\n\tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:532)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.apache.kafka.common.KafkaException: Failed to construct kafka producer\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:430)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:298)\r\n\tat org.apache.flink.streaming.connectors.kafka.internal.FlinkKafkaInternalProducer.&lt;init&gt;(FlinkKafkaInternalProducer.java:76)\r\n\tat org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer.lambda$abortTransactions$2(FlinkKafkaProducer.java:1107)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1556)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n\tat java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)\r\n\tat java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\nCaused by: org.apache.kafka.common.KafkaException: org.apache.kafka.common.serialization.ByteArraySerializer is not an instance of org.apache.kafka.common.serialization.Serializer\r\n\tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:304)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:360)\r\n\t... 12 more\r\n```\r\n\r\nI&#39;ve made slight changes to the code to work in my enviroment. I&#39;m running it inside the flink operations playground inside docker. (This https://ci.apache.org/projects/flink/flink-docs-stable/getting-started/docker-playgrounds/flink-operations-playground.html). Latest version, 1.10 and the provided kafka inside that is verison 2.2.1\r\n\r\n```\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\tStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n\t\tenv.enableCheckpointing(1_000);\r\n\r\n\t\tString inputTopic = &quot;my-input&quot;;\r\n\t\tString outputTopic = &quot;my-output&quot;;\r\n\t\tString kafkaHost = &quot;kafka:9092&quot;;\r\n\r\n\t\tProperties kafkaProps = new Properties();\r\n\t\tkafkaProps.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaHost);\r\n\t\tkafkaProps.setProperty(ConsumerConfig.GROUP_ID_CONFIG, &quot;test&quot;);\r\n\r\n\r\n\t\tDataStream&lt;KafkaEvent&gt; input = env\r\n\t\t\t\t.addSource(new FlinkKafkaConsumer&lt;&gt;(inputTopic, new KafkaEventSchema(), kafkaProps)\r\n\t\t\t\t\t\t.assignTimestampsAndWatermarks(new CustomWatermarkExtractor()))\r\n\t\t\t\t.keyBy(&quot;word&quot;)\r\n\t\t\t\t.map(new RollingAdditionMapper());\r\n\r\n\t\tinput.addSink(\r\n\t\t\t\tnew FlinkKafkaProducer&lt;&gt;(\r\n\t\t\t\t\t\toutputTopic,\r\n\t\t\t\t\t\tnew KafkaEventSerializationSchema(outputTopic),\r\n\t\t\t\t\t\tkafkaProps,\r\n\t\t\t\t\t\tFlinkKafkaProducer.Semantic.EXACTLY_ONCE));\r\n\r\n\t\tenv.execute(&quot;Modern Kafka Example&quot;);\r\n\t}\r\n```\r\n\r\nOther classes from the example can be found:\r\nhttps://github.com/apache/flink/tree/c025407e8a11dff344b587324ed73bdba2024dff/flink-end-to-end-tests/flink-streaming-kafka-test-base/src/main/java/org/apache/flink/streaming/kafka/test/base\r\n\r\nI did try to change the serialization to use KafkaSerializationSchema rather than the example code which use SerializationSchema. However that code, below did not help either. Same error.\r\n```\r\nimport org.apache.flink.streaming.connectors.kafka.KafkaSerializationSchema;\r\nimport org.apache.kafka.clients.producer.ProducerRecord;\r\n\r\npublic class KafkaEventSerializationSchema implements KafkaSerializationSchema&lt;KafkaEvent&gt; {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprivate String topic;\r\n\r\n\tpublic KafkaEventSerializationSchema(String topic) {\r\n\t\tthis.topic = topic;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ProducerRecord&lt;byte[], byte[]&gt; serialize(KafkaEvent element, Long timestamp) {\r\n\t\treturn new ProducerRecord&lt;&gt;(topic, element.toString().getBytes());\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\nAll help appreciated. I haven&#39;t been able to find any online working code of EXACTLY_ONCE garantuee between flink and kafka. Only loads articles talking about it but not actual substancial working code. That&#39;s all I&#39;m trying to achieve here.","title":"Flink Kafka EXACTLY_ONCE causing KafkaException ByteArraySerializer is not an instance of Serializer","body":"<p>So, I'm trying to enable EXACTLY_ONCE semantic in my Flink Kafka streaming job along with checkpointing.</p>\n\n<p>However I am not getting it to work, so I tried downloading the test sample code from Github:\n<a href=\"https://github.com/apache/flink/blob/c025407e8a11dff344b587324ed73bdba2024dff/flink-end-to-end-tests/flink-streaming-kafka-test/src/main/java/org/apache/flink/streaming/kafka/test/KafkaExample.java\" rel=\"noreferrer\">https://github.com/apache/flink/blob/c025407e8a11dff344b587324ed73bdba2024dff/flink-end-to-end-tests/flink-streaming-kafka-test/src/main/java/org/apache/flink/streaming/kafka/test/KafkaExample.java</a></p>\n\n<p>So running this works fine. However, when enabling checkpointing I get errors.\nOr if I change EXACTLY_ONCE to AT_LEAST_ONCE semantics and enable checkpointing, it works fine. But then when changing it to EXACTLY_ONCE, I get this error again.</p>\n\n<p>The exception I'm getting:</p>\n\n<pre><code>org.apache.kafka.common.KafkaException: org.apache.kafka.common.KafkaException: Failed to construct kafka producer\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:593)\n    at java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)\n    at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:735)\n    at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)\n    at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)\n    at org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer.abortTransactions(FlinkKafkaProducer.java:1099)\n    at org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer.initializeState(FlinkKafkaProducer.java:1036)\n    at org.apache.flink.streaming.util.functions.StreamingFunctionUtils.tryRestoreFunction(StreamingFunctionUtils.java:178)\n    at org.apache.flink.streaming.util.functions.StreamingFunctionUtils.restoreFunctionState(StreamingFunctionUtils.java:160)\n    at org.apache.flink.streaming.api.operators.AbstractUdfStreamOperator.initializeState(AbstractUdfStreamOperator.java:96)\n    at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:284)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.initializeStateAndOpen(StreamTask.java:1006)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$beforeInvoke$0(StreamTask.java:454)\n    at org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$SynchronizedStreamTaskActionExecutor.runThrowing(StreamTaskActionExecutor.java:94)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.beforeInvoke(StreamTask.java:449)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:461)\n    at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:707)\n    at org.apache.flink.runtime.taskmanager.Task.run(Task.java:532)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.kafka.common.KafkaException: Failed to construct kafka producer\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:430)\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:298)\n    at org.apache.flink.streaming.connectors.kafka.internal.FlinkKafkaInternalProducer.&lt;init&gt;(FlinkKafkaInternalProducer.java:76)\n    at org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer.lambda$abortTransactions$2(FlinkKafkaProducer.java:1107)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1556)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n    at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)\n    at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\nCaused by: org.apache.kafka.common.KafkaException: org.apache.kafka.common.serialization.ByteArraySerializer is not an instance of org.apache.kafka.common.serialization.Serializer\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:304)\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:360)\n    ... 12 more\n</code></pre>\n\n<p>I've made slight changes to the code to work in my enviroment. I'm running it inside the flink operations playground inside docker. (This <a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/getting-started/docker-playgrounds/flink-operations-playground.html\" rel=\"noreferrer\">https://ci.apache.org/projects/flink/flink-docs-stable/getting-started/docker-playgrounds/flink-operations-playground.html</a>). Latest version, 1.10 and the provided kafka inside that is verison 2.2.1</p>\n\n<pre><code>    public static void main(String[] args) throws Exception {\n\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n        env.enableCheckpointing(1_000);\n\n        String inputTopic = \"my-input\";\n        String outputTopic = \"my-output\";\n        String kafkaHost = \"kafka:9092\";\n\n        Properties kafkaProps = new Properties();\n        kafkaProps.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaHost);\n        kafkaProps.setProperty(ConsumerConfig.GROUP_ID_CONFIG, \"test\");\n\n\n        DataStream&lt;KafkaEvent&gt; input = env\n                .addSource(new FlinkKafkaConsumer&lt;&gt;(inputTopic, new KafkaEventSchema(), kafkaProps)\n                        .assignTimestampsAndWatermarks(new CustomWatermarkExtractor()))\n                .keyBy(\"word\")\n                .map(new RollingAdditionMapper());\n\n        input.addSink(\n                new FlinkKafkaProducer&lt;&gt;(\n                        outputTopic,\n                        new KafkaEventSerializationSchema(outputTopic),\n                        kafkaProps,\n                        FlinkKafkaProducer.Semantic.EXACTLY_ONCE));\n\n        env.execute(\"Modern Kafka Example\");\n    }\n</code></pre>\n\n<p>Other classes from the example can be found:\n<a href=\"https://github.com/apache/flink/tree/c025407e8a11dff344b587324ed73bdba2024dff/flink-end-to-end-tests/flink-streaming-kafka-test-base/src/main/java/org/apache/flink/streaming/kafka/test/base\" rel=\"noreferrer\">https://github.com/apache/flink/tree/c025407e8a11dff344b587324ed73bdba2024dff/flink-end-to-end-tests/flink-streaming-kafka-test-base/src/main/java/org/apache/flink/streaming/kafka/test/base</a></p>\n\n<p>I did try to change the serialization to use KafkaSerializationSchema rather than the example code which use SerializationSchema. However that code, below did not help either. Same error.</p>\n\n<pre><code>import org.apache.flink.streaming.connectors.kafka.KafkaSerializationSchema;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\npublic class KafkaEventSerializationSchema implements KafkaSerializationSchema&lt;KafkaEvent&gt; {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    private String topic;\n\n    public KafkaEventSerializationSchema(String topic) {\n        this.topic = topic;\n    }\n\n    @Override\n    public ProducerRecord&lt;byte[], byte[]&gt; serialize(KafkaEvent element, Long timestamp) {\n        return new ProducerRecord&lt;&gt;(topic, element.toString().getBytes());\n    }\n\n\n}\n</code></pre>\n\n<p>All help appreciated. I haven't been able to find any online working code of EXACTLY_ONCE garantuee between flink and kafka. Only loads articles talking about it but not actual substancial working code. That's all I'm trying to achieve here.</p>\n"},{"tags":["java","coldfusion"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690563118,"post_id":76789655,"comment_id":135376148,"body_markdown":"Do you check if `iv` value is correctly formatted as Base64?","body":"Do you check if <code>iv</code> value is correctly formatted as Base64?"}],"owner":{"account_id":4631972,"reputation":447,"user_id":3754262,"accept_rate":24,"display_name":"Miguel Pinto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690563254,"creation_date":1690562585,"question_id":76789655,"body_markdown":"I&#39;m trying to decrypt a message using java objects through Coldfusion 2021.\r\n\r\nFirst I created a java class which works totally fine, and added the jar to the javaPath setting of coldfusion, but it didnt work. So I tried to replicate the code in coldfusion, still using java objects. The code is bellow.\r\n\r\n\r\n    remote function decode () {\r\n\r\n        var req_data = getHttpRequestData();\r\n\r\n        var base64Decoder = createObject(&#39;java&#39;, &#39;java.util.Base64&#39;);\r\n        var arrUtils = createObject(&#39;java&#39;, &#39;org.apache.commons.lang3.ArrayUtils&#39;);\r\n        var keySpecInstance = createObject(&#39;java&#39;, &#39;javax.crypto.spec.SecretKeySpec&#39;);\r\n        var cipherInstance = createObject(&#39;java&#39;, &#39;javax.crypto.Cipher&#39;);\r\n        var ivSpecInstance = createObject(&#39;java&#39;, &#39;javax.crypto.spec.IvParameterSpec&#39;);\r\n\r\n        var key = &#39;KEY_HERE&#39;;\r\n        var iv = req_data.headers[&#39;x-initialization-vector&#39;];\r\n        var authTag = req_data.headers[&#39;x-authentication-tag&#39;];\r\n        var msg = req_data.content;\r\n\r\n        key = base64Decoder.getDecoder().decode(key);\r\n        var keySpec = keySpecInstance.init(key, 0, 32, &#39;AES&#39;);\r\n\r\n        iv = base64Decoder.getDecoder().decode(iv);\r\n        authTag = base64Decoder.getDecoder().decode(authTag);\r\n        msg = base64Decoder.getDecoder().decode(msg);\r\n        var cipherText = arrUtils.addAll(msg, authTag);\r\n\r\n        var cipher = cipherInstance.getInstance(&#39;AES/GCM/NoPadding&#39;);\r\n        cipher.init(cipherInstance.DECRYPT_MODE, keySpec, ivSpecInstance.init(iv));\r\n        \r\n        var msgBytes = cypher.doFinal(cipherText);\r\n\r\n        writeDUmp(msgBytes);\r\n\r\n\r\n    }\r\n\r\n\r\nEverything seems to be working but Coldfusion throws an error `Unsupported parameter: javax.crypto.spec.IvParameterSpec@3a848c55` on the line `cipher.init(...)`\r\n\r\nI&#39;ve tried searching about this online but with no luck.\r\n\r\nIf someone has some insight on how to fix this, or at least clarify what does the error means I&#39;d appreciate it.\r\n\r\nThanks.","title":"Coldfusion Problem with decrypting: Unsupported parameter: javax.crypto.spec.IvParameterSpec","body":"<p>I'm trying to decrypt a message using java objects through Coldfusion 2021.</p>\n<p>First I created a java class which works totally fine, and added the jar to the javaPath setting of coldfusion, but it didnt work. So I tried to replicate the code in coldfusion, still using java objects. The code is bellow.</p>\n<pre><code>remote function decode () {\n\n    var req_data = getHttpRequestData();\n\n    var base64Decoder = createObject('java', 'java.util.Base64');\n    var arrUtils = createObject('java', 'org.apache.commons.lang3.ArrayUtils');\n    var keySpecInstance = createObject('java', 'javax.crypto.spec.SecretKeySpec');\n    var cipherInstance = createObject('java', 'javax.crypto.Cipher');\n    var ivSpecInstance = createObject('java', 'javax.crypto.spec.IvParameterSpec');\n\n    var key = 'KEY_HERE';\n    var iv = req_data.headers['x-initialization-vector'];\n    var authTag = req_data.headers['x-authentication-tag'];\n    var msg = req_data.content;\n\n    key = base64Decoder.getDecoder().decode(key);\n    var keySpec = keySpecInstance.init(key, 0, 32, 'AES');\n\n    iv = base64Decoder.getDecoder().decode(iv);\n    authTag = base64Decoder.getDecoder().decode(authTag);\n    msg = base64Decoder.getDecoder().decode(msg);\n    var cipherText = arrUtils.addAll(msg, authTag);\n\n    var cipher = cipherInstance.getInstance('AES/GCM/NoPadding');\n    cipher.init(cipherInstance.DECRYPT_MODE, keySpec, ivSpecInstance.init(iv));\n    \n    var msgBytes = cypher.doFinal(cipherText);\n\n    writeDUmp(msgBytes);\n\n\n}\n</code></pre>\n<p>Everything seems to be working but Coldfusion throws an error <code>Unsupported parameter: javax.crypto.spec.IvParameterSpec@3a848c55</code> on the line <code>cipher.init(...)</code></p>\n<p>I've tried searching about this online but with no luck.</p>\n<p>If someone has some insight on how to fix this, or at least clarify what does the error means I'd appreciate it.</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667672867,"post_id":11880924,"comment_id":131224301,"body_markdown":"Interfaces support default methods since Java 8, not sure if this is supported with Spring Data.","body":"Interfaces support default methods since Java 8, not sure if this is supported with Spring Data."}],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":2,"up_vote_count":367,"is_accepted":true,"score":365,"last_activity_date":1567792019,"creation_date":1344507485,"answer_id":11881203,"question_id":11880924,"body_markdown":"You need to create a separate interface for your custom methods:\r\n\r\n    public interface AccountRepository \r\n        extends JpaRepository&lt;Account, Long&gt;, AccountRepositoryCustom { ... }\r\n    \r\n    public interface AccountRepositoryCustom {\r\n        public void customMethod();\r\n    }\r\n\r\nand provide an implementation class for that interface:\r\n\r\n    public class AccountRepositoryImpl implements AccountRepositoryCustom {\r\n\r\n        @Autowired\r\n        @Lazy\r\n        AccountRepository accountRepository;  /* Optional - if you need it */\r\n\r\n        public void customMethod() { ... }\r\n    }\r\n\r\n**See also:**\r\n\r\n * [4.6 Custom Implementations for Spring Data Repositories][1]\r\n\r\n * Note that the naming scheme has changed between versions. See https://stackoverflow.com/a/52624752/66686 for details.\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\r\n","title":"How to add custom method to Spring Data JPA","body":"<p>You need to create a separate interface for your custom methods:</p>\n\n<pre><code>public interface AccountRepository \n    extends JpaRepository&lt;Account, Long&gt;, AccountRepositoryCustom { ... }\n\npublic interface AccountRepositoryCustom {\n    public void customMethod();\n}\n</code></pre>\n\n<p>and provide an implementation class for that interface:</p>\n\n<pre><code>public class AccountRepositoryImpl implements AccountRepositoryCustom {\n\n    @Autowired\n    @Lazy\n    AccountRepository accountRepository;  /* Optional - if you need it */\n\n    public void customMethod() { ... }\n}\n</code></pre>\n\n<p><strong>See also:</strong></p>\n\n<ul>\n<li><p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"noreferrer\">4.6 Custom Implementations for Spring Data Repositories</a></p></li>\n<li><p>Note that the naming scheme has changed between versions. See <a href=\"https://stackoverflow.com/a/52624752/66686\">https://stackoverflow.com/a/52624752/66686</a> for details.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":413624,"reputation":9150,"user_id":787375,"accept_rate":100,"display_name":"jelies"},"down_vote_count":1,"up_vote_count":85,"is_accepted":false,"score":84,"last_activity_date":1363018678,"creation_date":1363013500,"answer_id":15341601,"question_id":11880924,"body_markdown":"In addition to axtavt&#39;s [answer][1], don&#39;t forget you can inject Entity Manager in your custom implementation if you need it to build your queries:\r\n\r\n    public class AccountRepositoryImpl implements AccountRepositoryCustom {\r\n                \r\n        @PersistenceContext\r\n        private EntityManager em;\r\n                \r\n        public void customMethod() { \r\n            ...\r\n            em.createQuery(yourCriteria);\r\n            ...\r\n        }\r\n    }\r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11881203/787375","title":"How to add custom method to Spring Data JPA","body":"<p>In addition to axtavt's <a href=\"https://stackoverflow.com/a/11881203/787375\">answer</a>, don't forget you can inject Entity Manager in your custom implementation if you need it to build your queries:</p>\n\n<pre><code>public class AccountRepositoryImpl implements AccountRepositoryCustom {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    public void customMethod() { \n        ...\n        em.createQuery(yourCriteria);\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2270702,"reputation":1284,"user_id":1998186,"display_name":"NealeU"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665050925,"creation_date":1383232589,"answer_id":19710310,"question_id":11880924,"body_markdown":"If you want to be able to do more sophisticated operations you might need access to Spring Data&#39;s internals, in which case the following works (as my interim solution to [DATAJPA-422][1]):\r\n\r\n    public class AccountRepositoryImpl implements AccountRepositoryCustom {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n\r\n        private JpaEntityInformation&lt;Account, ?&gt; entityInformation;\r\n    \r\n        @PostConstruct\r\n        public void postConstruct() {\r\n            this.entityInformation = JpaEntityInformationSupport.getMetadata(Account.class, entityManager);\r\n        }\r\n        \r\n        @Override\r\n        @Transactional\r\n        public Account saveWithReferenceToOrganisation(Account entity, long organisationId) {\r\n            entity.setOrganisation(entityManager.getReference(Organisation.class, organisationId));\r\n            return save(entity);\r\n        }\r\n    \r\n        private Account save(Account entity) {\r\n            // save in same way as SimpleJpaRepository\r\n            if (entityInformation.isNew(entity)) {\r\n                entityManager.persist(entity);\r\n                return entity;\r\n            } else {\r\n                return entityManager.merge(entity);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://jira.springsource.org/browse/DATAJPA-422","title":"How to add custom method to Spring Data JPA","body":"<p>If you want to be able to do more sophisticated operations you might need access to Spring Data's internals, in which case the following works (as my interim solution to <a href=\"https://jira.springsource.org/browse/DATAJPA-422\" rel=\"nofollow noreferrer\">DATAJPA-422</a>):</p>\n<pre><code>public class AccountRepositoryImpl implements AccountRepositoryCustom {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    private JpaEntityInformation&lt;Account, ?&gt; entityInformation;\n\n    @PostConstruct\n    public void postConstruct() {\n        this.entityInformation = JpaEntityInformationSupport.getMetadata(Account.class, entityManager);\n    }\n    \n    @Override\n    @Transactional\n    public Account saveWithReferenceToOrganisation(Account entity, long organisationId) {\n        entity.setOrganisation(entityManager.getReference(Organisation.class, organisationId));\n        return save(entity);\n    }\n\n    private Account save(Account entity) {\n        // save in same way as SimpleJpaRepository\n        if (entityInformation.isNew(entity)) {\n            entityManager.persist(entity);\n            return entity;\n        } else {\n            return entityManager.merge(entity);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4219414,"reputation":471,"user_id":3454548,"accept_rate":0,"display_name":"Peter Rietzler"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1429852427,"creation_date":1429852427,"answer_id":29839225,"question_id":11880924,"body_markdown":"Im using the following code in order to access generated find methods from my custom implementation. Getting the implementation through the bean factory prevents circular bean creation problems.\r\n\r\n    \r\n    public class MyRepositoryImpl implements MyRepositoryExtensions, BeanFactoryAware {\r\n    \r\n        private BrandRepository myRepository;\r\n    \r\n        public MyBean findOne(int first, int second) {\r\n            return myRepository.findOne(new Id(first, second));\r\n        }\r\n\r\n        public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n            myRepository = beanFactory.getBean(MyRepository.class);\r\n        }\r\n    }\r\n\r\n","title":"How to add custom method to Spring Data JPA","body":"<p>Im using the following code in order to access generated find methods from my custom implementation. Getting the implementation through the bean factory prevents circular bean creation problems.</p>\n\n<pre><code>public class MyRepositoryImpl implements MyRepositoryExtensions, BeanFactoryAware {\n\n    private BrandRepository myRepository;\n\n    public MyBean findOne(int first, int second) {\n        return myRepository.findOne(new Id(first, second));\n    }\n\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n        myRepository = beanFactory.getBean(MyRepository.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3555436,"reputation":181,"user_id":2969323,"display_name":"Samba"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1690562894,"creation_date":1431874530,"answer_id":30288178,"question_id":11880924,"body_markdown":"Considering your code snippet, please note that you can only pass Native objects to the  findBy### method, lets say you want to load a list of accounts that belongs  certain costumers, one solution is to do this, \r\n\r\n    @Query(&quot;Select a from Account a where a.&quot;nameoffield&quot;=?1&quot;)\r\n    List&lt;Account&gt; findByCustomer(String &quot;nameoffield&quot;);\r\n\r\nMake sue the name of the table  to be queried is thesame as the Entity class.\r\nFor further implementations please take a look at  [this][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/1.4.3.RELEASE/reference/html/jpa.repositories.html","title":"How to add custom method to Spring Data JPA","body":"<p>Considering your code snippet, please note that you can only pass Native objects to the  findBy### method, lets say you want to load a list of accounts that belongs  certain costumers, one solution is to do this,</p>\n<pre><code>@Query(&quot;Select a from Account a where a.&quot;nameoffield&quot;=?1&quot;)\nList&lt;Account&gt; findByCustomer(String &quot;nameoffield&quot;);\n</code></pre>\n<p>Make sue the name of the table  to be queried is thesame as the Entity class.\nFor further implementations please take a look at  <a href=\"http://docs.spring.io/spring-data/jpa/docs/1.4.3.RELEASE/reference/html/jpa.repositories.html\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":6290171,"reputation":41,"user_id":4888136,"display_name":"Lukasz Magiera"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1437467703,"creation_date":1437467703,"answer_id":31534087,"question_id":11880924,"body_markdown":"There is another issue to be considered here. Some people expect that adding custom method to your repository will automatically expose them as REST services under &#39;/search&#39; link. This is unfortunately not the case. Spring doesn&#39;t support that currently. \r\n\r\nThis is &#39;by design&#39; feature, spring data rest explicitly checks if method is a custom method and doesn&#39;t expose it as a REST search link:\r\n\r\n    private boolean isQueryMethodCandidate(Method method) {    \r\n      return isQueryAnnotationPresentOn(method) || !isCustomMethod(method) &amp;&amp; !isBaseClassMethod(method);\r\n    }\r\n\r\nThis is a qoute of Oliver Gierke:\r\n\r\n&gt; This is by design. Custom repository methods are no query methods as\r\n&gt; they can effectively implement any behavior. Thus, it&#39;s currently\r\n&gt; impossible for us to decide about the HTTP method to expose the method\r\n&gt; under. POST would be the safest option but that&#39;s not in line with the\r\n&gt; generic query methods (which receive GET).\r\n\r\n\r\nFor more details see this issue: https://jira.spring.io/browse/DATAREST-206","title":"How to add custom method to Spring Data JPA","body":"<p>There is another issue to be considered here. Some people expect that adding custom method to your repository will automatically expose them as REST services under '/search' link. This is unfortunately not the case. Spring doesn't support that currently. </p>\n\n<p>This is 'by design' feature, spring data rest explicitly checks if method is a custom method and doesn't expose it as a REST search link:</p>\n\n<pre><code>private boolean isQueryMethodCandidate(Method method) {    \n  return isQueryAnnotationPresentOn(method) || !isCustomMethod(method) &amp;&amp; !isBaseClassMethod(method);\n}\n</code></pre>\n\n<p>This is a qoute of Oliver Gierke:</p>\n\n<blockquote>\n  <p>This is by design. Custom repository methods are no query methods as\n  they can effectively implement any behavior. Thus, it's currently\n  impossible for us to decide about the HTTP method to expose the method\n  under. POST would be the safest option but that's not in line with the\n  generic query methods (which receive GET).</p>\n</blockquote>\n\n<p>For more details see this issue: <a href=\"https://jira.spring.io/browse/DATAREST-206\" rel=\"nofollow\">https://jira.spring.io/browse/DATAREST-206</a></p>\n"},{"tags":[],"owner":{"account_id":5610323,"reputation":35021,"user_id":4443323,"accept_rate":74,"display_name":"Tomasz Mularczyk"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1482614868,"creation_date":1463770586,"answer_id":37353996,"question_id":11880924,"body_markdown":"This is limited in usage, but for simple custom methods you can use **default** interface methods like:\r\n\r\n    import demo.database.Customer;\r\n    import org.springframework.data.repository.CrudRepository;\r\n\r\n    public interface CustomerService extends CrudRepository&lt;Customer, Long&gt; {\r\n    \r\n        \r\n        default void addSomeCustomers() {\r\n            Customer[] customers = {\r\n                new Customer(&quot;J&#243;zef&quot;, &quot;Nowak&quot;, &quot;nowakJ@o2.pl&quot;, 679856885, &quot;Rzesz&#243;w&quot;, &quot;Podkarpackie&quot;, &quot;35-061&quot;, &quot;Zamknięta 12&quot;),\r\n                new Customer(&quot;Adrian&quot;, &quot;Mularczyk&quot;, &quot;adii333@wp.pl&quot;, 867569344, &quot;Krosno&quot;, &quot;Podkarpackie&quot;, &quot;32-442&quot;, &quot;Hynka 3/16&quot;),\r\n                new Customer(&quot;Kazimierz&quot;, &quot;Dejna&quot;, &quot;sobieski22@weebly.com&quot;, 996435876, &quot;Jarosław&quot;, &quot;Podkarpackie&quot;, &quot;25-122&quot;, &quot;Korotyńskiego 11&quot;),\r\n                new Customer(&quot;Celina&quot;, &quot;Dykiel&quot;, &quot;celina.dykiel39@yahoo.org&quot;, 947845734, &quot;Żywiec&quot;, &quot;Śląskie&quot;, &quot;54-333&quot;, &quot;Polna 29&quot;)\r\n            };\r\n            \r\n            for (Customer customer : customers) {\r\n                save(customer);\r\n            }\r\n        }\r\n    }\r\n\r\nEDIT: \r\n\r\nIn [this spring][1] tutorial it is written:\r\n\r\n&gt; Spring Data JPA also allows you to define other query methods by\r\n&gt; simply declaring their method signature.\r\n\r\nSo it is even possible to just declare method like:\r\n\r\n    Customer findByHobby(Hobby personHobby);\r\n\r\nand if object `Hobby` is a property of Customer then Spring will automatically define method for you.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/accessing-data-jpa/","title":"How to add custom method to Spring Data JPA","body":"<p>This is limited in usage, but for simple custom methods you can use <strong>default</strong> interface methods like:</p>\n\n<pre><code>import demo.database.Customer;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface CustomerService extends CrudRepository&lt;Customer, Long&gt; {\n\n\n    default void addSomeCustomers() {\n        Customer[] customers = {\n            new Customer(\"Józef\", \"Nowak\", \"nowakJ@o2.pl\", 679856885, \"Rzeszów\", \"Podkarpackie\", \"35-061\", \"Zamknięta 12\"),\n            new Customer(\"Adrian\", \"Mularczyk\", \"adii333@wp.pl\", 867569344, \"Krosno\", \"Podkarpackie\", \"32-442\", \"Hynka 3/16\"),\n            new Customer(\"Kazimierz\", \"Dejna\", \"sobieski22@weebly.com\", 996435876, \"Jarosław\", \"Podkarpackie\", \"25-122\", \"Korotyńskiego 11\"),\n            new Customer(\"Celina\", \"Dykiel\", \"celina.dykiel39@yahoo.org\", 947845734, \"Żywiec\", \"Śląskie\", \"54-333\", \"Polna 29\")\n        };\n\n        for (Customer customer : customers) {\n            save(customer);\n        }\n    }\n}\n</code></pre>\n\n<p>EDIT: </p>\n\n<p>In <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"noreferrer\">this spring</a> tutorial it is written:</p>\n\n<blockquote>\n  <p>Spring Data JPA also allows you to define other query methods by\n  simply declaring their method signature.</p>\n</blockquote>\n\n<p>So it is even possible to just declare method like:</p>\n\n<pre><code>Customer findByHobby(Hobby personHobby);\n</code></pre>\n\n<p>and if object <code>Hobby</code> is a property of Customer then Spring will automatically define method for you.</p>\n"},{"tags":[],"owner":{"account_id":3427488,"reputation":1251,"user_id":2872878,"display_name":"Danila Piatov"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1532990283,"creation_date":1532990283,"answer_id":51603203,"question_id":11880924,"body_markdown":"The accepted answer works, but has three problems:\r\n \r\n - It uses an undocumented Spring Data feature when naming the custom implementation as `AccountRepositoryImpl`. The [documentation][1] clearly states that it has to be called `AccountRepositoryCustomImpl`, the custom interface name plus `Impl`\r\n - You cannot use constructor injection, only `@Autowired`, that are considered bad practice\r\n - You have a circular dependency inside of the custom implementation (that&#39;s why you cannot use constructor injection). \r\n\r\nI found a way to make it perfect, though not without using another undocumented Spring Data feature:\r\n\r\n    public interface AccountRepository extends AccountRepositoryBasic,\r\n                                               AccountRepositoryCustom \r\n    { \r\n    }\r\n    \r\n    public interface AccountRepositoryBasic extends JpaRepository&lt;Account, Long&gt;\r\n    {\r\n        // standard Spring Data methods, like findByLogin\r\n    }\r\n    \r\n    public interface AccountRepositoryCustom \r\n    {\r\n        public void customMethod();\r\n    }\r\n    \r\n    public class AccountRepositoryCustomImpl implements AccountRepositoryCustom \r\n    {\r\n        private final AccountRepositoryBasic accountRepositoryBasic;\r\n        \r\n        // constructor-based injection\r\n        public AccountRepositoryCustomImpl(\r\n            AccountRepositoryBasic accountRepositoryBasic)\r\n        {\r\n            this.accountRepositoryBasic = accountRepositoryBasic;\r\n        }\r\n    \r\n        public void customMethod() \r\n        {\r\n            // we can call all basic Spring Data methods using\r\n            // accountRepositoryBasic\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior\r\n","title":"How to add custom method to Spring Data JPA","body":"<p>The accepted answer works, but has three problems:</p>\n\n<ul>\n<li>It uses an undocumented Spring Data feature when naming the custom implementation as <code>AccountRepositoryImpl</code>. The <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"noreferrer\">documentation</a> clearly states that it has to be called <code>AccountRepositoryCustomImpl</code>, the custom interface name plus <code>Impl</code></li>\n<li>You cannot use constructor injection, only <code>@Autowired</code>, that are considered bad practice</li>\n<li>You have a circular dependency inside of the custom implementation (that's why you cannot use constructor injection). </li>\n</ul>\n\n<p>I found a way to make it perfect, though not without using another undocumented Spring Data feature:</p>\n\n<pre><code>public interface AccountRepository extends AccountRepositoryBasic,\n                                           AccountRepositoryCustom \n{ \n}\n\npublic interface AccountRepositoryBasic extends JpaRepository&lt;Account, Long&gt;\n{\n    // standard Spring Data methods, like findByLogin\n}\n\npublic interface AccountRepositoryCustom \n{\n    public void customMethod();\n}\n\npublic class AccountRepositoryCustomImpl implements AccountRepositoryCustom \n{\n    private final AccountRepositoryBasic accountRepositoryBasic;\n\n    // constructor-based injection\n    public AccountRepositoryCustomImpl(\n        AccountRepositoryBasic accountRepositoryBasic)\n    {\n        this.accountRepositoryBasic = accountRepositoryBasic;\n    }\n\n    public void customMethod() \n    {\n        // we can call all basic Spring Data methods using\n        // accountRepositoryBasic\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6519021,"reputation":328,"user_id":5043823,"display_name":"Devilluminati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542100616,"creation_date":1542065980,"answer_id":53271689,"question_id":11880924,"body_markdown":"I extends the SimpleJpaRepository:\r\n\r\n    public class ExtendedRepositoryImpl&lt;T extends EntityBean&gt; extends SimpleJpaRepository&lt;T, Long&gt;\r\n\t\timplements ExtendedRepository&lt;T&gt; {\r\n        \r\n        private final JpaEntityInformation&lt;T, ?&gt; entityInformation;\r\n\r\n\t    private final EntityManager em;\r\n\r\n\t    public ExtendedRepositoryImpl(final JpaEntityInformation&lt;T, ?&gt; entityInformation,\r\n\t\t\t                                              final EntityManager entityManager) {\r\n\t\t   super(entityInformation, entityManager);\r\n\t\t   this.entityInformation = entityInformation;\r\n\t\t   this.em = entityManager;\r\n\t    }\r\n    }\r\n\r\nand adds this class to @EnableJpaRepositoryries repositoryBaseClass.","title":"How to add custom method to Spring Data JPA","body":"<p>I extends the SimpleJpaRepository:</p>\n\n<pre><code>public class ExtendedRepositoryImpl&lt;T extends EntityBean&gt; extends SimpleJpaRepository&lt;T, Long&gt;\n    implements ExtendedRepository&lt;T&gt; {\n\n    private final JpaEntityInformation&lt;T, ?&gt; entityInformation;\n\n    private final EntityManager em;\n\n    public ExtendedRepositoryImpl(final JpaEntityInformation&lt;T, ?&gt; entityInformation,\n                                                      final EntityManager entityManager) {\n       super(entityInformation, entityManager);\n       this.entityInformation = entityInformation;\n       this.em = entityManager;\n    }\n}\n</code></pre>\n\n<p>and adds this class to @EnableJpaRepositoryries repositoryBaseClass.</p>\n"},{"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"down_vote_count":1,"up_vote_count":61,"is_accepted":false,"score":60,"last_activity_date":1680118859,"creation_date":1554512182,"answer_id":55544940,"question_id":11880924,"body_markdown":"There&#39;s a slightly modified solution that **does not require** additional interfaces.\r\n\r\nAs specificed in the [documented functionality][1], the `Impl` suffix allows us to have such clean solution:\r\n\r\n- Define in you regular `@Repository` interface, e.g., `MyEntityRepository`, the custom methods (in addition to your Spring Data methods)\r\n- Create a class `MyEntityRepositoryImpl` (the `Impl` suffix is the magic) anywhere (doesn&#39;t even need to be in the same package) that **implements the custom methods** only and **annotate** such class with **`@Component`** (`@Repository` **will not** work).\r\n   - This class can even inject `MyEntityRepository` via `@Autowired` for use in the custom methods.\r\n\r\n&lt;br&gt;\r\n\r\n# Example:\r\n\r\nEntity class (for completeness):\r\n\r\n    package myapp.domain.myentity;\r\n    @Entity\r\n    public class MyEntity {\r\n        @Id     private Long id;\r\n        @Column private String comment;\r\n    }\r\n\r\nRepository interface:\r\n\r\n    package myapp.domain.myentity;\r\n\r\n    @Repository\r\n    public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {\r\n    \r\n        // EXAMPLE SPRING DATA METHOD\r\n        List&lt;MyEntity&gt; findByCommentEndsWith(String x);\r\n    \r\n        List&lt;MyEntity&gt; doSomeHql(Long id);   // custom method, code at *Impl class below\r\n    \r\n        List&lt;MyEntity&gt; useTheRepo(Long id);  // custom method, code at *Impl class below\r\n    \r\n    }\r\n\r\nCustom methods implementation bean:\r\n\r\n    package myapp.infrastructure.myentity;\r\n\r\n    @Component // Must be @Component !!\r\n    public class MyEntityRepositoryImpl { // must have the exact repo name + Impl !!\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        @Autowired\r\n        private MyEntityRepository myEntityRepository;\r\n    \r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public List&lt;MyEntity&gt; doSomeHql(Long id) {\r\n            String hql = &quot;SELECT eFROM MyEntity e WHERE e.id = :id&quot;;\r\n            TypedQuery&lt;MyEntity&gt; query = entityManager.createQuery(hql, MyEntity.class);\r\n            query.setParameter(&quot;id&quot;, id);\r\n            return query.getResultList();\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public List&lt;MyEntity&gt; useTheRepo(Long id) {\r\n            List&lt;MyEntity&gt; es = doSomeHql(id);\r\n            es.addAll(myEntityRepository.findByCommentEndsWith(&quot;DO&quot;));\r\n            es.add(myEntityRepository.findById(2L).get());\r\n            return es;\r\n        }\r\n    \r\n    }\r\n\r\nUsage:\r\n\r\n    // You just autowire the the MyEntityRepository as usual\r\n    // (the Impl class is just impl detail, the clients don&#39;t even know about it)\r\n    @Service\r\n    public class SomeService {\r\n        @Autowired\r\n        private MyEntityRepository myEntityRepository;\r\n\r\n        public void someMethod(String x, long y) {\r\n            // call any method as usual\r\n            myEntityRepository.findByCommentEndsWith(x);\r\n            myEntityRepository.doSomeHql(y);\r\n        }\r\n    }\r\n\r\nAnd that&#39;s all, no need for any interfaces other than the Spring Data repo one you already have.\r\n\r\n&lt;br&gt;\r\n\r\nThe only possible drawbacks I identified are:\r\n\r\n- The custom methods in the `Impl` class are marked as unused by the compiler, thus the `@SuppressWarnings(&quot;unused&quot;)` suggestion.\r\n- You have a limit of one `Impl` class. (Whereas in the regular fragment interfaces implementation [the docs suggest][1] you could have many.)\r\n- If you place the `Impl` class at a different package and your test uses only `@DataJpaTest`, you have to add `@ComponentScan(&quot;package.of.the.impl.clazz&quot;)` to your test, so Spring loads it.\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior","title":"How to add custom method to Spring Data JPA","body":"<p>There's a slightly modified solution that <strong>does not require</strong> additional interfaces.</p>\n<p>As specificed in the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"noreferrer\">documented functionality</a>, the <code>Impl</code> suffix allows us to have such clean solution:</p>\n<ul>\n<li>Define in you regular <code>@Repository</code> interface, e.g., <code>MyEntityRepository</code>, the custom methods (in addition to your Spring Data methods)</li>\n<li>Create a class <code>MyEntityRepositoryImpl</code> (the <code>Impl</code> suffix is the magic) anywhere (doesn't even need to be in the same package) that <strong>implements the custom methods</strong> only and <strong>annotate</strong> such class with <strong><code>@Component</code></strong> (<code>@Repository</code> <strong>will not</strong> work).\n<ul>\n<li>This class can even inject <code>MyEntityRepository</code> via <code>@Autowired</code> for use in the custom methods.</li>\n</ul>\n</li>\n</ul>\n<br>\n<h1>Example:</h1>\n<p>Entity class (for completeness):</p>\n<pre><code>package myapp.domain.myentity;\n@Entity\npublic class MyEntity {\n    @Id     private Long id;\n    @Column private String comment;\n}\n</code></pre>\n<p>Repository interface:</p>\n<pre><code>package myapp.domain.myentity;\n\n@Repository\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {\n\n    // EXAMPLE SPRING DATA METHOD\n    List&lt;MyEntity&gt; findByCommentEndsWith(String x);\n\n    List&lt;MyEntity&gt; doSomeHql(Long id);   // custom method, code at *Impl class below\n\n    List&lt;MyEntity&gt; useTheRepo(Long id);  // custom method, code at *Impl class below\n\n}\n</code></pre>\n<p>Custom methods implementation bean:</p>\n<pre><code>package myapp.infrastructure.myentity;\n\n@Component // Must be @Component !!\npublic class MyEntityRepositoryImpl { // must have the exact repo name + Impl !!\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Autowired\n    private MyEntityRepository myEntityRepository;\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public List&lt;MyEntity&gt; doSomeHql(Long id) {\n        String hql = &quot;SELECT eFROM MyEntity e WHERE e.id = :id&quot;;\n        TypedQuery&lt;MyEntity&gt; query = entityManager.createQuery(hql, MyEntity.class);\n        query.setParameter(&quot;id&quot;, id);\n        return query.getResultList();\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public List&lt;MyEntity&gt; useTheRepo(Long id) {\n        List&lt;MyEntity&gt; es = doSomeHql(id);\n        es.addAll(myEntityRepository.findByCommentEndsWith(&quot;DO&quot;));\n        es.add(myEntityRepository.findById(2L).get());\n        return es;\n    }\n\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>// You just autowire the the MyEntityRepository as usual\n// (the Impl class is just impl detail, the clients don't even know about it)\n@Service\npublic class SomeService {\n    @Autowired\n    private MyEntityRepository myEntityRepository;\n\n    public void someMethod(String x, long y) {\n        // call any method as usual\n        myEntityRepository.findByCommentEndsWith(x);\n        myEntityRepository.doSomeHql(y);\n    }\n}\n</code></pre>\n<p>And that's all, no need for any interfaces other than the Spring Data repo one you already have.</p>\n<br>\n<p>The only possible drawbacks I identified are:</p>\n<ul>\n<li>The custom methods in the <code>Impl</code> class are marked as unused by the compiler, thus the <code>@SuppressWarnings(&quot;unused&quot;)</code> suggestion.</li>\n<li>You have a limit of one <code>Impl</code> class. (Whereas in the regular fragment interfaces implementation <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"noreferrer\">the docs suggest</a> you could have many.)</li>\n<li>If you place the <code>Impl</code> class at a different package and your test uses only <code>@DataJpaTest</code>, you have to add <code>@ComponentScan(&quot;package.of.the.impl.clazz&quot;)</code> to your test, so Spring loads it.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6002252,"reputation":1712,"user_id":4715129,"accept_rate":77,"display_name":"LoremIpsum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599584023,"creation_date":1599584023,"answer_id":63798370,"question_id":11880924,"body_markdown":"I use SimpleJpaRepository as the base class of  repository implementation and add custom method in the interface,eg:\r\n\r\n    public interface UserRepository  {\r\n        User FindOrInsert(int userId);\r\n    }\r\n    \r\n    @Repository\r\n    public class UserRepositoryImpl extends SimpleJpaRepository implements UserRepository {\r\n    \r\n        private RedisClient redisClient;\r\n    \r\n        public UserRepositoryImpl(RedisClient redisClient, EntityManager em) {\r\n            super(User.class, em);\r\n            this.redisClient = redisClient;\r\n        }\r\n    \r\n    \r\n    @Override\r\n    public User FindOrInsert(int userId) {\r\n    \r\n        User u = redisClient.getOrSet(&quot;test key.. User.class, () -&gt; {\r\n            Optional&lt;User&gt; ou = this.findById(Integer.valueOf(userId));\r\n            return ou.get();\r\n        });\r\n        …………\r\n        return u;\r\n    }\r\n\r\n","title":"How to add custom method to Spring Data JPA","body":"<p>I use SimpleJpaRepository as the base class of  repository implementation and add custom method in the interface,eg:</p>\n<pre><code>public interface UserRepository  {\n    User FindOrInsert(int userId);\n}\n\n@Repository\npublic class UserRepositoryImpl extends SimpleJpaRepository implements UserRepository {\n\n    private RedisClient redisClient;\n\n    public UserRepositoryImpl(RedisClient redisClient, EntityManager em) {\n        super(User.class, em);\n        this.redisClient = redisClient;\n    }\n\n\n@Override\npublic User FindOrInsert(int userId) {\n\n    User u = redisClient.getOrSet(&quot;test key.. User.class, () -&gt; {\n        Optional&lt;User&gt; ou = this.findById(Integer.valueOf(userId));\n        return ou.get();\n    });\n    …………\n    return u;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20167294,"reputation":51,"user_id":14790905,"display_name":"virtual-g"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1607535146,"creation_date":1607479636,"answer_id":65209633,"question_id":11880924,"body_markdown":"I liked Danila&#39;s solution and started using it but nobody else on the team liked having to create 4 classes for each repository. Danila&#39;s solution is the only one here that let&#39;s you use the Spring Data methods in the Impl class. However, I found a way to do it with just a single class:\r\n\r\n```\r\npublic interface UserRepository extends MongoAccess, PagingAndSortingRepository&lt;User&gt; {\r\n\r\n    List&lt;User&gt; getByUsername(String username);\r\n\r\n\r\n    default List&lt;User&gt; getByUsernameCustom(String username) {\r\n        // Can call Spring Data methods!\r\n        findAll();\r\n\r\n        // Can write your own!\r\n        MongoOperations operations = getMongoOperations();\r\n        return operations.find(new Query(Criteria.where(&quot;username&quot;).is(username)), User.class);\r\n    }\r\n}\r\n```\r\n\r\nYou just need some way of getting access to your db bean (in this example, MongoOperations). MongoAccess provides that access to all of your repositories by retrieving the bean directly:\r\n```\r\npublic interface MongoAccess {\r\n    default MongoOperations getMongoOperations() {\r\n        return BeanAccessor.getSingleton(MongoOperations.class);\r\n    }\r\n}\r\n```\r\n\r\nWhere BeanAccessor is:\r\n```\r\n@Component\r\npublic class BeanAccessor implements ApplicationContextAware {\r\n\r\n    private static ApplicationContext applicationContext;\r\n\r\n    public static &lt;T&gt; T getSingleton(Class&lt;T&gt; clazz){\r\n        return applicationContext.getBean(clazz);\r\n    }\r\n\r\n    public static &lt;T&gt; T getSingleton(String beanName, Class&lt;T&gt; clazz){\r\n        return applicationContext.getBean(beanName, clazz);\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n        BeanAccessor.applicationContext = applicationContext;\r\n    }\r\n\r\n}\r\n```\r\n\r\nUnfortunately, you can&#39;t @Autowire in an interface. You could autowire the bean into a MongoAccessImpl and provide a method in the interface to access it, but Spring Data blows up. I don&#39;t think it expects to see an Impl associated even indirectly with PagingAndSortingRepository.","title":"How to add custom method to Spring Data JPA","body":"<p>I liked Danila's solution and started using it but nobody else on the team liked having to create 4 classes for each repository. Danila's solution is the only one here that let's you use the Spring Data methods in the Impl class. However, I found a way to do it with just a single class:</p>\n<pre><code>public interface UserRepository extends MongoAccess, PagingAndSortingRepository&lt;User&gt; {\n\n    List&lt;User&gt; getByUsername(String username);\n\n\n    default List&lt;User&gt; getByUsernameCustom(String username) {\n        // Can call Spring Data methods!\n        findAll();\n\n        // Can write your own!\n        MongoOperations operations = getMongoOperations();\n        return operations.find(new Query(Criteria.where(&quot;username&quot;).is(username)), User.class);\n    }\n}\n</code></pre>\n<p>You just need some way of getting access to your db bean (in this example, MongoOperations). MongoAccess provides that access to all of your repositories by retrieving the bean directly:</p>\n<pre><code>public interface MongoAccess {\n    default MongoOperations getMongoOperations() {\n        return BeanAccessor.getSingleton(MongoOperations.class);\n    }\n}\n</code></pre>\n<p>Where BeanAccessor is:</p>\n<pre><code>@Component\npublic class BeanAccessor implements ApplicationContextAware {\n\n    private static ApplicationContext applicationContext;\n\n    public static &lt;T&gt; T getSingleton(Class&lt;T&gt; clazz){\n        return applicationContext.getBean(clazz);\n    }\n\n    public static &lt;T&gt; T getSingleton(String beanName, Class&lt;T&gt; clazz){\n        return applicationContext.getBean(beanName, clazz);\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        BeanAccessor.applicationContext = applicationContext;\n    }\n\n}\n</code></pre>\n<p>Unfortunately, you can't @Autowire in an interface. You could autowire the bean into a MongoAccessImpl and provide a method in the interface to access it, but Spring Data blows up. I don't think it expects to see an Impl associated even indirectly with PagingAndSortingRepository.</p>\n"},{"tags":[],"owner":{"account_id":8166380,"reputation":11,"user_id":8551938,"display_name":"mryba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620380969,"creation_date":1620380969,"answer_id":67432622,"question_id":11880924,"body_markdown":"I faced with this using mongo and spring. So let&#39;s assume we use MongoRepository to provided base crud operations, and let&#39;s say we need to implement some custom criteria query operation using mongoTemplate. To achieve one interface to inject repository for crud and custom we need to specify:\r\n\r\nCustom interface:\r\n\r\n    public interface UserCustomRepository {\r\n     List&lt;User&gt; findAllUsersBySomeCriteria(UserCriteriaRequest criteriaRequest);\r\n    }\r\n\r\nUserRepository interface &#39;must&#39; first extends UserCustomRepository and then MongoRepository\r\n\r\n\r\n    @Repository\r\n    public interface UserRepository extends UserCustomRepository, MongoRepository&lt;User, ObjectId&gt; {\r\n    }\r\n\r\nUserRepositoryImpl must have the same name as what crud interface with *Impl suffix.\r\n\r\n    @Component\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class UserRepositoryImpl implements UserCustomRepository {\r\n   \r\n     private MongoTemplate mongoTemplate;\r\n    \r\n     @Override\r\n     public List&lt;User&gt; findAllUsersBySomeCriteria(UserCriteriaRequest criteriaRequest){\r\n      //some impl\r\n     }\r\n    }\r\n\r\nLet&#39;s impl some service - here we inject only UserRepository interface and use methods from crud repository and custom class impl.\r\n\r\n    @Service\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class UserService {\r\n   \r\n     private UserRepository userReposityry;\r\n\r\n     public List&lt;User&gt; getUserByCriteria(UserCriteriaRequest request) {\r\n       userRepository.findById(request.getUserId); // Crud repository method\r\n       userRepository.findAllUsersBySomeCriteria(request); // custom method.\r\n     }\r\n    }\r\n    \r\n\r\n\r\n","title":"How to add custom method to Spring Data JPA","body":"<p>I faced with this using mongo and spring. So let's assume we use MongoRepository to provided base crud operations, and let's say we need to implement some custom criteria query operation using mongoTemplate. To achieve one interface to inject repository for crud and custom we need to specify:</p>\n<p>Custom interface:</p>\n<pre><code>public interface UserCustomRepository {\n List&lt;User&gt; findAllUsersBySomeCriteria(UserCriteriaRequest criteriaRequest);\n}\n</code></pre>\n<p>UserRepository interface 'must' first extends UserCustomRepository and then MongoRepository</p>\n<pre><code>@Repository\npublic interface UserRepository extends UserCustomRepository, MongoRepository&lt;User, ObjectId&gt; {\n}\n</code></pre>\n<p>UserRepositoryImpl must have the same name as what crud interface with *Impl suffix.</p>\n<pre><code>@Component\n@NoArgsConstructor\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class UserRepositoryImpl implements UserCustomRepository {\n\n private MongoTemplate mongoTemplate;\n\n @Override\n public List&lt;User&gt; findAllUsersBySomeCriteria(UserCriteriaRequest criteriaRequest){\n  //some impl\n }\n}\n</code></pre>\n<p>Let's impl some service - here we inject only UserRepository interface and use methods from crud repository and custom class impl.</p>\n<pre><code>@Service\n@NoArgsConstructor\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class UserService {\n\n private UserRepository userReposityry;\n\n public List&lt;User&gt; getUserByCriteria(UserCriteriaRequest request) {\n   userRepository.findById(request.getUserId); // Crud repository method\n   userRepository.findAllUsersBySomeCriteria(request); // custom method.\n }\n}\n</code></pre>\n"}],"owner":{"account_id":226240,"reputation":2961,"user_id":487171,"accept_rate":100,"display_name":"Sharad Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268718,"favorite_count":0,"down_vote_count":0,"up_vote_count":220,"accepted_answer_id":11881203,"answer_count":13,"score":220,"last_activity_date":1690562894,"creation_date":1344506407,"question_id":11880924,"body_markdown":"I am looking into Spring Data JPA. Consider the below example where I will get all the crud and finder functionality working by default and if I want to customize a finder then that can be also done easily in the interface itself.\r\n\r\n    @Transactional(readOnly = true)\r\n    public interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\r\n     \r\n      @Query(&quot;&lt;JPQ statement here&gt;&quot;)\r\n      List&lt;Account&gt; findByCustomer(Customer customer);\r\n    }\r\n\r\nI would like to know how can I add a complete custom method with its implementation for the above AccountRepository? Since its an Interface I cannot implement the method there.","title":"How to add custom method to Spring Data JPA","body":"<p>I am looking into Spring Data JPA. Consider the below example where I will get all the crud and finder functionality working by default and if I want to customize a finder then that can be also done easily in the interface itself.</p>\n\n<pre><code>@Transactional(readOnly = true)\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\n\n  @Query(\"&lt;JPQ statement here&gt;\")\n  List&lt;Account&gt; findByCustomer(Customer customer);\n}\n</code></pre>\n\n<p>I would like to know how can I add a complete custom method with its implementation for the above AccountRepository? Since its an Interface I cannot implement the method there.</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":3928844,"reputation":1550,"user_id":3248244,"display_name":"Burak Akyıldız"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690562685,"creation_date":1545642054,"answer_id":53911281,"question_id":53910783,"body_markdown":"Kafka client is not guarenteed about atomic topic creation. You can read it from this [documentation][1]. When you create a topic, kafka will notify distributed systems about topics information so the action is running on different machines and these can&#39;t be atomic without distributed transactional management.\r\n\r\n\r\n  [1]: https://kafka.apache.org/20/javadoc/org/apache/kafka/clients/admin/AdminClient.html#createTopics-java.util.Collection-org.apache.kafka.clients.admin.CreateTopicsOptions-","title":"Kafka producer throws &quot;Received unknown topic or partition error&quot; when sending to topic created via AdminClient createTopics method","body":"<p>Kafka client is not guarenteed about atomic topic creation. You can read it from this <a href=\"https://kafka.apache.org/20/javadoc/org/apache/kafka/clients/admin/AdminClient.html#createTopics-java.util.Collection-org.apache.kafka.clients.admin.CreateTopicsOptions-\" rel=\"nofollow noreferrer\">documentation</a>. When you create a topic, kafka will notify distributed systems about topics information so the action is running on different machines and these can't be atomic without distributed transactional management.</p>\n"}],"owner":{"account_id":2799979,"reputation":202,"user_id":6319698,"display_name":"Tomasz S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25050,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":53911281,"answer_count":1,"score":7,"last_activity_date":1690562685,"creation_date":1545638816,"question_id":53910783,"body_markdown":"I have issue with topics created using `AdminClient createTopics`.\r\nIn my application I have following sequence:\r\n\r\n 1. create new topic with 1 partition, replication factor set to 1 using `AdminClient.createTopics`\r\n 2. wait on`AdminClient.createTopics` `KafkaFuture` result\r\n 3. immediately send a new message to newly created topic (usually the time between operation 2 and 3 is about 200 milliseconds).\r\n\r\nMy code is as follows:\r\n\r\n    adminClient\r\n      .createTopics(Collections.singleton(new NewTopic(targetTopic, 1, (short) 1)))\r\n      .values()\r\n      .get(targetTopic)\r\n      .get();\r\n    producer.send(new ProducerRecord&lt;&gt;(targetTopic, data));\r\n&lt;/code&gt;\r\n\r\nFrom time to time producer doesn&#39;t see the created topic and throws following exception:\r\n\r\n&gt;    [Producer clientId=producer-1] Error while fetching metadata with correlation id 5 : {targetTopic=UNKNOWN_TOPIC_OR_PARTITION}\r\n&gt;    \r\n&gt;    [Producer clientId=producer-1] Received unknown topic or partition error in produce request on partition targetTopic. The topic/partition may not exist or the user may not have Describe access to it\r\n\r\nThis issue is very rare (&lt; 0,1% all created topics).\r\n\r\nIs it guaranteed that when `AdminClient.createTopics` Kafka future is completed then topic is created and Kafka producer should see that topic ?\r\nIf not then which method of topic creation can give me such guarantee ? \r\n\r\nI am using kafka-clients:2.0.0 and Kafka HD service on Azure. My cluster consists of 3 Zookeeper and 3 Kafka nodes.\r\n","title":"Kafka producer throws &quot;Received unknown topic or partition error&quot; when sending to topic created via AdminClient createTopics method","body":"<p>I have issue with topics created using <code>AdminClient createTopics</code>.\nIn my application I have following sequence:</p>\n\n<ol>\n<li>create new topic with 1 partition, replication factor set to 1 using <code>AdminClient.createTopics</code></li>\n<li>wait on<code>AdminClient.createTopics</code> <code>KafkaFuture</code> result</li>\n<li>immediately send a new message to newly created topic (usually the time between operation 2 and 3 is about 200 milliseconds).</li>\n</ol>\n\n<p>My code is as follows:</p>\n\n<pre><code>adminClient\n  .createTopics(Collections.singleton(new NewTopic(targetTopic, 1, (short) 1)))\n  .values()\n  .get(targetTopic)\n  .get();\nproducer.send(new ProducerRecord&lt;&gt;(targetTopic, data));\n</code></pre>\n\n<p></p>\n\n<p>From time to time producer doesn't see the created topic and throws following exception:</p>\n\n<blockquote>\n  <p>[Producer clientId=producer-1] Error while fetching metadata with correlation id 5 : {targetTopic=UNKNOWN_TOPIC_OR_PARTITION}</p>\n  \n  <p>[Producer clientId=producer-1] Received unknown topic or partition error in produce request on partition targetTopic. The topic/partition may not exist or the user may not have Describe access to it</p>\n</blockquote>\n\n<p>This issue is very rare (&lt; 0,1% all created topics).</p>\n\n<p>Is it guaranteed that when <code>AdminClient.createTopics</code> Kafka future is completed then topic is created and Kafka producer should see that topic ?\nIf not then which method of topic creation can give me such guarantee ? </p>\n\n<p>I am using kafka-clients:2.0.0 and Kafka HD service on Azure. My cluster consists of 3 Zookeeper and 3 Kafka nodes.</p>\n"},{"tags":["java","docker","apache-kafka","docker-compose","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":18316708,"reputation":237,"user_id":13338344,"display_name":"Keyur Barapatre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626080561,"creation_date":1626080561,"answer_id":68344633,"question_id":68343394,"body_markdown":"Initially they are on default bridge network, and in order to communicate between the containers you have to use container IPs.\r\n\r\nYou can try deploying both of the containers on same network.\r\n\r\nAdd a network definition in your docker-compose\r\n\r\n```\r\nnetworks:\r\n  default:\r\n    external:\r\n      name: zookeeper-kafka\r\n  zookeeper-kafka:\r\n    driver: bridge\r\n```\r\n\r\nIn services definition you can add network name and ports.\r\n\r\nExample, for zookeeper service\r\n\r\n```\r\nzookeeper:\r\n    networks:\r\n    - zookeeper-kafka\r\n    image: confluentinc/cp-zookeeper:5.5.1\r\n    hostname: zookeeper\r\n    container_name: zookeeper\r\n    ports:\r\n      - &quot;2181:2181&quot;\r\n    environment:\r\n      ZOOKEEPER_CLIENT_PORT: 2181\r\n      ZOOKEEPER_TICK_TIME: 2000\r\n    volumes:\r\n      - ./.docker-volumes/zookeeper/_data:/var/lib/zookeeper/data\r\n      - ./.docker-volumes/zookeeper/_log:/var/lib/zookeeper/log\r\n```\r\n\r\nAnd then you can access zookeeper service via zookeeper-kafka:2181 (i.e. network-name:port), while connecting through kafka.\r\n\r\nExample for update kafka service definition\r\n\r\n```\r\nkafka:\r\n    networks:\r\n    - zookeeper-kafka\r\n    image: confluentinc/cp-kafka:5.5.1\r\n    depends_on:\r\n      - zookeeper\r\n    ports:\r\n      - 9092:9092\r\n    environment:\r\n      KAFKA_BROKER_ID: 1\r\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper-kafka:2181\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://zookeeper-kafka:29092,PLAINTEXT_HOST://0.0.0.0:9092\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n    volumes:\r\n      - ./.docker-volumes/kafka/_data:/var/lib/kafka/data\r\n```\r\nHopefully this helps you\r\n","title":"not able to connect with the kafka in docker using docker-file","body":"<p>Initially they are on default bridge network, and in order to communicate between the containers you have to use container IPs.</p>\n<p>You can try deploying both of the containers on same network.</p>\n<p>Add a network definition in your docker-compose</p>\n<pre><code>networks:\n  default:\n    external:\n      name: zookeeper-kafka\n  zookeeper-kafka:\n    driver: bridge\n</code></pre>\n<p>In services definition you can add network name and ports.</p>\n<p>Example, for zookeeper service</p>\n<pre><code>zookeeper:\n    networks:\n    - zookeeper-kafka\n    image: confluentinc/cp-zookeeper:5.5.1\n    hostname: zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n    volumes:\n      - ./.docker-volumes/zookeeper/_data:/var/lib/zookeeper/data\n      - ./.docker-volumes/zookeeper/_log:/var/lib/zookeeper/log\n</code></pre>\n<p>And then you can access zookeeper service via zookeeper-kafka:2181 (i.e. network-name:port), while connecting through kafka.</p>\n<p>Example for update kafka service definition</p>\n<pre><code>kafka:\n    networks:\n    - zookeeper-kafka\n    image: confluentinc/cp-kafka:5.5.1\n    depends_on:\n      - zookeeper\n    ports:\n      - 9092:9092\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper-kafka:2181\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://zookeeper-kafka:29092,PLAINTEXT_HOST://0.0.0.0:9092\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n    volumes:\n      - ./.docker-volumes/kafka/_data:/var/lib/kafka/data\n</code></pre>\n<p>Hopefully this helps you</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626130581,"creation_date":1626130581,"answer_id":68354650,"question_id":68343394,"body_markdown":"`PLAINTEXT_HOST://0.0.0.0:9092` is not a valid advertised listener; this needs to be a resolvable address. \r\n\r\nIn your error, `Connection to node -1 (localhost/127.0.0.1:9092) terminated`, unclear where this code is running, but if on the same host outside of Docker, then you should advertise `localhost`, not `0.0.0.0`\r\n\r\nYour other error, `InvalidReceiveException: Invalid receive (size = 369296129 larger than 104857600)` indicates that you have connected to some other server and got a response that the client did not expect. ","title":"not able to connect with the kafka in docker using docker-file","body":"<p><code>PLAINTEXT_HOST://0.0.0.0:9092</code> is not a valid advertised listener; this needs to be a resolvable address.</p>\n<p>In your error, <code>Connection to node -1 (localhost/127.0.0.1:9092) terminated</code>, unclear where this code is running, but if on the same host outside of Docker, then you should advertise <code>localhost</code>, not <code>0.0.0.0</code></p>\n<p>Your other error, <code>InvalidReceiveException: Invalid receive (size = 369296129 larger than 104857600)</code> indicates that you have connected to some other server and got a response that the client did not expect.</p>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690562579,"creation_date":1690562579,"answer_id":76789654,"question_id":68343394,"body_markdown":"I also experienced same problem, we use kafka container for running functional tests dealing with producers or consumers.\r\n\r\nHere is snippet from docker-compose.yml where the containers for zookeeper, kafka and schema registries are provided\r\n\r\n    zookeeper:\r\n        image: confluentinc/cp-zookeeper:6.1.0\r\n        hostname: zookeeper\r\n        container_name: zookeeper\r\n        healthcheck:\r\n          test: nc -z zookeeper 2181\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n        environment:\r\n          ZOOKEEPER_CLIENT_PORT: 2181\r\n          # Default 8080 port clashes with existing services\r\n          KAFKA_OPTS: &#39;-Dzookeeper.admin.serverPort=3181&#39;\r\n    \r\n    \r\n    kafka:\r\n        image: confluentinc/cp-kafka:6.1.0\r\n        hostname: kafka\r\n        container_name: kafka\r\n        healthcheck:\r\n          test: nc -z kafka 29092\r\n        depends_on:\r\n          zookeeper:\r\n            condition: service_healthy\r\n        ports:\r\n          - &quot;29092:29092&quot;\r\n        environment:\r\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n          KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092,PLAINTEXT_HOST://localhost:29092\r\n          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n          KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n          KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n          KAFKA_CONFLUENT_LICENSE_TOPIC_REPLICATION_FACTOR: 1\r\n          KAFKA_CONFLUENT_BALANCER_TOPIC_REPLICATION_FACTOR: 1\r\n    \r\n    \r\n    schema-registry:\r\n        image: confluentinc/cp-schema-registry:6.1.0\r\n        hostname: schema-registry\r\n        container_name: schema-registry\r\n        healthcheck:\r\n          test: nc -z schema-registry 8081\r\n        restart: always\r\n        depends_on:\r\n          kafka:\r\n            condition: service_healthy\r\n        ports:\r\n          - &#39;8081:8081&#39;\r\n        environment:\r\n          SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: PLAINTEXT://kafka:9092\r\n          SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: zookeeper:2181\r\n          SCHEMA_REGISTRY_HOST_NAME: schema-registry\r\n          SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8081\r\n\r\n\r\nNow as you can see in the **kafka** container\r\n\r\n    KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n\r\nthe security protocol the container is exposing was PLAINTEXT.\r\n\r\nHowever in my case, the problem was in the application.yaml file. Below is the kafka producer config in application.yaml. Now as its mentioned security protocol to be SASL_SSL\r\n\r\n   \r\n\r\n     kafka:\r\n            producer:\r\n              bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVER:}\r\n              key-serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\r\n              value-serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\r\n            properties:\r\n              schema.registry.url: ${KAFKA_SCHEMA_REGISTRY_URL:}\r\n              sasl:\r\n                jaas:\r\n                  config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&#39;${KAFKA_CLUSTER_API_KEY:}&#39; password=&#39;${KAFKA_CLUSTER_SECRET:}&#39;;\r\n                mechanism: PLAIN\r\n              basic:\r\n                auth:\r\n                  user:\r\n                    info: ${KAFKA_SCHEMA_REGISTRY_API_KEY:}:${KAFKA_SCHEMA_REGISTRY_SECRET:}\r\n                  credentials:\r\n                    source: USER_INFO\r\n              security:\r\n                protocol: SASL_SSL\r\n\r\nSo, in order to run my functional tests, I had to override this security protocol to PLAINTEXT. As this is only needed for functional test, and in production configuration SASL_SSL is the right thing.\r\n\r\nAnd the way we can override is by setting an environment variable named `SPRING_KAFKA_PROPERTIES_SECURITY_PROTOCOL`  this is equivalent to (Spring resolves this implicitly)\r\n\r\n    spring:\r\n        kafka:\r\n           properties:\r\n              security:\r\n                  protocol: PLAINTEXT \r\n\r\nAnd thus, in functional test mode, application was able to connect to the kafka container by overriding the security protocol from **SASL_SSL** to **PLAINTEXT**\r\n                    ","title":"not able to connect with the kafka in docker using docker-file","body":"<p>I also experienced same problem, we use kafka container for running functional tests dealing with producers or consumers.</p>\n<p>Here is snippet from docker-compose.yml where the containers for zookeeper, kafka and schema registries are provided</p>\n<pre><code>zookeeper:\n    image: confluentinc/cp-zookeeper:6.1.0\n    hostname: zookeeper\n    container_name: zookeeper\n    healthcheck:\n      test: nc -z zookeeper 2181\n    ports:\n      - &quot;2181:2181&quot;\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      # Default 8080 port clashes with existing services\n      KAFKA_OPTS: '-Dzookeeper.admin.serverPort=3181'\n\n\nkafka:\n    image: confluentinc/cp-kafka:6.1.0\n    hostname: kafka\n    container_name: kafka\n    healthcheck:\n      test: nc -z kafka 29092\n    depends_on:\n      zookeeper:\n        condition: service_healthy\n    ports:\n      - &quot;29092:29092&quot;\n    environment:\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092,PLAINTEXT_HOST://localhost:29092\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_CONFLUENT_LICENSE_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_CONFLUENT_BALANCER_TOPIC_REPLICATION_FACTOR: 1\n\n\nschema-registry:\n    image: confluentinc/cp-schema-registry:6.1.0\n    hostname: schema-registry\n    container_name: schema-registry\n    healthcheck:\n      test: nc -z schema-registry 8081\n    restart: always\n    depends_on:\n      kafka:\n        condition: service_healthy\n    ports:\n      - '8081:8081'\n    environment:\n      SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: PLAINTEXT://kafka:9092\n      SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: zookeeper:2181\n      SCHEMA_REGISTRY_HOST_NAME: schema-registry\n      SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8081\n</code></pre>\n<p>Now as you can see in the <strong>kafka</strong> container</p>\n<pre><code>KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n</code></pre>\n<p>the security protocol the container is exposing was PLAINTEXT.</p>\n<p>However in my case, the problem was in the application.yaml file. Below is the kafka producer config in application.yaml. Now as its mentioned security protocol to be SASL_SSL</p>\n<pre><code> kafka:\n        producer:\n          bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVER:}\n          key-serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\n          value-serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\n        properties:\n          schema.registry.url: ${KAFKA_SCHEMA_REGISTRY_URL:}\n          sasl:\n            jaas:\n              config: org.apache.kafka.common.security.plain.PlainLoginModule required username='${KAFKA_CLUSTER_API_KEY:}' password='${KAFKA_CLUSTER_SECRET:}';\n            mechanism: PLAIN\n          basic:\n            auth:\n              user:\n                info: ${KAFKA_SCHEMA_REGISTRY_API_KEY:}:${KAFKA_SCHEMA_REGISTRY_SECRET:}\n              credentials:\n                source: USER_INFO\n          security:\n            protocol: SASL_SSL\n</code></pre>\n<p>So, in order to run my functional tests, I had to override this security protocol to PLAINTEXT. As this is only needed for functional test, and in production configuration SASL_SSL is the right thing.</p>\n<p>And the way we can override is by setting an environment variable named <code>SPRING_KAFKA_PROPERTIES_SECURITY_PROTOCOL</code>  this is equivalent to (Spring resolves this implicitly)</p>\n<pre><code>spring:\n    kafka:\n       properties:\n          security:\n              protocol: PLAINTEXT \n</code></pre>\n<p>And thus, in functional test mode, application was able to connect to the kafka container by overriding the security protocol from <strong>SASL_SSL</strong> to <strong>PLAINTEXT</strong></p>\n"}],"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3230,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1690562579,"creation_date":1626074427,"question_id":68343394,"body_markdown":"```---\r\nversion: &#39;2&#39;\r\nservices:\r\n  zookeeper:\r\n    image: confluentinc/cp-zookeeper:5.5.1\r\n    hostname: zookeeper\r\n    container_name: zookeeper\r\n    ports:\r\n      - &quot;2181:2181&quot;\r\n    environment:\r\n      ZOOKEEPER_CLIENT_PORT: 2181\r\n      ZOOKEEPER_TICK_TIME: 2000\r\n    volumes:\r\n      - ./.docker-volumes/zookeeper/_data:/var/lib/zookeeper/data\r\n      - ./.docker-volumes/zookeeper/_log:/var/lib/zookeeper/log\r\n\r\n  kafka:\r\n    image: confluentinc/cp-kafka:5.5.1\r\n    depends_on:\r\n      - zookeeper\r\n    ports:\r\n      - 9092:9092\r\n    environment:\r\n      KAFKA_BROKER_ID: 1\r\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://0.0.0.0:9092\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n    volumes:\r\n      - ./.docker-volumes/kafka/_data:/var/lib/kafka/data\r\n```\r\n\r\nAbove is the docker-compose file to spin up the zookeeper and kafka instances in docker.\r\n\r\n\r\nWhen I run the service which is trying to make a connection with the kafka. I&#39;m getting below error. I tracked it down on the internet but did not get much on this.\r\n\r\n**Error on the Service-layer**\r\n```\r\n.12:43:18.730 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-2] Connection to node -1 (localhost/127.0.0.1:9092) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \r\n.12:43:19.295 [kafka-producer-network-thread | producer-1] WARN  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \r\n.12:43:19.481 [kafka-admin-client-thread | vendor_srs_consumer_srs_restaurant_finance_pan_validate_client_id_0] WARN  o.apache.kafka.clients.NetworkClient - [AdminClient clientId=vendor_srs_consumer_srs_restaurant_finance_pan_validate_client_id_0] Connection to node -1 (localhost/127.0.0.1:9092) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \r\n```\r\n\r\n\r\n**Error in Docker when kafka-producer is trying to connect with the kafka brokers.**\r\n\r\n```\r\n[2021-07-12 07:13:19,492] WARN [SocketServer brokerId=1] Unexpected error from /172.20.0.1; closing connection (org.apache.kafka.common.network.Selector)\r\norg.apache.kafka.common.network.InvalidReceiveException: Invalid receive (size = 369296129 larger than 104857600)\r\nat org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:105)\r\nat org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:447)\r\nat org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:397)\r\nat org.apache.kafka.common.network.Selector.attemptRead(Selector.java:678)\r\nat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:580)\r\nat org.apache.kafka.common.network.Selector.poll(Selector.java:485)\r\nat kafka.network.Processor.poll(SocketServer.scala:893)\r\nat kafka.network.Processor.run(SocketServer.scala:792)\r\nat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n\r\nNot sure why producer is not able to connect with the broker.\r\nThanks in advance.","title":"not able to connect with the kafka in docker using docker-file","body":"<pre><code>version: '2'\nservices:\n  zookeeper:\n    image: confluentinc/cp-zookeeper:5.5.1\n    hostname: zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n    volumes:\n      - ./.docker-volumes/zookeeper/_data:/var/lib/zookeeper/data\n      - ./.docker-volumes/zookeeper/_log:/var/lib/zookeeper/log\n\n  kafka:\n    image: confluentinc/cp-kafka:5.5.1\n    depends_on:\n      - zookeeper\n    ports:\n      - 9092:9092\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://0.0.0.0:9092\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n    volumes:\n      - ./.docker-volumes/kafka/_data:/var/lib/kafka/data\n</code></pre>\n<p>Above is the docker-compose file to spin up the zookeeper and kafka instances in docker.</p>\n<p>When I run the service which is trying to make a connection with the kafka. I'm getting below error. I tracked it down on the internet but did not get much on this.</p>\n<p><strong>Error on the Service-layer</strong></p>\n<pre><code>.12:43:18.730 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-2] Connection to node -1 (localhost/127.0.0.1:9092) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \n.12:43:19.295 [kafka-producer-network-thread | producer-1] WARN  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \n.12:43:19.481 [kafka-admin-client-thread | vendor_srs_consumer_srs_restaurant_finance_pan_validate_client_id_0] WARN  o.apache.kafka.clients.NetworkClient - [AdminClient clientId=vendor_srs_consumer_srs_restaurant_finance_pan_validate_client_id_0] Connection to node -1 (localhost/127.0.0.1:9092) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \n</code></pre>\n<p><strong>Error in Docker when kafka-producer is trying to connect with the kafka brokers.</strong></p>\n<pre><code>[2021-07-12 07:13:19,492] WARN [SocketServer brokerId=1] Unexpected error from /172.20.0.1; closing connection (org.apache.kafka.common.network.Selector)\norg.apache.kafka.common.network.InvalidReceiveException: Invalid receive (size = 369296129 larger than 104857600)\nat org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:105)\nat org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:447)\nat org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:397)\nat org.apache.kafka.common.network.Selector.attemptRead(Selector.java:678)\nat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:580)\nat org.apache.kafka.common.network.Selector.poll(Selector.java:485)\nat kafka.network.Processor.poll(SocketServer.scala:893)\nat kafka.network.Processor.run(SocketServer.scala:792)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Not sure why producer is not able to connect with the broker.\nThanks in advance.</p>\n"},{"tags":["java","android","import","cordova-plugins","visual-studio-cordova"],"answers":[{"tags":[],"owner":{"account_id":24278761,"reputation":41,"user_id":18225658,"display_name":"StonedCodingTom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690562197,"creation_date":1690562197,"answer_id":76789610,"question_id":76765204,"body_markdown":"I opened my project in Android Studio in the certain way and it works. So it s important to open in Android Studio your cordova app from the path: yourCordovaApp/platforms/android/app. \r\n\r\nU need to solve gradle problems if it appears and all should run properly. Now all the hints are displaying for me good.","title":"How to enable auto imports while creating Cordova Plugin","body":"<p>I opened my project in Android Studio in the certain way and it works. So it s important to open in Android Studio your cordova app from the path: yourCordovaApp/platforms/android/app.</p>\n<p>U need to solve gradle problems if it appears and all should run properly. Now all the hints are displaying for me good.</p>\n"}],"owner":{"account_id":24278761,"reputation":41,"user_id":18225658,"display_name":"StonedCodingTom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76789610,"answer_count":1,"score":0,"last_activity_date":1690562197,"creation_date":1690306081,"question_id":76765204,"body_markdown":"i am currently developing cordova plugin in Java. I am wondering about turning on auto import with a shortcut like alt+enter to import. \r\nI was searching for plugins for it for vs code and android studio but i didn&#39;t find anything working.\r\nIs there a way to use some IDE supporting auto imports for cordova plugin and android at one time?\r\n\r\nI am confused because some imports look like this:\r\nimport org.apache.cordova.CallbackContext;\r\nimport org.apache.cordova.PermissionHelper;\r\n\r\nAnother imports look like this:\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\n\r\n\r\nAndroid docs are quite huge so i can find info about imports and functions but cordova docs are not enough to know what is going on. Any tips how to easily learn cordova plugins?\r\nBig thanks for responses, have a nice day!","title":"How to enable auto imports while creating Cordova Plugin","body":"<p>i am currently developing cordova plugin in Java. I am wondering about turning on auto import with a shortcut like alt+enter to import.\nI was searching for plugins for it for vs code and android studio but i didn't find anything working.\nIs there a way to use some IDE supporting auto imports for cordova plugin and android at one time?</p>\n<p>I am confused because some imports look like this:\nimport org.apache.cordova.CallbackContext;\nimport org.apache.cordova.PermissionHelper;</p>\n<p>Another imports look like this:\nimport android.content.BroadcastReceiver;\nimport android.content.Context;</p>\n<p>Android docs are quite huge so i can find info about imports and functions but cordova docs are not enough to know what is going on. Any tips how to easily learn cordova plugins?\nBig thanks for responses, have a nice day!</p>\n"},{"tags":["java","spring","spring-boot","flyway"],"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1690487225,"post_id":76782381,"comment_id":135364629,"body_markdown":"have you tried to specify schema in table annotation?\n@Table(name=&quot;table_name&quot;, schema = &quot;myapp&quot;)","body":"have you tried to specify schema in table annotation? @Table(name=&quot;table_name&quot;, schema = &quot;myapp&quot;)"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1690501144,"post_id":76782381,"comment_id":135366570,"body_markdown":"[Edit] your post and include the _complete_ stack trace; indicate the line in your code that causes the exception.","body":"<a href=\"https://stackoverflow.com/posts/76782381/edit\">Edit</a> your post and include the <i>complete</i> stack trace; indicate the line in your code that causes the exception."},{"owner":{"account_id":20069788,"reputation":25,"user_id":17535621,"display_name":"Julia_Gubolin"},"score":0,"creation_date":1690562061,"post_id":76782381,"comment_id":135375980,"body_markdown":"@BlackBear In which table, in the Users table?","body":"@BlackBear In which table, in the Users table?"},{"owner":{"account_id":20069788,"reputation":25,"user_id":17535621,"display_name":"Julia_Gubolin"},"score":0,"creation_date":1690562180,"post_id":76782381,"comment_id":135375998,"body_markdown":"@JimGarrison Thanks for your advice. I will indicate the line that causes the exception.","body":"@JimGarrison Thanks for your advice. I will indicate the line that causes the exception."}],"owner":{"account_id":20069788,"reputation":25,"user_id":17535621,"display_name":"Julia_Gubolin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690562127,"creation_date":1690481206,"question_id":76782381,"body_markdown":"I&#39;m creating an API with Spring Boot (3.1.1), Java, PostgreSQL and Flyway. I started by doing the security settings with Spring Security, creating a user that could have 3 roles (ADMIN, USER, CUSTOMER). The user authentication, authorization and get all/update/delete functions worked without problems.\r\nHowever, I wanted Customer to have more attributes than I put in User, so I created a class called Customer and inherited it from User. I&#39;ve done this in the code and in the migration. I can register users normally, but when I try to login with a User that I saved in the database, I get the error:\r\n\r\n```\r\nSQL Error: 0, SQLState: 42703\r\nERROR: column u1_0.accounttype does not exist\r\nPosi&#231;&#227;o: 62\r\n```\r\n\r\nHowever, I didn&#39;t put this *accounttype* attribute in the User class, only in the Customer class.\r\n\r\n**Class User**\r\n\r\n```\r\npackage com.example.auth.domain.user;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\n@Table(name = &quot;users&quot;)\r\n@Entity(name = &quot;users&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(of = &quot;id&quot;)\r\npublic class User implements UserDetails {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private String id;\r\n    private String login;\r\n    private String password;\r\n    private UserRole role;\r\n\r\n    public User(String login, String password, UserRole role){\r\n        this.login = login;\r\n        this.password = password;\r\n        this.role = role;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        if(this.role == UserRole.ADMIN){\r\n            return List.of(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;), new SimpleGrantedAuthority(&quot;ROLE_USER&quot;), new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\r\n        } \r\n        else if(this.role == UserRole.USER){\r\n            return List.of(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;), new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\r\n        }\r\n        else{\r\n            return List.of(new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return login;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n**Class Customer:**\r\n\r\n```\r\npackage com.example.auth.domain.costumer;\r\n\r\nimport com.example.auth.domain.user.User;\r\nimport com.example.auth.domain.user.UserRole;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Entity(name = &quot;customers&quot;)\r\n@Table(name=&quot;customers&quot;)\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Customer extends User{\r\n\r\n    private String name;\r\n    private String email;\r\n    private String phone;\r\n    private Integer relationshipTime;\r\n    private Integer age;\r\n    private CustomerContactRole contactorigin;\r\n    private CustomerAccountTypeRole accounttype;\r\n\r\n    public Customer(String login, String password, String name, String email, String phone,\r\n            Integer relationshipTime, Integer age, CustomerContactRole contactOrigin,\r\n            CustomerAccountTypeRole accountType) {\r\n        super(login, password, UserRole.CUSTOMER);\r\n        this.name = name;\r\n        this.email = email;\r\n        this.phone = phone;\r\n        this.relationshipTime = relationshipTime;\r\n        this.age = age;\r\n        this.contactorigin = contactOrigin;\r\n        this.accounttype = accountType;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Migration: V1__create-product-user-customer-table.sql**\r\n\r\n\r\n```\r\nCREATE TABLE product (\r\n    id TEXT PRIMARY KEY UNIQUE NOT NULL,\r\n    name TEXT NOT NULL,\r\n    price INTEGER NOT NULL\r\n);\r\nCREATE TABLE users (\r\n    id TEXT PRIMARY KEY UNIQUE NOT NULL,\r\n    login TEXT NOT NULL UNIQUE,\r\n    password TEXT NOT NULL,\r\n    role TEXT NOT NULL,\r\n    dtype TEXT NULL\r\n);\r\n\r\nCREATE TABLE customers (\r\n    name TEXT NOT NULL UNIQUE,\r\n    email TEXT NOT NULL,\r\n    phone TEXT NOT NULL,\r\n    relationshiptime INTEGER NOT NULL,\r\n    age INTEGER NOT NULL,\r\n    contactorigin TEXT NOT NULL,\r\n    accounttype TEXT NOT NULL\r\n) inherits (users);\r\n\r\n```\r\n\r\n**Endpoint that generates the error (when I try to login an User)**\r\n\r\n```\r\n@PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;String&gt; login(@RequestBody @Valid AuthenticationDTO data){\r\n        var usernamePassword = new UsernamePasswordAuthenticationToken(data.login(), data.password());\r\n//Line that causes the error\r\n        var auth = this.authenticationManager.authenticate(usernamePassword);\r\n\r\n        String token = tokenService.generateToken((User) auth.getPrincipal());\r\n\r\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Login finished! &quot; + new LoginResponseDTO(token));\r\n    }\r\n\r\n```\r\n**Error**\r\n\r\n```\r\n2023-07-27T13:02:17.441-03:00  WARN 8700 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42703\r\n2023-07-27T13:02:17.441-03:00 ERROR 8700 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column u1_0.accounttype does not exist\r\n  Posi&#231;&#227;o: 62\r\n```","title":"ERROR: column does not exist on PostgreSQL","body":"<p>I'm creating an API with Spring Boot (3.1.1), Java, PostgreSQL and Flyway. I started by doing the security settings with Spring Security, creating a user that could have 3 roles (ADMIN, USER, CUSTOMER). The user authentication, authorization and get all/update/delete functions worked without problems.\nHowever, I wanted Customer to have more attributes than I put in User, so I created a class called Customer and inherited it from User. I've done this in the code and in the migration. I can register users normally, but when I try to login with a User that I saved in the database, I get the error:</p>\n<pre><code>SQL Error: 0, SQLState: 42703\nERROR: column u1_0.accounttype does not exist\nPosição: 62\n</code></pre>\n<p>However, I didn't put this <em>accounttype</em> attribute in the User class, only in the Customer class.</p>\n<p><strong>Class User</strong></p>\n<pre><code>package com.example.auth.domain.user;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.EqualsAndHashCode;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.Collection;\nimport java.util.List;\n\n@Table(name = &quot;users&quot;)\n@Entity(name = &quot;users&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(of = &quot;id&quot;)\npublic class User implements UserDetails {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private String id;\n    private String login;\n    private String password;\n    private UserRole role;\n\n    public User(String login, String password, UserRole role){\n        this.login = login;\n        this.password = password;\n        this.role = role;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        if(this.role == UserRole.ADMIN){\n            return List.of(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;), new SimpleGrantedAuthority(&quot;ROLE_USER&quot;), new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\n        } \n        else if(this.role == UserRole.USER){\n            return List.of(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;), new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\n        }\n        else{\n            return List.of(new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\n        }\n    }\n\n    @Override\n    public String getUsername() {\n        return login;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n}\n</code></pre>\n<p><strong>Class Customer:</strong></p>\n<pre><code>package com.example.auth.domain.costumer;\n\nimport com.example.auth.domain.user.User;\nimport com.example.auth.domain.user.UserRole;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Entity(name = &quot;customers&quot;)\n@Table(name=&quot;customers&quot;)\n@AllArgsConstructor\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Customer extends User{\n\n    private String name;\n    private String email;\n    private String phone;\n    private Integer relationshipTime;\n    private Integer age;\n    private CustomerContactRole contactorigin;\n    private CustomerAccountTypeRole accounttype;\n\n    public Customer(String login, String password, String name, String email, String phone,\n            Integer relationshipTime, Integer age, CustomerContactRole contactOrigin,\n            CustomerAccountTypeRole accountType) {\n        super(login, password, UserRole.CUSTOMER);\n        this.name = name;\n        this.email = email;\n        this.phone = phone;\n        this.relationshipTime = relationshipTime;\n        this.age = age;\n        this.contactorigin = contactOrigin;\n        this.accounttype = accountType;\n    }\n\n}\n</code></pre>\n<p><strong>Migration: V1__create-product-user-customer-table.sql</strong></p>\n<pre><code>CREATE TABLE product (\n    id TEXT PRIMARY KEY UNIQUE NOT NULL,\n    name TEXT NOT NULL,\n    price INTEGER NOT NULL\n);\nCREATE TABLE users (\n    id TEXT PRIMARY KEY UNIQUE NOT NULL,\n    login TEXT NOT NULL UNIQUE,\n    password TEXT NOT NULL,\n    role TEXT NOT NULL,\n    dtype TEXT NULL\n);\n\nCREATE TABLE customers (\n    name TEXT NOT NULL UNIQUE,\n    email TEXT NOT NULL,\n    phone TEXT NOT NULL,\n    relationshiptime INTEGER NOT NULL,\n    age INTEGER NOT NULL,\n    contactorigin TEXT NOT NULL,\n    accounttype TEXT NOT NULL\n) inherits (users);\n\n</code></pre>\n<p><strong>Endpoint that generates the error (when I try to login an User)</strong></p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;String&gt; login(@RequestBody @Valid AuthenticationDTO data){\n        var usernamePassword = new UsernamePasswordAuthenticationToken(data.login(), data.password());\n//Line that causes the error\n        var auth = this.authenticationManager.authenticate(usernamePassword);\n\n        String token = tokenService.generateToken((User) auth.getPrincipal());\n\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Login finished! &quot; + new LoginResponseDTO(token));\n    }\n\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>2023-07-27T13:02:17.441-03:00  WARN 8700 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42703\n2023-07-27T13:02:17.441-03:00 ERROR 8700 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column u1_0.accounttype does not exist\n  Posição: 62\n</code></pre>\n"},{"tags":["java","postgresql","jdbctemplate","batch-insert"],"comments":[{"owner":{"account_id":13653906,"reputation":73,"user_id":9850991,"display_name":"Gowtham"},"score":0,"creation_date":1576003846,"post_id":59273602,"comment_id":104754366,"body_markdown":"could you be more specific on the use case","body":"could you be more specific on the use case"},{"owner":{"account_id":15208388,"reputation":71,"user_id":10974034,"display_name":"jagadesh"},"score":0,"creation_date":1576003926,"post_id":59273602,"comment_id":104754388,"body_markdown":"Need to get inserted id&#39;s using jdbcTemplate @Gowtham","body":"Need to get inserted id&#39;s using jdbcTemplate @Gowtham"},{"owner":{"account_id":4687364,"reputation":2017,"user_id":3794466,"accept_rate":61,"display_name":"Bernie Lenz"},"score":1,"creation_date":1670469494,"post_id":59273602,"comment_id":131884732,"body_markdown":"Somebody seemed to have figured out a workaround for your scenario here https://stackoverflow.com/a/74296674/3794466 but haven&#39;t tried it yet myself...","body":"Somebody seemed to have figured out a workaround for your scenario here <a href=\"https://stackoverflow.com/a/74296674/3794466\">stackoverflow.com/a/74296674/3794466</a> but haven&#39;t tried it yet myself..."}],"answers":[{"tags":[],"owner":{"account_id":4053804,"reputation":79,"user_id":3332466,"display_name":"Harun Cetin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576019969,"creation_date":1576004493,"answer_id":59273765,"question_id":59273602,"body_markdown":"Try using `int[]` instead of `int[][]`","title":"Spring boot - Jdbc batch insert with returning ids","body":"<p>Try using <code>int[]</code> instead of <code>int[][]</code></p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690561630,"creation_date":1690561630,"answer_id":76789562,"question_id":59273602,"body_markdown":"The underlying issue here is that JDBC distinguishes between updates (SQL statements which return just the number of affected rows) and queries (SQL statements returning a set of rows, which end up in a ResultSet), and allows batching (i.e. sending multiple statements to the server at once) only for updates, not for queries.\r\n\r\n`INSERT ... RETURNING ...` belongs to the &quot;query&quot; category, and thus can&#39;t be batched.\r\n\r\nA possible workaround is mentioned in [this answer to &quot;Insert batch and Return full object using NamedParameterJdbcTemplate&quot;](https://stackoverflow.com/a/74296674/600500) – it&#39;s basically constructing a new SQL statement with many lines in the VALUES clause for each call.\r\nIf you are calling this with batches of many different sizes, your DB optimizer will see many different statements, and might fail to optimize it properly (or at least, has to compile it again each time).\r\n\r\nI found this old post [Batching Select Statement with JDBC](https://javaranch.com/journal/200510/batching.html), which elaborates several options here, and suggests an approach named there &quot;select batching&quot;, where prepared statements of several sizes are set up, and then sent several of them to the DB with the data.\r\n\r\nBecause I just also had this problem, I&#39;ve taken this approach, used spring&#39;s NamedParameterJdbcTemplate and build a generic class which puts together these queries based on some template strings.\r\n\r\nFull code is in [this PR I just opened](https://github.com/zalando-nakadi/nakadi-producer-spring-boot-starter/pull/173/files) (to my library which needs it).\r\n\r\nIt can then be used like this (using the example from the question):\r\n\r\n    QueryStatementBatcher&lt;Integer&gt; batcher = new QueryStatementBatcher&lt;&gt;(\r\n            &quot;INSERT INTO users (name) VALUES &quot;, &quot;(:name#)&quot;, &quot; RETURNING id&quot;,\r\n            (row, n) -&gt; row.getInt(&quot;id&quot;));\r\n\r\n    Stream&lt;MapSqlParameterSource&gt; inputs =\r\n        Stream.of(&quot;Paŭlo Ebermann&quot;, &quot;jagadesh&quot;, &quot;Harun Cetin&quot;)\r\n              .map(name -&gt; new MapSqlParameterSource()\r\n                              .addValue(&quot;name#&quot;, name));\r\n\r\n    List&lt;Integer&gt; generatedIds =\r\n       batcher.queryForStream(jdbcTemplate, inputs)\r\n              .collect(toList());\r\n\r\n\r\nOf course, you&#39;d create the batcher only once and reuse it (it doesn&#39;t have mutable state, so it is thread-safe, and computing the templates is a bit of effort at the beginning).","title":"Spring boot - Jdbc batch insert with returning ids","body":"<p>The underlying issue here is that JDBC distinguishes between updates (SQL statements which return just the number of affected rows) and queries (SQL statements returning a set of rows, which end up in a ResultSet), and allows batching (i.e. sending multiple statements to the server at once) only for updates, not for queries.</p>\n<p><code>INSERT ... RETURNING ...</code> belongs to the &quot;query&quot; category, and thus can't be batched.</p>\n<p>A possible workaround is mentioned in <a href=\"https://stackoverflow.com/a/74296674/600500\">this answer to &quot;Insert batch and Return full object using NamedParameterJdbcTemplate&quot;</a> – it's basically constructing a new SQL statement with many lines in the VALUES clause for each call.\nIf you are calling this with batches of many different sizes, your DB optimizer will see many different statements, and might fail to optimize it properly (or at least, has to compile it again each time).</p>\n<p>I found this old post <a href=\"https://javaranch.com/journal/200510/batching.html\" rel=\"nofollow noreferrer\">Batching Select Statement with JDBC</a>, which elaborates several options here, and suggests an approach named there &quot;select batching&quot;, where prepared statements of several sizes are set up, and then sent several of them to the DB with the data.</p>\n<p>Because I just also had this problem, I've taken this approach, used spring's NamedParameterJdbcTemplate and build a generic class which puts together these queries based on some template strings.</p>\n<p>Full code is in <a href=\"https://github.com/zalando-nakadi/nakadi-producer-spring-boot-starter/pull/173/files\" rel=\"nofollow noreferrer\">this PR I just opened</a> (to my library which needs it).</p>\n<p>It can then be used like this (using the example from the question):</p>\n<pre><code>QueryStatementBatcher&lt;Integer&gt; batcher = new QueryStatementBatcher&lt;&gt;(\n        &quot;INSERT INTO users (name) VALUES &quot;, &quot;(:name#)&quot;, &quot; RETURNING id&quot;,\n        (row, n) -&gt; row.getInt(&quot;id&quot;));\n\nStream&lt;MapSqlParameterSource&gt; inputs =\n    Stream.of(&quot;Paŭlo Ebermann&quot;, &quot;jagadesh&quot;, &quot;Harun Cetin&quot;)\n          .map(name -&gt; new MapSqlParameterSource()\n                          .addValue(&quot;name#&quot;, name));\n\nList&lt;Integer&gt; generatedIds =\n   batcher.queryForStream(jdbcTemplate, inputs)\n          .collect(toList());\n</code></pre>\n<p>Of course, you'd create the batcher only once and reuse it (it doesn't have mutable state, so it is thread-safe, and computing the templates is a bit of effort at the beginning).</p>\n"}],"owner":{"account_id":15208388,"reputation":71,"user_id":10974034,"display_name":"jagadesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2942,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1690561630,"creation_date":1576003700,"question_id":59273602,"body_markdown":"Assume we have a table **users**\r\n\r\n```\r\nid | name\r\n_________\r\n1  | name1\r\n2  | name2\r\n```\r\n\r\n**I can insert a record into users table and get inserted id using the following ways.**\r\n\r\n - tried inserting record using SimpleJdbcInsert and getting the inserted **id** using  executeAndReturnId() method.\r\n - also tried inserting and getting the inserted **id** by using the returning clause and using queryForObject()\r\n```java\r\nquery = INSERT INTO users(name) VALUES(&#39;name3&#39;) RETURNING id;\r\ninsertedId = jdbcTemplate.queryForObject(query, Long.class);\r\n```\r\n\r\n**For Batch Insert:**\r\n```java\r\nquery = INSERT INTO users(name) VALUES(?) RETURNING id;\r\nList&lt;Object[]&gt; objects = new ArrayList&lt;Object[]&gt;(new Object[]{&#39;name3&#39;}, new Object[]{&#39;name4&#39;});\r\nint[] rowsAffected = jdbcTemplate.batchUpdate(query, objects); // this only return affected rows in array\r\n```\r\n**How to get the all inserted ID&#39;s using batch inserting?**\r\n\r\ntried [already asked question][1] also..not helpful :(\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50393576/jdbc-batch-insert-returning-ids","title":"Spring boot - Jdbc batch insert with returning ids","body":"<p>Assume we have a table <strong>users</strong></p>\n\n<pre><code>id | name\n_________\n1  | name1\n2  | name2\n</code></pre>\n\n<p><strong>I can insert a record into users table and get inserted id using the following ways.</strong></p>\n\n<ul>\n<li>tried inserting record using SimpleJdbcInsert and getting the inserted <strong>id</strong> using  executeAndReturnId() method.</li>\n<li>also tried inserting and getting the inserted <strong>id</strong> by using the returning clause and using queryForObject()</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>query = INSERT INTO users(name) VALUES('name3') RETURNING id;\ninsertedId = jdbcTemplate.queryForObject(query, Long.class);\n</code></pre>\n\n<p><strong>For Batch Insert:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>query = INSERT INTO users(name) VALUES(?) RETURNING id;\nList&lt;Object[]&gt; objects = new ArrayList&lt;Object[]&gt;(new Object[]{'name3'}, new Object[]{'name4'});\nint[] rowsAffected = jdbcTemplate.batchUpdate(query, objects); // this only return affected rows in array\n</code></pre>\n\n<p><strong>How to get the all inserted ID's using batch inserting?</strong></p>\n\n<p>tried <a href=\"https://stackoverflow.com/questions/50393576/jdbc-batch-insert-returning-ids\">already asked question</a> also..not helpful :(</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":55367,"reputation":3607,"user_id":165783,"accept_rate":82,"display_name":"James"},"score":1,"creation_date":1699502608,"post_id":76785883,"comment_id":136540993,"body_markdown":"Is the table an InnoDB table? According to https://dev.mysql.com/doc/dev/mysql-server/latest/classmysql_1_1binlog_1_1event_1_1Xid__event.html &quot;An XID event is generated for a commit of a transaction that modifies one or more tables of an XA-capable storage engine.&quot; So if the table being modified uses e.g. MyISAM storage engine then it won&#39;t generate a XID event.","body":"Is the table an InnoDB table? According to <a href=\"https://dev.mysql.com/doc/dev/mysql-server/latest/classmysql_1_1binlog_1_1event_1_1Xid__event.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/dev/mysql-server/latest/&hellip;</a> &quot;An XID event is generated for a commit of a transaction that modifies one or more tables of an XA-capable storage engine.&quot; So if the table being modified uses e.g. MyISAM storage engine then it won&#39;t generate a XID event."}],"owner":{"account_id":26035358,"reputation":43,"user_id":19740880,"display_name":"Th&#224;nh Đặng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690561574,"creation_date":1690531323,"question_id":76785883,"body_markdown":"I&#39;m currently working with mysql binlog. As i knew, when mysql successfully query (like delete, write, update, ..) one transaction which will save an event (`XID`) to mark the success of a transaction. But it didn&#39;t happen like that:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Jw7R6.png\r\nI don&#39;t see any `XID event` when i finish insert query. It messed up my bin log process reading.\r\nWhy does it happend?\r\n","title":"Mysql binlog do not track Xid event after commit one transaction","body":"<p>I'm currently working with mysql binlog. As i knew, when mysql successfully query (like delete, write, update, ..) one transaction which will save an event (<code>XID</code>) to mark the success of a transaction. But it didn't happen like that:</p>\n<p><a href=\"https://i.stack.imgur.com/Jw7R6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jw7R6.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't see any <code>XID event</code> when i finish insert query. It messed up my bin log process reading.\nWhy does it happend?</p>\n"},{"tags":["java","load-testing","gatling"],"comments":[{"owner":{"account_id":1289856,"reputation":7000,"user_id":1242157,"display_name":"Stephane Landelle"},"score":0,"creation_date":1421076305,"post_id":27893423,"comment_id":44209846,"body_markdown":"If you want to build a PoC, why don&#39;t you stick first with the deploy strategies that are officially supported?","body":"If you want to build a PoC, why don&#39;t you stick first with the deploy strategies that are officially supported?"},{"owner":{"account_id":448589,"reputation":3955,"user_id":842860,"accept_rate":80,"display_name":"stackoverflower"},"score":0,"creation_date":1421101061,"post_id":27893423,"comment_id":44222911,"body_markdown":"@StephaneLandelle, I&#39;ve actually tried the official strategy, and that&#39;s how I found I had to drop all the jars into the lib folder.  I just want to know if building a runnable JAR is possible or not, and why.","body":"@StephaneLandelle, I&#39;ve actually tried the official strategy, and that&#39;s how I found I had to drop all the jars into the lib folder.  I just want to know if building a runnable JAR is possible or not, and why."},{"owner":{"account_id":448589,"reputation":3955,"user_id":842860,"accept_rate":80,"display_name":"stackoverflower"},"score":0,"creation_date":1422616907,"post_id":27893423,"comment_id":44831191,"body_markdown":"@Philippe, you might be able to use method 1 in my question.  What you need to do is to unzip the Gatling bundle zip file, and paste your scenario scala file into the ${GATLING}/user-files/simulations folder.  Any dependent jar should go into ${GATLING}/lib (you need to create the folder if it&#39;s not in the bundle).  Then you can run Gatling by ${GATLING}/bin/gatlin.sh.  The [file](https://github.com/gatling/gatling/blob/master/gatling-bundle/src/universal/bin/gatling.sh) tells you everything how it work.","body":"@Philippe, you might be able to use method 1 in my question.  What you need to do is to unzip the Gatling bundle zip file, and paste your scenario scala file into the ${GATLING}/user-files/simulations folder.  Any dependent jar should go into ${GATLING}/lib (you need to create the folder if it&#39;s not in the bundle).  Then you can run Gatling by ${GATLING}/bin/gatlin.sh.  The <a href=\"https://github.com/gatling/gatling/blob/master/gatling-bundle/src/universal/bin/gatling.sh\" rel=\"nofollow noreferrer\">file</a> tells you everything how it work."},{"owner":{"account_id":448589,"reputation":3955,"user_id":842860,"accept_rate":80,"display_name":"stackoverflower"},"score":0,"creation_date":1422617259,"post_id":27893423,"comment_id":44831367,"body_markdown":"This is currently the best practice until Gatling provides a standalone runnable file, which is what I wanted.","body":"This is currently the best practice until Gatling provides a standalone runnable file, which is what I wanted."}],"answers":[{"tags":[],"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1428403071,"creation_date":1428402587,"answer_id":29489414,"question_id":27893423,"body_markdown":"I tried to do something similar. I *could not* use Maven as well. I will try to remember how I did this.\r\n\r\n1) I have configured **maven-assembly-plugin** to generate single JAR with dependencies like this:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nYou need to ensure all required libraries (gatling, scala runtime, zinc compiler) are present on your resulting classpath.\r\n\r\n2) Check the scope of your dependencies as Maven packs only classes defined with *scope=compile* by default. The most simple way is probably to use no test dependencies.\r\n\r\n3) Create a launch script, e.g. **launch.sh**. It should contain something like this:\r\n\r\n    #!/bin/sh\r\n    USER_ARGS=&quot;-Dsomething=$1&quot;\r\n    COMPILATION_CLASSPATH=`find -L ./target -maxdepth 1 -name &quot;*.jar&quot; -type f -exec printf :{} &#39;;&#39;`\r\n    JAVA_OPTS=&quot;-server -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -Xms512M -Xmx2048M -XX:+HeapDumpOnOutOfMemoryError -XX:+AggressiveOpts -XX:+OptimizeStringConcat -XX:+UseFastAccessorMethods -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false ${JAVA_OPTS}&quot;\r\n    java $JAVA_OPTS $USER_ARGS -cp $COMPILATION_CLASSPATH io.gatling.app.Gatling -s your.simulation.FullClassName\r\n\r\nTo explain, I took gatling`s own launch script for inspiration. Note mainly the presence of **target** directory in classpath parameter definition.\r\n\r\n4) Compile your compiled *target* directory and *launch.sh* to a single directory and distribute this (e.g. as archive). Then you can the scenarios by executing **./launch.sh**.\r\n\r\nI know this is *not* a standard solution, but it worked for me. Hopefully it will help you too. If you have any problems or tips to improve, please share with us.","title":"Build executable JAR for Gatling load test","body":"<p>I tried to do something similar. I <em>could not</em> use Maven as well. I will try to remember how I did this.</p>\n\n<p>1) I have configured <strong>maven-assembly-plugin</strong> to generate single JAR with dependencies like this:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>You need to ensure all required libraries (gatling, scala runtime, zinc compiler) are present on your resulting classpath.</p>\n\n<p>2) Check the scope of your dependencies as Maven packs only classes defined with <em>scope=compile</em> by default. The most simple way is probably to use no test dependencies.</p>\n\n<p>3) Create a launch script, e.g. <strong>launch.sh</strong>. It should contain something like this:</p>\n\n<pre><code>#!/bin/sh\nUSER_ARGS=\"-Dsomething=$1\"\nCOMPILATION_CLASSPATH=`find -L ./target -maxdepth 1 -name \"*.jar\" -type f -exec printf :{} ';'`\nJAVA_OPTS=\"-server -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -Xms512M -Xmx2048M -XX:+HeapDumpOnOutOfMemoryError -XX:+AggressiveOpts -XX:+OptimizeStringConcat -XX:+UseFastAccessorMethods -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false ${JAVA_OPTS}\"\njava $JAVA_OPTS $USER_ARGS -cp $COMPILATION_CLASSPATH io.gatling.app.Gatling -s your.simulation.FullClassName\n</code></pre>\n\n<p>To explain, I took gatling`s own launch script for inspiration. Note mainly the presence of <strong>target</strong> directory in classpath parameter definition.</p>\n\n<p>4) Compile your compiled <em>target</em> directory and <em>launch.sh</em> to a single directory and distribute this (e.g. as archive). Then you can the scenarios by executing <strong>./launch.sh</strong>.</p>\n\n<p>I know this is <em>not</em> a standard solution, but it worked for me. Hopefully it will help you too. If you have any problems or tips to improve, please share with us.</p>\n"},{"tags":[],"owner":{"account_id":1151632,"reputation":51,"user_id":1133206,"display_name":"Pata"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1439394672,"creation_date":1439394672,"answer_id":31970046,"question_id":27893423,"body_markdown":"You can always create a simple Java class that starts Gatling with the Gatling.fromArgs. With this setup you can have all in just one happy executable jar. Let this class be the jar mainClass instead of &quot;io.gatling.app.Gatling&quot;. This example is for a scala simulation class &quot;my.package.MySimulation&quot;.\r\n\r\n    import scala.Option;\r\n    import io.gatling.app.Gatling;\r\n    import io.gatling.core.scenario.Simulation;\r\n\r\n    public class StartSimulation {\r\n\r\n      public static void main(String[] args) {\r\n        Gatling.fromArgs(new String[]{}, new Option&lt;Class&lt;Simulation&gt;&gt;() {\r\n\r\n            private static final long serialVersionUID = 1L;\r\n\r\n            @Override\r\n            public int productArity() {\r\n                return 0;\r\n            }\r\n\r\n            @Override\r\n            public Object productElement(int arg0) {\r\n                return null;\r\n            }\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            @Override\r\n            public Class&lt;Simulation&gt; get() {\r\n                try {\r\n                    return (Class&lt;Simulation&gt;) Class.forName(&quot;my.package.MySimulation&quot;);\r\n                } catch (ClassNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public boolean isEmpty() {\r\n                return false;\r\n            }\r\n            \r\n            @Override\r\n            public boolean canEqual(Object o) {\r\n                return false;\r\n            }\r\n        });\r\n      }\r\n    }","title":"Build executable JAR for Gatling load test","body":"<p>You can always create a simple Java class that starts Gatling with the Gatling.fromArgs. With this setup you can have all in just one happy executable jar. Let this class be the jar mainClass instead of \"io.gatling.app.Gatling\". This example is for a scala simulation class \"my.package.MySimulation\".</p>\n\n<pre><code>import scala.Option;\nimport io.gatling.app.Gatling;\nimport io.gatling.core.scenario.Simulation;\n\npublic class StartSimulation {\n\n  public static void main(String[] args) {\n    Gatling.fromArgs(new String[]{}, new Option&lt;Class&lt;Simulation&gt;&gt;() {\n\n        private static final long serialVersionUID = 1L;\n\n        @Override\n        public int productArity() {\n            return 0;\n        }\n\n        @Override\n        public Object productElement(int arg0) {\n            return null;\n        }\n\n        @SuppressWarnings(\"unchecked\")\n        @Override\n        public Class&lt;Simulation&gt; get() {\n            try {\n                return (Class&lt;Simulation&gt;) Class.forName(\"my.package.MySimulation\");\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n\n        @Override\n        public boolean isEmpty() {\n            return false;\n        }\n\n        @Override\n        public boolean canEqual(Object o) {\n            return false;\n        }\n    });\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1130226,"reputation":141,"user_id":1116502,"display_name":"Saman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447062650,"creation_date":1447062650,"answer_id":33606392,"question_id":27893423,"body_markdown":"I had a similar issue, I fixed it as following: \r\n\r\nInside Gatling package there is `bin/` and take a look at `gatling.sh`. You see that it simply adds certain configurations into classpath and then runs `io.gatling.app.Gatling` class in `gatling-compiler-&lt;version_number&gt;.jar`. So, all you need to do is to make a jar that includes compiler, add configurations and tests to classpath and run `io.gatling.app.Gatling`.\r\nsteps:\r\n\r\nadd compiler dependency:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.gatling&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gatling-compiler&lt;/artifactId&gt;\r\n            &lt;version&gt;${gatling.version}&lt;/version&gt;\r\n        &lt;/dependency\r\n\r\ncreate jar with dependencies:\r\n\r\n      &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;finalName&gt;${project.build.finalName}&lt;/finalName&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\ncreate test jar (this includes your gatling tests)\r\n\r\n     &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;test-jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;src/test/resources/*&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                            &lt;finalName&gt;${project.build.finalName}&lt;/finalName&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\ncreate a package out of your configuration. You can use maven assembly for that. What I usually do, is to create a separate module that handles creating the package for different environments. This package contains your `gatling.conf`, `logback.xml`and all the other resources you application wants including test data.\r\nNow you basically have three packages: `application.jar`, `application-tests.jar` and `application-conf.zip`.\r\nUnzip  `application-conf.zip`, copy  `application.jar`and `application-tests.jar`in the same folder. \r\n\r\nIn this folder, You need to create `target/test-classes/` folder, just\r\nleave it empty. In my case, it was required. I think you can some how\r\nchange that in `gatling.conf`. But I am not sure how.\r\n\r\nRun\r\n\r\n    java -cp &quot;.:application-test.jar:application.jar&quot; io.gatling.app.Gatling  ","title":"Build executable JAR for Gatling load test","body":"<p>I had a similar issue, I fixed it as following: </p>\n\n<p>Inside Gatling package there is <code>bin/</code> and take a look at <code>gatling.sh</code>. You see that it simply adds certain configurations into classpath and then runs <code>io.gatling.app.Gatling</code> class in <code>gatling-compiler-&lt;version_number&gt;.jar</code>. So, all you need to do is to make a jar that includes compiler, add configurations and tests to classpath and run <code>io.gatling.app.Gatling</code>.\nsteps:</p>\n\n<p>add compiler dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.gatling&lt;/groupId&gt;\n        &lt;artifactId&gt;gatling-compiler&lt;/artifactId&gt;\n        &lt;version&gt;${gatling.version}&lt;/version&gt;\n    &lt;/dependency\n</code></pre>\n\n<p>create jar with dependencies:</p>\n\n<pre><code>  &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n                &lt;finalName&gt;${project.build.finalName}&lt;/finalName&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>create test jar (this includes your gatling tests)</p>\n\n<pre><code> &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-jar&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;src/test/resources/*&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                        &lt;finalName&gt;${project.build.finalName}&lt;/finalName&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>create a package out of your configuration. You can use maven assembly for that. What I usually do, is to create a separate module that handles creating the package for different environments. This package contains your <code>gatling.conf</code>, <code>logback.xml</code>and all the other resources you application wants including test data.\nNow you basically have three packages: <code>application.jar</code>, <code>application-tests.jar</code> and <code>application-conf.zip</code>.\nUnzip  <code>application-conf.zip</code>, copy  <code>application.jar</code>and <code>application-tests.jar</code>in the same folder. </p>\n\n<p>In this folder, You need to create <code>target/test-classes/</code> folder, just\nleave it empty. In my case, it was required. I think you can some how\nchange that in <code>gatling.conf</code>. But I am not sure how.</p>\n\n<p>Run</p>\n\n<pre><code>java -cp \".:application-test.jar:application.jar\" io.gatling.app.Gatling  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3252269,"reputation":341,"user_id":3596537,"display_name":"kszosze"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1479478370,"creation_date":1467888894,"answer_id":38243675,"question_id":27893423,"body_markdown":"I think is a bit late for that but I face kinda the same problem related here, but instead to use maven I used gradle. Guess that the approach it&#39;s the same, a bit mix of the first solution and something or my own.\r\n\r\nFirst, define a gradle build file with gatling dependencies and a task to build a fatjar\r\n    \r\n    apply plugin: &#39;scala&#39;\r\n    version 0.1\r\n\r\n    dependencies {\r\n      compile group: &#39;io.gatling&#39;, name: &#39;gatling-test-framework&#39;, version: &#39;2.1.7&#39;\r\n      compile group: &#39;com.typesafe.akka&#39;, name: &#39;akka-actor_2.11&#39;, version: &#39;2.4.7&#39;\r\n      compile group: &#39;org.scala-lang&#39;, name: &#39;scala-library&#39;, version: &#39;2.11.7&#39;\r\n    }\r\n\r\n    repositories{\r\n       mavenCentral()\r\n       mavenLocal()\r\n    }\r\n\r\n\r\n    task fatJar(type: Jar) {\r\n\t   manifest {\r\n           attributes &#39;Implementation-Title&#39;: &#39;Preparing test&#39;,  \r\n        \t  &#39;Implementation-Version&#39;: version,\r\n        \t  &#39;Main-Class&#39;: &#39;io.gatling.app.Gatling&#39;\r\n       }\r\n       baseName = project.name + &#39;-all&#39;\r\n          from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } } {\r\n    \t\texclude &#39;META-INF/MANIFEST.MF&#39;\r\n\t\t\texclude &#39;META-INF/*.SF&#39;\r\n\t\t\texclude &#39;META-INF/*.DSA&#39;\r\n\t\t\texclude &#39;META-INF/*.RSA&#39;\r\n    \r\n       }\r\n       with jar\r\n    }\r\n\r\nThat task executed as\r\n\r\n    gradle clean build fatJar\r\n\r\nwill generate a self contained jar which will run the Gatling main class as default. So tell it witch test you want to run is made with the standard &#39;-s&#39; parameter.\r\n\r\nSo last step is create, if you want, a script to run it. I will &quot;steal&quot; the script for the first comment and change a bit\r\n\r\n    #!/bin/sh\r\n\r\n    if [ -z &quot;$1&quot; ];\r\n    then\r\n     \techo &quot;Test config tool&quot;\r\n\t    echo\r\n\t    echo &quot;Running Parameters : &quot;\r\n\t    echo\r\n\t    echo &quot; &lt;Config file&gt; : Test definition file. Required&quot;\r\n\t    echo\r\n\t   exit 0;\r\n     fi\r\n\r\n    USER_ARGS=&quot;-DCONFIG_FILE=$1&quot;\r\n    JAVA_OPTS=&quot;-server -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -Xms512M -Xmx2048M -XX:+HeapDumpOnOutOfMemoryError -XX:+AggressiveOpts -XX:+OptimizeStringConcat -XX:+UseFastAccessorMethods -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false ${JAVA_OPTS}&quot;\r\n    java $JAVA_OPTS $USER_ARGS -jar test-project-all-0.1.jar -s FunctionalTestSimulation -nr\r\n\r\nIn my case I will run the same test with different, easy to configure, parameters so my Simulation is always the same. \r\nAll my scala files are compiled by gradle and package in the jar that&#39;s mean they are in the classpath, changing the &quot;FunctionalTestSimulation&quot; name for a Script variable make easy adapt this script for something more generic.\r\n\r\nGuess that make a Maven version will be easy.\r\n\r\nHope that help somebody.\r\n\r\n**Update with folder structure**\r\nAfter a request will add an small draft of the folder structure for the project:\r\n\r\n    test-project\r\n        |_ build.gradle\r\n        |_ src\r\n            |_ main\r\n                |_ scala\r\n                |_ resources\r\n        |_ runSimulation.sh\r\n        |_ configFile.conf\r\n\r\n\r\n\r\nWhen have time will provide a link to my github with a working one. \r\nCheers","title":"Build executable JAR for Gatling load test","body":"<p>I think is a bit late for that but I face kinda the same problem related here, but instead to use maven I used gradle. Guess that the approach it's the same, a bit mix of the first solution and something or my own.</p>\n\n<p>First, define a gradle build file with gatling dependencies and a task to build a fatjar</p>\n\n<pre><code>apply plugin: 'scala'\nversion 0.1\n\ndependencies {\n  compile group: 'io.gatling', name: 'gatling-test-framework', version: '2.1.7'\n  compile group: 'com.typesafe.akka', name: 'akka-actor_2.11', version: '2.4.7'\n  compile group: 'org.scala-lang', name: 'scala-library', version: '2.11.7'\n}\n\nrepositories{\n   mavenCentral()\n   mavenLocal()\n}\n\n\ntask fatJar(type: Jar) {\n   manifest {\n       attributes 'Implementation-Title': 'Preparing test',  \n          'Implementation-Version': version,\n          'Main-Class': 'io.gatling.app.Gatling'\n   }\n   baseName = project.name + '-all'\n      from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } } {\n        exclude 'META-INF/MANIFEST.MF'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n        exclude 'META-INF/*.RSA'\n\n   }\n   with jar\n}\n</code></pre>\n\n<p>That task executed as</p>\n\n<pre><code>gradle clean build fatJar\n</code></pre>\n\n<p>will generate a self contained jar which will run the Gatling main class as default. So tell it witch test you want to run is made with the standard '-s' parameter.</p>\n\n<p>So last step is create, if you want, a script to run it. I will \"steal\" the script for the first comment and change a bit</p>\n\n<pre><code>#!/bin/sh\n\nif [ -z \"$1\" ];\nthen\n    echo \"Test config tool\"\n    echo\n    echo \"Running Parameters : \"\n    echo\n    echo \" &lt;Config file&gt; : Test definition file. Required\"\n    echo\n   exit 0;\n fi\n\nUSER_ARGS=\"-DCONFIG_FILE=$1\"\nJAVA_OPTS=\"-server -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -Xms512M -Xmx2048M -XX:+HeapDumpOnOutOfMemoryError -XX:+AggressiveOpts -XX:+OptimizeStringConcat -XX:+UseFastAccessorMethods -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false ${JAVA_OPTS}\"\njava $JAVA_OPTS $USER_ARGS -jar test-project-all-0.1.jar -s FunctionalTestSimulation -nr\n</code></pre>\n\n<p>In my case I will run the same test with different, easy to configure, parameters so my Simulation is always the same. \nAll my scala files are compiled by gradle and package in the jar that's mean they are in the classpath, changing the \"FunctionalTestSimulation\" name for a Script variable make easy adapt this script for something more generic.</p>\n\n<p>Guess that make a Maven version will be easy.</p>\n\n<p>Hope that help somebody.</p>\n\n<p><strong>Update with folder structure</strong>\nAfter a request will add an small draft of the folder structure for the project:</p>\n\n<pre><code>test-project\n    |_ build.gradle\n    |_ src\n        |_ main\n            |_ scala\n            |_ resources\n    |_ runSimulation.sh\n    |_ configFile.conf\n</code></pre>\n\n<p>When have time will provide a link to my github with a working one. \nCheers</p>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1499395325,"creation_date":1499395325,"answer_id":44961728,"question_id":27893423,"body_markdown":"I use IntelliJ Idea  and I got this fixed by right clicking on the scala folder &gt; Mark Directory as &gt; Test Sources Root . Now Execute &quot;Engine&quot; and you will be all good ! ","title":"Build executable JAR for Gatling load test","body":"<p>I use IntelliJ Idea  and I got this fixed by right clicking on the scala folder > Mark Directory as > Test Sources Root . Now Execute \"Engine\" and you will be all good ! </p>\n"},{"tags":[],"owner":{"account_id":2605852,"reputation":283,"user_id":2257038,"display_name":"jamietanna"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1542834658,"creation_date":1542834658,"answer_id":53420523,"question_id":27893423,"body_markdown":"I&#39;ve recently blogged about this [Creating a versionable, self-contained (fat-/uber-) JAR for Gatling tests](https://www.jvt.me/posts/2018/11/19/self-contained-gatling-jar/?utm_medium=stackoverflow), the source of which can be found in [jamietanna/fat-gatling-jar](https://gitlab.com/jamietanna/fat-gatling-jar).\r\n\r\nFor a Maven project, the steps would be as follows.\r\n\r\nThe main things you need are to add the dependency on `gatling-charts-highcharts`:\r\n\r\n\t&lt;project&gt;\r\n\t\t&lt;!-- ... --&gt;\r\n\t    &lt;dependencies&gt;\r\n\t        &lt;dependency&gt;\r\n\t            &lt;groupId&gt;io.gatling.highcharts&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;gatling-charts-highcharts&lt;/artifactId&gt;\r\n\t            &lt;version&gt;${gatling.version}&lt;/version&gt;\r\n\t        &lt;/dependency&gt;\r\n\t    &lt;/dependencies&gt;\r\n\t&lt;/project&gt;\r\n\r\nNext, you need to make sure your Gatling scenarios/simulations are in `src/main` instead of `src/test`.\r\n\r\nFinally, you can use the `maven-shade-plugin` to build an executable JAR which uses Gatling&#39;s CLI runner as the `mainClass`:\r\n\r\n\t&lt;project&gt;\r\n\t\t&lt;!-- ... --&gt;\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t            &lt;plugin&gt;\r\n\t              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t              &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t              &lt;version&gt;3.1.1&lt;/version&gt;\r\n\t              &lt;configuration&gt;\r\n\t                &lt;filters&gt;\r\n\t                  &lt;!-- https://stackoverflow.com/a/6743609 --&gt;\r\n\t                  &lt;filter&gt;\r\n\t                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n\t                    &lt;excludes&gt;\r\n\t                      &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n\t                      &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n\t                      &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n\t                    &lt;/excludes&gt;\r\n\t                  &lt;/filter&gt;\r\n\t                &lt;/filters&gt;\r\n\t              &lt;/configuration&gt;\r\n\t              &lt;executions&gt;\r\n\t                &lt;execution&gt;\r\n\t                  &lt;phase&gt;package&lt;/phase&gt;\r\n\t                  &lt;goals&gt;\r\n\t                    &lt;goal&gt;shade&lt;/goal&gt;\r\n\t                  &lt;/goals&gt;\r\n\t                  &lt;configuration&gt;\r\n\t                    &lt;transformers&gt;\r\n\t                      &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n\t                        &lt;mainClass&gt;io.gatling.app.Gatling&lt;/mainClass&gt;\r\n\t                      &lt;/transformer&gt;\r\n\t                    &lt;/transformers&gt;\r\n\t                  &lt;/configuration&gt;\r\n\t                &lt;/execution&gt;\r\n\t              &lt;/executions&gt;\r\n\t            &lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t&lt;/project&gt;\t\r\n","title":"Build executable JAR for Gatling load test","body":"<p>I've recently blogged about this <a href=\"https://www.jvt.me/posts/2018/11/19/self-contained-gatling-jar/?utm_medium=stackoverflow\" rel=\"nofollow noreferrer\">Creating a versionable, self-contained (fat-/uber-) JAR for Gatling tests</a>, the source of which can be found in <a href=\"https://gitlab.com/jamietanna/fat-gatling-jar\" rel=\"nofollow noreferrer\">jamietanna/fat-gatling-jar</a>.</p>\n\n<p>For a Maven project, the steps would be as follows.</p>\n\n<p>The main things you need are to add the dependency on <code>gatling-charts-highcharts</code>:</p>\n\n<pre><code>&lt;project&gt;\n    &lt;!-- ... --&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.gatling.highcharts&lt;/groupId&gt;\n            &lt;artifactId&gt;gatling-charts-highcharts&lt;/artifactId&gt;\n            &lt;version&gt;${gatling.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Next, you need to make sure your Gatling scenarios/simulations are in <code>src/main</code> instead of <code>src/test</code>.</p>\n\n<p>Finally, you can use the <code>maven-shade-plugin</code> to build an executable JAR which uses Gatling's CLI runner as the <code>mainClass</code>:</p>\n\n<pre><code>&lt;project&gt;\n    &lt;!-- ... --&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.1.1&lt;/version&gt;\n              &lt;configuration&gt;\n                &lt;filters&gt;\n                  &lt;!-- https://stackoverflow.com/a/6743609 --&gt;\n                  &lt;filter&gt;\n                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                    &lt;excludes&gt;\n                      &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                      &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                      &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                  &lt;/filter&gt;\n                &lt;/filters&gt;\n              &lt;/configuration&gt;\n              &lt;executions&gt;\n                &lt;execution&gt;\n                  &lt;phase&gt;package&lt;/phase&gt;\n                  &lt;goals&gt;\n                    &lt;goal&gt;shade&lt;/goal&gt;\n                  &lt;/goals&gt;\n                  &lt;configuration&gt;\n                    &lt;transformers&gt;\n                      &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                        &lt;mainClass&gt;io.gatling.app.Gatling&lt;/mainClass&gt;\n                      &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                  &lt;/configuration&gt;\n                &lt;/execution&gt;\n              &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6600634,"reputation":444,"user_id":5099059,"display_name":"KeKru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690560696,"creation_date":1690560696,"answer_id":76789462,"question_id":27893423,"body_markdown":"For me this worked\r\n\r\n```groovy\r\n\r\ntask fatJar(type: Jar, dependsOn: [&#39;gatlingClasses&#39;, &#39;processResources&#39;]) {\r\n  group =  &quot;build&quot;\r\n  manifest {\r\n    attributes &#39;Implementation-Title&#39;: project.name,\r\n      &#39;Implementation-Version&#39;: project.version,\r\n      &#39;Main-Class&#39;: &#39;myPackage.MyMainClass&#39;\r\n  }\r\n\r\n  exclude &#39;META-INF/MANIFEST.MF&#39;\r\n  exclude &#39;META-INF/*.SF&#39;\r\n  exclude &#39;META-INF/*.DSA&#39;\r\n  exclude &#39;META-INF/*.RSA&#39;\r\n\r\n  duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n  archiveClassifier = &quot;all&quot;\r\n\r\n  from files(sourceSets.main.output.classesDirs)\r\n  from files(sourceSets.gatling.output)\r\n  from {\r\n    configurations.gatlingRuntimeClasspath\r\n      .filter { it.exists() }\r\n      .collect { it.isDirectory() ? it : zipTree(it) }\r\n  }\r\n\r\n\r\n  with jar\r\n}\r\n\r\n```\r\n\r\nModified version of https://medium.com/@suman.maity112/run-gatling-scenarios-as-executable-jar-bfe32c3d9af5","title":"Build executable JAR for Gatling load test","body":"<p>For me this worked</p>\n<pre><code>\ntask fatJar(type: Jar, dependsOn: ['gatlingClasses', 'processResources']) {\n  group =  &quot;build&quot;\n  manifest {\n    attributes 'Implementation-Title': project.name,\n      'Implementation-Version': project.version,\n      'Main-Class': 'myPackage.MyMainClass'\n  }\n\n  exclude 'META-INF/MANIFEST.MF'\n  exclude 'META-INF/*.SF'\n  exclude 'META-INF/*.DSA'\n  exclude 'META-INF/*.RSA'\n\n  duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n  archiveClassifier = &quot;all&quot;\n\n  from files(sourceSets.main.output.classesDirs)\n  from files(sourceSets.gatling.output)\n  from {\n    configurations.gatlingRuntimeClasspath\n      .filter { it.exists() }\n      .collect { it.isDirectory() ? it : zipTree(it) }\n  }\n\n\n  with jar\n}\n\n</code></pre>\n<p>Modified version of <a href=\"https://medium.com/@suman.maity112/run-gatling-scenarios-as-executable-jar-bfe32c3d9af5\" rel=\"nofollow noreferrer\">https://medium.com/@suman.maity112/run-gatling-scenarios-as-executable-jar-bfe32c3d9af5</a></p>\n"}],"owner":{"account_id":448589,"reputation":3955,"user_id":842860,"accept_rate":80,"display_name":"stackoverflower"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20722,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":29489414,"answer_count":7,"score":18,"last_activity_date":1690560696,"creation_date":1421019791,"question_id":27893423,"body_markdown":"I am new to Gatling (2.1.2) and want to do a small prototype project to show to my colleagues.\r\n\r\nAccording to the [quick start][1] page, there are several ways I can run a simulation with Gatling:\r\n\r\n 1. decompress the Gatling bundle into a folder and drop my simulation files into user-files/simulations folder.  bin/gatling.sh will compile and run the simulation files.\r\n 2. use the `gatling-maven-plugin` maven plugin to execute the simulation.\r\n 3. create a project with `gatling-highcharts-maven-archetype`, and run the Engine class.\r\n\r\nand I found those problems\r\n\r\nFor 1, it is hard to add dependencies for simulation classes.  I have to figure out what the jars are needed and drop them to the lib folder.\r\n\r\nFor 2, it requires maven to be installed.\r\n\r\nFor 3, it only runs from an IDE\r\n\r\nI just want a simple executable JAR file with all the dependencies bundled together (my simulation, Gatling and third party), and run it from any machine (like EC2 instances).\r\n\r\nIs there a way to achieve this?\r\n\r\n**Update 1:**\r\n\r\nI tried method 3, but moving all the project files from `test` folder to `main`, and used `maven-assembly-plugin` to build a jar with dependencies.  When I tried to run the file, I got the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\t    at Engine$.delayedEndpoint$Engine$1(Engine.scala:7)\r\n\t    at Engine$delayedInit$body.apply(Engine.scala:4)\r\n\t    at scala.Function0$class.apply$mcV$sp(Function0.scala:40)\r\n\t    at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:12)\r\n\t    at scala.App$$anonfun$main$1.apply(App.scala:76)\r\n\t    at scala.App$$anonfun$main$1.apply(App.scala:76)\r\n    \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n    \tat scala.collection.generic.TraversableForwarder$class.foreach(TraversableForwarder.scala:35)\r\n    \tat scala.App$class.main(App.scala:76)\r\n    \tat Engine$.main(Engine.scala:4)\r\n    \tat Engine.main(Engine.scala)\r\n    Caused by: java.nio.file.FileSystemNotFoundException\r\n    \tat com.sun.nio.zipfs.ZipFileSystemProvider.getFileSystem(ZipFileSystemProvider.java:171)\r\n\t    at com.sun.nio.zipfs.ZipFileSystemProvider.getPath(ZipFileSystemProvider.java:157)\r\n\t    at java.nio.file.Paths.get(Paths.java:143)\r\n\t    at io.gatling.core.util.PathHelper$.uri2path(PathHelper.scala:32)\r\n\t    at IDEPathHelper$.&lt;init&gt;(IDEPathHelper.scala:7)\r\n\t    at IDEPathHelper$.&lt;clinit&gt;(IDEPathHelper.scala)\r\n\t    ... 11 more\r\n\r\nI guess this is something to do with Gatling configuration, but don&#39;t know what has gone wrong.\r\n\r\n\r\n  [1]: http://gatling.io/docs/2.1.2/quickstart.html","title":"Build executable JAR for Gatling load test","body":"<p>I am new to Gatling (2.1.2) and want to do a small prototype project to show to my colleagues.</p>\n\n<p>According to the <a href=\"http://gatling.io/docs/2.1.2/quickstart.html\" rel=\"noreferrer\">quick start</a> page, there are several ways I can run a simulation with Gatling:</p>\n\n<ol>\n<li>decompress the Gatling bundle into a folder and drop my simulation files into user-files/simulations folder.  bin/gatling.sh will compile and run the simulation files.</li>\n<li>use the <code>gatling-maven-plugin</code> maven plugin to execute the simulation.</li>\n<li>create a project with <code>gatling-highcharts-maven-archetype</code>, and run the Engine class.</li>\n</ol>\n\n<p>and I found those problems</p>\n\n<p>For 1, it is hard to add dependencies for simulation classes.  I have to figure out what the jars are needed and drop them to the lib folder.</p>\n\n<p>For 2, it requires maven to be installed.</p>\n\n<p>For 3, it only runs from an IDE</p>\n\n<p>I just want a simple executable JAR file with all the dependencies bundled together (my simulation, Gatling and third party), and run it from any machine (like EC2 instances).</p>\n\n<p>Is there a way to achieve this?</p>\n\n<p><strong>Update 1:</strong></p>\n\n<p>I tried method 3, but moving all the project files from <code>test</code> folder to <code>main</code>, and used <code>maven-assembly-plugin</code> to build a jar with dependencies.  When I tried to run the file, I got the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ExceptionInInitializerError\n    at Engine$.delayedEndpoint$Engine$1(Engine.scala:7)\n    at Engine$delayedInit$body.apply(Engine.scala:4)\n    at scala.Function0$class.apply$mcV$sp(Function0.scala:40)\n    at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:12)\n    at scala.App$$anonfun$main$1.apply(App.scala:76)\n    at scala.App$$anonfun$main$1.apply(App.scala:76)\n    at scala.collection.immutable.List.foreach(List.scala:381)\n    at scala.collection.generic.TraversableForwarder$class.foreach(TraversableForwarder.scala:35)\n    at scala.App$class.main(App.scala:76)\n    at Engine$.main(Engine.scala:4)\n    at Engine.main(Engine.scala)\nCaused by: java.nio.file.FileSystemNotFoundException\n    at com.sun.nio.zipfs.ZipFileSystemProvider.getFileSystem(ZipFileSystemProvider.java:171)\n    at com.sun.nio.zipfs.ZipFileSystemProvider.getPath(ZipFileSystemProvider.java:157)\n    at java.nio.file.Paths.get(Paths.java:143)\n    at io.gatling.core.util.PathHelper$.uri2path(PathHelper.scala:32)\n    at IDEPathHelper$.&lt;init&gt;(IDEPathHelper.scala:7)\n    at IDEPathHelper$.&lt;clinit&gt;(IDEPathHelper.scala)\n    ... 11 more\n</code></pre>\n\n<p>I guess this is something to do with Gatling configuration, but don't know what has gone wrong.</p>\n"},{"tags":["java","concurrency","java.util.concurrent","grpc-java","java-websocket"],"answers":[{"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690560156,"creation_date":1619109045,"answer_id":67217300,"question_id":67174565,"body_markdown":"in case someone needs it also, I&#39;ve written it myself due to lack of answers:\r\n\r\nhttps://github.com/morgwai/java-utils/blob/master/src/main/java/pl/morgwai/base/util/concurrent/OrderedConcurrentOutputBuffer.java\r\n\r\nfeedback is welcome :)","title":"java concurrent ordered response buffer","body":"<p>in case someone needs it also, I've written it myself due to lack of answers:</p>\n<p><a href=\"https://github.com/morgwai/java-utils/blob/master/src/main/java/pl/morgwai/base/util/concurrent/OrderedConcurrentOutputBuffer.java\" rel=\"nofollow noreferrer\">https://github.com/morgwai/java-utils/blob/master/src/main/java/pl/morgwai/base/util/concurrent/OrderedConcurrentOutputBuffer.java</a></p>\n<p>feedback is welcome :)</p>\n"}],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690560156,"creation_date":1618904680,"question_id":67174565,"body_markdown":"i have a stream of messages coming from a websocket or a grpc client. for each message my service produces 0 or more reply messages. by default both websocket endpoints and grpc request observers are guaranteed to be called by maximum 1 thread concurrently, so my replies are sent in the same order as requests. Now I want to dispatch request processing to other threads and process them in parallel, but still keep the order. Therefore, I need some &quot;concurrent ordered response buffer&quot;, which will buffer replies to a given request message until processing of previous requests is finished and replies to them are sent (in order they were produced within each &quot;request bucket&quot;).  \r\nI can develop such  class myself, but it seems a common case, so I was wondering if maybe such thing already exists (to not reinvent the wheel). however I could not easily find anything on the web: does anyone knows about something like this?  \r\nThanks!","title":"java concurrent ordered response buffer","body":"<p>i have a stream of messages coming from a websocket or a grpc client. for each message my service produces 0 or more reply messages. by default both websocket endpoints and grpc request observers are guaranteed to be called by maximum 1 thread concurrently, so my replies are sent in the same order as requests. Now I want to dispatch request processing to other threads and process them in parallel, but still keep the order. Therefore, I need some &quot;concurrent ordered response buffer&quot;, which will buffer replies to a given request message until processing of previous requests is finished and replies to them are sent (in order they were produced within each &quot;request bucket&quot;).<br />\nI can develop such  class myself, but it seems a common case, so I was wondering if maybe such thing already exists (to not reinvent the wheel). however I could not easily find anything on the web: does anyone knows about something like this?<br />\nThanks!</p>\n"},{"tags":["java","eclipse","maven","lifecycle","exec-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690022288,"creation_date":1690022288,"answer_id":76743401,"question_id":76743278,"body_markdown":"Eclipse usually uses his embedded copy of Maven. The `m2.conf` is generated dynamically by eclipse on demand (in example: `/home/yourname/workspace/.metadata/.plugins/org.eclipse.m2e.launching/launches/m2conf17481979518454286727.tmp`). \r\n\r\nYou need to install maven separatly in order to do a automatic build using a builder in the project.\r\n\r\nInstalled maven manually?\r\n--\r\nOk, first you need to activate automatic builds:\r\n[![enter image description here][1]][1]\r\n\r\nThen open the project-properties and add a builder\r\n\r\n[![enter image description here][2]][2]\r\n\r\nChoose the mvn-executable and adjust the properties and goals according to your project.\r\n\r\n  [1]: https://i.stack.imgur.com/EiatR.png\r\n  [2]: https://i.stack.imgur.com/Sbiy6.png","title":"How to trigger maven exec plugin automatically in Eclipse when file is changing?","body":"<p>Eclipse usually uses his embedded copy of Maven. The <code>m2.conf</code> is generated dynamically by eclipse on demand (in example: <code>/home/yourname/workspace/.metadata/.plugins/org.eclipse.m2e.launching/launches/m2conf17481979518454286727.tmp</code>).</p>\n<p>You need to install maven separatly in order to do a automatic build using a builder in the project.</p>\n<h2>Installed maven manually?</h2>\n<p>Ok, first you need to activate automatic builds:\n<a href=\"https://i.stack.imgur.com/EiatR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EiatR.png\" alt=\"enter image description here\" /></a></p>\n<p>Then open the project-properties and add a builder</p>\n<p><a href=\"https://i.stack.imgur.com/Sbiy6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sbiy6.png\" alt=\"enter image description here\" /></a></p>\n<p>Choose the mvn-executable and adjust the properties and goals according to your project.</p>\n"}],"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76743401,"answer_count":1,"score":0,"last_activity_date":1690560008,"creation_date":1690020516,"question_id":76743278,"body_markdown":"I am using Eclipse 2023 to build a Typescript module with node/npm. I like there to execute each time the a &quot;*.ts&quot; file changes the maven exec plugin to do the typescript compilation. \r\n\r\nI have added the `exec-maven-plugin` and as well the `lifecycle-mapping` plugin. But when I change the &quot;*.ts&quot; file or calling &quot;build&quot; on my maven project, then the plugin get not automatically executed. I need each time to run the maven build manually by using a &quot;Run Configuration&quot;. \r\n\r\nThe project in Eclipse is a maven project (has the &quot;M&quot; icon) and as well under Builders the &quot;Maven Project Builder set. \r\n\r\nAny hint what I am doing wrong or what I missed?\r\n\r\nMy Eclipse Version: 2023-03 (4.27.0)\r\n\r\npom.xml:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.example.application&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;artifactId&gt;webcomponent&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t   &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                     &lt;lifecycleMappingMetadata&gt;\r\n                       &lt;pluginExecutions&gt;\r\n                         &lt;pluginExecution&gt;\r\n                           &lt;pluginExecutionFilter&gt;\r\n                             &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                             &lt;goals&gt;\r\n                               &lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t\t\t\t     &lt;/goals&gt;\r\n\t\t\t\t\t\t  &lt;/pluginExecutionFilter&gt;\r\n                           &lt;action&gt;\r\n                             &lt;execute/&gt;\r\n  \t\t\t\t\t\t&lt;/action&gt;\r\n                         &lt;/pluginExecution&gt;\r\n                       &lt;/pluginExecutions&gt;\r\n                     &lt;/lifecycleMappingMetadata&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t\t        &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t        &lt;executions&gt;\r\n\t\t          &lt;execution&gt;\r\n\t\t            &lt;goals&gt;\r\n\t\t              &lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t            &lt;/goals&gt;\r\n\t\t            &lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t          &lt;/execution&gt;\r\n\t\t        &lt;/executions&gt;\r\n\t\t        &lt;configuration&gt;\r\n\t\t          &lt;executable&gt;npm&lt;/executable&gt;\r\n\t\t          &lt;arguments&gt;\r\n\t\t\t\t\t&lt;argument&gt;run&lt;/argument&gt;\r\n\t\t            &lt;argument&gt;tsc&lt;/argument&gt;\r\n\t\t          &lt;/arguments&gt;\r\n\t\t        &lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sv9fI.png","title":"How to trigger maven exec plugin automatically in Eclipse when file is changing?","body":"<p>I am using Eclipse 2023 to build a Typescript module with node/npm. I like there to execute each time the a &quot;*.ts&quot; file changes the maven exec plugin to do the typescript compilation.</p>\n<p>I have added the <code>exec-maven-plugin</code> and as well the <code>lifecycle-mapping</code> plugin. But when I change the &quot;*.ts&quot; file or calling &quot;build&quot; on my maven project, then the plugin get not automatically executed. I need each time to run the maven build manually by using a &quot;Run Configuration&quot;.</p>\n<p>The project in Eclipse is a maven project (has the &quot;M&quot; icon) and as well under Builders the &quot;Maven Project Builder set.</p>\n<p>Any hint what I am doing wrong or what I missed?</p>\n<p>My Eclipse Version: 2023-03 (4.27.0)</p>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.example.application&lt;/groupId&gt;\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;webcomponent&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;build&gt;\n           &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                     &lt;lifecycleMappingMetadata&gt;\n                       &lt;pluginExecutions&gt;\n                         &lt;pluginExecution&gt;\n                           &lt;pluginExecutionFilter&gt;\n                             &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                             &lt;goals&gt;\n                               &lt;goal&gt;exec&lt;/goal&gt;\n                             &lt;/goals&gt;\n                          &lt;/pluginExecutionFilter&gt;\n                           &lt;action&gt;\n                             &lt;execute/&gt;\n                        &lt;/action&gt;\n                         &lt;/pluginExecution&gt;\n                       &lt;/pluginExecutions&gt;\n                     &lt;/lifecycleMappingMetadata&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;executions&gt;\n                  &lt;execution&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;exec&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                  &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                  &lt;executable&gt;npm&lt;/executable&gt;\n                  &lt;arguments&gt;\n                    &lt;argument&gt;run&lt;/argument&gt;\n                    &lt;argument&gt;tsc&lt;/argument&gt;\n                  &lt;/arguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Sv9fI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sv9fI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","struts","java-17"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690559937,"creation_date":1690558603,"answer_id":76789233,"question_id":76789189,"body_markdown":"The `cannot access javax.servlet.*` error is NOT caused by using Java 11 / 17.  \r\n\r\nIt is happening because when you switched to Spring Boot 3.1 you have (implicitly) switched from the Java EE specs to Jakarta EE 9.  The  `javax.servlet.*` packages have been renamed to `jakarta.servlet.*`\r\n(There are various tools and guides to help you migrate plain servlet code from Java EE to Jakarta EE, but I don&#39;t think this will help you.)\r\n\r\nStruts 2 is also affected (afflicted) by the Java EE -&gt; Jakarta EE issue.  Unfortunately Struts 6.x does NOT support Jakarta EE 9.  According to Struts issue  [WW-5141][1], the Struts team is targeting support for Jakarta EE 9 in the 7.0.0 milestone.\r\n\r\n----------------\r\n\r\nIn summary:\r\n\r\n  - If you roll back to SpringBoot 2.7, you can use Java 17 and Struts 2 version 6.2.0.\r\n  - If you want to use SpringBoot 3.x, you will need to wait until Struts 2 version 7.0.0 is released.  (And don&#39;t ask me when that will be ...) \r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/WW-5141","title":"Can I use Apache Struts 2 with Java 11/17?","body":"<p>The <code>cannot access javax.servlet.*</code> error is NOT caused by using Java 11 / 17.</p>\n<p>It is happening because when you switched to Spring Boot 3.1 you have (implicitly) switched from the Java EE specs to Jakarta EE 9.  The  <code>javax.servlet.*</code> packages have been renamed to <code>jakarta.servlet.*</code>\n(There are various tools and guides to help you migrate plain servlet code from Java EE to Jakarta EE, but I don't think this will help you.)</p>\n<p>Struts 2 is also affected (afflicted) by the Java EE -&gt; Jakarta EE issue.  Unfortunately Struts 6.x does NOT support Jakarta EE 9.  According to Struts issue  <a href=\"https://issues.apache.org/jira/browse/WW-5141\" rel=\"nofollow noreferrer\">WW-5141</a>, the Struts team is targeting support for Jakarta EE 9 in the 7.0.0 milestone.</p>\n<hr />\n<p>In summary:</p>\n<ul>\n<li>If you roll back to SpringBoot 2.7, you can use Java 17 and Struts 2 version 6.2.0.</li>\n<li>If you want to use SpringBoot 3.x, you will need to wait until Struts 2 version 7.0.0 is released.  (And don't ask me when that will be ...)</li>\n</ul>\n"}],"owner":{"account_id":9282949,"reputation":1,"user_id":6893659,"display_name":"marcinus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1690619380,"accepted_answer_id":76789233,"answer_count":1,"score":-1,"last_activity_date":1690559937,"creation_date":1690558182,"question_id":76789189,"body_markdown":"I&#39;m currently trying to do a migration of a project from Java 8 to Java 17 and Spring Boot 2.7 to 3.1.\r\nI&#39;ve encountered dependencies on `javax.servlet` package in latest Apache Struts 2 Core (6.2.0).\r\nI wonder if I can somehow make the project work on JVM 17?\r\n\r\nI tried compiling the project, but with no success - the compiler says `cannot access javax.servlet.*`","title":"Can I use Apache Struts 2 with Java 11/17?","body":"<p>I'm currently trying to do a migration of a project from Java 8 to Java 17 and Spring Boot 2.7 to 3.1.\nI've encountered dependencies on <code>javax.servlet</code> package in latest Apache Struts 2 Core (6.2.0).\nI wonder if I can somehow make the project work on JVM 17?</p>\n<p>I tried compiling the project, but with no success - the compiler says <code>cannot access javax.servlet.*</code></p>\n"},{"tags":["java","inheritance","constructor"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690523355,"post_id":76785117,"comment_id":135368382,"body_markdown":"Your question is answered by David Santamaria&#39;s answer in the question you linked.","body":"Your question is answered by David Santamaria&#39;s answer in the question you linked."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690523359,"post_id":76785117,"comment_id":135368383,"body_markdown":"*Nothing* in Java &#39;supports constructor inheritance&#39;. Constructors are not inherited. `MyException` does not *have* a 1-argument constructor. No other explanation required.","body":"<i>Nothing</i> in Java &#39;supports constructor inheritance&#39;. Constructors are not inherited. <code>MyException</code> does not <i>have</i> a 1-argument constructor. No other explanation required."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1690523831,"post_id":76785117,"comment_id":135368444,"body_markdown":"The no-argument constructor of `RuntimeException` is not inherited. You haven&#39;t given `MyException` a constructor, and so a default one is implicitly added by the compiler. That default constructor invokes the superclass&#39;s _no-argument_ constructor (as all constructors implicitly try to do when there&#39;s no explicit call to `super(...)` or `this(...)`). If such a constructor does not exist or is not visible, then the subclass fails to compile.","body":"The no-argument constructor of <code>RuntimeException</code> is not inherited. You haven&#39;t given <code>MyException</code> a constructor, and so a default one is implicitly added by the compiler. That default constructor invokes the superclass&#39;s <i>no-argument</i> constructor (as all constructors implicitly try to do when there&#39;s no explicit call to <code>super(...)</code> or <code>this(...)</code>). If such a constructor does not exist or is not visible, then the subclass fails to compile."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1690560118,"post_id":76785117,"comment_id":135375644,"body_markdown":"Regarding &quot;Why is Java designed like this?&quot;: see [Why are constructors not inherited in Java?](https://stackoverflow.com/questions/18147768/why-are-constructors-not-inherited-in-java)","body":"Regarding &quot;Why is Java designed like this?&quot;: see <a href=\"https://stackoverflow.com/questions/18147768/why-are-constructors-not-inherited-in-java\">Why are constructors not inherited in Java?</a>"},{"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"score":0,"creation_date":1690562621,"post_id":76785117,"comment_id":135376058,"body_markdown":"If I explicitly define a constructor, say a 1-arg constructor, will the compiler still add the default one? (It seems not from what I observed.)","body":"If I explicitly define a constructor, say a 1-arg constructor, will the compiler still add the default one? (It seems not from what I observed.)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690567531,"post_id":76785117,"comment_id":135376907,"body_markdown":"The default constructor is only added by the compiler if no other constructor is explicitly defined. And if you give `MyException` a one-argument constructor, say for the message argument, and you want it to behave like the equivalent constructor of `RuntimeException`, its implementation would look like: `public MyException(String msg) { super(msg); }`.","body":"The default constructor is only added by the compiler if no other constructor is explicitly defined. And if you give <code>MyException</code> a one-argument constructor, say for the message argument, and you want it to behave like the equivalent constructor of <code>RuntimeException</code>, its implementation would look like: <code>public MyException(String msg) { super(msg); }</code>."}],"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690523377,"answer_count":0,"score":0,"last_activity_date":1690559870,"creation_date":1690523146,"question_id":76785117,"body_markdown":"I have a class derived from `RuntimeException` and a function as below.\r\n\r\n    public class MyException extends RuntimeException {\r\n      // No contructor implemented;\r\n      // This class inherits the constructors from its parent;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n      String msg = &quot;msg&quot;;\r\n      MyException baseException = new MyException(); // No compiling error\r\n      MyException baseException2 = new MyException(msg); // Compiling error: Expected 0 arguments but found 1\r\n    }\r\n\r\nIt looks like `MyException` inherits the `default constructor` from `RuntimeException`,\r\nbut it does **not** inherit the `1-arg constructor RuntimeException(String message)`.\r\n\r\nIs this expected? Why is Java designed like this?\r\n\r\nI noticed that the similar question was discussed at https://stackoverflow.com/questions/1644317/java-constructor-inheritance.\r\n**That link does not answer my question since:**\r\nThey said Java does not support constructor inheritance, but based on my above observation, Java does support the inheritance of the default constructor,\r\nbut it does not support the 1-arg constructor. Thus I am not sure of the correctness of the answers in that link.\r\n\r\n@Slaw gave an excellent answer: the default constructor is not from inheritance -- it is added by the compiler; Also how the default constructor and other constructors are invoked; In what situation, the compile will fail. I have upvoted that answer. \r\n","title":"Does Java RuntimeException support constructor inheritance?","body":"<p>I have a class derived from <code>RuntimeException</code> and a function as below.</p>\n<pre><code>public class MyException extends RuntimeException {\n  // No contructor implemented;\n  // This class inherits the constructors from its parent;\n}\n\npublic static void main(String[] args) {\n  String msg = &quot;msg&quot;;\n  MyException baseException = new MyException(); // No compiling error\n  MyException baseException2 = new MyException(msg); // Compiling error: Expected 0 arguments but found 1\n}\n</code></pre>\n<p>It looks like <code>MyException</code> inherits the <code>default constructor</code> from <code>RuntimeException</code>,\nbut it does <strong>not</strong> inherit the <code>1-arg constructor RuntimeException(String message)</code>.</p>\n<p>Is this expected? Why is Java designed like this?</p>\n<p>I noticed that the similar question was discussed at <a href=\"https://stackoverflow.com/questions/1644317/java-constructor-inheritance\">Java Constructor Inheritance</a>.\n<strong>That link does not answer my question since:</strong>\nThey said Java does not support constructor inheritance, but based on my above observation, Java does support the inheritance of the default constructor,\nbut it does not support the 1-arg constructor. Thus I am not sure of the correctness of the answers in that link.</p>\n<p>@Slaw gave an excellent answer: the default constructor is not from inheritance -- it is added by the compiler; Also how the default constructor and other constructors are invoked; In what situation, the compile will fail. I have upvoted that answer.</p>\n"},{"tags":["java","android","listview","click","android-timepicker"],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690559722,"creation_date":1690559722,"answer_id":76789360,"question_id":76789208,"body_markdown":"You can just define your adapter once in your `onCreate()` and update it from anywhere, just make sure it is accessible using a global variable. Just like your `itemList` is accessible from anywhere, you can just add/remove items from your list, and call `adapter.notifyDataSetChanged()` this will automatically update the list view and adapter according to your list. However make sure you attach your adapter to your list view in `onCreate()` itself.","title":"Do i have to initialize ArrayAdapter at each listView update","body":"<p>You can just define your adapter once in your <code>onCreate()</code> and update it from anywhere, just make sure it is accessible using a global variable. Just like your <code>itemList</code> is accessible from anywhere, you can just add/remove items from your list, and call <code>adapter.notifyDataSetChanged()</code> this will automatically update the list view and adapter according to your list. However make sure you attach your adapter to your list view in <code>onCreate()</code> itself.</p>\n"}],"owner":{"account_id":16155139,"reputation":3,"user_id":11662508,"display_name":"Salih Yılmaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76789360,"answer_count":1,"score":0,"last_activity_date":1690559722,"creation_date":1690558390,"question_id":76789208,"body_markdown":"I want to update the list view inside click events but because I add the items inside a function that is outside the oncreate(), calls inside the click events dont update the listview. \r\n\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity implements TimePickerDialog.OnTimeSetListener {\r\n    List&lt;String&gt; itemlist = new ArrayList&lt;String&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        // Initializing the array lists and the adapter\r\n        Button add = findViewById(R.id.add);\r\n        EditText editText = findViewById (R.id.editText);\r\n        ListView listView = (ListView) findViewById (R.id.listView);\r\n        Button delete = findViewById (R.id.delete);\r\n        Button clear = findViewById(R.id.clear);\r\n\r\n\r\n        ArrayAdapter adapter = new ArrayAdapter (MainActivity.this, android.\r\n        R.layout.simple_list_item_multiple_choice, itemlist);\r\n\r\n        add.setOnClickListener(new View.OnClickListener() {\r\n               @Override\r\n               public void onClick(View view) {\r\n\r\n                   TimePickerFragment timePicker =  new TimePickerFragment();\r\n                   timePicker.show(getSupportFragmentManager(),&quot;time picker&quot;);\r\n                   //If i add items like this, everyting works fine \r\n//                   itemlist.add(editText.getText().toString());\r\n//                   listView.setAdapter(adapter);\r\n//                   adapter.notifyDataSetChanged();\r\n//                   // This is because every time when you add the item the input      space or the eidt text space will be cleared\r\n//                   editText.getText().clear();\r\n               }\r\n           }\r\n        );\r\n\r\n\r\n        // Selecting and Deleting the items from the list when the delete button is pressed\r\n\r\n        delete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                SparseBooleanArray position = listView.getCheckedItemPositions();\r\n\r\n\r\n                Integer count = listView.getCount();\r\n                int item = count - 1;\r\n                while (item &gt;= 0) {\r\n                if (position.get(item)) {\r\n                    itemlist.remove(item);\r\n//                    adapter.remove(itemlist.get(item));\r\n                }\r\n                item--;\r\n                }\r\n                position.clear();\r\n                ArrayAdapter&lt;String&gt;  adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\r\n                listView.setAdapter(adapter);\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n\r\n        // Clearing all the items in the list when the clear button is pressed\r\n        clear.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                itemlist.clear();\r\n                ArrayAdapter&lt;String&gt;  adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\r\n                listView.setAdapter(adapter);\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onTimeSet(TimePicker timePicker, int i, int i1) {\r\n        itemlist.add(&quot;The time selected is &quot;+i+&quot;:&quot;+i1);\r\n\r\n        ListView listView=findViewById(R.id.listView);\r\n\r\n        \r\n        ArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\r\n        listView.setAdapter(adapter);\r\n        adapter.notifyDataSetChanged();\r\n    }\r\n}t.simple_list_item_multiple_choice, itemlist);\r\n                listView.setAdapter(adapter);\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onTimeSet(TimePicker timePicker, int i, int i1) {\r\n        itemlist.add(&quot;The time selected is &quot;+i+&quot;:&quot;+i1);\r\n\r\n        ListView listView=findViewById(R.id.listView);\r\n\r\n        /// TODO: Make adapter accessible from here, dont create a local one\r\n        ArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\r\n        listView.setAdapter(adapter);\r\n        adapter.notifyDataSetChanged();\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class TimePickerFragment extends DialogFragment {\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n\r\n            Calendar c = Calendar.getInstance();\r\n            int hour = c.get(Calendar.HOUR_OF_DAY);\r\n            int minute = c.get(Calendar.MINUTE) ;\r\n\r\n            return new TimePickerDialog(getActivity(), (TimePickerDialog.OnTimeSetListener) getActivity(), hour, minute,android.text.format.DateFormat.is24HourFormat(getActivity()));\r\n\r\n        }\r\n}\r\n```\r\n\r\nWhen i add items like in the commented part, i dont have to initialize adapter each time. I can use the same adapter but when i add items inside ontimeset i have to initialize a new adapter (i tried using adapter as a class member but didnt work) and because of this i think, the updates inside oncreate doesnt change the UI\r\n","title":"Do i have to initialize ArrayAdapter at each listView update","body":"<p>I want to update the list view inside click events but because I add the items inside a function that is outside the oncreate(), calls inside the click events dont update the listview.</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements TimePickerDialog.OnTimeSetListener {\n    List&lt;String&gt; itemlist = new ArrayList&lt;String&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        // Initializing the array lists and the adapter\n        Button add = findViewById(R.id.add);\n        EditText editText = findViewById (R.id.editText);\n        ListView listView = (ListView) findViewById (R.id.listView);\n        Button delete = findViewById (R.id.delete);\n        Button clear = findViewById(R.id.clear);\n\n\n        ArrayAdapter adapter = new ArrayAdapter (MainActivity.this, android.\n        R.layout.simple_list_item_multiple_choice, itemlist);\n\n        add.setOnClickListener(new View.OnClickListener() {\n               @Override\n               public void onClick(View view) {\n\n                   TimePickerFragment timePicker =  new TimePickerFragment();\n                   timePicker.show(getSupportFragmentManager(),&quot;time picker&quot;);\n                   //If i add items like this, everyting works fine \n//                   itemlist.add(editText.getText().toString());\n//                   listView.setAdapter(adapter);\n//                   adapter.notifyDataSetChanged();\n//                   // This is because every time when you add the item the input      space or the eidt text space will be cleared\n//                   editText.getText().clear();\n               }\n           }\n        );\n\n\n        // Selecting and Deleting the items from the list when the delete button is pressed\n\n        delete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                SparseBooleanArray position = listView.getCheckedItemPositions();\n\n\n                Integer count = listView.getCount();\n                int item = count - 1;\n                while (item &gt;= 0) {\n                if (position.get(item)) {\n                    itemlist.remove(item);\n//                    adapter.remove(itemlist.get(item));\n                }\n                item--;\n                }\n                position.clear();\n                ArrayAdapter&lt;String&gt;  adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\n                listView.setAdapter(adapter);\n                adapter.notifyDataSetChanged();\n            }\n        });\n\n        // Clearing all the items in the list when the clear button is pressed\n        clear.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                itemlist.clear();\n                ArrayAdapter&lt;String&gt;  adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\n                listView.setAdapter(adapter);\n                adapter.notifyDataSetChanged();\n            }\n        });\n    }\n\n    @Override\n    public void onTimeSet(TimePicker timePicker, int i, int i1) {\n        itemlist.add(&quot;The time selected is &quot;+i+&quot;:&quot;+i1);\n\n        ListView listView=findViewById(R.id.listView);\n\n        \n        ArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\n        listView.setAdapter(adapter);\n        adapter.notifyDataSetChanged();\n    }\n}t.simple_list_item_multiple_choice, itemlist);\n                listView.setAdapter(adapter);\n                adapter.notifyDataSetChanged();\n            }\n        });\n    }\n\n    @Override\n    public void onTimeSet(TimePicker timePicker, int i, int i1) {\n        itemlist.add(&quot;The time selected is &quot;+i+&quot;:&quot;+i1);\n\n        ListView listView=findViewById(R.id.listView);\n\n        /// TODO: Make adapter accessible from here, dont create a local one\n        ArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\n        listView.setAdapter(adapter);\n        adapter.notifyDataSetChanged();\n    }\n}\n</code></pre>\n<pre><code>public class TimePickerFragment extends DialogFragment {\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n\n            Calendar c = Calendar.getInstance();\n            int hour = c.get(Calendar.HOUR_OF_DAY);\n            int minute = c.get(Calendar.MINUTE) ;\n\n            return new TimePickerDialog(getActivity(), (TimePickerDialog.OnTimeSetListener) getActivity(), hour, minute,android.text.format.DateFormat.is24HourFormat(getActivity()));\n\n        }\n}\n</code></pre>\n<p>When i add items like in the commented part, i dont have to initialize adapter each time. I can use the same adapter but when i add items inside ontimeset i have to initialize a new adapter (i tried using adapter as a class member but didnt work) and because of this i think, the updates inside oncreate doesnt change the UI</p>\n"},{"tags":["java","android","freeze","osmdroid"],"comments":[{"owner":{"account_id":2566794,"reputation":95,"user_id":2226614,"accept_rate":38,"display_name":"Luca Bertoncello"},"score":0,"creation_date":1691524585,"post_id":76788661,"comment_id":135502757,"body_markdown":"Maybe I found something interesting in the Android logs... I see many entries like:\nV/WindowStateAnimator(  687): computeShownFrameLocked: WindowStateAnimator{21f6c8f de.lucabert.simplevfr/de.lucabert.simplevfr.MainActivity} not attached, mAlpha=1.0\nDo someone knows what does it means? I didn&#39;t found anything yet...","body":"Maybe I found something interesting in the Android logs... I see many entries like: V/WindowStateAnimator(  687): computeShownFrameLocked: WindowStateAnimator{21f6c8f de.lucabert.simplevfr/de.lucabert.simplevfr.MainActivity} not attached, mAlpha=1.0 Do someone knows what does it means? I didn&#39;t found anything yet..."}],"owner":{"account_id":2566794,"reputation":95,"user_id":2226614,"accept_rate":38,"display_name":"Luca Bertoncello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690559666,"creation_date":1690553991,"question_id":76788661,"body_markdown":"I&#39;m writing an App for VFR navigation. The App uses OSMDroid (currently version 6.1.8).\r\nBasically the App works, but sometimes (can&#39;t say under which conditions!) the App &quot;freezes&quot;.\r\n\r\nUsing log files, I can see, the App works, but the whole display is frozen...&lt;br/&gt;\r\nThe functions that draw the elements were called, all App&#39;s functions works and no exception can be found in the log files.\r\n\r\nBut the display just stop working (not only the OSMDroid&#39;s Map will not be updated, but other elements, too). I can restart the App, other Apps works, but my App doesn&#39;t.&lt;br/&gt;\r\nThe App will not respond to user interaction (tapping on buttons or similar) and all elements on the screen will not be refreshed.&lt;br/&gt;\r\nTrying to force a elements&#39; refresh does not give any results...\r\n\r\nI wrote a Thread that refreshes the screen every 500ms, so that the rest of the App should work &quot;alone&quot;.&lt;br/&gt;\r\nMy code:\r\n```\r\n    contentView = findViewById(android.R.id.content).getRootView();\r\n    updateThread = new Thread(new Runnable()\r\n    {\r\n      @Override\r\n      public void run()\r\n      {\r\n        while(1)\r\n        {\r\n          MainActivity.this.runOnUiThread(new Runnable() {\r\n            public void run() {\r\n              try\r\n              {\r\n                periodicalScreenUpdate(); // this will update the elements on screen...\r\n                Logger.debug(&quot;Invalidate screen&quot;);\r\n                contentView.invalidate();\r\n              }\r\n              catch(Exception e)\r\n              {\r\n                Logger.notice(e);\r\n              }\r\n            }\r\n          }\r\n          Thread.sleep(500);\r\n        }\r\n      });\r\n    }\r\n```\r\nDoes someone have any idea what can be the problem and how I can solve it?\r\n\r\nEDITED: I cannot reproduce the problem with the emulator, but this is not a problem of the device, since I have the problem on all my devices (different types!)...\r\n\r\nThank you very very much!&lt;br/&gt;\r\nLuca","title":"Display is frozen in a Java App using OSMDroid, but App runs in background","body":"<p>I'm writing an App for VFR navigation. The App uses OSMDroid (currently version 6.1.8).\nBasically the App works, but sometimes (can't say under which conditions!) the App &quot;freezes&quot;.</p>\n<p>Using log files, I can see, the App works, but the whole display is frozen...<br/>\nThe functions that draw the elements were called, all App's functions works and no exception can be found in the log files.</p>\n<p>But the display just stop working (not only the OSMDroid's Map will not be updated, but other elements, too). I can restart the App, other Apps works, but my App doesn't.<br/>\nThe App will not respond to user interaction (tapping on buttons or similar) and all elements on the screen will not be refreshed.<br/>\nTrying to force a elements' refresh does not give any results...</p>\n<p>I wrote a Thread that refreshes the screen every 500ms, so that the rest of the App should work &quot;alone&quot;.<br/>\nMy code:</p>\n<pre><code>    contentView = findViewById(android.R.id.content).getRootView();\n    updateThread = new Thread(new Runnable()\n    {\n      @Override\n      public void run()\n      {\n        while(1)\n        {\n          MainActivity.this.runOnUiThread(new Runnable() {\n            public void run() {\n              try\n              {\n                periodicalScreenUpdate(); // this will update the elements on screen...\n                Logger.debug(&quot;Invalidate screen&quot;);\n                contentView.invalidate();\n              }\n              catch(Exception e)\n              {\n                Logger.notice(e);\n              }\n            }\n          }\n          Thread.sleep(500);\n        }\n      });\n    }\n</code></pre>\n<p>Does someone have any idea what can be the problem and how I can solve it?</p>\n<p>EDITED: I cannot reproduce the problem with the emulator, but this is not a problem of the device, since I have the problem on all my devices (different types!)...</p>\n<p>Thank you very very much!<br/>\nLuca</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1690547379,"post_id":76787806,"comment_id":135372814,"body_markdown":"Is that plus you want to replace actually inside quotes or is that just you trying to highlight it? If those quotes exist you could just do `replace(&quot;\\&quot;+\\&quot;&quot;, &quot;;&quot;);` edit: Or if those quotes aren&#39;t there but it is always `+ group` a simple `replace(&quot;+ group&quot;, &quot;; group&quot;);` could work.","body":"Is that plus you want to replace actually inside quotes or is that just you trying to highlight it? If those quotes exist you could just do <code>replace(&quot;\\&quot;+\\&quot;&quot;, &quot;;&quot;);</code> edit: Or if those quotes aren&#39;t there but it is always <code>+ group</code> a simple <code>replace(&quot;+ group&quot;, &quot;; group&quot;);</code> could work."},{"owner":{"account_id":29110967,"reputation":7,"user_id":22300754,"display_name":"gallo"},"score":0,"creation_date":1690789545,"post_id":76787806,"comment_id":135396591,"body_markdown":"the quotes just to highlight which + i want to replace with ;","body":"the quotes just to highlight which + i want to replace with ;"}],"answers":[{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690559473,"creation_date":1690559473,"answer_id":76789336,"question_id":76787806,"body_markdown":"System.out.println(&quot;a+b+c+&quot;.replaceFirst(&quot;(.*)\\\\+&quot;, &quot;$1;&quot;)); // a+b+c; ","title":"Java replace the last character &quot;+&quot; with &quot;;&quot; of the groups of string that match","body":"<p>System.out.println(&quot;a+b+c+&quot;.replaceFirst(&quot;(.*)\\+&quot;, &quot;$1;&quot;)); // a+b+c;</p>\n"}],"owner":{"account_id":29110967,"reputation":7,"user_id":22300754,"display_name":"gallo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1690559473,"creation_date":1690547225,"question_id":76787806,"body_markdown":"I have a file which contains: \r\n\r\n```\r\n....\r\nXPS430_1 + XPS430_3 + XPS430_5 + XPS430_7 + XPS430_9 + XPS430_11 + XPS430_13 + XPS430_15 + \r\nXPS830_1 + XPS830_3 + XPS830_5 + XPS830_7 + XPS830_9 + XPS830_11 + XPS830_13 + XPS830_15 + \r\nXPS751_1 + XPS751_3 + XPS751_5 + XPS751_7 + XPS751_9 + XPS751_11 + XPS751_13 + XPS751_15 &quot;+&quot;\r\ngroup XpsEvenPins = ....\r\n```\r\n\r\nand I would like to replace the last `&quot;+&quot;` with `&quot;;&quot;`\r\nI have multiple occurrences of &quot;group&quot;, and I would like to ends-up with `&quot;;&quot;`\r\n\r\nThanks\r\n\r\nTried several `matcher.replace `and other string manipulation without success. I don&#39;t know how to replace only the last `&quot;+&quot;`?","title":"Java replace the last character &quot;+&quot; with &quot;;&quot; of the groups of string that match","body":"<p>I have a file which contains:</p>\n<pre><code>....\nXPS430_1 + XPS430_3 + XPS430_5 + XPS430_7 + XPS430_9 + XPS430_11 + XPS430_13 + XPS430_15 + \nXPS830_1 + XPS830_3 + XPS830_5 + XPS830_7 + XPS830_9 + XPS830_11 + XPS830_13 + XPS830_15 + \nXPS751_1 + XPS751_3 + XPS751_5 + XPS751_7 + XPS751_9 + XPS751_11 + XPS751_13 + XPS751_15 &quot;+&quot;\ngroup XpsEvenPins = ....\n</code></pre>\n<p>and I would like to replace the last <code>&quot;+&quot;</code> with <code>&quot;;&quot;</code>\nI have multiple occurrences of &quot;group&quot;, and I would like to ends-up with <code>&quot;;&quot;</code></p>\n<p>Thanks</p>\n<p>Tried several <code>matcher.replace </code>and other string manipulation without success. I don't know how to replace only the last <code>&quot;+&quot;</code>?</p>\n"},{"tags":["java","properties"],"comments":[{"owner":{"account_id":388484,"reputation":5939,"user_id":747456,"accept_rate":43,"display_name":"Neil"},"score":5,"creation_date":1326012433,"post_id":8775303,"comment_id":10942181,"body_markdown":"The reason why I need to keep the properties file in the jar directory is that it is better to keep them together when the whole directory (including jar and property ) is copied to another machine and run.","body":"The reason why I need to keep the properties file in the jar directory is that it is better to keep them together when the whole directory (including jar and property ) is copied to another machine and run."},{"owner":{"account_id":388484,"reputation":5939,"user_id":747456,"accept_rate":43,"display_name":"Neil"},"score":1,"creation_date":1326012526,"post_id":8775303,"comment_id":10942196,"body_markdown":"And if I force the user to pass the property file path then he needs to change it every time he runs the batch file from a different machine.","body":"And if I force the user to pass the property file path then he needs to change it every time he runs the batch file from a different machine."}],"answers":[{"tags":[],"owner":{"account_id":444584,"reputation":8231,"user_id":836487,"accept_rate":64,"display_name":"sethu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1326011093,"creation_date":1326011093,"answer_id":8776275,"question_id":8775303,"body_markdown":"There&#39;s always a  problem accessing files on your file directory from a jar file. Providing the classpath in a jar file is very limited. Instead try using a bat file or a sh file to start your program. In that way you can specify your classpath anyway you like, referencing any folder anywhere on the system.\r\n\r\nAlso check my answer on this question:\r\n\r\nhttps://stackoverflow.com/questions/8774546/making-exe-file-for-java-project-containing-sqlite/8775042#comment10940685_8775042","title":"Read properties file outside JAR file","body":"<p>There's always a  problem accessing files on your file directory from a jar file. Providing the classpath in a jar file is very limited. Instead try using a bat file or a sh file to start your program. In that way you can specify your classpath anyway you like, referencing any folder anywhere on the system.</p>\n\n<p>Also check my answer on this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/8774546/making-exe-file-for-java-project-containing-sqlite/8775042#comment10940685_8775042\">making .exe file for java project containing sqlite</a></p>\n"},{"tags":[],"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"down_vote_count":0,"up_vote_count":169,"is_accepted":true,"score":169,"last_activity_date":1549577107,"creation_date":1326022845,"answer_id":8777182,"question_id":8775303,"body_markdown":"So, you want to treat your `.properties` file on the same folder as the main/runnable jar as a file rather than as a resource of the main/runnable jar. In that case, my own solution is as follows:\r\n\r\nFirst thing first: your program file architecture shall be like this (assuming your main program is main.jar and its main properties file is main.properties):\r\n\r\n    ./ - the root of your program\r\n     |__ main.jar\r\n     |__ main.properties\r\n\r\nWith this architecture, you can modify any property in the main.properties file using any text editor before or while your main.jar is running (depending on the current state of the program) since it is just a text-based file. For example, your main.properties file may contain:\r\n\r\n    app.version=1.0.0.0\r\n    app.name=Hello\r\n\r\nSo, when you run your main program from its root/base folder, normally you will run it like this:\r\n\r\n    java -jar ./main.jar\r\n\r\n \r\nor, straight away: \r\n\r\n    java -jar main.jar\r\n\r\n \r\nIn your main.jar, you need to create a few utility methods for every property found in your main.properties file; let say the `app.version` property will have `getAppVersion()` method as follows:\r\n\r\n    /**\r\n     * Gets the app.version property value from\r\n     * the ./main.properties file of the base folder\r\n     *\r\n     * @return app.version string\r\n     * @throws IOException\r\n     */\r\n\r\n    import java.util.Properties;\r\n\r\n    public static String getAppVersion() throws IOException{\r\n    \r\n        String versionString = null;\r\n        \r\n        //to load application&#39;s properties, we use this class\r\n        Properties mainProperties = new Properties();\r\n    \r\n        FileInputStream file;\r\n        \r\n        //the base folder is ./, the root of the main.properties file  \r\n        String path = &quot;./main.properties&quot;;\r\n        \r\n        //load the file handle for main.properties\r\n        file = new FileInputStream(path);\r\n        \r\n        //load all the properties from this file\r\n        mainProperties.load(file);\r\n    \r\n        //we have loaded the properties, so close the file handle\r\n        file.close();\r\n    \r\n        //retrieve the property we are intrested, the app.version\r\n        versionString = mainProperties.getProperty(&quot;app.version&quot;);\r\n    \r\n        return versionString;\r\n    }\r\n\r\n\r\nIn any part of the main program that needs the `app.version` value, we call its method as follows:\r\n\r\n    String version = null;\r\n    try{\r\n         version = getAppVersion();\r\n    }\r\n    catch (IOException ioe){\r\n        ioe.printStackTrace();\r\n    }\r\n","title":"Read properties file outside JAR file","body":"<p>So, you want to treat your <code>.properties</code> file on the same folder as the main/runnable jar as a file rather than as a resource of the main/runnable jar. In that case, my own solution is as follows:</p>\n\n<p>First thing first: your program file architecture shall be like this (assuming your main program is main.jar and its main properties file is main.properties):</p>\n\n<pre><code>./ - the root of your program\n |__ main.jar\n |__ main.properties\n</code></pre>\n\n<p>With this architecture, you can modify any property in the main.properties file using any text editor before or while your main.jar is running (depending on the current state of the program) since it is just a text-based file. For example, your main.properties file may contain:</p>\n\n<pre><code>app.version=1.0.0.0\napp.name=Hello\n</code></pre>\n\n<p>So, when you run your main program from its root/base folder, normally you will run it like this:</p>\n\n<pre><code>java -jar ./main.jar\n</code></pre>\n\n<p>or, straight away: </p>\n\n<pre><code>java -jar main.jar\n</code></pre>\n\n<p>In your main.jar, you need to create a few utility methods for every property found in your main.properties file; let say the <code>app.version</code> property will have <code>getAppVersion()</code> method as follows:</p>\n\n<pre><code>/**\n * Gets the app.version property value from\n * the ./main.properties file of the base folder\n *\n * @return app.version string\n * @throws IOException\n */\n\nimport java.util.Properties;\n\npublic static String getAppVersion() throws IOException{\n\n    String versionString = null;\n\n    //to load application's properties, we use this class\n    Properties mainProperties = new Properties();\n\n    FileInputStream file;\n\n    //the base folder is ./, the root of the main.properties file  \n    String path = \"./main.properties\";\n\n    //load the file handle for main.properties\n    file = new FileInputStream(path);\n\n    //load all the properties from this file\n    mainProperties.load(file);\n\n    //we have loaded the properties, so close the file handle\n    file.close();\n\n    //retrieve the property we are intrested, the app.version\n    versionString = mainProperties.getProperty(\"app.version\");\n\n    return versionString;\n}\n</code></pre>\n\n<p>In any part of the main program that needs the <code>app.version</code> value, we call its method as follows:</p>\n\n<pre><code>String version = null;\ntry{\n     version = getAppVersion();\n}\ncatch (IOException ioe){\n    ioe.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1389774446,"creation_date":1389774446,"answer_id":21132382,"question_id":8775303,"body_markdown":"I did it by other way. \r\n\r\n\r\n\r\n    Properties prop = new Properties();\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tFile jarPath=new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation().getPath());\r\n\t\t\tString propertiesPath=jarPath.getParentFile().getAbsolutePath();\r\n\t\t\tSystem.out.println(&quot; propertiesPath-&quot;+propertiesPath);\r\n\t\t\tprop.load(new FileInputStream(propertiesPath+&quot;/importer.properties&quot;));\r\n\t\t} catch (IOException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\r\n 1. Get Jar file path.\r\n 2. Get Parent folder of that file.\r\n 3. Use that path in InputStreamPath with your properties file name.","title":"Read properties file outside JAR file","body":"<p>I did it by other way. </p>\n\n<pre><code>Properties prop = new Properties();\n    try {\n\n        File jarPath=new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation().getPath());\n        String propertiesPath=jarPath.getParentFile().getAbsolutePath();\n        System.out.println(\" propertiesPath-\"+propertiesPath);\n        prop.load(new FileInputStream(propertiesPath+\"/importer.properties\"));\n    } catch (IOException e1) {\n        e1.printStackTrace();\n    }\n</code></pre>\n\n<ol>\n<li>Get Jar file path.</li>\n<li>Get Parent folder of that file.</li>\n<li>Use that path in InputStreamPath with your properties file name.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3903617,"reputation":169,"user_id":3230805,"accept_rate":60,"display_name":"ddaaggeett"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485114292,"creation_date":1485106501,"answer_id":41794050,"question_id":8775303,"body_markdown":"I have a similar case: wanting my `*.jar` file to access a file in a directory next to said `*.jar` file.  Refer to [THIS ANSWER](https://stackoverflow.com/questions/39081215/access-a-resource-outside-a-jar-from-the-jar) as well.\r\n\r\nMy file structure is:\r\n\r\n    ./ - the root of your program\r\n    |__ *.jar\r\n    |__ dir-next-to-jar/some.txt\r\n\r\nI&#39;m able to load a file (say, `some.txt`) to an InputStream inside the `*.jar` file with the following:\r\n\r\n    InputStream stream = null;\r\n\t\ttry{\r\n\t\t\tstream = ThisClassName.class.getClass().getResourceAsStream(&quot;/dir-next-to-jar/some.txt&quot;);\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\tSystem.out.print(&quot;error file to stream: &quot;);\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\nThen do whatever you will with the `stream`","title":"Read properties file outside JAR file","body":"<p>I have a similar case: wanting my <code>*.jar</code> file to access a file in a directory next to said <code>*.jar</code> file.  Refer to <a href=\"https://stackoverflow.com/questions/39081215/access-a-resource-outside-a-jar-from-the-jar\">THIS ANSWER</a> as well.</p>\n\n<p>My file structure is:</p>\n\n<pre><code>./ - the root of your program\n|__ *.jar\n|__ dir-next-to-jar/some.txt\n</code></pre>\n\n<p>I'm able to load a file (say, <code>some.txt</code>) to an InputStream inside the <code>*.jar</code> file with the following:</p>\n\n<pre><code>InputStream stream = null;\n    try{\n        stream = ThisClassName.class.getClass().getResourceAsStream(\"/dir-next-to-jar/some.txt\");\n    }\n    catch(Exception e) {\n        System.out.print(\"error file to stream: \");\n        System.out.println(e.getMessage());\n    }\n</code></pre>\n\n<p>Then do whatever you will with the <code>stream</code></p>\n"},{"tags":[],"owner":{"account_id":1343737,"reputation":2933,"user_id":1284868,"accept_rate":50,"display_name":"pitchblack408"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535391597,"creation_date":1535332774,"answer_id":52031496,"question_id":8775303,"body_markdown":"I have an example of doing both by classpath or from external config with log4j2.properties\r\n\r\n    package org.mmartin.app1;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Properties;\r\n    \r\n    import org.apache.logging.log4j.Logger;\r\n    import org.apache.logging.log4j.core.LoggerContext;\r\n    import org.apache.logging.log4j.LogManager;\r\n    \r\n    \r\n    public class App1 {\r\n    \tprivate static Logger logger=null; \r\n    \tprivate static final String LOG_PROPERTIES_FILE = &quot;config/log4j2.properties&quot;;\r\n    \tprivate static final String  CONFIG_PROPERTIES_FILE = &quot;config/config.properties&quot;;\r\n    \t\r\n    \tprivate Properties properties= new Properties();\r\n    \t\r\n    \tpublic App1() {\r\n    \t\tSystem.out.println(&quot;--Logger intialized with classpath properties file--&quot;);\r\n    \t\tintializeLogger1();\r\n    \t\ttestLogging();\r\n    \t\tSystem.out.println(&quot;--Logger intialized with external file--&quot;);\r\n    \t\tintializeLogger2();\r\n    \t\ttestLogging();\r\n    \t}\r\n    \r\n    \t\r\n    \r\n    \t\r\n    \tpublic void readProperties()  {\r\n    \t\tInputStream input = null;\r\n    \t\ttry {\r\n    \t\t\tinput = new FileInputStream(CONFIG_PROPERTIES_FILE);\r\n    \t\t\tthis.properties.load(input);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tlogger.error(&quot;Unable to read the config.properties file.&quot;,e);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void printProperties() {\r\n    \t\tthis.properties.list(System.out);\r\n    \t}\r\n    \t\r\n    \tpublic void testLogging() {\r\n    \t\tlogger.debug(&quot;This is a debug message&quot;);\r\n    \t\tlogger.info(&quot;This is an info message&quot;);\r\n    \t\tlogger.warn(&quot;This is a warn message&quot;);\r\n    \t\tlogger.error(&quot;This is an error message&quot;);\r\n    \t\tlogger.fatal(&quot;This is a fatal message&quot;);\r\n    \t\tlogger.info(&quot;Logger&#39;s name: &quot;+logger.getName());\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate void intializeLogger1() {\r\n    \t\tlogger = LogManager.getLogger(App1.class);\r\n    \t}\r\n    \tprivate void intializeLogger2() {\r\n    \t\tLoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\r\n    \t\tFile file = new File(LOG_PROPERTIES_FILE);\r\n    \t\t// this will force a reconfiguration\r\n    \t\tcontext.setConfigLocation(file.toURI());\r\n    \t\tlogger = context.getLogger(App1.class.getName());\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tApp1 app1 = new App1();\r\n    \t\tapp1.readProperties();\r\n    \t\tapp1.printProperties();\r\n    \t}\r\n    }\r\n    \r\n    \r\n    --Logger intialized with classpath properties file--\r\n    [DEBUG] 2018-08-27 10:35:14.510 [main] App1 - This is a debug message\r\n    [INFO ] 2018-08-27 10:35:14.513 [main] App1 - This is an info message\r\n    [WARN ] 2018-08-27 10:35:14.513 [main] App1 - This is a warn message\r\n    [ERROR] 2018-08-27 10:35:14.513 [main] App1 - This is an error message\r\n    [FATAL] 2018-08-27 10:35:14.513 [main] App1 - This is a fatal message\r\n    [INFO ] 2018-08-27 10:35:14.514 [main] App1 - Logger&#39;s name: org.mmartin.app1.App1\r\n    --Logger intialized with external file--\r\n    [DEBUG] 2018-08-27 10:35:14.524 [main] App1 - This is a debug message\r\n    [INFO ] 2018-08-27 10:35:14.525 [main] App1 - This is an info message\r\n    [WARN ] 2018-08-27 10:35:14.525 [main] App1 - This is a warn message\r\n    [ERROR] 2018-08-27 10:35:14.525 [main] App1 - This is an error message\r\n    [FATAL] 2018-08-27 10:35:14.525 [main] App1 - This is a fatal message\r\n    [INFO ] 2018-08-27 10:35:14.525 [main] App1 - Logger&#39;s name: org.mmartin.app1.App1\r\n    -- listing properties --\r\n    dbpassword=password\r\n    database=localhost\r\n    dbuser=user\r\n    \r\n    ","title":"Read properties file outside JAR file","body":"<p>I have an example of doing both by classpath or from external config with log4j2.properties</p>\n\n<pre><code>package org.mmartin.app1;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Properties;\n\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.core.LoggerContext;\nimport org.apache.logging.log4j.LogManager;\n\n\npublic class App1 {\n    private static Logger logger=null; \n    private static final String LOG_PROPERTIES_FILE = \"config/log4j2.properties\";\n    private static final String  CONFIG_PROPERTIES_FILE = \"config/config.properties\";\n\n    private Properties properties= new Properties();\n\n    public App1() {\n        System.out.println(\"--Logger intialized with classpath properties file--\");\n        intializeLogger1();\n        testLogging();\n        System.out.println(\"--Logger intialized with external file--\");\n        intializeLogger2();\n        testLogging();\n    }\n\n\n\n\n    public void readProperties()  {\n        InputStream input = null;\n        try {\n            input = new FileInputStream(CONFIG_PROPERTIES_FILE);\n            this.properties.load(input);\n        } catch (IOException e) {\n            logger.error(\"Unable to read the config.properties file.\",e);\n            System.exit(1);\n        }\n    }\n\n    public void printProperties() {\n        this.properties.list(System.out);\n    }\n\n    public void testLogging() {\n        logger.debug(\"This is a debug message\");\n        logger.info(\"This is an info message\");\n        logger.warn(\"This is a warn message\");\n        logger.error(\"This is an error message\");\n        logger.fatal(\"This is a fatal message\");\n        logger.info(\"Logger's name: \"+logger.getName());\n    }\n\n\n    private void intializeLogger1() {\n        logger = LogManager.getLogger(App1.class);\n    }\n    private void intializeLogger2() {\n        LoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\n        File file = new File(LOG_PROPERTIES_FILE);\n        // this will force a reconfiguration\n        context.setConfigLocation(file.toURI());\n        logger = context.getLogger(App1.class.getName());\n    }\n\n    public static void main(String[] args) {\n        App1 app1 = new App1();\n        app1.readProperties();\n        app1.printProperties();\n    }\n}\n\n\n--Logger intialized with classpath properties file--\n[DEBUG] 2018-08-27 10:35:14.510 [main] App1 - This is a debug message\n[INFO ] 2018-08-27 10:35:14.513 [main] App1 - This is an info message\n[WARN ] 2018-08-27 10:35:14.513 [main] App1 - This is a warn message\n[ERROR] 2018-08-27 10:35:14.513 [main] App1 - This is an error message\n[FATAL] 2018-08-27 10:35:14.513 [main] App1 - This is a fatal message\n[INFO ] 2018-08-27 10:35:14.514 [main] App1 - Logger's name: org.mmartin.app1.App1\n--Logger intialized with external file--\n[DEBUG] 2018-08-27 10:35:14.524 [main] App1 - This is a debug message\n[INFO ] 2018-08-27 10:35:14.525 [main] App1 - This is an info message\n[WARN ] 2018-08-27 10:35:14.525 [main] App1 - This is a warn message\n[ERROR] 2018-08-27 10:35:14.525 [main] App1 - This is an error message\n[FATAL] 2018-08-27 10:35:14.525 [main] App1 - This is a fatal message\n[INFO ] 2018-08-27 10:35:14.525 [main] App1 - Logger's name: org.mmartin.app1.App1\n-- listing properties --\ndbpassword=password\ndatabase=localhost\ndbuser=user\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1605316,"reputation":8784,"user_id":1485527,"accept_rate":100,"display_name":"jschnasse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613468937,"creation_date":1550579077,"answer_id":54766296,"question_id":8775303,"body_markdown":"This works for me. Load your properties file from `current directory`.\r\n\r\n**Attention**: The method `Properties#load` [uses ISO-8859-1 encoding](https://stackoverflow.com/a/66221046/1485527). \r\n\r\n    Properties properties = new Properties();\r\n\tproperties.load(new FileReader(new File(&quot;.&quot;).getCanonicalPath() + File.separator + &quot;java.properties&quot;));\r\n\tproperties.forEach((k, v) -&gt; {\r\n\t\t\t\tSystem.out.println(k + &quot; : &quot; + v);\r\n\t\t\t});\r\n\r\nMake sure, that `java.properties` is at the `current directory` . You can just write a little startup script that switches into to the right directory in before, like\r\n\r\n    #! /bin/bash\r\n    scriptdir=&quot;$( cd &quot;$( dirname &quot;${BASH_SOURCE[0]}&quot; )&quot; &amp;&amp; pwd )&quot; \r\n    cd $scriptdir\r\n    java -jar MyExecutable.jar\r\n    cd -\r\n\r\nIn your project just put the `java.properties` file in your project root, in order to make this code work from your IDE as well. ","title":"Read properties file outside JAR file","body":"<p>This works for me. Load your properties file from <code>current directory</code>.</p>\n<p><strong>Attention</strong>: The method <code>Properties#load</code> <a href=\"https://stackoverflow.com/a/66221046/1485527\">uses ISO-8859-1 encoding</a>.</p>\n<pre><code>Properties properties = new Properties();\nproperties.load(new FileReader(new File(&quot;.&quot;).getCanonicalPath() + File.separator + &quot;java.properties&quot;));\nproperties.forEach((k, v) -&gt; {\n            System.out.println(k + &quot; : &quot; + v);\n        });\n</code></pre>\n<p>Make sure, that <code>java.properties</code> is at the <code>current directory</code> . You can just write a little startup script that switches into to the right directory in before, like</p>\n<pre><code>#! /bin/bash\nscriptdir=&quot;$( cd &quot;$( dirname &quot;${BASH_SOURCE[0]}&quot; )&quot; &amp;&amp; pwd )&quot; \ncd $scriptdir\njava -jar MyExecutable.jar\ncd -\n</code></pre>\n<p>In your project just put the <code>java.properties</code> file in your project root, in order to make this code work from your IDE as well.</p>\n"},{"tags":[],"owner":{"account_id":6193307,"reputation":57,"user_id":4825422,"display_name":"Sarangz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594161982,"creation_date":1594161071,"answer_id":62784876,"question_id":8775303,"body_markdown":"Here if you mention `.getPath()` then that will return the path of Jar and I guess \r\nyou will need its parent to refer to all other config files placed with the jar.\r\nThis code works on Windows. Add the code within the main class.\r\n\r\n\r\n```\r\nFile jarDir = new File(MyAppName.class.getProtectionDomain().getCodeSource().getLocation().getPath());\r\nString jarDirpath = jarDir.getParent();\r\n\r\nSystem.out.println(jarDirpath);\r\n```\r\n","title":"Read properties file outside JAR file","body":"<p>Here if you mention <code>.getPath()</code> then that will return the path of Jar and I guess\nyou will need its parent to refer to all other config files placed with the jar.\nThis code works on Windows. Add the code within the main class.</p>\n<pre><code>File jarDir = new File(MyAppName.class.getProtectionDomain().getCodeSource().getLocation().getPath());\nString jarDirpath = jarDir.getParent();\n\nSystem.out.println(jarDirpath);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17850552,"reputation":27,"user_id":12966396,"display_name":"Jay dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616580635,"creation_date":1616580635,"answer_id":66778819,"question_id":8775303,"body_markdown":"    File parentFile = new File(&quot;.&quot;);\r\n    String parentPath = file.getCanonicalPath();\r\n    File resourceFile = new File(parentPath+File.seperator+&quot;&lt;your config file&gt;&quot;);\r\n","title":"Read properties file outside JAR file","body":"<pre><code>File parentFile = new File(&quot;.&quot;);\nString parentPath = file.getCanonicalPath();\nFile resourceFile = new File(parentPath+File.seperator+&quot;&lt;your config file&gt;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":461562,"reputation":1584,"user_id":863336,"display_name":"Bipul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690559364,"creation_date":1690559364,"answer_id":76789325,"question_id":8775303,"body_markdown":"One approach would be to add current directory in the classpath of your JAR using following entry in the META-INF/MANIFEST.MF file:\r\n    \r\n    Class-Path: .\r\n\r\nThen following code to load &quot;system.properties&quot; file will work seamlessly:\r\n\r\n    ResourceBundle systemPropertiesBundle = ResourceBundle.getBundle(&quot;system&quot;);\r\n","title":"Read properties file outside JAR file","body":"<p>One approach would be to add current directory in the classpath of your JAR using following entry in the META-INF/MANIFEST.MF file:</p>\n<pre><code>Class-Path: .\n</code></pre>\n<p>Then following code to load &quot;system.properties&quot; file will work seamlessly:</p>\n<pre><code>ResourceBundle systemPropertiesBundle = ResourceBundle.getBundle(&quot;system&quot;);\n</code></pre>\n"}],"owner":{"account_id":388484,"reputation":5939,"user_id":747456,"accept_rate":43,"display_name":"Neil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232660,"favorite_count":0,"down_vote_count":0,"up_vote_count":152,"accepted_answer_id":8777182,"answer_count":9,"score":152,"last_activity_date":1690559364,"creation_date":1325995539,"question_id":8775303,"body_markdown":"I have a JAR file where all my code is archived for running. I have to access a properties file which need to be changed/edited before each run. I want to keep the properties file in the same directory where the JAR file is. Is there anyway to tell Java to pick up the properties file from that directory ?\r\n\r\nNote: I do not want to keep the properties file in home directory or pass the path of the properties file in command line argument. ","title":"Read properties file outside JAR file","body":"<p>I have a JAR file where all my code is archived for running. I have to access a properties file which need to be changed/edited before each run. I want to keep the properties file in the same directory where the JAR file is. Is there anyway to tell Java to pick up the properties file from that directory ?</p>\n\n<p>Note: I do not want to keep the properties file in home directory or pass the path of the properties file in command line argument. </p>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1620273590,"post_id":11399491,"comment_id":119153574,"body_markdown":"For new readers to the question I recommend you don’t use `TimeZone`. That class is poorly designed and long outdated. Instead use `ZoneId` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"For new readers to the question I recommend you don’t use <code>TimeZone</code>. That class is poorly designed and long outdated. Instead use <code>ZoneId</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":1,"up_vote_count":122,"is_accepted":true,"score":121,"last_activity_date":1369136794,"creation_date":1341852360,"answer_id":11399538,"question_id":11399491,"body_markdown":"&gt; I need to save the phone&#39;s timezone in the format [+/-]hh:mm\r\n\r\nNo, you don&#39;t. Offset on its own is not enough, you need to store the whole time zone name/id. For example I live in Oslo where my current offset is +02:00 but in winter (due to [tag:dst]) it is +01:00. The exact switch between standard and summer time depends on factors you don&#39;t want to explore.\r\n\r\nSo instead of storing `+ 02:00` (or should it be `+ 01:00`?) I store `&quot;Europe/Oslo&quot;` in my database. Now I can restore full configuration using:\r\n\r\n    TimeZone tz = TimeZone.getTimeZone(&quot;Europe/Oslo&quot;)\r\n\r\nWant to know what is my time zone offset today?\r\n\r\n    tz.getOffset(new Date().getTime()) / 1000 / 60   //yields +120 minutes\r\n\r\nHowever the same in December:\r\n\r\n    Calendar christmas = new GregorianCalendar(2012, DECEMBER, 25);\r\n    tz.getOffset(christmas.getTimeInMillis()) / 1000 / 60   //yields +60 minutes\r\n\r\nEnough to say: store time zone name or id and every time you want to display a date, check what is the current offset (today) rather than storing fixed value. You can use [`TimeZone.getAvailableIDs()`](http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getAvailableIDs()) to enumerate all supported timezone IDs.","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<blockquote>\n  <p>I need to save the phone's timezone in the format [+/-]hh:mm</p>\n</blockquote>\n\n<p>No, you don't. Offset on its own is not enough, you need to store the whole time zone name/id. For example I live in Oslo where my current offset is +02:00 but in winter (due to <a href=\"/questions/tagged/dst\" class=\"post-tag\" title=\"show questions tagged &#39;dst&#39;\" rel=\"tag\">dst</a>) it is +01:00. The exact switch between standard and summer time depends on factors you don't want to explore.</p>\n\n<p>So instead of storing <code>+ 02:00</code> (or should it be <code>+ 01:00</code>?) I store <code>\"Europe/Oslo\"</code> in my database. Now I can restore full configuration using:</p>\n\n<pre><code>TimeZone tz = TimeZone.getTimeZone(\"Europe/Oslo\")\n</code></pre>\n\n<p>Want to know what is my time zone offset today?</p>\n\n<pre><code>tz.getOffset(new Date().getTime()) / 1000 / 60   //yields +120 minutes\n</code></pre>\n\n<p>However the same in December:</p>\n\n<pre><code>Calendar christmas = new GregorianCalendar(2012, DECEMBER, 25);\ntz.getOffset(christmas.getTimeInMillis()) / 1000 / 60   //yields +60 minutes\n</code></pre>\n\n<p>Enough to say: store time zone name or id and every time you want to display a date, check what is the current offset (today) rather than storing fixed value. You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getAvailableIDs()\" rel=\"noreferrer\"><code>TimeZone.getAvailableIDs()</code></a> to enumerate all supported timezone IDs.</p>\n"},{"tags":[],"owner":{"account_id":2798625,"reputation":891,"user_id":2407335,"display_name":"PuguaSoft"},"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1369176790,"creation_date":1369176790,"answer_id":16680815,"question_id":11399491,"body_markdown":"@MrBean - I was in a similar situation where I had to call a 3rd-party web service and pass in the Android device&#39;s current timezone offset in the format +/-hh:mm.  Here is my solution:\r\n\r\n    public static String getCurrentTimezoneOffset() {\r\n    \t\r\n    \tTimeZone tz = TimeZone.getDefault();  \r\n    \tCalendar cal = GregorianCalendar.getInstance(tz);\r\n    \tint offsetInMillis = tz.getOffset(cal.getTimeInMillis());\r\n\r\n    \tString offset = String.format(&quot;%02d:%02d&quot;, Math.abs(offsetInMillis / 3600000), Math.abs((offsetInMillis / 60000) % 60));\r\n    \toffset = (offsetInMillis &gt;= 0 ? &quot;+&quot; : &quot;-&quot;) + offset;\r\n    \t\r\n    \treturn offset;\r\n    } ","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<p>@MrBean - I was in a similar situation where I had to call a 3rd-party web service and pass in the Android device's current timezone offset in the format +/-hh:mm.  Here is my solution:</p>\n\n<pre><code>public static String getCurrentTimezoneOffset() {\n\n    TimeZone tz = TimeZone.getDefault();  \n    Calendar cal = GregorianCalendar.getInstance(tz);\n    int offsetInMillis = tz.getOffset(cal.getTimeInMillis());\n\n    String offset = String.format(\"%02d:%02d\", Math.abs(offsetInMillis / 3600000), Math.abs((offsetInMillis / 60000) % 60));\n    offset = (offsetInMillis &gt;= 0 ? \"+\" : \"-\") + offset;\n\n    return offset;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8417773,"reputation":440,"user_id":6327772,"accept_rate":100,"display_name":"Crislips"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492121948,"creation_date":1491837702,"answer_id":43327092,"question_id":11399491,"body_markdown":"I know this is old, but I figured I&#39;d give my input. I had to do this for a project at work and this was my solution.\r\n\r\nI have a Building object that includes the Timezone using the TimeZone class and wanted to create zoneId and offset fields in a new class.\r\n\r\nSo what I did was create:\r\n\r\n    private String timeZoneId;\r\n    private String timeZoneOffset;\r\n\r\nThen in the constructor I passed in the Building object and set these fields like so:\r\n\r\n    this.timeZoneId = building.getTimeZone().getID();\r\n    this.timeZoneOffset = building.getTimeZone().toZoneId().getId();\r\n\r\nSo timeZoneId might equal something like &quot;EST&quot;\r\nAnd timeZoneOffset might equal something like &quot;-05:00&quot;\r\n\r\nI would like to not that you might not ","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<p>I know this is old, but I figured I'd give my input. I had to do this for a project at work and this was my solution.</p>\n\n<p>I have a Building object that includes the Timezone using the TimeZone class and wanted to create zoneId and offset fields in a new class.</p>\n\n<p>So what I did was create:</p>\n\n<pre><code>private String timeZoneId;\nprivate String timeZoneOffset;\n</code></pre>\n\n<p>Then in the constructor I passed in the Building object and set these fields like so:</p>\n\n<pre><code>this.timeZoneId = building.getTimeZone().getID();\nthis.timeZoneOffset = building.getTimeZone().toZoneId().getId();\n</code></pre>\n\n<p>So timeZoneId might equal something like \"EST\"\nAnd timeZoneOffset might equal something like \"-05:00\"</p>\n\n<p>I would like to not that you might not </p>\n"},{"tags":[],"owner":{"account_id":1410679,"reputation":3385,"user_id":1337338,"accept_rate":38,"display_name":"voidMainReturn"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1654220777,"creation_date":1512672652,"answer_id":47701853,"question_id":11399491,"body_markdown":"With Java 8 now, you can use:\r\n\r\n    Integer offset  = ZonedDateTime.now().getOffset().getTotalSeconds();\r\n\r\nto get the current system time offset from UTC. Then you can convert it to any format you want. Found it useful for my case.\r\n\r\nExample: https://docs.oracle.com/javase/tutorial/datetime/iso/timezones.html","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<p>With Java 8 now, you can use:</p>\n<pre><code>Integer offset  = ZonedDateTime.now().getOffset().getTotalSeconds();\n</code></pre>\n<p>to get the current system time offset from UTC. Then you can convert it to any format you want. Found it useful for my case.</p>\n<p>Example: <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/timezones.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/datetime/iso/timezones.html</a></p>\n"},{"tags":[],"owner":{"account_id":7010328,"reputation":397,"user_id":5373457,"display_name":"Дмитрий Кулешов"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1530287668,"creation_date":1530287668,"answer_id":51105483,"question_id":11399491,"body_markdown":"    ZoneId here = ZoneId.of(&quot;Europe/Kiev&quot;);\r\n    ZonedDateTime hereAndNow = Instant.now().atZone(here);\r\n    String.format(&quot;%tz&quot;, hereAndNow);\r\nwill give you a standardized string representation like &quot;+0300&quot;","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<pre><code>ZoneId here = ZoneId.of(\"Europe/Kiev\");\nZonedDateTime hereAndNow = Instant.now().atZone(here);\nString.format(\"%tz\", hereAndNow);\n</code></pre>\n\n<p>will give you a standardized string representation like \"+0300\"</p>\n"},{"tags":[],"owner":{"account_id":4845031,"reputation":3448,"user_id":4307644,"accept_rate":80,"display_name":"MeetTitan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583565271,"creation_date":1542708453,"answer_id":53390607,"question_id":11399491,"body_markdown":"We can easily get the millisecond offset of a `TimeZone` with only a `TimeZone` instance and `System.currentTimeMillis()`. Then we can convert from milliseconds to any time unit of choice using the `TimeUnit` class.\r\n\r\nLike so:\r\n\r\n    public static int getOffsetHours(TimeZone timeZone) {\r\n        return (int) TimeUnit.MILLISECONDS.toHours(timeZone.getOffset(System.currentTimeMillis()));\r\n    }\r\n\r\n*Or if you prefer the new Java 8 time API*\r\n\r\n    public static ZoneOffset getOffset(TimeZone timeZone) { //for using ZoneOffsett class\r\n        ZoneId zi = timeZone.toZoneId();\r\n        ZoneRules zr = zi.getRules();\r\n        return zr.getOffset(LocalDateTime.now());\r\n    }\r\n\r\n    public static int getOffsetHours(TimeZone timeZone) { //just hour offset\r\n        ZoneOffset zo = getOffset(timeZone);\r\n        TimeUnit.SECONDS.toHours(zo.getTotalSeconds());\r\n    }\r\n","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<p>We can easily get the millisecond offset of a <code>TimeZone</code> with only a <code>TimeZone</code> instance and <code>System.currentTimeMillis()</code>. Then we can convert from milliseconds to any time unit of choice using the <code>TimeUnit</code> class.</p>\n\n<p>Like so:</p>\n\n<pre><code>public static int getOffsetHours(TimeZone timeZone) {\n    return (int) TimeUnit.MILLISECONDS.toHours(timeZone.getOffset(System.currentTimeMillis()));\n}\n</code></pre>\n\n<p><em>Or if you prefer the new Java 8 time API</em></p>\n\n<pre><code>public static ZoneOffset getOffset(TimeZone timeZone) { //for using ZoneOffsett class\n    ZoneId zi = timeZone.toZoneId();\n    ZoneRules zr = zi.getRules();\n    return zr.getOffset(LocalDateTime.now());\n}\n\npublic static int getOffsetHours(TimeZone timeZone) { //just hour offset\n    ZoneOffset zo = getOffset(timeZone);\n    TimeUnit.SECONDS.toHours(zo.getTotalSeconds());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5484031,"reputation":421,"user_id":4359454,"display_name":"SuN"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1690559332,"creation_date":1568625292,"answer_id":57953711,"question_id":11399491,"body_markdown":"With Java 8, you can achieve this with the following code.\r\n\r\n* To get the Zone offset\r\n\r\n   ```java\r\n    TimeZone tz = TimeZone.getDefault();\r\n    String offsetId = tz.toZoneId().getRules().getStandardOffset(Instant.now()).getId();\r\n    ```\r\n\r\n    and the `offsetId` will be something like `+01:00`.\r\n\r\n    Note `ZoneRules::getStandardOffset` give you the offset of the zone ID prior _Daylight Saving Time_ gets applied, since the offset of the zone ID may have changed over time, as the Javadoc mention.\r\n\r\n    &gt; Gets the standard offset for the specified instant in this zone.\r\nThis provides access to historic information on how the standard offset has changed over time. The standard offset is the offset before any daylight saving time is applied. This is typically the offset applicable during winter.\r\n\r\n\r\n* To get the current offset with DST\r\n\r\n    ```java\r\n    TimeZone.getDefault().toZoneId().getRules().getOffset(Instant.now()).getId()\r\n    ```\r\n\r\n    The returned identifier will return the actual offset for this zone.\r\n\r\n    &gt; Gets the offset applicable at the specified instant in these rules.\r\nThe mapping from an instant to an offset is simple, there is only one valid offset for each instant. This method returns that offset.\r\n\r\nThe way the functions `ZoneRules::getStandardOffset` / `ZoneRules::getOffset` work, i.e. they needs an `Instant` as parameter is because the specific time point is needed to compute the offset for this zone. Because the rule for this zone may change over time.\r\n\r\nFor example a _zone_ may have changed its TimeZone, like [_Samoa in 2011_](https://www.nytimes.com/2011/12/30/world/asia/samoa-to-skip-friday-and-switch-time-zones.html). Or countries that change their daylight saving time policies, like South Korea or Japan did in the past, maybe some countries in Europe in the future.\r\n\r\nIt is the reason why [@Tomasz Nurkiewicz&#39;s answer](https://stackoverflow.com/a/11399538/48136) recommends to **not store offset in signed hour format** directly, but make the code computes the offset each time it is needed.\r\n\r\n**Other APIs**\r\n\r\n```java\r\nZoneId.systemDefault().getRules().getStandardOffset(Instant.now())\r\nZoneId.systemDefault().getRules().getOffset(Instant.now())\r\n// ZonedDateTime don&#39;t expose the standard offset (i.e without DST)\r\nZonedDateTime.now().getOffset()\r\n```\r\n\r\n**References**\r\n* The timezone rules as maintained in [timezone database](https://en.wikipedia.org/wiki/Tz_database) (used by almost every software system). It is also known as the _Olson database_.\r\n* [W3&#39;s Working With Time Zones](https://www.w3.org/International/wiki/WorkingWithTimeZones)","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<p>With Java 8, you can achieve this with the following code.</p>\n<ul>\n<li><p>To get the Zone offset</p>\n<pre class=\"lang-java prettyprint-override\"><code>  TimeZone tz = TimeZone.getDefault();\n  String offsetId = tz.toZoneId().getRules().getStandardOffset(Instant.now()).getId();\n</code></pre>\n<p>and the <code>offsetId</code> will be something like <code>+01:00</code>.</p>\n<p>Note <code>ZoneRules::getStandardOffset</code> give you the offset of the zone ID prior <em>Daylight Saving Time</em> gets applied, since the offset of the zone ID may have changed over time, as the Javadoc mention.</p>\n<blockquote>\n<p>Gets the standard offset for the specified instant in this zone.\nThis provides access to historic information on how the standard offset has changed over time. The standard offset is the offset before any daylight saving time is applied. This is typically the offset applicable during winter.</p>\n</blockquote>\n</li>\n<li><p>To get the current offset with DST</p>\n<pre class=\"lang-java prettyprint-override\"><code>TimeZone.getDefault().toZoneId().getRules().getOffset(Instant.now()).getId()\n</code></pre>\n<p>The returned identifier will return the actual offset for this zone.</p>\n<blockquote>\n<p>Gets the offset applicable at the specified instant in these rules.\nThe mapping from an instant to an offset is simple, there is only one valid offset for each instant. This method returns that offset.</p>\n</blockquote>\n</li>\n</ul>\n<p>The way the functions <code>ZoneRules::getStandardOffset</code> / <code>ZoneRules::getOffset</code> work, i.e. they needs an <code>Instant</code> as parameter is because the specific time point is needed to compute the offset for this zone. Because the rule for this zone may change over time.</p>\n<p>For example a <em>zone</em> may have changed its TimeZone, like <a href=\"https://www.nytimes.com/2011/12/30/world/asia/samoa-to-skip-friday-and-switch-time-zones.html\" rel=\"nofollow noreferrer\"><em>Samoa in 2011</em></a>. Or countries that change their daylight saving time policies, like South Korea or Japan did in the past, maybe some countries in Europe in the future.</p>\n<p>It is the reason why <a href=\"https://stackoverflow.com/a/11399538/48136\">@Tomasz Nurkiewicz's answer</a> recommends to <strong>not store offset in signed hour format</strong> directly, but make the code computes the offset each time it is needed.</p>\n<p><strong>Other APIs</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId.systemDefault().getRules().getStandardOffset(Instant.now())\nZoneId.systemDefault().getRules().getOffset(Instant.now())\n// ZonedDateTime don't expose the standard offset (i.e without DST)\nZonedDateTime.now().getOffset()\n</code></pre>\n<p><strong>References</strong></p>\n<ul>\n<li>The timezone rules as maintained in <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"nofollow noreferrer\">timezone database</a> (used by almost every software system). It is also known as the <em>Olson database</em>.</li>\n<li><a href=\"https://www.w3.org/International/wiki/WorkingWithTimeZones\" rel=\"nofollow noreferrer\">W3's Working With Time Zones</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620253120,"creation_date":1620253120,"answer_id":67409440,"question_id":11399491,"body_markdown":"# *`java.time`: the modern date-time API*\r\n\r\nYou can get the offset of a timezone using [`ZonedDateTime#getOffset`][1].\r\n\r\nNote that the offset of a timezone that observes [DST][2] changes as per the changes in DST. For other places (e.g. India), it remains fixed. Therefore, it is recommended to mention the moment when the offset of a timezone is shown. A moment is mentioned as `Instant.now()` and it represents the date-time in UTC (represented by `Z` which stands for Zulu and specifies the timezone offset of `+00:00` hours).\r\n\r\n**Display offset of all timezones returned by `ZoneId.getAvailableZoneIds()`:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Test\r\n    \t\tInstant instant = Instant.now();\r\n    \t\tSystem.out.println(&quot;Timezone offset at &quot; + instant);\r\n    \t\tSystem.out.println(&quot;==============================================&quot;);\r\n    \t\tZoneId.getAvailableZoneIds()\r\n    \t\t\t.stream()\r\n    \t\t\t.sorted()\r\n    \t\t\t.forEach(strZoneId -&gt; System.out.printf(&quot;%-35s: %-6s%n&quot;,\r\n    \t\t\t\tstrZoneId, getTzOffsetString(ZoneId.of(strZoneId), instant)));\r\n    \t}\r\n    \r\n    \tstatic String getTzOffsetString(ZoneId zoneId, Instant instant) {\r\n    \t\treturn ZonedDateTime.ofInstant(instant, zoneId).getOffset().toString();\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    Timezone offset at 2021-05-05T21:45:34.150901Z\r\n    ==============================================\r\n    Africa/Abidjan                     : Z     \r\n    Africa/Accra                       : Z     \r\n    Africa/Addis_Ababa                 : +03:00\r\n    ...\r\n    ...\r\n    ...    \r\n    W-SU                               : +03:00\r\n    WET                                : +01:00\r\n    Zulu                               : Z  \r\n\r\nLearn more about the the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;   \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#getOffset--\r\n  [2]: https://en.wikipedia.org/wiki/Daylight_saving_time","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<h1><em><code>java.time</code>: the modern date-time API</em></h1>\n<p>You can get the offset of a timezone using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#getOffset--\" rel=\"noreferrer\"><code>ZonedDateTime#getOffset</code></a>.</p>\n<p>Note that the offset of a timezone that observes <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"noreferrer\">DST</a> changes as per the changes in DST. For other places (e.g. India), it remains fixed. Therefore, it is recommended to mention the moment when the offset of a timezone is shown. A moment is mentioned as <code>Instant.now()</code> and it represents the date-time in UTC (represented by <code>Z</code> which stands for Zulu and specifies the timezone offset of <code>+00:00</code> hours).</p>\n<p><strong>Display offset of all timezones returned by <code>ZoneId.getAvailableZoneIds()</code>:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Test\n        Instant instant = Instant.now();\n        System.out.println(&quot;Timezone offset at &quot; + instant);\n        System.out.println(&quot;==============================================&quot;);\n        ZoneId.getAvailableZoneIds()\n            .stream()\n            .sorted()\n            .forEach(strZoneId -&gt; System.out.printf(&quot;%-35s: %-6s%n&quot;,\n                strZoneId, getTzOffsetString(ZoneId.of(strZoneId), instant)));\n    }\n\n    static String getTzOffsetString(ZoneId zoneId, Instant instant) {\n        return ZonedDateTime.ofInstant(instant, zoneId).getOffset().toString();\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Timezone offset at 2021-05-05T21:45:34.150901Z\n==============================================\nAfrica/Abidjan                     : Z     \nAfrica/Accra                       : Z     \nAfrica/Addis_Ababa                 : +03:00\n...\n...\n...    \nW-SU                               : +03:00\nWET                                : +01:00\nZulu                               : Z  \n</code></pre>\n<p>Learn more about the the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"noreferrer\">modern date-time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"}],"owner":{"account_id":1626829,"reputation":989,"user_id":1502199,"accept_rate":83,"display_name":"Mr Bean"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187655,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":11399538,"answer_count":8,"score":65,"last_activity_date":1690559332,"creation_date":1341852204,"question_id":11399491,"body_markdown":"I need to save the phone&#39;s timezone in the format [+/-]hh:mm\r\n\r\nI am using TimeZone class to deal with this, but the only format I can get is the following:\r\n\r\n    PST -05:00\r\n    GMT +02:00\r\n\r\nI would rather not substring the result, is there any key or option flag I can set to only get the value and not the name of that timezone (GMT/CET/PST...)?","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<p>I need to save the phone's timezone in the format [+/-]hh:mm</p>\n\n<p>I am using TimeZone class to deal with this, but the only format I can get is the following:</p>\n\n<pre><code>PST -05:00\nGMT +02:00\n</code></pre>\n\n<p>I would rather not substring the result, is there any key or option flag I can set to only get the value and not the name of that timezone (GMT/CET/PST...)?</p>\n"},{"tags":["java","antlr4"],"answers":[{"tags":[],"owner":{"account_id":1156784,"reputation":50182,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690559251,"creation_date":1690559251,"answer_id":76789308,"question_id":76788748,"body_markdown":"I had a similar task to accomplish (parsing C header files) where continuation, stringizing etc. are common things and my approach was to implement a preprocessor which handled source lines first, e.g. it spliced lines where a line continuation character was found. With the result of this it was pretty straight forward to do normal parsing.\r\n\r\nSo I&#39;d recommend to do such a line base preprocessing step, where your remove line end comments and after that splice split lines. Then feed this text to your parser, which can then be much simpler than what it must be if it was to handle also the line based tasks.","title":"ANTLR4 : lexing keywords that can be split over lines","body":"<p>I had a similar task to accomplish (parsing C header files) where continuation, stringizing etc. are common things and my approach was to implement a preprocessor which handled source lines first, e.g. it spliced lines where a line continuation character was found. With the result of this it was pretty straight forward to do normal parsing.</p>\n<p>So I'd recommend to do such a line base preprocessing step, where your remove line end comments and after that splice split lines. Then feed this text to your parser, which can then be much simpler than what it must be if it was to handle also the line based tasks.</p>\n"}],"owner":{"account_id":29111640,"reputation":1,"user_id":22301285,"display_name":"Iain Young"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690559251,"creation_date":1690554713,"question_id":76788748,"body_markdown":"I am trying to get a parser working for the IBM BMS language, and have hit a problem. In this language, certain things have to go in certain columns, and if they are too long to fit, then you can put a &quot;continuation character&quot; in column 72 to indicate that the content continues on the next line. Characters after column 72 should be ignored (they are essentially comments). So a line can look like this...\r\n\r\n         DFHMDF POS=(3,39),LENGTH=9,INITIAL=&#39;VERSION :&#39;,ATTRB=(ASKIP,NO*00000250\r\n               RM)                                                      00000260\r\n\r\n...and it should parse the attribute as &quot;ATTRB=(ASKIP,NORM)&quot;. I need the lexer to emit &quot;NORM&quot; as a single token. Note that this split can take place in any part of any keyword (and there are a lot of them). \r\n\r\nI just wondered if anyone has got any ideas (or pointers to docs) as to the best way of approaching this problem using Antlr4. I have a separate lexer and parser grammar and I&#39;ve had some limited success playing with the lexer, but it&#39;s getting very messy very quickly. \r\n\r\nI&#39;m no antlr4 expert, but everything I&#39;ve been reading so far seems to suggest that this sort of thing is not easily done using this sort of parser (I&#39;m beginning to wonder whether I need to hand craft something instead).","title":"ANTLR4 : lexing keywords that can be split over lines","body":"<p>I am trying to get a parser working for the IBM BMS language, and have hit a problem. In this language, certain things have to go in certain columns, and if they are too long to fit, then you can put a &quot;continuation character&quot; in column 72 to indicate that the content continues on the next line. Characters after column 72 should be ignored (they are essentially comments). So a line can look like this...</p>\n<pre><code>     DFHMDF POS=(3,39),LENGTH=9,INITIAL='VERSION :',ATTRB=(ASKIP,NO*00000250\n           RM)                                                      00000260\n</code></pre>\n<p>...and it should parse the attribute as &quot;ATTRB=(ASKIP,NORM)&quot;. I need the lexer to emit &quot;NORM&quot; as a single token. Note that this split can take place in any part of any keyword (and there are a lot of them).</p>\n<p>I just wondered if anyone has got any ideas (or pointers to docs) as to the best way of approaching this problem using Antlr4. I have a separate lexer and parser grammar and I've had some limited success playing with the lexer, but it's getting very messy very quickly.</p>\n<p>I'm no antlr4 expert, but everything I've been reading so far seems to suggest that this sort of thing is not easily done using this sort of parser (I'm beginning to wonder whether I need to hand craft something instead).</p>\n"},{"tags":["java","oracle","function","return-value"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1406094931,"post_id":24902849,"comment_id":38687462,"body_markdown":"A SQL query? What have you tried, and where are you stuck?","body":"A SQL query? What have you tried, and where are you stuck?"},{"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"score":0,"creation_date":1406095048,"post_id":24902849,"comment_id":38687511,"body_markdown":"hi @ErwinBolwidt, started server, will post the stacktrace in few minutes.","body":"hi @ErwinBolwidt, started server, will post the stacktrace in few minutes."},{"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"score":0,"creation_date":1406095462,"post_id":24902849,"comment_id":38687652,"body_markdown":"@ErwinBolwidt, could you look at the edit now??","body":"@ErwinBolwidt, could you look at the edit now??"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1406095580,"post_id":24902849,"comment_id":38687699,"body_markdown":"Better, but we need to know what the error/exception is that you&#39;re getting. None of us can run this, since we don&#39;t have your database (which is understandable in this situation) but that means that we can&#39;t tell where this code goes wrong.","body":"Better, but we need to know what the error/exception is that you&#39;re getting. None of us can run this, since we don&#39;t have your database (which is understandable in this situation) but that means that we can&#39;t tell where this code goes wrong."},{"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"score":0,"creation_date":1406095847,"post_id":24902849,"comment_id":38687817,"body_markdown":"@ErwinBolwidt updated with exception i get, thanks","body":"@ErwinBolwidt updated with exception i get, thanks"},{"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"score":0,"creation_date":1406095880,"post_id":24902849,"comment_id":38687830,"body_markdown":"What you are doing is you are trying to pass a native query to HQL. Hibernate will not recognize your query. If you want to use native queries you should use session.createSQLQuery(&quot;select....&quot;).","body":"What you are doing is you are trying to pass a native query to HQL. Hibernate will not recognize your query. If you want to use native queries you should use session.createSQLQuery(&quot;select....&quot;)."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1406096334,"post_id":24902849,"comment_id":38687989,"body_markdown":"possible duplicate of [How to call a Oracle function from hibernate with return parameter?](http://stackoverflow.com/questions/1703351/how-to-call-a-oracle-function-from-hibernate-with-return-parameter)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1703351/how-to-call-a-oracle-function-from-hibernate-with-return-parameter\">How to call a Oracle function from hibernate with return parameter?</a>"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1406096465,"post_id":24902849,"comment_id":38688044,"body_markdown":"Duplicate was found by @NinadPingale - your problem is really what is described in that question. You are sending a raw SQL query to a hibernate function that only accepts HQL. The duplicate describes how to issue a raw SQL function call in combination with Hibernate.","body":"Duplicate was found by @NinadPingale - your problem is really what is described in that question. You are sending a raw SQL query to a hibernate function that only accepts HQL. The duplicate describes how to issue a raw SQL function call in combination with Hibernate."}],"answers":[{"tags":[],"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1406095520,"creation_date":1406095035,"answer_id":24902903,"question_id":24902849,"body_markdown":"There are actually multiple ways of doing so. But the easiest of them all is firing a query.\r\nHere&#39;s how to do it.\r\n\r\n    String sql=&quot;select myFunction(&#39;&quot;+number+&quot;&#39;,&#39;&quot;+date&quot;&#39;) from dual&quot;;\r\n    statement.execute(sql);\r\n\r\nSet the input and output parameters if you are using JDBC.\r\n\r\nIf you are using hibernate use Named Queries something like this:\r\n**YourMapping.hbm.xml**\r\n\r\n    &lt;sql-query name=&quot;my_function&quot; callable=&quot;true&quot;&gt;\r\n    &lt;return alias=&quot;demo&quot; class=&quot;net.bean.Demo&quot;&gt;\r\n    &lt;return-property name=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n    &lt;return-property name=&quot;fname&quot; column=&quot;fname&quot;/&gt;\r\n    &lt;return-property name=&quot;lname&quot; column=&quot;lname&quot;/&gt;\r\n    &lt;/return&gt;\r\n        {?=call demoFunc(:param1,:param2)}\r\n    &lt;/sql-query&gt;\r\n\r\nNow this will create a Named Query for the function\r\n\r\nNext thing to do is simply call it using following code\r\n\r\n    Query query=session.getNamedQuery(&quot;my_function&quot;);\r\n    query.setParameter(&quot;parma1&quot;,date);\r\n    query.setParameter(&quot;parma2&quot;,number);\r\n    query.executeUpdate();\r\n\r\nNote that in hbm.xml file the return class name and properties exists only apply if you have mapped the returning values if the function returning appropriate values.","title":"How to call oracle function from java","body":"<p>There are actually multiple ways of doing so. But the easiest of them all is firing a query.\nHere's how to do it.</p>\n\n<pre><code>String sql=\"select myFunction('\"+number+\"','\"+date\"') from dual\";\nstatement.execute(sql);\n</code></pre>\n\n<p>Set the input and output parameters if you are using JDBC.</p>\n\n<p>If you are using hibernate use Named Queries something like this:\n<strong>YourMapping.hbm.xml</strong></p>\n\n<pre><code>&lt;sql-query name=\"my_function\" callable=\"true\"&gt;\n&lt;return alias=\"demo\" class=\"net.bean.Demo\"&gt;\n&lt;return-property name=\"id\" column=\"id\"/&gt;\n&lt;return-property name=\"fname\" column=\"fname\"/&gt;\n&lt;return-property name=\"lname\" column=\"lname\"/&gt;\n&lt;/return&gt;\n    {?=call demoFunc(:param1,:param2)}\n&lt;/sql-query&gt;\n</code></pre>\n\n<p>Now this will create a Named Query for the function</p>\n\n<p>Next thing to do is simply call it using following code</p>\n\n<pre><code>Query query=session.getNamedQuery(\"my_function\");\nquery.setParameter(\"parma1\",date);\nquery.setParameter(\"parma2\",number);\nquery.executeUpdate();\n</code></pre>\n\n<p>Note that in hbm.xml file the return class name and properties exists only apply if you have mapped the returning values if the function returning appropriate values.</p>\n"},{"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1406095086,"creation_date":1406095086,"answer_id":24902915,"question_id":24902849,"body_markdown":"Use `session.doWork` from hibernate.\r\n\r\nhttps://stackoverflow.com/questions/1703351/how-to-call-a-oracle-function-from-hibernate-with-return-parameter\r\n\r\nFrom `Oracle documentation` -\r\n\r\nhttp://docs.oracle.com/cd/F49540_01/DOC/java.815/a64686/04_call5.htm\r\n\r\n    FUNCTION balance (acct_id NUMBER) RETURN NUMBER IS\r\n      acct_bal NUMBER;\r\n    BEGIN\r\n      SELECT bal INTO acct_bal FROM accts\r\n        WHERE acct_no = acct_id;\r\n      RETURN acct_bal;\r\n    END;\r\n\r\nFrom a JDBC program, your call to the function balance might look like this:\r\n\r\n    CallableStatement cstmt = conn.prepareCall(&quot;{? = CALL balance(?)}&quot;);\r\n    cstmt.registerOutParameter(1, Types.FLOAT);\r\n    cstmt.setInt(2, acctNo);\r\n    cstmt.executeUpdate();\r\n    float acctBal = cstmt.getFloat(1);","title":"How to call oracle function from java","body":"<p>Use <code>session.doWork</code> from hibernate.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1703351/how-to-call-a-oracle-function-from-hibernate-with-return-parameter\">How to call a Oracle function from hibernate with return parameter?</a></p>\n\n<p>From <code>Oracle documentation</code> -</p>\n\n<p><a href=\"http://docs.oracle.com/cd/F49540_01/DOC/java.815/a64686/04_call5.htm\" rel=\"nofollow noreferrer\">http://docs.oracle.com/cd/F49540_01/DOC/java.815/a64686/04_call5.htm</a></p>\n\n<pre><code>FUNCTION balance (acct_id NUMBER) RETURN NUMBER IS\n  acct_bal NUMBER;\nBEGIN\n  SELECT bal INTO acct_bal FROM accts\n    WHERE acct_no = acct_id;\n  RETURN acct_bal;\nEND;\n</code></pre>\n\n<p>From a JDBC program, your call to the function balance might look like this:</p>\n\n<pre><code>CallableStatement cstmt = conn.prepareCall(\"{? = CALL balance(?)}\");\ncstmt.registerOutParameter(1, Types.FLOAT);\ncstmt.setInt(2, acctNo);\ncstmt.executeUpdate();\nfloat acctBal = cstmt.getFloat(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4670392,"reputation":300,"user_id":3801222,"accept_rate":56,"display_name":"AtmiyaDas2014"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406095117,"creation_date":1406095117,"answer_id":24902921,"question_id":24902849,"body_markdown":"oracle function:\r\n\r\n    FUNCTION ap_ch_get_acct_balances (VAR_PI_MOB_NO_ACCT_NO VARCHAR2,\r\n    VAR_REPLY_CODE OUT NUMBER, VAR_EXT_RESPONSE OUT VARCHAR2, VAR_PO_ACC_BAL OUT CHAR,\r\n    VAR_PO_ACCT_NO OUT CHAR)  \r\n\r\ncall in java:\r\n\r\n    String call = &quot;{ ? = call FCRLIVE.AP_CH_GET_ACCT_BALANCES(?, ?, ?, ?, ?) }&quot;; ","title":"How to call oracle function from java","body":"<p>oracle function:</p>\n\n<pre><code>FUNCTION ap_ch_get_acct_balances (VAR_PI_MOB_NO_ACCT_NO VARCHAR2,\nVAR_REPLY_CODE OUT NUMBER, VAR_EXT_RESPONSE OUT VARCHAR2, VAR_PO_ACC_BAL OUT CHAR,\nVAR_PO_ACCT_NO OUT CHAR)  \n</code></pre>\n\n<p>call in java:</p>\n\n<pre><code>String call = \"{ ? = call FCRLIVE.AP_CH_GET_ACCT_BALANCES(?, ?, ?, ?, ?) }\"; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":375888,"reputation":309,"user_id":726982,"accept_rate":0,"display_name":"cmg_george"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690558714,"creation_date":1406095434,"answer_id":24902983,"question_id":24902849,"body_markdown":"You can use CallableStatement\r\n\r\n    String sql=&quot;begin ? := aaaa.function(?,?); end;&quot;;\r\n    CallableStatement stmt = connection.prepareCall(sql);\r\n    stmt.registerOutParameter(1, OracleTypes.BOOLEAN);\r\n    stmt.setInt(2, number);\r\n    stmt.setTimestamp(3, date);\r\n    stmt.execute();\r\n\r\nAfter that you can read the returned value with:\r\n\r\n    stmt.getBoolean(1)","title":"How to call oracle function from java","body":"<p>You can use CallableStatement</p>\n<pre><code>String sql=&quot;begin ? := aaaa.function(?,?); end;&quot;;\nCallableStatement stmt = connection.prepareCall(sql);\nstmt.registerOutParameter(1, OracleTypes.BOOLEAN);\nstmt.setInt(2, number);\nstmt.setTimestamp(3, date);\nstmt.execute();\n</code></pre>\n<p>After that you can read the returned value with:</p>\n<pre><code>stmt.getBoolean(1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5077546,"reputation":1,"user_id":4074531,"display_name":"Suneel Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663926276,"creation_date":1663926235,"answer_id":73825850,"question_id":24902849,"body_markdown":"// Oracle Function \r\n\r\n    create or replace function addtwono(a in number, b in number) return varchar2 is\r\n    Result varchar2(10);\r\n    begin\r\n    result:= a + b;\r\n    --c:= result;\r\n    return(&#39;SUCCESS&#39;);\r\n    end ;\r\n\r\n    // Java Code ==========================================\r\n    String query = &quot;begin ? := user.addtwono(?,?); end;&quot;;\r\n    CallableStatement st = connection.prepareCall(query);\r\n    st.registerOutParameter(1, OracleTypes.VARCHAR);\r\n    st.setInt(2, 10);\r\n    st.setInt(3, 15);\r\n    st.execute();\r\n    String rtn = st.getString(1);","title":"How to call oracle function from java","body":"<p>// Oracle Function</p>\n<pre><code>create or replace function addtwono(a in number, b in number) return varchar2 is\nResult varchar2(10);\nbegin\nresult:= a + b;\n--c:= result;\nreturn('SUCCESS');\nend ;\n\n// Java Code ==========================================\nString query = &quot;begin ? := user.addtwono(?,?); end;&quot;;\nCallableStatement st = connection.prepareCall(query);\nst.registerOutParameter(1, OracleTypes.VARCHAR);\nst.setInt(2, 10);\nst.setInt(3, 15);\nst.execute();\nString rtn = st.getString(1);\n</code></pre>\n"}],"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20647,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1690558714,"creation_date":1406094761,"question_id":24902849,"body_markdown":"How to call oracle function from java?.\r\n\r\nI have a oracle function aaa.fucntion(number,date);, this method returns true or false. how do call this from java and get the returned value?\r\n\r\nI am using `Hibernate`\r\n\r\nthis is what i tried,\r\n\r\n    Session session = null;\r\n    \t\t\tString associateHistorySQL=&quot;&quot;;\r\n    \t\t\t \r\n    \t\t\ttry {\r\n    \t\t\t\tsession = HibernateUtil.currentSession();\r\n    \t\t\t\t\r\n    \t\t\t\tassociateHistorySQL = &quot;SELECT aa.myFunction(:aorId,:givenDate) from dual&quot;;\r\n    \r\n    \t\t\t\tQuery associateHistoryQuery = session.createQuery(associateHistorySQL);\r\n    \t\t\t\t\r\n    \t\t\t\tassociateHistoryQuery.setParameter(&quot;aorId&quot;, associateOfficeRecordId);\r\n    \t\t\t\tassociateHistoryQuery.setParameter(&quot;givenDate&quot;, date);\r\n    \t\t\t\t\r\n    \t\t\t\tList associateHistoryList = associateHistoryQuery.list();\r\n    \t\t\t\t\r\n    \t\t\t\tif (associateHistoryList != null &amp;&amp; associateHistoryList.size() &gt; 0 &amp;&amp; new Integer(associateHistoryQuery.uniqueResult().toString()) &gt; 0)\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\telse\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t} finally {\r\n    \t\t\t\tHibernateUtil.cleanUpHibernateFromDao(false);\r\n    \t\t\t}\r\n\r\nThis is the exception i get `unexpected token: aa: line 1:1: unexpected token: aa`\r\n\r\nthanks","title":"How to call oracle function from java","body":"<p>How to call oracle function from java?.</p>\n\n<p>I have a oracle function aaa.fucntion(number,date);, this method returns true or false. how do call this from java and get the returned value?</p>\n\n<p>I am using <code>Hibernate</code></p>\n\n<p>this is what i tried,</p>\n\n<pre><code>Session session = null;\n            String associateHistorySQL=\"\";\n\n            try {\n                session = HibernateUtil.currentSession();\n\n                associateHistorySQL = \"SELECT aa.myFunction(:aorId,:givenDate) from dual\";\n\n                Query associateHistoryQuery = session.createQuery(associateHistorySQL);\n\n                associateHistoryQuery.setParameter(\"aorId\", associateOfficeRecordId);\n                associateHistoryQuery.setParameter(\"givenDate\", date);\n\n                List associateHistoryList = associateHistoryQuery.list();\n\n                if (associateHistoryList != null &amp;&amp; associateHistoryList.size() &gt; 0 &amp;&amp; new Integer(associateHistoryQuery.uniqueResult().toString()) &gt; 0)\n                    return true;\n                else\n                    return false;\n            } finally {\n                HibernateUtil.cleanUpHibernateFromDao(false);\n            }\n</code></pre>\n\n<p>This is the exception i get <code>unexpected token: aa: line 1:1: unexpected token: aa</code></p>\n\n<p>thanks</p>\n"},{"tags":["java","swing","user-interface","graphics","draw"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1612430303,"post_id":66042505,"comment_id":116765991,"body_markdown":"It&#39;s usually better to override `paintComponent` on a JPanel and add the panel to the frame. Also you might want to move down the string, because currently it will be off the top of the frame.","body":"It&#39;s usually better to override <code>paintComponent</code> on a JPanel and add the panel to the frame. Also you might want to move down the string, because currently it will be off the top of the frame."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":4,"creation_date":1612433961,"post_id":66042505,"comment_id":116767736,"body_markdown":"Change `g.drawString(&quot;Hello&quot;, 10, 10);` to `g.drawString(&quot;Hello&quot;, 10, 40);` &amp; the problem might start to make sense..","body":"Change <code>g.drawString(&quot;Hello&quot;, 10, 10);</code> to <code>g.drawString(&quot;Hello&quot;, 10, 40);</code> &amp; the problem might start to make sense.."}],"answers":[{"tags":[],"owner":{"account_id":19075915,"reputation":803,"user_id":13929206,"display_name":"Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612507528,"creation_date":1612455743,"answer_id":66049663,"question_id":66042505,"body_markdown":"When using `Graphics` class to draw anything to the `Component`, you should know one important thing:\r\n\r\nWhile `drawRect(int x, int y, int width, int height)` method the `x` and `y` are the &lt;b&gt;top-left&lt;/b&gt; corner, in the `drawString(String s, int x, int y)` the `x` and `y` are the &lt;b&gt;bottom-left&lt;/b&gt; corner.\r\n\r\nIn addition, when you draw anything in a `JFrame`, the position start on the top-left corner on the title of the `JFrame`, so the first paintable pixel is in point (~8, \r\n~28), this is different in every operating-system.","title":"Graphics.drawString() doesnt draw anything on the screen","body":"<p>When using <code>Graphics</code> class to draw anything to the <code>Component</code>, you should know one important thing:</p>\n<p>While <code>drawRect(int x, int y, int width, int height)</code> method the <code>x</code> and <code>y</code> are the <b>top-left</b> corner, in the <code>drawString(String s, int x, int y)</code> the <code>x</code> and <code>y</code> are the <b>bottom-left</b> corner.</p>\n<p>In addition, when you draw anything in a <code>JFrame</code>, the position start on the top-left corner on the title of the <code>JFrame</code>, so the first paintable pixel is in point (~8,\n~28), this is different in every operating-system.</p>\n"},{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690558578,"creation_date":1690558578,"answer_id":76789232,"question_id":66042505,"body_markdown":"Instead of drawing on the JFrame, which is does not draw it to the exact coordinates, make your main class a child of JPanel by using this code:\r\n```\r\npublic class Main extends JPanel {\r\n\r\n    public static void main(String[] args) {\r\n        new Main();\r\n    }\r\n    \r\n    JFrame frame = new JFrame();\r\n    \r\n    public Main() {\r\n    \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \tframe.add(this);\r\n    \tframe.pack();\r\n    \tframe.setSize(350, 500);\r\n    \tframe.setVisible(true);\r\n    }\r\n}\r\n```\r\nNow add your `paint` method\r\n```\r\n@Override\r\n    public void paint(Graphics g) {\r\n        super.paint(g);\r\n    \r\n        g.setColor(Color.RED);\r\n        g.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));\r\n        g.drawString(&quot;Hello&quot;, 10, 10);\r\n    }\r\n```","title":"Graphics.drawString() doesnt draw anything on the screen","body":"<p>Instead of drawing on the JFrame, which is does not draw it to the exact coordinates, make your main class a child of JPanel by using this code:</p>\n<pre><code>public class Main extends JPanel {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n    \n    JFrame frame = new JFrame();\n    \n    public Main() {\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(this);\n        frame.pack();\n        frame.setSize(350, 500);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>Now add your <code>paint</code> method</p>\n<pre><code>@Override\n    public void paint(Graphics g) {\n        super.paint(g);\n    \n        g.setColor(Color.RED);\n        g.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));\n        g.drawString(&quot;Hello&quot;, 10, 10);\n    }\n</code></pre>\n"}],"owner":{"account_id":20442553,"reputation":69,"user_id":14999071,"display_name":"Coderman69"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690558578,"creation_date":1612429862,"question_id":66042505,"body_markdown":"I&#39;m trying to draw a string with the `Graphics.drawString()`. But for some reason nothing shows up on the screen. Drawing a rectangle for example works but `drawString()` doesn&#39;t.\r\n\r\nHere&#39;s my code:\r\n\r\n    public class Main extends JFrame {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    new Main();\r\n\t    }\r\n\t\r\n\t    public Main() {\r\n\t\t    this.setSize(350, 500);\r\n\t\t    this.setVisible(true);\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void paint(Graphics g) {\r\n\t\t    super.paint(g);\r\n\t\t\r\n            //Nothing is drawn on the screen.\r\n\t\t    g.setColor(Color.RED);\r\n\t\t    g.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));\r\n\t\t    g.drawString(&quot;Hello&quot;, 10, 10);\r\n\t    }\r\n    }","title":"Graphics.drawString() doesnt draw anything on the screen","body":"<p>I'm trying to draw a string with the <code>Graphics.drawString()</code>. But for some reason nothing shows up on the screen. Drawing a rectangle for example works but <code>drawString()</code> doesn't.</p>\n<p>Here's my code:</p>\n<pre><code>public class Main extends JFrame {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        this.setSize(350, 500);\n        this.setVisible(true);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n    \n        //Nothing is drawn on the screen.\n        g.setColor(Color.RED);\n        g.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));\n        g.drawString(&quot;Hello&quot;, 10, 10);\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","windows-services"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1690559249,"post_id":76789104,"comment_id":135375476,"body_markdown":"Applications that are Windows Services need to implement specific APIs to act as a service. It&#39;s possible to use one of many Win Services wrapper applications or you can implement the service control callbacks / API in Java with + Foreign Memory API (incubating or preview JDK16-20). [How to create a windows service from java app](https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app)","body":"Applications that are Windows Services need to implement specific APIs to act as a service. It&#39;s possible to use one of many Win Services wrapper applications or you can implement the service control callbacks / API in Java with + Foreign Memory API (incubating or preview JDK16-20). <a href=\"https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app\">How to create a windows service from java app</a>"}],"owner":{"account_id":26815442,"reputation":1,"user_id":22258674,"display_name":"tictac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690557551,"creation_date":1690557551,"question_id":76789104,"body_markdown":"I want to create a windows service with the following command line:\r\n\r\njava -jar C:\\server\\server.jar -conf C:\\conf\\default.json\r\n\r\nI tried something like this:\r\nsc create ServerService binPath= &quot;java -jar C:\\server\\server.jar -conf C:\\conf\\default.json&quot; DisplayName= &quot;server Service&quot; start= auto\r\n\r\nand trying to start my previous created service, an error that the server doesn&#39;t start in time request ...\r\n\r\nI saw that a windows service must start in a max time before considered timeout.\r\n\r\nIs normal because the java command line start a server which never finish because the java process of the server must remains and listening incoming request.\r\n\r\nI understood (but my comprehension can be it can be false), I must try to launch the command line and return directly the result in order to the service is considered started.\r\nConsequently I tried this:\r\n\r\nsc create ServerService binPath= &quot;cmd /c start java -jar C:\\server\\server.jar -conf C:\\conf\\default.json&quot; DisplayName= &quot;server Service&quot; start= auto\r\n\r\nbut always the same error occurred ... do you have a idea how I can do that plz ?\r\n\r\nthank a lot and best regards\r\n\r\n\r\na windows service which can be start without error and my server up","title":"Create windows service with unfinishing java process","body":"<p>I want to create a windows service with the following command line:</p>\n<p>java -jar C:\\server\\server.jar -conf C:\\conf\\default.json</p>\n<p>I tried something like this:\nsc create ServerService binPath= &quot;java -jar C:\\server\\server.jar -conf C:\\conf\\default.json&quot; DisplayName= &quot;server Service&quot; start= auto</p>\n<p>and trying to start my previous created service, an error that the server doesn't start in time request ...</p>\n<p>I saw that a windows service must start in a max time before considered timeout.</p>\n<p>Is normal because the java command line start a server which never finish because the java process of the server must remains and listening incoming request.</p>\n<p>I understood (but my comprehension can be it can be false), I must try to launch the command line and return directly the result in order to the service is considered started.\nConsequently I tried this:</p>\n<p>sc create ServerService binPath= &quot;cmd /c start java -jar C:\\server\\server.jar -conf C:\\conf\\default.json&quot; DisplayName= &quot;server Service&quot; start= auto</p>\n<p>but always the same error occurred ... do you have a idea how I can do that plz ?</p>\n<p>thank a lot and best regards</p>\n<p>a windows service which can be start without error and my server up</p>\n"},{"tags":["java","jasper-reports"],"owner":{"account_id":20002023,"reputation":277,"user_id":14660815,"display_name":"Dnyaneshwar Jadhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690557312,"answer_count":0,"score":0,"last_activity_date":1690557317,"creation_date":1689183720,"question_id":76673189,"body_markdown":"I am using **JasperSoft-6** tool.\r\n\r\nI am creating `Field` of type `java.util.String`, and trying to associate to my Image element using below code\r\n`new java.io.ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64($F{std}.getBytes()))`\r\n\r\nFinally from java I am trying to set this way\r\n```\r\nbyte[] data = imagesRepo.findByUserId(Long.valueOf(22)).getPicByte();\r\n            System.out.println(&quot;Image length : &quot;+data.length);\r\n//            dataSource.put(&quot;imageData&quot;, data);\r\n//            dataSource.put(&quot;imageData&quot;, CommonFileUtils.decompressBytes(data));\r\n            \r\n            ByteArrayInputStream imageStream = new \r\n            ByteArrayInputStream(data);//CommonFileUtils.decompressBytes(data)\r\n            dataSource.put(&quot;imageData&quot;, imageStream);\r\n```\r\n\r\nStill I am not able to render the image, surprisingly no errors while generating report. report is generated but images are blank.\r\n\r\nI tried to follow this blog from stackoverflow but still no luck\r\nhttps://stackoverflow.com/questions/33547588/how-to-display-a-svg-byte-array-as-an-image-in-a-jasperreport","title":"How to show byte array of Image data in JRXML Jasper report?","body":"<p>I am using <strong>JasperSoft-6</strong> tool.</p>\n<p>I am creating <code>Field</code> of type <code>java.util.String</code>, and trying to associate to my Image element using below code\n<code>new java.io.ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64($F{std}.getBytes()))</code></p>\n<p>Finally from java I am trying to set this way</p>\n<pre><code>byte[] data = imagesRepo.findByUserId(Long.valueOf(22)).getPicByte();\n            System.out.println(&quot;Image length : &quot;+data.length);\n//            dataSource.put(&quot;imageData&quot;, data);\n//            dataSource.put(&quot;imageData&quot;, CommonFileUtils.decompressBytes(data));\n            \n            ByteArrayInputStream imageStream = new \n            ByteArrayInputStream(data);//CommonFileUtils.decompressBytes(data)\n            dataSource.put(&quot;imageData&quot;, imageStream);\n</code></pre>\n<p>Still I am not able to render the image, surprisingly no errors while generating report. report is generated but images are blank.</p>\n<p>I tried to follow this blog from stackoverflow but still no luck\n<a href=\"https://stackoverflow.com/questions/33547588/how-to-display-a-svg-byte-array-as-an-image-in-a-jasperreport\">How to display a svg byte array as an image in a JasperReport?</a></p>\n"},{"tags":["java","android","exception"],"comments":[{"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"score":2,"creation_date":1324625886,"post_id":8613408,"comment_id":10690818,"body_markdown":"what is the problem? the stacktrace and the exception message are two different things, so nothing to solve here IMHO","body":"what is the problem? the stacktrace and the exception message are two different things, so nothing to solve here IMHO"},{"owner":{"account_id":872717,"reputation":6649,"user_id":923207,"accept_rate":70,"display_name":"Arci"},"score":1,"creation_date":1324627264,"post_id":8613408,"comment_id":10691048,"body_markdown":"@kostja: Aren&#39;t they related? I thought the exception message is a brief description of the stacktrace? So if the stacktrace is not null, then the exception message must also contain a value?","body":"@kostja: Aren&#39;t they related? I thought the exception message is a brief description of the stacktrace? So if the stacktrace is not null, then the exception message must also contain a value?"},{"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"score":1,"creation_date":1324628557,"post_id":8613408,"comment_id":10691292,"body_markdown":"added an answer as it is getting tooo long for comments","body":"added an answer as it is getting tooo long for comments"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1324626022,"creation_date":1324626022,"answer_id":8613437,"question_id":8613408,"body_markdown":"SocketTimeOutException is the type of the exception. It&#39;s probably just that this exception (or the code throwing it) didn&#39;t bother providing a message with the exception, and thought the type of the exception was sufficiently meaningful. Use \r\n\r\n    Log.d(&quot;Error&quot;, &quot;Error Message: &quot; + e);\r\n\r\nor\r\n\r\n    Log.d(&quot;Error&quot;, &quot;Some exception occurred&quot;, e);\r\n\r\nrather than asking the message.","title":"Exception message is null?","body":"<p>SocketTimeOutException is the type of the exception. It's probably just that this exception (or the code throwing it) didn't bother providing a message with the exception, and thought the type of the exception was sufficiently meaningful. Use </p>\n\n<pre><code>Log.d(\"Error\", \"Error Message: \" + e);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Log.d(\"Error\", \"Some exception occurred\", e);\n</code></pre>\n\n<p>rather than asking the message.</p>\n"},{"tags":[],"owner":{"account_id":1121066,"reputation":316,"user_id":1109369,"display_name":"Tobias Bre&#223;ler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530306656,"creation_date":1324626058,"answer_id":8613441,"question_id":8613408,"body_markdown":"I think the Exception that is thrown in your code has no message. The String is null. But of course you can print the stack trace. These are two different things. You will see the stack trace, but without the message.","title":"Exception message is null?","body":"<p>I think the Exception that is thrown in your code has no message. The String is null. But of course you can print the stack trace. These are two different things. You will see the stack trace, but without the message.</p>\n"},{"tags":[],"owner":{"account_id":1083984,"reputation":1741,"user_id":1080166,"accept_rate":62,"display_name":"bvanvelsen - ACA Group"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690557211,"creation_date":1324626066,"answer_id":8613443,"question_id":8613408,"body_markdown":"`e.printStackTrace()` means the actual stacktrace which is almost always present. A message however not. If you check the Javadoc of the [getMessage()][1] method, you will notice that it may return null. There will be message if you call the constructor from exception with the String message param [Exception Javadoc][2]\r\n \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html#getMessage%28%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html#Exception%28java.lang.String%29","title":"Exception message is null?","body":"<p><code>e.printStackTrace()</code> means the actual stacktrace which is almost always present. A message however not. If you check the Javadoc of the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html#getMessage%28%29\" rel=\"nofollow noreferrer\">getMessage()</a> method, you will notice that it may return null. There will be message if you call the constructor from exception with the String message param <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html#Exception%28java.lang.String%29\" rel=\"nofollow noreferrer\">Exception Javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":1001342,"reputation":386,"user_id":1016124,"display_name":"anilsinaci"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324626092,"creation_date":1324626092,"answer_id":8613446,"question_id":8613408,"body_markdown":"Try to give the exception itself to the logger instead of e.getMessage(). Loggers generally have methods which expect Throwable objects and default configurations (generally) of the loggers prints the stack trace.","title":"Exception message is null?","body":"<p>Try to give the exception itself to the logger instead of e.getMessage(). Loggers generally have methods which expect Throwable objects and default configurations (generally) of the loggers prints the stack trace.</p>\n"},{"tags":[],"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1435908319,"creation_date":1324628498,"answer_id":8613720,"question_id":8613408,"body_markdown":"The message and the stacktrace are two distinct pieces of information. While the stackstrace is mandatory, the message is not. Most exceptions carry a message, and it is the best practice to do so, but some just don&#39;t and there&#39;s nothing to be done to fix it.\r\n\r\nYou can make it easier for your clients though and provide a message by wrapping the message-less exception or throwing a custom exception with the original exception as the cause. This might look like following.\r\n\r\n    throw new  MyRuntimeException(&quot;Socket was closed unexpectedly&quot;, e);","title":"Exception message is null?","body":"<p>The message and the stacktrace are two distinct pieces of information. While the stackstrace is mandatory, the message is not. Most exceptions carry a message, and it is the best practice to do so, but some just don't and there's nothing to be done to fix it.</p>\n\n<p>You can make it easier for your clients though and provide a message by wrapping the message-less exception or throwing a custom exception with the original exception as the cause. This might look like following.</p>\n\n<pre><code>throw new  MyRuntimeException(\"Socket was closed unexpectedly\", e);\n</code></pre>\n"}],"owner":{"account_id":872717,"reputation":6649,"user_id":923207,"accept_rate":70,"display_name":"Arci"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70108,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":8613720,"answer_count":5,"score":43,"last_activity_date":1690557211,"creation_date":1324625720,"question_id":8613408,"body_markdown":"I have a `try-catch` statement in my code. In my catch block, I am calling `e.getMessage()` to print the message of the exception. However, `e.getMessage` keeps returning a null value. Interestingly, when I call `e.printStackTrace,` I have no problem printing the stack trace.\r\n\r\nBelow is my code:\r\n\r\n    try\r\n    {\r\n        console = new BufferedReader(new InputStreamReader(httpsURLConnection.getInputStream()));\r\n    }catch(Exception e)\r\n    {\r\n        Log.d(&quot;Error&quot;, &quot;Error Message: &quot; + e.getMessage()); //e.getMessage is returning a null value\r\n        e.printStackTrace(); //this works. is displaying a SocketTimeOutException\r\n    }\r\n\r\nWhat could be the cause of my problem? How do I solve it?","title":"Exception message is null?","body":"<p>I have a <code>try-catch</code> statement in my code. In my catch block, I am calling <code>e.getMessage()</code> to print the message of the exception. However, <code>e.getMessage</code> keeps returning a null value. Interestingly, when I call <code>e.printStackTrace,</code> I have no problem printing the stack trace.</p>\n\n<p>Below is my code:</p>\n\n<pre><code>try\n{\n    console = new BufferedReader(new InputStreamReader(httpsURLConnection.getInputStream()));\n}catch(Exception e)\n{\n    Log.d(\"Error\", \"Error Message: \" + e.getMessage()); //e.getMessage is returning a null value\n    e.printStackTrace(); //this works. is displaying a SocketTimeOutException\n}\n</code></pre>\n\n<p>What could be the cause of my problem? How do I solve it?</p>\n"},{"tags":["java","algorithm","exponent","superscript","factorization"],"comments":[{"owner":{"account_id":22012967,"reputation":113,"user_id":17989032,"display_name":"Anon"},"score":1,"creation_date":1690551368,"post_id":76788011,"comment_id":135373666,"body_markdown":"How large is this program? You might want to consider adding more of your code to this post. How long does it take to calculate the factorization for each prime number? Or how long does the entire program take to run?","body":"How large is this program? You might want to consider adding more of your code to this post. How long does it take to calculate the factorization for each prime number? Or how long does the entire program take to run?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1690554319,"post_id":76788011,"comment_id":135374401,"body_markdown":"Which is your question? Are you asking how to get output with superscript exponents, as opposed to plain text only? Or are you asking for with a prime factorization algorithm?  (As far as I can tell, it seems to be the latter.)  If you are asking about both, you risk having the question closed for lack of focus. If you are asking about one, inclusion of details about the other risks having the question closed, also for lack of focus. Please provide a [Complete but Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) that focuses on *one* issue.","body":"Which is your question? Are you asking how to get output with superscript exponents, as opposed to plain text only? Or are you asking for with a prime factorization algorithm?  (As far as I can tell, it seems to be the latter.)  If you are asking about both, you risk having the question closed for lack of focus. If you are asking about one, inclusion of details about the other risks having the question closed, also for lack of focus. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Complete but Minimal Reproducible Example</a> that focuses on <i>one</i> issue."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690554970,"post_id":76788011,"comment_id":135374575,"body_markdown":"Oh, and welcome to Stack Overflow. It may help to [take the tour](https://stackoverflow.com/tour) and read [How To Ask a Good Question](https://stackoverflow.com/help/how-to-ask).  The question should show example input, expected output / behavior, and actual output / behavior. Eliminate details not relevant to the problem.","body":"Oh, and welcome to Stack Overflow. It may help to <a href=\"https://stackoverflow.com/tour\">take the tour</a> and read <a href=\"https://stackoverflow.com/help/how-to-ask\">How To Ask a Good Question</a>.  The question should show example input, expected output / behavior, and actual output / behavior. Eliminate details not relevant to the problem."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690555021,"post_id":76788011,"comment_id":135374587,"body_markdown":"@old dog programmer...thanks for your reply.   I believed I have made it clear in my question that my problem is specific to improving the efficiency of my output module (which outputs the prime factorization using exponents in superscript form).    I am not in need of a prime factorization algorithm...these are in abundance.   The specific issue is how to convert the output 2 2 3 3 5 5 5 5 11 to 2&#178; &#183; 3&#178; &#183; 5⁴ using a faster method than the one I have been using.  Thank you.","body":"@old dog programmer...thanks for your reply.   I believed I have made it clear in my question that my problem is specific to improving the efficiency of my output module (which outputs the prime factorization using exponents in superscript form).    I am not in need of a prime factorization algorithm...these are in abundance.   The specific issue is how to convert the output 2 2 3 3 5 5 5 5 11 to 2&#178; &#183; 3&#178; &#183; 5⁴ using a faster method than the one I have been using.  Thank you."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690555182,"post_id":76788011,"comment_id":135374627,"body_markdown":"@Anon...there is no other relevant code, only the prime factorization module which can be via use of trial division or Lenstra elliptic-curve, but this is not an issue.  The specific issue is with converting the output 2 2 3 3 5 5 5 5 11 to  2&#178; &#183; 3&#178; &#183; 5⁴  using an efficient method rather than the clunky one I have used.","body":"@Anon...there is no other relevant code, only the prime factorization module which can be via use of trial division or Lenstra elliptic-curve, but this is not an issue.  The specific issue is with converting the output 2 2 3 3 5 5 5 5 11 to  2&#178; &#183; 3&#178; &#183; 5⁴  using an efficient method rather than the clunky one I have used."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690555747,"post_id":76788011,"comment_id":135374770,"body_markdown":"@ Old Dog Programmer...I do sincerely apologize for that.  I am a learner programmer.  I do not believe that my code is out of context for what precedes my output module is just the prime factorization algorithm itself (which I do not need to post).  My problem is specific in how to convert 2 2 3 3 5 5 5 5 11 (prime number in FACTOR[c] array) to 2&#178; &#183; 3&#178; &#183; 5⁴ in a faster, more efficient manner.","body":"@ Old Dog Programmer...I do sincerely apologize for that.  I am a learner programmer.  I do not believe that my code is out of context for what precedes my output module is just the prime factorization algorithm itself (which I do not need to post).  My problem is specific in how to convert 2 2 3 3 5 5 5 5 11 (prime number in FACTOR[c] array) to 2&#178; &#183; 3&#178; &#183; 5⁴ in a faster, more efficient manner."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690556341,"post_id":76788011,"comment_id":135374898,"body_markdown":"@ Old Dog Programmer...you could add any prime factorization algorithm which outputs the primes in an array, then just cut and paste my output module to process the array.  I did not believe that I needed to do anything else to explain the issue.  As I have stated, I am a learner programmer...","body":"@ Old Dog Programmer...you could add any prime factorization algorithm which outputs the primes in an array, then just cut and paste my output module to process the array.  I did not believe that I needed to do anything else to explain the issue.  As I have stated, I am a learner programmer..."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690557192,"post_id":76788011,"comment_id":135375067,"body_markdown":"It is good program design to have the calculations and output in separate methods.  `... public BigInteger [] factorize (long num) { ... } ... public String toStringWithExponents (BigInteger [] factors) { ... } ... `  Then, a third method to get the number to be factorized, and call the other two.  That will make it better for you, and better for us when you ask a question here. You can provide us with a minimal reproducible example by putting `2 2 3 3 5 5 5 5 11`,  and possibly other examples, into arrays to show us a minimal reproducible example that concentrates on the problem.","body":"It is good program design to have the calculations and output in separate methods.  <code>... public BigInteger [] factorize (long num) { ... } ... public String toStringWithExponents (BigInteger [] factors) { ... } ... </code>  Then, a third method to get the number to be factorized, and call the other two.  That will make it better for you, and better for us when you ask a question here. You can provide us with a minimal reproducible example by putting <code>2 2 3 3 5 5 5 5 11</code>,  and possibly other examples, into arrays to show us a minimal reproducible example that concentrates on the problem."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690557583,"post_id":76788011,"comment_id":135375152,"body_markdown":"@Old Dog Prg.  Yeah, but I do not believe it changes anything in regards to whether one method or several methods are in play here.  My output module receives an array (FACTOR[c[), and I gave an example of an output (2 2 3 3 5 5 5 5 11).  The issue is how to process this array to output 2&#178; &#183; 3&#178; &#183; 5⁴  using a faster method than the one I have devised.  I don&#39;t believe anything I have posted is out of context or insufficient in detailing the problem, and assistance has been given (which I will carefully study in due course).  I do not understand the, for want of better words, antagonism here!","body":"@Old Dog Prg.  Yeah, but I do not believe it changes anything in regards to whether one method or several methods are in play here.  My output module receives an array (FACTOR[c[), and I gave an example of an output (2 2 3 3 5 5 5 5 11).  The issue is how to process this array to output 2&#178; &#183; 3&#178; &#183; 5⁴  using a faster method than the one I have devised.  I don&#39;t believe anything I have posted is out of context or insufficient in detailing the problem, and assistance has been given (which I will carefully study in due course).  I do not understand the, for want of better words, antagonism here!"},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690566606,"post_id":76788011,"comment_id":135376746,"body_markdown":"@trincot...the reason I did not react was because someone else (thorin9000) gave the correct solution to the matter.  He gave his solution in the comments section, rather than giving a formal answer.  The answer provided by gOOse was not the optimal solution because it required me to rewrite my entire program, whilst thorin9000&#39;s answer enabled me to make a few simple modifications to my code enabling my program to function correctly.  I thanked thorin9000 for his help.","body":"@trincot...the reason I did not react was because someone else (thorin9000) gave the correct solution to the matter.  He gave his solution in the comments section, rather than giving a formal answer.  The answer provided by gOOse was not the optimal solution because it required me to rewrite my entire program, whilst thorin9000&#39;s answer enabled me to make a few simple modifications to my code enabling my program to function correctly.  I thanked thorin9000 for his help."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690556375,"creation_date":1690550800,"answer_id":76788256,"question_id":76788011,"body_markdown":"It would be useful to show more of your code in an [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)\r\n\r\nOne specific problem is that you try to replace a digit with the `unicode` value whether that digit is present or not.  There may be better solutions than the following but this processes the digits in the exponent as `ints` and limits the string handling.\r\n\r\nStore the symbols in a list, in order of their index.\r\n```\r\nstatic List&lt;String&gt; sups = List.of(&quot;\\u2070&quot;, &quot;\\u00b9&quot;, &quot;\\u00b2&quot;, &quot;\\u00b3&quot;,\r\n        &quot;\\u2074&quot;, &quot;\\u2075&quot;, &quot;\\u2076&quot;, &quot;\\u2077&quot;, &quot;\\u2078&quot;, &quot;\\u2079&quot;);\r\n```\r\nNow define a lambda to call to convert to the exponent.\r\n\r\n- first, covert to positive and save sign if required\r\n- then, iterate over the number, getting each digit using the remainder `%` operator. Then using that digit, index into the list of unicode characters and prepend the digit, building the exponent from right to left.\r\n- then prepend the sign and return the string.\r\n``` \r\nFunction&lt;Integer, String&gt; toExp = exp -&gt; {\r\n    String sign = &quot;&quot;;\r\n    if (exp &lt; 0) {\r\n        sign = &quot;\\u207B&quot;; // minus sign\r\n        exp = -exp;\r\n    }\r\n    String result = sups.get(exp % 10);\r\n    while (exp &gt; 10) {\r\n        exp /= 10;\r\n        result = sups.get(exp % 10) + result;\r\n    }\r\n    return sign + result;\r\n};\r\n\r\nSystem.out.printf(&quot;%d%s%n&quot;, 3, toExp.apply(12));\r\nSystem.out.printf(&quot;%d%s%n&quot;, 12, toExp.apply(-329));\r\n```\r\nprints\r\n```\r\n3&#185;&#178;\r\n12⁻&#179;&#178;⁹\r\n   ","title":"Prime factorization with superscript exponents java","body":"<p>It would be useful to show more of your code in an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a></p>\n<p>One specific problem is that you try to replace a digit with the <code>unicode</code> value whether that digit is present or not.  There may be better solutions than the following but this processes the digits in the exponent as <code>ints</code> and limits the string handling.</p>\n<p>Store the symbols in a list, in order of their index.</p>\n<pre><code>static List&lt;String&gt; sups = List.of(&quot;\\u2070&quot;, &quot;\\u00b9&quot;, &quot;\\u00b2&quot;, &quot;\\u00b3&quot;,\n        &quot;\\u2074&quot;, &quot;\\u2075&quot;, &quot;\\u2076&quot;, &quot;\\u2077&quot;, &quot;\\u2078&quot;, &quot;\\u2079&quot;);\n</code></pre>\n<p>Now define a lambda to call to convert to the exponent.</p>\n<ul>\n<li>first, covert to positive and save sign if required</li>\n<li>then, iterate over the number, getting each digit using the remainder <code>%</code> operator. Then using that digit, index into the list of unicode characters and prepend the digit, building the exponent from right to left.</li>\n<li>then prepend the sign and return the string.</li>\n</ul>\n<pre><code>Function&lt;Integer, String&gt; toExp = exp -&gt; {\n    String sign = &quot;&quot;;\n    if (exp &lt; 0) {\n        sign = &quot;\\u207B&quot;; // minus sign\n        exp = -exp;\n    }\n    String result = sups.get(exp % 10);\n    while (exp &gt; 10) {\n        exp /= 10;\n        result = sups.get(exp % 10) + result;\n    }\n    return sign + result;\n};\n\nSystem.out.printf(&quot;%d%s%n&quot;, 3, toExp.apply(12));\nSystem.out.printf(&quot;%d%s%n&quot;, 12, toExp.apply(-329));\n</code></pre>\n<p>prints</p>\n<pre><code>3¹²\n12⁻³²⁹\n   \n</code></pre>\n"}],"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76788256,"answer_count":1,"score":0,"last_activity_date":1690556375,"creation_date":1690548916,"question_id":76788011,"body_markdown":"I would like to have my outputs from my Prime Factorization module in my calculator program to be in this form:  247500 = 2&#178; &#183; 3&#178; &#183; 5⁴ &#183; 11 instead of 2^2 * 3^2 * 5^4 * 11 or 2 2 3 3 5 5 5 5 11.\r\n\r\nThe problem is that due to my extremely limited programming knowledge, my implementation of exponent sorting and displaying slows my program down &quot;exponentially&quot; (pun intended) for larger numbers.  I have tried to find a more efficient way of doing the operation, but cannot find any other way.\r\n\r\nI devised the following method...it works, but its very slow.  I apologize if conventions are not being followed (I am a learner programmer).\r\n\r\nThe prime numbers are stored in the array FACTOR[c]...I&#39;m using BigInteger in my factorization module.\r\n\r\n    if (counter == 0) {\r\n    \t\t  \t\t\t\t\t\r\n      OUTPUT = &quot;prime number&quot;;\r\n    \t\t  \t\t\t\t\t\r\n    }\r\n    \t\t  \t\t\t\t\r\n    else {\r\n    \t\t  \t\t\t\t\t\r\n      OUTPUT = OUTPUT + FACTOR[c];\r\n      c ++;\r\n    \t\t  \t\t\t\t\t\r\n      do {\r\n    \t\t  \t\t\t\t\t\t\r\n         if (FACTOR[c].compareTo(FACTOR[c-1]) == 0) {\r\n    \t\t  \t\t\t\t\t\t\t\r\n           exponent++;\r\n    \t\t  \t\t\t\t\t\t\t\r\n           if (c == counter) {  // condition if the number with exponent is the last in derivation.\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n    \t  exp = String.valueOf(exponent);\r\n    \t  str.conversion (exp);\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n    \t  OUTPUT = OUTPUT + exp;\r\n    \t  break;\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n           }\r\n    \t\t  \t\t\t\t\t\t\t\r\n         }\r\n    \t\t  \t\t\t\t\t\r\n         else if (((FACTOR[c].compareTo(FACTOR[c-1]) == 1 || (FACTOR[c].compareTo(FACTOR[c-1]) ==  -1))&amp;&amp; exponent &gt; 1)) {\r\n    \t\r\n           if (c == counter) {  // condition if the number with exponent is the last in derivation.\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n             exp = String.valueOf(exponent);\r\n             str.conversion (exp);\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n             OUTPUT = OUTPUT + exp + &quot; &#183; &quot; + FACTOR[c];\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n             break;\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n           }\r\n    \t\t  \t\t\t\t\t\t\t\r\n           exp = String.valueOf(exponent);\r\n           str.conversion (exp);\r\n    \t\t  \t\t\t\t\t\t\t\r\n           OUTPUT = OUTPUT + exp + &quot; &#183; &quot; + FACTOR[c];\r\n    \t\t  \t\t\t\t\t\t\t\r\n           exponent = 1;\r\n    \t\t  \t\t\t\t\t\t\r\n        }\r\n    \t\t  \t\t\t\t\t\r\n        else if (((FACTOR[c].compareTo(FACTOR[c-1]) == 1 || (FACTOR[c].compareTo(FACTOR[c-1]) == -1)) &amp;&amp; exponent == 1)) {\r\n    \t\t  \t\t\t\t\t\t\t\r\n         OUTPUT = OUTPUT + &quot; &#183; &quot; + String.valueOf(FACTOR[c]);\r\n    \t\t  \t\t\t\t\t\t\r\n         }\r\n    \t\t  \t\t\t\t\t\r\n         c++;\r\n    \t\t  \t\t\t\t\t\t\r\n      } while (c!= counter+1);\r\n    \t\t  \t\t\t\t\t\r\n    }\r\n    \t\t  \t\t\t\t\r\n    answer = firstword + &quot; = &quot; + OUTPUT;\r\n    \r\n    class Convtonum {\r\n    \t\r\n    \tvoid conversion (String str) {\r\n    \t\t\r\n                // Converts 0-9 numbers into superscript form\r\n                str = str.replaceAll(&quot;0&quot;, &quot;\\u2070&quot;);\r\n    \t    str = str.replaceAll(&quot;1&quot;, &quot;\\u00b9&quot;);\r\n    \t    str = str.replaceAll(&quot;2&quot;, &quot;\\u00b2&quot;);\r\n    \t    str = str.replaceAll(&quot;3&quot;, &quot;\\u00b3&quot;);\r\n    \t    str = str.replaceAll(&quot;4&quot;, &quot;\\u2074&quot;);\r\n    \t    str = str.replaceAll(&quot;5&quot;, &quot;\\u2075&quot;);\r\n    \t    str = str.replaceAll(&quot;6&quot;, &quot;\\u2076&quot;);\r\n    \t    str = str.replaceAll(&quot;7&quot;, &quot;\\u2077&quot;);\r\n    \t    str = str.replaceAll(&quot;8&quot;, &quot;\\u2078&quot;);\r\n    \t    str = str.replaceAll(&quot;9&quot;, &quot;\\u2079&quot;);       \r\n    \r\n    \t    CALCULATOR.exp = str;\r\n    \t    \r\n    \t}\r\n    \r\n    }\r\n\r\nHow could this be made to be more faster / efficient?","title":"Prime factorization with superscript exponents java","body":"<p>I would like to have my outputs from my Prime Factorization module in my calculator program to be in this form:  247500 = 2² · 3² · 5⁴ · 11 instead of 2^2 * 3^2 * 5^4 * 11 or 2 2 3 3 5 5 5 5 11.</p>\n<p>The problem is that due to my extremely limited programming knowledge, my implementation of exponent sorting and displaying slows my program down &quot;exponentially&quot; (pun intended) for larger numbers.  I have tried to find a more efficient way of doing the operation, but cannot find any other way.</p>\n<p>I devised the following method...it works, but its very slow.  I apologize if conventions are not being followed (I am a learner programmer).</p>\n<p>The prime numbers are stored in the array FACTOR[c]...I'm using BigInteger in my factorization module.</p>\n<pre><code>if (counter == 0) {\n                            \n  OUTPUT = &quot;prime number&quot;;\n                            \n}\n                        \nelse {\n                            \n  OUTPUT = OUTPUT + FACTOR[c];\n  c ++;\n                            \n  do {\n                                \n     if (FACTOR[c].compareTo(FACTOR[c-1]) == 0) {\n                                    \n       exponent++;\n                                    \n       if (c == counter) {  // condition if the number with exponent is the last in derivation.\n                                        \n      exp = String.valueOf(exponent);\n      str.conversion (exp);\n                                        \n      OUTPUT = OUTPUT + exp;\n      break;\n                                        \n       }\n                                    \n     }\n                            \n     else if (((FACTOR[c].compareTo(FACTOR[c-1]) == 1 || (FACTOR[c].compareTo(FACTOR[c-1]) ==  -1))&amp;&amp; exponent &gt; 1)) {\n    \n       if (c == counter) {  // condition if the number with exponent is the last in derivation.\n                                        \n         exp = String.valueOf(exponent);\n         str.conversion (exp);\n                                        \n         OUTPUT = OUTPUT + exp + &quot; · &quot; + FACTOR[c];\n                                        \n         break;\n                                        \n       }\n                                    \n       exp = String.valueOf(exponent);\n       str.conversion (exp);\n                                    \n       OUTPUT = OUTPUT + exp + &quot; · &quot; + FACTOR[c];\n                                    \n       exponent = 1;\n                                \n    }\n                            \n    else if (((FACTOR[c].compareTo(FACTOR[c-1]) == 1 || (FACTOR[c].compareTo(FACTOR[c-1]) == -1)) &amp;&amp; exponent == 1)) {\n                                    \n     OUTPUT = OUTPUT + &quot; · &quot; + String.valueOf(FACTOR[c]);\n                                \n     }\n                            \n     c++;\n                                \n  } while (c!= counter+1);\n                            \n}\n                        \nanswer = firstword + &quot; = &quot; + OUTPUT;\n\nclass Convtonum {\n    \n    void conversion (String str) {\n        \n            // Converts 0-9 numbers into superscript form\n            str = str.replaceAll(&quot;0&quot;, &quot;\\u2070&quot;);\n        str = str.replaceAll(&quot;1&quot;, &quot;\\u00b9&quot;);\n        str = str.replaceAll(&quot;2&quot;, &quot;\\u00b2&quot;);\n        str = str.replaceAll(&quot;3&quot;, &quot;\\u00b3&quot;);\n        str = str.replaceAll(&quot;4&quot;, &quot;\\u2074&quot;);\n        str = str.replaceAll(&quot;5&quot;, &quot;\\u2075&quot;);\n        str = str.replaceAll(&quot;6&quot;, &quot;\\u2076&quot;);\n        str = str.replaceAll(&quot;7&quot;, &quot;\\u2077&quot;);\n        str = str.replaceAll(&quot;8&quot;, &quot;\\u2078&quot;);\n        str = str.replaceAll(&quot;9&quot;, &quot;\\u2079&quot;);       \n\n        CALCULATOR.exp = str;\n        \n    }\n\n}\n</code></pre>\n<p>How could this be made to be more faster / efficient?</p>\n"},{"tags":["java","spring","spring-security","jwt"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1690551642,"post_id":76788276,"comment_id":135373739,"body_markdown":"please enable spring security DEBUG or TRACE logs and update your question with the full logs so that we can see what is actually happening under the hood.","body":"please enable spring security DEBUG or TRACE logs and update your question with the full logs so that we can see what is actually happening under the hood."},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690552245,"post_id":76788276,"comment_id":135373856,"body_markdown":"I will add log, but it&#39;s not very helpful. You can see that my JWT is not valid and it&#39;s true, but my Question is why JWT is actually validated.","body":"I will add log, but it&#39;s not very helpful. You can see that my JWT is not valid and it&#39;s true, but my Question is why JWT is actually validated."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690554811,"post_id":76788276,"comment_id":135374525,"body_markdown":"i dont know if i was unclear i asked for the full logs you have cut out all the actual relevant information before the exception so that we can actually see what the server is doing before the exception. Thats why i wrote the FULL logs, and not &quot;the exception&quot;","body":"i dont know if i was unclear i asked for the full logs you have cut out all the actual relevant information before the exception so that we can actually see what the server is doing before the exception. Thats why i wrote the FULL logs, and not &quot;the exception&quot;"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690555742,"post_id":76788276,"comment_id":135374767,"body_markdown":"It was full log with DEBUG. With TRACE is comming more","body":"It was full log with DEBUG. With TRACE is comming more"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690557289,"post_id":76788276,"comment_id":135375093,"body_markdown":"why do you have this `@Order(10)`? there is something here you arnt telling us","body":"why do you have this <code>@Order(10)</code>? there is something here you arnt telling us"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690557461,"post_id":76788276,"comment_id":135375137,"body_markdown":"Because it&#39;s giving more Filters :) . I think I got it. If I start without Autorization Header I got:\n 2023-07-28 16:53:28,337 TRACE [qtp1542747725-42] BearerTokenAuthenticationFilter: Did not process request since did not find bearer token","body":"Because it&#39;s giving more Filters :) . I think I got it. If I start without Autorization Header I got:  2023-07-28 16:53:28,337 TRACE [qtp1542747725-42] BearerTokenAuthenticationFilter: Did not process request since did not find bearer token"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690557619,"post_id":76788276,"comment_id":135375159,"body_markdown":"also what is this `concatArrays(whitelistActuator, new String[]{whitelistError}`","body":"also what is this <code>concatArrays(whitelistActuator, new String[]{whitelistError}</code>"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690557647,"post_id":76788276,"comment_id":135375166,"body_markdown":"it is very hard for us to help you when there is a lot of abstraction and things that are not needed for the problem in the code example. We cant reproduce things or rule out things if there a lot of things ntd needed in the example as clutter","body":"it is very hard for us to help you when there is a lot of abstraction and things that are not needed for the problem in the code example. We cant reproduce things or rule out things if there a lot of things ntd needed in the example as clutter"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690557648,"post_id":76788276,"comment_id":135375167,"body_markdown":"It&#39;s mean that BearerTokenAuthenticationFilter is active undependent of my url, but if Bearer Header is not available - it makes no validation","body":"It&#39;s mean that BearerTokenAuthenticationFilter is active undependent of my url, but if Bearer Header is not available - it makes no validation"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690557707,"post_id":76788276,"comment_id":135375183,"body_markdown":"Sorry I tried to remove most of unrelated code","body":"Sorry I tried to remove most of unrelated code"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690557773,"post_id":76788276,"comment_id":135375192,"body_markdown":"for instance, how do i know if the problem is not in this code? `concatArrays(whitelistActuator, new String[]{whitelistError}` you are posting here `/public/v1/csrf` i cant see anywhere in your code that you have whitelisted this endpoint?","body":"for instance, how do i know if the problem is not in this code? <code>concatArrays(whitelistActuator, new String[]{whitelistError}</code> you are posting here <code>&#47;public&#47;v1&#47;csrf</code> i cant see anywhere in your code that you have whitelisted this endpoint?"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690557902,"post_id":76788276,"comment_id":135375225,"body_markdown":"I am very apreciated you for your help. Your suggestion set spring security on trace was very helpful","body":"I am very apreciated you for your help. Your suggestion set spring security on trace was very helpful"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690558592,"post_id":76788276,"comment_id":135375355,"body_markdown":"This thread is also very helpful:\nhttps://stackoverflow.com/questions/35896502/spring-security-bypass-url-or-filter","body":"This thread is also very helpful: <a href=\"https://stackoverflow.com/questions/35896502/spring-security-bypass-url-or-filter\" title=\"spring security bypass url or filter\">stackoverflow.com/questions/35896502/&hellip;</a>"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690558661,"post_id":76788276,"comment_id":135375369,"body_markdown":"And for spring-boot 3\nhttps://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/WebSecurityCustomizer.html#customize(org.springframework.security.config.annotation.web.builders.WebSecurity)","body":"And for spring-boot 3 <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/WebSecurityCustomizer.html#customize(org.springframework.security.config.annotation.web.builders.WebSecurity)\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/api/org/&hellip;</a>"}],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690555836,"creation_date":1690550963,"question_id":76788276,"body_markdown":"I have a security configuration, witch permited some request paths for all. If I send &quot;public&quot; request without Authorization header I can reach application and recive 200 Response. But if I send expired Bearer Authorizaton, Spring try to validate my JWT and I get 401 Error.\r\n\r\nSchould Authorization Header not be ignored by &quot;public&quot; url?\r\n\r\nMy Security Config:\r\n\r\n    \t@Bean\r\n\t@Order(10)\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\t// @formatter:off\r\n\t\thttp\r\n\t\t\t\t.csrf(AbstractHttpConfigurer::disable)\r\n\t\t\t\t.authorizeHttpRequests(authorizeRequests -&gt;\r\n\t\t\t\t\t\tauthorizeRequests\r\n\t\t\t\t\t\t\t\t.requestMatchers(concatArrays(concatArrays(whitelistActuator, new String[]{whitelistError}),\r\n\t\t\t\t\t\t\t\t\t\twhitelistPublic) )\r\n\t\t\t\t\t\t\t\t.permitAll().anyRequest()\r\n\t\t\t\t\t\t\t\t.authenticated()\r\n\t\t\t\t)\r\n\t\t\t\t.oauth2ResourceServer( oauth2ResourceServer -&gt;\r\n\t\t\t\t\t\toauth2ResourceServer\r\n\t\t\t\t\t\t\t\t.jwt(jwt -&gt;\r\n\t\t\t\t\t\t\t\t\t\tjwt.jwtAuthenticationConverter(getJwtAuthenticationConverter()))\r\n\t\t\t\t\t\t\t\t.authenticationEntryPoint(this.authenticationEntryPoint)\r\n\t\t\t\t)\r\n\t\t\t\t.formLogin(AbstractHttpConfigurer::disable)\r\n\t\t\t\t.getSharedObject(AuthenticationManagerBuilder.class).authenticationEventPublisher(this.eventPublisher);\r\n\t\t// @formatter:on\r\n\t\treturn http.build();\r\n\t}\r\n\r\nSpring Security Log:\r\n```\r\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=1/0,kio=1,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}] onFillable enter HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0} null\r\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] SocketChannelEndPoint: filled 2476 DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\r\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-333] SelectableChannelEndPoint: Key interests updated 1 -&gt; 0 on SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}]\r\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-333] ManagedSelector: Selector sun.nio.ch.WEPollSelectorImpl@44ba404d waiting with 1 keys\r\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=0/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}] filled 2476 RetainableByteBuffer@5314b5ea{DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00},r=1}\r\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=0/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}] parse RetainableByteBuffer@5314b5ea{DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00},r=1}\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parseNext s=START DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: START --&gt; SPACE1\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: SPACE1 --&gt; URI\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: URI --&gt; SPACE2\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: SPACE2 --&gt; REQUEST_VERSION\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: REQUEST_VERSION --&gt; HEADER\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Authorization --&gt; VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Authorization --&gt; IN_VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Authorization --&gt; FIELD\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(null) header=Authorization, headerString=[Authorization], valueString=[Bearer ***]\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Host --&gt; VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Host --&gt; IN_VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Host --&gt; FIELD\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(Host: localhost:8080) header=Host, headerString=[Host], valueString=[localhost:8080]\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Connection: keep-alive --&gt; IN_VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Connection: keep-alive --&gt; FIELD\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(Connection: keep-alive) header=Connection, headerString=[Connection], valueString=[keep-alive]\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:User-Agent --&gt; VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:User-Agent --&gt; IN_VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:User-Agent --&gt; FIELD\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(User-Agent: Apache-HttpClient/4.5.2 (Java/17.0.5)) header=User-Agent, headerString=[User-Agent], valueString=[Apache-HttpClient/4.5.2 (Java/17.0.5)]\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER --&gt; CONTENT\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpInput: reopen HttpInput@188787857 cs=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0} cp=org.eclipse.jetty.server.BlockingContentProducer@1dee3d9c eof=false\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] BlockingContentProducer: reopening org.eclipse.jetty.server.BlockingContentProducer@1dee3d9c\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] AsyncContentProducer: reopening AsyncContentProducer@3a01807d[r=null,t=null,i=null,error=false,c=HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=null,age=0}]\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannel: REQUEST for /public/v1/csrf on HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1}\r\nHEAD /public/v1/csrf HTTP/1.1\r\nAuthorization: Bearer ***\r\nHost: localhost:8080\r\nConnection: keep-alive\r\nUser-Agent: Apache-HttpClient/4.5.2 (Java/17.0.5)\r\n\r\n\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=CONTENT,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1}] parsed true HttpParser{s=CONTENT,0 of -1}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpConnection: releaseRequestBuffer HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=CONTENT,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1}]\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannel: handle http://localhost:8080/public/v1/csrf HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1} \r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannelState: handling HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannel: action DISPATCH HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=HANDLING rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=HANDLING,uri=http://localhost:8080/public/v1/csrf,age=1}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] Server: REQUEST HEAD /public/v1/csrf ?null on HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=HANDLING rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=HANDLING,uri=http://localhost:8080/public/v1/csrf,age=1}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ContextHandler: scope null||/public/v1/csrf @ o.s.b.w.e.j.JettyEmbeddedWebAppContext@b01cb8d{application,/,[file:///C:/Users/***/AppData/Local/Temp/jetty-docbase.8080.6008215122729850307/, jar:file:/C:/Users/***/.gradle/caches/modules-2/files-2.1/org.webjars/swagger-ui/4.18.1/7297bf31fb28c091221409205f9cabdfefd2af52/swagger-ui-4.18.1.jar!/META-INF/resources],AVAILABLE}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ContextHandler: context=||/public/v1/csrf @ o.s.b.w.e.j.JettyEmbeddedWebAppContext@b01cb8d{application,/,[file:///C:/Users/***/AppData/Local/Temp/jetty-docbase.8080.6008215122729850307/, jar:file:/C:/Users/***/.gradle/caches/modules-2/files-2.1/org.webjars/swagger-ui/4.18.1/7297bf31fb28c091221409205f9cabdfefd2af52/swagger-ui-4.18.1.jar!/META-INF/resources],AVAILABLE}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] SessionHandler: Entering scope org.eclipse.jetty.server.session.SessionHandler952393960==dftMaxIdleSec=1800, dispatch=REQUEST asyncstarted=false\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] SessionHandler: sessionHandler=org.eclipse.jetty.server.session.SessionHandler952393960==dftMaxIdleSec=1800 session=null\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ServletHandler: servlet |/public/v1/csrf|null|ServletPathMapping{matchValue=, pattern=/, servletName=dispatcherServlet, mappingMatch=DEFAULT, servletPath=/public/v1/csrf, pathInfo=null} -&gt; dispatcherServlet==org.springframework.web.servlet.DispatcherServlet@7ef5559e{jsp=null,order=-1,inst=true,async=true,src=JAKARTA_API:null,STARTED}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ServletHandler: chain=Chain@5927b22(org.eclipse.jetty.websocket.servlet.WebSocketUpgradeFilter==org.eclipse.jetty.websocket.servlet.WebSocketUpgradeFilter@64757d56{inst=true,async=true,src=EMBEDDED:null})-&gt;Chain@59d95c6b(characterEncodingFilter==org.springframework.boot.web.servlet.filter.OrderedCharacterEncodingFilter@1d7c9811{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@4098593c(webMvcObservationFilter==org.springframework.web.filter.ServerHttpObservationFilter@3ce7394f{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@30731804(formContentFilter==org.springframework.boot.web.servlet.filter.OrderedFormContentFilter@6723cce7{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@26ae3e43(requestContextFilter==org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter@74cd798f{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@350714f9(springSecurityFilterChain==org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean$1@7f012923{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@37d4fadc(jwtCsrfTokenFilter==de.myfir.maklerportal.security.csrf.JwtCsrfTokenFilter@601f264d{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@1fcf671a(resourceFilter==de.myfir.maklerportal.security.emabac.ResourceFilter@4403bff8{inst=true,async=true,src=JAKARTA_API:null})-&gt;ChainEnd@48441e86(dispatcherServlet==org.springframework.web.servlet.DispatcherServlet@7ef5559e{jsp=null,order=-1,inst=true,async=true,src=JAKARTA_API:null,STARTED})\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@220cda54, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39109603, org.springframework.security.web.context.SecurityContextHolderFilter@1e5e3147, org.springframework.security.web.header.HeaderWriterFilter@44dcc0e4, org.springframework.web.filter.CorsFilter@4d3990a5, org.springframework.security.web.authentication.logout.LogoutFilter@43f7f48d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2c3b0cc8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3aed692d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74cd8c55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18df26a1, org.springframework.security.web.access.ExceptionTranslationFilter@6cd6698b, org.springframework.security.web.access.intercept.AuthorizationFilter@fe38c0e]] (1/3)\r\n2023-07-28 16:38:53,598 DEBUG [qtp1542747725-39] FilterChainProxy: Securing HEAD /public/v1/csrf\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking DisableEncodeUrlFilter (1/12)\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking WebAsyncManagerIntegrationFilter (2/12)\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking SecurityContextHolderFilter (3/12)\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking HeaderWriterFilter (4/12)\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking CorsFilter (5/12)\r\n2023-07-28 16:38:53,598 DEBUG [qtp1542747725-39] RequestMappingHandlerMapping: Mapped to de.myfir.bff.mi.CsrfRestController#getCsrf()\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking LogoutFilter (6/12)\r\n2023-07-28 16:38:53,599 TRACE [qtp1542747725-39] LogoutFilter: Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n2023-07-28 16:38:53,599 TRACE [qtp1542747725-39] FilterChainProxy: Invoking BearerTokenAuthenticationFilter (7/12)\r\n2023-07-28 16:38:53,599 TRACE [qtp1542747725-39] ProviderManager: Authenticating request with JwtAuthenticationProvider (1/2)\r\n\r\n*** and hier will be error Token validation\r\n\r\n\r\n```\r\n\r\n\r\n   ","title":"Spring Security. Bearer Token Validation despite public (permitAll) url","body":"<p>I have a security configuration, witch permited some request paths for all. If I send &quot;public&quot; request without Authorization header I can reach application and recive 200 Response. But if I send expired Bearer Authorizaton, Spring try to validate my JWT and I get 401 Error.</p>\n<p>Schould Authorization Header not be ignored by &quot;public&quot; url?</p>\n<p>My Security Config:</p>\n<pre><code>    @Bean\n@Order(10)\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    // @formatter:off\n    http\n            .csrf(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests(authorizeRequests -&gt;\n                    authorizeRequests\n                            .requestMatchers(concatArrays(concatArrays(whitelistActuator, new String[]{whitelistError}),\n                                    whitelistPublic) )\n                            .permitAll().anyRequest()\n                            .authenticated()\n            )\n            .oauth2ResourceServer( oauth2ResourceServer -&gt;\n                    oauth2ResourceServer\n                            .jwt(jwt -&gt;\n                                    jwt.jwtAuthenticationConverter(getJwtAuthenticationConverter()))\n                            .authenticationEntryPoint(this.authenticationEntryPoint)\n            )\n            .formLogin(AbstractHttpConfigurer::disable)\n            .getSharedObject(AuthenticationManagerBuilder.class).authenticationEventPublisher(this.eventPublisher);\n    // @formatter:on\n    return http.build();\n}\n</code></pre>\n<p>Spring Security Log:</p>\n<pre><code>2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=1/0,kio=1,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}] onFillable enter HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0} null\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] SocketChannelEndPoint: filled 2476 DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-333] SelectableChannelEndPoint: Key interests updated 1 -&gt; 0 on SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}]\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-333] ManagedSelector: Selector sun.nio.ch.WEPollSelectorImpl@44ba404d waiting with 1 keys\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=0/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}] filled 2476 RetainableByteBuffer@5314b5ea{DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00},r=1}\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=0/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}] parse RetainableByteBuffer@5314b5ea{DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00},r=1}\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parseNext s=START DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: START --&gt; SPACE1\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: SPACE1 --&gt; URI\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: URI --&gt; SPACE2\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: SPACE2 --&gt; REQUEST_VERSION\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: REQUEST_VERSION --&gt; HEADER\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Authorization --&gt; VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Authorization --&gt; IN_VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Authorization --&gt; FIELD\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(null) header=Authorization, headerString=[Authorization], valueString=[Bearer ***]\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Host --&gt; VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Host --&gt; IN_VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Host --&gt; FIELD\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(Host: localhost:8080) header=Host, headerString=[Host], valueString=[localhost:8080]\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Connection: keep-alive --&gt; IN_VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Connection: keep-alive --&gt; FIELD\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(Connection: keep-alive) header=Connection, headerString=[Connection], valueString=[keep-alive]\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:User-Agent --&gt; VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:User-Agent --&gt; IN_VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:User-Agent --&gt; FIELD\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(User-Agent: Apache-HttpClient/4.5.2 (Java/17.0.5)) header=User-Agent, headerString=[User-Agent], valueString=[Apache-HttpClient/4.5.2 (Java/17.0.5)]\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER --&gt; CONTENT\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpInput: reopen HttpInput@188787857 cs=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0} cp=org.eclipse.jetty.server.BlockingContentProducer@1dee3d9c eof=false\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] BlockingContentProducer: reopening org.eclipse.jetty.server.BlockingContentProducer@1dee3d9c\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] AsyncContentProducer: reopening AsyncContentProducer@3a01807d[r=null,t=null,i=null,error=false,c=HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=null,age=0}]\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannel: REQUEST for /public/v1/csrf on HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1}\nHEAD /public/v1/csrf HTTP/1.1\nAuthorization: Bearer ***\nHost: localhost:8080\nConnection: keep-alive\nUser-Agent: Apache-HttpClient/4.5.2 (Java/17.0.5)\n\n\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=CONTENT,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1}] parsed true HttpParser{s=CONTENT,0 of -1}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpConnection: releaseRequestBuffer HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=CONTENT,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1}]\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannel: handle http://localhost:8080/public/v1/csrf HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1} \n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannelState: handling HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannel: action DISPATCH HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=HANDLING rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=HANDLING,uri=http://localhost:8080/public/v1/csrf,age=1}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] Server: REQUEST HEAD /public/v1/csrf ?null on HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=HANDLING rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=HANDLING,uri=http://localhost:8080/public/v1/csrf,age=1}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ContextHandler: scope null||/public/v1/csrf @ o.s.b.w.e.j.JettyEmbeddedWebAppContext@b01cb8d{application,/,[file:///C:/Users/***/AppData/Local/Temp/jetty-docbase.8080.6008215122729850307/, jar:file:/C:/Users/***/.gradle/caches/modules-2/files-2.1/org.webjars/swagger-ui/4.18.1/7297bf31fb28c091221409205f9cabdfefd2af52/swagger-ui-4.18.1.jar!/META-INF/resources],AVAILABLE}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ContextHandler: context=||/public/v1/csrf @ o.s.b.w.e.j.JettyEmbeddedWebAppContext@b01cb8d{application,/,[file:///C:/Users/***/AppData/Local/Temp/jetty-docbase.8080.6008215122729850307/, jar:file:/C:/Users/***/.gradle/caches/modules-2/files-2.1/org.webjars/swagger-ui/4.18.1/7297bf31fb28c091221409205f9cabdfefd2af52/swagger-ui-4.18.1.jar!/META-INF/resources],AVAILABLE}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] SessionHandler: Entering scope org.eclipse.jetty.server.session.SessionHandler952393960==dftMaxIdleSec=1800, dispatch=REQUEST asyncstarted=false\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] SessionHandler: sessionHandler=org.eclipse.jetty.server.session.SessionHandler952393960==dftMaxIdleSec=1800 session=null\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ServletHandler: servlet |/public/v1/csrf|null|ServletPathMapping{matchValue=, pattern=/, servletName=dispatcherServlet, mappingMatch=DEFAULT, servletPath=/public/v1/csrf, pathInfo=null} -&gt; dispatcherServlet==org.springframework.web.servlet.DispatcherServlet@7ef5559e{jsp=null,order=-1,inst=true,async=true,src=JAKARTA_API:null,STARTED}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ServletHandler: chain=Chain@5927b22(org.eclipse.jetty.websocket.servlet.WebSocketUpgradeFilter==org.eclipse.jetty.websocket.servlet.WebSocketUpgradeFilter@64757d56{inst=true,async=true,src=EMBEDDED:null})-&gt;Chain@59d95c6b(characterEncodingFilter==org.springframework.boot.web.servlet.filter.OrderedCharacterEncodingFilter@1d7c9811{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@4098593c(webMvcObservationFilter==org.springframework.web.filter.ServerHttpObservationFilter@3ce7394f{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@30731804(formContentFilter==org.springframework.boot.web.servlet.filter.OrderedFormContentFilter@6723cce7{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@26ae3e43(requestContextFilter==org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter@74cd798f{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@350714f9(springSecurityFilterChain==org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean$1@7f012923{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@37d4fadc(jwtCsrfTokenFilter==de.myfir.maklerportal.security.csrf.JwtCsrfTokenFilter@601f264d{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@1fcf671a(resourceFilter==de.myfir.maklerportal.security.emabac.ResourceFilter@4403bff8{inst=true,async=true,src=JAKARTA_API:null})-&gt;ChainEnd@48441e86(dispatcherServlet==org.springframework.web.servlet.DispatcherServlet@7ef5559e{jsp=null,order=-1,inst=true,async=true,src=JAKARTA_API:null,STARTED})\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@220cda54, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39109603, org.springframework.security.web.context.SecurityContextHolderFilter@1e5e3147, org.springframework.security.web.header.HeaderWriterFilter@44dcc0e4, org.springframework.web.filter.CorsFilter@4d3990a5, org.springframework.security.web.authentication.logout.LogoutFilter@43f7f48d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2c3b0cc8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3aed692d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74cd8c55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18df26a1, org.springframework.security.web.access.ExceptionTranslationFilter@6cd6698b, org.springframework.security.web.access.intercept.AuthorizationFilter@fe38c0e]] (1/3)\n2023-07-28 16:38:53,598 DEBUG [qtp1542747725-39] FilterChainProxy: Securing HEAD /public/v1/csrf\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking DisableEncodeUrlFilter (1/12)\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking WebAsyncManagerIntegrationFilter (2/12)\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking SecurityContextHolderFilter (3/12)\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking HeaderWriterFilter (4/12)\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking CorsFilter (5/12)\n2023-07-28 16:38:53,598 DEBUG [qtp1542747725-39] RequestMappingHandlerMapping: Mapped to de.myfir.bff.mi.CsrfRestController#getCsrf()\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking LogoutFilter (6/12)\n2023-07-28 16:38:53,599 TRACE [qtp1542747725-39] LogoutFilter: Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-07-28 16:38:53,599 TRACE [qtp1542747725-39] FilterChainProxy: Invoking BearerTokenAuthenticationFilter (7/12)\n2023-07-28 16:38:53,599 TRACE [qtp1542747725-39] ProviderManager: Authenticating request with JwtAuthenticationProvider (1/2)\n\n*** and hier will be error Token validation\n\n\n</code></pre>\n"},{"tags":["java","project-loom"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1688546798,"post_id":76618264,"comment_id":135086313,"body_markdown":"Please [edit] your question to add a link to the docs you are referring to.","body":"Please <a href=\"https://stackoverflow.com/posts/76618264/edit\">edit</a> your question to add a link to the docs you are referring to."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688563261,"post_id":76618264,"comment_id":135089979,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1688574234,"post_id":76618264,"comment_id":135092822,"body_markdown":"No, this is just that synchronized is implemented in the JVM, while a semaphore is implemented in Java (which sees that you use a virtual thread and yields instead of blocking).","body":"No, this is just that synchronized is implemented in the JVM, while a semaphore is implemented in Java (which sees that you use a virtual thread and yields instead of blocking)."}],"answers":[{"tags":[],"owner":{"account_id":2745991,"reputation":1440,"user_id":2366397,"display_name":"igor.zh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1690555434,"creation_date":1690555434,"answer_id":76788835,"question_id":76618264,"body_markdown":"The [JEP 425][1] gives, in my opinion, more detailed technical information on the issue you raised. It mentions `java.util.concurrent.locks.ReentrantLock`. A synchronization primitive `Semaphore` also exists in Java Concurrency and it uses the same `AbstractQueuedSynchronizer` a.k.a. the AQS as `ReentrantLock` does, so it is conceptually the same, but semantic of `ReentrantLock` is very similar to that of `synchronized` block, which is advised to be replaced. But this is a technical remark.\r\n\r\nThe key difference is that `ReentrantLock`, AQS, direct `Unsafe`/`VarHandle` and similar synchronization primitives use non-blocking CAS technique while `synchronized` blocks the thread, at least in a case of contention. \r\n\r\nTo understand the difference between the two, I&#39;d advise to learn more about [CAS][2] and/or experiment with Java `Atomic*` methods `compareAndSet`.\r\n\r\n As a side note, `ReentrantLock`, AQS and few other other synchronization primitives still may block the thread (in fact, it is necessary, generally speaking), it is done by calling `LockSupport.park` methods. Under the hood, `LockSupport.park` also invokes a native method, but for some reason this is not (or lesser?) problem for Virtual Threads. \r\n\r\n   \r\n\r\n\r\n  [1]: https://openjdk.org/jeps/425\r\n  [2]: https://en.wikipedia.org/wiki/Compare-and-swap","title":"Synchronize block pinning virtual thread","body":"<p>The <a href=\"https://openjdk.org/jeps/425\" rel=\"noreferrer\">JEP 425</a> gives, in my opinion, more detailed technical information on the issue you raised. It mentions <code>java.util.concurrent.locks.ReentrantLock</code>. A synchronization primitive <code>Semaphore</code> also exists in Java Concurrency and it uses the same <code>AbstractQueuedSynchronizer</code> a.k.a. the AQS as <code>ReentrantLock</code> does, so it is conceptually the same, but semantic of <code>ReentrantLock</code> is very similar to that of <code>synchronized</code> block, which is advised to be replaced. But this is a technical remark.</p>\n<p>The key difference is that <code>ReentrantLock</code>, AQS, direct <code>Unsafe</code>/<code>VarHandle</code> and similar synchronization primitives use non-blocking CAS technique while <code>synchronized</code> blocks the thread, at least in a case of contention.</p>\n<p>To understand the difference between the two, I'd advise to learn more about <a href=\"https://en.wikipedia.org/wiki/Compare-and-swap\" rel=\"noreferrer\">CAS</a> and/or experiment with Java <code>Atomic*</code> methods <code>compareAndSet</code>.</p>\n<p>As a side note, <code>ReentrantLock</code>, AQS and few other other synchronization primitives still may block the thread (in fact, it is necessary, generally speaking), it is done by calling <code>LockSupport.park</code> methods. Under the hood, <code>LockSupport.park</code> also invokes a native method, but for some reason this is not (or lesser?) problem for Virtual Threads.</p>\n"}],"owner":{"account_id":18702847,"reputation":88,"user_id":13634675,"display_name":"Васил Егов"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1172,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76788835,"answer_count":1,"score":4,"last_activity_date":1690555434,"creation_date":1688544270,"question_id":76618264,"body_markdown":"I am an enthusiast and am wondering about virtual threads. In the docs it says that one of the conditions to pin the thread is in a synchronized block, and in those cases to use a semaphore. Here are the docs to the JEP https://openjdk.org/jeps/444 \r\n\r\n&gt; There are two scenarios in which a virtual thread cannot be unmounted during blocking operations because it is pinned to its carrier:\r\n&gt; When it executes code inside a synchronized block or method, or \r\n&gt; When it executes a native method or a foreign function.\r\n\r\nIs this due to the implementation of a synchronized block being a spin lock and the thread does not stop executing instructions, while a semaphore will yield after a few attempts?","title":"Synchronize block pinning virtual thread","body":"<p>I am an enthusiast and am wondering about virtual threads. In the docs it says that one of the conditions to pin the thread is in a synchronized block, and in those cases to use a semaphore. Here are the docs to the JEP <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/444</a></p>\n<blockquote>\n<p>There are two scenarios in which a virtual thread cannot be unmounted during blocking operations because it is pinned to its carrier:\nWhen it executes code inside a synchronized block or method, or\nWhen it executes a native method or a foreign function.</p>\n</blockquote>\n<p>Is this due to the implementation of a synchronized block being a spin lock and the thread does not stop executing instructions, while a semaphore will yield after a few attempts?</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","accessibility"],"comments":[{"owner":{"account_id":708924,"reputation":5021,"user_id":608042,"accept_rate":62,"display_name":"Andy"},"score":0,"creation_date":1690554246,"post_id":76774545,"comment_id":135374385,"body_markdown":"I tried to provide some background in my answer. To really help you, could you explain what you are trying to achieve?","body":"I tried to provide some background in my answer. To really help you, could you explain what you are trying to achieve?"}],"answers":[{"tags":[],"owner":{"account_id":708924,"reputation":5021,"user_id":608042,"accept_rate":62,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690555141,"creation_date":1690554209,"answer_id":76788683,"question_id":76774545,"body_markdown":"How about [`getAriaRole()`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#getAriaRole())\r\n\r\n&gt; `default java.lang.String getAriaRole()`&lt;br&gt;\r\n&gt; Gets result of computing the WAI-ARIA role of element. \r\n\r\nThe role is computed as follows:\r\n\r\n1. The role is taken from the `role` attribute, if present\r\n2. If not, the element has the [implicit role assigned in the ARIA in HTML standard](https://www.w3.org/TR/html-aria/#implicit)\r\n\r\n---\r\n\r\nHere is why what you tried doesn’t work.\r\n\r\n```Java\r\nWebElement.getAttribute(&quot;Role&quot;)\r\n```\r\n\r\nThis only works for elements that have their role explicitly assigned via the `role` attribute, like `&lt;div role=&quot;img&quot;&gt;`. It does not work for the implicit role that `&lt;img&gt;` has.\r\n\r\n```\r\nWebElement.getCssValue(&quot;Role&quot;)\r\n```\r\n\r\nThis would access the element’s `style` properties. There is no accessibility information in CSS, especially [no role property](https://developer.mozilla.org/en-US/docs/Web/CSS/Reference#index).\r\n\r\n```\r\nWebElement.findElement(By.cssSelector(&quot;.computed-property&quot;)\r\n```\r\n\r\nThis will search any element with `computed-property` in the [classList](https://developer.mozilla.org/en-US/docs/Web/API/Element/classList), set via the `class` attribute, “in the current context”.\r\n\r\nI’m assuming you are trying to search for Chrome developer tools Accessibility panel with this? That’s not possible at all. It’s part of the the Chrome browser’s UI, and not part of the web page.","title":"How to access Computed Properties like Role:img using selenium in Java","body":"<p>How about <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#getAriaRole()\" rel=\"nofollow noreferrer\"><code>getAriaRole()</code></a></p>\n<blockquote>\n<p><code>default java.lang.String getAriaRole()</code><br>\nGets result of computing the WAI-ARIA role of element.</p>\n</blockquote>\n<p>The role is computed as follows:</p>\n<ol>\n<li>The role is taken from the <code>role</code> attribute, if present</li>\n<li>If not, the element has the <a href=\"https://www.w3.org/TR/html-aria/#implicit\" rel=\"nofollow noreferrer\">implicit role assigned in the ARIA in HTML standard</a></li>\n</ol>\n<hr />\n<p>Here is why what you tried doesn’t work.</p>\n<pre><code>WebElement.getAttribute(&quot;Role&quot;)\n</code></pre>\n<p>This only works for elements that have their role explicitly assigned via the <code>role</code> attribute, like <code>&lt;div role=&quot;img&quot;&gt;</code>. It does not work for the implicit role that <code>&lt;img&gt;</code> has.</p>\n<pre><code>WebElement.getCssValue(&quot;Role&quot;)\n</code></pre>\n<p>This would access the element’s <code>style</code> properties. There is no accessibility information in CSS, especially <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Reference#index\" rel=\"nofollow noreferrer\">no role property</a>.</p>\n<pre><code>WebElement.findElement(By.cssSelector(&quot;.computed-property&quot;)\n</code></pre>\n<p>This will search any element with <code>computed-property</code> in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\" rel=\"nofollow noreferrer\">classList</a>, set via the <code>class</code> attribute, “in the current context”.</p>\n<p>I’m assuming you are trying to search for Chrome developer tools Accessibility panel with this? That’s not possible at all. It’s part of the the Chrome browser’s UI, and not part of the web page.</p>\n"}],"owner":{"account_id":26730682,"reputation":1,"user_id":20333085,"display_name":"Siddhant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690555141,"creation_date":1690400445,"question_id":76774545,"body_markdown":"![The Developer Tools Accessibility panel in dark mode is showing an Accessibility Tree with the selected node out of view, an empty grouping of ARIA Attributes, and then Computed Properties][1]\r\n\r\nThere are a set of properties retrieved under the Accessibility section of the webpage for the inspected element:\r\n\r\n```\r\nComputed Properties\r\n\r\nName: &quot;&quot;\r\n`aria-labelledby`: Not specified\r\n`aria-label`: Not specified\r\n`title`: Not specified\r\nRole: generic\r\n```\r\n\r\nThese properties are returned under the computed Property category and are not visible inside the DOM.\r\n\r\nTo understand it better, it is more like what a browser interprets that element to be based on its definition.\r\n\r\n```\r\nTried out the following methods unsuccessfully:\r\n\r\nWebElement.getAttribute(&quot;Role&quot;)\r\nWebElement.getCssValue(&quot;Role&quot;)\r\nWebElement.findElement(By.cssSelector(&quot;.computed-property&quot;)\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EGJdN.png","title":"How to access Computed Properties like Role:img using selenium in Java","body":"<p><img src=\"https://i.stack.imgur.com/EGJdN.png\" alt=\"The Developer Tools Accessibility panel in dark mode is showing an Accessibility Tree with the selected node out of view, an empty grouping of ARIA Attributes, and then Computed Properties\" /></p>\n<p>There are a set of properties retrieved under the Accessibility section of the webpage for the inspected element:</p>\n<pre><code>Computed Properties\n\nName: &quot;&quot;\n`aria-labelledby`: Not specified\n`aria-label`: Not specified\n`title`: Not specified\nRole: generic\n</code></pre>\n<p>These properties are returned under the computed Property category and are not visible inside the DOM.</p>\n<p>To understand it better, it is more like what a browser interprets that element to be based on its definition.</p>\n<pre><code>Tried out the following methods unsuccessfully:\n\nWebElement.getAttribute(&quot;Role&quot;)\nWebElement.getCssValue(&quot;Role&quot;)\nWebElement.findElement(By.cssSelector(&quot;.computed-property&quot;)\n\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690555453,"post_id":76788792,"comment_id":135374694,"body_markdown":"Welcome to Stack Overflow! Please, read [this](https://stackoverflow.com/help/minimal-reproducible-example) and then edit your question.","body":"Welcome to Stack Overflow! Please, read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">this</a> and then edit your question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690571416,"post_id":76788792,"comment_id":135377487,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":27756980,"reputation":1,"user_id":21190200,"display_name":"George "},"score":0,"creation_date":1690575929,"post_id":76788792,"comment_id":135378099,"body_markdown":"https://github.com/georgefelipee/Microservice_PetHouse","body":"<a href=\"https://github.com/georgefelipee/Microservice_PetHouse\" rel=\"nofollow noreferrer\">github.com/georgefelipee/Microservice_PetHouse</a>"}],"owner":{"account_id":27756980,"reputation":1,"user_id":21190200,"display_name":"George "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690555079,"creation_date":1690555079,"question_id":76788792,"body_markdown":"I have a Java app with Spring that has a People microservice, CRUD ok .\r\n\r\nWhen I insert the security dependency in the POM of this microservice, when I make the request using the gateway URL, I always get blocked (401 forbiden) even with the correct USER and PASSWORD of the spring security, but when I put the microservice URL only, it works correctly .\r\n\r\nFor example.\r\n\r\nGATEWAY URL- 401 forbiden, ALWAYS\r\n\r\nhttp://localhost:8082/people-ms/api/people\r\n\r\nMICROSERVICE URL - IT WORKS\r\n\r\nhttp://localhost:55053/api/people\r\n\r\nI&#39;m lost, help me please","title":"spring security with gateway Zull Service and Eureka Server","body":"<p>I have a Java app with Spring that has a People microservice, CRUD ok .</p>\n<p>When I insert the security dependency in the POM of this microservice, when I make the request using the gateway URL, I always get blocked (401 forbiden) even with the correct USER and PASSWORD of the spring security, but when I put the microservice URL only, it works correctly .</p>\n<p>For example.</p>\n<p>GATEWAY URL- 401 forbiden, ALWAYS</p>\n<p>http://localhost:8082/people-ms/api/people</p>\n<p>MICROSERVICE URL - IT WORKS</p>\n<p>http://localhost:55053/api/people</p>\n<p>I'm lost, help me please</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","wait"],"comments":[{"owner":{"account_id":366679,"reputation":24153,"user_id":712358,"accept_rate":62,"display_name":"Mike Kwan"},"score":1,"creation_date":1339683162,"post_id":11034710,"comment_id":14430151,"body_markdown":"I don&#39;t believe there is anything defined by the interface that does what you want. The only thing I can think of is to call findElements instead of findElement. But I&#39;m not sure that bypasses the implicit wait either.","body":"I don&#39;t believe there is anything defined by the interface that does what you want. The only thing I can think of is to call findElements instead of findElement. But I&#39;m not sure that bypasses the implicit wait either."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":2,"creation_date":1339686759,"post_id":11034710,"comment_id":14432095,"body_markdown":"@MikeKwan No, [`findElements()`](http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.html#findElements%28org.openqa.selenium.By%29) also tries to wait and return after at least one element has been found.","body":"@MikeKwan No, <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.html#findElements%28org.openqa.selenium.By%29\" rel=\"nofollow noreferrer\"><code>findElements()</code></a> also tries to wait and return after at least one element has been found."},{"owner":{"account_id":3292614,"reputation":6071,"user_id":2770572,"accept_rate":73,"display_name":"michaelsnowden"},"score":0,"creation_date":1439334351,"post_id":11034710,"comment_id":51816068,"body_markdown":"Would be a good case for lambdas\n `public void bypassImplicitWaits(Bypass bypass) {\n    turnOffImplicitWaits();\n    bypass.do();\n    turnOnImplicitWaits();\n  }`","body":"Would be a good case for lambdas  <code>public void bypassImplicitWaits(Bypass bypass) {     turnOffImplicitWaits();     bypass.do();     turnOnImplicitWaits();   }</code>"}],"answers":[{"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339689779,"creation_date":1339687462,"answer_id":11036345,"question_id":11034710,"body_markdown":"My approach was to bypass Implicit wait entirely and reimplement it (with an addition of a visibility check etc.) in my own `findElement()` and `findElements()` methods which I now use by default. This way, when I want to check something instantly, I can call the original WebDriver method which does, of course, not wait.","title":"Temporarily bypassing implicit waits with WebDriver","body":"<p>My approach was to bypass Implicit wait entirely and reimplement it (with an addition of a visibility check etc.) in my own <code>findElement()</code> and <code>findElements()</code> methods which I now use by default. This way, when I want to check something instantly, I can call the original WebDriver method which does, of course, not wait.</p>\n"},{"tags":[],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1446985694,"creation_date":1339750819,"answer_id":11047564,"question_id":11034710,"body_markdown":"Given that Selenium doesn&#39;t seem to offer what I want directly (based on what Mike Kwan and Slanec said), this simple helper method is what I went with for now:\r\n\r\n    protected boolean isElementHiddenNow(String id) {\r\n        turnOffImplicitWaits();\r\n        boolean result = ExpectedConditions.invisibilityOfElementLocated(By.id(id)).apply(driver);\r\n        turnOnImplicitWaits();\r\n        return result;\r\n    }\r\n\r\n    private void turnOffImplicitWaits() {\r\n        driver.manage().timeouts().implicitlyWait(0, TimeUnit.SECONDS);\r\n    }\r\n\r\n    private void turnOnImplicitWaits() {\r\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    }\r\n\r\n\r\nIf the element is hidden or not present at all, the method returns true; if it is visible, returns false. Either way, the check is done instantly.\r\n\r\nUsing the above is at least much cleaner than littering the test cases themselves with calls to `turnOffImplicitWaits()`  and `turnOnImplicitWaits()`.\r\n\r\nSee also these answers for fined-tuned versions of the same approach:\r\n\r\n - [Using try-finally to turn implicit waits back on][1] \r\n - [Using `By` locator as the parameter][2] \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/23359199/56285\r\n  [2]: https://stackoverflow.com/a/25001911/56285","title":"Temporarily bypassing implicit waits with WebDriver","body":"<p>Given that Selenium doesn't seem to offer what I want directly (based on what Mike Kwan and Slanec said), this simple helper method is what I went with for now:</p>\n\n<pre><code>protected boolean isElementHiddenNow(String id) {\n    turnOffImplicitWaits();\n    boolean result = ExpectedConditions.invisibilityOfElementLocated(By.id(id)).apply(driver);\n    turnOnImplicitWaits();\n    return result;\n}\n\nprivate void turnOffImplicitWaits() {\n    driver.manage().timeouts().implicitlyWait(0, TimeUnit.SECONDS);\n}\n\nprivate void turnOnImplicitWaits() {\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n}\n</code></pre>\n\n<p>If the element is hidden or not present at all, the method returns true; if it is visible, returns false. Either way, the check is done instantly.</p>\n\n<p>Using the above is at least much cleaner than littering the test cases themselves with calls to <code>turnOffImplicitWaits()</code>  and <code>turnOnImplicitWaits()</code>.</p>\n\n<p>See also these answers for fined-tuned versions of the same approach:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/23359199/56285\">Using try-finally to turn implicit waits back on</a> </li>\n<li><a href=\"https://stackoverflow.com/a/25001911/56285\">Using <code>By</code> locator as the parameter</a> </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":110626,"reputation":7192,"user_id":292662,"accept_rate":90,"display_name":"3urdoch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529593166,"creation_date":1398759443,"answer_id":23359199,"question_id":11034710,"body_markdown":"[@Jonic&#39;s answer][1] helped me, however I would add a `try { } finally { }` and call `turnOnImplicitWaits()` in the `finally` block to make sure it always turns back on.\r\n\r\n    protected boolean isElementHiddenNow(String id) {\r\n        turnOffImplicitWaits();\r\n        boolean result = false;\r\n        try {\r\n           result = ExpectedConditions.invisibilityOfElementLocated(By.id(id)).apply(driver);\r\n        }\r\n        finally {\r\n           turnOnImplicitWaits();\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11047564","title":"Temporarily bypassing implicit waits with WebDriver","body":"<p><a href=\"https://stackoverflow.com/a/11047564\">@Jonic's answer</a> helped me, however I would add a <code>try { } finally { }</code> and call <code>turnOnImplicitWaits()</code> in the <code>finally</code> block to make sure it always turns back on.</p>\n\n<pre><code>protected boolean isElementHiddenNow(String id) {\n    turnOffImplicitWaits();\n    boolean result = false;\n    try {\n       result = ExpectedConditions.invisibilityOfElementLocated(By.id(id)).apply(driver);\n    }\n    finally {\n       turnOnImplicitWaits();\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4394931,"reputation":71,"user_id":3582303,"display_name":"Mindshadow71"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1406572360,"creation_date":1406572360,"answer_id":25001911,"question_id":11034710,"body_markdown":"I would also suggest changing the parameter to a &quot;By&quot; locator for more flexibility when looking for the element. \r\n\r\n    protected boolean isElementHiddenNow(By locator) {\r\n\t    turnOffImplicitWaits();\r\n\t    boolean result = false;\r\n\t    try {\r\n\t       result = ExpectedConditions.invisibilityOfElementLocated(locator).apply(driver);\r\n\t    }\r\n\t    finally {\r\n\t       turnOnImplicitWaits();\r\n\t    }\r\n\t    return result;\r\n    }\r\n\r\nThat way, you could search by css if needed rather than just id:\r\n\r\n    By PartLinkLocator = By.cssSelector(&quot;div.search-result div.row a&quot;);\r\n    \r\n\r\n&#39;Course, your locator should probably be designed to return only one element (unlike the &quot;By&quot; example I quickly grabbed, which returns all part links in a css table of rows...) So, an &quot;id&quot; example would look like\r\n\r\n    By usernameLocator = By.id(&quot;inputEmail&quot;);\r\n    myResult = isElementHiddenNow(usernameLocator);\r\n\r\n\r\n","title":"Temporarily bypassing implicit waits with WebDriver","body":"<p>I would also suggest changing the parameter to a \"By\" locator for more flexibility when looking for the element. </p>\n\n<pre><code>protected boolean isElementHiddenNow(By locator) {\n    turnOffImplicitWaits();\n    boolean result = false;\n    try {\n       result = ExpectedConditions.invisibilityOfElementLocated(locator).apply(driver);\n    }\n    finally {\n       turnOnImplicitWaits();\n    }\n    return result;\n}\n</code></pre>\n\n<p>That way, you could search by css if needed rather than just id:</p>\n\n<pre><code>By PartLinkLocator = By.cssSelector(\"div.search-result div.row a\");\n</code></pre>\n\n<p>'Course, your locator should probably be designed to return only one element (unlike the \"By\" example I quickly grabbed, which returns all part links in a css table of rows...) So, an \"id\" example would look like</p>\n\n<pre><code>By usernameLocator = By.id(\"inputEmail\");\nmyResult = isElementHiddenNow(usernameLocator);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7675247,"reputation":1127,"user_id":5816334,"accept_rate":95,"display_name":"magnusarinell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1457607790,"creation_date":1457607790,"answer_id":35914615,"question_id":11034710,"body_markdown":"My implementation:\r\n\r\n    using (driver.NoImplicitWait())\r\n    {\r\n        ....\r\n    }\r\n\r\nWith extension method:\r\n\r\n    public static NoImplicitWait NoImplicitWait(this IWebDriver driver)\r\n    {\r\n        return new NoImplicitWait(driver);\r\n    }\r\n\r\nAnd class:\r\n\r\n    public sealed class NoImplicitWait : IDisposable\r\n    {\r\n        private readonly IWebDriver _driver;\r\n\r\n        public NoImplicitWait(IWebDriver driver)\r\n        {\r\n            _driver = driver;\r\n            _driver.Manage().Timeouts().ImplicitlyWait(TimeSpan.FromSeconds(0));\r\n        }\r\n\r\n        public void Dispose()\r\n        {\r\n            _driver.Manage().Timeouts().ImplicitlyWait(TimeSpan.FromSeconds(30));\r\n        }\r\n    }\r\n","title":"Temporarily bypassing implicit waits with WebDriver","body":"<p>My implementation:</p>\n\n<pre><code>using (driver.NoImplicitWait())\n{\n    ....\n}\n</code></pre>\n\n<p>With extension method:</p>\n\n<pre><code>public static NoImplicitWait NoImplicitWait(this IWebDriver driver)\n{\n    return new NoImplicitWait(driver);\n}\n</code></pre>\n\n<p>And class:</p>\n\n<pre><code>public sealed class NoImplicitWait : IDisposable\n{\n    private readonly IWebDriver _driver;\n\n    public NoImplicitWait(IWebDriver driver)\n    {\n        _driver = driver;\n        _driver.Manage().Timeouts().ImplicitlyWait(TimeSpan.FromSeconds(0));\n    }\n\n    public void Dispose()\n    {\n        _driver.Manage().Timeouts().ImplicitlyWait(TimeSpan.FromSeconds(30));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":978680,"reputation":851,"user_id":998984,"accept_rate":75,"display_name":"JayZee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506862768,"creation_date":1506862768,"answer_id":46512593,"question_id":11034710,"body_markdown":"In an existing code relying a lot on implicit wait way of thinking, and without CSS to the rescue,  I found a way out nfor that kind of things, complementing it with Jsoup, and going on with Jsoup:\r\n\r\n    # this is straightforward Scala... put the types and it is Java.\r\n    val innerHtml = seleniumWebElementFatherInstance.getAttribute(&quot;innerHTML&quot;)\r\n    val jsoupElements = Jsoup.parse(innerHtml).select(&quot;div.your.css.selector&quot;)\r\n  ","title":"Temporarily bypassing implicit waits with WebDriver","body":"<p>In an existing code relying a lot on implicit wait way of thinking, and without CSS to the rescue,  I found a way out nfor that kind of things, complementing it with Jsoup, and going on with Jsoup:</p>\n\n<pre><code># this is straightforward Scala... put the types and it is Java.\nval innerHtml = seleniumWebElementFatherInstance.getAttribute(\"innerHTML\")\nval jsoupElements = Jsoup.parse(innerHtml).select(\"div.your.css.selector\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20253667,"reputation":11,"user_id":14854007,"display_name":"Sandeep Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690554984,"creation_date":1690554984,"answer_id":76788779,"question_id":11034710,"body_markdown":"**To override or temporarily skip the implicit wait**. Selenium doesn&#39;t provide any direct solution since these are static values.\r\n\r\nTo achieve that we need a **workaround** as mentioned in this article.\r\n[How to skip the implicit wait for some element in Selenium in JAVA][1]\r\n\r\n\r\n  [1]: https://qatestauto.com/how-to-skip-the-implicit-wait-for-some-element-in-selenium-in-java/","title":"Temporarily bypassing implicit waits with WebDriver","body":"<p><strong>To override or temporarily skip the implicit wait</strong>. Selenium doesn't provide any direct solution since these are static values.</p>\n<p>To achieve that we need a <strong>workaround</strong> as mentioned in this article.\n<a href=\"https://qatestauto.com/how-to-skip-the-implicit-wait-for-some-element-in-selenium-in-java/\" rel=\"nofollow noreferrer\">How to skip the implicit wait for some element in Selenium in JAVA</a></p>\n"}],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14051,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":11047564,"answer_count":7,"score":24,"last_activity_date":1690554984,"creation_date":1339682277,"question_id":11034710,"body_markdown":"When using implicit waits, **[as advised here][1]**,  I still *sometimes* want to assert the **immediate** invisibility or non-existence of elements.\r\n\r\nIn other words, I *know* some elements should be hidden, and want my tests make that assertion *fast*, without spending several seconds because of the (otherwise useful) implicit wait.\r\n\r\nOne thing I tried was a helper method like this:\r\n\r\n    // NB: doesn&#39;t seem to do what I want\r\n    private boolean isElementHiddenNow(String id) {\r\n        WebDriverWait zeroWait = new WebDriverWait(driver, 0);\r\n        ExpectedCondition&lt;Boolean&gt; c = invisibilityOfElementLocated(By.id(id));\r\n        try {\r\n            zeroWait.until(c);\r\n            return true;\r\n        } catch (TimeoutException e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nBut in the above code, the call to `until()` only returns **after the implicit wait time has passed**, i.e., it doesn&#39;t do what I wanted.\r\n\r\nThis is the only way I&#39;ve found so far that works:\r\n\r\n    @Test\r\n    public void checkThatSomethingIsNotVisible()  {\r\n        turnOffImplicitWaits();\r\n        // ... the actual test\r\n        turnOnImplicitWaits();\r\n    }\r\n\r\n... where e.g. `turnOffImplicitWaits()` is a helper in common Selenium superclass:\r\n\r\n    protected void turnOffImplicitWaits() {\r\n        driver.manage().timeouts().implicitlyWait(0, TimeUnit.SECONDS);\r\n    }\r\n\r\nBut that is not very elegant, I think. **Is there any cleaner way to bypass the implicit wait occasionally?**\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10950905/56285","title":"Temporarily bypassing implicit waits with WebDriver","body":"<p>When using implicit waits, <strong><a href=\"https://stackoverflow.com/a/10950905/56285\">as advised here</a></strong>,  I still <em>sometimes</em> want to assert the <strong>immediate</strong> invisibility or non-existence of elements.</p>\n\n<p>In other words, I <em>know</em> some elements should be hidden, and want my tests make that assertion <em>fast</em>, without spending several seconds because of the (otherwise useful) implicit wait.</p>\n\n<p>One thing I tried was a helper method like this:</p>\n\n<pre><code>// NB: doesn't seem to do what I want\nprivate boolean isElementHiddenNow(String id) {\n    WebDriverWait zeroWait = new WebDriverWait(driver, 0);\n    ExpectedCondition&lt;Boolean&gt; c = invisibilityOfElementLocated(By.id(id));\n    try {\n        zeroWait.until(c);\n        return true;\n    } catch (TimeoutException e) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>But in the above code, the call to <code>until()</code> only returns <strong>after the implicit wait time has passed</strong>, i.e., it doesn't do what I wanted.</p>\n\n<p>This is the only way I've found so far that works:</p>\n\n<pre><code>@Test\npublic void checkThatSomethingIsNotVisible()  {\n    turnOffImplicitWaits();\n    // ... the actual test\n    turnOnImplicitWaits();\n}\n</code></pre>\n\n<p>... where e.g. <code>turnOffImplicitWaits()</code> is a helper in common Selenium superclass:</p>\n\n<pre><code>protected void turnOffImplicitWaits() {\n    driver.manage().timeouts().implicitlyWait(0, TimeUnit.SECONDS);\n}\n</code></pre>\n\n<p>But that is not very elegant, I think. <strong>Is there any cleaner way to bypass the implicit wait occasionally?</strong></p>\n"},{"tags":["java","android","reflection"],"comments":[{"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"score":1,"creation_date":1690555064,"post_id":76788749,"comment_id":135374595,"body_markdown":"https://developer.android.com/guide/app-compatibility/restrictions-non-sdk-interfaces\nhttps://androidreverse.wordpress.com/2020/05/02/android-api-restriction-bypass-for-all-android-versions/\n\nhttps://stackoverflow.com/questions/55970137/bypass-androids-hidden-api-restrictions","body":"<a href=\"https://developer.android.com/guide/app-compatibility/restrictions-non-sdk-interfaces\" rel=\"nofollow noreferrer\">developer.android.com/guide/app-compatibility/&hellip;</a> <a href=\"https://androidreverse.wordpress.com/2020/05/02/android-api-restriction-bypass-for-all-android-versions/\" rel=\"nofollow noreferrer\">androidreverse.wordpress.com/2020/05/02/&hellip;</a>  <a href=\"https://stackoverflow.com/questions/55970137/bypass-androids-hidden-api-restrictions\" title=\"bypass androids hidden api restrictions\">stackoverflow.com/questions/55970137/&hellip;</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1690654411,"post_id":76788749,"comment_id":135384925,"body_markdown":"Does this answer your question? [Bypass Android&#39;s hidden API restrictions](https://stackoverflow.com/questions/55970137/bypass-androids-hidden-api-restrictions)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55970137/bypass-androids-hidden-api-restrictions\">Bypass Android&#39;s hidden API restrictions</a>"}],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690554719,"creation_date":1690554719,"question_id":76788749,"body_markdown":"I need to access the bootClassPathUrlHandlers in the VMClassLoader class using reflection but I am getting this error: &quot;Reflective access to bootClassPathUrlHandlers is forbidden when targeting API 33 and above&quot;.\r\n\r\nIf I ignore it and run the app anyway I get this runtime exception: java.lang.NoSuchFieldException: No field bootClassPathUrlHandlers in class Ljava/lang/VMClassLoader; (declaration of &#39;java.lang.VMClassLoader&#39; appears in /apex/com.android.art/javalib/core-libart.jar)\r\n\r\nThis is the part of code that I am using:\r\n```\r\n\t\t\tClass cVMClassLoader = Class.forName(&quot;java.lang.VMClassLoader&quot;);\r\n\t\t\tField vHandlers = cVMClassLoader.getDeclaredField(&quot;bootClassPathUrlHandlers&quot;);\r\n\t\t\tvHandlers.setAccessible(true);\r\n\r\n\t\t\tObject[] handlers = (Object[]) vHandlers.get(null);\r\n```\r\n\r\nHow can I access it?","title":"Reflective access to *** is forbidden when targeting API 33 and above","body":"<p>I need to access the bootClassPathUrlHandlers in the VMClassLoader class using reflection but I am getting this error: &quot;Reflective access to bootClassPathUrlHandlers is forbidden when targeting API 33 and above&quot;.</p>\n<p>If I ignore it and run the app anyway I get this runtime exception: java.lang.NoSuchFieldException: No field bootClassPathUrlHandlers in class Ljava/lang/VMClassLoader; (declaration of 'java.lang.VMClassLoader' appears in /apex/com.android.art/javalib/core-libart.jar)</p>\n<p>This is the part of code that I am using:</p>\n<pre><code>            Class cVMClassLoader = Class.forName(&quot;java.lang.VMClassLoader&quot;);\n            Field vHandlers = cVMClassLoader.getDeclaredField(&quot;bootClassPathUrlHandlers&quot;);\n            vHandlers.setAccessible(true);\n\n            Object[] handlers = (Object[]) vHandlers.get(null);\n</code></pre>\n<p>How can I access it?</p>\n"},{"tags":["java","android","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":2574017,"reputation":4150,"user_id":2232127,"accept_rate":100,"display_name":"JensV"},"score":0,"creation_date":1586528292,"post_id":61142155,"comment_id":108166246,"body_markdown":"It&#39;s possible that your android device does not allow overriding the notification sound. You are using the legacy firebase api which also might not work in the same way for newer devices. But it&#39;s just a guess. Perhaps try the new api: https://firebase.google.com/docs/reference/fcm/rest/v1/projects.messages#AndroidNotification","body":"It&#39;s possible that your android device does not allow overriding the notification sound. You are using the legacy firebase api which also might not work in the same way for newer devices. But it&#39;s just a guess. Perhaps try the new api: <a href=\"https://firebase.google.com/docs/reference/fcm/rest/v1/projects.messages#AndroidNotification\" rel=\"nofollow noreferrer\">firebase.google.com/docs/reference/fcm/rest/v1/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7967088,"reputation":257,"user_id":6013011,"display_name":"Amar Kaygude"},"down_vote_count":2,"up_vote_count":13,"is_accepted":true,"score":11,"last_activity_date":1596877113,"creation_date":1596877113,"answer_id":63313539,"question_id":61142155,"body_markdown":"I was also looking for the solution to custom sound for firebase notification in the android, And I have solved this problem through Notification Channel. \r\n\r\nI have created one notification channel with custom sound, that sound plays after receiving notification in the application background state. \r\n\r\nYou can refer following links of the notification channel. \r\n\r\n[https://medium.com/exploring-android/exploring-android-o-notification-channels-94cd274f604c][1]\r\n\r\n[https://developer.android.com/training/notify-user/channels][2]\r\n\r\nYou need to put your mp3 file at **/res/raw/** path.\r\n\r\nPlease find the code.\r\n\r\n    NotificationManager notificationManager = (NotificationManager) getActivity().getSystemService(NotificationManager.class); // If you are writting code in fragment\r\n\r\nOR\r\n\r\n    NotificationManager notificationManager = (NotificationManager) getSystemService(NotificationManager.class); // If you are writting code in Activity\r\n\r\ncreateNotificationChannel function\r\n\r\n    private void createNotificationChannel() { \r\n     Uri sound = Uri.parse(ContentResolver.SCHEME_ANDROID_RESOURCE + &quot;://&quot; + context.getPackageName() + &quot;/&quot; + R.raw.sample); //Here is FILE_NAME is the name of file that you want to play \r\n    // Create the NotificationChannel, but only on API 26+ because \r\n    // the NotificationChannel class is new and not in the support library if \r\n    (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) \r\n     { \r\n        CharSequence name = &quot;mychannel&quot;; \r\n        String description = &quot;testing&quot;; \r\n        int importance = NotificationManager.IMPORTANCE_DEFAULT; \r\n        AudioAttributes audioAttributes = new AudioAttributes.Builder() \r\n         .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION) \r\n         .setUsage(AudioAttributes.USAGE_ALARM) \r\n         .build(); \r\n       NotificationChannel channel = new NotificationChannel(&quot;cnid&quot;, name, importance); \r\n       channel.setDescription(description); \r\n       channel.enableLights(true); channel.enableVibration(true); \r\n       channel.setSound(sound, audioAttributes); \r\n       notificationManager.createNotificationChannel(channel); \r\n      } \r\n    };\r\n   \r\n    createNotificationChannel(); \r\nTo achieve this you need to pass **android_channel_id** property in the firebase notification request object.\r\n\r\n    {\r\n     &quot;notification&quot;: {\r\n     &quot;body&quot;: &quot;this is testing notification&quot;,\r\n     &quot;title&quot;: &quot;My App&quot;,\r\n     &quot;android_channel_id&quot;: &quot;cnid&quot;\r\n     },\r\n     &quot;to&quot;: &quot;token&quot;\r\n    }\r\n\r\n  [1]: https://medium.com/exploring-android/exploring-android-o-notification-channels-94cd274f604c\r\n  [2]: https://developer.android.com/training/notify-user/channels","title":"Custom sound in Firebase push notification","body":"<p>I was also looking for the solution to custom sound for firebase notification in the android, And I have solved this problem through Notification Channel.</p>\n<p>I have created one notification channel with custom sound, that sound plays after receiving notification in the application background state.</p>\n<p>You can refer following links of the notification channel.</p>\n<p><a href=\"https://medium.com/exploring-android/exploring-android-o-notification-channels-94cd274f604c\" rel=\"noreferrer\">https://medium.com/exploring-android/exploring-android-o-notification-channels-94cd274f604c</a></p>\n<p><a href=\"https://developer.android.com/training/notify-user/channels\" rel=\"noreferrer\">https://developer.android.com/training/notify-user/channels</a></p>\n<p>You need to put your mp3 file at <strong>/res/raw/</strong> path.</p>\n<p>Please find the code.</p>\n<pre><code>NotificationManager notificationManager = (NotificationManager) getActivity().getSystemService(NotificationManager.class); // If you are writting code in fragment\n</code></pre>\n<p>OR</p>\n<pre><code>NotificationManager notificationManager = (NotificationManager) getSystemService(NotificationManager.class); // If you are writting code in Activity\n</code></pre>\n<p>createNotificationChannel function</p>\n<pre><code>private void createNotificationChannel() { \n Uri sound = Uri.parse(ContentResolver.SCHEME_ANDROID_RESOURCE + &quot;://&quot; + context.getPackageName() + &quot;/&quot; + R.raw.sample); //Here is FILE_NAME is the name of file that you want to play \n// Create the NotificationChannel, but only on API 26+ because \n// the NotificationChannel class is new and not in the support library if \n(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) \n { \n    CharSequence name = &quot;mychannel&quot;; \n    String description = &quot;testing&quot;; \n    int importance = NotificationManager.IMPORTANCE_DEFAULT; \n    AudioAttributes audioAttributes = new AudioAttributes.Builder() \n     .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION) \n     .setUsage(AudioAttributes.USAGE_ALARM) \n     .build(); \n   NotificationChannel channel = new NotificationChannel(&quot;cnid&quot;, name, importance); \n   channel.setDescription(description); \n   channel.enableLights(true); channel.enableVibration(true); \n   channel.setSound(sound, audioAttributes); \n   notificationManager.createNotificationChannel(channel); \n  } \n};\n\ncreateNotificationChannel(); \n</code></pre>\n<p>To achieve this you need to pass <strong>android_channel_id</strong> property in the firebase notification request object.</p>\n<pre><code>{\n &quot;notification&quot;: {\n &quot;body&quot;: &quot;this is testing notification&quot;,\n &quot;title&quot;: &quot;My App&quot;,\n &quot;android_channel_id&quot;: &quot;cnid&quot;\n },\n &quot;to&quot;: &quot;token&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":13336394,"reputation":807,"user_id":9626123,"display_name":"Ammar Tariq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20039,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63313539,"answer_count":1,"score":6,"last_activity_date":1690554693,"creation_date":1586528080,"question_id":61142155,"body_markdown":"I am sending push notification from Firebase to my Android application, but it is only playing the default sound when the notification is recieved.\r\n\r\nI have set the custom sound param `{“sound”:”notificationsound.mp3”}` in the fcm notification object and the file is present in the res/raw folder according to (https://firebase.google.com/docs/cloud-messaging/http-server-ref)\r\nBut It’s still playing the default sound on all app states (background, foreground and killed).\r\nThis is my request body for sending the notification on Android :\r\n\r\n    {\r\n    &quot;to&quot; : “some id”,\r\n    &quot;notification&quot;: {\r\n    &quot;title&quot;:&quot;asdasd&quot;,\r\n    &quot;body&quot;:&quot;sdsad&quot;,\r\n    &quot;click_action&quot; : &quot;MAIN&quot;,\r\n    &quot;sound&quot;:&quot;notificationsound.mp3&quot;\r\n    },\r\n    &quot;data&quot;: {\r\n    &quot;title&quot; : &quot;Something&quot;,\r\n    &quot;body&quot; : &quot;Important&quot;,\r\n    &quot;type&quot; : &quot;message&quot;\r\n    },\r\n    &quot;priority&quot;: &quot;high&quot;\r\n    }\r\n\r\nWhat I can do to play the custom notification sound.\r\n","title":"Custom sound in Firebase push notification","body":"<p>I am sending push notification from Firebase to my Android application, but it is only playing the default sound when the notification is recieved.</p>\n\n<p>I have set the custom sound param <code>{“sound”:”notificationsound.mp3”}</code> in the fcm notification object and the file is present in the res/raw folder according to (<a href=\"https://firebase.google.com/docs/cloud-messaging/http-server-ref\" rel=\"noreferrer\">https://firebase.google.com/docs/cloud-messaging/http-server-ref</a>)\nBut It’s still playing the default sound on all app states (background, foreground and killed).\nThis is my request body for sending the notification on Android :</p>\n\n<pre><code>{\n\"to\" : “some id”,\n\"notification\": {\n\"title\":\"asdasd\",\n\"body\":\"sdsad\",\n\"click_action\" : \"MAIN\",\n\"sound\":\"notificationsound.mp3\"\n},\n\"data\": {\n\"title\" : \"Something\",\n\"body\" : \"Important\",\n\"type\" : \"message\"\n},\n\"priority\": \"high\"\n}\n</code></pre>\n\n<p>What I can do to play the custom notification sound.</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690534355,"creation_date":1690534355,"answer_id":76786217,"question_id":76785890,"body_markdown":"&gt; But the thing is when I use the `createUserWithEmailAndPassword` function it instantly creates a user in Firebase.\r\n\r\nYes, that is correct. It creates a user in [Firebase Authentication][1].\r\n\r\n&gt; But the user needs to set up the profile too after providing the email and password, I don&#39;t want it to create the user before setting up the profile, and the setup profile functions are in another activity.\r\n\r\nIf you need to store other user details that can be stored in the [FirebaseUser][2] object, then I recommend you store them in [Firestore][3], for example. Besides that, if you don&#39;t want to create the user before setting up the profile, then you might consider switching the steps. You ask the user for details and right after that perform the authentication.\r\n\r\n&gt; Also there is a possibility that the user could destroy the activity after signing up without getting to the setup profile activity. \r\n\r\nYes, an activity can be destroyed at any time. So if you get the details of the user in the first place, then you&#39;ll don&#39;t have t worry about this problem anymore.\r\n\r\n&gt; This will create a user without any other necessary information (except email and password).\r\n\r\nGet the information when the app starts.\r\n\r\n&gt; So that&#39;s why I want to delete the user if the setting up profile activity somehow gets destroyed using onDestroy method.\r\n\r\nYou can delete a user when the onDestroy method, but I don&#39;t see why would you need that if you get the information and authenticate the user right after that. In this case in which you&#39;ll always have all information.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/auth\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser\r\n  [3]: https://firebase.google.com/docs/firestore","title":"How to get a user using only the uID in Firebase Android","body":"<blockquote>\n<p>But the thing is when I use the <code>createUserWithEmailAndPassword</code> function it instantly creates a user in Firebase.</p>\n</blockquote>\n<p>Yes, that is correct. It creates a user in <a href=\"https://firebase.google.com/docs/auth\" rel=\"nofollow noreferrer\">Firebase Authentication</a>.</p>\n<blockquote>\n<p>But the user needs to set up the profile too after providing the email and password, I don't want it to create the user before setting up the profile, and the setup profile functions are in another activity.</p>\n</blockquote>\n<p>If you need to store other user details that can be stored in the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser\" rel=\"nofollow noreferrer\">FirebaseUser</a> object, then I recommend you store them in <a href=\"https://firebase.google.com/docs/firestore\" rel=\"nofollow noreferrer\">Firestore</a>, for example. Besides that, if you don't want to create the user before setting up the profile, then you might consider switching the steps. You ask the user for details and right after that perform the authentication.</p>\n<blockquote>\n<p>Also there is a possibility that the user could destroy the activity after signing up without getting to the setup profile activity.</p>\n</blockquote>\n<p>Yes, an activity can be destroyed at any time. So if you get the details of the user in the first place, then you'll don't have t worry about this problem anymore.</p>\n<blockquote>\n<p>This will create a user without any other necessary information (except email and password).</p>\n</blockquote>\n<p>Get the information when the app starts.</p>\n<blockquote>\n<p>So that's why I want to delete the user if the setting up profile activity somehow gets destroyed using onDestroy method.</p>\n</blockquote>\n<p>You can delete a user when the onDestroy method, but I don't see why would you need that if you get the information and authenticate the user right after that. In this case in which you'll always have all information.</p>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690554532,"creation_date":1690531433,"question_id":76785890,"body_markdown":"I am trying to make a chat app. So someone needs to sign up first to use the app. But the thing is when I use the `createUserWithEmailAndPassword` function it instantly creates a user in Firebase. But the user needs to **setup the profile** too after providing the email and password, I don&#39;t want it to create the user before setting up the profile, and the setup profile function is in another activity. Also, there is a possibility that the user could destroy the activity after signing up without getting to the **set up profile activity**. The user may use the back button or home button, that way the user will be created but other important stuff won&#39;t happen at all (Like uploading a picture). This will create a user without any other necessary information (except email and password). So that&#39;s why I want to **delete the user** if the setting up profile activity somehow gets destroyed using onDestroy method. But I need the user first to delete it. I have the uID from the previous activity but I don&#39;t know how to **delete a user** without logging in first. I researched a little bit and seems like there is no way to delete a user without logging in once.\r\n\r\nMy question is, is there any way to get the Firebase user using only the uID and delete it without logging in once? Or is there any way to cancel the user creation inside the onDestroy method?\r\n\r\nThis is the signup method below:\r\n\r\n\r\n    auth.createUserWithEmailAndPassword(binding.etEmail.getText().toString(), binding.etPassword.getText().toString())\r\n            .addOnCompleteListener(task -&gt; {\r\n        if(task.isSuccessful()){\r\n            String uID = task.getResult().getUser().getUid(); //getting user&#39;s unique ID\r\n            Users u = new Users(uID, binding.etEmail.getText().toString(), binding.etPassword.getText().toString(),&quot;User&quot;,\r\n                    &quot;Hey, I am Using Chatty.&quot;, &quot;1 January, 2000&quot;, false, false);\r\n            db.getReference().child(&quot;users&quot;).child(uID).setValue(u);\r\n            pd.dismiss();\r\n            Intent i = new Intent(SignUpActivity.this, SetupProfileActivity.class);\r\n            i.putExtra(&quot;flag&quot;,&quot;Email&quot;); i.putExtra(&quot;userID&quot;,uID);\r\n            startActivity(i); finishAffinity();\r\n        }else{\r\n            pd.dismiss();\r\n            Toast.makeText(SignUpActivity.this, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n\r\nAs we can see here, after using the method it will instantly create a user, then go to the other activity to set up the profile. But user may destroy the activity after signing up. This will not make sense, so I need to delete the user if that kind of thing happens. This way, user may come back later and try again signing up with the same email like the first time and hopefully not destroy the activity and finish setting up profile so there will be a complete user profile.\r\n\r\nHopefully I made some sense, please help me with this, I&#39;m out of ideas at this point.","title":"How to get a user using only the uID in Firebase Android","body":"<p>I am trying to make a chat app. So someone needs to sign up first to use the app. But the thing is when I use the <code>createUserWithEmailAndPassword</code> function it instantly creates a user in Firebase. But the user needs to <strong>setup the profile</strong> too after providing the email and password, I don't want it to create the user before setting up the profile, and the setup profile function is in another activity. Also, there is a possibility that the user could destroy the activity after signing up without getting to the <strong>set up profile activity</strong>. The user may use the back button or home button, that way the user will be created but other important stuff won't happen at all (Like uploading a picture). This will create a user without any other necessary information (except email and password). So that's why I want to <strong>delete the user</strong> if the setting up profile activity somehow gets destroyed using onDestroy method. But I need the user first to delete it. I have the uID from the previous activity but I don't know how to <strong>delete a user</strong> without logging in first. I researched a little bit and seems like there is no way to delete a user without logging in once.</p>\n<p>My question is, is there any way to get the Firebase user using only the uID and delete it without logging in once? Or is there any way to cancel the user creation inside the onDestroy method?</p>\n<p>This is the signup method below:</p>\n<pre><code>auth.createUserWithEmailAndPassword(binding.etEmail.getText().toString(), binding.etPassword.getText().toString())\n        .addOnCompleteListener(task -&gt; {\n    if(task.isSuccessful()){\n        String uID = task.getResult().getUser().getUid(); //getting user's unique ID\n        Users u = new Users(uID, binding.etEmail.getText().toString(), binding.etPassword.getText().toString(),&quot;User&quot;,\n                &quot;Hey, I am Using Chatty.&quot;, &quot;1 January, 2000&quot;, false, false);\n        db.getReference().child(&quot;users&quot;).child(uID).setValue(u);\n        pd.dismiss();\n        Intent i = new Intent(SignUpActivity.this, SetupProfileActivity.class);\n        i.putExtra(&quot;flag&quot;,&quot;Email&quot;); i.putExtra(&quot;userID&quot;,uID);\n        startActivity(i); finishAffinity();\n    }else{\n        pd.dismiss();\n        Toast.makeText(SignUpActivity.this, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>As we can see here, after using the method it will instantly create a user, then go to the other activity to set up the profile. But user may destroy the activity after signing up. This will not make sense, so I need to delete the user if that kind of thing happens. This way, user may come back later and try again signing up with the same email like the first time and hopefully not destroy the activity and finish setting up profile so there will be a complete user profile.</p>\n<p>Hopefully I made some sense, please help me with this, I'm out of ideas at this point.</p>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":29111661,"reputation":16,"user_id":22301300,"display_name":"Regis Junior"},"score":0,"creation_date":1690553373,"post_id":76788545,"comment_id":135374138,"body_markdown":"Check this.: [Solve error javax.mail.AuthenticationFailedException](https://stackoverflow.com/a/26731349/21144042)","body":"Check this.: <a href=\"https://stackoverflow.com/a/26731349/21144042\">Solve error javax.mail.AuthenticationFailedException</a>"}],"answers":[{"tags":[],"owner":{"account_id":29111661,"reputation":16,"user_id":22301300,"display_name":"Regis Junior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690553504,"creation_date":1690553504,"answer_id":76788611,"question_id":76788545,"body_markdown":"This happends becouse you dont alowed the [Less Secure Apps][1] in your Google account.\r\n\r\nYou just need to change this configuration!\r\n\r\nCheck this out: [Solve error javax.mail.AuthenticationFailedException][2]\r\n\r\n\r\n  [1]: https://www.google.com/settings/security/lesssecureapps\r\n  [2]: https://stackoverflow.com/questions/18778240/solve-error-javax-mail-authenticationfailedexception/26731349#26731349","title":"AuthenticationFailedException using Gmail in Javax","body":"<p>This happends becouse you dont alowed the <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow noreferrer\">Less Secure Apps</a> in your Google account.</p>\n<p>You just need to change this configuration!</p>\n<p>Check this out: <a href=\"https://stackoverflow.com/questions/18778240/solve-error-javax-mail-authenticationfailedexception/26731349#26731349\">Solve error javax.mail.AuthenticationFailedException</a></p>\n"}],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1690554978,"accepted_answer_id":76788611,"answer_count":1,"score":-1,"last_activity_date":1690554449,"creation_date":1690553024,"question_id":76788545,"body_markdown":"I&#39;m developing a method to send emails, but Gmail doesn&#39;t work. I&#39;m reciving:\r\n\r\n```\r\njavax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted.\r\n```\r\n\r\nThe idea of the code is to send a simple message:\r\n\r\n```java\r\nclass SimpleAuth extends Authenticator {\r\n\tpublic String username = null;\r\n\tpublic String password = null;\r\n\r\n\tpublic SimpleAuth(String user, String pwd) {\r\n\t\tusername = user;\r\n\t\tpassword = pwd;\r\n\t}\r\n\r\n\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\treturn new PasswordAuthentication(username, password);\r\n\t}\r\n}\r\n\r\npublic boolean send() throws Exception {\r\n\t// Smtp server\r\n\tfinal String smtp = &quot;smtp.gmail.com&quot;;\r\n\tfinal String port = &quot;465&quot;;\r\n\r\n\t// Properties setting\r\n\tProperties props = new Properties();\r\n\r\n\tprops.setProperty(&quot;mail.host&quot;, &quot;cServSmtp&quot;);\r\n\tprops.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n\r\n\tprops.put(&quot;mail.smtp.host&quot;, smtp);\r\n\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\r\n\tprops.put(&quot;mail.smtp.user&quot;, username);\r\n\tprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\tprops.put(&quot;mail.smtp.port&quot;, port);\r\n\tprops.put(&quot;mail.smtp.socketFactory.port&quot;, port);\r\n\r\n\tprops.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\r\n\tprops.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;true&quot;);\r\n\r\n\tprops.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\r\n\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\n\t// Authentication\r\n\tSimpleAuth auth = new SimpleAuth(username, password);\r\n\r\n\t// Instance session\r\n\tSession session = Session.getInstance(props, auth);\r\n\tsession.setDebug(false);\r\n\r\n\t// Message setting\r\n\tMessage msg = new MimeMessage(session);\r\n\tmsg.setRecipient(Message.RecipientType.TO, new InternetAddress(recipientEmail));\r\n\r\n\tmsg.setFrom(new InternetAddress(username, &quot;Diego Borba&quot;));\r\n\tmsg.setSubject(&quot;Subject&quot;);\r\n\tmsg.setContent(&quot;Text here&quot;, &quot;text/plain&quot;);\r\n\r\n\t// Instance transport\r\n\tTransport tr = session.getTransport();\r\n\r\n\ttry {\r\n\t\t// Send e-mail\r\n\t\ttr = session.getTransport(&quot;smtp&quot;);\r\n\t\ttr.connect(smtp, username, password);\r\n\t\tmsg.saveChanges();\r\n\t\ttr.sendMessage(msg, msg.getAllRecipients());\r\n\t\ttr.close();\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n}\r\n```\r\n\r\nI changed a bit of the code to facilitate reproduction, but the idea is the same.\r\n\r\nImportant observations:\r\n- It worked with Outlook and Hotmail (smtp.office365.com)\r\n- I made sure the username and password are correct.\r\n- I **must use SSL**.\r\n- I checked [Google Support](https://support.google.com/mail/?p=BadCredentials%20k23-20020a9d7617000000b006b96a4287d4sm1625082otl.5#topic=7065107), but I didn&#39;t find anything.\r\n- I&#39;m using Java8 (Jre 1.8.0_361)","title":"AuthenticationFailedException using Gmail in Javax","body":"<p>I'm developing a method to send emails, but Gmail doesn't work. I'm reciving:</p>\n<pre><code>javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted.\n</code></pre>\n<p>The idea of the code is to send a simple message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SimpleAuth extends Authenticator {\n    public String username = null;\n    public String password = null;\n\n    public SimpleAuth(String user, String pwd) {\n        username = user;\n        password = pwd;\n    }\n\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication(username, password);\n    }\n}\n\npublic boolean send() throws Exception {\n    // Smtp server\n    final String smtp = &quot;smtp.gmail.com&quot;;\n    final String port = &quot;465&quot;;\n\n    // Properties setting\n    Properties props = new Properties();\n\n    props.setProperty(&quot;mail.host&quot;, &quot;cServSmtp&quot;);\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n\n    props.put(&quot;mail.smtp.host&quot;, smtp);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n\n    props.put(&quot;mail.smtp.user&quot;, username);\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.port&quot;, port);\n    props.put(&quot;mail.smtp.socketFactory.port&quot;, port);\n\n    props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n\n    props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;true&quot;);\n\n    props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n\n    // Authentication\n    SimpleAuth auth = new SimpleAuth(username, password);\n\n    // Instance session\n    Session session = Session.getInstance(props, auth);\n    session.setDebug(false);\n\n    // Message setting\n    Message msg = new MimeMessage(session);\n    msg.setRecipient(Message.RecipientType.TO, new InternetAddress(recipientEmail));\n\n    msg.setFrom(new InternetAddress(username, &quot;Diego Borba&quot;));\n    msg.setSubject(&quot;Subject&quot;);\n    msg.setContent(&quot;Text here&quot;, &quot;text/plain&quot;);\n\n    // Instance transport\n    Transport tr = session.getTransport();\n\n    try {\n        // Send e-mail\n        tr = session.getTransport(&quot;smtp&quot;);\n        tr.connect(smtp, username, password);\n        msg.saveChanges();\n        tr.sendMessage(msg, msg.getAllRecipients());\n        tr.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n        return false;\n    }\n    return true;\n}\n</code></pre>\n<p>I changed a bit of the code to facilitate reproduction, but the idea is the same.</p>\n<p>Important observations:</p>\n<ul>\n<li>It worked with Outlook and Hotmail (smtp.office365.com)</li>\n<li>I made sure the username and password are correct.</li>\n<li>I <strong>must use SSL</strong>.</li>\n<li>I checked <a href=\"https://support.google.com/mail/?p=BadCredentials%20k23-20020a9d7617000000b006b96a4287d4sm1625082otl.5#topic=7065107\" rel=\"nofollow noreferrer\">Google Support</a>, but I didn't find anything.</li>\n<li>I'm using Java8 (Jre 1.8.0_361)</li>\n</ul>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1690546441,"post_id":76787608,"comment_id":135372611,"body_markdown":"Do you have a logging configuration file?","body":"Do you have a logging configuration file?"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690553894,"creation_date":1690549104,"answer_id":76788035,"question_id":76787608,"body_markdown":"This should work for `JPA`:\r\n```\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n```\r\nThe first line logs the SQL queries, and the second statement logs the prepared statement parameters.\r\n\r\nAnd this should work for `JdbcTemplate`:\r\n```\r\nlogging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG\r\nlogging.level.org.springframework.jdbc.core.StatementCreatorUtils=TRACE\r\n```\r\nSimilar to the `JPA` logging configuration, the first line is for logging statements and the second is to log parameters of prepared statements.","title":"Unable to see Debug SQL Queries in Spring boot 3. How can I see SQL queries with logging.level.root as warn","body":"<p>This should work for <code>JPA</code>:</p>\n<pre><code>logging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n<p>The first line logs the SQL queries, and the second statement logs the prepared statement parameters.</p>\n<p>And this should work for <code>JdbcTemplate</code>:</p>\n<pre><code>logging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG\nlogging.level.org.springframework.jdbc.core.StatementCreatorUtils=TRACE\n</code></pre>\n<p>Similar to the <code>JPA</code> logging configuration, the first line is for logging statements and the second is to log parameters of prepared statements.</p>\n"}],"owner":{"account_id":2657955,"reputation":2574,"user_id":2298251,"accept_rate":86,"display_name":"Ariel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76788035,"answer_count":1,"score":0,"last_activity_date":1690553894,"creation_date":1690545619,"question_id":76787608,"body_markdown":"This is the application.properties file I am using currently. \r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/student_tracker\r\nspring.datasource.username=springstudent\r\nspring.datasource.password=springstudent\r\nspring.jpa.hibernate.ddl-auto=create\r\n\r\n# Turn off the spring boot banner\r\nspring.main.banner-mode=off\r\n\r\n# Reduce logging level. Set logging level to warn\r\nlogging.level.root=warn\r\n# Add logging configs to display SQL statements\r\nlogging.level.org.hibernate.sql=debug\r\nlogging.level.org.hibernate.orm.jdbc.bind=trace\r\n```\r\n\r\nI am unable to see logs wen `logging.level.root` is set to `warn`. However, setting it to `debug` works but all debug logs are cluttered.\r\n\r\nHow can I see only hibernate logs while keeping `logging.level.root=warn`?","title":"Unable to see Debug SQL Queries in Spring boot 3. How can I see SQL queries with logging.level.root as warn","body":"<p>This is the application.properties file I am using currently.</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/student_tracker\nspring.datasource.username=springstudent\nspring.datasource.password=springstudent\nspring.jpa.hibernate.ddl-auto=create\n\n# Turn off the spring boot banner\nspring.main.banner-mode=off\n\n# Reduce logging level. Set logging level to warn\nlogging.level.root=warn\n# Add logging configs to display SQL statements\nlogging.level.org.hibernate.sql=debug\nlogging.level.org.hibernate.orm.jdbc.bind=trace\n</code></pre>\n<p>I am unable to see logs wen <code>logging.level.root</code> is set to <code>warn</code>. However, setting it to <code>debug</code> works but all debug logs are cluttered.</p>\n<p>How can I see only hibernate logs while keeping <code>logging.level.root=warn</code>?</p>\n"},{"tags":["java","functional-programming","guava"],"comments":[{"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"score":0,"creation_date":1394201103,"post_id":22251942,"comment_id":33795350,"body_markdown":"What kind of &quot;better&quot; are you trying to achieve? Shorter, more versatile, etc.?","body":"What kind of &quot;better&quot; are you trying to achieve? Shorter, more versatile, etc.?"},{"owner":{"account_id":4670717,"reputation":813,"user_id":3782567,"accept_rate":30,"display_name":"Shilan"},"score":0,"creation_date":1522840669,"post_id":22251942,"comment_id":86307215,"body_markdown":"why not overriding hash method with the properties you want to compare and then comparing the hashcodes? I believe this has even better performance. You avoind all the comparisons and replace it with one.","body":"why not overriding hash method with the properties you want to compare and then comparing the hashcodes? I believe this has even better performance. You avoind all the comparisons and replace it with one."}],"answers":[{"tags":[],"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394209026,"creation_date":1394200604,"answer_id":22252064,"question_id":22251942,"body_markdown":"Here is a moderately shorter version of your function:\r\n\r\n    public boolean areNamesEqual(Person p1, Person p2)  {\r\n       return  (person1 != null  &amp;&amp;  person2 != null  &amp;&amp;\r\n          Objects.equal(p1.getFirstName(), p2.getFirstName())  &amp;&amp;\r\n          Objects.equal(p1.getSecondName(), p2.getSecondName()));\r\n    }\r\n\r\n","title":"Check if only specific properties of 2 objects are equal","body":"<p>Here is a moderately shorter version of your function:</p>\n\n<pre><code>public boolean areNamesEqual(Person p1, Person p2)  {\n   return  (person1 != null  &amp;&amp;  person2 != null  &amp;&amp;\n      Objects.equal(p1.getFirstName(), p2.getFirstName())  &amp;&amp;\n      Objects.equal(p1.getSecondName(), p2.getSecondName()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":545654,"reputation":7998,"user_id":1360984,"accept_rate":60,"display_name":"Harmlezz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1394201503,"creation_date":1394200615,"answer_id":22252072,"question_id":22251942,"body_markdown":"Try this:\r\n\r\n    boolean areNamesEqual(Person person1, Person person2) {\r\n        if (person1 == null || person2 == null) {\r\n            return person1 == person2;\r\n        }\r\n        return person1.getFirstName() == null\r\n            ? person2.getFirstName() == null\r\n            : person1.getFirstName().equals(person2.getFirstName());\r\n    }\r\n\r\nOtherwise you may use [Objects.equal][1].\r\n\r\n    Objects.equal(person1.getFirstName(), person2.getFirstName())\r\n\r\nSame for all other properties.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Objects.html","title":"Check if only specific properties of 2 objects are equal","body":"<p>Try this:</p>\n\n<pre><code>boolean areNamesEqual(Person person1, Person person2) {\n    if (person1 == null || person2 == null) {\n        return person1 == person2;\n    }\n    return person1.getFirstName() == null\n        ? person2.getFirstName() == null\n        : person1.getFirstName().equals(person2.getFirstName());\n}\n</code></pre>\n\n<p>Otherwise you may use <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Objects.html\" rel=\"nofollow\">Objects.equal</a>.</p>\n\n<pre><code>Objects.equal(person1.getFirstName(), person2.getFirstName())\n</code></pre>\n\n<p>Same for all other properties.</p>\n"},{"tags":[],"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1394204229,"creation_date":1394203307,"answer_id":22253115,"question_id":22251942,"body_markdown":"With Java (at least before Java 8 and the lambdas) and Guava, you won&#39;t get far as Java is not a functional language. See the [Caveats section in Functional Explained][1] in the Guava Wiki for an extra opinion.\r\n\r\nActually, you can do it, but at the cost of more code, so you should really evaluate whether you need it. Something like:\r\n\r\n    private &lt;T&gt; boolean arePropertiesEqual(T t1, T t2, Function&lt;T, ?&gt;... functions) {\r\n        if (t1 == null || t2 == null) {\r\n            return t1 == t2; // Shortcut\r\n        }\r\n        for (Function&lt;T, ?&gt; function : functions) {\r\n            if (!Objects.equal(function.apply(t1), function.apply(t2))) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    private static class PersonFirstNameFunction \r\n            implements Function&lt;Person, String&gt; {\r\n        @Override\r\n        public String apply(Person input) {\r\n            return input.getFirstName();\r\n        }\r\n    }\r\n    \r\n    private static class PersonLastNameFunction\r\n            implements Function&lt;Person, String&gt; {\r\n        @Override\r\n        public String apply(Person input) {\r\n            return input.getLastName();\r\n        }\r\n    }\r\n    \r\n    private void someMethod(Person p1, Person p2) {\r\n        boolean b = arePropertiesEqual(p1, p2, \r\n                new PersonFirstNameFunction(), new PersonLastNameFunction());\r\n    }\r\n\r\nNote: I&#39;ve neither compiled nor run the code above, it probably has at least warnings due to the use of generic arrays (in the varargs).\r\n\r\nIt&#39;s already shorter with Java 8, looking something like:\r\n\r\n    private &lt;T&gt; boolean arePropertiesEqual(T t1, T t2, Function&lt;T, ?&gt;... functions) {\r\n        if (t1 == null || t2 == null) {\r\n            return t1 == t2; // Shortcut\r\n        }\r\n        for (Function&lt;T, ?&gt; function : functions) {\r\n            if (!Objects.equals(function.apply(t1), function.apply(t2))) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    private void someMethod(Person p1, Person p2) {\r\n        boolean b = arePropertiesEqual(p1, p2,\r\n                Person::getFirstName, Person::getLastName);\r\n    }\r\n\r\nNote that here it&#39;s using `java.util.Objects` and `java.util.functions.Function`, not Guava.\r\n\r\n\r\n----------\r\n\r\nNow, is that really &quot;better&quot; than the imperative code?\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/wiki/FunctionalExplained#Caveats","title":"Check if only specific properties of 2 objects are equal","body":"<p>With Java (at least before Java 8 and the lambdas) and Guava, you won't get far as Java is not a functional language. See the <a href=\"https://code.google.com/p/guava-libraries/wiki/FunctionalExplained#Caveats\" rel=\"nofollow\">Caveats section in Functional Explained</a> in the Guava Wiki for an extra opinion.</p>\n\n<p>Actually, you can do it, but at the cost of more code, so you should really evaluate whether you need it. Something like:</p>\n\n<pre><code>private &lt;T&gt; boolean arePropertiesEqual(T t1, T t2, Function&lt;T, ?&gt;... functions) {\n    if (t1 == null || t2 == null) {\n        return t1 == t2; // Shortcut\n    }\n    for (Function&lt;T, ?&gt; function : functions) {\n        if (!Objects.equal(function.apply(t1), function.apply(t2))) {\n            return false;\n        }\n    }\n    return true;\n}\n\nprivate static class PersonFirstNameFunction \n        implements Function&lt;Person, String&gt; {\n    @Override\n    public String apply(Person input) {\n        return input.getFirstName();\n    }\n}\n\nprivate static class PersonLastNameFunction\n        implements Function&lt;Person, String&gt; {\n    @Override\n    public String apply(Person input) {\n        return input.getLastName();\n    }\n}\n\nprivate void someMethod(Person p1, Person p2) {\n    boolean b = arePropertiesEqual(p1, p2, \n            new PersonFirstNameFunction(), new PersonLastNameFunction());\n}\n</code></pre>\n\n<p>Note: I've neither compiled nor run the code above, it probably has at least warnings due to the use of generic arrays (in the varargs).</p>\n\n<p>It's already shorter with Java 8, looking something like:</p>\n\n<pre><code>private &lt;T&gt; boolean arePropertiesEqual(T t1, T t2, Function&lt;T, ?&gt;... functions) {\n    if (t1 == null || t2 == null) {\n        return t1 == t2; // Shortcut\n    }\n    for (Function&lt;T, ?&gt; function : functions) {\n        if (!Objects.equals(function.apply(t1), function.apply(t2))) {\n            return false;\n        }\n    }\n    return true;\n}\n\nprivate void someMethod(Person p1, Person p2) {\n    boolean b = arePropertiesEqual(p1, p2,\n            Person::getFirstName, Person::getLastName);\n}\n</code></pre>\n\n<p>Note that here it's using <code>java.util.Objects</code> and <code>java.util.functions.Function</code>, not Guava.</p>\n\n<hr>\n\n<p>Now, is that really \"better\" than the imperative code?</p>\n"},{"tags":[],"owner":{"account_id":147709,"reputation":1271,"user_id":359008,"accept_rate":75,"display_name":"Michael Hixson"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1394203620,"creation_date":1394203620,"answer_id":22253233,"question_id":22251942,"body_markdown":"Not really, no.  There is not a better way of expressing this.  &quot;With this I don&#39;t have check for null anywhere&quot; - well, it&#39;s too bad that checking nulls is a requirement.  I&#39;m not sure why you have to check if null is equal to itself or if null is equal to the names of a Person, or why people have null instead of names.  That all seems like nonsense to me but you probably have a good reason.\r\n\r\nYou can&#39;t avoid repeating the accessors for firstName and lastName with less code than you&#39;ve already written.  If you put the method on the Person class itself you should at least be able to avoid the &quot;get&quot; and &quot;()&quot; by using the private fields directly.  Here is some code that is no better than the code in your question:\r\n\r\n    public static boolean areBothNullOrBothNonNullAndNamesEqual(Person a, Person b) {\r\n      if (a == null || b == null) {\r\n        return a == b;\r\n      }\r\n      return Objects.equals(a.firstName, b.firstName)\r\n          &amp;&amp; Objects.equals(a.lastName, b.lastName);\r\n    }","title":"Check if only specific properties of 2 objects are equal","body":"<p>Not really, no.  There is not a better way of expressing this.  \"With this I don't have check for null anywhere\" - well, it's too bad that checking nulls is a requirement.  I'm not sure why you have to check if null is equal to itself or if null is equal to the names of a Person, or why people have null instead of names.  That all seems like nonsense to me but you probably have a good reason.</p>\n\n<p>You can't avoid repeating the accessors for firstName and lastName with less code than you've already written.  If you put the method on the Person class itself you should at least be able to avoid the \"get\" and \"()\" by using the private fields directly.  Here is some code that is no better than the code in your question:</p>\n\n<pre><code>public static boolean areBothNullOrBothNonNullAndNamesEqual(Person a, Person b) {\n  if (a == null || b == null) {\n    return a == b;\n  }\n  return Objects.equals(a.firstName, b.firstName)\n      &amp;&amp; Objects.equals(a.lastName, b.lastName);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1031177,"reputation":45,"user_id":1039466,"display_name":"arun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472674027,"creation_date":1472674027,"answer_id":39258166,"question_id":22251942,"body_markdown":"There is a pojomatic API that doesn&#39;t need to add much code.\r\nhttp://www.pojomatic.org/pojomatic/index.html \r\n\r\nbefore is the exampple you just need to annotate with autoproperty for pojo and @property for fields with a policy of &#39;Equals&#39;\r\n\r\n    import org.pojomatic.Pojomatic;\r\n    import org.pojomatic.annotations.AutoProperty;\r\n\r\n    @AutoProperty\r\n    public class Person {\r\n      @Property(policy = PojomaticPolicy.EQUALS)\r\n      private final String firstName;\r\n      @Property(policy = PojomaticPolicy.EQUALS)\r\n      private final String lastName;\r\n      private final int age;\r\n    \r\n      public Person(String firstName, String lastName, int age) {\r\n      this.firstName = firstName;\r\n      this.lastName = lastName;\r\n      this.age = age;\r\n      }\r\n\r\n      public String getFirstName() { return this.firstName; }\r\n      public String getLastName() { return this.lastName; }\r\n      public int getAge() { return this.age; }\r\n\r\n      @Override \r\n      public boolean equals(Object o) {\r\n          return Pojomatic.equals(this, o);\r\n      }\r\n\r\n      @Override \r\n      public int hashCode() {\r\n          return Pojomatic.hashCode(this);\r\n      }\r\n\r\n      @Override \r\n      public String toString() {\r\n         return Pojomatic.toString(this);\r\n      }\r\n    }\r\n\r\nnow only first name and last time are considered when you say person1.equals(person2) ","title":"Check if only specific properties of 2 objects are equal","body":"<p>There is a pojomatic API that doesn't need to add much code.\n<a href=\"http://www.pojomatic.org/pojomatic/index.html\" rel=\"nofollow\">http://www.pojomatic.org/pojomatic/index.html</a> </p>\n\n<p>before is the exampple you just need to annotate with autoproperty for pojo and @property for fields with a policy of 'Equals'</p>\n\n<pre><code>import org.pojomatic.Pojomatic;\nimport org.pojomatic.annotations.AutoProperty;\n\n@AutoProperty\npublic class Person {\n  @Property(policy = PojomaticPolicy.EQUALS)\n  private final String firstName;\n  @Property(policy = PojomaticPolicy.EQUALS)\n  private final String lastName;\n  private final int age;\n\n  public Person(String firstName, String lastName, int age) {\n  this.firstName = firstName;\n  this.lastName = lastName;\n  this.age = age;\n  }\n\n  public String getFirstName() { return this.firstName; }\n  public String getLastName() { return this.lastName; }\n  public int getAge() { return this.age; }\n\n  @Override \n  public boolean equals(Object o) {\n      return Pojomatic.equals(this, o);\n  }\n\n  @Override \n  public int hashCode() {\n      return Pojomatic.hashCode(this);\n  }\n\n  @Override \n  public String toString() {\n     return Pojomatic.toString(this);\n  }\n}\n</code></pre>\n\n<p>now only first name and last time are considered when you say person1.equals(person2) </p>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690553265,"creation_date":1690553265,"answer_id":76788580,"question_id":22251942,"body_markdown":"You may also use something more dynamic, via reflection, like the following.\r\n\r\n    public boolean isObjectPropertiesEqual(Class clazz, Object o0, Object o1, String... properties) {\r\n        for (int i = 0; i &lt; properties.length; i++) {\r\n            // Validate the property value\r\n            String property = properties[i];\r\n            if (property == null || property.isEmpty()) {\r\n                continue;\r\n            }\r\n\r\n            // Convert to Java Bean property getter method name\r\n            String getter = &quot;get&quot; + property.substring(0, 1).toUpperCase() + property.substring(1);\r\n\r\n            // Check for equality\r\n            try {\r\n                Method method = clazz.getMethod(getter);\r\n                Object value0 = method.invoke(o0);\r\n                Object value1 = method.invoke(o1);\r\n                if (!Objects.equals(value0, value1))\r\n                    return false;\r\n            } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nUsage example:\r\n\r\n    isObjectPropertiesEqual(Person.class, person1, person2, &quot;firstName&quot;, &quot;secondName&quot;);","title":"Check if only specific properties of 2 objects are equal","body":"<p>You may also use something more dynamic, via reflection, like the following.</p>\n<pre><code>public boolean isObjectPropertiesEqual(Class clazz, Object o0, Object o1, String... properties) {\n    for (int i = 0; i &lt; properties.length; i++) {\n        // Validate the property value\n        String property = properties[i];\n        if (property == null || property.isEmpty()) {\n            continue;\n        }\n\n        // Convert to Java Bean property getter method name\n        String getter = &quot;get&quot; + property.substring(0, 1).toUpperCase() + property.substring(1);\n\n        // Check for equality\n        try {\n            Method method = clazz.getMethod(getter);\n            Object value0 = method.invoke(o0);\n            Object value1 = method.invoke(o1);\n            if (!Objects.equals(value0, value1))\n                return false;\n        } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\n            throw new RuntimeException(e);\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>Usage example:</p>\n<pre><code>isObjectPropertiesEqual(Person.class, person1, person2, &quot;firstName&quot;, &quot;secondName&quot;);\n</code></pre>\n"}],"owner":{"account_id":289198,"reputation":4732,"user_id":590032,"accept_rate":89,"display_name":"oggmonster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3689,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":22253115,"answer_count":6,"score":3,"last_activity_date":1690553265,"creation_date":1394200276,"question_id":22251942,"body_markdown":"Say I have a a class `Person` (assume all of the properties can be set and can also be null):\r\n\r\n    public class Person {\r\n      private String firstName;\r\n      private String secondName;\r\n      private Address address;\r\n\r\n      public String getFirstName() { return firstName; }\r\n      public String getSecondName() { return secondName; }\r\n      public String getAddress() { return address; }\r\n    }\r\n\r\nIf I have two instances of `Person`, and I want to check if they both have the same `firstName` and `secondName`, I cannot simply call `equals()` as that will also check `address` for equality (and any other properties for that matter).\r\n\r\nI would have to write a function like this:\r\n\r\n    boolean areNamesEqual(Person person1, Person person2) {\r\n      if(person1 == null || person2 == null) {\r\n        return person1 == person2;\r\n      }\r\n      if(person1.getFirstName() != null ? !person1.getFirstName().equals(person2.getFirstName()) : person2.getFirstName() != null) {\r\n        return false;\r\n      }\r\n      if(person1.getSecondName() != null ? !person1.getSecondName().equals(person2.getSecondName()) : person2.getSecondName() != null) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n\r\nIs there any cleaner way to express this? It feels like Java is making jump through quite a few hoops to express this simple idea. I have started looking at Google Guava, and have seen I can use `Objects.equal()` to improve matters:\r\n\r\n    boolean areNamesEqual(Person person1, Person person2) {\r\n      if(person1 == null || person2 == null) {\r\n        return person1 == person2;\r\n      }\r\n      if(Objects.equal(person1.getFirstName(), person2.getFirstName())) {\r\n        return false;\r\n      }\r\n      if(Objects.equal(person1.getSecondName(), person2.getSecondName())) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n\r\n\r\nBut I still have to check for the Person objects themselves being null, and write getFirstName() and getSecondName() twice each. It feels like there must be a better way expressing this.\r\n\r\nCode like this would be ideal:\r\n\r\n    (person1, person2).arePropertiesEqual(firstName, secondName)\r\n\r\nWith this I don&#39;t have check for null anywhere, I don&#39;t have to return early, and I don&#39;t have to write `firstName` or `secondName` more than once.\r\n\r\nAny ideas?","title":"Check if only specific properties of 2 objects are equal","body":"<p>Say I have a a class <code>Person</code> (assume all of the properties can be set and can also be null):</p>\n\n<pre><code>public class Person {\n  private String firstName;\n  private String secondName;\n  private Address address;\n\n  public String getFirstName() { return firstName; }\n  public String getSecondName() { return secondName; }\n  public String getAddress() { return address; }\n}\n</code></pre>\n\n<p>If I have two instances of <code>Person</code>, and I want to check if they both have the same <code>firstName</code> and <code>secondName</code>, I cannot simply call <code>equals()</code> as that will also check <code>address</code> for equality (and any other properties for that matter).</p>\n\n<p>I would have to write a function like this:</p>\n\n<pre><code>boolean areNamesEqual(Person person1, Person person2) {\n  if(person1 == null || person2 == null) {\n    return person1 == person2;\n  }\n  if(person1.getFirstName() != null ? !person1.getFirstName().equals(person2.getFirstName()) : person2.getFirstName() != null) {\n    return false;\n  }\n  if(person1.getSecondName() != null ? !person1.getSecondName().equals(person2.getSecondName()) : person2.getSecondName() != null) {\n    return false;\n  }\n  return true;\n}\n</code></pre>\n\n<p>Is there any cleaner way to express this? It feels like Java is making jump through quite a few hoops to express this simple idea. I have started looking at Google Guava, and have seen I can use <code>Objects.equal()</code> to improve matters:</p>\n\n<pre><code>boolean areNamesEqual(Person person1, Person person2) {\n  if(person1 == null || person2 == null) {\n    return person1 == person2;\n  }\n  if(Objects.equal(person1.getFirstName(), person2.getFirstName())) {\n    return false;\n  }\n  if(Objects.equal(person1.getSecondName(), person2.getSecondName())) {\n    return false;\n  }\n  return true;\n}\n</code></pre>\n\n<p>But I still have to check for the Person objects themselves being null, and write getFirstName() and getSecondName() twice each. It feels like there must be a better way expressing this.</p>\n\n<p>Code like this would be ideal:</p>\n\n<pre><code>(person1, person2).arePropertiesEqual(firstName, secondName)\n</code></pre>\n\n<p>With this I don't have check for null anywhere, I don't have to return early, and I don't have to write <code>firstName</code> or <code>secondName</code> more than once.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":4,"creation_date":1554500454,"post_id":55543683,"comment_id":97790509,"body_markdown":"Welcome to Stack Overflow. Please [edit] your question to include a [mcve], which can be compiled and tested by others. It should show that you get the value `null` and not the strings you assign. Most likely you are setting the names on the wrong objects or read it from different objects.","body":"Welcome to Stack Overflow. Please <a href=\"https://stackoverflow.com/posts/55543683/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. It should show that you get the value <code>null</code> and not the strings you assign. Most likely you are setting the names on the wrong objects or read it from different objects."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1554500764,"post_id":55543683,"comment_id":97790613,"body_markdown":"If you’re using Swing, that probably means your frame is a JFrame, in which case you did not add anything to the JFrame itself.  JFrame implements [RootPaneContainer](https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/swing/RootPaneContainer.html), which means all of the child components are actually children of the content pane.  Try `this.getFrame().getContentPane().getComponents()` instead.","body":"If you’re using Swing, that probably means your frame is a JFrame, in which case you did not add anything to the JFrame itself.  JFrame implements <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/swing/RootPaneContainer.html\" rel=\"nofollow noreferrer\">RootPaneContainer</a>, which means all of the child components are actually children of the content pane.  Try <code>this.getFrame().getContentPane().getComponents()</code> instead."},{"owner":{"account_id":15686690,"reputation":133,"user_id":11319165,"display_name":"Vidal M."},"score":0,"creation_date":1554501091,"post_id":55543683,"comment_id":97790709,"body_markdown":"Already tried, and got this results: null.glassPane\nnull.layeredPane","body":"Already tried, and got this results: null.glassPane null.layeredPane"}],"answers":[{"tags":[],"owner":{"account_id":15686690,"reputation":133,"user_id":11319165,"display_name":"Vidal M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558385087,"creation_date":1558385087,"answer_id":56227940,"question_id":55543683,"body_markdown":"it&#180;s been a while:\r\nI think I have find the way to solve this q, anyway feedback&#180;swelcome.\r\nI&#180;m afraid it was my fault, cause i didn&#180;t explained well the problem.\r\nThe point are containers (readJFrames, JPanel or whatever).\r\nIf you&#180;ve got a JPanel inside, let&#180;s say a JFrame, you&#180;ll have to call getComponents of that panel, and so on...\r\nHope it solves the q. \r\nThanks anybody who kept on.","title":"How to get not null Runtime created components names after setName(String);?","body":"<p>it´s been a while:\nI think I have find the way to solve this q, anyway feedback´swelcome.\nI´m afraid it was my fault, cause i didn´t explained well the problem.\nThe point are containers (readJFrames, JPanel or whatever).\nIf you´ve got a JPanel inside, let´s say a JFrame, you´ll have to call getComponents of that panel, and so on...\nHope it solves the q. \nThanks anybody who kept on.</p>\n"}],"owner":{"account_id":15686690,"reputation":133,"user_id":11319165,"display_name":"Vidal M."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690552990,"creation_date":1554500232,"question_id":55543683,"body_markdown":"I&#180;m building a swing aplication , which has all visual components runtime created on a single class. Every control shows fine. Any time a component is declared, a `component.setName(String);` is placed. \r\nThe problem is that when trying to access that names, via `component.getName();`, even within the same class instance, I get null result.\r\n\r\n\r\n    for(Component c:this.getFrame().getComponents()) {\r\n        System.out.println(c.getName());\r\n    }\r\n\r\n`getFrame`is just an standar getter returning main Jframe.\r\nThat just print one null, but frame is populated with components.\r\n\r\nExpected result should be f.e. &quot;Calculate&quot; instead of null","title":"How to get not null Runtime created components names after setName(String);?","body":"<p>I´m building a swing aplication , which has all visual components runtime created on a single class. Every control shows fine. Any time a component is declared, a <code>component.setName(String);</code> is placed. \nThe problem is that when trying to access that names, via <code>component.getName();</code>, even within the same class instance, I get null result.</p>\n\n<pre><code>for(Component c:this.getFrame().getComponents()) {\n    System.out.println(c.getName());\n}\n</code></pre>\n\n<p><code>getFrame</code>is just an standar getter returning main Jframe.\nThat just print one null, but frame is populated with components.</p>\n\n<p>Expected result should be f.e. \"Calculate\" instead of null</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","elasticsearch-8"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1660641940,"post_id":73368757,"comment_id":129574249,"body_markdown":"why you are using `spring-data-elasticsearch` and `elasticsearch-java` both in your pom.xml file ? You can use any one to connect to the Elasticsearch. Also, `spring-data-elasticsearch` already have dependancy for Elasticsearch rest client so if you want to use Spring then only spring data dependancy is sufficiant. You are getting error because of mismatch of dependancy while using class or object.","body":"why you are using <code>spring-data-elasticsearch</code> and <code>elasticsearch-java</code> both in your pom.xml file ? You can use any one to connect to the Elasticsearch. Also, <code>spring-data-elasticsearch</code> already have dependancy for Elasticsearch rest client so if you want to use Spring then only spring data dependancy is sufficiant. You are getting error because of mismatch of dependancy while using class or object."}],"answers":[{"tags":[],"owner":{"account_id":7566728,"reputation":407,"user_id":5751473,"display_name":"Se ven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668671046,"creation_date":1668671046,"answer_id":74471805,"question_id":73368757,"body_markdown":"Current [spring-data-elasticsearch(version 4.4)](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/) not much compatible with es version 8.3 (&gt;7.17.6). \r\n\r\nES `RestHighLevelClient` can `setApiCompatibilityMode(true)` to [enables compatibility mode that allows HLRC 7.17 to work with Elasticsearch 8.x](https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/7.17/migrate-hlrc.html#_using_the_same_http_client_with_the_hlrc_and_the_java_api_client). But the compatibility is not very good. ","title":"Elasticsearch 8.3 configuration in Spring Boot","body":"<p>Current <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/\" rel=\"nofollow noreferrer\">spring-data-elasticsearch(version 4.4)</a> not much compatible with es version 8.3 (&gt;7.17.6).</p>\n<p>ES <code>RestHighLevelClient</code> can <code>setApiCompatibilityMode(true)</code> to <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/7.17/migrate-hlrc.html#_using_the_same_http_client_with_the_hlrc_and_the_java_api_client\" rel=\"nofollow noreferrer\">enables compatibility mode that allows HLRC 7.17 to work with Elasticsearch 8.x</a>. But the compatibility is not very good.</p>\n"},{"tags":[],"owner":{"account_id":27452931,"reputation":1,"user_id":20944865,"display_name":"Iulian Masar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673007042,"creation_date":1673007042,"answer_id":75030779,"question_id":73368757,"body_markdown":"[spring-data-elasticsearch(version 5.0)][1] is now compatible with ES 8.5.0\r\n\r\nIt looks like the RestHighLevelClient is deprecated as of this version.\r\n\r\nCheck [this][2] documentation for implementing the client configuration.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#new-features.5-0-0\r\n  [2]: https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients","title":"Elasticsearch 8.3 configuration in Spring Boot","body":"<p><a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#new-features.5-0-0\" rel=\"nofollow noreferrer\">spring-data-elasticsearch(version 5.0)</a> is now compatible with ES 8.5.0</p>\n<p>It looks like the RestHighLevelClient is deprecated as of this version.</p>\n<p>Check <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients\" rel=\"nofollow noreferrer\">this</a> documentation for implementing the client configuration.</p>\n"},{"tags":[],"owner":{"account_id":4756304,"reputation":705,"user_id":3844992,"display_name":"Vinh VO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690552526,"creation_date":1690552526,"answer_id":76788477,"question_id":73368757,"body_markdown":"On the date of this answer, I am currently able to config Java API client (provided officially by Elasticsearch) to works with ElasticSearch 8.3.x\r\n\r\nVersion of dependencies used (if it helps): \r\n\r\n- org.springframework.boot:spring-boot-starter:2.7.13\r\n- org.springframework.data:spring-data-elasticsearch:4.4.13\r\n- co.elastic.clients:elasticsearch-java:7.17.9 (depended by the above one).\r\n\r\n**Your `ElasticConfig` (with the annotation `@Configuration`) class just needs to extend `ElasticsearchConfiguration` abstract class.**\r\n\r\nSomething similar to this\r\n\r\n```java\r\n@Configuration\r\npublic class ElasticConfig extends ElasticsearchConfiguration {\r\n    @Override\r\n    public ClientConfiguration clientConfiguration() {\r\n        try {\r\n\r\n            // TODO: Should be on the dev profile to run this on self-signed TLS server.\r\n            final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n            credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(this.esUsername, this.esPassword));\r\n\r\n            SSLContextBuilder sslBuilder = SSLContexts.custom()\r\n                    .loadTrustMaterial(null,\r\n                            (x509Certificates, s) -&gt; true\r\n                    );\r\n            final SSLContext sslContext = sslBuilder.build();\r\n\r\n            return ClientConfiguration.builder()\r\n                    .connectedTo(esUris)\r\n                    .usingSsl(sslContext, NoopHostnameVerifier.INSTANCE)\r\n                    .withConnectTimeout(10000)\r\n                    .withBasicAuth(esUsername, esPassword)\r\n                    .build();\r\n        } catch (Exception e) {\r\n            // throwing properly\r\n            return null;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe abstract class has (pre)-declared enough Bean for our job. We only need to declare some Operations or Repository to do the job.\r\n\r\nAdapt your esUris, esUsername, esPassword with yours or eliminate them if you&#39;re using an unsecure local ES server.","title":"Elasticsearch 8.3 configuration in Spring Boot","body":"<p>On the date of this answer, I am currently able to config Java API client (provided officially by Elasticsearch) to works with ElasticSearch 8.3.x</p>\n<p>Version of dependencies used (if it helps):</p>\n<ul>\n<li>org.springframework.boot:spring-boot-starter:2.7.13</li>\n<li>org.springframework.data:spring-data-elasticsearch:4.4.13</li>\n<li>co.elastic.clients:elasticsearch-java:7.17.9 (depended by the above one).</li>\n</ul>\n<p><strong>Your <code>ElasticConfig</code> (with the annotation <code>@Configuration</code>) class just needs to extend <code>ElasticsearchConfiguration</code> abstract class.</strong></p>\n<p>Something similar to this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ElasticConfig extends ElasticsearchConfiguration {\n    @Override\n    public ClientConfiguration clientConfiguration() {\n        try {\n\n            // TODO: Should be on the dev profile to run this on self-signed TLS server.\n            final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n            credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(this.esUsername, this.esPassword));\n\n            SSLContextBuilder sslBuilder = SSLContexts.custom()\n                    .loadTrustMaterial(null,\n                            (x509Certificates, s) -&gt; true\n                    );\n            final SSLContext sslContext = sslBuilder.build();\n\n            return ClientConfiguration.builder()\n                    .connectedTo(esUris)\n                    .usingSsl(sslContext, NoopHostnameVerifier.INSTANCE)\n                    .withConnectTimeout(10000)\n                    .withBasicAuth(esUsername, esPassword)\n                    .build();\n        } catch (Exception e) {\n            // throwing properly\n            return null;\n        }\n\n    }\n}\n</code></pre>\n<p>The abstract class has (pre)-declared enough Bean for our job. We only need to declare some Operations or Repository to do the job.</p>\n<p>Adapt your esUris, esUsername, esPassword with yours or eliminate them if you're using an unsecure local ES server.</p>\n"}],"owner":{"account_id":8623105,"reputation":3910,"user_id":8744067,"accept_rate":89,"display_name":"Feroz Siddiqui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1690552526,"creation_date":1660623575,"question_id":73368757,"body_markdown":"I have been trying to implement Elastic Search 8.3 with spring boot. \r\n\r\ni am getting the below exception:\r\n\r\n    Cannot convert value of type &#39;co.elastic.clients.elasticsearch.ElasticsearchClient&#39; to required type &#39;org.springframework.data.elasticsearch.core.ElasticsearchOperations&#39;\r\n\r\nBelow is my configuration for elastic search:\r\n\r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\n    import org.elasticsearch.client.RestClient;\r\n    import org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\r\n    \r\n    import co.elastic.clients.elasticsearch.ElasticsearchClient;\r\n    import co.elastic.clients.json.jackson.JacksonJsonpMapper;\r\n    import co.elastic.clients.transport.ElasticsearchTransport;\r\n    import co.elastic.clients.transport.rest_client.RestClientTransport;\r\n    @Configuration\r\n    @EnableElasticsearchRepositories\r\n    public class ElasticConfig {\r\n    \r\n        @Bean\r\n        public RestClient client() {\r\n        \tfinal CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n    \t\tcredentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(&quot;elastic&quot;, &quot;test321&quot;));\r\n    \r\n    \t\tHttpHost host = new HttpHost(&quot;localhost&quot;, 9200);\r\n    \r\n    \t\tRestClient restClient = RestClient.builder(host)\r\n    \t\t\t\t.setHttpClientConfigCallback(new HttpClientConfigCallback() {\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n    \t\t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\thttpClientBuilder.disableAuthCaching();\r\n    \t\t\t\t\t\treturn httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}).build();\r\n    \t\treturn restClient;\r\n        }\r\n    \r\n        @Bean\r\n        public ElasticsearchClient elasticsearchTemplate() {\r\n    \t\tElasticsearchTransport transport = new RestClientTransport(client(), new JacksonJsonpMapper());\r\n            return new ElasticsearchClient(transport);\r\n        } \r\n        \r\n    }\r\n\r\n\r\n\r\nBelow is POM:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;aisha&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;courseapp&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;courseapp&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;guava.version&gt;20.0&lt;/guava.version&gt;\r\n    \t\t&lt;geoip2.version&gt;2.15.0&lt;/geoip2.version&gt;\r\n            &lt;uap-java.version&gt;1.4.0&lt;/uap-java.version&gt;\r\n    \r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${guava.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;geoip2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${geoip2.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.ua-parser&lt;/groupId&gt;\r\n                &lt;artifactId&gt;uap-java&lt;/artifactId&gt;\r\n                &lt;version&gt;${uap-java.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n              &lt;dependency&gt;\r\n          &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n          &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n          &lt;version&gt;8.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n       \r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/com.github.javafaker/javafaker --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nBelow is test class which call simple query for index product :\r\n\r\n\r\n\r\n    @SpringBootTest\r\n    \r\n    public class ElkSpringTest {\r\n    \r\n    \t @Autowired\r\n    \t    private ElasticsearchRestTemplate elasticConfig;\r\n    \t\r\n    \t\r\n    \t\r\n    \t@Test\r\n    \tvoid contextLoads() {\r\n    \t\tSearchResponse&lt;ELKProduct&gt; search;\r\n    \r\n    \t\ttry {\r\n    \t\t\tsearch = elasticConfig.search(s -&gt; s.index(&quot;product&quot;).size(10), ELKProduct.class);\r\n    \t\t\tSystem.out.println(search.hits().total().value());\r\n    \r\n    \t\t\tfor (Hit&lt;ELKProduct&gt; hit : search.hits().hits()) {\r\n    \t\t\t\tSystem.out.println(hit.source().getId());\r\n    \t\t\t}\r\n    \r\n    \t\t\tSystem.out.println(&quot;******ENding *****&quot;);\r\n    \t\t} catch (ElasticsearchException | IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nSince elastic is upgraded to latest version 8.3. I am not able to set up elastic search in spring boot. I usually work with ElasticSearch repository to store the data in my indexs and query it using ElasticsearchOperations.\r\n","title":"Elasticsearch 8.3 configuration in Spring Boot","body":"<p>I have been trying to implement Elastic Search 8.3 with spring boot.</p>\n<p>i am getting the below exception:</p>\n<pre><code>Cannot convert value of type 'co.elastic.clients.elasticsearch.ElasticsearchClient' to required type 'org.springframework.data.elasticsearch.core.ElasticsearchOperations'\n</code></pre>\n<p>Below is my configuration for elastic search:</p>\n<pre><code>import org.apache.http.HttpHost;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\nimport org.elasticsearch.client.RestClient;\nimport org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\n\nimport co.elastic.clients.elasticsearch.ElasticsearchClient;\nimport co.elastic.clients.json.jackson.JacksonJsonpMapper;\nimport co.elastic.clients.transport.ElasticsearchTransport;\nimport co.elastic.clients.transport.rest_client.RestClientTransport;\n@Configuration\n@EnableElasticsearchRepositories\npublic class ElasticConfig {\n\n    @Bean\n    public RestClient client() {\n        final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(&quot;elastic&quot;, &quot;test321&quot;));\n\n        HttpHost host = new HttpHost(&quot;localhost&quot;, 9200);\n\n        RestClient restClient = RestClient.builder(host)\n                .setHttpClientConfigCallback(new HttpClientConfigCallback() {\n\n                    @Override\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n                        // TODO Auto-generated method stub\n                        httpClientBuilder.disableAuthCaching();\n                        return httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\n                    }\n                }).build();\n        return restClient;\n    }\n\n    @Bean\n    public ElasticsearchClient elasticsearchTemplate() {\n        ElasticsearchTransport transport = new RestClientTransport(client(), new JacksonJsonpMapper());\n        return new ElasticsearchClient(transport);\n    } \n    \n}\n</code></pre>\n<p>Below is POM:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;aisha&lt;/groupId&gt;\n    &lt;artifactId&gt;courseapp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;courseapp&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;guava.version&gt;20.0&lt;/guava.version&gt;\n        &lt;geoip2.version&gt;2.15.0&lt;/geoip2.version&gt;\n        &lt;uap-java.version&gt;1.4.0&lt;/uap-java.version&gt;\n\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;${guava.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\n            &lt;artifactId&gt;geoip2&lt;/artifactId&gt;\n            &lt;version&gt;${geoip2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        \n         &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ua-parser&lt;/groupId&gt;\n            &lt;artifactId&gt;uap-java&lt;/artifactId&gt;\n            &lt;version&gt;${uap-java.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n          &lt;dependency&gt;\n      &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n      &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n      &lt;version&gt;8.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n     &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n      &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n   \n\n&lt;!-- https://mvnrepository.com/artifact/com.github.javafaker/javafaker --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n    &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n    &lt;version&gt;1.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Below is test class which call simple query for index product :</p>\n<pre><code>@SpringBootTest\n\npublic class ElkSpringTest {\n\n     @Autowired\n        private ElasticsearchRestTemplate elasticConfig;\n    \n    \n    \n    @Test\n    void contextLoads() {\n        SearchResponse&lt;ELKProduct&gt; search;\n\n        try {\n            search = elasticConfig.search(s -&gt; s.index(&quot;product&quot;).size(10), ELKProduct.class);\n            System.out.println(search.hits().total().value());\n\n            for (Hit&lt;ELKProduct&gt; hit : search.hits().hits()) {\n                System.out.println(hit.source().getId());\n            }\n\n            System.out.println(&quot;******ENding *****&quot;);\n        } catch (ElasticsearchException | IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        \n        \n        \n    }\n}\n</code></pre>\n<p>Since elastic is upgraded to latest version 8.3. I am not able to set up elastic search in spring boot. I usually work with ElasticSearch repository to store the data in my indexs and query it using ElasticsearchOperations.</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688594770,"post_id":76615412,"comment_id":135096323,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690552519,"creation_date":1690552519,"answer_id":76788473,"question_id":76615412,"body_markdown":"Here is how you do it:\r\n```\r\n@Override\r\n    public void onReady(ReadyEvent event) {\r\n        TextChannel textChannel = event.getJDA().getTextChannelById(&quot;1119241996708630598&quot;);\r\n        MessageHistory messageHistory = textChannel.getHistoryFromBeginning(100).complete();\r\n        List&lt;Message&gt; messages = messageHistory.getRetrievedHistory();\r\n\r\n        System.out.println(messages.get(0).getContentRaw());\r\n    }\r\n```\r\n**getHistoryFromBeginning()** must always be completed before doing anything with it, you then have to use **getRetrievedHistory()** and save it to a list ( otherwise it wont work ) and then you can work with it however you like.\r\n","title":"Getting the message contents from specific channel on startup (Discord Bot using IDA)","body":"<p>Here is how you do it:</p>\n<pre><code>@Override\n    public void onReady(ReadyEvent event) {\n        TextChannel textChannel = event.getJDA().getTextChannelById(&quot;1119241996708630598&quot;);\n        MessageHistory messageHistory = textChannel.getHistoryFromBeginning(100).complete();\n        List&lt;Message&gt; messages = messageHistory.getRetrievedHistory();\n\n        System.out.println(messages.get(0).getContentRaw());\n    }\n</code></pre>\n<p><strong>getHistoryFromBeginning()</strong> must always be completed before doing anything with it, you then have to use <strong>getRetrievedHistory()</strong> and save it to a list ( otherwise it wont work ) and then you can work with it however you like.</p>\n"}],"owner":{"account_id":28950835,"reputation":7,"user_id":22175482,"display_name":"ERavn29"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690552519,"creation_date":1688498882,"question_id":76615412,"body_markdown":"I&#39;m trying to make a discord bot that retrieves the message content (as a message variable) from the latest message in a specific channel when i start the bot.\r\n\r\nI&#39;ve tried to research but i cant seem to find exactly how to do it anywhere, I&#39;ve also tried many different things from things i find online, like the .getHistory() method, but nothing seems to give me what i need.","title":"Getting the message contents from specific channel on startup (Discord Bot using IDA)","body":"<p>I'm trying to make a discord bot that retrieves the message content (as a message variable) from the latest message in a specific channel when i start the bot.</p>\n<p>I've tried to research but i cant seem to find exactly how to do it anywhere, I've also tried many different things from things i find online, like the .getHistory() method, but nothing seems to give me what i need.</p>\n"},{"tags":["java","javafx","event-handling","controlsfx","spreadsheetview"],"owner":{"account_id":19257754,"reputation":13,"user_id":14157641,"display_name":"roger_godement"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690552292,"creation_date":1690552292,"question_id":76788439,"body_markdown":"I am working on a project where we use a SpreadSheetView component in the controlsfx library and we display a SearchableComboBox inside a SpreadSheetCell.\r\n\r\nEverything is working well expect when we go from a the previous cell to the next that contains a SearchableComboBox using the tab key and press some keys to search the searchablebox (Which should show an editable TextBox), that doesn&#39;t work unless we mouse click the component which is very time consuming especially when we want to enter multiple data/rows.\r\n\r\n\r\n\r\n\r\nHere are the classes and samples code we use:\r\n\r\n**- The Interface**\r\n\r\n[![enter image description here](https://i.stack.imgur.com/RwFCT.jpg)](https://i.stack.imgur.com/RwFCT.jpg)\r\n\r\n**- Instantiate the SpreadSheet**\r\n\r\n```\r\n\r\nvar sheet = new RowDetailsSpreadSheetView();\r\n\r\n```\r\n\r\n**- Creating a cell with SearchableComboBox **\r\n\r\n```\r\n\r\nvar types = new DetailsType(names);\r\n\r\n            cell = types.createCell(i, 1,\r\n\r\n                    1, 1, &quot;rabe&quot;);\r\n\r\n            \r\n\r\n            randomRow.add(\r\n\r\n                cell\r\n\r\n            );\r\n\r\n```\r\n\r\n**- class DetailsType** \r\n\r\n```\r\n\r\npublic class DetailsType extends SpreadsheetCellType&lt;String&gt; {\r\n\r\n     protected final List&lt;String&gt; items;\r\n\r\n    public DetailsType(final List&lt;String&gt; items) {\r\n\r\n        super(new DefaultStringConverter() {\r\n\r\n            @Override\r\n\r\n            public String fromString(String str) {\r\n\r\n                if (str != null &amp;&amp; items.contains(str)) {\r\n\r\n                    return str;\r\n\r\n                } else {\r\n\r\n                    return null;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n\r\n        this.items = items;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public String toString() {\r\n\r\n        return &quot;list&quot;; //$NON-NLS-1$\r\n\r\n    }\r\n\r\n    \r\n\r\n    public SpreadsheetCell createCell(final int row, final int column, final int rowSpan, final int columnSpan,\r\n\r\n            String value) {\r\n\r\n        SpreadsheetCell cell = new SpreadsheetCellBase(row, column, rowSpan, columnSpan, this);\r\n\r\n        if (items != null &amp;&amp; items.size() &gt; 0) {\r\n\r\n            if (value != null &amp;&amp; items.contains(value)) {\r\n\r\n                cell.setItem(value);\r\n\r\n            } else {\r\n\r\n                cell.setItem(items.get(0));\r\n\r\n            }\r\n\r\n        }\r\n\r\n        return cell;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public SpreadsheetCellEditor createEditor(SpreadsheetView view) {\r\n\r\n        return new ComboboxSphreadSheetEditor&lt;&gt;(view, items);\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public boolean match(Object value, Object... options) {\r\n\r\n        if (value instanceof String &amp;&amp; items.contains(value.toString()))\r\n\r\n            return true;\r\n\r\n        else\r\n\r\n            return items.contains(value == null ? null : value.toString());\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public String convertValue(Object value) {\r\n\r\n        return converter.fromString(value == null ? null : value.toString());\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public String toString(String item) {\r\n\r\n        return converter.toString(item);\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**- Class ComboboxSphreadSheetEditor**\r\n\r\n```\r\n\r\npublic class ComboboxSphreadSheetEditor&lt;R&gt; extends SpreadsheetCellEditor {\r\n\r\n    private final List&lt;String&gt; itemList;\r\n\r\n    private final SearchableComboBox&lt;String&gt; cb;\r\n\r\n    private String originalValue;\r\n\r\n    \r\n\r\n    public ComboboxSphreadSheetEditor(SpreadsheetView view, final List&lt;String&gt; itemList) {\r\n\r\n        super(view);\r\n\r\n        this.itemList = itemList;\r\n\r\n        cb = new SearchableComboBox&lt;&gt;();\r\n\r\n        cb.setVisibleRowCount(5);\r\n\r\n        cb.show();\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public void startEdit(Object value, String format, Object... os) {\r\n\r\n     if (value instanceof String) {\r\n\r\n                originalValue = value.toString();\r\n\r\n        } else {\r\n\r\n            originalValue = null;\r\n\r\n        }\r\n\r\n        ObservableList&lt;String&gt; items = FXCollections.observableList(itemList);\r\n\r\n        cb.setItems(items);\r\n\r\n        cb.setValue(originalValue);\r\n\r\n        \r\n\r\n        cb.getEditor().requestFocus();\r\n\r\n    }\r\n\r\n    \r\n\r\n    @Override\r\n\r\n    public void end() {\r\n\r\n        cb.setOnKeyPressed(null);\r\n\r\n    }\r\n\r\n     @Override\r\n\r\n    public SearchableComboBox&lt;String&gt; getEditor() {\r\n\r\n        return cb;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public String getControlValue() {\r\n\r\n        return cb.getSelectionModel().getSelectedItem();\r\n\r\n }\r\n\r\n}\r\n\r\n```\r\n\r\nAt this point, we think the way to go is to catch some sort of KEY EVENT in the SpreadsheetCell but we are a bit clueless how to do it.\r\n\r\nAlso we think we should catch a KEY EVENT in the SearchableComboBox direclty but we are stuck there also.\r\n\r\nThis seems to be a minor bug but very important for user experience since users are going to enter a lot of data.","title":"How to directly show the TextEditor in SearchableCombobox inside a SpreadSheetView when entering characters?","body":"<p>I am working on a project where we use a SpreadSheetView component in the controlsfx library and we display a SearchableComboBox inside a SpreadSheetCell.</p>\n<p>Everything is working well expect when we go from a the previous cell to the next that contains a SearchableComboBox using the tab key and press some keys to search the searchablebox (Which should show an editable TextBox), that doesn't work unless we mouse click the component which is very time consuming especially when we want to enter multiple data/rows.</p>\n<p>Here are the classes and samples code we use:</p>\n<p><strong>- The Interface</strong></p>\n<p><a href=\"https://i.stack.imgur.com/RwFCT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RwFCT.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>- Instantiate the SpreadSheet</strong></p>\n<pre><code>\nvar sheet = new RowDetailsSpreadSheetView();\n\n</code></pre>\n<p>**- Creating a cell with SearchableComboBox **</p>\n<pre><code>\nvar types = new DetailsType(names);\n\n            cell = types.createCell(i, 1,\n\n                    1, 1, &quot;rabe&quot;);\n\n            \n\n            randomRow.add(\n\n                cell\n\n            );\n\n</code></pre>\n<p><strong>- class DetailsType</strong></p>\n<pre><code>\npublic class DetailsType extends SpreadsheetCellType&lt;String&gt; {\n\n     protected final List&lt;String&gt; items;\n\n    public DetailsType(final List&lt;String&gt; items) {\n\n        super(new DefaultStringConverter() {\n\n            @Override\n\n            public String fromString(String str) {\n\n                if (str != null &amp;&amp; items.contains(str)) {\n\n                    return str;\n\n                } else {\n\n                    return null;\n\n                }\n\n            }\n\n        });\n\n        this.items = items;\n\n    }\n\n    @Override\n\n    public String toString() {\n\n        return &quot;list&quot;; //$NON-NLS-1$\n\n    }\n\n    \n\n    public SpreadsheetCell createCell(final int row, final int column, final int rowSpan, final int columnSpan,\n\n            String value) {\n\n        SpreadsheetCell cell = new SpreadsheetCellBase(row, column, rowSpan, columnSpan, this);\n\n        if (items != null &amp;&amp; items.size() &gt; 0) {\n\n            if (value != null &amp;&amp; items.contains(value)) {\n\n                cell.setItem(value);\n\n            } else {\n\n                cell.setItem(items.get(0));\n\n            }\n\n        }\n\n        return cell;\n\n    }\n\n    @Override\n\n    public SpreadsheetCellEditor createEditor(SpreadsheetView view) {\n\n        return new ComboboxSphreadSheetEditor&lt;&gt;(view, items);\n\n    }\n\n    @Override\n\n    public boolean match(Object value, Object... options) {\n\n        if (value instanceof String &amp;&amp; items.contains(value.toString()))\n\n            return true;\n\n        else\n\n            return items.contains(value == null ? null : value.toString());\n\n    }\n\n    @Override\n\n    public String convertValue(Object value) {\n\n        return converter.fromString(value == null ? null : value.toString());\n\n    }\n\n    @Override\n\n    public String toString(String item) {\n\n        return converter.toString(item);\n\n    }\n\n}\n\n</code></pre>\n<p><strong>- Class ComboboxSphreadSheetEditor</strong></p>\n<pre><code>\npublic class ComboboxSphreadSheetEditor&lt;R&gt; extends SpreadsheetCellEditor {\n\n    private final List&lt;String&gt; itemList;\n\n    private final SearchableComboBox&lt;String&gt; cb;\n\n    private String originalValue;\n\n    \n\n    public ComboboxSphreadSheetEditor(SpreadsheetView view, final List&lt;String&gt; itemList) {\n\n        super(view);\n\n        this.itemList = itemList;\n\n        cb = new SearchableComboBox&lt;&gt;();\n\n        cb.setVisibleRowCount(5);\n\n        cb.show();\n\n    }\n\n    @Override\n\n    public void startEdit(Object value, String format, Object... os) {\n\n     if (value instanceof String) {\n\n                originalValue = value.toString();\n\n        } else {\n\n            originalValue = null;\n\n        }\n\n        ObservableList&lt;String&gt; items = FXCollections.observableList(itemList);\n\n        cb.setItems(items);\n\n        cb.setValue(originalValue);\n\n        \n\n        cb.getEditor().requestFocus();\n\n    }\n\n    \n\n    @Override\n\n    public void end() {\n\n        cb.setOnKeyPressed(null);\n\n    }\n\n     @Override\n\n    public SearchableComboBox&lt;String&gt; getEditor() {\n\n        return cb;\n\n    }\n\n    @Override\n\n    public String getControlValue() {\n\n        return cb.getSelectionModel().getSelectedItem();\n\n }\n\n}\n\n</code></pre>\n<p>At this point, we think the way to go is to catch some sort of KEY EVENT in the SpreadsheetCell but we are a bit clueless how to do it.</p>\n<p>Also we think we should catch a KEY EVENT in the SearchableComboBox direclty but we are stuck there also.</p>\n<p>This seems to be a minor bug but very important for user experience since users are going to enter a lot of data.</p>\n"},{"tags":["java","multithreading","executorservice","threadgroup"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687537936,"post_id":76541414,"comment_id":134956094,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687540790,"creation_date":1687540381,"answer_id":76542240,"question_id":76541414,"body_markdown":"&gt; I have to make sure that only one thread should act on a bankAccountId at a time\r\n\r\nThe obvious way to do that would be to have threads `synchronized` on some lock object that is associated with an account whenever they are doing something to the account that should only be allowed by one thread at a time.\r\n\r\n&gt; I tried using semaphore...\r\n\r\nThat&#39;s classic. You don&#39;t often see `Semaphore` used for mutual exclusion today—we normally use something called &quot;mutex&quot; or [`Lock`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Lock.html)—but once upon a time, it was quite common. Typically one would use a _binary_ semaphore for that purpose. That is, a `Semaphore` whose [`availablePermits`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html#availablePermits()) is only ever allowed to be `1` or `0`.\r\n\r\n**Q:** You say you &quot;tried.&quot; Perhaps you could update your answer to say what happened when you tried, and why it wasn&#39;t satisfactory.\r\n\r\n---------------\r\n\r\nThe rest of this probably won&#39;t help you solve your problem, but since you asked...\r\n\r\n&gt; ...and thread group\r\n\r\nIt&#39;s unclear to me how [`ThreadGroup`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html) would be of any help. `ThreadGroup` has a lot of deprecated methods these days. Probably the most useful of the methods that are left is the one that allows your program to [`interrupt`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html#interrupt()) all of the threads in the group with a single method call.\r\n\r\n&gt; there doesn’t seems to be a direct way of assigning thread groups to executor service\r\n\r\nA `ThreadPoolExecutor` uses a [`ThreadFactory`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadFactory.html) to create its worker threads, and you can provide your own `ThreadFactory` instance when you [construct the executor](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html#%3Cinit%3E(int,int,long,java.util.concurrent.TimeUnit,java.util.concurrent.BlockingQueue,java.util.concurrent.ThreadFactory)). Your thread factory can assign the new threads to whatever `ThreadGroup`, set their priorities, or do whatever else you want to do to them before it hands them over to the executor service.","title":"How to group threads to be run by each executor thread","body":"<blockquote>\n<p>I have to make sure that only one thread should act on a bankAccountId at a time</p>\n</blockquote>\n<p>The obvious way to do that would be to have threads <code>synchronized</code> on some lock object that is associated with an account whenever they are doing something to the account that should only be allowed by one thread at a time.</p>\n<blockquote>\n<p>I tried using semaphore...</p>\n</blockquote>\n<p>That's classic. You don't often see <code>Semaphore</code> used for mutual exclusion today—we normally use something called &quot;mutex&quot; or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\"><code>Lock</code></a>—but once upon a time, it was quite common. Typically one would use a <em>binary</em> semaphore for that purpose. That is, a <code>Semaphore</code> whose <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html#availablePermits()\" rel=\"nofollow noreferrer\"><code>availablePermits</code></a> is only ever allowed to be <code>1</code> or <code>0</code>.</p>\n<p><strong>Q:</strong> You say you &quot;tried.&quot; Perhaps you could update your answer to say what happened when you tried, and why it wasn't satisfactory.</p>\n<hr />\n<p>The rest of this probably won't help you solve your problem, but since you asked...</p>\n<blockquote>\n<p>...and thread group</p>\n</blockquote>\n<p>It's unclear to me how <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html\" rel=\"nofollow noreferrer\"><code>ThreadGroup</code></a> would be of any help. <code>ThreadGroup</code> has a lot of deprecated methods these days. Probably the most useful of the methods that are left is the one that allows your program to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html#interrupt()\" rel=\"nofollow noreferrer\"><code>interrupt</code></a> all of the threads in the group with a single method call.</p>\n<blockquote>\n<p>there doesn’t seems to be a direct way of assigning thread groups to executor service</p>\n</blockquote>\n<p>A <code>ThreadPoolExecutor</code> uses a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadFactory.html\" rel=\"nofollow noreferrer\"><code>ThreadFactory</code></a> to create its worker threads, and you can provide your own <code>ThreadFactory</code> instance when you <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html#%3Cinit%3E(int,int,long,java.util.concurrent.TimeUnit,java.util.concurrent.BlockingQueue,java.util.concurrent.ThreadFactory)\" rel=\"nofollow noreferrer\">construct the executor</a>. Your thread factory can assign the new threads to whatever <code>ThreadGroup</code>, set their priorities, or do whatever else you want to do to them before it hands them over to the executor service.</p>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690552134,"creation_date":1690552134,"answer_id":76788416,"question_id":76541414,"body_markdown":"The scenario seems similar as mentioned in [other question](https://stackoverflow.com/questions/76631561/allowing-a-single-thread-to-use-a-long-value/76737843#76737843)\r\n\r\nMultiple threads can work in parallel without stepping on other thread’s bankAccountId","title":"How to group threads to be run by each executor thread","body":"<p>The scenario seems similar as mentioned in <a href=\"https://stackoverflow.com/questions/76631561/allowing-a-single-thread-to-use-a-long-value/76737843#76737843\">other question</a></p>\n<p>Multiple threads can work in parallel without stepping on other thread’s bankAccountId</p>\n"}],"owner":{"account_id":27713255,"reputation":3,"user_id":21155493,"display_name":"ARIJIT SAHA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690552134,"creation_date":1687533182,"question_id":76541414,"body_markdown":"I have a requirement in Java where let’s say I have multiple bankAccountId’s and there could be multiple threads working on each bankAccountId at a time. I have to make sure that only one thread should act on a bankAccountId at a time but at the same time other threads can work on different bankAccountId. I am currently using executor service to run a fixed amount of thread pool.\r\n\r\nI tried using semaphore and thread group but there doesn’t seems to be a direct way of assigning thread groups to executor service ","title":"How to group threads to be run by each executor thread","body":"<p>I have a requirement in Java where let’s say I have multiple bankAccountId’s and there could be multiple threads working on each bankAccountId at a time. I have to make sure that only one thread should act on a bankAccountId at a time but at the same time other threads can work on different bankAccountId. I am currently using executor service to run a fixed amount of thread pool.</p>\n<p>I tried using semaphore and thread group but there doesn’t seems to be a direct way of assigning thread groups to executor service</p>\n"},{"tags":["java","docker","apache-kafka","apache-kafka-connect","logback"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690551965,"creation_date":1690204853,"answer_id":76754926,"question_id":76751319,"body_markdown":"Kafka uses reload4j now, rather than log4j 1.x explicitly. There are classes and configuration scripts that have that hard coded, so simply replacing logging libraries isn&#39;t as simple as swapping jars out.\r\n\r\nIn the image that I maintain, I use log4j2 https://github.com/OneCricketeer/apache-kafka-connect-docker\r\n\r\n&gt; hoping to use logstash-logback-encoder for formatting log messages.\r\n\r\nReload4j PatternLayout can format messages too ","title":"Replace Log4j with Logback in Kafka Connect","body":"<p>Kafka uses reload4j now, rather than log4j 1.x explicitly. There are classes and configuration scripts that have that hard coded, so simply replacing logging libraries isn't as simple as swapping jars out.</p>\n<p>In the image that I maintain, I use log4j2 <a href=\"https://github.com/OneCricketeer/apache-kafka-connect-docker\" rel=\"nofollow noreferrer\">https://github.com/OneCricketeer/apache-kafka-connect-docker</a></p>\n<blockquote>\n<p>hoping to use logstash-logback-encoder for formatting log messages.</p>\n</blockquote>\n<p>Reload4j PatternLayout can format messages too</p>\n"}],"owner":{"account_id":911208,"reputation":7563,"user_id":945034,"accept_rate":57,"display_name":"Kumar Sambhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690551965,"creation_date":1690170970,"question_id":76751319,"body_markdown":"I am currently using [confluentinc/cp-server-connect][1] as ase Docker image for my Kafka Connect Worker nodes. I want to substitute Log4j 1.x with Logback. Reason - [KIP-653][2] not available yet and also I am hoping to use `logstash-logback-encoder` for formatting log messages.\r\n\r\n**Problem** : How to do it ? What changes in mentioned base image should be required if it&#39;s possible at all.\r\n\r\n\r\n  [1]: https://hub.docker.com/r/confluentinc/cp-server-connect/tags\r\n  [2]: https://cwiki.apache.org/confluence/display/KAFKA/KIP-653%3A+Upgrade+log4j+to+log4j2","title":"Replace Log4j with Logback in Kafka Connect","body":"<p>I am currently using <a href=\"https://hub.docker.com/r/confluentinc/cp-server-connect/tags\" rel=\"nofollow noreferrer\">confluentinc/cp-server-connect</a> as ase Docker image for my Kafka Connect Worker nodes. I want to substitute Log4j 1.x with Logback. Reason - <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-653%3A+Upgrade+log4j+to+log4j2\" rel=\"nofollow noreferrer\">KIP-653</a> not available yet and also I am hoping to use <code>logstash-logback-encoder</code> for formatting log messages.</p>\n<p><strong>Problem</strong> : How to do it ? What changes in mentioned base image should be required if it's possible at all.</p>\n"},{"tags":["java","csv","file","parsing","ioexception"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639479798,"post_id":70347745,"comment_id":124353573,"body_markdown":"Have a look at the offending line and fix it?","body":"Have a look at the offending line and fix it?"},{"owner":{"account_id":5163047,"reputation":189,"user_id":4134048,"display_name":"Aref Khandan"},"score":0,"creation_date":1639480004,"post_id":70347745,"comment_id":124353649,"body_markdown":"you need to clean and validate your data before parsing.","body":"you need to clean and validate your data before parsing."},{"owner":{"account_id":22111393,"reputation":45,"user_id":16366214,"display_name":"Tony Agosta"},"score":0,"creation_date":1639480094,"post_id":70347745,"comment_id":124353686,"body_markdown":"@tgdavies I Can&#39;t modify the file","body":"@tgdavies I Can&#39;t modify the file"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639480203,"post_id":70347745,"comment_id":124353735,"body_markdown":"At least look at that line and understand why the field is unterminated. Is it something unusual in the way quotes are escaped?","body":"At least look at that line and understand why the field is unterminated. Is it something unusual in the way quotes are escaped?"},{"owner":{"account_id":22111393,"reputation":45,"user_id":16366214,"display_name":"Tony Agosta"},"score":0,"creation_date":1639480496,"post_id":70347745,"comment_id":124353838,"body_markdown":"there&#39;s a field like this &quot; something ; something&quot;.","body":"there&#39;s a field like this &quot; something ; something&quot;."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639480891,"post_id":70347745,"comment_id":124353970,"body_markdown":"Which CSV parser are you using, and how is it configured? What&#39;s the text of the entire line?","body":"Which CSV parser are you using, and how is it configured? What&#39;s the text of the entire line?"},{"owner":{"account_id":22111393,"reputation":45,"user_id":16366214,"display_name":"Tony Agosta"},"score":0,"creation_date":1639481216,"post_id":70347745,"comment_id":124354069,"body_markdown":"I&#39;m using com.opencsv.CSVParser and and have not set any configuration. I suppose there are default configurations.","body":"I&#39;m using com.opencsv.CSVParser and and have not set any configuration. I suppose there are default configurations."}],"answers":[{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690551908,"creation_date":1639484634,"answer_id":70348835,"question_id":70347745,"body_markdown":"CSV is IMHO the most worst data storage format ever but widely used. And there is defnitly NO standard nor common unterstanding ...\r\n\r\nFirst, analyze your input file and find out what structure is used:\r\nComa, semicolon, e.t.c as field delimiter. Quoted fields, quoting character, e.t.c.\r\n\r\nSecond, make sure that there are NO format violations like unquoted filed contains a separation character as literal character or unescaped quoting characters in a field. Especially try to find that line(s) that violate the structure.\r\n\r\nThird set the correct options to the CSV parser. \r\n\r\nIf you have format violations in the file you eigther can try to improve production / export of the file to produce a valid CSV format (if you know the producer and have access to him) or preprocess it with a tool which is able to detect and correct format violations (some kind of a magic crystal ball). ","title":"Unterminated quoted field at end of CSV line. Beginning of lost text","body":"<p>CSV is IMHO the most worst data storage format ever but widely used. And there is defnitly NO standard nor common unterstanding ...</p>\n<p>First, analyze your input file and find out what structure is used:\nComa, semicolon, e.t.c as field delimiter. Quoted fields, quoting character, e.t.c.</p>\n<p>Second, make sure that there are NO format violations like unquoted filed contains a separation character as literal character or unescaped quoting characters in a field. Especially try to find that line(s) that violate the structure.</p>\n<p>Third set the correct options to the CSV parser.</p>\n<p>If you have format violations in the file you eigther can try to improve production / export of the file to produce a valid CSV format (if you know the producer and have access to him) or preprocess it with a tool which is able to detect and correct format violations (some kind of a magic crystal ball).</p>\n"}],"owner":{"account_id":22111393,"reputation":45,"user_id":16366214,"display_name":"Tony Agosta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1823,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690551908,"creation_date":1639479506,"question_id":70347745,"body_markdown":"I&#39;m trying to parse a CSV file with CSV Reader. the file is very large and I cannot modify it in any way, as I am not the one who created it.\r\n```\r\nFileReader fileReader = new FileReader(nameFile);\r\n   CSVParser csvParser = getCSVParser();\r\n   CSVReader csvReader = getCSVReader(fileReader, csvParser);\r\n   if (csvReader != null) {\r\n      List&lt;String[]&gt; allData = csvReader.readAll();\r\n              ...\r\n   }\r\n```\r\n```csvReader.readALL()``` throws the IOException:Unterminated quoted field at end of CSV line. Beginning of lost text:...\r\nHow I can solve it?","title":"Unterminated quoted field at end of CSV line. Beginning of lost text","body":"<p>I'm trying to parse a CSV file with CSV Reader. the file is very large and I cannot modify it in any way, as I am not the one who created it.</p>\n<pre><code>FileReader fileReader = new FileReader(nameFile);\n   CSVParser csvParser = getCSVParser();\n   CSVReader csvReader = getCSVReader(fileReader, csvParser);\n   if (csvReader != null) {\n      List&lt;String[]&gt; allData = csvReader.readAll();\n              ...\n   }\n</code></pre>\n<p><code>csvReader.readALL()</code> throws the IOException:Unterminated quoted field at end of CSV line. Beginning of lost text:...\nHow I can solve it?</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":3583737,"reputation":186,"user_id":8058386,"display_name":"Vincent"},"score":0,"creation_date":1692459914,"post_id":76788312,"comment_id":135627635,"body_markdown":"I can&#39;t reproduce the problem given the `build.gradle` file you provided. Moreover, I did not manage to have task `assembleFrontend` be executed with command `gradle build` since the plugin has not been configured in the build script (`frontend` block is missing and `assembleScript` property is not defined).\n\nCan you provide a minimal project to help reproducing the problem?","body":"I can&#39;t reproduce the problem given the <code>build.gradle</code> file you provided. Moreover, I did not manage to have task <code>assembleFrontend</code> be executed with command <code>gradle build</code> since the plugin has not been configured in the build script (<code>frontend</code> block is missing and <code>assembleScript</code> property is not defined).  Can you provide a minimal project to help reproducing the problem?"}],"owner":{"account_id":9720194,"reputation":135,"user_id":7209175,"accept_rate":75,"display_name":"SimonA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690551258,"creation_date":1690551258,"question_id":76788312,"body_markdown":"I&#39;m trying to use `frontend-gradle-plugin` to package up my React frontend project to use with Springboot. I cannot seem to get the dependency to download from the repo, and it&#39;s causing a missing file exception due to it not existing.\r\n\r\nHere is my `build.gradle`\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.1&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n\t// For JDK 17+\r\n\tid &#39;org.siouan.frontend-jdk17&#39; version &#39;7.0.0&#39;\r\n}\r\n\r\ngroup = &#39;uk.co.&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n\tsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\truntimeOnly &#39;com.h2database:h2&#39;\r\n\timplementation &#39;org.postgresql:postgresql&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\r\n\t// https://mvnrepository.com/artifact/org.thymeleaf/thymeleaf\r\n//\timplementation group: &#39;org.thymeleaf&#39;, name: &#39;thymeleaf&#39;, version: &#39;2.0.5&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\nException;\r\n    \r\n\r\n    $ gradle build\r\n    \r\n    &gt; Configure project :\r\n    in build.gradle\r\n    In frontend build.gradle code block\r\n    \r\n    &gt; Task :assembleFrontend FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:assembleFrontend&#39;.\r\n    &gt; Failed to query the value of task &#39;:assembleFrontend&#39; property &#39;executableType&#39;.\r\n       &gt; java.nio.file.NoSuchFileException: /home/****/IdeaProjects/StarTrekSpellingWebApp/star-trek-spelling-game/.frontend-gradle-plugin/resolvePackageManager/package-manager-specification.txt\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 6s\r\n    2\r\n\r\n    actionable tasks: 1 executed, 1 up-to-date\r\n\r\n\r\nI&#39;ve tried using a `buildscript` block in `build.gradle` but every repository I use could not be found\r\n\r\n```gradle\r\nbuildscript {\r\n\trepositories {\r\n\t\tmaven {\r\n\t\t\turl &#39;https://plugins.gradle.org/m2/&#39;\r\n\t\t\tname &#39;Gradle&#39;\r\n\t\t}\r\n\r\n//\t\tmaven {\r\n//\t\t\turl &#39;https://maven.google.com/&#39;\r\n//\t\t\tname &#39;Google&#39;\r\n//\t\t}\r\n//\t\tgoogle()\r\n//\t\tjcenter()\r\n\t}\r\n\tdependencies {\r\n\t\t// For JDK 17+\r\n//\t\tclasspath &#39;org.siouan:frontend-gradle-plugin-jdk17:7.0.0&#39;\r\n\t\t// For JDK 11+\r\n\t\tclasspath &#39;org.siouan:frontend-gradle-plugin-jdk11:7.0.0&#39;\r\n\t}\r\n}\r\n```\r\nException;\r\n\r\n    A problem occurred configuring root project &#39;star-trek-spelling-game&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n       &gt; Could not find org.siouan:frontend-gradle-plugin-jdk11:7.0.0.\r\n         Searched in the following locations:\r\n           - https://plugins.gradle.org/m2/org/siouan/frontend-gradle-plugin-jdk11/7.0.0/frontend-gradle-plugin-jdk11-7.0.0.pom\r\n         If the artifact you are trying to retrieve can be found in the repository but without metadata in &#39;Maven POM&#39; format, you need to adjust the &#39;metadataSources { ... }&#39; of the repository declaration.\r\n         Required by:\r\n             project :","title":"Building project with Gradle results in NoSuchFileException as hidden folder is missing from declared plugin &#39;org.siouan.frontend-jdk17&#39;","body":"<p>I'm trying to use <code>frontend-gradle-plugin</code> to package up my React frontend project to use with Springboot. I cannot seem to get the dependency to download from the repo, and it's causing a missing file exception due to it not existing.</p>\n<p>Here is my <code>build.gradle</code></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.1'\n    id 'io.spring.dependency-management' version '1.1.0'\n    // For JDK 17+\n    id 'org.siouan.frontend-jdk17' version '7.0.0'\n}\n\ngroup = 'uk.co.'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.h2database:h2'\n    implementation 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n\n    // https://mvnrepository.com/artifact/org.thymeleaf/thymeleaf\n//  implementation group: 'org.thymeleaf', name: 'thymeleaf', version: '2.0.5'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Exception;</p>\n<pre><code>$ gradle build\n\n&gt; Configure project :\nin build.gradle\nIn frontend build.gradle code block\n\n&gt; Task :assembleFrontend FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':assembleFrontend'.\n&gt; Failed to query the value of task ':assembleFrontend' property 'executableType'.\n   &gt; java.nio.file.NoSuchFileException: /home/****/IdeaProjects/StarTrekSpellingWebApp/star-trek-spelling-game/.frontend-gradle-plugin/resolvePackageManager/package-manager-specification.txt\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\n2\n\nactionable tasks: 1 executed, 1 up-to-date\n</code></pre>\n<p>I've tried using a <code>buildscript</code> block in <code>build.gradle</code> but every repository I use could not be found</p>\n<pre><code>buildscript {\n    repositories {\n        maven {\n            url 'https://plugins.gradle.org/m2/'\n            name 'Gradle'\n        }\n\n//      maven {\n//          url 'https://maven.google.com/'\n//          name 'Google'\n//      }\n//      google()\n//      jcenter()\n    }\n    dependencies {\n        // For JDK 17+\n//      classpath 'org.siouan:frontend-gradle-plugin-jdk17:7.0.0'\n        // For JDK 11+\n        classpath 'org.siouan:frontend-gradle-plugin-jdk11:7.0.0'\n    }\n}\n</code></pre>\n<p>Exception;</p>\n<pre><code>A problem occurred configuring root project 'star-trek-spelling-game'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not find org.siouan:frontend-gradle-plugin-jdk11:7.0.0.\n     Searched in the following locations:\n       - https://plugins.gradle.org/m2/org/siouan/frontend-gradle-plugin-jdk11/7.0.0/frontend-gradle-plugin-jdk11-7.0.0.pom\n     If the artifact you are trying to retrieve can be found in the repository but without metadata in 'Maven POM' format, you need to adjust the 'metadataSources { ... }' of the repository declaration.\n     Required by:\n         project :\n</code></pre>\n"},{"tags":["java","binary","hex"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690543626,"post_id":76787347,"comment_id":135372142,"body_markdown":"There&#39;s info missing. For instance, the *type* of &quot;number&quot; makes a difference. Is it `byte` or `int` or what? Missing context. What are you trying to do?","body":"There&#39;s info missing. For instance, the <i>type</i> of &quot;number&quot; makes a difference. Is it <code>byte</code> or <code>int</code> or what? Missing context. What are you trying to do?"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690543846,"post_id":76787347,"comment_id":135372186,"body_markdown":"I&#39;m trying to figure out what is the most significant bit of a particular number represented in hexadecimal number system.\n\nSuppose the type is `int`, although I don&#39;t see how it&#39;s important.","body":"I&#39;m trying to figure out what is the most significant bit of a particular number represented in hexadecimal number system.  Suppose the type is <code>int</code>, although I don&#39;t see how it&#39;s important."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690544198,"post_id":76787347,"comment_id":135372240,"body_markdown":"Let&#39;s take `byte` to keep it simple. Anything &gt;= hex value `0x80` will have the most significant bit set. And that will make the `byte`&#39;s value negative. So if you take say `0x7F`, you will know it&#39;s *not* set","body":"Let&#39;s take <code>byte</code> to keep it simple. Anything &gt;= hex value <code>0x80</code> will have the most significant bit set. And that will make the <code>byte</code>&#39;s value negative. So if you take say <code>0x7F</code>, you will know it&#39;s <i>not</i> set"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690544829,"post_id":76787347,"comment_id":135372342,"body_markdown":"Well, I still don&#39;t understand what you want but it sounds like a masking exercise. Please show some input examples and expected output.","body":"Well, I still don&#39;t understand what you want but it sounds like a masking exercise. Please show some input examples and expected output."},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690545000,"post_id":76787347,"comment_id":135372373,"body_markdown":"OK, so I should look at hex representation of type&#39;s maxvalue and then reduce it by one. I think I got it.\n\nThanks, g00se.","body":"OK, so I should look at hex representation of type&#39;s maxvalue and then reduce it by one. I think I got it.  Thanks, g00se."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690545168,"post_id":76787347,"comment_id":135372402,"body_markdown":"Not *quite*. Since all types are signed apart from `char`, the max value doesn&#39;t have the bit set. If you want it unset then it&#39;s &lt;= MAX_VALUE. But all values &lt; 0 *also* have the most sig. bit set","body":"Not <i>quite</i>. Since all types are signed apart from <code>char</code>, the max value doesn&#39;t have the bit set. If you want it unset then it&#39;s &lt;= MAX_VALUE. But all values &lt; 0 <i>also</i> have the most sig. bit set"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690546931,"post_id":76787347,"comment_id":135372720,"body_markdown":"Yeah, I know, of course, that absolute MSB is set for all negative numbers. But I think the book meant the bit next-to-the-right of absolute MSB.","body":"Yeah, I know, of course, that absolute MSB is set for all negative numbers. But I think the book meant the bit next-to-the-right of absolute MSB."},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690547194,"post_id":76787347,"comment_id":135372782,"body_markdown":"&quot;the max value doesn&#39;t have the bit set&quot;\n\n\nWait, let&#39;s take your 0x7F as byte&#39;s maxvalue. It&#39;s clear that its MSB will be 1, because max value &quot;fills&quot; all bits apart from sign bits with ones.\n\nFor `int` it&#39;s the same: binary representation of 2147483647 is 1111111111111111111111111111111. So MSB is also 1.\n\nAnyways, isn&#39;t maxvalue of all integer types all ones?\n\n@g00se @user16320675","body":"&quot;the max value doesn&#39;t have the bit set&quot;   Wait, let&#39;s take your 0x7F as byte&#39;s maxvalue. It&#39;s clear that its MSB will be 1, because max value &quot;fills&quot; all bits apart from sign bits with ones.  For <code>int</code> it&#39;s the same: binary representation of 2147483647 is 1111111111111111111111111111111. So MSB is also 1.  Anyways, isn&#39;t maxvalue of all integer types all ones?  @g00se @user16320675"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690549292,"post_id":76787347,"comment_id":135373211,"body_markdown":"I don&#39;t know what the book means but using the term &quot;most significant bit&quot; in an alternative way would be inclined to confuse","body":"I don&#39;t know what the book means but using the term &quot;most significant bit&quot; in an alternative way would be inclined to confuse"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690550447,"post_id":76787347,"comment_id":135373461,"body_markdown":"OK, so post a response so I can choose your reply as the best and close the question. @g00se","body":"OK, so post a response so I can choose your reply as the best and close the question. @g00se"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690641324,"post_id":76787347,"comment_id":135383489,"body_markdown":"Well, under MSB I don&#39;t mean sign bit, which is obviously zero for all positive integer numbers. And that is 1 for all negative numbers. That&#39;s always clear.\n\nI mean the-next-to-MSB bit...\n\n@user16320675","body":"Well, under MSB I don&#39;t mean sign bit, which is obviously zero for all positive integer numbers. And that is 1 for all negative numbers. That&#39;s always clear.  I mean the-next-to-MSB bit...  @user16320675"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690641755,"post_id":76787347,"comment_id":135383535,"body_markdown":"@user16320675 Yeah, I&#39;m sorry, but it&#39;s just clear for me that the bit mentioned in the book is next-to-the-right-from-MSB. :)","body":"@user16320675 Yeah, I&#39;m sorry, but it&#39;s just clear for me that the bit mentioned in the book is next-to-the-right-from-MSB. :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690656345,"post_id":76787347,"comment_id":135385088,"body_markdown":"No, if it&#39;s Exercise 11, Eckel *literally* means the MSB. For fun, try it with `Integer.MIN_VALUE`","body":"No, if it&#39;s Exercise 11, Eckel <i>literally</i> means the MSB. For fun, try it with <code>Integer.MIN_VALUE</code>"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690877354,"post_id":76787347,"comment_id":135410654,"body_markdown":"@g00se Then why he says like &quot;FIND a number whose MSB is 1&quot;??? It&#39;s clear that it&#39;s just any negative number. And you don&#39;t need hex constants for this.","body":"@g00se Then why he says like &quot;FIND a number whose MSB is 1&quot;??? It&#39;s clear that it&#39;s just any negative number. And you don&#39;t need hex constants for this."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690879781,"post_id":76787347,"comment_id":135411191,"body_markdown":"&quot;Find&quot; would essentially mean &quot;pick&quot; or &quot;choose&quot;. I haven&#39;t read on (I just had a quick look) but he will probably discuss the difference between `&gt;&gt;` and `&gt;&gt;&gt;`. For fun, check the output of `Integer.MIN_VALUE &gt;&gt; 1` and its almost comical difference between `Integer.MIN_VALUE &gt;&gt;&gt; 1`","body":"&quot;Find&quot; would essentially mean &quot;pick&quot; or &quot;choose&quot;. I haven&#39;t read on (I just had a quick look) but he will probably discuss the difference between <code>&gt;&gt;</code> and <code>&gt;&gt;&gt;</code>. For fun, check the output of <code>Integer.MIN_VALUE &gt;&gt; 1</code> and its almost comical difference between <code>Integer.MIN_VALUE &gt;&gt;&gt; 1</code>"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690923506,"post_id":76787347,"comment_id":135419996,"body_markdown":"@g00se\n\nI&#39;m sorry, I haven&#39;t ran Eclipse, but it seems to me that `Integer.MIN_VALUE &gt;&gt; 1` will change nothing while `Integer.MIN_VALUE &gt;&gt;&gt; 1` will make minimum negative integer maximum positive integer...","body":"@g00se  I&#39;m sorry, I haven&#39;t ran Eclipse, but it seems to me that <code>Integer.MIN_VALUE &gt;&gt; 1</code> will change nothing while <code>Integer.MIN_VALUE &gt;&gt;&gt; 1</code> will make minimum negative integer maximum positive integer..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690923650,"post_id":76787347,"comment_id":135420030,"body_markdown":"Well if that&#39;s what you think, you&#39;d better find out if you&#39;re right ;)","body":"Well if that&#39;s what you think, you&#39;d better find out if you&#39;re right ;)"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1691040226,"post_id":76787347,"comment_id":135437431,"body_markdown":"@g00se On, now I checked. I thought `Integer.MIN_VALUE` is `1111111111111111111111111111111`, but it&#39;s actually `10000000000000000000000000000000`\n\nLol.","body":"@g00se On, now I checked. I thought <code>Integer.MIN_VALUE</code> is <code>1111111111111111111111111111111</code>, but it&#39;s actually <code>10000000000000000000000000000000</code>  Lol."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690551046,"creation_date":1690551046,"answer_id":76788284,"question_id":76787347,"body_markdown":"For integral types, you will know the most significant bit is set when:\r\n1. The number is negative\r\n2. The number exceeds the `MAX_VALUE` attribute of the object wrapper class of your primitive type\r\n\r\nFor the purposes of the above, I exclude `char` since its function is not normally one of manipulating numbers in a normal way","title":"Determining bits of non-binary represented numbers","body":"<p>For integral types, you will know the most significant bit is set when:</p>\n<ol>\n<li>The number is negative</li>\n<li>The number exceeds the <code>MAX_VALUE</code> attribute of the object wrapper class of your primitive type</li>\n</ol>\n<p>For the purposes of the above, I exclude <code>char</code> since its function is not normally one of manipulating numbers in a normal way</p>\n"}],"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76788284,"answer_count":1,"score":-3,"last_activity_date":1690551046,"creation_date":1690543396,"question_id":76787347,"body_markdown":"I&#39;m reading &quot;Thinking in Java&quot;, and there I read:\r\n\r\n&quot;Start with a number that has a binary one in the most significant position (hint: Use a hexadecimal constant).&quot;\r\n\r\nHow can I know (without Google and without trying to represent some hex constants in binary system) which hexadecimal constant have which bits? Either it&#39;s most significant or some other bits.\r\n\r\nThe book assumes that for this exercise I should try out hex constants before I find one whose most significant bit is 1?\r\n\r\nOr there is some shortcut?\r\n\r\nI tried to think of a shortcut/way of knowing how to figure out what value has most significant bit of a hex constant...","title":"Determining bits of non-binary represented numbers","body":"<p>I'm reading &quot;Thinking in Java&quot;, and there I read:</p>\n<p>&quot;Start with a number that has a binary one in the most significant position (hint: Use a hexadecimal constant).&quot;</p>\n<p>How can I know (without Google and without trying to represent some hex constants in binary system) which hexadecimal constant have which bits? Either it's most significant or some other bits.</p>\n<p>The book assumes that for this exercise I should try out hex constants before I find one whose most significant bit is 1?</p>\n<p>Or there is some shortcut?</p>\n<p>I tried to think of a shortcut/way of knowing how to figure out what value has most significant bit of a hex constant...</p>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690550711,"creation_date":1690550711,"answer_id":76788241,"question_id":76788171,"body_markdown":"You don&#39;t need to do anything special, just make sure that your `${userAge}` variable exists and has its respective value, you can do it using [Debug Sampler and View Results Tree listener combination][1]. \r\n\r\nYou also need to add a comma after `name` attribute otherwise your [JSON will not be valid][2]. \r\n\r\n\t{\r\n\t  &quot;name&quot;: &quot;${userName}&quot;,\r\n\t  &quot;age&quot;: ${userAge}\r\n\t}\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.blazemeter.com/blog/debug-jmeter\r\n  [2]: https://jsonlint.com/\r\n  [3]: https://i.stack.imgur.com/fzopN.gif","title":"JMeter using numeric variable in JSON request body","body":"<p>You don't need to do anything special, just make sure that your <code>${userAge}</code> variable exists and has its respective value, you can do it using <a href=\"https://www.blazemeter.com/blog/debug-jmeter\" rel=\"nofollow noreferrer\">Debug Sampler and View Results Tree listener combination</a>.</p>\n<p>You also need to add a comma after <code>name</code> attribute otherwise your <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">JSON will not be valid</a>.</p>\n<pre><code>{\n  &quot;name&quot;: &quot;${userName}&quot;,\n  &quot;age&quot;: ${userAge}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fzopN.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fzopN.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":254833,"reputation":465,"user_id":534495,"accept_rate":57,"display_name":"sorin.silaghi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76788241,"answer_count":1,"score":0,"last_activity_date":1690550711,"creation_date":1690550132,"question_id":76788171,"body_markdown":"When making a request with a JSON body, the string variables are replaced as expected but not the numeric ones. For the example below:\r\n\r\n```\r\n{\r\n  &quot;name&quot;: &quot;${userName}&quot;\r\n  &quot;age&quot;: ${userAge}\r\n}\r\n```\r\n\r\nThis is what reaches the server:\r\n```\r\n{\r\n  &quot;name&quot;: &quot;My Name&quot;\r\n  &quot;age&quot;: ${userAge}\r\n}\r\n```\r\n\r\nWhat do I need to do in order to get the variable replaced with the number as I&#39;m expecting?\r\n","title":"JMeter using numeric variable in JSON request body","body":"<p>When making a request with a JSON body, the string variables are replaced as expected but not the numeric ones. For the example below:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;${userName}&quot;\n  &quot;age&quot;: ${userAge}\n}\n</code></pre>\n<p>This is what reaches the server:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;My Name&quot;\n  &quot;age&quot;: ${userAge}\n}\n</code></pre>\n<p>What do I need to do in order to get the variable replaced with the number as I'm expecting?</p>\n"},{"tags":["java","azure","azure-resource-manager"],"comments":[{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1569506151,"post_id":58116180,"comment_id":102625713,"body_markdown":"I think it needs delegated permissions to like Azure Service Management API or something similar. I&#39;m on my phone now so can&#39;t really check the exact one.","body":"I think it needs delegated permissions to like Azure Service Management API or something similar. I&#39;m on my phone now so can&#39;t really check the exact one."},{"owner":{"account_id":15855038,"reputation":17875,"user_id":11439664,"display_name":"Mengdi Liang"},"score":0,"creation_date":1569598099,"post_id":58116180,"comment_id":102661481,"body_markdown":"This seems relevant with application permission instead of ARM permission. Refer to this screenshot: https://imgur.com/a/G4QlNqU . Go AAD-&gt;Enterprise applications-&gt;search the application you created then go-&gt;Permission-&gt;Click the button **Grant admin constent for microsoft** to grant your application the admin consent.","body":"This seems relevant with application permission instead of ARM permission. Refer to this screenshot: <a href=\"https://imgur.com/a/G4QlNqU\" rel=\"nofollow noreferrer\">imgur.com/a/G4QlNqU</a> . Go AAD-&gt;Enterprise applications-&gt;search the application you created then go-&gt;Permission-&gt;Click the button <b>Grant admin constent for microsoft</b> to grant your application the admin consent."},{"owner":{"account_id":9861791,"reputation":483,"user_id":7304502,"accept_rate":25,"display_name":"delucaezequiel"},"score":0,"creation_date":1569838095,"post_id":58116180,"comment_id":102713032,"body_markdown":"I am aware this is an application permission. Which I need to know is which permissions are required for executing REST API to ARM module\nCurrently the application has the following perissions which I set based on the Microsoft Graph REST API Documentation.\nAuditLog.Read.All\nDirectory.AccessAsUser.All\nDirectory.Read.All\nPolicy.Read.All\nSecurityEvents.Read.All\nEx: For read/list users https://learn.microsoft.com/en-us/graph/api/user-list?view=graph-rest-1.0&amp;tabs=http you have the permissions at the beginning in the Permissions Section","body":"I am aware this is an application permission. Which I need to know is which permissions are required for executing REST API to ARM module Currently the application has the following perissions which I set based on the Microsoft Graph REST API Documentation. AuditLog.Read.All Directory.AccessAsUser.All Directory.Read.All Policy.Read.All SecurityEvents.Read.All Ex: For read/list users <a href=\"https://learn.microsoft.com/en-us/graph/api/user-list?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/graph/api/&hellip;</a> you have the permissions at the beginning in the Permissions Section"},{"owner":{"account_id":9861791,"reputation":483,"user_id":7304502,"accept_rate":25,"display_name":"delucaezequiel"},"score":0,"creation_date":1569838113,"post_id":58116180,"comment_id":102713038,"body_markdown":"However for the REST API to the ARM Module (https://management.azure.com) the permissions are not listed on the available documentation\nEx: For read/list tenants https://learn.microsoft.com/es-es/rest/api/resources/tenants/list you do not have the permissions section\nThe error is only display for REST API queries to Management Module, to the Microsoft Graph one I can connect and retrieve data as expected based on the permissions listed above","body":"However for the REST API to the ARM Module (<a href=\"https://management.azure.com\" rel=\"nofollow noreferrer\">management.azure.com</a>) the permissions are not listed on the available documentation Ex: For read/list tenants <a href=\"https://learn.microsoft.com/es-es/rest/api/resources/tenants/list\" rel=\"nofollow noreferrer\">learn.microsoft.com/es-es/rest/api/resources/tenants/list</a> you do not have the permissions section The error is only display for REST API queries to Management Module, to the Microsoft Graph one I can connect and retrieve data as expected based on the permissions listed above"},{"owner":{"account_id":1740857,"reputation":4015,"user_id":1592312,"accept_rate":68,"display_name":"rahulaga-msft"},"score":0,"creation_date":1670732811,"post_id":58116180,"comment_id":131939943,"body_markdown":"@delucaezequiel - were you able to figure out `how to add permissions to azure ad app for azure management api` ?","body":"@delucaezequiel - were you able to figure out <code>how to add permissions to azure ad app for azure management api</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":1862796,"reputation":279,"user_id":1687020,"accept_rate":61,"display_name":"Ajay Sainy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569732457,"creation_date":1569732457,"answer_id":58152304,"question_id":58116180,"body_markdown":"Have seen similar error in past. \r\n\r\nGranting the permission via:\r\n\r\n**Azure Active Directory -&gt; App Registrations -&gt; MyApp -&gt; Api Permissions -&gt; Grant Admin Consent button**\r\n\r\nhelped me.\r\n\r\nSimilar posts - https://stackoverflow.com/questions/40109711/the-user-or-administrator-has-not-consented-to-use-the-application-send-an-int\r\n\r\n","title":"Which permissions are required for ARM REST API","body":"<p>Have seen similar error in past. </p>\n\n<p>Granting the permission via:</p>\n\n<p><strong>Azure Active Directory -> App Registrations -> MyApp -> Api Permissions -> Grant Admin Consent button</strong></p>\n\n<p>helped me.</p>\n\n<p>Similar posts - <a href=\"https://stackoverflow.com/questions/40109711/the-user-or-administrator-has-not-consented-to-use-the-application-send-an-int\">The user or administrator has not consented to use the application - Send an interactive authorization request for this user and resource</a></p>\n"},{"tags":[],"owner":{"account_id":23686148,"reputation":1,"user_id":17711059,"display_name":"Vadar Vadar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690550627,"creation_date":1690514401,"answer_id":76784651,"question_id":58116180,"body_markdown":"I have been trying to find a more efficient way to grant permissions for the Azure Resource Management API.\r\n\r\nTo access the ARM API, I usually assign roles to the service principal directly, just as you would a user.\r\n\r\nFor example, to grant the app access to read all in a subscription, do this:\r\n\r\n 1. Go to the subscription in Azure: https://portal.azure.com/#view/Microsoft_Azure_Billing/SubscriptionsBlade\r\n\r\n 2. Select the subscription that you wish to read with the API\r\n\r\n 3. In the left menu, click on &quot;Access control (IAM)\r\n\r\n 4. Go to &quot;Role assignments&quot; and click Add &gt; Add Role Assignment at the top\r\n\r\n 5. For &quot;Role&quot;, select &quot;Reader&quot;\r\n[Reader Role][1]\r\n\r\n\r\n 6. For &quot;Members&quot; - search for your app by name\r\n[Reader Role Member][2]\r\n\r\n 7. Finally, click &quot;Review + Assign&quot; - this will grant the app permissions to &quot;Read&quot; all the subscription data\r\n\r\n  [1]: https://i.stack.imgur.com/degv7.png\r\n  [2]: https://i.stack.imgur.com/do7qX.png","title":"Which permissions are required for ARM REST API","body":"<p>I have been trying to find a more efficient way to grant permissions for the Azure Resource Management API.</p>\n<p>To access the ARM API, I usually assign roles to the service principal directly, just as you would a user.</p>\n<p>For example, to grant the app access to read all in a subscription, do this:</p>\n<ol>\n<li><p>Go to the subscription in Azure: <a href=\"https://portal.azure.com/#view/Microsoft_Azure_Billing/SubscriptionsBlade\" rel=\"nofollow noreferrer\">https://portal.azure.com/#view/Microsoft_Azure_Billing/SubscriptionsBlade</a></p>\n</li>\n<li><p>Select the subscription that you wish to read with the API</p>\n</li>\n<li><p>In the left menu, click on &quot;Access control (IAM)</p>\n</li>\n<li><p>Go to &quot;Role assignments&quot; and click Add &gt; Add Role Assignment at the top</p>\n</li>\n<li><p>For &quot;Role&quot;, select &quot;Reader&quot;\n<a href=\"https://i.stack.imgur.com/degv7.png\" rel=\"nofollow noreferrer\">Reader Role</a></p>\n</li>\n<li><p>For &quot;Members&quot; - search for your app by name\n<a href=\"https://i.stack.imgur.com/do7qX.png\" rel=\"nofollow noreferrer\">Reader Role Member</a></p>\n</li>\n<li><p>Finally, click &quot;Review + Assign&quot; - this will grant the app permissions to &quot;Read&quot; all the subscription data</p>\n</li>\n</ol>\n"}],"owner":{"account_id":9861791,"reputation":483,"user_id":7304502,"accept_rate":25,"display_name":"delucaezequiel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690550627,"creation_date":1569498505,"question_id":58116180,"body_markdown":"I am trying to create an application that can connect to ARM (https://management.azure.com) retrieve some information from it. I already created one that use Microsoft Graph (https://graph.microsoft.com) and works fine, however now I need to get information that is only available on ARM.\r\n\r\nI look up on internet about the permissions required, specially on Microsoft Docs, however all the documentation that I was able to find refers only to Microsoft Graph or Windows Graph.\r\n\r\nDo you know which permissions should I request through the portal?\r\n\r\n    public String getAccessToken() throws MalformedURLException, InterruptedException, ExecutionException, ServiceUnavailableException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchAlgorithmException, NoSuchPaddingException\r\n    {\r\n    \tAuthenticationContext objContext;\r\n    \tAuthenticationResult objToken;\r\n    \tExecutorService objService;\r\n    \tFuture&lt;AuthenticationResult&gt; objFuture;\r\n    \tobjService = null;\r\n    \tobjToken = null;\r\n    \ttry\r\n    \t{\r\n    \t\tobjService = Executors.newFixedThreadPool(1);\r\n    \t\tobjContext = new AuthenticationContext(this.getAuthorize(), false, objService);\r\n    \t\tobjFuture = objContext.acquireToken(&quot;https://management.azure.com&quot;, this.getApplicationID(), this.getUsername(), SecureText.getInstance().decode(this.getPassword()), null);\r\n    \t\tobjToken = objFuture.get();\r\n    \t\tthis.getLogger().info(&quot;Connection to Azure Resource Manager&quot;.concat(this.getClass().getSimpleName().toLowerCase()).concat(&quot; successfully stablished&quot;));\r\n    \t}\r\n    \tfinally\r\n    \t{\r\n    \t\tobjService.shutdown();\r\n    \t}\r\n    \tif (objToken == null)\r\n    \t{\r\n    \t\tthrow new ServiceUnavailableException(&quot;Authentication Service is not available&quot;);\r\n    \t}\r\n    \treturn objToken.getAccessToken();\r\n   \t}\r\n\r\nThe following error is displayed:\r\n\r\n&gt; com.microsoft.aad.adal4j.AuthenticationException:\r\n&gt; {&quot;error_description&quot;:&quot;AADSTS65001: The user or administrator has not\r\n&gt; consented to use the application with ID\r\n&gt; &#39;e1b0615a-911d-4ccf-bf16-e8d0c1c2f8b5&#39; named &#39;XXXXXXX&#39;. Send an\r\n&gt; interactive authorization request for this user and resource.\\r\\nTrace\r\n&gt; ID: 9731e9b7-116d-4c5e-b219-ab96e12c4300\\r\\nCorrelation ID:\r\n&gt; faa9a023-3237-4367-9c66-eec9b77e2805\\r\\nTimestamp: 2019-09-26\r\n&gt; 11:20:54Z&quot;,&quot;error&quot;:&quot;invalid_grant&quot;}\r\n\r\n","title":"Which permissions are required for ARM REST API","body":"<p>I am trying to create an application that can connect to ARM (<a href=\"https://management.azure.com\" rel=\"nofollow noreferrer\">https://management.azure.com</a>) retrieve some information from it. I already created one that use Microsoft Graph (<a href=\"https://graph.microsoft.com\" rel=\"nofollow noreferrer\">https://graph.microsoft.com</a>) and works fine, however now I need to get information that is only available on ARM.</p>\n\n<p>I look up on internet about the permissions required, specially on Microsoft Docs, however all the documentation that I was able to find refers only to Microsoft Graph or Windows Graph.</p>\n\n<p>Do you know which permissions should I request through the portal?</p>\n\n<pre><code>public String getAccessToken() throws MalformedURLException, InterruptedException, ExecutionException, ServiceUnavailableException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchAlgorithmException, NoSuchPaddingException\n{\n    AuthenticationContext objContext;\n    AuthenticationResult objToken;\n    ExecutorService objService;\n    Future&lt;AuthenticationResult&gt; objFuture;\n    objService = null;\n    objToken = null;\n    try\n    {\n        objService = Executors.newFixedThreadPool(1);\n        objContext = new AuthenticationContext(this.getAuthorize(), false, objService);\n        objFuture = objContext.acquireToken(\"https://management.azure.com\", this.getApplicationID(), this.getUsername(), SecureText.getInstance().decode(this.getPassword()), null);\n        objToken = objFuture.get();\n        this.getLogger().info(\"Connection to Azure Resource Manager\".concat(this.getClass().getSimpleName().toLowerCase()).concat(\" successfully stablished\"));\n    }\n    finally\n    {\n        objService.shutdown();\n    }\n    if (objToken == null)\n    {\n        throw new ServiceUnavailableException(\"Authentication Service is not available\");\n    }\n    return objToken.getAccessToken();\n}\n</code></pre>\n\n<p>The following error is displayed:</p>\n\n<blockquote>\n  <p>com.microsoft.aad.adal4j.AuthenticationException:\n  {\"error_description\":\"AADSTS65001: The user or administrator has not\n  consented to use the application with ID\n  'e1b0615a-911d-4ccf-bf16-e8d0c1c2f8b5' named 'XXXXXXX'. Send an\n  interactive authorization request for this user and resource.\\r\\nTrace\n  ID: 9731e9b7-116d-4c5e-b219-ab96e12c4300\\r\\nCorrelation ID:\n  faa9a023-3237-4367-9c66-eec9b77e2805\\r\\nTimestamp: 2019-09-26\n  11:20:54Z\",\"error\":\"invalid_grant\"}</p>\n</blockquote>\n"},{"tags":["java","android","string","colors","hex"],"comments":[{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1309461303,"post_id":6539879,"comment_id":7702972,"body_markdown":"What are you trying to set the hex color on? I think there&#39;s a different answer here","body":"What are you trying to set the hex color on? I think there&#39;s a different answer here"},{"owner":{"account_id":407732,"reputation":3680,"user_id":777976,"accept_rate":100,"display_name":"Bosah Chude"},"score":0,"creation_date":1309462009,"post_id":6539879,"comment_id":7703127,"body_markdown":"@Blundell Am exporting the color to an external application. The colour needs to be in this format #RRGGBB","body":"@Blundell Am exporting the color to an external application. The colour needs to be in this format #RRGGBB"},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1309462134,"post_id":6539879,"comment_id":7703153,"body_markdown":"So what&#39;s wrong with  http://developer.android.com/reference/android/content/res/Resources.html#getColor(int) ? You&#39;ll have to paste the url or scroll to getColor(int)","body":"So what&#39;s wrong with  <a href=\"http://developer.android.com/reference/android/content/res/Resources.html#getColor(int)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/content/res/&hellip;</a> ? You&#39;ll have to paste the url or scroll to getColor(int)"},{"owner":{"account_id":407732,"reputation":3680,"user_id":777976,"accept_rate":100,"display_name":"Bosah Chude"},"score":0,"creation_date":1309463416,"post_id":6539879,"comment_id":7703496,"body_markdown":"Am getting the raw integers. The values are not from a resource ow widget","body":"Am getting the raw integers. The values are not from a resource ow widget"}],"answers":[{"tags":[],"owner":{"account_id":164341,"reputation":2870,"user_id":387028,"accept_rate":83,"display_name":"ming_codes"},"down_vote_count":2,"up_vote_count":63,"is_accepted":false,"score":61,"last_activity_date":1309461425,"creation_date":1309461425,"answer_id":6539929,"question_id":6539879,"body_markdown":"Try Integer.toHexString()\r\n\r\nSource:\r\nhttps://stackoverflow.com/questions/332079/in-java-how-do-i-convert-a-byte-array-to-a-string-of-hex-digits-while-keeping-le","title":"How to convert a color integer to a hex String in Android?","body":"<p>Try Integer.toHexString()</p>\n\n<p>Source:\n<a href=\"https://stackoverflow.com/questions/332079/in-java-how-do-i-convert-a-byte-array-to-a-string-of-hex-digits-while-keeping-le\">In Java, how do I convert a byte array to a string of hex digits while keeping leading zeros?</a></p>\n"},{"tags":[],"owner":{"account_id":133918,"reputation":10668,"user_id":335650,"accept_rate":89,"display_name":"Josh"},"down_vote_count":1,"up_vote_count":567,"is_accepted":true,"score":566,"last_activity_date":1309463792,"creation_date":1309463792,"answer_id":6540378,"question_id":6539879,"body_markdown":"The mask makes sure you only get RRGGBB, and the %06X gives you zero-padded hex (always 6 chars long):\r\n\r\n    String hexColor = String.format(&quot;#%06X&quot;, (0xFFFFFF &amp; intColor));","title":"How to convert a color integer to a hex String in Android?","body":"<p>The mask makes sure you only get RRGGBB, and the %06X gives you zero-padded hex (always 6 chars long):</p>\n\n<pre><code>String hexColor = String.format(\"#%06X\", (0xFFFFFF &amp; intColor));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":407732,"reputation":3680,"user_id":777976,"accept_rate":100,"display_name":"Bosah Chude"},"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1309502378,"creation_date":1309502378,"answer_id":6544482,"question_id":6539879,"body_markdown":"I believe i have found the answer, This code converts the integer to a hex string an removes the alpha.\r\n\r\n    Integer intColor = -16895234;\r\n    String hexColor = &quot;#&quot; + Integer.toHexString(intColor).substring(2);\r\n\r\n**Note** only use this code if you are sure that removing the alpha would not affect anything.","title":"How to convert a color integer to a hex String in Android?","body":"<p>I believe i have found the answer, This code converts the integer to a hex string an removes the alpha.</p>\n\n<pre><code>Integer intColor = -16895234;\nString hexColor = \"#\" + Integer.toHexString(intColor).substring(2);\n</code></pre>\n\n<p><strong>Note</strong> only use this code if you are sure that removing the alpha would not affect anything.</p>\n"},{"tags":[],"owner":{"account_id":1424133,"reputation":1906,"user_id":1348103,"accept_rate":83,"display_name":"Diljeet"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1355766816,"creation_date":1355766816,"answer_id":13919404,"question_id":6539879,"body_markdown":"Here is what i did\r\n\r\n     int color=//your color\r\n     Integer.toHexString(color).toUpperCase();//upercase with alpha\r\n     Integer.toHexString(color).toUpperCase().substring(2);// uppercase without alpha\r\n\r\nThanks guys you answers did the thing","title":"How to convert a color integer to a hex String in Android?","body":"<p>Here is what i did</p>\n\n<pre><code> int color=//your color\n Integer.toHexString(color).toUpperCase();//upercase with alpha\n Integer.toHexString(color).toUpperCase().substring(2);// uppercase without alpha\n</code></pre>\n\n<p>Thanks guys you answers did the thing</p>\n"},{"tags":[],"owner":{"account_id":10037066,"reputation":1,"user_id":7421286,"display_name":"chundk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487115217,"creation_date":1484481477,"answer_id":41660825,"question_id":6539879,"body_markdown":"    String int2string = Integer.toHexString(INTEGERColor); //to ARGB\r\n    String HtmlColor = &quot;#&quot;+ int2string.substring(int2string.length() - 6, int2string.length()); // a stupid way to append your color","title":"How to convert a color integer to a hex String in Android?","body":"<pre><code>String int2string = Integer.toHexString(INTEGERColor); //to ARGB\nString HtmlColor = \"#\"+ int2string.substring(int2string.length() - 6, int2string.length()); // a stupid way to append your color\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2970001,"reputation":1940,"user_id":2522264,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506731704,"creation_date":1506547522,"answer_id":46457464,"question_id":6539879,"body_markdown":"With this method *Integer.toHexString*, you can have an Unknown color exception for some colors when using Color.parseColor.\r\n\r\nAnd with this method *String.format(&quot;#%06X&quot;, (0xFFFFFF &amp; intColor))*, you&#39;ll lose alpha value.\r\n\r\nSo I recommend this method:\r\n\r\n    public static String ColorToHex(int color) {\r\n    \t\tint alpha = android.graphics.Color.alpha(color);\r\n    \t\tint blue = android.graphics.Color.blue(color);\r\n    \t\tint green = android.graphics.Color.green(color);\r\n    \t\tint red = android.graphics.Color.red(color);\r\n    \r\n            String alphaHex = To00Hex(alpha);\r\n            String blueHex = To00Hex(blue);\r\n            String greenHex = To00Hex(green);\r\n            String redHex = To00Hex(red);\r\n    \r\n            // hexBinary value: aabbggrr\r\n    \t\tStringBuilder str = new StringBuilder(&quot;#&quot;);\r\n    \t\tstr.append(alphaHex);\r\n    \t\tstr.append(blueHex);\r\n    \t\tstr.append(greenHex);\r\n    \t\tstr.append(redHex );\r\n    \r\n    \t\treturn str.toString();\r\n    \t}\r\n    \r\n        private static String To00Hex(int value) {\r\n            String hex = &quot;00&quot;.concat(Integer.toHexString(value));\r\n            return hex.substring(hex.length()-2, hex.length());\r\n        }\r\n\r\n\r\n","title":"How to convert a color integer to a hex String in Android?","body":"<p>With this method <em>Integer.toHexString</em>, you can have an Unknown color exception for some colors when using Color.parseColor.</p>\n\n<p>And with this method <em>String.format(\"#%06X\", (0xFFFFFF &amp; intColor))</em>, you'll lose alpha value.</p>\n\n<p>So I recommend this method:</p>\n\n<pre><code>public static String ColorToHex(int color) {\n        int alpha = android.graphics.Color.alpha(color);\n        int blue = android.graphics.Color.blue(color);\n        int green = android.graphics.Color.green(color);\n        int red = android.graphics.Color.red(color);\n\n        String alphaHex = To00Hex(alpha);\n        String blueHex = To00Hex(blue);\n        String greenHex = To00Hex(green);\n        String redHex = To00Hex(red);\n\n        // hexBinary value: aabbggrr\n        StringBuilder str = new StringBuilder(\"#\");\n        str.append(alphaHex);\n        str.append(blueHex);\n        str.append(greenHex);\n        str.append(redHex );\n\n        return str.toString();\n    }\n\n    private static String To00Hex(int value) {\n        String hex = \"00\".concat(Integer.toHexString(value));\n        return hex.substring(hex.length()-2, hex.length());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1515075681,"creation_date":1515075681,"answer_id":48097224,"question_id":6539879,"body_markdown":"Integer value of ARGB color to hexadecimal string:\r\n\r\n    String hex = Integer.toHexString(color); // example for green color FF00FF00\r\n\r\nHexadecimal string to integer value of ARGB color:\r\n\r\n    int color = (Integer.parseInt( hex.substring( 0,2 ), 16) &lt;&lt; 24) + Integer.parseInt( hex.substring( 2 ), 16);","title":"How to convert a color integer to a hex String in Android?","body":"<p>Integer value of ARGB color to hexadecimal string:</p>\n\n<pre><code>String hex = Integer.toHexString(color); // example for green color FF00FF00\n</code></pre>\n\n<p>Hexadecimal string to integer value of ARGB color:</p>\n\n<pre><code>int color = (Integer.parseInt( hex.substring( 0,2 ), 16) &lt;&lt; 24) + Integer.parseInt( hex.substring( 2 ), 16);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5383386,"reputation":1641,"user_id":4288054,"display_name":"Oleksandr Albul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591376346,"creation_date":1591376346,"answer_id":62220529,"question_id":6539879,"body_markdown":"If you use `Integer.toHexString` you will end-up with missed zeros when you convert colors like `0xFF000123`.\r\nHere is my kotlin based solution which doesn&#39;t require neither android specific classes nor java. So you could use it in multiplatform project as well:\r\n&lt;!-- language: Kotlin --&gt;\r\n                  \r\n        fun Int.toRgbString(): String =\r\n            &quot;#${red.toStringComponent()}${green.toStringComponent()}${blue.toStringComponent()}&quot;.toUpperCase()\r\n\r\n        fun Int.toArgbString(): String =\r\n            &quot;#${alpha.toStringComponent()}${red.toStringComponent()}${green.toStringComponent()}${blue.toStringComponent()}&quot;.toUpperCase()\r\n\r\n        private fun Int.toStringComponent(): String =\r\n            this.toString(16).let { if (it.length == 1) &quot;0${it}&quot; else it }\r\n        \r\n        inline val Int.alpha: Int\r\n            get() = (this shr 24) and 0xFF\r\n        \r\n        inline val Int.red: Int\r\n            get() = (this shr 16) and 0xFF\r\n        \r\n        inline val Int.green: Int\r\n            get() = (this shr 8) and 0xFF\r\n        \r\n        inline val Int.blue: Int\r\n            get() = this and 0xFF","title":"How to convert a color integer to a hex String in Android?","body":"<p>If you use <code>Integer.toHexString</code> you will end-up with missed zeros when you convert colors like <code>0xFF000123</code>.\nHere is my kotlin based solution which doesn't require neither android specific classes nor java. So you could use it in multiplatform project as well:\n</p>\n\n<pre><code>    fun Int.toRgbString(): String =\n        \"#${red.toStringComponent()}${green.toStringComponent()}${blue.toStringComponent()}\".toUpperCase()\n\n    fun Int.toArgbString(): String =\n        \"#${alpha.toStringComponent()}${red.toStringComponent()}${green.toStringComponent()}${blue.toStringComponent()}\".toUpperCase()\n\n    private fun Int.toStringComponent(): String =\n        this.toString(16).let { if (it.length == 1) \"0${it}\" else it }\n\n    inline val Int.alpha: Int\n        get() = (this shr 24) and 0xFF\n\n    inline val Int.red: Int\n        get() = (this shr 16) and 0xFF\n\n    inline val Int.green: Int\n        get() = (this shr 8) and 0xFF\n\n    inline val Int.blue: Int\n        get() = this and 0xFF\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1447779,"reputation":5253,"user_id":2268466,"accept_rate":64,"display_name":"blueware"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1597511697,"creation_date":1597511697,"answer_id":63428799,"question_id":6539879,"body_markdown":"You can use this for color without alpha:\r\n\r\n    String hexColor = String.format(&quot;#%06X&quot;, (0xFFFFFF &amp; intColor));\r\n\r\nor this with alpha:\r\n\r\n    String hexColor = String.format(&quot;#%08X&quot;, (0xFFFFFFFF &amp; intColor));\r\n\r\n\r\n","title":"How to convert a color integer to a hex String in Android?","body":"<p>You can use this for color without alpha:</p>\n<pre><code>String hexColor = String.format(&quot;#%06X&quot;, (0xFFFFFF &amp; intColor));\n</code></pre>\n<p>or this with alpha:</p>\n<pre><code>String hexColor = String.format(&quot;#%08X&quot;, (0xFFFFFFFF &amp; intColor));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6153574,"reputation":11374,"user_id":4797289,"display_name":"Rasoul Miri"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1618767785,"creation_date":1618767785,"answer_id":67151626,"question_id":6539879,"body_markdown":"use this way in Koltin\r\n\r\n    var hexColor = &quot;#${Integer.toHexString(ContextCompat.getColor(context, R.color.colorTest))}&quot;","title":"How to convert a color integer to a hex String in Android?","body":"<p>use this way in Koltin</p>\n<pre><code>var hexColor = &quot;#${Integer.toHexString(ContextCompat.getColor(context, R.color.colorTest))}&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12795516,"reputation":67,"user_id":9258640,"display_name":"Adnan Malik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1625380016,"creation_date":1625158289,"answer_id":68214114,"question_id":6539879,"body_markdown":"Fixing alpha issue in Color picker libraries.\r\n\r\nif you get an integer value in return when you pick color first convert it into the hex color.\r\n\r\n        String hexVal = String.format(&quot;#%06X&quot;, (0xFFFFFFFF &amp; \r\n        color)).toUpperCase();\r\n\r\n        int length=hexVal.length();\r\n        String withoutHash=hexVal.substring(1,length);\r\n\r\n\r\n        while (withoutHash.length()&lt;=7)\r\n        {\r\n\r\n            withoutHash=&quot;0&quot;+withoutHash;\r\n\r\n        }\r\n        hexVal =&quot;#&quot;+withoutHash;\r\n\r\n","title":"How to convert a color integer to a hex String in Android?","body":"<p>Fixing alpha issue in Color picker libraries.</p>\n<p>if you get an integer value in return when you pick color first convert it into the hex color.</p>\n<pre><code>    String hexVal = String.format(&quot;#%06X&quot;, (0xFFFFFFFF &amp; \n    color)).toUpperCase();\n\n    int length=hexVal.length();\n    String withoutHash=hexVal.substring(1,length);\n\n\n    while (withoutHash.length()&lt;=7)\n    {\n\n        withoutHash=&quot;0&quot;+withoutHash;\n\n    }\n    hexVal =&quot;#&quot;+withoutHash;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646486236,"creation_date":1646447874,"answer_id":71359047,"question_id":6539879,"body_markdown":"Simon&#39;s solution works well, alpha supported and color cases with a leading &quot;zero&quot; values in R, G, B, A, hex are not being ignored. A slightly modified version for java Color to hex String conversion is:\r\n\r\n        public static String ColorToHex (Color color) {\r\n        int red = color.getRed();\r\n        int green = color.getGreen();\r\n        int blue = color.getBlue();\r\n        int alpha = color.getAlpha(); \r\n\r\n        String redHex = To00Hex(red);\r\n        String greenHex = To00Hex(green);\r\n        String blueHex = To00Hex(blue);\r\n        String alphaHex = To00Hex(alpha);\r\n\r\n        // hexBinary value: RRGGBBAA\r\n        StringBuilder str = new StringBuilder(&quot;#&quot;);\r\n        str.append(redHex);\r\n        str.append(greenHex);\r\n        str.append(blueHex);\r\n        str.append(alphaHex);\r\n\r\n        return str.toString();\r\n    }\r\n\r\n    private static String To00Hex(int value) {\r\n        String hex = &quot;00&quot;.concat(Integer.toHexString(value));\r\n        hex=hex.toUpperCase();\r\n        return hex.substring(hex.length()-2, hex.length());\r\n    } \r\n\r\n\r\nanother solution could be:\r\n\r\n    public static String rgbToHex (Color color) {\r\n    \r\n       String hex = String.format(&quot;#%02x%02x%02x%02x&quot;, color.getRed(), color.getGreen(), color.getBlue(), color.getAlpha() );\r\n       hex=hex.toUpperCase();\r\n           return hex;\r\n    }","title":"How to convert a color integer to a hex String in Android?","body":"<p>Simon's solution works well, alpha supported and color cases with a leading &quot;zero&quot; values in R, G, B, A, hex are not being ignored. A slightly modified version for java Color to hex String conversion is:</p>\n<pre><code>    public static String ColorToHex (Color color) {\n    int red = color.getRed();\n    int green = color.getGreen();\n    int blue = color.getBlue();\n    int alpha = color.getAlpha(); \n\n    String redHex = To00Hex(red);\n    String greenHex = To00Hex(green);\n    String blueHex = To00Hex(blue);\n    String alphaHex = To00Hex(alpha);\n\n    // hexBinary value: RRGGBBAA\n    StringBuilder str = new StringBuilder(&quot;#&quot;);\n    str.append(redHex);\n    str.append(greenHex);\n    str.append(blueHex);\n    str.append(alphaHex);\n\n    return str.toString();\n}\n\nprivate static String To00Hex(int value) {\n    String hex = &quot;00&quot;.concat(Integer.toHexString(value));\n    hex=hex.toUpperCase();\n    return hex.substring(hex.length()-2, hex.length());\n} \n</code></pre>\n<p>another solution could be:</p>\n<pre><code>public static String rgbToHex (Color color) {\n\n   String hex = String.format(&quot;#%02x%02x%02x%02x&quot;, color.getRed(), color.getGreen(), color.getBlue(), color.getAlpha() );\n   hex=hex.toUpperCase();\n       return hex;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690550627,"creation_date":1690538892,"answer_id":76786822,"question_id":6539879,"body_markdown":"Here is the new Kotlin 1.9.0 standard library [`HexFormat`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-hex-format.html):  \r\n(don&#39;t forget to add `@OptIn(ExperimentalStdlibApi::class)` where needed)\r\n\r\n```kotlin\r\nval myHexFormat = HexFormat {\r\n    upperCase = false\r\n    number.prefix = &quot;#&quot;\r\n    number.removeLeadingZeros = true\r\n}\r\nval myInt = 0xb40e89\r\nmyInt.toHexString(myHexFormat)         // #b40e89\r\n```\r\n\r\nYou could also use the Kotlin predefined `HexFormat`s:\r\n\r\n```kotlin\r\nval myInt = 0xb40e89\r\nmyInt.toHexString(HexFormat.Default)   // 00b40e89\r\nmyInt.toHexString(HexFormat.UpperCase) // 00B40E89\r\n```\r\n\r\n---\r\n\r\nTo exclude the alpha from an ARGB integer, do this workaround:\r\n\r\n```kotlin\r\n(myInt and 0xFFFFFF).toHexString(myHexFormat)\r\n```\r\n\r\nAnd vote for this issue: [Cannot ignore alpha when formatting with HexFormat](https://youtrack.jetbrains.com/issue/KT-60787)","title":"How to convert a color integer to a hex String in Android?","body":"<p>Here is the new Kotlin 1.9.0 standard library <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-hex-format.html\" rel=\"nofollow noreferrer\"><code>HexFormat</code></a>:<br />\n(don't forget to add <code>@OptIn(ExperimentalStdlibApi::class)</code> where needed)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myHexFormat = HexFormat {\n    upperCase = false\n    number.prefix = &quot;#&quot;\n    number.removeLeadingZeros = true\n}\nval myInt = 0xb40e89\nmyInt.toHexString(myHexFormat)         // #b40e89\n</code></pre>\n<p>You could also use the Kotlin predefined <code>HexFormat</code>s:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myInt = 0xb40e89\nmyInt.toHexString(HexFormat.Default)   // 00b40e89\nmyInt.toHexString(HexFormat.UpperCase) // 00B40E89\n</code></pre>\n<hr />\n<p>To exclude the alpha from an ARGB integer, do this workaround:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>(myInt and 0xFFFFFF).toHexString(myHexFormat)\n</code></pre>\n<p>And vote for this issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-60787\" rel=\"nofollow noreferrer\">Cannot ignore alpha when formatting with HexFormat</a></p>\n"}],"owner":{"account_id":407732,"reputation":3680,"user_id":777976,"accept_rate":100,"display_name":"Bosah Chude"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144963,"favorite_count":0,"down_vote_count":0,"up_vote_count":240,"accepted_answer_id":6540378,"answer_count":13,"score":240,"last_activity_date":1690550627,"creation_date":1309461144,"question_id":6539879,"body_markdown":"I have an integer that was generated from an `android.graphics.Color`.  \r\nIt has a value of `-16776961`. How do I convert it into a hex string with the format `#RRGGBB`?\r\n\r\nSimply put: I would like to output `#0000FF` from `-16776961`.\r\n\r\n**Note:** I don&#39;t want the output to contain alpha and I have also tried [this example][1] with no success.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4506708/android-convert-color-int-to-hexa-string","title":"How to convert a color integer to a hex String in Android?","body":"<p>I have an integer that was generated from an <code>android.graphics.Color</code>.<br />\nIt has a value of <code>-16776961</code>. How do I convert it into a hex string with the format <code>#RRGGBB</code>?</p>\n<p>Simply put: I would like to output <code>#0000FF</code> from <code>-16776961</code>.</p>\n<p><strong>Note:</strong> I don't want the output to contain alpha and I have also tried <a href=\"https://stackoverflow.com/questions/4506708/android-convert-color-int-to-hexa-string\">this example</a> with no success.</p>\n"},{"tags":["java","hibernate","deprecated"],"answers":[{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1642515199,"creation_date":1640449155,"answer_id":70481278,"question_id":70036475,"body_markdown":"It seems there is no replacement until Hibernate 6. [Type and also TypeDef](https://hibernate.atlassian.net/browse/HHH-14935) was marked as deprecated to mark it as removed in version 6, but so far not replacement exists. The ideology here is that deprecated does not indicate that already a new version exists, which might be not an intuitive meaning for most developers.\r\n\r\nThis was reverted now in the current 5.6.3-Final version series.","title":"What should I replace the hibernate deprecated @TypeDef and @Type annotations by?","body":"<p>It seems there is no replacement until Hibernate 6. <a href=\"https://hibernate.atlassian.net/browse/HHH-14935\" rel=\"noreferrer\">Type and also TypeDef</a> was marked as deprecated to mark it as removed in version 6, but so far not replacement exists. The ideology here is that deprecated does not indicate that already a new version exists, which might be not an intuitive meaning for most developers.</p>\n<p>This was reverted now in the current 5.6.3-Final version series.</p>\n"},{"tags":[],"owner":{"account_id":9518625,"reputation":289,"user_id":7074172,"display_name":"Dimi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641552390,"creation_date":1641552390,"answer_id":70620052,"question_id":70036475,"body_markdown":"This deprecation has been reverted in Hibernate 5.6.3-Final","title":"What should I replace the hibernate deprecated @TypeDef and @Type annotations by?","body":"<p>This deprecation has been reverted in Hibernate 5.6.3-Final</p>\n"},{"tags":[],"owner":{"account_id":410173,"reputation":450,"user_id":781858,"display_name":"Vidhya - Vidhyadharan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1690550477,"creation_date":1690550477,"answer_id":76788208,"question_id":70036475,"body_markdown":"From this \r\n\r\n    import org.hibernate.annotations.Type;\r\n    import org.hibernate.annotations.TypeDef;\r\n     \r\n    @TypeDef(name = &quot;json&quot;, typeClass = StringJsonUserType.class)\r\n    public class EntityName {\r\n     \r\n     @Type(type = &quot;json&quot;)\r\n     private propertyName\r\n\r\nto in hibernate 6\r\n\r\n    import jakarta.persistence.Convert;\r\n    import org.hibernate.annotations.JdbcTypeCode;\r\n     \r\n     \r\n    @Convert(attributeName = &quot;entityAttrName&quot;, converter = StringJsonUserType.class)\r\n    public class EntityName {\r\n     \r\n     \r\n     @JdbcTypeCode(SqlTypes.JSON)\r\n     private propertyName","title":"What should I replace the hibernate deprecated @TypeDef and @Type annotations by?","body":"<p>From this</p>\n<pre><code>import org.hibernate.annotations.Type;\nimport org.hibernate.annotations.TypeDef;\n \n@TypeDef(name = &quot;json&quot;, typeClass = StringJsonUserType.class)\npublic class EntityName {\n \n @Type(type = &quot;json&quot;)\n private propertyName\n</code></pre>\n<p>to in hibernate 6</p>\n<pre><code>import jakarta.persistence.Convert;\nimport org.hibernate.annotations.JdbcTypeCode;\n \n \n@Convert(attributeName = &quot;entityAttrName&quot;, converter = StringJsonUserType.class)\npublic class EntityName {\n \n \n @JdbcTypeCode(SqlTypes.JSON)\n private propertyName\n</code></pre>\n"}],"owner":{"account_id":2105809,"reputation":3833,"user_id":1872168,"accept_rate":64,"display_name":"Crystark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16496,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":70481278,"answer_count":3,"score":24,"last_activity_date":1690550477,"creation_date":1637332496,"question_id":70036475,"body_markdown":"I&#39;ve just upgraded the version I use for Hibernate to 5.6.1 and it seems it&#39;s now deprecating some Type-related annotations:\r\n```\r\n@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType::class)\r\n\r\n\r\n@Type(type = &quot;json&quot;)\r\n```\r\n\r\nI found no documentation as to what to do except that \r\n&gt; 6.0 will introduce a new series of type-safe annotations to serve the same purpose\r\n\r\nOur quality guidelines forces us to try and solve every warning and as such I would like to replace these annotations by a non deprecated use.","title":"What should I replace the hibernate deprecated @TypeDef and @Type annotations by?","body":"<p>I've just upgraded the version I use for Hibernate to 5.6.1 and it seems it's now deprecating some Type-related annotations:</p>\n<pre><code>@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType::class)\n\n\n@Type(type = &quot;json&quot;)\n</code></pre>\n<p>I found no documentation as to what to do except that</p>\n<blockquote>\n<p>6.0 will introduce a new series of type-safe annotations to serve the same purpose</p>\n</blockquote>\n<p>Our quality guidelines forces us to try and solve every warning and as such I would like to replace these annotations by a non deprecated use.</p>\n"},{"tags":["java","unix-timestamp"],"comments":[{"owner":{"account_id":329656,"reputation":42009,"user_id":653298,"display_name":"Jacob"},"score":4,"creation_date":1310995259,"post_id":6733487,"comment_id":7978103,"body_markdown":"Why is 1000 not a valid timestamp? 1000 milliseconds after 0:00 on 1.1.1970?","body":"Why is 1000 not a valid timestamp? 1000 milliseconds after 0:00 on 1.1.1970?"},{"owner":{"account_id":29885,"reputation":41593,"user_id":81071,"accept_rate":77,"display_name":"Koraktor"},"score":4,"creation_date":1310995312,"post_id":6733487,"comment_id":7978126,"body_markdown":"Why should `1000` be not a valid timestamp? It is `Thu Jan 01 00:00:01 +0000 1970`. In fact, any valid integer (even negative) is a valid UNIX timestamp.","body":"Why should <code>1000</code> be not a valid timestamp? It is <code>Thu Jan 01 00:00:01 +0000 1970</code>. In fact, any valid integer (even negative) is a valid UNIX timestamp."},{"owner":{"account_id":14142,"reputation":11889,"user_id":28841,"accept_rate":80,"display_name":"Petteri H"},"score":0,"creation_date":1310996108,"post_id":6733487,"comment_id":7978358,"body_markdown":"1000 ms after epoch is still a valid timestamp. You should define a range of sensible timestamps. The sensible range is then case specific, maybe you expect entries after 2010 for example.","body":"1000 ms after epoch is still a valid timestamp. You should define a range of sensible timestamps. The sensible range is then case specific, maybe you expect entries after 2010 for example."},{"owner":{"account_id":98649,"reputation":2019,"user_id":828234,"accept_rate":56,"display_name":"Roshan"},"score":0,"creation_date":1310996123,"post_id":6733487,"comment_id":7978365,"body_markdown":"Please help how to define proper range of timestamp","body":"Please help how to define proper range of timestamp"}],"answers":[{"tags":[],"owner":{"account_id":87221,"reputation":116,"user_id":242025,"display_name":"Joel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310995249,"creation_date":1310995249,"answer_id":6733516,"question_id":6733487,"body_markdown":"Why not just subtract the epoch time from the time you&#39;re given. If the result is negative, then it&#39;s not valid.\r\n","title":"How to validate the unix timestamp in java?","body":"<p>Why not just subtract the epoch time from the time you're given. If the result is negative, then it's not valid.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1310996633,"creation_date":1310996319,"answer_id":6733768,"question_id":6733487,"body_markdown":"We cannot tell you what is sensible for your application. If there was a limit which was correct for every situation it would be built in.  It could be that only timestamps after you developed your application and not in the future are sensible.\r\n\r\n    public static final String RELEASE_DATE = &quot;2011/06/17&quot;;\r\n    private static final long MIN_TIMESTAMP;\r\n\r\n    static {\r\n        try {\r\n            MIN_TIMESTAMP = new SimpleDateFormat(&quot;yyyy/MM/dd&quot;).parse(RELEASE_DATE).getTime();\r\n        } catch (ParseException e) {\r\n            throw new AssertionError(e);\r\n        }\r\n    }\r\n    \r\n    // after the software was release and not in the future.\r\n    public static final boolean validTimestamp(long ts) {\r\n        return ts &gt;= MIN_TIMESTAMP &amp;&amp; ts &lt;= System.currentTimeMillis();\r\n    }\r\n\r\nHowever, it could be that the timestamp represents when someone was born. In which case the minimum timestamp could be negative.\r\n\r\nIt could be that the timestamp is the time when something expires (like tickets) Some will be in the past (perhaps not before this year) and some will be in the future. (perhaps not more than 2 years in advance.)\r\n\r\n---\r\n\r\nTimes can be negative. Man landed on the moon before 1970 so the timestamp would be negative.\r\n\r\n    String MAN_ON_MOON = &quot;1969/07/21 02:56 GMT&quot;;\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm Z&quot;);\r\n    System.out.println(sdf.parse(MAN_ON_MOON).getTime());\r\n\r\nprints\r\n\r\n    -14159040000","title":"How to validate the unix timestamp in java?","body":"<p>We cannot tell you what is sensible for your application. If there was a limit which was correct for every situation it would be built in.  It could be that only timestamps after you developed your application and not in the future are sensible.</p>\n\n<pre><code>public static final String RELEASE_DATE = \"2011/06/17\";\nprivate static final long MIN_TIMESTAMP;\n\nstatic {\n    try {\n        MIN_TIMESTAMP = new SimpleDateFormat(\"yyyy/MM/dd\").parse(RELEASE_DATE).getTime();\n    } catch (ParseException e) {\n        throw new AssertionError(e);\n    }\n}\n\n// after the software was release and not in the future.\npublic static final boolean validTimestamp(long ts) {\n    return ts &gt;= MIN_TIMESTAMP &amp;&amp; ts &lt;= System.currentTimeMillis();\n}\n</code></pre>\n\n<p>However, it could be that the timestamp represents when someone was born. In which case the minimum timestamp could be negative.</p>\n\n<p>It could be that the timestamp is the time when something expires (like tickets) Some will be in the past (perhaps not before this year) and some will be in the future. (perhaps not more than 2 years in advance.)</p>\n\n<hr>\n\n<p>Times can be negative. Man landed on the moon before 1970 so the timestamp would be negative.</p>\n\n<pre><code>String MAN_ON_MOON = \"1969/07/21 02:56 GMT\";\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/dd HH:mm Z\");\nSystem.out.println(sdf.parse(MAN_ON_MOON).getTime());\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>-14159040000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10424768,"reputation":140,"user_id":7686412,"display_name":"maryf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690550467,"creation_date":1690550467,"answer_id":76788206,"question_id":6733487,"body_markdown":"Very old question but here is how I did it:\r\n\r\n\r\n  \r\n       boolean isNumberValue(String value) {\r\n\t\t  //TODO - check if is number\r\n\t\t  String regex = &quot;^[0-9]+$&quot;;\r\n\t\t  Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\r\n\t\t  Matcher matcher = pattern.matcher(value);\r\n\t      boolean matchFound = matcher.find();\r\n\r\n          if(matchFound) {\r\n\t           //System.out.println(&quot;Match found&quot;);\r\n\t           return true;\r\n\t      } else {\r\n\t          //System.out.println(&quot;Match not found&quot;);\r\n\t          return false;\r\n\t      }\r\n\t   }\r\n\r\n       boolean isTimestamp(String timestamp) {\t\t\r\n    \t\ttry {\r\n    \t\t\tlong time = Long.valueOf(timestamp);\r\n    \t\t\tDate date = new Date((long)time);\r\n    \t\t\tlong dateOld = date.getTime();\r\n    \t\t\t//if no exception was raised, then its unix and only digits\r\n    \t\t\tif(!isNumberValue(String.valueOf(dateOld))) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\treturn true;\r\n            } catch (Exception e) {\r\n                return false;\r\n            }\r\n          \r\n       }\r\n    \r\n       if (isTimestamp(1679308838)){\r\n           System.out.println(&quot;Is unix timestamp&quot;);\r\n       }else{\r\n           System.out.println(&quot;NOT unix timestamp&quot;);\r\n       }\r\n\r\n","title":"How to validate the unix timestamp in java?","body":"<p>Very old question but here is how I did it:</p>\n<pre><code>   boolean isNumberValue(String value) {\n      //TODO - check if is number\n      String regex = &quot;^[0-9]+$&quot;;\n      Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\n      Matcher matcher = pattern.matcher(value);\n      boolean matchFound = matcher.find();\n\n      if(matchFound) {\n           //System.out.println(&quot;Match found&quot;);\n           return true;\n      } else {\n          //System.out.println(&quot;Match not found&quot;);\n          return false;\n      }\n   }\n\n   boolean isTimestamp(String timestamp) {      \n        try {\n            long time = Long.valueOf(timestamp);\n            Date date = new Date((long)time);\n            long dateOld = date.getTime();\n            //if no exception was raised, then its unix and only digits\n            if(!isNumberValue(String.valueOf(dateOld))) {\n                return false;\n            }\n            return true;\n        } catch (Exception e) {\n            return false;\n        }\n      \n   }\n\n   if (isTimestamp(1679308838)){\n       System.out.println(&quot;Is unix timestamp&quot;);\n   }else{\n       System.out.println(&quot;NOT unix timestamp&quot;);\n   }\n</code></pre>\n"}],"owner":{"account_id":98649,"reputation":2019,"user_id":828234,"accept_rate":56,"display_name":"Roshan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15692,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":6733768,"answer_count":3,"score":3,"last_activity_date":1690550467,"creation_date":1310995096,"question_id":6733487,"body_markdown":"I need validate the given input String is a valid `Timestamp` in milliseconds.\r\n\r\nFor example if the given `Timestamp`\r\n\r\n    String time =&quot;1310966356458&quot;;\r\n\r\nThen it should return true.\r\n\r\nif \r\n\r\n    String time =&quot;1000&quot;;\r\n\r\nthen it should return false;\r\n\r\nPlease help. Thanks in advance","title":"How to validate the unix timestamp in java?","body":"<p>I need validate the given input String is a valid <code>Timestamp</code> in milliseconds.</p>\n\n<p>For example if the given <code>Timestamp</code></p>\n\n<pre><code>String time =\"1310966356458\";\n</code></pre>\n\n<p>Then it should return true.</p>\n\n<p>if </p>\n\n<pre><code>String time =\"1000\";\n</code></pre>\n\n<p>then it should return false;</p>\n\n<p>Please help. Thanks in advance</p>\n"},{"tags":["java","android","android-layout"],"answers":[{"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690297278,"creation_date":1690296790,"answer_id":76763927,"question_id":76763743,"body_markdown":"It&#39;s because it&#39;s Day Night Theme. If you change it to Light Theme, it won&#39;t. Or try deleting the theme.xml (night) file.","title":"Why is the real background color of the ActionBar different in the night theme than in the xml?","body":"<p>It's because it's Day Night Theme. If you change it to Light Theme, it won't. Or try deleting the theme.xml (night) file.</p>\n"},{"tags":[],"owner":{"account_id":29088547,"reputation":1,"user_id":22282956,"display_name":"Evgeny72"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690550432,"creation_date":1690550432,"answer_id":76788204,"question_id":76763743,"body_markdown":"values-night/style.xml:\r\n\r\n```\r\n&lt;resources&gt;\r\n\r\n    &lt;style name=&quot;ActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;item name=&quot;colorSurface&quot;&gt;?attr/colorPrimary&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.DarkActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;item name=&quot;actionBarTheme&quot;&gt;@style/ActionBar&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\r\n\r\n        ...\r\n    &lt;/style&gt;\r\n\r\n    ...\r\n&lt;/resources&gt;\r\n```","title":"Why is the real background color of the ActionBar different in the night theme than in the xml?","body":"<p>values-night/style.xml:</p>\n<pre><code>&lt;resources&gt;\n\n    &lt;style name=&quot;ActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n        &lt;item name=&quot;colorSurface&quot;&gt;?attr/colorPrimary&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;Theme.DarkActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n        &lt;item name=&quot;actionBarTheme&quot;&gt;@style/ActionBar&lt;/item&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\n\n        ...\n    &lt;/style&gt;\n\n    ...\n&lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":29088547,"reputation":1,"user_id":22282956,"display_name":"Evgeny72"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76788204,"answer_count":2,"score":0,"last_activity_date":1690550432,"creation_date":1690295352,"question_id":76763743,"body_markdown":"Why is the real background color of the ActionBar different in the night theme than in the xml? During the day everything is fine.\r\n\r\nP.s. [Actually Day][1] [Presumably Day][2]\r\n\r\n[Actually Night][3] [Presumably Night][4]\r\n\r\nP.s. values/style.xml:\r\n\r\n```\r\n&lt;resources&gt;\r\n\r\n    &lt;style name=&quot;Theme.DarkActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/purple_700&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    ...\r\n&lt;/resources&gt;\r\n```\r\n\r\nvalues-night/style.xml:\r\n\r\n```\r\n&lt;resources&gt;\r\n\r\n    &lt;style name=&quot;Theme.DarkActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/purple_700&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    ...\r\n&lt;/resources&gt;\r\n```\r\n\r\nChange background color of actionbar.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cbzGc.jpg\r\n  [2]: https://i.stack.imgur.com/ZxOoX.png\r\n  [3]: https://i.stack.imgur.com/3romF.jpg\r\n  [4]: https://i.stack.imgur.com/AaZyi.png","title":"Why is the real background color of the ActionBar different in the night theme than in the xml?","body":"<p>Why is the real background color of the ActionBar different in the night theme than in the xml? During the day everything is fine.</p>\n<p>P.s. <a href=\"https://i.stack.imgur.com/cbzGc.jpg\" rel=\"nofollow noreferrer\">Actually Day</a> <a href=\"https://i.stack.imgur.com/ZxOoX.png\" rel=\"nofollow noreferrer\">Presumably Day</a></p>\n<p><a href=\"https://i.stack.imgur.com/3romF.jpg\" rel=\"nofollow noreferrer\">Actually Night</a> <a href=\"https://i.stack.imgur.com/AaZyi.png\" rel=\"nofollow noreferrer\">Presumably Night</a></p>\n<p>P.s. values/style.xml:</p>\n<pre><code>&lt;resources&gt;\n\n    &lt;style name=&quot;Theme.DarkActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/purple_700&lt;/item&gt;\n    &lt;/style&gt;\n\n    ...\n&lt;/resources&gt;\n</code></pre>\n<p>values-night/style.xml:</p>\n<pre><code>&lt;resources&gt;\n\n    &lt;style name=&quot;Theme.DarkActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/purple_700&lt;/item&gt;\n    &lt;/style&gt;\n\n    ...\n&lt;/resources&gt;\n</code></pre>\n<p>Change background color of actionbar.</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1689146664,"post_id":76668036,"comment_id":135170156,"body_markdown":"you are already testing if prj.getMasterData() == null before. if prj is null there, it&#39;ll throw an NPE, so it will never reach the if ( prj == null ) test. The place where you do that test, it is impossible for prj to be null","body":"you are already testing if prj.getMasterData() == null before. if prj is null there, it&#39;ll throw an NPE, so it will never reach the if ( prj == null ) test. The place where you do that test, it is impossible for prj to be null"}],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689148309,"creation_date":1689148309,"answer_id":76668281,"question_id":76668036,"body_markdown":"The right way to rewrite your code, and so getting rid of SonarQube suggestions, is:\r\n\r\n```java\r\nif ((null != prj) &amp;&amp; (null != prj.getMasterData()) {\r\n  ECEOAuthDefs authDefs = new ECEOAuthDefs();\r\n  authDefs.setDescription(prj.getCode());\r\n}\r\n```\r\n\r\nSQ is telling you that if you enter the `if condition` it is because `prj` is not null, so it is not useful test it again.","title":"SonarQube Change this condition so that it does not always evaluate to &quot;false&quot;","body":"<p>The right way to rewrite your code, and so getting rid of SonarQube suggestions, is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ((null != prj) &amp;&amp; (null != prj.getMasterData()) {\n  ECEOAuthDefs authDefs = new ECEOAuthDefs();\n  authDefs.setDescription(prj.getCode());\n}\n</code></pre>\n<p>SQ is telling you that if you enter the <code>if condition</code> it is because <code>prj</code> is not null, so it is not useful test it again.</p>\n"}],"owner":{"account_id":28946727,"reputation":9,"user_id":22172175,"display_name":"hilal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690550263,"creation_date":1689146522,"question_id":76668036,"body_markdown":"[SonarQube screenshot](https://i.stack.imgur.com/RJMTV.png)\r\n\r\n&gt; 99. on the line &#39;implies &quot;ok&quot; is false&#39; and 102. i get the error &#39;expression is always false&#39; on the line. how can I change this situation?\r\n\r\niIneed this part in my code. I couldn&#39;t find a solution method.","title":"SonarQube Change this condition so that it does not always evaluate to &quot;false&quot;","body":"<p><a href=\"https://i.stack.imgur.com/RJMTV.png\" rel=\"nofollow noreferrer\">SonarQube screenshot</a></p>\n<blockquote>\n<ol start=\"99\">\n<li>on the line 'implies &quot;ok&quot; is false' and 102. i get the error 'expression is always false' on the line. how can I change this situation?</li>\n</ol>\n</blockquote>\n<p>iIneed this part in my code. I couldn't find a solution method.</p>\n"},{"tags":["java","jakarta-mail","apache-commons"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1690472844,"post_id":76780917,"comment_id":135361925,"body_markdown":"That&#39;s not considered spamming, that&#39;s how stackoverflow works. There is a strict &quot;one question on one topic, possibly multiple answers&quot; mentality. No long winded threads like in a forum. See the [tour]. So you&#39;re good here.","body":"That&#39;s not considered spamming, that&#39;s how stackoverflow works. There is a strict &quot;one question on one topic, possibly multiple answers&quot; mentality. No long winded threads like in a forum. See the <a href=\"https://stackoverflow.com/tour\">tour</a>. So you&#39;re good here."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1690474198,"post_id":76780917,"comment_id":135362200,"body_markdown":"Your best bet is probably to [enable debugging](https://javaee.github.io/javamail/FAQ#debug) logs (`email.setDebug(true)`) and see what it prints. Good luck!","body":"Your best bet is probably to <a href=\"https://javaee.github.io/javamail/FAQ#debug\" rel=\"nofollow noreferrer\">enable debugging</a> logs (<code>email.setDebug(true)</code>) and see what it prints. Good luck!"}],"owner":{"account_id":27228211,"reputation":9,"user_id":20756369,"display_name":"Hababbeldu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690550171,"creation_date":1690469133,"question_id":76780917,"body_markdown":"When I try to send a Apache Commons HtmlEmail with a specific port set, it works locally on my machine, but in the deployed docker container, the connection is refused because the port setting is ignored and the default port is used.\r\n\r\nI cannot share the code of the whole application, which contains an email service written in Kotlin, that is compiled to a jar with other java sources with Maven and run in a docker container based on eclipse temurin 11. The crazy thing is that this is not a problem (with the same container!) on an Ubuntu 18.04 host, but it fails on an Ubuntu 22.04 host.\r\n\r\nI tried to reproduce the problem locally, but locally, it worked. The Kotlin code that is basically the same that runs in the app can be run on the Kotlin CLI (needs https://mvnrepository.com/artifact/javax.activation/activation/1.1.1, https://javaee.github.io/javamail/#Download_JavaMail_Release and https://commons.apache.org/proper/commons-email/download_email.cgi):\r\n\r\n```sh\r\nkotlinc -cp commons-email-1.5.jar:javax.mail.jar:activation-1.1.1.jar\r\n```\r\n\r\n```kotlin\r\nimport org.apache.commons.mail.DefaultAuthenticator\r\nimport org.apache.commons.mail.HtmlEmail\r\nval email = HtmlEmail()\r\nemail.hostName = &quot;smtp.ionos.de&quot;\r\nemail.setSmtpPort(587)\r\nemail.setAuthenticator(DefaultAuthenticator(&quot;[redacted]&quot;,&quot;[redacted]&quot;))\r\nemail.isSSLOnConnect = true\r\nemail.setFrom(&quot;mail@[redacted]&quot;)\r\nemail.subject = &quot;Test from ThinkPad&quot;\r\nemail.setTextMsg(&quot;This is a drill&quot;)\r\nemail.addTo(&quot;[redacted]&quot;)\r\nemail.send()\r\n```\r\n\r\nI found nearly nothing specific to Apache Commons Mail, and found something on different settings that influence the default behaviour, but a) should they not be set by the framework? and b) this should not be an issue since the thing runs inside a docker container...\r\n\r\nEdit: Thank you Robert for clarifying!\r\n_Also I found this answer https://stackoverflow.com/a/21296375/20756369 and I would have liked to just ask &quot;HOW do I set the server&#39;s default settings&quot; but I do not have enough Karma to comment so apparently it is better if I spam an entirely new question._\r\n\r\n## Edit: I found my mistake\r\n\r\nAs per the [documentation](https://commons.apache.org/proper/commons-email/javadocs/api-release/index.html), `isSSLOnConnect(true)` needs to be used with `setSslSmtpPort(String)`, while no TLS or `setStartTLSRequired(true)` use the port that is set by `setSmtpPort(Int)`.\r\n\r\nThe used hosting provider (IONOS) apparently only offers startTLS on port 587, and I have yet to get SSL on port 995 to work, but that is a different topic.\r\n\r\nAs for why it works on the old on-premise host, but not on the one in the cloud: Some Hosting Providers **block port 465** to prevent spammers from using their services. \r\n","title":"Apache HtmlEmail setPort is ignored","body":"<p>When I try to send a Apache Commons HtmlEmail with a specific port set, it works locally on my machine, but in the deployed docker container, the connection is refused because the port setting is ignored and the default port is used.</p>\n<p>I cannot share the code of the whole application, which contains an email service written in Kotlin, that is compiled to a jar with other java sources with Maven and run in a docker container based on eclipse temurin 11. The crazy thing is that this is not a problem (with the same container!) on an Ubuntu 18.04 host, but it fails on an Ubuntu 22.04 host.</p>\n<p>I tried to reproduce the problem locally, but locally, it worked. The Kotlin code that is basically the same that runs in the app can be run on the Kotlin CLI (needs <a href=\"https://mvnrepository.com/artifact/javax.activation/activation/1.1.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.activation/activation/1.1.1</a>, <a href=\"https://javaee.github.io/javamail/#Download_JavaMail_Release\" rel=\"nofollow noreferrer\">https://javaee.github.io/javamail/#Download_JavaMail_Release</a> and <a href=\"https://commons.apache.org/proper/commons-email/download_email.cgi\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-email/download_email.cgi</a>):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>kotlinc -cp commons-email-1.5.jar:javax.mail.jar:activation-1.1.1.jar\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.apache.commons.mail.DefaultAuthenticator\nimport org.apache.commons.mail.HtmlEmail\nval email = HtmlEmail()\nemail.hostName = &quot;smtp.ionos.de&quot;\nemail.setSmtpPort(587)\nemail.setAuthenticator(DefaultAuthenticator(&quot;[redacted]&quot;,&quot;[redacted]&quot;))\nemail.isSSLOnConnect = true\nemail.setFrom(&quot;mail@[redacted]&quot;)\nemail.subject = &quot;Test from ThinkPad&quot;\nemail.setTextMsg(&quot;This is a drill&quot;)\nemail.addTo(&quot;[redacted]&quot;)\nemail.send()\n</code></pre>\n<p>I found nearly nothing specific to Apache Commons Mail, and found something on different settings that influence the default behaviour, but a) should they not be set by the framework? and b) this should not be an issue since the thing runs inside a docker container...</p>\n<p>Edit: Thank you Robert for clarifying!\n<em>Also I found this answer <a href=\"https://stackoverflow.com/a/21296375/20756369\">https://stackoverflow.com/a/21296375/20756369</a> and I would have liked to just ask &quot;HOW do I set the server's default settings&quot; but I do not have enough Karma to comment so apparently it is better if I spam an entirely new question.</em></p>\n<h2>Edit: I found my mistake</h2>\n<p>As per the <a href=\"https://commons.apache.org/proper/commons-email/javadocs/api-release/index.html\" rel=\"nofollow noreferrer\">documentation</a>, <code>isSSLOnConnect(true)</code> needs to be used with <code>setSslSmtpPort(String)</code>, while no TLS or <code>setStartTLSRequired(true)</code> use the port that is set by <code>setSmtpPort(Int)</code>.</p>\n<p>The used hosting provider (IONOS) apparently only offers startTLS on port 587, and I have yet to get SSL on port 995 to work, but that is a different topic.</p>\n<p>As for why it works on the old on-premise host, but not on the one in the cloud: Some Hosting Providers <strong>block port 465</strong> to prevent spammers from using their services.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1689449213,"post_id":76695395,"comment_id":135216258,"body_markdown":"Seems like you&#39;ve don&#39;t commuting the transaction. Check your repository.","body":"Seems like you&#39;ve don&#39;t commuting the transaction. Check your repository."},{"owner":{"account_id":25476116,"reputation":1,"user_id":19273333,"display_name":"deckard2020"},"score":0,"creation_date":1689472719,"post_id":76695395,"comment_id":135218011,"body_markdown":"I don&#39;t know what you mean by &quot;you&#39;ve don&#39;t commuting the transaction&quot;.  What should I check in my repository?","body":"I don&#39;t know what you mean by &quot;you&#39;ve don&#39;t commuting the transaction&quot;.  What should I check in my repository?"}],"answers":[{"tags":[],"owner":{"account_id":4979751,"reputation":111,"user_id":4005094,"display_name":"Kirill Byvshev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689452544,"creation_date":1689452544,"answer_id":76695649,"question_id":76695395,"body_markdown":"Add quotes for your name:\r\n\r\n```\r\n@Column(name = &quot;\\&quot;firstName\\&quot;&quot;, nullable = false)\r\nprivate String firstName;\r\n```","title":"Spring Boot model not updating in database","body":"<p>Add quotes for your name:</p>\n<pre><code>@Column(name = &quot;\\&quot;firstName\\&quot;&quot;, nullable = false)\nprivate String firstName;\n</code></pre>\n"}],"owner":{"account_id":25476116,"reputation":1,"user_id":19273333,"display_name":"deckard2020"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690550055,"creation_date":1689448524,"question_id":76695395,"body_markdown":"I am using a simple spring boot application and I cannot get my column names to update in my database.  I CAN get the name of the tables to update, but I cannot get the column names to update.\r\n\r\nHere is my User class:\r\n\r\n    package com.helpinghand.HelpingHand.Backend.Model;\r\n    \r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    \r\n    import javax.persistence.*;\r\n    import java.time.LocalDateTime;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;User&quot;)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;firstName&quot;, nullable = false)\r\n        private String firstName;\r\n    \r\n        @Column(nullable = false)\r\n        private String lastName;\r\n    \r\n        @Column(nullable = false)\r\n        private String phoneNumber;\r\n    \r\n        @Column(nullable = false)\r\n        private String streetAddress;\r\n    \r\n        @Column(nullable = false)\r\n        private String city;\r\n    \r\n        @Column(nullable = false)\r\n        private String state;\r\n    \r\n        @Column(nullable = false)\r\n        private String zip;\r\n    \r\n        @Column(nullable = false, unique = true)\r\n        private String email;\r\n    \r\n        @Column(nullable = false)\r\n        private boolean isAdmin;\r\n    \r\n        @Column(nullable = false)\r\n        private String password;\r\n    \r\n        @Column(nullable = false)\r\n        private LocalDateTime createdDate;\r\n    \r\n        public User() {\r\n        }\r\n    \r\n        public User(String firstName, String lastName, String phoneNumber, String streetAddress, String city, String state, String zip, String email, boolean isAdmin, LocalDateTime createDate, String password) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.phoneNumber = phoneNumber;\r\n            this.streetAddress = streetAddress;\r\n            this.city = city;\r\n            this.state = state;\r\n            this.zip = zip;\r\n            this.email = email;\r\n            this.isAdmin = isAdmin;\r\n            this.createdDate = createDate;\r\n    //        this.password = password;\r\n            setPassword(password);  // Set the hashed password\r\n        }\r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public String getPhoneNumber() {\r\n            return phoneNumber;\r\n        }\r\n    \r\n        public void setPhoneNumber(String phoneNumber) {\r\n            this.phoneNumber = phoneNumber;\r\n        }\r\n    \r\n        public String getStreetAddress() {\r\n            return streetAddress;\r\n        }\r\n    \r\n        public void setStreetAddress(String streetAddress) {\r\n            this.streetAddress = streetAddress;\r\n        }\r\n    \r\n        public String getCity() {\r\n            return city;\r\n        }\r\n    \r\n        public void setCity(String city) {\r\n            this.city = city;\r\n        }\r\n    \r\n        public String getState() {\r\n            return state;\r\n        }\r\n    \r\n        public void setState(String state) {\r\n            this.state = state;\r\n        }\r\n    \r\n        public String getZip() {\r\n            return zip;\r\n        }\r\n    \r\n        public void setZip(String zip) {\r\n            this.zip = zip;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public boolean isAdmin() {\r\n            return isAdmin;\r\n        }\r\n    \r\n        public void setAdmin(boolean admin) {\r\n            isAdmin = admin;\r\n        }\r\n    \r\n        public LocalDateTime getCreatedDate() {\r\n            return createdDate;\r\n        }\r\n    \r\n        public void setCreatedDate(LocalDateTime createDate) {\r\n            this.createdDate = createDate;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n    //    public void setPassword(String password) {\r\n    //        this.password = password;\r\n    //    }\r\n    \r\n        public void setPassword(String password) {\r\n            // TODO: Perform password hashing here\r\n            this.password = hashPassword(password);\r\n        }\r\n    \r\n        private String hashPassword(String password) {\r\n            BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n            return passwordEncoder.encode(password);\r\n        }\r\n    }\r\n\r\nHere is my application.properties class:\r\n\r\n    server.port = 8080\r\n    \r\n    spring.datasource.url=jdbc:mysql://localhost:3306/helpinghand\r\n    spring.datasource.username=root\r\n    spring.datasource.password=\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    #spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=true\r\n    \r\n    #server.port=8080\r\n    #\r\n    #spring.datasource.url=jdbc:mysql://localhost:3306/helpinghand\r\n    #spring.datasource.username=root\r\n    #spring.datasource.password=\r\n    #spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    #spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    #spring.jpa.hibernate.ddl-auto=create-drop\r\n    #spring.jpa.show-sql=true\r\n\r\nI have removed my password in the application.properities class.\r\n\r\nI have refreshed the schema in MySQL.\r\n\r\nI have deleted the entire schema from the database and recreated it.  I have rebuilt my maven project many times.  For some reason when the database starts up it names the columns in the format &quot;first_name&quot; instead of firstName.  \r\n[enter image description here][1]\r\n\r\nThe database also does not recognize the &quot;not null&quot; attributes I have on some of the variables in my User class.\r\n\r\nIt also doesn&#39;t recognize the id parameter of my model.  If I use a manual query in MySQL to enter a row into the database I have to include an id value.  Shouldn&#39;t this be auto generated?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GACBo.png","title":"Spring Boot model not updating in database","body":"<p>I am using a simple spring boot application and I cannot get my column names to update in my database.  I CAN get the name of the tables to update, but I cannot get the column names to update.</p>\n<p>Here is my User class:</p>\n<pre><code>package com.helpinghand.HelpingHand.Backend.Model;\n\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\n\n@Entity\n@Table(name = &quot;User&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @Column(name = &quot;firstName&quot;, nullable = false)\n    private String firstName;\n\n    @Column(nullable = false)\n    private String lastName;\n\n    @Column(nullable = false)\n    private String phoneNumber;\n\n    @Column(nullable = false)\n    private String streetAddress;\n\n    @Column(nullable = false)\n    private String city;\n\n    @Column(nullable = false)\n    private String state;\n\n    @Column(nullable = false)\n    private String zip;\n\n    @Column(nullable = false, unique = true)\n    private String email;\n\n    @Column(nullable = false)\n    private boolean isAdmin;\n\n    @Column(nullable = false)\n    private String password;\n\n    @Column(nullable = false)\n    private LocalDateTime createdDate;\n\n    public User() {\n    }\n\n    public User(String firstName, String lastName, String phoneNumber, String streetAddress, String city, String state, String zip, String email, boolean isAdmin, LocalDateTime createDate, String password) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.phoneNumber = phoneNumber;\n        this.streetAddress = streetAddress;\n        this.city = city;\n        this.state = state;\n        this.zip = zip;\n        this.email = email;\n        this.isAdmin = isAdmin;\n        this.createdDate = createDate;\n//        this.password = password;\n        setPassword(password);  // Set the hashed password\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getStreetAddress() {\n        return streetAddress;\n    }\n\n    public void setStreetAddress(String streetAddress) {\n        this.streetAddress = streetAddress;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    public String getState() {\n        return state;\n    }\n\n    public void setState(String state) {\n        this.state = state;\n    }\n\n    public String getZip() {\n        return zip;\n    }\n\n    public void setZip(String zip) {\n        this.zip = zip;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public boolean isAdmin() {\n        return isAdmin;\n    }\n\n    public void setAdmin(boolean admin) {\n        isAdmin = admin;\n    }\n\n    public LocalDateTime getCreatedDate() {\n        return createdDate;\n    }\n\n    public void setCreatedDate(LocalDateTime createDate) {\n        this.createdDate = createDate;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n//    public void setPassword(String password) {\n//        this.password = password;\n//    }\n\n    public void setPassword(String password) {\n        // TODO: Perform password hashing here\n        this.password = hashPassword(password);\n    }\n\n    private String hashPassword(String password) {\n        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n        return passwordEncoder.encode(password);\n    }\n}\n</code></pre>\n<p>Here is my application.properties class:</p>\n<pre><code>server.port = 8080\n\nspring.datasource.url=jdbc:mysql://localhost:3306/helpinghand\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n#spring.jpa.hibernate.ddl-auto=none\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n\n#server.port=8080\n#\n#spring.datasource.url=jdbc:mysql://localhost:3306/helpinghand\n#spring.datasource.username=root\n#spring.datasource.password=\n#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n#spring.jpa.hibernate.ddl-auto=create-drop\n#spring.jpa.show-sql=true\n</code></pre>\n<p>I have removed my password in the application.properities class.</p>\n<p>I have refreshed the schema in MySQL.</p>\n<p>I have deleted the entire schema from the database and recreated it.  I have rebuilt my maven project many times.  For some reason when the database starts up it names the columns in the format &quot;first_name&quot; instead of firstName.<br />\n<a href=\"https://i.stack.imgur.com/GACBo.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The database also does not recognize the &quot;not null&quot; attributes I have on some of the variables in my User class.</p>\n<p>It also doesn't recognize the id parameter of my model.  If I use a manual query in MySQL to enter a row into the database I have to include an id value.  Shouldn't this be auto generated?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":9605621,"reputation":37107,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"score":0,"creation_date":1570444610,"post_id":58267430,"comment_id":102902938,"body_markdown":"Have you tried changing the configuration from `offset.storage.file.filename=/tmp/connect.offsets` to e.g. `offset.storage.file.filename=\\kafka\\test\\connect.offsets` (make sure to create `\\kafka\\test\\` )","body":"Have you tried changing the configuration from <code>offset.storage.file.filename=&#47;tmp&#47;connect.offsets</code> to e.g. <code>offset.storage.file.filename=\\kafka\\test\\connect.offsets</code> (make sure to create `\\kafka\\test` )"},{"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"score":0,"creation_date":1570444926,"post_id":58267430,"comment_id":102903075,"body_markdown":"@GiorgosMyrianthous I should create your suggested directory in the kafka-connect directory?","body":"@GiorgosMyrianthous I should create your suggested directory in the kafka-connect directory?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1570472460,"creation_date":1570472460,"answer_id":58275115,"question_id":58267430,"body_markdown":"&gt; I am using Windows 10 which doesn&#39;t have this path.\r\n\r\nThen change it to a path that does exist? \r\n\r\n    file://c:/Users/your_name/kafka_connect.offsets\r\n\r\nAlternatively, run `connect-distributed.bat`, which doesn&#39;t use files for offsets and stores that data back into a Kafka topic. \r\n\r\n---\r\n\r\nNote: Kafka itself should be reporting a similar error because the default `logs.dir` is under `/tmp` as well","title":"Getting NoSuchFileException: while starting Kafka instance","body":"<blockquote>\n  <p>I am using Windows 10 which doesn't have this path.</p>\n</blockquote>\n\n<p>Then change it to a path that does exist? </p>\n\n<pre><code>file://c:/Users/your_name/kafka_connect.offsets\n</code></pre>\n\n<p>Alternatively, run <code>connect-distributed.bat</code>, which doesn't use files for offsets and stores that data back into a Kafka topic. </p>\n\n<hr>\n\n<p>Note: Kafka itself should be reporting a similar error because the default <code>logs.dir</code> is under <code>/tmp</code> as well</p>\n"},{"tags":[],"owner":{"account_id":20567806,"reputation":35,"user_id":15096732,"display_name":"Sidhant Suvagiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690549493,"creation_date":1690549493,"answer_id":76788091,"question_id":58267430,"body_markdown":"After searching for an hour, I found a solution.\r\n\r\nOne Solution is Running `connect-distributed.bat`\r\n\r\n\r\n----------\r\n\r\n\r\nBut if you want to use `connect-standalone.bat`, Just create a new folder (`tmp`) in your Kafka folder.\r\n\r\nand then change the value mentioned below in `connect-standalone.properties`.\r\n\r\n    offset.storage.file.filename=C:/kafka/tmp/connect.offsets\r\n\r\n\r\nAfter that, Restart Zookeeper and Kafka and run Kafka-connect again. now there will be no errors. It will automatically create a new file name in the tmp folder called `connect.offsets`","title":"Getting NoSuchFileException: while starting Kafka instance","body":"<p>After searching for an hour, I found a solution.</p>\n<p>One Solution is Running <code>connect-distributed.bat</code></p>\n<hr />\n<p>But if you want to use <code>connect-standalone.bat</code>, Just create a new folder (<code>tmp</code>) in your Kafka folder.</p>\n<p>and then change the value mentioned below in <code>connect-standalone.properties</code>.</p>\n<pre><code>offset.storage.file.filename=C:/kafka/tmp/connect.offsets\n</code></pre>\n<p>After that, Restart Zookeeper and Kafka and run Kafka-connect again. now there will be no errors. It will automatically create a new file name in the tmp folder called <code>connect.offsets</code></p>\n"}],"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3367,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58275115,"answer_count":2,"score":2,"last_activity_date":1690549493,"creation_date":1570442993,"question_id":58267430,"body_markdown":"I want to use Apache Kafka Connect to consume tweets from Twitter and get them into my Kafka instance. I met a strange problem, namely, I am running a script:\r\n\r\n```\r\nconnect-standalone.bat connect-standalone.properties twitter.properties\r\n```\r\n\r\nand I am receiving a list of errors in console log like:\r\n\r\n```\r\n[2019-10-07 11:48:02,758] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\r\n[2019-10-07 11:48:12,759] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Flush of offsets threw an unexpected exception:  (org.apache.kafka.connect.runtime.WorkerSourceTask)\r\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n        at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\r\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.commitOffsets(WorkerSourceTask.java:472)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.commit(SourceTaskOffsetCommitter.java:111)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.access$000(SourceTaskOffsetCommitter.java:46)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter$1.run(SourceTaskOffsetCommitter.java:84)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:101)\r\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:105)\r\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:99)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        ... 3 more\r\nCaused by: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:231)\r\n        at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\r\n        at java.base/java.nio.file.Files.newOutputStream(Files.java:219)\r\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:92)\r\n        ... 6 more\r\n[2019-10-07 11:48:12,763] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\r\n[2019-10-07 11:48:22,765] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Flush of offsets threw an unexpected exception:  (org.apache.kafka.connect.runtime.WorkerSourceTask)\r\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n        at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\r\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.commitOffsets(WorkerSourceTask.java:472)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.commit(SourceTaskOffsetCommitter.java:111)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.access$000(SourceTaskOffsetCommitter.java:46)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter$1.run(SourceTaskOffsetCommitter.java:84)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:101)\r\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:105)\r\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:99)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        ... 3 more\r\nCaused by: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:231)\r\n        at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\r\n        at java.base/java.nio.file.Files.newOutputStream(Files.java:219)\r\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:92)\r\n        ... 6 more\r\n[2019-10-07 11:48:22,770] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\r\n[2019-10-07 11:48:32,772] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Flush of offsets threw an unexpected exception:  (org.apache.kafka.connect.runtime.WorkerSourceTask)\r\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n        at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\r\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.commitOffsets(WorkerSourceTask.java:472)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.commit(SourceTaskOffsetCommitter.java:111)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.access$000(SourceTaskOffsetCommitter.java:46)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter$1.run(SourceTaskOffsetCommitter.java:84)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:101)\r\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:105)\r\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:99)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        ... 3 more\r\nCaused by: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:231)\r\n        at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\r\n        at java.base/java.nio.file.Files.newOutputStream(Files.java:219)\r\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:92)\r\n        ... 6 more\r\n[2019-10-07 11:48:32,776] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\r\n```\r\n\r\nSeemingly this should not work but my Kafka-Consumer which is listening to Kafka-Cluster is receiving tweets despite these errors which occurs while Kafka start. \r\n\r\nMy connect-standalone.properties looks like:\r\n\r\n```\r\nbootstrap.servers=localhost:9092\r\n\r\nkey.converter=org.apache.kafka.connect.json.JsonConverter\r\nvalue.converter=org.apache.kafka.connect.json.JsonConverter\r\n\r\nkey.converter.schemas.enable=true\r\nvalue.converter.schemas.enable=true\r\n\r\noffset.storage.file.filename=/tmp/connect.offsets\r\n\r\noffset.flush.interval.ms=10000\r\n\r\nplugin.path=connectors\r\n\r\n```\r\ntwitter.properties looks like:\r\n```\r\nname=TwitterSourceDemo\r\ntasks.max=1\r\nconnector.class=com.github.jcustenborder.kafka.connect.twitter.TwitterSourceConnector\r\n\r\ntwitter.oauth.accessTokenSecret=accesTokenSecret\r\nprocess.deletes=false\r\nfilter.keywords=bitcoin\r\nkafka.status.topic=twitter_status_connect\r\nkafka.delete.topic=twitter_deletes_connect\r\ntwitter.oauth.consumerSecret=consumerSecret\r\ntwitter.oauth.accessToken=accessToken\r\ntwitter.oauth.consumerKey=consumerKey\r\n```\r\nVisual tree of my project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m looking for a problem in the line: \r\n```\r\noffset.storage.file.filename=/tmp/connect.offsets\r\n```\r\nbecause I am using Windows 10 which doesn&#39;t have this path.\r\n\r\nI want to know if it is possible to fix my configuration to rid off these errors while Kafka start. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C4s4t.png\r\n\r\nI will be grateful for a suggestion how to fix this problem. ","title":"Getting NoSuchFileException: while starting Kafka instance","body":"<p>I want to use Apache Kafka Connect to consume tweets from Twitter and get them into my Kafka instance. I met a strange problem, namely, I am running a script:</p>\n\n<pre><code>connect-standalone.bat connect-standalone.properties twitter.properties\n</code></pre>\n\n<p>and I am receiving a list of errors in console log like:</p>\n\n<pre><code>[2019-10-07 11:48:02,758] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\n[2019-10-07 11:48:12,759] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Flush of offsets threw an unexpected exception:  (org.apache.kafka.connect.runtime.WorkerSourceTask)\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n        at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.commitOffsets(WorkerSourceTask.java:472)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.commit(SourceTaskOffsetCommitter.java:111)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.access$000(SourceTaskOffsetCommitter.java:46)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter$1.run(SourceTaskOffsetCommitter.java:84)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:101)\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:105)\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:99)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        ... 3 more\nCaused by: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:231)\n        at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\n        at java.base/java.nio.file.Files.newOutputStream(Files.java:219)\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:92)\n        ... 6 more\n[2019-10-07 11:48:12,763] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\n[2019-10-07 11:48:22,765] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Flush of offsets threw an unexpected exception:  (org.apache.kafka.connect.runtime.WorkerSourceTask)\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n        at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.commitOffsets(WorkerSourceTask.java:472)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.commit(SourceTaskOffsetCommitter.java:111)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.access$000(SourceTaskOffsetCommitter.java:46)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter$1.run(SourceTaskOffsetCommitter.java:84)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:101)\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:105)\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:99)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        ... 3 more\nCaused by: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:231)\n        at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\n        at java.base/java.nio.file.Files.newOutputStream(Files.java:219)\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:92)\n        ... 6 more\n[2019-10-07 11:48:22,770] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\n[2019-10-07 11:48:32,772] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Flush of offsets threw an unexpected exception:  (org.apache.kafka.connect.runtime.WorkerSourceTask)\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n        at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.commitOffsets(WorkerSourceTask.java:472)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.commit(SourceTaskOffsetCommitter.java:111)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.access$000(SourceTaskOffsetCommitter.java:46)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter$1.run(SourceTaskOffsetCommitter.java:84)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:101)\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:105)\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:99)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        ... 3 more\nCaused by: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:231)\n        at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\n        at java.base/java.nio.file.Files.newOutputStream(Files.java:219)\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:92)\n        ... 6 more\n[2019-10-07 11:48:32,776] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\n</code></pre>\n\n<p>Seemingly this should not work but my Kafka-Consumer which is listening to Kafka-Cluster is receiving tweets despite these errors which occurs while Kafka start. </p>\n\n<p>My connect-standalone.properties looks like:</p>\n\n<pre><code>bootstrap.servers=localhost:9092\n\nkey.converter=org.apache.kafka.connect.json.JsonConverter\nvalue.converter=org.apache.kafka.connect.json.JsonConverter\n\nkey.converter.schemas.enable=true\nvalue.converter.schemas.enable=true\n\noffset.storage.file.filename=/tmp/connect.offsets\n\noffset.flush.interval.ms=10000\n\nplugin.path=connectors\n\n</code></pre>\n\n<p>twitter.properties looks like:</p>\n\n<pre><code>name=TwitterSourceDemo\ntasks.max=1\nconnector.class=com.github.jcustenborder.kafka.connect.twitter.TwitterSourceConnector\n\ntwitter.oauth.accessTokenSecret=accesTokenSecret\nprocess.deletes=false\nfilter.keywords=bitcoin\nkafka.status.topic=twitter_status_connect\nkafka.delete.topic=twitter_deletes_connect\ntwitter.oauth.consumerSecret=consumerSecret\ntwitter.oauth.accessToken=accessToken\ntwitter.oauth.consumerKey=consumerKey\n</code></pre>\n\n<p>Visual tree of my project:</p>\n\n<p><a href=\"https://i.stack.imgur.com/C4s4t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C4s4t.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm looking for a problem in the line: </p>\n\n<pre><code>offset.storage.file.filename=/tmp/connect.offsets\n</code></pre>\n\n<p>because I am using Windows 10 which doesn't have this path.</p>\n\n<p>I want to know if it is possible to fix my configuration to rid off these errors while Kafka start. </p>\n\n<p>I will be grateful for a suggestion how to fix this problem. </p>\n"},{"tags":["java","maven","maven-war-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690457194,"post_id":76771587,"comment_id":135358086,"body_markdown":"The maven-war-plugin is not intended to copy things?.. Why do you need to do that? I","body":"The maven-war-plugin is not intended to copy things?.. Why do you need to do that? I"},{"owner":{"account_id":8953903,"reputation":11,"user_id":6679012,"display_name":"Michail Touloupis"},"score":0,"creation_date":1690460183,"post_id":76771587,"comment_id":135358745,"body_markdown":"Because my WAR file is included in an EAR file and the maven-ear-plugin that I use, moves all jars into the root lib of the EAR file. But I need this particular myJar.jar under the WEB-INF/lib of the WAR file.","body":"Because my WAR file is included in an EAR file and the maven-ear-plugin that I use, moves all jars into the root lib of the EAR file. But I need this particular myJar.jar under the WEB-INF/lib of the WAR file."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690476735,"post_id":76771587,"comment_id":135362707,"body_markdown":"If it&#39;s moved you are using skinny wars which means it&#39;s duplicated in other wars as well. so where is the problem?","body":"If it&#39;s moved you are using skinny wars which means it&#39;s duplicated in other wars as well. so where is the problem?"},{"owner":{"account_id":8953903,"reputation":11,"user_id":6679012,"display_name":"Michail Touloupis"},"score":0,"creation_date":1690533722,"post_id":76771587,"comment_id":135370185,"body_markdown":"The problem is that it doesn&#39;t copy only the jar file into the WAR file, but the whole directory v1/myJar.jar\nBut this changes the structure of the WAR and it doesn&#39;t work.","body":"The problem is that it doesn&#39;t copy only the jar file into the WAR file, but the whole directory v1/myJar.jar But this changes the structure of the WAR and it doesn&#39;t work."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690544146,"post_id":76771587,"comment_id":135372233,"body_markdown":"It sounds like a circle because it&#39;s removed because it&#39;s duplicated ...why do you have a directory v1 somewhere? The lib directory is not allowed to have a sub directory .... ??","body":"It sounds like a circle because it&#39;s removed because it&#39;s duplicated ...why do you have a directory v1 somewhere? The lib directory is not allowed to have a sub directory .... ??"},{"owner":{"account_id":8953903,"reputation":11,"user_id":6679012,"display_name":"Michail Touloupis"},"score":0,"creation_date":1690550259,"post_id":76771587,"comment_id":135373425,"body_markdown":"The myJar.jar is not duplicated. I have let&#39;s say myJar1.jar under v1 and myJar2.jar under v2.\nmyJar1.jar should be added under WEB-INF/lib of WAR file 1\nmyJar2.jar should be added under WEB-INF/lib of WAR file 2\nThe reason for subfolders v1 and v2 is that I want to have 2 different versions of the module running in parallel.","body":"The myJar.jar is not duplicated. I have let&#39;s say myJar1.jar under v1 and myJar2.jar under v2. myJar1.jar should be added under WEB-INF/lib of WAR file 1 myJar2.jar should be added under WEB-INF/lib of WAR file 2 The reason for subfolders v1 and v2 is that I want to have 2 different versions of the module running in parallel."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690839121,"post_id":76771587,"comment_id":135406280,"body_markdown":"That does not work...because the classloading will not really support that based on the standards... Only directory lib is supported as far as I know...","body":"That does not work...because the classloading will not really support that based on the standards... Only directory lib is supported as far as I know..."}],"answers":[{"tags":[],"owner":{"account_id":29109510,"reputation":38,"user_id":22299585,"display_name":"Amine Hayani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690549447,"creation_date":1690549447,"answer_id":76788082,"question_id":76771587,"body_markdown":"    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;webResources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.build.directory}/lib/v1&lt;/directory&gt;\r\n                &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;myJar.jar&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/webResources&gt;\r\n    &lt;/configuration&gt;\r\n\r\nWith this configuration, only the myJar.jar file will be copied to WEB-INF/lib without the v1 subfolder. The resulting WAR file structure will be as follows:\r\n\r\n\r\n    └── WEB-INF\r\n          └─── lib\r\n                └── myJar.jar\r\n\r\nyou can specify the specific files you want to include, and any subdirectories will be ignored. This way, you can achieve the desired flattened directory structure in the WAR file.","title":"maven-war-plugin copies only subdirectories (including files). Not just files","body":"<pre><code>&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.3.2&lt;/version&gt;\n&lt;configuration&gt;\n    &lt;webResources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.build.directory}/lib/v1&lt;/directory&gt;\n            &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\n            &lt;includes&gt;\n                &lt;include&gt;myJar.jar&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/webResources&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>With this configuration, only the myJar.jar file will be copied to WEB-INF/lib without the v1 subfolder. The resulting WAR file structure will be as follows:</p>\n<pre><code>└── WEB-INF\n      └─── lib\n            └── myJar.jar\n</code></pre>\n<p>you can specify the specific files you want to include, and any subdirectories will be ignored. This way, you can achieve the desired flattened directory structure in the WAR file.</p>\n"}],"owner":{"account_id":8953903,"reputation":11,"user_id":6679012,"display_name":"Michail Touloupis"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690549447,"creation_date":1690376285,"question_id":76771587,"body_markdown":"I am using the maven-war-plugin (version 3.3.2) in order to copy a jar file from target/lib/v1 into the WEB-INF/lib of the WAR file.\r\n\r\nThe jar file is located under: **target/lib/v1/myJar.jar**\r\n\r\nThe pom.xml looks like this: \r\n\r\n```&lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;webResources&gt;\r\n            &lt;resource&gt;\r\n              &lt;directory&gt;${project.build.directory}/lib/v1&lt;/directory&gt;\r\n              &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\r\n            &lt;/resource&gt;\r\n          &lt;/webResources&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nUnfortunately this doesn&#39;t work as the jar is not copied under WEB-INF/lib.\r\n\r\nI have the feeling that the maven-war-plugin is looking for a folder to copy.\r\n\r\nI modified my pom.xml as shown below (I removed the v1):\r\n```&lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;webResources&gt;\r\n            &lt;resource&gt;\r\n              &lt;directory&gt;${project.build.directory}/lib&lt;/directory&gt;\r\n              &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\r\n            &lt;/resource&gt;\r\n          &lt;/webResources&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nand the jar was copied, but with the subfolder v1.\r\n\r\nSo, the WAR was like this: \r\n``` \r\n    └── WEB-INF\r\n          └─── lib\r\n                └── v1\r\n                     └── myJar.jar\r\n```\r\n\r\nBut this one doesn&#39;t help, as the jar has to be directly under lib.\r\n\r\nAny help would be really appreciated.","title":"maven-war-plugin copies only subdirectories (including files). Not just files","body":"<p>I am using the maven-war-plugin (version 3.3.2) in order to copy a jar file from target/lib/v1 into the WEB-INF/lib of the WAR file.</p>\n<p>The jar file is located under: <strong>target/lib/v1/myJar.jar</strong></p>\n<p>The pom.xml looks like this:</p>\n<pre><code>        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;webResources&gt;\n            &lt;resource&gt;\n              &lt;directory&gt;${project.build.directory}/lib/v1&lt;/directory&gt;\n              &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\n            &lt;/resource&gt;\n          &lt;/webResources&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>Unfortunately this doesn't work as the jar is not copied under WEB-INF/lib.</p>\n<p>I have the feeling that the maven-war-plugin is looking for a folder to copy.</p>\n<p>I modified my pom.xml as shown below (I removed the v1):</p>\n<pre><code>        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;webResources&gt;\n            &lt;resource&gt;\n              &lt;directory&gt;${project.build.directory}/lib&lt;/directory&gt;\n              &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\n            &lt;/resource&gt;\n          &lt;/webResources&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>and the jar was copied, but with the subfolder v1.</p>\n<p>So, the WAR was like this:</p>\n<pre><code>    └── WEB-INF\n          └─── lib\n                └── v1\n                     └── myJar.jar\n</code></pre>\n<p>But this one doesn't help, as the jar has to be directly under lib.</p>\n<p>Any help would be really appreciated.</p>\n"},{"tags":["java","base64"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689771212,"post_id":76719143,"comment_id":135260208,"body_markdown":"I&#39;m puzzled. Are you saying the extension is missing in parameter `filename`?","body":"I&#39;m puzzled. Are you saying the extension is missing in parameter <code>filename</code>?"},{"owner":{"account_id":38657,"reputation":2015,"user_id":111110,"accept_rate":92,"display_name":"Broken_Window"},"score":0,"creation_date":1689802662,"post_id":76719143,"comment_id":135267020,"body_markdown":"What I understood is that you want to get the name and the file extension from the Base64 String because it is not given to you via the filename parameter. This is not possible. The best you can do is to read the first characters and compare then to known file headers to guess the file extension. For a pdf file the first four characters will be &#39;%PDF&#39;","body":"What I understood is that you want to get the name and the file extension from the Base64 String because it is not given to you via the filename parameter. This is not possible. The best you can do is to read the first characters and compare then to known file headers to guess the file extension. For a pdf file the first four characters will be &#39;%PDF&#39;"}],"owner":{"account_id":29047375,"reputation":1,"user_id":22250910,"display_name":"Nhat Huy Dang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690549428,"creation_date":1689753798,"question_id":76719143,"body_markdown":"This function is used to convert a Base64 String to file, but the problem here is the data only read then write to the file, I cannot define what type of that file is (example: .png, .jpeg, .pdf). Help me to solve it!\r\n\r\n```\r\npublic static File convertBase64ToFile(String str, String filePath, String fileName) {\r\n        // Note preferred way of declaring an array variable\r\n        File file = new File(filePath + fileName);\r\n        byte[] data = Base64.getDecoder().decode(str);\r\n        try {\r\n            FileUtils.writeByteArrayToFile(file, data);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return file;\r\n    }\r\n```\r\n\r\n\r\n\r\nFor example, the file_content is &quot;/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEB...&quot;. I want to get the file name with its extension like &quot;image.jpg&quot;, and the same with pdf or png without creating the new file, only get the name and extension (I cannot use the apache tika for some reasons).","title":"Get extension from file created from Base64 string","body":"<p>This function is used to convert a Base64 String to file, but the problem here is the data only read then write to the file, I cannot define what type of that file is (example: .png, .jpeg, .pdf). Help me to solve it!</p>\n<pre><code>public static File convertBase64ToFile(String str, String filePath, String fileName) {\n        // Note preferred way of declaring an array variable\n        File file = new File(filePath + fileName);\n        byte[] data = Base64.getDecoder().decode(str);\n        try {\n            FileUtils.writeByteArrayToFile(file, data);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return file;\n    }\n</code></pre>\n<p>For example, the file_content is &quot;/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEB...&quot;. I want to get the file name with its extension like &quot;image.jpg&quot;, and the same with pdf or png without creating the new file, only get the name and extension (I cannot use the apache tika for some reasons).</p>\n"},{"tags":["java","spring-boot","h2"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1689763274,"post_id":76720382,"comment_id":135258316,"body_markdown":"Write a select query? H2 is sql based db.","body":"Write a select query? H2 is sql based db."},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1689763296,"post_id":76720382,"comment_id":135258321,"body_markdown":"If the repository is not throwing any error then it is saved. To forcefully persist the `entity` you can use `flush()` method. Another way to verify if the `entity` exists is by `querying` for the `entity` using the `Id` you got while saving the `entity`.","body":"If the repository is not throwing any error then it is saved. To forcefully persist the <code>entity</code> you can use <code>flush()</code> method. Another way to verify if the <code>entity</code> exists is by <code>querying</code> for the <code>entity</code> using the <code>Id</code> you got while saving the <code>entity</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689763461,"post_id":76720382,"comment_id":135258360,"body_markdown":"btw. *url: jdbc:h2:file:~/src/main/resources/db/hellodb* doesn&#39;t look right - that&#39;s a path in what looks like your *dev* environment which shouldn&#39;t be present in a deployment","body":"btw. <i>url: jdbc:h2:file:~/src/main/resources/db/hellodb</i> doesn&#39;t look right - that&#39;s a path in what looks like your <i>dev</i> environment which shouldn&#39;t be present in a deployment"},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1689763531,"post_id":76720382,"comment_id":135258376,"body_markdown":"@Chaosfire does it work even if I use a File as my db and not In-memory? When I open the h2 console I couldn&#39;t see anything  like my tables or whatnot and if I also check the hellodb.text in the resource folder of my spring boot app I also couldn&#39;t see any data that persists. :(","body":"@Chaosfire does it work even if I use a File as my db and not In-memory? When I open the h2 console I couldn&#39;t see anything  like my tables or whatnot and if I also check the hellodb.text in the resource folder of my spring boot app I also couldn&#39;t see any data that persists. :("},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1689763669,"post_id":76720382,"comment_id":135258412,"body_markdown":"@g00se since I only need to create a demo spring boot app that is using File as its persistence I think it will sufficed for this use case. But I appreciate the heads up. &lt;3","body":"@g00se since I only need to create a demo spring boot app that is using File as its persistence I think it will sufficed for this use case. But I appreciate the heads up. &lt;3"},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1689763795,"post_id":76720382,"comment_id":135258443,"body_markdown":"@Prog_G is there no other way for me to see the data entries in my File db? the same way you can see the records in NoSql/Sql databases for example?","body":"@Prog_G is there no other way for me to see the data entries in my File db? the same way you can see the records in NoSql/Sql databases for example?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689763806,"post_id":76720382,"comment_id":135258445,"body_markdown":"You do realise that *file* url (so it can&#39;t be in-memory) is off your *home* directory? So are you looking in the right place? Incidentally, I wouldn&#39;t use `~` as that&#39;s a shell thing. Maybe that didn&#39;t even resolve... `ls -l ~/src/main/resources/db/hellodb`","body":"You do realise that <i>file</i> url (so it can&#39;t be in-memory) is off your <i>home</i> directory? So are you looking in the right place? Incidentally, I wouldn&#39;t use <code>~</code> as that&#39;s a shell thing. Maybe that didn&#39;t even resolve... <code>ls -l ~&#47;src&#47;main&#47;resources&#47;db&#47;hellodb</code>"},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1689763971,"post_id":76720382,"comment_id":135258472,"body_markdown":"@g00se can you possibly expound more on your above comment? This is my first time using a File as my db for a demo requirement and I am so lost since I am only familiar with using NoSql and Sql databases..huhu","body":"@g00se can you possibly expound more on your above comment? This is my first time using a File as my db for a demo requirement and I am so lost since I am only familiar with using NoSql and Sql databases..huhu"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689764314,"post_id":76720382,"comment_id":135258535,"body_markdown":"You can use H2 console just as with in-memory version. Using the url similar to the one in properties. Of course you must point to the right directory as stated in above comment.","body":"You can use H2 console just as with in-memory version. Using the url similar to the one in properties. Of course you must point to the right directory as stated in above comment."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689764512,"post_id":76720382,"comment_id":135258585,"body_markdown":"And remember that your application must be running because even if it is file storage the database engine is embedded. Not server version.","body":"And remember that your application must be running because even if it is file storage the database engine is embedded. Not server version."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689764942,"post_id":76720382,"comment_id":135258688,"body_markdown":"OK. I&#39;ve just got h2 and run it. You should be doing `ls -l ~/src/main/resources/db/hellodb.mv.db`","body":"OK. I&#39;ve just got h2 and run it. You should be doing <code>ls -l ~&#47;src&#47;main&#47;resources&#47;db&#47;hellodb.mv.db</code>"},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1689765674,"post_id":76720382,"comment_id":135258811,"body_markdown":"@g00se I change my yml config to url: jdbc:h2:file:ls -l ~/src/main/resources/db/hellodb.mv and got this error now in my spring boot app Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: A file path that is implicitly relative to the current working directory is not allowed in the database URL &quot;jdbc:h2:file:ls -l ~/src/main/resources/db/hellodb.mv&quot;. Use an absolute path, ~/name, ./name, or the baseDir setting instead.","body":"@g00se I change my yml config to url: jdbc:h2:file:ls -l ~/src/main/resources/db/hellodb.mv and got this error now in my spring boot app Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: A file path that is implicitly relative to the current working directory is not allowed in the database URL &quot;jdbc:h2:file:ls -l ~/src/main/resources/db/hellodb.mv&quot;. Use an absolute path, ~/name, ./name, or the baseDir setting instead."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689766241,"post_id":76720382,"comment_id":135258953,"body_markdown":"*I change my yml config to url: jdbc:h2:file:ls -l ~/src/main/resources/db/hellodb.mv*. No, you&#39;re confusing your url with the commands I&#39;m giving you to attain your *original objective* of showing your db file.Restore the original url and then run the last code I gave you *in the terminal*","body":"<i>I change my yml config to url: jdbc:h2:file:ls -l ~/src/main/resources/db/hellodb.mv</i>. No, you&#39;re confusing your url with the commands I&#39;m giving you to attain your <i>original objective</i> of showing your db file.Restore the original url and then run the last code I gave you <i>in the terminal</i>"},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1689766285,"post_id":76720382,"comment_id":135258966,"body_markdown":"Hi team. It finally works huhu  I just need to add a config in my yml to enable the h2 console now I can get in using this jdbc:h2:file:/src/main/resources/db/hellodb . Thank you everyone. You are all my hero. I love y&#39;all sincerely from the bottom of my dev heart! &lt;3","body":"Hi team. It finally works huhu  I just need to add a config in my yml to enable the h2 console now I can get in using this jdbc:h2:file:/src/main/resources/db/hellodb . Thank you everyone. You are all my hero. I love y&#39;all sincerely from the bottom of my dev heart! &lt;3"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689766593,"post_id":76720382,"comment_id":135259032,"body_markdown":"Good. I would use a different file url though. Something like `mkdir ~/.myappdb` then `url: jdbc:h2:file:~/.myappdb`","body":"Good. I would use a different file url though. Something like <code>mkdir ~&#47;.myappdb</code> then <code>url: jdbc:h2:file:~&#47;.myappdb</code>"}],"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690549305,"creation_date":1689762960,"question_id":76720382,"body_markdown":"I would love to hear your insights regarding my dilemma.\r\n\r\nHere it goes.\r\n\r\nI want to check if my data entries from my api persists successfully in my H2 file db, but I don&#39;t have any clue on how to check persisted data via file db since I am only familiar in using NoSQL and SQL databases.\r\n\r\nhere is my application.yml configs\r\n\r\n    server:\r\n      port: 8082\r\n    \r\n    spring:\r\n      application:\r\n        name: app1\r\n    \r\n      datasource:\r\n        url: jdbc:h2:file:~/src/main/resources/db/hellodb\r\n        username: \r\n        password:\r\n    \r\n      jpa:\r\n        database-platform: org.hibernate.dialect.H2Dialect\r\n        hibernate:\r\n          ddl-auto: update\r\n\r\n\r\nMy api result in postman gives 200ok as success response but I wanna check its in my file db.\r\n\r\nAny insights will be greatly appreciated. Thank you.\r\n\r\n\r\n","title":"How to check if my entries persists in my H2 file db?","body":"<p>I would love to hear your insights regarding my dilemma.</p>\n<p>Here it goes.</p>\n<p>I want to check if my data entries from my api persists successfully in my H2 file db, but I don't have any clue on how to check persisted data via file db since I am only familiar in using NoSQL and SQL databases.</p>\n<p>here is my application.yml configs</p>\n<pre><code>server:\n  port: 8082\n\nspring:\n  application:\n    name: app1\n\n  datasource:\n    url: jdbc:h2:file:~/src/main/resources/db/hellodb\n    username: \n    password:\n\n  jpa:\n    database-platform: org.hibernate.dialect.H2Dialect\n    hibernate:\n      ddl-auto: update\n</code></pre>\n<p>My api result in postman gives 200ok as success response but I wanna check its in my file db.</p>\n<p>Any insights will be greatly appreciated. Thank you.</p>\n"},{"tags":["java","junit","constructor","micronaut"],"owner":{"account_id":931451,"reputation":367,"user_id":961275,"accept_rate":80,"display_name":"Shreyash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690549136,"creation_date":1690475655,"question_id":76781781,"body_markdown":"I have a class called ServiceA. ServiceA has ServiceB&#39;s dependency injected. \r\n\r\nServiceB&#39;s constructor initializes a client (say ClientC) used to make a few network calls. The initialization of ClientC does a network call for a health check. \r\n\r\nThe client has code for connection pooling and handles all the complexity of the system. The whole scenario is represented through the code below:\r\n\r\n    class ClientC{\r\n\t\t\r\n\t\tpublic static Pool initialize(){\r\n\t\t\t// makes network call for health check and craetes connection pool.\r\n\t\t}\r\n\t}\r\n\r\n    @Singleton\r\n\tclass ServiceB{\r\n\r\n\t\tprivate Pool pool;\r\n\r\n\t\tpublic ServiceB(){\r\n\t\t\t// network calls made here in constructor.\r\n\t\t\tpool = ClientC.initialize();\r\n\t\t}\r\n\r\n\t\tpublic Pool getPool(){\r\n\t\t\treturn pool;\r\n\t\t}\t\t\r\n\t}\r\n\r\n    @Singleton\r\n\tclass ServiceA{\r\n\r\n\t\t@Inject\r\n\t\tprivate ServiceB serviceB;\r\n\r\n\t\tpublic String someFunction(){\r\n\t\t\tserviceB.getPool().doSomething();\r\n\t\t}\t\t\r\n\t}\r\n\r\n\t@MicronautTest\r\n\tpublic class ServiceATest{\r\n\t\t\r\n\t\t@Inject\r\n\t\tprivate ServiceA serviceA;\r\n\r\n\t\t@Test\r\n\t\tpublic void testSomeFucntion(){\r\n\t\t\t// Fails because no network call can be made in tests. \r\n\t\t}\t\r\n\r\n\t\t@MockBean(ServiceB.class)\r\n\t\tServiceB serviceB(){\r\n\t\t\tmockBean(ServiceB.class);\r\n\t\t}\t\r\n\t}\r\n\r\n\r\nNow I want to write a test for ServiceA, which has a mock dependency for ServiceB. But, since ServiceB&#39;s constructor is doing a health check for the ClientC, my tests are failing. Also, I do not want the tests to be dependent on availability of an external service. \r\nHow do I mock the dependency for ServiceB?","title":"Micronaut mock dependency for tests through constructor that has a service call","body":"<p>I have a class called ServiceA. ServiceA has ServiceB's dependency injected.</p>\n<p>ServiceB's constructor initializes a client (say ClientC) used to make a few network calls. The initialization of ClientC does a network call for a health check.</p>\n<p>The client has code for connection pooling and handles all the complexity of the system. The whole scenario is represented through the code below:</p>\n<pre><code>class ClientC{\n    \n    public static Pool initialize(){\n        // makes network call for health check and craetes connection pool.\n    }\n}\n\n@Singleton\nclass ServiceB{\n\n    private Pool pool;\n\n    public ServiceB(){\n        // network calls made here in constructor.\n        pool = ClientC.initialize();\n    }\n\n    public Pool getPool(){\n        return pool;\n    }       \n}\n\n@Singleton\nclass ServiceA{\n\n    @Inject\n    private ServiceB serviceB;\n\n    public String someFunction(){\n        serviceB.getPool().doSomething();\n    }       \n}\n\n@MicronautTest\npublic class ServiceATest{\n    \n    @Inject\n    private ServiceA serviceA;\n\n    @Test\n    public void testSomeFucntion(){\n        // Fails because no network call can be made in tests. \n    }   \n\n    @MockBean(ServiceB.class)\n    ServiceB serviceB(){\n        mockBean(ServiceB.class);\n    }   \n}\n</code></pre>\n<p>Now I want to write a test for ServiceA, which has a mock dependency for ServiceB. But, since ServiceB's constructor is doing a health check for the ClientC, my tests are failing. Also, I do not want the tests to be dependent on availability of an external service.\nHow do I mock the dependency for ServiceB?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1679676323,"post_id":53419438,"comment_id":133769581,"body_markdown":"This is not a duplicate of the other questions. That asked for a C solution, this asked for a Java solution.","body":"This is not a duplicate of the other questions. That asked for a C solution, this asked for a Java solution."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679829472,"post_id":53419438,"comment_id":133787437,"body_markdown":"And yet the duplicate is tagged with [tag:java] and the accepted answer is Java-based, with a solution that is very similar to the one in your own answer. In other words, it is a duplicate.","body":"And yet the duplicate is tagged with <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> and the accepted answer is Java-based, with a solution that is very similar to the one in your own answer. In other words, it is a duplicate."}],"answers":[{"tags":[],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1679923602,"creation_date":1542829282,"answer_id":53419439,"question_id":53419438,"body_markdown":"### I found this when searching for a solution:\r\nhttps://code.joejag.com/2013/move-your-mouse-pointer-with-java.html\r\n\r\nHowever, it didn&#39;t quite work for me since it moved the mouse pointer all over the place at random. This means I could only use the application when I was _not_ using my computer\r\n\r\nhttps://code.joejag.com/2013/move-your-mouse-pointer-with-java.html\r\n\r\n    import java.awt.Robot;\r\n    import java.util.Random;\r\n    \r\n    public class MouseMover {\r\n        public static final int FIVE_SECONDS = 5000;\r\n        public static final int MAX_Y = 400;\r\n        public static final int MAX_X = 400;\r\n    \r\n        public static void main(String... args) throws Exception {\r\n            Robot robot = new Robot();\r\n            Random random = new Random();\r\n            while (true) {\r\n                robot.mouseMove(random.nextInt(MAX_X), random.nextInt(MAX_Y));\r\n                Thread.sleep(FIVE_SECONDS);\r\n            }\r\n        }\r\n    }\r\n\r\n### I modified the solution to better suit my needs:\r\n\r\nThis version gets the mouse pointer&#39;s current location and moves the mouse to where it already is. From a user perspective the mouse doesn&#39;t move, but it _does_ prevent the computer from going idle.\r\n\r\n    import java.awt.*;\r\n    \r\n    public class MouseJiggle {\r\n        public static final int SLEEP_MILLIS = 60*1000;\r\n    \r\n        public static void main(String... args) throws Exception {\r\n            Robot robot = new Robot();\r\n            while (true) {\r\n                Point point = MouseInfo.getPointerInfo().getLocation();\r\n                robot.mouseMove(point.x, point.y);\r\n                System.out.println(&quot;Mouse Moved!!&quot;);\r\n                Thread.sleep(SLEEP_MILLIS);\r\n            }\r\n        }\r\n    }","title":"Create a Java application that keeps your computer from going idle without moving the mouse all over the place?","body":"<h3>I found this when searching for a solution:</h3>\n<p><a href=\"https://code.joejag.com/2013/move-your-mouse-pointer-with-java.html\" rel=\"nofollow noreferrer\">https://code.joejag.com/2013/move-your-mouse-pointer-with-java.html</a></p>\n<p>However, it didn't quite work for me since it moved the mouse pointer all over the place at random. This means I could only use the application when I was <em>not</em> using my computer</p>\n<p><a href=\"https://code.joejag.com/2013/move-your-mouse-pointer-with-java.html\" rel=\"nofollow noreferrer\">https://code.joejag.com/2013/move-your-mouse-pointer-with-java.html</a></p>\n<pre><code>import java.awt.Robot;\nimport java.util.Random;\n\npublic class MouseMover {\n    public static final int FIVE_SECONDS = 5000;\n    public static final int MAX_Y = 400;\n    public static final int MAX_X = 400;\n\n    public static void main(String... args) throws Exception {\n        Robot robot = new Robot();\n        Random random = new Random();\n        while (true) {\n            robot.mouseMove(random.nextInt(MAX_X), random.nextInt(MAX_Y));\n            Thread.sleep(FIVE_SECONDS);\n        }\n    }\n}\n</code></pre>\n<h3>I modified the solution to better suit my needs:</h3>\n<p>This version gets the mouse pointer's current location and moves the mouse to where it already is. From a user perspective the mouse doesn't move, but it <em>does</em> prevent the computer from going idle.</p>\n<pre><code>import java.awt.*;\n\npublic class MouseJiggle {\n    public static final int SLEEP_MILLIS = 60*1000;\n\n    public static void main(String... args) throws Exception {\n        Robot robot = new Robot();\n        while (true) {\n            Point point = MouseInfo.getPointerInfo().getLocation();\n            robot.mouseMove(point.x, point.y);\n            System.out.println(&quot;Mouse Moved!!&quot;);\n            Thread.sleep(SLEEP_MILLIS);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690549064,"creation_date":1679587681,"answer_id":75825405,"question_id":53419438,"body_markdown":"If you are using Windows, you can call the WinAPI [`SetThreadExecutionState`][1] function to prevent the computer from sleeping.\r\n\r\nTo achieve this, first I created a class file with native function definitions:\r\n\r\n    package com.example.natives;\r\n    \r\n    public class WindowsSleep {\r\n    \r\n    \tprivate static final boolean IS_WINDOWS;\r\n    \r\n    \tstatic {\r\n    \t\tIS_WINDOWS = System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;win&quot;);\r\n    \t\tSystem.load(&quot;windows-sleep.dll&quot;);\r\n    \t}\r\n    \r\n    \tprivate static native void preventSleep();\r\n    \r\n    \tprivate static native void allowSleep();\r\n    \r\n    \tpublic static void doPreventSleep() {\r\n    \t\tif (IS_WINDOWS)\r\n    \t\t\tpreventSleep();\r\n    \t\telse\r\n    \t\t\tthrow new UnsupportedOperationException(&quot;This operation only works on Windows machines&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void doAllowSleep() {\r\n    \t\tif (IS_WINDOWS)\r\n    \t\t\tallowSleep();\r\n    \t\telse\r\n    \t\t\tthrow new UnsupportedOperationException(&quot;This operation only works on Windows machines&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nThen I used [javah][2] to generate the following [header file][3]:\r\n\r\n    /* DO NOT EDIT THIS FILE - it is machine generated */\r\n    #include &lt;jni.h&gt;\r\n    /* Header for class com_example_natives_WindowsSleep */\r\n    \r\n    #ifndef _Included_com_example_natives_WindowsSleep\r\n    #define _Included_com_example_natives_WindowsSleep\r\n    #ifdef __cplusplus\r\n    extern &quot;C&quot; {\r\n    #endif\r\n    /*\r\n     * Class:     com_example_natives_WindowsSleep\r\n     * Method:    preventSleep\r\n     * Signature: ()V\r\n     */\r\n    JNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_preventSleep\r\n      (JNIEnv *, jclass);\r\n    \r\n    /*\r\n     * Class:     com_example_natives_WindowsSleep\r\n     * Method:    allowSleep\r\n     * Signature: ()V\r\n     */\r\n    JNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_allowSleep\r\n      (JNIEnv *, jclass);\r\n    \r\n    #ifdef __cplusplus\r\n    }\r\n    #endif\r\n    #endif\r\n\r\nAfter creating the header file, I wrote the following [C++][4] code:\r\n\r\n    #include &quot;windows-sleep.h&quot;\r\n    #include &lt;jni.h&gt;\r\n    #include &lt;Windows.h&gt;\r\n    \r\n    JNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_preventSleep(JNIEnv *, jclass) {\r\n        SetThreadExecutionState(ES_SYSTEM_REQUIRED | ES_DISPLAY_REQUIRED | ES_CONTINUOUS);\r\n    }\r\n    \r\n    JNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_allowSleep(JNIEnv *, jclass) {\r\n        SetThreadExecutionState(ES_CONTINUOUS);\r\n    }\r\n\r\nThen I used a [makefile][5] to compile it:\r\n\r\n    # Variables\r\n    CC = g++\r\n    JNI_PATH = C:/Program Files/Java/jdk1.8.0_202/include\r\n    JNI_MD_PATH = $(JNI_PATH)/win32\r\n    CFLAGS = -Wall -I&#39;$(JNI_PATH)&#39; -I&#39;$(JNI_MD_PATH)&#39; -shared\r\n    \r\n    # Output file\r\n    OUTPUT = windows-sleep.dll\r\n    \r\n    # Source file\r\n    SOURCE = windows-sleep.cpp\r\n    \r\n    # Rule to build the DLL\r\n    all: $(OUTPUT)\r\n    \r\n    $(OUTPUT): $(SOURCE)\r\n    \t$(CC) $(CFLAGS) $^ -o $@\r\n    \r\n    # Rule to clean the build artifacts\r\n    clean:\r\n    \trm -f $(OUTPUT)\r\n\r\nAfter compiling the DLL, I was able to call `doPreventSleep` to prevent my computer from sleeping. Keep in mind that [you have to keep calling this method][6] - you cannot just invoke it once. Here&#39;s an example:\r\n\r\n    ThreadFactory factory = r -&gt; {\r\n    \tThread thread = new Thread(r);\r\n    \t// Use daemon threads so they don&#39;t keep the JVM alive\r\n    \tthread.setDaemon(true);\r\n    \treturn thread;\r\n    };\r\n    \r\n    ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor(factory);\r\n    // Call doPreventSleep every 5 minutes\r\n    executor.scheduleAtFixedRate(() -&gt; WindowsSleep.doPreventSleep(), 0, 5, TimeUnit.MINUTES);\r\n    \r\n    // Do stuff\r\n    \r\n    executor.shutdownNow();\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-gb/windows/win32/api/winbase/nf-winbase-setthreadexecutionstate\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javah.html\r\n  [3]: https://www.learncpp.com/cpp-tutorial/header-files/\r\n  [4]: https://cplusplus.com/doc/tutorial/\r\n  [5]: https://www.gnu.org/software/make/manual/make.html\r\n  [6]: https://stackoverflow.com/a/27652326/5645656","title":"Create a Java application that keeps your computer from going idle without moving the mouse all over the place?","body":"<p>If you are using Windows, you can call the WinAPI <a href=\"https://learn.microsoft.com/en-gb/windows/win32/api/winbase/nf-winbase-setthreadexecutionstate\" rel=\"nofollow noreferrer\"><code>SetThreadExecutionState</code></a> function to prevent the computer from sleeping.</p>\n<p>To achieve this, first I created a class file with native function definitions:</p>\n<pre><code>package com.example.natives;\n\npublic class WindowsSleep {\n\n    private static final boolean IS_WINDOWS;\n\n    static {\n        IS_WINDOWS = System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;win&quot;);\n        System.load(&quot;windows-sleep.dll&quot;);\n    }\n\n    private static native void preventSleep();\n\n    private static native void allowSleep();\n\n    public static void doPreventSleep() {\n        if (IS_WINDOWS)\n            preventSleep();\n        else\n            throw new UnsupportedOperationException(&quot;This operation only works on Windows machines&quot;);\n    }\n\n    public static void doAllowSleep() {\n        if (IS_WINDOWS)\n            allowSleep();\n        else\n            throw new UnsupportedOperationException(&quot;This operation only works on Windows machines&quot;);\n    }\n\n}\n</code></pre>\n<p>Then I used <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javah.html\" rel=\"nofollow noreferrer\">javah</a> to generate the following <a href=\"https://www.learncpp.com/cpp-tutorial/header-files/\" rel=\"nofollow noreferrer\">header file</a>:</p>\n<pre><code>/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class com_example_natives_WindowsSleep */\n\n#ifndef _Included_com_example_natives_WindowsSleep\n#define _Included_com_example_natives_WindowsSleep\n#ifdef __cplusplus\nextern &quot;C&quot; {\n#endif\n/*\n * Class:     com_example_natives_WindowsSleep\n * Method:    preventSleep\n * Signature: ()V\n */\nJNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_preventSleep\n  (JNIEnv *, jclass);\n\n/*\n * Class:     com_example_natives_WindowsSleep\n * Method:    allowSleep\n * Signature: ()V\n */\nJNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_allowSleep\n  (JNIEnv *, jclass);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n<p>After creating the header file, I wrote the following <a href=\"https://cplusplus.com/doc/tutorial/\" rel=\"nofollow noreferrer\">C++</a> code:</p>\n<pre><code>#include &quot;windows-sleep.h&quot;\n#include &lt;jni.h&gt;\n#include &lt;Windows.h&gt;\n\nJNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_preventSleep(JNIEnv *, jclass) {\n    SetThreadExecutionState(ES_SYSTEM_REQUIRED | ES_DISPLAY_REQUIRED | ES_CONTINUOUS);\n}\n\nJNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_allowSleep(JNIEnv *, jclass) {\n    SetThreadExecutionState(ES_CONTINUOUS);\n}\n</code></pre>\n<p>Then I used a <a href=\"https://www.gnu.org/software/make/manual/make.html\" rel=\"nofollow noreferrer\">makefile</a> to compile it:</p>\n<pre><code># Variables\nCC = g++\nJNI_PATH = C:/Program Files/Java/jdk1.8.0_202/include\nJNI_MD_PATH = $(JNI_PATH)/win32\nCFLAGS = -Wall -I'$(JNI_PATH)' -I'$(JNI_MD_PATH)' -shared\n\n# Output file\nOUTPUT = windows-sleep.dll\n\n# Source file\nSOURCE = windows-sleep.cpp\n\n# Rule to build the DLL\nall: $(OUTPUT)\n\n$(OUTPUT): $(SOURCE)\n    $(CC) $(CFLAGS) $^ -o $@\n\n# Rule to clean the build artifacts\nclean:\n    rm -f $(OUTPUT)\n</code></pre>\n<p>After compiling the DLL, I was able to call <code>doPreventSleep</code> to prevent my computer from sleeping. Keep in mind that <a href=\"https://stackoverflow.com/a/27652326/5645656\">you have to keep calling this method</a> - you cannot just invoke it once. Here's an example:</p>\n<pre><code>ThreadFactory factory = r -&gt; {\n    Thread thread = new Thread(r);\n    // Use daemon threads so they don't keep the JVM alive\n    thread.setDaemon(true);\n    return thread;\n};\n\nScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor(factory);\n// Call doPreventSleep every 5 minutes\nexecutor.scheduleAtFixedRate(() -&gt; WindowsSleep.doPreventSleep(), 0, 5, TimeUnit.MINUTES);\n\n// Do stuff\n\nexecutor.shutdownNow();\n</code></pre>\n"}],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3383,"favorite_count":0,"down_vote_count":4,"up_vote_count":4,"closed_date":1679589193,"accepted_answer_id":53419439,"answer_count":2,"score":0,"last_activity_date":1690549064,"creation_date":1542829282,"question_id":53419438,"body_markdown":"I need to create a simple application to keep my computer from idling and going to sleep.\r\n\r\nI&#39;d prefer it to be in java, but am happy to look at other solutions as long as I don&#39;t need to install a 3rd party application.","title":"Create a Java application that keeps your computer from going idle without moving the mouse all over the place?","body":"<p>I need to create a simple application to keep my computer from idling and going to sleep.</p>\n\n<p>I'd prefer it to be in java, but am happy to look at other solutions as long as I don't need to install a 3rd party application.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690548871,"creation_date":1690548348,"answer_id":76787939,"question_id":76787135,"body_markdown":"I don&#39;t see any issues in code you provided - it should work and it works for me.\r\n\r\nYou can try to set this property to `ChromeOptions` directly.\r\n\r\nFor example, this code also works for me in your case:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    WebDriverManager.getInstance().setup();\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setAcceptInsecureCerts(true);\r\n    ChromeDriver driver = new ChromeDriver(options);\r\n\r\n    driver.get(&quot;https://expired.badssl.com/&quot;);\r\n    driver.manage().window().maximize();\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Acccept insure cert in seleniumwebdriver","body":"<p>I don't see any issues in code you provided - it should work and it works for me.</p>\n<p>You can try to set this property to <code>ChromeOptions</code> directly.</p>\n<p>For example, this code also works for me in your case:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>WebDriverManager.getInstance().setup();\nChromeOptions options = new ChromeOptions();\noptions.setAcceptInsecureCerts(true);\nChromeDriver driver = new ChromeDriver(options);\n\ndriver.get(\"https://expired.badssl.com/\");\ndriver.manage().window().maximize();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":20871669,"reputation":57,"user_id":15331462,"display_name":"taerese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76787939,"answer_count":1,"score":0,"last_activity_date":1690548871,"creation_date":1690541591,"question_id":76787135,"body_markdown":"I am trying to use accept insecure cert in selenium web driver but it is not working. Please check for any possible error in below code. I noticed the tutorial uses `WebDriverManager.chromedriver().setup();` in line 1, instead of \t`ChromeDriverManager.getInstance().setup();`\r\n\r\n```\r\n\tChromeDriverManager.getInstance().setup();\r\n\tDesiredCapabilities dc = new DesiredCapabilities();\r\n    dc.setAcceptInsecureCerts(true);\r\n\tChromeOptions coptions = new ChromeOptions();\r\n\tcoptions.merge(dc);\r\n\tChromeDriver driver = new ChromeDriver(coptions);\r\n\tdriver.get(&quot;https://expired.badssl.com/&quot;);\r\n\tdriver.manage().window().maximize();\r\n```","title":"Acccept insure cert in seleniumwebdriver","body":"<p>I am trying to use accept insecure cert in selenium web driver but it is not working. Please check for any possible error in below code. I noticed the tutorial uses <code>WebDriverManager.chromedriver().setup();</code> in line 1, instead of   <code>ChromeDriverManager.getInstance().setup();</code></p>\n<pre><code>    ChromeDriverManager.getInstance().setup();\n    DesiredCapabilities dc = new DesiredCapabilities();\n    dc.setAcceptInsecureCerts(true);\n    ChromeOptions coptions = new ChromeOptions();\n    coptions.merge(dc);\n    ChromeDriver driver = new ChromeDriver(coptions);\n    driver.get(&quot;https://expired.badssl.com/&quot;);\n    driver.manage().window().maximize();\n</code></pre>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1617990582,"post_id":67025853,"comment_id":118475711,"body_markdown":"*&quot;how to **split** a string&quot;* + *&quot;any idea about any class **methods** i could use **from String**&quot;* --- How about the [`String.split()`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-) method? --- I frankly don&#39;t know how it&#39;s possible to research how to split a string in Java and not find that method.","body":"<i>&quot;how to <b>split</b> a string&quot;</i> + <i>&quot;any idea about any class <b>methods</b> i could use <b>from String</b>&quot;</i> --- How about the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"nofollow noreferrer\"><code>String.split()</code></a> method? --- I frankly don&#39;t know how it&#39;s possible to research how to split a string in Java and not find that method."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1618221784,"post_id":67025853,"comment_id":118527820,"body_markdown":"*&quot;I therefore can&#39;t specify the regex&quot;* Why not? That&#39;s exactly what regex is good at. Or did you mean that ***you*** can&#39;t, because you don&#39;t know regex well enough? If so, then you phrased the question wrong. --- *&quot;I researched everywhere and couldn&#39;t find **anything**&quot;* Incorrect. You found the `split()` method, but you rejected it, which is too bad, since it&#39;s what you need.","body":"<i>&quot;I therefore can&#39;t specify the regex&quot;</i> Why not? That&#39;s exactly what regex is good at. Or did you mean that <b><i>you</i></b> can&#39;t, because you don&#39;t know regex well enough? If so, then you phrased the question wrong. --- <i>&quot;I researched everywhere and couldn&#39;t find <b>anything</b>&quot;</i> Incorrect. You found the <code>split()</code> method, but you rejected it, which is too bad, since it&#39;s what you need."},{"owner":{"account_id":21186609,"reputation":27,"user_id":15579841,"display_name":"Bloggies M"},"score":0,"creation_date":1618227060,"post_id":67025853,"comment_id":118529996,"body_markdown":"I did say &quot;eg&quot; to indicate that this was just an example. I wanted a code that will work with any string I input, not this one specifically. With String.split() you have to specify a regular expression, but every string I input will have different letters and numbers, and I want every letter and its following numbers to be split. I therefore can&#39;t specify the regex in the String.split() method. Sorry I should&#39;ve made that clearer.","body":"I did say &quot;eg&quot; to indicate that this was just an example. I wanted a code that will work with any string I input, not this one specifically. With String.split() you have to specify a regular expression, but every string I input will have different letters and numbers, and I want every letter and its following numbers to be split. I therefore can&#39;t specify the regex in the String.split() method. Sorry I should&#39;ve made that clearer."},{"owner":{"account_id":21186609,"reputation":27,"user_id":15579841,"display_name":"Bloggies M"},"score":0,"creation_date":1618228735,"post_id":67025853,"comment_id":118530703,"body_markdown":"Listen, I&#39;m a beginner. I&#39;m sorry if my research didn&#39;t show me how to use the split method the way you suggested. It was an innocent question, it&#39;s really not that big of an issue. Thanks for the help anyway. I even got a negative vote, so now I can&#39;t post questions, I hope that brings you some peace of mind&#128514;","body":"Listen, I&#39;m a beginner. I&#39;m sorry if my research didn&#39;t show me how to use the split method the way you suggested. It was an innocent question, it&#39;s really not that big of an issue. Thanks for the help anyway. I even got a negative vote, so now I can&#39;t post questions, I hope that brings you some peace of mind😂"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617991452,"creation_date":1617990422,"answer_id":67025976,"question_id":67025853,"body_markdown":"## Update:\r\n\r\nThanks to [Andreas][1]\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString s = &quot;C34M78N8X&quot;;\r\n    \t\tString[] arr = s.split(&quot;(?=\\\\p{L})&quot;);\r\n    \t\tSystem.out.println(Arrays.toString(arr));\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    [C34, M78, N8, X]\r\n\r\n`\\p{L}` [matches a letter][2] and `(?=(regex))` is used for [Positive Lookahead][3].\r\n\r\nMore explanation of the regex at [regex101][4]:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n## Original answer:\r\n\r\nUsing the regex, `\\w(?:\\d+)?`, you can get the matches using the Java regex API.\r\n\r\n    import java.util.List;\r\n    import java.util.regex.MatchResult;\r\n    import java.util.regex.Pattern;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Test\r\n    \t\tSystem.out.println(getTokens(&quot;C34M78N8X&quot;));\r\n    \r\n    \t}\r\n    \r\n    \tstatic List&lt;String&gt; getTokens(String textString) {\r\n    \t\treturn Pattern\r\n    \t\t\t\t.compile(&quot;\\\\w(?:\\\\d+)?&quot;)\r\n    \t\t\t\t.matcher(textString)\r\n    \t\t\t\t.results()\r\n    \t\t\t\t.map(MatchResult::group)\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \t}\r\n    }\r\n\r\n\r\n**Output:**\r\n\r\n    [C34, M78, N8, X]\r\n\r\n**Non-`Stream` solution:**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Test\r\n    \t\tSystem.out.println(getTokens(&quot;C34M78N8X&quot;));\r\n    \r\n    \t}\r\n    \r\n    \tstatic List&lt;String&gt; getTokens(String textString) {\r\n    \t\tList&lt;String&gt; matches = new ArrayList&lt;&gt;();\r\n    \t\tMatcher matcher = Pattern.compile(&quot;\\\\w(?:\\\\d+)?&quot;).matcher(textString);\r\n    \t\t\r\n    \t\twhile (matcher.find()) {\r\n    \t\t\tmatches.add(matcher.group());\r\n    \t\t}\r\n    \r\n    \t\treturn matches;\r\n    \t}\r\n    }\r\nLearn more about Java RegEx API at **[Lesson: Regular Expressions](https://docs.oracle.com/javase/tutorial/essential/regex/index.html)**\r\n\r\n**Explanation of the regex at [regex101][6]:**\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67025853/how-to-split-a-string-comprised-of-letters-and-ints/67025976#comment118475796_67025976\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\r\n  [3]: https://www.regular-expressions.info/lookaround.html\r\n  [4]: https://regex101.com/r/JPKeVS/1\r\n  [5]: https://i.stack.imgur.com/4fCqz.png\r\n  [6]: https://regex101.com/r/rzWvzA/1\r\n  [7]: https://i.stack.imgur.com/DKmoW.png","title":"How to split a string composed of letters and digits","body":"<h2>Update:</h2>\n<p>Thanks to <a href=\"https://stackoverflow.com/questions/67025853/how-to-split-a-string-comprised-of-letters-and-ints/67025976#comment118475796_67025976\">Andreas</a></p>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        String s = &quot;C34M78N8X&quot;;\n        String[] arr = s.split(&quot;(?=\\\\p{L})&quot;);\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[C34, M78, N8, X]\n</code></pre>\n<p><code>\\p{L}</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">matches a letter</a> and <code>(?=(regex))</code> is used for <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">Positive Lookahead</a>.</p>\n<p>More explanation of the regex at <a href=\"https://regex101.com/r/JPKeVS/1\" rel=\"nofollow noreferrer\">regex101</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/4fCqz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4fCqz.png\" alt=\"enter image description here\" /></a></p>\n<h2>Original answer:</h2>\n<p>Using the regex, <code>\\w(?:\\d+)?</code>, you can get the matches using the Java regex API.</p>\n<pre><code>import java.util.List;\nimport java.util.regex.MatchResult;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Test\n        System.out.println(getTokens(&quot;C34M78N8X&quot;));\n\n    }\n\n    static List&lt;String&gt; getTokens(String textString) {\n        return Pattern\n                .compile(&quot;\\\\w(?:\\\\d+)?&quot;)\n                .matcher(textString)\n                .results()\n                .map(MatchResult::group)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[C34, M78, N8, X]\n</code></pre>\n<p><strong>Non-<code>Stream</code> solution:</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Test\n        System.out.println(getTokens(&quot;C34M78N8X&quot;));\n\n    }\n\n    static List&lt;String&gt; getTokens(String textString) {\n        List&lt;String&gt; matches = new ArrayList&lt;&gt;();\n        Matcher matcher = Pattern.compile(&quot;\\\\w(?:\\\\d+)?&quot;).matcher(textString);\n        \n        while (matcher.find()) {\n            matches.add(matcher.group());\n        }\n\n        return matches;\n    }\n}\n</code></pre>\n<p>Learn more about Java RegEx API at <strong><a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/index.html\" rel=\"nofollow noreferrer\">Lesson: Regular Expressions</a></strong></p>\n<p><strong>Explanation of the regex at <a href=\"https://regex101.com/r/rzWvzA/1\" rel=\"nofollow noreferrer\">regex101</a>:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/DKmoW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DKmoW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617994766,"creation_date":1617991037,"answer_id":67026100,"question_id":67025853,"body_markdown":"You want to split between and two non-digit characters.\r\n\r\nYou can do that with any two of the following:\r\n- `?!\\\\d)` zero width negative look-ahead for a digit\r\n- `(?=\\\\D)`  zero width positive look-ahead for a non-digit\r\n\r\nSo using `(?!\\\\d)(?=\\\\D)` the regular expression simply says, &quot;*Match the area where you see a non-digit followed by a non-digit.*&quot;\r\n\r\n```\r\nString[] data = { &quot;ABCDEF&quot;,&quot;A12345&quot;,&quot;A1B2C3D4&quot;,&quot;AX3YM67&quot;, &quot;A1233BB1233&quot;, &quot;A3D456F6D&quot; };\r\nList&lt;List&lt;String&gt;&gt; lists = new ArrayList&lt;&gt;();\r\nfor (String str : data) {\r\n    String[] st = str.split(&quot;(?!\\\\d)(?=\\\\D)&quot;);\r\n    lists.add(Arrays.asList(st));\r\n}\r\n\r\nfor(int i = 0; i &lt; data.length; i++) {\r\n\tSystem.out.println(data[i] + &quot; --&gt; &quot; +  lists.get(i));\r\n}\r\n```\r\nprints\r\n```\r\nABCDEF --&gt; [A, B, C, D, E, F]\r\nA12345 --&gt; [A12345]\r\nA1B2C3D4 --&gt; [A1, B2, C3, D4]\r\nAX3YM67 --&gt; [A, X3, Y, M67]\r\nA1233BB1233 --&gt; [A1233, B, B1233]\r\nA3D456F6D --&gt; [A3, D456, F6, D]\r\n\r\n","title":"How to split a string composed of letters and digits","body":"<p>You want to split between and two non-digit characters.</p>\n<p>You can do that with any two of the following:</p>\n<ul>\n<li><code>?!\\\\d)</code> zero width negative look-ahead for a digit</li>\n<li><code>(?=\\\\D)</code>  zero width positive look-ahead for a non-digit</li>\n</ul>\n<p>So using <code>(?!\\\\d)(?=\\\\D)</code> the regular expression simply says, &quot;<em>Match the area where you see a non-digit followed by a non-digit.</em>&quot;</p>\n<pre><code>String[] data = { &quot;ABCDEF&quot;,&quot;A12345&quot;,&quot;A1B2C3D4&quot;,&quot;AX3YM67&quot;, &quot;A1233BB1233&quot;, &quot;A3D456F6D&quot; };\nList&lt;List&lt;String&gt;&gt; lists = new ArrayList&lt;&gt;();\nfor (String str : data) {\n    String[] st = str.split(&quot;(?!\\\\d)(?=\\\\D)&quot;);\n    lists.add(Arrays.asList(st));\n}\n\nfor(int i = 0; i &lt; data.length; i++) {\n    System.out.println(data[i] + &quot; --&gt; &quot; +  lists.get(i));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>ABCDEF --&gt; [A, B, C, D, E, F]\nA12345 --&gt; [A12345]\nA1B2C3D4 --&gt; [A1, B2, C3, D4]\nAX3YM67 --&gt; [A, X3, Y, M67]\nA1233BB1233 --&gt; [A1233, B, B1233]\nA3D456F6D --&gt; [A3, D456, F6, D]\n\n</code></pre>\n"}],"owner":{"account_id":21186609,"reputation":27,"user_id":15579841,"display_name":"Bloggies M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"answer_count":2,"score":-1,"last_activity_date":1690548814,"creation_date":1617989834,"question_id":67025853,"body_markdown":"I have a string composed of a letter followed by digits, e.g. \r\n\r\n    String s = &quot;C34M78N8X&quot;;\r\n\r\nI want to split every letter with the numbers next to it so it would be:\r\n\r\n    {&quot;C34&quot; &quot;M78&quot; &quot;N8&quot; &quot;X&quot;} //in that order\r\n\r\nAny idea about any class methods I could use from `String` or `Integer` maybe? I&#39;m a beginner with Java, so I&#39;m trying to learn different things. I researched everywhere and couldn&#39;t find anything. Thanks in advance.","title":"How to split a string composed of letters and digits","body":"<p>I have a string composed of a letter followed by digits, e.g.</p>\n<pre><code>String s = &quot;C34M78N8X&quot;;\n</code></pre>\n<p>I want to split every letter with the numbers next to it so it would be:</p>\n<pre><code>{&quot;C34&quot; &quot;M78&quot; &quot;N8&quot; &quot;X&quot;} //in that order\n</code></pre>\n<p>Any idea about any class methods I could use from <code>String</code> or <code>Integer</code> maybe? I'm a beginner with Java, so I'm trying to learn different things. I researched everywhere and couldn't find anything. Thanks in advance.</p>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1494830856,"post_id":43972777,"comment_id":74975834,"body_markdown":"This doesn&#39;t work because your classpath is composed of transparent and **opaque** resources - such as those inside a `jar`. You are trying to write to a path that looks something like `jar:file:/com/stackoverflow/json`, which is an invalid `Path` or `File` but a valid URI. In general, you cannot write to the classpath, only read from it.","body":"This doesn&#39;t work because your classpath is composed of transparent and <b>opaque</b> resources - such as those inside a <code>jar</code>. You are trying to write to a path that looks something like <code>jar:file:&#47;com&#47;stackoverflow&#47;json</code>, which is an invalid <code>Path</code> or <code>File</code> but a valid URI. In general, you cannot write to the classpath, only read from it."},{"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"score":0,"creation_date":1494830996,"post_id":43972777,"comment_id":74975905,"body_markdown":"No jar it is maven project","body":"No jar it is maven project"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1494831057,"post_id":43972777,"comment_id":74975943,"body_markdown":"When you compile a Maven project it will generate a jar. How else would you distribute your compiled code? (Pre Java 9 that is)","body":"When you compile a Maven project it will generate a jar. How else would you distribute your compiled code? (Pre Java 9 that is)"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1573729215,"post_id":43972777,"comment_id":103982253,"body_markdown":"Does this answer your question? [Java NIO file path issue](https://stackoverflow.com/questions/9834776/java-nio-file-path-issue)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9834776/java-nio-file-path-issue\">Java NIO file path issue</a>"}],"answers":[{"tags":[],"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1690548607,"creation_date":1494834143,"answer_id":43973911,"question_id":43972777,"body_markdown":"problem is that `Paths.get()` doesn&#39;t expect that kind of value which is generated from `uri.getPath()`.\r\n\r\nSolution:\r\n\r\n    URI uri = ClassLoader.getSystemResource(&quot;com/stackoverflow/json&quot;).toURI();\r\n    String mainPath = Paths.get(uri).toString();\r\n    Path path = Paths.get(mainPath ,&quot;Movie.class&quot;);","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>problem is that <code>Paths.get()</code> doesn't expect that kind of value which is generated from <code>uri.getPath()</code>.</p>\n<p>Solution:</p>\n<pre><code>URI uri = ClassLoader.getSystemResource(&quot;com/stackoverflow/json&quot;).toURI();\nString mainPath = Paths.get(uri).toString();\nPath path = Paths.get(mainPath ,&quot;Movie.class&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7320889,"reputation":61,"user_id":5576981,"display_name":"techguy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1547123564,"creation_date":1514495384,"answer_id":48014424,"question_id":43972777,"body_markdown":"I had the same issue and got the exception, noticed there was a space in the filename, so I had to trim it. After that, the issue is resolved.\r\n\r\n    Path filePath = Paths.get(dirPathStr, newFileName.trim());","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>I had the same issue and got the exception, noticed there was a space in the filename, so I had to trim it. After that, the issue is resolved.</p>\n\n<pre><code>Path filePath = Paths.get(dirPathStr, newFileName.trim());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14568769,"reputation":31,"user_id":10522667,"display_name":"SUDIP SINGH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573709528,"creation_date":1557583599,"answer_id":56091074,"question_id":43972777,"body_markdown":"I have the same problem which I was facing from the past two days and finally, I got it\r\nSpace causes such problem \r\ntry to solve\r\n\r\n    var fileName=YourFileName.trim();\r\n    Path filePath = Paths.get(dirPathStr, fileName);\r\n","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>I have the same problem which I was facing from the past two days and finally, I got it\nSpace causes such problem \ntry to solve</p>\n\n<pre><code>var fileName=YourFileName.trim();\nPath filePath = Paths.get(dirPathStr, fileName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13021296,"reputation":155,"user_id":9410625,"display_name":"Fego"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1609678210,"creation_date":1559825585,"answer_id":56478035,"question_id":43972777,"body_markdown":"Try this:\r\n\r\n```\r\nPath path = new File(getClass()\r\n.getResource(&quot;/&lt;path to the image in your build/classes folder&gt;&quot;)\r\n.getFile()).toPath();\r\n```\r\n\r\nto get the correct path. Worked for me after several hours trying to find out why I couldn&#39;t get the file from the jar. This works for NetBeans 8.02\r\n","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>Try this:</p>\n<pre><code>Path path = new File(getClass()\n.getResource(&quot;/&lt;path to the image in your build/classes folder&gt;&quot;)\n.getFile()).toPath();\n</code></pre>\n<p>to get the correct path. Worked for me after several hours trying to find out why I couldn't get the file from the jar. This works for NetBeans 8.02</p>\n"},{"tags":[],"owner":{"account_id":7523503,"reputation":75,"user_id":5714602,"display_name":"Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609666535,"creation_date":1609665065,"answer_id":65548196,"question_id":43972777,"body_markdown":"The following solutions work correctly:&lt;br/&gt;\r\n\r\nSolution1:\r\n\r\n    String logFileLocalPath = &quot;../log/log.txt&quot;;\r\n    File logFile = new File(getURL(logFileLocalPath).getPath());\r\n\r\nSolution 2:\r\n\r\n    File logFile = new \r\n    File(Paths.get(getURL(logFileLocalPath).toURI()).toString());\r\n\r\n&lt;hr/&gt;\r\n\r\n    private static URL getURL(String localPath) {\r\n\r\n          return Main.class.getResource(localPath);\r\n    }","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>The following solutions work correctly:<br/></p>\n<p>Solution1:</p>\n<pre><code>String logFileLocalPath = &quot;../log/log.txt&quot;;\nFile logFile = new File(getURL(logFileLocalPath).getPath());\n</code></pre>\n<p>Solution 2:</p>\n<pre><code>File logFile = new \nFile(Paths.get(getURL(logFileLocalPath).toURI()).toString());\n</code></pre>\n<hr/>\n<pre><code>private static URL getURL(String localPath) {\n\n      return Main.class.getResource(localPath);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5806898,"reputation":1,"user_id":4579253,"display_name":"Pooja Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642075775,"creation_date":1642075775,"answer_id":70696379,"question_id":43972777,"body_markdown":"I faced same issue while using extentReports in my automation, i simply corrected the report path    \r\n\t\r\n\r\n    public void config() {\r\n\t\tString path = System.getProperty(&quot;user.dir&quot;)+&quot;\\\\reports\\\\index.html&quot;;\t\t\r\n\t\tExtentSparkReporter reporter = new ExtentSparkReporter(path);\r\n\t\treporter.config().setReportName(&quot;Web Automation Reports&quot;);\r\n\t\treporter.config().setDocumentTitle(&quot;Web Results&quot;);\r\n...\r\n}","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>I faced same issue while using extentReports in my automation, i simply corrected the report path</p>\n<pre><code>public void config() {\n    String path = System.getProperty(&quot;user.dir&quot;)+&quot;\\\\reports\\\\index.html&quot;;       \n    ExtentSparkReporter reporter = new ExtentSparkReporter(path);\n    reporter.config().setReportName(&quot;Web Automation Reports&quot;);\n    reporter.config().setDocumentTitle(&quot;Web Results&quot;);\n</code></pre>\n<p>...\n}</p>\n"},{"tags":[],"owner":{"account_id":8767894,"reputation":1528,"user_id":6555698,"display_name":"Odwori"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648763312,"creation_date":1648763312,"answer_id":71699516,"question_id":43972777,"body_markdown":"After trying many times, this worked for me\r\n\r\n          Path path = new File(getClass().getResource(&quot;/data.json&quot;).getFile()).toPath(); \r\n\r\nNow you can use your path as you wish e.g       \r\n\r\n            Reader reader = Files.newBufferedReader(path);","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>After trying many times, this worked for me</p>\n<pre><code>      Path path = new File(getClass().getResource(&quot;/data.json&quot;).getFile()).toPath(); \n</code></pre>\n<p>Now you can use your path as you wish e.g</p>\n<pre><code>        Reader reader = Files.newBufferedReader(path);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27188270,"reputation":11,"user_id":20722443,"display_name":"Monica Gatti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681144176,"creation_date":1681141932,"answer_id":75978595,"question_id":43972777,"body_markdown":"I had the same error\r\n\r\n&gt; ./gradlew build\r\n\r\n&gt; 2023-04-10T16:56:54.855+02:00  INFO 10476 --- [           main]\r\n&gt; c.v.s.d.m.a.VogellaApplication           : No active profile set,\r\n&gt; falling back to 1 default profile: &quot;default&quot; Exception in thread\r\n&gt; &quot;main&quot; java.nio.file.InvalidPathException: Trailing char &lt; &gt; at index\r\n&gt; 27: com.vogella.spring.di.model \r\n&gt;         at java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:191)\r\n&gt;         at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\r\n&gt;         at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n&gt;         at java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)\r\n\r\nI analyzed the filenames and the configuration.\r\nI noticed a space in the &#39;group&#39; property in build.gradle file \r\n\r\n    group = &#39;com.vogella.spring.di.model &#39;\r\n\r\nI removed the extra space and the build command worked fine.\r\n","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>I had the same error</p>\n<blockquote>\n<p>./gradlew build</p>\n</blockquote>\n<blockquote>\n<p>2023-04-10T16:56:54.855+02:00  INFO 10476 --- [           main]\nc.v.s.d.m.a.VogellaApplication           : No active profile set,\nfalling back to 1 default profile: &quot;default&quot; Exception in thread\n&quot;main&quot; java.nio.file.InvalidPathException: Trailing char &lt; &gt; at index\n27: com.vogella.spring.di.model\nat java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:191)\nat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\nat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\nat java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)</p>\n</blockquote>\n<p>I analyzed the filenames and the configuration.\nI noticed a space in the 'group' property in build.gradle file</p>\n<pre><code>group = 'com.vogella.spring.di.model '\n</code></pre>\n<p>I removed the extra space and the build command worked fine.</p>\n"}],"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158188,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":43973911,"answer_count":8,"score":55,"last_activity_date":1690548607,"creation_date":1494829749,"question_id":43972777,"body_markdown":"I have to copy classpath resource from one package to another.\r\n\r\nMy program is:\r\n\r\n        public static void main(String[] args) throws IOException, URISyntaxException {\r\n        \r\n        \t\tClassLoader classLoader = CopyFileToDirectoryTest.class.getClassLoader();\r\n    InputStream in = classLoader.getResourceAsStream(&quot;com/stackoverflow/main/Movie.class&quot;);\r\n    \r\n        \t\tURI uri = ClassLoader.getSystemResource(&quot;com/stackoverflow/json&quot;).toURI();\r\n        \t\tPath path = Paths.get(uri.getPath(),&quot;Movie.class&quot;);\r\n        \t\tSystem.out.println(path);\r\n        \r\n        \t\tlong copy = Files.copy(in, path, StandardCopyOption.REPLACE_EXISTING);\r\n        \t\tSystem.out.println(copy);\r\n        \r\n        \t}\r\n\r\nAt `Files.copy` method I get exception:\r\n\r\n    Exception in thread &quot;main&quot; java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /D:/Programs/workspaceEE/HibernateDemo/target/classes/com/stackoverflow/json\r\n    \tat sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\r\n    \tat sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\r\n    \tat sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n    \tat sun.nio.fs.WindowsPath.parse(WindowsPath.java:94)\r\n    \tat sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:255)\r\n    \tat java.nio.file.Paths.get(Paths.java:84)\r\n    \tat com.stackoverflow.main.CopyFileToDirectoryTest.main(CopyFileToDirectoryTest.java:34)\r\n\r\nHow to solve it?\r\n\r\n**Solution**\r\n\r\n    public static void main(String[] args) throws IOException, URISyntaxException {\r\n    \t\tClassLoader classLoader = CopyFileToDirectoryTest.class.getClassLoader();\r\n    \t\tInputStream in = classLoader.getResourceAsStream(&quot;com//stackoverflow//main//Movie.class&quot;);\r\n    \t\tURI uri = ClassLoader.getSystemResource(&quot;com//stackoverflow//json&quot;).toURI();\r\n    \t\tString mainPath = Paths.get(uri).toString();\r\n    \t\tPath path = Paths.get(mainPath, &quot;Movie.class&quot;);\r\n    \t\tSystem.out.println(path);\r\n    \t\tlong copy = Files.copy(in, path, StandardCopyOption.REPLACE_EXISTING);\r\n    \t\tSystem.out.println(copy);\r\n    \t}\r\n\r\nThis code correctly copies `Movie.class` from package `com/stackoverflow/main` into `com/stackoverflow/json`.","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>I have to copy classpath resource from one package to another.</p>\n\n<p>My program is:</p>\n\n<pre><code>    public static void main(String[] args) throws IOException, URISyntaxException {\n\n            ClassLoader classLoader = CopyFileToDirectoryTest.class.getClassLoader();\nInputStream in = classLoader.getResourceAsStream(\"com/stackoverflow/main/Movie.class\");\n\n            URI uri = ClassLoader.getSystemResource(\"com/stackoverflow/json\").toURI();\n            Path path = Paths.get(uri.getPath(),\"Movie.class\");\n            System.out.println(path);\n\n            long copy = Files.copy(in, path, StandardCopyOption.REPLACE_EXISTING);\n            System.out.println(copy);\n\n        }\n</code></pre>\n\n<p>At <code>Files.copy</code> method I get exception:</p>\n\n<pre><code>Exception in thread \"main\" java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /D:/Programs/workspaceEE/HibernateDemo/target/classes/com/stackoverflow/json\n    at sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\n    at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\n    at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\n    at sun.nio.fs.WindowsPath.parse(WindowsPath.java:94)\n    at sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:255)\n    at java.nio.file.Paths.get(Paths.java:84)\n    at com.stackoverflow.main.CopyFileToDirectoryTest.main(CopyFileToDirectoryTest.java:34)\n</code></pre>\n\n<p>How to solve it?</p>\n\n<p><strong>Solution</strong></p>\n\n<pre><code>public static void main(String[] args) throws IOException, URISyntaxException {\n        ClassLoader classLoader = CopyFileToDirectoryTest.class.getClassLoader();\n        InputStream in = classLoader.getResourceAsStream(\"com//stackoverflow//main//Movie.class\");\n        URI uri = ClassLoader.getSystemResource(\"com//stackoverflow//json\").toURI();\n        String mainPath = Paths.get(uri).toString();\n        Path path = Paths.get(mainPath, \"Movie.class\");\n        System.out.println(path);\n        long copy = Files.copy(in, path, StandardCopyOption.REPLACE_EXISTING);\n        System.out.println(copy);\n    }\n</code></pre>\n\n<p>This code correctly copies <code>Movie.class</code> from package <code>com/stackoverflow/main</code> into <code>com/stackoverflow/json</code>.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","google-chrome-devtools"],"owner":{"account_id":29078201,"reputation":1,"user_id":22274814,"display_name":"Nilesh Kathait"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690548602,"creation_date":1690442587,"question_id":76777358,"body_markdown":"I am using selenium 4 network interceptor to intercept and mock http requests. When I try to generate a response with http code **422** , interceptor is generating an error as below.\r\n\r\n    {&quot;id&quot;:14,&quot;error&quot;:{&quot;code&quot;:-32602,&quot;message&quot;:&quot;Invalid http status code or phrase&quot;},&quot;sessionId&quot;:&quot;40DE1DDA6AA8E5A60725650C8BE99C3C&quot;}\r\n\r\nHere is the Fetch `fulfillRequest`\r\n\r\n\t{\r\n\t&quot;id&quot;:14,\r\n\t&quot;method&quot;:&quot;Fetch.fulfillRequest&quot;,\r\n\t&quot;params&quot;:{\r\n\t\t&quot;requestId&quot;:&quot;interception-job-1.0&quot;,\r\n\t\t&quot;responseCode&quot;:422,\r\n\t\t&quot;responseHeaders&quot;:[\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;date&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;Wed, 26 Jul 2023 17:42:16 GMT&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;server&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;nginx\\u002f1.18.0 (Ubuntu)&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;vary&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;Accept&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;p3p&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;CP=\\&quot;NOI ADM DEV PSAi OUR OTRo STP IND COM NAV DEM\\&quot;&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;strict-transport-security&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;max-age=31536000; includeSubDomains&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;x-powered-by&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;Express&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;content-type&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;text\\u002fhtml; charset=utf-8&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;location&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;https:\\u002f\\u002fcareers.uchealth.org\\u002fjobs\\u002f12884253-pharmacy-technician-ii?_ccid=16903933360707wca2n1fd&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;Set-Cookie&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;source=loz;domain=.app-cast.com;path=\\u002f&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;Set-Cookie&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;cc_ut=16903933360707wca2n1fd;domain=.app-cast.com;path=\\u002f&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;cache-control&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;no-cache, no-store, must-revalidate&quot;\r\n\t\t\t}\r\n\t\t],\r\n\t\t&quot;body&quot;:&quot;&quot;\r\n\t},\r\n\t&quot;sessionId&quot;:&quot;40DE1DDA6AA8E5A60725650C8BE99C3C&quot;\r\n\t}\r\n\r\nWhen I try with the same request with 200 http code, it works fine.","title":"Selenium 4 network interceptor not accepting 422 http status code response","body":"<p>I am using selenium 4 network interceptor to intercept and mock http requests. When I try to generate a response with http code <strong>422</strong> , interceptor is generating an error as below.</p>\n<pre><code>{&quot;id&quot;:14,&quot;error&quot;:{&quot;code&quot;:-32602,&quot;message&quot;:&quot;Invalid http status code or phrase&quot;},&quot;sessionId&quot;:&quot;40DE1DDA6AA8E5A60725650C8BE99C3C&quot;}\n</code></pre>\n<p>Here is the Fetch <code>fulfillRequest</code></p>\n<pre><code>{\n&quot;id&quot;:14,\n&quot;method&quot;:&quot;Fetch.fulfillRequest&quot;,\n&quot;params&quot;:{\n    &quot;requestId&quot;:&quot;interception-job-1.0&quot;,\n    &quot;responseCode&quot;:422,\n    &quot;responseHeaders&quot;:[\n        {\n            &quot;name&quot;:&quot;date&quot;,\n            &quot;value&quot;:&quot;Wed, 26 Jul 2023 17:42:16 GMT&quot;\n        },\n        {\n            &quot;name&quot;:&quot;server&quot;,\n            &quot;value&quot;:&quot;nginx\\u002f1.18.0 (Ubuntu)&quot;\n        },\n        {\n            &quot;name&quot;:&quot;vary&quot;,\n            &quot;value&quot;:&quot;Accept&quot;\n        },\n        {\n            &quot;name&quot;:&quot;p3p&quot;,\n            &quot;value&quot;:&quot;CP=\\&quot;NOI ADM DEV PSAi OUR OTRo STP IND COM NAV DEM\\&quot;&quot;\n        },\n        {\n            &quot;name&quot;:&quot;strict-transport-security&quot;,\n            &quot;value&quot;:&quot;max-age=31536000; includeSubDomains&quot;\n        },\n        {\n            &quot;name&quot;:&quot;x-powered-by&quot;,\n            &quot;value&quot;:&quot;Express&quot;\n        },\n        {\n            &quot;name&quot;:&quot;content-type&quot;,\n            &quot;value&quot;:&quot;text\\u002fhtml; charset=utf-8&quot;\n        },\n        {\n            &quot;name&quot;:&quot;location&quot;,\n            &quot;value&quot;:&quot;https:\\u002f\\u002fcareers.uchealth.org\\u002fjobs\\u002f12884253-pharmacy-technician-ii?_ccid=16903933360707wca2n1fd&quot;\n        },\n        {\n            &quot;name&quot;:&quot;Set-Cookie&quot;,\n            &quot;value&quot;:&quot;source=loz;domain=.app-cast.com;path=\\u002f&quot;\n        },\n        {\n            &quot;name&quot;:&quot;Set-Cookie&quot;,\n            &quot;value&quot;:&quot;cc_ut=16903933360707wca2n1fd;domain=.app-cast.com;path=\\u002f&quot;\n        },\n        {\n            &quot;name&quot;:&quot;cache-control&quot;,\n            &quot;value&quot;:&quot;no-cache, no-store, must-revalidate&quot;\n        }\n    ],\n    &quot;body&quot;:&quot;&quot;\n},\n&quot;sessionId&quot;:&quot;40DE1DDA6AA8E5A60725650C8BE99C3C&quot;\n}\n</code></pre>\n<p>When I try with the same request with 200 http code, it works fine.</p>\n"},{"tags":["java","selenium-webdriver","pageobjects"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690542997,"post_id":76787282,"comment_id":135372008,"body_markdown":"Sure, this should work just fine, as long as your test class does indeed extend your base class. JUnit will run all the annotated methods. If it doesn&#39;t work for you, attach a debugger and see what gets executed when. Note that JUnit&#39;s default is to make a new instance of the test class for each test, so your `driver` field (and the before/after methods) should probably be `static`.","body":"Sure, this should work just fine, as long as your test class does indeed extend your base class. JUnit will run all the annotated methods. If it doesn&#39;t work for you, attach a debugger and see what gets executed when. Note that JUnit&#39;s default is to make a new instance of the test class for each test, so your <code>driver</code> field (and the before/after methods) should probably be <code>static</code>."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690543083,"post_id":76787282,"comment_id":135372028,"body_markdown":"And note that `BeforeClass` and `Before` are different. Same for `After`. Read the javadoc on those classes for details.","body":"And note that <code>BeforeClass</code> and <code>Before</code> are different. Same for <code>After</code>. Read the javadoc on those classes for details."}],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690547557,"creation_date":1690543704,"answer_id":76787382,"question_id":76787282,"body_markdown":"To make your refactor work as expected, you should make method and `driver` variable `static` as far as `@BeforeClass` executes method when class instance has not been created yet, so non static entities are `null`.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    static WebDriver driver;\r\n\r\n    @BeforeClass\r\n    public static void setupAll() {\r\n       driver = new ChromeDriver();\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nbut I suggest to use `@Before` except `@BeforeClass` annotation in your Base class, that would allow you to make `driver` non-static.\r\n","title":"Selenium POM - &quot;this.driver&quot; is null","body":"<p>To make your refactor work as expected, you should make method and <code>driver</code> variable <code>static</code> as far as <code>@BeforeClass</code> executes method when class instance has not been created yet, so non static entities are <code>null</code>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>static WebDriver driver;\n\n@BeforeClass\npublic static void setupAll() {\n   driver = new ChromeDriver();\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>but I suggest to use <code>@Before</code> except <code>@BeforeClass</code> annotation in your Base class, that would allow you to make <code>driver</code> non-static.</p>\n"}],"owner":{"account_id":29071401,"reputation":3,"user_id":22269650,"display_name":"shgree"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76787382,"answer_count":1,"score":0,"last_activity_date":1690547557,"creation_date":1690542809,"question_id":76787282,"body_markdown":"I am learning about POM Selenium + Java. I want to refactor class for tests. Right now I have one class but I want divide code into two class: one class will be for initializing browser with adnotations @BeforeClass and @AferClass and second will be with just @Test.\r\nWhen I refactor my code I get error java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null . My code only works if I have @After, @Before and @Test in one class.\r\n\r\n\r\nMy code for refactor:\r\n\r\n```\r\npublic class TC1LoginRegisterUser {\r\n    WebDriver driver;\r\n\r\n    @Before\r\n    public void setup() {\r\n        driver = new ChromeDriver();\r\n    }\r\n\r\n    @Test\r\n    public void test1() {\r\n        HomePage homePage = new HomePage(driver);\r\n        homePage.navigateToUrl();\r\n    }\r\n\r\n    @After\r\n    public void teardown() {\r\n        driver.close();\r\n        driver.quit();\r\n    }\r\n}\r\n```\r\nMy code after refactor:\r\n\r\n```\r\npublic class BaseClass {\r\n\r\n    WebDriver driver;\r\n    @BeforeClass\r\n    public void setup() {\r\n        driver = new ChromeDriver();\r\n\r\n    }\r\n\r\n    @AfterClass\r\n    public void teardown() {\r\n        driver.close();\r\n        driver.quit();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npublic class TC1LoginRegisterUser extends BaseClass {\r\n    @Test\r\n    public void test1() {\r\n        HomePage homePage = new HomePage(driver);\r\n        homePage.navigateToUrl(); \r\n     }\r\n}\r\n```\r\n\r\n","title":"Selenium POM - &quot;this.driver&quot; is null","body":"<p>I am learning about POM Selenium + Java. I want to refactor class for tests. Right now I have one class but I want divide code into two class: one class will be for initializing browser with adnotations @BeforeClass and @AferClass and second will be with just @Test.\nWhen I refactor my code I get error java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null . My code only works if I have @After, @Before and @Test in one class.</p>\n<p>My code for refactor:</p>\n<pre><code>public class TC1LoginRegisterUser {\n    WebDriver driver;\n\n    @Before\n    public void setup() {\n        driver = new ChromeDriver();\n    }\n\n    @Test\n    public void test1() {\n        HomePage homePage = new HomePage(driver);\n        homePage.navigateToUrl();\n    }\n\n    @After\n    public void teardown() {\n        driver.close();\n        driver.quit();\n    }\n}\n</code></pre>\n<p>My code after refactor:</p>\n<pre><code>public class BaseClass {\n\n    WebDriver driver;\n    @BeforeClass\n    public void setup() {\n        driver = new ChromeDriver();\n\n    }\n\n    @AfterClass\n    public void teardown() {\n        driver.close();\n        driver.quit();\n    }\n\n}\n\n</code></pre>\n<pre><code>public class TC1LoginRegisterUser extends BaseClass {\n    @Test\n    public void test1() {\n        HomePage homePage = new HomePage(driver);\n        homePage.navigateToUrl(); \n     }\n}\n</code></pre>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690528727,"post_id":76785439,"comment_id":135369218,"body_markdown":"I think this may be aliasing, because the dashes are so short.","body":"I think this may be aliasing, because the dashes are so short."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690528810,"post_id":76785439,"comment_id":135369236,"body_markdown":"Yes. Notice how 0.3f appears to give you longer dashes than 1f. It&#39;s aliasing.","body":"Yes. Notice how 0.3f appears to give you longer dashes than 1f. It&#39;s aliasing."},{"owner":{"account_id":7447319,"reputation":80,"user_id":5663090,"display_name":"Dallon Xu"},"score":0,"creation_date":1690533431,"post_id":76785439,"comment_id":135370131,"body_markdown":"@tgdavies , width with 0.33f of above code will result an even longer dashes","body":"@tgdavies , width with 0.33f of above code will result an even longer dashes"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690534116,"post_id":76785439,"comment_id":135370275,"body_markdown":"The exact effect might depend on your screen resolution too, but it is an aliasing effect.","body":"The exact effect might depend on your screen resolution too, but it is an aliasing effect."}],"answers":[{"tags":[],"owner":{"account_id":29109510,"reputation":38,"user_id":22299585,"display_name":"Amine Hayani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690547496,"creation_date":1690547496,"answer_id":76787840,"question_id":76785439,"body_markdown":"/* In Java, when you perform 1/3f, the result is zero because both 1 and 3 are integers, and the division is performed using integer arithmetic. To fix this, you need to ensure that you use floating-point values for the dash pattern.\r\n*/\r\nHere&#39;s the updated code with the correct float values for the dash pattern:\r\n\r\n    float width = 1f / 3f;\r\n    float[] dash = new float[] { 2 * width, width };\r\n    \r\n    BufferedImage image = new BufferedImage(600, 600, BufferedImage.TYPE_INT_ARGB);\r\n    \r\n    Graphics2D g = image.createGraphics();\r\n    g.setColor(Color.RED);\r\n    BasicStroke basicStroke = new BasicStroke(width, BasicStroke.CAP_BUTT, BasicStroke.JOIN_MITER,\r\n            10, dash, 0);\r\n    g.setStroke(basicStroke);\r\n    g.drawLine(0, 300, 600, 300);\r\n    g.dispose();\r\n    \r\n    try {\r\n        ImageIO.write(image, &quot;PNG&quot;, new File(&quot;test.png&quot;));\r\n        System.out.println(&quot;Image created successfully.&quot;);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\n\r\nRemember to adjust the width value as needed to get the desired thickness for the dashed line. The dash array represents the pattern of on and off segments for the dashed line, and you can adjust its values to get different dash patterns.\r\n","title":"Draw line with dash results a solid line in Java","body":"<p>/* In Java, when you perform 1/3f, the result is zero because both 1 and 3 are integers, and the division is performed using integer arithmetic. To fix this, you need to ensure that you use floating-point values for the dash pattern.\n*/\nHere's the updated code with the correct float values for the dash pattern:</p>\n<pre><code>float width = 1f / 3f;\nfloat[] dash = new float[] { 2 * width, width };\n\nBufferedImage image = new BufferedImage(600, 600, BufferedImage.TYPE_INT_ARGB);\n\nGraphics2D g = image.createGraphics();\ng.setColor(Color.RED);\nBasicStroke basicStroke = new BasicStroke(width, BasicStroke.CAP_BUTT, BasicStroke.JOIN_MITER,\n        10, dash, 0);\ng.setStroke(basicStroke);\ng.drawLine(0, 300, 600, 300);\ng.dispose();\n\ntry {\n    ImageIO.write(image, &quot;PNG&quot;, new File(&quot;test.png&quot;));\n    System.out.println(&quot;Image created successfully.&quot;);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Remember to adjust the width value as needed to get the desired thickness for the dashed line. The dash array represents the pattern of on and off segments for the dashed line, and you can adjust its values to get different dash patterns.</p>\n"}],"owner":{"account_id":7447319,"reputation":80,"user_id":5663090,"display_name":"Dallon Xu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690547496,"creation_date":1690527178,"question_id":76785439,"body_markdown":"I draw a line with [2/3f, 1/3f] dash in Java, but results a solid line.\r\n\r\nI also tried other dashs, here is the results:\r\n```\r\n[2/3f, 1/3f]: a solid line\r\n[0.5f, 0.25f]: a good dash line\r\n[0.6f, 0.3f]: a dash line with small difference\r\n[0.66f, 0.33f]: a bad dash line with big difference\r\n[2, 1]: a good dash line\r\n```\r\nCode:\r\n```java\r\n//try width with 1/3f, 0.25f, 0.3f, 0.33f, 1f, different results get.\r\nfloat width = 1/3f;\r\nfloat[] dash = new float[] {2*width, 1*width};\r\n\r\nBufferedImage image = new BufferedImage(600, 600, BufferedImage.TYPE_INT_ARGB);\r\n\r\nGraphics2D g = image.createGraphics();\r\ng.setColor(Color.RED);\r\nBasicStroke basicStroke = new BasicStroke(width, BasicStroke.CAP_BUTT, BasicStroke.JOIN_MITER, \r\n        10, dash, 0);\r\ng.setStroke(basicStroke);\r\ng.drawLine(0, 300, 600, 300);\r\ng.dispose();\r\n\r\nImageIO.write(image, &quot;PNG&quot;, new File(&quot;test.png&quot;));\r\n```","title":"Draw line with dash results a solid line in Java","body":"<p>I draw a line with [2/3f, 1/3f] dash in Java, but results a solid line.</p>\n<p>I also tried other dashs, here is the results:</p>\n<pre><code>[2/3f, 1/3f]: a solid line\n[0.5f, 0.25f]: a good dash line\n[0.6f, 0.3f]: a dash line with small difference\n[0.66f, 0.33f]: a bad dash line with big difference\n[2, 1]: a good dash line\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//try width with 1/3f, 0.25f, 0.3f, 0.33f, 1f, different results get.\nfloat width = 1/3f;\nfloat[] dash = new float[] {2*width, 1*width};\n\nBufferedImage image = new BufferedImage(600, 600, BufferedImage.TYPE_INT_ARGB);\n\nGraphics2D g = image.createGraphics();\ng.setColor(Color.RED);\nBasicStroke basicStroke = new BasicStroke(width, BasicStroke.CAP_BUTT, BasicStroke.JOIN_MITER, \n        10, dash, 0);\ng.setStroke(basicStroke);\ng.drawLine(0, 300, 600, 300);\ng.dispose();\n\nImageIO.write(image, &quot;PNG&quot;, new File(&quot;test.png&quot;));\n</code></pre>\n"},{"tags":["java","swing","drag-and-drop","drag"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1690468143,"post_id":76780666,"comment_id":135360798,"body_markdown":"I do not reproduce the (mis)behavior you describe on openjdk 1.8.0_362-b08, CentOS Stream 8.  I see &quot;dragDropEnd()&quot; displayed in the console as soon as I drop, whether that&#39;s inside or outside the the application&#39;s JFrame.","body":"I do not reproduce the (mis)behavior you describe on openjdk 1.8.0_362-b08, CentOS Stream 8.  I see &quot;dragDropEnd()&quot; displayed in the console as soon as I drop, whether that&#39;s inside or outside the the application&#39;s JFrame."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1690468245,"post_id":76780666,"comment_id":135360829,"body_markdown":"I speculate that the results you observe may be associated with your window manager / desktop settings.  For example, if you have configured your Linux desktop such that focus follows the mouse, with the result that your application&#39;s JFrame loses focus when you move the mouse out of it, then it is plausible that the drop event would not fire until the frame regained focus.","body":"I speculate that the results you observe may be associated with your window manager / desktop settings.  For example, if you have configured your Linux desktop such that focus follows the mouse, with the result that your application&#39;s JFrame loses focus when you move the mouse out of it, then it is plausible that the drop event would not fire until the frame regained focus."},{"owner":{"account_id":5836038,"reputation":11,"user_id":4599075,"display_name":"user4599075"},"score":0,"creation_date":1690468536,"post_id":76780666,"comment_id":135360893,"body_markdown":"@JohnBollinger Thanks. I am going to add a focus listener to see what is going on on that side. My Debian is using KDE.","body":"@JohnBollinger Thanks. I am going to add a focus listener to see what is going on on that side. My Debian is using KDE."},{"owner":{"account_id":5836038,"reputation":11,"user_id":4599075,"display_name":"user4599075"},"score":0,"creation_date":1690468951,"post_id":76780666,"comment_id":135361007,"body_markdown":"@JohnBollinger\nSo, it&#39;s losing the focus indeed. Thanks already for that!\n\nNow,  I need to find a workaround!","body":"@JohnBollinger So, it&#39;s losing the focus indeed. Thanks already for that!  Now,  I need to find a workaround!"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1690469235,"post_id":76780666,"comment_id":135361079,"body_markdown":"I&#39;m glad to have helped.  For the record, I am also using KDE.","body":"I&#39;m glad to have helped.  For the record, I am also using KDE."},{"owner":{"account_id":5836038,"reputation":11,"user_id":4599075,"display_name":"user4599075"},"score":0,"creation_date":1690469743,"post_id":76780666,"comment_id":135361219,"body_markdown":"a tabbedPane.addFocusListener/focusLost(){tabbedPane.requestFocus()} regains the focus but the drop event is still not triggered (besides, my requestFocus() is obviously quite crude, I would need to change it obviously)","body":"a tabbedPane.addFocusListener/focusLost(){tabbedPane.requestFo&zwnj;&#8203;cus()} regains the focus but the drop event is still not triggered (besides, my requestFocus() is obviously quite crude, I would need to change it obviously)"},{"owner":{"account_id":5836038,"reputation":11,"user_id":4599075,"display_name":"user4599075"},"score":0,"creation_date":1690469831,"post_id":76780666,"comment_id":135361245,"body_markdown":"@JohnBollinger KDE in your CentOS? I would need to try it. And maybe a JDK 8 too.","body":"@JohnBollinger KDE in your CentOS? I would need to try it. And maybe a JDK 8 too."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1690471351,"post_id":76780666,"comment_id":135361597,"body_markdown":"Yes, KDE in my CentOS.  I switched when RedHat moved to Gnome 3, which I cannot stand.  KDE used to be supported directly by RHEL (versions 7 and below), and it is available from EPEL since version 8.  I think it&#39;s still in Fedora.","body":"Yes, KDE in my CentOS.  I switched when RedHat moved to Gnome 3, which I cannot stand.  KDE used to be supported directly by RHEL (versions 7 and below), and it is available from EPEL since version 8.  I think it&#39;s still in Fedora."}],"owner":{"account_id":5836038,"reputation":11,"user_id":4599075,"display_name":"user4599075"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690547037,"creation_date":1690467500,"question_id":76780666,"body_markdown":"I am trying to implement a drag &amp; drop behavior to a `jtabbedpane`.\r\nIt&#39;s working well on my Windows 10, but not so much on a Debian 12 (openjdk 17 on the Debian).\r\n\r\nHere is a minimal test case:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.datatransfer.DataFlavor;\r\nimport java.awt.datatransfer.Transferable;\r\nimport java.awt.dnd.DnDConstants;\r\nimport java.awt.dnd.DragGestureEvent;\r\nimport java.awt.dnd.DragGestureListener;\r\nimport java.awt.dnd.DragSource;\r\nimport java.awt.dnd.DragSourceDragEvent;\r\nimport java.awt.dnd.DragSourceDropEvent;\r\nimport java.awt.dnd.DragSourceEvent;\r\nimport java.awt.dnd.DragSourceListener;\r\nimport java.awt.dnd.InvalidDnDOperationException;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTabbedPane;\r\n\r\npublic class DnDTestCase extends JFrame {\r\n  JTabbedPane tabbedPane;\r\n  public DnDTestCase() {\r\n    tabbedPane = new JTabbedPane(JTabbedPane.TOP);\r\n    getContentPane().add(tabbedPane, BorderLayout.CENTER);\r\n\r\n    JPanel panel = new JPanel();\r\n    tabbedPane.addTab(&quot;New tab&quot;, null, panel, null);\r\n\r\n    this.setSize(320, 240);\r\n\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n    initDnd();\r\n  }\r\n\r\n  void initDnd() {\r\n    final DragSourceListener dsl = new DragSourceListener() {\r\n      @Override\r\n      public void dragEnter(DragSourceDragEvent e) {}\r\n      @Override\r\n      public void dragExit(DragSourceEvent e) {}\r\n      @Override\r\n      public void dragOver(DragSourceDragEvent e) {}\r\n      @Override\r\n      public void dragDropEnd(DragSourceDropEvent e) {\r\n        System.out.println(&quot;dragDropEnd()&quot;);\r\n      }\r\n      @Override\r\n      public void dropActionChanged(DragSourceDragEvent e) {}\r\n    };\r\n\r\n    final DragGestureListener dgl = new DragGestureListener() {\r\n      @Override\r\n      public void dragGestureRecognized(DragGestureEvent e) {\r\n        System.out.println(&quot;dragGestureRecognized()&quot;);\r\n        try {\r\n          e.startDrag(DragSource.DefaultMoveDrop,\r\n            new Transferable() {\r\n              @Override\r\n              public Object getTransferData(DataFlavor flavor) {\r\n                return null;\r\n              }\r\n              @Override\r\n              public DataFlavor[] getTransferDataFlavors() {\r\n                return null;\r\n              }\r\n              @Override\r\n              public boolean isDataFlavorSupported(DataFlavor flavor) {\r\n                return true;\r\n              }\r\n            },\r\n            dsl);\r\n        } catch (InvalidDnDOperationException idoe) {\r\n          idoe.printStackTrace();\r\n        }\r\n      }\r\n    };\r\n\r\n    DragSource ds = new DragSource();\r\n    ds.createDefaultDragGestureRecognizer(tabbedPane, DnDConstants.ACTION_MOVE, dgl);\r\n\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    EventQueue.invokeLater(() -&gt; new DnDTestCase().setVisible(true));\r\n  }\r\n}\r\n```\r\n\r\nHere it is on `Windows`.[JFrame+JtabPane]\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBasically, you can drag and drop the tab to the window itself, and also to an empty space outside of the `JFrame`, and in both cases on Windows the `dragDropEnd` function is triggered when the mouse button is released. So it displays `dragDropEnd()` in the terminal. Which is nice.\r\n\r\nHowever, on the `Linux` run, it `dragDropEnd` is triggered only if the mouse cursor is over a `JFrame` (the original one or even another one, it doesn&#39;t really matter, apparently).\r\n\r\nIf the mouse button is released over an empty space (=not a `JFrame` — or even a `JDialog` probably), it doesn&#39;t trigger anything UNTIL the mouse cursor is moved back over the `JFrame`. So for some reason, the event is not generated if the mouse is not over the `JFrame`?\r\n\r\nIs there something obvious I am doing in a bad way?\r\n\r\n  [1]: https://i.stack.imgur.com/V5BQO.png","title":"java swing drag &amp; drop linux: DragSourceListener.dragDropEnd not called","body":"<p>I am trying to implement a drag &amp; drop behavior to a <code>jtabbedpane</code>.\nIt's working well on my Windows 10, but not so much on a Debian 12 (openjdk 17 on the Debian).</p>\n<p>Here is a minimal test case:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.dnd.DnDConstants;\nimport java.awt.dnd.DragGestureEvent;\nimport java.awt.dnd.DragGestureListener;\nimport java.awt.dnd.DragSource;\nimport java.awt.dnd.DragSourceDragEvent;\nimport java.awt.dnd.DragSourceDropEvent;\nimport java.awt.dnd.DragSourceEvent;\nimport java.awt.dnd.DragSourceListener;\nimport java.awt.dnd.InvalidDnDOperationException;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTabbedPane;\n\npublic class DnDTestCase extends JFrame {\n  JTabbedPane tabbedPane;\n  public DnDTestCase() {\n    tabbedPane = new JTabbedPane(JTabbedPane.TOP);\n    getContentPane().add(tabbedPane, BorderLayout.CENTER);\n\n    JPanel panel = new JPanel();\n    tabbedPane.addTab(&quot;New tab&quot;, null, panel, null);\n\n    this.setSize(320, 240);\n\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    initDnd();\n  }\n\n  void initDnd() {\n    final DragSourceListener dsl = new DragSourceListener() {\n      @Override\n      public void dragEnter(DragSourceDragEvent e) {}\n      @Override\n      public void dragExit(DragSourceEvent e) {}\n      @Override\n      public void dragOver(DragSourceDragEvent e) {}\n      @Override\n      public void dragDropEnd(DragSourceDropEvent e) {\n        System.out.println(&quot;dragDropEnd()&quot;);\n      }\n      @Override\n      public void dropActionChanged(DragSourceDragEvent e) {}\n    };\n\n    final DragGestureListener dgl = new DragGestureListener() {\n      @Override\n      public void dragGestureRecognized(DragGestureEvent e) {\n        System.out.println(&quot;dragGestureRecognized()&quot;);\n        try {\n          e.startDrag(DragSource.DefaultMoveDrop,\n            new Transferable() {\n              @Override\n              public Object getTransferData(DataFlavor flavor) {\n                return null;\n              }\n              @Override\n              public DataFlavor[] getTransferDataFlavors() {\n                return null;\n              }\n              @Override\n              public boolean isDataFlavorSupported(DataFlavor flavor) {\n                return true;\n              }\n            },\n            dsl);\n        } catch (InvalidDnDOperationException idoe) {\n          idoe.printStackTrace();\n        }\n      }\n    };\n\n    DragSource ds = new DragSource();\n    ds.createDefaultDragGestureRecognizer(tabbedPane, DnDConstants.ACTION_MOVE, dgl);\n\n  }\n\n  public static void main(String[] args) {\n    EventQueue.invokeLater(() -&gt; new DnDTestCase().setVisible(true));\n  }\n}\n</code></pre>\n<p>Here it is on <code>Windows</code>.[JFrame+JtabPane]</p>\n<p><a href=\"https://i.stack.imgur.com/V5BQO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V5BQO.png\" alt=\"enter image description here\" /></a></p>\n<p>Basically, you can drag and drop the tab to the window itself, and also to an empty space outside of the <code>JFrame</code>, and in both cases on Windows the <code>dragDropEnd</code> function is triggered when the mouse button is released. So it displays <code>dragDropEnd()</code> in the terminal. Which is nice.</p>\n<p>However, on the <code>Linux</code> run, it <code>dragDropEnd</code> is triggered only if the mouse cursor is over a <code>JFrame</code> (the original one or even another one, it doesn't really matter, apparently).</p>\n<p>If the mouse button is released over an empty space (=not a <code>JFrame</code> — or even a <code>JDialog</code> probably), it doesn't trigger anything UNTIL the mouse cursor is moved back over the <code>JFrame</code>. So for some reason, the event is not generated if the mouse is not over the <code>JFrame</code>?</p>\n<p>Is there something obvious I am doing in a bad way?</p>\n"},{"tags":["java","micronaut"],"comments":[{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1690556364,"post_id":76787730,"comment_id":135374905,"body_markdown":"Can you show us how you&#39;re doing this without Micronaut?","body":"Can you show us how you&#39;re doing this without Micronaut?"}],"owner":{"account_id":323279,"reputation":319,"user_id":643194,"accept_rate":73,"display_name":"vishal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690546675,"creation_date":1690546675,"question_id":76787730,"body_markdown":"I am trying to access third party API which required to use keystore with sslcontext.  \r\nWe&#39;re using `io.micronaut.http.client.HttpClient` to access a 3rd party API.  \r\nHow to create HttpClient with keystore and sslcontext in micronaut?","title":"Micronaut HttpClient with keystore and sslcontext","body":"<p>I am trying to access third party API which required to use keystore with sslcontext.<br />\nWe're using <code>io.micronaut.http.client.HttpClient</code> to access a 3rd party API.<br />\nHow to create HttpClient with keystore and sslcontext in micronaut?</p>\n"},{"tags":["java","soap","weblogic","soapui","soap-client"],"answers":[{"tags":[],"owner":{"account_id":7996844,"reputation":105,"user_id":6032857,"display_name":"Atif Sheikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690545759,"creation_date":1690545759,"answer_id":76787629,"question_id":76760068,"body_markdown":"Finally resolved this.\r\n\r\n - Removed the Custom Handler entirely.\r\n - Instead modified code of calling WS\r\n\r\n**Before** \r\n\r\n``` \r\n\r\n            ManagementServices  service = new ManagementServices(webServiceUrl);\r\n            \r\n            Impl_ManagementServices port = service.getManagementServices();\r\n            \r\n            final Binding binding = ((BindingProvider) port).getBinding();\r\n             \r\n            List&lt;Handler&gt; handlerList = binding.getHandlerChain();\r\n    \r\n            handlerList.add(new UsrSecHandler(LOGIN, PASS));\r\n            \r\n            binding.setHandlerChain(handlerList);\r\n            \r\n            port.callingManageService(some_input);\r\n```\r\n\r\n**Now (changed/working code)**\r\n\r\n\r\n```\r\n\t\timport weblogic.wsee.security.unt.ClientUNTCredentialProvider;\r\n\t\timport weblogic.xml.crypto.wss.WSSecurityContext;\r\n\t\timport weblogic.xml.crypto.wss.provider.CredentialProvider;\r\n\t\timport javax.xml.ws.BindingProvider;\r\n\r\n\r\n\t\tManagementServices  service = new ManagementServices(webServiceUrl);\r\n    \r\n        Impl_ManagementServices port = service.getManagementServices();\r\n\r\n\t\tList&lt;CredentialProvider&gt; credProviders = new ArrayList&lt;CredentialProvider&gt;(); \r\n\t\tCredentialProvider  cp = new ClientUNTCredentialProvider(&quot;username&quot;.getBytes(), &quot;password&quot;.getBytes()); \r\n\t\tcredProviders.add(cp); \r\n\t\tMap&lt;String, Object&gt; requestContext = ((BindingProvider) port).getRequestContext();\r\n\t\trequestContext.put(WSSecurityContext.CREDENTIAL_PROVIDER_LIST, credProviders);\r\n\t\r\n            \r\n        port.callingManageService(some_input);\r\n```\r\n","title":"Unable to add security token for identity, token uri =http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#UsernameToken","body":"<p>Finally resolved this.</p>\n<ul>\n<li>Removed the Custom Handler entirely.</li>\n<li>Instead modified code of calling WS</li>\n</ul>\n<p><strong>Before</strong></p>\n<pre><code>\n            ManagementServices  service = new ManagementServices(webServiceUrl);\n            \n            Impl_ManagementServices port = service.getManagementServices();\n            \n            final Binding binding = ((BindingProvider) port).getBinding();\n             \n            List&lt;Handler&gt; handlerList = binding.getHandlerChain();\n    \n            handlerList.add(new UsrSecHandler(LOGIN, PASS));\n            \n            binding.setHandlerChain(handlerList);\n            \n            port.callingManageService(some_input);\n</code></pre>\n<p><strong>Now (changed/working code)</strong></p>\n<pre><code>        import weblogic.wsee.security.unt.ClientUNTCredentialProvider;\n        import weblogic.xml.crypto.wss.WSSecurityContext;\n        import weblogic.xml.crypto.wss.provider.CredentialProvider;\n        import javax.xml.ws.BindingProvider;\n\n\n        ManagementServices  service = new ManagementServices(webServiceUrl);\n    \n        Impl_ManagementServices port = service.getManagementServices();\n\n        List&lt;CredentialProvider&gt; credProviders = new ArrayList&lt;CredentialProvider&gt;(); \n        CredentialProvider  cp = new ClientUNTCredentialProvider(&quot;username&quot;.getBytes(), &quot;password&quot;.getBytes()); \n        credProviders.add(cp); \n        Map&lt;String, Object&gt; requestContext = ((BindingProvider) port).getRequestContext();\n        requestContext.put(WSSecurityContext.CREDENTIAL_PROVIDER_LIST, credProviders);\n    \n            \n        port.callingManageService(some_input);\n</code></pre>\n"}],"owner":{"account_id":7996844,"reputation":105,"user_id":6032857,"display_name":"Atif Sheikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76787629,"answer_count":1,"score":0,"last_activity_date":1690545759,"creation_date":1690267592,"question_id":76760068,"body_markdown":"I am trying to call a Webservice using jax-ws. While calling the WS I faced below error,\r\n\r\n```\r\n&lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n   &lt;S:Body&gt;\r\n      &lt;S:Fault xmlns:ns4=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\r\n         &lt;faultcode&gt;S:Server&lt;/faultcode&gt;\r\n         &lt;faultstring&gt;Unable to add security token for identity, token uri =http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#UsernameToken&lt;/faultstring&gt;\r\n         &lt;faultactor/&gt;\r\n      &lt;/S:Fault&gt;\r\n   &lt;/S:Body&gt;\r\n&lt;/S:Envelope&gt;\r\n\r\n```\r\n I searched for this error and found out that it expects userid/password in header. So to add the user credentials in header I have implemented custom handler.\r\n``` \r\nimport java.util.Set;\r\nimport java.util.TreeSet;\r\n\r\nimport javax.xml.namespace.QName;\r\nimport javax.xml.soap.SOAPElement;\r\nimport javax.xml.soap.SOAPEnvelope;\r\nimport javax.xml.soap.SOAPException;\r\nimport javax.xml.soap.SOAPFactory;\r\nimport javax.xml.soap.SOAPHeader;\r\nimport javax.xml.ws.handler.MessageContext;\r\nimport javax.xml.ws.handler.soap.SOAPHandler;\r\nimport javax.xml.ws.handler.soap.SOAPMessageContext;\r\n\r\n\r\npublic class UsrSecHandler implements SOAPHandler&lt;SOAPMessageContext&gt;\r\n{\r\n    private static final String AUTH_NS = &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;;\r\n    private static final String AUTH_PREFIX=&quot;wsse&quot;;\r\n\tprivate String pwd;\r\n\tprivate String userName = null;\r\n\tprivate SOAPFactory mSoapFactory = null;\r\n\t\r\n\r\n\t\r\n\r\n\tpublic UsrSecHandler(String username, String password) {\r\n\t\tthis.userName = username;\r\n\t\tthis.pwd = password;\r\n\t}\r\n\r\n\r\n\r\n\t@Override\r\n\tpublic boolean handleMessage(SOAPMessageContext context)\r\n\t{\r\n\r\n\t\tBoolean outboundProperty = (Boolean) context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\r\n\t\tif (outboundProperty.booleanValue())\r\n\t\t{\r\n\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\r\n\t\t\t\tSOAPEnvelope envelope = context.getMessage().getSOAPPart().getEnvelope();\r\n\t\t\t\tif (mSoapFactory == null)\r\n\t\t\t\t{\r\n\t\t\t\t\t\tmSoapFactory = SOAPFactory.newInstance();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tSOAPElement wsSecHeaderElm, userNameTokenElm, userNameElm, passwdElm;\r\n\t\t\t\t// WSSecurity &lt;Security&gt; header\r\n\t\t\t\t\r\n\t\t\t\t\twsSecHeaderElm = mSoapFactory.createElement(&quot;Security&quot;,AUTH_PREFIX,AUTH_NS);\r\n\t\t\t\t\tuserNameTokenElm = mSoapFactory.createElement(&quot;UsernameToken&quot;,AUTH_PREFIX,AUTH_NS);\r\n\t\t\t\t\tuserNameElm = mSoapFactory.createElement(&quot;Username&quot;,AUTH_PREFIX,AUTH_NS);\r\n\t\t\t\t\tpasswdElm = mSoapFactory.createElement(&quot;Password&quot;,AUTH_PREFIX,AUTH_NS);\r\n\t\t\t\t\r\n\t\t\t\tuserNameElm.addTextNode(this.userName);\r\n\t\t\t\tpasswdElm.addTextNode(this.pwd);\r\n\r\n\t\t\t\tuserNameTokenElm.addChildElement(userNameElm);\r\n\t\t\t\tuserNameTokenElm.addChildElement(passwdElm);\r\n\t\t\t\t\r\n\t\t\t\t// add child elements to the root element\r\n\t\t\t\twsSecHeaderElm.addChildElement(userNameTokenElm);\r\n\r\n\t\t\t\t// create SOAPHeader instance for SOAP envelope\t\t\t\t\r\n\t\t\t\tSOAPHeader header = envelope.getHeader();\r\n\t\t\t\t\r\n\t\t\t\tif (header == null) {\r\n\t                header = envelope.addHeader();\r\n\t            }\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\theader.addChildElement(wsSecHeaderElm);\r\n\t\t\t}\r\n\t\t\tcatch (SOAPException e)\r\n\t\t\t{\r\n\t\t        \te.printStackTrace();\r\n\t\t\t}catch (Exception e){\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Set&lt;QName&gt; getHeaders()\r\n\t{\r\n\t\treturn new TreeSet&lt;QName&gt;();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean handleFault(SOAPMessageContext context)\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void close(MessageContext context)\r\n\t{\r\n\t\t//\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nI am using below code to plug the custom handler and call the WS.\r\n\r\n```\r\n            ManagementServices\tservice = new ManagementServices(webServiceUrl);\r\n\t\t\t\r\n\t\t\tImpl_ManagementServices port = service.getManagementServices();\r\n\t\t\t\r\n\t\t\tfinal Binding binding = ((BindingProvider) port).getBinding();\r\n\t\t\t \r\n\t\t\tList&lt;Handler&gt; handlerList = binding.getHandlerChain();\r\n    \r\n\t\t\thandlerList.add(new UsrSecHandler(LOGIN, PASS));\r\n\t\t\t\r\n\t\t\tbinding.setHandlerChain(handlerList);\r\n\t\t\t\r\n\t\t\tport.callingManageService(some_input);\r\n```\r\n\r\nAfter adding Handler, **The code worked fine on Eclipse when I run it standalone. But when I deployed the same code on Weblogic It is still throwing the same error. In the logs I am printing the Envelope. When I am using the same exact envelope(copy/paste) in Soap UI again it is working fine.** But some how it is not working when deployed on Weblogic.\r\n\r\nBelow is The policy defined.\r\n\r\n```\r\n&lt;wsp:Policy wssutil:Id=&quot;UsernameToken&quot;&gt;\r\n&lt;ns1:SupportingTokens xmlns:ns1=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200512&quot;&gt;\r\n&lt;wsp:Policy&gt;\r\n&lt;ns1:UsernameToken ns1:IncludeToken=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200512/IncludeToken/AlwaysToRecipient&quot;&gt;\r\n&lt;wsp:Policy&gt;\r\n&lt;ns1:WssUsernameToken10/&gt;\r\n&lt;/wsp:Policy&gt;\r\n&lt;/ns1:UsernameToken&gt;\r\n&lt;/wsp:Policy&gt;\r\n&lt;/ns1:SupportingTokens&gt;\r\n&lt;/wsp:Policy&gt;\r\n```\r\n**client : WebLogic Server Version: 14.1.1.0.0**\r\n\r\n**Server/host : WebLogic Server Version: 10.3.6.0**\r\n\r\nNot able to understand this behavior, Could any one please help me out with this ? ","title":"Unable to add security token for identity, token uri =http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#UsernameToken","body":"<p>I am trying to call a Webservice using jax-ws. While calling the WS I faced below error,</p>\n<pre><code>&lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n   &lt;S:Body&gt;\n      &lt;S:Fault xmlns:ns4=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\n         &lt;faultcode&gt;S:Server&lt;/faultcode&gt;\n         &lt;faultstring&gt;Unable to add security token for identity, token uri =http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#UsernameToken&lt;/faultstring&gt;\n         &lt;faultactor/&gt;\n      &lt;/S:Fault&gt;\n   &lt;/S:Body&gt;\n&lt;/S:Envelope&gt;\n\n</code></pre>\n<p>I searched for this error and found out that it expects userid/password in header. So to add the user credentials in header I have implemented custom handler.</p>\n<pre><code>import java.util.Set;\nimport java.util.TreeSet;\n\nimport javax.xml.namespace.QName;\nimport javax.xml.soap.SOAPElement;\nimport javax.xml.soap.SOAPEnvelope;\nimport javax.xml.soap.SOAPException;\nimport javax.xml.soap.SOAPFactory;\nimport javax.xml.soap.SOAPHeader;\nimport javax.xml.ws.handler.MessageContext;\nimport javax.xml.ws.handler.soap.SOAPHandler;\nimport javax.xml.ws.handler.soap.SOAPMessageContext;\n\n\npublic class UsrSecHandler implements SOAPHandler&lt;SOAPMessageContext&gt;\n{\n    private static final String AUTH_NS = &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;;\n    private static final String AUTH_PREFIX=&quot;wsse&quot;;\n    private String pwd;\n    private String userName = null;\n    private SOAPFactory mSoapFactory = null;\n    \n\n    \n\n    public UsrSecHandler(String username, String password) {\n        this.userName = username;\n        this.pwd = password;\n    }\n\n\n\n    @Override\n    public boolean handleMessage(SOAPMessageContext context)\n    {\n\n        Boolean outboundProperty = (Boolean) context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\n        if (outboundProperty.booleanValue())\n        {\n\n            try\n            {\n            \n                SOAPEnvelope envelope = context.getMessage().getSOAPPart().getEnvelope();\n                if (mSoapFactory == null)\n                {\n                        mSoapFactory = SOAPFactory.newInstance();\n                    \n                }\n                SOAPElement wsSecHeaderElm, userNameTokenElm, userNameElm, passwdElm;\n                // WSSecurity &lt;Security&gt; header\n                \n                    wsSecHeaderElm = mSoapFactory.createElement(&quot;Security&quot;,AUTH_PREFIX,AUTH_NS);\n                    userNameTokenElm = mSoapFactory.createElement(&quot;UsernameToken&quot;,AUTH_PREFIX,AUTH_NS);\n                    userNameElm = mSoapFactory.createElement(&quot;Username&quot;,AUTH_PREFIX,AUTH_NS);\n                    passwdElm = mSoapFactory.createElement(&quot;Password&quot;,AUTH_PREFIX,AUTH_NS);\n                \n                userNameElm.addTextNode(this.userName);\n                passwdElm.addTextNode(this.pwd);\n\n                userNameTokenElm.addChildElement(userNameElm);\n                userNameTokenElm.addChildElement(passwdElm);\n                \n                // add child elements to the root element\n                wsSecHeaderElm.addChildElement(userNameTokenElm);\n\n                // create SOAPHeader instance for SOAP envelope             \n                SOAPHeader header = envelope.getHeader();\n                \n                if (header == null) {\n                    header = envelope.addHeader();\n                }\n                \n                \n                header.addChildElement(wsSecHeaderElm);\n            }\n            catch (SOAPException e)\n            {\n                    e.printStackTrace();\n            }catch (Exception e){\n                    e.printStackTrace();\n            }\n        }\n        return true;\n    }\n\n    @Override\n    public Set&lt;QName&gt; getHeaders()\n    {\n        return new TreeSet&lt;QName&gt;();\n    }\n\n    @Override\n    public boolean handleFault(SOAPMessageContext context)\n    {\n        return false;\n    }\n\n    @Override\n    public void close(MessageContext context)\n    {\n        //\n    }\n    \n}\n</code></pre>\n<p>I am using below code to plug the custom handler and call the WS.</p>\n<pre><code>            ManagementServices  service = new ManagementServices(webServiceUrl);\n            \n            Impl_ManagementServices port = service.getManagementServices();\n            \n            final Binding binding = ((BindingProvider) port).getBinding();\n             \n            List&lt;Handler&gt; handlerList = binding.getHandlerChain();\n    \n            handlerList.add(new UsrSecHandler(LOGIN, PASS));\n            \n            binding.setHandlerChain(handlerList);\n            \n            port.callingManageService(some_input);\n</code></pre>\n<p>After adding Handler, <strong>The code worked fine on Eclipse when I run it standalone. But when I deployed the same code on Weblogic It is still throwing the same error. In the logs I am printing the Envelope. When I am using the same exact envelope(copy/paste) in Soap UI again it is working fine.</strong> But some how it is not working when deployed on Weblogic.</p>\n<p>Below is The policy defined.</p>\n<pre><code>&lt;wsp:Policy wssutil:Id=&quot;UsernameToken&quot;&gt;\n&lt;ns1:SupportingTokens xmlns:ns1=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200512&quot;&gt;\n&lt;wsp:Policy&gt;\n&lt;ns1:UsernameToken ns1:IncludeToken=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200512/IncludeToken/AlwaysToRecipient&quot;&gt;\n&lt;wsp:Policy&gt;\n&lt;ns1:WssUsernameToken10/&gt;\n&lt;/wsp:Policy&gt;\n&lt;/ns1:UsernameToken&gt;\n&lt;/wsp:Policy&gt;\n&lt;/ns1:SupportingTokens&gt;\n&lt;/wsp:Policy&gt;\n</code></pre>\n<p><strong>client : WebLogic Server Version: 14.1.1.0.0</strong></p>\n<p><strong>Server/host : WebLogic Server Version: 10.3.6.0</strong></p>\n<p>Not able to understand this behavior, Could any one please help me out with this ?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1348501690,"post_id":12568451,"comment_id":16931524,"body_markdown":"&quot;\\s+&quot; means &quot;one or more whitespaces of any kind&quot;.","body":"&quot;\\s+&quot; means &quot;one or more whitespaces of any kind&quot;."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1348501882,"post_id":12568451,"comment_id":16931616,"body_markdown":"Case is so important.  Corrected.","body":"Case is so important.  Corrected."},{"owner":{"display_name":"user1679671"},"score":0,"creation_date":1348562028,"post_id":12568451,"comment_id":16948726,"body_markdown":"nobody understand my question..","body":"nobody understand my question.."}],"answers":[{"tags":[],"owner":{"account_id":170117,"reputation":17037,"user_id":396618,"accept_rate":100,"display_name":"Joeri Hendrickx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348501644,"creation_date":1348501644,"answer_id":12568478,"question_id":12568451,"body_markdown":"assuming you mean any whitespace, not just spaces, `\\S` will work.\r\n\r\nCfr every dev&#39;s must-have friend, [The regex cheat sheet][1]\r\n\r\n\r\n  [1]: http://www.addedbytes.com/cheat-sheets/regular-expressions-cheat-sheet/","title":"Regex pattern for &quot;contains not only spaces&quot;","body":"<p>assuming you mean any whitespace, not just spaces, <code>\\S</code> will work.</p>\n\n<p>Cfr every dev's must-have friend, <a href=\"http://www.addedbytes.com/cheat-sheets/regular-expressions-cheat-sheet/\" rel=\"nofollow\">The regex cheat sheet</a></p>\n"},{"tags":[],"owner":{"account_id":397763,"reputation":159288,"user_id":762073,"accept_rate":83,"display_name":"xdazz"},"down_vote_count":2,"up_vote_count":17,"is_accepted":true,"score":15,"last_activity_date":1348501677,"creation_date":1348501677,"answer_id":12568489,"question_id":12568451,"body_markdown":"Why need to use regex?\r\n\r\n    str.trim().isEmpty()","title":"Regex pattern for &quot;contains not only spaces&quot;","body":"<p>Why need to use regex?</p>\n\n<pre><code>str.trim().isEmpty()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1610299,"reputation":407,"user_id":1489468,"display_name":"Caner Korkmaz"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1348501755,"creation_date":1348501755,"answer_id":12568510,"question_id":12568451,"body_markdown":"You must use this pattern.\r\n \r\n    .*[^ ].*\r\nIt can be anything but not only spaces.","title":"Regex pattern for &quot;contains not only spaces&quot;","body":"<p>You must use this pattern.</p>\n\n<pre><code>.*[^ ].*\n</code></pre>\n\n<p>It can be anything but not only spaces.</p>\n"},{"tags":[],"owner":{"account_id":11245065,"reputation":716,"user_id":8248070,"display_name":"Susampath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507886822,"creation_date":1507872795,"answer_id":46723121,"question_id":12568451,"body_markdown":"This is much simple .If you are using java just code this.\r\nAs example:-\r\n\r\n         \r\nclassVariable.getname().trim().equal(&quot;&quot;) \r\n\r\nby this you can check whether that variable contains only spaces.","title":"Regex pattern for &quot;contains not only spaces&quot;","body":"<p>This is much simple .If you are using java just code this.\nAs example:-</p>\n\n<p>classVariable.getname().trim().equal(\"\") </p>\n\n<p>by this you can check whether that variable contains only spaces.</p>\n"},{"tags":[],"owner":{"account_id":14649837,"reputation":29,"user_id":10580158,"display_name":"UnDev"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1690545172,"creation_date":1540899687,"answer_id":53063533,"question_id":12568451,"body_markdown":"I&#39;ve got one, it seems heavy, but it&#39;s not that hard to implement.\r\n\r\nPattern with no blank:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    ^[pattern]\\*[pattern without space][pattern]*$\r\n\r\nExample:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    -pattern: a-zA-Z&#192;-&#255; &#39;\\-\r\n\r\n(note that it allows spaces)\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    [a-zA-Z&#192;-&#255; &#39;\\-]\r\n\r\nWith no blank = \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    ^[a-zA-Z&#192;-&#255; &#39;\\-]\\*[a-zA-Z&#192;-&#255;&#39;\\-][a-zA-Z&#192;-&#255; &#39;\\-]*\r\n\r\nOf course, if you don&#39;t allow spaces at all, you don&#39;t need to do that.\r\n\r\nYou can test yours on https://regexr.com/.","title":"Regex pattern for &quot;contains not only spaces&quot;","body":"<p>I've got one, it seems heavy, but it's not that hard to implement.</p>\n<p>Pattern with no blank:</p>\n<pre class=\"lang-none prettyprint-override\"><code>^[pattern]\\*[pattern without space][pattern]*$\n</code></pre>\n<p>Example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-pattern: a-zA-ZÀ-ÿ '\\-\n</code></pre>\n<p>(note that it allows spaces)</p>\n<pre class=\"lang-none prettyprint-override\"><code>[a-zA-ZÀ-ÿ '\\-]\n</code></pre>\n<p>With no blank =</p>\n<pre class=\"lang-none prettyprint-override\"><code>^[a-zA-ZÀ-ÿ '\\-]\\*[a-zA-ZÀ-ÿ'\\-][a-zA-ZÀ-ÿ '\\-]*\n</code></pre>\n<p>Of course, if you don't allow spaces at all, you don't need to do that.</p>\n<p>You can test yours on <a href=\"https://regexr.com/\" rel=\"nofollow noreferrer\">https://regexr.com/</a>.</p>\n"}],"owner":{"display_name":"user1679671"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19321,"favorite_count":0,"down_vote_count":8,"up_vote_count":11,"closed_date":1674844688,"accepted_answer_id":12568489,"answer_count":5,"score":3,"last_activity_date":1690545172,"creation_date":1348501563,"question_id":12568451,"body_markdown":"Please tell me which pattern I need to use if field must not contain only spaces.","title":"Regex pattern for &quot;contains not only spaces&quot;","body":"<p>Please tell me which pattern I need to use if field must not contain only spaces.</p>\n"},{"tags":["java","jobrunr"],"answers":[{"tags":[],"owner":{"account_id":8898820,"reputation":33,"user_id":6642870,"display_name":"phucvm8x"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690545085,"creation_date":1690545085,"answer_id":76787554,"question_id":76480032,"body_markdown":"I think only Jobrunr Pro can run over 100 jobs.","title":"can I create more than 100 recurring jobs when using Jobrunr OSS, if our Database has enough resource like memory, processing capability","body":"<p>I think only Jobrunr Pro can run over 100 jobs.</p>\n"}],"owner":{"account_id":20624354,"reputation":11,"user_id":15140601,"display_name":"Sharafat Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690545085,"creation_date":1686813624,"question_id":76480032,"body_markdown":"can Jobrunr OSS support distributed job processing, more than 100 recurring job?. as per official document can create upto 100 recurring job (Depend on DB). suppose DB have capability to store and process more than 100 jobs then can I create more than 100 recurring job.\r\n\r\n","title":"can I create more than 100 recurring jobs when using Jobrunr OSS, if our Database has enough resource like memory, processing capability","body":"<p>can Jobrunr OSS support distributed job processing, more than 100 recurring job?. as per official document can create upto 100 recurring job (Depend on DB). suppose DB have capability to store and process more than 100 jobs then can I create more than 100 recurring job.</p>\n"},{"tags":["java","spring-boot","docker","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690524060,"creation_date":1690524060,"answer_id":76785186,"question_id":76781303,"body_markdown":"-&gt; The issue you are facing is likely related to how you are constructing the URI for \r\n   the HTTP request in your `webClientBuilder`. By default, when using the `uri()` \r\n   method with a string argument, the `WebClient` will not take into account the port \r\n   specified in the service URL obtained from Eureka, and it will use the default \r\n   port, which is **80** for HTTP.\r\n\r\n-&gt; Use the `resolve()` method of the URI object to add the **specific path**.","title":"HTTP request with Eureka does not fill port","body":"<p>-&gt; The issue you are facing is likely related to how you are constructing the URI for\nthe HTTP request in your <code>webClientBuilder</code>. By default, when using the <code>uri()</code>\nmethod with a string argument, the <code>WebClient</code> will not take into account the port\nspecified in the service URL obtained from Eureka, and it will use the default\nport, which is <strong>80</strong> for HTTP.</p>\n<p>-&gt; Use the <code>resolve()</code> method of the URI object to add the <strong>specific path</strong>.</p>\n"},{"tags":[],"owner":{"account_id":15131874,"reputation":1867,"user_id":10919491,"display_name":"Benedikt J Schlegel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690545037,"creation_date":1690545037,"answer_id":76787546,"question_id":76781303,"body_markdown":"After a lot of testing I finally found the solution.\r\n\r\nI had not configured the WebClientBuilder correctly. After adding the `LoadBalanced` annotation to the Bean the service name gets correctly resolved.\r\n\r\n    @Configuration\r\n    public class WebClientConfiguration {\r\n    \r\n        @Bean\r\n        @LoadBalanced\r\n        public WebClient.Builder webClientBuilder(){\r\n            return WebClient.builder();\r\n        }\r\n    \r\n    }","title":"HTTP request with Eureka does not fill port","body":"<p>After a lot of testing I finally found the solution.</p>\n<p>I had not configured the WebClientBuilder correctly. After adding the <code>LoadBalanced</code> annotation to the Bean the service name gets correctly resolved.</p>\n<pre><code>@Configuration\npublic class WebClientConfiguration {\n\n    @Bean\n    @LoadBalanced\n    public WebClient.Builder webClientBuilder(){\n        return WebClient.builder();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15131874,"reputation":1867,"user_id":10919491,"display_name":"Benedikt J Schlegel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76787546,"answer_count":2,"score":0,"last_activity_date":1690545037,"creation_date":1690471697,"question_id":76781303,"body_markdown":"I have multiple services running in docker containers through docker-compose.\r\n\r\nI am trying to make a http request from one service to another but it fails since the port always gets filled as &#39;80&#39; instead of using the port registered with Eureka.\r\n\r\nWhen I iterate through the discovered applications like so:\r\n\r\n    List&lt;Application&gt; applications = discoveryClient.getApplications().getRegisteredApplications();\r\n\r\n       for (Application application : applications) {\r\n           List&lt;InstanceInfo&gt; applicationsInstances = application.getInstances();\r\n                for (InstanceInfo applicationsInstance : applicationsInstances) {\r\n\r\n                    String name = applicationsInstance.getAppName();\r\n                    String url = applicationsInstance.getHomePageUrl();\r\n                    System.out.println(name + &quot;: &quot; + url);\r\n                }\r\n            }\r\n\r\nI get this (correct) output:\r\n\r\n    IDENTITY-SERVICE: http://172.20.0.3:10103/ \r\n\r\nBut when the call gets made like this:\r\n\r\n    return webClientBuilder\r\n                        .build()\r\n                        .post()\r\n                        .uri(&quot;http://identity-service/api/auth/validate&quot;, uriBuilder -&gt; uriBuilder.queryParam(&quot;token&quot;, &quot;xyz&quot;).build())\r\n                        .retrieve()\r\n                        .bodyToMono(ValidationResponseDTO.class);\r\n\r\nthis exception, indicating that it is calling port 80, is thrown:\r\n\r\n    org.springframework.web.reactive.function.client.WebClientRequestException: finishConnect(..) failed: Connection refused: identity-service/172.20.0.3:80\r\n\r\nWhen I specify the port (&quot;`http://identity-service:10103/api/auth/validate`&quot;) it works perfectly fine.\r\n\r\nAnyone have an idea why it is not using the port from Eureka?","title":"HTTP request with Eureka does not fill port","body":"<p>I have multiple services running in docker containers through docker-compose.</p>\n<p>I am trying to make a http request from one service to another but it fails since the port always gets filled as '80' instead of using the port registered with Eureka.</p>\n<p>When I iterate through the discovered applications like so:</p>\n<pre><code>List&lt;Application&gt; applications = discoveryClient.getApplications().getRegisteredApplications();\n\n   for (Application application : applications) {\n       List&lt;InstanceInfo&gt; applicationsInstances = application.getInstances();\n            for (InstanceInfo applicationsInstance : applicationsInstances) {\n\n                String name = applicationsInstance.getAppName();\n                String url = applicationsInstance.getHomePageUrl();\n                System.out.println(name + &quot;: &quot; + url);\n            }\n        }\n</code></pre>\n<p>I get this (correct) output:</p>\n<pre><code>IDENTITY-SERVICE: http://172.20.0.3:10103/ \n</code></pre>\n<p>But when the call gets made like this:</p>\n<pre><code>return webClientBuilder\n                    .build()\n                    .post()\n                    .uri(&quot;http://identity-service/api/auth/validate&quot;, uriBuilder -&gt; uriBuilder.queryParam(&quot;token&quot;, &quot;xyz&quot;).build())\n                    .retrieve()\n                    .bodyToMono(ValidationResponseDTO.class);\n</code></pre>\n<p>this exception, indicating that it is calling port 80, is thrown:</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: finishConnect(..) failed: Connection refused: identity-service/172.20.0.3:80\n</code></pre>\n<p>When I specify the port (&quot;<code>http://identity-service:10103/api/auth/validate</code>&quot;) it works perfectly fine.</p>\n<p>Anyone have an idea why it is not using the port from Eureka?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9712,"page":280,"page_size":100}
