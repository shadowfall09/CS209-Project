{"items":[{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662549862,"creation_date":1662549862,"answer_id":73634651,"question_id":73634263,"body_markdown":"You can locate this button by class names, text content etc.   \r\nTry this CSS Selector\r\n```java\r\n&quot;button.mp-btn.install&quot;\r\n```\r\nOr this Xpath\r\n```java\r\n&quot;//button[@lcass=&#39;mp-btn install&#39;][contains(.,&#39;Install&#39;)]&quot;\r\n```\r\n","title":"How to convert this code into Xpath or Selector?","body":"<p>You can locate this button by class names, text content etc.<br />\nTry this CSS Selector</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;button.mp-btn.install&quot;\n</code></pre>\n<p>Or this Xpath</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;//button[@lcass='mp-btn install'][contains(.,'Install')]&quot;\n</code></pre>\n"}],"owner":{"account_id":25605536,"reputation":1,"user_id":19379682,"display_name":"Arun K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662549862,"creation_date":1662548033,"question_id":73634263,"body_markdown":"I&#39;m doing Automation in SaaS products. Now, facing some issues this was the code \r\n```html\r\n&lt;div class=&quot;action-buttons&quot; data-v-335fe623=&quot;&quot;&gt;\r\n&lt;!----&gt;\r\n&lt;button class=&quot;mp-btn install&quot; data-v-335fe623=&quot;&quot;&gt;Install&lt;/button&gt;&lt;/div&gt;`\r\n```\r\nActually, multiple attributes are in the same values striking in this point to convert the value into Xpath or CSS if get that code can&#39;t able to click the button.\r\n","title":"How to convert this code into Xpath or Selector?","body":"<p>I'm doing Automation in SaaS products. Now, facing some issues this was the code</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;action-buttons&quot; data-v-335fe623=&quot;&quot;&gt;\n&lt;!----&gt;\n&lt;button class=&quot;mp-btn install&quot; data-v-335fe623=&quot;&quot;&gt;Install&lt;/button&gt;&lt;/div&gt;`\n</code></pre>\n<p>Actually, multiple attributes are in the same values striking in this point to convert the value into Xpath or CSS if get that code can't able to click the button.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1662530520,"post_id":73630708,"comment_id":130023446,"body_markdown":"Please don&#39;t just throw poorly formatted code at us but add at least some text, e.g. describe your thinking, what you want to achieve (ideally add examples), how you want to achieve it, wwhether you already stepped through your code with a debugger etc.","body":"Please don&#39;t just throw poorly formatted code at us but add at least some text, e.g. describe your thinking, what you want to achieve (ideally add examples), how you want to achieve it, wwhether you already stepped through your code with a debugger etc."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662534933,"post_id":73630708,"comment_id":130024721,"body_markdown":"@user16320675 10^9 would still be a valid value for `int` as its maximum value would be about 2.14 * 10^9.","body":"@user16320675 10^9 would still be a valid value for <code>int</code> as its maximum value would be about 2.14 * 10^9."},{"owner":{"account_id":22297222,"reputation":3,"user_id":16523056,"display_name":"lordrayuga9"},"score":0,"creation_date":1662539585,"post_id":73630708,"comment_id":130026404,"body_markdown":"@Thomas thank you for helping me out. I am a beginner and I haven&#39;t considered the maximum value that can be contained in an Int. As far as my code goes the output for 10^9 is larger than what an int can hold and that&#39;s where I am getting the wrong output","body":"@Thomas thank you for helping me out. I am a beginner and I haven&#39;t considered the maximum value that can be contained in an Int. As far as my code goes the output for 10^9 is larger than what an int can hold and that&#39;s where I am getting the wrong output"},{"owner":{"account_id":22297222,"reputation":3,"user_id":16523056,"display_name":"lordrayuga9"},"score":0,"creation_date":1662539650,"post_id":73630708,"comment_id":130026426,"body_markdown":"@Gardener I got the same output but the output is actually wrong","body":"@Gardener I got the same output but the output is actually wrong"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662540189,"post_id":73630708,"comment_id":130026614,"body_markdown":"Note that if you really expect `count` to hold the value 8888888899 then the type `int` won&#39;t suffice. You&#39;ll need `long` in that case.","body":"Note that if you really expect <code>count</code> to hold the value 8888888899 then the type <code>int</code> won&#39;t suffice. You&#39;ll need <code>long</code> in that case."}],"answers":[{"tags":[],"owner":{"account_id":22297222,"reputation":3,"user_id":16523056,"display_name":"lordrayuga9"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662549758,"creation_date":1662540166,"answer_id":73632493,"question_id":73630708,"body_markdown":"```java\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class Main {\r\n    public static void main(String args[]) throws IOException {\r\n\r\n        //write your code here\r\n        Scanner sc = new Scanner(System.in);\r\n        int T = sc.nextInt();\r\n        for(int i=0;i&lt;T;i++){\r\n            int Num = sc.nextInt();\r\n            long count = 0;\r\n            for(int j=1;j&lt;=Num;j*=10){\r\n                count += Num-j+1; \r\n            }\r\n            System.out.println(count);\r\n        }\r\n    }\r\n}\r\n```\r\nI just needed to change the `count` variable from `int` to `long`.","title":"I was trying to find the total no. of digits that appear up till a certain number and my code is going wrong when the input is 10^9","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.io.*;\n\npublic class Main {\n    public static void main(String args[]) throws IOException {\n\n        //write your code here\n        Scanner sc = new Scanner(System.in);\n        int T = sc.nextInt();\n        for(int i=0;i&lt;T;i++){\n            int Num = sc.nextInt();\n            long count = 0;\n            for(int j=1;j&lt;=Num;j*=10){\n                count += Num-j+1; \n            }\n            System.out.println(count);\n        }\n    }\n}\n</code></pre>\n<p>I just needed to change the <code>count</code> variable from <code>int</code> to <code>long</code>.</p>\n"}],"owner":{"account_id":22297222,"reputation":3,"user_id":16523056,"display_name":"lordrayuga9"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1662549758,"creation_date":1662530194,"question_id":73630708,"body_markdown":"```lang-java\r\nimport java.util.*;\r\nimport java.io.*;\r\n  \r\npublic class Main {\r\n    public static void main(String args[]) throws IOException {\r\n      \r\n        //write your code here\r\n        Scanner sc = new Scanner(System.in);\r\n        int T = sc.nextInt();\r\n// For each Iteration I am adding the total no. of\r\n// 1&#39;s place digits, 10&#39;s place digits, 100&#39;s place digits, and so on.\r\n        for(int i=0;i&lt;T;i++){\r\n            int Num = sc.nextInt();\r\n            int count = 0;\r\n            for(int j=1;j&lt;=Num;j*=10){\r\n                count += Num-j+1; \r\n            }\r\n            System.out.println(count);\r\n        }\r\n    }\r\n}\r\n```\r\nInput:\r\n3\r\n100\r\n1000000000\r\n222222222\r\n\r\nThe output I am seeing:\r\n192\r\n298954307\r\n1888888896\r\n\r\nDesired Output:\r\n192\r\n8888888899\r\n1888888896\r\n","title":"I was trying to find the total no. of digits that appear up till a certain number and my code is going wrong when the input is 10^9","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.io.*;\n  \npublic class Main {\n    public static void main(String args[]) throws IOException {\n      \n        //write your code here\n        Scanner sc = new Scanner(System.in);\n        int T = sc.nextInt();\n// For each Iteration I am adding the total no. of\n// 1's place digits, 10's place digits, 100's place digits, and so on.\n        for(int i=0;i&lt;T;i++){\n            int Num = sc.nextInt();\n            int count = 0;\n            for(int j=1;j&lt;=Num;j*=10){\n                count += Num-j+1; \n            }\n            System.out.println(count);\n        }\n    }\n}\n</code></pre>\n<p>Input:\n3\n100\n1000000000\n222222222</p>\n<p>The output I am seeing:\n192\n298954307\n1888888896</p>\n<p>Desired Output:\n192\n8888888899\n1888888896</p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":3117792,"reputation":2507,"user_id":2638235,"display_name":"Prags"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1515348058,"creation_date":1515348058,"answer_id":48140032,"question_id":48139932,"body_markdown":"To use Gradle, add the following lines to your `build.gradle` file of android project:\r\n\r\n     repositories {\r\n          mavenCentral()\r\n      }\r\n      dependencies {\r\n          compile &#39;com.google.api-client:google-api-client:1.23.0&#39;\r\n      }\r\n\r\nfor more understanding you check [Google reference doc for setup][1]\r\n\r\n\r\n  [1]: https://developers.google.com/api-client-library/java/google-api-java-client/setup","title":"how to add ApiFuture interface to android project with gradle","body":"<p>To use Gradle, add the following lines to your <code>build.gradle</code> file of android project:</p>\n\n<pre><code> repositories {\n      mavenCentral()\n  }\n  dependencies {\n      compile 'com.google.api-client:google-api-client:1.23.0'\n  }\n</code></pre>\n\n<p>for more understanding you check <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/setup\" rel=\"nofollow noreferrer\">Google reference doc for setup</a></p>\n"},{"tags":[],"owner":{"account_id":14561575,"reputation":159,"user_id":13147089,"display_name":"ruthuparna k"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1585489251,"creation_date":1585488819,"answer_id":60914935,"question_id":48139932,"body_markdown":"I came across the same error while using the code for firestore for my android app from [this site][1]. The problem was I chose the Java option instead of Android. ApiFuture is used for java (its part of the server SDK) so its not there in android . Please click the android tab and use that code.[Code for android][2]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/query-data/get-data\r\n  [2]: https://i.stack.imgur.com/KX9bF.png","title":"how to add ApiFuture interface to android project with gradle","body":"<p>I came across the same error while using the code for firestore for my android app from <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data\" rel=\"nofollow noreferrer\">this site</a>. The problem was I chose the Java option instead of Android. ApiFuture is used for java (its part of the server SDK) so its not there in android . Please click the android tab and use that code.<a href=\"https://i.stack.imgur.com/KX9bF.png\" rel=\"nofollow noreferrer\">Code for android</a></p>\n"},{"tags":[],"owner":{"account_id":8011785,"reputation":453,"user_id":6043243,"accept_rate":36,"display_name":"Sandeep"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595067302,"creation_date":1595067302,"answer_id":62967322,"question_id":48139932,"body_markdown":"Use Android Code &amp; get rid of **ApiFuture**:\r\n\r\n    batch.commit().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n        // ...\r\n    }\r\n    });\r\n\r\nref: https://firebase.google.com/docs/firestore/manage-data/transactions#java_4","title":"how to add ApiFuture interface to android project with gradle","body":"<p>Use Android Code &amp; get rid of <strong>ApiFuture</strong>:</p>\n<pre><code>batch.commit().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n@Override\npublic void onComplete(@NonNull Task&lt;Void&gt; task) {\n    // ...\n}\n});\n</code></pre>\n<p>ref: <a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions#java_4\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/manage-data/transactions#java_4</a></p>\n"},{"tags":[],"owner":{"account_id":13913679,"reputation":21,"user_id":10046135,"display_name":"Ali Raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607528176,"creation_date":1607527807,"answer_id":65219804,"question_id":48139932,"body_markdown":"add this library in your gradle file\r\n\r\n    implementation &#39;com.google.api-client:google-api-client:1.23.0&#39;\r\n\r\nplease make sure you are in Java Android rather then java tab in fireStore Doc\r\nthen you not require this library","title":"how to add ApiFuture interface to android project with gradle","body":"<p>add this library in your gradle file</p>\n<pre><code>implementation 'com.google.api-client:google-api-client:1.23.0'\n</code></pre>\n<p>please make sure you are in Java Android rather then java tab in fireStore Doc\nthen you not require this library</p>\n"},{"tags":[],"owner":{"account_id":26270279,"reputation":1,"user_id":19940270,"display_name":"Hafhis Gustiawan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662549484,"creation_date":1662549321,"answer_id":73634530,"question_id":48139932,"body_markdown":"just try \r\n\r\n    implementation &#39;com.google.api:api-common:2.2.1&#39;","title":"how to add ApiFuture interface to android project with gradle","body":"<p>just try</p>\n<pre><code>implementation 'com.google.api:api-common:2.2.1'\n</code></pre>\n"}],"owner":{"account_id":11675408,"reputation":79,"user_id":8549135,"display_name":"user8549135"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5063,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48140032,"answer_count":5,"score":3,"last_activity_date":1662549484,"creation_date":1515347282,"question_id":48139932,"body_markdown":"I want to use ApiFuture interface from com.google.api.core package, but I don&#39;t know how to import it in my android project.","title":"how to add ApiFuture interface to android project with gradle","body":"<p>I want to use ApiFuture interface from com.google.api.core package, but I don't know how to import it in my android project.</p>\n"},{"tags":["java","spring-boot","resources","graceful-shutdown"],"answers":[{"tags":[],"owner":{"account_id":13989700,"reputation":1,"user_id":10103945,"display_name":"Tanveer Zia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662548978,"creation_date":1662548978,"answer_id":73634473,"question_id":73627966,"body_markdown":"You do not need to explicitly clean any of the resources, Spring boot is intelligent enough to clean any resources that it was using.","title":"Resources in Spring Boot Appliacation","body":"<p>You do not need to explicitly clean any of the resources, Spring boot is intelligent enough to clean any resources that it was using.</p>\n"}],"owner":{"account_id":26033302,"reputation":1,"user_id":19739145,"display_name":"Dishant Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662548978,"creation_date":1662500166,"question_id":73627966,"body_markdown":"I have developed a Spring Boot Application and I am looking for a comprehensive list of all the resources that needs to be cleaned or taken extra care of before killing the app. To name a few, the Database Connection pool needs to be cleaned. What are the other resources that I should take care of to graceful shutdown the app? Thanks","title":"Resources in Spring Boot Appliacation","body":"<p>I have developed a Spring Boot Application and I am looking for a comprehensive list of all the resources that needs to be cleaned or taken extra care of before killing the app. To name a few, the Database Connection pool needs to be cleaned. What are the other resources that I should take care of to graceful shutdown the app? Thanks</p>\n"},{"tags":["java","android","kotlin","android-custom-view"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1662474566,"post_id":73623469,"comment_id":130010705,"body_markdown":"Please don&#39;t make a duplicate of the (relatively) same question. If you wish to improve the previous question, you can edit it and add/remove whatever you desire. Unless I&#39;m misreading, these really do appear to be the same question.","body":"Please don&#39;t make a duplicate of the (relatively) same question. If you wish to improve the previous question, you can edit it and add/remove whatever you desire. Unless I&#39;m misreading, these really do appear to be the same question."},{"owner":{"account_id":23001794,"reputation":63,"user_id":17125674,"display_name":"Chris"},"score":1,"creation_date":1662476334,"post_id":73623469,"comment_id":130011444,"body_markdown":"IMO, last question was about creating custom layout and override method in general. This is with specific case with overriding variables with created before Extended class so it is different. When I edit my previous question it will be misunderstanding with answers a person gave me. Thanks :)","body":"IMO, last question was about creating custom layout and override method in general. This is with specific case with overriding variables with created before Extended class so it is different. When I edit my previous question it will be misunderstanding with answers a person gave me. Thanks :)"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1662476583,"post_id":73623469,"comment_id":130011558,"body_markdown":"This class does not allow you to override what canvas it&#39;s using or to inspect all its listeners, since those are private members. Not sure what you&#39;re trying to do to this class, since you&#39;ve merely hoisted the code out of `clear()` into this function that&#39;s already calling `clear()` in the superclass.","body":"This class does not allow you to override what canvas it&#39;s using or to inspect all its listeners, since those are private members. Not sure what you&#39;re trying to do to this class, since you&#39;ve merely hoisted the code out of <code>clear()</code> into this function that&#39;s already calling <code>clear()</code> in the superclass."},{"owner":{"account_id":23001794,"reputation":63,"user_id":17125674,"display_name":"Chris"},"score":0,"creation_date":1662476707,"post_id":73623469,"comment_id":130011605,"body_markdown":"I just want to edit this clear() method with something different. It clears my data (inkview) when I popup or show keyboard.","body":"I just want to edit this clear() method with something different. It clears my data (inkview) when I popup or show keyboard."},{"owner":{"account_id":23001794,"reputation":63,"user_id":17125674,"display_name":"Chris"},"score":0,"creation_date":1662480355,"post_id":73623469,"comment_id":130013092,"body_markdown":"I wanted to put there somekind of if, to specify when I put it true/false do it or not, to have better access to execute this method. Now it is done over and over after every popup or other little change on the screen, which is not correct.","body":"I wanted to put there somekind of if, to specify when I put it true/false do it or not, to have better access to execute this method. Now it is done over and over after every popup or other little change on the screen, which is not correct."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662490439,"creation_date":1662489816,"answer_id":73626530,"question_id":73623469,"body_markdown":"Here&#39;s how I&#39;d attempt what you described in the comments. It disables the `clear()` function, but allows you to manually clear it by calling `forceClear()`.\r\n```\r\nclass MyInkView: InkView {\r\n    constructor(context: Context, attrs: AttributeSet, defStyleAttr: Int = 0): super(context, attrs, defStyleAttr)\r\n    constructor(context: Context, attrs: AttributeSet): super(context, attrs)\r\n    constructor(context: Context): super(context)\r\n\r\n    override fun clear() {}\r\n\r\n    fun forceClear() = super.clear()\r\n}\r\n```\r\n\r\nHowever, I suspect you actually need to allow it to clear if the view truly changes size, because otherwise the bitmap will be the wrong size for the view. I would do this instead, exit the function early when the size has not actually changed. Also ignore sizes of 0 in case there&#39;s ever a transitionary size 0 state.\r\n```\r\nclass MyInkView: InkView {\r\n    constructor(context: Context, attrs: AttributeSet, defStyleAttr: Int = 0): super(context, attrs, defStyleAttr)\r\n    constructor(context: Context, attrs: AttributeSet): super(context, attrs)\r\n    constructor(context: Context): super(context)\r\n\r\n    private var lastAcceptedWidth = -1\r\n    private var lastAcceptedHeight = -1\r\n    private var preventClear = false;\r\n\r\n    override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\r\n        preventClear = (w == lastAcceptedWidth &amp;&amp; h == lastAcceptedHeight) || w == 0 || h == 0\r\n        if (!preventClear) {\r\n            lastAcceptedWidth = w\r\n            lastAcceptedHeight = h\r\n        }\r\n        super.onSizeChanged(w, h, oldw, oldh)\r\n        preventClear = false\r\n    }\r\n\r\n    override fun clear() {\r\n        if (!preventClear) super.clear()\r\n    }\r\n}\r\n```","title":"Is there an option to override parameters, methods in library?","body":"<p>Here's how I'd attempt what you described in the comments. It disables the <code>clear()</code> function, but allows you to manually clear it by calling <code>forceClear()</code>.</p>\n<pre><code>class MyInkView: InkView {\n    constructor(context: Context, attrs: AttributeSet, defStyleAttr: Int = 0): super(context, attrs, defStyleAttr)\n    constructor(context: Context, attrs: AttributeSet): super(context, attrs)\n    constructor(context: Context): super(context)\n\n    override fun clear() {}\n\n    fun forceClear() = super.clear()\n}\n</code></pre>\n<p>However, I suspect you actually need to allow it to clear if the view truly changes size, because otherwise the bitmap will be the wrong size for the view. I would do this instead, exit the function early when the size has not actually changed. Also ignore sizes of 0 in case there's ever a transitionary size 0 state.</p>\n<pre><code>class MyInkView: InkView {\n    constructor(context: Context, attrs: AttributeSet, defStyleAttr: Int = 0): super(context, attrs, defStyleAttr)\n    constructor(context: Context, attrs: AttributeSet): super(context, attrs)\n    constructor(context: Context): super(context)\n\n    private var lastAcceptedWidth = -1\n    private var lastAcceptedHeight = -1\n    private var preventClear = false;\n\n    override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\n        preventClear = (w == lastAcceptedWidth &amp;&amp; h == lastAcceptedHeight) || w == 0 || h == 0\n        if (!preventClear) {\n            lastAcceptedWidth = w\n            lastAcceptedHeight = h\n        }\n        super.onSizeChanged(w, h, oldw, oldh)\n        preventClear = false\n    }\n\n    override fun clear() {\n        if (!preventClear) super.clear()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23001794,"reputation":63,"user_id":17125674,"display_name":"Chris"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73626530,"answer_count":1,"score":0,"last_activity_date":1662548555,"creation_date":1662473405,"question_id":73623469,"body_markdown":"According to this topic:\r\nhttps://stackoverflow.com/questions/73621464/how-to-override-method-in-library/73621534?noredirect=1#comment130008775_73621534\r\n\r\nI would like to override some methods and variables from `InkView`.\r\nIs it possible? :)\r\n\r\nI have created class:\r\n```\r\nclass MyInkView: InkView {\r\n    constructor(context: Context, attrs: AttributeSet, defStyleAttr: Int = 0): super(context, attrs, defStyleAttr)\r\n    constructor(context: Context, attrs: AttributeSet): super(context, attrs)\r\n    constructor(context: Context): super(context)\r\n    // include any other constructors you need based on the ones in the superclass\r\n    var bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\r\n\r\n   override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\r\n\r\n       // clean up existing bitmap\r\n       if (bitmap != null) {\r\n           bitmap.recycle()\r\n       }\r\n\r\n       // init bitmap cache\r\n       bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\r\n       canvas = Canvas(bitmap)\r\n\r\n       // notify listeners\r\n       for (listener in listeners) {\r\n           listener.onInkClear()\r\n       }\r\n\r\n       invalidate()\r\n       isEmpty = true\r\n    }\r\n}\r\n```\r\nOf course it gives some error of accidental overrides:\r\n\r\n```\r\nAccidental override: The following declarations have the same JVM signature (getBitmap()Landroid/graphics/Bitmap;):\r\n\r\nCannot access &#39;canvas&#39;: it is invisible (private in a supertype) in &#39;MyInkView&#39;\r\n\r\nCannot access &#39;listeners&#39;: it is invisible (private in a supertype) in &#39;MyInkView&#39;\r\n```\r\n\r\nEntire `InkView`\r\nhttps://justpaste.it/27rn0\r\n\r\nIf I make it empty it doesn&#39;t create any bitmap and I have error with this.\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean android.graphics.Bitmap.isRecycled()&#39; on a null object reference\r\n```\r\n\r\n1 EDIT:\r\n\r\nI make this function:\r\n```\r\n    fun getBitmap(backgroundColor: Int, lineColor: Int): Bitmap? {\r\n        val currentPaint: Paint = readPrivateField(&quot;paint&quot;) ?: return null\r\n        val linePaint = Paint(currentPaint)\r\n        linePaint.colorFilter = PorterDuffColorFilter(lineColor, PorterDuff.Mode.SRC_IN)\r\n        val currentBitmap: Bitmap = readPrivateField(&quot;bitmap&quot;) ?: return null\r\n        val bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\r\n        val bitmapCanvas = Canvas(bitmap)\r\n        bitmapCanvas.drawColor(backgroundColor)\r\n        bitmapCanvas.drawBitmap(currentBitmap, 0f, 0f, linePaint)\r\n        return bitmap\r\n    }\r\n```\r\n\r\nPreviously without custom class view it worked like this in `.extension` :\r\n\r\n```\r\nfun InkView.getBitmap(backgroundColor: Int, lineColor: Int): Bitmap? {\r\n    val currentPaint: Paint = readPrivateField(&quot;paint&quot;) ?: return null\r\n    val linePaint = Paint(currentPaint)\r\n    linePaint.colorFilter = PorterDuffColorFilter(lineColor, PorterDuff.Mode.SRC_IN)\r\n    val currentBitmap: Bitmap = readPrivateField(&quot;bitmap&quot;) ?: return null\r\n    val bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\r\n    val bitmapCanvas = Canvas(bitmap)\r\n    bitmapCanvas.drawColor(backgroundColor)\r\n    bitmapCanvas.drawBitmap(currentBitmap, 0f, 0f, linePaint)\r\n    return bitmap\r\n}\r\n```\r\n\r\nUnfortunately it make crash during saving this bitmap.\r\n\r\n```\r\n     Caused by: java.lang.NoSuchFieldException: No field paint in class Lcom/application/core/view/MyInkView; (declaration of &#39;com.application.core.view.MyInkView&#39; appears in base.apk!classes2.dex)\r\n        at java.lang.Class.getDeclaredField(Native Method)\r\n        at com.application.core.view.MyInkView.getBitmap(MyInkView.kt:50)\r\n```\r\n\r\nThat&#39;s where this error occurs:\r\n```\r\ninline fun &lt;T : Any, reified R&gt; T.readPrivateField(name: String): R? {\r\n    val field = javaClass.getDeclaredField(name)   -&lt;&lt;&lt;&lt; CRASH\r\n    field.isAccessible = true\r\n    val result = field.get(this) as? R\r\n    field.isAccessible = false\r\n    return result\r\n}\r\n```","title":"Is there an option to override parameters, methods in library?","body":"<p>According to this topic:\n<a href=\"https://stackoverflow.com/questions/73621464/how-to-override-method-in-library/73621534?noredirect=1#comment130008775_73621534\">How to override method in library?</a></p>\n<p>I would like to override some methods and variables from <code>InkView</code>.\nIs it possible? :)</p>\n<p>I have created class:</p>\n<pre><code>class MyInkView: InkView {\n    constructor(context: Context, attrs: AttributeSet, defStyleAttr: Int = 0): super(context, attrs, defStyleAttr)\n    constructor(context: Context, attrs: AttributeSet): super(context, attrs)\n    constructor(context: Context): super(context)\n    // include any other constructors you need based on the ones in the superclass\n    var bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\n\n   override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\n\n       // clean up existing bitmap\n       if (bitmap != null) {\n           bitmap.recycle()\n       }\n\n       // init bitmap cache\n       bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\n       canvas = Canvas(bitmap)\n\n       // notify listeners\n       for (listener in listeners) {\n           listener.onInkClear()\n       }\n\n       invalidate()\n       isEmpty = true\n    }\n}\n</code></pre>\n<p>Of course it gives some error of accidental overrides:</p>\n<pre><code>Accidental override: The following declarations have the same JVM signature (getBitmap()Landroid/graphics/Bitmap;):\n\nCannot access 'canvas': it is invisible (private in a supertype) in 'MyInkView'\n\nCannot access 'listeners': it is invisible (private in a supertype) in 'MyInkView'\n</code></pre>\n<p>Entire <code>InkView</code>\n<a href=\"https://justpaste.it/27rn0\" rel=\"nofollow noreferrer\">https://justpaste.it/27rn0</a></p>\n<p>If I make it empty it doesn't create any bitmap and I have error with this.</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.graphics.Bitmap.isRecycled()' on a null object reference\n</code></pre>\n<p>1 EDIT:</p>\n<p>I make this function:</p>\n<pre><code>    fun getBitmap(backgroundColor: Int, lineColor: Int): Bitmap? {\n        val currentPaint: Paint = readPrivateField(&quot;paint&quot;) ?: return null\n        val linePaint = Paint(currentPaint)\n        linePaint.colorFilter = PorterDuffColorFilter(lineColor, PorterDuff.Mode.SRC_IN)\n        val currentBitmap: Bitmap = readPrivateField(&quot;bitmap&quot;) ?: return null\n        val bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\n        val bitmapCanvas = Canvas(bitmap)\n        bitmapCanvas.drawColor(backgroundColor)\n        bitmapCanvas.drawBitmap(currentBitmap, 0f, 0f, linePaint)\n        return bitmap\n    }\n</code></pre>\n<p>Previously without custom class view it worked like this in <code>.extension</code> :</p>\n<pre><code>fun InkView.getBitmap(backgroundColor: Int, lineColor: Int): Bitmap? {\n    val currentPaint: Paint = readPrivateField(&quot;paint&quot;) ?: return null\n    val linePaint = Paint(currentPaint)\n    linePaint.colorFilter = PorterDuffColorFilter(lineColor, PorterDuff.Mode.SRC_IN)\n    val currentBitmap: Bitmap = readPrivateField(&quot;bitmap&quot;) ?: return null\n    val bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\n    val bitmapCanvas = Canvas(bitmap)\n    bitmapCanvas.drawColor(backgroundColor)\n    bitmapCanvas.drawBitmap(currentBitmap, 0f, 0f, linePaint)\n    return bitmap\n}\n</code></pre>\n<p>Unfortunately it make crash during saving this bitmap.</p>\n<pre><code>     Caused by: java.lang.NoSuchFieldException: No field paint in class Lcom/application/core/view/MyInkView; (declaration of 'com.application.core.view.MyInkView' appears in base.apk!classes2.dex)\n        at java.lang.Class.getDeclaredField(Native Method)\n        at com.application.core.view.MyInkView.getBitmap(MyInkView.kt:50)\n</code></pre>\n<p>That's where this error occurs:</p>\n<pre><code>inline fun &lt;T : Any, reified R&gt; T.readPrivateField(name: String): R? {\n    val field = javaClass.getDeclaredField(name)   -&lt;&lt;&lt;&lt; CRASH\n    field.isAccessible = true\n    val result = field.get(this) as? R\n    field.isAccessible = false\n    return result\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1662550752,"post_id":73622090,"comment_id":130030713,"body_markdown":"Do you have a stack trace for that `SocketException`?","body":"Do you have a stack trace for that <code>SocketException</code>?"},{"owner":{"account_id":26260006,"reputation":1,"user_id":19931483,"display_name":"Dnyaneshwar"},"score":0,"creation_date":1662627571,"post_id":73622090,"comment_id":130050973,"body_markdown":"No, I have not printed the stack trace will print that and update it here.","body":"No, I have not printed the stack trace will print that and update it here."},{"owner":{"account_id":26260006,"reputation":1,"user_id":19931483,"display_name":"Dnyaneshwar"},"score":0,"creation_date":1663152940,"post_id":73622090,"comment_id":130170551,"body_markdown":"@Abra in stack trace I am getting only the above error nothing else.","body":"@Abra in stack trace I am getting only the above error nothing else."}],"owner":{"account_id":26260006,"reputation":1,"user_id":19931483,"display_name":"Dnyaneshwar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662548434,"creation_date":1662467383,"question_id":73622090,"body_markdown":"I am having sandbox account of Avalara(Avatax) and that is working fine on my local system and also on the staging environment. But the same sandbox credentials are not working on the UAT instance. \r\n\r\nError logged: `avaTaxConnection java.net.SocketException: Connection reset`\r\n\r\nThis is the code snippet I used : \r\n\r\n```\r\ntry {\r\n\r\n      client = new AvaTaxClient(&quot;PriceBook&quot;, &quot;1.0&quot;, &quot;https://sandbox- \r\n              rest.avatax.com/api/v2/utilities/ping&quot;,            AvaTaxEnvironment.Sandbox).withSecurity(PropertiesFileConfiguration.Avatax_AccountID,\r\n              PropertiesFileConfiguration.Avatax_LicenseKey);\r\n      PingResultModel ping = client.ping();\r\n\r\n      if (ping.getAuthenticated()) {\r\n        return client;\r\n      }\r\n} catch (Exception e) {\r\n    LOGGER.error(&quot;ERROR in avaTaxConnection &quot; + e);\r\n}\r\n```\r\n\r\nWhen I am trying to get `PingResultModel` ping on the basis of the client object getting the exception: `avaTaxConnection java.net.SocketException: Connection reset`.\r\n\r\nI have also checked whether the connection is created or not, but the connection is created successfully. I printed the connection object in logs.","title":"Issue with Avatax on UAT environment","body":"<p>I am having sandbox account of Avalara(Avatax) and that is working fine on my local system and also on the staging environment. But the same sandbox credentials are not working on the UAT instance.</p>\n<p>Error logged: <code>avaTaxConnection java.net.SocketException: Connection reset</code></p>\n<p>This is the code snippet I used :</p>\n<pre><code>try {\n\n      client = new AvaTaxClient(&quot;PriceBook&quot;, &quot;1.0&quot;, &quot;https://sandbox- \n              rest.avatax.com/api/v2/utilities/ping&quot;,            AvaTaxEnvironment.Sandbox).withSecurity(PropertiesFileConfiguration.Avatax_AccountID,\n              PropertiesFileConfiguration.Avatax_LicenseKey);\n      PingResultModel ping = client.ping();\n\n      if (ping.getAuthenticated()) {\n        return client;\n      }\n} catch (Exception e) {\n    LOGGER.error(&quot;ERROR in avaTaxConnection &quot; + e);\n}\n</code></pre>\n<p>When I am trying to get <code>PingResultModel</code> ping on the basis of the client object getting the exception: <code>avaTaxConnection java.net.SocketException: Connection reset</code>.</p>\n<p>I have also checked whether the connection is created or not, but the connection is created successfully. I printed the connection object in logs.</p>\n"},{"tags":["java","php","android","android-studio","aes"],"comments":[{"owner":{"account_id":10691512,"reputation":684,"user_id":7870234,"accept_rate":100,"display_name":"Pyromonk"},"score":0,"creation_date":1515045752,"post_id":48089197,"comment_id":83153493,"body_markdown":"AES has different encryption modes, including &quot;salted&quot; ones. You have to know what mode the website is using before you clone it in your application.","body":"AES has different encryption modes, including &quot;salted&quot; ones. You have to know what mode the website is using before you clone it in your application."},{"owner":{"account_id":3455497,"reputation":1041,"user_id":2894109,"accept_rate":48,"display_name":"Pihu"},"score":0,"creation_date":1515046211,"post_id":48089197,"comment_id":83153624,"body_markdown":"I am trying to decrypt the same code from https://aesencryption.net/#Java-aes-encryption-example .There also i am unable to decrypt or encrypt.","body":"I am trying to decrypt the same code from <a href=\"https://aesencryption.net/#Java-aes-encryption-example\" rel=\"nofollow noreferrer\">aesencryption.net/#Java-aes-encryption-example</a> .There also i am unable to decrypt or encrypt."},{"owner":{"account_id":10691512,"reputation":684,"user_id":7870234,"accept_rate":100,"display_name":"Pyromonk"},"score":0,"creation_date":1515046767,"post_id":48089197,"comment_id":83153808,"body_markdown":"AES is a block cipher that can have [different modes of operation](https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation). So if your website (which, I&#39;m assuming, is in PHP) uses one mode of operation while your application is using another, you will be getting different results. In addition to that, AES results depend on what [character encoding](https://en.wikipedia.org/wiki/Character_encoding) you use. Make sure it&#39;s the same on both ends.","body":"AES is a block cipher that can have <a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation\" rel=\"nofollow noreferrer\">different modes of operation</a>. So if your website (which, I&#39;m assuming, is in PHP) uses one mode of operation while your application is using another, you will be getting different results. In addition to that, AES results depend on what <a href=\"https://en.wikipedia.org/wiki/Character_encoding\" rel=\"nofollow noreferrer\">character encoding</a> you use. Make sure it&#39;s the same on both ends."},{"owner":{"account_id":3455497,"reputation":1041,"user_id":2894109,"accept_rate":48,"display_name":"Pihu"},"score":0,"creation_date":1515047709,"post_id":48089197,"comment_id":83154165,"body_markdown":"@Pyromonk Thanks for your time.This case was actually in my mind.But the thing is, the aes website itself has given the code in java and an online way to check the same . In my code also , i have little things manipulated which i am not sure will effect in the website as i have not changed the modes. So in the app i can easily encrypt or decrypt the strings.But when i am taking that encrypted string and run in aes website,i am unable to decryppt that.","body":"@Pyromonk Thanks for your time.This case was actually in my mind.But the thing is, the aes website itself has given the code in java and an online way to check the same . In my code also , i have little things manipulated which i am not sure will effect in the website as i have not changed the modes. So in the app i can easily encrypt or decrypt the strings.But when i am taking that encrypted string and run in aes website,i am unable to decryppt that."},{"owner":{"account_id":10691512,"reputation":684,"user_id":7870234,"accept_rate":100,"display_name":"Pyromonk"},"score":0,"creation_date":1515048211,"post_id":48089197,"comment_id":83154351,"body_markdown":"Make sure the following holds true and run another test: 1) The string you encrypt only contains ANSI characters (A-Z, a-z, _, -, 0-9, etc.); 2) &quot;Key of encryption&quot; is blank in both cases; 3) the block size is 256 bit in both cases.","body":"Make sure the following holds true and run another test: 1) The string you encrypt only contains ANSI characters (A-Z, a-z, _, -, 0-9, etc.); 2) &quot;Key of encryption&quot; is blank in both cases; 3) the block size is 256 bit in both cases."},{"owner":{"account_id":1471504,"reputation":653,"user_id":1382960,"accept_rate":80,"display_name":"Puneet"},"score":0,"creation_date":1515050421,"post_id":48089197,"comment_id":83155187,"body_markdown":"Where is the PHP code?","body":"Where is the PHP code?"},{"owner":{"account_id":3455497,"reputation":1041,"user_id":2894109,"accept_rate":48,"display_name":"Pihu"},"score":0,"creation_date":1515050914,"post_id":48089197,"comment_id":83155399,"body_markdown":"@Puneet Please refer aesencryption.net  same php code is used","body":"@Puneet Please refer aesencryption.net  same php code is used"}],"answers":[{"tags":[],"owner":{"account_id":1471504,"reputation":653,"user_id":1382960,"accept_rate":80,"display_name":"Puneet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515053028,"creation_date":1515053028,"answer_id":48091044,"question_id":48089197,"body_markdown":"The PHP code uses CBC mode by default while your Java code does not specify the same, and leaves it to the underlying implementation. If I recall correctly its probably `ECB/PKCS5Padding`. Your PHP implementation is using &#39;CBC&#39; with no padding (mcrypt doesn&#39;t support padding by default but you can do so manually). \r\n\r\nIts very important be be very specific about mode, padding, and charset when working with different platforms else you will run into different defaults.\r\n\r\nTry initializing your cipher as follows: `Cipher.getInstance(&quot;AES/CBC/NoPadding&quot;);`","title":"AES Encryption in android and decryption in php and vice versa","body":"<p>The PHP code uses CBC mode by default while your Java code does not specify the same, and leaves it to the underlying implementation. If I recall correctly its probably <code>ECB/PKCS5Padding</code>. Your PHP implementation is using 'CBC' with no padding (mcrypt doesn't support padding by default but you can do so manually). </p>\n\n<p>Its very important be be very specific about mode, padding, and charset when working with different platforms else you will run into different defaults.</p>\n\n<p>Try initializing your cipher as follows: <code>Cipher.getInstance(\"AES/CBC/NoPadding\");</code></p>\n"},{"tags":[],"owner":{"account_id":3455497,"reputation":1041,"user_id":2894109,"accept_rate":48,"display_name":"Pihu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1515402107,"creation_date":1515402107,"answer_id":48146995,"question_id":48089197,"body_markdown":"I do something like this which actually works ;)\r\n\r\n\r\n    public class AESCrypter {\r\n        private final Cipher cipher;\r\n        private final SecretKeySpec key;\r\n        private AlgorithmParameterSpec spec;\r\n    \r\n    \r\n        public AESCrypter(String password) throws Exception\r\n        {\r\n            // hash password with SHA-256 and crop the output to 128-bit for key\r\n            MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            digest.update(password.getBytes(&quot;UTF-8&quot;));\r\n            byte[] keyBytes = new byte[32];\r\n            System.arraycopy(digest.digest(), 0, keyBytes, 0, keyBytes.length);\r\n    \r\n            cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\r\n            key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n            spec = getIV();\r\n        }\r\n    \r\n        public AlgorithmParameterSpec getIV()\r\n        {\r\n            byte[] iv = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, };\r\n            IvParameterSpec ivParameterSpec;\r\n            ivParameterSpec = new IvParameterSpec(iv);\r\n    \r\n            return ivParameterSpec;\r\n        }\r\n    \r\n        public String encrypt(String plainText) throws Exception\r\n        {\r\n            cipher.init(Cipher.ENCRYPT_MODE, key, spec);\r\n            byte[] encrypted = cipher.doFinal(plainText.getBytes(&quot;UTF-8&quot;));\r\n            String encryptedText = new String(Base64.encode(encrypted, Base64.DEFAULT), &quot;UTF-8&quot;);\r\n    \r\n            return encryptedText;\r\n        }\r\n    \r\n        public String decrypt(String cryptedText) throws Exception\r\n        {\r\n            cipher.init(Cipher.DECRYPT_MODE, key, spec);\r\n            byte[] bytes = Base64.decode(cryptedText, Base64.DEFAULT);\r\n            byte[] decrypted = cipher.doFinal(bytes);\r\n            String decryptedText = new String(decrypted, &quot;UTF-8&quot;);\r\n    \r\n            return decryptedText;\r\n        }\r\n    }\r\n\r\n\r\nCall this class like this :\r\n\r\n \r\n\r\n     try {\r\n                AESCrypter _crypt = new AESCrypter(&quot;password&quot;);\r\n                String output = &quot;&quot;;\r\n                String plainText = &quot;top secret message&quot;;\r\n                output = _crypt.encrypt(plainText); //encrypt\r\n                System.out.println(&quot;encrypted text=&quot; + output);\r\n                output = _crypt.decrypt(output); //decrypt\r\n                System.out.println(&quot;decrypted text=&quot; + output);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nAnd for iPhone (Code is here) : `https://github.com/Gurpartap/AESCrypt-ObjC`\r\n\r\nHope this code works for you too :)","title":"AES Encryption in android and decryption in php and vice versa","body":"<p>I do something like this which actually works ;)</p>\n\n<pre><code>public class AESCrypter {\n    private final Cipher cipher;\n    private final SecretKeySpec key;\n    private AlgorithmParameterSpec spec;\n\n\n    public AESCrypter(String password) throws Exception\n    {\n        // hash password with SHA-256 and crop the output to 128-bit for key\n        MessageDigest digest = MessageDigest.getInstance(\"SHA-256\");\n        digest.update(password.getBytes(\"UTF-8\"));\n        byte[] keyBytes = new byte[32];\n        System.arraycopy(digest.digest(), 0, keyBytes, 0, keyBytes.length);\n\n        cipher = Cipher.getInstance(\"AES/CBC/PKCS7Padding\");\n        key = new SecretKeySpec(keyBytes, \"AES\");\n        spec = getIV();\n    }\n\n    public AlgorithmParameterSpec getIV()\n    {\n        byte[] iv = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, };\n        IvParameterSpec ivParameterSpec;\n        ivParameterSpec = new IvParameterSpec(iv);\n\n        return ivParameterSpec;\n    }\n\n    public String encrypt(String plainText) throws Exception\n    {\n        cipher.init(Cipher.ENCRYPT_MODE, key, spec);\n        byte[] encrypted = cipher.doFinal(plainText.getBytes(\"UTF-8\"));\n        String encryptedText = new String(Base64.encode(encrypted, Base64.DEFAULT), \"UTF-8\");\n\n        return encryptedText;\n    }\n\n    public String decrypt(String cryptedText) throws Exception\n    {\n        cipher.init(Cipher.DECRYPT_MODE, key, spec);\n        byte[] bytes = Base64.decode(cryptedText, Base64.DEFAULT);\n        byte[] decrypted = cipher.doFinal(bytes);\n        String decryptedText = new String(decrypted, \"UTF-8\");\n\n        return decryptedText;\n    }\n}\n</code></pre>\n\n<p>Call this class like this :</p>\n\n<pre><code> try {\n            AESCrypter _crypt = new AESCrypter(\"password\");\n            String output = \"\";\n            String plainText = \"top secret message\";\n            output = _crypt.encrypt(plainText); //encrypt\n            System.out.println(\"encrypted text=\" + output);\n            output = _crypt.decrypt(output); //decrypt\n            System.out.println(\"decrypted text=\" + output);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>And for iPhone (Code is here) : <code>https://github.com/Gurpartap/AESCrypt-ObjC</code></p>\n\n<p>Hope this code works for you too :)</p>\n"},{"tags":[],"owner":{"account_id":11010140,"reputation":1058,"user_id":8087820,"display_name":"Bholendra Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662548131,"creation_date":1662546990,"answer_id":73634041,"question_id":48089197,"body_markdown":"        fun encrypt(encrypted: String): String? {\r\n            try {\r\n                val secretKey = &quot;secretKey&quot; //The secret key, 32 bytes string.\r\n                val ivKey = &quot;ivKey&quot; // The initialization vector, 16 bytes string.\r\n                val iv = IvParameterSpec(hashIV.toByteArray(Charsets.UTF_8))\r\n                val skySpec = SecretKeySpec(hashKey.toByteArray(Charsets.UTF_8), &quot;AES-256-CBC&quot;)\r\n                val cipher: Cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;)\r\n                cipher.init(Cipher.ENCRYPT_MODE, skySpec, iv)\r\n                val original: ByteArray = cipher.doFinal(encrypted.toByteArray())\r\n                return Base64.encode(\r\n                    Base64.encodeToString(original, Base64.NO_WRAP).toByteArray(charset(&quot;UTF-8&quot;)),\r\n                    Base64.NO_WRAP\r\n                ).decodeToString()\r\n            } catch (ex: Exception) {\r\n                ex.printStackTrace()\r\n            }\r\n            return null\r\n        }\r\n\r\n        fun decrypt(encrypted: String?): String? {\r\n            try {\r\n                val secretKey = &quot;secretKey&quot; //The secret key, 32 bytes string.\r\n                val ivKey = &quot;ivKey&quot; // The initialization vector, 16 bytes string.\r\n                val iv = IvParameterSpec(hashIV.toByteArray(Charsets.UTF_8))\r\n                val skySpec = SecretKeySpec(hashKey.toByteArray(Charsets.UTF_8), algorithm)\r\n                val cipher: Cipher = Cipher.getInstance(transformation)\r\n                cipher.init(Cipher.DECRYPT_MODE, skySpec, iv)\r\n                val original: ByteArray = cipher.doFinal(\r\n                    Base64.decode(\r\n                        Base64.decode(encrypted, Base64.NO_WRAP),\r\n                        Base64.NO_WRAP\r\n                    )\r\n                )\r\n                return original.decodeToString()\r\n            } catch (ex: Exception) {\r\n                ex.printStackTrace()\r\n            }\r\n            return null\r\n        }\r\n\r\n\r\n[openssl_encrypt][1]\r\n\r\n\r\n  [1]: https://www.php.net/manual/en/function.openssl-encrypt.php","title":"AES Encryption in android and decryption in php and vice versa","body":"<pre><code>    fun encrypt(encrypted: String): String? {\n        try {\n            val secretKey = &quot;secretKey&quot; //The secret key, 32 bytes string.\n            val ivKey = &quot;ivKey&quot; // The initialization vector, 16 bytes string.\n            val iv = IvParameterSpec(hashIV.toByteArray(Charsets.UTF_8))\n            val skySpec = SecretKeySpec(hashKey.toByteArray(Charsets.UTF_8), &quot;AES-256-CBC&quot;)\n            val cipher: Cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;)\n            cipher.init(Cipher.ENCRYPT_MODE, skySpec, iv)\n            val original: ByteArray = cipher.doFinal(encrypted.toByteArray())\n            return Base64.encode(\n                Base64.encodeToString(original, Base64.NO_WRAP).toByteArray(charset(&quot;UTF-8&quot;)),\n                Base64.NO_WRAP\n            ).decodeToString()\n        } catch (ex: Exception) {\n            ex.printStackTrace()\n        }\n        return null\n    }\n\n    fun decrypt(encrypted: String?): String? {\n        try {\n            val secretKey = &quot;secretKey&quot; //The secret key, 32 bytes string.\n            val ivKey = &quot;ivKey&quot; // The initialization vector, 16 bytes string.\n            val iv = IvParameterSpec(hashIV.toByteArray(Charsets.UTF_8))\n            val skySpec = SecretKeySpec(hashKey.toByteArray(Charsets.UTF_8), algorithm)\n            val cipher: Cipher = Cipher.getInstance(transformation)\n            cipher.init(Cipher.DECRYPT_MODE, skySpec, iv)\n            val original: ByteArray = cipher.doFinal(\n                Base64.decode(\n                    Base64.decode(encrypted, Base64.NO_WRAP),\n                    Base64.NO_WRAP\n                )\n            )\n            return original.decodeToString()\n        } catch (ex: Exception) {\n            ex.printStackTrace()\n        }\n        return null\n    }\n</code></pre>\n<p><a href=\"https://www.php.net/manual/en/function.openssl-encrypt.php\" rel=\"nofollow noreferrer\">openssl_encrypt</a></p>\n"}],"owner":{"account_id":3455497,"reputation":1041,"user_id":2894109,"accept_rate":48,"display_name":"Pihu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2321,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":48146995,"answer_count":3,"score":1,"last_activity_date":1662548131,"creation_date":1515043749,"question_id":48089197,"body_markdown":"I am trying to learn AES by testing my code against https://aesencryption.net. I previously had an error in `Base64.encodeBase64String` and also `Base64.decodeBase64 // encode/decode Base64`. So I manipulated Base64 somehow to resolve the error. Now in my app the text is encrypted and decrypted properly, I think. But when I try to encrypt or decrypt the same text server-side (at aesencryption.net), the site is not able to decrypt my encrypted string. Please help.\r\n \r\nFollowing is my code :\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        static final String TAG = &quot;SymmetricAlgorithmAES&quot;;\r\n        private static SecretKeySpec secretKey ;\r\n        private static byte[] key ;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            // Original text\r\n            // {&quot;type&quot;:&quot;Success&quot;,&quot;httpCode&quot;:&quot;200&quot;,&quot;code&quot;:&quot;200&quot;,&quot;message&quot;:{&quot;pin&quot;:&quot;11111&quot;},&quot;extra&quot;:&quot;&quot;}\r\n            String theTestText = &quot;hi&quot;;\r\n            TextView tvorig = (TextView)findViewById(R.id.tvorig);\r\n            tvorig.setText(&quot;\\n[ORIGINAL]:\\n&quot; + theTestText + &quot;\\n&quot;);\r\n            final String strPssword = &quot;android&quot;;\r\n            setKey(strPssword);\r\n    \r\n            // Encode the original data with AES\r\n            byte[] encodedBytes = null;\r\n            try {\r\n                Cipher c = Cipher.getInstance(&quot;AES&quot;);\r\n                c.init(Cipher.ENCRYPT_MODE,secretKey);\r\n                encodedBytes = c.doFinal(theTestText.getBytes());\r\n            } catch (Exception e) {\r\n                Log.e(TAG, &quot;AES encryption error&quot;);\r\n            }\r\n    \r\n            TextView tvencoded = (TextView)findViewById(R.id.tvencoded);\r\n            tvencoded.setText(&quot;[ENCODED]:\\n&quot; +\r\n                    Base64.encodeToString(encodedBytes, Base64.DEFAULT) + &quot;\\n&quot;);\r\n    \r\n            Log.d(TAG, Base64.encodeToString(encodedBytes, Base64.DEFAULT));\r\n    \r\n    \r\n            // Decode the encoded data with AES\r\n            byte[] decodedBytes = null;\r\n            try {\r\n                Cipher c = Cipher.getInstance(&quot;AES&quot;);\r\n                c.init(Cipher.DECRYPT_MODE, secretKey);\r\n                decodedBytes = c.doFinal(encodedBytes);\r\n            } catch (Exception e) {\r\n                Log.e(TAG, &quot;AES decryption error&quot;);\r\n            }\r\n            TextView tvdecoded = (TextView)findViewById(R.id.tvdecoded);\r\n            tvdecoded.setText(&quot;[DECODED]:\\n&quot; + new String(decodedBytes) + &quot;\\n&quot;);\r\n        }\r\n    \r\n    \r\n    \r\n        public static void setKey(String myKey){\r\n            MessageDigest sha = null;\r\n            try {\r\n                key = myKey.getBytes(&quot;UTF-8&quot;);\r\n                System.out.println(key.length);\r\n                sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n                key = sha.digest(key);\r\n                key = Arrays.copyOf(key, 16); // use only first 128 bit\r\n                System.out.println(key.length);\r\n                System.out.println(new String(key,&quot;UTF-8&quot;));\r\n                secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n    \r\n    \r\n            } catch (NoSuchAlgorithmException e) {\r\n                e.printStackTrace();\r\n            } catch (UnsupportedEncodingException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nThanks in advance.","title":"AES Encryption in android and decryption in php and vice versa","body":"<p>I am trying to learn AES by testing my code against <a href=\"https://aesencryption.net\" rel=\"nofollow noreferrer\">https://aesencryption.net</a>. I previously had an error in <code>Base64.encodeBase64String</code> and also <code>Base64.decodeBase64 // encode/decode Base64</code>. So I manipulated Base64 somehow to resolve the error. Now in my app the text is encrypted and decrypted properly, I think. But when I try to encrypt or decrypt the same text server-side (at aesencryption.net), the site is not able to decrypt my encrypted string. Please help.</p>\n\n<p>Following is my code :</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    static final String TAG = \"SymmetricAlgorithmAES\";\n    private static SecretKeySpec secretKey ;\n    private static byte[] key ;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        // Original text\n        // {\"type\":\"Success\",\"httpCode\":\"200\",\"code\":\"200\",\"message\":{\"pin\":\"11111\"},\"extra\":\"\"}\n        String theTestText = \"hi\";\n        TextView tvorig = (TextView)findViewById(R.id.tvorig);\n        tvorig.setText(\"\\n[ORIGINAL]:\\n\" + theTestText + \"\\n\");\n        final String strPssword = \"android\";\n        setKey(strPssword);\n\n        // Encode the original data with AES\n        byte[] encodedBytes = null;\n        try {\n            Cipher c = Cipher.getInstance(\"AES\");\n            c.init(Cipher.ENCRYPT_MODE,secretKey);\n            encodedBytes = c.doFinal(theTestText.getBytes());\n        } catch (Exception e) {\n            Log.e(TAG, \"AES encryption error\");\n        }\n\n        TextView tvencoded = (TextView)findViewById(R.id.tvencoded);\n        tvencoded.setText(\"[ENCODED]:\\n\" +\n                Base64.encodeToString(encodedBytes, Base64.DEFAULT) + \"\\n\");\n\n        Log.d(TAG, Base64.encodeToString(encodedBytes, Base64.DEFAULT));\n\n\n        // Decode the encoded data with AES\n        byte[] decodedBytes = null;\n        try {\n            Cipher c = Cipher.getInstance(\"AES\");\n            c.init(Cipher.DECRYPT_MODE, secretKey);\n            decodedBytes = c.doFinal(encodedBytes);\n        } catch (Exception e) {\n            Log.e(TAG, \"AES decryption error\");\n        }\n        TextView tvdecoded = (TextView)findViewById(R.id.tvdecoded);\n        tvdecoded.setText(\"[DECODED]:\\n\" + new String(decodedBytes) + \"\\n\");\n    }\n\n\n\n    public static void setKey(String myKey){\n        MessageDigest sha = null;\n        try {\n            key = myKey.getBytes(\"UTF-8\");\n            System.out.println(key.length);\n            sha = MessageDigest.getInstance(\"SHA-1\");\n            key = sha.digest(key);\n            key = Arrays.copyOf(key, 16); // use only first 128 bit\n            System.out.println(key.length);\n            System.out.println(new String(key,\"UTF-8\"));\n            secretKey = new SecretKeySpec(key, \"AES\");\n\n\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","logging","glassfish","glassfish-3","slf4j"],"comments":[{"owner":{"account_id":1071897,"reputation":2049,"user_id":1070957,"accept_rate":100,"display_name":"TPete"},"score":0,"creation_date":1331193414,"post_id":9609380,"comment_id":12199064,"body_markdown":"Duplicate: [http://stackoverflow.com/questions/9556503/reducing-line-width-of-glassfish-log](http://stackoverflow.com/questions/9556503/reducing-line-width-of-glassfish-log)","body":"Duplicate: <a href=\"http://stackoverflow.com/questions/9556503/reducing-line-width-of-glassfish-log\">http://stackoverflow.com/questions/9556503/reducing-line-wid&zwnj;&#8203;th-of-glassfish-log</a>"},{"owner":{"account_id":170189,"reputation":13749,"user_id":396732,"accept_rate":73,"display_name":"Kawu"},"score":0,"creation_date":1331195736,"post_id":9609380,"comment_id":12199526,"body_markdown":"Well actually exchanging only the formatter seems much more lightweight, see the first &quot;FYI&quot; link I posted, this works, but I&#39;ve obviously missed it.","body":"Well actually exchanging only the formatter seems much more lightweight, see the first &quot;FYI&quot; link I posted, this works, but I&#39;ve obviously missed it."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1332242848,"post_id":9609380,"comment_id":12457188,"body_markdown":"Note that the logging format is not chosen for human beings but for the Admin page which can do all kinds of fancy stuff with the logs.\n\nIf you change the logging format you will break the Admin page.","body":"Note that the logging format is not chosen for human beings but for the Admin page which can do all kinds of fancy stuff with the logs.  If you change the logging format you will break the Admin page."},{"owner":{"account_id":170189,"reputation":13749,"user_id":396732,"accept_rate":73,"display_name":"Kawu"},"score":0,"creation_date":1332252447,"post_id":9609380,"comment_id":12461123,"body_markdown":"Hmm while the info is new and interesting the question is whether such a feature is a good or bad one. After all this just creates a dependency on the logging format. Maybe changing the format for the console handler suffices here.","body":"Hmm while the info is new and interesting the question is whether such a feature is a good or bad one. After all this just creates a dependency on the logging format. Maybe changing the format for the console handler suffices here."}],"answers":[{"tags":[],"owner":{"account_id":36036,"reputation":5314,"user_id":102483,"accept_rate":100,"display_name":"Hiro2k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331156640,"creation_date":1331156640,"answer_id":9609548,"question_id":9609380,"body_markdown":"You need to supply your own logging implementation since there doesn&#39;t seem to be a way to change glassfish&#39;s. SLF4J is just a facade and doesn&#39;t actually do any logging, it forwards it to the logger that is present on your classpath.\r\n\r\nWhat I&#39;ve done in my app is replace the entire glassfish logging with logback following this post. http://hwellmann.blogspot.com/2010/12/glassfish-logging-with-slf4j-part-2.html","title":"GlassFish 3: how do you change the (default) logging format?","body":"<p>You need to supply your own logging implementation since there doesn't seem to be a way to change glassfish's. SLF4J is just a facade and doesn't actually do any logging, it forwards it to the logger that is present on your classpath.</p>\n\n<p>What I've done in my app is replace the entire glassfish logging with logback following this post. <a href=\"http://hwellmann.blogspot.com/2010/12/glassfish-logging-with-slf4j-part-2.html\" rel=\"nofollow\">http://hwellmann.blogspot.com/2010/12/glassfish-logging-with-slf4j-part-2.html</a></p>\n"},{"tags":[],"owner":{"account_id":170189,"reputation":13749,"user_id":396732,"accept_rate":73,"display_name":"Kawu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1366697383,"creation_date":1331199008,"answer_id":9615354,"question_id":9609380,"body_markdown":"The solution seems to be the first SO posting here: https://stackoverflow.com/questions/3880452/install-log-formater-in-glassfish\r\n\r\nI&#39;ve hacked together a simple log formatter (adjust at will):\r\n\r\n    import java.io.PrintWriter;\r\n    import java.io.StringWriter;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.logging.LogRecord;\r\n    import java.util.logging.SimpleFormatter;\r\n\r\n    public class JBossAS7LikeFormatter extends SimpleFormatter\r\n    {\r\n        private final String nl = System.getProperty(&quot;line.separator&quot;);\r\n        private final DateFormat df = new SimpleDateFormat(&quot;HH:mm:ss,SSS&quot;);\r\n       \r\n        @Override\r\n        public synchronized String format(LogRecord lr)\r\n        {\r\n            StringBuffer sb = new StringBuffer();\r\n\r\n            // time only\r\n            Date dt = new Date();\r\n            dt.setTime(lr.getMillis());\r\n           \r\n            sb.append(df.format(dt));\r\n            sb.append(&quot; &quot;);\r\n\r\n            // level (longest is &quot;WARNING&quot; = 7 chars, space fill for level output)\r\n            String level = lr.getLevel().getName();\r\n\r\n            int numSpaces = 7 - level.length();\r\n           \r\n            sb.append(level);\r\n           \r\n            for ( int i = 0 ; i &lt; numSpaces + 1 ; i++ )\r\n            {\r\n                sb.append(&quot; &quot;);\r\n            }\r\n           \r\n            // package\r\n            sb.append(&quot;[&quot;);\r\n            sb.append(lr.getSourceClassName());\r\n            sb.append(&quot;] &quot;);\r\n           \r\n            // thread (name?)\r\n            sb.append(&quot;(&quot;);\r\n            sb.append(lr.getThreadID());\r\n            sb.append(&quot;) &quot;);\r\n           \r\n            // message\r\n            sb.append(formatMessage(lr));\r\n            sb.append(nl);\r\n\r\n            // optional stack trace\r\n            if ( lr.getThrown() != null )\r\n            {\r\n                try\r\n                {\r\n                    StringWriter sw = new StringWriter();\r\n                    PrintWriter pw = new PrintWriter(sw);\r\n                    lr.getThrown().printStackTrace(pw);\r\n                    pw.close();\r\n                    sb.append(sw.toString());\r\n                }\r\n                catch ( Exception e )\r\n                {\r\n                }\r\n            }\r\n           \r\n            return sb.toString();\r\n        }\r\n\r\n    }\r\n\r\n\r\nIt even fixes the double newline problem on Windows machines.\r\n\r\n\r\n----------\r\n\r\n\r\nI got this to work by putting the JAR into `domain/lib/ext` **at first**, but for newer tries, whatever the reason is, I only keep getting a ClassNotFoundException now:\r\n\r\n    Mrz 08, 2012 9:39:14 AM com.sun.enterprise.admin.launcher.GFLauncherLogger info\r\n    Information: Successfully launched in 5 msec.\r\n    Launching GlassFish on Felix platform\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:601)\r\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMain.java:97)\r\n        at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\r\n    Caused by: java.lang.NoClassDefFoundError: com/sun/enterprise/server/logging/UniformLogFormatter\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:791)\r\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:423)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:410)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:356)\r\n        at java.util.logging.LogManager.getFormatterProperty(LogManager.java:1048)\r\n        at java.util.logging.StreamHandler.configure(StreamHandler.java:76)\r\n        at java.util.logging.StreamHandler.&lt;init&gt;(StreamHandler.java:94)\r\n        at java.util.logging.ConsoleHandler.&lt;init&gt;(ConsoleHandler.java:88)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:525)\r\n        at java.lang.Class.newInstance0(Class.java:372)\r\n        at java.lang.Class.newInstance(Class.java:325)\r\n        at java.util.logging.LogManager$3.run(LogManager.java:419)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.util.logging.LogManager.loadLoggerHandlers(LogManager.java:405)\r\n        at java.util.logging.LogManager.initializeGlobalHandlers(LogManager.java:1076)\r\n        at java.util.logging.LogManager.access$1100(LogManager.java:148)\r\n        at java.util.logging.LogManager$RootLogger.getHandlers(LogManager.java:1157)\r\n        at java.util.logging.Logger.log(Logger.java:521)\r\n        at com.sun.logging.LogDomains$1.log(LogDomains.java:372)\r\n        at java.util.logging.Logger.doLog(Logger.java:543)\r\n        at java.util.logging.Logger.log(Logger.java:587)\r\n        at com.sun.enterprise.server.logging.LogManagerService.postConstruct(LogManagerService.java:354)\r\n        at com.sun.hk2.component.AbstractCreatorImpl.inject(AbstractCreatorImpl.java:131)\r\n        at com.sun.hk2.component.ConstructorCreator.initialize(ConstructorCreator.java:91)\r\n        at com.sun.hk2.component.AbstractCreatorImpl.get(AbstractCreatorImpl.java:82)\r\n        at com.sun.hk2.component.SingletonInhabitant.get(SingletonInhabitant.java:67)\r\n        at com.sun.hk2.component.EventPublishingInhabitant.get(EventPublishingInhabitant.java:139)\r\n        at com.sun.hk2.component.AbstractInhabitantImpl.get(AbstractInhabitantImpl.java:78)\r\n        at com.sun.enterprise.v3.server.AppServerStartup.run(AppServerStartup.java:229)\r\n        at com.sun.enterprise.v3.server.AppServerStartup.doStart(AppServerStartup.java:145)\r\n        at com.sun.enterprise.v3.server.AppServerStartup.start(AppServerStartup.java:136)\r\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishImpl.start(GlassFishImpl.java:79)\r\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishDecorator.start(GlassFishDecorator.java:63)\r\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishImpl.start(OSGiGlassFishImpl.java:69)\r\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(GlassFishMain.java:117)\r\n        ... 6 more\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.enterprise.server.logging.UniformLogFormatter\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:423)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:356)\r\n        ... 53 more\r\n    Completed shutdown of GlassFish runtime\r\n    Command start-domain failed.\r\n    The DAS was stopped.\r\n\r\nI saw the new format for a few tries, but the it stopped to work - strange.\r\n\r\nI&#39;ve attached the JAR as is in my original GlassFish forum post. I&#39;ve basically just used my ZIP tool and renamed it to JAR, but this shouldn&#39;t be a problem (?). If anybody gets it to work (again) please let me know.\r\n\r\nNote: I&#39;m using the GlassFish plugin to start/stop the server, don&#39;t know if this could be an issue.\r\n\r\n**Please** continue any discussions in the GlassFish forum here: http://www.java.net/forum/topic/glassfish/glassfish/configuring-glassfish-logging-format\r\n\r\nPS: sorry I needed to post the stack trace here as the GF forum is somewhat broken.\r\n\r\n**UPDATE**:\r\n\r\nExtending java.util.logging.SimpleFormatter did the trick. GlassFish now produces log entries like:\r\n\r\n    12:13:02,400 INFO    [com.sun.enterprise.web.WebContainer] (1) WEB0172: Virtual server [server] loaded default web module []\r\n    12:13:07,700 INFO    [org.hibernate.validator.util.Version] (1) Hibernate Validator 4.2.0.Final\r\n    12:13:08,919 WARNING [null] (1) Multiple [2] JMX MBeanServer instances exist, we will use the server at index [0] : [com.sun.enterprise.v3.admin.DynamicInterceptor@1a53cab6].\r\n    12:13:08,920 WARNING [null] (1) JMX MBeanServer in use: [com.sun.enterprise.v3.admin.DynamicInterceptor@1a53cab6] from index [0] \r\n    12:13:08,920 WARNING [null] (1) JMX MBeanServer in use: [com.sun.jmx.mbeanserver.JmxMBeanServer@2f740f7e] from index [1] \r\n\r\nAgain, on Windows: no double newlines.","title":"GlassFish 3: how do you change the (default) logging format?","body":"<p>The solution seems to be the first SO posting here: <a href=\"https://stackoverflow.com/questions/3880452/install-log-formater-in-glassfish\">Install log formater in glassfish</a></p>\n\n<p>I've hacked together a simple log formatter (adjust at will):</p>\n\n<pre><code>import java.io.PrintWriter;\nimport java.io.StringWriter;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.logging.LogRecord;\nimport java.util.logging.SimpleFormatter;\n\npublic class JBossAS7LikeFormatter extends SimpleFormatter\n{\n    private final String nl = System.getProperty(\"line.separator\");\n    private final DateFormat df = new SimpleDateFormat(\"HH:mm:ss,SSS\");\n\n    @Override\n    public synchronized String format(LogRecord lr)\n    {\n        StringBuffer sb = new StringBuffer();\n\n        // time only\n        Date dt = new Date();\n        dt.setTime(lr.getMillis());\n\n        sb.append(df.format(dt));\n        sb.append(\" \");\n\n        // level (longest is \"WARNING\" = 7 chars, space fill for level output)\n        String level = lr.getLevel().getName();\n\n        int numSpaces = 7 - level.length();\n\n        sb.append(level);\n\n        for ( int i = 0 ; i &lt; numSpaces + 1 ; i++ )\n        {\n            sb.append(\" \");\n        }\n\n        // package\n        sb.append(\"[\");\n        sb.append(lr.getSourceClassName());\n        sb.append(\"] \");\n\n        // thread (name?)\n        sb.append(\"(\");\n        sb.append(lr.getThreadID());\n        sb.append(\") \");\n\n        // message\n        sb.append(formatMessage(lr));\n        sb.append(nl);\n\n        // optional stack trace\n        if ( lr.getThrown() != null )\n        {\n            try\n            {\n                StringWriter sw = new StringWriter();\n                PrintWriter pw = new PrintWriter(sw);\n                lr.getThrown().printStackTrace(pw);\n                pw.close();\n                sb.append(sw.toString());\n            }\n            catch ( Exception e )\n            {\n            }\n        }\n\n        return sb.toString();\n    }\n\n}\n</code></pre>\n\n<p>It even fixes the double newline problem on Windows machines.</p>\n\n<hr>\n\n<p>I got this to work by putting the JAR into <code>domain/lib/ext</code> <strong>at first</strong>, but for newer tries, whatever the reason is, I only keep getting a ClassNotFoundException now:</p>\n\n<pre><code>Mrz 08, 2012 9:39:14 AM com.sun.enterprise.admin.launcher.GFLauncherLogger info\nInformation: Successfully launched in 5 msec.\nLaunching GlassFish on Felix platform\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMain.java:97)\n    at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\nCaused by: java.lang.NoClassDefFoundError: com/sun/enterprise/server/logging/UniformLogFormatter\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:791)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:410)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)\n    at java.util.logging.LogManager.getFormatterProperty(LogManager.java:1048)\n    at java.util.logging.StreamHandler.configure(StreamHandler.java:76)\n    at java.util.logging.StreamHandler.&lt;init&gt;(StreamHandler.java:94)\n    at java.util.logging.ConsoleHandler.&lt;init&gt;(ConsoleHandler.java:88)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)\n    at java.lang.Class.newInstance0(Class.java:372)\n    at java.lang.Class.newInstance(Class.java:325)\n    at java.util.logging.LogManager$3.run(LogManager.java:419)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.util.logging.LogManager.loadLoggerHandlers(LogManager.java:405)\n    at java.util.logging.LogManager.initializeGlobalHandlers(LogManager.java:1076)\n    at java.util.logging.LogManager.access$1100(LogManager.java:148)\n    at java.util.logging.LogManager$RootLogger.getHandlers(LogManager.java:1157)\n    at java.util.logging.Logger.log(Logger.java:521)\n    at com.sun.logging.LogDomains$1.log(LogDomains.java:372)\n    at java.util.logging.Logger.doLog(Logger.java:543)\n    at java.util.logging.Logger.log(Logger.java:587)\n    at com.sun.enterprise.server.logging.LogManagerService.postConstruct(LogManagerService.java:354)\n    at com.sun.hk2.component.AbstractCreatorImpl.inject(AbstractCreatorImpl.java:131)\n    at com.sun.hk2.component.ConstructorCreator.initialize(ConstructorCreator.java:91)\n    at com.sun.hk2.component.AbstractCreatorImpl.get(AbstractCreatorImpl.java:82)\n    at com.sun.hk2.component.SingletonInhabitant.get(SingletonInhabitant.java:67)\n    at com.sun.hk2.component.EventPublishingInhabitant.get(EventPublishingInhabitant.java:139)\n    at com.sun.hk2.component.AbstractInhabitantImpl.get(AbstractInhabitantImpl.java:78)\n    at com.sun.enterprise.v3.server.AppServerStartup.run(AppServerStartup.java:229)\n    at com.sun.enterprise.v3.server.AppServerStartup.doStart(AppServerStartup.java:145)\n    at com.sun.enterprise.v3.server.AppServerStartup.start(AppServerStartup.java:136)\n    at com.sun.enterprise.glassfish.bootstrap.GlassFishImpl.start(GlassFishImpl.java:79)\n    at com.sun.enterprise.glassfish.bootstrap.GlassFishDecorator.start(GlassFishDecorator.java:63)\n    at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishImpl.start(OSGiGlassFishImpl.java:69)\n    at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(GlassFishMain.java:117)\n    ... 6 more\nCaused by: java.lang.ClassNotFoundException: com.sun.enterprise.server.logging.UniformLogFormatter\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)\n    ... 53 more\nCompleted shutdown of GlassFish runtime\nCommand start-domain failed.\nThe DAS was stopped.\n</code></pre>\n\n<p>I saw the new format for a few tries, but the it stopped to work - strange.</p>\n\n<p>I've attached the JAR as is in my original GlassFish forum post. I've basically just used my ZIP tool and renamed it to JAR, but this shouldn't be a problem (?). If anybody gets it to work (again) please let me know.</p>\n\n<p>Note: I'm using the GlassFish plugin to start/stop the server, don't know if this could be an issue.</p>\n\n<p><strong>Please</strong> continue any discussions in the GlassFish forum here: <a href=\"http://www.java.net/forum/topic/glassfish/glassfish/configuring-glassfish-logging-format\" rel=\"nofollow noreferrer\">http://www.java.net/forum/topic/glassfish/glassfish/configuring-glassfish-logging-format</a></p>\n\n<p>PS: sorry I needed to post the stack trace here as the GF forum is somewhat broken.</p>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>Extending java.util.logging.SimpleFormatter did the trick. GlassFish now produces log entries like:</p>\n\n<pre><code>12:13:02,400 INFO    [com.sun.enterprise.web.WebContainer] (1) WEB0172: Virtual server [server] loaded default web module []\n12:13:07,700 INFO    [org.hibernate.validator.util.Version] (1) Hibernate Validator 4.2.0.Final\n12:13:08,919 WARNING [null] (1) Multiple [2] JMX MBeanServer instances exist, we will use the server at index [0] : [com.sun.enterprise.v3.admin.DynamicInterceptor@1a53cab6].\n12:13:08,920 WARNING [null] (1) JMX MBeanServer in use: [com.sun.enterprise.v3.admin.DynamicInterceptor@1a53cab6] from index [0] \n12:13:08,920 WARNING [null] (1) JMX MBeanServer in use: [com.sun.jmx.mbeanserver.JmxMBeanServer@2f740f7e] from index [1] \n</code></pre>\n\n<p>Again, on Windows: no double newlines.</p>\n"},{"tags":[],"owner":{"account_id":1321835,"reputation":31,"user_id":1267499,"display_name":"user1267499"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1448389732,"creation_date":1331673064,"answer_id":9692243,"question_id":9609380,"body_markdown":"The default logging format can be changed as per the post above. The NoClassDefFoundError reported above can be avoided by extending java.util.logging.Formatter rather than the com.sun.enterprise.server.logging.UniformLogFormatter.\r\n\r\nTo summarize:\r\n\r\n1. Implement a custom formatter which extends `java.util.logging.Formatter`\r\n2. Copy the jar containing custom formatter to `domain/lib/ext`\r\n3. Specify the log formatter in `logging.properties`, eg.\r\n\r\n        com.sun.enterprise.server.logging.GFFileHandler.formatter=com.myformatter.CustomFormatter\r\n   ","title":"GlassFish 3: how do you change the (default) logging format?","body":"<p>The default logging format can be changed as per the post above. The NoClassDefFoundError reported above can be avoided by extending java.util.logging.Formatter rather than the com.sun.enterprise.server.logging.UniformLogFormatter.</p>\n\n<p>To summarize:</p>\n\n<ol>\n<li>Implement a custom formatter which extends <code>java.util.logging.Formatter</code></li>\n<li>Copy the jar containing custom formatter to <code>domain/lib/ext</code></li>\n<li><p>Specify the log formatter in <code>logging.properties</code>, eg.</p>\n\n<pre><code>com.sun.enterprise.server.logging.GFFileHandler.formatter=com.myformatter.CustomFormatter\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2531340,"reputation":11,"user_id":2199588,"display_name":"David A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363962008,"creation_date":1363962008,"answer_id":15572642,"question_id":9609380,"body_markdown":"Following all the guides and failing, what finally got this to work for me in GF 3.1.2.2 was to update the correct property in logging.properties as explained above:\r\n\r\ncom.sun.enterprise.server.logging.GFFileHandler.formatter=com.myformatter.CustomFormatter\r\n\r\nAll guides I&#39;ve seen have talked about updating the &quot;handlers&quot; property, but this was not neccessary. The property above is the only property I&#39;ve changed.\r\n\r\nOh; and my custom formatter extends SimpleFormatter.","title":"GlassFish 3: how do you change the (default) logging format?","body":"<p>Following all the guides and failing, what finally got this to work for me in GF 3.1.2.2 was to update the correct property in logging.properties as explained above:</p>\n\n<p>com.sun.enterprise.server.logging.GFFileHandler.formatter=com.myformatter.CustomFormatter</p>\n\n<p>All guides I've seen have talked about updating the \"handlers\" property, but this was not neccessary. The property above is the only property I've changed.</p>\n\n<p>Oh; and my custom formatter extends SimpleFormatter.</p>\n"},{"tags":[],"owner":{"account_id":157470,"reputation":1518,"user_id":375449,"display_name":"dmatej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662547905,"creation_date":1662547905,"answer_id":73634240,"question_id":9609380,"body_markdown":"Since GlassFish 7.0.0-M8 you can switch the formatter as you wish for any handler used. In a simplest case you can use [SimpleFormatter][1] and set some custom format for it.\r\nAlso the GlassFish [documentation][2] improved.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/SimpleFormatter.html\r\n  [2]: https://glassfish.org/docs/SNAPSHOT/administration-guide.html#Formatters","title":"GlassFish 3: how do you change the (default) logging format?","body":"<p>Since GlassFish 7.0.0-M8 you can switch the formatter as you wish for any handler used. In a simplest case you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/SimpleFormatter.html\" rel=\"nofollow noreferrer\">SimpleFormatter</a> and set some custom format for it.\nAlso the GlassFish <a href=\"https://glassfish.org/docs/SNAPSHOT/administration-guide.html#Formatters\" rel=\"nofollow noreferrer\">documentation</a> improved.</p>\n"}],"owner":{"account_id":170189,"reputation":13749,"user_id":396732,"accept_rate":73,"display_name":"Kawu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12119,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":9615354,"answer_count":5,"score":13,"last_activity_date":1662547905,"creation_date":1331155873,"question_id":9609380,"body_markdown":"The question originated from here: http://www.java.net/forum/topic/glassfish/glassfish/configuring-glassfish-logging-format - without an answer.\r\n\r\nThe default GlassFish 3 logging format is very annoying, much too long.\r\n\r\n    [#|2012-03-02T09:22:03.165+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=113;_ThreadName=AWT-EventQueue-0;| MESSAGE... ]\r\n\r\nThis is just a horrible default IMO. The docs just explain all the fields, but not how to change the format: http://docs.oracle.com/cd/E18930_01/html/821-2416/abluk.html\r\n\r\nNote, that I deploy SLF4J along with my webapp which should pick up the format as well.\r\n\r\n**How do you change the logging format?**\r\n\r\nFYI:\r\n\r\nThe links here are outdated: https://stackoverflow.com/questions/3880452/install-log-formater-in-glass...\r\n\r\nThe question here hasn&#39;t been answered: https://stackoverflow.com/questions/9186682/how-to-configure-glassfish-lo...\r\n\r\nThe posting here resulted in nothing: http://www.java.net/forum/topic/glassfish/glassfish/cant-seem-configure-...\r\n\r\nIt looks like GlassFish logging configuration is an issue of its own. Can *anybody* help?","title":"GlassFish 3: how do you change the (default) logging format?","body":"<p>The question originated from here: <a href=\"http://www.java.net/forum/topic/glassfish/glassfish/configuring-glassfish-logging-format\" rel=\"nofollow noreferrer\">http://www.java.net/forum/topic/glassfish/glassfish/configuring-glassfish-logging-format</a> - without an answer.</p>\n\n<p>The default GlassFish 3 logging format is very annoying, much too long.</p>\n\n<pre><code>[#|2012-03-02T09:22:03.165+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=113;_ThreadName=AWT-EventQueue-0;| MESSAGE... ]\n</code></pre>\n\n<p>This is just a horrible default IMO. The docs just explain all the fields, but not how to change the format: <a href=\"http://docs.oracle.com/cd/E18930_01/html/821-2416/abluk.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/cd/E18930_01/html/821-2416/abluk.html</a></p>\n\n<p>Note, that I deploy SLF4J along with my webapp which should pick up the format as well.</p>\n\n<p><strong>How do you change the logging format?</strong></p>\n\n<p>FYI:</p>\n\n<p>The links here are outdated: <a href=\"https://stackoverflow.com/questions/3880452/install-log-formater-in-glass\">Install log formater in glassfish</a>...</p>\n\n<p>The question here hasn't been answered: <a href=\"https://stackoverflow.com/questions/9186682/how-to-configure-glassfish-lo\">How to configure GlassFish logging to show milliseconds in timestamps?</a>...</p>\n\n<p>The posting here resulted in nothing: <a href=\"http://www.java.net/forum/topic/glassfish/glassfish/cant-seem-configure-\" rel=\"nofollow noreferrer\">http://www.java.net/forum/topic/glassfish/glassfish/cant-seem-configure-</a>...</p>\n\n<p>It looks like GlassFish logging configuration is an issue of its own. Can <em>anybody</em> help?</p>\n"},{"tags":["java","spring-mvc","spring-security","swagger"],"answers":[{"tags":[],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593508251,"creation_date":1593508251,"answer_id":62654023,"question_id":62653782,"body_markdown":"Try this:\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler( &quot;api/swagger-ui.html&quot; )\r\n                .addResourceLocations( &quot;classpath:/META-INF/resources/&quot; );\r\n    }\r\nOr remove `/api/` when you want to access to your docs","title":"I get 404, when trying to open swagger-ui.html","body":"<p>Try this:</p>\n<pre><code>@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler( &quot;api/swagger-ui.html&quot; )\n            .addResourceLocations( &quot;classpath:/META-INF/resources/&quot; );\n}\n</code></pre>\n<p>Or remove <code>/api/</code> when you want to access to your docs</p>\n"},{"tags":[],"owner":{"account_id":6836948,"reputation":4738,"user_id":5258516,"accept_rate":75,"display_name":"e2rabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593508561,"creation_date":1593508561,"answer_id":62654102,"question_id":62653782,"body_markdown":"I think you need to add the package where your controller is so it will be scanned by swagger :  .`apis(RequestHandlerSelectors.basePackage(&quot;your package&quot;))`  \r\n\r\nHere&#39;s an example\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfiguration {\r\n    \r\n    \t@Bean\r\n    \t public Docket getDocketInstance() {\r\n    \t\t return new Docket(DocumentationType.SWAGGER_2) \r\n    \t\t\t\t .apiInfo(new ApiInfoBuilder()\r\n    \t                        .title(&quot;Spring Boot project&quot;)\r\n    \t                        .description(&quot;Spring Boot bootstrap project&quot;)\r\n    \t                        .version(&quot;0.1&quot;)\r\n    \t                        .license(&quot;Unlicense&quot;)\r\n    \t                        .build())\r\n    \t\t          .select()  \r\n    \t\t          .apis(RequestHandlerSelectors.basePackage(&quot;your package&quot;))             \r\n    \t\t          .paths(PathSelectors.any())                          \r\n    \t\t          .build();  \r\n    \t }","title":"I get 404, when trying to open swagger-ui.html","body":"<p>I think you need to add the package where your controller is so it will be scanned by swagger :  .<code>apis(RequestHandlerSelectors.basePackage(&quot;your package&quot;))</code></p>\n<p>Here's an example</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfiguration {\n\n    @Bean\n     public Docket getDocketInstance() {\n         return new Docket(DocumentationType.SWAGGER_2) \n                 .apiInfo(new ApiInfoBuilder()\n                            .title(&quot;Spring Boot project&quot;)\n                            .description(&quot;Spring Boot bootstrap project&quot;)\n                            .version(&quot;0.1&quot;)\n                            .license(&quot;Unlicense&quot;)\n                            .build())\n                  .select()  \n                  .apis(RequestHandlerSelectors.basePackage(&quot;your package&quot;))             \n                  .paths(PathSelectors.any())                          \n                  .build();  \n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22555107,"reputation":1,"user_id":16743636,"display_name":"Sai Ram Nadigoti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662547856,"creation_date":1647347562,"answer_id":71482289,"question_id":62653782,"body_markdown":"    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n \r\nFOR SPRING BOOT VERSION &gt; 2.5. Use this dependency for swaggger. It worked for me","title":"I get 404, when trying to open swagger-ui.html","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>FOR SPRING BOOT VERSION &gt; 2.5. Use this dependency for swaggger. It worked for me</p>\n"}],"owner":{"account_id":13222045,"reputation":141,"user_id":11592885,"display_name":"ImmRaytal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2446,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1662547856,"creation_date":1593507389,"question_id":62653782,"body_markdown":"I haven&#39;t Spring Boot, only Spring MVC and Security.\r\nMy config:\r\n\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableWebMvc\r\n    @EnableSwagger2\r\n    @PropertySource(&quot;classpath:access.properties&quot;)\r\n    @ComponentScan(basePackages = {&quot;com.company.service&quot;, &quot;com.company.dao&quot;, &quot;com.company.controller&quot;})\r\n\r\n    public class SpringConfig extends WebMvcConfigurationSupport {\r\n\r\n    @Value(&quot;${url}&quot;)\r\n    private String URL;\r\n    @Value(&quot;${user}&quot;)\r\n    private String USER;\r\n    @Value(&quot;${password}&quot;)\r\n    private String PASSWORD;\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler( &quot;swagger-ui.html&quot; )\r\n                .addResourceLocations( &quot;classpath:/META-INF/resources/&quot; );\r\n        registry.addResourceHandler( &quot;/webjars/**&quot; )\r\n                .addResourceLocations( &quot;classpath:/META-INF/resources/webjars/&quot; );\r\n    }\r\n\r\n    ........ \r\n\r\n`pom.xml`\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nOn ```http://localhost:8080/api/v2/api-docs``` i get enormous JSON, but whe trying to get ui on ```http://localhost:8080/api/swagger-ui.html``` i get tomcat 404 not found\r\n\r\n```Tomcat Log```\r\n\r\n    0:0:0:0:0:0:0:1 - - [30/Jun/2020:11:50:09 +0300] &quot;GET /api/v2/api-docs HTTP/1.1&quot; 200 20832\r\n    0:0:0:0:0:0:0:1 - - [30/Jun/2020:11:51:51 +0300] &quot;GET /api/swagger-ui.html HTTP/1.1&quot; 404 702\r\n    0:0:0:0:0:0:0:1 - - [30/Jun/2020:11:51:54 +0300] &quot;GET /api/swagger-ui.html HTTP/1.1&quot; 404 702\r\n\r\nMany articles talk about possible solutions to the problem using the Spring Boot or adding annotation ```@EnableSwagger2```, but it&#39;s useless in my case.","title":"I get 404, when trying to open swagger-ui.html","body":"<p>I haven't Spring Boot, only Spring MVC and Security.\nMy config:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableWebMvc\n@EnableSwagger2\n@PropertySource(&quot;classpath:access.properties&quot;)\n@ComponentScan(basePackages = {&quot;com.company.service&quot;, &quot;com.company.dao&quot;, &quot;com.company.controller&quot;})\n\npublic class SpringConfig extends WebMvcConfigurationSupport {\n\n@Value(&quot;${url}&quot;)\nprivate String URL;\n@Value(&quot;${user}&quot;)\nprivate String USER;\n@Value(&quot;${password}&quot;)\nprivate String PASSWORD;\n\n@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2)\n            .select()\n            .apis(RequestHandlerSelectors.any())\n            .paths(PathSelectors.any())\n            .build();\n}\n\n@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler( &quot;swagger-ui.html&quot; )\n            .addResourceLocations( &quot;classpath:/META-INF/resources/&quot; );\n    registry.addResourceHandler( &quot;/webjars/**&quot; )\n            .addResourceLocations( &quot;classpath:/META-INF/resources/webjars/&quot; );\n}\n\n........ \n</code></pre>\n<p><code>pom.xml</code></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>On <code>http://localhost:8080/api/v2/api-docs</code> i get enormous JSON, but whe trying to get ui on <code>http://localhost:8080/api/swagger-ui.html</code> i get tomcat 404 not found</p>\n<p><code>Tomcat Log</code></p>\n<pre><code>0:0:0:0:0:0:0:1 - - [30/Jun/2020:11:50:09 +0300] &quot;GET /api/v2/api-docs HTTP/1.1&quot; 200 20832\n0:0:0:0:0:0:0:1 - - [30/Jun/2020:11:51:51 +0300] &quot;GET /api/swagger-ui.html HTTP/1.1&quot; 404 702\n0:0:0:0:0:0:0:1 - - [30/Jun/2020:11:51:54 +0300] &quot;GET /api/swagger-ui.html HTTP/1.1&quot; 404 702\n</code></pre>\n<p>Many articles talk about possible solutions to the problem using the Spring Boot or adding annotation <code>@EnableSwagger2</code>, but it's useless in my case.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662547826,"creation_date":1662547826,"answer_id":73634220,"question_id":73634127,"body_markdown":"The [GarbageCollectorMXBean][1] exposes garbage collector information, but only the number of collection runs and total time, and no information of the number of objects collected or memory freed. \r\n\r\nSo from the standard API, there&#39;s no way to get this information.\r\n\r\nI assume that this would actually be quite an overhead for any garbage collector implementation to compute the actually freed size, so I doubt that this information can be obtained even from the actual GC implementations.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.management/java/lang/management/GarbageCollectorMXBean.html","title":"How to find the number of bytes that Garbage Collector has freed up till now?","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.management/java/lang/management/GarbageCollectorMXBean.html\" rel=\"nofollow noreferrer\">GarbageCollectorMXBean</a> exposes garbage collector information, but only the number of collection runs and total time, and no information of the number of objects collected or memory freed.</p>\n<p>So from the standard API, there's no way to get this information.</p>\n<p>I assume that this would actually be quite an overhead for any garbage collector implementation to compute the actually freed size, so I doubt that this information can be obtained even from the actual GC implementations.</p>\n"}],"owner":{"account_id":25954079,"reputation":33,"user_id":19671668,"display_name":"Bishal Ghosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73634220,"answer_count":1,"score":2,"last_activity_date":1662547826,"creation_date":1662547381,"question_id":73634127,"body_markdown":"Can anyone tell me How to find out the amount of memory that GC has freed up in an application until now?","title":"How to find the number of bytes that Garbage Collector has freed up till now?","body":"<p>Can anyone tell me How to find out the amount of memory that GC has freed up in an application until now?</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1662125242,"post_id":73580773,"comment_id":129940101,"body_markdown":"Just FYI: This is what you get for working in the stone age. Doing this in HTML 5 / CSS 3 / JavaScript would allow you to avoid so much redundancy... and pain.","body":"Just FYI: This is what you get for working in the stone age. Doing this in HTML 5 / CSS 3 / JavaScript would allow you to avoid so much redundancy... and pain."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1662128970,"post_id":73580773,"comment_id":129941601,"body_markdown":"Yeah thank you, but browser tech cannot be applied everywhere.","body":"Yeah thank you, but browser tech cannot be applied everywhere."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1674729401,"post_id":73580773,"comment_id":132777728,"body_markdown":"Related work https://stackoverflow.com/questions/75202581/expandable-jtable-cell-editor/75213166#75213166","body":"Related work <a href=\"https://stackoverflow.com/questions/75202581/expandable-jtable-cell-editor/75213166#75213166\" title=\"expandable jtable cell editor\">stackoverflow.com/questions/75202581/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662547554,"creation_date":1662547242,"answer_id":73634097,"question_id":73580773,"body_markdown":"You dont need to deal with cell editors if you only want a hover highlighting. Just a mouse(motion)listener on the table itself, to update the affected cells, is enough.\r\n\r\nFor example\r\n\r\n```java\r\nimport java.awt.*;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport javax.swing.*;\r\nimport javax.swing.table.AbstractTableModel;\r\nimport javax.swing.table.DefaultTableCellRenderer;\r\nimport java.util.List;\r\n\r\npublic final class InteractiveTableCells {\r\n    public static void main(String... args) {\r\n        if(!EventQueue.isDispatchThread()) {\r\n            EventQueue.invokeLater(InteractiveTableCells::main);\r\n            return;\r\n        }\r\n        var frame = new JFrame(&quot;Read-only Interactive Table Cells&quot;);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setContentPane(createContent());\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private static Container createContent() {\r\n\r\n        Integer[] data = { 124, 13, 78, 103 };\r\n\r\n        var model = new AbstractTableModel() {\r\n            @Override\r\n            public int getRowCount() {\r\n                return data.length;\r\n            }\r\n\r\n            @Override\r\n            public int getColumnCount() {\r\n                return 2;\r\n            }\r\n\r\n            @Override\r\n            public String getColumnName(int column) {\r\n                return column == 0? &quot;Seats&quot;: &quot;Train&quot;;\r\n            }\r\n\r\n            @Override\r\n            public Class&lt;?&gt; getColumnClass(int column) {\r\n                return column == 0? Integer.class: String.class;\r\n            }\r\n\r\n            @Override\r\n            public Object getValueAt(int rowIndex, int columnIndex) {\r\n                return columnIndex == 0? data[rowIndex]: &quot;&quot;;\r\n            }\r\n        };\r\n        var table = new JTable(model);\r\n        table.setRowHeight(30);\r\n        table.setColumnSelectionAllowed(false);\r\n\r\n        var trainRenderer = new TrainRenderer();\r\n        var defCellRenderer = new DefaultTableCellRenderer();\r\n        defCellRenderer.setIcon(trainRenderer);\r\n        table.getColumnModel().getColumn(1).setCellRenderer(\r\n            (comp, value, selected, focus, row, column) -&gt; {\r\n                trainRenderer.paintingActive = row == trainRenderer.activeRow;\r\n                return defCellRenderer.getTableCellRendererComponent(\r\n                        comp, value, selected, focus, row, column);\r\n            });\r\n\r\n        var mouseListener = new MouseAdapter() {\r\n            @Override\r\n            public void mouseMoved(MouseEvent e) {\r\n                Point p = e.getPoint();\r\n                check(table.rowAtPoint(p), table.columnAtPoint(p), p);\r\n            }\r\n\r\n            @Override\r\n            public void mouseExited(MouseEvent e) {\r\n                check(-1, -1, null);\r\n            }\r\n\r\n            private void check(int r, int c, Point p) {\r\n                int lastActive = trainRenderer.activeRow;\r\n                if(c != 1) {\r\n                    trainRenderer.activeRow = -1;\r\n                    r = -1;\r\n                }\r\n                if(r &lt; 0 &amp;&amp; lastActive &lt; 0) return;\r\n                if(r &gt;= 0) {\r\n                    var rect = table.getCellRect(r, c, false);\r\n                    p.x -= rect.x;\r\n                    p.y -= rect.y;\r\n                    int oldCar = trainRenderer.activeCar;\r\n                    if(!trainRenderer.check(p, r)) r = -1;\r\n                    else if(r != lastActive || trainRenderer.activeCar != oldCar)\r\n                        table.repaint(rect);\r\n                }\r\n                if(r != lastActive &amp;&amp; lastActive &gt;= 0) {\r\n                    table.repaint(table.getCellRect(lastActive, 1, false));\r\n                }\r\n            }\r\n        };\r\n        table.addMouseMotionListener(mouseListener);\r\n        table.addMouseListener(mouseListener);\r\n        var sp = new JScrollPane(table);\r\n        sp.setPreferredSize(new Dimension(320, 240));\r\n        return sp;\r\n    }\r\n}\r\n\r\nclass TrainRenderer implements Icon {\r\n    private final Rectangle wagon1 = new Rectangle(4, 2, 30, 16);\r\n    private final Rectangle wagon2 = new Rectangle(4 + 30 + 4, 2, 30, 16);\r\n    private final Rectangle wagon3 = new Rectangle(38 + 30 + 4, 2, 30, 16);\r\n    private final Rectangle wagon4 = new Rectangle(72 + 30 + 4, 2, 30, 16);\r\n    private final List&lt;Rectangle&gt; allWagons = List.of(wagon1, wagon2, wagon3, wagon4);\r\n\r\n    int activeRow = -1, activeCar = -1;\r\n    boolean paintingActive;\r\n\r\n    @Override\r\n    public void paintIcon(Component c, Graphics g, int x, int y) {\r\n        Graphics2D g2 = (Graphics2D)g;\r\n        g2.translate(x, y);\r\n        for(int i = 0, num = allWagons.size(); i &lt; num; i++) {\r\n            g2.setColor(\r\n                paintingActive &amp;&amp; activeCar == i? Color.ORANGE.darker(): Color.ORANGE);\r\n            g2.fill(allWagons.get(i));\r\n        }\r\n        g2.translate(-x, -y);\r\n    }\r\n\r\n    boolean check(Point p, int row) {\r\n        for(int i = 0, num = allWagons.size(); i &lt; num; i++) {\r\n            if(allWagons.get(i).contains(p)) {\r\n                activeRow = row;\r\n                activeCar = i;\r\n                return true;\r\n            }\r\n        }\r\n        activeRow = -1;\r\n        activeCar = -1;\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public int getIconWidth() {\r\n        return wagon4.x + wagon4.width;\r\n    }\r\n\r\n    @Override\r\n    public int getIconHeight() {\r\n        return wagon4.y + wagon4.height;\r\n    }\r\n}\r\n```\r\n\r\nNote that I also removed all unnecessary subclass relationships, compare with https://stackoverflow.com/q/49002/2711488\r\n\r\nBy using the default cell renderer, you get the look&amp;feels highlighting, as well as some performance optimizations for free.","title":"Is there a simpler approach to have a table like (sorting, changing columns width) for read-only but interactive cells","body":"<p>You dont need to deal with cell editors if you only want a hover highlighting. Just a mouse(motion)listener on the table itself, to update the affected cells, is enough.</p>\n<p>For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport javax.swing.*;\nimport javax.swing.table.AbstractTableModel;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport java.util.List;\n\npublic final class InteractiveTableCells {\n    public static void main(String... args) {\n        if(!EventQueue.isDispatchThread()) {\n            EventQueue.invokeLater(InteractiveTableCells::main);\n            return;\n        }\n        var frame = new JFrame(&quot;Read-only Interactive Table Cells&quot;);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setContentPane(createContent());\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private static Container createContent() {\n\n        Integer[] data = { 124, 13, 78, 103 };\n\n        var model = new AbstractTableModel() {\n            @Override\n            public int getRowCount() {\n                return data.length;\n            }\n\n            @Override\n            public int getColumnCount() {\n                return 2;\n            }\n\n            @Override\n            public String getColumnName(int column) {\n                return column == 0? &quot;Seats&quot;: &quot;Train&quot;;\n            }\n\n            @Override\n            public Class&lt;?&gt; getColumnClass(int column) {\n                return column == 0? Integer.class: String.class;\n            }\n\n            @Override\n            public Object getValueAt(int rowIndex, int columnIndex) {\n                return columnIndex == 0? data[rowIndex]: &quot;&quot;;\n            }\n        };\n        var table = new JTable(model);\n        table.setRowHeight(30);\n        table.setColumnSelectionAllowed(false);\n\n        var trainRenderer = new TrainRenderer();\n        var defCellRenderer = new DefaultTableCellRenderer();\n        defCellRenderer.setIcon(trainRenderer);\n        table.getColumnModel().getColumn(1).setCellRenderer(\n            (comp, value, selected, focus, row, column) -&gt; {\n                trainRenderer.paintingActive = row == trainRenderer.activeRow;\n                return defCellRenderer.getTableCellRendererComponent(\n                        comp, value, selected, focus, row, column);\n            });\n\n        var mouseListener = new MouseAdapter() {\n            @Override\n            public void mouseMoved(MouseEvent e) {\n                Point p = e.getPoint();\n                check(table.rowAtPoint(p), table.columnAtPoint(p), p);\n            }\n\n            @Override\n            public void mouseExited(MouseEvent e) {\n                check(-1, -1, null);\n            }\n\n            private void check(int r, int c, Point p) {\n                int lastActive = trainRenderer.activeRow;\n                if(c != 1) {\n                    trainRenderer.activeRow = -1;\n                    r = -1;\n                }\n                if(r &lt; 0 &amp;&amp; lastActive &lt; 0) return;\n                if(r &gt;= 0) {\n                    var rect = table.getCellRect(r, c, false);\n                    p.x -= rect.x;\n                    p.y -= rect.y;\n                    int oldCar = trainRenderer.activeCar;\n                    if(!trainRenderer.check(p, r)) r = -1;\n                    else if(r != lastActive || trainRenderer.activeCar != oldCar)\n                        table.repaint(rect);\n                }\n                if(r != lastActive &amp;&amp; lastActive &gt;= 0) {\n                    table.repaint(table.getCellRect(lastActive, 1, false));\n                }\n            }\n        };\n        table.addMouseMotionListener(mouseListener);\n        table.addMouseListener(mouseListener);\n        var sp = new JScrollPane(table);\n        sp.setPreferredSize(new Dimension(320, 240));\n        return sp;\n    }\n}\n\nclass TrainRenderer implements Icon {\n    private final Rectangle wagon1 = new Rectangle(4, 2, 30, 16);\n    private final Rectangle wagon2 = new Rectangle(4 + 30 + 4, 2, 30, 16);\n    private final Rectangle wagon3 = new Rectangle(38 + 30 + 4, 2, 30, 16);\n    private final Rectangle wagon4 = new Rectangle(72 + 30 + 4, 2, 30, 16);\n    private final List&lt;Rectangle&gt; allWagons = List.of(wagon1, wagon2, wagon3, wagon4);\n\n    int activeRow = -1, activeCar = -1;\n    boolean paintingActive;\n\n    @Override\n    public void paintIcon(Component c, Graphics g, int x, int y) {\n        Graphics2D g2 = (Graphics2D)g;\n        g2.translate(x, y);\n        for(int i = 0, num = allWagons.size(); i &lt; num; i++) {\n            g2.setColor(\n                paintingActive &amp;&amp; activeCar == i? Color.ORANGE.darker(): Color.ORANGE);\n            g2.fill(allWagons.get(i));\n        }\n        g2.translate(-x, -y);\n    }\n\n    boolean check(Point p, int row) {\n        for(int i = 0, num = allWagons.size(); i &lt; num; i++) {\n            if(allWagons.get(i).contains(p)) {\n                activeRow = row;\n                activeCar = i;\n                return true;\n            }\n        }\n        activeRow = -1;\n        activeCar = -1;\n        return false;\n    }\n\n    @Override\n    public int getIconWidth() {\n        return wagon4.x + wagon4.width;\n    }\n\n    @Override\n    public int getIconHeight() {\n        return wagon4.y + wagon4.height;\n    }\n}\n</code></pre>\n<p>Note that I also removed all unnecessary subclass relationships, compare with <a href=\"https://stackoverflow.com/q/49002/2711488\">Prefer composition over inheritance?</a></p>\n<p>By using the default cell renderer, you get the look&amp;feels highlighting, as well as some performance optimizations for free.</p>\n"}],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73634097,"answer_count":1,"score":0,"last_activity_date":1662547554,"creation_date":1662112357,"question_id":73580773,"body_markdown":"I would a Swing component that almost behave like a `JTable` for read-only data, but with interactive cells. The table might have hundreds of rows so adding components to the swing tree might not be the right choice.\r\n\r\n\r\nCurrently I&#39;m hacking around the JTable by making the _interactive cells_ editable. This fills hacky and misusing the API, however there&#39;s no choice there.\r\n\r\n[![interactive jtable read-only cells][1]][1]\r\n\r\n```java\r\nimport java.awt.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.util.Objects;\r\nimport javax.swing.*;\r\nimport javax.swing.event.MouseInputAdapter;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.table.TableCellEditor;\r\nimport javax.swing.table.TableCellRenderer;\r\n\r\npublic final class InteractiveTableCells extends JPanel {\r\n    private InteractiveTableCells() {\r\n        super(new BorderLayout());\r\n\r\n        String wagonsData = &quot;&quot;;\r\n        Object[][] data = {\r\n                {124, wagonsData},\r\n                {13, wagonsData},\r\n                {78, wagonsData},\r\n                {103, wagonsData}\r\n        };\r\n        var model = new DefaultTableModel(data, new String[] {&quot;Seats&quot;, &quot;Train&quot;}) {\r\n            @Override\r\n            public Class&lt;?&gt; getColumnClass(int column) {\r\n                return getValueAt(0, column).getClass();\r\n            }\r\n\r\n            @Override\r\n            public boolean isCellEditable(int row, int column) {\r\n                return column == 1;\r\n            }\r\n        };\r\n        var table = new JTable(model);\r\n        table.setRowHeight(30);\r\n        table.setColumnSelectionAllowed(false);\r\n\r\n        var trainColumn = table.getColumnModel().getColumn(1);\r\n        trainColumn.setCellRenderer(new TrainChartPanelRenderer());\r\n        trainColumn.setCellEditor(new TrainChartPanelEditor(table));\r\n\r\n        add(new JScrollPane(table));\r\n        setPreferredSize(new Dimension(320, 240));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            var frame = new JFrame(&quot;Read-only Interactive Table Cells&quot;);\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n            frame.getContentPane().add(new InteractiveTableCells());\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n\r\nclass InteractiveChartPanel extends JPanel {\r\n\r\n    private final Rectangle wagon1 = new Rectangle(4, 2, 30, 16);\r\n    private final Rectangle wagon2 = new Rectangle(4 + 30 + 4, 2, 30, 16);\r\n    private final Rectangle wagon3 = new Rectangle(38 + 30 + 4, 2, 30, 16);\r\n    private final Rectangle wagon4 = new Rectangle(72 + 30 + 4, 2, 30, 16);\r\n    private Rectangle hoveredWagon = null;\r\n\r\n    protected InteractiveChartPanel() {\r\n        super();\r\n        setOpaque(true);\r\n\r\n        addMouseMotionListener(new MouseInputAdapter() {\r\n            @Override\r\n            public void mouseMoved(MouseEvent e) {\r\n                var location = MouseInfo.getPointerInfo().getLocation();\r\n                SwingUtilities.convertPointFromScreen(location, InteractiveChartPanel.this);\r\n\r\n                var oldHoveredWagon = hoveredWagon;\r\n                if (wagon1.contains(location)) {\r\n                    hoveredWagon = wagon1;\r\n                } else if (wagon2.contains(location)) {\r\n                    hoveredWagon = wagon2;\r\n                } else if (wagon3.contains(location)) {\r\n                    hoveredWagon = wagon3;\r\n                } else if (wagon4.contains(location)) {\r\n                    hoveredWagon = wagon4;\r\n                } else {\r\n                    hoveredWagon = null;\r\n                }\r\n\r\n                if (!Objects.equals(oldHoveredWagon, hoveredWagon)) {\r\n                    repaint();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n\r\n        g2.setColor(Color.ORANGE);\r\n        g2.fill(wagon1);\r\n        g2.fill(wagon2);\r\n        g2.fill(wagon3);\r\n        g2.fill(wagon4);\r\n        \r\n        if (hoveredWagon != null) {\r\n            g2.setColor(Color.ORANGE.darker());\r\n            g2.fill(hoveredWagon);\r\n        }\r\n    }\r\n}\r\n\r\nclass TrainChartPanelRenderer extends InteractiveChartPanel implements TableCellRenderer {\r\n    @Override\r\n    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n        setBackground(isSelected ? table.getSelectionBackground() : table.getBackground());\r\n        return this;\r\n    }\r\n}\r\n\r\nclass TrainChartPanelEditor extends AbstractCellEditor implements TableCellEditor {\r\n    private final InteractiveChartPanel panel = new InteractiveChartPanel();\r\n\r\n    protected TrainChartPanelEditor(JTable table) {\r\n        table.addMouseMotionListener(new MouseInputAdapter() {\r\n            @Override\r\n            public void mouseMoved(MouseEvent e) {\r\n                int r = table.rowAtPoint(e.getPoint());\r\n                int c = table.columnAtPoint(e.getPoint());\r\n\r\n                if (table.isCellEditable(r, c)\r\n                        &amp;&amp; (table.getEditingRow() != r || table.getEditingColumn() != c) // avoid flickering, when the mouse mouve over the same cell\r\n                ) {\r\n                    // Cancel previous, otherwise editCellAt will invoke stopCellEditing which\r\n                    // actually get the current value from the editor and set it to the model (see editingStopped)\r\n                    if (table.isEditing() &amp;&amp; r &gt;= 0 &amp;&amp; c &gt;= 0) {\r\n                        table.getCellEditor().cancelCellEditing();\r\n                    }\r\n                    table.editCellAt(r, c);\r\n                } else {\r\n                    if (table.isEditing() || r &lt; 0 || c &lt; 0) {\r\n                        table.getCellEditor().cancelCellEditing();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        panel.addMouseListener(new MouseInputAdapter() {\r\n            @Override\r\n            public void mouseExited(MouseEvent e) {\r\n                SwingUtilities.invokeLater(TrainChartPanelEditor.this::fireEditingCanceled);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\r\n        panel.setBackground(isSelected ? table.getSelectionBackground() : table.getBackground());\r\n        return panel;\r\n    }\r\n\r\n    @Override\r\n    public Object getCellEditorValue() {\r\n        throw new IllegalStateException(&quot;Editing should have been cancelled&quot;);\r\n    }\r\n}\r\n```\r\n\r\nBonus, in my case the last row might have longer content, and I&#39;m not quite sure how to adjust the row height dynamically when the JTable is resized for example. And without triggering an infinite loop as calling `setRowHeight(row)` in the cell renderer can  trigger a relayout and then invoke the cell renderer again.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SVzp4.gif","title":"Is there a simpler approach to have a table like (sorting, changing columns width) for read-only but interactive cells","body":"<p>I would a Swing component that almost behave like a <code>JTable</code> for read-only data, but with interactive cells. The table might have hundreds of rows so adding components to the swing tree might not be the right choice.</p>\n<p>Currently I'm hacking around the JTable by making the <em>interactive cells</em> editable. This fills hacky and misusing the API, however there's no choice there.</p>\n<p><a href=\"https://i.stack.imgur.com/SVzp4.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SVzp4.gif\" alt=\"interactive jtable read-only cells\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.util.Objects;\nimport javax.swing.*;\nimport javax.swing.event.MouseInputAdapter;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableCellEditor;\nimport javax.swing.table.TableCellRenderer;\n\npublic final class InteractiveTableCells extends JPanel {\n    private InteractiveTableCells() {\n        super(new BorderLayout());\n\n        String wagonsData = &quot;&quot;;\n        Object[][] data = {\n                {124, wagonsData},\n                {13, wagonsData},\n                {78, wagonsData},\n                {103, wagonsData}\n        };\n        var model = new DefaultTableModel(data, new String[] {&quot;Seats&quot;, &quot;Train&quot;}) {\n            @Override\n            public Class&lt;?&gt; getColumnClass(int column) {\n                return getValueAt(0, column).getClass();\n            }\n\n            @Override\n            public boolean isCellEditable(int row, int column) {\n                return column == 1;\n            }\n        };\n        var table = new JTable(model);\n        table.setRowHeight(30);\n        table.setColumnSelectionAllowed(false);\n\n        var trainColumn = table.getColumnModel().getColumn(1);\n        trainColumn.setCellRenderer(new TrainChartPanelRenderer());\n        trainColumn.setCellEditor(new TrainChartPanelEditor(table));\n\n        add(new JScrollPane(table));\n        setPreferredSize(new Dimension(320, 240));\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            var frame = new JFrame(&quot;Read-only Interactive Table Cells&quot;);\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n            frame.getContentPane().add(new InteractiveTableCells());\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n\nclass InteractiveChartPanel extends JPanel {\n\n    private final Rectangle wagon1 = new Rectangle(4, 2, 30, 16);\n    private final Rectangle wagon2 = new Rectangle(4 + 30 + 4, 2, 30, 16);\n    private final Rectangle wagon3 = new Rectangle(38 + 30 + 4, 2, 30, 16);\n    private final Rectangle wagon4 = new Rectangle(72 + 30 + 4, 2, 30, 16);\n    private Rectangle hoveredWagon = null;\n\n    protected InteractiveChartPanel() {\n        super();\n        setOpaque(true);\n\n        addMouseMotionListener(new MouseInputAdapter() {\n            @Override\n            public void mouseMoved(MouseEvent e) {\n                var location = MouseInfo.getPointerInfo().getLocation();\n                SwingUtilities.convertPointFromScreen(location, InteractiveChartPanel.this);\n\n                var oldHoveredWagon = hoveredWagon;\n                if (wagon1.contains(location)) {\n                    hoveredWagon = wagon1;\n                } else if (wagon2.contains(location)) {\n                    hoveredWagon = wagon2;\n                } else if (wagon3.contains(location)) {\n                    hoveredWagon = wagon3;\n                } else if (wagon4.contains(location)) {\n                    hoveredWagon = wagon4;\n                } else {\n                    hoveredWagon = null;\n                }\n\n                if (!Objects.equals(oldHoveredWagon, hoveredWagon)) {\n                    repaint();\n                }\n            }\n        });\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n\n        g2.setColor(Color.ORANGE);\n        g2.fill(wagon1);\n        g2.fill(wagon2);\n        g2.fill(wagon3);\n        g2.fill(wagon4);\n        \n        if (hoveredWagon != null) {\n            g2.setColor(Color.ORANGE.darker());\n            g2.fill(hoveredWagon);\n        }\n    }\n}\n\nclass TrainChartPanelRenderer extends InteractiveChartPanel implements TableCellRenderer {\n    @Override\n    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n        setBackground(isSelected ? table.getSelectionBackground() : table.getBackground());\n        return this;\n    }\n}\n\nclass TrainChartPanelEditor extends AbstractCellEditor implements TableCellEditor {\n    private final InteractiveChartPanel panel = new InteractiveChartPanel();\n\n    protected TrainChartPanelEditor(JTable table) {\n        table.addMouseMotionListener(new MouseInputAdapter() {\n            @Override\n            public void mouseMoved(MouseEvent e) {\n                int r = table.rowAtPoint(e.getPoint());\n                int c = table.columnAtPoint(e.getPoint());\n\n                if (table.isCellEditable(r, c)\n                        &amp;&amp; (table.getEditingRow() != r || table.getEditingColumn() != c) // avoid flickering, when the mouse mouve over the same cell\n                ) {\n                    // Cancel previous, otherwise editCellAt will invoke stopCellEditing which\n                    // actually get the current value from the editor and set it to the model (see editingStopped)\n                    if (table.isEditing() &amp;&amp; r &gt;= 0 &amp;&amp; c &gt;= 0) {\n                        table.getCellEditor().cancelCellEditing();\n                    }\n                    table.editCellAt(r, c);\n                } else {\n                    if (table.isEditing() || r &lt; 0 || c &lt; 0) {\n                        table.getCellEditor().cancelCellEditing();\n                    }\n                }\n            }\n        });\n        panel.addMouseListener(new MouseInputAdapter() {\n            @Override\n            public void mouseExited(MouseEvent e) {\n                SwingUtilities.invokeLater(TrainChartPanelEditor.this::fireEditingCanceled);\n            }\n        });\n    }\n\n    @Override\n    public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\n        panel.setBackground(isSelected ? table.getSelectionBackground() : table.getBackground());\n        return panel;\n    }\n\n    @Override\n    public Object getCellEditorValue() {\n        throw new IllegalStateException(&quot;Editing should have been cancelled&quot;);\n    }\n}\n</code></pre>\n<p>Bonus, in my case the last row might have longer content, and I'm not quite sure how to adjust the row height dynamically when the JTable is resized for example. And without triggering an infinite loop as calling <code>setRowHeight(row)</code> in the cell renderer can  trigger a relayout and then invoke the cell renderer again.</p>\n"},{"tags":["java","redis","future","mutiny"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1662552338,"post_id":73631825,"comment_id":130031371,"body_markdown":"I would recommend using the Mutiny Redis client API directly. So, you won&#39;t have to deal with the futures and the completion stages.","body":"I would recommend using the Mutiny Redis client API directly. So, you won&#39;t have to deal with the futures and the completion stages."},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1662583351,"post_id":73631825,"comment_id":130042352,"body_markdown":"Thanks @Clement. Yes, that was on my mind too. I wanted to get the Vertx version working first  a way to learn more. I did try the Mutiny version and had some issues getting it to work - again probably due to my lack of experience. I was thinking of asking you how to convert the working sample below to a Mutiny version. Thanks for your comment, Murray.","body":"Thanks @Clement. Yes, that was on my mind too. I wanted to get the Vertx version working first  a way to learn more. I did try the Mutiny version and had some issues getting it to work - again probably due to my lack of experience. I was thinking of asking you how to convert the working sample below to a Mutiny version. Thanks for your comment, Murray."},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1662584837,"post_id":73631825,"comment_id":130042711,"body_markdown":"PS: My use-case is the Redis JSON and SEARCH commands, which is why I am not using the Quarkus version.","body":"PS: My use-case is the Redis JSON and SEARCH commands, which is why I am not using the Quarkus version."},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1662704109,"post_id":73631825,"comment_id":130071331,"body_markdown":"I&#39;ve a good news for you. First, check https://quarkus.io/blog/redis-api-intro/ and you will see how the new API is structured. The low-level client (providing a Mutiny API) already supports JSON and SEARCH commands. After some internal debate, we will provide high-level methods for these modules, too (as part of the Redis data source interface). I can&#39;t give you an ETA unfortunately (help welcome :-D)","body":"I&#39;ve a good news for you. First, check <a href=\"https://quarkus.io/blog/redis-api-intro/\" rel=\"nofollow noreferrer\">quarkus.io/blog/redis-api-intro</a> and you will see how the new API is structured. The low-level client (providing a Mutiny API) already supports JSON and SEARCH commands. After some internal debate, we will provide high-level methods for these modules, too (as part of the Redis data source interface). I can&#39;t give you an ETA unfortunately (help welcome :-D)"},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1662709346,"post_id":73631825,"comment_id":130072863,"body_markdown":"That looks terrific, Clement! I will dig in and learn. Much appreciated. Murray","body":"That looks terrific, Clement! I will dig in and learn. Much appreciated. Murray"}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662547387,"creation_date":1662539649,"answer_id":73632369,"question_id":73631825,"body_markdown":"Updated the post, because of errors.\r\n\r\n[UniCreate.future()](https://javadoc.io/static/io.smallrye.reactive/mutiny/2.0.0-milestone1/io.smallrye.mutiny/io/smallrye/mutiny/groups/UniCreate.html#future(java.util.concurrent.Future)) takes a java.util.concurrent.Future of some type and returns Uni of the same type. That is, you&#39;ll have to pass a `java.util.concurrent.Future&lt;String&gt;` to get a `Uni&lt;String&gt;`. \r\n\r\nThe send method of the Redis client returns a `io.vertx.core.Future&lt;Response&gt;` which is not assignment compatible to java.util.concurrent.Future. \r\n\r\nFortunately, the API provides [io.vertx.core.Future#toCompletionStage](https://vertx.io/docs/apidocs/io/vertx/core/Future.html#toCompletionStage--) to convert a vertx Future to a JDK CompletionStage while Mutiny provides [UniCreate.completionStage()](https://javadoc.io/static/io.smallrye.reactive/mutiny/2.0.0-milestone1/io.smallrye.mutiny/io/smallrye/mutiny/groups/UniCreate.html#completionStage(java.util.concurrent.CompletionStage)) to get the job done. \r\n\r\n```\r\npublic Uni&lt;String&gt; test () {\r\n  Future&lt;String&gt; futureResponse = this.redisClient.send(Request.cmd(Command.create(&quot;JSON.GET&quot;)).arg(&quot;foo&quot;))\r\n      .compose(response -&gt; {\r\n        return Future.succeededFuture(response.toString());\r\n      });\r\n\r\n  Uni&lt;String&gt; respUni = Uni.createFrom().completionStage(futureResponse.toCompletionStage());\r\n\r\n  return respUni;\r\n}\r\n```","title":"Java how to Uni.createFrom().future() and return that Uni from the enclosing method?","body":"<p>Updated the post, because of errors.</p>\n<p><a href=\"https://javadoc.io/static/io.smallrye.reactive/mutiny/2.0.0-milestone1/io.smallrye.mutiny/io/smallrye/mutiny/groups/UniCreate.html#future(java.util.concurrent.Future)\" rel=\"nofollow noreferrer\">UniCreate.future()</a> takes a java.util.concurrent.Future of some type and returns Uni of the same type. That is, you'll have to pass a <code>java.util.concurrent.Future&lt;String&gt;</code> to get a <code>Uni&lt;String&gt;</code>.</p>\n<p>The send method of the Redis client returns a <code>io.vertx.core.Future&lt;Response&gt;</code> which is not assignment compatible to java.util.concurrent.Future.</p>\n<p>Fortunately, the API provides <a href=\"https://vertx.io/docs/apidocs/io/vertx/core/Future.html#toCompletionStage--\" rel=\"nofollow noreferrer\">io.vertx.core.Future#toCompletionStage</a> to convert a vertx Future to a JDK CompletionStage while Mutiny provides <a href=\"https://javadoc.io/static/io.smallrye.reactive/mutiny/2.0.0-milestone1/io.smallrye.mutiny/io/smallrye/mutiny/groups/UniCreate.html#completionStage(java.util.concurrent.CompletionStage)\" rel=\"nofollow noreferrer\">UniCreate.completionStage()</a> to get the job done.</p>\n<pre><code>public Uni&lt;String&gt; test () {\n  Future&lt;String&gt; futureResponse = this.redisClient.send(Request.cmd(Command.create(&quot;JSON.GET&quot;)).arg(&quot;foo&quot;))\n      .compose(response -&gt; {\n        return Future.succeededFuture(response.toString());\n      });\n\n  Uni&lt;String&gt; respUni = Uni.createFrom().completionStage(futureResponse.toCompletionStage());\n\n  return respUni;\n}\n</code></pre>\n"}],"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73632369,"answer_count":1,"score":3,"last_activity_date":1662547387,"creation_date":1662536866,"question_id":73631825,"body_markdown":"I am very new to Java and Mutiny.\r\n\r\nAs indicated below, my test function asks Redis for the value of key &quot;foo&quot; which is &quot;bar&quot;. That is working and the Future onCompleted() gets &quot;bar&quot;.\r\n\r\nSo far so good.\r\n\r\nI have two issues with the `Uni.createFrom().future()` bit.\r\n1. The compiler says: `The method future(Future&lt;? extends T&gt;) in the type UniCreate is not applicable for the arguments (Future&lt;Response&gt;)`. I have tried the suggested fixes but ended up in a deeper hole. My Java skills are insufficient to fully grasp the meaning of the error.\r\n\r\n2. How do I get &quot;bar&quot; into the `Uni&lt;String&gt;` returned from `test()`? I have tried all sorts of subscribing and CompletableFutures and cannot make anything work. I figure I need to return a function to generate the Uni&lt;String&gt; but am at a loss about how to do that.\r\n\r\n```java\r\n// The abbreviated setup\r\nimport io.vertx.redis.client.Redis;\r\nprivate final Redis redisClient;\r\nthis.redisClient = Redis.createClient(vertx);\r\n\r\n\r\npublic Uni&lt;String&gt; test () {\r\n  // Ask Redis for the value of key &quot;foo&quot; =&gt; &quot;bar&quot;\r\n  Future&lt;Response&gt; futureResponse = this.redisClient.send(Request.cmd(Command.create(&quot;JSON.GET&quot;)).arg(&quot;foo&quot;))\r\n      .compose(response -&gt; {\r\n        // response == &#39;bar&#39;\r\n        return Future.succeededFuture(response);\r\n      }).onComplete(res -&gt; {\r\n        // res == &#39;bar&#39;\r\n      });\r\n\r\n  // How to make the return of the Uni&lt;String&gt; wait for the completed futureResponse \r\n  // so it makes a Uni&lt;String&gt; from &quot;bar&quot; and returns it from the method?\r\n  Uni&lt;String&gt; respUni = Uni.createFrom().future(futureResponse);\r\n\r\n  return respUni;\r\n}\r\n```\r\n\r\nThanks. Any suggestions gratefully accepted! (And yes, I have spent many hours trying to work it out for myself) ;-)","title":"Java how to Uni.createFrom().future() and return that Uni from the enclosing method?","body":"<p>I am very new to Java and Mutiny.</p>\n<p>As indicated below, my test function asks Redis for the value of key &quot;foo&quot; which is &quot;bar&quot;. That is working and the Future onCompleted() gets &quot;bar&quot;.</p>\n<p>So far so good.</p>\n<p>I have two issues with the <code>Uni.createFrom().future()</code> bit.</p>\n<ol>\n<li><p>The compiler says: <code>The method future(Future&lt;? extends T&gt;) in the type UniCreate is not applicable for the arguments (Future&lt;Response&gt;)</code>. I have tried the suggested fixes but ended up in a deeper hole. My Java skills are insufficient to fully grasp the meaning of the error.</p>\n</li>\n<li><p>How do I get &quot;bar&quot; into the <code>Uni&lt;String&gt;</code> returned from <code>test()</code>? I have tried all sorts of subscribing and CompletableFutures and cannot make anything work. I figure I need to return a function to generate the Uni but am at a loss about how to do that.</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>// The abbreviated setup\nimport io.vertx.redis.client.Redis;\nprivate final Redis redisClient;\nthis.redisClient = Redis.createClient(vertx);\n\n\npublic Uni&lt;String&gt; test () {\n  // Ask Redis for the value of key &quot;foo&quot; =&gt; &quot;bar&quot;\n  Future&lt;Response&gt; futureResponse = this.redisClient.send(Request.cmd(Command.create(&quot;JSON.GET&quot;)).arg(&quot;foo&quot;))\n      .compose(response -&gt; {\n        // response == 'bar'\n        return Future.succeededFuture(response);\n      }).onComplete(res -&gt; {\n        // res == 'bar'\n      });\n\n  // How to make the return of the Uni&lt;String&gt; wait for the completed futureResponse \n  // so it makes a Uni&lt;String&gt; from &quot;bar&quot; and returns it from the method?\n  Uni&lt;String&gt; respUni = Uni.createFrom().future(futureResponse);\n\n  return respUni;\n}\n</code></pre>\n<p>Thanks. Any suggestions gratefully accepted! (And yes, I have spent many hours trying to work it out for myself) ;-)</p>\n"},{"tags":["java","javafx","javafx-8"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1662542410,"post_id":73630307,"comment_id":130027466,"body_markdown":"what a terrible UX :( As a general rule, __never-ever__ let the users assume they can interact with a control and tell them _after_ they did that they were not allowed to! Instead think of a way to relate the reduced interaction capabibilties up front.","body":"what a terrible UX :( As a general rule, <b>never-ever</b> let the users assume they can interact with a control and tell them <i>after</i> they did that they were not allowed to! Instead think of a way to relate the reduced interaction capabibilties up front."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1662550829,"post_id":73630307,"comment_id":130030747,"body_markdown":"Subclass `SingleSelectionModel`, create a `ReadOnlySingleSelectionModel`. Upon switching to read-only mode, replace the default selection model with the read-only model.  Restore the default selection model, when switching back to read-write mode.","body":"Subclass <code>SingleSelectionModel</code>, create a <code>ReadOnlySingleSelectionModel</code>. Upon switching to read-only mode, replace the default selection model with the read-only model.  Restore the default selection model, when switching back to read-write mode."},{"owner":{"account_id":26204468,"reputation":13,"user_id":19884262,"display_name":"javaman"},"score":1,"creation_date":1662564563,"post_id":73630307,"comment_id":130036567,"body_markdown":"@kleopatra I agree this read-only ComboBox UX is awful. I&#39;m all for changing it to something else but I&#39;m not sure if JavaFX 8 has other Controls that offer the intended behavior.","body":"@kleopatra I agree this read-only ComboBox UX is awful. I&#39;m all for changing it to something else but I&#39;m not sure if JavaFX 8 has other Controls that offer the intended behavior."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1662586797,"post_id":73630307,"comment_id":130043170,"body_markdown":"I tried my suggestion of switching the selection model.  It did not work well, at least in my implementation (the updated selection model prevented the value from changing but the UI would still update to show the new value the user attempted to select).  Perhaps it could be made to work, but could be tricky to get right and may perhaps break as the internal combo box implementation evolves, so perhaps not to adopt the selection model switch approach.","body":"I tried my suggestion of switching the selection model.  It did not work well, at least in my implementation (the updated selection model prevented the value from changing but the UI would still update to show the new value the user attempted to select).  Perhaps it could be made to work, but could be tricky to get right and may perhaps break as the internal combo box implementation evolves, so perhaps not to adopt the selection model switch approach."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1662633738,"post_id":73630307,"comment_id":130053266,"body_markdown":"As others have said, this seems like a weird user experience. Maybe a `MenuButton` with a collection of disabled `MenuItem`s would be close enough to what you want?","body":"As others have said, this seems like a weird user experience. Maybe a <code>MenuButton</code> with a collection of disabled <code>MenuItem</code>s would be close enough to what you want?"}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662531344,"creation_date":1662528404,"answer_id":73630523,"question_id":73630307,"body_markdown":"Here is a rough solution that will capture the event and revert it to the default selection and we can do whatever else we want like showing a message. If the application is not in read only mode, then we can process the action as normal:\r\n\r\n\t//Value to track read only mode\r\n\tBoolean readOnlyMode = true;\r\n\r\n    //Values to help revert the selection\r\n\tint defaultSelection = 3;\r\n    //We use a flag so that the message is not displayed twice when we reset the selection\r\n    //You can remove then need for this by checking the item that was selected instead and only show the message if it was not te default item\r\n\tboolean flagToggle = false;\r\n\r\n\t//Add an event to revert the selection and show a message\r\n    comboBox.setOnAction((ActionEvent t) -&gt;\r\n\t{\r\n\t\tif(readOnlyMode){\r\n\t\t    //Code here to show a message and revert the selection\r\n\t\t    if(!flagToggle){\r\n                //Replace this line with your pop up dialogue, etc\r\n\t\t\t    System.out.println(&quot;The application is in Read Only mode&quot;);\r\n                //flip the flag for displaying the message\r\n\t\t\t    flagToggle = true;\r\n\t\t    }\r\n            //restore the flag\r\n\t\t    else{\r\n\t\t\t    flagToggle = false;\r\n            }\r\n\r\n\t\t    //reset the selection to default, if the selection is already back to the default then this will not trigger another selection event\r\n\t\t    comboBox.getSelectionModel().select(defaultSelection);\r\n\t\t}\r\n\t\telse{\r\n\t\t    System.out.println(&quot;The application is in Edit mode. Item &quot;+ comboBox.getValue() + &quot; selected.&quot;);\r\n\t\t    //perform normal actions\r\n\t\t    //call some method here?\r\n\t\t}\r\n\t});","title":"Set ComboBox to read only without disabling the ComboBox using JavaFX","body":"<p>Here is a rough solution that will capture the event and revert it to the default selection and we can do whatever else we want like showing a message. If the application is not in read only mode, then we can process the action as normal:</p>\n<pre><code>//Value to track read only mode\nBoolean readOnlyMode = true;\n\n//Values to help revert the selection\nint defaultSelection = 3;\n//We use a flag so that the message is not displayed twice when we reset the selection\n//You can remove then need for this by checking the item that was selected instead and only show the message if it was not te default item\nboolean flagToggle = false;\n\n//Add an event to revert the selection and show a message\ncomboBox.setOnAction((ActionEvent t) -&gt;\n{\n    if(readOnlyMode){\n        //Code here to show a message and revert the selection\n        if(!flagToggle){\n            //Replace this line with your pop up dialogue, etc\n            System.out.println(&quot;The application is in Read Only mode&quot;);\n            //flip the flag for displaying the message\n            flagToggle = true;\n        }\n        //restore the flag\n        else{\n            flagToggle = false;\n        }\n\n        //reset the selection to default, if the selection is already back to the default then this will not trigger another selection event\n        comboBox.getSelectionModel().select(defaultSelection);\n    }\n    else{\n        System.out.println(&quot;The application is in Edit mode. Item &quot;+ comboBox.getValue() + &quot; selected.&quot;);\n        //perform normal actions\n        //call some method here?\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662529955,"creation_date":1662529955,"answer_id":73630676,"question_id":73630307,"body_markdown":"Add a `ChangeListener` to the selection model of the `ComboBox`. Whenever the selection changes, the below code restores the original selection and displays a message. Note that I arbitrarily set the initial `ComboBox` selection to the first item in its list of values.\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.ComboBox;\r\nimport javafx.scene.control.SingleSelectionModel;\r\nimport javafx.stage.Stage;\r\n\r\npublic class ApplicationMain extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        ComboBox&lt;String&gt; combo = new ComboBox&lt;&gt;(FXCollections.observableArrayList(&quot;First&quot;,\r\n                                                                                  &quot;Second&quot;,\r\n                                                                                  &quot;Third&quot;,\r\n                                                                                  &quot;Fourth&quot;,\r\n                                                                                  &quot;Last&quot;));\r\n        SingleSelectionModel&lt;String&gt; selectionModel = combo.getSelectionModel();\r\n        selectionModel.select(0);\r\n        selectionModel.selectedItemProperty().addListener(new ChangeListener&lt;String&gt;() {\r\n            boolean flag = true;\r\n            @Override\r\n            public void changed(ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) {\r\n                if (flag) {\r\n                    flag = false;\r\n                    selectionModel.select(oldValue);\r\n                    flag = true;\r\n                    Alert alert = new Alert(AlertType.WARNING, &quot;Read only mode.&quot;, ButtonType.CLOSE);\r\n                    alert.setHeaderText(null);\r\n                    alert.showAndWait();\r\n                }\r\n            }\r\n        });\r\n        Group root = new Group(combo);\r\n        Scene scene = new Scene(root, 250.0D, 60.0D);\r\n        stage.setTitle(&quot;Example&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n","title":"Set ComboBox to read only without disabling the ComboBox using JavaFX","body":"<p>Add a <code>ChangeListener</code> to the selection model of the <code>ComboBox</code>. Whenever the selection changes, the below code restores the original selection and displays a message. Note that I arbitrarily set the initial <code>ComboBox</code> selection to the first item in its list of values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.collections.FXCollections;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.SingleSelectionModel;\nimport javafx.stage.Stage;\n\npublic class ApplicationMain extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        ComboBox&lt;String&gt; combo = new ComboBox&lt;&gt;(FXCollections.observableArrayList(&quot;First&quot;,\n                                                                                  &quot;Second&quot;,\n                                                                                  &quot;Third&quot;,\n                                                                                  &quot;Fourth&quot;,\n                                                                                  &quot;Last&quot;));\n        SingleSelectionModel&lt;String&gt; selectionModel = combo.getSelectionModel();\n        selectionModel.select(0);\n        selectionModel.selectedItemProperty().addListener(new ChangeListener&lt;String&gt;() {\n            boolean flag = true;\n            @Override\n            public void changed(ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) {\n                if (flag) {\n                    flag = false;\n                    selectionModel.select(oldValue);\n                    flag = true;\n                    Alert alert = new Alert(AlertType.WARNING, &quot;Read only mode.&quot;, ButtonType.CLOSE);\n                    alert.setHeaderText(null);\n                    alert.showAndWait();\n                }\n            }\n        });\n        Group root = new Group(combo);\n        Scene scene = new Scene(root, 250.0D, 60.0D);\n        stage.setTitle(&quot;Example&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662547208,"creation_date":1662547208,"answer_id":73634090,"question_id":73630307,"body_markdown":"Beware: the UX is terrible - we _must not_ fool our users into believing they can change anything and tell them they couldn&#39;t _after_ they tried!\r\n\r\nAlso, we _must not_ (I know it&#39;s in the java doc somewhere but never find it when I need it ;) change the state of a property in a listener to that property: most of the time we get away with doing it, but it might have nasty, hard to debug side-effects.\r\n\r\nAll that said (and the boss insists on implementing the wrongish UX :) - here&#39;s an alternative to the doing the wrong thingy in a listener. The basic idea is to bind the combo&#39;s value to a fixed value. Doing so will effectively disconnect it from the selection state - users can use keys to change the selection (if the popup is closed) or navigate in the drop-down list (if the popup is showing) without changing the value. \r\n\r\nBelow is an example that\r\n\r\n- has a property that holds the fixed value\r\n- has a property that toggles the readOnly state\r\n- un/binds the combo&#39;s value from/to the fixed value based on the toggle state\r\n- sync&#39;s the selection on un/bind and on showing the popup\r\n- note: while bound, listeners to the selection state will still receive notifications from user interaction (which at that time are not in-sync with combo&#39;s value) - application code must be aware of that fact \r\n\r\nThe code:\r\n\r\n    public class ReadonlyComboSelection extends Application {\r\n        StringProperty fixedValue;\r\n        BooleanProperty readonly;\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            primaryStage.setTitle(&quot;Read Only ComboBox&quot;);\r\n    \r\n            ObservableList&lt;String&gt; strings = FXCollections.observableArrayList();\r\n            for (int i = 0; i &lt;= 10; i++)\r\n                strings.add(&quot;Item &quot; + i);\r\n    \r\n            // Create the ComboBox with the data\r\n            ComboBox&lt;String&gt; comboBox = new ComboBox&lt;&gt;(strings);\r\n            // initialize the fixed selection\r\n            fixedValue = new SimpleStringProperty(strings.get(3));\r\n            readonly = new SimpleBooleanProperty() {\r\n    \r\n                @Override\r\n                protected void invalidated() {\r\n                    if (get()) {\r\n                        comboBox.valueProperty().bind(fixedValue);\r\n                    } else {\r\n                        comboBox.valueProperty().unbind();\r\n                    }\r\n                    comboBox.getSelectionModel().select(comboBox.getValue());\r\n                }\r\n    \r\n            };\r\n            readonly.set(true);\r\n    \r\n            // make sure the selection in the popup is showing the value\r\n            comboBox.setOnShowing(e -&gt; {\r\n                if (comboBox.valueProperty().isBound()) {\r\n                    comboBox.getSelectionModel().select(comboBox.getValue());\r\n                    if (comboBox.getSkin() instanceof ComboBoxListViewSkin skin) {\r\n                        ListView&lt;String&gt; list = (ListView&lt;String&gt;) skin.getPopupContent();\r\n                        list.getSelectionModel().select(comboBox.getValue());\r\n                    }\r\n                }\r\n            });\r\n    \r\n            // just for fun: dynamically change the readonly state\r\n            CheckBox check = new CheckBox(&quot;selection is readonly&quot;);\r\n            check.selectedProperty().bindBidirectional(readonly);\r\n    \r\n            HBox layout = new HBox(10, comboBox, check);\r\n    \r\n            Scene scene = new Scene(layout, 300, 250);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n","title":"Set ComboBox to read only without disabling the ComboBox using JavaFX","body":"<p>Beware: the UX is terrible - we <em>must not</em> fool our users into believing they can change anything and tell them they couldn't <em>after</em> they tried!</p>\n<p>Also, we <em>must not</em> (I know it's in the java doc somewhere but never find it when I need it ;) change the state of a property in a listener to that property: most of the time we get away with doing it, but it might have nasty, hard to debug side-effects.</p>\n<p>All that said (and the boss insists on implementing the wrongish UX :) - here's an alternative to the doing the wrong thingy in a listener. The basic idea is to bind the combo's value to a fixed value. Doing so will effectively disconnect it from the selection state - users can use keys to change the selection (if the popup is closed) or navigate in the drop-down list (if the popup is showing) without changing the value.</p>\n<p>Below is an example that</p>\n<ul>\n<li>has a property that holds the fixed value</li>\n<li>has a property that toggles the readOnly state</li>\n<li>un/binds the combo's value from/to the fixed value based on the toggle state</li>\n<li>sync's the selection on un/bind and on showing the popup</li>\n<li>note: while bound, listeners to the selection state will still receive notifications from user interaction (which at that time are not in-sync with combo's value) - application code must be aware of that fact</li>\n</ul>\n<p>The code:</p>\n<pre><code>public class ReadonlyComboSelection extends Application {\n    StringProperty fixedValue;\n    BooleanProperty readonly;\n    @Override\n    public void start(Stage primaryStage) {\n        primaryStage.setTitle(&quot;Read Only ComboBox&quot;);\n\n        ObservableList&lt;String&gt; strings = FXCollections.observableArrayList();\n        for (int i = 0; i &lt;= 10; i++)\n            strings.add(&quot;Item &quot; + i);\n\n        // Create the ComboBox with the data\n        ComboBox&lt;String&gt; comboBox = new ComboBox&lt;&gt;(strings);\n        // initialize the fixed selection\n        fixedValue = new SimpleStringProperty(strings.get(3));\n        readonly = new SimpleBooleanProperty() {\n\n            @Override\n            protected void invalidated() {\n                if (get()) {\n                    comboBox.valueProperty().bind(fixedValue);\n                } else {\n                    comboBox.valueProperty().unbind();\n                }\n                comboBox.getSelectionModel().select(comboBox.getValue());\n            }\n\n        };\n        readonly.set(true);\n\n        // make sure the selection in the popup is showing the value\n        comboBox.setOnShowing(e -&gt; {\n            if (comboBox.valueProperty().isBound()) {\n                comboBox.getSelectionModel().select(comboBox.getValue());\n                if (comboBox.getSkin() instanceof ComboBoxListViewSkin skin) {\n                    ListView&lt;String&gt; list = (ListView&lt;String&gt;) skin.getPopupContent();\n                    list.getSelectionModel().select(comboBox.getValue());\n                }\n            }\n        });\n\n        // just for fun: dynamically change the readonly state\n        CheckBox check = new CheckBox(&quot;selection is readonly&quot;);\n        check.selectedProperty().bindBidirectional(readonly);\n\n        HBox layout = new HBox(10, comboBox, check);\n\n        Scene scene = new Scene(layout, 300, 250);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26204468,"reputation":13,"user_id":19884262,"display_name":"javaman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73634090,"answer_count":3,"score":1,"last_activity_date":1662547208,"creation_date":1662526549,"question_id":73630307,"body_markdown":"I do not want to disable the `ComboBox` because I want the user to be able to select the `ComboBox` button and look through the `ComboBox` items. And if the user tries selecting an item in the `ComboBox`, a window should pop up saying the user is in read only mode and the `ComboBox` should still have the original item in the `ComboBox` button cell.\r\n\r\nIs there a way to do this?\r\n\r\n[By the way, I saw a previous post that asks this same question][1] but using `CheckComboBox` from *ControlsFX*. But since I&#39;m using a normal `ComboBox` from JavaFX 8, the solution from that post does not apply to a standard `ComboBox`.\r\n\r\n\r\nHere&#39;s a minimal reproducible code example: \r\n```java\r\npublic class Main extends Application {\r\n    Stage window;\r\n    Scene scene;\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        window = primaryStage;\r\n        window.setTitle(&quot;Read Only ComboBox&quot;);\r\n\r\n        ObservableList&lt;String&gt; strings = FXCollections.observableArrayList();\r\n        for (int i = 0; i &lt;= 10; i++)\r\n            strings.add(&quot;Item &quot; + i);\r\n\r\n        // Create the ComboBox with the data\r\n        ComboBox&lt;String&gt; comboBox = new ComboBox&lt;&gt;(strings);\r\n        comboBox.getSelectionModel().select(3);\r\n\r\n        // Set comboBox to read only\r\n\r\n        HBox layout = new HBox(10);\r\n        layout.setPadding(new Insets(20, 20, 20,20));\r\n        layout.getChildren().addAll(comboBox);\r\n\r\n        scene = new Scene(layout, 300, 250);\r\n        window.setScene(scene);\r\n        window.show();\r\n    }\r\n}\r\n```\r\nAnd I&#39;m trying to get the `ComboBox` to look like\r\n[this when a user selects the ComboBox button cell.][2] And then once they select any item, a window should pop up saying they are in Read Only mode and the `ComboBox` should still have &quot;Item 3&quot; selected.\r\n\r\n**Edit 1:**\r\nHere is the full stacktrace using [Abra&#39;s code][3]. I did not modify any of  the code.\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IndexOutOfBoundsException\r\n\tat com.sun.javafx.scene.control.ReadOnlyUnbackedObservableList.subList(ReadOnlyUnbackedObservableList.java:136)\r\n\tat javafx.collections.ListChangeListener$Change.getAddedSubList(ListChangeListener.java:242)\r\n\tat com.sun.javafx.scene.control.behavior.ListViewBehavior.lambda$new$59(ListViewBehavior.java:269)\r\n\tat javafx.collections.WeakListChangeListener.onChanged(WeakListChangeListener.java:88)\r\n\tat com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)\r\n\tat com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)\r\n\tat com.sun.javafx.scene.control.ReadOnlyUnbackedObservableList.callObservers(ReadOnlyUnbackedObservableList.java:75)\r\n\tat javafx.scene.control.MultipleSelectionModelBase.clearAndSelect(MultipleSelectionModelBase.java:378)\r\n\tat javafx.scene.control.ListView$ListViewBitSetSelectionModel.clearAndSelect(ListView.java:1403)\r\n\tat com.sun.javafx.scene.control.behavior.CellBehaviorBase.simpleSelect(CellBehaviorBase.java:256)\r\n\tat com.sun.javafx.scene.control.behavior.CellBehaviorBase.doSelect(CellBehaviorBase.java:220)\r\n\tat com.sun.javafx.scene.control.behavior.CellBehaviorBase.mousePressed(CellBehaviorBase.java:150)\r\n\tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:95)\r\n\tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\r\n\tat com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n\tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.scene.Scene$MouseHandler.process(Scene.java:3757)\r\n\tat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)\r\n\tat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)\r\n\tat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:394)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$358(GlassViewEventHandler.java:432)\r\n\tat com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:431)\r\n\tat com.sun.glass.ui.View.handleMouseEvent(View.java:555)\r\n\tat com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.win.WinApplication.lambda$null$152(WinApplication.java:177)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n**Edit 2**: \r\nBoth sorifiend&#39;s and Abra&#39;s code work as intended but not on JDK 8 that includes JavaFX. I used Zulu JDK 17 w/ JavaFX and both of their code worked using that JDK. I&#39;m still looking for a solution since the project I&#39;m working on is set on using Java 8 SE for a desktop application.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47810781/checkcomboboxcontrolsfx-set-to-read-only-javafx\r\n  [2]: https://i.stack.imgur.com/pthtZ.png\r\n  [3]: https://stackoverflow.com/questions/73630307/set-combobox-to-read-only-without-disabling-the-combobox-using-javafx/73630676#73630676","title":"Set ComboBox to read only without disabling the ComboBox using JavaFX","body":"<p>I do not want to disable the <code>ComboBox</code> because I want the user to be able to select the <code>ComboBox</code> button and look through the <code>ComboBox</code> items. And if the user tries selecting an item in the <code>ComboBox</code>, a window should pop up saying the user is in read only mode and the <code>ComboBox</code> should still have the original item in the <code>ComboBox</code> button cell.</p>\n<p>Is there a way to do this?</p>\n<p><a href=\"https://stackoverflow.com/questions/47810781/checkcomboboxcontrolsfx-set-to-read-only-javafx\">By the way, I saw a previous post that asks this same question</a> but using <code>CheckComboBox</code> from <em>ControlsFX</em>. But since I'm using a normal <code>ComboBox</code> from JavaFX 8, the solution from that post does not apply to a standard <code>ComboBox</code>.</p>\n<p>Here's a minimal reproducible code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main extends Application {\n    Stage window;\n    Scene scene;\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        window = primaryStage;\n        window.setTitle(&quot;Read Only ComboBox&quot;);\n\n        ObservableList&lt;String&gt; strings = FXCollections.observableArrayList();\n        for (int i = 0; i &lt;= 10; i++)\n            strings.add(&quot;Item &quot; + i);\n\n        // Create the ComboBox with the data\n        ComboBox&lt;String&gt; comboBox = new ComboBox&lt;&gt;(strings);\n        comboBox.getSelectionModel().select(3);\n\n        // Set comboBox to read only\n\n        HBox layout = new HBox(10);\n        layout.setPadding(new Insets(20, 20, 20,20));\n        layout.getChildren().addAll(comboBox);\n\n        scene = new Scene(layout, 300, 250);\n        window.setScene(scene);\n        window.show();\n    }\n}\n</code></pre>\n<p>And I'm trying to get the <code>ComboBox</code> to look like\n<a href=\"https://i.stack.imgur.com/pthtZ.png\" rel=\"nofollow noreferrer\">this when a user selects the ComboBox button cell.</a> And then once they select any item, a window should pop up saying they are in Read Only mode and the <code>ComboBox</code> should still have &quot;Item 3&quot; selected.</p>\n<p><strong>Edit 1:</strong>\nHere is the full stacktrace using <a href=\"https://stackoverflow.com/questions/73630307/set-combobox-to-read-only-without-disabling-the-combobox-using-javafx/73630676#73630676\">Abra's code</a>. I did not modify any of  the code.</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IndexOutOfBoundsException\nat com.sun.javafx.scene.control.ReadOnlyUnbackedObservableList.subList(ReadOnlyUnbackedObservableList.java:136)\nat javafx.collections.ListChangeListener$Change.getAddedSubList(ListChangeListener.java:242)\nat com.sun.javafx.scene.control.behavior.ListViewBehavior.lambda$new$59(ListViewBehavior.java:269)\nat javafx.collections.WeakListChangeListener.onChanged(WeakListChangeListener.java:88)\nat com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)\nat com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)\nat com.sun.javafx.scene.control.ReadOnlyUnbackedObservableList.callObservers(ReadOnlyUnbackedObservableList.java:75)\nat javafx.scene.control.MultipleSelectionModelBase.clearAndSelect(MultipleSelectionModelBase.java:378)\nat javafx.scene.control.ListView$ListViewBitSetSelectionModel.clearAndSelect(ListView.java:1403)\nat com.sun.javafx.scene.control.behavior.CellBehaviorBase.simpleSelect(CellBehaviorBase.java:256)\nat com.sun.javafx.scene.control.behavior.CellBehaviorBase.doSelect(CellBehaviorBase.java:220)\nat com.sun.javafx.scene.control.behavior.CellBehaviorBase.mousePressed(CellBehaviorBase.java:150)\nat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:95)\nat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\nat com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\nat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\nat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\nat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\nat javafx.event.Event.fireEvent(Event.java:198)\nat javafx.scene.Scene$MouseHandler.process(Scene.java:3757)\nat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)\nat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)\nat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:394)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\nat java.security.AccessController.doPrivileged(Native Method)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$358(GlassViewEventHandler.java:432)\nat com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:431)\nat com.sun.glass.ui.View.handleMouseEvent(View.java:555)\nat com.sun.glass.ui.View.notifyMouse(View.java:937)\nat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\nat com.sun.glass.ui.win.WinApplication.lambda$null$152(WinApplication.java:177)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p><strong>Edit 2</strong>:\nBoth sorifiend's and Abra's code work as intended but not on JDK 8 that includes JavaFX. I used Zulu JDK 17 w/ JavaFX and both of their code worked using that JDK. I'm still looking for a solution since the project I'm working on is set on using Java 8 SE for a desktop application.</p>\n"},{"tags":["java","hibernate","jpa","orm","many-to-many"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1459016695,"post_id":36239030,"comment_id":60108365,"body_markdown":"or maybe the problem is in your persistence code? Perhaps posting it would help?","body":"or maybe the problem is in your persistence code? Perhaps posting it would help?"}],"answers":[{"tags":[],"owner":{"account_id":981284,"reputation":27959,"user_id":1000933,"display_name":"Master Slave"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1459017677,"creation_date":1459017677,"answer_id":36239297,"question_id":36239030,"body_markdown":"You should definitely redesign your relations. \r\n\r\nWithout even getting into the problems with your current save scenario, with bidirectional `@ManyToMany` + `CascadeType.ALL`, you&#39;re destined to get even more troubles. \r\n\r\nFor example, deleting one `bus` will due to cascade, delete all its drivers, which due to cascade again, will delete all its buses. You&#39;ll basically end up deleting much more than you probably want. Also, check the SQL generated by these mappings, you&#39;ll most likely notice that its far from ideal.","title":"@ManyToMany relation not save","body":"<p>You should definitely redesign your relations. </p>\n\n<p>Without even getting into the problems with your current save scenario, with bidirectional <code>@ManyToMany</code> + <code>CascadeType.ALL</code>, you're destined to get even more troubles. </p>\n\n<p>For example, deleting one <code>bus</code> will due to cascade, delete all its drivers, which due to cascade again, will delete all its buses. You'll basically end up deleting much more than you probably want. Also, check the SQL generated by these mappings, you'll most likely notice that its far from ideal.</p>\n"},{"tags":[],"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1459032796,"creation_date":1459032796,"answer_id":36241830,"question_id":36239030,"body_markdown":"That is the expected behaviour. In a bidirectional many-to-many association one side has to be the inverse side. In your case it is the `Bus` side because it contains [`mappedBy`][1]:\r\n\r\n&gt; The field that owns the relationship. Required unless the relationship\r\n&gt; is unidirectional.\r\n\r\nThat means that `Driver` is the owner of the association and Hibernate will only check that side when maintaining the association.\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/ManyToMany.html#mappedBy--","title":"@ManyToMany relation not save","body":"<p>That is the expected behaviour. In a bidirectional many-to-many association one side has to be the inverse side. In your case it is the <code>Bus</code> side because it contains <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/ManyToMany.html#mappedBy--\" rel=\"noreferrer\"><code>mappedBy</code></a>:</p>\n\n<blockquote>\n  <p>The field that owns the relationship. Required unless the relationship\n  is unidirectional.</p>\n</blockquote>\n\n<p>That means that <code>Driver</code> is the owner of the association and Hibernate will only check that side when maintaining the association.</p>\n"},{"tags":[],"owner":{"account_id":393450,"reputation":25,"user_id":4151342,"display_name":"SmokingTurtle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662547147,"creation_date":1662547125,"answer_id":73634066,"question_id":36239030,"body_markdown":"For people doesn&#39;t understand from the accepted answer. This is more appropriate : https://stackoverflow.com/questions/63991124/java-saving-entities-with-manytomany-association\r\n\r\nI came across with this problem in test cases when filling test data.\r\n\r\n**When there is an owning side you just can save child just with owner.** ","title":"@ManyToMany relation not save","body":"<p>For people doesn't understand from the accepted answer. This is more appropriate : <a href=\"https://stackoverflow.com/questions/63991124/java-saving-entities-with-manytomany-association\">Java: saving entities with ManyToMany association</a></p>\n<p>I came across with this problem in test cases when filling test data.</p>\n<p><strong>When there is an owning side you just can save child just with owner.</strong></p>\n"}],"owner":{"account_id":6039751,"reputation":525,"user_id":6067277,"accept_rate":54,"display_name":"Arch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11353,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":36241830,"answer_count":3,"score":7,"last_activity_date":1662547147,"creation_date":1459016292,"question_id":36239030,"body_markdown":"I have some entities with`@ManyToMany` relation:\r\n\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;buses_drivers&quot;,\r\n            joinColumns = @JoinColumn (name = &quot;driver_id_inner&quot;, referencedColumnName = &quot;driver_id&quot;),\r\n            inverseJoinColumns = @JoinColumn (name = &quot;bus_id_inner&quot;, referencedColumnName = &quot;bus_id&quot;))\r\n    private List&lt;Bus&gt; buses;\r\n\r\nand\r\n\r\n    @ManyToMany(mappedBy = &quot;buses&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private List&lt;Driver&gt; drivers;\r\n\r\nWhen execute saving `Driver` model with some `Bus` models, all ok. Tables `buses_drivers` store all keys those entities. But when saving `Bus` model with drivers, table doesn&#39;t change. I think problem with `inverseJoinColmns` mapping.","title":"@ManyToMany relation not save","body":"<p>I have some entities with<code>@ManyToMany</code> relation:</p>\n\n<pre><code>@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JoinTable(name = \"buses_drivers\",\n        joinColumns = @JoinColumn (name = \"driver_id_inner\", referencedColumnName = \"driver_id\"),\n        inverseJoinColumns = @JoinColumn (name = \"bus_id_inner\", referencedColumnName = \"bus_id\"))\nprivate List&lt;Bus&gt; buses;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@ManyToMany(mappedBy = \"buses\", fetch = FetchType.EAGER, cascade = CascadeType.ALL)\nprivate List&lt;Driver&gt; drivers;\n</code></pre>\n\n<p>When execute saving <code>Driver</code> model with some <code>Bus</code> models, all ok. Tables <code>buses_drivers</code> store all keys those entities. But when saving <code>Bus</code> model with drivers, table doesn't change. I think problem with <code>inverseJoinColmns</code> mapping.</p>\n"},{"tags":["java","maven","apache-flink","apache-zookeeper"],"comments":[{"owner":{"account_id":7688955,"reputation":1260,"user_id":5825844,"display_name":"Chesnay Schepler"},"score":0,"creation_date":1662546847,"post_id":73632565,"comment_id":130029169,"body_markdown":"Why are you bundling all these Flink dependencies? Are you creating a sort-of standalone application that runs without having to be submitted to a Flink cluster?","body":"Why are you bundling all these Flink dependencies? Are you creating a sort-of standalone application that runs without having to be submitted to a Flink cluster?"}],"answers":[{"tags":[],"owner":{"account_id":7688955,"reputation":1260,"user_id":5825844,"display_name":"Chesnay Schepler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662546857,"creation_date":1662546857,"answer_id":73634013,"question_id":73632565,"body_markdown":"My guess is that you somehow end up with flink-shaded-zookeeper 3.4 on the classpath. Please check the logs for the classpath (near the top) and scan for additional flink-shaded-zookeeper jars.\r\n\r\n","title":"Flink with shaded zookeeper: java.lang.NoSuchMethodError for QuorumMaj","body":"<p>My guess is that you somehow end up with flink-shaded-zookeeper 3.4 on the classpath. Please check the logs for the classpath (near the top) and scan for additional flink-shaded-zookeeper jars.</p>\n"}],"owner":{"account_id":5767825,"reputation":445,"user_id":4552188,"display_name":"Dimitrios"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73634013,"answer_count":1,"score":0,"last_activity_date":1662546857,"creation_date":1662540501,"question_id":73632565,"body_markdown":"I&#39;m deploying a Flink standaloneApplication mode with high availability enabled (via zookeeper).\r\n\r\nBot the JobManager and the TaskManager initialization fail on:\r\n\r\n```\r\n[2022-09-07 09:09:28,871] ERROR [org.apache.flink.runtime.entrypoint.ClusterEntrypoint] - Could not start cluster entrypoint StandaloneApplicationClusterEntryPoint.\r\norg.apache.flink.runtime.entrypoint.ClusterEntrypointException: Failed to initialize the cluster entrypoint StandaloneApplicationClusterEntryPoint.\r\n\tat org.apache.flink.runtime.entrypoint.ClusterEntrypoint.startCluster(ClusterEntrypoint.java:250) ~[jobs-0.1.1-20220907.080009-87.jar:?]\r\n\tat org.apache.flink.runtime.entrypoint.ClusterEntrypoint.runClusterEntrypoint(ClusterEntrypoint.java:711) [jobs-0.1.1-20220907.080009-87.jar:?]\r\n\tat org.apache.flink.container.entrypoint.StandaloneApplicationClusterEntryPoint.main(StandaloneApplicationClusterEntryPoint.java:82) [jobs-0.1.1-20220907.080009-87.jar:?]\r\nCaused by: java.lang.NoSuchMethodError: &#39;void org.apache.flink.shaded.zookeeper3.org.apache.zookeeper.server.quorum.flexible.QuorumMaj.&lt;init&gt;(java.util.Map)&#39;\r\n\tat org.apache.flink.shaded.curator5.org.apache.curator.framework.imps.EnsembleTracker.&lt;init&gt;(EnsembleTracker.java:57) ~[jobs-0.1.1-20220907.080009-87.jar:?]\r\n\tat org.apache.flink.shaded.curator5.org.apache.curator.framework.imps.CuratorFrameworkImpl.&lt;init&gt;(CuratorFrameworkImpl.java:187) ~[jobs-0.1.1-20220907.080009-87.jar:?]\r\n\tat org.apache.flink.shaded.curator5.org.apache.curator.framework.CuratorFrameworkFactory$Builder.build(CuratorFrameworkFactory.java:188) ~[jobs-0.1.1-20220907.080009-87.jar:?]\r\n\tat org.apache.flink.runtime.util.ZooKeeperUtils.startCuratorFramework(ZooKeeperUtils.java:289) ~[jobs-0.1.1-20220907.080009-87.jar:?]\r\n\tat org.apache.flink.runtime.util.ZooKeeperUtils.startCuratorFramework(ZooKeeperUtils.java:274) ~[jobs-0.1.1-20220907.080009-87.jar:?]\r\n\tat org.apache.flink.runtime.highavailability.HighAvailabilityServicesUtils.createZooKeeperHaServices(HighAvailabilityServicesUtils.java:90) ~[jobs-0.1.1-20220907.080009-87.jar:?]\r\n\tat org.apache.flink.runtime.highavailability.HighAvailabilityServicesUtils.createHighAvailabilityServices(HighAvailabilityServicesUtils.java:140) ~[jobs-0.1.1-20220907.080009-87.jar:?]\r\n\tat org.apache.flink.runtime.entrypoint.ClusterEntrypoint.createHaServices(ClusterEntrypoint.java:427) ~[jobs-0.1.1-20220907.080009-87.jar:?]\r\n\tat org.apache.flink.runtime.entrypoint.ClusterEntrypoint.initializeServices(ClusterEntrypoint.java:376) ~[jobs-0.1.1-20220907.080009-87.jar:?]\r\n\tat org.apache.flink.runtime.entrypoint.ClusterEntrypoint.runCluster(ClusterEntrypoint.java:277) ~[jobs-0.1.1-20220907.080009-87.jar:?]\r\n\tat org.apache.flink.runtime.entrypoint.ClusterEntrypoint.lambda$startCluster$1(ClusterEntrypoint.java:227) ~[jobs-0.1.1-20220907.080009-87.jar:?]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n```\r\n\r\nI&#39;m building the a fat jar with maven and I have included compile dependencies on shaded-zookeper from flink (version 1.15.2 with Java 11). Pom looks like:\r\n\r\n```xml\r\n&lt;...\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${flink.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${flink.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${flink.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-avro&lt;/artifactId&gt;\r\n            &lt;version&gt;${flink.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-connector-kafka&lt;/artifactId&gt;\r\n            &lt;version&gt;${flink.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-container&lt;/artifactId&gt;\r\n            &lt;version&gt;${flink.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;${flink.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;${flink.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-metrics-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${flink.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-shaded-zookeeper-3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.3-15.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n../&gt;\r\n```\r\n\r\nI tried adding the shaded curator in the pom file (and explicitly in classpath) but also didn&#39;t work. I have also tried using shaded zookeeper version 3.4 and 3.5 but also without any success.\r\n\r\n\r\nIs there an incompatibility with zookeeper and curator? Any ideas how to proceed?","title":"Flink with shaded zookeeper: java.lang.NoSuchMethodError for QuorumMaj","body":"<p>I'm deploying a Flink standaloneApplication mode with high availability enabled (via zookeeper).</p>\n<p>Bot the JobManager and the TaskManager initialization fail on:</p>\n<pre><code>[2022-09-07 09:09:28,871] ERROR [org.apache.flink.runtime.entrypoint.ClusterEntrypoint] - Could not start cluster entrypoint StandaloneApplicationClusterEntryPoint.\norg.apache.flink.runtime.entrypoint.ClusterEntrypointException: Failed to initialize the cluster entrypoint StandaloneApplicationClusterEntryPoint.\n    at org.apache.flink.runtime.entrypoint.ClusterEntrypoint.startCluster(ClusterEntrypoint.java:250) ~[jobs-0.1.1-20220907.080009-87.jar:?]\n    at org.apache.flink.runtime.entrypoint.ClusterEntrypoint.runClusterEntrypoint(ClusterEntrypoint.java:711) [jobs-0.1.1-20220907.080009-87.jar:?]\n    at org.apache.flink.container.entrypoint.StandaloneApplicationClusterEntryPoint.main(StandaloneApplicationClusterEntryPoint.java:82) [jobs-0.1.1-20220907.080009-87.jar:?]\nCaused by: java.lang.NoSuchMethodError: 'void org.apache.flink.shaded.zookeeper3.org.apache.zookeeper.server.quorum.flexible.QuorumMaj.&lt;init&gt;(java.util.Map)'\n    at org.apache.flink.shaded.curator5.org.apache.curator.framework.imps.EnsembleTracker.&lt;init&gt;(EnsembleTracker.java:57) ~[jobs-0.1.1-20220907.080009-87.jar:?]\n    at org.apache.flink.shaded.curator5.org.apache.curator.framework.imps.CuratorFrameworkImpl.&lt;init&gt;(CuratorFrameworkImpl.java:187) ~[jobs-0.1.1-20220907.080009-87.jar:?]\n    at org.apache.flink.shaded.curator5.org.apache.curator.framework.CuratorFrameworkFactory$Builder.build(CuratorFrameworkFactory.java:188) ~[jobs-0.1.1-20220907.080009-87.jar:?]\n    at org.apache.flink.runtime.util.ZooKeeperUtils.startCuratorFramework(ZooKeeperUtils.java:289) ~[jobs-0.1.1-20220907.080009-87.jar:?]\n    at org.apache.flink.runtime.util.ZooKeeperUtils.startCuratorFramework(ZooKeeperUtils.java:274) ~[jobs-0.1.1-20220907.080009-87.jar:?]\n    at org.apache.flink.runtime.highavailability.HighAvailabilityServicesUtils.createZooKeeperHaServices(HighAvailabilityServicesUtils.java:90) ~[jobs-0.1.1-20220907.080009-87.jar:?]\n    at org.apache.flink.runtime.highavailability.HighAvailabilityServicesUtils.createHighAvailabilityServices(HighAvailabilityServicesUtils.java:140) ~[jobs-0.1.1-20220907.080009-87.jar:?]\n    at org.apache.flink.runtime.entrypoint.ClusterEntrypoint.createHaServices(ClusterEntrypoint.java:427) ~[jobs-0.1.1-20220907.080009-87.jar:?]\n    at org.apache.flink.runtime.entrypoint.ClusterEntrypoint.initializeServices(ClusterEntrypoint.java:376) ~[jobs-0.1.1-20220907.080009-87.jar:?]\n    at org.apache.flink.runtime.entrypoint.ClusterEntrypoint.runCluster(ClusterEntrypoint.java:277) ~[jobs-0.1.1-20220907.080009-87.jar:?]\n    at org.apache.flink.runtime.entrypoint.ClusterEntrypoint.lambda$startCluster$1(ClusterEntrypoint.java:227) ~[jobs-0.1.1-20220907.080009-87.jar:?]\n    at java.security.AccessController.doPrivileged(Native Method) ~[?:?]\n</code></pre>\n<p>I'm building the a fat jar with maven and I have included compile dependencies on shaded-zookeper from flink (version 1.15.2 with Java 11). Pom looks like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;...\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-java&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-core&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-avro&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-connector-kafka&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-container&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-runtime&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-metrics-core&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-shaded-zookeeper-3&lt;/artifactId&gt;\n            &lt;version&gt;3.6.3-15.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n../&gt;\n</code></pre>\n<p>I tried adding the shaded curator in the pom file (and explicitly in classpath) but also didn't work. I have also tried using shaded zookeeper version 3.4 and 3.5 but also without any success.</p>\n<p>Is there an incompatibility with zookeeper and curator? Any ideas how to proceed?</p>\n"},{"tags":["java","sql","postgresql","jpa","jpql"],"comments":[{"owner":{"account_id":4237332,"reputation":1500,"user_id":3468135,"accept_rate":50,"display_name":"stuck"},"score":0,"creation_date":1662458893,"post_id":73620091,"comment_id":130004711,"body_markdown":"What&#39;s your database?","body":"What&#39;s your database?"},{"owner":{"account_id":12704081,"reputation":888,"user_id":9229931,"display_name":"Danilo K&#246;rber"},"score":0,"creation_date":1662459101,"post_id":73620091,"comment_id":130004795,"body_markdown":"@stuck PostgreSQL","body":"@stuck PostgreSQL"},{"owner":{"account_id":1577492,"reputation":2635,"user_id":1463595,"display_name":"Evgeniy Chekan"},"score":0,"creation_date":1662463138,"post_id":73620091,"comment_id":130006091,"body_markdown":"&quot;I expect to get back only Karolyn and Michel&quot; I think you meant Kalinda and not Karolyn, because `he` is not present in Karolyn&#39;s last name","body":"&quot;I expect to get back only Karolyn and Michel&quot; I think you meant Kalinda and not Karolyn, because <code>he</code> is not present in Karolyn&#39;s last name"},{"owner":{"account_id":12704081,"reputation":888,"user_id":9229931,"display_name":"Danilo K&#246;rber"},"score":0,"creation_date":1662464710,"post_id":73620091,"comment_id":130006672,"body_markdown":"Thanks @EvgeniyChekan. You are absolutely right. I changed the text.","body":"Thanks @EvgeniyChekan. You are absolutely right. I changed the text."}],"answers":[{"tags":[],"owner":{"account_id":13464337,"reputation":87,"user_id":9715206,"display_name":"Random it guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662458623,"creation_date":1662458623,"answer_id":73620170,"question_id":73620091,"body_markdown":"So if I&#39;m understanding correctly, you want to get everyone that has both strings somewhere in their full name.\r\n\r\nWould this work ?\r\n\r\n    SELECT * FROM table WHERE firstName+&#39; &#39;+lastName LIKE &#39;%ka%&#39; AND firstName+&#39; &#39;+lastName LIKE &#39;%he%&#39;","title":"Search for multiple values in multiple columns in SQL","body":"<p>So if I'm understanding correctly, you want to get everyone that has both strings somewhere in their full name.</p>\n<p>Would this work ?</p>\n<pre><code>SELECT * FROM table WHERE firstName+' '+lastName LIKE '%ka%' AND firstName+' '+lastName LIKE '%he%'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4237332,"reputation":1500,"user_id":3468135,"accept_rate":50,"display_name":"stuck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662462455,"creation_date":1662462135,"answer_id":73620930,"question_id":73620091,"body_markdown":"For PostgreSQL, there is a great feature called [similar to][1].\r\n\r\nSimply, you can search different keys using a regex pattern. For example:\r\n\r\n    select * from table where firstName similar to &#39;%(ka|he)%&#39;\r\n\r\nIn your case, you can also look `lastName` because you want to search both.\r\n \r\nSo, you may check following query and [this SQLFiddler link][2]:\r\n\r\n    select * from mytable where lower(firstName) similar to &#39;%(he|ka)%&#39; OR lower(lastName) similar to &#39;%(he|ka)%&#39;\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/functions-matching.html#FUNCTIONS-SIMILARTO-REGEXP\r\n  [2]: http://sqlfiddle.com/#!17/2108a/2/0","title":"Search for multiple values in multiple columns in SQL","body":"<p>For PostgreSQL, there is a great feature called <a href=\"https://www.postgresql.org/docs/current/functions-matching.html#FUNCTIONS-SIMILARTO-REGEXP\" rel=\"nofollow noreferrer\">similar to</a>.</p>\n<p>Simply, you can search different keys using a regex pattern. For example:</p>\n<pre><code>select * from table where firstName similar to '%(ka|he)%'\n</code></pre>\n<p>In your case, you can also look <code>lastName</code> because you want to search both.</p>\n<p>So, you may check following query and <a href=\"http://sqlfiddle.com/#!17/2108a/2/0\" rel=\"nofollow noreferrer\">this SQLFiddler link</a>:</p>\n<pre><code>select * from mytable where lower(firstName) similar to '%(he|ka)%' OR lower(lastName) similar to '%(he|ka)%'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12704081,"reputation":888,"user_id":9229931,"display_name":"Danilo K&#246;rber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662546761,"creation_date":1662546761,"answer_id":73633992,"question_id":73620091,"body_markdown":"I was finally able to find a solution using regex and the `~` operator of PostgreSQL:\r\n\r\n```sql\r\nSELECT * FROM table WHERE LOWER(CONCAT(firstName, &#39; &#39;, lastName)) ~ &#39;^(?=.*he)(?=.*ka).*$&#39;\r\n```\r\n\r\nFor more values I just have to add `(?=.*value)` to the regex.","title":"Search for multiple values in multiple columns in SQL","body":"<p>I was finally able to find a solution using regex and the <code>~</code> operator of PostgreSQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM table WHERE LOWER(CONCAT(firstName, ' ', lastName)) ~ '^(?=.*he)(?=.*ka).*$'\n</code></pre>\n<p>For more values I just have to add <code>(?=.*value)</code> to the regex.</p>\n"}],"owner":{"account_id":12704081,"reputation":888,"user_id":9229931,"display_name":"Danilo K&#246;rber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73633992,"answer_count":3,"score":0,"last_activity_date":1662546761,"creation_date":1662458229,"question_id":73620091,"body_markdown":"I have the following table in my database:\r\n\r\n| firstName | lastName  |\r\n| --------- | --------- |\r\n| Kalinda   | Hemms     | \r\n| Karolyn   | Greenwood |\r\n| Aaron     | Walework  |\r\n| Michel    | Jurka     |\r\n\r\nNow I want to create a query with multiple strings that should return only the records with that string. For example, searching for `ka`, should return **Kalinda**, **Karolyn**, and **Michel**. This is simple and I am achieving this with\r\n```sql\r\nSELECT * FROM table WHERE firstName LIKE &#39;%ka%&#39; OR lastName LIKE &#39;%ka&#39;\r\n```\r\n\r\nNow how do I create a query when my search is `ka he`? I expect to get back only **Kalinda** and **Michel**, since both values `ka` and `he` are present in their names. The biggest problem I am having is that the amount of values is unknown. \r\n\r\nActually I am working with JPA, but any help is welcomed.\r\n\r\n***WHAT I TRIED***\r\n\r\nI am making one query for each value, concatenating the results, and removing duplicates. But this brings me back **Kalinda**, **Karolyn**, and **Michel**. **Karolyn** is not supposed to be there since she does not have the value `he` in her name. Also multiple queries is not the best for the database...\r\n\r\n***EDIT AFTER SOME ANSWERS***\r\n\r\nAfter looking at some answers that helped me (hopefully) in the right direction, what I am looking for is a way to replace the `|` operator for an `AND` operator:\r\n\r\n```sql\r\nSELECT * FROM table WHERE CONCAT(firstName, lastName) SIMILAR TO &#39;%(he|ka)%&#39;\r\n```","title":"Search for multiple values in multiple columns in SQL","body":"<p>I have the following table in my database:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>firstName</th>\n<th>lastName</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Kalinda</td>\n<td>Hemms</td>\n</tr>\n<tr>\n<td>Karolyn</td>\n<td>Greenwood</td>\n</tr>\n<tr>\n<td>Aaron</td>\n<td>Walework</td>\n</tr>\n<tr>\n<td>Michel</td>\n<td>Jurka</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Now I want to create a query with multiple strings that should return only the records with that string. For example, searching for <code>ka</code>, should return <strong>Kalinda</strong>, <strong>Karolyn</strong>, and <strong>Michel</strong>. This is simple and I am achieving this with</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM table WHERE firstName LIKE '%ka%' OR lastName LIKE '%ka'\n</code></pre>\n<p>Now how do I create a query when my search is <code>ka he</code>? I expect to get back only <strong>Kalinda</strong> and <strong>Michel</strong>, since both values <code>ka</code> and <code>he</code> are present in their names. The biggest problem I am having is that the amount of values is unknown.</p>\n<p>Actually I am working with JPA, but any help is welcomed.</p>\n<p><em><strong>WHAT I TRIED</strong></em></p>\n<p>I am making one query for each value, concatenating the results, and removing duplicates. But this brings me back <strong>Kalinda</strong>, <strong>Karolyn</strong>, and <strong>Michel</strong>. <strong>Karolyn</strong> is not supposed to be there since she does not have the value <code>he</code> in her name. Also multiple queries is not the best for the database...</p>\n<p><em><strong>EDIT AFTER SOME ANSWERS</strong></em></p>\n<p>After looking at some answers that helped me (hopefully) in the right direction, what I am looking for is a way to replace the <code>|</code> operator for an <code>AND</code> operator:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM table WHERE CONCAT(firstName, lastName) SIMILAR TO '%(he|ka)%'\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662550371,"post_id":73633975,"comment_id":130030553,"body_markdown":"Well dn&#39;t upgrade and use proper mechanisms instead? What is it you wanted to achieve in the first place? What you have here feels like you are working around the Spring properties injection/processing instead of working with it.","body":"Well dn&#39;t upgrade and use proper mechanisms instead? What is it you wanted to achieve in the first place? What you have here feels like you are working around the Spring properties injection/processing instead of working with it."},{"owner":{"account_id":26269806,"reputation":1,"user_id":19939872,"display_name":"Divya Bansal"},"score":0,"creation_date":1662568952,"post_id":73633975,"comment_id":130038201,"body_markdown":"I tried using PropertyPlaceholderHelper , but then it is giving error in process property method","body":"I tried using PropertyPlaceholderHelper , but then it is giving error in process property method"},{"owner":{"account_id":26269806,"reputation":1,"user_id":19939872,"display_name":"Divya Bansal"},"score":0,"creation_date":1662629105,"post_id":73633975,"comment_id":130051478,"body_markdown":"Due to security issue we have to update the spring version","body":"Due to security issue we have to update the spring version"}],"owner":{"account_id":26269806,"reputation":1,"user_id":19939872,"display_name":"Divya Bansal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662546703,"creation_date":1662546665,"question_id":73633975,"body_markdown":"I am trying to Upgrade my code from Spring 4.x version to Spring 5.x version but getting error due to parseStringValue method as it is removed in Spring5. the ${propertyPath} location is present in server I am running the file.\r\n\r\n    @Configuration\r\n    @PropertySource(name=&quot;load&quot;, value={&quot;file:${propertyPath}/property.config&quot;})\r\n    public class PropertiesUtil extends PropertyPlaceholderConfigurer {\r\n       private static Map propertiesMap;\r\n     \r\n       @Override\r\n       protected void processProperties(ConfigurableListableBeanFactory beanFactory,\r\n                 Properties props) throws BeansException {\r\n            super.processProperties(beanFactory, props);\r\n     \r\n            propertiesMap = new HashMap&lt;String, String&gt;();\r\n            for (Object key : props.keySet()) {\r\n                String keyStr = key.toString();\r\n                propertiesMap.put(keyStr, parseStringValue(props.getProperty(keyStr),\r\n                    props, new HashSet()));\r\n            }\r\n        }\r\n        public static String getProperty(String name) {\r\n            return propertiesMap.get(name);\r\n        }\r\n    }","title":"How can I upgrade my below code into spring5.x from spring4.x","body":"<p>I am trying to Upgrade my code from Spring 4.x version to Spring 5.x version but getting error due to parseStringValue method as it is removed in Spring5. the ${propertyPath} location is present in server I am running the file.</p>\n<pre><code>@Configuration\n@PropertySource(name=&quot;load&quot;, value={&quot;file:${propertyPath}/property.config&quot;})\npublic class PropertiesUtil extends PropertyPlaceholderConfigurer {\n   private static Map propertiesMap;\n \n   @Override\n   protected void processProperties(ConfigurableListableBeanFactory beanFactory,\n             Properties props) throws BeansException {\n        super.processProperties(beanFactory, props);\n \n        propertiesMap = new HashMap&lt;String, String&gt;();\n        for (Object key : props.keySet()) {\n            String keyStr = key.toString();\n            propertiesMap.put(keyStr, parseStringValue(props.getProperty(keyStr),\n                props, new HashSet()));\n        }\n    }\n    public static String getProperty(String name) {\n        return propertiesMap.get(name);\n    }\n}\n</code></pre>\n"},{"tags":["java","opencv","video-capture","unsatisfiedlinkerror"],"answers":[{"tags":[],"owner":{"account_id":2346717,"reputation":39339,"user_id":2056772,"display_name":"berak"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1432407265,"creation_date":1378365614,"answer_id":18630108,"question_id":18625948,"body_markdown":"in your second example , you skipped this line\r\n\r\n     System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n\r\nso the opencv libs werent loaded, UnsatisfiedLinkError, etc...\r\n\r\n\r\n[edit]:\r\n\r\nthanks to  @Jishnu Prathap for highlighting the java.library path issue, if you run into problems setting that, you can still try to use an absolute path to the java wrapper so/dll/dylib like:\r\n\r\n\r\n     System.load(&quot;/path to/our/java_wrapper&quot;);\r\n","title":"OpenCV + Java = UnsatisfiedLinkError","body":"<p>in your second example , you skipped this line</p>\n\n<pre><code> System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n</code></pre>\n\n<p>so the opencv libs werent loaded, UnsatisfiedLinkError, etc...</p>\n\n<p>[edit]:</p>\n\n<p>thanks to  @Jishnu Prathap for highlighting the java.library path issue, if you run into problems setting that, you can still try to use an absolute path to the java wrapper so/dll/dylib like:</p>\n\n<pre><code> System.load(\"/path to/our/java_wrapper\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1432407169,"creation_date":1432407169,"answer_id":30416436,"question_id":18625948,"body_markdown":"I had a similar error while using OpenCV with java.I did 2 things to resolve it.\r\n\r\n 1. `static{ System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }` \r\n 2. I added the path to OpenCV dll or .so to javalibpath or path. which actually didnt work for some reason and i ended up putting the ***OpenCV dll in the system32 folder***.  ","title":"OpenCV + Java = UnsatisfiedLinkError","body":"<p>I had a similar error while using OpenCV with java.I did 2 things to resolve it.</p>\n\n<ol>\n<li><code>static{ System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }</code> </li>\n<li>I added the path to OpenCV dll or .so to javalibpath or path. which actually didnt work for some reason and i ended up putting the <strong><em>OpenCV dll in the system32 folder</em></strong>.  </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5399589,"reputation":311,"user_id":4299810,"accept_rate":56,"display_name":"Varu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450297653,"creation_date":1450297653,"answer_id":34321473,"question_id":18625948,"body_markdown":"So, I was having this problem too and I did what you all suggested, it worked fine in my x64 windows, but in a x86 couldn&#39;t make it work.\r\n\r\nAt last I found a solution by changing:\r\n\r\n    VideoCapture capture = new VideoCapture(0);\r\n\r\nfor\r\n\r\n\t\tVideoCapture capture = new VideoCapture();\r\n\t\tcapture.open(&quot;resources/vid.MP4&quot;);\r\n\r\nI don&#39;t know why this worked but I hope it may help somebody with my same problem.","title":"OpenCV + Java = UnsatisfiedLinkError","body":"<p>So, I was having this problem too and I did what you all suggested, it worked fine in my x64 windows, but in a x86 couldn't make it work.</p>\n\n<p>At last I found a solution by changing:</p>\n\n<pre><code>VideoCapture capture = new VideoCapture(0);\n</code></pre>\n\n<p>for</p>\n\n<pre><code>    VideoCapture capture = new VideoCapture();\n    capture.open(\"resources/vid.MP4\");\n</code></pre>\n\n<p>I don't know why this worked but I hope it may help somebody with my same problem.</p>\n"},{"tags":[],"owner":{"account_id":9565924,"reputation":11,"user_id":7105230,"display_name":"Samira Pouyanfar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501715148,"creation_date":1501714732,"answer_id":45472282,"question_id":18625948,"body_markdown":"\r\n**For general users using opencv3.x:**\r\n\r\nHighGUI module does not exist anymore in Java for opencv 3.0 and above.\r\n\r\n\r\n\r\n    import org.opencv.videoio.VideoCapture;\r\n\r\ninstead of \r\n\r\n    import org.opencv.highgui.VideoCapture;\r\n\r\n\r\nvideoio includes VideoCapture, VideoWriter.\r\n\r\nSimilarly:\r\n  \r\nimgcodecs includes imread/imwrite and friends\r\n\r\n**Example:**\r\n\r\n    Highgui.imread(fileName)\r\n--&gt;\r\n\r\n     Imgcodecs.imread(fileName)\r\n\r\n\r\n","title":"OpenCV + Java = UnsatisfiedLinkError","body":"<p><strong>For general users using opencv3.x:</strong></p>\n\n<p>HighGUI module does not exist anymore in Java for opencv 3.0 and above.</p>\n\n<pre><code>import org.opencv.videoio.VideoCapture;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>import org.opencv.highgui.VideoCapture;\n</code></pre>\n\n<p>videoio includes VideoCapture, VideoWriter.</p>\n\n<p>Similarly:</p>\n\n<p>imgcodecs includes imread/imwrite and friends</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>Highgui.imread(fileName)\n</code></pre>\n\n<p>--></p>\n\n<pre><code> Imgcodecs.imread(fileName)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11598306,"reputation":391,"user_id":8496330,"display_name":"Bala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662546698,"creation_date":1527658353,"answer_id":50596978,"question_id":18625948,"body_markdown":"Try the below code \r\n\r\n```lang-java\r\nimport org.opencv.core.CvType;\r\nimport org.opencv.core.Mat;\r\n\r\nimport nu.pattern.OpenCV;\r\n\r\npublic class OpencvMain\r\n{\r\n\tpublic static void main( String[] args )\r\n\t{\r\n\t\tOpenCV.loadLocally();\r\n\t\tMat mat = Mat.eye( 3, 3, CvType.CV_8UC1 );\r\n\t\tSystem.out.println( &quot;mat = &quot; + mat.dump() );\r\n\t}\r\n}\r\n```","title":"OpenCV + Java = UnsatisfiedLinkError","body":"<p>Try the below code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.opencv.core.CvType;\nimport org.opencv.core.Mat;\n\nimport nu.pattern.OpenCV;\n\npublic class OpencvMain\n{\n    public static void main( String[] args )\n    {\n        OpenCV.loadLocally();\n        Mat mat = Mat.eye( 3, 3, CvType.CV_8UC1 );\n        System.out.println( &quot;mat = &quot; + mat.dump() );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4964984,"reputation":1596,"user_id":6212983,"accept_rate":25,"display_name":"Harsha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611247889,"creation_date":1611247889,"answer_id":65832050,"question_id":18625948,"body_markdown":"I tried a lot of tutorials online for the resolution, only one of them have helped me.\r\nThere are two steps that are different in this method, \r\n\r\nFirstly, while importing the java project from Opencv SDK into the Android studio, make sure to **uncheck all the checkboxes** presented in the import dialog. \r\n\r\nSecondly, make sure you import the **OpenCV.mk** file that is in the native/jdk of the SDK.. \r\n\r\nThe System.loadLibrary() seems to return true after this, which was a huge relief for me as it took me several hours to figure this out\r\n\r\nHere&#39;s the link to the tutorial that helped me\r\nhttps://medium.com/@rdeep/android-opencv-integration-without-opencv-manager-c259ef14e73b","title":"OpenCV + Java = UnsatisfiedLinkError","body":"<p>I tried a lot of tutorials online for the resolution, only one of them have helped me.\nThere are two steps that are different in this method,</p>\n<p>Firstly, while importing the java project from Opencv SDK into the Android studio, make sure to <strong>uncheck all the checkboxes</strong> presented in the import dialog.</p>\n<p>Secondly, make sure you import the <strong>OpenCV.mk</strong> file that is in the native/jdk of the SDK..</p>\n<p>The System.loadLibrary() seems to return true after this, which was a huge relief for me as it took me several hours to figure this out</p>\n<p>Here's the link to the tutorial that helped me\n<a href=\"https://medium.com/@rdeep/android-opencv-integration-without-opencv-manager-c259ef14e73b\" rel=\"nofollow noreferrer\">https://medium.com/@rdeep/android-opencv-integration-without-opencv-manager-c259ef14e73b</a></p>\n"}],"owner":{"account_id":3263926,"reputation":241,"user_id":2748820,"display_name":"efmoyano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34600,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":6,"score":24,"last_activity_date":1662546698,"creation_date":1378341288,"question_id":18625948,"body_markdown":"I need capture a video stream from my USB webcam, for this i use Opencv 2.4.6 for developing in Java. I follow the steps listed in [here][1]\r\n\r\n\r\n  [1]: http://docs.opencv.org/doc/tutorials/introduction/desktop_java/java_dev_intro.html#java-project-in-eclipse\r\n\r\nI add the &quot;C:\\opencv\\build\\java\\x64&quot; dir to my System PATH and include the &quot;opencv-246.jar&quot; file into my libraries on ECLIPSE. When y run the explame \r\n\r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.CvType;\r\n    import org.opencv.core.Mat;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n            Mat m  = Mat.eye(3, 3, CvType.CV_8UC1);\r\n            System.out.println(&quot;m = &quot; + m.dump());\r\n        }\r\n    }\r\n\r\n\r\ni get \r\n\r\n    m = [1, 0, 0;\r\n      0, 1, 0;\r\n      0, 0, 1]\r\n\r\n\r\nOK =)\r\n\r\nbut when i run \r\n\r\n    import org.opencv.highgui.VideoCapture;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            VideoCapture vc = new VideoCapture(0);\r\n            if(vc.isOpened()){\r\n            \tSystem.out.println(&quot;Works!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\ni get \r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: org.opencv.highgui.VideoCapture.n_VideoCapture(I)J\r\n    \tat org.opencv.highgui.VideoCapture.n_VideoCapture(Native Method)\r\n    \tat org.opencv.highgui.VideoCapture.&lt;init&gt;(VideoCapture.java:113)\r\n    \tat Main.main(Main.java:5)\r\n\r\n\r\n\r\n\r\ni add all the routes containes in:\r\n\r\n&gt; C:\\opencv\\build\\x64\\vc10\r\n\r\none by one,but doesn`t work.\r\n\r\nFinally i create a variable called OPENCV_DIR with C:\\opencv\\build\\x64\\vc10 but still getting UnsatisfiedLinkError.\r\n\r\n\r\nPLEASE HELP ME!\r\n","title":"OpenCV + Java = UnsatisfiedLinkError","body":"<p>I need capture a video stream from my USB webcam, for this i use Opencv 2.4.6 for developing in Java. I follow the steps listed in <a href=\"http://docs.opencv.org/doc/tutorials/introduction/desktop_java/java_dev_intro.html#java-project-in-eclipse\">here</a></p>\n\n<p>I add the \"C:\\opencv\\build\\java\\x64\" dir to my System PATH and include the \"opencv-246.jar\" file into my libraries on ECLIPSE. When y run the explame </p>\n\n<pre><code>import org.opencv.core.Core;\nimport org.opencv.core.CvType;\nimport org.opencv.core.Mat;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n        Mat m  = Mat.eye(3, 3, CvType.CV_8UC1);\n        System.out.println(\"m = \" + m.dump());\n    }\n}\n</code></pre>\n\n<p>i get </p>\n\n<pre><code>m = [1, 0, 0;\n  0, 1, 0;\n  0, 0, 1]\n</code></pre>\n\n<p>OK =)</p>\n\n<p>but when i run </p>\n\n<pre><code>import org.opencv.highgui.VideoCapture;\n\npublic class Main {\n    public static void main(String[] args) {\n        VideoCapture vc = new VideoCapture(0);\n        if(vc.isOpened()){\n            System.out.println(\"Works!\");\n        }\n    }\n}\n</code></pre>\n\n<p>i get </p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: org.opencv.highgui.VideoCapture.n_VideoCapture(I)J\n    at org.opencv.highgui.VideoCapture.n_VideoCapture(Native Method)\n    at org.opencv.highgui.VideoCapture.&lt;init&gt;(VideoCapture.java:113)\n    at Main.main(Main.java:5)\n</code></pre>\n\n<p>i add all the routes containes in:</p>\n\n<blockquote>\n  <p>C:\\opencv\\build\\x64\\vc10</p>\n</blockquote>\n\n<p>one by one,but doesn`t work.</p>\n\n<p>Finally i create a variable called OPENCV_DIR with C:\\opencv\\build\\x64\\vc10 but still getting UnsatisfiedLinkError.</p>\n\n<p>PLEASE HELP ME!</p>\n"},{"tags":["java","class","object","dictionary","literals"],"comments":[{"owner":{"account_id":91900,"reputation":4872,"user_id":252116,"display_name":"Ilia K."},"score":0,"creation_date":1338352077,"post_id":3798083,"comment_id":14067456,"body_markdown":"See also [initialize java HashSet values by construction](http://stackoverflow.com/questions/2041778/initialize-java-hashset-values-by-construction) question.","body":"See also <a href=\"http://stackoverflow.com/questions/2041778/initialize-java-hashset-values-by-construction\">initialize java HashSet values by construction</a> question."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":2,"up_vote_count":37,"is_accepted":false,"score":35,"last_activity_date":1285511308,"creation_date":1285509304,"answer_id":3798100,"question_id":3798083,"body_markdown":"No, Java doesn&#39;t have a map literal. The closest you&#39;ll come to this is using Google Collections&#39; [ImmutableMap][1]:\r\n\r\n    Map&lt;K,V&gt; CONSTANTS = ImmutableMap.of(\r\n        NAME_1, VALUE_1,\r\n        NAME_2, VALUE_2\r\n        //etc.\r\n      );\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ImmutableMap.html","title":"Is there a best practice for writing maps literal style in Java?","body":"<p>No, Java doesn't have a map literal. The closest you'll come to this is using Google Collections' <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ImmutableMap.html\" rel=\"noreferrer\">ImmutableMap</a>:</p>\n\n<pre><code>Map&lt;K,V&gt; CONSTANTS = ImmutableMap.of(\n    NAME_1, VALUE_1,\n    NAME_2, VALUE_2\n    //etc.\n  );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1285510257,"creation_date":1285510257,"answer_id":3798155,"question_id":3798083,"body_markdown":"Here&#39;s another way, best suited for maps that won&#39;t be changing:\r\n\r\n    public class Whatever {\r\n        private static Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\r\n    \r\n        static {\r\n            map.put(&quot;A&quot;, &quot;Apple&quot;);\r\n            map.put(&quot;B&quot;, &quot;Banana&quot;);\r\n            // etc\r\n        }\r\n    }","title":"Is there a best practice for writing maps literal style in Java?","body":"<p>Here's another way, best suited for maps that won't be changing:</p>\n\n<pre><code>public class Whatever {\n    private static Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\n\n    static {\n        map.put(\"A\", \"Apple\");\n        map.put(\"B\", \"Banana\");\n        // etc\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92109,"reputation":44036,"user_id":252591,"accept_rate":64,"display_name":"Crozin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1285511747,"creation_date":1285511747,"answer_id":3798244,"question_id":3798083,"body_markdown":"Java7 suppose to implement following syntax:\r\n\r\n    Map&lt;String, String&gt; = {\r\n        &quot;key1&quot;: &quot;value&quot;,\r\n        &quot;key2&quot;: &quot;value&quot;,\r\n        &quot;key3&quot;: &quot;value&quot;,\r\n        &quot;key4&quot;: &quot;value&quot;\r\n    };\r\n\r\nHowever now you&#39;re forced to use solutions proposed by Jorn or Tony Ennis.","title":"Is there a best practice for writing maps literal style in Java?","body":"<p>Java7 suppose to implement following syntax:</p>\n\n<pre><code>Map&lt;String, String&gt; = {\n    \"key1\": \"value\",\n    \"key2\": \"value\",\n    \"key3\": \"value\",\n    \"key4\": \"value\"\n};\n</code></pre>\n\n<p>However now you're forced to use solutions proposed by Jorn or Tony Ennis.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1285511811,"creation_date":1285511811,"answer_id":3798249,"question_id":3798083,"body_markdown":"*Constants*? I&#39;d use an [enum][1].\r\n\r\n    public enum Constants { \r\n        NAME_1(&quot;Value1&quot;),\r\n        NAME_2(&quot;Value2&quot;),\r\n        NAME_3(&quot;Value3&quot;);\r\n\r\n        private String value;\r\n \r\n        Constants(String value) {\r\n            this.value = value;\r\n        }\r\n\r\n        public String value() {\r\n            return value;\r\n        }\r\n    }\r\n\r\nValue for e.g. `NAME_2` can be obtained as follows:\r\n\r\n    String name2value = Constants.NAME_2.value();\r\n\r\nOnly give the enum a bit more sensible name, e.g. `Settings`, `Defaults`, etc, whatever those name/value pairs *actually* represent.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/java/javaOO/enum.html","title":"Is there a best practice for writing maps literal style in Java?","body":"<p><em>Constants</em>? I'd use an <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"noreferrer\">enum</a>.</p>\n\n<pre><code>public enum Constants { \n    NAME_1(\"Value1\"),\n    NAME_2(\"Value2\"),\n    NAME_3(\"Value3\");\n\n    private String value;\n\n    Constants(String value) {\n        this.value = value;\n    }\n\n    public String value() {\n        return value;\n    }\n}\n</code></pre>\n\n<p>Value for e.g. <code>NAME_2</code> can be obtained as follows:</p>\n\n<pre><code>String name2value = Constants.NAME_2.value();\n</code></pre>\n\n<p>Only give the enum a bit more sensible name, e.g. <code>Settings</code>, <code>Defaults</code>, etc, whatever those name/value pairs <em>actually</em> represent.</p>\n"},{"tags":[],"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285512482,"creation_date":1285512482,"answer_id":3798285,"question_id":3798083,"body_markdown":"Ok, with Jorn&#39;s improvement I can&#39;t seem to change the map at all, internally or externally. Perhaps not quite as readable, but if you need the map to be unmodifiable I think this is better.\r\n\r\n    public class MapTest {\r\n        private static Map&lt;String, String&gt; map = initMap();\r\n    \r\n        private static Map&lt;String, String&gt; initMap() {\r\n            Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    \r\n            map.put(&quot;A&quot;, &quot;Apple&quot;);\r\n            map.put(&quot;B&quot;, &quot;Banana&quot;);\r\n            // etc\r\n            return Collections.unmodifiableMap(map);\r\n        }\r\n    \r\n        public Map&lt;String, String&gt; getMap() {\r\n            return map;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            MapTest m = new MapTest();\r\n            System.out.println(m.getMap().get(&quot;A&quot;));\r\n            m.getMap().put(&quot;this&quot;, &quot;that&quot;);\r\n        }\r\n    }","title":"Is there a best practice for writing maps literal style in Java?","body":"<p>Ok, with Jorn's improvement I can't seem to change the map at all, internally or externally. Perhaps not quite as readable, but if you need the map to be unmodifiable I think this is better.</p>\n\n<pre><code>public class MapTest {\n    private static Map&lt;String, String&gt; map = initMap();\n\n    private static Map&lt;String, String&gt; initMap() {\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n\n        map.put(\"A\", \"Apple\");\n        map.put(\"B\", \"Banana\");\n        // etc\n        return Collections.unmodifiableMap(map);\n    }\n\n    public Map&lt;String, String&gt; getMap() {\n        return map;\n    }\n\n    public static void main(String[] args) {\n        MapTest m = new MapTest();\n        System.out.println(m.getMap().get(\"A\"));\n        m.getMap().put(\"this\", \"that\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1285547301,"creation_date":1285547301,"answer_id":3800434,"question_id":3798083,"body_markdown":"Sorry, I&#39;m a tinkerer :-)  Here&#39;s a somewhat cleaner way.\r\n\r\n    public class MapTest {\r\n        private static Map&lt;String, String&gt; map;\r\n    \r\n        static {\r\n            Map&lt;String, String&gt; tmpMap = new HashMap&lt;String, String&gt;();\r\n    \r\n            tmpMap.put(&quot;A&quot;, &quot;Apple&quot;);\r\n            tmpMap.put(&quot;B&quot;, &quot;Banana&quot;);\r\n            // etc\r\n            map = Collections.unmodifiableMap(tmpMap);\r\n        }\r\n    \r\n        public Map&lt;String, String&gt; getMap() {\r\n            return map;\r\n        }\r\n    }","title":"Is there a best practice for writing maps literal style in Java?","body":"<p>Sorry, I'm a tinkerer :-)  Here's a somewhat cleaner way.</p>\n\n<pre><code>public class MapTest {\n    private static Map&lt;String, String&gt; map;\n\n    static {\n        Map&lt;String, String&gt; tmpMap = new HashMap&lt;String, String&gt;();\n\n        tmpMap.put(\"A\", \"Apple\");\n        tmpMap.put(\"B\", \"Banana\");\n        // etc\n        map = Collections.unmodifiableMap(tmpMap);\n    }\n\n    public Map&lt;String, String&gt; getMap() {\n        return map;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1285548085,"creation_date":1285548085,"answer_id":3800465,"question_id":3798083,"body_markdown":"You can write yourself a quick helper function:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic static &lt;K,V&gt; Map&lt;K,V&gt; ImmutableMap(Object... keyValPair){\r\n\t\tMap&lt;K,V&gt; map = new HashMap&lt;K,V&gt;();\r\n\t\t\r\n\t\tif(keyValPair.length % 2 != 0){\r\n\t\t\tthrow new IllegalArgumentException(&quot;Keys and values must be pairs.&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; keyValPair.length; i += 2){\r\n\t\t\tmap.put((K) keyValPair[i], (V) keyValPair[i+1]);\r\n\t\t}\r\n\t\t\r\n\t\treturn Collections.unmodifiableMap(map);\r\n\t}\r\n\r\nNote the code above isn&#39;t going to stop you from overwriting constants of the same name, using `CONST_1` multiple places in your list will result in the final `CONST_1`&#39;s value appearing.\r\n\r\nUsage is something like:\r\n\r\n    Map&lt;String,Double&gt; constants = ImmutableMap(\r\n        &quot;CONST_0&quot;, 1.0,\r\n        &quot;CONST_1&quot;, 2.0\r\n    );","title":"Is there a best practice for writing maps literal style in Java?","body":"<p>You can write yourself a quick helper function:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic static &lt;K,V&gt; Map&lt;K,V&gt; ImmutableMap(Object... keyValPair){\n    Map&lt;K,V&gt; map = new HashMap&lt;K,V&gt;();\n\n    if(keyValPair.length % 2 != 0){\n        throw new IllegalArgumentException(\"Keys and values must be pairs.\");\n    }\n\n    for(int i = 0; i &lt; keyValPair.length; i += 2){\n        map.put((K) keyValPair[i], (V) keyValPair[i+1]);\n    }\n\n    return Collections.unmodifiableMap(map);\n}\n</code></pre>\n\n<p>Note the code above isn't going to stop you from overwriting constants of the same name, using <code>CONST_1</code> multiple places in your list will result in the final <code>CONST_1</code>'s value appearing.</p>\n\n<p>Usage is something like:</p>\n\n<pre><code>Map&lt;String,Double&gt; constants = ImmutableMap(\n    \"CONST_0\", 1.0,\n    \"CONST_1\", 2.0\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55041,"reputation":11192,"user_id":164802,"display_name":"xpmatteo"},"down_vote_count":5,"up_vote_count":58,"is_accepted":false,"score":53,"last_activity_date":1299263202,"creation_date":1299263202,"answer_id":5197741,"question_id":3798083,"body_markdown":"I like to do it this way:\r\n\r\n    Map map = new HashMap() {{\r\n        put(&quot;foo&quot;, &quot;bar&quot;);\r\n        put(123, 456);\r\n    }};\r\n\r\nThe double {{ }} are an instance initialization block.  They are a bit unusual but they are useful.  No need for libraries or helpers.\r\n","title":"Is there a best practice for writing maps literal style in Java?","body":"<p>I like to do it this way:</p>\n\n<pre><code>Map map = new HashMap() {{\n    put(\"foo\", \"bar\");\n    put(123, 456);\n}};\n</code></pre>\n\n<p>The double {{ }} are an instance initialization block.  They are a bit unusual but they are useful.  No need for libraries or helpers.</p>\n"},{"tags":[],"owner":{"account_id":1301807,"reputation":1960,"user_id":1251543,"display_name":"cobbzilla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333869629,"creation_date":1333867456,"answer_id":10060922,"question_id":3798083,"body_markdown":"I like to do the declaration and initialization on the same line. I&#39;ve used this handy little utility for so long it basically **is** my &quot;map literal&quot; and until they&#39;re done &quot;right&quot; in the languange, I&#39;m gonna continue on using it like that :)\r\n\r\nHappy to share it here.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n\r\n    /**\r\n     * A handy utility for creating and initializing Maps in a single statement.\r\n     * @author Jonathan Cobb. This source code is in the Public Domain.\r\n     */\r\n    public class MapBuilder {\r\n    \r\n        /**\r\n         * Most common create/init case. Usage:\r\n         *\r\n         *   Map&lt;String, Boolean&gt; myPremadeMap = MapBuilder.build(new Object[][]{\r\n         *     { &quot;a&quot;, true }, { &quot;b&quot;, false }, { &quot;c&quot;, true }, { &quot;d&quot;, true },\r\n         *     { &quot;e&quot;, &quot;yes, still dangerous but at least it&#39;s not an anonymous class&quot; }\r\n         *   });\r\n         *\r\n         * If your keys and values are of the same type, it will even be typesafe:\r\n         *   Map&lt;String, String&gt; someProperties = MapBuilder.build(new String[][]{\r\n         *       {&quot;propA&quot;, &quot;valueA&quot; }, { &quot;propB&quot;, &quot;valueB&quot; }\r\n         *   });\r\n         *\r\n         * @param values [x][2] array. items at [x][0] are keys and [x][1] are values.\r\n         * @return a LinkedHashMap (to preserve order of declaration) with the &quot;values&quot; mappings\r\n         */\r\n        public static &lt;K,V&gt; Map&lt;K,V&gt; build(Object[][] values) {\r\n            return build(new LinkedHashMap&lt;K,V&gt;(), values);\r\n        }\r\n    \r\n        /**\r\n         * Usage:\r\n         *  Map&lt;K,V&gt; myMap = MapBuilder.build(new MyMapClass(options),\r\n         *                                    new Object[][]{ {k,v}, {k,v}, ... });\r\n         * @param map add key/value pairs to this map\r\n         * @return the map passed in, now containing new &quot;values&quot; mappings\r\n         */\r\n        public static &lt;K,V&gt; Map&lt;K,V&gt; build(Map&lt;K,V&gt; map, Object[][] values) {\r\n            for (Object[] value : values) {\r\n                map.put((K) value[0], (V) value[1]);\r\n            }\r\n            return map;\r\n        }\r\n    \r\n        /** Same as above, for single-value maps */\r\n        public static &lt;K,V&gt; Map&lt;K,V&gt; build(Map&lt;K,V&gt; map, K key, V value) {\r\n            return build(map, new Object[][]{{key,value}});\r\n        }\r\n    \r\n        /**\r\n         * Usage:\r\n         *  Map&lt;K,V&gt; myMap = MapBuilder.build(MyMapClass.class, new Object[][]{ {k,v}, {k,v}, ... });\r\n         * @param mapClass a Class that implements Map\r\n         * @return the map passed in, now containing new &quot;values&quot; mappings\r\n         */\r\n        public static &lt;K,V&gt; Map&lt;K,V&gt; build(Class&lt;? extends Map&lt;K,V&gt;&gt; mapClass, Object[][] values) {\r\n    \r\n            final Map&lt;K,V&gt; map;\r\n            try { map = mapClass.newInstance(); } catch (Exception e) {\r\n                throw new IllegalStateException(&quot;Couldn&#39;t create new instance of class: &quot;+mapClass.getName(), e);\r\n            }\r\n            return build(map, values);\r\n        }\r\n    \r\n        /** Usage: Map&lt;K,V&gt; myMap = MapBuilder.build(key, value); */\r\n        public static &lt;K,V&gt; Map build(K key, V value) {\r\n            Map&lt;K,V&gt; map = new HashMap&lt;&gt;();\r\n            map.put(key, value);\r\n            return map;\r\n        }\r\n    \r\n    }\r\n","title":"Is there a best practice for writing maps literal style in Java?","body":"<p>I like to do the declaration and initialization on the same line. I've used this handy little utility for so long it basically <strong>is</strong> my \"map literal\" and until they're done \"right\" in the languange, I'm gonna continue on using it like that :)</p>\n\n<p>Happy to share it here.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\n/**\n * A handy utility for creating and initializing Maps in a single statement.\n * @author Jonathan Cobb. This source code is in the Public Domain.\n */\npublic class MapBuilder {\n\n    /**\n     * Most common create/init case. Usage:\n     *\n     *   Map&lt;String, Boolean&gt; myPremadeMap = MapBuilder.build(new Object[][]{\n     *     { \"a\", true }, { \"b\", false }, { \"c\", true }, { \"d\", true },\n     *     { \"e\", \"yes, still dangerous but at least it's not an anonymous class\" }\n     *   });\n     *\n     * If your keys and values are of the same type, it will even be typesafe:\n     *   Map&lt;String, String&gt; someProperties = MapBuilder.build(new String[][]{\n     *       {\"propA\", \"valueA\" }, { \"propB\", \"valueB\" }\n     *   });\n     *\n     * @param values [x][2] array. items at [x][0] are keys and [x][1] are values.\n     * @return a LinkedHashMap (to preserve order of declaration) with the \"values\" mappings\n     */\n    public static &lt;K,V&gt; Map&lt;K,V&gt; build(Object[][] values) {\n        return build(new LinkedHashMap&lt;K,V&gt;(), values);\n    }\n\n    /**\n     * Usage:\n     *  Map&lt;K,V&gt; myMap = MapBuilder.build(new MyMapClass(options),\n     *                                    new Object[][]{ {k,v}, {k,v}, ... });\n     * @param map add key/value pairs to this map\n     * @return the map passed in, now containing new \"values\" mappings\n     */\n    public static &lt;K,V&gt; Map&lt;K,V&gt; build(Map&lt;K,V&gt; map, Object[][] values) {\n        for (Object[] value : values) {\n            map.put((K) value[0], (V) value[1]);\n        }\n        return map;\n    }\n\n    /** Same as above, for single-value maps */\n    public static &lt;K,V&gt; Map&lt;K,V&gt; build(Map&lt;K,V&gt; map, K key, V value) {\n        return build(map, new Object[][]{{key,value}});\n    }\n\n    /**\n     * Usage:\n     *  Map&lt;K,V&gt; myMap = MapBuilder.build(MyMapClass.class, new Object[][]{ {k,v}, {k,v}, ... });\n     * @param mapClass a Class that implements Map\n     * @return the map passed in, now containing new \"values\" mappings\n     */\n    public static &lt;K,V&gt; Map&lt;K,V&gt; build(Class&lt;? extends Map&lt;K,V&gt;&gt; mapClass, Object[][] values) {\n\n        final Map&lt;K,V&gt; map;\n        try { map = mapClass.newInstance(); } catch (Exception e) {\n            throw new IllegalStateException(\"Couldn't create new instance of class: \"+mapClass.getName(), e);\n        }\n        return build(map, values);\n    }\n\n    /** Usage: Map&lt;K,V&gt; myMap = MapBuilder.build(key, value); */\n    public static &lt;K,V&gt; Map build(K key, V value) {\n        Map&lt;K,V&gt; map = new HashMap&lt;&gt;();\n        map.put(key, value);\n        return map;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1344426,"reputation":1432,"user_id":1285431,"accept_rate":41,"display_name":"mzzzzb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662546464,"creation_date":1662546464,"answer_id":73633926,"question_id":3798083,"body_markdown":"Since Java 9, you can create unmodifiable maps out of the box - \r\n\r\n    Map&lt;String, String&gt; emptymap = Map.of();\r\n    Map&lt;String, String&gt; map = Map.of(&quot;key1&quot;, &quot;val1&quot;); \r\n\r\nthere are variants supporting upto 10 keypairs.\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of()\r\n\r\nThis is also supported https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#ofEntries(java.util.Map.Entry...)\r\n\r\n     import static java.util.Map.entry;\r\n\r\n     Map&lt;Integer,String&gt; map = Map.ofEntries(\r\n         entry(1, &quot;a&quot;),\r\n         entry(2, &quot;b&quot;),\r\n         entry(3, &quot;c&quot;),\r\n         ...\r\n         entry(26, &quot;z&quot;));\r\n","title":"Is there a best practice for writing maps literal style in Java?","body":"<p>Since Java 9, you can create unmodifiable maps out of the box -</p>\n<pre><code>Map&lt;String, String&gt; emptymap = Map.of();\nMap&lt;String, String&gt; map = Map.of(&quot;key1&quot;, &quot;val1&quot;); \n</code></pre>\n<p>there are variants supporting upto 10 keypairs.\n<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of()</a></p>\n<p>This is also supported <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#ofEntries(java.util.Map.Entry...)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#ofEntries(java.util.Map.Entry...)</a></p>\n<pre><code> import static java.util.Map.entry;\n\n Map&lt;Integer,String&gt; map = Map.ofEntries(\n     entry(1, &quot;a&quot;),\n     entry(2, &quot;b&quot;),\n     entry(3, &quot;c&quot;),\n     ...\n     entry(26, &quot;z&quot;));\n</code></pre>\n"}],"owner":{"account_id":116709,"reputation":4927,"user_id":305949,"accept_rate":95,"display_name":"FK82"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15718,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":3798249,"answer_count":10,"score":29,"last_activity_date":1662546464,"creation_date":1285509127,"question_id":3798083,"body_markdown":"In short, if you want to write a map of e.g. constants in Java, which in e.g. Python and Javascript you would write as a literal, \r\n\r\n    T&lt;String,String&gt; CONSTANTS =\r\n    {\r\n        &quot;CONSTANT_NAME_0&quot;: CONSTANT_VALUE_0 ,\r\n        &quot;CONSTANT_NAME_1&quot;: CONSTANT_VALUE_1 ,\r\n        &quot;CONSTANT_NAME_2&quot;: CONSTANT_VALUE_2 ,\r\n        //...\r\n    } ;\r\n\r\nis there a `Class` or any preset `Object` that you can use for writing a data structure like that?","title":"Is there a best practice for writing maps literal style in Java?","body":"<p>In short, if you want to write a map of e.g. constants in Java, which in e.g. Python and Javascript you would write as a literal, </p>\n\n<pre><code>T&lt;String,String&gt; CONSTANTS =\n{\n    \"CONSTANT_NAME_0\": CONSTANT_VALUE_0 ,\n    \"CONSTANT_NAME_1\": CONSTANT_VALUE_1 ,\n    \"CONSTANT_NAME_2\": CONSTANT_VALUE_2 ,\n    //...\n} ;\n</code></pre>\n\n<p>is there a <code>Class</code> or any preset <code>Object</code> that you can use for writing a data structure like that?</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662546306,"creation_date":1662546306,"answer_id":73633893,"question_id":73627367,"body_markdown":"According to the [docs](https://docs.oracle.com/javaee/7/api/javax/persistence/IdClass.html) you should have the fields in your class and not an `@EmbeddedId`\r\n```\r\n@Entity\r\n@IdClass(ArtistLabelId.class)\r\n@Table(name=&quot;artist_label&quot;,\r\n        indexes = {@Index(name = &quot;artist_idx&quot;, columnList = &quot;artist_id&quot;)})\r\npublic class ArtistLabel {\r\n    @Id\r\n    private String artistId;\r\n    @Id\r\n    private Long labelId;\r\n\r\n    @Id\r\n    @Column (name = &quot;artist_id&quot;)\r\n    private String artistId;\r\n\r\n    @Id\r\n    @ManyToOne\r\n    @MapsId(&quot;labelId&quot;)\r\n    @JoinColumn(name = &quot;label_id&quot;)\r\n    private Label label;\r\n\r\n    public ArtistLabel() {\r\n    }\r\n\r\n    public ArtistLabel(String artistId, Label label) {\r\n        this.artistId = artistId;\r\n        this.label = label;\r\n    }\r\n\r\n   // setters and getters\r\n}\r\n```\r\nAnd i think you can get rid of `@Embeddable` on `ArtistLabelId`.\r\n\r\nOtherwise you can use `@Embeddable` and `@EmbeddedId` instead of `@IdClass`","title":"Spring JPA Property of @IdClass not found in entity","body":"<p>According to the <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/IdClass.html\" rel=\"nofollow noreferrer\">docs</a> you should have the fields in your class and not an <code>@EmbeddedId</code></p>\n<pre><code>@Entity\n@IdClass(ArtistLabelId.class)\n@Table(name=&quot;artist_label&quot;,\n        indexes = {@Index(name = &quot;artist_idx&quot;, columnList = &quot;artist_id&quot;)})\npublic class ArtistLabel {\n    @Id\n    private String artistId;\n    @Id\n    private Long labelId;\n\n    @Id\n    @Column (name = &quot;artist_id&quot;)\n    private String artistId;\n\n    @Id\n    @ManyToOne\n    @MapsId(&quot;labelId&quot;)\n    @JoinColumn(name = &quot;label_id&quot;)\n    private Label label;\n\n    public ArtistLabel() {\n    }\n\n    public ArtistLabel(String artistId, Label label) {\n        this.artistId = artistId;\n        this.label = label;\n    }\n\n   // setters and getters\n}\n</code></pre>\n<p>And i think you can get rid of <code>@Embeddable</code> on <code>ArtistLabelId</code>.</p>\n<p>Otherwise you can use <code>@Embeddable</code> and <code>@EmbeddedId</code> instead of <code>@IdClass</code></p>\n"}],"owner":{"account_id":10972451,"reputation":33,"user_id":8062200,"display_name":"Daniel Morales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662546306,"creation_date":1662495499,"question_id":73627367,"body_markdown":"I&#39;m getting this error `Property of @IdClass not found in entity com.pandora.label.entity.ArtistLabel: labelId`\r\n\r\nThese are the tables. they are already created and populated. I can alter the tables but would like to not recreate them. I&#39;m combining the `artist_id` and `label_id` to create a primary key\r\n\r\n```\r\nCREATE TABLE label (\r\n    id               BIGSERIAL PRIMARY KEY,\r\n    name             TEXT NOT NULL UNIQUE,\r\n    parent_label_id  BIGINT REFERENCES label(id)\r\n)\r\nCREATE INDEX album_uid_idx ON album_label(id);\r\n\r\nCREATE TABLE artist_label (\r\n    artist_id         VARCHAR(60) NOT NULL,\r\n    label_id          BIGINT NOT NULL,\r\n\r\n    PRIMARY KEY (artist_id, label_id)\r\n);\r\n\r\nCREATE INDEX artist_label_idx ON artist_label(label_id);\r\n\r\nALTER TABLE artist_label ADD CONSTRAINT artist_label_fk FOREIGN KEY (label_id) REFERENCES label(id);\r\n```\r\n\r\nthese are the Entities\r\n\r\n```\r\n@Embeddable\r\npublic class ArtistLabelId implements Serializable {\r\n    private String artistId;\r\n    private Long labelId;\r\n\r\n    public ArtistLabelId() {\r\n    }\r\n\r\n    // setters and getters\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@IdClass(ArtistLabelId.class)\r\n@Table(name=&quot;artist_label&quot;,\r\n        indexes = {@Index(name = &quot;artist_idx&quot;, columnList = &quot;artist_id&quot;)})\r\npublic class ArtistLabel {\r\n\r\n    @EmbeddedId\r\n    private ArtistLabelId id;\r\n\r\n    @Id\r\n    @Column (name = &quot;artist_id&quot;)\r\n    private String artistId;\r\n\r\n    @Id\r\n    @ManyToOne\r\n    @MapsId(&quot;labelId&quot;)\r\n    @JoinColumn(name = &quot;label_id&quot;)\r\n    private Label label;\r\n\r\n    public ArtistLabel() {\r\n    }\r\n\r\n    public ArtistLabel(String artistId, Label label) {\r\n        this.artistId = artistId;\r\n        this.label = label;\r\n    }\r\n\r\n   // setters and getters\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name=&quot;label&quot;)\r\npublic class Label {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator=&quot;label_generator&quot;)\r\n    @SequenceGenerator(name= &quot;label_generator&quot;, sequenceName = &quot;label_id_seq&quot;, allocationSize = 1)\r\n    @Column(name = &quot;id&quot;)\r\n    private long labelId;\r\n\r\n    @Column (name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;parent_label_id&quot;)\r\n    private Label parentLabel; //references parent label\r\n\r\n    @Column(name = &quot;create_date&quot;)\r\n    private Timestamp createDate;\r\n\r\n    @Column(name = &quot;last_modified&quot;)\r\n    private Timestamp lastModified;\r\n\r\n    public Label(){\r\n        //no-arg constructor for JPA\r\n    }\r\n    \r\n    // setters and getters\r\n```\r\nthis is the repository\r\n```\r\n@Repository\r\npublic interface ArtistLabelRepository extends CrudRepository&lt;ArtistLabel, ArtistLabelId&gt; {\r\n```\r\nand this is the test. I&#39;m trying to save an artistLabel\r\n```\r\n@Test\r\n    public void testFindByArtistId(){\r\n        Label label1 = new Label(&quot;label1&quot;, null);\r\n        labelRepository.save(label1);\r\n        ArtistLabel artistLabel1 = new ArtistLabel(&quot;artistId1&quot;, label1);\r\n        artistLabelRepository.save(artistLabel1);\r\n    }\r\n\r\n\r\n","title":"Spring JPA Property of @IdClass not found in entity","body":"<p>I'm getting this error <code>Property of @IdClass not found in entity com.pandora.label.entity.ArtistLabel: labelId</code></p>\n<p>These are the tables. they are already created and populated. I can alter the tables but would like to not recreate them. I'm combining the <code>artist_id</code> and <code>label_id</code> to create a primary key</p>\n<pre><code>CREATE TABLE label (\n    id               BIGSERIAL PRIMARY KEY,\n    name             TEXT NOT NULL UNIQUE,\n    parent_label_id  BIGINT REFERENCES label(id)\n)\nCREATE INDEX album_uid_idx ON album_label(id);\n\nCREATE TABLE artist_label (\n    artist_id         VARCHAR(60) NOT NULL,\n    label_id          BIGINT NOT NULL,\n\n    PRIMARY KEY (artist_id, label_id)\n);\n\nCREATE INDEX artist_label_idx ON artist_label(label_id);\n\nALTER TABLE artist_label ADD CONSTRAINT artist_label_fk FOREIGN KEY (label_id) REFERENCES label(id);\n</code></pre>\n<p>these are the Entities</p>\n<pre><code>@Embeddable\npublic class ArtistLabelId implements Serializable {\n    private String artistId;\n    private Long labelId;\n\n    public ArtistLabelId() {\n    }\n\n    // setters and getters\n}\n</code></pre>\n<pre><code>@Entity\n@IdClass(ArtistLabelId.class)\n@Table(name=&quot;artist_label&quot;,\n        indexes = {@Index(name = &quot;artist_idx&quot;, columnList = &quot;artist_id&quot;)})\npublic class ArtistLabel {\n\n    @EmbeddedId\n    private ArtistLabelId id;\n\n    @Id\n    @Column (name = &quot;artist_id&quot;)\n    private String artistId;\n\n    @Id\n    @ManyToOne\n    @MapsId(&quot;labelId&quot;)\n    @JoinColumn(name = &quot;label_id&quot;)\n    private Label label;\n\n    public ArtistLabel() {\n    }\n\n    public ArtistLabel(String artistId, Label label) {\n        this.artistId = artistId;\n        this.label = label;\n    }\n\n   // setters and getters\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name=&quot;label&quot;)\npublic class Label {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator=&quot;label_generator&quot;)\n    @SequenceGenerator(name= &quot;label_generator&quot;, sequenceName = &quot;label_id_seq&quot;, allocationSize = 1)\n    @Column(name = &quot;id&quot;)\n    private long labelId;\n\n    @Column (name = &quot;name&quot;)\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;parent_label_id&quot;)\n    private Label parentLabel; //references parent label\n\n    @Column(name = &quot;create_date&quot;)\n    private Timestamp createDate;\n\n    @Column(name = &quot;last_modified&quot;)\n    private Timestamp lastModified;\n\n    public Label(){\n        //no-arg constructor for JPA\n    }\n    \n    // setters and getters\n</code></pre>\n<p>this is the repository</p>\n<pre><code>@Repository\npublic interface ArtistLabelRepository extends CrudRepository&lt;ArtistLabel, ArtistLabelId&gt; {\n</code></pre>\n<p>and this is the test. I'm trying to save an artistLabel</p>\n<pre><code>@Test\n    public void testFindByArtistId(){\n        Label label1 = new Label(&quot;label1&quot;, null);\n        labelRepository.save(label1);\n        ArtistLabel artistLabel1 = new ArtistLabel(&quot;artistId1&quot;, label1);\n        artistLabelRepository.save(artistLabel1);\n    }\n\n\n</code></pre>\n"},{"tags":["java","linux","gradle"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1662544032,"post_id":73633278,"comment_id":130028111,"body_markdown":"Please [edit] your question to provide answers to: 1. How do you launch gradle? Give the exact command line, if applicable. 2. What&#39;s the output of `which java`? 3. Did you disable daemon mode in Gradle? 4. How do you verify that the wrong Java version is used?","body":"Please <a href=\"https://stackoverflow.com/posts/73633278/edit\">edit</a> your question to provide answers to: 1. How do you launch gradle? Give the exact command line, if applicable. 2. What&#39;s the output of <code>which java</code>? 3. Did you disable daemon mode in Gradle? 4. How do you verify that the wrong Java version is used?"},{"owner":{"account_id":4499647,"reputation":82,"user_id":3658533,"display_name":"3m7ecc"},"score":0,"creation_date":1662545131,"post_id":73633278,"comment_id":130028525,"body_markdown":"@JoachimSauer I added the information !","body":"@JoachimSauer I added the information !"},{"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"score":1,"creation_date":1662559026,"post_id":73633278,"comment_id":130034176,"body_markdown":"My understanding is that in Gradle, there is both a Client VM (i.e. the wrapper application), a daemon VM (the main orchestrator) and a worker VM (the compiler) that all might use different versions of Java, depending on the configuration. And I am not sure which one is wrong. Is the output of `./gradlew --version` also Java 17? (It should be controlled with the `JAVA_HOME` environment variable.)","body":"My understanding is that in Gradle, there is both a Client VM (i.e. the wrapper application), a daemon VM (the main orchestrator) and a worker VM (the compiler) that all might use different versions of Java, depending on the configuration. And I am not sure which one is wrong. Is the output of <code>.&#47;gradlew --version</code> also Java 17? (It should be controlled with the <code>JAVA_HOME</code> environment variable.)"},{"owner":{"account_id":4499647,"reputation":82,"user_id":3658533,"display_name":"3m7ecc"},"score":0,"creation_date":1662637207,"post_id":73633278,"comment_id":130054530,"body_markdown":"@Bj&#248;rnVester `./gradlew --version` outputs, that it uses `1.8.0`. It only seems to be the compiler, that (wherever it may get this information) keeps on using java 17.","body":"@Bj&#248;rnVester <code>.&#47;gradlew --version</code> outputs, that it uses <code>1.8.0</code>. It only seems to be the compiler, that (wherever it may get this information) keeps on using java 17."}],"owner":{"account_id":4499647,"reputation":82,"user_id":3658533,"display_name":"3m7ecc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662546195,"creation_date":1662543793,"question_id":73633278,"body_markdown":"I&#39;m really sorry to ask this question, since there&#39;s already multiple questions about this exact topic. I tried everything I found so far, but nothing seemed to work.\r\n\r\nWe build our project with Gradle and it&#39;s running on Java 8.\r\nI had to install Java 17 for a new project I&#39;m working on and since then Gradle keeps using Java 17, when it shouldn&#39;t.\r\n\r\nMy `JAVA_HOME` is set to 1.8 and the default `java` is also 1.8.\\\r\nAfter reading loads and loads of topics here, I also tried setting `org.gradle.java.home` in the `gradle.properties` file.\\\r\nBut neither on project-level nor on user-level; gradle keeps using 1.17.\\\r\nNow I also installed `jenv` to define an explicit java version on my project-folder. And even though the local, but also the global, java version is set to 1.8 it doesn&#39;t change for gradle.\r\n\r\nIt keeps defaulting to `/usr/lib/jvm/java-17-openjdk-arm64`.\r\n\r\nThe only way it seemed to work, is when I run the gradle command with the argument to set the system variable \\\r\n(`./gradlew build -Dorg.gradle.java.home=/path/to/jdk`)\r\n\r\n\r\nHas anyone had a similar problem or knows, why gradle isn&#39;t using the `java.home` I declared in the `gradle.properties`? \\\r\nI know that gradle reads the project-level `gradle.properties`, since it includes user/password for our maven repository.\r\n\r\nEdit (comment of @joachim-sauer):\r\n\r\n 1. I launch gradle via terminal and use a wrapper, so the exact command is `./gradlew [command]`\r\n 2. `which java` outputs to `/home/user/.jenv/shims` (due to the installation of jenv), whereas `java -version` outputs `java version &quot;1.8.0_181&quot;`\r\n 3. I didn&#39;t explicitly enable or disable daemon-mode, so I guess by default it&#39;s enabled?\r\n 4. gradle fails to build, the error occurs due to a missing package, which was removed since java 11. I also tried logging it, adding `println(System.getProperty(&quot;java.home&quot;)`  to my `build.gradle`. This also outputs `/usr/lib/jvm/java-17-openjdk-arm64`\r\n\r\nBest regards\r\n3m7ecc","title":"Gradle keeps using wrong java version","body":"<p>I'm really sorry to ask this question, since there's already multiple questions about this exact topic. I tried everything I found so far, but nothing seemed to work.</p>\n<p>We build our project with Gradle and it's running on Java 8.\nI had to install Java 17 for a new project I'm working on and since then Gradle keeps using Java 17, when it shouldn't.</p>\n<p>My <code>JAVA_HOME</code> is set to 1.8 and the default <code>java</code> is also 1.8.<br />\nAfter reading loads and loads of topics here, I also tried setting <code>org.gradle.java.home</code> in the <code>gradle.properties</code> file.<br />\nBut neither on project-level nor on user-level; gradle keeps using 1.17.<br />\nNow I also installed <code>jenv</code> to define an explicit java version on my project-folder. And even though the local, but also the global, java version is set to 1.8 it doesn't change for gradle.</p>\n<p>It keeps defaulting to <code>/usr/lib/jvm/java-17-openjdk-arm64</code>.</p>\n<p>The only way it seemed to work, is when I run the gradle command with the argument to set the system variable <br />\n(<code>./gradlew build -Dorg.gradle.java.home=/path/to/jdk</code>)</p>\n<p>Has anyone had a similar problem or knows, why gradle isn't using the <code>java.home</code> I declared in the <code>gradle.properties</code>? <br />\nI know that gradle reads the project-level <code>gradle.properties</code>, since it includes user/password for our maven repository.</p>\n<p>Edit (comment of @joachim-sauer):</p>\n<ol>\n<li>I launch gradle via terminal and use a wrapper, so the exact command is <code>./gradlew [command]</code></li>\n<li><code>which java</code> outputs to <code>/home/user/.jenv/shims</code> (due to the installation of jenv), whereas <code>java -version</code> outputs <code>java version &quot;1.8.0_181&quot;</code></li>\n<li>I didn't explicitly enable or disable daemon-mode, so I guess by default it's enabled?</li>\n<li>gradle fails to build, the error occurs due to a missing package, which was removed since java 11. I also tried logging it, adding <code>println(System.getProperty(&quot;java.home&quot;)</code>  to my <code>build.gradle</code>. This also outputs <code>/usr/lib/jvm/java-17-openjdk-arm64</code></li>\n</ol>\n<p>Best regards\n3m7ecc</p>\n"},{"tags":["java","jvm-arguments"],"answers":[{"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1416303793,"creation_date":1263994582,"answer_id":2101669,"question_id":2101518,"body_markdown":"UseParNewGC usually knowns as &quot;parallel young generation collector&quot; is same in all ways as the parallel garbage collector (-XX:+UseParallelGC), except that its more sophiscated and effiecient. Also it can be used with a &quot;concurrent low pause collector&quot;.\n\nSee [Java GC FAQ][1], question 22 for more information.\n\nNote that there are some known bugs with UseParNewGC \n\n  [1]: https://web.archive.org/web/20110714032357/http://java.sun.com/docs/hotspot/gc1.4.2/faq.html","title":"Difference between -XX:+UseParallelGC and -XX:+UseParNewGC","body":"<p>UseParNewGC usually knowns as &quot;parallel young generation collector&quot; is same in all ways as the parallel garbage collector (-XX:+UseParallelGC), except that its more sophiscated and effiecient. Also it can be used with a &quot;concurrent low pause collector&quot;.</p>\n<p>See <a href=\"https://web.archive.org/web/20110714032357/http://java.sun.com/docs/hotspot/gc1.4.2/faq.html\" rel=\"noreferrer\">Java GC FAQ</a>, question 22 for more information.</p>\n<p>Note that there are some known bugs with UseParNewGC</p>\n"},{"tags":[],"owner":{"account_id":15754,"reputation":8442,"user_id":33622,"accept_rate":88,"display_name":"fglez"},"down_vote_count":1,"up_vote_count":129,"is_accepted":true,"score":128,"last_activity_date":1383899694,"creation_date":1264532711,"answer_id":2141858,"question_id":2101518,"body_markdown":"After a lot of searching, the best explanation I&#39;ve found is from Java Performance Tuning website in [Question of the month: 1.4.1 Garbage collection algorithms, January 29th, 2003][1]\n\n&gt; **Young generation garbage collection algorithms**\n&gt;\n&gt; The *(original) copying collector* (Enabled by default). When this collector kicks in, all application threads are stopped, and the copying collection proceeds using one thread (which means only one CPU even if on a multi-CPU machine). This is known as a stop-the-world collection, because basically the JVM pauses everything else until the collection is completed. \n&gt;\n&gt; The *parallel copying collector* (Enabled using -XX:+UseParNewGC). Like the original copying collector, this is a stop-the-world collector. However this collector parallelizes the copying collection over multiple threads, which is more efficient than the original single-thread copying collector for multi-CPU machines (though not for single-CPU machines). This algorithm potentially speeds up young generation collection by a factor equal to the number of CPUs available, when compared to the original singly-threaded copying collector. \n&gt;\n&gt; The *parallel scavenge collector* (Enabled using -XX:UseParallelGC). This is like the previous parallel copying collector, but the algorithm is tuned for gigabyte heaps (over 10GB) on multi-CPU machines. This collection algorithm is designed to maximize throughput while minimizing pauses. It has an optional adaptive tuning policy which will automatically resize heap spaces. If you use this collector, you can only use the the original mark-sweep collector in the old generation (i.e. the newer old generation concurrent collector cannot work with this young generation collector).\n\nFrom this information, it seems the main difference (apart from CMS cooperation) is that UseParallelGC supports [ergonomics ][2] while UseParNewGC doesn&#39;t.\n\n\n  [1]: http://www.javaperformancetuning.com/news/qotm026.shtml\n  [2]: http://java.sun.com/j2se/1.5.0/docs/guide/vm/gc-ergonomics.html","title":"Difference between -XX:+UseParallelGC and -XX:+UseParNewGC","body":"<p>After a lot of searching, the best explanation I've found is from Java Performance Tuning website in <a href=\"http://www.javaperformancetuning.com/news/qotm026.shtml\" rel=\"noreferrer\">Question of the month: 1.4.1 Garbage collection algorithms, January 29th, 2003</a></p>\n<blockquote>\n<p><strong>Young generation garbage collection algorithms</strong></p>\n<p>The <em>(original) copying collector</em> (Enabled by default). When this collector kicks in, all application threads are stopped, and the copying collection proceeds using one thread (which means only one CPU even if on a multi-CPU machine). This is known as a stop-the-world collection, because basically the JVM pauses everything else until the collection is completed.</p>\n<p>The <em>parallel copying collector</em> (Enabled using -XX:+UseParNewGC). Like the original copying collector, this is a stop-the-world collector. However this collector parallelizes the copying collection over multiple threads, which is more efficient than the original single-thread copying collector for multi-CPU machines (though not for single-CPU machines). This algorithm potentially speeds up young generation collection by a factor equal to the number of CPUs available, when compared to the original singly-threaded copying collector.</p>\n<p>The <em>parallel scavenge collector</em> (Enabled using -XX:UseParallelGC). This is like the previous parallel copying collector, but the algorithm is tuned for gigabyte heaps (over 10GB) on multi-CPU machines. This collection algorithm is designed to maximize throughput while minimizing pauses. It has an optional adaptive tuning policy which will automatically resize heap spaces. If you use this collector, you can only use the the original mark-sweep collector in the old generation (i.e. the newer old generation concurrent collector cannot work with this young generation collector).</p>\n</blockquote>\n<p>From this information, it seems the main difference (apart from CMS cooperation) is that UseParallelGC supports <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/vm/gc-ergonomics.html\" rel=\"noreferrer\">ergonomics </a> while UseParNewGC doesn't.</p>\n"},{"tags":[],"owner":{"account_id":3254254,"reputation":153,"user_id":2743796,"display_name":"Avinash Ganta"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1422360568,"creation_date":1422360568,"answer_id":28170193,"question_id":2101518,"body_markdown":"Using -XX:+UseParNewGC along with -XX:+UseConcMarkSweepGC, will cause higher pause time for Minor GCs, when compared to -XX:+UseParallelGC.\r\n\r\nThis is because, promotion of objects from Young to Old Generation will require running a Best-Fit algorithm (due to old generation fragmentation) to find an address for this object.&lt;br&gt;\r\nRunning such an algorithm is not required when using -XX:+UseParallelGC, as +UseParallelGC can be configured only with MarkandCompact Collector, in which case there is no fragmentation.","title":"Difference between -XX:+UseParallelGC and -XX:+UseParNewGC","body":"<p>Using -XX:+UseParNewGC along with -XX:+UseConcMarkSweepGC, will cause higher pause time for Minor GCs, when compared to -XX:+UseParallelGC.</p>\n\n<p>This is because, promotion of objects from Young to Old Generation will require running a Best-Fit algorithm (due to old generation fragmentation) to find an address for this object.<br>\nRunning such an algorithm is not required when using -XX:+UseParallelGC, as +UseParallelGC can be configured only with MarkandCompact Collector, in which case there is no fragmentation.</p>\n"},{"tags":[],"owner":{"account_id":2994178,"reputation":388,"user_id":2541030,"display_name":"Ivan Herlambang"},"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1435654780,"creation_date":1435653998,"answer_id":31133604,"question_id":2101518,"body_markdown":"[Parallel GC][1]\r\n\r\n - XX:+UseParallelGC\tUse parallel garbage collection for scavenges. (Introduced in 1.4.1)\r\n - XX:+UseParallelOldGC\tUse parallel garbage collection for the full collections. Enabling this option automatically sets -XX:+UseParallelGC. (Introduced in 5.0 update 6.)\r\n\r\n\r\n[UseParNewGC][2]\r\n\r\n&gt; **UseParNewGC**\r\n&gt; A parallel version of the young generation copying collector is used\r\n&gt; with the concurrent collector (i.e. if -XX:+ UseConcMarkSweepGC is\r\n&gt; used on the command line then the flag UseParNewGC is also set to true\r\n&gt; if it is not otherwise explicitly set on the command line).\r\n\r\nPerhaps the easiest way to understand was combinations of garbage collection algorithms made by [Alexey Ragozin][3]\r\n\r\n&lt;!-- begin snippet: js hide: true --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;table border=&quot;1&quot; style=&quot;width:100%&quot;&gt;\r\n      &lt;tr&gt;\r\n        &lt;td align=&quot;center&quot;&gt;Young collector&lt;/td&gt;\r\n        &lt;td align=&quot;center&quot;&gt;Old collector&lt;/td&gt;\r\n        &lt;td align=&quot;center&quot;&gt;JVM option&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;Serial (DefNew)&lt;/td&gt;\r\n        &lt;td&gt;Serial Mark-Sweep-Compact&lt;/td&gt;\r\n        &lt;td&gt;-XX:+UseSerialGC&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;Parallel scavenge (PSYoungGen)&lt;/td&gt;\r\n        &lt;td&gt;Serial Mark-Sweep-Compact (PSOldGen)&lt;/td&gt;\r\n        &lt;td&gt;-XX:+UseParallelGC&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;Parallel scavenge (PSYoungGen)&lt;/td&gt;\r\n        &lt;td&gt;Parallel Mark-Sweep-Compact (ParOldGen)&lt;/td&gt;\r\n        &lt;td&gt;-XX:+UseParallelOldGC&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;Serial (DefNew)&lt;/td&gt;\r\n        &lt;td&gt;Concurrent Mark Sweep&lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;p&gt;-XX:+UseConcMarkSweepGC&lt;/p&gt;\r\n          &lt;p&gt;-XX:-UseParNewGC&lt;/p&gt;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;Parallel (ParNew)&lt;/td&gt;\r\n        &lt;td&gt;Concurrent Mark Sweep&lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;p&gt;-XX:+UseConcMarkSweepGC&lt;/p&gt;\r\n          &lt;p&gt;-XX:+UseParNewGC&lt;/p&gt;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td colspan=&quot;2&quot;&gt;G1&lt;/td&gt;\r\n        &lt;td&gt;-XX:+UseG1GC&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nConclusion:\r\n\r\n 1. Apply -XX:+UseParallelGC when you require parallel collection method over *YOUNG* generation **ONLY**, (**but** still) use serial-mark-sweep method as *OLD* generation collection\r\n 2. Apply -XX:+UseParallelOldGC when you require parallel collection method over *YOUNG* generation (automatically sets -XX:+UseParallelGC) **AND** *OLD* generation collection\r\n 3. Apply -XX:+UseParNewGC &amp; -XX:+UseConcMarkSweepGC when you require parallel collection method over *YOUNG* generation **AND** require CMS method as your collection over *OLD* generation memory\r\n 4. You can&#39;t apply -XX:+UseParallelGC or -XX:+UseParallelOldGC with -XX:+UseConcMarkSweepGC simultaneously, that&#39;s why your require -XX:+UseParNewGC to be paired with CMS otherwise use -XX:+UseSerialGC explicitly **OR** -XX:**\\-**UseParNewGC if you wish to use serial method against young generation\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\r\n  [2]: http://www.oracle.com/technetwork/java/gc1-4-2-135950.html#3.2.%20The%20Young%20Generation%7Coutline\r\n  [3]: http://blog.ragozin.info/2011/09/hotspot-jvm-garbage-collection-options.html","title":"Difference between -XX:+UseParallelGC and -XX:+UseParNewGC","body":"<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"noreferrer\">Parallel GC</a></p>\n\n<ul>\n<li>XX:+UseParallelGC    Use parallel garbage collection for scavenges. (Introduced in 1.4.1)</li>\n<li>XX:+UseParallelOldGC Use parallel garbage collection for the full collections. Enabling this option automatically sets -XX:+UseParallelGC. (Introduced in 5.0 update 6.)</li>\n</ul>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/gc1-4-2-135950.html#3.2.%20The%20Young%20Generation%7Coutline\" rel=\"noreferrer\">UseParNewGC</a></p>\n\n<blockquote>\n  <p><strong>UseParNewGC</strong>\n  A parallel version of the young generation copying collector is used\n  with the concurrent collector (i.e. if -XX:+ UseConcMarkSweepGC is\n  used on the command line then the flag UseParNewGC is also set to true\n  if it is not otherwise explicitly set on the command line).</p>\n</blockquote>\n\n<p>Perhaps the easiest way to understand was combinations of garbage collection algorithms made by <a href=\"http://blog.ragozin.info/2011/09/hotspot-jvm-garbage-collection-options.html\" rel=\"noreferrer\">Alexey Ragozin</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table border=\"1\" style=\"width:100%\"&gt;\r\n  &lt;tr&gt;\r\n    &lt;td align=\"center\"&gt;Young collector&lt;/td&gt;\r\n    &lt;td align=\"center\"&gt;Old collector&lt;/td&gt;\r\n    &lt;td align=\"center\"&gt;JVM option&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Serial (DefNew)&lt;/td&gt;\r\n    &lt;td&gt;Serial Mark-Sweep-Compact&lt;/td&gt;\r\n    &lt;td&gt;-XX:+UseSerialGC&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Parallel scavenge (PSYoungGen)&lt;/td&gt;\r\n    &lt;td&gt;Serial Mark-Sweep-Compact (PSOldGen)&lt;/td&gt;\r\n    &lt;td&gt;-XX:+UseParallelGC&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Parallel scavenge (PSYoungGen)&lt;/td&gt;\r\n    &lt;td&gt;Parallel Mark-Sweep-Compact (ParOldGen)&lt;/td&gt;\r\n    &lt;td&gt;-XX:+UseParallelOldGC&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Serial (DefNew)&lt;/td&gt;\r\n    &lt;td&gt;Concurrent Mark Sweep&lt;/td&gt;\r\n    &lt;td&gt;\r\n      &lt;p&gt;-XX:+UseConcMarkSweepGC&lt;/p&gt;\r\n      &lt;p&gt;-XX:-UseParNewGC&lt;/p&gt;\r\n    &lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Parallel (ParNew)&lt;/td&gt;\r\n    &lt;td&gt;Concurrent Mark Sweep&lt;/td&gt;\r\n    &lt;td&gt;\r\n      &lt;p&gt;-XX:+UseConcMarkSweepGC&lt;/p&gt;\r\n      &lt;p&gt;-XX:+UseParNewGC&lt;/p&gt;\r\n    &lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td colspan=\"2\"&gt;G1&lt;/td&gt;\r\n    &lt;td&gt;-XX:+UseG1GC&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Conclusion:</p>\n\n<ol>\n<li>Apply -XX:+UseParallelGC when you require parallel collection method over <em>YOUNG</em> generation <strong>ONLY</strong>, (<strong>but</strong> still) use serial-mark-sweep method as <em>OLD</em> generation collection</li>\n<li>Apply -XX:+UseParallelOldGC when you require parallel collection method over <em>YOUNG</em> generation (automatically sets -XX:+UseParallelGC) <strong>AND</strong> <em>OLD</em> generation collection</li>\n<li>Apply -XX:+UseParNewGC &amp; -XX:+UseConcMarkSweepGC when you require parallel collection method over <em>YOUNG</em> generation <strong>AND</strong> require CMS method as your collection over <em>OLD</em> generation memory</li>\n<li>You can't apply -XX:+UseParallelGC or -XX:+UseParallelOldGC with -XX:+UseConcMarkSweepGC simultaneously, that's why your require -XX:+UseParNewGC to be paired with CMS otherwise use -XX:+UseSerialGC explicitly <strong>OR</strong> -XX:<strong>-</strong>UseParNewGC if you wish to use serial method against young generation</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662546026,"creation_date":1662267129,"answer_id":73596868,"question_id":2101518,"body_markdown":"I will try to answer this question using **[official Oracle docs][1]**:\r\n\r\n&lt;h1&gt;What is the purpose of -XX:+UseParNewGC &lt;/h1&gt;\r\nThe purpose of this argument is to enable the use of parallel threads for GC in the young generation.\r\n\r\n&lt;br&gt;&lt;/br&gt;\r\n\r\n&lt;h1&gt; -XX:+UseParallelGC v/s -XX:+UseParNewGC &lt;/h1&gt;\r\n\r\n - `-XX:+UseParallelGC` is parallel collector and `-XX:+UseParNewGC` is parallel young generation collector.\r\n - Parallel young generation collector is similar to the parallel garbage collector in intent and differs in implementation. Unlike the parallel collector (&#173;XX:+UseParallelGC) this parallel young generation collector can be used with the concurrent low pause collector that collects the\r\ntenured generation.\r\n\r\n\r\n&lt;br&gt;&lt;/br&gt;\r\n\r\n&lt;h1&gt; When -XX:+UseParNewGC should be enabled/used? &lt;/h1&gt;\r\n\r\n&gt; By default this option is disabled and it is automatically\r\n&gt; enabled when you set the -XX:+UseConcMarkSweepGC option. Using the\r\n&gt; -XX:+UseParNewGC option without the -XX:+UseConcMarkSweepGC option was deprecated in JDK 8.\r\n\r\n&lt;br&gt;&lt;/br&gt;\r\n\r\n&lt;h1&gt; In Summary &lt;/h1&gt;\r\nThe whole purpose of this argument is to enable the use of parallel threads for GC in the young generation. In Java 8 use of this argument without the use of CMS collector (-XX:+UseConcMarkSweepGC) is deprecated and with Java 9 this argument itself is deprecated because this argument can only be used with CMS collector and CMS collector itself was deprecated in Java 9.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html","title":"Difference between -XX:+UseParallelGC and -XX:+UseParNewGC","body":"<p>I will try to answer this question using <strong><a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html\" rel=\"nofollow noreferrer\">official Oracle docs</a></strong>:</p>\n<h1>What is the purpose of -XX:+UseParNewGC </h1>\nThe purpose of this argument is to enable the use of parallel threads for GC in the young generation.\n<p><br></p>\n<h1> -XX:+UseParallelGC v/s -XX:+UseParNewGC </h1>\n<ul>\n<li><code>-XX:+UseParallelGC</code> is parallel collector and <code>-XX:+UseParNewGC</code> is parallel young generation collector.</li>\n<li>Parallel young generation collector is similar to the parallel garbage collector in intent and differs in implementation. Unlike the parallel collector (XX:+UseParallelGC) this parallel young generation collector can be used with the concurrent low pause collector that collects the\ntenured generation.</li>\n</ul>\n<p><br></p>\n<h1> When -XX:+UseParNewGC should be enabled/used? </h1>\n<blockquote>\n<p>By default this option is disabled and it is automatically\nenabled when you set the -XX:+UseConcMarkSweepGC option. Using the\n-XX:+UseParNewGC option without the -XX:+UseConcMarkSweepGC option was deprecated in JDK 8.</p>\n</blockquote>\n<p><br></p>\n<h1> In Summary </h1>\nThe whole purpose of this argument is to enable the use of parallel threads for GC in the young generation. In Java 8 use of this argument without the use of CMS collector (-XX:+UseConcMarkSweepGC) is deprecated and with Java 9 this argument itself is deprecated because this argument can only be used with CMS collector and CMS collector itself was deprecated in Java 9.\n"}],"owner":{"account_id":15754,"reputation":8442,"user_id":33622,"accept_rate":88,"display_name":"fglez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176342,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":2141858,"answer_count":5,"score":96,"last_activity_date":1662546026,"creation_date":1263993100,"question_id":2101518,"body_markdown":"They are algorithms for the young generation garbage collection. \r\n\r\nThe second one (UseParNewGC) gets activated automatically with the concurrent tenured generation garbage collection (see [Java Concurrent and Parallel GC][1]) but, is there a difference between the two parallel algorithms?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/220388/java-concurrent-and-parallel-gc","title":"Difference between -XX:+UseParallelGC and -XX:+UseParNewGC","body":"<p>They are algorithms for the young generation garbage collection. </p>\n\n<p>The second one (UseParNewGC) gets activated automatically with the concurrent tenured generation garbage collection (see <a href=\"https://stackoverflow.com/questions/220388/java-concurrent-and-parallel-gc\">Java Concurrent and Parallel GC</a>) but, is there a difference between the two parallel algorithms?</p>\n"},{"tags":["java","scala","apache-spark","hadoop"],"comments":[{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1548785722,"post_id":54426075,"comment_id":95664573,"body_markdown":"I only ever run on Linux. Not Windows.","body":"I only ever run on Linux. Not Windows."},{"owner":{"account_id":5623295,"reputation":496,"user_id":9363181,"display_name":"RushHour"},"score":0,"creation_date":1548786838,"post_id":54426075,"comment_id":95665117,"body_markdown":"Throws the same error in Linux as well","body":"Throws the same error in Linux as well"},{"owner":{"account_id":14249191,"reputation":974,"user_id":10293253,"display_name":"Ramdev Sharma"},"score":0,"creation_date":1548787542,"post_id":54426075,"comment_id":95665468,"body_markdown":"Can you use sbt for your build? If yes then sbt assembly plugin will take care of all dependencies to put in fat jar.","body":"Can you use sbt for your build? If yes then sbt assembly plugin will take care of all dependencies to put in fat jar."},{"owner":{"account_id":5623295,"reputation":496,"user_id":9363181,"display_name":"RushHour"},"score":0,"creation_date":1548787626,"post_id":54426075,"comment_id":95665523,"body_markdown":"I used maven as the build tool that&#39;s why I posted pom.xml code","body":"I used maven as the build tool that&#39;s why I posted pom.xml code"},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1548787702,"post_id":54426075,"comment_id":95665568,"body_markdown":"Really hard to do remote. I agree with other person. Sbt is way to go.","body":"Really hard to do remote. I agree with other person. Sbt is way to go."},{"owner":{"account_id":5623295,"reputation":496,"user_id":9363181,"display_name":"RushHour"},"score":0,"creation_date":1548787851,"post_id":54426075,"comment_id":95665662,"body_markdown":"I never used sbt. I was able to do it few days back but now m seeing this error for the first time and couldn&#39;t find relevant solution for this on Google","body":"I never used sbt. I was able to do it few days back but now m seeing this error for the first time and couldn&#39;t find relevant solution for this on Google"},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":1,"creation_date":1548794977,"post_id":54426075,"comment_id":95668801,"body_markdown":"Intellij being used?","body":"Intellij being used?"},{"owner":{"account_id":5623295,"reputation":496,"user_id":9363181,"display_name":"RushHour"},"score":0,"creation_date":1548812903,"post_id":54426075,"comment_id":95674147,"body_markdown":"No, i use eclipse ide","body":"No, i use eclipse ide"},{"owner":{"account_id":5623295,"reputation":496,"user_id":9363181,"display_name":"RushHour"},"score":0,"creation_date":1548830302,"post_id":54426075,"comment_id":95678540,"body_markdown":"Can you just try it on my behalf using eclipse,linux atleast with the configuration which I mentioned here","body":"Can you just try it on my behalf using eclipse,linux atleast with the configuration which I mentioned here"},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1548880068,"post_id":54426075,"comment_id":95706737,"body_markdown":"I do not have that setup.","body":"I do not have that setup."},{"owner":{"account_id":5623295,"reputation":496,"user_id":9363181,"display_name":"RushHour"},"score":0,"creation_date":1549017429,"post_id":54426075,"comment_id":95762313,"body_markdown":"Anyone please help if possible","body":"Anyone please help if possible"}],"answers":[{"tags":[],"owner":{"account_id":12431161,"reputation":61,"user_id":9058533,"display_name":"Jeeva NRMoorthy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1549399661,"creation_date":1549399661,"answer_id":54542796,"question_id":54426075,"body_markdown":"looks like you are using 2.4.x with Scala 2.12. It might be compatibility issue.\r\n*Spark documentation reference:- \r\nSpark runs on Java 8+, Python 2.7+/3.4+ and R 3.1+. For the Scala API, Spark 2.4.0 uses Scala 2.11. You will need to use a compatible Scala version (2.11.x).*","title":"spark submit throws an error java.lang.ClassNotFoundException: scala.runtime.java8.JFunction2$mcIII$sp","body":"<p>looks like you are using 2.4.x with Scala 2.12. It might be compatibility issue.\n<em>Spark documentation reference:- \nSpark runs on Java 8+, Python 2.7+/3.4+ and R 3.1+. For the Scala API, Spark 2.4.0 uses Scala 2.11. You will need to use a compatible Scala version (2.11.x).</em></p>\n"},{"tags":[],"owner":{"account_id":13815782,"reputation":227,"user_id":9972417,"display_name":"soscler"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1568795104,"creation_date":1568795104,"answer_id":57988227,"question_id":54426075,"body_markdown":"I had the same issue, and solved it by changing the version of Scala I use during development to match the version Spark came with.\r\n\r\nWhen I start Spark with `./spark-shell`, it says `Using Scala version 2.11.12`,\r\nSo I changed the Scala version in the build.sbt from `2.12.8` to `2.11.12` and everything worked.\r\nI use Spark version `2.4.3`.","title":"spark submit throws an error java.lang.ClassNotFoundException: scala.runtime.java8.JFunction2$mcIII$sp","body":"<p>I had the same issue, and solved it by changing the version of Scala I use during development to match the version Spark came with.</p>\n\n<p>When I start Spark with <code>./spark-shell</code>, it says <code>Using Scala version 2.11.12</code>,\nSo I changed the Scala version in the build.sbt from <code>2.12.8</code> to <code>2.11.12</code> and everything worked.\nI use Spark version <code>2.4.3</code>.</p>\n"},{"tags":[],"owner":{"account_id":16005263,"reputation":565,"user_id":11550924,"display_name":"jd96"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594708266,"creation_date":1594700648,"answer_id":62888066,"question_id":54426075,"body_markdown":"The other answers are correct. \r\n\r\nTo add to them, don&#39;t forget to update the jar path in the ```spark-submit``` command when you change Scala versions. So if you&#39;re using sbt it&#39;s:\r\n\r\n1. Update the Scala version to be compatible with Spark.\r\n1. ```sbt package```\r\n1. Update the jar path in the spark-submit command. In my case it went from ```target/scala-2.12/word-count-app_2.12-1.0.jar``` to ```target/scala-2.11/word-count-app_2.11-1.0.jar```.","title":"spark submit throws an error java.lang.ClassNotFoundException: scala.runtime.java8.JFunction2$mcIII$sp","body":"<p>The other answers are correct.</p>\n<p>To add to them, don't forget to update the jar path in the <code>spark-submit</code> command when you change Scala versions. So if you're using sbt it's:</p>\n<ol>\n<li>Update the Scala version to be compatible with Spark.</li>\n<li><code>sbt package</code></li>\n<li>Update the jar path in the spark-submit command. In my case it went from <code>target/scala-2.12/word-count-app_2.12-1.0.jar</code> to <code>target/scala-2.11/word-count-app_2.11-1.0.jar</code>.</li>\n</ol>\n"}],"owner":{"account_id":5623295,"reputation":496,"user_id":9363181,"display_name":"RushHour"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9161,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1662545885,"creation_date":1548781178,"question_id":54426075,"body_markdown":"I wrote a code for word count but when I tried running it from CMD in windows using below command it throws an exception.\r\n\r\n    spark-submit --class com.sample.WordCount --master local file:///E:/WordCountSample/target/WordCountSample-0.0.1-SNAPSHOT.jar file:///C:/Users/siddh/OneDrive/Desktop/sample.txt\r\n\r\n**pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;SparkSampleInScala&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;WordCountSample&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;name&gt;WordCountSample&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;!--&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; \r\n    \t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt; &lt;version&gt;3.0.0-M1&lt;/version&gt; \r\n    \t\t&lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; --&gt;\r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-core --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.scala-lang/scala-library --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n        &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;  \r\n\r\nbut when I ran spark submit it throws below error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.BootstrapMethodError: java.lang.NoClassDefFoundError: scala/runtime/java8/JFunction2$mcIII$sp\r\n            at com.sample.WordCount$.main(WordCount.scala:22)\r\n            at com.sample.WordCount.main(WordCount.scala)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n            at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:849)\r\n            at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:167)\r\n            at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:195)\r\n            at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\r\n            at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:924)\r\n            at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:933)\r\n            at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n    Caused by: java.lang.NoClassDefFoundError: scala/runtime/java8/JFunction2$mcIII$sp\r\n            ... 14 more\r\n    Caused by: java.lang.ClassNotFoundException: scala.runtime.java8.JFunction2$mcIII$sp\r\n\r\nSo what all needs to be done in this case?? I am using `spark 2.4.0` version and `scala 2.12.8 version` which is already installed on my windows.\r\nPlease help me since I am stuck in this since few days.\r\nThanks in advance :)","title":"spark submit throws an error java.lang.ClassNotFoundException: scala.runtime.java8.JFunction2$mcIII$sp","body":"<p>I wrote a code for word count but when I tried running it from CMD in windows using below command it throws an exception.</p>\n\n<pre><code>spark-submit --class com.sample.WordCount --master local file:///E:/WordCountSample/target/WordCountSample-0.0.1-SNAPSHOT.jar file:///C:/Users/siddh/OneDrive/Desktop/sample.txt\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;SparkSampleInScala&lt;/groupId&gt;\n    &lt;artifactId&gt;WordCountSample&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;WordCountSample&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;!--&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; \n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt; &lt;version&gt;3.0.0-M1&lt;/version&gt; \n        &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; --&gt;\n    &lt;dependencies&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.scala-lang/scala-library --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n    &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n    &lt;version&gt;2.12.8&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;  \n</code></pre>\n\n<p>but when I ran spark submit it throws below error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.BootstrapMethodError: java.lang.NoClassDefFoundError: scala/runtime/java8/JFunction2$mcIII$sp\n        at com.sample.WordCount$.main(WordCount.scala:22)\n        at com.sample.WordCount.main(WordCount.scala)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:849)\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:167)\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:195)\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:924)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:933)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.NoClassDefFoundError: scala/runtime/java8/JFunction2$mcIII$sp\n        ... 14 more\nCaused by: java.lang.ClassNotFoundException: scala.runtime.java8.JFunction2$mcIII$sp\n</code></pre>\n\n<p>So what all needs to be done in this case?? I am using <code>spark 2.4.0</code> version and <code>scala 2.12.8 version</code> which is already installed on my windows.\nPlease help me since I am stuck in this since few days.\nThanks in advance :)</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":369687,"reputation":56616,"user_id":717214,"accept_rate":86,"display_name":"Aleks G"},"score":7,"creation_date":1314278700,"post_id":7191112,"comment_id":8635498,"body_markdown":"The time it takes to compare 2 strings would always be a function of the length of the string.  You have to do some sort of comparison one way or another - and the more characters you have, the longer this comparison would take.","body":"The time it takes to compare 2 strings would always be a function of the length of the string.  You have to do some sort of comparison one way or another - and the more characters you have, the longer this comparison would take."},{"owner":{"account_id":293472,"reputation":467154,"user_id":596781,"accept_rate":80,"display_name":"Kerrek SB"},"score":0,"creation_date":1314278777,"post_id":7191112,"comment_id":8635530,"body_markdown":"How would the complexity of XORing each character not depend on the number of characters?","body":"How would the complexity of XORing each character not depend on the number of characters?"},{"owner":{"account_id":314772,"reputation":11799,"user_id":630136,"accept_rate":91,"display_name":"G_H"},"score":1,"creation_date":1314278877,"post_id":7191112,"comment_id":8635574,"body_markdown":"Am I correct in assuming you&#39;re asking for a String comparison function (returning `true` of `false` for equal or non-equal) that is entirely independent from String length? I don&#39;t actually think that&#39;s theoretically possible unless you have a number of processors/cores equal to the maximum String length. The best I can think of is optimizing strongly through comparing hash codes and length first, but even the hash code calculation depends on String length.","body":"Am I correct in assuming you&#39;re asking for a String comparison function (returning <code>true</code> of <code>false</code> for equal or non-equal) that is entirely independent from String length? I don&#39;t actually think that&#39;s theoretically possible unless you have a number of processors/cores equal to the maximum String length. The best I can think of is optimizing strongly through comparing hash codes and length first, but even the hash code calculation depends on String length."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":1,"creation_date":1314278903,"post_id":7191112,"comment_id":8635584,"body_markdown":"you might be able to use the `hash` field, it might help to determine 2 strings are *not* equal, if the hash was already computed, but I think that&#39;s about it.","body":"you might be able to use the <code>hash</code> field, it might help to determine 2 strings are <i>not</i> equal, if the hash was already computed, but I think that&#39;s about it."},{"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":0,"creation_date":1314279829,"post_id":7191112,"comment_id":8635945,"body_markdown":"Can you tell us why you want to do this? Given the answers telling you that this is either impossible or impractical, knowing what you are trying to achieve would help us give you a good answer.","body":"Can you tell us why you want to do this? Given the answers telling you that this is either impossible or impractical, knowing what you are trying to achieve would help us give you a good answer."},{"owner":{"account_id":2961,"reputation":70821,"user_id":4203,"accept_rate":90,"display_name":"Hank Gay"},"score":0,"creation_date":1314281401,"post_id":7191112,"comment_id":8636593,"body_markdown":"Sorry for the original wording, which didn&#39;t express my intent. I&#39;ve attempted to clarify.","body":"Sorry for the original wording, which didn&#39;t express my intent. I&#39;ve attempted to clarify."}],"answers":[{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":3,"up_vote_count":6,"is_accepted":true,"score":3,"last_activity_date":1435043102,"creation_date":1314278874,"answer_id":7191195,"question_id":7191112,"body_markdown":"I see two immediate possibilities for not leaking password-related information in timing:\r\n\r\n1/ Pad both the password string and candidate string out to 1K, with a known, fixed character (like `A`). Then run the following (pseudo-code):\r\n\r\n    match = true\r\n    for i = 0 to 1023:\r\n        if password[i] != candidate[i]:\r\n            match = false\r\n\r\nThat way, you&#39;re always taking the same amount of loops to do the comparison regardless of where it matches.\r\n\r\nThere&#39;s no need to muck about with `xor` since you can still do a simple comparison, but without exiting the loop early.\r\n\r\nJust set the match flag to false if a mismatch is found and keep going. Once the loop exits (taking the same time regardless of size or content of password and candidate), _then_ check whether it matched.\r\n\r\n2/ Just add a large (relative to the normal comparison time) but slightly random delay at the end of the comparison. For example, a random value between 0.9 and 1.1 seconds. The time taken for the comparison should be swamped by the delay and the randomness should fully mask any information leakage (unless your randomness algorithm leaks information, of course).\r\n\r\nThat also has the added advantage of preventing brute force attacks since a password check takes at least about a second.\r\n","title":"How do I implement a string comparison in Java that takes the same amount of time no matter whether they match or where a mismatch (if any) occurs?","body":"<p>I see two immediate possibilities for not leaking password-related information in timing:</p>\n\n<p>1/ Pad both the password string and candidate string out to 1K, with a known, fixed character (like <code>A</code>). Then run the following (pseudo-code):</p>\n\n<pre><code>match = true\nfor i = 0 to 1023:\n    if password[i] != candidate[i]:\n        match = false\n</code></pre>\n\n<p>That way, you're always taking the same amount of loops to do the comparison regardless of where it matches.</p>\n\n<p>There's no need to muck about with <code>xor</code> since you can still do a simple comparison, but without exiting the loop early.</p>\n\n<p>Just set the match flag to false if a mismatch is found and keep going. Once the loop exits (taking the same time regardless of size or content of password and candidate), <em>then</em> check whether it matched.</p>\n\n<p>2/ Just add a large (relative to the normal comparison time) but slightly random delay at the end of the comparison. For example, a random value between 0.9 and 1.1 seconds. The time taken for the comparison should be swamped by the delay and the randomness should fully mask any information leakage (unless your randomness algorithm leaks information, of course).</p>\n\n<p>That also has the added advantage of preventing brute force attacks since a password check takes at least about a second.</p>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1314315616,"creation_date":1314279138,"answer_id":7191261,"question_id":7191112,"body_markdown":"&gt; I want to implement a String comparison function **that doesn&#39;t take a\n&gt; different amount of time depending on the number of characters** that\n&gt; match or the position of the first mismatch. I assume there must be a\n&gt; library out there somewhere that provides this, but I was unable to\n&gt; find it via a quick search.\n&gt; \n&gt; So far, the best idea I&#39;ve got is to **sum the XOR of each character**\n\nDo you see the contradiction?\n\n### update:\nTo the updated, and therefore different question:\n\nCan you gain information once, how much time is spent for comparing 2 Strings, in terms of constant amount and time, depending on the length of the two strings? \n\n    a + b*s(1).length + c*s(2).length + d*f(s(1), s(2))? \n\nIs there an upper bound of characters for String 1 and 2? \n\nIf the time is, depending on a factor for the machine, for example for the longest strings you expect 0.01ms. You measure the time to encode the string, and stay idle until you reach that time, maybe + a factor of rand(10%) of the time. \n\nIf the length of the input is not limited, you could calculate the timing in a way, that will fit for 99%, 99.9% or 99.99% of typical input, depending on your security needs, and the speed of the machine. If the program is interacting with the user, a delay up to 0.2s is normally experienced as instant reaction, so it wouldn&#39;t annoy the user, if your code sleeps for 0.19994s, while doing real calculations for 0.00006s. ","title":"How do I implement a string comparison in Java that takes the same amount of time no matter whether they match or where a mismatch (if any) occurs?","body":"<blockquote>\n<p>I want to implement a String comparison function <strong>that doesn't take a\ndifferent amount of time depending on the number of characters</strong> that\nmatch or the position of the first mismatch. I assume there must be a\nlibrary out there somewhere that provides this, but I was unable to\nfind it via a quick search.</p>\n<p>So far, the best idea I've got is to <strong>sum the XOR of each character</strong></p>\n</blockquote>\n<p>Do you see the contradiction?</p>\n<h3>update:</h3>\n<p>To the updated, and therefore different question:</p>\n<p>Can you gain information once, how much time is spent for comparing 2 Strings, in terms of constant amount and time, depending on the length of the two strings?</p>\n<pre><code>a + b*s(1).length + c*s(2).length + d*f(s(1), s(2))? \n</code></pre>\n<p>Is there an upper bound of characters for String 1 and 2?</p>\n<p>If the time is, depending on a factor for the machine, for example for the longest strings you expect 0.01ms. You measure the time to encode the string, and stay idle until you reach that time, maybe + a factor of rand(10%) of the time.</p>\n<p>If the length of the input is not limited, you could calculate the timing in a way, that will fit for 99%, 99.9% or 99.99% of typical input, depending on your security needs, and the speed of the machine. If the program is interacting with the user, a delay up to 0.2s is normally experienced as instant reaction, so it wouldn't annoy the user, if your code sleeps for 0.19994s, while doing real calculations for 0.00006s.</p>\n"},{"tags":[],"owner":{"account_id":505497,"reputation":19464,"user_id":909956,"accept_rate":67,"display_name":"numan salati"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1314279419,"creation_date":1314279419,"answer_id":7191341,"question_id":7191112,"body_markdown":"You can do constant time string comparisons if you intern your strings. Then you can compare them with == operator resulting in a constant time equality check.\r\n\r\nRead [this][1] for further detials\r\n\r\n\r\n  [1]: http://mindprod.com/jgloss/interned.html","title":"How do I implement a string comparison in Java that takes the same amount of time no matter whether they match or where a mismatch (if any) occurs?","body":"<p>You can do constant time string comparisons if you intern your strings. Then you can compare them with == operator resulting in a constant time equality check.</p>\n\n<p>Read <a href=\"http://mindprod.com/jgloss/interned.html\" rel=\"nofollow\">this</a> for further detials</p>\n"},{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1314283684,"creation_date":1314280256,"answer_id":7191546,"question_id":7191112,"body_markdown":"This should take approximately the same time for any matching length Strings.  It&#39;s constant-time with a big constant.\r\n\r\n    public static boolean areEqualConstantTime(String a, String b) {\r\n        if ( a.length != b.length ) {\r\n            return false;\r\n        }\r\n\r\n        boolean equal = true;\r\n        for ( long i = 0; i &lt; (Long)Integer.MAX_INT; i++ ) {\r\n            if ( a.charAt((int)(i % aChars.length)) != b.charAt((int)(i % bChars.length))) {\r\n                equal = false;\r\n            }\r\n        }\r\n        return equal;\r\n    }\r\n\r\nEdit\r\n---\r\nWow, if you&#39;re just trying to avoid leaking timing information this facetious answer got pretty close to the mark!  We can start with a naive approach like this:\r\n\r\n    public static boolean arePasswordsEqual(String a, String b) {\r\n        boolean equal = true;\r\n        if ( a.length != b.length ) {\r\n           equal = false;\r\n        }\r\n    \r\n        for ( int i = 0; i &lt; MAX_PASSWORD_LENGTH; i++ ) {\r\n            if ( a.charAt(i%a.length()) != b.charAt(i%b.length()) ) {\r\n                equal = false;\r\n            }\r\n        }\r\n        return equal;\r\n     }\r\n\r\nWe need the `MAX_PASSWORD_LENGTH` constant because we can&#39;t simply use either the max or the min of the two input lengths as that would also leak timing information.  An attacker could start with a very small guess and see how long the function takes.  When the function time plateaus, he would know his password has the right length which eliminates much of the range of values he needs to try.","title":"How do I implement a string comparison in Java that takes the same amount of time no matter whether they match or where a mismatch (if any) occurs?","body":"<p>This should take approximately the same time for any matching length Strings.  It's constant-time with a big constant.</p>\n\n<pre><code>public static boolean areEqualConstantTime(String a, String b) {\n    if ( a.length != b.length ) {\n        return false;\n    }\n\n    boolean equal = true;\n    for ( long i = 0; i &lt; (Long)Integer.MAX_INT; i++ ) {\n        if ( a.charAt((int)(i % aChars.length)) != b.charAt((int)(i % bChars.length))) {\n            equal = false;\n        }\n    }\n    return equal;\n}\n</code></pre>\n\n<h2>Edit</h2>\n\n<p>Wow, if you're just trying to avoid leaking timing information this facetious answer got pretty close to the mark!  We can start with a naive approach like this:</p>\n\n<pre><code>public static boolean arePasswordsEqual(String a, String b) {\n    boolean equal = true;\n    if ( a.length != b.length ) {\n       equal = false;\n    }\n\n    for ( int i = 0; i &lt; MAX_PASSWORD_LENGTH; i++ ) {\n        if ( a.charAt(i%a.length()) != b.charAt(i%b.length()) ) {\n            equal = false;\n        }\n    }\n    return equal;\n }\n</code></pre>\n\n<p>We need the <code>MAX_PASSWORD_LENGTH</code> constant because we can't simply use either the max or the min of the two input lengths as that would also leak timing information.  An attacker could start with a very small guess and see how long the function takes.  When the function time plateaus, he would know his password has the right length which eliminates much of the range of values he needs to try.</p>\n"},{"tags":[],"owner":{"account_id":293987,"reputation":91029,"user_id":597607,"display_name":"Bo Persson"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1314296234,"creation_date":1314296234,"answer_id":7195251,"question_id":7191112,"body_markdown":"The usual solution is to set a timer, and not return the result until the timer has expired.\r\n\r\nThe time taken to compare strings or hashes is not important, just set the time-out value sufficiently large.","title":"How do I implement a string comparison in Java that takes the same amount of time no matter whether they match or where a mismatch (if any) occurs?","body":"<p>The usual solution is to set a timer, and not return the result until the timer has expired.</p>\n\n<p>The time taken to compare strings or hashes is not important, just set the time-out value sufficiently large.</p>\n"},{"tags":[],"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662545853,"creation_date":1434980293,"answer_id":30981412,"question_id":7191112,"body_markdown":"The following code is one common way to do a constant-time `byte[]` comparison in Java and avoid leaking password info via the time taken:\r\n\r\n    public static boolean isEqual(byte[] a, byte[] b) {\r\n        if (a.length != b.length) {\r\n            return false;\r\n        }\r\n    \r\n        int result = 0;\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n          result |= a[i] ^ b[i];\r\n        }\r\n        return result == 0;\r\n    }\r\n\r\n\r\nSee http://codahale.com/a-lesson-in-timing-attacks/ for more discussion of this issue.\r\n\r\nCurrent implementation in openjdk as an inspiration is available in [isEqual method][1].\r\n\r\n(This assumes that the length of the secret is not sensitive, for example if it is a hash. You should pad both sides to the same length if that is not true.)\r\n\r\nThis is essentially the same as your first suggestion: \r\n\r\n&gt; So far, the best idea I&#39;ve got is to sum the XOR of each character and return whether or not the sum is 0.\r\n\r\nYou asked: \r\n\r\n&gt; However, I&#39;m pretty sure this wouldn&#39;t work so well with Unicode.\r\n\r\nThis is a valid concern, but you need to clarify what you will accept as &quot;equal&quot; for a solution to be proposed. Luckily, you also say &quot;This would be used to compare hashed password values&quot;, so I don&#39;t think that any of the unicode concerns will be in play.\r\n\r\n&gt; I also have a vague concern that HotSpot would do some optimizations that would change my constant-time property, \r\n\r\nHopefully that&#39;s not true. I expect that the literature on how to avoid timing attacks in Java would address this if it were true, but I can&#39;t offer you any citations to back this up :-)\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/security/MessageDigest.java#L471","title":"How do I implement a string comparison in Java that takes the same amount of time no matter whether they match or where a mismatch (if any) occurs?","body":"<p>The following code is one common way to do a constant-time <code>byte[]</code> comparison in Java and avoid leaking password info via the time taken:</p>\n<pre><code>public static boolean isEqual(byte[] a, byte[] b) {\n    if (a.length != b.length) {\n        return false;\n    }\n\n    int result = 0;\n    for (int i = 0; i &lt; a.length; i++) {\n      result |= a[i] ^ b[i];\n    }\n    return result == 0;\n}\n</code></pre>\n<p>See <a href=\"http://codahale.com/a-lesson-in-timing-attacks/\" rel=\"nofollow noreferrer\">http://codahale.com/a-lesson-in-timing-attacks/</a> for more discussion of this issue.</p>\n<p>Current implementation in openjdk as an inspiration is available in <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/security/MessageDigest.java#L471\" rel=\"nofollow noreferrer\">isEqual method</a>.</p>\n<p>(This assumes that the length of the secret is not sensitive, for example if it is a hash. You should pad both sides to the same length if that is not true.)</p>\n<p>This is essentially the same as your first suggestion:</p>\n<blockquote>\n<p>So far, the best idea I've got is to sum the XOR of each character and return whether or not the sum is 0.</p>\n</blockquote>\n<p>You asked:</p>\n<blockquote>\n<p>However, I'm pretty sure this wouldn't work so well with Unicode.</p>\n</blockquote>\n<p>This is a valid concern, but you need to clarify what you will accept as &quot;equal&quot; for a solution to be proposed. Luckily, you also say &quot;This would be used to compare hashed password values&quot;, so I don't think that any of the unicode concerns will be in play.</p>\n<blockquote>\n<p>I also have a vague concern that HotSpot would do some optimizations that would change my constant-time property,</p>\n</blockquote>\n<p>Hopefully that's not true. I expect that the literature on how to avoid timing attacks in Java would address this if it were true, but I can't offer you any citations to back this up :-)</p>\n"}],"owner":{"account_id":2961,"reputation":70821,"user_id":4203,"accept_rate":90,"display_name":"Hank Gay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5481,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":7191195,"answer_count":6,"score":11,"last_activity_date":1662545853,"creation_date":1314278540,"question_id":7191112,"body_markdown":"I want to implement a `String` comparison function that doesn&#39;t take a different amount of time depending on the number of characters that match or the position of the first mismatch. I assume there must be a library out there somewhere that provides this, but I was unable to find it via a quick search.\r\n\r\nSo far, the best idea I&#39;ve got is to sum the XOR of each character and return whether or not the sum is `0`. However, I&#39;m pretty sure this wouldn&#39;t work so well with Unicode. I also have a vague concern that HotSpot would do some optimizations that would change my constant-time property, but I can&#39;t think of a specific optimization that would do this off the top of my head.\r\n\r\nThanks.\r\n\r\nUPDATE: Sorry, I don&#39;t believe I was clear. I&#39;m not looking for `O(1)`, I&#39;m looking for something that won&#39;t leak timing information. This would be used to compare hashed password values, and if the time it took to compare was different based on where the first mismatch occurred, that would be leaking information to an attacker.","title":"How do I implement a string comparison in Java that takes the same amount of time no matter whether they match or where a mismatch (if any) occurs?","body":"<p>I want to implement a <code>String</code> comparison function that doesn't take a different amount of time depending on the number of characters that match or the position of the first mismatch. I assume there must be a library out there somewhere that provides this, but I was unable to find it via a quick search.</p>\n\n<p>So far, the best idea I've got is to sum the XOR of each character and return whether or not the sum is <code>0</code>. However, I'm pretty sure this wouldn't work so well with Unicode. I also have a vague concern that HotSpot would do some optimizations that would change my constant-time property, but I can't think of a specific optimization that would do this off the top of my head.</p>\n\n<p>Thanks.</p>\n\n<p>UPDATE: Sorry, I don't believe I was clear. I'm not looking for <code>O(1)</code>, I'm looking for something that won't leak timing information. This would be used to compare hashed password values, and if the time it took to compare was different based on where the first mismatch occurred, that would be leaking information to an attacker.</p>\n"},{"tags":["java","spring","postgresql","modelmapper"],"comments":[{"owner":{"account_id":282141,"reputation":5676,"user_id":578855,"accept_rate":30,"display_name":"muasif80"},"score":0,"creation_date":1662545905,"post_id":73633764,"comment_id":130028832,"body_markdown":"This is something i faced too. If you are connecting to db over vpn then its too slow a connection. Rather you should have your application hosted on the server in same lan where postgres is deployed.","body":"This is something i faced too. If you are connecting to db over vpn then its too slow a connection. Rather you should have your application hosted on the server in same lan where postgres is deployed."},{"owner":{"account_id":8566524,"reputation":73,"user_id":6418839,"display_name":"JLopez"},"score":0,"creation_date":1662547226,"post_id":73633764,"comment_id":130029318,"body_markdown":"The thing is that my teammates don&#39;t have this problem, and they use VPN as I do...","body":"The thing is that my teammates don&#39;t have this problem, and they use VPN as I do..."},{"owner":{"account_id":16641195,"reputation":359,"user_id":13154548,"display_name":"eternal"},"score":0,"creation_date":1662547789,"post_id":73633764,"comment_id":130029552,"body_markdown":"What about creating breakpoints to understand which part of your code execution takes the most time?","body":"What about creating breakpoints to understand which part of your code execution takes the most time?"},{"owner":{"account_id":8566524,"reputation":73,"user_id":6418839,"display_name":"JLopez"},"score":0,"creation_date":1662547905,"post_id":73633764,"comment_id":130029600,"body_markdown":"I did it, it&#39;s when I convert the entity object to a dto, first time I thought that it was when I get the information from the database but that works really fast. The problem is when I map the entity to de DTO","body":"I did it, it&#39;s when I convert the entity object to a dto, first time I thought that it was when I get the information from the database but that works really fast. The problem is when I map the entity to de DTO"},{"owner":{"account_id":16641195,"reputation":359,"user_id":13154548,"display_name":"eternal"},"score":0,"creation_date":1662549668,"post_id":73633764,"comment_id":130030284,"body_markdown":"Actually, I don&#39;t think that someone will help you here, because it&#39;s too little information to give you an answer, and you cannot provide it all. I meant that you can create breakpoints inside generated by MapStruct class and see which part of mapping is the slowest.","body":"Actually, I don&#39;t think that someone will help you here, because it&#39;s too little information to give you an answer, and you cannot provide it all. I meant that you can create breakpoints inside generated by MapStruct class and see which part of mapping is the slowest."},{"owner":{"account_id":8566524,"reputation":73,"user_id":6418839,"display_name":"JLopez"},"score":0,"creation_date":1662978922,"post_id":73633764,"comment_id":130123121,"body_markdown":"Solution found! It was because of the Java version, I was using Java 15, and I don&#39;t know why it doesn&#39;t work well with modelMapper... With Java 11 works perfectly!","body":"Solution found! It was because of the Java version, I was using Java 15, and I don&#39;t know why it doesn&#39;t work well with modelMapper... With Java 11 works perfectly!"}],"owner":{"account_id":8566524,"reputation":73,"user_id":6418839,"display_name":"JLopez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662545715,"creation_date":1662545715,"question_id":73633764,"body_markdown":"I want to ask you something. I&#39;m facing some issues when a have to map an entity object to DTO object using org.modelMapper.\r\n\r\nThe thing is that for my teammates everything is working correctly, it takes about 4-5 seconds, but for me it&#39;s like 10-20 minutes or even more.\r\n\r\nWe have so many nested objects in the entities and in the DTO&#39;s but they should have this problem too. The thing is that only happens to me. I tried with another computer which is faster but it happens also.\r\n\r\nHere are some details of the project:\r\n- Java 11 Spring Boot\r\n- PostgreSQL for the database\r\n- We open a tunnel connection for the database\r\n- We use the same VPN for the internet connection\r\n\r\nAny idea of what&#39;s going on?","title":"ModelMapper takes to much time to map entity to DTO object","body":"<p>I want to ask you something. I'm facing some issues when a have to map an entity object to DTO object using org.modelMapper.</p>\n<p>The thing is that for my teammates everything is working correctly, it takes about 4-5 seconds, but for me it's like 10-20 minutes or even more.</p>\n<p>We have so many nested objects in the entities and in the DTO's but they should have this problem too. The thing is that only happens to me. I tried with another computer which is faster but it happens also.</p>\n<p>Here are some details of the project:</p>\n<ul>\n<li>Java 11 Spring Boot</li>\n<li>PostgreSQL for the database</li>\n<li>We open a tunnel connection for the database</li>\n<li>We use the same VPN for the internet connection</li>\n</ul>\n<p>Any idea of what's going on?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662545483,"creation_date":1662447461,"answer_id":73617869,"question_id":73600735,"body_markdown":"You need to test for collision with *all* other panes in the handler for `StackPane.onMouseDragged`, for each pane you add to the collection.\r\n\r\nWhat you&#39;re doing now is incorrect because you re-set the handler for each pane any time you add a new StackPane. That may work using `StackPane.addEventHandler(MouseEvent.MOUSE_DRAGGED, ...)` instead of `StackPane.setOnMouseDragged(...)`, but it would be heavy, slow, and memory consuming, as it would potentially chain a large number of event handlers for each new StackPane.\r\n\r\nAs you&#39;ve only got one moving pane at once (when it&#39;s being dragged), you&#39;d rather set the `onMouseDragged` handler once for each new pane, and then inside this handler, loop through your `stackPanes` ArrayList to test for intersection with all other panes, which would change your code to something like this:\r\n\r\n```lang-java\r\nprivate void addToRectCollection(StackPane r) {\r\n  stackPanes.add(r);\r\n  r.setOnMouseDragged((MouseEvent event) -&gt; {\r\n    double deltaX = event.getSceneX() - mousePosition.get().getX();\r\n    double deltaY = event.getSceneY() - mousePosition.get().getY();\r\n    r.setLayoutX(r.getLayoutX() + deltaX);\r\n    r.setLayoutY(r.getLayoutY() + deltaY);\r\n    mousePosition.set(new Point2D(event.getSceneX(), event.getSceneY()));\r\n    //Test collision for this pane with all other ones\r\n    testCollision(r);\r\n  });\r\n}\r\n\r\nprivate void testCollision(StackPane r) {\r\n  //Loop through all stackPanes\r\n  for (StackPane r2 : stackPanes) {\r\n    if (r2 == r) //except r\r\n      continue;\r\n    //test intersection with r\r\n    var intersect = r.getBoundsInParent().intersects(r2.getBoundsInParent());\r\n    if (intersect) {\r\n      //Style intersecting pane\r\n      r2.setStyle(&quot;-fx-background-color: #6a5246&quot;);\r\n      r.setStyle(&quot;-fx-background-color: #6a5246&quot;);\r\n\r\n      Group g = new Group();\r\n      g.getChildren().add(r);\r\n      g.getChildren().add(r2);\r\n      gp.getChildren().add(g);\r\n\r\n      r.setLayoutX(r.getLayoutX() - deltaX);\r\n      r.setLayoutY(r.getLayoutY() - deltaY);\r\n    } else {\r\n      //Unstyle\r\n      r2.setStyle(&quot;-fx-background-color: #ffffff&quot;);\r\n      r.setStyle(&quot;-fx-background-color: #ffffff&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n(I&#39;ve got rid of the `setOnDragegd` method, which would only be setting the `onMouseDragged` handler and defined a `testCollision` method specialized in assessing collisions with the pane being dragged)\r\n\r\nYou will still have a problem with the styling though, as you&#39;re re-doing it any time you detect one collision, whereas any pane could very well be intersecting with several other ones at any time... \r\nThat could be solved in 2 obvious ways :\r\n1. Memorizing the known intersections, and updating them as a pane is being dragged, then assessing which panes should be colored\r\n2. Re-testing every possible collision on every event by assessing each pane against every other one preceding it the `stackPanes` arrayList instead of the simple loop I offered here. *(viable only for small numbers of panes)*\r\n\r\nBut that could be for another question...","title":"Collection of StackPanes collision detection","body":"<p>You need to test for collision with <em>all</em> other panes in the handler for <code>StackPane.onMouseDragged</code>, for each pane you add to the collection.</p>\n<p>What you're doing now is incorrect because you re-set the handler for each pane any time you add a new StackPane. That may work using <code>StackPane.addEventHandler(MouseEvent.MOUSE_DRAGGED, ...)</code> instead of <code>StackPane.setOnMouseDragged(...)</code>, but it would be heavy, slow, and memory consuming, as it would potentially chain a large number of event handlers for each new StackPane.</p>\n<p>As you've only got one moving pane at once (when it's being dragged), you'd rather set the <code>onMouseDragged</code> handler once for each new pane, and then inside this handler, loop through your <code>stackPanes</code> ArrayList to test for intersection with all other panes, which would change your code to something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void addToRectCollection(StackPane r) {\n  stackPanes.add(r);\n  r.setOnMouseDragged((MouseEvent event) -&gt; {\n    double deltaX = event.getSceneX() - mousePosition.get().getX();\n    double deltaY = event.getSceneY() - mousePosition.get().getY();\n    r.setLayoutX(r.getLayoutX() + deltaX);\n    r.setLayoutY(r.getLayoutY() + deltaY);\n    mousePosition.set(new Point2D(event.getSceneX(), event.getSceneY()));\n    //Test collision for this pane with all other ones\n    testCollision(r);\n  });\n}\n\nprivate void testCollision(StackPane r) {\n  //Loop through all stackPanes\n  for (StackPane r2 : stackPanes) {\n    if (r2 == r) //except r\n      continue;\n    //test intersection with r\n    var intersect = r.getBoundsInParent().intersects(r2.getBoundsInParent());\n    if (intersect) {\n      //Style intersecting pane\n      r2.setStyle(&quot;-fx-background-color: #6a5246&quot;);\n      r.setStyle(&quot;-fx-background-color: #6a5246&quot;);\n\n      Group g = new Group();\n      g.getChildren().add(r);\n      g.getChildren().add(r2);\n      gp.getChildren().add(g);\n\n      r.setLayoutX(r.getLayoutX() - deltaX);\n      r.setLayoutY(r.getLayoutY() - deltaY);\n    } else {\n      //Unstyle\n      r2.setStyle(&quot;-fx-background-color: #ffffff&quot;);\n      r.setStyle(&quot;-fx-background-color: #ffffff&quot;);\n    }\n  }\n}\n</code></pre>\n<p>(I've got rid of the <code>setOnDragegd</code> method, which would only be setting the <code>onMouseDragged</code> handler and defined a <code>testCollision</code> method specialized in assessing collisions with the pane being dragged)</p>\n<p>You will still have a problem with the styling though, as you're re-doing it any time you detect one collision, whereas any pane could very well be intersecting with several other ones at any time...\nThat could be solved in 2 obvious ways :</p>\n<ol>\n<li>Memorizing the known intersections, and updating them as a pane is being dragged, then assessing which panes should be colored</li>\n<li>Re-testing every possible collision on every event by assessing each pane against every other one preceding it the <code>stackPanes</code> arrayList instead of the simple loop I offered here. <em>(viable only for small numbers of panes)</em></li>\n</ol>\n<p>But that could be for another question...</p>\n"}],"owner":{"display_name":"user12420288"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73617869,"answer_count":1,"score":-1,"last_activity_date":1662545483,"creation_date":1662306284,"question_id":73600735,"body_markdown":"I have a collection of shapes that I am trying to check for collision between each other, but I all I have achieved so far is detecting collisions between three nodes closest to each other.\r\n\r\nThe method addToRectCollection adds stack panes to the collection, onDragged males each shape draggable.\r\n\r\nWhat should I change/add to detect collisions between all of the elements of the collection?\r\n\r\nBelow is my code:\r\n\r\n    public class CollisionDection extends Application {\r\n        final ObjectProperty&lt;Point2D&gt; mousePosition = new SimpleObjectProperty&lt;&gt;();\r\n        Group gp = new Group();\r\n\r\n        *I try to detect collisions between elements of this list*\r\n        ArrayList&lt;StackPane&gt; stackPanes = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n    \r\n            Scene sc = new Scene(gp, 700, 300);\r\n    \r\n            Button btn = new Button();\r\n            btn.setText(&quot;CREATE REct&quot;);\r\n    \r\n            btn.setOnAction(event -&gt; {\r\n                Rectangle r = createRect(0);\r\n                r.setFill(Color.RED);\r\n    \r\n                Text text = new Text(&quot;.&quot;);\r\n                StackPane stack = new StackPane();\r\n    \r\n                StackPane.setMargin(r, new Insets(8, 8, 8, 8));\r\n                stack.getChildren().addAll(r, text);\r\n    \r\n                ChoiceBox&lt;String&gt; dropdown = new ChoiceBox&lt;&gt;();\r\n                stack.getChildren().add(dropdown);\r\n    \r\n                makeDraggable(stack);\r\n                addToRectCollection(stack);\r\n    \r\n                gp.getChildren().add(stack);\r\n            });\r\n    \r\n            gp.getChildren().add(btn);\r\n    \r\n            stage.setScene(sc);\r\n            stage.show();\r\n        }\r\n    \r\n        private void addToRectCollection(StackPane r) {\r\n            stackPanes.add(r);\r\n            stackPanes.forEach(rect -&gt; {\r\n                stackPanes.forEach(rect2 -&gt; {\r\n                    if (!rect.equals(rect2)) {\r\n                        setOnDragegd(rect2, rect);\r\n                        setOnDragegd(rect, rect2);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    \r\n        private void setOnDragegd(StackPane pane, StackPane paneToSetDragged) {\r\n            paneToSetDragged.setOnMouseDragged((MouseEvent event) -&gt; {\r\n                double deltaX = event.getSceneX() - mousePosition.get().getX();\r\n                double deltaY = event.getSceneY() - mousePosition.get().getY();\r\n                paneToSetDragged.setLayoutX(paneToSetDragged.getLayoutX() + deltaX);\r\n                paneToSetDragged.setLayoutY(paneToSetDragged.getLayoutY() + deltaY);\r\n                mousePosition.set(new Point2D(event.getSceneX(), event.getSceneY()));\r\n    \r\n                var intersect = paneToSetDragged.getBoundsInParent().intersects(pane.getBoundsInParent());\r\n                if (intersect) {\r\n    \r\n                    pane.setStyle(&quot;-fx-background-color: #6a5246&quot;);\r\n                    paneToSetDragged.setStyle(&quot;-fx-background-color: #6a5246&quot;);\r\n    \r\n                    Group g = new Group();\r\n                    g.getChildren().add(paneToSetDragged);\r\n                    g.getChildren().add(pane);\r\n                    gp.getChildren().add(g);\r\n    \r\n                    paneToSetDragged.setLayoutX(paneToSetDragged.getLayoutX() - deltaX);\r\n                    paneToSetDragged.setLayoutY(paneToSetDragged.getLayoutY() - deltaY);\r\n                } else {\r\n                    pane.setStyle(&quot;-fx-background-color: #ffffff&quot;);\r\n                    paneToSetDragged.setStyle(&quot;-fx-background-color: #ffffff&quot;);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void makeDraggable(StackPane ractangleToSetDragged) {\r\n            ractangleToSetDragged.setOnMousePressed((MouseEvent event) -&gt; mousePosition.set(new Point2D(event.getSceneX(), event.getSceneY())));\r\n    \r\n            ractangleToSetDragged.setOnMouseDragged((MouseEvent event) -&gt; {\r\n                double deltaX = event.getSceneX() - mousePosition.get().getX();\r\n                double deltaY = event.getSceneY() - mousePosition.get().getY();\r\n                ractangleToSetDragged.setLayoutX(ractangleToSetDragged.getLayoutX() + deltaX);\r\n                ractangleToSetDragged.setLayoutY(ractangleToSetDragged.getLayoutY() + deltaY);\r\n                mousePosition.set(new Point2D(event.getSceneX(), event.getSceneY()));\r\n            });\r\n        }\r\n    \r\n        public Rectangle createRect(int x) {\r\n            Rectangle r = new Rectangle();\r\n            r.setX(x);\r\n            r.setY(60);\r\n            r.setWidth(300);\r\n            r.setHeight(150);\r\n    \r\n            return r;\r\n        }\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }","title":"Collection of StackPanes collision detection","body":"<p>I have a collection of shapes that I am trying to check for collision between each other, but I all I have achieved so far is detecting collisions between three nodes closest to each other.</p>\n<p>The method addToRectCollection adds stack panes to the collection, onDragged males each shape draggable.</p>\n<p>What should I change/add to detect collisions between all of the elements of the collection?</p>\n<p>Below is my code:</p>\n<pre><code>public class CollisionDection extends Application {\n    final ObjectProperty&lt;Point2D&gt; mousePosition = new SimpleObjectProperty&lt;&gt;();\n    Group gp = new Group();\n\n    *I try to detect collisions between elements of this list*\n    ArrayList&lt;StackPane&gt; stackPanes = new ArrayList&lt;&gt;();\n\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        Scene sc = new Scene(gp, 700, 300);\n\n        Button btn = new Button();\n        btn.setText(&quot;CREATE REct&quot;);\n\n        btn.setOnAction(event -&gt; {\n            Rectangle r = createRect(0);\n            r.setFill(Color.RED);\n\n            Text text = new Text(&quot;.&quot;);\n            StackPane stack = new StackPane();\n\n            StackPane.setMargin(r, new Insets(8, 8, 8, 8));\n            stack.getChildren().addAll(r, text);\n\n            ChoiceBox&lt;String&gt; dropdown = new ChoiceBox&lt;&gt;();\n            stack.getChildren().add(dropdown);\n\n            makeDraggable(stack);\n            addToRectCollection(stack);\n\n            gp.getChildren().add(stack);\n        });\n\n        gp.getChildren().add(btn);\n\n        stage.setScene(sc);\n        stage.show();\n    }\n\n    private void addToRectCollection(StackPane r) {\n        stackPanes.add(r);\n        stackPanes.forEach(rect -&gt; {\n            stackPanes.forEach(rect2 -&gt; {\n                if (!rect.equals(rect2)) {\n                    setOnDragegd(rect2, rect);\n                    setOnDragegd(rect, rect2);\n                }\n            });\n        });\n    }\n\n    private void setOnDragegd(StackPane pane, StackPane paneToSetDragged) {\n        paneToSetDragged.setOnMouseDragged((MouseEvent event) -&gt; {\n            double deltaX = event.getSceneX() - mousePosition.get().getX();\n            double deltaY = event.getSceneY() - mousePosition.get().getY();\n            paneToSetDragged.setLayoutX(paneToSetDragged.getLayoutX() + deltaX);\n            paneToSetDragged.setLayoutY(paneToSetDragged.getLayoutY() + deltaY);\n            mousePosition.set(new Point2D(event.getSceneX(), event.getSceneY()));\n\n            var intersect = paneToSetDragged.getBoundsInParent().intersects(pane.getBoundsInParent());\n            if (intersect) {\n\n                pane.setStyle(&quot;-fx-background-color: #6a5246&quot;);\n                paneToSetDragged.setStyle(&quot;-fx-background-color: #6a5246&quot;);\n\n                Group g = new Group();\n                g.getChildren().add(paneToSetDragged);\n                g.getChildren().add(pane);\n                gp.getChildren().add(g);\n\n                paneToSetDragged.setLayoutX(paneToSetDragged.getLayoutX() - deltaX);\n                paneToSetDragged.setLayoutY(paneToSetDragged.getLayoutY() - deltaY);\n            } else {\n                pane.setStyle(&quot;-fx-background-color: #ffffff&quot;);\n                paneToSetDragged.setStyle(&quot;-fx-background-color: #ffffff&quot;);\n            }\n        });\n    }\n\n    private void makeDraggable(StackPane ractangleToSetDragged) {\n        ractangleToSetDragged.setOnMousePressed((MouseEvent event) -&gt; mousePosition.set(new Point2D(event.getSceneX(), event.getSceneY())));\n\n        ractangleToSetDragged.setOnMouseDragged((MouseEvent event) -&gt; {\n            double deltaX = event.getSceneX() - mousePosition.get().getX();\n            double deltaY = event.getSceneY() - mousePosition.get().getY();\n            ractangleToSetDragged.setLayoutX(ractangleToSetDragged.getLayoutX() + deltaX);\n            ractangleToSetDragged.setLayoutY(ractangleToSetDragged.getLayoutY() + deltaY);\n            mousePosition.set(new Point2D(event.getSceneX(), event.getSceneY()));\n        });\n    }\n\n    public Rectangle createRect(int x) {\n        Rectangle r = new Rectangle();\n        r.setX(x);\n        r.setY(60);\n        r.setWidth(300);\n        r.setHeight(150);\n\n        return r;\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","mocking","mockito","apache-commons-httpclient"],"answers":[{"tags":[],"owner":{"account_id":1089354,"reputation":5218,"user_id":1084353,"accept_rate":52,"display_name":"Popcorn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1383863194,"creation_date":1383863194,"answer_id":19847973,"question_id":19846526,"body_markdown":"nvm, I ended up just hacking it by using `execute()`:\r\n\r\n\r\n    private CloseableHttpResponse getMockClosesableHttpResponse(HttpResponse response) throws Exception {\r\n        CloseableHttpClient httpClient = HttpClients.createDefault();\r\n        CloseableHttpResponse closeableHttpResponse = httpClient.execute(new HttpGet(&quot;http://www.test.com&quot;));\r\n        closeableHttpResponse.setEntity(response.getEntity());\r\n        closeableHttpResponse.setStatusLine(response.getStatusLine());\r\n        return closeableHttpResponse;\r\n    }\r\n\r\n","title":"How can I create a CloseableHttpResponse object to help testing?","body":"<p>nvm, I ended up just hacking it by using <code>execute()</code>:</p>\n\n<pre><code>private CloseableHttpResponse getMockClosesableHttpResponse(HttpResponse response) throws Exception {\n    CloseableHttpClient httpClient = HttpClients.createDefault();\n    CloseableHttpResponse closeableHttpResponse = httpClient.execute(new HttpGet(\"http://www.test.com\"));\n    closeableHttpResponse.setEntity(response.getEntity());\n    closeableHttpResponse.setStatusLine(response.getStatusLine());\n    return closeableHttpResponse;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2385421,"reputation":51,"user_id":2086497,"display_name":"nnguyen07"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1390209471,"creation_date":1390209471,"answer_id":21230131,"question_id":19846526,"body_markdown":"Follow these steps may help:\r\n\r\n1.mock it (ex. mockito)\r\n\r\n    CloseableHttpResponse response = mock(CloseableHttpResponse.class);\r\n    HttpEntity entity = mock(HttpEntity.class);\r\n\r\n2.apply some rules\r\n\r\n    when(response.getStatusLine()).thenReturn(new BasicStatusLine(HttpVersion.HTTP_1_1, HttpStatus.SC_OK, &quot;FINE!&quot;));\r\n    when(entity.getContent()).thenReturn(getClass().getClassLoader().getResourceAsStream(&quot;result.txt&quot;));\r\n    when(response.getEntity()).thenReturn(entity);\r\n\r\n3.use it \r\n\r\n    when(httpClient.execute((HttpGet) any())).thenReturn(response);","title":"How can I create a CloseableHttpResponse object to help testing?","body":"<p>Follow these steps may help:</p>\n\n<p>1.mock it (ex. mockito)</p>\n\n<pre><code>CloseableHttpResponse response = mock(CloseableHttpResponse.class);\nHttpEntity entity = mock(HttpEntity.class);\n</code></pre>\n\n<p>2.apply some rules</p>\n\n<pre><code>when(response.getStatusLine()).thenReturn(new BasicStatusLine(HttpVersion.HTTP_1_1, HttpStatus.SC_OK, \"FINE!\"));\nwhen(entity.getContent()).thenReturn(getClass().getClassLoader().getResourceAsStream(\"result.txt\"));\nwhen(response.getEntity()).thenReturn(entity);\n</code></pre>\n\n<p>3.use it </p>\n\n<pre><code>when(httpClient.execute((HttpGet) any())).thenReturn(response);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1340445,"reputation":2285,"user_id":1282219,"accept_rate":69,"display_name":"sea-rob"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422486825,"creation_date":1422486825,"answer_id":28204232,"question_id":19846526,"body_markdown":"I wanted to create a concrete CloseableHttpResponse rather than a mock, too, so I tracked it down in the Apache HTTP client source code.\r\n\r\nIn [MainClientExec][1], all the return values from execute look like:\r\n\r\n    return new HttpResponseProxy(response, connHolder);\r\n\r\nwhere connHolder can be null.\r\n\r\n[HttpResponseProxy][2] is just a thin wrapper that does a close on the connHolder. Unfortunately, it is package protected, so it&#39;s not (necessarily) visible.\r\n\r\nWhat I did was create a &quot;PublicHttpResponseProxy&quot;\r\n\r\n    package org.apache.http.impl.execchain;\r\n\r\n    import org.apache.http.HttpResponse;\r\n\r\n    public class PublicHttpResponseProxy extends HttpResponseProxy {\r\n\r\n        public PublicHttpResponseProxy(HttpResponse original) {\r\n            super(original, null);\r\n        }\r\n    }\r\n\r\nMust be in package &quot;org.apache.http.impl.execchain&quot; (!) Basically bumps the visiblity to public and provide a constructor with null connection handler.\r\n\r\nNow I can instantiate a concrete CloseableHttpResponse with\r\n\r\n    CloseableHttpResponse response = new PublicHttpResponseProxy(basicResponse);\r\n\r\nThe usual caveats apply. Since the proxy is package protected, it&#39;s not a part of the official API, so you might be rolling the dice that it will be unavailable later. On the other hand, there&#39;s not much to it, so you could easily just write your own version of it. There would be some cut-and-pasting, but it wouldn&#39;t be so bad.\r\n\r\n[1]: https://github.com/apache/httpclient/blob/trunk/httpclient/src/main/java/org/apache/http/impl/execchain/MainClientExec.java\r\n\r\n[2]: https://github.com/apache/httpclient/blob/trunk/httpclient/src/main/java/org/apache/http/impl/execchain/HttpResponseProxy.java","title":"How can I create a CloseableHttpResponse object to help testing?","body":"<p>I wanted to create a concrete CloseableHttpResponse rather than a mock, too, so I tracked it down in the Apache HTTP client source code.</p>\n\n<p>In <a href=\"https://github.com/apache/httpclient/blob/trunk/httpclient/src/main/java/org/apache/http/impl/execchain/MainClientExec.java\" rel=\"nofollow\">MainClientExec</a>, all the return values from execute look like:</p>\n\n<pre><code>return new HttpResponseProxy(response, connHolder);\n</code></pre>\n\n<p>where connHolder can be null.</p>\n\n<p><a href=\"https://github.com/apache/httpclient/blob/trunk/httpclient/src/main/java/org/apache/http/impl/execchain/HttpResponseProxy.java\" rel=\"nofollow\">HttpResponseProxy</a> is just a thin wrapper that does a close on the connHolder. Unfortunately, it is package protected, so it's not (necessarily) visible.</p>\n\n<p>What I did was create a \"PublicHttpResponseProxy\"</p>\n\n<pre><code>package org.apache.http.impl.execchain;\n\nimport org.apache.http.HttpResponse;\n\npublic class PublicHttpResponseProxy extends HttpResponseProxy {\n\n    public PublicHttpResponseProxy(HttpResponse original) {\n        super(original, null);\n    }\n}\n</code></pre>\n\n<p>Must be in package \"org.apache.http.impl.execchain\" (!) Basically bumps the visiblity to public and provide a constructor with null connection handler.</p>\n\n<p>Now I can instantiate a concrete CloseableHttpResponse with</p>\n\n<pre><code>CloseableHttpResponse response = new PublicHttpResponseProxy(basicResponse);\n</code></pre>\n\n<p>The usual caveats apply. Since the proxy is package protected, it's not a part of the official API, so you might be rolling the dice that it will be unavailable later. On the other hand, there's not much to it, so you could easily just write your own version of it. There would be some cut-and-pasting, but it wouldn't be so bad.</p>\n"},{"tags":[],"owner":{"account_id":426815,"reputation":8635,"user_id":808244,"accept_rate":90,"display_name":"superM"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1440168826,"creation_date":1440168826,"answer_id":32143480,"question_id":19846526,"body_markdown":"It&#39;s been a while since this question has been asked, but I want to provide a solution I used.\r\n\r\nI&#39;ve created a small class which extends the `BasicHttpResponse` class and  implements the `CloseableHttpResponse` interface (which has nothing but a method to close the response). Since the `BasicHttpResponse` class contains setter methods for pretty much everything, I can set all the fields I need with the following piece of code:\r\n\r\n    public static CloseableHttpResponse buildMockResponse() throws FileNotFoundException {\r\n        ProtocolVersion protocolVersion = new ProtocolVersion(&quot;HTTP&quot;, 1, 1);\r\n        String reasonPhrase = &quot;OK&quot;;\r\n        StatusLine statusline = new BasicStatusLine(protocolVersion, HttpStatus.SC_OK, reasonPhrase);\r\n        MockCloseableHttpResponse mockResponse = new MockCloseableHttpResponse(statusline);\r\n        BasicHttpEntity entity = new BasicHttpEntity();\r\n        URL url = Thread.currentThread().getContextClassLoader().getResource(&quot;response.txt&quot;);\r\n        InputStream instream = new FileInputStream(new File(url.getPath()));\r\n        entity.setContent(instream);\r\n        mockResponse.setEntity(entity);\r\n        return mockResponse;\r\n    }\r\n\r\nI basically set all the fields, which are used by the actual code. This also includes reading a mock response content from a file into a stream.\r\n\r\n\r\n\r\n\r\n\r\n\r\n ","title":"How can I create a CloseableHttpResponse object to help testing?","body":"<p>It's been a while since this question has been asked, but I want to provide a solution I used.</p>\n\n<p>I've created a small class which extends the <code>BasicHttpResponse</code> class and  implements the <code>CloseableHttpResponse</code> interface (which has nothing but a method to close the response). Since the <code>BasicHttpResponse</code> class contains setter methods for pretty much everything, I can set all the fields I need with the following piece of code:</p>\n\n<pre><code>public static CloseableHttpResponse buildMockResponse() throws FileNotFoundException {\n    ProtocolVersion protocolVersion = new ProtocolVersion(\"HTTP\", 1, 1);\n    String reasonPhrase = \"OK\";\n    StatusLine statusline = new BasicStatusLine(protocolVersion, HttpStatus.SC_OK, reasonPhrase);\n    MockCloseableHttpResponse mockResponse = new MockCloseableHttpResponse(statusline);\n    BasicHttpEntity entity = new BasicHttpEntity();\n    URL url = Thread.currentThread().getContextClassLoader().getResource(\"response.txt\");\n    InputStream instream = new FileInputStream(new File(url.getPath()));\n    entity.setContent(instream);\n    mockResponse.setEntity(entity);\n    return mockResponse;\n}\n</code></pre>\n\n<p>I basically set all the fields, which are used by the actual code. This also includes reading a mock response content from a file into a stream.</p>\n"},{"tags":[],"owner":{"account_id":17905252,"reputation":11,"user_id":13008585,"display_name":"LoganL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583355378,"creation_date":1583355378,"answer_id":60534566,"question_id":19846526,"body_markdown":"Its easy enough to just create a test implementation piggybacking off the existing BasicHttpResponse type:\r\n\r\n    public class TestCloseableHttpResponse extends BasicHttpResponse implements CloseableHttpResponse {\r\n    \r\n        public TestCloseableHttpResponse(StatusLine statusline, ReasonPhraseCatalog catalog, Locale locale) {\r\n            super(statusline, catalog, locale);\r\n        }\r\n    \r\n        public TestCloseableHttpResponse(StatusLine statusline) {\r\n            super(statusline);\r\n        }\r\n    \r\n        public TestCloseableHttpResponse(ProtocolVersion ver, int code, String reason) {\r\n            super(ver, code, reason);\r\n        }\r\n        \r\n    \r\n        @Override\r\n        public void close() throws IOException { }\r\n    \r\n    }","title":"How can I create a CloseableHttpResponse object to help testing?","body":"<p>Its easy enough to just create a test implementation piggybacking off the existing BasicHttpResponse type:</p>\n\n<pre><code>public class TestCloseableHttpResponse extends BasicHttpResponse implements CloseableHttpResponse {\n\n    public TestCloseableHttpResponse(StatusLine statusline, ReasonPhraseCatalog catalog, Locale locale) {\n        super(statusline, catalog, locale);\n    }\n\n    public TestCloseableHttpResponse(StatusLine statusline) {\n        super(statusline);\n    }\n\n    public TestCloseableHttpResponse(ProtocolVersion ver, int code, String reason) {\n        super(ver, code, reason);\n    }\n\n\n    @Override\n    public void close() throws IOException { }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13489547,"reputation":31,"user_id":9732264,"display_name":"Gaurav Kumar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1625649505,"creation_date":1625596552,"answer_id":68275818,"question_id":19846526,"body_markdown":"This worked for me:\r\n\r\n    HttpEntity httpEntity = mock(HttpEntity.class); // mocked\r\n\r\n    CloseableHttpResponse closeableHttpResponse = mock(CloseableHttpResponse.class) // mocked\r\n\r\n    CloseableHttpClient closeableHttpClient = mock(CloseableHttpClient .class) // mocked\r\n\r\n    String resultJson =\r\n        &quot;{\\&quot;key\\&quot;: \\&quot;value\\&quot;}&quot;;\r\n\r\n    InputStream is = new ByteArrayInputStream( resultJson.getBytes() );\r\n\r\n    Mockito.when(httpEntity.getContent()).thenReturn(is);\r\n    Mockito.when( httpEntity.getContentLength() ).thenReturn(Long.valueOf(.length()));\r\n    StatusLine statusLine = new BasicStatusLine(new ProtocolVersion(&quot;http&quot;, 1, 1), 200, &quot;success&quot;);\r\n    Mockito.when(httpEntity.toString()).thenReturn(resultJson);\r\n    Mockito.when(closeableHttpResponse.getEntity()).thenReturn(httpEntity);\r\n    Mockito.when(closeableHttpResponse.getStatusLine()).thenReturn(statusLine);\r\n\r\n    Mockito.when(closeableHttpClient.execute((HttpPost) \r\n    Mockito.any())).thenReturn(closeableHttpResponse);\r\n","title":"How can I create a CloseableHttpResponse object to help testing?","body":"<p>This worked for me:</p>\n<pre><code>HttpEntity httpEntity = mock(HttpEntity.class); // mocked\n\nCloseableHttpResponse closeableHttpResponse = mock(CloseableHttpResponse.class) // mocked\n\nCloseableHttpClient closeableHttpClient = mock(CloseableHttpClient .class) // mocked\n\nString resultJson =\n    &quot;{\\&quot;key\\&quot;: \\&quot;value\\&quot;}&quot;;\n\nInputStream is = new ByteArrayInputStream( resultJson.getBytes() );\n\nMockito.when(httpEntity.getContent()).thenReturn(is);\nMockito.when( httpEntity.getContentLength() ).thenReturn(Long.valueOf(.length()));\nStatusLine statusLine = new BasicStatusLine(new ProtocolVersion(&quot;http&quot;, 1, 1), 200, &quot;success&quot;);\nMockito.when(httpEntity.toString()).thenReturn(resultJson);\nMockito.when(closeableHttpResponse.getEntity()).thenReturn(httpEntity);\nMockito.when(closeableHttpResponse.getStatusLine()).thenReturn(statusLine);\n\nMockito.when(closeableHttpClient.execute((HttpPost) \nMockito.any())).thenReturn(closeableHttpResponse);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1016338,"reputation":3267,"user_id":1027842,"accept_rate":75,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646917315,"creation_date":1646916420,"answer_id":71424389,"question_id":19846526,"body_markdown":"My approach is to create a simple `CloseableHttpResponse` and then use it as a response when mocking the `CloseableHttpClient`.\r\n\r\n```\r\npublic class TestCloseableHttpResponse extends BasicHttpResponse implements CloseableHttpResponse {\r\n\r\n    public TestCloseableHttpResponse(ProtocolVersion ver, int code, String reason) {\r\n        super(ver, code, reason);\r\n    }\r\n\r\n        public TestCloseableHttpResponse(ProtocolVersion ver, int code, String reason, String entityString) {\r\n            this(ver, code, reason);\r\n            setEntity(new StringEntity(entityString, Charset.defaultCharset()));\r\n        }\r\n\r\n    @Override\r\n    public void close() throws IOException {\r\n        // we don&#39;t care about closing any connections in mocking tests\r\n    }\r\n}\r\n```\r\n\r\nand then in tests you can simply write:\r\n\r\n```\r\nCloseableHttpResponse okResponse = new TestCloseableHttpResponse(HttpVersion.HTTP_1_1, 200, &quot;OK&quot;);\r\n```\r\nof if tou want to get some `Entity`:\r\n```\r\nCloseableHttpResponse okResponse = new TestCloseableHttpResponse(HttpVersion.HTTP_1_1, 200, &quot;OK&quot;, &quot;some text&quot;);\r\n```\r\n\r\nIn your case you probably want to use mock it like this:\r\n```\r\nwhen(httpClient.execute(any())).thenReturn(okResponse);\r\n```","title":"How can I create a CloseableHttpResponse object to help testing?","body":"<p>My approach is to create a simple <code>CloseableHttpResponse</code> and then use it as a response when mocking the <code>CloseableHttpClient</code>.</p>\n<pre><code>public class TestCloseableHttpResponse extends BasicHttpResponse implements CloseableHttpResponse {\n\n    public TestCloseableHttpResponse(ProtocolVersion ver, int code, String reason) {\n        super(ver, code, reason);\n    }\n\n        public TestCloseableHttpResponse(ProtocolVersion ver, int code, String reason, String entityString) {\n            this(ver, code, reason);\n            setEntity(new StringEntity(entityString, Charset.defaultCharset()));\n        }\n\n    @Override\n    public void close() throws IOException {\n        // we don't care about closing any connections in mocking tests\n    }\n}\n</code></pre>\n<p>and then in tests you can simply write:</p>\n<pre><code>CloseableHttpResponse okResponse = new TestCloseableHttpResponse(HttpVersion.HTTP_1_1, 200, &quot;OK&quot;);\n</code></pre>\n<p>of if tou want to get some <code>Entity</code>:</p>\n<pre><code>CloseableHttpResponse okResponse = new TestCloseableHttpResponse(HttpVersion.HTTP_1_1, 200, &quot;OK&quot;, &quot;some text&quot;);\n</code></pre>\n<p>In your case you probably want to use mock it like this:</p>\n<pre><code>when(httpClient.execute(any())).thenReturn(okResponse);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13111096,"reputation":364,"user_id":9472095,"display_name":"Antony Vimal Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654684246,"creation_date":1654684246,"answer_id":72544148,"question_id":19846526,"body_markdown":"In my use case, I am using the httpClient in RestTemplate. So I need to mock some additional methods too, like below:\r\n\r\n    CloseableHttpResponse response = mock(CloseableHttpResponse.class);\r\n    HttpEntity entity = mock(HttpEntity.class);\r\n    when(response.getStatusLine()).thenReturn(new BasicStatusLine(HttpVersion.HTTP_1_1, HttpStatus.SC_OK, &quot;OK&quot;));\r\n    when(entity.getContent()).thenReturn(new ByteArrayInputStream(&quot;{\\&quot;response\\&quot;: \\&quot;test\\&quot;}&quot;.getBytes()));\r\n    when(response.getAllHeaders()).thenReturn(new BasicHeader[]{new BasicHeader(&quot;test&quot;, &quot;test&quot;)});\r\n    when(response.getEntity()).thenReturn(entity);\r\n    doNothing().when(response).close();\r\n    \r\n    when(httpClient.execute(any(), (HttpRequest) any(), (HttpContext) any())).thenReturn(response);","title":"How can I create a CloseableHttpResponse object to help testing?","body":"<p>In my use case, I am using the httpClient in RestTemplate. So I need to mock some additional methods too, like below:</p>\n<pre><code>CloseableHttpResponse response = mock(CloseableHttpResponse.class);\nHttpEntity entity = mock(HttpEntity.class);\nwhen(response.getStatusLine()).thenReturn(new BasicStatusLine(HttpVersion.HTTP_1_1, HttpStatus.SC_OK, &quot;OK&quot;));\nwhen(entity.getContent()).thenReturn(new ByteArrayInputStream(&quot;{\\&quot;response\\&quot;: \\&quot;test\\&quot;}&quot;.getBytes()));\nwhen(response.getAllHeaders()).thenReturn(new BasicHeader[]{new BasicHeader(&quot;test&quot;, &quot;test&quot;)});\nwhen(response.getEntity()).thenReturn(entity);\ndoNothing().when(response).close();\n\nwhen(httpClient.execute(any(), (HttpRequest) any(), (HttpContext) any())).thenReturn(response);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18504101,"reputation":21,"user_id":13480788,"display_name":"Mesut Uluag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662545077,"creation_date":1662545077,"answer_id":73633597,"question_id":19846526,"body_markdown":"Use mockito inline that is mentioned [here][1], it lets you to mock final classes\r\n\r\n  [1]: https://stackoverflow.com/questions/14292863/how-to-mock-a-final-class-with-mockito","title":"How can I create a CloseableHttpResponse object to help testing?","body":"<p>Use mockito inline that is mentioned <a href=\"https://stackoverflow.com/questions/14292863/how-to-mock-a-final-class-with-mockito\">here</a>, it lets you to mock final classes</p>\n"}],"owner":{"account_id":1089354,"reputation":5218,"user_id":1084353,"accept_rate":52,"display_name":"Popcorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34073,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":9,"score":25,"last_activity_date":1662545077,"creation_date":1383857748,"question_id":19846526,"body_markdown":"I&#39;m trying to construct a [CloseableHttpResponse][1] mock object to be returned in one of my unit tests, but there&#39;s no constructor for it. I found this [DefaultHttpResponseFactory][2], but it only makes a HttpResponse. What&#39;s a simple way to construct a CloseableHttpResponse? Do I need to call `execute()` in my test and then set the `statusLine` and `entity`? That seems like a weird approach.\r\n\r\nHere&#39;s the method I&#39;m trying to mock:\r\n\r\n\r\n    public static CloseableHttpResponse getViaProxy(String url, String ip, int port, String username,\r\n                                                    String password) {\r\n        CredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n        credsProvider.setCredentials(\r\n                new AuthScope(ip, port),\r\n                new UsernamePasswordCredentials(username, password));\r\n        CloseableHttpClient httpclient = HttpClients.custom()\r\n                .setDefaultCredentialsProvider(credsProvider).build();\r\n        try {\r\n            RequestConfig config = RequestConfig.custom()\r\n                    .setProxy(new HttpHost(ip, port))\r\n                    .build();\r\n            HttpGet httpGet = new HttpGet(url);\r\n            httpGet.setConfig(config);\r\n\r\n            LOGGER.info(&quot;executing request: &quot; + httpGet.getRequestLine() + &quot; via proxy ip: &quot; + ip + &quot; port: &quot; + port +\r\n                    &quot; username: &quot; + username + &quot; password: &quot; + password);\r\n\r\n            CloseableHttpResponse response = null;\r\n            try {\r\n                return httpclient.execute(httpGet);\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(&quot;Could not GET with &quot; + url + &quot; via proxy ip: &quot; + ip + &quot; port: &quot; + port +\r\n                        &quot; username: &quot; + username + &quot; password: &quot; + password, e);\r\n            } finally {\r\n                try {\r\n                    response.close();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(&quot;Could not close response&quot;, e);\r\n                }\r\n            }\r\n        } finally {\r\n            try {\r\n                httpclient.close();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(&quot;Could not close httpclient&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nHere&#39;s the mock code using PowerMockito:\r\n\r\n        mockStatic(HttpUtils.class);\r\n        when(HttpUtils.getViaProxy(&quot;http://www.google.com&quot;, anyString(), anyInt(), anyString(), anyString()).thenReturn(/*mockedCloseableHttpResponseObject goes here*/)\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/client/methods/CloseableHttpResponse.html\r\n  [2]: http://hc.apache.org/httpcomponents-core-4.2.x/httpcore/apidocs/org/apache/http/impl/DefaultHttpResponseFactory.html","title":"How can I create a CloseableHttpResponse object to help testing?","body":"<p>I'm trying to construct a <a href=\"https://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/client/methods/CloseableHttpResponse.html\" rel=\"noreferrer\">CloseableHttpResponse</a> mock object to be returned in one of my unit tests, but there's no constructor for it. I found this <a href=\"http://hc.apache.org/httpcomponents-core-4.2.x/httpcore/apidocs/org/apache/http/impl/DefaultHttpResponseFactory.html\" rel=\"noreferrer\">DefaultHttpResponseFactory</a>, but it only makes a HttpResponse. What's a simple way to construct a CloseableHttpResponse? Do I need to call <code>execute()</code> in my test and then set the <code>statusLine</code> and <code>entity</code>? That seems like a weird approach.</p>\n\n<p>Here's the method I'm trying to mock:</p>\n\n<pre><code>public static CloseableHttpResponse getViaProxy(String url, String ip, int port, String username,\n                                                String password) {\n    CredentialsProvider credsProvider = new BasicCredentialsProvider();\n    credsProvider.setCredentials(\n            new AuthScope(ip, port),\n            new UsernamePasswordCredentials(username, password));\n    CloseableHttpClient httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credsProvider).build();\n    try {\n        RequestConfig config = RequestConfig.custom()\n                .setProxy(new HttpHost(ip, port))\n                .build();\n        HttpGet httpGet = new HttpGet(url);\n        httpGet.setConfig(config);\n\n        LOGGER.info(\"executing request: \" + httpGet.getRequestLine() + \" via proxy ip: \" + ip + \" port: \" + port +\n                \" username: \" + username + \" password: \" + password);\n\n        CloseableHttpResponse response = null;\n        try {\n            return httpclient.execute(httpGet);\n        } catch (Exception e) {\n            throw new RuntimeException(\"Could not GET with \" + url + \" via proxy ip: \" + ip + \" port: \" + port +\n                    \" username: \" + username + \" password: \" + password, e);\n        } finally {\n            try {\n                response.close();\n            } catch (Exception e) {\n                throw new RuntimeException(\"Could not close response\", e);\n            }\n        }\n    } finally {\n        try {\n            httpclient.close();\n        } catch (Exception e) {\n            throw new RuntimeException(\"Could not close httpclient\", e);\n        }\n    }\n}\n</code></pre>\n\n<p>Here's the mock code using PowerMockito:</p>\n\n<pre><code>    mockStatic(HttpUtils.class);\n    when(HttpUtils.getViaProxy(\"http://www.google.com\", anyString(), anyInt(), anyString(), anyString()).thenReturn(/*mockedCloseableHttpResponseObject goes here*/)\n</code></pre>\n"},{"tags":["java","spring","autowired"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662545011,"post_id":73633526,"comment_id":130028486,"body_markdown":"You could try to use a factory method, e.g. in a configuration class, that returns a different stream based on some configuration property which you then set in the different builds.","body":"You could try to use a factory method, e.g. in a configuration class, that returns a different stream based on some configuration property which you then set in the different builds."},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1662551037,"post_id":73633526,"comment_id":130030827,"body_markdown":"do you use different spring profiles? Then just use `@Profile` annotation to provide different instances","body":"do you use different spring profiles? Then just use <code>@Profile</code> annotation to provide different instances"}],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662544796,"creation_date":1662544796,"question_id":73633526,"body_markdown":"I have one Spring project but it has two build configurations:\r\n\r\n 1. WAR build to be run on a Tomcat container\r\n 2. Standalone executable JAR\r\n\r\nSo I have separate context/servlet XMLs for each of them to tell how I want to initialise the beans.\r\n\r\n 1. With the WAR build, I have something like this for my `@Autowired` annotations\r\n    ```\r\n    &lt;context:component-scan base-package=&quot;com.package.my&quot;/&gt;\r\n    ```\r\n 2. With the standalone executable JAR, I have this instead\r\n    ```\r\n    &lt;context:annotation-config/&gt;\r\n    ```\r\n\r\nSo here is the problem. I want to add a new class that extends the `PrintStream` class. Like this:\r\n```\r\npackage com.package.my;\r\nimport java.io.PrintStream;\r\n...\r\n@Component\r\npublic class MyPrintStream extends PrintStream { ... }\r\n```\r\n\r\nHowever, I want to initialize `MyPrintStream` differently for WAR build and JAR build. \r\n\r\n - For WAR build, I want to initialize it in this fashion (if doing it without `@Autowired`):\r\n   ```\r\n   MyPrintStream myPrintStream = new PrintStream(new java.io.ByteArrayOutputStream(), true, java.nio.charset.StandardCharsets.UTF_8.name());\r\n   ```\r\n - For JAR build, I just want to do it like this (if doing it without `@Autowired`):\r\n   ```\r\n   MyPrintStream myPrintStream = System.out;\r\n   ```\r\n\r\nIf I have to do these on context/servlet XML for `@Autowired`, how can I initialize the object differently? \r\n\r\nNote: Not sure if I am thinking this in the right way. Please correct me if I am wrong. Other opinions are also welcome. ","title":"Multiple ways of initiating the same object using Spring&#39;s @Autowired","body":"<p>I have one Spring project but it has two build configurations:</p>\n<ol>\n<li>WAR build to be run on a Tomcat container</li>\n<li>Standalone executable JAR</li>\n</ol>\n<p>So I have separate context/servlet XMLs for each of them to tell how I want to initialise the beans.</p>\n<ol>\n<li>With the WAR build, I have something like this for my <code>@Autowired</code> annotations\n<pre><code>&lt;context:component-scan base-package=&quot;com.package.my&quot;/&gt;\n</code></pre>\n</li>\n<li>With the standalone executable JAR, I have this instead\n<pre><code>&lt;context:annotation-config/&gt;\n</code></pre>\n</li>\n</ol>\n<p>So here is the problem. I want to add a new class that extends the <code>PrintStream</code> class. Like this:</p>\n<pre><code>package com.package.my;\nimport java.io.PrintStream;\n...\n@Component\npublic class MyPrintStream extends PrintStream { ... }\n</code></pre>\n<p>However, I want to initialize <code>MyPrintStream</code> differently for WAR build and JAR build.</p>\n<ul>\n<li>For WAR build, I want to initialize it in this fashion (if doing it without <code>@Autowired</code>):\n<pre><code>MyPrintStream myPrintStream = new PrintStream(new java.io.ByteArrayOutputStream(), true, java.nio.charset.StandardCharsets.UTF_8.name());\n</code></pre>\n</li>\n<li>For JAR build, I just want to do it like this (if doing it without <code>@Autowired</code>):\n<pre><code>MyPrintStream myPrintStream = System.out;\n</code></pre>\n</li>\n</ul>\n<p>If I have to do these on context/servlet XML for <code>@Autowired</code>, how can I initialize the object differently?</p>\n<p>Note: Not sure if I am thinking this in the right way. Please correct me if I am wrong. Other opinions are also welcome.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662547250,"post_id":73632634,"comment_id":130029325,"body_markdown":"Can you please clarify what actually is the end goal: display the *start/end* indices of each subarray or find the maximum subarray&#39;s length (that&#39;s how I interpreted the phrase *&quot;Subarray with most elements is 3&quot;*) ? If you need only to *display indices*, why mention *&quot;most elements&quot;*, but it you actually need the later - then why you&#39;re not even displaying this number?","body":"Can you please clarify what actually is the end goal: display the <i>start/end</i> indices of each subarray or find the maximum subarray&#39;s length (that&#39;s how I interpreted the phrase <i>&quot;Subarray with most elements is 3&quot;</i>) ? If you need only to <i>display indices</i>, why mention <i>&quot;most elements&quot;</i>, but it you actually need the later - then why you&#39;re not even displaying this number?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662547622,"post_id":73632634,"comment_id":130029489,"body_markdown":"Also clarify the requirements: **1.** What means *&quot;can&#39;t repeat the same index&quot;* - you need to discard some subarrays, describe how? **2.** *&quot;only one loop is allowed&quot;* - that means literally a **single loop** in the code, or only loop are allowed to be used and no built-in functionality.","body":"Also clarify the requirements: <b>1.</b> What means <i>&quot;can&#39;t repeat the same index&quot;</i> - you need to discard some subarrays, describe how? <b>2.</b> <i>&quot;only one loop is allowed&quot;</i> - that means literally a <b>single loop</b> in the code, or only loop are allowed to be used and no built-in functionality."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662547776,"post_id":73632634,"comment_id":130029543,"body_markdown":"That said, problem description is pretty vague, if you have original description in English - than just copy-past it into the question. Please edit [*your question*](https://stackoverflow.com/posts/73632634/edit).","body":"That said, problem description is pretty vague, if you have original description in English - than just copy-past it into the question. Please edit <a href=\"https://stackoverflow.com/posts/73632634/edit\"><i>your question</i></a>."}],"owner":{"account_id":25882582,"reputation":1,"user_id":19611361,"display_name":"Sathish Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662544714,"creation_date":1662540889,"question_id":73632634,"body_markdown":"find the subarrays that matches the given sum input under conditions\r\n\r\nonly one loop is allowed\r\ncant repeat the same index for sum \r\nno inbuild methods allowed \r\n\r\n\r\nmy Output:\r\n\r\n    int arr[] = { 2, 2, 1, 4, 1, 6, 8, 5, 1, 2, 1, 1, 1 };\r\n    int checkval = 3;\r\n\r\nresults:\r\nthe subarrays are:\r\n\r\n    index 0 to 1\r\n    index 3 \r\n    index 3\r\n    index 3 to 3\r\n    index 8 to 10\r\n    index 9 to 11\r\n\r\nSubarray with most elements is 3\r\n\r\nKindly help me to avoid duplicate printing of single index values\r\nalso find solution to not to use the same index for next sum,\r\n\r\nincorrect\r\n\r\n    index 8 to 10\r\n    index 9 to 11\r\n\r\ncorrect\r\n\r\n    index 8 to 10\r\n    **next index should start with 11 not 9**\r\n    index 9 to 11\r\n\r\n\r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint arr[] = { 2, 2, 1, 4, 1, 6, 8, 5, 1, 2, 1, 1, 1 };\r\n    \t\tint sum = 0;\r\n    \t\tint indexval = 0;\r\n    \t\tint checkval = 4;\r\n    \t\tint i = 0;\r\n    \r\n    \t\tint len[] = new int[10];\r\n    \t\tint l = 0;\r\n    \t\tint lm = 0;\r\n    \r\n    \t\tSystem.out.println(&quot;the subarrays are: &quot;);\r\n    \r\n    \t\twhile (indexval &lt;= arr.length) {\r\n    \t\t    int temp=i;\r\n    \r\n    \t\t\tif (i &lt; arr.length)\r\n    \t\t\t\tsum += arr[i];\r\n    \t\t\telse\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tif (sum &lt;= checkval) {\r\n    \t\t\t\tif (sum == checkval) {\r\n    \t\t\t\t\tSystem.out.println(&quot;index &quot; + indexval + &quot; to &quot; + i);\r\n    \t\t\t\t\tlen[l++] = i - indexval + 1;\r\n    \t\t\t\t\tlm = (i - indexval + 1) &gt; len[l] ? (i - indexval + 1) : len[l];\r\n    \t\t\t\t\ti = indexval;\r\n    \t\t\t\t\tindexval += 1;\r\n    \t\t\t\t\tsum = 0;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \r\n    \r\n    \t\t\telse if (arr[temp] == checkval) {\r\n    \t\t\t\tSystem.out.println(&quot;index &quot; + i);\r\n    \t\t\t\ti = indexval;\r\n    \t\t\t\tindexval += 1;\r\n    \t\t\t\tsum = 0;\r\n    \t\t\t}\r\n    \r\n    \t\t\telse if (sum &gt; checkval) {\r\n    \t\t\t\ti = indexval;\r\n    \t\t\t\tindexval += 1;\r\n    \t\t\t\tsum = 0;\r\n    \t\t\t}\r\n    \r\n    \t\t\ti += 1;\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Subarray with most elements is &quot; + lm);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"how to find the subarrays of the given array that matches the checkvalue?","body":"<p>find the subarrays that matches the given sum input under conditions</p>\n<p>only one loop is allowed\ncant repeat the same index for sum\nno inbuild methods allowed</p>\n<p>my Output:</p>\n<pre><code>int arr[] = { 2, 2, 1, 4, 1, 6, 8, 5, 1, 2, 1, 1, 1 };\nint checkval = 3;\n</code></pre>\n<p>results:\nthe subarrays are:</p>\n<pre><code>index 0 to 1\nindex 3 \nindex 3\nindex 3 to 3\nindex 8 to 10\nindex 9 to 11\n</code></pre>\n<p>Subarray with most elements is 3</p>\n<p>Kindly help me to avoid duplicate printing of single index values\nalso find solution to not to use the same index for next sum,</p>\n<p>incorrect</p>\n<pre><code>index 8 to 10\nindex 9 to 11\n</code></pre>\n<p>correct</p>\n<pre><code>index 8 to 10\n**next index should start with 11 not 9**\nindex 9 to 11\n\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        int arr[] = { 2, 2, 1, 4, 1, 6, 8, 5, 1, 2, 1, 1, 1 };\n        int sum = 0;\n        int indexval = 0;\n        int checkval = 4;\n        int i = 0;\n\n        int len[] = new int[10];\n        int l = 0;\n        int lm = 0;\n\n        System.out.println(&quot;the subarrays are: &quot;);\n\n        while (indexval &lt;= arr.length) {\n            int temp=i;\n\n            if (i &lt; arr.length)\n                sum += arr[i];\n            else\n                break;\n\n            if (sum &lt;= checkval) {\n                if (sum == checkval) {\n                    System.out.println(&quot;index &quot; + indexval + &quot; to &quot; + i);\n                    len[l++] = i - indexval + 1;\n                    lm = (i - indexval + 1) &gt; len[l] ? (i - indexval + 1) : len[l];\n                    i = indexval;\n                    indexval += 1;\n                    sum = 0;\n                }\n            }\n\n\n\n            else if (arr[temp] == checkval) {\n                System.out.println(&quot;index &quot; + i);\n                i = indexval;\n                indexval += 1;\n                sum = 0;\n            }\n\n            else if (sum &gt; checkval) {\n                i = indexval;\n                indexval += 1;\n                sum = 0;\n            }\n\n            i += 1;\n        }\n        \n        System.out.println(&quot;Subarray with most elements is &quot; + lm);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor","micrometer"],"comments":[{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1627324322,"post_id":68532426,"comment_id":121121108,"body_markdown":"Basically you have to update your `list` object inside the source method, since you already registered it on the gauge. It would be useful to know what is your method `source` and the value that you want to update.","body":"Basically you have to update your <code>list</code> object inside the source method, since you already registered it on the gauge. It would be useful to know what is your method <code>source</code> and the value that you want to update."},{"owner":{"account_id":10561548,"reputation":2425,"user_id":7781169,"display_name":"fyrkov"},"score":0,"creation_date":1627369636,"post_id":68532426,"comment_id":121130614,"body_markdown":"Sorry for confusion, the list object was given only as an example to show the method signature.","body":"Sorry for confusion, the list object was given only as an example to show the method signature."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1627412123,"post_id":68532426,"comment_id":121148522,"body_markdown":"well in order for us to help you you need to provide some code where the value is to be fetched and when. Otherwise as you can see you need to schedule an update. There are several ways to solve this, but your question is too wide.","body":"well in order for us to help you you need to provide some code where the value is to be fetched and when. Otherwise as you can see you need to schedule an update. There are several ways to solve this, but your question is too wide."},{"owner":{"account_id":942478,"reputation":14367,"user_id":970308,"accept_rate":62,"display_name":"checketts"},"score":0,"creation_date":1627485751,"post_id":68532426,"comment_id":121170589,"body_markdown":"Could you add details of what the async code is doing and why it is async? Moving the gauge (or a different meter) into that code could be a better approach.","body":"Could you add details of what the async code is doing and why it is async? Moving the gauge (or a different meter) into that code could be a better approach."}],"answers":[{"tags":[],"owner":{"account_id":10561548,"reputation":2425,"user_id":7781169,"display_name":"fyrkov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627369469,"creation_date":1627369469,"answer_id":68540340,"question_id":68532426,"body_markdown":"For now I have found only the following solution:\r\n1. Register a gauge at a meter registry with the `gauge()` method which returns a `Number` sub-type\r\n```\r\nAtomicLong gauge = meterRegistry.gauge(&quot;name&quot;, new AtomicLong(0));\r\n```\r\n2. Now it is possible to update it manually with the `set()` method\r\n```\r\ngauge.set(value);\r\n```\r\n3. Create a scheduled task that will run a reactive chain and update the gauge based on a fixed interval:\r\n```\r\n@Scheduled\r\npublic void scheduleTask() {\r\n    Mono.from(getValue()).subscribe(value -&gt; gauge.set(value));\r\n}\r\n```\r\n\r\nSteps 1-2 are taken from here: https://micrometer.io/docs/concepts#_manually_incrementingdecrementing_a_gauge\r\n&lt;br&gt;Step 3 is taken from here: https://spring.io/guides/gs/scheduling-tasks/\r\n\r\nThe approach has significant disadvantages:\r\n\r\n 1. metric is updated eagerly and not on demand\r\n 2. metric does not show the actual value and always lags behind in time\r\n\r\nI&#39;d appreciate is someone suggests a better way to create a micrometer gauge based on an asynchronously computed value.","title":"How can I create a Micrometer gauge from an async value?","body":"<p>For now I have found only the following solution:</p>\n<ol>\n<li>Register a gauge at a meter registry with the <code>gauge()</code> method which returns a <code>Number</code> sub-type</li>\n</ol>\n<pre><code>AtomicLong gauge = meterRegistry.gauge(&quot;name&quot;, new AtomicLong(0));\n</code></pre>\n<ol start=\"2\">\n<li>Now it is possible to update it manually with the <code>set()</code> method</li>\n</ol>\n<pre><code>gauge.set(value);\n</code></pre>\n<ol start=\"3\">\n<li>Create a scheduled task that will run a reactive chain and update the gauge based on a fixed interval:</li>\n</ol>\n<pre><code>@Scheduled\npublic void scheduleTask() {\n    Mono.from(getValue()).subscribe(value -&gt; gauge.set(value));\n}\n</code></pre>\n<p>Steps 1-2 are taken from here: <a href=\"https://micrometer.io/docs/concepts#_manually_incrementingdecrementing_a_gauge\" rel=\"nofollow noreferrer\">https://micrometer.io/docs/concepts#_manually_incrementingdecrementing_a_gauge</a>\n<br>Step 3 is taken from here: <a href=\"https://spring.io/guides/gs/scheduling-tasks/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/scheduling-tasks/</a></p>\n<p>The approach has significant disadvantages:</p>\n<ol>\n<li>metric is updated eagerly and not on demand</li>\n<li>metric does not show the actual value and always lags behind in time</li>\n</ol>\n<p>I'd appreciate is someone suggests a better way to create a micrometer gauge based on an asynchronously computed value.</p>\n"},{"tags":[],"owner":{"account_id":942478,"reputation":14367,"user_id":970308,"accept_rate":62,"display_name":"checketts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627485665,"creation_date":1627485665,"answer_id":68563110,"question_id":68532426,"body_markdown":"Instead of scheduling an update for your gauge, you could consider listening in on the current caller.\r\n\r\nFor example if the current code that calls `getValue()` were to return a `Mono`, you could use `doFinally` before the subscribe to update the gauge based on values returned.\r\n\r\nThis means the gauge won&#39;t update if calls aren&#39;t happening though.","title":"How can I create a Micrometer gauge from an async value?","body":"<p>Instead of scheduling an update for your gauge, you could consider listening in on the current caller.</p>\n<p>For example if the current code that calls <code>getValue()</code> were to return a <code>Mono</code>, you could use <code>doFinally</code> before the subscribe to update the gauge based on values returned.</p>\n<p>This means the gauge won't update if calls aren't happening though.</p>\n"},{"tags":[],"owner":{"account_id":4894989,"reputation":31,"user_id":3944918,"display_name":"Masoud Omidvar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662544592,"creation_date":1662544592,"answer_id":73633472,"question_id":68532426,"body_markdown":"Does this help?\r\n```\r\nGauge gauge = Gauge\r\n  .builder(&quot;gaugeName&quot;, statusAgent, (sa) -&gt; sa.fetchCurrentStatus())\r\n  .register(registry);\r\n```\r\nwhere statusAgent is a fully wired component to perform the required async routine.","title":"How can I create a Micrometer gauge from an async value?","body":"<p>Does this help?</p>\n<pre><code>Gauge gauge = Gauge\n  .builder(&quot;gaugeName&quot;, statusAgent, (sa) -&gt; sa.fetchCurrentStatus())\n  .register(registry);\n</code></pre>\n<p>where statusAgent is a fully wired component to perform the required async routine.</p>\n"}],"owner":{"account_id":10561548,"reputation":2425,"user_id":7781169,"display_name":"fyrkov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4063,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1662544592,"creation_date":1627312679,"question_id":68532426,"body_markdown":"I have a reactive Spring Webflux application with Micrometer.&lt;br&gt;\r\nI want to create a &quot;gauge&quot; metric like:\r\n```\r\nGauge gauge = Gauge\r\n  .builder(&quot;gaugeName&quot;, list, List::size)\r\n  .register(registry);\r\n```\r\nor a supplier version like:\r\n```\r\nGauge gauge = Gauge\r\n  .builder(&quot;gaugeName&quot;, () -&gt; getValue())\r\n  .register(registry);\r\n```\r\nHowever, I have an async source of the value, i.e. a method that returns a Mono.&lt;br&gt;\r\nHow can I create a Micrometer gauge from an async value?","title":"How can I create a Micrometer gauge from an async value?","body":"<p>I have a reactive Spring Webflux application with Micrometer.<br>\nI want to create a &quot;gauge&quot; metric like:</p>\n<pre><code>Gauge gauge = Gauge\n  .builder(&quot;gaugeName&quot;, list, List::size)\n  .register(registry);\n</code></pre>\n<p>or a supplier version like:</p>\n<pre><code>Gauge gauge = Gauge\n  .builder(&quot;gaugeName&quot;, () -&gt; getValue())\n  .register(registry);\n</code></pre>\n<p>However, I have an async source of the value, i.e. a method that returns a Mono.<br>\nHow can I create a Micrometer gauge from an async value?</p>\n"},{"tags":["java","controller","spring-batch","scheduler"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662544415,"post_id":73633404,"comment_id":130028257,"body_markdown":"If the query is different, is it really the same job? Aren&#39;t those actually 2 jobs using a common set of logic?","body":"If the query is different, is it really the same job? Aren&#39;t those actually 2 jobs using a common set of logic?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1662559403,"post_id":73633404,"comment_id":130034329,"body_markdown":"Not sure I understand the question. For the scheduled method it is clear, it runs automatically on a defined schedule. But for the controller, there should be something requesting it to run the job right? Aren&#39;t you able to detect that? what about adding some logs in both methods that launch the job?","body":"Not sure I understand the question. For the scheduled method it is clear, it runs automatically on a defined schedule. But for the controller, there should be something requesting it to run the job right? Aren&#39;t you able to detect that? what about adding some logs in both methods that launch the job?"},{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":0,"creation_date":1662620487,"post_id":73633404,"comment_id":130048792,"body_markdown":"You can always add a job parameters and use it to control which SQL gets used, although it&#39;s probably better to have separate jobs","body":"You can always add a job parameters and use it to control which SQL gets used, although it&#39;s probably better to have separate jobs"},{"owner":{"account_id":14027322,"reputation":63,"user_id":10132034,"display_name":"Aniruddha Gayake"},"score":0,"creation_date":1662623164,"post_id":73633404,"comment_id":130049566,"body_markdown":"@Thomas Actually you can say those are two different jobs but my requirement is that within one job I have to add logic of scheduler as well as controller","body":"@Thomas Actually you can say those are two different jobs but my requirement is that within one job I have to add logic of scheduler as well as controller"},{"owner":{"account_id":14027322,"reputation":63,"user_id":10132034,"display_name":"Aniruddha Gayake"},"score":0,"creation_date":1662623207,"post_id":73633404,"comment_id":130049584,"body_markdown":"@johnnyutts I got your point. Will try with two different jobs and put updates here.","body":"@johnnyutts I got your point. Will try with two different jobs and put updates here."}],"owner":{"account_id":14027322,"reputation":63,"user_id":10132034,"display_name":"Aniruddha Gayake"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662544298,"creation_date":1662544298,"question_id":73633404,"body_markdown":"I have a spring batch job which is run on scheduler. Also I have created a controller which can be involved to trigger the job. \r\nBut the issue is, I am not able to identify whether the job is triggered from controller or scheduler. In job configuration I need to give different sql query as per to the job is invoked from controller or scheduler.\r\n\r\nHow this can be achieved? ","title":"How to identify whether spring batch job is launched from controller or scheduler?","body":"<p>I have a spring batch job which is run on scheduler. Also I have created a controller which can be involved to trigger the job.\nBut the issue is, I am not able to identify whether the job is triggered from controller or scheduler. In job configuration I need to give different sql query as per to the job is invoked from controller or scheduler.</p>\n<p>How this can be achieved?</p>\n"},{"tags":["java","reflection","inheritance","private-members"],"comments":[{"owner":{"account_id":46144,"reputation":7024,"user_id":136248,"accept_rate":100,"display_name":"Benoit Courtine"},"score":28,"creation_date":1282749778,"post_id":3567372,"comment_id":3740047,"body_markdown":"&quot;private inherited fields&quot; does not exist. If a field is private, it is not inherited, and remains only to the scope of the parent class.\nTo access parent private fields, you have to access parent class first (cf. aioobe&#39;s response)","body":"&quot;private inherited fields&quot; does not exist. If a field is private, it is not inherited, and remains only to the scope of the parent class. To access parent private fields, you have to access parent class first (cf. aioobe&#39;s response)"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":6,"creation_date":1282752866,"post_id":3567372,"comment_id":3740681,"body_markdown":"that said, protected fields are inherited, but you have to do the same to get them by reflection.","body":"that said, protected fields are inherited, but you have to do the same to get them by reflection."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1559048669,"post_id":3567372,"comment_id":99290831,"body_markdown":"Possible duplicate of [Retrieving the inherited attribute names/values using Java Reflection](https://stackoverflow.com/questions/1042798/retrieving-the-inherited-attribute-names-values-using-java-reflection)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1042798/retrieving-the-inherited-attribute-names-values-using-java-reflection\">Retrieving the inherited attribute names/values using Java Reflection</a>"}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":1,"up_vote_count":139,"is_accepted":false,"score":138,"last_activity_date":1575388133,"creation_date":1282749272,"answer_id":3567409,"question_id":3567372,"body_markdown":"This should demonstrate how to solve it:\r\n\r\n    import java.lang.reflect.Field;\r\n    \r\n    class Super {\r\n        private int i = 5;\r\n    }\r\n    \r\n    public class B extends Super {\r\n        public static void main(String[] args) throws Exception {\r\n            B b = new B();\r\n            Field f = b.getClass().getSuperclass().getDeclaredField(&quot;i&quot;);\r\n            f.setAccessible(true);\r\n            System.out.println(f.get(b));\r\n        }\r\n    }\r\n\r\n(Or [`Class.getDeclaredFields`](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredFields--) for an array of all fields.)\r\n\r\n**Output:**\r\n\r\n    5\r\n","title":"Access to private inherited fields via reflection in Java","body":"<p>This should demonstrate how to solve it:</p>\n\n<pre><code>import java.lang.reflect.Field;\n\nclass Super {\n    private int i = 5;\n}\n\npublic class B extends Super {\n    public static void main(String[] args) throws Exception {\n        B b = new B();\n        Field f = b.getClass().getSuperclass().getDeclaredField(\"i\");\n        f.setAccessible(true);\n        System.out.println(f.get(b));\n    }\n}\n</code></pre>\n\n<p>(Or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredFields--\" rel=\"noreferrer\"><code>Class.getDeclaredFields</code></a> for an array of all fields.)</p>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136750,"reputation":6224,"user_id":340467,"accept_rate":68,"display_name":"benzen"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1662543689,"creation_date":1282751232,"answer_id":3567761,"question_id":3567372,"body_markdown":"In fact i use a complex type hierachy so you solution is not complete.\r\nI need to make a recursive call to get all the private inherited fields.\r\nHere is my solution\r\n\r\n    \t\r\n     /**\r\n\t * Return the set of fields declared at all level of class hierachy\r\n\t */\r\n\tpublic static List&lt;Field&gt; getAllFields(Class&lt;?&gt; clazz) {\r\n\t\treturn getAllFieldsRec(clazz, new ArrayList&lt;&gt;());\r\n\t}\r\n\r\n\tprivate static List&lt;Field&gt; getAllFieldsRec(Class&lt;?&gt; clazz, List&lt;Field&gt; list) {\r\n\t\tClass&lt;?&gt; superClazz = clazz.getSuperclass();\r\n\t\tif (superClazz != null) {\r\n\t\t\tgetAllFieldsRec(superClazz, list);\r\n\t\t}\r\n\t\tlist.addAll(Arrays.asList(clazz.getDeclaredFields()));\r\n\t\treturn list;\r\n\t}\r\n","title":"Access to private inherited fields via reflection in Java","body":"<p>In fact i use a complex type hierachy so you solution is not complete.\nI need to make a recursive call to get all the private inherited fields.\nHere is my solution</p>\n<pre><code> /**\n * Return the set of fields declared at all level of class hierachy\n */\npublic static List&lt;Field&gt; getAllFields(Class&lt;?&gt; clazz) {\n    return getAllFieldsRec(clazz, new ArrayList&lt;&gt;());\n}\n\nprivate static List&lt;Field&gt; getAllFieldsRec(Class&lt;?&gt; clazz, List&lt;Field&gt; list) {\n    Class&lt;?&gt; superClazz = clazz.getSuperclass();\n    if (superClazz != null) {\n        getAllFieldsRec(superClazz, list);\n    }\n    list.addAll(Arrays.asList(clazz.getDeclaredFields()));\n    return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1482479924,"creation_date":1282752117,"answer_id":3567901,"question_id":3567372,"body_markdown":"This&#39;ll do it:\r\n\r\n    private List&lt;Field&gt; getInheritedPrivateFields(Class&lt;?&gt; type) {\r\n        List&lt;Field&gt; result = new ArrayList&lt;Field&gt;();\r\n        \r\n        Class&lt;?&gt; i = type;\r\n        while (i != null &amp;&amp; i != Object.class) {\r\n            Collections.addAll(result, i.getDeclaredFields());\r\n            i = i.getSuperclass();\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\nIf you use a code coverage tool like [EclEmma](http://www.eclemma.org/), you have to watch out: they add a hidden field to each of your classes. In the case of EclEmma, these fields are marked _synthetic_, and you can filter them out like this:\r\n\r\n    private List&lt;Field&gt; getInheritedPrivateFields(Class&lt;?&gt; type) {\r\n        List&lt;Field&gt; result = new ArrayList&lt;Field&gt;();\r\n        \r\n        Class&lt;?&gt; i = type;\r\n        while (i != null &amp;&amp; i != Object.class) {\r\n            for (Field field : i.getDeclaredFields()) {\r\n                if (!field.isSynthetic()) {\r\n                    result.add(field);\r\n                }\r\n            }\r\n            i = i.getSuperclass();\r\n        }\r\n        \r\n        return result;\r\n    }\r\n","title":"Access to private inherited fields via reflection in Java","body":"<p>This'll do it:</p>\n\n<pre><code>private List&lt;Field&gt; getInheritedPrivateFields(Class&lt;?&gt; type) {\n    List&lt;Field&gt; result = new ArrayList&lt;Field&gt;();\n\n    Class&lt;?&gt; i = type;\n    while (i != null &amp;&amp; i != Object.class) {\n        Collections.addAll(result, i.getDeclaredFields());\n        i = i.getSuperclass();\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>If you use a code coverage tool like <a href=\"http://www.eclemma.org/\" rel=\"noreferrer\">EclEmma</a>, you have to watch out: they add a hidden field to each of your classes. In the case of EclEmma, these fields are marked <em>synthetic</em>, and you can filter them out like this:</p>\n\n<pre><code>private List&lt;Field&gt; getInheritedPrivateFields(Class&lt;?&gt; type) {\n    List&lt;Field&gt; result = new ArrayList&lt;Field&gt;();\n\n    Class&lt;?&gt; i = type;\n    while (i != null &amp;&amp; i != Object.class) {\n        for (Field field : i.getDeclaredFields()) {\n            if (!field.isSynthetic()) {\n                result.add(field);\n            }\n        }\n        i = i.getSuperclass();\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1516291938,"creation_date":1282752687,"answer_id":3567968,"question_id":3567372,"body_markdown":"The best approach here is using the [Visitor Pattern][7] do find all fields in the class and all super classes and execute a callback action on them.\r\n\r\n[7]:http://en.wikipedia.org/wiki/Visitor_pattern\r\n\r\n----------\r\n\r\nImplementation\r\n--------------\r\n\r\nSpring has a nice Utility class [`ReflectionUtils`][1] that does just that: it defines a method to loop over all fields of all super classes with a callback: [`ReflectionUtils.doWithFields()`][2]\r\n\r\nDocumentation:\r\n--------------\r\n\r\n&gt; Invoke the given callback on all fields in the target class,\r\n&gt; going up the class hierarchy to get all declared fields.\r\n\r\n&gt; **Parameters:**  \r\n&gt; -        clazz - the target class to analyze   \r\n&gt; -        fc - the callback to invoke for each field  \r\n&gt; -        ff - the filter that determines the fields to apply the callback to   \r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/util/ReflectionUtils.html\r\n  [2]: http://static.springsource.org/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/util/ReflectionUtils.html#doWithFields%28java.lang.Class,%20org.springframework.util.ReflectionUtils.FieldCallback,%20org.springframework.util.ReflectionUtils.FieldFilter%29\r\n\r\nSample code:\r\n------------\r\n\r\n    ReflectionUtils.doWithFields(RoleUnresolvedList.class,\r\n        new FieldCallback(){\r\n\r\n            @Override\r\n            public void doWith(final Field field) throws IllegalArgumentException,\r\n                IllegalAccessException{\r\n\r\n                System.out.println(&quot;Found field &quot; + field + &quot; in type &quot;\r\n                    + field.getDeclaringClass());\r\n\r\n            }\r\n        },\r\n        new FieldFilter(){\r\n\r\n            @Override\r\n            public boolean matches(final Field field){\r\n                final int modifiers = field.getModifiers();\r\n                // no static fields please\r\n                return !Modifier.isStatic(modifiers);\r\n            }\r\n        });\r\n\r\nOutput:\r\n-------\r\n\r\n&gt; Found field private transient boolean javax.management.relation.RoleUnresolvedList.typeSafe in type class javax.management.relation.RoleUnresolvedList  \r\n&gt; Found field private transient boolean javax.management.relation.RoleUnresolvedList.tainted in type class javax.management.relation.RoleUnresolvedList  \r\n&gt; Found field private transient java.lang.Object[] java.util.ArrayList.elementData in type class java.util.ArrayList  \r\n&gt; Found field private int java.util.ArrayList.size in type class java.util.ArrayList  \r\n&gt; Found field protected transient int java.util.AbstractList.modCount in type class java.util.AbstractList\r\n\r\n","title":"Access to private inherited fields via reflection in Java","body":"<p>The best approach here is using the <a href=\"http://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"noreferrer\">Visitor Pattern</a> do find all fields in the class and all super classes and execute a callback action on them.</p>\n\n<hr>\n\n<h2>Implementation</h2>\n\n<p>Spring has a nice Utility class <a href=\"http://static.springsource.org/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/util/ReflectionUtils.html\" rel=\"noreferrer\"><code>ReflectionUtils</code></a> that does just that: it defines a method to loop over all fields of all super classes with a callback: <a href=\"http://static.springsource.org/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/util/ReflectionUtils.html#doWithFields%28java.lang.Class,%20org.springframework.util.ReflectionUtils.FieldCallback,%20org.springframework.util.ReflectionUtils.FieldFilter%29\" rel=\"noreferrer\"><code>ReflectionUtils.doWithFields()</code></a></p>\n\n<h2>Documentation:</h2>\n\n<blockquote>\n  <p>Invoke the given callback on all fields in the target class,\n  going up the class hierarchy to get all declared fields.</p>\n  \n  <p><strong>Parameters:</strong><br>\n  -        clazz - the target class to analyze<br>\n  -        fc - the callback to invoke for each field<br>\n  -        ff - the filter that determines the fields to apply the callback to   </p>\n</blockquote>\n\n<h2>Sample code:</h2>\n\n<pre><code>ReflectionUtils.doWithFields(RoleUnresolvedList.class,\n    new FieldCallback(){\n\n        @Override\n        public void doWith(final Field field) throws IllegalArgumentException,\n            IllegalAccessException{\n\n            System.out.println(\"Found field \" + field + \" in type \"\n                + field.getDeclaringClass());\n\n        }\n    },\n    new FieldFilter(){\n\n        @Override\n        public boolean matches(final Field field){\n            final int modifiers = field.getModifiers();\n            // no static fields please\n            return !Modifier.isStatic(modifiers);\n        }\n    });\n</code></pre>\n\n<h2>Output:</h2>\n\n<blockquote>\n  <p>Found field private transient boolean javax.management.relation.RoleUnresolvedList.typeSafe in type class javax.management.relation.RoleUnresolvedList<br>\n  Found field private transient boolean javax.management.relation.RoleUnresolvedList.tainted in type class javax.management.relation.RoleUnresolvedList<br>\n  Found field private transient java.lang.Object[] java.util.ArrayList.elementData in type class java.util.ArrayList<br>\n  Found field private int java.util.ArrayList.size in type class java.util.ArrayList<br>\n  Found field protected transient int java.util.AbstractList.modCount in type class java.util.AbstractList</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":174366,"reputation":12158,"user_id":403682,"accept_rate":95,"display_name":"Kenny Cason"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1358645268,"creation_date":1282919346,"answer_id":3585132,"question_id":3567372,"body_markdown":"    private static Field getField(Class&lt;?&gt; clazz, String fieldName) {\r\n        Class&lt;?&gt; tmpClass = clazz;\r\n        do {\r\n            for ( Field field : tmpClass.getDeclaredFields() ) {\r\n                String candidateName = field.getName();\r\n                if ( ! candidateName.equals(fieldName) ) {\r\n                    continue;\r\n                }\r\n                field.setAccessible(true);\r\n                return field;\r\n            }\r\n            tmpClass = tmpClass.getSuperclass();\r\n        } while ( clazz != null );\r\n        throw new RuntimeException(&quot;Field &#39;&quot; + fieldName +\r\n            &quot;&#39; not found on class &quot; + clazz);\r\n    }\r\n","title":"Access to private inherited fields via reflection in Java","body":"<pre><code>private static Field getField(Class&lt;?&gt; clazz, String fieldName) {\n    Class&lt;?&gt; tmpClass = clazz;\n    do {\n        for ( Field field : tmpClass.getDeclaredFields() ) {\n            String candidateName = field.getName();\n            if ( ! candidateName.equals(fieldName) ) {\n                continue;\n            }\n            field.setAccessible(true);\n            return field;\n        }\n        tmpClass = tmpClass.getSuperclass();\n    } while ( clazz != null );\n    throw new RuntimeException(\"Field '\" + fieldName +\n        \"' not found on class \" + clazz);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":344194,"reputation":2152,"user_id":676369,"accept_rate":36,"display_name":"Exterminator13"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1366289280,"creation_date":1366289280,"answer_id":16083394,"question_id":3567372,"body_markdown":"\r\n    public static Field getField(Class&lt;?&gt; clazz, String fieldName) {\r\n\t\tClass&lt;?&gt; tmpClass = clazz;\r\n\t\tdo {\r\n\t\t\ttry {\r\n\t\t\t\tField f = tmpClass.getDeclaredField(fieldName);\r\n\t\t\t\treturn f;\r\n\t\t\t} catch (NoSuchFieldException e) {\r\n\t\t\t\ttmpClass = tmpClass.getSuperclass();\r\n\t\t\t}\r\n\t\t} while (tmpClass != null);\r\n\t\t\r\n\t\tthrow new RuntimeException(&quot;Field &#39;&quot; + fieldName\r\n\t\t\t\t+ &quot;&#39; not found on class &quot; + clazz);\r\n\t}\r\n\r\n(based on [this][1] answer)\r\n\r\n  [1]: https://stackoverflow.com/a/3585132/676369","title":"Access to private inherited fields via reflection in Java","body":"<pre><code>public static Field getField(Class&lt;?&gt; clazz, String fieldName) {\n    Class&lt;?&gt; tmpClass = clazz;\n    do {\n        try {\n            Field f = tmpClass.getDeclaredField(fieldName);\n            return f;\n        } catch (NoSuchFieldException e) {\n            tmpClass = tmpClass.getSuperclass();\n        }\n    } while (tmpClass != null);\n\n    throw new RuntimeException(\"Field '\" + fieldName\n            + \"' not found on class \" + clazz);\n}\n</code></pre>\n\n<p>(based on <a href=\"https://stackoverflow.com/a/3585132/676369\">this</a> answer)</p>\n"},{"tags":[],"owner":{"account_id":1328045,"reputation":8993,"user_id":1272477,"accept_rate":100,"display_name":"mguymon"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1561427156,"creation_date":1381336485,"answer_id":19277731,"question_id":3567372,"body_markdown":"I needed to add support for inherited fields for blueprints in [Model Citizen](https://github.com/mguymon/model-citizen). I derived this method that is a bit more concise for retrieving a Class&#39; fields + inherited fields. \r\n\r\n    private List&lt;Field&gt; getAllFields(Class clazz) {\r\n        List&lt;Field&gt; fields = new ArrayList&lt;Field&gt;();\r\n        \r\n        fields.addAll(Arrays.asList(clazz.getDeclaredFields()));\r\n\r\n        Class superClazz = clazz.getSuperclass();\r\n        if(superClazz != null){\r\n            fields.addAll(getAllFields(superClazz));\r\n        }\r\n\r\n        return fields;\r\n    }","title":"Access to private inherited fields via reflection in Java","body":"<p>I needed to add support for inherited fields for blueprints in <a href=\"https://github.com/mguymon/model-citizen\" rel=\"nofollow noreferrer\">Model Citizen</a>. I derived this method that is a bit more concise for retrieving a Class' fields + inherited fields. </p>\n\n<pre><code>private List&lt;Field&gt; getAllFields(Class clazz) {\n    List&lt;Field&gt; fields = new ArrayList&lt;Field&gt;();\n\n    fields.addAll(Arrays.asList(clazz.getDeclaredFields()));\n\n    Class superClazz = clazz.getSuperclass();\n    if(superClazz != null){\n        fields.addAll(getAllFields(superClazz));\n    }\n\n    return fields;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662543930,"creation_date":1662543930,"answer_id":73633319,"question_id":3567372,"body_markdown":"Commons Lang has the util method [`FieldUtils#getAllFieldsList`](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html#getAllFieldsList-java.lang.Class-) for this.\r\n\r\n","title":"Access to private inherited fields via reflection in Java","body":"<p>Commons Lang has the util method <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html#getAllFieldsList-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>FieldUtils#getAllFieldsList</code></a> for this.</p>\n"}],"owner":{"account_id":136750,"reputation":6224,"user_id":340467,"accept_rate":68,"display_name":"benzen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102787,"favorite_count":0,"down_vote_count":1,"up_vote_count":119,"accepted_answer_id":3567761,"answer_count":8,"score":118,"last_activity_date":1662543930,"creation_date":1282749096,"question_id":3567372,"body_markdown":"I found a way to get inherited members via  `class.getDeclaredFields();`\r\nand acces to private members via `class.getFields()`\r\nBut i&#39;m looking for private inherited fields.\r\nHow can i achieve this?\r\n\r\n\r\n","title":"Access to private inherited fields via reflection in Java","body":"<p>I found a way to get inherited members via  <code>class.getDeclaredFields();</code>\nand acces to private members via <code>class.getFields()</code>\nBut i'm looking for private inherited fields.\nHow can i achieve this?</p>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":1030428,"reputation":20420,"user_id":1038826,"display_name":"zsxwing"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1455828550,"creation_date":1455828550,"answer_id":35492130,"question_id":35485662,"body_markdown":"Looks your installed Spark version is not same as the Spark version used in your IDE.\r\n\r\nIf you are using maven, just compare the version of the dependency declared in pom.xml and the output of `bin/spark-submit --version` and make sure they are same. ","title":"local class incompatible Exception: when running spark standalone from IDE","body":"<p>Looks your installed Spark version is not same as the Spark version used in your IDE.</p>\n\n<p>If you are using maven, just compare the version of the dependency declared in pom.xml and the output of <code>bin/spark-submit --version</code> and make sure they are same. </p>\n"},{"tags":[],"owner":{"account_id":6850962,"reputation":61,"user_id":5268163,"display_name":"Kun"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1463571091,"creation_date":1463571091,"answer_id":37298340,"question_id":35485662,"body_markdown":"It can be multiple incompatible reasons below:\r\n\r\n- Hadoop version;\r\n- Spark version;\r\n- Scala version;\r\n- ...\r\n\r\nFor me, its Scala version , I using **2.11.X** in my IDE but official doc says:\r\n\r\n```\r\n    Spark runs on Java 7+, Python 2.6+ and R 3.1+. For the Scala API, Spark 1.6.1 uses Scala 2.10. You will need to use a compatible Scala version (2.10.x).\r\n```\r\n\r\n**and the x** in the doc told **cannot be smaller than 3** if you using latest Java(1.8), cause [this](https://issues.scala-lang.org/browse/SI-7129).\r\nHope it will help you!","title":"local class incompatible Exception: when running spark standalone from IDE","body":"<p>It can be multiple incompatible reasons below:</p>\n\n<ul>\n<li>Hadoop version;</li>\n<li>Spark version;</li>\n<li>Scala version;</li>\n<li>...</li>\n</ul>\n\n<p>For me, its Scala version , I using <strong>2.11.X</strong> in my IDE but official doc says:</p>\n\n<p><code>\n    Spark runs on Java 7+, Python 2.6+ and R 3.1+. For the Scala API, Spark 1.6.1 uses Scala 2.10. You will need to use a compatible Scala version (2.10.x).\n</code></p>\n\n<p><strong>and the x</strong> in the doc told <strong>cannot be smaller than 3</strong> if you using latest Java(1.8), cause <a href=\"https://issues.scala-lang.org/browse/SI-7129\" rel=\"noreferrer\">this</a>.\nHope it will help you!</p>\n"},{"tags":[],"owner":{"account_id":1921836,"reputation":61,"user_id":1733158,"display_name":"user1733158"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1468716325,"creation_date":1468695022,"answer_id":38414501,"question_id":35485662,"body_markdown":"Got it all working with below combination of versions\r\n\r\nInstalled spark 1.6.2\r\n\r\nverify with bin/spark-submit --version\r\n\r\n\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spark-core_2.10&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand \r\n\r\n&gt; Scala 2.10.6 and Java 8.\r\n\r\nNote it did **NOT** work and have similar class incompatible issue with below versions \r\n\r\n&gt; Scala 2.11.8 and Java 8\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"local class incompatible Exception: when running spark standalone from IDE","body":"<p>Got it all working with below combination of versions</p>\n\n<p>Installed spark 1.6.2</p>\n\n<p>verify with bin/spark-submit --version</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.10&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and </p>\n\n<blockquote>\n  <p>Scala 2.10.6 and Java 8.</p>\n</blockquote>\n\n<p>Note it did <strong>NOT</strong> work and have similar class incompatible issue with below versions </p>\n\n<blockquote>\n  <p>Scala 2.11.8 and Java 8</p>\n</blockquote>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2938635,"reputation":1860,"user_id":2517035,"display_name":"Rajeev Rathor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535638887,"creation_date":1535637918,"answer_id":52099043,"question_id":35485662,"body_markdown":"I faced this issue because Spark jar dependency was 2.1.0 but installed Spark Engine version is 2.0.0 Hence version mismatch, So it throws this exception. \r\n    \r\nThe root cause of this problem is version mismatch of Spark jar dependency in project and installed Spark Engine where execute spark job is running.\r\n    \r\nHence verify both versions and make them identical. \r\n    \r\nExample Spark-core Jar version 2.1.0 and Spark Computation Engine version must be: 2.1.0\r\n\r\nSpark-core Jar version 2.0.0 and Spark Computation Engine version must be: 2.0.0\r\n    \r\nIt&#39;s working for me perfectly.\r\n\r\n","title":"local class incompatible Exception: when running spark standalone from IDE","body":"<p>I faced this issue because Spark jar dependency was 2.1.0 but installed Spark Engine version is 2.0.0 Hence version mismatch, So it throws this exception. </p>\n\n<p>The root cause of this problem is version mismatch of Spark jar dependency in project and installed Spark Engine where execute spark job is running.</p>\n\n<p>Hence verify both versions and make them identical. </p>\n\n<p>Example Spark-core Jar version 2.1.0 and Spark Computation Engine version must be: 2.1.0</p>\n\n<p>Spark-core Jar version 2.0.0 and Spark Computation Engine version must be: 2.0.0</p>\n\n<p>It's working for me perfectly.</p>\n"},{"tags":[],"owner":{"account_id":9995719,"reputation":410,"user_id":11648099,"display_name":"Mohammad Abdollahzadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662543900,"creation_date":1662543900,"answer_id":73633309,"question_id":35485662,"body_markdown":"I had this problem.\r\n\r\nwhen I run the code with spark-submit it works (instead of running with IDE).\r\n\r\n     ./bin/spark-submit --master spark://HOST:PORT target/APP-NAME.jar","title":"local class incompatible Exception: when running spark standalone from IDE","body":"<p>I had this problem.</p>\n<p>when I run the code with spark-submit it works (instead of running with IDE).</p>\n<pre><code> ./bin/spark-submit --master spark://HOST:PORT target/APP-NAME.jar\n</code></pre>\n"}],"owner":{"account_id":7868163,"reputation":171,"user_id":5946371,"display_name":"Nesrine Ben mustapha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23265,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":5,"score":17,"last_activity_date":1662543900,"creation_date":1455809475,"question_id":35485662,"body_markdown":"I begin to test spark.\r\nI installed spark on my local machine and run a local cluster with a single worker. when I tried to execute my job from my IDE by setting the sparconf as follows: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    final SparkConf conf = new SparkConf().setAppName(&quot;testSparkfromJava&quot;).setMaster(&quot;spark://XXXXXXXXXX:7077&quot;);\r\n    final JavaSparkContext sc = new JavaSparkContext(conf);\r\n    final JavaRDD&lt;String&gt; distFile = sc.textFile(Paths.get(&quot;&quot;).toAbsolutePath().toString() + &quot;dataSpark/datastores.json&quot;);*\r\n\r\nI got this exception:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    java.lang.RuntimeException: java.io.InvalidClassException: org.apache.spark.rpc.netty.RequestMessage; local class incompatible: stream classdesc serialVersionUID = -5447855329526097695, local class serialVersionUID = -2221986757032131007\r\n\r\n","title":"local class incompatible Exception: when running spark standalone from IDE","body":"<p>I begin to test spark.\nI installed spark on my local machine and run a local cluster with a single worker. when I tried to execute my job from my IDE by setting the sparconf as follows: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final SparkConf conf = new SparkConf().setAppName(\"testSparkfromJava\").setMaster(\"spark://XXXXXXXXXX:7077\");\nfinal JavaSparkContext sc = new JavaSparkContext(conf);\nfinal JavaRDD&lt;String&gt; distFile = sc.textFile(Paths.get(\"\").toAbsolutePath().toString() + \"dataSpark/datastores.json\");*\n</code></pre>\n\n<p>I got this exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.RuntimeException: java.io.InvalidClassException: org.apache.spark.rpc.netty.RequestMessage; local class incompatible: stream classdesc serialVersionUID = -5447855329526097695, local class serialVersionUID = -2221986757032131007\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662543453,"post_id":73633181,"comment_id":130027889,"body_markdown":"Because you use `@RestController` and not `@Controller`.","body":"Because you use <code>@RestController</code> and not <code>@Controller</code>."},{"owner":{"account_id":25851178,"reputation":93,"user_id":19585145,"display_name":"razzledazzle88"},"score":0,"creation_date":1662543673,"post_id":73633181,"comment_id":130027978,"body_markdown":"@M.Deinum hey! I figured it out right after I posted, but I saw that you&#39;ve also answered the question. If you care enough to post your comment as the answer, I&#39;ll accept it.","body":"@M.Deinum hey! I figured it out right after I posted, but I saw that you&#39;ve also answered the question. If you care enough to post your comment as the answer, I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":25851178,"reputation":93,"user_id":19585145,"display_name":"razzledazzle88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662543511,"creation_date":1662543511,"answer_id":73633207,"question_id":73633181,"body_markdown":"The answer is that @RestController includes @ResponseBody annotation, I just had to use @Controller annotation instead","title":"Why isn&#39;t my model loading in Spring controller?","body":"<p>The answer is that @RestController includes @ResponseBody annotation, I just had to use @Controller annotation instead</p>\n"},{"tags":[],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662543771,"creation_date":1662543771,"answer_id":73633273,"question_id":73633181,"body_markdown":"Because you use @Restcontroller \r\n - @restcontroller used to create RESTAPI gm c&#225;c phng thc nh: GetMapping, PostMapping, PutMapping, DeleteMapping ...\r\n - @Controller Used to process and receive requests\r\n\r\n","title":"Why isn&#39;t my model loading in Spring controller?","body":"<p>Because you use @Restcontroller</p>\n<ul>\n<li>@restcontroller used to create RESTAPI gm cc phng thc nh: GetMapping, PostMapping, PutMapping, DeleteMapping ...</li>\n<li>@Controller Used to process and receive requests</li>\n</ul>\n"}],"owner":{"account_id":25851178,"reputation":93,"user_id":19585145,"display_name":"razzledazzle88"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73633273,"answer_count":2,"score":0,"last_activity_date":1662543771,"creation_date":1662543393,"question_id":73633181,"body_markdown":"I have a controller with a method:\r\n\r\n```\r\n@GetMapping(&quot;/showProducts&quot;)\r\npublic String returnAllProductsInATable(Model model) {\r\n\t\tmodel.addAttribute(&quot;products&quot;, listProducts)\r\n\t\treturn &quot;showProducts&quot;\r\n\t}\r\n```\r\nshowProduct is a page in *templates* folder:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt; &lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;table&gt;\r\n  &lt;tr th:each=&quot;product: ${products}&quot;&gt;\r\n    &lt;td th:text=&quot;${product.id}&quot;&gt;&lt;/td&gt;\r\n    &lt;td th:text=&quot;${product.productSeries}&quot;&gt;&lt;/td&gt;\r\n    &lt;td th:text=&quot;${product.name}&quot;&gt;&lt;/td&gt;\r\n    &lt;td th:text=&quot;${product.price}&quot;&gt;&lt;/td&gt;\r\n    &lt;td th:text=&quot;${product.weight}&quot;&gt;&lt;/td&gt;\r\n    &lt;td th:text=&quot;${product.description}&quot;&gt;&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nController class is annotated with @RestController, the dependencies for spring-boot-starter-thymeleaf, spring-boot-starter-web and spring-webmvc are included, but instead of a model I see &quot;showProducts&quot; String, why is that?","title":"Why isn&#39;t my model loading in Spring controller?","body":"<p>I have a controller with a method:</p>\n<pre><code>@GetMapping(&quot;/showProducts&quot;)\npublic String returnAllProductsInATable(Model model) {\n        model.addAttribute(&quot;products&quot;, listProducts)\n        return &quot;showProducts&quot;\n    }\n</code></pre>\n<p>showProduct is a page in <em>templates</em> folder:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt; &lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;table&gt;\n  &lt;tr th:each=&quot;product: ${products}&quot;&gt;\n    &lt;td th:text=&quot;${product.id}&quot;&gt;&lt;/td&gt;\n    &lt;td th:text=&quot;${product.productSeries}&quot;&gt;&lt;/td&gt;\n    &lt;td th:text=&quot;${product.name}&quot;&gt;&lt;/td&gt;\n    &lt;td th:text=&quot;${product.price}&quot;&gt;&lt;/td&gt;\n    &lt;td th:text=&quot;${product.weight}&quot;&gt;&lt;/td&gt;\n    &lt;td th:text=&quot;${product.description}&quot;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Controller class is annotated with @RestController, the dependencies for spring-boot-starter-thymeleaf, spring-boot-starter-web and spring-webmvc are included, but instead of a model I see &quot;showProducts&quot; String, why is that?</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":23118939,"reputation":67,"user_id":17225742,"display_name":"Rifaldi"},"score":0,"creation_date":1661912974,"post_id":73550153,"comment_id":129882606,"body_markdown":"I think this happen because you not initialize R.id.list as id of listview in java code so program cant identified what type of R.id.list","body":"I think this happen because you not initialize R.id.list as id of listview in java code so program cant identified what type of R.id.list"},{"owner":{"account_id":26193454,"reputation":11,"user_id":19874886,"display_name":"joby "},"score":0,"creation_date":1661923557,"post_id":73550153,"comment_id":129884035,"body_markdown":"@Rifaldi could you give me an example of initializing R.id.list ?","body":"@Rifaldi could you give me an example of initializing R.id.list ?"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1661924372,"post_id":73550153,"comment_id":129884186,"body_markdown":"Should not contain @android:id/list. Mention id&#39;s like this @+id/list","body":"Should not contain @android:id/list. Mention id&#39;s like this @+id/list"},{"owner":{"account_id":23118939,"reputation":67,"user_id":17225742,"display_name":"Rifaldi"},"score":0,"creation_date":1661926962,"post_id":73550153,"comment_id":129884763,"body_markdown":"@joby just realize if your problem in your xml not java code. For solving that, just see gobu cooment","body":"@joby just realize if your problem in your xml not java code. For solving that, just see gobu cooment"}],"answers":[{"tags":[],"owner":{"account_id":15389411,"reputation":324,"user_id":11102588,"display_name":"Antony Aiwin K X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662176897,"creation_date":1662176897,"answer_id":73589485,"question_id":73550153,"body_markdown":"You should use **android:id=&quot;@+id/list&quot;** instead of **android:id=&quot;@android:id/list&quot;**\r\n\r\n**Edit your activity_main.xml file to :**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;ListView\r\n                android:id=&quot;@+id/list&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot; /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"How to resolve symbol &#39;list&#39;?","body":"<p>You should use <strong>android:id=&quot;@+id/list&quot;</strong> instead of <strong>android:id=&quot;@android:id/list&quot;</strong></p>\n<p><strong>Edit your activity_main.xml file to :</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;ListView\n            android:id=&quot;@+id/list&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot; /&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":26193454,"reputation":11,"user_id":19874886,"display_name":"joby "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662543427,"creation_date":1661911081,"question_id":73550153,"body_markdown":"**Problem**\r\n\r\nCurrently, I&#39;m trying to use a ListView in my app but when I changed the id of my ListView to `@android:id/list` to fix the previous error of &quot;My content must include a ListView whose id is android.r.id.list&quot; it made it impossible to use `R.id.list` in my `setListAdapter` and gave the new error that I&#39;m trying to get fixed &quot;Cannot resolve symbol &#39;list&#39;&quot;\r\n\r\n**What I&#39;ve tried**\r\n\r\n-invalidating caches\r\n\r\n**Code MainActivity.java**\r\n```\r\npackage com.example.cakeapp;\r\n    \r\nimport android.app.ListActivity;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\nimport android.widget.RadioButton;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\n    \r\nimport com.example.cakeapp.R;\r\n    \r\npublic class MainActivity extends ListActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        String[] dessert={&quot;Chocolate Mousse&quot;,\r\n                &quot;Chocolate Cake&quot;,\r\n                &quot;Chocolate Macaroons&quot;,\r\n                &quot;Chocolate Cafe Website&quot;,\r\n                &quot;Dessert Selection&quot;};\r\n    \r\n        setListAdapter(new ArrayAdapter&lt;String&gt;(this, R.layout.activity_main, R.id.list, dessert));\r\n    }\r\n}\r\n```\r\n**Code activity_main.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;ListView\r\n            android:id=&quot;@android:id/list&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**Code AndroidManifest.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.cakeapp&quot;&gt;\r\n    \r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.CakeApp&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    \r\n    &lt;/application&gt;\r\n    \r\n&lt;/manifest&gt;\r\n```","title":"How to resolve symbol &#39;list&#39;?","body":"<p><strong>Problem</strong></p>\n<p>Currently, I'm trying to use a ListView in my app but when I changed the id of my ListView to <code>@android:id/list</code> to fix the previous error of &quot;My content must include a ListView whose id is android.r.id.list&quot; it made it impossible to use <code>R.id.list</code> in my <code>setListAdapter</code> and gave the new error that I'm trying to get fixed &quot;Cannot resolve symbol 'list'&quot;</p>\n<p><strong>What I've tried</strong></p>\n<p>-invalidating caches</p>\n<p><strong>Code MainActivity.java</strong></p>\n<pre><code>package com.example.cakeapp;\n    \nimport android.app.ListActivity;\nimport android.content.Intent;\nimport android.net.Uri;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.RadioButton;\nimport android.widget.Spinner;\nimport android.widget.TextView;\n    \nimport com.example.cakeapp.R;\n    \npublic class MainActivity extends ListActivity {\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        String[] dessert={&quot;Chocolate Mousse&quot;,\n                &quot;Chocolate Cake&quot;,\n                &quot;Chocolate Macaroons&quot;,\n                &quot;Chocolate Cafe Website&quot;,\n                &quot;Dessert Selection&quot;};\n    \n        setListAdapter(new ArrayAdapter&lt;String&gt;(this, R.layout.activity_main, R.id.list, dessert));\n    }\n}\n</code></pre>\n<p><strong>Code activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n    \n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n    \n        &lt;ListView\n            android:id=&quot;@android:id/list&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot; /&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>Code AndroidManifest.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.cakeapp&quot;&gt;\n    \n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.CakeApp&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot; &gt;\n            &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n    \n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    \n    &lt;/application&gt;\n    \n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":24328989,"reputation":35,"user_id":18268137,"display_name":"Soccan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662379250,"creation_date":1662379250,"answer_id":73609058,"question_id":73608868,"body_markdown":"Hmm, I think your first :coursename should be replaced with s.course.name. Because as your query looks now, at least in my mind, the first part of the where clause checks if the search term is null...","title":"spring data @ManyToOne not return all records","body":"<p>Hmm, I think your first :coursename should be replaced with s.course.name. Because as your query looks now, at least in my mind, the first part of the where clause checks if the search term is null...</p>\n"},{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662543179,"creation_date":1662379294,"answer_id":73609066,"question_id":73608868,"body_markdown":"If you want to return all students where course is null or course matches courseName parameter, change to this\r\n```\r\n@Query(\r\n&quot;select s from Student s &quot; +\r\n&quot;where or s.course.name = :courseName &quot; + \r\n&quot;or s.course is null&quot;)\r\nList&lt;Student&gt; search(@Param(&quot;courseName&quot;) String courseName)\r\n```","title":"spring data @ManyToOne not return all records","body":"<p>If you want to return all students where course is null or course matches courseName parameter, change to this</p>\n<pre><code>@Query(\n&quot;select s from Student s &quot; +\n&quot;where or s.course.name = :courseName &quot; + \n&quot;or s.course is null&quot;)\nList&lt;Student&gt; search(@Param(&quot;courseName&quot;) String courseName)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662381742,"creation_date":1662381410,"answer_id":73609486,"question_id":73608868,"body_markdown":"If you don&#39;t explicitly specifiy the join, JPA uses an implicit `inner join`, this is why you don&#39;t get all expected records.\r\n\r\nIndeed when you do `s.course.name`, JPA actually inner join `Student` and `Course` entities.\r\n\r\nSo if you want to retrieve null values, you can explicitly specifiy a `left join` (`left join` returns all rows from the left table, even if there are no matches in the right table) :\r\n\r\n```jpql\r\nselect s from Student s left join s.course c where :courseName is null or :courseName = c.name\r\n```","title":"spring data @ManyToOne not return all records","body":"<p>If you don't explicitly specifiy the join, JPA uses an implicit <code>inner join</code>, this is why you don't get all expected records.</p>\n<p>Indeed when you do <code>s.course.name</code>, JPA actually inner join <code>Student</code> and <code>Course</code> entities.</p>\n<p>So if you want to retrieve null values, you can explicitly specifiy a <code>left join</code> (<code>left join</code> returns all rows from the left table, even if there are no matches in the right table) :</p>\n<pre><code>select s from Student s left join s.course c where :courseName is null or :courseName = c.name\n</code></pre>\n"}],"owner":{"account_id":26249821,"reputation":17,"user_id":19922772,"display_name":"parsa faraji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73609486,"answer_count":3,"score":0,"last_activity_date":1662543179,"creation_date":1662378337,"question_id":73608868,"body_markdown":"I have two entity and many to one relation\r\nStudent\r\nCourse\r\n\r\n```\r\n    @Entity\r\n    public class Student {\r\n\r\n        @Id\r\n        private Long id;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;COURSE_ID&quot;)\r\n        private Course course;\r\n\r\n    }\r\n\r\n    @Entity\r\n    public class Course{\r\n\r\n        @Id\r\n        private Long id;\r\n\r\n        @Column\r\n        private String name;\r\n\r\n    }\r\n```\r\n\r\neach student can have just one or **not have any course** it means in database for that student course_id column is null\r\n\r\nmy problem is when get list of student and want add condition on name of course like :\r\n\r\n```\r\n@Query(&quot;select s from Student s where :courseName is null or :courseName = s.course.name&quot;)\r\n    List&lt;Student&gt; search(@Param(&quot;courseName&quot;) String courseName)\r\n```\r\n\r\nthis list return only student have course and not contain all of student store in table","title":"spring data @ManyToOne not return all records","body":"<p>I have two entity and many to one relation\nStudent\nCourse</p>\n<pre><code>    @Entity\n    public class Student {\n\n        @Id\n        private Long id;\n\n        @ManyToOne\n        @JoinColumn(name = &quot;COURSE_ID&quot;)\n        private Course course;\n\n    }\n\n    @Entity\n    public class Course{\n\n        @Id\n        private Long id;\n\n        @Column\n        private String name;\n\n    }\n</code></pre>\n<p>each student can have just one or <strong>not have any course</strong> it means in database for that student course_id column is null</p>\n<p>my problem is when get list of student and want add condition on name of course like :</p>\n<pre><code>@Query(&quot;select s from Student s where :courseName is null or :courseName = s.course.name&quot;)\n    List&lt;Student&gt; search(@Param(&quot;courseName&quot;) String courseName)\n</code></pre>\n<p>this list return only student have course and not contain all of student store in table</p>\n"},{"tags":["java","selenium","ashot"],"owner":{"account_id":17888127,"reputation":39,"user_id":12995285,"display_name":"ankush singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662543076,"creation_date":1662537232,"question_id":73631903,"body_markdown":"Hi I am using java with selenium and I need a screenshot and I am using Ashot to take a full webpage Screenshot below is my code\r\n```\r\npublic static void saveFullPageScreenshot(String name) throws IOException {\r\n\t\t\r\n\t\tScreenshot screenshot = new AShot().shootingStrategy(ShootingStrategies.viewportPasting(1000))\r\n\t\t\t\t.takeScreenshot(driver);\r\n\t\tImageIO.write(screenshot.getImage(), &quot;PNG&quot;, new File(name));\r\n\t\t\r\n\t}\r\n```\r\n\r\nI call that function in the script\r\n\r\n```\r\nsaveFullPageScreenshot(&quot;./src/test/resources/Reports/Images/tests.CBATTest/saveAsDraftReq/&quot; + &quot;Editdetailspage&quot; + &quot;.png&quot;);\r\n```\r\nI am getting can&#39;t create an ImageoutputStream!\r\n\r\nbelow is the stack trace:-\r\n```\r\n  javax.imageio.IIOException: Can&#39;t create an ImageOutputStream!\r\n\tat java.desktop/javax.imageio.ImageIO.write(ImageIO.java:1553)\r\n\tat pageObjects.pages.CBATRequisitionPageObjects.createRequisitionEdit(CBATRequisitionPageObjects.java:391)\r\n\tat tests.CBATTest.saveAsDraftReq(CBATTest.java:509)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)\r\n\tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)\r\n\tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n\tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:764)\r\n\tat org.testng.TestRunner.run(TestRunner.java:585)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:286)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1218)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1140)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1069)\r\n\tat org.testng.TestNG.run(TestNG.java:1037)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n```\r\nplease help me with this Thanks in Advance","title":"can&#39;t take Screenshot using Ashot library with selenium","body":"<p>Hi I am using java with selenium and I need a screenshot and I am using Ashot to take a full webpage Screenshot below is my code</p>\n<pre><code>public static void saveFullPageScreenshot(String name) throws IOException {\n        \n        Screenshot screenshot = new AShot().shootingStrategy(ShootingStrategies.viewportPasting(1000))\n                .takeScreenshot(driver);\n        ImageIO.write(screenshot.getImage(), &quot;PNG&quot;, new File(name));\n        \n    }\n</code></pre>\n<p>I call that function in the script</p>\n<pre><code>saveFullPageScreenshot(&quot;./src/test/resources/Reports/Images/tests.CBATTest/saveAsDraftReq/&quot; + &quot;Editdetailspage&quot; + &quot;.png&quot;);\n</code></pre>\n<p>I am getting can't create an ImageoutputStream!</p>\n<p>below is the stack trace:-</p>\n<pre><code>  javax.imageio.IIOException: Can't create an ImageOutputStream!\n    at java.desktop/javax.imageio.ImageIO.write(ImageIO.java:1553)\n    at pageObjects.pages.CBATRequisitionPageObjects.createRequisitionEdit(CBATRequisitionPageObjects.java:391)\n    at tests.CBATTest.saveAsDraftReq(CBATTest.java:509)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:764)\n    at org.testng.TestRunner.run(TestRunner.java:585)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:286)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1218)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1140)\n    at org.testng.TestNG.runSuites(TestNG.java:1069)\n    at org.testng.TestNG.run(TestNG.java:1037)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n<p>please help me with this Thanks in Advance</p>\n"},{"tags":["java","pdf","netbeans","itext","opacity"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1662022674,"post_id":73565691,"comment_id":129911602,"body_markdown":"What exactly do you want to achieve? Do you want transparency information already in the image to be used by iText? Or do you want to make add transparency to opaque images when adding them to a PDF?","body":"What exactly do you want to achieve? Do you want transparency information already in the image to be used by iText? Or do you want to make add transparency to opaque images when adding them to a PDF?"},{"owner":{"account_id":26215414,"reputation":3,"user_id":19893605,"display_name":"Meta Ace"},"score":0,"creation_date":1662023494,"post_id":73565691,"comment_id":129911939,"body_markdown":"I added an edit to clarify, but I want to basically only export my image as a pdf and not the background, either by making it completely transparent or removing it altogether","body":"I added an edit to clarify, but I want to basically only export my image as a pdf and not the background, either by making it completely transparent or removing it altogether"}],"answers":[{"tags":[],"owner":{"account_id":25750858,"reputation":46,"user_id":19503437,"display_name":"LionelRichTea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662542860,"creation_date":1662019894,"answer_id":73566139,"question_id":73565691,"body_markdown":"Here is the correct link to the background transparency example - https://github.com/itext/i5js-sandbox/blob/master/src/main/java/sandbox/images/BackgroundTransparent.java\r\n\r\nIf you (or anyone else) want the equivalent example for iText 7, you can find it here - https://github.com/itext/i7js-examples/blob/develop/src/main/java/com/itextpdf/samples/sandbox/images/BackgroundTransparent.java, or here for the C# version - https://github.com/itext/i7ns-samples/blob/develop/itext/itext.samples/itext/samples/sandbox/images/BackgroundTransparent.cs","title":"Does Itext 5.5.13.3 support Transparent pdf backgrounds?","body":"<p>Here is the correct link to the background transparency example - <a href=\"https://github.com/itext/i5js-sandbox/blob/master/src/main/java/sandbox/images/BackgroundTransparent.java\" rel=\"nofollow noreferrer\">https://github.com/itext/i5js-sandbox/blob/master/src/main/java/sandbox/images/BackgroundTransparent.java</a></p>\n<p>If you (or anyone else) want the equivalent example for iText 7, you can find it here - <a href=\"https://github.com/itext/i7js-examples/blob/develop/src/main/java/com/itextpdf/samples/sandbox/images/BackgroundTransparent.java\" rel=\"nofollow noreferrer\">https://github.com/itext/i7js-examples/blob/develop/src/main/java/com/itextpdf/samples/sandbox/images/BackgroundTransparent.java</a>, or here for the C# version - <a href=\"https://github.com/itext/i7ns-samples/blob/develop/itext/itext.samples/itext/samples/sandbox/images/BackgroundTransparent.cs\" rel=\"nofollow noreferrer\">https://github.com/itext/i7ns-samples/blob/develop/itext/itext.samples/itext/samples/sandbox/images/BackgroundTransparent.cs</a></p>\n"}],"owner":{"account_id":26215414,"reputation":3,"user_id":19893605,"display_name":"Meta Ace"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73566139,"answer_count":1,"score":0,"last_activity_date":1662542860,"creation_date":1662017711,"question_id":73565691,"body_markdown":"I am working on an existing codebase which is using Itext 5.5.13.3, I found this page https://kb.itextpdf.com/home/it5kb/faq/how-to-change-a-background-image-into-a-watermark-by-altering-the-opacity which seems to be about image transparency and the background transparency link is dead.\r\n\r\nI have not attempted anything and I am simply wondering if it is possible with this version of Itext and where I can look for the proper documentation or method. I am using Netbeans and writing in Java\r\n\r\nEdit: I want to have an option that allows the user to export a PDF with transparent/no background from my program similar to how it is done in PNG. The buttons are already functional, all I am missing is the actual pdf logic","title":"Does Itext 5.5.13.3 support Transparent pdf backgrounds?","body":"<p>I am working on an existing codebase which is using Itext 5.5.13.3, I found this page <a href=\"https://kb.itextpdf.com/home/it5kb/faq/how-to-change-a-background-image-into-a-watermark-by-altering-the-opacity\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/home/it5kb/faq/how-to-change-a-background-image-into-a-watermark-by-altering-the-opacity</a> which seems to be about image transparency and the background transparency link is dead.</p>\n<p>I have not attempted anything and I am simply wondering if it is possible with this version of Itext and where I can look for the proper documentation or method. I am using Netbeans and writing in Java</p>\n<p>Edit: I want to have an option that allows the user to export a PDF with transparent/no background from my program similar to how it is done in PNG. The buttons are already functional, all I am missing is the actual pdf logic</p>\n"},{"tags":["java","memory-management"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1662538677,"post_id":73631703,"comment_id":130026080,"body_markdown":"I suggest you don&#39;t consider variables on the stack (i.e. local variables) as &quot;allocated&quot;. While technically yes, they do obviously require some space, stack space is managed incredibly efficiently and is effectively &quot;free&quot; for most use cases. Also: if you call a method directly with some value, the value *still* needs to be put on the stack (at least at the Java bytecode level, that might not be true once it&#39;s compiled to native code, but the same is true for local variables).","body":"I suggest you don&#39;t consider variables on the stack (i.e. local variables) as &quot;allocated&quot;. While technically yes, they do obviously require some space, stack space is managed incredibly efficiently and is effectively &quot;free&quot; for most use cases. Also: if you call a method directly with some value, the value <i>still</i> needs to be put on the stack (at least at the Java bytecode level, that might not be true once it&#39;s compiled to native code, but the same is true for local variables)."},{"owner":{"account_id":1430268,"reputation":3659,"user_id":1378771,"accept_rate":74,"display_name":"user794783"},"score":0,"creation_date":1662541137,"post_id":73631703,"comment_id":130026968,"body_markdown":"Kinda realised after I posted the question that I should not have used a primitive in my example which is going to be stack allocated. But if I replaced `int` with an `Object` or just `java.lang.Integer`, the question would makes more sense I guess. But in general, the question is about how much does the memory increases regardless of heap or stack allocation or efficiency. From your response I understand that my assumption about memory allocation doubling and plus more is correct?","body":"Kinda realised after I posted the question that I should not have used a primitive in my example which is going to be stack allocated. But if I replaced <code>int</code> with an <code>Object</code> or just <code>java.lang.Integer</code>, the question would makes more sense I guess. But in general, the question is about how much does the memory increases regardless of heap or stack allocation or efficiency. From your response I understand that my assumption about memory allocation doubling and plus more is correct?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1662541745,"post_id":73631703,"comment_id":130027209,"body_markdown":"`int` vs. `Object` doesn&#39;t really matter, since the local variable of type `Object` is just a reference and will be about the size of an `int` or `long` (depending on the platform and JVM settings). The &quot;doubling&quot; that you talk about makes sense in *some* way, but is really misleading, because half of it (the Java side) depends on what you continue doing with it. And if you don&#39;t hold on to the Java side and it gets discarded from the stack or GCed if on the heap, then the &quot;doubling&quot; is no longer true. Usually you&#39;ll only ever have a small part of what you allocated off-heap also be on heap.","body":"<code>int</code> vs. <code>Object</code> doesn&#39;t really matter, since the local variable of type <code>Object</code> is just a reference and will be about the size of an <code>int</code> or <code>long</code> (depending on the platform and JVM settings). The &quot;doubling&quot; that you talk about makes sense in <i>some</i> way, but is really misleading, because half of it (the Java side) depends on what you continue doing with it. And if you don&#39;t hold on to the Java side and it gets discarded from the stack or GCed if on the heap, then the &quot;doubling&quot; is no longer true. Usually you&#39;ll only ever have a small part of what you allocated off-heap also be on heap."}],"owner":{"account_id":1430268,"reputation":3659,"user_id":1378771,"accept_rate":74,"display_name":"user794783"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1662542809,"creation_date":1662536242,"question_id":73631703,"body_markdown":"I&#39;m trying to understand the cost of allocating memory off-heap in Java using `Unsafe`. \r\n\r\n```java\r\n//This is how I created an Unsafe instance\r\nField f = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\nf.setAccessible(true);\r\nUnsafe unsafe = (Unsafe) f.get(null);\r\n```\r\n\r\nPlease help me understand memory allocations in the following code that writes an `int` (4 bytes) off-heap.\r\n\r\n```java\r\nlong address = unsafe.allocateMemory(Integer.BYTES);\r\nint myInteger = 3;\r\nunsafe.putInt(address, myInteger);\r\nint myReadInt = unsafe.getInt(address);\r\n```\r\n\r\n## Cost\r\n- `unsafe.allocateMemory` returns a `long` which gets allocated on JVM. Cost is `8` bytes on JVM for that `long`.\r\n- `int myInteger = 3` is first allocated on heap/stack on the JVM. Cost is `4` bytes on the JVM.\r\n- `unsafe.putInt` then writes `myInteger` off-heap. Cost is `4` bytes off-heap.\r\n- Reading that `int` back out via `unsafe.getInt`, I&#39;m copying that off-heap allocation into JVM which another JVM allocation?\r\n\r\nSo to write `4` bytes of memory off-heap. I&#39;m allocating `16` bytes in total?\r\n- `8` bytes for `long` address on the JVM ?\r\n- And I&#39;m allocating that `int` twice, once on the JVM and then off-heap?\r\n\r\nAm I correct to understand that on the JVM I&#39;m allocating twice as much memory to go off-heap? In `C` or `C++`, this would not be the case?\r\n\r\nAnd to read the integer back out from off-heap, I&#39;m copying that memory back into JVM, which now has to be garbage collected?\r\n\r\nIf I passed `myInteger = 3` directly to the function, would it by any chance skip the `int` allocation on JVM?\r\n\r\n```java\r\nunsafe.putInt(address, 3);\r\n```\r\n\r\nEdit: As pointed out by Joachim in the comments, stack allocation is efficient. The question is more about cost of total memory allocation instead of efficiency, that `int` could be replaced with some `Object` that is heap allocated or something that is a lot larger than `4` bytes.","title":"Cost of calling `sun.misc.Unsafe` functions in Java?","body":"<p>I'm trying to understand the cost of allocating memory off-heap in Java using <code>Unsafe</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//This is how I created an Unsafe instance\nField f = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\nf.setAccessible(true);\nUnsafe unsafe = (Unsafe) f.get(null);\n</code></pre>\n<p>Please help me understand memory allocations in the following code that writes an <code>int</code> (4 bytes) off-heap.</p>\n<pre class=\"lang-java prettyprint-override\"><code>long address = unsafe.allocateMemory(Integer.BYTES);\nint myInteger = 3;\nunsafe.putInt(address, myInteger);\nint myReadInt = unsafe.getInt(address);\n</code></pre>\n<h2>Cost</h2>\n<ul>\n<li><code>unsafe.allocateMemory</code> returns a <code>long</code> which gets allocated on JVM. Cost is <code>8</code> bytes on JVM for that <code>long</code>.</li>\n<li><code>int myInteger = 3</code> is first allocated on heap/stack on the JVM. Cost is <code>4</code> bytes on the JVM.</li>\n<li><code>unsafe.putInt</code> then writes <code>myInteger</code> off-heap. Cost is <code>4</code> bytes off-heap.</li>\n<li>Reading that <code>int</code> back out via <code>unsafe.getInt</code>, I'm copying that off-heap allocation into JVM which another JVM allocation?</li>\n</ul>\n<p>So to write <code>4</code> bytes of memory off-heap. I'm allocating <code>16</code> bytes in total?</p>\n<ul>\n<li><code>8</code> bytes for <code>long</code> address on the JVM ?</li>\n<li>And I'm allocating that <code>int</code> twice, once on the JVM and then off-heap?</li>\n</ul>\n<p>Am I correct to understand that on the JVM I'm allocating twice as much memory to go off-heap? In <code>C</code> or <code>C++</code>, this would not be the case?</p>\n<p>And to read the integer back out from off-heap, I'm copying that memory back into JVM, which now has to be garbage collected?</p>\n<p>If I passed <code>myInteger = 3</code> directly to the function, would it by any chance skip the <code>int</code> allocation on JVM?</p>\n<pre class=\"lang-java prettyprint-override\"><code>unsafe.putInt(address, 3);\n</code></pre>\n<p>Edit: As pointed out by Joachim in the comments, stack allocation is efficient. The question is more about cost of total memory allocation instead of efficiency, that <code>int</code> could be replaced with some <code>Object</code> that is heap allocated or something that is a lot larger than <code>4</code> bytes.</p>\n"},{"tags":["java","atomic"],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1662542718,"creation_date":1275499900,"answer_id":2960040,"question_id":2960013,"body_markdown":"As of Java 8, you can use [`AtomicInteger.updateAndGet`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html#updateAndGet-java.util.function.IntUnaryOperator-):\r\n\r\n    return val.updateAndGet(n -&gt; (n &gt;= 60) ? 1 : n + 1);\r\n\r\n----\r\nAnother alternative would be to simply do...\r\n\r\n    return val.getAndIncrement() % 60;\r\n\r\n...unless you&#39;re concerned with exceeding the integer max-value (2147483647). If that is a concern, you could have a look at the `getAndIncrement` implementation:\r\n\r\n    public final int getAndIncrement() {\r\n        for (;;) {\r\n            int current = get();\r\n            int next = current + 1;\r\n            if (compareAndSet(current, next))\r\n                return current;\r\n        }\r\n    }\r\n\r\nAll you need to change is the `int next...` line to something like:\r\n\r\n    int next = (current + 1) % 60;\r\n\r\n\r\n----------\r\n\r\n\r\nOops. This loops through 0-&gt;59. You needed 1-&gt;60, so add one to the return-value to get the desired result.","title":"AtomicInteger for limited sequence generation","body":"<p>As of Java 8, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html#updateAndGet-java.util.function.IntUnaryOperator-\" rel=\"nofollow noreferrer\"><code>AtomicInteger.updateAndGet</code></a>:</p>\n<pre><code>return val.updateAndGet(n -&gt; (n &gt;= 60) ? 1 : n + 1);\n</code></pre>\n<hr />\n<p>Another alternative would be to simply do...</p>\n<pre><code>return val.getAndIncrement() % 60;\n</code></pre>\n<p>...unless you're concerned with exceeding the integer max-value (2147483647). If that is a concern, you could have a look at the <code>getAndIncrement</code> implementation:</p>\n<pre><code>public final int getAndIncrement() {\n    for (;;) {\n        int current = get();\n        int next = current + 1;\n        if (compareAndSet(current, next))\n            return current;\n    }\n}\n</code></pre>\n<p>All you need to change is the <code>int next...</code> line to something like:</p>\n<pre><code>int next = (current + 1) % 60;\n</code></pre>\n<hr />\n<p>Oops. This loops through 0-&gt;59. You needed 1-&gt;60, so add one to the return-value to get the desired result.</p>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1275500000,"creation_date":1275500000,"answer_id":2960046,"question_id":2960013,"body_markdown":"No, it&#39;s not thread safe - you shouldn&#39;t call `set` inside a cycle:\r\n\r\n    int value, next;\r\n    do {\r\n    \tvalue = val.get();\r\n    \tnext = (value == 60) ? 1 : (value + 1);\r\n    } while (!val.compareAndSet(value, next);\r\n    return next;","title":"AtomicInteger for limited sequence generation","body":"<p>No, it's not thread safe - you shouldn't call <code>set</code> inside a cycle:</p>\n\n<pre><code>int value, next;\ndo {\n    value = val.get();\n    next = (value == 60) ? 1 : (value + 1);\n} while (!val.compareAndSet(value, next);\nreturn next;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1275500138,"creation_date":1275500138,"answer_id":2960058,"question_id":2960013,"body_markdown":"If you make the method `synchronized` then it will be threadsafe as long as the `val` is nowhere else accessed. The approach is however a bit cumbersome, I&#39;d rewrite it as follows:\r\n\r\n    public synchronized int getNextValue() {\r\n        val.compareAndSet(60, 0); // Set to 0 if current value is 60.\r\n        return val.incrementAndGet();\r\n    }\r\n\r\nThis gives 1 until with 60 back **inclusive**. If you actually need 1 until with 59, then replace `60` by `59`.","title":"AtomicInteger for limited sequence generation","body":"<p>If you make the method <code>synchronized</code> then it will be threadsafe as long as the <code>val</code> is nowhere else accessed. The approach is however a bit cumbersome, I'd rewrite it as follows:</p>\n\n<pre><code>public synchronized int getNextValue() {\n    val.compareAndSet(60, 0); // Set to 0 if current value is 60.\n    return val.incrementAndGet();\n}\n</code></pre>\n\n<p>This gives 1 until with 60 back <strong>inclusive</strong>. If you actually need 1 until with 59, then replace <code>60</code> by <code>59</code>.</p>\n"},{"tags":[],"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1275500244,"creation_date":1275500244,"answer_id":2960071,"question_id":2960013,"body_markdown":"Any particular reason to use AtomicInteger here rather than just a simple synchronized method? \r\n\r\nHow about something simple like the following:\r\n\r\n    private int val=1;\r\n    \r\n    public synchronized int getNextValue() {\r\n     int v=val;\r\n     val = (val==60) ? 1 : (val+1); \r\n     return v;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"AtomicInteger for limited sequence generation","body":"<p>Any particular reason to use AtomicInteger here rather than just a simple synchronized method? </p>\n\n<p>How about something simple like the following:</p>\n\n<pre><code>private int val=1;\n\npublic synchronized int getNextValue() {\n int v=val;\n val = (val==60) ? 1 : (val+1); \n return v;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":143563,"reputation":26774,"user_id":351984,"accept_rate":86,"display_name":"Paul Rubel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1275500250,"creation_date":1275500250,"answer_id":2960073,"question_id":2960013,"body_markdown":"Quick answer, not thread safe. The test and set need to be atomic, unless you make the whole method synchronized. Note the val.get() and the test of v are not atomic. If the thread yields after v = val.get() you&#39;ll get two calls with the same sequence number. \r\n\r\nAlso, if the compareAndSet fails you never change the values, it&#39;ll be an infinite loop. \r\n\r\nAtomicInteger has a\r\n   getAndIncrement()\r\ncall. That will get you a clean value to return. \r\n\r\nThe rolling is a bit trickier. One solution is to mod the return value. Something like so:\r\n\r\n    int v = val.getAndIncrement();\r\n    return (v % 60) + 1;\r\n\r\nSince each thread has a local copy of v we can safely do some math on it and return the value. There is one sticking point if you get an overflow. Depending on how often you generate a sequence number this may or may not be an issue. ","title":"AtomicInteger for limited sequence generation","body":"<p>Quick answer, not thread safe. The test and set need to be atomic, unless you make the whole method synchronized. Note the val.get() and the test of v are not atomic. If the thread yields after v = val.get() you'll get two calls with the same sequence number. </p>\n\n<p>Also, if the compareAndSet fails you never change the values, it'll be an infinite loop. </p>\n\n<p>AtomicInteger has a\n   getAndIncrement()\ncall. That will get you a clean value to return. </p>\n\n<p>The rolling is a bit trickier. One solution is to mod the return value. Something like so:</p>\n\n<pre><code>int v = val.getAndIncrement();\nreturn (v % 60) + 1;\n</code></pre>\n\n<p>Since each thread has a local copy of v we can safely do some math on it and return the value. There is one sticking point if you get an overflow. Depending on how often you generate a sequence number this may or may not be an issue. </p>\n"},{"tags":[],"owner":{"account_id":9091013,"reputation":311,"user_id":6766950,"display_name":"Kenny Colliander Nordin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1486150258,"creation_date":1486150258,"answer_id":42031700,"question_id":2960013,"body_markdown":"You can do this in a single line using Java 8.\r\n\r\n\tAtomicInteger counter = new AtomicInteger();\r\n\r\n\tpublic int getNextValue() {\r\n\t\treturn counter.updateAndGet(n -&gt; (n &gt;= 60) ? 1 : n + 1);\r\n\t}","title":"AtomicInteger for limited sequence generation","body":"<p>You can do this in a single line using Java 8.</p>\n\n<pre><code>AtomicInteger counter = new AtomicInteger();\n\npublic int getNextValue() {\n    return counter.updateAndGet(n -&gt; (n &gt;= 60) ? 1 : n + 1);\n}\n</code></pre>\n"}],"owner":{"account_id":146327,"reputation":125,"user_id":356707,"display_name":"satish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7666,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":2960040,"answer_count":6,"score":8,"last_activity_date":1662542718,"creation_date":1275499550,"question_id":2960013,"body_markdown":"How can we use AtomicInteger for limited sequence generation say the sequence number has to be between 1 to 60. Once the sequence reaches 60 it has to start again from 1. I wrote this code though not quite sure wether this is thread safe or not?\r\n\r\n    public int getNextValue()\r\n    {\r\n     int v;\r\n     do\r\n     {\r\n       v = val.get();\r\n       if ( v == 60)\r\n       {\r\n        val.set(1);\r\n       }\r\n     }\r\n      while (!val.compareAndSet(v , v + 1));\r\n       return v + 1;\r\n      }\r\n\r\n","title":"AtomicInteger for limited sequence generation","body":"<p>How can we use AtomicInteger for limited sequence generation say the sequence number has to be between 1 to 60. Once the sequence reaches 60 it has to start again from 1. I wrote this code though not quite sure wether this is thread safe or not?</p>\n\n<pre><code>public int getNextValue()\n{\n int v;\n do\n {\n   v = val.get();\n   if ( v == 60)\n   {\n    val.set(1);\n   }\n }\n  while (!val.compareAndSet(v , v + 1));\n   return v + 1;\n  }\n</code></pre>\n"},{"tags":["java","android-layout","android-studio","webview","android-webview"],"comments":[{"owner":{"account_id":9188674,"reputation":89,"user_id":6829935,"display_name":"Gaurav"},"score":0,"creation_date":1534596767,"post_id":51907134,"comment_id":90767863,"body_markdown":"AnyOne can help...","body":"AnyOne can help..."}],"answers":[{"tags":[],"owner":{"account_id":9188674,"reputation":89,"user_id":6829935,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1534924400,"creation_date":1534924400,"answer_id":51962184,"question_id":51907134,"body_markdown":"i found my Answer myself ,\r\n\r\ni just need to put these codes\r\n\r\n    @Override\r\n                public boolean  shouldOverrideUrlLoading(WebView view, String url) {\r\n                    if(url != null &amp;&amp; url.startsWith(&quot;whatsapp://&quot;))\r\n                    {\r\n                        Intent sendIntent = new Intent();\r\n                        sendIntent.setAction(Intent.ACTION_SEND);\r\n                        sendIntent.putExtra(Intent.EXTRA_TEXT, &quot;Moon TV&quot;);\r\n                        sendIntent.setType(&quot;text/plain&quot;);\r\n                        sendIntent.setPackage(&quot;com.whatsapp&quot;);\r\n                        startActivity(sendIntent);return true;\r\n\r\n                }else\r\n                {\r\n                    return false;\r\n                }\r\n","title":"Unable to share on Whatsapp from my WebView . Getting The webpage at whatsapp://send?text= could not be load because net::ERR_UNKNOWN_URL_SCHEME","body":"<p>i found my Answer myself ,</p>\n\n<p>i just need to put these codes</p>\n\n<pre><code>@Override\n            public boolean  shouldOverrideUrlLoading(WebView view, String url) {\n                if(url != null &amp;&amp; url.startsWith(\"whatsapp://\"))\n                {\n                    Intent sendIntent = new Intent();\n                    sendIntent.setAction(Intent.ACTION_SEND);\n                    sendIntent.putExtra(Intent.EXTRA_TEXT, \"Moon TV\");\n                    sendIntent.setType(\"text/plain\");\n                    sendIntent.setPackage(\"com.whatsapp\");\n                    startActivity(sendIntent);return true;\n\n            }else\n            {\n                return false;\n            }\n</code></pre>\n"}],"owner":{"account_id":9188674,"reputation":89,"user_id":6829935,"display_name":"Gaurav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5255,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":51962184,"answer_count":1,"score":4,"last_activity_date":1662542689,"creation_date":1534584119,"question_id":51907134,"body_markdown":"Getting Error while sharing a news on whatsapp using my Webview App\r\n  \r\n  **package com.agraleaks.imgauravanimator;\r\n    \r\n    import android.app.Notification;\r\n    import android.app.NotificationManager;\r\n    import android.app.PendingIntent;\r\n    import android.app.ProgressDialog;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.net.Uri;\r\n    import android.support.v4.app.NotificationCompat;\r\n    import android.support.v4.content.LocalBroadcastManager;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.KeyEvent;\r\n    import android.webkit.WebChromeClient;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.view.View;\r\n    import android.graphics.Bitmap;\r\n    import android.os.Handler;\r\n    import android.support.v4.widget.SwipeRefreshLayout;\r\n    import android.support.v4.widget.SwipeRefreshLayout.OnRefreshListener;\r\n    \r\n    \r\n    \r\n    import com.agraleaks.imgauravanimator.Common.Config;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity implements OnRefreshListener {\r\n    \r\n        private WebView webView;\r\n        private ProgressDialog dialog;\r\n        private BroadcastReceiver mRegistrationBroadcastReceiver;\r\n        private SwipeRefreshLayout swipeLayout;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            swipeLayout = (SwipeRefreshLayout) findViewById(R.id.swipe_container);\r\n            swipeLayout.setOnRefreshListener(this);\r\n            swipeLayout.setColorScheme(android.R.color.holo_blue_bright,\r\n                    android.R.color.holo_green_light,\r\n                    android.R.color.holo_orange_light,\r\n                    android.R.color.holo_red_light);\r\n    \r\n    \r\n    \r\n    \r\n    \r\n            //WebView\r\n            webView = (WebView)findViewById(R.id.webView);\r\n            webView.getSettings().setJavaScriptEnabled(true);\r\n            webView.setWebChromeClient(new WebChromeClient());\r\n            webView.setWebViewClient(new WebViewClient() {\r\n    \r\n                @Override\r\n                public void onPageFinished(WebView view, String url) {\r\n                    //hide loading image\r\n                    findViewById(R.id.imageView1).setVisibility(View.GONE);\r\n                    findViewById(R.id.progressBar1).setVisibility(View.GONE);\r\n                    //show webview\r\n                    findViewById(R.id.webView).setVisibility(View.VISIBLE);\r\n                }\r\n    \r\n    \r\n            });\r\n    \r\n            webView.loadUrl(&quot;http://www.agraleaks.com/&quot;);\r\n            webView.setHorizontalScrollBarEnabled(false);\r\n            webView.setScrollBarStyle(View.SCROLLBARS_OUTSIDE_OVERLAY);\r\n            webView.setBackgroundColor(128);\r\n    \r\n           \r\n    \r\n    \r\n    \r\n    \r\n            mRegistrationBroadcastReceiver = new BroadcastReceiver() {\r\n                @Override\r\n                public void onReceive(Context context, Intent intent) {\r\n                    if (intent.getAction().equals(Config.STR_PUSH))\r\n                    {\r\n                        String message = intent.getStringExtra(Config.STR_PUSH);\r\n                        showNotification (&quot;Agra Leaks- Fastest News Channel in the City&quot;,message);\r\n                    }\r\n                }\r\n            };\r\n    \r\n            onNewIntent(getIntent());\r\n    \r\n        }\r\n        @Override\r\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n            // TODO Auto-generated method stub\r\n            super.onPageStarted(view, url, favicon);\r\n        }\r\n    \r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n            // TODO Auto-generated method stub\r\n    \r\n    \r\n    \r\n            if(url != null &amp;&amp; url.startsWith(&quot;whatsapp://&quot;))\r\n            {\r\n                 Intent sendIntent = new Intent();\r\n            sendIntent.setAction(Intent.ACTION_SEND);\r\n            sendIntent.putExtra(Intent.EXTRA_TEXT, &quot;Agra Leaks - Digital Newspaper.&quot;);\r\n            sendIntent.setType(&quot;text/plain&quot;);\r\n            sendIntent.setPackage(&quot;com.whatsapp&quot;);\r\n            startActivity(sendIntent);\r\n                return true;\r\n    \r\n            }else\r\n            {\r\n                return false;\r\n            }\r\n    \r\n    \r\n    \r\n        }\r\n        private void showNotification(String title, String message) {\r\n    \r\n            Intent intent = new Intent(getBaseContext(),MainActivity.class);\r\n            intent.putExtra(Config.STR_KEY,message);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n            PendingIntent contentIntent = PendingIntent.getActivity(getBaseContext(),0,intent,PendingIntent.FLAG_UPDATE_CURRENT);\r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(getBaseContext());\r\n            builder.setAutoCancel(true)\r\n                    .setWhen(System.currentTimeMillis())\r\n                    .setDefaults(Notification.DEFAULT_ALL)\r\n                    .setSmallIcon(R.mipmap.ic_launcher_round)\r\n                    .setContentTitle(title)\r\n                    .setContentText(message)\r\n                    .setContentIntent(contentIntent);\r\n            NotificationManager notificationManager = (NotificationManager)getBaseContext().getSystemService(Context.NOTIFICATION_SERVICE);\r\n            notificationManager.notify(1,builder.build());\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n            if (event.getAction()== KeyEvent.ACTION_DOWN){\r\n    \r\n                switch (keyCode){\r\n    \r\n                    case KeyEvent.KEYCODE_BACK:\r\n                        if (webView.canGoBack()){\r\n    \r\n                            webView.goBack();\r\n                        }\r\n                        else {\r\n    \r\n                            finish();\r\n                        }\r\n                        return true;\r\n                }\r\n            }\r\n            return super.onKeyDown(keyCode, event);\r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            LocalBroadcastManager.getInstance(this).unregisterReceiver(mRegistrationBroadcastReceiver);\r\n            super.onPause();\r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            LocalBroadcastManager.getInstance(this).registerReceiver(mRegistrationBroadcastReceiver,new IntentFilter(&quot;registrationComplete&quot;));\r\n            LocalBroadcastManager.getInstance(this).registerReceiver(mRegistrationBroadcastReceiver,new IntentFilter(Config.STR_PUSH));\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onRefresh() {\r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override public void run() {\r\n                   // webView.reload();\r\n                   swipeLayout.setRefreshing(false);\r\n                    webView.loadUrl( &quot;javascript:window.location.reload( true )&quot; );\r\n    \r\n                }\r\n            }, 5000);\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    }**\r\nThese are my code \r\nUnable to share on Whatsapp from my WebView. Getting Error - The webpage at whatsapp://send?text= could not be load because net::ERR_UNKNOWN_URL_SCHEME.\r\n\r\nhere is my activity_main\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    \r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;com.agraleaks.imgauravanimator.MainActivity&quot;&gt;\r\n    \r\n        &lt;android.support.v4.widget.SwipeRefreshLayout\r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:id=&quot;@+id/swipe_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;WebView\r\n                android:id=&quot;@+id/webView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;  /&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        &lt;/android.support.v4.widget.SwipeRefreshLayout&gt;\r\n    \r\n     &lt;ImageView\r\n            android:id=&quot;@+id/imageView1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/splash&quot; /&gt;\r\n    \r\n    \r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progressBar1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/imageView1&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot; /&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n","title":"Unable to share on Whatsapp from my WebView . Getting The webpage at whatsapp://send?text= could not be load because net::ERR_UNKNOWN_URL_SCHEME","body":"<p>Getting Error while sharing a news on whatsapp using my Webview App</p>\n\n<p>**package com.agraleaks.imgauravanimator;</p>\n\n<pre><code>import android.app.Notification;\nimport android.app.NotificationManager;\nimport android.app.PendingIntent;\nimport android.app.ProgressDialog;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.net.Uri;\nimport android.support.v4.app.NotificationCompat;\nimport android.support.v4.content.LocalBroadcastManager;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.KeyEvent;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.view.View;\nimport android.graphics.Bitmap;\nimport android.os.Handler;\nimport android.support.v4.widget.SwipeRefreshLayout;\nimport android.support.v4.widget.SwipeRefreshLayout.OnRefreshListener;\n\n\n\nimport com.agraleaks.imgauravanimator.Common.Config;\n\n\npublic class MainActivity extends AppCompatActivity implements OnRefreshListener {\n\n    private WebView webView;\n    private ProgressDialog dialog;\n    private BroadcastReceiver mRegistrationBroadcastReceiver;\n    private SwipeRefreshLayout swipeLayout;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        swipeLayout = (SwipeRefreshLayout) findViewById(R.id.swipe_container);\n        swipeLayout.setOnRefreshListener(this);\n        swipeLayout.setColorScheme(android.R.color.holo_blue_bright,\n                android.R.color.holo_green_light,\n                android.R.color.holo_orange_light,\n                android.R.color.holo_red_light);\n\n\n\n\n\n        //WebView\n        webView = (WebView)findViewById(R.id.webView);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.setWebChromeClient(new WebChromeClient());\n        webView.setWebViewClient(new WebViewClient() {\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                //hide loading image\n                findViewById(R.id.imageView1).setVisibility(View.GONE);\n                findViewById(R.id.progressBar1).setVisibility(View.GONE);\n                //show webview\n                findViewById(R.id.webView).setVisibility(View.VISIBLE);\n            }\n\n\n        });\n\n        webView.loadUrl(\"http://www.agraleaks.com/\");\n        webView.setHorizontalScrollBarEnabled(false);\n        webView.setScrollBarStyle(View.SCROLLBARS_OUTSIDE_OVERLAY);\n        webView.setBackgroundColor(128);\n\n\n\n\n\n\n        mRegistrationBroadcastReceiver = new BroadcastReceiver() {\n            @Override\n            public void onReceive(Context context, Intent intent) {\n                if (intent.getAction().equals(Config.STR_PUSH))\n                {\n                    String message = intent.getStringExtra(Config.STR_PUSH);\n                    showNotification (\"Agra Leaks- Fastest News Channel in the City\",message);\n                }\n            }\n        };\n\n        onNewIntent(getIntent());\n\n    }\n    @Override\n    public void onPageStarted(WebView view, String url, Bitmap favicon) {\n        // TODO Auto-generated method stub\n        super.onPageStarted(view, url, favicon);\n    }\n\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\n        // TODO Auto-generated method stub\n\n\n\n        if(url != null &amp;&amp; url.startsWith(\"whatsapp://\"))\n        {\n             Intent sendIntent = new Intent();\n        sendIntent.setAction(Intent.ACTION_SEND);\n        sendIntent.putExtra(Intent.EXTRA_TEXT, \"Agra Leaks - Digital Newspaper.\");\n        sendIntent.setType(\"text/plain\");\n        sendIntent.setPackage(\"com.whatsapp\");\n        startActivity(sendIntent);\n            return true;\n\n        }else\n        {\n            return false;\n        }\n\n\n\n    }\n    private void showNotification(String title, String message) {\n\n        Intent intent = new Intent(getBaseContext(),MainActivity.class);\n        intent.putExtra(Config.STR_KEY,message);\n        intent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\n        PendingIntent contentIntent = PendingIntent.getActivity(getBaseContext(),0,intent,PendingIntent.FLAG_UPDATE_CURRENT);\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(getBaseContext());\n        builder.setAutoCancel(true)\n                .setWhen(System.currentTimeMillis())\n                .setDefaults(Notification.DEFAULT_ALL)\n                .setSmallIcon(R.mipmap.ic_launcher_round)\n                .setContentTitle(title)\n                .setContentText(message)\n                .setContentIntent(contentIntent);\n        NotificationManager notificationManager = (NotificationManager)getBaseContext().getSystemService(Context.NOTIFICATION_SERVICE);\n        notificationManager.notify(1,builder.build());\n    }\n\n\n\n\n    @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\n        if (event.getAction()== KeyEvent.ACTION_DOWN){\n\n            switch (keyCode){\n\n                case KeyEvent.KEYCODE_BACK:\n                    if (webView.canGoBack()){\n\n                        webView.goBack();\n                    }\n                    else {\n\n                        finish();\n                    }\n                    return true;\n            }\n        }\n        return super.onKeyDown(keyCode, event);\n    }\n\n    @Override\n    protected void onPause() {\n        LocalBroadcastManager.getInstance(this).unregisterReceiver(mRegistrationBroadcastReceiver);\n        super.onPause();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        LocalBroadcastManager.getInstance(this).registerReceiver(mRegistrationBroadcastReceiver,new IntentFilter(\"registrationComplete\"));\n        LocalBroadcastManager.getInstance(this).registerReceiver(mRegistrationBroadcastReceiver,new IntentFilter(Config.STR_PUSH));\n    }\n\n\n    @Override\n    public void onRefresh() {\n        new Handler().postDelayed(new Runnable() {\n            @Override public void run() {\n               // webView.reload();\n               swipeLayout.setRefreshing(false);\n                webView.loadUrl( \"javascript:window.location.reload( true )\" );\n\n            }\n        }, 5000);\n    }\n\n\n\n\n\n\n}**\n</code></pre>\n\n<p>These are my code \nUnable to share on Whatsapp from my WebView. Getting Error - The webpage at whatsapp://send?text= could not be load because net::ERR_UNKNOWN_URL_SCHEME.</p>\n\n<p>here is my activity_main</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.agraleaks.imgauravanimator.MainActivity\"&gt;\n\n    &lt;android.support.v4.widget.SwipeRefreshLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:id=\"@+id/swipe_container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;WebView\n            android:id=\"@+id/webView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"  /&gt;\n\n\n\n\n\n    &lt;/android.support.v4.widget.SwipeRefreshLayout&gt;\n\n &lt;ImageView\n        android:id=\"@+id/imageView1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:src=\"@drawable/splash\" /&gt;\n\n\n    &lt;ProgressBar\n        android:id=\"@+id/progressBar1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/imageView1\"\n        android:layout_centerHorizontal=\"true\" /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","postgresql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662542640,"creation_date":1662542640,"answer_id":73633015,"question_id":73617203,"body_markdown":"I think you can achieve what you want by using the `legacy-hilo` optimizer. See https://vladmihalcea.com/migrate-hilo-hibernate-pooled/ for details about optimizers.","title":"Batch save for Postgresql sequence does&#39;t work very well using hibernate","body":"<p>I think you can achieve what you want by using the <code>legacy-hilo</code> optimizer. See <a href=\"https://vladmihalcea.com/migrate-hilo-hibernate-pooled/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/migrate-hilo-hibernate-pooled/</a> for details about optimizers.</p>\n"}],"owner":{"account_id":11088741,"reputation":1,"user_id":8141458,"display_name":"Jinyao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662542640,"creation_date":1662443098,"question_id":73617203,"body_markdown":"I want to Batch save data to Postgresql\r\n\r\nsee demo in  github \r\nhttps://github.com/coding2world/sb-jpa-batch-insert-demo\r\n\r\nfirst, I write java code like this. below is pojos definition.\r\n\r\n```java\r\n@Data\r\n@Entity\r\n@Table(name = &quot;city&quot;)\r\n@AllArgsConstructor\r\npublic class City {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;city_id_gen&quot;)\r\n    @SequenceGenerator(name = &quot;city_id_gen&quot;, sequenceName = &quot;public.city_id_seq&quot;,\r\n            allocationSize = 5)\r\n    private Long id;\r\n    private String name;\r\n    private int population;\r\n\r\n    public City(String name, int population) {\r\n        this.name = name;\r\n        this.population = population; \r\n    }\r\n    public City() { }\r\n}\r\n```\r\n\r\n\r\nRepository class.\r\n```java\r\npublic interface CityRepo extends JpaRepository&lt;City, Long&gt; {}\r\n\r\ninvoke the Repository class.\r\n\r\ncityRepo.saveAll(range(1, 10)\r\n                .mapToObj(i -&gt; new City(&quot;beautiful&quot;, (int)System.currentTimeMillis()/1000))\r\n                .collect(toList()));\r\n```\r\nsecond is my sql.\r\n```sql\r\nCREATE TABLE\r\n    city(id serial PRIMARY KEY, name VARCHAR(255), population integer);\r\n```\r\nMy question below:\r\n\r\nWhen  I call SELECT nextval(&#39;city_id_seq&#39;) return 100. It means 99 and 98  have  been  used. \r\n\r\nSuppose  the value of the parameter  named  allocationSize of the annotation named SequenceGenerator  is 3 , So hibernate should generate 3 sequences once call SELECT nextval(&#39;city_id_seq&#39;). According to the below code \r\n\r\norg.hibernate.id.enhanced.PooledOptimizer#generate\r\n\r\nSELECT nextval(&#39;city_id_seq&#39;) return 100 , the 3 sequences are 98, 99, 100. But  99 and 98  have  been  used.  \r\n\r\nI think Hibernate should call \r\n\r\nSELECT setval (&#39;city_id_seq&#39;, nextval (&#39;city_id_seq&#39;)+3)\r\n\r\nis returns 102. the 3 sequence is 100, 101, 102.\r\n\r\n Im not sure if Hibernate has some function to satisfy my demand.","title":"Batch save for Postgresql sequence does&#39;t work very well using hibernate","body":"<p>I want to Batch save data to Postgresql</p>\n<p>see demo in  github\n<a href=\"https://github.com/coding2world/sb-jpa-batch-insert-demo\" rel=\"nofollow noreferrer\">https://github.com/coding2world/sb-jpa-batch-insert-demo</a></p>\n<p>first, I write java code like this. below is pojos definition.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@Table(name = &quot;city&quot;)\n@AllArgsConstructor\npublic class City {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;city_id_gen&quot;)\n    @SequenceGenerator(name = &quot;city_id_gen&quot;, sequenceName = &quot;public.city_id_seq&quot;,\n            allocationSize = 5)\n    private Long id;\n    private String name;\n    private int population;\n\n    public City(String name, int population) {\n        this.name = name;\n        this.population = population; \n    }\n    public City() { }\n}\n</code></pre>\n<p>Repository class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CityRepo extends JpaRepository&lt;City, Long&gt; {}\n\ninvoke the Repository class.\n\ncityRepo.saveAll(range(1, 10)\n                .mapToObj(i -&gt; new City(&quot;beautiful&quot;, (int)System.currentTimeMillis()/1000))\n                .collect(toList()));\n</code></pre>\n<p>second is my sql.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE\n    city(id serial PRIMARY KEY, name VARCHAR(255), population integer);\n</code></pre>\n<p>My question below:</p>\n<p>When  I call SELECT nextval('city_id_seq') return 100. It means 99 and 98  have  been  used.</p>\n<p>Suppose  the value of the parameter  named  allocationSize of the annotation named SequenceGenerator  is 3 , So hibernate should generate 3 sequences once call SELECT nextval('city_id_seq'). According to the below code</p>\n<p>org.hibernate.id.enhanced.PooledOptimizer#generate</p>\n<p>SELECT nextval('city_id_seq') return 100 , the 3 sequences are 98, 99, 100. But  99 and 98  have  been  used.</p>\n<p>I think Hibernate should call</p>\n<p>SELECT setval ('city_id_seq', nextval ('city_id_seq')+3)</p>\n<p>is returns 102. the 3 sequence is 100, 101, 102.</p>\n<p>Im not sure if Hibernate has some function to satisfy my demand.</p>\n"},{"tags":["java","android","android-intent","android-recyclerview"],"comments":[{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1662524466,"post_id":73630045,"comment_id":130022298,"body_markdown":"You should use interface to get the callback in your activity and then you can do whatever you want in that callback instead of adapter and then send here the error if you get any.","body":"You should use interface to get the callback in your activity and then you can do whatever you want in that callback instead of adapter and then send here the error if you get any."},{"owner":{"account_id":11347613,"reputation":679,"user_id":8319640,"display_name":"Kishan Mevada"},"score":2,"creation_date":1662526912,"post_id":73630045,"comment_id":130022692,"body_markdown":"Please add your logcat showing error, so users can view what is wrong with your code ? also share your code which shows &quot; What is DetailsView.class&quot; , is it activity, dialog, fragment , also share this code also.","body":"Please add your logcat showing error, so users can view what is wrong with your code ? also share your code which shows &quot; What is DetailsView.class&quot; , is it activity, dialog, fragment , also share this code also."}],"answers":[{"tags":[],"owner":{"account_id":17427597,"reputation":21,"user_id":12632206,"display_name":"GOPINATH VAIYAPURI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662526848,"creation_date":1662526848,"answer_id":73630335,"question_id":73630045,"body_markdown":"Recycler view doesnt have current activity context, so while recycler adapter initial time you need to pass current activity of context. \r\ncheck context is null or not \r\ncheck DetailedView activity registered manifest or not\r\n\r\nanother war to achieve intent interface concept is there\r\nrefer this tutorial better https://www.geeksforgeeks.org/android-recyclerview/","title":"Crashing when an Intent is called inside a Recycler View Adapter","body":"<p>Recycler view doesnt have current activity context, so while recycler adapter initial time you need to pass current activity of context.\ncheck context is null or not\ncheck DetailedView activity registered manifest or not</p>\n<p>another war to achieve intent interface concept is there\nrefer this tutorial better <a href=\"https://www.geeksforgeeks.org/android-recyclerview/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/android-recyclerview/</a></p>\n"},{"tags":[],"owner":{"account_id":26140207,"reputation":19,"user_id":19829699,"display_name":"Mahabub Alam Shawon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662527599,"creation_date":1662527599,"answer_id":73630409,"question_id":73630045,"body_markdown":"**This is not the right way.**\r\n\r\n 1. First of all crate interface callback\r\n\r\n \r\n\r\n    public interface ItemClick {\r\n         void onItemClick(int position);\r\n                     }\r\n\r\n2. Then calling this interface method inside adapter class and passing through the constructor and finally \r\n\r\n   \r\n\r\n    itemView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        if (settingsItemClick!=null)\r\n                        {\r\n                            int pos=getAdapterPosition();\r\n                            if(pos!=RecyclerView.NO_POSITION)\r\n                            {\r\n                                settingsItemClick.onItemClick(pos);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n3.Then inside activity implements interface method.\r\n\r\n","title":"Crashing when an Intent is called inside a Recycler View Adapter","body":"<p><strong>This is not the right way.</strong></p>\n<ol>\n<li><p>First of all crate interface callback</p>\n<p>public interface ItemClick {\nvoid onItemClick(int position);\n}</p>\n</li>\n<li><p>Then calling this interface method inside adapter class and passing through the constructor and finally</p>\n<p>itemView.setOnClickListener(new View.OnClickListener() {\n@Override\npublic void onClick(View v) {\nif (settingsItemClick!=null)\n{\nint pos=getAdapterPosition();\nif(pos!=RecyclerView.NO_POSITION)\n{\nsettingsItemClick.onItemClick(pos);\n}\n}\n}\n});</p>\n</li>\n</ol>\n<p>3.Then inside activity implements interface method.</p>\n"},{"tags":[],"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662542617,"creation_date":1662542617,"answer_id":73633010,"question_id":73630045,"body_markdown":"There are multiple reasons to this crash since you have not provided the Crash logs/stacktrace.\r\n\r\n1. The `context` provided is not an `Activity` context in which case you need to add the `Intent.FLAG_ACTIVITY_NEW_TASK` or `Intent.FLAG_ACTIVITY_CLEAR_TASK` to your Intent&#39;s flags.\r\n\r\n2. It is possible the crash is in the `DetailedView` Activity due to probably a `NullPointerException` or it is not added to `AndroidManifest.xml`","title":"Crashing when an Intent is called inside a Recycler View Adapter","body":"<p>There are multiple reasons to this crash since you have not provided the Crash logs/stacktrace.</p>\n<ol>\n<li><p>The <code>context</code> provided is not an <code>Activity</code> context in which case you need to add the <code>Intent.FLAG_ACTIVITY_NEW_TASK</code> or <code>Intent.FLAG_ACTIVITY_CLEAR_TASK</code> to your Intent's flags.</p>\n</li>\n<li><p>It is possible the crash is in the <code>DetailedView</code> Activity due to probably a <code>NullPointerException</code> or it is not added to <code>AndroidManifest.xml</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":23503042,"reputation":1,"user_id":17552677,"display_name":"ALFAS B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1662542617,"creation_date":1662523617,"question_id":73630045,"body_markdown":"\r\n\r\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n\r\n    holder.parentCard.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            Intent intent=new Intent(context,DetailedView.class);\r\n            context.startActivity(intent);\r\n        }\r\n    });\r\n\r\nThe Intent is not passing to the other activity when the cardView is clicked.\r\n","title":"Crashing when an Intent is called inside a Recycler View Adapter","body":"<p>public void onBindViewHolder(@NonNull ViewHolder holder, int position) {</p>\n<pre><code>holder.parentCard.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        Intent intent=new Intent(context,DetailedView.class);\n        context.startActivity(intent);\n    }\n});\n</code></pre>\n<p>The Intent is not passing to the other activity when the cardView is clicked.</p>\n"},{"tags":["java","android","azure","jackson"],"comments":[{"owner":{"account_id":4312091,"reputation":991,"user_id":3522901,"accept_rate":50,"display_name":"Akash kumar"},"score":0,"creation_date":1662199297,"post_id":73578723,"comment_id":129954244,"body_markdown":"Please help if any one have any idea","body":"Please help if any one have any idea"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1662292672,"post_id":73578723,"comment_id":129968156,"body_markdown":"Could you check if you are using the latest version of azure sdk? It looks like the com.azure.core.implementation.jackson.ObjectMapperFactory class that you have on your classpath was built with an older version of jackson-dataformat-xml","body":"Could you check if you are using the latest version of azure sdk? It looks like the com.azure.core.implementation.jackson.ObjectMapperFactory class that you have on your classpath was built with an older version of jackson-dataformat-xml"},{"owner":{"account_id":4312091,"reputation":991,"user_id":3522901,"accept_rate":50,"display_name":"Akash kumar"},"score":0,"creation_date":1662360627,"post_id":73578723,"comment_id":129979374,"body_markdown":"have used latest one , you can check have updated gradle dependencies above. @PJFanning","body":"have used latest one , you can check have updated gradle dependencies above. @PJFanning"}],"answers":[{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662455387,"creation_date":1662455387,"answer_id":73619460,"question_id":73578723,"body_markdown":"The error occurs if there are multiple versions of Jackson on the dependency list. \r\n\r\nAzure SDK libraries aggressively update Jackson version across releases. If one has different versions of the libraries, it is bound to introduce conflicts. (though azure SDK is made to be [compatible][1] across Jackson 2.10+)\r\n\r\nThis is why Azure-SDK releases the [bom][2]. The artifacts are rigorously tested for compatibility across different azure libraries.\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-sdk-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.5&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-security-keyvault-secrets&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;com.azure:azure-security-keyvault-keys&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-communication-chat&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    &lt;/dependencies&gt;\r\n\r\n\r\n  [1]: https://docs.microsoft.com/en-us/azure/developer/java/sdk/troubleshooting-dependency-version-conflict#understand-compatible-dependency-versions\r\n  [2]: https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/azure-sdk-bom/README.md","title":"java.lang.LinkageError: Package versions: jackson-core=2.13.3, jackson-databind=2.13.3,jackson-dataformat-xml=2.13.3, jackson-datatype-jsr310=2.13.3","body":"<p>The error occurs if there are multiple versions of Jackson on the dependency list.</p>\n<p>Azure SDK libraries aggressively update Jackson version across releases. If one has different versions of the libraries, it is bound to introduce conflicts. (though azure SDK is made to be <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/sdk/troubleshooting-dependency-version-conflict#understand-compatible-dependency-versions\" rel=\"nofollow noreferrer\">compatible</a> across Jackson 2.10+)</p>\n<p>This is why Azure-SDK releases the <a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/azure-sdk-bom/README.md\" rel=\"nofollow noreferrer\">bom</a>. The artifacts are rigorously tested for compatibility across different azure libraries.</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-sdk-bom&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-security-keyvault-secrets&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;com.azure:azure-security-keyvault-keys&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-communication-chat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":4312091,"reputation":991,"user_id":3522901,"accept_rate":50,"display_name":"Akash kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1087,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662542499,"creation_date":1662101023,"question_id":73578723,"body_markdown":"I was trying to implement keyvault from azure in my app and after implementing azure-identity:1.5.4 lib for DefaultAzureCredentialBuilder() it throws Linkage Error which is given below, I have also forced the perticular version and excluded some of them, but still same issue continues, any please suggest me how to detect previous version or clashing version so that to remove.Also my compile sdk version is 32. Updated Gradle dependencies below.\r\nI have used \r\n\r\n    resolutlionStrategy { failOnVersionConflict()}\r\n\r\n but it shows no conflict now.\r\n\r\n\r\n\r\n    java.lang.LinkageError: Package versions: jackson-core=2.13.3, jackson-databind=2.13.3, jackson-dataformat-xml=2.13.3, jackson-datatype-jsr310=2.13.3, azure-core=1.31.0, Troubleshooting version conflicts: \r\n        at com.azure.core.implementation.jackson.ObjectMapperShim.createXmlMapper(ObjectMapperShim.java:82)\r\n        at com.azure.core.util.serializer.JacksonAdapter.&lt;init&gt;(JacksonAdapter.java:82)\r\n        at com.azure.core.util.serializer.JacksonAdapter.&lt;init&gt;(JacksonAdapter.java:59)\r\n        at com.azure.core.util.serializer.JacksonAdapter$SerializerAdapterHolder.&lt;clinit&gt;(JacksonAdapter.java:114)\r\n        at com.azure.core.util.serializer.JacksonAdapter$SerializerAdapterHolder.access$000(JacksonAdapter.java:110)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n     Caused by: java.lang.NoSuchMethodError: No static method newFactory(Ljava/lang/String;Ljava/lang/ClassLoader;)Ljavax/xml/stream/XMLInputFactory; in class Ljavax/xml/stream/XMLInputFactory; or its super classes (declaration of &#39;javax.xml.stream.XMLInputFactory&#39; appears in /data/app/~~sFZqRHFT2xtp6Ogx--\r\n        at com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(XmlFactory.java:115)\r\n        at com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(XmlFactory.java:101)\r\n        at com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(XmlFactory.java:85)\r\n        at com.fasterxml.jackson.dataformat.xml.XmlMapper.&lt;init&gt;(XmlMapper.java:127)\r\n        at com.fasterxml.jackson.dataformat.xml.XmlMapper.builder(XmlMapper.java:218)\r\n        at com.azure.core.implementation.jackson.ObjectMapperFactory.createXmlMapper(ObjectMapperFactory.java:90)\r\n      \r\nGradle Dependencies\r\n\r\n  \r\n\r\n         implementation(&quot;com.azure:azure-sdk-bom:1.2.5&quot;){\r\n        force(true)\r\n    }\r\n    implementation (&#39;com.fasterxml.jackson.core:jackson-core&#39;){\r\n        version{\r\n            strictly(&quot;2.13.4&quot;)\r\n        }\r\n        force(true)\r\n    }\r\n    implementation (&#39;com.fasterxml.jackson.core:jackson-databind:2.13.4&#39;){\r\n        force(true)\r\n        version{\r\n            strictly(&quot;2.13.4&quot;)\r\n        }\r\n    }\r\n    implementation (&#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml&#39;){\r\n        version{\r\n            strictly(&quot;2.13.4&quot;)\r\n        }\r\n        force(true)\r\n    }\r\n    \r\n    implementation (&#39;com.fasterxml.jackson.core:jackson-annotations:2.13.4&#39;){\r\n        version{\r\n            strictly(&quot;2.13.4&quot;)\r\n        }\r\n        force(true)\r\n    }\r\n    \r\n    implementation (&#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&#39;){\r\n        version{\r\n            strictly(&quot;2.13.4&quot;)\r\n        }\r\n        force(true)\r\n    }\r\n    //azure keyvault lib\r\n    implementation (&#39;com.azure:azure-core&#39;){\r\n        version{\r\n            strictly(&quot;1.32.0&quot;)\r\n        }\r\n        force(true)\r\n    }\r\n    implementation (&#39;com.azure:azure-security-keyvault-keys:4.4.6&#39;)\r\n    implementation &#39;com.azure:azure-security-keyvault-secrets:4.4.6&#39;\r\n    implementation (group: &#39;com.microsoft.azure&#39;, name: &#39;azure-storage&#39;, version: &#39;8.6.6&#39;)\r\n    implementation (group: &#39;com.azure&#39;, name: &#39;azure-storage-blob&#39;, version: &#39;12.19.0&#39;)\r\n    \r\n    implementation(&quot;com.azure:azure-core-http-netty:1.12.5&quot;){\r\n        force(true)\r\n        force = true\r\n    }\r\n    implementation(&quot;com.microsoft.azure:msal4j:1.13.0&quot;){\r\n        force(true)\r\n    }\r\n    implementation(&quot;com.microsoft.azure:msal4j-persistence-extension:1.1.0&quot;){\r\n        force(true)\r\n    }\r\n    implementation group: &#39;javax.xml.stream&#39;, name: &#39;stax-api&#39;, version: &#39;1.0-2&#39;\r\n    \r\n    implementation (&#39;com.google.guava:guava:27.0.1-android&#39;){\r\n        force(true)\r\n        force = true\r\n    }\r\n    \r\n    implementation (&#39;com.azure:azure-identity&#39;){\r\n       version{\r\n           strictly(&quot;1.5.5&quot;)\r\n       }\r\n        exclude group: &#39;com.azure&#39;, module: &#39;azure-core&#39;\r\n        exclude group: &#39;com.fasterxml.jackson.core&#39;, module: &#39;jackson-core&#39;\r\n        exclude group: &#39;com.fasterxml.jackson.core&#39;, module: &#39;jackson-databind&#39;\r\n        exclude group: &#39;com.fasterxml.jackson.dataformat&#39;, module: &#39;jackson-dataformat-xml&#39;\r\n        exclude group: &#39;com.fasterxml.jackson.datatype&#39;, module: &#39;jackson-datatype-jsr353&#39;\r\n    }","title":"java.lang.LinkageError: Package versions: jackson-core=2.13.3, jackson-databind=2.13.3,jackson-dataformat-xml=2.13.3, jackson-datatype-jsr310=2.13.3","body":"<p>I was trying to implement keyvault from azure in my app and after implementing azure-identity:1.5.4 lib for DefaultAzureCredentialBuilder() it throws Linkage Error which is given below, I have also forced the perticular version and excluded some of them, but still same issue continues, any please suggest me how to detect previous version or clashing version so that to remove.Also my compile sdk version is 32. Updated Gradle dependencies below.\nI have used</p>\n<pre><code>resolutlionStrategy { failOnVersionConflict()}\n</code></pre>\n<p>but it shows no conflict now.</p>\n<pre><code>java.lang.LinkageError: Package versions: jackson-core=2.13.3, jackson-databind=2.13.3, jackson-dataformat-xml=2.13.3, jackson-datatype-jsr310=2.13.3, azure-core=1.31.0, Troubleshooting version conflicts: \n    at com.azure.core.implementation.jackson.ObjectMapperShim.createXmlMapper(ObjectMapperShim.java:82)\n    at com.azure.core.util.serializer.JacksonAdapter.&lt;init&gt;(JacksonAdapter.java:82)\n    at com.azure.core.util.serializer.JacksonAdapter.&lt;init&gt;(JacksonAdapter.java:59)\n    at com.azure.core.util.serializer.JacksonAdapter$SerializerAdapterHolder.&lt;clinit&gt;(JacksonAdapter.java:114)\n    at com.azure.core.util.serializer.JacksonAdapter$SerializerAdapterHolder.access$000(JacksonAdapter.java:110)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n Caused by: java.lang.NoSuchMethodError: No static method newFactory(Ljava/lang/String;Ljava/lang/ClassLoader;)Ljavax/xml/stream/XMLInputFactory; in class Ljavax/xml/stream/XMLInputFactory; or its super classes (declaration of 'javax.xml.stream.XMLInputFactory' appears in /data/app/~~sFZqRHFT2xtp6Ogx--\n    at com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(XmlFactory.java:115)\n    at com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(XmlFactory.java:101)\n    at com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(XmlFactory.java:85)\n    at com.fasterxml.jackson.dataformat.xml.XmlMapper.&lt;init&gt;(XmlMapper.java:127)\n    at com.fasterxml.jackson.dataformat.xml.XmlMapper.builder(XmlMapper.java:218)\n    at com.azure.core.implementation.jackson.ObjectMapperFactory.createXmlMapper(ObjectMapperFactory.java:90)\n  \n</code></pre>\n<p>Gradle Dependencies</p>\n<pre><code>     implementation(&quot;com.azure:azure-sdk-bom:1.2.5&quot;){\n    force(true)\n}\nimplementation ('com.fasterxml.jackson.core:jackson-core'){\n    version{\n        strictly(&quot;2.13.4&quot;)\n    }\n    force(true)\n}\nimplementation ('com.fasterxml.jackson.core:jackson-databind:2.13.4'){\n    force(true)\n    version{\n        strictly(&quot;2.13.4&quot;)\n    }\n}\nimplementation ('com.fasterxml.jackson.dataformat:jackson-dataformat-xml'){\n    version{\n        strictly(&quot;2.13.4&quot;)\n    }\n    force(true)\n}\n\nimplementation ('com.fasterxml.jackson.core:jackson-annotations:2.13.4'){\n    version{\n        strictly(&quot;2.13.4&quot;)\n    }\n    force(true)\n}\n\nimplementation ('com.fasterxml.jackson.datatype:jackson-datatype-jsr310'){\n    version{\n        strictly(&quot;2.13.4&quot;)\n    }\n    force(true)\n}\n//azure keyvault lib\nimplementation ('com.azure:azure-core'){\n    version{\n        strictly(&quot;1.32.0&quot;)\n    }\n    force(true)\n}\nimplementation ('com.azure:azure-security-keyvault-keys:4.4.6')\nimplementation 'com.azure:azure-security-keyvault-secrets:4.4.6'\nimplementation (group: 'com.microsoft.azure', name: 'azure-storage', version: '8.6.6')\nimplementation (group: 'com.azure', name: 'azure-storage-blob', version: '12.19.0')\n\nimplementation(&quot;com.azure:azure-core-http-netty:1.12.5&quot;){\n    force(true)\n    force = true\n}\nimplementation(&quot;com.microsoft.azure:msal4j:1.13.0&quot;){\n    force(true)\n}\nimplementation(&quot;com.microsoft.azure:msal4j-persistence-extension:1.1.0&quot;){\n    force(true)\n}\nimplementation group: 'javax.xml.stream', name: 'stax-api', version: '1.0-2'\n\nimplementation ('com.google.guava:guava:27.0.1-android'){\n    force(true)\n    force = true\n}\n\nimplementation ('com.azure:azure-identity'){\n   version{\n       strictly(&quot;1.5.5&quot;)\n   }\n    exclude group: 'com.azure', module: 'azure-core'\n    exclude group: 'com.fasterxml.jackson.core', module: 'jackson-core'\n    exclude group: 'com.fasterxml.jackson.core', module: 'jackson-databind'\n    exclude group: 'com.fasterxml.jackson.dataformat', module: 'jackson-dataformat-xml'\n    exclude group: 'com.fasterxml.jackson.datatype', module: 'jackson-datatype-jsr353'\n}\n</code></pre>\n"},{"tags":["java","maven","cucumber","cucumber-serenity","parallel-execution"],"answers":[{"tags":[],"owner":{"account_id":15018128,"reputation":13,"user_id":10840478,"display_name":"Yuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645578075,"creation_date":1645578075,"answer_id":71230181,"question_id":71118505,"body_markdown":"Find the solution for parallel execution with cucumber 7 and serenity junit 4. Below pom.xml is tested and working to execute parallel. According to this pom.xml to execute two ways:\r\n\r\n1) locally -  add to your runner in tags tag you want to run and then execute this command mvn clean verify\r\n\r\n2) mvn clean verify -Dtags=&quot;@yourtagHere&quot;\r\n\r\nWorking pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.d&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Automation&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;serenity.version&gt;3.2.0&lt;/serenity.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n        &lt;tags&gt;&lt;/tags&gt;\r\n        &lt;parallel.tests&gt;5&lt;/parallel.tests&gt;\r\n        &lt;webdriver.base.url&gt;&lt;/webdriver.base.url&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.lambdaj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lambdaj&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jettison&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-dbutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-dbutils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;9.4.0.jre11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Runner.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;webdriver.base.url&gt;${webdriver.base.url}&lt;/webdriver.base.url&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                    &lt;parallel&gt;methods&lt;/parallel&gt;\r\n                    &lt;threadCount&gt;${parallel.tests}&lt;/threadCount&gt;\r\n                    &lt;!-- &lt;forkCount&gt;${parallel.tests}&lt;/forkCount&gt;--&gt;\r\n                    &lt;!--&lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;--&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;tags&gt;${tags}&lt;/tags&gt;\r\n                    &lt;reports&gt;single-page-html&lt;/reports&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\r\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;serenity-single-page-report&lt;/artifactId&gt;\r\n                        &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n","title":"Serenity Cucumber 7 parallel execution not working","body":"<p>Find the solution for parallel execution with cucumber 7 and serenity junit 4. Below pom.xml is tested and working to execute parallel. According to this pom.xml to execute two ways:</p>\n<ol>\n<li><p>locally -  add to your runner in tags tag you want to run and then execute this command mvn clean verify</p>\n</li>\n<li><p>mvn clean verify -Dtags=&quot;@yourtagHere&quot;</p>\n</li>\n</ol>\n<p>Working pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0</p>\n<pre><code>&lt;groupId&gt;com.d&lt;/groupId&gt;\n&lt;artifactId&gt;Automation&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;serenity.version&gt;3.2.0&lt;/serenity.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n    &lt;tags&gt;&lt;/tags&gt;\n    &lt;parallel.tests&gt;5&lt;/parallel.tests&gt;\n    &lt;webdriver.base.url&gt;&lt;/webdriver.base.url&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n        &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;${serenity.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n        &lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\n        &lt;version&gt;${serenity.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n        &lt;artifactId&gt;serenity-junit&lt;/artifactId&gt;\n        &lt;version&gt;${serenity.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.lambdaj&lt;/groupId&gt;\n        &lt;artifactId&gt;lambdaj&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.12.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\n        &lt;artifactId&gt;jettison&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbutils&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbutils&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;9.4.0.jre11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n        &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n        &lt;version&gt;1.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n        &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n        &lt;version&gt;4.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;true&lt;/skip&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Runner.java&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;webdriver.base.url&gt;${webdriver.base.url}&lt;/webdriver.base.url&gt;\n                &lt;/systemPropertyVariables&gt;\n                &lt;parallel&gt;methods&lt;/parallel&gt;\n                &lt;threadCount&gt;${parallel.tests}&lt;/threadCount&gt;\n                &lt;!-- &lt;forkCount&gt;${parallel.tests}&lt;/forkCount&gt;--&gt;\n                &lt;!--&lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;--&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;goal&gt;verify&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-parameters&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;tags&gt;${tags}&lt;/tags&gt;\n                &lt;reports&gt;single-page-html&lt;/reports&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;serenity-reports&lt;/id&gt;\n                    &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;aggregate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n                    &lt;artifactId&gt;serenity-single-page-report&lt;/artifactId&gt;\n                    &lt;version&gt;${serenity.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":5954804,"reputation":67,"user_id":4681813,"display_name":"Vayas Zsolt Marton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662196055,"creation_date":1662196055,"answer_id":73590978,"question_id":71118505,"body_markdown":"@Yuri I had similar issue and it required to use the 3.0.0-M3 failsafe plugin version. After that the tests started to run in parallel. \r\n\r\nDid you run the tests remotely in parallel? Eg. Jenkins? I had issue to run them in parallel on Jenkins. The tests are randomly failing... I use xvfb plugin...","title":"Serenity Cucumber 7 parallel execution not working","body":"<p>@Yuri I had similar issue and it required to use the 3.0.0-M3 failsafe plugin version. After that the tests started to run in parallel.</p>\n<p>Did you run the tests remotely in parallel? Eg. Jenkins? I had issue to run them in parallel on Jenkins. The tests are randomly failing... I use xvfb plugin...</p>\n"},{"tags":[],"owner":{"account_id":5954804,"reputation":67,"user_id":4681813,"display_name":"Vayas Zsolt Marton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662542433,"creation_date":1662542433,"answer_id":73632964,"question_id":71118505,"body_markdown":"The issue was focus related. The tests lose focus in the browser window in case multiple tests are running on the same machine. \r\n\r\nI moved the tests to run in headless mode and this it fixed the issue. I can now run 6 threads in parallel on the same machine without any random failure issue.","title":"Serenity Cucumber 7 parallel execution not working","body":"<p>The issue was focus related. The tests lose focus in the browser window in case multiple tests are running on the same machine.</p>\n<p>I moved the tests to run in headless mode and this it fixed the issue. I can now run 6 threads in parallel on the same machine without any random failure issue.</p>\n"}],"owner":{"account_id":15018128,"reputation":13,"user_id":10840478,"display_name":"Yuri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71230181,"answer_count":3,"score":0,"last_activity_date":1662542433,"creation_date":1644874161,"question_id":71118505,"body_markdown":"looking for help to execute cucumber 7 in parallel. My project is serenity with cucumber and java. In this link [https://johnfergusonsmart.com/parallel-test-execution-with-cucumber-and-serenity-bdd/][1] it is showing that it is possible to run but tried different combination and looks like I missed something.\r\n\r\nHere is my pom.xml file:\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.d&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Automation&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;serenity.version&gt;3.2.0&lt;/serenity.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n        &lt;tags&gt;&lt;/tags&gt;\r\n        &lt;parallel.tests&gt;4&lt;/parallel.tests&gt;\r\n        &lt;webdriver.base.url&gt;&lt;/webdriver.base.url&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.lambdaj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lambdaj&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jettison&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-dbutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-dbutils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;9.4.0.jre11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/Runner*.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;webdriver.base.url&gt;${webdriver.base.url}&lt;/webdriver.base.url&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                    &lt;parallel&gt;classes&lt;/parallel&gt;\r\n          &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;tags&gt;${tags}&lt;/tags&gt;\r\n                    &lt;reports&gt;single-page-html&lt;/reports&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\r\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;serenity-single-page-report&lt;/artifactId&gt;\r\n                        &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n**To execute**:\r\nI add same tag to multiple feature files and run through command line: mvn clean verify -Dtags=&quot;@regression&quot;\r\n\r\n**Expected**: Open multiple browsers at the same time to execute test faster \r\n\r\n\r\n  [1]: https://johnfergusonsmart.com/parallel-test-execution-with-cucumber-and-serenity-bdd/","title":"Serenity Cucumber 7 parallel execution not working","body":"<p>looking for help to execute cucumber 7 in parallel. My project is serenity with cucumber and java. In this link <a href=\"https://johnfergusonsmart.com/parallel-test-execution-with-cucumber-and-serenity-bdd/\" rel=\"nofollow noreferrer\">https://johnfergusonsmart.com/parallel-test-execution-with-cucumber-and-serenity-bdd/</a> it is showing that it is possible to run but tried different combination and looks like I missed something.</p>\n<p>Here is my pom.xml file:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0</p>\n<pre><code>&lt;groupId&gt;com.d&lt;/groupId&gt;\n&lt;artifactId&gt;Automation&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;serenity.version&gt;3.2.0&lt;/serenity.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n    &lt;tags&gt;&lt;/tags&gt;\n    &lt;parallel.tests&gt;4&lt;/parallel.tests&gt;\n    &lt;webdriver.base.url&gt;&lt;/webdriver.base.url&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n        &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;${serenity.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n        &lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\n        &lt;version&gt;${serenity.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n        &lt;version&gt;1.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.lambdaj&lt;/groupId&gt;\n        &lt;artifactId&gt;lambdaj&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.12.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\n        &lt;artifactId&gt;jettison&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbutils&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbutils&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;9.4.0.jre11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n        &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n        &lt;version&gt;1.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n        &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n        &lt;version&gt;4.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;true&lt;/skip&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/Runner*.java&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;webdriver.base.url&gt;${webdriver.base.url}&lt;/webdriver.base.url&gt;\n                &lt;/systemPropertyVariables&gt;\n                &lt;parallel&gt;classes&lt;/parallel&gt;\n      &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;goal&gt;verify&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.7.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-parameters&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;tags&gt;${tags}&lt;/tags&gt;\n                &lt;reports&gt;single-page-html&lt;/reports&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;serenity-reports&lt;/id&gt;\n                    &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;aggregate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n                    &lt;artifactId&gt;serenity-single-page-report&lt;/artifactId&gt;\n                    &lt;version&gt;${serenity.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><strong>To execute</strong>:\nI add same tag to multiple feature files and run through command line: mvn clean verify -Dtags=&quot;@regression&quot;</p>\n<p><strong>Expected</strong>: Open multiple browsers at the same time to execute test faster</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"score":0,"creation_date":1662463274,"post_id":73621049,"comment_id":130006137,"body_markdown":"Listagg is oracle specific query so you need to create native query","body":"Listagg is oracle specific query so you need to create native query"},{"owner":{"account_id":26259465,"reputation":1,"user_id":19931030,"display_name":"Arturillo Smeriglia"},"score":0,"creation_date":1662463453,"post_id":73621049,"comment_id":130006199,"body_markdown":"No I have already registered LISTAGG as a custom function and it&#39;s working just fine\n\nI just need to be able to sort by alias rathern than attribute, and then be able to have hibernate accept a string with an underscore in it","body":"No I have already registered LISTAGG as a custom function and it&#39;s working just fine  I just need to be able to sort by alias rathern than attribute, and then be able to have hibernate accept a string with an underscore in it"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1662463711,"post_id":73621049,"comment_id":130006298,"body_markdown":"Provide the code you have written. Like how you register LISTAGG and how you create the CriteriaBuilder etc","body":"Provide the code you have written. Like how you register LISTAGG and how you create the CriteriaBuilder etc"},{"owner":{"account_id":26259465,"reputation":1,"user_id":19931030,"display_name":"Arturillo Smeriglia"},"score":0,"creation_date":1662463975,"post_id":73621049,"comment_id":130006396,"body_markdown":"Unfortunately I cannot provide the code as per my NDA","body":"Unfortunately I cannot provide the code as per my NDA"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662542300,"creation_date":1662542300,"answer_id":73632937,"question_id":73621049,"body_markdown":"With Hibernate ORM&#39;s JPA Criteria implementation, this is only possible as of version 6. It should work with HQL also in Hibernate 5 though.\r\n\r\nIf you must use JPA Criteria, you will have to introduce another custom function, e.g. `pass_through` which accepts a string and renders the unquoted string to SQL. Then you can use that to render &quot;any&quot; SQL fragments you want.","title":"HIBERNATE - JPA how can I pass a String containing an underscore to a CriteriaBuilder query?","body":"<p>With Hibernate ORM's JPA Criteria implementation, this is only possible as of version 6. It should work with HQL also in Hibernate 5 though.</p>\n<p>If you must use JPA Criteria, you will have to introduce another custom function, e.g. <code>pass_through</code> which accepts a string and renders the unquoted string to SQL. Then you can use that to render &quot;any&quot; SQL fragments you want.</p>\n"}],"owner":{"account_id":26259465,"reputation":1,"user_id":19931030,"display_name":"Arturillo Smeriglia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662542300,"creation_date":1662462716,"question_id":73621049,"body_markdown":"Unfortunately I&#39;m not authorized to show any code. Also I&#39;m sorry if I&#39;m not giving enough info, this is my first time asking a question on this website. Please let me know if there&#39;s more you need to know.\r\n\r\nI have a CriteriaBuilder query that sorts via Pageable.\r\nThe sorting method as of right now sorts by entities&#39; properties, however I want to sort by a field generated by a LISTAGG but every time I try to pass &quot;col_12_0_&quot; hibernate sees the underscore and only takes &quot;col&quot; as a value... How can I solve this?\r\n\r\nI&#39;ve tried using the .alias() method to generate the alias I want in the query but it seems like it&#39;s not working as CB always generates aliases such as &quot;col_1_0_&quot;.\r\n\r\nI&#39;ve also tried setting the generation strategy as PhysicalNamingStrategyStandardImpl but nothing changes.","title":"HIBERNATE - JPA how can I pass a String containing an underscore to a CriteriaBuilder query?","body":"<p>Unfortunately I'm not authorized to show any code. Also I'm sorry if I'm not giving enough info, this is my first time asking a question on this website. Please let me know if there's more you need to know.</p>\n<p>I have a CriteriaBuilder query that sorts via Pageable.\nThe sorting method as of right now sorts by entities' properties, however I want to sort by a field generated by a LISTAGG but every time I try to pass &quot;col_12_0_&quot; hibernate sees the underscore and only takes &quot;col&quot; as a value... How can I solve this?</p>\n<p>I've tried using the .alias() method to generate the alias I want in the query but it seems like it's not working as CB always generates aliases such as &quot;col_1_0_&quot;.</p>\n<p>I've also tried setting the generation strategy as PhysicalNamingStrategyStandardImpl but nothing changes.</p>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"comments":[{"owner":{"account_id":8967184,"reputation":570,"user_id":9305266,"display_name":"Manish Ahire"},"score":1,"creation_date":1662550003,"post_id":73632706,"comment_id":130030410,"body_markdown":"you can check this library https://github.com/smartSenseSolutions/SegmentedVerticalSeekBarDemo","body":"you can check this library <a href=\"https://github.com/smartSenseSolutions/SegmentedVerticalSeekBarDemo\" rel=\"nofollow noreferrer\">github.com/smartSenseSolutions/SegmentedVerticalSeekBarDemo</a>"}],"owner":{"account_id":20366507,"reputation":93,"user_id":14939732,"display_name":"Rebel In The F.D.G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662542116,"creation_date":1662541211,"question_id":73632706,"body_markdown":"For example I want my seekbar to look like on a pic below[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c5vl2.jpg\r\n\r\nAnd I don&#39;t understand how to do it. \r\n\r\nShould I draw it by hand or to program its shape I don&#39;t know where to start. \r\n\r\nCan somebody explain how this works please.\r\n\r\nAlso maybe there are some type of data pack full of pre-made drawable files. \r\n\r\nIf you know something like that please let me know.","title":"How to create a custom drawable Seekbar?","body":"<p>For example I want my seekbar to look like on a pic below<a href=\"https://i.stack.imgur.com/c5vl2.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c5vl2.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And I don't understand how to do it.</p>\n<p>Should I draw it by hand or to program its shape I don't know where to start.</p>\n<p>Can somebody explain how this works please.</p>\n<p>Also maybe there are some type of data pack full of pre-made drawable files.</p>\n<p>If you know something like that please let me know.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662541968,"creation_date":1662541968,"answer_id":73632862,"question_id":73632727,"body_markdown":"looks like you are running any java based application on a web server(e.g. Tomcat) with **HTTPS** enabled.\r\n \r\nIf you donot have signed any self certificate, then following link can help:\r\n[How to configure Tomcat to support SSL or https][1]\r\n\r\nFurther this link has discussed the matter in detail:\r\n[Stackoverflow Link][2]\r\n\r\n\r\n  [1]: https://mkyong.com/tomcat/how-to-configure-tomcat-to-support-ssl-or-https/\r\n  [2]: https://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find?rq=1","title":"PKIX building failed:sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>looks like you are running any java based application on a web server(e.g. Tomcat) with <strong>HTTPS</strong> enabled.</p>\n<p>If you donot have signed any self certificate, then following link can help:\n<a href=\"https://mkyong.com/tomcat/how-to-configure-tomcat-to-support-ssl-or-https/\" rel=\"nofollow noreferrer\">How to configure Tomcat to support SSL or https</a></p>\n<p>Further this link has discussed the matter in detail:\n<a href=\"https://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find?rq=1\">Stackoverflow Link</a></p>\n"}],"owner":{"account_id":19345682,"reputation":71,"user_id":14144308,"display_name":"Redwood Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":628,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662541968,"creation_date":1662541320,"question_id":73632727,"body_markdown":"I am running an application in Eclipse locally. It tries to connect to an external URL to fetch some data. This application works fine from browser, but when I try the same from Eclipse as localhost, I get the below error:\r\n\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:456)\r\n    \tat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:323)\r\n    \tat sun.security.validator.Validator.validate(Validator.java:271)\r\n\r\nMany solutions, have mentioned to add the URL certificate from the browser using keytool. This application shows &quot;This site does not have a certificate.&quot;. The application URL does not have a certificate. \r\n\r\nIn this case, how can I fix this issue without a certificate to install?\r\n\r\nRegards,\r\nR ","title":"PKIX building failed:sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>I am running an application in Eclipse locally. It tries to connect to an external URL to fetch some data. This application works fine from browser, but when I try the same from Eclipse as localhost, I get the below error:</p>\n<pre><code>Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:456)\n    at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:323)\n    at sun.security.validator.Validator.validate(Validator.java:271)\n</code></pre>\n<p>Many solutions, have mentioned to add the URL certificate from the browser using keytool. This application shows &quot;This site does not have a certificate.&quot;. The application URL does not have a certificate.</p>\n<p>In this case, how can I fix this issue without a certificate to install?</p>\n<p>Regards,\nR</p>\n"},{"tags":["java","android","call","voip","whatsapp"],"comments":[{"owner":{"account_id":7830302,"reputation":504,"user_id":5920608,"display_name":"MESP"},"score":0,"creation_date":1662541962,"post_id":73632822,"comment_id":130027295,"body_markdown":"What did you tried already?","body":"What did you tried already?"},{"owner":{"account_id":3526396,"reputation":2154,"user_id":2947357,"accept_rate":65,"display_name":"maphongba008"},"score":0,"creation_date":1662542059,"post_id":73632822,"comment_id":130027335,"body_markdown":"I&#39;ve searched on the internet but can&#39;t find anything useful, just some people have same concern as me https://learn.microsoft.com/en-us/answers/questions/491633/detect-incoming-voip-calls-in-android.html","body":"I&#39;ve searched on the internet but can&#39;t find anything useful, just some people have same concern as me <a href=\"https://learn.microsoft.com/en-us/answers/questions/491633/detect-incoming-voip-calls-in-android.html\" rel=\"nofollow noreferrer\" title=\"detect incoming voip calls in android.html\">learn.microsoft.com/en-us/answers/questions/491633/&hellip;</a>"}],"owner":{"account_id":3526396,"reputation":2154,"user_id":2947357,"accept_rate":65,"display_name":"maphongba008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1662541831,"creation_date":1662541801,"question_id":73632822,"body_markdown":"I want to block outgoing VOIP call from WhatsApp. I can detect if there is a call using AudioManager, but don&#39;t know how to reject/stop it. I can&#39;t find something like `stop()` or `cancel()` in AudioManager instance.","title":"Block outgoing call from WhatsApp","body":"<p>I want to block outgoing VOIP call from WhatsApp. I can detect if there is a call using AudioManager, but don't know how to reject/stop it. I can't find something like <code>stop()</code> or <code>cancel()</code> in AudioManager instance.</p>\n"},{"tags":["java","kubernetes","ignite","blue-green-deployment"],"comments":[{"owner":{"account_id":15519994,"reputation":843,"user_id":11196452,"display_name":"Igor Belyakov"},"score":0,"creation_date":1662583434,"post_id":73632818,"comment_id":130042372,"body_markdown":"Do I understand correctly that before services were switched all nodes from blue and green deployments were in the same cluster since the blue service was used for all of them in the discovery configuration? What error do you get in the logs after the switching?","body":"Do I understand correctly that before services were switched all nodes from blue and green deployments were in the same cluster since the blue service was used for all of them in the discovery configuration? What error do you get in the logs after the switching?"},{"owner":{"account_id":14172586,"reputation":337,"user_id":10238776,"display_name":"Tejas Garde"},"score":0,"creation_date":1662612315,"post_id":73632818,"comment_id":130046986,"body_markdown":"Yes they are in same cluster. I tried using Green Service as well but same result. \nThere are no errors in the log just ignite data is not shared and Topology Snapshot in Logs shows server=1\nThe Blue deployment (V1) does not have Ignite . The Green Deployment (V2) we are introducing Ignite. \n\nIf the V2 deployment is rolling one , then one by one V2 Instances comes up and forms a cluster. However in Case of Blue Green deployment where all Instances of V2 PODs comes up almost at same time , they are not able to form cluster. Is Multicast is supported in Ignite Kubernetes Deployment ?","body":"Yes they are in same cluster. I tried using Green Service as well but same result.  There are no errors in the log just ignite data is not shared and Topology Snapshot in Logs shows server=1 The Blue deployment (V1) does not have Ignite . The Green Deployment (V2) we are introducing Ignite.   If the V2 deployment is rolling one , then one by one V2 Instances comes up and forms a cluster. However in Case of Blue Green deployment where all Instances of V2 PODs comes up almost at same time , they are not able to form cluster. Is Multicast is supported in Ignite Kubernetes Deployment ?"},{"owner":{"account_id":5190889,"reputation":2147,"user_id":4153863,"display_name":"Stanislav Lukyanov"},"score":0,"creation_date":1662666438,"post_id":73632818,"comment_id":130065153,"body_markdown":"Why do you need to create a new service during an update? Are you re-creating one of the deployments completely or what?","body":"Why do you need to create a new service during an update? Are you re-creating one of the deployments completely or what?"}],"owner":{"account_id":14172586,"reputation":337,"user_id":10238776,"display_name":"Tejas Garde"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662541780,"creation_date":1662541780,"question_id":73632818,"body_markdown":"I am deploying kubernetes pod through blue green deployment. The POD is a micro-service which uses Ignite in embedded mode and forms a cluster when deployed hence data is shared among the service instances. Things were working fine during rolling deployment. \r\n\r\nHowever during Blue Green Deployment using harness a new services is created for green deployment as well as the deployment Objects and Pods are created. During this time the configuration of Ignite Still points to the original service (blue service) this is done as later in blue green deployment services are switched. However once the services are switched Ignite fails to form a cluster and data is not shared among the instances.\r\n\r\nConfiguration used to form Cluster \r\n\r\nk8sConnectionConfiguration -&gt; object is crated by setting namespace and Service Name\r\nTcpDiscoverySpi is created using TcpDiscoveryKubernetesIpFinder\r\n\r\n    KubernetesConnectionConfiguration connConfig = new KubernetesConnectionConfiguration(); \r\n    connConfig.setNamespace(&quot;namespace&quot;);\r\n    connConfig.setServiceName(&quot;service-name&quot;);\r\n    TcpDiscoveryKubernetesIpFinder tcpDiscoveryKubernetesIpFinder = new TcpDiscoveryKubernetesIpFinder(connConfig);\r\n    TcpDiscoverySpi spi = new TcpDiscoverySpi();\r\n    spi.setIpFinder(tcpDiscoveryKubernetesIpFinder);\r\n    igniteConfig.setDiscoverySpi(spi);\r\n\r\n\r\n\r\n","title":"Apache Ignite Cluster Formation fails during Kubernetes Blue Green Deployment","body":"<p>I am deploying kubernetes pod through blue green deployment. The POD is a micro-service which uses Ignite in embedded mode and forms a cluster when deployed hence data is shared among the service instances. Things were working fine during rolling deployment.</p>\n<p>However during Blue Green Deployment using harness a new services is created for green deployment as well as the deployment Objects and Pods are created. During this time the configuration of Ignite Still points to the original service (blue service) this is done as later in blue green deployment services are switched. However once the services are switched Ignite fails to form a cluster and data is not shared among the instances.</p>\n<p>Configuration used to form Cluster</p>\n<p>k8sConnectionConfiguration -&gt; object is crated by setting namespace and Service Name\nTcpDiscoverySpi is created using TcpDiscoveryKubernetesIpFinder</p>\n<pre><code>KubernetesConnectionConfiguration connConfig = new KubernetesConnectionConfiguration(); \nconnConfig.setNamespace(&quot;namespace&quot;);\nconnConfig.setServiceName(&quot;service-name&quot;);\nTcpDiscoveryKubernetesIpFinder tcpDiscoveryKubernetesIpFinder = new TcpDiscoveryKubernetesIpFinder(connConfig);\nTcpDiscoverySpi spi = new TcpDiscoverySpi();\nspi.setIpFinder(tcpDiscoveryKubernetesIpFinder);\nigniteConfig.setDiscoverySpi(spi);\n</code></pre>\n"},{"tags":["java","swagger","openapi","swagger-codegen","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662541474,"creation_date":1662541474,"answer_id":73632764,"question_id":73631802,"body_markdown":"Finally I&#39;ve solved the issue by moving the declaration of `ColorType` into top-level `components` section.\r\nPrior to fix I had only `securitySchemes` declaration under the section:\r\n```yaml\r\ncomponents:\r\n  securitySchemes:\r\n    bearer:\r\n      type: http\r\n      scheme: bearer\r\n```\r\nI&#39;ve changed it to\r\n```yaml\r\ncomponents:\r\n  schemas:\r\n    ColorType:\r\n      type: string\r\n      enum:\r\n        - ACCENT_1\r\n        - ACCENT_2\r\n        - BACKGROUND_1\r\n        - BACKGROUND_2\r\n        - TEXT\r\n        - SOLID_BUTTON\r\n        - OUTLINE_BUTTON\r\n  securitySchemes:\r\n    bearer:\r\n      type: http\r\n      scheme: bearer\r\n```\r\nThis gave me desired Java enum among generated classes:\r\n```java\r\npublic enum ColorType {\r\n  ACCENT_1(&quot;ACCENT_1&quot;),\r\n  ACCENT_2(&quot;ACCENT_2&quot;),\r\n  BACKGROUND_1(&quot;BACKGROUND_1&quot;),\r\n  BACKGROUND_2(&quot;BACKGROUND_2&quot;),\r\n  TEXT(&quot;TEXT&quot;), \r\n  SOLID_BUTTON(&quot;SOLID_BUTTON&quot;),\r\n  OUTLINE_BUTTON(&quot;OUTLINE_BUTTON&quot;);\r\n\r\n  private String value;\r\n\r\n  ColorType(String value) {\r\n    this.value = value;\r\n  }\r\n\r\n  @Override\r\n  @JsonValue\r\n  public String toString() {\r\n    return String.valueOf(value);\r\n  }\r\n\r\n  @JsonCreator\r\n  public static ColorType fromValue(String value) {\r\n    for (ColorType b : ColorType.values()) {\r\n      if (b.value.equals(value)) {\r\n        return b;\r\n      }\r\n    }\r\n    throw new IllegalArgumentException(&quot;Unexpected value &#39;&quot; + value + &quot;&#39;&quot;);\r\n  }\r\n}\r\n```","title":"How to force Swagger Codegen to generate an enum which is not referenced from any other object?","body":"<p>Finally I've solved the issue by moving the declaration of <code>ColorType</code> into top-level <code>components</code> section.\nPrior to fix I had only <code>securitySchemes</code> declaration under the section:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>components:\n  securitySchemes:\n    bearer:\n      type: http\n      scheme: bearer\n</code></pre>\n<p>I've changed it to</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>components:\n  schemas:\n    ColorType:\n      type: string\n      enum:\n        - ACCENT_1\n        - ACCENT_2\n        - BACKGROUND_1\n        - BACKGROUND_2\n        - TEXT\n        - SOLID_BUTTON\n        - OUTLINE_BUTTON\n  securitySchemes:\n    bearer:\n      type: http\n      scheme: bearer\n</code></pre>\n<p>This gave me desired Java enum among generated classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum ColorType {\n  ACCENT_1(&quot;ACCENT_1&quot;),\n  ACCENT_2(&quot;ACCENT_2&quot;),\n  BACKGROUND_1(&quot;BACKGROUND_1&quot;),\n  BACKGROUND_2(&quot;BACKGROUND_2&quot;),\n  TEXT(&quot;TEXT&quot;), \n  SOLID_BUTTON(&quot;SOLID_BUTTON&quot;),\n  OUTLINE_BUTTON(&quot;OUTLINE_BUTTON&quot;);\n\n  private String value;\n\n  ColorType(String value) {\n    this.value = value;\n  }\n\n  @Override\n  @JsonValue\n  public String toString() {\n    return String.valueOf(value);\n  }\n\n  @JsonCreator\n  public static ColorType fromValue(String value) {\n    for (ColorType b : ColorType.values()) {\n      if (b.value.equals(value)) {\n        return b;\n      }\n    }\n    throw new IllegalArgumentException(&quot;Unexpected value '&quot; + value + &quot;'&quot;);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1732,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73632764,"answer_count":1,"score":2,"last_activity_date":1662541474,"creation_date":1662536719,"question_id":73631802,"body_markdown":"I have an OpenAPI spec with multiple enums:\r\n```yaml\r\nSocialLinkType:\r\n  type: string\r\n  enum:\r\n    - FACEBOOK\r\n    - YOUTUBE\r\n    - INSTAGRAM\r\n    - TWITTER\r\n    - PINTEREST\r\n    - LINKEDIN\r\n    - TIKTOK\r\n    - TUMBLR\r\n    - WHATSAPP\r\n    - VIMEO\r\n    - SNAPCHAT\r\n    - APPLE\r\n    - ANDROID\r\n\r\nColorType:\r\n  type: string\r\n  enum:\r\n    - ACCENT_1\r\n    - ACCENT_2\r\n    - BACKGROUND_1\r\n    - BACKGROUND_2\r\n    - TEXT\r\n    - SOLID_BUTTON\r\n    - OUTLINE_BUTTON\r\n```\r\nThe issue I&#39;m facing is about `ColorType`. Unlike `SocialLinkType` it is not referenced from any other component described in OpenAPI spec. As a result `ColorType` Java enum is not generated, so my question is about forcing Swagger Codegen to generate Java code for every item in the spec.\r\n\r\nCan this be achieved somehow?","title":"How to force Swagger Codegen to generate an enum which is not referenced from any other object?","body":"<p>I have an OpenAPI spec with multiple enums:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>SocialLinkType:\n  type: string\n  enum:\n    - FACEBOOK\n    - YOUTUBE\n    - INSTAGRAM\n    - TWITTER\n    - PINTEREST\n    - LINKEDIN\n    - TIKTOK\n    - TUMBLR\n    - WHATSAPP\n    - VIMEO\n    - SNAPCHAT\n    - APPLE\n    - ANDROID\n\nColorType:\n  type: string\n  enum:\n    - ACCENT_1\n    - ACCENT_2\n    - BACKGROUND_1\n    - BACKGROUND_2\n    - TEXT\n    - SOLID_BUTTON\n    - OUTLINE_BUTTON\n</code></pre>\n<p>The issue I'm facing is about <code>ColorType</code>. Unlike <code>SocialLinkType</code> it is not referenced from any other component described in OpenAPI spec. As a result <code>ColorType</code> Java enum is not generated, so my question is about forcing Swagger Codegen to generate Java code for every item in the spec.</p>\n<p>Can this be achieved somehow?</p>\n"},{"tags":["java","reflection","field","private"],"comments":[{"owner":{"account_id":161633,"reputation":2803,"user_id":382564,"accept_rate":92,"display_name":"Angad"},"score":8,"creation_date":1441267630,"post_id":15315368,"comment_id":52611954,"body_markdown":"@atk Nobody&#39;s forcing you to answer; but for many of us landing on this question from Google, the top answer is a far more succinct explanation than reading through long posts on reflection. Even the long-tail of questions like this contribute to what SO is today.","body":"@atk Nobody&#39;s forcing you to answer; but for many of us landing on this question from Google, the top answer is a far more succinct explanation than reading through long posts on reflection. Even the long-tail of questions like this contribute to what SO is today."},{"owner":{"account_id":435063,"reputation":4304,"user_id":821436,"accept_rate":79,"display_name":"Martin Schr&#246;der"},"score":0,"creation_date":1443172990,"post_id":15315368,"comment_id":53396192,"body_markdown":"See [How do I read a private field in Java?](http://stackoverflow.com/q/1196192)","body":"See <a href=\"http://stackoverflow.com/q/1196192\">How do I read a private field in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1362860053,"creation_date":1362860053,"answer_id":15315410,"question_id":15315368,"body_markdown":"Do you mean like\r\n\r\n    Field[] fields = SomeClass.class.getDeclaredFields();","title":"Get all private fields using reflection","body":"<p>Do you mean like</p>\n\n<pre><code>Field[] fields = SomeClass.class.getDeclaredFields();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17619,"reputation":15368,"user_id":39622,"accept_rate":78,"display_name":"Cyrille Ka"},"down_vote_count":1,"up_vote_count":137,"is_accepted":true,"score":136,"last_activity_date":1483434537,"creation_date":1362860291,"answer_id":15315457,"question_id":15315368,"body_markdown":"It is possible to obtain all fields with the method `getDeclaredFields()` of `Class`. Then you have to check the modifier of each fields to find the private ones:\r\n\r\n    List&lt;Field&gt; privateFields = new ArrayList&lt;&gt;();\r\n    Field[] allFields = SomeClass.class.getDeclaredFields();\r\n    for (Field field : allFields) {\r\n        if (Modifier.isPrivate(field.getModifiers())) {\r\n            privateFields.add(field);\r\n        }\r\n    }\r\n\r\nNote that `getDeclaredFields()` will not return inherited fields.\r\n\r\nEventually, you get the type of the fields with the method [Field.getType()][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Field.html#getType%28%29","title":"Get all private fields using reflection","body":"<p>It is possible to obtain all fields with the method <code>getDeclaredFields()</code> of <code>Class</code>. Then you have to check the modifier of each fields to find the private ones:</p>\n\n<pre><code>List&lt;Field&gt; privateFields = new ArrayList&lt;&gt;();\nField[] allFields = SomeClass.class.getDeclaredFields();\nfor (Field field : allFields) {\n    if (Modifier.isPrivate(field.getModifiers())) {\n        privateFields.add(field);\n    }\n}\n</code></pre>\n\n<p>Note that <code>getDeclaredFields()</code> will not return inherited fields.</p>\n\n<p>Eventually, you get the type of the fields with the method <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Field.html#getType%28%29\" rel=\"noreferrer\">Field.getType()</a>.</p>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1388956126,"creation_date":1362860368,"answer_id":15315467,"question_id":15315368,"body_markdown":"You can use `Modifier` to determine if a field is private.  Be sure to use the `getDeclaredFields` method to ensure that you retrieve private fields from the class, calling `getFields` will only return the public fields.\r\n\r\n    public class SomeClass {\r\n    \r\n    \tprivate String aaa;\r\n    \tprivate Date date;\r\n    \tprivate double ccc;\r\n    \tpublic int notPrivate;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Field&gt; fields = getPrivateFields(SomeClass.class);\r\n    \t\tfor(Field field: fields){\r\n    \t\t\tSystem.out.println(field.getName());\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static List&lt;Field&gt; getPrivateFields(Class&lt;?&gt; theClass){\r\n    \t\tList&lt;Field&gt; privateFields = new ArrayList&lt;Field&gt;();\r\n    \t\t\r\n    \t\tField[] fields = theClass.getDeclaredFields();\r\n    \t\t\r\n    \t\tfor(Field field:fields){\r\n    \t\t\tif(Modifier.isPrivate(field.getModifiers())){\r\n    \t\t\t\tprivateFields.add(field);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn privateFields;\r\n    \t}\r\n    }\r\n\r\n","title":"Get all private fields using reflection","body":"<p>You can use <code>Modifier</code> to determine if a field is private.  Be sure to use the <code>getDeclaredFields</code> method to ensure that you retrieve private fields from the class, calling <code>getFields</code> will only return the public fields.</p>\n\n<pre><code>public class SomeClass {\n\n    private String aaa;\n    private Date date;\n    private double ccc;\n    public int notPrivate;\n\n    public static void main(String[] args) {\n        List&lt;Field&gt; fields = getPrivateFields(SomeClass.class);\n        for(Field field: fields){\n            System.out.println(field.getName());\n        }\n    }\n\n    public static List&lt;Field&gt; getPrivateFields(Class&lt;?&gt; theClass){\n        List&lt;Field&gt; privateFields = new ArrayList&lt;Field&gt;();\n\n        Field[] fields = theClass.getDeclaredFields();\n\n        for(Field field:fields){\n            if(Modifier.isPrivate(field.getModifiers())){\n                privateFields.add(field);\n            }\n        }\n        return privateFields;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":435063,"reputation":4304,"user_id":821436,"accept_rate":79,"display_name":"Martin Schr&#246;der"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1443172951,"creation_date":1443172951,"answer_id":32778913,"question_id":15315368,"body_markdown":"Try [`FieldUtils`](http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html) from apache commons-lang3:\r\n\r\n    FieldUtils.getAllFieldsList(Class&lt;?&gt; cls)","title":"Get all private fields using reflection","body":"<p>Try <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html\" rel=\"noreferrer\"><code>FieldUtils</code></a> from apache commons-lang3:</p>\n\n<pre><code>FieldUtils.getAllFieldsList(Class&lt;?&gt; cls)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3778003,"reputation":6793,"user_id":3138238,"accept_rate":74,"display_name":"madx"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1460453915,"creation_date":1460452196,"answer_id":36568612,"question_id":15315368,"body_markdown":"## Check if a Field is private ##\r\nYou could **filter the Fields** using [Modifier.isPrivate][1]:\r\n\r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.Modifier;\r\n    // ...\r\n    Field field = null;\r\n    // retrieve the field in some way\r\n    // ...\r\n    Modifier.isPrivate(field.getModifiers())\r\non a single `Field` object which returns `true` if the field is `private`\r\n\r\n\r\n----------\r\n## Collect all Fields of a class ##\r\n\r\nTo **collect the all the Fields** use:\r\n\r\n1) If you need only the fields of the the class without the fields taken from the class hierarchy you could simply use:\r\n\r\n    Field[] fields = SomeClass.class.getDeclaredFields();\r\n\r\n2) If you don&#39;t want to reinvent the wheel and get all the fields of a class hierarchy you could rely upon [Apache Commons Lang](http://commons.apache.org/proper/commons-lang/) version 3.2+ which provides [`FieldUtils.getAllFieldsList`](http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html#getAllFieldsList(java.lang.Class)):\r\n\r\n    import java.lang.reflect.Field;\r\n    import java.util.AbstractCollection;\r\n    import java.util.AbstractList;\r\n    import java.util.AbstractSequentialList;\r\n    import java.util.Arrays;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    import org.apache.commons.lang3.reflect.FieldUtils;\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    public class FieldUtilsTest {\r\n    \r\n    \t@Test\r\n    \tpublic void testGetAllFieldsList() {\r\n    \r\n    \t\t// Get all fields in this class and all of its parents\r\n    \t\tfinal List&lt;Field&gt; allFields = FieldUtils.getAllFieldsList(LinkedList.class);\r\n    \r\n    \t\t// Get the fields form each individual class in the type&#39;s hierarchy\r\n    \t\tfinal List&lt;Field&gt; allFieldsClass = Arrays.asList(LinkedList.class.getFields());\r\n    \t\tfinal List&lt;Field&gt; allFieldsParent = Arrays.asList(AbstractSequentialList.class.getFields());\r\n    \t\tfinal List&lt;Field&gt; allFieldsParentsParent = Arrays.asList(AbstractList.class.getFields());\r\n    \t\tfinal List&lt;Field&gt; allFieldsParentsParentsParent = Arrays.asList(AbstractCollection.class.getFields());\r\n    \r\n    \t\t// Test that `getAllFieldsList` did truly get all of the fields of the the class and all its parents \r\n    \t\tAssert.assertTrue(allFields.containsAll(allFieldsClass));\r\n    \t\tAssert.assertTrue(allFields.containsAll(allFieldsParent));\r\n    \t\tAssert.assertTrue(allFields.containsAll(allFieldsParentsParent));\r\n    \t\tAssert.assertTrue(allFields.containsAll(allFieldsParentsParentsParent));\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Modifier.html#isPrivate%28int%29","title":"Get all private fields using reflection","body":"<h2>Check if a Field is private</h2>\n\n<p>You could <strong>filter the Fields</strong> using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Modifier.html#isPrivate%28int%29\" rel=\"noreferrer\">Modifier.isPrivate</a>:</p>\n\n<pre><code>import java.lang.reflect.Field;\nimport java.lang.reflect.Modifier;\n// ...\nField field = null;\n// retrieve the field in some way\n// ...\nModifier.isPrivate(field.getModifiers())\n</code></pre>\n\n<p>on a single <code>Field</code> object which returns <code>true</code> if the field is <code>private</code></p>\n\n<hr>\n\n<h2>Collect all Fields of a class</h2>\n\n<p>To <strong>collect the all the Fields</strong> use:</p>\n\n<p>1) If you need only the fields of the the class without the fields taken from the class hierarchy you could simply use:</p>\n\n<pre><code>Field[] fields = SomeClass.class.getDeclaredFields();\n</code></pre>\n\n<p>2) If you don't want to reinvent the wheel and get all the fields of a class hierarchy you could rely upon <a href=\"http://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang</a> version 3.2+ which provides <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html#getAllFieldsList(java.lang.Class)\" rel=\"noreferrer\"><code>FieldUtils.getAllFieldsList</code></a>:</p>\n\n<pre><code>import java.lang.reflect.Field;\nimport java.util.AbstractCollection;\nimport java.util.AbstractList;\nimport java.util.AbstractSequentialList;\nimport java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.List;\n\nimport org.apache.commons.lang3.reflect.FieldUtils;\nimport org.junit.Assert;\nimport org.junit.Test;\n\npublic class FieldUtilsTest {\n\n    @Test\n    public void testGetAllFieldsList() {\n\n        // Get all fields in this class and all of its parents\n        final List&lt;Field&gt; allFields = FieldUtils.getAllFieldsList(LinkedList.class);\n\n        // Get the fields form each individual class in the type's hierarchy\n        final List&lt;Field&gt; allFieldsClass = Arrays.asList(LinkedList.class.getFields());\n        final List&lt;Field&gt; allFieldsParent = Arrays.asList(AbstractSequentialList.class.getFields());\n        final List&lt;Field&gt; allFieldsParentsParent = Arrays.asList(AbstractList.class.getFields());\n        final List&lt;Field&gt; allFieldsParentsParentsParent = Arrays.asList(AbstractCollection.class.getFields());\n\n        // Test that `getAllFieldsList` did truly get all of the fields of the the class and all its parents \n        Assert.assertTrue(allFields.containsAll(allFieldsClass));\n        Assert.assertTrue(allFields.containsAll(allFieldsParent));\n        Assert.assertTrue(allFields.containsAll(allFieldsParentsParent));\n        Assert.assertTrue(allFields.containsAll(allFieldsParentsParentsParent));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1509007382,"creation_date":1509007382,"answer_id":46949598,"question_id":15315368,"body_markdown":"Using Java 8 :\r\n\r\n    Field[] fields = String.class.getDeclaredFields();\r\n    List&lt;Field&gt; privateFieldList = Arrays.asList(fields).stream().filter(field -&gt; Modifier.isPrivate(field.getModifiers())).collect(\r\n            Collectors.toList());","title":"Get all private fields using reflection","body":"<p>Using Java 8 :</p>\n\n<pre><code>Field[] fields = String.class.getDeclaredFields();\nList&lt;Field&gt; privateFieldList = Arrays.asList(fields).stream().filter(field -&gt; Modifier.isPrivate(field.getModifiers())).collect(\n        Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":2470317,"reputation":863,"user_id":2152361,"display_name":"user2152361"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86106,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":15315457,"answer_count":6,"score":86,"last_activity_date":1662541006,"creation_date":1362859780,"question_id":15315368,"body_markdown":"I wonder is there a way to get all private fields of some class in Java and their type.\r\n\r\nFor example lets suppose I have a class:\r\n\r\n    class SomeClass {\r\n        private String aaa;\r\n        private SomeOtherClass bbb;\r\n        private double ccc;\r\n    }\r\n\r\nNow I would like to get all private fields (`aaa`, `bbb`, `ccc`) of class `SomeClass` (Without knowing name of all fields upfront) and check their type.","title":"Get all private fields using reflection","body":"<p>I wonder is there a way to get all private fields of some class in Java and their type.</p>\n<p>For example lets suppose I have a class:</p>\n<pre><code>class SomeClass {\n    private String aaa;\n    private SomeOtherClass bbb;\n    private double ccc;\n}\n</code></pre>\n<p>Now I would like to get all private fields (<code>aaa</code>, <code>bbb</code>, <code>ccc</code>) of class <code>SomeClass</code> (Without knowing name of all fields upfront) and check their type.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":4,"creation_date":1662541362,"post_id":73632650,"comment_id":130027061,"body_markdown":"You&#39;re not reading the process&#39; standard output and standard error while you wait for it. This can easily lead to a deadlock (where the process is blocked due to a filled-up output buffer). See [this question](https://stackoverflow.com/questions/5483830/process-waitfor-never-returns).","body":"You&#39;re not reading the process&#39; standard output and standard error while you wait for it. This can easily lead to a deadlock (where the process is blocked due to a filled-up output buffer). See <a href=\"https://stackoverflow.com/questions/5483830/process-waitfor-never-returns\">this question</a>."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1662541450,"post_id":73632650,"comment_id":130027089,"body_markdown":"just my two cents to @GenerousBadger suggestion: https://stackoverflow.com/questions/8595748/java-runtime-exec","body":"just my two cents to @GenerousBadger suggestion: <a href=\"https://stackoverflow.com/questions/8595748/java-runtime-exec\">stackoverflow.com/questions/8595748/java-runtime-exec</a>"},{"owner":{"account_id":6043607,"reputation":91,"user_id":8269446,"display_name":"mamol"},"score":0,"creation_date":1662541932,"post_id":73632650,"comment_id":130027278,"body_markdown":"@GenerousBadger You mean I should use getInputStream next line after process.waitFor?","body":"@GenerousBadger You mean I should use getInputStream next line after process.waitFor?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1662542011,"post_id":73632650,"comment_id":130027315,"body_markdown":"No ... before it.","body":"No ... before it."},{"owner":{"account_id":6043607,"reputation":91,"user_id":8269446,"display_name":"mamol"},"score":0,"creation_date":1662542118,"post_id":73632650,"comment_id":130027357,"body_markdown":"@StephenC I used it before and this method stuck at stdInput.getLine() because there wasn&#39;t any input.","body":"@StephenC I used it before and this method stuck at stdInput.getLine() because there wasn&#39;t any input."},{"owner":{"account_id":6043607,"reputation":91,"user_id":8269446,"display_name":"mamol"},"score":0,"creation_date":1662542451,"post_id":73632650,"comment_id":130027484,"body_markdown":"@GenerousBadger, StephenC Thank you it was deadlock, I moved streams upper and all works.","body":"@GenerousBadger, StephenC Thank you it was deadlock, I moved streams upper and all works."}],"owner":{"account_id":6043607,"reputation":91,"user_id":8269446,"display_name":"mamol"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662540937,"creation_date":1662540937,"question_id":73632650,"body_markdown":"I have to launch console commands from java to publish to verdaccio.\r\nSo it works(pretty bad), but for few packages processes stucks. When I destroy them it returns code 137, witch means not enough memory. I watched in profiler, I have much more free heap, then used.\r\n\r\nMaybe it&#39;s not because not enough memory.\r\n\r\nHow to understand why it stucks and how to fix it?\r\n```java\r\n    protected String execCommand(List&lt;String&gt; command) throws IOException, NpmAlreadyExistException{\r\n\r\n        ProcessBuilder pb = new ProcessBuilder(command);\r\n        File workingFolder = new File(System.getProperty(&quot;user.dir&quot;));\r\n        pb.directory(workingFolder);\r\n        Process process = pb.start();\r\n        try {\r\n            boolean finished = process.waitFor(60, TimeUnit.SECONDS);\r\n            logger.info(&quot;PROC FINISHED: &quot; + finished);\r\n            if (!finished) {\r\n                process.destroyForcibly();\r\n                int exitCode = process.waitFor();\r\n                logger.info(&quot;PROC EXIT CODE: &quot; + exitCode);\r\n                return null;\r\n            }\r\n        } catch (InterruptedException e) {\r\n            logger.info(&quot;PROCESS WAS INTERRUPTED!!!&quot;);\r\n            logger.info(e.getMessage());\r\n            return null;\r\n        }\r\n\r\n        logger.info(&quot;PROC EXIT CODE: &quot; + process.exitValue());\r\n\r\n        String s;\r\n        BufferedReader stdErr = new BufferedReader(new InputStreamReader(process.getErrorStream()));\r\n        StringBuilder err = new StringBuilder();\r\n        while ((s = stdErr.readLine()) != null) {\r\n            err.append(&quot;\\n&quot;).append(s);\r\n        }\r\n        stdErr.close();\r\n\r\n        BufferedReader stdInput = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n        StringBuilder result = new StringBuilder();\r\n        while ((s = stdInput.readLine()) != null) {\r\n            result.append(&quot;\\n&quot;).append(s);\r\n        }\r\n        stdInput.close();\r\n        process.destroy();\r\n\r\n        logger.info(String.format(&quot;execCommand response [stdin]: %s&quot;, result));\r\n        logger.info(String.format(&quot;execCommand response [stdErr]: %s&quot;, err));\r\n\r\n\r\n        if (err.length() != 0) {\r\n            if (err.toString().contains(&quot;Update the &#39;version&#39; field in package.json and try again.&quot;)) {\r\n                throw new NpmAlreadyExistException(&quot;         .&quot;);\r\n            }\r\n        }\r\n        return result.toString();\r\n    }\r\n```\r\n\r\n[![profiler][1]][1]\r\n\r\nThank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rc9Ez.png","title":"How to understand why java process stuck","body":"<p>I have to launch console commands from java to publish to verdaccio.\nSo it works(pretty bad), but for few packages processes stucks. When I destroy them it returns code 137, witch means not enough memory. I watched in profiler, I have much more free heap, then used.</p>\n<p>Maybe it's not because not enough memory.</p>\n<p>How to understand why it stucks and how to fix it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    protected String execCommand(List&lt;String&gt; command) throws IOException, NpmAlreadyExistException{\n\n        ProcessBuilder pb = new ProcessBuilder(command);\n        File workingFolder = new File(System.getProperty(&quot;user.dir&quot;));\n        pb.directory(workingFolder);\n        Process process = pb.start();\n        try {\n            boolean finished = process.waitFor(60, TimeUnit.SECONDS);\n            logger.info(&quot;PROC FINISHED: &quot; + finished);\n            if (!finished) {\n                process.destroyForcibly();\n                int exitCode = process.waitFor();\n                logger.info(&quot;PROC EXIT CODE: &quot; + exitCode);\n                return null;\n            }\n        } catch (InterruptedException e) {\n            logger.info(&quot;PROCESS WAS INTERRUPTED!!!&quot;);\n            logger.info(e.getMessage());\n            return null;\n        }\n\n        logger.info(&quot;PROC EXIT CODE: &quot; + process.exitValue());\n\n        String s;\n        BufferedReader stdErr = new BufferedReader(new InputStreamReader(process.getErrorStream()));\n        StringBuilder err = new StringBuilder();\n        while ((s = stdErr.readLine()) != null) {\n            err.append(&quot;\\n&quot;).append(s);\n        }\n        stdErr.close();\n\n        BufferedReader stdInput = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        StringBuilder result = new StringBuilder();\n        while ((s = stdInput.readLine()) != null) {\n            result.append(&quot;\\n&quot;).append(s);\n        }\n        stdInput.close();\n        process.destroy();\n\n        logger.info(String.format(&quot;execCommand response [stdin]: %s&quot;, result));\n        logger.info(String.format(&quot;execCommand response [stdErr]: %s&quot;, err));\n\n\n        if (err.length() != 0) {\n            if (err.toString().contains(&quot;Update the 'version' field in package.json and try again.&quot;)) {\n                throw new NpmAlreadyExistException(&quot;         .&quot;);\n            }\n        }\n        return result.toString();\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Rc9Ez.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rc9Ez.png\" alt=\"profiler\" /></a></p>\n<p>Thank you!</p>\n"},{"tags":["java","android","kotlin","android-fragments","android-activity"],"answers":[{"tags":[],"owner":{"account_id":20521366,"reputation":119,"user_id":15060875,"display_name":"pykereaper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662540095,"creation_date":1662540095,"answer_id":73632474,"question_id":73632274,"body_markdown":"As your `Activity` is in control of the `Fragment`, you could just implement a custom method inside the `Fragment` like `fun getFormInput(): Map&lt;String, String&gt;` or similar.\r\n\r\nWhen the &quot;send&quot; button is clicked, you use that method to receive all information from the `Fragment`.\r\n\r\nAlternatively, you could implement a custom listener, with the [observer pattern][1], to be notified inside the `Activity` on every change of a form field in the `Fragment`.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-observer-pattern","title":"How to transfer the activity and fragment information to the server with a button in the activity?","body":"<p>As your <code>Activity</code> is in control of the <code>Fragment</code>, you could just implement a custom method inside the <code>Fragment</code> like <code>fun getFormInput(): Map&lt;String, String&gt;</code> or similar.</p>\n<p>When the &quot;send&quot; button is clicked, you use that method to receive all information from the <code>Fragment</code>.</p>\n<p>Alternatively, you could implement a custom listener, with the <a href=\"https://www.baeldung.com/java-observer-pattern\" rel=\"nofollow noreferrer\">observer pattern</a>, to be notified inside the <code>Activity</code> on every change of a form field in the <code>Fragment</code>.</p>\n"},{"tags":[],"owner":{"account_id":16686605,"reputation":71,"user_id":12060353,"display_name":"abhishek mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662540810,"creation_date":1662540810,"answer_id":73632626,"question_id":73632274,"body_markdown":"You can add an interface that will return you the map object as mentioned above.\r\n\r\nCreate a method in the interface that returns the data stored in all the dit texts in any Data Structure that best fits your use case.\r\n\r\nIn your fragment - add a watcher to all your edit texts and send the values present in the edittexts to the activity using the method in the interface.","title":"How to transfer the activity and fragment information to the server with a button in the activity?","body":"<p>You can add an interface that will return you the map object as mentioned above.</p>\n<p>Create a method in the interface that returns the data stored in all the dit texts in any Data Structure that best fits your use case.</p>\n<p>In your fragment - add a watcher to all your edit texts and send the values present in the edittexts to the activity using the method in the interface.</p>\n"}],"owner":{"account_id":25771806,"reputation":1,"user_id":19520349,"display_name":"amir81"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662540810,"creation_date":1662539172,"question_id":73632274,"body_markdown":"I have an activity that contains several edit texts and a view pager\r\nAnd inside the view pager there are some text edits\r\n\r\nNow, I want when the user fills the form inside the activity and the form inside the fragment, all the information will be transferred to the server by pr[enter image description here][1]essing one button.\r\n\r\nThe problem is that the button is in the main activity and I don&#39;t have access to edit the texts inside the fragment\r\n\r\nWhat should I do ???\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yNN34.jpg","title":"How to transfer the activity and fragment information to the server with a button in the activity?","body":"<p>I have an activity that contains several edit texts and a view pager\nAnd inside the view pager there are some text edits</p>\n<p>Now, I want when the user fills the form inside the activity and the form inside the fragment, all the information will be transferred to the server by pr<a href=\"https://i.stack.imgur.com/yNN34.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>essing one button.</p>\n<p>The problem is that the button is in the main activity and I don't have access to edit the texts inside the fragment</p>\n<p>What should I do ???</p>\n"},{"tags":["java","hibernate","jpa","hibernate-envers","rsql"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662540795,"creation_date":1662540795,"answer_id":73632622,"question_id":73606374,"body_markdown":"You should probably create an issue in the issue tracker(https://hibernate.atlassian.net) with a test case(https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java) that shows this limitation and ask for an improvement for this.\r\n\r\nUsually, in ORM this is handled on the SQL level by introducing an `exists` subquery like:\r\n\r\n`where not exists (select 1 from object_b b where b.object_a_id = rootAlias.id)`\r\n\r\nNot sure how that works exactly in your case, but you could try to do something similar in your query.","title":"can&#39;t figure out how to audit for null value in not owned entity using hibernate envers","body":"<p>You should probably create an issue in the issue tracker(<a href=\"https://hibernate.atlassian.net\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net</a>) with a test case(<a href=\"https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java</a>) that shows this limitation and ask for an improvement for this.</p>\n<p>Usually, in ORM this is handled on the SQL level by introducing an <code>exists</code> subquery like:</p>\n<p><code>where not exists (select 1 from object_b b where b.object_a_id = rootAlias.id)</code></p>\n<p>Not sure how that works exactly in your case, but you could try to do something similar in your query.</p>\n"}],"owner":{"account_id":17319411,"reputation":3,"user_id":12545197,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662540795,"creation_date":1662365576,"question_id":73606374,"body_markdown":"What my project have:\r\n 1. rsqlParser in order to parse complicated queries\r\n 2. Hibernate envers for audit purposes\r\n 3. Pretty stupid middle developer who don&#39;t know how to implement isNull rsql query\r\n\r\nI have two Object with strict one-to-one relationship: object A which contains object B, and object B, which contains object A.\r\nIn RDS it&#39;s looks like object B has an object_a_id field\r\n\r\nObject_A entity class\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Audited\r\n    @NoArgsConstructor\r\n    public class Object_A {\r\n    \r\n        @OneToOne(mappedBy = &quot;object_a&quot;)\r\n        private Object_B object_b;\r\n    }\r\n\r\nObject_B entity\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Audited\r\n    @NoArgsConstructor\r\n    public class Object_B {\r\n\r\n        @OneToOne\r\n        @JoinColumn(\r\n            name = &quot;object_a_id&quot;,\r\n            referencedColumnName = &quot;id&quot;,\r\n            foreignKey = @ForeignKey(name = &quot;object_b_object_a_fk&quot;)\r\n        )\r\n        private Object_A object_a;\r\n\r\nClearly you see that Object_B **OWNS** Object_A and when I try to perfom something simple like \r\n\r\n    return auditProperty.isNull();\r\n\r\nI get\r\n\r\n    This type of relation (object_b) isn&#39;t supported and can&#39;t be used in queries\r\n\r\n\r\nI guess I need somehow to make custom query where I add some object_b subselect beforehand but can&#39;t figure out how to write it.","title":"can&#39;t figure out how to audit for null value in not owned entity using hibernate envers","body":"<p>What my project have:</p>\n<ol>\n<li>rsqlParser in order to parse complicated queries</li>\n<li>Hibernate envers for audit purposes</li>\n<li>Pretty stupid middle developer who don't know how to implement isNull rsql query</li>\n</ol>\n<p>I have two Object with strict one-to-one relationship: object A which contains object B, and object B, which contains object A.\nIn RDS it's looks like object B has an object_a_id field</p>\n<p>Object_A entity class</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Audited\n@NoArgsConstructor\npublic class Object_A {\n\n    @OneToOne(mappedBy = &quot;object_a&quot;)\n    private Object_B object_b;\n}\n</code></pre>\n<p>Object_B entity</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Audited\n@NoArgsConstructor\npublic class Object_B {\n\n    @OneToOne\n    @JoinColumn(\n        name = &quot;object_a_id&quot;,\n        referencedColumnName = &quot;id&quot;,\n        foreignKey = @ForeignKey(name = &quot;object_b_object_a_fk&quot;)\n    )\n    private Object_A object_a;\n</code></pre>\n<p>Clearly you see that Object_B <strong>OWNS</strong> Object_A and when I try to perfom something simple like</p>\n<pre><code>return auditProperty.isNull();\n</code></pre>\n<p>I get</p>\n<pre><code>This type of relation (object_b) isn't supported and can't be used in queries\n</code></pre>\n<p>I guess I need somehow to make custom query where I add some object_b subselect beforehand but can't figure out how to write it.</p>\n"},{"tags":["java","spring","cron","scheduler","cron-task"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1662539541,"post_id":73632280,"comment_id":130026392,"body_markdown":"check http://www.cronmaker.com/?7","body":"check <a href=\"http://www.cronmaker.com/?7\" rel=\"nofollow noreferrer\">cronmaker.com/?7</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662539957,"post_id":73632280,"comment_id":130026537,"body_markdown":"I would rather refer to: https://spring.io/blog/2020/11/10/new-in-spring-5-3-improved-cron-expressions (and links) .. 1st parameter refers to seconds ..and `0/24` in your case would mean at 0 and at 24 o&#39;clock (which is nonsense/double execution/even lagal!?)","body":"I would rather refer to: <a href=\"https://spring.io/blog/2020/11/10/new-in-spring-5-3-improved-cron-expressions\" rel=\"nofollow noreferrer\">spring.io/blog/2020/11/10/&hellip;</a> (and links) .. 1st parameter refers to seconds ..and <code>0&#47;24</code> in your case would mean at 0 and at 24 o&#39;clock (which is nonsense/double execution/even lagal!?)"},{"owner":{"account_id":23225212,"reputation":629,"user_id":17316835,"display_name":"HKBN-ITDS"},"score":0,"creation_date":1662540172,"post_id":73632280,"comment_id":130026607,"body_markdown":"0/24 mean start at 0 o&#39;clock and repeat it after 24 hours","body":"0/24 mean start at 0 o&#39;clock and repeat it after 24 hours"}],"answers":[{"tags":[],"owner":{"account_id":23225212,"reputation":629,"user_id":17316835,"display_name":"HKBN-ITDS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662540593,"creation_date":1662539799,"answer_id":73632404,"question_id":73632280,"body_markdown":"Refer to [Spring Docs][1]. Spring&#39;s Cron expression is different with linux.\r\nIt&#39;s look like:\r\n\r\n    &lt;Seconds&gt; &lt;Minutes&gt; &lt;Hours&gt; &lt;DayofMonth&gt; &lt;Month&gt; &lt;DayofWeek&gt; &lt;Year&gt;\r\n\r\n0/24 mean start at 0 o&#39;clock and repeat it after 24 hours\r\n\r\n\r\n  [1]: https://spring.io/blog/2020/11/10/new-in-spring-5-3-improved-cron-expressions","title":"When does this @Scheduled(cron = &quot;0 0 0/24 * * ?&quot;) get called?","body":"<p>Refer to <a href=\"https://spring.io/blog/2020/11/10/new-in-spring-5-3-improved-cron-expressions\" rel=\"nofollow noreferrer\">Spring Docs</a>. Spring's Cron expression is different with linux.\nIt's look like:</p>\n<pre><code>&lt;Seconds&gt; &lt;Minutes&gt; &lt;Hours&gt; &lt;DayofMonth&gt; &lt;Month&gt; &lt;DayofWeek&gt; &lt;Year&gt;\n</code></pre>\n<p>0/24 mean start at 0 o'clock and repeat it after 24 hours</p>\n"},{"tags":[],"owner":{"account_id":26135982,"reputation":94,"user_id":19825967,"display_name":"hungtv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662540174,"creation_date":1662540100,"answer_id":73632477,"question_id":73632280,"body_markdown":"Cron expression:\r\n\r\n    &lt;Seconds&gt; &lt;Minutes&gt;\t&lt;Hours&gt;\t&lt;Day Of Month&gt; &lt;Month&gt; &lt;Day Of Week&gt; &lt;Year&gt;\r\n\r\nYou can refer to:\r\n\r\n`* * * ? * *\tEvery second`\r\n\r\n`0 * * ? * *\tEvery minute`\r\n\r\n`0 0 13 * * ?  At 13:00:00pm every day`\r\n\r\n`0 0 */6 ? * *\tEvery six hours`\r\n\r\n`0 0 * ? * *\tEvery hour`\r\n","title":"When does this @Scheduled(cron = &quot;0 0 0/24 * * ?&quot;) get called?","body":"<p>Cron expression:</p>\n<pre><code>&lt;Seconds&gt; &lt;Minutes&gt; &lt;Hours&gt; &lt;Day Of Month&gt; &lt;Month&gt; &lt;Day Of Week&gt; &lt;Year&gt;\n</code></pre>\n<p>You can refer to:</p>\n<p><code>* * * ? * *    Every second</code></p>\n<p><code>0 * * ? * *    Every minute</code></p>\n<p><code>0 0 13 * * ?  At 13:00:00pm every day</code></p>\n<p><code>0 0 */6 ? * *  Every six hours</code></p>\n<p><code>0 0 * ? * *    Every hour</code></p>\n"}],"owner":{"account_id":25955643,"reputation":47,"user_id":19673046,"display_name":"Deepak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3445,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73632477,"answer_count":2,"score":0,"last_activity_date":1662540593,"creation_date":1662539202,"question_id":73632280,"body_markdown":"I found this `@Scheduled(cron = &quot;0 0 0/24 * * ?&quot;)` on top of a scheduler. Also there was a comment saying this runs every day. But i am not convinced how.\r\n\r\nI know that Cron expression looks like \r\n\r\n    &lt;minute&gt; &lt;hour&gt; &lt;day-of-month&gt; &lt;month&gt; &lt;day-of-week&gt; &lt;command&gt;\r\n\r\nBut I am not able to relate 0/24 to &lt;day of month&gt;. Can anyone add here?","title":"When does this @Scheduled(cron = &quot;0 0 0/24 * * ?&quot;) get called?","body":"<p>I found this <code>@Scheduled(cron = &quot;0 0 0/24 * * ?&quot;)</code> on top of a scheduler. Also there was a comment saying this runs every day. But i am not convinced how.</p>\n<p>I know that Cron expression looks like</p>\n<pre><code>&lt;minute&gt; &lt;hour&gt; &lt;day-of-month&gt; &lt;month&gt; &lt;day-of-week&gt; &lt;command&gt;\n</code></pre>\n<p>But I am not able to relate 0/24 to . Can anyone add here?</p>\n"},{"tags":["java","spring-data-jpa","entity","one-to-many","getmethod"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662537858,"post_id":73631797,"comment_id":130025784,"body_markdown":"Welcome to SO. You might want to do the following first: 1) read [ask], 2) add some description of what you&#39;re referring to by &quot;how can i make the code&quot; - are you asking how to write the query or how to name the Spring repo method so Spring data knows what you want? 3) Did you read the Spring data documentation already, especially the section about query inference from method names (should be section 4.4)?","body":"Welcome to SO. You might want to do the following first: 1) read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, 2) add some description of what you&#39;re referring to by &quot;how can i make the code&quot; - are you asking how to write the query or how to name the Spring repo method so Spring data knows what you want? 3) Did you read the Spring data documentation already, especially the section about query inference from method names (should be section 4.4)?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662538708,"post_id":73631797,"comment_id":130026090,"body_markdown":"One more question: since a review can have multiple &quot;hearts&quot; how would you order them? Do you want to order by the number of hearts? This might help you: https://stackoverflow.com/questions/23136469/order-by-count-using-spring-data-jparepository","body":"One more question: since a review can have multiple &quot;hearts&quot; how would you order them? Do you want to order by the number of hearts? This might help you: <a href=\"https://stackoverflow.com/questions/23136469/order-by-count-using-spring-data-jparepository\" title=\"order by count using spring data jparepository\">stackoverflow.com/questions/23136469/&hellip;</a>"}],"owner":{"account_id":26101587,"reputation":11,"user_id":19796933,"display_name":"sejin park"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662540500,"creation_date":1662536706,"question_id":73631797,"body_markdown":"I&#39;m stuck at deal with this problem. I have &#39;Review Entity&#39;, and &#39;Heart Entitiy&#39;. And I tried to show them homepage and detailpage separately!\r\n\r\n    Long countHeartByBookReviewId(Long bookReview_id);\r\n\r\ni used jpa query method for showing how many heart it gets in details page..\r\n\r\nand now i want to show review descending related to heart count in main page!\r\n\r\nhow can i make the code..?\r\n\r\n\r\n\r\n    @Entity\r\n    public class BookReview extends Timestamped {\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    private Long id;\r\n\r\n    ...\r\n\r\n    @Column\r\n    private String review;\r\n\r\n    @JoinColumn(name = &quot;member_id&quot;, nullable = false)\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    private Member member;\r\n\r\n    @OneToMany(mappedBy = &quot;bookReview&quot; , cascade = CascadeType.REMOVE)\r\n    private List&lt;Comment&gt; comment;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;bookReview&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;Heart&gt; heart;\r\n\r\nand the other entitiy is here.\r\n\r\n    public class Heart {\r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Id\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;bookReview_id&quot;)\r\n    private BookReview bookReview;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;member_id&quot;)\r\n    private Member member;\r\n\r\n\r\n\r\nand this is function for get menthod...\r\n\r\n        public ResponseDto&lt;?&gt; getHome() {\r\n        List&lt;BookReview&gt; book_review = book_reviewRepository.findAllByOrderByHeartDesc();\r\n        List&lt;HomeResponseDto&gt; book_reviewResponseDtoList = new ArrayList&lt;&gt;();\r\n\r\n        for (BookReview home : book_review) {\r\n            book_reviewResponseDtoList.add(HomeResponseDto.builder()\r\n                            .id(home.getId())\r\n                            .username(home.getMember().getUsername())\r\n                            .thumbnail(home.getThumbnail())\r\n                            .title(home.getTitle())\r\n                            .author(home.getAuthor())\r\n                            .publisher(home.getPublisher())\r\n                            .review(home.getReview())\r\n                            .heart(heartRepository.countHeartByBookReviewId(home.getId()))\r\n                            .createdAt(home.getCreatedAt())\r\n                            .modifiedAt(home.getModifiedAt())\r\n                            .build()\r\n                    );\r\n\r\n        }\r\n        return ResponseDto.success(book_reviewResponseDtoList);\r\n    }\r\n\r\nplease help me ......","title":"How to make JPA query method about onetomany?","body":"<p>I'm stuck at deal with this problem. I have 'Review Entity', and 'Heart Entitiy'. And I tried to show them homepage and detailpage separately!</p>\n<pre><code>Long countHeartByBookReviewId(Long bookReview_id);\n</code></pre>\n<p>i used jpa query method for showing how many heart it gets in details page..</p>\n<p>and now i want to show review descending related to heart count in main page!</p>\n<p>how can i make the code..?</p>\n<pre><code>@Entity\npublic class BookReview extends Timestamped {\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Id\nprivate Long id;\n\n...\n\n@Column\nprivate String review;\n\n@JoinColumn(name = &quot;member_id&quot;, nullable = false)\n@ManyToOne(fetch = FetchType.EAGER)\nprivate Member member;\n\n@OneToMany(mappedBy = &quot;bookReview&quot; , cascade = CascadeType.REMOVE)\nprivate List&lt;Comment&gt; comment;\n\n@JsonIgnore\n@OneToMany(mappedBy = &quot;bookReview&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;Heart&gt; heart;\n</code></pre>\n<p>and the other entitiy is here.</p>\n<pre><code>public class Heart {\n\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Id\nprivate Long id;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;bookReview_id&quot;)\nprivate BookReview bookReview;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;member_id&quot;)\nprivate Member member;\n</code></pre>\n<p>and this is function for get menthod...</p>\n<pre><code>    public ResponseDto&lt;?&gt; getHome() {\n    List&lt;BookReview&gt; book_review = book_reviewRepository.findAllByOrderByHeartDesc();\n    List&lt;HomeResponseDto&gt; book_reviewResponseDtoList = new ArrayList&lt;&gt;();\n\n    for (BookReview home : book_review) {\n        book_reviewResponseDtoList.add(HomeResponseDto.builder()\n                        .id(home.getId())\n                        .username(home.getMember().getUsername())\n                        .thumbnail(home.getThumbnail())\n                        .title(home.getTitle())\n                        .author(home.getAuthor())\n                        .publisher(home.getPublisher())\n                        .review(home.getReview())\n                        .heart(heartRepository.countHeartByBookReviewId(home.getId()))\n                        .createdAt(home.getCreatedAt())\n                        .modifiedAt(home.getModifiedAt())\n                        .build()\n                );\n\n    }\n    return ResponseDto.success(book_reviewResponseDtoList);\n}\n</code></pre>\n<p>please help me ......</p>\n"},{"tags":["java","spring-boot","command-line","resourcebundle"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1662543502,"post_id":73632400,"comment_id":130027911,"body_markdown":"Spring Boot is perfectly capable of loading files outside the classpath, you don&#39;t need to shoehorn that in yoruself.","body":"Spring Boot is perfectly capable of loading files outside the classpath, you don&#39;t need to shoehorn that in yoruself."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662549344,"post_id":73632400,"comment_id":130030137,"body_markdown":"I would just use ```FileInputStream```  to load the config","body":"I would just use <code>FileInputStream</code>  to load the config"},{"owner":{"account_id":3879162,"reputation":1541,"user_id":3212246,"accept_rate":41,"display_name":"dissidia"},"score":0,"creation_date":1662605795,"post_id":73632400,"comment_id":130046094,"body_markdown":"Yes I am aware of spring able to ingest external files, however I keep hitting into issues of the ResourceBundle. Mind if I ask if there are any examples for it?","body":"Yes I am aware of spring able to ingest external files, however I keep hitting into issues of the ResourceBundle. Mind if I ask if there are any examples for it?"}],"owner":{"account_id":3879162,"reputation":1541,"user_id":3212246,"accept_rate":41,"display_name":"dissidia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662539785,"creation_date":1662539785,"question_id":73632400,"body_markdown":"I am trying to access external configuration files in which my command line are as follows:\r\n\r\n    java -jar myApp.jar --spring.config.name=myConfig --spring.config.location=&quot;file:///C:\\\\Desktop\\\\myConfigs\\\\&quot;\r\n\r\nWithin my code, this `myConfig.properties` is accessed using `ResourceBundle.getBundle(&#39;myConfig&#39;)` and `.getString(&quot;tbl.person&quot;)`. And having removed the file before I generated the .jar file, whenever I executed the above code, I am getting following error:\r\n\r\n    java.util.MissingResourceException: Can&#39;t find bundle for base name myConfig, locale en_SG\r\n        at java.util.ResourceBundle.throwMissingResourceExcepton(Unknown Source)\r\n\r\nSnippet of myConfig.properties file:\r\n\r\n    tbl.person=Person\r\n    tbl.address=Address\r\n\r\nI have tried `System.getProperty()` but to no avail results. \r\n\r\nAppreciate in advance for any replies.\r\n\r\nP.S: One of the reason I am calling this config file externally is because in the event if I needed to add in more info, there is no need for me to re-generate the .jar file all over again","title":"How to use external configuration file as a resource bundle?","body":"<p>I am trying to access external configuration files in which my command line are as follows:</p>\n<pre><code>java -jar myApp.jar --spring.config.name=myConfig --spring.config.location=&quot;file:///C:\\\\Desktop\\\\myConfigs\\\\&quot;\n</code></pre>\n<p>Within my code, this <code>myConfig.properties</code> is accessed using <code>ResourceBundle.getBundle('myConfig')</code> and <code>.getString(&quot;tbl.person&quot;)</code>. And having removed the file before I generated the .jar file, whenever I executed the above code, I am getting following error:</p>\n<pre><code>java.util.MissingResourceException: Can't find bundle for base name myConfig, locale en_SG\n    at java.util.ResourceBundle.throwMissingResourceExcepton(Unknown Source)\n</code></pre>\n<p>Snippet of myConfig.properties file:</p>\n<pre><code>tbl.person=Person\ntbl.address=Address\n</code></pre>\n<p>I have tried <code>System.getProperty()</code> but to no avail results.</p>\n<p>Appreciate in advance for any replies.</p>\n<p>P.S: One of the reason I am calling this config file externally is because in the event if I needed to add in more info, there is no need for me to re-generate the .jar file all over again</p>\n"},{"tags":["java","scala","format","decimal","decimalformat"],"comments":[{"owner":{"account_id":4600015,"reputation":1918,"user_id":3731029,"display_name":"ahoxha"},"score":0,"creation_date":1575280311,"post_id":59135286,"comment_id":104499843,"body_markdown":"Are you trying to format the string in Java or Scala? In Java, you can just pass `Locale.US` and it will always format doubles with a comma. For example `String.format(Locale.US, &quot;%f&quot;, d);`.","body":"Are you trying to format the string in Java or Scala? In Java, you can just pass <code>Locale.US</code> and it will always format doubles with a comma. For example <code>String.format(Locale.US, &quot;%f&quot;, d);</code>."},{"owner":{"account_id":2198326,"reputation":2976,"user_id":1943432,"accept_rate":9,"display_name":"Rolintocour"},"score":0,"creation_date":1575281928,"post_id":59135286,"comment_id":104500706,"body_markdown":"On my Mac, `String.format(Locale.US, &quot;%f&quot;, 0.55);` results in `res1: String = 0.550000` - there is no coma","body":"On my Mac, <code>String.format(Locale.US, &quot;%f&quot;, 0.55);</code> results in <code>res1: String = 0.550000</code> - there is no coma"},{"owner":{"account_id":4600015,"reputation":1918,"user_id":3731029,"display_name":"ahoxha"},"score":2,"creation_date":1575282148,"post_id":59135286,"comment_id":104500833,"body_markdown":"If you pass `Locale.US` to the `format` method, it will use `.` on every computer. If you don&#39;t pass a locale then it will use the value of `Locale.getDefault()`, which depends on the default locale of each computer.","body":"If you pass <code>Locale.US</code> to the <code>format</code> method, it will use <code>.</code> on every computer. If you don&#39;t pass a locale then it will use the value of <code>Locale.getDefault()</code>, which depends on the default locale of each computer."}],"owner":{"account_id":2198326,"reputation":2976,"user_id":1943432,"accept_rate":9,"display_name":"Rolintocour"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662539596,"creation_date":1575276417,"question_id":59135286,"body_markdown":"Working on a scala project, I can&#39;t figure out what&#39;s happening.\r\n\r\nI have the following scala code:\r\n\r\n    val getUrl = (lat: Double, lon: Double, zoomLevel: Int) =&gt;\r\n      s&quot;reverse.php?format=json&amp;lat=%2f&amp;lon=%2f&amp;zoom=${zoomLevel}&quot;\r\n        .format(lat, lon)\r\n\r\n`formatLocal` is regular Java code.\r\n\r\nOn my compute, it prints something like `reverse.php?format=json&amp;lat=44.1234&amp;lon=5.6788&amp;zoom=10`.\r\n\r\nHowever, on one of our customer&#39;s computer (I can&#39;t run debug on it), it formats doubles with coma, like `reverse.php?format=json&amp;lat=44,1234&amp;lon=5,6788&amp;zoom=10`.\r\n\r\nI also tried \r\n\r\n    .formatLocal(Locale.ENGLISH, lat, lon)\r\n\r\nWith no success. However the following works as expected:\r\n\r\n      val DECIMAL_FORMATTER = new DecimalFormat(&quot;#.######&quot;)\r\n      s&quot;reverse.php?format=json&amp;lat=${DECIMAL_FORMATTER.format(lat)}&amp;lon=${DECIMAL_FORMATTER\r\n      .format(lon)}&amp;zoom=${zoomLevel}&quot;\r\n\r\nBut I have to define the number of decimals, and I&#39;d prefer the String.format approach.\r\n\r\nDo you have any explanation of the behavior?\r\n\r\n\r\n","title":"Java: String format prints doubles with coma","body":"<p>Working on a scala project, I can't figure out what's happening.</p>\n\n<p>I have the following scala code:</p>\n\n<pre><code>val getUrl = (lat: Double, lon: Double, zoomLevel: Int) =&gt;\n  s\"reverse.php?format=json&amp;lat=%2f&amp;lon=%2f&amp;zoom=${zoomLevel}\"\n    .format(lat, lon)\n</code></pre>\n\n<p><code>formatLocal</code> is regular Java code.</p>\n\n<p>On my compute, it prints something like <code>reverse.php?format=json&amp;lat=44.1234&amp;lon=5.6788&amp;zoom=10</code>.</p>\n\n<p>However, on one of our customer's computer (I can't run debug on it), it formats doubles with coma, like <code>reverse.php?format=json&amp;lat=44,1234&amp;lon=5,6788&amp;zoom=10</code>.</p>\n\n<p>I also tried </p>\n\n<pre><code>.formatLocal(Locale.ENGLISH, lat, lon)\n</code></pre>\n\n<p>With no success. However the following works as expected:</p>\n\n<pre><code>  val DECIMAL_FORMATTER = new DecimalFormat(\"#.######\")\n  s\"reverse.php?format=json&amp;lat=${DECIMAL_FORMATTER.format(lat)}&amp;lon=${DECIMAL_FORMATTER\n  .format(lon)}&amp;zoom=${zoomLevel}\"\n</code></pre>\n\n<p>But I have to define the number of decimals, and I'd prefer the String.format approach.</p>\n\n<p>Do you have any explanation of the behavior?</p>\n"},{"tags":["java","eclipse","eclipse-jdt"],"answers":[{"tags":[],"owner":{"account_id":392415,"reputation":7913,"user_id":753663,"display_name":"Deepak Azad"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1349452385,"creation_date":1320334002,"answer_id":7997482,"question_id":7920465,"body_markdown":"Try ASTView plugin ([http://www.eclipse.org/jdt/ui/astview/index.php][1]), this helps to visualize the AST of a source file and also helps to figure out which nodes to visit.\r\n\r\nYou would probably want to override the following in ASTVisitor\r\n\r\n - visit(MarkerAnnotation annotation)\r\n - visit(SingleMemberAnnotation annotation)       \r\n - visit(NormalAnnotation annotation)\r\n        \r\nOr you may visit only method declarations and get the annotations via MethodDeclaration.MODIFIERS2_PROPERTY.\r\n\r\n\r\n  [1]: http://www.eclipse.org/jdt/ui/astview/index.php","title":"Check Annotations of Methods using eclipse JDT library","body":"<p>Try ASTView plugin (<a href=\"http://www.eclipse.org/jdt/ui/astview/index.php\" rel=\"noreferrer\">http://www.eclipse.org/jdt/ui/astview/index.php</a>), this helps to visualize the AST of a source file and also helps to figure out which nodes to visit.</p>\n\n<p>You would probably want to override the following in ASTVisitor</p>\n\n<ul>\n<li>visit(MarkerAnnotation annotation)</li>\n<li>visit(SingleMemberAnnotation annotation)       </li>\n<li>visit(NormalAnnotation annotation)</li>\n</ul>\n\n<p>Or you may visit only method declarations and get the annotations via MethodDeclaration.MODIFIERS2_PROPERTY.</p>\n"},{"tags":[],"owner":{"account_id":22868824,"reputation":1,"user_id":17012160,"display_name":"YouHuazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662539332,"creation_date":1662539332,"answer_id":73632307,"question_id":7920465,"body_markdown":"I got the annotations successfully by using ***MethodDeclaration.modifiers()*** .\r\nhttps://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjdt%2Fcore%2Fdom%2FBodyDeclaration.html&amp;anchor=modifiers()\r\n\r\nI hope this will help you.","title":"Check Annotations of Methods using eclipse JDT library","body":"<p>I got the annotations successfully by using <em><strong>MethodDeclaration.modifiers()</strong></em> .\n<a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjdt%2Fcore%2Fdom%2FBodyDeclaration.html&amp;anchor=modifiers()\" rel=\"nofollow noreferrer\">https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjdt%2Fcore%2Fdom%2FBodyDeclaration.html&amp;anchor=modifiers()</a></p>\n<p>I hope this will help you.</p>\n"}],"owner":{"account_id":5749,"reputation":17544,"user_id":9425,"accept_rate":80,"display_name":"Midhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1741,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":7997482,"answer_count":2,"score":3,"last_activity_date":1662539332,"creation_date":1319739648,"question_id":7920465,"body_markdown":"I am building a prototype of a static analysis tool, for which I intend to use eclipse to do the heavy lifting. How can I check what annotations are applied on a method when I visit the declaration using the ASTVisitor. I am interested in only certain methods of the class under analysis, and I am thinking of marking them using annotations","title":"Check Annotations of Methods using eclipse JDT library","body":"<p>I am building a prototype of a static analysis tool, for which I intend to use eclipse to do the heavy lifting. How can I check what annotations are applied on a method when I visit the declaration using the ASTVisitor. I am interested in only certain methods of the class under analysis, and I am thinking of marking them using annotations</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1631115062,"post_id":69105565,"comment_id":122138159,"body_markdown":"Given that HttpStatus 500 is Server error, the best way to handle this is to fix whatever is causing the exception in the first place. And for anyone to help, you will need to provide the code that is causing the error as well as the trace of it.","body":"Given that HttpStatus 500 is Server error, the best way to handle this is to fix whatever is causing the exception in the first place. And for anyone to help, you will need to provide the code that is causing the error as well as the trace of it."},{"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"score":0,"creation_date":1631115567,"post_id":69105565,"comment_id":122138372,"body_markdown":"This answer may will help you https://stackoverflow.com/questions/22946549/javax-validation-constraintviolationexception","body":"This answer may will help you <a href=\"https://stackoverflow.com/questions/22946549/javax-validation-constraintviolationexception\" title=\"javax validation constraintviolationexception\">stackoverflow.com/questions/22946549/&hellip;</a>"},{"owner":{"account_id":22693280,"reputation":11,"user_id":16861865,"display_name":"ban29"},"score":0,"creation_date":1631115584,"post_id":69105565,"comment_id":122138379,"body_markdown":"The main cause for the 500 response is invalid data input.\nBut now I am handling this error at the controller level where I am sending the request parameters that has to be validated.( I am not sure if it is a good practise).But now want the response as json error response not simply a text","body":"The main cause for the 500 response is invalid data input. But now I am handling this error at the controller level where I am sending the request parameters that has to be validated.( I am not sure if it is a good practise).But now want the response as json error response not simply a text"},{"owner":{"account_id":11337137,"reputation":838,"user_id":8312604,"display_name":"Alexandr Arhipov"},"score":1,"creation_date":1631116221,"post_id":69105565,"comment_id":122138670,"body_markdown":"change ResponseEntity&lt;String&gt; to ResponseEntity&lt;YourResponseObject&gt; and put the object with any fields you want instead of  &quot;&quot;not valid due to validation error: &quot; + e.getMessage()&quot;, than the object will be automatically converted to json","body":"change ResponseEntity&lt;String&gt; to ResponseEntity&lt;YourResponseObject&gt; and put the object with any fields you want instead of  &quot;&quot;not valid due to validation error: &quot; + e.getMessage()&quot;, than the object will be automatically converted to json"},{"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"score":0,"creation_date":1631154181,"post_id":69105565,"comment_id":122148457,"body_markdown":"Well you can always use `@ControllerAdvice` to cover up your exception, yet I found it better investigate what cause this issue in the first place. Who knows may be you are doing it wrong!","body":"Well you can always use <code>@ControllerAdvice</code> to cover up your exception, yet I found it better investigate what cause this issue in the first place. Who knows may be you are doing it wrong!"}],"answers":[{"tags":[],"owner":{"account_id":22690714,"reputation":45,"user_id":16859675,"display_name":"Kais Neffati"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1631115683,"creation_date":1631115326,"answer_id":69105947,"question_id":69105565,"body_markdown":"500 is a server problem. It means your server encounter a problem while executing the code. Specifically it&#39;s **ConstraintViolationException** which means you have a  constraint when inserting your data in the database.\r\n\r\nExample :\r\nImagine we have an entity that has a unique field\r\n\r\n    @Entity\r\n    user {\r\n       UUID id;\r\n       @column\r\n       String name;\r\n    }\r\n\r\nand when creating the entity you have made a uniquness contrainte in database :\r\n\r\n    ALTER TABLE USER\r\n    ADD CONSTRAINT UC_name UNIQUE (name);\r\n\r\nHere if you try to insert two user with the same name you would receive a `ConstraintViolationException`\r\n","title":"handling the javax.validation.ConstraintViolationException in spring boot","body":"<p>500 is a server problem. It means your server encounter a problem while executing the code. Specifically it's <strong>ConstraintViolationException</strong> which means you have a  constraint when inserting your data in the database.</p>\n<p>Example :\nImagine we have an entity that has a unique field</p>\n<pre><code>@Entity\nuser {\n   UUID id;\n   @column\n   String name;\n}\n</code></pre>\n<p>and when creating the entity you have made a uniquness contrainte in database :</p>\n<pre><code>ALTER TABLE USER\nADD CONSTRAINT UC_name UNIQUE (name);\n</code></pre>\n<p>Here if you try to insert two user with the same name you would receive a <code>ConstraintViolationException</code></p>\n"},{"tags":[],"owner":{"account_id":13602784,"reputation":31,"user_id":9812954,"display_name":"Alvaro Berrocal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631139618,"creation_date":1631139618,"answer_id":69110257,"question_id":69105565,"body_markdown":"You can use `@ControllerAdvice`. It&#39;s a special component to handle error across the hole application. Here I show you a example:\r\n\r\n    @ControllerAdvice\r\n    public class CustomErrorHandler{\r\n    \r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)  \r\n        @ExceptionHandler(ConstraintViolationException.class)\r\n        public ResponseEntity&lt;String&gt; handleContraintViolationException() {\r\n            // Your custom response\r\n        }\r\n    }\r\n\r\nThe pro is that you have a different class that handle the exceptions in all the application.","title":"handling the javax.validation.ConstraintViolationException in spring boot","body":"<p>You can use <code>@ControllerAdvice</code>. It's a special component to handle error across the hole application. Here I show you a example:</p>\n<pre><code>@ControllerAdvice\npublic class CustomErrorHandler{\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)  \n    @ExceptionHandler(ConstraintViolationException.class)\n    public ResponseEntity&lt;String&gt; handleContraintViolationException() {\n        // Your custom response\n    }\n}\n</code></pre>\n<p>The pro is that you have a different class that handle the exceptions in all the application.</p>\n"},{"tags":[],"owner":{"account_id":21910001,"reputation":247,"user_id":16194563,"display_name":"Ramya Musunuru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662539049,"creation_date":1662538713,"answer_id":73632187,"question_id":69105565,"body_markdown":"Each of such exceptions must be handled separately like below\r\n\r\n    @RestControllerAdvice\r\n    public class RestExceptionHandler extends ResponseEntityExceptionHandler {\r\n      \r\n        @ExceptionHandler ({ConstraintViolationException.class})\r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        protected ResponseEntity&lt;Object&gt; handleConstraintViolationException(\r\n                ConstraintViolationException e) {\r\n            return new ResponseEntity&lt;&gt;(new JsonErrorResponse(e.getMessage()), HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\nIf you want to create your own response object then u can use the below way in the RestExceptionHandler class.\r\n\r\n    @Override\r\n        protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\r\n                HttpMessageNotReadableException e, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n    \r\n            return new ResponseEntity&lt;&gt;(new CustomErrorResponse(e.getMessage()), HttpStatus.BAD_REQUEST);\r\n    \r\n        }\r\n    \r\n    private class CustomErrorResponse {\r\n            String message;\r\n    \r\n            public CustomErrorResponse() {\r\n            }\r\n    \r\n            public CustomErrorResponse(String message) {\r\n                super();\r\n                this.message = message;\r\n            }\r\n    \r\n            public String getMessage() {\r\n                return message;\r\n            }\r\n    \r\n            public void setMessage(String message) {\r\n                this.message = message;\r\n            }\r\n        }","title":"handling the javax.validation.ConstraintViolationException in spring boot","body":"<p>Each of such exceptions must be handled separately like below</p>\n<pre><code>@RestControllerAdvice\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler {\n  \n    @ExceptionHandler ({ConstraintViolationException.class})\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    protected ResponseEntity&lt;Object&gt; handleConstraintViolationException(\n            ConstraintViolationException e) {\n        return new ResponseEntity&lt;&gt;(new JsonErrorResponse(e.getMessage()), HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n<p>If you want to create your own response object then u can use the below way in the RestExceptionHandler class.</p>\n<pre><code>@Override\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\n            HttpMessageNotReadableException e, HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n        return new ResponseEntity&lt;&gt;(new CustomErrorResponse(e.getMessage()), HttpStatus.BAD_REQUEST);\n\n    }\n\nprivate class CustomErrorResponse {\n        String message;\n\n        public CustomErrorResponse() {\n        }\n\n        public CustomErrorResponse(String message) {\n            super();\n            this.message = message;\n        }\n\n        public String getMessage() {\n            return message;\n        }\n\n        public void setMessage(String message) {\n            this.message = message;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":22693280,"reputation":11,"user_id":16861865,"display_name":"ban29"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11914,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1662539049,"creation_date":1631113773,"question_id":69105565,"body_markdown":"Hi I am new to spring boot.when I try submit the request from the postman it is returning **org.springframework.transaction.TransactionSystemException** with **HttpStatus code : 500** if invalid it throwing the  **javax.validation.ConstraintViolationException** in the server.\r\nCan any one share the best solution to handle these exceptions?\r\nI tried in controller with the below code:\r\n \r\n\r\n    @ExceptionHandler(ConstraintViolationException.class)\r\n      @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n      ResponseEntity&lt;String&gt; handleConstraintViolationException(ConstraintViolationException e) {\r\n        return new ResponseEntity&lt;&gt;(&quot;not valid due to validation error: &quot; + e.getMessage(), HttpStatus.BAD_REQUEST);\r\n      }\r\n\r\nBut I want the response to be send in Json format with customized error message How can I achieve it ?\r\n\r\nAnd also wanted to avoid the exception handling code in the controller.Is there any better way?\r\n","title":"handling the javax.validation.ConstraintViolationException in spring boot","body":"<p>Hi I am new to spring boot.when I try submit the request from the postman it is returning <strong>org.springframework.transaction.TransactionSystemException</strong> with <strong>HttpStatus code : 500</strong> if invalid it throwing the  <strong>javax.validation.ConstraintViolationException</strong> in the server.\nCan any one share the best solution to handle these exceptions?\nI tried in controller with the below code:</p>\n<pre><code>@ExceptionHandler(ConstraintViolationException.class)\n  @ResponseStatus(HttpStatus.BAD_REQUEST)\n  ResponseEntity&lt;String&gt; handleConstraintViolationException(ConstraintViolationException e) {\n    return new ResponseEntity&lt;&gt;(&quot;not valid due to validation error: &quot; + e.getMessage(), HttpStatus.BAD_REQUEST);\n  }\n</code></pre>\n<p>But I want the response to be send in Json format with customized error message How can I achieve it ?</p>\n<p>And also wanted to avoid the exception handling code in the controller.Is there any better way?</p>\n"},{"tags":["java","android","audio","signal-processing","fft"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1662513853,"post_id":73629142,"comment_id":130020827,"body_markdown":"Usually, if you&#39;re running a FFT on a 2D noise like a texture, you&#39;ll get a 2D output.  The center of the output is &quot;DC&quot; or zero-frequency noise, and as pixels move away from the center it represents increasing frequency.  I think we&#39;d need to see how you&#39;ve configured the software to tell you how much step each pixel represents.  Can you share the code, the input, and the output, the latter two I think would be best as images.","body":"Usually, if you&#39;re running a FFT on a 2D noise like a texture, you&#39;ll get a 2D output.  The center of the output is &quot;DC&quot; or zero-frequency noise, and as pixels move away from the center it represents increasing frequency.  I think we&#39;d need to see how you&#39;ve configured the software to tell you how much step each pixel represents.  Can you share the code, the input, and the output, the latter two I think would be best as images."},{"owner":{"account_id":16011257,"reputation":11,"user_id":13549547,"display_name":"jose_rullva"},"score":0,"creation_date":1662515419,"post_id":73629142,"comment_id":130021087,"body_markdown":"I have just edited the question with the code and some new observations I have made.","body":"I have just edited the question with the code and some new observations I have made."},{"owner":{"account_id":92315,"reputation":209757,"user_id":253056,"accept_rate":88,"display_name":"Paul R"},"score":0,"creation_date":1662538862,"post_id":73629142,"comment_id":130026132,"body_markdown":"Search the [fft] tag here on StackOverflow - there are lots of answers which over this, e.g. https://stackoverflow.com/a/4678313/253056","body":"Search the [fft] tag here on StackOverflow - there are lots of answers which over this, e.g. <a href=\"https://stackoverflow.com/a/4678313/253056\">stackoverflow.com/a/4678313/253056</a>"}],"answers":[{"tags":[],"owner":{"account_id":13633187,"reputation":11,"user_id":9834835,"display_name":"Ran Ramirez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662523470,"creation_date":1662523470,"answer_id":73630017,"question_id":73629142,"body_markdown":"I believe that the answer to your question is here if I understand it correctly https://stackoverflow.com/a/4371627/9834835\r\n\r\nTo determine the frequency for each FFT bin you may use the formula\r\n\r\nF = i * sample / nFFt\r\n```\r\nwhere:\r\n   i = the FFT index\r\n   sample = the sample rate\r\n   nFft = your FFT size","title":"How to interpret output from FFT on Noise library","body":"<p>I believe that the answer to your question is here if I understand it correctly <a href=\"https://stackoverflow.com/a/4371627/9834835\">https://stackoverflow.com/a/4371627/9834835</a></p>\n<p>To determine the frequency for each FFT bin you may use the formula</p>\n<p>F = i * sample / nFFt</p>\n<pre><code>where:\n   i = the FFT index\n   sample = the sample rate\n   nFft = your FFT size\n</code></pre>\n"}],"owner":{"account_id":16011257,"reputation":11,"user_id":13549547,"display_name":"jose_rullva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662538789,"creation_date":1662513575,"question_id":73629142,"body_markdown":"I&#39;m trying to get the most representative frequency (or first harmonic) from an audio file using the Noise FFT library (https://github.com/paramsen/noise). I have an array with the values of size x and the output array&#39;s size is x+2. I&#39;m not familiar with Fourier Transform, so maybe I&#39;m missing something, but from my understanding I should have something that represents the frequencies and stores the magnitude (or in this case a complex number from with to calculate it) of each one.\r\n\r\nThe thing is: since each position in the array should be a frequency, how can I know the range of the output frequencies, what frequency is each position or something like that?\r\n\r\n**Edit:** This is part of the code I&#39;m using\r\n\r\n```java\r\nfloat[] mono = new float[size];\r\n// I fill the array with the appropiate values\r\n\r\nNoise noise = Noise.real(size);\r\nfloat[] dst = new float[size + 2];\r\nfloat[] fft = noise.fft(mono, dst);\r\n    \r\n// The result array has the pairs of real+imaginary floats in a one dimensional array; even indices\r\n// are real, odd indices are imaginary. DC bin is located at index 0, 1, nyquist at index n-2, n-1\r\n\r\ndouble greatest = 0;\r\nint greatestIdx = 0;\r\nfor(int i = 0; i &lt; fft.length / 2; i++) {\r\n    float real = fft[i * 2];\r\n    float imaginary = fft[i * 2 + 1];\r\n    double magnitude = Math.sqrt(real*real+imaginary*imaginary);\r\n    if (magnitude &gt; greatest) {\r\n        greatest = magnitude;\r\n        greatestIdx = i;\r\n    }\r\n    System.out.printf(&quot;index: %d, real: %.5f, imaginary: %.5f\\n&quot;, i, real, imaginary);\r\n}\r\n```\r\n\r\nI just noticed something I had overlooked. When reading the comment just before the for loop (which is from the sample code provided in GitHub) it says that nyquist is located at the last pair of values of the array. From what I searched, nyquist is 22050Hz, so... To know the frequency corresponding to _greatestIdx_ I should map the range [0,size+2] to the range [0,22050] and calculate the new value? It seems like a pretty unprecise measure.\r\n\r\nTaking the prior things into account, maybe I should use another library for more precision? If that is the case, what would be one that let me specify the output frequency range or that gives me approximately the human hearing range by default?","title":"How to interpret output from FFT on Noise library","body":"<p>I'm trying to get the most representative frequency (or first harmonic) from an audio file using the Noise FFT library (<a href=\"https://github.com/paramsen/noise\" rel=\"nofollow noreferrer\">https://github.com/paramsen/noise</a>). I have an array with the values of size x and the output array's size is x+2. I'm not familiar with Fourier Transform, so maybe I'm missing something, but from my understanding I should have something that represents the frequencies and stores the magnitude (or in this case a complex number from with to calculate it) of each one.</p>\n<p>The thing is: since each position in the array should be a frequency, how can I know the range of the output frequencies, what frequency is each position or something like that?</p>\n<p><strong>Edit:</strong> This is part of the code I'm using</p>\n<pre class=\"lang-java prettyprint-override\"><code>float[] mono = new float[size];\n// I fill the array with the appropiate values\n\nNoise noise = Noise.real(size);\nfloat[] dst = new float[size + 2];\nfloat[] fft = noise.fft(mono, dst);\n    \n// The result array has the pairs of real+imaginary floats in a one dimensional array; even indices\n// are real, odd indices are imaginary. DC bin is located at index 0, 1, nyquist at index n-2, n-1\n\ndouble greatest = 0;\nint greatestIdx = 0;\nfor(int i = 0; i &lt; fft.length / 2; i++) {\n    float real = fft[i * 2];\n    float imaginary = fft[i * 2 + 1];\n    double magnitude = Math.sqrt(real*real+imaginary*imaginary);\n    if (magnitude &gt; greatest) {\n        greatest = magnitude;\n        greatestIdx = i;\n    }\n    System.out.printf(&quot;index: %d, real: %.5f, imaginary: %.5f\\n&quot;, i, real, imaginary);\n}\n</code></pre>\n<p>I just noticed something I had overlooked. When reading the comment just before the for loop (which is from the sample code provided in GitHub) it says that nyquist is located at the last pair of values of the array. From what I searched, nyquist is 22050Hz, so... To know the frequency corresponding to <em>greatestIdx</em> I should map the range [0,size+2] to the range [0,22050] and calculate the new value? It seems like a pretty unprecise measure.</p>\n<p>Taking the prior things into account, maybe I should use another library for more precision? If that is the case, what would be one that let me specify the output frequency range or that gives me approximately the human hearing range by default?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662479793,"post_id":73624524,"comment_id":130012897,"body_markdown":"Does this answer your question? [Replace the last occurrence of a string in another string](https://stackoverflow.com/questions/23325800/replace-the-last-occurrence-of-a-string-in-another-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23325800/replace-the-last-occurrence-of-a-string-in-another-string\">Replace the last occurrence of a string in another string</a>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662481311,"creation_date":1662481311,"answer_id":73625101,"question_id":73624524,"body_markdown":"Use a regex negative lookahead:\r\n\r\n    str = str.replaceAll(&quot;2(?!.*2)&quot;, &quot;0&quot;);\r\n\r\nRegex breakdown:\r\n\r\n - `2` a literal &quot;2&quot;\r\n - `(?!.*2)` a negative lookahead for a &quot;2&quot;, which in English means &quot;a 2 does not exist after this point in the input&quot;\r\n\r\n\r\n\r\n","title":"how I can do a replacement to an element in specific index without replace all the same elements in other index as a string in java","body":"<p>Use a regex negative lookahead:</p>\n<pre><code>str = str.replaceAll(&quot;2(?!.*2)&quot;, &quot;0&quot;);\n</code></pre>\n<p>Regex breakdown:</p>\n<ul>\n<li><code>2</code> a literal &quot;2&quot;</li>\n<li><code>(?!.*2)</code> a negative lookahead for a &quot;2&quot;, which in English means &quot;a 2 does not exist after this point in the input&quot;</li>\n</ul>\n"}],"owner":{"account_id":25900714,"reputation":11,"user_id":19626636,"display_name":"Aisha Qarout"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662538494,"creation_date":1662478208,"question_id":73624524,"body_markdown":"how I can  do a replacement to an element in specific index without replace all the same elements in other index as a string in java , like input a string &quot;22&quot; ,and you should make the last char be 0 , so if I did the built-in method , string.replace(oldchar,newchar) ,it&#39;ll replace the first 2 too , because I replaced a char to another , not index to another one ,so what the solution in java  ?! ","title":"how I can do a replacement to an element in specific index without replace all the same elements in other index as a string in java","body":"<p>how I can  do a replacement to an element in specific index without replace all the same elements in other index as a string in java , like input a string &quot;22&quot; ,and you should make the last char be 0 , so if I did the built-in method , string.replace(oldchar,newchar) ,it'll replace the first 2 too , because I replaced a char to another , not index to another one ,so what the solution in java  ?!</p>\n"},{"tags":["java","algorithm","data-structures","singly-linked-list"],"comments":[{"owner":{"account_id":4792116,"reputation":7079,"user_id":3871028,"display_name":"Ripi2"},"score":0,"creation_date":1662495072,"post_id":73626861,"comment_id":130017585,"body_markdown":"When working with list it&#39;s better to use pointers. Not using them means that `cur=node` makes a copy of  `node`, which is suboptimal for a list. Also you don&#39;t pass a pointer to `rearrange` which means all your changes to `node` are lost when the function exits. Perhaps you wnat to return a `Node` type, as you do in `reverselist`","body":"When working with list it&#39;s better to use pointers. Not using them means that <code>cur=node</code> makes a copy of  <code>node</code>, which is suboptimal for a list. Also you don&#39;t pass a pointer to <code>rearrange</code> which means all your changes to <code>node</code> are lost when the function exits. Perhaps you wnat to return a <code>Node</code> type, as you do in <code>reverselist</code>"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662503409,"creation_date":1662503409,"answer_id":73628345,"question_id":73626861,"body_markdown":"&gt; `curr` is point to `node` and when `curr.next=node1` it also create change in node but when `curr=curr.next` it does not make any changes in `node`\r\n\r\n\r\nThe only way to make a change to an object, is to assign somehow to *properties* of that object. This is what `curr.next=node1` does: it assigns something to an object&#39;s `next` property. \r\n\r\nOn the other hand, an assignment to a *variable* will never change an object. It merely changes the content of a variable. That is what `curr=curr.next` does.\r\n\r\nIt may help to visualise it. Let&#39;s say we have `node` after the first loop (in a list with just one node)\r\n\r\n```none\r\nnode\r\n \r\n\r\n data: 1     \r\n next: null  \r\n\r\n```\r\n\r\nThen `Node node1 = node;` creates a new reference to the same node:\r\n\r\n```none\r\nnode  node1\r\n      \r\n\r\n data: 1     \r\n next: null  \r\n\r\n```\r\n\r\nA bit later, we create a new node with `node = new Node(0);`:\r\n\r\n\r\n```none\r\nnode             node1\r\n                 \r\n   \r\n data: 0        data: 1    \r\n next: null     next: null  \r\n   \r\n```\r\n\r\nWhen `Node curr=node;` executes, we merely get a variable that references the same node as `node`:\r\n\r\n```none\r\nnode  curr       node1\r\n                \r\n   \r\n data: 0        data: 1    \r\n next: null     next: null  \r\n   \r\n```\r\n\r\nWhen `curr.next=node1` is executed, the `next` property of the object is set to reference the object that `node1` is referencing. So:\r\n\r\n```none\r\nnode  curr       node1\r\n                \r\n   \r\n data: 0        data: 1    \r\n next:  next: null  \r\n   \r\n```\r\n\r\nBut when `curr=curr.next` is executed, no object is mutated. This assigns to a *variable*, and that only affects that variable, not what it references:\r\n\r\n```none\r\nnode             curr  node1\r\n                      \r\n   \r\n data: 0        data: 1    \r\n next:  next: null  \r\n   \r\n```\r\n\r\nI hope this clarifies the difference.","title":"Why is a node not updated by setting curr pointer?","body":"<blockquote>\n<p><code>curr</code> is point to <code>node</code> and when <code>curr.next=node1</code> it also create change in node but when <code>curr=curr.next</code> it does not make any changes in <code>node</code></p>\n</blockquote>\n<p>The only way to make a change to an object, is to assign somehow to <em>properties</em> of that object. This is what <code>curr.next=node1</code> does: it assigns something to an object's <code>next</code> property.</p>\n<p>On the other hand, an assignment to a <em>variable</em> will never change an object. It merely changes the content of a variable. That is what <code>curr=curr.next</code> does.</p>\n<p>It may help to visualise it. Let's say we have <code>node</code> after the first loop (in a list with just one node)</p>\n<pre class=\"lang-none prettyprint-override\"><code>node\n \n\n data: 1     \n next: null  \n\n</code></pre>\n<p>Then <code>Node node1 = node;</code> creates a new reference to the same node:</p>\n<pre class=\"lang-none prettyprint-override\"><code>node  node1\n      \n\n data: 1     \n next: null  \n\n</code></pre>\n<p>A bit later, we create a new node with <code>node = new Node(0);</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>node             node1\n                 \n   \n data: 0        data: 1    \n next: null     next: null  \n   \n</code></pre>\n<p>When <code>Node curr=node;</code> executes, we merely get a variable that references the same node as <code>node</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>node  curr       node1\n                \n   \n data: 0        data: 1    \n next: null     next: null  \n   \n</code></pre>\n<p>When <code>curr.next=node1</code> is executed, the <code>next</code> property of the object is set to reference the object that <code>node1</code> is referencing. So:</p>\n<pre class=\"lang-none prettyprint-override\"><code>node  curr       node1\n                \n   \n data: 0        data: 1    \n next:  next: null  \n   \n</code></pre>\n<p>But when <code>curr=curr.next</code> is executed, no object is mutated. This assigns to a <em>variable</em>, and that only affects that variable, not what it references:</p>\n<pre class=\"lang-none prettyprint-override\"><code>node             curr  node1\n                      \n   \n data: 0        data: 1    \n next:  next: null  \n   \n</code></pre>\n<p>I hope this clarifies the difference.</p>\n"}],"owner":{"account_id":14182227,"reputation":13,"user_id":15997110,"display_name":"srinjay ayan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73628345,"answer_count":1,"score":0,"last_activity_date":1662538457,"creation_date":1662492198,"question_id":73626861,"body_markdown":"I am working with code that is to rearrange a linked list, such that nodes are taken from the front and back of the list in alternating fashion, and so convert a list of 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;6 to 1-&gt;6-&gt;2-&gt;5-&gt;3-&gt;4. \r\n\r\n\r\nThis is the code for rearranging a given linked list in-place:\r\n\r\n\r\n    class LinkedList {\r\n    \tstatic Node head; // head of the list\r\n    \r\n    \t/* Node Class */\r\n    \tstatic class Node {\r\n    \t\tint data;\r\n    \t\tNode next;\r\n    \t\t// Constructor to create a new node\r\n    \t\tNode(int d)\r\n    \t\t{\r\n    \t\t\tdata = d;\r\n    \t\t\tnext = null;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tvoid printlist(Node node)\r\n    \t{\r\n    \t\tif (node == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\twhile (node != null) {\r\n    \t\t\tSystem.out.print(node.data + &quot; -&gt; &quot;);\r\n    \t\t\tnode = node.next;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tNode reverselist(Node node)\r\n    \t{\r\n    \t\tNode prev = null, curr = node, next;\r\n    \t\twhile (curr != null) {\r\n    \t\t\tnext = curr.next;\r\n    \t\t\tcurr.next = prev;\r\n    \t\t\tprev = curr;\r\n    \t\t\tcurr = next;\r\n    \t\t}\r\n    \t\tnode = prev;\r\n    \t\treturn node;\r\n    \t}\r\n    \r\n    \tvoid rearrange(Node node)\r\n    \t{\r\n    \t\t// 1) Find the middle point using tortoise and hare\r\n    \t\t// method\r\n    \t\tNode slow = node, fast = slow.next;\r\n    \t\twhile (fast != null &amp;&amp; fast.next != null) {\r\n    \t\t\tslow = slow.next;\r\n    \t\t\tfast = fast.next.next;\r\n    \t\t}\r\n    \t\t// 2) Split the linked list in two halves\r\n    \t\t// node1, head of first half 1 -&gt; 2 -&gt; 3\r\n    \t\t// node2, head of second half 4 -&gt; 5\r\n    \t\tNode node1 = node;\r\n    \t\tNode node2 = slow.next;\r\n    \t\tslow.next = null;\r\n    \t\t// 3) Reverse the second half, i.e., 5 -&gt; 4\r\n    \t\tnode2 = reverselist(node2);\r\n    \t\t// 4) Merge alternate nodes\r\n    \t\tnode = new Node(0); // Assign dummy Node\r\n    \t\t// curr is the pointer to this dummy Node, which\r\n    \t\t// will be used to form the new list\r\n    \t\tNode curr=node;\r\n    \t\twhile (node1 != null || node2 != null) {\r\n    \t\t\t// First add the element from first list\r\n    \t\t\tif (node1 != null) {\r\n    \t\t\t\tcurr.next = node1;\r\n    \t\t\t\tcurr = curr.next;\r\n    \t\t\t\tnode1 = node1.next;\r\n    \t\t\t}\r\n    \t\t\t// Then add the element from second list\r\n    \t\t\tif (node2 != null) {\r\n    \t\t\t\tcurr.next = node2;\r\n    \t\t\t\tcurr = curr.next;\r\n    \t\t\t\tnode2 = node2.next;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t// Assign the head of the new list to head pointer\r\n    \t\tnode = node.next;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tLinkedList list = new LinkedList();\r\n    \t\tlist.head = new Node(1);\r\n    \t\tlist.head.next = new Node(2);\r\n    \t\tlist.head.next.next = new Node(3);\r\n    \t\tlist.head.next.next.next = new Node(4);\r\n    \t\tlist.head.next.next.next.next = new Node(5);\r\n    \t\tlist.head.next.next.next.next.next = new Node(6);\r\n    \t\tlist.printlist(head); // print original list\r\n    \t\tlist.rearrange(head); // rearrange list as per ques\r\n    \t\tSystem.out.println(&quot;&quot;);\r\n    \t\tlist.printlist(head); // print modified list\r\n    \t}\r\n    }\r\n\r\nMy question is about this section of the code:\r\n\r\n    Node curr=node;\r\n\twhile (node1 != null || node2 != null) {\r\n\t\t// First add the element from first list\r\n\t\tif (node1 != null) {\r\n\t\t\tcurr.next = node1;\r\n\t\t\tcurr = curr.next;\r\n\t\t\tnode1 = node1.next;\r\n\t\t}\r\n\t\t// Then add the element from second list\r\n\t\tif (node2 != null) {\r\n\t\t\tcurr.next = node2;\r\n\t\t\tcurr = curr.next;\r\n\t\t\tnode2 = node2.next;\r\n\t\t}\r\n\t}\r\n\r\n\r\nI debugged this in VScode, and I see that when `curr` is pointing to `node` the statement `curr.next=node1` creates a change in `node`. But when doing `curr=curr.next` no changes are made to `node`. Why is that happening?\r\n\r\n","title":"Why is a node not updated by setting curr pointer?","body":"<p>I am working with code that is to rearrange a linked list, such that nodes are taken from the front and back of the list in alternating fashion, and so convert a list of 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;6 to 1-&gt;6-&gt;2-&gt;5-&gt;3-&gt;4.</p>\n<p>This is the code for rearranging a given linked list in-place:</p>\n<pre><code>class LinkedList {\n    static Node head; // head of the list\n\n    /* Node Class */\n    static class Node {\n        int data;\n        Node next;\n        // Constructor to create a new node\n        Node(int d)\n        {\n            data = d;\n            next = null;\n        }\n    }\n\n    void printlist(Node node)\n    {\n        if (node == null) {\n            return;\n        }\n        while (node != null) {\n            System.out.print(node.data + &quot; -&gt; &quot;);\n            node = node.next;\n        }\n    }\n\n    Node reverselist(Node node)\n    {\n        Node prev = null, curr = node, next;\n        while (curr != null) {\n            next = curr.next;\n            curr.next = prev;\n            prev = curr;\n            curr = next;\n        }\n        node = prev;\n        return node;\n    }\n\n    void rearrange(Node node)\n    {\n        // 1) Find the middle point using tortoise and hare\n        // method\n        Node slow = node, fast = slow.next;\n        while (fast != null &amp;&amp; fast.next != null) {\n            slow = slow.next;\n            fast = fast.next.next;\n        }\n        // 2) Split the linked list in two halves\n        // node1, head of first half 1 -&gt; 2 -&gt; 3\n        // node2, head of second half 4 -&gt; 5\n        Node node1 = node;\n        Node node2 = slow.next;\n        slow.next = null;\n        // 3) Reverse the second half, i.e., 5 -&gt; 4\n        node2 = reverselist(node2);\n        // 4) Merge alternate nodes\n        node = new Node(0); // Assign dummy Node\n        // curr is the pointer to this dummy Node, which\n        // will be used to form the new list\n        Node curr=node;\n        while (node1 != null || node2 != null) {\n            // First add the element from first list\n            if (node1 != null) {\n                curr.next = node1;\n                curr = curr.next;\n                node1 = node1.next;\n            }\n            // Then add the element from second list\n            if (node2 != null) {\n                curr.next = node2;\n                curr = curr.next;\n                node2 = node2.next;\n            }\n        }\n        // Assign the head of the new list to head pointer\n        node = node.next;\n    }\n\n    public static void main(String[] args)\n    {\n        LinkedList list = new LinkedList();\n        list.head = new Node(1);\n        list.head.next = new Node(2);\n        list.head.next.next = new Node(3);\n        list.head.next.next.next = new Node(4);\n        list.head.next.next.next.next = new Node(5);\n        list.head.next.next.next.next.next = new Node(6);\n        list.printlist(head); // print original list\n        list.rearrange(head); // rearrange list as per ques\n        System.out.println(&quot;&quot;);\n        list.printlist(head); // print modified list\n    }\n}\n</code></pre>\n<p>My question is about this section of the code:</p>\n<pre><code>Node curr=node;\nwhile (node1 != null || node2 != null) {\n    // First add the element from first list\n    if (node1 != null) {\n        curr.next = node1;\n        curr = curr.next;\n        node1 = node1.next;\n    }\n    // Then add the element from second list\n    if (node2 != null) {\n        curr.next = node2;\n        curr = curr.next;\n        node2 = node2.next;\n    }\n}\n</code></pre>\n<p>I debugged this in VScode, and I see that when <code>curr</code> is pointing to <code>node</code> the statement <code>curr.next=node1</code> creates a change in <code>node</code>. But when doing <code>curr=curr.next</code> no changes are made to <code>node</code>. Why is that happening?</p>\n"},{"tags":["java","api","rest","jdbc"],"answers":[{"tags":[],"owner":{"account_id":17015410,"reputation":66,"user_id":12309434,"display_name":"shuja ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662532320,"creation_date":1662532320,"answer_id":73631016,"question_id":73630872,"body_markdown":"Try actual column names in your SQL query.\r\nInstead of this:\r\n\r\n    SELECT * FROM PERSON ORDER BY EMAIL\r\n\r\nTry this:\r\n\r\n    SELECT PERSONID, EMAIL, PASSWORD,... FROM PERSON ORDER BY EMAIL\r\n\r\n","title":"Java REST API Getting Error when sending GET Request, but works on POST","body":"<p>Try actual column names in your SQL query.\nInstead of this:</p>\n<pre><code>SELECT * FROM PERSON ORDER BY EMAIL\n</code></pre>\n<p>Try this:</p>\n<pre><code>SELECT PERSONID, EMAIL, PASSWORD,... FROM PERSON ORDER BY EMAIL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662538101,"creation_date":1662534726,"answer_id":73631423,"question_id":73630872,"body_markdown":"\r\nYou should get the essence from your error outputs.\r\n\r\nIt relates lambda code inside a constructor INIT , \r\nno such method getPersons\r\n\r\nWITH the problem the code should have an exception wrapped around or added onto the constructor declaration start , supposedly at least for the get request code e.g. throws ServletException   and   UnavailableException\r\n\r\n\r\n\r\n    GET /api/user 500 Server Error\r\n    java.lang.reflect.UndeclaredThrowableException: null\r\n        at jdk.proxy2/jdk.proxy2.$Proxy16.getPersons(Unknown Source)\r\n        at module.PersonModule.lambda$new$41b6884b$1(PersonModule.java:23)\r\n    \r\n        path(&quot;/api/user&quot;, () -&gt; {\r\n                    get(&quot;&quot;, ctx -&gt; {\r\n                        return dao.getPersons();\r\n                    });\r\n                \r\n                \r\nThe following references an odd action you take of getting all the persons onto a Collection object with getPersons method , but you do nothing with it except return it i presume as &quot;**ctx**&quot; and unfortunately you did not actually say the type of object ctx is.\r\n\r\n\r\n    @Override\r\n    @SqlQuery(&quot;SELECT * FROM PERSON ORDER BY EMAIL&quot;)\r\n    @RegisterBeanMapper(Person.class)\r\n    public Collection&lt;Person&gt; getPersons();\r\n\r\n\r\nSomehow ALL the required constructor parameters for Person class are sent in a post , but in get no Person class is made in the code **which i find odd that it did not continue to throw errors** whether you gave it a no-arguments constructor as an abstract class has, but wonder if it is treated as an abstract class, the more normal way is to make a DTO Data Transfer Object template and  \r\n entity in between the DAO Data Access Object class with interfaces to call through.\r\nMoreover, the getPersons collection does not appear to have any use, so why the massive query retrieval.\r\n\r\n\r\n\r\n","title":"Java REST API Getting Error when sending GET Request, but works on POST","body":"<p>You should get the essence from your error outputs.</p>\n<p>It relates lambda code inside a constructor INIT ,\nno such method getPersons</p>\n<p>WITH the problem the code should have an exception wrapped around or added onto the constructor declaration start , supposedly at least for the get request code e.g. throws ServletException   and   UnavailableException</p>\n<pre><code>GET /api/user 500 Server Error\njava.lang.reflect.UndeclaredThrowableException: null\n    at jdk.proxy2/jdk.proxy2.$Proxy16.getPersons(Unknown Source)\n    at module.PersonModule.lambda$new$41b6884b$1(PersonModule.java:23)\n\n    path(&quot;/api/user&quot;, () -&gt; {\n                get(&quot;&quot;, ctx -&gt; {\n                    return dao.getPersons();\n                });\n            \n            \n</code></pre>\n<p>The following references an odd action you take of getting all the persons onto a Collection object with getPersons method , but you do nothing with it except return it i presume as &quot;<strong>ctx</strong>&quot; and unfortunately you did not actually say the type of object ctx is.</p>\n<pre><code>@Override\n@SqlQuery(&quot;SELECT * FROM PERSON ORDER BY EMAIL&quot;)\n@RegisterBeanMapper(Person.class)\npublic Collection&lt;Person&gt; getPersons();\n</code></pre>\n<p>Somehow ALL the required constructor parameters for Person class are sent in a post , but in get no Person class is made in the code <strong>which i find odd that it did not continue to throw errors</strong> whether you gave it a no-arguments constructor as an abstract class has, but wonder if it is treated as an abstract class, the more normal way is to make a DTO Data Transfer Object template and<br />\nentity in between the DAO Data Access Object class with interfaces to call through.\nMoreover, the getPersons collection does not appear to have any use, so why the massive query retrieval.</p>\n"},{"tags":[],"owner":{"account_id":15967138,"reputation":47,"user_id":11522389,"display_name":"othnuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662534776,"creation_date":1662534776,"answer_id":73631431,"question_id":73630872,"body_markdown":"I have found the issue,\r\n\r\nI the constructor in my Domain class seemed to  be the error, I fixed the error by adding an empty constructor in my Person.class above the current one\r\n\r\n```\r\npublic Person(){\r\n        \r\n    }\r\n\r\npublic Person(Integer personID, String email, String password, String firstName, String lastName, String phone, String mobile, String industry, String bio, Boolean active, String city,  String findOut, String role, String notes) {\r\n        this.personID = personID;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.phone = phone;\r\n        this.mobile = mobile;\r\n        this.industry = industry;\r\n        this.bio = bio;\r\n        this.city = city;\r\n        this.active = active;\r\n        this.findOut = findOut;\r\n        this.role = role;\r\n    }\r\n```\r\n\r\nNow it works fine. If anyone has an explanation for why this is I&#39;d love to know :)","title":"Java REST API Getting Error when sending GET Request, but works on POST","body":"<p>I have found the issue,</p>\n<p>I the constructor in my Domain class seemed to  be the error, I fixed the error by adding an empty constructor in my Person.class above the current one</p>\n<pre><code>public Person(){\n        \n    }\n\npublic Person(Integer personID, String email, String password, String firstName, String lastName, String phone, String mobile, String industry, String bio, Boolean active, String city,  String findOut, String role, String notes) {\n        this.personID = personID;\n        this.email = email;\n        this.password = password;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.phone = phone;\n        this.mobile = mobile;\n        this.industry = industry;\n        this.bio = bio;\n        this.city = city;\n        this.active = active;\n        this.findOut = findOut;\n        this.role = role;\n    }\n</code></pre>\n<p>Now it works fine. If anyone has an explanation for why this is I'd love to know :)</p>\n"}],"owner":{"account_id":15967138,"reputation":47,"user_id":11522389,"display_name":"othnuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73631431,"answer_count":3,"score":1,"last_activity_date":1662538101,"creation_date":1662531513,"question_id":73630872,"body_markdown":"I have a REST API linked with a Java app that is connected to a database using JDBC that I am currently testing through the Swagger UI.\r\n\r\nSending post Requests work completely fine, and sending GET requests when the table for a given type is empty also seems to return a normal response, however once I send a GET request when there is data in the table, I get the following error.\r\n\r\n```\r\nGET /api/user 500 Server Error\r\njava.lang.reflect.UndeclaredThrowableException: null\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy16.getPersons(Unknown Source)\r\n\tat module.PersonModule.lambda$new$41b6884b$1(PersonModule.java:23)\r\n\tat io.jooby.internal.handler.DefaultHandler.apply(DefaultHandler.java:23)\r\n\tat io.jooby.internal.handler.WorkerHandler.lambda$apply$0(WorkerHandler.java:23)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NoSuchMethodException: no such constructor: domain.Person.&lt;init&gt;()void/newInvokeSpecial\r\n\tat java.base/java.lang.invoke.MemberName.makeAccessException(MemberName.java:974)\r\n\tat java.base/java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:1117)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.resolveOrFail(MethodHandles.java:3649)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.findConstructor(MethodHandles.java:2750)\r\n\tat org.jdbi.v3.core.mapper.reflect.internal.BeanPropertiesFactory$BeanPojoProperties$PropertiesHolder.&lt;init&gt;(BeanPropertiesFactory.java:202)\r\n\tat org.jdbi.v3.core.config.JdbiCaches.lambda$declare$0(JdbiCaches.java:49)\r\n\tat org.jdbi.v3.core.config.JdbiCaches$1.lambda$get$1(JdbiCaches.java:63)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\r\n\tat org.jdbi.v3.core.config.JdbiCaches$1.get(JdbiCaches.java:63)\r\n\tat org.jdbi.v3.core.mapper.reflect.internal.BeanPropertiesFactory$BeanPojoProperties.getProperties(BeanPropertiesFactory.java:81)\r\n\tat org.jdbi.v3.core.mapper.reflect.internal.PojoMapper.specialize0(PojoMapper.java:99)\r\n\tat org.jdbi.v3.core.mapper.reflect.internal.PojoMapper.specialize(PojoMapper.java:80)\r\n\tat org.jdbi.v3.core.result.ResultSetResultIterator.&lt;init&gt;(ResultSetResultIterator.java:38)\r\n\tat org.jdbi.v3.core.result.ResultIterable.lambda$of$0(ResultIterable.java:54)\r\n\tat org.jdbi.v3.core.result.ResultIterable.stream(ResultIterable.java:228)\r\n\tat org.jdbi.v3.core.result.ResultIterable.collect(ResultIterable.java:284)\r\n\tat org.jdbi.v3.sqlobject.statement.internal.ResultReturner$CollectedResultReturner.mappedResult(ResultReturner.java:275)\r\n\tat org.jdbi.v3.sqlobject.statement.internal.SqlQueryHandler.lambda$configureReturner$0(SqlQueryHandler.java:61)\r\n\tat org.jdbi.v3.sqlobject.statement.internal.CustomizingStatementHandler.invoke(CustomizingStatementHandler.java:178)\r\n\tat org.jdbi.v3.sqlobject.statement.internal.SqlQueryHandler.invoke(SqlQueryHandler.java:27)\r\n\tat org.jdbi.v3.sqlobject.internal.SqlObjectInitData$1.lambda$invoke$0(SqlObjectInitData.java:132)\r\n\tat org.jdbi.v3.core.internal.Invocations.invokeWith(Invocations.java:44)\r\n\tat org.jdbi.v3.core.internal.Invocations.invokeWith(Invocations.java:26)\r\n\tat org.jdbi.v3.core.LazyHandleSupplier.lambda$invokeInContext$1(LazyHandleSupplier.java:77)\r\n\tat org.jdbi.v3.core.internal.Invocations.invokeWith(Invocations.java:44)\r\n\tat org.jdbi.v3.core.internal.Invocations.invokeWith(Invocations.java:26)\r\n\tat org.jdbi.v3.core.LazyHandleSupplier.invokeInContext(LazyHandleSupplier.java:76)\r\n\tat org.jdbi.v3.sqlobject.internal.SqlObjectInitData$1.call(SqlObjectInitData.java:138)\r\n\tat org.jdbi.v3.sqlobject.internal.SqlObjectInitData$1.invoke(SqlObjectInitData.java:132)\r\n\tat org.jdbi.v3.sqlobject.SqlObjectFactory.lambda$attach$2(SqlObjectFactory.java:110)\r\n\tat org.jdbi.v3.core.internal.OnDemandExtensions.lambda$invoke$5(OnDemandExtensions.java:98)\r\n\tat org.jdbi.v3.core.internal.exceptions.Unchecked.lambda$function$4(Unchecked.java:76)\r\n\tat org.jdbi.v3.core.internal.OnDemandExtensions.invoke(OnDemandExtensions.java:98)\r\n\tat org.jdbi.v3.core.internal.OnDemandExtensions.lambda$createProxy$2(OnDemandExtensions.java:82)\r\n\tat org.jdbi.v3.core.Jdbi.callWithExtension(Jdbi.java:476)\r\n\tat org.jdbi.v3.core.Jdbi.withExtension(Jdbi.java:463)\r\n\tat org.jdbi.v3.core.internal.OnDemandExtensions.lambda$createProxy$3(OnDemandExtensions.java:82)\r\n\t... 8 common frames omitted\r\nCaused by: java.lang.NoSuchMethodError: domain.Person: method &#39;void &lt;init&gt;()&#39; not found\r\n\tat java.base/java.lang.invoke.MethodHandleNatives.resolve(Native Method)\r\n\tat java.base/java.lang.invoke.MemberName$Factory.resolve(MemberName.java:1085)\r\n\tat java.base/java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:1114)\r\n\t... 43 common frames omitted\r\n```\r\n\r\nLine 23 of PersonModule which is stated as throwing the error has the following code\r\n```\r\n public PersonModule(PersonDAO dao){\r\n        \r\n        path(&quot;/api/user&quot;, () -&gt; {\r\n            get(&quot;&quot;, ctx -&gt; {\r\n                return dao.getPersons();\r\n            });\r\n            \r\n            post(&quot;&quot;, ctx -&gt; {\r\n                Person person = ctx.body().to(Person.class);\r\n                if (dao.getPerson(person.getEmail()) == null) {\r\n                    dao.savePerson(person);\r\n                    return ctx.send(StatusCode.CREATED);\r\n                } else {\r\n                    return ctx\r\n                            .setResponseCode(StatusCode.UNPROCESSABLE_ENTITY)\r\n                            .render(new ErrorMessage(&quot;That email already exists in the system&quot;));\r\n                }\r\n            });\r\n        });\r\n```\r\n\r\nWith `return dao.getPersons()` being line 23\r\n\r\nCode for the JDBI for get persons is \r\n\r\n```\r\n    @Override\r\n    @SqlQuery(&quot;SELECT * FROM PERSON ORDER BY EMAIL&quot;)\r\n    @RegisterBeanMapper(Person.class)\r\n    public Collection&lt;Person&gt; getPersons();\r\n```\r\n\r\nand Person.class has the following code (also includes normal getter and setter methods)\r\n\r\n```\r\n public Person(Integer personID, String email, String password, String firstName, String lastName, String phone, String mobile, String industry, String bio, String city, Boolean active, String findOut, String role, String notes) {\r\n        this.personID = personID;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.phone = phone;\r\n        this.mobile = mobile;\r\n        this.industry = industry;\r\n        this.bio = bio;\r\n        this.city = city;\r\n        this.active = active;\r\n        this.findOut = findOut;\r\n        this.role = role;\r\n        this.notes = notes;\r\n    }\r\n```\r\n\r\nCould I please get some help identifying what the problem is?\r\n\r\n**Note** : GET requests were tested a little earlier on and seemed to work fine, even with data in the database. Unit tests for the DAO also pass with no errors.","title":"Java REST API Getting Error when sending GET Request, but works on POST","body":"<p>I have a REST API linked with a Java app that is connected to a database using JDBC that I am currently testing through the Swagger UI.</p>\n<p>Sending post Requests work completely fine, and sending GET requests when the table for a given type is empty also seems to return a normal response, however once I send a GET request when there is data in the table, I get the following error.</p>\n<pre><code>GET /api/user 500 Server Error\njava.lang.reflect.UndeclaredThrowableException: null\n    at jdk.proxy2/jdk.proxy2.$Proxy16.getPersons(Unknown Source)\n    at module.PersonModule.lambda$new$41b6884b$1(PersonModule.java:23)\n    at io.jooby.internal.handler.DefaultHandler.apply(DefaultHandler.java:23)\n    at io.jooby.internal.handler.WorkerHandler.lambda$apply$0(WorkerHandler.java:23)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NoSuchMethodException: no such constructor: domain.Person.&lt;init&gt;()void/newInvokeSpecial\n    at java.base/java.lang.invoke.MemberName.makeAccessException(MemberName.java:974)\n    at java.base/java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:1117)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.resolveOrFail(MethodHandles.java:3649)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.findConstructor(MethodHandles.java:2750)\n    at org.jdbi.v3.core.mapper.reflect.internal.BeanPropertiesFactory$BeanPojoProperties$PropertiesHolder.&lt;init&gt;(BeanPropertiesFactory.java:202)\n    at org.jdbi.v3.core.config.JdbiCaches.lambda$declare$0(JdbiCaches.java:49)\n    at org.jdbi.v3.core.config.JdbiCaches$1.lambda$get$1(JdbiCaches.java:63)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\n    at org.jdbi.v3.core.config.JdbiCaches$1.get(JdbiCaches.java:63)\n    at org.jdbi.v3.core.mapper.reflect.internal.BeanPropertiesFactory$BeanPojoProperties.getProperties(BeanPropertiesFactory.java:81)\n    at org.jdbi.v3.core.mapper.reflect.internal.PojoMapper.specialize0(PojoMapper.java:99)\n    at org.jdbi.v3.core.mapper.reflect.internal.PojoMapper.specialize(PojoMapper.java:80)\n    at org.jdbi.v3.core.result.ResultSetResultIterator.&lt;init&gt;(ResultSetResultIterator.java:38)\n    at org.jdbi.v3.core.result.ResultIterable.lambda$of$0(ResultIterable.java:54)\n    at org.jdbi.v3.core.result.ResultIterable.stream(ResultIterable.java:228)\n    at org.jdbi.v3.core.result.ResultIterable.collect(ResultIterable.java:284)\n    at org.jdbi.v3.sqlobject.statement.internal.ResultReturner$CollectedResultReturner.mappedResult(ResultReturner.java:275)\n    at org.jdbi.v3.sqlobject.statement.internal.SqlQueryHandler.lambda$configureReturner$0(SqlQueryHandler.java:61)\n    at org.jdbi.v3.sqlobject.statement.internal.CustomizingStatementHandler.invoke(CustomizingStatementHandler.java:178)\n    at org.jdbi.v3.sqlobject.statement.internal.SqlQueryHandler.invoke(SqlQueryHandler.java:27)\n    at org.jdbi.v3.sqlobject.internal.SqlObjectInitData$1.lambda$invoke$0(SqlObjectInitData.java:132)\n    at org.jdbi.v3.core.internal.Invocations.invokeWith(Invocations.java:44)\n    at org.jdbi.v3.core.internal.Invocations.invokeWith(Invocations.java:26)\n    at org.jdbi.v3.core.LazyHandleSupplier.lambda$invokeInContext$1(LazyHandleSupplier.java:77)\n    at org.jdbi.v3.core.internal.Invocations.invokeWith(Invocations.java:44)\n    at org.jdbi.v3.core.internal.Invocations.invokeWith(Invocations.java:26)\n    at org.jdbi.v3.core.LazyHandleSupplier.invokeInContext(LazyHandleSupplier.java:76)\n    at org.jdbi.v3.sqlobject.internal.SqlObjectInitData$1.call(SqlObjectInitData.java:138)\n    at org.jdbi.v3.sqlobject.internal.SqlObjectInitData$1.invoke(SqlObjectInitData.java:132)\n    at org.jdbi.v3.sqlobject.SqlObjectFactory.lambda$attach$2(SqlObjectFactory.java:110)\n    at org.jdbi.v3.core.internal.OnDemandExtensions.lambda$invoke$5(OnDemandExtensions.java:98)\n    at org.jdbi.v3.core.internal.exceptions.Unchecked.lambda$function$4(Unchecked.java:76)\n    at org.jdbi.v3.core.internal.OnDemandExtensions.invoke(OnDemandExtensions.java:98)\n    at org.jdbi.v3.core.internal.OnDemandExtensions.lambda$createProxy$2(OnDemandExtensions.java:82)\n    at org.jdbi.v3.core.Jdbi.callWithExtension(Jdbi.java:476)\n    at org.jdbi.v3.core.Jdbi.withExtension(Jdbi.java:463)\n    at org.jdbi.v3.core.internal.OnDemandExtensions.lambda$createProxy$3(OnDemandExtensions.java:82)\n    ... 8 common frames omitted\nCaused by: java.lang.NoSuchMethodError: domain.Person: method 'void &lt;init&gt;()' not found\n    at java.base/java.lang.invoke.MethodHandleNatives.resolve(Native Method)\n    at java.base/java.lang.invoke.MemberName$Factory.resolve(MemberName.java:1085)\n    at java.base/java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:1114)\n    ... 43 common frames omitted\n</code></pre>\n<p>Line 23 of PersonModule which is stated as throwing the error has the following code</p>\n<pre><code> public PersonModule(PersonDAO dao){\n        \n        path(&quot;/api/user&quot;, () -&gt; {\n            get(&quot;&quot;, ctx -&gt; {\n                return dao.getPersons();\n            });\n            \n            post(&quot;&quot;, ctx -&gt; {\n                Person person = ctx.body().to(Person.class);\n                if (dao.getPerson(person.getEmail()) == null) {\n                    dao.savePerson(person);\n                    return ctx.send(StatusCode.CREATED);\n                } else {\n                    return ctx\n                            .setResponseCode(StatusCode.UNPROCESSABLE_ENTITY)\n                            .render(new ErrorMessage(&quot;That email already exists in the system&quot;));\n                }\n            });\n        });\n</code></pre>\n<p>With <code>return dao.getPersons()</code> being line 23</p>\n<p>Code for the JDBI for get persons is</p>\n<pre><code>    @Override\n    @SqlQuery(&quot;SELECT * FROM PERSON ORDER BY EMAIL&quot;)\n    @RegisterBeanMapper(Person.class)\n    public Collection&lt;Person&gt; getPersons();\n</code></pre>\n<p>and Person.class has the following code (also includes normal getter and setter methods)</p>\n<pre><code> public Person(Integer personID, String email, String password, String firstName, String lastName, String phone, String mobile, String industry, String bio, String city, Boolean active, String findOut, String role, String notes) {\n        this.personID = personID;\n        this.email = email;\n        this.password = password;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.phone = phone;\n        this.mobile = mobile;\n        this.industry = industry;\n        this.bio = bio;\n        this.city = city;\n        this.active = active;\n        this.findOut = findOut;\n        this.role = role;\n        this.notes = notes;\n    }\n</code></pre>\n<p>Could I please get some help identifying what the problem is?</p>\n<p><strong>Note</strong> : GET requests were tested a little earlier on and seemed to work fine, even with data in the database. Unit tests for the DAO also pass with no errors.</p>\n"},{"tags":["java","unit-testing","junit","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662538101,"creation_date":1662538101,"answer_id":73632084,"question_id":73626251,"body_markdown":"You can test your Spring Batch application using the @SpringBatchTest annotation. You can test jobs end to end or test individual steps.\r\n\r\nIf you have complex business logic in your processor you may also want to test that in isolation.\r\n\r\nhttps://docs.spring.io/spring-batch/docs/4.3.x/reference/html/testing.html#testing","title":"How to write unit test cases for Spring Batch application that read from database and write to csv?","body":"<p>You can test your Spring Batch application using the @SpringBatchTest annotation. You can test jobs end to end or test individual steps.</p>\n<p>If you have complex business logic in your processor you may also want to test that in isolation.</p>\n<p><a href=\"https://docs.spring.io/spring-batch/docs/4.3.x/reference/html/testing.html#testing\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/4.3.x/reference/html/testing.html#testing</a></p>\n"}],"owner":{"account_id":14027322,"reputation":63,"user_id":10132034,"display_name":"Aniruddha Gayake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3176,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1662538101,"creation_date":1662488144,"question_id":73626251,"body_markdown":"I have created one spring batch application that basically reads from a databse and write it into a csv file. The application has a job and one step. In that one step I am reading, processing and writing to the file. These tasks are done by reader, processor and writer respectively. \r\n\r\nNow I want to write unit test cases for these all in Junit.\r\n\r\nHow should I go about it? ","title":"How to write unit test cases for Spring Batch application that read from database and write to csv?","body":"<p>I have created one spring batch application that basically reads from a databse and write it into a csv file. The application has a job and one step. In that one step I am reading, processing and writing to the file. These tasks are done by reader, processor and writer respectively.</p>\n<p>Now I want to write unit test cases for these all in Junit.</p>\n<p>How should I go about it?</p>\n"},{"tags":["java","deadlock","perfino","iowait"],"comments":[{"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"score":0,"creation_date":1662551072,"post_id":73632083,"comment_id":130030841,"body_markdown":"During the startup phase, create the file `&lt;perfino data directory&gt;/sample_server` then after 3 minutes a .jps file is created in the directory `&lt;perfino data directory&gt;/profile`. Please send that file to support@ej-technologies.com.","body":"During the startup phase, create the file <code>&lt;perfino data directory&gt;&#47;sample_server</code> then after 3 minutes a .jps file is created in the directory <code>&lt;perfino data directory&gt;&#47;profile</code>. Please send that file to support@ej-technologies.com."}],"owner":{"account_id":26248638,"reputation":11,"user_id":19921771,"display_name":"Juanjo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662538087,"creation_date":1662538087,"question_id":73632083,"body_markdown":"we reboot process java perfino every night, after reboot it starts consuming 24-30% IOWait and the software doesn&#39;t work until 30-40 minutes... \r\n\r\nThe output when it is starting is:\r\n\r\n    2022-09-05 09:09:53,390 INFO  [main] com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource: Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -&gt; 3, acquireRetryAttempts -&gt; 30, acquireRetryDelay -&gt; 1000, autoCommitOnClose -&gt; false, automaticTestTable -&gt; null, breakAfterAcquireFailure -&gt; false, checkoutTimeout -&gt; 120000, connectionCustomizerClassName -&gt; null, connectionTesterClassName -&gt; com.mchange.v2.c3p0.impl.DefaultConnectionTester, contextClassLoaderSource -&gt; caller, dataSourceName -&gt; perfino, debugUnreturnedConnectionStackTraces -&gt; false, description -&gt; null, driverClass -&gt; org.h2.Driver, extensions -&gt; {}, factoryClassLocation -&gt; null, forceIgnoreUnresolvedTransactions -&gt; false, forceSynchronousCheckins -&gt; false, forceUseNamedDriverClass -&gt; false, identityToken -&gt; z8kfltar3gp7qzmlngbl|3e2055d6, idleConnectionTestPeriod -&gt; 210, initialPoolSize -&gt; 5, jdbcUrl -&gt; jdbc:h2:file:/var/opt/perfino/db/perfino;LOCK_TIMEOUT=30000;DB_CLOSE_ON_EXIT=FALSE;MAX_COMPACT_TIME=5000, maxAdministrativeTaskTime -&gt; 0, maxConnectionAge -&gt; 0, maxIdleTime -&gt; 21600, maxIdleTimeExcessConnections -&gt; 180, maxPoolSize -&gt; 80, maxStatements -&gt; 0, maxStatementsPerConnection -&gt; 0, minPoolSize -&gt; 5, numHelperThreads -&gt; 3, preferredTestQuery -&gt; null, privilegeSpawnedThreads -&gt; false, properties -&gt; {user=******, password=******}, propertyCycle -&gt; 0, statementCacheNumDeferredCloseThreads -&gt; 0, testConnectionOnCheckin -&gt; false, testConnectionOnCheckout -&gt; false, unreturnedConnectionTimeout -&gt; 0, userOverrides -&gt; {}, usesTraditionalReflectiveProxies -&gt; false ]\r\n    2022-09-05 09:13:43,385 WARN  [C3P0PooledConnectionPoolManager[identityToken-&gt;z8kfltar3gp7qzmlngbl|3e2055d6, dataSourceName-&gt;perfino]-AdminTaskTimer] com.mchange.v2.async.ThreadPoolAsynchronousRunner: com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@fcdef27 -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!\r\n    2022-09-05 09:13:43,389 WARN  [C3P0PooledConnectionPoolManager[identityToken-&gt;z8kfltar3gp7qzmlngbl|3e2055d6, dataSourceName-&gt;perfino]-AdminTaskTimer] com.mchange.v2.async.ThreadPoolAsynchronousRunner: com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@fcdef27 -- APPARENT DEADLOCK!!! Complete Status:\r\n    \tManaged Threads: 3\r\n    \tActive Threads: 3\r\n    \tActive Tasks:\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@40370a95\r\n    \t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;z8kfltar3gp7qzmlngbl|3e2055d6, dataSourceName-&gt;perfino]-HelperThread-#1\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@20636163\r\n    \t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;z8kfltar3gp7qzmlngbl|3e2055d6, dataSourceName-&gt;perfino]-HelperThread-#2\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@713d0ab1\r\n    \t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;z8kfltar3gp7qzmlngbl|3e2055d6, dataSourceName-&gt;perfino]-HelperThread-#0\r\n    \tPending Tasks:\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@58833ffd\r\n    Pool thread stack traces:\r\n    \tThread[C3P0PooledConnectionPoolManager[identityToken-&gt;z8kfltar3gp7qzmlngbl|3e2055d6, dataSourceName-&gt;perfino]-HelperThread-#1,5,main]\r\n    \t\torg.h2.command.Command.executeQuery(Command.java:191)\r\n    \t\torg.h2.jdbc.JdbcConnection.getTransactionIsolation(JdbcConnection.java:784)\r\n    \t\torg.h2.jdbc.JdbcConnection.isValid(JdbcConnection.java:1654)\r\n    \t\tcom.mchange.v2.c3p0.impl.DefaultConnectionTester$2.activeCheckConnectionNoQuery(DefaultConnectionTester.java:136)\r\n\r\nkind regards,","title":"Perfino java process IOwait consuming &quot;APPARENT DEADLOCK!!!&quot;","body":"<p>we reboot process java perfino every night, after reboot it starts consuming 24-30% IOWait and the software doesn't work until 30-40 minutes...</p>\n<p>The output when it is starting is:</p>\n<pre><code>2022-09-05 09:09:53,390 INFO  [main] com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource: Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -&gt; 3, acquireRetryAttempts -&gt; 30, acquireRetryDelay -&gt; 1000, autoCommitOnClose -&gt; false, automaticTestTable -&gt; null, breakAfterAcquireFailure -&gt; false, checkoutTimeout -&gt; 120000, connectionCustomizerClassName -&gt; null, connectionTesterClassName -&gt; com.mchange.v2.c3p0.impl.DefaultConnectionTester, contextClassLoaderSource -&gt; caller, dataSourceName -&gt; perfino, debugUnreturnedConnectionStackTraces -&gt; false, description -&gt; null, driverClass -&gt; org.h2.Driver, extensions -&gt; {}, factoryClassLocation -&gt; null, forceIgnoreUnresolvedTransactions -&gt; false, forceSynchronousCheckins -&gt; false, forceUseNamedDriverClass -&gt; false, identityToken -&gt; z8kfltar3gp7qzmlngbl|3e2055d6, idleConnectionTestPeriod -&gt; 210, initialPoolSize -&gt; 5, jdbcUrl -&gt; jdbc:h2:file:/var/opt/perfino/db/perfino;LOCK_TIMEOUT=30000;DB_CLOSE_ON_EXIT=FALSE;MAX_COMPACT_TIME=5000, maxAdministrativeTaskTime -&gt; 0, maxConnectionAge -&gt; 0, maxIdleTime -&gt; 21600, maxIdleTimeExcessConnections -&gt; 180, maxPoolSize -&gt; 80, maxStatements -&gt; 0, maxStatementsPerConnection -&gt; 0, minPoolSize -&gt; 5, numHelperThreads -&gt; 3, preferredTestQuery -&gt; null, privilegeSpawnedThreads -&gt; false, properties -&gt; {user=******, password=******}, propertyCycle -&gt; 0, statementCacheNumDeferredCloseThreads -&gt; 0, testConnectionOnCheckin -&gt; false, testConnectionOnCheckout -&gt; false, unreturnedConnectionTimeout -&gt; 0, userOverrides -&gt; {}, usesTraditionalReflectiveProxies -&gt; false ]\n2022-09-05 09:13:43,385 WARN  [C3P0PooledConnectionPoolManager[identityToken-&gt;z8kfltar3gp7qzmlngbl|3e2055d6, dataSourceName-&gt;perfino]-AdminTaskTimer] com.mchange.v2.async.ThreadPoolAsynchronousRunner: com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@fcdef27 -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!\n2022-09-05 09:13:43,389 WARN  [C3P0PooledConnectionPoolManager[identityToken-&gt;z8kfltar3gp7qzmlngbl|3e2055d6, dataSourceName-&gt;perfino]-AdminTaskTimer] com.mchange.v2.async.ThreadPoolAsynchronousRunner: com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@fcdef27 -- APPARENT DEADLOCK!!! Complete Status:\n    Managed Threads: 3\n    Active Threads: 3\n    Active Tasks:\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@40370a95\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;z8kfltar3gp7qzmlngbl|3e2055d6, dataSourceName-&gt;perfino]-HelperThread-#1\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@20636163\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;z8kfltar3gp7qzmlngbl|3e2055d6, dataSourceName-&gt;perfino]-HelperThread-#2\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@713d0ab1\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;z8kfltar3gp7qzmlngbl|3e2055d6, dataSourceName-&gt;perfino]-HelperThread-#0\n    Pending Tasks:\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@58833ffd\nPool thread stack traces:\n    Thread[C3P0PooledConnectionPoolManager[identityToken-&gt;z8kfltar3gp7qzmlngbl|3e2055d6, dataSourceName-&gt;perfino]-HelperThread-#1,5,main]\n        org.h2.command.Command.executeQuery(Command.java:191)\n        org.h2.jdbc.JdbcConnection.getTransactionIsolation(JdbcConnection.java:784)\n        org.h2.jdbc.JdbcConnection.isValid(JdbcConnection.java:1654)\n        com.mchange.v2.c3p0.impl.DefaultConnectionTester$2.activeCheckConnectionNoQuery(DefaultConnectionTester.java:136)\n</code></pre>\n<p>kind regards,</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","checkmarx"],"comments":[{"owner":{"account_id":5160029,"reputation":735,"user_id":4132029,"accept_rate":20,"display_name":"yaloner"},"score":0,"creation_date":1666189224,"post_id":73606928,"comment_id":130877286,"body_markdown":"which version of Checkmarx SAST are you using?","body":"which version of Checkmarx SAST are you using?"}],"answers":[{"tags":[],"owner":{"account_id":10086083,"reputation":52,"user_id":18902234,"display_name":"AngelFromHell"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1662435125,"creation_date":1662435125,"answer_id":73616414,"question_id":73606928,"body_markdown":"Do some validations before sending the text to your database. \r\n\r\n&gt; SQL injection can&#39;t inject SQL if it doesn&#39;t get to the database -\r\n&gt; Barack Obama, circa 2014\r\n\r\nFirst names usually don&#39;t have semi-colons `;`. If the text contains it, reject it and show an error message. \r\n\r\nSame with `/` or `\\`. Names usually don&#39;t contain that. Names usually don&#39;t have the `+` sign as well.  Those are the most common things that can be used for injection. \r\n","title":"SQL injection even after using jpa named parameter","body":"<p>Do some validations before sending the text to your database.</p>\n<blockquote>\n<p>SQL injection can't inject SQL if it doesn't get to the database -\nBarack Obama, circa 2014</p>\n</blockquote>\n<p>First names usually don't have semi-colons <code>;</code>. If the text contains it, reject it and show an error message.</p>\n<p>Same with <code>/</code> or <code>\\</code>. Names usually don't contain that. Names usually don't have the <code>+</code> sign as well.  Those are the most common things that can be used for injection.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662537707,"creation_date":1662537707,"answer_id":73631999,"question_id":73606928,"body_markdown":"Parameter values are bound as JDBC parameters, so there is no SQL injection possible here. The only thing you might want to sanitize, is the special wildcard characters `?` and `%`. For this purpose, you can specify an escape character and prefix special characters in the parameter value with that escape character.\r\n\r\nYou could use something like this, which is safe and also more correct (your original HQL probably only works by accident):\r\n\r\n```\r\ndefault Employee findBySearchText(String text) {\r\n  if (text == null || text.isBlank()) return null;\r\n  String pattern = &quot;%&quot; + text.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;).replace(&quot;?&quot;, &quot;\\\\?&quot;).replace(&quot;%&quot;, &quot;\\\\%&quot;) + &quot;%&quot;;\r\n  return findBySearchTextInternal(pattern);\r\n}\r\n\r\n@Query(value=&quot;select em from Employee em where em.firstName like :text escape &#39;\\&#39; or em.lastName like :text escape &#39;\\&#39;&quot;)\r\nEmployee findBySearchTextInternal(String text);\r\n```","title":"SQL injection even after using jpa named parameter","body":"<p>Parameter values are bound as JDBC parameters, so there is no SQL injection possible here. The only thing you might want to sanitize, is the special wildcard characters <code>?</code> and <code>%</code>. For this purpose, you can specify an escape character and prefix special characters in the parameter value with that escape character.</p>\n<p>You could use something like this, which is safe and also more correct (your original HQL probably only works by accident):</p>\n<pre><code>default Employee findBySearchText(String text) {\n  if (text == null || text.isBlank()) return null;\n  String pattern = &quot;%&quot; + text.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;).replace(&quot;?&quot;, &quot;\\\\?&quot;).replace(&quot;%&quot;, &quot;\\\\%&quot;) + &quot;%&quot;;\n  return findBySearchTextInternal(pattern);\n}\n\n@Query(value=&quot;select em from Employee em where em.firstName like :text escape '\\' or em.lastName like :text escape '\\'&quot;)\nEmployee findBySearchTextInternal(String text);\n</code></pre>\n"}],"owner":{"account_id":4789330,"reputation":73,"user_id":7772129,"display_name":"Prakash kumar mallick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662537707,"creation_date":1662368575,"question_id":73606928,"body_markdown":"My JPA method looks like\r\n\r\n```\r\n@Query(value=&quot;select em from Employee em where em.firstName like %:text% or em.lastName like %:text%&quot;)\r\nEmployee findBySearchText(String text);\r\n```\r\n\r\nAs I am using named parameter there wouldn&#39;t be any risk of SQL injection.\r\n\r\nBut in checkmarx tool it is marked as a high vulnerability and suggesting to use OWASP esapi library to sanitize the input.\r\n\r\nIs there any other way to fix this.","title":"SQL injection even after using jpa named parameter","body":"<p>My JPA method looks like</p>\n<pre><code>@Query(value=&quot;select em from Employee em where em.firstName like %:text% or em.lastName like %:text%&quot;)\nEmployee findBySearchText(String text);\n</code></pre>\n<p>As I am using named parameter there wouldn't be any risk of SQL injection.</p>\n<p>But in checkmarx tool it is marked as a high vulnerability and suggesting to use OWASP esapi library to sanitize the input.</p>\n<p>Is there any other way to fix this.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1661050664,"post_id":73426076,"comment_id":129677668,"body_markdown":"Perhaps look into `AuthenticationWebFilter`","body":"Perhaps look into <code>AuthenticationWebFilter</code>"}],"answers":[{"tags":[],"owner":{"account_id":5383665,"reputation":924,"user_id":4288259,"accept_rate":100,"display_name":"Andrew Lalis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660996354,"creation_date":1660996354,"answer_id":73426495,"question_id":73426076,"body_markdown":"I was able to solve this by adding a `switchIfEmpty` and a sort of &quot;fake&quot; authentication to use if we couldn&#39;t really obtain one.\r\n```java\r\n@Override\r\npublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n\treturn tokenService.verifyToken(exchange.getRequest())\r\n\t\t\t.map(AccountTokenAuthentication::new)\r\n\t\t\t.switchIfEmpty(Mono.just(new AccountTokenAuthentication(null)))\r\n\t\t\t.flatMap(auth -&gt; chain.filter(exchange)\r\n\t\t\t\t\t.contextWrite(context -&gt; ReactiveSecurityContextHolder.withAuthentication(auth)));\r\n}\r\n```\r\nThe filter is still being executed twice, but that&#39;s better than 4 times like before.","title":"Spring WebFlux Logical Branching Causing Slowdown","body":"<p>I was able to solve this by adding a <code>switchIfEmpty</code> and a sort of &quot;fake&quot; authentication to use if we couldn't really obtain one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n    return tokenService.verifyToken(exchange.getRequest())\n            .map(AccountTokenAuthentication::new)\n            .switchIfEmpty(Mono.just(new AccountTokenAuthentication(null)))\n            .flatMap(auth -&gt; chain.filter(exchange)\n                    .contextWrite(context -&gt; ReactiveSecurityContextHolder.withAuthentication(auth)));\n}\n</code></pre>\n<p>The filter is still being executed twice, but that's better than 4 times like before.</p>\n"},{"tags":[],"owner":{"account_id":14492583,"reputation":701,"user_id":10468291,"display_name":"Patrick Hooijer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662537639,"creation_date":1662537639,"answer_id":73631985,"question_id":73426076,"body_markdown":"There are two duplications happening here:\r\n\r\nFirst, you are building upon Mono `authMono` twice: one at `authMono.hasElement()` and one at `authMono.flatMap()` inside a flatMap. Splitting your Mono like that will cause the Mono to be evaluated twice.\r\n\r\nLuckily you don&#39;t have to evaluate the Mono twice in your case, with [`Flux.switchIfEmpty`][1] you can switch to an alternative Publisher if the Mono has no elements:\r\n\r\n```lang-java\r\n@Override\r\npublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n    return tokenService.verifyToken(exchange.getRequest())\r\n            .map(AccountTokenAuthentication::new)\r\n            .flatMap(auth -&gt; chain.filter(exchange)\r\n                    .contextWrite(context -&gt;  ReactiveSecurityContextHolder.withAuthentication(auth)))\r\n            .switchIfEmpty(chain.filter(exchange));\r\n}\r\n```\r\n\r\nSecond, `Filter`s are automatically registered in Spring Boot. By turning your Filter into a Bean with `@Component`, the Filter is registered twice and also executed twice. Since you already register your Filter in your filter chain configuration, you should disable auto-registration by creating this bean [(copied from the official documentation)][2]:\r\n\r\n```lang-java\r\n@Bean\r\npublic FilterRegistrationBean registration(MyFilter filter) {\r\n    FilterRegistrationBean registration = new FilterRegistrationBean(filter);\r\n    registration.setEnabled(false);\r\n    return registration;\r\n}\r\n```\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#switchIfEmpty-org.reactivestreams.Publisher-\r\n  [2]: https://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/html/howto-embedded-servlet-containers.html#howto-disable-registration-of-a-servlet-or-filter","title":"Spring WebFlux Logical Branching Causing Slowdown","body":"<p>There are two duplications happening here:</p>\n<p>First, you are building upon Mono <code>authMono</code> twice: one at <code>authMono.hasElement()</code> and one at <code>authMono.flatMap()</code> inside a flatMap. Splitting your Mono like that will cause the Mono to be evaluated twice.</p>\n<p>Luckily you don't have to evaluate the Mono twice in your case, with <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#switchIfEmpty-org.reactivestreams.Publisher-\" rel=\"nofollow noreferrer\"><code>Flux.switchIfEmpty</code></a> you can switch to an alternative Publisher if the Mono has no elements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n    return tokenService.verifyToken(exchange.getRequest())\n            .map(AccountTokenAuthentication::new)\n            .flatMap(auth -&gt; chain.filter(exchange)\n                    .contextWrite(context -&gt;  ReactiveSecurityContextHolder.withAuthentication(auth)))\n            .switchIfEmpty(chain.filter(exchange));\n}\n</code></pre>\n<p>Second, <code>Filter</code>s are automatically registered in Spring Boot. By turning your Filter into a Bean with <code>@Component</code>, the Filter is registered twice and also executed twice. Since you already register your Filter in your filter chain configuration, you should disable auto-registration by creating this bean <a href=\"https://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/html/howto-embedded-servlet-containers.html#howto-disable-registration-of-a-servlet-or-filter\" rel=\"nofollow noreferrer\">(copied from the official documentation)</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic FilterRegistrationBean registration(MyFilter filter) {\n    FilterRegistrationBean registration = new FilterRegistrationBean(filter);\n    registration.setEnabled(false);\n    return registration;\n}\n</code></pre>\n"}],"owner":{"account_id":5383665,"reputation":924,"user_id":4288259,"accept_rate":100,"display_name":"Andrew Lalis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662537639,"creation_date":1660992938,"question_id":73426076,"body_markdown":"I have the following `WebFilter` implementation:\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class AccountTokenFilter implements WebFilter {\r\n\tprivate final TokenService tokenService;\r\n\r\n\t@Override\r\n\tpublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n\t\tMono&lt;Authentication&gt; authMono = tokenService.verifyToken(exchange.getRequest())\r\n\t\t\t\t.map(AccountTokenAuthentication::new);\r\n\t\treturn authMono.hasElement().flatMap(authenticated -&gt; {\r\n\t\t\tif (authenticated) {\r\n\t\t\t\treturn authMono.flatMap(auth -&gt; chain.filter(exchange)\r\n\t\t\t\t\t\t.contextWrite(context -&gt; ReactiveSecurityContextHolder.withAuthentication(auth)));\r\n\t\t\t} else {\r\n\t\t\t\treturn chain.filter(exchange);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```\r\nThe idea is that it does the following:\r\n\r\n1. Try to verify the request&#39;s authentication token and return the account it&#39;s linked to.\r\n2. If the account exists, add it to the security context.\r\n3. Continue the filter chain with `chain.filter(exchange)`\r\n\r\nThe problem is that somehow, the initial `authMono` is getting executed 4 times for each request! Ideally this should be executed only once, but I&#39;m at a loss for how I can even begin to debug this.\r\n\r\nIf it may help, here is my filter chain configuration:\r\n```java\r\n\t@Bean\r\n\tpublic SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n\t\thttp\r\n\t\t\t.csrf().disable()\r\n\t\t\t.cors().and()\r\n\t\t\t.httpBasic().disable()\r\n\t\t\t.formLogin().disable()\r\n\t\t\t.logout().disable()\r\n\t\t\t.authorizeExchange(spec -&gt; spec\r\n\t\t\t\t\t.pathMatchers(HttpMethod.POST, &quot;/accounts&quot;, &quot;/tokens&quot;).permitAll()\r\n\t\t\t\t\t.pathMatchers(HttpMethod.GET, &quot;/tokens/verify&quot;).permitAll()\r\n\t\t\t\t\t.anyExchange().authenticated()\r\n\t\t\t)\r\n\t\t\t.addFilterAt(accountTokenFilter, SecurityWebFiltersOrder.AUTHENTICATION);\r\n\t\treturn http.build();\r\n\t}\r\n```","title":"Spring WebFlux Logical Branching Causing Slowdown","body":"<p>I have the following <code>WebFilter</code> implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class AccountTokenFilter implements WebFilter {\n    private final TokenService tokenService;\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        Mono&lt;Authentication&gt; authMono = tokenService.verifyToken(exchange.getRequest())\n                .map(AccountTokenAuthentication::new);\n        return authMono.hasElement().flatMap(authenticated -&gt; {\n            if (authenticated) {\n                return authMono.flatMap(auth -&gt; chain.filter(exchange)\n                        .contextWrite(context -&gt; ReactiveSecurityContextHolder.withAuthentication(auth)));\n            } else {\n                return chain.filter(exchange);\n            }\n        });\n    }\n}\n</code></pre>\n<p>The idea is that it does the following:</p>\n<ol>\n<li>Try to verify the request's authentication token and return the account it's linked to.</li>\n<li>If the account exists, add it to the security context.</li>\n<li>Continue the filter chain with <code>chain.filter(exchange)</code></li>\n</ol>\n<p>The problem is that somehow, the initial <code>authMono</code> is getting executed 4 times for each request! Ideally this should be executed only once, but I'm at a loss for how I can even begin to debug this.</p>\n<p>If it may help, here is my filter chain configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n        http\n            .csrf().disable()\n            .cors().and()\n            .httpBasic().disable()\n            .formLogin().disable()\n            .logout().disable()\n            .authorizeExchange(spec -&gt; spec\n                    .pathMatchers(HttpMethod.POST, &quot;/accounts&quot;, &quot;/tokens&quot;).permitAll()\n                    .pathMatchers(HttpMethod.GET, &quot;/tokens/verify&quot;).permitAll()\n                    .anyExchange().authenticated()\n            )\n            .addFilterAt(accountTokenFilter, SecurityWebFiltersOrder.AUTHENTICATION);\n        return http.build();\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1552590090,"creation_date":1552589428,"answer_id":55170010,"question_id":55169848,"body_markdown":"Looking at the issue tracker of the Spring project you can find [this][1] issue, which basically asks for the `StringToEnumIgnoringCaseConverterFactory` class to be made public.&lt;br&gt;\r\nHowever it seems it won&#39;t happen anytime soon, as [this][2] is still in progress.\r\n\r\nWhat you could try is configuring that `Converter` via `WebMvcConfigurer#addFormatters`\r\n\r\n    @Configuration\r\n    class CustomWebMvcConfigurer implements WebMvcConfigurer {\r\n    \t@Override\r\n    \tpublic void addFormatters(final FormatterRegistry registry) {\r\n    \t\tApplicationConversionService.configure(registry);\r\n    \t}\r\n    }\r\n\r\n`ApplicationConversionService#configure` will register `StringToEnumIgnoringCaseConverterFactory` for you, by calling the `addApplicationConverters` method\r\n\r\n    /** Spring Framework code */\r\n    public static void addApplicationConverters(ConverterRegistry registry) {\r\n    \t...\r\n    \tregistry.addConverterFactory(new StringToEnumIgnoringCaseConverterFactory());\r\n    }\r\n\r\nAnd btw, that&#39;s the only reference to `StringToEnumIgnoringCaseConverterFactory`, so it&#39;s your only hope ; ) (don&#39;t use `Reflection`! Resist the urge)\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/3021\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/15019\r\n","title":"Spring Boot convert Enum ignoring case","body":"<p>Looking at the issue tracker of the Spring project you can find <a href=\"https://github.com/spring-projects/spring-boot/issues/3021\" rel=\"nofollow noreferrer\">this</a> issue, which basically asks for the <code>StringToEnumIgnoringCaseConverterFactory</code> class to be made public.<br>\nHowever it seems it won't happen anytime soon, as <a href=\"https://github.com/spring-projects/spring-boot/issues/15019\" rel=\"nofollow noreferrer\">this</a> is still in progress.</p>\n\n<p>What you could try is configuring that <code>Converter</code> via <code>WebMvcConfigurer#addFormatters</code></p>\n\n<pre><code>@Configuration\nclass CustomWebMvcConfigurer implements WebMvcConfigurer {\n    @Override\n    public void addFormatters(final FormatterRegistry registry) {\n        ApplicationConversionService.configure(registry);\n    }\n}\n</code></pre>\n\n<p><code>ApplicationConversionService#configure</code> will register <code>StringToEnumIgnoringCaseConverterFactory</code> for you, by calling the <code>addApplicationConverters</code> method</p>\n\n<pre><code>/** Spring Framework code */\npublic static void addApplicationConverters(ConverterRegistry registry) {\n    ...\n    registry.addConverterFactory(new StringToEnumIgnoringCaseConverterFactory());\n}\n</code></pre>\n\n<p>And btw, that's the only reference to <code>StringToEnumIgnoringCaseConverterFactory</code>, so it's your only hope ; ) (don't use <code>Reflection</code>! Resist the urge)</p>\n"},{"tags":[],"owner":{"account_id":21910001,"reputation":247,"user_id":16194563,"display_name":"Ramya Musunuru"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662537419,"creation_date":1662537419,"answer_id":73631937,"question_id":55169848,"body_markdown":"Setting **spring.jackson.mapper.accept-case-insensitive-enums=true** in properties, would solve this","title":"Spring Boot convert Enum ignoring case","body":"<p>Setting <strong>spring.jackson.mapper.accept-case-insensitive-enums=true</strong> in properties, would solve this</p>\n"}],"owner":{"account_id":888380,"reputation":63,"user_id":927236,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5153,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":55170010,"answer_count":2,"score":6,"last_activity_date":1662537419,"creation_date":1552588766,"question_id":55169848,"body_markdown":"I have a spring-boot application which is exposing a [Rest API][1]. This API accepts a list of enums `batchStatus` as query parameter. This `batchStatus` is to be used to filter all the batches based on their status.\r\n\r\nWhen trying to invoke this rest api, I&#39;m getting the following error\r\n\r\n    {\r\n      &quot;timestamp&quot;: 1552587376808,\r\n      &quot;status&quot;: 400,\r\n      &quot;error&quot;: &quot;Bad Request&quot;,\r\n      &quot;message&quot;: &quot;Failed to convert value of type &#39;java.lang.String[]&#39; to required type &#39;java.util.List&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@io.swagger.annotations.ApiParam @javax.validation.Valid @org.springframework.web.bind.annotation.RequestParam com.netshell.test.spring.conversion.rest.api.model.BatchStatus] for value &#39;active&#39;; nested exception is java.lang.IllegalArgumentException: No enum constant com.netshell.test.spring.conversion.rest.api.model.BatchStatus.active&quot;,\r\n      &quot;path&quot;: &quot;/batch/status&quot;\r\n    }\r\n\r\nSpring is looking for **active** in BatchStatus instead of **ACTIVE**.  \r\n\r\nLooking deep into the spring ConversionService I&#39;ve discovered two converters  \r\n1. StringToEnumConverterFactory (from spring-core)  \r\n2. StringToEnumIgnoringCaseConverterFactory (from spring-boot)\r\n\r\nIs there any mechanism in spring-boot to force use of second converter?\r\n\r\nFurther debugging showed that both the converters are registered with ConversionService,  however there are [multiple instances of conversionService][2] each with different number of converters. In this case how does spring select which conversionService to use?\r\n\r\nEnum `BatchStatus` is created as following\r\n    \r\n    public enum BatchStatus {\r\n        ACTIVE(&quot;active&quot;),\r\n        FAILED(&quot;failed&quot;),\r\n        HOLD(&quot;hold&quot;);\r\n\r\n        private String value;\r\n        BatchStatus(String value) {\r\n            this.value = value;\r\n        }\r\n\r\n        @Override\r\n        @JsonValue\r\n        public String toString() {\r\n            return String.valueOf(value);\r\n        }\r\n\r\n        @JsonCreator\r\n        public static BatchStatus fromValue(String text) {\r\n            for (BatchStatus b : BatchStatus.values()) {\r\n                if (String.valueOf(b.value).equals(text)) {\r\n                    return b;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DT1tp.png\r\n  [2]: https://i.stack.imgur.com/Ya6zY.png","title":"Spring Boot convert Enum ignoring case","body":"<p>I have a spring-boot application which is exposing a <a href=\"https://i.stack.imgur.com/DT1tp.png\" rel=\"noreferrer\">Rest API</a>. This API accepts a list of enums <code>batchStatus</code> as query parameter. This <code>batchStatus</code> is to be used to filter all the batches based on their status.</p>\n\n<p>When trying to invoke this rest api, I'm getting the following error</p>\n\n<pre><code>{\n  \"timestamp\": 1552587376808,\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Failed to convert value of type 'java.lang.String[]' to required type 'java.util.List'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@io.swagger.annotations.ApiParam @javax.validation.Valid @org.springframework.web.bind.annotation.RequestParam com.netshell.test.spring.conversion.rest.api.model.BatchStatus] for value 'active'; nested exception is java.lang.IllegalArgumentException: No enum constant com.netshell.test.spring.conversion.rest.api.model.BatchStatus.active\",\n  \"path\": \"/batch/status\"\n}\n</code></pre>\n\n<p>Spring is looking for <strong>active</strong> in BatchStatus instead of <strong>ACTIVE</strong>.  </p>\n\n<p>Looking deep into the spring ConversionService I've discovered two converters<br>\n1. StringToEnumConverterFactory (from spring-core)<br>\n2. StringToEnumIgnoringCaseConverterFactory (from spring-boot)</p>\n\n<p>Is there any mechanism in spring-boot to force use of second converter?</p>\n\n<p>Further debugging showed that both the converters are registered with ConversionService,  however there are <a href=\"https://i.stack.imgur.com/Ya6zY.png\" rel=\"noreferrer\">multiple instances of conversionService</a> each with different number of converters. In this case how does spring select which conversionService to use?</p>\n\n<p>Enum <code>BatchStatus</code> is created as following</p>\n\n<pre><code>public enum BatchStatus {\n    ACTIVE(\"active\"),\n    FAILED(\"failed\"),\n    HOLD(\"hold\");\n\n    private String value;\n    BatchStatus(String value) {\n        this.value = value;\n    }\n\n    @Override\n    @JsonValue\n    public String toString() {\n        return String.valueOf(value);\n    }\n\n    @JsonCreator\n    public static BatchStatus fromValue(String text) {\n        for (BatchStatus b : BatchStatus.values()) {\n            if (String.valueOf(b.value).equals(text)) {\n                return b;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","pagination","paging","birt"],"answers":[{"tags":[],"owner":{"account_id":3349759,"reputation":2483,"user_id":2814025,"display_name":"hvb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662537356,"creation_date":1662537356,"answer_id":73631922,"question_id":73617633,"body_markdown":"You mean you are using the RE API (eg. RunTask/RenderTask/RunAndRenderTask).\r\n\r\nI doubt this is possible with reasonable effort, but maybe you should look at https://www.eclipse.org/forums/index.php/t/120397/ and https://www.eclipse.org/forums/index.php/t/119676/.\r\n\r\nWhy don&#39;t you use the viewer servlet if it gives you the functionality that you need?","title":"how to implement pagination in html object in birt report with java code?","body":"<p>You mean you are using the RE API (eg. RunTask/RenderTask/RunAndRenderTask).</p>\n<p>I doubt this is possible with reasonable effort, but maybe you should look at <a href=\"https://www.eclipse.org/forums/index.php/t/120397/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php/t/120397/</a> and <a href=\"https://www.eclipse.org/forums/index.php/t/119676/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php/t/119676/</a>.</p>\n<p>Why don't you use the viewer servlet if it gives you the functionality that you need?</p>\n"}],"owner":{"account_id":5594456,"reputation":1,"user_id":4432627,"display_name":"sunil kushwaha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662537356,"creation_date":1662446014,"question_id":73617633,"body_markdown":"  I want implement pagination navigation in birt report in html object using java api. as it shows in web viewer in birt report.in html object its not showing when opening in browser.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qI6ck.jpg","title":"how to implement pagination in html object in birt report with java code?","body":"<p>I want implement pagination navigation in birt report in html object using java api. as it shows in web viewer in birt report.in html object its not showing when opening in browser.<a href=\"https://i.stack.imgur.com/qI6ck.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5493703,"reputation":146,"user_id":4365561,"display_name":"csrcordeiro"},"score":0,"creation_date":1419953042,"post_id":27707331,"comment_id":43827928,"body_markdown":"Can you post your activiti.cfg.xml?","body":"Can you post your activiti.cfg.xml?"},{"owner":{"account_id":1464588,"reputation":1889,"user_id":1377850,"accept_rate":31,"display_name":"franco"},"score":0,"creation_date":1419959455,"post_id":27707331,"comment_id":43830957,"body_markdown":"thank you for your response, I have updated my question, but I still have null point exception error","body":"thank you for your response, I have updated my question, but I still have null point exception error"},{"owner":{"account_id":1464588,"reputation":1889,"user_id":1377850,"accept_rate":31,"display_name":"franco"},"score":0,"creation_date":1419960725,"post_id":27707331,"comment_id":43831624,"body_markdown":"error is related to this line :     ProcessEngineConfiguration processEngineConfiguration = ProcessEngineConfiguration.createProcessEngineConfigurationFromInputStream(inputStream);\n        imputstream  when I debug contain  jar:file:/F:/workspace/testwebProject/WebContent/WEB-INF/lib/activiti-cfg.jar!/activiti.cfg.xml","body":"error is related to this line :     ProcessEngineConfiguration processEngineConfiguration = ProcessEngineConfiguration.createProcessEngineConfigurationF&zwnj;&#8203;romInputStream(input&zwnj;&#8203;Stream);         imputstream  when I debug contain  jar:file:/F:/workspace/testwebProject/WebContent/WEB-INF/lib&zwnj;&#8203;/activiti-cfg.jar!/a&zwnj;&#8203;ctiviti.cfg.xml"},{"owner":{"account_id":5493703,"reputation":146,"user_id":4365561,"display_name":"csrcordeiro"},"score":0,"creation_date":1419961387,"post_id":27707331,"comment_id":43831912,"body_markdown":"Can you please post the entire stacktrace? I just can&#39;t find the error either...","body":"Can you please post the entire stacktrace? I just can&#39;t find the error either..."},{"owner":{"account_id":5493703,"reputation":146,"user_id":4365561,"display_name":"csrcordeiro"},"score":0,"creation_date":1419961713,"post_id":27707331,"comment_id":43832052,"body_markdown":"Another thing, try coping the activiti.cfg.xml to your META-INF folder, maybe it just can&#39;t find the configuration file.","body":"Another thing, try coping the activiti.cfg.xml to your META-INF folder, maybe it just can&#39;t find the configuration file."}],"answers":[{"tags":[],"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662537356,"creation_date":1662537356,"answer_id":73631921,"question_id":27707331,"body_markdown":"You might lack camunda configuration in your servlet configuration, e.g. in tomcat `server.xml` add a `TomcatBpmPlatformBootstrap` listener and resources for BPM Process Engine Service, `ProcessEngineService` and `ProcessApplicationService`.","title":"ProcessEngines.getDefaultProcessEngine() null point exception","body":"<p>You might lack camunda configuration in your servlet configuration, e.g. in tomcat <code>server.xml</code> add a <code>TomcatBpmPlatformBootstrap</code> listener and resources for BPM Process Engine Service, <code>ProcessEngineService</code> and <code>ProcessApplicationService</code>.</p>\n"}],"owner":{"account_id":1464588,"reputation":1889,"user_id":1377850,"accept_rate":31,"display_name":"franco"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2079,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662537356,"creation_date":1419950224,"question_id":27707331,"body_markdown":"I create under eclipse using activiti plugin my activiti project and I create the process \r\nthen under activiti explorer (http://com.supcom:8080/activiti-explorer) I have imported this project and I make the export in order to obtain **MyProcess.bpmn20.xml**\r\n\r\n\r\nI create another web project, I make MyProcess.bpmn20.xml under com.test  package\r\n\r\nin lib folder I put this jar  **activiti-engine-5.13.jar**\r\n\r\nwhen I run this java class I have Exception in thread **&quot;main&quot; java.lang.NullPointerException**\r\n\r\n\r\n\r\nthe  **ProcessEngines.getDefaultProcessEngine();**   is null\r\n\r\n this is the java  test in order to deploy my process :\r\n\r\n  \r\n\r\n     ProcessEngine processEngine = ProcessEngines.getDefaultProcessEngine();\r\n     RepositoryService repositoryService = processEngine.getRepositoryService();\r\n           repositoryService.createDeployment()\r\n           .addClasspathResource(&quot;com/test/MyProcess.bpmn20.xml&quot;)\r\n           .deploy();\r\n\r\n\r\n\r\n\r\n**Updated :**\r\n\r\n\r\nI make activiti-cfg.jar  in lib folder \r\n\r\n\r\nthis jar contains activit.cfg.xml:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans   http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    \r\n      &lt;bean id=&quot;processEngineConfiguration&quot; class=&quot;org.activiti.engine.impl.cfg.StandaloneProcessEngineConfiguration&quot;&gt;\r\n      \r\n        &lt;!-- Database configurations --&gt;\r\n     &lt;property name=&quot;databaseType&quot; value=&quot;postgresql&quot; /&gt;\r\n    &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:postgresql://localhost:5432/activiti8&quot; /&gt;\r\n    &lt;property name=&quot;jdbcDriver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n    &lt;property name=&quot;jdbcUsername&quot; value=&quot;postgres&quot; /&gt;\r\n    &lt;property name=&quot;jdbcPassword&quot; value=&quot;postgres&quot; /&gt;\r\n        \r\n      &lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\n**My process.bpmn.xml is deployed under activiti-explorer  which is worked with postgress** \r\n\r\nby modified db.properties\r\n\r\n    db=postgres\r\n    jdbc.driver=org.postgresql.Driver\r\n    jdbc.url=jdbc:postgresql://localhost:5432/activiti8\r\n    jdbc.username=postgres\r\n    jdbc.password=postgres\r\n\r\nthis is my  java class test :\r\n\r\n    package com.test;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.PrintWriter;\r\n    import java.io.StringWriter;\r\n    import java.lang.reflect.Method;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.ArrayList;\r\n    import java.util.Enumeration;\r\n    import java.util.HashMap;\r\n    import java.util.HashSet;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    import org.activiti.engine.ActivitiException;\r\n    import org.activiti.engine.ActivitiIllegalArgumentException;\r\n    import org.activiti.engine.ProcessEngine;\r\n    import org.activiti.engine.ProcessEngineConfiguration;\r\n    import org.activiti.engine.ProcessEngineInfo;\r\n    //import org.activiti.engine.ProcessEngines;\r\n    import org.activiti.engine.RuntimeService;\r\n    import org.activiti.engine.impl.ProcessEngineInfoImpl;\r\n    import org.activiti.engine.impl.util.ReflectUtil;\r\n    import org.apache.log4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public abstract class ProcessEngines {\r\n      \r\n      //private static Logger log = LoggerFactory.getLogger(ProcessEngines.class);\r\n      \r\n      public static final String NAME_DEFAULT = &quot;default&quot;;\r\n      \r\n      protected static boolean isInitialized = false; \r\n      protected static Map&lt;String, ProcessEngine&gt; processEngines = new HashMap&lt;String, ProcessEngine&gt;();\r\n      protected static Map&lt;String, ProcessEngineInfo&gt; processEngineInfosByName = new HashMap&lt;String, ProcessEngineInfo&gt;();\r\n      protected static Map&lt;String, ProcessEngineInfo&gt; processEngineInfosByResourceUrl = new HashMap&lt;String, ProcessEngineInfo&gt;();\r\n      protected static List&lt;ProcessEngineInfo&gt; processEngineInfos = new ArrayList&lt;ProcessEngineInfo&gt;();\r\n      \r\n      /** Initializes all process engines that can be found on the classpath for \r\n       * resources &lt;code&gt;activiti.cfg.xml&lt;/code&gt; (plain Activiti style configuration)\r\n       * and for resources &lt;code&gt;activiti-context.xml&lt;/code&gt; (Spring style configuration). */\r\n      \r\n    \tpublic static void main(String[] args) {\r\n    \t\tinit();\r\n    \t\t  ProcessEngine processEngine = ProcessEngines.getDefaultProcessEngine();\r\n    \t\t\tRuntimeService runtimeService = processEngine.getRuntimeService();\r\n    \t\t\r\n    \t}\r\n      public synchronized static void init() {\r\n        if (!isInitialized()) {\r\n          if(processEngines == null) {\r\n            // Create new map to store process-engines if current map is null\r\n            processEngines = new HashMap&lt;String, ProcessEngine&gt;();        \r\n          }\r\n          ClassLoader classLoader = ReflectUtil.getClassLoader();\r\n          Enumeration&lt;URL&gt; resources = null;\r\n          try {\r\n            resources = classLoader.getResources(&quot;activiti.cfg.xml&quot;);\r\n          } catch (IOException e) {\r\n            throw new ActivitiIllegalArgumentException(&quot;problem retrieving activiti.cfg.xml resources on the classpath: &quot;+System.getProperty(&quot;java.class.path&quot;), e);\r\n          }\r\n          \r\n          // Remove duplicated configuration URL&#39;s using set. Some classloaders may return identical URL&#39;s twice, causing duplicate startups\r\n          Set&lt;URL&gt; configUrls = new HashSet&lt;URL&gt;();\r\n          while (resources.hasMoreElements()) {\r\n            configUrls.add( resources.nextElement() );\r\n          }\r\n          for (Iterator&lt;URL&gt; iterator = configUrls.iterator(); iterator.hasNext();) {\r\n            URL resource = iterator.next();\r\n          //  log.info(&quot;Initializing process engine using configuration &#39;{}&#39;&quot;,  resource.toString());\r\n            initProcessEnginFromResource(resource);\r\n          }\r\n          \r\n          try {\r\n            resources = classLoader.getResources(&quot;activiti-context.xml&quot;);\r\n          } catch (IOException e) {\r\n            throw new ActivitiIllegalArgumentException(&quot;problem retrieving activiti-context.xml resources on the classpath: &quot;+System.getProperty(&quot;java.class.path&quot;), e);\r\n          }\r\n          while (resources.hasMoreElements()) {\r\n            URL resource = resources.nextElement();\r\n           // log.info(&quot;Initializing process engine using Spring configuration &#39;{}&#39;&quot;,  resource.toString());\r\n            initProcessEngineFromSpringResource(resource);\r\n          }\r\n    \r\n          setInitialized(true);\r\n        \r\n        } else {\r\n       //   log.info(&quot;Process engines already initialized&quot;);\r\n        }\r\n      }\r\n    \r\n      protected static void initProcessEngineFromSpringResource(URL resource) {\r\n        try {\r\n          Class&lt; ? &gt; springConfigurationHelperClass = ReflectUtil.loadClass(&quot;org.activiti.spring.SpringConfigurationHelper&quot;);\r\n          Method method = springConfigurationHelperClass.getMethod(&quot;buildProcessEngine&quot;, new Class&lt;?&gt;[]{URL.class});\r\n          ProcessEngine processEngine = (ProcessEngine) method.invoke(null, new Object[]{resource});\r\n          \r\n          String processEngineName = processEngine.getName();\r\n          ProcessEngineInfo processEngineInfo = new ProcessEngineInfoImpl(processEngineName, resource.toString(), null);\r\n          processEngineInfosByName.put(processEngineName, processEngineInfo);\r\n          processEngineInfosByResourceUrl.put(resource.toString(), processEngineInfo);\r\n          \r\n        } catch (Exception e) {\r\n          throw new ActivitiException(&quot;couldn&#39;t initialize process engine from spring configuration resource &quot;+resource.toString()+&quot;: &quot;+e.getMessage(), e);\r\n        } \r\n      }\r\n     \r\n      /**\r\n       * Registers the given process engine. No {@link ProcessEngineInfo} will be \r\n       * available for this process engine. An engine that is registered will be closed\r\n       * when the {@link ProcessEngines#destroy()} is called.\r\n       */\r\n      public static void registerProcessEngine(ProcessEngine processEngine) {\r\n        processEngines.put(processEngine.getName(), processEngine);\r\n      }\r\n      \r\n      /**\r\n       * Unregisters the given process engine.\r\n       */\r\n      public static void unregister(ProcessEngine processEngine) {\r\n        processEngines.remove(processEngine.getName());\r\n      }\r\n    \r\n      private static ProcessEngineInfo initProcessEnginFromResource(URL resourceUrl) {\r\n        ProcessEngineInfo processEngineInfo = processEngineInfosByResourceUrl.get(resourceUrl.toString());\r\n        // if there is an existing process engine info\r\n        if (processEngineInfo!=null) {\r\n          // remove that process engine from the member fields\r\n          processEngineInfos.remove(processEngineInfo);\r\n          if (processEngineInfo.getException()==null) {\r\n            String processEngineName = processEngineInfo.getName();\r\n            processEngines.remove(processEngineName);\r\n            processEngineInfosByName.remove(processEngineName);\r\n          }\r\n          processEngineInfosByResourceUrl.remove(processEngineInfo.getResourceUrl());\r\n        }\r\n    \r\n        String resourceUrlString = resourceUrl.toString();\r\n        try {\r\n       //   log.info(&quot;initializing process engine for resource {}&quot;, resourceUrl);\r\n          ProcessEngine processEngine = buildProcessEngine(resourceUrl);\r\n          String processEngineName = processEngine.getName();\r\n        //  log.info(&quot;initialised process engine {}&quot;, processEngineName);\r\n          processEngineInfo = new ProcessEngineInfoImpl(processEngineName, resourceUrlString, null);\r\n          processEngines.put(processEngineName, processEngine);\r\n          processEngineInfosByName.put(processEngineName, processEngineInfo);\r\n        } catch (Throwable e) {\r\n       //   log.error(&quot;Exception while initializing process engine: {}&quot;, e.getMessage(), e);\r\n          processEngineInfo = new ProcessEngineInfoImpl(null, resourceUrlString, getExceptionString(e));\r\n        }\r\n        processEngineInfosByResourceUrl.put(resourceUrlString, processEngineInfo);\r\n        processEngineInfos.add(processEngineInfo);\r\n        return processEngineInfo;\r\n      }\r\n    \r\n      private static String getExceptionString(Throwable e) {\r\n        StringWriter sw = new StringWriter();\r\n        PrintWriter pw = new PrintWriter(sw);\r\n        e.printStackTrace(pw);\r\n        return sw.toString();\r\n      }\r\n    \r\n      private static  ProcessEngine buildProcessEngine(URL resource) {\r\n        InputStream inputStream = null;\r\n        try {\r\n          inputStream = resource.openStream();\r\n          ProcessEngineConfiguration processEngineConfiguration = ProcessEngineConfiguration.createProcessEngineConfigurationFromInputStream(inputStream);\r\n          return processEngineConfiguration.buildProcessEngine();\r\n          \r\n        } catch (IOException e) {\r\n          throw new ActivitiIllegalArgumentException(&quot;couldn&#39;t open resource stream: &quot;+e.getMessage(), e);\r\n        } finally {\r\n        //  IoUtil.closeSilently(inputStream);\r\n        }\r\n      }\r\n      \r\n      /** Get initialization results. */\r\n      public static List&lt;ProcessEngineInfo&gt; getProcessEngineInfos() {\r\n        return processEngineInfos;\r\n      }\r\n    \r\n      /** Get initialization results. Only info will we available for process engines\r\n       * which were added in the {@link ProcessEngines#init()}. No {@link ProcessEngineInfo}\r\n       * is available for engines which were registered programatically.\r\n      */\r\n      public static ProcessEngineInfo getProcessEngineInfo(String processEngineName) {\r\n        return processEngineInfosByName.get(processEngineName);\r\n      }\r\n    \r\n      public static ProcessEngine getDefaultProcessEngine() {\r\n        return getProcessEngine(NAME_DEFAULT);\r\n      }\r\n    \r\n      /** obtain a process engine by name.  \r\n       * @param processEngineName is the name of the process engine or null for the default process engine.  */\r\n      public static ProcessEngine getProcessEngine(String processEngineName) {\r\n        if (!isInitialized()) {\r\n          init();\r\n        }\r\n        return processEngines.get(processEngineName);\r\n      }\r\n      \r\n      /** retries to initialize a process engine that previously failed.\r\n       */\r\n      public static ProcessEngineInfo retry(String resourceUrl) {\r\n       // log.debug(&quot;retying initializing of resource {}&quot;, resourceUrl);\r\n        try {\r\n          return initProcessEnginFromResource(new URL(resourceUrl));\r\n        } catch (MalformedURLException e) {\r\n          throw new ActivitiIllegalArgumentException(&quot;invalid url: &quot;+resourceUrl, e);\r\n        }\r\n      }\r\n      \r\n      /** provides access to process engine to application clients in a \r\n       * managed server environment.  \r\n       */\r\n      public static Map&lt;String, ProcessEngine&gt; getProcessEngines() {\r\n        return processEngines;\r\n      }\r\n      \r\n      /** closes all process engines.  This method should be called when the server shuts down. */\r\n      public synchronized static void destroy() {\r\n        if (isInitialized()) {\r\n          Map&lt;String, ProcessEngine&gt; engines = new HashMap&lt;String, ProcessEngine&gt;(processEngines);\r\n          processEngines = new HashMap&lt;String, ProcessEngine&gt;();\r\n          \r\n          for (String processEngineName: engines.keySet()) {\r\n            ProcessEngine processEngine = engines.get(processEngineName);\r\n            try {\r\n              processEngine.close();\r\n            } catch (Exception e) {\r\n            //  log.error(&quot;exception while closing {}&quot;, (processEngineName==null ? &quot;the default process engine&quot; : &quot;process engine &quot;+processEngineName), e);\r\n            }\r\n          }\r\n          \r\n          processEngineInfosByName.clear();\r\n          processEngineInfosByResourceUrl.clear();\r\n          processEngineInfos.clear();\r\n          \r\n          setInitialized(false);\r\n        }\r\n      }\r\n      \r\n      public static boolean isInitialized() {\r\n        return isInitialized;\r\n      }\r\n      \r\n      public static void setInitialized(boolean isInitialized) {\r\n        ProcessEngines.isInitialized = isInitialized;\r\n      }\r\n    }\r\n\r\n\r\nas you see  in main class I call this methods :\r\n\r\n    init();\r\n    ProcessEngine processEngine = ProcessEngines.getDefaultProcessEngine();\r\n    RuntimeService runtimeService = processEngine.getRuntimeService();\r\n\r\n\r\nbut also `ProcessEngines.getDefaultProcessEngine()` is null\r\n\r\n\r\n\r\n\r\nwhen I make the debug in this line :\r\n\r\n     ProcessEngineConfiguration processEngineConfiguration = ProcessEngineConfiguration.createProcessEngineConfigurationFromInputStream(inputStream);\r\n\r\ninputStream contains :\r\n\r\n    sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@3820e\r\n    \r\n    sun.net.www.protocol.jar.JarURLConnection:jar:file:/F:/workspace/testwebProject/WebContent/WEB-INF/lib/activiti-cfg.jar!/activiti.cfg.xml\r\n\r\nbut after running this line it will be catched by this line\r\n\r\n \r\n\r\n      } catch (Throwable e) {\r\n         processEngineInfo = new ProcessEngineInfoImpl(null, resourceUrlString, getExceptionString(e));\r\n      }\r\n\r\n\r\n\r\n","title":"ProcessEngines.getDefaultProcessEngine() null point exception","body":"<p>I create under eclipse using activiti plugin my activiti project and I create the process\nthen under activiti explorer (<a href=\"http://com.supcom:8080/activiti-explorer\" rel=\"nofollow noreferrer\">http://com.supcom:8080/activiti-explorer</a>) I have imported this project and I make the export in order to obtain <strong>MyProcess.bpmn20.xml</strong></p>\n<p>I create another web project, I make MyProcess.bpmn20.xml under com.test  package</p>\n<p>in lib folder I put this jar  <strong>activiti-engine-5.13.jar</strong></p>\n<p>when I run this java class I have Exception in thread <strong>&quot;main&quot; java.lang.NullPointerException</strong></p>\n<p>the  <strong>ProcessEngines.getDefaultProcessEngine();</strong>   is null</p>\n<p>this is the java  test in order to deploy my process :</p>\n<pre><code> ProcessEngine processEngine = ProcessEngines.getDefaultProcessEngine();\n RepositoryService repositoryService = processEngine.getRepositoryService();\n       repositoryService.createDeployment()\n       .addClasspathResource(&quot;com/test/MyProcess.bpmn20.xml&quot;)\n       .deploy();\n</code></pre>\n<p><strong>Updated :</strong></p>\n<p>I make activiti-cfg.jar  in lib folder</p>\n<p>this jar contains activit.cfg.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans   http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n  &lt;bean id=&quot;processEngineConfiguration&quot; class=&quot;org.activiti.engine.impl.cfg.StandaloneProcessEngineConfiguration&quot;&gt;\n  \n    &lt;!-- Database configurations --&gt;\n &lt;property name=&quot;databaseType&quot; value=&quot;postgresql&quot; /&gt;\n&lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:postgresql://localhost:5432/activiti8&quot; /&gt;\n&lt;property name=&quot;jdbcDriver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\n&lt;property name=&quot;jdbcUsername&quot; value=&quot;postgres&quot; /&gt;\n&lt;property name=&quot;jdbcPassword&quot; value=&quot;postgres&quot; /&gt;\n    \n  &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p><strong>My process.bpmn.xml is deployed under activiti-explorer  which is worked with postgress</strong></p>\n<p>by modified db.properties</p>\n<pre><code>db=postgres\njdbc.driver=org.postgresql.Driver\njdbc.url=jdbc:postgresql://localhost:5432/activiti8\njdbc.username=postgres\njdbc.password=postgres\n</code></pre>\n<p>this is my  java class test :</p>\n<pre><code>package com.test;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.io.StringWriter;\nimport java.lang.reflect.Method;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.Enumeration;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\nimport org.activiti.engine.ActivitiException;\nimport org.activiti.engine.ActivitiIllegalArgumentException;\nimport org.activiti.engine.ProcessEngine;\nimport org.activiti.engine.ProcessEngineConfiguration;\nimport org.activiti.engine.ProcessEngineInfo;\n//import org.activiti.engine.ProcessEngines;\nimport org.activiti.engine.RuntimeService;\nimport org.activiti.engine.impl.ProcessEngineInfoImpl;\nimport org.activiti.engine.impl.util.ReflectUtil;\nimport org.apache.log4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic abstract class ProcessEngines {\n  \n  //private static Logger log = LoggerFactory.getLogger(ProcessEngines.class);\n  \n  public static final String NAME_DEFAULT = &quot;default&quot;;\n  \n  protected static boolean isInitialized = false; \n  protected static Map&lt;String, ProcessEngine&gt; processEngines = new HashMap&lt;String, ProcessEngine&gt;();\n  protected static Map&lt;String, ProcessEngineInfo&gt; processEngineInfosByName = new HashMap&lt;String, ProcessEngineInfo&gt;();\n  protected static Map&lt;String, ProcessEngineInfo&gt; processEngineInfosByResourceUrl = new HashMap&lt;String, ProcessEngineInfo&gt;();\n  protected static List&lt;ProcessEngineInfo&gt; processEngineInfos = new ArrayList&lt;ProcessEngineInfo&gt;();\n  \n  /** Initializes all process engines that can be found on the classpath for \n   * resources &lt;code&gt;activiti.cfg.xml&lt;/code&gt; (plain Activiti style configuration)\n   * and for resources &lt;code&gt;activiti-context.xml&lt;/code&gt; (Spring style configuration). */\n  \n    public static void main(String[] args) {\n        init();\n          ProcessEngine processEngine = ProcessEngines.getDefaultProcessEngine();\n            RuntimeService runtimeService = processEngine.getRuntimeService();\n        \n    }\n  public synchronized static void init() {\n    if (!isInitialized()) {\n      if(processEngines == null) {\n        // Create new map to store process-engines if current map is null\n        processEngines = new HashMap&lt;String, ProcessEngine&gt;();        \n      }\n      ClassLoader classLoader = ReflectUtil.getClassLoader();\n      Enumeration&lt;URL&gt; resources = null;\n      try {\n        resources = classLoader.getResources(&quot;activiti.cfg.xml&quot;);\n      } catch (IOException e) {\n        throw new ActivitiIllegalArgumentException(&quot;problem retrieving activiti.cfg.xml resources on the classpath: &quot;+System.getProperty(&quot;java.class.path&quot;), e);\n      }\n      \n      // Remove duplicated configuration URL's using set. Some classloaders may return identical URL's twice, causing duplicate startups\n      Set&lt;URL&gt; configUrls = new HashSet&lt;URL&gt;();\n      while (resources.hasMoreElements()) {\n        configUrls.add( resources.nextElement() );\n      }\n      for (Iterator&lt;URL&gt; iterator = configUrls.iterator(); iterator.hasNext();) {\n        URL resource = iterator.next();\n      //  log.info(&quot;Initializing process engine using configuration '{}'&quot;,  resource.toString());\n        initProcessEnginFromResource(resource);\n      }\n      \n      try {\n        resources = classLoader.getResources(&quot;activiti-context.xml&quot;);\n      } catch (IOException e) {\n        throw new ActivitiIllegalArgumentException(&quot;problem retrieving activiti-context.xml resources on the classpath: &quot;+System.getProperty(&quot;java.class.path&quot;), e);\n      }\n      while (resources.hasMoreElements()) {\n        URL resource = resources.nextElement();\n       // log.info(&quot;Initializing process engine using Spring configuration '{}'&quot;,  resource.toString());\n        initProcessEngineFromSpringResource(resource);\n      }\n\n      setInitialized(true);\n    \n    } else {\n   //   log.info(&quot;Process engines already initialized&quot;);\n    }\n  }\n\n  protected static void initProcessEngineFromSpringResource(URL resource) {\n    try {\n      Class&lt; ? &gt; springConfigurationHelperClass = ReflectUtil.loadClass(&quot;org.activiti.spring.SpringConfigurationHelper&quot;);\n      Method method = springConfigurationHelperClass.getMethod(&quot;buildProcessEngine&quot;, new Class&lt;?&gt;[]{URL.class});\n      ProcessEngine processEngine = (ProcessEngine) method.invoke(null, new Object[]{resource});\n      \n      String processEngineName = processEngine.getName();\n      ProcessEngineInfo processEngineInfo = new ProcessEngineInfoImpl(processEngineName, resource.toString(), null);\n      processEngineInfosByName.put(processEngineName, processEngineInfo);\n      processEngineInfosByResourceUrl.put(resource.toString(), processEngineInfo);\n      \n    } catch (Exception e) {\n      throw new ActivitiException(&quot;couldn't initialize process engine from spring configuration resource &quot;+resource.toString()+&quot;: &quot;+e.getMessage(), e);\n    } \n  }\n \n  /**\n   * Registers the given process engine. No {@link ProcessEngineInfo} will be \n   * available for this process engine. An engine that is registered will be closed\n   * when the {@link ProcessEngines#destroy()} is called.\n   */\n  public static void registerProcessEngine(ProcessEngine processEngine) {\n    processEngines.put(processEngine.getName(), processEngine);\n  }\n  \n  /**\n   * Unregisters the given process engine.\n   */\n  public static void unregister(ProcessEngine processEngine) {\n    processEngines.remove(processEngine.getName());\n  }\n\n  private static ProcessEngineInfo initProcessEnginFromResource(URL resourceUrl) {\n    ProcessEngineInfo processEngineInfo = processEngineInfosByResourceUrl.get(resourceUrl.toString());\n    // if there is an existing process engine info\n    if (processEngineInfo!=null) {\n      // remove that process engine from the member fields\n      processEngineInfos.remove(processEngineInfo);\n      if (processEngineInfo.getException()==null) {\n        String processEngineName = processEngineInfo.getName();\n        processEngines.remove(processEngineName);\n        processEngineInfosByName.remove(processEngineName);\n      }\n      processEngineInfosByResourceUrl.remove(processEngineInfo.getResourceUrl());\n    }\n\n    String resourceUrlString = resourceUrl.toString();\n    try {\n   //   log.info(&quot;initializing process engine for resource {}&quot;, resourceUrl);\n      ProcessEngine processEngine = buildProcessEngine(resourceUrl);\n      String processEngineName = processEngine.getName();\n    //  log.info(&quot;initialised process engine {}&quot;, processEngineName);\n      processEngineInfo = new ProcessEngineInfoImpl(processEngineName, resourceUrlString, null);\n      processEngines.put(processEngineName, processEngine);\n      processEngineInfosByName.put(processEngineName, processEngineInfo);\n    } catch (Throwable e) {\n   //   log.error(&quot;Exception while initializing process engine: {}&quot;, e.getMessage(), e);\n      processEngineInfo = new ProcessEngineInfoImpl(null, resourceUrlString, getExceptionString(e));\n    }\n    processEngineInfosByResourceUrl.put(resourceUrlString, processEngineInfo);\n    processEngineInfos.add(processEngineInfo);\n    return processEngineInfo;\n  }\n\n  private static String getExceptionString(Throwable e) {\n    StringWriter sw = new StringWriter();\n    PrintWriter pw = new PrintWriter(sw);\n    e.printStackTrace(pw);\n    return sw.toString();\n  }\n\n  private static  ProcessEngine buildProcessEngine(URL resource) {\n    InputStream inputStream = null;\n    try {\n      inputStream = resource.openStream();\n      ProcessEngineConfiguration processEngineConfiguration = ProcessEngineConfiguration.createProcessEngineConfigurationFromInputStream(inputStream);\n      return processEngineConfiguration.buildProcessEngine();\n      \n    } catch (IOException e) {\n      throw new ActivitiIllegalArgumentException(&quot;couldn't open resource stream: &quot;+e.getMessage(), e);\n    } finally {\n    //  IoUtil.closeSilently(inputStream);\n    }\n  }\n  \n  /** Get initialization results. */\n  public static List&lt;ProcessEngineInfo&gt; getProcessEngineInfos() {\n    return processEngineInfos;\n  }\n\n  /** Get initialization results. Only info will we available for process engines\n   * which were added in the {@link ProcessEngines#init()}. No {@link ProcessEngineInfo}\n   * is available for engines which were registered programatically.\n  */\n  public static ProcessEngineInfo getProcessEngineInfo(String processEngineName) {\n    return processEngineInfosByName.get(processEngineName);\n  }\n\n  public static ProcessEngine getDefaultProcessEngine() {\n    return getProcessEngine(NAME_DEFAULT);\n  }\n\n  /** obtain a process engine by name.  \n   * @param processEngineName is the name of the process engine or null for the default process engine.  */\n  public static ProcessEngine getProcessEngine(String processEngineName) {\n    if (!isInitialized()) {\n      init();\n    }\n    return processEngines.get(processEngineName);\n  }\n  \n  /** retries to initialize a process engine that previously failed.\n   */\n  public static ProcessEngineInfo retry(String resourceUrl) {\n   // log.debug(&quot;retying initializing of resource {}&quot;, resourceUrl);\n    try {\n      return initProcessEnginFromResource(new URL(resourceUrl));\n    } catch (MalformedURLException e) {\n      throw new ActivitiIllegalArgumentException(&quot;invalid url: &quot;+resourceUrl, e);\n    }\n  }\n  \n  /** provides access to process engine to application clients in a \n   * managed server environment.  \n   */\n  public static Map&lt;String, ProcessEngine&gt; getProcessEngines() {\n    return processEngines;\n  }\n  \n  /** closes all process engines.  This method should be called when the server shuts down. */\n  public synchronized static void destroy() {\n    if (isInitialized()) {\n      Map&lt;String, ProcessEngine&gt; engines = new HashMap&lt;String, ProcessEngine&gt;(processEngines);\n      processEngines = new HashMap&lt;String, ProcessEngine&gt;();\n      \n      for (String processEngineName: engines.keySet()) {\n        ProcessEngine processEngine = engines.get(processEngineName);\n        try {\n          processEngine.close();\n        } catch (Exception e) {\n        //  log.error(&quot;exception while closing {}&quot;, (processEngineName==null ? &quot;the default process engine&quot; : &quot;process engine &quot;+processEngineName), e);\n        }\n      }\n      \n      processEngineInfosByName.clear();\n      processEngineInfosByResourceUrl.clear();\n      processEngineInfos.clear();\n      \n      setInitialized(false);\n    }\n  }\n  \n  public static boolean isInitialized() {\n    return isInitialized;\n  }\n  \n  public static void setInitialized(boolean isInitialized) {\n    ProcessEngines.isInitialized = isInitialized;\n  }\n}\n</code></pre>\n<p>as you see  in main class I call this methods :</p>\n<pre><code>init();\nProcessEngine processEngine = ProcessEngines.getDefaultProcessEngine();\nRuntimeService runtimeService = processEngine.getRuntimeService();\n</code></pre>\n<p>but also <code>ProcessEngines.getDefaultProcessEngine()</code> is null</p>\n<p>when I make the debug in this line :</p>\n<pre><code> ProcessEngineConfiguration processEngineConfiguration = ProcessEngineConfiguration.createProcessEngineConfigurationFromInputStream(inputStream);\n</code></pre>\n<p>inputStream contains :</p>\n<pre><code>sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@3820e\n\nsun.net.www.protocol.jar.JarURLConnection:jar:file:/F:/workspace/testwebProject/WebContent/WEB-INF/lib/activiti-cfg.jar!/activiti.cfg.xml\n</code></pre>\n<p>but after running this line it will be catched by this line</p>\n<pre><code>  } catch (Throwable e) {\n     processEngineInfo = new ProcessEngineInfoImpl(null, resourceUrlString, getExceptionString(e));\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1662501999,"post_id":73627998,"comment_id":130019202,"body_markdown":"why are you not using the built in JWT handling that comes with spring security? https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1#1a9a","body":"why are you not using the built in JWT handling that comes with spring security? <a href=\"https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1#1a9a\" rel=\"nofollow noreferrer\">thomasandolf.medium.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662537304,"creation_date":1662537304,"answer_id":73631909,"question_id":73627998,"body_markdown":"In your custom filter you parse *&quot;roles&quot;* JWT claims only to roles as `String`, so your `SecurityContext` doesn&#39;t know anything about permissions (authorities).  \r\nInstead of this try to utilize your `ApplicationUserRole` enum `.getGrantedAuthorities()` method, for example like this:\r\n\r\n\r\n```java\r\nString[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\r\nCollection&lt;SimpleGrantedAuthority&gt; authorities = Arrays.stream(roles)\r\n                .map(ApplicationUserRole::valueOf) // &lt;- parsing every String to ApplicationUserRole\r\n                .map(ApplicationUserRole::getGrantedAuthorities) // &lt;- converting every ApplicationUserRole to a set of GrantedAuthority\r\n                .flatMap(Collection::stream) // &lt;- converting stream of sets to a stream of GrantedAuthority\r\n                .collect(Collectors.toList());\r\nUsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(phoneNumber, null, authorities);\r\nSecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\nfilterChain.doFilter(request, response);\r\n```\r\n\r\nIf *&quot;roles&quot;* claim cannot be parsed to an array of `ApplicationUserRole`, then `.valueOf()` method will throw `IllegalArgumentException`, and your `catch` block will convert it to 403 http status response.","title":"How can I make my spring security custom roles permission aware?","body":"<p>In your custom filter you parse <em>&quot;roles&quot;</em> JWT claims only to roles as <code>String</code>, so your <code>SecurityContext</code> doesn't know anything about permissions (authorities).<br />\nInstead of this try to utilize your <code>ApplicationUserRole</code> enum <code>.getGrantedAuthorities()</code> method, for example like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\nCollection&lt;SimpleGrantedAuthority&gt; authorities = Arrays.stream(roles)\n                .map(ApplicationUserRole::valueOf) // &lt;- parsing every String to ApplicationUserRole\n                .map(ApplicationUserRole::getGrantedAuthorities) // &lt;- converting every ApplicationUserRole to a set of GrantedAuthority\n                .flatMap(Collection::stream) // &lt;- converting stream of sets to a stream of GrantedAuthority\n                .collect(Collectors.toList());\nUsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(phoneNumber, null, authorities);\nSecurityContextHolder.getContext().setAuthentication(authenticationToken);\nfilterChain.doFilter(request, response);\n</code></pre>\n<p>If <em>&quot;roles&quot;</em> claim cannot be parsed to an array of <code>ApplicationUserRole</code>, then <code>.valueOf()</code> method will throw <code>IllegalArgumentException</code>, and your <code>catch</code> block will convert it to 403 http status response.</p>\n"}],"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73631909,"answer_count":1,"score":1,"last_activity_date":1662537304,"creation_date":1662500471,"question_id":73627998,"body_markdown":"I am building a springboot application, and currently trying to implement permission based authorisation. In my securityConfig file, role based authorisation works, but permission based authorisation fails. As seen in the SecurityConfig file below, passing a role in hasAnyRole function in antMatchers works, but passing permissions to hasAnyAuthority does not work, i.e., it does not authorise.\r\n\r\nThis is my SecurityConfig file\r\n```\r\n@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        /*\r\n         * Setting custom login endpoint\r\n         * */\r\n        CustomAuthenticationFilter customAuthenticationFilter = new CustomAuthenticationFilter(authenticationManagerBean());\r\n        customAuthenticationFilter.setFilterProcessesUrl(&quot;/api/login&quot;);\r\n        http.csrf().disable();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/api/login/**&quot;, &quot;/api/token/refresh/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/users/save/**&quot;).permitAll()\r\n                .antMatchers(GET, &quot;/api/users/**&quot;).hasAnyAuthority(CAN_ADD_MEMBER_TO_CHAMA.getPermission())\r\n                .antMatchers(GET, &quot;/api/users/**&quot;).hasAnyRole(PLATFORM_SUPER_ADMIN.name())\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and();\r\n\r\n        http.addFilter(customAuthenticationFilter);\r\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n```\r\n\r\nRoles\r\n```\r\npublic enum ApplicationUserRole {\r\n    PLATFORM_SUPER_ADMIN(\r\n            Sets.newHashSet(\r\n                    CAN_CREATE_CHAMA, CAN_DELETE_CHAMA,\r\n                    CAN_UPDATE_CHAMA, CAN_INVITE_NEW_USER)),\r\n    PLATFORM_USER(Sets.newHashSet(CAN_CREATE_CHAMA)),\r\n\r\n    CHAMA_MEMBER(Sets.newHashSet(CAN_MAKE_CONTRIBUTION, CAN_INVITE_NEW_USER));\r\n\r\n\r\n    private final Set&lt;ApplicationUserPermission&gt; permissions;\r\n\r\n    ApplicationUserRole(Set&lt;ApplicationUserPermission&gt; permissions) {\r\n        this.permissions = permissions;\r\n    }\r\n\r\n    public Set&lt;ApplicationUserPermission&gt; getPermissions() {\r\n        return permissions;\r\n    }\r\n\r\n    public Set&lt;SimpleGrantedAuthority&gt; getGrantedAuthorities() {\r\n        Set&lt;SimpleGrantedAuthority&gt; permissions = getPermissions().stream()\r\n                .map(permission -&gt; new SimpleGrantedAuthority(permission.getPermission()))\r\n                .collect(Collectors.toSet());\r\n        permissions.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + this.name()));\r\n        return permissions;\r\n    }\r\n}\r\n```\r\n\r\nPermissions\r\n\r\n```\r\npackage com.chama.chamaservice.config;\r\n\r\npublic enum ApplicationUserPermission {\r\n    CAN_CREATE_CHAMA(&quot;CAN_CREATE_CHAMA&quot;),\r\n    CAN_DELETE_CHAMA(&quot;CAN_DELETE_CHAMA&quot;),\r\n    CAN_UPDATE_CHAMA(&quot;CAN_UPDATE_CHAMA&quot;),\r\n\r\n    private final String permission;\r\n\r\n    ApplicationUserPermission(String permission) {\r\n        this.permission = permission;\r\n    }\r\n\r\n    public String getPermission() {\r\n        return permission;\r\n    }\r\n}\r\n```\r\n\r\nCustomAuthorizationFilter\r\n```\r\npublic class CustomAuthorizationFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        if (request.getServletPath().equals(&quot;/api/login&quot;) || request.getServletPath().equals(&quot;/api/refresh/token&quot;)) {\r\n            filterChain.doFilter(request, response);\r\n        } else {\r\n            // Generate new access token from refresh token\r\n            String authorizationHeader = request.getHeader(AUTHORIZATION);\r\n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n                try {\r\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\r\n                    Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\r\n                    JWTVerifier verifier = JWT.require(algorithm).build();\r\n                    DecodedJWT decodedJWT = verifier.verify(token);\r\n                    String phoneNumber = decodedJWT.getSubject();\r\n\r\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\r\n                    Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n                    stream(roles).forEach(role -&gt; {\r\n                        authorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role)); // Populate ROLES\r\n                    });\r\n\r\n                    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(phoneNumber, null, authorities);\r\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n                    filterChain.doFilter(request, response);\r\n                } catch (Exception e) {\r\n                    log.error(&quot;Error logging in: {}&quot;, e.getMessage());\r\n                    response.setHeader(&quot;error&quot;, e.getMessage());\r\n                    response.setStatus(FORBIDDEN.value());\r\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\r\n                    error.put(&quot;message&quot;, e.getMessage());\r\n                    response.setContentType(APPLICATION_JSON_VALUE);\r\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\r\n                }\r\n            } else {\r\n                filterChain.doFilter(request, response);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How can I make my spring security custom roles permission aware?","body":"<p>I am building a springboot application, and currently trying to implement permission based authorisation. In my securityConfig file, role based authorisation works, but permission based authorisation fails. As seen in the SecurityConfig file below, passing a role in hasAnyRole function in antMatchers works, but passing permissions to hasAnyAuthority does not work, i.e., it does not authorise.</p>\n<p>This is my SecurityConfig file</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        /*\n         * Setting custom login endpoint\n         * */\n        CustomAuthenticationFilter customAuthenticationFilter = new CustomAuthenticationFilter(authenticationManagerBean());\n        customAuthenticationFilter.setFilterProcessesUrl(&quot;/api/login&quot;);\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeRequests()\n                .antMatchers(&quot;/api/login/**&quot;, &quot;/api/token/refresh/**&quot;).permitAll()\n                .antMatchers(&quot;/api/users/save/**&quot;).permitAll()\n                .antMatchers(GET, &quot;/api/users/**&quot;).hasAnyAuthority(CAN_ADD_MEMBER_TO_CHAMA.getPermission())\n                .antMatchers(GET, &quot;/api/users/**&quot;).hasAnyRole(PLATFORM_SUPER_ADMIN.name())\n                .anyRequest()\n                .authenticated()\n                .and();\n\n        http.addFilter(customAuthenticationFilter);\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n</code></pre>\n<p>Roles</p>\n<pre><code>public enum ApplicationUserRole {\n    PLATFORM_SUPER_ADMIN(\n            Sets.newHashSet(\n                    CAN_CREATE_CHAMA, CAN_DELETE_CHAMA,\n                    CAN_UPDATE_CHAMA, CAN_INVITE_NEW_USER)),\n    PLATFORM_USER(Sets.newHashSet(CAN_CREATE_CHAMA)),\n\n    CHAMA_MEMBER(Sets.newHashSet(CAN_MAKE_CONTRIBUTION, CAN_INVITE_NEW_USER));\n\n\n    private final Set&lt;ApplicationUserPermission&gt; permissions;\n\n    ApplicationUserRole(Set&lt;ApplicationUserPermission&gt; permissions) {\n        this.permissions = permissions;\n    }\n\n    public Set&lt;ApplicationUserPermission&gt; getPermissions() {\n        return permissions;\n    }\n\n    public Set&lt;SimpleGrantedAuthority&gt; getGrantedAuthorities() {\n        Set&lt;SimpleGrantedAuthority&gt; permissions = getPermissions().stream()\n                .map(permission -&gt; new SimpleGrantedAuthority(permission.getPermission()))\n                .collect(Collectors.toSet());\n        permissions.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + this.name()));\n        return permissions;\n    }\n}\n</code></pre>\n<p>Permissions</p>\n<pre><code>package com.chama.chamaservice.config;\n\npublic enum ApplicationUserPermission {\n    CAN_CREATE_CHAMA(&quot;CAN_CREATE_CHAMA&quot;),\n    CAN_DELETE_CHAMA(&quot;CAN_DELETE_CHAMA&quot;),\n    CAN_UPDATE_CHAMA(&quot;CAN_UPDATE_CHAMA&quot;),\n\n    private final String permission;\n\n    ApplicationUserPermission(String permission) {\n        this.permission = permission;\n    }\n\n    public String getPermission() {\n        return permission;\n    }\n}\n</code></pre>\n<p>CustomAuthorizationFilter</p>\n<pre><code>public class CustomAuthorizationFilter extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        if (request.getServletPath().equals(&quot;/api/login&quot;) || request.getServletPath().equals(&quot;/api/refresh/token&quot;)) {\n            filterChain.doFilter(request, response);\n        } else {\n            // Generate new access token from refresh token\n            String authorizationHeader = request.getHeader(AUTHORIZATION);\n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n                try {\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\n                    Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\n                    JWTVerifier verifier = JWT.require(algorithm).build();\n                    DecodedJWT decodedJWT = verifier.verify(token);\n                    String phoneNumber = decodedJWT.getSubject();\n\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\n                    Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n                    stream(roles).forEach(role -&gt; {\n                        authorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role)); // Populate ROLES\n                    });\n\n                    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(phoneNumber, null, authorities);\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n                    filterChain.doFilter(request, response);\n                } catch (Exception e) {\n                    log.error(&quot;Error logging in: {}&quot;, e.getMessage());\n                    response.setHeader(&quot;error&quot;, e.getMessage());\n                    response.setStatus(FORBIDDEN.value());\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\n                    error.put(&quot;message&quot;, e.getMessage());\n                    response.setContentType(APPLICATION_JSON_VALUE);\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\n                }\n            } else {\n                filterChain.doFilter(request, response);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","date","parsing","localdate"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1662451681,"post_id":73618440,"comment_id":130002175,"body_markdown":"This looks like you need a `LocalDateTime` instead of a `LocalDate`.","body":"This looks like you need a <code>LocalDateTime</code> instead of a <code>LocalDate</code>."},{"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"score":0,"creation_date":1662456363,"post_id":73618440,"comment_id":130003816,"body_markdown":"Does this answer your question? [String to LocalDate](https://stackoverflow.com/questions/8746084/string-to-localdate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8746084/string-to-localdate\">String to LocalDate</a>"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662537208,"creation_date":1662451019,"answer_id":73618585,"question_id":73618440,"body_markdown":"You don&#39;t use the specified format for parsing, you use it to format the parsed date.\r\n\r\n```java\r\nLocalDate.parse(mydate)\r\n```\r\n\r\n uses the default [`ISO_LOCAL_DATE`][1] format. You are looking for this overload:\r\n\r\n```java\r\nLocalDate.parse(mydate, DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;))\r\n```\r\n\r\nThis method uses the specified format for parsing string to date. See this [code run at Ideone.com][2].\r\n\r\nNote that you are using [`LocalDate`][3], meaning it will throw away the time part, keeping only the date after parsing. You probably meant to use [`LocalDateTime`][4].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\r\n  [2]: https://ideone.com/evbnNp\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html","title":"Format date from String to LocalDate","body":"<p>You don't use the specified format for parsing, you use it to format the parsed date.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate.parse(mydate)\n</code></pre>\n<p> uses the default <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\" rel=\"nofollow noreferrer\"><code>ISO_LOCAL_DATE</code></a> format. You are looking for this overload:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate.parse(mydate, DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;))\n</code></pre>\n<p>This method uses the specified format for parsing string to date. See this <a href=\"https://ideone.com/evbnNp\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<p>Note that you are using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>, meaning it will throw away the time part, keeping only the date after parsing. You probably meant to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662455202,"creation_date":1662451235,"answer_id":73618643,"question_id":73618440,"body_markdown":"The main problem of your code example is that you first parse the `String` to a `LocalDate` without the use of a suitable `DateTimeFormatter` and then `format()` it with a `DateTimeFormatter` that tries to format hour of day, minute of hour and second of minute which just aren&#39;t there in a `LocalDate`.\r\n\r\nYou can parse this `String` to a `LocalDate` directly, but better parse it to a `LocalDateTime` because your `String` contains more than just information about\r\n\r\n  - day of month\r\n  - month of year\r\n  - year\r\n\r\nYour `myDate` (and probably the `testPasswordExp`, too) has a time of day. You can get a `LocalDate` as the final result that way, too, because a `LocalDateTime` can be narrowed down `toLocalDate()`.\r\n\r\nA possible way:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t// example datetime\r\n\tString testPasswordExp = &quot;18.10.2022 07:50:18&quot;;\r\n\t\r\n\tSystem.out.println(\r\n\t\tLocalDateTime\t// use a LocalDateTime and\r\n            .parse(\t\t//  parse \r\n        \t\ttestPasswordExp,\t//  the datetime using a specific formatter,\r\n        \t\tDateTimeFormatter.ofPattern(&quot;dd.MM.uuuu HH:mm:ss&quot;)\r\n        \t).toLocalDate() // then extract the LocalDate\r\n    );\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n2022-10-18\r\n```","title":"Format date from String to LocalDate","body":"<p>The main problem of your code example is that you first parse the <code>String</code> to a <code>LocalDate</code> without the use of a suitable <code>DateTimeFormatter</code> and then <code>format()</code> it with a <code>DateTimeFormatter</code> that tries to format hour of day, minute of hour and second of minute which just aren't there in a <code>LocalDate</code>.</p>\n<p>You can parse this <code>String</code> to a <code>LocalDate</code> directly, but better parse it to a <code>LocalDateTime</code> because your <code>String</code> contains more than just information about</p>\n<ul>\n<li>day of month</li>\n<li>month of year</li>\n<li>year</li>\n</ul>\n<p>Your <code>myDate</code> (and probably the <code>testPasswordExp</code>, too) has a time of day. You can get a <code>LocalDate</code> as the final result that way, too, because a <code>LocalDateTime</code> can be narrowed down <code>toLocalDate()</code>.</p>\n<p>A possible way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // example datetime\n    String testPasswordExp = &quot;18.10.2022 07:50:18&quot;;\n    \n    System.out.println(\n        LocalDateTime   // use a LocalDateTime and\n            .parse(     //  parse \n                testPasswordExp,    //  the datetime using a specific formatter,\n                DateTimeFormatter.ofPattern(&quot;dd.MM.uuuu HH:mm:ss&quot;)\n            ).toLocalDate() // then extract the LocalDate\n    );\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-10-18\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9424381,"reputation":62,"user_id":7009850,"display_name":"neha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662457443,"creation_date":1662456610,"answer_id":73619730,"question_id":73618440,"body_markdown":"   You can use   \r\n \r\n        String mydate = &quot;18.10.2022 07:50:18&quot;;\r\n\r\n\r\n        LocalDate ld = LocalDate.parse(mydate, DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;));\r\n\r\n        System.out.println(ld.toString());\r\n\r\n","title":"Format date from String to LocalDate","body":"<p>You can use</p>\n<pre><code>    String mydate = &quot;18.10.2022 07:50:18&quot;;\n\n\n    LocalDate ld = LocalDate.parse(mydate, DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;));\n\n    System.out.println(ld.toString());\n</code></pre>\n"}],"owner":{"account_id":20050901,"reputation":9,"user_id":19269293,"display_name":"Tacoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73618585,"answer_count":3,"score":0,"last_activity_date":1662537208,"creation_date":1662450293,"question_id":73618440,"body_markdown":"I have a problem parsing a `String` to `LocalDate`.  \r\nAccording to similar questions on Stackoverflow and documentation I am using the correct values dd (day of the month), MM (month of the year) and yyyy (year).\r\n\r\nMy String\r\n\r\n```java\r\nString mydate = &quot;18.10.2022 07:50:18&quot;;\r\n```\r\n\r\nMy parsing test code\r\n\r\n```java\r\nSystem.out.println(\r\n    LocalDate.parse(testPasswordExp)\r\n             .format(DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;)\r\n    )\r\n);\r\n```\r\nError:\r\n\r\n```none\r\nCaused by: java.lang.RuntimeException:\r\njava.time.format.DateTimeParseException:\r\nText &#39;18.10.2022 07:50:18&#39; could not be parsed at index 0\r\n\r\n","title":"Format date from String to LocalDate","body":"<p>I have a problem parsing a <code>String</code> to <code>LocalDate</code>.<br />\nAccording to similar questions on Stackoverflow and documentation I am using the correct values dd (day of the month), MM (month of the year) and yyyy (year).</p>\n<p>My String</p>\n<pre class=\"lang-java prettyprint-override\"><code>String mydate = &quot;18.10.2022 07:50:18&quot;;\n</code></pre>\n<p>My parsing test code</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\n    LocalDate.parse(testPasswordExp)\n             .format(DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;)\n    )\n);\n</code></pre>\n<p>Error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.lang.RuntimeException:\njava.time.format.DateTimeParseException:\nText '18.10.2022 07:50:18' could not be parsed at index 0\n\n</code></pre>\n"},{"tags":["java","postgresql","jdbc","prepared-statement"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662535316,"post_id":73631509,"comment_id":130024841,"body_markdown":"Is there any particular reason you want to insert `did` manually even if it&#39;s a serial? If not, just remove it from the `insert`.","body":"Is there any particular reason you want to insert <code>did</code> manually even if it&#39;s a serial? If not, just remove it from the <code>insert</code>."},{"owner":{"account_id":20266033,"reputation":23,"user_id":14863200,"display_name":"lets_code"},"score":0,"creation_date":1662535520,"post_id":73631509,"comment_id":130024910,"body_markdown":"Yes I want to test the database performance against various insert scenarios so have to use it @FedericoklezCulloca","body":"Yes I want to test the database performance against various insert scenarios so have to use it @FedericoklezCulloca"}],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662535934,"creation_date":1662535634,"answer_id":73631576,"question_id":73631509,"body_markdown":"**Solution 1**\r\n\r\n```sql\r\nINSERT INTO distributors (dname) VALUES (?);\r\n```\r\nuse trigger. Reference document: https://www.postgresql.org/docs/current/sql-createtrigger.html\r\n\r\n**Solution 2**\r\n\r\n```sql\r\nINSERT INTO distributors (did,dname) VALUES (nextval(&#39;serial_no&#39;), ?);\r\n```\r\nSee https://stackoverflow.com/a/21397740/3728901\r\n","title":"What will be the PreparedStatements for the below PostgreSQL table?","body":"<p><strong>Solution 1</strong></p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO distributors (dname) VALUES (?);\n</code></pre>\n<p>use trigger. Reference document: <a href=\"https://www.postgresql.org/docs/current/sql-createtrigger.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/current/sql-createtrigger.html</a></p>\n<p><strong>Solution 2</strong></p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO distributors (did,dname) VALUES (nextval('serial_no'), ?);\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/a/21397740/3728901\">https://stackoverflow.com/a/21397740/3728901</a></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662536551,"creation_date":1662536242,"answer_id":73631702,"question_id":73631509,"body_markdown":"I have no experience with default values _(maybe you must set a java default constant)_, I normally leave them out of the SQL.\r\nFor the rest you can get the generated key as follows:\r\n\r\n\tString SQL = &quot;INSERT INTO distributors (dname) VALUES (?)&quot;;\r\n\ttry (PreparedStatement statement = connection.prepareStatement(SQL,\r\n                   Statement.RETURN_GENERATED_KEYS)) {\r\n\t\tstatement.setString(1, null); // Unsure, doubt this.\r\n\t\tint updateCount = statement.executeUpdate();\r\n\t\ttry (ResultSet keyRS = statement.getGeneratedKeys()) {\r\n\t\t\tif (keyRSs.next()) {\r\n\t\t\t    int dId = keyRS.getInt(1));\r\n\t\t\t\t...\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThe _try-with-resources_ syntax - though weird - ensures that `statement`and `keyRS` are both closed (they are AutoCloseable), whatever happens, break/return/exception. You could return inside the `if`.\r\n\r\nHere the update count would be 1.\r\n\r\nThe result set covers having inserted multiple records, and possible generating more keys per record. You must request this in advance with an extra parameter to `prepareStatement`.\r\n","title":"What will be the PreparedStatements for the below PostgreSQL table?","body":"<p>I have no experience with default values <em>(maybe you must set a java default constant)</em>, I normally leave them out of the SQL.\nFor the rest you can get the generated key as follows:</p>\n<pre><code>String SQL = &quot;INSERT INTO distributors (dname) VALUES (?)&quot;;\ntry (PreparedStatement statement = connection.prepareStatement(SQL,\n               Statement.RETURN_GENERATED_KEYS)) {\n    statement.setString(1, null); // Unsure, doubt this.\n    int updateCount = statement.executeUpdate();\n    try (ResultSet keyRS = statement.getGeneratedKeys()) {\n        if (keyRSs.next()) {\n            int dId = keyRS.getInt(1));\n            ...\n        }\n    }\n}\n</code></pre>\n<p>The <em>try-with-resources</em> syntax - though weird - ensures that <code>statement</code>and <code>keyRS</code> are both closed (they are AutoCloseable), whatever happens, break/return/exception. You could return inside the <code>if</code>.</p>\n<p>Here the update count would be 1.</p>\n<p>The result set covers having inserted multiple records, and possible generating more keys per record. You must request this in advance with an extra parameter to <code>prepareStatement</code>.</p>\n"}],"owner":{"account_id":20266033,"reputation":23,"user_id":14863200,"display_name":"lets_code"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662536551,"creation_date":1662535243,"question_id":73631509,"body_markdown":"I want to use JDBC for `preparedStatement` in Java for inserting data into a PostgreSQL database. I have the following DDL\r\n\r\n```sql\r\nCREATE SEQUENCE serial_no;\r\n\r\nCREATE TABLE distributors (\r\n    did   DECIMAL(3)  DEFAULT NEXTVAL(&#39;serial_no&#39;), \r\n    dname  VARCHAR(40) DEFAULT &#39;lusofilms&#39;\r\n);\r\n```\r\n\r\nI want to insert data into this table. Should the PreparedStatement be\r\n\r\n```sql\r\nINSERT INTO distributors (did,dname) VALUES (?,?);\r\n```\r\nAnd if so how do I do insertions in `PreparedStatements` for default values?","title":"What will be the PreparedStatements for the below PostgreSQL table?","body":"<p>I want to use JDBC for <code>preparedStatement</code> in Java for inserting data into a PostgreSQL database. I have the following DDL</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE SEQUENCE serial_no;\n\nCREATE TABLE distributors (\n    did   DECIMAL(3)  DEFAULT NEXTVAL('serial_no'), \n    dname  VARCHAR(40) DEFAULT 'lusofilms'\n);\n</code></pre>\n<p>I want to insert data into this table. Should the PreparedStatement be</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO distributors (did,dname) VALUES (?,?);\n</code></pre>\n<p>And if so how do I do insertions in <code>PreparedStatements</code> for default values?</p>\n"},{"tags":["java","keycloak","keycloak-services"],"answers":[{"tags":[],"owner":{"account_id":382603,"reputation":9058,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1579820805,"creation_date":1579820805,"answer_id":59888309,"question_id":59887180,"body_markdown":"You can create groups and subgroups under it , Here is the sample code to create subgroups using Admin Client. You can also associate users to those groups\r\n\r\n     public void addSubgroups()  {\r\n    \t        RealmResource realm =keycloak.realm(&quot;myrealm&quot;);\r\n    \t        GroupRepresentation topGroup = new GroupRepresentation();\r\n    \t        topGroup.setName(&quot;group&quot;);\r\n    \t        topGroup = createGroup(realm, topGroup);\r\n    \t        \r\n    \t        createSubGroup(realm,topGroup.getId(),&quot;subgroup1&quot;);\r\n    \t        createSubGroup(realm,topGroup.getId(),&quot;subgroup2&quot;);\r\n    \t    }\r\n    \t \r\n    \t   private void createSubGroup(RealmResource realm, String parentGroupId, String subGroupName) {\r\n    \t\t   GroupRepresentation subgroup = new GroupRepresentation();\r\n    \t         subgroup.setName(subGroupName);\r\n    \t\t   try (Response response = realm.groups().group(parentGroupId).subGroup(subgroup)){\r\n    \t\t\t\tif (response.getStatusInfo().getFamily() == Family.SUCCESSFUL) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Created Subgroup : &quot; + subGroupName );\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tlogger.severe(&quot;Error Creating Subgroup : &quot; + subGroupName + &quot;, Error Message : &quot; + getErrorMessage(response));\r\n    \t\t\t\t}\r\n    \t\t\t} \r\n    \t   }\r\n    \t\r\n    \t   private GroupRepresentation createGroup(RealmResource realm, GroupRepresentation group) {\r\n    \t        try (Response response = realm.groups().add(group)) {\r\n    \t            String groupId = getCreatedId(response);           \r\n    \t            group.setId(groupId);\r\n    \t            return group;\r\n    \t        }\r\n    \t    }\t ","title":"Keycloak: how to programmatically add new subgroups with associated users?","body":"<p>You can create groups and subgroups under it , Here is the sample code to create subgroups using Admin Client. You can also associate users to those groups</p>\n\n<pre><code> public void addSubgroups()  {\n            RealmResource realm =keycloak.realm(\"myrealm\");\n            GroupRepresentation topGroup = new GroupRepresentation();\n            topGroup.setName(\"group\");\n            topGroup = createGroup(realm, topGroup);\n\n            createSubGroup(realm,topGroup.getId(),\"subgroup1\");\n            createSubGroup(realm,topGroup.getId(),\"subgroup2\");\n        }\n\n       private void createSubGroup(RealmResource realm, String parentGroupId, String subGroupName) {\n           GroupRepresentation subgroup = new GroupRepresentation();\n             subgroup.setName(subGroupName);\n           try (Response response = realm.groups().group(parentGroupId).subGroup(subgroup)){\n                if (response.getStatusInfo().getFamily() == Family.SUCCESSFUL) {\n                    System.out.println(\"Created Subgroup : \" + subGroupName );\n                } else {\n                    logger.severe(\"Error Creating Subgroup : \" + subGroupName + \", Error Message : \" + getErrorMessage(response));\n                }\n            } \n       }\n\n       private GroupRepresentation createGroup(RealmResource realm, GroupRepresentation group) {\n            try (Response response = realm.groups().add(group)) {\n                String groupId = getCreatedId(response);           \n                group.setId(groupId);\n                return group;\n            }\n        }    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12049957,"reputation":21,"user_id":8813362,"display_name":"Mahesh solanki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662535575,"creation_date":1662119229,"answer_id":73582078,"question_id":59887180,"body_markdown":"    getCreatedId(response); \r\n\r\nThis method in above answer (by ravthiru) is belongs to CreatedResponseUtil from `package (org.keycloak.admin.client)`\r\n\r\n    CreatedResponseUtil.getCreatedId(response);","title":"Keycloak: how to programmatically add new subgroups with associated users?","body":"<pre><code>getCreatedId(response); \n</code></pre>\n<p>This method in above answer (by ravthiru) is belongs to CreatedResponseUtil from <code>package (org.keycloak.admin.client)</code></p>\n<pre><code>CreatedResponseUtil.getCreatedId(response);\n</code></pre>\n"}],"owner":{"account_id":3081969,"reputation":10354,"user_id":2609980,"accept_rate":94,"display_name":"user2609980"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7370,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59888309,"answer_count":2,"score":2,"last_activity_date":1662535575,"creation_date":1579814206,"question_id":59887180,"body_markdown":"In Keycloak 8.0.1 we have a Realm with a Group and Subgroups like this:\n\n```\ngroup -\n    subgroup1\n    subgroup2\n    ...\n```\n\nWe need to insert a batch of subgroups and users into `group`. The subgroup should have some attributes.\n\nHow can I do this?\n\nI tried:\n\n 1. Using an exported `realm-export.json` file with newly added subgroups and &quot;Overwrite&quot; on the import. Now I don&#39;t see how to connect the new user with the subgroup. And I am also not sure if old users will not be removed this way.\n 2. Calling the Keycloak REST API. It doesn&#39;t seem possible to UPDATE a group and add subgroups. [Documentation](https://www.keycloak.org/docs-api/5.0/rest-api/index.html#_updategroup) says: \n\n     &gt;`PUT /{realm}/groups/{id}`&lt;br/&gt;Update group, ignores subgroups.\n\nNow I am looking at using a UI testing tool to add the user programmatically, but this seems needlessly complex.\n\nIs it possible to programmatically add new subgroups with users associated to that subgroup? Am I missing something with the REST API call or the import functionality? Is there maybe another way via for example the [Java Admin Client](https://gist.github.com/thomasdarimont/c4e739c5a319cf78a4cff3b87173a84b)?\n","title":"Keycloak: how to programmatically add new subgroups with associated users?","body":"<p>In Keycloak 8.0.1 we have a Realm with a Group and Subgroups like this:</p>\n<pre><code>group -\n    subgroup1\n    subgroup2\n    ...\n</code></pre>\n<p>We need to insert a batch of subgroups and users into <code>group</code>. The subgroup should have some attributes.</p>\n<p>How can I do this?</p>\n<p>I tried:</p>\n<ol>\n<li><p>Using an exported <code>realm-export.json</code> file with newly added subgroups and &quot;Overwrite&quot; on the import. Now I don't see how to connect the new user with the subgroup. And I am also not sure if old users will not be removed this way.</p>\n</li>\n<li><p>Calling the Keycloak REST API. It doesn't seem possible to UPDATE a group and add subgroups. <a href=\"https://www.keycloak.org/docs-api/5.0/rest-api/index.html#_updategroup\" rel=\"nofollow noreferrer\">Documentation</a> says:</p>\n<blockquote>\n<p><code>PUT /{realm}/groups/{id}</code><br/>Update group, ignores subgroups.</p>\n</blockquote>\n</li>\n</ol>\n<p>Now I am looking at using a UI testing tool to add the user programmatically, but this seems needlessly complex.</p>\n<p>Is it possible to programmatically add new subgroups with users associated to that subgroup? Am I missing something with the REST API call or the import functionality? Is there maybe another way via for example the <a href=\"https://gist.github.com/thomasdarimont/c4e739c5a319cf78a4cff3b87173a84b\" rel=\"nofollow noreferrer\">Java Admin Client</a>?</p>\n"},{"tags":["java","google-apps-script","key","signature","secret-key"],"comments":[{"owner":{"account_id":9571025,"reputation":186924,"user_id":7108653,"display_name":"Tanaike"},"score":0,"creation_date":1662529651,"post_id":73630558,"comment_id":130023224,"body_markdown":"I have to apologize for my poor English skill. Unfortunately, I cannot understand your current issue from `have written a script that should work but is not`. Can I ask you about the detail of your current issue? For example, if an error occurs, can you provide it?","body":"I have to apologize for my poor English skill. Unfortunately, I cannot understand your current issue from <code>have written a script that should work but is not</code>. Can I ask you about the detail of your current issue? For example, if an error occurs, can you provide it?"},{"owner":{"account_id":14054610,"reputation":23,"user_id":10152354,"display_name":"kenjosimmons"},"score":0,"creation_date":1662530336,"post_id":73630558,"comment_id":130023396,"body_markdown":"@Tanaike so in the logger I get this - 10:58:07 PM\tInfo\t{&quot;code&quot;:&quot;200000&quot;,&quot;data&quot;:{&quot;dataList&quot;:[],&quot;hasMore&quot;:false}}. but I want the data associated with this endpoint to show up on a spreadsheet, rather than the logger. Although. when I use return it&#39;s just blank in the cell. If you&#39;re familiar with API and signatures with keys and secrets, does my code look correct? thanks.","body":"@Tanaike so in the logger I get this - 10:58:07 PM\tInfo\t{&quot;code&quot;:&quot;200000&quot;,&quot;data&quot;:{&quot;dataList&quot;:[],&quot;hasMore&quot;:fal&zwnj;&#8203;se}}. but I want the data associated with this endpoint to show up on a spreadsheet, rather than the logger. Although. when I use return it&#39;s just blank in the cell. If you&#39;re familiar with API and signatures with keys and secrets, does my code look correct? thanks."},{"owner":{"account_id":9571025,"reputation":186924,"user_id":7108653,"display_name":"Tanaike"},"score":0,"creation_date":1662532929,"post_id":73630558,"comment_id":130024071,"body_markdown":"Thank you for replying. From `&quot;code&quot;:&quot;200000&quot;`, in this case, the document says `A successful response is indicated by an HTTP status code 200 and system code 200000.`. So I think that the request is correct. About `&quot;data&quot;:{&quot;dataList&quot;:[],&quot;hasMore&quot;:false}`, in this case, when your endpoint and your token are used, are there the possibility of no values? I&#39;m worried about it.","body":"Thank you for replying. From <code>&quot;code&quot;:&quot;200000&quot;</code>, in this case, the document says <code>A successful response is indicated by an HTTP status code 200 and system code 200000.</code>. So I think that the request is correct. About <code>&quot;data&quot;:{&quot;dataList&quot;:[],&quot;hasMore&quot;:false}</code>, in this case, when your endpoint and your token are used, are there the possibility of no values? I&#39;m worried about it."},{"owner":{"account_id":14054610,"reputation":23,"user_id":10152354,"display_name":"kenjosimmons"},"score":0,"creation_date":1662533863,"post_id":73630558,"comment_id":130024376,"body_markdown":"@Tanaike So my endpoint is -api/v1/transaction-history and since I&#39;ve been trading recently, I can only assume that it would populate the trade history connected to my account api, passphrase, and secret. Do you think that the data isn&#39;t being called correctly? thanks.","body":"@Tanaike So my endpoint is -api/v1/transaction-history and since I&#39;ve been trading recently, I can only assume that it would populate the trade history connected to my account api, passphrase, and secret. Do you think that the data isn&#39;t being called correctly? thanks."},{"owner":{"account_id":14054610,"reputation":23,"user_id":10152354,"display_name":"kenjosimmons"},"score":0,"creation_date":1662533904,"post_id":73630558,"comment_id":130024393,"body_markdown":"how would I return results to sheet cells?","body":"how would I return results to sheet cells?"},{"owner":{"account_id":9571025,"reputation":186924,"user_id":7108653,"display_name":"Tanaike"},"score":0,"creation_date":1662533994,"post_id":73630558,"comment_id":130024426,"body_markdown":"Thank you for replying. From the response code, it is considered that your request is correct. So, for example, in this case, how about asking your current issue to the administrator of API? About `how would I return results to sheet cells?`, I cannot know the actual response values. So I cannot propose the sample script. I apologize for this.","body":"Thank you for replying. From the response code, it is considered that your request is correct. So, for example, in this case, how about asking your current issue to the administrator of API? About <code>how would I return results to sheet cells?</code>, I cannot know the actual response values. So I cannot propose the sample script. I apologize for this."}],"owner":{"account_id":14054610,"reputation":23,"user_id":10152354,"display_name":"kenjosimmons"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662535371,"creation_date":1662528829,"question_id":73630558,"body_markdown":"Over the past few days I&#39;ve been trying to engineer a piece of code that can help me access this api https://api-futures.kucoin.com and this endpoint /api/v1/transaction-history?offset=1&amp;forward=true&amp;maxCount=50 using hash encryption.\r\n\r\nReference document https://docs.kucoin.com/futures/#authentication . I&#39;ve been looking at the reference document, then I have written a script that should work but is not and I just need some guidance.\r\n\r\n```javascript\r\nfunction KuCoinRequest(){\r\n    // GET /api/v1/transaction-history?offset=1&amp;forward=true&amp;maxCount=50\r\n    var key =&#39;xx&#39;\r\n    var secret = &#39;xx&#39;\r\n    var passphrase = &#39;xx&#39; \r\n    var url = &quot;https://api-futures.kucoin.com&quot;; //endpoint\r\n    var timestamp = &#39;&#39; + Number(new Date().getTime()).toFixed(0);\r\n    var command = &quot;GET&quot;;\r\n    var endpoint = &quot;/api/v1/transaction-history?offset=1&amp;forward=true&amp;maxCount=50&quot;\r\n    var str_to_sign = timestamp + command + endpoint;\r\n    // var signature = Utilities.computeHmacSha256(str_to_sign, secret);\r\n    // var encodedPass = Utilities.computeHmacSha256(passphrase, secret);\r\n    var signature = Utilities.computeHmacSignature(Utilities.MacAlgorithm.HMAC_SHA_256, str_to_sign, secret)\r\n    var encodedPass = Utilities.computeHmacSignature(Utilities.MacAlgorithm.HMAC_SHA_256, passphrase, secret);\r\n    var params = {\r\n        &#39;method&#39;: &quot;GET&quot;,\r\n        &#39;headers&#39; : {\r\n            &#39;KC-API-SIGN&#39;: Utilities.base64Encode(signature),\r\n            &#39;KC-API-KEY&#39;: key,\r\n            &#39;KC-API-TIMESTAMP&#39;: timestamp,         \r\n            &#39;KC-API-PASSPHRASE&#39;: Utilities.base64Encode(encodedPass),     \r\n            &#39;KC-API-KEY-VERSION&#39;: &#39;2&#39;,     \r\n            &#39;muteHttpExceptions&#39;: true       \r\n        }\r\n    };         \r\n    query = url + endpoint;      \r\n    var data = UrlFetchApp.fetch(query, params);\r\n    Logger.log(data.getContentText());   \r\n    // printJsonKucoin(data, endpoint); \r\n    return data;\r\n}\r\n```","title":"How do I properly integrate KuKoin API w/ secret, passphrase, and key signature using Google Apps Script?","body":"<p>Over the past few days I've been trying to engineer a piece of code that can help me access this api <a href=\"https://api-futures.kucoin.com\" rel=\"nofollow noreferrer\">https://api-futures.kucoin.com</a> and this endpoint /api/v1/transaction-history?offset=1&amp;forward=true&amp;maxCount=50 using hash encryption.</p>\n<p>Reference document <a href=\"https://docs.kucoin.com/futures/#authentication\" rel=\"nofollow noreferrer\">https://docs.kucoin.com/futures/#authentication</a> . I've been looking at the reference document, then I have written a script that should work but is not and I just need some guidance.</p>\n<pre class=\"lang-js prettyprint-override\"><code>function KuCoinRequest(){\n    // GET /api/v1/transaction-history?offset=1&amp;forward=true&amp;maxCount=50\n    var key ='xx'\n    var secret = 'xx'\n    var passphrase = 'xx' \n    var url = &quot;https://api-futures.kucoin.com&quot;; //endpoint\n    var timestamp = '' + Number(new Date().getTime()).toFixed(0);\n    var command = &quot;GET&quot;;\n    var endpoint = &quot;/api/v1/transaction-history?offset=1&amp;forward=true&amp;maxCount=50&quot;\n    var str_to_sign = timestamp + command + endpoint;\n    // var signature = Utilities.computeHmacSha256(str_to_sign, secret);\n    // var encodedPass = Utilities.computeHmacSha256(passphrase, secret);\n    var signature = Utilities.computeHmacSignature(Utilities.MacAlgorithm.HMAC_SHA_256, str_to_sign, secret)\n    var encodedPass = Utilities.computeHmacSignature(Utilities.MacAlgorithm.HMAC_SHA_256, passphrase, secret);\n    var params = {\n        'method': &quot;GET&quot;,\n        'headers' : {\n            'KC-API-SIGN': Utilities.base64Encode(signature),\n            'KC-API-KEY': key,\n            'KC-API-TIMESTAMP': timestamp,         \n            'KC-API-PASSPHRASE': Utilities.base64Encode(encodedPass),     \n            'KC-API-KEY-VERSION': '2',     \n            'muteHttpExceptions': true       \n        }\n    };         \n    query = url + endpoint;      \n    var data = UrlFetchApp.fetch(query, params);\n    Logger.log(data.getContentText());   \n    // printJsonKucoin(data, endpoint); \n    return data;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","project-reactor","reactor"],"comments":[{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":1,"creation_date":1622707968,"post_id":67808832,"comment_id":119870507,"body_markdown":"I don&#39;t think there is a much better solution, especially if you need value1 AND value2 to obtain value3. `zip(pub1, pub2, pub3` would have been an option otherwise.","body":"I don&#39;t think there is a much better solution, especially if you need value1 AND value2 to obtain value3. <code>zip(pub1, pub2, pub3</code> would have been an option otherwise."}],"answers":[{"tags":[],"owner":{"account_id":7507571,"reputation":1037,"user_id":5703638,"accept_rate":86,"display_name":"Bohdan Petrenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622650929,"creation_date":1622650929,"answer_id":67808984,"question_id":67808832,"body_markdown":"Ugly solution\r\n\r\n    .map(tuple -&gt; Tuples.of(tuple.getT1().getT1(), tuple.getT1().getT2(), tuple.getT2()))","title":"Java Reactor Mono&lt;Tuple2&gt;.zipWith(Mono&lt;&gt;) should return Mono&lt;Tuple3&gt;","body":"<p>Ugly solution</p>\n<pre><code>.map(tuple -&gt; Tuples.of(tuple.getT1().getT1(), tuple.getT1().getT2(), tuple.getT2()))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11791861,"reputation":55,"user_id":8627746,"display_name":"Blednov Roman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662535303,"creation_date":1662535303,"answer_id":73631518,"question_id":67808832,"body_markdown":"Yes, this is the problem, Im using this approach:\r\n\r\nzipWith and zipWhen have an overloaded variants with combiner argument, \r\nso using this combiner u can directly tell how to build your response\r\n\r\nU can check the explanation here:\r\nhttps://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWhen-java.util.function.Function-java.util.function.BiFunction-\r\n\r\nExample:\r\n\r\n         Mono&lt;Tuple3&lt;String, String, String&gt;&gt; aAndBAndC = Mono.just(&quot;a&quot;)\r\n                .zipWhen(a -&gt; Mono.just(&quot;b&quot;))\r\n                .zipWith(Mono.just(&quot;c&quot;), (aAndB, c) -&gt; Tuples.of(aAndB.getT1(), aAndB.getT2(), c));","title":"Java Reactor Mono&lt;Tuple2&gt;.zipWith(Mono&lt;&gt;) should return Mono&lt;Tuple3&gt;","body":"<p>Yes, this is the problem, Im using this approach:</p>\n<p>zipWith and zipWhen have an overloaded variants with combiner argument,\nso using this combiner u can directly tell how to build your response</p>\n<p>U can check the explanation here:\n<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWhen-java.util.function.Function-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWhen-java.util.function.Function-java.util.function.BiFunction-</a></p>\n<p>Example:</p>\n<pre><code>     Mono&lt;Tuple3&lt;String, String, String&gt;&gt; aAndBAndC = Mono.just(&quot;a&quot;)\n            .zipWhen(a -&gt; Mono.just(&quot;b&quot;))\n            .zipWith(Mono.just(&quot;c&quot;), (aAndB, c) -&gt; Tuples.of(aAndB.getT1(), aAndB.getT2(), c));\n</code></pre>\n"}],"owner":{"account_id":7507571,"reputation":1037,"user_id":5703638,"accept_rate":86,"display_name":"Bohdan Petrenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662535303,"creation_date":1622650336,"question_id":67808832,"body_markdown":"Let&#39;s say I have the following flow \r\n\r\n    Mono.just(&quot;value 1&quot;)\r\n        .zipWith(Mono.just(&quot;value 2&quot;)) \r\n           //Mono&lt;Tuple2&lt;String, String&gt;&gt;\r\n        .zipWhen(TupleUtils.function((value1, value2) -&gt; Mono.fromCallable(() -&gt; createValue3(value1, value2)))) \r\n          //Mono&lt;Tuple2&lt;Tuple2&lt;String, String&gt;, String&gt;&gt;\r\n\r\nAnd just for understanding\r\n\r\n    private String createValue3(String value1, String value2) {\r\n        return &quot;value 3&quot;;\r\n    }\r\n\r\nAs a result, I have \r\n\r\n    Mono&lt;Tuple2&lt;Tuple2&lt;String, String&gt;, String&gt;&gt;\r\nbut I need \r\n\r\n    Mono&lt;Tuple3&lt;String, String, String&gt;&gt; \r\nTo continue frow with \r\n    \r\n    .map(TupleUtils.function((value1, value2, value3) -&gt; ...)) \r\nIs there any good solution for this problem? ","title":"Java Reactor Mono&lt;Tuple2&gt;.zipWith(Mono&lt;&gt;) should return Mono&lt;Tuple3&gt;","body":"<p>Let's say I have the following flow</p>\n<pre><code>Mono.just(&quot;value 1&quot;)\n    .zipWith(Mono.just(&quot;value 2&quot;)) \n       //Mono&lt;Tuple2&lt;String, String&gt;&gt;\n    .zipWhen(TupleUtils.function((value1, value2) -&gt; Mono.fromCallable(() -&gt; createValue3(value1, value2)))) \n      //Mono&lt;Tuple2&lt;Tuple2&lt;String, String&gt;, String&gt;&gt;\n</code></pre>\n<p>And just for understanding</p>\n<pre><code>private String createValue3(String value1, String value2) {\n    return &quot;value 3&quot;;\n}\n</code></pre>\n<p>As a result, I have</p>\n<pre><code>Mono&lt;Tuple2&lt;Tuple2&lt;String, String&gt;, String&gt;&gt;\n</code></pre>\n<p>but I need</p>\n<pre><code>Mono&lt;Tuple3&lt;String, String, String&gt;&gt; \n</code></pre>\n<p>To continue frow with</p>\n<pre><code>.map(TupleUtils.function((value1, value2, value3) -&gt; ...)) \n</code></pre>\n<p>Is there any good solution for this problem?</p>\n"},{"tags":["java","redis","redisgraph"],"answers":[{"tags":[],"owner":{"account_id":57094,"reputation":20034,"user_id":171006,"accept_rate":65,"display_name":"Lior Kogan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662494906,"creation_date":1662494906,"answer_id":73627282,"question_id":73617356,"body_markdown":"If I understand your problem correctly, that&#39;s how I would model this data in RedisGraph:\r\n\r\n * Create `Loc` entities with `name` property: Entry, Reception, Corner, Exit, Gate, LiftLoby\r\n * Create `Way` relationships between pairs of entities with `dist` property\r\n\r\nTo find the shortest path between two places - use RedisGraph 2.10 `algo.SPpaths` procedure (see &quot;Single-Pair minimal-weight bounded-cost bounded-length paths&quot; [here](https://redis.io/commands/graph.query/)).\r\n\r\nCreating the graph:\r\n\r\n    GRAPH.QUERY g &quot;CREATE (e:Loc{name:&#39;Entry&#39;}), (r:Loc{name:&#39;Reception&#39;}), (c:Loc{name:&#39;Corner&#39;}), (x:Loc{name:&#39;Exit&#39;}), (g:Loc{name:&#39;Gate&#39;}), (l:Loc{name:&#39;LiftLobby&#39;}), (e)-[:Way{dist:152}]-&gt;(r), (r)-[:Way{dist:176}]-&gt;(c), (r)-[:Way{dist:153}]-&gt;(x), (c)-[:Way{dist:41}]-&gt;(g), (c)-[:Way{dist:176}]-&gt;(r), (g)-[:Way{dist:53}]-&gt;(l), (g)-[:Way{dist:41}]-&gt;(c), (l)-[:Way{dist:53}]-&gt;(g)&quot;\r\n    1) 1) &quot;Labels added: 1&quot;\r\n       2) &quot;Nodes created: 6&quot;\r\n       3) &quot;Properties set: 14&quot;\r\n       4) &quot;Relationships created: 8&quot;\r\n       5) &quot;Cached execution: 0&quot;\r\n       6) &quot;Query internal execution time: 0.788600 milliseconds&quot;\r\n\r\nQuerying for the shortest path between Entry and Gate:\r\n\r\n    GRAPH.QUERY g &quot;MATCH (e:Loc{name:&#39;Entry&#39;}), (g:Loc{name:&#39;Gate&#39;}) CALL algo.SPpaths( {sourceNode: e, targetNode: g, relTypes: [&#39;Way&#39;], weightProp: &#39;dist&#39;} ) YIELD path, pathWeight RETURN pathWeight, [n in nodes(path) | n.name] as pathNodes ORDER BY pathWeight&quot;\r\n    1) 1) &quot;pathWeight&quot;\r\n       2) &quot;pathNodes&quot;\r\n    2) 1) 1) &quot;369&quot;\r\n          2) &quot;[Entry, Reception, Corner, Gate]&quot;\r\n    3) 1) &quot;Cached execution: 0&quot;\r\n       2) &quot;Query internal execution time: 0.540100 milliseconds&quot;","title":"Redisgraph find shortest path between 2 nodes","body":"<p>If I understand your problem correctly, that's how I would model this data in RedisGraph:</p>\n<ul>\n<li>Create <code>Loc</code> entities with <code>name</code> property: Entry, Reception, Corner, Exit, Gate, LiftLoby</li>\n<li>Create <code>Way</code> relationships between pairs of entities with <code>dist</code> property</li>\n</ul>\n<p>To find the shortest path between two places - use RedisGraph 2.10 <code>algo.SPpaths</code> procedure (see &quot;Single-Pair minimal-weight bounded-cost bounded-length paths&quot; <a href=\"https://redis.io/commands/graph.query/\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>Creating the graph:</p>\n<pre><code>GRAPH.QUERY g &quot;CREATE (e:Loc{name:'Entry'}), (r:Loc{name:'Reception'}), (c:Loc{name:'Corner'}), (x:Loc{name:'Exit'}), (g:Loc{name:'Gate'}), (l:Loc{name:'LiftLobby'}), (e)-[:Way{dist:152}]-&gt;(r), (r)-[:Way{dist:176}]-&gt;(c), (r)-[:Way{dist:153}]-&gt;(x), (c)-[:Way{dist:41}]-&gt;(g), (c)-[:Way{dist:176}]-&gt;(r), (g)-[:Way{dist:53}]-&gt;(l), (g)-[:Way{dist:41}]-&gt;(c), (l)-[:Way{dist:53}]-&gt;(g)&quot;\n1) 1) &quot;Labels added: 1&quot;\n   2) &quot;Nodes created: 6&quot;\n   3) &quot;Properties set: 14&quot;\n   4) &quot;Relationships created: 8&quot;\n   5) &quot;Cached execution: 0&quot;\n   6) &quot;Query internal execution time: 0.788600 milliseconds&quot;\n</code></pre>\n<p>Querying for the shortest path between Entry and Gate:</p>\n<pre><code>GRAPH.QUERY g &quot;MATCH (e:Loc{name:'Entry'}), (g:Loc{name:'Gate'}) CALL algo.SPpaths( {sourceNode: e, targetNode: g, relTypes: ['Way'], weightProp: 'dist'} ) YIELD path, pathWeight RETURN pathWeight, [n in nodes(path) | n.name] as pathNodes ORDER BY pathWeight&quot;\n1) 1) &quot;pathWeight&quot;\n   2) &quot;pathNodes&quot;\n2) 1) 1) &quot;369&quot;\n      2) &quot;[Entry, Reception, Corner, Gate]&quot;\n3) 1) &quot;Cached execution: 0&quot;\n   2) &quot;Query internal execution time: 0.540100 milliseconds&quot;\n</code></pre>\n"}],"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73627282,"answer_count":1,"score":0,"last_activity_date":1662534829,"creation_date":1662444155,"question_id":73617356,"body_markdown":"I am new to using graph tech . Below is one sample data i have , i want to put this in redis graph and find the shortest distance between 2 points . \r\n\r\n{&quot;Entry&quot;:{&quot;Reception&quot;:152},&quot;Reception&quot;:{&quot;Corner&quot;:176,&quot;Exit&quot;:153},&quot;Corner&quot;:{&quot;Gate&quot;:41,&quot;Reception&quot;:176},&quot;Gate&quot;:{&quot;LiftLobby&quot;:53,&quot;Corner&quot;:41},&quot;LiftLobby&quot;:{&quot;Gate&quot;:53}}\r\n\r\nFor example in this json object distance between Entry and Reception point is 152 units .\r\nWhat are the redisgraph queries i should use  to\r\n\r\n1. Add data to the redisgraph.\r\n2. To Find shortest distance between 2 points . \r\n","title":"Redisgraph find shortest path between 2 nodes","body":"<p>I am new to using graph tech . Below is one sample data i have , i want to put this in redis graph and find the shortest distance between 2 points .</p>\n<p>{&quot;Entry&quot;:{&quot;Reception&quot;:152},&quot;Reception&quot;:{&quot;Corner&quot;:176,&quot;Exit&quot;:153},&quot;Corner&quot;:{&quot;Gate&quot;:41,&quot;Reception&quot;:176},&quot;Gate&quot;:{&quot;LiftLobby&quot;:53,&quot;Corner&quot;:41},&quot;LiftLobby&quot;:{&quot;Gate&quot;:53}}</p>\n<p>For example in this json object distance between Entry and Reception point is 152 units .\nWhat are the redisgraph queries i should use  to</p>\n<ol>\n<li>Add data to the redisgraph.</li>\n<li>To Find shortest distance between 2 points .</li>\n</ol>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":23262560,"reputation":1,"user_id":17348637,"display_name":"vu minh huy"},"score":1,"creation_date":1662536444,"post_id":73630677,"comment_id":130025243,"body_markdown":"I hope this will help you. It works for me. https://stackoverflow.com/questions/33889667/poi-date-format-dd-mmm-yy-not-recognized-as-a-excel-format","body":"I hope this will help you. It works for me. <a href=\"https://stackoverflow.com/questions/33889667/poi-date-format-dd-mmm-yy-not-recognized-as-a-excel-format\" title=\"poi date format dd mmm yy not recognized as a excel format\">stackoverflow.com/questions/33889667/&hellip;</a>"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1662554166,"post_id":73630677,"comment_id":130032122,"body_markdown":"Dates should be stored as numbers - not as strings - POI has a setCellValue(java.util.Date) - this will convert the date to right numeric format. There is equivalent support for java.time.LocalDate","body":"Dates should be stored as numbers - not as strings - POI has a setCellValue(java.util.Date) - this will convert the date to right numeric format. There is equivalent support for java.time.LocalDate"}],"owner":{"account_id":18529576,"reputation":101,"user_id":13500687,"display_name":"Prashant Naik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662534717,"creation_date":1662529966,"question_id":73630677,"body_markdown":"I am facing one strange issue. I have written a program in java using apache poi 5.2.2 which reads csv file and writes in to excel sheet(.xlsx).In that csv file there is one date column, the format is in mm-dd-yyyy(04-25-2022). my program converts this format to d/mmm/yyyy format. When I run my program it creates new xlsx sheet. But when I open this file the date column still shows in mm-dd-yyyy(04-25-2022) format. But if I double click on that cell it changes it to d/mmm/yyyy (25/Apr/2022). Is there any function in java? Below is my code. Is there any solution or this is excel issue.\r\n\r\n    String value = null;\r\n    CellStyle style = workBook.createCellStyle();\r\n    CreationHelper createHelper = workBook.getCreationHelper();\r\n    style.setDataFormat(createHelper.createDataFormat().getFormat(&quot;d/MMM/yyyy&quot;));\r\n    \r\n    BufferedReader br = new BufferedReader(new FileReader(csvFileAddress));\r\n    while ((currentLine = br.readLine()) != null) {\r\n        String str[] = currentLine.split(&quot;,&quot;);\r\n        RowNum++;\r\n    \r\n        XSSFRow currentRow=sheet.createRow(RowNum);\r\n        for (int i = 0; i &lt; str.length; i++) {\r\n            value = str[i];\r\n            Cell cell = currentRow.createCell(i);\r\n            cell.setCellValue(value);\r\n            cell.setCellStyle(style);\r\n        }\r\n     }\r\n    \r\n    FileOutputStream fileOutStream =  new FileOutputStream(xlsxFileAddress);","title":"POI: Excel double click changes the date format","body":"<p>I am facing one strange issue. I have written a program in java using apache poi 5.2.2 which reads csv file and writes in to excel sheet(.xlsx).In that csv file there is one date column, the format is in mm-dd-yyyy(04-25-2022). my program converts this format to d/mmm/yyyy format. When I run my program it creates new xlsx sheet. But when I open this file the date column still shows in mm-dd-yyyy(04-25-2022) format. But if I double click on that cell it changes it to d/mmm/yyyy (25/Apr/2022). Is there any function in java? Below is my code. Is there any solution or this is excel issue.</p>\n<pre><code>String value = null;\nCellStyle style = workBook.createCellStyle();\nCreationHelper createHelper = workBook.getCreationHelper();\nstyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;d/MMM/yyyy&quot;));\n\nBufferedReader br = new BufferedReader(new FileReader(csvFileAddress));\nwhile ((currentLine = br.readLine()) != null) {\n    String str[] = currentLine.split(&quot;,&quot;);\n    RowNum++;\n\n    XSSFRow currentRow=sheet.createRow(RowNum);\n    for (int i = 0; i &lt; str.length; i++) {\n        value = str[i];\n        Cell cell = currentRow.createCell(i);\n        cell.setCellValue(value);\n        cell.setCellStyle(style);\n    }\n }\n\nFileOutputStream fileOutStream =  new FileOutputStream(xlsxFileAddress);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":6794864,"reputation":1053,"user_id":5230585,"display_name":"Katy"},"score":0,"creation_date":1662507398,"post_id":73626562,"comment_id":130020024,"body_markdown":"Did you try to &#39;spy&#39; environment bean?","body":"Did you try to &#39;spy&#39; environment bean?"},{"owner":{"account_id":1732883,"reputation":193,"user_id":1586108,"accept_rate":60,"display_name":"DDD"},"score":0,"creation_date":1662531852,"post_id":73626562,"comment_id":130023758,"body_markdown":"How do you mean?","body":"How do you mean?"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662534616,"creation_date":1662518283,"answer_id":73629501,"question_id":73626562,"body_markdown":"I have exactly what you need there: https://github.com/ch4mpy/spring-addons\r\n\r\nSample [here][1]:\r\n```java\r\n    @Test\r\n    @WithMockJwtAuth(authorities = { &quot;NICE&quot;, &quot;AUTHOR&quot; }, claims = @OpenIdClaims(preferredUsername = &quot;Tonton Pirate&quot;))\r\n    void whenGrantedWithNiceRoleThenCanGreet() throws Exception {\r\n        final var actual = mySecuredService.returnSomething();\r\n        //test return falue\r\n\t}\r\n```\r\n`@OpenIdClaims` allows you to configure standard OpenID claims (but none is mandatory) and any private claim you like.\r\n\r\nThe advantage of test annotations over request post-processors is it works without MockMvc (which happens when you want to unit-test secured `@Component` which are not `@Controller`, like `@Service` or `@Repository`). Unfortunately, spring-security team was not interested in it at time I contributed OAuth2 MockMvc post-processors (and WebTestClient mutators). Reason for me starting the lib linked above.\r\n\r\n## PS\r\nYou might find useful ideas in [other tutorials][2]. `resource-server_with_oauthentication` could save you quite some configuration code and `resource-server_with_specialized_oauthentication` could help you improve security expressions readability.\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\r\n  [4]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_specialized_oauthentication","title":"Spring Boot - How to unit test @Service class methods that use @PreAuthorize when using JWT with custom claims","body":"<p>I have exactly what you need there: <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons</a></p>\n<p>Sample <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @WithMockJwtAuth(authorities = { &quot;NICE&quot;, &quot;AUTHOR&quot; }, claims = @OpenIdClaims(preferredUsername = &quot;Tonton Pirate&quot;))\n    void whenGrantedWithNiceRoleThenCanGreet() throws Exception {\n        final var actual = mySecuredService.returnSomething();\n        //test return falue\n    }\n</code></pre>\n<p><code>@OpenIdClaims</code> allows you to configure standard OpenID claims (but none is mandatory) and any private claim you like.</p>\n<p>The advantage of test annotations over request post-processors is it works without MockMvc (which happens when you want to unit-test secured <code>@Component</code> which are not <code>@Controller</code>, like <code>@Service</code> or <code>@Repository</code>). Unfortunately, spring-security team was not interested in it at time I contributed OAuth2 MockMvc post-processors (and WebTestClient mutators). Reason for me starting the lib linked above.</p>\n<h2>PS</h2>\n<p>You might find useful ideas in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">other tutorials</a>. <code>resource-server_with_oauthentication</code> could save you quite some configuration code and <code>resource-server_with_specialized_oauthentication</code> could help you improve security expressions readability.</p>\n"}],"owner":{"account_id":1732883,"reputation":193,"user_id":1586108,"accept_rate":60,"display_name":"DDD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":948,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73629501,"answer_count":1,"score":0,"last_activity_date":1662534616,"creation_date":1662489984,"question_id":73626562,"body_markdown":"We have a Spring Boot backend application that uses JWT authentication implemented using Spring Security with OAuth2 Resource Server. We have secured our web layer by limiting access to URL patterns based on user roles using `antMatchers()` and service layer methods using global method security.\r\n\r\nOur JWT tokens are provided by Auth0, where we have configured to include additional user metadata as custom claims. These claims values are verified in `@PreAuthorize` annotations as follows for example:\r\n\r\n```\r\n    @PreAuthorize(&quot;authentication.principal.claims[@environment.getProperty(&#39;jwt.organizationIdClaim&#39;)] == @environment.getProperty(&#39;current.organizationId&#39;)&quot;)\r\n    public void deleteUser(String userId) {\r\n```\r\n\r\nHere the properties `jwt.organizationIdClaim` and `current.organizationId` are custom properties obtained from the application.properties file.\r\n\r\nWhen I attempt to unit test the above method, I get an exception as follows:\r\n\r\n`org.springframework.security.authentication.AuthenticationCredentialsNotFoundException: An Authentication object was not found in the SecurityContext`\r\n\r\nUnit test code:\r\n\r\n```\r\n    @Test\r\n    void testDoNotAllowDeletingUsersWithRootRole() {\r\n        auth0ManagementAPIService.deleteUser(&quot;auth0|REDACTED&quot;);\r\n        assertTrue(true);\r\n    }\r\n```\r\n\r\nI tried to run this test using `@WithMockUser`, but this results in the @PreAuthorize expression unable to be evaluated:\r\n\r\n`java.lang.IllegalArgumentException: Failed to evaluate expression &#39;authentication.principal.claims[@environment.getProperty(&#39;jwt.organizationIdClaim&#39;)] == @environment.getProperty(&#39;current.organizationId&#39;)&#39;`\r\n\r\nIs there any way to add these custom claim data to the `SecurityContext` for these unit tests so that the @PreAuthorize expression evaluates successfully?\r\n\r\nWe bypassed the JWT requirement in the web layer by using `SecurityMockMvcRequestPostProcessors.jwt()`, perhaps there is something similar we could use for @Service class methods?\r\n\r\nA sample payload of the JWT that we use appears as follows:\r\n\r\n```\r\n{\r\n  &quot;https://dev.api.REDACTED.com/roles&quot;: [\r\n    &quot;RESEARCHER&quot;,\r\n    &quot;ADMIN&quot;,\r\n    &quot;ROOT&quot;\r\n  ],\r\n  &quot;https://dev.api.REDACTED.com/organizationId&quot;: &quot;REDACTED&quot;,\r\n  &quot;https://dev.api.REDACTED.com/userId&quot;: &quot;REDACTED&quot;,\r\n  &quot;iss&quot;: &quot;https://dev.login.REDACTED.com/&quot;,\r\n  &quot;sub&quot;: &quot;auth0|REDACTED&quot;,\r\n  &quot;aud&quot;: [\r\n    &quot;https://dev.api.REDACTED.com&quot;,\r\n    &quot;https://REDACTED.us.auth0.com/userinfo&quot;\r\n  ],\r\n  &quot;iat&quot;: 1660626647,\r\n  &quot;exp&quot;: 1660713047,\r\n  &quot;azp&quot;: &quot;REDACTED&quot;,\r\n  &quot;scope&quot;: &quot;openid profile email offline_access&quot;,\r\n  &quot;permissions&quot;: [\r\n    ...\r\n  ]\r\n}\r\n```\r\n\r\nHere `https://dev.api.REDACTED.com/roles`, `https://dev.api.REDACTED.com/organizationId` and   `https://dev.api.REDACTED.com/userId` are custom claims whose values we need to verify in the @PreAuthorize conditions.\r\n\r\nThe principal object is of type Jwt and is generated as follows using a custom converter:\r\n\r\n```\r\nimport org.springframework.core.convert.converter.Converter;\r\nimport org.springframework.security.authentication.AbstractAuthenticationToken;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.oauth2.jwt.Jwt;\r\nimport org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationToken;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CustomJwtAuthenticationConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\r\n\r\n    private final String rolesClaimName;\r\n\r\n    public CustomJwtAuthenticationConverter(String rolesClaimName) {\r\n        this.rolesClaimName = rolesClaimName;\r\n    }\r\n\r\n    @Override\r\n    public AbstractAuthenticationToken convert(Jwt jwt) {\r\n        // Get roles claim from the JWT token and add it to a granted authorities list.\r\n        List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; rolesList = jwt.getClaimAsStringList(rolesClaimName);\r\n        rolesList.forEach(r -&gt; grantedAuthorities.add(new SimpleGrantedAuthority(r)));\r\n        return new JwtAuthenticationToken(jwt, grantedAuthorities, jwt.getSubject());\r\n    }\r\n}\r\n```\r\nWhich is then injected into the security filter chain in the Security config:\r\n\r\n```\r\n    @Bean\r\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.oauth2ResourceServer().jwt().jwtAuthenticationConverter(customJwtGrantedAuthoritiesConverter());\r\n        http\r\n                .cors().and()\r\n                .authorizeRequests(\r\n                        authorize -&gt; authorize\r\n                                .antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;).permitAll()\r\n                                .antMatchers(&quot;/actuator&quot;, &quot;/actuator/health&quot;).permitAll()\r\n                                .antMatchers(HttpMethod.DELETE, &quot;/users/**&quot;).hasAuthority(ROOT_ROLE)\r\n                                .antMatchers(&quot;/users/**&quot;).hasAnyAuthority(ADMIN_ROLE, ROOT_ROLE)\r\n                                .anyRequest().authenticated());\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public Converter&lt;Jwt, AbstractAuthenticationToken&gt; customJwtGrantedAuthoritiesConverter() {\r\n        return new CustomJwtAuthenticationConverter(rolesClaimName);\r\n    }\r\n\r\n```","title":"Spring Boot - How to unit test @Service class methods that use @PreAuthorize when using JWT with custom claims","body":"<p>We have a Spring Boot backend application that uses JWT authentication implemented using Spring Security with OAuth2 Resource Server. We have secured our web layer by limiting access to URL patterns based on user roles using <code>antMatchers()</code> and service layer methods using global method security.</p>\n<p>Our JWT tokens are provided by Auth0, where we have configured to include additional user metadata as custom claims. These claims values are verified in <code>@PreAuthorize</code> annotations as follows for example:</p>\n<pre><code>    @PreAuthorize(&quot;authentication.principal.claims[@environment.getProperty('jwt.organizationIdClaim')] == @environment.getProperty('current.organizationId')&quot;)\n    public void deleteUser(String userId) {\n</code></pre>\n<p>Here the properties <code>jwt.organizationIdClaim</code> and <code>current.organizationId</code> are custom properties obtained from the application.properties file.</p>\n<p>When I attempt to unit test the above method, I get an exception as follows:</p>\n<p><code>org.springframework.security.authentication.AuthenticationCredentialsNotFoundException: An Authentication object was not found in the SecurityContext</code></p>\n<p>Unit test code:</p>\n<pre><code>    @Test\n    void testDoNotAllowDeletingUsersWithRootRole() {\n        auth0ManagementAPIService.deleteUser(&quot;auth0|REDACTED&quot;);\n        assertTrue(true);\n    }\n</code></pre>\n<p>I tried to run this test using <code>@WithMockUser</code>, but this results in the @PreAuthorize expression unable to be evaluated:</p>\n<p><code>java.lang.IllegalArgumentException: Failed to evaluate expression 'authentication.principal.claims[@environment.getProperty('jwt.organizationIdClaim')] == @environment.getProperty('current.organizationId')'</code></p>\n<p>Is there any way to add these custom claim data to the <code>SecurityContext</code> for these unit tests so that the @PreAuthorize expression evaluates successfully?</p>\n<p>We bypassed the JWT requirement in the web layer by using <code>SecurityMockMvcRequestPostProcessors.jwt()</code>, perhaps there is something similar we could use for @Service class methods?</p>\n<p>A sample payload of the JWT that we use appears as follows:</p>\n<pre><code>{\n  &quot;https://dev.api.REDACTED.com/roles&quot;: [\n    &quot;RESEARCHER&quot;,\n    &quot;ADMIN&quot;,\n    &quot;ROOT&quot;\n  ],\n  &quot;https://dev.api.REDACTED.com/organizationId&quot;: &quot;REDACTED&quot;,\n  &quot;https://dev.api.REDACTED.com/userId&quot;: &quot;REDACTED&quot;,\n  &quot;iss&quot;: &quot;https://dev.login.REDACTED.com/&quot;,\n  &quot;sub&quot;: &quot;auth0|REDACTED&quot;,\n  &quot;aud&quot;: [\n    &quot;https://dev.api.REDACTED.com&quot;,\n    &quot;https://REDACTED.us.auth0.com/userinfo&quot;\n  ],\n  &quot;iat&quot;: 1660626647,\n  &quot;exp&quot;: 1660713047,\n  &quot;azp&quot;: &quot;REDACTED&quot;,\n  &quot;scope&quot;: &quot;openid profile email offline_access&quot;,\n  &quot;permissions&quot;: [\n    ...\n  ]\n}\n</code></pre>\n<p>Here <code>https://dev.api.REDACTED.com/roles</code>, <code>https://dev.api.REDACTED.com/organizationId</code> and   <code>https://dev.api.REDACTED.com/userId</code> are custom claims whose values we need to verify in the @PreAuthorize conditions.</p>\n<p>The principal object is of type Jwt and is generated as follows using a custom converter:</p>\n<pre><code>import org.springframework.core.convert.converter.Converter;\nimport org.springframework.security.authentication.AbstractAuthenticationToken;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.oauth2.jwt.Jwt;\nimport org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationToken;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CustomJwtAuthenticationConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\n\n    private final String rolesClaimName;\n\n    public CustomJwtAuthenticationConverter(String rolesClaimName) {\n        this.rolesClaimName = rolesClaimName;\n    }\n\n    @Override\n    public AbstractAuthenticationToken convert(Jwt jwt) {\n        // Get roles claim from the JWT token and add it to a granted authorities list.\n        List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\n        List&lt;String&gt; rolesList = jwt.getClaimAsStringList(rolesClaimName);\n        rolesList.forEach(r -&gt; grantedAuthorities.add(new SimpleGrantedAuthority(r)));\n        return new JwtAuthenticationToken(jwt, grantedAuthorities, jwt.getSubject());\n    }\n}\n</code></pre>\n<p>Which is then injected into the security filter chain in the Security config:</p>\n<pre><code>    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.oauth2ResourceServer().jwt().jwtAuthenticationConverter(customJwtGrantedAuthoritiesConverter());\n        http\n                .cors().and()\n                .authorizeRequests(\n                        authorize -&gt; authorize\n                                .antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;).permitAll()\n                                .antMatchers(&quot;/actuator&quot;, &quot;/actuator/health&quot;).permitAll()\n                                .antMatchers(HttpMethod.DELETE, &quot;/users/**&quot;).hasAuthority(ROOT_ROLE)\n                                .antMatchers(&quot;/users/**&quot;).hasAnyAuthority(ADMIN_ROLE, ROOT_ROLE)\n                                .anyRequest().authenticated());\n        return http.build();\n    }\n\n    @Bean\n    public Converter&lt;Jwt, AbstractAuthenticationToken&gt; customJwtGrantedAuthoritiesConverter() {\n        return new CustomJwtAuthenticationConverter(rolesClaimName);\n    }\n\n</code></pre>\n"},{"tags":["java","android","kotlin","date","android-version"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1662095399,"post_id":73577932,"comment_id":129931051,"body_markdown":"show us the code of how you are formatting the date","body":"show us the code of how you are formatting the date"},{"owner":{"account_id":26224117,"reputation":13,"user_id":19901047,"display_name":"Anil Ranga"},"score":0,"creation_date":1662095493,"post_id":73577932,"comment_id":129931068,"body_markdown":"@JvmStatic\n    fun getCurrentDate(format: String): String {\n        val sdf = SimpleDateFormat(format)\n        val currentDate = sdf.format(Date())\n        return currentDate\n    }","body":"@JvmStatic     fun getCurrentDate(format: String): String {         val sdf = SimpleDateFormat(format)         val currentDate = sdf.format(Date())         return currentDate     }"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1662100151,"post_id":73577932,"comment_id":129931952,"body_markdown":"Which `Locale` is your `Locale.getDefault()`? You can try out different `Locale`s in [`SimpleDateFormate(String, Locale)`](https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#SimpleDateFormat(java.lang.String,%20java.util.Locale)), maybe one is reliably formatting as desired. The pattern should already be correct.","body":"Which <code>Locale</code> is your <code>Locale.getDefault()</code>? You can try out different <code>Locale</code>s in <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#SimpleDateFormat(java.lang.String,%20java.util.Locale)\" rel=\"nofollow noreferrer\"><code>SimpleDateFormate(String, Locale)</code></a>, maybe one is reliably formatting as desired. The pattern should already be correct."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1662144471,"post_id":73577932,"comment_id":129946542,"body_markdown":"Consider throwing away the long outmoded and notoriously troublesome `SimpleDateFormat` and friends. Use [desugaring](https://developer.android.com/studio/write/java8-support-table) in order to use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). It is so much nicer to work with.","body":"Consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends. Use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a> in order to use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. It is so much nicer to work with."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1662144888,"post_id":73577932,"comment_id":129946670,"body_markdown":"Not being an Android developer I dont know where Android locale data such as abbreviations used in different languages come from. They are likely to reflect what users want, so I wouldnt worry much. However, if you want to guard against changes in the next version I believe the good solution is using a `DateTimeFormatterBuilder` and its `appendText` method for specifying the exact abbreviations you want. See [here](https://stackoverflow.com/a/52374919/5772882) and [here](https://stackoverflow.com/a/57183455/5772882).","body":"Not being an Android developer I dont know where Android locale data such as abbreviations used in different languages come from. They are likely to reflect what users want, so I wouldnt worry much. However, if you want to guard against changes in the next version I believe the good solution is using a <code>DateTimeFormatterBuilder</code> and its <code>appendText</code> method for specifying the exact abbreviations you want. See <a href=\"https://stackoverflow.com/a/52374919/5772882\">here</a> and <a href=\"https://stackoverflow.com/a/57183455/5772882\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":7202511,"reputation":355,"user_id":5499287,"accept_rate":100,"display_name":"Tobias Lukoschek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662534612,"creation_date":1662272420,"answer_id":73597182,"question_id":73577932,"body_markdown":"According to @deHaar `SimpleDateFormat` returns the formatted string depending on the `Locale`. Take a look at all locales and you will find the correct form you want. Below I added a snippet where you can easily find it. If you develop this app for the app store or for other public users you shouldn&#39;t change the Locale in `SimpleDateFormat` because the user in this region normally knows this format. The `Locale.getDefault` is also influenced by the Android system settings.\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        val out = findViewById&lt;TextView&gt;(R.id.out)\r\n        out.text = getCurrentDate(&quot;dd-MMM-yyyy&quot;)\r\n    }\r\n\r\n    fun getCurrentDate(format: String): String {\r\n        var result = &quot;&quot;\r\n\r\n        val locales = listOf&lt;Locale&gt;(Locale.CANADA, Locale.CANADA_FRENCH, Locale.CHINA, Locale.CHINESE,\r\n            Locale.ENGLISH, Locale.FRANCE, Locale.FRENCH, Locale.GERMAN, Locale.GERMANY, Locale.ITALIAN,\r\n            Locale.ITALY, Locale.JAPAN, Locale.JAPANESE, Locale.KOREA, Locale.KOREAN, Locale.PRC,\r\n            Locale.ROOT, Locale.SIMPLIFIED_CHINESE, Locale.TAIWAN, Locale.TRADITIONAL_CHINESE, Locale.UK, Locale.US)\r\n\r\n        locales.forEach {\r\n            val sdf = SimpleDateFormat(format, it)\r\n            result += sdf.format(Date()) + &quot;\\n&quot;\r\n        }\r\n        return result\r\n    }\r\n\r\nreturns\r\n\r\n    04-Sep.-2022\r\n    04-sept.-2022\r\n    04-9-2022\r\n    04-9-2022\r\n    04-Sep-2022\r\n    04-sept.-2022\r\n    04-sept.-2022\r\n    04-Sept.-2022\r\n    04-Sept.-2022\r\n    04-set-2022\r\n    04-set-2022\r\n    04-9-2022\r\n    04-9-2022\r\n    04-9-2022\r\n    04-9-2022\r\n    04-9-2022\r\n    04-Sep-2022\r\n    04-9-2022\r\n    04-9-2022\r\n    04-9-2022\r\n    04-Sep-2022\r\n    04-Sep-2022\r\n","title":"Date Format issue in Android 12 &amp; 13","body":"<p>According to @deHaar <code>SimpleDateFormat</code> returns the formatted string depending on the <code>Locale</code>. Take a look at all locales and you will find the correct form you want. Below I added a snippet where you can easily find it. If you develop this app for the app store or for other public users you shouldn't change the Locale in <code>SimpleDateFormat</code> because the user in this region normally knows this format. The <code>Locale.getDefault</code> is also influenced by the Android system settings.</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val out = findViewById&lt;TextView&gt;(R.id.out)\n    out.text = getCurrentDate(&quot;dd-MMM-yyyy&quot;)\n}\n\nfun getCurrentDate(format: String): String {\n    var result = &quot;&quot;\n\n    val locales = listOf&lt;Locale&gt;(Locale.CANADA, Locale.CANADA_FRENCH, Locale.CHINA, Locale.CHINESE,\n        Locale.ENGLISH, Locale.FRANCE, Locale.FRENCH, Locale.GERMAN, Locale.GERMANY, Locale.ITALIAN,\n        Locale.ITALY, Locale.JAPAN, Locale.JAPANESE, Locale.KOREA, Locale.KOREAN, Locale.PRC,\n        Locale.ROOT, Locale.SIMPLIFIED_CHINESE, Locale.TAIWAN, Locale.TRADITIONAL_CHINESE, Locale.UK, Locale.US)\n\n    locales.forEach {\n        val sdf = SimpleDateFormat(format, it)\n        result += sdf.format(Date()) + &quot;\\n&quot;\n    }\n    return result\n}\n</code></pre>\n<p>returns</p>\n<pre><code>04-Sep.-2022\n04-sept.-2022\n04-9-2022\n04-9-2022\n04-Sep-2022\n04-sept.-2022\n04-sept.-2022\n04-Sept.-2022\n04-Sept.-2022\n04-set-2022\n04-set-2022\n04-9-2022\n04-9-2022\n04-9-2022\n04-9-2022\n04-9-2022\n04-Sep-2022\n04-9-2022\n04-9-2022\n04-9-2022\n04-Sep-2022\n04-Sep-2022\n</code></pre>\n"}],"owner":{"account_id":26224117,"reputation":13,"user_id":19901047,"display_name":"Anil Ranga"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":791,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73597182,"answer_count":1,"score":0,"last_activity_date":1662534612,"creation_date":1662094439,"question_id":73577932,"body_markdown":"I am using `dd-MMM-yyyy` format in `String` format in kotlin in android.  \r\nIt returns `&quot;01-Sept-2022&quot;` as a result.  \r\nI want `&quot;01-Sep-2022&quot;` as result.  \r\nThis issue shows up in android 12 &amp; 13.\r\n \r\n```kotlin\r\n@JvmStatic\r\nfun getCurrentDate(format: String): String {\r\n    val sdf = SimpleDateFormat(format)\r\n    val currentDate = sdf.format(Date())\r\n    return currentDate\r\n}\r\n```\r\n\r\nHow can I get my desired return value in all versions?","title":"Date Format issue in Android 12 &amp; 13","body":"<p>I am using <code>dd-MMM-yyyy</code> format in <code>String</code> format in kotlin in android.<br />\nIt returns <code>&quot;01-Sept-2022&quot;</code> as a result.<br />\nI want <code>&quot;01-Sep-2022&quot;</code> as result.<br />\nThis issue shows up in android 12 &amp; 13.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JvmStatic\nfun getCurrentDate(format: String): String {\n    val sdf = SimpleDateFormat(format)\n    val currentDate = sdf.format(Date())\n    return currentDate\n}\n</code></pre>\n<p>How can I get my desired return value in all versions?</p>\n"},{"tags":["java","junit","java-8","mockito","spy"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1660848129,"post_id":73400597,"comment_id":129636697,"body_markdown":"What exception exactly are you getting? Attach at least part of the stack trace to your question along with the code related to the exception and the stack trace.","body":"What exception exactly are you getting? Attach at least part of the stack trace to your question along with the code related to the exception and the stack trace."},{"owner":{"account_id":17234105,"reputation":41,"user_id":12477935,"display_name":"gan7202"},"score":0,"creation_date":1660867107,"post_id":73400597,"comment_id":129641235,"body_markdown":"Updated the stack trace and related code.","body":"Updated the stack trace and related code."},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1660884420,"post_id":73400597,"comment_id":129643629,"body_markdown":"Okay, but you&#39;ve consumed the original exception and all information related to it is lost. We need the original error occurring in your code to be able to understand the problem better.","body":"Okay, but you&#39;ve consumed the original exception and all information related to it is lost. We need the original error occurring in your code to be able to understand the problem better."},{"owner":{"account_id":17234105,"reputation":41,"user_id":12477935,"display_name":"gan7202"},"score":0,"creation_date":1660886860,"post_id":73400597,"comment_id":129643983,"body_markdown":"Actually 2 tests are failing , Now i posted the original exception and related code.","body":"Actually 2 tests are failing , Now i posted the original exception and related code."},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1660887674,"post_id":73400597,"comment_id":129644112,"body_markdown":"Great, thanks. Could you also share the tested code? It looks like a UUID was generated and either set for the device instance as ID or passed to the alarm service directly.","body":"Great, thanks. Could you also share the tested code? It looks like a UUID was generated and either set for the device instance as ID or passed to the alarm service directly."},{"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"score":0,"creation_date":1660887789,"post_id":73400597,"comment_id":129644133,"body_markdown":"change to Mockito.verify(cwAlarmService, Mockito.timeout(1000)).raiseNotificationProcessingAlarm(&quot;1b8722ad-0b9b-3327-98fb-5016fcf919f5&quot;,&quot;Exception&quot;);","body":"change to Mockito.verify(cwAlarmService, Mockito.timeout(1000)).raiseNotificationProcessingAlarm(&quot;1b8&zwnj;&#8203;722ad-0b9b-3327-98fb&zwnj;&#8203;-5016fcf919f5&quot;,&quot;Exce&zwnj;&#8203;ption&quot;);"},{"owner":{"account_id":17234105,"reputation":41,"user_id":12477935,"display_name":"gan7202"},"score":0,"creation_date":1660889605,"post_id":73400597,"comment_id":129644487,"body_markdown":"@ArunSai I tried as above no luck.","body":"@ArunSai I tried as above no luck."}],"answers":[{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661380829,"creation_date":1661380829,"answer_id":73480168,"question_id":73400597,"body_markdown":"**TL;DR**\r\n\r\nWhile mocking the methods of a spied object use `doReturn(...).when(...)` instead of  `when(...).thenReturn(...)`\r\n\r\n**Longer explanation**\r\n\r\nAlthough in `Mockito` the mocks and spies looks similar, there are some important differences.\r\n\r\n - `@Mock` stubs all the methods. The methods do nothing and return `null` by default.\r\n - `@Spy` does not stub anything unless\r\n   it is told to. It invokes the real methods of the spied object by default.\r\n\r\nThere is another important implementation difference:\r\n\r\n - `when(obj.someMethod(...)).thenReturn(value)` - invokes the method `someMethod` and then stubs the method.\r\n - `doReturn(value).when(obj).someMethod(...)` - does not invoke the method `someMethod` and stubs it right away.\r\n\r\nThese two approaches have similar effect while stubbing mocks. But in case of spies calling the real method of a real object can lead to unwanted side effects.\r\n\r\n---\r\nSo when you are using `@Spy` with `when(...).thenReturn(...)` there are some hidden side effects, which in your particular case result in generating an actual `UUID` instead of returning the dummy value `&quot;device_id_value&quot;`.\r\n\r\nThis also explains why your unit test works properly while using `@Mock`.","title":"Getting exception as, Argument(s) are different! Wanted:","body":"<p><strong>TL;DR</strong></p>\n<p>While mocking the methods of a spied object use <code>doReturn(...).when(...)</code> instead of  <code>when(...).thenReturn(...)</code></p>\n<p><strong>Longer explanation</strong></p>\n<p>Although in <code>Mockito</code> the mocks and spies looks similar, there are some important differences.</p>\n<ul>\n<li><code>@Mock</code> stubs all the methods. The methods do nothing and return <code>null</code> by default.</li>\n<li><code>@Spy</code> does not stub anything unless\nit is told to. It invokes the real methods of the spied object by default.</li>\n</ul>\n<p>There is another important implementation difference:</p>\n<ul>\n<li><code>when(obj.someMethod(...)).thenReturn(value)</code> - invokes the method <code>someMethod</code> and then stubs the method.</li>\n<li><code>doReturn(value).when(obj).someMethod(...)</code> - does not invoke the method <code>someMethod</code> and stubs it right away.</li>\n</ul>\n<p>These two approaches have similar effect while stubbing mocks. But in case of spies calling the real method of a real object can lead to unwanted side effects.</p>\n<hr />\n<p>So when you are using <code>@Spy</code> with <code>when(...).thenReturn(...)</code> there are some hidden side effects, which in your particular case result in generating an actual <code>UUID</code> instead of returning the dummy value <code>&quot;device_id_value&quot;</code>.</p>\n<p>This also explains why your unit test works properly while using <code>@Mock</code>.</p>\n"}],"owner":{"account_id":17234105,"reputation":41,"user_id":12477935,"display_name":"gan7202"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662534360,"creation_date":1660814972,"question_id":73400597,"body_markdown":"    @Spy\r\n    @InjectMocks\r\n    NotificationServiceImpl notificationService;\r\nWhen i use like above, I am getting exception for a test as, Argument(s) are different! Wanted: But but while debugging control is going inside all methods and code coverage is happening.\r\n\r\n    @Mock\r\n    NotificationServiceImpl notificationService;\r\nWhen i use like above, I am not getting any exception, but while debugging control is not going inside a few methods its impacting the code coverage.\r\nCould any one suggest me the proper mocking here. So that code coverage will happen as well as no exception will come. \r\n**Stack Trace**\r\n\r\n    Argument(s) are different! Wanted:\r\n    cwAlarmService.raiseNotificationProcessingAlarm(\r\n        &quot;device_id_value&quot;,\r\n        &lt;any string&gt;\r\n    );\r\n    -&gt; at com.cisco.inventory.service.NotificationMonitorTest.test_run_Exception_CW_Alarm(NotificationMonitorTest.java:189)\r\n    Actual invocations have different arguments:\r\n    cwAlarmService.raiseNotificationProcessingAlarm(\r\n        &quot;1b8722ad-0b9b-3327-98fb-5016fcf919f5&quot;,\r\n        &quot;Exception&quot;\r\n    );\r\n    -&gt; at com.cisco.inventory.scheduler.NotificationMonitor$TriggerNotificationDataCollection.run(NotificationMonitor.java:100)\r\n    \r\n    \tat com.cisco.inventory.service.NotificationMonitorTest.test_run_Exception_CW_Alarm(NotificationMonitorTest.java:189)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n    \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\nand this is the test\r\n\r\n    @Test\r\n    \tpublic void test_run_Exception_CW_Alarm() throws IOException, InterruptedException {\r\n    \t\tList&lt;DeviceDetails&gt; deviceDetailsList = new ArrayList&lt;&gt;();\r\n    \t\tDeviceDetails deviceDetails = new DeviceDetails();\r\n    \t    deviceDetails.setCollectionStatus(Constants.COMPLETED);\r\n    \t\tdeviceDetails.setType(&quot;abc&quot;);\r\n    \t\tdeviceDetails.setIP(&quot;10.58&quot;);\r\n    \t\tdeviceDetailsList.add(deviceDetails);\r\n    \t\tMockito.when(invenDao.getAllDeviceDetails()).thenReturn(deviceDetailsList);\r\n    \t\tMockito.when(invenDao.getDeviceDetails(Mockito.any())).thenReturn(deviceDetails);\r\n    \t\tNotificationData notificationData = getNotificationData();\r\n            notificationData.setNotificationProcessingStatus(Constants.INIT);   \t\tMockito.when(invenDao.getValidNotificationToBeProcessed(Mockito.any())).thenReturn(notificationData);\r\n            notificationData.setNotificationProcessingStatus(Constants.PROCESSING);\r\n            notificationData.setIsAlarm(Boolean.TRUE);\r\n    \r\n            List&lt;StringPair&gt; list = populateModelPathStringPairs();\r\n            StaticList.ModelPathMapData modelPathMapData = new StaticList.ModelPathMapData();\r\n            modelPathMapData.setName(Constants.GET_QUERY_MAP_FOR_SVO);\r\n            modelPathMapData.setModelPaths(list);\r\n            StaticList staticList = new StaticList();\r\n            staticList.setModelPathMap(modelPathMapData);\r\n            Optional&lt;StaticList&gt; staticListOptional = Optional.of(staticList);\r\n    \r\n            Mockito.when(invenDao.findStaticListByID(Constants.SVO)).thenReturn(staticListOptional);\r\n            Mockito.when(invenDao.saveNotificationProcessingStatus(Mockito.any(),Mockito.any())).thenReturn(notificationData);\r\n    \t\tMockito.doThrow(new RuntimeException(&quot;Exception&quot;)).when(notificationService).checkAndHandleDeleteNotifications(notificationData);\r\n    \r\n    \t\tnotificationMonitor.run();\r\n    \r\n    \t\tMockito.verify(cwAlarmService, Mockito.timeout(1000)).raiseNotificationProcessingAlarm(eq(ConstantsTest.DEVICE_ID_VALUE), Mockito.anyString());\r\n    \t}\r\n","title":"Getting exception as, Argument(s) are different! Wanted:","body":"<pre><code>@Spy\n@InjectMocks\nNotificationServiceImpl notificationService;\n</code></pre>\n<p>When i use like above, I am getting exception for a test as, Argument(s) are different! Wanted: But but while debugging control is going inside all methods and code coverage is happening.</p>\n<pre><code>@Mock\nNotificationServiceImpl notificationService;\n</code></pre>\n<p>When i use like above, I am not getting any exception, but while debugging control is not going inside a few methods its impacting the code coverage.\nCould any one suggest me the proper mocking here. So that code coverage will happen as well as no exception will come.\n<strong>Stack Trace</strong></p>\n<pre><code>Argument(s) are different! Wanted:\ncwAlarmService.raiseNotificationProcessingAlarm(\n    &quot;device_id_value&quot;,\n    &lt;any string&gt;\n);\n-&gt; at com.cisco.inventory.service.NotificationMonitorTest.test_run_Exception_CW_Alarm(NotificationMonitorTest.java:189)\nActual invocations have different arguments:\ncwAlarmService.raiseNotificationProcessingAlarm(\n    &quot;1b8722ad-0b9b-3327-98fb-5016fcf919f5&quot;,\n    &quot;Exception&quot;\n);\n-&gt; at com.cisco.inventory.scheduler.NotificationMonitor$TriggerNotificationDataCollection.run(NotificationMonitor.java:100)\n\n    at com.cisco.inventory.service.NotificationMonitorTest.test_run_Exception_CW_Alarm(NotificationMonitorTest.java:189)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>and this is the test</p>\n<pre><code>@Test\n    public void test_run_Exception_CW_Alarm() throws IOException, InterruptedException {\n        List&lt;DeviceDetails&gt; deviceDetailsList = new ArrayList&lt;&gt;();\n        DeviceDetails deviceDetails = new DeviceDetails();\n        deviceDetails.setCollectionStatus(Constants.COMPLETED);\n        deviceDetails.setType(&quot;abc&quot;);\n        deviceDetails.setIP(&quot;10.58&quot;);\n        deviceDetailsList.add(deviceDetails);\n        Mockito.when(invenDao.getAllDeviceDetails()).thenReturn(deviceDetailsList);\n        Mockito.when(invenDao.getDeviceDetails(Mockito.any())).thenReturn(deviceDetails);\n        NotificationData notificationData = getNotificationData();\n        notificationData.setNotificationProcessingStatus(Constants.INIT);           Mockito.when(invenDao.getValidNotificationToBeProcessed(Mockito.any())).thenReturn(notificationData);\n        notificationData.setNotificationProcessingStatus(Constants.PROCESSING);\n        notificationData.setIsAlarm(Boolean.TRUE);\n\n        List&lt;StringPair&gt; list = populateModelPathStringPairs();\n        StaticList.ModelPathMapData modelPathMapData = new StaticList.ModelPathMapData();\n        modelPathMapData.setName(Constants.GET_QUERY_MAP_FOR_SVO);\n        modelPathMapData.setModelPaths(list);\n        StaticList staticList = new StaticList();\n        staticList.setModelPathMap(modelPathMapData);\n        Optional&lt;StaticList&gt; staticListOptional = Optional.of(staticList);\n\n        Mockito.when(invenDao.findStaticListByID(Constants.SVO)).thenReturn(staticListOptional);\n        Mockito.when(invenDao.saveNotificationProcessingStatus(Mockito.any(),Mockito.any())).thenReturn(notificationData);\n        Mockito.doThrow(new RuntimeException(&quot;Exception&quot;)).when(notificationService).checkAndHandleDeleteNotifications(notificationData);\n\n        notificationMonitor.run();\n\n        Mockito.verify(cwAlarmService, Mockito.timeout(1000)).raiseNotificationProcessingAlarm(eq(ConstantsTest.DEVICE_ID_VALUE), Mockito.anyString());\n    }\n</code></pre>\n"},{"tags":["java","thread-safety","stampedlock"],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662533921,"creation_date":1662499193,"question_id":73627861,"body_markdown":"StampedLock&#39;s [Javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/StampedLock.html) reads:\r\n\r\n&gt; Optimistic read sections should only read fields and hold them in local variables for later use after validation. Fields read while in optimistic read mode may be wildly inconsistent, so usage applies only when you are familiar enough with data representations to check consistency and/or repeatedly invoke method validate().\r\n\r\nI can fully appreciate what could go wrong if I&#39;m returning an object field directly (instead of returning a copy from local variables) when the value in question holds primitive values.\r\n\r\nBut what happens if my code returns an object reference? Is it any different? Let&#39;s discuss a concrete example:\r\n\r\n    class Test\r\n    {\r\n      private final StampedLock = new StampedLock();\r\n      private String name = &quot;John Smith&quot;;\r\n      private StringBuilder log = new StringBuilder();\r\n    \r\n      public void setName(String name)\r\n      {\r\n        long stamp = lock.writeLock();\r\n        try\r\n        {\r\n          this.name = name;\r\n        }\r\n        finally\r\n    \t{\r\n          lock.unlockWrite(stamp);\r\n        }\r\n      }\r\n    \r\n      public String getName()\r\n      {\r\n        long stamp = lock.tryOptimisticRead();\r\n    \ttry\r\n    \t{\r\n    \t  V result = name;\r\n    \t  if (lock.validate(stamp))\r\n    \t    return result;\r\n          stamp = lock.readLock();\r\n          try\r\n    \t  {\r\n            return name;\r\n          }\r\n        }\r\n    \tcatch (RuntimeException e)\r\n    \t{\r\n    \t  throw e;\r\n    \t}\r\n    \tcatch (Exception e)\r\n    \t{\r\n    \t\tthrow WrappingException.wrap(e);\r\n    \t}\r\n    \tfinally\r\n    \t{\r\n    \t\tlock.unlockRead(stamp);\r\n    \t}\r\n      }\r\n\r\n      // For brevity, assume that &quot;log&quot; has identical getter/setter implementations\r\n    }    \r\n\r\nDisregarding the case where `StampedLock.validate()` returns `false`, I take note of three things:\r\n\r\n1. `name` is immutable, but the field that references it may change.\r\n2. `log` is mutable and the field that references it may change.\r\n3. The getter methods return a *copy* of each respective object reference.\r\n\r\nTo my understanding:\r\n\r\n1. Whether I return the object reference directly or make a local copy and return that, both operations will be thread-safe in the sense that I&#39;ll get back a valid object reference...\r\n2. The state of immutable fields (such as `name`) are guaranteed to be safe for the caller to interact with.\r\n3. The state of mutable fields (such as `log`) are not guaranteed to be thread-safe. Meaning, the reference I am returning might be valid but it state of the referenced object might be in transition.\r\n\r\nLastly, while the getters might return valid object references, there is no guarantee that `Test.name` and `Test.log` still point to the same objects. The second the getter returns, their references may change.\r\n\r\nDid I capture all the nuances above, or did I miss anything?\r\n\r\n**Edit**: In retrospect, I guess it&#39;s impossible to return the object reference directly since we have to invoke `StampedLock.validate()` after reading any fields. In the above code, `V result = ...` is actually creating a local copy prior to returning from the method.)","title":"Is it safe to return object references directly after StampedLock.validate() succeeds?","body":"<p>StampedLock's <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/StampedLock.html\" rel=\"nofollow noreferrer\">Javadoc</a> reads:</p>\n<blockquote>\n<p>Optimistic read sections should only read fields and hold them in local variables for later use after validation. Fields read while in optimistic read mode may be wildly inconsistent, so usage applies only when you are familiar enough with data representations to check consistency and/or repeatedly invoke method validate().</p>\n</blockquote>\n<p>I can fully appreciate what could go wrong if I'm returning an object field directly (instead of returning a copy from local variables) when the value in question holds primitive values.</p>\n<p>But what happens if my code returns an object reference? Is it any different? Let's discuss a concrete example:</p>\n<pre><code>class Test\n{\n  private final StampedLock = new StampedLock();\n  private String name = &quot;John Smith&quot;;\n  private StringBuilder log = new StringBuilder();\n\n  public void setName(String name)\n  {\n    long stamp = lock.writeLock();\n    try\n    {\n      this.name = name;\n    }\n    finally\n    {\n      lock.unlockWrite(stamp);\n    }\n  }\n\n  public String getName()\n  {\n    long stamp = lock.tryOptimisticRead();\n    try\n    {\n      V result = name;\n      if (lock.validate(stamp))\n        return result;\n      stamp = lock.readLock();\n      try\n      {\n        return name;\n      }\n    }\n    catch (RuntimeException e)\n    {\n      throw e;\n    }\n    catch (Exception e)\n    {\n        throw WrappingException.wrap(e);\n    }\n    finally\n    {\n        lock.unlockRead(stamp);\n    }\n  }\n\n  // For brevity, assume that &quot;log&quot; has identical getter/setter implementations\n}    \n</code></pre>\n<p>Disregarding the case where <code>StampedLock.validate()</code> returns <code>false</code>, I take note of three things:</p>\n<ol>\n<li><code>name</code> is immutable, but the field that references it may change.</li>\n<li><code>log</code> is mutable and the field that references it may change.</li>\n<li>The getter methods return a <em>copy</em> of each respective object reference.</li>\n</ol>\n<p>To my understanding:</p>\n<ol>\n<li>Whether I return the object reference directly or make a local copy and return that, both operations will be thread-safe in the sense that I'll get back a valid object reference...</li>\n<li>The state of immutable fields (such as <code>name</code>) are guaranteed to be safe for the caller to interact with.</li>\n<li>The state of mutable fields (such as <code>log</code>) are not guaranteed to be thread-safe. Meaning, the reference I am returning might be valid but it state of the referenced object might be in transition.</li>\n</ol>\n<p>Lastly, while the getters might return valid object references, there is no guarantee that <code>Test.name</code> and <code>Test.log</code> still point to the same objects. The second the getter returns, their references may change.</p>\n<p>Did I capture all the nuances above, or did I miss anything?</p>\n<p><strong>Edit</strong>: In retrospect, I guess it's impossible to return the object reference directly since we have to invoke <code>StampedLock.validate()</code> after reading any fields. In the above code, <code>V result = ...</code> is actually creating a local copy prior to returning from the method.)</p>\n"},{"tags":["java","okhttp","interceptor","byte-buddy","javaagents"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662533882,"creation_date":1662533882,"answer_id":73631270,"question_id":73622991,"body_markdown":"I assume that the binary name is \r\n \r\n    type(ElementMatchers.named(&quot;okhttp3.OkHttpClient$Builder&quot;))\r\n\r\nYou can otherwise register a listener in your builder to see if a type is processed or ignored and what its name is.","title":"How to add okhttp custom interceptor at runtime using bytebuddy?","body":"<p>I assume that the binary name is</p>\n<pre><code>type(ElementMatchers.named(&quot;okhttp3.OkHttpClient$Builder&quot;))\n</code></pre>\n<p>You can otherwise register a listener in your builder to see if a type is processed or ignored and what its name is.</p>\n"}],"owner":{"account_id":25398964,"reputation":95,"user_id":19208792,"display_name":"Gourav Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73631270,"answer_count":1,"score":-1,"last_activity_date":1662533882,"creation_date":1662471319,"question_id":73622991,"body_markdown":"I want to add my interceptor at runtime in okhttpclient, I am making Agent using bytebuddy in premain class. And i am trying to intercept the constructor of **&quot;okhttp3.OkHttpClient.Builder&quot;** to add my interceptor in the interceptors list.\r\nBut the problem is that the type() method is unable to find my class, I&#39;ve tried different ways for eg: ElementMatchers .is(), .nameStartsWith(), .nameContains(), named() etc. but couldn&#39;t find the class.\r\n\r\nI know that okhttp uses Kotlin &amp; java adds **$** in the namespace to invoke some methods, so for my case i changed it to **&quot;okhttp3.OkHttpClient$Builder&quot;**, but again it was not finding the matching class.\r\n\r\nI also want to know my approach that am i doing the right way to add the custom interceptor.\r\n\r\nAgent:\r\n\r\n```java\r\n    public static void premain(String arg, Instrumentation instrumentation) {\r\n\r\n    new AgentBuilder.Default()           \r\n          .type(ElementMatchers.named(&quot;okhttp3.OkHttpClient.Builder&quot;))\r\n          .transform((builder, typeDescription, classLoader, javaModule, protectionDomain) -&gt; {\r\n                    System.out.println(&quot;Transformer: adding custom okhttpinterceptor using agent: &quot; + typeDescription.getName());\r\n                    return builder.constructor(ElementMatchers.takesArgument(1, OkHttpClient.class))\r\n                            .intercept(MethodDelegation.to(ConstructorInterceptor.class));\r\n                })\r\n          .installOn(instrumentation);\r\n    }\r\n\r\n```\r\nConstructorInterceptor:\r\n\r\n```java \r\n    public class ConstructorInterceptor {\r\n\r\n         public static void doProceed(\r\n            @SuperCall\r\n            Callable&lt;?&gt; client,\r\n            @Argument(0)\r\n            OkHttpClient okHttpClient, @Origin String method) throws Exception {\r\n\r\n        System.out.println(&quot;Constructor Interceptor was called for: &quot; + method);\r\n        client.call();\r\n        okHttpClient.interceptors().add(new HttpInterceptor());\r\n    }\r\n}\r\n```\r\n\r\nHttpInterceptor:\r\n\r\n```java\r\n    public class HttpInterceptor implements Interceptor{\r\n\r\n      @NotNull\r\n      @Override\r\n      public Response intercept(@NotNull Interceptor.Chain chain) throws IOException {\r\n        Request request = chain.request();\r\n\r\n        String reqBody = getRequestBody(request);\r\n\r\n        System.out.println(&quot;Inside HttpInterceptor before next()&quot;);\r\n\r\n        Response response = chain.proceed(request);\r\n\r\n        System.out.println(&quot;Inside HttpInterceptor after next()&quot;);\r\n\r\n        return response;\r\n    }\r\n }\r\n```\r\n\r\n","title":"How to add okhttp custom interceptor at runtime using bytebuddy?","body":"<p>I want to add my interceptor at runtime in okhttpclient, I am making Agent using bytebuddy in premain class. And i am trying to intercept the constructor of <strong>&quot;okhttp3.OkHttpClient.Builder&quot;</strong> to add my interceptor in the interceptors list.\nBut the problem is that the type() method is unable to find my class, I've tried different ways for eg: ElementMatchers .is(), .nameStartsWith(), .nameContains(), named() etc. but couldn't find the class.</p>\n<p>I know that okhttp uses Kotlin &amp; java adds <strong>$</strong> in the namespace to invoke some methods, so for my case i changed it to <strong>&quot;okhttp3.OkHttpClient$Builder&quot;</strong>, but again it was not finding the matching class.</p>\n<p>I also want to know my approach that am i doing the right way to add the custom interceptor.</p>\n<p>Agent:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void premain(String arg, Instrumentation instrumentation) {\n\n    new AgentBuilder.Default()           \n          .type(ElementMatchers.named(&quot;okhttp3.OkHttpClient.Builder&quot;))\n          .transform((builder, typeDescription, classLoader, javaModule, protectionDomain) -&gt; {\n                    System.out.println(&quot;Transformer: adding custom okhttpinterceptor using agent: &quot; + typeDescription.getName());\n                    return builder.constructor(ElementMatchers.takesArgument(1, OkHttpClient.class))\n                            .intercept(MethodDelegation.to(ConstructorInterceptor.class));\n                })\n          .installOn(instrumentation);\n    }\n\n</code></pre>\n<p>ConstructorInterceptor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class ConstructorInterceptor {\n\n         public static void doProceed(\n            @SuperCall\n            Callable&lt;?&gt; client,\n            @Argument(0)\n            OkHttpClient okHttpClient, @Origin String method) throws Exception {\n\n        System.out.println(&quot;Constructor Interceptor was called for: &quot; + method);\n        client.call();\n        okHttpClient.interceptors().add(new HttpInterceptor());\n    }\n}\n</code></pre>\n<p>HttpInterceptor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class HttpInterceptor implements Interceptor{\n\n      @NotNull\n      @Override\n      public Response intercept(@NotNull Interceptor.Chain chain) throws IOException {\n        Request request = chain.request();\n\n        String reqBody = getRequestBody(request);\n\n        System.out.println(&quot;Inside HttpInterceptor before next()&quot;);\n\n        Response response = chain.proceed(request);\n\n        System.out.println(&quot;Inside HttpInterceptor after next()&quot;);\n\n        return response;\n    }\n }\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":1,"creation_date":1662531058,"post_id":73630746,"comment_id":130023547,"body_markdown":"1. It should be &quot;Sources root&quot; 2. (Java basics) You are expected to have a `public static void main(String[] args)` **directly** inside a `public class`, not from a nested class.","body":"1. It should be &quot;Sources root&quot; 2. (Java basics) You are expected to have a <code>public static void main(String[] args)</code> <b>directly</b> inside a <code>public class</code>, not from a nested class."}],"answers":[{"tags":[],"owner":{"account_id":23262560,"reputation":1,"user_id":17348637,"display_name":"vu minh huy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662533837,"creation_date":1662533776,"answer_id":73631248,"question_id":73630746,"body_markdown":"You don&#39;t need to use class Test() in class EncapsulationExample{}\r\n\r\n```\r\npublic class EncapsulationExample {\r\n    private String name;\r\n    private int x;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public int getValue(){\r\n        return x;\r\n    }\r\n    public void setName(String name){\r\n        this.name = name;\r\n    }\r\n    public void setValue(int x){\r\n        this.x = x;\r\n    }\r\n    public static void main(String[] args) {\r\n        EncapsulationExample e1 = new EncapsulationExample();\r\n        e1.setName(&quot;Aara&quot;);\r\n        e1.setValue(10);\r\n        System.out.println(e1.getName()+e1.getValue());\r\n    }\r\n}\r\n```","title":"&quot;The file in the editor is not runnnable&quot; -intellij","body":"<p>You don't need to use class Test() in class EncapsulationExample{}</p>\n<pre><code>public class EncapsulationExample {\n    private String name;\n    private int x;\n\n    public String getName() {\n        return name;\n    }\n    public int getValue(){\n        return x;\n    }\n    public void setName(String name){\n        this.name = name;\n    }\n    public void setValue(int x){\n        this.x = x;\n    }\n    public static void main(String[] args) {\n        EncapsulationExample e1 = new EncapsulationExample();\n        e1.setName(&quot;Aara&quot;);\n        e1.setValue(10);\n        System.out.println(e1.getName()+e1.getValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26267354,"reputation":3,"user_id":19937700,"display_name":"BASIL K AJI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662533837,"creation_date":1662530497,"question_id":73630746,"body_markdown":"I can&#39;t run this program.I tried  editing the run configuration,marked src folder directory as resource root,again test resource root, but still it won&#39;t work.. although building is possible.\r\n\r\nhttps://i.stack.imgur.com/GZgML.png","title":"&quot;The file in the editor is not runnnable&quot; -intellij","body":"<p>I can't run this program.I tried  editing the run configuration,marked src folder directory as resource root,again test resource root, but still it won't work.. although building is possible.</p>\n<p><a href=\"https://i.stack.imgur.com/GZgML.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/GZgML.png</a></p>\n"},{"tags":["java","eclipse","error-handling","java-8"],"answers":[{"tags":[],"owner":{"account_id":7199069,"reputation":119,"user_id":5496812,"display_name":"korsgaard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489907130,"creation_date":1489907130,"answer_id":42883877,"question_id":42877903,"body_markdown":"The hs_err_pid file is created when java crashes because of a fatal error. You should read the message in the file, or add the content to your question.","title":"java,eclipse - eclipse brings hs_err_pid file everytime?","body":"<p>The hs_err_pid file is created when java crashes because of a fatal error. You should read the message in the file, or add the content to your question.</p>\n"}],"owner":{"account_id":9795843,"reputation":1,"user_id":7258919,"display_name":"Ruben Amizyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1021,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662533490,"creation_date":1489859920,"question_id":42877903,"body_markdown":"eclipse close every time and bring   hs_err_pid  file\r\n[hs_err_pid image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I1OIj.png\r\n\r\nHowever I&#39;m using the latest version of java\r\n\r\nThank you","title":"java,eclipse - eclipse brings hs_err_pid file everytime?","body":"<p>eclipse close every time and bring   hs_err_pid  file\n<a href=\"https://i.stack.imgur.com/I1OIj.png\" rel=\"nofollow noreferrer\">hs_err_pid image</a></p>\n\n<p>However I'm using the latest version of java</p>\n\n<p>Thank you</p>\n"},{"tags":["java","kotlin","data-structures","tree","clone"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1661924345,"post_id":73550495,"comment_id":129884182,"body_markdown":"You can clone the tree by doing an inorder tree traversal and construct the second tree.","body":"You can clone the tree by doing an inorder tree traversal and construct the second tree."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661917928,"creation_date":1661917318,"answer_id":73550638,"question_id":73550495,"body_markdown":"Just create a new root `Node2` using a list of children we&#39;ve already converted to `Node2` and the data from the `Node` root node.\r\n\r\nHere&#39;s one approach:\r\n```java\r\nimport java.util.List;\r\nimport java.util.function.BiFunction;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\n\r\nimport static java.util.List.of;\r\n\r\nclass Node {\r\n    final String data;\r\n    final List&lt;Node&gt; children;\r\n\r\n    Node(String data, List&lt;Node&gt; children) {\r\n        this.data = data;\r\n        this.children = children;\r\n    }\r\n}\r\n\r\nclass Node2 {\r\n    final String data;\r\n    final String data2;\r\n    final List&lt;Node2&gt; children;\r\n\r\n    Node2(String data, String data2, List&lt;Node2&gt; children) {\r\n        this.data = data;\r\n        this.data2 = data2;\r\n        this.children = children;\r\n    }\r\n}\r\n\r\n\r\npublic class TreeClone {\r\n\r\n    static &lt;A,B&gt; B cloneTree(A a, BiFunction&lt;A,List&lt;B&gt;,B&gt; createB, Function&lt;A,List&lt;A&gt;&gt; extractAChildren) {\r\n        List&lt;B&gt; children = extractAChildren.apply(a)\r\n                .stream()\r\n                .map(anA -&gt; cloneTree(anA, createB, extractAChildren))\r\n                .collect(Collectors.toList());\r\n        return createB.apply(a, children);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Node n = new Node(&quot;root&quot;, \r\n                of(new Node(&quot;child1&quot;, \r\n                        of(new Node(&quot;gchild&quot;, of()))), \r\n                        new Node(&quot;child2&quot;, of())\r\n                )\r\n        );\r\n        Node2 n2 = cloneTree(n,\r\n                (from, children) -&gt; new Node2(from.data, from.data.toUpperCase(), children),\r\n                node -&gt; node.children\r\n        );\r\n    }\r\n}\r\n\r\n```","title":"Cloning Tree Structure - One Node Type to Another","body":"<p>Just create a new root <code>Node2</code> using a list of children we've already converted to <code>Node2</code> and the data from the <code>Node</code> root node.</p>\n<p>Here's one approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.function.BiFunction;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\nimport static java.util.List.of;\n\nclass Node {\n    final String data;\n    final List&lt;Node&gt; children;\n\n    Node(String data, List&lt;Node&gt; children) {\n        this.data = data;\n        this.children = children;\n    }\n}\n\nclass Node2 {\n    final String data;\n    final String data2;\n    final List&lt;Node2&gt; children;\n\n    Node2(String data, String data2, List&lt;Node2&gt; children) {\n        this.data = data;\n        this.data2 = data2;\n        this.children = children;\n    }\n}\n\n\npublic class TreeClone {\n\n    static &lt;A,B&gt; B cloneTree(A a, BiFunction&lt;A,List&lt;B&gt;,B&gt; createB, Function&lt;A,List&lt;A&gt;&gt; extractAChildren) {\n        List&lt;B&gt; children = extractAChildren.apply(a)\n                .stream()\n                .map(anA -&gt; cloneTree(anA, createB, extractAChildren))\n                .collect(Collectors.toList());\n        return createB.apply(a, children);\n    }\n\n    public static void main(String[] args) {\n        Node n = new Node(&quot;root&quot;, \n                of(new Node(&quot;child1&quot;, \n                        of(new Node(&quot;gchild&quot;, of()))), \n                        new Node(&quot;child2&quot;, of())\n                )\n        );\n        Node2 n2 = cloneTree(n,\n                (from, children) -&gt; new Node2(from.data, from.data.toUpperCase(), children),\n                node -&gt; node.children\n        );\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":25373331,"reputation":110,"user_id":19186780,"display_name":"CodeGorilla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73550638,"answer_count":1,"score":2,"last_activity_date":1662533349,"creation_date":1661915499,"question_id":73550495,"body_markdown":"I&#39;m looking to convert a tree using one type to node to another type, and I&#39;ve been stuck on this for longer than I wish to admit.\r\n\r\nSo lets say the original tree looks like this:\r\n\r\n    Node: String, Children (Node)\r\n\r\nI want to clone this tree but instead have:\r\n\r\n    Node2: String, Children (Node2), String\r\n\r\nI&#39;m stuck on how I can recursively go through the initial tree and then clone all the nodes to be using Node2 parameters.\r\n\r\nAny help would be greatly appreciated!\r\n\r\n----------\r\nUpdate: Used the answer provided by [@tgdavies][1] and ended up with:\r\n\r\n    private fun cloneTree(\r\n        nodeA: Node_1,\r\n        createB: BiFunction&lt;Node_1, List&lt;Node_2&gt;?, Node_2&gt;\r\n    ): Node_2 {\r\n        val children: List&lt;Node_2&gt; = nodeA.children\r\n            .stream()\r\n            .map { anA -&gt; cloneTree(anA, createB) }\r\n            .collect(Collectors.toList())\r\n        return createB.apply(nodeA, children)\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/11002/tgdavies","title":"Cloning Tree Structure - One Node Type to Another","body":"<p>I'm looking to convert a tree using one type to node to another type, and I've been stuck on this for longer than I wish to admit.</p>\n<p>So lets say the original tree looks like this:</p>\n<pre><code>Node: String, Children (Node)\n</code></pre>\n<p>I want to clone this tree but instead have:</p>\n<pre><code>Node2: String, Children (Node2), String\n</code></pre>\n<p>I'm stuck on how I can recursively go through the initial tree and then clone all the nodes to be using Node2 parameters.</p>\n<p>Any help would be greatly appreciated!</p>\n<hr />\n<p>Update: Used the answer provided by <a href=\"https://stackoverflow.com/users/11002/tgdavies\">@tgdavies</a> and ended up with:</p>\n<pre><code>private fun cloneTree(\n    nodeA: Node_1,\n    createB: BiFunction&lt;Node_1, List&lt;Node_2&gt;?, Node_2&gt;\n): Node_2 {\n    val children: List&lt;Node_2&gt; = nodeA.children\n        .stream()\n        .map { anA -&gt; cloneTree(anA, createB) }\n        .collect(Collectors.toList())\n    return createB.apply(nodeA, children)\n}\n</code></pre>\n"},{"tags":["java","spring-boot","angular-fullstack"],"comments":[{"owner":{"account_id":1010577,"reputation":815,"user_id":1023236,"accept_rate":42,"display_name":"Rajeshkumar"},"score":0,"creation_date":1662545534,"post_id":73631050,"comment_id":130028688,"body_markdown":"When you hit from UI, are you hitting from one URL to another. Then it won&#39;t be allowed unless you specify cross origin allowed.","body":"When you hit from UI, are you hitting from one URL to another. Then it won&#39;t be allowed unless you specify cross origin allowed."},{"owner":{"account_id":1010577,"reputation":815,"user_id":1023236,"accept_rate":42,"display_name":"Rajeshkumar"},"score":0,"creation_date":1662545636,"post_id":73631050,"comment_id":130028727,"body_markdown":"You can refer more from https://spring.io/guides/gs/rest-service-cors/","body":"You can refer more from <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/rest-service-cors</a>"}],"owner":{"account_id":8036230,"reputation":259,"user_id":6059250,"accept_rate":71,"display_name":"Rjj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662533323,"creation_date":1662532576,"question_id":73631050,"body_markdown":"I tried with the below code\r\n\r\n```java\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class WebSecurityConfig extends\r\n   WebSecurityConfigurerAdapter {\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http\r\n      // ...\r\n      .headers()\r\n        .addHeaderWriter(new StaticHeadersWriter(&quot;X-Content-Security-Policy&quot;,&quot;script-src &#39;self&#39;&quot;))\r\n      // ...\r\n  }\r\n}\r\n```\r\n\r\nwhen I am hitting any endpoint from swagger in response I am getting the X-Content-Security header \r\n\r\nthe same when I am testing with my local UI getting the below error kindly help. http://localhost:4200 . Has been blocked by CORS policy: response to pre flight request does not pass access control check.","title":"How to add Content-Security-Policy header in rest api-response spring-boot?","body":"<p>I tried with the below code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@Configuration\npublic class WebSecurityConfig extends\n   WebSecurityConfigurerAdapter {\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http\n      // ...\n      .headers()\n        .addHeaderWriter(new StaticHeadersWriter(&quot;X-Content-Security-Policy&quot;,&quot;script-src 'self'&quot;))\n      // ...\n  }\n}\n</code></pre>\n<p>when I am hitting any endpoint from swagger in response I am getting the X-Content-Security header</p>\n<p>the same when I am testing with my local UI getting the below error kindly help. http://localhost:4200 . Has been blocked by CORS policy: response to pre flight request does not pass access control check.</p>\n"},{"tags":["java","maven","jar"],"answers":[{"tags":[],"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1568029408,"creation_date":1472120415,"answer_id":39142635,"question_id":39142580,"body_markdown":"You need to define the `maven-jar-plugin` to avoid creating the default jar. This is done by adding `&lt;phase&gt;none&lt;/phase&gt;` under `execution`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n             &lt;id&gt;default-jar&lt;/id&gt;\r\n             &lt;phase&gt;none&lt;/phase&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAll the resources/classes are still moved to the target folder, so `maven-assembly` can still execute itself correctly.","title":"Maven assembly plugin creates two unexpected jars","body":"<p>You need to define the <code>maven-jar-plugin</code> to avoid creating the default jar. This is done by adding <code>&lt;phase&gt;none&lt;/phase&gt;</code> under <code>execution</code>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n         &lt;id&gt;default-jar&lt;/id&gt;\n         &lt;phase&gt;none&lt;/phase&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>All the resources/classes are still moved to the target folder, so <code>maven-assembly</code> can still execute itself correctly.</p>\n"}],"owner":{"account_id":7429801,"reputation":439,"user_id":5651182,"accept_rate":80,"display_name":"Nandor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2354,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":39142635,"answer_count":1,"score":9,"last_activity_date":1662533266,"creation_date":1472120247,"question_id":39142580,"body_markdown":"I want to use maven-assembly-plugin to pack external dependencies into the application&#39;s jar file. When I call mvn install it creates two jar files, one with and one without the dependencies. (appname-version.jar and appname-version-jar-with-dependencies.jar)\r\n\r\nMy question is that why it creates two jar files?\r\n\r\nHere is the plugin: (im not using any other plugin at the moment)\r\n\r\n        &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;archive&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;mainClass&gt;com.coolapp.mainClass&lt;/mainClass&gt;\r\n                    &lt;/manifest&gt;\r\n                &lt;/archive&gt;\r\n                &lt;descriptorRefs&gt;\r\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                &lt;/descriptorRefs&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\r\nThank you!","title":"Maven assembly plugin creates two unexpected jars","body":"<p>I want to use maven-assembly-plugin to pack external dependencies into the application's jar file. When I call mvn install it creates two jar files, one with and one without the dependencies. (appname-version.jar and appname-version-jar-with-dependencies.jar)</p>\n\n<p>My question is that why it creates two jar files?</p>\n\n<p>Here is the plugin: (im not using any other plugin at the moment)</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;mainClass&gt;com.coolapp.mainClass&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":["java","api","rest","web-services","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1662063823,"post_id":73571602,"comment_id":129926229,"body_markdown":"It should be `@Path` not `@ApplicationPath`","body":"It should be <code>@Path</code> not <code>@ApplicationPath</code>"},{"owner":{"account_id":16215928,"reputation":19,"user_id":13094899,"display_name":"Sri Durga"},"score":0,"creation_date":1662125853,"post_id":73571602,"comment_id":129940348,"body_markdown":"@PaulSamsotha It&#39;s giving same 404 Not Found error with Path too.","body":"@PaulSamsotha It&#39;s giving same 404 Not Found error with Path too."},{"owner":{"account_id":12526038,"reputation":353,"user_id":9115820,"display_name":"Clark Ngo"},"score":0,"creation_date":1662187601,"post_id":73571602,"comment_id":129952347,"body_markdown":"add `@Path(&quot;/&quot;)` to your `sayHelloInXML()` method","body":"add <code>@Path(&quot;&#47;&quot;)</code> to your <code>sayHelloInXML()</code> method"}],"owner":{"account_id":16215928,"reputation":19,"user_id":13094899,"display_name":"Sri Durga"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662532623,"creation_date":1662044673,"question_id":73571602,"body_markdown":"I&#39;m trying to create RESTful webservices with JAX RS library in Intellij Ultimate Edition.\r\n\r\nI&#39;ve create Webservice Project and added Maven framework to the project.\r\n\r\nBelow is the web.xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot; metadata-complete=&quot;true&quot;&gt;\r\n\r\n    &lt;display-name&gt;restapijava&lt;/display-name&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Service1&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.restful.java.example&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Service1&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.restful.java.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;restapijava&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nJava class is:\r\n```\r\npackage com.restful.java.example;\r\n\r\nimport javax.ws.rs.ApplicationPath;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.json.Json;\r\nimport javax.json.JsonObject;\r\n\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\n\r\n@Path(&quot;/poc&quot;)\r\npublic class Sample {\r\n\r\n    @GET\r\n    @Produces(MediaType.TEXT_XML)\r\n    public String sayHelloInXML() {\r\n        String name = &quot;Tom&quot;;\r\n        System.out.println(&quot;POC: Sending XML response to name : &quot;+name);\r\n        return name;\r\n    }\r\n\r\n    @GET\r\n    @Path(&quot;/jsonview&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public JsonObject sayHelloInJSON() {\r\n        String name = &quot;Tom&quot;;\r\n        JsonObject jsonObj = Json.createObjectBuilder()\r\n                .add(&quot;name&quot;, name)\r\n                .add(&quot;service&quot;, &quot;POC&quot;)\r\n                .build();\r\n        return jsonObj;\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to hit URL : http://localhost:8080/restapijava/api/poc It gives 404 Not Found error. Any help is appreciated !!","title":"Java Restful Webservice returns 404 Not Found (Intellij Ultimate Edition)","body":"<p>I'm trying to create RESTful webservices with JAX RS library in Intellij Ultimate Edition.</p>\n<p>I've create Webservice Project and added Maven framework to the project.</p>\n<p>Below is the web.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot; metadata-complete=&quot;true&quot;&gt;\n\n    &lt;display-name&gt;restapijava&lt;/display-name&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Service1&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n            &lt;param-value&gt;com.restful.java.example&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Service1&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.restful.java.example&lt;/groupId&gt;\n    &lt;artifactId&gt;restapijava&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Java class is:</p>\n<pre><code>package com.restful.java.example;\n\nimport javax.ws.rs.ApplicationPath;\nimport javax.ws.rs.core.MediaType;\nimport javax.json.Json;\nimport javax.json.JsonObject;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\n\n@Path(&quot;/poc&quot;)\npublic class Sample {\n\n    @GET\n    @Produces(MediaType.TEXT_XML)\n    public String sayHelloInXML() {\n        String name = &quot;Tom&quot;;\n        System.out.println(&quot;POC: Sending XML response to name : &quot;+name);\n        return name;\n    }\n\n    @GET\n    @Path(&quot;/jsonview&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public JsonObject sayHelloInJSON() {\n        String name = &quot;Tom&quot;;\n        JsonObject jsonObj = Json.createObjectBuilder()\n                .add(&quot;name&quot;, name)\n                .add(&quot;service&quot;, &quot;POC&quot;)\n                .build();\n        return jsonObj;\n    }\n}\n</code></pre>\n<p>When I try to hit URL : http://localhost:8080/restapijava/api/poc It gives 404 Not Found error. Any help is appreciated !!</p>\n"},{"tags":["java","jenkins"],"answers":[{"tags":[],"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539860544,"creation_date":1539860544,"answer_id":52872516,"question_id":52872221,"body_markdown":"I think the errormessage is quite clear. **You are trying to run Jenkins with Java version 11, while it would prefer Java 8.**\r\n\r\nAccording to the [documentation][1] Java 11 is not fully supported yet, but as the errormessage suggest, you can make it work by using the `--enable-future-java` flag via command line.\r\n\r\n**The more safe option is to install and use the Java version preferred by the Jenkins team**, which is Java 8 at this point. For that you need to install of course that version on your machine first.\r\n\r\n\r\n  [1]: https://jenkins.io/doc/administration/requirements/java/","title":"Unable to setup Jenkins war with java command","body":"<p>I think the errormessage is quite clear. <strong>You are trying to run Jenkins with Java version 11, while it would prefer Java 8.</strong></p>\n\n<p>According to the <a href=\"https://jenkins.io/doc/administration/requirements/java/\" rel=\"noreferrer\">documentation</a> Java 11 is not fully supported yet, but as the errormessage suggest, you can make it work by using the <code>--enable-future-java</code> flag via command line.</p>\n\n<p><strong>The more safe option is to install and use the Java version preferred by the Jenkins team</strong>, which is Java 8 at this point. For that you need to install of course that version on your machine first.</p>\n"},{"tags":[],"owner":{"account_id":9906402,"reputation":31,"user_id":7334791,"display_name":"RAHUL KUMAR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597700326,"creation_date":1597700326,"answer_id":63458987,"question_id":52872221,"body_markdown":"It works with &quot;java -jar jenkins.war --enable-future-java --httpPort=9090&quot;. \r\n\r\nSteps:\r\n1. Go to directory where Jenkins.war is places\r\n2. open cmd\r\n3. Enter java -jar jenkins.war --enable-future-java --httpPort=9090\r\n\r\nJenkins will start. then Go to &quot;http://localhost:9090/&quot; and enter &quot;initialAdminPassword&quot; then Jenkins will start properly.","title":"Unable to setup Jenkins war with java command","body":"<p>It works with &quot;java -jar jenkins.war --enable-future-java --httpPort=9090&quot;.</p>\n<p>Steps:</p>\n<ol>\n<li>Go to directory where Jenkins.war is places</li>\n<li>open cmd</li>\n<li>Enter java -jar jenkins.war --enable-future-java --httpPort=9090</li>\n</ol>\n<p>Jenkins will start. then Go to &quot;http://localhost:9090/&quot; and enter &quot;initialAdminPassword&quot; then Jenkins will start properly.</p>\n"},{"tags":[],"owner":{"account_id":4679424,"reputation":1,"user_id":3788586,"display_name":"Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629429228,"creation_date":1629429228,"answer_id":68856612,"question_id":52872221,"body_markdown":"1. Download JDK 11 version as ZIp version\r\n2. Open Command Prompt or terminal\r\n3. set PATH=&lt;Path of JDK 11 or JDK8 Bin folder&gt;;%PATH% (For windows)\r\n4. Check for Java -version, it shows JDK 11 or 8\r\n5. Run java -jar jenkins.war -httpPort=&lt;anyport&gt;","title":"Unable to setup Jenkins war with java command","body":"<ol>\n<li>Download JDK 11 version as ZIp version</li>\n<li>Open Command Prompt or terminal</li>\n<li>set PATH=&lt;Path of JDK 11 or JDK8 Bin folder&gt;;%PATH% (For windows)</li>\n<li>Check for Java -version, it shows JDK 11 or 8</li>\n<li>Run java -jar jenkins.war -httpPort=</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2800163,"reputation":1,"user_id":2408542,"display_name":"Mark Wandatha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662532240,"creation_date":1662034236,"answer_id":73569136,"question_id":52872221,"body_markdown":"If you have more Recent Java version installed, Run \r\n\r\n    java -jar jenkins.war --enable-future-java --httpPort=xxxx   \r\n\r\n","title":"Unable to setup Jenkins war with java command","body":"<p>If you have more Recent Java version installed, Run</p>\n<pre><code>java -jar jenkins.war --enable-future-java --httpPort=xxxx   \n</code></pre>\n"}],"owner":{"account_id":176035,"reputation":4325,"user_id":406457,"accept_rate":45,"display_name":"kiran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8665,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1662532240,"creation_date":1539859329,"question_id":52872221,"body_markdown":"I am trying to setup Jenkins on first step I got following error\r\nwhen running the command &quot;java -jar jenkins.war&quot;\r\n\r\n    SEVERE: Running with Java class version 55.0, but 52.0 is required.Run with the --enable-future-java flag to enable such behavior. See https://jenkins.io/redirect/java-support/\r\n    java.lang.UnsupportedClassVersionError: 55.0\r\n    \tat Main.main(Main.java:139)\r\n    \r\n    Jenkins requires Java 8, but you are running 11.0.1+13-LTS from /Library/Java/JavaVirtualMachines/jdk-11.0.1.jdk/Contents/Home\r\n    java.lang.UnsupportedClassVersionError: 55.0\r\n    \tat Main.main(Main.java:139)\r\n\r\nCan any one guild me how to fix this?","title":"Unable to setup Jenkins war with java command","body":"<p>I am trying to setup Jenkins on first step I got following error\nwhen running the command \"java -jar jenkins.war\"</p>\n\n<pre><code>SEVERE: Running with Java class version 55.0, but 52.0 is required.Run with the --enable-future-java flag to enable such behavior. See https://jenkins.io/redirect/java-support/\njava.lang.UnsupportedClassVersionError: 55.0\n    at Main.main(Main.java:139)\n\nJenkins requires Java 8, but you are running 11.0.1+13-LTS from /Library/Java/JavaVirtualMachines/jdk-11.0.1.jdk/Contents/Home\njava.lang.UnsupportedClassVersionError: 55.0\n    at Main.main(Main.java:139)\n</code></pre>\n\n<p>Can any one guild me how to fix this?</p>\n"},{"tags":["java","java-8","annotation-processing"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1639151313,"post_id":70299528,"comment_id":124282768,"body_markdown":"Is your question is, why you are not seeing the print statement in init &amp; process methods?","body":"Is your question is, why you are not seeing the print statement in init &amp; process methods?"},{"owner":{"account_id":18650371,"reputation":21,"user_id":14652475,"display_name":"Alan"},"score":0,"creation_date":1639152588,"post_id":70299528,"comment_id":124283208,"body_markdown":"Yup! Mostly why am I not getting the printMessage().","body":"Yup! Mostly why am I not getting the printMessage()."}],"answers":[{"tags":[],"owner":{"account_id":18650371,"reputation":21,"user_id":14652475,"display_name":"Alan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639154857,"creation_date":1639154857,"answer_id":70307844,"question_id":70299528,"body_markdown":"    @AutoService(TableProcessor.class)\r\n\r\nshould be\r\n\r\n    @AutoService(Processor.class)\r\n\r\n","title":"Annotation Processor Not Running","body":"<pre><code>@AutoService(TableProcessor.class)\n</code></pre>\n<p>should be</p>\n<pre><code>@AutoService(Processor.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12411661,"reputation":1,"user_id":9043492,"display_name":"Ngc Anh Ho&#224;ng"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660472153,"creation_date":1660472153,"answer_id":73350811,"question_id":70299528,"body_markdown":"&gt; *@Retention(RetentionPolicy.RUNTIME)*\r\n\r\nshould be \r\n\r\n&gt; *@Retention(RetentionPolicy.SOURCE)*","title":"Annotation Processor Not Running","body":"<blockquote>\n<p><em>@Retention(RetentionPolicy.RUNTIME)</em></p>\n</blockquote>\n<p>should be</p>\n<blockquote>\n<p><em>@Retention(RetentionPolicy.SOURCE)</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3019348,"reputation":910,"user_id":2560750,"accept_rate":0,"display_name":"cyril"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662532084,"creation_date":1662532084,"answer_id":73630972,"question_id":70299528,"body_markdown":"    @AutoService(TableProcessor.class)\r\n\r\nshould be\r\n\r\n    @AutoService(AbstractProcessor.class) or @AutoService(Processor.class)\r\n\r\n@autoservice(X) means you implement X, but i see a class or interface Processor in your question, so you have to be sure what implement what but your @autoservice first is wrong.","title":"Annotation Processor Not Running","body":"<pre><code>@AutoService(TableProcessor.class)\n</code></pre>\n<p>should be</p>\n<pre><code>@AutoService(AbstractProcessor.class) or @AutoService(Processor.class)\n</code></pre>\n<p>@autoservice(X) means you implement X, but i see a class or interface Processor in your question, so you have to be sure what implement what but your @autoservice first is wrong.</p>\n"}],"owner":{"account_id":18650371,"reputation":21,"user_id":14652475,"display_name":"Alan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1662532084,"creation_date":1639107919,"question_id":70299528,"body_markdown":"## Project 1 (annotation project):\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    \r\n    group &#39;org.example&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        annotationProcessor &#39;com.google.auto.service:auto-service:1.0.1&#39;\r\n        implementation &#39;com.google.auto.service:auto-service:1.0.1&#39;\r\n    \r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n**Annotation**\r\n\r\n    @Target({ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface Table {\r\n        String value();\r\n        String[] ignoreColumns() default {};\r\n    }\r\n\r\n**Processor**\r\n\r\n    @AutoService(TableProcessor.class)\r\n    @SupportedAnnotationTypes(&quot;com.github.ahuangJM.annotations.Table&quot;)\r\n    @SupportedSourceVersion(SourceVersion.RELEASE_8)\r\n    public class TableProcessor extends AbstractProcessor {\r\n        @Override\r\n        public synchronized void init(ProcessingEnvironment processingEnv) {\r\n            System.out.println(&quot;init hit!&quot;);\r\n            super.init(processingEnv);\r\n        }\r\n    \r\n        @Override\r\n        public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n            final Messager messager = processingEnv.getMessager();\r\n            messager.printMessage(Diagnostic.Kind.NOTE, &quot;Processing...&quot;);\r\n            return true;\r\n        }\r\n    }\r\n\r\n**\\resources\\META-INF\\javax.annotation.processing.Processor**\r\n\r\n    org.example.processors.TableProcessor\r\n\r\n## Project 2 (annotation project consumer):\r\n**Annotation Consumer**\r\n\r\n    @Table(&quot;user-info&quot;)\r\n    public class UserInfo {\r\n    }\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group &#39;org.example&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation files(&quot;REDACTED\\\\code-generator-annotation.jar&quot;)\r\n        annotationProcessor files(&quot;REDACTED\\\\code-generator-annotation.jar&quot;)\r\n    \r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nThis should be a very simple annotation processor just printing debugging statements.\r\nThis all seems correct to me, but `process()` is not running when I build/run project 2. I have tried overriding `getSupportedVersion()` and `getSupportedAnnotationTypes()` as well. That didn&#39;t do anything. Also tried without `@AutoService`, that didn&#39;t change anything as well.\r\n\r\n**EDIT:** why am i can getting the `print()` and/or `printMessage()` statement?","title":"Annotation Processor Not Running","body":"<h2>Project 1 (annotation project):</h2>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n}\n\napply plugin: 'java'\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    annotationProcessor 'com.google.auto.service:auto-service:1.0.1'\n    implementation 'com.google.auto.service:auto-service:1.0.1'\n\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><strong>Annotation</strong></p>\n<pre><code>@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Table {\n    String value();\n    String[] ignoreColumns() default {};\n}\n</code></pre>\n<p><strong>Processor</strong></p>\n<pre><code>@AutoService(TableProcessor.class)\n@SupportedAnnotationTypes(&quot;com.github.ahuangJM.annotations.Table&quot;)\n@SupportedSourceVersion(SourceVersion.RELEASE_8)\npublic class TableProcessor extends AbstractProcessor {\n    @Override\n    public synchronized void init(ProcessingEnvironment processingEnv) {\n        System.out.println(&quot;init hit!&quot;);\n        super.init(processingEnv);\n    }\n\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        final Messager messager = processingEnv.getMessager();\n        messager.printMessage(Diagnostic.Kind.NOTE, &quot;Processing...&quot;);\n        return true;\n    }\n}\n</code></pre>\n<p><strong>\\resources\\META-INF\\javax.annotation.processing.Processor</strong></p>\n<pre><code>org.example.processors.TableProcessor\n</code></pre>\n<h2>Project 2 (annotation project consumer):</h2>\n<p><strong>Annotation Consumer</strong></p>\n<pre><code>@Table(&quot;user-info&quot;)\npublic class UserInfo {\n}\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation files(&quot;REDACTED\\\\code-generator-annotation.jar&quot;)\n    annotationProcessor files(&quot;REDACTED\\\\code-generator-annotation.jar&quot;)\n\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>This should be a very simple annotation processor just printing debugging statements.\nThis all seems correct to me, but <code>process()</code> is not running when I build/run project 2. I have tried overriding <code>getSupportedVersion()</code> and <code>getSupportedAnnotationTypes()</code> as well. That didn't do anything. Also tried without <code>@AutoService</code>, that didn't change anything as well.</p>\n<p><strong>EDIT:</strong> why am i can getting the <code>print()</code> and/or <code>printMessage()</code> statement?</p>\n"},{"tags":["java","angular","typescript","windows","electron"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1652184131,"post_id":72185880,"comment_id":127540190,"body_markdown":"Why is this tagged with Java?","body":"Why is this tagged with Java?"}],"answers":[{"tags":[],"owner":{"account_id":16033249,"reputation":320,"user_id":11571587,"display_name":"timhpb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652183977,"creation_date":1652183977,"answer_id":72185935,"question_id":72185880,"body_markdown":"Use node&#39;s process exit event to run code when the process is exiting, which happens when a system shutdown or restart occurs.\r\n\r\n    process.on(&#39;exit&#39;, function() {\r\n        // Shutdown logic\r\n    });","title":"Is there any way in electron to detect a shutdown on Windows?","body":"<p>Use node's process exit event to run code when the process is exiting, which happens when a system shutdown or restart occurs.</p>\n<pre><code>process.on('exit', function() {\n    // Shutdown logic\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13178293,"reputation":39,"user_id":9518615,"display_name":"gergof"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662532034,"creation_date":1662532034,"answer_id":73630960,"question_id":72185880,"body_markdown":"I&#39;ve made a library that can be used to block and to detect the shutdown of an electron application: https://www.npmjs.com/package/@paymoapp/electron-shutdown-handler\r\n\r\nIt can be used like this:\r\n```javascript\r\nimport { app, BrowserWindow } from &#39;electron&#39;;\r\nimport ElectronShutdownHandler from &#39;@paymoapp/electron-shutdown-handler&#39;;\r\n\r\napp.whenReady().then(() =&gt; {\r\n\tconst win = new BrowserWindow({\r\n\t\twidth: 600,\r\n\t\theight: 600\r\n\t});\r\n\r\n\twin.loadFile(&#39;index.html&#39;);\r\n\r\n    // you need to set the handle of the main window\r\n\tElectronShutdownHandler.setWindowHandle(win.getNativeWindowHandle());\r\n\r\n    // [optional] call this if you want to delay system shutdown.\r\n    // otherwise as soon as the onShutdown callback finishes, the system\r\n    // will proceed with shutdown and the app can be closed any time\r\n\tElectronShutdownHandler.blockShutdown(&#39;Please wait for some data to be saved&#39;);\r\n\r\n\tElectron.ShutdownHandler.on(&#39;shutdown&#39;, () =&gt; {\r\n        // this callback is executed when the system is preparing to shut down (WM_QUERYENDSESSION)\r\n        // you can do anything here, BUT it should finish in less then 5 seconds\r\n        // if you call async stuff here, please take into account\r\n        // that if you don&#39;t block the shutdown (before the callback is fired)\r\n        // then the system will proceed with shutdown as soon as the function return\r\n        // (no await for async functions)\r\n\t\tconsole.log(&#39;Shutting down!&#39;);\r\n\r\n        // if you need to call async functions, then do it like this:\r\n        yourAsyncSaveState().then(() =&gt; {\r\n            // now we can exit\r\n\r\n            // Release the shutdown block we set earlier\r\n\t\t    ElectronShutdownHandler.releaseShutdown();\r\n\t\t    \r\n            // If you&#39;ve blocked the shutdown, you should \r\n            // manually quit the app\r\n\t\t    app.quit();\r\n        });\r\n\t});\r\n});\r\n```","title":"Is there any way in electron to detect a shutdown on Windows?","body":"<p>I've made a library that can be used to block and to detect the shutdown of an electron application: <a href=\"https://www.npmjs.com/package/@paymoapp/electron-shutdown-handler\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/@paymoapp/electron-shutdown-handler</a></p>\n<p>It can be used like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { app, BrowserWindow } from 'electron';\nimport ElectronShutdownHandler from '@paymoapp/electron-shutdown-handler';\n\napp.whenReady().then(() =&gt; {\n    const win = new BrowserWindow({\n        width: 600,\n        height: 600\n    });\n\n    win.loadFile('index.html');\n\n    // you need to set the handle of the main window\n    ElectronShutdownHandler.setWindowHandle(win.getNativeWindowHandle());\n\n    // [optional] call this if you want to delay system shutdown.\n    // otherwise as soon as the onShutdown callback finishes, the system\n    // will proceed with shutdown and the app can be closed any time\n    ElectronShutdownHandler.blockShutdown('Please wait for some data to be saved');\n\n    Electron.ShutdownHandler.on('shutdown', () =&gt; {\n        // this callback is executed when the system is preparing to shut down (WM_QUERYENDSESSION)\n        // you can do anything here, BUT it should finish in less then 5 seconds\n        // if you call async stuff here, please take into account\n        // that if you don't block the shutdown (before the callback is fired)\n        // then the system will proceed with shutdown as soon as the function return\n        // (no await for async functions)\n        console.log('Shutting down!');\n\n        // if you need to call async functions, then do it like this:\n        yourAsyncSaveState().then(() =&gt; {\n            // now we can exit\n\n            // Release the shutdown block we set earlier\n            ElectronShutdownHandler.releaseShutdown();\n            \n            // If you've blocked the shutdown, you should \n            // manually quit the app\n            app.quit();\n        });\n    });\n});\n</code></pre>\n"}],"owner":{"account_id":6420138,"reputation":31,"user_id":4977070,"display_name":"vardhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1031,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662532034,"creation_date":1652183749,"question_id":72185880,"body_markdown":"I tried &quot;session-end&quot;, &quot;window-all-closed&quot; to capture the windows shutdown event. Electron needs to call function before computer gets shutdown.\r\n\r\n    win.on(&quot;session-end&quot;,(event) =&gt; {\r\n        event.sender.send(&quot;appshutdown&quot;);\r\n        win = null;\r\n        console.log(&#39;app shutdown - main.js&#39;);\r\n      });\r\n\r\n\r\n    app.on(&quot;window-all-closed&quot;, (event) =&gt; {\r\n      \r\n      if (process.platform !== &quot;darwin&quot;) {\r\n        event.sender.send(&quot;appshutdown&quot;);\r\n        app.quit();\r\n      }\r\n    });\r\n\r\n\r\n","title":"Is there any way in electron to detect a shutdown on Windows?","body":"<p>I tried &quot;session-end&quot;, &quot;window-all-closed&quot; to capture the windows shutdown event. Electron needs to call function before computer gets shutdown.</p>\n<pre><code>win.on(&quot;session-end&quot;,(event) =&gt; {\n    event.sender.send(&quot;appshutdown&quot;);\n    win = null;\n    console.log('app shutdown - main.js');\n  });\n\n\napp.on(&quot;window-all-closed&quot;, (event) =&gt; {\n  \n  if (process.platform !== &quot;darwin&quot;) {\n    event.sender.send(&quot;appshutdown&quot;);\n    app.quit();\n  }\n});\n</code></pre>\n"},{"tags":["java","angular","angularjs","spring","spring-boot"],"comments":[{"owner":{"account_id":1606934,"reputation":2301,"user_id":1486848,"display_name":"ShamPooSham"},"score":0,"creation_date":1662527765,"post_id":73630393,"comment_id":130022841,"body_markdown":"AngularJS refers to the old framework, version 1.x. After version 2.0 they renamed it to just Angular.","body":"AngularJS refers to the old framework, version 1.x. After version 2.0 they renamed it to just Angular."},{"owner":{"account_id":1606934,"reputation":2301,"user_id":1486848,"display_name":"ShamPooSham"},"score":0,"creation_date":1662527791,"post_id":73630393,"comment_id":130022845,"body_markdown":"Instead of using the class Login, I think you can just use String","body":"Instead of using the class Login, I think you can just use String"},{"owner":{"account_id":16716456,"reputation":1,"user_id":12082398,"display_name":"anonymousowl"},"score":0,"creation_date":1662528436,"post_id":73630393,"comment_id":130022987,"body_markdown":"@ShamPooSham sorry i&#39;m not sure I understand, can you please write it out to explain?","body":"@ShamPooSham sorry i&#39;m not sure I understand, can you please write it out to explain?"}],"answers":[{"tags":[],"owner":{"account_id":24881611,"reputation":11,"user_id":18754741,"display_name":"Manigandan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662531290,"creation_date":1662531290,"answer_id":73630845,"question_id":73630393,"body_markdown":"\r\n1.Using request body\r\n\r\n```\r\n//Angular\r\nlogin(){\r\n    let request: any = {studentId : &quot;091&quot;} //student number\r\n    return this.http.post(&quot;http://localhost/api/users/login&quot;, request)\r\n  }\r\n\r\n//Java Model\r\npublic class Login{\r\n  private String studendId;//variable name should be same as the variable sent from angular\r\n}\r\n\r\n//Java Controller\r\n@PostMapping(path = &quot;/api/users/login&quot;)\r\n public Login&lt;String&gt; userLogin(@RequestBody Login login){\r\n       System.out.println(login.studentId) //You can access the studentId using the login object\r\n  }\r\n```\r\n2.Using Path variable \r\n```\r\n//Angular\r\nlogin(){\r\n    return this.http.post(&quot;http://localhost/api/users/login/091&quot;)//append studentId in the request URL\r\n  }\r\n\r\n//Java Controller\r\n@PostMapping(path = &quot;/api/users/login/{studentId}&quot;)\r\n public Login&lt;String&gt; userLogin(@PathVariable(&quot;studentId&quot;) String studentId){\r\n       System.out.println(studentId) //You can access the studentId variable\r\n  }\r\n\r\n//No need of Model class \r\n```","title":"How to send a parameter (within body, no headers) from Angular to Spring Boot?","body":"<p>1.Using request body</p>\n<pre><code>//Angular\nlogin(){\n    let request: any = {studentId : &quot;091&quot;} //student number\n    return this.http.post(&quot;http://localhost/api/users/login&quot;, request)\n  }\n\n//Java Model\npublic class Login{\n  private String studendId;//variable name should be same as the variable sent from angular\n}\n\n//Java Controller\n@PostMapping(path = &quot;/api/users/login&quot;)\n public Login&lt;String&gt; userLogin(@RequestBody Login login){\n       System.out.println(login.studentId) //You can access the studentId using the login object\n  }\n</code></pre>\n<p>2.Using Path variable</p>\n<pre><code>//Angular\nlogin(){\n    return this.http.post(&quot;http://localhost/api/users/login/091&quot;)//append studentId in the request URL\n  }\n\n//Java Controller\n@PostMapping(path = &quot;/api/users/login/{studentId}&quot;)\n public Login&lt;String&gt; userLogin(@PathVariable(&quot;studentId&quot;) String studentId){\n       System.out.println(studentId) //You can access the studentId variable\n  }\n\n//No need of Model class \n</code></pre>\n"}],"owner":{"account_id":16716456,"reputation":1,"user_id":12082398,"display_name":"anonymousowl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662531290,"creation_date":1662527490,"question_id":73630393,"body_markdown":"How do I send this defined parameter number from Angular/typescript to Spring Boot? \r\n\r\nSample fragment of **AngularJS/typescript code**, which is making a post request to the Spring Boot Microservice:\r\n```\r\n login(){\r\n    let body: any = &quot;091&quot; //student number\r\n    return this.http.post(&quot;http://localhost/api/users/login&quot;, body)\r\n    //how do I post request this &quot;091&quot; defined parameter to the Springboot REST URL?\r\n  }\r\n```    \r\nSample fragment of **Java SpringBoot Controller** file code:\r\n```\r\n@PostMapping(path = &quot;/api&quot;)\r\n    public Login&lt;String&gt;(@RequestBody Login login{\r\n       // ??? how do I retrieve the defined body from Angular to this Spring Boot service?\r\n    }\r\n```\r\n\r\nSample fragment of **Java SpringBoot Model** file code:\r\n```\r\npublic class Login{\r\n//??? What should this code look like, if it&#39;s receiving a defined parameter from Angular?\r\n}\r\n```\r\n","title":"How to send a parameter (within body, no headers) from Angular to Spring Boot?","body":"<p>How do I send this defined parameter number from Angular/typescript to Spring Boot?</p>\n<p>Sample fragment of <strong>AngularJS/typescript code</strong>, which is making a post request to the Spring Boot Microservice:</p>\n<pre><code> login(){\n    let body: any = &quot;091&quot; //student number\n    return this.http.post(&quot;http://localhost/api/users/login&quot;, body)\n    //how do I post request this &quot;091&quot; defined parameter to the Springboot REST URL?\n  }\n</code></pre>\n<p>Sample fragment of <strong>Java SpringBoot Controller</strong> file code:</p>\n<pre><code>@PostMapping(path = &quot;/api&quot;)\n    public Login&lt;String&gt;(@RequestBody Login login{\n       // ??? how do I retrieve the defined body from Angular to this Spring Boot service?\n    }\n</code></pre>\n<p>Sample fragment of <strong>Java SpringBoot Model</strong> file code:</p>\n<pre><code>public class Login{\n//??? What should this code look like, if it's receiving a defined parameter from Angular?\n}\n</code></pre>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662531466,"post_id":73629233,"comment_id":130023664,"body_markdown":"Too little information to answer it reliably. Which scheduler? Internal/external, how are your jobs defined, how do you run your job. Without knowing all that it will be impossible to answer this.","body":"Too little information to answer it reliably. Which scheduler? Internal/external, how are your jobs defined, how do you run your job. Without knowing all that it will be impossible to answer this."},{"owner":{"account_id":14027322,"reputation":63,"user_id":10132034,"display_name":"Aniruddha Gayake"},"score":0,"creation_date":1662544375,"post_id":73629233,"comment_id":130028242,"body_markdown":"@M Schedule is Quartz scheduler. The job is going to run on schedule","body":"@M Schedule is Quartz scheduler. The job is going to run on schedule"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662544927,"post_id":73629233,"comment_id":130028458,"body_markdown":"Again too little information. Include code, configuration etc. in your question.","body":"Again too little information. Include code, configuration etc. in your question."},{"owner":{"account_id":14027322,"reputation":63,"user_id":10132034,"display_name":"Aniruddha Gayake"},"score":0,"creation_date":1662576161,"post_id":73629233,"comment_id":130040364,"body_markdown":"Could not add code as it is confidential","body":"Could not add code as it is confidential"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662613738,"post_id":73629233,"comment_id":130047234,"body_markdown":"Then there is no way to give you the definitive answer for your case and only resort the the default answer that beans are by default singleton and might be step or jobscoped.","body":"Then there is no way to give you the definitive answer for your case and only resort the the default answer that beans are by default singleton and might be step or jobscoped."}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662531213,"creation_date":1662530182,"answer_id":73630705,"question_id":73629233,"body_markdown":"Spring Batch beans are singletons or they can by annotated with @JobScope meaning there is only one instance for each job or @StepScope where there will be an instance per step.\r\n\r\nIn your case you need to specify @JobScope or @StepScope if you want the beans to be reinstantiated for each scheduled job.\r\n\r\nhttps://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#job-scope\r\n\r\nhttps://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#step-scope","title":"Are beans created every time when spring batch application runs on scheduler?","body":"<p>Spring Batch beans are singletons or they can by annotated with @JobScope meaning there is only one instance for each job or @StepScope where there will be an instance per step.</p>\n<p>In your case you need to specify @JobScope or @StepScope if you want the beans to be reinstantiated for each scheduled job.</p>\n<p><a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#job-scope\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#job-scope</a></p>\n<p><a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#step-scope\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#step-scope</a></p>\n"}],"owner":{"account_id":14027322,"reputation":63,"user_id":10132034,"display_name":"Aniruddha Gayake"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662531213,"creation_date":1662514911,"question_id":73629233,"body_markdown":"I have one spring batch application which runs on scheduler. \r\nFirst time when application boots up, the beans of reader, processor and writer are created. \r\nMy application is scheduled to run on specific scheduled.\r\nMy doubt is whether these beans of reader, writer and processor gets created everytime newly when the job runs on schedule or older beans created at boot up time are getting used ? ","title":"Are beans created every time when spring batch application runs on scheduler?","body":"<p>I have one spring batch application which runs on scheduler.\nFirst time when application boots up, the beans of reader, processor and writer are created.\nMy application is scheduled to run on specific scheduled.\nMy doubt is whether these beans of reader, writer and processor gets created everytime newly when the job runs on schedule or older beans created at boot up time are getting used ?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653090195,"creation_date":1653090195,"answer_id":72325666,"question_id":72325564,"body_markdown":"The annotation `@UpdateTimestamp` is specific to Hibernate. Spring Data also supports this feature, using `@CreatedDate` and `@LastModifiedDate`. See https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#auditing\r\n\r\nSince you seem to be using spring-data-jpa, I think it&#39;s better to use the Spring annotation.","title":"@UpdateTimestamp is not updating with latest timestamp Spring Boot Data JPA","body":"<p>The annotation <code>@UpdateTimestamp</code> is specific to Hibernate. Spring Data also supports this feature, using <code>@CreatedDate</code> and <code>@LastModifiedDate</code>. See <a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#auditing\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#auditing</a></p>\n<p>Since you seem to be using spring-data-jpa, I think it's better to use the Spring annotation.</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662530131,"creation_date":1662530131,"answer_id":73630694,"question_id":72325564,"body_markdown":"update statements side step entity lifecycle events including the update of creation and update statements.","title":"@UpdateTimestamp is not updating with latest timestamp Spring Boot Data JPA","body":"<p>update statements side step entity lifecycle events including the update of creation and update statements.</p>\n"}],"owner":{"account_id":25347254,"reputation":1,"user_id":19164676,"display_name":"sai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662530131,"creation_date":1653088876,"question_id":72325564,"body_markdown":"I am using Spring Boot JPA and trying to update using @Query Annotation. \r\n\r\nI have a field to update whenever there is an update to a record by @UpdateTimestamp.\r\n\r\nI see the record being updated with the right value however last updated timestamp value is not being updated.\r\n```\r\n\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\n\r\nimport javax.persistence.*;\r\n\r\nimport java.util.Date;\r\n\r\n\r\n@Entity\r\n@Table(name =&quot;testing&quot;)\r\npublic class Testing {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @CreationTimestamp\r\n    private Date creat_ts;\r\n\r\n    @UpdateTimestamp\r\n    private Date update_ts;\r\n\r\n    public Testing(){\r\n\r\n    }\r\n\r\n    public Testing(String name, Long id){\r\n        this.name = name;\r\n        this.id = id;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npublic interface TestingRepo extends JpaRepository&lt;Testing,Long&gt; {\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;update Testing t set t.name=:name where t.id=:test_id&quot;)\r\n    void updateLoadName(@Param(&quot;name&quot;) String loadname, @Param(&quot;test_id&quot;) Long testid);\r\n}\r\n```","title":"@UpdateTimestamp is not updating with latest timestamp Spring Boot Data JPA","body":"<p>I am using Spring Boot JPA and trying to update using @Query Annotation.</p>\n<p>I have a field to update whenever there is an update to a record by @UpdateTimestamp.</p>\n<p>I see the record being updated with the right value however last updated timestamp value is not being updated.</p>\n<pre><code>\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\n\nimport javax.persistence.*;\n\nimport java.util.Date;\n\n\n@Entity\n@Table(name =&quot;testing&quot;)\npublic class Testing {\n\n    @Id\n    private Long id;\n\n    private String name;\n\n    @CreationTimestamp\n    private Date creat_ts;\n\n    @UpdateTimestamp\n    private Date update_ts;\n\n    public Testing(){\n\n    }\n\n    public Testing(String name, Long id){\n        this.name = name;\n        this.id = id;\n    }\n\n}\n\n</code></pre>\n<pre><code>public interface TestingRepo extends JpaRepository&lt;Testing,Long&gt; {\n\n    @Modifying\n    @Transactional\n    @Query(&quot;update Testing t set t.name=:name where t.id=:test_id&quot;)\n    void updateLoadName(@Param(&quot;name&quot;) String loadname, @Param(&quot;test_id&quot;) Long testid);\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","admob","ads"],"answers":[{"tags":[],"owner":{"account_id":10531491,"reputation":330,"user_id":7760687,"display_name":"Mayur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662529490,"creation_date":1662529490,"answer_id":73630631,"question_id":73629025,"body_markdown":"**Try This**\r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.2&#39; apply false\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n    }\r\n    \r\n   remove `buildscript {}` and `allprojects {}` from `project-level build.gradle`,\r\nlatest version of Android Studio those code show in `settings.gradle` file, so no need to add those code inside `project-level build.gradle`","title":"I&#39;m having trouble adding admob ads to the app","body":"<p><strong>Try This</strong></p>\n<pre><code>plugins {\nid 'com.android.application' version '7.2.2' apply false\nid 'com.android.library' version '7.2.2' apply false\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n<p>remove <code>buildscript {}</code> and <code>allprojects {}</code> from <code>project-level build.gradle</code>,\nlatest version of Android Studio those code show in <code>settings.gradle</code> file, so no need to add those code inside <code>project-level build.gradle</code></p>\n"}],"owner":{"account_id":23123653,"reputation":11,"user_id":17229814,"display_name":"reza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662529490,"creation_date":1662511993,"question_id":73629025,"body_markdown":"I want to add admob to my app, but when I add `buildscript` and `allprojects` to file `project-level build.gradle`I get a message **all buildscript {} blocks must appear before any plugins {} blocks in the script**\r\n\r\n\r\nproject-level build.gradle :\r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.2&#39; apply false\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n    }\r\n\r\n\r\n    buildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    }\r\n\r\n    allprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    }\r\n\r\n\r\n\r\nbuild.gradle/app :\r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39;\r\n    }\r\n\r\n    android {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.test&quot;\r\n        minSdk 28\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard- \r\n    rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n\r\n    implementation &#39;com.google.android.gms:play-services-ads:21.2.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n\r\n    }\r\n\r\n\r\n\r\nManifest :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.test&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Test&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot;/&gt;\r\n\r\n       &lt;/application&gt;\r\n       &lt;/manifest&gt;","title":"I&#39;m having trouble adding admob ads to the app","body":"<p>I want to add admob to my app, but when I add <code>buildscript</code> and <code>allprojects</code> to file <code>project-level build.gradle</code>I get a message <strong>all buildscript {} blocks must appear before any plugins {} blocks in the script</strong></p>\n<p>project-level build.gradle :</p>\n<pre><code>plugins {\nid 'com.android.application' version '7.2.2' apply false\nid 'com.android.library' version '7.2.2' apply false\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n\n\nbuildscript {\nrepositories {\n    google()\n    mavenCentral()\n}\n}\n\nallprojects {\nrepositories {\n    google()\n    mavenCentral()\n}\n}\n</code></pre>\n<p>build.gradle/app :</p>\n<pre><code>plugins {\nid 'com.android.application'\n}\n\nandroid {\ncompileSdk 32\n\ndefaultConfig {\n    applicationId &quot;com.example.test&quot;\n    minSdk 28\n    targetSdk 32\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard- \nrules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n}\n\ndependencies {\n\nimplementation 'com.google.android.gms:play-services-ads:21.2.0'\nimplementation 'androidx.appcompat:appcompat:1.5.0'\nimplementation 'com.google.android.material:material:1.6.1'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.3'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n\n}\n</code></pre>\n<p>Manifest :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\npackage=&quot;com.example.test&quot;&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Test&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;meta-data\n        android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n        android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot;/&gt;\n\n   &lt;/application&gt;\n   &lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662380179,"post_id":73608967,"comment_id":129985889,"body_markdown":"That is what the `consumes` variable is for in `@RequestMapping`.","body":"That is what the <code>consumes</code> variable is for in <code>@RequestMapping</code>."},{"owner":{"account_id":5394212,"reputation":383,"user_id":4295885,"display_name":"Rahul khanvani"},"score":0,"creation_date":1662380437,"post_id":73608967,"comment_id":129985980,"body_markdown":"@M.Deinum Yes true, but I want to disable it for whole application, That&#39;d be for single request right ?","body":"@M.Deinum Yes true, but I want to disable it for whole application, That&#39;d be for single request right ?"},{"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"score":0,"creation_date":1662380623,"post_id":73608967,"comment_id":129986064,"body_markdown":"what you are looking for is interceptors https://www.baeldung.com/spring-mvc-handlerinterceptor","body":"what you are looking for is interceptors <a href=\"https://www.baeldung.com/spring-mvc-handlerinterceptor\" rel=\"nofollow noreferrer\">baeldung.com/spring-mvc-handlerinterceptor</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662380710,"post_id":73608967,"comment_id":129986091,"body_markdown":"Afaik there isn&#39;t, however if there is no XML library in your app it won&#39;t process XML. If all else fails you can always write a simple filter or Spring `HandlerInterceptor` that checks the content-type/accept-header and disallow the request based on the content-type.","body":"Afaik there isn&#39;t, however if there is no XML library in your app it won&#39;t process XML. If all else fails you can always write a simple filter or Spring <code>HandlerInterceptor</code> that checks the content-type/accept-header and disallow the request based on the content-type."},{"owner":{"account_id":11159178,"reputation":1652,"user_id":8189903,"display_name":"star67"},"score":0,"creation_date":1662446599,"post_id":73608967,"comment_id":130000559,"body_markdown":"Does this answer your question? [How to set the default content type in Spring MVC in no Accept header is provided?](https://stackoverflow.com/questions/18189245/how-to-set-the-default-content-type-in-spring-mvc-in-no-accept-header-is-provide)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18189245/how-to-set-the-default-content-type-in-spring-mvc-in-no-accept-header-is-provide\">How to set the default content type in Spring MVC in no Accept header is provided?</a>"}],"answers":[{"tags":[],"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662528804,"creation_date":1662528804,"answer_id":73630556,"question_id":73608967,"body_markdown":"I would suggest you try to set the default content type in WebConfigurer class and then handle the exception if there is incoming request that does not match the content type you expected via [ControllerAdvice][1] of your own implementation and extends it with [ResponseEntityExceptionHandler][2] then provide the handler function for [HttpMediaTypeNotSupportedException][3] or any other exception you want.\r\n\r\n\r\n  [1]: https://www.bezkoder.com/spring-boot-restcontrolleradvice/#:~:text=Rest%20Exception%20Handler%20with%20Controller%20Advice%20in%20Spring,-Spring%20supports%20exception&amp;text=The%20%40RestControllerAdvice%20annotation%20is%20specialization,some%20common%20logic%20to%20them.\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/HttpMediaTypeNotSupportedException.html","title":"How can I globally restrict content type in SpringBoot?","body":"<p>I would suggest you try to set the default content type in WebConfigurer class and then handle the exception if there is incoming request that does not match the content type you expected via <a href=\"https://www.bezkoder.com/spring-boot-restcontrolleradvice/#:%7E:text=Rest%20Exception%20Handler%20with%20Controller%20Advice%20in%20Spring,-Spring%20supports%20exception&amp;text=The%20%40RestControllerAdvice%20annotation%20is%20specialization,some%20common%20logic%20to%20them.\" rel=\"nofollow noreferrer\">ControllerAdvice</a> of your own implementation and extends it with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html\" rel=\"nofollow noreferrer\">ResponseEntityExceptionHandler</a> then provide the handler function for <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/HttpMediaTypeNotSupportedException.html\" rel=\"nofollow noreferrer\">HttpMediaTypeNotSupportedException</a> or any other exception you want.</p>\n"}],"owner":{"account_id":5394212,"reputation":383,"user_id":4295885,"display_name":"Rahul khanvani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662528804,"creation_date":1662378826,"question_id":73608967,"body_markdown":"I am working on an application where I do not want my rest APIs to receive XML-type requests, and if they do receive such requests they should not be processed and it should directly be filtered in the config of spring boot. How can I achieve it?","title":"How can I globally restrict content type in SpringBoot?","body":"<p>I am working on an application where I do not want my rest APIs to receive XML-type requests, and if they do receive such requests they should not be processed and it should directly be filtered in the config of spring boot. How can I achieve it?</p>\n"},{"tags":["java","algorithm","data-structures"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506010716,"creation_date":1506009734,"answer_id":46348484,"question_id":46348051,"body_markdown":"Since you use Java, feel free to use what Java offers to make the solution more readable and straightforward. Here takes Regex the place as well as concatenating String using the `StringBuilder`. \r\n\r\nConsider the input `String string =&quot;3[abc]4[ab]c&quot;;` Personally, I&#39;d go for something like this:\r\n\r\nFirstly define the `Couple` class holding the pairs of number-letters.\r\n\r\n    private static class Couple {\r\n\t\t\r\n\t\tpublic int x;\r\n\t\tpublic String y;\r\n\t\t\r\n\t\tpublic Couple(int x, String y) {\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\t}\r\n\r\nAnd here we go:\r\n       \r\n    // Regex to extract the number before &#39;[&#39; and the content inside of &#39;[]&#39;\r\n    Pattern p = Pattern.compile(&quot;(\\\\d+)\\\\[(.*?)\\\\]&quot;);\r\n    Matcher m = p.matcher(string);\r\n\r\n    // Coupling the number and the letters\r\n    List&lt;Couple&gt; couples = new ArrayList&lt;&gt;();\r\n    while (m.find()) {\r\n      \tcouples.add(new Couple(Integer.parseInt(m.group(1)), m.group(2)));\r\n    }\r\n        \r\n    // Concatenating String together using the for-cycle\r\n    String rest = string.substring(string.lastIndexOf(&quot;]&quot;)+1, string.length());\r\n    StringBuilder sb = new StringBuilder();\r\n       \r\n    for (Couple c: couples) {\r\n       \tfor (int i=0; i&lt;c.x; i++) {\r\n       \t\tsb.append(c.y);\r\n      \t}\r\n    }\r\n        \r\n    // Enjoying the result\r\n    sb.append(rest);\r\n    System.out.println(sb.toString());\r\n\r\nPlease remember, this is just a dumb na&#239;ve solution to your problem working in case there is always the input string in the format of \r\n    \r\n    number[string]number[string]number[string]rest // more of number[string] pairs\r\n\r\nYou have to think in wide whether there are places to be aware of failing code. What if there is no `rest`? What if the user&#39;s input will not be of the same format (never trust users&#39; input) - so isn&#39;t it worth to validate it against Regex? You have to ask questions to yourself beggining with **what if something happens**. \r\n\r\nAnyway, you can start on my implementation and go on as you need.","title":"String compression and decompression for data set that can be nested","body":"<p>Since you use Java, feel free to use what Java offers to make the solution more readable and straightforward. Here takes Regex the place as well as concatenating String using the <code>StringBuilder</code>. </p>\n\n<p>Consider the input <code>String string =\"3[abc]4[ab]c\";</code> Personally, I'd go for something like this:</p>\n\n<p>Firstly define the <code>Couple</code> class holding the pairs of number-letters.</p>\n\n<pre><code>private static class Couple {\n\n    public int x;\n    public String y;\n\n    public Couple(int x, String y) {\n        this.x = x;\n        this.y = y;\n    }\n}\n</code></pre>\n\n<p>And here we go:</p>\n\n<pre><code>// Regex to extract the number before '[' and the content inside of '[]'\nPattern p = Pattern.compile(\"(\\\\d+)\\\\[(.*?)\\\\]\");\nMatcher m = p.matcher(string);\n\n// Coupling the number and the letters\nList&lt;Couple&gt; couples = new ArrayList&lt;&gt;();\nwhile (m.find()) {\n    couples.add(new Couple(Integer.parseInt(m.group(1)), m.group(2)));\n}\n\n// Concatenating String together using the for-cycle\nString rest = string.substring(string.lastIndexOf(\"]\")+1, string.length());\nStringBuilder sb = new StringBuilder();\n\nfor (Couple c: couples) {\n    for (int i=0; i&lt;c.x; i++) {\n        sb.append(c.y);\n    }\n}\n\n// Enjoying the result\nsb.append(rest);\nSystem.out.println(sb.toString());\n</code></pre>\n\n<p>Please remember, this is just a dumb nave solution to your problem working in case there is always the input string in the format of </p>\n\n<pre><code>number[string]number[string]number[string]rest // more of number[string] pairs\n</code></pre>\n\n<p>You have to think in wide whether there are places to be aware of failing code. What if there is no <code>rest</code>? What if the user's input will not be of the same format (never trust users' input) - so isn't it worth to validate it against Regex? You have to ask questions to yourself beggining with <strong>what if something happens</strong>. </p>\n\n<p>Anyway, you can start on my implementation and go on as you need.</p>\n"},{"tags":[],"owner":{"account_id":316042,"reputation":300,"user_id":631994,"accept_rate":25,"display_name":"kerberos84"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1506075664,"creation_date":1506019451,"answer_id":46351121,"question_id":46348051,"body_markdown":"We actually want to find the strings in `[]` and repeat it `n` times which is specified before the `[]`. But the problem is these strings are nested. \r\nSo when we call the function that reads the string in`[]` it should call itself again when it hits a new `[]`.  Hence this leads to a recursive solution and we  loop through the input string only once. \r\n \r\n\r\n    public class StringDecomposer {\r\n    \r\n    \tpublic String process(String input) {\r\n    \t\t\r\n    \t\tStringBuilder result = new StringBuilder();\r\n    \t\t\r\n    \t\tdecompres(input, 0, result);\r\n    \t\t\r\n    \t\treturn result.toString();\r\n    \t}\r\n    \r\n    \tprivate int decompres(String input, int ofset, StringBuilder result) {\r\n    \t\t\r\n    \t\tStringBuilder rpt = new StringBuilder();\r\n    \t\tStringBuilder current = new StringBuilder();\r\n    \t\t\r\n    \t\twhile(ofset &lt; input.length()) {\r\n    \t\t\t\r\n    \t\t\tif(input.charAt(ofset) == &#39;[&#39;) {\r\n    \t\t\t\tofset = decompres(input, ofset+1, current);\r\n    \t\t\t\trepeat(rpt, current);\r\n    \t\t\t\tresult.append(current);\r\n    \t\t\t\trpt.delete(0, rpt.length());\r\n    \t\t\t\tcurrent.delete(0, current.length());\r\n    \t\t\t}\r\n    \t\t\telse if(input.charAt(ofset) == &#39;]&#39;) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\telse if(input.charAt(ofset) &gt; 47 &amp;&amp; \r\n    \t\t\t\t\tinput.charAt(ofset) &lt; 58) {\r\n    \t\t\t\trpt.append(input.charAt(ofset));\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tcurrent.append(input.charAt(ofset));\r\n    \t\t\t}\r\n    \t\t\tofset++;\r\n    \t\t}\r\n    \t\tresult.append(current);\r\n    \t\treturn ofset;\r\n    \t}\r\n    \r\n    \tprivate void repeat(StringBuilder rpt, StringBuilder input) {\r\n    \t\t\r\n    \t\tif(rpt.length() &gt; 0) {\r\n    \t\t\tStringBuilder current = new StringBuilder(input);\r\n    \t\t\tint times = Integer.parseInt(rpt.toString());\r\n    \t\t\tfor(int i = 1; i &lt; times; i++) {\r\n    \t\t\t\tinput.append(current);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"String compression and decompression for data set that can be nested","body":"<p>We actually want to find the strings in <code>[]</code> and repeat it <code>n</code> times which is specified before the <code>[]</code>. But the problem is these strings are nested. \nSo when we call the function that reads the string in<code>[]</code> it should call itself again when it hits a new <code>[]</code>.  Hence this leads to a recursive solution and we  loop through the input string only once. </p>\n\n<pre><code>public class StringDecomposer {\n\n    public String process(String input) {\n\n        StringBuilder result = new StringBuilder();\n\n        decompres(input, 0, result);\n\n        return result.toString();\n    }\n\n    private int decompres(String input, int ofset, StringBuilder result) {\n\n        StringBuilder rpt = new StringBuilder();\n        StringBuilder current = new StringBuilder();\n\n        while(ofset &lt; input.length()) {\n\n            if(input.charAt(ofset) == '[') {\n                ofset = decompres(input, ofset+1, current);\n                repeat(rpt, current);\n                result.append(current);\n                rpt.delete(0, rpt.length());\n                current.delete(0, current.length());\n            }\n            else if(input.charAt(ofset) == ']') {\n                break;\n            }\n            else if(input.charAt(ofset) &gt; 47 &amp;&amp; \n                    input.charAt(ofset) &lt; 58) {\n                rpt.append(input.charAt(ofset));\n            }\n            else {\n                current.append(input.charAt(ofset));\n            }\n            ofset++;\n        }\n        result.append(current);\n        return ofset;\n    }\n\n    private void repeat(StringBuilder rpt, StringBuilder input) {\n\n        if(rpt.length() &gt; 0) {\n            StringBuilder current = new StringBuilder(input);\n            int times = Integer.parseInt(rpt.toString());\n            for(int i = 1; i &lt; times; i++) {\n                input.append(current);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2161774,"reputation":788,"user_id":1915786,"accept_rate":100,"display_name":"Praful Surve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662528756,"creation_date":1519470455,"answer_id":48962140,"question_id":46348051,"body_markdown":"Solving the problem with recursion would be the convenient solution. One easier way to keep track of nested `[]` is to increment `open` variable everytime you encounter `[` and decrement it when you encounter `]` and call the `deCompress()` recursively when you encounter `]`.\r\n~~~\r\n  public String deCompress(int times, String ip) {\r\n    String op = &quot;&quot;;\r\n    int open = 0;\r\n    char a;\r\n    int start = 0;\r\n    int t=0;\r\n    String expand = &quot;&quot;;\r\n    for (int i = 0; i &lt; ip.length(); i++) {\r\n      a = ip.charAt(i);\r\n      if (Character.isDigit(a) &amp;&amp; open == 0) {\r\n        //Calculates times\r\n        t = t * 10 + Integer.parseInt(&quot;&quot;+a);\r\n        //We want to expand and append to the output\r\n        if (expand != &quot;&quot;) {\r\n          op += expand;\r\n          expand = &quot;&quot;;\r\n        }\r\n      }\r\n      else if(a == &#39;[&#39;) {\r\n        //start index for substring : Recursive solution\r\n        if(open == 0) {\r\n          start = i + 1;\r\n        }\r\n        open++;\r\n        continue;\r\n      }\r\n      else if(a == &#39;]&#39;) {\r\n        //Recursive solution for nested compression\r\n        open--;\r\n        if(open == 0) {\r\n          expand = deCompress(t, ip.substring(start, i));\r\n          t = 0;\r\n        }\r\n        continue;\r\n      }\r\n      else {\r\n        if (open == 0) {\r\n          expand += a;\r\n        }\r\n      }\r\n    }\r\n    //Append the expanded string to the output for strings with 0 times\r\n    if(times == 0) {\r\n      op += expand;\r\n    }\r\n    //Expand string x times\r\n    for (int j = 1; j&lt;=times; j++) {\r\n      op += expand;\r\n    }\r\n    return op;\r\n  }\r\n~~~\r\nJust make a call to this function-\r\n\r\n`deCompress(0, &quot;3[abc]4[ab]c2[3[a]b]&quot;)`","title":"String compression and decompression for data set that can be nested","body":"<p>Solving the problem with recursion would be the convenient solution. One easier way to keep track of nested <code>[]</code> is to increment <code>open</code> variable everytime you encounter <code>[</code> and decrement it when you encounter <code>]</code> and call the <code>deCompress()</code> recursively when you encounter <code>]</code>.</p>\n<pre><code>  public String deCompress(int times, String ip) {\n    String op = &quot;&quot;;\n    int open = 0;\n    char a;\n    int start = 0;\n    int t=0;\n    String expand = &quot;&quot;;\n    for (int i = 0; i &lt; ip.length(); i++) {\n      a = ip.charAt(i);\n      if (Character.isDigit(a) &amp;&amp; open == 0) {\n        //Calculates times\n        t = t * 10 + Integer.parseInt(&quot;&quot;+a);\n        //We want to expand and append to the output\n        if (expand != &quot;&quot;) {\n          op += expand;\n          expand = &quot;&quot;;\n        }\n      }\n      else if(a == '[') {\n        //start index for substring : Recursive solution\n        if(open == 0) {\n          start = i + 1;\n        }\n        open++;\n        continue;\n      }\n      else if(a == ']') {\n        //Recursive solution for nested compression\n        open--;\n        if(open == 0) {\n          expand = deCompress(t, ip.substring(start, i));\n          t = 0;\n        }\n        continue;\n      }\n      else {\n        if (open == 0) {\n          expand += a;\n        }\n      }\n    }\n    //Append the expanded string to the output for strings with 0 times\n    if(times == 0) {\n      op += expand;\n    }\n    //Expand string x times\n    for (int j = 1; j&lt;=times; j++) {\n      op += expand;\n    }\n    return op;\n  }\n</code></pre>\n<p>Just make a call to this function-</p>\n<p><code>deCompress(0, &quot;3[abc]4[ab]c2[3[a]b]&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":10232287,"reputation":11,"user_id":7552516,"display_name":"Akash Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570004931,"creation_date":1570004931,"answer_id":58197900,"question_id":46348051,"body_markdown":"I have used stack to solve the problem.\r\n\r\n    from collections import deque\r\n    st=input(&quot;Enter a compressed string: &quot;)\r\n    myStack=deque()\r\n    numstring=&quot;&quot;\r\n    alphastring=&quot;&quot;\r\n    for i in range(len(st)):\r\n         ch=st[i]\r\n         print(myStack)\r\n         if ch.isdigit():\r\n              numstring+=ch\r\n              if alphastring!=&quot;&quot;:\r\n                   myStack.append(alphastring)\r\n                   alphastring=&quot;&quot;\r\n         elif ch==&#39;[&#39;:\r\n              myStack.append(numstring)\r\n              numstring=&quot;&quot;\r\n         elif ch.isalpha():\r\n              alphastring+=ch\r\n         elif ch==&#39;]&#39;:\r\n              top=myStack.pop()\r\n              if top.isnumeric():\r\n                   check=&quot;&quot;\r\n                   m=int(top)\r\n                   word=alphastring*m\r\n                   if len(myStack)&gt;0:\r\n                        check=myStack.pop()\r\n                        if(check.isalpha()):\r\n                             word=check+word\r\n                        else:\r\n                             myStack.append(check)\r\n                   myStack.append(word)\r\n                   alphastring=&quot;&quot;\r\n                   \r\n              else:\r\n                   m=int(myStack.pop())\r\n                   myStack.append((top+alphastring)*m)\r\n                   alphastring=&quot;&quot;\r\n    solution=alphastring\r\n    while(len(myStack)&gt;0):\r\n         solution=myStack.pop()+solution\r\n    print(&quot;Decompressed : &quot;,solution)\r\n\r\n","title":"String compression and decompression for data set that can be nested","body":"<p>I have used stack to solve the problem.</p>\n\n<pre><code>from collections import deque\nst=input(\"Enter a compressed string: \")\nmyStack=deque()\nnumstring=\"\"\nalphastring=\"\"\nfor i in range(len(st)):\n     ch=st[i]\n     print(myStack)\n     if ch.isdigit():\n          numstring+=ch\n          if alphastring!=\"\":\n               myStack.append(alphastring)\n               alphastring=\"\"\n     elif ch=='[':\n          myStack.append(numstring)\n          numstring=\"\"\n     elif ch.isalpha():\n          alphastring+=ch\n     elif ch==']':\n          top=myStack.pop()\n          if top.isnumeric():\n               check=\"\"\n               m=int(top)\n               word=alphastring*m\n               if len(myStack)&gt;0:\n                    check=myStack.pop()\n                    if(check.isalpha()):\n                         word=check+word\n                    else:\n                         myStack.append(check)\n               myStack.append(word)\n               alphastring=\"\"\n\n          else:\n               m=int(myStack.pop())\n               myStack.append((top+alphastring)*m)\n               alphastring=\"\"\nsolution=alphastring\nwhile(len(myStack)&gt;0):\n     solution=myStack.pop()+solution\nprint(\"Decompressed : \",solution)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6792992,"reputation":166,"user_id":5229380,"display_name":"Unnati Solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618743633,"creation_date":1618743633,"answer_id":67147778,"question_id":46348051,"body_markdown":"    @Test()\r\n\tpublic void googleProblemSolve() {\r\n\t\tString mainString = &quot;3[abc]4[ab]c10[a]9[x]15[d]&quot;;\r\n\t\t// Split the string using end bracket\r\n\t\tString sep[] = mainString.split(&quot;\\\\]&quot;);\r\n\r\n\t\tfor (int i = 0; i &lt; sep.length; i++) {\r\n\t\t\t// remove start bracket from the each index to get iteration count\r\n\t\t\tString[] subSep = sep[i].split(&quot;\\\\[&quot;);\r\n\t\t\t\r\n\t\t\t/* before part of the split string would be iteration count and second part\r\n\t\t\t would be the actual string*/\r\n\t\t\trepeatWords(subSep[0], subSep[1]);\r\n\t\t}\r\n\r\n\t}\r\n\r\n    private void repeatWords(String iteration, String str) {\r\n\t\tint ite = 0;\r\n\t\tString newStr = str;\r\n\r\n\t\t// iteration value can throw exception if the string is like i.e. c10\r\n\t\ttry {\r\n\t\t\tite = Integer.parseInt(iteration);\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\t/*\r\n\t\t\t * consider the first char in the string would be the alphabet with no\r\n\t\t\t * repeatation\r\n\t\t\t */\r\n\t\t\tnewStr = Character.toString(iteration.charAt(0));\r\n\r\n\t\t\t// check the length of the string;\r\n\t\t\t// if its three means iteration count is in 2 digit\r\n\t\t\tif (iteration.length() == 3) {\r\n\t\t\t\tite = Character.getNumericValue(iteration.charAt(1) + iteration.charAt(2));\r\n\t\t\t} else {\r\n\t\t\t\tite = Integer.parseInt(String.valueOf(iteration.charAt(1)));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; ite - 1; i++) {\r\n\t\t\tnewStr = newStr + str;\r\n\t\t}\r\n\t\tSystem.out.print(newStr);\r\n\t}\r\n\r\n\r\nI guess this could be the optimal solution to this problem. Please share your thoughts. ","title":"String compression and decompression for data set that can be nested","body":"<pre><code>@Test()\npublic void googleProblemSolve() {\n    String mainString = &quot;3[abc]4[ab]c10[a]9[x]15[d]&quot;;\n    // Split the string using end bracket\n    String sep[] = mainString.split(&quot;\\\\]&quot;);\n\n    for (int i = 0; i &lt; sep.length; i++) {\n        // remove start bracket from the each index to get iteration count\n        String[] subSep = sep[i].split(&quot;\\\\[&quot;);\n        \n        /* before part of the split string would be iteration count and second part\n         would be the actual string*/\n        repeatWords(subSep[0], subSep[1]);\n    }\n\n}\n\nprivate void repeatWords(String iteration, String str) {\n    int ite = 0;\n    String newStr = str;\n\n    // iteration value can throw exception if the string is like i.e. c10\n    try {\n        ite = Integer.parseInt(iteration);\n    } catch (NumberFormatException e) {\n        /*\n         * consider the first char in the string would be the alphabet with no\n         * repeatation\n         */\n        newStr = Character.toString(iteration.charAt(0));\n\n        // check the length of the string;\n        // if its three means iteration count is in 2 digit\n        if (iteration.length() == 3) {\n            ite = Character.getNumericValue(iteration.charAt(1) + iteration.charAt(2));\n        } else {\n            ite = Integer.parseInt(String.valueOf(iteration.charAt(1)));\n        }\n    }\n\n    for (int i = 0; i &lt; ite - 1; i++) {\n        newStr = newStr + str;\n    }\n    System.out.print(newStr);\n}\n</code></pre>\n<p>I guess this could be the optimal solution to this problem. Please share your thoughts.</p>\n"},{"tags":[],"owner":{"account_id":26267252,"reputation":1,"user_id":19937611,"display_name":"Uthra Cp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662527949,"creation_date":1662527904,"answer_id":73630442,"question_id":46348051,"body_markdown":"    public class decompress {\r\n        public static void main(String s[]) {\r\n        \tString str = &quot;6b2c8t&quot;;\r\n        \tint times = 0;\r\n        \tchar[] c = str.toCharArray();\r\n        \tfor(char i : c) {\r\n    \t\t\tif(Character.isDigit(i))\r\n    \t\t\t\ttimes  =Integer.parseInt(String.valueOf(i));\r\n    \t\t\tfor(int x=0;x&lt;times;x++) {\r\n    \t\t\t\tif(!Character.isDigit(i))\r\n    \t\t\t\t\tSystem.out.print(i);\r\n    \t\t\t} \r\n        \t\t\r\n        \t}\r\n        }\r\n        \r\n    }\r\nThis would work use it!!","title":"String compression and decompression for data set that can be nested","body":"<pre><code>public class decompress {\n    public static void main(String s[]) {\n        String str = &quot;6b2c8t&quot;;\n        int times = 0;\n        char[] c = str.toCharArray();\n        for(char i : c) {\n            if(Character.isDigit(i))\n                times  =Integer.parseInt(String.valueOf(i));\n            for(int x=0;x&lt;times;x++) {\n                if(!Character.isDigit(i))\n                    System.out.print(i);\n            } \n            \n        }\n    }\n    \n}\n</code></pre>\n<p>This would work use it!!</p>\n"}],"owner":{"account_id":6248619,"reputation":73,"user_id":4859553,"display_name":"Adesh Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1511,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46351121,"answer_count":6,"score":3,"last_activity_date":1662528756,"creation_date":1506008414,"question_id":46348051,"body_markdown":"My input is a compressed string of the format number[string] and the decompressed output form should be the string written number times. For example:\r\n\r\n    3[abc]4[ab]c = abcabcabcababababc\r\n\r\n    2[3[a]b] = aaabaaab.\r\n\r\nMy brute force approach in Java:\r\n\r\n        \r\n    public class CompresnDecompresn {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            String s=&quot;3[abc]4[ab]c&quot;;\r\n            for (int i = 0; i&lt;s.length(); i++)  {\r\n                if(s.charAt(i)==&#39;]&#39;) {\r\n                    int j=i-1;\r\n                    while(true)  {\r\n                        if(s.charAt(j)==&#39;[&#39;) {\r\n                            break;\r\n                        }\r\n                        j--;\r\n                    }\r\n                    int k=j-1;\r\n                    while(true) {\r\n                        if(k&lt;0) {\r\n                            break;\r\n                        }\r\n                        int m=(int)s.charAt(k);\r\n                        if(m&lt;48 || m&gt;57) {\r\n                            break;\r\n                        }\r\n                        k--;\r\n                    }\r\n                    k++;\r\n                    int freq=Integer.parseInt(s.substring(k, j));\r\n                    String snippet=s.substring(j+1,i);\r\n                    String temp=&quot;&quot;;\r\n\r\n                    for (int l = 0; l &lt; freq; l++) {\r\n                        temp+=snippet;\r\n                    }\r\n                    s=s.substring(0,k)+temp+s.substring(i+1);\r\n                }\r\n            }        \r\n            System.out.println(s);                \r\n        }    \r\n    }\r\n\r\n\r\nCan I get some better approach with less cost?","title":"String compression and decompression for data set that can be nested","body":"<p>My input is a compressed string of the format number[string] and the decompressed output form should be the string written number times. For example:</p>\n\n<pre><code>3[abc]4[ab]c = abcabcabcababababc\n\n2[3[a]b] = aaabaaab.\n</code></pre>\n\n<p>My brute force approach in Java:</p>\n\n<pre><code>public class CompresnDecompresn {\n\n    public static void main(String[] args) {\n\n        String s=\"3[abc]4[ab]c\";\n        for (int i = 0; i&lt;s.length(); i++)  {\n            if(s.charAt(i)==']') {\n                int j=i-1;\n                while(true)  {\n                    if(s.charAt(j)=='[') {\n                        break;\n                    }\n                    j--;\n                }\n                int k=j-1;\n                while(true) {\n                    if(k&lt;0) {\n                        break;\n                    }\n                    int m=(int)s.charAt(k);\n                    if(m&lt;48 || m&gt;57) {\n                        break;\n                    }\n                    k--;\n                }\n                k++;\n                int freq=Integer.parseInt(s.substring(k, j));\n                String snippet=s.substring(j+1,i);\n                String temp=\"\";\n\n                for (int l = 0; l &lt; freq; l++) {\n                    temp+=snippet;\n                }\n                s=s.substring(0,k)+temp+s.substring(i+1);\n            }\n        }        \n        System.out.println(s);                \n    }    \n}\n</code></pre>\n\n<p>Can I get some better approach with less cost?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8938,"page":1054,"page_size":100}
