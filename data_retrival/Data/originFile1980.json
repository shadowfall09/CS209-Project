{"items":[{"tags":["java","android","android-studio","admob"],"comments":[{"owner":{"account_id":15870958,"reputation":1467,"user_id":11451626,"display_name":"Eyosiyas"},"score":0,"creation_date":1633153609,"post_id":69413109,"comment_id":122689814,"body_markdown":"Simple answer you can&#39;t. Just use the latest version and update your obsolete code.","body":"Simple answer you can&#39;t. Just use the latest version and update your obsolete code."},{"owner":{"account_id":16182034,"reputation":1,"user_id":11683304,"display_name":"Senko Stone"},"score":0,"creation_date":1633171444,"post_id":69413109,"comment_id":122692734,"body_markdown":"That&#39;s gonna take a lot of work, Thank you anyways.","body":"That&#39;s gonna take a lot of work, Thank you anyways."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633759720,"post_id":69413109,"comment_id":122850786,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":16182034,"reputation":1,"user_id":11683304,"display_name":"Senko Stone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633134825,"creation_date":1633134825,"question_id":69413109,"body_markdown":"I&#39;m using com.google.android.gms:play-services-ads:19.6.0 in my implementation for Banner and Interstitial, I would like to implement Native ads using [Native Templates][1]. The problem is that these templates use the latest version of admob sdk, when I import the template module, my previous implementations show errors. Means that all my code uses the last version in the new gradle.\r\n\r\nMy question is how keep the Interstitial and Banner ads using the previous sdk, and have the Native template using the last one?\r\n\r\n\r\n  [1]: https://developers.google.com/admob/android/quick-start#import_the_mobile_ads_sdk","title":"Use different implementation versions (Android Studio)","body":"<p>I'm using com.google.android.gms:play-services-ads:19.6.0 in my implementation for Banner and Interstitial, I would like to implement Native ads using <a href=\"https://developers.google.com/admob/android/quick-start#import_the_mobile_ads_sdk\" rel=\"nofollow noreferrer\">Native Templates</a>. The problem is that these templates use the latest version of admob sdk, when I import the template module, my previous implementations show errors. Means that all my code uses the last version in the new gradle.</p>\n<p>My question is how keep the Interstitial and Banner ads using the previous sdk, and have the Native template using the last one?</p>\n"},{"tags":["java","readfile"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1633128502,"post_id":69412593,"comment_id":122686833,"body_markdown":"I suggest you use an actual CSV library rather than `BufferedReader` if you simply want to parse it into Java objects. But, what exactly do you not understand about your  `line` variable to split or parse it into its individual components? Also `extends Workers` should be removed","body":"I suggest you use an actual CSV library rather than <code>BufferedReader</code> if you simply want to parse it into Java objects. But, what exactly do you not understand about your  <code>line</code> variable to split or parse it into its individual components? Also <code>extends Workers</code> should be removed"}],"answers":[{"tags":[],"owner":{"account_id":18352246,"reputation":74,"user_id":13366150,"display_name":"IncroyablePix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633131262,"creation_date":1633130579,"answer_id":69412802,"question_id":69412593,"body_markdown":"If all your lines are formatted as \r\n[firstName],[lastName],[hoursWorked] (I assume your numeric value is your hours worked and not the &quot;dollars per hour&quot;)\r\nfor instance, you could simply use the split method over your line object (weirdly called file) : \r\n\r\n    String[] data = file.split(&quot;,&quot;);\r\n\r\nNow, you have an array of strings like this: [&quot;Michael&quot;, &quot;Zargosa&quot;, &quot;14&quot;]\r\nYou still need to convert your &quot;14&quot; string into an int, which can be done this way :\r\n\r\nInteger.parseInt(...)\r\n\r\nEventually, you could write a method turning your line into a Worker object : \r\n\r\n    private static Workers createFromLine(final String line) {\r\n\t    Workers worker = null;\r\n\t    if(line != null) {\r\n            worker = new Workers();\r\n\t\t    String[] data = line.split(&quot;,&quot;);\r\n\t\t    int workedHours = Integer.parseInt(data[2]);\r\n\t\t\r\n\t\t    worker.setFirstName(data[0]);\r\n\t\t    worker.setLastNAme(data[1]);\r\n\t\t    worker.setHoursWorked(workedHours);\r\n\t    }\r\n\r\n\t    return worker; \r\n    }\r\n\r\n_____\r\n\r\nA more elegant and safer way to do this, would probably be consist in a **regular expression** based data extraction. The minimal implementation could involve checking that your line matches this regex: *\\w+,\\w+,\\d+*\r\n\r\n_____\r\n\r\nYour class &quot;Main&quot; should not inherit (extend) Workers class since it doesn&#39;t make sense. I don&#39;t really know what you are trying to do, but if you are willing your main method to use or &quot;contain&quot; (instances of) the Workers class, there is no need for the class to inherit from Workers.","title":"Trying to store varibles from a txt file","body":"<p>If all your lines are formatted as\n[firstName],[lastName],[hoursWorked] (I assume your numeric value is your hours worked and not the &quot;dollars per hour&quot;)\nfor instance, you could simply use the split method over your line object (weirdly called file) :</p>\n<pre><code>String[] data = file.split(&quot;,&quot;);\n</code></pre>\n<p>Now, you have an array of strings like this: [&quot;Michael&quot;, &quot;Zargosa&quot;, &quot;14&quot;]\nYou still need to convert your &quot;14&quot; string into an int, which can be done this way :</p>\n<p>Integer.parseInt(...)</p>\n<p>Eventually, you could write a method turning your line into a Worker object :</p>\n<pre><code>private static Workers createFromLine(final String line) {\n    Workers worker = null;\n    if(line != null) {\n        worker = new Workers();\n        String[] data = line.split(&quot;,&quot;);\n        int workedHours = Integer.parseInt(data[2]);\n    \n        worker.setFirstName(data[0]);\n        worker.setLastNAme(data[1]);\n        worker.setHoursWorked(workedHours);\n    }\n\n    return worker; \n}\n</code></pre>\n<hr />\n<p>A more elegant and safer way to do this, would probably be consist in a <strong>regular expression</strong> based data extraction. The minimal implementation could involve checking that your line matches this regex: <em>\\w+,\\w+,\\d+</em></p>\n<hr />\n<p>Your class &quot;Main&quot; should not inherit (extend) Workers class since it doesn't make sense. I don't really know what you are trying to do, but if you are willing your main method to use or &quot;contain&quot; (instances of) the Workers class, there is no need for the class to inherit from Workers.</p>\n"},{"tags":[],"owner":{"account_id":18844777,"reputation":23,"user_id":13745365,"display_name":"Unprotesting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633131151,"creation_date":1633131151,"answer_id":69412851,"question_id":69412593,"body_markdown":"```\r\n   public static void main(String[] args) {\r\n        try {\r\n            BufferedReader br = new BufferedReader(new FileReader(new File(&quot;./WorkersAndPay.txt&quot;)));\r\n            while (br.ready()) {\r\n                String line = br.readLine();\r\n                if (line == null){continue;}\r\n                String[] words = line.split(&quot;,&quot;);\r\n                Workers worker = new Workers();\r\n                worker.setFirstName(words[0]);\r\n                worker.setLastName(words[1]);\r\n                worker.setHoursWorked(Integer.parseInt(words[2]));\r\n                System.out.println(worker.toString());\r\n            }\r\n            br.close();\r\n        } \r\n        catch (IOException e) {e.printStackTrace();}\r\n    }\r\n```","title":"Trying to store varibles from a txt file","body":"<pre><code>   public static void main(String[] args) {\n        try {\n            BufferedReader br = new BufferedReader(new FileReader(new File(&quot;./WorkersAndPay.txt&quot;)));\n            while (br.ready()) {\n                String line = br.readLine();\n                if (line == null){continue;}\n                String[] words = line.split(&quot;,&quot;);\n                Workers worker = new Workers();\n                worker.setFirstName(words[0]);\n                worker.setLastName(words[1]);\n                worker.setHoursWorked(Integer.parseInt(words[2]));\n                System.out.println(worker.toString());\n            }\n            br.close();\n        } \n        catch (IOException e) {e.printStackTrace();}\n    }\n</code></pre>\n"}],"owner":{"account_id":18716724,"reputation":1,"user_id":13645560,"display_name":"michael murillo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69412802,"answer_count":2,"score":-1,"last_activity_date":1633134021,"creation_date":1633128121,"question_id":69412593,"body_markdown":"I&#39;m trying to read the file and store each variable from the file to its correct spot i want to save from file as Firstname, Lastname , DollarPerHour. Then after that print out each person separately along with a equation to solve their check for the week but I have no idea how to store then call correct from each separate person\r\n   \r\n \r\n    public class Workers {\r\n    \r\n        private String FirstName;\r\n        private String LastNAme;\r\n        private  int HoursWorked;\r\n        private int DollarPerHour;\r\n    \r\n        public String getFirstName() {\r\n            return FirstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            FirstName = firstName;\r\n        }\r\n    \r\n        public String getLastNAme() {\r\n            return LastNAme;\r\n        }\r\n    \r\n        public void setLastNAme(String lastNAme) {\r\n            LastNAme = lastNAme;\r\n        }\r\n    \r\n        public int getHoursWorked() {\r\n            return HoursWorked;\r\n        }\r\n    \r\n        public void setHoursWorked(int hoursWorked) {\r\n            HoursWorked = hoursWorked;\r\n        }\r\n    \r\n        public int getDollarPerHour() {\r\n            return DollarPerHour;\r\n        }\r\n    \r\n        public void setDollarPerHour(int dollarPerHour) {\r\n            DollarPerHour = dollarPerHour;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Workers{&quot; +\r\n                    FirstName + LastNAme + \r\n                    &quot;, Has Worked &quot; + HoursWorked + &quot;hours this week&quot;+ \r\n                    &quot;and makes &quot; + DollarPerHour +\r\n                    &quot;a hour&quot;;\r\n        }\r\n    }\r\n    \r\n---\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main extends Workers {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            try{\r\n                BufferedReader reader = new BufferedReader(new FileReader(&quot;src/WorkersAndPay.txt&quot;));\r\n                String file = reader.readLine();\r\n                while (file != null){\r\n                    System.out.println(file);\r\n                    file = reader.readLine();\r\n    \r\n                }\r\n                reader.close();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n    \r\nmy txt file is set up Like\r\n\r\n    Michael,Zargosa,14\r\n    MAx,SMith,15\r\n    Judith,Smith,16","title":"Trying to store varibles from a txt file","body":"<p>I'm trying to read the file and store each variable from the file to its correct spot i want to save from file as Firstname, Lastname , DollarPerHour. Then after that print out each person separately along with a equation to solve their check for the week but I have no idea how to store then call correct from each separate person</p>\n<pre><code>public class Workers {\n\n    private String FirstName;\n    private String LastNAme;\n    private  int HoursWorked;\n    private int DollarPerHour;\n\n    public String getFirstName() {\n        return FirstName;\n    }\n\n    public void setFirstName(String firstName) {\n        FirstName = firstName;\n    }\n\n    public String getLastNAme() {\n        return LastNAme;\n    }\n\n    public void setLastNAme(String lastNAme) {\n        LastNAme = lastNAme;\n    }\n\n    public int getHoursWorked() {\n        return HoursWorked;\n    }\n\n    public void setHoursWorked(int hoursWorked) {\n        HoursWorked = hoursWorked;\n    }\n\n    public int getDollarPerHour() {\n        return DollarPerHour;\n    }\n\n    public void setDollarPerHour(int dollarPerHour) {\n        DollarPerHour = dollarPerHour;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Workers{&quot; +\n                FirstName + LastNAme + \n                &quot;, Has Worked &quot; + HoursWorked + &quot;hours this week&quot;+ \n                &quot;and makes &quot; + DollarPerHour +\n                &quot;a hour&quot;;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class Main extends Workers {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        try{\n            BufferedReader reader = new BufferedReader(new FileReader(&quot;src/WorkersAndPay.txt&quot;));\n            String file = reader.readLine();\n            while (file != null){\n                System.out.println(file);\n                file = reader.readLine();\n\n            }\n            reader.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>my txt file is set up Like</p>\n<pre><code>Michael,Zargosa,14\nMAx,SMith,15\nJudith,Smith,16\n</code></pre>\n"},{"tags":["java","elasticsearch","retry-logic"],"comments":[{"owner":{"display_name":"user12056260"},"score":0,"creation_date":1576730837,"post_id":59401237,"comment_id":104995422,"body_markdown":"its much needed, wonder if its there in python then why not in java, you can also raise a bug in their github repo https://github.com/elastic/elasticsearch/issues","body":"its much needed, wonder if its there in python then why not in java, you can also raise a bug in their github repo <a href=\"https://github.com/elastic/elasticsearch/issues\" rel=\"nofollow noreferrer\">github.com/elastic/elasticsearch/issues</a>"}],"owner":{"account_id":5652050,"reputation":400,"user_id":5112486,"accept_rate":17,"display_name":"Caladbolgll"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1034,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633132238,"creation_date":1576710663,"question_id":59401237,"body_markdown":"I&#39;m building my own ES Client in Java based on ElasticSearch&#39;s [`RestHighLevelClient`](https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java):\r\n\r\n```\r\npublic class MyElasticSearchClient {\r\n    private final RestHighLevelClient restHighLevelClient;\r\n\r\n    @Inject\r\n    public MyElasticSearchClient(RestHighLevelClient restHighlevelClient) {\r\n        this.restHighLevelClient = restHighLevelClient;\r\n    }\r\n\r\n    public MyEntryClass get(@NonNull final String searchId) { \r\n        ... \r\n        restHighLevelClient.get(new GetRequest(&#39;index-name&#39;, &#39;index-type&#39;, searchId);\r\n        ...\r\n    }\r\n\r\n    public DocWriteResponse.Result update(@NonNull final MyEntryClass entry) { ... };\r\n\r\n    ...\r\n}\r\n    \r\n```\r\n\r\nUnfortunately, `RestHighLevelClient` doesn&#39;t have a retry strategy like the [Python version](https://github.com/elastic/elasticsearch-py/blob/master/elasticsearch/transport.py#L87-L88), which I would like to implement.\r\n\r\nWithout spamming try/catch on every request API that I define, are there any elegant way to achieve this?","title":"Most elegant way to retry request on Java","body":"<p>I'm building my own ES Client in Java based on ElasticSearch's <a href=\"https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java\" rel=\"nofollow noreferrer\"><code>RestHighLevelClient</code></a>:</p>\n\n<pre><code>public class MyElasticSearchClient {\n    private final RestHighLevelClient restHighLevelClient;\n\n    @Inject\n    public MyElasticSearchClient(RestHighLevelClient restHighlevelClient) {\n        this.restHighLevelClient = restHighLevelClient;\n    }\n\n    public MyEntryClass get(@NonNull final String searchId) { \n        ... \n        restHighLevelClient.get(new GetRequest('index-name', 'index-type', searchId);\n        ...\n    }\n\n    public DocWriteResponse.Result update(@NonNull final MyEntryClass entry) { ... };\n\n    ...\n}\n\n</code></pre>\n\n<p>Unfortunately, <code>RestHighLevelClient</code> doesn't have a retry strategy like the <a href=\"https://github.com/elastic/elasticsearch-py/blob/master/elasticsearch/transport.py#L87-L88\" rel=\"nofollow noreferrer\">Python version</a>, which I would like to implement.</p>\n\n<p>Without spamming try/catch on every request API that I define, are there any elegant way to achieve this?</p>\n"},{"tags":["java","android","photo","mediastore"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1633129208,"post_id":69412615,"comment_id":122686945,"body_markdown":"Use Logcat and see what happens when you launch the photo picker from Maps. If that starts an activity, the basic details of the `Intent` action will be logged.","body":"Use Logcat and see what happens when you launch the photo picker from Maps. If that starts an activity, the basic details of the <code>Intent</code> action will be logged."},{"owner":{"account_id":6209363,"reputation":496,"user_id":9655696,"display_name":"Al Ro"},"score":1,"creation_date":1633130988,"post_id":69412615,"comment_id":122687204,"body_markdown":"no intent is triggered. SO that means it&#39;s an internal fragment or activity? I would have thought an internal activity would still have posted an intent to logcat.","body":"no intent is triggered. SO that means it&#39;s an internal fragment or activity? I would have thought an internal activity would still have posted an intent to logcat."},{"owner":{"account_id":7538388,"reputation":1412,"user_id":5723943,"display_name":"Rediska"},"score":0,"creation_date":1633133029,"post_id":69412615,"comment_id":122687504,"body_markdown":"Try to remove the second parameter of the Intent constructor and create a chooser intent: Intent intent = Intent.createChooser(intent);","body":"Try to remove the second parameter of the Intent constructor and create a chooser intent: Intent intent = Intent.createChooser(intent);"},{"owner":{"account_id":6209363,"reputation":496,"user_id":9655696,"display_name":"Al Ro"},"score":0,"creation_date":1633218431,"post_id":69412615,"comment_id":122701467,"body_markdown":"@Rediska: interesting idea. I just tried that and it gives the same result.","body":"@Rediska: interesting idea. I just tried that and it gives the same result."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633131575,"creation_date":1633131575,"answer_id":69412881,"question_id":69412615,"body_markdown":"If you do not see a activity-start operation logged in Logcat, then you are seeing something internal to the Maps app: a fragment, a [composable](https://developer.android.com/jetpack/compose), or something along those lines.\r\n\r\nSo, if you want that UI, you either need to write it yourself or see if there is [a third-party library](https://android-arsenal.com/tag/157?sort=created) that offers something similar. ","title":"How to open full-featured android photo picker like google maps uses?","body":"<p>If you do not see a activity-start operation logged in Logcat, then you are seeing something internal to the Maps app: a fragment, a <a href=\"https://developer.android.com/jetpack/compose\" rel=\"nofollow noreferrer\">composable</a>, or something along those lines.</p>\n<p>So, if you want that UI, you either need to write it yourself or see if there is <a href=\"https://android-arsenal.com/tag/157?sort=created\" rel=\"nofollow noreferrer\">a third-party library</a> that offers something similar.</p>\n"}],"owner":{"account_id":6209363,"reputation":496,"user_id":9655696,"display_name":"Al Ro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69412881,"answer_count":1,"score":1,"last_activity_date":1633131575,"creation_date":1633128289,"question_id":69412615,"body_markdown":"I&#39;d like to use a photo picker like the one that google maps has, specifically one that combines recent photos, photo folders, and the option to capture a new photo from the camera. See example below.\r\n\r\n[![desired photo picker][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bFKVI.jpg\r\n\r\nI don&#39;t need the multi-select or preview of selected photos option, just the part that starts with &quot;yesterday&quot;. \r\n\r\nMy best guess is this code:\r\n\r\n\tIntent intent = new Intent(Intent.ACTION_GET_CONTENT, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n\tintent.setType(&quot;image/*&quot;);\r\n\tstartActivityForResult(intent, 0);\r\n\r\nbut that opens a far less fancy picker that just shows the recent photos, without the &quot;camera&quot; button or the &quot;folders&quot; shortcut.\r\n\r\nso is this interface built into android or do I have to roll my own?\r\n ","title":"How to open full-featured android photo picker like google maps uses?","body":"<p>I'd like to use a photo picker like the one that google maps has, specifically one that combines recent photos, photo folders, and the option to capture a new photo from the camera. See example below.</p>\n<p><a href=\"https://i.stack.imgur.com/bFKVI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bFKVI.jpg\" alt=\"desired photo picker\" /></a></p>\n<p>I don't need the multi-select or preview of selected photos option, just the part that starts with &quot;yesterday&quot;.</p>\n<p>My best guess is this code:</p>\n<pre><code>Intent intent = new Intent(Intent.ACTION_GET_CONTENT, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\nintent.setType(&quot;image/*&quot;);\nstartActivityForResult(intent, 0);\n</code></pre>\n<p>but that opens a far less fancy picker that just shows the recent photos, without the &quot;camera&quot; button or the &quot;folders&quot; shortcut.</p>\n<p>so is this interface built into android or do I have to roll my own?</p>\n"},{"tags":["java","spring-boot","foreign-keys"],"comments":[{"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"score":0,"creation_date":1633133311,"post_id":69412842,"comment_id":122687540,"body_markdown":"Why are you only referncing integers for id, is there a reason why arent you declaring the field types as `TextAuthA` and `TextAccount`?","body":"Why are you only referncing integers for id, is there a reason why arent you declaring the field types as <code>TextAuthA</code> and <code>TextAccount</code>?"},{"owner":{"account_id":4318752,"reputation":89,"user_id":3527717,"accept_rate":20,"display_name":"luanvu"},"score":0,"creation_date":1633164669,"post_id":69412842,"comment_id":122691580,"body_markdown":"ForeignKey only check on Hibernate side, but the exception was caused by database side. Check whether your database has constraint `txt_auth_a_ibfk_1`","body":"ForeignKey only check on Hibernate side, but the exception was caused by database side. Check whether your database has constraint <code>txt_auth_a_ibfk_1</code>"},{"owner":{"account_id":22918786,"reputation":1,"user_id":17054949,"display_name":"Pranav Patel"},"score":0,"creation_date":1633738511,"post_id":69412842,"comment_id":122848369,"body_markdown":"@luanvu, I am able to insert once in the database by setting the foreign key constraint to 0. Why am I not able to to the same using Spring boot or otherwise what am I doing wrong while having those constraints above the 2 variables?","body":"@luanvu, I am able to insert once in the database by setting the foreign key constraint to 0. Why am I not able to to the same using Spring boot or otherwise what am I doing wrong while having those constraints above the 2 variables?"},{"owner":{"account_id":4318752,"reputation":89,"user_id":3527717,"accept_rate":20,"display_name":"luanvu"},"score":0,"creation_date":1633941039,"post_id":69412842,"comment_id":122884587,"body_markdown":"@PranavPatel &quot;setting the foreign key constraint to 0&quot;, actually, you can do it by native query in JPA, but I don&#39;t think it is a good way. I recommend you to read about mapping and cascade in Hibernate. It&#39;s better way to resolve your problem.\n[https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/](https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/),  \n[https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/](https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/)","body":"@PranavPatel &quot;setting the foreign key constraint to 0&quot;, actually, you can do it by native query in JPA, but I don&#39;t think it is a good way. I recommend you to read about mapping and cascade in Hibernate. It&#39;s better way to resolve your problem. <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-map-a-onetoone-rela&zwnj;&#8203;tionship-with-jpa-an&zwnj;&#8203;d-hibernate/</a>,   <a href=\"https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibern&zwnj;&#8203;ate-cascade-types/</a>"}],"owner":{"account_id":22918786,"reputation":1,"user_id":17054949,"display_name":"Pranav Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633131074,"creation_date":1633131074,"question_id":69412842,"body_markdown":"I am trying to insert an entry into the &quot;txt_auth_a&quot; table which has auto_inc_id as the primary key and &quot;account_id&quot; as the foriegn key, thus there&#39;s a one-to-one relationship between account_id and auto_inc_id. The auto_inc_id is also the primary key for the &quot;txt_account&quot; table.\r\n\r\n\r\nText Account Entity:\r\n\r\n    @Entity\r\n    @Table(name=&quot;txt_account&quot;)\r\n    public class TextAccount \r\n    {\r\n    \t\r\n    \t//\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t//@Column(name=&quot;auto_inc_id&quot; , nullable=false, updatable=false, insertable=false)\r\n    \t@OneToOne(mappedBy=&quot;TextAuthA.class&quot;)\r\n    \t@JoinColumn(name=&quot;auto_inc_id&quot;,nullable=false , foreignKey = @ForeignKey(value = ConstraintMode.NO_CONSTRAINT))\r\n    \tprivate int auto_inc_id;\r\n\r\n\r\ntxt_auth_a entity:  \r\n\r\n    @Entity\r\n    @Table(name=&quot;txt_auth_a&quot;)\r\n    public class TextAuthA \r\n    {\r\n    \t//\r\n    \t\r\n    \t//@JoinColumn(name=&quot;auto_inc_id&quot;,nullable=false , foreignKey = @ForeignKey(value = ConstraintMode.NO_CONSTRAINT))\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name=&quot;auto_inc_id&quot; , nullable=false)\r\n    \tprivate int auto_inc_id;\r\n    \t\r\n    \t//@Column(name=&quot;account_id&quot; , nullable=false)\r\n    \t@OneToOne(targetEntity = TextAccount.class, cascade=CascadeType.ALL)\r\n    \t@JoinColumn(referencedColumnName = &quot;auto_inc_id&quot;, foreignKey = @ForeignKey(value = ConstraintMode.NO_CONSTRAINT), updatable=false, insertable=false)\r\n    \tprivate int account_id;\r\n\r\nThe query I run in my DAO for txt_auth_a is:\r\n\r\n    @Modifying\r\n    \t@Transactional\r\n    \t@Query(value=&quot;INSERT INTO txt_auth_a (account_id, username, email, password) VALUES(:accid , :username , :email , :password )&quot;,\r\n    \t\t\tnativeQuery=true)\r\n    \tpublic void signup(int accid, String username, String email, String password);\r\n\r\nI am getting the an error of foriegn key constraint although I say @ForeignKey(value = ConstraintMode.NO_CONSTRAINT)\r\n\t\r\n\r\n\r\n    java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`megamadz`.`txt_auth_a`, CONSTRAINT `txt_auth_a_ibfk_1` FOREIGN KEY (`account_id`) REFERENCES `txt_account` (`auto_inc_id`) ON DELETE CASCADE ON UPDATE CASCADE)\r\n\r\n","title":"Spring Boot: Why am I not able to insert entry although I added the &quot;NO_CONSTRAINT&quot; attribute in the @JoinColumn annotation?","body":"<p>I am trying to insert an entry into the &quot;txt_auth_a&quot; table which has auto_inc_id as the primary key and &quot;account_id&quot; as the foriegn key, thus there's a one-to-one relationship between account_id and auto_inc_id. The auto_inc_id is also the primary key for the &quot;txt_account&quot; table.</p>\n<p>Text Account Entity:</p>\n<pre><code>@Entity\n@Table(name=&quot;txt_account&quot;)\npublic class TextAccount \n{\n    \n    //\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    //@Column(name=&quot;auto_inc_id&quot; , nullable=false, updatable=false, insertable=false)\n    @OneToOne(mappedBy=&quot;TextAuthA.class&quot;)\n    @JoinColumn(name=&quot;auto_inc_id&quot;,nullable=false , foreignKey = @ForeignKey(value = ConstraintMode.NO_CONSTRAINT))\n    private int auto_inc_id;\n</code></pre>\n<p>txt_auth_a entity:</p>\n<pre><code>@Entity\n@Table(name=&quot;txt_auth_a&quot;)\npublic class TextAuthA \n{\n    //\n    \n    //@JoinColumn(name=&quot;auto_inc_id&quot;,nullable=false , foreignKey = @ForeignKey(value = ConstraintMode.NO_CONSTRAINT))\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;auto_inc_id&quot; , nullable=false)\n    private int auto_inc_id;\n    \n    //@Column(name=&quot;account_id&quot; , nullable=false)\n    @OneToOne(targetEntity = TextAccount.class, cascade=CascadeType.ALL)\n    @JoinColumn(referencedColumnName = &quot;auto_inc_id&quot;, foreignKey = @ForeignKey(value = ConstraintMode.NO_CONSTRAINT), updatable=false, insertable=false)\n    private int account_id;\n</code></pre>\n<p>The query I run in my DAO for txt_auth_a is:</p>\n<pre><code>@Modifying\n    @Transactional\n    @Query(value=&quot;INSERT INTO txt_auth_a (account_id, username, email, password) VALUES(:accid , :username , :email , :password )&quot;,\n            nativeQuery=true)\n    public void signup(int accid, String username, String email, String password);\n</code></pre>\n<p>I am getting the an error of foriegn key constraint although I say @ForeignKey(value = ConstraintMode.NO_CONSTRAINT)</p>\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`megamadz`.`txt_auth_a`, CONSTRAINT `txt_auth_a_ibfk_1` FOREIGN KEY (`account_id`) REFERENCES `txt_account` (`auto_inc_id`) ON DELETE CASCADE ON UPDATE CASCADE)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jetty","embedded-jetty"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633130022,"creation_date":1630345196,"answer_id":68988244,"question_id":68987640,"body_markdown":"This Spring Boot Starter Web uses Spring MVC, REST and Tomcat as a default embedded server, so you will need to adjust it to replace it with Jetty. You can do that with the following:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt; \r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe `spring-boot-starter-web` transitively depends on the following:\r\n\r\n    org.springframework.boot:spring-boot-starter\r\n    org.springframework.boot:spring-boot-starter-tomcat\r\n    org.springframework.boot:spring-boot-starter-validation\r\n    com.fasterxml.jackson.core:jackson-databind\r\n    org.springframework:spring-web\r\n    org.springframework:spring-webmvc\r\n\r\nAdditionally, the `spring-boot-starter-web` auto-configures the following features that are usually required for web development:\r\n - Dispatcher Servlet \r\n - Error Page\r\n - Web JARs for managing the static dependencies \r\n - Embedded servlet container\r\n\r\nHaving said all that unless you really want to have finer-grained control over the dependencies on your project I would suggest you using `spring-boot-starter-web` because it saves you from a lot of boilerplate code.","title":"Spring Boot: Purpose of spring-starter-web","body":"<p>This Spring Boot Starter Web uses Spring MVC, REST and Tomcat as a default embedded server, so you will need to adjust it to replace it with Jetty. You can do that with the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>The <code>spring-boot-starter-web</code> transitively depends on the following:</p>\n<pre><code>org.springframework.boot:spring-boot-starter\norg.springframework.boot:spring-boot-starter-tomcat\norg.springframework.boot:spring-boot-starter-validation\ncom.fasterxml.jackson.core:jackson-databind\norg.springframework:spring-web\norg.springframework:spring-webmvc\n</code></pre>\n<p>Additionally, the <code>spring-boot-starter-web</code> auto-configures the following features that are usually required for web development:</p>\n<ul>\n<li>Dispatcher Servlet</li>\n<li>Error Page</li>\n<li>Web JARs for managing the static dependencies</li>\n<li>Embedded servlet container</li>\n</ul>\n<p>Having said all that unless you really want to have finer-grained control over the dependencies on your project I would suggest you using <code>spring-boot-starter-web</code> because it saves you from a lot of boilerplate code.</p>\n"}],"owner":{"account_id":12695081,"reputation":67,"user_id":9223778,"display_name":"pickoneusername"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633130022,"creation_date":1630341989,"question_id":68987640,"body_markdown":"I&#39;m new to the `Spring` ecosystem and lot of things are quite confusing. I have a web-project with the following starter packs: `spring-boot-starter-jersey` and `spring-boot-starter-jetty`. This boots up a Jetty server with Jersey servlet. Which is good. But it doesn&#39;t serve static content. So, I installed `spring-boot-starter-web` and this serves all the static resources under `resources/static`. But I don&#39;t understand how. It seems overkill to install a package just to serve static-content. If it&#39;s a non-spring project, I&#39;d use Jetty to create a new servlet and link up a `base resource path`. But I&#39;m not exactly sure how to achieve this without using `spring-starter-web`. \r\n\r\nSo, does `spring-starter-web` have any additional value in my project setup (excluding static resource serving)?  \r\n\r\nHow can I server static resources using only `Jetty` without the `starter-web`?","title":"Spring Boot: Purpose of spring-starter-web","body":"<p>I'm new to the <code>Spring</code> ecosystem and lot of things are quite confusing. I have a web-project with the following starter packs: <code>spring-boot-starter-jersey</code> and <code>spring-boot-starter-jetty</code>. This boots up a Jetty server with Jersey servlet. Which is good. But it doesn't serve static content. So, I installed <code>spring-boot-starter-web</code> and this serves all the static resources under <code>resources/static</code>. But I don't understand how. It seems overkill to install a package just to serve static-content. If it's a non-spring project, I'd use Jetty to create a new servlet and link up a <code>base resource path</code>. But I'm not exactly sure how to achieve this without using <code>spring-starter-web</code>.</p>\n<p>So, does <code>spring-starter-web</code> have any additional value in my project setup (excluding static resource serving)?</p>\n<p>How can I server static resources using only <code>Jetty</code> without the <code>starter-web</code>?</p>\n"},{"tags":["java","windows","batch-file","cmd","utf"],"comments":[{"owner":{"account_id":1516883,"reputation":13788,"user_id":1417694,"display_name":"Squashman"},"score":1,"creation_date":1633128353,"post_id":69412467,"comment_id":122686806,"body_markdown":"Make sure the .BAT file was saved as an ANSI text file and not UTF-8","body":"Make sure the .BAT file was saved as an ANSI text file and not UTF-8"},{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":2,"creation_date":1633129055,"post_id":69412467,"comment_id":122686918,"body_markdown":"You should probably make sure that you are using a standard dash _(hyphen)_ character, not an en-dash. You can clearly see that the other twodash  characters in the code you&#39;ve posted do not look the same as it, so copy one of those and paste it  over that en-dash as a replacement.","body":"You should probably make sure that you are using a standard dash <i>(hyphen)</i> character, not an en-dash. You can clearly see that the other twodash  characters in the code you&#39;ve posted do not look the same as it, so copy one of those and paste it  over that en-dash as a replacement."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633128779,"creation_date":1633128779,"answer_id":69412646,"question_id":69412467,"body_markdown":"The 6th character in your batch file looks like a dash. __But it is not a dash__. It is an em-dash, or some other dash-like character from the higher unicode plane.\r\n\r\nGo in, fix it. Replace it with an actual dash. Open it with an editor, highlight the dash, and hit the - key on your keyboard. For good measure, do this to all the dash-like constructs in there.\r\n","title":"Contents within a .bat file not running properly when running said .bat file","body":"<p>The 6th character in your batch file looks like a dash. <strong>But it is not a dash</strong>. It is an em-dash, or some other dash-like character from the higher unicode plane.</p>\n<p>Go in, fix it. Replace it with an actual dash. Open it with an editor, highlight the dash, and hit the - key on your keyboard. For good measure, do this to all the dash-like constructs in there.</p>\n"}],"owner":{"account_id":21934133,"reputation":3,"user_id":16215672,"display_name":"Andr&#233;s Kertesz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69412646,"answer_count":1,"score":0,"last_activity_date":1633128779,"creation_date":1633126740,"question_id":69412467,"body_markdown":"So I&#39;ve encountered a very odd problem while trying to run this java application I&#39;ve just compiled. I wrote this very simple .bat file to run the program with just one parameter:\r\n\r\n    @echo off\r\n    java –Dproperties.location=%~dp0config.properties -jar userspro-ak.jar &gt;&gt; logs.log\r\n    pause\r\nbut when I run it, this happens: \r\n[I&#39;m really confused as to why instead of writing -D it writes those weird characters I&#39;m not familiar with, but because of that, the program won&#39;t run!][1]\r\n\r\nAlready ran the command in CMD writing it by hand and the application booted succesfully. \r\nPlease help, does anyone please know what I can do to fix this? Is it my Windows install or something?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V5tkm.png","title":"Contents within a .bat file not running properly when running said .bat file","body":"<p>So I've encountered a very odd problem while trying to run this java application I've just compiled. I wrote this very simple .bat file to run the program with just one parameter:</p>\n<pre><code>@echo off\njava –Dproperties.location=%~dp0config.properties -jar userspro-ak.jar &gt;&gt; logs.log\npause\n</code></pre>\n<p>but when I run it, this happens:\n<a href=\"https://i.stack.imgur.com/V5tkm.png\" rel=\"nofollow noreferrer\">I'm really confused as to why instead of writing -D it writes those weird characters I'm not familiar with, but because of that, the program won't run!</a></p>\n<p>Already ran the command in CMD writing it by hand and the application booted succesfully.\nPlease help, does anyone please know what I can do to fix this? Is it my Windows install or something?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":993756,"reputation":1090,"user_id":1127980,"accept_rate":50,"display_name":"Friso"},"score":0,"creation_date":1633127209,"post_id":69412214,"comment_id":122686563,"body_markdown":"print row + &quot; &quot; or &quot;  &quot; (i.e. two spaces) and your code is fine.","body":"print row + &quot; &quot; or &quot;  &quot; (i.e. two spaces) and your code is fine."}],"answers":[{"tags":[],"owner":{"account_id":993756,"reputation":1090,"user_id":1127980,"accept_rate":50,"display_name":"Friso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633126270,"creation_date":1633125527,"answer_id":69412343,"question_id":69412214,"body_markdown":"Hope this helps: \r\n\r\n    for (i = 0; i &lt; 10; i++) {\r\n      for (int j = 1; j &lt;= 10; j++) {\r\n        if (j &lt; 10-i) {\r\n          System.out.print(&quot;  &quot;);\r\n        } else {\r\n          System.out.print(j + &quot; &quot;);\r\n        }\r\n      }\r\n      System.out.println();\r\n    }","title":"Sideways Number Pyramid With Spaces Java","body":"<p>Hope this helps:</p>\n<pre><code>for (i = 0; i &lt; 10; i++) {\n  for (int j = 1; j &lt;= 10; j++) {\n    if (j &lt; 10-i) {\n      System.out.print(&quot;  &quot;);\n    } else {\n      System.out.print(j + &quot; &quot;);\n    }\n  }\n  System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":22918354,"reputation":3,"user_id":17054592,"display_name":"Peter jefferson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69412343,"answer_count":1,"score":-2,"last_activity_date":1633128594,"creation_date":1633124451,"question_id":69412214,"body_markdown":"Sorry for asking such a simple question, but I&#39;ve been stuck on this for a while. I need to have a program print out a sideways pyramid with increasing numbers and with spaces between each number. I have done star pyramids with for loops before, but I am unable to make a sideways one with numbers like this:  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎9 10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎8 9 10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎7 8 9 10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎6 7 8 9 10   \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎5 6 7 8 9 10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎4 5 6 7 8 9 10    \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎3 4 5 6 7 8 9 10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‏‏‎ ‎‏‏   10 9 8 7 6 5 4 3 ‏‏2 ‎\r\n‏‏  \r\n1 2 3 4 5 6 7 8 9 10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎2 3 4 5 6 7 8 9 10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎3 4 5 6 7 8 9 10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎4 5 6 7 8 9 10  \r\n‏‏‎ ‏‏‎ ‎‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎5 6 7 8 9 10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎6 7 8 9 10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎7 8 9 10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎8 9 10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎9 10  \r\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎10  \r\n\r\n\r\n  \r\n\r\nThis is what I tried so far, it prints the right pyramid, but I can&#39;t get the spaces between the numbers to work.\r\n\r\n\r\n  ```\r\n        int n = 10;\r\n\r\n\t\t\r\n\t\tfor(int column = -n; column &lt;= n; column++)\r\n\t\t{\r\n\t\t    if (column == 0) column = 2;\r\n\t\t    for(int row = 1; row &lt;= n; row++)\r\n\t\t    {\r\n\t\t        if(Math.abs(column) &lt;= row)\r\n\t\t        { \r\n\t\t            System.out.print(row);\r\n\t\t        } else \r\n\t\t        {\r\n\t\t            System.out.print(&quot; &quot;);\r\n\t\t        }\r\n\t\t    }\r\n\t\t    System.out.println();\r\n\t\t}\r\n\t\t\t\r\n\t\r\n\t\t\t}\r\n\t\t\t}\r\n```\r\nSorry for the bad formating, I am new here and also new to programing.","title":"Sideways Number Pyramid With Spaces Java","body":"<p>Sorry for asking such a simple question, but I've been stuck on this for a while. I need to have a program print out a sideways pyramid with increasing numbers and with spaces between each number. I have done star pyramids with for loops before, but I am unable to make a sideways one with numbers like this:<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎8 9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎7 8 9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎6 7 8 9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎5 6 7 8 9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎4 5 6 7 8 9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎3 4 5 6 7 8 9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‏‏‎ ‎‏‏   10 9 8 7 6 5 4 3 ‏‏2 ‎\n‏‏<br />\n1 2 3 4 5 6 7 8 9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎2 3 4 5 6 7 8 9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎3 4 5 6 7 8 9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎4 5 6 7 8 9 10<br />\n‏‏‎ ‏‏‎ ‎‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎5 6 7 8 9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎6 7 8 9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎7 8 9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎8 9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎9 10<br />\n‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎10</p>\n<p>This is what I tried so far, it prints the right pyramid, but I can't get the spaces between the numbers to work.</p>\n<pre><code>      int n = 10;\n\n      \n      for(int column = -n; column &lt;= n; column++)\n      {\n          if (column == 0) column = 2;\n          for(int row = 1; row &lt;= n; row++)\n          {\n              if(Math.abs(column) &lt;= row)\n              { \n                  System.out.print(row);\n              } else \n              {\n                  System.out.print(&quot; &quot;);\n              }\n          }\n          System.out.println();\n      }\n          \n  \n          }\n          }\n</code></pre>\n<p>Sorry for the bad formating, I am new here and also new to programing.</p>\n"},{"tags":["java","kotlin","tcp","base64","outputstream"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1633130306,"post_id":69412568,"comment_id":122687117,"body_markdown":"The code you shared works for me. Have you tried using a ByteArrayOutputStream to capture the output and inspect it?","body":"The code you shared works for me. Have you tried using a ByteArrayOutputStream to capture the output and inspect it?"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1633130442,"post_id":69412568,"comment_id":122687141,"body_markdown":"Incidentally, beware of embedding `cmdBodyRequest.req` directly in your JSON, unless you are _absolutely certain_ it can never contain a quotation mark or a backslash, or any other character that would invalidate the JSON. You might want to consider using your ObjectMapper to convert it to a JSON string, and embedding that instead.","body":"Incidentally, beware of embedding <code>cmdBodyRequest.req</code> directly in your JSON, unless you are <i>absolutely certain</i> it can never contain a quotation mark or a backslash, or any other character that would invalidate the JSON. You might want to consider using your ObjectMapper to convert it to a JSON string, and embedding that instead."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1633130585,"post_id":69412568,"comment_id":122687165,"body_markdown":"Are you 100% sure this is the code that generates this output? I ask because the string you got is actually `{hello=world}`, but encoded with base64 twice and with some additional garbage. Are you sure this is not from testing or experimenting with the code?","body":"Are you 100% sure this is the code that generates this output? I ask because the string you got is actually <code>{hello=world}</code>, but encoded with base64 twice and with some additional garbage. Are you sure this is not from testing or experimenting with the code?"}],"owner":{"account_id":13939467,"reputation":21,"user_id":10065768,"display_name":"Scott Berman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633127906,"creation_date":1633127906,"question_id":69412568,"body_markdown":"I am trying to stream base64 encoded content to an output stream from a kotlin client over TCP to a python server.  When I read on the python side, I do not have a base64 encoded result.  Here is the code:\r\n```\r\nprivate val o = ObjectMapper().disable(JsonGenerator.Feature.AUTO_CLOSE_TARGET)\r\nfun encode(cmdBodyRequest: ClientRequest, output: OutputStream) {\r\n    output.write(&quot;&quot;&quot;{&quot;req&quot;:&quot;${cmdBodyRequest.req}&quot;,&quot;work_def&quot;:&quot;&quot;&quot;&quot;.toByteArray())\r\n    val wrappedOutputStream = Base64.getEncoder().wrap(output)\r\n    o.writeValue(wrappedOutputStream, mapOf(&quot;hello&quot; to &quot;world&quot;))\r\n    wrappedOutputStream.close()\r\n    output.write(&quot;\\&quot;}&quot;.toByteArray())\r\n    output.write(&quot;\\n&quot;.toByteArray())\r\n}\r\n```\r\n\r\nOn the python server side I am simply reading a line in from the stream reader.  My result looks like this:\r\n```\r\n{&quot;req&quot;:&quot;549ebd95-41cb-46f1-93fa-dc355f70f16a&quot;,&quot;work_def&quot;:&quot;\\x00\\x00\\x00I\\x00\\x00\\x00m\\x00\\x00\\x00U\\x00\\x00\\x00y\\x00\\x00\\x00a\\x00\\x00\\x00G\\x00\\x00\\x00x\\x00\\x00\\x00i\\x00\\x00\\x00R\\x00\\x00\\x003\\x00\\x00\\x00h\\x00\\x00\\x002\\x00\\x00\\x00U\\x00\\x00\\x00F\\x00\\x00\\x00h\\x00\\x00\\x00k\\x00\\x00\\x00d\\x00\\x00\\x00m\\x00\\x00\\x00N\\x00\\x00\\x00t\\x00\\x00\\x00e\\x00\\x00\\x00G\\x00\\x00\\x00t\\x00\\x00\\x00m\\x00\\x00\\x00U\\x00\\x00\\x00T\\x00\\x00\\x000\\x00\\x00\\x009&quot;}\\n&#39;\r\n```\r\n\r\nMy goal is to base64 encode the work_def which can be a very large nested json structure (I&#39;ve just been using a mapOf(&quot;hello&quot; to &quot;world&quot;) for testing purposes) for the sake of preventing python from decoding it into a dict which I don&#39;t want it to do.  It is expensive and the server doesn&#39;t need to know the contents of the work_def, it just needs to pass on the request to another client.  I also want to avoid base64 encoding in memory on the client side as I don&#39;t want to use up additional bytes for a copy of the base64 encoded object.  I want to have the base64 encoding performed on the output stream to prevent additional overhead.\r\n\r\nAny help on what I am doing wrong or how this can be achieved would be much appreciated.","title":"Base64 wrapped encoder to write to TCP stream returns garbled bytes","body":"<p>I am trying to stream base64 encoded content to an output stream from a kotlin client over TCP to a python server.  When I read on the python side, I do not have a base64 encoded result.  Here is the code:</p>\n<pre><code>private val o = ObjectMapper().disable(JsonGenerator.Feature.AUTO_CLOSE_TARGET)\nfun encode(cmdBodyRequest: ClientRequest, output: OutputStream) {\n    output.write(&quot;&quot;&quot;{&quot;req&quot;:&quot;${cmdBodyRequest.req}&quot;,&quot;work_def&quot;:&quot;&quot;&quot;&quot;.toByteArray())\n    val wrappedOutputStream = Base64.getEncoder().wrap(output)\n    o.writeValue(wrappedOutputStream, mapOf(&quot;hello&quot; to &quot;world&quot;))\n    wrappedOutputStream.close()\n    output.write(&quot;\\&quot;}&quot;.toByteArray())\n    output.write(&quot;\\n&quot;.toByteArray())\n}\n</code></pre>\n<p>On the python server side I am simply reading a line in from the stream reader.  My result looks like this:</p>\n<pre><code>{&quot;req&quot;:&quot;549ebd95-41cb-46f1-93fa-dc355f70f16a&quot;,&quot;work_def&quot;:&quot;\\x00\\x00\\x00I\\x00\\x00\\x00m\\x00\\x00\\x00U\\x00\\x00\\x00y\\x00\\x00\\x00a\\x00\\x00\\x00G\\x00\\x00\\x00x\\x00\\x00\\x00i\\x00\\x00\\x00R\\x00\\x00\\x003\\x00\\x00\\x00h\\x00\\x00\\x002\\x00\\x00\\x00U\\x00\\x00\\x00F\\x00\\x00\\x00h\\x00\\x00\\x00k\\x00\\x00\\x00d\\x00\\x00\\x00m\\x00\\x00\\x00N\\x00\\x00\\x00t\\x00\\x00\\x00e\\x00\\x00\\x00G\\x00\\x00\\x00t\\x00\\x00\\x00m\\x00\\x00\\x00U\\x00\\x00\\x00T\\x00\\x00\\x000\\x00\\x00\\x009&quot;}\\n'\n</code></pre>\n<p>My goal is to base64 encode the work_def which can be a very large nested json structure (I've just been using a mapOf(&quot;hello&quot; to &quot;world&quot;) for testing purposes) for the sake of preventing python from decoding it into a dict which I don't want it to do.  It is expensive and the server doesn't need to know the contents of the work_def, it just needs to pass on the request to another client.  I also want to avoid base64 encoding in memory on the client side as I don't want to use up additional bytes for a copy of the base64 encoded object.  I want to have the base64 encoding performed on the output stream to prevent additional overhead.</p>\n<p>Any help on what I am doing wrong or how this can be achieved would be much appreciated.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":4972685,"reputation":2505,"user_id":8098236,"accept_rate":100,"display_name":"Ian Rehwinkel"},"score":0,"creation_date":1511193564,"post_id":47396026,"comment_id":81745304,"body_markdown":"Does your problem lie in disabling the button in general, or is the problem, that you don&#39;t know when to call the disable-command?","body":"Does your problem lie in disabling the button in general, or is the problem, that you don&#39;t know when to call the disable-command?"},{"owner":{"account_id":3465438,"reputation":2658,"user_id":2901129,"accept_rate":100,"display_name":"Basil Battikhi"},"score":0,"creation_date":1511193670,"post_id":47396026,"comment_id":81745375,"body_markdown":"does the listener on mouse ? \nor on the button ?","body":"does the listener on mouse ?  or on the button ?"},{"owner":{"account_id":3465438,"reputation":2658,"user_id":2901129,"accept_rate":100,"display_name":"Basil Battikhi"},"score":0,"creation_date":1511193685,"post_id":47396026,"comment_id":81745389,"body_markdown":"it seems that your code will work fine","body":"it seems that your code will work fine"},{"owner":{"account_id":3251189,"reputation":1153,"user_id":2741395,"display_name":"grape_mao"},"score":0,"creation_date":1511193848,"post_id":47396026,"comment_id":81745497,"body_markdown":"The thing is, if `play()` is an asynchronous method, then you&#39;ll enable the button too early.","body":"The thing is, if <code>play()</code> is an asynchronous method, then you&#39;ll enable the button too early."},{"owner":{"account_id":7324784,"reputation":758,"user_id":5579519,"accept_rate":91,"display_name":"Jswq"},"score":0,"creation_date":1511194026,"post_id":47396026,"comment_id":81745597,"body_markdown":"@BasilBattikhi on the button &quot;jb1&quot;","body":"@BasilBattikhi on the button &quot;jb1&quot;"},{"owner":{"account_id":7324784,"reputation":758,"user_id":5579519,"accept_rate":91,"display_name":"Jswq"},"score":0,"creation_date":1511194236,"post_id":47396026,"comment_id":81745733,"body_markdown":"@grape_mao if I commont the play() and use    TimeUnit.SECONDS.sleep(3); It&#39;s the same .","body":"@grape_mao if I commont the play() and use    TimeUnit.SECONDS.sleep(3); It&#39;s the same ."},{"owner":{"account_id":3251189,"reputation":1153,"user_id":2741395,"display_name":"grape_mao"},"score":0,"creation_date":1511194550,"post_id":47396026,"comment_id":81745929,"body_markdown":"@Jaycee You mean you can still click on the button even it is disabled? Another way to do is set a flag when your task is running, and check this flag to see if you should run it. (this will only work when you can reset the flag at the end of the task.)","body":"@Jaycee You mean you can still click on the button even it is disabled? Another way to do is set a flag when your task is running, and check this flag to see if you should run it. (this will only work when you can reset the flag at the end of the task.)"}],"answers":[{"tags":[],"owner":{"account_id":9444583,"reputation":11,"user_id":7023834,"display_name":"Asen Nikolaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633127540,"creation_date":1511193712,"answer_id":47396155,"question_id":47396026,"body_markdown":"You should use `if` and check if the button is enabled before executing your code.\r\n\r\n      JButton source = (JButton) e.getSource();\r\n     if(source.isEnabled()) {\r\n                     .\r\n    .\r\n    . \r\n    execute your code","title":"Disable JButton after click and enable when it done it&#39;s job","body":"<p>You should use <code>if</code> and check if the button is enabled before executing your code.</p>\n<pre><code>  JButton source = (JButton) e.getSource();\n if(source.isEnabled()) {\n                 .\n.\n. \nexecute your code\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1511198083,"creation_date":1511194823,"answer_id":47396510,"question_id":47396026,"body_markdown":"Long running code should NOT execute on the Event Dispatch Thread (EDT). You need to start a separate Thread to do you HTTP request.\r\n\r\nThe easiest way to do this is to use a `SwingWorker`. You can disable the button before you start the worker and then the worker has a `done()` method that is invoked and you can enable the button.\r\n\r\nRead the section from the Swing tutorial on [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information about the EDT and a working example of a Swing worker.\r\n\r\nEdit:\r\n\r\nPeople seem confused about event handling. The listeners for an event are invoked before the next event is handled. So in the case of &quot;double clicking&quot; on the button. The button is disable on the first click and the long running task is started. The second click is then received on the disable button so the ActionListener is not invoked.\r\n\r\nHere is some old code I have lying around which was written before a SwingWorker existed. The basic logic for the &quot;Start in New Thread&quot; button is:\r\n\r\n1. disable the button so it can&#39;t be click while processing is happening\r\n2. simulate a long running task by looping 10 times and sleeping\r\n3. enable the button so the task can be done again\r\n\r\nHere is the code:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    /*\r\n    * A couple of notes about long running tasks and GUI updates:\r\n    *\r\n    * 1) all GUI painting should be done in the event thread\r\n    * 2) GUI painting is not done until the event thread processing is done\r\n    *\r\n    * This means that long running code (database access, file processing ...)\r\n    * should not be done in the event thread. A new thread can be created for\r\n    * these tasks.\r\n    *\r\n    * Most Swing methods are not thread safe. If the long running task needs\r\n    * to update the GUI for any reason then the SwingUtilities class\r\n    * should be used to add code to the event thread.\r\n    *\r\n    * See the Swing tutorial on &quot;Using Threads&quot; for more information\r\n    * http://java.sun.com/docs/books/tutorial/uiswing/misc/threads.html\r\n    */\r\n    public class InvokeLaterTest extends JFrame\r\n    \timplements ActionListener, Runnable\r\n    {\r\n    \tJLabel status;\r\n    \tJButton eventThread;\r\n    \tJButton newThread;\r\n    \tJButton stop;\r\n    \tThread thread;\r\n    \tint i;\r\n    \tboolean stopProcessing;\r\n    \r\n    \tpublic InvokeLaterTest()\r\n    \t{\r\n    \t\tstatus = new JLabel( &quot;Ready to Process:&quot; );\r\n    \t\tstatus.setHorizontalAlignment( JLabel.CENTER );\r\n    \t\tgetContentPane().add(status, BorderLayout.NORTH);\r\n    \r\n    \t\teventThread = new JButton( &quot;Start in Event Thread&quot; );\r\n    \t\teventThread.addActionListener( this );\r\n    \t\tgetContentPane().add(eventThread, BorderLayout.WEST);\r\n    \r\n    \t\tnewThread = new JButton( &quot;Start in New Thread&quot; );\r\n    \t\tnewThread.addActionListener( this );\r\n    \t\tgetContentPane().add(newThread, BorderLayout.EAST);\r\n    \r\n    \t\tstop = new JButton( &quot;Stop Processing&quot; );\r\n    \t\tstop.addActionListener( this );\r\n    \t\tgetContentPane().add(stop, BorderLayout.SOUTH);\r\n    \t}\r\n    \r\n    \tpublic void actionPerformed(ActionEvent e)\r\n    \t{\r\n    \t\t//  Code is executing in Event thread so label will not be updated\r\n    \t\t//  and the Stop button will not be enabled.\r\n    \r\n    \t\tif (e.getSource() == eventThread)\r\n    \t\t{\r\n    \t\t\tstopProcessing = false;\r\n    \t\t\trun();\r\n    \t\t}\r\n    \r\n    \t\t//  Code is executing in a new thread so label will be updated\r\n    \r\n    \t\telse if (e.getSource() == newThread)\r\n    \t\t{\r\n    \t\t\tstopProcessing = false;\r\n    \t\t\tthread = new Thread( this );\r\n    \t\t\tthread.start();\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tstopProcessing = true;\r\n    \t\t\tstatus.setText(&quot;Processing Stopped&quot;);\r\n    \t\t\tsetButtons( true );\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void run()\r\n    \t{\r\n    \t\tsetButtons( false );\r\n    \r\n    \t\tfor (i = 1; i &lt; 10; i++)\r\n    \t\t{\r\n    \t\t\tif ( stopProcessing ) return;\r\n    \r\n    \t\t\tSystem.out.println(&quot;ProcessingFile: &quot; + i);\r\n    \r\n    \t\t\t// SwingUtilities makes sure code is executed in the event thread.\r\n    \r\n    \t\t\tSwingUtilities.invokeLater(new Runnable()\r\n    \t\t\t{\r\n    \t\t\t\tpublic void run()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tstatus.setText(&quot;Processing File: &quot; + i);\r\n    \t\t\t\t\tstatus.paintImmediately(status.getBounds());\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\t// simulate log running task\r\n    \r\n    \t\t\ttry { Thread.sleep(1000); }\r\n    \t\t\tcatch (Exception e) {}\r\n    \t\t}\r\n    \r\n    \t\tSwingUtilities.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tstatus.setText(&quot;Finished Processing&quot;);\r\n    \t\t\t\tsetButtons( true );\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tprivate void setButtons(boolean value)\r\n    \t{\r\n    \t\teventThread.setEnabled( value );\r\n    \t\tnewThread.setEnabled( value );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tJFrame frame = new InvokeLaterTest();\r\n    \t\tframe.setDefaultCloseOperation( EXIT_ON_CLOSE );\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo( null );\r\n    \t\tframe.show();\r\n    \t}\r\n    }\r\n\r\nA SwingWorker is similar to the above logic but:\r\n\r\n1. you need to disable the button outside the SwingWorker\r\n2. the worker will create the Thread for you and execute the code\r\n3. when the worker is finished the `done()` method of the worker is invoked so you can enable the button.","title":"Disable JButton after click and enable when it done it&#39;s job","body":"<p>Long running code should NOT execute on the Event Dispatch Thread (EDT). You need to start a separate Thread to do you HTTP request.</p>\n\n<p>The easiest way to do this is to use a <code>SwingWorker</code>. You can disable the button before you start the worker and then the worker has a <code>done()</code> method that is invoked and you can enable the button.</p>\n\n<p>Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more information about the EDT and a working example of a Swing worker.</p>\n\n<p>Edit:</p>\n\n<p>People seem confused about event handling. The listeners for an event are invoked before the next event is handled. So in the case of \"double clicking\" on the button. The button is disable on the first click and the long running task is started. The second click is then received on the disable button so the ActionListener is not invoked.</p>\n\n<p>Here is some old code I have lying around which was written before a SwingWorker existed. The basic logic for the \"Start in New Thread\" button is:</p>\n\n<ol>\n<li>disable the button so it can't be click while processing is happening</li>\n<li>simulate a long running task by looping 10 times and sleeping</li>\n<li>enable the button so the task can be done again</li>\n</ol>\n\n<p>Here is the code:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\n/*\n* A couple of notes about long running tasks and GUI updates:\n*\n* 1) all GUI painting should be done in the event thread\n* 2) GUI painting is not done until the event thread processing is done\n*\n* This means that long running code (database access, file processing ...)\n* should not be done in the event thread. A new thread can be created for\n* these tasks.\n*\n* Most Swing methods are not thread safe. If the long running task needs\n* to update the GUI for any reason then the SwingUtilities class\n* should be used to add code to the event thread.\n*\n* See the Swing tutorial on \"Using Threads\" for more information\n* http://java.sun.com/docs/books/tutorial/uiswing/misc/threads.html\n*/\npublic class InvokeLaterTest extends JFrame\n    implements ActionListener, Runnable\n{\n    JLabel status;\n    JButton eventThread;\n    JButton newThread;\n    JButton stop;\n    Thread thread;\n    int i;\n    boolean stopProcessing;\n\n    public InvokeLaterTest()\n    {\n        status = new JLabel( \"Ready to Process:\" );\n        status.setHorizontalAlignment( JLabel.CENTER );\n        getContentPane().add(status, BorderLayout.NORTH);\n\n        eventThread = new JButton( \"Start in Event Thread\" );\n        eventThread.addActionListener( this );\n        getContentPane().add(eventThread, BorderLayout.WEST);\n\n        newThread = new JButton( \"Start in New Thread\" );\n        newThread.addActionListener( this );\n        getContentPane().add(newThread, BorderLayout.EAST);\n\n        stop = new JButton( \"Stop Processing\" );\n        stop.addActionListener( this );\n        getContentPane().add(stop, BorderLayout.SOUTH);\n    }\n\n    public void actionPerformed(ActionEvent e)\n    {\n        //  Code is executing in Event thread so label will not be updated\n        //  and the Stop button will not be enabled.\n\n        if (e.getSource() == eventThread)\n        {\n            stopProcessing = false;\n            run();\n        }\n\n        //  Code is executing in a new thread so label will be updated\n\n        else if (e.getSource() == newThread)\n        {\n            stopProcessing = false;\n            thread = new Thread( this );\n            thread.start();\n        }\n        else\n        {\n            stopProcessing = true;\n            status.setText(\"Processing Stopped\");\n            setButtons( true );\n        }\n    }\n\n    public void run()\n    {\n        setButtons( false );\n\n        for (i = 1; i &lt; 10; i++)\n        {\n            if ( stopProcessing ) return;\n\n            System.out.println(\"ProcessingFile: \" + i);\n\n            // SwingUtilities makes sure code is executed in the event thread.\n\n            SwingUtilities.invokeLater(new Runnable()\n            {\n                public void run()\n                {\n                    status.setText(\"Processing File: \" + i);\n                    status.paintImmediately(status.getBounds());\n                }\n            });\n\n            // simulate log running task\n\n            try { Thread.sleep(1000); }\n            catch (Exception e) {}\n        }\n\n        SwingUtilities.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                status.setText(\"Finished Processing\");\n                setButtons( true );\n            }\n        });\n    }\n\n    private void setButtons(boolean value)\n    {\n        eventThread.setEnabled( value );\n        newThread.setEnabled( value );\n    }\n\n    public static void main(String[] args)\n    {\n        JFrame frame = new InvokeLaterTest();\n        frame.setDefaultCloseOperation( EXIT_ON_CLOSE );\n        frame.pack();\n        frame.setLocationRelativeTo( null );\n        frame.show();\n    }\n}\n</code></pre>\n\n<p>A SwingWorker is similar to the above logic but:</p>\n\n<ol>\n<li>you need to disable the button outside the SwingWorker</li>\n<li>the worker will create the Thread for you and execute the code</li>\n<li>when the worker is finished the <code>done()</code> method of the worker is invoked so you can enable the button.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12006456,"reputation":104,"user_id":8784659,"display_name":"Ben Sch"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1511194850,"creation_date":1511194850,"answer_id":47396517,"question_id":47396026,"body_markdown":"    JButton source = (JButton) e.getSource();\r\n\r\n            if (source.isEnabled()) {\r\n                Executors.newSingleThreadScheduledExecutor().execute(() -&gt; {\r\n\r\n                        source.setEnabled(false);\r\n\r\n                        --your code here--\r\n\r\n                        source.setEnabled(true);\r\n                    }\r\n                );\r\n            }\r\n        };","title":"Disable JButton after click and enable when it done it&#39;s job","body":"<pre><code>JButton source = (JButton) e.getSource();\n\n        if (source.isEnabled()) {\n            Executors.newSingleThreadScheduledExecutor().execute(() -&gt; {\n\n                    source.setEnabled(false);\n\n                    --your code here--\n\n                    source.setEnabled(true);\n                }\n            );\n        }\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":392295,"reputation":146,"user_id":753468,"display_name":"Saran"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1511194965,"creation_date":1511194965,"answer_id":47396565,"question_id":47396026,"body_markdown":"Added a completedTime variable to hold the timestamp as when the action is complete, and every event has the time when it is generated, compare and return if it is less than the completed time\r\n\r\n\r\n     long completedTime;\r\n    \t\r\n    \tmouseListener = new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                    JButton source = (JButton) e.getSource();\r\n                    long timeStamp = e.getWhen();\r\n         \t   \r\n    \t        \t   if (timeStamp &lt; completedTime) {\r\n    \t        \t\t \r\n    \t        \t\t   System.out.println(&quot;returned&quot;);\r\n    \t        \t\t   return;\r\n    \t        \t   }\r\n                   // source.setEnabled(false);\r\n                    try {\r\n                        RequestCommon.ctbCookie = jtf.getText();\r\n                        System.out.println( RequestCommon.ctbCookie );\r\n                        HttpURLConnection connection = HttpURLConnectionBuilder.getConnection(RequestCommon.login, RequestCommon.getCtb888Headers());\r\n                        String connectionOuput = HttpURLConnectionBuilder.getConnectionOuput(connection);\r\n                        System.out.println(connectionOuput);\r\n                        new Player(new BufferedInputStream(new FileInputStream(new File(&quot;sounds/8.mp3&quot;)))).play();\r\n                    } catch (IOException e1) {\r\n                        e1.printStackTrace();\r\n                    } catch (JavaLayerException e1) {\r\n                        e1.printStackTrace();\r\n                    }\r\n                   // source.setEnabled(true);\r\n                    completedTime = System.currentTimeMillis();\r\n            }\r\n        };","title":"Disable JButton after click and enable when it done it&#39;s job","body":"<p>Added a completedTime variable to hold the timestamp as when the action is complete, and every event has the time when it is generated, compare and return if it is less than the completed time</p>\n\n<pre><code> long completedTime;\n\n    mouseListener = new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n                JButton source = (JButton) e.getSource();\n                long timeStamp = e.getWhen();\n\n                   if (timeStamp &lt; completedTime) {\n\n                       System.out.println(\"returned\");\n                       return;\n                   }\n               // source.setEnabled(false);\n                try {\n                    RequestCommon.ctbCookie = jtf.getText();\n                    System.out.println( RequestCommon.ctbCookie );\n                    HttpURLConnection connection = HttpURLConnectionBuilder.getConnection(RequestCommon.login, RequestCommon.getCtb888Headers());\n                    String connectionOuput = HttpURLConnectionBuilder.getConnectionOuput(connection);\n                    System.out.println(connectionOuput);\n                    new Player(new BufferedInputStream(new FileInputStream(new File(\"sounds/8.mp3\")))).play();\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                } catch (JavaLayerException e1) {\n                    e1.printStackTrace();\n                }\n               // source.setEnabled(true);\n                completedTime = System.currentTimeMillis();\n        }\n    };\n</code></pre>\n"}],"owner":{"account_id":7324784,"reputation":758,"user_id":5579519,"accept_rate":91,"display_name":"Jswq"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3939,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":47396510,"answer_count":4,"score":1,"last_activity_date":1633127540,"creation_date":1511193343,"question_id":47396026,"body_markdown":"I have a JButton which has an ActionListener, which does its job as many times as I click it. Below is my code:\r\n\r\n       mouseListener = new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                    JButton source = (JButton) e.getSource();\r\n                    source.setEnabled(false);\r\n                    try {\r\n                        RequestCommon.ctbCookie = jtf.getText();\r\n                        System.out.println(RequestCommon.ctbCookie);\r\n                        HttpURLConnection connection = HttpURLConnectionBuilder.getConnection(RequestCommon.login, RequestCommon.getCtb888Headers());\r\n                        String connectionOuput = HttpURLConnectionBuilder.getConnectionOuput(connection);\r\n                        System.out.println(connectionOuput);\r\n                        new Player(new BufferedInputStream(new FileInputStream(new File(&quot;sounds/8.mp3&quot;)))).play();\r\n                    } catch (IOException e1) {\r\n                        e1.printStackTrace();\r\n                    } catch (JavaLayerException e1) {\r\n                        e1.printStackTrace();\r\n                    }\r\n                    source.setEnabled(true);\r\n            }\r\n        }\r\n        jb1.addActionListener(mouseListener);\r\n\r\nI want it so that no matter how many times I click while the job is running it won&#39;t execute again. When the job is done, if I click again, the job will run again. I don&#39;t know how to do that, please tell me if you know, thanks!","title":"Disable JButton after click and enable when it done it&#39;s job","body":"<p>I have a JButton which has an ActionListener, which does its job as many times as I click it. Below is my code:</p>\n<pre><code>   mouseListener = new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n                JButton source = (JButton) e.getSource();\n                source.setEnabled(false);\n                try {\n                    RequestCommon.ctbCookie = jtf.getText();\n                    System.out.println(RequestCommon.ctbCookie);\n                    HttpURLConnection connection = HttpURLConnectionBuilder.getConnection(RequestCommon.login, RequestCommon.getCtb888Headers());\n                    String connectionOuput = HttpURLConnectionBuilder.getConnectionOuput(connection);\n                    System.out.println(connectionOuput);\n                    new Player(new BufferedInputStream(new FileInputStream(new File(&quot;sounds/8.mp3&quot;)))).play();\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                } catch (JavaLayerException e1) {\n                    e1.printStackTrace();\n                }\n                source.setEnabled(true);\n        }\n    }\n    jb1.addActionListener(mouseListener);\n</code></pre>\n<p>I want it so that no matter how many times I click while the job is running it won't execute again. When the job is done, if I click again, the job will run again. I don't know how to do that, please tell me if you know, thanks!</p>\n"},{"tags":["java","spring-boot","kubernetes","fabric8"],"comments":[{"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"score":0,"creation_date":1622048039,"post_id":67708080,"comment_id":119680192,"body_markdown":"Have you tried setting `kubeconfig` system property ?","body":"Have you tried setting <code>kubeconfig</code> system property ?"}],"answers":[{"tags":[],"owner":{"account_id":1365439,"reputation":2068,"user_id":1301970,"accept_rate":90,"display_name":"reith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633127424,"creation_date":1622043640,"answer_id":67708276,"question_id":67708080,"body_markdown":"The `Config` class, which you&#39;ve already found, has many setters to override specific settings; but it looks you want load config from another path. In that case, you can use [fromKubeconfig][1] method.\r\n\r\n[1]: https://www.javadoc.io/doc/io.fabric8/kubernetes-client/4.1.2/io/fabric8/kubernetes/client/Config.html#fromKubeconfig-java.lang.String-\r\n\r\n```java\r\nFile file = ResourceUtils.getFile(&quot;classpath:kubernetes_config&quot;);\r\n\t\r\nString kubeconfigContents = Files.readString(file.toPath());\r\nConfig config = Config.fromKubeconfig(kubeconfigContents);\r\n\r\ntry (KubernetesClient k8s = new DefaultKubernetesClient(config)) {\r\n\r\n\tNodeMetricsList nodeMetricsList = k8s.top().nodes().metrics();\r\n\tfor (NodeMetrics nodeMetrics : nodeMetricsList.getItems()) {\t\t\r\n\t\tSystem.out.println(nodeMetrics.getMetadata().getName());\r\n\t\tSystem.out.println(nodeMetrics.getUsage().get(&quot;cpu&quot;));\r\n\t\tSystem.out.println(nodeMetrics.getUsage().get(&quot;memory&quot;));\r\n\t}\r\n}\r\n```","title":"How to override default kubernetes config file using java io.fabric8 kubernetes-client library","body":"<p>The <code>Config</code> class, which you've already found, has many setters to override specific settings; but it looks you want load config from another path. In that case, you can use <a href=\"https://www.javadoc.io/doc/io.fabric8/kubernetes-client/4.1.2/io/fabric8/kubernetes/client/Config.html#fromKubeconfig-java.lang.String-\" rel=\"nofollow noreferrer\">fromKubeconfig</a> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = ResourceUtils.getFile(&quot;classpath:kubernetes_config&quot;);\n    \nString kubeconfigContents = Files.readString(file.toPath());\nConfig config = Config.fromKubeconfig(kubeconfigContents);\n\ntry (KubernetesClient k8s = new DefaultKubernetesClient(config)) {\n\n    NodeMetricsList nodeMetricsList = k8s.top().nodes().metrics();\n    for (NodeMetrics nodeMetrics : nodeMetricsList.getItems()) {        \n        System.out.println(nodeMetrics.getMetadata().getName());\n        System.out.println(nodeMetrics.getUsage().get(&quot;cpu&quot;));\n        System.out.println(nodeMetrics.getUsage().get(&quot;memory&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10558366,"reputation":70,"user_id":7778821,"display_name":"shanees mk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67708276,"answer_count":1,"score":0,"last_activity_date":1633127424,"creation_date":1622042955,"question_id":67708080,"body_markdown":"    \r\n     import java.io.File;\r\n     import org.springframework.util.ResourceUtils;\r\n     import io.fabric8.kubernetes.api.model.metrics.v1beta1.NodeMetrics;\r\n     import io.fabric8.kubernetes.api.model.metrics.v1beta1.NodeMetricsList;\r\n     import io.fabric8.kubernetes.client.Config;\r\n     import io.fabric8.kubernetes.client.DefaultKubernetesClient;\r\n     import io.fabric8.kubernetes.client.KubernetesClient;\r\n\r\n    public class Tdd {\r\n\r\n\t public static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\tFile file=ResourceUtils.getFile(&quot;classpath:kubernetes_config&quot;);\r\n\t\t\r\n\t\tConfig config=Config.autoConfigure(file.getAbsolutePath());\r\n\t\t\r\n\t\ttry (KubernetesClient k8s = new DefaultKubernetesClient(config)) {\r\n\r\n\t\t\tNodeMetricsList nodeMetricsList = k8s.top().nodes().metrics();\r\n\t\t\tfor (NodeMetrics nodeMetrics : nodeMetricsList.getItems()) {\t\t\r\n\t\t\t\tSystem.out.println(nodeMetrics.getMetadata().getName());\r\n\t\t\t\tSystem.out.println(nodeMetrics.getUsage().get(&quot;cpu&quot;));\r\n\t\t\t\tSystem.out.println(nodeMetrics.getUsage().get(&quot;memory&quot;));\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t }\r\n\r\n    }\r\n\r\n\r\n\r\nwhen I try to override kubernetes config file it will not be working,&lt;br&gt;\r\nit is looking &quot;.kube/config&quot; file.&lt;br&gt;\r\nI have added a config file inside my project,&lt;br&gt;\r\nI want to use my customize config file.&lt;br&gt;\r\nhow can I do it?\r\n","title":"How to override default kubernetes config file using java io.fabric8 kubernetes-client library","body":"<pre><code> import java.io.File;\n import org.springframework.util.ResourceUtils;\n import io.fabric8.kubernetes.api.model.metrics.v1beta1.NodeMetrics;\n import io.fabric8.kubernetes.api.model.metrics.v1beta1.NodeMetricsList;\n import io.fabric8.kubernetes.client.Config;\n import io.fabric8.kubernetes.client.DefaultKubernetesClient;\n import io.fabric8.kubernetes.client.KubernetesClient;\n\npublic class Tdd {\n\n public static void main(String[] args) throws Exception {\n    \n    File file=ResourceUtils.getFile(&quot;classpath:kubernetes_config&quot;);\n    \n    Config config=Config.autoConfigure(file.getAbsolutePath());\n    \n    try (KubernetesClient k8s = new DefaultKubernetesClient(config)) {\n\n        NodeMetricsList nodeMetricsList = k8s.top().nodes().metrics();\n        for (NodeMetrics nodeMetrics : nodeMetricsList.getItems()) {        \n            System.out.println(nodeMetrics.getMetadata().getName());\n            System.out.println(nodeMetrics.getUsage().get(&quot;cpu&quot;));\n            System.out.println(nodeMetrics.getUsage().get(&quot;memory&quot;));\n            \n        }\n    }\n\n }\n\n}\n</code></pre>\n<p>when I try to override kubernetes config file it will not be working,<br>\nit is looking &quot;.kube/config&quot; file.<br>\nI have added a config file inside my project,<br>\nI want to use my customize config file.<br>\nhow can I do it?</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633126736,"creation_date":1633126736,"answer_id":69412466,"question_id":69410418,"body_markdown":"You need to configure Mockito so that mocking final classes and methods is possible. To achieve this you need to add a text file named `org.mockito.plugins.MockMaker` to your project `src/test/resources/mockito-extensions` directory. It should include a single line of text as follows: `mock-maker-inline`.","title":"Mock final method in superclass","body":"<p>You need to configure Mockito so that mocking final classes and methods is possible. To achieve this you need to add a text file named <code>org.mockito.plugins.MockMaker</code> to your project <code>src/test/resources/mockito-extensions</code> directory. It should include a single line of text as follows: <code>mock-maker-inline</code>.</p>\n"}],"owner":{"account_id":4260320,"reputation":608,"user_id":3484844,"accept_rate":36,"display_name":"Yellowjacket"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69412466,"answer_count":1,"score":0,"last_activity_date":1633126736,"creation_date":1633112411,"question_id":69410418,"body_markdown":"I am creating a new service &#39;MyService&#39; that extends [AbstractScheduledService](https://guava.dev/releases/19.0/api/docs/com/google/common/util/concurrent/AbstractScheduledService.html) and MyService inherits a final method *isRunning()* from it.\r\n```\r\npublic class MyService extends AbstractScheduledService {}\r\n```\r\nI also have a health check for &#39;MyService&#39; that invokes *isRunning()* to see if &#39;MyService&#39; is healthy.\r\n\r\n```\r\npublic class MyServiceHealthcheck {\r\n       MyService myService;\r\n       \r\n       @Inject\r\n       public MyServiceHealthCheck(MyService myService) {\r\n          this.myService = myService;\r\n       }\r\n\r\n       public boolean isHealthy() {\r\n          return myService.isRunning();\r\n       }\r\n}\r\n```\r\n\r\nAnd finally, I am trying to create unit test &#39;MyServiceHealthcheckTest&#39; for testing MyServiceHealthcheck\r\n```\r\npublic class MyServiceHealthcheckTest {\r\n       @Mock MyService myService;\r\n}\r\n``` \r\nThe mock is initialized properly and I&#39;m able to get expected value for methods defined in MyService but *myService.isRunning()* always returns a NullPointerException. What is the best way to mock *isRunning()* method?\r\n","title":"Mock final method in superclass","body":"<p>I am creating a new service 'MyService' that extends <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/util/concurrent/AbstractScheduledService.html\" rel=\"nofollow noreferrer\">AbstractScheduledService</a> and MyService inherits a final method <em>isRunning()</em> from it.</p>\n<pre><code>public class MyService extends AbstractScheduledService {}\n</code></pre>\n<p>I also have a health check for 'MyService' that invokes <em>isRunning()</em> to see if 'MyService' is healthy.</p>\n<pre><code>public class MyServiceHealthcheck {\n       MyService myService;\n       \n       @Inject\n       public MyServiceHealthCheck(MyService myService) {\n          this.myService = myService;\n       }\n\n       public boolean isHealthy() {\n          return myService.isRunning();\n       }\n}\n</code></pre>\n<p>And finally, I am trying to create unit test 'MyServiceHealthcheckTest' for testing MyServiceHealthcheck</p>\n<pre><code>public class MyServiceHealthcheckTest {\n       @Mock MyService myService;\n}\n</code></pre>\n<p>The mock is initialized properly and I'm able to get expected value for methods defined in MyService but <em>myService.isRunning()</em> always returns a NullPointerException. What is the best way to mock <em>isRunning()</em> method?</p>\n"},{"tags":["c#","java","coding-style"],"comments":[{"owner":{"account_id":37175,"reputation":706108,"user_id":106224,"accept_rate":96,"display_name":"BoltClock"},"score":0,"creation_date":1316676126,"post_id":7511015,"comment_id":9096198,"body_markdown":"Since methods can return boolean values anyway, why not?","body":"Since methods can return boolean values anyway, why not?"}],"answers":[{"tags":[],"owner":{"account_id":453244,"reputation":5446,"user_id":850138,"accept_rate":57,"display_name":"Daryl Teo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1316676062,"creation_date":1316676062,"answer_id":7511035,"question_id":7511015,"body_markdown":"I think this is fine.\r\n\r\nEven better is if you phrase your methods like a question, or flows with the if statement\r\n\r\n    if (thisConditionIsTrue()){\r\n        // Do this\r\n    }elseif(anotherConditionIsTrue()){\r\n        // Do this instead\r\n    }elseif(isThisParameterOkay(someParameter)){\r\n        // Yeh do this\r\n    }\r\n\r\nSome hardcore purists will even say that if you have &gt; 3 levels of indentation, your method is too nested and should be split into smaller methods.","title":"Is it considered readable to call methods inside the IF condition?","body":"<p>I think this is fine.</p>\n\n<p>Even better is if you phrase your methods like a question, or flows with the if statement</p>\n\n<pre><code>if (thisConditionIsTrue()){\n    // Do this\n}elseif(anotherConditionIsTrue()){\n    // Do this instead\n}elseif(isThisParameterOkay(someParameter)){\n    // Yeh do this\n}\n</code></pre>\n\n<p>Some hardcore purists will even say that if you have > 3 levels of indentation, your method is too nested and should be split into smaller methods.</p>\n"},{"tags":[],"owner":{"account_id":174088,"reputation":4794,"user_id":403234,"accept_rate":89,"display_name":"yas4891"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1316678424,"creation_date":1316676135,"answer_id":7511052,"question_id":7511015,"body_markdown":"Doing this is IMHO good coding practice **as long as** the method calls don&#39;t have any side effects.\r\n\r\n\r\ne.g.\r\n\r\nif `checkIfIdInFirstRange()` this is OK:\r\n\r\n    private bool checkIfIdInFirstRange()\r\n    {\r\n      return firstRange.Contains(ID);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nBut doing this might create confusion:\r\n\r\n    private bool checkIfIdInFirstRange()\r\n    {\r\n      SomeStringProperty = &quot;totally new value that no caller would ever expect after a call to this method&quot;;\r\n    \r\n      return firstRange.Contains(ID);\r\n    }\r\n\r\n---\r\nAnother possible solution - depending on the actual type of your problem at hand - could be to define an interface / base class and use polymorphism. \r\n\r\n**example:**\r\n\r\n    internal abstract class A\r\n    {\r\n      public void DoSomething(int ID)\r\n      { \r\n         if(IsInRange(ID))\r\n           DoSomethingProtected(ID);\r\n      }\r\n    \r\n      protected abstract bool IsInRange(int ID);\r\n    \r\n      protected abstract void DoSomethingProtected(int ID);\r\n    }\r\n    \r\n    \r\n    internal class B : A\r\n    {\r\n      private List&lt;int&gt; firstRange = new List&lt;int&gt; { 42, 23, 5};\r\n      protected override bool IsInRange(int ID)\r\n      {\r\n         return firstRange.Contains(ID); \r\n      }\r\n      protected override void DoSomethingProtected(int ID)\r\n      {\r\n        Console.WriteLine(&quot;{0}&quot;, ID);\r\n      } \r\n    }\r\n    \r\n    \r\n    public class Program\r\n    {\r\n      public static void Main(string[] args)\r\n      {\r\n         B foo = new B();\r\n         foo.DoSomething(3);\r\n         foo.DoSomething(42);\r\n      }\r\n    }\r\n\r\n\r\nCAUTION: code written without IDE to hand. ","title":"Is it considered readable to call methods inside the IF condition?","body":"<p>Doing this is IMHO good coding practice <strong>as long as</strong> the method calls don't have any side effects.</p>\n\n<p>e.g.</p>\n\n<p>if <code>checkIfIdInFirstRange()</code> this is OK:</p>\n\n<pre><code>private bool checkIfIdInFirstRange()\n{\n  return firstRange.Contains(ID);\n}\n</code></pre>\n\n<p>But doing this might create confusion:</p>\n\n<pre><code>private bool checkIfIdInFirstRange()\n{\n  SomeStringProperty = \"totally new value that no caller would ever expect after a call to this method\";\n\n  return firstRange.Contains(ID);\n}\n</code></pre>\n\n<hr>\n\n<p>Another possible solution - depending on the actual type of your problem at hand - could be to define an interface / base class and use polymorphism. </p>\n\n<p><strong>example:</strong></p>\n\n<pre><code>internal abstract class A\n{\n  public void DoSomething(int ID)\n  { \n     if(IsInRange(ID))\n       DoSomethingProtected(ID);\n  }\n\n  protected abstract bool IsInRange(int ID);\n\n  protected abstract void DoSomethingProtected(int ID);\n}\n\n\ninternal class B : A\n{\n  private List&lt;int&gt; firstRange = new List&lt;int&gt; { 42, 23, 5};\n  protected override bool IsInRange(int ID)\n  {\n     return firstRange.Contains(ID); \n  }\n  protected override void DoSomethingProtected(int ID)\n  {\n    Console.WriteLine(\"{0}\", ID);\n  } \n}\n\n\npublic class Program\n{\n  public static void Main(string[] args)\n  {\n     B foo = new B();\n     foo.DoSomething(3);\n     foo.DoSomething(42);\n  }\n}\n</code></pre>\n\n<p>CAUTION: code written without IDE to hand. </p>\n"},{"tags":[],"owner":{"account_id":486225,"reputation":16684,"user_id":903010,"accept_rate":100,"display_name":"Michael Frederick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316676139,"creation_date":1316676139,"answer_id":7511054,"question_id":7511015,"body_markdown":"Eh, it&#39;s mostly up to the coder but declaring the int is a bit more readable.","title":"Is it considered readable to call methods inside the IF condition?","body":"<p>Eh, it's mostly up to the coder but declaring the int is a bit more readable.</p>\n"},{"tags":[],"owner":{"account_id":400328,"reputation":4822,"user_id":766241,"accept_rate":75,"display_name":"ojlovecd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316676224,"creation_date":1316676224,"answer_id":7511073,"question_id":7511015,"body_markdown":"It&#39;s OK to write methods in the IF condition statement. But if the method will be used more than one time, you should first use a local variable to store the return value and use the variable as the IF condition","title":"Is it considered readable to call methods inside the IF condition?","body":"<p>It's OK to write methods in the IF condition statement. But if the method will be used more than one time, you should first use a local variable to store the return value and use the variable as the IF condition</p>\n"},{"tags":[],"owner":{"account_id":250063,"reputation":292790,"user_id":526535,"accept_rate":85,"display_name":"manojlds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316676231,"creation_date":1316676231,"answer_id":7511074,"question_id":7511015,"body_markdown":"You can aim at writing function / method names that will make the code more readable where they are used. Like:\r\n\r\n    if (idInFirstRange()){\r\n        //call Range1 handling method\r\n    }else if(idInSecondRange()){\r\n        //call Range2 handling method\r\n    }else{\r\n\r\nAlso, usual convention for functions returning bool is that they start with `is` - `isIdInFirstRange`\r\n\r\nLastly, try avoiding such if-else ( and switch ) ladder. Try to use Dictionaries in such cases. ( https://stackoverflow.com/questions/6506340/if-if-else-or-switch-case/6506403#6506403 )","title":"Is it considered readable to call methods inside the IF condition?","body":"<p>You can aim at writing function / method names that will make the code more readable where they are used. Like:</p>\n\n<pre><code>if (idInFirstRange()){\n    //call Range1 handling method\n}else if(idInSecondRange()){\n    //call Range2 handling method\n}else{\n</code></pre>\n\n<p>Also, usual convention for functions returning bool is that they start with <code>is</code> - <code>isIdInFirstRange</code></p>\n\n<p>Lastly, try avoiding such if-else ( and switch ) ladder. Try to use Dictionaries in such cases. ( <a href=\"https://stackoverflow.com/questions/6506340/if-if-else-or-switch-case/6506403#6506403\">https://stackoverflow.com/questions/6506340/if-if-else-or-switch-case/6506403#6506403</a> )</p>\n"},{"tags":[],"owner":{"account_id":62350,"reputation":2885,"user_id":185316,"display_name":"six8"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1316676408,"creation_date":1316676408,"answer_id":7511108,"question_id":7511015,"body_markdown":"Yes. It would be much more readable if you used just a little whitespace. Bunching it up like that makes it hard to tell where things begin and end and makes `else if()` look like a function call. \r\n\r\n    if ( checkIfIdInFirstRange() ) {\r\n        //call Range1 handling method\r\n    } \r\n    else if ( checkIfIdInSecondRange() ) {\r\n        //call Range2 handling method\r\n    }\r\n    else {\r\n        //call error handling method\r\n    }\r\n\r\nMaking the extra variable is likely to make code harder to read since you have to define them all before the if/else stack. However, it all depends on the case. Sometimes it might be better to use a variable if you will be using an expensive function many times or if you can make the variable have a more descriptive name than the function.","title":"Is it considered readable to call methods inside the IF condition?","body":"<p>Yes. It would be much more readable if you used just a little whitespace. Bunching it up like that makes it hard to tell where things begin and end and makes <code>else if()</code> look like a function call. </p>\n\n<pre><code>if ( checkIfIdInFirstRange() ) {\n    //call Range1 handling method\n} \nelse if ( checkIfIdInSecondRange() ) {\n    //call Range2 handling method\n}\nelse {\n    //call error handling method\n}\n</code></pre>\n\n<p>Making the extra variable is likely to make code harder to read since you have to define them all before the if/else stack. However, it all depends on the case. Sometimes it might be better to use a variable if you will be using an expensive function many times or if you can make the variable have a more descriptive name than the function.</p>\n"},{"tags":[],"owner":{"account_id":111693,"reputation":7604,"user_id":294918,"accept_rate":83,"display_name":"Aurelien Ribon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1316676970,"creation_date":1316676970,"answer_id":7511204,"question_id":7511015,"body_markdown":"Actually it is also required if you want to test multiple methods and use short-circuit evaluation.\r\n\r\nFor instance, this is safe:  \r\n\r\n    if (isResourceAvailable() &amp;&amp; isResourceValid()) {\r\n        ...\r\n    }\r\n\r\nwhile this may no be:\r\n\r\n    bool resAvailable = isResourceAvailable();\r\n    bool resValid = isResourceValid(); // can you call that alone?\r\n    \r\n    if (resAvailable  &amp;&amp; resValid ) {\r\n        ...\r\n    }","title":"Is it considered readable to call methods inside the IF condition?","body":"<p>Actually it is also required if you want to test multiple methods and use short-circuit evaluation.</p>\n\n<p>For instance, this is safe:  </p>\n\n<pre><code>if (isResourceAvailable() &amp;&amp; isResourceValid()) {\n    ...\n}\n</code></pre>\n\n<p>while this may no be:</p>\n\n<pre><code>bool resAvailable = isResourceAvailable();\nbool resValid = isResourceValid(); // can you call that alone?\n\nif (resAvailable  &amp;&amp; resValid ) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1316678480,"creation_date":1316678480,"answer_id":7511497,"question_id":7511015,"body_markdown":"It is good style as long as the methods you call don&#39;t just do something that would be clearer if it was coded in place:\r\n\r\n    if ( a &gt; 0 &amp;&amp; a &lt; 10 ) doSomething();\r\n\r\nis better than\r\n\r\n    if ( isInRange(a, 0, 10) ) doSomething();","title":"Is it considered readable to call methods inside the IF condition?","body":"<p>It is good style as long as the methods you call don't just do something that would be clearer if it was coded in place:</p>\n\n<pre><code>if ( a &gt; 0 &amp;&amp; a &lt; 10 ) doSomething();\n</code></pre>\n\n<p>is better than</p>\n\n<pre><code>if ( isInRange(a, 0, 10) ) doSomething();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7330741,"reputation":71,"user_id":5583728,"display_name":"Laercio Barbosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633125709,"creation_date":1633125709,"answer_id":69412361,"question_id":7511015,"body_markdown":"Although this practice is not wrong or condemned by any best practices guidelines, if you have more than one call within _if **condition**_ it can be a bit difficult to know which call refused to enter _if **statement**_ during a debug session.\r\n\r\n\r\n```\r\nif (idInFirstRange() &amp;&amp; idInSecondRange()){\r\n    //call Range handling method\r\n    //if didn&#39;t reach this point, who was the responsible (idInFirstRange or idInSecondRange)? \r\n}else if(idInSecondRange()){\r\n    //call Range2 handling method\r\n}else{\r\n    //call something else\r\n}\r\n```\r\n","title":"Is it considered readable to call methods inside the IF condition?","body":"<p>Although this practice is not wrong or condemned by any best practices guidelines, if you have more than one call within <em>if <strong>condition</strong></em> it can be a bit difficult to know which call refused to enter <em>if <strong>statement</strong></em> during a debug session.</p>\n<pre><code>if (idInFirstRange() &amp;&amp; idInSecondRange()){\n    //call Range handling method\n    //if didn't reach this point, who was the responsible (idInFirstRange or idInSecondRange)? \n}else if(idInSecondRange()){\n    //call Range2 handling method\n}else{\n    //call something else\n}\n</code></pre>\n"}],"owner":{"account_id":72159,"reputation":9614,"user_id":208446,"accept_rate":89,"display_name":"mohdajami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2413,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1634978342,"accepted_answer_id":7511035,"answer_count":9,"score":0,"last_activity_date":1633125709,"creation_date":1316676001,"question_id":7511015,"body_markdown":"Is this way of writing IF conditions considered good coding style in Java and C# languages or not?\r\n\r\n    if (checkIfIdInFirstRange()){\r\n        //call Range1 handling method\r\n    }else if(checkIfIdInSecondRange()){\r\n        //call Range2 handling method\r\n    }else{\r\n        //call error handling method\r\n    }\r\n\r\nI&#39;m wondering about the method inside the IF condition itself, or would it be better to make it like:\r\n\r\n    int idInRange = getIdInRange();\r\n    //handle isInRange","title":"Is it considered readable to call methods inside the IF condition?","body":"<p>Is this way of writing IF conditions considered good coding style in Java and C# languages or not?</p>\n\n<pre><code>if (checkIfIdInFirstRange()){\n    //call Range1 handling method\n}else if(checkIfIdInSecondRange()){\n    //call Range2 handling method\n}else{\n    //call error handling method\n}\n</code></pre>\n\n<p>I'm wondering about the method inside the IF condition itself, or would it be better to make it like:</p>\n\n<pre><code>int idInRange = getIdInRange();\n//handle isInRange\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1633125857,"post_id":69412355,"comment_id":122686294,"body_markdown":"This &quot;As I understand, the executable JAR should contain all support libraries.&quot; is obviously incorrect.","body":"This &quot;As I understand, the executable JAR should contain all support libraries.&quot; is obviously incorrect."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1633125869,"post_id":69412355,"comment_id":122686295,"body_markdown":"Please do not include images of text in a question.  Text should be present in a question as a text block.","body":"Please do not include images of text in a question.  Text should be present in a question as a text block."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1633125880,"post_id":69412355,"comment_id":122686297,"body_markdown":"Your class path is probably not what you think it is.","body":"Your class path is probably not what you think it is."},{"owner":{"account_id":9676064,"reputation":101,"user_id":7179524,"display_name":"S P"},"score":0,"creation_date":1633126418,"post_id":69412355,"comment_id":122686414,"body_markdown":"@Thorbj&#248;rn Ravn Andersen - All libraries are in the same folder and that&#39;s how they are referred to in Eclipse (project &gt; Build Path).  So, I am not sure I understand your comment.","body":"@Thorbj&#248;rn Ravn Andersen - All libraries are in the same folder and that&#39;s how they are referred to in Eclipse (project &gt; Build Path).  So, I am not sure I understand your comment."},{"owner":{"account_id":9676064,"reputation":101,"user_id":7179524,"display_name":"S P"},"score":0,"creation_date":1633126589,"post_id":69412355,"comment_id":122686436,"body_markdown":"@SiKing - I relied on Eclipse to include all libraries when I checked the option for &quot;Package required libraries into generated JAR&quot; for library handling. An option to selectively add libraries is not presented in the export process.","body":"@SiKing - I relied on Eclipse to include all libraries when I checked the option for &quot;Package required libraries into generated JAR&quot; for library handling. An option to selectively add libraries is not presented in the export process."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1633126805,"post_id":69412355,"comment_id":122686474,"body_markdown":"You need to provide a class path at runtime too or use the one inside the jar with `-jar`","body":"You need to provide a class path at runtime too or use the one inside the jar with <code>-jar</code>"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1633126818,"post_id":69412355,"comment_id":122686478,"body_markdown":"What vendor/version of Java do you have on the build machine and on the runtime machine? Not a duplicate, but have a read here https://stackoverflow.com/q/727844/3124333","body":"What vendor/version of Java do you have on the build machine and on the runtime machine? Not a duplicate, but have a read here <a href=\"https://stackoverflow.com/q/727844/3124333\">stackoverflow.com/q/727844/3124333</a>"},{"owner":{"account_id":9676064,"reputation":101,"user_id":7179524,"display_name":"S P"},"score":0,"creation_date":1633355150,"post_id":69412355,"comment_id":122730386,"body_markdown":"@SiKing - I am using Open JDK 8","body":"@SiKing - I am using Open JDK 8"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1633429552,"post_id":69412355,"comment_id":122751608,"body_markdown":"Do you understand what the classpath is and how it works?    Including the fact that _nothing_ automatically saves your classpath at build time for later?","body":"Do you understand what the classpath is and how it works?    Including the fact that <i>nothing</i> automatically saves your classpath at build time for later?"},{"owner":{"account_id":9676064,"reputation":101,"user_id":7179524,"display_name":"S P"},"score":0,"creation_date":1633456512,"post_id":69412355,"comment_id":122763195,"body_markdown":"@Thorbj&#248;rn Ravn Andersen:   Yes, and yes.   On the command to run the executable jar, the classpath is set to include the correct path to the library in question.","body":"@Thorbj&#248;rn Ravn Andersen:   Yes, and yes.   On the command to run the executable jar, the classpath is set to include the correct path to the library in question."}],"owner":{"account_id":9676064,"reputation":101,"user_id":7179524,"display_name":"S P"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633125628,"creation_date":1633125628,"question_id":69412355,"body_markdown":"The Java class was not found when the application was run on a test laptop.  The following exception was thrown:\r\n[![screenshot of the exception][1]][1]\r\n\r\nThe test is run from an executable JAR file that was created in Eclipse on the development laptop.  As I understand, the executable JAR should contain all support libraries. \r\n\r\nWhen I run the executable JAR from the development laptop, I don&#39;t encounter the exception.  It is encountered on the test system only.  That&#39;s what is difficult to understand.\r\n\r\nSecondly, I downloaded and added reference to activation-1.1.1.jar in the build path - but it did not help.  The same exception is thrown.\r\n\r\nSo, I am scratching my head and looking for experts&#39; help :)\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nRtH3.png","title":"Class javax.activation.DataSource not found","body":"<p>The Java class was not found when the application was run on a test laptop.  The following exception was thrown:\n<a href=\"https://i.stack.imgur.com/nRtH3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nRtH3.png\" alt=\"screenshot of the exception\" /></a></p>\n<p>The test is run from an executable JAR file that was created in Eclipse on the development laptop.  As I understand, the executable JAR should contain all support libraries.</p>\n<p>When I run the executable JAR from the development laptop, I don't encounter the exception.  It is encountered on the test system only.  That's what is difficult to understand.</p>\n<p>Secondly, I downloaded and added reference to activation-1.1.1.jar in the build path - but it did not help.  The same exception is thrown.</p>\n<p>So, I am scratching my head and looking for experts' help :)</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","fragment","settings"],"comments":[{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1633121290,"post_id":69411586,"comment_id":122685237,"body_markdown":"Can you add your `SettingsFragment`? Thanks","body":"Can you add your <code>SettingsFragment</code>? Thanks"},{"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"score":0,"creation_date":1633121757,"post_id":69411586,"comment_id":122685368,"body_markdown":"@akhilnair Done.","body":"@akhilnair Done."}],"answers":[{"tags":[],"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633124927,"creation_date":1633123687,"answer_id":69412134,"question_id":69411586,"body_markdown":"I guess the problem here is that Fragment doesn&#39;t have a default constructor. Creating a parametrized constructor hides the default constructor. Also its not recommended to create a parametrized constructor. \r\n\r\n&gt; All subclasses of Fragment must include a public no-argument constructor. The framework will often re-instantiate a fragment class when needed, in particular during state restore, and needs to be able to find this constructor to instantiate it. If the no-argument constructor is not available, a runtime exception will occur in some cases during state restore. Arguments can be supplied by the caller with setArguments(Bundle) and later retrieved by the Fragment with getArguments().\r\n\r\nTo fix the problem\r\n\r\n 1. Remove the current parametrized constructor in the `SettingsFragment`\r\n 2. Add a no-arg constructor as follows:\r\n\r\n    `public SettingsFragment(){}`\r\n\r\nIts also not a good idea to pass activity reference to the fragment. A newer alternative to communicate between an Activity and a Fragment, thus allowing that the Fragment can have an empty constructor would be the use of ViewModels.","title":"Could not find fragment constructor (settings activity)","body":"<p>I guess the problem here is that Fragment doesn't have a default constructor. Creating a parametrized constructor hides the default constructor. Also its not recommended to create a parametrized constructor.</p>\n<blockquote>\n<p>All subclasses of Fragment must include a public no-argument constructor. The framework will often re-instantiate a fragment class when needed, in particular during state restore, and needs to be able to find this constructor to instantiate it. If the no-argument constructor is not available, a runtime exception will occur in some cases during state restore. Arguments can be supplied by the caller with setArguments(Bundle) and later retrieved by the Fragment with getArguments().</p>\n</blockquote>\n<p>To fix the problem</p>\n<ol>\n<li><p>Remove the current parametrized constructor in the <code>SettingsFragment</code></p>\n</li>\n<li><p>Add a no-arg constructor as follows:</p>\n<p><code>public SettingsFragment(){}</code></p>\n</li>\n</ol>\n<p>Its also not a good idea to pass activity reference to the fragment. A newer alternative to communicate between an Activity and a Fragment, thus allowing that the Fragment can have an empty constructor would be the use of ViewModels.</p>\n"}],"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633124927,"creation_date":1633119534,"question_id":69411586,"body_markdown":"I&#39;m getting this error message &quot;could not find fragment constructor&quot; whenever I enter to my settings activity and rotate the device. Bellow is my settings activity `onCreate()` method and `SettingsFragment` class.\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        SharedPreferences sharedPreferences = \r\n        PreferenceManager.getDefaultSharedPreferences(getApplicationContext());\r\n        setContentView(R.layout.settings_activity);\r\n        if (savedInstanceState == null) {\r\n            getSupportFragmentManager()\r\n                    .beginTransaction()\r\n                    .replace(R.id.settings, new SettingsFragment(this))\r\n                    .commit();\r\n        }\r\n        ActionBar actionBar = getSupportActionBar();\r\n        if (actionBar != null) {\r\n            actionBar.setDisplayHomeAsUpEnabled(true);\r\n        }\r\n    }\r\n\r\npublic static class SettingsFragment extends PreferenceFragmentCompat {\r\n        WeakReference&lt;SettingsActivity&gt; activityWeakReference;\r\n        SettingsFragment(SettingsActivity activity) {\r\n            activityWeakReference = new WeakReference&lt;&gt;(activity);\r\n        }\r\n        @Override\r\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\r\n            setPreferencesFromResource(R.xml.root_preferences, rootKey);\r\n            ListPreference listPreference = findPreference(&quot;jojojojo&quot;);\r\n            if (listPreference != null) {\r\n                listPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {\r\n                    @Override\r\n                    public boolean onPreferenceChange(Preference preference, Object newValue) {\r\n                        activityWeakReference.get().setResult(1);\r\n                        return true;\r\n                    }\r\n                });\r\n            }\r\n\r\n            SwitchPreferenceCompat switchPreferenceCompat = findPreference(&quot;lalalala&quot;);\r\n            if (switchPreferenceCompat != null) {\r\n                switchPreferenceCompat.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {\r\n                    @Override\r\n                    public boolean onPreferenceChange(Preference preference, Object newValue) {\r\n                        if ((boolean)newValue) {\r\n                            activityWeakReference.get().mostrarMensaje(getString(R.string.toastFrasesOn));\r\n                            activityWeakReference.get().setResult(2);\r\n                        } else {\r\n                            activityWeakReference.get().setResult(3);\r\n                        }\r\n                        return true;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }","title":"Could not find fragment constructor (settings activity)","body":"<p>I'm getting this error message &quot;could not find fragment constructor&quot; whenever I enter to my settings activity and rotate the device. Bellow is my settings activity <code>onCreate()</code> method and <code>SettingsFragment</code> class.</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        SharedPreferences sharedPreferences = \n        PreferenceManager.getDefaultSharedPreferences(getApplicationContext());\n        setContentView(R.layout.settings_activity);\n        if (savedInstanceState == null) {\n            getSupportFragmentManager()\n                    .beginTransaction()\n                    .replace(R.id.settings, new SettingsFragment(this))\n                    .commit();\n        }\n        ActionBar actionBar = getSupportActionBar();\n        if (actionBar != null) {\n            actionBar.setDisplayHomeAsUpEnabled(true);\n        }\n    }\n\npublic static class SettingsFragment extends PreferenceFragmentCompat {\n        WeakReference&lt;SettingsActivity&gt; activityWeakReference;\n        SettingsFragment(SettingsActivity activity) {\n            activityWeakReference = new WeakReference&lt;&gt;(activity);\n        }\n        @Override\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\n            setPreferencesFromResource(R.xml.root_preferences, rootKey);\n            ListPreference listPreference = findPreference(&quot;jojojojo&quot;);\n            if (listPreference != null) {\n                listPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {\n                    @Override\n                    public boolean onPreferenceChange(Preference preference, Object newValue) {\n                        activityWeakReference.get().setResult(1);\n                        return true;\n                    }\n                });\n            }\n\n            SwitchPreferenceCompat switchPreferenceCompat = findPreference(&quot;lalalala&quot;);\n            if (switchPreferenceCompat != null) {\n                switchPreferenceCompat.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {\n                    @Override\n                    public boolean onPreferenceChange(Preference preference, Object newValue) {\n                        if ((boolean)newValue) {\n                            activityWeakReference.get().mostrarMensaje(getString(R.string.toastFrasesOn));\n                            activityWeakReference.get().setResult(2);\n                        } else {\n                            activityWeakReference.get().setResult(3);\n                        }\n                        return true;\n                    }\n                });\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":3469614,"reputation":516,"user_id":2904355,"accept_rate":76,"display_name":"Ernusc"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1442259669,"creation_date":1442259669,"answer_id":32572633,"question_id":32572422,"body_markdown":"If you want to convert your `byte[]` to sql type `Blob`, you can do the following:\r\n\r\n    @Lob(type = LobType.BLOB)\r\n\r\nor \r\n\r\n    @Type(type = &quot;org.hibernate.type.BlobType&quot;)\r\n    @Lob\r\n\r\nHope it helps","title":"Store byte array in MySQL with Hibernate","body":"<p>If you want to convert your <code>byte[]</code> to sql type <code>Blob</code>, you can do the following:</p>\n\n<pre><code>@Lob(type = LobType.BLOB)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>@Type(type = \"org.hibernate.type.BlobType\")\n@Lob\n</code></pre>\n\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":3540005,"reputation":637,"user_id":2957378,"accept_rate":73,"display_name":"user2957378"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1442844205,"creation_date":1442269578,"answer_id":32574893,"question_id":32572422,"body_markdown":"Well, \r\n\r\nI have tried your suggestions @Ernusc. The first one:\r\n\r\n    @Lob(type = LobType.BLOB)\r\n    private byte[] blobImg;\r\n\r\nit is no compiling for me. It may be my Hibernate version is different as yours.\r\nAbout the second option:\r\n\r\n    @Type(type = &quot;org.hibernate.type.BlobType&quot;)\r\n    @Lob\r\n    private byte[] blobImg;\r\n\r\nIt does compile, but it fails at runtime. It was showing the following error:\r\n\r\n    2015-09-14 23:21:01.324  WARN 7436 --- [bTaskExecutor-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1064, SQLState: 42000\r\n    2015-09-14 23:21:01.324 ERROR 7436 --- [bTaskExecutor-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;blob blob0_ where blob0_.idBlobPersistence=326&#39; at line 1\r\n    2015-09-14 23:21:01.337  INFO 7436 --- [bTaskExecutor-3] o.h.e.internal.DefaultLoadEventListener  : HHH000327: Error performing load command : org.hibernate.exception.SQLGrammarException: could not extract ResultSet   \r\nAlso, when I tried to follow the trace, I found it was actually throwing the following exception:\r\n\r\n    java.lang.ClassCastException: [B cannot be cast to java.sql.Blob\r\n\r\nThen I realized the first of the error messages was actually caused by my stupid idea of naming my entity as &quot;blob&quot;, which is probably a reserved keyword in Hibernate. So I changed the entity declaration from:\r\n\r\n    @Entity(name = &quot;blob&quot;)\r\n    public class Blob {\r\n       ...\r\n    }\r\n\r\nto:\r\n\r\n    @Entity(name = &quot;blobframe&quot;)\r\n    public class Blob {\r\n       ...\r\n    }\r\nThen, your second suggestion was only throwing that ClassCastException exception.\r\nHowever, some of the approaches I tried before do work now. For instance:\r\n\r\n    @Column(name = &quot;blobImg&quot;, nullable = false, columnDefinition = &quot;BINARY(256)&quot;, length = 256)\r\n    private byte[] blobImg;\r\n\r\n**UPDATE:**\r\nThis approach is NOT working for me. It fails on blobframe table creation with the following field definition (don&#39;t know the reason, though):\r\n\r\n    @Lob\r\n    @Column(name=&quot;blobImg&quot;, columnDefinition=&quot;bytea&quot;)\r\n    private byte[] blobImg;\r\n\r\nThank you Ernusc for your quick response.","title":"Store byte array in MySQL with Hibernate","body":"<p>Well, </p>\n\n<p>I have tried your suggestions @Ernusc. The first one:</p>\n\n<pre><code>@Lob(type = LobType.BLOB)\nprivate byte[] blobImg;\n</code></pre>\n\n<p>it is no compiling for me. It may be my Hibernate version is different as yours.\nAbout the second option:</p>\n\n<pre><code>@Type(type = \"org.hibernate.type.BlobType\")\n@Lob\nprivate byte[] blobImg;\n</code></pre>\n\n<p>It does compile, but it fails at runtime. It was showing the following error:</p>\n\n<pre><code>2015-09-14 23:21:01.324  WARN 7436 --- [bTaskExecutor-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1064, SQLState: 42000\n2015-09-14 23:21:01.324 ERROR 7436 --- [bTaskExecutor-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'blob blob0_ where blob0_.idBlobPersistence=326' at line 1\n2015-09-14 23:21:01.337  INFO 7436 --- [bTaskExecutor-3] o.h.e.internal.DefaultLoadEventListener  : HHH000327: Error performing load command : org.hibernate.exception.SQLGrammarException: could not extract ResultSet   \n</code></pre>\n\n<p>Also, when I tried to follow the trace, I found it was actually throwing the following exception:</p>\n\n<pre><code>java.lang.ClassCastException: [B cannot be cast to java.sql.Blob\n</code></pre>\n\n<p>Then I realized the first of the error messages was actually caused by my stupid idea of naming my entity as \"blob\", which is probably a reserved keyword in Hibernate. So I changed the entity declaration from:</p>\n\n<pre><code>@Entity(name = \"blob\")\npublic class Blob {\n   ...\n}\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>@Entity(name = \"blobframe\")\npublic class Blob {\n   ...\n}\n</code></pre>\n\n<p>Then, your second suggestion was only throwing that ClassCastException exception.\nHowever, some of the approaches I tried before do work now. For instance:</p>\n\n<pre><code>@Column(name = \"blobImg\", nullable = false, columnDefinition = \"BINARY(256)\", length = 256)\nprivate byte[] blobImg;\n</code></pre>\n\n<p><strong>UPDATE:</strong>\nThis approach is NOT working for me. It fails on blobframe table creation with the following field definition (don't know the reason, though):</p>\n\n<pre><code>@Lob\n@Column(name=\"blobImg\", columnDefinition=\"bytea\")\nprivate byte[] blobImg;\n</code></pre>\n\n<p>Thank you Ernusc for your quick response.</p>\n"},{"tags":[],"owner":{"account_id":14347196,"reputation":16,"user_id":10363745,"display_name":"Sachith Harshamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633124626,"creation_date":1633124266,"answer_id":69412199,"question_id":32572422,"body_markdown":"    @Lob\r\n\t@Column(name=&quot;image_column&quot;, columnDefinition=&quot;BLOB&quot;)\r\n\tprivate byte[] image;\r\n\r\nYou can simply set `columnDefinition` to `BLOB` type. This works on MySQL and will generate `blob` type column.","title":"Store byte array in MySQL with Hibernate","body":"<pre><code>@Lob\n@Column(name=&quot;image_column&quot;, columnDefinition=&quot;BLOB&quot;)\nprivate byte[] image;\n</code></pre>\n<p>You can simply set <code>columnDefinition</code> to <code>BLOB</code> type. This works on MySQL and will generate <code>blob</code> type column.</p>\n"}],"owner":{"account_id":3540005,"reputation":637,"user_id":2957378,"accept_rate":73,"display_name":"user2957378"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23621,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32574893,"answer_count":3,"score":3,"last_activity_date":1633124626,"creation_date":1442258774,"question_id":32572422,"body_markdown":"I&#39;m trying to save an entity with a byte array field. I&#39;m using Hibernate and JPA on top of a MySQL database.\r\nThis is the field definiton, which worked fine for an embedded H2 database:\r\n\r\n    @Entity(name = &quot;blob&quot;)\r\n    public class Blob {\r\n    \t...\r\n    \t@Lob\r\n    \t@Basic(fetch = FetchType.LAZY)\r\n    \t@Column(name = &quot;blobImg&quot;, nullable = false)\r\n    \tprivate byte[] blobImg;\r\n    }\r\n\r\nNow, with MySQL database, an exception is thrown everytime I execute blobRepository.save(). Actually, is may be thrown when Hibernate tries to autocreate the table of Blob entity. The exception is the following:\r\n\r\n&gt; o.h.engine.jdbc.spi.SqlExceptionHelper   : You have an error in your\r\n&gt; SQL syntax; check the manual that corresponds to your MySQL server\r\n&gt; version for the right syntax to use near &#39;blob (blobCols, blobImg,\r\n&gt; blobRows, channel, idBlobPersistence) values (50, _bina&#39; at line 1\r\n\r\nI&#39;ve tried to change the field definition with several approaches I&#39;ve found on the web:\r\n\r\nApproach 1:\r\n\r\n    @Column(name = &quot;blobImg&quot;, nullable = false, columnDefinition = &quot;BINARY(256)&quot;, length = 256)\r\n    private byte[] blobImg;\r\n\r\nApproach 2:\r\n\r\n    @Lob\r\n    @Column(name=&quot;blobImg&quot;, columnDefinition=&quot;bytea&quot;)\r\n    private byte[] blobImg;\r\n\r\nApproach 3:\r\nDefining an hibernate mapping on blob.hbm.xml file and refering it from entityManagerFactory bean:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \t&lt;property name=&quot;mappingResources&quot;&gt;  \r\n    \t\t&lt;list&gt;  \r\n    \t\t\t&lt;value&gt;blob.hbm.xml&lt;/value&gt;  \r\n    \t\t&lt;/list&gt;  \r\n    \t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nblob.hbm.xml mapping:\r\n\r\n    &lt;hibernate-mapping&gt;\r\n        &lt;class name=&quot;guiatv.persistence.domain.Blob&quot; table=&quot;blob&quot;&gt;\r\n            &lt;property name=&quot;blobImgProperty&quot;&gt;\r\n            \t&lt;column name=&quot;blobImg&quot; sql-type=&quot;binary&quot;&gt;&lt;/column&gt;\r\n            &lt;/property&gt;\r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nApproach 4:\r\nchanging blob.hbm.xml mapping to the following:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;hibernate-mapping&gt;\r\n        &lt;class name=&quot;guiatv.persistence.domain.Blob&quot; table=&quot;blob&quot;&gt;\r\n        \t&lt;property name=&quot;blobImg&quot; type=&quot;binary&quot;&gt;\r\n                &lt;column name=&quot;blobImg&quot; /&gt;\r\n            &lt;/property&gt;\r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\nAll of them are throwing the same exception.\r\n\r\nHow can I solve it?\r\nThank you!","title":"Store byte array in MySQL with Hibernate","body":"<p>I'm trying to save an entity with a byte array field. I'm using Hibernate and JPA on top of a MySQL database.\nThis is the field definiton, which worked fine for an embedded H2 database:</p>\n\n<pre><code>@Entity(name = \"blob\")\npublic class Blob {\n    ...\n    @Lob\n    @Basic(fetch = FetchType.LAZY)\n    @Column(name = \"blobImg\", nullable = false)\n    private byte[] blobImg;\n}\n</code></pre>\n\n<p>Now, with MySQL database, an exception is thrown everytime I execute blobRepository.save(). Actually, is may be thrown when Hibernate tries to autocreate the table of Blob entity. The exception is the following:</p>\n\n<blockquote>\n  <p>o.h.engine.jdbc.spi.SqlExceptionHelper   : You have an error in your\n  SQL syntax; check the manual that corresponds to your MySQL server\n  version for the right syntax to use near 'blob (blobCols, blobImg,\n  blobRows, channel, idBlobPersistence) values (50, _bina' at line 1</p>\n</blockquote>\n\n<p>I've tried to change the field definition with several approaches I've found on the web:</p>\n\n<p>Approach 1:</p>\n\n<pre><code>@Column(name = \"blobImg\", nullable = false, columnDefinition = \"BINARY(256)\", length = 256)\nprivate byte[] blobImg;\n</code></pre>\n\n<p>Approach 2:</p>\n\n<pre><code>@Lob\n@Column(name=\"blobImg\", columnDefinition=\"bytea\")\nprivate byte[] blobImg;\n</code></pre>\n\n<p>Approach 3:\nDefining an hibernate mapping on blob.hbm.xml file and refering it from entityManagerFactory bean:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"mappingResources\"&gt;  \n        &lt;list&gt;  \n            &lt;value&gt;blob.hbm.xml&lt;/value&gt;  \n        &lt;/list&gt;  \n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>blob.hbm.xml mapping:</p>\n\n<pre><code>&lt;hibernate-mapping&gt;\n    &lt;class name=\"guiatv.persistence.domain.Blob\" table=\"blob\"&gt;\n        &lt;property name=\"blobImgProperty\"&gt;\n            &lt;column name=\"blobImg\" sql-type=\"binary\"&gt;&lt;/column&gt;\n        &lt;/property&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>Approach 4:\nchanging blob.hbm.xml mapping to the following:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;hibernate-mapping&gt;\n    &lt;class name=\"guiatv.persistence.domain.Blob\" table=\"blob\"&gt;\n        &lt;property name=\"blobImg\" type=\"binary\"&gt;\n            &lt;column name=\"blobImg\" /&gt;\n        &lt;/property&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>All of them are throwing the same exception.</p>\n\n<p>How can I solve it?\nThank you!</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-gradle-plugin"],"comments":[{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1603786181,"post_id":64549884,"comment_id":114138976,"body_markdown":"Please add your answer &quot;SOLVED&quot; as an answer instead of edit to question, then remove it from the question and flag this comment as no longer needed.","body":"Please add your answer &quot;SOLVED&quot; as an answer instead of edit to question, then remove it from the question and flag this comment as no longer needed."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603784905,"creation_date":1603784905,"answer_id":64550086,"question_id":64549884,"body_markdown":"If you are using Gradle 6.x, the `compile` configuration has been deprecated. Its use has been discouraged since Gradle 3.4. You should use `implementation` instead. This change would also make this dependency more consistent with the others in your build script. You can learn a bit more about this in the [Gradle documentation](https://docs.gradle.org/current/userguide/upgrading_version_5.html#dependencies_should_no_longer_be_declared_using_the_compile_and_runtime_configurations).\r\n\r\nYou&#39;ve also specified a version on the `spring-boot-starter-data-jpa` dependency. This isn&#39;t necessary as the version can be determined by the version of the Spring Boot plugin that you&#39;ve applied. This is what&#39;s happening with the other dependencies in your script where no version is declared. It makes it easier to keep all of the versions in sync.\r\n\r\nIn short, try updating the dependency declaration to look like the following:\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;","title":"Spring boot not adding spring-boot-starter-data-jpa","body":"<p>If you are using Gradle 6.x, the <code>compile</code> configuration has been deprecated. Its use has been discouraged since Gradle 3.4. You should use <code>implementation</code> instead. This change would also make this dependency more consistent with the others in your build script. You can learn a bit more about this in the <a href=\"https://docs.gradle.org/current/userguide/upgrading_version_5.html#dependencies_should_no_longer_be_declared_using_the_compile_and_runtime_configurations\" rel=\"nofollow noreferrer\">Gradle documentation</a>.</p>\n<p>You've also specified a version on the <code>spring-boot-starter-data-jpa</code> dependency. This isn't necessary as the version can be determined by the version of the Spring Boot plugin that you've applied. This is what's happening with the other dependencies in your script where no version is declared. It makes it easier to keep all of the versions in sync.</p>\n<p>In short, try updating the dependency declaration to look like the following:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19832855,"reputation":63,"user_id":14527024,"display_name":"David Kostandin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603895685,"creation_date":1603895685,"answer_id":64575070,"question_id":64549884,"body_markdown":"SOLVED: The issue was in Spring tool suite, using Project-&gt;Clean wasn&#39;t updating gradle dependencies. Had to right click build.gradle-&gt;gradle-&gt;refresh gradle project to get everything to update.","title":"Spring boot not adding spring-boot-starter-data-jpa","body":"<p>SOLVED: The issue was in Spring tool suite, using Project-&gt;Clean wasn't updating gradle dependencies. Had to right click build.gradle-&gt;gradle-&gt;refresh gradle project to get everything to update.</p>\n"},{"tags":[],"owner":{"account_id":4437823,"reputation":46,"user_id":3613177,"display_name":"gorden_sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633124000,"creation_date":1633124000,"answer_id":69412168,"question_id":64549884,"body_markdown":"Following the previous suggestion, in the VS Code cleaning Java project helped me to resolve the issue: \r\nOpen &quot;Java Project&quot; view -&gt; &quot;...&quot; -&gt; &quot;Clean Workspace&quot;\r\n\r\nDepending on VS Code configuration, after the cleaning, the gradle rebuilds dependencies automatically. If not, you can right-click on build.gradle and select &quot;Update Project&quot;","title":"Spring boot not adding spring-boot-starter-data-jpa","body":"<p>Following the previous suggestion, in the VS Code cleaning Java project helped me to resolve the issue:\nOpen &quot;Java Project&quot; view -&gt; &quot;...&quot; -&gt; &quot;Clean Workspace&quot;</p>\n<p>Depending on VS Code configuration, after the cleaning, the gradle rebuilds dependencies automatically. If not, you can right-click on build.gradle and select &quot;Update Project&quot;</p>\n"}],"owner":{"account_id":19832855,"reputation":63,"user_id":14527024,"display_name":"David Kostandin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5072,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1633124000,"creation_date":1603783884,"question_id":64549884,"body_markdown":"When trying to add spring-boot-starter-data-jpa to my project through gradle, it just doesn&#39;t do it. The @Entity tag doesn&#39;t work and the jar doesn&#39;t appear in the project and external dependencies folder. There&#39;s no error unless I put in the @Entity tag. Here is my gradle file for reference.\r\n\r\n    plugins {\r\n\t    id &#39;org.springframework.boot&#39; version &#39;2.3.4.RELEASE&#39;\r\n\t    id &#39;io.spring.dependency-management&#39; version &#39;1.0.10.RELEASE&#39;\r\n\t    id &#39;java&#39;\r\n    }\r\n    group = &#39;com.Hype&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;14&#39;\r\n\r\n    configurations {\r\n\t    compileOnly {\r\n\t    \textendsFrom annotationProcessor\r\n\t    }\r\n    }\r\n\r\n    repositories {\r\n\t    mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n\t    compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-jpa&#39;, version:\r\n        &#39;2.3.4.RELEASE&#39;\r\n\t    implementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n\t    implementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n\t    implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;\r\n\t    implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server&#39;\r\n\t    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\t    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\t    implementation &#39;org.springframework.boot:spring-boot-starter-web-services&#39;\r\n\t    implementation &#39;org.springframework.session:spring-session-jdbc&#39;\r\n\t    compileOnly &#39;org.projectlombok:lombok&#39;\r\n\t    runtimeOnly &#39;mysql:mysql-connector-java&#39;\r\n\t    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\t    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n\t    \texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n\t    }\r\n\t    testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\t\r\n    }\r\n\r\n    test {\r\n\t    useJUnitPlatform()\r\n    }\r\n\r\nBefore anyone mentions it, yes I&#39;ve tried cleaning and rebuilding the project multiple times.","title":"Spring boot not adding spring-boot-starter-data-jpa","body":"<p>When trying to add spring-boot-starter-data-jpa to my project through gradle, it just doesn't do it. The @Entity tag doesn't work and the jar doesn't appear in the project and external dependencies folder. There's no error unless I put in the @Entity tag. Here is my gradle file for reference.</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.3.4.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.10.RELEASE'\n    id 'java'\n}\ngroup = 'com.Hype'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '14'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa', version:\n    '2.3.4.RELEASE'\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-resource-server'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-web-services'\n    implementation 'org.springframework.session:spring-session-jdbc'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'mysql:mysql-connector-java'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    testImplementation 'org.springframework.security:spring-security-test'\n\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Before anyone mentions it, yes I've tried cleaning and rebuilding the project multiple times.</p>\n"},{"tags":["java","allure","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":18181746,"reputation":64,"user_id":13229366,"display_name":"EZV8"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1633123756,"creation_date":1633123756,"answer_id":69412147,"question_id":69337691,"body_markdown":"Here you go:\r\n```java\r\n   public void allureVid() {\r\n       try {\r\n           byte[] byteArr = IOUtils.toByteArray(new FileInputStream(&quot;src/test/resources/videoplayback.mp4&quot;));\r\n           Allure.addAttachment(&quot;attachment name&quot;, &quot;video/mp4&quot;, new ByteArrayInputStream(byteArr), &quot;mp4&quot;);\r\n       } catch (IOException e) {\r\n           e.printStackTrace();\r\n       }\r\n   }\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xGCsc.png","title":"how to place video record from testcontainers to allure-report","body":"<p>Here you go:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public void allureVid() {\n       try {\n           byte[] byteArr = IOUtils.toByteArray(new FileInputStream(&quot;src/test/resources/videoplayback.mp4&quot;));\n           Allure.addAttachment(&quot;attachment name&quot;, &quot;video/mp4&quot;, new ByteArrayInputStream(byteArr), &quot;mp4&quot;);\n       } catch (IOException e) {\n           e.printStackTrace();\n       }\n   }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xGCsc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xGCsc.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13946078,"reputation":13,"user_id":10070804,"display_name":"Gabit Kabylbekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1568,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69412147,"answer_count":1,"score":1,"last_activity_date":1633123756,"creation_date":1632680127,"question_id":69337691,"body_markdown":"\r\n   This approach don&#39;t work, I tried converting FILE to InputStream and vise versa. maybe someone found yourself with the same trouble\r\n\r\n    static File file = new File(&quot;videos&quot;);\r\n    \r\n    @Container\r\n    public static final BrowserWebDriverContainer browser =\r\n            new BrowserWebDriverContainer()\r\n                    .withCapabilities(DesiredCapabilities.firefox())\r\n                    .withRecordingMode(\r\n                            BrowserWebDriverContainer.VncRecordingMode.RECORD_ALL,\r\n                            file,\r\n                            VncRecordingContainer.VncRecordingFormat.MP4);\r\n    \r\n     @Test\r\n     void tempTest() {\r\n        @(&quot;.someId&quot;).click;\r\n     }    \r\n    \r\n    \r\n    @AfterAll\r\n        static void clean_up() throws FileNotFoundException {\r\n            InputStream vid = new FileInputStream(file.toString());\r\n            Allure.addAttachment(&quot;video&quot;, &quot;video/mp4&quot;, vid, &quot;mp4&quot;);\r\n\r\n            WebDriverRunner.closeWebDriver();\r\n        }\r\n\r\nCore problem how to place \r\n\r\n    .withRecordingMode(                        \r\n            BrowserWebDriverContainer.VncRecordingMode.RECORD_ALL,\r\n            &quot;THIS VIDEO DIRECTORY TO&quot;,\r\n            VncRecordingContainer.VncRecordingFormat.MP4);\r\n\r\n    Allure.addAttachment(&quot;video&quot;, &quot;video/mp4&quot;, HERE, &quot;mp4&quot;);","title":"how to place video record from testcontainers to allure-report","body":"<p>This approach don't work, I tried converting FILE to InputStream and vise versa. maybe someone found yourself with the same trouble</p>\n<pre><code>static File file = new File(&quot;videos&quot;);\n\n@Container\npublic static final BrowserWebDriverContainer browser =\n        new BrowserWebDriverContainer()\n                .withCapabilities(DesiredCapabilities.firefox())\n                .withRecordingMode(\n                        BrowserWebDriverContainer.VncRecordingMode.RECORD_ALL,\n                        file,\n                        VncRecordingContainer.VncRecordingFormat.MP4);\n\n @Test\n void tempTest() {\n    @(&quot;.someId&quot;).click;\n }    \n\n\n@AfterAll\n    static void clean_up() throws FileNotFoundException {\n        InputStream vid = new FileInputStream(file.toString());\n        Allure.addAttachment(&quot;video&quot;, &quot;video/mp4&quot;, vid, &quot;mp4&quot;);\n\n        WebDriverRunner.closeWebDriver();\n    }\n</code></pre>\n<p>Core problem how to place</p>\n<pre><code>.withRecordingMode(                        \n        BrowserWebDriverContainer.VncRecordingMode.RECORD_ALL,\n        &quot;THIS VIDEO DIRECTORY TO&quot;,\n        VncRecordingContainer.VncRecordingFormat.MP4);\n\nAllure.addAttachment(&quot;video&quot;, &quot;video/mp4&quot;, HERE, &quot;mp4&quot;);\n</code></pre>\n"},{"tags":["java","google-api","google-oauth","google-signin"],"answers":[{"tags":[],"owner":{"account_id":22317466,"reputation":505,"user_id":16540599,"display_name":"bdid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633108958,"creation_date":1633108958,"answer_id":69409815,"question_id":69377827,"body_markdown":"Nonce should be returned, and is in my testing. It might be worth dumping the credential to console and pasting it into an online tool like jwt.io to quickly decode to confirm if the JWT contains the nonce as expected, or if the Kotlin back-end code is mishandling nonce.\r\n\r\nSomething like this will help to quickly confirm behavior:\r\n```\r\n&lt;html&gt;&lt;body&gt;\r\n&lt;script src=&quot;https://accounts.google.com/gsi/client&quot; async defer&gt;&lt;/script&gt;\r\n&lt;script&gt;\r\n        function handleCredentialResponse(response) {\r\n                console.log(&#39;JWT ID token, decode me: &#39; + response.credential);\r\n        };\r\n&lt;/script&gt;\r\n\r\n&lt;div id=&quot;g_id_onload&quot;\r\n     data-client_id=&quot;YOUR_CLIENT_ID&quot;\r\n     data-callback=&quot;handleCredentialResponse&quot;\r\n     data-nonce=&quot;foobar&quot;&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;&lt;/html&gt;\r\n```\r\n\r\nThen decoding `response.credential` should result in `  &quot;nonce&quot;: &quot;foobar&quot;,\r\n` being included as a field in the payload.\r\n","title":"Why is Google OAuth 2.0 nonce missing","body":"<p>Nonce should be returned, and is in my testing. It might be worth dumping the credential to console and pasting it into an online tool like jwt.io to quickly decode to confirm if the JWT contains the nonce as expected, or if the Kotlin back-end code is mishandling nonce.</p>\n<p>Something like this will help to quickly confirm behavior:</p>\n<pre><code>&lt;html&gt;&lt;body&gt;\n&lt;script src=&quot;https://accounts.google.com/gsi/client&quot; async defer&gt;&lt;/script&gt;\n&lt;script&gt;\n        function handleCredentialResponse(response) {\n                console.log('JWT ID token, decode me: ' + response.credential);\n        };\n&lt;/script&gt;\n\n&lt;div id=&quot;g_id_onload&quot;\n     data-client_id=&quot;YOUR_CLIENT_ID&quot;\n     data-callback=&quot;handleCredentialResponse&quot;\n     data-nonce=&quot;foobar&quot;&gt;\n&lt;/div&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>Then decoding <code>response.credential</code> should result in <code> &quot;nonce&quot;: &quot;foobar&quot;,</code> being included as a field in the payload.</p>\n"}],"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69409815,"answer_count":1,"score":1,"last_activity_date":1633123133,"creation_date":1632923772,"question_id":69377827,"body_markdown":"I am trying to validate a JWT after a user completed the log-in with google prompt. Specifically, i am having an issue with the nonce not being in the JWT that google sends back to me, as expected per the linked documentation below.\r\n\r\nHere is the front end code:\r\n```\r\n&lt;google-login class=&quot;ng-isolate-scope&quot;&gt;\r\n\t&lt;div id=&quot;g_id_onload&quot; data-client_id=“********.apps.googleusercontent.com&quot; data-auto_prompt=&quot;true&quot; data-nonce=“&lt;randomly generated UUID&gt;&quot; data-login_uri=&quot;http://localhost:8080/appName/rest/auth/google/login&quot;&gt;&lt;/div&gt;\r\n\t&lt;div class=&quot;g_id_signin&quot; data-type=&quot;standard&quot; data-theme=&quot;outline&quot; data-text=&quot;sign_in_with&quot; data-shape=&quot;rectangular&quot; data-logo_alignment=&quot;left&quot; data-width=&quot;269&quot;&gt;\r\n\t\t&lt;div class=&quot;S9gUrf-YoZ4jf&quot; style=&quot;position: relative;&quot;&gt;\r\n\t\t\t&lt;div&gt;&lt;/div&gt;\r\n\t\t\t&lt;iframe src=&quot;https://accounts.google.com/gsi/button?type=standard&amp;amp;theme=outline&amp;amp;text=sign_in_with&amp;amp;shape=rectangular&amp;amp;logo_alignment=left&amp;amp;width=269&amp;amp;client_id=******.apps.googleusercontent.com&amp;amp;iframe_id=gsi_86518_300486&amp;amp;as=xHN4SBVSZDA7r8a2zB77gA&quot; id=&quot;gsi_86518_300486&quot; title=&quot;Sign in with Google Button&quot; style=&quot;display: block; position: relative; top: 0px; left: 0px; height: 44px; width: 289px; border: 0px; margin: -2px -10px;&quot;&gt;&lt;/iframe&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n&lt;/google-login&gt;\r\n```\r\n\r\nAnd the backend verification code\r\n```\r\nkotlin:\r\n...\r\n    val token: String? = httpServletRequest?.getParameter(&quot;g_csrf_token&quot;)\r\n    val credential: String? = httpServletRequest?.getParameter(&quot;credential&quot;)\r\n    val googleUser = GoogleUser().fromToken(token, credential)\r\njava:\r\npublic GoogleUser fromToken(String token, String credential){\r\n    GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(\r\n        new NetHttpTransport(), new GsonFactory())\r\n        .setAudience(Collections.singletonList(&lt;my google client id&gt;))\r\n        .build();\r\n\r\n\r\n    GoogleIdToken verifiedCredential = verifier.verify(credential);\r\n    \r\n    Payload payload = verifiedCredential.getPayload();\r\n    NonceEntity nonceEntity = nonceService.findByNonce(payload.getNonce());\r\n    // payload.getNonce() is null\r\n    ...\r\n}\r\n```\r\n\r\nAll of the data in the payload is what i expect while testing, it gets the test google accounts name, email... However, the payload has no nonce in it. It is my understanding from google&#39;s documentation here: https://developers.google.com/identity/protocols/oauth2/openid-connect#an-id-tokens-payload that the nonce should be in the JWT that google hands back to me, is this not the case?\r\n\r\nHelp with these would be greatly appreciated, thanks.\r\n\r\n`EDIT 1:`\r\n\r\nAfter some poking around in the &#39;network&#39; panel of my browser, i can confirm that the nonce is sent to google like this: ```https://accounts.google.com/gsi/select?client_id=*******.apps.googleusercontent.com&amp;ux_mode=popup&amp;ui_mode=card&amp;nonce=&lt;my nonce is here&gt;&amp;as=qQuxTPotHkqyksF1xGUJqw&amp;channel_id=11052d41e8597dee7bdca69dee44b56619c612eb4d5618f01defe7458cd6b17f&amp;origin=http%3A%2F%2Flocalhost%3A9000``` GET request status 302 (redirect)\r\n\r\nand like this: \r\n\r\n```https://accounts.google.com/ServiceLogin?faa=1&amp;rip=1&amp;continue=https://accounts.google.com/gsi/select?client_id%*****.apps.googleusercontent.com%26ux_mode%3Dpopup%26ui_mode%3Dcard%26nonce%&lt;my nonce here&gt;%26as%3DqQuxTPotHkqyksF1xGUJqw%26channel_id%3D11052d41e8597dee7bdca69dee44b56619c612eb4d5618f01defe7458cd6b17f%26origin%3Dhttp://localhost:9000``` GET request Status 200\r\n\r\nIt appears to be in every http request made, but not in the response JWT(credential) after successful login.\r\n\r\n`EDIT: 2` Resolution:\r\nUsing the code provided by @bdid, i was able to conclude that angular was inserting the data-nonce value via an ajax call, ie, the google script that looks for g_id_onload was examining the div before the nonce was there due to the delay in the ajax call.\r\n\r\nSolution: We rewrote the .js such that the google scripts are only added to the page after the ajax call completes. That way, the nonce value is populated.\r\n\r\nAlternatively, we could have moved the nonce population to the controller and resolved it server-side but this was a simpler solution.","title":"Why is Google OAuth 2.0 nonce missing","body":"<p>I am trying to validate a JWT after a user completed the log-in with google prompt. Specifically, i am having an issue with the nonce not being in the JWT that google sends back to me, as expected per the linked documentation below.</p>\n<p>Here is the front end code:</p>\n<pre><code>&lt;google-login class=&quot;ng-isolate-scope&quot;&gt;\n    &lt;div id=&quot;g_id_onload&quot; data-client_id=“********.apps.googleusercontent.com&quot; data-auto_prompt=&quot;true&quot; data-nonce=“&lt;randomly generated UUID&gt;&quot; data-login_uri=&quot;http://localhost:8080/appName/rest/auth/google/login&quot;&gt;&lt;/div&gt;\n    &lt;div class=&quot;g_id_signin&quot; data-type=&quot;standard&quot; data-theme=&quot;outline&quot; data-text=&quot;sign_in_with&quot; data-shape=&quot;rectangular&quot; data-logo_alignment=&quot;left&quot; data-width=&quot;269&quot;&gt;\n        &lt;div class=&quot;S9gUrf-YoZ4jf&quot; style=&quot;position: relative;&quot;&gt;\n            &lt;div&gt;&lt;/div&gt;\n            &lt;iframe src=&quot;https://accounts.google.com/gsi/button?type=standard&amp;amp;theme=outline&amp;amp;text=sign_in_with&amp;amp;shape=rectangular&amp;amp;logo_alignment=left&amp;amp;width=269&amp;amp;client_id=******.apps.googleusercontent.com&amp;amp;iframe_id=gsi_86518_300486&amp;amp;as=xHN4SBVSZDA7r8a2zB77gA&quot; id=&quot;gsi_86518_300486&quot; title=&quot;Sign in with Google Button&quot; style=&quot;display: block; position: relative; top: 0px; left: 0px; height: 44px; width: 289px; border: 0px; margin: -2px -10px;&quot;&gt;&lt;/iframe&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/google-login&gt;\n</code></pre>\n<p>And the backend verification code</p>\n<pre><code>kotlin:\n...\n    val token: String? = httpServletRequest?.getParameter(&quot;g_csrf_token&quot;)\n    val credential: String? = httpServletRequest?.getParameter(&quot;credential&quot;)\n    val googleUser = GoogleUser().fromToken(token, credential)\njava:\npublic GoogleUser fromToken(String token, String credential){\n    GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(\n        new NetHttpTransport(), new GsonFactory())\n        .setAudience(Collections.singletonList(&lt;my google client id&gt;))\n        .build();\n\n\n    GoogleIdToken verifiedCredential = verifier.verify(credential);\n    \n    Payload payload = verifiedCredential.getPayload();\n    NonceEntity nonceEntity = nonceService.findByNonce(payload.getNonce());\n    // payload.getNonce() is null\n    ...\n}\n</code></pre>\n<p>All of the data in the payload is what i expect while testing, it gets the test google accounts name, email... However, the payload has no nonce in it. It is my understanding from google's documentation here: <a href=\"https://developers.google.com/identity/protocols/oauth2/openid-connect#an-id-tokens-payload\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/protocols/oauth2/openid-connect#an-id-tokens-payload</a> that the nonce should be in the JWT that google hands back to me, is this not the case?</p>\n<p>Help with these would be greatly appreciated, thanks.</p>\n<p><code>EDIT 1:</code></p>\n<p>After some poking around in the 'network' panel of my browser, i can confirm that the nonce is sent to google like this: <code>https://accounts.google.com/gsi/select?client_id=*******.apps.googleusercontent.com&amp;ux_mode=popup&amp;ui_mode=card&amp;nonce=&lt;my nonce is here&gt;&amp;as=qQuxTPotHkqyksF1xGUJqw&amp;channel_id=11052d41e8597dee7bdca69dee44b56619c612eb4d5618f01defe7458cd6b17f&amp;origin=http%3A%2F%2Flocalhost%3A9000</code> GET request status 302 (redirect)</p>\n<p>and like this:</p>\n<p><code>https://accounts.google.com/ServiceLogin?faa=1&amp;rip=1&amp;continue=https://accounts.google.com/gsi/select?client_id%*****.apps.googleusercontent.com%26ux_mode%3Dpopup%26ui_mode%3Dcard%26nonce%&lt;my nonce here&gt;%26as%3DqQuxTPotHkqyksF1xGUJqw%26channel_id%3D11052d41e8597dee7bdca69dee44b56619c612eb4d5618f01defe7458cd6b17f%26origin%3Dhttp://localhost:9000</code> GET request Status 200</p>\n<p>It appears to be in every http request made, but not in the response JWT(credential) after successful login.</p>\n<p><code>EDIT: 2</code> Resolution:\nUsing the code provided by @bdid, i was able to conclude that angular was inserting the data-nonce value via an ajax call, ie, the google script that looks for g_id_onload was examining the div before the nonce was there due to the delay in the ajax call.</p>\n<p>Solution: We rewrote the .js such that the google scripts are only added to the page after the ajax call completes. That way, the nonce value is populated.</p>\n<p>Alternatively, we could have moved the nonce population to the controller and resolved it server-side but this was a simpler solution.</p>\n"},{"tags":["java","html","jquery","css","web"],"comments":[{"owner":{"account_id":8346,"reputation":5648,"user_id":15000,"display_name":"Matthew Rapati"},"score":1,"creation_date":1633122055,"post_id":69411571,"comment_id":122685449,"body_markdown":"If there is javascript that adds functionality to the menu, it could be that that runs when `#header` is still empty before the `.load()` function completes. If that&#39;s the case then you need to make sure that the nav js runs after the header html is loaded with the callback parameter of the jquery load function https://api.jquery.com/load/#load-url-data-complete","body":"If there is javascript that adds functionality to the menu, it could be that that runs when <code>#header</code> is still empty before the <code>.load()</code> function completes. If that&#39;s the case then you need to make sure that the nav js runs after the header html is loaded with the callback parameter of the jquery load function <a href=\"https://api.jquery.com/load/#load-url-data-complete\" rel=\"nofollow noreferrer\">api.jquery.com/load/#load-url-data-complete</a>"}],"answers":[{"tags":[],"owner":{"account_id":1394617,"reputation":1483,"user_id":1324650,"accept_rate":75,"display_name":"Bjorn.B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633122934,"creation_date":1633122934,"answer_id":69412048,"question_id":69411571,"body_markdown":"If the nav items aren&#39;t showing up on hover, it might be a css issue. Check the browser devtools console to see if the css styles are loading correctly. Try pasting this into the template to see if the nav subitems show when nav is hovered.\r\n\r\n```\r\n&lt;style&gt;\r\n    #nav li {\r\n        position: relative;\r\n    }\r\n    #nav li ul {\r\n        display: none;\r\n        position: absolute;\r\n        margin: 0;\r\n        padding: 0;\r\n        border: 1px solid #e2e2e2;\r\n        background-color: #eee;\r\n    }\r\n    #nav li ul li {\r\n        display: block;\r\n    }\r\n    #nav li:hover &gt; ul {\r\n        display: block;\r\n        min-width: 180px;\r\n    }\r\n&lt;/style&gt;\r\n```","title":"Using jquery to load header on each page and subnav menu items are not showing","body":"<p>If the nav items aren't showing up on hover, it might be a css issue. Check the browser devtools console to see if the css styles are loading correctly. Try pasting this into the template to see if the nav subitems show when nav is hovered.</p>\n<pre><code>&lt;style&gt;\n    #nav li {\n        position: relative;\n    }\n    #nav li ul {\n        display: none;\n        position: absolute;\n        margin: 0;\n        padding: 0;\n        border: 1px solid #e2e2e2;\n        background-color: #eee;\n    }\n    #nav li ul li {\n        display: block;\n    }\n    #nav li:hover &gt; ul {\n        display: block;\n        min-width: 180px;\n    }\n&lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":22917964,"reputation":1,"user_id":17054273,"display_name":"Rachel Buigas-Lopez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633122934,"creation_date":1633119435,"question_id":69411571,"body_markdown":"Like the title says, I&#39;m using jquery to load the header on each page of a website. I need to be able to update the header through one file because right now I have to go into EVERY page every time they want to, for example, add a new page on the navbar. But with the load function, the submenu links are not showing up on hover. However, when it&#39;s hardcoded on the page it works just fine. Does any know why this might be? I&#39;ve tried to include all relevant code below. \r\n\r\nThis is the script I am using:\r\n\r\n\r\n        &lt;script src=&quot;assets/js/main.js&quot;&gt;&lt;/script&gt;\r\n            &lt;script type=&#39;text/javascript&#39;&gt;\r\n        $(document).ready(function() {\r\n            $(&quot;#header&quot;).load(&quot;header.html&quot;);\r\n        });\r\n        &lt;/script&gt;\r\n\r\n\r\nHow it is coded in index.html and other webpages:\r\n\r\n    &lt;div id=&quot;header&quot;&gt;&lt;/div&gt;\r\n\r\nHow header.html is coded:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;header&gt;\r\n      &lt;h1&gt;\r\n        &lt;a href=&quot;index.html&quot;&gt;&lt;img src=&quot;images/logo-full-dark-01.png&quot; alt=&quot;&quot; /&gt;&lt;/a&gt;\r\n      &lt;/h1&gt;\r\n      &lt;nav id=&quot;nav&quot;&gt;\r\n        &lt;ul&gt;\r\n          &lt;li&gt;\r\n            &lt;a href=&quot;visit.html&quot; class=&quot;submenu fa-angle-down&quot;&gt;Visit&lt;/a&gt;\r\n            &lt;ul&gt;\r\n              &lt;li&gt;&lt;a href=&quot;visit.html&quot;&gt;Direction &amp;amp; Hours&lt;/a&gt;&lt;/li&gt;\r\n              &lt;li&gt;&lt;a href=&quot;visit-tours.html&quot;&gt;Tours&lt;/a&gt;&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n          &lt;/li&gt;\r\n          &lt;li&gt;\r\n            &lt;a href=&quot;exhibitions-current.html&quot; class=&quot;submenu fa-angle-down&quot;&gt;Exhibitions&lt;/a&gt;\r\n            &lt;ul&gt;\r\n              &lt;li&gt;&lt;a href=&quot;exhibitions-permanent.html&quot;&gt;Permanent&lt;/a&gt;&lt;/li&gt;\r\n              &lt;li&gt;&lt;a href=&quot;exhibitions-current.html&quot;&gt;Current&lt;/a&gt;&lt;/li&gt;\r\n              &lt;li&gt;&lt;a href=&quot;exhibitions-upcoming.html&quot;&gt;Upcoming&lt;/a&gt;&lt;/li&gt;\r\n              &lt;li&gt;&lt;a href=&quot;exhibitions-past-2021.html&quot;&gt;Past&lt;/a&gt;&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n          &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/nav&gt;\r\n    &lt;/header&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNote: I did not create this website, just trying to help manage it at this point. Everything was hard coded so I&#39;m trying to transition to this jQuery solution.\r\n\r\n","title":"Using jquery to load header on each page and subnav menu items are not showing","body":"<p>Like the title says, I'm using jquery to load the header on each page of a website. I need to be able to update the header through one file because right now I have to go into EVERY page every time they want to, for example, add a new page on the navbar. But with the load function, the submenu links are not showing up on hover. However, when it's hardcoded on the page it works just fine. Does any know why this might be? I've tried to include all relevant code below.</p>\n<p>This is the script I am using:</p>\n<pre><code>    &lt;script src=&quot;assets/js/main.js&quot;&gt;&lt;/script&gt;\n        &lt;script type='text/javascript'&gt;\n    $(document).ready(function() {\n        $(&quot;#header&quot;).load(&quot;header.html&quot;);\n    });\n    &lt;/script&gt;\n</code></pre>\n<p>How it is coded in index.html and other webpages:</p>\n<pre><code>&lt;div id=&quot;header&quot;&gt;&lt;/div&gt;\n</code></pre>\n<p>How header.html is coded:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;header&gt;\n  &lt;h1&gt;\n    &lt;a href=\"index.html\"&gt;&lt;img src=\"images/logo-full-dark-01.png\" alt=\"\" /&gt;&lt;/a&gt;\n  &lt;/h1&gt;\n  &lt;nav id=\"nav\"&gt;\n    &lt;ul&gt;\n      &lt;li&gt;\n        &lt;a href=\"visit.html\" class=\"submenu fa-angle-down\"&gt;Visit&lt;/a&gt;\n        &lt;ul&gt;\n          &lt;li&gt;&lt;a href=\"visit.html\"&gt;Direction &amp;amp; Hours&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"visit-tours.html\"&gt;Tours&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/li&gt;\n      &lt;li&gt;\n        &lt;a href=\"exhibitions-current.html\" class=\"submenu fa-angle-down\"&gt;Exhibitions&lt;/a&gt;\n        &lt;ul&gt;\n          &lt;li&gt;&lt;a href=\"exhibitions-permanent.html\"&gt;Permanent&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"exhibitions-current.html\"&gt;Current&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"exhibitions-upcoming.html\"&gt;Upcoming&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"exhibitions-past-2021.html\"&gt;Past&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/nav&gt;\n&lt;/header&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Note: I did not create this website, just trying to help manage it at this point. Everything was hard coded so I'm trying to transition to this jQuery solution.</p>\n"},{"tags":["java","crc","crc16"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1632232916,"post_id":69269908,"comment_id":122433317,"body_markdown":"What does &quot;some padding&quot; look like? What&#39;s wrong with getting the byte array and modifying it after the fact with your padding?","body":"What does &quot;some padding&quot; look like? What&#39;s wrong with getting the byte array and modifying it after the fact with your padding?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1632235308,"post_id":69269908,"comment_id":122434446,"body_markdown":"According to [Wikipedia](https://en.wikipedia.org/wiki/Cyclic_redundancy_check#Standards_and_common_use), there are 22 conflicting definitions for CRC-16.","body":"According to <a href=\"https://en.wikipedia.org/wiki/Cyclic_redundancy_check#Standards_and_common_use\" rel=\"nofollow noreferrer\">Wikipedia</a>, there are 22 conflicting definitions for CRC-16."},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":1,"creation_date":1632287838,"post_id":69269908,"comment_id":122447868,"body_markdown":"@StephenC &quot;Conflicting&quot; has an unnecessarily negative connotation. They are simply different 16-bit CRCs. (I count 30 different 16-bit CRC&#39;s in Greg Cook&#39;s catalog.)","body":"@StephenC &quot;Conflicting&quot; has an unnecessarily negative connotation. They are simply different 16-bit CRCs. (I count 30 different 16-bit CRC&#39;s in Greg Cook&#39;s catalog.)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1632287918,"post_id":69269908,"comment_id":122447888,"body_markdown":"I am merely using the word that the Wikipedia page uses.  Don&#39;t shoot the messenger.","body":"I am merely using the word that the Wikipedia page uses.  Don&#39;t shoot the messenger."},{"owner":{"account_id":22815704,"reputation":21,"user_id":16966368,"display_name":"Phreag"},"score":0,"creation_date":1632299170,"post_id":69269908,"comment_id":122451697,"body_markdown":"@JoachimSauer padding means i have to add zeros at the end of my data to fill the last byte. This will then change the checksum.\n\nBut i guess i will need to write it by myself..","body":"@JoachimSauer padding means i have to add zeros at the end of my data to fill the last byte. This will then change the checksum.  But i guess i will need to write it by myself.."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1632301443,"post_id":69269908,"comment_id":122452592,"body_markdown":"@Phreag: that sounds like what [`BitSet.toByteArray()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/BitSet.html#toByteArray()) already does. It can&#39;t really return &quot;3/8th of a byte&quot;, so it set the unused bits of the last byte to 0 anyway. So unless your padding works differently in some way, I don&#39;t think there&#39;s anything you need to do.","body":"@Phreag: that sounds like what <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/BitSet.html#toByteArray()\" rel=\"nofollow noreferrer\"><code>BitSet.toByteArray()</code></a> already does. It can&#39;t really return &quot;3/8th of a byte&quot;, so it set the unused bits of the last byte to 0 anyway. So unless your padding works differently in some way, I don&#39;t think there&#39;s anything you need to do."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1633079744,"post_id":69269908,"comment_id":122669977,"body_markdown":"Everyone has to pad. The question is whether you need a CRC on a flexible length BitSet (length to store), or 545 bits is fixed. 545 bits = 69 bytes = 35 shorts (16 bits). General for a BitSet one would probably use little endian (least significant byte first). So a `ByteBuffer.allocate(70).order(ByteOrder.LITTLE_ENDIAN).putShort....`.","body":"Everyone has to pad. The question is whether you need a CRC on a flexible length BitSet (length to store), or 545 bits is fixed. 545 bits = 69 bytes = 35 shorts (16 bits). General for a BitSet one would probably use little endian (least significant byte first). So a <code>ByteBuffer.allocate(70).order(ByteOrder.LITTLE_ENDIAN).putSh&zwnj;&#8203;ort....</code>."}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633122700,"creation_date":1633118179,"answer_id":69411377,"question_id":69269908,"body_markdown":"Use `.toByteArray()` to get the bits into a sequence of bytes. You need to know what CRC-16 definition is required (polynomial, ordering, pre and post processing), and the order in which to process the bits. `.toByteArray()` will put the first bit in the set in the least-significant bit of the first byte.\r\n\r\nThen you can use [crcany][1] to generate C code for the CRC-16 you need. The generated code includes a `crc16..._rem()` routine for updating the CRC with a number of bits. For a BitSet with `n` bits, you would first compute the CRC on the first `n &gt;&gt; 3` bytes. Then use `crc16..._rem()` to update the CRC using the `n &amp; 7` bits in the last byte. It is straightforward to convert the C code to Java.\r\n\r\n\r\n  [1]: https://github.com/madler/crcany","title":"Java - How to calculate CRC16 of BitSet","body":"<p>Use <code>.toByteArray()</code> to get the bits into a sequence of bytes. You need to know what CRC-16 definition is required (polynomial, ordering, pre and post processing), and the order in which to process the bits. <code>.toByteArray()</code> will put the first bit in the set in the least-significant bit of the first byte.</p>\n<p>Then you can use <a href=\"https://github.com/madler/crcany\" rel=\"nofollow noreferrer\">crcany</a> to generate C code for the CRC-16 you need. The generated code includes a <code>crc16..._rem()</code> routine for updating the CRC with a number of bits. For a BitSet with <code>n</code> bits, you would first compute the CRC on the first <code>n &gt;&gt; 3</code> bytes. Then use <code>crc16..._rem()</code> to update the CRC using the <code>n &amp; 7</code> bits in the last byte. It is straightforward to convert the C code to Java.</p>\n"}],"owner":{"account_id":22815704,"reputation":21,"user_id":16966368,"display_name":"Phreag"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69411377,"answer_count":1,"score":1,"last_activity_date":1633122700,"creation_date":1632231732,"question_id":69269908,"body_markdown":"I Have a Java BitSet where i have some data. The length of this BitSet is 545 bits.\r\nProblem: All current known implementations can only work with a byte array, but converting my BitSet to a byte array will change the data because i need to do some padding.\r\nIs there any known implementation which can handly my data without needing to adjust it to whole bytes?","title":"Java - How to calculate CRC16 of BitSet","body":"<p>I Have a Java BitSet where i have some data. The length of this BitSet is 545 bits.\nProblem: All current known implementations can only work with a byte array, but converting my BitSet to a byte array will change the data because i need to do some padding.\nIs there any known implementation which can handly my data without needing to adjust it to whole bytes?</p>\n"},{"tags":["java","android","canvas","android-canvas","java-canvas"],"answers":[{"tags":[],"owner":{"account_id":21142840,"reputation":437,"user_id":15544809,"display_name":"HFZ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633122397,"creation_date":1633097000,"answer_id":69407209,"question_id":69389067,"body_markdown":"**The Bitmap with config `Bitmap.Config.ARGB_8888` don&#39;t support Alpha channel.** \r\n\r\nUse this instead:\r\n```lang-java\r\nimgBitmap =Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\r\n```\r\nalso the following line don&#39;t do anything:\r\n&lt;s&gt;\r\n~~~ lang-java\r\ncanvas.drawBitmap(imgBitmap, 0f, 0f, null)\r\n~~~\r\n&lt;/s&gt;\r\n&lt;br/&gt;\r\n\r\n---\r\n## Better Solution: ##\r\n\r\nAlso, shadow layer has limited capacity and I recommend to draw the shadow manually. \r\n\r\n    val shadowPaint = Paint(defaultPaint)\r\n    // ... here customize shadow paint\r\n    canvas.drawText(&quot;your text&quot;, x, y, defaultPaint);\r\n    canvas.drawText(&quot;your text&quot;, x, y, shadowPaint);\r\n\r\nAlso, you could extend `TextView` and override the `onDraw` function. Here I create customView that add shadow. you could adjust it.\r\n\r\n    import android.content.Context;\r\n    import android.graphics.BlurMaskFilter;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Color;\r\n    import android.graphics.Paint;\r\n    import android.text.TextPaint;\r\n    import android.util.AttributeSet;\r\n    \r\n    \r\n    public class ShadowTextView extends androidx.appcompat.widget.AppCompatTextView {\r\n        private TextPaint normalPaint;\r\n        private int color;\r\n        TextPaint shadowPaint;\r\n        public ShadowTextView(Context context) {\r\n            super(context);\r\n            init();\r\n        }\r\n    \r\n        public ShadowTextView(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n            init();\r\n        }\r\n    \r\n        public ShadowTextView(Context context, AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n            init();\r\n        }\r\n    \r\n        private void init() {\r\n            normalPaint=new TextPaint(getPaint());\r\n            shadowPaint=new TextPaint(getPaint());\r\n            shadowPaint.setStyle(Paint.Style.FILL_AND_STROKE);\r\n            shadowPaint.setStrokeCap(Paint.Cap.ROUND);\r\n            shadowPaint.setStrokeJoin(Paint.Join.ROUND);\r\n            shadowPaint.setStrokeWidth(30);\r\n            shadowPaint.setMaskFilter(new BlurMaskFilter( 10, BlurMaskFilter.Blur.NORMAL));\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void onDraw(Canvas canvas) {\r\n            super.onDraw(canvas);\r\n            this.savePaint();\r\n            getPaint().set(shadowPaint);\r\n            setTextColor(Color.argb(100,255,0,0));\r\n            super.onDraw(canvas);\r\n            this.restorePaint();\r\n        }\r\n    \r\n    \r\n        public void savePaint() {\r\n            normalPaint.set(getPaint());\r\n            color=getCurrentTextColor();\r\n        }\r\n    \r\n        public void restorePaint() {\r\n            getPaint().set(normalPaint);\r\n            setTextColor(color);\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NK2w0.png","title":"How to increase Opacity/Strength of Shadow in canvas android?","body":"<p><strong>The Bitmap with config <code>Bitmap.Config.ARGB_8888</code> don't support Alpha channel.</strong></p>\n<p>Use this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>imgBitmap =Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\n</code></pre>\n<p>also the following line don't do anything:\n<s></p>\n<pre class=\"lang-java prettyprint-override\"><code>canvas.drawBitmap(imgBitmap, 0f, 0f, null)\n</code></pre>\n</s>\n<br/>\n<hr />\n<h2>Better Solution:</h2>\n<p>Also, shadow layer has limited capacity and I recommend to draw the shadow manually.</p>\n<pre><code>val shadowPaint = Paint(defaultPaint)\n// ... here customize shadow paint\ncanvas.drawText(&quot;your text&quot;, x, y, defaultPaint);\ncanvas.drawText(&quot;your text&quot;, x, y, shadowPaint);\n</code></pre>\n<p>Also, you could extend <code>TextView</code> and override the <code>onDraw</code> function. Here I create customView that add shadow. you could adjust it.</p>\n<pre><code>import android.content.Context;\nimport android.graphics.BlurMaskFilter;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.text.TextPaint;\nimport android.util.AttributeSet;\n\n\npublic class ShadowTextView extends androidx.appcompat.widget.AppCompatTextView {\n    private TextPaint normalPaint;\n    private int color;\n    TextPaint shadowPaint;\n    public ShadowTextView(Context context) {\n        super(context);\n        init();\n    }\n\n    public ShadowTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    public ShadowTextView(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init();\n    }\n\n    private void init() {\n        normalPaint=new TextPaint(getPaint());\n        shadowPaint=new TextPaint(getPaint());\n        shadowPaint.setStyle(Paint.Style.FILL_AND_STROKE);\n        shadowPaint.setStrokeCap(Paint.Cap.ROUND);\n        shadowPaint.setStrokeJoin(Paint.Join.ROUND);\n        shadowPaint.setStrokeWidth(30);\n        shadowPaint.setMaskFilter(new BlurMaskFilter( 10, BlurMaskFilter.Blur.NORMAL));\n    }\n\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n        this.savePaint();\n        getPaint().set(shadowPaint);\n        setTextColor(Color.argb(100,255,0,0));\n        super.onDraw(canvas);\n        this.restorePaint();\n    }\n\n\n    public void savePaint() {\n        normalPaint.set(getPaint());\n        color=getCurrentTextColor();\n    }\n\n    public void restorePaint() {\n        getPaint().set(normalPaint);\n        setTextColor(color);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NK2w0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NK2w0.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10895191,"reputation":1032,"user_id":8009420,"display_name":"Sayok Majumder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69407209,"answer_count":1,"score":0,"last_activity_date":1633122397,"creation_date":1632991538,"question_id":69389067,"body_markdown":"I am trying to get a shadow effect on a text in canvas. The problem I am facing is the shadow that is being created is very dim and showing weird shapes. I am trying to overcome these problems. I am open to suggestions where I can create Images and save to disk without using canvas.\r\n\r\nCode:\r\n\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    private lateinit var canvasIV: ImageView\r\n    private lateinit var imgBitmap: Bitmap\r\n    private lateinit var canvas: Canvas\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        canvasIV = findViewById(R.id.canvasIV)\r\n\r\n        val displayMetrics = DisplayMetrics()\r\n        windowManager.defaultDisplay.getMetrics(displayMetrics)\r\n        val height = displayMetrics.heightPixels\r\n        val width = displayMetrics.widthPixels\r\n\r\n\r\n        imgBitmap =\r\n            Bitmap.createBitmap(width, height, Bitmap.Config.RGB_565)\r\n        canvas = Canvas(imgBitmap)\r\n\r\n        canvas.drawBitmap(imgBitmap, 0f, 0f, null)\r\n\r\n        val shadowPaint = Paint()\r\n        shadowPaint.isAntiAlias = true\r\n        shadowPaint.color = Color.parseColor(&quot;#F897B9&quot;)\r\n\r\n        val tSize = 80.0f\r\n\r\n        shadowPaint.textSize = tSize\r\n        shadowPaint.strokeWidth = 20.0f\r\n        shadowPaint.style = Paint.Style.FILL\r\n        shadowPaint.alpha = 0x100\r\n        //shadowPaint.setShadowLayer(20.0f, 5f, 5f, Color.parseColor(&quot;#F897B9&quot;))\r\n        shadowPaint.setShadowLayer(tSize, 5f, 5f, Color.GREEN)\r\n\r\n\r\n        canvas.drawText(&quot;Sayok Dey Majumder&quot;, 50f, 200f, shadowPaint)\r\n        //canvasIV.setLayerType(View.LAYER_TYPE_SOFTWARE, null)\r\n        canvasIV.setImageDrawable(BitmapDrawable(resources, imgBitmap))\r\n\r\n\r\n    }\r\n    fun convertToPixels(context: Context, nDP: Int): Float {\r\n        val conversionScale: Float = context.getResources().getDisplayMetrics().density\r\n        return (nDP * conversionScale + 0.5f)\r\n    }\r\n\r\n\r\n    fun getTextWidth(text: String, paint: Paint): Int {\r\n        val bounds = Rect()\r\n        paint.getTextBounds(text, 0, text.length, bounds)\r\n        return bounds.left + bounds.width()\r\n    }\r\n\r\n    fun getTextHeight(text: String, paint: Paint): Int {\r\n        val bounds = Rect()\r\n        paint.getTextBounds(text, 0, text.length, bounds)\r\n        return bounds.bottom + bounds.height()\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nWhat I am getting is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat I am trying to achieve:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZeKcp.jpg\r\n  [2]: https://i.stack.imgur.com/1mxUq.png","title":"How to increase Opacity/Strength of Shadow in canvas android?","body":"<p>I am trying to get a shadow effect on a text in canvas. The problem I am facing is the shadow that is being created is very dim and showing weird shapes. I am trying to overcome these problems. I am open to suggestions where I can create Images and save to disk without using canvas.</p>\n<p>Code:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var canvasIV: ImageView\n    private lateinit var imgBitmap: Bitmap\n    private lateinit var canvas: Canvas\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        canvasIV = findViewById(R.id.canvasIV)\n\n        val displayMetrics = DisplayMetrics()\n        windowManager.defaultDisplay.getMetrics(displayMetrics)\n        val height = displayMetrics.heightPixels\n        val width = displayMetrics.widthPixels\n\n\n        imgBitmap =\n            Bitmap.createBitmap(width, height, Bitmap.Config.RGB_565)\n        canvas = Canvas(imgBitmap)\n\n        canvas.drawBitmap(imgBitmap, 0f, 0f, null)\n\n        val shadowPaint = Paint()\n        shadowPaint.isAntiAlias = true\n        shadowPaint.color = Color.parseColor(&quot;#F897B9&quot;)\n\n        val tSize = 80.0f\n\n        shadowPaint.textSize = tSize\n        shadowPaint.strokeWidth = 20.0f\n        shadowPaint.style = Paint.Style.FILL\n        shadowPaint.alpha = 0x100\n        //shadowPaint.setShadowLayer(20.0f, 5f, 5f, Color.parseColor(&quot;#F897B9&quot;))\n        shadowPaint.setShadowLayer(tSize, 5f, 5f, Color.GREEN)\n\n\n        canvas.drawText(&quot;Sayok Dey Majumder&quot;, 50f, 200f, shadowPaint)\n        //canvasIV.setLayerType(View.LAYER_TYPE_SOFTWARE, null)\n        canvasIV.setImageDrawable(BitmapDrawable(resources, imgBitmap))\n\n\n    }\n    fun convertToPixels(context: Context, nDP: Int): Float {\n        val conversionScale: Float = context.getResources().getDisplayMetrics().density\n        return (nDP * conversionScale + 0.5f)\n    }\n\n\n    fun getTextWidth(text: String, paint: Paint): Int {\n        val bounds = Rect()\n        paint.getTextBounds(text, 0, text.length, bounds)\n        return bounds.left + bounds.width()\n    }\n\n    fun getTextHeight(text: String, paint: Paint): Int {\n        val bounds = Rect()\n        paint.getTextBounds(text, 0, text.length, bounds)\n        return bounds.bottom + bounds.height()\n    }\n\n\n}\n</code></pre>\n<p>What I am getting is:</p>\n<p><a href=\"https://i.stack.imgur.com/ZeKcp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZeKcp.jpg\" alt=\"enter image description here\" /></a></p>\n<p>What I am trying to achieve:</p>\n<p><a href=\"https://i.stack.imgur.com/1mxUq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1mxUq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","profiling","heap-memory"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1259142908,"post_id":1795778,"comment_id":1683465,"body_markdown":"I doubt that this is possible, but I&#39;ll be curious to see if it is.","body":"I doubt that this is possible, but I&#39;ll be curious to see if it is."},{"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"score":0,"creation_date":1259144007,"post_id":1795778,"comment_id":1683538,"body_markdown":"So do I but thought this would be the place to ask.","body":"So do I but thought this would be the place to ask."},{"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"score":0,"creation_date":1259146004,"post_id":1795778,"comment_id":1683672,"body_markdown":"I have only evaluated JProfiler and YourKit and have to say that the latter is doing so much better than the former when the memory is sparse. YMMV, of course. Never tried Eclipse MAT though.","body":"I have only evaluated JProfiler and YourKit and have to say that the latter is doing so much better than the former when the memory is sparse. YMMV, of course. Never tried Eclipse MAT though."},{"owner":{"account_id":42012,"reputation":3769,"user_id":122241,"display_name":"jprete"},"score":0,"creation_date":1259203374,"post_id":1795778,"comment_id":1689331,"body_markdown":"I know it&#39;s a terrible answer, but that&#39;s what comments are for. ;-) It might actually be faster to copy the 2-gig file over a VPN than to spend all of the time and effort required to find and learn a tool to do this for you. It depends a lot on just how many times you expect to do this; if it&#39;s less than five or six, you&#39;re probably better off copying the file.","body":"I know it&#39;s a terrible answer, but that&#39;s what comments are for. ;-) It might actually be faster to copy the 2-gig file over a VPN than to spend all of the time and effort required to find and learn a tool to do this for you. It depends a lot on just how many times you expect to do this; if it&#39;s less than five or six, you&#39;re probably better off copying the file."}],"answers":[{"tags":[],"owner":{"account_id":30184,"reputation":100023,"user_id":82156,"accept_rate":65,"display_name":"emmby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259221878,"creation_date":1259221878,"answer_id":1802154,"question_id":1795778,"body_markdown":"The latest versions of YourKit handle large heap dumps much better than before.  I&#39;ve had good success with it and highly recommend it.  A long time ago there was a tool called Auptyma by Virag Saksena, but it appears that it may have been bought by Oracle.","title":"Are there tools to analyse large Java heap dumps without loading the complete hprof file?","body":"<p>The latest versions of YourKit handle large heap dumps much better than before.  I've had good success with it and highly recommend it.  A long time ago there was a tool called Auptyma by Virag Saksena, but it appears that it may have been bought by Oracle.</p>\n"},{"tags":[],"owner":{"account_id":67017,"reputation":4157,"user_id":196315,"display_name":"ankon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1259516606,"creation_date":1259516606,"answer_id":1816165,"question_id":1795778,"body_markdown":"hprof files have a format that doesn&#39;t really work well without loading it fully and then applying some cross-referencing afterwards.\r\n\r\nHowever, you may be able to skip the hprof dump to get just basic information from the running VM by using `jmap`, `jstack`, and `visualvm` included in the JDK package.\r\nTypical memory leaks for example should be visible from the jmap heap histogram already, as you might be able to guess the places that produce or retain objects just by looking at the number of instances of a particular class.","title":"Are there tools to analyse large Java heap dumps without loading the complete hprof file?","body":"<p>hprof files have a format that doesn't really work well without loading it fully and then applying some cross-referencing afterwards.</p>\n\n<p>However, you may be able to skip the hprof dump to get just basic information from the running VM by using <code>jmap</code>, <code>jstack</code>, and <code>visualvm</code> included in the JDK package.\nTypical memory leaks for example should be visible from the jmap heap histogram already, as you might be able to guess the places that produce or retain objects just by looking at the number of instances of a particular class.</p>\n"}],"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4330,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":1816165,"answer_count":2,"score":8,"last_activity_date":1633122355,"creation_date":1259142279,"question_id":1795778,"body_markdown":"I use Eclipse MAT to analyse hprof files. It is very good but if you have a 2Gb heap dump then you need to run MAT with a 2Gb+ heap size itself to be able to load the complete heap dump.\r\n\r\nI was wondering if anyone knows of a tool that could analyse a 2Gb hprof file without using that much memory itself (e.g. it doesn&#39;t load the complete file but somehow walks through it)? This would be useful if a hprof file gets generated on a customer server as I could then run some analysis on the server instead of trying to copy a 2Gb file over a VPN.","title":"Are there tools to analyse large Java heap dumps without loading the complete hprof file?","body":"<p>I use Eclipse MAT to analyse hprof files. It is very good but if you have a 2Gb heap dump then you need to run MAT with a 2Gb+ heap size itself to be able to load the complete heap dump.</p>\n\n<p>I was wondering if anyone knows of a tool that could analyse a 2Gb hprof file without using that much memory itself (e.g. it doesn't load the complete file but somehow walks through it)? This would be useful if a hprof file gets generated on a customer server as I could then run some analysis on the server instead of trying to copy a 2Gb file over a VPN.</p>\n"},{"tags":["java","profiling","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1263223785,"creation_date":1263223785,"answer_id":2042763,"question_id":2042728,"body_markdown":"It&#39;s probably the max heap size for the JVM, which is set with the -Xmx command line argument.  The heap can increase up to that size, after which it will start throwing OutOfMemoryErrors.","title":"Java heap size in JMP","body":"<p>It's probably the max heap size for the JVM, which is set with the -Xmx command line argument.  The heap can increase up to that size, after which it will start throwing OutOfMemoryErrors.</p>\n"}],"owner":{"account_id":15141,"reputation":33502,"user_id":31667,"accept_rate":75,"display_name":"viraptor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":2042763,"answer_count":1,"score":0,"last_activity_date":1633122338,"creation_date":1263223524,"question_id":2042728,"body_markdown":"I&#39;m trying to profile a simple application in java, which basically only opens an RMI interface and waits for messages. When I open the application via TIJMP, it reports from the start:\r\n\r\nHeap: init - 0, used - 3MB, commited - 7MB, max - 643MB.\r\n\r\nNow I&#39;m pretty sure that simply starting the program didn&#39;t push the memory requirement over 600MB - it&#39;s just 3 class files and listening RMI. What does the max memory really mean here? Was it ever used, or is it simply the limit of the VM and I&#39;ve got only 7MB reserved (commited)?","title":"Java heap size in JMP","body":"<p>I'm trying to profile a simple application in java, which basically only opens an RMI interface and waits for messages. When I open the application via TIJMP, it reports from the start:</p>\n\n<p>Heap: init - 0, used - 3MB, commited - 7MB, max - 643MB.</p>\n\n<p>Now I'm pretty sure that simply starting the program didn't push the memory requirement over 600MB - it's just 3 class files and listening RMI. What does the max memory really mean here? Was it ever used, or is it simply the limit of the VM and I've got only 7MB reserved (commited)?</p>\n"},{"tags":["java","profiling","heap-memory","visualvm"],"answers":[{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334229634,"creation_date":1273595873,"answer_id":2812569,"question_id":2812474,"body_markdown":"With regards to your first issue, how long of a time slice did you observe the slow growth over.  When memory usage is quiescent in a Java process you&#39;ll typically see a sawtooth pattern develop.  Did you see any GC&#39;s occur in the same time slice?  If not, then thats more evidence that supports this idea.\r\n\r\nFor problem number two, it&#39;s really hard to say for certain without more information.  You would typically expect the application behaivor to differ when profiling is turned on because timing windows change, the application has to spend time reporting data *and* doing its normal work, etc.  It could be that when profiling is turned on, more memory allocations happen because your code is now instrumented, and this triggers a GC which lowers the heap usage.  Try doing a System.gc() in your application when profiling is turned off and tell us what your heap usage reports.\r\n","title":"Interpreting the results of a VisualVM profiling session","body":"<p>With regards to your first issue, how long of a time slice did you observe the slow growth over.  When memory usage is quiescent in a Java process you'll typically see a sawtooth pattern develop.  Did you see any GC's occur in the same time slice?  If not, then thats more evidence that supports this idea.</p>\n\n<p>For problem number two, it's really hard to say for certain without more information.  You would typically expect the application behaivor to differ when profiling is turned on because timing windows change, the application has to spend time reporting data <em>and</em> doing its normal work, etc.  It could be that when profiling is turned on, more memory allocations happen because your code is now instrumented, and this triggers a GC which lowers the heap usage.  Try doing a System.gc() in your application when profiling is turned off and tell us what your heap usage reports.</p>\n"},{"tags":[],"owner":{"account_id":910329,"reputation":1529,"user_id":944336,"accept_rate":90,"display_name":"parasietje"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1326199464,"creation_date":1326199464,"answer_id":8803476,"question_id":2812474,"body_markdown":"The jigsaw pattern in memory usage is due to the profiling results being transmitted over RMI. This is indeed very confusing and annoying to filter from real memory allocations by your program. See https://stackoverflow.com/questions/8803383/visualvm-profiling-is-polluting-results to find out how to filter these :-)","title":"Interpreting the results of a VisualVM profiling session","body":"<p>The jigsaw pattern in memory usage is due to the profiling results being transmitted over RMI. This is indeed very confusing and annoying to filter from real memory allocations by your program. See <a href=\"https://stackoverflow.com/questions/8803383/visualvm-profiling-is-polluting-results\">VisualVM profiling is polluting results</a> to find out how to filter these :-)</p>\n"}],"owner":{"account_id":53576,"reputation":75610,"user_id":160206,"accept_rate":80,"display_name":"Bj&#246;rn Pollex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1879,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1633122323,"creation_date":1273595158,"question_id":2812474,"body_markdown":"I have an application that writes some data (about 15mb in 80k tuples) into an SQLite database using [this][1] jdbc-driver on Mac OS X. This is done using transactions, the largest of which contains about 45k inserts into one table. When profiling the application, several things seems strange:\r\n\r\n 1. If I pause the application right at the beginning using `System.in.read()`, the memory allocated by the process keeps growing slowly. Why is that?\r\n 2. When the application runs, the heap space used is always at around 80mb in the VisualVM monitor. However, when profiling memory usage, I get a total of about 10mb. Can anyone explain this difference?\r\n\r\nThanks for any help.\r\n\r\n\r\n  [1]: http://www.zentus.com/sqlitejdbc/","title":"Interpreting the results of a VisualVM profiling session","body":"<p>I have an application that writes some data (about 15mb in 80k tuples) into an SQLite database using <a href=\"http://www.zentus.com/sqlitejdbc/\" rel=\"nofollow noreferrer\">this</a> jdbc-driver on Mac OS X. This is done using transactions, the largest of which contains about 45k inserts into one table. When profiling the application, several things seems strange:</p>\n\n<ol>\n<li>If I pause the application right at the beginning using <code>System.in.read()</code>, the memory allocated by the process keeps growing slowly. Why is that?</li>\n<li>When the application runs, the heap space used is always at around 80mb in the VisualVM monitor. However, when profiling memory usage, I get a total of about 10mb. Can anyone explain this difference?</li>\n</ol>\n\n<p>Thanks for any help.</p>\n"},{"tags":["java","profiling","heap-memory","constraint-programming"],"comments":[{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":1,"creation_date":1293392492,"post_id":4535140,"comment_id":4969306,"body_markdown":"Are you sure you don&#39;t have any kind of filter on the Allocated Object Size visualizer?  What profiler are you using? Also please paste the results of your profiler if the data is not sensetive.","body":"Are you sure you don&#39;t have any kind of filter on the Allocated Object Size visualizer?  What profiler are you using? Also please paste the results of your profiler if the data is not sensetive."},{"owner":{"account_id":238954,"reputation":4355,"user_id":508219,"accept_rate":86,"display_name":"malejpavouk"},"score":0,"creation_date":1293393047,"post_id":4535140,"comment_id":4969360,"body_markdown":"I am using netbeans profiler - http://img405.imageshack.us/i/profilerd.png/ the last point of used memory is 374MB (still much more than in allocated objects)...","body":"I am using netbeans profiler - <a href=\"http://img405.imageshack.us/i/profilerd.png/\" rel=\"nofollow noreferrer\">img405.imageshack.us/i/profilerd.png</a> the last point of used memory is 374MB (still much more than in allocated objects)..."},{"owner":{"account_id":238954,"reputation":4355,"user_id":508219,"accept_rate":86,"display_name":"malejpavouk"},"score":0,"creation_date":1293393313,"post_id":4535140,"comment_id":4969387,"body_markdown":"At the peak (in live results), the biggest array has about 30MB (everything else is proportionally smaller)...","body":"At the peak (in live results), the biggest array has about 30MB (everything else is proportionally smaller)..."}],"answers":[{"tags":[],"owner":{"account_id":208094,"reputation":6180,"user_id":458368,"accept_rate":64,"display_name":"JOTN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1293393722,"creation_date":1293393722,"answer_id":4535206,"question_id":4535140,"body_markdown":"Can you get a map of the heap?  Most likely it&#39;s fragmented so those 100M of objects are spread out across the entire memory space.  The memory needed is both a function of allocated objects and how fast they&#39;re being allocated and then de-referenced.  That error means the memory area is too small for the work load, the garbage collector is consuming a lot CPU managing it, and it went beyond the allowed threshold.","title":"Java used heap vs. allocated object size","body":"<p>Can you get a map of the heap?  Most likely it's fragmented so those 100M of objects are spread out across the entire memory space.  The memory needed is both a function of allocated objects and how fast they're being allocated and then de-referenced.  That error means the memory area is too small for the work load, the garbage collector is consuming a lot CPU managing it, and it went beyond the allowed threshold.</p>\n"},{"tags":[],"owner":{"account_id":238954,"reputation":4355,"user_id":508219,"accept_rate":86,"display_name":"malejpavouk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1293397999,"creation_date":1293397999,"answer_id":4535442,"question_id":4535140,"body_markdown":"**Amir Afghani was probably correct in his comment**. The classes (objects) in Netbeans 6.9.1 are probably somehow filtered (?or the profiler is bogus?), because when I performed the heap dump from java visual VM and analyzed it, it showed me !very! different numbers (which were in sum the same as the used heap).\r\n\r\nThanks for your replies.","title":"Java used heap vs. allocated object size","body":"<p><strong>Amir Afghani was probably correct in his comment</strong>. The classes (objects) in Netbeans 6.9.1 are probably somehow filtered (?or the profiler is bogus?), because when I performed the heap dump from java visual VM and analyzed it, it showed me !very! different numbers (which were in sum the same as the used heap).</p>\n\n<p>Thanks for your replies.</p>\n"}],"owner":{"account_id":238954,"reputation":4355,"user_id":508219,"accept_rate":86,"display_name":"malejpavouk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1055,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4535442,"answer_count":2,"score":2,"last_activity_date":1633122304,"creation_date":1293392188,"question_id":4535140,"body_markdown":"I have one probably dumb question. I am currently testing CSP solvers choco and jacop. When I run profiling of the app (graph colouring, about 3000 nodes), I dont fully understand the results.\r\n\r\nThe used heap space declared by profiler is about 1GB of memory. The sum of all object created is less than 100MB. Where are the other 900MB of RAM? \r\n\r\nI think that method calls (solvers probably use massive backtracking) are being alocated on stack, so here should not be the problem. When I reduce maximum memory by using Xmx param, the app fails with exception: \r\n\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded \r\n\r\nSo it seems, that the rest isnt unused uncollected memory (because in this case the GC would dealocate it (and would not fail)).\r\n\r\nThanks for your help.","title":"Java used heap vs. allocated object size","body":"<p>I have one probably dumb question. I am currently testing CSP solvers choco and jacop. When I run profiling of the app (graph colouring, about 3000 nodes), I dont fully understand the results.</p>\n\n<p>The used heap space declared by profiler is about 1GB of memory. The sum of all object created is less than 100MB. Where are the other 900MB of RAM? </p>\n\n<p>I think that method calls (solvers probably use massive backtracking) are being alocated on stack, so here should not be the problem. When I reduce maximum memory by using Xmx param, the app fails with exception: </p>\n\n<p>Exception in thread \"main\" java.lang.OutOfMemoryError: GC overhead limit exceeded </p>\n\n<p>So it seems, that the rest isnt unused uncollected memory (because in this case the GC would dealocate it (and would not fail)).</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","performance","memory-management","profiling","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":344466,"reputation":7026,"user_id":676803,"accept_rate":64,"display_name":"Drona"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1336977635,"creation_date":1336977635,"answer_id":10578496,"question_id":5978859,"body_markdown":"jmap and jhat are the core tools with command line interface. VisualVM is a visual workbench integrating command line tools to manage things more easily without having to work through the command line options. If you know and free comfortable working with command line tools then go with them. VisualVM doesnt do anything extra but provides a good visual interface for a better user experience. I believe it internally uses jmap/jhat. \r\n\r\nThe difference is analogous to the difference between a graphical debugger and a commandline debugger. It is often easier to work in a visual mode.","title":"jmap/jhat vs jVisualVM","body":"<p>jmap and jhat are the core tools with command line interface. VisualVM is a visual workbench integrating command line tools to manage things more easily without having to work through the command line options. If you know and free comfortable working with command line tools then go with them. VisualVM doesnt do anything extra but provides a good visual interface for a better user experience. I believe it internally uses jmap/jhat. </p>\n\n<p>The difference is analogous to the difference between a graphical debugger and a commandline debugger. It is often easier to work in a visual mode.</p>\n"}],"owner":{"account_id":82331,"reputation":14750,"user_id":231567,"accept_rate":81,"display_name":"Sandeep Jindal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2668,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1633122285,"creation_date":1305207516,"question_id":5978859,"body_markdown":"I understand that jmap is used to create heap dumps and the same can be analysed by Jhat.\r\n\r\njVisualVM also can be used to analyze the heap dumps (and can do much more tasks such as profiling etc).\r\n\r\nBut what is the difference between analyzing heap dumps using jHat and visualVM (other than one if using Web and second is desktop). What Sun is providing different tools and which one is better?\r\n\r\n\r\nPS: I have limited understanding of these tools as I have worked on limited profiling/analysis tools such as JProbe, Java Heap Dump Analyzer, etc. Please correct if my understanding is wrong somewhere.","title":"jmap/jhat vs jVisualVM","body":"<p>I understand that jmap is used to create heap dumps and the same can be analysed by Jhat.</p>\n\n<p>jVisualVM also can be used to analyze the heap dumps (and can do much more tasks such as profiling etc).</p>\n\n<p>But what is the difference between analyzing heap dumps using jHat and visualVM (other than one if using Web and second is desktop). What Sun is providing different tools and which one is better?</p>\n\n<p>PS: I have limited understanding of these tools as I have worked on limited profiling/analysis tools such as JProbe, Java Heap Dump Analyzer, etc. Please correct if my understanding is wrong somewhere.</p>\n"},{"tags":["java","optimization","profiling","heap-memory"],"comments":[{"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"score":2,"creation_date":1320340234,"post_id":7998994,"comment_id":9785882,"body_markdown":"The first thing to tell us is what algorithm and data structures you used to implement a spellchecker, code might be nice.","body":"The first thing to tell us is what algorithm and data structures you used to implement a spellchecker, code might be nice."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1320340354,"post_id":7998994,"comment_id":9785927,"body_markdown":"Since you are running out of memory, you need to find what data structures are using the most memory and optimise them so they use less.  To be more specific we would need more details.","body":"Since you are running out of memory, you need to find what data structures are using the most memory and optimise them so they use less.  To be more specific we would need more details."},{"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"score":0,"creation_date":1320340836,"post_id":7998994,"comment_id":9786089,"body_markdown":"@efficiencyIsBliss: a spellchecker should typically generates a list of &quot;candidates&quot; by using several methods, including using the &quot;double metaphone&quot; method or similar (finding valid words that sound like your word), generating a lot of possible variants (insert any one letter, remove each single letter, invert letters, etc. and keep the valid words you get).  Then you take all your candidates and compute the edit distance (using the brutally fast DP algo to compute the LED) and suggest first the words with the lowest edit distance.  How comes you generate up to an edit distance of 9?","body":"@efficiencyIsBliss: a spellchecker should typically generates a list of &quot;candidates&quot; by using several methods, including using the &quot;double metaphone&quot; method or similar (finding valid words that sound like your word), generating a lot of possible variants (insert any one letter, remove each single letter, invert letters, etc. and keep the valid words you get).  Then you take all your candidates and compute the edit distance (using the brutally fast DP algo to compute the LED) and suggest first the words with the lowest edit distance.  How comes you generate up to an edit distance of 9?"},{"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"score":0,"creation_date":1320341197,"post_id":7998994,"comment_id":9786201,"body_markdown":"@efficiencyIsBliss: My point is: you are the one generating the candidates and hence you should be able to dodge any combinatorial explosion.  The dynamic programming algo to compute the Levenhstein Edit Distance is blazingly fast and can be implemented so that it doesn&#39;t create a single object.  Here&#39;s an old but cool write-up on the subject you may like (including the dynamic programming LED):  http://www.ibm.com/developerworks/java/library/j-jazzy/","body":"@efficiencyIsBliss: My point is: you are the one generating the candidates and hence you should be able to dodge any combinatorial explosion.  The dynamic programming algo to compute the Levenhstein Edit Distance is blazingly fast and can be implemented so that it doesn&#39;t create a single object.  Here&#39;s an old but cool write-up on the subject you may like (including the dynamic programming LED):  <a href=\"http://www.ibm.com/developerworks/java/library/j-jazzy/\" rel=\"nofollow noreferrer\">ibm.com/developerworks/java/library/j-jazzy</a>"},{"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"score":0,"creation_date":1320341891,"post_id":7998994,"comment_id":9786456,"body_markdown":"@efficiencyIsBliss: seen the code you posted I think you somehow inverted your logic there.  I&#39;ll post some (working) code outlining how a simple spellchecker works.","body":"@efficiencyIsBliss: seen the code you posted I think you somehow inverted your logic there.  I&#39;ll post some (working) code outlining how a simple spellchecker works."},{"owner":{"account_id":162566,"reputation":3053,"user_id":384108,"accept_rate":71,"display_name":"efficiencyIsBliss"},"score":0,"creation_date":1320342527,"post_id":7998994,"comment_id":9786659,"body_markdown":"@user988052 My code works as it should (or atleast, I haven&#39;t found any problems yet). Would you mind explaining why you think my logic is inverted?","body":"@user988052 My code works as it should (or atleast, I haven&#39;t found any problems yet). Would you mind explaining why you think my logic is inverted?"},{"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"score":0,"creation_date":1320342784,"post_id":7998994,"comment_id":9786741,"body_markdown":"@efficiencyIsBliss: see my answer.  I don&#39;t know why you play trick with &quot;rows&quot; etc.  *(disclaimer: I&#39;ve actually coded a spellchecker back in the days where memory did matter, taking great care of bitpacking the dictionary as to have a minimal footprint ; )*","body":"@efficiencyIsBliss: see my answer.  I don&#39;t know why you play trick with &quot;rows&quot; etc.  <i>(disclaimer: I&#39;ve actually coded a spellchecker back in the days where memory did matter, taking great care of bitpacking the dictionary as to have a minimal footprint ; )</i>"}],"answers":[{"tags":[],"owner":{"account_id":23461,"reputation":5971,"user_id":58811,"accept_rate":100,"display_name":"Upul Bandara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1320340374,"creation_date":1320340374,"answer_id":7999070,"question_id":7998994,"body_markdown":"One thing you could try is, increase the Java&#39;s heap size, in order to overcome &quot;out of memory error&quot;.\r\n\r\nFollowing article will help you in order to understand how to increase heap size in Java\r\n\r\n[http://viralpatel.net/blogs/2009/01/jvm-java-increase-heap-size-setting-heap-size-jvm-heap.html][1]\r\n\r\nBut I think the better approach to address your problem is, find out a better algorithm than the current algorithm  \r\n\r\n\r\n  [1]: http://viralpatel.net/blogs/2009/01/jvm-java-increase-heap-size-setting-heap-size-jvm-heap.html","title":"Tips optimizing Java code","body":"<p>One thing you could try is, increase the Java's heap size, in order to overcome \"out of memory error\".</p>\n\n<p>Following article will help you in order to understand how to increase heap size in Java</p>\n\n<p><a href=\"http://viralpatel.net/blogs/2009/01/jvm-java-increase-heap-size-setting-heap-size-jvm-heap.html\" rel=\"nofollow\">http://viralpatel.net/blogs/2009/01/jvm-java-increase-heap-size-setting-heap-size-jvm-heap.html</a></p>\n\n<p>But I think the better approach to address your problem is, find out a better algorithm than the current algorithm  </p>\n"},{"tags":[],"owner":{"account_id":108976,"reputation":372,"user_id":288995,"display_name":"Christian Uhl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1320340583,"creation_date":1320340583,"answer_id":7999114,"question_id":7998994,"body_markdown":"Well without more Information on the topic there is not much the community could do for you... You can start with the following:\r\n\r\n 1. Look at what your Profiler says (after it has run a little while): Does anything pile up? Are there a lot of Objects - this should normally give you a hint on what is wrong with your code.\r\n\r\n 2. Publish your saved dump somewhere and link it in your question, so someone else could take a look at it. \r\n\r\n 3. Tell us which profiler you are using, then somebody can give you hints on where to look for valuable information.\r\n\r\n 4. After you have narrowed down your problem to a specific part of your Code, and you cannot figure out why there are so many objects of `$FOO` in your memory, post a snippet of the relevant part.","title":"Tips optimizing Java code","body":"<p>Well without more Information on the topic there is not much the community could do for you... You can start with the following:</p>\n\n<ol>\n<li><p>Look at what your Profiler says (after it has run a little while): Does anything pile up? Are there a lot of Objects - this should normally give you a hint on what is wrong with your code.</p></li>\n<li><p>Publish your saved dump somewhere and link it in your question, so someone else could take a look at it. </p></li>\n<li><p>Tell us which profiler you are using, then somebody can give you hints on where to look for valuable information.</p></li>\n<li><p>After you have narrowed down your problem to a specific part of your Code, and you cannot figure out why there are so many objects of <code>$FOO</code> in your memory, post a snippet of the relevant part.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1320346308,"creation_date":1320342689,"answer_id":7999594,"question_id":7998994,"body_markdown":"Here&#39;s some code I quickly crafted showing one way to generate the candidates and to then &quot;rank&quot; them.\r\n\r\nThe trick is: you never &quot;test&quot; a non-valid candidate.\r\n\r\nTo me your: *&quot;I run out of memory when I&#39;ve got an edit distance of 9&quot;* screams &quot;combinatorial explosion&quot;.\r\n\r\nOf course to dodge a combinatorial explosion you don&#39;t do thing like trying to generate yourself all words that are at a distance from &#39;9&#39; from your misspelled work.  You start from the misspelled word and generate (quite a lot) of possible candidates, but you refrain from creating too many candidates, for then you&#39;d run into trouble.\r\n\r\n*(also note that it doesn&#39;t make much sense to compute up to a Levenhstein Edit Distance of 9, because technically any word less than 10 letters can be transformed into any other word less than 10 letters in max 9 transformations)*\r\n\r\nHere&#39;s why you simply **cannot** test all words up to a distance of 9 without either having an OutOfMemory error or simply a program never terminating: \r\n\r\n- generating all the LED up to 1 for the word *&quot;ptmizing&quot;*, by only adding one letter (from a to z) generates already 9*26 variations (i.e. 324 variations) [there are 9 positions where you can insert one out of 26 letters)\r\n- generating all the LED up to 2, by only adding one letter to what we know have generates already 10*26*324 variations (60 840)\r\n- generating all the LED up to 3 gives: 17 400 240 variations\r\n\r\nAnd that is *only* by considering the case where we add one, add two or add three letters (we&#39;re not counting deletion, swaps, etc.).  And that is on a misspelled word that is only nine characters long.  On &quot;real&quot; words, it explodes even faster.\r\n\r\nSure, you could get &quot;smart&quot; and generate this in a way not to have too many dupes etc. but the point stays: it&#39;s a combinatorial explosion that explodes *fastly*.\r\n\r\nAnyway...  Here&#39;s an example.  I&#39;m simply passing the dictionary of valid words (containing only four words in this case) to the corresponding method to keep this short.\r\n\r\nYou&#39;ll obviously want to replace the call to the LED with your own LED implementation.\r\n\r\nThe double-metaphone is just an example: in a real spellchecker words that do &quot;sound alike&quot;\r\ndespite further LED should be considered as &quot;more correct&quot; and hence often suggest first.  For example &quot;optimizing&quot; and &quot;aupteemising&quot; are quite far from a LED point of view, but using the double-metaphone you should get &quot;optimizing&quot; as one of the first suggestion.\r\n\r\n*(disclaimer: following was cranked in a few minutes, it doesn&#39;t take into account uppercase, non-english words, etc.: it&#39;s not a real spell-checker, just an example)* \r\n\r\n       @Test\r\n        public void spellCheck() {\r\n            final String src = &quot;misspeled&quot;;\r\n            final Set&lt;String&gt; validWords = new HashSet&lt;String&gt;();\r\n            validWords.add(&quot;boing&quot;);\r\n            validWords.add(&quot;Yahoo!&quot;);\r\n            validWords.add(&quot;misspelled&quot;);\r\n            validWords.add(&quot;stackoverflow&quot;);\r\n            final List&lt;String&gt; candidates = findNonSortedCandidates( src, validWords );\r\n            final SortedMap&lt;Integer,String&gt; res = computeLevenhsteinEditDistanceForEveryCandidate(candidates, src);\r\n            for ( final Map.Entry&lt;Integer,String&gt; entry : res.entrySet() ) {\r\n                System.out.println( entry.getValue() + &quot; @ LED: &quot; + entry.getKey() );\r\n            }\r\n        }\r\n    \r\n        private SortedMap&lt;Integer, String&gt; computeLevenhsteinEditDistanceForEveryCandidate(\r\n                final List&lt;String&gt; candidates,\r\n                final String mispelledWord\r\n        ) {\r\n            final SortedMap&lt;Integer, String&gt; res = new TreeMap&lt;Integer, String&gt;();\r\n            for ( final String candidate : candidates ) {\r\n                res.put( dynamicProgrammingLED(candidate, mispelledWord), candidate );\r\n            }\r\n            return res;\r\n        }\r\n    \r\n        private int dynamicProgrammingLED( final String candidate, final String misspelledWord ) {\r\n            return Levenhstein.getLevenshteinDistance(candidate,misspelledWord);\r\n        }\r\n\r\nHere you generate all possible candidates using several methods.  I&#39;ve only implemented one such method (and quickly so it may be bogus but that&#39;s not the point ; )\r\n\r\n        private List&lt;String&gt; findNonSortedCandidates( final String src, final Set&lt;String&gt; validWords ) {\r\n            final List&lt;String&gt; res = new ArrayList&lt;String&gt;();\r\n            res.addAll( allCombinationAddingOneLetter(src, validWords) );\r\n    //        res.addAll( allCombinationRemovingOneLetter(src) );\r\n    //        res.addAll( allCombinationInvertingLetters(src) );\r\n            return res;\r\n        }\r\n    \r\n        private List&lt;String&gt; allCombinationAddingOneLetter( final String src, final Set&lt;String&gt; validWords ) {\r\n            final List&lt;String&gt; res = new ArrayList&lt;String&gt;();\r\n            for (char c = &#39;a&#39;; c &lt; &#39;z&#39;; c++) {\r\n                for (int i = 0; i &lt; src.length(); i++) {\r\n                    final String candidate = src.substring(0, i) + c + src.substring(i, src.length());\r\n                    if ( validWords.contains(candidate) ) {\r\n                        res.add(candidate); // only adding candidates we know are valid words\r\n                    }\r\n                }\r\n                if ( validWords.contains(src+c) ) {\r\n                    res.add( src + c );\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n\r\n","title":"Tips optimizing Java code","body":"<p>Here's some code I quickly crafted showing one way to generate the candidates and to then \"rank\" them.</p>\n\n<p>The trick is: you never \"test\" a non-valid candidate.</p>\n\n<p>To me your: <em>\"I run out of memory when I've got an edit distance of 9\"</em> screams \"combinatorial explosion\".</p>\n\n<p>Of course to dodge a combinatorial explosion you don't do thing like trying to generate yourself all words that are at a distance from '9' from your misspelled work.  You start from the misspelled word and generate (quite a lot) of possible candidates, but you refrain from creating too many candidates, for then you'd run into trouble.</p>\n\n<p><em>(also note that it doesn't make much sense to compute up to a Levenhstein Edit Distance of 9, because technically any word less than 10 letters can be transformed into any other word less than 10 letters in max 9 transformations)</em></p>\n\n<p>Here's why you simply <strong>cannot</strong> test all words up to a distance of 9 without either having an OutOfMemory error or simply a program never terminating: </p>\n\n<ul>\n<li>generating all the LED up to 1 for the word <em>\"ptmizing\"</em>, by only adding one letter (from a to z) generates already 9*26 variations (i.e. 324 variations) [there are 9 positions where you can insert one out of 26 letters)</li>\n<li>generating all the LED up to 2, by only adding one letter to what we know have generates already 10*26*324 variations (60 840)</li>\n<li>generating all the LED up to 3 gives: 17 400 240 variations</li>\n</ul>\n\n<p>And that is <em>only</em> by considering the case where we add one, add two or add three letters (we're not counting deletion, swaps, etc.).  And that is on a misspelled word that is only nine characters long.  On \"real\" words, it explodes even faster.</p>\n\n<p>Sure, you could get \"smart\" and generate this in a way not to have too many dupes etc. but the point stays: it's a combinatorial explosion that explodes <em>fastly</em>.</p>\n\n<p>Anyway...  Here's an example.  I'm simply passing the dictionary of valid words (containing only four words in this case) to the corresponding method to keep this short.</p>\n\n<p>You'll obviously want to replace the call to the LED with your own LED implementation.</p>\n\n<p>The double-metaphone is just an example: in a real spellchecker words that do \"sound alike\"\ndespite further LED should be considered as \"more correct\" and hence often suggest first.  For example \"optimizing\" and \"aupteemising\" are quite far from a LED point of view, but using the double-metaphone you should get \"optimizing\" as one of the first suggestion.</p>\n\n<p><em>(disclaimer: following was cranked in a few minutes, it doesn't take into account uppercase, non-english words, etc.: it's not a real spell-checker, just an example)</em> </p>\n\n<pre><code>   @Test\n    public void spellCheck() {\n        final String src = \"misspeled\";\n        final Set&lt;String&gt; validWords = new HashSet&lt;String&gt;();\n        validWords.add(\"boing\");\n        validWords.add(\"Yahoo!\");\n        validWords.add(\"misspelled\");\n        validWords.add(\"stackoverflow\");\n        final List&lt;String&gt; candidates = findNonSortedCandidates( src, validWords );\n        final SortedMap&lt;Integer,String&gt; res = computeLevenhsteinEditDistanceForEveryCandidate(candidates, src);\n        for ( final Map.Entry&lt;Integer,String&gt; entry : res.entrySet() ) {\n            System.out.println( entry.getValue() + \" @ LED: \" + entry.getKey() );\n        }\n    }\n\n    private SortedMap&lt;Integer, String&gt; computeLevenhsteinEditDistanceForEveryCandidate(\n            final List&lt;String&gt; candidates,\n            final String mispelledWord\n    ) {\n        final SortedMap&lt;Integer, String&gt; res = new TreeMap&lt;Integer, String&gt;();\n        for ( final String candidate : candidates ) {\n            res.put( dynamicProgrammingLED(candidate, mispelledWord), candidate );\n        }\n        return res;\n    }\n\n    private int dynamicProgrammingLED( final String candidate, final String misspelledWord ) {\n        return Levenhstein.getLevenshteinDistance(candidate,misspelledWord);\n    }\n</code></pre>\n\n<p>Here you generate all possible candidates using several methods.  I've only implemented one such method (and quickly so it may be bogus but that's not the point ; )</p>\n\n<pre><code>    private List&lt;String&gt; findNonSortedCandidates( final String src, final Set&lt;String&gt; validWords ) {\n        final List&lt;String&gt; res = new ArrayList&lt;String&gt;();\n        res.addAll( allCombinationAddingOneLetter(src, validWords) );\n//        res.addAll( allCombinationRemovingOneLetter(src) );\n//        res.addAll( allCombinationInvertingLetters(src) );\n        return res;\n    }\n\n    private List&lt;String&gt; allCombinationAddingOneLetter( final String src, final Set&lt;String&gt; validWords ) {\n        final List&lt;String&gt; res = new ArrayList&lt;String&gt;();\n        for (char c = 'a'; c &lt; 'z'; c++) {\n            for (int i = 0; i &lt; src.length(); i++) {\n                final String candidate = src.substring(0, i) + c + src.substring(i, src.length());\n                if ( validWords.contains(candidate) ) {\n                    res.add(candidate); // only adding candidates we know are valid words\n                }\n            }\n            if ( validWords.contains(src+c) ) {\n                res.add( src + c );\n            }\n        }\n        return res;\n    }\n</code></pre>\n"}],"owner":{"account_id":162566,"reputation":3053,"user_id":384108,"accept_rate":71,"display_name":"efficiencyIsBliss"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2248,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1633122268,"creation_date":1320340058,"question_id":7998994,"body_markdown":"So, I&#39;ve written a spellchecker in Java and things work as they should. The only problem is that if I use a word where the max allowed distance of edits is too large (like say, 9) then my code runs out of memory. I&#39;ve profiled my code and dumped the heap into a file, but I don&#39;t know how to use it to optimize my code. \r\n\r\nCan anyone offer any help? I&#39;m more than willing to put up the file/use any other approach that people might have. \r\n\r\n-Edit-\r\n\r\nMany people asked for more details in the comments. I figured that other people would find them useful, and they might get buried in the comments. Here they are:\r\n\r\n- I&#39;m using a Trie to store the words themselves.\r\n\r\n- In order to improve time efficiency, I don&#39;t compute the Levenshtein Distance upfront, but I                 calculate it as I go. What I mean by this is that I keep only two rows of the LD table in memory. Since a Trie is a prefix tree, it means that every time I recurse down a node, the previous letters of the word (and therefore the distance for those words) remains the same. Therefore, I only calculate the distance with that new letter included, with the previous row remaining unchanged.\r\n\r\n- The suggestions that I generate are stored in a HashMap. The rows of the LD table are stored in ArrayLists. \r\n\r\nHere&#39;s the code of the function in the Trie that leads to the problem. Building the Trie is pretty straight forward, and I haven&#39;t included the code for the same here. \r\n\r\n    /*\r\n     * @param letter: the letter that is currently being looked at in the trie\r\n     *        word: the word that we are trying to find matches for\r\n     *        previousRow: the previous row of the Levenshtein Distance table\r\n     *        suggestions: all the suggestions for the given word\r\n     *        maxd: max distance a word can be from th query and still be returned as suggestion\r\n     *        suggestion: the current suggestion being constructed\r\n     */\r\n\r\n\r\n    public void get(char letter, ArrayList&lt;Character&gt; word, ArrayList&lt;Integer&gt; previousRow, HashSet&lt;String&gt; suggestions, int maxd, String suggestion){\r\n\t\r\n\t// the new row of the trie that is to be computed.\r\n\tArrayList&lt;Integer&gt; currentRow = new ArrayList&lt;Integer&gt;(word.size()+1);\r\n\tcurrentRow.add(previousRow.get(0)+1);\r\n\t\r\n\tint insert = 0;\r\n\tint delete = 0;\r\n\tint swap = 0;\r\n\tint d = 0;\r\n\r\n\tfor(int i=1;i&lt;word.size()+1;i++){\r\n\t    delete = currentRow.get(i-1)+1;\r\n\t    insert = previousRow.get(i)+1;\r\n\r\n\t    if(word.get(i-1)==letter)\r\n\t\tswap = previousRow.get(i-1);\r\n\t    else\r\n\t\tswap = previousRow.get(i-1)+1;\r\n\r\n\t    d = Math.min(delete, Math.min(insert, swap));\r\n\t    currentRow.add(d);\r\n\t}\r\n\r\n\t// if this node represents a word and the distance so far is &lt;= maxd, then add this word as a suggestion\r\n\tif(isWord==true &amp;&amp; d&lt;=maxd){\r\n\t    suggestions.add(suggestion);\r\n        }\r\n\r\n\t// if any of the entries in the current row are &lt;=maxd, it means we can still find possible solutions. \r\n\t// recursively search all the branches of the trie\r\n\tfor(int i=0;i&lt;currentRow.size();i++){\r\n\t    if(currentRow.get(i)&lt;=maxd){\r\n\t\tfor(int j=0;j&lt;26;j++){\r\n\t\t    if(children[j]!=null){\r\n\t\t\tchildren[j].get((char)(j+97), word, currentRow, suggestions, maxd, suggestion+String.valueOf((char)(j+97))); \r\n\t\t    }\r\n\t\t}\r\n\t\tbreak;\r\n\t    }\t\r\n\t}\r\n    }\r\n\r\n","title":"Tips optimizing Java code","body":"<p>So, I've written a spellchecker in Java and things work as they should. The only problem is that if I use a word where the max allowed distance of edits is too large (like say, 9) then my code runs out of memory. I've profiled my code and dumped the heap into a file, but I don't know how to use it to optimize my code. </p>\n\n<p>Can anyone offer any help? I'm more than willing to put up the file/use any other approach that people might have. </p>\n\n<p>-Edit-</p>\n\n<p>Many people asked for more details in the comments. I figured that other people would find them useful, and they might get buried in the comments. Here they are:</p>\n\n<ul>\n<li><p>I'm using a Trie to store the words themselves.</p></li>\n<li><p>In order to improve time efficiency, I don't compute the Levenshtein Distance upfront, but I                 calculate it as I go. What I mean by this is that I keep only two rows of the LD table in memory. Since a Trie is a prefix tree, it means that every time I recurse down a node, the previous letters of the word (and therefore the distance for those words) remains the same. Therefore, I only calculate the distance with that new letter included, with the previous row remaining unchanged.</p></li>\n<li><p>The suggestions that I generate are stored in a HashMap. The rows of the LD table are stored in ArrayLists. </p></li>\n</ul>\n\n<p>Here's the code of the function in the Trie that leads to the problem. Building the Trie is pretty straight forward, and I haven't included the code for the same here. </p>\n\n<pre><code>/*\n * @param letter: the letter that is currently being looked at in the trie\n *        word: the word that we are trying to find matches for\n *        previousRow: the previous row of the Levenshtein Distance table\n *        suggestions: all the suggestions for the given word\n *        maxd: max distance a word can be from th query and still be returned as suggestion\n *        suggestion: the current suggestion being constructed\n */\n\n\npublic void get(char letter, ArrayList&lt;Character&gt; word, ArrayList&lt;Integer&gt; previousRow, HashSet&lt;String&gt; suggestions, int maxd, String suggestion){\n\n// the new row of the trie that is to be computed.\nArrayList&lt;Integer&gt; currentRow = new ArrayList&lt;Integer&gt;(word.size()+1);\ncurrentRow.add(previousRow.get(0)+1);\n\nint insert = 0;\nint delete = 0;\nint swap = 0;\nint d = 0;\n\nfor(int i=1;i&lt;word.size()+1;i++){\n    delete = currentRow.get(i-1)+1;\n    insert = previousRow.get(i)+1;\n\n    if(word.get(i-1)==letter)\n    swap = previousRow.get(i-1);\n    else\n    swap = previousRow.get(i-1)+1;\n\n    d = Math.min(delete, Math.min(insert, swap));\n    currentRow.add(d);\n}\n\n// if this node represents a word and the distance so far is &lt;= maxd, then add this word as a suggestion\nif(isWord==true &amp;&amp; d&lt;=maxd){\n    suggestions.add(suggestion);\n    }\n\n// if any of the entries in the current row are &lt;=maxd, it means we can still find possible solutions. \n// recursively search all the branches of the trie\nfor(int i=0;i&lt;currentRow.size();i++){\n    if(currentRow.get(i)&lt;=maxd){\n    for(int j=0;j&lt;26;j++){\n        if(children[j]!=null){\n        children[j].get((char)(j+97), word, currentRow, suggestions, maxd, suggestion+String.valueOf((char)(j+97))); \n        }\n    }\n    break;\n    }   \n}\n}\n</code></pre>\n"},{"tags":["java","out-of-memory","profiling","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":265988,"reputation":13467,"user_id":553308,"display_name":"Andrew T Finnell"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1356040213,"creation_date":1356040213,"answer_id":13981089,"question_id":13981062,"body_markdown":"You can use -XX:+HeapDumpOnOutOfMemoryError","title":"Dump Java heap shortly before OutOfMemoryException?","body":"<p>You can use -XX:+HeapDumpOnOutOfMemoryError</p>\n"},{"tags":[],"owner":{"account_id":1824055,"reputation":7962,"user_id":1657364,"display_name":"Guido Simone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356042175,"creation_date":1356042175,"answer_id":13981521,"question_id":13981062,"body_markdown":"If you really want to dump heap before you run out of memory, you could add a worker thread that periodically polls for memory usage (see [freeMemory](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Runtime.html#freeMemory())).  When you start running out of memory, you dump heap.  \r\n\r\nSee https://blogs.oracle.com/sundararajan/entry/programmatically_dumping_heap_from_java for how to dump heap from your application.\r\n","title":"Dump Java heap shortly before OutOfMemoryException?","body":"<p>If you really want to dump heap before you run out of memory, you could add a worker thread that periodically polls for memory usage (see <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Runtime.html#freeMemory%28%29\" rel=\"nofollow\">freeMemory</a>).  When you start running out of memory, you dump heap.  </p>\n\n<p>See <a href=\"https://blogs.oracle.com/sundararajan/entry/programmatically_dumping_heap_from_java\" rel=\"nofollow\">https://blogs.oracle.com/sundararajan/entry/programmatically_dumping_heap_from_java</a> for how to dump heap from your application.</p>\n"}],"owner":{"account_id":323621,"reputation":10723,"user_id":643742,"accept_rate":97,"display_name":"Franz Kafka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1356045091,"accepted_answer_id":13981089,"answer_count":2,"score":0,"last_activity_date":1633122194,"creation_date":1356040074,"question_id":13981062,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [Java VisualVM Enable Heap Dump on OOME](https://stackoverflow.com/questions/8311371/java-visualvm-enable-heap-dump-on-oome)  \r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\nI&#39;ve got an App that crashes because of an OOME. I would like to create a dump file of the heap shortly before the App crashes. I used `jdump` before to analyse the heap after a few hours of runtime, but nothing suspicious was found. I can run the app in some Eclipse profiler. Is there some way to create a heap dump shortly before a OOME is thrown on a server with a normal (or jdk) installation?","title":"Dump Java heap shortly before OutOfMemoryException?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/8311371/java-visualvm-enable-heap-dump-on-oome\">Java VisualVM Enable Heap Dump on OOME</a>  </p>\n</blockquote>\n\n\n\n<p>I've got an App that crashes because of an OOME. I would like to create a dump file of the heap shortly before the App crashes. I used <code>jdump</code> before to analyse the heap after a few hours of runtime, but nothing suspicious was found. I can run the app in some Eclipse profiler. Is there some way to create a heap dump shortly before a OOME is thrown on a server with a normal (or jdk) installation?</p>\n"},{"tags":["java","jakarta-ee","memory-management","profiling","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360928183,"creation_date":1360928183,"answer_id":14893865,"question_id":14893750,"body_markdown":"I&#39;d use the [`MemoryMXBean`](http://docs.oracle.com/javase/6/docs/api/java/lang/management/MemoryMXBean.html) myself. It can even provide notifications of the sort you described (heap threshold exceeded). This ***sample*** code is lifted directly from the Javadoc:\r\n\r\n    class MyListener implements javax.management.NotificationListener {\r\n        public void handleNotification(Notification notif, Object handback) {\r\n            // handle notification\r\n            ....\r\n        }\r\n    }\r\n    \r\n    MemoryMXBean mbean = ManagementFactory.getMemoryMXBean();\r\n    NotificationEmitter emitter = (NotificationEmitter) mbean;\r\n    MyListener listener = new MyListener();\r\n    emitter.addNotificationListener(listener, null, null);\r\n\r\n","title":"Monitoring memory usage from the code","body":"<p>I'd use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/management/MemoryMXBean.html\" rel=\"nofollow\"><code>MemoryMXBean</code></a> myself. It can even provide notifications of the sort you described (heap threshold exceeded). This <strong><em>sample</em></strong> code is lifted directly from the Javadoc:</p>\n\n<pre><code>class MyListener implements javax.management.NotificationListener {\n    public void handleNotification(Notification notif, Object handback) {\n        // handle notification\n        ....\n    }\n}\n\nMemoryMXBean mbean = ManagementFactory.getMemoryMXBean();\nNotificationEmitter emitter = (NotificationEmitter) mbean;\nMyListener listener = new MyListener();\nemitter.addNotificationListener(listener, null, null);\n</code></pre>\n"}],"owner":{"account_id":232234,"reputation":3842,"user_id":496934,"accept_rate":80,"display_name":"user496934"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633122162,"creation_date":1360927831,"question_id":14893750,"body_markdown":"  We are working on a Java based product which is deployed by our customers in production. There is a requirement that when the Java heap memory reaches a particular threshold, we should dump a line in the log file. Since the product is deployed at customer site in production, we cannot use any external tools or profiles. The only option is to do it programmatically from the code. I am thinking of implementing a thread that will sleep within intervals and call the Runtime.getRuntime().freeMemory() and based on the output will write to the logs. However, I wanted to know if there is any other better approach/better APIs that we can use for this.","title":"Monitoring memory usage from the code","body":"<p>We are working on a Java based product which is deployed by our customers in production. There is a requirement that when the Java heap memory reaches a particular threshold, we should dump a line in the log file. Since the product is deployed at customer site in production, we cannot use any external tools or profiles. The only option is to do it programmatically from the code. I am thinking of implementing a thread that will sleep within intervals and call the Runtime.getRuntime().freeMemory() and based on the output will write to the logs. However, I wanted to know if there is any other better approach/better APIs that we can use for this.</p>\n"},{"tags":["java","profiling","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":410264,"reputation":3756,"user_id":782011,"accept_rate":47,"display_name":"pacoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1421272782,"creation_date":1421272782,"answer_id":27953234,"question_id":27912101,"body_markdown":"It turns out that adding up the EU and OU columns of jstat is approximately equal to the heap usage shown in jvisualvm.  The EU+OU is always about 12 MB less than what&#39;s shown in jvisualvm for the process that I am monitoring.  (In the example I provided in my question, jvisualvm is showing 506 MB of heap usage and jstat shows EU+OU = 240 MB.  So I must have run jstat right after the heap usage dropped back down to 250 MB.)\r\n\r\nAdding up the EC and OC columns of jstat is approximately equal to the heap allocation shown in jvisualvm.  The EC+OC is about 45-60 MB less than what&#39;s shown in jvisualvm for the process that I am monitoring.","title":"Jstat and Jvisualvm show different numbers for heap usage/allocation","body":"<p>It turns out that adding up the EU and OU columns of jstat is approximately equal to the heap usage shown in jvisualvm.  The EU+OU is always about 12 MB less than what's shown in jvisualvm for the process that I am monitoring.  (In the example I provided in my question, jvisualvm is showing 506 MB of heap usage and jstat shows EU+OU = 240 MB.  So I must have run jstat right after the heap usage dropped back down to 250 MB.)</p>\n\n<p>Adding up the EC and OC columns of jstat is approximately equal to the heap allocation shown in jvisualvm.  The EC+OC is about 45-60 MB less than what's shown in jvisualvm for the process that I am monitoring.</p>\n"},{"tags":[],"owner":{"account_id":7866538,"reputation":1018,"user_id":5945199,"display_name":"Kevin Swann"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456745482,"creation_date":1456501624,"answer_id":35656032,"question_id":27912101,"body_markdown":"For Java 8, the **jstat** utility has been updated and for \r\n\r\n    jstat –gc &lt;PID&gt;\r\n\r\nhas these fields in the output:\r\n\r\n    S0C     S1C      S0U   S1U     EC       EU        OC         OU        MC      MU      CCSC   CCSU    YGC     YGCT    FGC     FGCT     GCT   \r\n\r\n    39936.0 29184.0  0.0   29035.4 273920.0 170661.5  699392.0   39235.9   98480.0 97022.7 8624.0 8163.3     63    0.925  38      2.363    3.289\r\n\r\n\r\n**Heap Usage**\r\n\r\nTo get the current heap usage, approximately the value in jVisualJM, the following values need to be added: \r\n\r\n    S0U: Survivor space 0 utilization (kB)\r\n\r\n    S1U: Survivor space 1 utilization (kB)\r\n\r\n    EU: Eden space utilization (kB)\r\n\r\n    OU: Old space utilization (kB)\r\n\r\n\r\nLooking at [Java 8 Virtual Machine Garbage Collection Tuning Guide](http://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/toc.html), \r\nit seems that the heap is made up of the &#39;Young&#39; generation (Eden &amp; Survivor 0 &amp; 1 spaces) and the &#39;Old&#39; generation (Old space).\r\n\r\n**Metaspace Usage**\r\n\r\nTo get the current metaspace usage, approximately the value in jVisualJM, the following size is needed:\r\n \r\n    MU: Metaspace utilization (kB)\r\n\r\n**Notes**\r\n\r\nFor whatever reason, I have never been able to get exactly the same values between jstat and jVisualJM but close enough to allow both tools be be used with confidence.\r\n\r\n**JVM Memory Pools**\r\n\r\nFor more details on the JVM memory pools, see this [StackOverflow question &amp; answer](https://stackoverflow.com/questions/2129044/java-heap-terminology-young-old-and-permanent-generations) which covers Java 7 &amp; 8.\r\n\r\nThere is also some info in the [Java 8 Using JConsole guide](http://docs.oracle.com/javase/8/docs/technotes/guides/management/jconsole.html) but surprisingly, this still mentions the Java 7 Permanent Generation space rather than the Java 8 Metaspace.","title":"Jstat and Jvisualvm show different numbers for heap usage/allocation","body":"<p>For Java 8, the <strong>jstat</strong> utility has been updated and for </p>\n\n<pre><code>jstat –gc &lt;PID&gt;\n</code></pre>\n\n<p>has these fields in the output:</p>\n\n<pre><code>S0C     S1C      S0U   S1U     EC       EU        OC         OU        MC      MU      CCSC   CCSU    YGC     YGCT    FGC     FGCT     GCT   \n\n39936.0 29184.0  0.0   29035.4 273920.0 170661.5  699392.0   39235.9   98480.0 97022.7 8624.0 8163.3     63    0.925  38      2.363    3.289\n</code></pre>\n\n<p><strong>Heap Usage</strong></p>\n\n<p>To get the current heap usage, approximately the value in jVisualJM, the following values need to be added: </p>\n\n<pre><code>S0U: Survivor space 0 utilization (kB)\n\nS1U: Survivor space 1 utilization (kB)\n\nEU: Eden space utilization (kB)\n\nOU: Old space utilization (kB)\n</code></pre>\n\n<p>Looking at <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/toc.html\" rel=\"nofollow noreferrer\">Java 8 Virtual Machine Garbage Collection Tuning Guide</a>, \nit seems that the heap is made up of the 'Young' generation (Eden &amp; Survivor 0 &amp; 1 spaces) and the 'Old' generation (Old space).</p>\n\n<p><strong>Metaspace Usage</strong></p>\n\n<p>To get the current metaspace usage, approximately the value in jVisualJM, the following size is needed:</p>\n\n<pre><code>MU: Metaspace utilization (kB)\n</code></pre>\n\n<p><strong>Notes</strong></p>\n\n<p>For whatever reason, I have never been able to get exactly the same values between jstat and jVisualJM but close enough to allow both tools be be used with confidence.</p>\n\n<p><strong>JVM Memory Pools</strong></p>\n\n<p>For more details on the JVM memory pools, see this <a href=\"https://stackoverflow.com/questions/2129044/java-heap-terminology-young-old-and-permanent-generations\">StackOverflow question &amp; answer</a> which covers Java 7 &amp; 8.</p>\n\n<p>There is also some info in the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/management/jconsole.html\" rel=\"nofollow noreferrer\">Java 8 Using JConsole guide</a> but surprisingly, this still mentions the Java 7 Permanent Generation space rather than the Java 8 Metaspace.</p>\n"},{"tags":[],"owner":{"account_id":2026188,"reputation":622,"user_id":2132826,"accept_rate":0,"display_name":"taitelman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509081004,"creation_date":1509081004,"answer_id":46967901,"question_id":27912101,"body_markdown":"easy unix command to see current retained heap size via jstat: (it matches jconsole numbers)\r\n\r\n    jstat -gc &lt;pid&gt; 3000 | awk &#39;{split($0,a,&quot; &quot;); print a[3]+a[4]+a[6]+a[8]}&#39;","title":"Jstat and Jvisualvm show different numbers for heap usage/allocation","body":"<p>easy unix command to see current retained heap size via jstat: (it matches jconsole numbers)</p>\n\n<pre><code>jstat -gc &lt;pid&gt; 3000 | awk '{split($0,a,\" \"); print a[3]+a[4]+a[6]+a[8]}'\n</code></pre>\n"}],"owner":{"account_id":410264,"reputation":3756,"user_id":782011,"accept_rate":47,"display_name":"pacoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1850,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27953234,"answer_count":3,"score":1,"last_activity_date":1633122050,"creation_date":1421103075,"question_id":27912101,"body_markdown":"There is a server on which I cannot run any GUI-based profilers such as jvisualvm to monitor the heap of a running Java process.  According to [this answer][1], I can use `jstat -gc &lt;pid&gt;` and look at the OU and OC columns to find out the heap usage and allocation.\r\n\r\nBut I just compared jvisualvm and jstat on another server, and they do not show the same numbers for the heap usage and allocation.\r\n\r\nJvisualvm shows that a Java process has about 1GB allocated for the heap and about 500MB of it is used:\r\n\r\n![enter image description here][2]\r\n\r\nBut for that same process, jstat shows only about 700MB under the OC column and about 226MB under the OU column:\r\n\r\n    # jstat -gc 39621\r\n    S0C    S1C    S0U    S1U      EC       EU        OC         OU       PC     PU    YGC     YGCT    FGC    FGCT     GCT\r\n    16384.0 17920.0 3984.0  0.0   322560.0 10320.4   699392.0   226295.2  83968.0 47921.1  11966   66.103  12      3.083   69.186\r\n\r\nWhy are jvisualvm and jstat showing different numbers for the heap usage and allocation?\r\n\r\n  [1]: https://stackoverflow.com/a/14464800/782011\r\n  [2]: http://i.stack.imgur.com/uQGsf.png","title":"Jstat and Jvisualvm show different numbers for heap usage/allocation","body":"<p>There is a server on which I cannot run any GUI-based profilers such as jvisualvm to monitor the heap of a running Java process.  According to <a href=\"https://stackoverflow.com/a/14464800/782011\">this answer</a>, I can use <code>jstat -gc &lt;pid&gt;</code> and look at the OU and OC columns to find out the heap usage and allocation.</p>\n\n<p>But I just compared jvisualvm and jstat on another server, and they do not show the same numbers for the heap usage and allocation.</p>\n\n<p>Jvisualvm shows that a Java process has about 1GB allocated for the heap and about 500MB of it is used:</p>\n\n<p><img src=\"https://i.stack.imgur.com/uQGsf.png\" alt=\"enter image description here\"></p>\n\n<p>But for that same process, jstat shows only about 700MB under the OC column and about 226MB under the OU column:</p>\n\n<pre><code># jstat -gc 39621\nS0C    S1C    S0U    S1U      EC       EU        OC         OU       PC     PU    YGC     YGCT    FGC    FGCT     GCT\n16384.0 17920.0 3984.0  0.0   322560.0 10320.4   699392.0   226295.2  83968.0 47921.1  11966   66.103  12      3.083   69.186\n</code></pre>\n\n<p>Why are jvisualvm and jstat showing different numbers for the heap usage and allocation?</p>\n"},{"tags":["java","performance","profiling","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":129245,"reputation":5515,"user_id":327694,"accept_rate":90,"display_name":"Josep Valls"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1441312728,"creation_date":1441311708,"answer_id":32384773,"question_id":32384583,"body_markdown":"Very brief answer to 1 and 4: Yes. Very brief answer to 2: No.\r\n\r\nYour garbage collector will have to do more work which is not good for performance. 3rd question is interesting.\r\nAre you running in something embedded or limited? Is it a huge multithreaded application? Does your application require more than the RAM available?\r\nIf you answer yes to any of these questions run the profiler but rather than play with different memory allocations, try to see where is your code eating up your ram? Are you using fancy objects (e.g List&lt;Byte&gt;) where you could be using native datatypes (e.g byte[])?","title":"How to (not) deal with high memory uses?","body":"<p>Very brief answer to 1 and 4: Yes. Very brief answer to 2: No.</p>\n\n<p>Your garbage collector will have to do more work which is not good for performance. 3rd question is interesting.\nAre you running in something embedded or limited? Is it a huge multithreaded application? Does your application require more than the RAM available?\nIf you answer yes to any of these questions run the profiler but rather than play with different memory allocations, try to see where is your code eating up your ram? Are you using fancy objects (e.g List) where you could be using native datatypes (e.g byte[])?</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441312258,"creation_date":1441312258,"answer_id":32384907,"question_id":32384583,"body_markdown":"1) yes, you have less available memory, \r\n\r\n2) it is common to set the memory size to suit the program. \r\n\r\n3) the best way to find out the optimal size is to test you program with a realistic work load. \r\n\r\n4) Yes, sometimes a little, some times a lot. It depends on what you are doing.  If you need to save memory, you may find that it is worth an acceptable performance hit.","title":"How to (not) deal with high memory uses?","body":"<p>1) yes, you have less available memory, </p>\n\n<p>2) it is common to set the memory size to suit the program. </p>\n\n<p>3) the best way to find out the optimal size is to test you program with a realistic work load. </p>\n\n<p>4) Yes, sometimes a little, some times a lot. It depends on what you are doing.  If you need to save memory, you may find that it is worth an acceptable performance hit.</p>\n"},{"tags":[],"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441330459,"creation_date":1441330459,"answer_id":32388803,"question_id":32384583,"body_markdown":"Chances are you are using `new` a whole lot more than you really need to.\r\n\r\nIf so, it is also affecting your performance, because `new` is not cheap, even if you don&#39;t count `gc`.\r\n\r\nThere&#39;s a quick way to find out.\r\nTake several samples, as in [*this post*](https://stackoverflow.com/a/317160/23771).\r\nIf you find more than a couple of them are doing `new`, that&#39;s your problem.\r\n\r\nWhat people often do is have `new` inside a loop, when they could just as well have it outside.\r\n\r\nA related problem is they may do a lot of `string + string + string`, which does a lot of `new`-ing underneath, when they could just as well use a string builder.","title":"How to (not) deal with high memory uses?","body":"<p>Chances are you are using <code>new</code> a whole lot more than you really need to.</p>\n\n<p>If so, it is also affecting your performance, because <code>new</code> is not cheap, even if you don't count <code>gc</code>.</p>\n\n<p>There's a quick way to find out.\nTake several samples, as in <a href=\"https://stackoverflow.com/a/317160/23771\"><em>this post</em></a>.\nIf you find more than a couple of them are doing <code>new</code>, that's your problem.</p>\n\n<p>What people often do is have <code>new</code> inside a loop, when they could just as well have it outside.</p>\n\n<p>A related problem is they may do a lot of <code>string + string + string</code>, which does a lot of <code>new</code>-ing underneath, when they could just as well use a string builder.</p>\n"}],"owner":{"account_id":5647506,"reputation":359,"user_id":4469105,"accept_rate":95,"display_name":"cmtjk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32384773,"answer_count":3,"score":0,"last_activity_date":1633121986,"creation_date":1441310965,"question_id":32384583,"body_markdown":"I&#39;m new to profiling java applications and I was uncertain when I saw my small application could take up to 800MB memory twice as much as the whole operating system and around 450MB after some user interaction.\r\n\r\n[![heap without heap limitation][1]][1]\r\n\r\n\r\nSo I&#39;ve red some articles about how memory allocation and gc work and it seems the JVM takes all it can get and that most times it&#39;s not necessary to have that much memory for your application to run.\r\n\r\nSo I tested how much I can limit the heap without crashing my application and stopped testing at -Xmx32MB.\r\n\r\n[![heap limited to 32MB][2]][2]\r\n\r\nI was suprised that there was no recognizeable performance loss beside the fact the application uses nearly 30 times fewer memory.\r\n\r\nSo now I&#39;m wondering...\r\n\r\n(1) ... if there are any downsites of limiting the heap?\r\n\r\n(2) ... if it&#39;s common the limit the heap or if it&#39;s recommandable to let the JVW decide how much memory it needs and want to use?\r\n\r\n(3) ... what&#39;s the best way to find out what&#39;s the minimum memory size your application needs to run? (I&#39;m just interested)\r\n\r\n(4) ... should I experience performance losses when limiting the heap?\r\n\r\nThank you in advance!\r\n\r\n  [1]: http://i.stack.imgur.com/CAfoW.png\r\n  [2]: http://i.stack.imgur.com/RkbnJ.png","title":"How to (not) deal with high memory uses?","body":"<p>I'm new to profiling java applications and I was uncertain when I saw my small application could take up to 800MB memory twice as much as the whole operating system and around 450MB after some user interaction.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CAfoW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CAfoW.png\" alt=\"heap without heap limitation\"></a></p>\n\n<p>So I've red some articles about how memory allocation and gc work and it seems the JVM takes all it can get and that most times it's not necessary to have that much memory for your application to run.</p>\n\n<p>So I tested how much I can limit the heap without crashing my application and stopped testing at -Xmx32MB.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RkbnJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RkbnJ.png\" alt=\"heap limited to 32MB\"></a></p>\n\n<p>I was suprised that there was no recognizeable performance loss beside the fact the application uses nearly 30 times fewer memory.</p>\n\n<p>So now I'm wondering...</p>\n\n<p>(1) ... if there are any downsites of limiting the heap?</p>\n\n<p>(2) ... if it's common the limit the heap or if it's recommandable to let the JVW decide how much memory it needs and want to use?</p>\n\n<p>(3) ... what's the best way to find out what's the minimum memory size your application needs to run? (I'm just interested)</p>\n\n<p>(4) ... should I experience performance losses when limiting the heap?</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["java","performance","profiling","heap-memory"],"comments":[{"owner":{"account_id":8339892,"reputation":475,"user_id":6265509,"display_name":"Minh Kieu"},"score":0,"creation_date":1463477269,"post_id":37259368,"comment_id":62070126,"body_markdown":"Have you tried using a professional tools like JProfile and YourKit? Just to rule out that it is not your method/JVM arguments at fault. Also, your using 2d array, surely that will eat up heaps space. What is your JVM settings?","body":"Have you tried using a professional tools like JProfile and YourKit? Just to rule out that it is not your method/JVM arguments at fault. Also, your using 2d array, surely that will eat up heaps space. What is your JVM settings?"},{"owner":{"account_id":1050315,"reputation":5819,"user_id":1054435,"accept_rate":77,"display_name":"I Z"},"score":0,"creation_date":1463490400,"post_id":37259368,"comment_id":62079504,"body_markdown":"Which specific settings are you referring to?","body":"Which specific settings are you referring to?"},{"owner":{"account_id":8339892,"reputation":475,"user_id":6265509,"display_name":"Minh Kieu"},"score":0,"creation_date":1463569899,"post_id":37259368,"comment_id":62118410,"body_markdown":"JVM runtime settings, I.e. heaps, newSize etc","body":"JVM runtime settings, I.e. heaps, newSize etc"}],"owner":{"account_id":1050315,"reputation":5819,"user_id":1054435,"accept_rate":77,"display_name":"I Z"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633121898,"creation_date":1463418278,"question_id":37259368,"body_markdown":"I am trying to profile a java 7 application running on a redhat machine. When I run it as follows:\r\n\r\n    java -agentlib:hprof=cpu=samples,depth=10,monitor=y,thread=y ...\r\n\r\na particular block of code that creates a table-type object by reading a very large gzipped text file line by line completes in about 6 minutes. When I run it like this:\r\n\r\n    java -agentlib:hprof=heap=sites,depth=10,monitor=y,thread=y ...\r\n\r\nthe same block takes several orders of magnitude more time to complete (I am estimating something like 24 hours)\r\n\r\nHere&#39;s the method (part of a class) that reads in the file:\r\n\r\n    private static void ingestValues()\r\n\t{\r\n\t\tint mSize = 30000;\r\n\r\n\t\tpairScoresTable = new float[mSize][];\r\n\t\tfor (int i = 0; i &lt; pairScoresTable.length; i++) {\r\n\t\t\tpairScoresTable[i] = new float[mSize];\r\n\t\t\tArrays.fill(pairScoresTable[i], fillVal);\r\n\t\t}\r\n\r\n\t\ttry\r\n\t\t{\r\n\r\n\t\t\tBufferedReader bufferedReader = \r\n\t\t\t\tnew BufferedReader(\r\n\t\t\t\t\tnew InputStreamReader(\r\n\t\t\t\t\t\tnew GZIPInputStream(\r\n\t\t\t\t\t\t\tnew FileInputStream(rawPath)), &quot;US-ASCII&quot;));\r\n\t\t\tString line = null;\r\n\r\n\t\t\twhile((line = bufferedReader.readLine()) != null) {\t// file has 388661141 lines\r\n\r\n\t\t\t\tFloat value = 0.0F;\r\n\t\t\t\tInteger i = 0;\r\n\t\t\t\tInteger j = 0;\r\n\r\n\t\t\t\t// extract value, i and j by parsing line...\r\n\r\n\t\t\t\tpairScoresTable[i][j] = value;\r\n\t\t\t\tpairScoresTable[j][i] = value;\r\n\r\n\t\t\t}\r\n\t\t\tbufferedReader.close();\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\treturn;\r\n\t}\r\n\r\nSo it basically reads a file each line of which is formatted to describe the position of a `value` in the 2d matrix `pairScoresTable`.\r\n\r\nWhy is there such a large difference in execution time? Is there a way to do heap profiling of this code faster without having to refactor it?","title":"Java heap profiling seems to freeze during large file ingestion","body":"<p>I am trying to profile a java 7 application running on a redhat machine. When I run it as follows:</p>\n\n<pre><code>java -agentlib:hprof=cpu=samples,depth=10,monitor=y,thread=y ...\n</code></pre>\n\n<p>a particular block of code that creates a table-type object by reading a very large gzipped text file line by line completes in about 6 minutes. When I run it like this:</p>\n\n<pre><code>java -agentlib:hprof=heap=sites,depth=10,monitor=y,thread=y ...\n</code></pre>\n\n<p>the same block takes several orders of magnitude more time to complete (I am estimating something like 24 hours)</p>\n\n<p>Here's the method (part of a class) that reads in the file:</p>\n\n<pre><code>private static void ingestValues()\n{\n    int mSize = 30000;\n\n    pairScoresTable = new float[mSize][];\n    for (int i = 0; i &lt; pairScoresTable.length; i++) {\n        pairScoresTable[i] = new float[mSize];\n        Arrays.fill(pairScoresTable[i], fillVal);\n    }\n\n    try\n    {\n\n        BufferedReader bufferedReader = \n            new BufferedReader(\n                new InputStreamReader(\n                    new GZIPInputStream(\n                        new FileInputStream(rawPath)), \"US-ASCII\"));\n        String line = null;\n\n        while((line = bufferedReader.readLine()) != null) { // file has 388661141 lines\n\n            Float value = 0.0F;\n            Integer i = 0;\n            Integer j = 0;\n\n            // extract value, i and j by parsing line...\n\n            pairScoresTable[i][j] = value;\n            pairScoresTable[j][i] = value;\n\n        }\n        bufferedReader.close();\n    }\n    catch(Exception e)\n    {\n        return;\n    }\n\n    return;\n}\n</code></pre>\n\n<p>So it basically reads a file each line of which is formatted to describe the position of a <code>value</code> in the 2d matrix <code>pairScoresTable</code>.</p>\n\n<p>Why is there such a large difference in execution time? Is there a way to do heap profiling of this code faster without having to refactor it?</p>\n"},{"tags":["java","performance","profiling","heap-memory","profiler"],"owner":{"account_id":5601812,"reputation":41,"user_id":4437812,"display_name":"ikr_2014"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1633121868,"creation_date":1482770908,"question_id":41334005,"body_markdown":"Is there a way to precisely get maximum used heap memory? \r\n\r\nI was using below piece of code \r\n\r\n    String memoryUsage = new String();\r\n        List pools = ManagementFactory.getMemoryPoolMXBeans();\r\n        for (MemoryPoolMXBean pool : pools) {\r\n            MemoryUsage peak = pool.getPeakUsage();\r\n            memoryUsage += String.format(&quot;Peak %s memory used: %,d%n&quot;, pool.getName(),peak.getUsed());\r\n            memoryUsage += String.format(&quot;Peak %s memory reserved: %,d%n&quot;, pool.getName(), peak.getCommitted());\r\n        }\r\n        // we print the result in the console\r\n        System.out.println(memoryUsage);\r\n\r\nBut it does not show the same results like in profiler (results are quite different). Is this correct way to get maximum used heap memory in Java application? \r\n","title":"java get peak of used heap memory","body":"<p>Is there a way to precisely get maximum used heap memory? </p>\n\n<p>I was using below piece of code </p>\n\n<pre><code>String memoryUsage = new String();\n    List pools = ManagementFactory.getMemoryPoolMXBeans();\n    for (MemoryPoolMXBean pool : pools) {\n        MemoryUsage peak = pool.getPeakUsage();\n        memoryUsage += String.format(\"Peak %s memory used: %,d%n\", pool.getName(),peak.getUsed());\n        memoryUsage += String.format(\"Peak %s memory reserved: %,d%n\", pool.getName(), peak.getCommitted());\n    }\n    // we print the result in the console\n    System.out.println(memoryUsage);\n</code></pre>\n\n<p>But it does not show the same results like in profiler (results are quite different). Is this correct way to get maximum used heap memory in Java application? </p>\n"},{"tags":["java","jvm","profiling","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1545303033,"creation_date":1545303033,"answer_id":53867191,"question_id":53863887,"body_markdown":"Valgrind (and Valgrind-based tools) [does not work well](http://valgrind.org/docs/manual/faq.html#faq.java) with self-modifying code. However, HotSpot JVM heavily relies on dynamic code generation, including overwriting and patching the previously generated instructions. This holds even when JIT compiler is disabled, because HotSpot also uses dynamic code generation for interpreter and runtime stubs.\r\n\r\nFor native memory allocation profiling you may also use [jemalloc](http://jemalloc.net/) or [async-profiler](https://github.com/jvm-profiling-tools/async-profiler). The latter has the advatange of integration with Java runtime, i.e. it can show mixed stack traces with both native and Java frames. Furthermore, both tools have rather small performance overhead unlike Valgrind which virtualizes the running program.\r\n\r\nFor more information see [this](https://stackoverflow.com/a/53624438/3448419) and [this](https://stackoverflow.com/a/53598622/3448419) answers.","title":"Java heap profiling crashes with SIGABRT","body":"<p>Valgrind (and Valgrind-based tools) <a href=\"http://valgrind.org/docs/manual/faq.html#faq.java\" rel=\"nofollow noreferrer\">does not work well</a> with self-modifying code. However, HotSpot JVM heavily relies on dynamic code generation, including overwriting and patching the previously generated instructions. This holds even when JIT compiler is disabled, because HotSpot also uses dynamic code generation for interpreter and runtime stubs.</p>\n\n<p>For native memory allocation profiling you may also use <a href=\"http://jemalloc.net/\" rel=\"nofollow noreferrer\">jemalloc</a> or <a href=\"https://github.com/jvm-profiling-tools/async-profiler\" rel=\"nofollow noreferrer\">async-profiler</a>. The latter has the advatange of integration with Java runtime, i.e. it can show mixed stack traces with both native and Java frames. Furthermore, both tools have rather small performance overhead unlike Valgrind which virtualizes the running program.</p>\n\n<p>For more information see <a href=\"https://stackoverflow.com/a/53624438/3448419\">this</a> and <a href=\"https://stackoverflow.com/a/53598622/3448419\">this</a> answers.</p>\n"}],"owner":{"account_id":3313246,"reputation":26479,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":964,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53867191,"answer_count":1,"score":0,"last_activity_date":1633121847,"creation_date":1545289459,"question_id":53863887,"body_markdown":"I&#39;m trying to profile native memory allocated by C-written methods and plugged to `JVM` through `JNI`. I installed \r\n\r\n    $ valgrind --version\r\n    valgrind-3.13.0\r\n\r\nAnd tried to run JVM with the following options:\r\n\r\n    valgrind --tool=massif --massif-out-file=/tmp/massif-j.out java \r\n        -XX:+UnlockDiagnosticVMOptions //...\r\n\r\nThe thing is it crashes with core dump created\r\n\r\n      0x00000000080e4196: fxrstor64 (%rsp)\r\n      0x00000000080e419b: add     $0x200,%rsp\r\n      0x00000000080e41a2: mov     (%rsp),%r15\r\n      0x00000000080e41a6: mov     0x8(%rsp),%r14\r\n      0x00000000080e41ab: mov     0x10(%rsp),%r13\r\n      0x00000000080e41b0: mov     0x18(%rsp),%r12\r\n      0x00000000080e41b5: mov     0x20(%rsp),%r11\r\n      0x00000000080e41ba: mov     0x28(%rsp),%r10\r\n      0x00000000080e41bf: mov     0x30(%rsp),%r9\r\n      0x00000000080e41c4: mov     0x38(%rsp),%r8\r\n      0x00000000080e41c9: mov     0x40(%rsp),%rdi\r\n      0x00000000080e41ce: mov     0x48(%rsp),%rsi\r\n      0x00000000080e41d3: mov     0x50(%rsp),%rbp\r\n      0x00000000080e41d8: mov     0x60(%rsp),%rbx\r\n      0x00000000080e41dd: mov     0x68(%rsp),%rdx\r\n      0x00000000080e41e2: mov     0x70(%rsp),%rcx\r\n      0x00000000080e41e7: mov     0x78(%rsp),%rax\r\n      0x00000000080e41ec: add     $0x80,%rsp\r\n      0x00000000080e41f3: add     $0x8,%rsp\r\n      0x00000000080e41f7: Fatal error: Disassembling failed with error code: 15#\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  Internal Error (sharedRuntime.cpp:834), pid=12441, tid=0x0000000021385700\r\n    #  fatal error: exception happened outside interpreter, nmethods and vtable stubs at pc 0x00000000080e4147\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (8.0_181-b13) (build 1.8.0_181-b13)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.181-b13 mixed mode linux-amd64 compressed oops)\r\n    # Core dump written. Default location: /var/log/prj/core or core.12441\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # /var/log/prj/hs_err_pid12441.log\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://bugreport.java.com/bugreport/crash.jsp\r\n    #\r\n    ==12441==\r\n    ==12441== Process terminating with default action of signal 6 (SIGABRT): dumping core\r\n    ==12441==    at 0x54AAE97: raise (raise.c:51)\r\n    ==12441==    by 0x54AC800: abort (abort.c:79)\r\n    ==12441==    by 0x658B3C4: ??? (in /usr/lib/jvm/java-oracle-8-amd64/jdk/jre/lib/amd64/server/libjvm.so)\r\n    ==12441==    by 0x672F5B2: ??? (in /usr/lib/jvm/java-oracle-8-amd64/jdk/jre/lib/amd64/server/libjvm.so)\r\n    ==12441==    by 0x615EE98: ??? (in /usr/lib/jvm/java-oracle-8-amd64/jdk/jre/lib/amd64/server/libjvm.so)\r\n    ==12441==    by 0x662A099: ??? (in /usr/lib/jvm/java-oracle-8-amd64/jdk/jre/lib/amd64/server/libjvm.so)\r\n    ==12441==    by 0x6591A49: JVM_handle_linux_signal (in /usr/lib/jvm/java-oracle-8-amd64/jdk/jre/lib/amd64/server/libjvm.so)\r\n    ==12441==    by 0x6587652: ??? (in /usr/lib/jvm/java-oracle-8-amd64/jdk/jre/lib/amd64/server/libjvm.so)\r\n    ==12441==    by 0x4E4588F: ??? (in /lib/x86_64-linux-gnu/libpthread-2.27.so)\r\n    ==12441==    by 0x80E4146: ???\r\n    ==12441==    by 0x107: ???\r\n    ==12441==    by 0x84CBC43: ???\r\n    ==12441==    by 0x10001BD37: ???\r\n    ==12441==    by 0xFDC7103F: ???\r\n    ==12441==    by 0xA3FFFFFFFF: ???\r\n    ==12441==    by 0xFF9275A7: ???\r\n    ==12441==\r\n\r\nCan anyone give an idea of what could go wrong? Is that because of `Fatal error: Disassembling failed with error code: 15#`?","title":"Java heap profiling crashes with SIGABRT","body":"<p>I'm trying to profile native memory allocated by C-written methods and plugged to <code>JVM</code> through <code>JNI</code>. I installed </p>\n\n<pre><code>$ valgrind --version\nvalgrind-3.13.0\n</code></pre>\n\n<p>And tried to run JVM with the following options:</p>\n\n<pre><code>valgrind --tool=massif --massif-out-file=/tmp/massif-j.out java \n    -XX:+UnlockDiagnosticVMOptions //...\n</code></pre>\n\n<p>The thing is it crashes with core dump created</p>\n\n<pre><code>  0x00000000080e4196: fxrstor64 (%rsp)\n  0x00000000080e419b: add     $0x200,%rsp\n  0x00000000080e41a2: mov     (%rsp),%r15\n  0x00000000080e41a6: mov     0x8(%rsp),%r14\n  0x00000000080e41ab: mov     0x10(%rsp),%r13\n  0x00000000080e41b0: mov     0x18(%rsp),%r12\n  0x00000000080e41b5: mov     0x20(%rsp),%r11\n  0x00000000080e41ba: mov     0x28(%rsp),%r10\n  0x00000000080e41bf: mov     0x30(%rsp),%r9\n  0x00000000080e41c4: mov     0x38(%rsp),%r8\n  0x00000000080e41c9: mov     0x40(%rsp),%rdi\n  0x00000000080e41ce: mov     0x48(%rsp),%rsi\n  0x00000000080e41d3: mov     0x50(%rsp),%rbp\n  0x00000000080e41d8: mov     0x60(%rsp),%rbx\n  0x00000000080e41dd: mov     0x68(%rsp),%rdx\n  0x00000000080e41e2: mov     0x70(%rsp),%rcx\n  0x00000000080e41e7: mov     0x78(%rsp),%rax\n  0x00000000080e41ec: add     $0x80,%rsp\n  0x00000000080e41f3: add     $0x8,%rsp\n  0x00000000080e41f7: Fatal error: Disassembling failed with error code: 15#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  Internal Error (sharedRuntime.cpp:834), pid=12441, tid=0x0000000021385700\n#  fatal error: exception happened outside interpreter, nmethods and vtable stubs at pc 0x00000000080e4147\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_181-b13) (build 1.8.0_181-b13)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.181-b13 mixed mode linux-amd64 compressed oops)\n# Core dump written. Default location: /var/log/prj/core or core.12441\n#\n# An error report file with more information is saved as:\n# /var/log/prj/hs_err_pid12441.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n#\n==12441==\n==12441== Process terminating with default action of signal 6 (SIGABRT): dumping core\n==12441==    at 0x54AAE97: raise (raise.c:51)\n==12441==    by 0x54AC800: abort (abort.c:79)\n==12441==    by 0x658B3C4: ??? (in /usr/lib/jvm/java-oracle-8-amd64/jdk/jre/lib/amd64/server/libjvm.so)\n==12441==    by 0x672F5B2: ??? (in /usr/lib/jvm/java-oracle-8-amd64/jdk/jre/lib/amd64/server/libjvm.so)\n==12441==    by 0x615EE98: ??? (in /usr/lib/jvm/java-oracle-8-amd64/jdk/jre/lib/amd64/server/libjvm.so)\n==12441==    by 0x662A099: ??? (in /usr/lib/jvm/java-oracle-8-amd64/jdk/jre/lib/amd64/server/libjvm.so)\n==12441==    by 0x6591A49: JVM_handle_linux_signal (in /usr/lib/jvm/java-oracle-8-amd64/jdk/jre/lib/amd64/server/libjvm.so)\n==12441==    by 0x6587652: ??? (in /usr/lib/jvm/java-oracle-8-amd64/jdk/jre/lib/amd64/server/libjvm.so)\n==12441==    by 0x4E4588F: ??? (in /lib/x86_64-linux-gnu/libpthread-2.27.so)\n==12441==    by 0x80E4146: ???\n==12441==    by 0x107: ???\n==12441==    by 0x84CBC43: ???\n==12441==    by 0x10001BD37: ???\n==12441==    by 0xFDC7103F: ???\n==12441==    by 0xA3FFFFFFFF: ???\n==12441==    by 0xFF9275A7: ???\n==12441==\n</code></pre>\n\n<p>Can anyone give an idea of what could go wrong? Is that because of <code>Fatal error: Disassembling failed with error code: 15#</code>?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1633077208,"post_id":69402869,"comment_id":122669047,"body_markdown":"Does this answer your question? [Unfortunately MyApp has stopped. How can I solve this?](https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\">Unfortunately MyApp has stopped. How can I solve this?</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1633077508,"post_id":69402869,"comment_id":122669162,"body_markdown":"That&#39;s too much going on here. If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **700 (seven hundred)** lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.","body":"That&#39;s too much going on here. If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>700 (seven hundred)</b> lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633077533,"post_id":69402869,"comment_id":122669175,"body_markdown":"Besides that, if the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"Besides that, if the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."},{"owner":{"account_id":22894304,"reputation":45,"user_id":17034033,"display_name":"Krutarth Vaishnav"},"score":0,"creation_date":1633120588,"post_id":69402869,"comment_id":122685036,"body_markdown":"Thanks A Lot Alex That&#39;s A Great Help From You, I&#39;m New Here And Don&#39;t Know What To Do And What Not To Do.. Thanks For Giving Some Clearity!","body":"Thanks A Lot Alex That&#39;s A Great Help From You, I&#39;m New Here And Don&#39;t Know What To Do And What Not To Do.. Thanks For Giving Some Clearity!"}],"owner":{"account_id":22894304,"reputation":45,"user_id":17034033,"display_name":"Krutarth Vaishnav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633120977,"creation_date":1633077165,"question_id":69402869,"body_markdown":"I want to separate my admin user and student user, so I&#39;ve created a key on my Firestore database named &#39;userType&#39;, and I&#39;ve used fragments to make a login and signup form. In signup form, I&#39;ve fetched data, and when I login initially, it works fine. However, when I reopen my app, it just crashes. I&#39;ve written code in signup form for sending logged in users to different activities according to their user type. I edited one key as admin in Firestore.\r\n\r\nSignupTabFragment, here&#39;s the problem.\r\n    \r\n    package com.example.mkmaterials;\r\n\r\n    \r\n    public class SignupTabFragment extends Fragment {\r\n\r\n    public static final String TAG = &quot;TAG&quot;;\r\n    EditText signupName,signupEmail,signupPassword,signupConfirmPassword;\r\n    boolean signupPasswordVisible,signupRepeatPasswordVisible;\r\n    Button signup;\r\n    private FirebaseAuth firebaseAuth;\r\n    private FirebaseFirestore firestore;\r\n    String signupUserType = &quot;Student&quot;;\r\n    String userID;\r\n    private String userIDFireStore,userTypeFirestore;\r\n    ProgressBar signupProgressBar;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        ViewGroup root = (ViewGroup) inflater.inflate(R.layout.signup_tab_fragment,container,false);\r\n\r\n        signupName = root.findViewById(R.id.edt_SignupName);\r\n        signupEmail = root.findViewById(R.id.edt_SignupEmail);\r\n        signupPassword = root.findViewById(R.id.edt_SignupPassword);\r\n        signupConfirmPassword = root.findViewById(R.id.edt_SignupConfirmPassword);\r\n        signup = root.findViewById(R.id.btn_Signup);\r\n\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n        firestore = FirebaseFirestore.getInstance();\r\n        signupProgressBar = root.findViewById(R.id.progress_SignupProgressBar);\r\n\r\nThis is The Problematic Area &#128071;\r\n        \r\n    if(firebaseAuth.getCurrentUser() != null){\r\n            // Retrieving User Data From Firebase\r\n            userIDFireStore = firebaseAuth.getCurrentUser().getUid();\r\n            DocumentReference documentReference = firestore.collection(&quot;users&quot;).document(userIDFireStore);\r\n            documentReference.addSnapshotListener(getActivity(), new EventListener&lt;DocumentSnapshot&gt;() {\r\n                @Override\r\n                public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                    userTypeFirestore = value.getString(&quot;userType&quot;);\r\n                    if(userTypeFirestore.equals(&quot;Admin&quot;)){\r\n                        startActivity(new Intent(getActivity().getApplicationContext(),AdminHomeActivity.class));\r\n                        getActivity().finish();\r\n                    }\r\n                    if(userTypeFirestore.equals(&quot;Student&quot;)){\r\n                        startActivity(new Intent(getActivity().getApplicationContext(),HomeActivity.class));\r\n                        getActivity().finish();\r\n                    }\r\n                }\r\n            });\r\n        }","title":"App crashing while fetching Firestore data of user in Android Studio","body":"<p>I want to separate my admin user and student user, so I've created a key on my Firestore database named 'userType', and I've used fragments to make a login and signup form. In signup form, I've fetched data, and when I login initially, it works fine. However, when I reopen my app, it just crashes. I've written code in signup form for sending logged in users to different activities according to their user type. I edited one key as admin in Firestore.</p>\n<p>SignupTabFragment, here's the problem.</p>\n<pre><code>package com.example.mkmaterials;\n\n\npublic class SignupTabFragment extends Fragment {\n\npublic static final String TAG = &quot;TAG&quot;;\nEditText signupName,signupEmail,signupPassword,signupConfirmPassword;\nboolean signupPasswordVisible,signupRepeatPasswordVisible;\nButton signup;\nprivate FirebaseAuth firebaseAuth;\nprivate FirebaseFirestore firestore;\nString signupUserType = &quot;Student&quot;;\nString userID;\nprivate String userIDFireStore,userTypeFirestore;\nProgressBar signupProgressBar;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    ViewGroup root = (ViewGroup) inflater.inflate(R.layout.signup_tab_fragment,container,false);\n\n    signupName = root.findViewById(R.id.edt_SignupName);\n    signupEmail = root.findViewById(R.id.edt_SignupEmail);\n    signupPassword = root.findViewById(R.id.edt_SignupPassword);\n    signupConfirmPassword = root.findViewById(R.id.edt_SignupConfirmPassword);\n    signup = root.findViewById(R.id.btn_Signup);\n\n    firebaseAuth = FirebaseAuth.getInstance();\n    firestore = FirebaseFirestore.getInstance();\n    signupProgressBar = root.findViewById(R.id.progress_SignupProgressBar);\n</code></pre>\n<p>This is The Problematic Area 👇</p>\n<pre><code>if(firebaseAuth.getCurrentUser() != null){\n        // Retrieving User Data From Firebase\n        userIDFireStore = firebaseAuth.getCurrentUser().getUid();\n        DocumentReference documentReference = firestore.collection(&quot;users&quot;).document(userIDFireStore);\n        documentReference.addSnapshotListener(getActivity(), new EventListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\n                userTypeFirestore = value.getString(&quot;userType&quot;);\n                if(userTypeFirestore.equals(&quot;Admin&quot;)){\n                    startActivity(new Intent(getActivity().getApplicationContext(),AdminHomeActivity.class));\n                    getActivity().finish();\n                }\n                if(userTypeFirestore.equals(&quot;Student&quot;)){\n                    startActivity(new Intent(getActivity().getApplicationContext(),HomeActivity.class));\n                    getActivity().finish();\n                }\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","arrays","sorting","char","integer"],"comments":[{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":1,"creation_date":1633120170,"post_id":69411466,"comment_id":122684923,"body_markdown":"Are you sure `[j+1]` should not be `[k]`?   Work through the case where the counters are 3, 2, 1, 4, 4,   On the first pass through the inner loop, we swap 3 and 2.  On the second pass, we swap 2 and 3 back again.","body":"Are you sure <code>[j+1]</code> should not be <code>[k]</code>?   Work through the case where the counters are 3, 2, 1, 4, 4,   On the first pass through the inner loop, we swap 3 and 2.  On the second pass, we swap 2 and 3 back again."},{"owner":{"account_id":22917935,"reputation":5,"user_id":17054251,"display_name":"rachiepu"},"score":0,"creation_date":1633125196,"post_id":69411466,"comment_id":122686149,"body_markdown":"You&#39;re totally right, I didn&#39;t see that lol, thank you","body":"You&#39;re totally right, I didn&#39;t see that lol, thank you"}],"answers":[{"tags":[],"owner":{"account_id":22915436,"reputation":1,"user_id":17052102,"display_name":"radston12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633119651,"creation_date":1633119651,"answer_id":69411597,"question_id":69411466,"body_markdown":"You can use something that is called HashMap\r\n\r\n```\r\nHashMap&lt;String, Integer&gt; vowelCounts = new HashMap&lt;&gt;();\r\n```\r\n\r\nTo add data to it just do:\r\n```\r\nvowelCounts.put(&quot;a&quot;, 1); // The vowel &quot;a&quot; is once in the sentence\r\nvowelCounts.put(&quot;e&quot;, 2); // The vowel &quot;e&quot; is 2 times in the sentence\r\n```\r\n\r\nTo print to the console:\r\n```\r\nfor(String vowel : vowelCounts.keySet() ) {\r\n     System.out.println(vowel + &quot;: &quot; + vowelCounts.get(vowel));\r\n}\r\n```\r\nFor more info: [click me!](https://www.w3schools.com/java/java_hashmap.asp &quot;go to www.w3schools.com&quot;)","title":"Is there a way to attach a character label with a sorted array output?","body":"<p>You can use something that is called HashMap</p>\n<pre><code>HashMap&lt;String, Integer&gt; vowelCounts = new HashMap&lt;&gt;();\n</code></pre>\n<p>To add data to it just do:</p>\n<pre><code>vowelCounts.put(&quot;a&quot;, 1); // The vowel &quot;a&quot; is once in the sentence\nvowelCounts.put(&quot;e&quot;, 2); // The vowel &quot;e&quot; is 2 times in the sentence\n</code></pre>\n<p>To print to the console:</p>\n<pre><code>for(String vowel : vowelCounts.keySet() ) {\n     System.out.println(vowel + &quot;: &quot; + vowelCounts.get(vowel));\n}\n</code></pre>\n<p>For more info: <a href=\"https://www.w3schools.com/java/java_hashmap.asp\" rel=\"nofollow noreferrer\" title=\"go to www.w3schools.com\">click me!</a></p>\n"},{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633119902,"creation_date":1633119902,"answer_id":69411639,"question_id":69411466,"body_markdown":"Have a `char[] vowels = { &#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39; }`.  Every time you swap the counters, make an identical swap in the vowels array.\r\n\r\n    int temp = vowelcounter[j];\r\n    vowelcounter[j] = vowelcounter[j+1];\r\n    vowelcounter[j+1] = temp;\r\n    char temp2 = vowel[j];\r\n    vowel[j] = vowel[j+1];\r\n    vowel[j+1] = temp2;\r\n    hasswapped = true;\r\n\r\nAt the end, print out vowel[j] next to vowelcounter[j];\r\n\r\n","title":"Is there a way to attach a character label with a sorted array output?","body":"<p>Have a <code>char[] vowels = { 'a', 'e', 'i', 'o', 'u' }</code>.  Every time you swap the counters, make an identical swap in the vowels array.</p>\n<pre><code>int temp = vowelcounter[j];\nvowelcounter[j] = vowelcounter[j+1];\nvowelcounter[j+1] = temp;\nchar temp2 = vowel[j];\nvowel[j] = vowel[j+1];\nvowel[j+1] = temp2;\nhasswapped = true;\n</code></pre>\n<p>At the end, print out vowel[j] next to vowelcounter[j];</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633120890,"creation_date":1633120890,"answer_id":69411784,"question_id":69411466,"body_markdown":"Instead of `int` value to represent a counter, a class may be introduced to store and print both the vowel character and its count:\r\n```\r\nclass VowelCount {\r\n    private final char vowel;\r\n    private int count = 0;\r\n\r\n    public VowelCount(char v) {\r\n        this.vowel = v;\r\n    }\r\n\r\n    public void add() { this.count++; }\r\n\r\n    public int getCount()  { return this.count; }\r\n\r\n    public char getVowel() { return this.vowel; }\r\n\r\n    @Override\r\n    public String toString() { return &quot;Vowel &#39;&quot; + vowel + &quot;&#39; count = &quot; + count;}\r\n}\r\n```\r\nThen instead of `int[] count` an array of `VowelCount` is created and sorted:\r\n```java\r\nVowelCount[] vowelcounter = {\r\n    new VowelCount(&#39;a&#39;), new VowelCount(&#39;e&#39;), new VowelCount(&#39;i&#39;), \r\n    new VowelCount(&#39;o&#39;), new VowelCount(&#39;u&#39;)\r\n};\r\n```\r\nSorting may be implemented using standard method `Arrays::sort` with a custom comparator instead of home-made bubble sorting\r\n```\r\nArrays.sort(vowelcounter, Comparator.comparingInt(VowelCount::getCount));\r\n```\r\nThen printing of the stats is as follows (using `for-each` loop along with the overriden `toString`):\r\n```java\r\nfor (VowelCount v: vowelcounter) {\r\n    System.out.println(v); // print sorted by count\r\n}\r\n```\r\n----\r\nMore advanced ways of calculating the frequencies is to use a map of vowels to their frequencies and sort the map by counter value.","title":"Is there a way to attach a character label with a sorted array output?","body":"<p>Instead of <code>int</code> value to represent a counter, a class may be introduced to store and print both the vowel character and its count:</p>\n<pre><code>class VowelCount {\n    private final char vowel;\n    private int count = 0;\n\n    public VowelCount(char v) {\n        this.vowel = v;\n    }\n\n    public void add() { this.count++; }\n\n    public int getCount()  { return this.count; }\n\n    public char getVowel() { return this.vowel; }\n\n    @Override\n    public String toString() { return &quot;Vowel '&quot; + vowel + &quot;' count = &quot; + count;}\n}\n</code></pre>\n<p>Then instead of <code>int[] count</code> an array of <code>VowelCount</code> is created and sorted:</p>\n<pre class=\"lang-java prettyprint-override\"><code>VowelCount[] vowelcounter = {\n    new VowelCount('a'), new VowelCount('e'), new VowelCount('i'), \n    new VowelCount('o'), new VowelCount('u')\n};\n</code></pre>\n<p>Sorting may be implemented using standard method <code>Arrays::sort</code> with a custom comparator instead of home-made bubble sorting</p>\n<pre><code>Arrays.sort(vowelcounter, Comparator.comparingInt(VowelCount::getCount));\n</code></pre>\n<p>Then printing of the stats is as follows (using <code>for-each</code> loop along with the overriden <code>toString</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (VowelCount v: vowelcounter) {\n    System.out.println(v); // print sorted by count\n}\n</code></pre>\n<hr />\n<p>More advanced ways of calculating the frequencies is to use a map of vowels to their frequencies and sort the map by counter value.</p>\n"}],"owner":{"account_id":22917935,"reputation":5,"user_id":17054251,"display_name":"rachiepu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69411784,"answer_count":3,"score":0,"last_activity_date":1633120890,"creation_date":1633118746,"question_id":69411466,"body_markdown":"I have to create a vowel counter and sorter, where someone can input a word or phrase and the program picks out, counts, and sorts the vowels. I have the code to where it counts and sorts the variables and shows their counts to the user, but it doesn&#39;t say which vowel has which count and I have exhausted all of my resources. I am very new to coding and know very little, so if there&#39;s anything anyone can do to help, I would appreciate it endlessly.\r\n\r\n    int[] vowelcounter = {a, e, i, o, u}; //This is the count of the vowels after reading the input.\r\n       boolean hasswapped = true;\r\n        while(hasswapped)\r\n        {\r\n        \thasswapped = false;\r\n        \tfor(int j = 0; j&lt;vowelcounter.length; j++)\t\r\n        \t\t{\r\n        \t\tfor(int k = j+1; k&lt;vowelcounter.length; k++)\r\n        \t\t\t{\r\n        \t\t\t\tif(vowelcounter[j] &gt; vowelcounter[k])\r\n        \t\t\t\t{\r\n        \t\t\t\t\tint temp = vowelcounter[j];\r\n        \t\t\t\t\tvowelcounter[j] = vowelcounter[j+1];\r\n        \t\t\t\t\tvowelcounter[j+1] = temp;\r\n        \t\t\t\t\thasswapped = true;\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t}\r\n        }\r\n            \r\n        \tfor(int j=0; j&lt;vowelcounter.length; j++)\r\n        \t\t{\t\r\n        \t\t\t\tSystem.out.println(vowelcounter[j]);\r\n        \t\t}","title":"Is there a way to attach a character label with a sorted array output?","body":"<p>I have to create a vowel counter and sorter, where someone can input a word or phrase and the program picks out, counts, and sorts the vowels. I have the code to where it counts and sorts the variables and shows their counts to the user, but it doesn't say which vowel has which count and I have exhausted all of my resources. I am very new to coding and know very little, so if there's anything anyone can do to help, I would appreciate it endlessly.</p>\n<pre><code>int[] vowelcounter = {a, e, i, o, u}; //This is the count of the vowels after reading the input.\n   boolean hasswapped = true;\n    while(hasswapped)\n    {\n        hasswapped = false;\n        for(int j = 0; j&lt;vowelcounter.length; j++)  \n            {\n            for(int k = j+1; k&lt;vowelcounter.length; k++)\n                {\n                    if(vowelcounter[j] &gt; vowelcounter[k])\n                    {\n                        int temp = vowelcounter[j];\n                        vowelcounter[j] = vowelcounter[j+1];\n                        vowelcounter[j+1] = temp;\n                        hasswapped = true;\n                    }\n                }\n            }\n    }\n        \n        for(int j=0; j&lt;vowelcounter.length; j++)\n            {   \n                    System.out.println(vowelcounter[j]);\n            }\n</code></pre>\n"},{"tags":["java","encryption","cryptography"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1628173764,"post_id":68668154,"comment_id":121355047,"body_markdown":"*`fixSecret(encryptionKey)`* What happens here? You didn&#39;t post it","body":"<i><code>fixSecret(encryptionKey)</code></i> What happens here? You didn&#39;t post it"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1628174487,"post_id":68668154,"comment_id":121355418,"body_markdown":"You use different IVs for encryption and decryption. To make decryption work, the IV applied for encryption must also be used for decryption. Usually the IV (which is not secret) is sent along with the ciphertext to the decryption side (typically concatenated).","body":"You use different IVs for encryption and decryption. To make decryption work, the IV applied for encryption must also be used for decryption. Usually the IV (which is not secret) is sent along with the ciphertext to the decryption side (typically concatenated)."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1628175394,"post_id":68668154,"comment_id":121355823,"body_markdown":"Also note that your workaround is not a real solution, since a static IV (like a zero IV) is insecure.","body":"Also note that your workaround is not a real solution, since a static IV (like a zero IV) is insecure."},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1628184688,"post_id":68668154,"comment_id":121359739,"body_markdown":"@Topaco : How can I implement a dynamic IV here and make the encryption decryption work .. which is my main intention.","body":"@Topaco : How can I implement a dynamic IV here and make the encryption decryption work .. which is my main intention."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1628185080,"post_id":68668154,"comment_id":121359895,"body_markdown":"The IV is not meant to be a secret, so you can generate a new one using SecureRandom on encryption, then encrypt the data, then *prepend* the IV to the encrypted data and send this concatenated iv+encrypted date to the peer. The peer then strips off the IV and uses it for decryption.","body":"The IV is not meant to be a secret, so you can generate a new one using SecureRandom on encryption, then encrypt the data, then <i>prepend</i> the IV to the encrypted data and send this concatenated iv+encrypted date to the peer. The peer then strips off the IV and uses it for decryption."}],"answers":[{"tags":[],"owner":{"account_id":1746243,"reputation":788,"user_id":1596398,"accept_rate":58,"display_name":"Hmmmmm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628749752,"creation_date":1628749752,"answer_id":68752617,"question_id":68668154,"body_markdown":"Like others have said, your issue is that the IV you are using for encryption is different than the one you are using for decryption. The IV is not sensitive (from a confidentiality point of view) so it can be transmitted alongside the ciphertext. Some applications prepend the IV to the ciphertext while others use more standard formats such as [CMS Encrypted Data][1]. Since you are using Java, you can generate CMS Encrypted Data structures using [Bouncy Castle&#39;s CMSEncryptedDataGenerator class][2].\r\n\r\nThere are two other issues with your code:\r\n\r\n 1. Choice of cryptographic primitives\r\n 2. Key management\r\n\r\n**Cryptographic Primitives**\r\n\r\nThe cryptographic transformation you are using is &quot;DESede/CBC/PKCS5Padding&quot;. Unless you have a good reason to use DES/3DES, you should consider switching to AES. Additionally, I would recommend using an [AEAD][3] such as [AES-GCM][4] or [AES-GCM-SIV][5].\r\n\r\n**Key Management**\r\n\r\nAll the cryptography in the world doesn&#39;t mean much if the keys aren&#39;t managed correctly. From your code it looks like you are constructing the SecretKeySpec object out of the key&#39;s bytes. If you can, try to use an hardware security module (HSM) or a key management system (KMS) where the key never gets exported from the tamper bounds of the device in plaintext format. AWS KMS, Azure Key Vault, and Google KMS all offer very affordable pricing for this. Of course, there are other options as well.\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc5652#section-8\r\n  [2]: https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/cms/CMSEncryptedDataGenerator.html\r\n  [3]: https://en.wikipedia.org/wiki/Authenticated_encryption\r\n  [4]: https://en.wikipedia.org/wiki/Galois/Counter_Mode\r\n  [5]: https://en.wikipedia.org/wiki/AES-GCM-SIV","title":"Encryption Decryption issue with Cipher in java","body":"<p>Like others have said, your issue is that the IV you are using for encryption is different than the one you are using for decryption. The IV is not sensitive (from a confidentiality point of view) so it can be transmitted alongside the ciphertext. Some applications prepend the IV to the ciphertext while others use more standard formats such as <a href=\"https://datatracker.ietf.org/doc/html/rfc5652#section-8\" rel=\"nofollow noreferrer\">CMS Encrypted Data</a>. Since you are using Java, you can generate CMS Encrypted Data structures using <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/cms/CMSEncryptedDataGenerator.html\" rel=\"nofollow noreferrer\">Bouncy Castle's CMSEncryptedDataGenerator class</a>.</p>\n<p>There are two other issues with your code:</p>\n<ol>\n<li>Choice of cryptographic primitives</li>\n<li>Key management</li>\n</ol>\n<p><strong>Cryptographic Primitives</strong></p>\n<p>The cryptographic transformation you are using is &quot;DESede/CBC/PKCS5Padding&quot;. Unless you have a good reason to use DES/3DES, you should consider switching to AES. Additionally, I would recommend using an <a href=\"https://en.wikipedia.org/wiki/Authenticated_encryption\" rel=\"nofollow noreferrer\">AEAD</a> such as <a href=\"https://en.wikipedia.org/wiki/Galois/Counter_Mode\" rel=\"nofollow noreferrer\">AES-GCM</a> or <a href=\"https://en.wikipedia.org/wiki/AES-GCM-SIV\" rel=\"nofollow noreferrer\">AES-GCM-SIV</a>.</p>\n<p><strong>Key Management</strong></p>\n<p>All the cryptography in the world doesn't mean much if the keys aren't managed correctly. From your code it looks like you are constructing the SecretKeySpec object out of the key's bytes. If you can, try to use an hardware security module (HSM) or a key management system (KMS) where the key never gets exported from the tamper bounds of the device in plaintext format. AWS KMS, Azure Key Vault, and Google KMS all offer very affordable pricing for this. Of course, there are other options as well.</p>\n"},{"tags":[],"owner":{"account_id":2387959,"reputation":404,"user_id":2088503,"display_name":"SMD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633120126,"creation_date":1633120126,"answer_id":69411677,"question_id":68668154,"body_markdown":"In the decrypt function you generate a random Initialization Vector (IV), so this won&#39;t ever work.\r\nYou need to store the IV from the encrypt function and provide it as an input to the decrypt function.\r\n\r\nHere&#39;s an example:\r\n\r\n    public byte[] encryptAndDecrypt(String plainText) {\r\n\r\n      byte iv[] = new byte[ENCRYPTION_PARAM_SIZE];\r\n      SecureRandom secRandom = new SecureRandom();\r\n      secRandom.nextBytes(iv);\r\n    \r\n      Cipher cipher = Cipher.getInstance(ENCRYPTION_INSTANCE);\r\n      SecretKeySpec key = new SecretKeySpec(fixSecret(encryptionKey), ENCRYPTION_ALGORITHM);\r\n      cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\r\n      byte[] cipherText=cipher.doFinal(plainText.getBytes(StandardCharsets.UTF_8));\r\n      return decrypt(cipherText, iv)\r\n    }\r\n\r\n\r\n    public String decrypt(byte[] cipherText, byte[] iv) {\r\n\r\n     Cipher cipher = Cipher.getInstance(ENCRYPTION_INSTANCE);\r\n     SecretKeySpec key = new SecretKeySpec(fixSecret(encryptionKey), ENCRYPTION_ALGORITHM);\r\n     cipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\r\n     return cipher.doFinal(cipherText);\r\n    }\r\n\r\n\r\n\r\nNote that by definition the IV should be random but shouldn&#39;t be treated as a secret so you can store it as plain data without any protection.\r\nThe idea behind the IV is to randomize the cipher text so if you&#39;re not using IV, or using a constant IV, and encrypt &quot;X&quot;, cipher text is &quot;Y&quot;, you could easily reverse the cipher text into plain text, while with random IV the cipher text is different every time.   ","title":"Encryption Decryption issue with Cipher in java","body":"<p>In the decrypt function you generate a random Initialization Vector (IV), so this won't ever work.\nYou need to store the IV from the encrypt function and provide it as an input to the decrypt function.</p>\n<p>Here's an example:</p>\n<pre><code>public byte[] encryptAndDecrypt(String plainText) {\n\n  byte iv[] = new byte[ENCRYPTION_PARAM_SIZE];\n  SecureRandom secRandom = new SecureRandom();\n  secRandom.nextBytes(iv);\n\n  Cipher cipher = Cipher.getInstance(ENCRYPTION_INSTANCE);\n  SecretKeySpec key = new SecretKeySpec(fixSecret(encryptionKey), ENCRYPTION_ALGORITHM);\n  cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\n  byte[] cipherText=cipher.doFinal(plainText.getBytes(StandardCharsets.UTF_8));\n  return decrypt(cipherText, iv)\n}\n\n\npublic String decrypt(byte[] cipherText, byte[] iv) {\n\n Cipher cipher = Cipher.getInstance(ENCRYPTION_INSTANCE);\n SecretKeySpec key = new SecretKeySpec(fixSecret(encryptionKey), ENCRYPTION_ALGORITHM);\n cipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\n return cipher.doFinal(cipherText);\n}\n</code></pre>\n<p>Note that by definition the IV should be random but shouldn't be treated as a secret so you can store it as plain data without any protection.\nThe idea behind the IV is to randomize the cipher text so if you're not using IV, or using a constant IV, and encrypt &quot;X&quot;, cipher text is &quot;Y&quot;, you could easily reverse the cipher text into plain text, while with random IV the cipher text is different every time.</p>\n"}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633120126,"creation_date":1628172352,"question_id":68668154,"body_markdown":"Hi I am facing a decryption problem. The decrypted value is not matching the original one.\r\n\r\nHere is my logic for `encryption` :\r\n\r\n    public byte[] encrypt(String plainText) {\r\n\r\n\t\tbyte iv[] = new byte[ENCRYPTION_PARAM_SIZE];\r\n\t\tSecureRandom secRandom = new SecureRandom();\r\n\t\tsecRandom.nextBytes(iv);\r\n\t\t\r\n\t\tCipher cipher = Cipher.getInstance(ENCRYPTION_INSTANCE);\r\n\t\tSecretKeySpec key = new SecretKeySpec(fixSecret(encryptionKey), ENCRYPTION_ALGORITHM);\r\n\t\tcipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\r\n\t\treturn cipher.doFinal(plainText.getBytes(StandardCharsets.UTF_8));\r\n\t}\r\n\r\nAnd this is my logic for `Decryption`\r\n\r\n    public String decrypt(byte[] cipherText) {\r\n\r\n\t\tbyte iv[] = new byte[ENCRYPTION_PARAM_SIZE];\r\n\t\tSecureRandom secRandom = new SecureRandom();\r\n\t\tsecRandom.nextBytes(iv);\r\n\t\t\r\n\t\tCipher cipher = Cipher.getInstance(ENCRYPTION_INSTANCE);\r\n\t\tSecretKeySpec key = new SecretKeySpec(fixSecret(encryptionKey), ENCRYPTION_ALGORITHM);\r\n\t\tcipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\r\n\t\treturn new String(cipher.doFinal(cipherText), StandardCharsets.UTF_8);\r\n\r\n\t}\r\n\r\nEncryption options :\r\n\r\n    ENCRYPTION_ALGORITHM = &quot;DESede&quot;;\r\n\tENCRYPTION_INSTANCE = &quot;DESede/CBC/PKCS5Padding&quot;;\r\n\tInteger ENCRYPTION_PARAM_SIZE = 8;\r\n\r\nThis is how I am trying to verify :\r\n\r\n    public static void main(String[] args){    \r\n        Long value = 9123456L;\r\n\t\tString strval = value.toString();\r\n\t\tbyte[] encryptedVal = encrypt(strval);\r\n\t\tString decryptedVal = decrypt(encryptedVal);\r\n\t\t\r\n        System.out.println(&quot;Original  value : &quot; +strval);\r\n\t\tSystem.out.println(&quot;Encrypted value : &quot; +encryptedVal.toString());\r\n\t\tSystem.out.println(&quot;Decrypted value : &quot; +decryptedVal);\r\n\t\tSystem.out.println(&quot;Final     value : &quot; +Long.parseLong(decryptedVal));\r\n    }\r\n\r\nWhat I need to do here to make it work.\r\n\r\nNote : The above code is working fine if I use the below logic without SecureRandom :\r\n\r\n    cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(new byte[ENCRYPTION_PARAM_SIZE]));","title":"Encryption Decryption issue with Cipher in java","body":"<p>Hi I am facing a decryption problem. The decrypted value is not matching the original one.</p>\n<p>Here is my logic for <code>encryption</code> :</p>\n<pre><code>public byte[] encrypt(String plainText) {\n\n    byte iv[] = new byte[ENCRYPTION_PARAM_SIZE];\n    SecureRandom secRandom = new SecureRandom();\n    secRandom.nextBytes(iv);\n    \n    Cipher cipher = Cipher.getInstance(ENCRYPTION_INSTANCE);\n    SecretKeySpec key = new SecretKeySpec(fixSecret(encryptionKey), ENCRYPTION_ALGORITHM);\n    cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\n    return cipher.doFinal(plainText.getBytes(StandardCharsets.UTF_8));\n}\n</code></pre>\n<p>And this is my logic for <code>Decryption</code></p>\n<pre><code>public String decrypt(byte[] cipherText) {\n\n    byte iv[] = new byte[ENCRYPTION_PARAM_SIZE];\n    SecureRandom secRandom = new SecureRandom();\n    secRandom.nextBytes(iv);\n    \n    Cipher cipher = Cipher.getInstance(ENCRYPTION_INSTANCE);\n    SecretKeySpec key = new SecretKeySpec(fixSecret(encryptionKey), ENCRYPTION_ALGORITHM);\n    cipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\n    return new String(cipher.doFinal(cipherText), StandardCharsets.UTF_8);\n\n}\n</code></pre>\n<p>Encryption options :</p>\n<pre><code>ENCRYPTION_ALGORITHM = &quot;DESede&quot;;\nENCRYPTION_INSTANCE = &quot;DESede/CBC/PKCS5Padding&quot;;\nInteger ENCRYPTION_PARAM_SIZE = 8;\n</code></pre>\n<p>This is how I am trying to verify :</p>\n<pre><code>public static void main(String[] args){    \n    Long value = 9123456L;\n    String strval = value.toString();\n    byte[] encryptedVal = encrypt(strval);\n    String decryptedVal = decrypt(encryptedVal);\n    \n    System.out.println(&quot;Original  value : &quot; +strval);\n    System.out.println(&quot;Encrypted value : &quot; +encryptedVal.toString());\n    System.out.println(&quot;Decrypted value : &quot; +decryptedVal);\n    System.out.println(&quot;Final     value : &quot; +Long.parseLong(decryptedVal));\n}\n</code></pre>\n<p>What I need to do here to make it work.</p>\n<p>Note : The above code is working fine if I use the below logic without SecureRandom :</p>\n<pre><code>cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(new byte[ENCRYPTION_PARAM_SIZE]));\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1633115934,"post_id":69410474,"comment_id":122683723,"body_markdown":"Your question may get more attention when you tag it with the programming language.","body":"Your question may get more attention when you tag it with the programming language."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1633116920,"post_id":69410474,"comment_id":122683999,"body_markdown":"I really had a dillema about that. Thanks for the tip :)","body":"I really had a dillema about that. Thanks for the tip :)"},{"owner":{"account_id":5527424,"reputation":7710,"user_id":4388512,"accept_rate":100,"display_name":"F43nd1r"},"score":0,"creation_date":1633118423,"post_id":69410474,"comment_id":122684460,"body_markdown":"In your text you say you want to filter out blacklisted items, but your code looks like you want to filter out items, which contain blacklisted text. Which one is it? Same for the whitelist.","body":"In your text you say you want to filter out blacklisted items, but your code looks like you want to filter out items, which contain blacklisted text. Which one is it? Same for the whitelist."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1633119532,"post_id":69410474,"comment_id":122684754,"body_markdown":"@F43nd1r There are some strings that I&#39;d like to remove, and they are on the first list. However, these strings may be part of other string, which some of them I&#39;d like to keep and some of them to filter out. As in the example above: I&#39;d like to filter out all the strings which contain &quot;South&quot; and &quot;North&quot;. Still, if the strings are &quot;North Korea&quot; or &quot;South Korea&quot;, as listed in the second list, I don&#39;t want to throw them out of the output. I hope it is understood better now :)","body":"@F43nd1r There are some strings that I&#39;d like to remove, and they are on the first list. However, these strings may be part of other string, which some of them I&#39;d like to keep and some of them to filter out. As in the example above: I&#39;d like to filter out all the strings which contain &quot;South&quot; and &quot;North&quot;. Still, if the strings are &quot;North Korea&quot; or &quot;South Korea&quot;, as listed in the second list, I don&#39;t want to throw them out of the output. I hope it is understood better now :)"},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":0,"creation_date":1633121129,"post_id":69410474,"comment_id":122685195,"body_markdown":"Please post a clear example of all the input lists and the stream and the expected output, explaining why the output is generated that way","body":"Please post a clear example of all the input lists and the stream and the expected output, explaining why the output is generated that way"}],"answers":[{"tags":[],"owner":{"account_id":5527424,"reputation":7710,"user_id":4388512,"accept_rate":100,"display_name":"F43nd1r"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633119998,"creation_date":1633119998,"answer_id":69411655,"question_id":69410474,"body_markdown":"Not sure if I understood your question correctly, but to me it seems like you&#39;re close to a correct solution, just some flipped logic. Try\r\n\r\n```\r\nArrays.stream(words).filter(word =&gt; {\r\n    return Arrays.stream(illegalWordList).noneMatch(word::contains) \r\n        || Arrays.stream(excludedFromIllegalWordsList).anyMatch(word::contains)\r\n    })\r\n```\r\n\r\nThis essentially says &quot;keep all items that don&#39;t contain anything blacklisted, or contain anything whitelisted&quot;","title":"How to filter a list according to filter list except of item on another list?","body":"<p>Not sure if I understood your question correctly, but to me it seems like you're close to a correct solution, just some flipped logic. Try</p>\n<pre><code>Arrays.stream(words).filter(word =&gt; {\n    return Arrays.stream(illegalWordList).noneMatch(word::contains) \n        || Arrays.stream(excludedFromIllegalWordsList).anyMatch(word::contains)\n    })\n</code></pre>\n<p>This essentially says &quot;keep all items that don't contain anything blacklisted, or contain anything whitelisted&quot;</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69411655,"answer_count":1,"score":-2,"last_activity_date":1633120002,"creation_date":1633112758,"question_id":69410474,"body_markdown":"I have some algorithmic challange:\r\n\r\nSuppose I have the following list of strings: \r\n\r\n    {&quot;South&quot;, &quot;East&quot;, &quot;West&quot;, &quot;North&quot;}\r\n\r\nNow, I have a stream of items as an input.\r\n\r\nFor example: \r\n\r\n    {&quot;South&quot;, &quot;North korea&quot;, &quot;East&quot;, &quot;South carolina&quot;, &quot;West&quot;, &quot;North&quot;}\r\n\r\nAs a general rule, I want to remove all the stream items which contains the items in the first list.\r\n\r\nBut there may be some exceptions.\r\nThe exceptions might be set in another list.\r\nFor example:\r\n\r\n    {&quot;South korea&quot;, &quot;North korea&quot;} \r\n\r\netc.\r\n\r\nNotice, the exceptions list can include a large number of items, so I don&#39;t want to test each one of items implicitly.\r\n\r\nOn the other hand, I wouldn&#39;t like to have south carolina on the output list, but only the ones that in the excptions listm, and of course the ones that are not part of the first list.\r\n\r\nSo, the output of the above example should be:\r\n\r\n    {&quot;North korea&quot;}\r\n\r\nI tried something like this (and some more variations) but obviously it isn&#39;t correct (Java):\r\n\r\n        return\r\n                Arrays.stream(illegalWordList).noneMatch(word::contains) &amp;&amp;\r\n                Arrays.stream(excludedFromIllegalWordsList).noneMatch(word::contains);\r\n\r\nCan you assist please?\r\n\r\nThank you!","title":"How to filter a list according to filter list except of item on another list?","body":"<p>I have some algorithmic challange:</p>\n<p>Suppose I have the following list of strings:</p>\n<pre><code>{&quot;South&quot;, &quot;East&quot;, &quot;West&quot;, &quot;North&quot;}\n</code></pre>\n<p>Now, I have a stream of items as an input.</p>\n<p>For example:</p>\n<pre><code>{&quot;South&quot;, &quot;North korea&quot;, &quot;East&quot;, &quot;South carolina&quot;, &quot;West&quot;, &quot;North&quot;}\n</code></pre>\n<p>As a general rule, I want to remove all the stream items which contains the items in the first list.</p>\n<p>But there may be some exceptions.\nThe exceptions might be set in another list.\nFor example:</p>\n<pre><code>{&quot;South korea&quot;, &quot;North korea&quot;} \n</code></pre>\n<p>etc.</p>\n<p>Notice, the exceptions list can include a large number of items, so I don't want to test each one of items implicitly.</p>\n<p>On the other hand, I wouldn't like to have south carolina on the output list, but only the ones that in the excptions listm, and of course the ones that are not part of the first list.</p>\n<p>So, the output of the above example should be:</p>\n<pre><code>{&quot;North korea&quot;}\n</code></pre>\n<p>I tried something like this (and some more variations) but obviously it isn't correct (Java):</p>\n<pre><code>    return\n            Arrays.stream(illegalWordList).noneMatch(word::contains) &amp;&amp;\n            Arrays.stream(excludedFromIllegalWordsList).noneMatch(word::contains);\n</code></pre>\n<p>Can you assist please?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":1653488,"reputation":83,"user_id":1523599,"display_name":"etric"},"score":0,"creation_date":1582644354,"post_id":60397234,"comment_id":106844005,"body_markdown":"I believe you have a type in markup.First input should have th:field=&quot;*{**password**}&quot;&gt; (not passwordRepeat)","body":"I believe you have a type in markup.First input should have th:field=&quot;*{<b>password</b>}&quot;&gt; (not passwordRepeat)"},{"owner":{"account_id":16089670,"reputation":121,"user_id":11613429,"display_name":"Johnny B. Goode"},"score":0,"creation_date":1582649543,"post_id":60397234,"comment_id":106847043,"body_markdown":"right, there&#39;s a &quot;password&quot; input above, didn&#39;t mention it, but fixed in edit","body":"right, there&#39;s a &quot;password&quot; input above, didn&#39;t mention it, but fixed in edit"}],"answers":[{"tags":[],"owner":{"account_id":2862565,"reputation":223,"user_id":2457521,"display_name":"Alejandro Venegas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1582643896,"creation_date":1582643896,"answer_id":60397865,"question_id":60397234,"body_markdown":"Maybe the password is null in any runtime,\r\nTry to add a validation to avoid nullpointer.\r\n\r\n     @AssertTrue(message = &quot;PasswisPasswordsEqualords should match&quot;)\r\n        public boolean isPasswordsEqual() {\r\n            return (password == null) ? false : password.equals(passwordRepeat);\r\n        }","title":"Thymeleaf form validation","body":"<p>Maybe the password is null in any runtime,\nTry to add a validation to avoid nullpointer.</p>\n\n<pre><code> @AssertTrue(message = \"PasswisPasswordsEqualords should match\")\n    public boolean isPasswordsEqual() {\n        return (password == null) ? false : password.equals(passwordRepeat);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22917845,"reputation":356,"user_id":17054178,"display_name":"E.H."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633119692,"creation_date":1633119692,"answer_id":69411608,"question_id":60397234,"body_markdown":"Validation Interceptor tries to validate all added constraints and return them all. Your validation method throws NullPointerException and stops it.\r\n\r\nAdd NotEmpty constraint on your password field.\r\n\r\n    @Pattern(regexp = &quot;((?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})&quot;,\r\n    message = &quot;Enter valid password&quot;)\r\n    @NotEmpty\r\n    private String password;\r\n\r\nCatch NullPointerException and return false. \r\n\r\n    @AssertTrue(message = &quot;Passwords should match&quot;)\r\n    public boolean isPasswordsEqual() {\r\n        try {\r\n            return password.equals(passwordRepeat);\r\n        } catch(NullPointerException e) {\r\n            return false;\r\n        }\r\n    }\r\n","title":"Thymeleaf form validation","body":"<p>Validation Interceptor tries to validate all added constraints and return them all. Your validation method throws NullPointerException and stops it.</p>\n<p>Add NotEmpty constraint on your password field.</p>\n<pre><code>@Pattern(regexp = &quot;((?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})&quot;,\nmessage = &quot;Enter valid password&quot;)\n@NotEmpty\nprivate String password;\n</code></pre>\n<p>Catch NullPointerException and return false.</p>\n<pre><code>@AssertTrue(message = &quot;Passwords should match&quot;)\npublic boolean isPasswordsEqual() {\n    try {\n        return password.equals(passwordRepeat);\n    } catch(NullPointerException e) {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16089670,"reputation":121,"user_id":11613429,"display_name":"Johnny B. Goode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60397865,"answer_count":2,"score":0,"last_activity_date":1633119692,"creation_date":1582641979,"question_id":60397234,"body_markdown":"I&#39;m trying to validate password via double check and display an error with thymeleaf if passwords don&#39;t match \r\n\r\nThe input form looks like this \r\n```java\r\npackage com.foxminded.university.domain;\r\n\r\nimport javax.validation.constraints.AssertTrue;\r\nimport javax.validation.constraints.Email;\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.Pattern;\r\nimport javax.validation.constraints.Size;\r\n\r\npublic class UserForm {\r\n\r\n    @NotNull(message = &quot;Can&#39;t be empty&quot;)\r\n    @Size(min = 2, max = 30, message = &quot;Must be more than 2 and less than 30 symbols&quot;)\r\n    private String firstName;\r\n\r\n    @NotNull(message = &quot;Can&#39;t be empty&quot;)\r\n    @Size(min = 2, max = 30, message = &quot;Must be more than 2 and less than 30 symbols&quot;)\r\n    private String lastName;\r\n\r\n    @Email(message = &quot;Enter valid e-mail&quot; )\r\n    private String email;\r\n\r\n    @Pattern(regexp = &quot;((?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})&quot;,\r\n    message = &quot;Enter valid password&quot;)\r\n    private String password;\r\n\r\n    private String passwordRepeat;\r\n\r\n    private boolean passwordsEqual;\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public String getPasswordRepeat() {\r\n        return passwordRepeat;\r\n    }\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public void setPasswordRepeat(String passwordRepeat) {\r\n        this.passwordRepeat = passwordRepeat;\r\n    }\r\n\r\n    public void setPasswordsEqual(boolean passwordsEqual) {\r\n        this.passwordsEqual = passwordsEqual;\r\n    }\r\n    @AssertTrue(message = &quot;Passwords should match&quot;)\r\n    public boolean isPasswordsEqual() {\r\n        return password.equals(passwordRepeat);\r\n    }\r\n}\r\n```\r\nAnd thymeleaf form row: \r\n```html\r\n&lt;div class=&quot;form-group&quot;&gt;\r\n            &lt;label&gt;Password&lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; th:unless=&quot;${#fields.hasErrors(&#39;password&#39;)}&quot; class=&quot;form-control&quot; placeholder=&quot;Password&quot;\r\n                   th:field=&quot;*{password}&quot;&gt;\r\n            &lt;input type=&quot;text&quot; th:if=&quot;${#fields.hasErrors(&#39;password&#39;)}&quot; class=&quot;form-control alert-danger&quot;\r\n                   placeholder=&quot;Password&quot; th:field=&quot;*{password}&quot;&gt;\r\n            &lt;span th:if=&quot;${#fields.hasErrors(&#39;password&#39;)}&quot; th:errors=&quot;*{password}&quot;&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;form-group&quot;&gt;\r\n            &lt;label&gt; Repeat password&lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; th:unless=&quot;${#fields.hasErrors(&#39;passwordsEqual&#39;)}&quot; class=&quot;form-control&quot;\r\n                   placeholder=&quot;Password&quot; th:field=&quot;*{passwordRepeat}&quot;&gt;\r\n            &lt;input type=&quot;text&quot; th:if=&quot;${#fields.hasErrors(&#39;passwordsEqual&#39;)}&quot; class=&quot;form-control alert-danger&quot;\r\n                   placeholder=&quot;Password&quot; th:field=&quot;*{passwordRepeat}&quot;&gt;\r\n            &lt;span class=&quot;error&quot; th:if=&quot;${#fields.hasErrors(&#39;passwordsEqual&#39;)}&quot; th:errors=&quot;*{passwordsEqual}&quot;&gt;&lt;/span&gt;\r\n        &lt;/div&gt;&lt;div class=&quot;form-group&quot;&gt;\r\n            &lt;label&gt; Repeat password&lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; th:unless=&quot;${#fields.hasErrors(&#39;passwordsEqual&#39;)}&quot; class=&quot;form-control&quot;\r\n                   placeholder=&quot;Password&quot; th:field=&quot;*{passwordRepeat}&quot;&gt;\r\n            &lt;input type=&quot;text&quot; th:if=&quot;${#fields.hasErrors(&#39;passwordsEqual&#39;)}&quot; class=&quot;form-control alert-danger&quot;\r\n                   placeholder=&quot;Password&quot; th:field=&quot;*{passwordRepeat}&quot;&gt;\r\n            &lt;span class=&quot;error&quot; th:if=&quot;${#fields.hasErrors(&#39;passwordsEqual&#39;)}&quot; th:errors=&quot;*{passwordsEqual}&quot;&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n```\r\n\r\nBut with this setup it doesn&#39;t load with exception ```Caused by: java.lang.NullPointerException at com.foxminded.university.domain.UserForm.isPasswordsEqual(UserForm.java:74)```\r\n\r\nSo I&#39;m not sure what should I annotate in from and whuch field to use in thymeleaf template for it to work?","title":"Thymeleaf form validation","body":"<p>I'm trying to validate password via double check and display an error with thymeleaf if passwords don't match </p>\n\n<p>The input form looks like this </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.foxminded.university.domain;\n\nimport javax.validation.constraints.AssertTrue;\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Pattern;\nimport javax.validation.constraints.Size;\n\npublic class UserForm {\n\n    @NotNull(message = \"Can't be empty\")\n    @Size(min = 2, max = 30, message = \"Must be more than 2 and less than 30 symbols\")\n    private String firstName;\n\n    @NotNull(message = \"Can't be empty\")\n    @Size(min = 2, max = 30, message = \"Must be more than 2 and less than 30 symbols\")\n    private String lastName;\n\n    @Email(message = \"Enter valid e-mail\" )\n    private String email;\n\n    @Pattern(regexp = \"((?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})\",\n    message = \"Enter valid password\")\n    private String password;\n\n    private String passwordRepeat;\n\n    private boolean passwordsEqual;\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public String getPasswordRepeat() {\n        return passwordRepeat;\n    }\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public void setPasswordRepeat(String passwordRepeat) {\n        this.passwordRepeat = passwordRepeat;\n    }\n\n    public void setPasswordsEqual(boolean passwordsEqual) {\n        this.passwordsEqual = passwordsEqual;\n    }\n    @AssertTrue(message = \"Passwords should match\")\n    public boolean isPasswordsEqual() {\n        return password.equals(passwordRepeat);\n    }\n}\n</code></pre>\n\n<p>And thymeleaf form row: </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"form-group\"&gt;\n            &lt;label&gt;Password&lt;/label&gt;\n            &lt;input type=\"text\" th:unless=\"${#fields.hasErrors('password')}\" class=\"form-control\" placeholder=\"Password\"\n                   th:field=\"*{password}\"&gt;\n            &lt;input type=\"text\" th:if=\"${#fields.hasErrors('password')}\" class=\"form-control alert-danger\"\n                   placeholder=\"Password\" th:field=\"*{password}\"&gt;\n            &lt;span th:if=\"${#fields.hasErrors('password')}\" th:errors=\"*{password}\"&gt;&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;label&gt; Repeat password&lt;/label&gt;\n            &lt;input type=\"text\" th:unless=\"${#fields.hasErrors('passwordsEqual')}\" class=\"form-control\"\n                   placeholder=\"Password\" th:field=\"*{passwordRepeat}\"&gt;\n            &lt;input type=\"text\" th:if=\"${#fields.hasErrors('passwordsEqual')}\" class=\"form-control alert-danger\"\n                   placeholder=\"Password\" th:field=\"*{passwordRepeat}\"&gt;\n            &lt;span class=\"error\" th:if=\"${#fields.hasErrors('passwordsEqual')}\" th:errors=\"*{passwordsEqual}\"&gt;&lt;/span&gt;\n        &lt;/div&gt;&lt;div class=\"form-group\"&gt;\n            &lt;label&gt; Repeat password&lt;/label&gt;\n            &lt;input type=\"text\" th:unless=\"${#fields.hasErrors('passwordsEqual')}\" class=\"form-control\"\n                   placeholder=\"Password\" th:field=\"*{passwordRepeat}\"&gt;\n            &lt;input type=\"text\" th:if=\"${#fields.hasErrors('passwordsEqual')}\" class=\"form-control alert-danger\"\n                   placeholder=\"Password\" th:field=\"*{passwordRepeat}\"&gt;\n            &lt;span class=\"error\" th:if=\"${#fields.hasErrors('passwordsEqual')}\" th:errors=\"*{passwordsEqual}\"&gt;&lt;/span&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>But with this setup it doesn't load with exception <code>Caused by: java.lang.NullPointerException at com.foxminded.university.domain.UserForm.isPasswordsEqual(UserForm.java:74)</code></p>\n\n<p>So I'm not sure what should I annotate in from and whuch field to use in thymeleaf template for it to work?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1633113027,"post_id":69410464,"comment_id":122682873,"body_markdown":"It sounds like you&#39;re running `java Rectangle` instead of `java TestRectangle`.","body":"It sounds like you&#39;re running <code>java Rectangle</code> instead of <code>java TestRectangle</code>."}],"answers":[{"tags":[],"owner":{"account_id":21791742,"reputation":212,"user_id":16091860,"display_name":"croakPedlar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633115164,"creation_date":1633115164,"answer_id":69410903,"question_id":69410464,"body_markdown":"You do not have a main method in your Rectangle class. Double check you&#39;re not calling it incorrectly. ","title":"Building a test Class for rectangle, but wont find main","body":"<p>You do not have a main method in your Rectangle class. Double check you're not calling it incorrectly.</p>\n"},{"tags":[],"owner":{"account_id":22917345,"reputation":13,"user_id":17053735,"display_name":"Nilay Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633118714,"creation_date":1633118714,"answer_id":69411461,"question_id":69410464,"body_markdown":"I am a beginner myself, but I found out some issues with your program.\r\n\r\n\r\nI assume you created two seperate files named Rectangle.java and TestRectangle.java. If not do so first.\r\n\r\n\r\nCompile them seperately, you will come across this 3 errors :\r\n\r\n\r\nError: Main method not found in class Rectangle, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application\r\n\r\n\r\n\r\nTestRectangle.java:20: error: variable length might not have been initialized\r\n                rec.setLength(length);\r\n                              \r\n\r\nTestRectangle.java:25: error: variable width might not have been initialized\r\n                rec.setWidth(width);\r\n                             \r\n\r\n\r\n\r\nAs you can see you haven&#39;t initialised the local variables &quot;length&quot;, &quot;width&quot;.\r\nAnd also you are passing these two uninitialised variables to methods : setLength(double) and setWidth(double) of your other class - Rectangle.java\r\n\r\nI think you meant to accept certain &quot;length&quot; and &quot;width&quot; from user as inputs.\r\n\r\nIf you do this in your switch case of TestRectangle class :\r\n\r\n    switch(number) {\r\n            case 1:\r\n                System.out.println(&quot;Length:&quot;);\r\n                **length=input.nextDouble();**\r\n                rec.setLength(length);\r\n            break;\r\n            case 2:\r\n                System.out.println(&quot;Width:&quot;);\r\n                **width=input.nextDouble();**\r\n                rec.setWidth(width);\r\n            break;\r\n\r\n\r\nYour program will run but there is a logical error in your program. Let&#39;s see how your TestRectangle class runs :\r\n\r\n*Code execution 1:*\r\n\r\nSkylar Jackson - Assignment 7\r\n\r\n1. Set Length\r\n2. Set Width\r\n3. Exit\r\n\r\nChoice: 2\r\n\r\nWidth:\r\n\r\n89.4 \r\n\r\nLength: 0.0\r\n\r\nWidth: 89.4\r\n\r\nArea: 0.0\r\n\r\nPerimeter: 178.8\r\n\r\n*Code execution 2:*\r\n\r\nSkylar Jackson - Assignment 7\r\n\r\n1. Set Length\r\n2. Set Width\r\n3. Exit\r\n\r\nChoice: 1  \r\n\r\nLength:\r\n\r\n24.95\r\n\r\nLength: 24.95 \r\n\r\nWidth: 0.0\r\n\r\nArea: 0.0\r\n\r\nPerimeter: 49.9\r\n \r\nYou see, your code can either accept only length or width because of your switch case logic. \r\n\r\n\r\nAlso your program is NOT able to catch the exception of &quot;your length and width should be between 0.0 and 20.0&quot;, when you accept input (as you can see from above - I&#39;ve accepted length and width well above 20.0).\r\n\r\n\r\nHINT: Use a single case for accepting both inputs together. Something like this :\r\n\r\n    switch(number) {\r\n            case 1:\r\n                System.out.println(&quot;Length:&quot;);\r\n                length=input.nextDouble();\r\n                rec.setLength(length);\r\n                System.out.println(&quot;Width:&quot;);\r\n                width=input.nextDouble();\r\n                rec.setWidth(width);\r\n            break;\r\n            case 2:\r\n                System.exit(0);\r\n            break;\r\n            default:\r\n                System.out.println(&quot;Unknown Option&quot;);\r\n            break;\r\n            }\r\n\r\n\r\n\r\nIf you do so, your code will run like this :-\r\n\r\n*Code Execution 3:*\r\n\r\nSkylar Jackson - Assignment 7\r\n\r\n1. Set Length and Width\r\n2. Exit\r\n\r\nChoice: 1   \r\n\r\nLength:\r\n\r\n23.5\r\n\r\nWidth:\r\n\r\n35.6\r\n\r\nLength: 23.5\r\n\r\nWidth: 35.6\r\n\r\nArea: 836.6\r\n\r\nPerimeter: 118.2\r\n\r\nBut still I can easily enter length and width values over 20.0 and your program does not detect that. So you need to do use a **do while loop**. *Using that will allow to keep on asking the user for input until and unless he enters within the given range of (0-20)*\r\n\r\n     switch(number) {\r\n            case 1:\r\n            do {\r\n                System.out.println(&quot; Enter Length value (0-20):&quot;);\r\n                length=input.nextDouble();\r\n                System.out.println(&quot;Enter Width value (0-20):&quot;);\r\n                width=input.nextDouble();\r\n            } while ((length &gt; 20.0 &amp;&amp; width &gt; 20.0) || (length &lt; 0.0 &amp;&amp; width &lt;0.0));\r\n                \r\n            rec.setLength(length);\r\n            rec.setWidth(width);\r\n            break;\r\n            case 2:\r\n                System.exit(0);\r\n            break;\r\n            default:\r\n                System.out.println(&quot;Unknown Option&quot;);\r\n            break;\r\n            }\r\n\r\n\r\nNow your program will keep on asking for input if it exceeds the range (0-20) \r\nLets run again :\r\n\r\n\r\n\r\n*Code Execution 4:*\r\n\r\nSkylar Jackson - Assignment 7\r\n\r\n1. Set Length and Width\r\n2. Exit\r\n\r\nChoice: 1\r\n\r\n Enter Length value (0-20):\r\n\r\n-96\r\n\r\nEnter Width value (0-20):\r\n\r\n-24\r\n\r\n Enter Length value (0-20):\r\n\r\n85\r\n\r\nEnter Width value (0-20):\r\n\r\n31\r\n\r\n Enter Length value (0-20):\r\n\r\n12\r\n\r\nEnter Width value (0-20):\r\n\r\n7 \r\n\r\nLength: 12.0\r\n\r\nWidth: 7.0\r\n\r\nArea: 84.0\r\n\r\nPerimeter: 38.0\r\n\r\n**NOW YOUR PROGRAM IS GIVING THE DESIRED OUTPUT**\r\n\r\n*Since I do not know exactly what is required of your assignment, I cannot give a appropriate solution. As of now, I have exposed some of the flaws in your programming logic and given you some hints how to fix your code. All the  best for your assignment.*\r\n","title":"Building a test Class for rectangle, but wont find main","body":"<p>I am a beginner myself, but I found out some issues with your program.</p>\n<p>I assume you created two seperate files named Rectangle.java and TestRectangle.java. If not do so first.</p>\n<p>Compile them seperately, you will come across this 3 errors :</p>\n<p>Error: Main method not found in class Rectangle, please define the main method as:\npublic static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application</p>\n<p>TestRectangle.java:20: error: variable length might not have been initialized\nrec.setLength(length);</p>\n<p>TestRectangle.java:25: error: variable width might not have been initialized\nrec.setWidth(width);</p>\n<p>As you can see you haven't initialised the local variables &quot;length&quot;, &quot;width&quot;.\nAnd also you are passing these two uninitialised variables to methods : setLength(double) and setWidth(double) of your other class - Rectangle.java</p>\n<p>I think you meant to accept certain &quot;length&quot; and &quot;width&quot; from user as inputs.</p>\n<p>If you do this in your switch case of TestRectangle class :</p>\n<pre><code>switch(number) {\n        case 1:\n            System.out.println(&quot;Length:&quot;);\n            **length=input.nextDouble();**\n            rec.setLength(length);\n        break;\n        case 2:\n            System.out.println(&quot;Width:&quot;);\n            **width=input.nextDouble();**\n            rec.setWidth(width);\n        break;\n</code></pre>\n<p>Your program will run but there is a logical error in your program. Let's see how your TestRectangle class runs :</p>\n<p><em>Code execution 1:</em></p>\n<p>Skylar Jackson - Assignment 7</p>\n<ol>\n<li>Set Length</li>\n<li>Set Width</li>\n<li>Exit</li>\n</ol>\n<p>Choice: 2</p>\n<p>Width:</p>\n<p>89.4</p>\n<p>Length: 0.0</p>\n<p>Width: 89.4</p>\n<p>Area: 0.0</p>\n<p>Perimeter: 178.8</p>\n<p><em>Code execution 2:</em></p>\n<p>Skylar Jackson - Assignment 7</p>\n<ol>\n<li>Set Length</li>\n<li>Set Width</li>\n<li>Exit</li>\n</ol>\n<p>Choice: 1</p>\n<p>Length:</p>\n<p>24.95</p>\n<p>Length: 24.95</p>\n<p>Width: 0.0</p>\n<p>Area: 0.0</p>\n<p>Perimeter: 49.9</p>\n<p>You see, your code can either accept only length or width because of your switch case logic.</p>\n<p>Also your program is NOT able to catch the exception of &quot;your length and width should be between 0.0 and 20.0&quot;, when you accept input (as you can see from above - I've accepted length and width well above 20.0).</p>\n<p>HINT: Use a single case for accepting both inputs together. Something like this :</p>\n<pre><code>switch(number) {\n        case 1:\n            System.out.println(&quot;Length:&quot;);\n            length=input.nextDouble();\n            rec.setLength(length);\n            System.out.println(&quot;Width:&quot;);\n            width=input.nextDouble();\n            rec.setWidth(width);\n        break;\n        case 2:\n            System.exit(0);\n        break;\n        default:\n            System.out.println(&quot;Unknown Option&quot;);\n        break;\n        }\n</code></pre>\n<p>If you do so, your code will run like this :-</p>\n<p><em>Code Execution 3:</em></p>\n<p>Skylar Jackson - Assignment 7</p>\n<ol>\n<li>Set Length and Width</li>\n<li>Exit</li>\n</ol>\n<p>Choice: 1</p>\n<p>Length:</p>\n<p>23.5</p>\n<p>Width:</p>\n<p>35.6</p>\n<p>Length: 23.5</p>\n<p>Width: 35.6</p>\n<p>Area: 836.6</p>\n<p>Perimeter: 118.2</p>\n<p>But still I can easily enter length and width values over 20.0 and your program does not detect that. So you need to do use a <strong>do while loop</strong>. <em>Using that will allow to keep on asking the user for input until and unless he enters within the given range of (0-20)</em></p>\n<pre><code> switch(number) {\n        case 1:\n        do {\n            System.out.println(&quot; Enter Length value (0-20):&quot;);\n            length=input.nextDouble();\n            System.out.println(&quot;Enter Width value (0-20):&quot;);\n            width=input.nextDouble();\n        } while ((length &gt; 20.0 &amp;&amp; width &gt; 20.0) || (length &lt; 0.0 &amp;&amp; width &lt;0.0));\n            \n        rec.setLength(length);\n        rec.setWidth(width);\n        break;\n        case 2:\n            System.exit(0);\n        break;\n        default:\n            System.out.println(&quot;Unknown Option&quot;);\n        break;\n        }\n</code></pre>\n<p>Now your program will keep on asking for input if it exceeds the range (0-20)\nLets run again :</p>\n<p><em>Code Execution 4:</em></p>\n<p>Skylar Jackson - Assignment 7</p>\n<ol>\n<li>Set Length and Width</li>\n<li>Exit</li>\n</ol>\n<p>Choice: 1</p>\n<p>Enter Length value (0-20):</p>\n<p>-96</p>\n<p>Enter Width value (0-20):</p>\n<p>-24</p>\n<p>Enter Length value (0-20):</p>\n<p>85</p>\n<p>Enter Width value (0-20):</p>\n<p>31</p>\n<p>Enter Length value (0-20):</p>\n<p>12</p>\n<p>Enter Width value (0-20):</p>\n<p>7</p>\n<p>Length: 12.0</p>\n<p>Width: 7.0</p>\n<p>Area: 84.0</p>\n<p>Perimeter: 38.0</p>\n<p><strong>NOW YOUR PROGRAM IS GIVING THE DESIRED OUTPUT</strong></p>\n<p><em>Since I do not know exactly what is required of your assignment, I cannot give a appropriate solution. As of now, I have exposed some of the flaws in your programming logic and given you some hints how to fix your code. All the  best for your assignment.</em></p>\n"}],"owner":{"account_id":19607238,"reputation":47,"user_id":14350610,"display_name":"Sky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633118714,"creation_date":1633112700,"question_id":69410464,"body_markdown":"Trying to create a test class, but I can&#39;t seem to connect both of them. Any ideas? I keep gettign the error of \r\n\r\nError: Main method not found in class Rectangle, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass Rectangle {\r\n\r\n\tprivate double length;\r\n\tprivate double width;\r\n\t\r\n\t//constructors\r\n\t//set width and length to one as defaults\r\n\tpublic void Rectangle() {\r\n\t\tlength = 1;\r\n\t\twidth = 1;\r\n\t}\r\n\t\r\n\tpublic void Rectangle(double length, double width) {\r\n\t\tthis.length = length;\r\n\t\tthis.width = width;\r\n\t}\r\n\r\n\t//Set for length and width\r\n\tpublic void setLength(double length) {\r\n\t\tif(length &gt; 0.0 || length &lt; 20.0) {\r\n\t\t\tthis.length = length;\r\n\t\t}else{\r\n\t\t\tthrow new IllegalArgumentException(&quot;Please choose between 0.0 and 20.0&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void setWidth(double width){\r\n\t\tif(width &gt; 0.0 || width &lt; 20.0) {\r\n\t\t\tthis.width = width;\r\n\t\t}else{\r\n\t\t\tthrow new IllegalArgumentException(&quot;Please choose between 0.0 and 20.0&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\t//Get for length and width\r\n\tpublic double getLength(){\r\n\t\treturn length;\r\n\t}\r\n\tpublic double getWidth(){\r\n\t\treturn width;\r\n\t}\r\n\t\r\n\t//Methods to calculate\r\n\tpublic double getPerimeter() {\r\n\t\treturn (length * 2) + (width * 2);\r\n\t}\r\n\t\r\n\tpublic double getArea() {\r\n\t\treturn length * width;\r\n\t}\r\n\t\r\n\tpublic void showRec() {\r\n\t\tSystem.out.println(&quot;Length: &quot; + getLength() + &quot;\\nWidth: &quot; + getWidth() + &quot;\\nArea: &quot; + getArea() + &quot;\\nPerimeter: &quot; + getPerimeter());\r\n\t}\r\n}\r\n\t\r\nclass TestRectangle{\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Skylar Jackson - Assignment 7\\n&quot;);\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tdouble length;\r\n\t\tdouble width;\r\n\t\t\r\n\t\tSystem.out.print(&quot;1. Set Length\\n2. Set Width\\n3. Exit\\nChoice: &quot;);\r\n\t\tint number = input.nextInt();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tRectangle rec = new Rectangle();\r\n\t\t\t\r\n\t\t\tswitch(number) {\r\n\t\t\tcase 1:\r\n\t\t\t\tSystem.out.println(&quot;Length:&quot;);\r\n\t\t\t\tinput.nextDouble();\r\n\t\t\t\trec.setLength(length);\r\n\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.out.println(&quot;Width:&quot;);\r\n\t\t\t\tinput.nextDouble();\r\n\t\t\t\trec.setWidth(width);\r\n\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\tbreak;\r\n\t\t\tdefault: \r\n\t\t\t\tSystem.out.println(&quot;Unknown Option&quot;);\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\trec.showRec();\r\n\t\t}catch(IllegalArgumentException e) {\r\n\t\t\tSystem.out.println(&quot;The Length or Width needs to be between 0.0 and 20.0&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t}//end main\r\n\t} //end test","title":"Building a test Class for rectangle, but wont find main","body":"<p>Trying to create a test class, but I can't seem to connect both of them. Any ideas? I keep gettign the error of</p>\n<p>Error: Main method not found in class Rectangle, please define the main method as:\npublic static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application</p>\n<pre><code>import java.util.Scanner;\n\nclass Rectangle {\n\n    private double length;\n    private double width;\n    \n    //constructors\n    //set width and length to one as defaults\n    public void Rectangle() {\n        length = 1;\n        width = 1;\n    }\n    \n    public void Rectangle(double length, double width) {\n        this.length = length;\n        this.width = width;\n    }\n\n    //Set for length and width\n    public void setLength(double length) {\n        if(length &gt; 0.0 || length &lt; 20.0) {\n            this.length = length;\n        }else{\n            throw new IllegalArgumentException(&quot;Please choose between 0.0 and 20.0&quot;);\n        }\n    }\n    \n    public void setWidth(double width){\n        if(width &gt; 0.0 || width &lt; 20.0) {\n            this.width = width;\n        }else{\n            throw new IllegalArgumentException(&quot;Please choose between 0.0 and 20.0&quot;);\n        }\n    }\n    \n    //Get for length and width\n    public double getLength(){\n        return length;\n    }\n    public double getWidth(){\n        return width;\n    }\n    \n    //Methods to calculate\n    public double getPerimeter() {\n        return (length * 2) + (width * 2);\n    }\n    \n    public double getArea() {\n        return length * width;\n    }\n    \n    public void showRec() {\n        System.out.println(&quot;Length: &quot; + getLength() + &quot;\\nWidth: &quot; + getWidth() + &quot;\\nArea: &quot; + getArea() + &quot;\\nPerimeter: &quot; + getPerimeter());\n    }\n}\n    \nclass TestRectangle{\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Skylar Jackson - Assignment 7\\n&quot;);\n        Scanner input = new Scanner(System.in);\n        double length;\n        double width;\n        \n        System.out.print(&quot;1. Set Length\\n2. Set Width\\n3. Exit\\nChoice: &quot;);\n        int number = input.nextInt();\n        \n        try {\n            Rectangle rec = new Rectangle();\n            \n            switch(number) {\n            case 1:\n                System.out.println(&quot;Length:&quot;);\n                input.nextDouble();\n                rec.setLength(length);\n            break;\n            case 2:\n                System.out.println(&quot;Width:&quot;);\n                input.nextDouble();\n                rec.setWidth(width);\n            break;\n            case 3:\n                System.exit(0);\n            break;\n            default: \n                System.out.println(&quot;Unknown Option&quot;);\n            break;\n            }\n            rec.showRec();\n        }catch(IllegalArgumentException e) {\n            System.out.println(&quot;The Length or Width needs to be between 0.0 and 20.0&quot;);\n        }\n        \n        \n        }//end main\n    } //end test\n</code></pre>\n"},{"tags":["java","sorting","hashmap"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":4,"creation_date":1633117518,"post_id":69411259,"comment_id":122684181,"body_markdown":"Maps have *a* order, but that order is nothing to be relied on - any order you may observe is purely coincidental. Therefore the answer to &quot;How is this program sorting arrays [...]&quot; is: it isn&#39;t.","body":"Maps have <i>a</i> order, but that order is nothing to be relied on - any order you may observe is purely coincidental. Therefore the answer to &quot;How is this program sorting arrays [...]&quot; is: it isn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633118257,"creation_date":1633118257,"answer_id":69411401,"question_id":69411259,"body_markdown":"If you want to see a different behavior try changing your initial capacity and load factor.  Something like the following:\r\n```\r\nMap&lt;Integer,String&gt; mp = new HashMap&lt;Integer,String&gt;(2,3.0f);\r\n```\r\nYou can read about those [here](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/HashMap.html#HashMap-int-float-)","title":"HahsMap sorting","body":"<p>If you want to see a different behavior try changing your initial capacity and load factor.  Something like the following:</p>\n<pre><code>Map&lt;Integer,String&gt; mp = new HashMap&lt;Integer,String&gt;(2,3.0f);\n</code></pre>\n<p>You can read about those <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/HashMap.html#HashMap-int-float-\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":22917782,"reputation":1,"user_id":17054121,"display_name":"Kartheek L"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1633118257,"creation_date":1633117421,"question_id":69411259,"body_markdown":"How is this program sorting arrays when Hashmap is not sorted or ordered ?\r\n\r\n\r\nThis program is printing a sorted map from two different sorted arrays \r\n\r\n```\r\nclass A {\r\n\t\r\n\t// Function to merge arrays\r\n\tstatic void mergeArrays(int a[], int b[], int n, int m)\r\n\t{\r\n\t\r\n\t\t// Declaring a map.\r\n\t\t// using map as a inbuilt tool\r\n\t\t// to store elements in sorted order.\r\n\t\tMap&lt;Integer,String&gt; mp = new HashMap&lt;Integer,String&gt;();\r\n\t\r\n\t\t// Inserting values to a map.\r\n\t\tfor(int i = 0; i &lt; n; i++)\r\n\t\t{\r\n\t\t\tmp.put(a[i], &quot;a&quot;);\r\n\t\t}\r\n\t\tfor(int i = 0;i &lt; m;i++)\r\n\t\t{\r\n\t\t\tmp.put(b[i], &quot;a&quot;);\r\n\t\t}\r\n\t\r\n\t\t// Printing keys of the map.\r\n\t\tfor (Entry&lt;Integer, String&gt; me : mp.entrySet())\r\n\t\t{\r\n\t\t\tSystem.out.print(me.getKey() + &quot; &quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main (String[] args)\r\n\t{\r\n\t\tint a[] = {1,3,5,7}, b[] = {2, 4, 6, 8};\r\n\t\tint size = a.length;\r\n\t\tint size1 = b.length;\r\n\t\t\r\n\t\r\n\t\tmergeArrays(a, b, size, size1);\r\n\t}\r\n}\r\n```","title":"HahsMap sorting","body":"<p>How is this program sorting arrays when Hashmap is not sorted or ordered ?</p>\n<p>This program is printing a sorted map from two different sorted arrays</p>\n<pre><code>class A {\n    \n    // Function to merge arrays\n    static void mergeArrays(int a[], int b[], int n, int m)\n    {\n    \n        // Declaring a map.\n        // using map as a inbuilt tool\n        // to store elements in sorted order.\n        Map&lt;Integer,String&gt; mp = new HashMap&lt;Integer,String&gt;();\n    \n        // Inserting values to a map.\n        for(int i = 0; i &lt; n; i++)\n        {\n            mp.put(a[i], &quot;a&quot;);\n        }\n        for(int i = 0;i &lt; m;i++)\n        {\n            mp.put(b[i], &quot;a&quot;);\n        }\n    \n        // Printing keys of the map.\n        for (Entry&lt;Integer, String&gt; me : mp.entrySet())\n        {\n            System.out.print(me.getKey() + &quot; &quot;);\n        }\n    }\n    \n    \n    public static void main (String[] args)\n    {\n        int a[] = {1,3,5,7}, b[] = {2, 4, 6, 8};\n        int size = a.length;\n        int size1 = b.length;\n        \n    \n        mergeArrays(a, b, size, size1);\n    }\n}\n</code></pre>\n"},{"tags":["java","concurrency","timertask","try-with-resources"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1632872682,"post_id":69369474,"comment_id":122610013,"body_markdown":"`close` will be called when the `try-catch` exits, it&#39;s probably not the best choice","body":"<code>close</code> will be called when the <code>try-catch</code> exits, it&#39;s probably not the best choice"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1632873248,"post_id":69369474,"comment_id":122610083,"body_markdown":"Why are you not using the Executors framework that supplanted `Timer` class years ago?","body":"Why are you not using the Executors framework that supplanted <code>Timer</code> class years ago?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1632875761,"post_id":69369474,"comment_id":122610407,"body_markdown":"`catch (Exception e) {\n      }` do not silently swallow exceptions","body":"<code>catch (Exception e) {       }</code> do not silently swallow exceptions"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1632887888,"post_id":69369474,"comment_id":122611095,"body_markdown":"Do you understand that `monitorTimer.schedule(obj, new Date(), 1)` schedules a task to run repeatedly once per millisecond? Why so fast, every millisecond? And if scheduling to repeat endlessly, what does it mean for your `Timer` to &quot;have terminated&quot;? A repeating task will continue repeating indefinitely. Or am I missing something here?","body":"Do you understand that <code>monitorTimer.schedule(obj, new Date(), 1)</code> schedules a task to run repeatedly once per millisecond? Why so fast, every millisecond? And if scheduling to repeat endlessly, what does it mean for your <code>Timer</code> to &quot;have terminated&quot;? A repeating task will continue repeating indefinitely. Or am I missing something here?"},{"owner":{"account_id":12537754,"reputation":93,"user_id":9123877,"display_name":"Alan Feldstein"},"score":0,"creation_date":1632928310,"post_id":69369474,"comment_id":122626960,"body_markdown":"I agree, @MadProgrammer.","body":"I agree, @MadProgrammer."},{"owner":{"account_id":12537754,"reputation":93,"user_id":9123877,"display_name":"Alan Feldstein"},"score":0,"creation_date":1632928432,"post_id":69369474,"comment_id":122627021,"body_markdown":"@Scary, it&#39;s not real code. I removed the exception handlers for this post so that no one would be distracted by them. They have nothing to do with the problem I describe.","body":"@Scary, it&#39;s not real code. I removed the exception handlers for this post so that no one would be distracted by them. They have nothing to do with the problem I describe."},{"owner":{"account_id":12537754,"reputation":93,"user_id":9123877,"display_name":"Alan Feldstein"},"score":0,"creation_date":1632928484,"post_id":69369474,"comment_id":122627050,"body_markdown":"@BasilBorque, like I said, those are not the real arguments to the schedule method. I&#39;m just showing you which overload I&#39;m calling. I know that the task is scheduled to run repeatedly and endlessly. But nothing is truly endless. The threads will eventually cease to execute. That&#39;s when the MessageQueue objects will no longer be needed and that&#39;s when I want MessageQueue.close() called.","body":"@BasilBorque, like I said, those are not the real arguments to the schedule method. I&#39;m just showing you which overload I&#39;m calling. I know that the task is scheduled to run repeatedly and endlessly. But nothing is truly endless. The threads will eventually cease to execute. That&#39;s when the MessageQueue objects will no longer be needed and that&#39;s when I want MessageQueue.close() called."},{"owner":{"account_id":12537754,"reputation":93,"user_id":9123877,"display_name":"Alan Feldstein"},"score":0,"creation_date":1632929918,"post_id":69369474,"comment_id":122627772,"body_markdown":"@BasilBorque, it&#39;s not new code. It&#39;s not my code. Timer was selected by a predecessor. I accept the blame for AutoCloseable, which I intend to fix. Consideration of the Executors framework will be given at a future date (or now if necessary). My focus right now is on calling MessageQueue.close() at the appropriate time.","body":"@BasilBorque, it&#39;s not new code. It&#39;s not my code. Timer was selected by a predecessor. I accept the blame for AutoCloseable, which I intend to fix. Consideration of the Executors framework will be given at a future date (or now if necessary). My focus right now is on calling MessageQueue.close() at the appropriate time."},{"owner":{"account_id":12537754,"reputation":93,"user_id":9123877,"display_name":"Alan Feldstein"},"score":0,"creation_date":1632946839,"post_id":69369474,"comment_id":122634243,"body_markdown":"Please vote to reopen this question. It was sufficiently detailed and clear when first asked. Upon discovering it to have been closed, I added verbosity.  Please do not focus on the dummy arguments I provided for Timer.schedule(). They have nothing to do with the question that was asked. Nor should you focus on exception handlers I deliberately emptied for the sake of this discussion. I have scheduled tasks to run repeatedly. How do I determine that they have stopped running so that I can perform termination housekeeping? If you think the Executors framework answers my question, explain why.","body":"Please vote to reopen this question. It was sufficiently detailed and clear when first asked. Upon discovering it to have been closed, I added verbosity.  Please do not focus on the dummy arguments I provided for Timer.schedule(). They have nothing to do with the question that was asked. Nor should you focus on exception handlers I deliberately emptied for the sake of this discussion. I have scheduled tasks to run repeatedly. How do I determine that they have stopped running so that I can perform termination housekeeping? If you think the Executors framework answers my question, explain why."},{"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"score":1,"creation_date":1633033315,"post_id":69369474,"comment_id":122661356,"body_markdown":"When composing `Closeable`s and closing multiple resources inside one `close()` method, you should add a try-catch inside the loop so that you don&#39;t leave the other resources open if one fails to close. Remember the first exception occured, add all subsequent via `.addSuppressed`. Throw the first exception (with all subsequent added via `addSuppressed`) after closing all resources if one occured.","body":"When composing <code>Closeable</code>s and closing multiple resources inside one <code>close()</code> method, you should add a try-catch inside the loop so that you don&#39;t leave the other resources open if one fails to close. Remember the first exception occured, add all subsequent via <code>.addSuppressed</code>. Throw the first exception (with all subsequent added via <code>addSuppressed</code>) after closing all resources if one occured."}],"answers":[{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633032976,"creation_date":1633025171,"answer_id":69396999,"question_id":69369474,"body_markdown":"You have conflicting lifecycle issues here.\r\n\r\nYou have `Timer` whose lifecycle is 100% in your control. You start it, you stop it, and that&#39;s it. But you have no direct introspection in to the status of the threads being managed by the Timer. So, you can&#39;t ask it if it has anything currently running, for example.\r\n\r\nThen you have your `MessageQueue`, which is invoked by the `Timer`. This is the lifecycle you&#39;re interested in. You want to wait for all of the `MessageQueues` to be &quot;done&quot;, for assorted values of done. But, since the queue are constantly being rescheduled (given the `Timer.schedule` method that you&#39;re using), they&#39;re NEVER &quot;done&quot;. They process their contents and go off and run again.\r\n\r\nSo, how is anyone to know when &quot;done&quot; means &quot;done&quot;?\r\n\r\nIs it up to the `MessageQueue`? Or is it up to the `ProcessQueues`? Who&#39;s in command here?\r\n\r\nNotice, nothing ever cancels the `Timer`. It&#39;s just runs on and on and on.\r\n\r\nSo, how can one know when `MessageQueue` can be closed?\r\n\r\nIf `MessageQueue` is the real driver here, then you should add lifecycle methods to the `MessageQueue` that `ProcessQueues` can monitor to know when to shut things down. For example, you could create a `CountDownLatch` set for however many `MessageQueues` are in your list, and then subscribe to a new lifecycle method on the `MessageQueue` that it calls when it&#39;s finished. The callback method can then decrement the `CountDownLatch`, and the `ProcessQueues.close` method simply waits on the latch to countdown before closing everything.\r\n\r\n    public class ProcessQueues implements AutoCloseable, MessageQueueListener {\r\n    \r\n        private ArrayList&lt;MessageQueue&gt; queueObjects = new ArrayList&lt;MessageQueue&gt;();\r\n        CountDownLatch latch;\r\n    \r\n        public ProcessQueues() {\r\n            queueObjects.add(new FFE_DPVALID_TO_SSP_EXCEPTION());\r\n            queueObjects.add(new FFE_DPVALID_TO_SSP_ESBEXCEPTION());\r\n            ... \r\n            queueObjects.forEach((mq) -&gt; {\r\n                mq.setListener(this);\r\n            });\r\n            latch = new CountDownLatch(queueObjects.size());\r\n        }\r\n    \r\n        private void scheduleProcessRuns() {\r\n            try {\r\n                for (MessageQueue obj : queueObjects) {\r\n                    monitorTimer.schedule(obj, new Date(), 1); // NOT THE ACTUAL ARGUMENTS\r\n                }\r\n            } catch (Exception ex) {\r\n                // NOT THE ACTUAL EXCEPTION HANDLER\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try (ProcessQueues pq = new ProcessQueues()) {\r\n                pq.scheduleProcessRuns();\r\n            } catch (Exception e) {\r\n                // NOT THE ACTUAL EXCEPTION HANDLER\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void close() throws Exception {\r\n            latch.await();\r\n            for (MessageQueue queue : queueObjects) {\r\n                queue.close();\r\n            }\r\n            monitorTimer.cancel();\r\n        }\r\n    \r\n        @Override\r\n        public void messageQueueDone() {\r\n            latch.countDown();\r\n        }\r\n    }\r\n\r\n    public interface MessageQueueListener {    \r\n        public void messageQueueDone();\r\n    }\r\n\r\n    public class MessageQueue extends TimerTask {\r\n        MessageQueueListener listener;\r\n        \r\n        public void setListener(MessageQueueListener listener) {\r\n            this.listener = listener;\r\n        }\r\n        \r\n        private boolean isMessageQueueReallyDone {\r\n            ...\r\n        }\r\n        public void run() {\r\n            ...\r\n            if (isMessageQueueReallyDone() &amp;&amp; listener != null) {\r\n                listener.messageQueueDone();\r\n            }\r\n        }\r\n    }\r\n\r\nMind, this means that your try-with-resource block will block waiting on all of the `MessageQueues`, if that&#39;s what you want, then you&#39;re good to go.\r\n\r\nIt also crassly assumes that your `MessageQueue.run()` knows when to shut down, which goes back to that &quot;who&#39;s in control here&quot; thing.\r\n\r\n","title":"What&#39;s the best way to release resources after java.util.Timer?","body":"<p>You have conflicting lifecycle issues here.</p>\n<p>You have <code>Timer</code> whose lifecycle is 100% in your control. You start it, you stop it, and that's it. But you have no direct introspection in to the status of the threads being managed by the Timer. So, you can't ask it if it has anything currently running, for example.</p>\n<p>Then you have your <code>MessageQueue</code>, which is invoked by the <code>Timer</code>. This is the lifecycle you're interested in. You want to wait for all of the <code>MessageQueues</code> to be &quot;done&quot;, for assorted values of done. But, since the queue are constantly being rescheduled (given the <code>Timer.schedule</code> method that you're using), they're NEVER &quot;done&quot;. They process their contents and go off and run again.</p>\n<p>So, how is anyone to know when &quot;done&quot; means &quot;done&quot;?</p>\n<p>Is it up to the <code>MessageQueue</code>? Or is it up to the <code>ProcessQueues</code>? Who's in command here?</p>\n<p>Notice, nothing ever cancels the <code>Timer</code>. It's just runs on and on and on.</p>\n<p>So, how can one know when <code>MessageQueue</code> can be closed?</p>\n<p>If <code>MessageQueue</code> is the real driver here, then you should add lifecycle methods to the <code>MessageQueue</code> that <code>ProcessQueues</code> can monitor to know when to shut things down. For example, you could create a <code>CountDownLatch</code> set for however many <code>MessageQueues</code> are in your list, and then subscribe to a new lifecycle method on the <code>MessageQueue</code> that it calls when it's finished. The callback method can then decrement the <code>CountDownLatch</code>, and the <code>ProcessQueues.close</code> method simply waits on the latch to countdown before closing everything.</p>\n<pre><code>public class ProcessQueues implements AutoCloseable, MessageQueueListener {\n\n    private ArrayList&lt;MessageQueue&gt; queueObjects = new ArrayList&lt;MessageQueue&gt;();\n    CountDownLatch latch;\n\n    public ProcessQueues() {\n        queueObjects.add(new FFE_DPVALID_TO_SSP_EXCEPTION());\n        queueObjects.add(new FFE_DPVALID_TO_SSP_ESBEXCEPTION());\n        ... \n        queueObjects.forEach((mq) -&gt; {\n            mq.setListener(this);\n        });\n        latch = new CountDownLatch(queueObjects.size());\n    }\n\n    private void scheduleProcessRuns() {\n        try {\n            for (MessageQueue obj : queueObjects) {\n                monitorTimer.schedule(obj, new Date(), 1); // NOT THE ACTUAL ARGUMENTS\n            }\n        } catch (Exception ex) {\n            // NOT THE ACTUAL EXCEPTION HANDLER\n        }\n    }\n\n    public static void main(String[] args) {\n        try (ProcessQueues pq = new ProcessQueues()) {\n            pq.scheduleProcessRuns();\n        } catch (Exception e) {\n            // NOT THE ACTUAL EXCEPTION HANDLER\n        }\n    }\n\n    @Override\n    public void close() throws Exception {\n        latch.await();\n        for (MessageQueue queue : queueObjects) {\n            queue.close();\n        }\n        monitorTimer.cancel();\n    }\n\n    @Override\n    public void messageQueueDone() {\n        latch.countDown();\n    }\n}\n\npublic interface MessageQueueListener {    \n    public void messageQueueDone();\n}\n\npublic class MessageQueue extends TimerTask {\n    MessageQueueListener listener;\n    \n    public void setListener(MessageQueueListener listener) {\n        this.listener = listener;\n    }\n    \n    private boolean isMessageQueueReallyDone {\n        ...\n    }\n    public void run() {\n        ...\n        if (isMessageQueueReallyDone() &amp;&amp; listener != null) {\n            listener.messageQueueDone();\n        }\n    }\n}\n</code></pre>\n<p>Mind, this means that your try-with-resource block will block waiting on all of the <code>MessageQueues</code>, if that's what you want, then you're good to go.</p>\n<p>It also crassly assumes that your <code>MessageQueue.run()</code> knows when to shut down, which goes back to that &quot;who's in control here&quot; thing.</p>\n"},{"tags":[],"owner":{"account_id":12537754,"reputation":93,"user_id":9123877,"display_name":"Alan Feldstein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633118220,"creation_date":1633118220,"answer_id":69411389,"question_id":69369474,"body_markdown":"I could terminate the `Timer`, but having it run perpetually is intentional. The question is in consideration of what happens when something else terminates the `Timer` and the `MessageQueue` objects are no longer needed. It is at that point that I would like to call `ProcessQueues.close()`.\r\n\r\nIf I were to use the Executor framework, rather than `Timer`, then I could use `ExecutorService.awaitTermination(long timeout, TimeUnit unit)`\r\n\r\n`TimerTask` is a `Runnable`, and `MessageQueue` is already a `TimerTask`, so `MessageQueue` need not change.\r\n\r\n&#39;ExecutorService.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS)&#39; would effectively wait forever for termination.\r\n\r\n      public static void main(String[] args) {   \r\n      try (ProcessQueues pq = new ProcessQueues()) {\r\n        pq.scheduleProcessRuns();\r\n\r\n        // Don&#39;t take this literally.\r\n        ExecutorService.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\r\n\r\n      } catch (Exception e) {\r\n         // NOT THE ACTUAL EXCEPTION HANDLER\r\n      }\r\n    }\r\n\r\nOf course, `awaitTermination` isn&#39;t a static method, so I&#39;ll have to have an ExecutorService, but you get the idea.  \r\n\r\nAfter termination, the `AutoCloseable` feature is leveraged and `ProcessQueues.close()` is implicitly called.\r\n\r\nAll that remains is to start the threads for perpetually repeated calls to each `TimerTask`, using the Executor framework. The answer to that question is `ScheduledExecutorService`.\r\n\r\nI think this will work.","title":"What&#39;s the best way to release resources after java.util.Timer?","body":"<p>I could terminate the <code>Timer</code>, but having it run perpetually is intentional. The question is in consideration of what happens when something else terminates the <code>Timer</code> and the <code>MessageQueue</code> objects are no longer needed. It is at that point that I would like to call <code>ProcessQueues.close()</code>.</p>\n<p>If I were to use the Executor framework, rather than <code>Timer</code>, then I could use <code>ExecutorService.awaitTermination(long timeout, TimeUnit unit)</code></p>\n<p><code>TimerTask</code> is a <code>Runnable</code>, and <code>MessageQueue</code> is already a <code>TimerTask</code>, so <code>MessageQueue</code> need not change.</p>\n<p>'ExecutorService.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS)' would effectively wait forever for termination.</p>\n<pre><code>  public static void main(String[] args) {   \n  try (ProcessQueues pq = new ProcessQueues()) {\n    pq.scheduleProcessRuns();\n\n    // Don't take this literally.\n    ExecutorService.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\n\n  } catch (Exception e) {\n     // NOT THE ACTUAL EXCEPTION HANDLER\n  }\n}\n</code></pre>\n<p>Of course, <code>awaitTermination</code> isn't a static method, so I'll have to have an ExecutorService, but you get the idea.</p>\n<p>After termination, the <code>AutoCloseable</code> feature is leveraged and <code>ProcessQueues.close()</code> is implicitly called.</p>\n<p>All that remains is to start the threads for perpetually repeated calls to each <code>TimerTask</code>, using the Executor framework. The answer to that question is <code>ScheduledExecutorService</code>.</p>\n<p>I think this will work.</p>\n"}],"owner":{"account_id":12537754,"reputation":93,"user_id":9123877,"display_name":"Alan Feldstein"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633118220,"creation_date":1632872045,"question_id":69369474,"body_markdown":"I have an AutoCloseable whose close() method is being called prematurely. The AutoCloseable is ProcessQueues below. I don&#39;t want the close() method to be called when it is currently being called. I&#39;m considering the removal of &quot;implements AutoCloseable&quot; to accomplish that. But then how do I know when to call ProcessQueues.close()?\r\n\r\n     public class ProcessQueues implements AutoCloseable {\r\n    \tprivate ArrayList&lt;MessageQueue&gt;\tqueueObjects\t= new ArrayList&lt;MessageQueue&gt;();\r\n\r\n    \tpublic ProcessQueues() {\r\n    \t\tqueueObjects.add(new FFE_DPVALID_TO_SSP_EXCEPTION());\r\n            queueObjects.add(new FFE_DPVALID_TO_SSP_ESBEXCEPTION());\r\n    \t\t...\r\n    \t}\r\n    \t\r\n    \tprivate void scheduleProcessRuns() {\r\n    \t\ttry {\r\n    \t\t\tfor (MessageQueue obj : queueObjects) {\r\n    \t\t\t\tmonitorTimer.schedule(obj, new Date(), 1); // NOT THE ACTUAL ARGUMENTS\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (Exception ex) {\r\n               // NOT THE ACTUAL EXCEPTION HANDLER\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {   \r\n    \t  try (ProcessQueues pq = new ProcessQueues()) {\r\n    \t    pq.scheduleProcessRuns();\r\n    \t  } catch (Exception e) {\r\n             // NOT THE ACTUAL EXCEPTION HANDLER\r\n          }\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void close() throws Exception {\r\n    \t  for (MessageQueue queue : queueObjects) {\r\n    \t    queue.close();\r\n    \t  }\r\n    \t}\r\n    }\r\n\r\nI want ProcessQueues.close() to be called, but not until the task execution threads of all Timer objects terminate. As written, ProcessQueues.close() will be called as soon as the tasks are *scheduled*. I can easily solve that by removing &quot;implements AutoCloseable&quot; from the ProcessQueues class (and removing the @Override annotation). But then I have to call ProcessQueues.close() myself. How do I know when the task execution threads of all Timer objects have terminated? That&#39;s when I want to call ProcessQueues.close().\r\n\r\nNote that MessageQueue isn&#39;t instantiated in the resource specification header of a try-with-resources block, so although MessageQueue also implements AutoCloseable, the feature isn&#39;t utilized here. I&#39;m explicitly calling MessageQueue.close(). It is in MessageQueue.close() that I release resources. Releasing those resources prematurely causes the task execution threads to fail to complete their tasks.\r\n\r\nI&#39;m considering an explicit call to ProcessQueues.close() after rewriting the code to prevent automatic resource deallocation, but again I don&#39;t know how to discover the right time for that explicit call.\r\n\r\nI considered overriding ProcessQueues.finalize(), but &quot;Java: How to Program&quot;, Eleventh Edition advises against that. &quot;You should never use method finalize, because it can cause many problems and there&#39;s uncertainty as to whether it will ever get called before a program terminates... Now it&#39;s considered better practice for any class that uses system resources... to provide a method that programmers can call to release resources when they&#39;re no longer needed in a program.&quot; I have such a method. It&#39;s ProcessQueues.close(). But when should I call it?\r\n","title":"What&#39;s the best way to release resources after java.util.Timer?","body":"<p>I have an AutoCloseable whose close() method is being called prematurely. The AutoCloseable is ProcessQueues below. I don't want the close() method to be called when it is currently being called. I'm considering the removal of &quot;implements AutoCloseable&quot; to accomplish that. But then how do I know when to call ProcessQueues.close()?</p>\n<pre><code> public class ProcessQueues implements AutoCloseable {\n    private ArrayList&lt;MessageQueue&gt; queueObjects    = new ArrayList&lt;MessageQueue&gt;();\n\n    public ProcessQueues() {\n        queueObjects.add(new FFE_DPVALID_TO_SSP_EXCEPTION());\n        queueObjects.add(new FFE_DPVALID_TO_SSP_ESBEXCEPTION());\n        ...\n    }\n    \n    private void scheduleProcessRuns() {\n        try {\n            for (MessageQueue obj : queueObjects) {\n                monitorTimer.schedule(obj, new Date(), 1); // NOT THE ACTUAL ARGUMENTS\n            }\n        }\n        catch (Exception ex) {\n           // NOT THE ACTUAL EXCEPTION HANDLER\n        }\n    }\n\n    public static void main(String[] args) {   \n      try (ProcessQueues pq = new ProcessQueues()) {\n        pq.scheduleProcessRuns();\n      } catch (Exception e) {\n         // NOT THE ACTUAL EXCEPTION HANDLER\n      }\n    }\n\n    @Override\n    public void close() throws Exception {\n      for (MessageQueue queue : queueObjects) {\n        queue.close();\n      }\n    }\n}\n</code></pre>\n<p>I want ProcessQueues.close() to be called, but not until the task execution threads of all Timer objects terminate. As written, ProcessQueues.close() will be called as soon as the tasks are <em>scheduled</em>. I can easily solve that by removing &quot;implements AutoCloseable&quot; from the ProcessQueues class (and removing the @Override annotation). But then I have to call ProcessQueues.close() myself. How do I know when the task execution threads of all Timer objects have terminated? That's when I want to call ProcessQueues.close().</p>\n<p>Note that MessageQueue isn't instantiated in the resource specification header of a try-with-resources block, so although MessageQueue also implements AutoCloseable, the feature isn't utilized here. I'm explicitly calling MessageQueue.close(). It is in MessageQueue.close() that I release resources. Releasing those resources prematurely causes the task execution threads to fail to complete their tasks.</p>\n<p>I'm considering an explicit call to ProcessQueues.close() after rewriting the code to prevent automatic resource deallocation, but again I don't know how to discover the right time for that explicit call.</p>\n<p>I considered overriding ProcessQueues.finalize(), but &quot;Java: How to Program&quot;, Eleventh Edition advises against that. &quot;You should never use method finalize, because it can cause many problems and there's uncertainty as to whether it will ever get called before a program terminates... Now it's considered better practice for any class that uses system resources... to provide a method that programmers can call to release resources when they're no longer needed in a program.&quot; I have such a method. It's ProcessQueues.close(). But when should I call it?</p>\n"},{"tags":["java","static","try-catch"],"comments":[{"owner":{"account_id":5511506,"reputation":207,"user_id":4377644,"display_name":"Pran Sukh"},"score":0,"creation_date":1633113763,"post_id":69410021,"comment_id":122683079,"body_markdown":"Since **HelloWorld.Answer** is throwing exception then the calling point must be wrapped in try/catch block. When you apply quick fix the VC just tries to handle it in it&#39;s own way and keeps the variable out of try/catch block. just put your variable in try block.","body":"Since <b>HelloWorld.Answer</b> is throwing exception then the calling point must be wrapped in try/catch block. When you apply quick fix the VC just tries to handle it in it&#39;s own way and keeps the variable out of try/catch block. just put your variable in try block."},{"owner":{"account_id":6515831,"reputation":119,"user_id":5041701,"accept_rate":86,"display_name":"Jonas"},"score":0,"creation_date":1633155568,"post_id":69410021,"comment_id":122690065,"body_markdown":"Yes of course :) , you&#39;re right - I was fooled by VC.","body":"Yes of course :) , you&#39;re right - I was fooled by VC."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633117622,"creation_date":1633117622,"answer_id":69411287,"question_id":69410021,"body_markdown":"Whenever you are not sure how to handle an exception, the correct action is not to catch it at all.\r\n\r\nInstead, add it to the `throws` clause of the method where the code resides:\r\n\r\n    @RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.POST)\r\n    public HelloResult Hello(@RequestBody HelloRequest request)\r\n    throws HelloException {\r\n\r\n        HelloResult result = HelloWorld.Answer(request.getName());\r\n            \r\n        return result;        \r\n    }\r\n\r\nThis is important because if the REST service cannot complete its operation properly, you want it to visibly fail.  You do not want the service to pretend that it worked when it did not in fact work.  (Think of any device or program which has done that.  If you press an elevator button and it doesn’t actually register, that’s pretty frustrating, isn’t it?)\r\n","title":"Catching exceptions from static methods - best practice in Java","body":"<p>Whenever you are not sure how to handle an exception, the correct action is not to catch it at all.</p>\n<p>Instead, add it to the <code>throws</code> clause of the method where the code resides:</p>\n<pre><code>@RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.POST)\npublic HelloResult Hello(@RequestBody HelloRequest request)\nthrows HelloException {\n\n    HelloResult result = HelloWorld.Answer(request.getName());\n        \n    return result;        \n}\n</code></pre>\n<p>This is important because if the REST service cannot complete its operation properly, you want it to visibly fail.  You do not want the service to pretend that it worked when it did not in fact work.  (Think of any device or program which has done that.  If you press an elevator button and it doesn’t actually register, that’s pretty frustrating, isn’t it?)</p>\n"}],"owner":{"account_id":6515831,"reputation":119,"user_id":5041701,"accept_rate":86,"display_name":"Jonas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69411287,"answer_count":1,"score":0,"last_activity_date":1633117622,"creation_date":1633110145,"question_id":69410021,"body_markdown":"I need some advice please.\r\n\r\nSince the static HelloWorld.Answer method throws a HelloException this code below gets an error.\r\n\r\n    @RestController\r\n    public class HelloController {\r\n        \r\n        @RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.POST)\r\n        public HelloResult Hello(@RequestBody HelloRequest request) {\r\n    \r\n            HelloResult result = HelloWorld.Answer(request.getName());\r\n                \r\n            return result;        \r\n        }\r\n    }\r\n\r\nIf I follow the Quick Fix ... from VS Code and add Try-Catch-block the result will be \r\n\r\n    @RestController\r\n    public class HelloController {\r\n        \r\n        @RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.POST)\r\n        public HelloResult Hello(@RequestBody HelloRequest request) {\r\n    \r\n            HelloResult result;\r\n    \r\n            try {\r\n                result = HelloWorld.Answer(request.getName());\r\n            } catch (HelloException e) {\r\n                e.printStackTrace();\r\n            }\r\n                \r\n            return result;        \r\n        }\r\n    }\r\n\r\nwhich generates another error, \r\n\r\n    The local variable result may not have been initialized\r\n\r\nso my question is - what is best practice in Java, what should be done in HelloController.Hello?","title":"Catching exceptions from static methods - best practice in Java","body":"<p>I need some advice please.</p>\n<p>Since the static HelloWorld.Answer method throws a HelloException this code below gets an error.</p>\n<pre><code>@RestController\npublic class HelloController {\n    \n    @RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.POST)\n    public HelloResult Hello(@RequestBody HelloRequest request) {\n\n        HelloResult result = HelloWorld.Answer(request.getName());\n            \n        return result;        \n    }\n}\n</code></pre>\n<p>If I follow the Quick Fix ... from VS Code and add Try-Catch-block the result will be</p>\n<pre><code>@RestController\npublic class HelloController {\n    \n    @RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.POST)\n    public HelloResult Hello(@RequestBody HelloRequest request) {\n\n        HelloResult result;\n\n        try {\n            result = HelloWorld.Answer(request.getName());\n        } catch (HelloException e) {\n            e.printStackTrace();\n        }\n            \n        return result;        \n    }\n}\n</code></pre>\n<p>which generates another error,</p>\n<pre><code>The local variable result may not have been initialized\n</code></pre>\n<p>so my question is - what is best practice in Java, what should be done in HelloController.Hello?</p>\n"},{"tags":["java","android"],"owner":{"account_id":22804235,"reputation":21,"user_id":16956483,"display_name":"Derop De Rop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1633116823,"creation_date":1633116823,"question_id":69411159,"body_markdown":"duplicate class android.support.v4.accessibilityservice.AccessibilityServiceInfoCompat found in modules support-compat-28.0.0-runtime (com.android.support:support-compat:28.0.0) and support-v4-22.2.0-runtime (com.android.support:support-v4:22.2.0) \r\n\r\nplease what should I do, I have no idea and Im new to android studio\r\n\r\n\r\n    dependencies {\r\n\r\n    implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n    //implementation &#39;com.android.support:design:28.0.0&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:2.0.4&#39;\r\n    implementation &#39;android.arch.lifecycle:livedata:1.1.1&#39;\r\n    implementation &#39;android.arch.lifecycle:viewmodel:1.1.1&#39;\r\n    implementation &#39;android.arch.navigation:navigation-fragment:1.0.0&#39;\r\n    implementation &#39;android.arch.navigation:navigation-ui:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n}","title":"duplicate class android.support.v4.accessibilityservice","body":"<p>duplicate class android.support.v4.accessibilityservice.AccessibilityServiceInfoCompat found in modules support-compat-28.0.0-runtime (com.android.support:support-compat:28.0.0) and support-v4-22.2.0-runtime (com.android.support:support-v4:22.2.0)</p>\n<p>please what should I do, I have no idea and Im new to android studio</p>\n<pre><code>dependencies {\n\nimplementation 'com.android.support:appcompat-v7:28.0.0'\n//implementation 'com.android.support:design:28.0.0'\nimplementation 'com.android.support.constraint:constraint-layout:2.0.4'\nimplementation 'android.arch.lifecycle:livedata:1.1.1'\nimplementation 'android.arch.lifecycle:viewmodel:1.1.1'\nimplementation 'android.arch.navigation:navigation-fragment:1.0.0'\nimplementation 'android.arch.navigation:navigation-ui:1.0.0'\ntestImplementation 'junit:junit:4.+'\nandroidTestImplementation 'com.android.support.test:runner:1.0.2'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","gradle","junit4"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1633114551,"post_id":69410695,"comment_id":122683331,"body_markdown":"According to the error, you are trying to use JUnit5, not 4","body":"According to the error, you are trying to use JUnit5, not 4"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633114654,"creation_date":1633114654,"answer_id":69410825,"question_id":69410695,"body_markdown":"&gt; Could not find org.junit.jupiter:junit-jupiter:. Required by: project :app\r\n\r\nThis is JUnit 5, not 4... And you would need a version added to this to use it\r\n\r\nIf you want to use JUnit **4**, and only in project test scope, remove these lines\r\n\r\n```\r\nimplementation &#39;junit:junit:4.13.2&#39;\r\n\r\ntestImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\ntestImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n```\r\n\r\nKeep this\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n\r\nIf you wanted to use JUnit5, check out - https://github.com/mannodermaus/android-junit5","title":"Android | Junit 4 Test crashes","body":"<blockquote>\n<p>Could not find org.junit.jupiter:junit-jupiter:. Required by: project :app</p>\n</blockquote>\n<p>This is JUnit 5, not 4... And you would need a version added to this to use it</p>\n<p>If you want to use JUnit <strong>4</strong>, and only in project test scope, remove these lines</p>\n<pre><code>implementation 'junit:junit:4.13.2'\n\ntestImplementation 'org.junit.jupiter:junit-jupiter'\ntestImplementation 'org.junit.jupiter:junit-jupiter'\n</code></pre>\n<p>Keep this</p>\n<pre><code>testImplementation 'junit:junit:4.13.2'\n</code></pre>\n<p>If you wanted to use JUnit5, check out - <a href=\"https://github.com/mannodermaus/android-junit5\" rel=\"nofollow noreferrer\">https://github.com/mannodermaus/android-junit5</a></p>\n"}],"owner":{"account_id":19355615,"reputation":57,"user_id":14152013,"display_name":"Dude2345"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69410825,"answer_count":1,"score":0,"last_activity_date":1633115145,"creation_date":1633113931,"question_id":69410695,"body_markdown":"I want to add tests to my android app project, but it always crashes.\r\n\r\nhere my gradle:\r\n\r\n    plugins {\r\n\t\tid &#39;com.android.application&#39;\r\n\t}\r\n\r\n\tandroid {\r\n\t\tcompileSdk 30\r\n\r\n\t\tdefaultConfig {\r\n\t\t\tapplicationId &quot;com.example&quot;\r\n\t\t\tminSdk 26\r\n\t\t\ttargetSdk 30\r\n\t\t\tversionCode 4\r\n\t\t\tversionName &#39;1.1.2&#39;\r\n\r\n\t\t\ttestInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\t\t}\r\n\r\n\t\tbuildTypes {\r\n\t\t\trelease {\r\n\t\t\t\tminifyEnabled false\r\n\t\t\t\tproguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n\t\t\t}\r\n\t\t}\r\n\t\tcompileOptions {\r\n\t\t\tsourceCompatibility JavaVersion.VERSION_1_8\r\n\t\t\ttargetCompatibility JavaVersion.VERSION_1_8\r\n\t\t}\r\n\t\tbuildFeatures {\r\n\t\t\tviewBinding true\r\n\t\t}\r\n\t}\r\n\r\n\tdependencies {\r\n\r\n\t\timplementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n\t\timplementation &#39;com.google.android.material:material:1.4.0&#39;\r\n\t\timplementation &#39;androidx.constraintlayout:constraintlayout:2.1.1&#39;\r\n\t\timplementation &#39;androidx.navigation:navigation-fragment:2.3.5&#39;\r\n\t\timplementation &#39;androidx.navigation:navigation-ui:2.3.5&#39;\r\n\t\timplementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.3.1&#39;\r\n\t\timplementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1&#39;\r\n\t\timplementation &#39;junit:junit:4.13.2&#39;\r\n\t\ttestImplementation &#39;junit:junit:4.13.2&#39;\r\n\t\ttestImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n\t\ttestImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n\t\tandroidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n\t\tandroidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\t}\r\n\r\nMy TestClass (an empty test class):\r\n\r\n    package com.example;\r\n    \r\n    import junit.framework.TestCase;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    public class Test extends TestCase {\r\n        @Test\r\n        public void test() {\r\n        }\r\n    }\r\n\r\nThe error log: \r\n\r\n     unable to enhance gradle daemon classloader with idea_rt.jar\r\n     org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException:\r\n     Could not resolve all files for configuration\r\n     &#39;:app:debugUnitTestRuntimeClasspath&#39;.\r\n     org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:1420)\r\n     org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$3600(DefaultConfiguration.java:150)\r\n     org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$DefaultResolutionHost.rethrowFailure(DefaultConfiguration.java:2032)\r\n     org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.visitContents(DefaultConfiguration.java:1392)\r\n     org.gradle.api.internal.file.AbstractFileCollection.visitStructure(AbstractFileCollection.java:330)\r\n     org.gradle.api.internal.file.CompositeFileCollection.lambda$visitContents$0(CompositeFileCollection.java:119)\r\n     org.gradle.api.internal.file.collections.UnpackingVisitor.add(UnpackingVisitor.java:64)\r\n     org.gradle.api.internal.file.collections.DefaultConfigurableFileCollection$UnresolvedItemsCollector.visitContents(DefaultConfigurableFileCollection.java:372)\r\n     org.gradle.api.internal.file.collections.DefaultConfigurableFileCollection.visitChildren(DefaultConfigurableFileCollection.java:284)\r\n     org.gradle.api.internal.file.CompositeFileCollection.visitContents(CompositeFileCollection.java:119)\r\n     org.gradle.api.internal.file.AbstractFileCollection.getFiles(AbstractFileCollection.java:130)\r\n     java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n     Method)\r\n     java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n     java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n     org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n     groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n     org.codehaus.groovy.runtime.metaclass.MethodMetaProperty$GetBeanMethodMetaProperty.getProperty(MethodMetaProperty.java:76)\r\n     org.codehaus.groovy.runtime.callsite.GetEffectivePojoPropertySite.getProperty(GetEffectivePojoPropertySite.java:63)\r\n     org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGetProperty(AbstractCallSite.java:329)\r\n     ijresolvers1_12052bkonxwb33ouhf2odudmt$_run_closure2$_closure5.doCall(C:\\Users\\User\\AppData\\Local\\Temp\\ijresolvers1.gradle:121)\r\n     jdk.internal.reflect.GeneratedMethodAccessor27.invoke(Unknown\r\n     Source)\r\n     java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n     org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n     groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n     org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:263)\r\n     groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\r\n     groovy.lang.Closure.call(Closure.java:412)\r\n     groovy.lang.Closure.call(Closure.java:428)\r\n     org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2318)\r\n     org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2303)\r\n     org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2344)\r\n     org.codehaus.groovy.runtime.dgm$200.invoke(Unknown Source)\r\n     org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoMetaMethodSiteNoUnwrapNoCoerce.invoke(PojoMetaMethodSite.java:247)\r\n     org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:56)\r\n     org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\r\n     ijresolvers1_12052bkonxwb33ouhf2odudmt$_run_closure2.doCall(C:\\Users\\User\\AppData\\Local\\Temp\\ijresolvers1.gradle:117)\r\n     java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n     Method)\r\n     java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n     java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n     org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n     groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n     org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:263)\r\n     groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\r\n     groovy.lang.Closure.call(Closure.java:412)\r\n     org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingClosure$1.lambda$run$0(DefaultListenerBuildOperationDecorator.java:180)\r\n     org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication.reapply(DefaultUserCodeApplicationContext.java:86)\r\n     org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingClosure$1.run(DefaultListenerBuildOperationDecorator.java:177)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n     org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n     org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n     org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n     org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingClosure.doCall(DefaultListenerBuildOperationDecorator.java:174)\r\n     jdk.internal.reflect.GeneratedMethodAccessor237.invoke(Unknown\r\n     Source)\r\n     java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n     org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n     groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n     groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\r\n     groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\r\n     groovy.lang.Closure.call(Closure.java:412)\r\n     org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(ClosureBackedMethodInvocationDispatch.java:41)\r\n     org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(ClosureBackedMethodInvocationDispatch.java:25)\r\n     org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:43)\r\n     org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:245)\r\n     org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:157)\r\n     org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:61)\r\n     org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:346)\r\n     org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:249)\r\n     org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\r\n     org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n     org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n     jdk.proxy1/jdk.proxy1.$Proxy41.graphPopulated(Unknown Source)\r\n     org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$NotifyTaskGraphWhenReady.run(DefaultTaskExecutionGraph.java:457)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n     org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n     org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n     org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n     org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.lambda$fireWhenReady$1(DefaultTaskExecutionGraph.java:437)\r\n     org.gradle.internal.Factories$1.create(Factories.java:31)\r\n     org.gradle.api.internal.project.DefaultProjectStateRegistry.withMutableStateOfAllProjects(DefaultProjectStateRegistry.java:141)\r\n     org.gradle.api.internal.project.DefaultProjectStateRegistry.withMutableStateOfAllProjects(DefaultProjectStateRegistry.java:128)\r\n     org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.fireWhenReady(DefaultTaskExecutionGraph.java:436)\r\n     org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.populate(DefaultTaskExecutionGraph.java:173)\r\n     org.gradle.initialization.DefaultTaskExecutionPreparer.prepareForTaskExecution(DefaultTaskExecutionPreparer.java:41)\r\n     org.gradle.initialization.BuildOperationFiringTaskExecutionPreparer$CalculateTaskGraph.populateTaskGraph(BuildOperationFiringTaskExecutionPreparer.java:117)\r\n     org.gradle.initialization.BuildOperationFiringTaskExecutionPreparer$CalculateTaskGraph.run(BuildOperationFiringTaskExecutionPreparer.java:68)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n     org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n     org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n     org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n     org.gradle.initialization.BuildOperationFiringTaskExecutionPreparer.prepareForTaskExecution(BuildOperationFiringTaskExecutionPreparer.java:56)\r\n     org.gradle.initialization.DefaultGradleLauncher.prepareTaskExecution(DefaultGradleLauncher.java:233)\r\n     org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:168)\r\n     org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\r\n     org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:125)\r\n     org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:71)\r\n     org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n     org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\r\n     org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\r\n     org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:56)\r\n     org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n     org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n     org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:66)\r\n     org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n     org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:90)\r\n     org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n     org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\r\n     org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n     org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n     org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n     org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n     org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n     org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\r\n     org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:59)\r\n     org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\r\n     org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:58)\r\n     org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\r\n     org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:34)\r\n     org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n     org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\r\n     org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:28)\r\n     org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\r\n     org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\r\n     org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\r\n     org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\r\n     org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\r\n     org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\r\n     org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\r\n     org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\r\n     org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n     org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n     org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\r\n     org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n     org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n     org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n     org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n     org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n     org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n     org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n     org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n     org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n     org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n     org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n     org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n     org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n     org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n     org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n     org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n     org.gradle.util.Swapper.swap(Swapper.java:38)\r\n     org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n     org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n     org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n     org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n     org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n     org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n     org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n     org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n     org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n     org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n     org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n     org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n     org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n     org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n     java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n     java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n     org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n     java.base/java.lang.Thread.run(Thread.java:831)\r\n     \r\n     Caused by:\r\n     org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not\r\n     find org.junit.jupiter:junit-jupiter:. Required by:\r\n         project :app\r\n\r\n","title":"Android | Junit 4 Test crashes","body":"<p>I want to add tests to my android app project, but it always crashes.</p>\n<p>here my gradle:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 30\n\n    defaultConfig {\n        applicationId &quot;com.example&quot;\n        minSdk 26\n        targetSdk 30\n        versionCode 4\n        versionName '1.1.2'\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.3.1'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.1'\n    implementation 'androidx.navigation:navigation-fragment:2.3.5'\n    implementation 'androidx.navigation:navigation-ui:2.3.5'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.3.1'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1'\n    implementation 'junit:junit:4.13.2'\n    testImplementation 'junit:junit:4.13.2'\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>My TestClass (an empty test class):</p>\n<pre><code>package com.example;\n\nimport junit.framework.TestCase;\n\nimport org.junit.Test;\n\npublic class Test extends TestCase {\n    @Test\n    public void test() {\n    }\n}\n</code></pre>\n<p>The error log:</p>\n<pre><code> unable to enhance gradle daemon classloader with idea_rt.jar\n org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException:\n Could not resolve all files for configuration\n ':app:debugUnitTestRuntimeClasspath'.\n org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:1420)\n org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$3600(DefaultConfiguration.java:150)\n org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$DefaultResolutionHost.rethrowFailure(DefaultConfiguration.java:2032)\n org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.visitContents(DefaultConfiguration.java:1392)\n org.gradle.api.internal.file.AbstractFileCollection.visitStructure(AbstractFileCollection.java:330)\n org.gradle.api.internal.file.CompositeFileCollection.lambda$visitContents$0(CompositeFileCollection.java:119)\n org.gradle.api.internal.file.collections.UnpackingVisitor.add(UnpackingVisitor.java:64)\n org.gradle.api.internal.file.collections.DefaultConfigurableFileCollection$UnresolvedItemsCollector.visitContents(DefaultConfigurableFileCollection.java:372)\n org.gradle.api.internal.file.collections.DefaultConfigurableFileCollection.visitChildren(DefaultConfigurableFileCollection.java:284)\n org.gradle.api.internal.file.CompositeFileCollection.visitContents(CompositeFileCollection.java:119)\n org.gradle.api.internal.file.AbstractFileCollection.getFiles(AbstractFileCollection.java:130)\n java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\n Method)\n java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n java.base/java.lang.reflect.Method.invoke(Method.java:567)\n org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n org.codehaus.groovy.runtime.metaclass.MethodMetaProperty$GetBeanMethodMetaProperty.getProperty(MethodMetaProperty.java:76)\n org.codehaus.groovy.runtime.callsite.GetEffectivePojoPropertySite.getProperty(GetEffectivePojoPropertySite.java:63)\n org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGetProperty(AbstractCallSite.java:329)\n ijresolvers1_12052bkonxwb33ouhf2odudmt$_run_closure2$_closure5.doCall(C:\\Users\\User\\AppData\\Local\\Temp\\ijresolvers1.gradle:121)\n jdk.internal.reflect.GeneratedMethodAccessor27.invoke(Unknown\n Source)\n java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n java.base/java.lang.reflect.Method.invoke(Method.java:567)\n org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:263)\n groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\n groovy.lang.Closure.call(Closure.java:412)\n groovy.lang.Closure.call(Closure.java:428)\n org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2318)\n org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2303)\n org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2344)\n org.codehaus.groovy.runtime.dgm$200.invoke(Unknown Source)\n org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoMetaMethodSiteNoUnwrapNoCoerce.invoke(PojoMetaMethodSite.java:247)\n org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:56)\n org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\n ijresolvers1_12052bkonxwb33ouhf2odudmt$_run_closure2.doCall(C:\\Users\\User\\AppData\\Local\\Temp\\ijresolvers1.gradle:117)\n java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\n Method)\n java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n java.base/java.lang.reflect.Method.invoke(Method.java:567)\n org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:263)\n groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\n groovy.lang.Closure.call(Closure.java:412)\n org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingClosure$1.lambda$run$0(DefaultListenerBuildOperationDecorator.java:180)\n org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication.reapply(DefaultUserCodeApplicationContext.java:86)\n org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingClosure$1.run(DefaultListenerBuildOperationDecorator.java:177)\n org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingClosure.doCall(DefaultListenerBuildOperationDecorator.java:174)\n jdk.internal.reflect.GeneratedMethodAccessor237.invoke(Unknown\n Source)\n java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n java.base/java.lang.reflect.Method.invoke(Method.java:567)\n org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\n groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\n groovy.lang.Closure.call(Closure.java:412)\n org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(ClosureBackedMethodInvocationDispatch.java:41)\n org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(ClosureBackedMethodInvocationDispatch.java:25)\n org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:43)\n org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:245)\n org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:157)\n org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:61)\n org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:346)\n org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:249)\n org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\n org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n jdk.proxy1/jdk.proxy1.$Proxy41.graphPopulated(Unknown Source)\n org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$NotifyTaskGraphWhenReady.run(DefaultTaskExecutionGraph.java:457)\n org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.lambda$fireWhenReady$1(DefaultTaskExecutionGraph.java:437)\n org.gradle.internal.Factories$1.create(Factories.java:31)\n org.gradle.api.internal.project.DefaultProjectStateRegistry.withMutableStateOfAllProjects(DefaultProjectStateRegistry.java:141)\n org.gradle.api.internal.project.DefaultProjectStateRegistry.withMutableStateOfAllProjects(DefaultProjectStateRegistry.java:128)\n org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.fireWhenReady(DefaultTaskExecutionGraph.java:436)\n org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.populate(DefaultTaskExecutionGraph.java:173)\n org.gradle.initialization.DefaultTaskExecutionPreparer.prepareForTaskExecution(DefaultTaskExecutionPreparer.java:41)\n org.gradle.initialization.BuildOperationFiringTaskExecutionPreparer$CalculateTaskGraph.populateTaskGraph(BuildOperationFiringTaskExecutionPreparer.java:117)\n org.gradle.initialization.BuildOperationFiringTaskExecutionPreparer$CalculateTaskGraph.run(BuildOperationFiringTaskExecutionPreparer.java:68)\n org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n org.gradle.initialization.BuildOperationFiringTaskExecutionPreparer.prepareForTaskExecution(BuildOperationFiringTaskExecutionPreparer.java:56)\n org.gradle.initialization.DefaultGradleLauncher.prepareTaskExecution(DefaultGradleLauncher.java:233)\n org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:168)\n org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\n org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:125)\n org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:71)\n org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\n org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\n org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\n org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:56)\n org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:66)\n org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:90)\n org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\n org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\n org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\n org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:59)\n org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\n org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:58)\n org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:34)\n org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\n org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:28)\n org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\n org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\n org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\n org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\n org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\n org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\n org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\n org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\n org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\n org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n org.gradle.util.Swapper.swap(Swapper.java:38)\n org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n java.base/java.lang.Thread.run(Thread.java:831)\n \n Caused by:\n org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not\n find org.junit.jupiter:junit-jupiter:. Required by:\n     project :app\n</code></pre>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":349387,"reputation":6854,"user_id":684650,"display_name":"ditkin"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1401162356,"creation_date":1401162356,"answer_id":23880774,"question_id":23880461,"body_markdown":"You should read about [gradle tasks][1] and [more about tasks][2].  You want to depend on things rather then invoke things.  \r\n\r\nAlso I think you should read about, and use the [gradle android plugin][3].\r\n\r\nTo your original question, when you define a task the code between the braces is run at configuration time.  A task&#39;s actions are run when the task is executed and must be added to the task&#39;s action list.  This is done by using the task&#39;s doFirst, doLast or the &lt;&lt; operator.\r\n\r\nHere is an example from the gradle documentation.\r\n\r\n    task taskX &lt;&lt; {\r\n        println &#39;taskX&#39;\r\n    }\r\n    task taskY &lt;&lt; {\r\n        println &#39;taskY&#39;\r\n    }\r\n    task taskZ &lt;&lt; {\r\n        println &#39;taskZ&#39;\r\n    }\r\n    taskX.dependsOn taskY\r\n    taskY.dependsOn taskZ\r\n    taskZ.shouldRunAfter taskX\r\n\r\n\r\n  [1]: http://www.gradle.org/docs/current/userguide/tutorial_using_tasks.html\r\n  [2]: http://www.gradle.org/docs/current/userguide/more_about_tasks.html\r\n  [3]: http://tools.android.com/tech-docs/new-build-system/user-guide","title":"How to make tasks execute one after another?","body":"<p>You should read about <a href=\"http://www.gradle.org/docs/current/userguide/tutorial_using_tasks.html\" rel=\"noreferrer\">gradle tasks</a> and <a href=\"http://www.gradle.org/docs/current/userguide/more_about_tasks.html\" rel=\"noreferrer\">more about tasks</a>.  You want to depend on things rather then invoke things.  </p>\n\n<p>Also I think you should read about, and use the <a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide\" rel=\"noreferrer\">gradle android plugin</a>.</p>\n\n<p>To your original question, when you define a task the code between the braces is run at configuration time.  A task's actions are run when the task is executed and must be added to the task's action list.  This is done by using the task's doFirst, doLast or the &lt;&lt; operator.</p>\n\n<p>Here is an example from the gradle documentation.</p>\n\n<pre><code>task taskX &lt;&lt; {\n    println 'taskX'\n}\ntask taskY &lt;&lt; {\n    println 'taskY'\n}\ntask taskZ &lt;&lt; {\n    println 'taskZ'\n}\ntaskX.dependsOn taskY\ntaskY.dependsOn taskZ\ntaskZ.shouldRunAfter taskX\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2064634,"reputation":3508,"user_id":1840421,"accept_rate":65,"display_name":"Sharif Mamun"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1401173615,"creation_date":1401173615,"answer_id":23882870,"question_id":23880461,"body_markdown":"For sequential or whatever the sequence you want to run your tasks, I do the following thing in my build.gradle file:\r\n\r\n\tdef modules = [&quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;, &quot;ZZ&quot;]\r\n\r\n\tif (modules.size() &gt; 1) {\r\n\t\tfor(j in 1 .. modules.size()-1 ) {\r\n\t\t\ttasks[modules[j]].mustRunAfter  modules[values[j-1]]\t\t\r\n\t\t }\r\n\t}","title":"How to make tasks execute one after another?","body":"<p>For sequential or whatever the sequence you want to run your tasks, I do the following thing in my build.gradle file:</p>\n\n<pre><code>def modules = [\"X\", \"Y\", \"Z\", \"ZZ\"]\n\nif (modules.size() &gt; 1) {\n    for(j in 1 .. modules.size()-1 ) {\n        tasks[modules[j]].mustRunAfter  modules[values[j-1]]        \n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6688303,"reputation":2926,"user_id":5158636,"display_name":"tschumann"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1577599858,"creation_date":1577599858,"answer_id":59517250,"question_id":23880461,"body_markdown":"```task1.finalizedBy task2``` will run task2 after task1.","title":"How to make tasks execute one after another?","body":"<p><code>task1.finalizedBy task2</code> will run task2 after task1.</p>\n"},{"tags":[],"owner":{"account_id":2621788,"reputation":460,"user_id":2269661,"display_name":"lixiaodaoaaa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1583999293,"creation_date":1583999293,"answer_id":60649635,"question_id":23880461,"body_markdown":"## The Best Answer is Here\r\n  \r\n```groov\r\ntask myTask1() {\r\n  println(&quot;this is task1 running&quot;) \r\n}\r\n\r\ntask task2() { dependsOn myTask1\r\n  println(&quot;this is task2 running&quot;) \r\n}\r\n```\r\n\r\nwhen you execute  **gradle task2** .\r\n\r\nthis wil  first execute task1  ,and then  execute task2\r\n\r\n\r\n## you should use dependsOn key words\r\n\r\nFor example\r\n\r\n\r\n```shell\r\n\r\ntask buildMyApk(type: Exec) {\r\n    def myCommond = [&#39;gradle&#39;, &quot;assembleRelease&quot;]\r\n    commandLine myCommond\r\n}\r\n\r\n\r\n\r\ntask moveApkFileToProjectFolder() { dependsOn buildMyApk\r\n    def releaseApkFilePath = &quot;${buildDir}/outputs/apk/release/&quot;\r\n    def targetApkFolder = &quot;${rootProject.getProjectDir()}/apkFolder&quot;\r\n    mkdir &quot;${targetApkFolder}&quot;\r\n    copy{\r\n        from releaseApkFilePath\r\n        into targetApkFolder\r\n    }\r\n}\r\n```\r\n\r\nabove answer will not work\r\ntask moveApkFileToProjectFolder run ,will first run buildMyApk.\r\n\r\nmy example task ,first will build apks .and then move apk File to my Project/apkFile folder .and execute success.\r\n\r\n\r\n\r\n","title":"How to make tasks execute one after another?","body":"<h2>The Best Answer is Here</h2>\n\n<pre><code>task myTask1() {\n  println(\"this is task1 running\") \n}\n\ntask task2() { dependsOn myTask1\n  println(\"this is task2 running\") \n}\n</code></pre>\n\n<p>when you execute  <strong>gradle task2</strong> .</p>\n\n<p>this wil  first execute task1  ,and then  execute task2</p>\n\n<h2>you should use dependsOn key words</h2>\n\n<p>For example</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>\ntask buildMyApk(type: Exec) {\n    def myCommond = ['gradle', \"assembleRelease\"]\n    commandLine myCommond\n}\n\n\n\ntask moveApkFileToProjectFolder() { dependsOn buildMyApk\n    def releaseApkFilePath = \"${buildDir}/outputs/apk/release/\"\n    def targetApkFolder = \"${rootProject.getProjectDir()}/apkFolder\"\n    mkdir \"${targetApkFolder}\"\n    copy{\n        from releaseApkFilePath\n        into targetApkFolder\n    }\n}\n</code></pre>\n\n<p>above answer will not work\ntask moveApkFileToProjectFolder run ,will first run buildMyApk.</p>\n\n<p>my example task ,first will build apks .and then move apk File to my Project/apkFile folder .and execute success.</p>\n"},{"tags":[],"owner":{"account_id":2887623,"reputation":3310,"user_id":2477084,"display_name":"Tomas Bjerre"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633114920,"creation_date":1633064353,"answer_id":69400626,"question_id":23880461,"body_markdown":"You can create a task of type `GradleBuild` and define the tasks inside of that task.\r\n\r\n      task releaseAfterMath(type: GradleBuild) {\r\n          tasks = [\r\n            &#39;clean&#39;, \r\n            &#39;build&#39;,\r\n            &#39;publish&#39;,\r\n            &#39;publishToMavenLocal&#39;,\r\n            &#39;commitNewVersionTask&#39;, \r\n            &#39;gitChangelogTask&#39;, \r\n            &#39;commitChangelogTask&#39;\r\n          ]\r\n      }\r\n\r\nAnd you can trigger `releaseAfterMath` like any other task. Running code here:\r\n\r\nhttps://github.com/tomasbjerre/gradle-scripts/","title":"How to make tasks execute one after another?","body":"<p>You can create a task of type <code>GradleBuild</code> and define the tasks inside of that task.</p>\n<pre><code>  task releaseAfterMath(type: GradleBuild) {\n      tasks = [\n        'clean', \n        'build',\n        'publish',\n        'publishToMavenLocal',\n        'commitNewVersionTask', \n        'gitChangelogTask', \n        'commitChangelogTask'\n      ]\n  }\n</code></pre>\n<p>And you can trigger <code>releaseAfterMath</code> like any other task. Running code here:</p>\n<p><a href=\"https://github.com/tomasbjerre/gradle-scripts/\" rel=\"nofollow noreferrer\">https://github.com/tomasbjerre/gradle-scripts/</a></p>\n"}],"owner":{"account_id":218150,"reputation":5266,"user_id":474330,"accept_rate":60,"display_name":"Zennichimaro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48894,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":23880774,"answer_count":5,"score":32,"last_activity_date":1633114920,"creation_date":1401160084,"question_id":23880461,"body_markdown":"Basically I have 4 tasks that I need to run sequentially, but I cannot make them do so, I have to run it one by one on the command line as so:\r\n\r\n    gradle :drmdexsecondary:compileReleaseJava --info --debug --stacktrace\r\n    gradle :drmdexsecondary:dexClasses --info --debug --stacktrace\r\n    gradle :drmdexsecondary:jar --info --debug --stacktrace\r\n\r\nHere&#39;s my `build.gradle`:\r\n\r\n```\r\nevaluationDependsOnChildren();\r\n\r\n    task dexClasses( type:Exec ) {\r\n    \r\n    //    compileJava.execute()\r\n    \r\n        String cmdExt = Os.isFamily(Os.FAMILY_WINDOWS) ? &#39;.bat&#39; : &#39;&#39;\r\n    \r\n        println(&quot;${buildDir}&quot;)\r\n        println(&quot;${androidSdkDir}\\\\build-tools\\\\${buildToolsVersion}\\\\dx${cmdExt} --dex --output=${buildDir}\\\\classes\\\\classes.dex ${buildDir}\\\\classes\\\\release&quot;)\r\n    \r\n        commandLine &quot;cmd&quot;, &quot;/c&quot;, &quot;${androidSdkDir}\\\\build-tools\\\\${buildToolsVersion}\\\\dx${cmdExt} --dex --output=${buildDir}\\\\classes\\\\classes.dex ${buildDir}\\\\classes\\\\release&quot;\r\n    }\r\n    \r\n    task jar(type: Jar) {\r\n        from (&quot;${buildDir}\\\\classes\\\\classes.dex&quot;)\r\n    }\r\n```\r\nMy problem is this:\r\n\r\n1. the `dependsOn` keyword doesn&#39;t work... it just get ignored without any log message\r\n2. `taskname.execute()` function doesn&#39;t work... it just get ignored without any log message\r\n3. `compileReleaseJava` is not recognized inside build.gradle with this particular error: `Could not find property &#39;compileJava&#39; on task &#39;:drmdexsecondary:dexClasses&#39;.`\r\n\r\nWould anyone please help?\r\n\r\nI&#39;ve consulted and copy paste from the documentation but none of them seems work. I&#39;ve even tried to re-install Gradle... there is so few sample codes there and although I understand the concept, it seems so difficult to translate my intention into working Gradle code, so if there is any good resources to help, it will be very appreciated as well.","title":"How to make tasks execute one after another?","body":"<p>Basically I have 4 tasks that I need to run sequentially, but I cannot make them do so, I have to run it one by one on the command line as so:</p>\n<pre><code>gradle :drmdexsecondary:compileReleaseJava --info --debug --stacktrace\ngradle :drmdexsecondary:dexClasses --info --debug --stacktrace\ngradle :drmdexsecondary:jar --info --debug --stacktrace\n</code></pre>\n<p>Here's my <code>build.gradle</code>:</p>\n<pre><code>evaluationDependsOnChildren();\n\n    task dexClasses( type:Exec ) {\n    \n    //    compileJava.execute()\n    \n        String cmdExt = Os.isFamily(Os.FAMILY_WINDOWS) ? '.bat' : ''\n    \n        println(&quot;${buildDir}&quot;)\n        println(&quot;${androidSdkDir}\\\\build-tools\\\\${buildToolsVersion}\\\\dx${cmdExt} --dex --output=${buildDir}\\\\classes\\\\classes.dex ${buildDir}\\\\classes\\\\release&quot;)\n    \n        commandLine &quot;cmd&quot;, &quot;/c&quot;, &quot;${androidSdkDir}\\\\build-tools\\\\${buildToolsVersion}\\\\dx${cmdExt} --dex --output=${buildDir}\\\\classes\\\\classes.dex ${buildDir}\\\\classes\\\\release&quot;\n    }\n    \n    task jar(type: Jar) {\n        from (&quot;${buildDir}\\\\classes\\\\classes.dex&quot;)\n    }\n</code></pre>\n<p>My problem is this:</p>\n<ol>\n<li>the <code>dependsOn</code> keyword doesn't work... it just get ignored without any log message</li>\n<li><code>taskname.execute()</code> function doesn't work... it just get ignored without any log message</li>\n<li><code>compileReleaseJava</code> is not recognized inside build.gradle with this particular error: <code>Could not find property 'compileJava' on task ':drmdexsecondary:dexClasses'.</code></li>\n</ol>\n<p>Would anyone please help?</p>\n<p>I've consulted and copy paste from the documentation but none of them seems work. I've even tried to re-install Gradle... there is so few sample codes there and although I understand the concept, it seems so difficult to translate my intention into working Gradle code, so if there is any good resources to help, it will be very appreciated as well.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":21379802,"reputation":188,"user_id":15745910,"display_name":"Flav"},"score":0,"creation_date":1633118052,"post_id":69410863,"comment_id":122684348,"body_markdown":"Hi, can you tell us what your function is supposed to do? And what do you mean by `is doubled the target matrix`?","body":"Hi, can you tell us what your function is supposed to do? And what do you mean by <code>is doubled the target matrix</code>?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1633119220,"post_id":69410863,"comment_id":122684674,"body_markdown":"You need to understand that matrix variables are effectively just references to matrix objects. `int[][] tmp = matrise;` does **not** create a new matrix, it merely assigns tmp a reference to the matrix that matrise also references. That means that with your current code `tmp[i][j] = matrise[j][i];` is effectively the same as `matrise[i][j] = matrise[j][i];`","body":"You need to understand that matrix variables are effectively just references to matrix objects. <code>int[][] tmp = matrise;</code> does <b>not</b> create a new matrix, it merely assigns tmp a reference to the matrix that matrise also references. That means that with your current code <code>tmp[i][j] = matrise[j][i];</code> is effectively the same as <code>matrise[i][j] = matrise[j][i];</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633708232,"post_id":69410863,"comment_id":122840147,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":22917443,"reputation":1,"user_id":17053825,"display_name":"boiboi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633114897,"creation_date":1633114897,"question_id":69410863,"body_markdown":"i am doing a school task where i use a provided JUnit Test to verify my coding and for some reason the returned matrix &quot;tmp&quot; is doubled the target matrix &quot;speilet&quot;.\r\n\r\nmethod :\r\n```\r\npackage no.hvl.dat100.lab6.matriser;\r\n\r\npublic class Matriser {\r\n    \tpublic static int[][] speile(int[][] matrise) {\r\n\r\n\t\tint[][] tmp = matrise;\r\n\r\n\t\tfor (int i = 0; i &lt; matrise.length; i++) {\r\n\r\n\t\t\tfor (int j = 0; j &lt; matrise[i].length; j++) {\r\n\r\n\t\t\t\ttmp[i][j] = matrise[j][i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn tmp;\r\n     }\r\n```\r\nJUnit test:\r\n```\r\npackage no.hvl.dat100.lab6.matriser;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\n\r\n\r\nclass MatriserEnhetsTester {\r\n\r\n\tprivate static int[][] a = { {1,2,3}, {4,5,6}, {7,8,9} };\r\n//\tprivate static int[][] b = { {10,11,12}, {13,14,15}, {16,17,18} };\r\n\t\r\n\t\r\n\t@Test\r\n\tvoid testSpeile() {\r\n\t\t\r\n\t\tint[][] speilet = { {1,4,7}, {2,5,8}, {3,6,9} };\r\n\t\t\r\n\t\tassertArrayEquals(speilet,Matriser.speile(a));\r\n\t}\r\n  }\r\n```\r\n","title":"Can&#39;t figure out why matrix a doubles","body":"<p>i am doing a school task where i use a provided JUnit Test to verify my coding and for some reason the returned matrix &quot;tmp&quot; is doubled the target matrix &quot;speilet&quot;.</p>\n<p>method :</p>\n<pre><code>package no.hvl.dat100.lab6.matriser;\n\npublic class Matriser {\n        public static int[][] speile(int[][] matrise) {\n\n        int[][] tmp = matrise;\n\n        for (int i = 0; i &lt; matrise.length; i++) {\n\n            for (int j = 0; j &lt; matrise[i].length; j++) {\n\n                tmp[i][j] = matrise[j][i];\n            }\n        }\n        return tmp;\n     }\n</code></pre>\n<p>JUnit test:</p>\n<pre><code>package no.hvl.dat100.lab6.matriser;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport org.junit.jupiter.api.Test;\n\n\n\nclass MatriserEnhetsTester {\n\n    private static int[][] a = { {1,2,3}, {4,5,6}, {7,8,9} };\n//  private static int[][] b = { {10,11,12}, {13,14,15}, {16,17,18} };\n    \n    \n    @Test\n    void testSpeile() {\n        \n        int[][] speilet = { {1,4,7}, {2,5,8}, {3,6,9} };\n        \n        assertArrayEquals(speilet,Matriser.speile(a));\n    }\n  }\n</code></pre>\n"},{"tags":["java","enums","special-characters"],"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1521535732,"post_id":49369347,"comment_id":85760016,"body_markdown":"I think you should use uppercase names for all enum constants, and use `SEVEN_ZIP` to avoid starting with a digit.","body":"I think you should use uppercase names for all enum constants, and use <code>SEVEN_ZIP</code> to avoid starting with a digit."}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1521535333,"creation_date":1521481926,"answer_id":49369403,"question_id":49369347,"body_markdown":"this value declared in the enum **7z** is  invalid same as you can not declare a variable with the name 7z since that will be an ***invalid java identifier***\r\nhttps://docs.oracle.com/cd/E19798-01/821-1841/bnbuk/index.html\r\n\r\n\r\nalternative to that you can play with underscores,and something better is use UPPER_CASE\r\n\r\n    public enum FileType {\r\n    \r\n\t\t_7Z(&quot;.7z&quot;),\r\n\t\t_ACE(&quot;.ace&quot;),\r\n\t\t_APK(&quot;.apk&quot;),\r\n\t\t_BZ2(&quot;.bz2&quot;),\r\n\t\t_CRX(&quot;.crx&quot;),\r\n\t\tetc etc\r\n","title":"Special Characters in Java Enums","body":"<p>this value declared in the enum <strong>7z</strong> is  invalid same as you can not declare a variable with the name 7z since that will be an <strong><em>invalid java identifier</em></strong>\n<a href=\"https://docs.oracle.com/cd/E19798-01/821-1841/bnbuk/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E19798-01/821-1841/bnbuk/index.html</a></p>\n\n<p>alternative to that you can play with underscores,and something better is use UPPER_CASE</p>\n\n<pre><code>public enum FileType {\n\n    _7Z(\".7z\"),\n    _ACE(\".ace\"),\n    _APK(\".apk\"),\n    _BZ2(\".bz2\"),\n    _CRX(\".crx\"),\n    etc etc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1521482132,"creation_date":1521482132,"answer_id":49369467,"question_id":49369347,"body_markdown":"Enum identifiers follow the same[ rules as other Java identifiers](https://www.geeksforgeeks.org/java-identifiers/): \n&gt; The only allowed characters for identifiers are all alphanumeric characters([A-Z],[a-z],[0-9]), ‘$‘(dollar sign) and ‘_‘ (underscore).\n&gt;\n&gt; Identifiers should not start with digits([0-9]). For example “123geeks” is a not a valid java identifier.\n&gt;\n&gt; Java identifiers are case-sensitive\n\nFrom your example, `mp4` is a valid identifier, but `7z` is not (because it starts with a number)\n\n\n\n\nNote: by convention, enum identifiers are typically all uppercase.\n\n","title":"Special Characters in Java Enums","body":"<p>Enum identifiers follow the same<a href=\"https://www.geeksforgeeks.org/java-identifiers/\" rel=\"nofollow noreferrer\"> rules as other Java identifiers</a>:</p>\n<blockquote>\n<p>The only allowed characters for identifiers are all alphanumeric characters([A-Z],[a-z],[0-9]), ‘$‘(dollar sign) and ‘_‘ (underscore).</p>\n<p>Identifiers should not start with digits([0-9]). For example “123geeks” is a not a valid java identifier.</p>\n<p>Java identifiers are case-sensitive</p>\n</blockquote>\n<p>From your example, <code>mp4</code> is a valid identifier, but <code>7z</code> is not (because it starts with a number)</p>\n<p>Note: by convention, enum identifiers are typically all uppercase.</p>\n"},{"tags":[],"owner":{"account_id":15443052,"reputation":25,"user_id":11140983,"display_name":"MADHUSUDAN RATNALU"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633114634,"creation_date":1633114634,"answer_id":69410820,"question_id":49369347,"body_markdown":"    package com.ecom.test;\r\n    \r\n    enum SpecialChars {\r\n    \tPIPELINE_SYMBOL(&quot;|&quot;), FORWARD_SLASH(&quot;/&quot;);\r\n    \r\n    \tprivate String value;\r\n    \r\n    \tprivate SpecialChars(String value) {\r\n    \t\tthis.value = value;\r\n    \t}\r\n    \r\n    \tpublic String toString() {\r\n    \t\treturn this.value; // will return , or &#39; instead of COMMA or APOSTROPHE\r\n    \t}\r\n    \r\n    }\r\n    public class Test1 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\r\n    \t\tSystem.out.println(SpecialChars.PIPELINE_SYMBOL);\r\n    \t\tSystem.out.println(SpecialChars.FORWARD_SLASH);\r\n    \r\n    \t\t}\r\n    }","title":"Special Characters in Java Enums","body":"<pre><code>package com.ecom.test;\n\nenum SpecialChars {\n    PIPELINE_SYMBOL(&quot;|&quot;), FORWARD_SLASH(&quot;/&quot;);\n\n    private String value;\n\n    private SpecialChars(String value) {\n        this.value = value;\n    }\n\n    public String toString() {\n        return this.value; // will return , or ' instead of COMMA or APOSTROPHE\n    }\n\n}\npublic class Test1 {\n\n    public static void main(String[] args) {\n\n    \n        System.out.println(SpecialChars.PIPELINE_SYMBOL);\n        System.out.println(SpecialChars.FORWARD_SLASH);\n\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":12624804,"reputation":57,"user_id":9178905,"display_name":"Connor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4741,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49369403,"answer_count":3,"score":2,"last_activity_date":1633114634,"creation_date":1521481746,"question_id":49369347,"body_markdown":"Currently attempting to have special characters, primarily &#39;.&#39; a number, however, it seems enums require letters only. Is there a way to use special characters? Currently trying to make a file saver and many file types have numbers in them, an example being:\r\n\r\n    public enum FileType {\r\n    \r\n    \t7z(&quot;.7z&quot;),\r\n    \tace(&quot;.ace&quot;),\r\n    \tapk(&quot;.apk&quot;),\r\n    \tbz2(&quot;.bz2&quot;),\r\n    \tcrx(&quot;.crx&quot;),\r\n    \tdd(&quot;.dd&quot;),\r\n    \tdeb(&quot;.deb&quot;),\r\n    \tgz(&quot;.gz&quot;),\r\n    \tgzip(&quot;.gzip&quot;),\r\n    \tjar(&quot;.jar&quot;),\r\n    \trar(&quot;.rar&quot;),\r\n    \trpm(&quot;.rpm&quot;),\r\n    \tsit(&quot;.sit&quot;),\r\n    \tsitx(&quot;.sitx&quot;),\r\n    \tsnb(&quot;.snb&quot;),\r\n    \ttar(&quot;.tar&quot;),\r\n    \ttar.gz(&quot;.tar.gz&quot;),\r\n    \ttqz(&quot;.tqz&quot;),\r\n    \tzip(&quot;.zip&quot;),\r\n    \tzipx(&quot;.zipx&quot;);\r\n    \r\n    \tpublic final String FILESUFFIX;\r\n    \r\n    \tFileType(String FileSuffix) {\r\n    \t\tthis.FILESUFFIX = FileSuffix;\r\n    \t}\r\n    \r\n    \tpublic String getSuffix() {\r\n    \t\treturn FILESUFFIX;\r\n    \t}\r\n    }\r\n\r\nI have looked throughout StackOverflow, however, I haven&#39;t found a way that suited me. I do not understand how to do &#39;maps&#39; or the other fancy stuff, so is there an alternate way to simple get something like `mp4` to be an Enum?","title":"Special Characters in Java Enums","body":"<p>Currently attempting to have special characters, primarily '.' a number, however, it seems enums require letters only. Is there a way to use special characters? Currently trying to make a file saver and many file types have numbers in them, an example being:</p>\n\n<pre><code>public enum FileType {\n\n    7z(\".7z\"),\n    ace(\".ace\"),\n    apk(\".apk\"),\n    bz2(\".bz2\"),\n    crx(\".crx\"),\n    dd(\".dd\"),\n    deb(\".deb\"),\n    gz(\".gz\"),\n    gzip(\".gzip\"),\n    jar(\".jar\"),\n    rar(\".rar\"),\n    rpm(\".rpm\"),\n    sit(\".sit\"),\n    sitx(\".sitx\"),\n    snb(\".snb\"),\n    tar(\".tar\"),\n    tar.gz(\".tar.gz\"),\n    tqz(\".tqz\"),\n    zip(\".zip\"),\n    zipx(\".zipx\");\n\n    public final String FILESUFFIX;\n\n    FileType(String FileSuffix) {\n        this.FILESUFFIX = FileSuffix;\n    }\n\n    public String getSuffix() {\n        return FILESUFFIX;\n    }\n}\n</code></pre>\n\n<p>I have looked throughout StackOverflow, however, I haven't found a way that suited me. I do not understand how to do 'maps' or the other fancy stuff, so is there an alternate way to simple get something like <code>mp4</code> to be an Enum?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1633114307,"post_id":69410481,"comment_id":122683258,"body_markdown":"Is this from a Maven-based project? If so, then the missing data is probably in the project&#39;s `pom.xml` file. Open that file with a text editor such as Notepad++, and add the missing value. Something like `&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;`, I would guess. If that does not help, we need more info.","body":"Is this from a Maven-based project? If so, then the missing data is probably in the project&#39;s <code>pom.xml</code> file. Open that file with a text editor such as Notepad++, and add the missing value. Something like <code>&lt;version&gt;1.0-SNAPSHOT&lt;&#47;version&gt;</code>, I would guess. If that does not help, we need more info."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1633116164,"post_id":69410481,"comment_id":122683788,"body_markdown":"Create a new project, close Netbeans, and copy your source code project files from the old project structure to the new project structure using the operating system copy and paste.","body":"Create a new project, close Netbeans, and copy your source code project files from the old project structure to the new project structure using the operating system copy and paste."}],"owner":{"account_id":20639269,"reputation":1,"user_id":15152318,"display_name":"ImD1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633114565,"creation_date":1633112794,"question_id":69410481,"body_markdown":"I deleted the version-number of my project and can&#39;t open the properties of the project to fix the problem...\r\n\r\nI don&#39;t know what to do since I can&#39;t open anything now.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I try to open properties of my project:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhen I click yes on the properties pop-up-Window:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LCd7a.png\r\n  [2]: https://i.stack.imgur.com/WkzhP.png\r\n  [3]: https://i.stack.imgur.com/y6yPK.png","title":"I deleted the version-number of my project. How can I open the project properties now?","body":"<p>I deleted the version-number of my project and can't open the properties of the project to fix the problem...</p>\n<p>I don't know what to do since I can't open anything now.</p>\n<p><a href=\"https://i.stack.imgur.com/LCd7a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LCd7a.png\" alt=\"enter image description here\" /></a></p>\n<p>When I try to open properties of my project:</p>\n<p><a href=\"https://i.stack.imgur.com/WkzhP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WkzhP.png\" alt=\"enter image description here\" /></a></p>\n<p>When I click yes on the properties pop-up-Window:</p>\n<p><a href=\"https://i.stack.imgur.com/y6yPK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y6yPK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spock"],"comments":[{"owner":{"display_name":"user13769010"},"score":0,"creation_date":1629817243,"post_id":68904174,"comment_id":121783580,"body_markdown":"Can you please elaborate your question. So that the community members could understand the problem precisely.","body":"Can you please elaborate your question. So that the community members could understand the problem precisely."},{"owner":{"account_id":22550662,"reputation":31,"user_id":16739817,"display_name":"Trak Polisi"},"score":0,"creation_date":1629819234,"post_id":68904174,"comment_id":121784564,"body_markdown":"@JesvinVijeshS I need to write a test for a given method using the Spock framework but I can&#39;t figure it out. Could you please help me with this? Maybe you can suggest some literature or how this can be implemented","body":"@JesvinVijeshS I need to write a test for a given method using the Spock framework but I can&#39;t figure it out. Could you please help me with this? Maybe you can suggest some literature or how this can be implemented"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1629820725,"post_id":68904174,"comment_id":121785244,"body_markdown":"Have you tried the official Spock manual for starters? If you study it, you should be able to learn everything you need to know about how to test your code. Besides, this kind of question looking for book or website recommendations is off topic here on SO.","body":"Have you tried the official Spock manual for starters? If you study it, you should be able to learn everything you need to know about how to test your code. Besides, this kind of question looking for book or website recommendations is off topic here on SO."},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1629822325,"post_id":68904174,"comment_id":121785905,"body_markdown":"You should probably look into breaking down the method into smaller methods that can then be easily tested.","body":"You should probably look into breaking down the method into smaller methods that can then be easily tested."},{"owner":{"account_id":22550662,"reputation":31,"user_id":16739817,"display_name":"Trak Polisi"},"score":0,"creation_date":1629840699,"post_id":68904174,"comment_id":121792269,"body_markdown":"@LeonardBr&#252;nings Do not tell me, but how can you even mock at the scanner. I mean, how to pass the value in the test to the console?","body":"@LeonardBr&#252;nings Do not tell me, but how can you even mock at the scanner. I mean, how to pass the value in the test to the console?"},{"owner":{"account_id":19793538,"reputation":300,"user_id":14496012,"display_name":"centrumek"},"score":0,"creation_date":1629840898,"post_id":68904174,"comment_id":121792317,"body_markdown":"@TrakPolisi check this https://stackoverflow.com/questions/6415728/junit-testing-with-simulated-user-input and write java code in groovy style for spock testing","body":"@TrakPolisi check this <a href=\"https://stackoverflow.com/questions/6415728/junit-testing-with-simulated-user-input\" title=\"junit testing with simulated user input\">stackoverflow.com/questions/6415728/&hellip;</a> and write java code in groovy style for spock testing"}],"answers":[{"tags":[],"owner":{"account_id":16974584,"reputation":618,"user_id":12278291,"display_name":"Jegors Čemisovs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633114472,"creation_date":1633114472,"answer_id":69410796,"question_id":68904174,"body_markdown":"This is a draft (I didn’t check it):\r\n\r\n```\r\nsetup: \r\ndef originalIn = System.in\r\ndef originalOut = System.out\r\n\r\nand: &quot;Define new out:&quot;\r\n\r\ndef out = new ByteArrayOutputStream()\r\nSystem.setOut(new PrintStream(out))\r\n\r\nand: &quot;Define input data and specify in&quot;\r\n\r\ndef input = &quot;…input data for test…&quot;\r\ndef in = new ByteArrayInputStream(input.getBytes())\r\nSystem.setIn(in)\r\n\r\nwhen:\r\ndef result = getInputForMessengerFromConsole()\r\n\r\nthen:\r\nout.toString() == expectedOutput\r\n\r\nand:\r\nresult == expectedResult\r\n\r\ncleanup:\r\nSystem.setOut(originalOut)\r\nSystem.setIn(originalIn)\r\n```\r\n\r\n","title":"How to test method without args using the spock framework","body":"<p>This is a draft (I didn’t check it):</p>\n<pre><code>setup: \ndef originalIn = System.in\ndef originalOut = System.out\n\nand: &quot;Define new out:&quot;\n\ndef out = new ByteArrayOutputStream()\nSystem.setOut(new PrintStream(out))\n\nand: &quot;Define input data and specify in&quot;\n\ndef input = &quot;…input data for test…&quot;\ndef in = new ByteArrayInputStream(input.getBytes())\nSystem.setIn(in)\n\nwhen:\ndef result = getInputForMessengerFromConsole()\n\nthen:\nout.toString() == expectedOutput\n\nand:\nresult == expectedResult\n\ncleanup:\nSystem.setOut(originalOut)\nSystem.setIn(originalIn)\n</code></pre>\n"}],"owner":{"account_id":22550662,"reputation":31,"user_id":16739817,"display_name":"Trak Polisi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1633114472,"creation_date":1629793634,"question_id":68904174,"body_markdown":"I can&#39;t figure out how to test this. Tell me please good literature or vebinar on this topic\r\n\r\n    public InputMessenger getInputForMessengerFromConsole() {\r\n        String templateValue;\r\n        Map&lt;String, String&gt; valuesForTemplate = new HashMap&lt;&gt;();\r\n        try (Scanner scanner = new Scanner(System.in, Constant.CHARSET_NAME_UTF_8)) {\r\n            System.out.println(Constant.MESSAGE_INPUT_TEMPLATE);\r\n            templateValue = scanner.nextLine();\r\n\r\n            System.out.println(Constant.MESSAGE_NUMBER_OF_VALUES);\r\n            int numberOfValues = scanner.nextInt();\r\n            scanner.nextLine();\r\n\r\n            IntStream.range(0, numberOfValues).forEach(index -&gt; {\r\n                System.out.println(Constant.MESSAGE_KEY + (index + Constant.INT_ONE) + Constant.COLON);\r\n                String key = scanner.nextLine();\r\n                System.out.println(Constant.MESSAGE_VALUE + (index + Constant.INT_ONE) + Constant.COLON);\r\n                String value = scanner.nextLine();\r\n                valuesForTemplate.put(key, value);\r\n            });\r\n        }\r\n        return new InputMessenger(templateValue, valuesForTemplate);\r\n    }\r\n","title":"How to test method without args using the spock framework","body":"<p>I can't figure out how to test this. Tell me please good literature or vebinar on this topic</p>\n<pre><code>public InputMessenger getInputForMessengerFromConsole() {\n    String templateValue;\n    Map&lt;String, String&gt; valuesForTemplate = new HashMap&lt;&gt;();\n    try (Scanner scanner = new Scanner(System.in, Constant.CHARSET_NAME_UTF_8)) {\n        System.out.println(Constant.MESSAGE_INPUT_TEMPLATE);\n        templateValue = scanner.nextLine();\n\n        System.out.println(Constant.MESSAGE_NUMBER_OF_VALUES);\n        int numberOfValues = scanner.nextInt();\n        scanner.nextLine();\n\n        IntStream.range(0, numberOfValues).forEach(index -&gt; {\n            System.out.println(Constant.MESSAGE_KEY + (index + Constant.INT_ONE) + Constant.COLON);\n            String key = scanner.nextLine();\n            System.out.println(Constant.MESSAGE_VALUE + (index + Constant.INT_ONE) + Constant.COLON);\n            String value = scanner.nextLine();\n            valuesForTemplate.put(key, value);\n        });\n    }\n    return new InputMessenger(templateValue, valuesForTemplate);\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1633114084,"post_id":69410700,"comment_id":122683193,"body_markdown":"That &quot;Build success&quot; means your code was compiled, hence the dependency was downloaded. Check your maven repository and you&#39;ll find it there.","body":"That &quot;Build success&quot; means your code was compiled, hence the dependency was downloaded. Check your maven repository and you&#39;ll find it there."},{"owner":{"account_id":124050,"reputation":3134,"user_id":318900,"display_name":"vakio"},"score":0,"creation_date":1633114627,"post_id":69410700,"comment_id":122683351,"body_markdown":"C:\\Users\\&lt;yourUserName&gt;\\.m2\\repository","body":"C:\\Users\\&lt;yourUserName&gt;\\.m2\\repository"}],"answers":[{"tags":[],"owner":{"account_id":17121470,"reputation":381,"user_id":12389586,"display_name":"trilocho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633114462,"creation_date":1633114462,"answer_id":69410794,"question_id":69410700,"body_markdown":"You can check your maven dependencies by pressing Ctrl+Alt+U. If the library is successfully imported into you project, it should be under dependencies tree. \r\nIf not, try to delete the .idea folder, reimport the project or click on File -&gt; Invalidate Caches. That might help ","title":"Maven won&#39;t download dependencies","body":"<p>You can check your maven dependencies by pressing Ctrl+Alt+U. If the library is successfully imported into you project, it should be under dependencies tree.\nIf not, try to delete the .idea folder, reimport the project or click on File -&gt; Invalidate Caches. That might help</p>\n"}],"owner":{"account_id":13176144,"reputation":535,"user_id":9517040,"display_name":"JONKI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1633114462,"creation_date":1633113962,"question_id":69410700,"body_markdown":"How to retrieve dependencies in Maven from pom.xml file? When I press `compile` or `install` it has no effect.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WRjUS.png","title":"Maven won&#39;t download dependencies","body":"<p>How to retrieve dependencies in Maven from pom.xml file? When I press <code>compile</code> or <code>install</code> it has no effect.\n<a href=\"https://i.stack.imgur.com/WRjUS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WRjUS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","gdprconsentform"],"answers":[{"tags":[],"owner":{"account_id":20462647,"reputation":1,"user_id":15014919,"display_name":"Fred Bro"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1633114448,"creation_date":1633114448,"answer_id":69410790,"question_id":68333818,"body_markdown":"I had the same issue and I solved it just by configuring properly my adMob account.\r\n","title":"Problem with obtaining consent with ump / admob / funding choices","body":"<p>I had the same issue and I solved it just by configuring properly my adMob account.</p>\n"}],"owner":{"account_id":16402804,"reputation":27,"user_id":11848230,"display_name":"celdrion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633114448,"creation_date":1625985678,"question_id":68333818,"body_markdown":"Following this guide https://developers.google.com/admob/ump/android/quick-start I tried to add everything to my app.\r\n\r\nWhat I did:\r\n- link funding choices to admob\r\n- added ump to build.gradle\r\n- added the app ID to android manifest\r\n- set up a dialog for the app in admob and activated it for the app\r\n\r\nThen I added this code to my app\r\n\r\n```\r\nConsentRequestParameters params = new ConsentRequestParameters\r\n                .Builder()\r\n                .setTagForUnderAgeOfConsent(false)\r\n                .build();\r\n\r\n        consentInformation = UserMessagingPlatform.getConsentInformation(this);\r\n        consentInformation.requestConsentInfoUpdate(\r\n                this,\r\n                params,\r\n                new ConsentInformation.OnConsentInfoUpdateSuccessListener() {\r\n                    @Override\r\n                    public void onConsentInfoUpdateSuccess() {\r\n                        // The consent information state was updated.\r\n                        // You are now ready to check if a form is available.\r\n                        if (consentInformation.isConsentFormAvailable()) {\r\n                            loadForm();\r\n                        }\r\n                        else {\r\n\r\n                        Context context = getApplicationContext();\r\n\r\n                        CharSequence toastText = &quot;No Form Available&quot;;\r\n\r\n                        int duration = Toast.LENGTH_LONG;\r\n\r\n                        Toast toast = Toast.makeText(context, toastText, duration);\r\n                        toast.show();\r\n                        }\r\n\r\n                        \r\n                    }\r\n\r\n                },\r\n                new ConsentInformation.OnConsentInfoUpdateFailureListener() {\r\n                    @Override\r\n                    public void onConsentInfoUpdateFailure(FormError formError) {\r\n                        // Handle the error.\r\n                        \r\n                        Context context = getApplicationContext();\r\n\r\n                        CharSequence toastText = &quot;Error&quot;;\r\n\r\n                        int duration = Toast.LENGTH_LONG;\r\n\r\n                        Toast toast = Toast.makeText(context, toastText, duration);\r\n                        toast.show();\r\n\r\n                    }\r\n                });\r\n\r\n```\r\n\r\nand\r\n\r\n```\r\npublic void loadForm() {\r\n        UserMessagingPlatform.loadConsentForm(\r\n                this,\r\n                new UserMessagingPlatform.OnConsentFormLoadSuccessListener() {\r\n                    @Override\r\n                    public void onConsentFormLoadSuccess(ConsentForm consentForm) {\r\n                        MainActivity.this.consentForm = consentForm;\r\n                        if(consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.REQUIRED) {\r\n                            consentForm.show(\r\n                                    MainActivity.this,\r\n                                    new ConsentForm.OnConsentFormDismissedListener() {\r\n                                        @Override\r\n                                        public void onConsentFormDismissed(@Nullable FormError formError) {\r\n                                            // Handle dismissal by reloading form.\r\n                                            loadForm();\r\n                                        }\r\n                                    });\r\n\r\n                        }\r\n                    }\r\n                },\r\n                new UserMessagingPlatform.OnConsentFormLoadFailureListener() {\r\n                    @Override\r\n                    public void onConsentFormLoadFailure(FormError formError) {\r\n                        // Handle the error\r\n                    }\r\n                }\r\n        );\r\n    }\r\n```\r\n\r\nHowever, I always end up getting the toast &quot;Error&quot; landing in onConsentInfoUpdateFailure(FormError formError) independet from testing on my mobile phone or in the virtual device (I am in europe btw).\r\n\r\nAm I missing something?\r\n\r\nThanks,\r\nCeldri","title":"Problem with obtaining consent with ump / admob / funding choices","body":"<p>Following this guide <a href=\"https://developers.google.com/admob/ump/android/quick-start\" rel=\"nofollow noreferrer\">https://developers.google.com/admob/ump/android/quick-start</a> I tried to add everything to my app.</p>\n<p>What I did:</p>\n<ul>\n<li>link funding choices to admob</li>\n<li>added ump to build.gradle</li>\n<li>added the app ID to android manifest</li>\n<li>set up a dialog for the app in admob and activated it for the app</li>\n</ul>\n<p>Then I added this code to my app</p>\n<pre><code>ConsentRequestParameters params = new ConsentRequestParameters\n                .Builder()\n                .setTagForUnderAgeOfConsent(false)\n                .build();\n\n        consentInformation = UserMessagingPlatform.getConsentInformation(this);\n        consentInformation.requestConsentInfoUpdate(\n                this,\n                params,\n                new ConsentInformation.OnConsentInfoUpdateSuccessListener() {\n                    @Override\n                    public void onConsentInfoUpdateSuccess() {\n                        // The consent information state was updated.\n                        // You are now ready to check if a form is available.\n                        if (consentInformation.isConsentFormAvailable()) {\n                            loadForm();\n                        }\n                        else {\n\n                        Context context = getApplicationContext();\n\n                        CharSequence toastText = &quot;No Form Available&quot;;\n\n                        int duration = Toast.LENGTH_LONG;\n\n                        Toast toast = Toast.makeText(context, toastText, duration);\n                        toast.show();\n                        }\n\n                        \n                    }\n\n                },\n                new ConsentInformation.OnConsentInfoUpdateFailureListener() {\n                    @Override\n                    public void onConsentInfoUpdateFailure(FormError formError) {\n                        // Handle the error.\n                        \n                        Context context = getApplicationContext();\n\n                        CharSequence toastText = &quot;Error&quot;;\n\n                        int duration = Toast.LENGTH_LONG;\n\n                        Toast toast = Toast.makeText(context, toastText, duration);\n                        toast.show();\n\n                    }\n                });\n\n</code></pre>\n<p>and</p>\n<pre><code>public void loadForm() {\n        UserMessagingPlatform.loadConsentForm(\n                this,\n                new UserMessagingPlatform.OnConsentFormLoadSuccessListener() {\n                    @Override\n                    public void onConsentFormLoadSuccess(ConsentForm consentForm) {\n                        MainActivity.this.consentForm = consentForm;\n                        if(consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.REQUIRED) {\n                            consentForm.show(\n                                    MainActivity.this,\n                                    new ConsentForm.OnConsentFormDismissedListener() {\n                                        @Override\n                                        public void onConsentFormDismissed(@Nullable FormError formError) {\n                                            // Handle dismissal by reloading form.\n                                            loadForm();\n                                        }\n                                    });\n\n                        }\n                    }\n                },\n                new UserMessagingPlatform.OnConsentFormLoadFailureListener() {\n                    @Override\n                    public void onConsentFormLoadFailure(FormError formError) {\n                        // Handle the error\n                    }\n                }\n        );\n    }\n</code></pre>\n<p>However, I always end up getting the toast &quot;Error&quot; landing in onConsentInfoUpdateFailure(FormError formError) independet from testing on my mobile phone or in the virtual device (I am in europe btw).</p>\n<p>Am I missing something?</p>\n<p>Thanks,\nCeldri</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7766639,"reputation":1561,"user_id":5877632,"display_name":"Bruno Ferreira"},"score":1,"creation_date":1501534778,"post_id":45425140,"comment_id":77811753,"body_markdown":"Try this: publishDate.setText(String.valueOf(currentArticle.getPublishDate()));","body":"Try this: publishDate.setText(String.valueOf(currentArticle.getPublish&zwnj;&#8203;Date()));"}],"answers":[{"tags":[],"owner":{"account_id":6609886,"reputation":1265,"user_id":5105431,"display_name":"Anton Potapov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1501534805,"creation_date":1501534805,"answer_id":45425198,"question_id":45425140,"body_markdown":"1) Are you sure, that `currentArticle.getPublishDate()` returns the formatted String? If not, try to apply your `#formatDate(currentArticle.getPublishDate())`\r\n\r\n2) You shouldn&#39;t misstake java.util.Date with java.sql.Date","title":"How to cast java.sql.Date to java.lang.CharSequence?","body":"<p>1) Are you sure, that <code>currentArticle.getPublishDate()</code> returns the formatted String? If not, try to apply your <code>#formatDate(currentArticle.getPublishDate())</code></p>\n\n<p>2) You shouldn't misstake java.util.Date with java.sql.Date</p>\n"},{"tags":[],"owner":{"account_id":4119322,"reputation":770,"user_id":3380137,"accept_rate":60,"display_name":"duper51"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501535070,"creation_date":1501535070,"answer_id":45425267,"question_id":45425140,"body_markdown":"The error you described is due to the `currentArticle.getPublishDate()` function returning an object of type `java.sql.Date`. You should be able to perform `currentArticle.getPublishDate().toString()` to get the result that you want.","title":"How to cast java.sql.Date to java.lang.CharSequence?","body":"<p>The error you described is due to the <code>currentArticle.getPublishDate()</code> function returning an object of type <code>java.sql.Date</code>. You should be able to perform <code>currentArticle.getPublishDate().toString()</code> to get the result that you want.</p>\n"},{"tags":[],"owner":{"account_id":15443052,"reputation":25,"user_id":11140983,"display_name":"MADHUSUDAN RATNALU"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633114052,"creation_date":1633114052,"answer_id":69410724,"question_id":45425140,"body_markdown":"    public class Test1 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tCharSequence date = &quot;1996/12/25&quot;;\r\n    \t\tCharSequence formattedDate = date.subSequence(8, 10) + &quot;/&quot; + date.subSequence(5, 7) + &quot;/&quot;\r\n    \t\t\t\t+ date.subSequence(0, 4);\r\n    \r\n    \t\tSystem.out.println(date);\r\n    \t\tSystem.out.println(formattedDate);\r\n    \t\t}","title":"How to cast java.sql.Date to java.lang.CharSequence?","body":"<pre><code>public class Test1 {\n\n    public static void main(String[] args) {\n\n        CharSequence date = &quot;1996/12/25&quot;;\n        CharSequence formattedDate = date.subSequence(8, 10) + &quot;/&quot; + date.subSequence(5, 7) + &quot;/&quot;\n                + date.subSequence(0, 4);\n\n        System.out.println(date);\n        System.out.println(formattedDate);\n        }\n</code></pre>\n"}],"owner":{"account_id":9870033,"reputation":1282,"user_id":7310034,"accept_rate":100,"display_name":"RowanX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3036,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":45425198,"answer_count":3,"score":-1,"last_activity_date":1633114052,"creation_date":1501534579,"question_id":45425140,"body_markdown":"       \r\n That&#39;s the formatdate method used :\r\n   \r\n    private static java.util.Date formatDate(String webPublicationDate) {\r\n        SimpleDateFormat dateFormat;\r\n        dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy hh:mm:ss aa&quot;);\r\n        java.util.Date convertedDate = new java.util.Date();\r\n\r\n        try {\r\n            convertedDate = dateFormat.parse(webPublicationDate);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        } \r\n\r\nin the same class there&#39;s :\r\n \r\n    Date webPublicationDate = (Date) formatDate(date);\r\n\r\nIn the adapter class I&#39;m using this to setText :\r\n\r\n    publishDate.setText((CharSequence) currentArticle.getPublishDate());\r\n\r\nWhich is giving me an error:\r\n\r\n    FATAL EXCEPTION: main java.lang.ClassCastException: java.sql.Date cannot be cast to java.lang.CharSequence\r\n\r\n","title":"How to cast java.sql.Date to java.lang.CharSequence?","body":"<p>That's the formatdate method used :</p>\n\n<pre><code>private static java.util.Date formatDate(String webPublicationDate) {\n    SimpleDateFormat dateFormat;\n    dateFormat = new SimpleDateFormat(\"MM/dd/yyyy hh:mm:ss aa\");\n    java.util.Date convertedDate = new java.util.Date();\n\n    try {\n        convertedDate = dateFormat.parse(webPublicationDate);\n    } catch (ParseException e) {\n        e.printStackTrace();\n    } \n</code></pre>\n\n<p>in the same class there's :</p>\n\n<pre><code>Date webPublicationDate = (Date) formatDate(date);\n</code></pre>\n\n<p>In the adapter class I'm using this to setText :</p>\n\n<pre><code>publishDate.setText((CharSequence) currentArticle.getPublishDate());\n</code></pre>\n\n<p>Which is giving me an error:</p>\n\n<pre><code>FATAL EXCEPTION: main java.lang.ClassCastException: java.sql.Date cannot be cast to java.lang.CharSequence\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","jvm","intellij-14"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1633113754,"post_id":69410576,"comment_id":122683076,"body_markdown":"Are you trying to control the JVM configuration for the operations of IntelliJ itself, or are you trying to configure JVM settings when running your app from within IntelliJ? IntelliJ itself is a Java app running within a JVM.","body":"Are you trying to control the JVM configuration for the operations of IntelliJ itself, or are you trying to configure JVM settings when running your app from within IntelliJ? IntelliJ itself is a Java app running within a JVM."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633113815,"creation_date":1633113815,"answer_id":69410668,"question_id":69410576,"body_markdown":".vmoptions file controls the JVM options for IntelliJ IDEA itself. The code you run from IntelliJ IDEA is executed in a separate JVM and the options for this JVM are specified in the Run configuration VM Options field.\r\n\r\nTo make all the new configurations inherit some common option (like the heap size), you should edit the template configuration [as described in the documentation](https://www.jetbrains.com/help/idea/run-debug-configuration.html#change-template).\r\n\r\n[![template][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jzGhB.png","title":"Intellij cannot set up VM options","body":"<p>.vmoptions file controls the JVM options for IntelliJ IDEA itself. The code you run from IntelliJ IDEA is executed in a separate JVM and the options for this JVM are specified in the Run configuration VM Options field.</p>\n<p>To make all the new configurations inherit some common option (like the heap size), you should edit the template configuration <a href=\"https://www.jetbrains.com/help/idea/run-debug-configuration.html#change-template\" rel=\"nofollow noreferrer\">as described in the documentation</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/jzGhB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jzGhB.png\" alt=\"template\" /></a></p>\n"}],"owner":{"account_id":22916536,"reputation":21,"user_id":17053052,"display_name":"X. Gu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5698,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633113815,"creation_date":1633113283,"question_id":69410576,"body_markdown":"I am trying to set up the JVM parameters for my Gradle project (which contains many main methods) using IntelliJ Community 2021.2 on a Linux system. Creating an idea64.vmoptions in the user directory does not work for me as the main method is not picking up the VM setting from the file. I also tried to set an environment variable to indicate the .vmoptions file, but it still doesn&#39;t work.\r\n\r\nThe only thing that is working for me is the &quot;Add VM Options&quot; in the Run/Debug Configuration, but I don&#39;t want to set the VM options every time I create a new main method. What else can I do to set up the VM options for all run configurations in IntelliJ? \r\n\r\nThank you very much!","title":"Intellij cannot set up VM options","body":"<p>I am trying to set up the JVM parameters for my Gradle project (which contains many main methods) using IntelliJ Community 2021.2 on a Linux system. Creating an idea64.vmoptions in the user directory does not work for me as the main method is not picking up the VM setting from the file. I also tried to set an environment variable to indicate the .vmoptions file, but it still doesn't work.</p>\n<p>The only thing that is working for me is the &quot;Add VM Options&quot; in the Run/Debug Configuration, but I don't want to set the VM options every time I create a new main method. What else can I do to set up the VM options for all run configurations in IntelliJ?</p>\n<p>Thank you very much!</p>\n"},{"tags":["java","maven","jenkins","pom.xml","jboss-eap-6"],"answers":[{"tags":[],"owner":{"account_id":8543686,"reputation":1,"user_id":6402861,"display_name":"Tharanga Ruksahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464670480,"creation_date":1464670480,"answer_id":37537107,"question_id":32351469,"body_markdown":"I have also been trying to deploy to JBoss EAP 6.2 using the Deploy Plugin (1.10) and faced the same issue.\r\n\r\nI resolved the error you received by coping all the *.jars from &quot;JBOSS_HOME/modules&quot; to the deploy plugin&#39;s &quot;WEB-INF/lib&quot; (JENKINS_HOME/plugins/deploy) directory so that they would be in classpath(this also required restarting Jenkins to load the new classes).","title":"How to deploy war file to jboss eap 6.4 (local installed on my machine) using jenkins","body":"<p>I have also been trying to deploy to JBoss EAP 6.2 using the Deploy Plugin (1.10) and faced the same issue.</p>\n\n<p>I resolved the error you received by coping all the *.jars from \"JBOSS_HOME/modules\" to the deploy plugin's \"WEB-INF/lib\" (JENKINS_HOME/plugins/deploy) directory so that they would be in classpath(this also required restarting Jenkins to load the new classes).</p>\n"},{"tags":[],"owner":{"account_id":8822074,"reputation":1,"user_id":6591567,"display_name":"Amram Duque D&#39;Azeved"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633113498,"creation_date":1633113498,"answer_id":69410615,"question_id":32351469,"body_markdown":"Same action and load, when deployed. \r\ncoping all the *.jars from &quot;JBOSS_HOME/modules&quot; to the deploy plugin&#39;s &quot;WEB-INF/lib&quot; ","title":"How to deploy war file to jboss eap 6.4 (local installed on my machine) using jenkins","body":"<p>Same action and load, when deployed.\ncoping all the *.jars from &quot;JBOSS_HOME/modules&quot; to the deploy plugin's &quot;WEB-INF/lib&quot;</p>\n"}],"owner":{"account_id":6886804,"reputation":41,"user_id":5291614,"display_name":"Aliasger Motiwala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1170,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1633113498,"creation_date":1441191984,"question_id":32351469,"body_markdown":"This is the stack trace of jenkins....\r\nplease help i searched for 3  days but still this error is not going....\r\nwhat exactly am i doing wrong ?\r\nthe war gets deployed on my server but this stack error leads to built failure\r\n\r\n    [INFO] --- maven-install-plugin:2.4:install (default-install) @ JBossEAP ---\r\n    [INFO] Installing D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\target\\JBossEAP.war to C:\\Users\\amotiwal\\.m2\\repository\\com\\subversion\\svn\\JBossEAP\\0.0.1-SNAPSHOT\\JBossEAP-0.0.1-SNAPSHOT.war\r\n    [INFO] Installing D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\pom.xml to C:\\Users\\amotiwal\\.m2\\repository\\com\\subversion\\svn\\JBossEAP\\0.0.1-SNAPSHOT\\JBossEAP-0.0.1-SNAPSHOT.pom\r\n    [INFO] \r\n    [INFO] &gt;&gt;&gt; jboss-as-maven-plugin:7.4.Final:deploy (default) &gt; package @ JBossEAP &gt;&gt;&gt;\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ JBossEAP ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ JBossEAP ---\r\n    [INFO] No sources to compile\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ JBossEAP ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\src\\test\\resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ JBossEAP ---\r\n    [INFO] No sources to compile\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ JBossEAP ---\r\n    [INFO] No tests to run.\r\n    [INFO] Skipping execution of surefire because it has already been run for this configuration\r\n    [JENKINS] Recording test results\r\n    [INFO] \r\n    [INFO] --- maven-war-plugin:2.2:war (default-war) @ JBossEAP ---\r\n    [INFO] Packaging webapp\r\n    [INFO] Assembling webapp [JBossEAP] in [D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\target\\JBossEAP]\r\n    [INFO] Processing war project\r\n    [INFO] Copying webapp resources [D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\src\\main\\webapp]\r\n    [INFO] Webapp assembled in [13 msecs]\r\n    [INFO] Building war: D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\target\\JBossEAP.war\r\n    [INFO] WEB-INF\\web.xml already added, skipping\r\n    [WARNING] Failed to getClass for org.jboss.as.plugin.deployment.Deploy\r\n    [INFO] \r\n    [INFO] &lt;&lt;&lt; jboss-as-maven-plugin:7.4.Final:deploy (default) &lt; package @ JBossEAP &lt;&lt;&lt;\r\n    [INFO] \r\n    [INFO] --- jboss-as-maven-plugin:7.4.Final:deploy (default) @ JBossEAP ---\r\n    [INFO] XNIO Version 3.0.7.GA\r\n    [INFO] XNIO NIO Implementation Version 3.0.7.GA\r\n    [INFO] JBoss Remoting version 3.2.12.GA\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 6.308 s\r\n    [INFO] Finished at: 2015-09-02T14:00:07+05:30\r\n    [INFO] Final Memory: 20M/86M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [JENKINS] Archiving D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\pom.xml to com.subversion.svn/JBossEAP/0.0.1-SNAPSHOT/JBossEAP-0.0.1-SNAPSHOT.pom\r\n    [JENKINS] Archiving D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\target\\JBossEAP.war to com.subversion.svn/JBossEAP/0.0.1-SNAPSHOT/JBossEAP-0.0.1-SNAPSHOT.war\r\n    channel stopped\r\n    ERROR: Build step failed with exception\r\n    org.codehaus.cargo.container.ContainerException: Failed to create deployer with implementation class org.codehaus.cargo.container.jboss.JBoss7xRemoteDeployer for the parameters (container [id = [jboss7x]], deployer type [remote]).\r\n    \tat org.codehaus.cargo.generic.spi.AbstractGenericHintFactory.createImplementation(AbstractGenericHintFactory.java:154)\r\n    \tat org.codehaus.cargo.generic.spi.AbstractIntrospectionGenericHintFactory.createImplementation(AbstractIntrospectionGenericHintFactory.java:93)\r\n    \tat org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createDeployer(DefaultDeployerFactory.java:141)\r\n    \tat org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createDeployer(DefaultDeployerFactory.java:161)\r\n    \tat hudson.plugins.deploy.CargoContainerAdapter.deploy(CargoContainerAdapter.java:61)\r\n    \tat hudson.plugins.deploy.CargoContainerAdapter$1.invoke(CargoContainerAdapter.java:116)\r\n    \tat hudson.plugins.deploy.CargoContainerAdapter$1.invoke(CargoContainerAdapter.java:103)\r\n    \tat hudson.FilePath.act(FilePath.java:991)\r\n    \tat hudson.FilePath.act(FilePath.java:969)\r\n    \tat hudson.plugins.deploy.CargoContainerAdapter.redeploy(CargoContainerAdapter.java:103)\r\n    \tat hudson.plugins.deploy.DeployPublisher.perform(DeployPublisher.java:61)\r\n    \tat hudson.tasks.BuildStepMonitor$3.perform(BuildStepMonitor.java:45)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:779)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:726)\r\n    \tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.post2(MavenModuleSetBuild.java:1047)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.post(AbstractBuild.java:671)\r\n    \tat hudson.model.Run.execute(Run.java:1766)\r\n    \tat hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:531)\r\n    \tat hudson.model.ResourceController.execute(ResourceController.java:98)\r\n    \tat hudson.model.Executor.run(Executor.java:408)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:408)\r\n    \tat org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createInstance(DefaultDeployerFactory.java:220)\r\n    \tat org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createInstance(DefaultDeployerFactory.java:43)\r\n    \tat org.codehaus.cargo.generic.spi.AbstractGenericHintFactory.createImplementation(AbstractGenericHintFactory.java:150)\r\n    \t... 19 more\r\n    Caused by: org.codehaus.cargo.util.CargoException: Cannot locate the JBoss connector classes! Make sure the required JBoss JARs (or Maven dependencies) are in CARGO&#39;s classpath.\r\n    More information on: http://cargo.codehaus.org/JBoss+Remote+Deployer\r\n    \tat org.codehaus.cargo.container.jboss.JBoss5xRemoteDeployer.&lt;init&gt;(JBoss5xRemoteDeployer.java:161)\r\n    \tat org.codehaus.cargo.container.jboss.JBoss7xRemoteDeployer.&lt;init&gt;(JBoss7xRemoteDeployer.java:41)\r\n    \t... 26 more\r\n    Caused by: java.lang.ClassNotFoundException: org.jboss.as.controller.client.ModelControllerClient\r\n    \tat jenkins.util.AntClassLoader.findClassInComponents(AntClassLoader.java:1376)\r\n    \tat jenkins.util.AntClassLoader.findClass(AntClassLoader.java:1326)\r\n    \tat jenkins.util.AntClassLoader.loadClass(AntClassLoader.java:1079)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat org.codehaus.cargo.container.jboss.JBoss5xRemoteDeployer.&lt;init&gt;(JBoss5xRemoteDeployer.java:156)\r\n    \t... 27 more\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:408)\r\n    \tat org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createInstance(DefaultDeployerFactory.java:220)\r\n    \tat org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createInstance(DefaultDeployerFactory.java:43)\r\n    \tat org.codehaus.cargo.generic.spi.AbstractGenericHintFactory.createImplementation(AbstractGenericHintFactory.java:150)\r\n    \tat org.codehaus.cargo.generic.spi.AbstractIntrospectionGenericHintFactory.createImplementation(AbstractIntrospectionGenericHintFactory.java:93)\r\n    \tat org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createDeployer(DefaultDeployerFactory.java:141)\r\n    \tat org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createDeployer(DefaultDeployerFactory.java:161)\r\n    \tat hudson.plugins.deploy.CargoContainerAdapter.deploy(CargoContainerAdapter.java:61)\r\n    \tat hudson.plugins.deploy.CargoContainerAdapter$1.invoke(CargoContainerAdapter.java:116)\r\n    \tat hudson.plugins.deploy.CargoContainerAdapter$1.invoke(CargoContainerAdapter.java:103)\r\n    \tat hudson.FilePath.act(FilePath.java:991)\r\n    \tat hudson.FilePath.act(FilePath.java:969)\r\n    \tat hudson.plugins.deploy.CargoContainerAdapter.redeploy(CargoContainerAdapter.java:103)\r\n    \tat hudson.plugins.deploy.DeployPublisher.perform(DeployPublisher.java:61)\r\n    \tat hudson.tasks.BuildStepMonitor$3.perform(BuildStepMonitor.java:45)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:779)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:726)\r\n    \tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.post2(MavenModuleSetBuild.java:1047)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.post(AbstractBuild.java:671)\r\n    \tat hudson.model.Run.execute(Run.java:1766)\r\n    \tat hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:531)\r\n    \tat hudson.model.ResourceController.execute(ResourceController.java:98)\r\n    \tat hudson.model.Executor.run(Executor.java:408)\r\n    Caused by: org.codehaus.cargo.util.CargoException: Cannot locate the JBoss connector classes! Make sure the required JBoss JARs (or Maven dependencies) are in CARGO&#39;s classpath.`enter code here`\r\n    More information on: http://cargo.codehaus.org/JBoss+Remote+Deployer\r\n    \tat org.codehaus.cargo.container.jboss.JBoss5xRemoteDeployer.&lt;init&gt;(JBoss5xRemoteDeployer.java:161)\r\n    \tat org.codehaus.cargo.container.jboss.JBoss7xRemoteDeployer.&lt;init&gt;(JBoss7xRemoteDeployer.java:41)\r\n    \t... 26 more\r\n    Caused by: java.lang.ClassNotFoundException: org.jboss.as.controller.client.ModelControllerClient\r\n    \tat jenkins.util.AntClassLoader.findClassInComponents(AntClassLoader.java:1376)\r\n    \tat jenkins.util.AntClassLoader.findClass(AntClassLoader.java:1326)\r\n    \tat jenkins.util.AntClassLoader.loadClass(AntClassLoader.java:1079)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat org.codehaus.cargo.container.jboss.JBoss5xRemoteDeployer.&lt;init&gt;(JBoss5xRemoteDeployer.java:156)\r\n    \t... 27 more\r\n    Build step &#39;Deploy war/ear to a container&#39; marked build as failure\r\n    Finished: FAILURE","title":"How to deploy war file to jboss eap 6.4 (local installed on my machine) using jenkins","body":"<p>This is the stack trace of jenkins....\nplease help i searched for 3  days but still this error is not going....\nwhat exactly am i doing wrong ?\nthe war gets deployed on my server but this stack error leads to built failure</p>\n\n<pre><code>[INFO] --- maven-install-plugin:2.4:install (default-install) @ JBossEAP ---\n[INFO] Installing D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\target\\JBossEAP.war to C:\\Users\\amotiwal\\.m2\\repository\\com\\subversion\\svn\\JBossEAP\\0.0.1-SNAPSHOT\\JBossEAP-0.0.1-SNAPSHOT.war\n[INFO] Installing D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\pom.xml to C:\\Users\\amotiwal\\.m2\\repository\\com\\subversion\\svn\\JBossEAP\\0.0.1-SNAPSHOT\\JBossEAP-0.0.1-SNAPSHOT.pom\n[INFO] \n[INFO] &gt;&gt;&gt; jboss-as-maven-plugin:7.4.Final:deploy (default) &gt; package @ JBossEAP &gt;&gt;&gt;\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ JBossEAP ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ JBossEAP ---\n[INFO] No sources to compile\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ JBossEAP ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\src\\test\\resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ JBossEAP ---\n[INFO] No sources to compile\n[INFO] \n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ JBossEAP ---\n[INFO] No tests to run.\n[INFO] Skipping execution of surefire because it has already been run for this configuration\n[JENKINS] Recording test results\n[INFO] \n[INFO] --- maven-war-plugin:2.2:war (default-war) @ JBossEAP ---\n[INFO] Packaging webapp\n[INFO] Assembling webapp [JBossEAP] in [D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\target\\JBossEAP]\n[INFO] Processing war project\n[INFO] Copying webapp resources [D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\src\\main\\webapp]\n[INFO] Webapp assembled in [13 msecs]\n[INFO] Building war: D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\target\\JBossEAP.war\n[INFO] WEB-INF\\web.xml already added, skipping\n[WARNING] Failed to getClass for org.jboss.as.plugin.deployment.Deploy\n[INFO] \n[INFO] &lt;&lt;&lt; jboss-as-maven-plugin:7.4.Final:deploy (default) &lt; package @ JBossEAP &lt;&lt;&lt;\n[INFO] \n[INFO] --- jboss-as-maven-plugin:7.4.Final:deploy (default) @ JBossEAP ---\n[INFO] XNIO Version 3.0.7.GA\n[INFO] XNIO NIO Implementation Version 3.0.7.GA\n[INFO] JBoss Remoting version 3.2.12.GA\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 6.308 s\n[INFO] Finished at: 2015-09-02T14:00:07+05:30\n[INFO] Final Memory: 20M/86M\n[INFO] ------------------------------------------------------------------------\n[JENKINS] Archiving D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\pom.xml to com.subversion.svn/JBossEAP/0.0.1-SNAPSHOT/JBossEAP-0.0.1-SNAPSHOT.pom\n[JENKINS] Archiving D:\\Aly da Cristianio\\My WorkSpace\\JBossEAP\\target\\JBossEAP.war to com.subversion.svn/JBossEAP/0.0.1-SNAPSHOT/JBossEAP-0.0.1-SNAPSHOT.war\nchannel stopped\nERROR: Build step failed with exception\norg.codehaus.cargo.container.ContainerException: Failed to create deployer with implementation class org.codehaus.cargo.container.jboss.JBoss7xRemoteDeployer for the parameters (container [id = [jboss7x]], deployer type [remote]).\n    at org.codehaus.cargo.generic.spi.AbstractGenericHintFactory.createImplementation(AbstractGenericHintFactory.java:154)\n    at org.codehaus.cargo.generic.spi.AbstractIntrospectionGenericHintFactory.createImplementation(AbstractIntrospectionGenericHintFactory.java:93)\n    at org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createDeployer(DefaultDeployerFactory.java:141)\n    at org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createDeployer(DefaultDeployerFactory.java:161)\n    at hudson.plugins.deploy.CargoContainerAdapter.deploy(CargoContainerAdapter.java:61)\n    at hudson.plugins.deploy.CargoContainerAdapter$1.invoke(CargoContainerAdapter.java:116)\n    at hudson.plugins.deploy.CargoContainerAdapter$1.invoke(CargoContainerAdapter.java:103)\n    at hudson.FilePath.act(FilePath.java:991)\n    at hudson.FilePath.act(FilePath.java:969)\n    at hudson.plugins.deploy.CargoContainerAdapter.redeploy(CargoContainerAdapter.java:103)\n    at hudson.plugins.deploy.DeployPublisher.perform(DeployPublisher.java:61)\n    at hudson.tasks.BuildStepMonitor$3.perform(BuildStepMonitor.java:45)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:779)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:726)\n    at hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.post2(MavenModuleSetBuild.java:1047)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.post(AbstractBuild.java:671)\n    at hudson.model.Run.execute(Run.java:1766)\n    at hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:531)\n    at hudson.model.ResourceController.execute(ResourceController.java:98)\n    at hudson.model.Executor.run(Executor.java:408)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:408)\n    at org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createInstance(DefaultDeployerFactory.java:220)\n    at org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createInstance(DefaultDeployerFactory.java:43)\n    at org.codehaus.cargo.generic.spi.AbstractGenericHintFactory.createImplementation(AbstractGenericHintFactory.java:150)\n    ... 19 more\nCaused by: org.codehaus.cargo.util.CargoException: Cannot locate the JBoss connector classes! Make sure the required JBoss JARs (or Maven dependencies) are in CARGO's classpath.\nMore information on: http://cargo.codehaus.org/JBoss+Remote+Deployer\n    at org.codehaus.cargo.container.jboss.JBoss5xRemoteDeployer.&lt;init&gt;(JBoss5xRemoteDeployer.java:161)\n    at org.codehaus.cargo.container.jboss.JBoss7xRemoteDeployer.&lt;init&gt;(JBoss7xRemoteDeployer.java:41)\n    ... 26 more\nCaused by: java.lang.ClassNotFoundException: org.jboss.as.controller.client.ModelControllerClient\n    at jenkins.util.AntClassLoader.findClassInComponents(AntClassLoader.java:1376)\n    at jenkins.util.AntClassLoader.findClass(AntClassLoader.java:1326)\n    at jenkins.util.AntClassLoader.loadClass(AntClassLoader.java:1079)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at org.codehaus.cargo.container.jboss.JBoss5xRemoteDeployer.&lt;init&gt;(JBoss5xRemoteDeployer.java:156)\n    ... 27 more\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:408)\n    at org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createInstance(DefaultDeployerFactory.java:220)\n    at org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createInstance(DefaultDeployerFactory.java:43)\n    at org.codehaus.cargo.generic.spi.AbstractGenericHintFactory.createImplementation(AbstractGenericHintFactory.java:150)\n    at org.codehaus.cargo.generic.spi.AbstractIntrospectionGenericHintFactory.createImplementation(AbstractIntrospectionGenericHintFactory.java:93)\n    at org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createDeployer(DefaultDeployerFactory.java:141)\n    at org.codehaus.cargo.generic.deployer.DefaultDeployerFactory.createDeployer(DefaultDeployerFactory.java:161)\n    at hudson.plugins.deploy.CargoContainerAdapter.deploy(CargoContainerAdapter.java:61)\n    at hudson.plugins.deploy.CargoContainerAdapter$1.invoke(CargoContainerAdapter.java:116)\n    at hudson.plugins.deploy.CargoContainerAdapter$1.invoke(CargoContainerAdapter.java:103)\n    at hudson.FilePath.act(FilePath.java:991)\n    at hudson.FilePath.act(FilePath.java:969)\n    at hudson.plugins.deploy.CargoContainerAdapter.redeploy(CargoContainerAdapter.java:103)\n    at hudson.plugins.deploy.DeployPublisher.perform(DeployPublisher.java:61)\n    at hudson.tasks.BuildStepMonitor$3.perform(BuildStepMonitor.java:45)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:779)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:726)\n    at hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.post2(MavenModuleSetBuild.java:1047)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.post(AbstractBuild.java:671)\n    at hudson.model.Run.execute(Run.java:1766)\n    at hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:531)\n    at hudson.model.ResourceController.execute(ResourceController.java:98)\n    at hudson.model.Executor.run(Executor.java:408)\nCaused by: org.codehaus.cargo.util.CargoException: Cannot locate the JBoss connector classes! Make sure the required JBoss JARs (or Maven dependencies) are in CARGO's classpath.`enter code here`\nMore information on: http://cargo.codehaus.org/JBoss+Remote+Deployer\n    at org.codehaus.cargo.container.jboss.JBoss5xRemoteDeployer.&lt;init&gt;(JBoss5xRemoteDeployer.java:161)\n    at org.codehaus.cargo.container.jboss.JBoss7xRemoteDeployer.&lt;init&gt;(JBoss7xRemoteDeployer.java:41)\n    ... 26 more\nCaused by: java.lang.ClassNotFoundException: org.jboss.as.controller.client.ModelControllerClient\n    at jenkins.util.AntClassLoader.findClassInComponents(AntClassLoader.java:1376)\n    at jenkins.util.AntClassLoader.findClass(AntClassLoader.java:1326)\n    at jenkins.util.AntClassLoader.loadClass(AntClassLoader.java:1079)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at org.codehaus.cargo.container.jboss.JBoss5xRemoteDeployer.&lt;init&gt;(JBoss5xRemoteDeployer.java:156)\n    ... 27 more\nBuild step 'Deploy war/ear to a container' marked build as failure\nFinished: FAILURE\n</code></pre>\n"},{"tags":["java","regex","sonarlint"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":2,"creation_date":1633120067,"post_id":69410608,"comment_id":122684896,"body_markdown":"There is a problem with `&quot;\\\\p{Alnum}+ *=(?: *\\\\p{Alnum}+)+&quot;`, and to resolve it, you need `&quot;\\\\p{Alnum}+ *= *\\\\p{Alnum}+(?: +\\\\p{Alnum}+)*&quot;` or `&quot;\\\\p{Alnum}+ *= *\\\\p{Alnum}+(?: +\\\\p{Alnum}+)* *&quot;`. However, I suspect it will still &quot;breal&quot; S5998 or other Sonar* rules as they are too &quot;pedantic&quot;, someone did not do a very good job when implementing them, and they raise false alarm in many cases.","body":"There is a problem with <code>&quot;\\\\p{Alnum}+ *=(?: *\\\\p{Alnum}+)+&quot;</code>, and to resolve it, you need <code>&quot;\\\\p{Alnum}+ *= *\\\\p{Alnum}+(?: +\\\\p{Alnum}+)*&quot;</code> or <code>&quot;\\\\p{Alnum}+ *= *\\\\p{Alnum}+(?: +\\\\p{Alnum}+)* *&quot;</code>. However, I suspect it will still &quot;breal&quot; S5998 or other Sonar* rules as they are too &quot;pedantic&quot;, someone did not do a very good job when implementing them, and they raise false alarm in many cases."},{"owner":{"account_id":4652586,"reputation":371,"user_id":3786813,"accept_rate":82,"display_name":"thepen"},"score":0,"creation_date":1633153747,"post_id":69410608,"comment_id":122689827,"body_markdown":"@WiktorStribiżew thanks, yes those regex&#39;s you suggest - &quot;\\\\p{Alnum}+ *= *\\\\p{Alnum}+(?: +\\\\p{Alnum}+)*&quot; or &quot;\\\\p{Alnum}+ *= *\\\\p{Alnum}+(?: +\\\\p{Alnum}+)* *&quot; also break S5998","body":"@WiktorStribiżew thanks, yes those regex&#39;s you suggest - &quot;\\\\p{Alnum}+ <i>= *\\\\p{Alnum}+(?: +\\\\p{Alnum}+)</i>&quot; or &quot;\\\\p{Alnum}+ <i>= *\\\\p{Alnum}+(?: +\\\\p{Alnum}+)</i> *&quot; also break S5998"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":2,"creation_date":1633167478,"post_id":69410608,"comment_id":122692022,"body_markdown":"Yes, but there are absolutely safe to use. Remove this sonarqube, it is evil. Disable this rule. Ignore it. It qualifies safe regexps as &quot;dangerous&quot;, but this is just badly written software.","body":"Yes, but there are absolutely safe to use. Remove this sonarqube, it is evil. Disable this rule. Ignore it. It qualifies safe regexps as &quot;dangerous&quot;, but this is just badly written software."},{"owner":{"account_id":4652586,"reputation":371,"user_id":3786813,"accept_rate":82,"display_name":"thepen"},"score":0,"creation_date":1633179499,"post_id":69410608,"comment_id":122694422,"body_markdown":"@WiktorStribiżew I don&#39;t understand regex well to understand why it is safe to use. Is there an article that describes the false positive sonar result in this case or do I just need to understand regex better ?","body":"@WiktorStribiżew I don&#39;t understand regex well to understand why it is safe to use. Is there an article that describes the false positive sonar result in this case or do I just need to understand regex better ?"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1633198680,"post_id":69410608,"comment_id":122697818,"body_markdown":"You need to understand regex, how it matches strings and what backtracking is.","body":"You need to understand regex, how it matches strings and what backtracking is."}],"owner":{"account_id":4652586,"reputation":371,"user_id":3786813,"accept_rate":82,"display_name":"thepen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1381,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1633113473,"creation_date":1633113473,"question_id":69410608,"body_markdown":"I use this code to create a Map of key value pairs : \r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class PatternMatchTest {\r\n    \r\n        private static final Pattern keyValuePattern = Pattern.compile(&quot;\\\\p{Alnum}+ *=(?: *\\\\p{Alnum}+)+&quot;);\r\n        private static final Pattern quotesPattern = Pattern.compile(&quot;\\&quot;(.*?)\\&quot;&quot;, Pattern.DOTALL);\r\n    \r\n        public static void main(final String[] args){\r\n    \r\n            final String line = &quot;\\&quot;$0 = test 1, $1 = test2, $2 = test3\\&quot;&quot;;\r\n            final Map&lt;String, String&gt; mappedValues = new HashMap&lt;&gt;();\r\n    \r\n            final Matcher quotesMatcher = quotesPattern.matcher(line);\r\n            if (quotesMatcher.find()) {\r\n                final String valueInQuotes = quotesMatcher.group(0).replace(&quot;$&quot;, &quot; &quot;).replace(&quot; = &quot;, &quot;=&quot;);\r\n                final Matcher matcher = keyValuePattern.matcher(valueInQuotes);\r\n                while (matcher.find()) {\r\n                    final String[] elements = matcher.group().split(&quot;=&quot;);\r\n                    mappedValues.put(elements[0], elements[1]);\r\n                }\r\n    \r\n            }\r\n    \r\n            mappedValues.entrySet().forEach(entry -&gt; {\r\n                System.out.println(entry.getKey() + &quot;-&gt;&quot; + entry.getValue());\r\n            });\r\n    \r\n        }\r\n    }\r\n\r\nThe string `&quot;\\&quot;$0 = test 1, $1 = test2, $2 = test3\\&quot;&quot;` is converted to a `key-&gt;value` map containing : \r\n\r\n    0-&gt;test 1\r\n    1-&gt;test2\r\n    2-&gt;test3\r\n\r\nThis works as expected but breaks sonar line rule S5998 : \r\n\r\n    The Java regex engine uses recursive method calls to implement backtracking. Therefore when a repetition inside a regular expression contains multiple paths (i.e. the body of the repetition contains an alternation (|), an optional element or another repetition), trying to match the regular expression can cause a stack overflow on large inputs. This does not happen when using a possessive quantifier (such as *+ instead of *) or when using a character class inside a repetition (e.g. [ab]* instead of (a|b)*).\r\n    The size of the input required to overflow the stack depends on various factors, including of course the stack size of the JVM. One thing that significantly increases the size of the input that can be processed is if each iteration of the repetition goes through a chain of multiple constant characters because such consecutive characters will be matched by the regex engine without invoking any recursion.\r\n    For example, on a JVM with a stack size of 1MB, the regex (?:a|b)* will overflow the stack after matching around 6000 characters (actual numbers may differ between JVM versions and even across multiple runs on the same JVM) whereas (?:abc|def)* can handle around 15000 characters.\r\n    Since often times stack growth can’t easily be avoided, this rule will only report issues on regular expressions if they can cause a stack overflow on realistically sized inputs. You can adjust the maxStackConsumptionFactor parameter to adjust this.\r\n    Noncompliant Code Example\r\n     &#160;Pattern.compile(&quot;(a|b)*&quot;); // Noncompliant &#160;Pattern.compile(&quot;(.|\\n)*&quot;); // Noncompliant &#160;Pattern.compile(&quot;(ab?)*&quot;); // Noncompliant &#160;\r\n    Compliant Solution\r\n     &#160;Pattern.compile(&quot;[ab]*&quot;); // Character classes don&#39;t cause recursion the way that &#39;|&#39; does &#160;Pattern.compile(&quot;(?s).*&quot;); // Enabling the (?s) flag makes &#39;.&#39; match line breaks, so &#39;|\\n&#39; isn&#39;t necessary &#160;Pattern.compile(&quot;(ab?)*+&quot;); // Possessive quantifiers don&#39;t cause recursion because they disable backtracking &#160;\r\n    Parameters\r\n    Following parameter values can be set in Rule Settings. In connected mode, server side configuration overrides local settings.\r\n    maxStackConsumptionFactor  \r\n    An indicator approximately proportional to how quickly the stack grows relative to the input size. An issue will be reported if the value for a regex exceeds the maximum set here. Setting this to 0 will cause an issue to be reported for all regular expressions with non-constant stack consumption.\r\n    Current value: 5.0\r\n    Default value: 5.0\r\n\r\nRemoving `+` from the regex fixes the sonar reporting issue but breaks the parsing as values that contain a space do not match correctly.\r\n\r\nThe regex `\\\\p{Alnum}+ *=(?: *\\\\p{Alnum}+)` matches :\r\n\r\n    0-&gt;test \r\n    1-&gt;test2\r\n    2-&gt;test3\r\n\r\nHow to update the regex `\\\\p{Alnum}+ *=(?: *\\\\p{Alnum}+)+` to match key values pairs where the value can contain a space but also not break the sonar rule S5998 relating to a stackoverflow for large inputs (described above) ?","title":"Update regex to not break sonar rule","body":"<p>I use this code to create a Map of key value pairs :</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class PatternMatchTest {\n\n    private static final Pattern keyValuePattern = Pattern.compile(&quot;\\\\p{Alnum}+ *=(?: *\\\\p{Alnum}+)+&quot;);\n    private static final Pattern quotesPattern = Pattern.compile(&quot;\\&quot;(.*?)\\&quot;&quot;, Pattern.DOTALL);\n\n    public static void main(final String[] args){\n\n        final String line = &quot;\\&quot;$0 = test 1, $1 = test2, $2 = test3\\&quot;&quot;;\n        final Map&lt;String, String&gt; mappedValues = new HashMap&lt;&gt;();\n\n        final Matcher quotesMatcher = quotesPattern.matcher(line);\n        if (quotesMatcher.find()) {\n            final String valueInQuotes = quotesMatcher.group(0).replace(&quot;$&quot;, &quot; &quot;).replace(&quot; = &quot;, &quot;=&quot;);\n            final Matcher matcher = keyValuePattern.matcher(valueInQuotes);\n            while (matcher.find()) {\n                final String[] elements = matcher.group().split(&quot;=&quot;);\n                mappedValues.put(elements[0], elements[1]);\n            }\n\n        }\n\n        mappedValues.entrySet().forEach(entry -&gt; {\n            System.out.println(entry.getKey() + &quot;-&gt;&quot; + entry.getValue());\n        });\n\n    }\n}\n</code></pre>\n<p>The string <code>&quot;\\&quot;$0 = test 1, $1 = test2, $2 = test3\\&quot;&quot;</code> is converted to a <code>key-&gt;value</code> map containing :</p>\n<pre><code>0-&gt;test 1\n1-&gt;test2\n2-&gt;test3\n</code></pre>\n<p>This works as expected but breaks sonar line rule S5998 :</p>\n<pre><code>The Java regex engine uses recursive method calls to implement backtracking. Therefore when a repetition inside a regular expression contains multiple paths (i.e. the body of the repetition contains an alternation (|), an optional element or another repetition), trying to match the regular expression can cause a stack overflow on large inputs. This does not happen when using a possessive quantifier (such as *+ instead of *) or when using a character class inside a repetition (e.g. [ab]* instead of (a|b)*).\nThe size of the input required to overflow the stack depends on various factors, including of course the stack size of the JVM. One thing that significantly increases the size of the input that can be processed is if each iteration of the repetition goes through a chain of multiple constant characters because such consecutive characters will be matched by the regex engine without invoking any recursion.\nFor example, on a JVM with a stack size of 1MB, the regex (?:a|b)* will overflow the stack after matching around 6000 characters (actual numbers may differ between JVM versions and even across multiple runs on the same JVM) whereas (?:abc|def)* can handle around 15000 characters.\nSince often times stack growth can’t easily be avoided, this rule will only report issues on regular expressions if they can cause a stack overflow on realistically sized inputs. You can adjust the maxStackConsumptionFactor parameter to adjust this.\nNoncompliant Code Example\n  Pattern.compile(&quot;(a|b)*&quot;); // Noncompliant  Pattern.compile(&quot;(.|\\n)*&quot;); // Noncompliant  Pattern.compile(&quot;(ab?)*&quot;); // Noncompliant  \nCompliant Solution\n  Pattern.compile(&quot;[ab]*&quot;); // Character classes don't cause recursion the way that '|' does  Pattern.compile(&quot;(?s).*&quot;); // Enabling the (?s) flag makes '.' match line breaks, so '|\\n' isn't necessary  Pattern.compile(&quot;(ab?)*+&quot;); // Possessive quantifiers don't cause recursion because they disable backtracking  \nParameters\nFollowing parameter values can be set in Rule Settings. In connected mode, server side configuration overrides local settings.\nmaxStackConsumptionFactor  \nAn indicator approximately proportional to how quickly the stack grows relative to the input size. An issue will be reported if the value for a regex exceeds the maximum set here. Setting this to 0 will cause an issue to be reported for all regular expressions with non-constant stack consumption.\nCurrent value: 5.0\nDefault value: 5.0\n</code></pre>\n<p>Removing <code>+</code> from the regex fixes the sonar reporting issue but breaks the parsing as values that contain a space do not match correctly.</p>\n<p>The regex <code>\\\\p{Alnum}+ *=(?: *\\\\p{Alnum}+)</code> matches :</p>\n<pre><code>0-&gt;test \n1-&gt;test2\n2-&gt;test3\n</code></pre>\n<p>How to update the regex <code>\\\\p{Alnum}+ *=(?: *\\\\p{Alnum}+)+</code> to match key values pairs where the value can contain a space but also not break the sonar rule S5998 relating to a stackoverflow for large inputs (described above) ?</p>\n"},{"tags":["java","arrays","character"],"comments":[{"owner":{"display_name":"user2711811"},"score":1,"creation_date":1633107050,"post_id":69409110,"comment_id":122680961,"body_markdown":"This statement: `char[] temp = new char[temp_count];` creates a `char` array of length `temp_count`.  `temp_count` is set to 0 in  your code ( a few lines up ) so the result is a zero-length array.  Later you `temp[temp_count]=x;` which would fail in any case of the current value of `temp_count`.  If you have the java debugger available, I strongly recommend learning its use.","body":"This statement: <code>char[] temp = new char[temp_count];</code> creates a <code>char</code> array of length <code>temp_count</code>.  <code>temp_count</code> is set to 0 in  your code ( a few lines up ) so the result is a zero-length array.  Later you <code>temp[temp_count]=x;</code> which would fail in any case of the current value of <code>temp_count</code>.  If you have the java debugger available, I strongly recommend learning its use."}],"answers":[{"tags":[],"owner":{"account_id":22917182,"reputation":1,"user_id":17053599,"display_name":"Niklas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633113362,"creation_date":1633113362,"answer_id":69410589,"question_id":69409110,"body_markdown":"        import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            String str = new String();\r\n            int temp_count = 0;\r\n            //New input of string\r\n            str = sc.nextLine();\r\n            char[] c = str.toCharArray();\r\n            char[] temp = new char[0];\r\n            //Converting uppercase to lower case for convenience\r\n            for (int i = 0; i &lt; str.length(); i++) {\r\n                if (Character.isUpperCase(c[i])) {\r\n                    c[i] = (char)(c[i] + 32);\r\n                }\r\n            }\r\n            //verifying whether the alphabet exists\r\n            for (char x = &#39;a&#39;; x &lt;= &#39;z&#39;; x++) {\r\n                int count = 0;\r\n                for (int i = 0; c[i] != &#39;\\0&#39;; i++) {\r\n                    if (c[i] == x) {\r\n                        count++;\r\n                    }\r\n                }\r\n                //if the alphabet is not found, then putting the alphabet in\r\n                if (count == 0) {\r\n                    char [] copy = new char[temp.length+1];\r\n                    for (int i = 0; i &lt; temp.length; i++) {\r\n                        copy[i]=temp[i];\r\n                    }\r\n                    copy[copy.length-1] = x;\r\n                    temp=copy;\r\n                }\r\n            }\r\n            //Verifying whether it&#39;s a pangram or not\r\n            if (temp_count == 0) {\r\n                System.out.println(&quot;Pangram&quot;);\r\n            } else {\r\n                //if not pangram then this part will execute\r\n                System.out.println(&quot;Not Pangram&quot;);\r\n                System.out.printf(&quot;Missing Characters: &quot;);\r\n    \r\n                //printing out the missing character\r\n                for (int i = 0; i &lt; temp_count - 1; i++) {\r\n                    System.out.print(temp[i] + &quot;, &quot;);\r\n                }\r\n            }\r\n            sc.close();\r\n        }\r\n    }\r\n    \r\n    Blockquote","title":"Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index out of bounds","body":"<pre><code>    import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String str = new String();\n        int temp_count = 0;\n        //New input of string\n        str = sc.nextLine();\n        char[] c = str.toCharArray();\n        char[] temp = new char[0];\n        //Converting uppercase to lower case for convenience\n        for (int i = 0; i &lt; str.length(); i++) {\n            if (Character.isUpperCase(c[i])) {\n                c[i] = (char)(c[i] + 32);\n            }\n        }\n        //verifying whether the alphabet exists\n        for (char x = 'a'; x &lt;= 'z'; x++) {\n            int count = 0;\n            for (int i = 0; c[i] != '\\0'; i++) {\n                if (c[i] == x) {\n                    count++;\n                }\n            }\n            //if the alphabet is not found, then putting the alphabet in\n            if (count == 0) {\n                char [] copy = new char[temp.length+1];\n                for (int i = 0; i &lt; temp.length; i++) {\n                    copy[i]=temp[i];\n                }\n                copy[copy.length-1] = x;\n                temp=copy;\n            }\n        }\n        //Verifying whether it's a pangram or not\n        if (temp_count == 0) {\n            System.out.println(&quot;Pangram&quot;);\n        } else {\n            //if not pangram then this part will execute\n            System.out.println(&quot;Not Pangram&quot;);\n            System.out.printf(&quot;Missing Characters: &quot;);\n\n            //printing out the missing character\n            for (int i = 0; i &lt; temp_count - 1; i++) {\n                System.out.print(temp[i] + &quot;, &quot;);\n            }\n        }\n        sc.close();\n    }\n}\n\nBlockquote\n</code></pre>\n"}],"owner":{"account_id":20951710,"reputation":1,"user_id":17052829,"display_name":"WiNT3R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":914,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1633113362,"creation_date":1633105308,"question_id":69409110,"body_markdown":"I was getting this error while running the following code. I couldn&#39;t find out what was wrong with the code.\r\n\r\nAs far as I can see, there&#39;s some issue with my second character array. But couldn&#39;t find out what was wrong. First tried running the last loop before temp_count. Then also tried temp_count&#177;1. Yet, I failed. I have also tried taking different array size. still no luck\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class oop2 \r\n{\r\n    public static void main(String[] args) \r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n        String str = new String();\r\n        int temp_count = 0;\r\n\r\n        //New input of string\r\n\r\n        str=sc.nextLine();\r\n\r\n        char[] c = str.toCharArray();\r\n        char[] temp = new char[temp_count];\r\n\r\n        //Converting uppercase to lower case for convenience\r\n\r\n        for(int i=0; i&lt;str.length(); i++)\r\n        {\r\n            if (Character.isUpperCase(c[i])) \r\n            {\r\n                c[i]=(char) (c[i]+32);    \r\n            }\r\n        }\r\n\r\n\r\n        //verifying whether the alphabet exists\r\n\r\n        for(char x = &#39;a&#39;; x&lt;=&#39;z&#39;; x++)\r\n        {\r\n            int count=0;\r\n            for(int i=0; c[i]!=&#39;\\0&#39;; i++)\r\n            {\r\n                if (c[i]==x) \r\n                {\r\n                    count++;\r\n                }\r\n            }\r\n\r\n\r\n            //if the alphabet is not found, then putting the alphabet in\r\n\r\n            if (count==0) \r\n            {\r\n                temp[temp_count]=x;\r\n                temp_count++;    \r\n            }\r\n        }\r\n\r\n        \r\n        //Verifying whether it&#39;s a pangram or not\r\n\r\n        if (temp_count==0) \r\n        {\r\n            System.out.println(&quot;Pangram&quot;);    \r\n        }\r\n        else\r\n        {\r\n            //if not pangram then this part will execute\r\n            System.out.println(&quot;Not Pangram&quot;);\r\n            System.out.printf(&quot;Missing Characters: &quot;);\r\n\r\n            //printing out the missing character\r\n            for(int i=0; i&lt;temp_count-1; i++)\r\n            {\r\n                System.out.print(temp[i]+&quot;, &quot;);\r\n            }\r\n        }\r\n        sc.close();\r\n    }    \r\n}\r\n```","title":"Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index out of bounds","body":"<p>I was getting this error while running the following code. I couldn't find out what was wrong with the code.</p>\n<p>As far as I can see, there's some issue with my second character array. But couldn't find out what was wrong. First tried running the last loop before temp_count. Then also tried temp_count±1. Yet, I failed. I have also tried taking different array size. still no luck</p>\n<pre><code>import java.util.Scanner;\n\npublic class oop2 \n{\n    public static void main(String[] args) \n    {\n        Scanner sc = new Scanner(System.in);\n        String str = new String();\n        int temp_count = 0;\n\n        //New input of string\n\n        str=sc.nextLine();\n\n        char[] c = str.toCharArray();\n        char[] temp = new char[temp_count];\n\n        //Converting uppercase to lower case for convenience\n\n        for(int i=0; i&lt;str.length(); i++)\n        {\n            if (Character.isUpperCase(c[i])) \n            {\n                c[i]=(char) (c[i]+32);    \n            }\n        }\n\n\n        //verifying whether the alphabet exists\n\n        for(char x = 'a'; x&lt;='z'; x++)\n        {\n            int count=0;\n            for(int i=0; c[i]!='\\0'; i++)\n            {\n                if (c[i]==x) \n                {\n                    count++;\n                }\n            }\n\n\n            //if the alphabet is not found, then putting the alphabet in\n\n            if (count==0) \n            {\n                temp[temp_count]=x;\n                temp_count++;    \n            }\n        }\n\n        \n        //Verifying whether it's a pangram or not\n\n        if (temp_count==0) \n        {\n            System.out.println(&quot;Pangram&quot;);    \n        }\n        else\n        {\n            //if not pangram then this part will execute\n            System.out.println(&quot;Not Pangram&quot;);\n            System.out.printf(&quot;Missing Characters: &quot;);\n\n            //printing out the missing character\n            for(int i=0; i&lt;temp_count-1; i++)\n            {\n                System.out.print(temp[i]+&quot;, &quot;);\n            }\n        }\n        sc.close();\n    }    \n}\n</code></pre>\n"},{"tags":["java","printf","java-console"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633021646,"creation_date":1633021646,"answer_id":69396285,"question_id":69396220,"body_markdown":"You can&#39;t right justify unless you know the &#39;length&#39; of a line, and there&#39;s no way to know that. Not all things `System.out` can be connected to have such a concept.\r\n\r\nIf you know beforehand, you can use `%80s` for example. If you don&#39;t, what you want is impossible.\r\n","title":"Align a String to the right using printf in Java","body":"<p>You can't right justify unless you know the 'length' of a line, and there's no way to know that. Not all things <code>System.out</code> can be connected to have such a concept.</p>\n<p>If you know beforehand, you can use <code>%80s</code> for example. If you don't, what you want is impossible.</p>\n"},{"tags":[],"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633021707,"creation_date":1633021707,"answer_id":69396300,"question_id":69396220,"body_markdown":"This is not possible, the java output stream is so abstract that you basically don&#39;t know where the data is ending which you send to it.\\\r\nCase scenario:\\\r\n Somebody has set the output steam to a file where would there the right alignment be there?  ","title":"Align a String to the right using printf in Java","body":"<p>This is not possible, the java output stream is so abstract that you basically don't know where the data is ending which you send to it.<br />\nCase scenario:<br />\nSomebody has set the output steam to a file where would there the right alignment be there?</p>\n"},{"tags":[],"owner":{"account_id":5511506,"reputation":207,"user_id":4377644,"display_name":"Pran Sukh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633022415,"creation_date":1633022415,"answer_id":69396444,"question_id":69396220,"body_markdown":"This could be possible with string formats.\r\n\r\nHave a look at this link [Read More](https://kodejava.org/how-do-i-align-string-print-out-in-left-right-center-alignment/).\r\n\r\n","title":"Align a String to the right using printf in Java","body":"<p>This could be possible with string formats.</p>\n<p>Have a look at this link <a href=\"https://kodejava.org/how-do-i-align-string-print-out-in-left-right-center-alignment/\" rel=\"nofollow noreferrer\">Read More</a>.</p>\n"},{"tags":[],"owner":{"account_id":3640819,"reputation":335,"user_id":4645889,"accept_rate":20,"display_name":"htamayo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633113212,"creation_date":1633113212,"answer_id":69410563,"question_id":69396220,"body_markdown":"this approach solve the problem:\r\n\r\n    class Result {\r\n        public static void staircase(int n) {\r\n            String myGraph = &quot;#&quot;;\r\n            String mySpace = &quot; &quot;;\r\n            int numOfChars = 0;\r\n            int i = 0;\r\n            int j = 0;\r\n            int k = 0;\r\n            ArrayList&lt;ArrayList&lt;String&gt;&gt; gameBoard = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n            for(i=0; i&lt;n; i++){\r\n                gameBoard.add(new ArrayList&lt;String&gt;());\r\n                numOfChars++;\r\n                //fill of mySpace\r\n                for(j=0; j&lt;(n-numOfChars); j++){\r\n                    gameBoard.get(i).add(j, mySpace);\r\n                }\r\n                //fill of myGraph\r\n                for(k=j; k&lt;n; k++){\r\n                    gameBoard.get(i).add(k, myGraph);\r\n                }\r\n            }\r\n            \r\n            //iterate the list\r\n            for (i = 0; i &lt; gameBoard.size(); i++){\r\n                for (j = 0; j &lt; gameBoard.get(i).size(); j++){\r\n                    System.out.print(gameBoard.get(i).get(j));\r\n                } \r\n                System.out.println();\r\n            }        \r\n        }\r\n    }\r\n\r\n","title":"Align a String to the right using printf in Java","body":"<p>this approach solve the problem:</p>\n<pre><code>class Result {\n    public static void staircase(int n) {\n        String myGraph = &quot;#&quot;;\n        String mySpace = &quot; &quot;;\n        int numOfChars = 0;\n        int i = 0;\n        int j = 0;\n        int k = 0;\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; gameBoard = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n        for(i=0; i&lt;n; i++){\n            gameBoard.add(new ArrayList&lt;String&gt;());\n            numOfChars++;\n            //fill of mySpace\n            for(j=0; j&lt;(n-numOfChars); j++){\n                gameBoard.get(i).add(j, mySpace);\n            }\n            //fill of myGraph\n            for(k=j; k&lt;n; k++){\n                gameBoard.get(i).add(k, myGraph);\n            }\n        }\n        \n        //iterate the list\n        for (i = 0; i &lt; gameBoard.size(); i++){\n            for (j = 0; j &lt; gameBoard.get(i).size(); j++){\n                System.out.print(gameBoard.get(i).get(j));\n            } \n            System.out.println();\n        }        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3640819,"reputation":335,"user_id":4645889,"accept_rate":20,"display_name":"htamayo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1633113212,"creation_date":1633021334,"question_id":69396220,"body_markdown":"I need to right justify the next output using Java:\r\n\r\n    class MyTree {\r\n    \r\n        public static void staircase(int n) {\r\n            String myGraph = &quot;#&quot;;\r\n            for(int i=0; i&lt;n; i++){\r\n                for(int x = 0; x &lt;=i; x++){\r\n                    if(x == i){\r\n                        System.out.printf(&quot;%s\\n&quot;, myGraph);\r\n                    }else{\r\n                        System.out.printf(&quot;%s&quot;, myGraph);                    \r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;m using printf function but I&#39;m stuck, I tried different parameters but nothing seems to work; in case you have a suggestion please let me know.\r\n\r\nThanks \r\n","title":"Align a String to the right using printf in Java","body":"<p>I need to right justify the next output using Java:</p>\n<pre><code>class MyTree {\n\n    public static void staircase(int n) {\n        String myGraph = &quot;#&quot;;\n        for(int i=0; i&lt;n; i++){\n            for(int x = 0; x &lt;=i; x++){\n                if(x == i){\n                    System.out.printf(&quot;%s\\n&quot;, myGraph);\n                }else{\n                    System.out.printf(&quot;%s&quot;, myGraph);                    \n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I'm using printf function but I'm stuck, I tried different parameters but nothing seems to work; in case you have a suggestion please let me know.</p>\n<p>Thanks</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633112998,"creation_date":1633112998,"answer_id":69410524,"question_id":69408840,"body_markdown":"Run as \r\n\r\n```shell\r\njava -cp build/classes/main/java JaJason\r\n```\r\n\r\nAs explained in [the Java command&#39;s help][1] you need to give the name of the main class, not a path to the main class. If your classes don&#39;t live in the current directory (or in their package directory right under the current directory), you need to specify the classpath:\r\n \r\n&gt; --class-path classpath, -classpath classpath, or -cp classpath\r\n&gt;\r\n&gt; [...] If the class path option isn&#39;t used and classpath isn&#39;t set, then the user class path consists of the current directory (.).\r\n\r\nThat said, you can also run a simple `.java` file straight from the command line:\r\n\r\n```shell\r\njava src/JaJson.java\r\n```\r\n\r\nThis is useful to quickly run single-file programs without going through the whole Gradle build cycle.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/13/docs/specs/man/java.html","title":"Gradle : Could not find or load main class","body":"<p>Run as</p>\n<pre class=\"lang-sh prettyprint-override\"><code>java -cp build/classes/main/java JaJason\n</code></pre>\n<p>As explained in <a href=\"https://docs.oracle.com/en/java/javase/13/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">the Java command's help</a> you need to give the name of the main class, not a path to the main class. If your classes don't live in the current directory (or in their package directory right under the current directory), you need to specify the classpath:</p>\n<blockquote>\n<p>--class-path classpath, -classpath classpath, or -cp classpath</p>\n<p>[...] If the class path option isn't used and classpath isn't set, then the user class path consists of the current directory (.).</p>\n</blockquote>\n<p>That said, you can also run a simple <code>.java</code> file straight from the command line:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>java src/JaJson.java\n</code></pre>\n<p>This is useful to quickly run single-file programs without going through the whole Gradle build cycle.</p>\n"}],"owner":{"account_id":210918,"reputation":632,"user_id":462794,"accept_rate":82,"display_name":"Bussiere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69410524,"answer_count":1,"score":2,"last_activity_date":1633112998,"creation_date":1633104079,"question_id":69408840,"body_markdown":"Here is my tree files :\r\n\r\n    src\r\n    --JaJson.java\r\n    build.gradle\r\n\r\n\r\nHere is my JaJson.java:\r\n\r\n\r\n\r\n    public class JaJson {\r\n    \r\n    \tpublic static void main(String args[]) {  \r\n    \tSystem.out.println(&quot;Hello&quot;);  \r\n    \t}  \r\n    \tpublic JaJson(){\r\n    \t\tSystem.out.println(&quot;what time is it ?&quot;);\r\n    \t}\r\n    \r\n    \tpublic void getTime(){\r\n    \t\tSystem.out.println(&quot;Hammer time!&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\nHere is my gradle.build :\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    //apply plugin: &#39;java-library&#39;\r\n    apply plugin: &#39;application&#39;\r\n    \r\n    mainClassName = &quot;JaJson&quot;\r\n    // tag::repositories[]\r\n    repositories { \r\n        mavenCentral() \r\n    }\r\n    // end::repositories[]\r\n    \r\n    java {\r\n        toolchain {\r\n            languageVersion = JavaLanguageVersion.of(11)\r\n        }\r\n    }\r\n    \r\n    \r\n    sourceSets {\r\n        single{\r\n            java {\r\n                srcDir &#39;src&#39;\r\n                \r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    jar {\r\n      manifest {\r\n        attributes(\r\n          &#39;Class-Path&#39;: configurations.compile.collect { it.getName() }.join(&#39; &#39;),\r\n          &#39;Main-Class&#39;: &#39;JaJson&#39;\r\n        )\r\n      }\r\n    }\r\n    task compileSingle(type: JavaCompile) {\r\n        source = sourceSets.single.java\r\n        sourceSets.main.java.srcDirs = [&#39;src&#39;]\r\n        classpath = sourceSets.main.compileClasspath\r\n        destinationDirectory = sourceSets.main.output.classesDirs[0]\r\n    \r\n    }\r\n    compileJava {\r\n        options.release = 7\r\n    }\r\n    \r\n    \r\n    \r\n    version = &#39;1.2.1&#39;\r\n    \r\n    \r\n    // tag::dependencies[]\r\n    dependencies {\r\n        implementation &quot;joda-time:joda-time:2.2&quot;\r\n        testImplementation &quot;junit:junit:4.12&quot;\r\n    }\r\n\r\n\r\nWhen i make a gradle build and a :\r\n\r\n    java -jar build\\libs\\jajson-1.2.1.jar\r\n\r\nIt works fine and print hello \r\n\r\nBut when i try to launch the class only with :\r\n\r\n    java build\\classes\\java\\main\\JaJson.class \r\n\r\nI have a :\r\n\r\n    Impossible to found or load main class for  build\\classes\\java\\main\\JaJson.class \r\n\r\n\r\nAnd before each build i rm the builds folder.\r\n\r\n    rd /s /q build\r\n    gradle build &amp;&amp; java -jar build\\libs\\jajson-1.2.1.jar &amp;&amp; java build\\classes\\java\\main\\JaJson.class \r\n\r\n\r\nregards","title":"Gradle : Could not find or load main class","body":"<p>Here is my tree files :</p>\n<pre><code>src\n--JaJson.java\nbuild.gradle\n</code></pre>\n<p>Here is my JaJson.java:</p>\n<pre><code>public class JaJson {\n\n    public static void main(String args[]) {  \n    System.out.println(&quot;Hello&quot;);  \n    }  \n    public JaJson(){\n        System.out.println(&quot;what time is it ?&quot;);\n    }\n\n    public void getTime(){\n        System.out.println(&quot;Hammer time!&quot;);\n    }\n}\n</code></pre>\n<p>Here is my gradle.build :</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'eclipse'\n//apply plugin: 'java-library'\napply plugin: 'application'\n\nmainClassName = &quot;JaJson&quot;\n// tag::repositories[]\nrepositories { \n    mavenCentral() \n}\n// end::repositories[]\n\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(11)\n    }\n}\n\n\nsourceSets {\n    single{\n        java {\n            srcDir 'src'\n            \n        }\n    }\n}\n\n\njar {\n  manifest {\n    attributes(\n      'Class-Path': configurations.compile.collect { it.getName() }.join(' '),\n      'Main-Class': 'JaJson'\n    )\n  }\n}\ntask compileSingle(type: JavaCompile) {\n    source = sourceSets.single.java\n    sourceSets.main.java.srcDirs = ['src']\n    classpath = sourceSets.main.compileClasspath\n    destinationDirectory = sourceSets.main.output.classesDirs[0]\n\n}\ncompileJava {\n    options.release = 7\n}\n\n\n\nversion = '1.2.1'\n\n\n// tag::dependencies[]\ndependencies {\n    implementation &quot;joda-time:joda-time:2.2&quot;\n    testImplementation &quot;junit:junit:4.12&quot;\n}\n</code></pre>\n<p>When i make a gradle build and a :</p>\n<pre><code>java -jar build\\libs\\jajson-1.2.1.jar\n</code></pre>\n<p>It works fine and print hello</p>\n<p>But when i try to launch the class only with :</p>\n<pre><code>java build\\classes\\java\\main\\JaJson.class \n</code></pre>\n<p>I have a :</p>\n<pre><code>Impossible to found or load main class for  build\\classes\\java\\main\\JaJson.class \n</code></pre>\n<p>And before each build i rm the builds folder.</p>\n<pre><code>rd /s /q build\ngradle build &amp;&amp; java -jar build\\libs\\jajson-1.2.1.jar &amp;&amp; java build\\classes\\java\\main\\JaJson.class \n</code></pre>\n<p>regards</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":15,"creation_date":1529334612,"post_id":50912535,"comment_id":88825121,"body_markdown":"Prety obvious: How else would `e &gt; 0` ever become false if it is true at least once?","body":"Prety obvious: How else would <code>e &gt; 0</code> ever become false if it is true at least once?"},{"owner":{"display_name":"user177800"},"score":3,"creation_date":1529334903,"post_id":50912535,"comment_id":88825327,"body_markdown":"[What does your step debugger tell you?](http://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems). Your question can be answered very quickly and easily with your step-debugger. You should always try and solve your problems with a step debugger before coming to StackOverflow.","body":"<a href=\"http://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What does your step debugger tell you?</a>. Your question can be answered very quickly and easily with your step-debugger. You should always try and solve your problems with a step debugger before coming to StackOverflow."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1529334976,"post_id":50912535,"comment_id":88825380,"body_markdown":"*&quot;Wouldn&#39;t the code automatically break on the 9th time&quot;* - How would it ever *reach* a &quot;9th time&quot;?  Reduce the complexity of what you&#39;re asking to specifically the `while` loop.  If you remove the decrement line, what would ever cause that `while` loop to exit?","body":"<i>&quot;Wouldn&#39;t the code automatically break on the 9th time&quot;</i> - How would it ever <i>reach</i> a &quot;9th time&quot;?  Reduce the complexity of what you&#39;re asking to specifically the <code>while</code> loop.  If you remove the decrement line, what would ever cause that <code>while</code> loop to exit?"},{"owner":{"account_id":13377680,"reputation":35,"user_id":9654069,"display_name":"BradleyPeh"},"score":0,"creation_date":1529335022,"post_id":50912535,"comment_id":88825406,"body_markdown":"So e--; is just there to break the loop ? I know its infinite because e &gt; 0 is always true in this statement, But why is e  continuously reduced to zero immediately from 9 to 8 to 7 etc.... in this decrement ? Isnt the -- operator suppose to decrease slowly by 1","body":"So e--; is just there to break the loop ? I know its infinite because e &gt; 0 is always true in this statement, But why is e  continuously reduced to zero immediately from 9 to 8 to 7 etc.... in this decrement ? Isnt the -- operator suppose to decrease slowly by 1"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1529335024,"post_id":50912535,"comment_id":88825407,"body_markdown":"in doubt, add print","body":"in doubt, add print"},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":3,"creation_date":1529335098,"post_id":50912535,"comment_id":88825455,"body_markdown":"@BradleyPeh: When you step through this code in your debugger and observe the runtime behavior, at what point does a specific operation produce an unexpected result?  What operation was it?  What were the inputs?  What result did you expect?  Why?  (Basically, stop guessing and start debugging.)","body":"@BradleyPeh: When you step through this code in your debugger and observe the runtime behavior, at what point does a specific operation produce an unexpected result?  What operation was it?  What were the inputs?  What result did you expect?  Why?  (Basically, stop guessing and start debugging.)"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1529335267,"post_id":50912535,"comment_id":88825571,"body_markdown":"Erm, I&#39;m not sure we are using the same vocabulary here, but where I&#39;m from going &quot;from 9 to 8 to 7 etc.&quot; is calles decreasing by 1 in each step. Not sure what you mean by &quot;slowly&quot;. If you decrease something by 1 you decrease it by 1... there is no &quot;slow&quot; or &quot;fast&quot; decreasing by 1.","body":"Erm, I&#39;m not sure we are using the same vocabulary here, but where I&#39;m from going &quot;from 9 to 8 to 7 etc.&quot; is calles decreasing by 1 in each step. Not sure what you mean by &quot;slowly&quot;. If you decrease something by 1 you decrease it by 1... there is no &quot;slow&quot; or &quot;fast&quot; decreasing by 1."}],"answers":[{"tags":[],"owner":{"account_id":12047298,"reputation":142,"user_id":8811807,"display_name":"inspired_learner"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1529336252,"creation_date":1529335028,"answer_id":50912677,"question_id":50912535,"body_markdown":"    for(int i = 0; i &lt; 10; i++) {\r\n         result = 1;\r\n         e = i;\r\n         while(e &gt; 0) {\r\n           result *= 2;\r\n            e--;\r\n         }\r\n    }\r\n\r\n`e` is decremented so that at every instance the value of `e` is brought down to end the while loop, else it will be an infinite loop as `i` is getting incremented.\r\nSo at the second iteration, `i = 1, e = i =&gt; e = 1`, making the inner while loop always true, as 1 &gt; 0. Therefore the inner `e--` is important to bring it down to break out of the loop.\r\n\r\nTo fix this you could make the inside while loop a for loop and decrement `e` there if that makes it clearer for you. Also, I would suggest having a better variable than `e`. Good coding habits are important to inculcate early on. ","title":"Why does this loop require a decrement?","body":"<pre><code>for(int i = 0; i &lt; 10; i++) {\n     result = 1;\n     e = i;\n     while(e &gt; 0) {\n       result *= 2;\n        e--;\n     }\n}\n</code></pre>\n\n<p><code>e</code> is decremented so that at every instance the value of <code>e</code> is brought down to end the while loop, else it will be an infinite loop as <code>i</code> is getting incremented.\nSo at the second iteration, <code>i = 1, e = i =&gt; e = 1</code>, making the inner while loop always true, as 1 > 0. Therefore the inner <code>e--</code> is important to bring it down to break out of the loop.</p>\n\n<p>To fix this you could make the inside while loop a for loop and decrement <code>e</code> there if that makes it clearer for you. Also, I would suggest having a better variable than <code>e</code>. Good coding habits are important to inculcate early on. </p>\n"},{"tags":[],"owner":{"account_id":13669455,"reputation":5,"user_id":9862418,"display_name":"Kishan Chaurasiya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1633112693,"creation_date":1529335051,"answer_id":50912682,"question_id":50912535,"body_markdown":"Look every `i` is assigning value to e like \r\n\r\n    i=1 then e=1\r\n    i=2 then e=2\r\n\r\n........\r\n\r\nSo if you will not decrease the value of e  while loop will run infinite.\r\n\r\nExample if if  i=3 then e=3 so while loop will run infinite if we will not add decrement\r\n\r\nit is like nested loop\r\n\r\n      for(int i = 0; i &lt; 10; i++)\r\n      {\r\n          result = 1;\r\n\r\n          for (int e = i; e &gt; 0;)\r\n          {\r\n               result *= 2;\r\n          }\r\n      }\r\n\r\nSo answer is \r\n\r\n    for (int i = 0; i &lt; 10; i++)\r\n    {\r\n        result = 1;\r\n\r\n        for (int e = i; e &gt; 0; e--)\r\n        {\r\n           result *= 2;\r\n        }\r\n    }\r\n","title":"Why does this loop require a decrement?","body":"<p>Look every <code>i</code> is assigning value to e like</p>\n<pre><code>i=1 then e=1\ni=2 then e=2\n</code></pre>\n<p>........</p>\n<p>So if you will not decrease the value of e  while loop will run infinite.</p>\n<p>Example if if  i=3 then e=3 so while loop will run infinite if we will not add decrement</p>\n<p>it is like nested loop</p>\n<pre><code>  for(int i = 0; i &lt; 10; i++)\n  {\n      result = 1;\n\n      for (int e = i; e &gt; 0;)\n      {\n           result *= 2;\n      }\n  }\n</code></pre>\n<p>So answer is</p>\n<pre><code>for (int i = 0; i &lt; 10; i++)\n{\n    result = 1;\n\n    for (int e = i; e &gt; 0; e--)\n    {\n       result *= 2;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1529335153,"creation_date":1529335153,"answer_id":50912716,"question_id":50912535,"body_markdown":"Simply look at the inner `while-loop`:\r\n\r\n     while(e &gt; 0) {\r\n       result *= 2;\r\n        e--;\r\n     }\r\nThe breaking condition is when `e` is not more than zero. Since `e` starts as a positive number, you have to decrease it for it to ever not be greater than zero. It&#39;s equivalent to:\r\n\r\n    for(int j = 0; j &lt; i; j++) {\r\n       result *= 2;\r\n    }    ","title":"Why does this loop require a decrement?","body":"<p>Simply look at the inner <code>while-loop</code>:</p>\n\n<pre><code> while(e &gt; 0) {\n   result *= 2;\n    e--;\n }\n</code></pre>\n\n<p>The breaking condition is when <code>e</code> is not more than zero. Since <code>e</code> starts as a positive number, you have to decrease it for it to ever not be greater than zero. It's equivalent to:</p>\n\n<pre><code>for(int j = 0; j &lt; i; j++) {\n   result *= 2;\n}    \n</code></pre>\n"}],"owner":{"account_id":13377680,"reputation":35,"user_id":9654069,"display_name":"BradleyPeh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1529335235,"accepted_answer_id":50912677,"answer_count":3,"score":-1,"last_activity_date":1633112693,"creation_date":1529334539,"question_id":50912535,"body_markdown":"    class Testing {\r\n     public static void main(String args[]) {\r\n   \r\n       int e;\r\n       int result;\r\n   \r\n       for(int i = 0; i &lt; 10; i++) {\r\n         result = 1;\r\n         e = i;\r\n         while(e &gt; 0) {\r\n           result *= 2;\r\n            e--;\r\n         }\r\n\r\n         System.out.println(&quot;2 to the &quot; + i + &quot; power is &quot; + result);\r\n       }\r\n     }\r\n\r\nThe above code tests the integer power of 2 from 0 to 9. I&#39;m confused as to why `e--;` is required in the while loop? Removing it causes an infinite loop error, but why? Wouldn&#39;t the code automatically break on the 9th time considering `e = i` and `i` already having a limit to be less than 10?\r\n\r\nI would appreciate a simple/beginner explanation.","title":"Why does this loop require a decrement?","body":"<pre><code>class Testing {\n public static void main(String args[]) {\n\n   int e;\n   int result;\n\n   for(int i = 0; i &lt; 10; i++) {\n     result = 1;\n     e = i;\n     while(e &gt; 0) {\n       result *= 2;\n        e--;\n     }\n\n     System.out.println(\"2 to the \" + i + \" power is \" + result);\n   }\n }\n</code></pre>\n\n<p>The above code tests the integer power of 2 from 0 to 9. I'm confused as to why <code>e--;</code> is required in the while loop? Removing it causes an infinite loop error, but why? Wouldn't the code automatically break on the 9th time considering <code>e = i</code> and <code>i</code> already having a limit to be less than 10?</p>\n\n<p>I would appreciate a simple/beginner explanation.</p>\n"},{"tags":["java","exception","preconditions"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1633111904,"post_id":69410268,"comment_id":122682536,"body_markdown":"I&#39;m not sure I understand the issue. A checked exception will be documented; anything that uses a function that throws a checked exception will either try/catch it, or declare that it&#39;s re-thrown--that&#39;s just how checked exceptions work. Runtime exceptions do not have this restriction. There&#39;s nothing &quot;contrary&quot; about #4 other than it means your function could be called with invalid arguments--that&#39;s the same in all languages, whether or not it makes *sense* is context-dependent.","body":"I&#39;m not sure I understand the issue. A checked exception will be documented; anything that uses a function that throws a checked exception will either try/catch it, or declare that it&#39;s re-thrown--that&#39;s just how checked exceptions work. Runtime exceptions do not have this restriction. There&#39;s nothing &quot;contrary&quot; about #4 other than it means your function could be called with invalid arguments--that&#39;s the same in all languages, whether or not it makes <i>sense</i> is context-dependent."},{"owner":{"account_id":20749731,"reputation":510,"user_id":15237549,"display_name":"Captain Hatteras"},"score":0,"creation_date":1633112604,"post_id":69410268,"comment_id":122682725,"body_markdown":"I am relatively new to java, so sorry if I am making an issue out of nothing. Let me rephrase. I am making a function call with arguments that I know will never throw an exception. Do I still have to use a try catch block or a throws declaration when I am making this function call, or can I avoid using redundant code for a specific function call?","body":"I am relatively new to java, so sorry if I am making an issue out of nothing. Let me rephrase. I am making a function call with arguments that I know will never throw an exception. Do I still have to use a try catch block or a throws declaration when I am making this function call, or can I avoid using redundant code for a specific function call?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1633112662,"post_id":69410268,"comment_id":122682744,"body_markdown":"Why not use the unchecked `IllegalArgumentException`?","body":"Why not use the unchecked <code>IllegalArgumentException</code>?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1633115347,"post_id":69410268,"comment_id":122683562,"body_markdown":"Option 2 is the best choice.  Any time you aren’t sure what do to with an exception, propagate it, and make the calling code decide what should be done.","body":"Option 2 is the best choice.  Any time you aren’t sure what do to with an exception, propagate it, and make the calling code decide what should be done."}],"answers":[{"tags":[],"owner":{"account_id":7102942,"reputation":363,"user_id":5433713,"display_name":"Pavlo Stepura"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633112657,"creation_date":1633112657,"answer_id":69410457,"question_id":69410268,"body_markdown":"It really depends on the context You are working with.\r\n\r\nIf You want the code to stop executing at the moment the Exception is thrown, You could use Runtime exceptions, You don&#39;t have to catch them.\r\n\r\nThe good use case would be a REST endpoint. If something goes wrong during the computation of the response, we could throw `ResponseStatusException` - the Runtime exception which would immedeately return the Http Response Error to the client and stop any further execution of the code.\r\n\r\n\r\nIn contrary, if You have a logic which has to be executed even if the exception was thrown, the best way would be to use try - catch blocks, or to add throws statement to the method declaration and try - catch in parent method.","title":"Java: Is There Any Way to Specify When an Exception Will be Thrown?","body":"<p>It really depends on the context You are working with.</p>\n<p>If You want the code to stop executing at the moment the Exception is thrown, You could use Runtime exceptions, You don't have to catch them.</p>\n<p>The good use case would be a REST endpoint. If something goes wrong during the computation of the response, we could throw <code>ResponseStatusException</code> - the Runtime exception which would immedeately return the Http Response Error to the client and stop any further execution of the code.</p>\n<p>In contrary, if You have a logic which has to be executed even if the exception was thrown, the best way would be to use try - catch blocks, or to add throws statement to the method declaration and try - catch in parent method.</p>\n"}],"owner":{"account_id":20749731,"reputation":510,"user_id":15237549,"display_name":"Captain Hatteras"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69410457,"answer_count":1,"score":0,"last_activity_date":1633112657,"creation_date":1633111497,"question_id":69410268,"body_markdown":"I have code something like this pseudo code:\r\n\r\n    void doSomething(int data) throws Exception{\r\n        if(data &lt; 10) throw new Exception(&quot;Exception thrown&quot;); // throws an exception based on a condition\r\n        else { ... } // logic goes here\r\n    }\r\nWhen I try to call doSomething in the main function, it give me an error:\r\n\r\n    public static void main(){\r\n        doSomething(11); // Error! unreported exception \r\n    }\r\n[Here][1] is a link to the previous example.\r\n\r\nSo I have to do one of the following:\r\n\r\n 1. Add a try catch block around every doSomething call \r\n 2. Add a throws statement in main\r\n 3. Get rid of the throws statement in doSomething\r\n 4. Make the condition a precondition, so that not following it results in undefined behavior or something similar.\r\n\r\n\r\n3 will not work, because doSomething may throw an exception when a client is using it. \r\n1 and 2 are simply redundant, and I think they should be avoided.\r\n\r\nFinally, 4 is the most appealing to me (being primarily a C++ coder) but runs contrary to Java programming.\r\n\r\n**My question is: What is the best way out of the mentioned options (or any other options), and what is the best way to implement it?**  \r\n\r\n\r\n  [1]: https://onlinegdb.com/7ZKV_SJ56","title":"Java: Is There Any Way to Specify When an Exception Will be Thrown?","body":"<p>I have code something like this pseudo code:</p>\n<pre><code>void doSomething(int data) throws Exception{\n    if(data &lt; 10) throw new Exception(&quot;Exception thrown&quot;); // throws an exception based on a condition\n    else { ... } // logic goes here\n}\n</code></pre>\n<p>When I try to call doSomething in the main function, it give me an error:</p>\n<pre><code>public static void main(){\n    doSomething(11); // Error! unreported exception \n}\n</code></pre>\n<p><a href=\"https://onlinegdb.com/7ZKV_SJ56\" rel=\"nofollow noreferrer\">Here</a> is a link to the previous example.</p>\n<p>So I have to do one of the following:</p>\n<ol>\n<li>Add a try catch block around every doSomething call</li>\n<li>Add a throws statement in main</li>\n<li>Get rid of the throws statement in doSomething</li>\n<li>Make the condition a precondition, so that not following it results in undefined behavior or something similar.</li>\n</ol>\n<p>3 will not work, because doSomething may throw an exception when a client is using it.\n1 and 2 are simply redundant, and I think they should be avoided.</p>\n<p>Finally, 4 is the most appealing to me (being primarily a C++ coder) but runs contrary to Java programming.</p>\n<p><strong>My question is: What is the best way out of the mentioned options (or any other options), and what is the best way to implement it?</strong></p>\n"},{"tags":["java","gradle","jacoco"],"comments":[{"owner":{"account_id":1754186,"reputation":1964,"user_id":1602587,"accept_rate":77,"display_name":"Andy"},"score":0,"creation_date":1494492636,"post_id":43910588,"comment_id":74854622,"body_markdown":"You are talking about putting _&quot;our classes which were **generated** from an XML&quot;_ into the jacoco-report. Usually, you want to _exclude_ generated classes from all kind of code analysis, because if it&#39;s generated you can&#39;t change anything even if coverage is low. And: generated classes usually are just data-containers, and don&#39;t provide any logic - testing (and calculating coverage from) getters/setters is not of much use.","body":"You are talking about putting <i>&quot;our classes which were <b>generated</b> from an XML&quot;</i> into the jacoco-report. Usually, you want to <i>exclude</i> generated classes from all kind of code analysis, because if it&#39;s generated you can&#39;t change anything even if coverage is low. And: generated classes usually are just data-containers, and don&#39;t provide any logic - testing (and calculating coverage from) getters/setters is not of much use."},{"owner":{"account_id":6477621,"reputation":131,"user_id":7490226,"accept_rate":100,"display_name":"Vincent Wagner"},"score":0,"creation_date":1494494624,"post_id":43910588,"comment_id":74856096,"body_markdown":"That&#39;s right that data classes don&#39;t needed to be tested. But the requirement for this problem is a little bit different. We need to validate that all our tests are using the setter Methods of these data containers. With that we want to validate that we didn&#39;t forget to set any fields in the mapper classes.","body":"That&#39;s right that data classes don&#39;t needed to be tested. But the requirement for this problem is a little bit different. We need to validate that all our tests are using the setter Methods of these data containers. With that we want to validate that we didn&#39;t forget to set any fields in the mapper classes."}],"answers":[{"tags":[],"owner":{"account_id":6477621,"reputation":131,"user_id":7490226,"accept_rate":100,"display_name":"Vincent Wagner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1494835211,"creation_date":1494835211,"answer_id":43974198,"question_id":43910588,"body_markdown":"Found it by myself. Problem was, you need to specify the path the the classes too.\r\n\r\nI unzipped the jars into the build folder and added additionalClassDirs and additionalSourceDirs to the report job.\r\n\r\nThis is the buildfile.\r\n\r\n    configurations {\r\n        externalClasses \r\n        externalSources\r\n    }\r\n    \r\n    dependencies {\r\n        externalClasses &quot;externalpackage:externalpackage-model:0.0.8@jar&quot;\r\n        externalSources &quot;externalpackage:externalpackage-model:0.0.8:sources@jar&quot;        \r\n        ...\r\n    }\r\n    \r\n    buildscript {\r\n    ... \r\n        dependencies {\r\n        ...     \r\n            classpath &#39;externalpackage:externalpackage-model&#39;\r\n        ...\r\n        }   \r\n    }\r\n\r\n    compile(&#39;externalpackage:externalpackage-model:0.0.8&#39;)  \r\n    testCompile(&#39;externalpackage:externalpackage-model:tests@jar&#39;)\r\n    testCompile(&#39;externalpackage:externalpackage-model:0.0.8:sources@jar&#39;)\r\n    \r\n    jacoco {\r\n        toolVersion = &quot;0.7.6.201602180812&quot;\r\n        reportsDir = file(&quot;$buildDir/customJacocoReportDir&quot;)\r\n    }\r\n    \r\n    task unzipExternalModel(type: Copy){\r\n        from zipTree(configurations.externalSources.files.first())\r\n        into &quot;$buildDir/tmp/externalSources&quot;\r\n        from zipTree(configurations.externalClasses.files.first())\r\n        into &quot;$buildDir/tmp/externalClasses&quot;\r\n    }\r\n    \r\n    jacocoTestReport {\r\n        dependsOn unzipExternalModel\r\n        reports {\r\n            xml.enabled true\r\n            csv.enabled true\r\n            html.enabled true\r\n            html.destination &quot;${buildDir}/jacocoHtml&quot;        \r\n        }   \r\n        additionalSourceDirs = files(&quot;$buildDir/tmp/externalSources&quot;)\r\n        additionalClassDirs = files(&quot;$buildDir/tmp/externalClasses&quot;) \r\n    }","title":"Show external sources from jar package in jacoco report","body":"<p>Found it by myself. Problem was, you need to specify the path the the classes too.</p>\n\n<p>I unzipped the jars into the build folder and added additionalClassDirs and additionalSourceDirs to the report job.</p>\n\n<p>This is the buildfile.</p>\n\n<pre><code>configurations {\n    externalClasses \n    externalSources\n}\n\ndependencies {\n    externalClasses \"externalpackage:externalpackage-model:0.0.8@jar\"\n    externalSources \"externalpackage:externalpackage-model:0.0.8:sources@jar\"        \n    ...\n}\n\nbuildscript {\n... \n    dependencies {\n    ...     \n        classpath 'externalpackage:externalpackage-model'\n    ...\n    }   \n}\n\ncompile('externalpackage:externalpackage-model:0.0.8')  \ntestCompile('externalpackage:externalpackage-model:tests@jar')\ntestCompile('externalpackage:externalpackage-model:0.0.8:sources@jar')\n\njacoco {\n    toolVersion = \"0.7.6.201602180812\"\n    reportsDir = file(\"$buildDir/customJacocoReportDir\")\n}\n\ntask unzipExternalModel(type: Copy){\n    from zipTree(configurations.externalSources.files.first())\n    into \"$buildDir/tmp/externalSources\"\n    from zipTree(configurations.externalClasses.files.first())\n    into \"$buildDir/tmp/externalClasses\"\n}\n\njacocoTestReport {\n    dependsOn unzipExternalModel\n    reports {\n        xml.enabled true\n        csv.enabled true\n        html.enabled true\n        html.destination \"${buildDir}/jacocoHtml\"        \n    }   \n    additionalSourceDirs = files(\"$buildDir/tmp/externalSources\")\n    additionalClassDirs = files(\"$buildDir/tmp/externalClasses\") \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":916182,"reputation":2081,"user_id":948938,"display_name":"Juan Ignacio Barisich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633112586,"creation_date":1633112586,"answer_id":69410446,"question_id":43910588,"body_markdown":"Just for the record, using 7.1.1, this code (inpired on the Vincent&#39;s) works:\r\n```\r\ntest {\r\n\tuseJUnitPlatform()\r\n\tfinalizedBy jacocoTestReport\r\n\tjacoco {\r\n\t\tincludes = [&quot;com.mycompany.**&quot;]\r\n\t\tincludeNoLocationClasses true\r\n\t}\r\n}\r\n\r\ntask unzipLibrariesJar(type: Copy){\r\n\tinto &quot;$buildDir/tmp/libClasses&quot;\r\n\tfrom {\r\n\t\tconfigurations.runtimeClasspath\r\n\t\t\t.filter { it.path.contains(&quot;mycompany&quot;) }\r\n\t\t\t.collect {zipTree(it) }\r\n\t}\r\n\tduplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n}\r\n\r\ntask unzipLibrariesSrc(type: Copy){\r\n\tinto &quot;$buildDir/tmp/libSources&quot;\r\n\tfrom {\r\n\t\tconfigurations.runtimeClasspath\r\n\t\t\t\t.filter { it.path.contains(&quot;mycompany&quot;) &amp;&amp;  new File(it.getPath().replace(&quot;.jar&quot;, &quot;-sources.jar&quot;)).exists() }\r\n\t\t\t\t.collect { new File(it.getPath().replace(&quot;.jar&quot;, &quot;-sources.jar&quot;)) }\r\n\t\t\t\t.collect { zipTree(it) }\r\n\t}\r\n\tduplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n}\r\n\r\njacocoTestReport {\r\n\tdependsOn test\r\n\tdependsOn unzipLibrariesJar\r\n\tdependsOn unzipLibrariesSrc\r\n\treports {\r\n\t\thtml.enabled true\r\n\t}\r\n\tadditionalClassDirs.from = files(&quot;$buildDir/tmp/libClasses&quot;)\r\n\tadditionalSourceDirs.from = files(&quot;$buildDir/tmp/libSources&quot;)\r\n}\r\n```\r\nNote that, I am only interested on the logs from all classes of &quot;com.mycompany&quot; package. You should change this according to your requirements.","title":"Show external sources from jar package in jacoco report","body":"<p>Just for the record, using 7.1.1, this code (inpired on the Vincent's) works:</p>\n<pre><code>test {\n    useJUnitPlatform()\n    finalizedBy jacocoTestReport\n    jacoco {\n        includes = [&quot;com.mycompany.**&quot;]\n        includeNoLocationClasses true\n    }\n}\n\ntask unzipLibrariesJar(type: Copy){\n    into &quot;$buildDir/tmp/libClasses&quot;\n    from {\n        configurations.runtimeClasspath\n            .filter { it.path.contains(&quot;mycompany&quot;) }\n            .collect {zipTree(it) }\n    }\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n}\n\ntask unzipLibrariesSrc(type: Copy){\n    into &quot;$buildDir/tmp/libSources&quot;\n    from {\n        configurations.runtimeClasspath\n                .filter { it.path.contains(&quot;mycompany&quot;) &amp;&amp;  new File(it.getPath().replace(&quot;.jar&quot;, &quot;-sources.jar&quot;)).exists() }\n                .collect { new File(it.getPath().replace(&quot;.jar&quot;, &quot;-sources.jar&quot;)) }\n                .collect { zipTree(it) }\n    }\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n}\n\njacocoTestReport {\n    dependsOn test\n    dependsOn unzipLibrariesJar\n    dependsOn unzipLibrariesSrc\n    reports {\n        html.enabled true\n    }\n    additionalClassDirs.from = files(&quot;$buildDir/tmp/libClasses&quot;)\n    additionalSourceDirs.from = files(&quot;$buildDir/tmp/libSources&quot;)\n}\n</code></pre>\n<p>Note that, I am only interested on the logs from all classes of &quot;com.mycompany&quot; package. You should change this according to your requirements.</p>\n"}],"owner":{"account_id":6477621,"reputation":131,"user_id":7490226,"accept_rate":100,"display_name":"Vincent Wagner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43974198,"answer_count":2,"score":1,"last_activity_date":1633112586,"creation_date":1494492198,"question_id":43910588,"body_markdown":"We use in our java project jacoco with the gradle-plugin to calculate the coverage.\r\nThe problem is we put our classes which were generated from an XML in an extra project and resolved it as a dependency. We want the codecoverage of these model classes too to analyze it. To check if we used all setter methods of the datacontainers in our mapper classes. Do the code coverage in the model project is not an option.\r\n\r\nCurrently jacoco only shows in the report (html/xml/csv) only our classes which is in the main project but not the classes of external jars. The jacoco session contains the coverage data when I load it with eclipse or intellij.\r\n\r\n\r\n    buildscript {\r\n    ...\t\r\n\t    dependencies {\r\n        ...\t\t\r\n            classpath &#39;externalpackage:externalpackage-model&#39;\r\n        ...\r\n\t    }\t\r\n    }\r\n\r\n    compile(&#39;externalpackage:externalpackage-model:0.0.8&#39;)\t\r\n\ttestCompile(&#39;externalpackage:externalpackage-model:tests@jar&#39;)\r\n\ttestCompile(&#39;externalpackage:externalpackage-model:0.0.8:sources@jar&#39;)\r\n\r\n    jacoco {\r\n        toolVersion = &quot;0.7.6.201602180812&quot;\r\n        reportsDir = file(&quot;$buildDir/customJacocoReportDir&quot;)\r\n    }\r\n    jacocoTestReport {\r\n        reports {\r\n            xml.enabled true\r\n            csv.enabled true\r\n            html.enabled true\r\n            html.destination &quot;${buildDir}/jacocoHtml&quot;        \r\n    }   \r\n\r\n    additionalSourceDirs files(&#39;externalpackage:externalpagage:0.0.8:sources@jar&#39;)\r\n    //Doesn&#39;t work either\r\n    //additionalSourceDirs files(&#39;C:/Users/sero/Downloads/test/externalpackage-0.0.8-sources&#39;)\r\n    //additionalSourceDirs = files(&#39;C:/Users/sero/Downloads/test/externalpackage-0.0.8-sources/de/mycompany/.../MyModelClasses.java&#39;)\r\n    }\r\n\r\nThe jar source package is like this:\r\n(root)/de/mycompany/.../MyModelClasses.java\r\n\r\n\r\nMaybe someone has an idea\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Show external sources from jar package in jacoco report","body":"<p>We use in our java project jacoco with the gradle-plugin to calculate the coverage.\nThe problem is we put our classes which were generated from an XML in an extra project and resolved it as a dependency. We want the codecoverage of these model classes too to analyze it. To check if we used all setter methods of the datacontainers in our mapper classes. Do the code coverage in the model project is not an option.</p>\n\n<p>Currently jacoco only shows in the report (html/xml/csv) only our classes which is in the main project but not the classes of external jars. The jacoco session contains the coverage data when I load it with eclipse or intellij.</p>\n\n<pre><code>buildscript {\n... \n    dependencies {\n    ...     \n        classpath 'externalpackage:externalpackage-model'\n    ...\n    }   \n}\n\ncompile('externalpackage:externalpackage-model:0.0.8')  \ntestCompile('externalpackage:externalpackage-model:tests@jar')\ntestCompile('externalpackage:externalpackage-model:0.0.8:sources@jar')\n\njacoco {\n    toolVersion = \"0.7.6.201602180812\"\n    reportsDir = file(\"$buildDir/customJacocoReportDir\")\n}\njacocoTestReport {\n    reports {\n        xml.enabled true\n        csv.enabled true\n        html.enabled true\n        html.destination \"${buildDir}/jacocoHtml\"        \n}   \n\nadditionalSourceDirs files('externalpackage:externalpagage:0.0.8:sources@jar')\n//Doesn't work either\n//additionalSourceDirs files('C:/Users/sero/Downloads/test/externalpackage-0.0.8-sources')\n//additionalSourceDirs = files('C:/Users/sero/Downloads/test/externalpackage-0.0.8-sources/de/mycompany/.../MyModelClasses.java')\n}\n</code></pre>\n\n<p>The jar source package is like this:\n(root)/de/mycompany/.../MyModelClasses.java</p>\n\n<p>Maybe someone has an idea</p>\n"},{"tags":["java","maven","jsch"],"comments":[{"owner":{"account_id":81793,"reputation":1032,"user_id":230452,"display_name":"Mykel Alvis"},"score":0,"creation_date":1464386433,"post_id":37490666,"comment_id":62481994,"body_markdown":"Not quite enough data to help with this.  Are you trying to compile the Jsch code? (per &quot;Jsch was not compiling using maven&quot;) or something that depends on it (per the exception)","body":"Not quite enough data to help with this.  Are you trying to compile the Jsch code? (per &quot;Jsch was not compiling using maven&quot;) or something that depends on it (per the exception)"},{"owner":{"account_id":8513744,"reputation":1176,"user_id":6382969,"accept_rate":31,"display_name":"PHcoDer"},"score":0,"creation_date":1464393952,"post_id":37490666,"comment_id":62483936,"body_markdown":"@MykelAlvis edited the question.","body":"@MykelAlvis edited the question."},{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1464436669,"post_id":37490666,"comment_id":62492331,"body_markdown":"The JSCH jar file (and its dependencies) has to be present at runtime. This may mean that you need to install the jar into your runtime environment, or running java with the correct command-line arguments to find the jar. It&#39;s difficult to be specific without knowing what kind of application this is and how it&#39;s being run.","body":"The JSCH jar file (and its dependencies) has to be present at runtime. This may mean that you need to install the jar into your runtime environment, or running java with the correct command-line arguments to find the jar. It&#39;s difficult to be specific without knowing what kind of application this is and how it&#39;s being run."},{"owner":{"account_id":8513744,"reputation":1176,"user_id":6382969,"accept_rate":31,"display_name":"PHcoDer"},"score":0,"creation_date":1464444985,"post_id":37490666,"comment_id":62495018,"body_markdown":"@Kenster Thanks. Seems like I am missing something. I have started using maven and java recently. If we need to have the JScH jar file to be present in run time. Then whats the point of giving an online repository link in pom file? Doesn&#39;t the compiler fetches desired things online and stores them appropriately?","body":"@Kenster Thanks. Seems like I am missing something. I have started using maven and java recently. If we need to have the JScH jar file to be present in run time. Then whats the point of giving an online repository link in pom file? Doesn&#39;t the compiler fetches desired things online and stores them appropriately?"}],"answers":[{"tags":[],"owner":{"account_id":20747067,"reputation":9,"user_id":15279082,"display_name":"Renan21_"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1633112509,"creation_date":1633029933,"answer_id":69397866,"question_id":37490666,"body_markdown":"I was having the same issue, but adding the *maven-shade-plugin* build on *pom.xml* resolve my problem.\r\n      \r\n    &lt;project&gt;\r\n       ...\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt; \r\n\r\n\r\nFound the solution in [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16591589/error-when-trying-to-run-packaged-jar-maven","title":"maven com/jcraft/jsch/JSch not found error. Even after including http://jsch.sf.net/maven2/","body":"<p>I was having the same issue, but adding the <em>maven-shade-plugin</em> build on <em>pom.xml</em> resolve my problem.</p>\n<pre><code>&lt;project&gt;\n   ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt; \n</code></pre>\n<p>Found the solution in <a href=\"https://stackoverflow.com/questions/16591589/error-when-trying-to-run-packaged-jar-maven\">here</a>.</p>\n"}],"owner":{"account_id":8513744,"reputation":1176,"user_id":6382969,"accept_rate":31,"display_name":"PHcoDer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2026,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1633112509,"creation_date":1464375947,"question_id":37490666,"body_markdown":"Java code using JSch package was not compiling using maven. I found [this][1] solution and as suggested by @flash. I included an additional repository. The code compiles now. However, while execution I still get this error\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/jcraft/jsch/JSchException\r\n\r\n[This][2] shows a solution for similar problem for eclipse. However I don&#39;t know how to solve this with maven. Any help will be appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7572457/whats-wrong-with-jsch-and-maven\r\n  [2]: https://stackoverflow.com/questions/17586339/caused-by-java-lang-classnotfoundexception-com-jcraft-jsch-jschexception","title":"maven com/jcraft/jsch/JSch not found error. Even after including http://jsch.sf.net/maven2/","body":"<p>Java code using JSch package was not compiling using maven. I found <a href=\"https://stackoverflow.com/questions/7572457/whats-wrong-with-jsch-and-maven\">this</a> solution and as suggested by @flash. I included an additional repository. The code compiles now. However, while execution I still get this error</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/jcraft/jsch/JSchException\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/17586339/caused-by-java-lang-classnotfoundexception-com-jcraft-jsch-jschexception\">This</a> shows a solution for similar problem for eclipse. However I don't know how to solve this with maven. Any help will be appreciated.</p>\n"},{"tags":["java","spring","flyway"],"comments":[{"owner":{"account_id":19351493,"reputation":115,"user_id":14148807,"display_name":"Achmad Afriza"},"score":0,"creation_date":1633272955,"post_id":69406329,"comment_id":122710323,"body_markdown":"I tested the configuration on `spring.flyway.sql-migration-prefix: &quot;&quot;` with the same file format as yours and it worked. Could you elaborate more on your resource path, usage, and stack trace?","body":"I tested the configuration on <code>spring.flyway.sql-migration-prefix: &quot;&quot;</code> with the same file format as yours and it worked. Could you elaborate more on your resource path, usage, and stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":19351493,"reputation":115,"user_id":14148807,"display_name":"Achmad Afriza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633099855,"creation_date":1633099855,"answer_id":69407923,"question_id":69406329,"body_markdown":"In this case, Flyway is a Spring managed bean. Your configuration should be `spring.flyway.sql-migration-prefix=V` as described [here](https://flywaydb.org/documentation/concepts/migrations.html#sql-based-migrations).\r\n\r\nCaution, as database migrations are meant to have different prefixes for [versioning](https://flywaydb.org/documentation/configuration/parameters/sqlMigrationPrefix), [undo](https://flywaydb.org/documentation/configuration/parameters/undoSqlMigrationPrefix), and [repeatable](https://flywaydb.org/documentation/configuration/parameters/repeatableSqlMigrationPrefix) migrations. You should also note that entity validation might come from Flyway (from table `flyway_schema_history`), which checks from your script&#39;s checksum, and Hibernate, which checks from your `@Entity` model.","title":"How to remove prefix from Flyway migration name?","body":"<p>In this case, Flyway is a Spring managed bean. Your configuration should be <code>spring.flyway.sql-migration-prefix=V</code> as described <a href=\"https://flywaydb.org/documentation/concepts/migrations.html#sql-based-migrations\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Caution, as database migrations are meant to have different prefixes for <a href=\"https://flywaydb.org/documentation/configuration/parameters/sqlMigrationPrefix\" rel=\"nofollow noreferrer\">versioning</a>, <a href=\"https://flywaydb.org/documentation/configuration/parameters/undoSqlMigrationPrefix\" rel=\"nofollow noreferrer\">undo</a>, and <a href=\"https://flywaydb.org/documentation/configuration/parameters/repeatableSqlMigrationPrefix\" rel=\"nofollow noreferrer\">repeatable</a> migrations. You should also note that entity validation might come from Flyway (from table <code>flyway_schema_history</code>), which checks from your script's checksum, and Hibernate, which checks from your <code>@Entity</code> model.</p>\n"},{"tags":[],"owner":{"account_id":12977358,"reputation":373,"user_id":11766857,"display_name":"Caroline"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633112191,"creation_date":1633112191,"answer_id":69410385,"question_id":69406329,"body_markdown":"I solved the problem adding the following configs to my `application.yml` file:\r\n\r\n```\r\nspring.flyway.sql-migration-prefix: &quot;20&quot;\r\nspring.flyway.sql-migration-separator: &quot;_&quot;\r\n```` \r\nInstead of removing the prefix, I&#39;ve simply replaced it.","title":"How to remove prefix from Flyway migration name?","body":"<p>I solved the problem adding the following configs to my <code>application.yml</code> file:</p>\n<pre><code>spring.flyway.sql-migration-prefix: &quot;20&quot;\nspring.flyway.sql-migration-separator: &quot;_&quot;\n</code></pre>\n<p>Instead of removing the prefix, I've simply replaced it.</p>\n"}],"owner":{"account_id":12977358,"reputation":373,"user_id":11766857,"display_name":"Caroline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":683,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69410385,"answer_count":2,"score":1,"last_activity_date":1633112191,"creation_date":1633093206,"question_id":69406329,"body_markdown":"By default, Flyway searches for migrations that start with &quot;V&quot; in the folder `db/migration`, for example:\r\n`V1_1_0__init_schema.sql`\r\n\r\nHowever, my migrations have the following naming pattern (and I can&#39;t change my migrations name):\r\n`20210902193819451__init_schema.sql`\r\n\r\nHow can I remove the letter &quot;V&quot; from the default behavior of Flyway, so that my migrations can be found?\r\n\r\nI&#39;ve already tried to set the following property in my configurations file:\r\n`spring.flyway.sql-migration-prefix: &quot;&quot;`, but that doesn&#39;t work, and I get the following error:\r\n\r\n&gt; Invocation of init method failed; nested exception is \r\n&gt; org.flywaydb.core.api.exception.FlywayValidateException:  Validate\r\n&gt; failed: Migrations have failed validation\r\n","title":"How to remove prefix from Flyway migration name?","body":"<p>By default, Flyway searches for migrations that start with &quot;V&quot; in the folder <code>db/migration</code>, for example:\n<code>V1_1_0__init_schema.sql</code></p>\n<p>However, my migrations have the following naming pattern (and I can't change my migrations name):\n<code>20210902193819451__init_schema.sql</code></p>\n<p>How can I remove the letter &quot;V&quot; from the default behavior of Flyway, so that my migrations can be found?</p>\n<p>I've already tried to set the following property in my configurations file:\n<code>spring.flyway.sql-migration-prefix: &quot;&quot;</code>, but that doesn't work, and I get the following error:</p>\n<blockquote>\n<p>Invocation of init method failed; nested exception is\norg.flywaydb.core.api.exception.FlywayValidateException:  Validate\nfailed: Migrations have failed validation</p>\n</blockquote>\n"},{"tags":["java","overwrite","fileutils"],"comments":[{"owner":{"account_id":19600489,"reputation":75,"user_id":14345451,"display_name":"rizzanasking"},"score":0,"creation_date":1658499998,"post_id":69408568,"comment_id":129074061,"body_markdown":"Update:\nThis solution provided below worked like a charm.\n-----------------------------------------------\n\nFileFilter oldFilter = fileFilter;\nfileFilter = f -&gt; oldFilter.accept(f) &amp;&amp;\n    !Files.exists(destinationDir.toPath().resolve(\n            sourceDir.toPath().relativize(f.toPath())));","body":"Update: This solution provided below worked like a charm. -----------------------------------------------  FileFilter oldFilter = fileFilter; fileFilter = f -&gt; oldFilter.accept(f) &amp;&amp;     !Files.exists(destinationDir.toPath().resolve(             sourceDir.toPath().relativize(f.toPath())));"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633112007,"creation_date":1633112007,"answer_id":69410351,"question_id":69408568,"body_markdown":"One way is to write it yourself:\r\n\r\n    try (Stream&lt;Path&gt; files = Files.walk(sourceDir.toPath())\r\n        .filter(f -&gt; fileFilter.accept(f.toFile()))) {\r\n\r\n        files.forEach(src -&gt; {\r\n            Path dest = destinationDir.toPath().resolve(\r\n                sourceDir.toPath().relativize(src));\r\n\r\n            if (!Files.exists(dest)) {\r\n                try {\r\n                    if (Files.isDirectory(src)) {\r\n                        Files.createDirectories(dest);\r\n                    } else {\r\n                        Files.copy(src, dest,\r\n                            StandardCopyOption.COPY_ATTRIBUTES);\r\n                    }\r\n                } catch (IOException e) {\r\n                    throw new UncheckedIOException(e);\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\nOr, you could just modify your filter:\r\n\r\n    FileFilter oldFilter = fileFilter;\r\n    fileFilter = f -&gt; oldFilter.accept(f) &amp;&amp;\r\n        !Files.exists(destinationDir.toPath().resolve(\r\n                sourceDir.toPath().relativize(f.toPath())));\r\n","title":"FileUtils: Skips files that are already in destination and copy rest of the files","body":"<p>One way is to write it yourself:</p>\n<pre><code>try (Stream&lt;Path&gt; files = Files.walk(sourceDir.toPath())\n    .filter(f -&gt; fileFilter.accept(f.toFile()))) {\n\n    files.forEach(src -&gt; {\n        Path dest = destinationDir.toPath().resolve(\n            sourceDir.toPath().relativize(src));\n\n        if (!Files.exists(dest)) {\n            try {\n                if (Files.isDirectory(src)) {\n                    Files.createDirectories(dest);\n                } else {\n                    Files.copy(src, dest,\n                        StandardCopyOption.COPY_ATTRIBUTES);\n                }\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n        }\n    })\n}\n</code></pre>\n<p>Or, you could just modify your filter:</p>\n<pre><code>FileFilter oldFilter = fileFilter;\nfileFilter = f -&gt; oldFilter.accept(f) &amp;&amp;\n    !Files.exists(destinationDir.toPath().resolve(\n            sourceDir.toPath().relativize(f.toPath())));\n</code></pre>\n"}],"owner":{"account_id":19600489,"reputation":75,"user_id":14345451,"display_name":"rizzanasking"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69410351,"answer_count":1,"score":2,"last_activity_date":1633112007,"creation_date":1633102783,"question_id":69408568,"body_markdown":"I am using the following method to transfer files between two directories using java.\r\n\r\n    FileUtils.copyDirectory(sourceDir, destinationDir,fileFilter,false);\r\n\r\nBut if a file with the same name is also found in the destination directory, the file from source overwrites it. What I want is to exclude those files which also exist in destination and copy rest of them, ultimately preventing overwriting..","title":"FileUtils: Skips files that are already in destination and copy rest of the files","body":"<p>I am using the following method to transfer files between two directories using java.</p>\n<pre><code>FileUtils.copyDirectory(sourceDir, destinationDir,fileFilter,false);\n</code></pre>\n<p>But if a file with the same name is also found in the destination directory, the file from source overwrites it. What I want is to exclude those files which also exist in destination and copy rest of them, ultimately preventing overwriting..</p>\n"},{"tags":["java","arrays","xml-rpc"],"comments":[{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":2,"creation_date":1633111483,"post_id":69410229,"comment_id":122682399,"body_markdown":"You should start by creating a program in plain old Java (nevermind XML-RPC) that does what you are looking for. Once you have that, then you can add the XML-RPC layer to expose your program","body":"You should start by creating a program in plain old Java (nevermind XML-RPC) that does what you are looking for. Once you have that, then you can add the XML-RPC layer to expose your program"},{"owner":{"account_id":19890861,"reputation":33,"user_id":14572966,"display_name":"erik tapia"},"score":0,"creation_date":1633112365,"post_id":69410229,"comment_id":122682666,"body_markdown":"yes, im starting with that i just mentioned XML-RPC because im not sure how to send the info but the major issue is the rest","body":"yes, im starting with that i just mentioned XML-RPC because im not sure how to send the info but the major issue is the rest"}],"owner":{"account_id":19890861,"reputation":33,"user_id":14572966,"display_name":"erik tapia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633111529,"creation_date":1633111246,"question_id":69410229,"body_markdown":"the number of students is determined by the user by a &quot;do you want to add another student&quot; question, on the client class there must be just the input of the info (name and grades).\r\n\r\nSo far i managed to create a uni dimensional arraylist to set the number of students and their names using this\r\n```\r\nScanner sc = new Scanner(System.in);\r\n        ArrayList&lt;Object&gt; estud = new ArrayList&lt;Object&gt;();\r\n       for (int i = 0; i &lt; 100; i++) {\r\n            String respt = &quot;1&quot;;\r\n            do {\r\n                System.out.println(&quot;ingresa el nombre del estudiante&quot;);//ask for the name\r\n                String nombre = sc.nextLine();\r\n                estud.add(nombre);\r\n                System.out.println(&quot;ingrese 1 para a&#241;adir mas estudiantes o cualquier otra tecla para salir&quot;);\r\n//if the input isnt number 1 breaks the loop and continue with the next\r\n                respt = sc.nextLine();\r\n\r\n                System.out.println(&quot;******&quot;);\r\n            } while (respt.equals(&quot;1&quot;));\r\n            break;\r\n        }\r\n```\r\nBut i cant manage to create a bi dimensional array to add the grades and send it to the XMLRPC server.\r\n\r\nalso i need to verify its working using postman.","title":"java program to calculate the average grades from x number of students using XML-RPC client","body":"<p>the number of students is determined by the user by a &quot;do you want to add another student&quot; question, on the client class there must be just the input of the info (name and grades).</p>\n<p>So far i managed to create a uni dimensional arraylist to set the number of students and their names using this</p>\n<pre><code>Scanner sc = new Scanner(System.in);\n        ArrayList&lt;Object&gt; estud = new ArrayList&lt;Object&gt;();\n       for (int i = 0; i &lt; 100; i++) {\n            String respt = &quot;1&quot;;\n            do {\n                System.out.println(&quot;ingresa el nombre del estudiante&quot;);//ask for the name\n                String nombre = sc.nextLine();\n                estud.add(nombre);\n                System.out.println(&quot;ingrese 1 para añadir mas estudiantes o cualquier otra tecla para salir&quot;);\n//if the input isnt number 1 breaks the loop and continue with the next\n                respt = sc.nextLine();\n\n                System.out.println(&quot;******&quot;);\n            } while (respt.equals(&quot;1&quot;));\n            break;\n        }\n</code></pre>\n<p>But i cant manage to create a bi dimensional array to add the grades and send it to the XMLRPC server.</p>\n<p>also i need to verify its working using postman.</p>\n"},{"tags":["java","properties","header","ibm-mq"],"comments":[{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1633033587,"post_id":69397959,"comment_id":122661427,"body_markdown":"What technique / API are you using to try to read the properties on the consumer side?","body":"What technique / API are you using to try to read the properties on the consumer side?"},{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1633078209,"post_id":69397959,"comment_id":122669415,"body_markdown":"You are already setting WMQ_CLIENT_NONJMS_MQ as the TARGETCLIENT. This ensures messages your applications sends will not have RFH2 headers. What problem are you facing?","body":"You are already setting WMQ_CLIENT_NONJMS_MQ as the TARGETCLIENT. This ensures messages your applications sends will not have RFH2 headers. What problem are you facing?"}],"answers":[{"tags":[],"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633079569,"creation_date":1633079569,"answer_id":69403399,"question_id":69397959,"body_markdown":"This code:-\r\n\r\n    mqDestination.setTargetClient(WMQConstants.WMQ_CLIENT_NONJMS_MQ);\r\n\r\nis stripping the message properties off before the message is sent.\r\n\r\nYou say that you want to use the &#39;native header&#39; and not &#39;MQRFH2&#39; but the two are fully interchangeable. There is no one or the other, it is just how the message properties are presented to the receiver of the message depending on how they are capable of consuming them.\r\n\r\nIf you put messages properties and the receiver asks for them in RFH2 then that is what they will get.\r\n\r\nIf you build the correctly formed RFH2 header and the receiver asks for message properties then that is what they will get.\r\n\r\nRemove the above mentioned line from your application and your message properties will flow to the receiver.","title":"How to send message header properties through IBM MQ remote queue with RFH?","body":"<p>This code:-</p>\n<pre><code>mqDestination.setTargetClient(WMQConstants.WMQ_CLIENT_NONJMS_MQ);\n</code></pre>\n<p>is stripping the message properties off before the message is sent.</p>\n<p>You say that you want to use the 'native header' and not 'MQRFH2' but the two are fully interchangeable. There is no one or the other, it is just how the message properties are presented to the receiver of the message depending on how they are capable of consuming them.</p>\n<p>If you put messages properties and the receiver asks for them in RFH2 then that is what they will get.</p>\n<p>If you build the correctly formed RFH2 header and the receiver asks for message properties then that is what they will get.</p>\n<p>Remove the above mentioned line from your application and your message properties will flow to the receiver.</p>\n"},{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633111305,"creation_date":1633111305,"answer_id":69410237,"question_id":69397959,"body_markdown":"To add to Morag&#39;s comment, people get confused over terminology.  An MQRFH2 message is the same as saying JMS message.\r\n\r\n - An MQRFH2 (JMS) message can have message properties\r\n - A regular (native) MQ message does not contain message properties\r\n\r\nFrom a high-level, an MQRFH2 (JMS) message looks like:\r\n\r\n    [MQMD][MQRFH2]message payload\r\n\r\nFrom a high-level, regular (native) MQ message looks like:\r\n\r\n    [MQMD]message payload\r\n\r\n","title":"How to send message header properties through IBM MQ remote queue with RFH?","body":"<p>To add to Morag's comment, people get confused over terminology.  An MQRFH2 message is the same as saying JMS message.</p>\n<ul>\n<li>An MQRFH2 (JMS) message can have message properties</li>\n<li>A regular (native) MQ message does not contain message properties</li>\n</ul>\n<p>From a high-level, an MQRFH2 (JMS) message looks like:</p>\n<pre><code>[MQMD][MQRFH2]message payload\n</code></pre>\n<p>From a high-level, regular (native) MQ message looks like:</p>\n<pre><code>[MQMD]message payload\n</code></pre>\n"}],"owner":{"account_id":18088674,"reputation":1,"user_id":13148903,"display_name":"VEMM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633111305,"creation_date":1633030490,"question_id":69397959,"body_markdown":"I need to push a message into a remote Queue sending some header properties.\r\nIn my side I&#39;m using IBM MQ v9 and I must not use the MQRFH2, just the &#39;native&#39; MQ header (I&#39;m not sure if it is possible).\r\nBut when I&#39;m pull the message I can no see any of the properties.\r\n\r\n``` \r\nimport javax.jms.Destination;\r\nimport javax.jms.JMSContext;\r\nimport javax.jms.JMSException;\r\nimport javax.jms.JMSProducer;\r\n\r\nimport com.ibm.mq.jms.MQDestination;\r\nimport com.ibm.msg.client.jms.JmsConnectionFactory;\r\nimport com.ibm.msg.client.jms.JmsFactoryFactory;\r\nimport com.ibm.msg.client.wmq.WMQConstants;\r\n\r\npublic class MessageSender {\r\n\r\n\tpublic void sendMessage() throws JMSException {\r\n\t\tJMSContext context = createJMSContext();\r\n\t\tJMSProducer producer = context.createProducer();\r\n\t\tDestination destination = context.createQueue(&quot;queue:///&quot; + queueName);\r\n\t\tSystem.out.println(&quot;destination: &quot; + destination);\r\n\t\tMQDestination mqDestination = (MQDestination) destination;\r\n\t\t// the header properties to be added\r\n\t\tmqDestination.setStringProperty(&quot;KEY1&quot;, &quot;VALUE1&quot;);\r\n\t\tmqDestination.setStringProperty(&quot;KEY2&quot;, &quot;VALUE2&quot;);\r\n\t\tmqDestination.setStringProperty(&quot;KEY3&quot;, &quot;VALUE3&quot;);\r\n\t\t// WMQ_CLIENT_NONJMS_MQ - static final int WMQ_CLIENT_NONJMS_MQ\r\n\t\t// WMQ_TARGET_CLIENT property value. Target is an MQ application (RFH2 will be excluded).\r\n\t\tmqDestination.setTargetClient(WMQConstants.WMQ_CLIENT_NONJMS_MQ);\r\n\t\tSystem.out.println(&quot;mqDestination: &quot; + mqDestination);\r\n\t\tString message = &quot;mymessage&quot;;\r\n\t\tproducer.send(mqDestination, message);\r\n\t}\r\n\r\n\tprivate JMSContext createJMSContext() {\r\n\t\tJMSContext context = null;\r\n\t\ttry {\r\n\t\t\tJmsFactoryFactory ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\r\n\t\t\tJmsConnectionFactory cf = ff.createConnectionFactory();\r\n\t\t\tcf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);\r\n\t\t\tcf.setBooleanProperty(WMQConstants.USER_AUTHENTICATION_MQCSP, false);\r\n\t\t\tcf.setStringProperty(WMQConstants.WMQ_HOST_NAME, &quot;hostname&quot;);\r\n\t\t\tcf.setStringProperty(WMQConstants.WMQ_CHANNEL, &quot;channel&quot;);\r\n\t\t\tcf.setIntProperty(WMQConstants.WMQ_PORT, 1411);\r\n\t\t\tcf.setStringProperty(WMQConstants.WMQ_QUEUE_MANAGER, &quot;queueManager&quot;);\r\n\t\t\tcontext = cf.createContext();\r\n\t\t} catch (JMSException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn context;\r\n\t}\r\n\r\n}\r\n```\r\n","title":"How to send message header properties through IBM MQ remote queue with RFH?","body":"<p>I need to push a message into a remote Queue sending some header properties.\nIn my side I'm using IBM MQ v9 and I must not use the MQRFH2, just the 'native' MQ header (I'm not sure if it is possible).\nBut when I'm pull the message I can no see any of the properties.</p>\n<pre><code>import javax.jms.Destination;\nimport javax.jms.JMSContext;\nimport javax.jms.JMSException;\nimport javax.jms.JMSProducer;\n\nimport com.ibm.mq.jms.MQDestination;\nimport com.ibm.msg.client.jms.JmsConnectionFactory;\nimport com.ibm.msg.client.jms.JmsFactoryFactory;\nimport com.ibm.msg.client.wmq.WMQConstants;\n\npublic class MessageSender {\n\n    public void sendMessage() throws JMSException {\n        JMSContext context = createJMSContext();\n        JMSProducer producer = context.createProducer();\n        Destination destination = context.createQueue(&quot;queue:///&quot; + queueName);\n        System.out.println(&quot;destination: &quot; + destination);\n        MQDestination mqDestination = (MQDestination) destination;\n        // the header properties to be added\n        mqDestination.setStringProperty(&quot;KEY1&quot;, &quot;VALUE1&quot;);\n        mqDestination.setStringProperty(&quot;KEY2&quot;, &quot;VALUE2&quot;);\n        mqDestination.setStringProperty(&quot;KEY3&quot;, &quot;VALUE3&quot;);\n        // WMQ_CLIENT_NONJMS_MQ - static final int WMQ_CLIENT_NONJMS_MQ\n        // WMQ_TARGET_CLIENT property value. Target is an MQ application (RFH2 will be excluded).\n        mqDestination.setTargetClient(WMQConstants.WMQ_CLIENT_NONJMS_MQ);\n        System.out.println(&quot;mqDestination: &quot; + mqDestination);\n        String message = &quot;mymessage&quot;;\n        producer.send(mqDestination, message);\n    }\n\n    private JMSContext createJMSContext() {\n        JMSContext context = null;\n        try {\n            JmsFactoryFactory ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\n            JmsConnectionFactory cf = ff.createConnectionFactory();\n            cf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);\n            cf.setBooleanProperty(WMQConstants.USER_AUTHENTICATION_MQCSP, false);\n            cf.setStringProperty(WMQConstants.WMQ_HOST_NAME, &quot;hostname&quot;);\n            cf.setStringProperty(WMQConstants.WMQ_CHANNEL, &quot;channel&quot;);\n            cf.setIntProperty(WMQConstants.WMQ_PORT, 1411);\n            cf.setStringProperty(WMQConstants.WMQ_QUEUE_MANAGER, &quot;queueManager&quot;);\n            context = cf.createContext();\n        } catch (JMSException e) {\n            e.printStackTrace();\n        }\n\n        return context;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","security","authorization","programmatic-config"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632980613,"post_id":69382760,"comment_id":122640335,"body_markdown":"They aren&#39;t equivalent the XML one also has a password, although that is a random one. They are also different in that the XML one does a setup for an `InMemoryUserDetailsService` which you then probably use in your AD configuration to map the roles. In your Java version it sets up a full `DaoAuthenticationProvider`, while you probably still need the `UserDetailsService` to retrieve the users roles. But to fix this, just assign a random password, just like the XML one.","body":"They aren&#39;t equivalent the XML one also has a password, although that is a random one. They are also different in that the XML one does a setup for an <code>InMemoryUserDetailsService</code> which you then probably use in your AD configuration to map the roles. In your Java version it sets up a full <code>DaoAuthenticationProvider</code>, while you probably still need the <code>UserDetailsService</code> to retrieve the users roles. But to fix this, just assign a random password, just like the XML one."},{"owner":{"account_id":22670093,"reputation":51,"user_id":16841967,"display_name":"Bruno Genovese"},"score":0,"creation_date":1633007848,"post_id":69382760,"comment_id":122651128,"body_markdown":"Ty Deinum.  You are right that in XML the info is provided through the userDetailsService, although the password field was optional, not mandatory like it is in the programmatic authentication provider.  I have not seen a programmatic example for how to setup a UserDetailsService separate from the AuthenticationProvider, but I can probably find one.  Do you know if in the programmatic UserDetailsService the password is optional as in XML?  Or would it be a wasted effort?  Keep in mind that my intention is for authentication and most of the authorization to be done in AD, a few ROLEs in svc.","body":"Ty Deinum.  You are right that in XML the info is provided through the userDetailsService, although the password field was optional, not mandatory like it is in the programmatic authentication provider.  I have not seen a programmatic example for how to setup a UserDetailsService separate from the AuthenticationProvider, but I can probably find one.  Do you know if in the programmatic UserDetailsService the password is optional as in XML?  Or would it be a wasted effort?  Keep in mind that my intention is for authentication and most of the authorization to be done in AD, a few ROLEs in svc."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633070531,"post_id":69382760,"comment_id":122666758,"body_markdown":"A password isn&#39;t optional for the user, but in XML when not provided a random one is generated. So just assign a random (or dymmy) password when creating the `InMemoryUserDetailsService`.","body":"A password isn&#39;t optional for the user, but in XML when not provided a random one is generated. So just assign a random (or dymmy) password when creating the <code>InMemoryUserDetailsService</code>."}],"answers":[{"tags":[],"owner":{"account_id":22670093,"reputation":51,"user_id":16841967,"display_name":"Bruno Genovese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633110730,"creation_date":1633110253,"answer_id":69410042,"question_id":69382760,"body_markdown":"I hope the following helps the next googler with my problem.\r\n\r\nFirst, my thanks to Deinum, he got me thinking in the right direction.  \r\n\r\nJust adding using a dummy password in the code of the original post did not work, but this worked even better for my needs:\r\n\r\n - **I was already using a custom AuthenticationProvider**.  It was easy to place and read the extra roles for users from a value in the property file with the JSON syntax:  **springsecurity.extraRoles=[{&quot;username&quot;:&quot;usernameValue&quot;, &quot;roles&quot;:[&quot;ROLE_XTRA1&quot;, &quot;ROLE_XTRA2&quot;]}]**.  \r\n - The extra roles rarely change, so they get read into a static Map, and are added to the user roles retrieved from AD as part of the authenticate() process.\r\n - And since I already had the property **deploy.environment=DEV**, I used it to disable the mechanism in PROD.  A safety net against deployment mistakes.\r\n\r\n---\r\nThis description should be sufficient, but let me know if anyone needs a more detailed explanation of any of the steps.","title":"Spring security programmatic in-memory UserDetailsService: username and roles, NO password","body":"<p>I hope the following helps the next googler with my problem.</p>\n<p>First, my thanks to Deinum, he got me thinking in the right direction.</p>\n<p>Just adding using a dummy password in the code of the original post did not work, but this worked even better for my needs:</p>\n<ul>\n<li><strong>I was already using a custom AuthenticationProvider</strong>.  It was easy to place and read the extra roles for users from a value in the property file with the JSON syntax:  <strong>springsecurity.extraRoles=[{&quot;username&quot;:&quot;usernameValue&quot;, &quot;roles&quot;:[&quot;ROLE_XTRA1&quot;, &quot;ROLE_XTRA2&quot;]}]</strong>.</li>\n<li>The extra roles rarely change, so they get read into a static Map, and are added to the user roles retrieved from AD as part of the authenticate() process.</li>\n<li>And since I already had the property <strong>deploy.environment=DEV</strong>, I used it to disable the mechanism in PROD.  A safety net against deployment mistakes.</li>\n</ul>\n<hr />\n<p>This description should be sufficient, but let me know if anyone needs a more detailed explanation of any of the steps.</p>\n"}],"owner":{"account_id":22670093,"reputation":51,"user_id":16841967,"display_name":"Bruno Genovese"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633110730,"creation_date":1632946031,"question_id":69382760,"body_markdown":"UPDATE:  I was not able to solve the problem presented here, but the simplest and most effective solution to my problem was to NOT use the in-memory userDetailsService.  Details of my resulting solution are in a follow-up post.  \r\n\r\n----\r\n\r\nSUMMARY \r\n\r\nWith the old SpringSecurity.xml I never needed to provide the password to support additional ROLEs via the in-memory userDetailsService.  It was very convenient, especially during the development phase.\r\n\r\nWith the programmatic approach it is easy to provide username+password+roles, but it is not clear how to provide **only** username+roles.  I would like to learn how.\r\n\r\n\r\nEXAMPLES\r\n\r\nIn the examples below &quot;user&quot; does authentication and authorization in Active Directory through adAuthProvider.  The programmatic examples are the full content of the SecurityConfig configure(AuthenticationManagerBuilder auth) method.\r\n\r\nsecurity.xml:\r\n(this worked for years, what I want to replicate)\r\n\r\n```\r\n  &lt;sec:user-service id=&quot;xmlUserDetailsService&quot;&gt;\r\n    &lt;sec:user name=&quot;user&quot; authorities=&quot;ROLE_USER&quot; /&gt;\r\n  &lt;/sec:user-service&gt;\r\n```\r\n\r\n\r\nFailed programmatic attempt:\r\n(direct translation of the above, notice that &quot;user&quot; does not setup the password... like in the XML above).\r\nThrows during server start: (org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Cannot pass null or empty values to constructor)\r\n\r\n      auth.authenticationProvider(adAuthProvider);\r\n      auth.inMemoryAuthentication()\r\n      .passwordEncoder(passwordEncoder)\r\n      .withUser(&quot;user&quot;).roles(&quot;USER&quot;)\r\n\r\n\r\nSuccessful, adding the password for &quot;user&quot;:\r\n(exception goes away)\r\n\r\n      auth.authenticationProvider(adAuthProvider);\r\n      auth.inMemoryAuthentication()\r\n      .passwordEncoder(passwordEncoder)\r\n      .withUser(&quot;user&quot;).password(passwordEncoder.encode(&quot;user&quot;)).roles(&quot;USER&quot;)\r\n\r\n\r\nQUESTION:\r\n\r\n 1. I assume that XML and programmatic configurations are supposed to be equivalent.  Thus I assume there is a way to avoid supplying the password to the in-memory userDetails.  Is this correct?\r\n 2. Assuming the above is true, how do I do it?  Could you please provide an example for the whole method?\r\n\r\nI realize this is probably a trivial question.  I googled and reviewed easily 100 examples, but they all include the password.  Not a single one showed how to use in-memory just for authorization - relying on the Active Directory authentication provider to validate the password.","title":"Spring security programmatic in-memory UserDetailsService: username and roles, NO password","body":"<p>UPDATE:  I was not able to solve the problem presented here, but the simplest and most effective solution to my problem was to NOT use the in-memory userDetailsService.  Details of my resulting solution are in a follow-up post.</p>\n<hr />\n<p>SUMMARY</p>\n<p>With the old SpringSecurity.xml I never needed to provide the password to support additional ROLEs via the in-memory userDetailsService.  It was very convenient, especially during the development phase.</p>\n<p>With the programmatic approach it is easy to provide username+password+roles, but it is not clear how to provide <strong>only</strong> username+roles.  I would like to learn how.</p>\n<p>EXAMPLES</p>\n<p>In the examples below &quot;user&quot; does authentication and authorization in Active Directory through adAuthProvider.  The programmatic examples are the full content of the SecurityConfig configure(AuthenticationManagerBuilder auth) method.</p>\n<p>security.xml:\n(this worked for years, what I want to replicate)</p>\n<pre><code>  &lt;sec:user-service id=&quot;xmlUserDetailsService&quot;&gt;\n    &lt;sec:user name=&quot;user&quot; authorities=&quot;ROLE_USER&quot; /&gt;\n  &lt;/sec:user-service&gt;\n</code></pre>\n<p>Failed programmatic attempt:\n(direct translation of the above, notice that &quot;user&quot; does not setup the password... like in the XML above).\nThrows during server start: (org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: Cannot pass null or empty values to constructor)</p>\n<pre><code>  auth.authenticationProvider(adAuthProvider);\n  auth.inMemoryAuthentication()\n  .passwordEncoder(passwordEncoder)\n  .withUser(&quot;user&quot;).roles(&quot;USER&quot;)\n</code></pre>\n<p>Successful, adding the password for &quot;user&quot;:\n(exception goes away)</p>\n<pre><code>  auth.authenticationProvider(adAuthProvider);\n  auth.inMemoryAuthentication()\n  .passwordEncoder(passwordEncoder)\n  .withUser(&quot;user&quot;).password(passwordEncoder.encode(&quot;user&quot;)).roles(&quot;USER&quot;)\n</code></pre>\n<p>QUESTION:</p>\n<ol>\n<li>I assume that XML and programmatic configurations are supposed to be equivalent.  Thus I assume there is a way to avoid supplying the password to the in-memory userDetails.  Is this correct?</li>\n<li>Assuming the above is true, how do I do it?  Could you please provide an example for the whole method?</li>\n</ol>\n<p>I realize this is probably a trivial question.  I googled and reviewed easily 100 examples, but they all include the password.  Not a single one showed how to use in-memory just for authorization - relying on the Active Directory authentication provider to validate the password.</p>\n"},{"tags":["java","spring","spring-boot","groovy","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633110690,"creation_date":1633110690,"answer_id":69410130,"question_id":69409665,"body_markdown":"I suppose you have `application.yml`.  \r\nFor example, you defined some properties of the message queue system. \r\n``` yml\r\nmq:\r\n  receive_channel: &quot;RES&quot;\r\n  send_channel: &quot;REQ&quot;\r\n```\r\n**First** of all, you should define a class that presents the related values that you placed in your `.yml` file. \r\n``` java\r\npublic class MQProperties {\r\n    private String receive_channel;\r\n    private String send_channel;\r\n    // getter and setters\r\n}\r\n```\r\n**Second**, you should define a configuration class as below. \r\n\r\n``` java\r\n@Configuration\r\n@PropertySource(value = &quot;classpath:application.yml&quot;)\r\npublic class ApplicationConfigurationProperties {\r\n\r\n    @Bean\r\n    @ConfigurationProperties(prefix = &quot;mq&quot;)\r\n    public MQProperties mqProperties() {\r\n        return new MQProperties();\r\n    }\r\n}\r\n```\r\n**Finally** in your test class you validate the value of properties.\r\n\r\n``` java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\npublic class PropertiesTest {\r\n\r\n    @Value(&quot;${mq.receive_channel}&quot;)\r\n    private String mqReceiveChannel;\r\n    @Value(&quot;${mq.send_channel}&quot;)\r\n    private String mqSendChannel;\r\n\r\n    @Autowired\r\n    private ApplicationConfigurationProperties configurationProperties;\r\n\r\n    @Test\r\n    public void get_mq_receive_channel() { \r\n     assertThat(configurationProperties.mqProperties().getReceive_channel()).isEqualTo(mqReceiveChannel);\r\n    }\r\n\r\n    @Test\r\n    public void get_mq_send_channel() {  \r\n     assertThat(configurationProperties.mqProperties().getSend_channel()).isEqualTo(mqSendChannel);\r\n    }\r\n}\r\n```","title":"SpringBootTest for an arbitrary ApplicationConfiguration class to test the reading of the application.yml file","body":"<p>I suppose you have <code>application.yml</code>.<br />\nFor example, you defined some properties of the message queue system.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>mq:\n  receive_channel: &quot;RES&quot;\n  send_channel: &quot;REQ&quot;\n</code></pre>\n<p><strong>First</strong> of all, you should define a class that presents the related values that you placed in your <code>.yml</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MQProperties {\n    private String receive_channel;\n    private String send_channel;\n    // getter and setters\n}\n</code></pre>\n<p><strong>Second</strong>, you should define a configuration class as below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@PropertySource(value = &quot;classpath:application.yml&quot;)\npublic class ApplicationConfigurationProperties {\n\n    @Bean\n    @ConfigurationProperties(prefix = &quot;mq&quot;)\n    public MQProperties mqProperties() {\n        return new MQProperties();\n    }\n}\n</code></pre>\n<p><strong>Finally</strong> in your test class you validate the value of properties.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class PropertiesTest {\n\n    @Value(&quot;${mq.receive_channel}&quot;)\n    private String mqReceiveChannel;\n    @Value(&quot;${mq.send_channel}&quot;)\n    private String mqSendChannel;\n\n    @Autowired\n    private ApplicationConfigurationProperties configurationProperties;\n\n    @Test\n    public void get_mq_receive_channel() { \n     assertThat(configurationProperties.mqProperties().getReceive_channel()).isEqualTo(mqReceiveChannel);\n    }\n\n    @Test\n    public void get_mq_send_channel() {  \n     assertThat(configurationProperties.mqProperties().getSend_channel()).isEqualTo(mqSendChannel);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22639381,"reputation":45,"user_id":16815778,"display_name":"BustedChain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69410130,"answer_count":1,"score":0,"last_activity_date":1633110690,"creation_date":1633108128,"question_id":69409665,"body_markdown":"I would like to learn how to write a SpringBootTest for an existing ApplicationConfiguration class for the purpose of testing the functionality of reading the application.yml file.  I would be happy with java or groovy.  I am not able to share the existing ApplicationConfiguration class, so I would gladly accept any example offered that starts with an existing ApplicationConfiguration that reads in an application.yml file and parses data in that file over to the objects that need to receive the configurations.\r\n\r\nTo date, what I have read so far hasn&#39;t helped me understand how to do this and I am here with my hat in my hand asking for some help.   I get some of the basic concepts of Spring Boot and Spring Boot Testing, but actually hooking it up from scratch to accomplish this specific task is making it clear to me that I am missing something important in the approach to how to do this.\r\n\r\nIf you want to take the time to explain it to me that&#39;s great, but I certainly don&#39;t expect you to walk a Spring Boot Newbie through this stuff if you have seen documentation online, tutorials, or even videos that would be appropriate for this challenge.    \r\n\r\nTo date, the resources I have found haven&#39;t filled in that missing gap that would let me go from an existing ApplicationConfiguration class to making a new ApplicationConfigurationTests class from it.  The Spring Documentation itself sure seems to gloss over some things like:  minimal requirements.","title":"SpringBootTest for an arbitrary ApplicationConfiguration class to test the reading of the application.yml file","body":"<p>I would like to learn how to write a SpringBootTest for an existing ApplicationConfiguration class for the purpose of testing the functionality of reading the application.yml file.  I would be happy with java or groovy.  I am not able to share the existing ApplicationConfiguration class, so I would gladly accept any example offered that starts with an existing ApplicationConfiguration that reads in an application.yml file and parses data in that file over to the objects that need to receive the configurations.</p>\n<p>To date, what I have read so far hasn't helped me understand how to do this and I am here with my hat in my hand asking for some help.   I get some of the basic concepts of Spring Boot and Spring Boot Testing, but actually hooking it up from scratch to accomplish this specific task is making it clear to me that I am missing something important in the approach to how to do this.</p>\n<p>If you want to take the time to explain it to me that's great, but I certainly don't expect you to walk a Spring Boot Newbie through this stuff if you have seen documentation online, tutorials, or even videos that would be appropriate for this challenge.</p>\n<p>To date, the resources I have found haven't filled in that missing gap that would let me go from an existing ApplicationConfiguration class to making a new ApplicationConfigurationTests class from it.  The Spring Documentation itself sure seems to gloss over some things like:  minimal requirements.</p>\n"},{"tags":["java","spring","spring-boot","validation","java-8"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1633082352,"post_id":69403083,"comment_id":122670950,"body_markdown":"Add the full exception stack trace to your question.","body":"Add the full exception stack trace to your question."},{"owner":{"account_id":22912415,"reputation":45,"user_id":17049481,"display_name":"mark whalf"},"score":0,"creation_date":1633090461,"post_id":69403083,"comment_id":122674108,"body_markdown":"Hello I have edited","body":"Hello I have edited"}],"owner":{"account_id":22912415,"reputation":45,"user_id":17049481,"display_name":"mark whalf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633110453,"creation_date":1633078126,"question_id":69403083,"body_markdown":"I am having an uploading a file with- filename with resttemplate my code below;\r\n\r\nmy code below;\r\n\r\n \r\n\r\n    String filePath = &quot;/C:/../../promoCode/&quot; + fileName + &quot;.txt&quot;;\r\n    \r\n        File targetFile = new File(filePath);\r\n    \r\n        FileWriter writer = new FileWriter(targetFile);\r\n        BufferedWriter buffer = new BufferedWriter(writer);\r\n        buffer.write(generatedVoucherText);\r\n    \r\n        String bucketName = &quot;promocodes&quot;;\r\n    \r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    \r\n        MultiValueMap&lt;String, String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\r\n        ContentDisposition contentDisposition = ContentDisposition\r\n                .builder(&quot;form-data&quot;)\r\n                .name(&quot;file&quot;)\r\n                .filename(fileName)\r\n                .build();\r\n        fileMap.add(HttpHeaders.CONTENT_DISPOSITION, contentDisposition.toString());\r\n    \r\n        FileReader reader = new FileReader(targetFile);\r\n        BufferedReader bufferedReader = new BufferedReader(reader);\r\n    \r\n       String someByteArray = bufferedReader.readLine();\r\n    \r\n        HttpEntity&lt;byte[]&gt; requestEntity = new HttpEntity&lt;&gt;(someByteArray.getBytes(StandardCharsets.UTF_8), fileMap);\r\n    \r\n    \r\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n        body.add(&quot;file&quot;, requestEntity);\r\n    \r\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; httpEntity =\r\n                new HttpEntity&lt;&gt;(body, headers);\r\n    \r\n        minioService.postMinio2(httpEntity, bucketName);\r\n        buffer.close();\r\n\r\nI do not know why I am having I/O exception.\r\n\r\nFullStackTrace\r\nException log detail occured: I/O error on POST request for &quot;http://sth-sth.apps.mbt.sth.local promocodes&quot;: class path resource [C:/../../promoCode/ABF.txt] cannot be resolved to URL because it does not exist; nested exception is java.io.FileNotFoundException: class path resource [C:/../../promoCode/ABF.txt] cannot be resolved to URL because it does not exist, class: class org.springframework.web.client.ResourceAccessException\r\n\r\nThank you \r\n\r\n","title":"java.io.FileNotFoundException via Uploading a file with a filename with Spring RestTemplate","body":"<p>I am having an uploading a file with- filename with resttemplate my code below;</p>\n<p>my code below;</p>\n<pre><code>String filePath = &quot;/C:/../../promoCode/&quot; + fileName + &quot;.txt&quot;;\n\n    File targetFile = new File(filePath);\n\n    FileWriter writer = new FileWriter(targetFile);\n    BufferedWriter buffer = new BufferedWriter(writer);\n    buffer.write(generatedVoucherText);\n\n    String bucketName = &quot;promocodes&quot;;\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n    MultiValueMap&lt;String, String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\n    ContentDisposition contentDisposition = ContentDisposition\n            .builder(&quot;form-data&quot;)\n            .name(&quot;file&quot;)\n            .filename(fileName)\n            .build();\n    fileMap.add(HttpHeaders.CONTENT_DISPOSITION, contentDisposition.toString());\n\n    FileReader reader = new FileReader(targetFile);\n    BufferedReader bufferedReader = new BufferedReader(reader);\n\n   String someByteArray = bufferedReader.readLine();\n\n    HttpEntity&lt;byte[]&gt; requestEntity = new HttpEntity&lt;&gt;(someByteArray.getBytes(StandardCharsets.UTF_8), fileMap);\n\n\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n    body.add(&quot;file&quot;, requestEntity);\n\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; httpEntity =\n            new HttpEntity&lt;&gt;(body, headers);\n\n    minioService.postMinio2(httpEntity, bucketName);\n    buffer.close();\n</code></pre>\n<p>I do not know why I am having I/O exception.</p>\n<p>FullStackTrace\nException log detail occured: I/O error on POST request for &quot;http://sth-sth.apps.mbt.sth.local promocodes&quot;: class path resource [C:/../../promoCode/ABF.txt] cannot be resolved to URL because it does not exist; nested exception is java.io.FileNotFoundException: class path resource [C:/../../promoCode/ABF.txt] cannot be resolved to URL because it does not exist, class: class org.springframework.web.client.ResourceAccessException</p>\n<p>Thank you</p>\n"},{"tags":["java","csv","spring-mvc","sap-commerce-cloud","opencsv"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1565175064,"post_id":57392539,"comment_id":101267204,"body_markdown":"What is `getWriter()`? You need to close the writer or stream.","body":"What is <code>getWriter()</code>? You need to close the writer or stream."},{"owner":{"account_id":16047119,"reputation":628,"user_id":11581979,"display_name":"Trishul Singh Choudhary"},"score":0,"creation_date":1565175932,"post_id":57392539,"comment_id":101267694,"body_markdown":"@user207421 I don&#39;t see getWriter() anywhere.","body":"@user207421 I don&#39;t see getWriter() anywhere."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1565226062,"post_id":57392539,"comment_id":101289334,"body_markdown":"My mistake, I meant `getOutputWriter()`. Where is it? What does it do?","body":"My mistake, I meant <code>getOutputWriter()</code>. Where is it? What does it do?"}],"answers":[{"tags":[],"owner":{"account_id":3577678,"reputation":11003,"user_id":2986537,"accept_rate":100,"display_name":"Razib"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565174973,"creation_date":1565174973,"answer_id":57392691,"question_id":57392539,"body_markdown":"You have to close the `csvWriter` after you have written it to the `OutputStream` like this - \r\n\r\n    \r\n        ....\r\n        ....\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + &quot;Report.csv&quot; + &quot;\\&quot;&quot;);\r\n        response.getOutputStream().write(getBytes(csvWriter));\r\n        csvWriter.close();\r\n        response.flushBuffer();  \r\nYou CSV file content is not written to the `OutputStream` cause you are closing it before writing it to the `OutputStream`. Try just changing the order of closing `csvWriter`.","title":"java 7 : response.flushBuffer(); does not Download csv in browser","body":"<p>You have to close the <code>csvWriter</code> after you have written it to the <code>OutputStream</code> like this - </p>\n\n<pre><code>    ....\n    ....\n    response.setContentType(\"application/octet-stream\");\n    response.setHeader(\"Content-Disposition\", \"attachment; filename=\\\"\" + \"Report.csv\" + \"\\\"\");\n    response.getOutputStream().write(getBytes(csvWriter));\n    csvWriter.close();\n    response.flushBuffer();  \n</code></pre>\n\n<p>You CSV file content is not written to the <code>OutputStream</code> cause you are closing it before writing it to the <code>OutputStream</code>. Try just changing the order of closing <code>csvWriter</code>.</p>\n"}],"owner":{"account_id":16047119,"reputation":628,"user_id":11581979,"display_name":"Trishul Singh Choudhary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633110167,"creation_date":1565174481,"question_id":57392539,"body_markdown":"I have a csv Media file , I am trying to read this csv line by line and need to Download in the browser.\r\n\r\n`response.flushBuffer();` does not seem to Start the Download. No errors observed.\r\nI can see the complete data in the Browser response tab under Network and is in correct format. Just not able to flush it.\r\n\r\n```java\r\nfinal MediaModel media = mediaService.getMedia(catalogVersionModelHeader, mediaIdentifier);\r\n        final Collection&lt;File&gt; filesHeader = mediaService.getFiles(media);\r\n \r\n        final BufferedReader br = new BufferedReader(new FileReader(filesHeader.iterator().next()));\r\n        String line = &quot;&quot;;\r\n        final CSVWriter csvWriter = new CSVWriter(getOutputWriter());\r\n        final Map&lt;Integer, String&gt; data = new HashMap&lt;&gt;();\r\n        int counter = 0;\r\n        try {\r\n            while ((line = br.readLine()) != null) {\r\n                data.put(new Integer(counter), line);\r\n                csvWriter.write(data);\r\n            }\r\n            counter++;\r\n        } catch (final IOException ioException) {\r\n            LOG.error(ioException);\r\n        }\r\n\r\n        csvWriter.close();\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + &quot;Report.csv&quot; + &quot;\\&quot;&quot;);\r\n        response.getOutputStream().write(getBytes(csvWriter));\r\n        response.flushBuffer();\r\n\t\t\r\n\t\t}\r\n    public byte[] getBytes(final CSVWriter csvWriter) {\r\n        final StringWriter stringWriter = threadLocal.get();\r\n        return stringWriter.getBuffer().toString().getBytes();\r\n    }\r\n\r\n    public Writer getOutputWriter() {\r\n        final StringWriter writer = new StringWriter();\r\n        threadLocal.set(writer);\r\n        return writer;\r\n    }\r\n```\r\n\r\nNo Errors Observed.","title":"java 7 : response.flushBuffer(); does not Download csv in browser","body":"<p>I have a csv Media file , I am trying to read this csv line by line and need to Download in the browser.</p>\n\n<p><code>response.flushBuffer();</code> does not seem to Start the Download. No errors observed.\nI can see the complete data in the Browser response tab under Network and is in correct format. Just not able to flush it.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final MediaModel media = mediaService.getMedia(catalogVersionModelHeader, mediaIdentifier);\n        final Collection&lt;File&gt; filesHeader = mediaService.getFiles(media);\n\n        final BufferedReader br = new BufferedReader(new FileReader(filesHeader.iterator().next()));\n        String line = \"\";\n        final CSVWriter csvWriter = new CSVWriter(getOutputWriter());\n        final Map&lt;Integer, String&gt; data = new HashMap&lt;&gt;();\n        int counter = 0;\n        try {\n            while ((line = br.readLine()) != null) {\n                data.put(new Integer(counter), line);\n                csvWriter.write(data);\n            }\n            counter++;\n        } catch (final IOException ioException) {\n            LOG.error(ioException);\n        }\n\n        csvWriter.close();\n        response.setContentType(\"application/octet-stream\");\n        response.setHeader(\"Content-Disposition\", \"attachment; filename=\\\"\" + \"Report.csv\" + \"\\\"\");\n        response.getOutputStream().write(getBytes(csvWriter));\n        response.flushBuffer();\n\n        }\n    public byte[] getBytes(final CSVWriter csvWriter) {\n        final StringWriter stringWriter = threadLocal.get();\n        return stringWriter.getBuffer().toString().getBytes();\n    }\n\n    public Writer getOutputWriter() {\n        final StringWriter writer = new StringWriter();\n        threadLocal.set(writer);\n        return writer;\n    }\n</code></pre>\n\n<p>No Errors Observed.</p>\n"},{"tags":["java","bash","maven"],"answers":[{"tags":[],"owner":{"account_id":252590,"reputation":6115,"user_id":530734,"display_name":"Peter Svensson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1401993101,"creation_date":1401993101,"answer_id":24067642,"question_id":24067440,"body_markdown":"According to the [docs][1] `exec:java` has no `exec.args`? It does have `exec.arguments` which takes a `String[]` which would translate into:\r\n\r\n    CMD=&quot;mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.arguments=\\&quot;cfg.txt\\&quot;,\\&quot;TRAIN\\&quot;&quot;\r\n\r\n\r\n  [1]: http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html","title":"Using Maven Exec Plugin inside Bash","body":"<p>According to the <a href=\"http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html\" rel=\"nofollow\">docs</a> <code>exec:java</code> has no <code>exec.args</code>? It does have <code>exec.arguments</code> which takes a <code>String[]</code> which would translate into:</p>\n\n<pre><code>CMD=\"mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.arguments=\\\"cfg.txt\\\",\\\"TRAIN\\\"\"\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3458"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401993414,"creation_date":1401993414,"answer_id":24067737,"question_id":24067440,"body_markdown":"This is really a bash quoting issue, not Maven issue as such.\r\n\r\nTo debug it do \r\n\r\n    echo $CMD\r\n\r\nand then cut and paste the result into your command line. Tinker with quotation till it works\r\n\r\nTry\r\n\r\n    CMD=&quot;mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.args=&#39;cfg.txt TRAIN&#39;&quot; \r\n\r\nfor starters","title":"Using Maven Exec Plugin inside Bash","body":"<p>This is really a bash quoting issue, not Maven issue as such.</p>\n\n<p>To debug it do </p>\n\n<pre><code>echo $CMD\n</code></pre>\n\n<p>and then cut and paste the result into your command line. Tinker with quotation till it works</p>\n\n<p>Try</p>\n\n<pre><code>CMD=\"mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.args='cfg.txt TRAIN'\" \n</code></pre>\n\n<p>for starters</p>\n"},{"tags":[],"owner":{"account_id":5587983,"reputation":11,"user_id":4428047,"display_name":"Neil Greenwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420620370,"creation_date":1420620370,"answer_id":27815485,"question_id":24067440,"body_markdown":"I&#39;ve just found that this problem might also be solved by putting quotes around the whole `-Dexec.args` value, like so:\r\n\r\n    CMD=&quot;mvn exec:java -Dexec.mainClass=$MAINCLASS \\&quot;-Dexec.args=cfg.txt TRAIN\\&quot;&quot;","title":"Using Maven Exec Plugin inside Bash","body":"<p>I've just found that this problem might also be solved by putting quotes around the whole <code>-Dexec.args</code> value, like so:</p>\n\n<pre><code>CMD=\"mvn exec:java -Dexec.mainClass=$MAINCLASS \\\"-Dexec.args=cfg.txt TRAIN\\\"\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42005,"reputation":2840,"user_id":122230,"accept_rate":80,"display_name":"wytten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633110145,"creation_date":1633110145,"answer_id":69410022,"question_id":24067440,"body_markdown":"Riffing on @Peter Svensson&#39;s answer, I suggest:\r\n\r\n    -Dexec.arguments=$(echo $@ | tr &#39; &#39; &#39;,&#39;)\r\n\r\nWhere $@ is the standard bash symbol for arguments provided to the bash script, and the tr command is changing the list from space-delimited to comma-delimited","title":"Using Maven Exec Plugin inside Bash","body":"<p>Riffing on @Peter Svensson's answer, I suggest:</p>\n<pre><code>-Dexec.arguments=$(echo $@ | tr ' ' ',')\n</code></pre>\n<p>Where $@ is the standard bash symbol for arguments provided to the bash script, and the tr command is changing the list from space-delimited to comma-delimited</p>\n"}],"owner":{"account_id":1206153,"reputation":714,"user_id":1175760,"accept_rate":80,"display_name":"mayhewsw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24067642,"answer_count":4,"score":3,"last_activity_date":1633110145,"creation_date":1401992551,"question_id":24067440,"body_markdown":"I&#39;m writing a bash script which will execute some part of a maven project. The script looks like this:\r\n\r\n    CMD=&quot;mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.args=\\&quot;cfg.txt TRAIN\\&quot;&quot;  \r\n    echo &quot;Running $CMD...&quot;\r\n    \r\n    $CMD\r\n\r\nBut this fails every time with the following error:\r\n\r\n    [ERROR] Unknown lifecycle phase &quot;TRAIN&quot;. You must specify a valid \r\n    lifecycle phase...\r\n\r\nIf I skip the `CMD=...` assignment, and just run the mvn part directly, like this...\r\n    \r\n    mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.args=&quot;cfg.txt TRAIN&quot;\r\n\r\n...it works just fine.\r\n\r\nHow can I get maven and the exec plugin to understand that I have two arguments in the `-Dexec.args` section?","title":"Using Maven Exec Plugin inside Bash","body":"<p>I'm writing a bash script which will execute some part of a maven project. The script looks like this:</p>\n\n<pre><code>CMD=\"mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.args=\\\"cfg.txt TRAIN\\\"\"  \necho \"Running $CMD...\"\n\n$CMD\n</code></pre>\n\n<p>But this fails every time with the following error:</p>\n\n<pre><code>[ERROR] Unknown lifecycle phase \"TRAIN\". You must specify a valid \nlifecycle phase...\n</code></pre>\n\n<p>If I skip the <code>CMD=...</code> assignment, and just run the mvn part directly, like this...</p>\n\n<pre><code>mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.args=\"cfg.txt TRAIN\"\n</code></pre>\n\n<p>...it works just fine.</p>\n\n<p>How can I get maven and the exec plugin to understand that I have two arguments in the <code>-Dexec.args</code> section?</p>\n"},{"tags":["java","selenium-webdriver","testing","automated-tests"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1633110016,"post_id":69409905,"comment_id":122681959,"body_markdown":"The Java compiler translates both ways into the exactly same byte code (with the exception of the line number attribute for the `new SeleniumDriverManager()` code). So this boils down to a choice of preference.","body":"The Java compiler translates both ways into the exactly same byte code (with the exception of the line number attribute for the <code>new SeleniumDriverManager()</code> code). So this boils down to a choice of preference."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1633110510,"post_id":69409905,"comment_id":122682100,"body_markdown":"As has already been said - there&#39;s really no difference in this case.  Personally, I&#39;d go with your second example (no explicit constructor needed).","body":"As has already been said - there&#39;s really no difference in this case.  Personally, I&#39;d go with your second example (no explicit constructor needed)."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1633116570,"post_id":69409905,"comment_id":122683915,"body_markdown":"Personally, I&#39;d go with your first example, because it&#39;s easier for a person to read and clearly makes a distinction between static fields and class fields.  As @Thomas Kl&#228;ger said, it&#39;s a choice of personal preference or shop coding standards.","body":"Personally, I&#39;d go with your first example, because it&#39;s easier for a person to read and clearly makes a distinction between static fields and class fields.  As @Thomas Kl&#228;ger said, it&#39;s a choice of personal preference or shop coding standards."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1633110066,"creation_date":1633110066,"answer_id":69410010,"question_id":69409905,"body_markdown":"There is no difference.\r\nIn the first one, `seleniumDriverManager` is initialized directly in the constructor via `this.seleniumDriverManager = new SeleniumDriverManager();`.\r\nIn the second one, `seleniumDriverManager` is initialized when the (generated) default no-arg constructor is called (similar to what happens in the first case).\r\n\r\nNevertheless, the best approach could be different:\r\n```java\r\npublic class DriverManager {\r\n\r\n    private final SeleniumDriverManager seleniumDriverManager;\r\n\r\n    public DriverManager(SeleniumDriverManager seleniumDriverManager) {\r\n        this.seleniumDriverManager = seleniumDriverManager;\r\n    }\r\n\r\n    public void startDriver() {\r\n        seleniumDriverManager.startWebDriver();\r\n    }\r\n\r\n    public void quitDriver() {\r\n        seleniumDriverManager.quitWebDriver();\r\n    }\r\n}\r\n```\r\n\r\nIn this case, you actually request the `seleniumDriverManager` to be passed in the constructor as an argument. This is one of the bases of Dependency Injection which relies on this approach of &quot;asking&quot; instead of (silently) providing. Dependency injection is actually the foundation of Frameworks such as Spring and has a huge amount of advantages. Still, this really depends on our use case, but keep this option in mind ;)","title":"Java: How to PROPERLY access methods from another class | Example code inside","body":"<p>There is no difference.\nIn the first one, <code>seleniumDriverManager</code> is initialized directly in the constructor via <code>this.seleniumDriverManager = new SeleniumDriverManager();</code>.\nIn the second one, <code>seleniumDriverManager</code> is initialized when the (generated) default no-arg constructor is called (similar to what happens in the first case).</p>\n<p>Nevertheless, the best approach could be different:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DriverManager {\n\n    private final SeleniumDriverManager seleniumDriverManager;\n\n    public DriverManager(SeleniumDriverManager seleniumDriverManager) {\n        this.seleniumDriverManager = seleniumDriverManager;\n    }\n\n    public void startDriver() {\n        seleniumDriverManager.startWebDriver();\n    }\n\n    public void quitDriver() {\n        seleniumDriverManager.quitWebDriver();\n    }\n}\n</code></pre>\n<p>In this case, you actually request the <code>seleniumDriverManager</code> to be passed in the constructor as an argument. This is one of the bases of Dependency Injection which relies on this approach of &quot;asking&quot; instead of (silently) providing. Dependency injection is actually the foundation of Frameworks such as Spring and has a huge amount of advantages. Still, this really depends on our use case, but keep this option in mind ;)</p>\n"}],"owner":{"account_id":18181746,"reputation":64,"user_id":13229366,"display_name":"EZV8"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633110066,"creation_date":1633109410,"question_id":69409905,"body_markdown":"I&#39;m wondering what is the best/correct way to access methods from other classes in java.\r\n\r\nI&#39;ll show how I&#39;m doing it right now. \r\n\r\nSometimes like this:\r\n\r\n```java\r\npublic class DriverManager {\r\n\r\n    private final SeleniumDriverManager seleniumDriverManager;\r\n\r\n    public DriverManager() {\r\n        this.seleniumDriverManager = new SeleniumDriverManager();\r\n    }\r\n\r\n    public void startDriver() {\r\n        seleniumDriverManager.startWebDriver();\r\n    }\r\n\r\n    public void quitDriver() {\r\n        seleniumDriverManager.quitWebDriver();\r\n    }\r\n}\r\n```\r\n\r\nand sometime like this\r\n\r\n```java\r\npublic class DriverManager {\r\n\r\n    private final SeleniumDriverManager seleniumDriverManager = new SeleniumDriverManager()\r\n\r\n    public void startDriver() {\r\n        seleniumDriverManager.startWebDriver();\r\n    }\r\n\r\n    public void quitDriver() {\r\n        seleniumDriverManager.quitWebDriver();\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s working in both cases, but is there any difference? Should I follow 1st or 2nd approach","title":"Java: How to PROPERLY access methods from another class | Example code inside","body":"<p>I'm wondering what is the best/correct way to access methods from other classes in java.</p>\n<p>I'll show how I'm doing it right now.</p>\n<p>Sometimes like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DriverManager {\n\n    private final SeleniumDriverManager seleniumDriverManager;\n\n    public DriverManager() {\n        this.seleniumDriverManager = new SeleniumDriverManager();\n    }\n\n    public void startDriver() {\n        seleniumDriverManager.startWebDriver();\n    }\n\n    public void quitDriver() {\n        seleniumDriverManager.quitWebDriver();\n    }\n}\n</code></pre>\n<p>and sometime like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DriverManager {\n\n    private final SeleniumDriverManager seleniumDriverManager = new SeleniumDriverManager()\n\n    public void startDriver() {\n        seleniumDriverManager.startWebDriver();\n    }\n\n    public void quitDriver() {\n        seleniumDriverManager.quitWebDriver();\n    }\n}\n</code></pre>\n<p>It's working in both cases, but is there any difference? Should I follow 1st or 2nd approach</p>\n"},{"tags":["java","jar","null","resources","classpath"],"comments":[{"owner":{"account_id":174804,"reputation":27548,"user_id":404395,"accept_rate":73,"display_name":"marioosh"},"score":0,"creation_date":1391605421,"post_id":21577949,"comment_id":32594342,"body_markdown":"I always use `X.class.getClassLoader().getResource(&quot;file.txt&quot;)`. Maybe that helps. Try `ThatClass.class.getClassLoader().getResource(&quot;/Data/foo/bar/file.txt&quot;);`","body":"I always use <code>X.class.getClassLoader().getResource(&quot;file.txt&quot;)</code>. Maybe that helps. Try <code>ThatClass.class.getClassLoader().getResource(&quot;&#47;Data&#47;foo&#47;bar&#47;&zwnj;&#8203;file.txt&quot;);</code>"},{"owner":{"account_id":278194,"reputation":2443,"user_id":572645,"accept_rate":61,"display_name":"radlan"},"score":0,"creation_date":1391605568,"post_id":21577949,"comment_id":32594457,"body_markdown":"@marioosh No, it doesn&#39;t. I am sorry. But I cannot change the used libs. I have to use them as they are. I am only able to set the classpath and the way the application is started.","body":"@marioosh No, it doesn&#39;t. I am sorry. But I cannot change the used libs. I have to use them as they are. I am only able to set the classpath and the way the application is started."}],"answers":[{"tags":[],"owner":{"account_id":1732446,"reputation":10581,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391605576,"creation_date":1391605576,"answer_id":21578168,"question_id":21577949,"body_markdown":"When you start the path with a &quot;/&quot;, it&#39;s considered as absolute. Try `ThatClass.class.getResource(&quot;/runtime/Data/foo/bar/file.txt&quot;);`\r\n\r\nOtherwise, if you cant&#39;t change the code, put the file on /Data/foo/bar/file.txt","title":"class.getResource() is null though it is in classpath","body":"<p>When you start the path with a \"/\", it's considered as absolute. Try <code>ThatClass.class.getResource(\"/runtime/Data/foo/bar/file.txt\");</code></p>\n\n<p>Otherwise, if you cant't change the code, put the file on /Data/foo/bar/file.txt</p>\n"},{"tags":[],"owner":{"account_id":18499897,"reputation":61,"user_id":13477480,"display_name":"Martin Traverse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633109998,"creation_date":1633109998,"answer_id":69409997,"question_id":21577949,"body_markdown":"In a development environment, this can sometimes happen when resources have not been processed during the build. Using Gradle and building your main JAR or main test JAR will depend on the compileJava tasks in your libs, but will not trigger their resources to be processed. You can see if this is happening by looking in your build dir to see if resources for your libs have been copied over. If they haven&#39;t been copied the resource loader won&#39;t find them at runtime.\r\n\r\nIf this is the problem, a full build will fix the issue and published JARs should always have their resources. But, it&#39;s nice to be able to trigger e.g. the test task for an individual module and know that it will always pull in everything it needs. If you have a library with essential resources that must always be present, you can force them to be processed in partial builds by adding this to the build.gradle of the library:\r\n\r\n        compileJava.dependsOn(processResources)","title":"class.getResource() is null though it is in classpath","body":"<p>In a development environment, this can sometimes happen when resources have not been processed during the build. Using Gradle and building your main JAR or main test JAR will depend on the compileJava tasks in your libs, but will not trigger their resources to be processed. You can see if this is happening by looking in your build dir to see if resources for your libs have been copied over. If they haven't been copied the resource loader won't find them at runtime.</p>\n<p>If this is the problem, a full build will fix the issue and published JARs should always have their resources. But, it's nice to be able to trigger e.g. the test task for an individual module and know that it will always pull in everything it needs. If you have a library with essential resources that must always be present, you can force them to be processed in partial builds by adding this to the build.gradle of the library:</p>\n<pre><code>    compileJava.dependsOn(processResources)\n</code></pre>\n"}],"owner":{"account_id":278194,"reputation":2443,"user_id":572645,"accept_rate":61,"display_name":"radlan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633109998,"creation_date":1391605005,"question_id":21577949,"body_markdown":"I have a jar containing the main class of a project. This depends on several other jars that reside in a `lib` directory. One class of such a dependend jar loads a ressource `&quot;/Data/foo/bar/file.txt&quot;`. But loading this file as ressource leads to null.\r\n\r\nHere is the directory structure:\r\n\r\n    ./main.jar\r\n    ./lib/lib1.jar\r\n    ./lib/lib2.jar\r\n    ./lib/lib3.jar\r\n    ./lib/runtimedata/Data/foo/bar/file.txt\r\n\r\nThis is the classpath of the manifest.mf of the main.jar:\r\n\r\n    lib/lib1.jar lib/lib2.jar lib/lib3.jar lib/runtimedata\r\n\r\nI start the application via \r\n\r\n    java -jar main.jar\r\n\r\nThe `lib2.jar` contains a class that tries to load the file with\r\n\r\n    ThatClass.class.getResource(&quot;/Data/foo/bar/file.txt&quot;);\r\n\r\nBut that happens to be null. Why? lib/runtimedata is in the classpath. \r\nI even tried to put the `Data` directory into lib/lib/runtimedata, in case the path is relative to the jar file containing the loading class. But that doesn&#39;t help.\r\n\r\nWhat am I doing wrong here?\r\n\r\n**EDIT**:\r\n\r\nRunning the application with \r\n\r\n    java -cp main.jar:lib/*.jar:lib/runtimedata my.package.Main\r\n\r\nworks correctly. \r\n\r\n**EDIT 2**:\r\n\r\nI cannot change that lib that does the resource loading. I am only using that lib. The only things I can change is the main.jar the classpath and the command line.","title":"class.getResource() is null though it is in classpath","body":"<p>I have a jar containing the main class of a project. This depends on several other jars that reside in a <code>lib</code> directory. One class of such a dependend jar loads a ressource <code>\"/Data/foo/bar/file.txt\"</code>. But loading this file as ressource leads to null.</p>\n\n<p>Here is the directory structure:</p>\n\n<pre><code>./main.jar\n./lib/lib1.jar\n./lib/lib2.jar\n./lib/lib3.jar\n./lib/runtimedata/Data/foo/bar/file.txt\n</code></pre>\n\n<p>This is the classpath of the manifest.mf of the main.jar:</p>\n\n<pre><code>lib/lib1.jar lib/lib2.jar lib/lib3.jar lib/runtimedata\n</code></pre>\n\n<p>I start the application via </p>\n\n<pre><code>java -jar main.jar\n</code></pre>\n\n<p>The <code>lib2.jar</code> contains a class that tries to load the file with</p>\n\n<pre><code>ThatClass.class.getResource(\"/Data/foo/bar/file.txt\");\n</code></pre>\n\n<p>But that happens to be null. Why? lib/runtimedata is in the classpath. \nI even tried to put the <code>Data</code> directory into lib/lib/runtimedata, in case the path is relative to the jar file containing the loading class. But that doesn't help.</p>\n\n<p>What am I doing wrong here?</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>Running the application with </p>\n\n<pre><code>java -cp main.jar:lib/*.jar:lib/runtimedata my.package.Main\n</code></pre>\n\n<p>works correctly. </p>\n\n<p><strong>EDIT 2</strong>:</p>\n\n<p>I cannot change that lib that does the resource loading. I am only using that lib. The only things I can change is the main.jar the classpath and the command line.</p>\n"},{"tags":["java","arrays","parameters","boolean","arguments"],"answers":[{"tags":[],"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633108016,"creation_date":1633108016,"answer_id":69409645,"question_id":69409548,"body_markdown":"Instead of boolean [] in your countTrue method, declare the parameter as boolean...","title":"The method countTrue(boolean[]) in the type GUI is not applicable for the arguments (boolean, boolean, boolean, boolean, boolean)","body":"<p>Instead of boolean [] in your countTrue method, declare the parameter as boolean...</p>\n"},{"tags":[],"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633109981,"creation_date":1633108160,"answer_id":69409675,"question_id":69409548,"body_markdown":"New array should be declared as below:\r\n\r\n```int x = GUI.countTrue(new boolean[]{true, false, false, true, false});```\r\n\r\nOR\r\n\r\nyou can use varargs and declare your method as:\r\n```public static int countTrue(boolean... arr)```\r\n\r\nand then call it as:\r\n```int x = GUI.countTrue(true, false, false, true, false);```\r\n\r\nAlso you can simplify ```if (element == true)``` to just ```if (element)```","title":"The method countTrue(boolean[]) in the type GUI is not applicable for the arguments (boolean, boolean, boolean, boolean, boolean)","body":"<p>New array should be declared as below:</p>\n<p><code>int x = GUI.countTrue(new boolean[]{true, false, false, true, false});</code></p>\n<p>OR</p>\n<p>you can use varargs and declare your method as:\n<code>public static int countTrue(boolean... arr)</code></p>\n<p>and then call it as:\n<code>int x = GUI.countTrue(true, false, false, true, false);</code></p>\n<p>Also you can simplify <code>if (element == true)</code> to just <code>if (element)</code></p>\n"}],"owner":{"display_name":"user14728703"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69409675,"answer_count":2,"score":0,"last_activity_date":1633109981,"creation_date":1633107549,"question_id":69409548,"body_markdown":"this is the error :\r\n\r\n&quot;The method countTrue(boolean[]) in the type GUI is not applicable for the arguments (boolean, boolean, boolean, boolean, boolean)&quot;\r\n, the error is in the last line , but i dont get why.\r\n\r\n\r\n    public class GUI {\r\n    \t\r\n    \tpublic GUI(){\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static int countTrue(boolean[] arr) {\r\n    \t\tint count = 0;\r\n    \t\tfor (boolean element : arr) {\r\n    \t\t    if (element == true ) {\r\n    \t\t        count++;\r\n    \t\t    }\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn count ;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint x = GUI.countTrue([true, false, false, true, false]);\r\n    \t\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"The method countTrue(boolean[]) in the type GUI is not applicable for the arguments (boolean, boolean, boolean, boolean, boolean)","body":"<p>this is the error :</p>\n<p>&quot;The method countTrue(boolean[]) in the type GUI is not applicable for the arguments (boolean, boolean, boolean, boolean, boolean)&quot;\n, the error is in the last line , but i dont get why.</p>\n<pre><code>public class GUI {\n    \n    public GUI(){\n        \n    }\n    \n    public static int countTrue(boolean[] arr) {\n        int count = 0;\n        for (boolean element : arr) {\n            if (element == true ) {\n                count++;\n            }\n        }\n        \n        return count ;\n    }\n    \n    \n    public static void main(String[] args) {\n        \n        int x = GUI.countTrue([true, false, false, true, false]);\n            \n    }\n\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":17945275,"reputation":649,"user_id":13039704,"display_name":"Seldo97"},"score":0,"creation_date":1597881689,"post_id":63495169,"comment_id":112280629,"body_markdown":"Is here answer for your question? https://stackoverflow.com/questions/52804228/failed-to-load-driver-class-com-mysql-jdbc-driver\n\nShow your `pom.xml` file.","body":"Is here answer for your question? <a href=\"https://stackoverflow.com/questions/52804228/failed-to-load-driver-class-com-mysql-jdbc-driver\" title=\"failed to load driver class com mysql jdbc driver\">stackoverflow.com/questions/52804228/&hellip;</a>  Show your <code>pom.xml</code> file."},{"owner":{"account_id":18755572,"reputation":31,"user_id":13675675,"display_name":"Andrzej"},"score":0,"creation_date":1597906814,"post_id":63495169,"comment_id":112286113,"body_markdown":"I have seen it before. It don&#39;t work at my case.","body":"I have seen it before. It don&#39;t work at my case."}],"answers":[{"tags":[],"owner":{"account_id":8171302,"reputation":61,"user_id":6151652,"display_name":"Valery Putnin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1633109085,"creation_date":1633099076,"answer_id":69407733,"question_id":63495169,"body_markdown":"One day I woke up, ran my IntelliJ, started the app and had the same problem.\r\nFor a solution please check:  \r\n1. Dependency &#39;mysql:mysql-connector-java&#39; is exists.\r\n2. Class &#39;com.mysql.cj.jdbc.Driver&#39; is exists through global search(ctrl+shift+n) -&gt; classes.\r\n3. In IntelliJ: &quot;File&quot; -&gt; &quot;Invalidate Caches / Restart&quot;.","title":"Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader","body":"<p>One day I woke up, ran my IntelliJ, started the app and had the same problem.\nFor a solution please check:</p>\n<ol>\n<li>Dependency 'mysql:mysql-connector-java' is exists.</li>\n<li>Class 'com.mysql.cj.jdbc.Driver' is exists through global search(ctrl+shift+n) -&gt; classes.</li>\n<li>In IntelliJ: &quot;File&quot; -&gt; &quot;Invalidate Caches / Restart&quot;.</li>\n</ol>\n"}],"owner":{"account_id":18755572,"reputation":31,"user_id":13675675,"display_name":"Andrzej"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8168,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1633109085,"creation_date":1597872052,"question_id":63495169,"body_markdown":"how fix this problem ? /I use Gradle/\r\nDescription:\r\n\r\nFailed to bind properties under &#39;&#39; to com.zaxxer.hikari.HikariDataSource:\r\n\r\n    Property: driverclassname\r\n    Value: com.mysql.cj.jdbc.Driver\r\n    Origin: &quot;driverClassName&quot; from property source &quot;source&quot;\r\n    Reason: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\r\nAction:\r\n\r\nUpdate your application&#39;s configuration","title":"Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader","body":"<p>how fix this problem ? /I use Gradle/\nDescription:</p>\n<p>Failed to bind properties under '' to com.zaxxer.hikari.HikariDataSource:</p>\n<pre><code>Property: driverclassname\nValue: com.mysql.cj.jdbc.Driver\nOrigin: &quot;driverClassName&quot; from property source &quot;source&quot;\nReason: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\n</code></pre>\n<p>Action:</p>\n<p>Update your application's configuration</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"score":0,"creation_date":1633103066,"post_id":69408481,"comment_id":122679489,"body_markdown":"You can&#39;t write files to `/resources` once your application is bundled as a jar.\nYou can instead tell thymeleaf to look in multiple locations","body":"You can&#39;t write files to <code>&#47;resources</code> once your application is bundled as a jar. You can instead tell thymeleaf to look in multiple locations"},{"owner":{"account_id":15618830,"reputation":27,"user_id":11268315,"display_name":"Joachim Karlsson"},"score":0,"creation_date":1633108860,"post_id":69408481,"comment_id":122681601,"body_markdown":"At least it leads me in the right direction. Will look at bit deeper.","body":"At least it leads me in the right direction. Will look at bit deeper."},{"owner":{"account_id":7853419,"reputation":120,"user_id":5936155,"display_name":"Jp Silver"},"score":0,"creation_date":1643281372,"post_id":69408481,"comment_id":125300252,"body_markdown":"You can always upload it to a different directory and get it via : \n`response.setContentType(MediaType.IMAGE_PNG_VALUE);//Or IMAGE_JPG_VALUE etc...\nIOUtils.copy(new FileInputStream(file), response.getOutputStream());`","body":"You can always upload it to a different directory and get it via :  <code>response.setContentType(MediaType.IMAGE_PNG_VALUE);&#47;&#47;Or IMAGE_JPG_VALUE etc... IOUtils.copy(new FileInputStream(file), response.getOutputStream());</code>"}],"answers":[{"tags":[],"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633103519,"creation_date":1633102848,"answer_id":69408581,"question_id":69408481,"body_markdown":"I use a static helper to do this like with `org.springframework.util.ResourceUtils` class\r\n\r\n    public static File getResourceAsFile(String relativeFilePath) throws FileNotFoundException {\r\n\t\treturn ResourceUtils.getFile(String.format(&quot;classpath:%s&quot;,relativeFilePath));\r\n\r\n\t}\r\n\r\nAnd use like \r\n\r\n    File dir=getResourceAsFile(&quot;/static/pictures/&quot;);\r\n    ","title":"Save uploaded picture to static/pictures in spring boot","body":"<p>I use a static helper to do this like with <code>org.springframework.util.ResourceUtils</code> class</p>\n<pre><code>public static File getResourceAsFile(String relativeFilePath) throws FileNotFoundException {\n    return ResourceUtils.getFile(String.format(&quot;classpath:%s&quot;,relativeFilePath));\n\n}\n</code></pre>\n<p>And use like</p>\n<pre><code>File dir=getResourceAsFile(&quot;/static/pictures/&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5136349,"reputation":1773,"user_id":4114992,"display_name":"Donald_W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633103517,"creation_date":1633103517,"answer_id":69408727,"question_id":69408481,"body_markdown":"At a minimum, you will need to add an extra path separator,\r\n\r\ni.e.\r\n\r\n    private String userDirectory = &quot;/static/pictures/&quot;;\r\n\r\nor\r\n\r\n    Path path = Paths.get(uploadPath + &quot;/&quot; + file.getOriginalFilename());\r\n    Files.write(path, bytes);\r\n\r\nSince in your question as written you would end up with something like\r\n\r\n    &quot;/static/picturesfilename&quot;\r\n\r\nrather than\r\n\r\n    &quot;/static/pictures/filename&quot;\r\n\r\nBe aware also that what you are doing is *extremely risky*.  The submitting user can, under certain circumstances, set getOriginalFilename(), and therefore write to\r\n\r\n    /static/pictures/../../etc/arbitrary\r\n\r\nSee https://github.com/spring-projects/spring-framework/issues/18237\r\n\r\n\r\n\r\n\r\n\r\n","title":"Save uploaded picture to static/pictures in spring boot","body":"<p>At a minimum, you will need to add an extra path separator,</p>\n<p>i.e.</p>\n<pre><code>private String userDirectory = &quot;/static/pictures/&quot;;\n</code></pre>\n<p>or</p>\n<pre><code>Path path = Paths.get(uploadPath + &quot;/&quot; + file.getOriginalFilename());\nFiles.write(path, bytes);\n</code></pre>\n<p>Since in your question as written you would end up with something like</p>\n<pre><code>&quot;/static/picturesfilename&quot;\n</code></pre>\n<p>rather than</p>\n<pre><code>&quot;/static/pictures/filename&quot;\n</code></pre>\n<p>Be aware also that what you are doing is <em>extremely risky</em>.  The submitting user can, under certain circumstances, set getOriginalFilename(), and therefore write to</p>\n<pre><code>/static/pictures/../../etc/arbitrary\n</code></pre>\n<p>See <a href=\"https://github.com/spring-projects/spring-framework/issues/18237\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/18237</a></p>\n"}],"owner":{"account_id":15618830,"reputation":27,"user_id":11268315,"display_name":"Joachim Karlsson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5953,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633111003,"answer_count":2,"score":0,"last_activity_date":1633108944,"creation_date":1633102332,"question_id":69408481,"body_markdown":"Edit:\r\nAfter further investigation it seems pretty obvious that I can&#39;t write to /static. I need to write the files elsewhere and direct the Thymeleaf to read from that location.\r\n\r\nI am trying to upload a picture to my spring boot application, placing it in static/pictures so that the thymeleaf html page can read the picture. But I am unable to find out how to specify the path to that folder.\r\n\r\nThere is no problem saving the file to System.getProperty(&quot;user.dir&quot;);\r\n\r\n    //working\r\n    private String userDirectory = System.getProperty(&quot;user.dir&quot;);\r\n    //Not working\r\n    private String userDirectory = &quot;/static/pictures&quot;;\r\n    @PostMapping(&quot;/upload&quot;)\r\n    public String singleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file,\r\n                                   RedirectAttributes redirectAttributes) {\r\n    \r\n \r\nI would like the upload path to point to /static/pictures but will always get\r\njava.nio.file.NoSuchFileException no matter how I define the path.\r\n\r\n            // Get the file and save it somewhere\r\n            byte[] bytes = file.getBytes();\r\n            Path path = Paths.get( uploadPath + file.getOriginalFilename());\r\n            Files.write(path, bytes);\r\n    \r\n            redirectAttributes.addFlashAttribute(&quot;message&quot;,\r\n                    &quot;You successfully uploaded &#39;&quot; + file.getOriginalFilename() + &quot;&#39;&quot;);\r\n    \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        //return &quot;redirect:/uploadStatus&quot;;\r\n        return &quot;index&quot;;\r\n    }\r\n\r\nI have also tried setting upload.path in the properties file.\r\n\r\n    upload.path=/META-INF/resources/static/pictures/\r\n\r\n","title":"Save uploaded picture to static/pictures in spring boot","body":"<p>Edit:\nAfter further investigation it seems pretty obvious that I can't write to /static. I need to write the files elsewhere and direct the Thymeleaf to read from that location.</p>\n<p>I am trying to upload a picture to my spring boot application, placing it in static/pictures so that the thymeleaf html page can read the picture. But I am unable to find out how to specify the path to that folder.</p>\n<p>There is no problem saving the file to System.getProperty(&quot;user.dir&quot;);</p>\n<pre><code>//working\nprivate String userDirectory = System.getProperty(&quot;user.dir&quot;);\n//Not working\nprivate String userDirectory = &quot;/static/pictures&quot;;\n@PostMapping(&quot;/upload&quot;)\npublic String singleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file,\n                               RedirectAttributes redirectAttributes) {\n</code></pre>\n<p>I would like the upload path to point to /static/pictures but will always get\njava.nio.file.NoSuchFileException no matter how I define the path.</p>\n<pre><code>        // Get the file and save it somewhere\n        byte[] bytes = file.getBytes();\n        Path path = Paths.get( uploadPath + file.getOriginalFilename());\n        Files.write(path, bytes);\n\n        redirectAttributes.addFlashAttribute(&quot;message&quot;,\n                &quot;You successfully uploaded '&quot; + file.getOriginalFilename() + &quot;'&quot;);\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    //return &quot;redirect:/uploadStatus&quot;;\n    return &quot;index&quot;;\n}\n</code></pre>\n<p>I have also tried setting upload.path in the properties file.</p>\n<pre><code>upload.path=/META-INF/resources/static/pictures/\n</code></pre>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633107592,"creation_date":1633104738,"answer_id":69408990,"question_id":69408760,"body_markdown":"  You can use below `xPath` to click that tab.\r\n\r\n    //a[contains(@class,&#39;instrument-table-tab-menu&#39;) and text()=&#39;Nyckeltal&#39;]\r\n\r\nIn these type of cases, you need to create a dynamic `xPath` that means same `xPath` can be used for multiple element with different values.\r\n\r\n**Examples**: In below examples I have just changed the text of the tab.\r\n\r\n`xPath` for `Kurser` tab.\r\n\r\n    //a[contains(@class,&#39;instrument-table-tab-menu&#39;) and text()=&#39;Kurser&#39;]\r\n\r\n`xPath` for `Historik` tab.\r\n\r\n    //a[contains(@class,&#39;instrument-table-tab-menu&#39;) and text()=&#39;Historik&#39;]\r\n\r\nI would suggest you to practice with `xPath` more. Please go through this [tutorial][1]   \r\n\r\n\r\n  [1]: https://www.w3schools.com/xml/xpath_intro.asp","title":"What is the best way to click on a tab using Java and selenium on a webpage?","body":"<p>You can use below <code>xPath</code> to click that tab.</p>\n<pre><code>//a[contains(@class,'instrument-table-tab-menu') and text()='Nyckeltal']\n</code></pre>\n<p>In these type of cases, you need to create a dynamic <code>xPath</code> that means same <code>xPath</code> can be used for multiple element with different values.</p>\n<p><strong>Examples</strong>: In below examples I have just changed the text of the tab.</p>\n<p><code>xPath</code> for <code>Kurser</code> tab.</p>\n<pre><code>//a[contains(@class,'instrument-table-tab-menu') and text()='Kurser']\n</code></pre>\n<p><code>xPath</code> for <code>Historik</code> tab.</p>\n<pre><code>//a[contains(@class,'instrument-table-tab-menu') and text()='Historik']\n</code></pre>\n<p>I would suggest you to practice with <code>xPath</code> more. Please go through this <a href=\"https://www.w3schools.com/xml/xpath_intro.asp\" rel=\"nofollow noreferrer\">tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":19867572,"reputation":48,"user_id":14554493,"display_name":"xBullet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633108323,"creation_date":1633107730,"answer_id":69409585,"question_id":69408760,"body_markdown":"Very easy to do if you have the class name with:\r\n\r\n    driver.findElement(By.className(&quot;PUT CLASSNAME OF ELEMENT HERE&quot;)).click();","title":"What is the best way to click on a tab using Java and selenium on a webpage?","body":"<p>Very easy to do if you have the class name with:</p>\n<pre><code>driver.findElement(By.className(&quot;PUT CLASSNAME OF ELEMENT HERE&quot;)).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633108557,"creation_date":1633108557,"answer_id":69409744,"question_id":69408760,"body_markdown":"You should give more precedence to css selector than xpath\r\n\r\n`CSS` would be : \r\n\r\n    a[class^=&#39;instrument-table-tab-menu&#39;][data-target$=&#39;2&#39;]\r\n\r\n`XPATH` would be : \r\n \r\n\r\n    //a[contains(@class,&#39;instrument-table-tab-menu&#39;) and contains(@data-target,&#39;2&#39;)]\r\n\r\n\r\nThere are basically 4 ways to click in Selenium. \r\n\r\n**Using XPATH**\r\n\r\n\r\n**Code trial 1 :**\r\n\r\n    time.sleep(5)\r\n    driver.find_element_by_xpath(&quot;//a[contains(@class,&#39;instrument-table-tab-menu&#39;) and contains(@data-target,&#39;2&#39;)]&quot;).click()\r\n\r\n**Code trial 2 :**\r\n\r\n    WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//a[contains(@class,&#39;instrument-table-tab-menu&#39;) and contains(@data-target,&#39;2&#39;)]&quot;))).click()\r\n\r\n**Code trial 3 :**\r\n\r\n    time.sleep(5)\r\n    button = driver.find_element_by_xpath(&quot;//a[contains(@class,&#39;instrument-table-tab-menu&#39;) and contains(@data-target,&#39;2&#39;)]&quot;)\r\n    driver.execute_script(&quot;arguments[0].click();&quot;, button)\r\n\r\n**Code trial 4 :**\r\n\r\n    time.sleep(5)\r\n    button = driver.find_element_by_xpath(&quot;//a[contains(@class,&#39;instrument-table-tab-menu&#39;) and contains(@data-target,&#39;2&#39;)]&quot;)\r\n    ActionChains(driver).move_to_element(button).click().perform()\r\n\r\n**Imports :**\r\n\r\n    from selenium.webdriver.support.ui import WebDriverWait\r\n    from selenium.webdriver.common.by import By\r\n    from selenium.webdriver.support import expected_conditions as EC\r\n    from selenium.webdriver.common.action_chains import ActionChains","title":"What is the best way to click on a tab using Java and selenium on a webpage?","body":"<p>You should give more precedence to css selector than xpath</p>\n<p><code>CSS</code> would be :</p>\n<pre><code>a[class^='instrument-table-tab-menu'][data-target$='2']\n</code></pre>\n<p><code>XPATH</code> would be :</p>\n<pre><code>//a[contains(@class,'instrument-table-tab-menu') and contains(@data-target,'2')]\n</code></pre>\n<p>There are basically 4 ways to click in Selenium.</p>\n<p><strong>Using XPATH</strong></p>\n<p><strong>Code trial 1 :</strong></p>\n<pre><code>time.sleep(5)\ndriver.find_element_by_xpath(&quot;//a[contains(@class,'instrument-table-tab-menu') and contains(@data-target,'2')]&quot;).click()\n</code></pre>\n<p><strong>Code trial 2 :</strong></p>\n<pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//a[contains(@class,'instrument-table-tab-menu') and contains(@data-target,'2')]&quot;))).click()\n</code></pre>\n<p><strong>Code trial 3 :</strong></p>\n<pre><code>time.sleep(5)\nbutton = driver.find_element_by_xpath(&quot;//a[contains(@class,'instrument-table-tab-menu') and contains(@data-target,'2')]&quot;)\ndriver.execute_script(&quot;arguments[0].click();&quot;, button)\n</code></pre>\n<p><strong>Code trial 4 :</strong></p>\n<pre><code>time.sleep(5)\nbutton = driver.find_element_by_xpath(&quot;//a[contains(@class,'instrument-table-tab-menu') and contains(@data-target,'2')]&quot;)\nActionChains(driver).move_to_element(button).click().perform()\n</code></pre>\n<p><strong>Imports :</strong></p>\n<pre><code>from selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.common.action_chains import ActionChains\n</code></pre>\n"}],"owner":{"account_id":18462998,"reputation":29,"user_id":13449975,"display_name":"torbj&#246;rn s&#246;dheim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1633108557,"creation_date":1633103701,"question_id":69408760,"body_markdown":"I am new to Selenium but I have a question. On the [URL][1]\r\n\r\n\r\n\r\nI want to click the tab &quot;Nyckeltal&quot; (at top of the page) with the  \r\nelement: \r\n\r\n    &lt;a class=&quot;instrument-table-tab-menu__tab js_tab-menu__tab&quot; data-target=&quot;table_2&quot;&gt;Nyckeltal&lt;/a&gt;.\r\n\r\n \r\nCurrently I can click the tab using the code: \r\n\r\n    String xpath =&quot;/html/body/div/div[4]/div/div[4]/div[1]/div[1]/nav/a[3]&quot;; \r\n\tdriver.findElement(By.xpath(xpath)).click();\r\n\r\nBut I guess there is a better way to do this? \r\nI guess the path is regular changed because of ads and therefor I think using xpath is not particular good. \r\n\r\nMy question is there a better way to click &quot;Nyckeltal&quot; than using xpath with Selenium and if there is, how do I write? \r\n\r\n\r\n  [1]: https://www.di.se/bors/large-cap/","title":"What is the best way to click on a tab using Java and selenium on a webpage?","body":"<p>I am new to Selenium but I have a question. On the <a href=\"https://www.di.se/bors/large-cap/\" rel=\"nofollow noreferrer\">URL</a></p>\n<p>I want to click the tab &quot;Nyckeltal&quot; (at top of the page) with the<br />\nelement:</p>\n<pre><code>&lt;a class=&quot;instrument-table-tab-menu__tab js_tab-menu__tab&quot; data-target=&quot;table_2&quot;&gt;Nyckeltal&lt;/a&gt;.\n</code></pre>\n<p>Currently I can click the tab using the code:</p>\n<pre><code>String xpath =&quot;/html/body/div/div[4]/div/div[4]/div[1]/div[1]/nav/a[3]&quot;; \ndriver.findElement(By.xpath(xpath)).click();\n</code></pre>\n<p>But I guess there is a better way to do this?\nI guess the path is regular changed because of ads and therefor I think using xpath is not particular good.</p>\n<p>My question is there a better way to click &quot;Nyckeltal&quot; than using xpath with Selenium and if there is, how do I write?</p>\n"},{"tags":["java","android","android-bitmap"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1633106846,"post_id":69409398,"comment_id":122680892,"body_markdown":"rescale bitmap to something that can fit in 10MB first?","body":"rescale bitmap to something that can fit in 10MB first?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633106985,"post_id":69409398,"comment_id":122680944,"body_markdown":"The bitmap needs a lot of memory. Not the result of compressing it to a jpg in a byte array.","body":"The bitmap needs a lot of memory. Not the result of compressing it to a jpg in a byte array."},{"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"score":0,"creation_date":1633106985,"post_id":69409398,"comment_id":122680945,"body_markdown":"It&#39;s my first time to deal with Bitmaps so I don&#39;t know what you mean or how to do it, sorry.","body":"It&#39;s my first time to deal with Bitmaps so I don&#39;t know what you mean or how to do it, sorry."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1633107058,"post_id":69409398,"comment_id":122680963,"body_markdown":"But... Why did you make that bitmap? Not needed. You can upload the file directly.","body":"But... Why did you make that bitmap? Not needed. You can upload the file directly."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1633107063,"post_id":69409398,"comment_id":122680965,"body_markdown":"Additionally, why do you need the bitmap at all? If you get the byte[] from ContentResolver&#39;s InputSteam?","body":"Additionally, why do you need the bitmap at all? If you get the byte[] from ContentResolver&#39;s InputSteam?"},{"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"score":0,"creation_date":1633107187,"post_id":69409398,"comment_id":122681011,"body_markdown":"@blackapps well I don&#39;t know about that, I 5 days ago asked for how to correctly upload a photo to Graph API and no one answered, so the only way I found afterwards needed to get a byteArray and include in a Bundle with `bundle.putByteArray(&quot;picture&quot;, data);`","body":"@blackapps well I don&#39;t know about that, I 5 days ago asked for how to correctly upload a photo to Graph API and no one answered, so the only way I found afterwards needed to get a byteArray and include in a Bundle with <code>bundle.putByteArray(&quot;picture&quot;, data);</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633107400,"post_id":69409398,"comment_id":122681085,"body_markdown":"A byte array is ok. Well.. there still are better things but ala. But then who invented that intermediate bitmap? Dont do that.","body":"A byte array is ok. Well.. there still are better things but ala. But then who invented that intermediate bitmap? Dont do that."},{"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"score":0,"creation_date":1633107616,"post_id":69409398,"comment_id":122681164,"body_markdown":"@blackapps it&#39;s what popped up and suggested by like 5 question I&#39;ve seen highly upvoted to get byteArray of a picture when I wrote that on google IDK :D","body":"@blackapps it&#39;s what popped up and suggested by like 5 question I&#39;ve seen highly upvoted to get byteArray of a picture when I wrote that on google IDK :D"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633108830,"post_id":69409398,"comment_id":122681588,"body_markdown":"It is not &#39;bitmap to byte array&#39; but &#39;put file in byte array&#39; that you need. No bitmap please.","body":"It is not &#39;bitmap to byte array&#39; but &#39;put file in byte array&#39; that you need. No bitmap please."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1633109819,"post_id":69409398,"comment_id":122681895,"body_markdown":"Use JPG, 90 instead of PNG, 100 ... it&#39;s going to be smaller. And compression will be much faster.","body":"Use JPG, 90 instead of PNG, 100 ... it&#39;s going to be smaller. And compression will be much faster."}],"answers":[{"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633108495,"creation_date":1633107162,"answer_id":69409481,"question_id":69409398,"body_markdown":"How about something like this?\r\n\r\n```\r\n    InputStream inputStream = getApplicationContext().getContentResolver().openInputStream(pictureUri);\r\n\r\n    byte[] data = is.readAllBytes();\r\n```\r\nmaybe that does the trick?\r\n\r\nEDIT:\r\nhowever, this won&#39;t solve the problem if the picture (bitmap&#39;s bytes actually) is too big. If it exceeds 10MB for example.\r\n\r\nRescaling it to 1280x720 should be sufficient, however you&#39;ll better calculate the max width*height yourself, knowing that each pixel takes about 3bytes. \r\n\r\n\r\nHere&#39;s some code you will have to adapt, but it will get you started at least:\r\n```\r\n    public static final int MAX_WIDTH = 1280;\r\n    public static final int MAX_HEIGHT = 720;\r\n\r\nprivate FocusParams calculateRectToCropPicture() {\r\n        View decorView = getWindow().getDecorView();\r\n        int decorWidth = decorView.getWidth();\r\n        int decorHeight = decorView.getHeight();\r\n        Rect screenRect = new Rect(decorView.getLeft(), decorView.getTop(), decorView.getRight(), decorView.getBottom());\r\n        // Get the &quot;camera focus&quot; view and set it as the cropping rect\r\n        Rect cropRect = null;\r\n        if (getCroppingViewId() != 0) {\r\n            cropRect = getCroppingRect(decorView.findViewById(getCroppingViewId()));\r\n        }\r\n\r\n        float widthRatio = (float) cameraFocusView.getWidth() / decorWidth;\r\n        float heightRatio = (float) cameraFocusView.getHeight() / decorHeight;\r\n        return new FocusParams(widthRatio, heightRatio, cropRect, screenRect);\r\n    }\r\n\r\n    private Rect getCroppingRect(View croppingView) {\r\n        if (croppingView != null) {\r\n            // In case the &quot;cropping view&quot; is wrapped with a different view or a viewgroup\r\n            // (such as FrameLayout) we can&#39;t just rely on getLeft / getTop because they return\r\n            // relative positions; so we have to take the parent&#39;s position into account as well.\r\n            // In case we&#39;re located at the root layout, these positions will remain 0 regardless.\r\n            int parentLeft = 0, parentTop = 0;\r\n            if (croppingView.getParent() instanceof View) {\r\n                View parent = (View) croppingView.getParent();\r\n                parentLeft = parent.getLeft();\r\n                parentTop = parent.getTop();\r\n            }\r\n\r\n            int left = (int) (croppingView.getX() + parentLeft);\r\n            int top = (int) (croppingView.getY() + parentTop);\r\n            int right = (int) (left + croppingView.getWidth());\r\n            int bottom = (int) (top + croppingView.getHeight());\r\n\r\n            return new Rect(\r\n                    left,\r\n                    top,\r\n                    right,\r\n                    bottom\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static class FocusParams {\r\n        final float widthRatio;\r\n        final float heightRatio;\r\n        final Rect cropRect;\r\n        final Rect screenRect;\r\n\r\n        FocusParams(float widthRatio, float heightRatio, Rect cropRect, Rect screenRect) {\r\n            this.widthRatio = widthRatio;\r\n            this.heightRatio = heightRatio;\r\n            this.cropRect = cropRect;\r\n            this.screenRect = screenRect;\r\n        }\r\n    }\r\n\r\n\r\n    private File cropPicture(File originalImage, FocusParams focusParams)\r\n            throws IOException {\r\n        Bitmap originalBitmap =\r\n                BitmapFactory.decodeStream(new BufferedInputStream(new FileInputStream(originalImage)));\r\n\r\n        double pictureWidth = originalBitmap.getWidth();\r\n        double pictureHeight = originalBitmap.getHeight();\r\n        double screenWidth = focusParams.screenRect.width();\r\n        double screenHeight = focusParams.screenRect.height();\r\n        Bitmap croppedPart;\r\n\r\n        Rect previewRect = getCameraFragment().getCameraViewRect();\r\n\r\n        boolean isFullscreenPreview = (\r\n                (previewRect.width() == screenWidth)\r\n                        &amp;&amp; (previewRect.height() == screenHeight)\r\n        );\r\n\r\n        // For fullscreen preview (if the camera supports it) the procedure is straightforward:\r\n        // 1. we check whether the screen or the bitmap is bigger\r\n        // 2. if the bitmap is bigger, we scale up the cropping rect and cut out that part of the picture\r\n        // 3. if the screen is bigger, we probably lost some &quot;picture space&quot; due to implicit camera cropping\r\n        //    so we just adjust for that and crop out the relevant part of the picture\r\n        if (isFullscreenPreview) {\r\n            // This scenario tells us that the device has a decent camera that can take pictures\r\n            // much bigger than the screen, or will implicitly crop pictures when told to take\r\n            // smaller pictures\r\n            if (pictureWidth &gt; screenWidth || pictureHeight &gt; screenHeight) {\r\n                // If the bitmap width/height are bigger than the screen width/height, we need to scale UP the cropping rect\r\n                double cropWidthRatio = pictureWidth / focusParams.screenRect.width();\r\n                double cropHeightRatio = pictureHeight / focusParams.screenRect.height();\r\n\r\n                // Scale crop rect\r\n                Rect scaledCropRect = new Rect(\r\n                        (int) (focusParams.cropRect.left * cropWidthRatio),\r\n                        (int) (focusParams.cropRect.top * cropHeightRatio),\r\n                        (int) (focusParams.cropRect.right * cropWidthRatio),\r\n                        (int) (focusParams.cropRect.bottom * cropHeightRatio)\r\n                );\r\n\r\n                croppedPart = Bitmap.createBitmap(\r\n                        scaledCropRect.width(),\r\n                        scaledCropRect.height(),\r\n                        originalBitmap.getConfig()\r\n                );\r\n                Rect destRect = new Rect(0, 0, croppedPart.getWidth(), croppedPart.getHeight());\r\n                // Draw using canvas\r\n                Canvas canvas = new Canvas(croppedPart);\r\n                canvas.drawBitmap(originalBitmap, scaledCropRect, destRect, null);\r\n            } else {\r\n                // In the &quot;downscale&quot; scenario, we can&#39;t simply use scaling because the camera will do\r\n                // implicit cropping. Scaling in that case will produce senseless positions.\r\n                //\r\n                // Ex: If we have a 50x50px square in the center of a 100x100px area,\r\n                // it will have 25px of room on each side.\r\n                //\r\n                // When we want to transform that square onto a 200x200 area, it&#39;s going to turn\r\n                // into a 100x100 square centered in 200x200 area, with 50px of room on each side.\r\n                // (which is fine, and follows scaling rules - it&#39;s still 2x larger) - which is\r\n                // the &quot;upscale scenario&quot;\r\n                //\r\n                // However, transforming a 50x50 square centered in a 200x200 area (with 75px room on both sides)\r\n                // onto a 100x100 area, should still result in a 50x50px square centered, with 25px on both sides\r\n                // Meaning the &quot;room on the sides&quot; shrinks down in a non-linear way and the &quot;interesting area&quot;\r\n                // doesn&#39;t change size at all - which is where the scaling approach breaks down, since the camera\r\n                // will first do implicit cropping of it&#39;s own\r\n                double lostWidth = screenWidth - pictureWidth;\r\n                double cropWidthRatio = focusParams.screenRect.width() / pictureWidth;\r\n\r\n                // Adjust points individually\r\n                // If we &quot;lost width&quot; by camera doing implicit cropping, we need to adjust our points accordingly\r\n                // otherwise, we can just use our original points scaled to the new area\r\n                // We won&#39;t care about the &quot;lost height&quot; due to the ID being either in the bottom or the middle\r\n                // of the picture, taken it was centered in the &quot;view finder&quot; aka &quot;the cropping view&quot;\r\n                int adjustedLeft = (int) (\r\n                        (lostWidth &gt; 0)\r\n                                ? (focusParams.cropRect.left - lostWidth / 2) * cropWidthRatio\r\n                                : focusParams.cropRect.left * cropWidthRatio\r\n                );\r\n                adjustedLeft = clamp(adjustedLeft, 0, (int) pictureWidth);\r\n                int adjustedTop = focusParams.cropRect.top;\r\n                adjustedTop = clamp(adjustedTop, 0, (int) pictureHeight);\r\n                int adjustedRight = (int) (\r\n                        (lostWidth &gt; 0)\r\n                                ? (focusParams.cropRect.right - lostWidth / 2) * cropWidthRatio\r\n                                : focusParams.cropRect.right * cropWidthRatio\r\n                );\r\n                adjustedRight = adjustedRight - focusParams.cropRect.left;\r\n                adjustedRight = clamp(adjustedRight, 0, (int) pictureWidth);\r\n                int adjustedBottom = focusParams.cropRect.bottom;\r\n                adjustedBottom = clamp(adjustedBottom, 0, (int) pictureHeight);\r\n\r\n                Rect adjustedRect = new Rect(\r\n                        adjustedLeft,\r\n                        adjustedTop,\r\n                        adjustedRight,\r\n                        adjustedBottom\r\n                );\r\n\r\n                croppedPart = Bitmap.createBitmap(\r\n                        adjustedRect.width(),\r\n                        adjustedRect.height(),\r\n                        originalBitmap.getConfig()\r\n                );\r\n                Rect destRect = new Rect(0, 0, croppedPart.getWidth(), croppedPart.getHeight());\r\n\r\n                Canvas canvas = new Canvas(croppedPart);\r\n                canvas.drawBitmap(originalBitmap, adjustedRect, destRect, null);\r\n            }\r\n        } else {\r\n            // If we don&#39;t have fullscreen preview; chances are the camera doesn&#39;t support taking pictures\r\n            // bigger than the screen either. So let&#39;s scale down the cropping rect, and cut that part out\r\n            //\r\n            // The cropping rect is in screen-size dimension (e.g. [1080, 1920]) and we need to bring it to\r\n            // the preview-size dimension first\r\n            // This case covers both the &quot;crappy camera&quot; and &quot;implicit scaling&quot; cases\r\n\r\n            double cropWidthRatio = pictureWidth / focusParams.screenRect.width();\r\n            double cropHeightRatio = pictureHeight / focusParams.screenRect.height();\r\n            double cropRatio = Math.max(cropWidthRatio, cropHeightRatio);\r\n\r\n            // Scale crop rect\r\n            Rect scaledCropRect = new Rect(\r\n                    (int) (focusParams.cropRect.left * cropWidthRatio),\r\n                    (int) (focusParams.cropRect.top * cropHeightRatio),\r\n                    (int) (focusParams.cropRect.right * cropWidthRatio),\r\n                    // While this may seem counter-intuitive; the ratio isn&#39;t excellent and may cut out\r\n                    // the bottom of the ID on some devices; so just use the bigger ratio to ensure\r\n                    // the whole ID fits in the picture with the possibility of some empty padding\r\n                    // at the bottom\r\n                    (int) (focusParams.cropRect.bottom * cropRatio)\r\n            );\r\n\r\n            croppedPart = Bitmap.createBitmap(\r\n                    scaledCropRect.width(),\r\n                    scaledCropRect.height(),\r\n                    originalBitmap.getConfig()\r\n            );\r\n            Rect destRect = new Rect(0, 0, croppedPart.getWidth(), croppedPart.getHeight());\r\n            // Draw using canvas\r\n            Canvas canvas = new Canvas(croppedPart);\r\n            canvas.drawBitmap(originalBitmap, scaledCropRect, destRect, null);\r\n        }\r\n        // Since the cropped-out ID is probably different than the GCV recommended sizes, upscale or downscale it\r\n        // But don&#39;t just blindly rescale the cropped part, preserve the aspect ratio\r\n        double croppedWidth = croppedPart.getWidth();\r\n        double croppedHeight = croppedPart.getHeight();\r\n        int scaledWidth;\r\n        int scaledHeight;\r\n\r\n        // Lets re-scale again only if our size is smaller than recommended, or it&#39;s bigger than\r\n        // twice the recommended\r\n        Bitmap scaledCroppedIdPart;\r\n        if ((croppedWidth &lt; MAX_WIDTH) || (croppedHeight &lt; MAX_HEIGHT) || (croppedWidth &gt; 2 * MAX_WIDTH) || (croppedHeight &gt; 2 * MAX_HEIGHT)) {\r\n            if (croppedWidth &gt; croppedHeight) {\r\n                scaledWidth = MAX_WIDTH;\r\n                scaledHeight = (int) (scaledWidth * (croppedHeight / croppedWidth));\r\n            } else {\r\n                scaledHeight = MAX_HEIGHT;\r\n                scaledWidth = (int) (scaledHeight * (croppedWidth / croppedHeight));\r\n            }\r\n\r\n            scaledCroppedIdPart = Bitmap.createScaledBitmap(croppedPart, scaledWidth, scaledHeight, true);\r\n        } else {\r\n            scaledCroppedIdPart = croppedPart;\r\n        }\r\n\r\n        // Write-out the new image and delete the old one before sending off to GCV\r\n        File croppedImageFile = File.createTempFile(&quot;croppedImage&quot;, &quot;jpeg&quot;, getFilesDir());\r\n        scaledCroppedIdPart.compress(Bitmap.CompressFormat.JPEG, 90, new BufferedOutputStream(new FileOutputStream(croppedImageFile)));\r\n        originalImage.delete();\r\n        return croppedImageFile;\r\n    }\r\n\r\n    private int clamp(int valueToClamp, int clampMin, int clampMax) {\r\n        if (valueToClamp &lt;= clampMin) return clampMin;\r\n        if (valueToClamp &gt;= clampMax) return clampMax;\r\n        return valueToClamp;\r\n    }\r\n```","title":"Bitmap to ByteArray conversion always make my app throw OutOfMemoryError","body":"<p>How about something like this?</p>\n<pre><code>    InputStream inputStream = getApplicationContext().getContentResolver().openInputStream(pictureUri);\n\n    byte[] data = is.readAllBytes();\n</code></pre>\n<p>maybe that does the trick?</p>\n<p>EDIT:\nhowever, this won't solve the problem if the picture (bitmap's bytes actually) is too big. If it exceeds 10MB for example.</p>\n<p>Rescaling it to 1280x720 should be sufficient, however you'll better calculate the max width*height yourself, knowing that each pixel takes about 3bytes.</p>\n<p>Here's some code you will have to adapt, but it will get you started at least:</p>\n<pre><code>    public static final int MAX_WIDTH = 1280;\n    public static final int MAX_HEIGHT = 720;\n\nprivate FocusParams calculateRectToCropPicture() {\n        View decorView = getWindow().getDecorView();\n        int decorWidth = decorView.getWidth();\n        int decorHeight = decorView.getHeight();\n        Rect screenRect = new Rect(decorView.getLeft(), decorView.getTop(), decorView.getRight(), decorView.getBottom());\n        // Get the &quot;camera focus&quot; view and set it as the cropping rect\n        Rect cropRect = null;\n        if (getCroppingViewId() != 0) {\n            cropRect = getCroppingRect(decorView.findViewById(getCroppingViewId()));\n        }\n\n        float widthRatio = (float) cameraFocusView.getWidth() / decorWidth;\n        float heightRatio = (float) cameraFocusView.getHeight() / decorHeight;\n        return new FocusParams(widthRatio, heightRatio, cropRect, screenRect);\n    }\n\n    private Rect getCroppingRect(View croppingView) {\n        if (croppingView != null) {\n            // In case the &quot;cropping view&quot; is wrapped with a different view or a viewgroup\n            // (such as FrameLayout) we can't just rely on getLeft / getTop because they return\n            // relative positions; so we have to take the parent's position into account as well.\n            // In case we're located at the root layout, these positions will remain 0 regardless.\n            int parentLeft = 0, parentTop = 0;\n            if (croppingView.getParent() instanceof View) {\n                View parent = (View) croppingView.getParent();\n                parentLeft = parent.getLeft();\n                parentTop = parent.getTop();\n            }\n\n            int left = (int) (croppingView.getX() + parentLeft);\n            int top = (int) (croppingView.getY() + parentTop);\n            int right = (int) (left + croppingView.getWidth());\n            int bottom = (int) (top + croppingView.getHeight());\n\n            return new Rect(\n                    left,\n                    top,\n                    right,\n                    bottom\n            );\n        }\n        return null;\n    }\n\n    static class FocusParams {\n        final float widthRatio;\n        final float heightRatio;\n        final Rect cropRect;\n        final Rect screenRect;\n\n        FocusParams(float widthRatio, float heightRatio, Rect cropRect, Rect screenRect) {\n            this.widthRatio = widthRatio;\n            this.heightRatio = heightRatio;\n            this.cropRect = cropRect;\n            this.screenRect = screenRect;\n        }\n    }\n\n\n    private File cropPicture(File originalImage, FocusParams focusParams)\n            throws IOException {\n        Bitmap originalBitmap =\n                BitmapFactory.decodeStream(new BufferedInputStream(new FileInputStream(originalImage)));\n\n        double pictureWidth = originalBitmap.getWidth();\n        double pictureHeight = originalBitmap.getHeight();\n        double screenWidth = focusParams.screenRect.width();\n        double screenHeight = focusParams.screenRect.height();\n        Bitmap croppedPart;\n\n        Rect previewRect = getCameraFragment().getCameraViewRect();\n\n        boolean isFullscreenPreview = (\n                (previewRect.width() == screenWidth)\n                        &amp;&amp; (previewRect.height() == screenHeight)\n        );\n\n        // For fullscreen preview (if the camera supports it) the procedure is straightforward:\n        // 1. we check whether the screen or the bitmap is bigger\n        // 2. if the bitmap is bigger, we scale up the cropping rect and cut out that part of the picture\n        // 3. if the screen is bigger, we probably lost some &quot;picture space&quot; due to implicit camera cropping\n        //    so we just adjust for that and crop out the relevant part of the picture\n        if (isFullscreenPreview) {\n            // This scenario tells us that the device has a decent camera that can take pictures\n            // much bigger than the screen, or will implicitly crop pictures when told to take\n            // smaller pictures\n            if (pictureWidth &gt; screenWidth || pictureHeight &gt; screenHeight) {\n                // If the bitmap width/height are bigger than the screen width/height, we need to scale UP the cropping rect\n                double cropWidthRatio = pictureWidth / focusParams.screenRect.width();\n                double cropHeightRatio = pictureHeight / focusParams.screenRect.height();\n\n                // Scale crop rect\n                Rect scaledCropRect = new Rect(\n                        (int) (focusParams.cropRect.left * cropWidthRatio),\n                        (int) (focusParams.cropRect.top * cropHeightRatio),\n                        (int) (focusParams.cropRect.right * cropWidthRatio),\n                        (int) (focusParams.cropRect.bottom * cropHeightRatio)\n                );\n\n                croppedPart = Bitmap.createBitmap(\n                        scaledCropRect.width(),\n                        scaledCropRect.height(),\n                        originalBitmap.getConfig()\n                );\n                Rect destRect = new Rect(0, 0, croppedPart.getWidth(), croppedPart.getHeight());\n                // Draw using canvas\n                Canvas canvas = new Canvas(croppedPart);\n                canvas.drawBitmap(originalBitmap, scaledCropRect, destRect, null);\n            } else {\n                // In the &quot;downscale&quot; scenario, we can't simply use scaling because the camera will do\n                // implicit cropping. Scaling in that case will produce senseless positions.\n                //\n                // Ex: If we have a 50x50px square in the center of a 100x100px area,\n                // it will have 25px of room on each side.\n                //\n                // When we want to transform that square onto a 200x200 area, it's going to turn\n                // into a 100x100 square centered in 200x200 area, with 50px of room on each side.\n                // (which is fine, and follows scaling rules - it's still 2x larger) - which is\n                // the &quot;upscale scenario&quot;\n                //\n                // However, transforming a 50x50 square centered in a 200x200 area (with 75px room on both sides)\n                // onto a 100x100 area, should still result in a 50x50px square centered, with 25px on both sides\n                // Meaning the &quot;room on the sides&quot; shrinks down in a non-linear way and the &quot;interesting area&quot;\n                // doesn't change size at all - which is where the scaling approach breaks down, since the camera\n                // will first do implicit cropping of it's own\n                double lostWidth = screenWidth - pictureWidth;\n                double cropWidthRatio = focusParams.screenRect.width() / pictureWidth;\n\n                // Adjust points individually\n                // If we &quot;lost width&quot; by camera doing implicit cropping, we need to adjust our points accordingly\n                // otherwise, we can just use our original points scaled to the new area\n                // We won't care about the &quot;lost height&quot; due to the ID being either in the bottom or the middle\n                // of the picture, taken it was centered in the &quot;view finder&quot; aka &quot;the cropping view&quot;\n                int adjustedLeft = (int) (\n                        (lostWidth &gt; 0)\n                                ? (focusParams.cropRect.left - lostWidth / 2) * cropWidthRatio\n                                : focusParams.cropRect.left * cropWidthRatio\n                );\n                adjustedLeft = clamp(adjustedLeft, 0, (int) pictureWidth);\n                int adjustedTop = focusParams.cropRect.top;\n                adjustedTop = clamp(adjustedTop, 0, (int) pictureHeight);\n                int adjustedRight = (int) (\n                        (lostWidth &gt; 0)\n                                ? (focusParams.cropRect.right - lostWidth / 2) * cropWidthRatio\n                                : focusParams.cropRect.right * cropWidthRatio\n                );\n                adjustedRight = adjustedRight - focusParams.cropRect.left;\n                adjustedRight = clamp(adjustedRight, 0, (int) pictureWidth);\n                int adjustedBottom = focusParams.cropRect.bottom;\n                adjustedBottom = clamp(adjustedBottom, 0, (int) pictureHeight);\n\n                Rect adjustedRect = new Rect(\n                        adjustedLeft,\n                        adjustedTop,\n                        adjustedRight,\n                        adjustedBottom\n                );\n\n                croppedPart = Bitmap.createBitmap(\n                        adjustedRect.width(),\n                        adjustedRect.height(),\n                        originalBitmap.getConfig()\n                );\n                Rect destRect = new Rect(0, 0, croppedPart.getWidth(), croppedPart.getHeight());\n\n                Canvas canvas = new Canvas(croppedPart);\n                canvas.drawBitmap(originalBitmap, adjustedRect, destRect, null);\n            }\n        } else {\n            // If we don't have fullscreen preview; chances are the camera doesn't support taking pictures\n            // bigger than the screen either. So let's scale down the cropping rect, and cut that part out\n            //\n            // The cropping rect is in screen-size dimension (e.g. [1080, 1920]) and we need to bring it to\n            // the preview-size dimension first\n            // This case covers both the &quot;crappy camera&quot; and &quot;implicit scaling&quot; cases\n\n            double cropWidthRatio = pictureWidth / focusParams.screenRect.width();\n            double cropHeightRatio = pictureHeight / focusParams.screenRect.height();\n            double cropRatio = Math.max(cropWidthRatio, cropHeightRatio);\n\n            // Scale crop rect\n            Rect scaledCropRect = new Rect(\n                    (int) (focusParams.cropRect.left * cropWidthRatio),\n                    (int) (focusParams.cropRect.top * cropHeightRatio),\n                    (int) (focusParams.cropRect.right * cropWidthRatio),\n                    // While this may seem counter-intuitive; the ratio isn't excellent and may cut out\n                    // the bottom of the ID on some devices; so just use the bigger ratio to ensure\n                    // the whole ID fits in the picture with the possibility of some empty padding\n                    // at the bottom\n                    (int) (focusParams.cropRect.bottom * cropRatio)\n            );\n\n            croppedPart = Bitmap.createBitmap(\n                    scaledCropRect.width(),\n                    scaledCropRect.height(),\n                    originalBitmap.getConfig()\n            );\n            Rect destRect = new Rect(0, 0, croppedPart.getWidth(), croppedPart.getHeight());\n            // Draw using canvas\n            Canvas canvas = new Canvas(croppedPart);\n            canvas.drawBitmap(originalBitmap, scaledCropRect, destRect, null);\n        }\n        // Since the cropped-out ID is probably different than the GCV recommended sizes, upscale or downscale it\n        // But don't just blindly rescale the cropped part, preserve the aspect ratio\n        double croppedWidth = croppedPart.getWidth();\n        double croppedHeight = croppedPart.getHeight();\n        int scaledWidth;\n        int scaledHeight;\n\n        // Lets re-scale again only if our size is smaller than recommended, or it's bigger than\n        // twice the recommended\n        Bitmap scaledCroppedIdPart;\n        if ((croppedWidth &lt; MAX_WIDTH) || (croppedHeight &lt; MAX_HEIGHT) || (croppedWidth &gt; 2 * MAX_WIDTH) || (croppedHeight &gt; 2 * MAX_HEIGHT)) {\n            if (croppedWidth &gt; croppedHeight) {\n                scaledWidth = MAX_WIDTH;\n                scaledHeight = (int) (scaledWidth * (croppedHeight / croppedWidth));\n            } else {\n                scaledHeight = MAX_HEIGHT;\n                scaledWidth = (int) (scaledHeight * (croppedWidth / croppedHeight));\n            }\n\n            scaledCroppedIdPart = Bitmap.createScaledBitmap(croppedPart, scaledWidth, scaledHeight, true);\n        } else {\n            scaledCroppedIdPart = croppedPart;\n        }\n\n        // Write-out the new image and delete the old one before sending off to GCV\n        File croppedImageFile = File.createTempFile(&quot;croppedImage&quot;, &quot;jpeg&quot;, getFilesDir());\n        scaledCroppedIdPart.compress(Bitmap.CompressFormat.JPEG, 90, new BufferedOutputStream(new FileOutputStream(croppedImageFile)));\n        originalImage.delete();\n        return croppedImageFile;\n    }\n\n    private int clamp(int valueToClamp, int clampMin, int clampMax) {\n        if (valueToClamp &lt;= clampMin) return clampMin;\n        if (valueToClamp &gt;= clampMax) return clampMax;\n        return valueToClamp;\n    }\n</code></pre>\n"}],"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633108495,"creation_date":1633106745,"question_id":69409398,"body_markdown":"I need to convert my Bitmap (image) to byte code to attach it in a bundle required for API call to upload it to some site, though I used what appears to be the most used of way of converting Bitmaps to ByteArray, it always consumes a lot of memory which make my app throw an OutOfMemoryError, my app from just 16 Mb (16000K) it jumps up to &gt; 64Mb (64000K) which causes the error.\r\n\r\nFurthermore, I need my image not to be more than 10 Mb size as the API won&#39;t allow me to upload more than that.\r\n\r\nHow to get ByteArray of my one of my external storage picture without exceeding 10 MB and without causing OutOfMemoryError ? \r\n\r\n* my code of generating the ByteCode \r\n\r\n```\r\n        byte[] data = null;\r\n        Uri pictureUri = Uri.parse(uri_string);\r\n        InputStream inputStream = null;\r\n        try {\r\n            inputStream = getApplicationContext().getContentResolver().openInputStream(pictureUri);\r\n            Bitmap bi = BitmapFactory.decodeStream(inputStream);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            bi.compress(Bitmap.CompressFormat.PNG, 100, baos);\r\n            data = baos.toByteArray();\r\n            bi.recycle();\r\n            inputStream.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\n* the exception I&#39;m getting along with how my app jumps up suddenly in memory consumption (line 83 is data.toByteArray)\r\n```\r\nD/dalvikvm: GC_FOR_ALLOC freed 5435K, 35% free 17128K/26228K, paused 51ms, total 51ms\r\nI/dalvikvm-heap: Grow heap (frag case) to 50.774MB for 31961104-byte allocation\r\nD/dalvikvm: GC_FOR_ALLOC freed 6K, 16% free 48334K/57444K, paused 34ms, total 34ms\r\nD/dalvikvm: GC_FOR_ALLOC freed 1085K, 16% free 49233K/58464K, paused 50ms, total 50ms\r\nD/dalvikvm: GC_FOR_ALLOC freed 1045K, 17% free 50228K/60508K, paused 23ms, total 23ms\r\nI/dalvikvm-heap: Grow heap (frag case) to 56.603MB for 4179344-byte allocation\r\nD/dalvikvm: GC_FOR_ALLOC freed 2040K, 20% free 52269K/64592K, paused 144ms, total 144ms\r\nD/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 20% free 52269K/64592K, paused 47ms, total 47ms\r\nI/dalvikvm-heap: Forcing collection of SoftReferences for 8362484-byte allocation\r\nD/dalvikvm: GC_BEFORE_OOM freed 70K, 20% free 52198K/64592K, paused 55ms, total 55ms\r\nE/dalvikvm-heap: Out of memory on a 8362484-byte allocation.\r\nI/dalvikvm: &quot;pool-2-thread-1&quot; prio=5 tid=36 RUNNABLE\r\n      | group=&quot;main&quot; sCount=0 dsCount=0 obj=0x430b9d30 self=0x63f73198\r\n      | sysTid=18149 nice=0 sched=0/0 cgrp=apps handle=1677137248\r\n      | state=R schedstat=( 12681542275 603177890 1137 ) utm=1179 stm=89 core=4\r\nI/dalvikvm:     at java.io.ByteArrayOutputStream.expand(ByteArrayOutputStream.java:~91)\r\n        at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:201)\r\n        at android.graphics.Bitmap.nativeCompress(Native Method)\r\n        at android.graphics.Bitmap.compress(Bitmap.java:980)\r\nI/dalvikvm:     at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:82)\r\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\r\nI/dalvikvm:     at androidx.work.Worker$1.run(Worker.java:86)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\r\n        at java.lang.Thread.run(Thread.java:841)\r\nW/System.err: java.lang.OutOfMemoryError\r\nW/System.err:     at java.io.ByteArrayOutputStream.expand(ByteArrayOutputStream.java:91)\r\n        at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:201)\r\nW/System.err:     at android.graphics.Bitmap.nativeCompress(Native Method)\r\n        at android.graphics.Bitmap.compress(Bitmap.java:980)\r\n        at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:82)\r\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\r\n        at androidx.work.Worker$1.run(Worker.java:86)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\r\n        at java.lang.Thread.run(Thread.java:841)\r\nD/skia: ------- write threw an exception\r\nD/dalvikvm: GC_FOR_ALLOC freed 13K, 20% free 52195K/64592K, paused 47ms, total 47ms\r\nI/dalvikvm-heap: Forcing collection of SoftReferences for 4177154-byte allocation\r\nD/dalvikvm: GC_BEFORE_OOM freed &lt;1K, 20% free 52194K/64592K, paused 200ms, total 200ms\r\nE/dalvikvm-heap: Out of memory on a 4177154-byte allocation.\r\nI/dalvikvm: &quot;pool-2-thread-1&quot; prio=5 tid=36 RUNNABLE\r\n      | group=&quot;main&quot; sCount=0 dsCount=0 obj=0x430b9d30 self=0x63f73198\r\n      | sysTid=18149 nice=0 sched=0/0 cgrp=apps handle=1677137248\r\n      | state=R schedstat=( 12900202522 616312889 1206 ) utm=1187 stm=102 core=5\r\n        at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:~122)\r\n        at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:83)\r\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\r\n        at androidx.work.Worker$1.run(Worker.java:86)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\r\n        at java.lang.Thread.run(Thread.java:841)\r\nE/WM-WorkerWrapper: Work [ id=ddc8ccb7-cb28-4bd9-99d4-911e8533c171, tags={ com.example.pretest.services.PostDispatchWorker } ] failed because it threw an exception/error\r\n    java.util.concurrent.ExecutionException: java.lang.OutOfMemoryError\r\n        at androidx.work.impl.utils.futures.AbstractFuture.getDoneValue(AbstractFuture.java:516)\r\n        at androidx.work.impl.utils.futures.AbstractFuture.get(AbstractFuture.java:475)\r\n        at androidx.work.impl.WorkerWrapper$2.run(WorkerWrapper.java:300)\r\n        at androidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\r\n        at java.lang.Thread.run(Thread.java:841)\r\n     Caused by: java.lang.OutOfMemoryError\r\n        at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:122)\r\n        at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:83)\r\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\r\n        at androidx.work.Worker$1.run(Worker.java:86)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)&#160;\r\n        at java.lang.Thread.run(Thread.java:841)&#160;\r\n\r\n```","title":"Bitmap to ByteArray conversion always make my app throw OutOfMemoryError","body":"<p>I need to convert my Bitmap (image) to byte code to attach it in a bundle required for API call to upload it to some site, though I used what appears to be the most used of way of converting Bitmaps to ByteArray, it always consumes a lot of memory which make my app throw an OutOfMemoryError, my app from just 16 Mb (16000K) it jumps up to &gt; 64Mb (64000K) which causes the error.</p>\n<p>Furthermore, I need my image not to be more than 10 Mb size as the API won't allow me to upload more than that.</p>\n<p>How to get ByteArray of my one of my external storage picture without exceeding 10 MB and without causing OutOfMemoryError ?</p>\n<ul>\n<li>my code of generating the ByteCode</li>\n</ul>\n<pre><code>        byte[] data = null;\n        Uri pictureUri = Uri.parse(uri_string);\n        InputStream inputStream = null;\n        try {\n            inputStream = getApplicationContext().getContentResolver().openInputStream(pictureUri);\n            Bitmap bi = BitmapFactory.decodeStream(inputStream);\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            bi.compress(Bitmap.CompressFormat.PNG, 100, baos);\n            data = baos.toByteArray();\n            bi.recycle();\n            inputStream.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<ul>\n<li>the exception I'm getting along with how my app jumps up suddenly in memory consumption (line 83 is data.toByteArray)</li>\n</ul>\n<pre><code>D/dalvikvm: GC_FOR_ALLOC freed 5435K, 35% free 17128K/26228K, paused 51ms, total 51ms\nI/dalvikvm-heap: Grow heap (frag case) to 50.774MB for 31961104-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed 6K, 16% free 48334K/57444K, paused 34ms, total 34ms\nD/dalvikvm: GC_FOR_ALLOC freed 1085K, 16% free 49233K/58464K, paused 50ms, total 50ms\nD/dalvikvm: GC_FOR_ALLOC freed 1045K, 17% free 50228K/60508K, paused 23ms, total 23ms\nI/dalvikvm-heap: Grow heap (frag case) to 56.603MB for 4179344-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed 2040K, 20% free 52269K/64592K, paused 144ms, total 144ms\nD/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 20% free 52269K/64592K, paused 47ms, total 47ms\nI/dalvikvm-heap: Forcing collection of SoftReferences for 8362484-byte allocation\nD/dalvikvm: GC_BEFORE_OOM freed 70K, 20% free 52198K/64592K, paused 55ms, total 55ms\nE/dalvikvm-heap: Out of memory on a 8362484-byte allocation.\nI/dalvikvm: &quot;pool-2-thread-1&quot; prio=5 tid=36 RUNNABLE\n      | group=&quot;main&quot; sCount=0 dsCount=0 obj=0x430b9d30 self=0x63f73198\n      | sysTid=18149 nice=0 sched=0/0 cgrp=apps handle=1677137248\n      | state=R schedstat=( 12681542275 603177890 1137 ) utm=1179 stm=89 core=4\nI/dalvikvm:     at java.io.ByteArrayOutputStream.expand(ByteArrayOutputStream.java:~91)\n        at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:201)\n        at android.graphics.Bitmap.nativeCompress(Native Method)\n        at android.graphics.Bitmap.compress(Bitmap.java:980)\nI/dalvikvm:     at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:82)\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\nI/dalvikvm:     at androidx.work.Worker$1.run(Worker.java:86)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n        at java.lang.Thread.run(Thread.java:841)\nW/System.err: java.lang.OutOfMemoryError\nW/System.err:     at java.io.ByteArrayOutputStream.expand(ByteArrayOutputStream.java:91)\n        at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:201)\nW/System.err:     at android.graphics.Bitmap.nativeCompress(Native Method)\n        at android.graphics.Bitmap.compress(Bitmap.java:980)\n        at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:82)\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\n        at androidx.work.Worker$1.run(Worker.java:86)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n        at java.lang.Thread.run(Thread.java:841)\nD/skia: ------- write threw an exception\nD/dalvikvm: GC_FOR_ALLOC freed 13K, 20% free 52195K/64592K, paused 47ms, total 47ms\nI/dalvikvm-heap: Forcing collection of SoftReferences for 4177154-byte allocation\nD/dalvikvm: GC_BEFORE_OOM freed &lt;1K, 20% free 52194K/64592K, paused 200ms, total 200ms\nE/dalvikvm-heap: Out of memory on a 4177154-byte allocation.\nI/dalvikvm: &quot;pool-2-thread-1&quot; prio=5 tid=36 RUNNABLE\n      | group=&quot;main&quot; sCount=0 dsCount=0 obj=0x430b9d30 self=0x63f73198\n      | sysTid=18149 nice=0 sched=0/0 cgrp=apps handle=1677137248\n      | state=R schedstat=( 12900202522 616312889 1206 ) utm=1187 stm=102 core=5\n        at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:~122)\n        at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:83)\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\n        at androidx.work.Worker$1.run(Worker.java:86)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n        at java.lang.Thread.run(Thread.java:841)\nE/WM-WorkerWrapper: Work [ id=ddc8ccb7-cb28-4bd9-99d4-911e8533c171, tags={ com.example.pretest.services.PostDispatchWorker } ] failed because it threw an exception/error\n    java.util.concurrent.ExecutionException: java.lang.OutOfMemoryError\n        at androidx.work.impl.utils.futures.AbstractFuture.getDoneValue(AbstractFuture.java:516)\n        at androidx.work.impl.utils.futures.AbstractFuture.get(AbstractFuture.java:475)\n        at androidx.work.impl.WorkerWrapper$2.run(WorkerWrapper.java:300)\n        at androidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n        at java.lang.Thread.run(Thread.java:841)\n     Caused by: java.lang.OutOfMemoryError\n        at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:122)\n        at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:83)\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\n        at androidx.work.Worker$1.run(Worker.java:86)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573) \n        at java.lang.Thread.run(Thread.java:841) \n\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1345523682,"creation_date":1345522021,"answer_id":12048320,"question_id":12048287,"body_markdown":"It is difficult to answer your question without more specific information about your problem, but this would certainly work:\r\n\r\nYou can use a setter to initialize an instance variable in your other class if you want to use it everywhere in that class:\r\n\r\n    class someClass {\r\n       void someMethod() {\r\n          ABC ab = new ABC();\r\n          XYZ xyz = new XYZ();\r\n          xyz.setABC(ab);\r\n       }\r\n    }\r\n    \r\n    class XYZ {\r\n       ABC ab;\r\n       //...\r\n       void setABC(ABC ab) {\r\n         this.ab = ab;\r\n       }\r\n       //...\r\n       void doSomething() {\r\n          // do something with instance variable ab\r\n       } \r\n    }","title":"How to pass Object from java class to another java class","body":"<p>It is difficult to answer your question without more specific information about your problem, but this would certainly work:</p>\n\n<p>You can use a setter to initialize an instance variable in your other class if you want to use it everywhere in that class:</p>\n\n<pre><code>class someClass {\n   void someMethod() {\n      ABC ab = new ABC();\n      XYZ xyz = new XYZ();\n      xyz.setABC(ab);\n   }\n}\n\nclass XYZ {\n   ABC ab;\n   //...\n   void setABC(ABC ab) {\n     this.ab = ab;\n   }\n   //...\n   void doSomething() {\n      // do something with instance variable ab\n   } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1487312,"reputation":6514,"user_id":1395259,"accept_rate":67,"display_name":"Narendra Pal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345528958,"creation_date":1345523970,"answer_id":12048521,"question_id":12048287,"body_markdown":"This answer is exactlty same as Doug Ramsey [this link][1]\r\nI tried to explain with the same logic.\r\n\r\n  \r\n\r\n      public class A {\r\n        \tpublic void m1() {\r\n        \t\tSystem.out.println(&quot;inside m1 method&quot;);\r\n        \t\tABC ab = new ABC(); // 2 object is made and reference is given to ab \r\n        \t\tXYZ xyz = new XYZ();  3 object is made and reference is given to xyz \r\n        \t\txyz.send(ab); // 4 THIS IS WHAT YOUR QUESTION MEANS\r\n        \t}\r\n        }\r\n    \r\n    \r\n        class XYZ {\r\n           ABC ab;\r\n           //...\r\n           void send(ABC ab) { // 5\r\n             this.ab = ab;\r\n             System.out.println(&quot;inside send&quot;);\r\n             callme(); \r\n           }\r\n           //...\r\n           void callme() { // 6\r\n        \t   System.out.println(&quot;A is : &quot;+ab.a);\r\n        \t   System.out.println(&quot;b is : &quot;+ab.b);\r\n              // do something with instance variable ab\r\n           } \r\n        }\r\n    \r\n    public class ABC {\r\n    \tint a = 10;\r\n    \tstatic int b= 20;\r\n    \tpublic static void main(String[] args) // called first\r\n    \t{\r\n    \t\tA a = new A();\r\n    \t\ta.m1();\r\n    \t}\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/12048320/1395259\r\n\r\n","title":"How to pass Object from java class to another java class","body":"<p>This answer is exactlty same as Doug Ramsey <a href=\"https://stackoverflow.com/a/12048320/1395259\">this link</a>\nI tried to explain with the same logic.</p>\n\n<pre><code>  public class A {\n        public void m1() {\n            System.out.println(\"inside m1 method\");\n            ABC ab = new ABC(); // 2 object is made and reference is given to ab \n            XYZ xyz = new XYZ();  3 object is made and reference is given to xyz \n            xyz.send(ab); // 4 THIS IS WHAT YOUR QUESTION MEANS\n        }\n    }\n\n\n    class XYZ {\n       ABC ab;\n       //...\n       void send(ABC ab) { // 5\n         this.ab = ab;\n         System.out.println(\"inside send\");\n         callme(); \n       }\n       //...\n       void callme() { // 6\n           System.out.println(\"A is : \"+ab.a);\n           System.out.println(\"b is : \"+ab.b);\n          // do something with instance variable ab\n       } \n    }\n\npublic class ABC {\n    int a = 10;\n    static int b= 20;\n    public static void main(String[] args) // called first\n    {\n        A a = new A();\n        a.m1();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1196838,"reputation":6753,"user_id":1168372,"accept_rate":79,"display_name":"Sujay"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1633108138,"creation_date":1345524004,"answer_id":12048526,"question_id":12048287,"body_markdown":"There are several ways to do what you want to achieve. Some of them might be as follows:\r\n\r\n**Passing the object reference through a `constructor`** &lt;br/&gt;\r\nHere, you would explicitly pass the reference of your reference class when you&#39;re creating an object of the actual class.\r\n\r\n    public class ActualClass{\r\n    \tprivate ReferenceClass refClassObject;\r\n    \t\r\n    \t/**\r\n    \t* Passing through a constructor\r\n    \t*/\r\n    \tpublic ActualClass(ReferenceClass refClassObject){\r\n    \t\tthis.refClassObject = refClassObject;\r\n    \t}\r\n    }\r\n    \r\n    class ReferenceClass{\r\n    \t/**\r\n    \t* Your implementation of the class\r\n    \t*/\r\n    }\r\n\r\n**Using getter/setter methods**&lt;br/&gt;\r\nIn this approach, you would pass the reference of your object through explict `public setXX()` methods. This approach is more flexible because you can update the reference object as and when you want to (think `polymorphism`). As an example:\r\n\r\n    public class ActualClass{\r\n    \tprivate ReferenceClass refClassObject;\r\n    \t\r\n    \tpublic ActualClass(){\r\n    \t}\r\n    \t\r\n    \tpublic void setReferenceClass(ReferenceClass refClassObject){\r\n    \t\tthis.refClassObject = refClassObject;\r\n    \t}\r\n    \t\r\n    \tpublic ReferenceClass getReferenceClass(){\r\n    \t\treturn refClassObject;\r\n    \t}\r\n    }\r\n    \r\n    class ReferenceClass{\r\n    \t/**\r\n    \t* Your implementation of the class\r\n    \t*/\r\n    }\r\n\r\n**Using a combination of constructors and getters/setters**&lt;br/&gt;\r\nFor added flexibility, you might want to initialize your Actual class object with a reference. However if you would also want to keep the option of changing the reference at object at a later stage, go for a combination of both #1 &amp; #2 that I specified above. \r\n\r\n    public class ActualClass{\r\n    \tprivate ReferenceClass refClassObject;\r\n    \t\r\n    \tpublic ActualClass(){\r\n    \t}\r\n    \t\r\n    \tpublic ActualClass(ReferenceClass refClassObject){\r\n    \t\tthis.refClassObject = refClassObject;\r\n    \t}\r\n    \t\r\n    \tpublic void setReferenceClass(ReferenceClass refClassObject){\r\n    \t\tthis.refClassObject = refClassObject;\r\n    \t}\r\n    \t\r\n    \tpublic ReferenceClass getReferenceClass(){\r\n    \t\treturn refClassObject;\r\n    \t}\r\n    }\r\n    \r\n    class ReferenceClass{\r\n    \t/**\r\n    \t* Your implementation of the class\r\n    \t*/\r\n    }\r\n\r\nWhich one should you choose? Well it would depend on your implementation and requirement. ","title":"How to pass Object from java class to another java class","body":"<p>There are several ways to do what you want to achieve. Some of them might be as follows:</p>\n<p><strong>Passing the object reference through a <code>constructor</code></strong> <br/>\nHere, you would explicitly pass the reference of your reference class when you're creating an object of the actual class.</p>\n<pre><code>public class ActualClass{\n    private ReferenceClass refClassObject;\n    \n    /**\n    * Passing through a constructor\n    */\n    public ActualClass(ReferenceClass refClassObject){\n        this.refClassObject = refClassObject;\n    }\n}\n\nclass ReferenceClass{\n    /**\n    * Your implementation of the class\n    */\n}\n</code></pre>\n<p><strong>Using getter/setter methods</strong><br/>\nIn this approach, you would pass the reference of your object through explict <code>public setXX()</code> methods. This approach is more flexible because you can update the reference object as and when you want to (think <code>polymorphism</code>). As an example:</p>\n<pre><code>public class ActualClass{\n    private ReferenceClass refClassObject;\n    \n    public ActualClass(){\n    }\n    \n    public void setReferenceClass(ReferenceClass refClassObject){\n        this.refClassObject = refClassObject;\n    }\n    \n    public ReferenceClass getReferenceClass(){\n        return refClassObject;\n    }\n}\n\nclass ReferenceClass{\n    /**\n    * Your implementation of the class\n    */\n}\n</code></pre>\n<p><strong>Using a combination of constructors and getters/setters</strong><br/>\nFor added flexibility, you might want to initialize your Actual class object with a reference. However if you would also want to keep the option of changing the reference at object at a later stage, go for a combination of both #1 &amp; #2 that I specified above.</p>\n<pre><code>public class ActualClass{\n    private ReferenceClass refClassObject;\n    \n    public ActualClass(){\n    }\n    \n    public ActualClass(ReferenceClass refClassObject){\n        this.refClassObject = refClassObject;\n    }\n    \n    public void setReferenceClass(ReferenceClass refClassObject){\n        this.refClassObject = refClassObject;\n    }\n    \n    public ReferenceClass getReferenceClass(){\n        return refClassObject;\n    }\n}\n\nclass ReferenceClass{\n    /**\n    * Your implementation of the class\n    */\n}\n</code></pre>\n<p>Which one should you choose? Well it would depend on your implementation and requirement.</p>\n"},{"tags":[],"owner":{"account_id":1250235,"reputation":6632,"user_id":1210779,"accept_rate":65,"display_name":"Sai Ye Yan Naing Aye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345525318,"creation_date":1345525318,"answer_id":12048687,"question_id":12048287,"body_markdown":"You have two ways to pass object parameter to one class to another.\r\n\r\n - Passing parameter to a method\r\n       \r\n        public void passMethod(ABC ab) {\r\n        }\r\n - Passing parameter to a constructor\r\n\r\n        public class XYZ {\r\n           \r\n            public XYZ(ABC ab) {               \r\n            }\r\n        }","title":"How to pass Object from java class to another java class","body":"<p>You have two ways to pass object parameter to one class to another.</p>\n\n<ul>\n<li><p>Passing parameter to a method</p>\n\n<pre><code>public void passMethod(ABC ab) {\n}\n</code></pre></li>\n<li><p>Passing parameter to a constructor</p>\n\n<pre><code>public class XYZ {\n\n    public XYZ(ABC ab) {               \n    }\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2350896,"reputation":497,"user_id":2059761,"accept_rate":76,"display_name":"Loligans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381014264,"creation_date":1381014264,"answer_id":19203629,"question_id":12048287,"body_markdown":"I know this question is old, but If I&#39;m correct you want to transfer an Object into another class to be used.\r\n\r\nIn order to do that you need a few things\r\n\r\nClass XYZ has to have a constructor to take in the parameter &quot;Object&quot; it would something like\r\n\r\n    class XYZ{\r\n        private Object ab\r\n        public XYZ(Object ab){\r\n            this.ab = ab;//This is the constructor called when you create an XYZ object, and want to use the Object ab in XYZ\r\n        }","title":"How to pass Object from java class to another java class","body":"<p>I know this question is old, but If I'm correct you want to transfer an Object into another class to be used.</p>\n\n<p>In order to do that you need a few things</p>\n\n<p>Class XYZ has to have a constructor to take in the parameter \"Object\" it would something like</p>\n\n<pre><code>class XYZ{\n    private Object ab\n    public XYZ(Object ab){\n        this.ab = ab;//This is the constructor called when you create an XYZ object, and want to use the Object ab in XYZ\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5267532,"reputation":1,"user_id":4206942,"display_name":"deepak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416768504,"creation_date":1416766191,"answer_id":27092448,"question_id":12048287,"body_markdown":"    package demo;\r\n\r\n    class ABC{\r\n    \t void disp(xyz arg1){\r\n    \t\tSystem.out.println(&quot;runing disp method in pratics&quot;);\r\n    \t\tSystem.out.println(&quot;x value:&quot;+arg1.x);\r\n    \t\targ1.test();\r\n    \t }\r\n    \t\r\n    }\r\n\r\n    class xyz{\r\n    \t int x = 67;\r\n    \t void test(){\r\n    \t\tSystem.out.println(&quot;runing test method in pratics&quot;);\r\n    \t }\r\n    }\r\n\r\n    class pratics {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tABC ab=new ABC();\r\n    \t\tab.disp(new xyz());\r\n    \t}\r\n    \t\t\r\n    }\r\n    \t  \t\r\n    \t \r\n      \r\n\r\n","title":"How to pass Object from java class to another java class","body":"<pre><code>package demo;\n\nclass ABC{\n     void disp(xyz arg1){\n        System.out.println(\"runing disp method in pratics\");\n        System.out.println(\"x value:\"+arg1.x);\n        arg1.test();\n     }\n\n}\n\nclass xyz{\n     int x = 67;\n     void test(){\n        System.out.println(\"runing test method in pratics\");\n     }\n}\n\nclass pratics {\n\n    public static void main(String[] args) {\n        ABC ab=new ABC();\n        ab.disp(new xyz());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1754273,"reputation":141,"user_id":1602657,"accept_rate":0,"display_name":"user1602657"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56791,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1633108138,"creation_date":1345521700,"question_id":12048287,"body_markdown":"I created an instance of a class in java as following:\r\n\r\n`ABC ab = new ABC();`\r\n\r\nI want to access this instant `ab` in another class `XYZ`. How to make this Object available in class XYZ? ","title":"How to pass Object from java class to another java class","body":"<p>I created an instance of a class in java as following:</p>\n\n<p><code>ABC ab = new ABC();</code></p>\n\n<p>I want to access this instant <code>ab</code> in another class <code>XYZ</code>. How to make this Object available in class XYZ? </p>\n"},{"tags":["java","lambda","interface","callback"],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633101667,"creation_date":1633101336,"answer_id":69408267,"question_id":69408033,"body_markdown":"you could treate your logic about exception or != 200 inside functionA and throw your custom exception ( or manage this on specific return from functionA ), example on exception bellow:\r\n\r\n\r\ncreate your exception\r\n```java\r\n class MyExceptionGotInsideFunctionA extends RuntimeException {\r\n        \r\n }\r\n```\r\n\r\nyour can throw your new exception inside your functionA\r\n```\r\n    functionA(String str1, String str2, String Str3){\r\n\r\n        try{\r\n           var reponse = otherService();\r\n\r\n           if( response == 200 )  throw new MyExceptionGotInsideFunctionA(&quot;response != 200&quot;);\r\n\r\n        }catch(  Exception e ){\r\n            throw new MyExceptionGotInsideFunctionA(e.getMessage());\r\n        }\r\n\r\n    }\r\n\r\n```\r\ntreaing yout thrown exception \r\n\r\n```\r\ntry{\r\n    serviceA.functionA(String str1, String str2, Str3) // will try run\r\n}catch(MyExceptionGotInsideFunctionA ex){\r\n   serviceB.functionB(String str1, String str2, Str3)\r\n}\r\n```\r\n\r\nif you work with a simple boolean return from functionA to call funcionB will be cleanner and better.\r\n\r\n```java\r\nboolean functionA(String str1, String str2, String Str3){\r\n\r\n        try{\r\n           var reponse = otherService();\r\n\r\n           return response != 200;\r\n\r\n        }catch(  Exception e ){\r\n            return false;\r\n        }\r\n\r\n    }\r\n```","title":"java callback function in case of an exception","body":"<p>you could treate your logic about exception or != 200 inside functionA and throw your custom exception ( or manage this on specific return from functionA ), example on exception bellow:</p>\n<p>create your exception</p>\n<pre class=\"lang-java prettyprint-override\"><code> class MyExceptionGotInsideFunctionA extends RuntimeException {\n        \n }\n</code></pre>\n<p>your can throw your new exception inside your functionA</p>\n<pre><code>    functionA(String str1, String str2, String Str3){\n\n        try{\n           var reponse = otherService();\n\n           if( response == 200 )  throw new MyExceptionGotInsideFunctionA(&quot;response != 200&quot;);\n\n        }catch(  Exception e ){\n            throw new MyExceptionGotInsideFunctionA(e.getMessage());\n        }\n\n    }\n\n</code></pre>\n<p>treaing yout thrown exception</p>\n<pre><code>try{\n    serviceA.functionA(String str1, String str2, Str3) // will try run\n}catch(MyExceptionGotInsideFunctionA ex){\n   serviceB.functionB(String str1, String str2, Str3)\n}\n</code></pre>\n<p>if you work with a simple boolean return from functionA to call funcionB will be cleanner and better.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean functionA(String str1, String str2, String Str3){\n\n        try{\n           var reponse = otherService();\n\n           return response != 200;\n\n        }catch(  Exception e ){\n            return false;\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6640938,"reputation":451,"user_id":5126654,"display_name":"Stephan Stahlmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633107589,"creation_date":1633105618,"answer_id":69409184,"question_id":69408033,"body_markdown":"You can try to take a look at the try-monads from [VAVR][1] or [Cyclops][2].\r\nBoth should be able to do what you want. Something like this should be possible:\r\n\r\n\r\n    private void handleError(BusinessException ex) {\r\n        if(ex.getCode() == 200) {\r\n             serviceB.functionB(str1, str2, str3);\r\n        }\r\n    }\r\n\r\n    private void execute() {\r\n        Try.runWithCatch(serviceA.functionA(str1, str2, str3)).onFail(this::handleError);\r\n    }\r\n\r\nThe problem would be how to pass the values of the str1/str2/str3 to the handling function.\r\n\r\n\r\nEdit: Extending the Cyclops try seems for me the best bet doing something like this.\r\n\r\n    public class MyTry&lt;T,X&gt; extends Try&lt;T,X&gt; {    \r\n        public Try&lt;T,X&gt; onFail(Predicate&lt;X&gt; predicate, Consumer&lt;X&gt; consumer)\r\n             // filter according to to predicate\r\n             // execute consumer\r\n        }\r\n    }\r\n\r\nAnd then you could do something like this:\r\n\r\n    private void execute() {\r\n        Try.runWithCatch(serviceA.functionA(str1, str2,str3)).onFail(ex -&gt; ex.getCode() == 200, ex -&gt; serviceB.functionB(str1, str2, str3));\r\n    }\r\n\r\n\r\n  [1]: https://github.com/vavr-io/vavr\r\n  [2]: https://github.com/aol/cyclops","title":"java callback function in case of an exception","body":"<p>You can try to take a look at the try-monads from <a href=\"https://github.com/vavr-io/vavr\" rel=\"nofollow noreferrer\">VAVR</a> or <a href=\"https://github.com/aol/cyclops\" rel=\"nofollow noreferrer\">Cyclops</a>.\nBoth should be able to do what you want. Something like this should be possible:</p>\n<pre><code>private void handleError(BusinessException ex) {\n    if(ex.getCode() == 200) {\n         serviceB.functionB(str1, str2, str3);\n    }\n}\n\nprivate void execute() {\n    Try.runWithCatch(serviceA.functionA(str1, str2, str3)).onFail(this::handleError);\n}\n</code></pre>\n<p>The problem would be how to pass the values of the str1/str2/str3 to the handling function.</p>\n<p>Edit: Extending the Cyclops try seems for me the best bet doing something like this.</p>\n<pre><code>public class MyTry&lt;T,X&gt; extends Try&lt;T,X&gt; {    \n    public Try&lt;T,X&gt; onFail(Predicate&lt;X&gt; predicate, Consumer&lt;X&gt; consumer)\n         // filter according to to predicate\n         // execute consumer\n    }\n}\n</code></pre>\n<p>And then you could do something like this:</p>\n<pre><code>private void execute() {\n    Try.runWithCatch(serviceA.functionA(str1, str2,str3)).onFail(ex -&gt; ex.getCode() == 200, ex -&gt; serviceB.functionB(str1, str2, str3));\n}\n</code></pre>\n"}],"owner":{"account_id":2256891,"reputation":185,"user_id":1987900,"accept_rate":11,"display_name":"avi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633107589,"creation_date":1633100263,"question_id":69408033,"body_markdown":"I&#39;ve to implement a callback mechanism in case of an exception.\r\nsuppose i hv a code to call like , which takes 3 parameters\r\ninside a class called ServiceA \r\n```\r\nserviceA.functionA(String str1, String str2, Str3)\r\n```\r\nwhich is inside an i/o call or call to an other service\r\nnow if this call fails then i need to call an another similar function\r\nwhich is in class called ServiceB\r\n```\r\nserviceB.functionB(String str1, String str2, Str3)..if there is an exception\r\n```\r\nwhich should execute functionB if there is any exception in FunctionA..or functionA return a code other than 2xx ..\r\n\r\nwhat would be the way to implement in using interfaces in java 8.\r\nis this could be implement using lambda and functional interfaces\r\n\r\nthe code i&#39;m looking through java8 functional interface..should perform similar to the try catch block like this \r\n```\r\ntry{\r\nserviceA.functionA(String str1, String str2, Str3)\r\n}\r\ncatch(Exception ex){\r\nif(ex.errorCode != 200)\r\nserviceB.functionB(String str1, String str2, Str3)\r\n}\r\n```\r\ni search through some online contents ..but couldn&#39;t find any appropriate answer","title":"java callback function in case of an exception","body":"<p>I've to implement a callback mechanism in case of an exception.\nsuppose i hv a code to call like , which takes 3 parameters\ninside a class called ServiceA</p>\n<pre><code>serviceA.functionA(String str1, String str2, Str3)\n</code></pre>\n<p>which is inside an i/o call or call to an other service\nnow if this call fails then i need to call an another similar function\nwhich is in class called ServiceB</p>\n<pre><code>serviceB.functionB(String str1, String str2, Str3)..if there is an exception\n</code></pre>\n<p>which should execute functionB if there is any exception in FunctionA..or functionA return a code other than 2xx ..</p>\n<p>what would be the way to implement in using interfaces in java 8.\nis this could be implement using lambda and functional interfaces</p>\n<p>the code i'm looking through java8 functional interface..should perform similar to the try catch block like this</p>\n<pre><code>try{\nserviceA.functionA(String str1, String str2, Str3)\n}\ncatch(Exception ex){\nif(ex.errorCode != 200)\nserviceB.functionB(String str1, String str2, Str3)\n}\n</code></pre>\n<p>i search through some online contents ..but couldn't find any appropriate answer</p>\n"},{"tags":["java","xml","intellij-idea","jersey","dropwizard"],"comments":[{"owner":{"account_id":2016660,"reputation":263,"user_id":1803810,"display_name":"leoconco"},"score":0,"creation_date":1633025103,"post_id":69396932,"comment_id":122658689,"body_markdown":"You are probably missing some depedencies in the jar, looks like the Intellij one is the correct one.","body":"You are probably missing some depedencies in the jar, looks like the Intellij one is the correct one."},{"owner":{"account_id":6831315,"reputation":59,"user_id":5255197,"accept_rate":75,"display_name":"Jawad Azzam"},"score":0,"creation_date":1633025480,"post_id":69396932,"comment_id":122658841,"body_markdown":"I am running mvn clean install to build the jar, so it should take the same dependencies that I have in the pom, I m trying to clean .m2 and then to rerun from intellij to see if I still get the same","body":"I am running mvn clean install to build the jar, so it should take the same dependencies that I have in the pom, I m trying to clean .m2 and then to rerun from intellij to see if I still get the same"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1633026407,"post_id":69396932,"comment_id":122659183,"body_markdown":"Can you post your pom with your dependencies and plugins.","body":"Can you post your pom with your dependencies and plugins."},{"owner":{"account_id":2016660,"reputation":263,"user_id":1803810,"display_name":"leoconco"},"score":1,"creation_date":1633027279,"post_id":69396932,"comment_id":122659463,"body_markdown":"@GawadAzzam I&#39;m thinking more on plain jar vs https://maven.apache.org/plugins/maven-shade-plugin/ . So, your jar is not including the dependency that handles those `XmlAttribute` annotations.","body":"@GawadAzzam I&#39;m thinking more on plain jar vs <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin</a> . So, your jar is not including the dependency that handles those <code>XmlAttribute</code> annotations."}],"answers":[{"tags":[],"owner":{"account_id":2016660,"reputation":263,"user_id":1803810,"display_name":"leoconco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633030991,"creation_date":1633030341,"answer_id":69397930,"question_id":69396932,"body_markdown":"Don&#39;t package your jar plain, use the maven-shade-plugin, that will include the dependencies in the jar, or, add these dependencies to your Classpath.","title":"Running Java app from IntelliJ returns different response format","body":"<p>Don't package your jar plain, use the maven-shade-plugin, that will include the dependencies in the jar, or, add these dependencies to your Classpath.</p>\n"},{"tags":[],"owner":{"account_id":6831315,"reputation":59,"user_id":5255197,"accept_rate":75,"display_name":"Jawad Azzam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633107150,"creation_date":1633107150,"answer_id":69409479,"question_id":69396932,"body_markdown":"1. after deleting .m2 I got same response from IntelliJ and from the Jar.\r\n2. for some reason Dropwizard 2.0.24 was ignoring my JAXB annotations, I fixed it by changing the version to 2.0.0.\r\n\r\nthanks for your comments, much appreciated ","title":"Running Java app from IntelliJ returns different response format","body":"<ol>\n<li>after deleting .m2 I got same response from IntelliJ and from the Jar.</li>\n<li>for some reason Dropwizard 2.0.24 was ignoring my JAXB annotations, I fixed it by changing the version to 2.0.0.</li>\n</ol>\n<p>thanks for your comments, much appreciated</p>\n"}],"owner":{"account_id":6831315,"reputation":59,"user_id":5255197,"accept_rate":75,"display_name":"Jawad Azzam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633107150,"creation_date":1633024824,"question_id":69396932,"body_markdown":"I am trying to call an API in my Dropwizard application, the API returns the following class\r\n\r\n```\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n@EqualsAndHashCode\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlRootElement(name = &quot;Error&quot;)\r\npublic class ErrorResponse {\r\n\r\n    @NonNull\r\n    @XmlAttribute(name = &quot;msg&quot;)\r\n    private String msg;\r\n\r\n    @XmlAttribute(name = &quot;display&quot;)\r\n    protected String display;\r\n\r\n    @XmlAttribute(name = &quot;action&quot;)\r\n    private String action;\r\n\r\n    @NotNull\r\n    @XmlAttribute(name = &quot;type&quot;)\r\n    private String type;\r\n\r\n    @XmlAttribute(name = &quot;code&quot;)\r\n    private String code;\r\n\r\n}\r\n```\r\n```\r\nreturn javax.ws.rs.core.Response.status(status).entity(ErrorResponse).header(CONTENT_TYPE, APPLICATION_XML).build();\r\n```\r\n\r\nwhen I ran the application from IntelliJ, I got this response:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;Error msg=&quot;some message&quot; display=&quot;true&quot; action=&quot;RETRY&quot; type=&quot;FATAL&quot; code=&quot;error&quot;/&gt;\r\n```\r\n\r\nwhen I ran it using the jar, I got this:\r\n```\r\n  &lt;ErrorResponse&gt;\r\n        &lt;msg&gt;some message&lt;/msg&gt;\r\n        &lt;display&gt;true&lt;/display&gt;\r\n        &lt;action&gt;RETRY&lt;/action&gt;\r\n        &lt;type&gt;FATAL&lt;/type&gt;\r\n        &lt;code&gt;error&lt;/code&gt;\r\n    &lt;/ErrorResponse&gt;\r\n```\r\n\r\nI am using dropwizard 2.0.24","title":"Running Java app from IntelliJ returns different response format","body":"<p>I am trying to call an API in my Dropwizard application, the API returns the following class</p>\n<pre><code>@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@EqualsAndHashCode\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;Error&quot;)\npublic class ErrorResponse {\n\n    @NonNull\n    @XmlAttribute(name = &quot;msg&quot;)\n    private String msg;\n\n    @XmlAttribute(name = &quot;display&quot;)\n    protected String display;\n\n    @XmlAttribute(name = &quot;action&quot;)\n    private String action;\n\n    @NotNull\n    @XmlAttribute(name = &quot;type&quot;)\n    private String type;\n\n    @XmlAttribute(name = &quot;code&quot;)\n    private String code;\n\n}\n</code></pre>\n<pre><code>return javax.ws.rs.core.Response.status(status).entity(ErrorResponse).header(CONTENT_TYPE, APPLICATION_XML).build();\n</code></pre>\n<p>when I ran the application from IntelliJ, I got this response:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;Error msg=&quot;some message&quot; display=&quot;true&quot; action=&quot;RETRY&quot; type=&quot;FATAL&quot; code=&quot;error&quot;/&gt;\n</code></pre>\n<p>when I ran it using the jar, I got this:</p>\n<pre><code>  &lt;ErrorResponse&gt;\n        &lt;msg&gt;some message&lt;/msg&gt;\n        &lt;display&gt;true&lt;/display&gt;\n        &lt;action&gt;RETRY&lt;/action&gt;\n        &lt;type&gt;FATAL&lt;/type&gt;\n        &lt;code&gt;error&lt;/code&gt;\n    &lt;/ErrorResponse&gt;\n</code></pre>\n<p>I am using dropwizard 2.0.24</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1633249071,"post_id":69409137,"comment_id":122705165,"body_markdown":"To understand , there are multiple implemenations of `BatchUpdater` and the requirement here is to programmatically call the corresponding implemenation based on the type of list , is it ? Also ,  within `MyServiceClass.updateTables()` how is `TableA`  bean and `tableAList` mapped ?","body":"To understand , there are multiple implemenations of <code>BatchUpdater</code> and the requirement here is to programmatically call the corresponding implemenation based on the type of list , is it ? Also ,  within <code>MyServiceClass.updateTables()</code> how is <code>TableA</code>  bean and <code>tableAList</code> mapped ?"}],"answers":[{"tags":[],"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633106163,"creation_date":1633106163,"answer_id":69409295,"question_id":69409137,"body_markdown":"Well, I use a factory pattern with HashMap and reflections to instantiate like\r\n\r\n    public static class Factory{\r\n\t\tfinal static HashMap&lt;String,Class&lt;? extends MyAbstractClass&gt;&gt; supportedVersions = new HashMap&lt;&gt;();\r\n\t\tstatic{\r\n\r\n\t\t\tsupportedVersions.put(&quot;v1&quot;, ClassV1.class);\r\n\t\t\tsupportedVersions.put(&quot;v2&quot;, ClassV2.class);\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tpublic static MyAbstractClass getInstanceFor(String type) {\r\n\t\t\ttry {\r\n\t\t\t\treturn supportedVersions.get(type)\r\n\t\t\t\t\t\t.getConstructor().newInstance(&quot;params&quot;);\r\n\t\t\t} catch (IllegalAccessException e) {\r\n\t\t\t\tthrow new CustomException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Something went wrong&quot;);\r\n\t\t\t} catch (InstantiationException | InvocationTargetException | NoSuchMethodException e) {\r\n\t\t\t\tthrow new CustomException(HttpStatus.BAD_REQUEST, &quot;Unsupported Version&quot;);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to write a service class to return any implementation class object which implements interface","body":"<p>Well, I use a factory pattern with HashMap and reflections to instantiate like</p>\n<pre><code>public static class Factory{\n    final static HashMap&lt;String,Class&lt;? extends MyAbstractClass&gt;&gt; supportedVersions = new HashMap&lt;&gt;();\n    static{\n\n        supportedVersions.put(&quot;v1&quot;, ClassV1.class);\n        supportedVersions.put(&quot;v2&quot;, ClassV2.class);\n        \n    }\n\n    public static MyAbstractClass getInstanceFor(String type) {\n        try {\n            return supportedVersions.get(type)\n                    .getConstructor().newInstance(&quot;params&quot;);\n        } catch (IllegalAccessException e) {\n            throw new CustomException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Something went wrong&quot;);\n        } catch (InstantiationException | InvocationTargetException | NoSuchMethodException e) {\n            throw new CustomException(HttpStatus.BAD_REQUEST, &quot;Unsupported Version&quot;);\n\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15057183,"reputation":51,"user_id":10867131,"display_name":"Pamuleti Pullagura"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633106677,"creation_date":1633105391,"question_id":69409137,"body_markdown":"I have a requirement to update number of records into a table in a single call from Java program. Simply it is JDBC batch update.\r\n\r\nFor this, I have this following code snippet at interface and implementation which is perfectly working.\r\n\r\n    interface TableABatchUpdater extends Logic&lt;TableADTO&gt; {\r\n       void updateBatch(List&lt;TableADTO&gt; list)\r\n    }\r\n    \r\n    class TableABatchUpdaterImpl extends AbstractLogic&lt;TableADTO&gt; implements TableABatchUpdater {\r\n       @Autowired DAOClass dao;\r\n    \r\n       TableABatchUpdaterImpl(){\r\n         super(&quot;TableA&quot;);\r\n       }\r\n    \r\n       @Override\r\n        void updateBatch(List&lt;TableADTO&gt; list) {\r\n            dao.updateBatch(list)\r\n        }\r\n    \r\n    }\r\n    interface TableBBatchUpdater extends Logic&lt;TableBDTO&gt; {\r\n       void updateBatch(List&lt;TableBDTO&gt; list)\r\n    }\r\n    \r\n    class TableBBatchUpdaterImpl extends AbstractLogic&lt;TableBDTO&gt; implements TableBBatchUpdater {\r\n       @Autowired DAOClass dao;\r\n    \r\n       TableBBatchUpdaterImpl(){\r\n         super(&quot;TableB&quot;);\r\n       }\r\n    \r\n       @Override\r\n        void updateBatch(List&lt;TableBDTO&gt; list) {\r\n            dao.updateBatch(list)\r\n        }\r\n    \r\n    }\r\n    \r\n    interface TableCBatchUpdater extends Logic&lt;TableCDTO&gt; {\r\n       void updateBatch(List&lt;TableCDTO&gt; list)\r\n    }\r\n    \r\n    class TableACatchUpdaterImpl extends AbstractLogic&lt;TableCDTO&gt; implements TableABatchUpdater {\r\n       @Autowired DAOClass dao;\r\n    \r\n       TableCBatchUpdaterImpl(){\r\n         super(&quot;TableC&quot;);\r\n       }\r\n    \r\n       @Override\r\n        void updateBatch(List&lt;TableCDTO&gt; list) {\r\n            dao.updateBatch(list)\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    public class MyServiceClass {\r\n    \r\n      @Autowired TableABatchUpdater tableA;\r\n      @Autowired TableBBatchUpdater tableB;\r\n      @Autowired TableCBatchUpdater tableC;\r\n    \r\n      public void updateTables() {\r\n         tableA.updateBatch(tableAList);\r\n         tableB.updateBatch(tableBList);\r\n         tableC.updateBatch(tableCList);\r\n       }\r\n    \r\n    }\r\n\r\nThe problem here is, when I would like to add batch update statements for another table called `&quot;TableD&quot;`, MyServiceClass class dependencies are increasing and the complexity is very high interms of unit testing..etc. So, I tried to use one interface instead of independent interface for each table as follows. But, still I have to write many implementation classes for each table which I don&#39;t want.\r\n\r\n    interface BatchUpdater extends Logic&lt;?&gt; {\r\n           void updateBatch(List&lt;?&gt; list)\r\n    }\r\n\r\nI tried to write the implementations by using factory and composite patterns. But, none of them worked out.\r\n\r\nIs there any other way in Spring to write a separate service class which will return as the following.\r\n\r\n    public class MyServiceClass {\r\n    \r\n        @Autowired BatchUpdaterService batchUpdaterService;\r\n    \r\n        public void updateTables() {\r\n            batchUpdaterService.getTableUpdater(&quot;TableA&quot;).updateBatch(tableAList);\r\n            batchUpdaterService.getTableUpdater(&quot;TableB&quot;).updateBatch(tableBList);\r\n            batchUpdaterService.getTableUpdater(&quot;TableC&quot;).updateBatch(tableCList);\r\n        }\r\n    \r\n    }\r\n\r\nAny response is highly appreciated","title":"How to write a service class to return any implementation class object which implements interface","body":"<p>I have a requirement to update number of records into a table in a single call from Java program. Simply it is JDBC batch update.</p>\n<p>For this, I have this following code snippet at interface and implementation which is perfectly working.</p>\n<pre><code>interface TableABatchUpdater extends Logic&lt;TableADTO&gt; {\n   void updateBatch(List&lt;TableADTO&gt; list)\n}\n\nclass TableABatchUpdaterImpl extends AbstractLogic&lt;TableADTO&gt; implements TableABatchUpdater {\n   @Autowired DAOClass dao;\n\n   TableABatchUpdaterImpl(){\n     super(&quot;TableA&quot;);\n   }\n\n   @Override\n    void updateBatch(List&lt;TableADTO&gt; list) {\n        dao.updateBatch(list)\n    }\n\n}\ninterface TableBBatchUpdater extends Logic&lt;TableBDTO&gt; {\n   void updateBatch(List&lt;TableBDTO&gt; list)\n}\n\nclass TableBBatchUpdaterImpl extends AbstractLogic&lt;TableBDTO&gt; implements TableBBatchUpdater {\n   @Autowired DAOClass dao;\n\n   TableBBatchUpdaterImpl(){\n     super(&quot;TableB&quot;);\n   }\n\n   @Override\n    void updateBatch(List&lt;TableBDTO&gt; list) {\n        dao.updateBatch(list)\n    }\n\n}\n\ninterface TableCBatchUpdater extends Logic&lt;TableCDTO&gt; {\n   void updateBatch(List&lt;TableCDTO&gt; list)\n}\n\nclass TableACatchUpdaterImpl extends AbstractLogic&lt;TableCDTO&gt; implements TableABatchUpdater {\n   @Autowired DAOClass dao;\n\n   TableCBatchUpdaterImpl(){\n     super(&quot;TableC&quot;);\n   }\n\n   @Override\n    void updateBatch(List&lt;TableCDTO&gt; list) {\n        dao.updateBatch(list)\n    }\n\n}\n\n\npublic class MyServiceClass {\n\n  @Autowired TableABatchUpdater tableA;\n  @Autowired TableBBatchUpdater tableB;\n  @Autowired TableCBatchUpdater tableC;\n\n  public void updateTables() {\n     tableA.updateBatch(tableAList);\n     tableB.updateBatch(tableBList);\n     tableC.updateBatch(tableCList);\n   }\n\n}\n</code></pre>\n<p>The problem here is, when I would like to add batch update statements for another table called <code>&quot;TableD&quot;</code>, MyServiceClass class dependencies are increasing and the complexity is very high interms of unit testing..etc. So, I tried to use one interface instead of independent interface for each table as follows. But, still I have to write many implementation classes for each table which I don't want.</p>\n<pre><code>interface BatchUpdater extends Logic&lt;?&gt; {\n       void updateBatch(List&lt;?&gt; list)\n}\n</code></pre>\n<p>I tried to write the implementations by using factory and composite patterns. But, none of them worked out.</p>\n<p>Is there any other way in Spring to write a separate service class which will return as the following.</p>\n<pre><code>public class MyServiceClass {\n\n    @Autowired BatchUpdaterService batchUpdaterService;\n\n    public void updateTables() {\n        batchUpdaterService.getTableUpdater(&quot;TableA&quot;).updateBatch(tableAList);\n        batchUpdaterService.getTableUpdater(&quot;TableB&quot;).updateBatch(tableBList);\n        batchUpdaterService.getTableUpdater(&quot;TableC&quot;).updateBatch(tableCList);\n    }\n\n}\n</code></pre>\n<p>Any response is highly appreciated</p>\n"},{"tags":["java","persistence","jpa"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1633093946,"post_id":69406289,"comment_id":122675573,"body_markdown":"Have you tried dropping `referencedColumnName` as follows: `@JoinColumn(name = &quot;ext_human_id&quot;)`*","body":"Have you tried dropping <code>referencedColumnName</code> as follows: <code>@JoinColumn(name = &quot;ext_human_id&quot;)</code>*"},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633095073,"post_id":69406289,"comment_id":122676046,"body_markdown":"Thanks a lot for the reply @Jo&#227;oDias. Unfortunately, this didn&#39;t help.","body":"Thanks a lot for the reply @Jo&#227;oDias. Unfortunately, this didn&#39;t help."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1633095431,"post_id":69406289,"comment_id":122676236,"body_markdown":"Have you tried dropping `Human` class and use only `User`? I know this is not what you need but just for debugging purposes and trying to figure out where the problem might be. Currently, there are too many moving parts.","body":"Have you tried dropping <code>Human</code> class and use only <code>User</code>? I know this is not what you need but just for debugging purposes and trying to figure out where the problem might be. Currently, there are too many moving parts."},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633095801,"post_id":69406289,"comment_id":122676412,"body_markdown":"@Jo&#227;oDias that, didn&#39;t help either.","body":"@Jo&#227;oDias that, didn&#39;t help either."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633096858,"post_id":69406289,"comment_id":122676859,"body_markdown":"And what about `@OneToOne(fetch = FetchType.LAZY, optional = false)` in `CollectionOfContactMethods` instead of `@OneToOne(fetch = FetchType.LAZY)`?","body":"And what about <code>@OneToOne(fetch = FetchType.LAZY, optional = false)</code> in <code>CollectionOfContactMethods</code> instead of <code>@OneToOne(fetch = FetchType.LAZY)</code>?"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633096955,"post_id":69406289,"comment_id":122676907,"body_markdown":"If this does not work either, can you please add the code that actually creates and persists the `User`?","body":"If this does not work either, can you please add the code that actually creates and persists the <code>User</code>?"},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633097590,"post_id":69406289,"comment_id":122677211,"body_markdown":"@Jo&#227;oDias that will cause `not-null property references a null or transient value : com.tsakirogf.schedu.model.CollectionOfContactMethods.user`","body":"@Jo&#227;oDias that will cause <code>not-null property references a null or transient value : com.tsakirogf.schedu.model.CollectionOfContactMethods.user</code>"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633097779,"post_id":69406289,"comment_id":122677272,"body_markdown":"Have you cleared your DB first?","body":"Have you cleared your DB first?"},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633097901,"post_id":69406289,"comment_id":122677328,"body_markdown":"It&#39;s H2 for now. I think it&#39;s not persistent. Every time I restart the app it gets purged.","body":"It&#39;s H2 for now. I think it&#39;s not persistent. Every time I restart the app it gets purged."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633097965,"post_id":69406289,"comment_id":122677361,"body_markdown":"Then can you add the code that creates the entities and persists them?","body":"Then can you add the code that creates the entities and persists them?"},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633101749,"post_id":69406289,"comment_id":122678982,"body_markdown":"@Jo&#227;oDias Do you mean Controller and Service?","body":"@Jo&#227;oDias Do you mean Controller and Service?"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633102290,"post_id":69406289,"comment_id":122679208,"body_markdown":"Yes, and the Repository as well. Thanks.","body":"Yes, and the Repository as well. Thanks."},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633102375,"post_id":69406289,"comment_id":122679249,"body_markdown":"I have to thank you.","body":"I have to thank you."},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633103100,"post_id":69406289,"comment_id":122679502,"body_markdown":"@Jo&#227;oDias This is it. Forgot to say I am using Spring Rest &amp; Crud. So nothing really special there.","body":"@Jo&#227;oDias This is it. Forgot to say I am using Spring Rest &amp; Crud. So nothing really special there."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633106450,"creation_date":1633106450,"answer_id":69409350,"question_id":69406289,"body_markdown":"Since you have a bi-directional relationship between `User` and `CollectionOfContactMethods`, the issue might be that `CollectionOfContactMethods` `user` is null when you try to create it, hence the null data in the database or the `not-null property references a null or transient value : com.tsakirogf.schedu.model.CollectionOfContactMethods.user` error. Try the following:\r\n```java\r\n@RequestMapping(value = &quot;user&quot;, method = RequestMethod.POST)\r\nUser create(@RequestBody User user) {\r\n    CollectionOfContactMethods contactNumbers = user.getContactNumbers();\r\n    contactNumbers.setUser(user);\r\n    user.setContactNumbers(contactNumbers);\r\n    return userService.save(user);\r\n}\r\n```","title":"Problem with Foreign Key in @OneToOne annotation","body":"<p>Since you have a bi-directional relationship between <code>User</code> and <code>CollectionOfContactMethods</code>, the issue might be that <code>CollectionOfContactMethods</code> <code>user</code> is null when you try to create it, hence the null data in the database or the <code>not-null property references a null or transient value : com.tsakirogf.schedu.model.CollectionOfContactMethods.user</code> error. Try the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;user&quot;, method = RequestMethod.POST)\nUser create(@RequestBody User user) {\n    CollectionOfContactMethods contactNumbers = user.getContactNumbers();\n    contactNumbers.setUser(user);\n    user.setContactNumbers(contactNumbers);\n    return userService.save(user);\n}\n</code></pre>\n"}],"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69409350,"answer_count":1,"score":1,"last_activity_date":1633106450,"creation_date":1633093023,"question_id":69406289,"body_markdown":"I have spent a couple of days with a weird problem. There is a plethora of similar posts here in StackOverflow and I have check a lot of them but I was unable to find something similar with this. I have a `Human` Parent class\r\n\r\n    import javax.persistence.*;\r\n    import java.util.Date;\r\n    \r\n    @Entity(name = &quot;Human&quot;)\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public abstract class Human\r\n    {\r\n        @Id\r\n        @Column(name = &quot;human_id&quot;, nullable = false)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private Long id;\r\n    \r\n        @JsonProperty(&quot;name&quot;)\r\n        private String name;\r\n    \r\n        @JsonProperty(&quot;date_of_birth&quot;)\r\n        private Date dateOfBirth;\r\n    \r\n        @Embedded\r\n        @JsonProperty(&quot;authentication_credential&quot;)\r\n        private AuthenticationCredentials authCred;\r\n\r\n        // constructors + setter/getters\r\n    }\r\n \r\nA `User` child class :\r\n\r\n    import javax.persistence.*;\r\n    import java.util.Date;\r\n    \r\n    @Entity(name = &quot;User&quot;)\r\n    @Table(name = &quot;end_user&quot;)\r\n    public class User extends Human\r\n    {\r\n        @OneToOne(mappedBy = &quot;user&quot;,\r\n                  cascade = CascadeType.ALL,\r\n                  fetch = FetchType.LAZY,\r\n                  optional = false)\r\n        @JsonProperty(&quot;contact_numbers&quot;)\r\n        private CollectionOfContactMethods contactNumbers;\r\n    \r\n        @JsonProperty(&quot;telephone&quot;)\r\n        private String telephone;\r\n\r\n        // constructors + setter/getters\r\n     }\r\n\r\nand also a `CollectionOfContactMethods` with composition relationship with the `User`.\r\n\r\n    import javax.persistence.*;\r\n    import java.util.List;\r\n    \r\n    @Entity(name = &quot;CollectionOfContactMethods&quot;)\r\n    @Table(name = &quot;collection_of_contact_methods&quot;)\r\n    public class CollectionOfContactMethods\r\n    {\r\n        @Id\r\n        @Column(name = &quot;collection_id&quot;, nullable = false)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private Long id;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;ext_human_id&quot;, referencedColumnName = &quot;human_id&quot;)\r\n        private User user;\r\n    \r\n        @JsonProperty(&quot;email&quot;)\r\n        private String email;\r\n    \r\n        // constructors + setter/getters\r\n    }\r\n\r\nThe plan, according to the ER diagram is this :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, what I get at a database level is this :\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI appreciate the time you spent. Thanks.\r\n\r\nPS : Here is the `UserController` \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;api/v1/user/&quot;)\r\n    public class UserController\r\n    {\r\n        @Autowired\r\n        UserService userService;\r\n    \r\n        @GetMapping(value = &quot;users&quot;)\r\n        Iterable&lt;User&gt; list()\r\n        {\r\n            Iterable&lt;User&gt; retVal = userService.findAll();\r\n            return retVal;\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;user&quot;, method = RequestMethod.POST)\r\n        User create(@RequestBody User user)\r\n        {\r\n            return userService.save(user);\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;user/{id}&quot;,  method = RequestMethod.GET )\r\n        Optional&lt;User&gt; get(@PathVariable Long id)\r\n        {\r\n            return userService.findById(id);\r\n        }\r\n    }\r\n\r\nand also `UserService` : \r\n\r\n    import com.tsakirogf.schedu.model.human.User;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    public interface UserService extends CrudRepository&lt;User, Long&gt;\r\n    {\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/OYl4U.png\r\n  [2]: https://i.stack.imgur.com/0cGP7.png","title":"Problem with Foreign Key in @OneToOne annotation","body":"<p>I have spent a couple of days with a weird problem. There is a plethora of similar posts here in StackOverflow and I have check a lot of them but I was unable to find something similar with this. I have a <code>Human</code> Parent class</p>\n<pre><code>import javax.persistence.*;\nimport java.util.Date;\n\n@Entity(name = &quot;Human&quot;)\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class Human\n{\n    @Id\n    @Column(name = &quot;human_id&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    @JsonProperty(&quot;name&quot;)\n    private String name;\n\n    @JsonProperty(&quot;date_of_birth&quot;)\n    private Date dateOfBirth;\n\n    @Embedded\n    @JsonProperty(&quot;authentication_credential&quot;)\n    private AuthenticationCredentials authCred;\n\n    // constructors + setter/getters\n}\n</code></pre>\n<p>A <code>User</code> child class :</p>\n<pre><code>import javax.persistence.*;\nimport java.util.Date;\n\n@Entity(name = &quot;User&quot;)\n@Table(name = &quot;end_user&quot;)\npublic class User extends Human\n{\n    @OneToOne(mappedBy = &quot;user&quot;,\n              cascade = CascadeType.ALL,\n              fetch = FetchType.LAZY,\n              optional = false)\n    @JsonProperty(&quot;contact_numbers&quot;)\n    private CollectionOfContactMethods contactNumbers;\n\n    @JsonProperty(&quot;telephone&quot;)\n    private String telephone;\n\n    // constructors + setter/getters\n }\n</code></pre>\n<p>and also a <code>CollectionOfContactMethods</code> with composition relationship with the <code>User</code>.</p>\n<pre><code>import javax.persistence.*;\nimport java.util.List;\n\n@Entity(name = &quot;CollectionOfContactMethods&quot;)\n@Table(name = &quot;collection_of_contact_methods&quot;)\npublic class CollectionOfContactMethods\n{\n    @Id\n    @Column(name = &quot;collection_id&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ext_human_id&quot;, referencedColumnName = &quot;human_id&quot;)\n    private User user;\n\n    @JsonProperty(&quot;email&quot;)\n    private String email;\n\n    // constructors + setter/getters\n}\n</code></pre>\n<p>The plan, according to the ER diagram is this :</p>\n<p><a href=\"https://i.stack.imgur.com/OYl4U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OYl4U.png\" alt=\"enter image description here\" /></a></p>\n<p>However, what I get at a database level is this :</p>\n<p><a href=\"https://i.stack.imgur.com/0cGP7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0cGP7.png\" alt=\"enter image description here\" /></a></p>\n<p>I appreciate the time you spent. Thanks.</p>\n<p>PS : Here is the <code>UserController</code></p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/v1/user/&quot;)\npublic class UserController\n{\n    @Autowired\n    UserService userService;\n\n    @GetMapping(value = &quot;users&quot;)\n    Iterable&lt;User&gt; list()\n    {\n        Iterable&lt;User&gt; retVal = userService.findAll();\n        return retVal;\n    }\n\n    @RequestMapping(value = &quot;user&quot;, method = RequestMethod.POST)\n    User create(@RequestBody User user)\n    {\n        return userService.save(user);\n    }\n\n    @RequestMapping(value = &quot;user/{id}&quot;,  method = RequestMethod.GET )\n    Optional&lt;User&gt; get(@PathVariable Long id)\n    {\n        return userService.findById(id);\n    }\n}\n</code></pre>\n<p>and also <code>UserService</code> :</p>\n<pre><code>import com.tsakirogf.schedu.model.human.User;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface UserService extends CrudRepository&lt;User, Long&gt;\n{\n}\n</code></pre>\n"},{"tags":["java","maven","web-services","jax-ws","java-11"],"answers":[{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633106351,"creation_date":1633106036,"answer_id":69409271,"question_id":69313325,"body_markdown":"In the [Oracle release notes for Java 11][1], I found this:\r\n\r\n&gt; other-libs ➜ JEP 320 Remove the Java EE and CORBA Modules\r\n&gt; \r\n&gt; Remove the Java EE and CORBA modules from the Java SE Platform and the\r\n&gt; JDK. These modules were deprecated in Java SE 9 with the declared\r\n&gt; intent to remove them in a future release (JEP 320).\r\n&gt; \r\n&gt; The following modules have been removed from Java SE 11 and JDK 11:\r\n&gt; \r\n&gt;     java.xml.ws (JAX-WS, plus the related technologies SAAJ and Web Services Metadata)\r\n&gt;     java.xml.bind (JAXB) \r\n...etc\r\n\r\nAccording to what I read from Oracle, they removed Jax-WS from Java 11, but it&#39;s still available under OpenJDK: [JEP 320: Remove the Java EE and CORBA Modules][2].  According to that page, \r\n\r\n&gt; This proposal assumes that developers who wish to compile or run\r\n&gt; applications on the latest JDK can find and deploy alternate versions\r\n&gt; of the Java EE technologies. **The Reference Implementations (RIs) of\r\n&gt; JAX-WS and JAXB are a good starting point because they are complete\r\n&gt; replacements for the java.xml.ws and java.xml.bind modules in JDK 9.**\r\n&gt; The RIs are available as Maven artifacts: (note that they must be\r\n&gt; deployed on the class path)\r\n&gt; \r\n&gt;     com.sun.xml.ws : jaxws-ri (JAX-WS, plus SAAJ and Web Services Metadata)\r\n&gt;     com.sun.xml.bind : jaxb-ri (JAXB)\r\n&gt; \r\n&gt; The tools for JAX-WS and JAXB are also available as Maven artifacts:\r\n&gt; \r\n&gt;     wsgen and wsimport: com.sun.xml.ws : jaxws-tools, plus tool scripts\r\n&gt;     schemagen and xjc: com.sun.xml.bind : jaxb-jxc and com.sun.xml.bind : jaxb-xjc, plus tool scripts\r\n\r\nSince you are on Java 8, you may still have to do more tweaking and/or migrate up to Java 9 first, but from I can tell, this is your only path forward.\r\n\r\nSo to summarize, Oracle removed Jax-WS and related technologies from Java 11, but they are still available to download and use and here is the link to the Maven repo for [(RIs) of JAX-WS and JAXB ][3].\r\nJames\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\r\n  [2]: https://openjdk.java.net/jeps/320\r\n  [3]: https://search.maven.org/search?q=g:com.sun.xml.ws%20AND%20a:jaxws-ri","title":"Correctly migrating from JDK-8 to JDK-11 for JAX-WS libraries","body":"<p>In the <a href=\"https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\" rel=\"nofollow noreferrer\">Oracle release notes for Java 11</a>, I found this:</p>\n<blockquote>\n<p>other-libs ➜ JEP 320 Remove the Java EE and CORBA Modules</p>\n<p>Remove the Java EE and CORBA modules from the Java SE Platform and the\nJDK. These modules were deprecated in Java SE 9 with the declared\nintent to remove them in a future release (JEP 320).</p>\n<p>The following modules have been removed from Java SE 11 and JDK 11:</p>\n<pre><code>java.xml.ws (JAX-WS, plus the related technologies SAAJ and Web Services Metadata)\njava.xml.bind (JAXB) \n</code></pre>\n</blockquote>\n<p>...etc</p>\n<p>According to what I read from Oracle, they removed Jax-WS from Java 11, but it's still available under OpenJDK: <a href=\"https://openjdk.java.net/jeps/320\" rel=\"nofollow noreferrer\">JEP 320: Remove the Java EE and CORBA Modules</a>.  According to that page,</p>\n<blockquote>\n<p>This proposal assumes that developers who wish to compile or run\napplications on the latest JDK can find and deploy alternate versions\nof the Java EE technologies. <strong>The Reference Implementations (RIs) of\nJAX-WS and JAXB are a good starting point because they are complete\nreplacements for the java.xml.ws and java.xml.bind modules in JDK 9.</strong>\nThe RIs are available as Maven artifacts: (note that they must be\ndeployed on the class path)</p>\n<pre><code>com.sun.xml.ws : jaxws-ri (JAX-WS, plus SAAJ and Web Services Metadata)\ncom.sun.xml.bind : jaxb-ri (JAXB)\n</code></pre>\n<p>The tools for JAX-WS and JAXB are also available as Maven artifacts:</p>\n<pre><code>wsgen and wsimport: com.sun.xml.ws : jaxws-tools, plus tool scripts\nschemagen and xjc: com.sun.xml.bind : jaxb-jxc and com.sun.xml.bind : jaxb-xjc, plus tool scripts\n</code></pre>\n</blockquote>\n<p>Since you are on Java 8, you may still have to do more tweaking and/or migrate up to Java 9 first, but from I can tell, this is your only path forward.</p>\n<p>So to summarize, Oracle removed Jax-WS and related technologies from Java 11, but they are still available to download and use and here is the link to the Maven repo for <a href=\"https://search.maven.org/search?q=g:com.sun.xml.ws%20AND%20a:jaxws-ri\" rel=\"nofollow noreferrer\">(RIs) of JAX-WS and JAXB </a>.\nJames</p>\n"}],"owner":{"account_id":20182156,"reputation":75,"user_id":14802438,"display_name":"AlSteve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4182,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69409271,"answer_count":1,"score":2,"last_activity_date":1633106351,"creation_date":1632478521,"question_id":69313325,"body_markdown":"I am developing a couple of integrations (as Maven projects) between several defect management systems, one of which exposes services through WSDL, forcing me to consume them through WS.\r\nFor the latter I succesfully developed the code for JDK-8 and everything works.\r\n\r\nI am now in the middle of JDK migration from 8 to 11 and need to update the integration that makes use of WS. I understood that in Java 11 some EE libraries (including JAX-WS) were removed.\r\nI then surfed the Web in order to get rid of this problem, but after a couple of days of tests and cut-and-paste of depenendencies I still have the same problem: cannot instantiate the WS to interact to the final server (that is a CA SDM 14.1).\r\n\r\nCurrently I have the following error:\r\n\r\n    java.lang.NoSuchMethodException: com.sun.xml.bind.v2.model.nav.ReflectionNavigator.getInstance()\r\n\r\nAnd my POM file looks like this:\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;target.dir&gt;target&lt;/target.dir&gt;\r\n    \t&lt;app.version&gt;4.0.0&lt;/app.version&gt;\r\n    \t&lt;skipTests&gt;true&lt;/skipTests&gt;\r\n    \t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t&lt;project.resources.sourceEncoding&gt;UTF-8&lt;/project.resources.sourceEncoding&gt;\r\n    \t&lt;mainClassName&gt;unipol.alm.integrations.FireStarter&lt;/mainClassName&gt;\r\n    \t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;logback.version&gt;1.2.3&lt;/logback.version&gt;\r\n    \t&lt;lombok.version&gt;1.18.20&lt;/lombok.version&gt;\r\n    \t&lt;json.version&gt;20210307&lt;/json.version&gt;\r\n    \t&lt;apache.http.components.version&gt;4.5.9&lt;/apache.http.components.version&gt;\r\n    \t&lt;derby.version&gt;10.14.2.0&lt;/derby.version&gt;\r\n    \t&lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    \t&lt;cucumber.version&gt;1.2.5&lt;/cucumber.version&gt;\r\n    \t&lt;octane.cucumber.version&gt;12.60.48&lt;/octane.cucumber.version&gt;\r\n    \t&lt;commons.version&gt;2.5&lt;/commons.version&gt;\r\n    \t&lt;json.simple.version&gt;1.1.1&lt;/json.simple.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n    \t&lt;!-- Logging dependencies --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${logback.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.7&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${json.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${json.simple.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.8.8&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.19.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.19.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;30.1.1-jre&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jettison&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.14.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.15&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${apache.http.components.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${apache.http.components.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${derby.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;derbyclient&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${derby.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.xml.rpc&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;javax.xml.rpc-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.hpe.alm.octane&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;octane-cucumber-jvm&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${octane.cucumber.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${commons.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;axis&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-discovery&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-discovery&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;wsdl4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.6.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;net.lingala.zip4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;zip4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.hierynomus&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;smbj&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.10.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-vfs&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-vfs&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;jcifs&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jcifs&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.17&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.jws&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jsr181-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0-MR1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.10&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.org.apache.xml.internal&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;resolver&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;20050927&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.stream.buffer&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;streambuffer&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.6&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;policy&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t&lt;exclusions&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t&lt;/exclusions&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nwhere from `javax.xml.ws` are all the dependencies added to make JAX-WS working on JDK 11 (added following the consecutive exceptions the code was giving through NoClassDefFoundError).\r\n\r\nMoreover, I generated the Java classes from the WSDL exposed by the defect management system with the following in my POM (just the first time):\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;\r\n    \t\t\t\t\twsimport\r\n    \t\t\t\t&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;wsdlDirectory&gt;${project.basedir}/src/main/resources/&lt;/wsdlDirectory&gt;\r\n    \t\t&lt;wsdlUrls&gt;\r\n    \t\t\t&lt;wsdlUrl&gt;http://defect.management.system/ServiceDefinition?wsdl&lt;/wsdlUrl&gt;\r\n    \t\t&lt;/wsdlUrls&gt;\r\n    \t\t&lt;packageName&gt;com.ca.unicenterserviceplus.servicedesk&lt;/packageName&gt;\r\n    \t\t&lt;sourceDestDir&gt;${project.build.directory}/generated-sources/&lt;/sourceDestDir&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAnd then copied and pasted the generated files in the `com.ca.unicenterserviceplus.servicedesk` where they are expected to be found by the application.\r\n\r\nMy question after all this: is there a way to make things work as they were with JDK 8?\r\n\r\n\r\n\r\n","title":"Correctly migrating from JDK-8 to JDK-11 for JAX-WS libraries","body":"<p>I am developing a couple of integrations (as Maven projects) between several defect management systems, one of which exposes services through WSDL, forcing me to consume them through WS.\nFor the latter I succesfully developed the code for JDK-8 and everything works.</p>\n<p>I am now in the middle of JDK migration from 8 to 11 and need to update the integration that makes use of WS. I understood that in Java 11 some EE libraries (including JAX-WS) were removed.\nI then surfed the Web in order to get rid of this problem, but after a couple of days of tests and cut-and-paste of depenendencies I still have the same problem: cannot instantiate the WS to interact to the final server (that is a CA SDM 14.1).</p>\n<p>Currently I have the following error:</p>\n<pre><code>java.lang.NoSuchMethodException: com.sun.xml.bind.v2.model.nav.ReflectionNavigator.getInstance()\n</code></pre>\n<p>And my POM file looks like this:</p>\n<pre><code>&lt;properties&gt;\n    &lt;target.dir&gt;target&lt;/target.dir&gt;\n    &lt;app.version&gt;4.0.0&lt;/app.version&gt;\n    &lt;skipTests&gt;true&lt;/skipTests&gt;\n    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;project.resources.sourceEncoding&gt;UTF-8&lt;/project.resources.sourceEncoding&gt;\n    &lt;mainClassName&gt;unipol.alm.integrations.FireStarter&lt;/mainClassName&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;logback.version&gt;1.2.3&lt;/logback.version&gt;\n    &lt;lombok.version&gt;1.18.20&lt;/lombok.version&gt;\n    &lt;json.version&gt;20210307&lt;/json.version&gt;\n    &lt;apache.http.components.version&gt;4.5.9&lt;/apache.http.components.version&gt;\n    &lt;derby.version&gt;10.14.2.0&lt;/derby.version&gt;\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;cucumber.version&gt;1.2.5&lt;/cucumber.version&gt;\n    &lt;octane.cucumber.version&gt;12.60.48&lt;/octane.cucumber.version&gt;\n    &lt;commons.version&gt;2.5&lt;/commons.version&gt;\n    &lt;json.simple.version&gt;1.1.1&lt;/json.simple.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;!-- Logging dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;${logback.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;version&gt;1.4.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;${json.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;${json.simple.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.8.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n        &lt;version&gt;1.19.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n        &lt;version&gt;1.19.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;30.1.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\n        &lt;artifactId&gt;jettison&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n        &lt;version&gt;1.14.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.15&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;${apache.http.components.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n        &lt;version&gt;${apache.http.components.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n        &lt;artifactId&gt;derby&lt;/artifactId&gt;\n        &lt;version&gt;${derby.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n        &lt;artifactId&gt;derbyclient&lt;/artifactId&gt;\n        &lt;version&gt;${derby.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.rpc&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.xml.rpc-api&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hpe.alm.octane&lt;/groupId&gt;\n        &lt;artifactId&gt;octane-cucumber-jvm&lt;/artifactId&gt;\n        &lt;version&gt;${octane.cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;${commons.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\n        &lt;artifactId&gt;axis&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-discovery&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-discovery&lt;/artifactId&gt;\n        &lt;version&gt;0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;wsdl4j&lt;/groupId&gt;\n        &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\n        &lt;version&gt;1.6.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.lingala.zip4j&lt;/groupId&gt;\n        &lt;artifactId&gt;zip4j&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hierynomus&lt;/groupId&gt;\n        &lt;artifactId&gt;smbj&lt;/artifactId&gt;\n        &lt;version&gt;0.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-vfs&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-vfs&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jcifs&lt;/groupId&gt;\n        &lt;artifactId&gt;jcifs&lt;/artifactId&gt;\n        &lt;version&gt;1.3.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.jws&lt;/groupId&gt;\n        &lt;artifactId&gt;jsr181-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0-MR1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;rt&lt;/artifactId&gt;\n        &lt;version&gt;2.2.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.org.apache.xml.internal&lt;/groupId&gt;\n        &lt;artifactId&gt;resolver&lt;/artifactId&gt;\n        &lt;version&gt;20050927&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.stream.buffer&lt;/groupId&gt;\n        &lt;artifactId&gt;streambuffer&lt;/artifactId&gt;\n        &lt;version&gt;1.5.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;policy&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>where from <code>javax.xml.ws</code> are all the dependencies added to make JAX-WS working on JDK 11 (added following the consecutive exceptions the code was giving through NoClassDefFoundError).</p>\n<p>Moreover, I generated the Java classes from the WSDL exposed by the defect management system with the following in my POM (just the first time):</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;\n                    wsimport\n                &lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;wsdlDirectory&gt;${project.basedir}/src/main/resources/&lt;/wsdlDirectory&gt;\n        &lt;wsdlUrls&gt;\n            &lt;wsdlUrl&gt;http://defect.management.system/ServiceDefinition?wsdl&lt;/wsdlUrl&gt;\n        &lt;/wsdlUrls&gt;\n        &lt;packageName&gt;com.ca.unicenterserviceplus.servicedesk&lt;/packageName&gt;\n        &lt;sourceDestDir&gt;${project.build.directory}/generated-sources/&lt;/sourceDestDir&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And then copied and pasted the generated files in the <code>com.ca.unicenterserviceplus.servicedesk</code> where they are expected to be found by the application.</p>\n<p>My question after all this: is there a way to make things work as they were with JDK 8?</p>\n"},{"tags":["java","android","save","android-sharedpreferences"],"comments":[{"owner":{"account_id":1487413,"reputation":1417,"user_id":1395342,"accept_rate":80,"display_name":"jaisonDavis"},"score":0,"creation_date":1342238115,"post_id":11480871,"comment_id":15161290,"body_markdown":"Do you call this method from the onPause or onDestroy?","body":"Do you call this method from the onPause or onDestroy?"},{"owner":{"account_id":375811,"reputation":67210,"user_id":726863,"accept_rate":81,"display_name":"Lalit Poptani"},"score":1,"creation_date":1342241528,"post_id":11480871,"comment_id":15161671,"body_markdown":"Are you using `getDefaultSharedPreferences()`any where in your application?","body":"Are you using <code>getDefaultSharedPreferences()</code>any where in your application?"},{"owner":{"account_id":1213802,"reputation":6808,"user_id":1181806,"accept_rate":87,"display_name":"Gatekeeper"},"score":0,"creation_date":1342242225,"post_id":11480871,"comment_id":15161738,"body_markdown":"@jaisonDavis - I am calling this from onPause() in all of my methods, but I do have a call in one onDestroy() since onPause doesnt get called on some activity closes.","body":"@jaisonDavis - I am calling this from onPause() in all of my methods, but I do have a call in one onDestroy() since onPause doesnt get called on some activity closes."},{"owner":{"account_id":1213802,"reputation":6808,"user_id":1181806,"accept_rate":87,"display_name":"Gatekeeper"},"score":0,"creation_date":1342242234,"post_id":11480871,"comment_id":15161740,"body_markdown":"@Lalit - No I am only using getSharedPreferences(), how can getDefaultSharedPreferences help? I have read that some devices don&#39;t work properly with getDefaultSharedPreferences()","body":"@Lalit - No I am only using getSharedPreferences(), how can getDefaultSharedPreferences help? I have read that some devices don&#39;t work properly with getDefaultSharedPreferences()"},{"owner":{"account_id":1187534,"reputation":534,"user_id":1161198,"display_name":"Carlos Barcellos"},"score":1,"creation_date":1342244048,"post_id":11480871,"comment_id":15161936,"body_markdown":"It seems to me the problem is with the Stats.level, have you tried sending the level as an argument?","body":"It seems to me the problem is with the Stats.level, have you tried sending the level as an argument?"},{"owner":{"account_id":1213802,"reputation":6808,"user_id":1181806,"accept_rate":87,"display_name":"Gatekeeper"},"score":1,"creation_date":1342244651,"post_id":11480871,"comment_id":15161988,"body_markdown":"what would be the benefits of sending an integer variable as an argument, instead of a direct call to the static variable?","body":"what would be the benefits of sending an integer variable as an argument, instead of a direct call to the static variable?"},{"owner":{"account_id":1187534,"reputation":534,"user_id":1161198,"display_name":"Carlos Barcellos"},"score":0,"creation_date":1342244992,"post_id":11480871,"comment_id":15162019,"body_markdown":"Is this the level that is getting changed when you get your application killed?","body":"Is this the level that is getting changed when you get your application killed?"},{"owner":{"account_id":1213802,"reputation":6808,"user_id":1181806,"accept_rate":87,"display_name":"Gatekeeper"},"score":0,"creation_date":1342245269,"post_id":11480871,"comment_id":15162056,"body_markdown":"Yes, there are multiple variables, all are like level though, they all get saved, normally that is when the application is closed properly. For some reason when I hit the home key and force close the app through a task killer, all of the data gets reset, but the application resumes back on the activity i hit home key on, like I never killed the app at all.","body":"Yes, there are multiple variables, all are like level though, they all get saved, normally that is when the application is closed properly. For some reason when I hit the home key and force close the app through a task killer, all of the data gets reset, but the application resumes back on the activity i hit home key on, like I never killed the app at all."},{"owner":{"account_id":234132,"reputation":3822,"user_id":500096,"accept_rate":51,"display_name":"Paul"},"score":0,"creation_date":1344604172,"post_id":11480871,"comment_id":15843350,"body_markdown":"did you find some fix for this issue related to samsung galaxy s ? thanks.","body":"did you find some fix for this issue related to samsung galaxy s ? thanks."},{"owner":{"account_id":32385,"reputation":31109,"user_id":89818,"accept_rate":96,"display_name":"caw"},"score":0,"creation_date":1423330105,"post_id":11480871,"comment_id":45107964,"body_markdown":"It turns out this can also be caused by invalid preference keys, such as keys containing newlines: http://stackoverflow.com/questions/28385132/sharedpreferences-in-android-not-persisted-to-disk-when-key-contains-newline","body":"It turns out this can also be caused by invalid preference keys, such as keys containing newlines: <a href=\"http://stackoverflow.com/questions/28385132/sharedpreferences-in-android-not-persisted-to-disk-when-key-contains-newline\" title=\"sharedpreferences in android not persisted to disk when key contains newline\">stackoverflow.com/questions/28385132/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1213802,"reputation":6808,"user_id":1181806,"accept_rate":87,"display_name":"Gatekeeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1390851600,"creation_date":1344874309,"answer_id":11938175,"question_id":11480871,"body_markdown":"Ok I was able to solve this by removing the &quot;protected static&quot; from my save method.\r\n\r\nInstead of calling a global save method, I simply placed the save method in each class that would need to save and then only call the save method in the onPause() and onDestroy() methods.\r\n\r\nI noticed that if I called save() too many times within a class that also seemed to erase my SharedPreferences when I closed the app.\r\n\r\n\r\n**TIP:**\r\n\r\n&gt; Do not use static methods for getting or setting shared preferences\r\n\r\n","title":"SharedPreferences being reset after force close","body":"<p>Ok I was able to solve this by removing the \"protected static\" from my save method.</p>\n\n<p>Instead of calling a global save method, I simply placed the save method in each class that would need to save and then only call the save method in the onPause() and onDestroy() methods.</p>\n\n<p>I noticed that if I called save() too many times within a class that also seemed to erase my SharedPreferences when I closed the app.</p>\n\n<p><strong>TIP:</strong></p>\n\n<blockquote>\n  <p>Do not use static methods for getting or setting shared preferences</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13769267,"reputation":1,"user_id":11114733,"display_name":"Junior Vega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633106112,"creation_date":1633106112,"answer_id":69409288,"question_id":11480871,"body_markdown":"In my case remove the tag android: allowBackup = &quot;true&quot; from my manifest and this solves my problem","title":"SharedPreferences being reset after force close","body":"<p>In my case remove the tag android: allowBackup = &quot;true&quot; from my manifest and this solves my problem</p>\n"}],"owner":{"account_id":1213802,"reputation":6808,"user_id":1181806,"accept_rate":87,"display_name":"Gatekeeper"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3484,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11938175,"answer_count":2,"score":3,"last_activity_date":1633106112,"creation_date":1342237867,"question_id":11480871,"body_markdown":"I have been able to successfully implement Shared Preferences into my application but I have ran into a problem with the data being reset/deleted if I kill the application through a task manager.\r\n\r\nI am using a static method for saving, that way I only need the method once and can call it everywhere within my app.\r\n\r\n\r\n\r\n\tprotected static synchronized void save(Context cntx){\r\n\t\tSharedPreferences preferences2 = cntx.getSharedPreferences(&quot;BluRealms&quot;, 0);\r\n\t\tSharedPreferences.Editor editor = preferences2.edit();\r\n\t\teditor.putBoolean(&quot;level&quot;, Stats.level);\r\n\t\teditor.commit();\r\n    }\r\n\r\nAs soon as I kill my app all of my data gets set back to the default settings in my SharedPreferences save method.\r\n\r\nI also did some searching and found a few posts that say adding android:persistent=&quot;true&quot; into the &lt;application&gt; of the manifest file would fix the problem, yet the data is still reset even with this.\r\n\r\n---\r\n&lt;b&gt;Edit:&lt;/b&gt; Well I think I found a bit of information on my problem. This Issue highlights a problem with Samsung Galaxy S phones not saving SharedPreferences properly, which is the device I am testing on. http://code.google.com/p/android/issues/detail?id=14359 - especially &lt;b&gt;comment 6&lt;/b&gt;\r\n\r\nAny more information on this would be great!","title":"SharedPreferences being reset after force close","body":"<p>I have been able to successfully implement Shared Preferences into my application but I have ran into a problem with the data being reset/deleted if I kill the application through a task manager.</p>\n\n<p>I am using a static method for saving, that way I only need the method once and can call it everywhere within my app.</p>\n\n<pre><code>protected static synchronized void save(Context cntx){\n    SharedPreferences preferences2 = cntx.getSharedPreferences(\"BluRealms\", 0);\n    SharedPreferences.Editor editor = preferences2.edit();\n    editor.putBoolean(\"level\", Stats.level);\n    editor.commit();\n}\n</code></pre>\n\n<p>As soon as I kill my app all of my data gets set back to the default settings in my SharedPreferences save method.</p>\n\n<p>I also did some searching and found a few posts that say adding android:persistent=\"true\" into the  of the manifest file would fix the problem, yet the data is still reset even with this.</p>\n\n<hr>\n\n<p><b>Edit:</b> Well I think I found a bit of information on my problem. This Issue highlights a problem with Samsung Galaxy S phones not saving SharedPreferences properly, which is the device I am testing on. <a href=\"http://code.google.com/p/android/issues/detail?id=14359\" rel=\"nofollow\">http://code.google.com/p/android/issues/detail?id=14359</a> - especially <b>comment 6</b></p>\n\n<p>Any more information on this would be great!</p>\n"},{"tags":["javascript","java","spring-boot","vue.js","cors"],"comments":[{"owner":{"account_id":13858027,"reputation":611,"user_id":10518213,"display_name":"D.Schaller"},"score":0,"creation_date":1632905077,"post_id":69373065,"comment_id":122616359,"body_markdown":"instead of commenting it out, you should try to edit the config to allow your request origin. CORS on default blocks pretty much everything.","body":"instead of commenting it out, you should try to edit the config to allow your request origin. CORS on default blocks pretty much everything."},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1632905779,"post_id":69373065,"comment_id":122616680,"body_markdown":"I tried to add my origin (localhost:9000) in my controller with @CrossOrigin and in the config file adding my origin to be allowed I tried even wildcard * and still no luck. I tried to change the securityconfiguration to allow my origin but still nothing helped","body":"I tried to add my origin (localhost:9000) in my controller with @CrossOrigin and in the config file adding my origin to be allowed I tried even wildcard * and still no luck. I tried to change the securityconfiguration to allow my origin but still nothing helped"},{"owner":{"account_id":13858027,"reputation":611,"user_id":10518213,"display_name":"D.Schaller"},"score":0,"creation_date":1632905902,"post_id":69373065,"comment_id":122616728,"body_markdown":"did you restart your server after changes? Had that myself, wondering why nothing happens. CORS changes are mostly not updated on hot reload","body":"did you restart your server after changes? Had that myself, wondering why nothing happens. CORS changes are mostly not updated on hot reload"},{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1633106604,"post_id":69373065,"comment_id":122680806,"body_markdown":"if you are using spring boot, you can just use `@CrossOrigin` annotation on your controller","body":"if you are using spring boot, you can just use <code>@CrossOrigin</code> annotation on your controller"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1633108155,"post_id":69373065,"comment_id":122681354,"body_markdown":"I did it but szill no luck That was my first try to fix this error","body":"I did it but szill no luck That was my first try to fix this error"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1633329917,"post_id":69373065,"comment_id":122720767,"body_markdown":"So is there no one who can help? I am still stuck with this nothing I try helps","body":"So is there no one who can help? I am still stuck with this nothing I try helps"},{"owner":{"account_id":2469136,"reputation":641,"user_id":2151471,"display_name":"atomfrede"},"score":0,"creation_date":1633674527,"post_id":69373065,"comment_id":122827271,"body_markdown":"Did you generate the api endpoint you would like to access via jhipster? So is that an entity created with jhispter?","body":"Did you generate the api endpoint you would like to access via jhipster? So is that an entity created with jhispter?"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1633699012,"post_id":69373065,"comment_id":122836183,"body_markdown":"No I did it manually.","body":"No I did it manually."},{"owner":{"account_id":552675,"reputation":113,"user_id":917871,"display_name":"vandervagos"},"score":0,"creation_date":1634795647,"post_id":69373065,"comment_id":123122635,"body_markdown":"I found that the autogenerated code (JHipster 7.0.1) may not be correct. In the WebConfigurer there is a method that creates a CorsFilter but it should create a CorsConfigurationSource  instead.\nAlso in the SecurityConfiguration you have to enable cors(withDefaults()).\n\nhttps://docs.spring.io/spring-security/site/docs/5.4.5/reference/html5/#cors\n\nI hope this will work for you as well.","body":"I found that the autogenerated code (JHipster 7.0.1) may not be correct. In the WebConfigurer there is a method that creates a CorsFilter but it should create a CorsConfigurationSource  instead. Also in the SecurityConfiguration you have to enable cors(withDefaults()).  <a href=\"https://docs.spring.io/spring-security/site/docs/5.4.5/reference/html5/#cors\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/5.4.5/reference/htm&zwnj;&#8203;l5/&hellip;</a>  I hope this will work for you as well."}],"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633105467,"creation_date":1632904642,"question_id":69373065,"body_markdown":"I am updating my old question.\r\n\r\nI have a jhipster application with spring boot and vue. When I am trying to make a request from my vue frontend project I am getting the following error:\r\n\r\n    Access to XMLHttpRequest at &#39;http://localhost:8080/api/downloader/&#39; from origin &#39;http://localhost:9000&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nI tried setting my origin from the application.dev.yml like this:\r\n\r\n     cors:\r\n        # Allow Ionic for JHipster by default (* no longer allowed in Spring Boot 2.4+)\r\n        allowed-origins: &#39;http://localhost:9000&#39;\r\n        allowed-methods: &#39;*&#39;\r\n        allowed-headers: &#39;*&#39;\r\n        exposed-headers: &#39;Authorization,Link,X-Total-Count,X-${jhipster.clientApp.name}-alert,X-${jhipster.clientApp.name}-error,X-${jhipster.clientApp.name}-params&#39;\r\n        allow-credentials: true\r\n        max-age: 1800\r\n\r\nI only changed the alowed-origins part. But I am still getting this error. Then I tried the following inside the SecurityConfigurationClass:\r\n\r\n        .antMatchers(&quot;/api/downloader&quot;).permitAll()\r\n\r\nI thought this maybe would allow the requests but it did not help. Can someone maybe help me out? How should I fix this error? Even if I start it with production profile where cors is disabled it still gives me the same error. Is it something I have to fix from the frontend side? Because login or something else works.\r\n\r\n","title":"How to turn off cors for development in jhipster/Vue","body":"<p>I am updating my old question.</p>\n<p>I have a jhipster application with spring boot and vue. When I am trying to make a request from my vue frontend project I am getting the following error:</p>\n<pre><code>Access to XMLHttpRequest at 'http://localhost:8080/api/downloader/' from origin 'http://localhost:9000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>I tried setting my origin from the application.dev.yml like this:</p>\n<pre><code> cors:\n    # Allow Ionic for JHipster by default (* no longer allowed in Spring Boot 2.4+)\n    allowed-origins: 'http://localhost:9000'\n    allowed-methods: '*'\n    allowed-headers: '*'\n    exposed-headers: 'Authorization,Link,X-Total-Count,X-${jhipster.clientApp.name}-alert,X-${jhipster.clientApp.name}-error,X-${jhipster.clientApp.name}-params'\n    allow-credentials: true\n    max-age: 1800\n</code></pre>\n<p>I only changed the alowed-origins part. But I am still getting this error. Then I tried the following inside the SecurityConfigurationClass:</p>\n<pre><code>    .antMatchers(&quot;/api/downloader&quot;).permitAll()\n</code></pre>\n<p>I thought this maybe would allow the requests but it did not help. Can someone maybe help me out? How should I fix this error? Even if I start it with production profile where cors is disabled it still gives me the same error. Is it something I have to fix from the frontend side? Because login or something else works.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jackson"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1633101411,"post_id":69408061,"comment_id":122678851,"body_markdown":"Wild guess you have `@EnableWebMvc` on one of your configuration classes, which disables the auto configuration of MVC, Jackson from Spring Boot.","body":"Wild guess you have <code>@EnableWebMvc</code> on one of your configuration classes, which disables the auto configuration of MVC, Jackson from Spring Boot."},{"owner":{"account_id":12727096,"reputation":145,"user_id":9245229,"display_name":"Virt"},"score":0,"creation_date":1633102653,"post_id":69408061,"comment_id":122679336,"body_markdown":"After checking again, that was actually the case. Thank you, feel free to write an answer so I can accept it.","body":"After checking again, that was actually the case. Thank you, feel free to write an answer so I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633105338,"creation_date":1633105338,"answer_id":69409117,"question_id":69408061,"body_markdown":"The fact that all of the options that should work with Spring Boot don&#39;t work lead to the conclusion that you must have (accidentally or deliberately) disabled the auto configuration of MVC and/or Jackson. \r\n\r\nWhen you add a configuration class with `@EnableWebMvc` most of the web related auto configuration will backoff and use the defaults provided by Spring and what you provided. This will also make it so that those features will not work. \r\n\r\nRemoving that annotation and specifying the property in the `application.properties` should be enough to make it work. ","title":"Spring with Jackson set JsonAutoDetect globally","body":"<p>The fact that all of the options that should work with Spring Boot don't work lead to the conclusion that you must have (accidentally or deliberately) disabled the auto configuration of MVC and/or Jackson.</p>\n<p>When you add a configuration class with <code>@EnableWebMvc</code> most of the web related auto configuration will backoff and use the defaults provided by Spring and what you provided. This will also make it so that those features will not work.</p>\n<p>Removing that annotation and specifying the property in the <code>application.properties</code> should be enough to make it work.</p>\n"}],"owner":{"account_id":12727096,"reputation":145,"user_id":9245229,"display_name":"Virt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69409117,"answer_count":1,"score":0,"last_activity_date":1633105338,"creation_date":1633100370,"question_id":69408061,"body_markdown":"In my spring boot web application, I want to serialize many different classes to JSON when I return them from the function of a request mapping. These classes only contain private fields without getters. In order for Jackson to serialize these private fields I can annotate all those classes with the following annotation, which works perfectly fine as expected.\r\n\r\n```java\r\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\n```\r\n\r\nBut because want to serialize many different classes in that manner, I would like to declare that globally in my spring boot application. I have tried the following approaches to achieve this:\r\n\r\nSet the field visibility in the used ```application.properties``` to any.\r\n```java\r\nspring.jackson.visibility.field=ANY\r\n```\r\n\r\nCustomize the ```ObjectMapper``` using ```@Bean``` in the main class.\r\n```java\r\n@Bean\r\npublic ObjectMapper objectMapper() {\r\n    return new ObjectMapper().setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n}\r\n```\r\n\r\nCustomize the ```Jackson2ObjectMapperBuilder``` using ```@Bean``` in the main class.\r\n```java\r\n@Bean\r\npublic Jackson2ObjectMapperBuilder jackson2ObjectMapperBuilder() {\r\n    return new Jackson2ObjectMapperBuilder().visibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n}\r\n```\r\n\r\nConfigure the ```Jackson2ObjectMapperBuilder``` using a configuration class.\r\n```java\r\n@Configuration\r\npublic class ObjectMapperConfig implements Jackson2ObjectMapperBuilderCustomizer {\r\n\r\n    @Override\r\n    public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\r\n        jacksonObjectMapperBuilder.visibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n    }\r\n}\r\n```\r\n\r\nBut none of those approaches worked for me. It works perfectly fine if I use the ```@JsonAutoDetect``` annotation on every class I would like to serialize, but if I try to use one of those global implementations, I always get the following error:\r\n\r\n```\r\nWARN 5191 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class my.class.i.would.like.to.Serialize]\r\n```\r\n\r\nI have no Idea what could cause this behaviour, or whether I had missed something crucial elsewhere, but all global approaches I found did not work. Nonetheless, I would still like to not annotate all individual classes or not to have to define thousands of getters in them.","title":"Spring with Jackson set JsonAutoDetect globally","body":"<p>In my spring boot web application, I want to serialize many different classes to JSON when I return them from the function of a request mapping. These classes only contain private fields without getters. In order for Jackson to serialize these private fields I can annotate all those classes with the following annotation, which works perfectly fine as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n</code></pre>\n<p>But because want to serialize many different classes in that manner, I would like to declare that globally in my spring boot application. I have tried the following approaches to achieve this:</p>\n<p>Set the field visibility in the used <code>application.properties</code> to any.</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.jackson.visibility.field=ANY\n</code></pre>\n<p>Customize the <code>ObjectMapper</code> using <code>@Bean</code> in the main class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ObjectMapper objectMapper() {\n    return new ObjectMapper().setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n}\n</code></pre>\n<p>Customize the <code>Jackson2ObjectMapperBuilder</code> using <code>@Bean</code> in the main class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Jackson2ObjectMapperBuilder jackson2ObjectMapperBuilder() {\n    return new Jackson2ObjectMapperBuilder().visibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n}\n</code></pre>\n<p>Configure the <code>Jackson2ObjectMapperBuilder</code> using a configuration class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ObjectMapperConfig implements Jackson2ObjectMapperBuilderCustomizer {\n\n    @Override\n    public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\n        jacksonObjectMapperBuilder.visibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n    }\n}\n</code></pre>\n<p>But none of those approaches worked for me. It works perfectly fine if I use the <code>@JsonAutoDetect</code> annotation on every class I would like to serialize, but if I try to use one of those global implementations, I always get the following error:</p>\n<pre><code>WARN 5191 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class my.class.i.would.like.to.Serialize]\n</code></pre>\n<p>I have no Idea what could cause this behaviour, or whether I had missed something crucial elsewhere, but all global approaches I found did not work. Nonetheless, I would still like to not annotate all individual classes or not to have to define thousands of getters in them.</p>\n"},{"tags":["java","spring-boot","google-secret-manager","gcp-secret-manager"],"owner":{"account_id":15703515,"reputation":73,"user_id":11330957,"display_name":"Stranger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633105255,"creation_date":1633105255,"question_id":69409092,"body_markdown":"Is there a way to pass different credentials to SecretManagerTemplate (from spring-cloud-gcp-starter-secretmanager)?.\r\n\r\nI&#39;ve been searching ways of configuring different credentials for SecretManagerTemplate, but i&#39;ve found nothing so far.\r\n\r\nThis is the dependency i&#39;m using:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd this is the example from Spring that i&#39;ve been using:\r\nhttps://github.com/spring-cloud/spring-cloud-gcp/blob/main/spring-cloud-gcp-samples/spring-cloud-gcp-secretmanager-sample/src/main/java/com/example/SecretManagerWebController.java","title":"Can we pass different credentials for SecretManagerTemplate in Spring Boot?","body":"<p>Is there a way to pass different credentials to SecretManagerTemplate (from spring-cloud-gcp-starter-secretmanager)?.</p>\n<p>I've been searching ways of configuring different credentials for SecretManagerTemplate, but i've found nothing so far.</p>\n<p>This is the dependency i'm using:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\n    &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And this is the example from Spring that i've been using:\n<a href=\"https://github.com/spring-cloud/spring-cloud-gcp/blob/main/spring-cloud-gcp-samples/spring-cloud-gcp-secretmanager-sample/src/main/java/com/example/SecretManagerWebController.java\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-gcp/blob/main/spring-cloud-gcp-samples/spring-cloud-gcp-secretmanager-sample/src/main/java/com/example/SecretManagerWebController.java</a></p>\n"},{"tags":["java","spring-boot","wiremock","stubbing","jsonexception"],"comments":[{"owner":{"account_id":991044,"reputation":3556,"user_id":1008361,"display_name":"Tom"},"score":0,"creation_date":1621182839,"post_id":67553398,"comment_id":119412553,"body_markdown":"This is very strange behaviour. There&#39;s no reason it shouldn&#39;t be possible to run WireMock alongside your production Spring app - I&#39;ve seen it done quite a few times before. One hypotheses is that another dependency is changing the Jackson configuration somehow at the global scope. If this is the case, switching to the standalone JAR might stop it happening (since Jackson is shaded in that one).","body":"This is very strange behaviour. There&#39;s no reason it shouldn&#39;t be possible to run WireMock alongside your production Spring app - I&#39;ve seen it done quite a few times before. One hypotheses is that another dependency is changing the Jackson configuration somehow at the global scope. If this is the case, switching to the standalone JAR might stop it happening (since Jackson is shaded in that one)."}],"answers":[{"tags":[],"owner":{"account_id":3921325,"reputation":46,"user_id":3243360,"display_name":"akshay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633104815,"creation_date":1633104815,"answer_id":69409006,"question_id":67553398,"body_markdown":"Right after `server.start()` you need:\r\n\r\n```\r\nconfigureFor(&quot;localhost&quot;, server.port());\r\n```\r\n","title":"Wiremock stubbing error: &quot;Unrecognized field \\&quot;timestamp\\&quot; (class com.github.tomakehurst.wiremock.common.Errors), not marked as ignorable&quot;","body":"<p>Right after <code>server.start()</code> you need:</p>\n<pre><code>configureFor(&quot;localhost&quot;, server.port());\n</code></pre>\n"}],"owner":{"account_id":20506388,"reputation":371,"user_id":15049074,"display_name":"David Galvis Sandoval"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4581,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69409006,"answer_count":1,"score":2,"last_activity_date":1633104815,"creation_date":1621142107,"question_id":67553398,"body_markdown":"here I come because I have not found any solution to my problem. I&#39;m actually trying to stub a response with wiremock (that call to the Mocked service is be done via FeignClient). My intention is to get a fake response with the real feign client, not in a test, but in the real application. Therefore, In this case, I&#39;m not stubbing the WireMockServer in a test, but in the spring boot application class, however when stubbing there the response I&#39;m having a super weird error that I have investigated a lot so far without success.\r\n\r\nHere is the code I&#39;m using so far:\r\n\r\n```\r\n@EnableFeignClients\r\n@SpringBootApplication\r\npublic class CrmApplication\r\n      implements CommandLineRunner\r\n{\r\n    private final ConfigurableApplicationContext context;private final ConfigurableApplicationContext context;\r\n\r\n    @Autowired\r\n    public CrmApplication( ConfigurableApplicationContext context )\r\n    {\r\n        this.context = context;\r\n    }\r\n\r\n    public static void main( String[] args )\r\n    {\r\n        log.info( &quot;Starting the CRM Validator&quot; );\r\n        SpringApplication.run( CrmApplication.class, args );\r\n        log.info( &quot;Finishing the CRM Validator&quot; );\r\n    }\r\n\r\n    @Override\r\n    public void run( String... args )\r\n    {\r\n        final WireMockServer server = new WireMockServer( options().port( 8000 ) );\r\n        server.start();\r\n        log.info( &quot;Wiremock has started in the following url: {}&quot;, &quot;http://localhost:8000\\n\\n&quot; );\r\n\r\n        String resultJson = &quot;{\\&quot;id\\&quot;:1,\\&quot;hasJudicialRecords\\&quot;:false}&quot;;\r\n\r\n        MappingBuilder mappingBuilder = get( urlPathEqualTo( &quot;/api/v1/judicial-registry/1&quot;) )\r\n              .willReturn( aResponse().withStatus( 200 )\r\n                                      .withHeader( &quot;Content-Type&quot;, &quot;application/json&quot; )\r\n                                      .withBody( resultJson ) )\r\n        stubFor( mappingBuilder );\r\n\r\n    }\r\n}\r\n```\r\n\r\nThis is actually failing in the ```stubFor( mappingBuilder );``` line, and this is the exception I got: \r\n\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:822) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:803) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:346) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1340) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat com.crm.demo.CrmApplication.main(CrmApplication.java:31) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.4.5.jar:2.4.5]\r\nCaused by: com.github.tomakehurst.wiremock.common.JsonException: {\r\n  &quot;errors&quot; : [ {\r\n    &quot;code&quot; : 10,\r\n    &quot;source&quot; : {\r\n      &quot;pointer&quot; : &quot;/timestamp&quot;\r\n    },\r\n    &quot;title&quot; : &quot;Error parsing JSON&quot;,\r\n    &quot;detail&quot; : &quot;Unrecognized field \\&quot;timestamp\\&quot; (class com.github.tomakehurst.wiremock.common.Errors), not marked as ignorable&quot;\r\n  } ]\r\n}\r\n\tat com.github.tomakehurst.wiremock.common.JsonException.fromJackson(JsonException.java:53) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.common.Json.read(Json.java:55) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.HttpAdminClient.safelyExecuteRequest(HttpAdminClient.java:486) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.HttpAdminClient.executeRequest(HttpAdminClient.java:454) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.HttpAdminClient.addStubMapping(HttpAdminClient.java:131) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.WireMock.register(WireMock.java:298) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.WireMock.register(WireMock.java:293) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.WireMock.givenThat(WireMock.java:104) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.WireMock.stubFor(WireMock.java:108) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.crm.demo.CrmApplication.run(CrmApplication.java:31) ~[main/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:819) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\t... 10 common frames omitted\r\n\r\n```\r\nSo one question would be, does wiremock only work in testing?\r\n\r\nI have tried changing the JSON, and its fields but that does not seem to work, so if any of you know whow to solve that issue would be helpful, or if you also know how to stub an api request  that is called by @FeignClient (not in a test but in the real spring application run) as an alternative maybe could work too. \r\n\r\nThank you!.","title":"Wiremock stubbing error: &quot;Unrecognized field \\&quot;timestamp\\&quot; (class com.github.tomakehurst.wiremock.common.Errors), not marked as ignorable&quot;","body":"<p>here I come because I have not found any solution to my problem. I'm actually trying to stub a response with wiremock (that call to the Mocked service is be done via FeignClient). My intention is to get a fake response with the real feign client, not in a test, but in the real application. Therefore, In this case, I'm not stubbing the WireMockServer in a test, but in the spring boot application class, however when stubbing there the response I'm having a super weird error that I have investigated a lot so far without success.</p>\n<p>Here is the code I'm using so far:</p>\n<pre><code>@EnableFeignClients\n@SpringBootApplication\npublic class CrmApplication\n      implements CommandLineRunner\n{\n    private final ConfigurableApplicationContext context;private final ConfigurableApplicationContext context;\n\n    @Autowired\n    public CrmApplication( ConfigurableApplicationContext context )\n    {\n        this.context = context;\n    }\n\n    public static void main( String[] args )\n    {\n        log.info( &quot;Starting the CRM Validator&quot; );\n        SpringApplication.run( CrmApplication.class, args );\n        log.info( &quot;Finishing the CRM Validator&quot; );\n    }\n\n    @Override\n    public void run( String... args )\n    {\n        final WireMockServer server = new WireMockServer( options().port( 8000 ) );\n        server.start();\n        log.info( &quot;Wiremock has started in the following url: {}&quot;, &quot;http://localhost:8000\\n\\n&quot; );\n\n        String resultJson = &quot;{\\&quot;id\\&quot;:1,\\&quot;hasJudicialRecords\\&quot;:false}&quot;;\n\n        MappingBuilder mappingBuilder = get( urlPathEqualTo( &quot;/api/v1/judicial-registry/1&quot;) )\n              .willReturn( aResponse().withStatus( 200 )\n                                      .withHeader( &quot;Content-Type&quot;, &quot;application/json&quot; )\n                                      .withBody( resultJson ) )\n        stubFor( mappingBuilder );\n\n    }\n}\n</code></pre>\n<p>This is actually failing in the <code>stubFor( mappingBuilder );</code> line, and this is the exception I got:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:822) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:803) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:346) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1340) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.5.jar:2.4.5]\n    at com.crm.demo.CrmApplication.main(CrmApplication.java:31) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.4.5.jar:2.4.5]\nCaused by: com.github.tomakehurst.wiremock.common.JsonException: {\n  &quot;errors&quot; : [ {\n    &quot;code&quot; : 10,\n    &quot;source&quot; : {\n      &quot;pointer&quot; : &quot;/timestamp&quot;\n    },\n    &quot;title&quot; : &quot;Error parsing JSON&quot;,\n    &quot;detail&quot; : &quot;Unrecognized field \\&quot;timestamp\\&quot; (class com.github.tomakehurst.wiremock.common.Errors), not marked as ignorable&quot;\n  } ]\n}\n    at com.github.tomakehurst.wiremock.common.JsonException.fromJackson(JsonException.java:53) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.common.Json.read(Json.java:55) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.HttpAdminClient.safelyExecuteRequest(HttpAdminClient.java:486) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.HttpAdminClient.executeRequest(HttpAdminClient.java:454) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.HttpAdminClient.addStubMapping(HttpAdminClient.java:131) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.WireMock.register(WireMock.java:298) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.WireMock.register(WireMock.java:293) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.WireMock.givenThat(WireMock.java:104) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.WireMock.stubFor(WireMock.java:108) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.crm.demo.CrmApplication.run(CrmApplication.java:31) ~[main/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:819) ~[spring-boot-2.4.5.jar:2.4.5]\n    ... 10 common frames omitted\n\n</code></pre>\n<p>So one question would be, does wiremock only work in testing?</p>\n<p>I have tried changing the JSON, and its fields but that does not seem to work, so if any of you know whow to solve that issue would be helpful, or if you also know how to stub an api request  that is called by @FeignClient (not in a test but in the real spring application run) as an alternative maybe could work too.</p>\n<p>Thank you!.</p>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":11024424,"reputation":81,"user_id":8097748,"display_name":"Maksim Petrusevich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517312417,"creation_date":1517312417,"answer_id":48520561,"question_id":48517104,"body_markdown":"With this code - no way, because you use annotations from org.jetbrains.annotations.*, that use only in intellij idea tests runner. For gradle, annotation @NotNull (or @Nullable) says nothing. Maven also doesn&#39;t see this annotation. I can advise you use Objects.requireNonNull(T obj) for null checking.","title":"Gradle build ignores Jetbrains annotations","body":"<p>With this code - no way, because you use annotations from org.jetbrains.annotations.*, that use only in intellij idea tests runner. For gradle, annotation @NotNull (or @Nullable) says nothing. Maven also doesn't see this annotation. I can advise you use Objects.requireNonNull(T obj) for null checking.</p>\n"},{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1518084539,"creation_date":1518084539,"answer_id":48682792,"question_id":48517104,"body_markdown":"The easiest solution I have found is to apply [org.jetbrains.intellij][1] plugin.\r\nBecause among other things this plugin &quot;patches compile tasks to instrument code with nullability assertions&quot;.\r\n\r\n      apply plugin: &#39;org.jetbrains.intellij&#39;\r\n    \r\n      intellij {\r\n        instrumentCode = true\r\n        downloadSources = false\r\n      }\r\n\r\n\r\n  [1]: https://github.com/JetBrains/gradle-intellij-plugin","title":"Gradle build ignores Jetbrains annotations","body":"<p>The easiest solution I have found is to apply <a href=\"https://github.com/JetBrains/gradle-intellij-plugin\" rel=\"noreferrer\">org.jetbrains.intellij</a> plugin.\nBecause among other things this plugin \"patches compile tasks to instrument code with nullability assertions\".</p>\n\n<pre><code>  apply plugin: 'org.jetbrains.intellij'\n\n  intellij {\n    instrumentCode = true\n    downloadSources = false\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10159160,"reputation":71,"user_id":7503218,"display_name":"N. Aird"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1556809395,"creation_date":1556809395,"answer_id":55955260,"question_id":48517104,"body_markdown":"Try adding the following to your dependencies. It worked for me.\r\n\r\n    compile &#39;org.jetbrains:annotations:13.0&#39;","title":"Gradle build ignores Jetbrains annotations","body":"<p>Try adding the following to your dependencies. It worked for me.</p>\n\n<pre><code>compile 'org.jetbrains:annotations:13.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17202451,"reputation":11,"user_id":12513551,"display_name":"Jordi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597131526,"creation_date":1597131526,"answer_id":63353608,"question_id":48517104,"body_markdown":"Adding the following dependency worked for me:\r\n\r\n    compile group: &#39;org.jetbrains&#39;, name: &#39;annotations&#39;, version: &#39;15.0&#39;\r\n\r\nRun the &#39;dependencies&#39; task &amp; push the refresh button in Gradle.","title":"Gradle build ignores Jetbrains annotations","body":"<p>Adding the following dependency worked for me:</p>\n<pre><code>compile group: 'org.jetbrains', name: 'annotations', version: '15.0'\n</code></pre>\n<p>Run the 'dependencies' task &amp; push the refresh button in Gradle.</p>\n"},{"tags":[],"owner":{"account_id":22916377,"reputation":1,"user_id":17052911,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633104792,"creation_date":1633104792,"answer_id":69409002,"question_id":48517104,"body_markdown":"We found that Lombok&#39;s `@NonNull` works better. But you need to configure IDEA to prefer this one during nullability-related analysis and generation","title":"Gradle build ignores Jetbrains annotations","body":"<p>We found that Lombok's <code>@NonNull</code> works better. But you need to configure IDEA to prefer this one during nullability-related analysis and generation</p>\n"}],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4823,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":48682792,"answer_count":5,"score":8,"last_activity_date":1633104792,"creation_date":1517301398,"question_id":48517104,"body_markdown":"Let&#39;s say we have the following test code:\r\n\r\n    import org.jetbrains.annotations.NotNull;\r\n    import org.junit.Test;\r\n    \r\n    public class NullTest {\r\n    \r\n      @Test\r\n      public void testNull() {\r\n        doNothing(null);\r\n      }\r\n    \r\n      private @NotNull String doNothing(@NotNull String value) {\r\n        return value;\r\n      }\r\n    }\r\n\r\nThe test will pass when running ```gradle test``` directly or if IDEA delegates the action to gradle.\r\nBut it will fail with ```IllegalArgumentException: Argument for @NotNull parameter &#39;value&#39; must not be null``` exception if it runs using IDEA runner (not delegated to gradle).\r\n\r\nThe question is: how to fail the test running it with gradle?","title":"Gradle build ignores Jetbrains annotations","body":"<p>Let's say we have the following test code:</p>\n\n<pre><code>import org.jetbrains.annotations.NotNull;\nimport org.junit.Test;\n\npublic class NullTest {\n\n  @Test\n  public void testNull() {\n    doNothing(null);\n  }\n\n  private @NotNull String doNothing(@NotNull String value) {\n    return value;\n  }\n}\n</code></pre>\n\n<p>The test will pass when running <code>gradle test</code> directly or if IDEA delegates the action to gradle.\nBut it will fail with <code>IllegalArgumentException: Argument for @NotNull parameter 'value' must not be null</code> exception if it runs using IDEA runner (not delegated to gradle).</p>\n\n<p>The question is: how to fail the test running it with gradle?</p>\n"},{"tags":["java","arrays","jdbc","h2"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1557854271,"post_id":56135349,"comment_id":98902051,"body_markdown":"Check, it may help you. https://stackoverflow.com/questions/37693849/h2-in-memory-database-error-data-conversion-error-converting-when-using-uuid-a?rq=1","body":"Check, it may help you. <a href=\"https://stackoverflow.com/questions/37693849/h2-in-memory-database-error-data-conversion-error-converting-when-using-uuid-a?rq=1\" title=\"h2 in memory database error data conversion error converting when using uuid a\">stackoverflow.com/questions/37693849/&hellip;</a>"},{"owner":{"account_id":1949371,"reputation":997,"user_id":1753823,"display_name":"Jayesh"},"score":0,"creation_date":1557854588,"post_id":56135349,"comment_id":98902173,"body_markdown":"what is EXAMPLE defined in the database as INT or VARCHAR ?","body":"what is EXAMPLE defined in the database as INT or VARCHAR ?"},{"owner":{"account_id":11065332,"reputation":691,"user_id":8125320,"accept_rate":50,"display_name":"Traif"},"score":0,"creation_date":1557854664,"post_id":56135349,"comment_id":98902214,"body_markdown":"Is that way: CREATE TABLE IF NOT EXISTS DATA (EXAMPLE int auto_increment)","body":"Is that way: CREATE TABLE IF NOT EXISTS DATA (EXAMPLE int auto_increment)"},{"owner":{"account_id":1949371,"reputation":997,"user_id":1753823,"display_name":"Jayesh"},"score":0,"creation_date":1557855182,"post_id":56135349,"comment_id":98902450,"body_markdown":"can you try `GestionBDD.getConexionBD().createArrayOf(&quot;INTEGER&quot;, list);`","body":"can you try <code>GestionBDD.getConexionBD().createArrayOf(&quot;INTEGER&quot;, list);</code>"},{"owner":{"account_id":11065332,"reputation":691,"user_id":8125320,"accept_rate":50,"display_name":"Traif"},"score":0,"creation_date":1557855700,"post_id":56135349,"comment_id":98902692,"body_markdown":"I tried too, but doesn&#39;t work. It seems that is not the error","body":"I tried too, but doesn&#39;t work. It seems that is not the error"},{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1557859185,"post_id":56135349,"comment_id":98904343,"body_markdown":"See [this answer](https://stackoverflow.com/a/3724272/2144390) for how to do it with H2.","body":"See <a href=\"https://stackoverflow.com/a/3724272/2144390\">this answer</a> for how to do it with H2."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1559137452,"post_id":56135349,"comment_id":99327431,"body_markdown":"See also https://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives","body":"See also <a href=\"https://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives\" title=\"preparedstatement in clause alternatives\">stackoverflow.com/questions/178479/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633104743,"creation_date":1559079650,"answer_id":56350387,"question_id":56135349,"body_markdown":"Using my JDBC utilities to work with JDBC IN array parameters easily:\r\n\r\n**1. If Maven, add the below dependency into your pom.xml**\r\n\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.appslandia&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;appslandia-common&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;7.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n**2. If no maven, [download this jar file][1]**\r\n\r\n**3. Fix your code ( Works all DBMS guaranteed )**\r\n\r\n\r\n\tstatic final Sql EXAMPLE_SQL \r\n              = new Sql(&quot;SELECT EXAMPLE FROM DATA WHERE EXAMPLE IN :example_array&quot;);\r\n\r\n\tStatementImpl stat = new StatementImpl(GestionBDD.getConexionBD(), EXAMPLE_SQL);\r\n\r\n\tstat.setIntArray(&quot;example_array&quot;, new int[] {1, 2, 3} );\r\n\r\n\tResultSet rs = stat.executeQuery();\r\n\r\n\twhile (rs.next()) {\r\n\t\t// DO THINGS \r\n\t}\r\n\r\n\trs.close(); stat.close();\r\n\r\n**4. Named parameters / Null parameters**\r\n    \r\n    final Sql sampleSql \r\n           = new Sql(&quot;SELECT * FROM Table WHERE a=:int_a AND b=:str_b)\r\n\t\r\n\tStatementImpl stat = new StatementImpl(conn, sampleSql);\r\n\r\n\tstat.setInt(&quot;int_a&quot;, int_value);\r\n\tstat.setInt2(&quot;int_a&quot;, null_value);\r\n\tstat.setString(&quot;str_b&quot;, str_value);\r\n    // ...\r\n\r\n**5. Some Notes**\r\n\r\n- Parameter name supported. No more ? in your query\r\n- Parameter in Sql need to start with : (Like JPA parameters)\r\n- IN Array parameter in Sql must be in this syntax  IN :param_name\r\n\r\n  [1]: https://search.maven.org/remotecontent?filepath=com/appslandia/appslandia-common/7.9/appslandia-common-7.9.jar","title":"Cannot use setArray JDBC (integer) with H2 Database","body":"<p>Using my JDBC utilities to work with JDBC IN array parameters easily:</p>\n<p><strong>1. If Maven, add the below dependency into your pom.xml</strong></p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.appslandia&lt;/groupId&gt;\n      &lt;artifactId&gt;appslandia-common&lt;/artifactId&gt;\n      &lt;version&gt;7.9&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>2. If no maven, <a href=\"https://search.maven.org/remotecontent?filepath=com/appslandia/appslandia-common/7.9/appslandia-common-7.9.jar\" rel=\"nofollow noreferrer\">download this jar file</a></strong></p>\n<p><strong>3. Fix your code ( Works all DBMS guaranteed )</strong></p>\n<pre><code>static final Sql EXAMPLE_SQL \n          = new Sql(&quot;SELECT EXAMPLE FROM DATA WHERE EXAMPLE IN :example_array&quot;);\n\nStatementImpl stat = new StatementImpl(GestionBDD.getConexionBD(), EXAMPLE_SQL);\n\nstat.setIntArray(&quot;example_array&quot;, new int[] {1, 2, 3} );\n\nResultSet rs = stat.executeQuery();\n\nwhile (rs.next()) {\n    // DO THINGS \n}\n\nrs.close(); stat.close();\n</code></pre>\n<p><strong>4. Named parameters / Null parameters</strong></p>\n<pre><code>final Sql sampleSql \n       = new Sql(&quot;SELECT * FROM Table WHERE a=:int_a AND b=:str_b)\n\nStatementImpl stat = new StatementImpl(conn, sampleSql);\n\nstat.setInt(&quot;int_a&quot;, int_value);\nstat.setInt2(&quot;int_a&quot;, null_value);\nstat.setString(&quot;str_b&quot;, str_value);\n// ...\n</code></pre>\n<p><strong>5. Some Notes</strong></p>\n<ul>\n<li>Parameter name supported. No more ? in your query</li>\n<li>Parameter in Sql need to start with : (Like JPA parameters)</li>\n<li>IN Array parameter in Sql must be in this syntax  IN :param_name</li>\n</ul>\n"}],"owner":{"account_id":11065332,"reputation":691,"user_id":8125320,"accept_rate":50,"display_name":"Traif"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56350387,"answer_count":1,"score":1,"last_activity_date":1633104743,"creation_date":1557853617,"question_id":56135349,"body_markdown":"I want to put an array of integers in my jdbc query with H2 database.\r\n\r\n    Integer[] list = new Integer[]{1,2,3};\r\n\t\t\t\tString query = &quot;SELECT EXAMPLE FROM DATA WHERE EXAMPLE IN (?)&quot;;\r\n                PreparedStatement ps = GestionBDD.getConexionBD().prepareStatement(query);\r\n                Array array = GestionBDD.getConexionBD().createArrayOf(&quot;int&quot;, list);\r\n\r\n                ps.setArray(1, array);\r\n\r\n                ResultSet rs = ps.executeQuery();\r\n\r\n                while (rs.next()) {\r\n                    // DO THINGS \r\n                }\r\n\r\nBut doest not work, I am getting this exception : org.h2.jdbc.JdbcSQLException: Data conversion error converting &quot;(1,2,3)&quot;; SQL statement:\r\n\r\nI am using H2 database.\r\nCan you help me please?\r\n","title":"Cannot use setArray JDBC (integer) with H2 Database","body":"<p>I want to put an array of integers in my jdbc query with H2 database.</p>\n\n<pre><code>Integer[] list = new Integer[]{1,2,3};\n            String query = \"SELECT EXAMPLE FROM DATA WHERE EXAMPLE IN (?)\";\n            PreparedStatement ps = GestionBDD.getConexionBD().prepareStatement(query);\n            Array array = GestionBDD.getConexionBD().createArrayOf(\"int\", list);\n\n            ps.setArray(1, array);\n\n            ResultSet rs = ps.executeQuery();\n\n            while (rs.next()) {\n                // DO THINGS \n            }\n</code></pre>\n\n<p>But doest not work, I am getting this exception : org.h2.jdbc.JdbcSQLException: Data conversion error converting \"(1,2,3)\"; SQL statement:</p>\n\n<p>I am using H2 database.\nCan you help me please?</p>\n"},{"tags":["java","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633092908,"creation_date":1633092908,"answer_id":69406256,"question_id":69405347,"body_markdown":"Best would be to add the corresponding method to the class:\r\n\r\n    @Entity\r\n    public class Employee extends AbstractBaseEntity {\r\n        @OneToMany( mappedBy = &quot;employee&quot;,  cascade = CascadeType.MERGE, fetch = FetchType.LAZY)\r\n        private List&lt;Review&gt; reviews;\r\n\r\n        public double getAverage() {\r\n            return reviews.stream().map(Review::getGrade).mapToInt(Byte::intValue).average()\r\n        }\r\n    }\r\n\r\nand then just call it in thymeleaf\r\n\r\n`&lt;span th:text=&quot;${employee.getAverage()}&quot; /&gt;`","title":"How to get an average int for a Collection of an Entity using thymeleaf?","body":"<p>Best would be to add the corresponding method to the class:</p>\n<pre><code>@Entity\npublic class Employee extends AbstractBaseEntity {\n    @OneToMany( mappedBy = &quot;employee&quot;,  cascade = CascadeType.MERGE, fetch = FetchType.LAZY)\n    private List&lt;Review&gt; reviews;\n\n    public double getAverage() {\n        return reviews.stream().map(Review::getGrade).mapToInt(Byte::intValue).average()\n    }\n}\n</code></pre>\n<p>and then just call it in thymeleaf</p>\n<p><code>&lt;span th:text=&quot;${employee.getAverage()}&quot; /&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633104462,"creation_date":1633104462,"answer_id":69408924,"question_id":69405347,"body_markdown":"Thymeleaf has [aggregate functions][1].  You can combine them with [collection projection][2].\r\n\r\n    &lt;span th:text=&quot;${#aggregates.avg(employee.reviews.![grade])}&quot; /&gt;\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#aggregates\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-collection-projection","title":"How to get an average int for a Collection of an Entity using thymeleaf?","body":"<p>Thymeleaf has <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#aggregates\" rel=\"nofollow noreferrer\">aggregate functions</a>.  You can combine them with <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-collection-projection\" rel=\"nofollow noreferrer\">collection projection</a>.</p>\n<pre><code>&lt;span th:text=&quot;${#aggregates.avg(employee.reviews.![grade])}&quot; /&gt;\n</code></pre>\n"}],"owner":{"display_name":"user15599360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69408924,"answer_count":2,"score":0,"last_activity_date":1633104462,"creation_date":1633088645,"question_id":69405347,"body_markdown":"I have an Employee Entity that has a Collection of Reviews, each Review has a byte grade.\r\n\r\nUnnecessary details are omitted for brevity\r\n\r\n    @Entity\r\n    public class Employee extends AbstractBaseEntity {\r\n        @OneToMany( mappedBy = &quot;employee&quot;,  cascade = CascadeType.MERGE, fetch = FetchType.LAZY)\r\n        private List&lt;Review&gt; reviews;\r\n    }\r\n    @Entity\r\n    public class Review extends AbstractBaseEntity {\r\n        private Byte grade;\r\n    }\r\n\r\nHow can I get an average Review grade for each Employee using Thymeleaf to insert in Table?\r\n","title":"How to get an average int for a Collection of an Entity using thymeleaf?","body":"<p>I have an Employee Entity that has a Collection of Reviews, each Review has a byte grade.</p>\n<p>Unnecessary details are omitted for brevity</p>\n<pre><code>@Entity\npublic class Employee extends AbstractBaseEntity {\n    @OneToMany( mappedBy = &quot;employee&quot;,  cascade = CascadeType.MERGE, fetch = FetchType.LAZY)\n    private List&lt;Review&gt; reviews;\n}\n@Entity\npublic class Review extends AbstractBaseEntity {\n    private Byte grade;\n}\n</code></pre>\n<p>How can I get an average Review grade for each Employee using Thymeleaf to insert in Table?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633104460,"creation_date":1633104460,"answer_id":69408923,"question_id":67137694,"body_markdown":"You can. You have to read output packet that contains sent messages like that :\r\n\r\n```java\r\n@Inject(method = &quot;sendPacket(Lnet/minecraft/network/Packet;)V&quot;, at = @At(&quot;HEAD&quot;), cancellable = true)\r\nprivate void onSendPacket(Packet&lt;?&gt; packet, CallbackInfo callbackInfo) {\r\n   // System.out.println(&quot;Packet Sent: &quot; + packet.toString());\r\n   // here you can get the packet type, then if it&#39;s chat&#39;s you can get content\r\n   // you can cancel it with: callbackInfo.cancel();\r\n}\r\n```\r\n\r\n[Source](https://forums.minecraftforge.net/topic/74173-on-packet-sendrecieve-events/?do=findComment&amp;comment=357895)","title":"similar ClientChatReceivedEvent for Client only sendMessage (Minecraft Forge Modding)","body":"<p>You can. You have to read output packet that contains sent messages like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject(method = &quot;sendPacket(Lnet/minecraft/network/Packet;)V&quot;, at = @At(&quot;HEAD&quot;), cancellable = true)\nprivate void onSendPacket(Packet&lt;?&gt; packet, CallbackInfo callbackInfo) {\n   // System.out.println(&quot;Packet Sent: &quot; + packet.toString());\n   // here you can get the packet type, then if it's chat's you can get content\n   // you can cancel it with: callbackInfo.cancel();\n}\n</code></pre>\n<p><a href=\"https://forums.minecraftforge.net/topic/74173-on-packet-sendrecieve-events/?do=findComment&amp;comment=357895\" rel=\"nofollow noreferrer\">Source</a></p>\n"}],"owner":{"account_id":11665878,"reputation":1,"user_id":8826182,"display_name":"Joe6pack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633104460,"creation_date":1618659261,"question_id":67137694,"body_markdown":"I just started with java and minecraft modding. I want to implement a very simple task but unfortunately I do not know the right event for it.\r\nMessages sent via\r\n\r\n    Minecraft.getMinecraft().player.sendChatMessage(message);\r\n\r\nfrom the client to the server I can use:\r\n\r\n    public void onChat(ClientChatReceivedEvent event)\r\n\r\nto read it back in.\r\nHowever, there are now also messages that are sent via\r\n\r\n    Minecraft.getMinecraft().player.sendMessage(m)\r\n\r\nonly direct to the client. Is there also a possibility to read these messages? Another mod writes these &quot;client only&quot; messages that I want to respond to.","title":"similar ClientChatReceivedEvent for Client only sendMessage (Minecraft Forge Modding)","body":"<p>I just started with java and minecraft modding. I want to implement a very simple task but unfortunately I do not know the right event for it.\nMessages sent via</p>\n<pre><code>Minecraft.getMinecraft().player.sendChatMessage(message);\n</code></pre>\n<p>from the client to the server I can use:</p>\n<pre><code>public void onChat(ClientChatReceivedEvent event)\n</code></pre>\n<p>to read it back in.\nHowever, there are now also messages that are sent via</p>\n<pre><code>Minecraft.getMinecraft().player.sendMessage(m)\n</code></pre>\n<p>only direct to the client. Is there also a possibility to read these messages? Another mod writes these &quot;client only&quot; messages that I want to respond to.</p>\n"},{"tags":["java","android","kotlin","android-intent"],"comments":[{"owner":{"account_id":9001890,"reputation":98,"user_id":6710204,"display_name":"M adnan"},"score":0,"creation_date":1632488386,"post_id":69315456,"comment_id":122513110,"body_markdown":"val intent = Intent()\n                        intent.action = Intent.ACTION_VIEW\n                        intent.setDataAndType(Uri.parse(docList[position]?.image), docList[position]?.contentType)\n                        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n                        startActivity(holder.itemView.context, intent, null)","body":"val intent = Intent()                         intent.action = Intent.ACTION_VIEW                         intent.setDataAndType(Uri.parse(docList[position]?.image), docList[position]?.contentType)                         intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)                         startActivity(holder.itemView.context, intent, null)"},{"owner":{"account_id":9001890,"reputation":98,"user_id":6710204,"display_name":"M adnan"},"score":0,"creation_date":1632488399,"post_id":69315456,"comment_id":122513119,"body_markdown":"check my above code","body":"check my above code"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1632488652,"post_id":69315456,"comment_id":122513218,"body_markdown":"Please post your code in a normal code block. And remove that comment with code for a second time.","body":"Please post your code in a normal code block. And remove that comment with code for a second time."},{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1632489780,"post_id":69315456,"comment_id":122513678,"body_markdown":"Post an example of the `Uri` - seems odd you are referencing a field named `.image` in your `docList` ?  And post `contentType`.","body":"Post an example of the <code>Uri</code> - seems odd you are referencing a field named <code>.image</code> in your <code>docList</code> ?  And post <code>contentType</code>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633176054,"post_id":69315456,"comment_id":122693632,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"score":0,"creation_date":1669912207,"post_id":69315456,"comment_id":131755682,"body_markdown":"Did you find a solution? I&#39;ve the same problem, i got the same error while both of excel and google sheets are installed","body":"Did you find a solution? I&#39;ve the same problem, i got the same error while both of excel and google sheets are installed"}],"answers":[{"tags":[],"owner":{"account_id":22537042,"reputation":182,"user_id":16728174,"display_name":"user16728174"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633102306,"creation_date":1633102306,"answer_id":69408476,"question_id":69315456,"body_markdown":"if you get ActivityNotFound exception it means there is no application in your device to support this file type.\r\n\r\nfirst of all wrap your code in **try/catch** block to prevent crash.\r\n\r\nthen you have some options :\r\n\r\nfirst way : you can open play store to prompt user to download office app\r\n\r\n    try{\r\n            val intent = Intent()\r\n            intent.action = Intent.ACTION_VIEW\r\n            intent.setDataAndType(Uri.parse(docList[position]?.image),\r\n                    docList[position]?.contentType)\r\n            intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\n            startActivity(holder.itemView.context, intent, null)\r\n        }\r\n            catch(e:ActivityNotFoundException){\r\n\r\n                //NOTE: you can show toast to user or open google play store for required app\r\n\r\n                startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(&quot;market://details?id=com.microsoft.office.officehubrow&quot;)))\r\n\r\n            }\r\n\r\nsecond way : you can use android **WebView** to show excel / word file types in your app without Intent\r\n\r\ncheck this:\r\n\r\nhttps://stackoverflow.com/questions/12797651/how-to-open-excel-doc-files-in-webview-in-android\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"No Activity found to handle Intent whien trying to open word file or excel file","body":"<p>if you get ActivityNotFound exception it means there is no application in your device to support this file type.</p>\n<p>first of all wrap your code in <strong>try/catch</strong> block to prevent crash.</p>\n<p>then you have some options :</p>\n<p>first way : you can open play store to prompt user to download office app</p>\n<pre><code>try{\n        val intent = Intent()\n        intent.action = Intent.ACTION_VIEW\n        intent.setDataAndType(Uri.parse(docList[position]?.image),\n                docList[position]?.contentType)\n        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n        startActivity(holder.itemView.context, intent, null)\n    }\n        catch(e:ActivityNotFoundException){\n\n            //NOTE: you can show toast to user or open google play store for required app\n\n            startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(&quot;market://details?id=com.microsoft.office.officehubrow&quot;)))\n\n        }\n</code></pre>\n<p>second way : you can use android <strong>WebView</strong> to show excel / word file types in your app without Intent</p>\n<p>check this:</p>\n<p><a href=\"https://stackoverflow.com/questions/12797651/how-to-open-excel-doc-files-in-webview-in-android\">How to open Excel, .doc files in Webview in Android?</a></p>\n"},{"tags":[],"owner":{"account_id":6848733,"reputation":219,"user_id":7945455,"display_name":"Swapnil Musale"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633104197,"creation_date":1633104197,"answer_id":69408865,"question_id":69315456,"body_markdown":"    val intent = Intent()\r\n        intent.action = Intent.ACTION_VIEW\r\n        intent.setDataAndType(Uri.parse(docList[position]?.image), docList[position]?.contentType)\r\n        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\n        if (intent.resolveActivity(requireActivity().packageManager) != null) {\r\n            startActivity(holder.itemView.context, intent, null)\r\n        } else {\r\n            Toast.makeText(requireActivity(), &quot;No Application available to handle this intent&quot;, Toast.LENGTH_LONG).show()\r\n        }\r\n\r\nUse resolveActivity method of intent. it will return app which can handle this intent else it will be null.","title":"No Activity found to handle Intent whien trying to open word file or excel file","body":"<pre><code>val intent = Intent()\n    intent.action = Intent.ACTION_VIEW\n    intent.setDataAndType(Uri.parse(docList[position]?.image), docList[position]?.contentType)\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n    if (intent.resolveActivity(requireActivity().packageManager) != null) {\n        startActivity(holder.itemView.context, intent, null)\n    } else {\n        Toast.makeText(requireActivity(), &quot;No Application available to handle this intent&quot;, Toast.LENGTH_LONG).show()\n    }\n</code></pre>\n<p>Use resolveActivity method of intent. it will return app which can handle this intent else it will be null.</p>\n"}],"owner":{"account_id":9001890,"reputation":98,"user_id":6710204,"display_name":"M adnan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633104197,"creation_date":1632488347,"question_id":69315456,"body_markdown":"   &quot;here i want to open file &quot;\r\n\r\n``` \r\nval intent = Intent()\r\nintent.action = Intent.ACTION_VIEW\r\nintent.setDataAndType(Uri.parse(docList[position]?.image), docList[position]?.contentType)\r\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\nstartActivity(holder.itemView.context, intent, null)\r\n```\r\n\r\n","title":"No Activity found to handle Intent whien trying to open word file or excel file","body":"<p>&quot;here i want to open file &quot;</p>\n<pre><code>val intent = Intent()\nintent.action = Intent.ACTION_VIEW\nintent.setDataAndType(Uri.parse(docList[position]?.image), docList[position]?.contentType)\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\nstartActivity(holder.itemView.context, intent, null)\n</code></pre>\n"},{"tags":["java","sql","postgresql"],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633096073,"creation_date":1633096073,"answer_id":69406984,"question_id":69406869,"body_markdown":"Either you are connected to the wrong database, or the parameter `search_path` is set differently.\r\n\r\nDo the obvious thing and name the schema explicitly:\r\n\r\n```\r\nUPDATE public.scm_repos SET ...\r\n```","title":"What causes error &quot;relation &quot;table_name&quot; does not exist&quot; and how can I fix it?","body":"<p>Either you are connected to the wrong database, or the parameter <code>search_path</code> is set differently.</p>\n<p>Do the obvious thing and name the schema explicitly:</p>\n<pre><code>UPDATE public.scm_repos SET ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19351493,"reputation":115,"user_id":14148807,"display_name":"Achmad Afriza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633104171,"creation_date":1633099055,"answer_id":69407728,"question_id":69406869,"body_markdown":"Postgres is a bit finicky, meaning that sometimes you have to specify the schema and database clearly in connection. As such, it can behave differently on the local and remote machines.\r\n\r\nWhat you could do is:\r\n\r\n 1. Firstly check the current state of the remote database. You can easily do that by using [tools][1] such as [DataGrip][2]. Specify the remote connection as you normally would do.\r\n 2. Define it&#39;s schema on connection. i.e.\r\n`jdbc:postgresql://localhost:5432/mydatabase?currentSchema=myschema`. More info [here](https://stackoverflow.com/a/4820666/14148807).\r\n 3. or, clearly state the schema in your query. [Laurenz Albe](https://stackoverflow.com/a/69406984/14148807)&#39;s answer defines this clearly.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Comparison_of_database_administration_tools\r\n  [2]: https://www.jetbrains.com/datagrip/","title":"What causes error &quot;relation &quot;table_name&quot; does not exist&quot; and how can I fix it?","body":"<p>Postgres is a bit finicky, meaning that sometimes you have to specify the schema and database clearly in connection. As such, it can behave differently on the local and remote machines.</p>\n<p>What you could do is:</p>\n<ol>\n<li>Firstly check the current state of the remote database. You can easily do that by using <a href=\"https://en.m.wikipedia.org/wiki/Comparison_of_database_administration_tools\" rel=\"nofollow noreferrer\">tools</a> such as <a href=\"https://www.jetbrains.com/datagrip/\" rel=\"nofollow noreferrer\">DataGrip</a>. Specify the remote connection as you normally would do.</li>\n<li>Define it's schema on connection. i.e.\n<code>jdbc:postgresql://localhost:5432/mydatabase?currentSchema=myschema</code>. More info <a href=\"https://stackoverflow.com/a/4820666/14148807\">here</a>.</li>\n<li>or, clearly state the schema in your query. <a href=\"https://stackoverflow.com/a/69406984/14148807\">Laurenz Albe</a>'s answer defines this clearly.</li>\n</ol>\n"}],"owner":{"account_id":8547570,"reputation":1120,"user_id":6405628,"accept_rate":80,"display_name":"Nimrod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633104171,"creation_date":1633095594,"question_id":69406869,"body_markdown":"I know this question was asked before, but none of the suggested solutions worked for me.\r\n\r\nI have the following simple query:\r\n\r\n    UPDATE scm_repos repos SET token_id=(SELECT token_id FROM scm_orgs orgs WHERE repos.org_id=orgs.id)\r\n\r\nWhen running this query locally on my PostgreSQL, it works as expected, but when it runs as a script on our &#39;deploy&#39; phase on a remote PostgreSQL, it fails with the following error:\r\n\r\n&gt; UPDATE scm_repos repos SET token_id=(SELECT token_id FROM scm_orgs\r\n&gt; orgs WHERE repos.org_id=orgs.id); nested exception is\r\n&gt; org.********ql.util.PSQLException: ERROR: relation &quot;scm_repos&quot; does\r\n&gt; not exist\r\n\r\nI tried to surround the table name with double quotes and I also made sure that the table relates to a public schema (I saw some solutions suggests to explicitly write the schema name if not public).\r\n\r\nWhat am I missing here?\r\nThis is a very simple task but nothing I tried makes it run.","title":"What causes error &quot;relation &quot;table_name&quot; does not exist&quot; and how can I fix it?","body":"<p>I know this question was asked before, but none of the suggested solutions worked for me.</p>\n<p>I have the following simple query:</p>\n<pre><code>UPDATE scm_repos repos SET token_id=(SELECT token_id FROM scm_orgs orgs WHERE repos.org_id=orgs.id)\n</code></pre>\n<p>When running this query locally on my PostgreSQL, it works as expected, but when it runs as a script on our 'deploy' phase on a remote PostgreSQL, it fails with the following error:</p>\n<blockquote>\n<p>UPDATE scm_repos repos SET token_id=(SELECT token_id FROM scm_orgs\norgs WHERE repos.org_id=orgs.id); nested exception is\norg.********ql.util.PSQLException: ERROR: relation &quot;scm_repos&quot; does\nnot exist</p>\n</blockquote>\n<p>I tried to surround the table name with double quotes and I also made sure that the table relates to a public schema (I saw some solutions suggests to explicitly write the schema name if not public).</p>\n<p>What am I missing here?\nThis is a very simple task but nothing I tried makes it run.</p>\n"},{"tags":["java","kotlin","gradle","vert.x"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1604918067,"creation_date":1604918067,"answer_id":64749939,"question_id":64749528,"body_markdown":"It seems the latest way of doing this is:\r\n\r\n\r\n    application {\r\n        mainClass.set(launcherClassName)\r\n    }\r\n","title":"&#39;setter for mainClassName: String&#39; is deprecated. Deprecated in Java","body":"<p>It seems the latest way of doing this is:</p>\n<pre><code>application {\n    mainClass.set(launcherClassName)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"down_vote_count":4,"up_vote_count":6,"is_accepted":false,"score":2,"last_activity_date":1605007417,"creation_date":1605007417,"answer_id":64767964,"question_id":64749528,"body_markdown":"Setting `mainClassName` on the top level should work too:\r\n\r\n```kotlin\r\nmainClassName = &quot;io.vertx.core.Launcher&quot;\r\n```\r\n\r\nhttps://github.com/AlexeySoshin/KotlinWebDevelopment/blob/20-testing-graphql-api/build.gradle#L14","title":"&#39;setter for mainClassName: String&#39; is deprecated. Deprecated in Java","body":"<p>Setting <code>mainClassName</code> on the top level should work too:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>mainClassName = &quot;io.vertx.core.Launcher&quot;\n</code></pre>\n<p><a href=\"https://github.com/AlexeySoshin/KotlinWebDevelopment/blob/20-testing-graphql-api/build.gradle#L14\" rel=\"nofollow noreferrer\">https://github.com/AlexeySoshin/KotlinWebDevelopment/blob/20-testing-graphql-api/build.gradle#L14</a></p>\n"},{"tags":[],"owner":{"account_id":5177311,"reputation":884,"user_id":4143975,"display_name":"Diluka W"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1623306244,"creation_date":1623306244,"answer_id":67915809,"question_id":64749528,"body_markdown":"for spring boot project\r\n```kotlin\r\nspringBoot {\r\n  mainClass.set(&quot;your.full.classname&quot;)\r\n}\r\n```","title":"&#39;setter for mainClassName: String&#39; is deprecated. Deprecated in Java","body":"<p>for spring boot project</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>springBoot {\n  mainClass.set(&quot;your.full.classname&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2334140,"reputation":2428,"user_id":2046862,"display_name":"Pinkesh Sharma"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633104005,"creation_date":1633104005,"answer_id":69408821,"question_id":64749528,"body_markdown":"Any of the below 3 should work:\r\n    \r\n    springBoot {\r\n        mainClass.set(&#39;package.class&#39;)\r\n    }\r\n    \r\n    bootJar {\r\n        mainClass.set(&#39;package.class&#39;)\r\n    }\r\n    \r\n    application {\r\n        mainClass.set(&#39;package.class&#39;)\r\n    }","title":"&#39;setter for mainClassName: String&#39; is deprecated. Deprecated in Java","body":"<p>Any of the below 3 should work:</p>\n<pre><code>springBoot {\n    mainClass.set('package.class')\n}\n\nbootJar {\n    mainClass.set('package.class')\n}\n\napplication {\n    mainClass.set('package.class')\n}\n</code></pre>\n"}],"owner":{"account_id":1936496,"reputation":32803,"user_id":1743843,"accept_rate":77,"display_name":"softshipper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12749,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":64749939,"answer_count":4,"score":43,"last_activity_date":1633104005,"creation_date":1604916420,"question_id":64749528,"body_markdown":"I have a vert.x web app written in Kotlin and Gradle as the build tool. The web app has been generated with https://start.vertx.io/.\r\n\r\nIn the `build.gradle.kts` it shows:  \r\n\r\n[![enter image description here][1]][1]\r\n\r\nthat `mainClassName` has been deprecated. \r\n\r\nthe content of the `build.gradle.kts` file:\r\n```\r\nimport com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\r\nimport org.gradle.api.tasks.testing.logging.TestLogEvent.*\r\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n\r\nplugins {\r\n  kotlin (&quot;jvm&quot;) version &quot;1.4.10&quot;\r\n  application\r\n  id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;5.2.0&quot;\r\n  id(&quot;org.flywaydb.flyway&quot;) version &quot;7.1.1&quot;\r\n}\r\n\r\ngroup = &quot;io.databaker&quot;\r\nversion = &quot;1.0.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n  mavenCentral()\r\n  jcenter()\r\n}\r\n\r\nval kotlinVersion = &quot;1.4.10&quot;\r\nval vertxVersion = &quot;4.0.0.CR1&quot;\r\nval junitJupiterVersion = &quot;5.6.0&quot;\r\n\r\nval mainVerticleName = &quot;io.databaker.MainVerticle&quot;\r\nval watchForChange = &quot;src/**/*&quot;\r\nval doOnChange = &quot;./gradlew classes&quot;\r\nval launcherClassName = &quot;io.vertx.core.Launcher&quot;\r\n\r\napplication {\r\n  mainClassName = launcherClassName\r\n}\r\n\r\ndependencies {\r\n  implementation(&quot;io.vertx:vertx-auth-jwt:$vertxVersion&quot;)\r\n  implementation(&quot;io.vertx:vertx-web:$vertxVersion&quot;)\r\n  implementation(&quot;io.vertx:vertx-pg-client:$vertxVersion&quot;)\r\n  implementation(&quot;io.vertx:vertx-lang-kotlin-coroutines:$vertxVersion&quot;)\r\n  implementation(&quot;io.vertx:vertx-json-schema:$vertxVersion&quot;)\r\n  implementation(&quot;io.vertx:vertx-lang-kotlin:$vertxVersion&quot;)\r\n  implementation(kotlin(&quot;stdlib-jdk8&quot;))\r\n  testImplementation(&quot;io.vertx:vertx-junit5:$vertxVersion&quot;)\r\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter:$junitJupiterVersion&quot;)\r\n}\r\n\r\n  val compileKotlin: KotlinCompile by tasks\r\n  compileKotlin.kotlinOptions.jvmTarget = &quot;11&quot;\r\n\r\ntasks.withType&lt;ShadowJar&gt; {\r\n  archiveClassifier.set(&quot;fat&quot;)\r\n  manifest {\r\n    attributes(mapOf(&quot;Main-Verticle&quot; to mainVerticleName))\r\n  }\r\n  mergeServiceFiles {\r\n    include(&quot;META-INF/services/io.vertx.core.spi.VerticleFactory&quot;)\r\n  }\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n  useJUnitPlatform()\r\n  testLogging {\r\n    events = setOf(PASSED, SKIPPED, FAILED)\r\n  }\r\n}\r\n\r\ntasks.withType&lt;JavaExec&gt; {\r\n  args = listOf(&quot;run&quot;, mainVerticleName, &quot;--redeploy=$watchForChange&quot;, &quot;--launcher-class=$launcherClassName&quot;, &quot;--on-redeploy=$doOnChange&quot;)\r\n}\r\n```\r\nThrough what should I replace the `mainClassName`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oEoEs.png","title":"&#39;setter for mainClassName: String&#39; is deprecated. Deprecated in Java","body":"<p>I have a vert.x web app written in Kotlin and Gradle as the build tool. The web app has been generated with <a href=\"https://start.vertx.io/\" rel=\"noreferrer\">https://start.vertx.io/</a>.</p>\n<p>In the <code>build.gradle.kts</code> it shows:</p>\n<p><a href=\"https://i.stack.imgur.com/oEoEs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oEoEs.png\" alt=\"enter image description here\" /></a></p>\n<p>that <code>mainClassName</code> has been deprecated.</p>\n<p>the content of the <code>build.gradle.kts</code> file:</p>\n<pre><code>import com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\nimport org.gradle.api.tasks.testing.logging.TestLogEvent.*\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n  kotlin (&quot;jvm&quot;) version &quot;1.4.10&quot;\n  application\n  id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;5.2.0&quot;\n  id(&quot;org.flywaydb.flyway&quot;) version &quot;7.1.1&quot;\n}\n\ngroup = &quot;io.databaker&quot;\nversion = &quot;1.0.0-SNAPSHOT&quot;\n\nrepositories {\n  mavenCentral()\n  jcenter()\n}\n\nval kotlinVersion = &quot;1.4.10&quot;\nval vertxVersion = &quot;4.0.0.CR1&quot;\nval junitJupiterVersion = &quot;5.6.0&quot;\n\nval mainVerticleName = &quot;io.databaker.MainVerticle&quot;\nval watchForChange = &quot;src/**/*&quot;\nval doOnChange = &quot;./gradlew classes&quot;\nval launcherClassName = &quot;io.vertx.core.Launcher&quot;\n\napplication {\n  mainClassName = launcherClassName\n}\n\ndependencies {\n  implementation(&quot;io.vertx:vertx-auth-jwt:$vertxVersion&quot;)\n  implementation(&quot;io.vertx:vertx-web:$vertxVersion&quot;)\n  implementation(&quot;io.vertx:vertx-pg-client:$vertxVersion&quot;)\n  implementation(&quot;io.vertx:vertx-lang-kotlin-coroutines:$vertxVersion&quot;)\n  implementation(&quot;io.vertx:vertx-json-schema:$vertxVersion&quot;)\n  implementation(&quot;io.vertx:vertx-lang-kotlin:$vertxVersion&quot;)\n  implementation(kotlin(&quot;stdlib-jdk8&quot;))\n  testImplementation(&quot;io.vertx:vertx-junit5:$vertxVersion&quot;)\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter:$junitJupiterVersion&quot;)\n}\n\n  val compileKotlin: KotlinCompile by tasks\n  compileKotlin.kotlinOptions.jvmTarget = &quot;11&quot;\n\ntasks.withType&lt;ShadowJar&gt; {\n  archiveClassifier.set(&quot;fat&quot;)\n  manifest {\n    attributes(mapOf(&quot;Main-Verticle&quot; to mainVerticleName))\n  }\n  mergeServiceFiles {\n    include(&quot;META-INF/services/io.vertx.core.spi.VerticleFactory&quot;)\n  }\n}\n\ntasks.withType&lt;Test&gt; {\n  useJUnitPlatform()\n  testLogging {\n    events = setOf(PASSED, SKIPPED, FAILED)\n  }\n}\n\ntasks.withType&lt;JavaExec&gt; {\n  args = listOf(&quot;run&quot;, mainVerticleName, &quot;--redeploy=$watchForChange&quot;, &quot;--launcher-class=$launcherClassName&quot;, &quot;--on-redeploy=$doOnChange&quot;)\n}\n</code></pre>\n<p>Through what should I replace the <code>mainClassName</code>?</p>\n"},{"tags":["java","amazon-web-services","aws-sdk","amazon-cloudfront","amazon-efs"],"comments":[{"owner":{"account_id":1962286,"reputation":207,"user_id":1763470,"accept_rate":69,"display_name":"user1763470"},"score":0,"creation_date":1484672372,"post_id":40734324,"comment_id":70601530,"body_markdown":"This is the same problem I am facing. Did you manage to find a good solution to your query Sheikh?","body":"This is the same problem I am facing. Did you manage to find a good solution to your query Sheikh?"},{"owner":{"account_id":4686271,"reputation":146,"user_id":3793604,"accept_rate":29,"display_name":"Sheikh Ozair Bilal"},"score":0,"creation_date":1484717808,"post_id":40734324,"comment_id":70619266,"body_markdown":"I initiated multiple mysql instances in different region under same VPC, and the sensitive data is moved to regional databases, for EFS i am using JSON Blobs in mysql as my database have no major hits at the moment","body":"I initiated multiple mysql instances in different region under same VPC, and the sensitive data is moved to regional databases, for EFS i am using JSON Blobs in mysql as my database have no major hits at the moment"}],"answers":[{"tags":[],"owner":{"account_id":544608,"reputation":662,"user_id":914107,"accept_rate":15,"display_name":"Mohan Shanmugam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479797011,"creation_date":1479797011,"answer_id":40735390,"question_id":40734324,"body_markdown":"We are working on the Same type of application requirement.\r\n\r\nso you can keep your application stacks separate for each region. you can get region value in each application deployed in cloud.\r\n\r\nBased on region value locate the S3 bucket and database. Before going for EFS be sure on EFS implementation.\r\n\r\nLet me know if you have any specific requirement of AWS Resources in your Application Development.\r\n","title":"Data and Database Storage in Different Regions of AWS","body":"<p>We are working on the Same type of application requirement.</p>\n\n<p>so you can keep your application stacks separate for each region. you can get region value in each application deployed in cloud.</p>\n\n<p>Based on region value locate the S3 bucket and database. Before going for EFS be sure on EFS implementation.</p>\n\n<p>Let me know if you have any specific requirement of AWS Resources in your Application Development.</p>\n"},{"tags":[],"owner":{"account_id":5873413,"reputation":81,"user_id":4625055,"display_name":"Ben Walters"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1479841359,"creation_date":1479841359,"answer_id":40749712,"question_id":40734324,"body_markdown":"You will want to host separate instances of your application stack in each region, including data stores and services that access them. There are two main reasons: \r\n\r\n - To provide good performance for your customers, your services need low-latency access to the data stores. While you could access an S3 bucket or DynamoDB table from another region than the one it is hosted in, you will experience higher latencies when doing so\r\n - To really deliver the data sovreignity your customers are asking for, you should keep the data from ever leaving the region where they want the data stored\r\n\r\nOne approach to explore would be modeling your entire service as a CloudFormation template, with parameters to control the differences between regions. That makes it much easier to deploy the same infrastructure to multiple regions.","title":"Data and Database Storage in Different Regions of AWS","body":"<p>You will want to host separate instances of your application stack in each region, including data stores and services that access them. There are two main reasons: </p>\n\n<ul>\n<li>To provide good performance for your customers, your services need low-latency access to the data stores. While you could access an S3 bucket or DynamoDB table from another region than the one it is hosted in, you will experience higher latencies when doing so</li>\n<li>To really deliver the data sovreignity your customers are asking for, you should keep the data from ever leaving the region where they want the data stored</li>\n</ul>\n\n<p>One approach to explore would be modeling your entire service as a CloudFormation template, with parameters to control the differences between regions. That makes it much easier to deploy the same infrastructure to multiple regions.</p>\n"}],"owner":{"account_id":4686271,"reputation":146,"user_id":3793604,"accept_rate":29,"display_name":"Sheikh Ozair Bilal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":744,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1633103936,"creation_date":1479792174,"question_id":40734324,"body_markdown":"I am working on a medical product that is accessible in different regions of the word and collect the data from the patients, as per distribution law i cant take the patients data, history or record to another country. The basic requirement is that US sites should have all related data stored in US data centers (such as the current US east data center) and EU based sites should have all data in EU based data centers (such as AWS Ireland or Frankfurt).\r\n\r\nHow this is most efficiently done should be analysed - run two completely different stacks? Or should there just be a database and EFS system in place in these different locations?","title":"Data and Database Storage in Different Regions of AWS","body":"<p>I am working on a medical product that is accessible in different regions of the word and collect the data from the patients, as per distribution law i cant take the patients data, history or record to another country. The basic requirement is that US sites should have all related data stored in US data centers (such as the current US east data center) and EU based sites should have all data in EU based data centers (such as AWS Ireland or Frankfurt).</p>\n<p>How this is most efficiently done should be analysed - run two completely different stacks? Or should there just be a database and EFS system in place in these different locations?</p>\n"},{"tags":["java","whatsapp","preview-feature"],"comments":[{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":0,"creation_date":1633061390,"post_id":69400008,"comment_id":122664867,"body_markdown":"Several preview features are in JDK 17 not preview anymore. Try to use 17...","body":"Several preview features are in JDK 17 not preview anymore. Try to use 17..."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1633086531,"post_id":69400008,"comment_id":122672534,"body_markdown":"@30thh That won&#39;t work, the problem is the library the OP is using, which was compiled for Java 16 with preview features enabled. This means it can only be used on Java 16 with preview features enabled, and not on any other Java version.","body":"@30thh That won&#39;t work, the problem is the library the OP is using, which was compiled for Java 16 with preview features enabled. This means it can only be used on Java 16 with preview features enabled, and not on any other Java version."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1633086693,"post_id":69400008,"comment_id":122672586,"body_markdown":"If you&#39;re still running Java 16, you probably need to enable preview features in your Gradle build file. For example, see [How to enable Java 12 preview features with Gradle?](https://stackoverflow.com/questions/55433883/how-to-enable-java-12-preview-features-with-gradle)","body":"If you&#39;re still running Java 16, you probably need to enable preview features in your Gradle build file. For example, see <a href=\"https://stackoverflow.com/questions/55433883/how-to-enable-java-12-preview-features-with-gradle\">How to enable Java 12 preview features with Gradle?</a>"},{"owner":{"account_id":19355615,"reputation":57,"user_id":14152013,"display_name":"Dude2345"},"score":0,"creation_date":1633103148,"post_id":69400008,"comment_id":122679532,"body_markdown":"Yep that worked thanks!","body":"Yep that worked thanks!"}],"answers":[{"tags":[],"owner":{"account_id":19355615,"reputation":57,"user_id":14152013,"display_name":"Dude2345"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633103384,"creation_date":1633103384,"answer_id":69408697,"question_id":69400008,"body_markdown":" As @Mark Rotteveel pointed out enabling preview features in the Gradle build file worked.\r\n\r\n[ How to enable Java 12 preview features with Gradle?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55433883/how-to-enable-java-12-preview-features-with-gradle\r\n\r\nadding this works.\r\n\r\n    tasks.withType(JavaCompile) {\r\n        options.compilerArgs += &quot;--enable-preview&quot;\r\n    }\r\n    \r\n    tasks.withType(Test) {\r\n        jvmArgs += &quot;--enable-preview&quot;\r\n    }\r\n    \r\n    tasks.withType(JavaExec) {\r\n        jvmArgs += &#39;--enable-preview&#39;\r\n    }\r\n\r\n","title":"WhatsApp4j - Api | Does not compile because class uses preview features","body":"<p>As @Mark Rotteveel pointed out enabling preview features in the Gradle build file worked.</p>\n<p><a href=\"https://stackoverflow.com/questions/55433883/how-to-enable-java-12-preview-features-with-gradle\"> How to enable Java 12 preview features with Gradle?</a></p>\n<p>adding this works.</p>\n<pre><code>tasks.withType(JavaCompile) {\n    options.compilerArgs += &quot;--enable-preview&quot;\n}\n\ntasks.withType(Test) {\n    jvmArgs += &quot;--enable-preview&quot;\n}\n\ntasks.withType(JavaExec) {\n    jvmArgs += '--enable-preview'\n}\n</code></pre>\n"}],"owner":{"account_id":19355615,"reputation":57,"user_id":14152013,"display_name":"Dude2345"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69408697,"answer_count":1,"score":0,"last_activity_date":1633103384,"creation_date":1633047393,"question_id":69400008,"body_markdown":"I wanted to try out the (https://github.com/Auties00/WhatsappWeb4j) Whatsapp4j library,\r\nmy gradle:\r\n\r\n            plugins {\r\n            id &#39;java&#39;\r\n        }\r\n        \r\n        group &#39;de.test&#39;\r\n        version &#39;1.0-SNAPSHOT&#39;\r\n        \r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.github.auties00:whatsappweb4j:2.2.1&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nI only added it to my gradle file, and when I run my Main.java (which only implements an class of this library)\r\n\r\n  \r\n\r\n      import it.auties.whatsapp4j.whatsapp.WhatsappAPI;\r\n        \r\n        public class Main {\r\n        \r\n            public static void main(String[] args) {\r\n            }\r\n        }\r\n\r\nI receive this error:\r\n\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;     error: classfile for\r\n&gt;     C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\com.github.auties00\\whatsappweb4j\\2.2.1b3c7842cc489e3ae0cc6147c84b11ff6334671e\\whatsappweb4j-2.2.1.jar(/it/auties/whatsapp4j/whatsapp/WhatsappAPI.class)\r\n&gt;     uses preview features of Java SE 16.\r\n\r\nI tried to fix it setting my language level to preview (I don&#39;t rly know what preview features are) : \r\n[![https://prnt.sc/1uaay97][1]][1]\r\nbut sadly that didn&#39;t work. The error remained.\r\nI hope someone knows how to fix it.\r\n\r\n-I use IntelliJ IDEA\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GLeNZ.png\r\n\r\n\r\n\r\n","title":"WhatsApp4j - Api | Does not compile because class uses preview features","body":"<p>I wanted to try out the (<a href=\"https://github.com/Auties00/WhatsappWeb4j\" rel=\"nofollow noreferrer\">https://github.com/Auties00/WhatsappWeb4j</a>) Whatsapp4j library,\nmy gradle:</p>\n<pre><code>        plugins {\n        id 'java'\n    }\n    \n    group 'de.test'\n    version '1.0-SNAPSHOT'\n    \n    repositories {\n        mavenCentral()\n    }\n\ndependencies {\n    implementation 'com.github.auties00:whatsappweb4j:2.2.1'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I only added it to my gradle file, and when I run my Main.java (which only implements an class of this library)</p>\n<pre><code>  import it.auties.whatsapp4j.whatsapp.WhatsappAPI;\n    \n    public class Main {\n    \n        public static void main(String[] args) {\n        }\n    }\n</code></pre>\n<p>I receive this error:</p>\n<blockquote>\n<pre><code>error: classfile for\nC:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\com.github.auties00\\whatsappweb4j\\2.2.1b3c7842cc489e3ae0cc6147c84b11ff6334671e\\whatsappweb4j-2.2.1.jar(/it/auties/whatsapp4j/whatsapp/WhatsappAPI.class)\nuses preview features of Java SE 16.\n</code></pre>\n</blockquote>\n<p>I tried to fix it setting my language level to preview (I don't rly know what preview features are) :\n<a href=\"https://i.stack.imgur.com/GLeNZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GLeNZ.png\" alt=\"https://prnt.sc/1uaay97\" /></a>\nbut sadly that didn't work. The error remained.\nI hope someone knows how to fix it.</p>\n<p>-I use IntelliJ IDEA</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8012,"page":1980,"page_size":100}
