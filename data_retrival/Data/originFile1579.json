{"items":[{"tags":["java","duration"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":6,"creation_date":1645226248,"post_id":71180873,"comment_id":125823550,"body_markdown":"https://en.wikipedia.org/wiki/ISO_8601#Durations","body":"<a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ISO_8601#Durations</a>"}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645226536,"creation_date":1645226536,"answer_id":71180937,"question_id":71180873,"body_markdown":"&gt; Does that mean that the duration represents 2 minutes and 1.06 seconds?\r\n\r\nYes.\r\n\r\nThis format is defined in **ISO 8601**. Read more about it on [Wikipedia](https://en.wikipedia.org/wiki/ISO_8601#Durations). From there:\r\n\r\n&gt; * `P` is the duration designator (for period) placed at the start of the duration representation.\r\n&gt;   * `Y` the number of years.\r\n&gt;   * `M` the number of months.\r\n&gt;   * `W` the number of weeks.\r\n&gt;   * `D` the number of days.\r\n&gt; * `T` is the time designator that precedes the time components of the representation.\r\n&gt;   * `H` the number of hours.\r\n&gt;   * `M` the number of minutes.\r\n&gt;   * `S` the number of seconds.","title":"Duration - what does PT2M1.06234S mean?","body":"<blockquote>\n<p>Does that mean that the duration represents 2 minutes and 1.06 seconds?</p>\n</blockquote>\n<p>Yes.</p>\n<p>This format is defined in <strong>ISO 8601</strong>. Read more about it on <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">Wikipedia</a>. From there:</p>\n<blockquote>\n<ul>\n<li><code>P</code> is the duration designator (for period) placed at the start of the duration representation.\n<ul>\n<li><code>Y</code> the number of years.</li>\n<li><code>M</code> the number of months.</li>\n<li><code>W</code> the number of weeks.</li>\n<li><code>D</code> the number of days.</li>\n</ul>\n</li>\n<li><code>T</code> is the time designator that precedes the time components of the representation.\n<ul>\n<li><code>H</code> the number of hours.</li>\n<li><code>M</code> the number of minutes.</li>\n<li><code>S</code> the number of seconds.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":18781725,"reputation":179,"user_id":13696220,"display_name":"Shalin Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1645227640,"accepted_answer_id":71180937,"answer_count":1,"score":0,"last_activity_date":1645226536,"creation_date":1645225985,"question_id":71180873,"body_markdown":"I am using `Duration` and it prints me\r\n\r\n&gt; PT2M1.06234S\r\n\r\nDoes that mean that the duration represents **2 minutes and 1.06 seconds**?","title":"Duration - what does PT2M1.06234S mean?","body":"<p>I am using <code>Duration</code> and it prints me</p>\n<blockquote>\n<p>PT2M1.06234S</p>\n</blockquote>\n<p>Does that mean that the duration represents <strong>2 minutes and 1.06 seconds</strong>?</p>\n"},{"tags":["java","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":17886624,"reputation":61,"user_id":12994157,"display_name":"Margarita Bobova"},"score":0,"creation_date":1628178795,"post_id":67136613,"comment_id":121357460,"body_markdown":"Hello, does the problem still reproduced? May be helpful: https://youtrack.jetbrains.com/issue/KT-22102","body":"Hello, does the problem still reproduced? May be helpful: <a href=\"https://youtrack.jetbrains.com/issue/KT-22102\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-22102</a>"}],"answers":[{"tags":[],"owner":{"account_id":1423499,"reputation":1046,"user_id":1347608,"display_name":"F. P. Freely"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645225977,"creation_date":1645225977,"answer_id":71180872,"question_id":67136613,"body_markdown":"Check the JVM settings in the project.  I had a similar problem until I set the target to 16, e.g.\r\n\r\n```\r\ntasks.withType&lt;KotlinCompile&gt; {\r\n    kotlinOptions.jvmTarget = &quot;16&quot;\r\n}\r\n```\r\n","title":"Kotlin - Error: Could not find or load main class in IntelliJ IDE","body":"<p>Check the JVM settings in the project.  I had a similar problem until I set the target to 16, e.g.</p>\n<pre><code>tasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = &quot;16&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":21294275,"reputation":1,"user_id":15671037,"display_name":"Aniruddha Ravi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645225977,"creation_date":1618651607,"question_id":67136613,"body_markdown":"For this code\r\n```\r\npackage com.virtualpairprogrammers.learningkotlin.kotlin\r\nfun main(args: Array&lt;String&gt;) {\r\n    println(&quot;Hello World&quot;)\r\n}\r\n```\r\nI get the error:\r\n\r\n```\r\n/Library/Java/JavaVirtualMachines/jdk-16.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=54353:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/aniruddharavi/Downloads/PracticalsAndCode/End of chapter workspaces/chapter 2/LearningKotlin/lib/kotlin-stdlib.jar:/Users/aniruddharavi/Downloads/PracticalsAndCode/End of chapter workspaces/chapter 2/LearningKotlin/lib/kotlin-reflect.jar:/Users/aniruddharavi/Downloads/PracticalsAndCode/End of chapter workspaces/chapter 2/LearningKotlin/lib/kotlin-test.jar:/Users/aniruddharavi/Downloads/PracticalsAndCode/End of chapter workspaces/chapter 2/LearningKotlin/lib/kotlin-stdlib-jdk7.jar:/Users/aniruddharavi/Downloads/PracticalsAndCode/End of chapter workspaces/chapter 2/LearningKotlin/lib/kotlin-stdlib-jdk8.jar com.virtualpairprogrammers.learningkotlin.kotlin.ExploringVariablesKt\r\nError: Could not find or load main class com.virtualpairprogrammers.learningkotlin.kotlin.ExploringVariablesKt\r\nCaused by: java.lang.ClassNotFoundException: com.virtualpairprogrammers.learningkotlin.kotlin.ExploringVariablesKt\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\non IntelliJ IDE.\r\n\r\nI&#39;m running a new Java project with Kotlin/JVM setting.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7hvE6.png","title":"Kotlin - Error: Could not find or load main class in IntelliJ IDE","body":"<p>For this code</p>\n<pre><code>package com.virtualpairprogrammers.learningkotlin.kotlin\nfun main(args: Array&lt;String&gt;) {\n    println(&quot;Hello World&quot;)\n}\n</code></pre>\n<p>I get the error:</p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-16.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=54353:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/aniruddharavi/Downloads/PracticalsAndCode/End of chapter workspaces/chapter 2/LearningKotlin/lib/kotlin-stdlib.jar:/Users/aniruddharavi/Downloads/PracticalsAndCode/End of chapter workspaces/chapter 2/LearningKotlin/lib/kotlin-reflect.jar:/Users/aniruddharavi/Downloads/PracticalsAndCode/End of chapter workspaces/chapter 2/LearningKotlin/lib/kotlin-test.jar:/Users/aniruddharavi/Downloads/PracticalsAndCode/End of chapter workspaces/chapter 2/LearningKotlin/lib/kotlin-stdlib-jdk7.jar:/Users/aniruddharavi/Downloads/PracticalsAndCode/End of chapter workspaces/chapter 2/LearningKotlin/lib/kotlin-stdlib-jdk8.jar com.virtualpairprogrammers.learningkotlin.kotlin.ExploringVariablesKt\nError: Could not find or load main class com.virtualpairprogrammers.learningkotlin.kotlin.ExploringVariablesKt\nCaused by: java.lang.ClassNotFoundException: com.virtualpairprogrammers.learningkotlin.kotlin.ExploringVariablesKt\n\nProcess finished with exit code 1\n</code></pre>\n<p>on IntelliJ IDE.</p>\n<p>I'm running a new Java project with Kotlin/JVM setting.</p>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"display_name":"lutz"},"score":1,"creation_date":1251356730,"post_id":1334529,"comment_id":1174003,"body_markdown":"I didn&#39;t solve the underlying problem but restarting the Tomcat at least made them disapear :) It looks like the MySQL server was upgraded and Hibernate somehow lost track. Please vote to close.","body":"I didn&#39;t solve the underlying problem but restarting the Tomcat at least made them disapear :) It looks like the MySQL server was upgraded and Hibernate somehow lost track. Please vote to close."}],"answers":[{"tags":[],"owner":{"account_id":54165,"reputation":4296,"user_id":162040,"accept_rate":75,"display_name":"Loren C Fortner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1251292738,"creation_date":1251292738,"answer_id":1334630,"question_id":1334529,"body_markdown":"In this post:\r\n\r\nhttp://forums.mysql.com/read.php?39,96721,96721#msg-96721\r\n\r\nThey had the same type of errors and fixed it buy upgrading their MySQL connector to the latest one, but that was back in 2007.  I hope that helps.","title":"What could cause &quot;PROCEDURE schema.identity does not exist&quot; using MySQL and Hibernate?","body":"<p>In this post:</p>\n\n<p><a href=\"http://forums.mysql.com/read.php?39,96721,96721#msg-96721\" rel=\"nofollow noreferrer\">http://forums.mysql.com/read.php?39,96721,96721#msg-96721</a></p>\n\n<p>They had the same type of errors and fixed it buy upgrading their MySQL connector to the latest one, but that was back in 2007.  I hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":2576017,"reputation":1,"user_id":2233684,"display_name":"Bin Fan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364851292,"creation_date":1364851292,"answer_id":15752111,"question_id":1334529,"body_markdown":"Came across the same exception today and found this post helped. \r\nThe problem I had is that I started tomcat first but failed to start the mysql. After I started mysql, the app worked for most of the part but failed to insert a record with above exception. Restarted tomcat resolved this problem. ","title":"What could cause &quot;PROCEDURE schema.identity does not exist&quot; using MySQL and Hibernate?","body":"<p>Came across the same exception today and found this post helped. \nThe problem I had is that I started tomcat first but failed to start the mysql. After I started mysql, the app worked for most of the part but failed to insert a record with above exception. Restarted tomcat resolved this problem. </p>\n"},{"tags":[],"owner":{"account_id":2542879,"reputation":168,"user_id":2208310,"display_name":"Mau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433773539,"creation_date":1433773539,"answer_id":30711809,"question_id":1334529,"body_markdown":"It happened to me too with spring hibernate and MySQL...\r\nI think the error appear not alway but sometime if the tomcat server,\r\nso i fixed the problem only restarting the tomcat server with MySQL on.","title":"What could cause &quot;PROCEDURE schema.identity does not exist&quot; using MySQL and Hibernate?","body":"<p>It happened to me too with spring hibernate and MySQL...\nI think the error appear not alway but sometime if the tomcat server,\nso i fixed the problem only restarting the tomcat server with MySQL on.</p>\n"},{"tags":[],"owner":{"account_id":12381688,"reputation":51,"user_id":9027032,"display_name":"openGLisLife"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584477925,"creation_date":1584476255,"answer_id":60729631,"question_id":1334529,"body_markdown":"Identity() is a h2 specific database function that some framework code tries to trigger via sql.  \r\nMySql does not know it, so it throws the BadSyntax Exception.  \r\n  \r\nIf you happen to use Spring Security with acl support, like me, then  \r\nJdbcMutableAclService is the problem.  \r\nThe java-docs state:  \r\n\r\n&gt; &quot;The default settings are for HSQLDB. If you are using a different\r\n&gt; database you  will probably need to set the sidIdentityQuery(String)\r\n&gt; and  classIdentityQuery(String) classIdentityQuery properties\r\n&gt; appropriately&quot;.\r\n\r\n  \r\n  \r\nThose   values default to &quot;call identity()&quot;, which is unknown by MySql.  \r\nThe new right values are stated by  \r\n[this answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56275135/9027032 ","title":"What could cause &quot;PROCEDURE schema.identity does not exist&quot; using MySQL and Hibernate?","body":"<p>Identity() is a h2 specific database function that some framework code tries to trigger via sql.<br>\nMySql does not know it, so it throws the BadSyntax Exception.  </p>\n\n<p>If you happen to use Spring Security with acl support, like me, then<br>\nJdbcMutableAclService is the problem.<br>\nThe java-docs state:  </p>\n\n<blockquote>\n  <p>\"The default settings are for HSQLDB. If you are using a different\n  database you  will probably need to set the sidIdentityQuery(String)\n  and  classIdentityQuery(String) classIdentityQuery properties\n  appropriately\".</p>\n</blockquote>\n\n<p>Those   values default to \"call identity()\", which is unknown by MySql.<br>\nThe new right values are stated by<br>\n<a href=\"https://stackoverflow.com/a/56275135/9027032\">this answer</a></p>\n"},{"tags":[],"owner":{"account_id":5506669,"reputation":1,"user_id":5315093,"display_name":"David Oluwagbemi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645225949,"creation_date":1645225949,"answer_id":71180869,"question_id":1334529,"body_markdown":"For anyone still struggling with this issue. Ensure you have configured the right hibernate dialect for your sql version.\r\nI changed:\r\n```\r\n   &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\r\n```\r\nto\r\n```\r\n   &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n```\r\nAnd it worked for me.\r\nMy Sql version is 5.7 and that was the right dialect\r\n\r\nhttps://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/dialect/MySQL5Dialect.html\r\n\r\n","title":"What could cause &quot;PROCEDURE schema.identity does not exist&quot; using MySQL and Hibernate?","body":"<p>For anyone still struggling with this issue. Ensure you have configured the right hibernate dialect for your sql version.\nI changed:</p>\n<pre><code>   &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\n</code></pre>\n<p>to</p>\n<pre><code>   &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\n</code></pre>\n<p>And it worked for me.\nMy Sql version is 5.7 and that was the right dialect</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/dialect/MySQL5Dialect.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/dialect/MySQL5Dialect.html</a></p>\n"}],"owner":{"display_name":"lutz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2376,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1645225949,"creation_date":1251291838,"question_id":1334529,"body_markdown":"Using Java, Hibernate, and MySQL I persist instances of a class like this using the Hibernate support from Spring.\r\n\r\n    @Entity\r\n    public class MyEntity implements Serializable {\r\n\r\n      private Long id;\r\n\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      public Long getId() {\r\n        return id;\r\n      }\r\n\r\n      public void setId(Long id) {\r\n        this.id = id;\r\n      }\r\n    }\r\n\r\nThis generally works fine. But now and then when trying to persist such an entity, I get this:\r\n\r\n    java.sql.SQLException: PROCEDURE schema.identity does not exist\r\n\r\nThe underlying MySQL error is:\r\n\r\n    SQL Error: 1305, SQLState: 42000\r\n\r\nThis is a regular MySQL error described in the [MySQL manual][1].\r\n\r\nMy problem is that this system worked for months without any problem. Only recently I discovered the error described above. Do you have any ideas what could have caused this problem? What does Hibernate look for and doesn&#39;t find?\r\n\r\nIf this question should be on serverfault, feel free to migrate it :)\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.0/en/error-messages-server.html#error_er_sp_does_not_exist","title":"What could cause &quot;PROCEDURE schema.identity does not exist&quot; using MySQL and Hibernate?","body":"<p>Using Java, Hibernate, and MySQL I persist instances of a class like this using the Hibernate support from Spring.</p>\n\n<pre><code>@Entity\npublic class MyEntity implements Serializable {\n\n  private Long id;\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  public Long getId() {\n    return id;\n  }\n\n  public void setId(Long id) {\n    this.id = id;\n  }\n}\n</code></pre>\n\n<p>This generally works fine. But now and then when trying to persist such an entity, I get this:</p>\n\n<pre><code>java.sql.SQLException: PROCEDURE schema.identity does not exist\n</code></pre>\n\n<p>The underlying MySQL error is:</p>\n\n<pre><code>SQL Error: 1305, SQLState: 42000\n</code></pre>\n\n<p>This is a regular MySQL error described in the <a href=\"http://dev.mysql.com/doc/refman/5.0/en/error-messages-server.html#error_er_sp_does_not_exist\" rel=\"nofollow noreferrer\">MySQL manual</a>.</p>\n\n<p>My problem is that this system worked for months without any problem. Only recently I discovered the error described above. Do you have any ideas what could have caused this problem? What does Hibernate look for and doesn't find?</p>\n\n<p>If this question should be on serverfault, feel free to migrate it :)</p>\n"},{"tags":["java","oracle","export-to-csv","resultset"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1545376958,"post_id":53880659,"comment_id":94608121,"body_markdown":"not sure how much this will help but pre-define size in list `new ArrayList(1000);`","body":"not sure how much this will help but pre-define size in list <code>new ArrayList(1000);</code>"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1545377054,"post_id":53880659,"comment_id":94608145,"body_markdown":"or add lines to StringBuilder and at the end of result add &quot;\\n&quot;, in one go write this to file, it would be better if you had posted code along with question, to help SO members to try.","body":"or add lines to StringBuilder and at the end of result add &quot;\\n&quot;, in one go write this to file, it would be better if you had posted code along with question, to help SO members to try."},{"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"score":1,"creation_date":1545377303,"post_id":53880659,"comment_id":94608235,"body_markdown":"I believe you are using JDBC. Please add your current code.","body":"I believe you are using JDBC. Please add your current code."}],"answers":[{"tags":[],"owner":{"account_id":13225871,"reputation":131,"user_id":9550972,"display_name":"Subhajit Rajak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645225161,"creation_date":1545377445,"answer_id":53880805,"question_id":53880659,"body_markdown":"Open Toad and connect to the database.\r\nThen click on the menu Database &gt; Editor, to open the SQL editor window.\r\nIn SQL editor window, type your SQL query and press Ctrl+Enter to execute and get the results in a grid. Below is an example of an SQL query.\r\n\r\n   \r\n\r\n     SELECT cust_first_name,\r\n               cust_last_name,\r\n               cust_city,\r\n               cust_state_province,\r\n               cust_main_phone_number\r\n          FROM sh.customers\r\n         WHERE country_id = &#39;52775&#39; AND cust_valid = &#39;A&#39;;\r\n\r\nThen right-click on the Grid in Toad and from the shortcut menu select Export Dataset option.\r\nIn the Export Data window, select the options as shown in below image to export the data into CSV file from Toad. Select the option Delimited Text from the Export Format drop-down. Specify the file location and name in File field. Specify the delimiter and click OK to export.\r\n\r\n[![Export CSV from toad][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GkGyn.jpg","title":"Export rows from database to csv file","body":"<p>Open Toad and connect to the database.\nThen click on the menu Database &gt; Editor, to open the SQL editor window.\nIn SQL editor window, type your SQL query and press Ctrl+Enter to execute and get the results in a grid. Below is an example of an SQL query.</p>\n<pre><code> SELECT cust_first_name,\n           cust_last_name,\n           cust_city,\n           cust_state_province,\n           cust_main_phone_number\n      FROM sh.customers\n     WHERE country_id = '52775' AND cust_valid = 'A';\n</code></pre>\n<p>Then right-click on the Grid in Toad and from the shortcut menu select Export Dataset option.\nIn the Export Data window, select the options as shown in below image to export the data into CSV file from Toad. Select the option Delimited Text from the Export Format drop-down. Specify the file location and name in File field. Specify the delimiter and click OK to export.</p>\n<p><a href=\"https://i.stack.imgur.com/GkGyn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GkGyn.jpg\" alt=\"Export CSV from toad\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1701542,"reputation":420,"user_id":1561464,"display_name":"John R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545386583,"creation_date":1545386583,"answer_id":53882708,"question_id":53880659,"body_markdown":"I used the method .setFetchSize(1000) from Prepared Statement and I could to export about 4 million of rows in about 40 seconds. \r\n\r\n\r\nMaybe will be useful and for somebody else. :D\r\n","title":"Export rows from database to csv file","body":"<p>I used the method .setFetchSize(1000) from Prepared Statement and I could to export about 4 million of rows in about 40 seconds. </p>\n\n<p>Maybe will be useful and for somebody else. :D</p>\n"}],"owner":{"account_id":1701542,"reputation":420,"user_id":1561464,"display_name":"John R."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1545417742,"answer_count":2,"score":1,"last_activity_date":1645225161,"creation_date":1545376582,"question_id":53880659,"body_markdown":"I want to export a huge amount of data (a few millions of rows) from my database to csv file using java. In this moment I iterate over the result set, I add the rows in a List and after each 1000 rows I write the lines to the file and I clear the list.\r\n\r\nIn this moment I spend about 50 seconds to export 500 000 lines. Is there any other faster way to make this export?","title":"Export rows from database to csv file","body":"<p>I want to export a huge amount of data (a few millions of rows) from my database to csv file using java. In this moment I iterate over the result set, I add the rows in a List and after each 1000 rows I write the lines to the file and I clear the list.</p>\n<p>In this moment I spend about 50 seconds to export 500 000 lines. Is there any other faster way to make this export?</p>\n"},{"tags":["java","input","keyboard"],"comments":[{"owner":{"account_id":5624342,"reputation":162,"user_id":4453230,"display_name":"Andi"},"score":0,"creation_date":1645212398,"post_id":71178621,"comment_id":125820072,"body_markdown":"it&#39;s not possible without non java code (JNI). but if you want to learn, there is an open source library with a demo for what you are looking for available: https://github.com/kwhat/jnativehook","body":"it&#39;s not possible without non java code (JNI). but if you want to learn, there is an open source library with a demo for what you are looking for available: <a href=\"https://github.com/kwhat/jnativehook\" rel=\"nofollow noreferrer\">github.com/kwhat/jnativehook</a>"}],"answers":[{"tags":[],"owner":{"account_id":19881354,"reputation":96,"user_id":14565309,"display_name":"kabuto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645223247,"creation_date":1645223247,"answer_id":71180564,"question_id":71178621,"body_markdown":"Hey I can&#39;t find a way to do this in core Java, but here is a [github repo][1] you may find useful. It seems to be a global key listener in Java.\r\n\r\nHopefully that GitHub repo helps but use it at your discretion, I&#39;m sure you understand the potential dangers of creating something like this!\r\n\r\n\r\n  [1]: https://github.com/kwhat/jnativehook","title":"Get keyboard input from user in java with the program running in background","body":"<p>Hey I can't find a way to do this in core Java, but here is a <a href=\"https://github.com/kwhat/jnativehook\" rel=\"nofollow noreferrer\">github repo</a> you may find useful. It seems to be a global key listener in Java.</p>\n<p>Hopefully that GitHub repo helps but use it at your discretion, I'm sure you understand the potential dangers of creating something like this!</p>\n"}],"owner":{"account_id":20375086,"reputation":3,"user_id":14946452,"display_name":"keyk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645223247,"creation_date":1645210934,"question_id":71178621,"body_markdown":"I once saw a youtube video [here](https://youtu.be/1z23u5XCPaA) and I thought that it would be good exercise to code it myself in java. The Problem is that i can&#39;t seem to find a way to read Keyboard input from the user while the program runs in the background, the obvious reason is that it would be dangerous to read the input from the user without the user knowing. I am open for different alternativ ways if there are any.","title":"Get keyboard input from user in java with the program running in background","body":"<p>I once saw a youtube video <a href=\"https://youtu.be/1z23u5XCPaA\" rel=\"nofollow noreferrer\">here</a> and I thought that it would be good exercise to code it myself in java. The Problem is that i can't seem to find a way to read Keyboard input from the user while the program runs in the background, the obvious reason is that it would be dangerous to read the input from the user without the user knowing. I am open for different alternativ ways if there are any.</p>\n"},{"tags":["java","amazon-s3","gzipinputstream","gzipoutputstream","amazon-ion"],"comments":[{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1586288216,"post_id":61087263,"comment_id":108073087,"body_markdown":"Can you show your code and give more details about what &quot;does not seem to be working&quot;?","body":"Can you show your code and give more details about what &quot;does not seem to be working&quot;?"},{"owner":{"account_id":8236428,"reputation":35,"user_id":6195454,"display_name":"Andy"},"score":0,"creation_date":1586365588,"post_id":61087263,"comment_id":108104315,"body_markdown":"added to question...\n\n\n\n\nI did some investigation and it seems the file generated is corrupt and missing the \n End-of-central-directory signature.","body":"added to question...     I did some investigation and it seems the file generated is corrupt and missing the   End-of-central-directory signature."}],"owner":{"account_id":8236428,"reputation":35,"user_id":6195454,"display_name":"Andy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645223007,"creation_date":1586285372,"question_id":61087263,"body_markdown":"I have a backend service that writes a file created using GZipOutputStream to S3 and the front end wants to display the ION content in it. I tried using GZipInputStream to wrap the InputStream returned by the S3Object getObjectContent() method, but does not seem to be working.\r\n\r\nCan anyone help here?\r\n\r\nCode to generate zipped file using GzipOutputStream \r\n\r\n```\r\ngenerateAndWriteInfo() {\r\n byte[] info = generateInfo();\r\n gzipOutputStream.write(info);\r\n}\r\n\r\nclose() {\r\ngzipOutputStream.close();\r\n}\r\n\r\n```\r\ncode to read it from S3 \r\n\r\n```\r\nS3Object result = client.getObject(bucket_name, key);\r\nbyte[] array = IOUtils.toByteArray(result.getObjectContent());\r\nIonDatagram datagram = ios.newLoader().load(IOUtils.toByteArray(new GZIPInputStream(new ByteArrayInputStream(array))));\r\n\r\n```\r\n\r\n","title":"read zipped ion content from s3 in java","body":"<p>I have a backend service that writes a file created using GZipOutputStream to S3 and the front end wants to display the ION content in it. I tried using GZipInputStream to wrap the InputStream returned by the S3Object getObjectContent() method, but does not seem to be working.</p>\n\n<p>Can anyone help here?</p>\n\n<p>Code to generate zipped file using GzipOutputStream </p>\n\n<pre><code>generateAndWriteInfo() {\n byte[] info = generateInfo();\n gzipOutputStream.write(info);\n}\n\nclose() {\ngzipOutputStream.close();\n}\n\n</code></pre>\n\n<p>code to read it from S3 </p>\n\n<pre><code>S3Object result = client.getObject(bucket_name, key);\nbyte[] array = IOUtils.toByteArray(result.getObjectContent());\nIonDatagram datagram = ios.newLoader().load(IOUtils.toByteArray(new GZIPInputStream(new ByteArrayInputStream(array))));\n\n</code></pre>\n"},{"tags":["java","windows"],"answers":[{"tags":[],"owner":{"account_id":337,"reputation":88173,"user_id":422,"accept_rate":98,"display_name":"Chris Bunch"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1219883283,"creation_date":1219882844,"answer_id":31401,"question_id":31394,"body_markdown":"You&#39;re actually really close. This is what you&#39;re looking for:\r\n\r\n    System.getProperty(&quot;user.name&quot;)","title":"Java: Programatic Way to Determine Current Windows User","body":"<p>You're actually really close. This is what you're looking for:</p>\n\n<pre><code>System.getProperty(\"user.name\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2536,"reputation":22948,"user_id":3535,"accept_rate":100,"display_name":"John Meagher"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1463016285,"creation_date":1220440061,"answer_id":41463,"question_id":31394,"body_markdown":"The commonly available system properties are documented in the [`System.getProperties()`](http://java.sun.com/javase/6/docs/api/java/lang/System.html#getProperties%28%29) method.  \r\n\r\nAs Chris said `&quot;user.name&quot;` is the property to get the user running your app.","title":"Java: Programatic Way to Determine Current Windows User","body":"<p>The commonly available system properties are documented in the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html#getProperties%28%29\" rel=\"nofollow noreferrer\"><code>System.getProperties()</code></a> method.  </p>\n\n<p>As Chris said <code>\"user.name\"</code> is the property to get the user running your app.</p>\n"},{"tags":[],"owner":{"account_id":210561,"reputation":860,"user_id":462234,"display_name":"marklark"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645222995,"creation_date":1462996322,"answer_id":37172080,"question_id":31394,"body_markdown":"As mentioned above (and linked for Java 6), to get the current user:\r\n\r\n    System.getProperty(&quot;user.name&quot;)\r\n\r\nFor Java 7:  [System.getProperties()][1]\r\n\r\nFor Java 8:  [System.getProperties()][2]\r\n\r\nFor Java 9:  [System.getProperties()][3]\r\n\r\nFor Java 10: [System.getProperties()][4]\r\n\r\nFor Java 11: [System.getProperties()][5]\r\n\r\nFor Java 12: [System.getProperties()][6]\r\n\r\nFor Java 13: [System.getProperties()][7]\r\n\r\nFor Java 14: [System.getProperties()][8]\r\n\r\nFor Java 15: [System.getProperties()][9]\r\n\r\nFor Java 16: [System.getProperties()][10]\r\n\r\nFor Java 17: [System.getProperties()][11]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#getProperties%28%29\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getProperties--\r\n  [3]:\r\nhttps://docs.oracle.com/javase/9/docs/api/java/lang/System.html#getProperties--  \r\n  [4]:\r\nhttps://docs.oracle.com/javase/10/docs/api/java/lang/System.html#getProperties--\r\n\r\n[5]:https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html\r\n[6]:https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/System.html\r\n[7]:https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/System.html\r\n[8]:https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/System.html\r\n[9]:https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/System.html\r\n[10]:https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/System.html\r\n[11]:https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html\r\n","title":"Java: Programatic Way to Determine Current Windows User","body":"<p>As mentioned above (and linked for Java 6), to get the current user:</p>\n<pre><code>System.getProperty(&quot;user.name&quot;)\n</code></pre>\n<p>For Java 7:  <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#getProperties%28%29\" rel=\"nofollow noreferrer\">System.getProperties()</a></p>\n<p>For Java 8:  <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getProperties--\" rel=\"nofollow noreferrer\">System.getProperties()</a></p>\n<p>For Java 9:  <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/System.html#getProperties--\" rel=\"nofollow noreferrer\">System.getProperties()</a></p>\n<p>For Java 10: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/System.html#getProperties--\" rel=\"nofollow noreferrer\">System.getProperties()</a></p>\n<p>For Java 11: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html\" rel=\"nofollow noreferrer\">System.getProperties()</a></p>\n<p>For Java 12: <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/System.html\" rel=\"nofollow noreferrer\">System.getProperties()</a></p>\n<p>For Java 13: <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/System.html\" rel=\"nofollow noreferrer\">System.getProperties()</a></p>\n<p>For Java 14: <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/System.html\" rel=\"nofollow noreferrer\">System.getProperties()</a></p>\n<p>For Java 15: <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/System.html\" rel=\"nofollow noreferrer\">System.getProperties()</a></p>\n<p>For Java 16: <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/System.html\" rel=\"nofollow noreferrer\">System.getProperties()</a></p>\n<p>For Java 17: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html\" rel=\"nofollow noreferrer\">System.getProperties()</a></p>\n"}],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14748,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":31401,"answer_count":3,"score":11,"last_activity_date":1645222995,"creation_date":1219882641,"question_id":31394,"body_markdown":"I see many similar questions, however I want to find the Username of the currently logged in user using Java.\r\n\r\nIts probably something like:\r\n\r\n    System.getProperty(current.user);\r\n\r\nBut, I&#39;m not quite sure.","title":"Java: Programatic Way to Determine Current Windows User","body":"<p>I see many similar questions, however I want to find the Username of the currently logged in user using Java.</p>\n\n<p>Its probably something like:</p>\n\n<pre><code>System.getProperty(current.user);\n</code></pre>\n\n<p>But, I'm not quite sure.</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":10129017,"reputation":4226,"user_id":7483211,"display_name":"Cornelius Roemer"},"score":0,"creation_date":1660334201,"post_id":71180035,"comment_id":129516934,"body_markdown":"Does this answer your question? [How to brew install java?](https://stackoverflow.com/questions/65601196/how-to-brew-install-java)\nThe second answer details how to install a specific openjdk version using brew.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65601196/how-to-brew-install-java\">How to brew install java?</a> The second answer details how to install a specific openjdk version using brew."}],"answers":[{"tags":[],"owner":{"account_id":1822229,"reputation":478,"user_id":1656012,"display_name":"Trenton Telge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645222051,"creation_date":1645222051,"answer_id":71180396,"question_id":71180035,"body_markdown":"If you have not yet updated your %JAVA_HOME% environment variable, that must be pointed to your new installation. Your installation path looks correct. Here is a thread about setting the environment variable: https://stackoverflow.com/a/65162351/1656012","title":"Mac OS. No recognized OpenJDK","body":"<p>If you have not yet updated your %JAVA_HOME% environment variable, that must be pointed to your new installation. Your installation path looks correct. Here is a thread about setting the environment variable: <a href=\"https://stackoverflow.com/a/65162351/1656012\">https://stackoverflow.com/a/65162351/1656012</a></p>\n"}],"owner":{"account_id":1478069,"reputation":472,"user_id":1388001,"accept_rate":94,"display_name":"mdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1542,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71180396,"answer_count":1,"score":2,"last_activity_date":1645222871,"creation_date":1645219635,"question_id":71180035,"body_markdown":"At first we are talking about MacOS Big Sur.\r\n\r\nUntil today I had the folder jdk-16.0.2.jdk with all its content in /Library/Java/JavaVirtualMachines which I downloaded from Oracle at a certain point in time.\r\nIt worked fine and `java -version` respondeds with the corresponding version and Netbeans worked fine along with Tomcat.\r\nThat was my java installation. Downloaded the .tar from Oracle and copy to that folder.\r\n\r\nToday I am trying to migrate to openJDK so I did the same. I downloaded &quot;openjdk-17.0.2_macos-aarch64_bin.tar&quot; from java.net. Just the same procedure. Untar the files and copy to /Library/Java/JavaVirtualMachines (And moving the old Java to Desktop.\r\n\r\nWhen I try % `java -version` I get:\r\n\r\n&gt;The operation couldn’t be completed. Unable to locate a Java Runtime.  \r\nPlease visit http://www.java.com for information on installing Java.\r\n\r\nI resist a little to the idea of installing JAVA via homebrew (Which I use for other purposes) since I&#39;d like to have the very same version in my dev environment (My Mac in this case) and in my production environment (Rocky Linux 8).\r\n\r\nAny idea?\r\n\r\nThank you very much in advance.","title":"Mac OS. No recognized OpenJDK","body":"<p>At first we are talking about MacOS Big Sur.</p>\n<p>Until today I had the folder jdk-16.0.2.jdk with all its content in /Library/Java/JavaVirtualMachines which I downloaded from Oracle at a certain point in time.\nIt worked fine and <code>java -version</code> respondeds with the corresponding version and Netbeans worked fine along with Tomcat.\nThat was my java installation. Downloaded the .tar from Oracle and copy to that folder.</p>\n<p>Today I am trying to migrate to openJDK so I did the same. I downloaded &quot;openjdk-17.0.2_macos-aarch64_bin.tar&quot; from java.net. Just the same procedure. Untar the files and copy to /Library/Java/JavaVirtualMachines (And moving the old Java to Desktop.</p>\n<p>When I try % <code>java -version</code> I get:</p>\n<blockquote>\n<p>The operation couldn’t be completed. Unable to locate a Java Runtime.<br />\nPlease visit <a href=\"http://www.java.com\" rel=\"nofollow noreferrer\">http://www.java.com</a> for information on installing Java.</p>\n</blockquote>\n<p>I resist a little to the idea of installing JAVA via homebrew (Which I use for other purposes) since I'd like to have the very same version in my dev environment (My Mac in this case) and in my production environment (Rocky Linux 8).</p>\n<p>Any idea?</p>\n<p>Thank you very much in advance.</p>\n"},{"tags":["java","list","return-type"],"comments":[{"owner":{"account_id":16016658,"reputation":64,"user_id":11559187,"display_name":"Volzy"},"score":2,"creation_date":1645213007,"post_id":71178943,"comment_id":125820247,"body_markdown":"This is because java generics are **invariant**. If you want to use the type **List&lt;ArrayList&lt;E&gt;&gt;** in your code you must use as return type **List&lt;? extends List&lt;E&gt;&gt;**","body":"This is because java generics are <b>invariant</b>. If you want to use the type <b>List&lt;ArrayList&lt;E&gt;&gt;</b> in your code you must use as return type <b>List&lt;? extends List&lt;E&gt;&gt;</b>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1645214040,"post_id":71178943,"comment_id":125820564,"body_markdown":"I mean, you can just use `List&lt;List&lt;E&gt;&gt;`.  You just have to use `ArrayList&lt;List&lt;E&gt;&gt;` instead.","body":"I mean, you can just use <code>List&lt;List&lt;E&gt;&gt;</code>.  You just have to use <code>ArrayList&lt;List&lt;E&gt;&gt;</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645222579,"creation_date":1645222579,"answer_id":71180473,"question_id":71178943,"body_markdown":"The returned value may look just like this:\r\n```java\r\npublic static &lt;E&gt; List&lt;List&lt;E&gt;&gt; foo() {\r\n    return new ArrayList&lt;&gt;();\r\n}\r\n// or immutable empty list\r\npublic static &lt;E&gt; List&lt;List&lt;E&gt;&gt; foo() {\r\n    return Collections.emptyList();\r\n}\r\n```\r\n\r\n&gt; _I use &#39;ArrayList&lt;ArrayList&gt;listList&#39; to store the information to return_\r\nThe result to return can and should be declared as `List&lt;List&lt;E&gt;&gt;` but it has to be initialized properly with the list implementation:\r\n```java\r\npublic static &lt;E&gt; List&lt;List&lt;E&gt;&gt; bar(E item) {\r\n    List&lt;List&lt;E&gt;&gt; result = new ArrayList&lt;&gt;();\r\n    result.add(new ArrayList&lt;&gt;());\r\n    result.get(0).add(item);\r\n    return result;\r\n}\r\n\r\npublic static &lt;E&gt; List&lt;List&lt;E&gt;&gt; bar1(E item) {\r\n    List&lt;List&lt;E&gt;&gt; result = new ArrayList&lt;&gt;();\r\n    result.add(Arrays.asList(item));\r\n    return result;\r\n}\r\n```\r\nStarting from Java 9, `List.of` may be used (an immutable `List` implementation is returned):\r\n```java\r\npublic static &lt;E&gt; List&lt;List&lt;E&gt;&gt; bar2(E item) {\r\n    return List.of(\r\n        List.of(item)\r\n    );\r\n}\r\n```","title":"Return a List&lt;List&lt;E&gt;&gt; in Java","body":"<p>The returned value may look just like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;E&gt; List&lt;List&lt;E&gt;&gt; foo() {\n    return new ArrayList&lt;&gt;();\n}\n// or immutable empty list\npublic static &lt;E&gt; List&lt;List&lt;E&gt;&gt; foo() {\n    return Collections.emptyList();\n}\n</code></pre>\n<blockquote>\n<p><em>I use 'ArrayListlistList' to store the information to return</em>\nThe result to return can and should be declared as <code>List&lt;List&lt;E&gt;&gt;</code> but it has to be initialized properly with the list implementation:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;E&gt; List&lt;List&lt;E&gt;&gt; bar(E item) {\n    List&lt;List&lt;E&gt;&gt; result = new ArrayList&lt;&gt;();\n    result.add(new ArrayList&lt;&gt;());\n    result.get(0).add(item);\n    return result;\n}\n\npublic static &lt;E&gt; List&lt;List&lt;E&gt;&gt; bar1(E item) {\n    List&lt;List&lt;E&gt;&gt; result = new ArrayList&lt;&gt;();\n    result.add(Arrays.asList(item));\n    return result;\n}\n</code></pre>\n<p>Starting from Java 9, <code>List.of</code> may be used (an immutable <code>List</code> implementation is returned):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;E&gt; List&lt;List&lt;E&gt;&gt; bar2(E item) {\n    return List.of(\n        List.of(item)\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":23140758,"reputation":1,"user_id":17244243,"display_name":"tcx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":870,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1645222579,"creation_date":1645212805,"question_id":71178943,"body_markdown":"i have to write a method that return the same type as in title.\r\nBut as you all know, List is an interface, and therefore has no instance.\r\nIn my code, i use  &#39;ArrayList&lt;ArrayList&lt;E&gt;&gt;listList&#39;  to store the information to return.\r\nBut as i try to return listList, such Error occurs\r\n\r\n        Type mismatch: cannot convert from List&lt;ArrayList&lt;E&gt;&gt; to List&lt;List&lt;E&gt;&gt;\r\n\r\nSo how can i return it?\r\nI&#39;ve tried to declare \r\n\r\n                List&lt;ArrayList&lt;E&gt;&gt;listList// still cant return\r\n        List&lt;List&lt;E&gt;&gt;listList//this cant be declared\r\n\r\n\r\n\r\nThanks a lot!\r\n","title":"Return a List&lt;List&lt;E&gt;&gt; in Java","body":"<p>i have to write a method that return the same type as in title.\nBut as you all know, List is an interface, and therefore has no instance.\nIn my code, i use  'ArrayList&lt;ArrayList&gt;listList'  to store the information to return.\nBut as i try to return listList, such Error occurs</p>\n<pre><code>    Type mismatch: cannot convert from List&lt;ArrayList&lt;E&gt;&gt; to List&lt;List&lt;E&gt;&gt;\n</code></pre>\n<p>So how can i return it?\nI've tried to declare</p>\n<pre><code>            List&lt;ArrayList&lt;E&gt;&gt;listList// still cant return\n    List&lt;List&lt;E&gt;&gt;listList//this cant be declared\n</code></pre>\n<p>Thanks a lot!</p>\n"},{"tags":["java","android","opengl-es","shader","glsles"],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645222512,"creation_date":1645222512,"answer_id":71180463,"question_id":71180410,"body_markdown":"A uniform variable does not become an active program resource until it is used in the shader program. The shader program is optimized and unnecessary code and resources are skipped. If you try to get the location of an unnecessary uniform that is not an active program resource, `glGetUniformLocation` returns -1.","title":"GLES30.glGetUniformLocation() randomly fails","body":"<p>A uniform variable does not become an active program resource until it is used in the shader program. The shader program is optimized and unnecessary code and resources are skipped. If you try to get the location of an unnecessary uniform that is not an active program resource, <code>glGetUniformLocation</code> returns -1.</p>\n"}],"owner":{"display_name":"user14587078"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71180463,"answer_count":1,"score":1,"last_activity_date":1645222512,"creation_date":1645222177,"question_id":71180410,"body_markdown":"I have a method in my shader class that I use to get my Uniform variables locations, but it seems to fail on specific variables with no reason...\r\n\r\nHere&#39;s my getUnfiform location method (in debug mode):\r\n```\r\npublic int getUniformLocation(String uniform){\r\n    int a = GLES30.glGetUniformLocation(programID,uniform);\r\n    if(a == -1){\r\n        Log.e(&quot;gul&quot;,&quot;an error occured : &quot; + uniform );\r\n        //Log.e(&quot;gul&quot;, &quot;here&#39;s the program : &quot;+ GLES30.glGetShaderSource(fragmentShader));\r\n    }\r\n    if(a &gt; -1){\r\n        Log.e(&quot;gul&quot;,&quot;it&#39;s fine &quot; + uniform);\r\n    }\r\n    return a;\r\n}\r\n```\r\nhere&#39;s my uniform variables section in my fragmemt shader code : \r\n```\r\n#version 300 es\r\nprecision mediump float;\r\n\r\n#define ALPHA_CLIP      //in my specific case I erase, at runtime, this one;\r\n\r\n#define MAP_ROUGHNESS\r\n#define MAP_METALINESS  //this one;\r\n#define MAP_SPECULAR    //this one;\r\n#define TEXTURE\r\n#define MAP_EMISSION    //and this one.\r\n#define NORMAL_MAP\r\n\r\n#ifdef MAP_ROUGHNESS\r\n    uniform mediump sampler2D roughnessSampler;\r\n#else\r\n    uniform mediump float roughness;\r\n#endif\r\n\r\n#ifdef MAP_METALINESS\r\n    uniform mediump sampler2D MetalinessSampler;\r\n#else\r\n    uniform mediump float Metaliness;\r\n#endif\r\n\r\n#ifdef MAP_SPECULAR\r\n    uniform mediump sampler2D specularSampler;\r\n#else\r\n    uniform mediump float specular;\r\n#endif\r\n\r\n#ifdef TEXTURE\r\n    uniform mediump sampler2D textureSampler;\r\n#endif\r\n\r\n#ifdef MAP_EMISSION\r\n    uniform mediump sampler2D emissionSampler;\r\n#else\r\n    uniform mediump vec3 emission;\r\n#endif\r\n\r\n#ifdef NORMAL_MAP\r\n    uniform mediump sampler2D normalMap;\r\n#endif\r\n```\r\nHere are the inputs:\r\n\r\n 1. roughnessSanmpler\r\n 2. Metaliness\r\n 3. specular\r\n 4. emission\r\n 5. IOR\r\n\r\nand here&#39;s the log output:\r\n```\r\nE/cleanEntity: about to build shader\r\nE/gul: an error occured : roughnessSampler\r\nE/gul: an error occured : Metaliness\r\nE/gul: it&#39;s fine specular\r\nE/gul: an error occured : emission\r\nE/gul: it&#39;s fine IOR\r\nE/cleanEntity: built shader\r\n```\r\n\r\nAs you can see, three of them fail, but they don&#39;t seem to be in a different situation to the other two. Why is that and how can I fix it?","title":"GLES30.glGetUniformLocation() randomly fails","body":"<p>I have a method in my shader class that I use to get my Uniform variables locations, but it seems to fail on specific variables with no reason...</p>\n<p>Here's my getUnfiform location method (in debug mode):</p>\n<pre><code>public int getUniformLocation(String uniform){\n    int a = GLES30.glGetUniformLocation(programID,uniform);\n    if(a == -1){\n        Log.e(&quot;gul&quot;,&quot;an error occured : &quot; + uniform );\n        //Log.e(&quot;gul&quot;, &quot;here's the program : &quot;+ GLES30.glGetShaderSource(fragmentShader));\n    }\n    if(a &gt; -1){\n        Log.e(&quot;gul&quot;,&quot;it's fine &quot; + uniform);\n    }\n    return a;\n}\n</code></pre>\n<p>here's my uniform variables section in my fragmemt shader code :</p>\n<pre><code>#version 300 es\nprecision mediump float;\n\n#define ALPHA_CLIP      //in my specific case I erase, at runtime, this one;\n\n#define MAP_ROUGHNESS\n#define MAP_METALINESS  //this one;\n#define MAP_SPECULAR    //this one;\n#define TEXTURE\n#define MAP_EMISSION    //and this one.\n#define NORMAL_MAP\n\n#ifdef MAP_ROUGHNESS\n    uniform mediump sampler2D roughnessSampler;\n#else\n    uniform mediump float roughness;\n#endif\n\n#ifdef MAP_METALINESS\n    uniform mediump sampler2D MetalinessSampler;\n#else\n    uniform mediump float Metaliness;\n#endif\n\n#ifdef MAP_SPECULAR\n    uniform mediump sampler2D specularSampler;\n#else\n    uniform mediump float specular;\n#endif\n\n#ifdef TEXTURE\n    uniform mediump sampler2D textureSampler;\n#endif\n\n#ifdef MAP_EMISSION\n    uniform mediump sampler2D emissionSampler;\n#else\n    uniform mediump vec3 emission;\n#endif\n\n#ifdef NORMAL_MAP\n    uniform mediump sampler2D normalMap;\n#endif\n</code></pre>\n<p>Here are the inputs:</p>\n<ol>\n<li>roughnessSanmpler</li>\n<li>Metaliness</li>\n<li>specular</li>\n<li>emission</li>\n<li>IOR</li>\n</ol>\n<p>and here's the log output:</p>\n<pre><code>E/cleanEntity: about to build shader\nE/gul: an error occured : roughnessSampler\nE/gul: an error occured : Metaliness\nE/gul: it's fine specular\nE/gul: an error occured : emission\nE/gul: it's fine IOR\nE/cleanEntity: built shader\n</code></pre>\n<p>As you can see, three of them fail, but they don't seem to be in a different situation to the other two. Why is that and how can I fix it?</p>\n"},{"tags":["java","intellij-idea","enums"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1645222213,"post_id":71180390,"comment_id":125822751,"body_markdown":"`Gender gender = name.endsWith(&quot;a&quot;) ? Gender.FEMALE : Gender.MALE`?","body":"<code>Gender gender = name.endsWith(&quot;a&quot;) ? Gender.FEMALE : Gender.MALE</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1645222382,"creation_date":1645222382,"answer_id":71180448,"question_id":71180390,"body_markdown":"Enums can have static methods, which is perfect for a situation like this.\r\n\r\n    enum Gender {\r\n\t    MALE, FEMALE;\r\n\t\r\n\t    public static Gender getGender(String name) {\r\n\t\t    if (name.endsWith(&quot;a&quot;)) return FEMALE;\r\n\t\t    return MALE;\r\n\t    }\r\n    }\r\n\r\nSee [here][1] for more info on endsWith()\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/ref_string_endswith.asp","title":"Specify the gender using enum","body":"<p>Enums can have static methods, which is perfect for a situation like this.</p>\n<pre><code>enum Gender {\n    MALE, FEMALE;\n\n    public static Gender getGender(String name) {\n        if (name.endsWith(&quot;a&quot;)) return FEMALE;\n        return MALE;\n    }\n}\n</code></pre>\n<p>See <a href=\"https://www.w3schools.com/java/ref_string_endswith.asp\" rel=\"nofollow noreferrer\">here</a> for more info on endsWith()</p>\n"},{"tags":[],"owner":{"account_id":19881354,"reputation":96,"user_id":14565309,"display_name":"kabuto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645222431,"creation_date":1645222431,"answer_id":71180450,"question_id":71180390,"body_markdown":"Hey so I think to begin it&#39;s important to really understand what an Enum is, it&#39;s effectively a special class that has some constant unchangeable variables, in this case you have MEN and FEMALE which will not change.\r\n\r\nYou can access the variables within your Enum using dot syntax,\r\nfor example:\r\n\r\n    Gender Paula = Gender.FEMALE;\r\n\r\nThis would set a new instance of your Gender Enum called Paula and set it&#39;s gender value to FEMALE.\r\n\r\nWhen then accessing that variable you have made, it will contain the state of the Enum that you set,\r\n\r\nFor example:\r\n\r\n    System.out.println(Paula);\r\n\r\nWould return:\r\n\r\n    FEMALE\r\n\r\n","title":"Specify the gender using enum","body":"<p>Hey so I think to begin it's important to really understand what an Enum is, it's effectively a special class that has some constant unchangeable variables, in this case you have MEN and FEMALE which will not change.</p>\n<p>You can access the variables within your Enum using dot syntax,\nfor example:</p>\n<pre><code>Gender Paula = Gender.FEMALE;\n</code></pre>\n<p>This would set a new instance of your Gender Enum called Paula and set it's gender value to FEMALE.</p>\n<p>When then accessing that variable you have made, it will contain the state of the Enum that you set,</p>\n<p>For example:</p>\n<pre><code>System.out.println(Paula);\n</code></pre>\n<p>Would return:</p>\n<pre><code>FEMALE\n</code></pre>\n"}],"owner":{"account_id":18351908,"reputation":41,"user_id":13365878,"display_name":"xxvrmv"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2201,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1645227692,"answer_count":2,"score":-5,"last_activity_date":1645222431,"creation_date":1645222032,"question_id":71180390,"body_markdown":"When using an enum, I have to specify the gender. In my country, **women&#39;s names end with &#39;a&#39;**.\r\nWhat I did: \r\n```\r\npublic enum Gender {\r\n    MEN, FEMALE\r\n}\r\n```\r\nI wish the program would take a name and be able to determine gender based on that, but I have no idea what the next steps should be. ","title":"Specify the gender using enum","body":"<p>When using an enum, I have to specify the gender. In my country, <strong>women's names end with 'a'</strong>.\nWhat I did:</p>\n<pre><code>public enum Gender {\n    MEN, FEMALE\n}\n</code></pre>\n<p>I wish the program would take a name and be able to determine gender based on that, but I have no idea what the next steps should be.</p>\n"},{"tags":["java","selenium","selenium-webdriver","scroll"],"comments":[{"owner":{"account_id":2704333,"reputation":10670,"user_id":2334254,"accept_rate":57,"display_name":"kpie"},"score":0,"creation_date":1645214207,"post_id":71179155,"comment_id":125820624,"body_markdown":"Would the methods outlined here be applicable to your question? https://stackoverflow.com/questions/3401343/scroll-element-into-view-with-selenium","body":"Would the methods outlined here be applicable to your question? <a href=\"https://stackoverflow.com/questions/3401343/scroll-element-into-view-with-selenium\" title=\"scroll element into view with selenium\">stackoverflow.com/questions/3401343/&hellip;</a>"},{"owner":{"account_id":20556200,"reputation":117,"user_id":15087707,"display_name":"Alx_Wil95"},"score":0,"creation_date":1645214488,"post_id":71179155,"comment_id":125820697,"body_markdown":"@kpie yes. I was trying something similar before my given code above, however it was unable to find any locator I used due to selenium not registering that it was on a new page. so it would try to find the given locator on the page that was opened originally rather then the page the link brings the user to","body":"@kpie yes. I was trying something similar before my given code above, however it was unable to find any locator I used due to selenium not registering that it was on a new page. so it would try to find the given locator on the page that was opened originally rather then the page the link brings the user to"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645215562,"creation_date":1645215562,"answer_id":71179418,"question_id":71179155,"body_markdown":"Drop the part `js = ` and you should be good to go.\r\n\r\nEffectively, the line of code will be:\r\n\r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);","title":"navigate to link then scroll to element selenium","body":"<p>Drop the part <code>js = </code> and you should be good to go.</p>\n<p>Effectively, the line of code will be:</p>\n<pre><code>((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n</code></pre>\n"}],"owner":{"account_id":20556200,"reputation":117,"user_id":15087707,"display_name":"Alx_Wil95"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645222366,"creation_date":1645213960,"question_id":71179155,"body_markdown":"I have a page I am testing for practice and in that page I have a link I need to click on and navigate to then scroll to a specific element on the new page. when the test runs everything passes but the page does not scroll to the element in question. can someone explain please?\r\n\r\n```package aspirationbase;\r\n\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\n\r\nimport java.util.Iterator;\r\nimport java.util.Set;\r\n\r\npublic class AspirationBase {\r\n\r\n    public WebDriver driver;\r\n    public JavascriptExecutor js;\r\n    public WebElement element;\r\n    public String URL = &quot;https://www.aspiration.com&quot;;\r\n    public String xpath;\r\n    public String handleWindow;\r\n    public Set&lt;String&gt; allWindows;\r\n    public Iterator&lt;String&gt; iterator;\r\n    public int sleepTime = 2000;\r\n\r\n    public AspirationBase(WebDriver driver) {\r\n        this.driver = driver;\r\n    }\r\n\r\n    public void launchAspiration() throws InterruptedException {\r\n        driver.get(URL);\r\n        Thread.sleep(sleepTime);\r\n    }\r\n}\r\n\r\npackage searchaspiration;\r\n\r\nimport aspirationbase.AspirationBase;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport org.openqa.selenium.WebDriver;\r\n\r\npublic class SearchAspiration extends AspirationBase {\r\n\r\n    public SearchAspiration(WebDriver driver) {\r\n        super(driver);\r\n    }\r\n\r\n    public void viewProducts() throws InterruptedException {\r\n        handleWindow = driver.getWindowHandle();\r\n        xpath = &quot;//*[@id=\\&quot;__next\\&quot;]/div/header/ul[1]/li[1]/a&quot;;\r\n\r\n        driver.findElement(By.xpath(xpath)).click();\r\n        Thread.sleep(sleepTime);\r\n\r\n        allWindows = driver.getWindowHandles();\r\n        iterator = allWindows.iterator();\r\n        while (iterator.hasNext()) {\r\n            String newURL = iterator.next();\r\n            if (!handleWindow.equalsIgnoreCase(newURL)) {\r\n                driver.switchTo().window(newURL);\r\n                xpath = &quot;//*[@id=\\&quot;__next\\&quot;]/div/section[7]/div/div[1]/div[1]&quot;;\r\n                element.findElement(By.xpath(xpath));\r\n                (js = (JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nEdit: Before the given code I tried simply navigating to the link and scrolling to element but selenium could not recognize the given locator since it was trying to find it in the original page opened. Now it seems like it&#39;s just ignoring my while loop after the first few tests are ran. I&#39;m more so trying to find an explanation as to  where I&#39;m going wrong rather than a direct answer so as to better understand\r\n\r\nEdit1: After reading some more documentation I realize the problem is everything in the while loop is trying to find a window that is already open which I do not want. what I am trying to accomplish is clicking on a link in the first page that leads to a new page and then scroll down the new page to the given element. As stated before simply using .click() to navigate the like and then using the elements xpath on new page does not work as it&#39;s trying to find xpath on previous page. any suggestion on how I can identify that xpath would be great. this is w/o while loop:\r\n\r\n```package searchaspiration;\r\n\r\nimport aspirationbase.AspirationBase;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport org.openqa.selenium.WebDriver;\r\n\r\npublic class SearchAspiration extends AspirationBase {\r\n\r\n    public SearchAspiration(WebDriver driver) {\r\n        super(driver);\r\n    }\r\n\r\n    public void viewProducts() throws InterruptedException {\r\n        xpath = &quot;//*[@id=\\&quot;__next\\&quot;]/div/header/ul[1]/li[1]/a&quot;;\r\n        driver.findElement(By.xpath(xpath)).click();\r\n        Thread.sleep(sleepTime);\r\n        xpath = &quot;//*[@id=\\&quot;__next\\&quot;]/div/section[7]/div/div[1]&quot;;\r\n        element.findElement(By.xpath(xpath));\r\n        ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\r\n        Thread.sleep(sleepTime);\r\n    }\r\n}\r\n```","title":"navigate to link then scroll to element selenium","body":"<p>I have a page I am testing for practice and in that page I have a link I need to click on and navigate to then scroll to a specific element on the new page. when the test runs everything passes but the page does not scroll to the element in question. can someone explain please?</p>\n<pre><code>\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\nimport java.util.Iterator;\nimport java.util.Set;\n\npublic class AspirationBase {\n\n    public WebDriver driver;\n    public JavascriptExecutor js;\n    public WebElement element;\n    public String URL = &quot;https://www.aspiration.com&quot;;\n    public String xpath;\n    public String handleWindow;\n    public Set&lt;String&gt; allWindows;\n    public Iterator&lt;String&gt; iterator;\n    public int sleepTime = 2000;\n\n    public AspirationBase(WebDriver driver) {\n        this.driver = driver;\n    }\n\n    public void launchAspiration() throws InterruptedException {\n        driver.get(URL);\n        Thread.sleep(sleepTime);\n    }\n}\n\npackage searchaspiration;\n\nimport aspirationbase.AspirationBase;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\n\npublic class SearchAspiration extends AspirationBase {\n\n    public SearchAspiration(WebDriver driver) {\n        super(driver);\n    }\n\n    public void viewProducts() throws InterruptedException {\n        handleWindow = driver.getWindowHandle();\n        xpath = &quot;//*[@id=\\&quot;__next\\&quot;]/div/header/ul[1]/li[1]/a&quot;;\n\n        driver.findElement(By.xpath(xpath)).click();\n        Thread.sleep(sleepTime);\n\n        allWindows = driver.getWindowHandles();\n        iterator = allWindows.iterator();\n        while (iterator.hasNext()) {\n            String newURL = iterator.next();\n            if (!handleWindow.equalsIgnoreCase(newURL)) {\n                driver.switchTo().window(newURL);\n                xpath = &quot;//*[@id=\\&quot;__next\\&quot;]/div/section[7]/div/div[1]/div[1]&quot;;\n                element.findElement(By.xpath(xpath));\n                (js = (JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Edit: Before the given code I tried simply navigating to the link and scrolling to element but selenium could not recognize the given locator since it was trying to find it in the original page opened. Now it seems like it's just ignoring my while loop after the first few tests are ran. I'm more so trying to find an explanation as to  where I'm going wrong rather than a direct answer so as to better understand</p>\n<p>Edit1: After reading some more documentation I realize the problem is everything in the while loop is trying to find a window that is already open which I do not want. what I am trying to accomplish is clicking on a link in the first page that leads to a new page and then scroll down the new page to the given element. As stated before simply using .click() to navigate the like and then using the elements xpath on new page does not work as it's trying to find xpath on previous page. any suggestion on how I can identify that xpath would be great. this is w/o while loop:</p>\n<pre><code>\nimport aspirationbase.AspirationBase;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\n\npublic class SearchAspiration extends AspirationBase {\n\n    public SearchAspiration(WebDriver driver) {\n        super(driver);\n    }\n\n    public void viewProducts() throws InterruptedException {\n        xpath = &quot;//*[@id=\\&quot;__next\\&quot;]/div/header/ul[1]/li[1]/a&quot;;\n        driver.findElement(By.xpath(xpath)).click();\n        Thread.sleep(sleepTime);\n        xpath = &quot;//*[@id=\\&quot;__next\\&quot;]/div/section[7]/div/div[1]&quot;;\n        element.findElement(By.xpath(xpath));\n        ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n        Thread.sleep(sleepTime);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3831716,"reputation":24653,"user_id":3177124,"accept_rate":62,"display_name":"abligh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645221674,"creation_date":1645221443,"answer_id":71180320,"question_id":71180292,"body_markdown":"Use `.equals()` (or its inversion) to compare strings in Java not `==` or `!=` . Otherwise you are comparing the instances of the String (whether they are the same object), not the String contents (whether they have the same value).\r\n\r\nFor details, see [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java/513839#513839","title":"What am I missing? If statement executing when it evaluates to false","body":"<p>Use <code>.equals()</code> (or its inversion) to compare strings in Java not <code>==</code> or <code>!=</code> . Otherwise you are comparing the instances of the String (whether they are the same object), not the String contents (whether they have the same value).</p>\n<p>For details, see <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java/513839#513839\">here</a>.</p>\n"}],"owner":{"account_id":9490767,"reputation":1,"user_id":7055666,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1645221625,"answer_count":1,"score":-1,"last_activity_date":1645222085,"creation_date":1645221272,"question_id":71180292,"body_markdown":"```\r\nwhile (currentNode != null) {\r\n\r\n   Letter currentLetter = currentNode.getElement();\r\n\r\n   if (currentLetter.decorator() != &quot;!&quot;) {\r\n\r\n      return false;\r\n\r\n   }\r\n\r\n   currentNode = currentNode.getNext();\r\n\r\n}\r\n\r\nreturn true;\r\n```\r\n\r\nIn the attached picture, you can see currentLetter.decorator() = &quot;!&quot;,\r\nso the if statement should evaluate to false, but the method returns\r\nfalse immediately, meaning the if branch somehow executed. This really shouldn&#39;t be \r\nthat difficult, I must be missing something small because I have no idea why this is\r\nhappening. Any help would be much appreciated.\r\n\r\n[Picture of the code][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/51EeT.png","title":"What am I missing? If statement executing when it evaluates to false","body":"<pre><code>while (currentNode != null) {\n\n   Letter currentLetter = currentNode.getElement();\n\n   if (currentLetter.decorator() != &quot;!&quot;) {\n\n      return false;\n\n   }\n\n   currentNode = currentNode.getNext();\n\n}\n\nreturn true;\n</code></pre>\n<p>In the attached picture, you can see currentLetter.decorator() = &quot;!&quot;,\nso the if statement should evaluate to false, but the method returns\nfalse immediately, meaning the if branch somehow executed. This really shouldn't be\nthat difficult, I must be missing something small because I have no idea why this is\nhappening. Any help would be much appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/51EeT.png\" rel=\"nofollow noreferrer\">Picture of the code</a></p>\n"},{"tags":["java","list","compare"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1645199943,"post_id":71176323,"comment_id":125815568,"body_markdown":"Can you please show the code that&#39;s producing that result?","body":"Can you please show the code that&#39;s producing that result?"},{"owner":{"account_id":24302013,"reputation":1,"user_id":18245347,"display_name":"PG2009"},"score":0,"creation_date":1645204182,"post_id":71176323,"comment_id":125817349,"body_markdown":"i have pasted the code above @ernest_k","body":"i have pasted the code above @ernest_k"}],"answers":[{"tags":[],"owner":{"account_id":24292150,"reputation":13,"user_id":18236965,"display_name":"dantritter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645221863,"creation_date":1645221863,"answer_id":71180369,"question_id":71176323,"body_markdown":"That&#39;s because of the `List&lt;String&gt; listExpected = listActual;` statement: listExpected is a reference now pointing to the listActual, it&#39;s NOT a new, separate list, and so &quot;Collections.sort&quot; sorts listActual, actually. Convince yourself: after &quot;Collections.sort&quot;, put another `System.out.println(listActual);`, I guess you&#39;ll get the sorted list then.\r\nInstead of just putting another reference to the same object (&quot;listExpected = listActual&quot;), create a new list, a real copy of the data, try:\r\n`List&lt;String&gt; listExpected = new ArrayList&lt;String&gt;();\r\nCollections.copy(listExpected, listActual);`\r\n","title":"Compare two lists with same elements but in opposite order using java","body":"<p>That's because of the <code>List&lt;String&gt; listExpected = listActual;</code> statement: listExpected is a reference now pointing to the listActual, it's NOT a new, separate list, and so &quot;Collections.sort&quot; sorts listActual, actually. Convince yourself: after &quot;Collections.sort&quot;, put another <code>System.out.println(listActual);</code>, I guess you'll get the sorted list then.\nInstead of just putting another reference to the same object (&quot;listExpected = listActual&quot;), create a new list, a real copy of the data, try:\n<code>List&lt;String&gt; listExpected = new ArrayList&lt;String&gt;(); Collections.copy(listExpected, listActual);</code></p>\n"}],"owner":{"account_id":24302013,"reputation":1,"user_id":18245347,"display_name":"PG2009"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645221863,"creation_date":1645199677,"question_id":71176323,"body_markdown":"I have two lists `A` and `B` which have same elements but in opposite order like `A = a, b, c, d` and `B = d, c, b, a`. I want to compare these two lists and want result as &quot;not same&quot;. I have tried equals method but its giving me output as &quot;same&quot;.\r\nbelow is the code\r\n\r\n`````````````````````\r\n\r\nWebElement table = driver.findElement(By.xpath(&quot;&quot;));\r\n        List&lt;WebElement&gt; rowsTable = table.findElements(By.xpath(&quot;&quot;));\r\n        List&lt;String&gt; listActual = new ArrayList&lt;String&gt;();\r\n        int rowsCount = rowsTable.size();\r\n        for (int i = 1; i &lt; rowsCount; i++) {\r\n            List&lt;WebElement&gt; rowColumns = (rowsTable.get(i).findElements(By.xpath(&quot;&quot;)));\r\n            listActual.add(rowColumns.get(0).getText());\r\n        }\r\n        System.out.println(listActual);\r\n        List&lt;String&gt; listExpected = listActual;\r\n    \r\n       Collections.sort(listExpected, Collections.reverseOrder(String.CASE_INSENSITIVE_ORDER));\r\n        System.out.println(listExpected);\r\n            if (listExpected.equals(listActual)) {\r\n                System.out.println(&quot;List is sorted&quot;);`\r\n} else {\r\n                System.out.println(&quot;List is not sorted&quot;);\r\n            }\r\n\r\n`````````````````````\r\n","title":"Compare two lists with same elements but in opposite order using java","body":"<p>I have two lists <code>A</code> and <code>B</code> which have same elements but in opposite order like <code>A = a, b, c, d</code> and <code>B = d, c, b, a</code>. I want to compare these two lists and want result as &quot;not same&quot;. I have tried equals method but its giving me output as &quot;same&quot;.\nbelow is the code</p>\n<pre><code>\nWebElement table = driver.findElement(By.xpath(&quot;&quot;));\n        List&lt;WebElement&gt; rowsTable = table.findElements(By.xpath(&quot;&quot;));\n        List&lt;String&gt; listActual = new ArrayList&lt;String&gt;();\n        int rowsCount = rowsTable.size();\n        for (int i = 1; i &lt; rowsCount; i++) {\n            List&lt;WebElement&gt; rowColumns = (rowsTable.get(i).findElements(By.xpath(&quot;&quot;)));\n            listActual.add(rowColumns.get(0).getText());\n        }\n        System.out.println(listActual);\n        List&lt;String&gt; listExpected = listActual;\n    \n       Collections.sort(listExpected, Collections.reverseOrder(String.CASE_INSENSITIVE_ORDER));\n        System.out.println(listExpected);\n            if (listExpected.equals(listActual)) {\n                System.out.println(&quot;List is sorted&quot;);`\n} else {\n                System.out.println(&quot;List is not sorted&quot;);\n            }\n\n</code></pre>\n"},{"tags":["java","stringbuilder","palindrome"],"comments":[{"owner":{"account_id":1742178,"reputation":1756,"user_id":1593272,"accept_rate":56,"display_name":"Anubhab"},"score":0,"creation_date":1362581215,"post_id":15249754,"comment_id":21505949,"body_markdown":"Are you sure your code does not work??Its working fine for me. :D","body":"Are you sure your code does not work??Its working fine for me. :D"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1362587264,"post_id":15249754,"comment_id":21510303,"body_markdown":"Please describe what behavior your expect of a &#39;palindrome checker&#39;. Should it verify if a given string is a palindrome? Or if it contains whitespace-separated palindromes? Or should it just generate the palindrome of the string like your are attempting above? In the latter case, why is it called a &#39;checker&#39;?","body":"Please describe what behavior your expect of a &#39;palindrome checker&#39;. Should it verify if a given string is a palindrome? Or if it contains whitespace-separated palindromes? Or should it just generate the palindrome of the string like your are attempting above? In the latter case, why is it called a &#39;checker&#39;?"}],"answers":[{"tags":[],"owner":{"account_id":1987554,"reputation":8119,"user_id":1782379,"accept_rate":84,"display_name":"bsiamionau"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1362579741,"creation_date":1362579741,"answer_id":15249783,"question_id":15249754,"body_markdown":"Use [`StringBuilder.reverse()`][1] method instead, it works [faster (1378 line)][2] and more correct\r\n\r\n    StringBuilder sb = new StringBuilder(&quot;not a palindrome&quot;);\r\n    System.out.println(sb.reverse());\r\n\r\n*Output:*\r\n\r\n&gt; emordnilap a ton\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#reverse%28%29\r\n  [2]: http://kickjava.com/src/java/lang/AbstractStringBuilder.java.htm","title":"Palindrome Checker using StringBuilder","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#reverse%28%29\" rel=\"noreferrer\"><code>StringBuilder.reverse()</code></a> method instead, it works <a href=\"http://kickjava.com/src/java/lang/AbstractStringBuilder.java.htm\" rel=\"noreferrer\">faster (1378 line)</a> and more correct</p>\n\n<pre><code>StringBuilder sb = new StringBuilder(\"not a palindrome\");\nSystem.out.println(sb.reverse());\n</code></pre>\n\n<p><em>Output:</em></p>\n\n<blockquote>\n  <p>emordnilap a ton</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521486127,"creation_date":1362579801,"answer_id":15249806,"question_id":15249754,"body_markdown":"The `reverse` method is already built into `StringBuilder`\r\n\r\n    public String palindrome (String anyString) {\r\n        StringBuilder sb = new StringBuilder(anyString);\r\n        return sb.reverse().toString();\r\n    }","title":"Palindrome Checker using StringBuilder","body":"<p>The <code>reverse</code> method is already built into <code>StringBuilder</code></p>\n\n<pre><code>public String palindrome (String anyString) {\n    StringBuilder sb = new StringBuilder(anyString);\n    return sb.reverse().toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2808137,"reputation":35560,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464225878,"creation_date":1464225878,"answer_id":37450091,"question_id":15249754,"body_markdown":"    public static boolean isPalindromeNaive(String s){\r\n        StringBuilder sb = new StringBuilder(s);\r\n        StringBuilder sbReverse = sb.reverse();\r\n        if (s.equals(String.valueOf(sbReverse))){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nDoesn&#39;t seem to be what you are looking for but it&#39;s the complete method just for reference.","title":"Palindrome Checker using StringBuilder","body":"<pre><code>public static boolean isPalindromeNaive(String s){\n    StringBuilder sb = new StringBuilder(s);\n    StringBuilder sbReverse = sb.reverse();\n    if (s.equals(String.valueOf(sbReverse))){\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>Doesn't seem to be what you are looking for but it's the complete method just for reference.</p>\n"},{"tags":[],"owner":{"account_id":7605915,"reputation":1,"user_id":5768643,"display_name":"Koder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500051670,"creation_date":1500050219,"answer_id":45107868,"question_id":15249754,"body_markdown":" You should pass the argument in either all in lowerCase or all in UpperCase or You can also write new method for converting **String, StringBuffer, StringBuilder**\r\n\r\n \r\n//Method for remove spaces &quot;\\t&quot; tabsapce and &quot;\\n&quot; newline &quot;\\f&quot;...\r\n   \r\n    private StringBuilder removeUnwanted(StringBuilder strBuild){\r\n                String str = new String(strBuild);\r\n                str = str.replace(&quot;\\n&quot;,&quot;&quot;).replace(&quot;\\t&quot;,&quot;&quot;).replace(&quot;\\f&quot;,&quot;&quot;).replace(&quot; &quot;,&quot;&quot;);\r\n                return new StringBuilder(str);\r\n    }\r\n    public boolean isPal(StringBuilder strBuild){\r\n                int flag = 0;\r\n                strBuild = removeUnwanted(strBuild);\r\n                for(int i = 0;i&lt;strBuild.length()-1;i++){\r\n                        if(strBuild.charAt(i) != strBuild.reverse().charAt(i)){\r\n                                flag = 1;\r\n                                break;\r\n                        }\r\n                }\r\n                if(flag == 0)\r\n                        return true;\r\n                else\r\n                        return false;\r\n    }\r\n\r\n\r\n\r\n","title":"Palindrome Checker using StringBuilder","body":"<p>You should pass the argument in either all in lowerCase or all in UpperCase or You can also write new method for converting <strong>String, StringBuffer, StringBuilder</strong></p>\n\n<p>//Method for remove spaces \"\\t\" tabsapce and \"\\n\" newline \"\\f\"...</p>\n\n<pre><code>private StringBuilder removeUnwanted(StringBuilder strBuild){\n            String str = new String(strBuild);\n            str = str.replace(\"\\n\",\"\").replace(\"\\t\",\"\").replace(\"\\f\",\"\").replace(\" \",\"\");\n            return new StringBuilder(str);\n}\npublic boolean isPal(StringBuilder strBuild){\n            int flag = 0;\n            strBuild = removeUnwanted(strBuild);\n            for(int i = 0;i&lt;strBuild.length()-1;i++){\n                    if(strBuild.charAt(i) != strBuild.reverse().charAt(i)){\n                            flag = 1;\n                            break;\n                    }\n            }\n            if(flag == 0)\n                    return true;\n            else\n                    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500052298,"creation_date":1500052298,"answer_id":45108409,"question_id":15249754,"body_markdown":"This answer allows you to just not count the characters you don&#39;t want.\r\n\r\n    public boolean isPalindrome(String s) {\r\n      for (int left = 0, right = s.length()-1; ; left++, right--) {\r\n        while(left &lt; right &amp;&amp; !isAcceptableCharacter(s.charAt(left))) {\r\n          left++;\r\n        }\r\n        while(left &lt; right &amp;&amp; !isAcceptableCharacter(s.charAt(right))) {\r\n          right++;\r\n        }\r\n        if (left &gt;= right) { return true; }\r\n        if (s.charAt(left) != s.charAt(right)) { return false; }\r\n      }\r\n    }\r\n\r\n    static boolean isAcceptableCharacter(char c) {\r\n      return Character.isLetter(c) || Character.isDigit(c);\r\n    }","title":"Palindrome Checker using StringBuilder","body":"<p>This answer allows you to just not count the characters you don't want.</p>\n\n<pre><code>public boolean isPalindrome(String s) {\n  for (int left = 0, right = s.length()-1; ; left++, right--) {\n    while(left &lt; right &amp;&amp; !isAcceptableCharacter(s.charAt(left))) {\n      left++;\n    }\n    while(left &lt; right &amp;&amp; !isAcceptableCharacter(s.charAt(right))) {\n      right++;\n    }\n    if (left &gt;= right) { return true; }\n    if (s.charAt(left) != s.charAt(right)) { return false; }\n  }\n}\n\nstatic boolean isAcceptableCharacter(char c) {\n  return Character.isLetter(c) || Character.isDigit(c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10986363,"reputation":483,"user_id":8839877,"accept_rate":75,"display_name":"Bikram Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521476014,"creation_date":1521476014,"answer_id":49367577,"question_id":15249754,"body_markdown":"this is the simplest method to check.\r\n\r\n    import java.util.*;\r\n    public class Main {\r\n\r\n    public static void main(String[] args) {\r\n\t// write your code here\r\n        Scanner s = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter the string&quot;);\r\n\r\n        String st1 = s.nextLine();\r\n\r\n        String st2 = Palindrome(st1);\r\n        if (isPalindrome(st1,st2)==true)\r\n        {\r\n            System.out.println(&quot;palindrome&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Not palindrome&quot;);\r\n        }\r\n    }\r\n\r\n    private static String Palindrome(String s) {\r\n        StringBuilder stringBuilder = new StringBuilder(s);\r\n        return String.valueOf(stringBuilder.reverse());\r\n    }\r\n\r\n    private static boolean isPalindrome(String s1, String s2){\r\n        if (s1.equals(s2))\r\n        {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    }","title":"Palindrome Checker using StringBuilder","body":"<p>this is the simplest method to check.</p>\n\n<pre><code>import java.util.*;\npublic class Main {\n\npublic static void main(String[] args) {\n// write your code here\n    Scanner s = new Scanner(System.in);\n\n    System.out.println(\"Enter the string\");\n\n    String st1 = s.nextLine();\n\n    String st2 = Palindrome(st1);\n    if (isPalindrome(st1,st2)==true)\n    {\n        System.out.println(\"palindrome\");\n    }\n    else {\n        System.out.println(\"Not palindrome\");\n    }\n}\n\nprivate static String Palindrome(String s) {\n    StringBuilder stringBuilder = new StringBuilder(s);\n    return String.valueOf(stringBuilder.reverse());\n}\n\nprivate static boolean isPalindrome(String s1, String s2){\n    if (s1.equals(s2))\n    {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10840066,"reputation":483,"user_id":7971629,"display_name":"csoler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625370759,"creation_date":1625370759,"answer_id":68241561,"question_id":15249754,"body_markdown":"If you just want a palindrome checker without String Builder\r\n\r\n    private static boolean isPalindrome(String input) {\r\n    \r\n            for (int i = 0, j = input.length() - 1; j &gt;= i; i++, j--) {\r\n                if (input.charAt(i) != input.charAt(j))\r\n                    return false;\r\n            }\r\n    \r\n            return true;\r\n    }\r\n\r\nBut StringBuilder should work:\r\n\r\n    private static boolean isPalindrome(StringBuilder input) {\r\n        return input.toString().equals(input.reverse().toString());\r\n    }","title":"Palindrome Checker using StringBuilder","body":"<p>If you just want a palindrome checker without String Builder</p>\n<pre><code>private static boolean isPalindrome(String input) {\n\n        for (int i = 0, j = input.length() - 1; j &gt;= i; i++, j--) {\n            if (input.charAt(i) != input.charAt(j))\n                return false;\n        }\n\n        return true;\n}\n</code></pre>\n<p>But StringBuilder should work:</p>\n<pre><code>private static boolean isPalindrome(StringBuilder input) {\n    return input.toString().equals(input.reverse().toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7183458,"reputation":21,"user_id":5486422,"display_name":"Miguel Angel C. Campos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645221660,"creation_date":1642211624,"answer_id":70718315,"question_id":15249754,"body_markdown":"This code works:\r\n\r\n    public boolean isPalindrome(String word){\r\n        return word.equals(new StringBuilder(word).reverse().toString().trim()) ? true : false;\r\n    }","title":"Palindrome Checker using StringBuilder","body":"<p>This code works:</p>\n<pre><code>public boolean isPalindrome(String word){\n    return word.equals(new StringBuilder(word).reverse().toString().trim()) ? true : false;\n}\n</code></pre>\n"}],"owner":{"account_id":2263861,"reputation":573,"user_id":1993177,"accept_rate":40,"display_name":"user1993177"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11008,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":8,"score":5,"last_activity_date":1645221660,"creation_date":1362579639,"question_id":15249754,"body_markdown":"Im trying to create a palindrome checker. I am using a StringBuilder and I&#39;ve discovered that appending spaces are kind of tricky.\r\n\r\nEDIT: are there other ways besides using .reverse()? Thanks for the answers. :D\r\n----------\r\n\r\n\r\nThis code works when the word has no spaces:\r\n\r\n    public String palindrome (String anyString) {\r\n        \r\n    StringBuilder sb = new StringBuilder();\r\n\t\t\r\n\tfor (int i = anyString.length()-1; i&gt;=0; i--) {\r\n\t\t\tsb.append(anyString.charAt(i));\r\n\t}\r\n\t\t\r\n\tString string2 = sb.toString();\r\n\t\t\r\n\treturn string2;\r\n\t}\r\n\r\nWhen the word entered has a space; it returns a string that includes characters up to the first space.\r\n\r\nE.g.:\r\n\r\n    word = &quot;not a palindrome&quot;\r\n    palindrome(word) = &quot;emordnilap&quot;\r\n    \r\n***expected*** = &quot;emordnilap a ton&quot;\r\n\r\n\r\n----------\r\n\r\n\r\nI have tried inserting\r\n\r\n    if (anyString.charAt(i) != &#39; &#39;)\r\n\t    sb.append(anyString.charAt(i));\r\n    else \r\n\t    sb.append(&#39; &#39;);\r\n\r\nat the middle of the code but it doesn&#39;t work.\r\n\r\nThanks guys!","title":"Palindrome Checker using StringBuilder","body":"<p>Im trying to create a palindrome checker. I am using a StringBuilder and I've discovered that appending spaces are kind of tricky.</p>\n\n<h2>EDIT: are there other ways besides using .reverse()? Thanks for the answers. :D</h2>\n\n<p>This code works when the word has no spaces:</p>\n\n<pre><code>public String palindrome (String anyString) {\n\nStringBuilder sb = new StringBuilder();\n\nfor (int i = anyString.length()-1; i&gt;=0; i--) {\n        sb.append(anyString.charAt(i));\n}\n\nString string2 = sb.toString();\n\nreturn string2;\n}\n</code></pre>\n\n<p>When the word entered has a space; it returns a string that includes characters up to the first space.</p>\n\n<p>E.g.:</p>\n\n<pre><code>word = \"not a palindrome\"\npalindrome(word) = \"emordnilap\"\n</code></pre>\n\n<p><em><strong>expected</em></strong> = \"emordnilap a ton\"</p>\n\n<hr>\n\n<p>I have tried inserting</p>\n\n<pre><code>if (anyString.charAt(i) != ' ')\n    sb.append(anyString.charAt(i));\nelse \n    sb.append(' ');\n</code></pre>\n\n<p>at the middle of the code but it doesn't work.</p>\n\n<p>Thanks guys!</p>\n"},{"tags":["java","hibernate","jpql"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1571239539,"post_id":58416770,"comment_id":103176444,"body_markdown":"Idk if that is the cause but you are reusing `a` alias","body":"Idk if that is the cause but you are reusing <code>a</code> alias"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1571239602,"post_id":58416770,"comment_id":103176481,"body_markdown":"Offtopic: `a.name like %:name%` is a performance killer.","body":"Offtopic: <code>a.name like %:name%</code> is a performance killer."},{"owner":{"account_id":3873221,"reputation":33,"user_id":3207976,"display_name":"user3207976"},"score":0,"creation_date":1571240021,"post_id":58416770,"comment_id":103176691,"body_markdown":"thanks, but I thought that if I used (:name IS NULL OR a.name like %:name%) only executes the like if :name value is not null, and I set name null if user do not type nothing. In that way is a performance killer anyway? can I replace with other way?","body":"thanks, but I thought that if I used (:name IS NULL OR a.name like %:name%) only executes the like if :name value is not null, and I set name null if user do not type nothing. In that way is a performance killer anyway? can I replace with other way?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1571251444,"post_id":58416770,"comment_id":103181940,"body_markdown":"it name is null than this clause is out - but if it is not - you will have non-indexed whole table match search.","body":"it name is null than this clause is out - but if it is not - you will have non-indexed whole table match search."}],"answers":[{"tags":[],"owner":{"account_id":3873221,"reputation":33,"user_id":3207976,"display_name":"user3207976"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571376712,"creation_date":1571376712,"answer_id":58444497,"question_id":58416770,"body_markdown":"problem was in this line\r\n\r\n     &quot;WHERE (:arrayStyles IS NULL OR s.idStyle IN (:arrayStyles)) &quot;\r\n\r\nI changed to, and works fine\r\n\r\n    + &quot;WHERE s.idStyle IN (:arrayStyles) &quot;","title":"JPQL query Exception unexpected AST node: {vector}","body":"<p>problem was in this line</p>\n\n<pre><code> \"WHERE (:arrayStyles IS NULL OR s.idStyle IN (:arrayStyles)) \"\n</code></pre>\n\n<p>I changed to, and works fine</p>\n\n<pre><code>+ \"WHERE s.idStyle IN (:arrayStyles) \"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24304969,"reputation":1,"user_id":18247867,"display_name":"Lino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645221029,"creation_date":1645221029,"answer_id":71180246,"question_id":58416770,"body_markdown":"I had to do a work around, creating a Boolean if the List has elements:\r\n\r\n...\r\n\r\n`Boolean shouldValidateList = someList != null &amp;&amp; !someList().isEmpty();`\r\n\r\n...\r\n\r\n`&quot;Where :shouldValidateList = false or FieldInQuestion IN :someList&quot;`\r\n\r\nPs. In my case I had other filters in &quot;where&quot; condition, just the &quot;IN&quot; didn&#39;t work for me. But if it is the only filter, just &quot;IN&quot; works perfectly\r\n","title":"JPQL query Exception unexpected AST node: {vector}","body":"<p>I had to do a work around, creating a Boolean if the List has elements:</p>\n<p>...</p>\n<p><code>Boolean shouldValidateList = someList != null &amp;&amp; !someList().isEmpty();</code></p>\n<p>...</p>\n<p><code>&quot;Where :shouldValidateList = false or FieldInQuestion IN :someList&quot;</code></p>\n<p>Ps. In my case I had other filters in &quot;where&quot; condition, just the &quot;IN&quot; didn't work for me. But if it is the only filter, just &quot;IN&quot; works perfectly</p>\n"}],"owner":{"account_id":3873221,"reputation":33,"user_id":3207976,"display_name":"user3207976"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645221029,"creation_date":1571239405,"question_id":58416770,"body_markdown":"dears, I have a problem working with JPQL query, when I work with IN and a List(Long) I get an error, but no always\r\n\r\n[this is the model][1]\r\n(is minimal model for look the relationships, without all columns)\r\n\r\nand if I do this query in mi repo works fine:\r\n\r\n    @Query(value = &quot;SELECT a FROM Artist a WHERE a.idArtist IN(SELECT a.idArtist FROM ArtistStyle x &quot;\r\n    \t\t\t+ &quot;INNER JOIN x.style s &quot; \r\n    \t\t\t+ &quot;INNER JOIN x.artist a &quot; \r\n    \t\t\t+ &quot;WHERE s.idStyle IN (:arrayStyles))&quot;)\r\n    \tpublic List&lt;Artist&gt; FilterArtistWithStyles(List&lt;Long&gt; arrayStyles);\r\n\r\nbut if I do this query I get and error:\r\n\r\n    @Query(value = &quot;SELECT a FROM Artist a WHERE a.idArtist IN(SELECT a.idArtist FROM ArtistStyle x &quot;\r\n    \t\t\t+ &quot;INNER JOIN x.style s &quot; \r\n    \t\t\t+ &quot;INNER JOIN x.artist a &quot; \r\n    \t\t\t+ &quot;INNER JOIN a.country c &quot; \r\n    \t\t\t+ &quot;INNER JOIN a.aal1 a1 &quot;\r\n    \t\t\t+ &quot;INNER JOIN a.aal2 a2 &quot; \r\n    \t\t\t+ &quot;INNER JOIN a.aal3 a3 &quot; \r\n    \t\t\t+ &quot;WHERE (:arrayStyles IS NULL OR s.idStyle IN (:arrayStyles)) &quot;\r\n    \t\t\t+ &quot;AND (:name IS NULL OR a.name like %:name%)&quot; + &quot;AND (:gender IS NULL OR a.gender = :gender) &quot;\r\n    \t\t\t+ &quot;AND (:experienceFrom IS NULL OR a.workStartYear &lt;= :experienceFrom) &quot;\r\n    \t\t\t+ &quot;AND (:ratingFrom IS NULL OR a.ratingAccordance &gt;= :ratingFrom) &quot;\r\n    \t\t\t+ &quot;AND (:delivery IS NULL OR a.delivery = :delivery) &quot;\r\n    \t\t\t+ &quot;AND (:exchange IS NULL OR a.exchange = :exchange) &quot; + &quot;AND (:courses IS NULL OR a.courses = :courses)&quot;\r\n    \t\t\t+ &quot;AND (:idCountry IS NULL OR c.idCountry = :idCountry)&quot;\r\n    \t\t\t+ &quot;AND (:idAal1 IS NULL OR a1.idAdministrativeAreaLevel1 = :idAal1)&quot;\r\n    \t\t\t+ &quot;AND (:idAal2 IS NULL OR a2.idAdministrativeAreaLevel2 = :idAal2)&quot;\r\n    \t\t\t+ &quot;AND (:idAal3 IS NULL OR a3.idAdministrativeAreaLevel3 = :idAal3)&quot; + &quot;)&quot;)\r\n    \tpublic List&lt;Artist&gt; SearchArtistWithStyles(String name, List&lt;Long&gt; arrayStyles, Integer gender, Integer experienceFrom, Double ratingFrom, Integer delivery,\r\n    \t\t\tInteger exchange, Integer courses, Long idCountry, Long idAal1, Long idAal2, Long idAal3,\r\n    \t\t\tPageable pageable);\r\n\r\nthis is the error: \r\n\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;message&quot;: &quot;org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected AST node: {vector} [SELECT a FROM com.mushroomstudios.skink.entities.Artist a WHERE a.idArtist IN(SELECT a.idArtist FROM com.mushroomstudios.skink.entities.ArtistStyle x INNER JOIN x.style s INNER JOIN x.artist a INNER JOIN a.country c INNER JOIN a.aal1 a1 INNER JOIN a.aal2 a2 INNER JOIN a.aal3 a3 WHERE (:arrayStyles_0, :arrayStyles_1, :arrayStyles_2 IS NULL OR s.idStyle IN (:arrayStyles_0, :arrayStyles_1, :arrayStyles_2)) AND (:name IS NULL OR a.name like :name)AND (:gender IS NULL OR a.gender = :gender) AND (:experienceFrom IS NULL OR a.workStartYear &lt;= :experienceFrom) AND (:ratingFrom IS NULL OR a.ratingAccordance &gt;= :ratingFrom) AND (:delivery IS NULL OR a.delivery = :delivery) AND (:exchange IS NULL OR a.exchange = :exchange) AND (:courses IS NULL OR a.courses = :courses)AND (:idCountry IS NULL OR c.idCountry = :idCountry)AND (:idAal1 IS NULL OR a1.idAdministrativeAreaLevel1 = :idAal1)AND (:idAal2 IS NULL OR a2.idAdministrativeAreaLevel2 = :idAal2)AND (:idAal3 IS NULL OR a3.idAdministrativeAreaLevel3 = :idAal3)) order by a.name asc]; nested exception is java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected AST node: {vector} [SELECT a FROM com.mushroomstudios.skink.entities.Artist a WHERE a.idArtist IN(SELECT a.idArtist FROM com.mushroomstudios.skink.entities.ArtistStyle x INNER JOIN x.style s INNER JOIN x.artist a INNER JOIN a.country c INNER JOIN a.aal1 a1 INNER JOIN a.aal2 a2 INNER JOIN a.aal3 a3 WHERE (:arrayStyles_0, :arrayStyles_1, :arrayStyles_2 IS NULL OR s.idStyle IN (:arrayStyles_0, :arrayStyles_1, :arrayStyles_2)) AND (:name IS NULL OR a.name like :name)AND (:gender IS NULL OR a.gender = :gender) AND (:experienceFrom IS NULL OR a.workStartYear &lt;= :experienceFrom) AND (:ratingFrom IS NULL OR a.ratingAccordance &gt;= :ratingFrom) AND (:delivery IS NULL OR a.delivery = :delivery) AND (:exchange IS NULL OR a.exchange = :exchange) AND (:courses IS NULL OR a.courses = :courses)AND (:idCountry IS NULL OR c.idCountry = :idCountry)AND (:idAal1 IS NULL OR a1.idAdministrativeAreaLevel1 = :idAal1)AND (:idAal2 IS NULL OR a2.idAdministrativeAreaLevel2 = :idAal2)AND (:idAal3 IS NULL OR a3.idAdministrativeAreaLevel3 = :idAal3)) order by a.name asc]&quot;,\r\n\r\nfinally, if I do that query, works fine too:\r\n\r\n    @Query(value = &quot;SELECT a FROM Artist a &quot; + &quot;INNER JOIN a.country c &quot; \r\n    \t\t\t+ &quot;INNER JOIN a.aal1 a1 &quot;\r\n    \t\t\t+ &quot;INNER JOIN a.aal2 a2 &quot; \r\n    \t\t\t+ &quot;INNER JOIN a.aal3 a3 &quot; \r\n    \t\t\t+ &quot;WHERE (:name IS NULL OR a.name like %:name%) &quot;\r\n    \t\t\t+ &quot;AND (:gender IS NULL OR a.gender = :gender) &quot;\r\n    \t\t\t+ &quot;AND (:experienceFrom IS NULL OR a.workStartYear &lt;= :experienceFrom) &quot;\r\n    \t\t\t+ &quot;AND (:ratingFrom IS NULL OR a.ratingAccordance &gt;= :ratingFrom) &quot;\r\n    \t\t\t+ &quot;AND (:delivery IS NULL OR a.delivery = :delivery) &quot;\r\n    \t\t\t+ &quot;AND (:exchange IS NULL OR a.exchange = :exchange) &quot; + &quot;AND (:courses IS NULL OR a.courses = :courses)&quot;\r\n    \t\t\t+ &quot;AND (:idCountry IS NULL OR c.idCountry = :idCountry)&quot;\r\n    \t\t\t+ &quot;AND (:idAal1 IS NULL OR a1.idAdministrativeAreaLevel1 = :idAal1)&quot;\r\n    \t\t\t+ &quot;AND (:idAal2 IS NULL OR a2.idAdministrativeAreaLevel2 = :idAal2)&quot;\r\n    \t\t\t+ &quot;AND (:idAal3 IS NULL OR a3.idAdministrativeAreaLevel3 = :idAal3)&quot;)\r\n    \tpublic List&lt;Artist&gt; SearchArtist(String name, Integer gender, Integer experienceFrom, Double ratingFrom,\r\n    \t\t\tInteger delivery, Integer exchange, Integer courses, Long idCountry, Long idAal1, Long idAal2, Long idAal3,\r\n    \t\t\tPageable pageable);\r\n\r\nthere are something bad in the second query? If you need more info like entity or other thing please let me know, thanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hSSpf.png","title":"JPQL query Exception unexpected AST node: {vector}","body":"<p>dears, I have a problem working with JPQL query, when I work with IN and a List(Long) I get an error, but no always</p>\n\n<p><a href=\"https://i.stack.imgur.com/hSSpf.png\" rel=\"nofollow noreferrer\">this is the model</a>\n(is minimal model for look the relationships, without all columns)</p>\n\n<p>and if I do this query in mi repo works fine:</p>\n\n<pre><code>@Query(value = \"SELECT a FROM Artist a WHERE a.idArtist IN(SELECT a.idArtist FROM ArtistStyle x \"\n            + \"INNER JOIN x.style s \" \n            + \"INNER JOIN x.artist a \" \n            + \"WHERE s.idStyle IN (:arrayStyles))\")\n    public List&lt;Artist&gt; FilterArtistWithStyles(List&lt;Long&gt; arrayStyles);\n</code></pre>\n\n<p>but if I do this query I get and error:</p>\n\n<pre><code>@Query(value = \"SELECT a FROM Artist a WHERE a.idArtist IN(SELECT a.idArtist FROM ArtistStyle x \"\n            + \"INNER JOIN x.style s \" \n            + \"INNER JOIN x.artist a \" \n            + \"INNER JOIN a.country c \" \n            + \"INNER JOIN a.aal1 a1 \"\n            + \"INNER JOIN a.aal2 a2 \" \n            + \"INNER JOIN a.aal3 a3 \" \n            + \"WHERE (:arrayStyles IS NULL OR s.idStyle IN (:arrayStyles)) \"\n            + \"AND (:name IS NULL OR a.name like %:name%)\" + \"AND (:gender IS NULL OR a.gender = :gender) \"\n            + \"AND (:experienceFrom IS NULL OR a.workStartYear &lt;= :experienceFrom) \"\n            + \"AND (:ratingFrom IS NULL OR a.ratingAccordance &gt;= :ratingFrom) \"\n            + \"AND (:delivery IS NULL OR a.delivery = :delivery) \"\n            + \"AND (:exchange IS NULL OR a.exchange = :exchange) \" + \"AND (:courses IS NULL OR a.courses = :courses)\"\n            + \"AND (:idCountry IS NULL OR c.idCountry = :idCountry)\"\n            + \"AND (:idAal1 IS NULL OR a1.idAdministrativeAreaLevel1 = :idAal1)\"\n            + \"AND (:idAal2 IS NULL OR a2.idAdministrativeAreaLevel2 = :idAal2)\"\n            + \"AND (:idAal3 IS NULL OR a3.idAdministrativeAreaLevel3 = :idAal3)\" + \")\")\n    public List&lt;Artist&gt; SearchArtistWithStyles(String name, List&lt;Long&gt; arrayStyles, Integer gender, Integer experienceFrom, Double ratingFrom, Integer delivery,\n            Integer exchange, Integer courses, Long idCountry, Long idAal1, Long idAal2, Long idAal3,\n            Pageable pageable);\n</code></pre>\n\n<p>this is the error: </p>\n\n<pre><code>\"status\": 500,\n\"error\": \"Internal Server Error\",\n\"message\": \"org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected AST node: {vector} [SELECT a FROM com.mushroomstudios.skink.entities.Artist a WHERE a.idArtist IN(SELECT a.idArtist FROM com.mushroomstudios.skink.entities.ArtistStyle x INNER JOIN x.style s INNER JOIN x.artist a INNER JOIN a.country c INNER JOIN a.aal1 a1 INNER JOIN a.aal2 a2 INNER JOIN a.aal3 a3 WHERE (:arrayStyles_0, :arrayStyles_1, :arrayStyles_2 IS NULL OR s.idStyle IN (:arrayStyles_0, :arrayStyles_1, :arrayStyles_2)) AND (:name IS NULL OR a.name like :name)AND (:gender IS NULL OR a.gender = :gender) AND (:experienceFrom IS NULL OR a.workStartYear &lt;= :experienceFrom) AND (:ratingFrom IS NULL OR a.ratingAccordance &gt;= :ratingFrom) AND (:delivery IS NULL OR a.delivery = :delivery) AND (:exchange IS NULL OR a.exchange = :exchange) AND (:courses IS NULL OR a.courses = :courses)AND (:idCountry IS NULL OR c.idCountry = :idCountry)AND (:idAal1 IS NULL OR a1.idAdministrativeAreaLevel1 = :idAal1)AND (:idAal2 IS NULL OR a2.idAdministrativeAreaLevel2 = :idAal2)AND (:idAal3 IS NULL OR a3.idAdministrativeAreaLevel3 = :idAal3)) order by a.name asc]; nested exception is java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected AST node: {vector} [SELECT a FROM com.mushroomstudios.skink.entities.Artist a WHERE a.idArtist IN(SELECT a.idArtist FROM com.mushroomstudios.skink.entities.ArtistStyle x INNER JOIN x.style s INNER JOIN x.artist a INNER JOIN a.country c INNER JOIN a.aal1 a1 INNER JOIN a.aal2 a2 INNER JOIN a.aal3 a3 WHERE (:arrayStyles_0, :arrayStyles_1, :arrayStyles_2 IS NULL OR s.idStyle IN (:arrayStyles_0, :arrayStyles_1, :arrayStyles_2)) AND (:name IS NULL OR a.name like :name)AND (:gender IS NULL OR a.gender = :gender) AND (:experienceFrom IS NULL OR a.workStartYear &lt;= :experienceFrom) AND (:ratingFrom IS NULL OR a.ratingAccordance &gt;= :ratingFrom) AND (:delivery IS NULL OR a.delivery = :delivery) AND (:exchange IS NULL OR a.exchange = :exchange) AND (:courses IS NULL OR a.courses = :courses)AND (:idCountry IS NULL OR c.idCountry = :idCountry)AND (:idAal1 IS NULL OR a1.idAdministrativeAreaLevel1 = :idAal1)AND (:idAal2 IS NULL OR a2.idAdministrativeAreaLevel2 = :idAal2)AND (:idAal3 IS NULL OR a3.idAdministrativeAreaLevel3 = :idAal3)) order by a.name asc]\",\n</code></pre>\n\n<p>finally, if I do that query, works fine too:</p>\n\n<pre><code>@Query(value = \"SELECT a FROM Artist a \" + \"INNER JOIN a.country c \" \n            + \"INNER JOIN a.aal1 a1 \"\n            + \"INNER JOIN a.aal2 a2 \" \n            + \"INNER JOIN a.aal3 a3 \" \n            + \"WHERE (:name IS NULL OR a.name like %:name%) \"\n            + \"AND (:gender IS NULL OR a.gender = :gender) \"\n            + \"AND (:experienceFrom IS NULL OR a.workStartYear &lt;= :experienceFrom) \"\n            + \"AND (:ratingFrom IS NULL OR a.ratingAccordance &gt;= :ratingFrom) \"\n            + \"AND (:delivery IS NULL OR a.delivery = :delivery) \"\n            + \"AND (:exchange IS NULL OR a.exchange = :exchange) \" + \"AND (:courses IS NULL OR a.courses = :courses)\"\n            + \"AND (:idCountry IS NULL OR c.idCountry = :idCountry)\"\n            + \"AND (:idAal1 IS NULL OR a1.idAdministrativeAreaLevel1 = :idAal1)\"\n            + \"AND (:idAal2 IS NULL OR a2.idAdministrativeAreaLevel2 = :idAal2)\"\n            + \"AND (:idAal3 IS NULL OR a3.idAdministrativeAreaLevel3 = :idAal3)\")\n    public List&lt;Artist&gt; SearchArtist(String name, Integer gender, Integer experienceFrom, Double ratingFrom,\n            Integer delivery, Integer exchange, Integer courses, Long idCountry, Long idAal1, Long idAal2, Long idAal3,\n            Pageable pageable);\n</code></pre>\n\n<p>there are something bad in the second query? If you need more info like entity or other thing please let me know, thanks in advance</p>\n"},{"tags":["java","intellij-14"],"answers":[{"tags":[],"owner":{"account_id":4256604,"reputation":18866,"user_id":3482140,"accept_rate":83,"display_name":"Am_I_Helpful"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645220956,"creation_date":1645220956,"answer_id":71180235,"question_id":71180200,"body_markdown":"The fix done by the IDE was not about setting parameter label, but instead adding the new() for ensuring the constructor call.\r\n\r\nWhat you additionally see there is a feature of IntelliJ to show method&#39;s parameter hints/labels for easy understanding (readability) of the code. You can read more about parameter hints here: https://www.jetbrains.com/help/webstorm/viewing-method-parameter-information.html.","title":"How to add parameter label in IntelliJ?","body":"<p>The fix done by the IDE was not about setting parameter label, but instead adding the new() for ensuring the constructor call.</p>\n<p>What you additionally see there is a feature of IntelliJ to show method's parameter hints/labels for easy understanding (readability) of the code. You can read more about parameter hints here: <a href=\"https://www.jetbrains.com/help/webstorm/viewing-method-parameter-information.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/webstorm/viewing-method-parameter-information.html</a>.</p>\n"}],"owner":{"display_name":"user11582989"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71180235,"answer_count":1,"score":0,"last_activity_date":1645220956,"creation_date":1645220738,"question_id":71180200,"body_markdown":"I just started using IntelliJ and while creating my first class and method I noticed something. When I wrote ```GomokuClient(4000);``` to call on a class from a imported library I of course got a error for the code not being complete, so I pressed the little red bulb to see the issue, and I selected the recommended fix. The fix looked like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow I&#39;m wondering, how do I write the ```portNumber:```label in the parameter myself for other methods. Looked really nice and very helpful, and I&#39;d like to know how to do this myself.\r\n\r\nthanks beforehand!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2hSM1.png","title":"How to add parameter label in IntelliJ?","body":"<p>I just started using IntelliJ and while creating my first class and method I noticed something. When I wrote <code>GomokuClient(4000);</code> to call on a class from a imported library I of course got a error for the code not being complete, so I pressed the little red bulb to see the issue, and I selected the recommended fix. The fix looked like this:</p>\n<p><a href=\"https://i.stack.imgur.com/2hSM1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2hSM1.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I'm wondering, how do I write the <code>portNumber:</code>label in the parameter myself for other methods. Looked really nice and very helpful, and I'd like to know how to do this myself.</p>\n<p>thanks beforehand!</p>\n"},{"tags":["java","selenium","xpath","iframe","css-selectors"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645220842,"creation_date":1645220842,"answer_id":71180215,"question_id":71176697,"body_markdown":"To send a _character sequence_ within the `&lt;p&gt; &lt;br&gt; &lt;/p&gt;` as the the desired element is within an [_iframe_](https://stackoverflow.com/a/53276478/7429447) you have to:\r\n\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the desired [_frameToBeAvailableAndSwitchToIt_](https://stackoverflow.com/a/51621710/7429447).\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/50621712/7429447) for the desired [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447).\r\n- You can use either of the following [_locator strategies_](https://stackoverflow.com/a/48376890/7429447):\r\n - Using _cssSelector_:\r\n\r\n\t   new WebDriverWait(driver, 10).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[class*=&#39;cke_reset&#39;][title^=&#39;Rich Text Editor&#39;][aria-describedby^=&#39;cke&#39;][src]&quot;)));\r\n\t   new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;body.cke_editable.cke_editable_themed.cke_contents_ltr[contenteditable=&#39;true&#39;]&quot;))).sendKeys(&quot;Martin&quot;);\r\n\r\n - Using _xpath_:\r\n\r\n\t   new WebDriverWait(driver, 10).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[contains(@class, &#39;cke_reset&#39;) and starts-with(@title, &#39;Rich Text Editor&#39;)][starts-with(@aria-describedby, &#39;cke&#39;) and @src]&quot;)));\r\n\t   new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//body[@class=&#39;cke_editable cke_editable_themed cke_contents_ltr&#39; and @contenteditable=&#39;true&#39;]&quot;))).sendKeys(&quot;Martin&quot;);\r\n\t\t\t\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nReference\r\n---------\r\nYou can find a couple of relevant discussions in:\r\n\r\n- [Is it possible to switch to an element in a frame without using driver.switchTo().frame(“frameName”) in Selenium Webdriver Java?](https://stackoverflow.com/a/47472200/7429447)\r\n- [Is there any solution to bypass the cookie iframe by using selenium webdriver?](https://stackoverflow.com/a/63831871/7429447)","title":"Problem with clicking and filling text within the frame","body":"<p>To send a <em>character sequence</em> within the <code>&lt;p&gt; &lt;br&gt; &lt;/p&gt;</code> as the the desired element is within an <a href=\"https://stackoverflow.com/a/53276478/7429447\"><em>iframe</em></a> you have to:</p>\n<ul>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the desired <a href=\"https://stackoverflow.com/a/51621710/7429447\"><em>frameToBeAvailableAndSwitchToIt</em></a>.</p>\n</li>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/50621712/7429447\">WebDriverWait</a> for the desired <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a>.</p>\n</li>\n<li><p>You can use either of the following <a href=\"https://stackoverflow.com/a/48376890/7429447\"><em>locator strategies</em></a>:</p>\n</li>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>new WebDriverWait(driver, 10).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[class*='cke_reset'][title^='Rich Text Editor'][aria-describedby^='cke'][src]&quot;)));\nnew WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;body.cke_editable.cke_editable_themed.cke_contents_ltr[contenteditable='true']&quot;))).sendKeys(&quot;Martin&quot;);\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>new WebDriverWait(driver, 10).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[contains(@class, 'cke_reset') and starts-with(@title, 'Rich Text Editor')][starts-with(@aria-describedby, 'cke') and @src]&quot;)));\nnew WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//body[@class='cke_editable cke_editable_themed cke_contents_ltr' and @contenteditable='true']&quot;))).sendKeys(&quot;Martin&quot;);\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>Reference</h2>\n<p>You can find a couple of relevant discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/47472200/7429447\">Is it possible to switch to an element in a frame without using driver.switchTo().frame(“frameName”) in Selenium Webdriver Java?</a></li>\n<li><a href=\"https://stackoverflow.com/a/63831871/7429447\">Is there any solution to bypass the cookie iframe by using selenium webdriver?</a></li>\n</ul>\n"}],"owner":{"account_id":24302038,"reputation":1,"user_id":18245373,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645220842,"creation_date":1645201150,"question_id":71176697,"body_markdown":"I wrote a few lines of code to automate the filling of the fields in the form. For this purpose I used selectors, I also used .xpath e.g.\r\n\r\n    Driver.findElement(By.cssSelector(&quot;#login&quot;)).click();\r\n    Driver.findElement(By.cssSelector(&quot;#login&quot;)).sendKeys\r\n\r\nI have come to the point where I want to add text in the field (inside frame?) for adding text, or preferably paste the text. However, for the sake of rehearsals. I want to click inside the box and fill it with the word TEST.\r\n\r\n[The frame with the text editor inside looks like this][1]\r\n\r\nI have already tried to click on it through the selector, through .xpath (full .xpath also) but still nothing happens.\r\n\r\nThis is what this iframe code looks like\r\n\r\n    &lt;iframe src=&quot;&quot; frameborder=&quot;0&quot; class=&quot;cke_wysiwyg_frame cke_reset&quot; style=&quot;width: 578px; height: 100%;&quot; title=&quot;Rich Text Editor, content&quot; aria-describedby=&quot;cke_25&quot; tabindex=&quot;0&quot; allowtransparency=&quot;true&quot;&gt;&lt;/iframe&gt;\r\n\r\nSnapshot of the frame:\r\n\r\n![Larger iframe fragment][3] (highlighted where text padding appears: `&lt;p&gt; &lt;br&gt; &lt;/p&gt;`)\r\n\r\n  [1]: https://i.stack.imgur.com/Xwhag.png\r\n  [2]: https://stackoverflow.com/questions/31102096/webdriver-how-to-locate-iframe-without-id\r\n  [3]: https://i.stack.imgur.com/hkHCO.jpg\r\n\r\n I found advice on iframe without id on the forum ([here][2]), but trying to implement them also does not bring the effect of clicking inside this frame and supplementing it with even simple text.\r\n\r\nInterestingly, and maybe helpful with the help of the Selenium IDE plugin for Google Chrome, I recorded and recreated the fragment of what I want to do, i.e. clicking on the frame and entering the text. The recording and replay of these movements works fine, but it has led me to no clue as to how I can solve my problem.","title":"Problem with clicking and filling text within the frame","body":"<p>I wrote a few lines of code to automate the filling of the fields in the form. For this purpose I used selectors, I also used .xpath e.g.</p>\n<pre><code>Driver.findElement(By.cssSelector(&quot;#login&quot;)).click();\nDriver.findElement(By.cssSelector(&quot;#login&quot;)).sendKeys\n</code></pre>\n<p>I have come to the point where I want to add text in the field (inside frame?) for adding text, or preferably paste the text. However, for the sake of rehearsals. I want to click inside the box and fill it with the word TEST.</p>\n<p><a href=\"https://i.stack.imgur.com/Xwhag.png\" rel=\"nofollow noreferrer\">The frame with the text editor inside looks like this</a></p>\n<p>I have already tried to click on it through the selector, through .xpath (full .xpath also) but still nothing happens.</p>\n<p>This is what this iframe code looks like</p>\n<pre><code>&lt;iframe src=&quot;&quot; frameborder=&quot;0&quot; class=&quot;cke_wysiwyg_frame cke_reset&quot; style=&quot;width: 578px; height: 100%;&quot; title=&quot;Rich Text Editor, content&quot; aria-describedby=&quot;cke_25&quot; tabindex=&quot;0&quot; allowtransparency=&quot;true&quot;&gt;&lt;/iframe&gt;\n</code></pre>\n<p>Snapshot of the frame:</p>\n<p><img src=\"https://i.stack.imgur.com/hkHCO.jpg\" alt=\"Larger iframe fragment\" /> (highlighted where text padding appears: <code>&lt;p&gt; &lt;br&gt; &lt;/p&gt;</code>)</p>\n<p>I found advice on iframe without id on the forum (<a href=\"https://stackoverflow.com/questions/31102096/webdriver-how-to-locate-iframe-without-id\">here</a>), but trying to implement them also does not bring the effect of clicking inside this frame and supplementing it with even simple text.</p>\n<p>Interestingly, and maybe helpful with the help of the Selenium IDE plugin for Google Chrome, I recorded and recreated the fragment of what I want to do, i.e. clicking on the frame and entering the text. The recording and replay of these movements works fine, but it has led me to no clue as to how I can solve my problem.</p>\n"},{"tags":["java","angular","spring-boot","file","download"],"comments":[{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1615303631,"post_id":66535399,"comment_id":117646178,"body_markdown":"Can you add `getDosyaIndir` method to the question?","body":"Can you add <code>getDosyaIndir</code> method to the question?"},{"owner":{"account_id":10788944,"reputation":151,"user_id":7937106,"display_name":"zdnmn"},"score":0,"creation_date":1615354979,"post_id":66535399,"comment_id":117662077,"body_markdown":"getDosyaIndir =getFileDownload soryy there was a spelling mistake.","body":"getDosyaIndir =getFileDownload soryy there was a spelling mistake."}],"answers":[{"tags":[],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1615356038,"creation_date":1615356038,"answer_id":66559158,"question_id":66535399,"body_markdown":"The following function will accept any file type and popup download window:\r\n```js\r\ndownloadFile(route: string, filename: string = null): void{\r\n\r\n    const baseUrl = &#39;http://myserver/index.php/api&#39;;\r\n    const token = &#39;my JWT&#39;;\r\n    const headers = new HttpHeaders().set(&#39;authorization&#39;,&#39;Bearer &#39;+token);\r\n    this.http.get(baseUrl + route,{headers, responseType: &#39;blob&#39; as &#39;json&#39;}).subscribe(\r\n        (response: any) =&gt;{\r\n            let dataType = response.type;\r\n            let binaryData = [];\r\n            binaryData.push(response);\r\n            let downloadLink = document.createElement(&#39;a&#39;);\r\n            downloadLink.href = window.URL.createObjectURL(new Blob(binaryData, {type: dataType}));\r\n            if (filename)\r\n                downloadLink.setAttribute(&#39;download&#39;, filename);\r\n            document.body.appendChild(downloadLink);\r\n            downloadLink.click();\r\n        }\r\n    )\r\n}\r\n```","title":"File Download Error(service angular spring boot)","body":"<p>The following function will accept any file type and popup download window:</p>\n<pre class=\"lang-js prettyprint-override\"><code>downloadFile(route: string, filename: string = null): void{\n\n    const baseUrl = 'http://myserver/index.php/api';\n    const token = 'my JWT';\n    const headers = new HttpHeaders().set('authorization','Bearer '+token);\n    this.http.get(baseUrl + route,{headers, responseType: 'blob' as 'json'}).subscribe(\n        (response: any) =&gt;{\n            let dataType = response.type;\n            let binaryData = [];\n            binaryData.push(response);\n            let downloadLink = document.createElement('a');\n            downloadLink.href = window.URL.createObjectURL(new Blob(binaryData, {type: dataType}));\n            if (filename)\n                downloadLink.setAttribute('download', filename);\n            document.body.appendChild(downloadLink);\n            downloadLink.click();\n        }\n    )\n}\n</code></pre>\n"}],"owner":{"account_id":10788944,"reputation":151,"user_id":7937106,"display_name":"zdnmn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645220725,"accepted_answer_id":66559158,"answer_count":1,"score":0,"last_activity_date":1645220731,"creation_date":1615229022,"question_id":66535399,"body_markdown":"downloading files with angular8 and spring boot. Spring boot service part worked with Postman. But when I download with angular, I get an error.[error][1]\r\n\r\nIt does not appear in the console.log (&quot;File response:&quot;, response) section.\r\n\r\n     downloadFile(event) {\r\n            this.additionalDocumentService.getFileDownload(event.fileId).subscribe(response =&gt; {\r\n              console.log(&quot;File response:&quot;,response)\r\n              this.downloadFile = response;\r\n        \r\n              \r\n            });\r\n          }\r\n          \r\n*************\r\n \r\n\r\n       getFileDownload(fileId: number): Observable&lt;any&gt; {\r\n        return this.http.get(apiHost + &#39;/downloadFile/&#39; + fileId);\r\n    \r\n      }\r\n*********\r\n\r\n    @RequestMapping(&quot;/downloadFile/{dosyaId}&quot;)\r\n            public ResponseEntity&lt;HttpStatus&gt; handleFileDownloadPage(HttpServletRequest request, HttpServletResponse response, @PathVariable(value = &quot;fileId&quot;) Integer fileId) throws IOException, Exception {\r\n        \r\n               \r\n                File file = fileService.getFileId(fileId);\r\n        \t\t\r\n                if (StringUtils.hasText(dosya.getFilePath())) {\r\n        \r\n                    ServletOutputStream out = response.getOutputStream();\r\n        \r\n                    InputStream stream = null;\r\n                    try {\r\n        -\r\n                        stream = new FileInputStream(file.getFilePath());\r\n                       \r\n                        int bytesRead = 0;\r\n                        byte[] buffer = new byte[8192];\r\n                        response.setContentType(&quot;application/octet-stream&quot;);\r\n                        response.setHeader(&quot;Content-Disposition&quot;, String.format(&quot; attachment; filename=\\&quot;%s\\&quot;&quot;, file.getFileName()));\r\n        \r\n                        while ((bytesRead = stream.read(buffer, 0, 8192)) != -1) {\r\n                            out.write(buffer, 0, bytesRead);\r\n                        }\r\n                        out.flush();\r\n        \r\n                    } catch (Exception e) {\r\n                        System.err.println(e.toString());\r\n                    } finally {\r\n                        out.close();\r\n                        if (stream != null) {\r\n                            stream.close();\r\n                        }\r\n                    }\r\n                    return null;\r\n        \r\n                }\r\n                return ResponseEntity.ok(HttpStatus.OK);\r\n            }\r\n    \r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tDUNM.png","title":"File Download Error(service angular spring boot)","body":"<p>downloading files with angular8 and spring boot. Spring boot service part worked with Postman. But when I download with angular, I get an error.<a href=\"https://i.stack.imgur.com/tDUNM.png\" rel=\"nofollow noreferrer\">error</a></p>\n<p>It does not appear in the console.log (&quot;File response:&quot;, response) section.</p>\n<pre><code> downloadFile(event) {\n        this.additionalDocumentService.getFileDownload(event.fileId).subscribe(response =&gt; {\n          console.log(&quot;File response:&quot;,response)\n          this.downloadFile = response;\n    \n          \n        });\n      }\n      \n</code></pre>\n<hr />\n<pre><code>   getFileDownload(fileId: number): Observable&lt;any&gt; {\n    return this.http.get(apiHost + '/downloadFile/' + fileId);\n\n  }\n</code></pre>\n<hr />\n<pre><code>@RequestMapping(&quot;/downloadFile/{dosyaId}&quot;)\n        public ResponseEntity&lt;HttpStatus&gt; handleFileDownloadPage(HttpServletRequest request, HttpServletResponse response, @PathVariable(value = &quot;fileId&quot;) Integer fileId) throws IOException, Exception {\n    \n           \n            File file = fileService.getFileId(fileId);\n            \n            if (StringUtils.hasText(dosya.getFilePath())) {\n    \n                ServletOutputStream out = response.getOutputStream();\n    \n                InputStream stream = null;\n                try {\n    -\n                    stream = new FileInputStream(file.getFilePath());\n                   \n                    int bytesRead = 0;\n                    byte[] buffer = new byte[8192];\n                    response.setContentType(&quot;application/octet-stream&quot;);\n                    response.setHeader(&quot;Content-Disposition&quot;, String.format(&quot; attachment; filename=\\&quot;%s\\&quot;&quot;, file.getFileName()));\n    \n                    while ((bytesRead = stream.read(buffer, 0, 8192)) != -1) {\n                        out.write(buffer, 0, bytesRead);\n                    }\n                    out.flush();\n    \n                } catch (Exception e) {\n                    System.err.println(e.toString());\n                } finally {\n                    out.close();\n                    if (stream != null) {\n                        stream.close();\n                    }\n                }\n                return null;\n    \n            }\n            return ResponseEntity.ok(HttpStatus.OK);\n        }\n</code></pre>\n"},{"tags":["java","apache","excel","apache-poi"],"comments":[{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":1,"creation_date":1370446181,"post_id":16943493,"comment_id":24464402,"body_markdown":"Have you checked these two Q&amp;A? [1](http://stackoverflow.com/questions/11573993/setting-column-width-in-apache-poi/11574647), [2](http://stackoverflow.com/questions/7412457/crash-when-calling-autosizecolumn-on-worksheet-when-run-under-linux-servicemix/12517025#12517025) ... it has probably something todo with the used font","body":"Have you checked these two Q&amp;A? <a href=\"http://stackoverflow.com/questions/11573993/setting-column-width-in-apache-poi/11574647\">1</a>, <a href=\"http://stackoverflow.com/questions/7412457/crash-when-calling-autosizecolumn-on-worksheet-when-run-under-linux-servicemix/12517025#12517025\">2</a> ... it has probably something todo with the used font"},{"owner":{"account_id":960501,"reputation":750,"user_id":984963,"accept_rate":87,"display_name":"Jaws212"},"score":0,"creation_date":1370446956,"post_id":16943493,"comment_id":24464970,"body_markdown":"@kiwiwings I use the default font (Calibri) which is in Windows just fine. I&#39;ll try changing the font to something else and post the results, but I didn&#39;t think it would be font.","body":"@kiwiwings I use the default font (Calibri) which is in Windows just fine. I&#39;ll try changing the font to something else and post the results, but I didn&#39;t think it would be font."},{"owner":{"account_id":64861,"reputation":17406,"user_id":191259,"accept_rate":100,"display_name":"Shaded"},"score":2,"creation_date":1370458644,"post_id":16943493,"comment_id":24471583,"body_markdown":"Can you try using the `Serif` font (or verify if you already have) and see if that works? I have a feeling this is related to the fonts that Java is aware of.","body":"Can you try using the <code>Serif</code> font (or verify if you already have) and see if that works? I have a feeling this is related to the fonts that Java is aware of."},{"owner":{"account_id":960501,"reputation":750,"user_id":984963,"accept_rate":87,"display_name":"Jaws212"},"score":0,"creation_date":1370463271,"post_id":16943493,"comment_id":24473960,"body_markdown":"Serif worked. I never tried something that generic, but I guess I should have. Thanks","body":"Serif worked. I never tried something that generic, but I guess I should have. Thanks"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1370469095,"post_id":16943493,"comment_id":24476954,"body_markdown":"Have you checked that Java can see all the fonts your system has?","body":"Have you checked that Java can see all the fonts your system has?"},{"owner":{"account_id":4172764,"reputation":748,"user_id":3420149,"accept_rate":67,"display_name":"akinKaplanoglu"},"score":1,"creation_date":1417080065,"post_id":16943493,"comment_id":42825715,"body_markdown":"Can you share us your working code here ? @Jaws212","body":"Can you share us your working code here ? @Jaws212"},{"owner":{"account_id":4219020,"reputation":690,"user_id":3454439,"accept_rate":57,"display_name":"Just a HK developer"},"score":0,"creation_date":1500952160,"post_id":16943493,"comment_id":77548302,"body_markdown":"Does dot net face the same issue?","body":"Does dot net face the same issue?"}],"answers":[{"tags":[],"owner":{"account_id":64861,"reputation":17406,"user_id":191259,"accept_rate":100,"display_name":"Shaded"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1371221577,"creation_date":1371221577,"answer_id":17111312,"question_id":16943493,"body_markdown":"Just to make an answer out of my comment. The rows couldn&#39;t size properly because Java was unaware of the font you were trying to use [this link](http://www.cis.upenn.edu/~bcpierce/courses/629/jdkdocs/guide/intl/fontprop.html) should help if you want to install new fonts into Java so you could use something fancier. It also has the list of default fonts that Java knows.\r\n\r\nGlad this helped and you got your issue solved!","title":"Apache POI autoSizeColumn Resizes Incorrectly","body":"<p>Just to make an answer out of my comment. The rows couldn't size properly because Java was unaware of the font you were trying to use <a href=\"http://www.cis.upenn.edu/~bcpierce/courses/629/jdkdocs/guide/intl/fontprop.html\" rel=\"noreferrer\">this link</a> should help if you want to install new fonts into Java so you could use something fancier. It also has the list of default fonts that Java knows.</p>\n\n<p>Glad this helped and you got your issue solved!</p>\n"},{"tags":[],"owner":{"account_id":2915600,"reputation":41,"user_id":2498884,"display_name":"Aldo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493022876,"creation_date":1371591299,"answer_id":17179406,"question_id":16943493,"body_markdown":"I had a similar issue on Windows 7.\r\n\r\nI was using the Calibri font (that is supported in my JVM).\r\nWith that font the `getBounds().getWidth()` of the `java.awt.font.TextLayout` used by the `autoSizeColumn()` POI method returns 0.\r\n\r\nChanging the font to Calibri-Regular solved the issue in my case.","title":"Apache POI autoSizeColumn Resizes Incorrectly","body":"<p>I had a similar issue on Windows 7.</p>\n\n<p>I was using the Calibri font (that is supported in my JVM).\nWith that font the <code>getBounds().getWidth()</code> of the <code>java.awt.font.TextLayout</code> used by the <code>autoSizeColumn()</code> POI method returns 0.</p>\n\n<p>Changing the font to Calibri-Regular solved the issue in my case.</p>\n"},{"tags":[],"owner":{"account_id":1069912,"reputation":5754,"user_id":1069454,"display_name":"Sebastien"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1557656005,"creation_date":1410723633,"answer_id":25837278,"question_id":16943493,"body_markdown":"This is probably related to [this POI Bug][1] which is related to [Java Bug JDK-8013716: Renderer for Calibri and Cambria Fonts fails since update 45][2].\r\n\r\nIn this case changing the Font or using JRE above 6u45 / 7u21 should fix the issue.\r\n\r\nYou can also mtigitate the issue and avoid the columns from being totally collapsed by using a code like this:\r\n\r\n        sheet.autoSizeColumn(x);\r\n\r\n        if (sheet.getColumnWidth(x) == 0) {\r\n          // autosize failed use MIN_WIDTH\r\n          sheet.setColumnWidth(x, MIN_WIDTH);\r\n        }\r\n\r\n  [1]: https://issues.apache.org/bugzilla/show_bug.cgi?id=55644\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8013716","title":"Apache POI autoSizeColumn Resizes Incorrectly","body":"<p>This is probably related to <a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=55644\" rel=\"nofollow noreferrer\">this POI Bug</a> which is related to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8013716\" rel=\"nofollow noreferrer\">Java Bug JDK-8013716: Renderer for Calibri and Cambria Fonts fails since update 45</a>.</p>\n\n<p>In this case changing the Font or using JRE above 6u45 / 7u21 should fix the issue.</p>\n\n<p>You can also mtigitate the issue and avoid the columns from being totally collapsed by using a code like this:</p>\n\n<pre><code>    sheet.autoSizeColumn(x);\n\n    if (sheet.getColumnWidth(x) == 0) {\n      // autosize failed use MIN_WIDTH\n      sheet.setColumnWidth(x, MIN_WIDTH);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5436088,"reputation":185,"user_id":4325533,"accept_rate":18,"display_name":"davyjones"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453285303,"creation_date":1453285303,"answer_id":34897329,"question_id":16943493,"body_markdown":"Here are my 2 cents - \r\n\r\nI was using the default font (Arial in my case) using it to make certain fields bold in the xls. Worked like a charm in Windows along with autoSizeColumn() function. \r\n\r\nLinux wasn&#39;t that forgiving. The auto-sizing was improper at places. After going through this thread and other I came up with the following solution.\r\n\r\nI copied the Arial font&#39;s .tff files into the **JAVA/jre/lib/fonts** directory and re-ran the application. Worked just fine.\r\n","title":"Apache POI autoSizeColumn Resizes Incorrectly","body":"<p>Here are my 2 cents - </p>\n\n<p>I was using the default font (Arial in my case) using it to make certain fields bold in the xls. Worked like a charm in Windows along with autoSizeColumn() function. </p>\n\n<p>Linux wasn't that forgiving. The auto-sizing was improper at places. After going through this thread and other I came up with the following solution.</p>\n\n<p>I copied the Arial font's .tff files into the <strong>JAVA/jre/lib/fonts</strong> directory and re-ran the application. Worked just fine.</p>\n"},{"tags":[],"owner":{"account_id":4730334,"reputation":211,"user_id":3826169,"display_name":"Stosh15"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1455636963,"creation_date":1455636963,"answer_id":35436664,"question_id":16943493,"body_markdown":"I was also running into this issue and this was my solution.\r\n\r\nSteps:\r\n\r\n 1. Create workbook\r\n 2. Create spreadsheet\r\n 3. Create row\r\n 4. Create/Set font to &quot;Arial&quot;\r\n 5. Create/Set style with font\r\n 6. Create/Set cell with value and style\r\n 7. autoSizeColumn\r\n 8. Create File\r\n\r\nCode:\r\n\r\n    // initialize objects\r\n\tXSSFWorkbook workbook = new XSSFWorkbook(); \r\n\tXSSFSheet spreadsheet = workbook.createSheet(sheetName);\r\n\tXSSFRow row = spreadsheet.createRow(0);\r\n\tXSSFCell cell;\r\n\t\t    \r\n\t// font/style\r\n\tXSSFFont font = workbook.createFont();\r\n\tfont.setFontName(&quot;Arial&quot;);\r\n\tXSSFCellStyle style = workbook.createCellStyle();\r\n\tstyle.setFont(font);\r\n\r\n    // create/set cell &amp; style\r\n    cell = row.createCell(0);\r\n    cell.setCellValue(&quot;New Cell&quot;);\r\n    cell.setCellStyle(style);\r\n\r\n    // auto size\r\n    spreadsheet.autoSizeColumn(0);\r\n\r\n    // create file\r\n    File aFile = new File(&quot;Your Filename&quot;);\r\n    FileOutputStream out = new FileOutputStream(aFile);\r\n\tworkbook.write(out);\r\n\r\nResources:\r\n\r\nhttp://www.tutorialspoint.com/apache_poi/index.htm","title":"Apache POI autoSizeColumn Resizes Incorrectly","body":"<p>I was also running into this issue and this was my solution.</p>\n\n<p>Steps:</p>\n\n<ol>\n<li>Create workbook</li>\n<li>Create spreadsheet</li>\n<li>Create row</li>\n<li>Create/Set font to \"Arial\"</li>\n<li>Create/Set style with font</li>\n<li>Create/Set cell with value and style</li>\n<li>autoSizeColumn</li>\n<li>Create File</li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>// initialize objects\nXSSFWorkbook workbook = new XSSFWorkbook(); \nXSSFSheet spreadsheet = workbook.createSheet(sheetName);\nXSSFRow row = spreadsheet.createRow(0);\nXSSFCell cell;\n\n// font/style\nXSSFFont font = workbook.createFont();\nfont.setFontName(\"Arial\");\nXSSFCellStyle style = workbook.createCellStyle();\nstyle.setFont(font);\n\n// create/set cell &amp; style\ncell = row.createCell(0);\ncell.setCellValue(\"New Cell\");\ncell.setCellStyle(style);\n\n// auto size\nspreadsheet.autoSizeColumn(0);\n\n// create file\nFile aFile = new File(\"Your Filename\");\nFileOutputStream out = new FileOutputStream(aFile);\nworkbook.write(out);\n</code></pre>\n\n<p>Resources:</p>\n\n<p><a href=\"http://www.tutorialspoint.com/apache_poi/index.htm\" rel=\"noreferrer\">http://www.tutorialspoint.com/apache_poi/index.htm</a></p>\n"},{"tags":[],"owner":{"account_id":879549,"reputation":3274,"user_id":173755,"display_name":"Heather Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459603947,"creation_date":1459603947,"answer_id":36373932,"question_id":16943493,"body_markdown":"I found that auto-sizing didn&#39;t make the column wide enough when the widest string began with spaces, e.g.\r\n\r\n    cell.setCellValue(&quot;   New Cell&quot;);\r\n\r\nThis can be fixed by using indentations instead, e.g.\r\n\r\n    // font/style\r\n    XSSFFont font = workbook.createFont();\r\n    font.setFontName(&quot;Arial&quot;);\r\n    XSSFCellStyle style = workbook.createCellStyle();\r\n    style.setFont(font);\r\n    style.setIndention((short)2);\r\n\r\n    // create/set cell &amp; style\r\n    cell = row.createCell(0);\r\n    cell.setCellValue(&quot;New Cell&quot;);\r\n    cell.setCellStyle(style);\r\n\r\n    // auto size\r\n    spreadsheet.autoSizeColumn(0);","title":"Apache POI autoSizeColumn Resizes Incorrectly","body":"<p>I found that auto-sizing didn't make the column wide enough when the widest string began with spaces, e.g.</p>\n\n<pre><code>cell.setCellValue(\"   New Cell\");\n</code></pre>\n\n<p>This can be fixed by using indentations instead, e.g.</p>\n\n<pre><code>// font/style\nXSSFFont font = workbook.createFont();\nfont.setFontName(\"Arial\");\nXSSFCellStyle style = workbook.createCellStyle();\nstyle.setFont(font);\nstyle.setIndention((short)2);\n\n// create/set cell &amp; style\ncell = row.createCell(0);\ncell.setCellValue(\"New Cell\");\ncell.setCellStyle(style);\n\n// auto size\nspreadsheet.autoSizeColumn(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3774187,"reputation":41,"user_id":3135458,"display_name":"Sergio A Guzm&#225;n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465586222,"creation_date":1465586222,"answer_id":37755698,"question_id":16943493,"body_markdown":"I&#39;ve used Helvetica font trying to replace Arial font (in fact, Helvetica is similar to Arial).\r\n\r\n    XSSFFont font = wb.createFont();\r\n    font.setFontName(&quot;Helvetica&quot;);\r\n","title":"Apache POI autoSizeColumn Resizes Incorrectly","body":"<p>I've used Helvetica font trying to replace Arial font (in fact, Helvetica is similar to Arial).</p>\n\n<pre><code>XSSFFont font = wb.createFont();\nfont.setFontName(\"Helvetica\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13506638,"reputation":1925,"user_id":9744452,"display_name":"Vikki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525934307,"creation_date":1525932537,"answer_id":50266567,"question_id":16943493,"body_markdown":"The following works for me.\r\n\r\nI set the font and use autoSizeColumn() after enter all the data.\r\n\r\n\r\n        public static XSSFWorkbook createExcel(List&lt;ChannelVodFileInfoList&gt; resList) {\r\n        XSSFWorkbook hwb = new XSSFWorkbook();\r\n        String[] title = { &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;};\r\n\r\n        XSSFSheet sheet = hwb.createSheet(&quot;dataStats&quot;);\r\n   \r\n        XSSFRow firstrow = sheet.createRow(0);\r\n        for (int i = 0; i &lt; title.length; i++) {\r\n            XSSFCell xh = firstrow.createCell(i);\r\n            xh.setCellValue(title[i]);\r\n        }\r\n\r\n        if (resList == null || resList.size() == 0) {\r\n            return hwb;\r\n        }\r\n\r\n        for (int i = 0; i &lt; resList.size(); i++) {\r\n            ChannelVodFileInfoList doTemp = resList.get(i);\r\n            XSSFRow row = sheet.createRow(i + 1);\r\n            for (int j = 0; j &lt; title.length; j++) {\r\n                XSSFCell cell = row.createCell(j);\r\n                Font font111 = hwb.createFont();\r\n                font111.setBoldweight(Font.BOLDWEIGHT_NORMAL); \r\n                XSSFCellStyle cellStyle111 = hwb.createCellStyle();\r\n                cellStyle111.setFont(font111);\r\n                cell.setCellStyle(cellStyle111);\r\n\r\n                if (j == 0) { \r\n                    cell.setCellValue(dateStr);\r\n                } else if (j == 1) {  \r\n                    cell.setCellValue(doTemp.getChannelName()); \r\n                }else if (j == 2) {  \r\n                    cell.setCellValue(doTemp.getBitrate()); \r\n                }else if (j == 3) {  \r\n                    cell.setCellValue(doTemp.getWh()); \r\n                }\r\n             }\r\n\r\n            for (int j = 0; j &lt; title.length; j++) {\r\n               sheet.autoSizeColumn(j);\r\n            }\r\n\r\n        return hwb;\r\n    }","title":"Apache POI autoSizeColumn Resizes Incorrectly","body":"<p>The following works for me.</p>\n\n<p>I set the font and use autoSizeColumn() after enter all the data.</p>\n\n<pre><code>    public static XSSFWorkbook createExcel(List&lt;ChannelVodFileInfoList&gt; resList) {\n    XSSFWorkbook hwb = new XSSFWorkbook();\n    String[] title = { \"1\", \"2\", \"3\", \"4\"};\n\n    XSSFSheet sheet = hwb.createSheet(\"dataStats\");\n\n    XSSFRow firstrow = sheet.createRow(0);\n    for (int i = 0; i &lt; title.length; i++) {\n        XSSFCell xh = firstrow.createCell(i);\n        xh.setCellValue(title[i]);\n    }\n\n    if (resList == null || resList.size() == 0) {\n        return hwb;\n    }\n\n    for (int i = 0; i &lt; resList.size(); i++) {\n        ChannelVodFileInfoList doTemp = resList.get(i);\n        XSSFRow row = sheet.createRow(i + 1);\n        for (int j = 0; j &lt; title.length; j++) {\n            XSSFCell cell = row.createCell(j);\n            Font font111 = hwb.createFont();\n            font111.setBoldweight(Font.BOLDWEIGHT_NORMAL); \n            XSSFCellStyle cellStyle111 = hwb.createCellStyle();\n            cellStyle111.setFont(font111);\n            cell.setCellStyle(cellStyle111);\n\n            if (j == 0) { \n                cell.setCellValue(dateStr);\n            } else if (j == 1) {  \n                cell.setCellValue(doTemp.getChannelName()); \n            }else if (j == 2) {  \n                cell.setCellValue(doTemp.getBitrate()); \n            }else if (j == 3) {  \n                cell.setCellValue(doTemp.getWh()); \n            }\n         }\n\n        for (int j = 0; j &lt; title.length; j++) {\n           sheet.autoSizeColumn(j);\n        }\n\n    return hwb;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6022505,"reputation":3558,"user_id":4729203,"accept_rate":88,"display_name":"wonsuc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627374960,"creation_date":1627374960,"answer_id":68541544,"question_id":16943493,"body_markdown":"A Hacky Way\r\n-----------\r\n\r\nMy case was after auto-sizing, those cells were slightly smaller than the width of the actual content. \r\n\r\nWhat I did is just added extra 200 widths after the `autoSizeColumn` method is being called. \r\n\r\n    sheet.autoSizeColumn(columnIndex);\r\n    sheet.setColumnWidth(columnIndex, sheet.getColumnWidth(columnIndex) + 200);\r\n\r\nThis worked fine for me :)","title":"Apache POI autoSizeColumn Resizes Incorrectly","body":"<h2 id=\"a-hacky-way\">A Hacky Way</h2>\n<p>My case was after auto-sizing, those cells were slightly smaller than the width of the actual content.</p>\n<p>What I did is just added extra 200 widths after the <code>autoSizeColumn</code> method is being called.</p>\n<pre><code>sheet.autoSizeColumn(columnIndex);\nsheet.setColumnWidth(columnIndex, sheet.getColumnWidth(columnIndex) + 200);\n</code></pre>\n<p>This worked fine for me :)</p>\n"},{"tags":[],"owner":{"account_id":13016975,"reputation":197,"user_id":9407809,"display_name":"Kevin Crum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645220059,"creation_date":1645220059,"answer_id":71180100,"question_id":16943493,"body_markdown":"In the event users are running into the issue where they have a sheet with both cells and merged cells, Gagravarr&#39;s answer on this post really helped me: \r\n\r\nhttps://stackoverflow.com/a/31425163/9407809\r\n\r\nPosting here for future users looking for this. ","title":"Apache POI autoSizeColumn Resizes Incorrectly","body":"<p>In the event users are running into the issue where they have a sheet with both cells and merged cells, Gagravarr's answer on this post really helped me:</p>\n<p><a href=\"https://stackoverflow.com/a/31425163/9407809\">https://stackoverflow.com/a/31425163/9407809</a></p>\n<p>Posting here for future users looking for this.</p>\n"}],"owner":{"account_id":960501,"reputation":750,"user_id":984963,"accept_rate":87,"display_name":"Jaws212"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54969,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":17111312,"answer_count":10,"score":32,"last_activity_date":1645220059,"creation_date":1370445000,"question_id":16943493,"body_markdown":"I&#39;m using Apache POI in java to create an excel file. I fill in the data then try to autosize each column, however the sizes are always wrong (and I *think* consistent). The first two rows are always(?) completely collapsed. When I autosize the columns in excel, it works perfectly.\r\n\r\nNo blank cells are being written (I believe) and the resizing is the **last** thing I do.\r\n\r\n&lt;b&gt;Here&#39;s the relevant code:&lt;/b&gt; This is a boiled down version without error handling, etc.\r\n\r\n    public static synchronized String storeResults(ArrayList&lt;String&gt; resultList, String file) {\r\n        if (resultList == null || resultList.size() == 0) {\r\n            return file;\r\n        }\r\n        FileOutputStream stream = new FileOutputStream(file);\r\n        \r\n        //Create workbook and result sheet\r\n        XSSFWorkbook book = new XSSFWorkbook();\r\n        Sheet results = book.createSheet(&quot;Results&quot;);\r\n        \r\n        //Write results to workbook\r\n        for (int x = 0; x &lt; resultList.size(); x++) {\r\n            String[] items = resultList.get(x).split(PRIM_DELIM);\r\n\r\n            Row row = results.createRow(x);\r\n            for (int i = 0; i &lt; items.length; i++) {\r\n                row.createCell(i).setCellValue(items[i]);\r\n            }\r\n        }\r\n        \r\n        //Auto size all the columns\r\n        for (x = 0; x &lt; results.getRow(0).getPhysicalNumberOfCells(); x++) {\r\n            results.autoSizeColumn(x);\r\n        }\r\n        \r\n        //Write the book and close the stream\r\n        book.write(stream);\r\n        stream.flush();\r\n        stream.close();\r\n\r\n        return file;\r\n    }\r\n\r\nI know there are a few questions out there similar, but most of them are simply a case of sizing before filling in the data. And the few that aren&#39;t are more complicated/unanswered.\r\n\r\n**EDIT:** I tried using a couple different fonts and it didn&#39;t work. Which isn&#39;t too surprising, as no matter what the font either all the columns should be completely collapsed or none should be.\r\n\r\nAlso, because the font issue came up, I&#39;m running the program on Windows 7.\r\n\r\n**SOLVED:** It was a font issue. The only font that I found that worked was Serif.\r\n\r\n","title":"Apache POI autoSizeColumn Resizes Incorrectly","body":"<p>I'm using Apache POI in java to create an excel file. I fill in the data then try to autosize each column, however the sizes are always wrong (and I <em>think</em> consistent). The first two rows are always(?) completely collapsed. When I autosize the columns in excel, it works perfectly.</p>\n\n<p>No blank cells are being written (I believe) and the resizing is the <strong>last</strong> thing I do.</p>\n\n<p><b>Here's the relevant code:</b> This is a boiled down version without error handling, etc.</p>\n\n<pre><code>public static synchronized String storeResults(ArrayList&lt;String&gt; resultList, String file) {\n    if (resultList == null || resultList.size() == 0) {\n        return file;\n    }\n    FileOutputStream stream = new FileOutputStream(file);\n\n    //Create workbook and result sheet\n    XSSFWorkbook book = new XSSFWorkbook();\n    Sheet results = book.createSheet(\"Results\");\n\n    //Write results to workbook\n    for (int x = 0; x &lt; resultList.size(); x++) {\n        String[] items = resultList.get(x).split(PRIM_DELIM);\n\n        Row row = results.createRow(x);\n        for (int i = 0; i &lt; items.length; i++) {\n            row.createCell(i).setCellValue(items[i]);\n        }\n    }\n\n    //Auto size all the columns\n    for (x = 0; x &lt; results.getRow(0).getPhysicalNumberOfCells(); x++) {\n        results.autoSizeColumn(x);\n    }\n\n    //Write the book and close the stream\n    book.write(stream);\n    stream.flush();\n    stream.close();\n\n    return file;\n}\n</code></pre>\n\n<p>I know there are a few questions out there similar, but most of them are simply a case of sizing before filling in the data. And the few that aren't are more complicated/unanswered.</p>\n\n<p><strong>EDIT:</strong> I tried using a couple different fonts and it didn't work. Which isn't too surprising, as no matter what the font either all the columns should be completely collapsed or none should be.</p>\n\n<p>Also, because the font issue came up, I'm running the program on Windows 7.</p>\n\n<p><strong>SOLVED:</strong> It was a font issue. The only font that I found that worked was Serif.</p>\n"},{"tags":["java","spring-mvc","vert.x","content-disposition"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1603103398,"post_id":64425407,"comment_id":113920647,"body_markdown":"Why are you using a `Reader`? `Reader`s are strictly for text files. An Excel file is *not* a text file (it&#39;s a compressed archive of several files).","body":"Why are you using a <code>Reader</code>? <code>Reader</code>s are strictly for text files. An Excel file is <i>not</i> a text file (it&#39;s a compressed archive of several files)."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1603104059,"post_id":64425407,"comment_id":113920908,"body_markdown":"why not just put the file into resources/static directory and let spring server it as a static file? why would you need java code at all?","body":"why not just put the file into resources/static directory and let spring server it as a static file? why would you need java code at all?"},{"owner":{"account_id":11218816,"reputation":725,"user_id":8230537,"accept_rate":100,"display_name":"Rollsbean"},"score":0,"creation_date":1603112595,"post_id":64425407,"comment_id":113924759,"body_markdown":"@RealSkeptic I forgot to update stream after change csv to excel","body":"@RealSkeptic I forgot to update stream after change csv to excel"},{"owner":{"account_id":11218816,"reputation":725,"user_id":8230537,"accept_rate":100,"display_name":"Rollsbean"},"score":0,"creation_date":1603112744,"post_id":64425407,"comment_id":113924841,"body_markdown":"@eis because this is a toB project that it will deploy to other companies, to simplify the deploy flow,  so i put file into jar not external directory.","body":"@eis because this is a toB project that it will deploy to other companies, to simplify the deploy flow,  so i put file into jar not external directory."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1603129179,"post_id":64425407,"comment_id":113932707,"body_markdown":"@KDFinal but that&#39;s not what I asked. you can have them into jar, in resources/static directory and server as static files.","body":"@KDFinal but that&#39;s not what I asked. you can have them into jar, in resources/static directory and server as static files."}],"answers":[{"tags":[],"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1603103884,"creation_date":1603103884,"answer_id":64425645,"question_id":64425407,"body_markdown":"DO NOT in this case USE java.io.Reader for this!\r\n\r\nxlsx files are binary (technically they&#39;re zip files).\r\n\r\nUsing Reader will corrupt the data\r\n\r\n    public void downloadExcelTemplate(RoutingContext routingContext) {\r\n    \r\n            String fileName = &quot;a.xlsx&quot;;\r\n            String path = &quot;template&quot; + File.separator+fileName;\r\n    \r\n            HttpServerResponse response = routingContext.response();\r\n            try(final InputStream inputStream = \r\n                    this.getClass().getClassLoader().getResourceAsStream(path);\r\n                final BufferedInputStream in =\r\n                    new BufferedInputStream(inputStream); ) {\r\n                // Use the actual content type for the file\r\n                response.putHeader(&quot;content-type&quot;, \r\n                    &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\r\n    \r\n                response.putHeader(&quot;Content-Disposition&quot;, \r\n                     &quot;attachment;filename=&quot; + \r\n                       new String(fileName.getBytes(), StandardCharsets.ISO_8859_1));\r\n                response.putHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n                response.putHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n                response.setChunked(true);\r\n    \r\n                // Vert.x Buffer Object\r\n                Buffer buffer = Buffer.buffer()\r\n                byte[] rawBuffer = new byte[1024];\r\n                int numRead;\r\n                while((numRead = is.read(rawBuffer, 0, rawBuffer.length)) != -1) {\r\n                    response.appendBytes(rawBuffer, 0, numRead);\r\n                }\r\n                response.write(buffer);\r\n            } catch (IOException e) {\r\n                logger.error(&quot;error： &quot;, e);\r\n            }\r\n            response.end();\r\n        }\r\n    }\r\n\r\n","title":"How to download existed xlsx file from jar in java","body":"<p>DO NOT in this case USE java.io.Reader for this!</p>\n<p>xlsx files are binary (technically they're zip files).</p>\n<p>Using Reader will corrupt the data</p>\n<pre><code>public void downloadExcelTemplate(RoutingContext routingContext) {\n\n        String fileName = &quot;a.xlsx&quot;;\n        String path = &quot;template&quot; + File.separator+fileName;\n\n        HttpServerResponse response = routingContext.response();\n        try(final InputStream inputStream = \n                this.getClass().getClassLoader().getResourceAsStream(path);\n            final BufferedInputStream in =\n                new BufferedInputStream(inputStream); ) {\n            // Use the actual content type for the file\n            response.putHeader(&quot;content-type&quot;, \n                &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\n\n            response.putHeader(&quot;Content-Disposition&quot;, \n                 &quot;attachment;filename=&quot; + \n                   new String(fileName.getBytes(), StandardCharsets.ISO_8859_1));\n            response.putHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\n            response.putHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n            response.setChunked(true);\n\n            // Vert.x Buffer Object\n            Buffer buffer = Buffer.buffer()\n            byte[] rawBuffer = new byte[1024];\n            int numRead;\n            while((numRead = is.read(rawBuffer, 0, rawBuffer.length)) != -1) {\n                response.appendBytes(rawBuffer, 0, numRead);\n            }\n            response.write(buffer);\n        } catch (IOException e) {\n            logger.error(&quot;error： &quot;, e);\n        }\n        response.end();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17532494,"reputation":88,"user_id":12716256,"display_name":"Allen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1603104114,"creation_date":1603104114,"answer_id":64425709,"question_id":64425407,"body_markdown":"Nice to reply to you. \r\nFirst, you ought to consider the MVN package to a jar lead to your excel that can not open.\r\n\r\nThen, you can try another source path to access.\r\n\r\nFinally, you can try to movie the excel at the jar&#39;s same file directory to access. I think that is OK. \r\n                                           My best to you. Allen","title":"How to download existed xlsx file from jar in java","body":"<p>Nice to reply to you.\nFirst, you ought to consider the MVN package to a jar lead to your excel that can not open.</p>\n<p>Then, you can try another source path to access.</p>\n<p>Finally, you can try to movie the excel at the jar's same file directory to access. I think that is OK.\nMy best to you. Allen</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603112325,"creation_date":1603112325,"answer_id":64427842,"question_id":64425407,"body_markdown":"Resource paths are case-sensitive and use a slash (`/`) as path separator.\r\n\r\nThe response is a binary file, not a text. Hence it must loaded by an InputStream, and written by an OutputStream. Readers and Writers are for Unicode text and always imply a charset conversion for the binary bytes. Which would corrupt things or at least make them slow.\r\n\r\n    public void downloadExcelTemplate(RoutingContext routingContext) {\r\n\r\n        String fileName = &quot;a.xlsx&quot;;\r\n        String path = &quot;template/&quot; + fileName;\r\n\r\n        HttpServerResponse response = routingContext.response();\r\n        try {\r\n            URL url = getClass().getClassLoader().getResource(path);\r\n            Path path = Paths.get(url.toURI());\r\n\r\n            response.putHeader(&quot;Content-Type&quot;, &quot;application/octet-stream;charset=UTF-8&quot;);\r\n            response.putHeader(&quot;Content-Disposition&quot;,\r\n                &quot;attachment;filename=&quot; + URLEncoder.encode(fileName,&quot;ISO-8859-1&quot;));\r\n            response.putHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n            response.putHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n            response.setChunked(true);\r\n\r\n            // It would have been nice to do just: Files.copy(path, response.getOutputStream());\r\n            byte[] content = Files.readAllBytes(path);\r\n            Buffer buffer = Buffer.buffer(content);\r\n            response.write(buffer);\r\n        } catch (IOException e) {\r\n            logger.error(&quot;error： &quot;, e);\r\n        }\r\n        response.end();\r\n    }\r\n\r\nNot sure what the effect is of &quot;;charset=UTF-8&quot; for the content type. That Excel internally uses UTF-8? Should not be needed.","title":"How to download existed xlsx file from jar in java","body":"<p>Resource paths are case-sensitive and use a slash (<code>/</code>) as path separator.</p>\n<p>The response is a binary file, not a text. Hence it must loaded by an InputStream, and written by an OutputStream. Readers and Writers are for Unicode text and always imply a charset conversion for the binary bytes. Which would corrupt things or at least make them slow.</p>\n<pre><code>public void downloadExcelTemplate(RoutingContext routingContext) {\n\n    String fileName = &quot;a.xlsx&quot;;\n    String path = &quot;template/&quot; + fileName;\n\n    HttpServerResponse response = routingContext.response();\n    try {\n        URL url = getClass().getClassLoader().getResource(path);\n        Path path = Paths.get(url.toURI());\n\n        response.putHeader(&quot;Content-Type&quot;, &quot;application/octet-stream;charset=UTF-8&quot;);\n        response.putHeader(&quot;Content-Disposition&quot;,\n            &quot;attachment;filename=&quot; + URLEncoder.encode(fileName,&quot;ISO-8859-1&quot;));\n        response.putHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\n        response.putHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n        response.setChunked(true);\n\n        // It would have been nice to do just: Files.copy(path, response.getOutputStream());\n        byte[] content = Files.readAllBytes(path);\n        Buffer buffer = Buffer.buffer(content);\n        response.write(buffer);\n    } catch (IOException e) {\n        logger.error(&quot;error： &quot;, e);\n    }\n    response.end();\n}\n</code></pre>\n<p>Not sure what the effect is of &quot;;charset=UTF-8&quot; for the content type. That Excel internally uses UTF-8? Should not be needed.</p>\n"}],"owner":{"account_id":11218816,"reputation":725,"user_id":8230537,"accept_rate":100,"display_name":"Rollsbean"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64425645,"answer_count":3,"score":0,"last_activity_date":1645219741,"creation_date":1603102897,"question_id":64425407,"body_markdown":"I put Excel file in `resources/template/a.xlsx`, i package it with `mvn package`, i want to and a API to download a.xlsx from this jar.\r\n\r\nMy API:\r\n```\r\npublic void downloadExcelTemplate(RoutingContext routingContext) {\r\n\r\n        String fileName = &quot;a.xlsx&quot;;\r\n        String path = &quot;template&quot; + File.separator+fileName;\r\n\r\n        HttpServerResponse response = routingContext.response();\r\n        try {\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(this.getClass().getClassLoader().getResourceAsStream(path)));\r\n            StringBuffer buffer = new StringBuffer();\r\n            String line = &quot;&quot;;\r\n            while ((line = in.readLine()) != null){\r\n                buffer.append(line);\r\n            }\r\n            response.putHeader(&quot;content-type&quot;, &quot;application/octet-stream;charset=UTF-8&quot;);\r\n\r\n            response.putHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + new String(fileName.getBytes(), StandardCharsets.ISO_8859_1));\r\n            response.putHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n            response.putHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n            response.setChunked(true);\r\n            response.write(buffer.toString());\r\n        } catch (IOException e) {\r\n            logger.error(&quot;error： &quot;, e);\r\n        }\r\n        response.end();\r\n    }\r\n```\r\n\r\nI use vertx.web and Spring, poi dependency is:\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;3.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n            &lt;version&gt;3.17-beta1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;3.17-beta1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-excelant&lt;/artifactId&gt;\r\n            &lt;version&gt;3.17-beta1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\r\n            &lt;version&gt;3.17-beta1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI think SpringMVC and vertx.web is same in download, but when i try to download, the download xlsx file couldn&#39;t be open.","title":"How to download existed xlsx file from jar in java","body":"<p>I put Excel file in <code>resources/template/a.xlsx</code>, i package it with <code>mvn package</code>, i want to and a API to download a.xlsx from this jar.</p>\n<p>My API:</p>\n<pre><code>public void downloadExcelTemplate(RoutingContext routingContext) {\n\n        String fileName = &quot;a.xlsx&quot;;\n        String path = &quot;template&quot; + File.separator+fileName;\n\n        HttpServerResponse response = routingContext.response();\n        try {\n            BufferedReader in = new BufferedReader(new InputStreamReader(this.getClass().getClassLoader().getResourceAsStream(path)));\n            StringBuffer buffer = new StringBuffer();\n            String line = &quot;&quot;;\n            while ((line = in.readLine()) != null){\n                buffer.append(line);\n            }\n            response.putHeader(&quot;content-type&quot;, &quot;application/octet-stream;charset=UTF-8&quot;);\n\n            response.putHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + new String(fileName.getBytes(), StandardCharsets.ISO_8859_1));\n            response.putHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\n            response.putHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n            response.setChunked(true);\n            response.write(buffer.toString());\n        } catch (IOException e) {\n            logger.error(&quot;error： &quot;, e);\n        }\n        response.end();\n    }\n</code></pre>\n<p>I use vertx.web and Spring, poi dependency is:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n            &lt;version&gt;3.17-beta1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.17-beta1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-excelant&lt;/artifactId&gt;\n            &lt;version&gt;3.17-beta1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\n            &lt;version&gt;3.17-beta1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I think SpringMVC and vertx.web is same in download, but when i try to download, the download xlsx file couldn't be open.</p>\n"},{"tags":["java","android","apk","android-app-bundle","bundletool"],"answers":[{"tags":[],"owner":{"account_id":5350952,"reputation":16310,"user_id":4265103,"display_name":"Pierre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645219467,"creation_date":1645219467,"answer_id":71180006,"question_id":71168976,"body_markdown":"bundletool.jar is not an executable, it&#39;s a java archive, you need to run it using:\r\n\r\n```\r\njava -jar bundletool.jar [command] [parameters]\r\n```\r\n\r\nFor convenience, you create an alias (Unix) or doskey (Windows) to create a shortcut so that typing `bundletool` expands to `java -jar bundletool.jar`.","title":"Generate debug Apk from debug aab file is not working","body":"<p>bundletool.jar is not an executable, it's a java archive, you need to run it using:</p>\n<pre><code>java -jar bundletool.jar [command] [parameters]\n</code></pre>\n<p>For convenience, you create an alias (Unix) or doskey (Windows) to create a shortcut so that typing <code>bundletool</code> expands to <code>java -jar bundletool.jar</code>.</p>\n"}],"owner":{"account_id":6988089,"reputation":61,"user_id":5358245,"display_name":"Mimo Saha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645219467,"creation_date":1645163731,"question_id":71168976,"body_markdown":"I am using the following command to generate APK from the AAB file using the bundle tool.\r\n\r\nI am using **bundletool-all-1.8.2.jar** downloaded from [here](https://github.com/google/bundletool/releases)\r\n\r\nI am using Windows 10 and **when I execute the following command, it didn&#39;t generate any APKS file but opened the bundletool-all-1.8.2.jar in WinRAR jar extractor**\r\n\r\n```\r\nC:/&lt;Download location&gt;/bundletool-all-1.8.2.jar build-apks --bundle=D:/app-debug.aab --output=D:/app-dev-debug.apks --mode=universal\r\n```","title":"Generate debug Apk from debug aab file is not working","body":"<p>I am using the following command to generate APK from the AAB file using the bundle tool.</p>\n<p>I am using <strong>bundletool-all-1.8.2.jar</strong> downloaded from <a href=\"https://github.com/google/bundletool/releases\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I am using Windows 10 and <strong>when I execute the following command, it didn't generate any APKS file but opened the bundletool-all-1.8.2.jar in WinRAR jar extractor</strong></p>\n<pre><code>C:/&lt;Download location&gt;/bundletool-all-1.8.2.jar build-apks --bundle=D:/app-debug.aab --output=D:/app-dev-debug.apks --mode=universal\n</code></pre>\n"},{"tags":["java","security","web-push","network-security"],"answers":[{"tags":[],"owner":{"account_id":21214,"reputation":34408,"user_id":51387,"accept_rate":78,"display_name":"collimarco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645219066,"creation_date":1645219066,"answer_id":71179954,"question_id":71176428,"body_markdown":"We maintain and use this whitelist in production, it is still valid:\r\n\r\nhttps://github.com/pushpad/known-push-services\r\n\r\nYou should connect only to the whitelisted hosts to avoid unexpected behaviors - otherwise a non response, slow response, etc. from malicious servers can degrade your services.\r\n\r\nThen when you connect to a known / trusted host you can simply validate the HTTP status code.\r\n","title":"Can a server trust any endpoint url from a web-push subscription?","body":"<p>We maintain and use this whitelist in production, it is still valid:</p>\n<p><a href=\"https://github.com/pushpad/known-push-services\" rel=\"nofollow noreferrer\">https://github.com/pushpad/known-push-services</a></p>\n<p>You should connect only to the whitelisted hosts to avoid unexpected behaviors - otherwise a non response, slow response, etc. from malicious servers can degrade your services.</p>\n<p>Then when you connect to a known / trusted host you can simply validate the HTTP status code.</p>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71179954,"answer_count":1,"score":0,"last_activity_date":1645219066,"creation_date":1645200029,"question_id":71176428,"body_markdown":"Even if a user is authenticated, there is no assurance that they are not a malicious hacker. How can I validate the push servers from the web push subscription endpoints? Is there a white list of push servers? Is there any other approach to validation? How can I do this in Java?\r\n\r\n","title":"Can a server trust any endpoint url from a web-push subscription?","body":"<p>Even if a user is authenticated, there is no assurance that they are not a malicious hacker. How can I validate the push servers from the web push subscription endpoints? Is there a white list of push servers? Is there any other approach to validation? How can I do this in Java?</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":10712164,"reputation":658,"user_id":7884076,"accept_rate":31,"display_name":"Jan Testowy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645218594,"creation_date":1645218594,"answer_id":71179880,"question_id":71179585,"body_markdown":"I achieve it by creating custom filter:\r\n\r\n    public class IPHeaderFilter implements Filter {\r\n    \r\n        private final List&lt;String&gt; ips;\r\n    \r\n        public IPHeaderFilter(List&lt;String&gt; ips) {\r\n            this.ips = ips;\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException {\r\n            var request = (HttpServletRequest) servletRequest;\r\n            var response = (HttpServletResponse) servletResponse;\r\n    \r\n            AntPathRequestMatcher antRequestMatcher = new AntPathRequestMatcher(&quot;/orders/notify/**&quot;, HttpMethod.POST.name());\r\n    \r\n            if (antRequestMatcher.matches(request)) {\r\n                HeaderIPAddressRequestMatcher ipHeaderMatcher = new HeaderIPAddressRequestMatcher(ips);\r\n                if (!ipHeaderMatcher.matches(request)) {\r\n                    response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n                } else {\r\n                    chain.doFilter(request, response);\r\n                }\r\n            } else {\r\n                chain.doFilter(request, response);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Spring security return 403 if request macher not pass","body":"<p>I achieve it by creating custom filter:</p>\n<pre><code>public class IPHeaderFilter implements Filter {\n\n    private final List&lt;String&gt; ips;\n\n    public IPHeaderFilter(List&lt;String&gt; ips) {\n        this.ips = ips;\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException {\n        var request = (HttpServletRequest) servletRequest;\n        var response = (HttpServletResponse) servletResponse;\n\n        AntPathRequestMatcher antRequestMatcher = new AntPathRequestMatcher(&quot;/orders/notify/**&quot;, HttpMethod.POST.name());\n\n        if (antRequestMatcher.matches(request)) {\n            HeaderIPAddressRequestMatcher ipHeaderMatcher = new HeaderIPAddressRequestMatcher(ips);\n            if (!ipHeaderMatcher.matches(request)) {\n                response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n            } else {\n                chain.doFilter(request, response);\n            }\n        } else {\n            chain.doFilter(request, response);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10712164,"reputation":658,"user_id":7884076,"accept_rate":31,"display_name":"Jan Testowy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645218594,"creation_date":1645216701,"question_id":71179585,"body_markdown":"Is it possible that if `AndRequestMatcher` which checks if url is `orders/notify` and request comes from proper IP return 403? Below configuration always passes which shouldnt if IP address don&#39;t match.\r\n\r\n        @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n    \r\n        AntPathRequestMatcher antRequestMatcher = new AntPathRequestMatcher(&quot;/orders/notify/**&quot;, HttpMethod.POST.name());\r\n    \r\n        AndRequestMatcher andMatcher = new AndRequestMatcher(new HeaderIPAddressRequestMatcher(ips), antRequestMatcher);\r\n    \r\n        http.cors()\r\n                .and()\r\n                .httpBasic().disable()\r\n                .csrf().disable()\r\n                .formLogin().disable()\r\n                .logout().disable()\r\n                .sessionManagement().disable()\r\n                .authorizeRequests()\r\n                    .requestMatchers(andMatcher).permitAll()\r\n                .anyRequest().permitAll();\r\n        http.headers()\r\n                .httpStrictTransportSecurity().maxAgeInSeconds(YEAR.toSeconds()).includeSubDomains(false);\r\n    }","title":"Spring security return 403 if request macher not pass","body":"<p>Is it possible that if <code>AndRequestMatcher</code> which checks if url is <code>orders/notify</code> and request comes from proper IP return 403? Below configuration always passes which shouldnt if IP address don't match.</p>\n<pre><code>    @Override\npublic void configure(HttpSecurity http) throws Exception {\n\n    AntPathRequestMatcher antRequestMatcher = new AntPathRequestMatcher(&quot;/orders/notify/**&quot;, HttpMethod.POST.name());\n\n    AndRequestMatcher andMatcher = new AndRequestMatcher(new HeaderIPAddressRequestMatcher(ips), antRequestMatcher);\n\n    http.cors()\n            .and()\n            .httpBasic().disable()\n            .csrf().disable()\n            .formLogin().disable()\n            .logout().disable()\n            .sessionManagement().disable()\n            .authorizeRequests()\n                .requestMatchers(andMatcher).permitAll()\n            .anyRequest().permitAll();\n    http.headers()\n            .httpStrictTransportSecurity().maxAgeInSeconds(YEAR.toSeconds()).includeSubDomains(false);\n}\n</code></pre>\n"},{"tags":["java","null","cucumber","gherkin"],"comments":[{"owner":{"account_id":4086750,"reputation":2070,"user_id":3355860,"display_name":"ou_ryperd"},"score":0,"creation_date":1645175204,"post_id":71169341,"comment_id":125806251,"body_markdown":"Have you tried with an ASCII null ? By its nature it is hard to represent null values in text.","body":"Have you tried with an ASCII null ? By its nature it is hard to represent null values in text."}],"answers":[{"tags":[],"owner":{"account_id":1245793,"reputation":3093,"user_id":1207289,"accept_rate":84,"display_name":"user1207289"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645218153,"creation_date":1645218153,"answer_id":71179808,"question_id":71169341,"body_markdown":"The below is printing empty string \r\n\r\n    Scenario:  login registration using cucumber data table\r\n          When I submit login details\r\n           |Username     |&quot;angular2&quot;|\r\n            |Password    |&quot;password2&quot;|\r\n            |UsernameDesc | &quot;        &quot;|\r\n\r\nstepdef:\r\n\r\n            @When (&quot;^I submit login details$&quot;)\r\n     public void submitLoginDetails(DataTable dataTable ){\r\n        List&lt;loginDetails&gt; list = dataTable.transpose().asList(loginDetails.class);\r\n        list.stream().forEach(System.out::println);\r\n        for (loginDetails l : list) {\r\n            System.out.println(&quot;username::&quot;+l.getUserName());\r\n            System.out.println(&quot;pwd::&quot;+l.getPassword());\r\n            System.out.println(&quot;usernamedesc::&quot;+l.getUsernameDesc());\r\n        }\r\n\r\nloginDetails class\r\n\r\n    public class loginDetails {\r\n        \r\n        private String Username;\r\n        private String Password;\r\n        private String UsernameDesc;\r\n        \r\n        public  loginDetails(String uname, String pwd, String udesc){\r\n            this.Username=uname;\r\n            this.Password = pwd;\r\n            this.UsernameDesc = udesc;\r\n        }\r\n        public String getUserName() {\r\n            return Username;\r\n        }\r\n        public String getPassword() {\r\n            return Password;\r\n        }\r\n        public String getUsernameDesc() {\r\n            return UsernameDesc;\r\n        }\r\n    }\r\n\r\n\r\n\r\nI get output\r\n\r\n           username::\r\n    [DEBUG] &quot;angular2&quot;\r\n    [DEBUG] pwd::\r\n    [DEBUG] &quot;password2&quot;\r\n    [DEBUG] usernamedesc::\r\n    [DEBUG] &quot;        &quot;\r\n\r\nAlternatively, if you would like to convert &quot;null&quot; to null using `@ParameterType` use below\r\n\r\n\r\n    Scenario: transformation tests\r\n        \r\n       Given someOtherThing has a value null\r\n\r\nstepdefs\r\n\r\n    @Given(&quot;someOtherThing has a value {ConvertToNull}&quot;)\r\n    public void checkNull(Boolean b){\r\n    assertThat(b).isEqualTo(null);  //this test passed\r\n    }\r\n    \r\n    @ParameterType(&quot;.*?&quot;)\r\n     //you can only use reference types as method return type to return null. \r\n     //primitives will not work\r\n    public Boolean ConvertToNull(String v) {  \r\n    if(v.equals(&quot;null&quot;)){\r\n    \t \t  return null;\r\n     }  \r\n        }\r\n\r\n","title":"How to pass null value in gherkin DataTable?","body":"<p>The below is printing empty string</p>\n<pre><code>Scenario:  login registration using cucumber data table\n      When I submit login details\n       |Username     |&quot;angular2&quot;|\n        |Password    |&quot;password2&quot;|\n        |UsernameDesc | &quot;        &quot;|\n</code></pre>\n<p>stepdef:</p>\n<pre><code>        @When (&quot;^I submit login details$&quot;)\n public void submitLoginDetails(DataTable dataTable ){\n    List&lt;loginDetails&gt; list = dataTable.transpose().asList(loginDetails.class);\n    list.stream().forEach(System.out::println);\n    for (loginDetails l : list) {\n        System.out.println(&quot;username::&quot;+l.getUserName());\n        System.out.println(&quot;pwd::&quot;+l.getPassword());\n        System.out.println(&quot;usernamedesc::&quot;+l.getUsernameDesc());\n    }\n</code></pre>\n<p>loginDetails class</p>\n<pre><code>public class loginDetails {\n    \n    private String Username;\n    private String Password;\n    private String UsernameDesc;\n    \n    public  loginDetails(String uname, String pwd, String udesc){\n        this.Username=uname;\n        this.Password = pwd;\n        this.UsernameDesc = udesc;\n    }\n    public String getUserName() {\n        return Username;\n    }\n    public String getPassword() {\n        return Password;\n    }\n    public String getUsernameDesc() {\n        return UsernameDesc;\n    }\n}\n</code></pre>\n<p>I get output</p>\n<pre><code>       username::\n[DEBUG] &quot;angular2&quot;\n[DEBUG] pwd::\n[DEBUG] &quot;password2&quot;\n[DEBUG] usernamedesc::\n[DEBUG] &quot;        &quot;\n</code></pre>\n<p>Alternatively, if you would like to convert &quot;null&quot; to null using <code>@ParameterType</code> use below</p>\n<pre><code>Scenario: transformation tests\n    \n   Given someOtherThing has a value null\n</code></pre>\n<p>stepdefs</p>\n<pre><code>@Given(&quot;someOtherThing has a value {ConvertToNull}&quot;)\npublic void checkNull(Boolean b){\nassertThat(b).isEqualTo(null);  //this test passed\n}\n\n@ParameterType(&quot;.*?&quot;)\n //you can only use reference types as method return type to return null. \n //primitives will not work\npublic Boolean ConvertToNull(String v) {  \nif(v.equals(&quot;null&quot;)){\n          return null;\n }  \n    }\n</code></pre>\n"}],"owner":{"account_id":21580322,"reputation":23,"user_id":15911609,"display_name":"cryptus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645218153,"creation_date":1645166399,"question_id":71169341,"body_markdown":"Is there any way to pass null value to gherkin DataTable? When I pass empty value to &quot;examples&quot; in scenario outline it returns me empty string (&quot;&quot;) in request body, But when I pass empty value to DataTable it ignore that field at all. I also tried to pass &quot;null&quot; in DataTable, but it returns null as a string not data type. In Postman I&#39;m able to pass null and it works fine.","title":"How to pass null value in gherkin DataTable?","body":"<p>Is there any way to pass null value to gherkin DataTable? When I pass empty value to &quot;examples&quot; in scenario outline it returns me empty string (&quot;&quot;) in request body, But when I pass empty value to DataTable it ignore that field at all. I also tried to pass &quot;null&quot; in DataTable, but it returns null as a string not data type. In Postman I'm able to pass null and it works fine.</p>\n"},{"tags":["java","android","android-studio","kotlin","animationdrawable"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1645220265,"post_id":71179794,"comment_id":125822245,"body_markdown":"[`setColorSchemeColors()` I guess](https://developer.android.com/reference/kotlin/androidx/swiperefreshlayout/widget/CircularProgressDrawable#setcolorschemecolors)","body":"<a href=\"https://developer.android.com/reference/kotlin/androidx/swiperefreshlayout/widget/CircularProgressDrawable#setcolorschemecolors\" rel=\"nofollow noreferrer\"><code>setColorSchemeColors()</code> I guess</a>"},{"owner":{"account_id":11410153,"reputation":335,"user_id":8364537,"display_name":"Hip&#243;lito Huaylla"},"score":0,"creation_date":1645221110,"post_id":71179794,"comment_id":125822478,"body_markdown":"I put the next color and it doesn&#39;t work. setColorSchemeColors(0x008000)","body":"I put the next color and it doesn&#39;t work. setColorSchemeColors(0x008000)"},{"owner":{"account_id":11410153,"reputation":335,"user_id":8364537,"display_name":"Hip&#243;lito Huaylla"},"score":2,"creation_date":1645221633,"post_id":71179794,"comment_id":125822606,"body_markdown":"I solved it in the following way: setColorSchemeColors(Color.BLUE) thank you very much","body":"I solved it in the following way: setColorSchemeColors(Color.BLUE) thank you very much"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1645221731,"post_id":71179794,"comment_id":125822626,"body_markdown":"If you want to use int colors; you can append it with `toInt()`.. like `0xFFFF0000.toInt()`","body":"If you want to use int colors; you can append it with <code>toInt()</code>.. like <code>0xFFFF0000.toInt()</code>"},{"owner":{"account_id":14423069,"reputation":568,"user_id":10418619,"display_name":"Abdulmajeed Alyafei"},"score":1,"creation_date":1670929335,"post_id":71179794,"comment_id":131981704,"body_markdown":"Use your resourse color id using this function, such as red color here: `setColorSchemeColors(ContextCompat.getColor(context, R.color.red))`","body":"Use your resourse color id using this function, such as red color here: <code>setColorSchemeColors(ContextCompat.getColor(context, R.color.red))</code>"}],"owner":{"account_id":11410153,"reputation":335,"user_id":8364537,"display_name":"Hip&#243;lito Huaylla"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1645218084,"creation_date":1645218084,"question_id":71179794,"body_markdown":"I have the following code and I want to change the default color of circularProgressDrawable, in Kotlin.\r\n\r\n    val circularProgressDrawable = CircularProgressDrawable(this).apply {\r\n            strokeWidth = 10f\r\n            centerRadius = 50f\r\n\r\n        }\r\n\r\n","title":"Change color of circularProgressDrawable","body":"<p>I have the following code and I want to change the default color of circularProgressDrawable, in Kotlin.</p>\n<pre><code>val circularProgressDrawable = CircularProgressDrawable(this).apply {\n        strokeWidth = 10f\n        centerRadius = 50f\n\n    }\n</code></pre>\n"},{"tags":["java","apache-camel","aggregation","spring-camel","camel-spring-dsl"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645184661,"creation_date":1645184661,"answer_id":71172947,"question_id":71162595,"body_markdown":"You have to model a route which **enriches** the first web service result with  the second one. The way you merge both responses has to be specified in your `AggregationStrategy` instance.\r\n\r\nSee the enrich EIP:\r\nhttps://camel.apache.org/components/3.14.x/eips/enrich-eip.html\r\n","title":"In Apache Camel with Spring Boot, how to Join many external callbacks (using &quot;from().to()&quot;) into a single response?","body":"<p>You have to model a route which <strong>enriches</strong> the first web service result with  the second one. The way you merge both responses has to be specified in your <code>AggregationStrategy</code> instance.</p>\n<p>See the enrich EIP:\n<a href=\"https://camel.apache.org/components/3.14.x/eips/enrich-eip.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.14.x/eips/enrich-eip.html</a></p>\n"}],"owner":{"account_id":1800698,"reputation":1789,"user_id":1639141,"accept_rate":88,"display_name":"Rasshu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71172947,"answer_count":1,"score":0,"last_activity_date":1645217462,"creation_date":1645118219,"question_id":71162595,"body_markdown":"**SOLVED! Scroll down to Solution.**\r\n\r\nI have entity Person with some basic data on table A and more specific data on tables B, C, D, etc (address, for example).\r\n\r\nPersonResponseDTO (summarized):\r\n```json\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;Test&quot;\r\n}\r\n```\r\n\r\nAddressResponseDTO (summarized):\r\n```json\r\n{\r\n    &quot;person_id&quot;: 1,\r\n    &quot;street&quot;: &quot;Test St.&quot;\r\n}\r\n```\r\n\r\nThese data come from an external API called using `from(&quot;direct:getPersonById&quot;).to(getPersonUrl)` and `from(&quot;direct:getAddressByPersonId&quot;).to(getAddressUrl)` (summarized).\r\n\r\nI created a third object called AggregatedPersonResponseDTO:\r\n\r\n```json\r\n{\r\n    &quot;person&quot;: {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Test&quot;\r\n    },\r\n    &quot;address&quot;: {\r\n        &quot;person_id&quot;: 1,\r\n        &quot;street&quot;: &quot;Test St.&quot;\r\n    }\r\n}\r\n```\r\n\r\nIs there a simple way to **join both responses in a single request**, returning an object of type AggregatedPersonResponseDTO, only using the Camel API? I want to use both response objects to build the third one. And I will have use cases in the future with more than two &quot;joins&quot;.\r\n\r\nSolution explanation\r\n--------\r\n\r\n1. It&#39;s not needed to set streamCaching to either true or false.\r\n\r\n2. Not needed to set HTTP_PATH.\r\n\r\n3. Code in the Camel route:\r\n```java\r\nfrom(&quot;direct:getFullPersonByIdService&quot;)\r\n    .toD(&quot;http:{{endpoints.get-person-by-id}}?bridgeEndpoint=true&quot;)\r\n    .pollEnrich(\r\n        simple(&quot;http:{{endpoints.get-address-by-person-id}}?bridgeEndpoint=true&quot;),\r\n        5000,\r\n        new PersonAggregationStrategy(),\r\n        false\r\n    )\r\n    .unmarshal(new JacksonDataFormat(GetAggregatedPersonResponseDTO.class))\r\n\r\n```\r\n\r\nThe content between double curly-braces is read from the application.yml or application.properties.\r\n\r\n4. The whole PersonAggregationStrategy class:\r\n\r\n```java\r\n@Log4j2\r\npublic class PersonAggregationStrategy implements AggregationStrategy {\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public Exchange aggregate(final Exchange exchangePerson,\r\n                              final Exchange exchangeAddress) {\r\n        log.info(&quot;Aggregating Person and Address...&quot;);\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        final GetAggregatedPersonResponseDTO aggregatedPerson = new GetAggregatedPersonResponseDTO();\r\n        aggregatedPerson.setPerson(objectMapper.readValue(exchangePerson.getIn().getBody(String.class), GetPersonResponseDTO.class));\r\n        aggregatedPerson.setAddress(objectMapper.readValue(exchangeAddress.getIn().getBody(String.class), GetAddressResponseDTO.class));\r\n\r\n        exchangePerson.getIn().setBody(objectMapper.writeValueAsString(aggregatedPerson));\r\n        log.info(&quot;Aggregated object =&gt; {}&quot;, objectMapper.writeValueAsString(aggregatedPerson));\r\n\r\n        return exchangePerson;\r\n    }\r\n\r\n}\r\n```\r\n\r\n5. I also had to implement the TypeConverters interface for the resulting object of the aggregation:\r\n\r\n```java\r\n@Component\r\npublic class AggregatedPersonConverter implements TypeConverters {\r\n\r\n    private final ObjectMapper mapper;\r\n\r\n    @Autowired\r\n    public AggregatedPersonConverter(ObjectMapper mapper) {\r\n        this.mapper = mapper;\r\n    }\r\n\r\n    @Converter\r\n    public InputStream getAggregatedPersonResponseDTOToInputStream(GetAggregatedPersonResponseDTO source) {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\r\n        try {\r\n            ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n\r\n            oos.writeObject(source);\r\n\r\n            oos.flush();\r\n            oos.close();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        return new ByteArrayInputStream(baos.toByteArray());\r\n    }\r\n\r\n}\r\n```\r\n\r\n6. I don&#39;t know if it works for more than two callbacks. Maybe it will need other implementations of AggregationStrategy. I&#39;ll test this use case some day.","title":"In Apache Camel with Spring Boot, how to Join many external callbacks (using &quot;from().to()&quot;) into a single response?","body":"<p><strong>SOLVED! Scroll down to Solution.</strong></p>\n<p>I have entity Person with some basic data on table A and more specific data on tables B, C, D, etc (address, for example).</p>\n<p>PersonResponseDTO (summarized):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;Test&quot;\n}\n</code></pre>\n<p>AddressResponseDTO (summarized):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;person_id&quot;: 1,\n    &quot;street&quot;: &quot;Test St.&quot;\n}\n</code></pre>\n<p>These data come from an external API called using <code>from(&quot;direct:getPersonById&quot;).to(getPersonUrl)</code> and <code>from(&quot;direct:getAddressByPersonId&quot;).to(getAddressUrl)</code> (summarized).</p>\n<p>I created a third object called AggregatedPersonResponseDTO:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;person&quot;: {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Test&quot;\n    },\n    &quot;address&quot;: {\n        &quot;person_id&quot;: 1,\n        &quot;street&quot;: &quot;Test St.&quot;\n    }\n}\n</code></pre>\n<p>Is there a simple way to <strong>join both responses in a single request</strong>, returning an object of type AggregatedPersonResponseDTO, only using the Camel API? I want to use both response objects to build the third one. And I will have use cases in the future with more than two &quot;joins&quot;.</p>\n<h2>Solution explanation</h2>\n<ol>\n<li><p>It's not needed to set streamCaching to either true or false.</p>\n</li>\n<li><p>Not needed to set HTTP_PATH.</p>\n</li>\n<li><p>Code in the Camel route:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:getFullPersonByIdService&quot;)\n    .toD(&quot;http:{{endpoints.get-person-by-id}}?bridgeEndpoint=true&quot;)\n    .pollEnrich(\n        simple(&quot;http:{{endpoints.get-address-by-person-id}}?bridgeEndpoint=true&quot;),\n        5000,\n        new PersonAggregationStrategy(),\n        false\n    )\n    .unmarshal(new JacksonDataFormat(GetAggregatedPersonResponseDTO.class))\n\n</code></pre>\n<p>The content between double curly-braces is read from the application.yml or application.properties.</p>\n<ol start=\"4\">\n<li>The whole PersonAggregationStrategy class:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Log4j2\npublic class PersonAggregationStrategy implements AggregationStrategy {\n\n    @SneakyThrows\n    @Override\n    public Exchange aggregate(final Exchange exchangePerson,\n                              final Exchange exchangeAddress) {\n        log.info(&quot;Aggregating Person and Address...&quot;);\n\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        final GetAggregatedPersonResponseDTO aggregatedPerson = new GetAggregatedPersonResponseDTO();\n        aggregatedPerson.setPerson(objectMapper.readValue(exchangePerson.getIn().getBody(String.class), GetPersonResponseDTO.class));\n        aggregatedPerson.setAddress(objectMapper.readValue(exchangeAddress.getIn().getBody(String.class), GetAddressResponseDTO.class));\n\n        exchangePerson.getIn().setBody(objectMapper.writeValueAsString(aggregatedPerson));\n        log.info(&quot;Aggregated object =&gt; {}&quot;, objectMapper.writeValueAsString(aggregatedPerson));\n\n        return exchangePerson;\n    }\n\n}\n</code></pre>\n<ol start=\"5\">\n<li>I also had to implement the TypeConverters interface for the resulting object of the aggregation:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AggregatedPersonConverter implements TypeConverters {\n\n    private final ObjectMapper mapper;\n\n    @Autowired\n    public AggregatedPersonConverter(ObjectMapper mapper) {\n        this.mapper = mapper;\n    }\n\n    @Converter\n    public InputStream getAggregatedPersonResponseDTOToInputStream(GetAggregatedPersonResponseDTO source) {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n        try {\n            ObjectOutputStream oos = new ObjectOutputStream(baos);\n\n            oos.writeObject(source);\n\n            oos.flush();\n            oos.close();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        return new ByteArrayInputStream(baos.toByteArray());\n    }\n\n}\n</code></pre>\n<ol start=\"6\">\n<li>I don't know if it works for more than two callbacks. Maybe it will need other implementations of AggregationStrategy. I'll test this use case some day.</li>\n</ol>\n"},{"tags":["java","spring","model-view-controller","outputstream"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1622180915,"post_id":67723386,"comment_id":119722672,"body_markdown":"Don&#39;t close that outpuststream. As a rule of thumb, if you don&#39;t create the stream don&#39;t close it. The stream is controlled by Tomcat (or whatever servlet container you use). You closing it here might eagerly close it leading to exceptions. Also this code doesn&#39;t really make sense, either write to the output stream or return an `@responseBody` doing both doesn&#39;t make sense.","body":"Don&#39;t close that outpuststream. As a rule of thumb, if you don&#39;t create the stream don&#39;t close it. The stream is controlled by Tomcat (or whatever servlet container you use). You closing it here might eagerly close it leading to exceptions. Also this code doesn&#39;t really make sense, either write to the output stream or return an <code>@responseBody</code> doing both doesn&#39;t make sense."}],"owner":{"account_id":18488468,"reputation":11,"user_id":13468779,"display_name":"Jonathan Nicio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645217232,"creation_date":1622122740,"question_id":67723386,"body_markdown":"In Spring MVC I have the next controller: \r\n\r\n   \r\n\r\n \r\n\r\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/generacionGuias&quot;)\r\n\tpublic @ResponseBody GeneracionGuiaEstafetaSolicitud procesarAlta(@ModelAttribute GeneracionGuiaEstafetaSolicitud instance,\r\n\t\t\tHttpServletRequest request, HttpServletResponse response) throws Exception {\r\n\t\t\r\n\t\tGeneracionGuiaEstafetaSolicitud respuesta = new GeneracionGuiaEstafetaSolicitud();\r\n\t\trespuesta.setSuccess(false);\r\n\r\n\t\tString fileZip = &quot;generacionArchivosGuias&quot;;\r\n\t\t\r\n\t\tByteArrayOutputStream zipFinalFile = new ByteArrayOutputStream();\r\n\r\n\t\ttry {\r\n\t\t\trespuesta = ((GeneracionGuiasEstafetaService) service).generacionDeDocumentosGuias(instance);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new MicroServicioException(&quot;0002&quot;, e.toString());\r\n\t\t}\r\n\t\ttry{\r\n\t\t\tzipFinalFile =((GeneracionGuiasEstafetaService) service).generadorZIP(respuesta);\r\n\t\t}catch(Exception e){\r\n\t\t\tlogger.error(&quot;Problema en la creaci&#243;n del archivo ZIP: &quot; + e.getMessage());\r\n\t\t\tthrow new  SibamexStoredProcedureException(&quot;000005&quot;,&quot;Problema con la generaci&#243;n del Archivo ZIP&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tbyte[] file = zipFinalFile.toByteArray();\r\n\t\trespuesta.setArchivo(file);\r\n\t\t\r\n\t\ttry{\r\n\t\t\tresponse.resetBuffer();\r\n\t\t\tresponse.setContentType(&quot;application/zip&quot;);\r\n\t\t\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileZip + &quot;.zip&quot;);\r\n\t\t\tresponse.getOutputStream().write(file);\r\n\t\t\tresponse.getOutputStream().flush();\r\n\t\t\trespuesta.setSuccess(true);\r\n\t\t}catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Error en la generaci&#243;n del archivo zip: &quot; + e.getMessage());\r\n\t\t\trespuesta.setSuccess(false);\r\n\t\t}finally {\r\n\t\t\tresponse.getOutputStream().close();\r\n\t\t\trespuesta.setSuccess(true);\r\n\t\t}\r\n\r\n\t\tlogger.info(&quot;Regresa respuesta con archivo a descargar&quot;);\r\n\r\n\t\treturn respuesta;\r\n    }\r\n\r\n\r\n\r\nI create a ZIP file in the Service and convert it to a byte[], I try to write it in the response using the line response.getOutputStream().write(file); to try to download it from the front end, but when I get to response.getOutputStream().close(); it always returns a &quot;Succes:false&quot; even though the response returns a 200 code, any idea why it does this?\r\n\r\n[Log printed in the browser][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fvHoG.png","title":"Java Servlet always return a succes:false after getOutputStream().close()","body":"<p>In Spring MVC I have the next controller:</p>\n<pre><code>@RequestMapping(method = RequestMethod.POST, value = &quot;/generacionGuias&quot;)\npublic @ResponseBody GeneracionGuiaEstafetaSolicitud procesarAlta(@ModelAttribute GeneracionGuiaEstafetaSolicitud instance,\n        HttpServletRequest request, HttpServletResponse response) throws Exception {\n    \n    GeneracionGuiaEstafetaSolicitud respuesta = new GeneracionGuiaEstafetaSolicitud();\n    respuesta.setSuccess(false);\n\n    String fileZip = &quot;generacionArchivosGuias&quot;;\n    \n    ByteArrayOutputStream zipFinalFile = new ByteArrayOutputStream();\n\n    try {\n        respuesta = ((GeneracionGuiasEstafetaService) service).generacionDeDocumentosGuias(instance);\n    } catch (Exception e) {\n        throw new MicroServicioException(&quot;0002&quot;, e.toString());\n    }\n    try{\n        zipFinalFile =((GeneracionGuiasEstafetaService) service).generadorZIP(respuesta);\n    }catch(Exception e){\n        logger.error(&quot;Problema en la creación del archivo ZIP: &quot; + e.getMessage());\n        throw new  SibamexStoredProcedureException(&quot;000005&quot;,&quot;Problema con la generación del Archivo ZIP&quot;);\n    }\n    \n    byte[] file = zipFinalFile.toByteArray();\n    respuesta.setArchivo(file);\n    \n    try{\n        response.resetBuffer();\n        response.setContentType(&quot;application/zip&quot;);\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileZip + &quot;.zip&quot;);\n        response.getOutputStream().write(file);\n        response.getOutputStream().flush();\n        respuesta.setSuccess(true);\n    }catch (Exception e) {\n        logger.error(&quot;Error en la generación del archivo zip: &quot; + e.getMessage());\n        respuesta.setSuccess(false);\n    }finally {\n        response.getOutputStream().close();\n        respuesta.setSuccess(true);\n    }\n\n    logger.info(&quot;Regresa respuesta con archivo a descargar&quot;);\n\n    return respuesta;\n}\n</code></pre>\n<p>I create a ZIP file in the Service and convert it to a byte[], I try to write it in the response using the line response.getOutputStream().write(file); to try to download it from the front end, but when I get to response.getOutputStream().close(); it always returns a &quot;Succes:false&quot; even though the response returns a 200 code, any idea why it does this?</p>\n<p><a href=\"https://i.stack.imgur.com/fvHoG.png\" rel=\"nofollow noreferrer\">Log printed in the browser</a></p>\n"},{"tags":["java","oracle","jdbc","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645115662,"creation_date":1645115662,"answer_id":71161994,"question_id":71161625,"body_markdown":" 1. I don&#39;t think your URL is correct, it should be something like:\r\n\r\n        jdbc:oracle:thin:@your-oracle-hostname-or-ip-address:your-oracle-port:your-oracle-SID\r\n 2. Correct JDBC Driver fully qualified name is `oracle.jdbc.driver.OracleDriver`\r\n 2. The &quot;Validation query&quot; should be `select 1 from dual`\r\n 3. You will need to download [Oracle JDBC Driver][1] and drop it to [JMeter Classpath][2]  \r\n\r\n\r\nMore information:\r\n\r\n - [OracleDriver Documentation][3]\r\n - [DBCP - validationQuery for different Databases][4]\r\n - [The Real Secret to Building a Database Test Plan With JMeter][5]\r\n\r\n\r\n  [1]: https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html\r\n  [2]: https://jmeter.apache.org/usermanual/get-started.html#classpath\r\n  [3]: https://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html\r\n  [4]: https://stackoverflow.com/a/10684260/2897748\r\n  [5]: https://www.blazemeter.com/blog/real-secret-building-database-test-plan-jmeter","title":"Problem in Oracle JDBC Connection Configuration/JDBC Request - JMETER","body":"<ol>\n<li><p>I don't think your URL is correct, it should be something like:</p>\n<pre><code>jdbc:oracle:thin:@your-oracle-hostname-or-ip-address:your-oracle-port:your-oracle-SID\n</code></pre>\n</li>\n<li><p>Correct JDBC Driver fully qualified name is <code>oracle.jdbc.driver.OracleDriver</code></p>\n</li>\n<li><p>The &quot;Validation query&quot; should be <code>select 1 from dual</code></p>\n</li>\n<li><p>You will need to download <a href=\"https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html\" rel=\"nofollow noreferrer\">Oracle JDBC Driver</a> and drop it to <a href=\"https://jmeter.apache.org/usermanual/get-started.html#classpath\" rel=\"nofollow noreferrer\">JMeter Classpath</a></p>\n</li>\n</ol>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html\" rel=\"nofollow noreferrer\">OracleDriver Documentation</a></li>\n<li><a href=\"https://stackoverflow.com/a/10684260/2897748\">DBCP - validationQuery for different Databases</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/real-secret-building-database-test-plan-jmeter\" rel=\"nofollow noreferrer\">The Real Secret to Building a Database Test Plan With JMeter</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645136618,"creation_date":1645136618,"answer_id":71166129,"question_id":71161625,"body_markdown":"Refer to [JDBC Developer&#39;s guide][1] on how the JDBC connection URL is formed. \r\nThe easiest way is to use the below URL. You can use [DataSourceSample.java][2] for checking the connection. \r\n\r\n    jdbc:oracle:thin:db_user/db_password@localhost:5221:orcl\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/database/oracle/oracle-database/21/jjdbc/data-sources-and-URLs.html#GUID-77AF8002-36FB-41C5-8381-6A53B0C443AE\r\n  [2]: https://github.com/oracle/oracle-db-examples/blob/main/java/jdbc/ConnectionSamples/DataSourceSample.java","title":"Problem in Oracle JDBC Connection Configuration/JDBC Request - JMETER","body":"<p>Refer to <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/jjdbc/data-sources-and-URLs.html#GUID-77AF8002-36FB-41C5-8381-6A53B0C443AE\" rel=\"nofollow noreferrer\">JDBC Developer's guide</a> on how the JDBC connection URL is formed.\nThe easiest way is to use the below URL. You can use <a href=\"https://github.com/oracle/oracle-db-examples/blob/main/java/jdbc/ConnectionSamples/DataSourceSample.java\" rel=\"nofollow noreferrer\">DataSourceSample.java</a> for checking the connection.</p>\n<pre><code>jdbc:oracle:thin:db_user/db_password@localhost:5221:orcl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9757092,"reputation":304,"user_id":7233446,"display_name":"Kuassi Mensah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645200783,"creation_date":1645200783,"answer_id":71176595,"question_id":71161625,"body_markdown":"Database SID is no longer supported; please use a service name as in Nirmala&#39;s response.","title":"Problem in Oracle JDBC Connection Configuration/JDBC Request - JMETER","body":"<p>Database SID is no longer supported; please use a service name as in Nirmala's response.</p>\n"}],"owner":{"account_id":11305786,"reputation":111,"user_id":8290484,"display_name":"Estevao FPM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71161994,"answer_count":3,"score":0,"last_activity_date":1645216358,"creation_date":1645114314,"question_id":71161625,"body_markdown":"I&#39;m a problem in JDBC Connection Configuration. When i execute my test (only JDBC Request - insert), doesn&#39;t appear any results in report (View Results Tree):\r\n\r\n*&quot;Cannot create JDBC driver of class &#39;oracle.jdbc.OracleDriver&#39; for connect URL &#39;jdbc:oracle:JDTST&#39;&quot;*\r\n\r\nThe connection is Oracle. See below the configuration:\r\n\r\n**database URL**: jdbc:oracle://${myURL}\r\n\r\n**JDBC driver Class**: com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\r\n**Username**: ${user}\r\n\r\n**Password**: ${password}\r\n\r\nPrint below:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nlister.ora file:\r\n[![enter image description here][2]][2]\r\n\r\nMy login in Oracle DB:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nCould someone help me?\r\n\r\nThanks!!!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v1ete.png\r\n  [2]: https://i.stack.imgur.com/AUYfS.png\r\n  [3]: https://i.stack.imgur.com/mTzRD.png","title":"Problem in Oracle JDBC Connection Configuration/JDBC Request - JMETER","body":"<p>I'm a problem in JDBC Connection Configuration. When i execute my test (only JDBC Request - insert), doesn't appear any results in report (View Results Tree):</p>\n<p><em>&quot;Cannot create JDBC driver of class 'oracle.jdbc.OracleDriver' for connect URL 'jdbc:oracle:JDTST'&quot;</em></p>\n<p>The connection is Oracle. See below the configuration:</p>\n<p><strong>database URL</strong>: jdbc:oracle://${myURL}</p>\n<p><strong>JDBC driver Class</strong>: com.microsoft.sqlserver.jdbc.SQLServerDriver</p>\n<p><strong>Username</strong>: ${user}</p>\n<p><strong>Password</strong>: ${password}</p>\n<p>Print below:\n<a href=\"https://i.stack.imgur.com/v1ete.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v1ete.png\" alt=\"enter image description here\" /></a></p>\n<p>lister.ora file:\n<a href=\"https://i.stack.imgur.com/AUYfS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AUYfS.png\" alt=\"enter image description here\" /></a></p>\n<p>My login in Oracle DB:</p>\n<p><a href=\"https://i.stack.imgur.com/mTzRD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mTzRD.png\" alt=\"enter image description here\" /></a></p>\n<p>Could someone help me?</p>\n<p>Thanks!!!</p>\n"},{"tags":["java","eclipse","intellij-idea","slf4j"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1557683534,"post_id":56101901,"comment_id":98838425,"body_markdown":"There is an option to refresh/rebuild maven project in idea. You will find a tab in the right hand side, it is maven. Click on maven and you will find a refresh icon. Just click it.","body":"There is an option to refresh/rebuild maven project in idea. You will find a tab in the right hand side, it is maven. Click on maven and you will find a refresh icon. Just click it."},{"owner":{"account_id":5476121,"reputation":143,"user_id":4354090,"display_name":"0x SLC"},"score":0,"creation_date":1557841412,"post_id":56101901,"comment_id":98894806,"body_markdown":"That doesn&#39;t fix it. I think the IDE needs to locate the Logger implementation at runtime...","body":"That doesn&#39;t fix it. I think the IDE needs to locate the Logger implementation at runtime..."},{"owner":{"account_id":8799039,"reputation":333,"user_id":6575949,"accept_rate":71,"display_name":"tietze111"},"score":0,"creation_date":1643794170,"post_id":56101901,"comment_id":125431121,"body_markdown":"I have the same issue with a Spring Boot App in Intellij, eclipse is working fine as well as compiled everything is working great. Just when trying to run it from intellij it won&#39;t run without me adding these dependencies explicitely:\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.yaml&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n\t\t&lt;/dependency&gt;","body":"I have the same issue with a Spring Boot App in Intellij, eclipse is working fine as well as compiled everything is working great. Just when trying to run it from intellij it won&#39;t run without me adding these dependencies explicitely: \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; \t\t&lt;/dependency&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.yaml&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;snakeyaml&lt;/artifactId&gt; \t\t&lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":5168679,"reputation":21,"user_id":4137931,"display_name":"Alexander Borisov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571822024,"creation_date":1571822024,"answer_id":58519393,"question_id":56101901,"body_markdown":"Check your parent project pom.xml. May be you need to remove scope &quot;provided&quot; in slf4j dependency block (in PARENT project).\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${slf4.version}&lt;/version&gt;        \r\n        \r\n        &lt;!-- DELETE THIS ROW: --&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n","title":"How to fix NoClassDefFoundError: org.slf4j.LoggerFactory in intelliJ (but eclipse works fine)","body":"<p>Check your parent project pom.xml. May be you need to remove scope \"provided\" in slf4j dependency block (in PARENT project).</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;${slf4.version}&lt;/version&gt;        \n\n    &lt;!-- DELETE THIS ROW: --&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5476121,"reputation":143,"user_id":4354090,"display_name":"0x SLC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645216180,"creation_date":1645216180,"answer_id":71179510,"question_id":56101901,"body_markdown":"The solution was to add the slf4j entries in the dependency management section.\r\n\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.36&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.36&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;","title":"How to fix NoClassDefFoundError: org.slf4j.LoggerFactory in intelliJ (but eclipse works fine)","body":"<p>The solution was to add the slf4j entries in the dependency management section.</p>\n<pre><code>  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.36&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\n        &lt;version&gt;1.7.36&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":5476121,"reputation":143,"user_id":4354090,"display_name":"0x SLC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3520,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1645216180,"creation_date":1557683391,"question_id":56101901,"body_markdown":"Eclipse runs my code fine (right click -&gt; run ), yet when I try to run the same exact project and main method in intellij, I get this error. Is there a way to see where eclipse is getting the dependencies from and replicate adding those in Intellij?\r\n\r\n\r\n\r\nI&#39;ve tried switching the API from provided to runtime.... then I get a different issue - not able to finds the proper LoggerFactory type.. Yet eclipse finds the dependency just fine.\r\n\r\nThese are in my pom hierarchy:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;2.11.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n        Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory\r\n    at com.railroad.messaging.consoleapp.PumpEmpMessagetoQpid.&lt;clinit&gt;(PumpEmpMessagetoQpid.java:16)\r\n    Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:609)\r\n    at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:926)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:871)\r\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:343)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:854)\r\n    ... 1 more","title":"How to fix NoClassDefFoundError: org.slf4j.LoggerFactory in intelliJ (but eclipse works fine)","body":"<p>Eclipse runs my code fine (right click -> run ), yet when I try to run the same exact project and main method in intellij, I get this error. Is there a way to see where eclipse is getting the dependencies from and replicate adding those in Intellij?</p>\n\n<p>I've tried switching the API from provided to runtime.... then I get a different issue - not able to finds the proper LoggerFactory type.. Yet eclipse finds the dependency just fine.</p>\n\n<p>These are in my pom hierarchy:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n  &lt;version&gt;2.11.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n    Exception in thread \"main\" java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory\nat com.railroad.messaging.consoleapp.PumpEmpMessagetoQpid.&lt;clinit&gt;(PumpEmpMessagetoQpid.java:16)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\nat java.net.URLClassLoader.findClass(URLClassLoader.java:609)\nat java.lang.ClassLoader.loadClassHelper(ClassLoader.java:926)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:871)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:343)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:854)\n... 1 more\n</code></pre>\n"},{"tags":["java","json","rest-assured","jsonpath","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":6872174,"reputation":1350,"user_id":6168167,"display_name":"bhusak"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1551101876,"creation_date":1551101876,"answer_id":54867503,"question_id":54861837,"body_markdown":"Rest Assured uses Groovy&#39;s Gpath. So your query could look like this:\r\n\r\n    JsonPath pathToAccountName = response.jsonPath();\r\n    String value = jsonPath.getString(&quot;fields.find { it.fieldId == &#39;individualName&#39; }.value&quot;);\r\nHere you can find some examples (it&#39;s about processing XML, but also applicable to JSON):\r\nhttp://groovy-lang.org/processing-xml.html","title":"What is the Rest Assured proper JsonPath get() format for selecting the value of a field within an array of JSON objects","body":"<p>Rest Assured uses Groovy's Gpath. So your query could look like this:</p>\n\n<pre><code>JsonPath pathToAccountName = response.jsonPath();\nString value = jsonPath.getString(\"fields.find { it.fieldId == 'individualName' }.value\");\n</code></pre>\n\n<p>Here you can find some examples (it's about processing XML, but also applicable to JSON):\n<a href=\"http://groovy-lang.org/processing-xml.html\" rel=\"noreferrer\">http://groovy-lang.org/processing-xml.html</a></p>\n"},{"tags":[],"owner":{"account_id":24304338,"reputation":3,"user_id":18247341,"display_name":"Rishabh Jain"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645215835,"creation_date":1645215835,"answer_id":71179461,"question_id":54861837,"body_markdown":"I need to know how to get this output - \r\n\r\nJSON DOC - `\r\n{\r\n    &quot;status&quot;: &quot;E000&quot;,\r\n    &quot;customerId&quot;: &quot;VjAxI2VhNzg5ZmJlLWIyNjAtNGZlOS1iZDNkLTdjMmU1MjA2ZmVhZA&quot;,\r\n    &quot;merchantId&quot;: &quot;1&quot;,\r\n    &quot;cards&quot;: [\r\n        {\r\n            &quot;cardType&quot;: &quot;DEBIT&quot;,\r\n            &quot;cardIssuer&quot;: &quot;AXIS&quot;,\r\n            &quot;cardBrand&quot;: &quot;MASTERCARD&quot;,\r\n            &quot;nickName&quot;: &quot;&quot;,\r\n            &quot;expired&quot;: &quot;false&quot;,\r\n            &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;,\r\n            &quot;tur&quot;: null,\r\n            &quot;category&quot;: null\r\n        },\r\n        {\r\n            &quot;cardType&quot;: &quot;CREDIT&quot;,\r\n            &quot;cardIssuer&quot;: &quot;ICICI Bank&quot;,\r\n            &quot;cardBrand&quot;: &quot;MASTERCARD&quot;,\r\n            &quot;nickName&quot;: &quot;&quot;,\r\n            &quot;expired&quot;: &quot;false&quot;,\r\n            &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;,\r\n            &quot;tur&quot;: null,\r\n            &quot;category&quot;: null\r\n        },\r\n        {\r\n            &quot;cardType&quot;: &quot;CREDIT&quot;,\r\n            &quot;cardIssuer&quot;: &quot;HDFC Bank&quot;,\r\n            &quot;cardBrand&quot;: &quot;MASTERCARD&quot;,\r\n            &quot;nickName&quot;: &quot;&quot;,\r\n            &quot;expired&quot;: &quot;false&quot;,\r\n            &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;,\r\n            &quot;tur&quot;: null,\r\n            &quot;category&quot;: null\r\n        },\r\n        {\r\n            &quot;cardType&quot;: &quot;CREDIT&quot;,\r\n            &quot;cardIssuer&quot;: &quot;ICICI Bank&quot;,\r\n            &quot;cardBrand&quot;: &quot;VISA&quot;,\r\n            &quot;nickName&quot;: &quot;&quot;,\r\n            &quot;expired&quot;: &quot;false&quot;,\r\n            &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;,\r\n            &quot;tur&quot;: null,\r\n            &quot;category&quot;: null\r\n        },\r\n        {\r\n            &quot;cardType&quot;: &quot;DEBIT&quot;,\r\n            &quot;cardIssuer&quot;: &quot;Punjab National Bank&quot;,\r\n            &quot;cardBrand&quot;: &quot;MASTERCARD&quot;,\r\n            &quot;nickName&quot;: &quot;&quot;,\r\n            &quot;expired&quot;: &quot;false&quot;,\r\n            &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;,\r\n            &quot;tur&quot;: null,\r\n            &quot;category&quot;: null\r\n        },\r\n        {\r\n            &quot;cardType&quot;: &quot;CREDIT&quot;,\r\n            &quot;cardIssuer&quot;: &quot;ICICI Bank&quot;,\r\n            &quot;cardBrand&quot;: &quot;MASTERCARD&quot;,\r\n            &quot;nickName&quot;: null,\r\n            &quot;expired&quot;: null,\r\n            &quot;cardMigrationStatus&quot;: &quot;DONE&quot;,\r\n            &quot;tur&quot;: null,\r\n            &quot;category&quot;: null\r\n        }\r\n    ],\r\n    &quot;status_mssg&quot;: null\r\n}\r\n`\r\n\r\nI want this output - \r\n`[\r\n  {\r\n    &quot;cardType&quot;: &quot;DEBIT&quot;,\r\n    &quot;cardIssuer&quot;: &quot;AXIS&quot;,\r\n    &quot;cardBrand&quot;: &quot;MASTERCARD&quot;,\r\n    &quot;nickName&quot;: &quot;&quot;,\r\n    &quot;expired&quot;: &quot;false&quot;,\r\n    &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;,\r\n    &quot;tur&quot;: null,\r\n    &quot;category&quot;: null\r\n  },\r\n  {\r\n    &quot;cardType&quot;: &quot;CREDIT&quot;,\r\n    &quot;cardIssuer&quot;: &quot;ICICI Bank&quot;,\r\n    &quot;cardBrand&quot;: &quot;MASTERCARD&quot;,\r\n    &quot;nickName&quot;: &quot;&quot;,\r\n    &quot;expired&quot;: &quot;false&quot;,\r\n    &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;,\r\n    &quot;tur&quot;: null,\r\n    &quot;category&quot;: null\r\n  },\r\n  {\r\n    &quot;cardType&quot;: &quot;CREDIT&quot;,\r\n    &quot;cardIssuer&quot;: &quot;HDFC Bank&quot;,\r\n    &quot;cardBrand&quot;: &quot;MASTERCARD&quot;,\r\n    &quot;nickName&quot;: &quot;&quot;,\r\n    &quot;expired&quot;: &quot;false&quot;,\r\n    &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;,\r\n    &quot;tur&quot;: null,\r\n    &quot;category&quot;: null\r\n  },\r\n  {\r\n    &quot;cardType&quot;: &quot;DEBIT&quot;,\r\n    &quot;cardIssuer&quot;: &quot;Punjab National Bank&quot;,\r\n    &quot;cardBrand&quot;: &quot;MASTERCARD&quot;,\r\n    &quot;nickName&quot;: &quot;&quot;,\r\n    &quot;expired&quot;: &quot;false&quot;,\r\n    &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;,\r\n    &quot;tur&quot;: null,\r\n    &quot;category&quot;: null\r\n  }\r\n]\r\n`\r\n\r\n\r\nI am using this - jsonPathValidator.getString(&quot;$.cards[?(@.cardMigrationStatus == &#39;OPEN&#39; &amp;&amp; @.cardBrand == &#39;MASTERCARD&#39;)]&quot;);\r\n\r\nbut not getting the output.","title":"What is the Rest Assured proper JsonPath get() format for selecting the value of a field within an array of JSON objects","body":"<p>I need to know how to get this output -</p>\n<p>JSON DOC - <code>{ &quot;status&quot;: &quot;E000&quot;, &quot;customerId&quot;: &quot;VjAxI2VhNzg5ZmJlLWIyNjAtNGZlOS1iZDNkLTdjMmU1MjA2ZmVhZA&quot;, &quot;merchantId&quot;: &quot;1&quot;, &quot;cards&quot;: [ { &quot;cardType&quot;: &quot;DEBIT&quot;, &quot;cardIssuer&quot;: &quot;AXIS&quot;, &quot;cardBrand&quot;: &quot;MASTERCARD&quot;, &quot;nickName&quot;: &quot;&quot;, &quot;expired&quot;: &quot;false&quot;, &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;, &quot;tur&quot;: null, &quot;category&quot;: null }, { &quot;cardType&quot;: &quot;CREDIT&quot;, &quot;cardIssuer&quot;: &quot;ICICI Bank&quot;, &quot;cardBrand&quot;: &quot;MASTERCARD&quot;, &quot;nickName&quot;: &quot;&quot;, &quot;expired&quot;: &quot;false&quot;, &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;, &quot;tur&quot;: null, &quot;category&quot;: null }, { &quot;cardType&quot;: &quot;CREDIT&quot;, &quot;cardIssuer&quot;: &quot;HDFC Bank&quot;, &quot;cardBrand&quot;: &quot;MASTERCARD&quot;, &quot;nickName&quot;: &quot;&quot;, &quot;expired&quot;: &quot;false&quot;, &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;, &quot;tur&quot;: null, &quot;category&quot;: null }, { &quot;cardType&quot;: &quot;CREDIT&quot;, &quot;cardIssuer&quot;: &quot;ICICI Bank&quot;, &quot;cardBrand&quot;: &quot;VISA&quot;, &quot;nickName&quot;: &quot;&quot;, &quot;expired&quot;: &quot;false&quot;, &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;, &quot;tur&quot;: null, &quot;category&quot;: null }, { &quot;cardType&quot;: &quot;DEBIT&quot;, &quot;cardIssuer&quot;: &quot;Punjab National Bank&quot;, &quot;cardBrand&quot;: &quot;MASTERCARD&quot;, &quot;nickName&quot;: &quot;&quot;, &quot;expired&quot;: &quot;false&quot;, &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;, &quot;tur&quot;: null, &quot;category&quot;: null }, { &quot;cardType&quot;: &quot;CREDIT&quot;, &quot;cardIssuer&quot;: &quot;ICICI Bank&quot;, &quot;cardBrand&quot;: &quot;MASTERCARD&quot;, &quot;nickName&quot;: null, &quot;expired&quot;: null, &quot;cardMigrationStatus&quot;: &quot;DONE&quot;, &quot;tur&quot;: null, &quot;category&quot;: null } ], &quot;status_mssg&quot;: null }</code></p>\n<p>I want this output -\n<code>[ { &quot;cardType&quot;: &quot;DEBIT&quot;, &quot;cardIssuer&quot;: &quot;AXIS&quot;, &quot;cardBrand&quot;: &quot;MASTERCARD&quot;, &quot;nickName&quot;: &quot;&quot;, &quot;expired&quot;: &quot;false&quot;, &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;, &quot;tur&quot;: null, &quot;category&quot;: null }, { &quot;cardType&quot;: &quot;CREDIT&quot;, &quot;cardIssuer&quot;: &quot;ICICI Bank&quot;, &quot;cardBrand&quot;: &quot;MASTERCARD&quot;, &quot;nickName&quot;: &quot;&quot;, &quot;expired&quot;: &quot;false&quot;, &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;, &quot;tur&quot;: null, &quot;category&quot;: null }, { &quot;cardType&quot;: &quot;CREDIT&quot;, &quot;cardIssuer&quot;: &quot;HDFC Bank&quot;, &quot;cardBrand&quot;: &quot;MASTERCARD&quot;, &quot;nickName&quot;: &quot;&quot;, &quot;expired&quot;: &quot;false&quot;, &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;, &quot;tur&quot;: null, &quot;category&quot;: null }, { &quot;cardType&quot;: &quot;DEBIT&quot;, &quot;cardIssuer&quot;: &quot;Punjab National Bank&quot;, &quot;cardBrand&quot;: &quot;MASTERCARD&quot;, &quot;nickName&quot;: &quot;&quot;, &quot;expired&quot;: &quot;false&quot;, &quot;cardMigrationStatus&quot;: &quot;OPEN&quot;, &quot;tur&quot;: null, &quot;category&quot;: null } ] </code></p>\n<p>I am using this - jsonPathValidator.getString(&quot;$.cards[?(@.cardMigrationStatus == 'OPEN' &amp;&amp; @.cardBrand == 'MASTERCARD')]&quot;);</p>\n<p>but not getting the output.</p>\n"}],"owner":{"account_id":6849129,"reputation":137,"user_id":5266815,"display_name":"D-Money"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6787,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54867503,"answer_count":2,"score":3,"last_activity_date":1645215835,"creation_date":1551081868,"question_id":54861837,"body_markdown":"I am using rest assured to make an API post call and getting a response back in the body. I then need to take this response and select specific field values and store them as strings to be compared later against other string objects. I wrote jsonpath just fine to get the top level field values (like id, status, type, country, etc.) but when i have to get inside one of the objects within the json array that is returned I cant get the format correctly for the get() method.\r\n\r\nHere is an example of the Json that is returned:\r\n\r\n    {\r\n      &quot;id&quot;: &quot;ABC123&quot;,\r\n      &quot;status&quot;: &quot;NEW&quot;,\r\n      &quot;type&quot;: &quot;PERSONAL&quot;,\r\n      &quot;country&quot;: &quot;United States&quot;,\r\n      &quot;totalBalances&quot;: {},\r\n      &quot;availableBalances&quot;: {},\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;fieldType&quot;: &quot;mobilephone&quot;,\r\n          &quot;value&quot;: &quot;14216904425&quot;,\r\n          &quot;fieldId&quot;: &quot;personalMobileNumber&quot;\r\n        },\r\n        {\r\n          &quot;fieldType&quot;: &quot;email&quot;,\r\n          &quot;value&quot;: &quot;user12345@work.com&quot;,\r\n          &quot;fieldId&quot;: &quot;personalEmail&quot;\r\n        },\r\n        {\r\n          &quot;fieldType&quot;: &quot;STRING&quot;,\r\n          &quot;value&quot;: &quot;John Doe&quot;,\r\n          &quot;fieldId&quot;: &quot;individualName&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nHere is the json path I was trying to get formatted to fit into the get() method but i get an Illegal Argument exception everytime (java.lang.IllegalArgumentException: Invalid JSON expression) i try to make it work. Basically I need to identify the right object in the array and grab the proper field value. In this case that is the fieldId field and i want the field &quot;value&quot; value (John Doe) so that I can save that to a String object:\r\n\r\n    JsonPath pathToAccountName = response.jsonPath();\r\n    String accountName = pathToAccountName.get(&quot;fields[?(@.fieldId==&#39;individualName&#39;)].value&quot;)\r\n\r\n\r\nI used https://jsonpath.curiousconcept.com/ for the getting the VALID json path: \r\n\r\n    $.fields[?(@.fieldId==&#39;individualName&#39;)].value\r\n\r\nBut I tried everything to convert it into something the get() method will accept and no luck. Scouring all the the posts here and the rest assured technical docs hasnt helped either.","title":"What is the Rest Assured proper JsonPath get() format for selecting the value of a field within an array of JSON objects","body":"<p>I am using rest assured to make an API post call and getting a response back in the body. I then need to take this response and select specific field values and store them as strings to be compared later against other string objects. I wrote jsonpath just fine to get the top level field values (like id, status, type, country, etc.) but when i have to get inside one of the objects within the json array that is returned I cant get the format correctly for the get() method.</p>\n\n<p>Here is an example of the Json that is returned:</p>\n\n<pre><code>{\n  \"id\": \"ABC123\",\n  \"status\": \"NEW\",\n  \"type\": \"PERSONAL\",\n  \"country\": \"United States\",\n  \"totalBalances\": {},\n  \"availableBalances\": {},\n  \"fields\": [\n    {\n      \"fieldType\": \"mobilephone\",\n      \"value\": \"14216904425\",\n      \"fieldId\": \"personalMobileNumber\"\n    },\n    {\n      \"fieldType\": \"email\",\n      \"value\": \"user12345@work.com\",\n      \"fieldId\": \"personalEmail\"\n    },\n    {\n      \"fieldType\": \"STRING\",\n      \"value\": \"John Doe\",\n      \"fieldId\": \"individualName\"\n    }\n  ]\n}\n</code></pre>\n\n<p>Here is the json path I was trying to get formatted to fit into the get() method but i get an Illegal Argument exception everytime (java.lang.IllegalArgumentException: Invalid JSON expression) i try to make it work. Basically I need to identify the right object in the array and grab the proper field value. In this case that is the fieldId field and i want the field \"value\" value (John Doe) so that I can save that to a String object:</p>\n\n<pre><code>JsonPath pathToAccountName = response.jsonPath();\nString accountName = pathToAccountName.get(\"fields[?(@.fieldId=='individualName')].value\")\n</code></pre>\n\n<p>I used <a href=\"https://jsonpath.curiousconcept.com/\" rel=\"nofollow noreferrer\">https://jsonpath.curiousconcept.com/</a> for the getting the VALID json path: </p>\n\n<pre><code>$.fields[?(@.fieldId=='individualName')].value\n</code></pre>\n\n<p>But I tried everything to convert it into something the get() method will accept and no luck. Scouring all the the posts here and the rest assured technical docs hasnt helped either.</p>\n"},{"tags":["java","command","adb"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1645216361,"post_id":71179334,"comment_id":125821219,"body_markdown":"What do you mean with `combine`?","body":"What do you mean with <code>combine</code>?"},{"owner":{"account_id":3122660,"reputation":11,"user_id":2642132,"display_name":"user2642132"},"score":0,"creation_date":1645216796,"post_id":71179334,"comment_id":125821350,"body_markdown":"trying to send them both on one line","body":"trying to send them both on one line"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1645216870,"post_id":71179334,"comment_id":125821369,"body_markdown":"What about using a pipe (`|`)?","body":"What about using a pipe (<code>|</code>)?"},{"owner":{"account_id":3122660,"reputation":11,"user_id":2642132,"display_name":"user2642132"},"score":1,"creation_date":1645216886,"post_id":71179334,"comment_id":125821375,"body_markdown":"as an example I can combine the following and it runs.  shell &quot;input keyevent KEYCODE_WAKEUP &amp;&amp; input touchscreen tap 739 27","body":"as an example I can combine the following and it runs.  shell &quot;input keyevent KEYCODE_WAKEUP &amp;&amp; input touchscreen tap 739 27"},{"owner":{"account_id":3122660,"reputation":11,"user_id":2642132,"display_name":"user2642132"},"score":0,"creation_date":1645216919,"post_id":71179334,"comment_id":125821385,"body_markdown":"using adb from windows cmd line","body":"using adb from windows cmd line"},{"owner":{"account_id":3122660,"reputation":11,"user_id":2642132,"display_name":"user2642132"},"score":0,"creation_date":1645217271,"post_id":71179334,"comment_id":125821475,"body_markdown":"I think I figured it out! adb -s 12b1e4de shell &quot;input keyevent KEYCODE_WAKEUP&quot; &amp;&amp; adb exec-out screencap -p &gt; C:\\Test_code\\adt_sma_automation\\GUI\\CurrentScreen.png&quot;.  I needed to add an aditional adb before the exec-out command","body":"I think I figured it out! adb -s 12b1e4de shell &quot;input keyevent KEYCODE_WAKEUP&quot; &amp;&amp; adb exec-out screencap -p &gt; C:\\Test_code\\adt_sma_automation\\GUI\\CurrentScreen.png&quot;.  I needed to add an aditional adb before the exec-out command"}],"owner":{"account_id":3122660,"reputation":11,"user_id":2642132,"display_name":"user2642132"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645215021,"creation_date":1645215021,"question_id":71179334,"body_markdown":"I am trying to combine shell input keyevent KEYCODE_WAKEUP and exec-out screencap -p &gt; C:\\Test_code\\adt_sma_automation\\GUI\\CurrentScreen.png on the same line.  any suggestions?  I tried quotes around entire command, &amp;&amp;, nothing works","title":"ADB shell and exec-out commands on same line","body":"<p>I am trying to combine shell input keyevent KEYCODE_WAKEUP and exec-out screencap -p &gt; C:\\Test_code\\adt_sma_automation\\GUI\\CurrentScreen.png on the same line.  any suggestions?  I tried quotes around entire command, &amp;&amp;, nothing works</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645173463,"post_id":71170186,"comment_id":125805637,"body_markdown":"Look at `Files.readAllBytes`","body":"Look at <code>Files.readAllBytes</code>"},{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":0,"creation_date":1645176450,"post_id":71170186,"comment_id":125806698,"body_markdown":"Generally, the library provides some flow-based APIs. In java we rarely read a file into a byte array at once.","body":"Generally, the library provides some flow-based APIs. In java we rarely read a file into a byte array at once."},{"owner":{"account_id":9320960,"reputation":476,"user_id":6919700,"display_name":"pxcv7r"},"score":0,"creation_date":1645176697,"post_id":71170186,"comment_id":125806805,"body_markdown":"When you read a file to memory, it&#39;s an `InputStream`.","body":"When you read a file to memory, it&#39;s an <code>InputStream</code>."}],"answers":[{"tags":[],"owner":{"account_id":9320960,"reputation":476,"user_id":6919700,"display_name":"pxcv7r"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645177390,"creation_date":1645177390,"answer_id":71171303,"question_id":71170186,"body_markdown":"Using the NIO API, this is simple:\r\n\r\n    byte[] data = java.nio.file.Files.readAllBytes( pdfFilePath );\r\n\r\nThis method ensures that the file is closed under all circumstances. Be aware that no checks on the file size are made and this may not be suitable for large files or over a network.","title":"How can i load the binary content of a file in a variable in java?","body":"<p>Using the NIO API, this is simple:</p>\n<pre><code>byte[] data = java.nio.file.Files.readAllBytes( pdfFilePath );\n</code></pre>\n<p>This method ensures that the file is closed under all circumstances. Be aware that no checks on the file size are made and this may not be suitable for large files or over a network.</p>\n"}],"owner":{"account_id":23359747,"reputation":19,"user_id":17432174,"display_name":"xllx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1645214701,"creation_date":1645171691,"question_id":71170186,"body_markdown":"I have a pdf file &quot;test.pdf&quot; and I want to get the binary content of that pdf and load it in a variable in java? How can I do that?\r\n\r\nShould I use ByteArrayOutputStream?\r\nI am thinking something like: \r\n\r\n    Document pdfFIle = new Document();\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \r\n    byte[] pdfFile = baos.toByteArray();\r\n    PdfWriter.getInstance(pdfFile, baos); \r\n\r\nThanks in advance!","title":"How can i load the binary content of a file in a variable in java?","body":"<p>I have a pdf file &quot;test.pdf&quot; and I want to get the binary content of that pdf and load it in a variable in java? How can I do that?</p>\n<p>Should I use ByteArrayOutputStream?\nI am thinking something like:</p>\n<pre><code>Document pdfFIle = new Document();\nByteArrayOutputStream baos = new ByteArrayOutputStream();\n\nbyte[] pdfFile = baos.toByteArray();\nPdfWriter.getInstance(pdfFile, baos); \n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","mybatis"],"answers":[{"tags":[],"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645214334,"creation_date":1645214334,"answer_id":71179228,"question_id":71171602,"body_markdown":"The default `EnumTypeHandler` maps enum&#39;s name (e.g. `&quot;CREATED&quot;`, `&quot;RUNNING&quot;`), so the column type must be one of text types like `VARCHAR` [1].\r\n\r\nAs MyBatis knows nothing about the `id` property, you have to write a custom type handler.  \r\nHere is an example implementation.\r\n\r\n```java\r\nimport java.sql.CallableStatement;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Types;\r\n\r\nimport org.apache.ibatis.type.JdbcType;\r\nimport org.apache.ibatis.type.MappedTypes;\r\nimport org.apache.ibatis.type.TypeHandler;\r\n\r\n@MappedTypes(Status.class)\r\npublic class StatusTypeHandler implements TypeHandler&lt;Status&gt; {\r\n  @Override\r\n  public void setParameter(PreparedStatement ps, \r\n       int i, Status parameter, JdbcType jdbcType) throws SQLException {\r\n    if (parameter == null) {\r\n      ps.setNull(i, Types.INTEGER);\r\n    } else {\r\n      ps.setInt(i, parameter.getId());\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public Status getResult(ResultSet rs, String columnName) throws SQLException {\r\n    return getStatus(rs.getInt(columnName));\r\n  }\r\n\r\n  @Override\r\n  public Status getResult(ResultSet rs, int columnIndex) throws SQLException {\r\n    return getStatus(rs.getInt(columnIndex));\r\n  }\r\n\r\n  @Override\r\n  public Status getResult(CallableStatement cs, int columnIndex) throws SQLException {\r\n    return getStatus(cs.getInt(columnIndex));\r\n  }\r\n\r\n  private static Status getStatus(int id) {\r\n    if (id == 0) {\r\n      return null;\r\n    }\r\n    for (Status status : Status.values()) {\r\n      if (id == status.getId()) {\r\n        return status;\r\n      }\r\n    }\r\n    throw new IllegalArgumentException(&quot;Cannot convert &quot; + id + &quot; to Status&quot;);\r\n  }\r\n}\r\n```\r\n\r\nYou should register this type handler globally.  \r\nThen it&#39;s unnecessary to specify `typeHandler` explicitly in most cases.  \r\n\r\n1. If you use [mybatis-spring-boot](http://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/), specifying `mybatis.type-handlers-package` in the config may be the easiest way to register type handlers globally.  \r\n2. If you use XML config, add the following.  \r\n\r\n   ```xml\r\n   &lt;typeHandlers&gt;\r\n     &lt;typeHandler\r\n       handler=&quot;xxx.yyy.StatusTypeHandler&quot; /&gt;\r\n   &lt;/typeHandlers&gt;\r\n   ```\r\n\r\n---\r\n\r\nIf the `Status` is the only enum in your project, you can stop reading.  \r\n\r\nBut, what if there are many enums that have `id` property and you don&#39;t want to write a similar custom type handler for each of them?\r\n\r\nIf your enums implement a common interface like below, you can write a type handler that can map all of them.\r\n\r\n```java\r\npublic interface HasId {\r\n  Integer getId();\r\n}\r\n```\r\n\r\nHere is an example type handler implementation.\r\nNote that it has a constructor that takes `java.lang.Class` as its argument.  \r\n\r\n```java\r\nimport java.sql.CallableStatement;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Types;\r\n\r\nimport org.apache.ibatis.type.JdbcType;\r\nimport org.apache.ibatis.type.MappedTypes;\r\nimport org.apache.ibatis.type.TypeHandler;\r\n\r\n@MappedTypes(HasId.class)\r\npublic class HasIdTypeHandler&lt;E extends Enum&lt;E&gt; &amp; HasId&gt; implements TypeHandler&lt;E&gt; {\r\n  private Class&lt;E&gt; type;\r\n  private final E[] enums;\r\n\r\n  public HasIdTypeHandler(Class&lt;E&gt; type) {\r\n    if (type == null)\r\n      throw new IllegalArgumentException(&quot;Type argument cannot be null&quot;);\r\n    this.type = type;\r\n    this.enums = type.getEnumConstants();\r\n    if (!type.isInterface() &amp;&amp; this.enums == null)\r\n      throw new IllegalArgumentException(type.getSimpleName()\r\n          + &quot; does not represent an enum type.&quot;);\r\n  }\r\n\r\n  @Override\r\n  public void setParameter(PreparedStatement ps, \r\n      int i, E parameter, JdbcType jdbcType) throws SQLException {\r\n    if (parameter == null) {\r\n      ps.setNull(i, Types.INTEGER);\r\n    } else {\r\n      ps.setInt(i, parameter.getId());\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public E getResult(ResultSet rs, String columnName) throws SQLException {\r\n    return getEnum(rs.getInt(columnName));\r\n  }\r\n\r\n  @Override\r\n  public E getResult(ResultSet rs, int columnIndex) throws SQLException {\r\n    return getEnum(rs.getInt(columnIndex));\r\n  }\r\n\r\n  @Override\r\n  public E getResult(CallableStatement cs, int columnIndex) throws SQLException {\r\n    return getEnum(cs.getInt(columnIndex));\r\n  }\r\n\r\n  private E getEnum(int id) {\r\n    if (id == 0) {\r\n      return null;\r\n    }\r\n    for (E e : enums) {\r\n      if (id == e.getId()) {\r\n        return e;\r\n      }\r\n    }\r\n    throw new IllegalArgumentException(&quot;Cannot convert &quot; +\r\n      id + &quot; to &quot; + type.getSimpleName());\r\n  }\r\n}\r\n```\r\n\r\nNote that if you try to specify this type handler in a mapper, it might not work properly. There is a known [issue](https://github.com/mybatis/mybatis-3/issues/995#issuecomment-312889916).\r\n\r\n\r\n\r\n[1] FYI, there is another built-in type handler for enums :`EnumOrdinalTypeHandler`  maps enum&#39;s [ordinal](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html#ordinal()).\r\n\r\n","title":"Mybatis how mapping Integer to Enum?","body":"<p>The default <code>EnumTypeHandler</code> maps enum's name (e.g. <code>&quot;CREATED&quot;</code>, <code>&quot;RUNNING&quot;</code>), so the column type must be one of text types like <code>VARCHAR</code> [1].</p>\n<p>As MyBatis knows nothing about the <code>id</code> property, you have to write a custom type handler.<br />\nHere is an example implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.CallableStatement;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Types;\n\nimport org.apache.ibatis.type.JdbcType;\nimport org.apache.ibatis.type.MappedTypes;\nimport org.apache.ibatis.type.TypeHandler;\n\n@MappedTypes(Status.class)\npublic class StatusTypeHandler implements TypeHandler&lt;Status&gt; {\n  @Override\n  public void setParameter(PreparedStatement ps, \n       int i, Status parameter, JdbcType jdbcType) throws SQLException {\n    if (parameter == null) {\n      ps.setNull(i, Types.INTEGER);\n    } else {\n      ps.setInt(i, parameter.getId());\n    }\n  }\n\n  @Override\n  public Status getResult(ResultSet rs, String columnName) throws SQLException {\n    return getStatus(rs.getInt(columnName));\n  }\n\n  @Override\n  public Status getResult(ResultSet rs, int columnIndex) throws SQLException {\n    return getStatus(rs.getInt(columnIndex));\n  }\n\n  @Override\n  public Status getResult(CallableStatement cs, int columnIndex) throws SQLException {\n    return getStatus(cs.getInt(columnIndex));\n  }\n\n  private static Status getStatus(int id) {\n    if (id == 0) {\n      return null;\n    }\n    for (Status status : Status.values()) {\n      if (id == status.getId()) {\n        return status;\n      }\n    }\n    throw new IllegalArgumentException(&quot;Cannot convert &quot; + id + &quot; to Status&quot;);\n  }\n}\n</code></pre>\n<p>You should register this type handler globally.<br />\nThen it's unnecessary to specify <code>typeHandler</code> explicitly in most cases.</p>\n<ol>\n<li><p>If you use <a href=\"http://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/\" rel=\"nofollow noreferrer\">mybatis-spring-boot</a>, specifying <code>mybatis.type-handlers-package</code> in the config may be the easiest way to register type handlers globally.</p>\n</li>\n<li><p>If you use XML config, add the following.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;typeHandlers&gt;\n  &lt;typeHandler\n    handler=&quot;xxx.yyy.StatusTypeHandler&quot; /&gt;\n&lt;/typeHandlers&gt;\n</code></pre>\n</li>\n</ol>\n<hr />\n<p>If the <code>Status</code> is the only enum in your project, you can stop reading.</p>\n<p>But, what if there are many enums that have <code>id</code> property and you don't want to write a similar custom type handler for each of them?</p>\n<p>If your enums implement a common interface like below, you can write a type handler that can map all of them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface HasId {\n  Integer getId();\n}\n</code></pre>\n<p>Here is an example type handler implementation.\nNote that it has a constructor that takes <code>java.lang.Class</code> as its argument.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.CallableStatement;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Types;\n\nimport org.apache.ibatis.type.JdbcType;\nimport org.apache.ibatis.type.MappedTypes;\nimport org.apache.ibatis.type.TypeHandler;\n\n@MappedTypes(HasId.class)\npublic class HasIdTypeHandler&lt;E extends Enum&lt;E&gt; &amp; HasId&gt; implements TypeHandler&lt;E&gt; {\n  private Class&lt;E&gt; type;\n  private final E[] enums;\n\n  public HasIdTypeHandler(Class&lt;E&gt; type) {\n    if (type == null)\n      throw new IllegalArgumentException(&quot;Type argument cannot be null&quot;);\n    this.type = type;\n    this.enums = type.getEnumConstants();\n    if (!type.isInterface() &amp;&amp; this.enums == null)\n      throw new IllegalArgumentException(type.getSimpleName()\n          + &quot; does not represent an enum type.&quot;);\n  }\n\n  @Override\n  public void setParameter(PreparedStatement ps, \n      int i, E parameter, JdbcType jdbcType) throws SQLException {\n    if (parameter == null) {\n      ps.setNull(i, Types.INTEGER);\n    } else {\n      ps.setInt(i, parameter.getId());\n    }\n  }\n\n  @Override\n  public E getResult(ResultSet rs, String columnName) throws SQLException {\n    return getEnum(rs.getInt(columnName));\n  }\n\n  @Override\n  public E getResult(ResultSet rs, int columnIndex) throws SQLException {\n    return getEnum(rs.getInt(columnIndex));\n  }\n\n  @Override\n  public E getResult(CallableStatement cs, int columnIndex) throws SQLException {\n    return getEnum(cs.getInt(columnIndex));\n  }\n\n  private E getEnum(int id) {\n    if (id == 0) {\n      return null;\n    }\n    for (E e : enums) {\n      if (id == e.getId()) {\n        return e;\n      }\n    }\n    throw new IllegalArgumentException(&quot;Cannot convert &quot; +\n      id + &quot; to &quot; + type.getSimpleName());\n  }\n}\n</code></pre>\n<p>Note that if you try to specify this type handler in a mapper, it might not work properly. There is a known <a href=\"https://github.com/mybatis/mybatis-3/issues/995#issuecomment-312889916\" rel=\"nofollow noreferrer\">issue</a>.</p>\n<p>[1] FYI, there is another built-in type handler for enums :<code>EnumOrdinalTypeHandler</code>  maps enum's <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html#ordinal()\" rel=\"nofollow noreferrer\">ordinal</a>.</p>\n"}],"owner":{"account_id":16072856,"reputation":53,"user_id":12297360,"display_name":"Андрей Кременец"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3621,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71179228,"answer_count":1,"score":2,"last_activity_date":1645214334,"creation_date":1645178670,"question_id":71171602,"body_markdown":"In the database, the column &quot;status&quot; is integer.\r\n\r\nxml mybatis\r\n\r\n    &lt;resultMap id=&quot;TaskStatus&quot; type=&quot;ru....domain.Task$Status&quot;&gt;\r\n        \t\t&lt;result typeHandler=&quot;org.apache.ibatis.type.EnumTypeHandler&quot;\r\n        \t\t        property=&quot;id&quot; column=&quot;status&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n        \r\n    &lt;select id=&quot;selectStatus&quot; resultMap=&quot;TaskStatus&quot;&gt;\r\n        \t\tselect id, status\r\n        \t\tfrom task\r\n        \t\twhere id = #{id}\r\n    &lt;/select&gt;\r\n\r\nmy enum class\r\n\r\n    public class Task{\r\n        \r\n        \t@Getter\r\n        \t@AllArgsConstructor\r\n        \tpublic enum Status {\r\n        \t\tCREATED(1),\r\n        \t\tRUNNING(2),\r\n        \t\tPAUSED(3),\r\n        \t\tFINISHED(4),\r\n        \t\tARCHIVED(5),\r\n        \t\tMODERATION_READY(6),\r\n        \t\tMODERATING(7),\r\n        \t\tREJECTED(8);\r\n        \r\n        \r\n        \t\tprivate final Integer id;\r\n        \t}\r\n        ....\r\n        }\r\n\r\nI want to put a column in enum class.\r\n\r\nError\r\n### Error querying database.  Cause: org.apache.ibatis.executor.result.ResultMapException: Error attempting to get column &#39;status&#39; from result set.  Cause: java.lang.IllegalArgumentException: No enum constant ru...domain.Task.Status.2\r\n","title":"Mybatis how mapping Integer to Enum?","body":"<p>In the database, the column &quot;status&quot; is integer.</p>\n<p>xml mybatis</p>\n<pre><code>&lt;resultMap id=&quot;TaskStatus&quot; type=&quot;ru....domain.Task$Status&quot;&gt;\n            &lt;result typeHandler=&quot;org.apache.ibatis.type.EnumTypeHandler&quot;\n                    property=&quot;id&quot; column=&quot;status&quot;/&gt;\n&lt;/resultMap&gt;\n    \n&lt;select id=&quot;selectStatus&quot; resultMap=&quot;TaskStatus&quot;&gt;\n            select id, status\n            from task\n            where id = #{id}\n&lt;/select&gt;\n</code></pre>\n<p>my enum class</p>\n<pre><code>public class Task{\n    \n        @Getter\n        @AllArgsConstructor\n        public enum Status {\n            CREATED(1),\n            RUNNING(2),\n            PAUSED(3),\n            FINISHED(4),\n            ARCHIVED(5),\n            MODERATION_READY(6),\n            MODERATING(7),\n            REJECTED(8);\n    \n    \n            private final Integer id;\n        }\n    ....\n    }\n</code></pre>\n<p>I want to put a column in enum class.</p>\n<p>Error</p>\n<h3>Error querying database.  Cause: org.apache.ibatis.executor.result.ResultMapException: Error attempting to get column 'status' from result set.  Cause: java.lang.IllegalArgumentException: No enum constant ru...domain.Task.Status.2</h3>\n"},{"tags":["java","android","string","replace","character"],"answers":[{"tags":[],"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536003695,"creation_date":1536003695,"answer_id":52155455,"question_id":52155410,"body_markdown":"You can use the [`replaceAll()`][1] method:\r\n\r\n    String str = &quot;This_ is a ____&quot;;\r\n    str = str.replaceAll(&quot;[_]{2,}&quot;, &quot;blank&quot;);\r\n\r\n***Output:***\r\n\r\n    This_ is a blank\r\n    \r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)","title":"Replace more than one continuous occurrence of underscore character &quot;_&quot; with the string &quot;blank&quot;","body":"<p>You can use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>replaceAll()</code></a> method:</p>\n\n<pre><code>String str = \"This_ is a ____\";\nstr = str.replaceAll(\"[_]{2,}\", \"blank\");\n</code></pre>\n\n<p><strong><em>Output:</em></strong></p>\n\n<pre><code>This_ is a blank\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1536003703,"creation_date":1536003703,"answer_id":52155456,"question_id":52155410,"body_markdown":"You can do this with a [Regular Expression][1]. Luckily, there is a method on `String` called [`replaceAll()`][2] that takes a Regular Expression:\r\n\r\n    final String input = &quot;This_is a test ___&quot;;\r\n    final String output = input.replaceAll(&quot;_{2,}&quot;, &quot;blank&quot;);\r\n    System.out.println(output);  // Prints &quot;This_is a test blank&quot;\r\n\r\nWhat the expression there means is: &quot;find at least 2 consecutive occurrences of underscore&quot;. \r\n\r\n\r\n  [1]: https://www.regexbuddy.com/regex.html\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)","title":"Replace more than one continuous occurrence of underscore character &quot;_&quot; with the string &quot;blank&quot;","body":"<p>You can do this with a <a href=\"https://www.regexbuddy.com/regex.html\" rel=\"noreferrer\">Regular Expression</a>. Luckily, there is a method on <code>String</code> called <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"noreferrer\"><code>replaceAll()</code></a> that takes a Regular Expression:</p>\n\n<pre><code>final String input = \"This_is a test ___\";\nfinal String output = input.replaceAll(\"_{2,}\", \"blank\");\nSystem.out.println(output);  // Prints \"This_is a test blank\"\n</code></pre>\n\n<p>What the expression there means is: \"find at least 2 consecutive occurrences of underscore\". </p>\n"}],"owner":{"account_id":5575826,"reputation":364,"user_id":4419252,"accept_rate":9,"display_name":"SagePawan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1206,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":52155456,"answer_count":2,"score":-1,"last_activity_date":1645213906,"creation_date":1536003388,"question_id":52155410,"body_markdown":"I need to replace more than one continuous repetition of character `_` in any string with the word `blank` such that `This_is a test ___` becomes `This_is a test blank`. If there is only one `_` character, it should not be replaced. \r\n\r\nMultiple consecutive underscores need to be replaced by blank so that the word blank will be uttered when the string is read for text to speech in android. ","title":"Replace more than one continuous occurrence of underscore character &quot;_&quot; with the string &quot;blank&quot;","body":"<p>I need to replace more than one continuous repetition of character <code>_</code> in any string with the word <code>blank</code> such that <code>This_is a test ___</code> becomes <code>This_is a test blank</code>. If there is only one <code>_</code> character, it should not be replaced.</p>\n<p>Multiple consecutive underscores need to be replaced by blank so that the word blank will be uttered when the string is read for text to speech in android.</p>\n"},{"tags":["java","string","algorithm"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":2,"creation_date":1563285288,"post_id":57058663,"comment_id":100643385,"body_markdown":"Can you explain the logic behind your code?","body":"Can you explain the logic behind your code?"}],"answers":[{"tags":[],"owner":{"account_id":200164,"reputation":1663,"user_id":445877,"display_name":"Alex Hart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563586321,"creation_date":1563285547,"answer_id":57059030,"question_id":57058663,"body_markdown":"I think you&#39;re on the right track.  I&#39;m not sure whether this is an assignment, so I don&#39;t want to just straight up give you an answer, but here are some hints that might help:\r\n\r\n 1. You&#39;re already iterating over the string.  This is great! However, I think you want to compare the *current* character with the *previous* character, and not the next character.\r\n 1.  You don&#39;t need to convert your input to a char array to iterate over it, just use `charAt(idx)`\r\n 1.  You never seem to use prev, but I think you had the right idea in mind when you declared it!\r\n 1. Break your problem into two parts: When to update count and when to append a character.  You can tackle both in your for loop, but instead of trying to do both things in the same if statements, break it up into multiple ifs.\r\n\r\nThe 3 things to do are:\r\n\r\n * Update Prev Value\r\n * Update Count\r\n * Update new String\r\n\r\nGetting the right order for these and the exact implementation I&#39;ll leave to you (again, because I&#39;m not sure if this is an assignment or not)\r\n\r\nUpdate: Since others posted, here is my solution (with single for loop):\r\n\r\n```java\r\nprivate String replaceConsecutiveDuplicates(String input, int n) {\r\n    if (input == null || input.length() &lt; n) return input;\r\n    if (n == 0) return &quot;&quot;;\r\n        \r\n    StringBuffer sb = new StringBuffer();\r\n        \r\n    int count = 1;\r\n    char prev = input.charAt(0);\r\n    sb.append(prev);\r\n        \r\n    char current;\r\n    for( int i = 1; i &lt; input.length(); i++) {\r\n        current = input.charAt(i);\r\n        if (prev == current) {\r\n            if (++count &gt; n) continue;\r\n        } else {\r\n            count = 1; \r\n        }\r\n        prev = current;\r\n        sb.append(current);\r\n    }\r\n    return sb.toString();\r\n}\r\n```\r\n","title":"replacing all consecutive duplicates from the string with allowed no of occurrences","body":"<p>I think you're on the right track.  I'm not sure whether this is an assignment, so I don't want to just straight up give you an answer, but here are some hints that might help:</p>\n\n<ol>\n<li>You're already iterating over the string.  This is great! However, I think you want to compare the <em>current</em> character with the <em>previous</em> character, and not the next character.</li>\n<li>You don't need to convert your input to a char array to iterate over it, just use <code>charAt(idx)</code></li>\n<li>You never seem to use prev, but I think you had the right idea in mind when you declared it!</li>\n<li>Break your problem into two parts: When to update count and when to append a character.  You can tackle both in your for loop, but instead of trying to do both things in the same if statements, break it up into multiple ifs.</li>\n</ol>\n\n<p>The 3 things to do are:</p>\n\n<ul>\n<li>Update Prev Value</li>\n<li>Update Count</li>\n<li>Update new String</li>\n</ul>\n\n<p>Getting the right order for these and the exact implementation I'll leave to you (again, because I'm not sure if this is an assignment or not)</p>\n\n<p>Update: Since others posted, here is my solution (with single for loop):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private String replaceConsecutiveDuplicates(String input, int n) {\n    if (input == null || input.length() &lt; n) return input;\n    if (n == 0) return \"\";\n\n    StringBuffer sb = new StringBuffer();\n\n    int count = 1;\n    char prev = input.charAt(0);\n    sb.append(prev);\n\n    char current;\n    for( int i = 1; i &lt; input.length(); i++) {\n        current = input.charAt(i);\n        if (prev == current) {\n            if (++count &gt; n) continue;\n        } else {\n            count = 1; \n        }\n        prev = current;\n        sb.append(current);\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1461177,"reputation":2976,"user_id":1375470,"accept_rate":75,"display_name":"Timekiller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1563302933,"creation_date":1563286668,"answer_id":57059419,"question_id":57058663,"body_markdown":"Can be done with regexp magic using backreferences.\r\n\r\n    String in = &quot;aaaaddbbbbc&quot;;\r\n    int n = 2;\r\n    String pattern = String.format(&quot;(([a-z])\\\\2{%d})\\\\2+&quot;, n - 1);\r\n    System.out.println(in.replaceAll(pattern, &quot;$1&quot;));\r\n\r\nOutputs:\r\n\r\n&gt; aaddbbc\r\n\r\nExplanation:\r\nThe number inside `{}` is `n-1`.\r\n\r\n`([a-z])` is a capture group, matching any single lowercase letter from a to z. Since it&#39;s a second group of parentheses in the expression, it can be referenced as `2`.\r\n\r\n`(([a-z])\\\\2{n})` means &quot;match n+1 repetitions of same letter&quot;. It makes up a first capture group, and we&#39;ll use that as replacement\r\n\r\n`\\\\2+` matches all the extra repetitions of the same letter. They are discarded after replacement.\r\n","title":"replacing all consecutive duplicates from the string with allowed no of occurrences","body":"<p>Can be done with regexp magic using backreferences.</p>\n\n<pre><code>String in = \"aaaaddbbbbc\";\nint n = 2;\nString pattern = String.format(\"(([a-z])\\\\2{%d})\\\\2+\", n - 1);\nSystem.out.println(in.replaceAll(pattern, \"$1\"));\n</code></pre>\n\n<p>Outputs:</p>\n\n<blockquote>\n  <p>aaddbbc</p>\n</blockquote>\n\n<p>Explanation:\nThe number inside <code>{}</code> is <code>n-1</code>.</p>\n\n<p><code>([a-z])</code> is a capture group, matching any single lowercase letter from a to z. Since it's a second group of parentheses in the expression, it can be referenced as <code>2</code>.</p>\n\n<p><code>(([a-z])\\\\2{n})</code> means \"match n+1 repetitions of same letter\". It makes up a first capture group, and we'll use that as replacement</p>\n\n<p><code>\\\\2+</code> matches all the extra repetitions of the same letter. They are discarded after replacement.</p>\n"},{"tags":[],"owner":{"account_id":13426653,"reputation":643,"user_id":9687785,"display_name":"omoshiroiii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563287066,"creation_date":1563287066,"answer_id":57059541,"question_id":57058663,"body_markdown":"    \tpublic static String test(String input, int repetitions) {\r\n\t\tString flag = &quot;&quot;;\r\n\t\tString replacement = &quot;&quot;;\r\n\t\tString output = input;\r\n\t\tArrayList&lt;Character&gt; prevLetters = new ArrayList&lt;Character&gt;();\r\n\r\n\t\tfor(int x = 0; x &lt; input.length(); x++) {\r\n\t\t\tif(!prevLetters.contains(input.charAt(x))) {\r\n\t\t\t\tfor(int y = 0; y &lt;= repetitions ; y++) {\r\n\t\t\t\t\tflag += String.valueOf(input.charAt(x));\r\n\t\t\t\t}\r\n\t\t\t\tif(input.contains(flag)) {\r\n\t\t\t\t\treplacement = flag.substring(0, flag.length()-1);\r\n\t\t\t\t\twhile(output.contains(flag)){\r\n\t\t\t\t\t\toutput = output.replace(flag, replacement);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tflag = &quot;&quot;;\r\n\t\t\t\tprevLetters.add(input.charAt(x));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output;\r\n\t}\r\n\r\n\r\nThat is my solution, which follows a similar idea as yours. Rather than comparing each character value however, I thought it would be easier to simply check for a break in the rules (character appearing n+1 times in a row) and &#39;fix&#39; it. \r\n\r\nIf you are interested in using your method, one potential issue that I noticed is that you aren&#39;t assigning count to 1 in your last else. You also won&#39;t have the chance to add the final character due to you only adding the character at index &#39;i&#39; when the duration for the loop is len - 1. ","title":"replacing all consecutive duplicates from the string with allowed no of occurrences","body":"<pre><code>    public static String test(String input, int repetitions) {\n    String flag = \"\";\n    String replacement = \"\";\n    String output = input;\n    ArrayList&lt;Character&gt; prevLetters = new ArrayList&lt;Character&gt;();\n\n    for(int x = 0; x &lt; input.length(); x++) {\n        if(!prevLetters.contains(input.charAt(x))) {\n            for(int y = 0; y &lt;= repetitions ; y++) {\n                flag += String.valueOf(input.charAt(x));\n            }\n            if(input.contains(flag)) {\n                replacement = flag.substring(0, flag.length()-1);\n                while(output.contains(flag)){\n                    output = output.replace(flag, replacement);\n                }\n            }\n            flag = \"\";\n            prevLetters.add(input.charAt(x));\n        }\n    }\n    return output;\n}\n</code></pre>\n\n<p>That is my solution, which follows a similar idea as yours. Rather than comparing each character value however, I thought it would be easier to simply check for a break in the rules (character appearing n+1 times in a row) and 'fix' it. </p>\n\n<p>If you are interested in using your method, one potential issue that I noticed is that you aren't assigning count to 1 in your last else. You also won't have the chance to add the final character due to you only adding the character at index 'i' when the duration for the loop is len - 1. </p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563288015,"creation_date":1563288015,"answer_id":57059860,"question_id":57058663,"body_markdown":"To add one more alternative:\r\n\r\n        String in = &quot;aaadbbbjjkllllllopp&quot;;\r\n        int n = 2;\r\n        StringBuilder sb = new StringBuilder();\r\n        char temp = in.charAt(0);\r\n        for(int i = 0; i &lt; in.length()-1;){   // note that the incrementation of i is moved to the while loop\r\n            temp = in.charAt(i);            // save current char in temp variable\r\n            int count = 0;\r\n            while (i &lt; in.length() &amp;&amp; in.charAt(i) == temp) {   ///iterate as long as you find same chars or hit the end of the string\r\n                i++;\r\n                count++;\r\n            }\r\n            if (count &gt; n){   // if and only if count is greater than max allowed set it to max allowed\r\n                count = n;\r\n            }\r\n            for(int j = 0; j &lt; count; j++){   // append count chars\r\n                sb.append(temp);\r\n            }\r\n        }\r\n        System.out.println(sb.toString());","title":"replacing all consecutive duplicates from the string with allowed no of occurrences","body":"<p>To add one more alternative:</p>\n\n<pre><code>    String in = \"aaadbbbjjkllllllopp\";\n    int n = 2;\n    StringBuilder sb = new StringBuilder();\n    char temp = in.charAt(0);\n    for(int i = 0; i &lt; in.length()-1;){   // note that the incrementation of i is moved to the while loop\n        temp = in.charAt(i);            // save current char in temp variable\n        int count = 0;\n        while (i &lt; in.length() &amp;&amp; in.charAt(i) == temp) {   ///iterate as long as you find same chars or hit the end of the string\n            i++;\n            count++;\n        }\n        if (count &gt; n){   // if and only if count is greater than max allowed set it to max allowed\n            count = n;\n        }\n        for(int j = 0; j &lt; count; j++){   // append count chars\n            sb.append(temp);\n        }\n    }\n    System.out.println(sb.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10415247,"reputation":201,"user_id":7679530,"display_name":"wer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563356951,"creation_date":1563356951,"answer_id":57073068,"question_id":57058663,"body_markdown":"Look at this solution. You should take care of the last char in your input string, as you iterate only to the last but one.\r\n\r\n    private void replaceConsecutiveDuplicates() {\r\n        String input = &quot;aaadbbb&quot;;\r\n        int n = 2;\r\n        StringBuffer sb = new StringBuffer();\r\n        int count = 1;\r\n        char current;\r\n\r\n        for( int i = 0; i &lt; input.length(); ++i){\r\n            current = input.charAt(i);\r\n            if (i + 1 &lt; input.length() &amp;&amp; current == input.charAt(i + 1)) {\r\n                ++count;\r\n            } else if (count &gt; 1) {\r\n                for(int j = 0; j &lt; n; ++j) {\r\n                    sb.append(current);\r\n                }\r\n                count = 1;\r\n            }\r\n            else {\r\n                sb.append(current);\r\n            }\r\n        }\r\n        System.out.println(sb.toString());\r\n    }","title":"replacing all consecutive duplicates from the string with allowed no of occurrences","body":"<p>Look at this solution. You should take care of the last char in your input string, as you iterate only to the last but one.</p>\n\n<pre><code>private void replaceConsecutiveDuplicates() {\n    String input = \"aaadbbb\";\n    int n = 2;\n    StringBuffer sb = new StringBuffer();\n    int count = 1;\n    char current;\n\n    for( int i = 0; i &lt; input.length(); ++i){\n        current = input.charAt(i);\n        if (i + 1 &lt; input.length() &amp;&amp; current == input.charAt(i + 1)) {\n            ++count;\n        } else if (count &gt; 1) {\n            for(int j = 0; j &lt; n; ++j) {\n                sb.append(current);\n            }\n            count = 1;\n        }\n        else {\n            sb.append(current);\n        }\n    }\n    System.out.println(sb.toString());\n}\n</code></pre>\n"}],"owner":{"account_id":7128290,"reputation":100,"user_id":6583528,"display_name":"S M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1566210206,"answer_count":5,"score":0,"last_activity_date":1645213840,"creation_date":1563284533,"question_id":57058663,"body_markdown":"I need to write a method that takes a String as a parameter and returns a new String obtained by replacing every instance of repeated adjacent letters with a `&#39;n&#39;` instances of that string.\r\n\r\nFor example, if `&quot;aaabcccd&quot;` as an input String and `n =2`, it returns `&quot;aabccd&quot;`. I already tried the following code, but not getting expected output\r\n\r\n```\r\nString in = &quot;aaadbbb&quot;;\r\nchar[] s = in.toCharArray();\r\nint len = s.length;\r\n\r\nint n = 2;\r\nStringBuffer new_s = new StringBuffer(&quot;&quot;);\r\nint count = 1;\r\nchar prev=&#39;\\0&#39;;\r\n\r\nfor (int i = 0; i &lt; len - 1; i++) {\r\n    if (s[i] == s[i + 1]) {\r\n       if(count &lt;= n){\r\n            new_s.append(s[i]);\r\n           count++;\r\n        }else{\r\n         count=1;\r\n       }\r\n    } else {\r\n        new_s.append(s[i]);\r\n    }\r\n}\r\n   \r\nSystem.out.println(new_s);\r\n```\r\n \r\noutput-`aaadb`\r\nexpected-`aadbb` ","title":"replacing all consecutive duplicates from the string with allowed no of occurrences","body":"<p>I need to write a method that takes a String as a parameter and returns a new String obtained by replacing every instance of repeated adjacent letters with a <code>'n'</code> instances of that string.</p>\n<p>For example, if <code>&quot;aaabcccd&quot;</code> as an input String and <code>n =2</code>, it returns <code>&quot;aabccd&quot;</code>. I already tried the following code, but not getting expected output</p>\n<pre><code>String in = &quot;aaadbbb&quot;;\nchar[] s = in.toCharArray();\nint len = s.length;\n\nint n = 2;\nStringBuffer new_s = new StringBuffer(&quot;&quot;);\nint count = 1;\nchar prev='\\0';\n\nfor (int i = 0; i &lt; len - 1; i++) {\n    if (s[i] == s[i + 1]) {\n       if(count &lt;= n){\n            new_s.append(s[i]);\n           count++;\n        }else{\n         count=1;\n       }\n    } else {\n        new_s.append(s[i]);\n    }\n}\n   \nSystem.out.println(new_s);\n</code></pre>\n<p>output-<code>aaadb</code>\nexpected-<code>aadbb</code></p>\n"},{"tags":["java","file","azure-blob-storage"],"answers":[{"tags":[],"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645213537,"creation_date":1645206266,"answer_id":71177774,"question_id":71177507,"body_markdown":"&gt; After I execute the code, the entire folder along with the files are\r\n&gt; removed, but I don&#39;t want that. I want to delete files one by one and\r\n&gt; retain the folder as it is.\r\n\r\nUnfortunately, it is not possible with Azure Blob Storage as the folders there are not real folders, they are virtual. If we take the example of your data, the name of the blob is actually `HDF/a1.tif` where `HDF` is the virtual folder. So once you delete all blobs in that virtual folder, that virtual folder is also gone.\r\n\r\nIf you want proper folder hierarchy, you should take a look at Azure Data Lake Storage (Gen 2) which is built on top of Azure Blob Storage or Azure File Storage. Both of these services has first class support for folders.\r\n\r\n","title":"How can I delete all the files one by one after downloading it from the Azure Blob folder using Java","body":"<blockquote>\n<p>After I execute the code, the entire folder along with the files are\nremoved, but I don't want that. I want to delete files one by one and\nretain the folder as it is.</p>\n</blockquote>\n<p>Unfortunately, it is not possible with Azure Blob Storage as the folders there are not real folders, they are virtual. If we take the example of your data, the name of the blob is actually <code>HDF/a1.tif</code> where <code>HDF</code> is the virtual folder. So once you delete all blobs in that virtual folder, that virtual folder is also gone.</p>\n<p>If you want proper folder hierarchy, you should take a look at Azure Data Lake Storage (Gen 2) which is built on top of Azure Blob Storage or Azure File Storage. Both of these services has first class support for folders.</p>\n"}],"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645213537,"creation_date":1645204937,"question_id":71177507,"body_markdown":"I am downloading some files from the Azure blob to my local directory for processing it, and while downloading I need to delete them ***one by one***, so that if for some reason my process fails we can have those files which are not downloaded. I am able to download the files to my local, but when I am trying to delete them from the folder the entire folder is getting deleted. My folder structure is \r\n\r\n```none\r\nimage-source(container name)\r\n\r\n    HDF(folder)\r\n    a1.tif\r\n    a2.tif\r\n    a3.tif\r\n    CFO(folder)\r\n    b1.tif\r\n    b2.tif\r\n    JPO(folder)\r\n    h1.tif\r\n    h2.tif\r\n```\r\n\r\nimage source is the container name under which I have 3 folders, HDF, CFO, JPO, which then contain some image files. I have to delete each image files while downloading it, but in my code the entire folder is also deleted after all the files are gone.\r\n\r\nAnd when I am getting the files from the blob folder they are coming in the format of HDF/a1.tif, HDF/a2.tif\r\n\r\nI am posting the code I am using for downloading the image files and also what I am doing to delete them \r\n\r\n\r\n    try{\r\n       CloudStorageAccount storageAccount = CloudStorage.parse(storageConnect);\r\n       CloudBlobClient blobClient = storageAccount.createCloudBlobClient();\r\n       CloudBlobContainer myCloudBlobContainer = blobClient.getContainerReference(Constant.Container_Name);\r\n       Iterable&lt;ListBlobItem&gt; blobs = myCloudBlobContainer.listBlobs();\r\n\r\n     for(ListBlobItem blob: blobs){\r\n      if(blob instanceof CloudBlobDirectory){\r\n      CloudBlobDirectory directory = (CloudBlobDirectory) blob;\r\n      Iterable&lt;ListBlobItem&gt; fileBlobs = directory.listBlobs();\r\n      String actualFileName = &quot;&quot;;\r\n      String actualDir = &quot;&quot;;\r\n      CloudBlob cloudBlob = null;\r\n      for(ListBlobItem fileBlob: fileBlobs){\r\n      if(fileBlob instanceof CloudBlob){\r\n      cloudBlob = (CloudBlob)fileBlob;\r\n       if(cloudBlob.getName().contains(&quot;.tif&quot;)){\r\n       log.info(&quot;File Name with directory: &quot;,cloudBlob.getName());\r\n       actualFileName = cloudBlob.getName().split(&quot;/&quot;)[1];\r\n       actualDir = cloudBlob.getName().split(&quot;/&quot;)[0];\r\n       Files.createDirectories(Paths.get(actualDir));\r\n       cloudBlob.download(new FileOutPutStream(actualDir+&quot;\\\\&quot;+actualFileName));\r\n       log.info(&quot;Download File from directory{},actualDir,actualFileName);\r\n       deleteFileAfterDownload(cloudBlob);\r\n\r\n      }\r\n     }\r\n    }\r\n\r\n    private void deleteFileAfterDownload(CloudBlob cloudBlob){\r\n     cloudBlob.deleteIfExists();\r\n    }\r\n\r\n      \r\nAfter I execute the code, the entire folder along with the files are removed, but I don&#39;t want that. I want to delete files one by one and retain the folder as it is.\r\n\r\n\r\n\r\n","title":"How can I delete all the files one by one after downloading it from the Azure Blob folder using Java","body":"<p>I am downloading some files from the Azure blob to my local directory for processing it, and while downloading I need to delete them <em><strong>one by one</strong></em>, so that if for some reason my process fails we can have those files which are not downloaded. I am able to download the files to my local, but when I am trying to delete them from the folder the entire folder is getting deleted. My folder structure is</p>\n<pre class=\"lang-none prettyprint-override\"><code>image-source(container name)\n\n    HDF(folder)\n    a1.tif\n    a2.tif\n    a3.tif\n    CFO(folder)\n    b1.tif\n    b2.tif\n    JPO(folder)\n    h1.tif\n    h2.tif\n</code></pre>\n<p>image source is the container name under which I have 3 folders, HDF, CFO, JPO, which then contain some image files. I have to delete each image files while downloading it, but in my code the entire folder is also deleted after all the files are gone.</p>\n<p>And when I am getting the files from the blob folder they are coming in the format of HDF/a1.tif, HDF/a2.tif</p>\n<p>I am posting the code I am using for downloading the image files and also what I am doing to delete them</p>\n<pre><code>try{\n   CloudStorageAccount storageAccount = CloudStorage.parse(storageConnect);\n   CloudBlobClient blobClient = storageAccount.createCloudBlobClient();\n   CloudBlobContainer myCloudBlobContainer = blobClient.getContainerReference(Constant.Container_Name);\n   Iterable&lt;ListBlobItem&gt; blobs = myCloudBlobContainer.listBlobs();\n\n for(ListBlobItem blob: blobs){\n  if(blob instanceof CloudBlobDirectory){\n  CloudBlobDirectory directory = (CloudBlobDirectory) blob;\n  Iterable&lt;ListBlobItem&gt; fileBlobs = directory.listBlobs();\n  String actualFileName = &quot;&quot;;\n  String actualDir = &quot;&quot;;\n  CloudBlob cloudBlob = null;\n  for(ListBlobItem fileBlob: fileBlobs){\n  if(fileBlob instanceof CloudBlob){\n  cloudBlob = (CloudBlob)fileBlob;\n   if(cloudBlob.getName().contains(&quot;.tif&quot;)){\n   log.info(&quot;File Name with directory: &quot;,cloudBlob.getName());\n   actualFileName = cloudBlob.getName().split(&quot;/&quot;)[1];\n   actualDir = cloudBlob.getName().split(&quot;/&quot;)[0];\n   Files.createDirectories(Paths.get(actualDir));\n   cloudBlob.download(new FileOutPutStream(actualDir+&quot;\\\\&quot;+actualFileName));\n   log.info(&quot;Download File from directory{},actualDir,actualFileName);\n   deleteFileAfterDownload(cloudBlob);\n\n  }\n }\n}\n\nprivate void deleteFileAfterDownload(CloudBlob cloudBlob){\n cloudBlob.deleteIfExists();\n}\n\n  \n</code></pre>\n<p>After I execute the code, the entire folder along with the files are removed, but I don't want that. I want to delete files one by one and retain the folder as it is.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":14315539,"reputation":309,"user_id":10340422,"display_name":"Chirag Rayani"},"score":0,"creation_date":1611730928,"post_id":65914250,"comment_id":116541526,"body_markdown":"can you please share the code where you are calling this function?","body":"can you please share the code where you are calling this function?"},{"owner":{"account_id":3624931,"reputation":5148,"user_id":3022836,"accept_rate":50,"display_name":"Kunu"},"score":0,"creation_date":1611731097,"post_id":65914250,"comment_id":116541579,"body_markdown":"check line number 173 of Preconditions.java","body":"check line number 173 of Preconditions.java"},{"owner":{"account_id":20558376,"reputation":143,"user_id":15089395,"display_name":"Sebastian Litwiniuk"},"score":0,"creation_date":1611731178,"post_id":65914250,"comment_id":116541599,"body_markdown":"@ChiragRayani I edited the post with the code you asked","body":"@ChiragRayani I edited the post with the code you asked"},{"owner":{"account_id":12570580,"reputation":458,"user_id":9144811,"display_name":"Muhammad Awais"},"score":0,"creation_date":1611731383,"post_id":65914250,"comment_id":116541669,"body_markdown":"Sebastian :: Kindly log an error and check what message you are getting by volley. `Log.d(&quot;volleyError&quot;, &quot;${volleyError.message}&quot;)`","body":"Sebastian :: Kindly log an error and check what message you are getting by volley. <code>Log.d(&quot;volleyError&quot;, &quot;${volleyError.message}&quot;)</code>"},{"owner":{"account_id":20558376,"reputation":143,"user_id":15089395,"display_name":"Sebastian Litwiniuk"},"score":0,"creation_date":1611732122,"post_id":65914250,"comment_id":116541916,"body_markdown":"@MuhammadAwais to be honest I have no idea how to do it","body":"@MuhammadAwais to be honest I have no idea how to do it"},{"owner":{"account_id":12570580,"reputation":458,"user_id":9144811,"display_name":"Muhammad Awais"},"score":0,"creation_date":1611732261,"post_id":65914250,"comment_id":116541964,"body_markdown":"`Log.d(&quot;volleyError&quot;, &quot;${volleyError.message}&quot;)` add this below `Toast.makeText(applicationContext, volleyError.message, Toast.LENGTH_LONG).show()`","body":"<code>Log.d(&quot;volleyError&quot;, &quot;${volleyError.message}&quot;)</code> add this below <code>Toast.makeText(applicationContext, volleyError.message, Toast.LENGTH_LONG).show()</code>"},{"owner":{"account_id":20558376,"reputation":143,"user_id":15089395,"display_name":"Sebastian Litwiniuk"},"score":0,"creation_date":1611732343,"post_id":65914250,"comment_id":116541991,"body_markdown":"I didn&#39;t change anything and it suddenly works. I have no idea what&#39;s going on","body":"I didn&#39;t change anything and it suddenly works. I have no idea what&#39;s going on"},{"owner":{"account_id":11259570,"reputation":916,"user_id":8258305,"accept_rate":60,"display_name":"Mohd Qasim"},"score":0,"creation_date":1631538378,"post_id":65914250,"comment_id":122241356,"body_markdown":"its related to android 11 version. keep version checker for now for temporary fix","body":"its related to android 11 version. keep version checker for now for temporary fix"},{"owner":{"account_id":11259570,"reputation":916,"user_id":8258305,"accept_rate":60,"display_name":"Mohd Qasim"},"score":0,"creation_date":1631540434,"post_id":65914250,"comment_id":122242327,"body_markdown":"it&#39;s causes because message string is `null` and in android 11 that&#39;s the cause","body":"it&#39;s causes because message string is <code>null</code> and in android 11 that&#39;s the cause"}],"answers":[{"tags":[],"owner":{"account_id":20245421,"reputation":31,"user_id":14848052,"display_name":"Shoaib Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611731688,"creation_date":1611731688,"answer_id":65914445,"question_id":65914250,"body_markdown":"    private fun userLogin() {\r\n            val email: String = emailText.text.toString().trim()\r\n            val password: String = passwordText.text.toString().trim()\r\n    \r\n            val stringRequest = object : StringRequest(\r\n                    Method.POST, URL_LOGIN,\r\n                    Response.Listener&lt;String&gt; { response -&gt;\r\n                        try {\r\n                            val obj = JSONObject(response)\r\n                            if (!obj.getBoolean(&quot;error&quot;)) {\r\n                                SharedPrefManager.getInstance(applicationContext)\r\n                                        ?.userLogin(\r\n                                                obj.getInt(&quot;id&quot;),\r\n                                                obj.getString(&quot;email&quot;))\r\n                                Toast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\r\n    \r\n                            }else{\r\n                                Toast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\r\n    \r\n                            }\r\n                               this.finish()\r\n                        } catch (e: JSONException) {\r\n                            e.printStackTrace()\r\n                        }\r\n                    },\r\n                    Response.ErrorListener { volleyError -&gt; Toast.makeText(applicationContext, volleyError.message, Toast.LENGTH_LONG).show() }) {\r\n                @Throws(AuthFailureError::class)\r\n                override fun getParams(): Map&lt;String, String&gt; {\r\n                    val params = HashMap&lt;String, String&gt;()\r\n                    params.put(&quot;email&quot;, email)\r\n                    params.put(&quot;password&quot;, password)\r\n                    return params\r\n                }\r\n            }\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.login_layout)\r\n    \r\n        buttonLogin.setOnClickListener {\r\n            userLogin()\r\n           \r\n        }\r\n    }","title":"java.lang.IllegalStateException: You must either set a text or a view","body":"<pre><code>private fun userLogin() {\n        val email: String = emailText.text.toString().trim()\n        val password: String = passwordText.text.toString().trim()\n\n        val stringRequest = object : StringRequest(\n                Method.POST, URL_LOGIN,\n                Response.Listener&lt;String&gt; { response -&gt;\n                    try {\n                        val obj = JSONObject(response)\n                        if (!obj.getBoolean(&quot;error&quot;)) {\n                            SharedPrefManager.getInstance(applicationContext)\n                                    ?.userLogin(\n                                            obj.getInt(&quot;id&quot;),\n                                            obj.getString(&quot;email&quot;))\n                            Toast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\n\n                        }else{\n                            Toast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\n\n                        }\n                           this.finish()\n                    } catch (e: JSONException) {\n                        e.printStackTrace()\n                    }\n                },\n                Response.ErrorListener { volleyError -&gt; Toast.makeText(applicationContext, volleyError.message, Toast.LENGTH_LONG).show() }) {\n            @Throws(AuthFailureError::class)\n            override fun getParams(): Map&lt;String, String&gt; {\n                val params = HashMap&lt;String, String&gt;()\n                params.put(&quot;email&quot;, email)\n                params.put(&quot;password&quot;, password)\n                return params\n            }\n        }\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.login_layout)\n\n    buttonLogin.setOnClickListener {\n        userLogin()\n       \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20558376,"reputation":143,"user_id":15089395,"display_name":"Sebastian Litwiniuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611734268,"creation_date":1611734268,"answer_id":65914987,"question_id":65914250,"body_markdown":"I changed the `userLogin()` method to this:\r\n\r\n    private fun userLogin() {\r\n    val email: String = emailText.text.toString().trim()\r\n    val password: String = passwordText.text.toString().trim()\r\n\r\n    val stringRequest = object : StringRequest(\r\n            Method.POST, URL_LOGIN,\r\n            Response.Listener&lt;String&gt; { response -&gt;\r\n                try {\r\n                    val obj = JSONObject(response)\r\n                    if (!obj.getBoolean(&quot;error&quot;)) {\r\n                        SharedPrefManager.getInstance(applicationContext)\r\n                                ?.userLogin(\r\n                                        obj.getInt(&quot;id&quot;),\r\n                                        obj.getString(&quot;email&quot;))\r\n                        Toast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\r\n\r\n                    }else{\r\n                        Toast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\r\n\r\n                    }\r\n                } catch (e: JSONException) {\r\n                    e.printStackTrace()\r\n                }\r\n            },\r\n            Response.ErrorListener { volleyError-&gt;\r\n                run {\r\n                    Toast.makeText(applicationContext, volleyError.message, Toast.LENGTH_LONG).show()\r\n                    Log.d(&quot;volleyError&quot;, &quot;${volleyError.message}&quot;)\r\n                }\r\n            }) {\r\n\r\n        @Throws(AuthFailureError::class)\r\n        override fun getParams(): Map&lt;String, String&gt; {\r\n            val params = HashMap&lt;String, String&gt;()\r\n            params.put(&quot;email&quot;, email)\r\n            params.put(&quot;password&quot;, password)\r\n            return params\r\n        }\r\n    }\r\n    VolleySingleton.instance?.addToRequestQueue(stringRequest)\r\n\r\n    }\r\n\r\n\r\nAnd everything seems to work, I have no idea why but it works.","title":"java.lang.IllegalStateException: You must either set a text or a view","body":"<p>I changed the <code>userLogin()</code> method to this:</p>\n<pre><code>private fun userLogin() {\nval email: String = emailText.text.toString().trim()\nval password: String = passwordText.text.toString().trim()\n\nval stringRequest = object : StringRequest(\n        Method.POST, URL_LOGIN,\n        Response.Listener&lt;String&gt; { response -&gt;\n            try {\n                val obj = JSONObject(response)\n                if (!obj.getBoolean(&quot;error&quot;)) {\n                    SharedPrefManager.getInstance(applicationContext)\n                            ?.userLogin(\n                                    obj.getInt(&quot;id&quot;),\n                                    obj.getString(&quot;email&quot;))\n                    Toast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\n\n                }else{\n                    Toast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\n\n                }\n            } catch (e: JSONException) {\n                e.printStackTrace()\n            }\n        },\n        Response.ErrorListener { volleyError-&gt;\n            run {\n                Toast.makeText(applicationContext, volleyError.message, Toast.LENGTH_LONG).show()\n                Log.d(&quot;volleyError&quot;, &quot;${volleyError.message}&quot;)\n            }\n        }) {\n\n    @Throws(AuthFailureError::class)\n    override fun getParams(): Map&lt;String, String&gt; {\n        val params = HashMap&lt;String, String&gt;()\n        params.put(&quot;email&quot;, email)\n        params.put(&quot;password&quot;, password)\n        return params\n    }\n}\nVolleySingleton.instance?.addToRequestQueue(stringRequest)\n\n}\n</code></pre>\n<p>And everything seems to work, I have no idea why but it works.</p>\n"},{"tags":[],"owner":{"account_id":11259570,"reputation":916,"user_id":8258305,"accept_rate":60,"display_name":"Mohd Qasim"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1631541778,"creation_date":1631541778,"answer_id":69164053,"question_id":65914250,"body_markdown":"in android 11(API level 30) `Compatibility.isChangeEnabled(CHANGE_TEXT_TOASTS_IN_THE_SYSTEM)` will return true in `Toast` class `show()` method, for android 11 as mention in [android developer site][1]\r\n\r\nfor now if you want to skip this exception don&#39;t pass `null` in message parameter of Toast  `Toast.makeText(applicationContext, obj.getString(&quot;message&quot;),Toast.LENGTH_LONG).show()`\r\n here your `obj.getString(&quot;message&quot;)` getting null for certain cases so you check null then show `Toast` like following\r\n\r\n    if(obj!=null &amp;&amp; obj.getString(&quot;message&quot;)!=null){\r\n    Toast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\r\n    }else//static message\r\nlike this we can prevent exception\r\n\r\n  [1]: https://developer.android.com/about/versions/11/reference/compat-framework-changes#change_text_toasts_in_the_system\r\n","title":"java.lang.IllegalStateException: You must either set a text or a view","body":"<p>in android 11(API level 30) <code>Compatibility.isChangeEnabled(CHANGE_TEXT_TOASTS_IN_THE_SYSTEM)</code> will return true in <code>Toast</code> class <code>show()</code> method, for android 11 as mention in <a href=\"https://developer.android.com/about/versions/11/reference/compat-framework-changes#change_text_toasts_in_the_system\" rel=\"noreferrer\">android developer site</a></p>\n<p>for now if you want to skip this exception don't pass <code>null</code> in message parameter of Toast  <code>Toast.makeText(applicationContext, obj.getString(&quot;message&quot;),Toast.LENGTH_LONG).show()</code>\nhere your <code>obj.getString(&quot;message&quot;)</code> getting null for certain cases so you check null then show <code>Toast</code> like following</p>\n<pre><code>if(obj!=null &amp;&amp; obj.getString(&quot;message&quot;)!=null){\nToast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\n}else//static message\n</code></pre>\n<p>like this we can prevent exception</p>\n"},{"tags":[],"owner":{"account_id":14003698,"reputation":59,"user_id":10114502,"display_name":"amirreza arampour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645213368,"creation_date":1645213368,"answer_id":71179051,"question_id":65914250,"body_markdown":"You must check for Toast message from before to be closed\r\n\r\n\r\n\r\n        Toast mToast = Toast.makeText(context, msg, Toast.LENGTH_SHORT);\r\n\r\n        // cancel previous toast and display correct answer toast\r\n        try {\r\n            if (mToast.getView().isShown()) {\r\n                mToast.cancel();\r\n            }\r\n            // cancel same toast only on Android P and above, to avoid IllegalStateException on addView\r\n            if (Build.VERSION.SDK_INT &gt;= 28 &amp;&amp; mToast.getView().isShown()) {\r\n                mToast.cancel();\r\n            }\r\n            mToast.show();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            mToast.show();//This line will show toast if previous toast is null\r\n        }\r\n\r\n    \r\n\r\nYou this function in a global class , And use it for Toasting in anywhere","title":"java.lang.IllegalStateException: You must either set a text or a view","body":"<p>You must check for Toast message from before to be closed</p>\n<pre><code>    Toast mToast = Toast.makeText(context, msg, Toast.LENGTH_SHORT);\n\n    // cancel previous toast and display correct answer toast\n    try {\n        if (mToast.getView().isShown()) {\n            mToast.cancel();\n        }\n        // cancel same toast only on Android P and above, to avoid IllegalStateException on addView\n        if (Build.VERSION.SDK_INT &gt;= 28 &amp;&amp; mToast.getView().isShown()) {\n            mToast.cancel();\n        }\n        mToast.show();\n    } catch (Exception e) {\n        e.printStackTrace();\n        mToast.show();//This line will show toast if previous toast is null\n    }\n</code></pre>\n<p>You this function in a global class , And use it for Toasting in anywhere</p>\n"}],"owner":{"account_id":20558376,"reputation":143,"user_id":15089395,"display_name":"Sebastian Litwiniuk"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15092,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1645213368,"creation_date":1611730696,"question_id":65914250,"body_markdown":"I&#39;m new to android and I keep getting this error while clicking on a button which process database requests.\r\nI don&#39;t know what&#39;s going on because everything was working yesterday and I didn&#39;t do any changes at all.\r\n\r\nThe errorlog:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.myapplication, PID: 7510\r\n    java.lang.IllegalStateException: You must either set a text or a view\r\n        at com.android.internal.util.Preconditions.checkState(Preconditions.java:173)\r\n        at android.widget.Toast.show(Toast.java:188)\r\n        at com.example.myapplication.LoginActivity$userLogin$stringRequest$3.onErrorResponse(LoginActivity.kt:106)\r\n        at com.android.volley.Request.deliverError(Request.java:617)\r\n        at com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:104)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n\r\nAnd the code errorlog refers to:\r\n\r\n    private fun userLogin() {\r\n            val email: String = emailText.text.toString().trim()\r\n            val password: String = passwordText.text.toString().trim()\r\n    \r\n            val stringRequest = object : StringRequest(\r\n                    Method.POST, URL_LOGIN,\r\n                    Response.Listener&lt;String&gt; { response -&gt;\r\n                        try {\r\n                            val obj = JSONObject(response)\r\n                            if (!obj.getBoolean(&quot;error&quot;)) {\r\n                                SharedPrefManager.getInstance(applicationContext)\r\n                                        ?.userLogin(\r\n                                                obj.getInt(&quot;id&quot;),\r\n                                                obj.getString(&quot;email&quot;))\r\n                                Toast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\r\n    \r\n                            }else{\r\n                                Toast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\r\n    \r\n                            }\r\n                        } catch (e: JSONException) {\r\n                            e.printStackTrace()\r\n                        }\r\n                    },\r\n                    Response.ErrorListener { volleyError -&gt; Toast.makeText(applicationContext, volleyError.message, Toast.LENGTH_LONG).show() }) {\r\n                @Throws(AuthFailureError::class)\r\n                override fun getParams(): Map&lt;String, String&gt; {\r\n                    val params = HashMap&lt;String, String&gt;()\r\n                    params.put(&quot;email&quot;, email)\r\n                    params.put(&quot;password&quot;, password)\r\n                    return params\r\n                }\r\n            }\r\n\r\nCode which is calling this function:\r\n\r\n     override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.login_layout)\r\n\r\n        buttonLogin.setOnClickListener {\r\n            userLogin()\r\n            this.finish()\r\n        }\r\n    }\r\n\r\nHonestly, I have no idea what this error means, if I need to provide more code please let me know.\r\n","title":"java.lang.IllegalStateException: You must either set a text or a view","body":"<p>I'm new to android and I keep getting this error while clicking on a button which process database requests.\nI don't know what's going on because everything was working yesterday and I didn't do any changes at all.</p>\n<p>The errorlog:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.myapplication, PID: 7510\njava.lang.IllegalStateException: You must either set a text or a view\n    at com.android.internal.util.Preconditions.checkState(Preconditions.java:173)\n    at android.widget.Toast.show(Toast.java:188)\n    at com.example.myapplication.LoginActivity$userLogin$stringRequest$3.onErrorResponse(LoginActivity.kt:106)\n    at com.android.volley.Request.deliverError(Request.java:617)\n    at com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:104)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>And the code errorlog refers to:</p>\n<pre><code>private fun userLogin() {\n        val email: String = emailText.text.toString().trim()\n        val password: String = passwordText.text.toString().trim()\n\n        val stringRequest = object : StringRequest(\n                Method.POST, URL_LOGIN,\n                Response.Listener&lt;String&gt; { response -&gt;\n                    try {\n                        val obj = JSONObject(response)\n                        if (!obj.getBoolean(&quot;error&quot;)) {\n                            SharedPrefManager.getInstance(applicationContext)\n                                    ?.userLogin(\n                                            obj.getInt(&quot;id&quot;),\n                                            obj.getString(&quot;email&quot;))\n                            Toast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\n\n                        }else{\n                            Toast.makeText(applicationContext, obj.getString(&quot;message&quot;), Toast.LENGTH_LONG).show()\n\n                        }\n                    } catch (e: JSONException) {\n                        e.printStackTrace()\n                    }\n                },\n                Response.ErrorListener { volleyError -&gt; Toast.makeText(applicationContext, volleyError.message, Toast.LENGTH_LONG).show() }) {\n            @Throws(AuthFailureError::class)\n            override fun getParams(): Map&lt;String, String&gt; {\n                val params = HashMap&lt;String, String&gt;()\n                params.put(&quot;email&quot;, email)\n                params.put(&quot;password&quot;, password)\n                return params\n            }\n        }\n</code></pre>\n<p>Code which is calling this function:</p>\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.login_layout)\n\n    buttonLogin.setOnClickListener {\n        userLogin()\n        this.finish()\n    }\n}\n</code></pre>\n<p>Honestly, I have no idea what this error means, if I need to provide more code please let me know.</p>\n"},{"tags":["java","class","object","oop","interface"],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645212887,"creation_date":1645212464,"answer_id":71178894,"question_id":71178571,"body_markdown":"Try this:\r\n\r\n```java\r\nif( myClass1Obj1 instanceof MyClass1 myInterfaceObj )\r\n{\r\n  myInterfaceObj.myClass1Method();\r\n}\r\n```\r\n\r\nFor those more traditionally inclined and more daring is this alternative:\r\n\r\n```java\r\n((MyClass1) myClass1Obj1).myClass1Method();\r\n```\r\n\r\nMore daring, because the second does not perform any checks whether `myClass1Obj1` is really an instance of `MyClass1`, but on the other side with the code we see: what else could it be?\r\n\r\nOf course we can have it also without casting:\r\n\r\n```java\r\nfinal var method = myClass1Obj1.getClass().getMethod( &quot;myClass1Method&quot; );\r\nmethod.invoke( myClass1Obj1 );\r\n```\r\nAs I am lazy, all the recommended error handling is missing here. Not to mention that your compiler and/or IDE will complain about the unhandled exceptions.","title":"Accessing the method of a class (which implements an interface), which is not declared in the Interface","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if( myClass1Obj1 instanceof MyClass1 myInterfaceObj )\n{\n  myInterfaceObj.myClass1Method();\n}\n</code></pre>\n<p>For those more traditionally inclined and more daring is this alternative:</p>\n<pre class=\"lang-java prettyprint-override\"><code>((MyClass1) myClass1Obj1).myClass1Method();\n</code></pre>\n<p>More daring, because the second does not perform any checks whether <code>myClass1Obj1</code> is really an instance of <code>MyClass1</code>, but on the other side with the code we see: what else could it be?</p>\n<p>Of course we can have it also without casting:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var method = myClass1Obj1.getClass().getMethod( &quot;myClass1Method&quot; );\nmethod.invoke( myClass1Obj1 );\n</code></pre>\n<p>As I am lazy, all the recommended error handling is missing here. Not to mention that your compiler and/or IDE will complain about the unhandled exceptions.</p>\n"}],"owner":{"account_id":17186888,"reputation":43,"user_id":12441349,"display_name":"Raghu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":991,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1645212958,"answer_count":1,"score":-3,"last_activity_date":1645212917,"creation_date":1645210639,"question_id":71178571,"body_markdown":"I am trying to play around with interfaces and classes and stumbled upon the below scenario. \r\n\r\nI have an interface `MyInterface` with `interfaceMethod()`, which is implemented by `MyClass1` class. `MyClass1` implements the `interfaceMethod()` and also has its own public method `myClass1Method()`.\r\n\r\nNow, when I create `myClass1Obj1` object for `MyClass1` via interface, the `myClass1Method()` is not accessible (I understand why it&#39;s not accessible). I wanted to know if there is way to access the `myClass1Method` using the `myClass1Obj1`.\r\n\r\nOne way to access the `myClass1Method()` is to create an object of `MyClass1` and access the method. I&#39;m more curious to know if `myClass1Method()` can be accessed via `myClass1Obj1`.\r\n\r\nBelow is the code representation of above scenario.\r\n\r\nInterface definition\r\n```java\r\npublic interface MyInterface {\r\n    void interfaceMethod();\r\n}\r\n```\r\n\r\nClass definition\r\n```java\r\npublic class MyClass1 implements MyInterface{\r\n\r\n    @Override\r\n    public void interfaceMethod(){\r\n        System.out.println(&quot;MyClass1.interfaceMethod&quot;);\r\n    }\r\n\r\n    public void myClass1Method(){\r\n        System.out.println(&quot;MyClass1.myClass1Method&quot;);\r\n    }\r\n\r\n    public static void main(String []args){\r\n        MyInterface myClass1Obj1 = new MyClass1();\r\n        myClass1Obj1.interfaceMethod();\r\n        myClass1Obj1.myClass1Method(); // Compile time error - Cannot resolve method &#39;myClass1Method&#39; in &#39;MyInterface&#39;\r\n\r\n        MyClass1 myClass1Obj2 = new MyClass1();\r\n        myClass1Obj2.myClass1Method();\r\n    }\r\n}\r\n```","title":"Accessing the method of a class (which implements an interface), which is not declared in the Interface","body":"<p>I am trying to play around with interfaces and classes and stumbled upon the below scenario.</p>\n<p>I have an interface <code>MyInterface</code> with <code>interfaceMethod()</code>, which is implemented by <code>MyClass1</code> class. <code>MyClass1</code> implements the <code>interfaceMethod()</code> and also has its own public method <code>myClass1Method()</code>.</p>\n<p>Now, when I create <code>myClass1Obj1</code> object for <code>MyClass1</code> via interface, the <code>myClass1Method()</code> is not accessible (I understand why it's not accessible). I wanted to know if there is way to access the <code>myClass1Method</code> using the <code>myClass1Obj1</code>.</p>\n<p>One way to access the <code>myClass1Method()</code> is to create an object of <code>MyClass1</code> and access the method. I'm more curious to know if <code>myClass1Method()</code> can be accessed via <code>myClass1Obj1</code>.</p>\n<p>Below is the code representation of above scenario.</p>\n<p>Interface definition</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyInterface {\n    void interfaceMethod();\n}\n</code></pre>\n<p>Class definition</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass1 implements MyInterface{\n\n    @Override\n    public void interfaceMethod(){\n        System.out.println(&quot;MyClass1.interfaceMethod&quot;);\n    }\n\n    public void myClass1Method(){\n        System.out.println(&quot;MyClass1.myClass1Method&quot;);\n    }\n\n    public static void main(String []args){\n        MyInterface myClass1Obj1 = new MyClass1();\n        myClass1Obj1.interfaceMethod();\n        myClass1Obj1.myClass1Method(); // Compile time error - Cannot resolve method 'myClass1Method' in 'MyInterface'\n\n        MyClass1 myClass1Obj2 = new MyClass1();\n        myClass1Obj2.myClass1Method();\n    }\n}\n</code></pre>\n"},{"tags":["java","lwjgl","openal"],"comments":[{"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"score":0,"creation_date":1645161293,"post_id":71168646,"comment_id":125802530,"body_markdown":"https://www.codejava.net/coding/how-to-play-back-audio-in-java-with-examples","body":"<a href=\"https://www.codejava.net/coding/how-to-play-back-audio-in-java-with-examples\" rel=\"nofollow noreferrer\">codejava.net/coding/&hellip;</a>"},{"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"score":0,"creation_date":1645161423,"post_id":71168646,"comment_id":125802554,"body_markdown":"https://blog.lwjgl.org/memory-management-in-lwjgl-3/","body":"<a href=\"https://blog.lwjgl.org/memory-management-in-lwjgl-3/\" rel=\"nofollow noreferrer\">blog.lwjgl.org/memory-management-in-lwjgl-3</a>"},{"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"score":0,"creation_date":1645161465,"post_id":71168646,"comment_id":125802563,"body_markdown":"https://github.com/LWJGL/lwjgl3/tree/3.3.0 https://github.com/LWJGL/lwjgl3/tree/3.3.0/doc","body":"<a href=\"https://github.com/LWJGL/lwjgl3/tree/3.3.0\" rel=\"nofollow noreferrer\">github.com/LWJGL/lwjgl3/tree/3.3.0</a> <a href=\"https://github.com/LWJGL/lwjgl3/tree/3.3.0/doc\" rel=\"nofollow noreferrer\">github.com/LWJGL/lwjgl3/tree/3.3.0/doc</a>"},{"owner":{"account_id":18947895,"reputation":33,"user_id":13826319,"display_name":"Kevin Who"},"score":1,"creation_date":1645161840,"post_id":71168646,"comment_id":125802628,"body_markdown":"Thanks, but I have already been over to all these links, they dont explain how to use it. The last 3 links don&#39;t even get into streaming audio at all, and the first link is using javax, not openAL/LWJGL.","body":"Thanks, but I have already been over to all these links, they dont explain how to use it. The last 3 links don&#39;t even get into streaming audio at all, and the first link is using javax, not openAL/LWJGL."},{"owner":{"account_id":18947895,"reputation":33,"user_id":13826319,"display_name":"Kevin Who"},"score":1,"creation_date":1645211628,"post_id":71168646,"comment_id":125819849,"body_markdown":"Unfortunately no because I don&#39;t know how to use it. I have tried searching for how to use it, and I found nothing. I also have some adapted code from lwjgl 2, but it crashes when ran. Also yes its using this.","body":"Unfortunately no because I don&#39;t know how to use it. I have tried searching for how to use it, and I found nothing. I also have some adapted code from lwjgl 2, but it crashes when ran. Also yes its using this."},{"owner":{"account_id":18947895,"reputation":33,"user_id":13826319,"display_name":"Kevin Who"},"score":0,"creation_date":1645218561,"post_id":71168646,"comment_id":125821835,"body_markdown":"Oh well it seems like my cache was broken. How would I now read a ogg file instead of that?","body":"Oh well it seems like my cache was broken. How would I now read a ogg file instead of that?"}],"owner":{"account_id":18947895,"reputation":33,"user_id":13826319,"display_name":"Kevin Who"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645211944,"creation_date":1645160995,"question_id":71168646,"body_markdown":"I would like to be able to stream audio from a file so that if I wanted to play a longer file it won&#39;t hog up a huge amount of memory. I have tried to adapt quite a few from examples using LWJGL 2 but have had no luck. I can&#39;t find any good docs/examples for LWJGL 3, could someone give me a working example of audio streaming, and or some docs if there are any? Also no, the Javadoc isn&#39;t of much use to me since I don&#39;t know how to use it all together, let alone what to use.\r\n\r\nI would like a snippet of working code so that I can see how it works.\r\nThe code that I adapted is here: https://bedroomcoders.co.uk/lwjgl-streaming-sound-with-openal/ \r\n\r\nHere is my addapted code: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.IntBuffer;\r\n\r\n    import org.lwjgl.BufferUtils;\r\n\r\n    import org.lwjgl.openal.*;\r\n    import static org.lwjgl.openal.AL10.*;\r\n    import static org.lwjgl.openal.ALC10.*;\r\n\r\n    import org.lwjgl.openal.ALCCapabilities;\r\n\r\n    public final class Synth {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n\r\n            // ALContext alContext = ALContext.create();\r\n            long device = alcOpenDevice((ByteBuffer) null);\r\n            ALCCapabilities deviceCaps = ALC.createCapabilities(device);\r\n\r\n            long alContext = alcCreateContext(device, (IntBuffer) null);\r\n            alcMakeContextCurrent(alContext);\r\n            AL.createCapabilities(deviceCaps);\r\n\r\n            // a sound maker\r\n            int source = alGenSources();\r\n\r\n            // hold new data for transfer to AL\r\n            ByteBuffer pcm = BufferUtils.createByteBuffer(11025); // about 1/4 second at 44.1khz\r\n\r\n            float ang = 0;\r\n\r\n            // throw 3 chunks of sound into a queue\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                ang = fillBuffer(ang, pcm);\r\n                int b = alGenBuffers();\r\n                alBufferData(b, AL_FORMAT_MONO8, pcm, 44100);\r\n                alSourceQueueBuffers(source, b);\r\n            }\r\n\r\n            System.out.println(&quot;Playing sound ...&quot;);\r\n            alSourcePlay(source);\r\n\r\n            boolean done = false;\r\n            int elapsed = 0;\r\n            while (!done) {\r\n\r\n                // buffers processed since last asked\r\n                int p = alGetSourcei(source, AL_BUFFERS_PROCESSED);\r\n                while (p != 0) {\r\n                    elapsed++;\r\n                    if (elapsed &gt; 15)\r\n                        break; // stop adding to queue\r\n\r\n                    // at least 1 buffer had played so remove it from the queue\r\n                    int b = alSourceUnqueueBuffers(source);\r\n\r\n                    // refill the byte buffer with the next chunk of sound\r\n                    ang = fillBuffer(ang, pcm);\r\n\r\n                    // send the buffer to AL\r\n                    alBufferData(b, AL_FORMAT_MONO8, pcm, 44100);\r\n\r\n                    // requeue the buffer\r\n                    alSourceQueueBuffers(source, b);\r\n\r\n                    // check if any more buffers have played\r\n                    p = alGetSourcei(source, AL_BUFFERS_PROCESSED);\r\n                }\r\n\r\n                Thread.sleep(20); // lets not hog the cpu... (we&#39;re not some crappy AAA game!)\r\n\r\n                // just to show if we stop filling buffers it stops!\r\n                if (alGetSourcei(source, AL_SOURCE_STATE) == AL_STOPPED) {\r\n                    done = true;\r\n                    System.out.println(&quot;source stopped &quot;);\r\n                }\r\n            }\r\n            alcDestroyContext(alContext);\r\n\r\n        }\r\n\r\n        // make a new chunk of sound picking off from where we where\r\n        // when we made the last chunk of sound\r\n        static int trig = 0;\r\n\r\n        public static float fillBuffer(float ang, ByteBuffer buff) {\r\n            int size = buff.capacity();\r\n            trig++;\r\n            for (int i = 0; i &lt; size; i++) {\r\n\r\n                int source1 = (int) (Math.sin(ang) * 127 + 128);\r\n                int source2 = 0;\r\n\r\n                if (trig &gt; 3)\r\n                    source2 = (int) (Math.sin(ang * 3) * 127 + 128);\r\n                if (trig &gt; 4)\r\n                    trig = 0;\r\n\r\n                // yes this really is how you do it.... *sigh*\r\n                buff.put(i, (byte) ((source1 + source2) / 2));\r\n\r\n                ang += 0.1f;\r\n            }\r\n            return ang;\r\n        }\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How do you stream audio in LWJGL 3?","body":"<p>I would like to be able to stream audio from a file so that if I wanted to play a longer file it won't hog up a huge amount of memory. I have tried to adapt quite a few from examples using LWJGL 2 but have had no luck. I can't find any good docs/examples for LWJGL 3, could someone give me a working example of audio streaming, and or some docs if there are any? Also no, the Javadoc isn't of much use to me since I don't know how to use it all together, let alone what to use.</p>\n<p>I would like a snippet of working code so that I can see how it works.\nThe code that I adapted is here: <a href=\"https://bedroomcoders.co.uk/lwjgl-streaming-sound-with-openal/\" rel=\"nofollow noreferrer\">https://bedroomcoders.co.uk/lwjgl-streaming-sound-with-openal/</a></p>\n<p>Here is my addapted code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import java.nio.ByteBuffer;\nimport java.nio.IntBuffer;\n\nimport org.lwjgl.BufferUtils;\n\nimport org.lwjgl.openal.*;\nimport static org.lwjgl.openal.AL10.*;\nimport static org.lwjgl.openal.ALC10.*;\n\nimport org.lwjgl.openal.ALCCapabilities;\n\npublic final class Synth {\n\n    public static void main(String[] args) throws Exception {\n\n        // ALContext alContext = ALContext.create();\n        long device = alcOpenDevice((ByteBuffer) null);\n        ALCCapabilities deviceCaps = ALC.createCapabilities(device);\n\n        long alContext = alcCreateContext(device, (IntBuffer) null);\n        alcMakeContextCurrent(alContext);\n        AL.createCapabilities(deviceCaps);\n\n        // a sound maker\n        int source = alGenSources();\n\n        // hold new data for transfer to AL\n        ByteBuffer pcm = BufferUtils.createByteBuffer(11025); // about 1/4 second at 44.1khz\n\n        float ang = 0;\n\n        // throw 3 chunks of sound into a queue\n        for (int i = 0; i &lt; 3; i++) {\n            ang = fillBuffer(ang, pcm);\n            int b = alGenBuffers();\n            alBufferData(b, AL_FORMAT_MONO8, pcm, 44100);\n            alSourceQueueBuffers(source, b);\n        }\n\n        System.out.println(\"Playing sound ...\");\n        alSourcePlay(source);\n\n        boolean done = false;\n        int elapsed = 0;\n        while (!done) {\n\n            // buffers processed since last asked\n            int p = alGetSourcei(source, AL_BUFFERS_PROCESSED);\n            while (p != 0) {\n                elapsed++;\n                if (elapsed &gt; 15)\n                    break; // stop adding to queue\n\n                // at least 1 buffer had played so remove it from the queue\n                int b = alSourceUnqueueBuffers(source);\n\n                // refill the byte buffer with the next chunk of sound\n                ang = fillBuffer(ang, pcm);\n\n                // send the buffer to AL\n                alBufferData(b, AL_FORMAT_MONO8, pcm, 44100);\n\n                // requeue the buffer\n                alSourceQueueBuffers(source, b);\n\n                // check if any more buffers have played\n                p = alGetSourcei(source, AL_BUFFERS_PROCESSED);\n            }\n\n            Thread.sleep(20); // lets not hog the cpu... (we're not some crappy AAA game!)\n\n            // just to show if we stop filling buffers it stops!\n            if (alGetSourcei(source, AL_SOURCE_STATE) == AL_STOPPED) {\n                done = true;\n                System.out.println(\"source stopped \");\n            }\n        }\n        alcDestroyContext(alContext);\n\n    }\n\n    // make a new chunk of sound picking off from where we where\n    // when we made the last chunk of sound\n    static int trig = 0;\n\n    public static float fillBuffer(float ang, ByteBuffer buff) {\n        int size = buff.capacity();\n        trig++;\n        for (int i = 0; i &lt; size; i++) {\n\n            int source1 = (int) (Math.sin(ang) * 127 + 128);\n            int source2 = 0;\n\n            if (trig &gt; 3)\n                source2 = (int) (Math.sin(ang * 3) * 127 + 128);\n            if (trig &gt; 4)\n                trig = 0;\n\n            // yes this really is how you do it.... *sigh*\n            buff.put(i, (byte) ((source1 + source2) / 2));\n\n            ang += 0.1f;\n        }\n        return ang;\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","performance","assertions"],"answers":[{"tags":[],"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1294400755,"creation_date":1294399211,"answer_id":4624949,"question_id":4624919,"body_markdown":"Very very little. I believe they are removed during class loading.\r\n\r\nThe closest thing I&#39;ve got to some proof is: [The assert statement specification][1] in the Java Langauge Specification. It seems to be worded so that the assert statements can be processed at class load time.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/statements.html#14.10","title":"Performance drag of Java assertions when disabled","body":"<p>Very very little. I believe they are removed during class loading.</p>\n\n<p>The closest thing I've got to some proof is: <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/statements.html#14.10\" rel=\"nofollow\">The assert statement specification</a> in the Java Langauge Specification. It seems to be worded so that the assert statements can be processed at class load time.</p>\n"},{"tags":[],"owner":{"account_id":32380,"reputation":134937,"user_id":89806,"accept_rate":58,"display_name":"moinudin"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1473272677,"creation_date":1294399484,"answer_id":4624991,"question_id":4624919,"body_markdown":"&gt; Disabling assertions eliminates their\r\n&gt; performance penalty entirely. Once\r\n&gt; disabled, they are essentially\r\n&gt; equivalent to empty statements in\r\n&gt; semantics and performance\r\n\r\n[Source](http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html)","title":"Performance drag of Java assertions when disabled","body":"<blockquote>\n  <p>Disabling assertions eliminates their\n  performance penalty entirely. Once\n  disabled, they are essentially\n  equivalent to empty statements in\n  semantics and performance</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html\" rel=\"nofollow\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":50030,"reputation":61435,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1645211628,"creation_date":1480621464,"answer_id":40919125,"question_id":4624919,"body_markdown":"Contrary to the conventional wisdom, **asserts do have a runtime impact and may affect performance.** The impact is likely to be small on average and zero in the median case, but it could be large when the stars align just right.\r\n\r\nSome of the mechanisms by which asserts slow things down at runtime are fairly &quot;smooth&quot; and predictable (and generally small), but the last way discussed below (failure to inline) is tricky because it is the largest potential issue (you could have an order-of-magnitude regression) and it isn&#39;t _smooth_&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n# Analysis\r\n\r\n## Assert Implementation\r\n\r\nWhen it comes to analyzing the `assert` functionality in Java, a nice thing is that they aren&#39;t anything magic at the bytecode/JVM level. That is, they are implemented in the `.class` file using standard Java mechanics at (.java file) compile time, and they don&#39;t get any special treatment by the JVM&lt;sup&gt;2&lt;/sup&gt;, but rely on the usual optimizations that apply to any runtime compiled code.\r\n\r\nLet&#39;s take a quick look at **exactly** how they are implemented on a modern Oracle 8 JDK (but AFAIK it hasn&#39;t changed in pretty much forever). \r\n\r\nTake the following method with a single assert:\r\n\r\n\tpublic int addAssert(int x, int y) {\r\n\t\tassert x &gt; 0 &amp;&amp; y &gt; 0;\r\n\t\treturn x + y;\r\n\t} \r\n\r\n... compile that method and decompile the bytecode with `javap -c foo.bar.Main`:\r\n\r\n      public int addAssert(int, int);\r\n        Code:\r\n           0: getstatic     #17                 // Field $assertionsDisabled:Z\r\n           3: ifne          22\r\n           6: iload_1\r\n           7: ifle          14\r\n          10: iload_2\r\n          11: ifgt          22\r\n          14: new           #39                 // class java/lang/AssertionError\r\n          17: dup\r\n          18: invokespecial #41                 // Method java/lang/AssertionError.&quot;&lt;init&gt;&quot;:()V\r\n          21: athrow\r\n          22: iload_1\r\n          23: iload_2\r\n          24: iadd\r\n          25: ireturn\r\n\r\nThe first 22 bytes of bytecode are all associated with the assert. Right up front, it checks the hidden static `$assertionsDisabled` field and jumps over all the assert logic if it is true. Otherwise, it just does the two checks in the usual way, and constructs and throws an `AssertionError()` object if they fail.\r\n\r\nSo there is nothing really special about assert support at the bytecode level - the only trick is the `$assertionsDisabled` field, which - using the same `javap` output - we can see is a `static final` initialized at class init time:\r\n\r\n      static final boolean $assertionsDisabled;\r\n    \r\n      static {};\r\n        Code:\r\n           0: ldc           #1                  // class foo/Scrap\r\n           2: invokevirtual #11                 // Method java/lang/Class.desiredAssertionStatus:()Z\r\n           5: ifne          12\r\n           8: iconst_1\r\n           9: goto          13\r\n          12: iconst_0\r\n          13: putstatic     #17                 // Field $assertionsDisabled:Z\r\n\r\nSo the compiler has created this hidden `static final` field and loads it based on the public [`desiredAssertionStatus()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#desiredAssertionStatus--) method.\r\n\r\nSo nothing magic at all. In fact, let&#39;s try to do the same thing ourselves, with our own static `SKIP_CHECKS` field that we load based on a system property:\r\n\r\n\tpublic static final boolean SKIP_CHECKS = Boolean.getBoolean(&quot;skip.checks&quot;);\r\n\t\r\n\tpublic int addHomebrew(int x, int y) {\r\n\t\tif (!SKIP_CHECKS) {\r\n\t\t\tif (!(x &gt; 0 &amp;&amp; y &gt; 0)) {\r\n\t\t\t\tthrow new AssertionError();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn x + y;\r\n\t}\r\n\r\nHere we just write out longhand what the assertion is doing (we could even combine the if statements, but we&#39;ll try to match the assert as closely as possible). Let&#39;s check the output:\r\n\r\n     public int addHomebrew(int, int);\r\n        Code:\r\n           0: getstatic     #18                 // Field SKIP_CHECKS:Z\r\n           3: ifne          22\r\n           6: iload_1\r\n           7: ifle          14\r\n          10: iload_2\r\n          11: ifgt          22\r\n          14: new           #33                 // class java/lang/AssertionError\r\n          17: dup\r\n          18: invokespecial #35                 // Method java/lang/AssertionError.&quot;&lt;init&gt;&quot;:()V\r\n          21: athrow\r\n          22: iload_1\r\n          23: iload_2\r\n          24: iadd\r\n          25: ireturn\r\n\r\nHuh, it&#39;s pretty much bytecode-for-bytecode identical to the assert version.\r\n\r\n## Assert Costs\r\n\r\nSo we can pretty much reduce the &quot;how expensive is an assert&quot; question to &quot;how expensive is a code jumped over by an always-taken branch based on a `static final` condition?&quot;. The good news then is that such branches are generally completely optimized away by the C2 compiler, _if_ the method is compiled. Of course, even in that case, you still pay some costs:\r\n\r\n 1. The class files are larger, and there is more code to JIT.\r\n 2. Prior to JIT, the interpreted version will likely run slower.\r\n 3. The full size of the function is used in inlining decisions, and so the presence of asserts _affects this decision even when disabled_.\r\n\r\nPoints (1) and (2) are a direct consequence of the assert being removed during runtime compile (JIT), rather than at java-file-compile time. This is a key difference with C and C++ asserts (but in exchange you get to decide to use asserts on each launch of the binary, rather than compiling in that decision).\r\n\r\nPoint (3) is probably the most critical, and is rarely mentioned and is hard to analyze. The basic idea is that the JIT uses a couple size thresholds when making inlining decisions - one small threshold (~30 bytes) under which it almost always inlines, and another larger threshold (~300 bytes) over which it never inlines. Between the thresholds, whether it inlines or not depends on whether the method is hot or not, and other heuristics such as whether it has already been inlined elsewhere.\r\n\r\nSince the thresholds are based on the bytecode size, the use of asserts can _dramatically affect_ those decisions - in the example above, fully 22 of the 26 bytes in the function were assert related. Especially when using many small methods, it is easy for asserts to push a method over the inlining thresholds. Now the thresholds are just heuristics, so it&#39;s possible that changing a method from inline to not-inline could _improve_ performance in some cases - but in general you want more rather than less inlining since it is a grand-daddy optimization that allows many more once it occurs.\r\n\r\n## Mitigation\r\n\r\nOne approach to work around this issue is to move most of the assert logic to a special function, as follows:\r\n\r\n\tpublic int addAssertOutOfLine(int x, int y) {\r\n\t\tassertInRange(x,y);\r\n\t\treturn x + y;\r\n\t}\r\n\t\r\n\tprivate static void assertInRange(int x, int y) {\r\n\t\tassert x &gt; 0 &amp;&amp; y &gt; 0;\r\n\t}\r\n\r\nThis compiles to:\r\n\r\n      public int addAssertOutOfLine(int, int);\r\n        Code:\r\n           0: iload_1\r\n           1: iload_2\r\n           2: invokestatic  #46                 // Method assertInRange:(II)V\r\n           5: iload_1\r\n           6: iload_2\r\n           7: iadd\r\n           8: ireturn\r\n\r\n... and so has reduced the size of that function from 26 to 9 bytes, of which 5 are assert related. Of course, the missing bytecode has just moved to the other function, but that&#39;s fine because it will be considered separately in inlining decisions and JIT-compiles to a no-op when asserts are disabled.\r\n\r\n## True Compile-Time Asserts\r\n\r\nFinally, it&#39;s worth noting that you can get C/C++-like compile-time asserts if you want. These are asserts whose on/off status is statically compiled into the binary (at `javac` time). If you want to enable asserts, you need a new binary. On the other hand, this type of assert is truly free at runtime.\r\n\r\nIf we change the homebrew SKIP_CHECKS `static final` to be known at compile time, like so:\r\n\r\n    public static final boolean SKIP_CHECKS = true;\r\n\r\nthen `addHomebrew` compiles down to:\r\n\r\n      public int addHomebrew(int, int);\r\n    Code:\r\n       0: iload_1\r\n       1: iload_2\r\n       2: iadd\r\n       3: ireturn\r\n\r\nThat is, there is no trace left of the assert. In this case we can truly say there is zero runtime cost. You could make this more workable across a project by having a single StaticAssert class that wraps the `SKIP_CHECKS` variable, and you can leverage this existing `assert` sugar to make a 1-line version:\r\n\r\n\tpublic int addHomebrew2(int x, int y) {\r\n\t\tassert SKIP_CHECKS || (x &gt; 0 &amp;&amp; y &gt; 0);\r\n\t\treturn x + y;\r\n\t}\r\n\r\nAgain, this compiles _at javac time_ down to bytecode without a trace of the assert. You are going to have to deal with an IDE warning about dead code though (at least in eclipse).  \r\n\r\n---\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; By this, I mean that this issue may have zero effect, and then after a small innocuous change to surrounding code it may suddenly have a big effect. Basically the various penalty levels are heavily _quantized_ due to the binary effect of the &quot;to inline or not to inline&quot; decisions.\r\n\r\n&lt;sup&gt;2&lt;/sup&gt; At least for the all-important part of compiling/running the assert-related code at runtime. Of course there is a small amount of support in the JVM for accepting the `-ea` command line argument and flipping the default assertion status (but as above you can accomplish the same effect in a generic way with properties).\r\n\r\n\r\n","title":"Performance drag of Java assertions when disabled","body":"<p>Contrary to the conventional wisdom, <strong>asserts do have a runtime impact and may affect performance.</strong> The impact is likely to be small on average and zero in the median case, but it could be large when the stars align just right.</p>\n<p>Some of the mechanisms by which asserts slow things down at runtime are fairly &quot;smooth&quot; and predictable (and generally small), but the last way discussed below (failure to inline) is tricky because it is the largest potential issue (you could have an order-of-magnitude regression) and it isn't <em>smooth</em><sup>1</sup>.</p>\n<h1>Analysis</h1>\n<h2>Assert Implementation</h2>\n<p>When it comes to analyzing the <code>assert</code> functionality in Java, a nice thing is that they aren't anything magic at the bytecode/JVM level. That is, they are implemented in the <code>.class</code> file using standard Java mechanics at (.java file) compile time, and they don't get any special treatment by the JVM<sup>2</sup>, but rely on the usual optimizations that apply to any runtime compiled code.</p>\n<p>Let's take a quick look at <strong>exactly</strong> how they are implemented on a modern Oracle 8 JDK (but AFAIK it hasn't changed in pretty much forever).</p>\n<p>Take the following method with a single assert:</p>\n<pre><code>public int addAssert(int x, int y) {\n    assert x &gt; 0 &amp;&amp; y &gt; 0;\n    return x + y;\n} \n</code></pre>\n<p>... compile that method and decompile the bytecode with <code>javap -c foo.bar.Main</code>:</p>\n<pre><code>  public int addAssert(int, int);\n    Code:\n       0: getstatic     #17                 // Field $assertionsDisabled:Z\n       3: ifne          22\n       6: iload_1\n       7: ifle          14\n      10: iload_2\n      11: ifgt          22\n      14: new           #39                 // class java/lang/AssertionError\n      17: dup\n      18: invokespecial #41                 // Method java/lang/AssertionError.&quot;&lt;init&gt;&quot;:()V\n      21: athrow\n      22: iload_1\n      23: iload_2\n      24: iadd\n      25: ireturn\n</code></pre>\n<p>The first 22 bytes of bytecode are all associated with the assert. Right up front, it checks the hidden static <code>$assertionsDisabled</code> field and jumps over all the assert logic if it is true. Otherwise, it just does the two checks in the usual way, and constructs and throws an <code>AssertionError()</code> object if they fail.</p>\n<p>So there is nothing really special about assert support at the bytecode level - the only trick is the <code>$assertionsDisabled</code> field, which - using the same <code>javap</code> output - we can see is a <code>static final</code> initialized at class init time:</p>\n<pre><code>  static final boolean $assertionsDisabled;\n\n  static {};\n    Code:\n       0: ldc           #1                  // class foo/Scrap\n       2: invokevirtual #11                 // Method java/lang/Class.desiredAssertionStatus:()Z\n       5: ifne          12\n       8: iconst_1\n       9: goto          13\n      12: iconst_0\n      13: putstatic     #17                 // Field $assertionsDisabled:Z\n</code></pre>\n<p>So the compiler has created this hidden <code>static final</code> field and loads it based on the public <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#desiredAssertionStatus--\" rel=\"noreferrer\"><code>desiredAssertionStatus()</code></a> method.</p>\n<p>So nothing magic at all. In fact, let's try to do the same thing ourselves, with our own static <code>SKIP_CHECKS</code> field that we load based on a system property:</p>\n<pre><code>public static final boolean SKIP_CHECKS = Boolean.getBoolean(&quot;skip.checks&quot;);\n\npublic int addHomebrew(int x, int y) {\n    if (!SKIP_CHECKS) {\n        if (!(x &gt; 0 &amp;&amp; y &gt; 0)) {\n            throw new AssertionError();\n        }\n    }\n    return x + y;\n}\n</code></pre>\n<p>Here we just write out longhand what the assertion is doing (we could even combine the if statements, but we'll try to match the assert as closely as possible). Let's check the output:</p>\n<pre><code> public int addHomebrew(int, int);\n    Code:\n       0: getstatic     #18                 // Field SKIP_CHECKS:Z\n       3: ifne          22\n       6: iload_1\n       7: ifle          14\n      10: iload_2\n      11: ifgt          22\n      14: new           #33                 // class java/lang/AssertionError\n      17: dup\n      18: invokespecial #35                 // Method java/lang/AssertionError.&quot;&lt;init&gt;&quot;:()V\n      21: athrow\n      22: iload_1\n      23: iload_2\n      24: iadd\n      25: ireturn\n</code></pre>\n<p>Huh, it's pretty much bytecode-for-bytecode identical to the assert version.</p>\n<h2>Assert Costs</h2>\n<p>So we can pretty much reduce the &quot;how expensive is an assert&quot; question to &quot;how expensive is a code jumped over by an always-taken branch based on a <code>static final</code> condition?&quot;. The good news then is that such branches are generally completely optimized away by the C2 compiler, <em>if</em> the method is compiled. Of course, even in that case, you still pay some costs:</p>\n<ol>\n<li>The class files are larger, and there is more code to JIT.</li>\n<li>Prior to JIT, the interpreted version will likely run slower.</li>\n<li>The full size of the function is used in inlining decisions, and so the presence of asserts <em>affects this decision even when disabled</em>.</li>\n</ol>\n<p>Points (1) and (2) are a direct consequence of the assert being removed during runtime compile (JIT), rather than at java-file-compile time. This is a key difference with C and C++ asserts (but in exchange you get to decide to use asserts on each launch of the binary, rather than compiling in that decision).</p>\n<p>Point (3) is probably the most critical, and is rarely mentioned and is hard to analyze. The basic idea is that the JIT uses a couple size thresholds when making inlining decisions - one small threshold (~30 bytes) under which it almost always inlines, and another larger threshold (~300 bytes) over which it never inlines. Between the thresholds, whether it inlines or not depends on whether the method is hot or not, and other heuristics such as whether it has already been inlined elsewhere.</p>\n<p>Since the thresholds are based on the bytecode size, the use of asserts can <em>dramatically affect</em> those decisions - in the example above, fully 22 of the 26 bytes in the function were assert related. Especially when using many small methods, it is easy for asserts to push a method over the inlining thresholds. Now the thresholds are just heuristics, so it's possible that changing a method from inline to not-inline could <em>improve</em> performance in some cases - but in general you want more rather than less inlining since it is a grand-daddy optimization that allows many more once it occurs.</p>\n<h2>Mitigation</h2>\n<p>One approach to work around this issue is to move most of the assert logic to a special function, as follows:</p>\n<pre><code>public int addAssertOutOfLine(int x, int y) {\n    assertInRange(x,y);\n    return x + y;\n}\n\nprivate static void assertInRange(int x, int y) {\n    assert x &gt; 0 &amp;&amp; y &gt; 0;\n}\n</code></pre>\n<p>This compiles to:</p>\n<pre><code>  public int addAssertOutOfLine(int, int);\n    Code:\n       0: iload_1\n       1: iload_2\n       2: invokestatic  #46                 // Method assertInRange:(II)V\n       5: iload_1\n       6: iload_2\n       7: iadd\n       8: ireturn\n</code></pre>\n<p>... and so has reduced the size of that function from 26 to 9 bytes, of which 5 are assert related. Of course, the missing bytecode has just moved to the other function, but that's fine because it will be considered separately in inlining decisions and JIT-compiles to a no-op when asserts are disabled.</p>\n<h2>True Compile-Time Asserts</h2>\n<p>Finally, it's worth noting that you can get C/C++-like compile-time asserts if you want. These are asserts whose on/off status is statically compiled into the binary (at <code>javac</code> time). If you want to enable asserts, you need a new binary. On the other hand, this type of assert is truly free at runtime.</p>\n<p>If we change the homebrew SKIP_CHECKS <code>static final</code> to be known at compile time, like so:</p>\n<pre><code>public static final boolean SKIP_CHECKS = true;\n</code></pre>\n<p>then <code>addHomebrew</code> compiles down to:</p>\n<pre><code>  public int addHomebrew(int, int);\nCode:\n   0: iload_1\n   1: iload_2\n   2: iadd\n   3: ireturn\n</code></pre>\n<p>That is, there is no trace left of the assert. In this case we can truly say there is zero runtime cost. You could make this more workable across a project by having a single StaticAssert class that wraps the <code>SKIP_CHECKS</code> variable, and you can leverage this existing <code>assert</code> sugar to make a 1-line version:</p>\n<pre><code>public int addHomebrew2(int x, int y) {\n    assert SKIP_CHECKS || (x &gt; 0 &amp;&amp; y &gt; 0);\n    return x + y;\n}\n</code></pre>\n<p>Again, this compiles <em>at javac time</em> down to bytecode without a trace of the assert. You are going to have to deal with an IDE warning about dead code though (at least in eclipse).</p>\n<hr />\n<p><sup>1</sup> By this, I mean that this issue may have zero effect, and then after a small innocuous change to surrounding code it may suddenly have a big effect. Basically the various penalty levels are heavily <em>quantized</em> due to the binary effect of the &quot;to inline or not to inline&quot; decisions.</p>\n<p><sup>2</sup> At least for the all-important part of compiling/running the assert-related code at runtime. Of course there is a small amount of support in the JVM for accepting the <code>-ea</code> command line argument and flipping the default assertion status (but as above you can accomplish the same effect in a generic way with properties).</p>\n"}],"owner":{"account_id":692416,"reputation":461,"user_id":566796,"display_name":"asiar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5660,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"answer_count":3,"score":46,"last_activity_date":1645211628,"creation_date":1294399021,"question_id":4624919,"body_markdown":"Code can be compiled with assertions in it and can be [activated/deactivated when needed][1].\r\n\r\nBut if I deploy an app with assertions in it and those are disabled what is the penalty involved in therm being there and ignored?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html","title":"Performance drag of Java assertions when disabled","body":"<p>Code can be compiled with assertions in it and can be <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html\" rel=\"noreferrer\">activated/deactivated when needed</a>.</p>\n\n<p>But if I deploy an app with assertions in it and those are disabled what is the penalty involved in therm being there and ignored?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1645210773,"post_id":71174604,"comment_id":125819616,"body_markdown":"Show the `run` task.","body":"Show the <code>run</code> task."}],"answers":[{"tags":[],"owner":{"account_id":3769888,"reputation":11744,"user_id":3225458,"display_name":"romtsn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645209924,"creation_date":1645209924,"answer_id":71178432,"question_id":71174604,"body_markdown":"You can do this indeed. Since the `run` task is of type `JavaExec` you could just create your own task that extends from `JavaExec`:\r\n```groovy\r\ntask time(type: JavaExec) {\r\n  group = &#39;run&#39;\r\n  description = &#39;Run the application with measuring the execution time&#39;\r\n\r\n  classpath sourceSets.main.runtimeClasspath\r\n  mainClass = &#39;com.yourcompany.MainClass&#39;\r\n  args &#39;-t&#39;\r\n}\r\n```\r\n\r\nYou can read more about application plugin (and the `run` task) [here][1]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/application_plugin.html#sec:application_usage","title":"Create a custom task in Gradle wrapping an existing one","body":"<p>You can do this indeed. Since the <code>run</code> task is of type <code>JavaExec</code> you could just create your own task that extends from <code>JavaExec</code>:</p>\n<pre><code>task time(type: JavaExec) {\n  group = 'run'\n  description = 'Run the application with measuring the execution time'\n\n  classpath sourceSets.main.runtimeClasspath\n  mainClass = 'com.yourcompany.MainClass'\n  args '-t'\n}\n</code></pre>\n<p>You can read more about application plugin (and the <code>run</code> task) <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html#sec:application_usage\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":10655737,"reputation":399,"user_id":7845338,"display_name":"Pasquale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1645211627,"creation_date":1645192415,"question_id":71174604,"body_markdown":"I&#39;m using **Gradle** to manage the SDLC of a Java project which takes some command-line parameters to change its default behaviour. For example, with the option `-t` the java app times its own execution time.\r\n\r\nDoing it with Gradle is possible by running:\r\n```\r\n$ ./gradlew run --args=&quot;-t&quot;\r\n```\r\n\r\nI wonder if there&#39;s a way in Gradle to define a custom task (let&#39;s say I wanna call it `time`) which basically would wrap over the `run` task and automatically append the `--args=&quot;-t&quot;` option.\r\n\r\nTo be pragmatic, I would like to achieve with:\r\n```\r\n$ ./gradlew time\r\n```\r\n\r\nthe same behaviour achieved with `run --args=&quot;-t&quot;`.\r\n\r\nThank you.","title":"Create a custom task in Gradle wrapping an existing one","body":"<p>I'm using <strong>Gradle</strong> to manage the SDLC of a Java project which takes some command-line parameters to change its default behaviour. For example, with the option <code>-t</code> the java app times its own execution time.</p>\n<p>Doing it with Gradle is possible by running:</p>\n<pre><code>$ ./gradlew run --args=&quot;-t&quot;\n</code></pre>\n<p>I wonder if there's a way in Gradle to define a custom task (let's say I wanna call it <code>time</code>) which basically would wrap over the <code>run</code> task and automatically append the <code>--args=&quot;-t&quot;</code> option.</p>\n<p>To be pragmatic, I would like to achieve with:</p>\n<pre><code>$ ./gradlew time\n</code></pre>\n<p>the same behaviour achieved with <code>run --args=&quot;-t&quot;</code>.</p>\n<p>Thank you.</p>\n"},{"tags":["java","jooq","jooq-codegen-maven"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1642108615,"post_id":70702930,"comment_id":124991296,"body_markdown":"Can you please show how you&#39;re generating code? (Maven configuration, source table definition (`CREATE TABLE`), etc.)? See also this resource about what I mean: https://stackoverflow.com/help/minimal-reproducible-example","body":"Can you please show how you&#39;re generating code? (Maven configuration, source table definition (<code>CREATE TABLE</code>), etc.)? See also this resource about what I mean: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":19952294,"reputation":3,"user_id":14621686,"display_name":"seyedsub"},"score":0,"creation_date":1642180941,"post_id":70702930,"comment_id":125010821,"body_markdown":"Looks like 3.16.2 is still showing the same problem for us. @LukasEder added more information to the post. Thank you.","body":"Looks like 3.16.2 is still showing the same problem for us. @LukasEder added more information to the post. Thank you."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1642411605,"post_id":70702930,"comment_id":125054670,"body_markdown":"I&#39;m sorry I cannot reproduce this problem from what you&#39;ve shown. Can you please provide a complete reproducer? If you think it&#39;s a bug, you can report one here: https://github.com/jOOQ/jOOQ/issues/new/choose. We also have a template to create &quot;MCVEs&quot; (minimal, complete, verifiable examples): https://github.com/jOOQ/jOOQ-mcve","body":"I&#39;m sorry I cannot reproduce this problem from what you&#39;ve shown. Can you please provide a complete reproducer? If you think it&#39;s a bug, you can report one here: <a href=\"https://github.com/jOOQ/jOOQ/issues/new/choose\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/new/choose</a>. We also have a template to create &quot;MCVEs&quot; (minimal, complete, verifiable examples): <a href=\"https://github.com/jOOQ/jOOQ-mcve\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ-mcve</a>"},{"owner":{"account_id":19952294,"reputation":3,"user_id":14621686,"display_name":"seyedsub"},"score":0,"creation_date":1642439791,"post_id":70702930,"comment_id":125065987,"body_markdown":"No worries Lukas. Thank you.","body":"No worries Lukas. Thank you."},{"owner":{"account_id":19952294,"reputation":3,"user_id":14621686,"display_name":"seyedsub"},"score":0,"creation_date":1645051292,"post_id":70702930,"comment_id":125771276,"body_markdown":"@LukasEder Seems like this is fixed in 3.16.4!! Any idea what the problem was?","body":"@LukasEder Seems like this is fixed in 3.16.4!! Any idea what the problem was?"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1645084626,"post_id":70702930,"comment_id":125777847,"body_markdown":"I couldn&#39;t reproduce it, so I don&#39;t know","body":"I couldn&#39;t reproduce it, so I don&#39;t know"}],"answers":[{"tags":[],"owner":{"account_id":19952294,"reputation":3,"user_id":14621686,"display_name":"seyedsub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645211186,"creation_date":1645211186,"answer_id":71178659,"question_id":70702930,"body_markdown":"This problem is solved in a new release: 3.16.4","title":"jOOQ 3.16 (and 3.16.1) breaks build","body":"<p>This problem is solved in a new release: 3.16.4</p>\n"}],"owner":{"account_id":19952294,"reputation":3,"user_id":14621686,"display_name":"seyedsub"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645211186,"creation_date":1642106844,"question_id":70702930,"body_markdown":"We are currently using jOOQ 3.15.5 (Java) and everything is good. When we attempt to upgrade to 3.16.0 or 3.16.1, some of our BOOLEAN fields are represented as Object in their record java classes.\r\n\r\n```xml\r\n&lt;configuration xmlns=&quot;http://www.jooq.org/xsd/jooq-codegen-3.15.0.xsd&quot;&gt;\r\n    &lt;generator&gt;\r\n        &lt;database&gt;\r\n            &lt;name&gt;org.jooq.meta.extensions.ddl.DDLDatabase&lt;/name&gt;\r\n            &lt;properties&gt;\r\n                &lt;property&gt;\r\n                    &lt;key&gt;scripts&lt;/key&gt;\r\n                    &lt;value&gt;src/main/resources/db/migration/*.sql&lt;/value&gt;\r\n                &lt;/property&gt;\r\n                &lt;property&gt;\r\n                    &lt;key&gt;sort&lt;/key&gt;\r\n                    &lt;value&gt;flyway&lt;/value&gt;\r\n                &lt;/property&gt;\r\n                &lt;property&gt;\r\n                    &lt;key&gt;defaultNameCase&lt;/key&gt;\r\n                    &lt;value&gt;as_is&lt;/value&gt;\r\n                &lt;/property&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/database&gt;\r\n\r\n        &lt;target&gt;\r\n            &lt;packageName&gt;com.test.jooq&lt;/packageName&gt;\r\n            &lt;directory&gt;target/generated-sources/jooq&lt;/directory&gt;\r\n        &lt;/target&gt;\r\n    &lt;/generator&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nThe fields in our `CREATE TABLE` statement look like this:\r\n\r\n```\r\nis_deleted     BOOLEAN      NOT NULL DEFAULT FALSE,\r\n```\r\n\r\nAny idea why?\r\n\r\n","title":"jOOQ 3.16 (and 3.16.1) breaks build","body":"<p>We are currently using jOOQ 3.15.5 (Java) and everything is good. When we attempt to upgrade to 3.16.0 or 3.16.1, some of our BOOLEAN fields are represented as Object in their record java classes.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration xmlns=&quot;http://www.jooq.org/xsd/jooq-codegen-3.15.0.xsd&quot;&gt;\n    &lt;generator&gt;\n        &lt;database&gt;\n            &lt;name&gt;org.jooq.meta.extensions.ddl.DDLDatabase&lt;/name&gt;\n            &lt;properties&gt;\n                &lt;property&gt;\n                    &lt;key&gt;scripts&lt;/key&gt;\n                    &lt;value&gt;src/main/resources/db/migration/*.sql&lt;/value&gt;\n                &lt;/property&gt;\n                &lt;property&gt;\n                    &lt;key&gt;sort&lt;/key&gt;\n                    &lt;value&gt;flyway&lt;/value&gt;\n                &lt;/property&gt;\n                &lt;property&gt;\n                    &lt;key&gt;defaultNameCase&lt;/key&gt;\n                    &lt;value&gt;as_is&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/properties&gt;\n        &lt;/database&gt;\n\n        &lt;target&gt;\n            &lt;packageName&gt;com.test.jooq&lt;/packageName&gt;\n            &lt;directory&gt;target/generated-sources/jooq&lt;/directory&gt;\n        &lt;/target&gt;\n    &lt;/generator&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>The fields in our <code>CREATE TABLE</code> statement look like this:</p>\n<pre><code>is_deleted     BOOLEAN      NOT NULL DEFAULT FALSE,\n</code></pre>\n<p>Any idea why?</p>\n"},{"tags":["java","maven","apache-spark-1.6","ejml"],"comments":[{"owner":{"account_id":6890236,"reputation":1523,"user_id":5294016,"display_name":"DevDio"},"score":0,"creation_date":1504528330,"post_id":46037070,"comment_id":79034373,"body_markdown":"have a look at this [NoClassDefFoundError question](https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java). You need to provide the library for JRE.","body":"have a look at this <a href=\"https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java\">NoClassDefFoundError question</a>. You need to provide the library for JRE."},{"owner":{"account_id":3499928,"reputation":31,"user_id":2926909,"accept_rate":50,"display_name":"Dheeraj Chitara"},"score":0,"creation_date":1504591999,"post_id":46037070,"comment_id":79055516,"body_markdown":"Hi DevDio, I already saw these type of errors and also called all liberies of JRE, SPARK, SCALA, EJML but it wasn&#39;t show any error at the time of building JAR with dependices but when I am compiling this jar this will fire me that error many times even I used different EJML libs versions.","body":"Hi DevDio, I already saw these type of errors and also called all liberies of JRE, SPARK, SCALA, EJML but it wasn&#39;t show any error at the time of building JAR with dependices but when I am compiling this jar this will fire me that error many times even I used different EJML libs versions."}],"answers":[{"tags":[],"owner":{"account_id":5791459,"reputation":180,"user_id":4568781,"display_name":"Amira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645210817,"creation_date":1645210817,"answer_id":71178605,"question_id":46037070,"body_markdown":"I know it&#39;s been 4 years, but in case anyone else is having the same issue, here is how I did it:\r\n\r\nI&#39;m using Android studio, and adding &#39;ejml-simple-0.39.jar&#39; as a library had solved my problem.\r\n\r\nYour build.gradle should have this line:\r\n\r\n `implementation files(&#39;libs/stanford-corenlp-4.4.0/ejml-simple-0.39.jar&#39;)`\r\n\r\nDon&#39;t forget to change it according to your library versions","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/ejml/simple/SimpleBase","body":"<p>I know it's been 4 years, but in case anyone else is having the same issue, here is how I did it:</p>\n<p>I'm using Android studio, and adding 'ejml-simple-0.39.jar' as a library had solved my problem.</p>\n<p>Your build.gradle should have this line:</p>\n<p><code>implementation files('libs/stanford-corenlp-4.4.0/ejml-simple-0.39.jar')</code></p>\n<p>Don't forget to change it according to your library versions</p>\n"}],"owner":{"account_id":3499928,"reputation":31,"user_id":2926909,"accept_rate":50,"display_name":"Dheeraj Chitara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1645210817,"creation_date":1504528080,"question_id":46037070,"body_markdown":"It seems it&#39;s missing the Java library [Efficient Java Matrix Library][1](ejml), so I have downloaded from the sources [here][2]. I&#39;m creating Maven Jar executable file and running on Openstack EDP Spark environment.\r\n\r\nI&#39;m having trouble figuring out how to solve this `java.lang.NoClassDefFoundError: org/ejml/simple/SimpleBase`\r\n\r\nI also tried ejml version 0.23, 0.25, 0.27, 0.30, 0.31.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/ejml/simple/SimpleBase\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:195)\r\n        at org.openstack.sahara.edp.SparkWrapper.main(SparkWrapper.java:17)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:731)\r\n        at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:181)\r\n        at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:206)\r\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:121)\r\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n    Caused by: java.lang.ClassNotFoundException: org.ejml.simple.SimpleBase\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:359)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:348)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:347)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n\r\n \r\n\r\n\r\n  [1]: http://ejml.org/wiki/index.php?title=Main_Page\r\n  [2]: https://mvnrepository.com/artifact/org.ejml","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/ejml/simple/SimpleBase","body":"<p>It seems it's missing the Java library <a href=\"http://ejml.org/wiki/index.php?title=Main_Page\" rel=\"nofollow noreferrer\">Efficient Java Matrix Library</a>(ejml), so I have downloaded from the sources <a href=\"https://mvnrepository.com/artifact/org.ejml\" rel=\"nofollow noreferrer\">here</a>. I'm creating Maven Jar executable file and running on Openstack EDP Spark environment.</p>\n\n<p>I'm having trouble figuring out how to solve this <code>java.lang.NoClassDefFoundError: org/ejml/simple/SimpleBase</code></p>\n\n<p>I also tried ejml version 0.23, 0.25, 0.27, 0.30, 0.31.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/ejml/simple/SimpleBase\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:195)\n    at org.openstack.sahara.edp.SparkWrapper.main(SparkWrapper.java:17)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:731)\n    at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:181)\n    at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:206)\n    at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:121)\n    at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.ClassNotFoundException: org.ejml.simple.SimpleBase\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:359)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:348)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:347)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n</code></pre>\n"},{"tags":["java","plugins","components","minecraft"],"answers":[{"tags":[],"owner":{"account_id":24301833,"reputation":21,"user_id":18245197,"display_name":"zBinFinn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645210365,"creation_date":1645202157,"answer_id":71176924,"question_id":71176014,"body_markdown":"Someone just explained this to me so basically the Styles are taken from the parent common practice is to just do:\r\n \r\n    Component.empty()\r\n      .append(a)\r\n      .append(b)\r\n      .append(c)\r\n\r\nLeaving this here for people that might need help in the future","title":"Using Components with .color changing the color sets it to the wrong color for whatever reason [Paper,Java,Plugin,Minecraft]","body":"<p>Someone just explained this to me so basically the Styles are taken from the parent common practice is to just do:</p>\n<pre><code>Component.empty()\n  .append(a)\n  .append(b)\n  .append(c)\n</code></pre>\n<p>Leaving this here for people that might need help in the future</p>\n"}],"owner":{"account_id":24301833,"reputation":21,"user_id":18245197,"display_name":"zBinFinn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645210365,"creation_date":1645198400,"question_id":71176014,"body_markdown":"I am using Paper 1.16.5 minecraft and trying to make a system for people to have chat tags.\r\nIt somehow makes the players name appear red instead of the supposed white \r\n\r\n```\r\npackage de.zbinfinn.mining_game.chatstuff;\r\n\r\nimport de.zbinfinn.mining_game.Mining_Game;\r\nimport io.papermc.paper.chat.ChatRenderer;\r\nimport net.kyori.adventure.audience.Audience;\r\nimport net.kyori.adventure.text.Component;\r\nimport net.kyori.adventure.text.format.TextColor;\r\nimport org.bukkit.entity.Player;\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\npublic class ChatRendererClass implements ChatRenderer {\r\n    @Override\r\n    public @NotNull Component render(@NotNull Player source, @NotNull Component sourceDisplayName, @NotNull Component message, @NotNull Audience viewer) {\r\n        Component finalMessage = Mining_Game.INSTANCE.prefixes.get(source.getName())\r\n                .append(Component.text(&quot; &quot; + source.getName() + &quot;: &quot;).color(TextColor.color(Mining_Game.INSTANCE.namecolors.get(source.getName())))\r\n                .append(message).color(TextColor.color(Mining_Game.INSTANCE.chatcolors.get(source.getName()))));\r\n        return finalMessage;\r\n    }\r\n}","title":"Using Components with .color changing the color sets it to the wrong color for whatever reason [Paper,Java,Plugin,Minecraft]","body":"<p>I am using Paper 1.16.5 minecraft and trying to make a system for people to have chat tags.\nIt somehow makes the players name appear red instead of the supposed white</p>\n<pre><code>package de.zbinfinn.mining_game.chatstuff;\n\nimport de.zbinfinn.mining_game.Mining_Game;\nimport io.papermc.paper.chat.ChatRenderer;\nimport net.kyori.adventure.audience.Audience;\nimport net.kyori.adventure.text.Component;\nimport net.kyori.adventure.text.format.TextColor;\nimport org.bukkit.entity.Player;\nimport org.jetbrains.annotations.NotNull;\n\npublic class ChatRendererClass implements ChatRenderer {\n    @Override\n    public @NotNull Component render(@NotNull Player source, @NotNull Component sourceDisplayName, @NotNull Component message, @NotNull Audience viewer) {\n        Component finalMessage = Mining_Game.INSTANCE.prefixes.get(source.getName())\n                .append(Component.text(&quot; &quot; + source.getName() + &quot;: &quot;).color(TextColor.color(Mining_Game.INSTANCE.namecolors.get(source.getName())))\n                .append(message).color(TextColor.color(Mining_Game.INSTANCE.chatcolors.get(source.getName()))));\n        return finalMessage;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data","couchbase","ignite"],"answers":[{"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639507791,"creation_date":1639507791,"answer_id":70354142,"question_id":70316828,"body_markdown":"bivrantoshakil - \r\n\r\n\r\n&quot;I need to provide one implementation of cacheStore interface of Ignite in order to connect couchbase as backend data store. I configured Couchbase Repository class and created a bean of it in the CacheStoreImplementationWithCouchbaseRepositoryBean.java&quot;\r\n\r\n What documentation/tutorial are you following?\r\n Please zip up and post your project and I will investigate.\r\n\r\nI have a few tangential thoughts\r\n\r\n1) you may which to just use Couchbase without Ignite, as the key-value api is really fast, with persistence being asynchronous and configurable.\r\n\r\n2) There is a tutorial of spring data caching with couchbase at https://blog.couchbase.com/couchbase-spring-cache/ You can skip to &quot;Adding Spring Boot Caching Capabilites&quot;.\r\n\r\n3) There is tutorial Apache Ignite here - https://www.baeldung.com/apache-ignite-spring-data","title":"Apache Ignite with Couchbase as Persistence","body":"<p>bivrantoshakil -</p>\n<p>&quot;I need to provide one implementation of cacheStore interface of Ignite in order to connect couchbase as backend data store. I configured Couchbase Repository class and created a bean of it in the CacheStoreImplementationWithCouchbaseRepositoryBean.java&quot;</p>\n<p>What documentation/tutorial are you following?\nPlease zip up and post your project and I will investigate.</p>\n<p>I have a few tangential thoughts</p>\n<ol>\n<li><p>you may which to just use Couchbase without Ignite, as the key-value api is really fast, with persistence being asynchronous and configurable.</p>\n</li>\n<li><p>There is a tutorial of spring data caching with couchbase at <a href=\"https://blog.couchbase.com/couchbase-spring-cache/\" rel=\"nofollow noreferrer\">https://blog.couchbase.com/couchbase-spring-cache/</a> You can skip to &quot;Adding Spring Boot Caching Capabilites&quot;.</p>\n</li>\n<li><p>There is tutorial Apache Ignite here - <a href=\"https://www.baeldung.com/apache-ignite-spring-data\" rel=\"nofollow noreferrer\">https://www.baeldung.com/apache-ignite-spring-data</a></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16203729,"reputation":841,"user_id":11699511,"display_name":"Alex K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639508290,"creation_date":1639508290,"answer_id":70354242,"question_id":70316828,"body_markdown":"Take a look here to see how store factories are configured: https://github.com/apache/ignite/tree/master/examples/src/main/java/org/apache/ignite/examples/datagrid/store\r\n\r\nI recommend decoupling your project from CouchBase and/or spring-data to make it simpler, and then adding the appropriate components, one by one, to see where the failure is.\r\n\r\nIf you need one bean to be initialized before another bean consider using the appropriate [annotations][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-depends-on","title":"Apache Ignite with Couchbase as Persistence","body":"<p>Take a look here to see how store factories are configured: <a href=\"https://github.com/apache/ignite/tree/master/examples/src/main/java/org/apache/ignite/examples/datagrid/store\" rel=\"nofollow noreferrer\">https://github.com/apache/ignite/tree/master/examples/src/main/java/org/apache/ignite/examples/datagrid/store</a></p>\n<p>I recommend decoupling your project from CouchBase and/or spring-data to make it simpler, and then adding the appropriate components, one by one, to see where the failure is.</p>\n<p>If you need one bean to be initialized before another bean consider using the appropriate <a href=\"https://www.baeldung.com/spring-depends-on\" rel=\"nofollow noreferrer\">annotations</a>.</p>\n"},{"tags":[],"owner":{"account_id":5643501,"reputation":421,"user_id":4466455,"display_name":"bivrantoshakil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639536567,"creation_date":1639536567,"answer_id":70357898,"question_id":70316828,"body_markdown":"I found one work around for the issue I was having above. First I created one class to get the Spring Application Context\r\n\r\n    import org.springframework.beans.BeansException;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.ApplicationContextAware;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class ApplicationContextProvider implements ApplicationContextAware {\r\n\r\n\tprivate static ApplicationContext context;\r\n\r\n\t/**\r\n\t * Returns the Spring managed bean instance of the given class type if it\r\n\t * exists. Returns null otherwise.\r\n\t * \r\n\t * @param beanClass\r\n\t * @return\r\n\t */\r\n\tpublic static &lt;T extends Object&gt; T getBean(Class&lt;T&gt; beanClass) {\r\n\t\treturn context.getBean(beanClass);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setApplicationContext(ApplicationContext context) throws BeansException {\r\n\r\n\t\t// store ApplicationContext reference to access required beans later on\r\n\t\tApplicationContextProvider.context = context;\r\n\t}\r\n    }\r\n\r\n and then in the **CacheStoreImplementationWithCouchbaseRepositoryBean.class** I did this -\r\n\r\n    //Repository bean\r\n    private CouchbaseRepository repository;\r\n    @Override\r\n\tpublic Employee load(Long key) {\r\n\t\trepository = ApplicationContextProvider.getBean(CouchbaseRepository.class);\r\n\t\treturn repository.findById(key).orElse(null);\r\n\t}","title":"Apache Ignite with Couchbase as Persistence","body":"<p>I found one work around for the issue I was having above. First I created one class to get the Spring Application Context</p>\n<pre><code>import org.springframework.beans.BeansException;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.ApplicationContextAware;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ApplicationContextProvider implements ApplicationContextAware {\n\nprivate static ApplicationContext context;\n\n/**\n * Returns the Spring managed bean instance of the given class type if it\n * exists. Returns null otherwise.\n * \n * @param beanClass\n * @return\n */\npublic static &lt;T extends Object&gt; T getBean(Class&lt;T&gt; beanClass) {\n    return context.getBean(beanClass);\n}\n\n@Override\npublic void setApplicationContext(ApplicationContext context) throws BeansException {\n\n    // store ApplicationContext reference to access required beans later on\n    ApplicationContextProvider.context = context;\n}\n}\n</code></pre>\n<p>and then in the <strong>CacheStoreImplementationWithCouchbaseRepositoryBean.class</strong> I did this -</p>\n<pre><code>//Repository bean\nprivate CouchbaseRepository repository;\n@Override\npublic Employee load(Long key) {\n    repository = ApplicationContextProvider.getBean(CouchbaseRepository.class);\n    return repository.findById(key).orElse(null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645210273,"creation_date":1645210273,"answer_id":71178499,"question_id":70316828,"body_markdown":"There are examples of using couchbase cache in\r\n\r\n    git clone git@github.com:spring-projects/spring-data-couchbase.git\r\n    cd spring-data-couchbase\r\n    ./java/org/springframework/data/couchbase/cache/CouchbaseCacheCollectionIntegrationTests.java\r\n    ./java/org/springframework/data/couchbase/cache/CouchbaseCacheIntegrationTests.java","title":"Apache Ignite with Couchbase as Persistence","body":"<p>There are examples of using couchbase cache in</p>\n<pre><code>git clone git@github.com:spring-projects/spring-data-couchbase.git\ncd spring-data-couchbase\n./java/org/springframework/data/couchbase/cache/CouchbaseCacheCollectionIntegrationTests.java\n./java/org/springframework/data/couchbase/cache/CouchbaseCacheIntegrationTests.java\n</code></pre>\n"}],"owner":{"account_id":5643501,"reputation":421,"user_id":4466455,"display_name":"bivrantoshakil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70357898,"answer_count":4,"score":1,"last_activity_date":1645210273,"creation_date":1639239514,"question_id":70316828,"body_markdown":"I am trying to use **Apache Ignite** with **Couchbase** at the backend as persistence layer. I am doing this as a data grid so that any changes made to ignite in-memory cache gets written to couchbase eventually. I am implementing this with spring-boot and spring-data. The igniteConfiguration bean looks like this\r\n```\r\n@Bean(name = &quot;igniteConfiguration&quot;)\r\n    public IgniteConfiguration igniteConfiguration() {\r\n        IgniteConfiguration igniteConfiguration = new IgniteConfiguration();\r\n        CacheConfiguration cache = new CacheConfiguration(&quot;sample&quot;);\r\n        cache.setAtomicityMode(CacheAtomicityMode.ATOMIC);\r\n        //The below line  where I am confused\r\n        cache.setCacheStoreFactory(FactoryBuilder.factoryOf(CacheStoreImplementationWithCouchbaseRepositoryBean.class);\r\n        cache.setCacheStoreSessionListenerFactories()\r\n        cache.setReadThrough(true);\r\n        cache.setWriteThrough(true);\r\n        \r\n        igniteConfiguration.setCacheConfiguration(cache);\r\n\r\n        return igniteConfiguration;\r\n    }\r\n```\r\n\r\nI need to provide one implementation of **cacheStore** interface of Ignite in order to connect couchbase as backend data store. I configured Couchbase Repository class and created a bean of it in the CacheStoreImplementationWithCouchbaseRepositoryBean.java. But this repository bean is not getting initiated because CacheStoreImplementation class is not in spring context and getting null always.\r\n\r\nAs I used spring-data. Now I have\r\n\r\n 1. Spring data repository for Ignite\r\n2. Spring data repository for couchbase\r\n3. One implementation of cacheStore interface of ignite \r\n\r\nBut not sure how to send the couchbase repository bean to the cacheStore implementation in a way so that it uses this repository class to execute crud operation in couchbase internally.","title":"Apache Ignite with Couchbase as Persistence","body":"<p>I am trying to use <strong>Apache Ignite</strong> with <strong>Couchbase</strong> at the backend as persistence layer. I am doing this as a data grid so that any changes made to ignite in-memory cache gets written to couchbase eventually. I am implementing this with spring-boot and spring-data. The igniteConfiguration bean looks like this</p>\n<pre><code>@Bean(name = &quot;igniteConfiguration&quot;)\n    public IgniteConfiguration igniteConfiguration() {\n        IgniteConfiguration igniteConfiguration = new IgniteConfiguration();\n        CacheConfiguration cache = new CacheConfiguration(&quot;sample&quot;);\n        cache.setAtomicityMode(CacheAtomicityMode.ATOMIC);\n        //The below line  where I am confused\n        cache.setCacheStoreFactory(FactoryBuilder.factoryOf(CacheStoreImplementationWithCouchbaseRepositoryBean.class);\n        cache.setCacheStoreSessionListenerFactories()\n        cache.setReadThrough(true);\n        cache.setWriteThrough(true);\n        \n        igniteConfiguration.setCacheConfiguration(cache);\n\n        return igniteConfiguration;\n    }\n</code></pre>\n<p>I need to provide one implementation of <strong>cacheStore</strong> interface of Ignite in order to connect couchbase as backend data store. I configured Couchbase Repository class and created a bean of it in the CacheStoreImplementationWithCouchbaseRepositoryBean.java. But this repository bean is not getting initiated because CacheStoreImplementation class is not in spring context and getting null always.</p>\n<p>As I used spring-data. Now I have</p>\n<ol>\n<li>Spring data repository for Ignite</li>\n<li>Spring data repository for couchbase</li>\n<li>One implementation of cacheStore interface of ignite</li>\n</ol>\n<p>But not sure how to send the couchbase repository bean to the cacheStore implementation in a way so that it uses this repository class to execute crud operation in couchbase internally.</p>\n"},{"tags":["java","eclipse","struts2"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1441699285,"post_id":32444495,"comment_id":52767110,"body_markdown":"You don&#39;t install S2 into eclipse. Yes you can use S2 in standard eclipse or  in the notepad. No tomcat will not interfere with apache2 if they run on different ports. You&#39;re better off using different eclipse instances for different developments, because various plugins might interfere with each other and might slow down eclipse all together. Also you can search for some S2 eclipse plugins in the eclipse marketplace. They can help you in S2 app development.","body":"You don&#39;t install S2 into eclipse. Yes you can use S2 in standard eclipse or  in the notepad. No tomcat will not interfere with apache2 if they run on different ports. You&#39;re better off using different eclipse instances for different developments, because various plugins might interfere with each other and might slow down eclipse all together. Also you can search for some S2 eclipse plugins in the eclipse marketplace. They can help you in S2 app development."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1592262912,"creation_date":1441656417,"answer_id":32445402,"question_id":32444495,"body_markdown":"Yeah, you need Eclipse for Java EE and Tomcat web server installed. There you can create a dynamic web project and use Maven to manage artifacts and download dependencies. See how to [Create Struts 2 Web Application With Artifacts In WEB-INF lib and Use Ant To Build The Application][1]\r\n\r\nTomcat server by default uses port 8080, but Apache uses 80, unless you use the same port for both they won&#39;t conflict.\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/WW/Create+Struts+2+Web+Application+With+Artifacts+In+WEB-INF+lib+and+Use+Ant+To+Build+The+Application","title":"How to setup Struts 2 within existing Eclipse by maintaining other configuration?","body":"<p>Yeah, you need Eclipse for Java EE and Tomcat web server installed. There you can create a dynamic web project and use Maven to manage artifacts and download dependencies. See how to <a href=\"https://cwiki.apache.org/confluence/display/WW/Create+Struts+2+Web+Application+With+Artifacts+In+WEB-INF+lib+and+Use+Ant+To+Build+The+Application\" rel=\"nofollow noreferrer\">Create Struts 2 Web Application With Artifacts In WEB-INF lib and Use Ant To Build The Application</a></p>\n\n<p>Tomcat server by default uses port 8080, but Apache uses 80, unless you use the same port for both they won't conflict.</p>\n"}],"owner":{"account_id":1677225,"reputation":1405,"user_id":5005768,"accept_rate":62,"display_name":"user5005768Himadree"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":32445402,"answer_count":1,"score":0,"last_activity_date":1645210256,"creation_date":1441651576,"question_id":32444495,"body_markdown":"I am a novice programmer in using [Apache Struts 2][1] MVC Framework. I want to setup Struts 2 within my existing Eclipse IDE and I don&#39;t want to harm other different works I do in Eclipse. Here is a list of things I do in Eclipse and other related works:\r\n\r\n\r\n1. I am currently using eclipse ide for Java SE developers.\r\n2. Already using PDT: Eclipse PHP Development within existing eclipse for php projects.\r\n3. Also using Eclipse CDT:C/C++ Development Tool within existing eclipse.\r\n4. My computer contains LAMP installed with Apache2 server for web development purpose.\r\n\r\nSo, I want keep all of these things intact while setting up Struts 2 within existing eclipse. I&#39;ve seen many installation guidelines for Struts 2, but they didn&#39;t clarify well about situation similar to mine.Therefore, before full installation, i want answers of these questions below:\r\n\r\n1. Can I install Struts 2  in eclipse IDE for java SE (not EE) developers ?\r\n2. Installing Struts 2 requires Apache Tomcat installation, will this installation create any conflict with my existing Apache 2 server (which comes with  LAMP)?\r\n\r\n  [1]: http://struts.apache.org/\r\n\r\n\r\n","title":"How to setup Struts 2 within existing Eclipse by maintaining other configuration?","body":"<p>I am a novice programmer in using <a href=\"http://struts.apache.org/\" rel=\"nofollow noreferrer\">Apache Struts 2</a> MVC Framework. I want to setup Struts 2 within my existing Eclipse IDE and I don't want to harm other different works I do in Eclipse. Here is a list of things I do in Eclipse and other related works:</p>\n<ol>\n<li>I am currently using eclipse ide for Java SE developers.</li>\n<li>Already using PDT: Eclipse PHP Development within existing eclipse for php projects.</li>\n<li>Also using Eclipse CDT:C/C++ Development Tool within existing eclipse.</li>\n<li>My computer contains LAMP installed with Apache2 server for web development purpose.</li>\n</ol>\n<p>So, I want keep all of these things intact while setting up Struts 2 within existing eclipse. I've seen many installation guidelines for Struts 2, but they didn't clarify well about situation similar to mine.Therefore, before full installation, i want answers of these questions below:</p>\n<ol>\n<li>Can I install Struts 2  in eclipse IDE for java SE (not EE) developers ?</li>\n<li>Installing Struts 2 requires Apache Tomcat installation, will this installation create any conflict with my existing Apache 2 server (which comes with  LAMP)?</li>\n</ol>\n"},{"tags":["java","spring","hibernate","hibernate-mapping","spring-mvc-test"],"answers":[{"tags":[],"owner":{"account_id":1437483,"reputation":1908,"user_id":1358551,"display_name":"charybr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645210011,"creation_date":1645210011,"answer_id":71178445,"question_id":71178238,"body_markdown":"In Hibernate, custom meta tags used while generating Java POJOs from hbm config file.\r\nRefer https://docs.jboss.org/tools/archive/3.0.1.GA/en/hibernatetools/html/codegen.html. Note that there is a list of Supported meta tags.\r\n","title":"Custom Meta atribute in hibernate xml?","body":"<p>In Hibernate, custom meta tags used while generating Java POJOs from hbm config file.\nRefer <a href=\"https://docs.jboss.org/tools/archive/3.0.1.GA/en/hibernatetools/html/codegen.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/tools/archive/3.0.1.GA/en/hibernatetools/html/codegen.html</a>. Note that there is a list of Supported meta tags.</p>\n"}],"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645210011,"creation_date":1645208761,"question_id":71178238,"body_markdown":"What is the purpose of custom meta tags? I have seen them at class level and at property level.\r\n\r\n    Example of Propery level level:\r\n    &lt;/property&gt;\r\n        &lt;property name=&quot;name&quot; column=&quot;name&quot; type=&quot;string&quot;&gt;\r\n          &lt;meta attribute=&quot;Test&quot;/&gt;\r\n        &lt;/property&gt;\r\n    \r\n    Example of class level\r\n    &lt;class name=&quot;mypackage.user&quot; table=&quot;user&quot;&gt;\r\n        &lt;meta attribute=&quot;Test&quot;/&gt;\r\n    ......\r\n    ....\r\n    &lt;/class&gt;\r\n\r\nHow does hibernate use this custom values in meta tag?\r\n\r\n","title":"Custom Meta atribute in hibernate xml?","body":"<p>What is the purpose of custom meta tags? I have seen them at class level and at property level.</p>\n<pre><code>Example of Propery level level:\n&lt;/property&gt;\n    &lt;property name=&quot;name&quot; column=&quot;name&quot; type=&quot;string&quot;&gt;\n      &lt;meta attribute=&quot;Test&quot;/&gt;\n    &lt;/property&gt;\n\nExample of class level\n&lt;class name=&quot;mypackage.user&quot; table=&quot;user&quot;&gt;\n    &lt;meta attribute=&quot;Test&quot;/&gt;\n......\n....\n&lt;/class&gt;\n</code></pre>\n<p>How does hibernate use this custom values in meta tag?</p>\n"},{"tags":["java","swing","layout-manager","gridbaglayout"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1645199219,"post_id":71172698,"comment_id":125815225,"body_markdown":"(1+) Learned more about the flexibility of the GridBagLayout.","body":"(1+) Learned more about the flexibility of the GridBagLayout."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645209799,"creation_date":1645199133,"answer_id":71176201,"question_id":71172698,"body_markdown":"Interesting. I&#39;ve never seen an approach like this before. \r\n\r\nTypically the GridBagLayout is used such that:\r\n\r\n1. Each component is allocated space based on its preferred size\r\n2. If extra space is available then space is allocated to to each component based on the weightx (weighty) values assigned to each component.\r\n\r\nTherefore only the extra space is allocated in the 25% 50% 25% ratio.\r\n\r\nYour approach seems to ignore the preferred size of components and allocate space in the 25% 50% 25% ratio.\r\n\r\nHowever, you would first need to make the following change to get the proper ratio:\r\n\r\n    //gbl_panel.columnWidths = new int[] {1000, 4000, 1000};\r\n    //gbl_panel.columnWeights = new double[]{1.0, 4.0, 1.0};\r\n    gbl_panel.columnWidths = new int[] {1000, 2000, 1000};\r\n    gbl_panel.columnWeights = new double[]{1.0, 2.0, 1.0};\r\n\r\nBelow is the simplified code I used to test allocating space to components on a panel that is 400 pixels wide:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    public class GridBagLayoutRelative extends JPanel\r\n    {\r\n    \tpublic GridBagLayoutRelative()\r\n    \t{\r\n    \t\tsetPreferredSize( new Dimension(400, 300) );\r\n    \r\n    \t\t//  Components will be allocated relative widths of 25%, 50%, 25%\r\n    \t\t//  (preferred width will be ignored)\r\n    \r\n    \t\tGridBagLayout gbl = new GridBagLayout();\r\n    \t\t//gbl.columnWidths = new int[] {25, 50, 25}; // doesn&#39;t work\r\n    \t\tgbl.columnWidths = new int[] {250, 500, 250}; // larger value in same ratio\r\n    \t\tgbl.columnWeights = new double[] {25.0, 50.0, 25.0};\r\n    \t\tsetLayout(gbl);\r\n    \r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.fill = GridBagConstraints.BOTH;\r\n    \t\tgbc.weighty = 1.0;\r\n    \t\tgbc.gridy = 0;\r\n    \r\n    \t\tJPanel red = new JPanel();\r\n    \t\tred.setBackground( Color.RED );\r\n    \t\tred.setPreferredSize( new Dimension(30, 200) );\r\n    \t\tgbc.gridx = 0;\r\n    \t\tadd(red, gbc);\r\n    \r\n    \t\tJPanel green = new JPanel();\r\n    \t\tgreen.setBackground( Color.GREEN );\r\n    \t\tgreen.setPreferredSize( new Dimension(40, 200) );\r\n    \t\tgbc.gridx = 1;\r\n    \t\tadd(green, gbc);\r\n    \r\n    \t\tJPanel blue = new JPanel();\r\n    \t\tblue.setBackground( Color.BLUE );\r\n    \t\tblue.setPreferredSize( new Dimension(50, 200) );\r\n    \t\tgbc.gridx = 2;\r\n    \t\tadd(blue, gbc);\r\n    \r\n    \t\taddComponentListener( new ComponentAdapter()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic void componentResized(ComponentEvent e)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println( e.getComponent().getSize() );\r\n    \r\n    \t\t\t\tfor (Component c: getComponents())\r\n    \t\t\t\t\tSystem.out.println( &quot;\\t&quot; + c.getSize() );\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tprivate static void createAndShowGUI()\r\n    \t{\r\n    \t\tJFrame frame = new JFrame(&quot;GridBagLayout Relative&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add(new GridBagLayoutRelative());\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tjava.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\r\n    \t}\r\n    }\r\n\r\n\r\nAnd the results are:\r\n\r\n    java.awt.Dimension[width=100,height=300]\r\n    java.awt.Dimension[width=200,height=300]\r\n    java.awt.Dimension[width=100,height=300]\r\n\r\nSo I would say the approach works.\r\n\r\nNote: In case you are interested, in the past I have suggested you can use the [Relative Layout](https://tips4java.wordpress.com/2008/11/02/relative-layout/) which was designed specifically for this type of layout and is easier to use. \r\n\r\nUsing the `RelativeLayout` the above behaviour would be replicated by using:\r\n\r\n\tRelativeLayout rl = new RelativeLayout(RelativeLayout.X_AXIS);\r\n\trl.setFill(true);\r\n\tsetLayout( rl );\r\n\r\n\tJPanel red = new JPanel();\r\n\tred.setBackground( Color.RED );\r\n\tred.setPreferredSize( new Dimension(30, 200) );\r\n\tadd(red, new Float(25));\r\n\r\n\tJPanel green = new JPanel();\r\n\tgreen.setBackground( Color.GREEN );\r\n\tgreen.setPreferredSize( new Dimension(40, 200) );\r\n\tadd(green, new Float(50));\r\n\r\n\tJPanel blue = new JPanel();\r\n\tblue.setBackground( Color.BLUE );\r\n\tblue.setPreferredSize( new Dimension(50, 200) );\r\n\tadd(blue, new Float(25));\r\n\r\n","title":"GridBagLayout 25% 50% 25%","body":"<p>Interesting. I've never seen an approach like this before.</p>\n<p>Typically the GridBagLayout is used such that:</p>\n<ol>\n<li>Each component is allocated space based on its preferred size</li>\n<li>If extra space is available then space is allocated to to each component based on the weightx (weighty) values assigned to each component.</li>\n</ol>\n<p>Therefore only the extra space is allocated in the 25% 50% 25% ratio.</p>\n<p>Your approach seems to ignore the preferred size of components and allocate space in the 25% 50% 25% ratio.</p>\n<p>However, you would first need to make the following change to get the proper ratio:</p>\n<pre><code>//gbl_panel.columnWidths = new int[] {1000, 4000, 1000};\n//gbl_panel.columnWeights = new double[]{1.0, 4.0, 1.0};\ngbl_panel.columnWidths = new int[] {1000, 2000, 1000};\ngbl_panel.columnWeights = new double[]{1.0, 2.0, 1.0};\n</code></pre>\n<p>Below is the simplified code I used to test allocating space to components on a panel that is 400 pixels wide:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class GridBagLayoutRelative extends JPanel\n{\n    public GridBagLayoutRelative()\n    {\n        setPreferredSize( new Dimension(400, 300) );\n\n        //  Components will be allocated relative widths of 25%, 50%, 25%\n        //  (preferred width will be ignored)\n\n        GridBagLayout gbl = new GridBagLayout();\n        //gbl.columnWidths = new int[] {25, 50, 25}; // doesn't work\n        gbl.columnWidths = new int[] {250, 500, 250}; // larger value in same ratio\n        gbl.columnWeights = new double[] {25.0, 50.0, 25.0};\n        setLayout(gbl);\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.fill = GridBagConstraints.BOTH;\n        gbc.weighty = 1.0;\n        gbc.gridy = 0;\n\n        JPanel red = new JPanel();\n        red.setBackground( Color.RED );\n        red.setPreferredSize( new Dimension(30, 200) );\n        gbc.gridx = 0;\n        add(red, gbc);\n\n        JPanel green = new JPanel();\n        green.setBackground( Color.GREEN );\n        green.setPreferredSize( new Dimension(40, 200) );\n        gbc.gridx = 1;\n        add(green, gbc);\n\n        JPanel blue = new JPanel();\n        blue.setBackground( Color.BLUE );\n        blue.setPreferredSize( new Dimension(50, 200) );\n        gbc.gridx = 2;\n        add(blue, gbc);\n\n        addComponentListener( new ComponentAdapter()\n        {\n            @Override\n            public void componentResized(ComponentEvent e)\n            {\n                System.out.println( e.getComponent().getSize() );\n\n                for (Component c: getComponents())\n                    System.out.println( &quot;\\t&quot; + c.getSize() );\n            }\n        });\n    }\n\n    private static void createAndShowGUI()\n    {\n        JFrame frame = new JFrame(&quot;GridBagLayout Relative&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(new GridBagLayoutRelative());\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        java.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\n    }\n}\n</code></pre>\n<p>And the results are:</p>\n<pre><code>java.awt.Dimension[width=100,height=300]\njava.awt.Dimension[width=200,height=300]\njava.awt.Dimension[width=100,height=300]\n</code></pre>\n<p>So I would say the approach works.</p>\n<p>Note: In case you are interested, in the past I have suggested you can use the <a href=\"https://tips4java.wordpress.com/2008/11/02/relative-layout/\" rel=\"nofollow noreferrer\">Relative Layout</a> which was designed specifically for this type of layout and is easier to use.</p>\n<p>Using the <code>RelativeLayout</code> the above behaviour would be replicated by using:</p>\n<pre><code>RelativeLayout rl = new RelativeLayout(RelativeLayout.X_AXIS);\nrl.setFill(true);\nsetLayout( rl );\n\nJPanel red = new JPanel();\nred.setBackground( Color.RED );\nred.setPreferredSize( new Dimension(30, 200) );\nadd(red, new Float(25));\n\nJPanel green = new JPanel();\ngreen.setBackground( Color.GREEN );\ngreen.setPreferredSize( new Dimension(40, 200) );\nadd(green, new Float(50));\n\nJPanel blue = new JPanel();\nblue.setBackground( Color.BLUE );\nblue.setPreferredSize( new Dimension(50, 200) );\nadd(blue, new Float(25));\n</code></pre>\n"}],"owner":{"account_id":17600159,"reputation":107,"user_id":13434418,"display_name":"Nuril"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71176201,"answer_count":1,"score":2,"last_activity_date":1645209799,"creation_date":1645183566,"question_id":71172698,"body_markdown":"Is this the right way to prevent GridBagLayout cells from being resized relative to their contents?\r\n\r\n    gbl_panel.columnWidths = new int[] {1000, 4000, 1000};\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSSCCE\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n\r\n    import javax.swing.AbstractListModel;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class GridBagLayoutTemplate extends JFrame {\r\n\r\n\tprivate JPanel contentPane;\r\n\r\n\tpublic GridBagLayoutTemplate() {\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 450, 300);\r\n\t\tcontentPane = new JPanel();\r\n\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\t\tcontentPane.setLayout(new BorderLayout(0, 0));\r\n\t\tsetContentPane(contentPane);\r\n\r\n\r\n\t\tJPanel panel = new JPanel();\r\n\t\tcontentPane.add(panel);\r\n\r\n\t\tGridBagLayout gbl_panel = new GridBagLayout();\r\n\t\tgbl_panel.rowHeights = new int[] {1};\r\n\t\tgbl_panel.columnWidths = new int[] {1000, 4000, 1000};\r\n\t\tgbl_panel.columnWeights = new double[]{1.0, 4.0, 1.0};\r\n\t\tgbl_panel.rowWeights = new double[]{1.0};\r\n\t\tpanel.setLayout(gbl_panel);\r\n\r\n\t\tJScrollPane scrollPane = new JScrollPane();\r\n\t\tGridBagConstraints gbc_scrollPane = new GridBagConstraints();\r\n\t\tgbc_scrollPane.insets = new Insets(0, 0, 0, 5);\r\n\t\tgbc_scrollPane.fill = GridBagConstraints.BOTH;\r\n\t\tgbc_scrollPane.gridx = 0;\r\n\t\tgbc_scrollPane.gridy = 0;\r\n\t\tpanel.add(scrollPane, gbc_scrollPane);\r\n\r\n\t\tJList list = new JList();\r\n\t\tscrollPane.setViewportView(list);\r\n\t\tlist.setModel(new AbstractListModel() {\r\n\t\t\tString[] values = new String[] {&quot;qwe&quot;};\r\n\t\t\tpublic int getSize() {\r\n\t\t\t\treturn values.length;\r\n\t\t\t}\r\n\t\t\tpublic Object getElementAt(int index) {\r\n\t\t\t\treturn values[index];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tJScrollPane scrollPane_1 = new JScrollPane();\r\n\t\tGridBagConstraints gbc_scrollPane_1 = new GridBagConstraints();\r\n\t\tgbc_scrollPane_1.insets = new Insets(0, 0, 0, 5);\r\n\t\tgbc_scrollPane_1.fill = GridBagConstraints.BOTH;\r\n\t\tgbc_scrollPane_1.gridx = 1;\r\n\t\tgbc_scrollPane_1.gridy = 0;\r\n\t\tpanel.add(scrollPane_1, gbc_scrollPane_1);\r\n\r\n\t\tJList list_1 = new JList();\r\n\t\tscrollPane_1.setViewportView(list_1);\r\n\t\tlist_1.setModel(new AbstractListModel() {\r\n\t\t\tString[] values = new String[] {&quot;qwe&quot;};\r\n\t\t\tpublic int getSize() {\r\n\t\t\t\treturn values.length;\r\n\t\t\t}\r\n\t\t\tpublic Object getElementAt(int index) {\r\n\t\t\t\treturn values[index];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tJScrollPane scrollPane_2 = new JScrollPane();\r\n\t\tGridBagConstraints gbc_scrollPane_2 = new GridBagConstraints();\r\n\t\tgbc_scrollPane_2.fill = GridBagConstraints.BOTH;\r\n\t\tgbc_scrollPane_2.gridx = 2;\r\n\t\tgbc_scrollPane_2.gridy = 0;\r\n\t\tpanel.add(scrollPane_2, gbc_scrollPane_2);\r\n\r\n\t\tJList list_3 = new JList();\r\n\t\tscrollPane_2.setViewportView(list_3);\r\n\t\tlist_3.setModel(new AbstractListModel() {\r\n\t\t\tString[] values = new String[] {&quot;qweqweqweqweqwqweqweqweqweqweqweqweqweqwqweqweqweqweqweqweqweqwqweqweqweqweqweqweqweqweqwqweqweqweqweqweqweqweqweqwqweqweqweqweqwqweqweqweqweqweqweqweqweqwqweqweqweqweqweqweqweqweqwqweqweqweqwe&quot;};\r\n\t\t\tpublic int getSize() {\r\n\t\t\t\treturn values.length;\r\n\t\t\t}\r\n\t\t\tpublic Object getElementAt(int index) {\r\n\t\t\t\treturn values[index];\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tGridBagLayoutTemplate frame = new GridBagLayoutTemplate();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LeDVl.png","title":"GridBagLayout 25% 50% 25%","body":"<p>Is this the right way to prevent GridBagLayout cells from being resized relative to their contents?</p>\n<pre><code>gbl_panel.columnWidths = new int[] {1000, 4000, 1000};\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LeDVl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LeDVl.png\" alt=\"enter image description here\" /></a></p>\n<p>SSCCE</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\n\nimport javax.swing.AbstractListModel;\nimport javax.swing.JFrame;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.border.EmptyBorder;\n\npublic class GridBagLayoutTemplate extends JFrame {\n\nprivate JPanel contentPane;\n\npublic GridBagLayoutTemplate() {\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setBounds(100, 100, 450, 300);\n    contentPane = new JPanel();\n    contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n    contentPane.setLayout(new BorderLayout(0, 0));\n    setContentPane(contentPane);\n\n\n    JPanel panel = new JPanel();\n    contentPane.add(panel);\n\n    GridBagLayout gbl_panel = new GridBagLayout();\n    gbl_panel.rowHeights = new int[] {1};\n    gbl_panel.columnWidths = new int[] {1000, 4000, 1000};\n    gbl_panel.columnWeights = new double[]{1.0, 4.0, 1.0};\n    gbl_panel.rowWeights = new double[]{1.0};\n    panel.setLayout(gbl_panel);\n\n    JScrollPane scrollPane = new JScrollPane();\n    GridBagConstraints gbc_scrollPane = new GridBagConstraints();\n    gbc_scrollPane.insets = new Insets(0, 0, 0, 5);\n    gbc_scrollPane.fill = GridBagConstraints.BOTH;\n    gbc_scrollPane.gridx = 0;\n    gbc_scrollPane.gridy = 0;\n    panel.add(scrollPane, gbc_scrollPane);\n\n    JList list = new JList();\n    scrollPane.setViewportView(list);\n    list.setModel(new AbstractListModel() {\n        String[] values = new String[] {&quot;qwe&quot;};\n        public int getSize() {\n            return values.length;\n        }\n        public Object getElementAt(int index) {\n            return values[index];\n        }\n    });\n\n    JScrollPane scrollPane_1 = new JScrollPane();\n    GridBagConstraints gbc_scrollPane_1 = new GridBagConstraints();\n    gbc_scrollPane_1.insets = new Insets(0, 0, 0, 5);\n    gbc_scrollPane_1.fill = GridBagConstraints.BOTH;\n    gbc_scrollPane_1.gridx = 1;\n    gbc_scrollPane_1.gridy = 0;\n    panel.add(scrollPane_1, gbc_scrollPane_1);\n\n    JList list_1 = new JList();\n    scrollPane_1.setViewportView(list_1);\n    list_1.setModel(new AbstractListModel() {\n        String[] values = new String[] {&quot;qwe&quot;};\n        public int getSize() {\n            return values.length;\n        }\n        public Object getElementAt(int index) {\n            return values[index];\n        }\n    });\n\n    JScrollPane scrollPane_2 = new JScrollPane();\n    GridBagConstraints gbc_scrollPane_2 = new GridBagConstraints();\n    gbc_scrollPane_2.fill = GridBagConstraints.BOTH;\n    gbc_scrollPane_2.gridx = 2;\n    gbc_scrollPane_2.gridy = 0;\n    panel.add(scrollPane_2, gbc_scrollPane_2);\n\n    JList list_3 = new JList();\n    scrollPane_2.setViewportView(list_3);\n    list_3.setModel(new AbstractListModel() {\n        String[] values = new String[] {&quot;qweqweqweqweqwqweqweqweqweqweqweqweqweqwqweqweqweqweqweqweqweqwqweqweqweqweqweqweqweqweqwqweqweqweqweqweqweqweqweqwqweqweqweqweqwqweqweqweqweqweqweqweqweqwqweqweqweqweqweqweqweqweqwqweqweqweqwe&quot;};\n        public int getSize() {\n            return values.length;\n        }\n        public Object getElementAt(int index) {\n            return values[index];\n        }\n    });\n}\n}\n\npublic static void main(String[] args) {\n    EventQueue.invokeLater(new Runnable() {\n        public void run() {\n            try {\n                GridBagLayoutTemplate frame = new GridBagLayoutTemplate();\n                frame.setVisible(true);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","couchbase","ttl","spring-data-couchbase","content-expiration"],"answers":[{"tags":[],"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1437464767,"creation_date":1437464767,"answer_id":31533138,"question_id":31528665,"body_markdown":"Using Spring-Data-Couchbase, you cannot set a TTL on a particular instance. Inserting (mutating) and setting the TTL in one go would be quite complicated given the transcoding steps that are hidden away in the `CouchbaseTemplate` `save` method.\r\n\r\nHowever, if what you want to do is just update the TTL of an already persisted document (which is what `getAndTouch` does), there is a way that doesn&#39;t involve any transcoding and so can be applied easily:\r\n\r\n - From the `CouchbaseTemplate`, get access to the underlying SDK client via `getCouchbaseClient()` *(**note** for now sdc is built on top of the previous generation of SDK, `1.4.x`, but there&#39;ll be a preview of sdc-2.0 soon ;) )*\r\n - Using the SDK, perform a `touch` operation on the document&#39;s ID, give it the new TTL\r\n - The `touch()` method returns an `OperationFuture` (it is async), so make sure to either block on it or consider the touch done only if notified so in the callback.","title":"How to set TTL for a specific Couchbase document using spring-data-couchbase?","body":"<p>Using Spring-Data-Couchbase, you cannot set a TTL on a particular instance. Inserting (mutating) and setting the TTL in one go would be quite complicated given the transcoding steps that are hidden away in the <code>CouchbaseTemplate</code> <code>save</code> method.</p>\n\n<p>However, if what you want to do is just update the TTL of an already persisted document (which is what <code>getAndTouch</code> does), there is a way that doesn't involve any transcoding and so can be applied easily:</p>\n\n<ul>\n<li>From the <code>CouchbaseTemplate</code>, get access to the underlying SDK client via <code>getCouchbaseClient()</code> <em>(<strong>note</strong> for now sdc is built on top of the previous generation of SDK, <code>1.4.x</code>, but there'll be a preview of sdc-2.0 soon ;) )</em></li>\n<li>Using the SDK, perform a <code>touch</code> operation on the document's ID, give it the new TTL</li>\n<li>The <code>touch()</code> method returns an <code>OperationFuture</code> (it is async), so make sure to either block on it or consider the touch done only if notified so in the callback.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":482834,"reputation":241,"user_id":897493,"display_name":"user897493"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521565079,"creation_date":1438361881,"answer_id":31751411,"question_id":31528665,"body_markdown":"Using Spring data couchbase, this is a simple way you can configure ttl per document.\r\n\r\n    public class CouchbaseConfig extends AbstractCouchbaseConfiguration {\r\n\r\n        @Override\r\n        protected List&lt;String&gt; bootstrapHosts() {\r\n            return Arrays.asList(&quot;localhost&quot;);\r\n        }\r\n\r\n\t\t@Override\r\n\t\tprotected String getBucketName() {\r\n\t\t\treturn &quot;default&quot;;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected String getBucketPassword() {\r\n\t\t\treturn &quot;password1&quot;;\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic MappingCouchbaseConverter mappingCouchbaseConverter() throws Exception {\r\n\t\t\tMappingCouchbaseConverter converter = new ExpiringDocumentCouchbaseConverter(couchbaseMappingContext());\r\n\t\t\tconverter.setCustomConversions(customConversions());\r\n\t\t\treturn converter;\r\n\t\t}\r\n\r\n\r\n\t\tclass ExpiringDocumentCouchbaseConverter extends MappingCouchbaseConverter {\r\n\r\n\t\t\t/**\r\n\t\t\t * Create a new {@link MappingCouchbaseConverter}.\r\n\t\t\t *\r\n\t\t\t * @param mappingContext the mapping context to use.\r\n\t\t\t */\r\n\t\t\tpublic ExpiringDocumentCouchbaseConverter(MappingContext&lt;? extends CouchbasePersistentEntity&lt;?&gt;, CouchbasePersistentProperty&gt; mappingContext) {\r\n\t\t\t\tsuper(mappingContext);\r\n\t\t\t}\r\n\r\n\t\t\t// Setting custom TTL on documents.\r\n\t\t\t@Override\r\n\t\t\tpublic void write(final Object source, final CouchbaseDocument target) {\r\n\t\t\t\tsuper.write(source, target);\r\n\t\t\t\tif (source instanceof ClassContainingTTL) {\r\n\t\t\t\t\ttarget.setExpiration(((ClassContainingTTL) source).getTimeToLive());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n    }","title":"How to set TTL for a specific Couchbase document using spring-data-couchbase?","body":"<p>Using Spring data couchbase, this is a simple way you can configure ttl per document.</p>\n\n<pre><code>public class CouchbaseConfig extends AbstractCouchbaseConfiguration {\n\n    @Override\n    protected List&lt;String&gt; bootstrapHosts() {\n        return Arrays.asList(\"localhost\");\n    }\n\n    @Override\n    protected String getBucketName() {\n        return \"default\";\n    }\n\n    @Override\n    protected String getBucketPassword() {\n        return \"password1\";\n    }\n\n    @Bean\n    public MappingCouchbaseConverter mappingCouchbaseConverter() throws Exception {\n        MappingCouchbaseConverter converter = new ExpiringDocumentCouchbaseConverter(couchbaseMappingContext());\n        converter.setCustomConversions(customConversions());\n        return converter;\n    }\n\n\n    class ExpiringDocumentCouchbaseConverter extends MappingCouchbaseConverter {\n\n        /**\n         * Create a new {@link MappingCouchbaseConverter}.\n         *\n         * @param mappingContext the mapping context to use.\n         */\n        public ExpiringDocumentCouchbaseConverter(MappingContext&lt;? extends CouchbasePersistentEntity&lt;?&gt;, CouchbasePersistentProperty&gt; mappingContext) {\n            super(mappingContext);\n        }\n\n        // Setting custom TTL on documents.\n        @Override\n        public void write(final Object source, final CouchbaseDocument target) {\n            super.write(source, target);\n            if (source instanceof ClassContainingTTL) {\n                target.setExpiration(((ClassContainingTTL) source).getTimeToLive());\n            }\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":979169,"reputation":569,"user_id":999367,"display_name":"Roman Sinyakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641291127,"creation_date":1641291127,"answer_id":70577119,"question_id":31528665,"body_markdown":"As of `spring-data-couchbase:4.3.0` the code should look like `yourRepository.getOperations().getCouchbaseClientFactory().getCollection(null).touch(id, ttl)` or alternatively this can be done through `CouchbaseTemplate` as `couchbaseTemplate.getCollection(null).touch(id, ttl)`","title":"How to set TTL for a specific Couchbase document using spring-data-couchbase?","body":"<p>As of <code>spring-data-couchbase:4.3.0</code> the code should look like <code>yourRepository.getOperations().getCouchbaseClientFactory().getCollection(null).touch(id, ttl)</code> or alternatively this can be done through <code>CouchbaseTemplate</code> as <code>couchbaseTemplate.getCollection(null).touch(id, ttl)</code></p>\n"},{"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645209761,"creation_date":1645209761,"answer_id":71178401,"question_id":31528665,"body_markdown":"findById() has a withExpiry() method that results in getAndTouch() being used and the expiration being set\r\n\r\nUser foundUser = couchbaseTemplate.findById(User.class).withExpiry(Duration.ofSeconds(1)).one(id);\r\n","title":"How to set TTL for a specific Couchbase document using spring-data-couchbase?","body":"<p>findById() has a withExpiry() method that results in getAndTouch() being used and the expiration being set</p>\n<p>User foundUser = couchbaseTemplate.findById(User.class).withExpiry(Duration.ofSeconds(1)).one(id);</p>\n"}],"owner":{"account_id":6511240,"reputation":111,"user_id":5038431,"accept_rate":0,"display_name":"Mizanur Rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4267,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1645209761,"creation_date":1437439985,"question_id":31528665,"body_markdown":"How to set TTL (Time to Live) for a specific couchbase document using spring-data-couchbase?\r\nI know there is way to set expiry time using Document notation as follows\r\n@Document(expiry = 10)\r\n\r\nhttp://docs.spring.io/spring-data/couchbase/docs/1.1.1.RELEASE/reference/html/couchbase.entity.html\r\n\r\nIt will set TTL for all the documents save through the Entity class.\r\n\r\nBut it seems there is way to set expiration(TTL) time for a specific document\r\n&quot;Get and touch: Fetch a specified document and update the document expiration.&quot;\r\nmentioned in \r\nhttp://docs.couchbase.com/developer/dev-guide-3.0/read-write.html\r\n\r\nHow can I achieve above functionality through spring-data-couchbase\r\nEven If I can achieve the functionality using Java SDK, would be fine.\r\n\r\nAny help.....\r\n","title":"How to set TTL for a specific Couchbase document using spring-data-couchbase?","body":"<p>How to set TTL (Time to Live) for a specific couchbase document using spring-data-couchbase?\nI know there is way to set expiry time using Document notation as follows\n@Document(expiry = 10)</p>\n\n<p><a href=\"http://docs.spring.io/spring-data/couchbase/docs/1.1.1.RELEASE/reference/html/couchbase.entity.html\" rel=\"nofollow\">http://docs.spring.io/spring-data/couchbase/docs/1.1.1.RELEASE/reference/html/couchbase.entity.html</a></p>\n\n<p>It will set TTL for all the documents save through the Entity class.</p>\n\n<p>But it seems there is way to set expiration(TTL) time for a specific document\n\"Get and touch: Fetch a specified document and update the document expiration.\"\nmentioned in \n<a href=\"http://docs.couchbase.com/developer/dev-guide-3.0/read-write.html\" rel=\"nofollow\">http://docs.couchbase.com/developer/dev-guide-3.0/read-write.html</a></p>\n\n<p>How can I achieve above functionality through spring-data-couchbase\nEven If I can achieve the functionality using Java SDK, would be fine.</p>\n\n<p>Any help.....</p>\n"},{"tags":["java","azure","ssh","azure-storage","jsch"],"comments":[{"owner":{"account_id":23082609,"reputation":121,"user_id":17194665,"display_name":"Fabian Brandl"},"score":0,"creation_date":1643292586,"post_id":70878675,"comment_id":125304661,"body_markdown":"@MartinPrikryl i added the log output.  after we send the SSH_MSG_KEXINIT message the server resets the connection. My first idea was there are no matching algos between server and client but looking at the supported algorithms section in the azure docs it should work unless im missing something: https://learn.microsoft.com/en-us/azure/storage/blobs/secure-file-transfer-protocol-known-issues","body":"@MartinPrikryl i added the log output.  after we send the SSH_MSG_KEXINIT message the server resets the connection. My first idea was there are no matching algos between server and client but looking at the supported algorithms section in the azure docs it should work unless im missing something: <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/secure-file-transfer-protocol-known-issues\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/storage/blobs/&hellip;</a>"},{"owner":{"account_id":23082609,"reputation":121,"user_id":17194665,"display_name":"Fabian Brandl"},"score":0,"creation_date":1643293888,"post_id":70878675,"comment_id":125305303,"body_markdown":"@MartinPrikryl i added the server response when using FileZilla. The thing i noticed (idk if its relevant) On the FileZilla request and the Server response the protocol version includes encryption information thats not the case with the JSch request. And yes im on the lastest version 0.1.55","body":"@MartinPrikryl i added the server response when using FileZilla. The thing i noticed (idk if its relevant) On the FileZilla request and the Server response the protocol version includes encryption information thats not the case with the JSch request. And yes im on the lastest version 0.1.55"},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":1,"creation_date":1643298962,"post_id":70878675,"comment_id":125307673,"body_markdown":"There indeed seems to be an overlap for each set of algorithms. I assume the encryption info indicates the agreed algorithm. And it does not happen in JSch instance as the connection is closed. Did you try restricting for example OpenSSH `ssh` to the same set of algorithms as JSch?","body":"There indeed seems to be an overlap for each set of algorithms. I assume the encryption info indicates the agreed algorithm. And it does not happen in JSch instance as the connection is closed. Did you try restricting for example OpenSSH <code>ssh</code> to the same set of algorithms as JSch?"},{"owner":{"account_id":23082609,"reputation":121,"user_id":17194665,"display_name":"Fabian Brandl"},"score":0,"creation_date":1643301698,"post_id":70878675,"comment_id":125308925,"body_markdown":"@MartinPrikryl I will try with OpenSSH tomorrow and report back. As for the encryption info, i dont think thats the case. If you look at my filezilla request it has the same encryption info before the server even responded with the KeyExchange. And the JSch connection gets terminated after the KeyExchange request that doesn&#39;t contain that encryption info.","body":"@MartinPrikryl I will try with OpenSSH tomorrow and report back. As for the encryption info, i dont think thats the case. If you look at my filezilla request it has the same encryption info before the server even responded with the KeyExchange. And the JSch connection gets terminated after the KeyExchange request that doesn&#39;t contain that encryption info."},{"owner":{"account_id":16114433,"reputation":81,"user_id":17977227,"display_name":"TBO"},"score":0,"creation_date":1643828896,"post_id":70878675,"comment_id":125445811,"body_markdown":"I am experiencing the exact same issue - Azure disconnects immediately after sending SSH_MSG_KEXINIT.  I have posted a bounty to hopefully get some more interest in this question.","body":"I am experiencing the exact same issue - Azure disconnects immediately after sending SSH_MSG_KEXINIT.  I have posted a bounty to hopefully get some more interest in this question."}],"answers":[{"tags":[],"owner":{"account_id":23082609,"reputation":121,"user_id":17194665,"display_name":"Fabian Brandl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643875781,"creation_date":1643875781,"answer_id":70967763,"question_id":70878675,"body_markdown":"i wanted to post a quick update for anybody that is having the same issue, i opened a similiar question on the microsoft q&amp;a site and looks like it&#39;s an issue on the azure side that they are working on fixing for GA [Microsoft Q&amp;A][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/answers/questions/713024/connection-to-azure-sftp-doesnt-work-using-jsch.html?childToView=720888#comment-720888","title":"Connection reset when using jsch to connect to an sftp server hosted in azure","body":"<p>i wanted to post a quick update for anybody that is having the same issue, i opened a similiar question on the microsoft q&amp;a site and looks like it's an issue on the azure side that they are working on fixing for GA <a href=\"https://learn.microsoft.com/en-us/answers/questions/713024/connection-to-azure-sftp-doesnt-work-using-jsch.html?childToView=720888#comment-720888\" rel=\"nofollow noreferrer\">Microsoft Q&amp;A</a></p>\n"},{"tags":[],"owner":{"account_id":2876783,"reputation":306,"user_id":2808810,"display_name":"drew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644443267,"creation_date":1644443267,"answer_id":71057160,"question_id":70878675,"body_markdown":"From [SSH RFC][1]:\r\n\r\n```\r\n   When the connection has been established, both sides MUST send an\r\n   identification string.  This identification string MUST be\r\n\r\n      SSH-protoversion-softwareversion SP comments CR LF\r\n\r\n   Both the &#39;protoversion&#39; and &#39;softwareversion&#39; strings MUST consist of\r\n   printable US-ASCII characters, with the exception of whitespace\r\n   characters and the minus sign (-).  The &#39;softwareversion&#39; string is\r\n   primarily used to trigger compatibility extensions and to indicate\r\n   the capabilities of an implementation.  The &#39;comments&#39; string SHOULD\r\n   contain additional information that might be useful in solving user\r\n   problems.  As such, an example of a valid identification string is\r\n\r\n      SSH-2.0-billsSSH_3.6.3q3&lt;CR&gt;&lt;LF&gt;\r\n```\r\n\r\nIt seems that this library (and ssh-keyscan) violate the spec due to the &quot;-&quot; in the softwareversion segment: `JSCH-0.1.54`\r\n\r\nAs Fabian points out, the &quot;fix&quot; will be available before SFTP GA.\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc4253#section-4.2","title":"Connection reset when using jsch to connect to an sftp server hosted in azure","body":"<p>From <a href=\"https://datatracker.ietf.org/doc/html/rfc4253#section-4.2\" rel=\"nofollow noreferrer\">SSH RFC</a>:</p>\n<pre><code>   When the connection has been established, both sides MUST send an\n   identification string.  This identification string MUST be\n\n      SSH-protoversion-softwareversion SP comments CR LF\n\n   Both the 'protoversion' and 'softwareversion' strings MUST consist of\n   printable US-ASCII characters, with the exception of whitespace\n   characters and the minus sign (-).  The 'softwareversion' string is\n   primarily used to trigger compatibility extensions and to indicate\n   the capabilities of an implementation.  The 'comments' string SHOULD\n   contain additional information that might be useful in solving user\n   problems.  As such, an example of a valid identification string is\n\n      SSH-2.0-billsSSH_3.6.3q3&lt;CR&gt;&lt;LF&gt;\n</code></pre>\n<p>It seems that this library (and ssh-keyscan) violate the spec due to the &quot;-&quot; in the softwareversion segment: <code>JSCH-0.1.54</code></p>\n<p>As Fabian points out, the &quot;fix&quot; will be available before SFTP GA.</p>\n"},{"tags":[],"owner":{"account_id":16114433,"reputation":81,"user_id":17977227,"display_name":"TBO"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645208518,"creation_date":1645208518,"answer_id":71178199,"question_id":70878675,"body_markdown":"Thanks to the latest comment (from JGiltner62-0227 on 2022-02-18) at https://learn.microsoft.com/en-us/answers/questions/713024/connection-to-azure-sftp-doesnt-work-using-jsch.html I now have a working JSCH implementation.  There are two things that need to change in the source code, both in Session.java.\r\n\r\n1) Line 71:\r\n\r\n`private byte[] V_C=Util.str2byte(&quot;SSH-2.0-JSCH-&quot;+JSch.VERSION); // client version`\r\n\r\nneeds to change to:\r\n\r\n`private byte[] V_C=Util.str2byte(&quot;SSH-2.0-JSCH_&quot;+JSch.VERSION); // client version`\r\n\r\n(The difference is an underscore instead of a dash after &#39;JSCH&#39;).\r\n\r\n2) Line 253:\r\n\r\n\r\n`byte[] foo=new byte[V_C.length+1];`\r\n\r\n`System.arraycopy(V_C, 0, foo, 0, V_C.length);`\r\n\r\n`foo[foo.length-1]=(byte)&#39;\\n&#39;;`\r\n\r\nneeds to change to \r\n\r\n`byte[] foo=new byte[V_C.length+2];`\r\n\r\n`System.arraycopy(V_C, 0, foo, 0, V_C.length);`\r\n\r\n`foo[foo.length-2]=(byte)0x0D;`\r\n\r\n`foo[foo.length-1]=(byte)&#39;\\n&#39;;`\r\n\r\n(the variable &#39;foo&#39; needs to be V_C.length + 2 instead of +1, and then we insert 0x0D as the second to last byte.)\r\n\r\nAfter making these two changes I confirmed that the library works uploading to Azure SFTP.","title":"Connection reset when using jsch to connect to an sftp server hosted in azure","body":"<p>Thanks to the latest comment (from JGiltner62-0227 on 2022-02-18) at <a href=\"https://learn.microsoft.com/en-us/answers/questions/713024/connection-to-azure-sftp-doesnt-work-using-jsch.html\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/answers/questions/713024/connection-to-azure-sftp-doesnt-work-using-jsch.html</a> I now have a working JSCH implementation.  There are two things that need to change in the source code, both in Session.java.</p>\n<ol>\n<li>Line 71:</li>\n</ol>\n<p><code>private byte[] V_C=Util.str2byte(&quot;SSH-2.0-JSCH-&quot;+JSch.VERSION); // client version</code></p>\n<p>needs to change to:</p>\n<p><code>private byte[] V_C=Util.str2byte(&quot;SSH-2.0-JSCH_&quot;+JSch.VERSION); // client version</code></p>\n<p>(The difference is an underscore instead of a dash after 'JSCH').</p>\n<ol start=\"2\">\n<li>Line 253:</li>\n</ol>\n<p><code>byte[] foo=new byte[V_C.length+1];</code></p>\n<p><code>System.arraycopy(V_C, 0, foo, 0, V_C.length);</code></p>\n<p><code>foo[foo.length-1]=(byte)'\\n';</code></p>\n<p>needs to change to</p>\n<p><code>byte[] foo=new byte[V_C.length+2];</code></p>\n<p><code>System.arraycopy(V_C, 0, foo, 0, V_C.length);</code></p>\n<p><code>foo[foo.length-2]=(byte)0x0D;</code></p>\n<p><code>foo[foo.length-1]=(byte)'\\n';</code></p>\n<p>(the variable 'foo' needs to be V_C.length + 2 instead of +1, and then we insert 0x0D as the second to last byte.)</p>\n<p>After making these two changes I confirmed that the library works uploading to Azure SFTP.</p>\n"}],"owner":{"account_id":23082609,"reputation":121,"user_id":17194665,"display_name":"Fabian Brandl"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7434,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70967763,"answer_count":3,"score":5,"last_activity_date":1645208518,"creation_date":1643287077,"question_id":70878675,"body_markdown":"we are currently working with a cloud product that uses JSCH internally to connect to external sftp sources. Im investigating an connection reset exception that we are getting when trying to connect to azure sftp.\r\n\r\nUsing wireshark i determined that the problem occurs after we send the Client: Key Exchange Init. Establishing the same connection with filezilla we dont have this issue.\r\n\r\ncomparing the packages from jsch and filezilla i didn&#39;t see an obivious issue, but im not an expert on the ssh protocol. im gonna post both requests below if somebody could give me any pointers it would be greatly appreciated.\r\n\r\n[Request with JSCH (not working)][1]\r\n\r\n[Request with Filezilla (working)][2]\r\n\r\n[Response with Filezilla (working)][3]\r\n\r\nSee below for the log output:\r\n\r\n    INFO: Connecting to ***** port 22\r\n    INFO: Connection established\r\n    INFO: Remote version string: SSH-2.0-AzureSSH_1.0.0\r\n    INFO: Local version string: SSH-2.0-JSCH-0.1.54\r\n    INFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\n    INFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\n    INFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n    INFO: SSH_MSG_KEXINIT sent\r\n    INFO: Disconnecting from **** port 22\r\n    com.jcraft.jsch.JSchException: Session.connect: java.net.SocketException: Connection reset\r\n\r\nEDIT: following jameses suggestion i got the same result, connection closed but the client request only had the supported algos as payload.\r\nSo i tried to replicate the FileZilla request by setting the jsch config regardless if jsch actually supports the algo, i just wanted to see if there is any respone.\r\n\r\nBut for some reason the connection still gets terminated\r\n\r\n[Modified jsch request][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Se8o.jpg\r\n  [2]: https://i.stack.imgur.com/ABoKS.jpg\r\n  [3]: https://i.stack.imgur.com/fMrP1.jpg\r\n  [4]: https://i.stack.imgur.com/xi6ty.jpg","title":"Connection reset when using jsch to connect to an sftp server hosted in azure","body":"<p>we are currently working with a cloud product that uses JSCH internally to connect to external sftp sources. Im investigating an connection reset exception that we are getting when trying to connect to azure sftp.</p>\n<p>Using wireshark i determined that the problem occurs after we send the Client: Key Exchange Init. Establishing the same connection with filezilla we dont have this issue.</p>\n<p>comparing the packages from jsch and filezilla i didn't see an obivious issue, but im not an expert on the ssh protocol. im gonna post both requests below if somebody could give me any pointers it would be greatly appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/4Se8o.jpg\" rel=\"noreferrer\">Request with JSCH (not working)</a></p>\n<p><a href=\"https://i.stack.imgur.com/ABoKS.jpg\" rel=\"noreferrer\">Request with Filezilla (working)</a></p>\n<p><a href=\"https://i.stack.imgur.com/fMrP1.jpg\" rel=\"noreferrer\">Response with Filezilla (working)</a></p>\n<p>See below for the log output:</p>\n<pre><code>INFO: Connecting to ***** port 22\nINFO: Connection established\nINFO: Remote version string: SSH-2.0-AzureSSH_1.0.0\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: SSH_MSG_KEXINIT sent\nINFO: Disconnecting from **** port 22\ncom.jcraft.jsch.JSchException: Session.connect: java.net.SocketException: Connection reset\n</code></pre>\n<p>EDIT: following jameses suggestion i got the same result, connection closed but the client request only had the supported algos as payload.\nSo i tried to replicate the FileZilla request by setting the jsch config regardless if jsch actually supports the algo, i just wanted to see if there is any respone.</p>\n<p>But for some reason the connection still gets terminated</p>\n<p><a href=\"https://i.stack.imgur.com/xi6ty.jpg\" rel=\"noreferrer\">Modified jsch request</a></p>\n"},{"tags":["java","spring-boot","jpa","querydsl"],"comments":[{"owner":{"account_id":3526421,"reputation":20884,"user_id":2947378,"display_name":"rdas"},"score":0,"creation_date":1555520259,"post_id":55732542,"comment_id":98143824,"body_markdown":"Please post only the relevant sections of the code.","body":"Please post only the relevant sections of the code."},{"owner":{"account_id":15764054,"reputation":21,"user_id":11375001,"display_name":"Juan"},"score":0,"creation_date":1555520990,"post_id":55732542,"comment_id":98144164,"body_markdown":"Sry about that, it&#39;s been removed.","body":"Sry about that, it&#39;s been removed."}],"answers":[{"tags":[],"owner":{"account_id":15764054,"reputation":21,"user_id":11375001,"display_name":"Juan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555522846,"creation_date":1555522846,"answer_id":55733247,"question_id":55732542,"body_markdown":"I still don&#39;t know what was wrong with the plugin configuration, but I came across with this, and it did the trick (after removing the plugin from the pom).\r\nHope it helps someone\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.querydsl.version}&lt;/version&gt;\r\n        &lt;classifier&gt;jpa&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPS: I&#39;d love to know why my old configuration wasn&#39;t working.","title":"apt-maven-plugin not generating QClass for entities with @Entity notation","body":"<p>I still don't know what was wrong with the plugin configuration, but I came across with this, and it did the trick (after removing the plugin from the pom).\nHope it helps someone</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n    &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n    &lt;version&gt;${com.querydsl.version}&lt;/version&gt;\n    &lt;classifier&gt;jpa&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>PS: I'd love to know why my old configuration wasn't working.</p>\n"},{"tags":[],"owner":{"account_id":19593421,"reputation":11,"user_id":14339961,"display_name":"mlingi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645207449,"creation_date":1645207449,"answer_id":71178013,"question_id":55732542,"body_markdown":"It worked for me without the outputDirectory.\r\n\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${com.mysema.maven.apt-maven-plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;process&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\nMaybe the classes generated on the target folder were out of reach?","title":"apt-maven-plugin not generating QClass for entities with @Entity notation","body":"<p>It worked for me without the outputDirectory.</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${com.mysema.maven.apt-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Maybe the classes generated on the target folder were out of reach?</p>\n"}],"owner":{"account_id":15764054,"reputation":21,"user_id":11375001,"display_name":"Juan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2727,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645207449,"creation_date":1555519826,"question_id":55732542,"body_markdown":"hope u&#39;re well.\r\n\r\nHere&#39;s the thing, I&#39;m trying to use dslQuery with spring-boot in order to get an advanced search out of the box, but the maven plugin won&#39;t generate the TClass for the entities.\r\n\r\npom.xml\r\n\r\n    &lt;project ...&gt;\r\n        ...\r\n\r\n        &lt;properties&gt;\r\n            &lt;!-- General --&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\r\n            &lt;!-- Plugins --&gt;\r\n            &lt;com.mysema.maven.apt-maven-plugin.version&gt;1.1.3&lt;/com.mysema.maven.apt-maven-plugin.version&gt;\r\n\r\n            &lt;!-- Dependencies --&gt;\r\n            &lt;com.querydsl.version&gt;4.2.1&lt;/com.querydsl.version&gt;\r\n\r\n            &lt;org.springframework.boot.version&gt;2.1.4.RELEASE&lt;/org.springframework.boot.version&gt;\r\n\r\n            &lt;org.hibernate.javax.persistence.version&gt;1.0.1.Final&lt;/org.hibernate.javax.persistence.version&gt;\r\n            &lt;org.hibernate.hibernate-core.version&gt;5.4.1.Final&lt;/org.hibernate.hibernate-core.version&gt;\r\n\r\n            &lt;org.junit.platform.junit-platform-surefire-provider.version&gt;1.0.1\r\n            &lt;/org.junit.platform.junit-platform-surefire-provider.version&gt;\r\n        &lt;/properties&gt;\r\n\r\n        &lt;build&gt;\r\n            ...\r\n\r\n            &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${org.apache.maven.plugins.maven-compiler-plugin.version}&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                            &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${com.mysema.maven.apt-maven-plugin.version}&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;process&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n                                    &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n        &lt;/build&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            ...\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n                &lt;version&gt;${com.querydsl.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- Spring --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- Persistence --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.hibernate.javax.persistence.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.hibernate.hibernate-core.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nexample entity:\r\n\r\n    package com.expenses.core.expense.entities;\r\n\r\n    import com.expenses.core.common.entities.AbstractEntity;\r\n    import com.expenses.core.utils.Copyable;\r\n\r\n    import javax.annotation.Nonnull;\r\n    import javax.persistence.*;\r\n    import java.util.Objects;\r\n\r\n    @Entity(name = &quot;Account&quot;)\r\n    @Table(name = &quot;account&quot;)\r\n    @SequenceGenerator(name = &quot;account_generator&quot;, sequenceName = &quot;account_id_seq&quot;, allocationSize = 1)\r\n    public class Account extends AbstractEntity&lt;Account&gt; implements Copyable&lt;Account&gt; {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;account_generator&quot;)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n\r\n        private final String cbu;\r\n\r\n        private final String alias;\r\n\r\n        private final String bank;\r\n\r\n        private final String description;\r\n\r\n    }\r\n\r\nI know there are some post like this on the forums, and in google, but after trying what was in those posts, the problem persists.\r\n\r\nAny ideas on how to fix this issue?\r\n\r\nPS: The AccountRepository does extend from `JpaRepository&lt;Account, Long&gt;` and `QuerydslPredicateExecutor&lt;Account&gt;`.","title":"apt-maven-plugin not generating QClass for entities with @Entity notation","body":"<p>hope u're well.</p>\n\n<p>Here's the thing, I'm trying to use dslQuery with spring-boot in order to get an advanced search out of the box, but the maven plugin won't generate the TClass for the entities.</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;project ...&gt;\n    ...\n\n    &lt;properties&gt;\n        &lt;!-- General --&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n\n        &lt;!-- Plugins --&gt;\n        &lt;com.mysema.maven.apt-maven-plugin.version&gt;1.1.3&lt;/com.mysema.maven.apt-maven-plugin.version&gt;\n\n        &lt;!-- Dependencies --&gt;\n        &lt;com.querydsl.version&gt;4.2.1&lt;/com.querydsl.version&gt;\n\n        &lt;org.springframework.boot.version&gt;2.1.4.RELEASE&lt;/org.springframework.boot.version&gt;\n\n        &lt;org.hibernate.javax.persistence.version&gt;1.0.1.Final&lt;/org.hibernate.javax.persistence.version&gt;\n        &lt;org.hibernate.hibernate-core.version&gt;5.4.1.Final&lt;/org.hibernate.hibernate-core.version&gt;\n\n        &lt;org.junit.platform.junit-platform-surefire-provider.version&gt;1.0.1\n        &lt;/org.junit.platform.junit-platform-surefire-provider.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        ...\n\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${org.apache.maven.plugins.maven-compiler-plugin.version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                        &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                    &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${com.mysema.maven.apt-maven-plugin.version}&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;process&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                                &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        ...\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;${com.querydsl.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Persistence --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n            &lt;version&gt;${org.hibernate.javax.persistence.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;${org.hibernate.hibernate-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>example entity:</p>\n\n<pre><code>package com.expenses.core.expense.entities;\n\nimport com.expenses.core.common.entities.AbstractEntity;\nimport com.expenses.core.utils.Copyable;\n\nimport javax.annotation.Nonnull;\nimport javax.persistence.*;\nimport java.util.Objects;\n\n@Entity(name = \"Account\")\n@Table(name = \"account\")\n@SequenceGenerator(name = \"account_generator\", sequenceName = \"account_id_seq\", allocationSize = 1)\npublic class Account extends AbstractEntity&lt;Account&gt; implements Copyable&lt;Account&gt; {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"account_generator\")\n    @Column(name = \"id\")\n    private Long id;\n\n    private final String cbu;\n\n    private final String alias;\n\n    private final String bank;\n\n    private final String description;\n\n}\n</code></pre>\n\n<p>I know there are some post like this on the forums, and in google, but after trying what was in those posts, the problem persists.</p>\n\n<p>Any ideas on how to fix this issue?</p>\n\n<p>PS: The AccountRepository does extend from <code>JpaRepository&lt;Account, Long&gt;</code> and <code>QuerydslPredicateExecutor&lt;Account&gt;</code>.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"score":0,"creation_date":1645194814,"post_id":71174994,"comment_id":125813403,"body_markdown":"Does the end user expect for response? does it can be async? Does query or partial can be cached? Does the data source configured optimally? What kind of query ? huge tables? Multiple joins? In case end user should not receive response you should return HTTP_ACCEPTED and then to continue with the flow. BTW end user can be notifies after the query done.","body":"Does the end user expect for response? does it can be async? Does query or partial can be cached? Does the data source configured optimally? What kind of query ? huge tables? Multiple joins? In case end user should not receive response you should return HTTP_ACCEPTED and then to continue with the flow. BTW end user can be notifies after the query done."},{"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"score":0,"creation_date":1645304124,"post_id":71174994,"comment_id":125837046,"body_markdown":"Does this query should take so much time? try to think about data structure optimization like aggregation tables / partitioning / sharding beside your solution. try to reduce the processing time.","body":"Does this query should take so much time? try to think about data structure optimization like aggregation tables / partitioning / sharding beside your solution. try to reduce the processing time."}],"answers":[{"tags":[],"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645196164,"creation_date":1645195588,"answer_id":71175364,"question_id":71174994,"body_markdown":"Controller:\r\n\r\n    class SomeController{\r\n     @PostMapping(&quot;/run/{QueryId}&quot;)\r\n        public ResponseEntity&lt;Void&gt; runQuery(@PathVariable String QueryId) {\r\n             // This method takes long time\r\n             querySchedulerService.runQuery(QueryId);\r\n             return new ResponseEntity&lt;&gt;(HTTP_STATUS.ACCEPTED);\r\n        } \r\n    }\r\n\r\nService:\r\n\r\n    @Service\r\n    class QuerySchedulerService{\r\n    \r\n        @Async\r\n        public void runQuery(Query query){\r\n        // Do somthing\r\n        }\r\n    }\r\n\r\n\r\nBy adding `@EnableAsync` annotation in main `Application` class you can use `@Async` annotation\r\n\r\nOn every time that `runQuery` will called it will run in new thread. \r\n \r\n\r\n    @EnableAsync\r\n    class Application{\r\n    \r\n    }","title":"How to handle long API request","body":"<p>Controller:</p>\n<pre><code>class SomeController{\n @PostMapping(&quot;/run/{QueryId}&quot;)\n    public ResponseEntity&lt;Void&gt; runQuery(@PathVariable String QueryId) {\n         // This method takes long time\n         querySchedulerService.runQuery(QueryId);\n         return new ResponseEntity&lt;&gt;(HTTP_STATUS.ACCEPTED);\n    } \n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\nclass QuerySchedulerService{\n\n    @Async\n    public void runQuery(Query query){\n    // Do somthing\n    }\n}\n</code></pre>\n<p>By adding <code>@EnableAsync</code> annotation in main <code>Application</code> class you can use <code>@Async</code> annotation</p>\n<p>On every time that <code>runQuery</code> will called it will run in new thread.</p>\n<pre><code>@EnableAsync\nclass Application{\n\n}\n</code></pre>\n"}],"owner":{"account_id":19534415,"reputation":539,"user_id":14293486,"display_name":"Marcin_S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71175364,"answer_count":1,"score":1,"last_activity_date":1645207353,"creation_date":1645194003,"question_id":71174994,"body_markdown":"I have an API which runs a query on database. Since the query execution time can be long, like 3 min to 10 min, my load balancer is returning _&quot;upstream request timeout&quot;_, but I can see the query is submitted to the datasource, but for the end user it&#39;s showing the wrong message. How to take care of this scenario?\r\n\r\nMy function\r\n\r\n    @PostMapping(&quot;/run/{QueryId}&quot;)\r\n    public void runQuery(@PathVariable String QueryId) {\r\n         // This method takes long time\r\n         querySchedulerService.runQuery(QueryId);\r\n    } ","title":"How to handle long API request","body":"<p>I have an API which runs a query on database. Since the query execution time can be long, like 3 min to 10 min, my load balancer is returning <em>&quot;upstream request timeout&quot;</em>, but I can see the query is submitted to the datasource, but for the end user it's showing the wrong message. How to take care of this scenario?</p>\n<p>My function</p>\n<pre><code>@PostMapping(&quot;/run/{QueryId}&quot;)\npublic void runQuery(@PathVariable String QueryId) {\n     // This method takes long time\n     querySchedulerService.runQuery(QueryId);\n} \n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":213337,"reputation":3691,"user_id":466677,"display_name":"Marek Gregor"},"score":76,"creation_date":1400247337,"post_id":23696317,"comment_id":36411169,"body_markdown":"It&#39;s not inefficient, Java 8 Stream implementation is lazy evaluated, so filter is applied only to terminal operation. Same question here: http://stackoverflow.com/questions/21219667/stream-and-lazy-evaluation","body":"It&#39;s not inefficient, Java 8 Stream implementation is lazy evaluated, so filter is applied only to terminal operation. Same question here: <a href=\"http://stackoverflow.com/questions/21219667/stream-and-lazy-evaluation\" title=\"stream and lazy evaluation\">stackoverflow.com/questions/21219667/stream-and-lazy-evaluat&zwnj;&#8203;ion</a>"},{"owner":{"account_id":309872,"reputation":9177,"user_id":2163864,"accept_rate":79,"display_name":"siki"},"score":1,"creation_date":1400248329,"post_id":23696317,"comment_id":36411935,"body_markdown":"Cool. That&#39;s what I hoped it&#39;d do. It would&#39;ve been a major design flop otherwise.","body":"Cool. That&#39;s what I hoped it&#39;d do. It would&#39;ve been a major design flop otherwise."},{"owner":{"account_id":313626,"reputation":1356,"user_id":628371,"display_name":"Joachim Lous"},"score":2,"creation_date":1461142910,"post_id":23696317,"comment_id":61059916,"body_markdown":"If your intention is really to check whether the list contains such an element at all (not single out the first of possibly several),  .findAny() can theoretically be more efficient in a parallell setting, and of course communicates that intent more clearly.","body":"If your intention is really to check whether the list contains such an element at all (not single out the first of possibly several),  .findAny() can theoretically be more efficient in a parallell setting, and of course communicates that intent more clearly."},{"owner":{"account_id":230261,"reputation":791,"user_id":493759,"display_name":"Agoston Horvath"},"score":2,"creation_date":1474553251,"post_id":23696317,"comment_id":66586106,"body_markdown":"Compared to a simple forEach cycle, this would create lots of objects on the heap and dozens of dynamic method calls. While this might not always affect the bottom line in your performance tests, in the hot spots it makes a difference to abstain from the trivial use of Stream and similar heavyweight constructs.","body":"Compared to a simple forEach cycle, this would create lots of objects on the heap and dozens of dynamic method calls. While this might not always affect the bottom line in your performance tests, in the hot spots it makes a difference to abstain from the trivial use of Stream and similar heavyweight constructs."},{"owner":{"account_id":480845,"reputation":71,"user_id":894319,"display_name":"user894319twitter"},"score":0,"creation_date":1700104611,"post_id":23696317,"comment_id":136614768,"body_markdown":"I suggest to remove the question as they don&#39;t care to read the docs here which are correct here.","body":"I suggest to remove the question as they don&#39;t care to read the docs here which are correct here."}],"answers":[{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":3,"up_vote_count":922,"is_accepted":true,"score":919,"last_activity_date":1449663191,"creation_date":1400247468,"answer_id":23696571,"question_id":23696317,"body_markdown":"No, filter does not scan the whole stream. It&#39;s an intermediate operation, which returns a lazy stream (actually all intermediate operations return a lazy stream). To convince you, you can simply do the following test:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1, 10, 3, 7, 5);\r\n    int a = list.stream()\r\n                .peek(num -&gt; System.out.println(&quot;will filter &quot; + num))\r\n                .filter(x -&gt; x &gt; 5)\r\n                .findFirst()\r\n                .get();\r\n    System.out.println(a);\r\n\r\nWhich outputs:\r\n\r\n    will filter 1\r\n    will filter 10\r\n    10\r\n\r\nYou see that only the two first elements of the stream are actually processed.\r\n\r\nSo you can go with your approach which is perfectly fine.","title":"Find first element by predicate","body":"<p>No, filter does not scan the whole stream. It's an intermediate operation, which returns a lazy stream (actually all intermediate operations return a lazy stream). To convince you, you can simply do the following test:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 10, 3, 7, 5);\nint a = list.stream()\n            .peek(num -&gt; System.out.println(\"will filter \" + num))\n            .filter(x -&gt; x &gt; 5)\n            .findFirst()\n            .get();\nSystem.out.println(a);\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>will filter 1\nwill filter 10\n10\n</code></pre>\n\n<p>You see that only the two first elements of the stream are actually processed.</p>\n\n<p>So you can go with your approach which is perfectly fine.</p>\n"},{"tags":[],"owner":{"account_id":4433658,"reputation":3540,"user_id":3610133,"display_name":"wha&#39;eve&#39;"},"down_vote_count":1,"up_vote_count":128,"is_accepted":false,"score":127,"last_activity_date":1400247515,"creation_date":1400247515,"answer_id":23696598,"question_id":23696317,"body_markdown":"&gt; However this seems inefficient to me, as the filter will scan the whole list\r\n\r\nNo it won&#39;t - it will &quot;break&quot; as soon as the first element satisfying the predicate is found. You can read more about laziness in the [stream package javadoc][1], in particular (emphasis mine):\r\n\r\n&gt; Many stream operations, such as filtering, mapping, or duplicate removal, can be implemented lazily, exposing opportunities for optimization. For example, &quot;find the first String with three consecutive vowels&quot; need not examine all the input strings. Stream operations are divided into intermediate (Stream-producing) operations and terminal (value- or side-effect-producing) operations. ***Intermediate operations are always lazy.***\r\n\r\n [1]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","title":"Find first element by predicate","body":"<blockquote>\n  <p>However this seems inefficient to me, as the filter will scan the whole list</p>\n</blockquote>\n\n<p>No it won't - it will \"break\" as soon as the first element satisfying the predicate is found. You can read more about laziness in the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"noreferrer\">stream package javadoc</a>, in particular (emphasis mine):</p>\n\n<blockquote>\n  <p>Many stream operations, such as filtering, mapping, or duplicate removal, can be implemented lazily, exposing opportunities for optimization. For example, \"find the first String with three consecutive vowels\" need not examine all the input strings. Stream operations are divided into intermediate (Stream-producing) operations and terminal (value- or side-effect-producing) operations. <strong><em>Intermediate operations are always lazy.</em></strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3311159,"reputation":3521,"user_id":3839716,"display_name":"CodeShadow"},"down_vote_count":2,"up_vote_count":65,"is_accepted":false,"score":63,"last_activity_date":1587117379,"creation_date":1490026907,"answer_id":42908813,"question_id":23696317,"body_markdown":"    return dataSource.getParkingLots()\r\n                     .stream()\r\n                     .filter(parkingLot -&gt; Objects.equals(parkingLot.getId(), id))\r\n                     .findFirst()\r\n                     .orElse(null);\r\n\r\nI had to filter out only one object from a list of objects. So i used this, hope it helps.","title":"Find first element by predicate","body":"<pre><code>return dataSource.getParkingLots()\n                 .stream()\n                 .filter(parkingLot -&gt; Objects.equals(parkingLot.getId(), id))\n                 .findFirst()\n                 .orElse(null);\n</code></pre>\n\n<p>I had to filter out only one object from a list of objects. So i used this, hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":11574970,"reputation":2258,"user_id":8480625,"display_name":"Ifesinachi Bryan"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1518012700,"creation_date":1516868940,"answer_id":48438557,"question_id":23696317,"body_markdown":"In addition to [Alexis C][1]&#39;s answer, If you are working with an array list, in which you are not sure whether the element you are searching for exists, use this.\r\n\r\n    Integer a = list.stream()\r\n                    .peek(num -&gt; System.out.println(&quot;will filter &quot; + num))\r\n                    .filter(x -&gt; x &gt; 5)\r\n                    .findFirst()\r\n                    .orElse(null);\r\n\r\nThen you could simply check whether **a** is `null`.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1587046/alexis-c","title":"Find first element by predicate","body":"<p>In addition to <a href=\"https://stackoverflow.com/users/1587046/alexis-c\">Alexis C</a>'s answer, If you are working with an array list, in which you are not sure whether the element you are searching for exists, use this.</p>\n\n<pre><code>Integer a = list.stream()\n                .peek(num -&gt; System.out.println(\"will filter \" + num))\n                .filter(x -&gt; x &gt; 5)\n                .findFirst()\n                .orElse(null);\n</code></pre>\n\n<p>Then you could simply check whether <strong>a</strong> is <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":7803621,"reputation":4775,"user_id":5902146,"display_name":"shreedhar bhat"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1580903619,"creation_date":1554285069,"answer_id":55492166,"question_id":23696317,"body_markdown":"&lt;strong&gt;**Improved One-Liner answer:**&lt;/strong&gt; If you are looking for a boolean return value, we can do it better by adding isPresent:    \r\n\r\n    return dataSource.getParkingLots().stream().filter(parkingLot -&gt; Objects.equals(parkingLot.getId(), id)).findFirst().isPresent();","title":"Find first element by predicate","body":"<p><strong><strong>Improved One-Liner answer:</strong></strong> If you are looking for a boolean return value, we can do it better by adding isPresent:    </p>\n\n<pre><code>return dataSource.getParkingLots().stream().filter(parkingLot -&gt; Objects.equals(parkingLot.getId(), id)).findFirst().isPresent();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":445371,"reputation":194,"user_id":837784,"accept_rate":25,"display_name":"aillusions"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570506131,"creation_date":1570506131,"answer_id":58279917,"question_id":23696317,"body_markdown":"```\r\n\r\nimport org.junit.Test;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n// Stream is ~30 times slower for same operation...\r\npublic class StreamPerfTest {\r\n\r\n    int iterations = 100;\r\n    List&lt;Integer&gt; list = Arrays.asList(1, 10, 3, 7, 5);\r\n\r\n\r\n    // 55 ms\r\n    @Test\r\n    public void stream() {\r\n\r\n        for (int i = 0; i &lt; iterations; i++) {\r\n            Optional&lt;Integer&gt; result = list.stream()\r\n                    .filter(x -&gt; x &gt; 5)\r\n                    .findFirst();\r\n\r\n            System.out.println(result.orElse(null));\r\n        }\r\n    }\r\n\r\n    // 2 ms\r\n    @Test\r\n    public void loop() {\r\n\r\n        for (int i = 0; i &lt; iterations; i++) {\r\n            Integer result = null;\r\n            for (Integer walk : list) {\r\n                if (walk &gt; 5) {\r\n                    result = walk;\r\n                    break;\r\n                }\r\n            }\r\n            System.out.println(result);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Find first element by predicate","body":"<pre><code>\nimport org.junit.Test;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Optional;\n\n// Stream is ~30 times slower for same operation...\npublic class StreamPerfTest {\n\n    int iterations = 100;\n    List&lt;Integer&gt; list = Arrays.asList(1, 10, 3, 7, 5);\n\n\n    // 55 ms\n    @Test\n    public void stream() {\n\n        for (int i = 0; i &lt; iterations; i++) {\n            Optional&lt;Integer&gt; result = list.stream()\n                    .filter(x -&gt; x &gt; 5)\n                    .findFirst();\n\n            System.out.println(result.orElse(null));\n        }\n    }\n\n    // 2 ms\n    @Test\n    public void loop() {\n\n        for (int i = 0; i &lt; iterations; i++) {\n            Integer result = null;\n            for (Integer walk : list) {\n                if (walk &gt; 5) {\n                    result = walk;\n                    break;\n                }\n            }\n            System.out.println(result);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1606744385,"creation_date":1606744385,"answer_id":65074853,"question_id":23696317,"body_markdown":"Already answered by @AjaxLeung, but in comments and hard to find.  \r\nFor check only\r\n\r\n    lst.stream()\r\n        .filter(x -&gt; x &gt; 5)\r\n        .findFirst()\r\n        .isPresent()\r\n\r\nis simplified to\r\n\r\n    lst.stream()\r\n        .anyMatch(x -&gt; x &gt; 5)","title":"Find first element by predicate","body":"<p>Already answered by @AjaxLeung, but in comments and hard to find.<br />\nFor check only</p>\n<pre><code>lst.stream()\n    .filter(x -&gt; x &gt; 5)\n    .findFirst()\n    .isPresent()\n</code></pre>\n<p>is simplified to</p>\n<pre><code>lst.stream()\n    .anyMatch(x -&gt; x &gt; 5)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17636124,"reputation":8430,"user_id":12799351,"display_name":"lawrence-witt"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1645207291,"creation_date":1645206440,"answer_id":71177812,"question_id":23696317,"body_markdown":"A generic utility function with looping seems a lot cleaner to me:\r\n\r\n````\r\nstatic public &lt;T&gt; T find(List&lt;T&gt; elements, Predicate&lt;T&gt; p) {\r\n    for (T item : elements) if (p.test(item)) return item;\r\n    return null;\r\n}\r\n\r\nstatic public &lt;T&gt; T find(T[] elements, Predicate&lt;T&gt; p) {\r\n    for (T item : elements) if (p.test(item)) return item;\r\n    return null;\r\n}\r\n````\r\n\r\nIn use:\r\n\r\n````\r\nList&lt;Integer&gt; intList = Arrays.asList(1, 2, 3, 4, 5);\r\nInteger[] intArr = new Integer[]{1, 2, 3, 4, 5};\r\n\r\nSystem.out.println(find(intList, i -&gt; i % 2 == 0)); // 2\r\nSystem.out.println(find(intArr, i -&gt; i % 2 != 0)); // 1\r\nSystem.out.println(find(intList, i -&gt; i &gt; 5)); // null\r\n````","title":"Find first element by predicate","body":"<p>A generic utility function with looping seems a lot cleaner to me:</p>\n<pre><code>static public &lt;T&gt; T find(List&lt;T&gt; elements, Predicate&lt;T&gt; p) {\n    for (T item : elements) if (p.test(item)) return item;\n    return null;\n}\n\nstatic public &lt;T&gt; T find(T[] elements, Predicate&lt;T&gt; p) {\n    for (T item : elements) if (p.test(item)) return item;\n    return null;\n}\n</code></pre>\n<p>In use:</p>\n<pre><code>List&lt;Integer&gt; intList = Arrays.asList(1, 2, 3, 4, 5);\nInteger[] intArr = new Integer[]{1, 2, 3, 4, 5};\n\nSystem.out.println(find(intList, i -&gt; i % 2 == 0)); // 2\nSystem.out.println(find(intArr, i -&gt; i % 2 != 0)); // 1\nSystem.out.println(find(intList, i -&gt; i &gt; 5)); // null\n</code></pre>\n"}],"owner":{"account_id":309872,"reputation":9177,"user_id":2163864,"accept_rate":79,"display_name":"siki"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605534,"favorite_count":0,"down_vote_count":3,"up_vote_count":693,"accepted_answer_id":23696571,"answer_count":8,"score":690,"last_activity_date":1645207291,"creation_date":1400246899,"question_id":23696317,"body_markdown":"I&#39;ve just started playing with Java 8 lambdas and I&#39;m trying to implement some of the things that I&#39;m used to in functional languages.\r\n\r\nFor example, most functional languages have some kind of find function that operates on sequences, or lists that returns the first element, for which the predicate is `true`. The only way I can see to achieve this in Java 8 is:\r\n\r\n    lst.stream()\r\n        .filter(x -&gt; x &gt; 5)\r\n        .findFirst()\r\n\r\nHowever this seems inefficient to me, as the filter will scan the whole list, at least to my understanding (which could be wrong). Is there a better way?  ","title":"Find first element by predicate","body":"<p>I've just started playing with Java 8 lambdas and I'm trying to implement some of the things that I'm used to in functional languages.</p>\n\n<p>For example, most functional languages have some kind of find function that operates on sequences, or lists that returns the first element, for which the predicate is <code>true</code>. The only way I can see to achieve this in Java 8 is:</p>\n\n<pre><code>lst.stream()\n    .filter(x -&gt; x &gt; 5)\n    .findFirst()\n</code></pre>\n\n<p>However this seems inefficient to me, as the filter will scan the whole list, at least to my understanding (which could be wrong). Is there a better way?  </p>\n"},{"tags":["java","spring-boot","memory","heap-memory","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":1437483,"reputation":1908,"user_id":1358551,"display_name":"charybr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645207239,"creation_date":1645207239,"answer_id":71177975,"question_id":71177885,"body_markdown":"I think it is due to a low value of hikari.leakDetectionThreshold property (10000 ms i.e 10 seconds). Try increasing it to 1 minute (60000 ms).","title":"Hikari: Apparent connection leak detected","body":"<p>I think it is due to a low value of hikari.leakDetectionThreshold property (10000 ms i.e 10 seconds). Try increasing it to 1 minute (60000 ms).</p>\n"}],"owner":{"account_id":13523097,"reputation":21,"user_id":12701154,"display_name":"just_curious"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4724,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674205521,"answer_count":1,"score":0,"last_activity_date":1645207239,"creation_date":1645206808,"question_id":71177885,"body_markdown":"In my Spring boot application, \r\n\r\n```\r\ndatasource:\r\n    oracle:\r\n      hikari:\r\n        jdbc-url: URL\r\n        username: Username\r\n        password: password\r\n        minimum-idle: 3\r\n        maximum-pool-size: 10\r\n        max-lifetime: 0\r\n        connection-test-query: select 1 from dual\r\n        leak-detection-threshold: 10000\r\n        driver-class-name: oracle.jdbc.OracleDriver\r\n        idleTimeout: 0\r\n        keepaliveTime: 300000\r\n```\r\n\r\nWith this config, I&#39;m getting error:\r\n```\r\ncom.zaxxer.hikari.pool.ProxyLeakTask : Connection leak detection triggered for oracle.jdbc.driver.T4CConnection@48063c71 on thread taskExecutor-1, stack trace follows\r\njava.lang.Exception: Apparent connection leak detected\r\nPreviously reported leaked connection oracle.jdbc.driver.T4CConnection@48063c71 on thread taskExecutor-1 was returned to the pool (unleaked)\r\n```\r\n\r\nThe memory usage in AppMetrix has jumped to 90% which is extremely high. Now, if I run any other job, the issue will be Heap out of memory. \r\n\r\nAny suggestions on how this can be fixed?","title":"Hikari: Apparent connection leak detected","body":"<p>In my Spring boot application,</p>\n<pre><code>datasource:\n    oracle:\n      hikari:\n        jdbc-url: URL\n        username: Username\n        password: password\n        minimum-idle: 3\n        maximum-pool-size: 10\n        max-lifetime: 0\n        connection-test-query: select 1 from dual\n        leak-detection-threshold: 10000\n        driver-class-name: oracle.jdbc.OracleDriver\n        idleTimeout: 0\n        keepaliveTime: 300000\n</code></pre>\n<p>With this config, I'm getting error:</p>\n<pre><code>com.zaxxer.hikari.pool.ProxyLeakTask : Connection leak detection triggered for oracle.jdbc.driver.T4CConnection@48063c71 on thread taskExecutor-1, stack trace follows\njava.lang.Exception: Apparent connection leak detected\nPreviously reported leaked connection oracle.jdbc.driver.T4CConnection@48063c71 on thread taskExecutor-1 was returned to the pool (unleaked)\n</code></pre>\n<p>The memory usage in AppMetrix has jumped to 90% which is extremely high. Now, if I run any other job, the issue will be Heap out of memory.</p>\n<p>Any suggestions on how this can be fixed?</p>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645191003,"creation_date":1645191003,"answer_id":71174302,"question_id":71173806,"body_markdown":"The String return type you use in a `@Controller` (as opposed to the `@RestController` you used before) indicates the name of the Thymeleaf template.\r\n\r\nNormally, I would use 2 templates:\r\n\r\n* `book-list.html` to show the list of books\r\n* `book.html` to show the details of a single book\r\n\r\nThose files need to be in `src/main/resources/templates`. Assuming you have that, your controller becomes:\r\n\r\n```\r\n    @GetMapping(path = &quot;/books/{id}&quot;)\r\n    public String getBookById(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n        BookEntity book = bookService.getById(id);\r\n        model.addAttribute(&quot;book&quot;, book);\r\n        return &quot;book&quot;;\r\n    }\r\n    \r\n@GetMapping(&quot;/books&quot;)\r\n    public String AllBooks(Model model) {\r\n        List&lt;BookEntity&gt; books = bookService.findAll();\r\n        model.addAttribute(&quot;books&quot;, books);\r\n\r\n        return &quot;book-list&quot;;\r\n    }\r\n```\r\n\r\nIn `book-list.html`, you can do something like this:\r\n\r\n```\r\n&lt;tr th:each=&quot;book: ${books}&quot;&gt;\r\n    &lt;td th:text=&quot;${book.id}&quot; /&gt;\r\n    &lt;td th:text=&quot;${book.name}&quot; /&gt;\r\n    &lt;td&gt;&lt;a th:href=&quot;@{/books/{id}(id=book.id)&quot;&gt;View details&lt;/a&gt;&lt;/td&gt;\r\n&lt;/tr&gt;\r\n```\r\n\r\nIn `book.html`, you can show the details of the book:\r\n\r\n```\r\n&lt;div&gt;\r\n  &lt;h1 th:text=&quot;${book.name}&quot;&gt;&lt;/h1&gt;\r\n  ...\r\n&lt;/div&gt;\r\n```\r\n\r\nNow opening your browser to http://localhost:8080/books should show the list of books with hyperlinks to navigate to the details of the book.","title":"Show Output of Controller method via Thymeleaf","body":"<p>The String return type you use in a <code>@Controller</code> (as opposed to the <code>@RestController</code> you used before) indicates the name of the Thymeleaf template.</p>\n<p>Normally, I would use 2 templates:</p>\n<ul>\n<li><code>book-list.html</code> to show the list of books</li>\n<li><code>book.html</code> to show the details of a single book</li>\n</ul>\n<p>Those files need to be in <code>src/main/resources/templates</code>. Assuming you have that, your controller becomes:</p>\n<pre><code>    @GetMapping(path = &quot;/books/{id}&quot;)\n    public String getBookById(@PathVariable(&quot;id&quot;) Long id, Model model) {\n        BookEntity book = bookService.getById(id);\n        model.addAttribute(&quot;book&quot;, book);\n        return &quot;book&quot;;\n    }\n    \n@GetMapping(&quot;/books&quot;)\n    public String AllBooks(Model model) {\n        List&lt;BookEntity&gt; books = bookService.findAll();\n        model.addAttribute(&quot;books&quot;, books);\n\n        return &quot;book-list&quot;;\n    }\n</code></pre>\n<p>In <code>book-list.html</code>, you can do something like this:</p>\n<pre><code>&lt;tr th:each=&quot;book: ${books}&quot;&gt;\n    &lt;td th:text=&quot;${book.id}&quot; /&gt;\n    &lt;td th:text=&quot;${book.name}&quot; /&gt;\n    &lt;td&gt;&lt;a th:href=&quot;@{/books/{id}(id=book.id)&quot;&gt;View details&lt;/a&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>In <code>book.html</code>, you can show the details of the book:</p>\n<pre><code>&lt;div&gt;\n  &lt;h1 th:text=&quot;${book.name}&quot;&gt;&lt;/h1&gt;\n  ...\n&lt;/div&gt;\n</code></pre>\n<p>Now opening your browser to http://localhost:8080/books should show the list of books with hyperlinks to navigate to the details of the book.</p>\n"},{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645207116,"creation_date":1645192097,"answer_id":71174545,"question_id":71173806,"body_markdown":"First you have to understand without extracting `books` how can you get book id. You have to extract books and put `book_id` in anchor tag link href. If you click on the link tag, you find that perticular book data. \r\n\r\nHere down is code.\r\n\r\nSuppose `Entity` is:\r\n```\r\n@Entity\r\npublic class Book {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String name;\r\n\tprivate Integer page;\r\n    \r\n    // getter setter\r\n}\r\n```\r\n\r\n**Contorller**\r\n```\r\n@GetMapping(path = &quot;/books/{id}&quot;)\r\npublic String getBookById(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n    BookEntity book = bookService.getById(id);\r\n    model.addAttribute(&quot;book&quot;, book);\r\n    return &quot;book&quot;;\r\n}\r\n    \r\n@GetMapping(&quot;/books&quot;)\r\npublic String AllBooks(Model model) {\r\n   List&lt;BookEntity&gt; books = bookService.findAll();\r\n   model.addAttribute(&quot;books&quot;, books);\r\n   return &quot;books&quot;;\r\n}\r\n```\r\n\r\nHere down is two templates `book.html` and `books.html`. Path of this both file is `src/main/resources/templates`.\r\n\r\n**books.html**\r\n```\r\n&lt;tr th:each=&quot;book: ${books}&quot;&gt;\r\n    &lt;td th:text=&quot;${book.id}&quot; /&gt;\r\n    &lt;td th:text=&quot;${book.name}&quot; /&gt;\r\n    &lt;td th:text=&quot;${book.page}&quot; /&gt;\r\n    &lt;td&gt;&lt;a th:href=&quot;@{/books/{id}(id=book.id)&quot;&gt;Go To Book&lt;/a&gt;&lt;/td&gt;\r\n&lt;/tr&gt;\r\n```\r\n\r\n**book.html**\r\n```\r\n&lt;div&gt;\r\n  Book Name: &lt;label th:text=&quot;${book.name}&quot;&gt;&lt;/label&gt;\r\n  How Many Pages: &lt;label th:text=&quot;${book.page}&quot;&gt;&lt;/label&gt;\r\n&lt;/div&gt;\r\n```\r\n","title":"Show Output of Controller method via Thymeleaf","body":"<p>First you have to understand without extracting <code>books</code> how can you get book id. You have to extract books and put <code>book_id</code> in anchor tag link href. If you click on the link tag, you find that perticular book data.</p>\n<p>Here down is code.</p>\n<p>Suppose <code>Entity</code> is:</p>\n<pre><code>@Entity\npublic class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private Integer page;\n    \n    // getter setter\n}\n</code></pre>\n<p><strong>Contorller</strong></p>\n<pre><code>@GetMapping(path = &quot;/books/{id}&quot;)\npublic String getBookById(@PathVariable(&quot;id&quot;) Long id, Model model) {\n    BookEntity book = bookService.getById(id);\n    model.addAttribute(&quot;book&quot;, book);\n    return &quot;book&quot;;\n}\n    \n@GetMapping(&quot;/books&quot;)\npublic String AllBooks(Model model) {\n   List&lt;BookEntity&gt; books = bookService.findAll();\n   model.addAttribute(&quot;books&quot;, books);\n   return &quot;books&quot;;\n}\n</code></pre>\n<p>Here down is two templates <code>book.html</code> and <code>books.html</code>. Path of this both file is <code>src/main/resources/templates</code>.</p>\n<p><strong>books.html</strong></p>\n<pre><code>&lt;tr th:each=&quot;book: ${books}&quot;&gt;\n    &lt;td th:text=&quot;${book.id}&quot; /&gt;\n    &lt;td th:text=&quot;${book.name}&quot; /&gt;\n    &lt;td th:text=&quot;${book.page}&quot; /&gt;\n    &lt;td&gt;&lt;a th:href=&quot;@{/books/{id}(id=book.id)&quot;&gt;Go To Book&lt;/a&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p><strong>book.html</strong></p>\n<pre><code>&lt;div&gt;\n  Book Name: &lt;label th:text=&quot;${book.name}&quot;&gt;&lt;/label&gt;\n  How Many Pages: &lt;label th:text=&quot;${book.page}&quot;&gt;&lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":19982380,"reputation":85,"user_id":14645205,"display_name":"Okabe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71174302,"answer_count":2,"score":1,"last_activity_date":1645207116,"creation_date":1645188744,"question_id":71173806,"body_markdown":"I just started working on Thymeleaf and wanted to connect a Spring Boot application with HTML using Thymeleaf. I had my &quot;normal&quot; controllers without Thymeleaf like this: \r\n \r\n\r\n     @GetMapping(path = &quot;/{id}&quot;)\r\n        public BookEntity getBookById(@PathVariable Long id) {\r\n            return bookService.getById(id);\r\n        }\r\n\r\n\r\n\r\n    @GetMapping\r\n            public List&lt;BookEntity&gt; getAllBooks() {\r\n                return bookService.findAll();\r\n            }\r\n\r\n\r\n\r\nNow that Im using Thymeleaf I created some new Controllers like this: \r\n\r\n     @GetMapping(path = &quot;/book/{id}&quot;)\r\n        public String getBookById(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n            BookEntity book= bookService.getById(id);\r\n            model.addAttribute(&quot;book&quot;, book);\r\n            return &quot;book/{id}&quot;;\r\n        }\r\n        \r\n    @GetMapping(&quot;/book/all&quot;)\r\n        public String AllBooks(Model model) {\r\n            List&lt;BookEntity&gt; books = bookService.findAll();\r\n            model.addAttribute(&quot;books&quot;, books);\r\n    \r\n            return &quot;books&quot;;\r\n        }\r\n\r\n\r\nI also created a book.html file in resources/templates like this:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot; name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, minimum-scale=1.0&quot;&gt;\r\n        &lt;title&gt;Books&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h4&gt;Select action to do something&lt;/h4&gt;\r\n    &lt;form th:action=&quot;@{/book/{id}(id=book.getId())&quot; method=&quot;get&quot;&gt;\r\n        &lt;label for=&quot;id&quot;&gt;id:&lt;/label&gt;&lt;br&gt;\r\n        &lt;input type=&quot;number&quot; id=&quot;id&quot; name=&quot;id&quot; placeholder=&quot;id&quot; required&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n    &lt;/form&gt;\r\n    \r\n \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nBut this isnt working I wanted to submit the book Id (in the input) and in return I get the Book with the right id. I tried to use ModelAndView instead of Model and return a ModelAndView but it didnt work. Can anyone tell what am I doing wrong.\r\nThanks in advance\r\n\r\n","title":"Show Output of Controller method via Thymeleaf","body":"<p>I just started working on Thymeleaf and wanted to connect a Spring Boot application with HTML using Thymeleaf. I had my &quot;normal&quot; controllers without Thymeleaf like this:</p>\n<pre><code> @GetMapping(path = &quot;/{id}&quot;)\n    public BookEntity getBookById(@PathVariable Long id) {\n        return bookService.getById(id);\n    }\n\n\n\n@GetMapping\n        public List&lt;BookEntity&gt; getAllBooks() {\n            return bookService.findAll();\n        }\n</code></pre>\n<p>Now that Im using Thymeleaf I created some new Controllers like this:</p>\n<pre><code> @GetMapping(path = &quot;/book/{id}&quot;)\n    public String getBookById(@PathVariable(&quot;id&quot;) Long id, Model model) {\n        BookEntity book= bookService.getById(id);\n        model.addAttribute(&quot;book&quot;, book);\n        return &quot;book/{id}&quot;;\n    }\n    \n@GetMapping(&quot;/book/all&quot;)\n    public String AllBooks(Model model) {\n        List&lt;BookEntity&gt; books = bookService.findAll();\n        model.addAttribute(&quot;books&quot;, books);\n\n        return &quot;books&quot;;\n    }\n</code></pre>\n<p>I also created a book.html file in resources/templates like this:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot; name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, minimum-scale=1.0&quot;&gt;\n    &lt;title&gt;Books&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h4&gt;Select action to do something&lt;/h4&gt;\n&lt;form th:action=&quot;@{/book/{id}(id=book.getId())&quot; method=&quot;get&quot;&gt;\n    &lt;label for=&quot;id&quot;&gt;id:&lt;/label&gt;&lt;br&gt;\n    &lt;input type=&quot;number&quot; id=&quot;id&quot; name=&quot;id&quot; placeholder=&quot;id&quot; required&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n&lt;/form&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>But this isnt working I wanted to submit the book Id (in the input) and in return I get the Book with the right id. I tried to use ModelAndView instead of Model and return a ModelAndView but it didnt work. Can anyone tell what am I doing wrong.\nThanks in advance</p>\n"},{"tags":["java","spring","hibernate","web-services","jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1535377384,"post_id":52040588,"comment_id":91031988,"body_markdown":"Looks like there is no user with that ID in the database: AppUser with id deb859d9-409e-4310-b96d-fc11656bd6f7","body":"Looks like there is no user with that ID in the database: AppUser with id deb859d9-409e-4310-b96d-fc11656bd6f7"},{"owner":{"account_id":13887278,"reputation":93,"user_id":10026139,"display_name":"Hamza"},"score":0,"creation_date":1535377495,"post_id":52040588,"comment_id":91032065,"body_markdown":"it exists in the database, cuz when I call the local function it load all user, but the webservice gives the error, I think @Transactional doesn&#39;t work with webservice","body":"it exists in the database, cuz when I call the local function it load all user, but the webservice gives the error, I think @Transactional doesn&#39;t work with webservice"},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1535377708,"post_id":52040588,"comment_id":91032187,"body_markdown":"@Hamza what happens if you try to execute a simple SQL query from your SQL workbench? What is the result for selecting the user by id?","body":"@Hamza what happens if you try to execute a simple SQL query from your SQL workbench? What is the result for selecting the user by id?"},{"owner":{"account_id":13887278,"reputation":93,"user_id":10026139,"display_name":"Hamza"},"score":0,"creation_date":1535378646,"post_id":52040588,"comment_id":91032757,"body_markdown":"it doesn&#39;t return any row,","body":"it doesn&#39;t return any row,"},{"owner":{"account_id":13887278,"reputation":93,"user_id":10026139,"display_name":"Hamza"},"score":0,"creation_date":1535378753,"post_id":52040588,"comment_id":91032837,"body_markdown":"I add in the local function this line : \nSystem.out.println(&quot;created by&quot;+x.getCreatedBy().getUserId());\nand when I search in SQL workbench for the ID, I cannot find it.\nit&#39;s weird","body":"I add in the local function this line :  System.out.println(&quot;created by&quot;+x.getCreatedBy().getUserId()); and when I search in SQL workbench for the ID, I cannot find it. it&#39;s weird"},{"owner":{"account_id":13887278,"reputation":93,"user_id":10026139,"display_name":"Hamza"},"score":0,"creation_date":1535380126,"post_id":52040588,"comment_id":91033686,"body_markdown":"@dbl I changed the ID type from UUID to Long, and it works.\nbut in this project, I must work with UUID","body":"@dbl I changed the ID type from UUID to Long, and it works. but in this project, I must work with UUID"},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1535380411,"post_id":52040588,"comment_id":91033868,"body_markdown":"@Hamza what DB are you using? What is the table definition for &quot;users&quot;? Try this: select * from users where id = unhex(&#39;my-custom-uuid-here&#39;);","body":"@Hamza what DB are you using? What is the table definition for &quot;users&quot;? Try this: select * from users where id = unhex(&#39;my-custom-uuid-here&#39;);"},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1535380847,"post_id":52040588,"comment_id":91034127,"body_markdown":"Just forgot to tell u that you should remove all the dashes before unhexing!","body":"Just forgot to tell u that you should remove all the dashes before unhexing!"},{"owner":{"account_id":13887278,"reputation":93,"user_id":10026139,"display_name":"Hamza"},"score":0,"creation_date":1535380997,"post_id":52040588,"comment_id":91034207,"body_markdown":"@dbl I&#39;m using MySQL db, I tried the function but it doesn&#39;t work.\nI think the problem come, when the UUID is used as foreign key.","body":"@dbl I&#39;m using MySQL db, I tried the function but it doesn&#39;t work. I think the problem come, when the UUID is used as foreign key."},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1535381173,"post_id":52040588,"comment_id":91034319,"body_markdown":"Then what does this query returns: select hex(user_id) from users; Have you tried adding proper getters and setters for both the classes?","body":"Then what does this query returns: select hex(user_id) from users; Have you tried adding proper getters and setters for both the classes?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1535387871,"post_id":52040588,"comment_id":91037995,"body_markdown":"@Hamza *I think `@Transactional` doesn&#39;t work with webservice* It works also with webservices. Maybe you use a n other db when calling it localy and when you call the webservice?","body":"@Hamza <i>I think <code>@Transactional</code> doesn&#39;t work with webservice</i> It works also with webservices. Maybe you use a n other db when calling it localy and when you call the webservice?"},{"owner":{"account_id":13887278,"reputation":93,"user_id":10026139,"display_name":"Hamza"},"score":0,"creation_date":1535440273,"post_id":52040588,"comment_id":91054222,"body_markdown":"I think the issue cuz uuid field are saved as blob in the database.","body":"I think the issue cuz uuid field are saved as blob in the database."},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1659682956,"post_id":52040588,"comment_id":129356778,"body_markdown":"@Hamza Did u find any answer??","body":"@Hamza Did u find any answer??"}],"answers":[{"tags":[],"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535387935,"creation_date":1535387935,"answer_id":52043611,"question_id":52040588,"body_markdown":"`add in the local function this line : System.out.println(&quot;created by&quot;+x.getCreatedBy().getUserId()); and when I search in SQL workbench for the ID, I cannot find it. it&#39;s weird`\r\n\r\n\r\nIt&#39;s likely then that you have persisted the `Entity` but you have not committed the transaction. Even if you flush data is not saved to the database until transaction commit. ACID principles.\r\n\r\n\r\nSo, \r\n\r\n\r\n    begin transaction\r\n    write data\r\n    read with query // returns nothing\r\n    commit transaction.\r\n\r\n\r\nIs wrong. You need to \r\n\r\n\r\n    begin transaction\r\n    write data\r\n    commit transaction\r\n    read data\r\n\r\n\r\n","title":"Unable to find entity with id even if it exists","body":"<p><code>add in the local function this line : System.out.println(\"created by\"+x.getCreatedBy().getUserId()); and when I search in SQL workbench for the ID, I cannot find it. it's weird</code></p>\n\n<p>It's likely then that you have persisted the <code>Entity</code> but you have not committed the transaction. Even if you flush data is not saved to the database until transaction commit. ACID principles.</p>\n\n<p>So, </p>\n\n<pre><code>begin transaction\nwrite data\nread with query // returns nothing\ncommit transaction.\n</code></pre>\n\n<p>Is wrong. You need to </p>\n\n<pre><code>begin transaction\nwrite data\ncommit transaction\nread data\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14959533,"reputation":31,"user_id":10799673,"display_name":"Galahad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599625945,"creation_date":1599625945,"answer_id":63804788,"question_id":52040588,"body_markdown":"Change your \r\n\r\n    @OneToMany(mappedBy = &quot;createdBy&quot;, fetch = FetchType.EAGER) \r\n\r\n\r\n**to** \r\n\r\n    *@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy=&quot;createdBy&quot;)*","title":"Unable to find entity with id even if it exists","body":"<p>Change your</p>\n<pre><code>@OneToMany(mappedBy = &quot;createdBy&quot;, fetch = FetchType.EAGER) \n</code></pre>\n<p><strong>to</strong></p>\n<pre><code>*@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy=&quot;createdBy&quot;)*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13455612,"reputation":31,"user_id":9709259,"display_name":"Alekseych4"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618522550,"creation_date":1618522550,"answer_id":67116329,"question_id":52040588,"body_markdown":"Just in order if anyone is still looking for it. I had the same issue in my project, but in my case Hibernate was automatically translating `UUID` field of Entity into `BINARY(255)` column type. I had no problems retrieving rows with `findAll()` method of repository, but when I tried to retrieve anything by id, passing it to the `@RestController` (a REALLY existing id) the following exception always occured: \r\n\r\n    No class {Your entity class} entity with id {Your UUID} exists!\r\n\r\nI checked several projects which probably were working properly and found following definition for column type: \r\n\r\n    @Column(columnDefinition = &quot;BINARY(16)&quot;)\r\n    private UUID id;\r\n\r\n or:\r\n\r\n    @Column(columnDefinition = &quot;VARBINARY(16)&quot;)\r\n    private UUID id;\r\n\r\nAnd it also worked in my case. If I&#39;m not mistaken, the problem with `BINARY(255)` occurs when passing UUID is being compared with the UUID from the database, which has trailing bytes (the zero bytes, to simply fit the size of 255 bytes, because UUID is only 16 bytes long) and which are not being truncated during the retrieval. Obviously, there are no problems with `VARBINARY(16)` (or even `VARBINARY(255)`, though its redundant) because it&#39;s simply takes the size of input value. The [docs](https://dev.mysql.com/doc/refman/5.6/en/binary-varbinary.html) explain it well:\r\n\r\n&gt; When BINARY values are stored, they are right-padded with the pad value to the specified length. The pad value is 0x00 (the zero byte). Values are right-padded with 0x00 for inserts, and no trailing bytes are removed for retrievals. All bytes are significant in comparisons, including ORDER BY and DISTINCT operations. 0x00 and space differ in comparisons, with 0x00 sorting before space.\r\n\r\n&gt; Example: For a BINARY(3) column, &#39;a &#39; becomes &#39;a \\0&#39; when inserted. &#39;a\\0&#39; becomes &#39;a\\0\\0&#39; when inserted. Both inserted values remain unchanged for retrievals.\r\n\r\n&gt; For VARBINARY, there is no padding for inserts and no bytes are stripped for retrievals. All bytes are significant in comparisons, including ORDER BY and DISTINCT operations. 0x00 and space differ in comparisons, with 0x00 sorting before space.\r\n\r\nAnd in the end:\r\n&gt;If the value retrieved must be the same as the value specified for storage with no padding, it might be preferable to use VARBINARY or one of the BLOB data types instead.","title":"Unable to find entity with id even if it exists","body":"<p>Just in order if anyone is still looking for it. I had the same issue in my project, but in my case Hibernate was automatically translating <code>UUID</code> field of Entity into <code>BINARY(255)</code> column type. I had no problems retrieving rows with <code>findAll()</code> method of repository, but when I tried to retrieve anything by id, passing it to the <code>@RestController</code> (a REALLY existing id) the following exception always occured:</p>\n<pre><code>No class {Your entity class} entity with id {Your UUID} exists!\n</code></pre>\n<p>I checked several projects which probably were working properly and found following definition for column type:</p>\n<pre><code>@Column(columnDefinition = &quot;BINARY(16)&quot;)\nprivate UUID id;\n</code></pre>\n<p>or:</p>\n<pre><code>@Column(columnDefinition = &quot;VARBINARY(16)&quot;)\nprivate UUID id;\n</code></pre>\n<p>And it also worked in my case. If I'm not mistaken, the problem with <code>BINARY(255)</code> occurs when passing UUID is being compared with the UUID from the database, which has trailing bytes (the zero bytes, to simply fit the size of 255 bytes, because UUID is only 16 bytes long) and which are not being truncated during the retrieval. Obviously, there are no problems with <code>VARBINARY(16)</code> (or even <code>VARBINARY(255)</code>, though its redundant) because it's simply takes the size of input value. The <a href=\"https://dev.mysql.com/doc/refman/5.6/en/binary-varbinary.html\" rel=\"nofollow noreferrer\">docs</a> explain it well:</p>\n<blockquote>\n<p>When BINARY values are stored, they are right-padded with the pad value to the specified length. The pad value is 0x00 (the zero byte). Values are right-padded with 0x00 for inserts, and no trailing bytes are removed for retrievals. All bytes are significant in comparisons, including ORDER BY and DISTINCT operations. 0x00 and space differ in comparisons, with 0x00 sorting before space.</p>\n</blockquote>\n<blockquote>\n<p>Example: For a BINARY(3) column, 'a ' becomes 'a \\0' when inserted. 'a\\0' becomes 'a\\0\\0' when inserted. Both inserted values remain unchanged for retrievals.</p>\n</blockquote>\n<blockquote>\n<p>For VARBINARY, there is no padding for inserts and no bytes are stripped for retrievals. All bytes are significant in comparisons, including ORDER BY and DISTINCT operations. 0x00 and space differ in comparisons, with 0x00 sorting before space.</p>\n</blockquote>\n<p>And in the end:</p>\n<blockquote>\n<p>If the value retrieved must be the same as the value specified for storage with no padding, it might be preferable to use VARBINARY or one of the BLOB data types instead.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15632276,"reputation":117,"user_id":11569193,"display_name":"Takouo Gnegneri Franck Kris-ke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645207017,"creation_date":1645207017,"answer_id":71177925,"question_id":52040588,"body_markdown":"add these methods in courseRepository.java\r\n\r\n    @Override\r\n    @EntityGraph(attributePaths = &quot;createdBy&quot;)\r\n    List&lt;Course&gt; findAll();\r\n\r\n    @Override\r\n    @EntityGraph(attributePaths = &quot;createdBy&quot;)\r\n    Page&lt;Course&gt; findAll(Pageable var1); ","title":"Unable to find entity with id even if it exists","body":"<p>add these methods in courseRepository.java</p>\n<pre><code>@Override\n@EntityGraph(attributePaths = &quot;createdBy&quot;)\nList&lt;Course&gt; findAll();\n\n@Override\n@EntityGraph(attributePaths = &quot;createdBy&quot;)\nPage&lt;Course&gt; findAll(Pageable var1); \n</code></pre>\n"}],"owner":{"account_id":13887278,"reputation":93,"user_id":10026139,"display_name":"Hamza"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14046,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1645207017,"creation_date":1535376698,"question_id":52040588,"body_markdown":"I have two entities, AppUser and Course\r\nOne AppUser can create many Courses\r\nso this is my code :\r\nClass AppUser :\r\n\r\n\r\n    @Entity(name = &quot;users&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class AppUser {\r\n    \r\n       /**\r\n         * ID of the user\r\n         *\r\n         * type : UUID\r\n         */\r\n        @Id @GeneratedValue\r\n        @Column(name = &quot;user_id&quot;)\r\n        private UUID userId;\r\n\r\n        @OneToMany(mappedBy = &quot;createdBy&quot;, fetch = FetchType.EAGER)\r\n        private Collection&lt;Course&gt; courses;\r\n\r\n\r\nClass Course : \r\n\r\n    @Entity(name = &quot;course&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Course {\r\n\r\n    /**\r\n     * ID of the course\r\n     *\r\n     * type: UUID\r\n     */\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;course_id&quot;)\r\n    private UUID courseId;\r\n\r\n    /**\r\n     * The creator of the course\r\n     *\r\n     * type: AppUser\r\n     */\r\n\r\n    @ManyToOne( fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;createdBy&quot;)\r\n    private AppUser createdBy;\r\n\r\n\r\n\r\nLombok annotation (data, AllArgs.. ) I don&#39;t need to use setters, getters, toString, Constructs.\r\n\r\n\r\n\r\nwhen I call the repository from a local function with @Transactional , it works without issue :\r\n\r\n\r\n    \t\r\n\r\n    @Transactional\r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\tappFixtures.load();\r\n    \t\tCourse  x =  courseRepository.findByName(&quot;Angular X Firebase&quot;);\r\n    \t\tSystem.out.println(&quot;created by&quot;+x.getCreatedBy().getEmail());\r\n    \t}\r\n\r\nbut when I call it from a webService; even if there is @Transactional annotation, it gives an error :\r\n\r\n    @RestController\r\n    @CrossOrigin(&quot;*&quot;)\r\n    public class CourseController {\r\n    \r\n        @Autowired\r\n        private CourseRepository courseRepository;\r\n    \r\n        @RequestMapping(value = &quot;/course&quot;, method = RequestMethod.GET)\r\n        @Transactional\r\n        public Collection&lt;Course&gt; getCourses(Pageable pageable){\r\n            return courseRepository.findAll();\r\n        }\r\n    \r\n    }\r\n\r\nthis is the error received by the client, even if the showen ID exists :\r\n\r\n    {&quot;timestamp&quot;:&quot;2018-08-27T13:05:36.980+0000&quot;,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Unable to find fr.gfi.elearningapispring.entities.AppUser with id deb859d9-409e-4310-b96d-fc11656bd6f7; nested exception is javax.persistence.EntityNotFoundException: Unable to find fr.gfi.elearningapispring.entities.AppUser with id deb859d9-409e-4310-b96d-fc11656bd6f7&quot;,&quot;path&quot;:&quot;/course&quot;}\r\n\r\nthis is the error in the console :\r\n\r\n    javax.persistence.EntityNotFoundException: Unable to find fr.gfi.elearningapispring.entities.AppUser with id deb859d9-409e-4310-b96d-fc11656bd6f7\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:159) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:227) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:278) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:121) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:89) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1240) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1123) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:682) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.type.EntityType.resolve(EntityType.java:464) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.type.ManyToOneType.resolve(ManyToOneType.java:239) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.engine.internal.TwoPhaseLoad.doInitializeEntity(TwoPhaseLoad.java:171) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:128) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1152) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.loader.Loader.processResultSet(Loader.java:1011) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:949) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:341) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2692) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2675) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2507) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2502) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:502) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:392) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1490) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1445) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1414) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.query.Query.getResultList(Query.java:146) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:72) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:307) ~[spring-data-jpa-2.0.9.RELEASE.jar:2.0.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:74) ~[spring-data-jpa-2.0.9.RELEASE.jar:2.0.9.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_171]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_171]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:377) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:200) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:629) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:593) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:578) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.9.RELEASE.jar:2.0.9.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat com.sun.proxy.$Proxy103.findAll(Unknown Source) ~[na:na]\r\n    \tat fr.gfi.elearningapispring.web.CourseController.getCourses(CourseController.java:34) ~[classes/:na]\r\n    \tat fr.gfi.elearningapispring.web.CourseController$$FastClassBySpringCGLIB$$7eb9b15.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat fr.gfi.elearningapispring.web.CourseController$$EnhancerBySpringCGLIB$$cd85c563.getCourses(&lt;generated&gt;) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_171]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_171]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat fr.gfi.elearningapispring.security.JWTAuthorizationFilter.doFilterInternal(JWTAuthorizationFilter.java:90) ~[classes/:na]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800) [tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471) [tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_171]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_171]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.32.jar:8.5.32]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]","title":"Unable to find entity with id even if it exists","body":"<p>I have two entities, AppUser and Course\nOne AppUser can create many Courses\nso this is my code :\nClass AppUser :</p>\n\n<pre><code>@Entity(name = \"users\")\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class AppUser {\n\n   /**\n     * ID of the user\n     *\n     * type : UUID\n     */\n    @Id @GeneratedValue\n    @Column(name = \"user_id\")\n    private UUID userId;\n\n    @OneToMany(mappedBy = \"createdBy\", fetch = FetchType.EAGER)\n    private Collection&lt;Course&gt; courses;\n</code></pre>\n\n<p>Class Course : </p>\n\n<pre><code>@Entity(name = \"course\")\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Course {\n\n/**\n * ID of the course\n *\n * type: UUID\n */\n@Id\n@GeneratedValue\n@Column(name = \"course_id\")\nprivate UUID courseId;\n\n/**\n * The creator of the course\n *\n * type: AppUser\n */\n\n@ManyToOne( fetch = FetchType.EAGER)\n@JoinColumn(name = \"createdBy\")\nprivate AppUser createdBy;\n</code></pre>\n\n<p>Lombok annotation (data, AllArgs.. ) I don't need to use setters, getters, toString, Constructs.</p>\n\n<p>when I call the repository from a local function with @Transactional , it works without issue :</p>\n\n<pre><code>@Transactional\n    @Override\n    public void run(String... args) throws Exception {\n        appFixtures.load();\n        Course  x =  courseRepository.findByName(\"Angular X Firebase\");\n        System.out.println(\"created by\"+x.getCreatedBy().getEmail());\n    }\n</code></pre>\n\n<p>but when I call it from a webService; even if there is @Transactional annotation, it gives an error :</p>\n\n<pre><code>@RestController\n@CrossOrigin(\"*\")\npublic class CourseController {\n\n    @Autowired\n    private CourseRepository courseRepository;\n\n    @RequestMapping(value = \"/course\", method = RequestMethod.GET)\n    @Transactional\n    public Collection&lt;Course&gt; getCourses(Pageable pageable){\n        return courseRepository.findAll();\n    }\n\n}\n</code></pre>\n\n<p>this is the error received by the client, even if the showen ID exists :</p>\n\n<pre><code>{\"timestamp\":\"2018-08-27T13:05:36.980+0000\",\"status\":500,\"error\":\"Internal Server Error\",\"message\":\"Unable to find fr.gfi.elearningapispring.entities.AppUser with id deb859d9-409e-4310-b96d-fc11656bd6f7; nested exception is javax.persistence.EntityNotFoundException: Unable to find fr.gfi.elearningapispring.entities.AppUser with id deb859d9-409e-4310-b96d-fc11656bd6f7\",\"path\":\"/course\"}\n</code></pre>\n\n<p>this is the error in the console :</p>\n\n<pre><code>javax.persistence.EntityNotFoundException: Unable to find fr.gfi.elearningapispring.entities.AppUser with id deb859d9-409e-4310-b96d-fc11656bd6f7\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:159) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:227) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:278) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:121) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:89) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1240) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1123) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:682) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.type.EntityType.resolve(EntityType.java:464) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.type.ManyToOneType.resolve(ManyToOneType.java:239) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.engine.internal.TwoPhaseLoad.doInitializeEntity(TwoPhaseLoad.java:171) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:128) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1152) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.loader.Loader.processResultSet(Loader.java:1011) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.loader.Loader.doQuery(Loader.java:949) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:341) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2692) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2675) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2507) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2502) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:502) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:392) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1490) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1445) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1414) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:146) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:72) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:307) ~[spring-data-jpa-2.0.9.RELEASE.jar:2.0.9.RELEASE]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:74) ~[spring-data-jpa-2.0.9.RELEASE.jar:2.0.9.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_171]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_171]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:377) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:200) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:629) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:593) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:578) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.9.RELEASE.jar:2.0.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.9.RELEASE.jar:2.0.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at com.sun.proxy.$Proxy103.findAll(Unknown Source) ~[na:na]\n    at fr.gfi.elearningapispring.web.CourseController.getCourses(CourseController.java:34) ~[classes/:na]\n    at fr.gfi.elearningapispring.web.CourseController$$FastClassBySpringCGLIB$$7eb9b15.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at fr.gfi.elearningapispring.web.CourseController$$EnhancerBySpringCGLIB$$cd85c563.getCourses(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_171]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_171]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.32.jar:8.5.32]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at fr.gfi.elearningapispring.security.JWTAuthorizationFilter.doFilterInternal(JWTAuthorizationFilter.java:90) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800) [tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471) [tomcat-embed-core-8.5.32.jar:8.5.32]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.32.jar:8.5.32]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_171]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_171]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.32.jar:8.5.32]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]\n</code></pre>\n"},{"tags":["java","swing","combobox"],"answers":[{"tags":[],"owner":{"account_id":34370,"reputation":2653,"user_id":97120,"accept_rate":85,"display_name":"thedude19"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1244211022,"creation_date":1244211022,"answer_id":956067,"question_id":956003,"body_markdown":"Sounds like you&#39;ll need to write your own [ComboBoxUI][1].\r\n\r\nThere is a good example [here][2] that shows how to accomplish this.\r\n\r\nAlso note, the method you would probably be interested in is the `createPopup()` method. This is the method that creates the popup for the combo box and where you would be able to customize it.\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/plaf/ComboBoxUI.html\r\n  [2]: http://forums.sun.com/thread.jspa?messageID=10712893#10712893","title":"How can I change the width of a JComboBox dropdown list?","body":"<p>Sounds like you'll need to write your own <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/plaf/ComboBoxUI.html\" rel=\"nofollow noreferrer\">ComboBoxUI</a>.</p>\n\n<p>There is a good example <a href=\"http://forums.sun.com/thread.jspa?messageID=10712893#10712893\" rel=\"nofollow noreferrer\">here</a> that shows how to accomplish this.</p>\n\n<p>Also note, the method you would probably be interested in is the <code>createPopup()</code> method. This is the method that creates the popup for the combo box and where you would be able to customize it.</p>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":2,"up_vote_count":20,"is_accepted":true,"score":18,"last_activity_date":1244211677,"creation_date":1244211119,"answer_id":956078,"question_id":956003,"body_markdown":"I believe the only way to do this with the public API is to write a custom UI (there are [two][1] [bugs][2] dealing with this).\r\n\r\nIf you just want something quick-and-dirty, I found this way to use implementation details to do it ([here][3]):\r\n\r\n\r\n    public void popupMenuWillBecomeVisible(PopupMenuEvent e) {\r\n        JComboBox box = (JComboBox) e.getSource();\r\n        Object comp = box.getUI().getAccessibleChild(box, 0);\r\n        if (!(comp instanceof JPopupMenu)) return;\r\n        JComponent scrollPane = (JComponent) ((JPopupMenu) comp).getComponent(0);\r\n        Dimension size = new Dimension();\r\n        size.width = box.getPreferredSize().width;\r\n        size.height = scrollPane.getPreferredSize().height;\r\n        scrollPane.setPreferredSize(size);\r\n        //  following line for Tiger\r\n        // scrollPane.setMaximumSize(size);\r\n    }\r\n\r\nPut this in a [`PopupMenuListener`][4] and it *might* work for you.\r\n\r\nOr you could use the code from the [first linked bug][1]:\r\n\r\n    class StyledComboBoxUI extends BasicComboBoxUI {\r\n      protected ComboPopup createPopup() {\r\n        BasicComboPopup popup = new BasicComboPopup(comboBox) {\r\n          @Override\r\n          protected Rectangle computePopupBounds(int px,int py,int pw,int ph) {\r\n            return super.computePopupBounds(\r\n                px,py,Math.max(comboBox.getPreferredSize().width,pw),ph\r\n            );\r\n          }\r\n        };\r\n        popup.getAccessibleContext().setAccessibleParent(comboBox);\r\n        return popup;\r\n      }\r\n    }\r\n    \r\n    class StyledComboBox extends JComboBox {\r\n      public StyledComboBox() {\r\n        setUI(new StyledComboBoxUI());\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4880218\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug;jsessionid=b0c3d5c7ecf91ffffffffc9ef87cbec542a2?bug_id=4618607\r\n  [3]: http://forums.java.net/jive/message.jspa?messageID=61267\r\n  [4]: http://java.sun.com/javase/6/docs/api/javax/swing/event/PopupMenuListener.html","title":"How can I change the width of a JComboBox dropdown list?","body":"<p>I believe the only way to do this with the public API is to write a custom UI (there are <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4880218\" rel=\"nofollow noreferrer\">two</a> <a href=\"https://bugs.java.com/bugdatabase/view_bug;jsessionid=b0c3d5c7ecf91ffffffffc9ef87cbec542a2?bug_id=4618607\" rel=\"nofollow noreferrer\">bugs</a> dealing with this).</p>\n<p>If you just want something quick-and-dirty, I found this way to use implementation details to do it (<a href=\"http://forums.java.net/jive/message.jspa?messageID=61267\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>public void popupMenuWillBecomeVisible(PopupMenuEvent e) {\n    JComboBox box = (JComboBox) e.getSource();\n    Object comp = box.getUI().getAccessibleChild(box, 0);\n    if (!(comp instanceof JPopupMenu)) return;\n    JComponent scrollPane = (JComponent) ((JPopupMenu) comp).getComponent(0);\n    Dimension size = new Dimension();\n    size.width = box.getPreferredSize().width;\n    size.height = scrollPane.getPreferredSize().height;\n    scrollPane.setPreferredSize(size);\n    //  following line for Tiger\n    // scrollPane.setMaximumSize(size);\n}\n</code></pre>\n<p>Put this in a <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/event/PopupMenuListener.html\" rel=\"nofollow noreferrer\"><code>PopupMenuListener</code></a> and it <em>might</em> work for you.</p>\n<p>Or you could use the code from the <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4880218\" rel=\"nofollow noreferrer\">first linked bug</a>:</p>\n<pre><code>class StyledComboBoxUI extends BasicComboBoxUI {\n  protected ComboPopup createPopup() {\n    BasicComboPopup popup = new BasicComboPopup(comboBox) {\n      @Override\n      protected Rectangle computePopupBounds(int px,int py,int pw,int ph) {\n        return super.computePopupBounds(\n            px,py,Math.max(comboBox.getPreferredSize().width,pw),ph\n        );\n      }\n    };\n    popup.getAccessibleContext().setAccessibleParent(comboBox);\n    return popup;\n  }\n}\n\nclass StyledComboBox extends JComboBox {\n  public StyledComboBox() {\n    setUI(new StyledComboBoxUI());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1016018,"reputation":4728,"user_id":1027568,"display_name":"Shlomi"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1320320294,"creation_date":1320320294,"answer_id":7994227,"question_id":956003,"body_markdown":"Here is a great solution by Santhosh Kumar, without the need to mess with UI&#39;s and other nasty stuff like that!\r\n\r\nhttp://www.jroller.com/santhosh/entry/make_jcombobox_popup_wide_enough\r\n\r\n    import javax.swing.*; \r\n    import java.awt.*; \r\n    import java.util.Vector; \r\n     \r\n    // got this workaround from the following bug: \r\n    //      http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4618607 \r\n    public class WideComboBox extends JComboBox{ \r\n     \r\n        public WideComboBox() { \r\n        } \r\n     \r\n        public WideComboBox(final Object items[]){ \r\n            super(items); \r\n        } \r\n     \r\n        public WideComboBox(Vector items) { \r\n            super(items); \r\n        } \r\n     \r\n            public WideComboBox(ComboBoxModel aModel) { \r\n            super(aModel); \r\n        } \r\n     \r\n        private boolean layingOut = false; \r\n     \r\n        public void doLayout(){ \r\n            try{ \r\n                layingOut = true; \r\n                    super.doLayout(); \r\n            }finally{ \r\n                layingOut = false; \r\n            } \r\n        } \r\n     \r\n        public Dimension getSize(){ \r\n            Dimension dim = super.getSize(); \r\n            if(!layingOut) \r\n                dim.width = Math.max(dim.width, getPreferredSize().width); \r\n            return dim; \r\n        } \r\n    }\r\n","title":"How can I change the width of a JComboBox dropdown list?","body":"<p>Here is a great solution by Santhosh Kumar, without the need to mess with UI's and other nasty stuff like that!</p>\n\n<p><a href=\"http://www.jroller.com/santhosh/entry/make_jcombobox_popup_wide_enough\" rel=\"noreferrer\">http://www.jroller.com/santhosh/entry/make_jcombobox_popup_wide_enough</a></p>\n\n<pre><code>import javax.swing.*; \nimport java.awt.*; \nimport java.util.Vector; \n\n// got this workaround from the following bug: \n//      http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4618607 \npublic class WideComboBox extends JComboBox{ \n\n    public WideComboBox() { \n    } \n\n    public WideComboBox(final Object items[]){ \n        super(items); \n    } \n\n    public WideComboBox(Vector items) { \n        super(items); \n    } \n\n        public WideComboBox(ComboBoxModel aModel) { \n        super(aModel); \n    } \n\n    private boolean layingOut = false; \n\n    public void doLayout(){ \n        try{ \n            layingOut = true; \n                super.doLayout(); \n        }finally{ \n            layingOut = false; \n        } \n    } \n\n    public Dimension getSize(){ \n        Dimension dim = super.getSize(); \n        if(!layingOut) \n            dim.width = Math.max(dim.width, getPreferredSize().width); \n        return dim; \n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":938285,"reputation":955,"user_id":966820,"accept_rate":78,"display_name":"rafaelrezend"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1590930787,"creation_date":1334613091,"answer_id":10182221,"question_id":956003,"body_markdown":"Here is a nice solution from [tutiez][1].\r\n\r\nBefore setting up the Dimension of popup list, it gets the biggest item from it and calculated the width needed to show it completely.\r\n\r\n\r\n    public class WiderDropDownCombo extends JComboBox {\r\n    \r\n    \tprivate String type;\r\n    \tprivate boolean layingOut = false;\r\n    \tprivate int widestLengh = 0;\r\n    \tprivate boolean wide = false;\r\n    \r\n    \tpublic WiderDropDownCombo(Object[] objs) {\r\n    \t\tsuper(objs);\r\n    \t}\r\n    \r\n    \tpublic boolean isWide() {\r\n    \t\treturn wide;\r\n    \t}\r\n    \r\n    \t// Setting the JComboBox wide\r\n    \tpublic void setWide(boolean wide) {\r\n    \t\tthis.wide = wide;\r\n    \t\twidestLengh = getWidestItemWidth();\r\n    \r\n    \t}\r\n    \r\n    \tpublic Dimension getSize() {\r\n    \t\tDimension dim = super.getSize();\r\n    \t\tif (!layingOut &amp;&amp; isWide())\r\n    \t\t\tdim.width = Math.max(widestLengh, dim.width);\r\n    \t\treturn dim;\r\n    \t}\r\n    \r\n    \tpublic int getWidestItemWidth() {\r\n    \r\n    \t\tint numOfItems = this.getItemCount();\r\n    \t\tFont font = this.getFont();\r\n    \t\tFontMetrics metrics = this.getFontMetrics(font);\r\n    \t\tint widest = 0;\r\n    \t\tfor (int i = 0; i &lt; numOfItems; i++) {\r\n    \t\t\tObject item = this.getItemAt(i);\r\n    \t\t\tint lineWidth = metrics.stringWidth(item.toString());\r\n    \t\t\twidest = Math.max(widest, lineWidth);\r\n    \t\t}\r\n    \r\n    \t\treturn widest + 5;\r\n    \t}\r\n    \r\n    \tpublic void doLayout() {\r\n    \t\ttry {\r\n    \t\t\tlayingOut = true;\r\n    \t\t\tsuper.doLayout();\r\n    \t\t} finally {\r\n    \t\t\tlayingOut = false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic String getType() {\r\n    \t\treturn type;\r\n    \t}\r\n    \r\n    \tpublic void setType(String t) {\r\n    \t\ttype = t;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString title = &quot;Combo Test&quot;;\r\n    \t\tJFrame frame = new JFrame(title);\r\n    \r\n    \t\tString[] items = {\r\n    \t\t\t\t&quot;I need lot of width to be visible , oh am I visible now&quot;,\r\n    \t\t\t\t&quot;I need lot of width to be visible , oh am I visible now&quot; };\r\n    \t\tWiderDropDownCombo simpleCombo = new WiderDropDownCombo(items);\r\n    \t\tsimpleCombo.setPreferredSize(new Dimension(180, 20));\r\n    \t\tsimpleCombo.setWide(true);\r\n    \t\tJLabel label = new JLabel(&quot;Wider Drop Down Demo&quot;);\r\n    \r\n    \t\tframe.getContentPane().add(simpleCombo, BorderLayout.NORTH);\r\n    \t\tframe.getContentPane().add(label, BorderLayout.SOUTH);\r\n    \t\tint width = 200;\r\n    \t\tint height = 150;\r\n    \t\tframe.setSize(width, height);\r\n    \t\tframe.setVisible(true);\r\n    \r\n    \t}\r\n    }\r\n\r\nThe code above has already a main for a quick test. But notice that the statement below may be adjusted to around ***20*** if you want to have a vertical scroll.\r\n\r\n    return widest + 5;\r\n\r\nHope it is useful for future reference!\r\n\r\n\r\n  [1]: http://web.archive.org/web/20150701070807/http://tutiez.com/how-make-jcombobox-drop-down-width-as-wide-as-needed.html","title":"How can I change the width of a JComboBox dropdown list?","body":"<p>Here is a nice solution from <a href=\"http://web.archive.org/web/20150701070807/http://tutiez.com/how-make-jcombobox-drop-down-width-as-wide-as-needed.html\" rel=\"nofollow noreferrer\">tutiez</a>.</p>\n\n<p>Before setting up the Dimension of popup list, it gets the biggest item from it and calculated the width needed to show it completely.</p>\n\n<pre><code>public class WiderDropDownCombo extends JComboBox {\n\n    private String type;\n    private boolean layingOut = false;\n    private int widestLengh = 0;\n    private boolean wide = false;\n\n    public WiderDropDownCombo(Object[] objs) {\n        super(objs);\n    }\n\n    public boolean isWide() {\n        return wide;\n    }\n\n    // Setting the JComboBox wide\n    public void setWide(boolean wide) {\n        this.wide = wide;\n        widestLengh = getWidestItemWidth();\n\n    }\n\n    public Dimension getSize() {\n        Dimension dim = super.getSize();\n        if (!layingOut &amp;&amp; isWide())\n            dim.width = Math.max(widestLengh, dim.width);\n        return dim;\n    }\n\n    public int getWidestItemWidth() {\n\n        int numOfItems = this.getItemCount();\n        Font font = this.getFont();\n        FontMetrics metrics = this.getFontMetrics(font);\n        int widest = 0;\n        for (int i = 0; i &lt; numOfItems; i++) {\n            Object item = this.getItemAt(i);\n            int lineWidth = metrics.stringWidth(item.toString());\n            widest = Math.max(widest, lineWidth);\n        }\n\n        return widest + 5;\n    }\n\n    public void doLayout() {\n        try {\n            layingOut = true;\n            super.doLayout();\n        } finally {\n            layingOut = false;\n        }\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String t) {\n        type = t;\n    }\n\n    public static void main(String[] args) {\n        String title = \"Combo Test\";\n        JFrame frame = new JFrame(title);\n\n        String[] items = {\n                \"I need lot of width to be visible , oh am I visible now\",\n                \"I need lot of width to be visible , oh am I visible now\" };\n        WiderDropDownCombo simpleCombo = new WiderDropDownCombo(items);\n        simpleCombo.setPreferredSize(new Dimension(180, 20));\n        simpleCombo.setWide(true);\n        JLabel label = new JLabel(\"Wider Drop Down Demo\");\n\n        frame.getContentPane().add(simpleCombo, BorderLayout.NORTH);\n        frame.getContentPane().add(label, BorderLayout.SOUTH);\n        int width = 200;\n        int height = 150;\n        frame.setSize(width, height);\n        frame.setVisible(true);\n\n    }\n}\n</code></pre>\n\n<p>The code above has already a main for a quick test. But notice that the statement below may be adjusted to around <strong><em>20</em></strong> if you want to have a vertical scroll.</p>\n\n<pre><code>return widest + 5;\n</code></pre>\n\n<p>Hope it is useful for future reference!</p>\n"},{"tags":[],"owner":{"account_id":1544734,"reputation":1105,"user_id":1438535,"accept_rate":70,"display_name":"Ned"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359417098,"creation_date":1359417098,"answer_id":14573381,"question_id":956003,"body_markdown":"You might want to use `setSize()` method.\r\n\r\n    combo.setSize(200, combo.getPreferredSize().height);","title":"How can I change the width of a JComboBox dropdown list?","body":"<p>You might want to use <code>setSize()</code> method.</p>\n\n<pre><code>combo.setSize(200, combo.getPreferredSize().height);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357465,"reputation":617,"user_id":697653,"accept_rate":5,"display_name":"josepmra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526507595,"creation_date":1526507595,"answer_id":50380449,"question_id":956003,"body_markdown":"Here you have a simple piece of code without extends JComboBox nor other any class\r\n\r\nIn this example the with of drop down is 500 always.\r\nYou also can modify the height or the location.\r\n\r\n            FaceCorrectiveReasonComboBox.getTextComponent().setUI(new BasicComboBoxUI() {\r\n                @Override protected ComboPopup createPopup() {\r\n                    return new BasicComboPopup(comboBox) {\r\n                        protected Rectangle computePopupBounds(int px,int py,int pw,int ph) {\r\n                        \treturn super.computePopupBounds(px, py, 500, ph);\r\n                        }                    \t\r\n                    };\r\n                }\r\n            });","title":"How can I change the width of a JComboBox dropdown list?","body":"<p>Here you have a simple piece of code without extends JComboBox nor other any class</p>\n\n<p>In this example the with of drop down is 500 always.\nYou also can modify the height or the location.</p>\n\n<pre><code>        FaceCorrectiveReasonComboBox.getTextComponent().setUI(new BasicComboBoxUI() {\n            @Override protected ComboPopup createPopup() {\n                return new BasicComboPopup(comboBox) {\n                    protected Rectangle computePopupBounds(int px,int py,int pw,int ph) {\n                        return super.computePopupBounds(px, py, 500, ph);\n                    }                       \n                };\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24303186,"reputation":1,"user_id":18246349,"display_name":"nick hill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645206909,"creation_date":1645206909,"answer_id":71177902,"question_id":956003,"body_markdown":"This was my way of fixing it which works fine and you don&#39;t have to mess about with the ComboBoxUI so it stays with the same look. I only needed to change the width but I&#39;m sure you could very easily change the height with this also.\r\n\r\n\r\n\r\n    new PopupMenuListener() {\r\n      @Override\r\n      public void popupMenuWillBecomeVisible(PopupMenuEvent e) {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        JComboBox&lt;String&gt; comboBox = (JComboBox&lt;String&gt;) e.getSource();\r\n        \r\n        BasicComboPopup popup = (BasicComboPopup) comboBox.getAccessibleContext().getAccessibleChild(0);\r\n\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n          public void run() {\r\n            //Get the scroll pane from the popup list\r\n            JScrollPane scrollPane = (JScrollPane) SwingUtilities.getAncestorOfClass(JScrollPane.class, popup.getList());\r\n            \r\n            //Get the width of the popup list\r\n            int popupWidth = popup.getList().getPreferredSize().width;\r\n            \r\n            //Set the scrollpane to that size\r\n            Dimension scrollPaneSize = scrollPane.getPreferredSize();\r\n            scrollPaneSize.width = Math.max(popupWidth, 100);\r\n            scrollPane.setPreferredSize(scrollPaneSize);\r\n            scrollPane.setMaximumSize(scrollPaneSize);\r\n\r\n            //Change the location or the preferred size doesn&#39;t update\r\n            try {\r\n              Point location = comboBox.getLocationOnScreen();\r\n              int height = comboBox.getPreferredSize().height;\r\n              popup.setLocation(location.x, location.y + height - 1);\r\n              popup.setLocation(location.x, location.y + height);\r\n            } catch(IllegalComponentStateException exc) {\r\n            }\r\n          }\r\n        });","title":"How can I change the width of a JComboBox dropdown list?","body":"<p>This was my way of fixing it which works fine and you don't have to mess about with the ComboBoxUI so it stays with the same look. I only needed to change the width but I'm sure you could very easily change the height with this also.</p>\n<pre><code>new PopupMenuListener() {\n  @Override\n  public void popupMenuWillBecomeVisible(PopupMenuEvent e) {\n    @SuppressWarnings(&quot;unchecked&quot;)\n    JComboBox&lt;String&gt; comboBox = (JComboBox&lt;String&gt;) e.getSource();\n    \n    BasicComboPopup popup = (BasicComboPopup) comboBox.getAccessibleContext().getAccessibleChild(0);\n\n    SwingUtilities.invokeLater(new Runnable() {\n      public void run() {\n        //Get the scroll pane from the popup list\n        JScrollPane scrollPane = (JScrollPane) SwingUtilities.getAncestorOfClass(JScrollPane.class, popup.getList());\n        \n        //Get the width of the popup list\n        int popupWidth = popup.getList().getPreferredSize().width;\n        \n        //Set the scrollpane to that size\n        Dimension scrollPaneSize = scrollPane.getPreferredSize();\n        scrollPaneSize.width = Math.max(popupWidth, 100);\n        scrollPane.setPreferredSize(scrollPaneSize);\n        scrollPane.setMaximumSize(scrollPaneSize);\n\n        //Change the location or the preferred size doesn't update\n        try {\n          Point location = comboBox.getLocationOnScreen();\n          int height = comboBox.getPreferredSize().height;\n          popup.setLocation(location.x, location.y + height - 1);\n          popup.setLocation(location.x, location.y + height);\n        } catch(IllegalComponentStateException exc) {\n        }\n      }\n    });\n</code></pre>\n"}],"owner":{"account_id":11983,"reputation":71675,"user_id":23368,"accept_rate":92,"display_name":"Daniel Rikowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35358,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":956078,"answer_count":7,"score":33,"last_activity_date":1645206909,"creation_date":1244210401,"question_id":956003,"body_markdown":"I have an editable `JComboBox` which contains a list of single letter values. Because of that the combobox is very small. \r\n\r\nEvery letter has a special meaning which sometimes isn&#39;t clear to the user in case of rarely used letters. Because of that I&#39;ve created a custom `ListCellRenderer` which shows the meaning of each letter in the dropdown list. \r\n\r\nUnfortunately this explanation doesn&#39;t fit into the dropdown because it is to small, because it has the same width as the combobox.\r\n\r\nIs there any way to make the dropdown list wider than the combobox?\r\n\r\nThis is what I want to achieve:\r\n\r\n     ---------------------\r\n    | Small JCombobox | V |\r\n     --------------------------------------------\r\n    | &quot;Long item 1&quot;                              |\r\n     --------------------------------------------\r\n    | &quot;Long item 2&quot;                              |\r\n     --------------------------------------------\r\n    | &quot;Long item 3&quot;                              |\r\n     --------------------------------------------\r\n\r\n\r\nI cannot change the width of the combobox because the application is a recreation of an old legacy application where some things have to be exactly as they were before. (In this case the combobox has to keep it&#39;s small size at all costs)","title":"How can I change the width of a JComboBox dropdown list?","body":"<p>I have an editable <code>JComboBox</code> which contains a list of single letter values. Because of that the combobox is very small. </p>\n\n<p>Every letter has a special meaning which sometimes isn't clear to the user in case of rarely used letters. Because of that I've created a custom <code>ListCellRenderer</code> which shows the meaning of each letter in the dropdown list. </p>\n\n<p>Unfortunately this explanation doesn't fit into the dropdown because it is to small, because it has the same width as the combobox.</p>\n\n<p>Is there any way to make the dropdown list wider than the combobox?</p>\n\n<p>This is what I want to achieve:</p>\n\n<pre><code> ---------------------\n| Small JCombobox | V |\n --------------------------------------------\n| \"Long item 1\"                              |\n --------------------------------------------\n| \"Long item 2\"                              |\n --------------------------------------------\n| \"Long item 3\"                              |\n --------------------------------------------\n</code></pre>\n\n<p>I cannot change the width of the combobox because the application is a recreation of an old legacy application where some things have to be exactly as they were before. (In this case the combobox has to keep it's small size at all costs)</p>\n"},{"tags":["java","python","oracle","jdbc","apache-beam"],"comments":[{"owner":{"account_id":316802,"reputation":10754,"user_id":633150,"display_name":"Brent Worden"},"score":1,"creation_date":1623064926,"post_id":67855809,"comment_id":119963397,"body_markdown":"Do the instructions from https://beam.apache.org/documentation/sdks/python-pipeline-dependencies/#nonpython help in any way?","body":"Do the instructions from <a href=\"https://beam.apache.org/documentation/sdks/python-pipeline-dependencies/#nonpython\" rel=\"nofollow noreferrer\">beam.apache.org/documentation/sdks/python-pipeline-dependenc&zwnj;&#8203;ies/&hellip;</a> help in any way?"}],"answers":[{"tags":[],"owner":{"account_id":9099364,"reputation":5,"user_id":6772113,"display_name":"ovatleyva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622955800,"creation_date":1622955800,"answer_id":67855944,"question_id":67855809,"body_markdown":"could you please try the following suggestions?\r\n\r\n - Double-check the driver path location.\r\n - Validate the file permission, maybe it is necessary to execute as administrator.\r\n - Check that the database is up and running.\r\n - Validate port number and credentials.\r\n - Check this [post][1], it contains great insights.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17907863/spring-jdbc-could-not-load-jdbc-driver-class-oracle-jdbc-driver-oracledriver","title":"Cannot load JDBC driver class &#39;oracle.jdbc.driver.OracleDriver&#39; apache beam","body":"<p>could you please try the following suggestions?</p>\n<ul>\n<li>Double-check the driver path location.</li>\n<li>Validate the file permission, maybe it is necessary to execute as administrator.</li>\n<li>Check that the database is up and running.</li>\n<li>Validate port number and credentials.</li>\n<li>Check this <a href=\"https://stackoverflow.com/questions/17907863/spring-jdbc-could-not-load-jdbc-driver-class-oracle-jdbc-driver-oracledriver\">post</a>, it contains great insights.</li>\n</ul>\n"}],"owner":{"account_id":21809300,"reputation":11,"user_id":16107085,"display_name":"Richard Alfonso Santana  "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645206048,"creation_date":1622953893,"question_id":67855809,"body_markdown":"I am running the following code but I am getting the error about the name of the Oracle class. I have set the classpath environment variable with the oracle jar file but it doesn&#39;t work. Somebody could help me? I have no idea what else to do. I really appreciate any help\r\n\r\n\r\n\r\nThis is the error : Caused by: java.sql.SQLException: Cannot load JDBC driver class &#39;oracle.jdbc.driver.OracleDriver&#39;\r\n\r\n\r\n    import apache_beam as beam\r\n    from apache_beam.options.pipeline_options import PipelineOptions\r\n    from apache_beam.io.jdbc import ReadFromJdbc\r\n    import os;\r\n    \r\n    os.environ[&quot;JAVA_HOME&quot;] = &quot;/home/jupyter/env/java/jre1.8.0_291&quot;\r\n    os.environ[&quot;PATH&quot;] = &quot;/home/jupyter/env/java/jre1.8.0_291/bin&quot;\r\n    os.environ[&quot;ORACLE_HOME&quot;] = &quot;/home/jupyter/env/instantclient_21_1/&quot;\r\n    os.environ[&quot;CLASSPATH&quot;] = &quot;/home/jupyter/env/ojdbc6-11.2.0.4.jar&quot; \r\n     \r\n    with beam.Pipeline(options=PipelineOptions()) as p:\r\n          result = (p\r\n              |  &#39;Read from jdbc&#39; &gt;&gt; ReadFromJdbc(\r\n                  fetch_size=None,\r\n                  table_name=&#39;log_table&#39;,\r\n                  driver_class_name=&#39;oracle.jdbc.driver.OracleDriver&#39;,\r\n                  jdbc_url=&#39;jdbc:oracle:thin://xx.x.xxx.xxx:xxxx/xxxxx&#39;,\r\n                  username=&#39;xxxxxxxx&#39;,\r\n                  password=&#39;xxxxxxxx&#39;,                  \r\n              ))\r\n             ","title":"Cannot load JDBC driver class &#39;oracle.jdbc.driver.OracleDriver&#39; apache beam","body":"<p>I am running the following code but I am getting the error about the name of the Oracle class. I have set the classpath environment variable with the oracle jar file but it doesn't work. Somebody could help me? I have no idea what else to do. I really appreciate any help</p>\n<p>This is the error : Caused by: java.sql.SQLException: Cannot load JDBC driver class 'oracle.jdbc.driver.OracleDriver'</p>\n<pre><code>import apache_beam as beam\nfrom apache_beam.options.pipeline_options import PipelineOptions\nfrom apache_beam.io.jdbc import ReadFromJdbc\nimport os;\n\nos.environ[&quot;JAVA_HOME&quot;] = &quot;/home/jupyter/env/java/jre1.8.0_291&quot;\nos.environ[&quot;PATH&quot;] = &quot;/home/jupyter/env/java/jre1.8.0_291/bin&quot;\nos.environ[&quot;ORACLE_HOME&quot;] = &quot;/home/jupyter/env/instantclient_21_1/&quot;\nos.environ[&quot;CLASSPATH&quot;] = &quot;/home/jupyter/env/ojdbc6-11.2.0.4.jar&quot; \n \nwith beam.Pipeline(options=PipelineOptions()) as p:\n      result = (p\n          |  'Read from jdbc' &gt;&gt; ReadFromJdbc(\n              fetch_size=None,\n              table_name='log_table',\n              driver_class_name='oracle.jdbc.driver.OracleDriver',\n              jdbc_url='jdbc:oracle:thin://xx.x.xxx.xxx:xxxx/xxxxx',\n              username='xxxxxxxx',\n              password='xxxxxxxx',                  \n          ))\n         \n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin","junit5"],"comments":[{"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"score":0,"creation_date":1645197141,"post_id":71175588,"comment_id":125814387,"body_markdown":"Do you have a more detailed stack trace, e.g. the message? Do you use `@SpringBootTest` or how is your test set up? Seeing your test code or an excerpt of the relevant parts would be helpful.","body":"Do you have a more detailed stack trace, e.g. the message? Do you use <code>@SpringBootTest</code> or how is your test set up? Seeing your test code or an excerpt of the relevant parts would be helpful."},{"owner":{"account_id":12060215,"reputation":165,"user_id":8819495,"display_name":"vMysterion"},"score":1,"creation_date":1645198756,"post_id":71175588,"comment_id":125815026,"body_markdown":"I&#39;ve added some more code/stacktrace that hopefully clarifies it a bit.","body":"I&#39;ve added some more code/stacktrace that hopefully clarifies it a bit."},{"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"score":1,"creation_date":1645206239,"post_id":71175588,"comment_id":125818123,"body_markdown":"Thanks for providing more details. Even though you already found a solution to your problem, I&#39;ve taken the liberty to  add a slightly different approach for others who might stumble upon the same situation. Or maybe you&#39;re interested yourself aswell.","body":"Thanks for providing more details. Even though you already found a solution to your problem, I&#39;ve taken the liberty to  add a slightly different approach for others who might stumble upon the same situation. Or maybe you&#39;re interested yourself aswell."}],"answers":[{"tags":[],"owner":{"account_id":12060215,"reputation":165,"user_id":8819495,"display_name":"vMysterion"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645200549,"creation_date":1645200549,"answer_id":71176544,"question_id":71175588,"body_markdown":"I fixed the problem by only initiliazing the `FirebaseApp` instance when there wasn&#39;t one instantiated before.\r\n\r\nThe updated bean:\r\n```kotlin\r\nclass FirebaseMessagingBean {\r\n    @Bean\r\n    fun firebaseMessaging(): FirebaseMessaging {\r\n        val privateKeyFileURL = ClassLoader.getSystemResource(&quot;firebase-cloud-messaging.json&quot;)\r\n            ?: throw IOException(&quot;Couldn&#39;t read firebase credentials&quot;)\r\n        val privateKeyStream = File(privateKeyFileURL.file).inputStream()\r\n        val googleCredentials = GoogleCredentials.fromStream(privateKeyStream)\r\n        val firebaseOptions = FirebaseOptions\r\n            .builder()\r\n            .setCredentials(googleCredentials)\r\n            .build()\r\n        val app = try {\r\n            FirebaseApp.getInstance()\r\n        } catch (iae: IllegalStateException) {\r\n            FirebaseApp.initializeApp(firebaseOptions)\r\n        }\r\n        return FirebaseMessaging.getInstance(app)\r\n    }\r\n}\r\n```","title":"How to add custom beans globally to spring boot test context","body":"<p>I fixed the problem by only initiliazing the <code>FirebaseApp</code> instance when there wasn't one instantiated before.</p>\n<p>The updated bean:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class FirebaseMessagingBean {\n    @Bean\n    fun firebaseMessaging(): FirebaseMessaging {\n        val privateKeyFileURL = ClassLoader.getSystemResource(&quot;firebase-cloud-messaging.json&quot;)\n            ?: throw IOException(&quot;Couldn't read firebase credentials&quot;)\n        val privateKeyStream = File(privateKeyFileURL.file).inputStream()\n        val googleCredentials = GoogleCredentials.fromStream(privateKeyStream)\n        val firebaseOptions = FirebaseOptions\n            .builder()\n            .setCredentials(googleCredentials)\n            .build()\n        val app = try {\n            FirebaseApp.getInstance()\n        } catch (iae: IllegalStateException) {\n            FirebaseApp.initializeApp(firebaseOptions)\n        }\n        return FirebaseMessaging.getInstance(app)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645206027,"creation_date":1645206027,"answer_id":71177728,"question_id":71175588,"body_markdown":"Your problem originates from the fact, that Firebase uses a `FirebaseApp` object as static singleton factory, which disallows to be called more than once for the same app. When running a single test this is not a problem, because the call is only issued once. When running multiple test suites however, the wrapping Bean is created anew for every ApplicationContext but the `FirebaseApp` object is kept for the runtime of the JVM and NOT re-created. Because `initializeApp` is invoked multiple times for the same app on the same `FirebaseApp` object, the error shown above is yielded.\r\n\r\nOne way to solve this, is by catching the exception thrown by the factory, as shown in your answer.\r\nHowever, you could also take advantage of Kotlin features to solve this issue, without creating a costly `Exception` for every test.\r\n\r\n```kotlin\r\nprivate val firebaseMessaging: FirebaseMessaging by lazy {\r\n    val privateKeyFileURL = ClassLoader.getSystemResource(&quot;firebase-cloud-messaging.json&quot;)\r\n        ?: throw IOException(&quot;Couldn&#39;t read firebase credentials&quot;)\r\n    val privateKeyStream = File(privateKeyFileURL.file).inputStream()\r\n    val googleCredentials = GoogleCredentials.fromStream(privateKeyStream)\r\n    val firebaseOptions = FirebaseOptions.builder().setCredentials(googleCredentials)\r\n        .build()\r\n    val app = FirebaseApp.initializeApp(firebaseOptions, &quot;my-app&quot;)\r\n\r\n    FirebaseMessaging.getInstance(app)\r\n}\r\n\r\n@Component\r\nclass FirebaseMessagingBean {\r\n\r\n    @Bean\r\n    fun firebaseMessaging(): FirebaseMessaging = firebaseMessaging\r\n}\r\n```\r\n\r\nBy utilizing the `lazy` delegate, the initialization is called once only, and only when first required.","title":"How to add custom beans globally to spring boot test context","body":"<p>Your problem originates from the fact, that Firebase uses a <code>FirebaseApp</code> object as static singleton factory, which disallows to be called more than once for the same app. When running a single test this is not a problem, because the call is only issued once. When running multiple test suites however, the wrapping Bean is created anew for every ApplicationContext but the <code>FirebaseApp</code> object is kept for the runtime of the JVM and NOT re-created. Because <code>initializeApp</code> is invoked multiple times for the same app on the same <code>FirebaseApp</code> object, the error shown above is yielded.</p>\n<p>One way to solve this, is by catching the exception thrown by the factory, as shown in your answer.\nHowever, you could also take advantage of Kotlin features to solve this issue, without creating a costly <code>Exception</code> for every test.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val firebaseMessaging: FirebaseMessaging by lazy {\n    val privateKeyFileURL = ClassLoader.getSystemResource(&quot;firebase-cloud-messaging.json&quot;)\n        ?: throw IOException(&quot;Couldn't read firebase credentials&quot;)\n    val privateKeyStream = File(privateKeyFileURL.file).inputStream()\n    val googleCredentials = GoogleCredentials.fromStream(privateKeyStream)\n    val firebaseOptions = FirebaseOptions.builder().setCredentials(googleCredentials)\n        .build()\n    val app = FirebaseApp.initializeApp(firebaseOptions, &quot;my-app&quot;)\n\n    FirebaseMessaging.getInstance(app)\n}\n\n@Component\nclass FirebaseMessagingBean {\n\n    @Bean\n    fun firebaseMessaging(): FirebaseMessaging = firebaseMessaging\n}\n</code></pre>\n<p>By utilizing the <code>lazy</code> delegate, the initialization is called once only, and only when first required.</p>\n"}],"owner":{"account_id":12060215,"reputation":165,"user_id":8819495,"display_name":"vMysterion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645206027,"creation_date":1645196540,"question_id":71175588,"body_markdown":"I implemented firebase messaging into my spring boot application. For that I created a bean like described [here][1] for easy access to a `FirebaseMessaging` instance. That bean then is injected into a service. Said service is then injected into my controller were the service methods that utilize the `FirebaseMessaging` bean are called.\r\n\r\nNow my problem is that the testsuite for that project (using JUnit5 &amp; TestContainers) fails as the following stacktrace is thrown for each method:\r\n```\r\nMyControllerTest &gt; testFunction() FAILED\r\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\r\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\r\n            Caused by: org.springframework.beans.factory.BeanCreationException at ConstructorResolver.java:658\r\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\r\n                Caused by: org.springframework.beans.BeanInstantiationException at SimpleInstantiationStrategy.java:185\r\n            Caused by: org.springframework.beans.factory.BeanCreationException at ConstructorResolver.java:658\r\n                Caused by: org.springframework.beans.BeanInstantiationException at SimpleInstantiationStrategy.java:185\r\n                    Caused by: java.lang.IllegalStateException at Preconditions.java:513\r\n                    Caused by: java.lang.IllegalStateException at Preconditions.java:513\r\n```\r\nRoot Cause:\r\n```\r\nCaused by: java.lang.IllegalStateException: FirebaseApp name my-app already exists!\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:513)\r\n\tat com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:222)\r\n\tat com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:215)\r\n\tat my.example.app.firebase.FirebaseMessagingBean.firebaseMessaging(FirebaseMessagingBean.kt:25)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 125 more\r\n\r\n```\r\n*Note: The errors only occour when running the testsuite as a whole. If I run a test class on it&#39;s own no error appears.*\r\n\r\nOn method to solve that problem is to add a `@MockBean` to each class so the test context is loading the bean. So with that I could go on and simply add that to each test class, but I would prefer a method that injects a `FirebaseMessaging` `@MockBean` into each test class automatically the testsuite don&#39;t fails each time a dev forgets to add the `@MockBean` to his test class.\r\n\r\nWhat is a proper way to achieve that?\r\n\r\n*(This code is in Kotlin, but I&#39;ld also happily accept java code for the solution.)*\r\n\r\n*Code:* \r\n\r\n```kotlin\r\n@Component\r\nclass FirebaseMessagingBean {\r\n    @Bean\r\n    fun firebaseMessaging(): FirebaseMessaging {\r\n        val privateKeyFileURL = ClassLoader.getSystemResource(&quot;firebase-cloud-messaging.json&quot;)\r\n            ?: throw IOException(&quot;Couldn&#39;t read firebase credentials&quot;)\r\n        val privateKeyStream = File(privateKeyFileURL.file).inputStream()\r\n        val googleCredentials = GoogleCredentials.fromStream(privateKeyStream)\r\n        val firebaseOptions = FirebaseOptions.builder().setCredentials(googleCredentials)\r\n            .build()\r\n        val app = FirebaseApp.initializeApp(firebaseOptions, &quot;my-app&quot;)\r\n        return FirebaseMessaging.getInstance(app)\r\n    }\r\n}\r\n```\r\n```kotlin\r\n@Service\r\nclass FirebaseNotificationService(\r\n    val firebaseMessaging: FirebaseMessaging\r\n) {\r\n    fun sendNotification(msg: String) { /* ... */ }\r\n}\r\n```\r\n```kotlin\r\n@RestController\r\n@RequestMapping(&quot;/api/route&quot;)\r\nclass MyController(\r\n    val firebaseNotificationService: FirebaseNotificationService,\r\n) {\r\n    @PostMapping()\r\n    fun postRoute(): ResponseEntity&lt;Any&gt; {\r\n        firebaseNotificationService.sendNotification(&quot;msg&quot;)\r\n        // ...\r\n    }\r\n}\r\n```\r\nTest class example\r\n```kotlin\r\n@AutoConfigureMockMvc\r\n@SpringBootTest\r\nclass DeviceControllerTest {\r\n    // injections\r\n    \r\n    @Test\r\n    fun testFunction() { /* ... */ }\r\n}\r\n```\r\n  [1]: https://springhow.com/spring-boot-firebase-push-notification/#java-configuration-for-messaging","title":"How to add custom beans globally to spring boot test context","body":"<p>I implemented firebase messaging into my spring boot application. For that I created a bean like described <a href=\"https://springhow.com/spring-boot-firebase-push-notification/#java-configuration-for-messaging\" rel=\"nofollow noreferrer\">here</a> for easy access to a <code>FirebaseMessaging</code> instance. That bean then is injected into a service. Said service is then injected into my controller were the service methods that utilize the <code>FirebaseMessaging</code> bean are called.</p>\n<p>Now my problem is that the testsuite for that project (using JUnit5 &amp; TestContainers) fails as the following stacktrace is thrown for each method:</p>\n<pre><code>MyControllerTest &gt; testFunction() FAILED\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\n            Caused by: org.springframework.beans.factory.BeanCreationException at ConstructorResolver.java:658\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\n                Caused by: org.springframework.beans.BeanInstantiationException at SimpleInstantiationStrategy.java:185\n            Caused by: org.springframework.beans.factory.BeanCreationException at ConstructorResolver.java:658\n                Caused by: org.springframework.beans.BeanInstantiationException at SimpleInstantiationStrategy.java:185\n                    Caused by: java.lang.IllegalStateException at Preconditions.java:513\n                    Caused by: java.lang.IllegalStateException at Preconditions.java:513\n</code></pre>\n<p>Root Cause:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: FirebaseApp name my-app already exists!\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:513)\n    at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:222)\n    at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:215)\n    at my.example.app.firebase.FirebaseMessagingBean.firebaseMessaging(FirebaseMessagingBean.kt:25)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 125 more\n\n</code></pre>\n<p><em>Note: The errors only occour when running the testsuite as a whole. If I run a test class on it's own no error appears.</em></p>\n<p>On method to solve that problem is to add a <code>@MockBean</code> to each class so the test context is loading the bean. So with that I could go on and simply add that to each test class, but I would prefer a method that injects a <code>FirebaseMessaging</code> <code>@MockBean</code> into each test class automatically the testsuite don't fails each time a dev forgets to add the <code>@MockBean</code> to his test class.</p>\n<p>What is a proper way to achieve that?</p>\n<p><em>(This code is in Kotlin, but I'ld also happily accept java code for the solution.)</em></p>\n<p><em>Code:</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\nclass FirebaseMessagingBean {\n    @Bean\n    fun firebaseMessaging(): FirebaseMessaging {\n        val privateKeyFileURL = ClassLoader.getSystemResource(&quot;firebase-cloud-messaging.json&quot;)\n            ?: throw IOException(&quot;Couldn't read firebase credentials&quot;)\n        val privateKeyStream = File(privateKeyFileURL.file).inputStream()\n        val googleCredentials = GoogleCredentials.fromStream(privateKeyStream)\n        val firebaseOptions = FirebaseOptions.builder().setCredentials(googleCredentials)\n            .build()\n        val app = FirebaseApp.initializeApp(firebaseOptions, &quot;my-app&quot;)\n        return FirebaseMessaging.getInstance(app)\n    }\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Service\nclass FirebaseNotificationService(\n    val firebaseMessaging: FirebaseMessaging\n) {\n    fun sendNotification(msg: String) { /* ... */ }\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/route&quot;)\nclass MyController(\n    val firebaseNotificationService: FirebaseNotificationService,\n) {\n    @PostMapping()\n    fun postRoute(): ResponseEntity&lt;Any&gt; {\n        firebaseNotificationService.sendNotification(&quot;msg&quot;)\n        // ...\n    }\n}\n</code></pre>\n<p>Test class example</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@AutoConfigureMockMvc\n@SpringBootTest\nclass DeviceControllerTest {\n    // injections\n    \n    @Test\n    fun testFunction() { /* ... */ }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":1,"creation_date":1645201230,"post_id":71176561,"comment_id":125816154,"body_markdown":"I don&#39;t see anything wrong with your code. Where is the problem? What&#39;s the output you expect and what you are getting instead? Do you only want to do this in a more compact way? If all you want to do is reduce the `filter()` operations, I would suggest adding `visit.animalType` and `visit.medicalSpecialization` to your query or setting up a `Predicate` to validate the dates.","body":"I don&#39;t see anything wrong with your code. Where is the problem? What&#39;s the output you expect and what you are getting instead? Do you only want to do this in a more compact way? If all you want to do is reduce the <code>filter()</code> operations, I would suggest adding <code>visit.animalType</code> and <code>visit.medicalSpecialization</code> to your query or setting up a <code>Predicate</code> to validate the dates."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645205426,"post_id":71176561,"comment_id":125817829,"body_markdown":"@JettoMart&#237;nez I think the problem is that a query is done to the database that returns all results, and only after that filtering occurs. If database has many rows this is a wast of resources, when filtering can be done in first place in the repository query.","body":"@JettoMart&#237;nez I think the problem is that a query is done to the database that returns all results, and only after that filtering occurs. If database has many rows this is a wast of resources, when filtering can be done in first place in the repository query."}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645205671,"creation_date":1645205671,"answer_id":71177653,"question_id":71176561,"body_markdown":"Yes, you can use [QueryDsl][1], [Jooq][2], [Spring Data][3], [hibernate][4], etc to do that.\r\n\r\nExample of using Spring Data:\r\n\r\n    @Query(&quot;SELECT u FROM User u WHERE u.status = ?1 and u.name = ?2&quot;)\r\n    User findUserByStatusAndName(Integer status, String name);\r\n\r\nExample taken from: https://www.baeldung.com/spring-data-jpa-query\r\n\r\n\r\n  [1]: http://querydsl.com/\r\n  [2]: http://www.jooq.org/\r\n  [3]: https://spring.io/projects/spring-data\r\n  [4]: https://hibernate.org/","title":"How to filter stream in java with few parameters?","body":"<p>Yes, you can use <a href=\"http://querydsl.com/\" rel=\"nofollow noreferrer\">QueryDsl</a>, <a href=\"http://www.jooq.org/\" rel=\"nofollow noreferrer\">Jooq</a>, <a href=\"https://spring.io/projects/spring-data\" rel=\"nofollow noreferrer\">Spring Data</a>, <a href=\"https://hibernate.org/\" rel=\"nofollow noreferrer\">hibernate</a>, etc to do that.</p>\n<p>Example of using Spring Data:</p>\n<pre><code>@Query(&quot;SELECT u FROM User u WHERE u.status = ?1 and u.name = ?2&quot;)\nUser findUserByStatusAndName(Integer status, String name);\n</code></pre>\n<p>Example taken from: <a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-query</a></p>\n"}],"owner":{"account_id":24302194,"reputation":3,"user_id":18245511,"display_name":"julkor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71177653,"answer_count":1,"score":0,"last_activity_date":1645205671,"creation_date":1645200613,"question_id":71176561,"body_markdown":"I need to filter list of visits by few parameters. I know that this is not good solution. When there will be a lot of visits I can&#39;t get all of them to just get for example few of them. I was thinking about Querydsl? Anyone have good solution?\r\nthis is my method:\r\n\r\n    private List&lt;Visit&gt; findVisitByParameters(CustomSearchCommand visit){\r\n    List&lt;Visit&gt; allVisits = repository.findAll();\r\n    List&lt;Visit&gt; visitList = allVisits.stream()\r\n            .filter(v -&gt; v.getDate().isAfter(visit.getDateFrom()))\r\n            .filter(v -&gt; v.getDate().isBefore(visit.getDateTo()))\r\n            .filter(v -&gt; v.getVeterinarian().getAnimalType().equals(visit.getAnimalType()))\r\n            .filter(v -&gt; v.getVeterinarian().getMedicalSpecialization().equals(visit.getMedicalSpecialization()))\r\n            .collect(Collectors.toList());\r\n    if(visitList.isEmpty()) throw new InvalidParameterException(&quot;There are not any visits in this time period with&quot; +\r\n            &quot; this animal type and medical Specialization&quot;);\r\n    return visitList;\r\n}","title":"How to filter stream in java with few parameters?","body":"<p>I need to filter list of visits by few parameters. I know that this is not good solution. When there will be a lot of visits I can't get all of them to just get for example few of them. I was thinking about Querydsl? Anyone have good solution?\nthis is my method:</p>\n<pre><code>private List&lt;Visit&gt; findVisitByParameters(CustomSearchCommand visit){\nList&lt;Visit&gt; allVisits = repository.findAll();\nList&lt;Visit&gt; visitList = allVisits.stream()\n        .filter(v -&gt; v.getDate().isAfter(visit.getDateFrom()))\n        .filter(v -&gt; v.getDate().isBefore(visit.getDateTo()))\n        .filter(v -&gt; v.getVeterinarian().getAnimalType().equals(visit.getAnimalType()))\n        .filter(v -&gt; v.getVeterinarian().getMedicalSpecialization().equals(visit.getMedicalSpecialization()))\n        .collect(Collectors.toList());\nif(visitList.isEmpty()) throw new InvalidParameterException(&quot;There are not any visits in this time period with&quot; +\n        &quot; this animal type and medical Specialization&quot;);\nreturn visitList;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","queue","jms","dlq"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645204896,"creation_date":1645204507,"answer_id":71177415,"question_id":71177157,"body_markdown":"There is no accommodation for the feature you&#39;re describing in the JMS specification. The JMS spec incorporates redelivery via things like the `JMSRedelivered` header and `JMSXDeliveryCount` property. However, it actually makes no mention of &quot;dead-letter&quot; destinations.\r\n\r\nThat said, such a feature *might* be provided by a particular JMS broker, but since you don&#39;t mention what JMS broker implementation you&#39;re using it&#39;s impossible to say whether your chosen broker implements such a feature. In any case, it would be configured and/or invoked via an implementation-specific mechanism that would be, by definition, non-portable between brokers and not available from the JMS API.","title":"Java JMS - Send message to Dead Letter Queue explicitly","body":"<p>There is no accommodation for the feature you're describing in the JMS specification. The JMS spec incorporates redelivery via things like the <code>JMSRedelivered</code> header and <code>JMSXDeliveryCount</code> property. However, it actually makes no mention of &quot;dead-letter&quot; destinations.</p>\n<p>That said, such a feature <em>might</em> be provided by a particular JMS broker, but since you don't mention what JMS broker implementation you're using it's impossible to say whether your chosen broker implements such a feature. In any case, it would be configured and/or invoked via an implementation-specific mechanism that would be, by definition, non-portable between brokers and not available from the JMS API.</p>\n"}],"owner":{"account_id":1715113,"reputation":147,"user_id":1572370,"display_name":"Todd Johnson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71177415,"answer_count":1,"score":1,"last_activity_date":1645205035,"creation_date":1645203194,"question_id":71177157,"body_markdown":"Is there a way to explicitly tell the broker to send a message to the queue&#39;s assigned dead letter queue?\r\n\r\nI know we can configure a queue to automatically send messages to the DLQ after a certain number of re-delivery attempts.  That makes perfect sense for transient errors such as database issues, network issues, etc.  However in the case of a business rule error, it doesn&#39;t make sense  to have that message attempt redelivery X number of times over X number of minutes before being sent to the dead letter queue when we know it&#39;s a business rule violate / malformed message, etc.\r\n\r\nI was hoping there was a way that when we catch a business rule violation we can immediately send it to that queues dead letter queue.  I know I could explicitly write the code to send it to that dead letter queue but we will have many (dozens) of configurable queues and their associated dead letter queues will be configured by our middleware team. I don&#39;t want to explicitly code the dead letter queue queue names or even configure them in my own properties. I&#39;m hoping there is a simple way to tell the broker to immediately send the message to the dead letter queue and not attempt redelivery.\r\n\r\nIt seems like it should be something like `message.deadLetter()`. I feel like I must be missing something simple but I don&#39;t see any mechanism like that on the consumer, session or message.","title":"Java JMS - Send message to Dead Letter Queue explicitly","body":"<p>Is there a way to explicitly tell the broker to send a message to the queue's assigned dead letter queue?</p>\n<p>I know we can configure a queue to automatically send messages to the DLQ after a certain number of re-delivery attempts.  That makes perfect sense for transient errors such as database issues, network issues, etc.  However in the case of a business rule error, it doesn't make sense  to have that message attempt redelivery X number of times over X number of minutes before being sent to the dead letter queue when we know it's a business rule violate / malformed message, etc.</p>\n<p>I was hoping there was a way that when we catch a business rule violation we can immediately send it to that queues dead letter queue.  I know I could explicitly write the code to send it to that dead letter queue but we will have many (dozens) of configurable queues and their associated dead letter queues will be configured by our middleware team. I don't want to explicitly code the dead letter queue queue names or even configure them in my own properties. I'm hoping there is a simple way to tell the broker to immediately send the message to the dead letter queue and not attempt redelivery.</p>\n<p>It seems like it should be something like <code>message.deadLetter()</code>. I feel like I must be missing something simple but I don't see any mechanism like that on the consumer, session or message.</p>\n"},{"tags":["java","annotations","swagger","springfox"],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1519832847,"creation_date":1519831858,"answer_id":49033129,"question_id":49032676,"body_markdown":"As you can see [here][1], there is no null dataType. You have two options\r\n\r\n1. You can define as   \r\n \r\n\r\n        @ApiModelProperty(example = &quot;null&quot;) --&gt; This will display as &quot;null&quot;\r\nThis will mislead the user and might lead to NPE  \r\n \r\n\r\n2.  `@ApiModelProperty(hidden = true)`\r\n\r\npersonally, I would prefer second one because, when spring maps the json from UI in your controller, if nothing is passed from frontend, it will be null automatically.\r\n\r\n  [1]: https://springfox.github.io/springfox/docs/current/#overriding-property-datatypes","title":"Swagger @ApiModelProperty example value null for Long","body":"<p>As you can see <a href=\"https://springfox.github.io/springfox/docs/current/#overriding-property-datatypes\" rel=\"noreferrer\">here</a>, there is no null dataType. You have two options</p>\n\n<ol>\n<li><p>You can define as   </p>\n\n<pre><code>@ApiModelProperty(example = \"null\") --&gt; This will display as \"null\"\n</code></pre>\n\n<p>This will mislead the user and might lead to NPE  </p></li>\n<li><p><code>@ApiModelProperty(hidden = true)</code></p></li>\n</ol>\n\n<p>personally, I would prefer second one because, when spring maps the json from UI in your controller, if nothing is passed from frontend, it will be null automatically.</p>\n"}],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8358,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":49033129,"answer_count":1,"score":5,"last_activity_date":1645204232,"creation_date":1519830376,"question_id":49032676,"body_markdown":"I use [SpringFox][1] and Swagger UI for API documentation.  \r\nI have a DTO in which there is a property which is of type Long. It&#39;s not populated 99% of time so I want to demonstrate this fact in documentation by setting the property value to `null`. So I want this JSON in examples section\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    {\r\n      /* ... */\r\n      &quot;legacyId&quot;: null\r\n    }\r\n\r\nI&#39;ve already tried \r\n\r\n    @ApiModelProperty(value = &quot;legacyId&quot;, example = null)\r\n    public Long getLegacyId() {\r\n        return legacyId;\r\n    }\r\n\r\nBut I got a warning &quot;Attribute value must be constant&quot;. What else I can do ?\r\n\r\n\r\n  [1]: https://springfox.github.io/springfox/","title":"Swagger @ApiModelProperty example value null for Long","body":"<p>I use <a href=\"https://springfox.github.io/springfox/\" rel=\"noreferrer\">SpringFox</a> and Swagger UI for API documentation.<br>\nI have a DTO in which there is a property which is of type Long. It's not populated 99% of time so I want to demonstrate this fact in documentation by setting the property value to <code>null</code>. So I want this JSON in examples section</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  /* ... */\n  \"legacyId\": null\n}\n</code></pre>\n\n<p>I've already tried </p>\n\n<pre><code>@ApiModelProperty(value = \"legacyId\", example = null)\npublic Long getLegacyId() {\n    return legacyId;\n}\n</code></pre>\n\n<p>But I got a warning \"Attribute value must be constant\". What else I can do ?</p>\n"},{"tags":["java","maven","visual-studio-code","classpath"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1633093272,"post_id":69405922,"comment_id":122675279,"body_markdown":"All source elements should be in the directory src/main/java","body":"All source elements should be in the directory src/main/java"}],"owner":{"account_id":20145897,"reputation":141,"user_id":15254698,"display_name":"Michelle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1417,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645204167,"creation_date":1633091378,"question_id":69405922,"body_markdown":"I am trying to run a file but I am getting these errors. After clicking on &quot;add to source path&quot; seen in the screenshot below, I get the following error.\r\n[![error 1][1]][1]\r\n\r\n\r\nThis error below.\r\n[![error 2][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nH4ty.png\r\n  [2]: https://i.stack.imgur.com/ulJBW.png\r\n\r\nThis is what my pom.xml file looks like. I added in configurations as seen below but it did not help.\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;pizza.shop&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;1&lt;/version&gt;\r\n\r\n\t&lt;configuration&gt;\r\n\t\t&lt;additionalClasspathElements&gt;\r\n\t\t  &lt;additionalClasspathElement&gt;Pizza/demo/src/main&lt;/additionalClasspathElement&gt;\r\n\t\t  &lt;additionalClasspathElement&gt;Pizza/demo/src/main/Insert&lt;/additionalClasspathElement&gt;\r\n\t\t  &lt;additionalClasspathElement&gt;Pizza/demo/src/main/Select&lt;/additionalClasspathElement&gt;\r\n\t\t  &lt;additionalClasspathElement&gt;Pizza/demo/src/main/Create&lt;/additionalClasspathElement&gt;\r\n\t\t&lt;/additionalClasspathElements&gt;\r\n\t  &lt;/configuration&gt;\r\n\r\n\t&lt;packaging&gt;adapter&lt;/packaging&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;!-- Use UTF-8 as the encoding of the adapter --&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n\t\t&lt;!-- MobileFirst adapter deployment properties --&gt;\r\n\t\t&lt;mfpfUrl&gt;http://localhost:9080/mfpadmin&lt;/mfpfUrl&gt;\r\n\t\t&lt;mfpfUser&gt;admin&lt;/mfpfUser&gt;\r\n\t\t&lt;mfpfPassword&gt;admin&lt;/mfpfPassword&gt;\r\n\t\t&lt;mfpfRuntime&gt;mfp&lt;/mfpfRuntime&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.ibm.mfp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;adapter-maven-api&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;8.0.2020110500&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.ibm.mfp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mfp-security-checks-base&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;[8.0.0,9.0.0)&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.0.26&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.ibm.mfp&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;adapter-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\nWhat am I missing/doing wrong because `additionalClasspathElement` does not help or change anything. \r\n\r\n","title":"VSCode Maven project add a folder to source path","body":"<p>I am trying to run a file but I am getting these errors. After clicking on &quot;add to source path&quot; seen in the screenshot below, I get the following error.\n<a href=\"https://i.stack.imgur.com/nH4ty.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nH4ty.png\" alt=\"error 1\" /></a></p>\n<p>This error below.\n<a href=\"https://i.stack.imgur.com/ulJBW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ulJBW.png\" alt=\"error 2\" /></a></p>\n<p>This is what my pom.xml file looks like. I added in configurations as seen below but it did not help.</p>\n<p></p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;pizza.shop&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;version&gt;1&lt;/version&gt;\n\n&lt;configuration&gt;\n    &lt;additionalClasspathElements&gt;\n      &lt;additionalClasspathElement&gt;Pizza/demo/src/main&lt;/additionalClasspathElement&gt;\n      &lt;additionalClasspathElement&gt;Pizza/demo/src/main/Insert&lt;/additionalClasspathElement&gt;\n      &lt;additionalClasspathElement&gt;Pizza/demo/src/main/Select&lt;/additionalClasspathElement&gt;\n      &lt;additionalClasspathElement&gt;Pizza/demo/src/main/Create&lt;/additionalClasspathElement&gt;\n    &lt;/additionalClasspathElements&gt;\n  &lt;/configuration&gt;\n\n&lt;packaging&gt;adapter&lt;/packaging&gt;\n&lt;name&gt;demo&lt;/name&gt;\n\n&lt;properties&gt;\n    &lt;!-- Use UTF-8 as the encoding of the adapter --&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n    &lt;!-- MobileFirst adapter deployment properties --&gt;\n    &lt;mfpfUrl&gt;http://localhost:9080/mfpadmin&lt;/mfpfUrl&gt;\n    &lt;mfpfUser&gt;admin&lt;/mfpfUser&gt;\n    &lt;mfpfPassword&gt;admin&lt;/mfpfPassword&gt;\n    &lt;mfpfRuntime&gt;mfp&lt;/mfpfRuntime&gt;\n&lt;/properties&gt;\n\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.mfp&lt;/groupId&gt;\n        &lt;artifactId&gt;adapter-maven-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;version&gt;8.0.2020110500&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.mfp&lt;/groupId&gt;\n        &lt;artifactId&gt;mfp-security-checks-base&lt;/artifactId&gt;\n        &lt;version&gt;[8.0.0,9.0.0)&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.26&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.ibm.mfp&lt;/groupId&gt;\n            &lt;artifactId&gt;adapter-maven-plugin&lt;/artifactId&gt;\n            &lt;extensions&gt;true&lt;/extensions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>What am I missing/doing wrong because <code>additionalClasspathElement</code> does not help or change anything.</p>\n"},{"tags":["java","apache-beam","windowing"],"comments":[{"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"score":0,"creation_date":1644867248,"post_id":71038555,"comment_id":125714254,"body_markdown":"Could you clarify what you mean by &quot;data for current batch?&quot; Also, I see your example input/output, but your code doesn&#39;t seem to do anything special with logout events, so I&#39;m not sure exactly what you&#39;re trying to do.","body":"Could you clarify what you mean by &quot;data for current batch?&quot; Also, I see your example input/output, but your code doesn&#39;t seem to do anything special with logout events, so I&#39;m not sure exactly what you&#39;re trying to do."},{"owner":{"account_id":9911696,"reputation":1656,"user_id":7338171,"accept_rate":17,"display_name":"Piyush Patel"},"score":0,"creation_date":1644878985,"post_id":71038555,"comment_id":125717708,"body_markdown":"Hi @robertwb Thanks for your comment. I was able to do this with the use of Timers and State.  I found the blog on Looping timers to be useful as it&#39;s similar to time series data. I still have some issue with outputting data exactly at 60 seconds rather than in the middle, but for the moment what I have should be fine.\n\nBasically, I was looking to output all active users, every 60 seconds. If the user logs out, remove user State and there will not be any record for that user. If he logs back in, there will be event output for that user. After a day of inactivity, all users log out.","body":"Hi @robertwb Thanks for your comment. I was able to do this with the use of Timers and State.  I found the blog on Looping timers to be useful as it&#39;s similar to time series data. I still have some issue with outputting data exactly at 60 seconds rather than in the middle, but for the moment what I have should be fine.  Basically, I was looking to output all active users, every 60 seconds. If the user logs out, remove user State and there will not be any record for that user. If he logs back in, there will be event output for that user. After a day of inactivity, all users log out."},{"owner":{"account_id":9911696,"reputation":1656,"user_id":7338171,"accept_rate":17,"display_name":"Piyush Patel"},"score":0,"creation_date":1644879204,"post_id":71038555,"comment_id":125717747,"body_markdown":"Yes this sample code doesn&#39;t have anything for logout event.","body":"Yes this sample code doesn&#39;t have anything for logout event."},{"owner":{"account_id":9911696,"reputation":1656,"user_id":7338171,"accept_rate":17,"display_name":"Piyush Patel"},"score":0,"creation_date":1644946078,"post_id":71038555,"comment_id":125737942,"body_markdown":"@robertwb I have another question. This is possible with Beam version &gt; 2.31.0 because they have timer.clear() method. How do we clear timers for a key in earlier version in case you know.","body":"@robertwb I have another question. This is possible with Beam version &gt; 2.31.0 because they have timer.clear() method. How do we clear timers for a key in earlier version in case you know."},{"owner":{"account_id":3830132,"reputation":1318,"user_id":3175889,"display_name":"ningk"},"score":0,"creation_date":1644962433,"post_id":71038555,"comment_id":125743722,"body_markdown":"IIUC, you need to apply a sliding window offset by 1-minute with length of 1-day since the state is per-key per-window to be able to do what you want.","body":"IIUC, you need to apply a sliding window offset by 1-minute with length of 1-day since the state is per-key per-window to be able to do what you want."}],"answers":[{"tags":[],"owner":{"account_id":2426036,"reputation":479,"user_id":2117938,"display_name":"Alec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645204146,"creation_date":1645204146,"answer_id":71177346,"question_id":71038555,"body_markdown":"The likely reason events are being lost is that there are code paths in your `@ProcessElement` function which do not call `out.output()`. If that function is not called, the element will not be output. This code path seems like it would discard late arriving data, no?\r\n\r\n    if (eventTs.get() &lt; stateEventTs) {\r\n\r\nMore generally, it seems like you are implementing Apache Beam windowing functions from scratch. Did you try using Apache Beam windowing functions like `FixedWindows`, `SlidingWindows`, etc? `FixedWindows` seems like it would fit your use case quite well.\r\nhttps://beam.apache.org/documentation/programming-guide/#windowing\r\n\r\nNote that you want to window on *event time*, not *processing time*. You will need to extract `utc_ts` from the Kafka message as it&#39;s being received. Looking at KafkaIO documentation, this appears to be configurable.\r\nhttps://beam.apache.org/releases/javadoc/2.4.0/org/apache/beam/sdk/io/kafka/KafkaIO.Read.html#withTimestampPolicyFactory-org.apache.beam.sdk.io.kafka.TimestampPolicyFactory-","title":"Find active users events every 60 seconds in Apache Beam","body":"<p>The likely reason events are being lost is that there are code paths in your <code>@ProcessElement</code> function which do not call <code>out.output()</code>. If that function is not called, the element will not be output. This code path seems like it would discard late arriving data, no?</p>\n<pre><code>if (eventTs.get() &lt; stateEventTs) {\n</code></pre>\n<p>More generally, it seems like you are implementing Apache Beam windowing functions from scratch. Did you try using Apache Beam windowing functions like <code>FixedWindows</code>, <code>SlidingWindows</code>, etc? <code>FixedWindows</code> seems like it would fit your use case quite well.\n<a href=\"https://beam.apache.org/documentation/programming-guide/#windowing\" rel=\"nofollow noreferrer\">https://beam.apache.org/documentation/programming-guide/#windowing</a></p>\n<p>Note that you want to window on <em>event time</em>, not <em>processing time</em>. You will need to extract <code>utc_ts</code> from the Kafka message as it's being received. Looking at KafkaIO documentation, this appears to be configurable.\n<a href=\"https://beam.apache.org/releases/javadoc/2.4.0/org/apache/beam/sdk/io/kafka/KafkaIO.Read.html#withTimestampPolicyFactory-org.apache.beam.sdk.io.kafka.TimestampPolicyFactory-\" rel=\"nofollow noreferrer\">https://beam.apache.org/releases/javadoc/2.4.0/org/apache/beam/sdk/io/kafka/KafkaIO.Read.html#withTimestampPolicyFactory-org.apache.beam.sdk.io.kafka.TimestampPolicyFactory-</a></p>\n"}],"owner":{"account_id":9911696,"reputation":1656,"user_id":7338171,"accept_rate":17,"display_name":"Piyush Patel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645204146,"creation_date":1644342846,"question_id":71038555,"body_markdown":"I am trying to find active users for my game applications. In my use-case I have following scenario.\r\nThe input data source is Kafka topic with message like \r\n\r\n```json\r\n{&quot;user_id&quot;: 123, &quot;event_id&quot;: 1, &quot;utc_ts&quot;: 1234345323}\r\n{&quot;user_id&quot;: 123, &quot;event_id&quot;: 0, &quot;utc_ts&quot;: 1234345323}\r\n```\r\n\r\n`event_id` 1 means login and 0 means logout.\r\nMy task is to run 60 second window operations and find all the active user records. So, for example, \r\n\r\n```\r\n|Input activity             | output      | Window   |\r\n|user1 -&gt; login -&gt; 12:31:40 | user1 event | 12:31:59 |\r\n|user2 -&gt; login -&gt; 12:31:42 | user2 event | 12:31:59 |\r\n|user3 -&gt; login -&gt; 12:32:13 | user1, user2, user3 event | 12:32:59 |\r\n|user2 -&gt; logout -&gt; 12:33:23| user1, user3 event | 12:33:59 |\r\n```\r\n\r\nBasically my output should be all the active user events in the last one day.\r\nPreviously, we were able to achieve this with `updateStateByKey` Spark function, which would look at the timestamp and if the event is new, it will output old + new events. If it&#39;s older event, it would output only old events.\r\n\r\nI tried to implement this in Beam, but Beam seems to only produce data for current batch. The previous active records are basically not sent to output.\r\n\r\n```java\r\nPCollection&lt;KV&lt;Long, String&gt;&gt; userIdAndEvent = readPCollectionOfUserIdAndEvent()\r\nPCollection&lt;KV&lt;Long, String&gt;&gt; output = userIdAndEvent.apply(ParDo.of(new BucketByUserId())\r\n    .apply(Window.into(new GlobalWindows())\r\n\r\noutput.setCoder(KvCoder.of(VarLongCoder.of(), NullableCoder.of(StringUtf8Coder.of())));\r\n\r\noutput.apply(ParDo.of(new UpdateStateByUserId()))\r\n    .apply(ParDo.of(new WriteToKafka()))\r\n\r\nprivate static class UpdateStateByUserId extends DoFn&lt;KV&lt;Long, String&gt;, String&gt; {\r\n        private static final String EVENT_STATE = &quot;event_state&quot;;\r\n        private static final Long ONE_DAY = 86400L;\r\n\r\n        @StateId(EVENT_STATE)\r\n        private final StateSpec&lt;ValueState&lt;String&gt;&gt; eventState = StateSpecs.value(NullableCoder.of(StringUtf8Coder.of()));\r\n\r\n        @ProcessElement\r\n        public void process(@Element KV&lt;Long, String&gt; in, OutputReceiver&lt;String&gt; out, @StateId(EVENT_STATE) ValueState&lt;String&gt; eventState) {\r\n            String currentEvent = Optional.ofNullable(eventState.read()).orElse(&quot;&quot;);\r\n            Long userId = in.getKey();\r\n            JSONObject newEvent = (JSONObject) JSONValue.parse(in.getValue());\r\n            JSONObject stateEvent = (JSONObject) JSONValue.parse(currentEvent);\r\n            Long stateEventTs = extractLong(stateEvent, &quot;utc_ts&quot;).orElse(0L);\r\n            Optional&lt;Long&gt; eventTs = extractLong(newEvent, &quot;utc_ts&quot;);\r\n            if (eventTs.isPresent()) {\r\n                if (eventTs.get() &lt; stateEventTs) {\r\n                    eventState.write(eventState.read());\r\n                } else if (System.currentTimeMillis() / 1000L - eventTs.get() &lt; ONE_DAY) {\r\n                    eventState.write(newEvent.toJSONString());\r\n                    out.output(newEvent.toJSONString());\r\n                } else {\r\n                    Optional&lt;Long&gt; eventId = extractLong(newEvent, &quot;event_id&quot;);\r\n                    if (eventId.isPresent() &amp;&amp; eventId.get() == getLoginId()) {\r\n                        eventState.write(newEvent.toJSONString());\r\n                        out.output(newEvent.toJSONString());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n}\r\n```\r\n\r\nI&#39;m not sure where to find answer to this. It&#39;s essentially similar to [this - finding running total](https://stackoverflow.com/questions/47913563/how-to-calculate-a-running-total-with-apache-beam/47914551), but couldn&#39;t understand responses in that post. This is similar to finding running total but at the finish of window, output running total for all the words, not just the words that came in last window.\r\n","title":"Find active users events every 60 seconds in Apache Beam","body":"<p>I am trying to find active users for my game applications. In my use-case I have following scenario.\nThe input data source is Kafka topic with message like</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;user_id&quot;: 123, &quot;event_id&quot;: 1, &quot;utc_ts&quot;: 1234345323}\n{&quot;user_id&quot;: 123, &quot;event_id&quot;: 0, &quot;utc_ts&quot;: 1234345323}\n</code></pre>\n<p><code>event_id</code> 1 means login and 0 means logout.\nMy task is to run 60 second window operations and find all the active user records. So, for example,</p>\n<pre><code>|Input activity             | output      | Window   |\n|user1 -&gt; login -&gt; 12:31:40 | user1 event | 12:31:59 |\n|user2 -&gt; login -&gt; 12:31:42 | user2 event | 12:31:59 |\n|user3 -&gt; login -&gt; 12:32:13 | user1, user2, user3 event | 12:32:59 |\n|user2 -&gt; logout -&gt; 12:33:23| user1, user3 event | 12:33:59 |\n</code></pre>\n<p>Basically my output should be all the active user events in the last one day.\nPreviously, we were able to achieve this with <code>updateStateByKey</code> Spark function, which would look at the timestamp and if the event is new, it will output old + new events. If it's older event, it would output only old events.</p>\n<p>I tried to implement this in Beam, but Beam seems to only produce data for current batch. The previous active records are basically not sent to output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>PCollection&lt;KV&lt;Long, String&gt;&gt; userIdAndEvent = readPCollectionOfUserIdAndEvent()\nPCollection&lt;KV&lt;Long, String&gt;&gt; output = userIdAndEvent.apply(ParDo.of(new BucketByUserId())\n    .apply(Window.into(new GlobalWindows())\n\noutput.setCoder(KvCoder.of(VarLongCoder.of(), NullableCoder.of(StringUtf8Coder.of())));\n\noutput.apply(ParDo.of(new UpdateStateByUserId()))\n    .apply(ParDo.of(new WriteToKafka()))\n\nprivate static class UpdateStateByUserId extends DoFn&lt;KV&lt;Long, String&gt;, String&gt; {\n        private static final String EVENT_STATE = &quot;event_state&quot;;\n        private static final Long ONE_DAY = 86400L;\n\n        @StateId(EVENT_STATE)\n        private final StateSpec&lt;ValueState&lt;String&gt;&gt; eventState = StateSpecs.value(NullableCoder.of(StringUtf8Coder.of()));\n\n        @ProcessElement\n        public void process(@Element KV&lt;Long, String&gt; in, OutputReceiver&lt;String&gt; out, @StateId(EVENT_STATE) ValueState&lt;String&gt; eventState) {\n            String currentEvent = Optional.ofNullable(eventState.read()).orElse(&quot;&quot;);\n            Long userId = in.getKey();\n            JSONObject newEvent = (JSONObject) JSONValue.parse(in.getValue());\n            JSONObject stateEvent = (JSONObject) JSONValue.parse(currentEvent);\n            Long stateEventTs = extractLong(stateEvent, &quot;utc_ts&quot;).orElse(0L);\n            Optional&lt;Long&gt; eventTs = extractLong(newEvent, &quot;utc_ts&quot;);\n            if (eventTs.isPresent()) {\n                if (eventTs.get() &lt; stateEventTs) {\n                    eventState.write(eventState.read());\n                } else if (System.currentTimeMillis() / 1000L - eventTs.get() &lt; ONE_DAY) {\n                    eventState.write(newEvent.toJSONString());\n                    out.output(newEvent.toJSONString());\n                } else {\n                    Optional&lt;Long&gt; eventId = extractLong(newEvent, &quot;event_id&quot;);\n                    if (eventId.isPresent() &amp;&amp; eventId.get() == getLoginId()) {\n                        eventState.write(newEvent.toJSONString());\n                        out.output(newEvent.toJSONString());\n                    }\n                }\n            }\n        }\n}\n</code></pre>\n<p>I'm not sure where to find answer to this. It's essentially similar to <a href=\"https://stackoverflow.com/questions/47913563/how-to-calculate-a-running-total-with-apache-beam/47914551\">this - finding running total</a>, but couldn't understand responses in that post. This is similar to finding running total but at the finish of window, output running total for all the words, not just the words that came in last window.</p>\n"},{"tags":["java","kotlin","code-coverage","jacoco","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":6486360,"reputation":283,"user_id":5021819,"display_name":"Younes Ben Tlili"},"score":0,"creation_date":1647978449,"post_id":71177326,"comment_id":126506388,"body_markdown":"any update about this ?","body":"any update about this ?"},{"owner":{"account_id":24302457,"reputation":21,"user_id":18245738,"display_name":"koha26"},"score":0,"creation_date":1648242473,"post_id":71177326,"comment_id":126583602,"body_markdown":"@YounesBenTlili actually not. Currently in Ukraine I don’t have time to fix this issue. Will update if I find root cause.","body":"@YounesBenTlili actually not. Currently in Ukraine I don’t have time to fix this issue. Will update if I find root cause."},{"owner":{"account_id":24302457,"reputation":21,"user_id":18245738,"display_name":"koha26"},"score":0,"creation_date":1649941460,"post_id":71177326,"comment_id":127005250,"body_markdown":"I tried to downgrade versions: Kotlin 1.6.10 -&gt; 1.5.32, Gradle 7.3 -&gt; 6.9.2. As a result, my project coverage was increased to 66%. However, I know that it should be around 80% (+-5%) on old versions of Kotlin and Gradle and with Java 1.8. It seems that the agent in runtime does not use the classes that I have in the classpath. It is strange because there are similar tests in the same module and they have some coverage. I saw some exceptions during test running, but tests are PASSED.\nException during the test stops working of coverage agent, that&#39;s why coverage is not collected for classes.","body":"I tried to downgrade versions: Kotlin 1.6.10 -&gt; 1.5.32, Gradle 7.3 -&gt; 6.9.2. As a result, my project coverage was increased to 66%. However, I know that it should be around 80% (+-5%) on old versions of Kotlin and Gradle and with Java 1.8. It seems that the agent in runtime does not use the classes that I have in the classpath. It is strange because there are similar tests in the same module and they have some coverage. I saw some exceptions during test running, but tests are PASSED. Exception during the test stops working of coverage agent, that&#39;s why coverage is not collected for classes."}],"owner":{"account_id":24302457,"reputation":21,"user_id":18245738,"display_name":"koha26"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2601,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645204030,"creation_date":1645204030,"question_id":71177326,"body_markdown":"I am working on the Intellij IDEA plugin. I have the following setup for project:\r\n\r\n - Gradle: 7.3.3 \r\n - Kotlin: 1.6.10\r\n - Java: 11\r\n\r\nI faced a case when the **Kotlinx-Kover** (https://github.com/Kotlin/kotlinx-kover) report doesn&#39;t have coverage for some files/classes. However, I have a test where functions from files/classes are used. I run a test with debug and functions were called. \r\n[Click here to see report][1]\r\n\r\nBy the way, I have a test in module A for class in module A, but the class function from module A calls a function from module B. As a result, the function from module B doesn&#39;t have coverage.\r\n\r\nBelow you can see an example of my build.gradle.kts.\r\n\r\n\r\n    plugins {\r\n      id(&quot;java&quot;)\r\n      id(&quot;org.jetbrains.kotlin.jvm&quot;) version &quot;1.6.10&quot;\r\n      id(&quot;org.jetbrains.intellij&quot;) version &quot;1.3.1&quot;\r\n      id(&quot;org.jetbrains.changelog&quot;) version &quot;1.3.1&quot;\r\n      id(&quot;io.gitlab.arturbosch.detekt&quot;) version &quot;1.19.0&quot;\r\n      id(&quot;org.jetbrains.kotlinx.kover&quot;) version &quot;0.5.0&quot;\r\n    }\r\n    \r\n    tasks.koverMergedHtmlReport {\r\n       isEnabled = true                       \r\n       htmlReportDir.set(layout.buildDirectory.dir(&quot;my-merged-report/html-result&quot;))\r\n       excludes = listOf(&quot;generated.psi.impl.*&quot;)\r\n    }\r\n        \r\n    kover {\r\n       isDisabled = false                      \r\n       coverageEngine.set(kotlinx.kover.api.CoverageEngine.INTELLIJ) \r\n       intellijEngineVersion.set(&quot;1.0.656&quot;)\r\n       jacocoEngineVersion.set(&quot;0.8.7&quot;)       \r\n       runAllTestsForProjectTask = true             \r\n    }\r\n\r\nI tried also the Jacoco plugin (0.8.7) for reporting, however, it showed less coverage than Kotlinx-Kover. I think because Kover takes into account Kotlin&#39;s features. Previously, this project works on lower versions of Kotlin, Gradle, Java, and Jacoco shows coverage ~ 78%. Now Jacoco shows 45%, Kover - 53%, but the amount of code has not changed.\r\n\r\nI think there is some misconfiguration or I missed smth in the Gradle multi-module project configuration.\r\n\r\n**I don&#39;t know why functions don&#39;t have coverage if they are called in tests.** Please tell me what could be causing this problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oKPF6.png\r\n","title":"Gradle + Kotlin + Kotlin-Kover show wrong coverage for multi-module project","body":"<p>I am working on the Intellij IDEA plugin. I have the following setup for project:</p>\n<ul>\n<li>Gradle: 7.3.3</li>\n<li>Kotlin: 1.6.10</li>\n<li>Java: 11</li>\n</ul>\n<p>I faced a case when the <strong>Kotlinx-Kover</strong> (<a href=\"https://github.com/Kotlin/kotlinx-kover\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx-kover</a>) report doesn't have coverage for some files/classes. However, I have a test where functions from files/classes are used. I run a test with debug and functions were called.\n<a href=\"https://i.stack.imgur.com/oKPF6.png\" rel=\"nofollow noreferrer\">Click here to see report</a></p>\n<p>By the way, I have a test in module A for class in module A, but the class function from module A calls a function from module B. As a result, the function from module B doesn't have coverage.</p>\n<p>Below you can see an example of my build.gradle.kts.</p>\n<pre><code>plugins {\n  id(&quot;java&quot;)\n  id(&quot;org.jetbrains.kotlin.jvm&quot;) version &quot;1.6.10&quot;\n  id(&quot;org.jetbrains.intellij&quot;) version &quot;1.3.1&quot;\n  id(&quot;org.jetbrains.changelog&quot;) version &quot;1.3.1&quot;\n  id(&quot;io.gitlab.arturbosch.detekt&quot;) version &quot;1.19.0&quot;\n  id(&quot;org.jetbrains.kotlinx.kover&quot;) version &quot;0.5.0&quot;\n}\n\ntasks.koverMergedHtmlReport {\n   isEnabled = true                       \n   htmlReportDir.set(layout.buildDirectory.dir(&quot;my-merged-report/html-result&quot;))\n   excludes = listOf(&quot;generated.psi.impl.*&quot;)\n}\n    \nkover {\n   isDisabled = false                      \n   coverageEngine.set(kotlinx.kover.api.CoverageEngine.INTELLIJ) \n   intellijEngineVersion.set(&quot;1.0.656&quot;)\n   jacocoEngineVersion.set(&quot;0.8.7&quot;)       \n   runAllTestsForProjectTask = true             \n}\n</code></pre>\n<p>I tried also the Jacoco plugin (0.8.7) for reporting, however, it showed less coverage than Kotlinx-Kover. I think because Kover takes into account Kotlin's features. Previously, this project works on lower versions of Kotlin, Gradle, Java, and Jacoco shows coverage ~ 78%. Now Jacoco shows 45%, Kover - 53%, but the amount of code has not changed.</p>\n<p>I think there is some misconfiguration or I missed smth in the Gradle multi-module project configuration.</p>\n<p><strong>I don't know why functions don't have coverage if they are called in tests.</strong> Please tell me what could be causing this problem.</p>\n"},{"tags":["java","generics","lambda","type-inference","jls"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1645003694,"post_id":71139038,"comment_id":125752454,"body_markdown":"For this specific case, use `Stream.concat`?","body":"For this specific case, use <code>Stream.concat</code>?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1645003834,"post_id":71139038,"comment_id":125752512,"body_markdown":"I also don&#39;t know what you&#39;d expect here. Isn&#39;t the point that if you&#39;re looking to join the lists, you can&#39;t expect the `.map(list -&gt; list)` to cast to a common type other that `List&lt;?&gt;` (or `List&lt;? extends Serializable&gt;`), because `List&lt;String&gt;` and `List&lt;Integer&gt;` aren&#39;t related to, say, `List&lt;Object&gt;`. Does it do what you expect if you use `.map(ArrayList::new)`?","body":"I also don&#39;t know what you&#39;d expect here. Isn&#39;t the point that if you&#39;re looking to join the lists, you can&#39;t expect the <code>.map(list -&gt; list)</code> to cast to a common type other that <code>List&lt;?&gt;</code> (or <code>List&lt;? extends Serializable&gt;</code>), because <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code> aren&#39;t related to, say, <code>List&lt;Object&gt;</code>. Does it do what you expect if you use <code>.map(ArrayList::new)</code>?"},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1645004410,"post_id":71139038,"comment_id":125752746,"body_markdown":"The capture conversion is supposed to produce `List&lt;X&gt;` and `List&lt;Y&gt;` as the 2 distinct types - and then doing `List.addAll(Collection&lt;? extends E&gt; c)` should error out as X and Y are unrelated - But what I presume is that the above operation is converting both the lists to a single type List&lt;K&gt; and List&lt;K&gt; where K is the capture conversion of `? extends Serializable`.","body":"The capture conversion is supposed to produce <code>List&lt;X&gt;</code> and <code>List&lt;Y&gt;</code> as the 2 distinct types - and then doing <code>List.addAll(Collection&lt;? extends E&gt; c)</code> should error out as X and Y are unrelated - But what I presume is that the above operation is converting both the lists to a single type List&lt;K&gt; and List&lt;K&gt; where K is the capture conversion of <code>? extends Serializable</code>."},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":1,"creation_date":1645004554,"post_id":71139038,"comment_id":125752808,"body_markdown":"@AndyTurner : This process seems incorrect - as ideally X  and Y are unrelated and should not be converted to the same types.","body":"@AndyTurner : This process seems incorrect - as ideally X  and Y are unrelated and should not be converted to the same types."},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1645004674,"post_id":71139038,"comment_id":125752859,"body_markdown":"@AndyTurner : What I mean is that  `func(List&lt;?&gt;,List&lt;?&gt;)` will get capture converted to `func(List&lt;X&gt;, List&lt;Y&gt;)` and not `func(List&lt;K&gt;,List&lt;K&gt;)`","body":"@AndyTurner : What I mean is that  <code>func(List&lt;?&gt;,List&lt;?&gt;)</code> will get capture converted to <code>func(List&lt;X&gt;, List&lt;Y&gt;)</code> and not <code>func(List&lt;K&gt;,List&lt;K&gt;)</code>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1645005192,"post_id":71139038,"comment_id":125753090,"body_markdown":"I agree that for whatever `List&lt;? extends X&gt;` that the compiler determines, it shouldn’t accept to call `addAll()`. I’d be curious to understand why this compiles, especially considering that compilation fails if you remove the `map(list -&gt; list)`.","body":"I agree that for whatever <code>List&lt;? extends X&gt;</code> that the compiler determines, it shouldn’t accept to call <code>addAll()</code>. I’d be curious to understand why this compiles, especially considering that compilation fails if you remove the <code>map(list -&gt; list)</code>."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1645007461,"post_id":71139038,"comment_id":125754041,"body_markdown":"I tried to clarify the question a bit but although the general meaning seems clear, I’m not sure of exactly what you mean with “_applicable for only 1 execution […]_” and the rest of the sentence. (Maybe this question should reason about [covariance and contravariance](https://stackoverflow.com/q/8481301/525036)).","body":"I tried to clarify the question a bit but although the general meaning seems clear, I’m not sure of exactly what you mean with “<i>applicable for only 1 execution […]</i>” and the rest of the sentence. (Maybe this question should reason about <a href=\"https://stackoverflow.com/q/8481301/525036\">covariance and contravariance</a>)."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1645189671,"post_id":71139038,"comment_id":125811384,"body_markdown":"Side note, I did some more tests with Eclipse (ecj), which accepts this as well. Extracting the `map()` result to a local variable will cause a compilation failure with both javac and ecj, ever when using `var` (although IntelliJ will not show an error, make sure to trigger a compilation if using it). I also noticed that the Eclipse IDE itself generates an error when hovering `list1` or `list2` (shown in the _Error Log_ view).","body":"Side note, I did some more tests with Eclipse (ecj), which accepts this as well. Extracting the <code>map()</code> result to a local variable will cause a compilation failure with both javac and ecj, ever when using <code>var</code> (although IntelliJ will not show an error, make sure to trigger a compilation if using it). I also noticed that the Eclipse IDE itself generates an error when hovering <code>list1</code> or <code>list2</code> (shown in the <i>Error Log</i> view)."},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1645192687,"post_id":71139038,"comment_id":125812548,"body_markdown":"@DidierL : have elaborated my understanding on &quot;only 1 execution&quot;.","body":"@DidierL : have elaborated my understanding on &quot;only 1 execution&quot;."},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1645193272,"post_id":71139038,"comment_id":125812816,"body_markdown":"@AndyTurner: have tried to edit my question - am I able to make my point this time? My question is around the detailed algorithm being followed by compiler for Type Inference in this particular case.","body":"@AndyTurner: have tried to edit my question - am I able to make my point this time? My question is around the detailed algorithm being followed by compiler for Type Inference in this particular case."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1645203790,"post_id":71139038,"comment_id":125817203,"body_markdown":"Yep, your point is what is described in [What is a capture conversion in Java (…)?](https://stackoverflow.com/a/4432035/525036). Note that in this specific case the problem would be with the lambda implementing `BinaryOperator&lt;T&gt;`, where `T` is used as the type of the 2 arguments of the lambda. This means those arguments have the same bounds, which is I believe the crux of the issue: the compiler infers the same capture variable when it shouldn’t. I didn’t find a way to make it print the actual types when the compilation succeeds though.","body":"Yep, your point is what is described in <a href=\"https://stackoverflow.com/a/4432035/525036\">What is a capture conversion in Java (…)?</a>. Note that in this specific case the problem would be with the lambda implementing <code>BinaryOperator&lt;T&gt;</code>, where <code>T</code> is used as the type of the 2 arguments of the lambda. This means those arguments have the same bounds, which is I believe the crux of the issue: the compiler infers the same capture variable when it shouldn’t. I didn’t find a way to make it print the actual types when the compilation succeeds though."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1645609671,"post_id":71139038,"comment_id":125915167,"body_markdown":"I just add a kind of revelation during the night: if you implement a `class ListBinaryOperator&lt;T&gt; implements BinaryOperator&lt;List&lt;T&gt;&gt;` that does the same as the lambda, that class should compile, right? And then, what should prevent using it as `reduce(new ListBinaryOperator&lt;&gt;())` operation? However, why does the compiler still reject it without the `map()`?","body":"I just add a kind of revelation during the night: if you implement a <code>class ListBinaryOperator&lt;T&gt; implements BinaryOperator&lt;List&lt;T&gt;&gt;</code> that does the same as the lambda, that class should compile, right? And then, what should prevent using it as <code>reduce(new ListBinaryOperator&lt;&gt;())</code> operation? However, why does the compiler still reject it without the <code>map()</code>?"}],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1645203973,"creation_date":1645002997,"question_id":71139038,"body_markdown":"Consider the following snippet:\r\n```java\r\nStream.of(stringList, Arrays.asList(1))\r\n    .map(list -&gt; list)\r\n    .reduce((list1, list2) -&gt; {list1.addAll(list2); return list1;});\r\n```\r\n\r\nAs far as I can tell, this should not compile because the `Stream&lt;? extends List&lt;? extends Whatever&gt;&gt;` type being inferred after `map()` takes the **Capture Conversion** to a restricted type that is applicable for **only 1 execution** and when it reaches the `reduce()` function - it should change to different restricted types that are unrelated.\r\n\r\nCalling `list1.addAll(list2)` should thus not compile.\r\n\r\nI&#39;m not sure how the Type Inference rules internally work for this. I would like to understand the detailed steps regarding the inference procedure for this particular case.\r\n\r\nNote that it does not compile without the `map(list -&gt; list)`.\r\n\r\n---\r\n**Edit:** based on comments of @Didier L, I would like to clarify what I mean by `applicable for only 1 execution` in the above question based on my understanding-:\r\n* the capture conversion converts the wildcard to a **non-representable type** only for **one single expression evaluation**\r\n* even if the variable is same - but used somewhere else in the program - the type being assumed for the next time will be different from what it was assumed before.\r\n* if this is loop - then the capture conversion runs only for the scope of the loop - and should not escape out of the loop.\r\nConsider this code:\r\n```java\r\nList&lt;String&gt; stringLists = new ArrayList&lt;&gt;();\r\nList&lt;?&gt; list = stringLists;\r\nlist.add(list.get(9)); // this will fail\r\n```\r\n* here `list.get(9)` will be capture converted to the type `X`\r\n* but the `list.add(...)` may have the type `Y` - as assumed by another capture conversion of `&lt;?&gt;` by the compiler\r\n* so the addition of `X` to type `Y` is not allowed because of above restriction.","title":"Shouldn’t this type inference fail to compile?","body":"<p>Consider the following snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(stringList, Arrays.asList(1))\n    .map(list -&gt; list)\n    .reduce((list1, list2) -&gt; {list1.addAll(list2); return list1;});\n</code></pre>\n<p>As far as I can tell, this should not compile because the <code>Stream&lt;? extends List&lt;? extends Whatever&gt;&gt;</code> type being inferred after <code>map()</code> takes the <strong>Capture Conversion</strong> to a restricted type that is applicable for <strong>only 1 execution</strong> and when it reaches the <code>reduce()</code> function - it should change to different restricted types that are unrelated.</p>\n<p>Calling <code>list1.addAll(list2)</code> should thus not compile.</p>\n<p>I'm not sure how the Type Inference rules internally work for this. I would like to understand the detailed steps regarding the inference procedure for this particular case.</p>\n<p>Note that it does not compile without the <code>map(list -&gt; list)</code>.</p>\n<hr />\n<p><strong>Edit:</strong> based on comments of @Didier L, I would like to clarify what I mean by <code>applicable for only 1 execution</code> in the above question based on my understanding-:</p>\n<ul>\n<li>the capture conversion converts the wildcard to a <strong>non-representable type</strong> only for <strong>one single expression evaluation</strong></li>\n<li>even if the variable is same - but used somewhere else in the program - the type being assumed for the next time will be different from what it was assumed before.</li>\n<li>if this is loop - then the capture conversion runs only for the scope of the loop - and should not escape out of the loop.\nConsider this code:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; stringLists = new ArrayList&lt;&gt;();\nList&lt;?&gt; list = stringLists;\nlist.add(list.get(9)); // this will fail\n</code></pre>\n<ul>\n<li>here <code>list.get(9)</code> will be capture converted to the type <code>X</code></li>\n<li>but the <code>list.add(...)</code> may have the type <code>Y</code> - as assumed by another capture conversion of <code>&lt;?&gt;</code> by the compiler</li>\n<li>so the addition of <code>X</code> to type <code>Y</code> is not allowed because of above restriction.</li>\n</ul>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1645202178,"post_id":71176894,"comment_id":125816588,"body_markdown":"You should post the entire stack trace error message with your question. Also, a decent [mre] would help folks to better understand your code and your problem. Please read the link which will explain what this is and how it can help, and why you want to create one. Please comment back if anything in the link is confusing. Also, search *your own code* to see if it throws this exception somewhere that you&#39;re missing.","body":"You should post the entire stack trace error message with your question. Also, a decent <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would help folks to better understand your code and your problem. Please read the link which will explain what this is and how it can help, and why you want to create one. Please comment back if anything in the link is confusing. Also, search <i>your own code</i> to see if it throws this exception somewhere that you&#39;re missing."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1645202392,"post_id":71176894,"comment_id":125816664,"body_markdown":"`phoneContact = (List&lt;PhoneContact&gt;) inputStream.readObject();`. That may be an immutable list, as returned by `List.of` or `Collections.emptyList`.","body":"<code>phoneContact = (List&lt;PhoneContact&gt;) inputStream.readObject();</code>. That may be an immutable list, as returned by <code>List.of</code> or <code>Collections.emptyList</code>."}],"answers":[{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645203642,"creation_date":1645203642,"answer_id":71177257,"question_id":71176894,"body_markdown":"You get an UnsupportedOperationException most probably because you are operating on a **read only list**.\r\n\r\nThere are several ways to create a read only list, among others:\r\n\r\n- Arrays.asList\r\n- Collections.unmodifiableList\r\n- List.of \r\n- List.copyOf \r\n\r\nUnfortunately, given a `List&lt;T&gt;`, you have no way to know whether it&#39;s read only unless you effectively try to add, remove or modify an element.\r\nThe standard library of Java doesn&#39;t provide any idiomatic and reliable way, and it&#39;s actually very sad.\r\n\r\nIF you can do it, the best way to generally handle all situations is to always use a known List implementation in your class, such as ArrayList or LinkedList.\r\nIN setters, copy elements into your list rather than blindly replace a List reference coming from outside, and in getters, always return a preferably unmodifiable copy of the list when requested from outside. Short example:\r\n\r\n    public class MyObject {\r\n      private List&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n      \r\n      public void setItems (List&lt;String&gt; newItems) {\r\n        // Bad: items = newItems;\r\n        items.clear();\r\n        items.addAll(newItems);\r\n      }\r\n      \r\n      public List&lt;String&gt; getItems () {\r\n        return Collections.unmodifiableList(items);\r\n        // good alternative: return List.copyOf(items);\r\n        // bad: return items\r\n      }\r\n    \r\n    }\r\n","title":"Cant figure out whats causing unsupportedOperationException Exception","body":"<p>You get an UnsupportedOperationException most probably because you are operating on a <strong>read only list</strong>.</p>\n<p>There are several ways to create a read only list, among others:</p>\n<ul>\n<li>Arrays.asList</li>\n<li>Collections.unmodifiableList</li>\n<li>List.of</li>\n<li>List.copyOf</li>\n</ul>\n<p>Unfortunately, given a <code>List&lt;T&gt;</code>, you have no way to know whether it's read only unless you effectively try to add, remove or modify an element.\nThe standard library of Java doesn't provide any idiomatic and reliable way, and it's actually very sad.</p>\n<p>IF you can do it, the best way to generally handle all situations is to always use a known List implementation in your class, such as ArrayList or LinkedList.\nIN setters, copy elements into your list rather than blindly replace a List reference coming from outside, and in getters, always return a preferably unmodifiable copy of the list when requested from outside. Short example:</p>\n<pre><code>public class MyObject {\n  private List&lt;String&gt; items = new ArrayList&lt;&gt;();\n  \n  public void setItems (List&lt;String&gt; newItems) {\n    // Bad: items = newItems;\n    items.clear();\n    items.addAll(newItems);\n  }\n  \n  public List&lt;String&gt; getItems () {\n    return Collections.unmodifiableList(items);\n    // good alternative: return List.copyOf(items);\n    // bad: return items\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20279429,"reputation":1,"user_id":14873584,"display_name":"XL-R8"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645203642,"creation_date":1645202031,"question_id":71176894,"body_markdown":"its interesting because when i use the ```editcontact()``` method in ```main``` its perfectly fine but if i use it in Junit testing it throws the exception and i don&#39;t really know why.\r\n```@Test\r\n    public void editContact() throws IOException {\r\n        File file = new File(&quot;src/test/test.txt&quot;);\r\n\r\n        if (!file.exists())\r\n            throw new FileNotFoundException(&quot;Failed To find a file named test.txt in Test Read/Write Test Case&quot;);\r\n\r\n        PhoneContact temp = new PhoneContact(&quot;Giorgi&quot;, &quot;Gagnidze&quot;, &quot;9999&quot;, &quot;test@mail.ru&quot;);\r\n\r\n        main.editContact(&quot;111&quot;, temp, file);\r\n\r\n        List&lt;PhoneContact&gt; retrieved = dao.getData(file);\r\n\r\n        assert (retrieved.contains(temp));\r\n\r\n        for (var objects : retrieved)\r\n            assert (objects.equals(testObjects.get(0)));\r\n    }\r\n```\r\nwhen i run this test i get the exception and the line causing it is\r\n```\r\nmain.editContact(&quot;111&quot;, temp, file);\r\n```\r\nheres the editcontact method in main\r\n```\r\npublic void editContact(String mobile, PhoneContact newContact, File file) {\r\n        Data data = new Data();\r\n        List&lt;PhoneContact&gt; phoneContact = data.getData(file);\r\n        int index = 0;\r\n        PhoneContact toEdit = StaticMainMethods.viewContact(mobile,file);\r\n        for (PhoneContact i1 : phoneContact){\r\n            if (i1.getPhoneNumber().equalsIgnoreCase(newContact.getPhoneNumber()) &amp;&amp; !newContact.getPhoneNumber().equalsIgnoreCase(mobile) || i1.getEmail().equalsIgnoreCase(newContact.getEmail()) &amp;&amp; !i1.getEmail().equalsIgnoreCase(toEdit.getEmail())){\r\n                System.out.println(&quot;Contact with similar number or email already exists&quot;);\r\n                return;\r\n            }\r\n        }\r\n        for (PhoneContact i : phoneContact) {\r\n            if (i.getPhoneNumber().equalsIgnoreCase(mobile)) {\r\n                phoneContact.set(index, newContact);\r\n                System.out.println(&quot;Edited contact&quot;);\r\n                data.saveData(phoneContact, file);\r\n                return;\r\n            }\r\n            index++;\r\n        }\r\n        System.out.println(&quot;Couldn&#39;t find the contact&quot;);\r\n```\r\nheres getData method\r\n```\r\npublic List&lt;PhoneContact&gt; getData(File file) {\r\n        List&lt;PhoneContact&gt; phoneContact = new ArrayList&lt;&gt;();\r\n        try {\r\n            ObjectInputStream inputStream = new ObjectInputStream(new FileInputStream(file));\r\n            phoneContact = (List&lt;PhoneContact&gt;) inputStream.readObject();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return phoneContact;\r\n    }\r\n```\r\ni&#39;ve already read that asList() could cause the issue but that method is never used anywhere.","title":"Cant figure out whats causing unsupportedOperationException Exception","body":"<p>its interesting because when i use the <code>editcontact()</code> method in <code>main</code> its perfectly fine but if i use it in Junit testing it throws the exception and i don't really know why.</p>\n<pre><code>    public void editContact() throws IOException {\n        File file = new File(&quot;src/test/test.txt&quot;);\n\n        if (!file.exists())\n            throw new FileNotFoundException(&quot;Failed To find a file named test.txt in Test Read/Write Test Case&quot;);\n\n        PhoneContact temp = new PhoneContact(&quot;Giorgi&quot;, &quot;Gagnidze&quot;, &quot;9999&quot;, &quot;test@mail.ru&quot;);\n\n        main.editContact(&quot;111&quot;, temp, file);\n\n        List&lt;PhoneContact&gt; retrieved = dao.getData(file);\n\n        assert (retrieved.contains(temp));\n\n        for (var objects : retrieved)\n            assert (objects.equals(testObjects.get(0)));\n    }\n</code></pre>\n<p>when i run this test i get the exception and the line causing it is</p>\n<pre><code>main.editContact(&quot;111&quot;, temp, file);\n</code></pre>\n<p>heres the editcontact method in main</p>\n<pre><code>public void editContact(String mobile, PhoneContact newContact, File file) {\n        Data data = new Data();\n        List&lt;PhoneContact&gt; phoneContact = data.getData(file);\n        int index = 0;\n        PhoneContact toEdit = StaticMainMethods.viewContact(mobile,file);\n        for (PhoneContact i1 : phoneContact){\n            if (i1.getPhoneNumber().equalsIgnoreCase(newContact.getPhoneNumber()) &amp;&amp; !newContact.getPhoneNumber().equalsIgnoreCase(mobile) || i1.getEmail().equalsIgnoreCase(newContact.getEmail()) &amp;&amp; !i1.getEmail().equalsIgnoreCase(toEdit.getEmail())){\n                System.out.println(&quot;Contact with similar number or email already exists&quot;);\n                return;\n            }\n        }\n        for (PhoneContact i : phoneContact) {\n            if (i.getPhoneNumber().equalsIgnoreCase(mobile)) {\n                phoneContact.set(index, newContact);\n                System.out.println(&quot;Edited contact&quot;);\n                data.saveData(phoneContact, file);\n                return;\n            }\n            index++;\n        }\n        System.out.println(&quot;Couldn't find the contact&quot;);\n</code></pre>\n<p>heres getData method</p>\n<pre><code>public List&lt;PhoneContact&gt; getData(File file) {\n        List&lt;PhoneContact&gt; phoneContact = new ArrayList&lt;&gt;();\n        try {\n            ObjectInputStream inputStream = new ObjectInputStream(new FileInputStream(file));\n            phoneContact = (List&lt;PhoneContact&gt;) inputStream.readObject();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n        return phoneContact;\n    }\n</code></pre>\n<p>i've already read that asList() could cause the issue but that method is never used anywhere.</p>\n"},{"tags":["java","sqlite","tomcat","jdbc"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1599420267,"post_id":63767997,"comment_id":112762966,"body_markdown":"What happens when you replace `connection = ds.getConnection();` with `connection = DriverManager.getConnection(&quot;jdbc:sqlite:rooms.db&quot;);`? It should work provided the `WEB-INF/lib` has the driver jar.","body":"What happens when you replace <code>connection = ds.getConnection();</code> with <code>connection = DriverManager.getConnection(&quot;jdbc:sqlite:rooms.db&quot;);</code>? It should work provided the <code>WEB-INF&#47;lib</code> has the driver jar."},{"owner":{"account_id":10942924,"reputation":27,"user_id":8359786,"display_name":"YuliyaD"},"score":0,"creation_date":1599427477,"post_id":63767997,"comment_id":112764733,"body_markdown":"The jar was in WEB-INF/lib folder and still it gives me the same exception. I also put sqilte jar directly into tomcat/lib folder, but still the same message about not found \\temp\\... folder","body":"The jar was in WEB-INF/lib folder and still it gives me the same exception. I also put sqilte jar directly into tomcat/lib folder, but still the same message about not found \\temp\\... folder"}],"answers":[{"tags":[],"owner":{"account_id":17213890,"reputation":1600,"user_id":12462444,"display_name":"andreoss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599420502,"creation_date":1599420502,"answer_id":63768108,"question_id":63767997,"body_markdown":"More likely you are missing the native libraries, which are required by `sqlite-jdbc`. \r\n\r\nhttps://github.com/xerial/sqlite-jdbc/blob/master/src/main/java/org/sqlite/SQLiteJDBCLoader.java#L305\r\n\r\nTry to provide `org.sqlite.lib.path` property to jvm pointing to location of sqlite shared libraries. ","title":"How to access SQLite database in Tomcat using JDBC? UnsatisfiedLinkError thrown","body":"<p>More likely you are missing the native libraries, which are required by <code>sqlite-jdbc</code>.</p>\n<p><a href=\"https://github.com/xerial/sqlite-jdbc/blob/master/src/main/java/org/sqlite/SQLiteJDBCLoader.java#L305\" rel=\"nofollow noreferrer\">https://github.com/xerial/sqlite-jdbc/blob/master/src/main/java/org/sqlite/SQLiteJDBCLoader.java#L305</a></p>\n<p>Try to provide <code>org.sqlite.lib.path</code> property to jvm pointing to location of sqlite shared libraries.</p>\n"},{"tags":[],"owner":{"account_id":8319482,"reputation":11,"user_id":7916482,"display_name":"Saad Jareer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645203467,"creation_date":1645203467,"answer_id":71177226,"question_id":63767997,"body_markdown":"SQLite will create a DB file when the connection is created at the IDE root folder, To handle this and point to your targeted DB, Just use its full path, Here are the steps:\r\n\r\n 1. Put the sqlite-jdbc jar file in **Tomcat\\lib** folder \r\n 2. Put your database file [MyDB.db OR MyDB.sqlite] in **Tomcat\\lib** folder or create another folder &quot;db&quot; and point to it using its full path while creating the **Connection** object.\r\n\r\n","title":"How to access SQLite database in Tomcat using JDBC? UnsatisfiedLinkError thrown","body":"<p>SQLite will create a DB file when the connection is created at the IDE root folder, To handle this and point to your targeted DB, Just use its full path, Here are the steps:</p>\n<ol>\n<li>Put the sqlite-jdbc jar file in <strong>Tomcat\\lib</strong> folder</li>\n<li>Put your database file [MyDB.db OR MyDB.sqlite] in <strong>Tomcat\\lib</strong> folder or create another folder &quot;db&quot; and point to it using its full path while creating the <strong>Connection</strong> object.</li>\n</ol>\n"}],"owner":{"account_id":10942924,"reputation":27,"user_id":8359786,"display_name":"YuliyaD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645203467,"creation_date":1599419724,"question_id":63767997,"body_markdown":"I&#39;m developing web Java application with Servlet, JSP, JSTL technologies. I use SQLite3 database, develop in IntelliJ Idea IDE, compile project with Maven and test in Tomcat 9.0.\r\n\r\nI can access SQLite database directly (using command line and sqlite3 downloaded library: [screenshot][1]).\r\n\r\nI also can access SQLite database via JDBC as a plain JavaSE application when I run it in intellij idea: [screenshot][2].\r\n\r\nBut when I start my web project on Tomcat, on the web page ServletException is thrown cased by UnsatisfiedLinkError:\r\n\r\n```\r\nHTTP Status 500 – Internal Server Error\r\nType Exception Report\r\n\r\nMessage Servlet execution threw an exception\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njavax.servlet.ServletException: Servlet execution threw an exception\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\nRoot Cause\r\n\r\njava.lang.UnsatisfiedLinkError: &#39;void org.sqlite.core.NativeDB._open_utf8(byte[], int)&#39;\r\n\torg.sqlite.core.NativeDB._open_utf8(Native Method)\r\n\torg.sqlite.core.NativeDB._open(NativeDB.java:71)\r\n\torg.sqlite.core.DB.open(DB.java:174)\r\n\torg.sqlite.core.CoreConnection.open(CoreConnection.java:220)\r\n\torg.sqlite.core.CoreConnection.&lt;init&gt;(CoreConnection.java:76)\r\n\torg.sqlite.jdbc3.JDBC3Connection.&lt;init&gt;(JDBC3Connection.java:25)\r\n\torg.sqlite.jdbc4.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:24)\r\n\torg.sqlite.SQLiteConnection.&lt;init&gt;(SQLiteConnection.java:45)\r\n\torg.sqlite.JDBC.createConnection(JDBC.java:114)\r\n\torg.sqlite.JDBC.connect(JDBC.java:88)\r\n\torg.apache.tomcat.dbcp.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:53)\r\n\torg.apache.tomcat.dbcp.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:355)\r\n\torg.apache.tomcat.dbcp.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:116)\r\n\torg.apache.tomcat.dbcp.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:731)\r\n\torg.apache.tomcat.dbcp.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:605)\r\n\torg.apache.tomcat.dbcp.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:809)\r\n\tmodel.DAO.getRooms(DAO.java:29)\r\n\tservlets.HomepageServlet.doGet(HomepageServlet.java:55)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\nNote The full stack trace of the root cause is available in the server logs.\r\n```\r\nIn a tomcat&#39;s startup.bat command line window I see this:\r\n\r\n```\r\n06-Sep-2020 21:11:37.875 INFO [http-nio-8080-exec-32] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/testProject_war_exploded] has started\r\n06-Sep-2020 21:11:38.352 INFO [http-nio-8080-exec-32] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n06-Sep-2020 21:11:38.375 INFO [http-nio-8080-exec-32] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/testProject_war_exploded] is completed\r\nC:\\Dropbox\\apache-tomcat-9.0.22\\temp\\sqlite-3.21.0.1-02fa308c-7c4d-4cfb-93cb-3e46dbaa56a1-sqlitejdbc.dll.lck (Системе не удается найти указанный путь)\r\n```\r\n(System cannot find the path specified)\r\n\r\nThis is the method which throws an exception:\r\n```\r\npackage model;\r\n\r\nimport org.apache.log4j.Logger;\r\n\r\nimport javax.naming.Context;\r\nimport javax.naming.InitialContext;\r\nimport javax.naming.NamingException;\r\nimport javax.sql.DataSource;\r\nimport java.sql.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class DAO {\r\n    private final Logger log = Logger.getLogger(this.getClass());\r\n    private final String driverName = &quot;org.sqlite.JDBC&quot;;\r\n\r\n    public List&lt;Room&gt; getRooms() {\r\n        List&lt;Room&gt; rooms = new ArrayList&lt;Room&gt;();\r\n        Connection connection = null;\r\n        try {\r\n            Class.forName(driverName);\r\n            Context ctx = new InitialContext();\r\n            DataSource ds = (DataSource)ctx.lookup(&quot;java:comp/env/jdbc/rooms&quot;);\r\n            connection = ds.getConnection();\r\n        } catch (ClassNotFoundException e) {\r\n            log.debug(&quot;Can&#39;t get class. No driver found&quot;);\r\n            e.printStackTrace();\r\n        } catch (SQLException e) {\r\n            log.debug(&quot;Can&#39;t get connection. Incorrect URL&quot;);\r\n            e.printStackTrace();\r\n        } catch (NamingException e) {\r\n            log.debug(&quot;Can&#39;t get Context or Datasource&quot;);\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            log.debug(&quot;Some other exception&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            String sql = &quot;SELECT * FROM room&quot;;\r\n            Statement statement = connection.createStatement();\r\n            ResultSet rs = statement.executeQuery(sql);\r\n            Room room;\r\n            while (rs.next()) {\r\n                room = new Room();\r\n                room.setName(rs.getString(&quot;name&quot;));\r\n                room.setCountryCode(rs.getString(&quot;country_code&quot;));\r\n                room.setLightOn(rs.getInt(&quot;light_status&quot;));\r\n                rooms.add(room);\r\n                log.debug(room.getName() + &quot; &quot; + room.getCountryCode() + &quot;&quot; + room.isLightOn());\r\n            }\r\n        } catch (SQLException e) {\r\n            log.debug(&quot;SQL Exception thrown during select statement&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            connection.close();\r\n        } catch (SQLException e) {\r\n            log.debug(&quot;Can&#39;t close connection&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        return rooms;\r\n    }\r\n}\r\n```\r\nPrecisely this row is written in Servlet&#39;s exception as : model.DAO.getRooms(DAO.java:28)\r\n```\r\nconnection = ds.getConnection();\r\n```\r\nHowever this code I used for SQLite access check without Tomcat works fine.\r\nSo it makes me think it&#39;s completely on &quot;tomcat side&quot;\r\n```\r\nimport model.Room;\r\nimport org.apache.log4j.Logger;\r\n\r\nimport java.sql.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    private final Logger log = Logger.getLogger(this.getClass());\r\n    private final String driverName = &quot;org.sqlite.JDBC&quot;;\r\n    private final String connectionString = &quot;jdbc:sqlite:rooms.db&quot;;\r\n\r\n    public void run() {\r\n        List&lt;Room&gt; rooms = new ArrayList&lt;Room&gt;();\r\n        Connection connection = null;\r\n        try {\r\n            Class.forName(driverName);\r\n            connection = DriverManager.getConnection(connectionString);\r\n        } catch (ClassNotFoundException e) {\r\n            log.debug(&quot;Can&#39;t get class. No driver found&quot;);\r\n            e.printStackTrace();\r\n        } catch (SQLException e) {\r\n            log.debug(&quot;Can&#39;t get connection. Incorrect URL&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            String sql = &quot;SELECT * FROM room&quot;;\r\n            Statement statement = connection.createStatement();\r\n            ResultSet rs = statement.executeQuery(sql);\r\n            Room room;\r\n            while (rs.next()) {\r\n                room = new Room();\r\n                room.setName(rs.getString(&quot;name&quot;));\r\n                room.setCountryCode(rs.getString(&quot;country_code&quot;));\r\n                room.setLightOn(rs.getInt(&quot;light_status&quot;));\r\n                rooms.add(room);\r\n                System.out.println(room.getName() + &quot; &quot; + room.getCountryCode() + &quot; &quot; + room.isLightOn());\r\n            }\r\n        } catch (SQLException e) {\r\n            log.debug(&quot;SQL Exception thrown during select statement&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            connection.close();\r\n        } catch (SQLException e) {\r\n            log.debug(&quot;Can&#39;t close connection&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        Main app = new Main();\r\n        app.run();\r\n    }\r\n}\r\n```\r\nIn order for Tomcat to find my database I created resource-ref in web.xml\r\n```\r\n    &lt;resource-ref&gt;\r\n        &lt;description&gt;Rooms Database&lt;/description&gt;\r\n        &lt;res-ref-name&gt;jdbc/rooms&lt;/res-ref-name&gt;\r\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n    &lt;/resource-ref&gt;\r\n```\r\nAnd also added Context tag into tomcat-dir\\conf\\Catalina\\localhost\\testProject_war_exploded.xml\r\nwhere testProject_war_exploded is the name of my app.\r\n```\r\n&lt;Context reloadable=&quot;true&quot; antiJARLocking=&quot;true&quot; path=&quot;/&quot; docBase=&quot;C:\\Users\\nativ\\IdeaProjects\\testProject\\out\\artifacts\\testProject_war_exploded\\&quot;&gt;\r\n\t&lt;Resource name=&quot;jdbc/rooms&quot;\r\n\t  auth=&quot;Container&quot;\r\n\t  type=&quot;javax.sql.DataSource&quot;\r\n\t  driverClassName=&quot;org.sqlite.JDBC&quot;\r\n\t  url=&quot;jdbc:sqlite:rooms.db&quot;&gt;\r\n    &lt;/Resource&gt;\r\n&lt;/Context&gt;\r\n```\r\nI also tried instead creating context.xml with the same Context tag into /META-INF/context.xml with the same code.\r\n\r\nOr I tried adding Context tag into GlobalNamingResources tag in tomcat-dir/conf/server.xml - which is not recommended, I know, but still no result.\r\n\r\nI am sure tomcat finds that rooms.db file because if I change path - I get SQLException and a &quot;Can&#39;t get connection. Incorrect URL&quot; written into my log file.\r\n\r\nI am sure tomcat load sqlite3 jar library because we have exception thrown from org.sqlite.core package.\r\n\r\nAlthough I am confused why I have no record in my log file from this getRooms() method if I catch any Exception. But if I catch (Throwable), then I have a log file record - that means an Error is thrown.\r\n\r\nIn SQLite documentation I found [a variable][3] to tell sqlite whether to use temp folder or memory.\r\nI can change it [via command line][4], but Tomcat uses sqlite3 jar library to open my database.\r\nShould I change something in that jar? I have no idea why sqlite3 in tomcat tries to access this /temp/... folder.\r\n\r\n[This is][5] my web project structure which idea creates in \\out directory.\r\n\r\nThis is my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testProject&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n        &lt;junit.jupiter.version&gt;5.6.2&lt;/junit.jupiter.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/jstl/jstl --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- API for countries&#39; names and codes list --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.neovisionaries&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nv-i18n&lt;/artifactId&gt;\r\n            &lt;version&gt;1.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;geoip2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;3.21.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;nonFilteredFileExtensions&gt;\r\n                        &lt;nonFilteredFileExtension&gt;exe&lt;/nonFilteredFileExtension&gt;\r\n                    &lt;/nonFilteredFileExtensions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd Servlet class that handles index page.\r\n```\r\npackage servlets;\r\n\r\nimport com.maxmind.geoip2.record.Country;\r\nimport com.neovisionaries.i18n.CountryCode;\r\n\r\nimport controller.LocationHelper;\r\nimport model.DAO;\r\nimport model.Room;\r\nimport org.apache.log4j.Logger;\r\n\r\n\r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.util.*;\r\n\r\npublic class HomepageServlet extends HttpServlet {\r\n    private LocationHelper locationHelper = new LocationHelper();\r\n    private DAO dao = new DAO();\r\n    private final Logger log = Logger.getLogger(this.getClass());\r\n\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        String roomName = request.getParameter(&quot;roomName&quot;);\r\n        log.debug(&quot;roomName = &quot; + roomName);\r\n\r\n        String selectedCountry = request.getParameter(&quot;countryList&quot;);\r\n        log.debug(&quot;selectedCountry = &quot; + selectedCountry);\r\n\r\n        doGet(request, response);\r\n    }\r\n\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        RequestDispatcher requestDispatcher = request.getRequestDispatcher(&quot;index.jsp&quot;);\r\n\r\n        String ipStr = LocationHelper.getClientIpAddr(request);\r\n        request.setAttribute(&quot;ipAddress&quot;, ipStr);\r\n\r\n        String countryStr = &quot;not determined&quot;;\r\n        String countrycode = &quot;no code&quot;;\r\n        Country country = locationHelper.getCountry(getServletContext());\r\n        if (country != null) {\r\n            countryStr = country.getName();\r\n            countrycode = country.getIsoCode();\r\n        }\r\n\r\n        request.setAttribute(&quot;country&quot;, countryStr);\r\n        request.setAttribute(&quot;code&quot;, countrycode);\r\n\r\n        List&lt;String&gt; countries = getSortedCountriesList();\r\n        request.setAttribute(&quot;countriesList&quot;, countries);\r\n\r\n        List&lt;Room&gt; rooms = dao.getRooms();\r\n        request.setAttribute(&quot;roomsList&quot;, rooms);\r\n\r\n        requestDispatcher.forward(request, response);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @return Sorted countries list to be shown in a dropdown list.\r\n     */\r\n    private List&lt;String&gt; getSortedCountriesList() {\r\n        List&lt;String&gt; countriesList = new ArrayList&lt;&gt;();\r\n        for (CountryCode code : CountryCode.values()) {\r\n            countriesList.add(code.getName());\r\n        }\r\n\r\n        Collections.sort(countriesList, (s1, s2) -&gt; s1.compareToIgnoreCase(s2));\r\n        return countriesList;\r\n    }\r\n\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/rBS9S.png\r\n  [2]: https://i.stack.imgur.com/Y7iN1.png\r\n  [3]: https://sqlite.org/pragma.html#pragma_temp_store\r\n  [4]: https://i.stack.imgur.com/oiZWH.png\r\n  [5]: https://i.stack.imgur.com/8xQAi.png","title":"How to access SQLite database in Tomcat using JDBC? UnsatisfiedLinkError thrown","body":"<p>I'm developing web Java application with Servlet, JSP, JSTL technologies. I use SQLite3 database, develop in IntelliJ Idea IDE, compile project with Maven and test in Tomcat 9.0.</p>\n<p>I can access SQLite database directly (using command line and sqlite3 downloaded library: <a href=\"https://i.stack.imgur.com/rBS9S.png\" rel=\"nofollow noreferrer\">screenshot</a>).</p>\n<p>I also can access SQLite database via JDBC as a plain JavaSE application when I run it in intellij idea: <a href=\"https://i.stack.imgur.com/Y7iN1.png\" rel=\"nofollow noreferrer\">screenshot</a>.</p>\n<p>But when I start my web project on Tomcat, on the web page ServletException is thrown cased by UnsatisfiedLinkError:</p>\n<pre><code>HTTP Status 500 – Internal Server Error\nType Exception Report\n\nMessage Servlet execution threw an exception\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njavax.servlet.ServletException: Servlet execution threw an exception\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nRoot Cause\n\njava.lang.UnsatisfiedLinkError: 'void org.sqlite.core.NativeDB._open_utf8(byte[], int)'\n    org.sqlite.core.NativeDB._open_utf8(Native Method)\n    org.sqlite.core.NativeDB._open(NativeDB.java:71)\n    org.sqlite.core.DB.open(DB.java:174)\n    org.sqlite.core.CoreConnection.open(CoreConnection.java:220)\n    org.sqlite.core.CoreConnection.&lt;init&gt;(CoreConnection.java:76)\n    org.sqlite.jdbc3.JDBC3Connection.&lt;init&gt;(JDBC3Connection.java:25)\n    org.sqlite.jdbc4.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:24)\n    org.sqlite.SQLiteConnection.&lt;init&gt;(SQLiteConnection.java:45)\n    org.sqlite.JDBC.createConnection(JDBC.java:114)\n    org.sqlite.JDBC.connect(JDBC.java:88)\n    org.apache.tomcat.dbcp.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:53)\n    org.apache.tomcat.dbcp.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:355)\n    org.apache.tomcat.dbcp.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:116)\n    org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:731)\n    org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:605)\n    org.apache.tomcat.dbcp.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:809)\n    model.DAO.getRooms(DAO.java:29)\n    servlets.HomepageServlet.doGet(HomepageServlet.java:55)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nNote The full stack trace of the root cause is available in the server logs.\n</code></pre>\n<p>In a tomcat's startup.bat command line window I see this:</p>\n<pre><code>06-Sep-2020 21:11:37.875 INFO [http-nio-8080-exec-32] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/testProject_war_exploded] has started\n06-Sep-2020 21:11:38.352 INFO [http-nio-8080-exec-32] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n06-Sep-2020 21:11:38.375 INFO [http-nio-8080-exec-32] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/testProject_war_exploded] is completed\nC:\\Dropbox\\apache-tomcat-9.0.22\\temp\\sqlite-3.21.0.1-02fa308c-7c4d-4cfb-93cb-3e46dbaa56a1-sqlitejdbc.dll.lck (Системе не удается найти указанный путь)\n</code></pre>\n<p>(System cannot find the path specified)</p>\n<p>This is the method which throws an exception:</p>\n<pre><code>package model;\n\nimport org.apache.log4j.Logger;\n\nimport javax.naming.Context;\nimport javax.naming.InitialContext;\nimport javax.naming.NamingException;\nimport javax.sql.DataSource;\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class DAO {\n    private final Logger log = Logger.getLogger(this.getClass());\n    private final String driverName = &quot;org.sqlite.JDBC&quot;;\n\n    public List&lt;Room&gt; getRooms() {\n        List&lt;Room&gt; rooms = new ArrayList&lt;Room&gt;();\n        Connection connection = null;\n        try {\n            Class.forName(driverName);\n            Context ctx = new InitialContext();\n            DataSource ds = (DataSource)ctx.lookup(&quot;java:comp/env/jdbc/rooms&quot;);\n            connection = ds.getConnection();\n        } catch (ClassNotFoundException e) {\n            log.debug(&quot;Can't get class. No driver found&quot;);\n            e.printStackTrace();\n        } catch (SQLException e) {\n            log.debug(&quot;Can't get connection. Incorrect URL&quot;);\n            e.printStackTrace();\n        } catch (NamingException e) {\n            log.debug(&quot;Can't get Context or Datasource&quot;);\n            e.printStackTrace();\n        } catch (Exception e) {\n            log.debug(&quot;Some other exception&quot;);\n            e.printStackTrace();\n        }\n        try {\n            String sql = &quot;SELECT * FROM room&quot;;\n            Statement statement = connection.createStatement();\n            ResultSet rs = statement.executeQuery(sql);\n            Room room;\n            while (rs.next()) {\n                room = new Room();\n                room.setName(rs.getString(&quot;name&quot;));\n                room.setCountryCode(rs.getString(&quot;country_code&quot;));\n                room.setLightOn(rs.getInt(&quot;light_status&quot;));\n                rooms.add(room);\n                log.debug(room.getName() + &quot; &quot; + room.getCountryCode() + &quot;&quot; + room.isLightOn());\n            }\n        } catch (SQLException e) {\n            log.debug(&quot;SQL Exception thrown during select statement&quot;);\n            e.printStackTrace();\n        }\n        try {\n            connection.close();\n        } catch (SQLException e) {\n            log.debug(&quot;Can't close connection&quot;);\n            e.printStackTrace();\n        }\n        return rooms;\n    }\n}\n</code></pre>\n<p>Precisely this row is written in Servlet's exception as : model.DAO.getRooms(DAO.java:28)</p>\n<pre><code>connection = ds.getConnection();\n</code></pre>\n<p>However this code I used for SQLite access check without Tomcat works fine.\nSo it makes me think it's completely on &quot;tomcat side&quot;</p>\n<pre><code>import model.Room;\nimport org.apache.log4j.Logger;\n\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n    private final Logger log = Logger.getLogger(this.getClass());\n    private final String driverName = &quot;org.sqlite.JDBC&quot;;\n    private final String connectionString = &quot;jdbc:sqlite:rooms.db&quot;;\n\n    public void run() {\n        List&lt;Room&gt; rooms = new ArrayList&lt;Room&gt;();\n        Connection connection = null;\n        try {\n            Class.forName(driverName);\n            connection = DriverManager.getConnection(connectionString);\n        } catch (ClassNotFoundException e) {\n            log.debug(&quot;Can't get class. No driver found&quot;);\n            e.printStackTrace();\n        } catch (SQLException e) {\n            log.debug(&quot;Can't get connection. Incorrect URL&quot;);\n            e.printStackTrace();\n        }\n        try {\n            String sql = &quot;SELECT * FROM room&quot;;\n            Statement statement = connection.createStatement();\n            ResultSet rs = statement.executeQuery(sql);\n            Room room;\n            while (rs.next()) {\n                room = new Room();\n                room.setName(rs.getString(&quot;name&quot;));\n                room.setCountryCode(rs.getString(&quot;country_code&quot;));\n                room.setLightOn(rs.getInt(&quot;light_status&quot;));\n                rooms.add(room);\n                System.out.println(room.getName() + &quot; &quot; + room.getCountryCode() + &quot; &quot; + room.isLightOn());\n            }\n        } catch (SQLException e) {\n            log.debug(&quot;SQL Exception thrown during select statement&quot;);\n            e.printStackTrace();\n        }\n        try {\n            connection.close();\n        } catch (SQLException e) {\n            log.debug(&quot;Can't close connection&quot;);\n            e.printStackTrace();\n        }\n    }\n    public static void main(String[] args) {\n        Main app = new Main();\n        app.run();\n    }\n}\n</code></pre>\n<p>In order for Tomcat to find my database I created resource-ref in web.xml</p>\n<pre><code>    &lt;resource-ref&gt;\n        &lt;description&gt;Rooms Database&lt;/description&gt;\n        &lt;res-ref-name&gt;jdbc/rooms&lt;/res-ref-name&gt;\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\n    &lt;/resource-ref&gt;\n</code></pre>\n<p>And also added Context tag into tomcat-dir\\conf\\Catalina\\localhost\\testProject_war_exploded.xml\nwhere testProject_war_exploded is the name of my app.</p>\n<pre><code>&lt;Context reloadable=&quot;true&quot; antiJARLocking=&quot;true&quot; path=&quot;/&quot; docBase=&quot;C:\\Users\\nativ\\IdeaProjects\\testProject\\out\\artifacts\\testProject_war_exploded\\&quot;&gt;\n    &lt;Resource name=&quot;jdbc/rooms&quot;\n      auth=&quot;Container&quot;\n      type=&quot;javax.sql.DataSource&quot;\n      driverClassName=&quot;org.sqlite.JDBC&quot;\n      url=&quot;jdbc:sqlite:rooms.db&quot;&gt;\n    &lt;/Resource&gt;\n&lt;/Context&gt;\n</code></pre>\n<p>I also tried instead creating context.xml with the same Context tag into /META-INF/context.xml with the same code.</p>\n<p>Or I tried adding Context tag into GlobalNamingResources tag in tomcat-dir/conf/server.xml - which is not recommended, I know, but still no result.</p>\n<p>I am sure tomcat finds that rooms.db file because if I change path - I get SQLException and a &quot;Can't get connection. Incorrect URL&quot; written into my log file.</p>\n<p>I am sure tomcat load sqlite3 jar library because we have exception thrown from org.sqlite.core package.</p>\n<p>Although I am confused why I have no record in my log file from this getRooms() method if I catch any Exception. But if I catch (Throwable), then I have a log file record - that means an Error is thrown.</p>\n<p>In SQLite documentation I found <a href=\"https://sqlite.org/pragma.html#pragma_temp_store\" rel=\"nofollow noreferrer\">a variable</a> to tell sqlite whether to use temp folder or memory.\nI can change it <a href=\"https://i.stack.imgur.com/oiZWH.png\" rel=\"nofollow noreferrer\">via command line</a>, but Tomcat uses sqlite3 jar library to open my database.\nShould I change something in that jar? I have no idea why sqlite3 in tomcat tries to access this /temp/... folder.</p>\n<p><a href=\"https://i.stack.imgur.com/8xQAi.png\" rel=\"nofollow noreferrer\">This is</a> my web project structure which idea creates in \\out directory.</p>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;testProject&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n        &lt;junit.jupiter.version&gt;5.6.2&lt;/junit.jupiter.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/jstl/jstl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- API for countries' names and codes list --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.neovisionaries&lt;/groupId&gt;\n            &lt;artifactId&gt;nv-i18n&lt;/artifactId&gt;\n            &lt;version&gt;1.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\n            &lt;artifactId&gt;geoip2&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.21.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;nonFilteredFileExtensions&gt;\n                        &lt;nonFilteredFileExtension&gt;exe&lt;/nonFilteredFileExtension&gt;\n                    &lt;/nonFilteredFileExtensions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>And Servlet class that handles index page.</p>\n<pre><code>package servlets;\n\nimport com.maxmind.geoip2.record.Country;\nimport com.neovisionaries.i18n.CountryCode;\n\nimport controller.LocationHelper;\nimport model.DAO;\nimport model.Room;\nimport org.apache.log4j.Logger;\n\n\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.*;\n\npublic class HomepageServlet extends HttpServlet {\n    private LocationHelper locationHelper = new LocationHelper();\n    private DAO dao = new DAO();\n    private final Logger log = Logger.getLogger(this.getClass());\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        String roomName = request.getParameter(&quot;roomName&quot;);\n        log.debug(&quot;roomName = &quot; + roomName);\n\n        String selectedCountry = request.getParameter(&quot;countryList&quot;);\n        log.debug(&quot;selectedCountry = &quot; + selectedCountry);\n\n        doGet(request, response);\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        RequestDispatcher requestDispatcher = request.getRequestDispatcher(&quot;index.jsp&quot;);\n\n        String ipStr = LocationHelper.getClientIpAddr(request);\n        request.setAttribute(&quot;ipAddress&quot;, ipStr);\n\n        String countryStr = &quot;not determined&quot;;\n        String countrycode = &quot;no code&quot;;\n        Country country = locationHelper.getCountry(getServletContext());\n        if (country != null) {\n            countryStr = country.getName();\n            countrycode = country.getIsoCode();\n        }\n\n        request.setAttribute(&quot;country&quot;, countryStr);\n        request.setAttribute(&quot;code&quot;, countrycode);\n\n        List&lt;String&gt; countries = getSortedCountriesList();\n        request.setAttribute(&quot;countriesList&quot;, countries);\n\n        List&lt;Room&gt; rooms = dao.getRooms();\n        request.setAttribute(&quot;roomsList&quot;, rooms);\n\n        requestDispatcher.forward(request, response);\n    }\n\n    /**\n     *\n     * @return Sorted countries list to be shown in a dropdown list.\n     */\n    private List&lt;String&gt; getSortedCountriesList() {\n        List&lt;String&gt; countriesList = new ArrayList&lt;&gt;();\n        for (CountryCode code : CountryCode.values()) {\n            countriesList.add(code.getName());\n        }\n\n        Collections.sort(countriesList, (s1, s2) -&gt; s1.compareToIgnoreCase(s2));\n        return countriesList;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","linux"],"owner":{"account_id":24302567,"reputation":1,"user_id":18245834,"display_name":"Ganesh K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1645203315,"creation_date":1645203315,"question_id":71177191,"body_markdown":"I want remove/re-set alternatives in linux for java but below error is coming. Does anyone have any idea how to fix this?\r\n\r\n&quot; **update-alternatives: error: cannot stat file &#39;/home/ganesh/Downloads/jdk1.8.0_321/bin/java&#39;: Too many levels of symbolic links** &quot;\r\n\r\ncommand used is : &quot;update-alternatives --remove-all java --force&quot;\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/89wI1.png","title":"Not able to remove java alternatives using update-alternatives command in linux","body":"<p>I want remove/re-set alternatives in linux for java but below error is coming. Does anyone have any idea how to fix this?</p>\n<p>&quot; <strong>update-alternatives: error: cannot stat file '/home/ganesh/Downloads/jdk1.8.0_321/bin/java': Too many levels of symbolic links</strong> &quot;</p>\n<p>command used is : &quot;update-alternatives --remove-all java --force&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/89wI1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","jakarta-ee","wildfly","transformation","bytecode"],"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1645127988,"post_id":71164611,"comment_id":125795385,"body_markdown":"Why not just do the repackaging yourselves, in your own build process, before signing the jars?","body":"Why not just do the repackaging yourselves, in your own build process, before signing the jars?"},{"owner":{"account_id":9035529,"reputation":3,"user_id":6731675,"display_name":"Eduardo Ostertag"},"score":0,"creation_date":1645128274,"post_id":71164611,"comment_id":125795473,"body_markdown":"Our build process properly compiles, packages and signs all JAR files contained in the WAR. Some JAR files are for JEE use, and some are for client use. As I mentioned before, it is WildFly that modifies the WAR file when you deploy it, invalidating the signatures of all JAR files (either for client or JEE use).","body":"Our build process properly compiles, packages and signs all JAR files contained in the WAR. Some JAR files are for JEE use, and some are for client use. As I mentioned before, it is WildFly that modifies the WAR file when you deploy it, invalidating the signatures of all JAR files (either for client or JEE use)."},{"owner":{"account_id":9035529,"reputation":3,"user_id":6731675,"display_name":"Eduardo Ostertag"},"score":0,"creation_date":1645128624,"post_id":71164611,"comment_id":125795580,"body_markdown":"Also, whether we like it or not, WildFly will replace references to “javax.” packages by “jackarta.” packages in all JAR files, including the ones downloaded and used by the client. But the client is executing Java 1.8 with the standard “javax.” packages.","body":"Also, whether we like it or not, WildFly will replace references to “javax.” packages by “jackarta.” packages in all JAR files, including the ones downloaded and used by the client. But the client is executing Java 1.8 with the standard “javax.” packages."}],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645202945,"creation_date":1645161608,"answer_id":71168700,"question_id":71164611,"body_markdown":"I assume you&#39;re using WildFly Preview. The deployment transformer can be disabled by setting the `org.wildfly.unsupported.skip.jakarta.transformer` system property to `true`.","title":"Hot to disable WildFly 26.0.1 bytecode transformation from javax to jakarta packages","body":"<p>I assume you're using WildFly Preview. The deployment transformer can be disabled by setting the <code>org.wildfly.unsupported.skip.jakarta.transformer</code> system property to <code>true</code>.</p>\n"}],"owner":{"account_id":9035529,"reputation":3,"user_id":6731675,"display_name":"Eduardo Ostertag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71168700,"answer_count":1,"score":0,"last_activity_date":1645202945,"creation_date":1645127720,"question_id":71164611,"body_markdown":"We are using **WildFly 26.0.1** with **Java 17**. When you deploy a **WAR** file, **WildFly** inspects all **JAR** files contained in the **WAR**, and **modifies** all compiled class files (**.class**) that reference &quot;**javax.**&quot; packages, replacing them by their corresponding &quot;**jakarta.**&quot; package. This automatic bytecode transformation process creates 2 problems for us:\r\n\r\n 1. The **signatures** of all modified **JAR** files **become invalid**, and the JVM refuses to load and execute them. JAR signatures are the only reliable method we have found to ensure that our software is not tampered by our clients, hackers and/or viruses.\r\n 2. Some **JAR** files contained in the **WAR** are not meant to be executed by **WildFly**. Instead, they are downloaded to the client station using the **Java Web Start (JNLP)** technology, and are executed by a **Java 1.8 (JRE)** with &quot;**javax.**&quot; packages. For security reasons, JNLP does not load and execute a downloaded JAR file **that is not properly signed**. Also, we don&#39;t want these **JAR** files to use &quot;**jakarta.**&quot; packages.\r\n\r\nWe know which **JAR** files are used by the **client** with &quot;**javax.**&quot; packages, and which **JAR** files are executed by **WildFly** with &quot;**jakarta.**&quot; packages. So, the question is: how do you **disable** this bytecode transformation process that **WildFly** executes when you deploy a **WAR** file?\r\n","title":"Hot to disable WildFly 26.0.1 bytecode transformation from javax to jakarta packages","body":"<p>We are using <strong>WildFly 26.0.1</strong> with <strong>Java 17</strong>. When you deploy a <strong>WAR</strong> file, <strong>WildFly</strong> inspects all <strong>JAR</strong> files contained in the <strong>WAR</strong>, and <strong>modifies</strong> all compiled class files (<strong>.class</strong>) that reference &quot;<strong>javax.</strong>&quot; packages, replacing them by their corresponding &quot;<strong>jakarta.</strong>&quot; package. This automatic bytecode transformation process creates 2 problems for us:</p>\n<ol>\n<li>The <strong>signatures</strong> of all modified <strong>JAR</strong> files <strong>become invalid</strong>, and the JVM refuses to load and execute them. JAR signatures are the only reliable method we have found to ensure that our software is not tampered by our clients, hackers and/or viruses.</li>\n<li>Some <strong>JAR</strong> files contained in the <strong>WAR</strong> are not meant to be executed by <strong>WildFly</strong>. Instead, they are downloaded to the client station using the <strong>Java Web Start (JNLP)</strong> technology, and are executed by a <strong>Java 1.8 (JRE)</strong> with &quot;<strong>javax.</strong>&quot; packages. For security reasons, JNLP does not load and execute a downloaded JAR file <strong>that is not properly signed</strong>. Also, we don't want these <strong>JAR</strong> files to use &quot;<strong>jakarta.</strong>&quot; packages.</li>\n</ol>\n<p>We know which <strong>JAR</strong> files are used by the <strong>client</strong> with &quot;<strong>javax.</strong>&quot; packages, and which <strong>JAR</strong> files are executed by <strong>WildFly</strong> with &quot;<strong>jakarta.</strong>&quot; packages. So, the question is: how do you <strong>disable</strong> this bytecode transformation process that <strong>WildFly</strong> executes when you deploy a <strong>WAR</strong> file?</p>\n"},{"tags":["java","spring","spring-boot","maven","apache-camel"],"comments":[{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1645204511,"post_id":71176869,"comment_id":125817489,"body_markdown":"Have you tried refreshing your maven dependencies, cleaning language workspace or just restarting your IDE?  What Camel version are you using with what JDK?","body":"Have you tried refreshing your maven dependencies, cleaning language workspace or just restarting your IDE?  What Camel version are you using with what JDK?"},{"owner":{"account_id":24256934,"reputation":47,"user_id":18207142,"display_name":"Cris Manrique"},"score":0,"creation_date":1645204894,"post_id":71176869,"comment_id":125817633,"body_markdown":"I just had to invalidate caches and restart the ide and it works now. I can&#39;t believe that&#39;s all it was lol. Thank you","body":"I just had to invalidate caches and restart the ide and it works now. I can&#39;t believe that&#39;s all it was lol. Thank you"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1645235131,"post_id":71176869,"comment_id":125824860,"body_markdown":"@CrisManrique You really should never have to use that evil button in IntelliJ unless something is really wrong. Are you sure you refreshed the Maven project? When you edit the POM file, you should see a little button appear in the top-right of the editor. You can also refresh using the Maven toolbar.","body":"@CrisManrique You really should never have to use that evil button in IntelliJ unless something is really wrong. Are you sure you refreshed the Maven project? When you edit the POM file, you should see a little button appear in the top-right of the editor. You can also refresh using the Maven toolbar."}],"owner":{"account_id":24256934,"reputation":47,"user_id":18207142,"display_name":"Cris Manrique"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645201884,"creation_date":1645201884,"question_id":71176869,"body_markdown":"This is how I added it to my pom.xml \r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;${camel.version}&lt;/version&gt;\r\n      &lt;!-- use the same version as your Camel core version --&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nI also tried the non spring version of adding it to my pom, but got the same error","title":"Cannot resolve symbol &#39;jackson&#39; while importing apache camel org.apache.camel.component.jackson.JacksonDataFormat","body":"<p>This is how I added it to my pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n      &lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\n      &lt;version&gt;${camel.version}&lt;/version&gt;\n      &lt;!-- use the same version as your Camel core version --&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I also tried the non spring version of adding it to my pom, but got the same error</p>\n"},{"tags":["java","c","android-studio","java-native-interface"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1645199627,"post_id":71176151,"comment_id":125815418,"body_markdown":"_What_ is not working?","body":"<i>What</i> is not working?"},{"owner":{"account_id":21902961,"reputation":15,"user_id":16188409,"display_name":"Stimm4"},"score":0,"creation_date":1645199853,"post_id":71176151,"comment_id":125815526,"body_markdown":"It&#39;s my main.c cause I want to define an object with IntArray and String that It&#39;s apparently impossible but I would like to know if an issue of my problem is possible.","body":"It&#39;s my main.c cause I want to define an object with IntArray and String that It&#39;s apparently impossible but I would like to know if an issue of my problem is possible."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1645200443,"post_id":71176151,"comment_id":125815791,"body_markdown":"It&#39;s not clear to me from your question exactly what your data will look like. You may have to define a new Java class that can hold all possible kinds of buffer elements, and create an array of that type. This doesn&#39;t really seem related to JNI though, as you&#39;d have the same problem if you were programming in plain Java.","body":"It&#39;s not clear to me from your question exactly what your data will look like. You may have to define a new Java class that can hold all possible kinds of buffer elements, and create an array of that type. This doesn&#39;t really seem related to JNI though, as you&#39;d have the same problem if you were programming in plain Java."},{"owner":{"account_id":21902961,"reputation":15,"user_id":16188409,"display_name":"Stimm4"},"score":0,"creation_date":1645201622,"post_id":71176151,"comment_id":125816348,"body_markdown":"I&#39;m starting from the android development and I&#39;m sorry if It&#39;s not understandable, but to resume, my Java application get several buffer mainly, some int array define like that : \n&quot;int [] array1;\nint [] array2;\nString str;&quot;\n\nand when I&#39;m calling my C function with their array to the argument of my C function, like that :\n&quot;main(array1, array2, str);&quot;\nI would like to get their array and String, modified by my main function (on the C code), for example to return an Object with theire new array and String modified.","body":"I&#39;m starting from the android development and I&#39;m sorry if It&#39;s not understandable, but to resume, my Java application get several buffer mainly, some int array define like that :  &quot;int [] array1; int [] array2; String str;&quot;  and when I&#39;m calling my C function with their array to the argument of my C function, like that : &quot;main(array1, array2, str);&quot; I would like to get their array and String, modified by my main function (on the C code), for example to return an Object with theire new array and String modified."}],"owner":{"account_id":21902961,"reputation":15,"user_id":16188409,"display_name":"Stimm4"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645201773,"creation_date":1645198923,"question_id":71176151,"body_markdown":"For my project, I need to get a buffer send by a Java application into my C application.\r\nNow I&#39;m having a simple int array in java, that i want to modify some of his data and return it.\r\n\r\nIn C It&#39;s possible to modify, by using a pointer, but if I have understood, It&#39;s not possible to use this method between Java and C.\r\n\r\nBut my function need several buffer of several types and I need to send all of these into the Java part of the application.\r\n\r\nSo, I have write this code (with just one buffer in input and an object in output) that not work cause of difference types :\r\n\r\n**In main.c :** \r\n\r\n    JNIEXPORT jobjectArray JNICALL\r\n    Java_com_example_testnewsensivic_Deuxthread_main(JNIEnv *env, jobject thiz, jintArray jsignal,\r\n                                                        jstring string) {\r\n\r\n\r\n    jclass stringClazz = (*env)-&gt;FindClass(env, &quot;java/lang/Object&quot;);\r\n    jobjectArray stringArray = (*env)-&gt;NewObjectArray(env, 3, stringClazz, NULL);\r\n\r\n    jstring var1 = (*env)-&gt;NewStringUTF(env, &quot;test1&quot;);\r\n    (*env)-&gt;SetObjectArrayElement(env, stringArray, 0, var1);\r\n    (*env)-&gt;DeleteLocalRef(env, var1);\r\n\r\n    \r\n    int       ar[] = { 1, 2, 3, 4, 5, 6, 7, 8 };\r\n    jsize len = sizeof(ar)/sizeof(*ar);\r\n    jintArray var2 = (*env)-&gt;NewIntArray(env, len);\r\n    (*env)-&gt;SetIntArrayRegion(env, var2, 0, len, ar);\r\n\r\n    const jsize length2 = (*env)-&gt;GetArrayLength(env, var2);\r\n    jint *oarr2 = (*env)-&gt;GetIntArrayElements(env, var2, NULL);\r\n\r\n\r\n    jstring var3 = (*env)-&gt;NewStringUTF(env, &quot;test3&quot;);\r\n    (*env)-&gt;SetObjectArrayElement(env, stringArray, 2, var3);\r\n    (*env)-&gt;DeleteLocalRef(env, var3);\r\n\r\n    return stringArray;\r\n    }\r\n\r\n**In Java code :**\r\n\r\n                int[] z = {1, 2, 3, 4};\r\n                str = main(z, &quot;DeuxThread&quot;);\r\n                System.out.println(str[0].toString());\r\n                System.out.println(str[1]);\r\n                System.out.println(str[2].toString());\r\n\r\nHave you any idea to help me to resolve this problem ?\r\n\r\nBest Regards.\r\n\r\n**EDIT More precision :** \r\n\r\nI&#39;m sorry if It&#39;s not understandable, but to resume, my Java application get several buffer mainly, some int array and String define like that :\r\n\r\n`int [] array1; int [] array2; String str;`\r\n\r\nand when I&#39;m calling my C function with their array to the argument of my C function, like that :\r\n\r\n`main(array1, array2, str);`\r\n\r\nI would like to get their array and String, modified by my main function (on the C code), for example to return an Object with theire new array and String modified.","title":"How to send several data in JNI between C and Java","body":"<p>For my project, I need to get a buffer send by a Java application into my C application.\nNow I'm having a simple int array in java, that i want to modify some of his data and return it.</p>\n<p>In C It's possible to modify, by using a pointer, but if I have understood, It's not possible to use this method between Java and C.</p>\n<p>But my function need several buffer of several types and I need to send all of these into the Java part of the application.</p>\n<p>So, I have write this code (with just one buffer in input and an object in output) that not work cause of difference types :</p>\n<p><strong>In main.c :</strong></p>\n<pre><code>JNIEXPORT jobjectArray JNICALL\nJava_com_example_testnewsensivic_Deuxthread_main(JNIEnv *env, jobject thiz, jintArray jsignal,\n                                                    jstring string) {\n\n\njclass stringClazz = (*env)-&gt;FindClass(env, &quot;java/lang/Object&quot;);\njobjectArray stringArray = (*env)-&gt;NewObjectArray(env, 3, stringClazz, NULL);\n\njstring var1 = (*env)-&gt;NewStringUTF(env, &quot;test1&quot;);\n(*env)-&gt;SetObjectArrayElement(env, stringArray, 0, var1);\n(*env)-&gt;DeleteLocalRef(env, var1);\n\n\nint       ar[] = { 1, 2, 3, 4, 5, 6, 7, 8 };\njsize len = sizeof(ar)/sizeof(*ar);\njintArray var2 = (*env)-&gt;NewIntArray(env, len);\n(*env)-&gt;SetIntArrayRegion(env, var2, 0, len, ar);\n\nconst jsize length2 = (*env)-&gt;GetArrayLength(env, var2);\njint *oarr2 = (*env)-&gt;GetIntArrayElements(env, var2, NULL);\n\n\njstring var3 = (*env)-&gt;NewStringUTF(env, &quot;test3&quot;);\n(*env)-&gt;SetObjectArrayElement(env, stringArray, 2, var3);\n(*env)-&gt;DeleteLocalRef(env, var3);\n\nreturn stringArray;\n}\n</code></pre>\n<p><strong>In Java code :</strong></p>\n<pre><code>            int[] z = {1, 2, 3, 4};\n            str = main(z, &quot;DeuxThread&quot;);\n            System.out.println(str[0].toString());\n            System.out.println(str[1]);\n            System.out.println(str[2].toString());\n</code></pre>\n<p>Have you any idea to help me to resolve this problem ?</p>\n<p>Best Regards.</p>\n<p><strong>EDIT More precision :</strong></p>\n<p>I'm sorry if It's not understandable, but to resume, my Java application get several buffer mainly, some int array and String define like that :</p>\n<p><code>int [] array1; int [] array2; String str;</code></p>\n<p>and when I'm calling my C function with their array to the argument of my C function, like that :</p>\n<p><code>main(array1, array2, str);</code></p>\n<p>I would like to get their array and String, modified by my main function (on the C code), for example to return an Object with theire new array and String modified.</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1645199618,"post_id":71176260,"comment_id":125815409,"body_markdown":"Consider breaking it down to see what&#39;s happening, e.g., what&#39;s `(int) Math.random()`? What happens when you multiply that by `nNodes`? This might give you insight into what to try next.","body":"Consider breaking it down to see what&#39;s happening, e.g., what&#39;s <code>(int) Math.random()</code>? What happens when you multiply that by <code>nNodes</code>? This might give you insight into what to try next."}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645201418,"creation_date":1645201418,"answer_id":71176764,"question_id":71176260,"body_markdown":"It&#39;s easy to forget the exact rules on execution order, as in\r\n\r\n    int u = (int) Math.random()* nNodes;\r\n\r\nIs it first compute `Math.random()* nNodes`, and then truncate the result to an integer, or is it first `(int) Math.random()`, and then multiply that integer it with `nNodes`? If you&#39;re unsure, place parentheses, then you don&#39;t have to remember the detailed rules:\r\n\r\n    int u = (int) (Math.random()* nNodes);\r\n\r\nAnd, with your expression, the default execution rules first do `(int) Math.random()`. The `random()` result is a fractional value between 0 and 0.99999..., and casting it to int always gives zero. Multiply that with `nNodes`, and it&#39;s still zero - surely not what you had in mind.","title":"Generating a random graph with a given # of edges and nodes","body":"<p>It's easy to forget the exact rules on execution order, as in</p>\n<pre><code>int u = (int) Math.random()* nNodes;\n</code></pre>\n<p>Is it first compute <code>Math.random()* nNodes</code>, and then truncate the result to an integer, or is it first <code>(int) Math.random()</code>, and then multiply that integer it with <code>nNodes</code>? If you're unsure, place parentheses, then you don't have to remember the detailed rules:</p>\n<pre><code>int u = (int) (Math.random()* nNodes);\n</code></pre>\n<p>And, with your expression, the default execution rules first do <code>(int) Math.random()</code>. The <code>random()</code> result is a fractional value between 0 and 0.99999..., and casting it to int always gives zero. Multiply that with <code>nNodes</code>, and it's still zero - surely not what you had in mind.</p>\n"}],"owner":{"account_id":24301886,"reputation":1,"user_id":18245239,"display_name":"rats1234567"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645201418,"creation_date":1645199361,"question_id":71176260,"body_markdown":"I want to generate a random graph for a given number of nodes + edges. When I run it, it returns an edgelist of all zeroes (e.g. if I run it with five nodes and edges, it returns five pairs of zeroes as the edgelist). Is there something wrong with this part of the code that would be causing that?\r\n\r\n```\r\npublic GraphEdgeList(int nNodes, int nEdges) {\r\n    if (nNodes != 0){\r\n\t\tfor (int i = 0; i &lt; nEdges; i++){\r\n            int u = (int) Math.random()* nNodes;\r\n            int v = (int) Math.random()* nNodes;\r\n            \r\n            addEdge(u, v);\r\n        }\r\n    }\r\n}\r\n```","title":"Generating a random graph with a given # of edges and nodes","body":"<p>I want to generate a random graph for a given number of nodes + edges. When I run it, it returns an edgelist of all zeroes (e.g. if I run it with five nodes and edges, it returns five pairs of zeroes as the edgelist). Is there something wrong with this part of the code that would be causing that?</p>\n<pre><code>public GraphEdgeList(int nNodes, int nEdges) {\n    if (nNodes != 0){\n        for (int i = 0; i &lt; nEdges; i++){\n            int u = (int) Math.random()* nNodes;\n            int v = (int) Math.random()* nNodes;\n            \n            addEdge(u, v);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx"],"owner":{"account_id":24302261,"reputation":1,"user_id":18245571,"display_name":"Isopiso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1645204868,"answer_count":0,"score":-2,"last_activity_date":1645201138,"creation_date":1645201138,"question_id":71176688,"body_markdown":"How do i store or save radiobutton choice, to a constructor and call the value when i pick an item from a ListView so that the value is called and displayd in javafx?","title":"Radiobutton values to constructor javafx","body":"<p>How do i store or save radiobutton choice, to a constructor and call the value when i pick an item from a ListView so that the value is called and displayd in javafx?</p>\n"},{"tags":["java","javafx"],"owner":{"account_id":23502186,"reputation":1,"user_id":17551953,"display_name":"Valentin Badea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1645204298,"answer_count":0,"score":-2,"last_activity_date":1645201026,"creation_date":1645199328,"question_id":71176255,"body_markdown":"I have to create an application and I am using JavaFX. I created a stage with a menu and multiple scenes which are called when I press buttons from menu. But now I have a problem: I do some actions in a scene and I want to move to another scene pressing a button from that scene (I do not have access to StackPane object):\r\nThis is how I switch scenes from the menu:\r\n\r\n    public class EmployeeBasePageController implements Initializable {\r\n        private Stage stage;\r\n        private Scene scene;\r\n        private Parent root;\r\n\r\n     @FXML\r\n        private StackPane employeeStackPane;\r\n    //other fxml objects\r\n\r\n    public void homeAction(ActionEvent actionEvent) throws IOException{\r\n            Parent fxml = FXMLLoader.load(getClass().getResource(&quot;/EmployeePages/HomePane.fxml&quot;));\r\n            employeeStackPane.getChildren().removeAll();\r\n            employeeStackPane.getChildren().setAll(fxml);\r\n            titleLabel.setText(&quot;Home&quot;);\r\n        }\r\n    \r\n        public void createProjectAction(ActionEvent actionEvent) throws IOException{\r\n            Parent fxml = FXMLLoader.load(getClass().getResource(&quot;/EmployeePages/CreateProjectPane.fxml&quot;));\r\n            employeeStackPane.getChildren().removeAll();\r\n            employeeStackPane.getChildren().setAll(fxml);\r\n            titleLabel.setText(&quot;Create new Project&quot;);\r\n        }\r\n\r\nAnd the controller for the scene looks like this:\r\n\r\n    public class AddPeopleToProjectController implements Initializable {\r\n    @FXML\r\n        private Button nextPageButton;\r\n    \r\n    public void finishAction(ActionEvent actionEvent) {\r\n            //here i want to open another pane for my StackPane\r\n        }\r\n    }\r\n\r\nHere is a screenshot with the interface, maybe this is clear:\r\n[enter image description here][1]\r\n\r\nAll i want is to be able to switch to another scene when i press that button.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bgeB8.png\r\n\r\n","title":"JavaFX switch between scenes from a StackPane","body":"<p>I have to create an application and I am using JavaFX. I created a stage with a menu and multiple scenes which are called when I press buttons from menu. But now I have a problem: I do some actions in a scene and I want to move to another scene pressing a button from that scene (I do not have access to StackPane object):\nThis is how I switch scenes from the menu:</p>\n<pre><code>public class EmployeeBasePageController implements Initializable {\n    private Stage stage;\n    private Scene scene;\n    private Parent root;\n\n @FXML\n    private StackPane employeeStackPane;\n//other fxml objects\n\npublic void homeAction(ActionEvent actionEvent) throws IOException{\n        Parent fxml = FXMLLoader.load(getClass().getResource(&quot;/EmployeePages/HomePane.fxml&quot;));\n        employeeStackPane.getChildren().removeAll();\n        employeeStackPane.getChildren().setAll(fxml);\n        titleLabel.setText(&quot;Home&quot;);\n    }\n\n    public void createProjectAction(ActionEvent actionEvent) throws IOException{\n        Parent fxml = FXMLLoader.load(getClass().getResource(&quot;/EmployeePages/CreateProjectPane.fxml&quot;));\n        employeeStackPane.getChildren().removeAll();\n        employeeStackPane.getChildren().setAll(fxml);\n        titleLabel.setText(&quot;Create new Project&quot;);\n    }\n</code></pre>\n<p>And the controller for the scene looks like this:</p>\n<pre><code>public class AddPeopleToProjectController implements Initializable {\n@FXML\n    private Button nextPageButton;\n\npublic void finishAction(ActionEvent actionEvent) {\n        //here i want to open another pane for my StackPane\n    }\n}\n</code></pre>\n<p>Here is a screenshot with the interface, maybe this is clear:\n<a href=\"https://i.stack.imgur.com/bgeB8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>All i want is to be able to switch to another scene when i press that button.</p>\n"},{"tags":["java","junit","mockito","powermock"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1645196753,"post_id":71175583,"comment_id":125814192,"body_markdown":"Why do you need to mock it? What are you hoping to actually test this way? `SimpleDateFormat` itself is predictable and not worth mocking IMO... if you&#39;re trying to test what happens at particular instants in time, I&#39;d recommend injecting a `java.time.Clock` instead - make *that* the replaceable test double, and use `Clock.fixed` in your tests.","body":"Why do you need to mock it? What are you hoping to actually test this way? <code>SimpleDateFormat</code> itself is predictable and not worth mocking IMO... if you&#39;re trying to test what happens at particular instants in time, I&#39;d recommend injecting a <code>java.time.Clock</code> instead - make <i>that</i> the replaceable test double, and use <code>Clock.fixed</code> in your tests."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1645200606,"post_id":71175583,"comment_id":125815870,"body_markdown":"Both `Date` and `SimpleDateFormat` classes are terrible flawed, and are now legacy. They were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"Both <code>Date</code> and <code>SimpleDateFormat</code> classes are terrible flawed, and are now legacy. They were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1645200723,"post_id":71175583,"comment_id":125815928,"body_markdown":"By the way, I recommend use of standard [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) formats when exchanging date-time values textually.","body":"By the way, I recommend use of standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats when exchanging date-time values textually."}],"answers":[{"tags":[],"owner":{"account_id":11298916,"reputation":382,"user_id":8285537,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645200921,"creation_date":1645200921,"answer_id":71176635,"question_id":71175583,"body_markdown":"As Jon Skeet mentioned it doesn&#39;t make sense to mock the `SimpleDateFormat`.\r\nI would suggest validating the date value that is being returned from the method you are testing instead of mocking `SimpleDateFormat`. Something like the test below.\r\n\r\n```\r\n    class DateValidator\r\n    {\r\n        String getDate()\r\n        {\r\n            String currentDate = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;, Locale.ENGLISH).format(new Date());\r\n            return currentDate;\r\n        }\r\n    }\r\n    @Test\r\n    public void test()\r\n    {\r\n        String date = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;, Locale.ENGLISH).format(new Date());\r\n        assertThat(new DateValidator().getDate()).isEqualTo(date);\r\n\r\n    }\r\n```","title":"Mocking a Simple DateFormat","body":"<p>As Jon Skeet mentioned it doesn't make sense to mock the <code>SimpleDateFormat</code>.\nI would suggest validating the date value that is being returned from the method you are testing instead of mocking <code>SimpleDateFormat</code>. Something like the test below.</p>\n<pre><code>    class DateValidator\n    {\n        String getDate()\n        {\n            String currentDate = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;, Locale.ENGLISH).format(new Date());\n            return currentDate;\n        }\n    }\n    @Test\n    public void test()\n    {\n        String date = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;, Locale.ENGLISH).format(new Date());\n        assertThat(new DateValidator().getDate()).isEqualTo(date);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":20340812,"reputation":1,"user_id":14920169,"display_name":"Aditya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645200921,"creation_date":1645196503,"question_id":71175583,"body_markdown":"I have a variable  `currentDate =  new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;,Locale.ENGLISH).format(new Date());` inside a class\r\nIn testcase I need to mock it. I have tried like this\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;,\r\n\t\t\t\tLocale.ENGLISH);\r\n\t    when(formatter.format(any(Date.class))).thenReturn(&quot;18022022_201939&quot;);\r\n\r\nbut it is \r\n\r\n&gt; giving me cannot format given object as Date\r\n\r\n on one machine and on another machine \r\n\r\n&gt; it is giving me Date cannot be null.\r\n\r\nI am new to Junit and needed help to solve this problem","title":"Mocking a Simple DateFormat","body":"<p>I have a variable  <code>currentDate =  new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;,Locale.ENGLISH).format(new Date());</code> inside a class\nIn testcase I need to mock it. I have tried like this</p>\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;,\n            Locale.ENGLISH);\n    when(formatter.format(any(Date.class))).thenReturn(&quot;18022022_201939&quot;);\n</code></pre>\n<p>but it is</p>\n<blockquote>\n<p>giving me cannot format given object as Date</p>\n</blockquote>\n<p>on one machine and on another machine</p>\n<blockquote>\n<p>it is giving me Date cannot be null.</p>\n</blockquote>\n<p>I am new to Junit and needed help to solve this problem</p>\n"},{"tags":["java","serialization","unique"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1645201002,"post_id":71176567,"comment_id":125816063,"body_markdown":"Can you explain what you mean exactly by &quot;unique&quot;? It is not possible to get a unique 6-character string for every possible 10-character string because of the [pigeonhole principle](https://en.wikipedia.org/wiki/Pigeonhole_principle). (There are many more possible 10-char strings than there are 6-char strings).","body":"Can you explain what you mean exactly by &quot;unique&quot;? It is not possible to get a unique 6-character string for every possible 10-character string because of the <a href=\"https://en.wikipedia.org/wiki/Pigeonhole_principle\" rel=\"nofollow noreferrer\">pigeonhole principle</a>. (There are many more possible 10-char strings than there are 6-char strings)."}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645200884,"creation_date":1645200884,"answer_id":71176626,"question_id":71176567,"body_markdown":"You can use RandomStringUtils from apache `commons-lang3` [library][1].\r\n\r\n\r\n    RandomStringUtils.random(6,&quot;ABCDEFGHIJ&quot;);\r\n\r\nThe caveat is in relation to the uniqueness. At some point they will be repeated since the possible set of results is limited.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html#random-int-java.lang.String-","title":"Generate Unique 6 Character alphanumeric string from a 10 Character alphanumeric string","body":"<p>You can use RandomStringUtils from apache <code>commons-lang3</code> <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html#random-int-java.lang.String-\" rel=\"nofollow noreferrer\">library</a>.</p>\n<pre><code>RandomStringUtils.random(6,&quot;ABCDEFGHIJ&quot;);\n</code></pre>\n<p>The caveat is in relation to the uniqueness. At some point they will be repeated since the possible set of results is limited.</p>\n"}],"owner":{"account_id":17239539,"reputation":57,"user_id":12482184,"display_name":"Martyn Bell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645200884,"creation_date":1645200657,"question_id":71176567,"body_markdown":"As the title suggests im trying to generate a unique 6 Character alphanumeric string from a 10 Character alphanumeric string.\r\n\r\nIs there any algorithms people have used / can suggest for this? I using Java.\r\nThanks ","title":"Generate Unique 6 Character alphanumeric string from a 10 Character alphanumeric string","body":"<p>As the title suggests im trying to generate a unique 6 Character alphanumeric string from a 10 Character alphanumeric string.</p>\n<p>Is there any algorithms people have used / can suggest for this? I using Java.\nThanks</p>\n"},{"tags":["java","testing","junit","kotlin"],"comments":[{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1502272475,"post_id":45587166,"comment_id":78133350,"body_markdown":"Can you show your attempted call to the method? Because that should work fine.","body":"Can you show your attempted call to the method? Because that should work fine."},{"owner":{"account_id":6513373,"reputation":17341,"user_id":5039950,"accept_rate":78,"display_name":"Sachin Chandil"},"score":0,"creation_date":1502272519,"post_id":45587166,"comment_id":78133377,"body_markdown":"You can also create your own extension function.","body":"You can also create your own extension function."}],"answers":[{"tags":[],"owner":{"account_id":10940000,"reputation":31,"user_id":8140501,"display_name":"John Aqel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502274298,"creation_date":1502273711,"answer_id":45587808,"question_id":45587166,"body_markdown":"Just check to make sure you&#39;re importing the correct class that has the desired `assertEquals` method on it. Other than that you may want to verify that the `calculateCouponAmount()` method returns a `Double`.","title":"How to call assertEquals with Double Epsilon/Precision in Kotlin?","body":"<p>Just check to make sure you're importing the correct class that has the desired <code>assertEquals</code> method on it. Other than that you may want to verify that the <code>calculateCouponAmount()</code> method returns a <code>Double</code>.</p>\n"},{"tags":[],"owner":{"account_id":11381442,"reputation":801,"user_id":8344252,"accept_rate":85,"display_name":"Stefano.Maffullo"},"down_vote_count":2,"up_vote_count":10,"is_accepted":true,"score":8,"last_activity_date":1502292191,"creation_date":1502274235,"answer_id":45587996,"question_id":45587166,"body_markdown":"I have figured it out!\r\n\r\nThis is how it&#39;s done\r\n\r\n    import org.junit.*\r\n    import Kotlin.Test.assertEquals\r\n\r\n    Assert.assertEquals(expected, actual, precision) // to use the jUnit standard one\r\n    assertEquals(expected, actual, message) // to use the Kotlin one","title":"How to call assertEquals with Double Epsilon/Precision in Kotlin?","body":"<p>I have figured it out!</p>\n\n<p>This is how it's done</p>\n\n<pre><code>import org.junit.*\nimport Kotlin.Test.assertEquals\n\nAssert.assertEquals(expected, actual, precision) // to use the jUnit standard one\nassertEquals(expected, actual, message) // to use the Kotlin one\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583389098,"creation_date":1583389098,"answer_id":60539219,"question_id":45587166,"body_markdown":"I couldn&#39;t find one, so I created my own set of functions:\r\n\r\n```\r\nimport java.math.BigDecimal\r\nimport kotlin.math.abs\r\nimport kotlin.test.asserter\r\n\r\ninternal fun assertEquals(expected: Double, actual: Double?, epsilon: Double, message: String? = null) {\r\n    asserter.assertNotNull(null, actual)\r\n    asserter.assertTrue({ messagePrefix(message) + &quot;Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.&quot; },\r\n            abs(expected - actual!!) &lt;= epsilon)\r\n}\r\n\r\ninternal fun assertEquals(expected: BigDecimal, actual: BigDecimal?, epsilon: Double, message: String? = null) {\r\n    asserter.assertNotNull(null, actual)\r\n    asserter.assertTrue({ messagePrefix(message) + &quot;Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.&quot; },\r\n            (expected - actual!!).abs().toDouble() &lt;= epsilon)\r\n}\r\n\r\ninternal fun assertEquals(expected: Double, actual: BigDecimal?, epsilon: Double, message: String? = null) {\r\n    asserter.assertNotNull(null, actual)\r\n    asserter.assertTrue({ messagePrefix(message) + &quot;Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.&quot; },\r\n            abs(expected - actual!!.toDouble()) &lt;= epsilon)\r\n}\r\n\r\ninternal fun messagePrefix(message: String?) = if (message == null) &quot;&quot; else &quot;$message. &quot;\r\n```","title":"How to call assertEquals with Double Epsilon/Precision in Kotlin?","body":"<p>I couldn't find one, so I created my own set of functions:</p>\n\n<pre><code>import java.math.BigDecimal\nimport kotlin.math.abs\nimport kotlin.test.asserter\n\ninternal fun assertEquals(expected: Double, actual: Double?, epsilon: Double, message: String? = null) {\n    asserter.assertNotNull(null, actual)\n    asserter.assertTrue({ messagePrefix(message) + \"Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.\" },\n            abs(expected - actual!!) &lt;= epsilon)\n}\n\ninternal fun assertEquals(expected: BigDecimal, actual: BigDecimal?, epsilon: Double, message: String? = null) {\n    asserter.assertNotNull(null, actual)\n    asserter.assertTrue({ messagePrefix(message) + \"Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.\" },\n            (expected - actual!!).abs().toDouble() &lt;= epsilon)\n}\n\ninternal fun assertEquals(expected: Double, actual: BigDecimal?, epsilon: Double, message: String? = null) {\n    asserter.assertNotNull(null, actual)\n    asserter.assertTrue({ messagePrefix(message) + \"Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.\" },\n            abs(expected - actual!!.toDouble()) &lt;= epsilon)\n}\n\ninternal fun messagePrefix(message: String?) = if (message == null) \"\" else \"$message. \"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4308080,"reputation":1029,"user_id":3519951,"accept_rate":60,"display_name":"JM Lord"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645200372,"creation_date":1645200372,"answer_id":71176508,"question_id":45587166,"body_markdown":"It is now included in the official API for Double and Float:\r\n\r\n    fun assertEquals(\r\n        expected: Double,\r\n        actual: Double,\r\n        absoluteTolerance: Double,\r\n        message: String? = null\r\n    ): Unit\r\n\r\n    fun assertEquals(\r\n        expected: Float,\r\n        actual: Float,\r\n        absoluteTolerance: Float,\r\n        message: String? = null\r\n    ): Unit\r\n\r\nSee https://kotlinlang.org/api/latest/kotlin.test/kotlin.test/assert-equals.html","title":"How to call assertEquals with Double Epsilon/Precision in Kotlin?","body":"<p>It is now included in the official API for Double and Float:</p>\n<pre><code>fun assertEquals(\n    expected: Double,\n    actual: Double,\n    absoluteTolerance: Double,\n    message: String? = null\n): Unit\n\nfun assertEquals(\n    expected: Float,\n    actual: Float,\n    absoluteTolerance: Float,\n    message: String? = null\n): Unit\n</code></pre>\n<p>See <a href=\"https://kotlinlang.org/api/latest/kotlin.test/kotlin.test/assert-equals.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/kotlin.test/kotlin.test/assert-equals.html</a></p>\n"}],"owner":{"account_id":11381442,"reputation":801,"user_id":8344252,"accept_rate":85,"display_name":"Stefano.Maffullo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4695,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":45587996,"answer_count":4,"score":11,"last_activity_date":1645200372,"creation_date":1502272076,"question_id":45587166,"body_markdown":"I was wondering, in Kotlin, is there the possibility to call the equivalent of the java method:\r\n\r\n    assertEquals(double expected, double actual, double precision)\r\nbecause everytime I&#39;m getting this method instead\r\n\r\n    assertEquals(expected: T, actual: T, message: String)\r\n    \r\nAnd i can&#39;t find the one with the precision parameter.\r\nCalling the Java one should be fine too I guess.\r\n\r\nMy call to the method:\r\n\r\n    assertEquals(5000.00, calculateCouponAmount(basicFaceValue, basicInterestRate, amortizationBullet, couponNumber1), 0.01)\r\n\r\nI&#39;m getting an error because 0.01 gets in the &quot;message&quot; field\r\n","title":"How to call assertEquals with Double Epsilon/Precision in Kotlin?","body":"<p>I was wondering, in Kotlin, is there the possibility to call the equivalent of the java method:</p>\n\n<pre><code>assertEquals(double expected, double actual, double precision)\n</code></pre>\n\n<p>because everytime I'm getting this method instead</p>\n\n<pre><code>assertEquals(expected: T, actual: T, message: String)\n</code></pre>\n\n<p>And i can't find the one with the precision parameter.\nCalling the Java one should be fine too I guess.</p>\n\n<p>My call to the method:</p>\n\n<pre><code>assertEquals(5000.00, calculateCouponAmount(basicFaceValue, basicInterestRate, amortizationBullet, couponNumber1), 0.01)\n</code></pre>\n\n<p>I'm getting an error because 0.01 gets in the \"message\" field</p>\n"},{"tags":["java","android","time"],"answers":[{"tags":[],"owner":{"account_id":3911165,"reputation":1475,"user_id":3236455,"accept_rate":44,"display_name":"der_Fidelis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464004712,"creation_date":1464004712,"answer_id":37390411,"question_id":37390080,"body_markdown":"`Time.getCurrentTimezone()`\n\nwill get you the timezone and\n\n`Calendar c = Calendar.getInstance(); \nint seconds = c.get(Calendar.SECOND)`\n\nwill get you the time in UTC in seconds. Of course you can change the value to get it in another unit.","title":"Convert Local time to UTC and vice versa","body":"<p><code>Time.getCurrentTimezone()</code></p>\n\n<p>will get you the timezone and</p>\n\n<p><code>Calendar c = Calendar.getInstance(); \nint seconds = c.get(Calendar.SECOND)</code></p>\n\n<p>will get you the time in UTC in seconds. Of course you can change the value to get it in another unit.</p>\n"},{"tags":[],"owner":{"account_id":5850137,"reputation":3193,"user_id":4609016,"accept_rate":73,"display_name":"User Learning"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464012612,"creation_date":1464011786,"answer_id":37392981,"question_id":37390080,"body_markdown":"you may try something like this to insert into DB:    \r\n\r\n        SimpleDateFormat f = new SimpleDateFormat(&quot;h:mm a E zz&quot;);\r\n        f.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        System.out.println(f.format(new Date()));\r\n        String dd = f.format(new Date());\r\n\r\nThis opt from ur comment:\r\n\r\n   **OUTPUT:**\r\n\r\n&gt; 1:43 PM Mon UTC\r\n\r\n\r\nFor this, -&gt; convert it again and display in the device&#39;s time \r\n\r\n**UPDATE:**\r\n\r\n    String dd = f.format(new Date());\r\n    \r\n            Date date = null;\r\n            DateFormat sdf = new SimpleDateFormat(&quot;h:mm a E zz&quot;);\r\n            try {\r\n                date = sdf.parse(dd);\r\n            }catch (Exception e){\r\n    \r\n            }\r\n            sdf.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Kolkata&quot;));\r\n            System.out.println(sdf.format(date));\r\n\r\n**OUTPUT:**\r\n\r\n&gt;  7:30 PM Mon GMT+05:30\r\n\r\nU may display like this. ","title":"Convert Local time to UTC and vice versa","body":"<p>you may try something like this to insert into DB:    </p>\n\n<pre><code>    SimpleDateFormat f = new SimpleDateFormat(\"h:mm a E zz\");\n    f.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    System.out.println(f.format(new Date()));\n    String dd = f.format(new Date());\n</code></pre>\n\n<p>This opt from ur comment:</p>\n\n<p><strong>OUTPUT:</strong></p>\n\n<blockquote>\n  <p>1:43 PM Mon UTC</p>\n</blockquote>\n\n<p>For this, -> convert it again and display in the device's time </p>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code>String dd = f.format(new Date());\n\n        Date date = null;\n        DateFormat sdf = new SimpleDateFormat(\"h:mm a E zz\");\n        try {\n            date = sdf.parse(dd);\n        }catch (Exception e){\n\n        }\n        sdf.setTimeZone(TimeZone.getTimeZone(\"Asia/Kolkata\"));\n        System.out.println(sdf.format(date));\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<blockquote>\n  <p>7:30 PM Mon GMT+05:30</p>\n</blockquote>\n\n<p>U may display like this. </p>\n"},{"tags":[],"owner":{"account_id":7819159,"reputation":1132,"user_id":6097077,"accept_rate":58,"display_name":"Mew"},"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1464091838,"creation_date":1464091838,"answer_id":37413178,"question_id":37390080,"body_markdown":"I converted local time to GMT/UTC and vice versa using these two methods and this works fine without any problem for me.\r\n\r\n    public static Date localToGMT() {\r\n        Date date = new Date();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n        sdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        Date gmt = new Date(sdf.format(date));\r\n        return gmt;\r\n    }\r\npass the GMT/UTC date which you want to convert into device local time to this method:\r\n\r\n    public static Date gmttoLocalDate(Date date) {\r\n\r\n        String timeZone = Calendar.getInstance().getTimeZone().getID();\r\n        Date local = new Date(date.getTime() + TimeZone.getTimeZone(timeZone).getOffset(date.getTime()));\r\n        return local\r\n    }","title":"Convert Local time to UTC and vice versa","body":"<p>I converted local time to GMT/UTC and vice versa using these two methods and this works fine without any problem for me.</p>\n\n<pre><code>public static Date localToGMT() {\n    Date date = new Date();\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\n    sdf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    Date gmt = new Date(sdf.format(date));\n    return gmt;\n}\n</code></pre>\n\n<p>pass the GMT/UTC date which you want to convert into device local time to this method:</p>\n\n<pre><code>public static Date gmttoLocalDate(Date date) {\n\n    String timeZone = Calendar.getInstance().getTimeZone().getID();\n    Date local = new Date(date.getTime() + TimeZone.getTimeZone(timeZone).getOffset(date.getTime()));\n    return local\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2305114,"reputation":8699,"user_id":2024527,"accept_rate":80,"display_name":"SANAT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497355491,"creation_date":1497355491,"answer_id":44521020,"question_id":37390080,"body_markdown":"Get current UTC :\r\n\r\n    public String getCurrentUTC(){\r\n            Date time = Calendar.getInstance().getTime();\r\n            SimpleDateFormat outputFmt = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            outputFmt.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n            return outputFmt.format(time);\r\n    }","title":"Convert Local time to UTC and vice versa","body":"<p>Get current UTC :</p>\n\n<pre><code>public String getCurrentUTC(){\n        Date time = Calendar.getInstance().getTime();\n        SimpleDateFormat outputFmt = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n        outputFmt.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n        return outputFmt.format(time);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1207648,"reputation":10346,"user_id":1176870,"accept_rate":95,"display_name":"Chris Stillwell"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1614008907,"creation_date":1508252228,"answer_id":46793189,"question_id":37390080,"body_markdown":"A simplified and condensed version of the accepted answer:\r\n\r\n\r\n\r\n    public static Date dateFromUTC(Date date){\r\n        return new Date(date.getTime() + Calendar.getInstance().getTimeZone().getOffset(new Date().getTime()));\r\n    }\r\n\r\n    public static Date dateToUTC(Date date){\r\n        return new Date(date.getTime() - Calendar.getInstance().getTimeZone().getOffset(date.getTime()));\r\n    }","title":"Convert Local time to UTC and vice versa","body":"<p>A simplified and condensed version of the accepted answer:</p>\n<pre><code>public static Date dateFromUTC(Date date){\n    return new Date(date.getTime() + Calendar.getInstance().getTimeZone().getOffset(new Date().getTime()));\n}\n\npublic static Date dateToUTC(Date date){\n    return new Date(date.getTime() - Calendar.getInstance().getTimeZone().getOffset(date.getTime()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11285545,"reputation":536,"user_id":8276680,"display_name":"Neelesh Atale"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1528190607,"creation_date":1528190607,"answer_id":50696607,"question_id":37390080,"body_markdown":"Try this:  \r\n //convert to UTC to Local format  \r\n\r\n   \r\n\r\n     public Date getUTCToLocalDate(String date) {\r\n                Date inputDate = new Date();\r\n                if (date != null &amp;&amp; !date.isEmpty()) {\r\n                    @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n                    simpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n                    try {\r\n                        inputDate = simpleDateFormat.parse(date);\r\n                    } catch (ParseException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                return inputDate;\r\n            }  \r\n\r\n\r\n//convert Local Date to UTC \r\n\r\n    public String getLocalToUTCDate(Date date) {\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(date);\r\n        calendar.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        Date time = calendar.getTime();\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat outputFmt = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n        outputFmt.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        return outputFmt.format(time);\r\n    }\r\n\r\n","title":"Convert Local time to UTC and vice versa","body":"<p>Try this:<br>\n //convert to UTC to Local format  </p>\n\n<pre><code> public Date getUTCToLocalDate(String date) {\n            Date inputDate = new Date();\n            if (date != null &amp;&amp; !date.isEmpty()) {\n                @SuppressLint(\"SimpleDateFormat\") SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n                simpleDateFormat.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n                try {\n                    inputDate = simpleDateFormat.parse(date);\n                } catch (ParseException e) {\n                    e.printStackTrace();\n                }\n            }\n            return inputDate;\n        }  \n</code></pre>\n\n<p>//convert Local Date to UTC </p>\n\n<pre><code>public String getLocalToUTCDate(Date date) {\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(date);\n    calendar.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    Date time = calendar.getTime();\n    @SuppressLint(\"SimpleDateFormat\") SimpleDateFormat outputFmt = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n    outputFmt.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    return outputFmt.format(time);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2276132,"reputation":404,"user_id":2002340,"accept_rate":100,"display_name":"raman rayat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586514326,"creation_date":1586514326,"answer_id":61138332,"question_id":37390080,"body_markdown":"try this one \r\n\r\n    DateFormat formatterIST = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n            formatterIST.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Kolkata&quot;));\r\n            Date dateobj = new Date();\r\n            Date date = formatterIST.parse(formatterIST.format(dateobj));\r\n            System.out.println(formatterIST.format(date));\r\n    \r\n            DateFormat formatterUTC = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n            formatterUTC.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;)); // UTC timezone\r\n            System.out.println(formatterUTC.format(date));","title":"Convert Local time to UTC and vice versa","body":"<p>try this one </p>\n\n<pre><code>DateFormat formatterIST = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n        formatterIST.setTimeZone(TimeZone.getTimeZone(\"Asia/Kolkata\"));\n        Date dateobj = new Date();\n        Date date = formatterIST.parse(formatterIST.format(dateobj));\n        System.out.println(formatterIST.format(date));\n\n        DateFormat formatterUTC = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n        formatterUTC.setTimeZone(TimeZone.getTimeZone(\"UTC\")); // UTC timezone\n        System.out.println(formatterUTC.format(date));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1645200217,"creation_date":1586534279,"answer_id":61143974,"question_id":37390080,"body_markdown":"# tl;dr\r\n\r\n    ZoneId z = ZoneId.systemDefault() ;  // Or, ZoneId.of( &quot;Africa/Tunis&quot; ) \r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;  // Capture current moment as seen in a particular time zone.\r\n    Instant instant = zdt.toInstant() ;  // Adjust to UTC, an offset of zero hours-minutes-seconds.\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;  // Make an `OffsetDateTime` object to exchange with the database.\r\n    myPreparedStatement.setObject( … , odt ) ;  // Write moment to database column of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`.\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;  // Retrieve a moment from database.\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( z ) ;  // Adjust into a particular tim zone. Same moment, different wall-clock time.\r\n\r\n# *java.time*\r\n\r\nThe modern approach uses the *java.time*;classes that years ago supplanted the terrible date-time classes such as `Date` and `Calendar`.\r\n\r\nCapture the current moment as seen in UTC.\r\n\r\n    OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;\r\n\r\nStore in a database using a driver complaint with JDBC 4.2 or later.\r\n\r\n    myPreparedStatement( … , odt ) ;\r\n\r\nRetrieve from database.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nAdjust into a time zone.\r\n\r\n    ZoneId z = ZoneId.systemDefault() ;\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( z ) ;\r\n\r\nGenerate text to present to user.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( Locale.getDefault() ) ;\r\n    String output = zdt.format( f ) ;\r\n\r\nAn implementation of *java.time* is built into Android 26+. For earlier Android, the [latest tooling brings most of the functionality][1] via “API desugaring”. If that does not work for you, use the *ThreeTenABP* library to get most of the *java.time* functionality that was back-ported to Java 6 and Java 7 in the *ThreeTen-Backport* project.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support-table","title":"Convert Local time to UTC and vice versa","body":"<h1>tl;dr</h1>\n<pre><code>ZoneId z = ZoneId.systemDefault() ;  // Or, ZoneId.of( &quot;Africa/Tunis&quot; ) \nZonedDateTime zdt = ZonedDateTime.now( z ) ;  // Capture current moment as seen in a particular time zone.\nInstant instant = zdt.toInstant() ;  // Adjust to UTC, an offset of zero hours-minutes-seconds.\nOffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;  // Make an `OffsetDateTime` object to exchange with the database.\nmyPreparedStatement.setObject( … , odt ) ;  // Write moment to database column of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`.\nOffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;  // Retrieve a moment from database.\nZonedDateTime zdt = odt.atZoneSameInstant( z ) ;  // Adjust into a particular tim zone. Same moment, different wall-clock time.\n</code></pre>\n<h1><em>java.time</em></h1>\n<p>The modern approach uses the <em>java.time</em>;classes that years ago supplanted the terrible date-time classes such as <code>Date</code> and <code>Calendar</code>.</p>\n<p>Capture the current moment as seen in UTC.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Store in a database using a driver complaint with JDBC 4.2 or later.</p>\n<pre><code>myPreparedStatement( … , odt ) ;\n</code></pre>\n<p>Retrieve from database.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>Adjust into a time zone.</p>\n<pre><code>ZoneId z = ZoneId.systemDefault() ;\nZonedDateTime zdt = odt.atZoneSameInstant( z ) ;\n</code></pre>\n<p>Generate text to present to user.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( Locale.getDefault() ) ;\nString output = zdt.format( f ) ;\n</code></pre>\n<p>An implementation of <em>java.time</em> is built into Android 26+. For earlier Android, the <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">latest tooling brings most of the functionality</a> via “API desugaring”. If that does not work for you, use the <em>ThreeTenABP</em> library to get most of the <em>java.time</em> functionality that was back-ported to Java 6 and Java 7 in the <em>ThreeTen-Backport</em> project.</p>\n"}],"owner":{"account_id":7819159,"reputation":1132,"user_id":6097077,"accept_rate":58,"display_name":"Mew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82508,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":37413178,"answer_count":8,"score":35,"last_activity_date":1645200217,"creation_date":1464003836,"question_id":37390080,"body_markdown":"I&#39;m working on Android application, and I want to convert local time (device time) into UTC and save it in database. After retrieving it from database I have to convert it again and display in the device&#39;s time zone.  Can anyone suggest how to do this in Java?","title":"Convert Local time to UTC and vice versa","body":"<p>I'm working on Android application, and I want to convert local time (device time) into UTC and save it in database. After retrieving it from database I have to convert it again and display in the device's time zone.  Can anyone suggest how to do this in Java?</p>\n"},{"tags":["java","node.js","spring","nagios"],"answers":[{"tags":[],"owner":{"account_id":302417,"reputation":1174,"user_id":610789,"accept_rate":72,"display_name":"Selvakumar Esra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490894726,"creation_date":1490894726,"answer_id":43124554,"question_id":41095585,"body_markdown":"i had a similar use case couple of months ago. i chose the following technology stack and i was successful delivering a product in 2 months\r\n\r\n 1. Confluent Kafka\r\n 2. patternfly UI\r\n 3. Drools for rules engine rather than XSLT\r\n 4. Docker &amp; Kubernates\r\n 5. Spring boot microservices \r\n 6. Netflix hysrix tubine dashboard\r\n 7. Spring cloud config server\r\n 8. MongoDB\r\n\r\nAll are opensource technologies, we didn&#39;t spent any $$$ but saved around 250K USD on vendor based licensed software\r\n\r\n \r\n","title":"Management UI for Spring Boot or Node js Applications","body":"<p>i had a similar use case couple of months ago. i chose the following technology stack and i was successful delivering a product in 2 months</p>\n\n<ol>\n<li>Confluent Kafka</li>\n<li>patternfly UI</li>\n<li>Drools for rules engine rather than XSLT</li>\n<li>Docker &amp; Kubernates</li>\n<li>Spring boot microservices </li>\n<li>Netflix hysrix tubine dashboard</li>\n<li>Spring cloud config server</li>\n<li>MongoDB</li>\n</ol>\n\n<p>All are opensource technologies, we didn't spent any $$$ but saved around 250K USD on vendor based licensed software</p>\n"},{"tags":[],"owner":{"account_id":1211515,"reputation":949,"user_id":1179948,"accept_rate":100,"display_name":"Igor Bljahhin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645199822,"creation_date":1645199822,"answer_id":71176368,"question_id":41095585,"body_markdown":"Spring Boot Admin Server allows to do the following:\r\n\r\n* view the version deployed\r\n* view current configuration (ports, queues, url&#39;s etc)\r\n* perhaps enable logging\r\n\r\nSpring Cloud Config Server + GIT as backend gives you management for app configs (with history).\r\n\r\nMicrometer from Spring Boot 2 + Prometheus + Graphana allows to visualize application metrics.\r\n\r\nLogs from your app in JSON format + logstash + Elastic Search + Kibana allows to gather logs from microservices.","title":"Management UI for Spring Boot or Node js Applications","body":"<p>Spring Boot Admin Server allows to do the following:</p>\n<ul>\n<li>view the version deployed</li>\n<li>view current configuration (ports, queues, url's etc)</li>\n<li>perhaps enable logging</li>\n</ul>\n<p>Spring Cloud Config Server + GIT as backend gives you management for app configs (with history).</p>\n<p>Micrometer from Spring Boot 2 + Prometheus + Graphana allows to visualize application metrics.</p>\n<p>Logs from your app in JSON format + logstash + Elastic Search + Kibana allows to gather logs from microservices.</p>\n"}],"owner":{"account_id":442995,"reputation":5799,"user_id":833960,"accept_rate":69,"display_name":"MattG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645199822,"creation_date":1481525858,"question_id":41095585,"body_markdown":"We are considering migrating various integration services from vendor based solutions like TIBCO BW, WSO2 ESB, WebSphere Message Broker etc into custom Java (potentially SpringBoot) or Node.js.\r\n\r\nWhilst it is relatively straight forward to migrate the service logic, e.g. get message from JMS, run XSLT, send to HTTP request, the missing piece that these vendor solutions provided was a Management UI which allowed you to:\r\n\r\n - view the version deployed\r\n - deploy new versions\r\n - view current configuration (ports, queues, url&#39;s etc)\r\n - start and stop services\r\n - perhaps enable logging\r\n - view processing statistics\r\n - etc\r\n\r\nI may have a few hundred different JVM&#39;s / Spring Boot applications or Node.js instances, that I would like to provide a Management UI for.\r\n\r\nWhat free open source management UI solutions exist in this space. \r\n\r\nOr do I need to containerise all of these and use some container management technology like Kubernetes.\r\n\r\nOr should I be using something like Nagios for this management task, which is more of a monitoring tool, but perhaps could be used as a Management UI.\r\n","title":"Management UI for Spring Boot or Node js Applications","body":"<p>We are considering migrating various integration services from vendor based solutions like TIBCO BW, WSO2 ESB, WebSphere Message Broker etc into custom Java (potentially SpringBoot) or Node.js.</p>\n\n<p>Whilst it is relatively straight forward to migrate the service logic, e.g. get message from JMS, run XSLT, send to HTTP request, the missing piece that these vendor solutions provided was a Management UI which allowed you to:</p>\n\n<ul>\n<li>view the version deployed</li>\n<li>deploy new versions</li>\n<li>view current configuration (ports, queues, url's etc)</li>\n<li>start and stop services</li>\n<li>perhaps enable logging</li>\n<li>view processing statistics</li>\n<li>etc</li>\n</ul>\n\n<p>I may have a few hundred different JVM's / Spring Boot applications or Node.js instances, that I would like to provide a Management UI for.</p>\n\n<p>What free open source management UI solutions exist in this space. </p>\n\n<p>Or do I need to containerise all of these and use some container management technology like Kubernetes.</p>\n\n<p>Or should I be using something like Nagios for this management task, which is more of a monitoring tool, but perhaps could be used as a Management UI.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1536975507,"post_id":52340875,"comment_id":91628757,"body_markdown":"Do you have a link to the documentation section in question?","body":"Do you have a link to the documentation section in question?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1536975564,"post_id":52340875,"comment_id":91628762,"body_markdown":"*Is it means that, in the condition which is fixed gc time, the GC affects throughput of CPUs because of its suspension?* Yes. And as the number of processors increases, a 1% GC time equates to 30% of clock time across 32 cpus. While 30% GC leads to almost 100% of the time spent in GC. Basically, this is a re-statement of Amdahl&#39;s law.","body":"<i>Is it means that, in the condition which is fixed gc time, the GC affects throughput of CPUs because of its suspension?</i> Yes. And as the number of processors increases, a 1% GC time equates to 30% of clock time across 32 cpus. While 30% GC leads to almost 100% of the time spent in GC. Basically, this is a re-statement of Amdahl&#39;s law."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1536975588,"post_id":52340875,"comment_id":91628767,"body_markdown":"Basically I&#39;m asking because there isn&#39;t enough information in your question to determine the answer.  I *think* the quote refers to the old stop-the-world mark-and-sweep GC, but I can&#39;t tell for sure.","body":"Basically I&#39;m asking because there isn&#39;t enough information in your question to determine the answer.  I <i>think</i> the quote refers to the old stop-the-world mark-and-sweep GC, but I can&#39;t tell for sure."},{"owner":{"account_id":11449968,"reputation":566,"user_id":8392616,"accept_rate":0,"display_name":"Hyun"},"score":0,"creation_date":1536976387,"post_id":52340875,"comment_id":91628843,"body_markdown":"@markspace Thanks for your help. I saw it at  https://docs.oracle.com/javase/10/gctuning/introduction-garbage-collection-tuning.htm#JSGCT-GUID-223394DF-2E27-4F5D-A7DF-83151EB577BB","body":"@markspace Thanks for your help. I saw it at  <a href=\"https://docs.oracle.com/javase/10/gctuning/introduction-garbage-collection-tuning.htm#JSGCT-GUID-223394DF-2E27-4F5D-A7DF-83151EB577BB\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/gctuning/&hellip;</a>"},{"owner":{"account_id":11449968,"reputation":566,"user_id":8392616,"accept_rate":0,"display_name":"Hyun"},"score":0,"creation_date":1536976835,"post_id":52340875,"comment_id":91628883,"body_markdown":"@Elliott Frisch Thanks for your comment. but I still don&#39;t understand that is it means the throughput is better when the processor is fewer? I thought like that because when we see only redline, it indicates the thoughput is better when the processor less than five rather than when the processor number is 32.","body":"@Elliott Frisch Thanks for your comment. but I still don&#39;t understand that is it means the throughput is better when the processor is fewer? I thought like that because when we see only redline, it indicates the thoughput is better when the processor less than five rather than when the processor number is 32."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536983121,"creation_date":1536982760,"answer_id":52341347,"question_id":52340875,"body_markdown":"Here is the explanation text in the document where you found this graph is:\r\n\r\n&gt; The graph in Figure 1-1 models an ideal system that&#39;s perfectly scalable with the exception of garbage collection. The red line is an application spending only 1% of the time in garbage collection on a uniprocessor system. This translates to more than a 20% loss in throughput on systems with 32 processors. The magenta line shows that for an application at 10% of the time in garbage collection (not considered an outrageous amount of time in garbage collection in uniprocessor applications), more than 75% of throughput is lost when scaling up to 32 processors.\r\n\r\nThe link below the graph says:\r\n\r\n&gt; The graph models an ideal system that&#39;s perfectly scalable with the exception of garbage collection (GC). It plots the number of processors (x-axis) against throughput (y-axis). It contains six plotted lines labeled 1% GC, 2% GC, 3% GC, 10% GC, 20% GC, and 30% GC. Each line represents the changing throughput for an application that spends the specified percentage of time used for garbage collection on a uniprocessor system versus on a multiprocessor system. The graph is described in the text that precedes it.\r\n\r\n------------\r\n\r\nSo ... \r\n\r\n  1.  This is a model, not a graph of real measured performance.\r\n  2.  The model is idealized.  It assumes that the application is perfectly scalable (apart from GC).\r\n  3.  It is illustrating what happens when you *don&#39;t* make the garbage collection scalable; e.g. if there is only one GC thread and it doesn&#39;t operate in parallel with application threads.\r\n  4.  The 1% GC, 2% GC, etc lines represent different modeled GC loads on a uniprocessor system.  So the 1% line represents the case of an application running on a uniprocessor system where the application threads generate a GC load that could be collected using 1% of the available CPU.\r\n  5.  The throughput represents the *useful* (application) work that is being done by a busy application; i.e. the time (GC overhead) that is *not taken up with garbage collection or waiting for the GC to finish.\r\n  5.  The throughput is measured as a percentage of the available CPU time on a system with the given number of processors.\r\n\r\nSo, for example, at the 30% GC level, the throughput for a 32 core system will be roughly 1/10th of the theoretical throughput of the hardware.  It  will waste roughly 9/10ths of the available CPU time waiting for garbage collection to complete!","title":"What is the figure which is throughput with processor means in oracle java official document","body":"<p>Here is the explanation text in the document where you found this graph is:</p>\n\n<blockquote>\n  <p>The graph in Figure 1-1 models an ideal system that's perfectly scalable with the exception of garbage collection. The red line is an application spending only 1% of the time in garbage collection on a uniprocessor system. This translates to more than a 20% loss in throughput on systems with 32 processors. The magenta line shows that for an application at 10% of the time in garbage collection (not considered an outrageous amount of time in garbage collection in uniprocessor applications), more than 75% of throughput is lost when scaling up to 32 processors.</p>\n</blockquote>\n\n<p>The link below the graph says:</p>\n\n<blockquote>\n  <p>The graph models an ideal system that's perfectly scalable with the exception of garbage collection (GC). It plots the number of processors (x-axis) against throughput (y-axis). It contains six plotted lines labeled 1% GC, 2% GC, 3% GC, 10% GC, 20% GC, and 30% GC. Each line represents the changing throughput for an application that spends the specified percentage of time used for garbage collection on a uniprocessor system versus on a multiprocessor system. The graph is described in the text that precedes it.</p>\n</blockquote>\n\n<hr>\n\n<p>So ... </p>\n\n<ol>\n<li>This is a model, not a graph of real measured performance.</li>\n<li>The model is idealized.  It assumes that the application is perfectly scalable (apart from GC).</li>\n<li>It is illustrating what happens when you <em>don't</em> make the garbage collection scalable; e.g. if there is only one GC thread and it doesn't operate in parallel with application threads.</li>\n<li>The 1% GC, 2% GC, etc lines represent different modeled GC loads on a uniprocessor system.  So the 1% line represents the case of an application running on a uniprocessor system where the application threads generate a GC load that could be collected using 1% of the available CPU.</li>\n<li>The throughput represents the <em>useful</em> (application) work that is being done by a busy application; i.e. the time (GC overhead) that is *not taken up with garbage collection or waiting for the GC to finish.</li>\n<li>The throughput is measured as a percentage of the available CPU time on a system with the given number of processors.</li>\n</ol>\n\n<p>So, for example, at the 30% GC level, the throughput for a 32 core system will be roughly 1/10th of the theoretical throughput of the hardware.  It  will waste roughly 9/10ths of the available CPU time waiting for garbage collection to complete!</p>\n"},{"tags":[],"owner":{"account_id":24301136,"reputation":1,"user_id":18244625,"display_name":"oceanbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645199679,"creation_date":1645199679,"answer_id":71176325,"question_id":52340875,"body_markdown":"The important thing is [Amdahl&#39;s law][1], it states that &quot;the overall performance improvement gained by optimizing a single part of a system is limited by the fraction of time that the improved part is actually used&quot;.\r\n\r\nYou can calculate the graph.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Amdahl%27s_law","title":"What is the figure which is throughput with processor means in oracle java official document","body":"<p>The important thing is <a href=\"https://en.wikipedia.org/wiki/Amdahl%27s_law\" rel=\"nofollow noreferrer\">Amdahl's law</a>, it states that &quot;the overall performance improvement gained by optimizing a single part of a system is limited by the fraction of time that the improved part is actually used&quot;.</p>\n<p>You can calculate the graph.</p>\n"}],"owner":{"account_id":11449968,"reputation":566,"user_id":8392616,"accept_rate":0,"display_name":"Hyun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645199679,"creation_date":1536974896,"question_id":52340875,"body_markdown":"The “Java Platform, Standard Edition HotSpot Virtual Machine Garbage Collection Tuning Guide”, explains [its figure 1-1][2] like below  \r\n\r\n&gt; *The red line is an application spending only 1% of the time in garbage collection on a uniprocessor system. This translates to more than a 20% loss in throughput on systems with 32 processors.*\r\n\r\n[![Garbage collection cause problems in scability system][1]][1]\r\n\r\nI don&#39;t understand what this figures really mean.  \r\nDoes it mean that, in the condition which is fixed gc time, the GC affects throughput of CPUs because of its suspension?\r\n\r\n  [1]: https://i.stack.imgur.com/9OOEs.png\r\n  [2]: https://docs.oracle.com/javase/10/gctuning/introduction-garbage-collection-tuning.htm#GUID-A48F272E-A6C1-45A0-9A8B-6D5790EB454C__PERCENTAGE_TIME_GC","title":"What is the figure which is throughput with processor means in oracle java official document","body":"<p>The “Java Platform, Standard Edition HotSpot Virtual Machine Garbage Collection Tuning Guide”, explains <a href=\"https://docs.oracle.com/javase/10/gctuning/introduction-garbage-collection-tuning.htm#GUID-A48F272E-A6C1-45A0-9A8B-6D5790EB454C__PERCENTAGE_TIME_GC\" rel=\"nofollow noreferrer\">its figure 1-1</a> like below  </p>\n\n<blockquote>\n  <p><em>The red line is an application spending only 1% of the time in garbage collection on a uniprocessor system. This translates to more than a 20% loss in throughput on systems with 32 processors.</em></p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/9OOEs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9OOEs.png\" alt=\"Garbage collection cause problems in scability system\"></a></p>\n\n<p>I don't understand what this figures really mean.<br>\nDoes it mean that, in the condition which is fixed gc time, the GC affects throughput of CPUs because of its suspension?</p>\n"},{"tags":["java","arrays","string","for-loop"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1644315633,"post_id":71031780,"comment_id":125568062,"body_markdown":"I don&#39;t understand your question. `For example int[] randomTerrain = {8, 4, 8, 2, 6, 3, 2, 1, 6, 9}; the water strorage capacity of this groundstructure is 0+4+0+6+2+5+6+7+2+0=32` ... how does the first array relate to that number 32? It s not clear how you compute that number!!! That is the key thing here: before you start thinking about writing code to solve a problem ... enable yourself to *explain* the problem. To you, and the people you are asking to help.","body":"I don&#39;t understand your question. <code>For example int[] randomTerrain = {8, 4, 8, 2, 6, 3, 2, 1, 6, 9}; the water strorage capacity of this groundstructure is 0+4+0+6+2+5+6+7+2+0=32</code> ... how does the first array relate to that number 32? It s not clear how you compute that number!!! That is the key thing here: before you start thinking about writing code to solve a problem ... enable yourself to <i>explain</i> the problem. To you, and the people you are asking to help."},{"owner":{"account_id":23402003,"reputation":1,"user_id":17465033,"display_name":"Jacek517"},"score":0,"creation_date":1644316520,"post_id":71031780,"comment_id":125568412,"body_markdown":"So sorry if I was not clear, int array is ground structure first element is 8 second is 4 and third is again 8 in this case if You imagine as 8 is 8 meter wall and between two 8m walls on a 4meter platform can be stored 4 units of water, in case if the first value is 10 and decreasing till the end of array than can not store any water.","body":"So sorry if I was not clear, int array is ground structure first element is 8 second is 4 and third is again 8 in this case if You imagine as 8 is 8 meter wall and between two 8m walls on a 4meter platform can be stored 4 units of water, in case if the first value is 10 and decreasing till the end of array than can not store any water."},{"owner":{"account_id":23402003,"reputation":1,"user_id":17465033,"display_name":"Jacek517"},"score":0,"creation_date":1644496120,"post_id":71031780,"comment_id":125625215,"body_markdown":"Thank You, will keep in mind Your suggestion, code is great","body":"Thank You, will keep in mind Your suggestion, code is great"},{"owner":{"account_id":23402003,"reputation":1,"user_id":17465033,"display_name":"Jacek517"},"score":0,"creation_date":1645199125,"post_id":71031780,"comment_id":125815178,"body_markdown":"Dear GhostCat, Your code is perfect, but we still not learned about the stream methods I cant use it to prepare my homework. Could You please help me to write it with simple methods? If You check my triggers above You can see what I mean. I started of course study the methods used by you in your code and tried to simplify it to write it my way but couldn&#39;t, so it has to be done by more simple methods. Thanks in adavance for Your help!","body":"Dear GhostCat, Your code is perfect, but we still not learned about the stream methods I cant use it to prepare my homework. Could You please help me to write it with simple methods? If You check my triggers above You can see what I mean. I started of course study the methods used by you in your code and tried to simplify it to write it my way but couldn&#39;t, so it has to be done by more simple methods. Thanks in adavance for Your help!"}],"answers":[{"tags":[],"owner":{"account_id":22018848,"reputation":51,"user_id":16287946,"display_name":"seyoatda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644320412,"creation_date":1644320412,"answer_id":71033272,"question_id":71031780,"body_markdown":"the code&#39;s meaning is basically explained in the comments. this may solve your problem but maybe it&#39;s not the most efficient way. You can explore more ways by yourself.\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        int[] terrain = { 8, 4, 8, 2, 6, 3, 2, 1, 6, 9 };\r\n        int[] capacity = countCapacity(terrain);\r\n        int sum = Arrays.stream(capacity).sum();\r\n        System.out.println(Arrays.toString(capacity));\r\n        System.out.println(sum);\r\n        printGraph(terrain,capacity);\r\n    }\r\n\r\n    public static void printGraph(int[] terrain, int[] capacity) {\r\n        // find the max height, and it will be the row numbers of console output.\r\n        int maxHeight = Arrays.stream(terrain).max().orElse(0);\r\n        for (int j = maxHeight; j &gt; 0; j--) {\r\n            for (int i = 0; i &lt; terrain.length; i++) {\r\n                // if terrain height is lower than current printing height.\r\n            \tif (terrain[i] &lt; j){\r\n            \t    // and terrain&#39;s capacity + height is lower, just print space\r\n            \t    if (capacity[i] + terrain[i] &lt; j){\r\n                        System.out.print(&quot;   &quot;);\r\n                    // otherwise, print water\r\n                    }else {\r\n                        System.out.print(&quot; - &quot;);\r\n                    }\r\n                // if terrain height is higher than current printing height. print terrain\r\n                }else {\r\n                    System.out.print(&quot; * &quot;);\r\n                }\r\n            }\r\n            // make a new row.\r\n\t\t\tSystem.out.println();\r\n        }\r\n    }\r\n\r\n    public static int[] countCapacity(int[] terrain) {\r\n        List&lt;Integer&gt; terranList = Arrays.stream(terrain).boxed().collect(Collectors.toList());\r\n        int[] capacity = new int[terrain.length];\r\n        // the first and last terrain&#39;s capacity must be 0. just set it first.\r\n        capacity[0] = 0;\r\n        capacity[capacity.length - 1] = 0;\r\n        for (int i = 1; i &lt; terrain.length - 1; i++) {\r\n            // if there&#39;s no terrain higher than current terrain at left. then it can not hold water.\r\n            // so it&#39;s capacity is 0, and skip to next terrain.\r\n            int currentHeight = terrain[i];\r\n            int leftHighest = Collections.max(terranList.subList(0, i));\r\n            if (leftHighest &lt;= currentHeight) {\r\n                capacity[i] = 0;\r\n                continue;\r\n            }\r\n            // if there&#39;s no higher terrain in the right. the same as above.\r\n            int rightHighest = Collections.max(terranList.subList(i + 1, terranList.size()));\r\n            if (rightHighest &lt;= currentHeight) {\r\n                capacity[i] = 0;\r\n                continue;\r\n            }\r\n            // if there are higher terrain int both direction. this terrain can hold water.\r\n            // and its capacity is the lower one minus this terrain&#39;s height.\r\n            capacity[i] = Math.min(leftHighest, rightHighest) - currentHeight;\r\n        }\r\n        return capacity;\r\n    }\r\n}\r\n```\r\nthe output may like:\r\n```\r\n[0, 4, 0, 6, 2, 5, 6, 7, 2, 0]\r\n32\r\n                            * \r\n *  -  *  -  -  -  -  -  -  * \r\n *  -  *  -  -  -  -  -  -  * \r\n *  -  *  -  *  -  -  -  *  * \r\n *  -  *  -  *  -  -  -  *  * \r\n *  *  *  -  *  -  -  -  *  * \r\n *  *  *  -  *  *  -  -  *  * \r\n *  *  *  *  *  *  *  -  *  * \r\n *  *  *  *  *  *  *  *  *  * \r\n```\r\n","title":"How to count the difference between a random int array elements values in Java","body":"<p>the code's meaning is basically explained in the comments. this may solve your problem but maybe it's not the most efficient way. You can explore more ways by yourself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        int[] terrain = { 8, 4, 8, 2, 6, 3, 2, 1, 6, 9 };\n        int[] capacity = countCapacity(terrain);\n        int sum = Arrays.stream(capacity).sum();\n        System.out.println(Arrays.toString(capacity));\n        System.out.println(sum);\n        printGraph(terrain,capacity);\n    }\n\n    public static void printGraph(int[] terrain, int[] capacity) {\n        // find the max height, and it will be the row numbers of console output.\n        int maxHeight = Arrays.stream(terrain).max().orElse(0);\n        for (int j = maxHeight; j &gt; 0; j--) {\n            for (int i = 0; i &lt; terrain.length; i++) {\n                // if terrain height is lower than current printing height.\n                if (terrain[i] &lt; j){\n                    // and terrain's capacity + height is lower, just print space\n                    if (capacity[i] + terrain[i] &lt; j){\n                        System.out.print(&quot;   &quot;);\n                    // otherwise, print water\n                    }else {\n                        System.out.print(&quot; - &quot;);\n                    }\n                // if terrain height is higher than current printing height. print terrain\n                }else {\n                    System.out.print(&quot; * &quot;);\n                }\n            }\n            // make a new row.\n            System.out.println();\n        }\n    }\n\n    public static int[] countCapacity(int[] terrain) {\n        List&lt;Integer&gt; terranList = Arrays.stream(terrain).boxed().collect(Collectors.toList());\n        int[] capacity = new int[terrain.length];\n        // the first and last terrain's capacity must be 0. just set it first.\n        capacity[0] = 0;\n        capacity[capacity.length - 1] = 0;\n        for (int i = 1; i &lt; terrain.length - 1; i++) {\n            // if there's no terrain higher than current terrain at left. then it can not hold water.\n            // so it's capacity is 0, and skip to next terrain.\n            int currentHeight = terrain[i];\n            int leftHighest = Collections.max(terranList.subList(0, i));\n            if (leftHighest &lt;= currentHeight) {\n                capacity[i] = 0;\n                continue;\n            }\n            // if there's no higher terrain in the right. the same as above.\n            int rightHighest = Collections.max(terranList.subList(i + 1, terranList.size()));\n            if (rightHighest &lt;= currentHeight) {\n                capacity[i] = 0;\n                continue;\n            }\n            // if there are higher terrain int both direction. this terrain can hold water.\n            // and its capacity is the lower one minus this terrain's height.\n            capacity[i] = Math.min(leftHighest, rightHighest) - currentHeight;\n        }\n        return capacity;\n    }\n}\n</code></pre>\n<p>the output may like:</p>\n<pre><code>[0, 4, 0, 6, 2, 5, 6, 7, 2, 0]\n32\n                            * \n *  -  *  -  -  -  -  -  -  * \n *  -  *  -  -  -  -  -  -  * \n *  -  *  -  *  -  -  -  *  * \n *  -  *  -  *  -  -  -  *  * \n *  *  *  -  *  -  -  -  *  * \n *  *  *  -  *  *  -  -  *  * \n *  *  *  *  *  *  *  -  *  * \n *  *  *  *  *  *  *  *  *  * \n</code></pre>\n"}],"owner":{"account_id":23402003,"reputation":1,"user_id":17465033,"display_name":"Jacek517"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645198694,"creation_date":1644314044,"question_id":71031780,"body_markdown":"I&#39;m a beginner and need help with following:-)There is a random int array, the values(0-10) are showing the level of terrain, I need to count first how much water can be stored on this ground structure. For example int[] randomTerrain = {8, 4, 8, 2, 6, 3, 2, 1, 6, 9}; the water strorage capacity of this groundstructure is 0+4+0+6+2+5+6+7+2+0=32. I have two questions, first how to count it from a random int array?\r\nSecond is a bit different as I need to print out and visualize it in a 2D string array [10][10] where string ground = &quot;*&quot;; string water = &quot;-&quot;; and the air is empty space. \r\nThanks in advance for Your help! below You can se what I&#39;ve done, but it is not wotrking as expected.\r\nGhostCats resolution is perfect but as we did not learn still about stream methods it would be apreciate if somebody could help with a bit different resolution using only simple methods.\r\npackage Rezervoir;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\npublic class Rezervoir {\r\n\r\n\tprivate static final int TERRAIN_HEIGHT = 10;\r\n\tprivate static final int TERRAIN_WIDTH = 10;\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tint[] randomTerrain = createRandomTerrain();\r\n\t\tSystem.out.println(Arrays.toString(randomTerrain));\r\n\t\t\t\t\t\t\r\n\t\tint waterStorageCapacity = countWaterCapacity(randomTerrain);\t\t\r\n\t\tSystem.out.println(waterStorageCapacity);\t\r\n\t\tSystem.out.println();\r\n\t\tString[][] terrain = {\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\r\n\t\t\t\t{&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;}\r\n\t\t};\r\n\r\n\t\tint row = 0;\r\n\t\tint column = 0;\r\n\r\n\t\tfor (column = 0 ; column &lt; terrain[0].length ; column++) {\r\n\r\n\t\t\tfor (row = 0 ; row &lt; terrain.length ; row++) {\r\n\r\n\t\t\t\tif ((terrain.length -1) -row &lt;= randomTerrain[column]) {\r\n\r\n\t\t\t\t\tterrain[column][row] = &quot;*&quot;;\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.print(terrain[terrain.length-1-row][column] + &quot;\\t&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n\tprivate static int countWaterCapacity(int[] randomTerrain) {\r\n\t\tint capacitySum = 0;\r\n\t\tint firstTop = 0;\t\r\n\t\t\r\n\t\tfor (int i = 0 ; i &lt; randomTerrain.length -1 ; i++) {\t\t\t\r\n\t\t\t\r\n\t\t\tif (randomTerrain[i] &gt;= randomTerrain[i+1]) {\r\n\t\t\t\tfirstTop = randomTerrain[i];\t\t\t\r\n\t\t\t}\t\t\t\t\r\n\t\t\t\telse if (randomTerrain[i+1] &gt;= randomTerrain[i])\t{\r\n\t\t\t\t\tfirstTop = randomTerrain[i+1];\t\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\tint capacity = 0;\r\n\t\t\tcapacity = firstTop - randomTerrain[i];\r\n\t\t\tcapacitySum += capacity;\t\t\t\r\n\t\t}\r\n\t\treturn capacitySum;\r\n\t}\r\n\tprivate static int[] createRandomTerrain() {\r\n\t\tint[] randomTerrain = new int[TERRAIN_WIDTH];\r\n\r\n\t\tfor (int i = 0 ; i &lt; randomTerrain.length ; i ++) {\r\n\t\t\trandomTerrain[i] = (int) (Math.random() * TERRAIN_HEIGHT + 1);\r\n\r\n\t\t}\r\n\t\treturn randomTerrain;\t\t\r\n\t}\r\n}\r\n","title":"How to count the difference between a random int array elements values in Java","body":"<p>I'm a beginner and need help with following:-)There is a random int array, the values(0-10) are showing the level of terrain, I need to count first how much water can be stored on this ground structure. For example int[] randomTerrain = {8, 4, 8, 2, 6, 3, 2, 1, 6, 9}; the water strorage capacity of this groundstructure is 0+4+0+6+2+5+6+7+2+0=32. I have two questions, first how to count it from a random int array?\nSecond is a bit different as I need to print out and visualize it in a 2D string array [10][10] where string ground = &quot;*&quot;; string water = &quot;-&quot;; and the air is empty space.\nThanks in advance for Your help! below You can se what I've done, but it is not wotrking as expected.\nGhostCats resolution is perfect but as we did not learn still about stream methods it would be apreciate if somebody could help with a bit different resolution using only simple methods.\npackage Rezervoir;</p>\n<p>import java.util.Arrays;\nimport java.util.Random;</p>\n<p>public class Rezervoir {</p>\n<pre><code>private static final int TERRAIN_HEIGHT = 10;\nprivate static final int TERRAIN_WIDTH = 10;\n\npublic static void main(String[] args) {\n\n    int[] randomTerrain = createRandomTerrain();\n    System.out.println(Arrays.toString(randomTerrain));\n                    \n    int waterStorageCapacity = countWaterCapacity(randomTerrain);       \n    System.out.println(waterStorageCapacity);   \n    System.out.println();\n    String[][] terrain = {\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;},\n            {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;}\n    };\n\n    int row = 0;\n    int column = 0;\n\n    for (column = 0 ; column &lt; terrain[0].length ; column++) {\n\n        for (row = 0 ; row &lt; terrain.length ; row++) {\n\n            if ((terrain.length -1) -row &lt;= randomTerrain[column]) {\n\n                terrain[column][row] = &quot;*&quot;;\n            }\n            System.out.print(terrain[terrain.length-1-row][column] + &quot;\\t&quot;);\n        }\n        System.out.println();\n    }\n}\nprivate static int countWaterCapacity(int[] randomTerrain) {\n    int capacitySum = 0;\n    int firstTop = 0;   \n    \n    for (int i = 0 ; i &lt; randomTerrain.length -1 ; i++) {           \n        \n        if (randomTerrain[i] &gt;= randomTerrain[i+1]) {\n            firstTop = randomTerrain[i];            \n        }               \n            else if (randomTerrain[i+1] &gt;= randomTerrain[i])    {\n                firstTop = randomTerrain[i+1];                  \n            }               \n        int capacity = 0;\n        capacity = firstTop - randomTerrain[i];\n        capacitySum += capacity;            \n    }\n    return capacitySum;\n}\nprivate static int[] createRandomTerrain() {\n    int[] randomTerrain = new int[TERRAIN_WIDTH];\n\n    for (int i = 0 ; i &lt; randomTerrain.length ; i ++) {\n        randomTerrain[i] = (int) (Math.random() * TERRAIN_HEIGHT + 1);\n\n    }\n    return randomTerrain;       \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven","jakarta-ee","jaxb","xml-binding"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1645185903,"post_id":71170312,"comment_id":125810100,"body_markdown":"The simplest one to generate a pom file is by using MavenXpp3 reader/writer using the dependency `maven-model:3.8.4`...","body":"The simplest one to generate a pom file is by using MavenXpp3 reader/writer using the dependency <code>maven-model:3.8.4</code>..."}],"answers":[{"tags":[],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645198625,"creation_date":1645174326,"answer_id":71170691,"question_id":71170312,"body_markdown":"I forgot to provide the namespace to the QName :\r\n\r\n    new QName(&quot;http://maven.apache.org/POM/4.0.0&quot;, &quot;project&quot;)\r\n\r\nAnd now the result looks good :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.11.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThere&#39;s no need for a prefix mapper, so the code can be simplified:\r\n\r\n    import org.apache.maven.pom.Dependency;\r\n    import org.apache.maven.pom.Model;\r\n    import org.apache.maven.pom.Model.Dependencies;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    import jakarta.xml.bind.JAXB;\r\n    import jakarta.xml.bind.JAXBElement;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Model model = new Model();\r\n            model.setModelVersion(&quot;4.0.0&quot;);\r\n            model.setDependencies(new Dependencies());\r\n            Dependency dependency = new Dependency();\r\n            dependency.setGroupId(&quot;commons-io&quot;);\r\n            dependency.setArtifactId(&quot;commons-io&quot;);\r\n            dependency.setVersion(&quot;2.11.0&quot;);\r\n            model.getDependencies().getDependency().add(dependency);\r\n            JAXBElement&lt;Model&gt; elem = new JAXBElement&lt;&gt;(new QName(&quot;http://maven.apache.org/POM/4.0.0&quot;, &quot;project&quot;), Model.class, model);\r\n            JAXB.marshal(elem, System.out);\r\n        }\r\n    }\r\n\r\n","title":"How do I remove the ns2 prefixes from XML elements using JAXB 3 and a NamespacePrefixMapper?","body":"<p>I forgot to provide the namespace to the QName :</p>\n<pre><code>new QName(&quot;http://maven.apache.org/POM/4.0.0&quot;, &quot;project&quot;)\n</code></pre>\n<p>And now the result looks good :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>There's no need for a prefix mapper, so the code can be simplified:</p>\n<pre><code>import org.apache.maven.pom.Dependency;\nimport org.apache.maven.pom.Model;\nimport org.apache.maven.pom.Model.Dependencies;\n\nimport javax.xml.namespace.QName;\n\nimport jakarta.xml.bind.JAXB;\nimport jakarta.xml.bind.JAXBElement;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Model model = new Model();\n        model.setModelVersion(&quot;4.0.0&quot;);\n        model.setDependencies(new Dependencies());\n        Dependency dependency = new Dependency();\n        dependency.setGroupId(&quot;commons-io&quot;);\n        dependency.setArtifactId(&quot;commons-io&quot;);\n        dependency.setVersion(&quot;2.11.0&quot;);\n        model.getDependencies().getDependency().add(dependency);\n        JAXBElement&lt;Model&gt; elem = new JAXBElement&lt;&gt;(new QName(&quot;http://maven.apache.org/POM/4.0.0&quot;, &quot;project&quot;), Model.class, model);\n        JAXB.marshal(elem, System.out);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71170691,"answer_count":1,"score":1,"last_activity_date":1645198625,"creation_date":1645172372,"question_id":71170312,"body_markdown":"I want to generate a POM file using JAXB 3. I downloaded the XSD [https://maven.apache.org/xsd/maven-4.0.0.xsd][1] into `src/main/xsd`.\r\nI generated the model classes using the JAXB maven plugin.\r\n\r\nThe POM file of the project is :\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.mycompany.myproject&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-maven&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.evolvedbinary.maven.mojohaus&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jaxb-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;packageName&gt;org.apache.maven.pom&lt;/packageName&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThe main class used to generate the sample POM is :\r\n\r\n    import org.apache.maven.pom.Dependency;\r\n    import org.apache.maven.pom.Model;\r\n    import org.apache.maven.pom.Model.Dependencies;\r\n    import org.glassfish.jaxb.core.v2.WellKnownNamespace;\r\n    import org.glassfish.jaxb.runtime.marshaller.NamespacePrefixMapper;\r\n    \r\n    import javax.xml.XMLConstants;\r\n    import javax.xml.namespace.QName;\r\n    \r\n    import jakarta.xml.bind.JAXBContext;\r\n    import jakarta.xml.bind.JAXBElement;\r\n    import jakarta.xml.bind.JAXBException;\r\n    import jakarta.xml.bind.Marshaller;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws JAXBException {\r\n            Model model = new Model();\r\n            model.setModelVersion(&quot;4.0.0&quot;);\r\n            model.setDependencies(new Dependencies());\r\n            Dependency dependency = new Dependency();\r\n            dependency.setGroupId(&quot;commons-io&quot;);\r\n            dependency.setArtifactId(&quot;commons-io&quot;);\r\n            dependency.setVersion(&quot;2.11.0&quot;);\r\n            model.getDependencies().getDependency().add(dependency);\r\n            JAXBElement&lt;Model&gt; elem = new JAXBElement&lt;&gt;(new QName(&quot;project&quot;), Model.class, model);\r\n            JAXBContext context = JAXBContext.newInstance(Model.class);\r\n            Marshaller m = context.createMarshaller();\r\n            m.setProperty(&quot;org.glassfish.jaxb.namespacePrefixMapper&quot;, new NamespacePrefixMapper() {\r\n                @Override\r\n                public String getPreferredPrefix(String namespaceUri, String suggestion, boolean requirePrefix) {\r\n                    return switch (namespaceUri) {\r\n                        case XMLConstants.W3C_XML_SCHEMA_INSTANCE_NS_URI -&gt; &quot;xsi&quot;;\r\n                        case XMLConstants.W3C_XML_SCHEMA_NS_URI -&gt; &quot;xs&quot;;\r\n                        case WellKnownNamespace.XML_MIME_URI -&gt; &quot;xmime&quot;;\r\n                        default -&gt; &quot;&quot;;\r\n                    };\r\n                }\r\n            });\r\n            m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,true);\r\n            m.marshal(elem, System.out);\r\n        }\r\n    }\r\n\r\nMy issue is, the output contains undesired ns2 prefixes. I didn&#39;t figure out how to tell the marshaller that the generated model uses the default namespace and not a namespace named ns2.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;project xmlns:ns2=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\r\n        &lt;ns2:modelVersion&gt;4.0.0&lt;/ns2:modelVersion&gt;\r\n        &lt;ns2:dependencies&gt;\r\n            &lt;ns2:dependency&gt;\r\n                &lt;ns2:groupId&gt;commons-io&lt;/ns2:groupId&gt;\r\n                &lt;ns2:artifactId&gt;commons-io&lt;/ns2:artifactId&gt;\r\n                &lt;ns2:version&gt;2.11.0&lt;/ns2:version&gt;\r\n            &lt;/ns2:dependency&gt;\r\n        &lt;/ns2:dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://maven.apache.org/xsd/maven-4.0.0.xsd\r\n","title":"How do I remove the ns2 prefixes from XML elements using JAXB 3 and a NamespacePrefixMapper?","body":"<p>I want to generate a POM file using JAXB 3. I downloaded the XSD <a href=\"https://maven.apache.org/xsd/maven-4.0.0.xsd\" rel=\"nofollow noreferrer\">https://maven.apache.org/xsd/maven-4.0.0.xsd</a> into <code>src/main/xsd</code>.\nI generated the model classes using the JAXB maven plugin.</p>\n<p>The POM file of the project is :</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany.myproject&lt;/groupId&gt;\n    &lt;artifactId&gt;test-maven&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.evolvedbinary.maven.mojohaus&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xjc&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xjc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;packageName&gt;org.apache.maven.pom&lt;/packageName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The main class used to generate the sample POM is :</p>\n<pre><code>import org.apache.maven.pom.Dependency;\nimport org.apache.maven.pom.Model;\nimport org.apache.maven.pom.Model.Dependencies;\nimport org.glassfish.jaxb.core.v2.WellKnownNamespace;\nimport org.glassfish.jaxb.runtime.marshaller.NamespacePrefixMapper;\n\nimport javax.xml.XMLConstants;\nimport javax.xml.namespace.QName;\n\nimport jakarta.xml.bind.JAXBContext;\nimport jakarta.xml.bind.JAXBElement;\nimport jakarta.xml.bind.JAXBException;\nimport jakarta.xml.bind.Marshaller;\n\npublic class Main {\n\n    public static void main(String[] args) throws JAXBException {\n        Model model = new Model();\n        model.setModelVersion(&quot;4.0.0&quot;);\n        model.setDependencies(new Dependencies());\n        Dependency dependency = new Dependency();\n        dependency.setGroupId(&quot;commons-io&quot;);\n        dependency.setArtifactId(&quot;commons-io&quot;);\n        dependency.setVersion(&quot;2.11.0&quot;);\n        model.getDependencies().getDependency().add(dependency);\n        JAXBElement&lt;Model&gt; elem = new JAXBElement&lt;&gt;(new QName(&quot;project&quot;), Model.class, model);\n        JAXBContext context = JAXBContext.newInstance(Model.class);\n        Marshaller m = context.createMarshaller();\n        m.setProperty(&quot;org.glassfish.jaxb.namespacePrefixMapper&quot;, new NamespacePrefixMapper() {\n            @Override\n            public String getPreferredPrefix(String namespaceUri, String suggestion, boolean requirePrefix) {\n                return switch (namespaceUri) {\n                    case XMLConstants.W3C_XML_SCHEMA_INSTANCE_NS_URI -&gt; &quot;xsi&quot;;\n                    case XMLConstants.W3C_XML_SCHEMA_NS_URI -&gt; &quot;xs&quot;;\n                    case WellKnownNamespace.XML_MIME_URI -&gt; &quot;xmime&quot;;\n                    default -&gt; &quot;&quot;;\n                };\n            }\n        });\n        m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,true);\n        m.marshal(elem, System.out);\n    }\n}\n</code></pre>\n<p>My issue is, the output contains undesired ns2 prefixes. I didn't figure out how to tell the marshaller that the generated model uses the default namespace and not a namespace named ns2.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;project xmlns:ns2=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\n    &lt;ns2:modelVersion&gt;4.0.0&lt;/ns2:modelVersion&gt;\n    &lt;ns2:dependencies&gt;\n        &lt;ns2:dependency&gt;\n            &lt;ns2:groupId&gt;commons-io&lt;/ns2:groupId&gt;\n            &lt;ns2:artifactId&gt;commons-io&lt;/ns2:artifactId&gt;\n            &lt;ns2:version&gt;2.11.0&lt;/ns2:version&gt;\n        &lt;/ns2:dependency&gt;\n    &lt;/ns2:dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","algorithm","sorting","data-structures","linked-list"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1645185709,"post_id":71173099,"comment_id":125810020,"body_markdown":"What language? Please tag your question accordingly.","body":"What language? Please tag your question accordingly."},{"owner":{"account_id":17811536,"reputation":653,"user_id":12936009,"display_name":"NobinPegasus"},"score":0,"creation_date":1645186418,"post_id":71173099,"comment_id":125810273,"body_markdown":"Java Language, Edited","body":"Java Language, Edited"}],"answers":[{"tags":[],"owner":{"account_id":7092885,"reputation":69,"user_id":5427538,"display_name":"Dalendrion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645198298,"creation_date":1645198298,"answer_id":71175992,"question_id":71173099,"body_markdown":"What you can do is add a `Comparator` as a parameter to your sort function.\r\nSee https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html.\r\n\r\n```\r\n    public void sortList(Comparator&lt;Node&gt; comparator) {\r\n```\r\nThen\r\n```\r\n                    if(comparator.compare(current, price) &gt; 0) { \r\n                        temp = current.price;  \r\n                        current.price = index.price;  \r\n                        index.price = temp;  \r\n                    }    \r\n```\r\n\r\nNow you can choose what to sort by with:\r\n```\r\nll.sort(Comparator.comparing(node -&gt; node.getPrice()));\r\n```\r\nor:\r\n```\r\nll.sort(Comparator.comparing(node -&gt; node.getTeacher_id()))\r\n```","title":"Sort a linked list based on the parameter field","body":"<p>What you can do is add a <code>Comparator</code> as a parameter to your sort function.\nSee <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a>.</p>\n<pre><code>    public void sortList(Comparator&lt;Node&gt; comparator) {\n</code></pre>\n<p>Then</p>\n<pre><code>                    if(comparator.compare(current, price) &gt; 0) { \n                        temp = current.price;  \n                        current.price = index.price;  \n                        index.price = temp;  \n                    }    \n</code></pre>\n<p>Now you can choose what to sort by with:</p>\n<pre><code>ll.sort(Comparator.comparing(node -&gt; node.getPrice()));\n</code></pre>\n<p>or:</p>\n<pre><code>ll.sort(Comparator.comparing(node -&gt; node.getTeacher_id()))\n</code></pre>\n"}],"owner":{"account_id":17811536,"reputation":653,"user_id":12936009,"display_name":"NobinPegasus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645198298,"creation_date":1645185473,"question_id":71173099,"body_markdown":"The following is a code of sorting a singly linked list. Where each node has the pointer to the next node. and a data field. Here I can&#39;t pass parameter to my sortList() function.\r\n\r\n```java\r\npublic class LL {\r\n\r\n    private Node head;\r\n    private Node tail;\r\n    private int size;\r\n\r\n    public LL() {\r\n        this.size = 0;\r\n    }\r\n\r\n    public void sortList() {  \r\n        //Node current will point to head  \r\n        Node current = head, index = null;  \r\n        int temp;  \r\n          \r\n        if(head == null) {  \r\n            return;  \r\n        }  \r\n        else {  \r\n            while(current != null) {  \r\n                //Node index will point to node next to current  \r\n                index = current.next;  \r\n                  \r\n                while(index != null) {  \r\n                    //If current node&#39;s data is greater than index&#39;s node data, swap the data between them  \r\n                    if(current.data &gt; index.data) {  \r\n                        temp = current.data;  \r\n                        current.data = index.data;  \r\n                        index.data = temp;  \r\n                    }  \r\n                    index = index.next;  \r\n                }  \r\n                current = current.next;  \r\n            }      \r\n        }\r\n```\r\n\r\nBut what I want to do is pass a parameter to the list. Here my nodes have unique_id, hours, price, teacher_id.\r\nI want to sort my list based on what I pass to the sortfunction.\r\nLike if I pass int price to the method, I want my list to be sorted based on the price. If I pass hours, I want the list to be sorted on the basis of hours.\r\nSo that it sorts based on that specific field something like the following code:\r\n\r\n```java\r\npublic class LL {\r\n\r\n    private Node head;\r\n    private Node tail;\r\n    private int size;\r\n\r\n    public LL() {\r\n        this.size = 0;\r\n    }\r\n\r\n    private class Node {\r\n        private String unique_id;\r\n        private int hours = -1;\r\n        private String teacher_id;\r\n        private String topic_name;\r\n        private int price = -1;\r\n        private LL ll_of_ll;\r\n        private Node next;\r\n    \r\n\r\n    public void sortList(int price) {  \r\n        //Node current will point to head  \r\n        Node current = head, index = null;  \r\n        int temp;  \r\n          \r\n        if(head == null) {  \r\n            return;  \r\n        }  \r\n        else {  \r\n            while(current != null) {  \r\n                //Node index will point to node next to current  \r\n                index = current.next;  \r\n                  \r\n                while(index != null) {  \r\n                    //If current node&#39;s data is greater than index&#39;s node data, swap the data between them  \r\n                    if(current.price &gt; index.price) {  \r\n                        temp = current.price;  \r\n                        current.price = index.price;  \r\n                        index.price = temp;  \r\n                    }  \r\n                    index = index.next;  \r\n                }  \r\n                current = current.next;  \r\n            }      \r\n        } \r\n```","title":"Sort a linked list based on the parameter field","body":"<p>The following is a code of sorting a singly linked list. Where each node has the pointer to the next node. and a data field. Here I can't pass parameter to my sortList() function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LL {\n\n    private Node head;\n    private Node tail;\n    private int size;\n\n    public LL() {\n        this.size = 0;\n    }\n\n    public void sortList() {  \n        //Node current will point to head  \n        Node current = head, index = null;  \n        int temp;  \n          \n        if(head == null) {  \n            return;  \n        }  \n        else {  \n            while(current != null) {  \n                //Node index will point to node next to current  \n                index = current.next;  \n                  \n                while(index != null) {  \n                    //If current node's data is greater than index's node data, swap the data between them  \n                    if(current.data &gt; index.data) {  \n                        temp = current.data;  \n                        current.data = index.data;  \n                        index.data = temp;  \n                    }  \n                    index = index.next;  \n                }  \n                current = current.next;  \n            }      \n        }\n</code></pre>\n<p>But what I want to do is pass a parameter to the list. Here my nodes have unique_id, hours, price, teacher_id.\nI want to sort my list based on what I pass to the sortfunction.\nLike if I pass int price to the method, I want my list to be sorted based on the price. If I pass hours, I want the list to be sorted on the basis of hours.\nSo that it sorts based on that specific field something like the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LL {\n\n    private Node head;\n    private Node tail;\n    private int size;\n\n    public LL() {\n        this.size = 0;\n    }\n\n    private class Node {\n        private String unique_id;\n        private int hours = -1;\n        private String teacher_id;\n        private String topic_name;\n        private int price = -1;\n        private LL ll_of_ll;\n        private Node next;\n    \n\n    public void sortList(int price) {  \n        //Node current will point to head  \n        Node current = head, index = null;  \n        int temp;  \n          \n        if(head == null) {  \n            return;  \n        }  \n        else {  \n            while(current != null) {  \n                //Node index will point to node next to current  \n                index = current.next;  \n                  \n                while(index != null) {  \n                    //If current node's data is greater than index's node data, swap the data between them  \n                    if(current.price &gt; index.price) {  \n                        temp = current.price;  \n                        current.price = index.price;  \n                        index.price = temp;  \n                    }  \n                    index = index.next;  \n                }  \n                current = current.next;  \n            }      \n        } \n</code></pre>\n"},{"tags":["java","recursion","static","static-methods","cumulative-sum"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1645197079,"post_id":71175693,"comment_id":125814354,"body_markdown":"Why even use a field if your class does not have state? Make ans a local variable, local to the method and not a static field of the class, since it serves no purpose as a field. A solution will not need that field.","body":"Why even use a field if your class does not have state? Make ans a local variable, local to the method and not a static field of the class, since it serves no purpose as a field. A solution will not need that field."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1645197341,"post_id":71175693,"comment_id":125814460,"body_markdown":"Rather you would include the value in your return statement.","body":"Rather you would include the value in your return statement."}],"answers":[{"tags":[],"owner":{"account_id":20838954,"reputation":76,"user_id":15306166,"display_name":"arpitj938"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645198100,"creation_date":1645198100,"answer_id":71175946,"question_id":71175693,"body_markdown":"Why use recursion, the goal can be achieved in O(1) complexity using maths\r\n\r\n```\r\n\r\nSum of the number between a and b  \r\n- Step 1 find sum from 1 to a i.e. (a*(a+1))/2 \r\n- Step 2 find sum from 1 to b i.e. (b*(b+1))/2 \r\n- Step 3 Subtract out the result of step 2 by step 1 and add a\r\n\r\n```\r\n\r\n```\r\nans = (b*(b+1)/2) - (a*(a+1)/2) + a\r\n```\r\n","title":"How can I use an instance variable with a static recursive method in java? (cumulative sum problem)","body":"<p>Why use recursion, the goal can be achieved in O(1) complexity using maths</p>\n<pre><code>\nSum of the number between a and b  \n- Step 1 find sum from 1 to a i.e. (a*(a+1))/2 \n- Step 2 find sum from 1 to b i.e. (b*(b+1))/2 \n- Step 3 Subtract out the result of step 2 by step 1 and add a\n\n</code></pre>\n<pre><code>ans = (b*(b+1)/2) - (a*(a+1)/2) + a\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20059877,"reputation":153,"user_id":14706827,"display_name":"SomeoneLearning17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645198120,"creation_date":1645198120,"answer_id":71175952,"question_id":71175693,"body_markdown":"Someone answer a second ago but deleted their answer - regardless, thank you stranger because it worked:\r\n\r\n     public static int sumBetween(int a, int b) {\r\n    \t return sumBetweenHelper(a, b, 0);\r\n     }\r\n     \r\n     public static int sumBetweenHelper(int a, int b, int ans) {\r\n    \t // base case\r\n    \t if (a==b) {\r\n    \t\t ans = ans +b;\r\n    \t\t return ans;\r\n    \t }\r\n    \t // recursion\r\n    \t ans = ans + a + b;\r\n    \t return sumBetweenHelper(a+1, b-1, ans);\r\n     }","title":"How can I use an instance variable with a static recursive method in java? (cumulative sum problem)","body":"<p>Someone answer a second ago but deleted their answer - regardless, thank you stranger because it worked:</p>\n<pre><code> public static int sumBetween(int a, int b) {\n     return sumBetweenHelper(a, b, 0);\n }\n \n public static int sumBetweenHelper(int a, int b, int ans) {\n     // base case\n     if (a==b) {\n         ans = ans +b;\n         return ans;\n     }\n     // recursion\n     ans = ans + a + b;\n     return sumBetweenHelper(a+1, b-1, ans);\n }\n</code></pre>\n"}],"owner":{"account_id":20059877,"reputation":153,"user_id":14706827,"display_name":"SomeoneLearning17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71175952,"answer_count":2,"score":0,"last_activity_date":1645198120,"creation_date":1645196955,"question_id":71175693,"body_markdown":"I&#39;m writing some code to figure out the cumulative sum between two numbers recursively, but the method i wrote requires updating a would-be instance variable called &quot;ans&quot;.\r\n\r\nSince the problem I&#39;m looking at requires the method header to be &quot;public static int sumBetween(int a, int b)&quot;, I&#39;m having issues using a non-static variable for this method.\r\n\r\nCurrently, I have the variable ans set to static but this can of course only run once, and if I call the method afterwards it starts with the variable ans being the last answer, not 0.\r\n\r\nI&#39;m new to recursion so I though I would start with some of these problems. Thank you!\r\n\r\nCode:\r\n\r\n    /* EXERCISE 2: Cumulative sum\r\n     * \r\n     * public static int sumBetween(int a, int b)\r\n     * The goal is to find the sum of the values from &#119886; to &#119887;. In math, we would write this problem as ∑&#119887;&#119894;=&#119886;&#119894;\r\n     */\r\n     static int ans =0;\r\n     \r\n     public static int sumBetween(int a, int b) {\r\n    \t // base case\r\n    \t if (a==b) {\r\n    \t\t ans = ans +b;\r\n    \t\t return ans;\r\n    \t }\r\n    \t // recursion\r\n    \t ans = ans + a + b;\r\n    \t return sumBetween(a+1, b-1);\r\n     }","title":"How can I use an instance variable with a static recursive method in java? (cumulative sum problem)","body":"<p>I'm writing some code to figure out the cumulative sum between two numbers recursively, but the method i wrote requires updating a would-be instance variable called &quot;ans&quot;.</p>\n<p>Since the problem I'm looking at requires the method header to be &quot;public static int sumBetween(int a, int b)&quot;, I'm having issues using a non-static variable for this method.</p>\n<p>Currently, I have the variable ans set to static but this can of course only run once, and if I call the method afterwards it starts with the variable ans being the last answer, not 0.</p>\n<p>I'm new to recursion so I though I would start with some of these problems. Thank you!</p>\n<p>Code:</p>\n<pre><code>/* EXERCISE 2: Cumulative sum\n * \n * public static int sumBetween(int a, int b)\n * The goal is to find the sum of the values from 𝑎 to 𝑏. In math, we would write this problem as ∑𝑏𝑖=𝑎𝑖\n */\n static int ans =0;\n \n public static int sumBetween(int a, int b) {\n     // base case\n     if (a==b) {\n         ans = ans +b;\n         return ans;\n     }\n     // recursion\n     ans = ans + a + b;\n     return sumBetween(a+1, b-1);\n }\n</code></pre>\n"},{"tags":["java","gradle","code-coverage","jacoco","eclemma"],"answers":[{"tags":[],"owner":{"account_id":2489020,"reputation":820,"user_id":2166900,"display_name":"GoGoris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432238392,"creation_date":1432238392,"answer_id":30383252,"question_id":30382982,"body_markdown":"This probably means that the jacoco plugin isn&#39;t configured correctly in gradle.\r\nHere you can find a checklist of common errors with Jacoco and gradle (Thanks to Taeho Kim&#39;s clear answer): https://stackoverflow.com/a/23965581/2166900\r\n\r\nAlso, here is the configuration that I used in my last Android project and that worked for me:\r\n\r\n    apply plugin: &#39;jacoco&#39;\r\n\r\n    jacoco {\r\n        toolVersion = &quot;0.7.2.+&quot;\r\n    }\r\n    \r\n    def coverageSourceDirs = [\r\n            &#39;src/main/java&#39;\r\n    ]\r\n    \r\n    task jacocoTestReport(type:JacocoReport, dependsOn: &quot;testDebug&quot;) {\r\n        group = &quot;Reporting&quot;\r\n    \r\n        description = &quot;Generate Jacoco coverage reports&quot;\r\n    \r\n        classDirectories = fileTree(\r\n                dir: &#39;build/intermediates/classes/debug&#39;,\r\n                excludes: [&#39;**/R.class&#39;,\r\n                           &#39;**/R$*.class&#39;,\r\n                           &#39;**/*$ViewInjector*.*&#39;,\r\n                           &#39;**/BuildConfig.*&#39;,\r\n                           &#39;**/Manifest*.*&#39;]\r\n        )\r\n    \r\n        additionalSourceDirs = files(coverageSourceDirs)\r\n        sourceDirectories = files(coverageSourceDirs)\r\n        executionData = files(&#39;build/jacoco/testDebug.exec&#39;)\r\n    \r\n        reports {\r\n            xml.enabled = false\r\n            html.enabled = true\r\n        }\r\n    }","title":"Gradle Jacoco Plugin Reporting Zero Coverage","body":"<p>This probably means that the jacoco plugin isn't configured correctly in gradle.\nHere you can find a checklist of common errors with Jacoco and gradle (Thanks to Taeho Kim's clear answer): <a href=\"https://stackoverflow.com/a/23965581/2166900\">https://stackoverflow.com/a/23965581/2166900</a></p>\n\n<p>Also, here is the configuration that I used in my last Android project and that worked for me:</p>\n\n<pre><code>apply plugin: 'jacoco'\n\njacoco {\n    toolVersion = \"0.7.2.+\"\n}\n\ndef coverageSourceDirs = [\n        'src/main/java'\n]\n\ntask jacocoTestReport(type:JacocoReport, dependsOn: \"testDebug\") {\n    group = \"Reporting\"\n\n    description = \"Generate Jacoco coverage reports\"\n\n    classDirectories = fileTree(\n            dir: 'build/intermediates/classes/debug',\n            excludes: ['**/R.class',\n                       '**/R$*.class',\n                       '**/*$ViewInjector*.*',\n                       '**/BuildConfig.*',\n                       '**/Manifest*.*']\n    )\n\n    additionalSourceDirs = files(coverageSourceDirs)\n    sourceDirectories = files(coverageSourceDirs)\n    executionData = files('build/jacoco/testDebug.exec')\n\n    reports {\n        xml.enabled = false\n        html.enabled = true\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3045812,"reputation":1188,"user_id":2581506,"display_name":"Eran H."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452423290,"creation_date":1452423290,"answer_id":34704580,"question_id":30382982,"body_markdown":"I had the same problem when switching to gradle wrapper, but kept running jacoco with gradle. Running jacoco with gradle wrapper solved the problem.\r\n\r\n[This stackoverflow accepted answer][1] helped me figure out what I missed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31720139/jacoco-code-coverage-report-generator-showing-error-classes-in-bundle-code-c","title":"Gradle Jacoco Plugin Reporting Zero Coverage","body":"<p>I had the same problem when switching to gradle wrapper, but kept running jacoco with gradle. Running jacoco with gradle wrapper solved the problem.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/31720139/jacoco-code-coverage-report-generator-showing-error-classes-in-bundle-code-c\">This stackoverflow accepted answer</a> helped me figure out what I missed.</p>\n"},{"tags":[],"owner":{"account_id":208843,"reputation":8250,"user_id":459579,"display_name":"ThomasRS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566306768,"creation_date":1566306768,"answer_id":57574528,"question_id":30382982,"body_markdown":"Also check that the unit tests actually run. If you have jar hell with Junit5, it might silently fail. Add `--info` and check for error messages.","title":"Gradle Jacoco Plugin Reporting Zero Coverage","body":"<p>Also check that the unit tests actually run. If you have jar hell with Junit5, it might silently fail. Add <code>--info</code> and check for error messages.</p>\n"},{"tags":[],"owner":{"account_id":1709850,"reputation":2020,"user_id":1568120,"accept_rate":57,"display_name":"Ging3r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645197900,"creation_date":1645197900,"answer_id":71175909,"question_id":30382982,"body_markdown":"I followed this medium guide:\r\n\r\nhttps://medium.com/codex/software-engineering-done-right-2358ae0d6dd4\r\n\r\nand into test/jacoco I added `include` param with my package like this\r\n\r\n    test{\r\n        ...\r\n        jacoco {\r\n            destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\r\n            includes= [&quot;it.funds.*&quot;]\r\n            classDumpDir = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\r\n        }\r\n        ...\r\n    }\r\n\r\n","title":"Gradle Jacoco Plugin Reporting Zero Coverage","body":"<p>I followed this medium guide:</p>\n<p><a href=\"https://medium.com/codex/software-engineering-done-right-2358ae0d6dd4\" rel=\"nofollow noreferrer\">https://medium.com/codex/software-engineering-done-right-2358ae0d6dd4</a></p>\n<p>and into test/jacoco I added <code>include</code> param with my package like this</p>\n<pre><code>test{\n    ...\n    jacoco {\n        destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\n        includes= [&quot;it.funds.*&quot;]\n        classDumpDir = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\n    }\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":2579744,"reputation":487,"user_id":2237164,"accept_rate":25,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7358,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1645197900,"creation_date":1432237477,"question_id":30382982,"body_markdown":"I&#39;m getting zero code coverage reported on a select group of classes, when running Gradle&#39;s Jacoco plugin. I have confirmed all unit tests, which tests these classes, have successfully ran.\r\n\r\nWhat is very interesting, is that EclEmma, in Eclipse, generates correct code coverage results. I have confirmed both tools are using the same version of Jacoco.\r\n\r\nI&#39;m trying to figure out what the difference between the two tools are? Do i need additonal configuration of the Gradle Jacoco plugin.\r\n\r\nEdit: My Gradle Jacoco output is showing &quot;Execution data for class com/.... does not match&quot;\r\n\r\nUpdate: I opened the test.exec file Jacoco generates, in Eclipse. It shows the classes with missing coverage having 80% of their probes executed.","title":"Gradle Jacoco Plugin Reporting Zero Coverage","body":"<p>I'm getting zero code coverage reported on a select group of classes, when running Gradle's Jacoco plugin. I have confirmed all unit tests, which tests these classes, have successfully ran.</p>\n\n<p>What is very interesting, is that EclEmma, in Eclipse, generates correct code coverage results. I have confirmed both tools are using the same version of Jacoco.</p>\n\n<p>I'm trying to figure out what the difference between the two tools are? Do i need additonal configuration of the Gradle Jacoco plugin.</p>\n\n<p>Edit: My Gradle Jacoco output is showing \"Execution data for class com/.... does not match\"</p>\n\n<p>Update: I opened the test.exec file Jacoco generates, in Eclipse. It shows the classes with missing coverage having 80% of their probes executed.</p>\n"},{"tags":["java","spring-boot","spring-security","freemarker"],"answers":[{"tags":[],"owner":{"account_id":20716571,"reputation":59,"user_id":15211848,"display_name":"forChin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613372198,"creation_date":1613372198,"answer_id":66203829,"question_id":65705637,"body_markdown":"Try this:\r\n\r\n```\r\n&lt;#assign \r\n    known=Session.SPRING_SECURITY_CONTEXT??&gt;\r\n&lt;#if known&gt;    \r\n    &lt;#assign\r\n        user = Session.SPRING_SECURITY_CONTEXT.authentication.principal\r\n        isDenisName = user.getUsername() == &quot;Denis&quot;&gt;\r\n&lt;#else&gt;\r\n    &lt;#assign\r\n        isDenisName=false&gt;\r\n&lt;/#if&gt;\r\n```","title":"how to get current authenticated user from current session in the freemarker template","body":"<p>Try this:</p>\n<pre><code>&lt;#assign \n    known=Session.SPRING_SECURITY_CONTEXT??&gt;\n&lt;#if known&gt;    \n    &lt;#assign\n        user = Session.SPRING_SECURITY_CONTEXT.authentication.principal\n        isDenisName = user.getUsername() == &quot;Denis&quot;&gt;\n&lt;#else&gt;\n    &lt;#assign\n        isDenisName=false&gt;\n&lt;/#if&gt;\n</code></pre>\n"}],"owner":{"account_id":17055493,"reputation":103,"user_id":12533741,"display_name":"denis Krivorutchko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645197314,"creation_date":1610554192,"question_id":65705637,"body_markdown":" 1.How to get current authenticated user from current session in the freemarker template.\r\n\r\n \r\n\r\n    &lt;#assign\r\n    \r\n    user = Session.SPRING_SECURITY_CONTEXT.authentication.principal\r\n    name = user.getName()\r\n    isDenisName = user.isDenis()\r\n    &gt;\r\n\r\nThis code does not work\r\n\r\n","title":"how to get current authenticated user from current session in the freemarker template","body":"<p>1.How to get current authenticated user from current session in the freemarker template.</p>\n<pre><code>&lt;#assign\n\nuser = Session.SPRING_SECURITY_CONTEXT.authentication.principal\nname = user.getName()\nisDenisName = user.isDenis()\n&gt;\n</code></pre>\n<p>This code does not work</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-datastore","google-compute-engine","jdo"],"answers":[{"tags":[],"owner":{"account_id":127461,"reputation":2848,"user_id":7644371,"display_name":"Jim Morrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645197174,"creation_date":1645197174,"answer_id":71175742,"question_id":71155610,"body_markdown":"From https://cloud.google.com/appengine/docs/standard/java/javadoc/com/google/appengine/api/datastore/EmbeddedEntity\r\n\r\nThis class is similar to Entity, but differs in the following ways:\r\n\r\n   * equals(Object) and hashCode() compare the embedded properties in addition to the Key.\r\n   * It is not queryable when stored in the datastore.\r\n\r\nConverting your EmbeddedEntity to an Entity or another serializable object should let you query on the embedded fields.","title":"Query on sub properties of Embedded entity in datastore","body":"<p>From <a href=\"https://cloud.google.com/appengine/docs/standard/java/javadoc/com/google/appengine/api/datastore/EmbeddedEntity\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/java/javadoc/com/google/appengine/api/datastore/EmbeddedEntity</a></p>\n<p>This class is similar to Entity, but differs in the following ways:</p>\n<ul>\n<li>equals(Object) and hashCode() compare the embedded properties in addition to the Key.</li>\n<li>It is not queryable when stored in the datastore.</li>\n</ul>\n<p>Converting your EmbeddedEntity to an Entity or another serializable object should let you query on the embedded fields.</p>\n"}],"owner":{"account_id":24286334,"reputation":1,"user_id":18232046,"display_name":"Bharathwaj ravi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645197174,"creation_date":1645090678,"question_id":71155610,"body_markdown":"I have user entity which has an embedded entity called address.Within address there is property called city. I want to query all the users in a particular city.\r\n\r\n    public class User implements Serializable {\r\n\t  @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\r\n\t  String id;\r\n      ...\t\r\n      EmbeddedEntity address;\r\n\r\n     //Getter ,Setter\r\n    }\r\nThe data for embedded entity is set as \r\n\r\n    address.setProperty(&quot;Country&quot;,&quot;India&quot;);\r\n    address.setProperty(&quot;City&quot;,&quot;Chennai&quot;);\r\n\r\nQuery:\r\n\r\n    Query q = mgr.newQuery(User.class,&quot;adderess.City == :arg0&quot;);\r\n    List&lt;User&gt; u = (List&lt;User&gt;) q.execute(&quot;Chennai&quot;);\r\n\r\nIt is not querying and throwing error \r\n\r\n&gt; encountered a variable expression that isn&#39;t part of a join. maybe\r\n&gt; you&#39;re referencing a non-existent field of an embedded class.\r\n\r\nSo how to query and filter by property inside the embedded entity\t\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Query on sub properties of Embedded entity in datastore","body":"<p>I have user entity which has an embedded entity called address.Within address there is property called city. I want to query all the users in a particular city.</p>\n<pre><code>public class User implements Serializable {\n  @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n  String id;\n  ...   \n  EmbeddedEntity address;\n\n //Getter ,Setter\n}\n</code></pre>\n<p>The data for embedded entity is set as</p>\n<pre><code>address.setProperty(&quot;Country&quot;,&quot;India&quot;);\naddress.setProperty(&quot;City&quot;,&quot;Chennai&quot;);\n</code></pre>\n<p>Query:</p>\n<pre><code>Query q = mgr.newQuery(User.class,&quot;adderess.City == :arg0&quot;);\nList&lt;User&gt; u = (List&lt;User&gt;) q.execute(&quot;Chennai&quot;);\n</code></pre>\n<p>It is not querying and throwing error</p>\n<blockquote>\n<p>encountered a variable expression that isn't part of a join. maybe\nyou're referencing a non-existent field of an embedded class.</p>\n</blockquote>\n<p>So how to query and filter by property inside the embedded entity</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":10846480,"reputation":8784,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645196871,"creation_date":1645196871,"answer_id":71175671,"question_id":71175558,"body_markdown":"You can go with \r\n\r\n - `$unwind` to deconstruct the array\r\n - `$group` to reconstruct without duplicate\r\n\r\nHere is the script\r\n\r\n    db.collection.aggregate([\r\n      {\r\n        &quot;$unwind&quot;: &quot;$resourcesInspected&quot;\r\n      },\r\n      {\r\n        &quot;$group&quot;: {\r\n          &quot;_id&quot;: null,\r\n          &quot;resourcesInspected&quot;: {\r\n            &quot;$addToSet&quot;: &quot;$resourcesInspected&quot;\r\n          }\r\n        }\r\n      }\r\n    ])\r\n\r\n**Working [Mongo playground][1]**\r\n\r\nSo with your java code, you need to add following\r\n \r\n\r\n     unwind(&quot;resourcesInspected&quot;),\r\n     group()\r\n       .addToSet(&quot;$resourcesInspected&quot;).as(&quot;resourcesInspected&quot;)\r\n\r\n\r\n  [1]: https://mongoplayground.net/p/_nVMGVabggk","title":"Mongodb with spring, Group all rows in one and with disticnt values","body":"<p>You can go with</p>\n<ul>\n<li><code>$unwind</code> to deconstruct the array</li>\n<li><code>$group</code> to reconstruct without duplicate</li>\n</ul>\n<p>Here is the script</p>\n<pre><code>db.collection.aggregate([\n  {\n    &quot;$unwind&quot;: &quot;$resourcesInspected&quot;\n  },\n  {\n    &quot;$group&quot;: {\n      &quot;_id&quot;: null,\n      &quot;resourcesInspected&quot;: {\n        &quot;$addToSet&quot;: &quot;$resourcesInspected&quot;\n      }\n    }\n  }\n])\n</code></pre>\n<p><strong>Working <a href=\"https://mongoplayground.net/p/_nVMGVabggk\" rel=\"nofollow noreferrer\">Mongo playground</a></strong></p>\n<p>So with your java code, you need to add following</p>\n<pre><code> unwind(&quot;resourcesInspected&quot;),\n group()\n   .addToSet(&quot;$resourcesInspected&quot;).as(&quot;resourcesInspected&quot;)\n</code></pre>\n"}],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71175671,"answer_count":1,"score":1,"last_activity_date":1645196871,"creation_date":1645196397,"question_id":71175558,"body_markdown":"I&#39;ve realized a projection using mongoTemplate that gives me the result bellow: \r\n\r\n    {&quot;resourcesInspected&quot;: [&quot;CD0626UHEA&quot;, &quot;CD0626UKE9&quot;]}\r\n    {&quot;resourcesInspected&quot;: [&quot;CD0GNDPB1E&quot;]}\r\n    {&quot;resourcesInspected&quot;: [&quot;CD0H7L789D&quot;, &quot;CD0H7L8RF7&quot;]}\r\n    {&quot;resourcesInspected&quot;: [&quot;CD0FTHYK2B&quot;]}\r\n    {&quot;resourcesInspected&quot;: [&quot;CD04H5K4B1&quot;, &quot;CD0725K788&quot;, &quot;CD0725K58A&quot;]}\r\n    {&quot;resourcesInspected&quot;: [&quot;CD06JXHJ8A&quot;, &quot;CD04E9LCED&quot;]}\r\n\r\nto do so, I did this: \r\n\r\n    static final String resourcesInspected =&quot;resourcesInspected&quot;;\r\n\r\n    ProjectionOperation projectionOperation = Aggregation\r\n            .project(resourcesInspected).andExpression(&quot;split(resourcesInspected, &#39;,&#39;)&quot;)\r\n            .as(resourcesInspected)\r\n            .andExclude(&quot;_id&quot;);\r\n    \r\n    template.aggregate(newAggregation(projectionOperation),&quot;kpi&quot;, DBObject.class).getMappedResults()\r\n            .forEach(System.out::println);\r\n\r\nNow what I really want is to group all the rows in one since it&#39;s the same field, and that in order to have in the end one per (key,value) with all the values are **distinct**, something like that: \r\n\r\n    {&quot;resourcesInspected&quot;: [&quot;CD0626UHEA&quot;, &quot;CD0626UKE9&quot;,&quot;CD0626UHEZ&quot;,&quot;CXX0626UHEA&quot;]}\r\n\r\n\r\nfor my context I need to use MongoOperations(mongoTemplate), I tried a lot of methods, but I don&#39;t get the result desired, could anyone help me in this ? ","title":"Mongodb with spring, Group all rows in one and with disticnt values","body":"<p>I've realized a projection using mongoTemplate that gives me the result bellow:</p>\n<pre><code>{&quot;resourcesInspected&quot;: [&quot;CD0626UHEA&quot;, &quot;CD0626UKE9&quot;]}\n{&quot;resourcesInspected&quot;: [&quot;CD0GNDPB1E&quot;]}\n{&quot;resourcesInspected&quot;: [&quot;CD0H7L789D&quot;, &quot;CD0H7L8RF7&quot;]}\n{&quot;resourcesInspected&quot;: [&quot;CD0FTHYK2B&quot;]}\n{&quot;resourcesInspected&quot;: [&quot;CD04H5K4B1&quot;, &quot;CD0725K788&quot;, &quot;CD0725K58A&quot;]}\n{&quot;resourcesInspected&quot;: [&quot;CD06JXHJ8A&quot;, &quot;CD04E9LCED&quot;]}\n</code></pre>\n<p>to do so, I did this:</p>\n<pre><code>static final String resourcesInspected =&quot;resourcesInspected&quot;;\n\nProjectionOperation projectionOperation = Aggregation\n        .project(resourcesInspected).andExpression(&quot;split(resourcesInspected, ',')&quot;)\n        .as(resourcesInspected)\n        .andExclude(&quot;_id&quot;);\n\ntemplate.aggregate(newAggregation(projectionOperation),&quot;kpi&quot;, DBObject.class).getMappedResults()\n        .forEach(System.out::println);\n</code></pre>\n<p>Now what I really want is to group all the rows in one since it's the same field, and that in order to have in the end one per (key,value) with all the values are <strong>distinct</strong>, something like that:</p>\n<pre><code>{&quot;resourcesInspected&quot;: [&quot;CD0626UHEA&quot;, &quot;CD0626UKE9&quot;,&quot;CD0626UHEZ&quot;,&quot;CXX0626UHEA&quot;]}\n</code></pre>\n<p>for my context I need to use MongoOperations(mongoTemplate), I tried a lot of methods, but I don't get the result desired, could anyone help me in this ?</p>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1645017685,"post_id":71140065,"comment_id":125758060,"body_markdown":"Can you show your code ? Can you run it yourself ?","body":"Can you show your code ? Can you run it yourself ?"},{"owner":{"account_id":24274846,"reputation":3,"user_id":18222284,"display_name":"Mouton_redstone"},"score":0,"creation_date":1645084929,"post_id":71140065,"comment_id":125777946,"body_markdown":"I can run the command myself, there is a lot of code behind because I started to add a lot of things to adjust the command","body":"I can run the command myself, there is a lot of code behind because I started to add a lot of things to adjust the command"}],"answers":[{"tags":[],"owner":{"account_id":19462585,"reputation":36,"user_id":14236571,"display_name":"Jan Benz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645196859,"creation_date":1645196859,"answer_id":71175668,"question_id":71140065,"body_markdown":"Unfortunately you can&#39;t run custom commands with the /execute command.\r\nSomeone had the same problem a couple of years ago [here][1].\r\nYou can try to implement your own execute command or use other workarounds.\r\n\r\n\r\n  [1]: https://www.spigotmc.org/threads/341943/","title":"/execute doesn&#39;t work for my custom command","body":"<p>Unfortunately you can't run custom commands with the /execute command.\nSomeone had the same problem a couple of years ago <a href=\"https://www.spigotmc.org/threads/341943/\" rel=\"nofollow noreferrer\">here</a>.\nYou can try to implement your own execute command or use other workarounds.</p>\n"}],"owner":{"account_id":24274846,"reputation":3,"user_id":18222284,"display_name":"Mouton_redstone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71175668,"answer_count":1,"score":0,"last_activity_date":1645196859,"creation_date":1645007178,"question_id":71140065,"body_markdown":"I made a custom /spawn command that teleports the sender to spawn\r\nI tried to use it doing &quot;/execute as Mouton_redstone run spawn&quot;, &quot;Mouton_redstone&quot; being my minecrfat username.\r\nBut it tells me that my command doesn&#39;t exist, when I run it myself, it works fine (&quot;Zbim !&quot; message)\r\n\r\n[screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pQ3D2.png\r\n\r\nplugin.yml :\r\n\r\n    name: MyEasySpawn\r\n    version: &#39;${project.version}&#39;\r\n    main: fr.mouton_redstone.myeasyspawn.MyEasySpawn\r\n    api-version: 1.18\r\n    authors: [ Mouton_redstone ]\r\n    description: Adds a /spawn command and more\r\n    \r\n    commands:\r\n      spawn:\r\n        description: Teleports you to spawn\r\n        usage: /&lt;command&gt;","title":"/execute doesn&#39;t work for my custom command","body":"<p>I made a custom /spawn command that teleports the sender to spawn\nI tried to use it doing &quot;/execute as Mouton_redstone run spawn&quot;, &quot;Mouton_redstone&quot; being my minecrfat username.\nBut it tells me that my command doesn't exist, when I run it myself, it works fine (&quot;Zbim !&quot; message)</p>\n<p><a href=\"https://i.stack.imgur.com/pQ3D2.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<p>plugin.yml :</p>\n<pre><code>name: MyEasySpawn\nversion: '${project.version}'\nmain: fr.mouton_redstone.myeasyspawn.MyEasySpawn\napi-version: 1.18\nauthors: [ Mouton_redstone ]\ndescription: Adds a /spawn command and more\n\ncommands:\n  spawn:\n    description: Teleports you to spawn\n    usage: /&lt;command&gt;\n</code></pre>\n"},{"tags":["java","android","android-alertdialog"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1645189110,"post_id":71173843,"comment_id":125811191,"body_markdown":"how are you currently implementing your clicklistener and what stops you form calling a static method?","body":"how are you currently implementing your clicklistener and what stops you form calling a static method?"},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1645189683,"post_id":71173843,"comment_id":125811388,"body_markdown":"@f1sh I&#39;m showing the `AlertDialog` by calling this `DialogManager.show(this, android.R.style.Theme_DeviceDefault_Light_Dialog_Alert, &quot;...&quot;, &quot;...&quot;, &quot;...&quot;);\n` and I pass the text of button but actually, that button doesn&#39;t do anything because I don&#39;t how can I handle it. Every activity will handle the button in its way.","body":"@f1sh I&#39;m showing the <code>AlertDialog</code> by calling this <code>DialogManager.show(this, android.R.style.Theme_DeviceDefault_Light_Dialog_Alert, &quot;...&quot;, &quot;...&quot;, &quot;...&quot;); </code> and I pass the text of button but actually, that button doesn&#39;t do anything because I don&#39;t how can I handle it. Every activity will handle the button in its way."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1645189933,"post_id":71173843,"comment_id":125811471,"body_markdown":"What do you mean by &quot;I don&#39;t how can I handle it&quot;? Does the button have a click listener?","body":"What do you mean by &quot;I don&#39;t how can I handle it&quot;? Does the button have a click listener?"},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1645191124,"post_id":71173843,"comment_id":125811915,"body_markdown":"@f1sh I don&#39;t know how can I handle it**. Look at the answer below it is working now as I want and thank you for trying to help me.","body":"@f1sh I don&#39;t know how can I handle it**. Look at the answer below it is working now as I want and thank you for trying to help me."}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645190440,"creation_date":1645190113,"answer_id":71174087,"question_id":71173843,"body_markdown":"[`setPositiveButton`](https://developer.android.com/reference/android/app/AlertDialog.Builder#setPositiveButton(int,%20android.content.DialogInterface.OnClickListener)) takes `DialogInterface.OnClickListener` as a second param, so just add it as a method parameter\r\n\r\n    public static void show(Context context, int themeResId, String title, String message,\r\n            String positiveButtonText,\r\n            DialogInterface.OnClickListener positiveCallback) {\r\n        show(context, themeResId, title, message,\r\n            positiveButtonText, positiveCallback,\r\n            null, null); // no negative in this case\r\n    }\r\n\r\n    public static void show(Context context, int themeResId, String title, String message,\r\n            String positiveButtonText,\r\n            DialogInterface.OnClickListener positiveCallback,\r\n            String negativeButtonText,\r\n            DialogInterface.OnClickListener negativeCallback) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(context, themeResId)\r\n                .setTitle(title)\r\n                .setMessage(message)\r\n                .setPositiveButton(positiveButtonText, positiveCallback);\r\n        if (negativeButtonText!=null) {\r\n            builder.setNegativeButton(negativeButtonText, negativeCallback);\r\n        }\r\n        builder.show();\r\n    }\r\n\r\nand don&#39;t overuse `static` keyword, keeping `static` `Builder` on top of this files isn&#39;t proper approach (in some cases it may lead to memory leak, probably also in your case), so remove below line and keep only local builder unti you call `builder.show()`\r\n\r\n    private static AlertDialog.Builder builder;","title":"How can I handle the click listener inside the static method?","body":"<p><a href=\"https://developer.android.com/reference/android/app/AlertDialog.Builder#setPositiveButton(int,%20android.content.DialogInterface.OnClickListener)\" rel=\"nofollow noreferrer\"><code>setPositiveButton</code></a> takes <code>DialogInterface.OnClickListener</code> as a second param, so just add it as a method parameter</p>\n<pre><code>public static void show(Context context, int themeResId, String title, String message,\n        String positiveButtonText,\n        DialogInterface.OnClickListener positiveCallback) {\n    show(context, themeResId, title, message,\n        positiveButtonText, positiveCallback,\n        null, null); // no negative in this case\n}\n\npublic static void show(Context context, int themeResId, String title, String message,\n        String positiveButtonText,\n        DialogInterface.OnClickListener positiveCallback,\n        String negativeButtonText,\n        DialogInterface.OnClickListener negativeCallback) {\n    AlertDialog.Builder builder = new AlertDialog.Builder(context, themeResId)\n            .setTitle(title)\n            .setMessage(message)\n            .setPositiveButton(positiveButtonText, positiveCallback);\n    if (negativeButtonText!=null) {\n        builder.setNegativeButton(negativeButtonText, negativeCallback);\n    }\n    builder.show();\n}\n</code></pre>\n<p>and don't overuse <code>static</code> keyword, keeping <code>static</code> <code>Builder</code> on top of this files isn't proper approach (in some cases it may lead to memory leak, probably also in your case), so remove below line and keep only local builder unti you call <code>builder.show()</code></p>\n<pre><code>private static AlertDialog.Builder builder;\n</code></pre>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71174087,"answer_count":1,"score":0,"last_activity_date":1645196837,"creation_date":1645188939,"question_id":71173843,"body_markdown":"It is very boring to initialize `AlertDialog` every time I want to use it, I have a lot of activities that use `AlertDialog` so I want to simplify that and create a class to initialize `AlertDialog` and show it when I want.\r\n\r\nHere is the `DialogManager` class that I created:\r\n\r\n    public class DialogManager {\r\n    \r\n        private static AlertDialog.Builder builder;\r\n    \r\n        public static void show(Context context, int themeResId, String title, String message, String positiveButtonText) {\r\n            builder = new AlertDialog.Builder(context, themeResId)\r\n                    .setTitle(title)\r\n                    .setMessage(message)\r\n                    .setPositiveButton(positiveButtonText, null);\r\n            builder.show();\r\n        }\r\n    \r\n        public static void show(Context context, int themeResId, String title, String message, String positiveButtonText, String negativeButtonText) {\r\n            builder = new AlertDialog.Builder(context, themeResId)\r\n                    .setTitle(title)\r\n                    .setMessage(message)\r\n                    .setPositiveButton(positiveButtonText, null)\r\n                    .setNegativeButton(negativeButtonText, null);\r\n            builder.show();\r\n        }\r\n    \r\n    }\r\n\r\nEverything works well but I faced a problem with the click listener, How can I handle the click listener because every activity will treat the button in its way.\r\n\r\nHow can I handle that?","title":"How can I handle the click listener inside the static method?","body":"<p>It is very boring to initialize <code>AlertDialog</code> every time I want to use it, I have a lot of activities that use <code>AlertDialog</code> so I want to simplify that and create a class to initialize <code>AlertDialog</code> and show it when I want.</p>\n<p>Here is the <code>DialogManager</code> class that I created:</p>\n<pre><code>public class DialogManager {\n\n    private static AlertDialog.Builder builder;\n\n    public static void show(Context context, int themeResId, String title, String message, String positiveButtonText) {\n        builder = new AlertDialog.Builder(context, themeResId)\n                .setTitle(title)\n                .setMessage(message)\n                .setPositiveButton(positiveButtonText, null);\n        builder.show();\n    }\n\n    public static void show(Context context, int themeResId, String title, String message, String positiveButtonText, String negativeButtonText) {\n        builder = new AlertDialog.Builder(context, themeResId)\n                .setTitle(title)\n                .setMessage(message)\n                .setPositiveButton(positiveButtonText, null)\n                .setNegativeButton(negativeButtonText, null);\n        builder.show();\n    }\n\n}\n</code></pre>\n<p>Everything works well but I faced a problem with the click listener, How can I handle the click listener because every activity will treat the button in its way.</p>\n<p>How can I handle that?</p>\n"},{"tags":["python","java","microsoft-graph-api","onedrive"],"answers":[{"tags":[],"owner":{"account_id":24140407,"reputation":571,"user_id":18106676,"display_name":"vicky kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645168904,"creation_date":1645168904,"answer_id":71169712,"question_id":71159101,"body_markdown":"Have you tried this in graph explorer ,if no? ,could you please try first in graph explorer and if you are getting the same error ,please check your access token on https://jwt.ms/ and cross-verify your required permissions , please follow the docs to check permission - [docs][1] , feel free to react out to us if you have any query?\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/api/driveitem-get?view=graph-rest-1.0&amp;tabs=http\r\n\r\nThanks.","title":"Tenant does not have a SPO license. With Onedrive Service e O365 family license","body":"<p>Have you tried this in graph explorer ,if no? ,could you please try first in graph explorer and if you are getting the same error ,please check your access token on <a href=\"https://jwt.ms/\" rel=\"nofollow noreferrer\">https://jwt.ms/</a> and cross-verify your required permissions , please follow the docs to check permission - <a href=\"https://learn.microsoft.com/en-us/graph/api/driveitem-get?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">docs</a> , feel free to react out to us if you have any query?</p>\n<p>Thanks.</p>\n"}],"owner":{"account_id":24287393,"reputation":1,"user_id":18232978,"display_name":"Silvano Montanari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645196564,"creation_date":1645104729,"question_id":71159101,"body_markdown":"Good morning\r\n\r\nI&#39;m a new user on stack overflow and I know that the problem is not new but I do not found a solution.\r\n\r\nI use python MSAL library to call the ms graph API.\r\n\r\nI have a tenant with O365 family license and I verified that the tenant in Azure AAD is the same for my O365 license \r\n\r\nThe python code is OK to get info on my profile but i have the error with &quot;application&quot; method:\r\nhttps://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive/root\r\n\r\n    {\r\n      &quot;error&quot;: {\r\n        &quot;code&quot;: &quot;BadRequest&quot;,\r\n        &quot;message&quot;: &quot;Tenant does not have a SPO license.&quot;,\r\n        &quot;innerError&quot;: {\r\n          &quot;date&quot;: &quot;2022-02-17T10:34:31&quot;,\r\n          &quot;request-id&quot;: &quot;a0f521e4-d673-4856-b248-ff480a248ab9&quot;,\r\n          &quot;client-request-id&quot;: &quot;a0f521e4-d673-4856-b248-ff480a248ab9&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nand with the &quot;delegate&quot; methode\r\nhttps://graph.microsoft.com/v1.0/me/drive/root\r\n\r\n    {\r\n      &quot;error&quot;: {\r\n        &quot;code&quot;: &quot;BadRequest&quot;,\r\n        &quot;message&quot;: &quot;Tenant does not have a SPO license.&quot;,\r\n        &quot;innerError&quot;: {\r\n          &quot;date&quot;: &quot;2022-02-17T11:09:33&quot;,\r\n          &quot;request-id&quot;: &quot;24b27408-6dfe-4612-84d9-b5c184225cdc&quot;,\r\n          &quot;client-request-id&quot;: &quot;24b27408-6dfe-4612-84d9-b5c184225cdc&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nI have the same problem with Java:\r\n\r\n    package com.example;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import com.azure.identity.ClientSecretCredential;\r\n    import com.azure.identity.ClientSecretCredentialBuilder;\r\n    import com.microsoft.graph.authentication.TokenCredentialAuthProvider;\r\n    import com.microsoft.graph.models.Drive;\r\n    import com.microsoft.graph.requests.GraphServiceClient;\r\n    import com.microsoft.graph.requests.UserCollectionPage;\r\n    \r\n    public class App \r\n    {\r\n        public static void main( String[] args )\r\n        {\r\n            String tenant = &quot;&lt;my tenant&gt;&quot;;\r\n            String clientId = &quot;&lt;my client&gt;&quot;;\r\n            String clientSecret = &quot;&lt;my secret&gt;&quot;;\r\n            \r\n            List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\r\n    \r\n            try {\r\n                final ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\r\n                .clientId(clientId)\r\n                .clientSecret(clientSecret)\r\n                .tenantId(tenant)\r\n                .build();\r\n    \r\n                final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, clientSecretCredential);\r\n    \r\n                final GraphServiceClient graphClient = GraphServiceClient\r\n                    .builder()\r\n                    .authenticationProvider(tokenCredentialAuthProvider)\r\n                    .buildClient();\r\n    \r\n                final UserCollectionPage me = graphClient.users().buildRequest().get();\r\n    \r\n                System.out.println(me.getCurrentPage().get(0).id);\r\n    \r\n                final Drive result = graphClient\r\n                    .users(me.getCurrentPage().get(0).id)\r\n                    .drive()\r\n                    .buildRequest()\r\n                    .get();\r\n    \r\n                System.out.println(&quot;Found Drive &quot; + result.id);\r\n            } catch (Exception e) {\r\n                //TODO: handle exception\r\n                \r\n            }\r\n        }\r\n    } \r\n\r\nThe output is:\r\n\r\n    [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [https://graph.microsoft.com/.default]: SUCCESS\r\n    c9445de4-23db-4596-a1d3-7760dce5a3a6\r\n    [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [https://graph.microsoft.com/.default]: SUCCESS\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409Graph service exception Error code: BadRequest\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409Error message: Tenant does not have a SPO license.\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409GET https://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409SdkVersion : graph-java/v5.14.0\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409400 : Bad Request\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409[...]\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: CoreHttpProvider[sendRequestInternal] - 409[Some information was truncated for brevity, enable debug logging for more details]\r\n    Feb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\r\n    Error message: Tenant does not have a SPO license.\r\n    \r\n    GET https://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive\r\n    SdkVersion : graph-java/v5.14.0\r\n    \r\n    \r\n    400 : Bad Request\r\n    [...]\r\n    \r\n    [Some information was truncated for brevity, enable debug logging for more details]\r\n\r\nThanks for help\r\n\r\nSilvano\r\n\r\n\r\n","title":"Tenant does not have a SPO license. With Onedrive Service e O365 family license","body":"<p>Good morning</p>\n<p>I'm a new user on stack overflow and I know that the problem is not new but I do not found a solution.</p>\n<p>I use python MSAL library to call the ms graph API.</p>\n<p>I have a tenant with O365 family license and I verified that the tenant in Azure AAD is the same for my O365 license</p>\n<p>The python code is OK to get info on my profile but i have the error with &quot;application&quot; method:\n<a href=\"https://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive/root\" rel=\"nofollow noreferrer\">https://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive/root</a></p>\n<pre><code>{\n  &quot;error&quot;: {\n    &quot;code&quot;: &quot;BadRequest&quot;,\n    &quot;message&quot;: &quot;Tenant does not have a SPO license.&quot;,\n    &quot;innerError&quot;: {\n      &quot;date&quot;: &quot;2022-02-17T10:34:31&quot;,\n      &quot;request-id&quot;: &quot;a0f521e4-d673-4856-b248-ff480a248ab9&quot;,\n      &quot;client-request-id&quot;: &quot;a0f521e4-d673-4856-b248-ff480a248ab9&quot;\n    }\n  }\n}\n</code></pre>\n<p>and with the &quot;delegate&quot; methode\n<a href=\"https://graph.microsoft.com/v1.0/me/drive/root\" rel=\"nofollow noreferrer\">https://graph.microsoft.com/v1.0/me/drive/root</a></p>\n<pre><code>{\n  &quot;error&quot;: {\n    &quot;code&quot;: &quot;BadRequest&quot;,\n    &quot;message&quot;: &quot;Tenant does not have a SPO license.&quot;,\n    &quot;innerError&quot;: {\n      &quot;date&quot;: &quot;2022-02-17T11:09:33&quot;,\n      &quot;request-id&quot;: &quot;24b27408-6dfe-4612-84d9-b5c184225cdc&quot;,\n      &quot;client-request-id&quot;: &quot;24b27408-6dfe-4612-84d9-b5c184225cdc&quot;\n    }\n  }\n}\n</code></pre>\n<p>I have the same problem with Java:</p>\n<pre><code>package com.example;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport com.azure.identity.ClientSecretCredential;\nimport com.azure.identity.ClientSecretCredentialBuilder;\nimport com.microsoft.graph.authentication.TokenCredentialAuthProvider;\nimport com.microsoft.graph.models.Drive;\nimport com.microsoft.graph.requests.GraphServiceClient;\nimport com.microsoft.graph.requests.UserCollectionPage;\n\npublic class App \n{\n    public static void main( String[] args )\n    {\n        String tenant = &quot;&lt;my tenant&gt;&quot;;\n        String clientId = &quot;&lt;my client&gt;&quot;;\n        String clientSecret = &quot;&lt;my secret&gt;&quot;;\n        \n        List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\n\n        try {\n            final ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\n            .clientId(clientId)\n            .clientSecret(clientSecret)\n            .tenantId(tenant)\n            .build();\n\n            final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, clientSecretCredential);\n\n            final GraphServiceClient graphClient = GraphServiceClient\n                .builder()\n                .authenticationProvider(tokenCredentialAuthProvider)\n                .buildClient();\n\n            final UserCollectionPage me = graphClient.users().buildRequest().get();\n\n            System.out.println(me.getCurrentPage().get(0).id);\n\n            final Drive result = graphClient\n                .users(me.getCurrentPage().get(0).id)\n                .drive()\n                .buildRequest()\n                .get();\n\n            System.out.println(&quot;Found Drive &quot; + result.id);\n        } catch (Exception e) {\n            //TODO: handle exception\n            \n        }\n    }\n} \n</code></pre>\n<p>The output is:</p>\n<pre><code>[ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [https://graph.microsoft.com/.default]: SUCCESS\nc9445de4-23db-4596-a1d3-7760dce5a3a6\n[ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [https://graph.microsoft.com/.default]: SUCCESS\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409Graph service exception Error code: BadRequest\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409Error message: Tenant does not have a SPO license.\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409GET https://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409SdkVersion : graph-java/v5.14.0\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409400 : Bad Request\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409[...]\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 409[Some information was truncated for brevity, enable debug logging for more details]\nFeb 18, 2022 3:56:47 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\nError message: Tenant does not have a SPO license.\n\nGET https://graph.microsoft.com/v1.0/users/c9445de4-23db-4596-a1d3-7760dce5a3a6/drive\nSdkVersion : graph-java/v5.14.0\n\n\n400 : Bad Request\n[...]\n\n[Some information was truncated for brevity, enable debug logging for more details]\n</code></pre>\n<p>Thanks for help</p>\n<p>Silvano</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1645148077,"post_id":71161790,"comment_id":125800487,"body_markdown":"Linking to an entire project of source code is generally frowned upon here on Stack Overflow. You are expected to put in the effort to write a [MCVE](https://stackoverflow.com/help/mcve).","body":"Linking to an entire project of source code is generally frowned upon here on Stack Overflow. You are expected to put in the effort to write a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645117494,"creation_date":1645117494,"answer_id":71162419,"question_id":71161790,"body_markdown":"You are already populating the List `a` with random numbers so I&#39;ll focus on the &#39; add them up at the end&#39; part.\r\n\r\nAny time you are performing some sort of operation it is a good idea to encapsulate that operation in a separate method.  This helps to clarify where responsibilities begin and end.  In this case, define a method to calculate the sum of the values in the List.  Here&#39;s one using a for-each loop.\r\n\r\n    public int sumValues(List&lt;Integer&gt; list) {\r\n      int sum = 0;\r\n      for (Integer value : list) {\r\n        sum += value;\r\n      }\r\n      return sum;\r\n    }\r\n\r\nUsing the Stream API can simplify this further.  \r\n\r\n    public int sumValues(List&lt;Integer&gt; list) {\r\n      return list.stream().reduce(0, Integer::sum);\r\n    }","title":"adding numbers to a array list and then adding up the numbers","body":"<p>You are already populating the List <code>a</code> with random numbers so I'll focus on the ' add them up at the end' part.</p>\n<p>Any time you are performing some sort of operation it is a good idea to encapsulate that operation in a separate method.  This helps to clarify where responsibilities begin and end.  In this case, define a method to calculate the sum of the values in the List.  Here's one using a for-each loop.</p>\n<pre><code>public int sumValues(List&lt;Integer&gt; list) {\n  int sum = 0;\n  for (Integer value : list) {\n    sum += value;\n  }\n  return sum;\n}\n</code></pre>\n<p>Using the Stream API can simplify this further.</p>\n<pre><code>public int sumValues(List&lt;Integer&gt; list) {\n  return list.stream().reduce(0, Integer::sum);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645148763,"creation_date":1645147624,"answer_id":71167394,"question_id":71161790,"body_markdown":"The [Answer by vsfDawg][1] may be more useful. \r\n\r\nJust for fun, here is an alternative code example using type-safe objects defined in an enum, generated and totaled via streams. This code is not an good starting place for a beginning student of Java. But this code can make an interesting contrast. And you could deconstruct the logic of this code to write more conventional Java code as a way to do your schoolwork assignment.\r\n\r\nNote that as of Java 16+, enums (and records, and interfaces) [can be declared locally][2]. \r\n\r\n```java\r\nenum Coin\r\n{\r\n    PENNY( 1 ), NICKEL( 5 ), DIME( 10 ), QUARTER( 25 ), HALF_DOLLAR( 50 ), DOLLAR( 100 );\r\n\r\n    // Member fields.\r\n    private int cents;\r\n\r\n    // Constructors.\r\n    Coin ( int cents ) { this.cents = cents; }\r\n\r\n    // Getters.\r\n    public int getCents ( ) { return cents; }\r\n}\r\n```\r\n\r\nGenerate a series of random index numbers (annoying [zero-based counting][3]) to access the array of named objects defined in the array.\r\n\r\n```java\r\nint size = 10, lowBound = 0, highBound = 6 ;\r\nList &lt; Coin &gt; coins =\r\n        ThreadLocalRandom\r\n                .current()\r\n                .ints( size , lowBound , highBound )\r\n                .mapToObj( i -&gt; Coin.values()[ i ] )\r\n                .toList();\r\n```\r\n\r\nCalculate the total value of the coins.\r\n\r\n```java\r\nint total =\r\n        coins\r\n                .stream()\r\n                .mapToInt( coin -&gt; coin.getCents() )\r\n                .sum();\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( &quot;coins = &quot; + coins );\r\nSystem.out.println( &quot;total = &quot; + total );\r\n```\r\n\r\nWhen run.\r\n\r\n&gt;coins = [PENNY, DIME, NICKEL, NICKEL, NICKEL, NICKEL, PENNY, DIME, NICKEL, PENNY]\r\n&gt;\r\n&gt;total = 48\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71162419/642706\r\n  [2]: https://openjdk.java.net/jeps/395\r\n  [3]: https://en.wikipedia.org/wiki/Zero-based_numbering","title":"adding numbers to a array list and then adding up the numbers","body":"<p>The <a href=\"https://stackoverflow.com/a/71162419/642706\">Answer by vsfDawg</a> may be more useful.</p>\n<p>Just for fun, here is an alternative code example using type-safe objects defined in an enum, generated and totaled via streams. This code is not an good starting place for a beginning student of Java. But this code can make an interesting contrast. And you could deconstruct the logic of this code to write more conventional Java code as a way to do your schoolwork assignment.</p>\n<p>Note that as of Java 16+, enums (and records, and interfaces) <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">can be declared locally</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Coin\n{\n    PENNY( 1 ), NICKEL( 5 ), DIME( 10 ), QUARTER( 25 ), HALF_DOLLAR( 50 ), DOLLAR( 100 );\n\n    // Member fields.\n    private int cents;\n\n    // Constructors.\n    Coin ( int cents ) { this.cents = cents; }\n\n    // Getters.\n    public int getCents ( ) { return cents; }\n}\n</code></pre>\n<p>Generate a series of random index numbers (annoying <a href=\"https://en.wikipedia.org/wiki/Zero-based_numbering\" rel=\"nofollow noreferrer\">zero-based counting</a>) to access the array of named objects defined in the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int size = 10, lowBound = 0, highBound = 6 ;\nList &lt; Coin &gt; coins =\n        ThreadLocalRandom\n                .current()\n                .ints( size , lowBound , highBound )\n                .mapToObj( i -&gt; Coin.values()[ i ] )\n                .toList();\n</code></pre>\n<p>Calculate the total value of the coins.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int total =\n        coins\n                .stream()\n                .mapToInt( coin -&gt; coin.getCents() )\n                .sum();\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;coins = &quot; + coins );\nSystem.out.println( &quot;total = &quot; + total );\n</code></pre>\n<p>When run.</p>\n<blockquote>\n<p>coins = [PENNY, DIME, NICKEL, NICKEL, NICKEL, NICKEL, PENNY, DIME, NICKEL, PENNY]</p>\n<p>total = 48</p>\n</blockquote>\n"}],"owner":{"account_id":24074026,"reputation":1,"user_id":18049630,"display_name":"Aesculus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645196485,"creation_date":1645114974,"question_id":71161790,"body_markdown":"I&#39;m confused on how I would add the random numbers generated to the array list and then add them up at the end.  \r\n\r\n\r\n\r\n    ArrayList&lt;Coin&gt; change = new ArrayList&lt;Coin&gt;();\r\n\r\n    // Generate a random number for how many coins 1-10\r\n    ArrayList&lt;Integer&gt; a = new ArrayList&lt;Integer&gt;();\r\n    int rand = (int) Math.round(Math.random() * 10 + 1);\r\n    a.add(rand);\r\n    for(int i=0;i&lt; 0;i++) \r\n        System.out.println( (int)(Math.random()*10 + 1) + &quot; Coins&quot;);\r\n  \r\n\r\n     // Generate a random number 1,2,3,4 to represent which coin\r\n     System.out.println( (int)(Math.random()*4 + 1));\r\n\r\n     // Create a new Coin of that type and add it to the list\r\n     change.add(new Quarter());\r\n     System.out.println(change);\r\n\r\n     // Evaluate the full worth of the coins in the list\r\n\r\n","title":"adding numbers to a array list and then adding up the numbers","body":"<p>I'm confused on how I would add the random numbers generated to the array list and then add them up at the end.</p>\n<pre><code>ArrayList&lt;Coin&gt; change = new ArrayList&lt;Coin&gt;();\n\n// Generate a random number for how many coins 1-10\nArrayList&lt;Integer&gt; a = new ArrayList&lt;Integer&gt;();\nint rand = (int) Math.round(Math.random() * 10 + 1);\na.add(rand);\nfor(int i=0;i&lt; 0;i++) \n    System.out.println( (int)(Math.random()*10 + 1) + &quot; Coins&quot;);\n\n\n // Generate a random number 1,2,3,4 to represent which coin\n System.out.println( (int)(Math.random()*4 + 1));\n\n // Create a new Coin of that type and add it to the list\n change.add(new Quarter());\n System.out.println(change);\n\n // Evaluate the full worth of the coins in the list\n</code></pre>\n"},{"tags":["java","wildfly","activemq","resource-adapter"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1645196469,"post_id":71170626,"comment_id":125814059,"body_markdown":"Your servlet is using `java:/ConnectionFactory`, but that JNDI name is bound by the embedded ActiveMQ Artemis broker. Did you mean to use `java:/ActiveMQ/QueueConnectionFactory` instead? This connection factory is bound by the ActiveMQ JCA RA.","body":"Your servlet is using <code>java:&#47;ConnectionFactory</code>, but that JNDI name is bound by the embedded ActiveMQ Artemis broker. Did you mean to use <code>java:&#47;ActiveMQ&#47;QueueConnectionFactory</code> instead? This connection factory is bound by the ActiveMQ JCA RA."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1645196519,"post_id":71170626,"comment_id":125814084,"body_markdown":"In your `standalone-full.xml` you&#39;re setting `&lt;resource-adapter-ref resource-adapter-name=&quot;activemq-rar-5.16.4.rar&quot;/&gt;` which means your MDB doesn&#39;t need `@ResourceAdapter(value=&quot;activemq-rar-5.16.4.rar&quot;)`.","body":"In your <code>standalone-full.xml</code> you&#39;re setting <code>&lt;resource-adapter-ref resource-adapter-name=&quot;activemq-rar-5.16.4.rar&quot;&#47;&gt;</code> which means your MDB doesn&#39;t need <code>@ResourceAdapter(value=&quot;activemq-rar-5.16.4.rar&quot;)</code>."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1645196598,"post_id":71170626,"comment_id":125814120,"body_markdown":"Why not just use the embedded instance of ActiveMQ Artemis? If you don&#39;t need it then you should almost certainly remove it from your `standalone-full.xml`.","body":"Why not just use the embedded instance of ActiveMQ Artemis? If you don&#39;t need it then you should almost certainly remove it from your <code>standalone-full.xml</code>."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1645196720,"post_id":71170626,"comment_id":125814170,"body_markdown":"Your MDB is using `java:/queue/HELLOWORLDMDBTopic`, but that JNDI binding doesn&#39;t exist anywhere. You should almost certainly use either `java:/topic/HELLOWORLDMDBTopic` or `java:/queue/HELLOWORLDMDBQueue`.","body":"Your MDB is using <code>java:&#47;queue&#47;HELLOWORLDMDBTopic</code>, but that JNDI binding doesn&#39;t exist anywhere. You should almost certainly use either <code>java:&#47;topic&#47;HELLOWORLDMDBTopic</code> or <code>java:&#47;queue&#47;HELLOWORLDMDBQueue</code>."}],"owner":{"account_id":24297970,"reputation":1,"user_id":18241901,"display_name":"yokax23841"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":884,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645196337,"creation_date":1645173973,"question_id":71170626,"body_markdown":"I am trying to test an example HelloWorld MDB with Wildfly 26.0.1-Final and ActiveMQ &quot;Classic&quot; 5.16.4.\r\n\r\nIn `standalone-full.xml`:\r\n```xml\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:6.0&quot;&gt;\r\n            &lt;spec-descriptor-property-replacement&gt;false&lt;/spec-descriptor-property-replacement&gt;\r\n            &lt;concurrent&gt;\r\n                &lt;context-services&gt;\r\n                    &lt;context-service name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/context/default&quot; use-transaction-setup-provider=&quot;true&quot;/&gt;\r\n                &lt;/context-services&gt;\r\n                &lt;managed-thread-factories&gt;\r\n                    &lt;managed-thread-factory name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/factory/default&quot; context-service=&quot;default&quot;/&gt;\r\n                &lt;/managed-thread-factories&gt;\r\n                &lt;managed-executor-services&gt;\r\n                    &lt;managed-executor-service name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/executor/default&quot; context-service=&quot;default&quot; hung-task-termination-period=&quot;0&quot; hung-task-threshold=&quot;60000&quot; keepalive-time=&quot;5000&quot;/&gt;\r\n                &lt;/managed-executor-services&gt;\r\n                &lt;managed-scheduled-executor-services&gt;\r\n                    &lt;managed-scheduled-executor-service name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/scheduler/default&quot; context-service=&quot;default&quot; hung-task-termination-period=&quot;0&quot; hung-task-threshold=&quot;60000&quot; keepalive-time=&quot;3000&quot;/&gt;\r\n                &lt;/managed-scheduled-executor-services&gt;\r\n            &lt;/concurrent&gt;\r\n            &lt;!-- &lt;default-bindings context-service=&quot;java:jboss/ee/concurrency/context/default&quot; datasource=&quot;java:jboss/datasources/ExampleDS&quot; jms-connection-factory=&quot;java:jboss/DefaultJMSConnectionFactory&quot; managed-executor-service=&quot;java:jboss/ee/concurrency/executor/default&quot; managed-scheduled-executor-service=&quot;java:jboss/ee/concurrency/scheduler/default&quot; managed-thread-factory=&quot;java:jboss/ee/concurrency/factory/default&quot;/&gt; --&gt;\r\n            &lt;default-bindings context-service=&quot;java:jboss/ee/concurrency/context/default&quot; datasource=&quot;java:jboss/datasources/ExampleDS&quot; managed-executor-service=&quot;java:jboss/ee/concurrency/executor/default&quot; managed-scheduled-executor-service=&quot;java:jboss/ee/concurrency/scheduler/default&quot; managed-thread-factory=&quot;java:jboss/ee/concurrency/factory/default&quot;/&gt;\r\n        &lt;/subsystem&gt;\r\n```\r\n```xml\r\n            &lt;mdb&gt;\r\n                &lt;resource-adapter-ref resource-adapter-name=&quot;activemq-rar-5.16.4.rar&quot;/&gt;\r\n                &lt;bean-instance-pool-ref pool-name=&quot;mdb-strict-max-pool&quot;/&gt;\r\n            &lt;/mdb&gt;\r\n```\r\n```xml\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\r\n            &lt;server name=&quot;default&quot;&gt;\r\n                &lt;security elytron-domain=&quot;ApplicationDomain&quot;/&gt;\r\n                &lt;cluster password=&quot;${jboss.messaging.cluster.password:CHANGE ME!!}&quot;/&gt;\r\n                &lt;statistics enabled=&quot;${wildfly.messaging-activemq.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;/&gt;\r\n                &lt;security-setting name=&quot;#&quot;&gt;\r\n                    &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n                &lt;/security-setting&gt;\r\n                &lt;address-setting name=&quot;#&quot; dead-letter-address=&quot;jms.queue.DLQ&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; max-size-bytes=&quot;10485760&quot; page-size-bytes=&quot;2097152&quot; message-counter-history-day-limit=&quot;10&quot; redistribution-d\r\nelay=&quot;1000&quot;/&gt;\r\n                &lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\r\n                &lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\r\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                &lt;/http-connector&gt;\r\n                &lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\r\n                    &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\r\n                &lt;/in-vm-connector&gt;\r\n                &lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\r\n                &lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\r\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                    &lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\r\n                &lt;/http-acceptor&gt;\r\n                &lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\r\n                    &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\r\n                &lt;/in-vm-acceptor&gt;\r\n                &lt;jgroups-broadcast-group name=&quot;bg-group1&quot; jgroups-cluster=&quot;activemq-cluster&quot; connectors=&quot;http-connector&quot;/&gt;\r\n                &lt;jgroups-discovery-group name=&quot;dg-group1&quot; jgroups-cluster=&quot;activemq-cluster&quot;/&gt;\r\n                &lt;cluster-connection name=&quot;my-cluster&quot; address=&quot;jms&quot; connector-name=&quot;http-connector&quot; discovery-group=&quot;dg-group1&quot;/&gt;\r\n                &lt;jms-queue name=&quot;ExpiryQueue&quot; entries=&quot;java:/jms/queue/ExpiryQueue&quot;/&gt;\r\n                &lt;jms-queue name=&quot;DLQ&quot; entries=&quot;java:/jms/queue/DLQ&quot;/&gt;\r\n                &lt;connection-factory name=&quot;InVmConnectionFactory&quot; entries=&quot;java:/ConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\r\n                &lt;connection-factory name=&quot;RemoteConnectionFactory&quot; entries=&quot;java:jboss/exported/jms/RemoteConnectionFactory&quot; connectors=&quot;http-connector&quot; ha=&quot;true&quot; block-on-acknowledge=&quot;true&quot; reconnect-attempts=&quot;-1&quot;/&gt;\r\n                &lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot; transaction=&quot;xa&quot;/&gt;\r\n            &lt;/server&gt;\r\n        &lt;/subsystem&gt;\r\n```\r\n```xml\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.0&quot;&gt;\r\n            &lt;resource-adapters&gt;\r\n                &lt;resource-adapter id=&quot;activemq-rar-5.16.4.rar&quot;&gt;\r\n                    &lt;archive&gt;\r\n                        activemq-rar-5.16.4.rar\r\n                    &lt;/archive&gt;\r\n                    &lt;transaction-support&gt;XATransaction&lt;/transaction-support&gt;\r\n                    &lt;config-property name=&quot;ServerUrl&quot;&gt;tcp://localhost:61616?soTimeout=20000&amp;amp;connectionTimeout=10000&lt;/config-property&gt;\r\n                    &lt;config-property name=&quot;UserName&quot;&gt;admin&lt;/config-property&gt;\r\n                    &lt;config-property name=&quot;UseInboundSession&quot;&gt;false&lt;/config-property&gt;\r\n                    &lt;config-property name=&quot;Password&quot;&gt;admin&lt;/config-property&gt;\r\n                    &lt;connection-definitions&gt;\r\n                        &lt;connection-definition class-name=&quot;org.apache.activemq.ra.ActiveMQManagedConnectionFactory&quot; jndi-name=&quot;java:/ActiveMQ/QueueConnectionFactory&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;ActiveMQ/QueueConnectionFactory&quot; use-ccm=&quot;true&quot;&gt;\r\n                            &lt;xa-pool&gt;\r\n                                &lt;min-pool-size&gt;1&lt;/min-pool-size&gt;\r\n                                &lt;max-pool-size&gt;200&lt;/max-pool-size&gt;\r\n                            &lt;/xa-pool&gt;\r\n                            &lt;timeout&gt;\r\n                                &lt;blocking-timeout-millis&gt;30000&lt;/blocking-timeout-millis&gt;\r\n                                &lt;idle-timeout-minutes&gt;5&lt;/idle-timeout-minutes&gt;\r\n                            &lt;/timeout&gt;\r\n                        &lt;/connection-definition&gt;\r\n                    &lt;/connection-definitions&gt;\r\n                    &lt;admin-objects&gt;\r\n                        &lt;admin-object class-name=&quot;org.apache.activemq.command.ActiveMQQueue&quot; jndi-name=&quot;java:/queue/HELLOWORLDMDBQueue&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;HELLOWORLDMDBQueue&quot;&gt;\r\n                            &lt;config-property name=&quot;PhysicalName&quot;&gt;HELLOWORLDMDBQueue&lt;/config-property&gt;\r\n                        &lt;/admin-object&gt;\r\n                        &lt;admin-object class-name=&quot;org.apache.activemq.command.ActiveMQTopic&quot; jndi-name=&quot;java:/topic/HELLOWORLDMDBTopic&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;HELLOWORLDMDBTopic&quot;&gt;\r\n                            &lt;config-property name=&quot;PhysicalName&quot;&gt;HELLOWORLDMDBTopic&lt;/config-property&gt;\r\n                        &lt;/admin-object&gt;\r\n                    &lt;/admin-objects&gt;\r\n                &lt;/resource-adapter&gt;\r\n            &lt;/resource-adapters&gt;\r\n        &lt;/subsystem&gt;\r\n```\r\n\r\nAfter I put the `activemq-rar-5.16.4.rar` in the `deployments` folder I started Wildfly with\r\n\r\n```\r\n./standalone.sh --server-config=standalone-full.xml\r\n```\r\n\r\nNow I want to try with an helloworld-mdb\r\n```java\r\n@WebServlet(&quot;/HelloWorldMDBServletClient&quot;)\r\npublic class HelloWorldMDBServletClient extends HttpServlet {\r\n\r\n    private static final long serialVersionUID = -8314035702649252239L;\r\n\r\n    private static final int MSG_COUNT = 5;\r\n\r\n    @Resource(mappedName = &quot;java:/ConnectionFactory&quot;)\r\n    private ConnectionFactory connectionFactory;\r\n```\r\n``` java\r\nimport org.jboss.ejb3.annotation.ResourceAdapter;\r\n/**\r\n * &lt;p&gt;\r\n * A simple Message Driven Bean that asynchronously receives and processes the messages that are sent to the topic.\r\n * &lt;/p&gt;\r\n *\r\n * @author Serge Pagop (spagop@redhat.com)\r\n */\r\n@MessageDriven(name = &quot;HelloWorldQTopicMDB&quot;, activationConfig = {\r\n        @ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;java:/queue/HELLOWORLDMDBTopic&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Topic&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)})\r\n@ResourceAdapter(value=&quot;activemq-rar-5.16.4.rar&quot;)\r\npublic class HelloWorldTopicMDB implements MessageListener {\r\n``` \r\n\r\nDone the war, I am trying to deploy into Wildfly but I give an error:\r\n\r\n```\r\n09:44:53,938 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service jboss.deployment.unit.&quot;helloworld-mdb.war&quot;.INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;helloworld-mdb.war&quot;.INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment &quot;helloworld-mdb.war&quot;\r\n\tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.jboss.as.naming.deployment.ContextNames.bindInfoFor(ContextNames.java:351)\r\n\tat org.wildfly.extension.messaging.activemq.deployment.JMSConnectionFactoryDefinitionInjectionSource.getDefaulResourceAdapter(JMSConnectionFactoryDefinitionInjectionSource.java:428)\r\n\tat org.wildfly.extension.messaging.activemq.deployment.JMSDestinationDefinitionInjectionSource.getResourceValue(JMSDestinationDefinitionInjectionSource.java:137)\r\n\tat org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.addJndiBinding(ModuleJndiBindingProcessor.java:294)\r\n\tat org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor$1.handle(ModuleJndiBindingProcessor.java:242)\r\n\tat org.jboss.as.ee.component.ClassDescriptionTraversal.run(ClassDescriptionTraversal.java:54)\r\n\tat org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.processClassConfigurations(ModuleJndiBindingProcessor.java:246)\r\n\tat org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.deploy(ModuleJndiBindingProcessor.java:160)\r\n\tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\r\n\t... 8 more\r\n\r\n09:44:53,941 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;helloworld-mdb.war&quot;)]) - failure description: {\r\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;helloworld-mdb.war\\&quot;\r\n    Caused by: java.lang.NullPointerException&quot;},\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService&quot;,\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager&quot;\r\n    ],\r\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager]&quot;,\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService]&quot;\r\n    ]\r\n}\r\n09:44:53,942 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;helloworld-mdb.war&quot;)]) - failure description: {\r\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;helloworld-mdb.war\\&quot;\r\n    Caused by: java.lang.NullPointerException&quot;},\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService&quot;,\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager&quot;\r\n    ],\r\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager]&quot;,\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService]&quot;\r\n    ]\r\n}\r\n09:44:53,942 ERROR [org.jboss.as.server] (External Management Request Threads -- 1) WFLYSRV0021: Deploy of deployment &quot;helloworld-mdb.war&quot; was rolled back with the following failure message:\r\n{\r\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;helloworld-mdb.war\\&quot;\r\n    Caused by: java.lang.NullPointerException&quot;},\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService&quot;,\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager&quot;\r\n    ],\r\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager]&quot;,\r\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService]&quot;\r\n    ]\r\n}\r\n```","title":"Widlfy 26 with ActiveMQ &quot;Classic&quot; JCA resource adapter","body":"<p>I am trying to test an example HelloWorld MDB with Wildfly 26.0.1-Final and ActiveMQ &quot;Classic&quot; 5.16.4.</p>\n<p>In <code>standalone-full.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:6.0&quot;&gt;\n            &lt;spec-descriptor-property-replacement&gt;false&lt;/spec-descriptor-property-replacement&gt;\n            &lt;concurrent&gt;\n                &lt;context-services&gt;\n                    &lt;context-service name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/context/default&quot; use-transaction-setup-provider=&quot;true&quot;/&gt;\n                &lt;/context-services&gt;\n                &lt;managed-thread-factories&gt;\n                    &lt;managed-thread-factory name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/factory/default&quot; context-service=&quot;default&quot;/&gt;\n                &lt;/managed-thread-factories&gt;\n                &lt;managed-executor-services&gt;\n                    &lt;managed-executor-service name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/executor/default&quot; context-service=&quot;default&quot; hung-task-termination-period=&quot;0&quot; hung-task-threshold=&quot;60000&quot; keepalive-time=&quot;5000&quot;/&gt;\n                &lt;/managed-executor-services&gt;\n                &lt;managed-scheduled-executor-services&gt;\n                    &lt;managed-scheduled-executor-service name=&quot;default&quot; jndi-name=&quot;java:jboss/ee/concurrency/scheduler/default&quot; context-service=&quot;default&quot; hung-task-termination-period=&quot;0&quot; hung-task-threshold=&quot;60000&quot; keepalive-time=&quot;3000&quot;/&gt;\n                &lt;/managed-scheduled-executor-services&gt;\n            &lt;/concurrent&gt;\n            &lt;!-- &lt;default-bindings context-service=&quot;java:jboss/ee/concurrency/context/default&quot; datasource=&quot;java:jboss/datasources/ExampleDS&quot; jms-connection-factory=&quot;java:jboss/DefaultJMSConnectionFactory&quot; managed-executor-service=&quot;java:jboss/ee/concurrency/executor/default&quot; managed-scheduled-executor-service=&quot;java:jboss/ee/concurrency/scheduler/default&quot; managed-thread-factory=&quot;java:jboss/ee/concurrency/factory/default&quot;/&gt; --&gt;\n            &lt;default-bindings context-service=&quot;java:jboss/ee/concurrency/context/default&quot; datasource=&quot;java:jboss/datasources/ExampleDS&quot; managed-executor-service=&quot;java:jboss/ee/concurrency/executor/default&quot; managed-scheduled-executor-service=&quot;java:jboss/ee/concurrency/scheduler/default&quot; managed-thread-factory=&quot;java:jboss/ee/concurrency/factory/default&quot;/&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;mdb&gt;\n                &lt;resource-adapter-ref resource-adapter-name=&quot;activemq-rar-5.16.4.rar&quot;/&gt;\n                &lt;bean-instance-pool-ref pool-name=&quot;mdb-strict-max-pool&quot;/&gt;\n            &lt;/mdb&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\n            &lt;server name=&quot;default&quot;&gt;\n                &lt;security elytron-domain=&quot;ApplicationDomain&quot;/&gt;\n                &lt;cluster password=&quot;${jboss.messaging.cluster.password:CHANGE ME!!}&quot;/&gt;\n                &lt;statistics enabled=&quot;${wildfly.messaging-activemq.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;/&gt;\n                &lt;security-setting name=&quot;#&quot;&gt;\n                    &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\n                &lt;/security-setting&gt;\n                &lt;address-setting name=&quot;#&quot; dead-letter-address=&quot;jms.queue.DLQ&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; max-size-bytes=&quot;10485760&quot; page-size-bytes=&quot;2097152&quot; message-counter-history-day-limit=&quot;10&quot; redistribution-d\nelay=&quot;1000&quot;/&gt;\n                &lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\n                &lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\n                &lt;/http-connector&gt;\n                &lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\n                    &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\n                &lt;/in-vm-connector&gt;\n                &lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\n                &lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\n                    &lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\n                &lt;/http-acceptor&gt;\n                &lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\n                    &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\n                &lt;/in-vm-acceptor&gt;\n                &lt;jgroups-broadcast-group name=&quot;bg-group1&quot; jgroups-cluster=&quot;activemq-cluster&quot; connectors=&quot;http-connector&quot;/&gt;\n                &lt;jgroups-discovery-group name=&quot;dg-group1&quot; jgroups-cluster=&quot;activemq-cluster&quot;/&gt;\n                &lt;cluster-connection name=&quot;my-cluster&quot; address=&quot;jms&quot; connector-name=&quot;http-connector&quot; discovery-group=&quot;dg-group1&quot;/&gt;\n                &lt;jms-queue name=&quot;ExpiryQueue&quot; entries=&quot;java:/jms/queue/ExpiryQueue&quot;/&gt;\n                &lt;jms-queue name=&quot;DLQ&quot; entries=&quot;java:/jms/queue/DLQ&quot;/&gt;\n                &lt;connection-factory name=&quot;InVmConnectionFactory&quot; entries=&quot;java:/ConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\n                &lt;connection-factory name=&quot;RemoteConnectionFactory&quot; entries=&quot;java:jboss/exported/jms/RemoteConnectionFactory&quot; connectors=&quot;http-connector&quot; ha=&quot;true&quot; block-on-acknowledge=&quot;true&quot; reconnect-attempts=&quot;-1&quot;/&gt;\n                &lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot; transaction=&quot;xa&quot;/&gt;\n            &lt;/server&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.0&quot;&gt;\n            &lt;resource-adapters&gt;\n                &lt;resource-adapter id=&quot;activemq-rar-5.16.4.rar&quot;&gt;\n                    &lt;archive&gt;\n                        activemq-rar-5.16.4.rar\n                    &lt;/archive&gt;\n                    &lt;transaction-support&gt;XATransaction&lt;/transaction-support&gt;\n                    &lt;config-property name=&quot;ServerUrl&quot;&gt;tcp://localhost:61616?soTimeout=20000&amp;amp;connectionTimeout=10000&lt;/config-property&gt;\n                    &lt;config-property name=&quot;UserName&quot;&gt;admin&lt;/config-property&gt;\n                    &lt;config-property name=&quot;UseInboundSession&quot;&gt;false&lt;/config-property&gt;\n                    &lt;config-property name=&quot;Password&quot;&gt;admin&lt;/config-property&gt;\n                    &lt;connection-definitions&gt;\n                        &lt;connection-definition class-name=&quot;org.apache.activemq.ra.ActiveMQManagedConnectionFactory&quot; jndi-name=&quot;java:/ActiveMQ/QueueConnectionFactory&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;ActiveMQ/QueueConnectionFactory&quot; use-ccm=&quot;true&quot;&gt;\n                            &lt;xa-pool&gt;\n                                &lt;min-pool-size&gt;1&lt;/min-pool-size&gt;\n                                &lt;max-pool-size&gt;200&lt;/max-pool-size&gt;\n                            &lt;/xa-pool&gt;\n                            &lt;timeout&gt;\n                                &lt;blocking-timeout-millis&gt;30000&lt;/blocking-timeout-millis&gt;\n                                &lt;idle-timeout-minutes&gt;5&lt;/idle-timeout-minutes&gt;\n                            &lt;/timeout&gt;\n                        &lt;/connection-definition&gt;\n                    &lt;/connection-definitions&gt;\n                    &lt;admin-objects&gt;\n                        &lt;admin-object class-name=&quot;org.apache.activemq.command.ActiveMQQueue&quot; jndi-name=&quot;java:/queue/HELLOWORLDMDBQueue&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;HELLOWORLDMDBQueue&quot;&gt;\n                            &lt;config-property name=&quot;PhysicalName&quot;&gt;HELLOWORLDMDBQueue&lt;/config-property&gt;\n                        &lt;/admin-object&gt;\n                        &lt;admin-object class-name=&quot;org.apache.activemq.command.ActiveMQTopic&quot; jndi-name=&quot;java:/topic/HELLOWORLDMDBTopic&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;HELLOWORLDMDBTopic&quot;&gt;\n                            &lt;config-property name=&quot;PhysicalName&quot;&gt;HELLOWORLDMDBTopic&lt;/config-property&gt;\n                        &lt;/admin-object&gt;\n                    &lt;/admin-objects&gt;\n                &lt;/resource-adapter&gt;\n            &lt;/resource-adapters&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<p>After I put the <code>activemq-rar-5.16.4.rar</code> in the <code>deployments</code> folder I started Wildfly with</p>\n<pre><code>./standalone.sh --server-config=standalone-full.xml\n</code></pre>\n<p>Now I want to try with an helloworld-mdb</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(&quot;/HelloWorldMDBServletClient&quot;)\npublic class HelloWorldMDBServletClient extends HttpServlet {\n\n    private static final long serialVersionUID = -8314035702649252239L;\n\n    private static final int MSG_COUNT = 5;\n\n    @Resource(mappedName = &quot;java:/ConnectionFactory&quot;)\n    private ConnectionFactory connectionFactory;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jboss.ejb3.annotation.ResourceAdapter;\n/**\n * &lt;p&gt;\n * A simple Message Driven Bean that asynchronously receives and processes the messages that are sent to the topic.\n * &lt;/p&gt;\n *\n * @author Serge Pagop (spagop@redhat.com)\n */\n@MessageDriven(name = &quot;HelloWorldQTopicMDB&quot;, activationConfig = {\n        @ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;java:/queue/HELLOWORLDMDBTopic&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Topic&quot;),\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)})\n@ResourceAdapter(value=&quot;activemq-rar-5.16.4.rar&quot;)\npublic class HelloWorldTopicMDB implements MessageListener {\n</code></pre>\n<p>Done the war, I am trying to deploy into Wildfly but I give an error:</p>\n<pre><code>09:44:53,938 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service jboss.deployment.unit.&quot;helloworld-mdb.war&quot;.INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;helloworld-mdb.war&quot;.INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment &quot;helloworld-mdb.war&quot;\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n    at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: java.lang.NullPointerException\n    at org.jboss.as.naming.deployment.ContextNames.bindInfoFor(ContextNames.java:351)\n    at org.wildfly.extension.messaging.activemq.deployment.JMSConnectionFactoryDefinitionInjectionSource.getDefaulResourceAdapter(JMSConnectionFactoryDefinitionInjectionSource.java:428)\n    at org.wildfly.extension.messaging.activemq.deployment.JMSDestinationDefinitionInjectionSource.getResourceValue(JMSDestinationDefinitionInjectionSource.java:137)\n    at org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.addJndiBinding(ModuleJndiBindingProcessor.java:294)\n    at org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor$1.handle(ModuleJndiBindingProcessor.java:242)\n    at org.jboss.as.ee.component.ClassDescriptionTraversal.run(ClassDescriptionTraversal.java:54)\n    at org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.processClassConfigurations(ModuleJndiBindingProcessor.java:246)\n    at org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.deploy(ModuleJndiBindingProcessor.java:160)\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\n    ... 8 more\n\n09:44:53,941 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;helloworld-mdb.war&quot;)]) - failure description: {\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;helloworld-mdb.war\\&quot;\n    Caused by: java.lang.NullPointerException&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService&quot;,\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager&quot;\n    ],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager]&quot;,\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService]&quot;\n    ]\n}\n09:44:53,942 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;helloworld-mdb.war&quot;)]) - failure description: {\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;helloworld-mdb.war\\&quot;\n    Caused by: java.lang.NullPointerException&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService&quot;,\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager&quot;\n    ],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager]&quot;,\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService]&quot;\n    ]\n}\n09:44:53,942 ERROR [org.jboss.as.server] (External Management Request Threads -- 1) WFLYSRV0021: Deploy of deployment &quot;helloworld-mdb.war&quot; was rolled back with the following failure message:\n{\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;helloworld-mdb.war\\&quot;\n    Caused by: java.lang.NullPointerException&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService&quot;,\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager&quot;\n    ],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager]&quot;,\n        &quot;jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;helloworld-mdb.war\\&quot;.WeldStartService]&quot;\n    ]\n}\n</code></pre>\n"},{"tags":["java","kubernetes","kubernetes-cronjob"],"answers":[{"tags":[],"owner":{"account_id":16057,"reputation":18572,"user_id":34586,"accept_rate":79,"display_name":"Lukman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645196281,"creation_date":1645196281,"answer_id":71175524,"question_id":71172671,"body_markdown":"The `concurrencyPolicy: Forbidden` spec only prevents concurrent pod creations and executions of [the same `CronJob`][1]. It does not apply across separate CronJobs even though they effectively execute the same commands using the same Docker image. As far as Kubernetes is concerned, they are different jobs. If this was Java, what Kubernetes does is `if (stringA == stringB)` and not `if (stringA.equals(stringB))`.\r\n\r\n&gt; If it is, I think I should check inside my Docker image (app written in Java) if there is already a cronjob running. How would I do that?\r\n\r\nOne way of using that is to use distributed lock mechanism using separate component such as Redis. Here is the link to the guide to utilize Java Redis library redisson for that purpose: https://github.com/redisson/redisson/wiki/8.-distributed-locks-and-synchronizers. Below is code sample taken from that page:\r\n\r\n    RLock lock = redisson.getLock(&quot;myLock&quot;);\r\n\r\n    // wait for lock aquisition up to 100 seconds \r\n    // and automatically unlock it after 10 seconds\r\n    boolean res = lock.tryLock(100, 10, TimeUnit.SECONDS);\r\n    if (res) {\r\n        // do operation\r\n    } else {\r\n        // some other execution is doing it so just chill\r\n    }\r\n\r\n  [1]: https://kubernetes.io/docs/tasks/job/automated-tasks-with-cron-jobs/#concurrency-policy\r\n","title":"How to prevent Kubernetes cronjob running concurrently when I trigger it manually?","body":"<p>The <code>concurrencyPolicy: Forbidden</code> spec only prevents concurrent pod creations and executions of <a href=\"https://kubernetes.io/docs/tasks/job/automated-tasks-with-cron-jobs/#concurrency-policy\" rel=\"nofollow noreferrer\">the same <code>CronJob</code></a>. It does not apply across separate CronJobs even though they effectively execute the same commands using the same Docker image. As far as Kubernetes is concerned, they are different jobs. If this was Java, what Kubernetes does is <code>if (stringA == stringB)</code> and not <code>if (stringA.equals(stringB))</code>.</p>\n<blockquote>\n<p>If it is, I think I should check inside my Docker image (app written in Java) if there is already a cronjob running. How would I do that?</p>\n</blockquote>\n<p>One way of using that is to use distributed lock mechanism using separate component such as Redis. Here is the link to the guide to utilize Java Redis library redisson for that purpose: <a href=\"https://github.com/redisson/redisson/wiki/8.-distributed-locks-and-synchronizers\" rel=\"nofollow noreferrer\">https://github.com/redisson/redisson/wiki/8.-distributed-locks-and-synchronizers</a>. Below is code sample taken from that page:</p>\n<pre><code>RLock lock = redisson.getLock(&quot;myLock&quot;);\n\n// wait for lock aquisition up to 100 seconds \n// and automatically unlock it after 10 seconds\nboolean res = lock.tryLock(100, 10, TimeUnit.SECONDS);\nif (res) {\n    // do operation\n} else {\n    // some other execution is doing it so just chill\n}\n</code></pre>\n"}],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1832,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71175524,"answer_count":1,"score":1,"last_activity_date":1645196281,"creation_date":1645183382,"question_id":71172671,"body_markdown":"I have set the Kubernetes cronJob to prevent concurrent runs [like here][1] using `parallelism: 1`, `concurrencyPolicy: Forbid`, and `parallelism: 1`. However, when I try to create a cronJob manually I am allowed to do that.\r\n\r\n```\r\n$ kubectl get cronjobs\r\n...\r\n$ kubectl create job new-cronjob-1642417446000 --from=cronjob/original-cronjob-name\r\njob.batch/new-cronjob-1642417446000 created\r\n$ kubectl create job new-cronjob-1642417446001 --from=cronjob/original-cronjob-name\r\njob.batch/new-cronjob-1642417446001 created\r\n```\r\nI was expecting that a new cronjob would not be created. Or it could be created and fail with a state that references the `concurrencyPolicy`. If the property `concurrencyPolicy` is part of the CronJob spec, not the PodSpec, it should prevent a new job to be created. Why it does not?\r\n```\r\napiVersion: batch/v1beta1\r\nkind: CronJob\r\nmetadata:\r\n  name: cronjob-name\r\n  annotations:\r\n    argocd.argoproj.io/sync-wave: &quot;1&quot;\r\nspec:\r\n  schedule: &quot;0 * * * *&quot;\r\n  suspend: false\r\n  successfulJobsHistoryLimit: 1\r\n  failedJobsHistoryLimit: 3\r\n  concurrencyPolicy: Forbid\r\n  jobTemplate:\r\n    spec:\r\n      parallelism: 1\r\n      completions: 1\r\n      backoffLimit: 3\r\n      template:\r\n        spec:\r\n          restartPolicy: Never\r\n```\r\nAfter reading the [official documentation][2] about the `kubectl create -f` I didn&#39;t find a way to prevent that. Is this behavior expected? If it is, I think I should check inside my Docker image (app written in Java) if there is already a cronjob running. How would I do that?\r\n\r\n  [1]: https://stackoverflow.com/a/62892617/2096986\r\n  [2]: https://kubernetes.io/docs/tasks/job/_print/#creating-a-cron-job","title":"How to prevent Kubernetes cronjob running concurrently when I trigger it manually?","body":"<p>I have set the Kubernetes cronJob to prevent concurrent runs <a href=\"https://stackoverflow.com/a/62892617/2096986\">like here</a> using <code>parallelism: 1</code>, <code>concurrencyPolicy: Forbid</code>, and <code>parallelism: 1</code>. However, when I try to create a cronJob manually I am allowed to do that.</p>\n<pre><code>$ kubectl get cronjobs\n...\n$ kubectl create job new-cronjob-1642417446000 --from=cronjob/original-cronjob-name\njob.batch/new-cronjob-1642417446000 created\n$ kubectl create job new-cronjob-1642417446001 --from=cronjob/original-cronjob-name\njob.batch/new-cronjob-1642417446001 created\n</code></pre>\n<p>I was expecting that a new cronjob would not be created. Or it could be created and fail with a state that references the <code>concurrencyPolicy</code>. If the property <code>concurrencyPolicy</code> is part of the CronJob spec, not the PodSpec, it should prevent a new job to be created. Why it does not?</p>\n<pre><code>apiVersion: batch/v1beta1\nkind: CronJob\nmetadata:\n  name: cronjob-name\n  annotations:\n    argocd.argoproj.io/sync-wave: &quot;1&quot;\nspec:\n  schedule: &quot;0 * * * *&quot;\n  suspend: false\n  successfulJobsHistoryLimit: 1\n  failedJobsHistoryLimit: 3\n  concurrencyPolicy: Forbid\n  jobTemplate:\n    spec:\n      parallelism: 1\n      completions: 1\n      backoffLimit: 3\n      template:\n        spec:\n          restartPolicy: Never\n</code></pre>\n<p>After reading the <a href=\"https://kubernetes.io/docs/tasks/job/_print/#creating-a-cron-job\" rel=\"nofollow noreferrer\">official documentation</a> about the <code>kubectl create -f</code> I didn't find a way to prevent that. Is this behavior expected? If it is, I think I should check inside my Docker image (app written in Java) if there is already a cronjob running. How would I do that?</p>\n"},{"tags":["java","tomcat","apache-kafka","apache-kafka-streams","redeploy"],"answers":[{"tags":[],"owner":{"account_id":1730446,"reputation":7868,"user_id":1584167,"display_name":"udalmik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645196149,"creation_date":1645013631,"answer_id":71141666,"question_id":71141534,"body_markdown":"I think this is because  \r\n```\r\nRuntime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n    if (kafkaStreams != null) {\r\n        kafkaStreams.close();\r\n    }\r\n}));\r\n```\r\nis not being called during re-deploy, as JVM process continue to run. Please try another way to be notified when your application is being redeployed, for example using [ServletContextListener](https://tomcat.apache.org/tomcat-5.5-doc/servletapi/javax/servlet/ServletContextListener.html)","title":"Kafka streams errors after redeploying Tomcat","body":"<p>I think this is because</p>\n<pre><code>Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n    if (kafkaStreams != null) {\n        kafkaStreams.close();\n    }\n}));\n</code></pre>\n<p>is not being called during re-deploy, as JVM process continue to run. Please try another way to be notified when your application is being redeployed, for example using <a href=\"https://tomcat.apache.org/tomcat-5.5-doc/servletapi/javax/servlet/ServletContextListener.html\" rel=\"nofollow noreferrer\">ServletContextListener</a></p>\n"},{"tags":[],"owner":{"account_id":11728551,"reputation":585,"user_id":8584914,"display_name":"omerstack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645192404,"creation_date":1645192404,"answer_id":71174603,"question_id":71141534,"body_markdown":"My problem was solved thanks to @udalmik. \r\n\r\nI solved my problem by extending my beans from DisposableBean. \r\n\r\nAdditionally I have prototype beans. This solution didn&#39;t work on my prototype beans.\r\nI am writing my solution for both prototype and singleton beans.\r\n\r\n    // For Singleton Bean\r\n    @Service\r\n    public class PersonSingletonBean implements DisposableBean {\r\n        @Override\r\n        public void destroy() throws Exception {\r\n            if (kafkaStreams != null) {\r\n                kafkaStreams.close();\r\n            }\r\n        }\r\n    }\r\n---------------------------------------------------------------------------------\r\n    // For PrototypeBean\r\n    @Service\r\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    public class PersonPrototypeBean implements DisposableBean {\r\n    \r\n        @Override\r\n        public void destroy() {\r\n            if (kafkaStreams != null) {\r\n                kafkaStreams.close();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n    @Service\r\n    public class PersonPrototypeBeanList implements DisposableBean {\r\n    \r\n        private final List&lt;PersonPrototypeBean&gt; personPrototypeBeanList = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n    \r\n        public void addToPersonPrototypeBeanList(PersonPrototypeBean personPrototypeBean) {\r\n            personPrototypeBeanList.add(personPrototypeBean);\r\n        }\r\n    \r\n        public void destroy() throws Exception {\r\n            synchronized (personPrototypeBeanList) {\r\n                for (PersonPrototypeBean personPrototypeBean : personPrototypeBeanList) {\r\n                    if (personPrototypeBean != null) {\r\n                        ((DisposableBean) personPrototypeBean).destroy();\r\n                    }\r\n                }\r\n                personPrototypeBeanList.clear();\r\n            }\r\n        }\r\n    }","title":"Kafka streams errors after redeploying Tomcat","body":"<p>My problem was solved thanks to @udalmik.</p>\n<p>I solved my problem by extending my beans from DisposableBean.</p>\n<p>Additionally I have prototype beans. This solution didn't work on my prototype beans.\nI am writing my solution for both prototype and singleton beans.</p>\n<pre><code>// For Singleton Bean\n@Service\npublic class PersonSingletonBean implements DisposableBean {\n    @Override\n    public void destroy() throws Exception {\n        if (kafkaStreams != null) {\n            kafkaStreams.close();\n        }\n    }\n}\n</code></pre>\n<hr />\n<pre><code>// For PrototypeBean\n@Service\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\npublic class PersonPrototypeBean implements DisposableBean {\n\n    @Override\n    public void destroy() {\n        if (kafkaStreams != null) {\n            kafkaStreams.close();\n        }\n    }\n\n}\n\n@Service\npublic class PersonPrototypeBeanList implements DisposableBean {\n\n    private final List&lt;PersonPrototypeBean&gt; personPrototypeBeanList = Collections.synchronizedList(new ArrayList&lt;&gt;());\n\n    public void addToPersonPrototypeBeanList(PersonPrototypeBean personPrototypeBean) {\n        personPrototypeBeanList.add(personPrototypeBean);\n    }\n\n    public void destroy() throws Exception {\n        synchronized (personPrototypeBeanList) {\n            for (PersonPrototypeBean personPrototypeBean : personPrototypeBeanList) {\n                if (personPrototypeBean != null) {\n                    ((DisposableBean) personPrototypeBean).destroy();\n                }\n            }\n            personPrototypeBeanList.clear();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11728551,"reputation":585,"user_id":8584914,"display_name":"omerstack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71141666,"answer_count":2,"score":0,"last_activity_date":1645196149,"creation_date":1645013071,"question_id":71141534,"body_markdown":"I am using **kafka streams** in my project. I compile my project as **war** and run it in **tomcat**. \r\n\r\nMy project works as I want without any errors. If I first stop tomcat and then start it, it works without error. **However, if I redeploy(undeploy and deploy) the service without stopping tomcat, I start getting errors**. When I do research, there is information that tomcat caches the old version of the service. I could not reach a solution even though I applied some solutions. I will be grateful if you could help me.\r\n\r\n**I want to say it again. My code block works normally. If I run the service for the first time in tomcat, I don&#39;t get an error. Or if I close tomcat completely and start it again, I don&#39;t get an error. However, if I redeploy(undeploy and deploy) the service without stopping tomcat , I start getting an error.**\r\n\r\nI am sharing a small code block below. \r\n\r\n    Properties streamConfiguration = kafkaStreamsConfiguration.createStreamConfiguration(createKTableGroupId(), new AppSerdes.DataWrapperSerde());\r\n    StreamsBuilder streamsBuilder = new StreamsBuilder();\r\n    KTable&lt;String, DataWrapper&gt; kTableDataWrapper = streamsBuilder.table(topicAction.getTopicName());\r\n    KTable&lt;String, DataWrapper&gt; kTableWithStore = kTableDataWrapper.filter((key, dataWrapper) -&gt; key != null &amp;&amp; dataWrapper != null, Materialized.as(createStoreName()));\r\n    \r\n    kTableWithStore.toStream().filter((key, dataWrapper) -&gt; // Filter)\r\n    \t\t.mapValues((ValueMapperWithKey&lt;String, DataWrapper, Object&gt;) (key, dataWrapper) -&gt; {\r\n    \t\t\t// Logics\r\n    \t\t})\r\n    \t\t.to(createOutputTopicName());\r\n    \r\n    this.kafkaStreams = new KafkaStreams(streamsBuilder.build(), streamConfiguration);\r\n    this.kafkaStreams.start();\r\n    Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n    \tif (kafkaStreams != null) {\r\n    \t\tkafkaStreams.close();\r\n    \t}\r\n    }));\r\n    \r\n    \r\n    public Properties createStreamConfiguration(String appId, Serde serde) {\r\n    \tProperties properties = new Properties();\r\n    \tproperties.put(StreamsConfig.APPLICATION_ID_CONFIG, appId);\r\n    \tproperties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaBrokers);\r\n    \tproperties.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n    \tproperties.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, serde.getClass());\r\n    \tproperties.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, dynamicKafkaSourceTopologyConfiguration.getkTableCommitIntervalMs());\r\n    \tproperties.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, dynamicKafkaSourceTopologyConfiguration.getkTableMaxByteBufferMB() * 1024 * 1024);\r\n    \tproperties.put(StreamsConfig.STATE_DIR_CONFIG, KafkaStreamsConfigurationConstants.stateStoreLocation);\r\n    \treturn properties;\r\n}\r\n\r\nError : \r\n\r\n    2022-02-16 14:19:39.663  WARN 9529 --- [     Thread-462] o.a.k.s.p.i.StateDirectory               : Using /tmp directory in the state.dir property can cause failures with writing the checkpoint file due to the fact that this directory can be cleared by the OS\r\n    2022-02-16 14:19:39.677 ERROR 9529 --- [     Thread-462] o.a.k.s.p.i.StateDirectory               : Unable to obtain lock as state directory is already locked by another process\r\n    2022-02-16 14:19:39.702 ERROR 9529 --- [     Thread-462] f.t.s.c.- Message : Unable to initialize state, this can happen if multiple instances of Kafka Streams are running in the same state directory - Localized Message : Unable to initialize state, this can happen if multiple instances of Kafka Streams are running in the same state directory - Print Stack Trace : org.apache.kafka.streams.errors.StreamsException: Unable to initialize state, this can happen if multiple instances of Kafka Streams are running in the same state directory\r\n            at org.apache.kafka.streams.processor.internals.StateDirectory.initializeProcessId(StateDirectory.java:186)\r\n            at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:681)\r\n            at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:657)\r\n            at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:567)\r\n\r\n","title":"Kafka streams errors after redeploying Tomcat","body":"<p>I am using <strong>kafka streams</strong> in my project. I compile my project as <strong>war</strong> and run it in <strong>tomcat</strong>.</p>\n<p>My project works as I want without any errors. If I first stop tomcat and then start it, it works without error. <strong>However, if I redeploy(undeploy and deploy) the service without stopping tomcat, I start getting errors</strong>. When I do research, there is information that tomcat caches the old version of the service. I could not reach a solution even though I applied some solutions. I will be grateful if you could help me.</p>\n<p><strong>I want to say it again. My code block works normally. If I run the service for the first time in tomcat, I don't get an error. Or if I close tomcat completely and start it again, I don't get an error. However, if I redeploy(undeploy and deploy) the service without stopping tomcat , I start getting an error.</strong></p>\n<p>I am sharing a small code block below.</p>\n<pre><code>Properties streamConfiguration = kafkaStreamsConfiguration.createStreamConfiguration(createKTableGroupId(), new AppSerdes.DataWrapperSerde());\nStreamsBuilder streamsBuilder = new StreamsBuilder();\nKTable&lt;String, DataWrapper&gt; kTableDataWrapper = streamsBuilder.table(topicAction.getTopicName());\nKTable&lt;String, DataWrapper&gt; kTableWithStore = kTableDataWrapper.filter((key, dataWrapper) -&gt; key != null &amp;&amp; dataWrapper != null, Materialized.as(createStoreName()));\n\nkTableWithStore.toStream().filter((key, dataWrapper) -&gt; // Filter)\n        .mapValues((ValueMapperWithKey&lt;String, DataWrapper, Object&gt;) (key, dataWrapper) -&gt; {\n            // Logics\n        })\n        .to(createOutputTopicName());\n\nthis.kafkaStreams = new KafkaStreams(streamsBuilder.build(), streamConfiguration);\nthis.kafkaStreams.start();\nRuntime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n    if (kafkaStreams != null) {\n        kafkaStreams.close();\n    }\n}));\n\n\npublic Properties createStreamConfiguration(String appId, Serde serde) {\n    Properties properties = new Properties();\n    properties.put(StreamsConfig.APPLICATION_ID_CONFIG, appId);\n    properties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaBrokers);\n    properties.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n    properties.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, serde.getClass());\n    properties.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, dynamicKafkaSourceTopologyConfiguration.getkTableCommitIntervalMs());\n    properties.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, dynamicKafkaSourceTopologyConfiguration.getkTableMaxByteBufferMB() * 1024 * 1024);\n    properties.put(StreamsConfig.STATE_DIR_CONFIG, KafkaStreamsConfigurationConstants.stateStoreLocation);\n    return properties;\n</code></pre>\n<p>}</p>\n<p>Error :</p>\n<pre><code>2022-02-16 14:19:39.663  WARN 9529 --- [     Thread-462] o.a.k.s.p.i.StateDirectory               : Using /tmp directory in the state.dir property can cause failures with writing the checkpoint file due to the fact that this directory can be cleared by the OS\n2022-02-16 14:19:39.677 ERROR 9529 --- [     Thread-462] o.a.k.s.p.i.StateDirectory               : Unable to obtain lock as state directory is already locked by another process\n2022-02-16 14:19:39.702 ERROR 9529 --- [     Thread-462] f.t.s.c.- Message : Unable to initialize state, this can happen if multiple instances of Kafka Streams are running in the same state directory - Localized Message : Unable to initialize state, this can happen if multiple instances of Kafka Streams are running in the same state directory - Print Stack Trace : org.apache.kafka.streams.errors.StreamsException: Unable to initialize state, this can happen if multiple instances of Kafka Streams are running in the same state directory\n        at org.apache.kafka.streams.processor.internals.StateDirectory.initializeProcessId(StateDirectory.java:186)\n        at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:681)\n        at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:657)\n        at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:567)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","gradle","spring-cloud"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1645195217,"post_id":71174840,"comment_id":125813555,"body_markdown":"The obvious thing you missed is to include the full error message, which would explain _which_ &quot;error creating bean&quot;.","body":"The obvious thing you missed is to include the full error message, which would explain <i>which</i> &quot;error creating bean&quot;."},{"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"score":0,"creation_date":1645196150,"post_id":71174840,"comment_id":125813909,"body_markdown":"Added to question body.","body":"Added to question body."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1645196609,"post_id":71174840,"comment_id":125814123,"body_markdown":"The missing class hasn&#39;t existed since boot 2.4. Something else in your project is bringing in an incompatible dependency. Please show your dependencies https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html","body":"The missing class hasn&#39;t existed since boot 2.4. Something else in your project is bringing in an incompatible dependency. Please show your dependencies <a href=\"https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"score":0,"creation_date":1645197716,"post_id":71174840,"comment_id":125814602,"body_markdown":"Should I provide only one specified --configuration (and which) or all of them?","body":"Should I provide only one specified --configuration (and which) or all of them?"},{"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"score":0,"creation_date":1645198493,"post_id":71174840,"comment_id":125814930,"body_markdown":"I mean productionRuntimeClasspath would be enough? Sorry Im not a pro-programmer even of a junior-level, just self-learning in progress.","body":"I mean productionRuntimeClasspath would be enough? Sorry Im not a pro-programmer even of a junior-level, just self-learning in progress."}],"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645196066,"creation_date":1645193373,"question_id":71174840,"body_markdown":"I get **Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]**\r\n\r\nI know 2 main advices are to add **implementation &quot;org.springframework.cloud:spring-cloud-starter-bootstrap&quot;** in build and check Boot and Cloud versions for compatibility which looks like I&#39;ve done both:\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.6.3&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n}\r\n\r\ngroup &#39;demo.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    set(&#39;springCloudVersion&#39;, &quot;2021.0.1&quot;)\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n                &#39;Main-Class&#39;: &#39;registry.RegistryApp&#39;\r\n        )\r\n    }\r\n}\r\n\r\ndependencies {\r\n\timplementation &quot;org.springframework.cloud:spring-cloud-starter-bootstrap&quot;\r\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-netflix-eureka-server&quot;\r\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-config&quot;\r\n    testImplementation &quot;junit:junit:4.12&quot;\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n    }\r\n}\r\n```\r\nunfortunately without success and even more strange that second submodule in same project works fine with the following build that seems to be pretty similar to the first one:\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.6.3&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n}\r\n\r\ngroup &#39;demo.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n                &#39;Main-Class&#39;: &#39;config.ConfigApp&#39;\r\n        )\r\n    }\r\n}\r\n\r\next {\r\n    set(&#39;springCloudVersion&#39;, &quot;2021.0.1&quot;)\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\timplementation &quot;org.springframework.cloud:spring-cloud-starter-bootstrap&quot;\r\n    implementation &quot;org.springframework.cloud:spring-cloud-config-server&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-security:2.6.3&quot;\r\n    testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n}\r\n```\r\ndid I miss something obvious? Thanks in advance.\r\n\r\nStacktrace:\r\n```\r\n2022-02-18 17:52:18.810  WARN 7840 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\r\n2022-02-18 17:52:19.610  INFO 7840 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-02-18 17:52:19.722 ERROR 7840 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:270) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:762) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:567) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212) [spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117) [spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74) [spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) [spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) [spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) [spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) [spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat java.util.ArrayList.forEach(Unknown Source) ~[na:1.8.0_131]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:338) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:296) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat registry.RegistryApp.main(RegistryApp.java:12) ~[main/:na]\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.15.jar:5.3.15]\r\n\tat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:232) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:210) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:149) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:305) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1116) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 30 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_131]\r\n\tat java.lang.Class.privateGetDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\r\n\tat java.lang.Class.getDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.15.jar:5.3.15]\r\n\t... 37 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\r\n\tat java.net.URLClassLoader.findClass(Unknown Source) ~[na:1.8.0_131]\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\r\n\t... 41 common frames omitted\r\n\r\n2022-02-18 17:52:19.734 ERROR 7840 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:270) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:762) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:567) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat java.util.ArrayList.forEach(Unknown Source) ~[na:1.8.0_131]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:338) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:296) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) [spring-boot-2.6.3.jar:2.6.3]\r\n\tat registry.RegistryApp.main(RegistryApp.java:12) [main/:na]\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.15.jar:5.3.15]\r\n\tat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:232) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:210) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:149) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:305) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1116) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 30 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_131]\r\n\tat java.lang.Class.privateGetDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\r\n\tat java.lang.Class.getDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.15.jar:5.3.15]\r\n\t... 37 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\r\n\tat java.net.URLClassLoader.findClass(Unknown Source) ~[na:1.8.0_131]\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\r\n\t... 41 common frames omitted\r\n```","title":"Cant start Spring Boot module","body":"<p>I get <strong>Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]</strong></p>\n<p>I know 2 main advices are to add <strong>implementation &quot;org.springframework.cloud:spring-cloud-starter-bootstrap&quot;</strong> in build and check Boot and Cloud versions for compatibility which looks like I've done both:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.6.3'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n}\n\ngroup 'demo.example'\nversion '1.0-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', &quot;2021.0.1&quot;)\n}\n\njar {\n    manifest {\n        attributes(\n                'Main-Class': 'registry.RegistryApp'\n        )\n    }\n}\n\ndependencies {\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-bootstrap&quot;\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-netflix-eureka-server&quot;\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-config&quot;\n    testImplementation &quot;junit:junit:4.12&quot;\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n</code></pre>\n<p>unfortunately without success and even more strange that second submodule in same project works fine with the following build that seems to be pretty similar to the first one:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.6.3'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n}\n\ngroup 'demo.example'\nversion '1.0-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n}\n\njar {\n    manifest {\n        attributes(\n                'Main-Class': 'config.ConfigApp'\n        )\n    }\n}\n\next {\n    set('springCloudVersion', &quot;2021.0.1&quot;)\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ndependencies {\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-bootstrap&quot;\n    implementation &quot;org.springframework.cloud:spring-cloud-config-server&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-security:2.6.3&quot;\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n</code></pre>\n<p>did I miss something obvious? Thanks in advance.</p>\n<p>Stacktrace:</p>\n<pre><code>2022-02-18 17:52:18.810  WARN 7840 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\n2022-02-18 17:52:19.610  INFO 7840 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-02-18 17:52:19.722 ERROR 7840 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:270) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:762) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:567) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212) [spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117) [spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74) [spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) [spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) [spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) [spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) [spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66) [spring-boot-2.6.3.jar:2.6.3]\n    at java.util.ArrayList.forEach(Unknown Source) ~[na:1.8.0_131]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:338) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:296) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]\n    at registry.RegistryApp.main(RegistryApp.java:12) ~[main/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.15.jar:5.3.15]\n    at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:232) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:210) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:149) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:305) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1116) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 30 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\n    at java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_131]\n    at java.lang.Class.privateGetDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.Class.getDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.15.jar:5.3.15]\n    ... 37 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\n    at java.net.URLClassLoader.findClass(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\n    ... 41 common frames omitted\n\n2022-02-18 17:52:19.734 ERROR 7840 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:270) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:762) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:567) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66) ~[spring-boot-2.6.3.jar:2.6.3]\n    at java.util.ArrayList.forEach(Unknown Source) ~[na:1.8.0_131]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:338) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:296) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) [spring-boot-2.6.3.jar:2.6.3]\n    at registry.RegistryApp.main(RegistryApp.java:12) [main/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [sun.misc.Launcher$AppClassLoader@1d16e93]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.15.jar:5.3.15]\n    at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:232) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:210) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:149) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:305) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1116) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 30 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\n    at java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_131]\n    at java.lang.Class.privateGetDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.Class.getDeclaredMethods(Unknown Source) ~[na:1.8.0_131]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.15.jar:5.3.15]\n    ... 37 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\n    at java.net.URLClassLoader.findClass(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.ClassLoader.loadClass(Unknown Source) ~[na:1.8.0_131]\n    ... 41 common frames omitted\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":2,"creation_date":1645114533,"post_id":71161215,"comment_id":125790242,"body_markdown":"This is not really the kind of question SO is good at answering, but in an effort to point you in the right direction, I would point out that a `String` is immutable—you can&#39;t change the characters it contains, you can only make a complete new `String` instance. So, if your program is all about modifying text, it&#39;s easier and more efficient to use mutable character strings like `StringBuilder` and `char[]`.","body":"This is not really the kind of question SO is good at answering, but in an effort to point you in the right direction, I would point out that a <code>String</code> is immutable—you can&#39;t change the characters it contains, you can only make a complete new <code>String</code> instance. So, if your program is all about modifying text, it&#39;s easier and more efficient to use mutable character strings like <code>StringBuilder</code> and <code>char[]</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1645119979,"post_id":71161215,"comment_id":125792653,"body_markdown":"By the way, the `char` type is legacy. As a 16-bit value, `char` is physically incapable of representing most characters. Use Unicode [code point](https://en.wikipedia.org/wiki/Code_point) integer numbers instead for working with individual characters.","body":"By the way, the <code>char</code> type is legacy. As a 16-bit value, <code>char</code> is physically incapable of representing most characters. Use Unicode <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers instead for working with individual characters."}],"answers":[{"tags":[],"owner":{"account_id":20162704,"reputation":175,"user_id":14787412,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645194608,"creation_date":1645114095,"answer_id":71161565,"question_id":71161215,"body_markdown":"The solution that you found above was a highly over engineered solution to a very simple problem. \r\n\r\n1. Sometimes its better to use char arrays when performing operations on strings because it might increase performance. Strings in java are immutable and every time you mutate a String a new String object is created. So char array can be used to increase the performance of the code.\r\n\r\n 2. Your code is working fine with sentences when I checked it. I don&#39;t really know what issue you are facing. \r\n\r\nEdit : You should avoid using scanner.next(); method when taking an input string. Because it only read the string up until a space. Therefore your program is not reading the entire string that you entered.\r\nYou should instead use scanner.nextLine(); for reading a String value.\r\n\r\nFor more info on Scanner class : http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\n\r\n\r\n\r\nThis is a pretty good way of Reversing a String. This probably the most efficient way of reversing a String.\r\n```\r\npublic String reverseString(String input) {\r\n        char[] arr = input.toCharArray();\r\n        int i = 0, j = arr.length - 1;\r\n        while(i &lt; j) {\r\n            char temp = arr[i];\r\n            arr[i] = arr[j];\r\n            arr[j] = temp;\r\n            i++; j--;\r\n        }\r\n        return new String(arr);\r\n    }\r\n```\r\n\r\n ","title":"In this sentence reversal program, why has char been used and not String?","body":"<p>The solution that you found above was a highly over engineered solution to a very simple problem.</p>\n<ol>\n<li><p>Sometimes its better to use char arrays when performing operations on strings because it might increase performance. Strings in java are immutable and every time you mutate a String a new String object is created. So char array can be used to increase the performance of the code.</p>\n</li>\n<li><p>Your code is working fine with sentences when I checked it. I don't really know what issue you are facing.</p>\n</li>\n</ol>\n<p>Edit : You should avoid using scanner.next(); method when taking an input string. Because it only read the string up until a space. Therefore your program is not reading the entire string that you entered.\nYou should instead use scanner.nextLine(); for reading a String value.</p>\n<p>For more info on Scanner class : <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html</a></p>\n<p>This is a pretty good way of Reversing a String. This probably the most efficient way of reversing a String.</p>\n<pre><code>public String reverseString(String input) {\n        char[] arr = input.toCharArray();\n        int i = 0, j = arr.length - 1;\n        while(i &lt; j) {\n            char temp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = temp;\n            i++; j--;\n        }\n        return new String(arr);\n    }\n</code></pre>\n"}],"owner":{"account_id":24250964,"reputation":3,"user_id":18201960,"display_name":"speca2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1645194763,"accepted_answer_id":71161565,"answer_count":1,"score":-1,"last_activity_date":1645194608,"creation_date":1645112825,"question_id":71161215,"body_markdown":"I was doing a few beginner coding challenges and one of the challenge was making a program that reverses a given String. It worked on words, but as soon as I put in words with spaces between them the program only reversed the first word entered.\r\n\r\nI googled &quot;reverse words with spaces in it java&quot; and found this:\r\n\r\n```\r\n// Java program to reverse a string\r\n// preserving spaces.\r\npublic class ReverseStringPreserveSpace {\r\n    // Function to reverse the string\r\n    // and preserve the space position\r\n    static void reverses(String str)\r\n    {\r\n \r\n        char[] inputArray = str.toCharArray();\r\n        char[] result = new char[inputArray.length];\r\n \r\n        // Mark spaces in result\r\n        for (int i = 0; i &lt; inputArray.length; i++) {\r\n            if (inputArray[i] == &#39; &#39;) {\r\n                result[i] = &#39; &#39;;\r\n            }\r\n        }\r\n \r\n        // Traverse input string from beginning\r\n        // and put characters in result from end\r\n        int j = result.length - 1;\r\n        for (int i = 0; i &lt; inputArray.length; i++) {\r\n \r\n            // Ignore spaces in input string\r\n            if (inputArray[i] != &#39; &#39;) {\r\n \r\n                // ignore spaces in result.\r\n                if (result[j] == &#39; &#39;) {\r\n                    j--;\r\n                }\r\n                result[j] = inputArray[i];\r\n                j--;\r\n            }\r\n        }\r\n        System.out.println(String.valueOf(result));\r\n    }\r\n \r\n    // driver function\r\n    public static void main(String[] args)\r\n    {\r\n        reverses(&quot;internship at geeks for geeks&quot;);\r\n    }\r\n}\r\n```\r\n\r\n 1. Why were char arrays used instead of String directly?\r\n\r\n 2. Can I modify my own code to make it reverse a sentence without following the above code?\r\n     My code:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass ReverseString\r\n{\r\n    public static void main(String[] args) {\r\n        Scanner s = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the word to be reversed:&quot;);\r\n        String input = s.next();\r\n\r\n        String reversed = &quot;&quot;;\r\n        for (int i = 0; i &lt; input.length(); i++)\r\n        {\r\n            char ch = input.charAt(i);\r\n            reversed = ch + reversed;\r\n        }\r\n        System.out.println(reversed);\r\n    }\r\n}\r\n\r\n```","title":"In this sentence reversal program, why has char been used and not String?","body":"<p>I was doing a few beginner coding challenges and one of the challenge was making a program that reverses a given String. It worked on words, but as soon as I put in words with spaces between them the program only reversed the first word entered.</p>\n<p>I googled &quot;reverse words with spaces in it java&quot; and found this:</p>\n<pre><code>// Java program to reverse a string\n// preserving spaces.\npublic class ReverseStringPreserveSpace {\n    // Function to reverse the string\n    // and preserve the space position\n    static void reverses(String str)\n    {\n \n        char[] inputArray = str.toCharArray();\n        char[] result = new char[inputArray.length];\n \n        // Mark spaces in result\n        for (int i = 0; i &lt; inputArray.length; i++) {\n            if (inputArray[i] == ' ') {\n                result[i] = ' ';\n            }\n        }\n \n        // Traverse input string from beginning\n        // and put characters in result from end\n        int j = result.length - 1;\n        for (int i = 0; i &lt; inputArray.length; i++) {\n \n            // Ignore spaces in input string\n            if (inputArray[i] != ' ') {\n \n                // ignore spaces in result.\n                if (result[j] == ' ') {\n                    j--;\n                }\n                result[j] = inputArray[i];\n                j--;\n            }\n        }\n        System.out.println(String.valueOf(result));\n    }\n \n    // driver function\n    public static void main(String[] args)\n    {\n        reverses(&quot;internship at geeks for geeks&quot;);\n    }\n}\n</code></pre>\n<ol>\n<li><p>Why were char arrays used instead of String directly?</p>\n</li>\n<li><p>Can I modify my own code to make it reverse a sentence without following the above code?\nMy code:</p>\n</li>\n</ol>\n<pre><code>import java.util.Scanner;\n\nclass ReverseString\n{\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        System.out.println(&quot;Enter the word to be reversed:&quot;);\n        String input = s.next();\n\n        String reversed = &quot;&quot;;\n        for (int i = 0; i &lt; input.length(); i++)\n        {\n            char ch = input.charAt(i);\n            reversed = ch + reversed;\n        }\n        System.out.println(reversed);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","spring-cache"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1645195455,"post_id":71175074,"comment_id":125813646,"body_markdown":"In general, Spring advice doesn&#39;t apply to _self-calls_ because they don&#39;t travel through the Spring proxy. This is more commonly seen with `@Transactional` but also applies to `@Cacheable`.","body":"In general, Spring advice doesn&#39;t apply to <i>self-calls</i> because they don&#39;t travel through the Spring proxy. This is more commonly seen with <code>@Transactional</code> but also applies to <code>@Cacheable</code>."},{"owner":{"account_id":6790167,"reputation":467,"user_id":5227595,"display_name":"Konrad L&#246;tzsch"},"score":0,"creation_date":1645216891,"post_id":71175074,"comment_id":125821379,"body_markdown":"thx, I did totally look at the wrong direction here. see https://stackoverflow.com/questions/16899604/","body":"thx, I did totally look at the wrong direction here. see <a href=\"https://stackoverflow.com/questions/16899604/\">stackoverflow.com/questions/16899604</a>"}],"owner":{"account_id":6790167,"reputation":467,"user_id":5227595,"display_name":"Konrad L&#246;tzsch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645219512,"answer_count":0,"score":0,"last_activity_date":1645194392,"creation_date":1645194392,"question_id":71175074,"body_markdown":"I am trying to use the spring-cache abstraction. In my case I want to cache a method call that produces a Mono&lt;String&gt;.\r\n\r\nMy pom contains two dependencies:\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\nWith this dependencies (Spring boot parent 2.6.3) I have two very simple Services:\r\n````\r\n@Component\r\npublic class TestService1 {\r\n\r\n    @Cacheable(&quot;testRequests1&quot;)\r\n    public Mono&lt;String&gt; testMethodWrapper(String input) {\r\n        return testMethod(input).cache();\r\n    }\r\n\r\n    public Mono&lt;String&gt; testMethod(String input) {\r\n        System.out.println(&quot;uncached call on service1&quot;);\r\n        return Mono.just(&quot;test1 &quot; + input);\r\n    }\r\n}\r\n````\r\nand \r\n````\r\n@Component\r\npublic class TestService2 {\r\n\r\n\r\n    public Mono&lt;String&gt; testMethodWrapper(String input) {\r\n        return testMethod(input);\r\n    }\r\n\r\n    @Cacheable(&quot;testRequests2&quot;)\r\n    public Mono&lt;String&gt; testMethod(String input) {\r\n        System.out.println(&quot;uncached call on service2&quot;);\r\n        return Mono.just(&quot;test2 &quot; + input).cache();\r\n    }\r\n}\r\n````\r\n\r\nThe difference is, that the in `TestService1` the wrapper method is cached and in `TestService2` the inner method.\r\nWhen I run my Spring Application:\r\n```` \r\n@SpringBootApplication\r\n@EnableCaching\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tConfigurableApplicationContext ctx = SpringApplication.run(DemoApplication.class, args);\r\n\t\tTestService1 testService1 = ctx.getBean(TestService1.class);\r\n\t\tTestService2 testService2 = ctx.getBean(TestService2.class);\r\n\t\ttestService1.testMethodWrapper(&quot;test&quot;).block();\r\n\t\ttestService1.testMethodWrapper(&quot;test&quot;).block();\r\n\t\ttestService2.testMethodWrapper(&quot;test&quot;).block();\r\n\t\ttestService2.testMethodWrapper(&quot;test&quot;).block();\r\n\t}\r\n}\r\n```` \r\nI get\r\n````\r\n2022-02-18 13:40:47.330  INFO 20240 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 1.8 seconds (JVM running for 2.793)\r\nuncached call on service1\r\nuncached call on service2\r\nuncached call on service2\r\n````\r\n\r\nWhy are calls to the method `testMethod` in the `TestService2` not cached? What part from the `Mono.cache()` [documentation][1]:\r\n&gt;Turn this Mono into a hot source and cache last emitted signals for further Subscriber.\r\n\r\ndid I not understand and how can I cache calls to `testMethod` in `TestService2` that represents the scenario I need to implement?\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html","title":"Why is caching not working on wrapped reactive Methods","body":"<p>I am trying to use the spring-cache abstraction. In my case I want to cache a method call that produces a Mono.</p>\n<p>My pom contains two dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>With this dependencies (Spring boot parent 2.6.3) I have two very simple Services:</p>\n<pre><code>@Component\npublic class TestService1 {\n\n    @Cacheable(&quot;testRequests1&quot;)\n    public Mono&lt;String&gt; testMethodWrapper(String input) {\n        return testMethod(input).cache();\n    }\n\n    public Mono&lt;String&gt; testMethod(String input) {\n        System.out.println(&quot;uncached call on service1&quot;);\n        return Mono.just(&quot;test1 &quot; + input);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Component\npublic class TestService2 {\n\n\n    public Mono&lt;String&gt; testMethodWrapper(String input) {\n        return testMethod(input);\n    }\n\n    @Cacheable(&quot;testRequests2&quot;)\n    public Mono&lt;String&gt; testMethod(String input) {\n        System.out.println(&quot;uncached call on service2&quot;);\n        return Mono.just(&quot;test2 &quot; + input).cache();\n    }\n}\n</code></pre>\n<p>The difference is, that the in <code>TestService1</code> the wrapper method is cached and in <code>TestService2</code> the inner method.\nWhen I run my Spring Application:</p>\n<pre><code>@SpringBootApplication\n@EnableCaching\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext ctx = SpringApplication.run(DemoApplication.class, args);\n        TestService1 testService1 = ctx.getBean(TestService1.class);\n        TestService2 testService2 = ctx.getBean(TestService2.class);\n        testService1.testMethodWrapper(&quot;test&quot;).block();\n        testService1.testMethodWrapper(&quot;test&quot;).block();\n        testService2.testMethodWrapper(&quot;test&quot;).block();\n        testService2.testMethodWrapper(&quot;test&quot;).block();\n    }\n}\n</code></pre>\n<p>I get</p>\n<pre><code>2022-02-18 13:40:47.330  INFO 20240 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 1.8 seconds (JVM running for 2.793)\nuncached call on service1\nuncached call on service2\nuncached call on service2\n</code></pre>\n<p>Why are calls to the method <code>testMethod</code> in the <code>TestService2</code> not cached? What part from the <code>Mono.cache()</code> <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Turn this Mono into a hot source and cache last emitted signals for further Subscriber.</p>\n</blockquote>\n<p>did I not understand and how can I cache calls to <code>testMethod</code> in <code>TestService2</code> that represents the scenario I need to implement?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8413,"page":1579,"page_size":100}
