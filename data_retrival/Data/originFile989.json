{"items":[{"tags":["java","algorithm","graph-algorithm","a-star"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1559652952,"post_id":56444216,"comment_id":99482198,"body_markdown":"*I am not getting the performance as expected,* -&gt; Please tell us why the performance doesn&#39;t match up with your expectations. Be as clear as possible, e.g. *When I use [an input] I get [some output] and it takes about [X] seconds*","body":"<i>I am not getting the performance as expected,</i> -&gt; Please tell us why the performance doesn&#39;t match up with your expectations. Be as clear as possible, e.g. <i>When I use [an input] I get [some output] and it takes about [X] seconds</i>"},{"owner":{"account_id":3672956,"reputation":3,"user_id":3059665,"display_name":"garvit"},"score":0,"creation_date":1559653286,"post_id":56444216,"comment_id":99482404,"body_markdown":"When I am using A*star implementation -\nRoute length - 68 miles\nNodes explored - 202957\nTime to calculate route - 1.6 seconds\n\nWhen using bi-directional dijkstra \nRoute length - 67.2 miles\nNodes Explored - 647784\nTime to calculate route - 0.9 seconds\n\nAs you can clearly see here though the number of nodes decreased significantly while using a* still the time in which route is calculated is larger than dijkstra.","body":"When I am using A<i>star implementation - Route length - 68 miles Nodes explored - 202957 Time to calculate route - 1.6 seconds  When using bi-directional dijkstra  Route length - 67.2 miles Nodes Explored - 647784 Time to calculate route - 0.9 seconds  As you can clearly see here though the number of nodes decreased significantly while using a</i> still the time in which route is calculated is larger than dijkstra."},{"owner":{"account_id":14612183,"reputation":4799,"user_id":10553341,"display_name":"Damien"},"score":0,"creation_date":1559658956,"post_id":56444216,"comment_id":99485634,"body_markdown":"You have to evaluate which operationsare performed for each node. Don&#39;t forget that memory allocations, memory copies are sometimes predominant in the time spent for this kind of algorithms. You can try using a tool like gprof. Note that I didn&#39;t have time to analyse your code","body":"You have to evaluate which operationsare performed for each node. Don&#39;t forget that memory allocations, memory copies are sometimes predominant in the time spent for this kind of algorithms. You can try using a tool like gprof. Note that I didn&#39;t have time to analyse your code"}],"answers":[{"tags":[],"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664885231,"creation_date":1559655646,"answer_id":56445153,"question_id":56444216,"body_markdown":"You should check how many nodes are explored before you find the solution. \r\n\r\nYou can than try to improve your overestimation-function (heuristic) for the cost of the remaining path to reduce the number of explored nodes. \r\n\r\nIn general the performance of a A*-Algorithm mainly depends on the heuristic you use not really on the optimization of the code. So try to put as much domain knowledge into your heuristic as possible to reduce the number of explored nodes.","title":"How can i improve performance of the A-Star algorithm?","body":"<p>You should check how many nodes are explored before you find the solution.</p>\n<p>You can than try to improve your overestimation-function (heuristic) for the cost of the remaining path to reduce the number of explored nodes.</p>\n<p>In general the performance of a A*-Algorithm mainly depends on the heuristic you use not really on the optimization of the code. So try to put as much domain knowledge into your heuristic as possible to reduce the number of explored nodes.</p>\n"}],"owner":{"account_id":3672956,"reputation":3,"user_id":3059665,"display_name":"garvit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1922,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1559656157,"accepted_answer_id":56445153,"answer_count":1,"score":-1,"last_activity_date":1664885231,"creation_date":1559652435,"question_id":56444216,"body_markdown":"I have implemented the A-Star algorithm and I am not getting the performance as expected, How can I improve the performance of the algorithm.\r\n\r\nBelow is the main function which is called in a while loop till the destination node is reached, This is a single direction AStar implementation. \r\n\r\n    public void step(boolean useQueueOnly) {\r\n\t\t\tcount ++;\r\n            m_fixedNodeId = m_nextNodeId;\r\n            m_fixedCost = m_nextCost;\r\n            int fromNodeId = m_current.getPrevNodeId();\r\n            \r\n            int arcId = m_network.getFirstArc(m_fixedNodeId);\r\n            while (arcId != Integer.MIN_VALUE) {\r\n                int nextNodeId = m_network.getBegNodeId(arcId);\r\n                if (nextNodeId == m_fixedNodeId) {\r\n                    nextNodeId = m_network.getEndNodeId(arcId);\r\n                }\r\n                int arcCost;\r\n                if (m_forwardDirection) {\r\n                    arcCost = m_network.getCost(arcId, m_fixedNodeId, fromNodeId);\r\n                } else {\r\n                    arcCost = m_network.getCost(arcId, nextNodeId, fromNodeId);\r\n                }\r\n                \r\n                arcCost = Math.max(MIN_COST_ALLOWED, arcCost);\r\n\r\n                if (arcCost != Integer.MAX_VALUE) {\r\n                    int newNodeCost = (int) Math.min((long) m_fixedCost + arcCost,\r\n                            Integer.MAX_VALUE);\r\n\r\n                    int nodePrevCost  = fromMap.get(nextNodeId) != null ? fromMap.get(nextNodeId).getCost() : Integer.MAX_VALUE;\r\n                    \r\n                    double approxCost = newNodeCost + m_approximator.approximate(nextNodeId);\r\n                    \r\n                    AStarEntry ase = new AStarEntry(nextNodeId, approxCost, arcId, m_current, m_fixedNodeId, newNodeCost);\r\n                    \r\n                    if ((nodePrevCost == Integer.MAX_VALUE) &amp;&amp;\r\n                    \t\t(newNodeCost != Integer.MAX_VALUE)) {\r\n                    \t//haven&#39;t yet reached this node.\r\n                    \tif(fromMap.get(nextNodeId) == null){\r\n                    \t\tfromMap.put(nextNodeId, ase);\r\n                    \t\tm_priorityNodeQueue.add(ase);\r\n                    \t}\r\n\r\n                    } else if (newNodeCost &lt; nodePrevCost) {\r\n                    \t//already reached this node.\r\n                    \tm_priorityNodeQueue.remove(ase);\r\n\r\n                    }\r\n\t\t\t\t}\r\n\t\t\t\tarcId = m_network.getNextArc(m_fixedNodeId, arcId);\r\n            }\r\n            \r\n            m_current = m_priorityNodeQueue.poll();\r\n            m_nextNodeId = m_current.getNodeId();\r\n            m_nextCost = m_current.getCost();\r\n        \r\n    }\r\n\r\nThis is the class I am using in the priority queue.\r\n\r\n    class AStarEntry implements Cloneable, Comparable&lt;AStarEntry&gt;{\r\n\r\n    \tpublic double m_weight;\r\n    \tpublic int m_nodeId;\r\n    \tpublic int m_arcId;\r\n    \tpublic int m_prevNodeId;\r\n    \tpublic int m_cost;\r\n\r\n\t\tpublic AStarEntry m_parent;\r\n    \t\r\n    \tpublic AStarEntry(int nodeId, double weight, int arcId, AStarEntry parent, int prevNodeId, int cost) {\r\n\t\t\tm_nodeId = nodeId;\r\n\t\t\tm_weight = weight;\r\n\t\t\tm_arcId = arcId;\r\n\t\t\tm_parent = parent;\r\n\t\t\tm_prevNodeId = prevNodeId;\r\n\t\t\tm_cost = cost;\r\n\t\t}\r\n    \t\r\n\t\t@Override\r\n\t\tpublic int compareTo(AStarEntry o) {\r\n\r\n\t        // assumption no NaN and no -0        \r\n\t        return m_weight &gt; o.m_weight ? +1 : m_weight &lt; o.m_weight ? -1 : 0;\r\n\t\t}\r\n\r\n\t\tpublic double getWeight() {\r\n\t\t\treturn m_weight;\r\n\t\t}\r\n\r\n\t\tpublic int getNodeId() {\r\n\t\t\treturn m_nodeId;\r\n\t\t}\r\n    \t\r\n\t\tpublic int getArcId() {\r\n\t\t\treturn m_arcId;\r\n\t\t}\r\n\r\n\t\tpublic AStarEntry getParent() {\r\n\t\t\treturn m_parent;\r\n\t\t}\r\n\r\n\t\tpublic int getPrevNodeId() {\r\n\t\t\treturn m_prevNodeId;\r\n\t\t}\r\n\r\n\t\tpublic int getCost() {\r\n\t\t\treturn m_cost;\r\n\t\t}\r\n    \t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\t\r\n\t\t\treturn m_nodeId + &quot; (&quot; + m_arcId + &quot;) weight: &quot; + m_weight;\r\n\t\t}\r\n    }\r\n\r\nI am not able to figure out the reason for bad performance, please help me identify one.","title":"How can i improve performance of the A-Star algorithm?","body":"<p>I have implemented the A-Star algorithm and I am not getting the performance as expected, How can I improve the performance of the algorithm.</p>\n\n<p>Below is the main function which is called in a while loop till the destination node is reached, This is a single direction AStar implementation. </p>\n\n<pre><code>public void step(boolean useQueueOnly) {\n        count ++;\n        m_fixedNodeId = m_nextNodeId;\n        m_fixedCost = m_nextCost;\n        int fromNodeId = m_current.getPrevNodeId();\n\n        int arcId = m_network.getFirstArc(m_fixedNodeId);\n        while (arcId != Integer.MIN_VALUE) {\n            int nextNodeId = m_network.getBegNodeId(arcId);\n            if (nextNodeId == m_fixedNodeId) {\n                nextNodeId = m_network.getEndNodeId(arcId);\n            }\n            int arcCost;\n            if (m_forwardDirection) {\n                arcCost = m_network.getCost(arcId, m_fixedNodeId, fromNodeId);\n            } else {\n                arcCost = m_network.getCost(arcId, nextNodeId, fromNodeId);\n            }\n\n            arcCost = Math.max(MIN_COST_ALLOWED, arcCost);\n\n            if (arcCost != Integer.MAX_VALUE) {\n                int newNodeCost = (int) Math.min((long) m_fixedCost + arcCost,\n                        Integer.MAX_VALUE);\n\n                int nodePrevCost  = fromMap.get(nextNodeId) != null ? fromMap.get(nextNodeId).getCost() : Integer.MAX_VALUE;\n\n                double approxCost = newNodeCost + m_approximator.approximate(nextNodeId);\n\n                AStarEntry ase = new AStarEntry(nextNodeId, approxCost, arcId, m_current, m_fixedNodeId, newNodeCost);\n\n                if ((nodePrevCost == Integer.MAX_VALUE) &amp;&amp;\n                        (newNodeCost != Integer.MAX_VALUE)) {\n                    //haven't yet reached this node.\n                    if(fromMap.get(nextNodeId) == null){\n                        fromMap.put(nextNodeId, ase);\n                        m_priorityNodeQueue.add(ase);\n                    }\n\n                } else if (newNodeCost &lt; nodePrevCost) {\n                    //already reached this node.\n                    m_priorityNodeQueue.remove(ase);\n\n                }\n            }\n            arcId = m_network.getNextArc(m_fixedNodeId, arcId);\n        }\n\n        m_current = m_priorityNodeQueue.poll();\n        m_nextNodeId = m_current.getNodeId();\n        m_nextCost = m_current.getCost();\n\n}\n</code></pre>\n\n<p>This is the class I am using in the priority queue.</p>\n\n<pre><code>class AStarEntry implements Cloneable, Comparable&lt;AStarEntry&gt;{\n\n    public double m_weight;\n    public int m_nodeId;\n    public int m_arcId;\n    public int m_prevNodeId;\n    public int m_cost;\n\n    public AStarEntry m_parent;\n\n    public AStarEntry(int nodeId, double weight, int arcId, AStarEntry parent, int prevNodeId, int cost) {\n        m_nodeId = nodeId;\n        m_weight = weight;\n        m_arcId = arcId;\n        m_parent = parent;\n        m_prevNodeId = prevNodeId;\n        m_cost = cost;\n    }\n\n    @Override\n    public int compareTo(AStarEntry o) {\n\n        // assumption no NaN and no -0        \n        return m_weight &gt; o.m_weight ? +1 : m_weight &lt; o.m_weight ? -1 : 0;\n    }\n\n    public double getWeight() {\n        return m_weight;\n    }\n\n    public int getNodeId() {\n        return m_nodeId;\n    }\n\n    public int getArcId() {\n        return m_arcId;\n    }\n\n    public AStarEntry getParent() {\n        return m_parent;\n    }\n\n    public int getPrevNodeId() {\n        return m_prevNodeId;\n    }\n\n    public int getCost() {\n        return m_cost;\n    }\n\n    @Override\n    public String toString() {\n\n        return m_nodeId + \" (\" + m_arcId + \") weight: \" + m_weight;\n    }\n}\n</code></pre>\n\n<p>I am not able to figure out the reason for bad performance, please help me identify one.</p>\n"},{"tags":["java","php","architecture","memcached"],"comments":[{"owner":{"account_id":81202,"reputation":12119,"user_id":229106,"accept_rate":76,"display_name":"ankitjaininfo"},"score":0,"creation_date":1280298750,"post_id":3350231,"comment_id":91164107,"body_markdown":"[PHP/Java Bridge](http://php-java-bridge.sourceforge.net/pjb/)","body":"<a href=\"http://php-java-bridge.sourceforge.net/pjb/\" rel=\"nofollow noreferrer\">PHP/Java Bridge</a>"},{"owner":{"account_id":624970,"reputation":821,"user_id":364074,"accept_rate":58,"display_name":"Sambo"},"score":0,"creation_date":1280304721,"post_id":3350231,"comment_id":91164108,"body_markdown":"This looks like a headache.","body":"This looks like a headache."}],"answers":[{"tags":[],"owner":{"account_id":161338,"reputation":9628,"user_id":382011,"accept_rate":97,"display_name":"Łukasz W."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1280297495,"creation_date":1280297495,"answer_id":3350328,"question_id":3350231,"body_markdown":"My suggestion is to use WebServices... Write and run webservice in Java, and then request it in php by using f.e. NuSOAP. This solution have one more advantage - your webservice can be used easily in other applications like f.e. .NET ones...\r\n\r\nAnother option which might be easier if you have small number of methods is to build Servlet in Java which will take the parameters as GET request.\r\n\r\nBoth those solutions are strictly web-based, and both of them are working on separate threads so they guarantee you good performance.","title":"How can I communicate between PHP and a Java program?","body":"<p>My suggestion is to use WebServices... Write and run webservice in Java, and then request it in php by using f.e. NuSOAP. This solution have one more advantage - your webservice can be used easily in other applications like f.e. .NET ones...</p>\n\n<p>Another option which might be easier if you have small number of methods is to build Servlet in Java which will take the parameters as GET request.</p>\n\n<p>Both those solutions are strictly web-based, and both of them are working on separate threads so they guarantee you good performance.</p>\n"},{"tags":[],"owner":{"account_id":624970,"reputation":821,"user_id":364074,"accept_rate":58,"display_name":"Sambo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1280304688,"creation_date":1280304688,"answer_id":3351001,"question_id":3350231,"body_markdown":"I&#39;m using socket server on the Java end, and PHP sockets on the PHP end.  Works great.\r\n\r\nThere&#39;s no need to overcomplicate things with PHP/Java bridge, and no need for overhead of creating a web server.\r\n\r\nSockets work great, and I&#39;m actually a bit ashamed I even asked the question to begin work.","title":"How can I communicate between PHP and a Java program?","body":"<p>I'm using socket server on the Java end, and PHP sockets on the PHP end.  Works great.</p>\n\n<p>There's no need to overcomplicate things with PHP/Java bridge, and no need for overhead of creating a web server.</p>\n\n<p>Sockets work great, and I'm actually a bit ashamed I even asked the question to begin work.</p>\n"}],"owner":{"account_id":624970,"reputation":821,"user_id":364074,"accept_rate":58,"display_name":"Sambo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10870,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1664885063,"creation_date":1280296301,"question_id":3350231,"body_markdown":"I&#39;m working on a web application that frequently requires a calculation intense query to be run, the results of which are stored in a separate table.  Using MySQL, this query takes about **500ms** (as optimized as possible, believe me).  To eliminate this bottleneck, I&#39;ve created a Java program that loads the relevant DB data into memory and performs the query itself; it takes about **8ms** (something I&#39;m a little bit proud of).  I&#39;d like to use this Java program to get the results, and if it fails or is unavailable, failover to having PHP run a MySQL query.\r\n\r\nSince loading the data into the Java application takes some time, it&#39;s going to load it once and remain running as a background process.  **Now, the question is how do I communicate with this Java application via PHP?**\r\n\r\nKeep in mind:\r\n\r\n* Multiple instances of PHP may need to communicate with this Java process simultaneously.\r\n* If the Java instance cannot be found (eg: it crashes for some reason) PHP should progress by using the older and slower MySQL method.\r\n* An intermediary process, such as Memcache, is acceptable.\r\n* Ideally, the solution would withstand race conditions.\r\n* I would preferably not like to use MySQL as the intermediary.\r\n\r\nI was going to use Memcache, where PHP would write to a known key and poll until that key changed to &quot;completed&quot;, meanwhile Java would poll that key and once it found something perform the job and set it to &quot;completed&quot;.  However, this wouldn&#39;t work for two reasons.  First, both PHP and Java read/write to Memcache using serialized objects, and there&#39;s no way to change that, and I don&#39;t want Java to unserialize PHP objects and vice/versa -- it&#39;s too messy.  Second, this is not ACID compliant -- if a queue built up there would be race conditions.\r\n\r\nFor now, I&#39;m stuck with polling MySQL &quot;selects&quot; to see if a job is off the queue or not, which is far from an optimal solution because the poll time will need to be slower so MySQL doesn&#39;t get pinged too frequently.  I need a better solution!\r\n\r\nThanks.\r\n\r\n**Edit:  Duh.  It looks like I will be using some sort of SocketServer in Java, which I&#39;m unfamiliar with.  An example might help :)**","title":"How can I communicate between PHP and a Java program?","body":"<p>I'm working on a web application that frequently requires a calculation intense query to be run, the results of which are stored in a separate table.  Using MySQL, this query takes about <strong>500ms</strong> (as optimized as possible, believe me).  To eliminate this bottleneck, I've created a Java program that loads the relevant DB data into memory and performs the query itself; it takes about <strong>8ms</strong> (something I'm a little bit proud of).  I'd like to use this Java program to get the results, and if it fails or is unavailable, failover to having PHP run a MySQL query.</p>\n\n<p>Since loading the data into the Java application takes some time, it's going to load it once and remain running as a background process.  <strong>Now, the question is how do I communicate with this Java application via PHP?</strong></p>\n\n<p>Keep in mind:</p>\n\n<ul>\n<li>Multiple instances of PHP may need to communicate with this Java process simultaneously.</li>\n<li>If the Java instance cannot be found (eg: it crashes for some reason) PHP should progress by using the older and slower MySQL method.</li>\n<li>An intermediary process, such as Memcache, is acceptable.</li>\n<li>Ideally, the solution would withstand race conditions.</li>\n<li>I would preferably not like to use MySQL as the intermediary.</li>\n</ul>\n\n<p>I was going to use Memcache, where PHP would write to a known key and poll until that key changed to \"completed\", meanwhile Java would poll that key and once it found something perform the job and set it to \"completed\".  However, this wouldn't work for two reasons.  First, both PHP and Java read/write to Memcache using serialized objects, and there's no way to change that, and I don't want Java to unserialize PHP objects and vice/versa -- it's too messy.  Second, this is not ACID compliant -- if a queue built up there would be race conditions.</p>\n\n<p>For now, I'm stuck with polling MySQL \"selects\" to see if a job is off the queue or not, which is far from an optimal solution because the poll time will need to be slower so MySQL doesn't get pinged too frequently.  I need a better solution!</p>\n\n<p>Thanks.</p>\n\n<p><strong>Edit:  Duh.  It looks like I will be using some sort of SocketServer in Java, which I'm unfamiliar with.  An example might help :)</strong></p>\n"},{"tags":["java","spring-boot","printing","awt","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664884471,"creation_date":1664884471,"answer_id":73947491,"question_id":73946195,"body_markdown":"Very likely, after your code has run as expected the correct result has been delivered. On the contrary your code would not execute correctly but abort when - for whatever reason - an exception is thrown. So to report this status you could use a try-catch block:\r\n\r\n    try {\r\n        // place here your logic from your question\r\n\r\n        // check if the job was cancelled by user\r\n        if (job.isCancelled()) {\r\n            log.info(&quot;job cancelled by user&quot;);\r\n            return printJobCancelled;\r\n        }\r\n\r\n        return printDataTransferCompleted; // mark success\r\n    } catch (Exception e} {        // bad pattern to catch Exception. Get more concise if you can\r\n        log.error(&quot;Could not print&quot;, e); // at least log what happened. If necessary, throw some exception\r\n        return printJobFailed;    // mark failure\r\n    }","title":"how to get print status in java?","body":"<p>Very likely, after your code has run as expected the correct result has been delivered. On the contrary your code would not execute correctly but abort when - for whatever reason - an exception is thrown. So to report this status you could use a try-catch block:</p>\n<pre><code>try {\n    // place here your logic from your question\n\n    // check if the job was cancelled by user\n    if (job.isCancelled()) {\n        log.info(&quot;job cancelled by user&quot;);\n        return printJobCancelled;\n    }\n\n    return printDataTransferCompleted; // mark success\n} catch (Exception e} {        // bad pattern to catch Exception. Get more concise if you can\n    log.error(&quot;Could not print&quot;, e); // at least log what happened. If necessary, throw some exception\n    return printJobFailed;    // mark failure\n}\n</code></pre>\n"}],"owner":{"display_name":"user16514999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664884471,"creation_date":1664877575,"question_id":73946195,"body_markdown":"I am using the below java code to print the pdf file with print status, but the print status(**printDataTransferCompleted,printJobCompleted,printJobFailed,printJobCanceled,etc,.**) is not returning.\r\n\r\nBelow is the Java code,\r\n```\r\n\tPDDocument document = PDDocument.load(new File(&quot;D:\\\\Rose\\\\Work\\\\17.pdf&quot;));\r\n\r\n        PrintService myPrintService = findPrintService(&quot;Champ RP Series&quot;);\r\n\r\n        PrinterJob job = PrinterJob.getPrinterJob();\r\n        job.setPageable(new PDFPageable(document));\r\n        job.setPrintService(myPrintService);\r\n        job.print();\r\n        if(job.isCancelled() == true) {\r\n        \tSystem.out.println(&quot;cancelled&quot;+ job.isCancelled());\r\n        \t\r\n        }else {\r\n        \tSystem.out.println(&quot;progress&quot;+ job.isCancelled());\r\n        }\r\n       \r\n        DocPrintJob docPrint = myPrintService.createPrintJob();\r\n\t\tSystem.out.println(docPrint.getPrintService());\r\n\t\tdocPrint.addPrintJobListener(new PrintJobListenerSample());\r\n```\r\nHow do I return the print status(printDataTransferCompleted,printJobCompleted,printJobFailed,printJobCanceled,etc,.)?\r\n\r\nThank you","title":"how to get print status in java?","body":"<p>I am using the below java code to print the pdf file with print status, but the print status(<strong>printDataTransferCompleted,printJobCompleted,printJobFailed,printJobCanceled,etc,.</strong>) is not returning.</p>\n<p>Below is the Java code,</p>\n<pre><code>    PDDocument document = PDDocument.load(new File(&quot;D:\\\\Rose\\\\Work\\\\17.pdf&quot;));\n\n        PrintService myPrintService = findPrintService(&quot;Champ RP Series&quot;);\n\n        PrinterJob job = PrinterJob.getPrinterJob();\n        job.setPageable(new PDFPageable(document));\n        job.setPrintService(myPrintService);\n        job.print();\n        if(job.isCancelled() == true) {\n            System.out.println(&quot;cancelled&quot;+ job.isCancelled());\n            \n        }else {\n            System.out.println(&quot;progress&quot;+ job.isCancelled());\n        }\n       \n        DocPrintJob docPrint = myPrintService.createPrintJob();\n        System.out.println(docPrint.getPrintService());\n        docPrint.addPrintJobListener(new PrintJobListenerSample());\n</code></pre>\n<p>How do I return the print status(printDataTransferCompleted,printJobCompleted,printJobFailed,printJobCanceled,etc,.)?</p>\n<p>Thank you</p>\n"},{"tags":["java","android","google-maps","fusedlocationproviderclient"],"answers":[{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664884198,"creation_date":1664880186,"answer_id":73946673,"question_id":73946530,"body_markdown":"You can get your last known location using the code below\r\n\r\n``` java\r\nFusedLocationProviderClient fusedLocationClient = LocationServices.getFusedLocationProviderClient(getContext());\r\nfusedLocationClient.getLastLocation().addOnSuccessListener(location -&gt; {\r\n    if (location != null) {\r\n        // your last known location is stored in `location`\r\n    }\r\n});\r\n```\r\n\r\nrefer: [https://developer.android.com/training/location/retrieve-current][1]\r\n\r\n\r\n----------\r\n\r\n\r\n**Using `Location Manager`**\r\n```\r\nLocationManager manager = (LocationManager) this.getSystemService(LOCATION_SERVICE);\r\nLocationListener listener = new LocationListener() {\r\n    @Override\r\n    public void onLocationChanged(@NonNull Location location) {\r\n        mMap.clear();\r\n        LatLng userLocation = new LatLng(location.getLatitude(), location.getLongitude());\r\n        mMap.addMarker(new MarkerOptions().position(userLocation).title(&quot;Me&quot;));\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(userLocation, 15));\r\n    }\r\n\r\n    @Override\r\n    public void onProviderEnabled(@NonNull String provider) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onProviderDisabled(@NonNull String provider) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onStatusChanged(String provider, int status, Bundle extras) {\r\n\r\n    }\r\n};\r\n\r\nmanager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, listener);\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/training/location/retrieve-current","title":"How to use getCurrentLocation of fused location provider client?","body":"<p>You can get your last known location using the code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>FusedLocationProviderClient fusedLocationClient = LocationServices.getFusedLocationProviderClient(getContext());\nfusedLocationClient.getLastLocation().addOnSuccessListener(location -&gt; {\n    if (location != null) {\n        // your last known location is stored in `location`\n    }\n});\n</code></pre>\n<p>refer: <a href=\"https://developer.android.com/training/location/retrieve-current\" rel=\"nofollow noreferrer\">https://developer.android.com/training/location/retrieve-current</a></p>\n<hr />\n<p><strong>Using <code>Location Manager</code></strong></p>\n<pre><code>LocationManager manager = (LocationManager) this.getSystemService(LOCATION_SERVICE);\nLocationListener listener = new LocationListener() {\n    @Override\n    public void onLocationChanged(@NonNull Location location) {\n        mMap.clear();\n        LatLng userLocation = new LatLng(location.getLatitude(), location.getLongitude());\n        mMap.addMarker(new MarkerOptions().position(userLocation).title(&quot;Me&quot;));\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(userLocation, 15));\n    }\n\n    @Override\n    public void onProviderEnabled(@NonNull String provider) {\n\n    }\n\n    @Override\n    public void onProviderDisabled(@NonNull String provider) {\n\n    }\n\n    @Override\n    public void onStatusChanged(String provider, int status, Bundle extras) {\n\n    }\n};\n\nmanager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, listener);\n</code></pre>\n"}],"owner":{"account_id":24841617,"reputation":3,"user_id":18719552,"display_name":"sern"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73946673,"answer_count":1,"score":0,"last_activity_date":1664884198,"creation_date":1664879389,"question_id":73946530,"body_markdown":"I am new for Android coding, and have writen a code to get location of Android Device but failed. Nothing changed (e.g. `mLastKnownLocation` or `cityName`) after runing, and no expception. I have already checked permission and build.gradle. Could you give me advices to implement it?\r\n\r\n    private void getDeviceLocation() {\r\n            try {\r\n                if (mLocationPermissionGranted) {\r\n    \r\n                    Task&lt;Location&gt; locationResult = mFusedLocationProviderClient.getCurrentLocation(Priority.PRIORITY_HIGH_ACCURACY,cancellationToken);\r\n                    //Task&lt;Location&gt; locationResult = mFusedLocationProviderClient.getLastLocation();\r\n    \r\n                    locationResult.addOnCompleteListener(this, new OnCompleteListener&lt;Location&gt;(){\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Location&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                // Obtain the current location of the device\r\n                                mLastKnownLocation = task.getResult();\r\n                                String currentOrDefault = &quot;Current&quot;;\r\n    \r\n                                if (mLastKnownLocation != null) {\r\n                                    Log.d(TAG, &quot;Get current location&quot;);\r\n                                } else {\r\n                                    Log.d(TAG, &quot;Current location is null. Using defaults.&quot;);\r\n                                    currentOrDefault = &quot;Default&quot;;\r\n    \r\n                                    // Set current location to the default location\r\n                                    mLastKnownLocation = new Location(&quot;&quot;);\r\n                                    mLastKnownLocation.setLatitude(mDefaultLocation.latitude);\r\n                                    mLastKnownLocation.setLongitude(mDefaultLocation.longitude);\r\n                                }\r\n    \r\n                                String city = &quot;CorrectCity&quot;;\r\n                                try {\r\n                                    List&lt;Address&gt; address =\r\n                                            geocoder.getFromLocation(mLastKnownLocation.getLatitude(),\r\n                                            mLastKnownLocation.getLongitude(), 1);\r\n                                    if(address.isEmpty())\r\n                                        city = &quot;No_city&quot;;\r\n                                    else{\r\n                                    Address target = address.get(0);\r\n    \r\n                                    if(target.getLocality()!=null)\r\n                                        city = target.getLocality();\r\n                                    else\r\n                                        city = target.getAdminArea();}\r\n                                } catch (IOException e) {\r\n                                    Log.e(&quot;Exception: %s&quot;, e.getMessage());\r\n                                }\r\n    \r\n                                cityName = city;\r\n                                // Show location details on the location TextView\r\n                                String msg = currentOrDefault + &quot; Location: &quot; +\r\n                                        Double.toString(mLastKnownLocation.getLatitude()) + &quot;, &quot; +\r\n                                        Double.toString(mLastKnownLocation.getLongitude())+ &quot;  &quot; +\r\n                                        cityName;\r\n                                locationTextView.setText(msg);\r\n    \r\n                            } else {\r\n                                Log.d(TAG, &quot;Current location is null. Using defaults.&quot;);\r\n                                Log.e(TAG, &quot;Exception: %s&quot;, task.getException());\r\n                                /*mMap.moveCamera(CameraUpdateFactory\r\n                                        .newLatLngZoom(mDefaultLocation, DEFAULT_ZOOM));\r\n                                mMap.getUiSettings().setMyLocationButtonEnabled(false);*/\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            } catch (SecurityException e)  {\r\n                Log.e(&quot;Exception: %s&quot;, e.getMessage());\r\n                cityName = &quot;ErrorCity&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to use getCurrentLocation of fused location provider client?","body":"<p>I am new for Android coding, and have writen a code to get location of Android Device but failed. Nothing changed (e.g. <code>mLastKnownLocation</code> or <code>cityName</code>) after runing, and no expception. I have already checked permission and build.gradle. Could you give me advices to implement it?</p>\n<pre><code>private void getDeviceLocation() {\n        try {\n            if (mLocationPermissionGranted) {\n\n                Task&lt;Location&gt; locationResult = mFusedLocationProviderClient.getCurrentLocation(Priority.PRIORITY_HIGH_ACCURACY,cancellationToken);\n                //Task&lt;Location&gt; locationResult = mFusedLocationProviderClient.getLastLocation();\n\n                locationResult.addOnCompleteListener(this, new OnCompleteListener&lt;Location&gt;(){\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Location&gt; task) {\n                        if (task.isSuccessful()) {\n                            // Obtain the current location of the device\n                            mLastKnownLocation = task.getResult();\n                            String currentOrDefault = &quot;Current&quot;;\n\n                            if (mLastKnownLocation != null) {\n                                Log.d(TAG, &quot;Get current location&quot;);\n                            } else {\n                                Log.d(TAG, &quot;Current location is null. Using defaults.&quot;);\n                                currentOrDefault = &quot;Default&quot;;\n\n                                // Set current location to the default location\n                                mLastKnownLocation = new Location(&quot;&quot;);\n                                mLastKnownLocation.setLatitude(mDefaultLocation.latitude);\n                                mLastKnownLocation.setLongitude(mDefaultLocation.longitude);\n                            }\n\n                            String city = &quot;CorrectCity&quot;;\n                            try {\n                                List&lt;Address&gt; address =\n                                        geocoder.getFromLocation(mLastKnownLocation.getLatitude(),\n                                        mLastKnownLocation.getLongitude(), 1);\n                                if(address.isEmpty())\n                                    city = &quot;No_city&quot;;\n                                else{\n                                Address target = address.get(0);\n\n                                if(target.getLocality()!=null)\n                                    city = target.getLocality();\n                                else\n                                    city = target.getAdminArea();}\n                            } catch (IOException e) {\n                                Log.e(&quot;Exception: %s&quot;, e.getMessage());\n                            }\n\n                            cityName = city;\n                            // Show location details on the location TextView\n                            String msg = currentOrDefault + &quot; Location: &quot; +\n                                    Double.toString(mLastKnownLocation.getLatitude()) + &quot;, &quot; +\n                                    Double.toString(mLastKnownLocation.getLongitude())+ &quot;  &quot; +\n                                    cityName;\n                            locationTextView.setText(msg);\n\n                        } else {\n                            Log.d(TAG, &quot;Current location is null. Using defaults.&quot;);\n                            Log.e(TAG, &quot;Exception: %s&quot;, task.getException());\n                            /*mMap.moveCamera(CameraUpdateFactory\n                                    .newLatLngZoom(mDefaultLocation, DEFAULT_ZOOM));\n                            mMap.getUiSettings().setMyLocationButtonEnabled(false);*/\n                        }\n                    }\n                });\n            }\n        } catch (SecurityException e)  {\n            Log.e(&quot;Exception: %s&quot;, e.getMessage());\n            cityName = &quot;ErrorCity&quot;;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","postgresql","jdbc"],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1536326940,"creation_date":1536325333,"answer_id":52223160,"question_id":52189147,"body_markdown":"In the query `SELECT &#39;{1, 2, 3}&#39; AS my_data` the column `my_data` is **not** any array. It&#39;s a string that happens to _look_ like an array - but the single quotes denote a `text` (or `varchar`) value.\r\n\r\nAnd because the column&#39;s data type is not an array, calling `getArray()` throws an exception. \r\n\r\nIf you want an array, you need to cast the text value to an array:\r\n\r\n\r\n    SELECT &#39;{1, 2, 3}&#39;::int[] AS my_data;\r\n\r\nor better: use an explicit array constructor:\r\n\r\n    SELECT array[1, 2, 3] AS my_data;\r\n\r\n---\r\n\r\n`pg_stats.histogram_bounds` is defined as `anyarray` - it&#39;s not a typed array as it contains different data types for each column (which means in each row, as that table contains one row per table column). \r\n\r\nApparently the JDBC driver can&#39;t work with `anyarray` properly. \r\n\r\nTo deal with the values from Java code, I think the easiest way is to convert it to a string which then can be converted back to a text array (as the string representation is correct). \r\n\r\nSo if you use the following query: \r\n\r\n    select schemaname, tablename, attname, histogram_bounds::text::text[] as histogram_bounds, ..\r\n    from pg_stats\r\n    where ...\r\n\r\nYou should be able to retrieve the content of the `histogram_bounds` column (but you get everything as strings, rather than a data type matching the column&#39;s data type).\r\n\r\n\r\n","title":"Loading a non-materialised array from Postgres in Java","body":"<p>In the query <code>SELECT '{1, 2, 3}' AS my_data</code> the column <code>my_data</code> is <strong>not</strong> any array. It's a string that happens to <em>look</em> like an array - but the single quotes denote a <code>text</code> (or <code>varchar</code>) value.</p>\n\n<p>And because the column's data type is not an array, calling <code>getArray()</code> throws an exception. </p>\n\n<p>If you want an array, you need to cast the text value to an array:</p>\n\n<pre><code>SELECT '{1, 2, 3}'::int[] AS my_data;\n</code></pre>\n\n<p>or better: use an explicit array constructor:</p>\n\n<pre><code>SELECT array[1, 2, 3] AS my_data;\n</code></pre>\n\n<hr>\n\n<p><code>pg_stats.histogram_bounds</code> is defined as <code>anyarray</code> - it's not a typed array as it contains different data types for each column (which means in each row, as that table contains one row per table column). </p>\n\n<p>Apparently the JDBC driver can't work with <code>anyarray</code> properly. </p>\n\n<p>To deal with the values from Java code, I think the easiest way is to convert it to a string which then can be converted back to a text array (as the string representation is correct). </p>\n\n<p>So if you use the following query: </p>\n\n<pre><code>select schemaname, tablename, attname, histogram_bounds::text::text[] as histogram_bounds, ..\nfrom pg_stats\nwhere ...\n</code></pre>\n\n<p>You should be able to retrieve the content of the <code>histogram_bounds</code> column (but you get everything as strings, rather than a data type matching the column's data type).</p>\n"},{"tags":[],"owner":{"account_id":20459968,"reputation":11,"user_id":15012833,"display_name":"Furkan Uyanik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664884197,"creation_date":1636245477,"answer_id":69868971,"question_id":52189147,"body_markdown":"I got the same error too. There was a int8[] type of column in my table. \r\n\r\nI moved my table to another schema with the DataGrip program. When the program moved my table to another schema, I saw that it changed its type of column to &quot;text&quot;. \r\n\r\nWhen I changed to int8[] type, resolved my problem.","title":"Loading a non-materialised array from Postgres in Java","body":"<p>I got the same error too. There was a int8[] type of column in my table.</p>\n<p>I moved my table to another schema with the DataGrip program. When the program moved my table to another schema, I saw that it changed its type of column to &quot;text&quot;.</p>\n<p>When I changed to int8[] type, resolved my problem.</p>\n"}],"owner":{"account_id":1037707,"reputation":147,"user_id":1044484,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52223160,"answer_count":2,"score":2,"last_activity_date":1664884197,"creation_date":1536162675,"question_id":52189147,"body_markdown":"**The setting:**\r\nI am connecting to a Postgres database with Java, and trying to load the `pg_stats.histogram_bounds` statistic, which is an array in Postgres. I can extract the field as a `sql.Array` object with `Array histogramBounds = rs.getArray(&quot;histogram_bounds&quot;);`. This object can be printed with `toString()`, but I can&#39;t otherwise access any of the data (e.g. calls to `histogramBounds.getArray()`, `getBaseType`, etc.) all generate `PSQLException: No results were returned by the query.`.\r\n\r\nThe [documentation](https://docs.oracle.com/javase/tutorial/jdbc/basics/array.html), as well as various tutorials and SE questions suggest this should be valid.\r\n\r\nApparently `sql.Array` objects do not hold the array data directly, but point to it on the server. From my experiments I have the following MWE which shows the difference between an array value stored in a table in Postgres, and one which is somehow ephemeral or non-materialised (as I suspect `pg_stats` may be, being a view onto other internal tables).\r\n\r\n**The MWE:**\r\nI have two queries, one which selects data form a table and works, and one which selects data directly from the query, and does not work. I can&#39;t see any reason in the documentation they should not both work, and I would like to get the second version working to get the Java array `[1, 2, 3]`.\r\nConfusingly, `toString` still displays the data correctly in the second case, so it must be loaded successfully at some point.\r\n\r\n    import java.sql.Array;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    public class PostgresStatsExperiments {\r\n        public static void main(String[] args) throws SQLException {\r\n            Connection conn = DriverManager.getConnection(&quot;jdbc:postgresql://localhost/tmp&quot;, &quot;admin&quot;, &quot;admin&quot;);\r\n            Statement stmt = conn.createStatement();\r\n        \r\n            ResultSet rs = stmt.executeQuery(&quot;SELECT name, my_data from array_test;&quot;); // This one works\r\n            //ResultSet rs = stmt.executeQuery(&quot;SELECT &#39;{1, 2, 3}&#39; AS my_data;&quot;); // This one does not work.\r\n        \r\n            while (rs.next()) {\r\n                Array myData = rs.getArray(&quot;my_data&quot;);\r\n                System.out.println(myData);\r\n                System.out.println(myData.getArray()); // PSQLException here in the second case\r\n            }\r\n        \r\n            stmt.close();\r\n            rs.close();\r\n            conn.close();\r\n        }\r\n    }\r\n\r\nThe table `array_test` looks like this:\r\n\r\n    create table array_test ( name varchar, my_data integer ARRAY[3] );\r\n    insert into array_test values (&#39;Alice&#39;, &#39;{1, 2, 3}&#39;);\r\n    insert into array_test values (&#39;Bob&#39;, &#39;{4, 5, 6}&#39;);\r\n\r\nIn the second case, I get the following output:\r\n\r\n    {1, 2, 3}\r\n    Exception in thread &quot;main&quot; org.postgresql.util.PSQLException: No results were returned by the query.\r\n    \tat org.postgresql.jdbc2.TypeInfoCache.getPGArrayElement(TypeInfoCache.java:425)\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Array.buildArray(AbstractJdbc2Array.java:540)\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Array.getArrayImpl(AbstractJdbc2Array.java:171)\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Array.getArray(AbstractJdbc2Array.java:128)\r\n    \tat tmp.PostgresStatsExperiments.main(PostgresStatsExperiments.java:21)\r\n\r\n\r\nI am using `postgresql-9.3-1102-jdbc41.jar` from Maven, and the problem is also the same with the latest `42.2.4.jre7`.","title":"Loading a non-materialised array from Postgres in Java","body":"<p><strong>The setting:</strong>\nI am connecting to a Postgres database with Java, and trying to load the <code>pg_stats.histogram_bounds</code> statistic, which is an array in Postgres. I can extract the field as a <code>sql.Array</code> object with <code>Array histogramBounds = rs.getArray(\"histogram_bounds\");</code>. This object can be printed with <code>toString()</code>, but I can't otherwise access any of the data (e.g. calls to <code>histogramBounds.getArray()</code>, <code>getBaseType</code>, etc.) all generate <code>PSQLException: No results were returned by the query.</code>.</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/array.html\" rel=\"nofollow noreferrer\">documentation</a>, as well as various tutorials and SE questions suggest this should be valid.</p>\n\n<p>Apparently <code>sql.Array</code> objects do not hold the array data directly, but point to it on the server. From my experiments I have the following MWE which shows the difference between an array value stored in a table in Postgres, and one which is somehow ephemeral or non-materialised (as I suspect <code>pg_stats</code> may be, being a view onto other internal tables).</p>\n\n<p><strong>The MWE:</strong>\nI have two queries, one which selects data form a table and works, and one which selects data directly from the query, and does not work. I can't see any reason in the documentation they should not both work, and I would like to get the second version working to get the Java array <code>[1, 2, 3]</code>.\nConfusingly, <code>toString</code> still displays the data correctly in the second case, so it must be loaded successfully at some point.</p>\n\n<pre><code>import java.sql.Array;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class PostgresStatsExperiments {\n    public static void main(String[] args) throws SQLException {\n        Connection conn = DriverManager.getConnection(\"jdbc:postgresql://localhost/tmp\", \"admin\", \"admin\");\n        Statement stmt = conn.createStatement();\n\n        ResultSet rs = stmt.executeQuery(\"SELECT name, my_data from array_test;\"); // This one works\n        //ResultSet rs = stmt.executeQuery(\"SELECT '{1, 2, 3}' AS my_data;\"); // This one does not work.\n\n        while (rs.next()) {\n            Array myData = rs.getArray(\"my_data\");\n            System.out.println(myData);\n            System.out.println(myData.getArray()); // PSQLException here in the second case\n        }\n\n        stmt.close();\n        rs.close();\n        conn.close();\n    }\n}\n</code></pre>\n\n<p>The table <code>array_test</code> looks like this:</p>\n\n<pre><code>create table array_test ( name varchar, my_data integer ARRAY[3] );\ninsert into array_test values ('Alice', '{1, 2, 3}');\ninsert into array_test values ('Bob', '{4, 5, 6}');\n</code></pre>\n\n<p>In the second case, I get the following output:</p>\n\n<pre><code>{1, 2, 3}\nException in thread \"main\" org.postgresql.util.PSQLException: No results were returned by the query.\n    at org.postgresql.jdbc2.TypeInfoCache.getPGArrayElement(TypeInfoCache.java:425)\n    at org.postgresql.jdbc2.AbstractJdbc2Array.buildArray(AbstractJdbc2Array.java:540)\n    at org.postgresql.jdbc2.AbstractJdbc2Array.getArrayImpl(AbstractJdbc2Array.java:171)\n    at org.postgresql.jdbc2.AbstractJdbc2Array.getArray(AbstractJdbc2Array.java:128)\n    at tmp.PostgresStatsExperiments.main(PostgresStatsExperiments.java:21)\n</code></pre>\n\n<p>I am using <code>postgresql-9.3-1102-jdbc41.jar</code> from Maven, and the problem is also the same with the latest <code>42.2.4.jre7</code>.</p>\n"},{"tags":["java","spring","unit-testing","spring-boot","component-scan"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":1,"creation_date":1400262838,"post_id":23701616,"comment_id":36421231,"body_markdown":"What does `HelloWorlsRs` look like?","body":"What does <code>HelloWorlsRs</code> look like?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1400266339,"post_id":23701616,"comment_id":36423216,"body_markdown":"Your test case isn&#39;t a configuration, and all of those commented things are irrelevant on it.","body":"Your test case isn&#39;t a configuration, and all of those commented things are irrelevant on it."},{"owner":{"account_id":3243454,"reputation":1405,"user_id":2735802,"accept_rate":71,"display_name":"Geyser14"},"score":0,"creation_date":1400540188,"post_id":23701616,"comment_id":36510942,"body_markdown":"see updated post for HelloWorldRs, etc.","body":"see updated post for HelloWorldRs, etc."},{"owner":{"account_id":21425,"reputation":10691,"user_id":52070,"accept_rate":67,"display_name":"David Newcomb"},"score":1,"creation_date":1441621391,"post_id":23701616,"comment_id":52737155,"body_markdown":"What happened? Did you fix you problem? How?","body":"What happened? Did you fix you problem? How?"},{"owner":{"account_id":1674439,"reputation":2685,"user_id":1540271,"display_name":"Marwin"},"score":0,"creation_date":1508830504,"post_id":23701616,"comment_id":80756061,"body_markdown":"From the `@EnableAutoConfiguration` I see that you are using spring-boot - which is certainly a good thing. Do you have a `@SpringBootApplication` in your project? Can you try to annotate your test as `@SpringBootTest`?","body":"From the <code>@EnableAutoConfiguration</code> I see that you are using spring-boot - which is certainly a good thing. Do you have a <code>@SpringBootApplication</code> in your project? Can you try to annotate your test as <code>@SpringBootTest</code>?"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1508955589,"post_id":23701616,"comment_id":80826055,"body_markdown":"`HelloWorldConfiguration` is not a `@SpringBootApplication` so spring Boot will not be used to start the context.","body":"<code>HelloWorldConfiguration</code> is not a <code>@SpringBootApplication</code> so spring Boot will not be used to start the context."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1509101646,"post_id":23701616,"comment_id":80894058,"body_markdown":"Is there a reason you don’t want to use `@SpringBootApplication`? If not I would use it. Otherwise your main config class is missing `@Configuration`.","body":"Is there a reason you don’t want to use <code>@SpringBootApplication</code>? If not I would use it. Otherwise your main config class is missing <code>@Configuration</code>."},{"owner":{"account_id":3243454,"reputation":1405,"user_id":2735802,"accept_rate":71,"display_name":"Geyser14"},"score":0,"creation_date":1509123426,"post_id":23701616,"comment_id":80907474,"body_markdown":"No, I see I&#39;m missing that. This was an older post and as soon as I get a moment I&#39;m going get the code setup and test it again and update this post. (I&#39;m optimistic). A very boneheaded thing to miss but I&#39;ll own up to it if I need to!","body":"No, I see I&#39;m missing that. This was an older post and as soon as I get a moment I&#39;m going get the code setup and test it again and update this post. (I&#39;m optimistic). A very boneheaded thing to miss but I&#39;ll own up to it if I need to!"}],"answers":[{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1400305501,"creation_date":1400305501,"answer_id":23708025,"question_id":23701616,"body_markdown":"I don&#39;t know if this will turn out to be the solution, but don&#39;t use the default package (i.e. don&#39;t put *.java in &quot;src/main/java&quot; directly), and definitely don&#39;t use a `@ComponentScan` or `@EnableAutoConfiguration` in the default package. You will end up killing your application on startup as it tries to scan everything on the classpath (including all the Spring libraries).","title":"@ComponentScan not working in test with spring-boot-starter-test","body":"<p>I don't know if this will turn out to be the solution, but don't use the default package (i.e. don't put *.java in \"src/main/java\" directly), and definitely don't use a <code>@ComponentScan</code> or <code>@EnableAutoConfiguration</code> in the default package. You will end up killing your application on startup as it tries to scan everything on the classpath (including all the Spring libraries).</p>\n"},{"tags":[],"owner":{"account_id":1674439,"reputation":2685,"user_id":1540271,"display_name":"Marwin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508831317,"creation_date":1508831317,"answer_id":46904962,"question_id":23701616,"body_markdown":"First, I&#39;d recommend to use a newer `@RunWith(SpringRunner.class)` but that makes no difference, it is just shorter (and recommended).\r\n\r\nSecond, from the `@EnableAutoConfiguration` I see that you are using spring boot - which is certainly a good thing. There are some good reasons why &lt;em&gt;not&lt;/em&gt; to use `@ComponentScan` directly. Can you try the following?\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @ContextConfiguration(classes=YourApplication_or_other_Configuration.class)\r\n    public class HelloWorldTest {\r\n    ... etc.\r\n\r\n\r\n\r\n","title":"@ComponentScan not working in test with spring-boot-starter-test","body":"<p>First, I'd recommend to use a newer <code>@RunWith(SpringRunner.class)</code> but that makes no difference, it is just shorter (and recommended).</p>\n\n<p>Second, from the <code>@EnableAutoConfiguration</code> I see that you are using spring boot - which is certainly a good thing. There are some good reasons why <em>not</em> to use <code>@ComponentScan</code> directly. Can you try the following?</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ContextConfiguration(classes=YourApplication_or_other_Configuration.class)\npublic class HelloWorldTest {\n... etc.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664884003,"creation_date":1664884003,"answer_id":73947402,"question_id":23701616,"body_markdown":"SpringBoot 2.7.3, JUnit 5.8.2\r\n\r\nIf you want to have full control about the spring&#39;s configuration (and not rely on the hidden magic of auto configuration) I suggest to create an explicit configuration class:\r\n\r\n    @ComponentScan(basePackages = { &quot;my.package.to.scan&quot; })\r\n    public class MySpringTestConfig\r\n    {\r\n        // just for spring configuration annotations\r\n    }\r\n\r\nand reference it in your test class:\r\n\r\n    @ContextConfiguration(classes = { MySpringTestConfig.class })\r\n    @ExtendWith({ SpringExtension.class })\r\n    class MySpringTest\r\n    {\r\n        ...\r\n    }\r\n\r\n\r\n","title":"@ComponentScan not working in test with spring-boot-starter-test","body":"<p>SpringBoot 2.7.3, JUnit 5.8.2</p>\n<p>If you want to have full control about the spring's configuration (and not rely on the hidden magic of auto configuration) I suggest to create an explicit configuration class:</p>\n<pre><code>@ComponentScan(basePackages = { &quot;my.package.to.scan&quot; })\npublic class MySpringTestConfig\n{\n    // just for spring configuration annotations\n}\n</code></pre>\n<p>and reference it in your test class:</p>\n<pre><code>@ContextConfiguration(classes = { MySpringTestConfig.class })\n@ExtendWith({ SpringExtension.class })\nclass MySpringTest\n{\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":3243454,"reputation":1405,"user_id":2735802,"accept_rate":71,"display_name":"Geyser14"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20253,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1664884003,"creation_date":1400262568,"question_id":23701616,"body_markdown":"I am attempting to test my `@Service` and `@Repository` classes in my project with spring-boot-starter-test and `@Autowired` is not working for the classes I&#39;m testing. \r\n\r\nUnit test:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @ContextConfiguration(classes = HelloWorldConfiguration.class\r\n    //@SpringApplicationConfiguration(classes = HelloWorldRs.class)\r\n    //@ComponentScan(basePackages = {&quot;com.me.sbworkshop&quot;, &quot;com.me.sbworkshop.service&quot;})\r\n    //@ConfigurationProperties(&quot;helloworld&quot;)\r\n    //@EnableAutoConfiguration\r\n    //@ActiveProfiles(&quot;test&quot;)\r\n    // THIS CLASS IS IN src/test/java/ AND BUILDS INTO target/test-classes\r\n    public class HelloWorldTest {\r\n    \r\n        @Autowired\r\n        HelloWorldMessageService helloWorldMessageService;\r\n    \r\n        public static final String EXPECTED = &quot;je pense donc je suis-TESTING123&quot;;\r\n    \r\n        @Test\r\n        public void testGetMessage() {\r\n            String result = helloWorldMessageService.getMessage();\r\n            Assert.assertEquals(EXPECTED, result);\r\n        }\r\n    }\r\n\r\nService:\r\n\r\n    @Service\r\n    @ConfigurationProperties(&quot;helloworld&quot;)\r\n    // THIS CLASS IS IN /src/main/java AND BUILDS INTO target/classes\r\n    public class HelloWorldMessageService {\r\n    \r\n        private String message;\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setMessage(String  message) {\r\n            this.message=message;\r\n        }\r\n    \r\n    }\r\n\r\nThe commented class annotations on the unit test represent the various things I&#39;ve tried to get this working. The test and the project packages are in the same package paths and the `@ComponentScan` works fine from my entry point (`@RestController` class with main method). The service `@ComponentScan`&#39;s and `@Autowire`&#39;s fine in my `@RestController` class in the src/main/java side, but does not in the test. I am required to add it again as a `@Bean` in my `@Configuration` class in order for `@Autowired` to work. The class is otherwise in scope just fine and I can reference and instantiate it just fine from the test. The problem appears to be that `@ComponentScan` does not appear to correctly traverse multiple entries in my test runner classpath, in this case /target/test-classes and /target/classes.\r\n\r\nThe IDE I am using is IntelliJ IDEA 13.\r\n\r\n**UPDATE** - here are HelloWorldRs and its config:\r\n\r\n    @RestController\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    public class HelloWorldRs {\r\n    \r\n        //    SPRING BOOT ENTRY POINT - main() method\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(HelloWorldRs.class);\r\n        }\r\n    \r\n        @Autowired\r\n        HelloWorldMessageService helloWorldMessageService;\r\n    \r\n        @RequestMapping(&quot;/helloWorld&quot;)\r\n        public String helloWorld() {\r\n            return helloWorldMessageService.getMessage();\r\n        }\r\n    \r\n    }\r\n\r\n...\r\n\r\n    @Configuration\r\n    public class HelloWorldConfiguration {\r\n    \r\n        @Bean\r\n        public Map&lt;String, String&gt; map() {\r\n            return new HashMap&lt;&gt;();\r\n        }\r\n    \r\n        // This bean was manually added as a workaround to the @ComponentScan problem\r\n        @Bean\r\n        public HelloWorldMessageService helloWorldMessageService() {\r\n            return new HelloWorldMessageService();\r\n        }\r\n    \r\n        // This bean was manually added as a workaround to the @ComponentScan problem\r\n        @Bean\r\n        public HelloWorldRs helloWorldRs() {\r\n            return new HelloWorldRs();\r\n        }\r\n    }\r\n\r\n","title":"@ComponentScan not working in test with spring-boot-starter-test","body":"<p>I am attempting to test my <code>@Service</code> and <code>@Repository</code> classes in my project with spring-boot-starter-test and <code>@Autowired</code> is not working for the classes I'm testing. </p>\n\n<p>Unit test:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ContextConfiguration(classes = HelloWorldConfiguration.class\n//@SpringApplicationConfiguration(classes = HelloWorldRs.class)\n//@ComponentScan(basePackages = {\"com.me.sbworkshop\", \"com.me.sbworkshop.service\"})\n//@ConfigurationProperties(\"helloworld\")\n//@EnableAutoConfiguration\n//@ActiveProfiles(\"test\")\n// THIS CLASS IS IN src/test/java/ AND BUILDS INTO target/test-classes\npublic class HelloWorldTest {\n\n    @Autowired\n    HelloWorldMessageService helloWorldMessageService;\n\n    public static final String EXPECTED = \"je pense donc je suis-TESTING123\";\n\n    @Test\n    public void testGetMessage() {\n        String result = helloWorldMessageService.getMessage();\n        Assert.assertEquals(EXPECTED, result);\n    }\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>@Service\n@ConfigurationProperties(\"helloworld\")\n// THIS CLASS IS IN /src/main/java AND BUILDS INTO target/classes\npublic class HelloWorldMessageService {\n\n    private String message;\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String  message) {\n        this.message=message;\n    }\n\n}\n</code></pre>\n\n<p>The commented class annotations on the unit test represent the various things I've tried to get this working. The test and the project packages are in the same package paths and the <code>@ComponentScan</code> works fine from my entry point (<code>@RestController</code> class with main method). The service <code>@ComponentScan</code>'s and <code>@Autowire</code>'s fine in my <code>@RestController</code> class in the src/main/java side, but does not in the test. I am required to add it again as a <code>@Bean</code> in my <code>@Configuration</code> class in order for <code>@Autowired</code> to work. The class is otherwise in scope just fine and I can reference and instantiate it just fine from the test. The problem appears to be that <code>@ComponentScan</code> does not appear to correctly traverse multiple entries in my test runner classpath, in this case /target/test-classes and /target/classes.</p>\n\n<p>The IDE I am using is IntelliJ IDEA 13.</p>\n\n<p><strong>UPDATE</strong> - here are HelloWorldRs and its config:</p>\n\n<pre><code>@RestController\n@EnableAutoConfiguration\n@ComponentScan\npublic class HelloWorldRs {\n\n    //    SPRING BOOT ENTRY POINT - main() method\n    public static void main(String[] args) {\n        SpringApplication.run(HelloWorldRs.class);\n    }\n\n    @Autowired\n    HelloWorldMessageService helloWorldMessageService;\n\n    @RequestMapping(\"/helloWorld\")\n    public String helloWorld() {\n        return helloWorldMessageService.getMessage();\n    }\n\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>@Configuration\npublic class HelloWorldConfiguration {\n\n    @Bean\n    public Map&lt;String, String&gt; map() {\n        return new HashMap&lt;&gt;();\n    }\n\n    // This bean was manually added as a workaround to the @ComponentScan problem\n    @Bean\n    public HelloWorldMessageService helloWorldMessageService() {\n        return new HelloWorldMessageService();\n    }\n\n    // This bean was manually added as a workaround to the @ComponentScan problem\n    @Bean\n    public HelloWorldRs helloWorldRs() {\n        return new HelloWorldRs();\n    }\n}\n</code></pre>\n"},{"tags":["java","macos","ssl","certificate","truststore"],"answers":[{"tags":[],"owner":{"account_id":2042386,"reputation":212,"user_id":1823236,"display_name":"cptcactus"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1648200633,"creation_date":1648200633,"answer_id":71614725,"question_id":62147943,"body_markdown":"`KeychainStore` only gives you access to the current user&#39;s keychain. This does not include the root certs installed on the machine like `Windows-ROOT` would on a Windows machine. As far as I can tell there is no easy way to solve this. You could implement your own `KeyStore` that extracts the certs via native code or a command. See https://stackoverflow.com/questions/46986355/java-programmatically-access-ssl-certificates-under-system-roots-on-mac-os-x","title":"KeychainStore doesn&#39;t provide certificates to Java on Mac OS X","body":"<p><code>KeychainStore</code> only gives you access to the current user's keychain. This does not include the root certs installed on the machine like <code>Windows-ROOT</code> would on a Windows machine. As far as I can tell there is no easy way to solve this. You could implement your own <code>KeyStore</code> that extracts the certs via native code or a command. See <a href=\"https://stackoverflow.com/questions/46986355/java-programmatically-access-ssl-certificates-under-system-roots-on-mac-os-x\">(Java) Programmatically access SSL certificates under &quot;System Roots&quot; on Mac OS X</a></p>\n"}],"owner":{"account_id":2918574,"reputation":136,"user_id":2501301,"display_name":"Tomasz Klosinski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2001,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1664883547,"creation_date":1591086768,"question_id":62147943,"body_markdown":"While researching a problem [related to Jib][1], I found that `java -Djavax.net.ssl.trustStoreType=KeychainStore` doesn&#39;t provide certificates to my Java process on Mac OS X and it can&#39;t validate TLS/SSL for any public website (and my private website with a self-signed certificate too). \r\n\r\nHere&#39;s the example how I tested it:\r\n```\r\n$ cat &lt;&lt;EOF &gt; A.java\r\npublic class A {\r\n  public static void main(String[] args) throws Exception {\r\n    new java.net.URL(&quot;https://google.com/&quot;).openStream().close();\r\n  }\r\n}\r\nEOF\r\n```\r\n\r\nAnd here&#39;s the result:\r\n```\r\n$ java -Djavax.net.ssl.trustStoreType=KeychainStore A.java\r\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:326)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:269)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:264)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:645)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:464)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:360)\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:183)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1144)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1055)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:395)\r\n\tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\r\n\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1587)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1515)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:250)\r\n\tat java.base/java.net.URL.openStream(URL.java:1140)\r\n\tat A.main(A.java:3)\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\n\tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\r\n\tat java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:629)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:464)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:360)\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:183)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1144)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1055)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:395)\r\n\tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\r\n\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1587)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1515)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:250)\r\n\tat java.base/java.net.URL.openStream(URL.java:1140)\r\n\tat A.main(A.java:3)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:404)\r\n\tat jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:179)\r\n\tat jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:119)\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n\tat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\r\n\t... 30 more\r\n```\r\n\r\nAny clue why this doesn&#39;t work? Did I miss something? \r\n\r\nPS. Some information about my environment (I&#39;ve tried also Java 11):\r\n```\r\n$ echo $JAVA_HOME\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-14.0.1.jdk/Contents/Home\r\n\r\n$ java -version\r\nopenjdk version &quot;14.0.1&quot; 2020-04-14\r\nOpenJDK Runtime Environment AdoptOpenJDK (build 14.0.1+7)\r\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 14.0.1+7, mixed mode, sharing)\r\n```\r\n\r\n  [1]: https://github.com/GoogleContainerTools/jib/issues/2482","title":"KeychainStore doesn&#39;t provide certificates to Java on Mac OS X","body":"<p>While researching a problem <a href=\"https://github.com/GoogleContainerTools/jib/issues/2482\" rel=\"nofollow noreferrer\">related to Jib</a>, I found that <code>java -Djavax.net.ssl.trustStoreType=KeychainStore</code> doesn't provide certificates to my Java process on Mac OS X and it can't validate TLS/SSL for any public website (and my private website with a self-signed certificate too).</p>\n<p>Here's the example how I tested it:</p>\n<pre><code>$ cat &lt;&lt;EOF &gt; A.java\npublic class A {\n  public static void main(String[] args) throws Exception {\n    new java.net.URL(&quot;https://google.com/&quot;).openStream().close();\n  }\n}\nEOF\n</code></pre>\n<p>And here's the result:</p>\n<pre><code>$ java -Djavax.net.ssl.trustStoreType=KeychainStore A.java\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:326)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:269)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:264)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:645)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:464)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:360)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:183)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1144)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1055)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:395)\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1587)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1515)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:250)\n    at java.base/java.net.URL.openStream(URL.java:1140)\n    at A.main(A.java:3)\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\n    at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\n    at java.base/sun.security.validator.Validator.validate(Validator.java:264)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:629)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:464)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:360)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:183)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1144)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1055)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:395)\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1587)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1515)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:250)\n    at java.base/java.net.URL.openStream(URL.java:1140)\n    at A.main(A.java:3)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:404)\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:179)\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:119)\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n    at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n    at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\n    at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\n    ... 30 more\n</code></pre>\n<p>Any clue why this doesn't work? Did I miss something?</p>\n<p>PS. Some information about my environment (I've tried also Java 11):</p>\n<pre><code>$ echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/adoptopenjdk-14.0.1.jdk/Contents/Home\n\n$ java -version\nopenjdk version &quot;14.0.1&quot; 2020-04-14\nOpenJDK Runtime Environment AdoptOpenJDK (build 14.0.1+7)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 14.0.1+7, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","spring-boot","authentication","spring-security","netflix-dgs"],"answers":[{"tags":[],"owner":{"account_id":3725757,"reputation":3130,"user_id":3099704,"accept_rate":70,"display_name":"Sedat Gokcen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664883449,"creation_date":1664308979,"answer_id":73873234,"question_id":73055108,"body_markdown":"Even though Spring Security&#39;s [`AuthenticationPrincipalArgumentResolver`][1] is in the application context, it&#39;s not picked up by DGS by default. You can achieve this by implementing DGS&#39; own [`ArgumentResolver`][2] and delegating its work to Spring&#39;s `AuthenticationPrincipalArgumentResolver`.\r\n\r\nSo all you need to create is this: \r\n\r\n[Kotlin]\r\n\r\n```\r\n@Component\r\nclass DgsAuthenticationPrincipalArgumentResolver : ArgumentResolver {\r\n    private val delegate = AuthenticationPrincipalArgumentResolver()\r\n\r\n    override fun supportsParameter(parameter: MethodParameter): Boolean {\r\n        return delegate.supportsParameter(parameter)\r\n    }\r\n\r\n    override fun resolveArgument(parameter: MethodParameter, dfe: DataFetchingEnvironment): Any? {\r\n        val request = (DgsDataFetchingEnvironment(dfe).getDgsContext().requestData as DgsWebMvcRequestData).webRequest as NativeWebRequest\r\n        return delegate.resolveArgument(parameter, null, request, null)\r\n    }\r\n}\r\n```\r\n\r\n[Java]\r\n```\r\n@Component\r\npublic class DgsAuthenticationPrincipalArgumentResolver implements ArgumentResolver {\r\n\r\n\tprivate final AuthenticationPrincipalArgumentResolver delegate = new AuthenticationPrincipalArgumentResolver();\r\n\r\n\t@Nullable\r\n\t@Override\r\n\tpublic Object resolveArgument(@NotNull MethodParameter parameter, @NotNull DataFetchingEnvironment dfe)\t{\r\n\t\tDgsContext context = ((DataFetchingEnvironmentImpl) dfe).getContext();\r\n\t\tDgsWebMvcRequestData requestData = (DgsWebMvcRequestData) context.getRequestData();\r\n\t\tNativeWebRequest request = requestData == null ? null : (NativeWebRequest) requestData.getWebRequest();\r\n\t\treturn delegate.resolveArgument(parameter, null, request, null);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean supportsParameter(@NotNull MethodParameter parameter) {\r\n\t\treturn delegate.supportsParameter(parameter);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nPassing `null`s on 2n and 4th parameters is OK because they have no usage within delegated `resolveArgument` as you can check [here][3].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/method/annotation/AuthenticationPrincipalArgumentResolver.html\r\n  [2]: https://github.com/Netflix/dgs-framework/blob/v5.2.4/graphql-dgs/src/main/kotlin/com/netflix/graphql/dgs/internal/method/ArgumentResolver.kt\r\n  [3]: https://github.com/spring-projects/spring-security/blob/5.6.7/web/src/main/java/org/springframework/security/web/method/annotation/AuthenticationPrincipalArgumentResolver.java#L103","title":"How to enable @AuthenticationPrincipal argument in a DGS query","body":"<p>Even though Spring Security's <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/method/annotation/AuthenticationPrincipalArgumentResolver.html\" rel=\"nofollow noreferrer\"><code>AuthenticationPrincipalArgumentResolver</code></a> is in the application context, it's not picked up by DGS by default. You can achieve this by implementing DGS' own <a href=\"https://github.com/Netflix/dgs-framework/blob/v5.2.4/graphql-dgs/src/main/kotlin/com/netflix/graphql/dgs/internal/method/ArgumentResolver.kt\" rel=\"nofollow noreferrer\"><code>ArgumentResolver</code></a> and delegating its work to Spring's <code>AuthenticationPrincipalArgumentResolver</code>.</p>\n<p>So all you need to create is this:</p>\n<p>[Kotlin]</p>\n<pre><code>@Component\nclass DgsAuthenticationPrincipalArgumentResolver : ArgumentResolver {\n    private val delegate = AuthenticationPrincipalArgumentResolver()\n\n    override fun supportsParameter(parameter: MethodParameter): Boolean {\n        return delegate.supportsParameter(parameter)\n    }\n\n    override fun resolveArgument(parameter: MethodParameter, dfe: DataFetchingEnvironment): Any? {\n        val request = (DgsDataFetchingEnvironment(dfe).getDgsContext().requestData as DgsWebMvcRequestData).webRequest as NativeWebRequest\n        return delegate.resolveArgument(parameter, null, request, null)\n    }\n}\n</code></pre>\n<p>[Java]</p>\n<pre><code>@Component\npublic class DgsAuthenticationPrincipalArgumentResolver implements ArgumentResolver {\n\n    private final AuthenticationPrincipalArgumentResolver delegate = new AuthenticationPrincipalArgumentResolver();\n\n    @Nullable\n    @Override\n    public Object resolveArgument(@NotNull MethodParameter parameter, @NotNull DataFetchingEnvironment dfe) {\n        DgsContext context = ((DataFetchingEnvironmentImpl) dfe).getContext();\n        DgsWebMvcRequestData requestData = (DgsWebMvcRequestData) context.getRequestData();\n        NativeWebRequest request = requestData == null ? null : (NativeWebRequest) requestData.getWebRequest();\n        return delegate.resolveArgument(parameter, null, request, null);\n    }\n\n    @Override\n    public boolean supportsParameter(@NotNull MethodParameter parameter) {\n        return delegate.supportsParameter(parameter);\n    }\n\n}\n</code></pre>\n<p>Passing <code>null</code>s on 2n and 4th parameters is OK because they have no usage within delegated <code>resolveArgument</code> as you can check <a href=\"https://github.com/spring-projects/spring-security/blob/5.6.7/web/src/main/java/org/springframework/security/web/method/annotation/AuthenticationPrincipalArgumentResolver.java#L103\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":9781391,"reputation":358,"user_id":7249306,"display_name":"Denis Abakumov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73873234,"answer_count":1,"score":1,"last_activity_date":1664883449,"creation_date":1658334239,"question_id":73055108,"body_markdown":"I&#39;m working on a Spring Boot service that has both a REST controller and a [Netflix DGS][1] GraphQL component. REST methods are protected with Spring Security, and whenever the current username is required, I add a method argument using the ```@AuthenticationPrincipal``` annotation, which gives me access to the authenticated user info:\r\n\r\n    import org.springframework.security.core.annotation.AuthenticationPrincipal;\r\n    import org.springframework.security.core.userdetails.UserDetails; \r\n\r\n    @RestController\r\n    public class ActionController {\r\n\r\n        @GetMapping(&quot;/getActions&quot;)\r\n        public List&lt;ActionResponse&gt; getActions(@AuthenticationPrincipal UserDetails userDetails) {\r\n            return actionService.getActions(userDetails.getUsername());\r\n        }\r\n\r\n    }\r\n\r\nNow I want the same functionality for GraphQL methods implemented through [Netflix DGS][1]. But when I try to use the ```@AuthenticationPrincipal``` argument (like in the first example) it always equals ```null```. The workaround I found is to manually assign the userDetails from the SecurityContextHolder:\r\n    \r\n    import com.netflix.graphql.dgs.DgsComponent;\r\n    import com.netflix.graphql.dgs.DgsQuery;\r\n    import org.springframework.security.core.annotation.AuthenticationPrincipal;\r\n    import org.springframework.security.core.userdetails.UserDetails; \r\n\r\n    @DgsComponent\r\n    public class ActionDatafetcher {\r\n\r\n        @DgsQuery\r\n\t    public List&lt;Map&lt;String, Object&gt;&gt; actions(@AuthenticationPrincipal UserDetails userDetails) {\r\n            // The following line works well:\r\n            // userDetails = (UserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n            \r\n            String username = userDetails.getUsername();   // ===&gt;  NullPointerException here\r\n\t\t    return actionService.getActionsMap(username);\r\n\t    }\r\n\r\n    }\r\n\r\nHow can I get @AuthenticationPrincipal to work in a DgsComponent?\r\n\r\n\r\n  [1]: https://netflix.github.io/dgs/","title":"How to enable @AuthenticationPrincipal argument in a DGS query","body":"<p>I'm working on a Spring Boot service that has both a REST controller and a <a href=\"https://netflix.github.io/dgs/\" rel=\"nofollow noreferrer\">Netflix DGS</a> GraphQL component. REST methods are protected with Spring Security, and whenever the current username is required, I add a method argument using the <code>@AuthenticationPrincipal</code> annotation, which gives me access to the authenticated user info:</p>\n<pre><code>import org.springframework.security.core.annotation.AuthenticationPrincipal;\nimport org.springframework.security.core.userdetails.UserDetails; \n\n@RestController\npublic class ActionController {\n\n    @GetMapping(&quot;/getActions&quot;)\n    public List&lt;ActionResponse&gt; getActions(@AuthenticationPrincipal UserDetails userDetails) {\n        return actionService.getActions(userDetails.getUsername());\n    }\n\n}\n</code></pre>\n<p>Now I want the same functionality for GraphQL methods implemented through <a href=\"https://netflix.github.io/dgs/\" rel=\"nofollow noreferrer\">Netflix DGS</a>. But when I try to use the <code>@AuthenticationPrincipal</code> argument (like in the first example) it always equals <code>null</code>. The workaround I found is to manually assign the userDetails from the SecurityContextHolder:</p>\n<pre><code>import com.netflix.graphql.dgs.DgsComponent;\nimport com.netflix.graphql.dgs.DgsQuery;\nimport org.springframework.security.core.annotation.AuthenticationPrincipal;\nimport org.springframework.security.core.userdetails.UserDetails; \n\n@DgsComponent\npublic class ActionDatafetcher {\n\n    @DgsQuery\n    public List&lt;Map&lt;String, Object&gt;&gt; actions(@AuthenticationPrincipal UserDetails userDetails) {\n        // The following line works well:\n        // userDetails = (UserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n        \n        String username = userDetails.getUsername();   // ===&gt;  NullPointerException here\n        return actionService.getActionsMap(username);\n    }\n\n}\n</code></pre>\n<p>How can I get @AuthenticationPrincipal to work in a DgsComponent?</p>\n"},{"tags":["java","swing","user-interface","jbutton","calculator"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1664725878,"post_id":73926952,"comment_id":130532917,"body_markdown":"The biggest problem is that you&#39;re using `setSize` and `setLocation` methods.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"The biggest problem is that you&#39;re using <code>setSize</code> and <code>setLocation</code> methods.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1664727647,"post_id":73926952,"comment_id":130533318,"body_markdown":"Simple example to get you started: https://stackoverflow.com/questions/23375276/attaching-a-single-action-listener-to-all-buttons/23375436#23375436 (after reading the tutorial links from above).","body":"Simple example to get you started: <a href=\"https://stackoverflow.com/questions/23375276/attaching-a-single-action-listener-to-all-buttons/23375436#23375436\" title=\"attaching a single action listener to all buttons\">stackoverflow.com/questions/23375276/&hellip;</a> (after reading the tutorial links from above)."}],"answers":[{"tags":[],"owner":{"account_id":964056,"reputation":313,"user_id":987829,"display_name":"Vijay"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664727843,"creation_date":1664727843,"answer_id":73927480,"question_id":73926952,"body_markdown":"    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class hello {\r\n        public static JFrame window;\r\n        public static JPanel panel;\r\n        public static JButton zero;\r\n        public static JButton one;\r\n    \r\n        public static void main(String[] args) {\r\n            window = new JFrame(&quot;idk&quot;);  \r\n            window.setSize(400, 200);\r\n            //window.setLocationRelativeTo(null);\r\n            //window.setVisible(true);\r\n    \r\n            panel = new JPanel();\r\n            //panel.setLayout(null);\r\n            \r\n            JLabel label = new JLabel(&quot;0&quot;);\r\n            label.setSize(399, 35);\r\n            label.setLocation(0, 0);\r\n            label.setBackground(Color.black);\r\n            label.setForeground(Color.white);\r\n            label.setHorizontalAlignment(SwingConstants.RIGHT);\r\n           // label.setOpaque(true);\r\n            //label.setVisible(true);\r\n    \r\n            panel.add(label);\r\n            //panel.setVisible(true);\r\n    \r\n            window.add(panel);\r\n            //window.setVisible(true);\r\n    \r\n      \r\n            zero = new JButton(&quot;0&quot;);\r\n            zero.setSize(64,64);\r\n            zero.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 24));\r\n            zero.setFocusPainted(false);\r\n            zero.setLocation(150,299);\r\n            zero.setBackground(Color.black);\r\n            zero.setForeground(Color.orange);\r\n           // zero.setVisible(true);\r\n            //window.setVisible(true);\r\n    \r\n            panel.add(zero);\r\n           // panel.setVisible(true);\r\n    \r\n           // window.add(zero);\r\n           // window.setVisible(true);\r\n    \r\n            one = new JButton(&quot;1&quot;);\r\n            one.setSize(64,64);\r\n            one.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 24));\r\n            one.setFocusPainted(false);\r\n            one.setLocation(150,299);\r\n            one.setBackground(Color.black);\r\n            one.setForeground(Color.orange);\r\n            //one.setVisible(true);\r\n            window.setVisible(true);\r\n    \r\n            panel.add(one);\r\n           // panel.setVisible(true);\r\n    \r\n            //window.add(one);\r\n            window.setVisible(true);\r\n    \r\n        }\r\n    }\r\nyou need to understand the concept of layout managers esp BorderLayout and FlowLayout. Layout managers are responsible for managing the placement of the comnponent on to the containers. BorderLayout is the drfault layout manager of JFrame. if you add multiple components to the JFrame you will see the last component as it will occupy the whole space of the JFrame.  FlowLayout is the default layout manager of JPanel.It places the components side by side. One point is that we do not need to set the visiblility of each of the individual components usually , It means when you add components to the container and if the container is visible then the added components will also become visible automatically. Another point is that usually we add components to the container once and the container to the other container if there is such need. so here JPanel instance is the container which are being added to the container Jframe   instance","title":"how to add multiple buttons to a calculator in java","body":"<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class hello {\n    public static JFrame window;\n    public static JPanel panel;\n    public static JButton zero;\n    public static JButton one;\n\n    public static void main(String[] args) {\n        window = new JFrame(&quot;idk&quot;);  \n        window.setSize(400, 200);\n        //window.setLocationRelativeTo(null);\n        //window.setVisible(true);\n\n        panel = new JPanel();\n        //panel.setLayout(null);\n        \n        JLabel label = new JLabel(&quot;0&quot;);\n        label.setSize(399, 35);\n        label.setLocation(0, 0);\n        label.setBackground(Color.black);\n        label.setForeground(Color.white);\n        label.setHorizontalAlignment(SwingConstants.RIGHT);\n       // label.setOpaque(true);\n        //label.setVisible(true);\n\n        panel.add(label);\n        //panel.setVisible(true);\n\n        window.add(panel);\n        //window.setVisible(true);\n\n  \n        zero = new JButton(&quot;0&quot;);\n        zero.setSize(64,64);\n        zero.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 24));\n        zero.setFocusPainted(false);\n        zero.setLocation(150,299);\n        zero.setBackground(Color.black);\n        zero.setForeground(Color.orange);\n       // zero.setVisible(true);\n        //window.setVisible(true);\n\n        panel.add(zero);\n       // panel.setVisible(true);\n\n       // window.add(zero);\n       // window.setVisible(true);\n\n        one = new JButton(&quot;1&quot;);\n        one.setSize(64,64);\n        one.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 24));\n        one.setFocusPainted(false);\n        one.setLocation(150,299);\n        one.setBackground(Color.black);\n        one.setForeground(Color.orange);\n        //one.setVisible(true);\n        window.setVisible(true);\n\n        panel.add(one);\n       // panel.setVisible(true);\n\n        //window.add(one);\n        window.setVisible(true);\n\n    }\n}\n</code></pre>\n<p>you need to understand the concept of layout managers esp BorderLayout and FlowLayout. Layout managers are responsible for managing the placement of the comnponent on to the containers. BorderLayout is the drfault layout manager of JFrame. if you add multiple components to the JFrame you will see the last component as it will occupy the whole space of the JFrame.  FlowLayout is the default layout manager of JPanel.It places the components side by side. One point is that we do not need to set the visiblility of each of the individual components usually , It means when you add components to the container and if the container is visible then the added components will also become visible automatically. Another point is that usually we add components to the container once and the container to the other container if there is such need. so here JPanel instance is the container which are being added to the container Jframe   instance</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664883309,"creation_date":1664883309,"answer_id":73947295,"question_id":73926952,"body_markdown":"You don&#39;t need to explicitly call `setVisible(true)` since this is the default for most [Component](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html)s &amp;ndash; one exception being `JFrame` where you do need to explicitly call `setVisible(true)`. However, you should call it only once and only after you have added all the components to it. You should also explicitly call [setDefaultCloseOperation](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JFrame.html#setDefaultCloseOperation(int)).\r\n\r\nThe default [layout manager](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for [the [content pane](https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html) of] `JFrame` is [BorderLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/border.html) and when you add a component to a container using `BorderLayout`, without a [constraint](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Container.html#add(java.awt.Component,java.lang.Object)), it gets added to the [CENTER](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/BorderLayout.html#CENTER) and the CENTER takes up as much space as it can. Since you are only adding a single `JPanel` to the `JFrame`, it takes up the whole window.\r\n\r\n&gt; I think the problem is that the button `one` is under button `zero`.\r\n\r\nCorrect, since you give both buttons the exact same size and the exact same location.\r\n\r\nI suggest using [GridLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html) for the calculator buttons.\r\n\r\nNext, you need to add [ActionListener](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html)s to the buttons. Since Java 8, this can be done using [method references](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html)\r\n\r\nComponents that you need to manipulate in `ActionListener`s should usually be [instance] members, i.e. non-static members, of the class.\r\n\r\nBelow is a sample calculator application. It assumes that the user enters a number, followed by one of the arithmetic operators, followed by another number after which the user presses the `=` button. It is not production-ready, it is simply intended to help get you started.\r\n\r\n(More notes after the code.)\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Font;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyEvent;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JMenu;\r\nimport javax.swing.JMenuBar;\r\nimport javax.swing.JMenuItem;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingConstants;\r\n\r\npublic class Hello {\r\n    enum Operator {\r\n        ADD(&quot;\\u002B&quot;), DIVIDE(&quot;\\u00F7&quot;), MULTIPLY(&quot;\\u00D7&quot;), SUBTRACT(&quot;\\u2212&quot;);\r\n\r\n        private String symbol;\r\n\r\n        private Operator(String sign) {\r\n            symbol = sign;\r\n        }\r\n\r\n        public String getSymbol() {\r\n            return symbol;\r\n        }\r\n    }\r\n\r\n    private static final String BLANK = &quot;                          &quot;;\r\n\r\n    private boolean solution;\r\n    private Integer operand1;\r\n    private Integer operand2;\r\n    private JFrame frame;\r\n    private JLabel label;\r\n    private Operator operator;\r\n\r\n    private void add(ActionEvent event) {\r\n        operator = Operator.ADD;\r\n        addSymbol();\r\n    }\r\n\r\n    private void addSymbol() {\r\n        if (operand1 == null) {\r\n            JOptionPane.showMessageDialog(frame,\r\n                                          &quot;Enter first number.&quot;,\r\n                                          &quot;ERROR&quot;,\r\n                                          JOptionPane.ERROR_MESSAGE);\r\n        }\r\n        else {\r\n            String text = label.getText() + operator.getSymbol();\r\n            label.setText(text);\r\n        }\r\n    }\r\n\r\n    private void buildAndDisplayGui() {\r\n        frame = new JFrame(&quot;idk&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createDisplay(), BorderLayout.PAGE_START);\r\n        frame.add(createButtons(), BorderLayout.CENTER);\r\n        frame.setJMenuBar(createMenuBar());\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private void clear() {\r\n        solution = false;\r\n        clear2();\r\n        label.setText(BLANK);\r\n    }\r\n\r\n    public void clear2() {\r\n        operator = null;\r\n        operand1 = null;\r\n        operand2 = null;\r\n    }\r\n\r\n    private JButton createButton(String text, int mnemonic, String tooltip, ActionListener listener) {\r\n        JButton button = new JButton(text);\r\n        if (mnemonic &gt; 0) {\r\n            button.setMnemonic(mnemonic);\r\n        }\r\n        if (tooltip != null) {\r\n            button.setToolTipText(tooltip);\r\n        }\r\n        button.addActionListener(listener);\r\n        button.setFocusPainted(false);\r\n        button.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 24));\r\n        button.setBackground(Color.black);\r\n        button.setForeground(Color.orange);\r\n        return button;\r\n    }\r\n\r\n    private JPanel createButtons() {\r\n        JPanel buttonsPanel = new JPanel(new GridLayout(0, 4));\r\n        buttonsPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n        buttonsPanel.add(createButton(&quot;7&quot;, KeyEvent.VK_7, null, this::showOperand));\r\n        buttonsPanel.add(createButton(&quot;8&quot;, KeyEvent.VK_8, null, this::showOperand));\r\n        buttonsPanel.add(createButton(&quot;9&quot;, KeyEvent.VK_9, null, this::showOperand));\r\n        buttonsPanel.add(createButton(Operator.DIVIDE.getSymbol(), KeyEvent.VK_SLASH, &quot;Divide&quot;, this::divide));\r\n        buttonsPanel.add(createButton(&quot;4&quot;, KeyEvent.VK_4, null, this::showOperand));\r\n        buttonsPanel.add(createButton(&quot;5&quot;, KeyEvent.VK_5, null, this::showOperand));\r\n        buttonsPanel.add(createButton(&quot;6&quot;, KeyEvent.VK_6, null, this::showOperand));\r\n        buttonsPanel.add(createButton(Operator.MULTIPLY.getSymbol(), KeyEvent.VK_X, &quot;Multiply&quot;, this::multiply));\r\n        buttonsPanel.add(createButton(&quot;1&quot;, KeyEvent.VK_4, null, this::showOperand));\r\n        buttonsPanel.add(createButton(&quot;2&quot;, KeyEvent.VK_5, null, this::showOperand));\r\n        buttonsPanel.add(createButton(&quot;3&quot;, KeyEvent.VK_6, null, this::showOperand));\r\n        buttonsPanel.add(createButton(Operator.SUBTRACT.getSymbol(), KeyEvent.VK_X, &quot;Subtract&quot;, this::subtract));\r\n        buttonsPanel.add(createButton(&quot;\\u232B&quot;, KeyEvent.VK_BACK_SPACE, &quot;Erase&quot;, this::erase));\r\n        buttonsPanel.add(createButton(&quot;0&quot;, KeyEvent.VK_0, null, this::showOperand));\r\n        buttonsPanel.add(createButton(&quot;=&quot;, KeyEvent.VK_EQUALS, null, this::performCalculation));\r\n        buttonsPanel.add(createButton(Operator.ADD.getSymbol(), KeyEvent.VK_PLUS, &quot;Add&quot;, this::add));\r\n        return buttonsPanel;\r\n    }\r\n\r\n    private JLabel createDisplay() {\r\n        label = new JLabel(BLANK);\r\n        label.setBackground(Color.black);\r\n        label.setForeground(Color.white);\r\n        label.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 24));\r\n        label.setHorizontalAlignment(SwingConstants.TRAILING);\r\n        label.setOpaque(true);\r\n        return label;\r\n    }\r\n\r\n    private JMenuBar createMenuBar() {\r\n        JMenuBar menuBar = new JMenuBar();\r\n        JMenu menu = new JMenu(&quot;Actions&quot;);\r\n        JMenuItem item = new JMenuItem(&quot;New&quot;);\r\n        item.addActionListener(e -&gt; clear());\r\n        menu.add(item);\r\n        menuBar.add(menu);\r\n        return menuBar;\r\n    }\r\n    \r\n    private void divide(ActionEvent event) {\r\n        operator = Operator.DIVIDE;\r\n        addSymbol();\r\n    }\r\n\r\n    private void erase(ActionEvent event) {\r\n        String text = label.getText().trim();\r\n        int len = text.length();\r\n        String newText;\r\n        if (len &gt; 1) {\r\n            newText = text.substring(0, len - 1);\r\n            if (newText.endsWith(&quot; &quot;)) {\r\n                newText = newText.substring(0, newText.length() - 1);\r\n            }\r\n        }\r\n        else {\r\n            newText = BLANK;\r\n        }\r\n        label.setText(newText);\r\n    }\r\n\r\n    private void multiply(ActionEvent event) {\r\n        operator = Operator.MULTIPLY;\r\n        addSymbol();\r\n    }\r\n\r\n    private void performCalculation(ActionEvent event) {\r\n        Double op1 = Double.valueOf(operand1.doubleValue());\r\n        Double op2 = Double.valueOf(operand2.doubleValue());\r\n        Double result;\r\n        switch (operator) {\r\n            case ADD:\r\n                result = op1 + op2;\r\n                break;\r\n            case DIVIDE:\r\n                result = op1 / op2;\r\n                break;\r\n            case MULTIPLY:\r\n                result = op1 * op2;\r\n                break;\r\n            case SUBTRACT:\r\n                result = op1 - op2;\r\n                break;\r\n            default:\r\n                result = null;\r\n                JOptionPane.showMessageDialog(frame,\r\n                                              &quot;Unhandled operator: &quot; + operator,\r\n                                              &quot;WARNING&quot;,\r\n                                              JOptionPane.WARNING_MESSAGE);\r\n        }\r\n        if (result != null) {\r\n            label.setText(result.toString());\r\n        }\r\n        solution = true;\r\n        clear2();\r\n    }\r\n\r\n    private void showOperand(ActionEvent event) {\r\n        if (solution) {\r\n            label.setText(&quot;&quot;);\r\n            solution = false;\r\n        }\r\n        String digit = event.getActionCommand();\r\n        String number = label.getText();\r\n        if (number.isBlank()) {\r\n            number = number.trim();\r\n        }\r\n        String text = number + digit;\r\n        if (operator == null) {\r\n            operand1 = Integer.parseInt(text);\r\n        }\r\n        else {\r\n            int ndx = number.indexOf(operator.getSymbol());\r\n            int len = number.length();\r\n            if (len &gt; ndx + 1) {\r\n                operand2 = Integer.parseInt(text.substring(ndx + 1));\r\n            }\r\n            else {\r\n                operand2 = Integer.parseInt(digit);\r\n            }\r\n        }\r\n        label.setText(text);\r\n    }\r\n\r\n    private void subtract(ActionEvent event) {\r\n        operator = Operator.SUBTRACT;\r\n        addSymbol();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new Hello().buildAndDisplayGui());\r\n    }\r\n}\r\n```\r\n- It is recommended to adhere to [Java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html), hence I named the class `Hello` (rather than `hello`).\r\n- I explicitly launch the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html) (EDT). Although not required, it is recommended.\r\n- The argument to method `invokeLater` is a [lambda expression](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html)\r\n- I created an [enum](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html) for the [arithmetic] operators.\r\n- I used *Dialog* [font](https://docs.oracle.com/javase/tutorial/2d/text/fonts.html) since *Arial* didn&#39;t display the [Unicode] [erase](https://unicode-table.com/en/232B/) symbol.\r\n- The operands are `int` so they can&#39;t be larger than around two billion.\r\n- Rather than adding more buttons that are usually found on a [calculator](https://www.online-calculator.com/), I added a [menu](https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html).\r\n- Whenever I set the text of `label` to an empty string, it is not displayed. Hence the use of constant `BLANK`.","title":"how to add multiple buttons to a calculator in java","body":"<p>You don't need to explicitly call <code>setVisible(true)</code> since this is the default for most <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html\" rel=\"nofollow noreferrer\">Component</a>s – one exception being <code>JFrame</code> where you do need to explicitly call <code>setVisible(true)</code>. However, you should call it only once and only after you have added all the components to it. You should also explicitly call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JFrame.html#setDefaultCloseOperation(int)\" rel=\"nofollow noreferrer\">setDefaultCloseOperation</a>.</p>\n<p>The default <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout manager</a> for [the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow noreferrer\">content pane</a> of] <code>JFrame</code> is <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/border.html\" rel=\"nofollow noreferrer\">BorderLayout</a> and when you add a component to a container using <code>BorderLayout</code>, without a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Container.html#add(java.awt.Component,java.lang.Object)\" rel=\"nofollow noreferrer\">constraint</a>, it gets added to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/BorderLayout.html#CENTER\" rel=\"nofollow noreferrer\">CENTER</a> and the CENTER takes up as much space as it can. Since you are only adding a single <code>JPanel</code> to the <code>JFrame</code>, it takes up the whole window.</p>\n<blockquote>\n<p>I think the problem is that the button <code>one</code> is under button <code>zero</code>.</p>\n</blockquote>\n<p>Correct, since you give both buttons the exact same size and the exact same location.</p>\n<p>I suggest using <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\" rel=\"nofollow noreferrer\">GridLayout</a> for the calculator buttons.</p>\n<p>Next, you need to add <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">ActionListener</a>s to the buttons. Since Java 8, this can be done using <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a></p>\n<p>Components that you need to manipulate in <code>ActionListener</code>s should usually be [instance] members, i.e. non-static members, of the class.</p>\n<p>Below is a sample calculator application. It assumes that the user enters a number, followed by one of the arithmetic operators, followed by another number after which the user presses the <code>=</code> button. It is not production-ready, it is simply intended to help get you started.</p>\n<p>(More notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.SwingConstants;\n\npublic class Hello {\n    enum Operator {\n        ADD(&quot;\\u002B&quot;), DIVIDE(&quot;\\u00F7&quot;), MULTIPLY(&quot;\\u00D7&quot;), SUBTRACT(&quot;\\u2212&quot;);\n\n        private String symbol;\n\n        private Operator(String sign) {\n            symbol = sign;\n        }\n\n        public String getSymbol() {\n            return symbol;\n        }\n    }\n\n    private static final String BLANK = &quot;                          &quot;;\n\n    private boolean solution;\n    private Integer operand1;\n    private Integer operand2;\n    private JFrame frame;\n    private JLabel label;\n    private Operator operator;\n\n    private void add(ActionEvent event) {\n        operator = Operator.ADD;\n        addSymbol();\n    }\n\n    private void addSymbol() {\n        if (operand1 == null) {\n            JOptionPane.showMessageDialog(frame,\n                                          &quot;Enter first number.&quot;,\n                                          &quot;ERROR&quot;,\n                                          JOptionPane.ERROR_MESSAGE);\n        }\n        else {\n            String text = label.getText() + operator.getSymbol();\n            label.setText(text);\n        }\n    }\n\n    private void buildAndDisplayGui() {\n        frame = new JFrame(&quot;idk&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createDisplay(), BorderLayout.PAGE_START);\n        frame.add(createButtons(), BorderLayout.CENTER);\n        frame.setJMenuBar(createMenuBar());\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private void clear() {\n        solution = false;\n        clear2();\n        label.setText(BLANK);\n    }\n\n    public void clear2() {\n        operator = null;\n        operand1 = null;\n        operand2 = null;\n    }\n\n    private JButton createButton(String text, int mnemonic, String tooltip, ActionListener listener) {\n        JButton button = new JButton(text);\n        if (mnemonic &gt; 0) {\n            button.setMnemonic(mnemonic);\n        }\n        if (tooltip != null) {\n            button.setToolTipText(tooltip);\n        }\n        button.addActionListener(listener);\n        button.setFocusPainted(false);\n        button.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 24));\n        button.setBackground(Color.black);\n        button.setForeground(Color.orange);\n        return button;\n    }\n\n    private JPanel createButtons() {\n        JPanel buttonsPanel = new JPanel(new GridLayout(0, 4));\n        buttonsPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        buttonsPanel.add(createButton(&quot;7&quot;, KeyEvent.VK_7, null, this::showOperand));\n        buttonsPanel.add(createButton(&quot;8&quot;, KeyEvent.VK_8, null, this::showOperand));\n        buttonsPanel.add(createButton(&quot;9&quot;, KeyEvent.VK_9, null, this::showOperand));\n        buttonsPanel.add(createButton(Operator.DIVIDE.getSymbol(), KeyEvent.VK_SLASH, &quot;Divide&quot;, this::divide));\n        buttonsPanel.add(createButton(&quot;4&quot;, KeyEvent.VK_4, null, this::showOperand));\n        buttonsPanel.add(createButton(&quot;5&quot;, KeyEvent.VK_5, null, this::showOperand));\n        buttonsPanel.add(createButton(&quot;6&quot;, KeyEvent.VK_6, null, this::showOperand));\n        buttonsPanel.add(createButton(Operator.MULTIPLY.getSymbol(), KeyEvent.VK_X, &quot;Multiply&quot;, this::multiply));\n        buttonsPanel.add(createButton(&quot;1&quot;, KeyEvent.VK_4, null, this::showOperand));\n        buttonsPanel.add(createButton(&quot;2&quot;, KeyEvent.VK_5, null, this::showOperand));\n        buttonsPanel.add(createButton(&quot;3&quot;, KeyEvent.VK_6, null, this::showOperand));\n        buttonsPanel.add(createButton(Operator.SUBTRACT.getSymbol(), KeyEvent.VK_X, &quot;Subtract&quot;, this::subtract));\n        buttonsPanel.add(createButton(&quot;\\u232B&quot;, KeyEvent.VK_BACK_SPACE, &quot;Erase&quot;, this::erase));\n        buttonsPanel.add(createButton(&quot;0&quot;, KeyEvent.VK_0, null, this::showOperand));\n        buttonsPanel.add(createButton(&quot;=&quot;, KeyEvent.VK_EQUALS, null, this::performCalculation));\n        buttonsPanel.add(createButton(Operator.ADD.getSymbol(), KeyEvent.VK_PLUS, &quot;Add&quot;, this::add));\n        return buttonsPanel;\n    }\n\n    private JLabel createDisplay() {\n        label = new JLabel(BLANK);\n        label.setBackground(Color.black);\n        label.setForeground(Color.white);\n        label.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 24));\n        label.setHorizontalAlignment(SwingConstants.TRAILING);\n        label.setOpaque(true);\n        return label;\n    }\n\n    private JMenuBar createMenuBar() {\n        JMenuBar menuBar = new JMenuBar();\n        JMenu menu = new JMenu(&quot;Actions&quot;);\n        JMenuItem item = new JMenuItem(&quot;New&quot;);\n        item.addActionListener(e -&gt; clear());\n        menu.add(item);\n        menuBar.add(menu);\n        return menuBar;\n    }\n    \n    private void divide(ActionEvent event) {\n        operator = Operator.DIVIDE;\n        addSymbol();\n    }\n\n    private void erase(ActionEvent event) {\n        String text = label.getText().trim();\n        int len = text.length();\n        String newText;\n        if (len &gt; 1) {\n            newText = text.substring(0, len - 1);\n            if (newText.endsWith(&quot; &quot;)) {\n                newText = newText.substring(0, newText.length() - 1);\n            }\n        }\n        else {\n            newText = BLANK;\n        }\n        label.setText(newText);\n    }\n\n    private void multiply(ActionEvent event) {\n        operator = Operator.MULTIPLY;\n        addSymbol();\n    }\n\n    private void performCalculation(ActionEvent event) {\n        Double op1 = Double.valueOf(operand1.doubleValue());\n        Double op2 = Double.valueOf(operand2.doubleValue());\n        Double result;\n        switch (operator) {\n            case ADD:\n                result = op1 + op2;\n                break;\n            case DIVIDE:\n                result = op1 / op2;\n                break;\n            case MULTIPLY:\n                result = op1 * op2;\n                break;\n            case SUBTRACT:\n                result = op1 - op2;\n                break;\n            default:\n                result = null;\n                JOptionPane.showMessageDialog(frame,\n                                              &quot;Unhandled operator: &quot; + operator,\n                                              &quot;WARNING&quot;,\n                                              JOptionPane.WARNING_MESSAGE);\n        }\n        if (result != null) {\n            label.setText(result.toString());\n        }\n        solution = true;\n        clear2();\n    }\n\n    private void showOperand(ActionEvent event) {\n        if (solution) {\n            label.setText(&quot;&quot;);\n            solution = false;\n        }\n        String digit = event.getActionCommand();\n        String number = label.getText();\n        if (number.isBlank()) {\n            number = number.trim();\n        }\n        String text = number + digit;\n        if (operator == null) {\n            operand1 = Integer.parseInt(text);\n        }\n        else {\n            int ndx = number.indexOf(operator.getSymbol());\n            int len = number.length();\n            if (len &gt; ndx + 1) {\n                operand2 = Integer.parseInt(text.substring(ndx + 1));\n            }\n            else {\n                operand2 = Integer.parseInt(digit);\n            }\n        }\n        label.setText(text);\n    }\n\n    private void subtract(ActionEvent event) {\n        operator = Operator.SUBTRACT;\n        addSymbol();\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new Hello().buildAndDisplayGui());\n    }\n}\n</code></pre>\n<ul>\n<li>It is recommended to adhere to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>, hence I named the class <code>Hello</code> (rather than <code>hello</code>).</li>\n<li>I explicitly launch the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a> (EDT). Although not required, it is recommended.</li>\n<li>The argument to method <code>invokeLater</code> is a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expression</a></li>\n<li>I created an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">enum</a> for the [arithmetic] operators.</li>\n<li>I used <em>Dialog</em> <a href=\"https://docs.oracle.com/javase/tutorial/2d/text/fonts.html\" rel=\"nofollow noreferrer\">font</a> since <em>Arial</em> didn't display the [Unicode] <a href=\"https://unicode-table.com/en/232B/\" rel=\"nofollow noreferrer\">erase</a> symbol.</li>\n<li>The operands are <code>int</code> so they can't be larger than around two billion.</li>\n<li>Rather than adding more buttons that are usually found on a <a href=\"https://www.online-calculator.com/\" rel=\"nofollow noreferrer\">calculator</a>, I added a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html\" rel=\"nofollow noreferrer\">menu</a>.</li>\n<li>Whenever I set the text of <code>label</code> to an empty string, it is not displayed. Hence the use of constant <code>BLANK</code>.</li>\n</ul>\n"}],"owner":{"account_id":26507932,"reputation":1,"user_id":20143769,"display_name":"Gameboy V"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1664883309,"creation_date":1664723512,"question_id":73926952,"body_markdown":"When I run my code it only shows button `zero` and not button `one` and button `zero` is as big as the window. I&#39;m trying to have 9 buttons in the end and after that a few more for buttons like +, -, and x. In the end I want it to be a calculator. Thanks for helping. I&#39;ve already tried making loops. I&#39;m expecting a finished calculator by next month. I think the problem is that the button `one` is under button `zero`.\r\n```java\r\npublic class hello {\r\n    public static JFrame window;\r\n    public static JPanel panel;\r\n    public static JButton zero;\r\n    public static JButton one;\r\n\r\n    public static void main(String[] args) {\r\n        window = new JFrame(&quot;idk&quot;);\r\n        window.setSize(400, 200);\r\n        window.setLocationRelativeTo(null);\r\n        window.setVisible(true);\r\n\r\n        panel = new JPanel();\r\n        panel.setLayout(null);\r\n        \r\n        JLabel label = new JLabel(&quot;0&quot;);\r\n        label.setSize(399, 35);\r\n        label.setLocation(0, 0);\r\n        label.setBackground(Color.black);\r\n        label.setForeground(Color.white);\r\n        label.setHorizontalAlignment(SwingConstants.RIGHT);\r\n        label.setOpaque(true);\r\n        label.setVisible(true);\r\n\r\n        panel.add(label);\r\n        panel.setVisible(true);\r\n\r\n        window.add(panel);\r\n        window.setVisible(true);\r\n\r\n        zero = new JButton(&quot;0&quot;);\r\n        zero.setSize(64,64);\r\n        zero.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 24));\r\n        zero.setFocusPainted(false);\r\n        zero.setLocation(150,299);\r\n        zero.setBackground(Color.black);\r\n        zero.setForeground(Color.orange);\r\n        zero.setVisible(true);\r\n        window.setVisible(true);\r\n\r\n        panel.add(zero);\r\n        panel.setVisible(true);\r\n\r\n        window.add(zero);\r\n        window.setVisible(true);\r\n\r\n        one = new JButton(&quot;1&quot;);\r\n        one.setSize(64,64);\r\n        one.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 24));\r\n        one.setFocusPainted(false);\r\n        one.setLocation(150,299);\r\n        one.setBackground(Color.black);\r\n        one.setForeground(Color.orange);\r\n        one.setVisible(true);\r\n        window.setVisible(true);\r\n\r\n        panel.add(one);\r\n        panel.setVisible(true);\r\n\r\n        window.add(one);\r\n        window.setVisible(true);\r\n    }\r\n}\r\n``` ","title":"how to add multiple buttons to a calculator in java","body":"<p>When I run my code it only shows button <code>zero</code> and not button <code>one</code> and button <code>zero</code> is as big as the window. I'm trying to have 9 buttons in the end and after that a few more for buttons like +, -, and x. In the end I want it to be a calculator. Thanks for helping. I've already tried making loops. I'm expecting a finished calculator by next month. I think the problem is that the button <code>one</code> is under button <code>zero</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class hello {\n    public static JFrame window;\n    public static JPanel panel;\n    public static JButton zero;\n    public static JButton one;\n\n    public static void main(String[] args) {\n        window = new JFrame(&quot;idk&quot;);\n        window.setSize(400, 200);\n        window.setLocationRelativeTo(null);\n        window.setVisible(true);\n\n        panel = new JPanel();\n        panel.setLayout(null);\n        \n        JLabel label = new JLabel(&quot;0&quot;);\n        label.setSize(399, 35);\n        label.setLocation(0, 0);\n        label.setBackground(Color.black);\n        label.setForeground(Color.white);\n        label.setHorizontalAlignment(SwingConstants.RIGHT);\n        label.setOpaque(true);\n        label.setVisible(true);\n\n        panel.add(label);\n        panel.setVisible(true);\n\n        window.add(panel);\n        window.setVisible(true);\n\n        zero = new JButton(&quot;0&quot;);\n        zero.setSize(64,64);\n        zero.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 24));\n        zero.setFocusPainted(false);\n        zero.setLocation(150,299);\n        zero.setBackground(Color.black);\n        zero.setForeground(Color.orange);\n        zero.setVisible(true);\n        window.setVisible(true);\n\n        panel.add(zero);\n        panel.setVisible(true);\n\n        window.add(zero);\n        window.setVisible(true);\n\n        one = new JButton(&quot;1&quot;);\n        one.setSize(64,64);\n        one.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 24));\n        one.setFocusPainted(false);\n        one.setLocation(150,299);\n        one.setBackground(Color.black);\n        one.setForeground(Color.orange);\n        one.setVisible(true);\n        window.setVisible(true);\n\n        panel.add(one);\n        panel.setVisible(true);\n\n        window.add(one);\n        window.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","kubernetes","datadog"],"answers":[{"tags":[],"owner":{"account_id":7000699,"reputation":162,"user_id":5366828,"display_name":"ambergupta09"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664879189,"creation_date":1664879189,"answer_id":73946486,"question_id":73945870,"body_markdown":"Kubernetes Datadog Agent and Cluster Agent will give you specifics about the nodes and pods. Documentation: https://docs.datadoghq.com/infrastructure/livecontainers/configuration/?tab=helm\r\n\r\nFor specific app metrics, Spring boot metrics can be exported using netflix spectator api. see implementation https://docs.spring.io/spring-metrics/docs/current/public/datadog\r\n\r\nIf you are using dropwizard, see also: https://stackoverflow.com/questions/34398692/spring-boot-metrics-datadog\r\n","title":"Datadog java agent and autodiscovery","body":"<p>Kubernetes Datadog Agent and Cluster Agent will give you specifics about the nodes and pods. Documentation: <a href=\"https://docs.datadoghq.com/infrastructure/livecontainers/configuration/?tab=helm\" rel=\"nofollow noreferrer\">https://docs.datadoghq.com/infrastructure/livecontainers/configuration/?tab=helm</a></p>\n<p>For specific app metrics, Spring boot metrics can be exported using netflix spectator api. see implementation <a href=\"https://docs.spring.io/spring-metrics/docs/current/public/datadog\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-metrics/docs/current/public/datadog</a></p>\n<p>If you are using dropwizard, see also: <a href=\"https://stackoverflow.com/questions/34398692/spring-boot-metrics-datadog\">Spring boot metrics + datadog</a></p>\n"},{"tags":[],"owner":{"account_id":5204361,"reputation":605,"user_id":4162799,"accept_rate":50,"display_name":"Fares"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664880869,"creation_date":1664880869,"answer_id":73946816,"question_id":73945870,"body_markdown":"&gt; do I have to install both the datadog agent on the nodes + the datadog agent on the pods to reach springboot \r\n\r\nIn order to get logs and metrics shipped to datadog, the daemonset datadog agent pods are sufficient to scrape the spring boot pods. With the `openmetrics` integration for instance, just expose the metrics through a `/metrics` path. \r\n\r\nIn order to get traces, you need [to use the datadog java tracing library][1] and configure it, you can start by simply set this env var to `true` for the apps containers `DD_TRACE_ENABLED`  \r\n\r\nHope this helps\r\n\r\n  [1]: https://docs.datadoghq.com/tracing/trace_collection/library_config/java","title":"Datadog java agent and autodiscovery","body":"<blockquote>\n<p>do I have to install both the datadog agent on the nodes + the datadog agent on the pods to reach springboot</p>\n</blockquote>\n<p>In order to get logs and metrics shipped to datadog, the daemonset datadog agent pods are sufficient to scrape the spring boot pods. With the <code>openmetrics</code> integration for instance, just expose the metrics through a <code>/metrics</code> path.</p>\n<p>In order to get traces, you need <a href=\"https://docs.datadoghq.com/tracing/trace_collection/library_config/java\" rel=\"nofollow noreferrer\">to use the datadog java tracing library</a> and configure it, you can start by simply set this env var to <code>true</code> for the apps containers <code>DD_TRACE_ENABLED</code></p>\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":3989434,"reputation":55891,"user_id":3288890,"accept_rate":43,"display_name":"Adiii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664883100,"creation_date":1664882723,"answer_id":73947174,"question_id":73945870,"body_markdown":"Datadog come with deployment and daemonset\r\n\r\n- cluster agent (for Kubernetes metrics) deployment\r\n- daemonset (for traching and logs) daemonset\r\n\r\n```\r\nhelm repo add datadog https://helm.datadoghq.com\r\nhelm repo update\r\nhelm install &lt;RELEASE_NAME&gt; -f values.yaml  --set datadog.apiKey=&lt;DATADOG_API_KEY&gt; datadog/datadog --set targetSystem=&lt;TARGET_SYSTEM&gt;\r\n```\r\n&gt;This chart adds the Datadog Agent to all nodes in your cluster with a **DaemonSet**. It also optionally deploys the kube-state-metrics chart and uses it as an additional source of metrics about the cluster. A few minutes after installation, Datadog begins to report hosts and metrics.\r\n\r\n**Logs:**\r\nFor logs and APM you need some extra config\r\n\r\n```\r\ndatadog:\r\n  logs:\r\n    enabled: true\r\n    containerCollectAll: true\r\n```\r\n\r\n[data-k8-logs-collection][1]\r\n\r\nOnce everything is done, then its time to add auto-discovery\r\nagain no need to install anything for auto-discovery, until you need [APM][2] (profiling)\r\n\r\nAll you need to add\r\n\r\n```\r\n        ad.datadoghq.com/CONTAINER_NAME_TO_MONITOR.check_names: |\r\n          [&quot;openmetrics&quot;]\r\nad.datadoghq.com/CONTAINER_NAME_TO_MONITOR.init_configs: |\r\n          [{}]\r\nad.datadoghq.com/CONTAINER_NAME_TO_MONITOR.instances: |\r\n          [\r\n           {\r\n              &quot;prometheus_url&quot;: &quot;http://%%host%%:5000/internal/metrics&quot;,\r\n              &quot;namespace&quot;: &quot;my_springboot_app&quot;,\r\n              &quot;metrics&quot;: [ &quot;*&quot; ]\r\n            }\r\n          ] \r\n```\r\n\r\nreplace `5000` with the port of the container listening. again this is required to push Prometheus/openmetrics to datadog.\r\n\r\nIf you just need logs, no need for any extra fancy stuff, just `containerCollectAll: true` this is enough for logs collection.\r\n\r\n**APM**\r\n\r\nYou need add JAVA agent, add this in the dockerfile\r\n```\r\nRUN wget --no-check-certificate -O /app/dd-java-agent.jar https://dtdg.co/latest-java-tracer\r\n```\r\nand then you need to update `CMD` to let the agent collect tracing/apm/profiling\r\n\r\n```\r\njava -javaagent:/app/dd-java-agent.jar -Ddd.profiling.enabled=$DD_PROFILING_ENABLED -XX:FlightRecorderOptions=stackdepth=256 -Ddd.logs.injection=$DD_LOGS_INJECTION -Ddd.trace.sample.rate=$DD_TRACE_SAMPLE_RATE -Ddd.service=$DD_SERVICE -Ddd.env=$DD_ENV -J-server -Dhttp.port=5000 -jar sfdc-core.jar\r\n\r\n```\r\n\r\n[trace_collection_java][3]\r\n\r\n\r\n  [1]: https://docs.datadoghq.com/containers/kubernetes/log/?tab=helm\r\n  [2]: https://docs.datadoghq.com/containers/kubernetes/apm/?tab=helm\r\n  [3]: https://docs.datadoghq.com/tracing/trace_collection/dd_libraries/java/?tab=containers","title":"Datadog java agent and autodiscovery","body":"<p>Datadog come with deployment and daemonset</p>\n<ul>\n<li>cluster agent (for Kubernetes metrics) deployment</li>\n<li>daemonset (for traching and logs) daemonset</li>\n</ul>\n<pre><code>helm repo add datadog https://helm.datadoghq.com\nhelm repo update\nhelm install &lt;RELEASE_NAME&gt; -f values.yaml  --set datadog.apiKey=&lt;DATADOG_API_KEY&gt; datadog/datadog --set targetSystem=&lt;TARGET_SYSTEM&gt;\n</code></pre>\n<blockquote>\n<p>This chart adds the Datadog Agent to all nodes in your cluster with a <strong>DaemonSet</strong>. It also optionally deploys the kube-state-metrics chart and uses it as an additional source of metrics about the cluster. A few minutes after installation, Datadog begins to report hosts and metrics.</p>\n</blockquote>\n<p><strong>Logs:</strong>\nFor logs and APM you need some extra config</p>\n<pre><code>datadog:\n  logs:\n    enabled: true\n    containerCollectAll: true\n</code></pre>\n<p><a href=\"https://docs.datadoghq.com/containers/kubernetes/log/?tab=helm\" rel=\"nofollow noreferrer\">data-k8-logs-collection</a></p>\n<p>Once everything is done, then its time to add auto-discovery\nagain no need to install anything for auto-discovery, until you need <a href=\"https://docs.datadoghq.com/containers/kubernetes/apm/?tab=helm\" rel=\"nofollow noreferrer\">APM</a> (profiling)</p>\n<p>All you need to add</p>\n<pre><code>        ad.datadoghq.com/CONTAINER_NAME_TO_MONITOR.check_names: |\n          [&quot;openmetrics&quot;]\nad.datadoghq.com/CONTAINER_NAME_TO_MONITOR.init_configs: |\n          [{}]\nad.datadoghq.com/CONTAINER_NAME_TO_MONITOR.instances: |\n          [\n           {\n              &quot;prometheus_url&quot;: &quot;http://%%host%%:5000/internal/metrics&quot;,\n              &quot;namespace&quot;: &quot;my_springboot_app&quot;,\n              &quot;metrics&quot;: [ &quot;*&quot; ]\n            }\n          ] \n</code></pre>\n<p>replace <code>5000</code> with the port of the container listening. again this is required to push Prometheus/openmetrics to datadog.</p>\n<p>If you just need logs, no need for any extra fancy stuff, just <code>containerCollectAll: true</code> this is enough for logs collection.</p>\n<p><strong>APM</strong></p>\n<p>You need add JAVA agent, add this in the dockerfile</p>\n<pre><code>RUN wget --no-check-certificate -O /app/dd-java-agent.jar https://dtdg.co/latest-java-tracer\n</code></pre>\n<p>and then you need to update <code>CMD</code> to let the agent collect tracing/apm/profiling</p>\n<pre><code>java -javaagent:/app/dd-java-agent.jar -Ddd.profiling.enabled=$DD_PROFILING_ENABLED -XX:FlightRecorderOptions=stackdepth=256 -Ddd.logs.injection=$DD_LOGS_INJECTION -Ddd.trace.sample.rate=$DD_TRACE_SAMPLE_RATE -Ddd.service=$DD_SERVICE -Ddd.env=$DD_ENV -J-server -Dhttp.port=5000 -jar sfdc-core.jar\n\n</code></pre>\n<p><a href=\"https://docs.datadoghq.com/tracing/trace_collection/dd_libraries/java/?tab=containers\" rel=\"nofollow noreferrer\">trace_collection_java</a></p>\n"}],"owner":{"account_id":8705451,"reputation":479,"user_id":6513656,"display_name":"Matthew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73947174,"answer_count":3,"score":1,"last_activity_date":1664883100,"creation_date":1664875974,"question_id":73945870,"body_markdown":"I&#39;ll need to monitor java springboot containers on kubernetes.\r\n\r\nI&#39;ll probably use the [installation process using helm][1] to deploy the agent on the nodes.\r\n\r\nI&#39;ll probably use the [annotations on pods][2] to avoid configuration file managements\r\n\r\nI saw in the documentation that there was a jar client that you can add to each pod to monitor the containers.\r\n\r\nIf I need to monitor a springboot application, do I have to install both the datadog agent on the nodes + the datadog agent on the pods to reach springboot\r\nOR will the datadog agent on the nodes be allowed to monitor a springboot agent turning into a pod using only annotations and environnement variables ?\r\n\r\n  [1]: https://docs.datadoghq.com/fr/containers/kubernetes/installation/?tab=helm\r\n  [2]: https://docs.datadoghq.com/getting_started/containers/autodiscovery/","title":"Datadog java agent and autodiscovery","body":"<p>I'll need to monitor java springboot containers on kubernetes.</p>\n<p>I'll probably use the <a href=\"https://docs.datadoghq.com/fr/containers/kubernetes/installation/?tab=helm\" rel=\"nofollow noreferrer\">installation process using helm</a> to deploy the agent on the nodes.</p>\n<p>I'll probably use the <a href=\"https://docs.datadoghq.com/getting_started/containers/autodiscovery/\" rel=\"nofollow noreferrer\">annotations on pods</a> to avoid configuration file managements</p>\n<p>I saw in the documentation that there was a jar client that you can add to each pod to monitor the containers.</p>\n<p>If I need to monitor a springboot application, do I have to install both the datadog agent on the nodes + the datadog agent on the pods to reach springboot\nOR will the datadog agent on the nodes be allowed to monitor a springboot agent turning into a pod using only annotations and environnement variables ?</p>\n"},{"tags":["java","log4j","weblogic","weblogic12c"],"answers":[{"tags":[],"owner":{"account_id":441141,"reputation":277,"user_id":831081,"accept_rate":65,"display_name":"wassim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664882776,"creation_date":1664882776,"answer_id":73947183,"question_id":73878666,"body_markdown":"So the issue got solved by updating the weblogic.xml file under the war file to specify the &quot;prefer-application-packages&quot; of log4j.properties as below\r\n\r\n\t&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n\t&lt;weblogic-web-app xmlns=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.3/weblogic-web-app.xsd&quot;&gt;\r\n\t\t&lt;session-descriptor/&gt;\r\n\t\t&lt;jsp-descriptor/&gt;\r\n\t\t&lt;container-descriptor&gt;\r\n\t\t\t&lt;prefer-application-packages&gt;\r\n\t\t\t\t&lt;package-name&gt;org.apache.commons.*&lt;/package-name&gt;\r\n\t\t\t\t&lt;package-name&gt;org.slf4j.*&lt;/package-name&gt;\r\n\t\t\t&lt;/prefer-application-packages&gt;\r\n\t\t&lt;/container-descriptor&gt;\r\n\t\t&lt;context-root&gt;test-context-root&lt;/context-root&gt;\r\n\t&lt;/weblogic-web-app&gt;","title":"log4j.properties loaded but not used Weblogic 12c","body":"<p>So the issue got solved by updating the weblogic.xml file under the war file to specify the &quot;prefer-application-packages&quot; of log4j.properties as below</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;weblogic-web-app xmlns=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.3/weblogic-web-app.xsd&quot;&gt;\n    &lt;session-descriptor/&gt;\n    &lt;jsp-descriptor/&gt;\n    &lt;container-descriptor&gt;\n        &lt;prefer-application-packages&gt;\n            &lt;package-name&gt;org.apache.commons.*&lt;/package-name&gt;\n            &lt;package-name&gt;org.slf4j.*&lt;/package-name&gt;\n        &lt;/prefer-application-packages&gt;\n    &lt;/container-descriptor&gt;\n    &lt;context-root&gt;test-context-root&lt;/context-root&gt;\n&lt;/weblogic-web-app&gt;\n</code></pre>\n"}],"owner":{"account_id":441141,"reputation":277,"user_id":831081,"accept_rate":65,"display_name":"wassim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73947183,"answer_count":1,"score":0,"last_activity_date":1664882776,"creation_date":1664355096,"question_id":73878666,"body_markdown":"I have a war file (web-services) deployed on weblogic 12c that reads the log4j.properties file but doesn&#39;t use it. Below is the debug of log4j on application startup showing the parsing of the file and the setting but the logs are not being written to the log file specified and the ones in stdout do not match the pattern specified and the levels configured.\r\n\r\n\r\n\tlog4j: Reading configuration from URL file:////weblogic/apps/config/ws/log4j.properties\r\n\tlog4j: Parsing for [root] with value=[WARN, stdout, wslogfile].\r\n\tlog4j: Level token is [WARN].\r\n\tlog4j: Category root set to WARN\r\n\tlog4j: Parsing appender named &quot;stdout&quot;.\r\n\tlog4j: Parsing layout options for &quot;stdout&quot;.\r\n\tlog4j: Setting property [conversionPattern] to [%d %6.6p [%30.30c{1}][%10.10t] %m%n].\r\n\tlog4j: End of parsing for &quot;stdout&quot;.\r\n\tlog4j: Parsed &quot;stdout&quot; options.\r\n\tlog4j: Parsing appender named &quot;wslogfile&quot;.\r\n\tlog4j: Parsing layout options for &quot;wslogfile&quot;.\r\n\tlog4j: Setting property [conversionPattern] to [%d %6.6p [%30.30c{1}][%10.10t] %m%n].\r\n\tlog4j: End of parsing for &quot;wslogfile&quot;.\r\n\tlog4j: Setting property [file] to [/weblogic/apps/logs/ws.log].\r\n\tlog4j: Setting property [datePattern] to [&#39;.&#39;yyyy-MM-dd].\r\n\tlog4j: setFile called: /weblogic/apps/logs/ws.log, true\r\n\tlog4j: setFile ended\r\n\tlog4j: Appender [wslogfile] to be rolled at midnight.\r\n\tlog4j: Parsed &quot;wslogfile&quot; options.\r\n\tlog4j: Parsing for [com.app] with value=[DEBUG, stdout, wslogfile].\r\n\tlog4j: Level token is [DEBUG].\r\n\tlog4j: Category com.app set to DEBUG\r\n\tlog4j: Parsing appender named &quot;stdout&quot;.\r\n\tlog4j: Appender &quot;stdout&quot; was already parsed.\r\n\tlog4j: Parsing appender named &quot;wslogfile&quot;.\r\n\tlog4j: Appender &quot;wslogfile&quot; was already parsed.\r\n\tlog4j: Handling log4j.additivity.com.app=[false]\r\n\tlog4j: Setting additivity for &quot;com.app&quot; to false\r\n\tlog4j: Parsing for [com.comp] with value=[DEBUG, stdout, wslogfile].\r\n\tlog4j: Level token is [DEBUG].\r\n\tlog4j: Category com.comp set to DEBUG\r\n\tlog4j: Parsing appender named &quot;stdout&quot;.\r\n\tlog4j: Appender &quot;stdout&quot; was already parsed.\r\n\tlog4j: Parsing appender named &quot;wslogfile&quot;.\r\n\tlog4j: Appender &quot;wslogfile&quot; was already parsed.\r\n\tlog4j: Handling log4j.additivity.com.comp=[false]\r\n\tlog4j: Setting additivity for &quot;com.comp&quot; to false\r\n\tlog4j: Parsing for [org.springframework.ws.server.MessageTracing.received] with value=[TRACE, stdout, wslogfile].\r\n\tlog4j: Level token is [TRACE].\r\n\tlog4j: Category org.springframework.ws.server.MessageTracing.received set to TRACE\r\n\tlog4j: Parsing appender named &quot;stdout&quot;.\r\n\tlog4j: Appender &quot;stdout&quot; was already parsed.\r\n\tlog4j: Parsing appender named &quot;wslogfile&quot;.\r\n\tlog4j: Appender &quot;wslogfile&quot; was already parsed.\r\n\tlog4j: Handling log4j.additivity.org.springframework.ws.server.MessageTracing.received=[false]\r\n\tlog4j: Setting additivity for &quot;org.springframework.ws.server.MessageTracing.received&quot; to false\r\n\tlog4j: Finished configuring.\r\n\r\nMy log4j.properties is as below\r\n\tlog4j.rootLogger=WARN, stdout, wslogfile\r\n\t\r\n\tlog4j.logger.com.app=DEBUG, stdout, wslogfile\r\n\tlog4j.additivity.com.app=false\r\n\t\r\n\tlog4j.logger.com.comp=DEBUG, stdout, wslogfile\r\n\tlog4j.additivity.com.comp=false\r\n\t\r\n\tlog4j.logger.org.springframework.ws.server.MessageTracing.received=TRACE, stdout, wslogfile\r\n\tlog4j.additivity.org.springframework.ws.server.MessageTracing.received=false\r\n\t\r\n\tlog4j.appender.wslogfile=org.apache.log4j.DailyRollingFileAppender\r\n\tlog4j.appender.wslogfile.File=/weblogic/apps/logs/ws.log\r\n\tlog4j.appender.wslogfile.DatePattern=&#39;.&#39;yyyy-MM-dd\r\n\tlog4j.appender.wslogfile.layout=org.apache.log4j.PatternLayout\r\n\tlog4j.appender.wslogfile.layout.ConversionPattern=%d %6.6p [%30.30c{1}][%10.10t] %m%n\r\n\t\r\n\tlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n\tlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n\tlog4j.appender.stdout.layout.ConversionPattern=%d %6.6p [%30.30c{1}][%10.10t] %m%n\r\n\r\nSample output of the logs (only showing in stdout)\r\n\r\n\tSep 28, 2022 11:42:17 AM org.springframework.web.servlet.FrameworkServlet initServletBean\r\n\tINFO: FrameworkServlet &#39;spring-ws&#39;: initialization started\r\n\tSep 28, 2022 11:42:17 AM org.springframework.context.support.AbstractApplicationContext prepareRefresh\r\n\tINFO: Refreshing WebApplicationContext for namespace &#39;spring-ws-servlet&#39;: startup date [Wed Sep 28 11:42:17 AST 2022]; root of context hierarchy\r\n\tSep 28, 2022 11:42:17 AM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\n\tINFO: Loading XML bean definitions from ServletContext resource [/WEB-INF/spring-ws-servlet.xml]\r\n\tSep 28, 2022 11:42:17 AM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\n\tINFO: Loading XML bean definitions from ServletContext resource [/WEB-INF/service-context.xml]\r\n\tSep 28, 2022 11:42:18 AM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\n\tINFO: Loading XML bean definitions from ServletContext resource [/WEB-INF/stmt-client-context.xml]\r\n\r\nMy pom.xml is as below\r\n\r\n\t\t&lt;!-- Logging with SLF4J &amp; LogBack --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.14&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"log4j.properties loaded but not used Weblogic 12c","body":"<p>I have a war file (web-services) deployed on weblogic 12c that reads the log4j.properties file but doesn't use it. Below is the debug of log4j on application startup showing the parsing of the file and the setting but the logs are not being written to the log file specified and the ones in stdout do not match the pattern specified and the levels configured.</p>\n<pre><code>log4j: Reading configuration from URL file:////weblogic/apps/config/ws/log4j.properties\nlog4j: Parsing for [root] with value=[WARN, stdout, wslogfile].\nlog4j: Level token is [WARN].\nlog4j: Category root set to WARN\nlog4j: Parsing appender named &quot;stdout&quot;.\nlog4j: Parsing layout options for &quot;stdout&quot;.\nlog4j: Setting property [conversionPattern] to [%d %6.6p [%30.30c{1}][%10.10t] %m%n].\nlog4j: End of parsing for &quot;stdout&quot;.\nlog4j: Parsed &quot;stdout&quot; options.\nlog4j: Parsing appender named &quot;wslogfile&quot;.\nlog4j: Parsing layout options for &quot;wslogfile&quot;.\nlog4j: Setting property [conversionPattern] to [%d %6.6p [%30.30c{1}][%10.10t] %m%n].\nlog4j: End of parsing for &quot;wslogfile&quot;.\nlog4j: Setting property [file] to [/weblogic/apps/logs/ws.log].\nlog4j: Setting property [datePattern] to ['.'yyyy-MM-dd].\nlog4j: setFile called: /weblogic/apps/logs/ws.log, true\nlog4j: setFile ended\nlog4j: Appender [wslogfile] to be rolled at midnight.\nlog4j: Parsed &quot;wslogfile&quot; options.\nlog4j: Parsing for [com.app] with value=[DEBUG, stdout, wslogfile].\nlog4j: Level token is [DEBUG].\nlog4j: Category com.app set to DEBUG\nlog4j: Parsing appender named &quot;stdout&quot;.\nlog4j: Appender &quot;stdout&quot; was already parsed.\nlog4j: Parsing appender named &quot;wslogfile&quot;.\nlog4j: Appender &quot;wslogfile&quot; was already parsed.\nlog4j: Handling log4j.additivity.com.app=[false]\nlog4j: Setting additivity for &quot;com.app&quot; to false\nlog4j: Parsing for [com.comp] with value=[DEBUG, stdout, wslogfile].\nlog4j: Level token is [DEBUG].\nlog4j: Category com.comp set to DEBUG\nlog4j: Parsing appender named &quot;stdout&quot;.\nlog4j: Appender &quot;stdout&quot; was already parsed.\nlog4j: Parsing appender named &quot;wslogfile&quot;.\nlog4j: Appender &quot;wslogfile&quot; was already parsed.\nlog4j: Handling log4j.additivity.com.comp=[false]\nlog4j: Setting additivity for &quot;com.comp&quot; to false\nlog4j: Parsing for [org.springframework.ws.server.MessageTracing.received] with value=[TRACE, stdout, wslogfile].\nlog4j: Level token is [TRACE].\nlog4j: Category org.springframework.ws.server.MessageTracing.received set to TRACE\nlog4j: Parsing appender named &quot;stdout&quot;.\nlog4j: Appender &quot;stdout&quot; was already parsed.\nlog4j: Parsing appender named &quot;wslogfile&quot;.\nlog4j: Appender &quot;wslogfile&quot; was already parsed.\nlog4j: Handling log4j.additivity.org.springframework.ws.server.MessageTracing.received=[false]\nlog4j: Setting additivity for &quot;org.springframework.ws.server.MessageTracing.received&quot; to false\nlog4j: Finished configuring.\n</code></pre>\n<p>My log4j.properties is as below\nlog4j.rootLogger=WARN, stdout, wslogfile</p>\n<pre><code>log4j.logger.com.app=DEBUG, stdout, wslogfile\nlog4j.additivity.com.app=false\n\nlog4j.logger.com.comp=DEBUG, stdout, wslogfile\nlog4j.additivity.com.comp=false\n\nlog4j.logger.org.springframework.ws.server.MessageTracing.received=TRACE, stdout, wslogfile\nlog4j.additivity.org.springframework.ws.server.MessageTracing.received=false\n\nlog4j.appender.wslogfile=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.wslogfile.File=/weblogic/apps/logs/ws.log\nlog4j.appender.wslogfile.DatePattern='.'yyyy-MM-dd\nlog4j.appender.wslogfile.layout=org.apache.log4j.PatternLayout\nlog4j.appender.wslogfile.layout.ConversionPattern=%d %6.6p [%30.30c{1}][%10.10t] %m%n\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d %6.6p [%30.30c{1}][%10.10t] %m%n\n</code></pre>\n<p>Sample output of the logs (only showing in stdout)</p>\n<pre><code>Sep 28, 2022 11:42:17 AM org.springframework.web.servlet.FrameworkServlet initServletBean\nINFO: FrameworkServlet 'spring-ws': initialization started\nSep 28, 2022 11:42:17 AM org.springframework.context.support.AbstractApplicationContext prepareRefresh\nINFO: Refreshing WebApplicationContext for namespace 'spring-ws-servlet': startup date [Wed Sep 28 11:42:17 AST 2022]; root of context hierarchy\nSep 28, 2022 11:42:17 AM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\nINFO: Loading XML bean definitions from ServletContext resource [/WEB-INF/spring-ws-servlet.xml]\nSep 28, 2022 11:42:17 AM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\nINFO: Loading XML bean definitions from ServletContext resource [/WEB-INF/service-context.xml]\nSep 28, 2022 11:42:18 AM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\nINFO: Loading XML bean definitions from ServletContext resource [/WEB-INF/stmt-client-context.xml]\n</code></pre>\n<p>My pom.xml is as below</p>\n<pre><code>    &lt;!-- Logging with SLF4J &amp; LogBack --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;1.7.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.12&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.14&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","security","keystore","jks"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1371738925,"post_id":17216477,"comment_id":24940097,"body_markdown":"Well it sounds like your key store file is too short...","body":"Well it sounds like your key store file is too short..."},{"owner":{"account_id":2894650,"reputation":63,"user_id":2482709,"display_name":"amin"},"score":0,"creation_date":1371739114,"post_id":17216477,"comment_id":24940224,"body_markdown":"hi jon thanks for your response, what do you mean by &quot;my keystore file is too short ??&quot;","body":"hi jon thanks for your response, what do you mean by &quot;my keystore file is too short ??&quot;"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1371739547,"post_id":17216477,"comment_id":24940500,"body_markdown":"Exactly what I say. You&#39;re opening a file as your keystore. It appears not to be a valid, complete keystore file. I&#39;m not sure what else I can say...","body":"Exactly what I say. You&#39;re opening a file as your keystore. It appears not to be a valid, complete keystore file. I&#39;m not sure what else I can say..."},{"owner":{"account_id":2894650,"reputation":63,"user_id":2482709,"display_name":"amin"},"score":1,"creation_date":1371742610,"post_id":17216477,"comment_id":24942451,"body_markdown":"ok i understand what you say, do you have any idea how to resolve it ??","body":"ok i understand what you say, do you have any idea how to resolve it ??"}],"answers":[{"tags":[],"owner":{"account_id":18063421,"reputation":393,"user_id":13129983,"display_name":"kikicoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664882738,"creation_date":1664882738,"answer_id":73947177,"question_id":17216477,"body_markdown":"I just want to post my answer for the future,\r\nI faced the same issue and found the solution ,\r\nthat path you pass for the fileInputStream must be the path of keyStore inside java in my case I was on ubuntu 20.04 and java 11 the path was the following: &quot;/usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts&quot;\r\nin case you are on windows the path will be: &quot;C:/Program Files/Java/jre1.8.0_101/lib/security/cacerts&quot; \r\n\r\nmake sure also that the password will usually be the default and it is like the following word: &quot;changeit&quot; \r\n","title":"error when creating a keystore =&gt; Exception in thread &quot;main&quot; java.io.EOFException at java.io.DataInputStream.readInt(Unknown Source)","body":"<p>I just want to post my answer for the future,\nI faced the same issue and found the solution ,\nthat path you pass for the fileInputStream must be the path of keyStore inside java in my case I was on ubuntu 20.04 and java 11 the path was the following: &quot;/usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts&quot;\nin case you are on windows the path will be: &quot;C:/Program Files/Java/jre1.8.0_101/lib/security/cacerts&quot;</p>\n<p>make sure also that the password will usually be the default and it is like the following word: &quot;changeit&quot;</p>\n"}],"owner":{"account_id":2894650,"reputation":63,"user_id":2482709,"display_name":"amin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2582,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664882738,"creation_date":1371738857,"question_id":17216477,"body_markdown":"the source code that I followed to create a keystore, \r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.security.KeyStore;\r\n    import java.security.cert.Certificate;\r\n    \r\n    public class MainClass {\r\n    \r\n    public static void main(String args[]) throws Exception {\r\n    String pass = &quot;wshr.ut&quot;;\r\n    String alias = &quot;mytest&quot;;\r\n    String name = &quot;mykeystore&quot;;\r\n    \r\n    FileInputStream in = new FileInputStream(name);\r\n    KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\r\n    ks.load(in, pass.toCharArray());\r\n    \r\n    Certificate c = ks.getCertificate(alias);\r\n    in.close();\r\n    System.out.println(c);\r\n    \r\n    }\r\n    }\r\nerror when running:\r\n\r\n    Exception in thread &quot;main&quot; java.io.EOFException\r\n\tat java.io.DataInputStream.readInt(Unknown Source)\r\n\tat sun.security.provider.JavaKeyStore.engineLoad(Unknown Source)\r\n\tat sun.security.provider.JavaKeyStore$JKS.engineLoad(Unknown Source)\r\n\tat java.security.KeyStore.load(Unknown Source)\r\n\tat MainClass.main(MainClass.java:17)\r\n\r\ncan you plz give me any ideas or solutions to reslove this problem ?","title":"error when creating a keystore =&gt; Exception in thread &quot;main&quot; java.io.EOFException at java.io.DataInputStream.readInt(Unknown Source)","body":"<p>the source code that I followed to create a keystore, </p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.security.KeyStore;\nimport java.security.cert.Certificate;\n\npublic class MainClass {\n\npublic static void main(String args[]) throws Exception {\nString pass = \"wshr.ut\";\nString alias = \"mytest\";\nString name = \"mykeystore\";\n\nFileInputStream in = new FileInputStream(name);\nKeyStore ks = KeyStore.getInstance(\"JKS\");\nks.load(in, pass.toCharArray());\n\nCertificate c = ks.getCertificate(alias);\nin.close();\nSystem.out.println(c);\n\n}\n}\n</code></pre>\n\n<p>error when running:</p>\n\n<pre><code>Exception in thread \"main\" java.io.EOFException\nat java.io.DataInputStream.readInt(Unknown Source)\nat sun.security.provider.JavaKeyStore.engineLoad(Unknown Source)\nat sun.security.provider.JavaKeyStore$JKS.engineLoad(Unknown Source)\nat java.security.KeyStore.load(Unknown Source)\nat MainClass.main(MainClass.java:17)\n</code></pre>\n\n<p>can you plz give me any ideas or solutions to reslove this problem ?</p>\n"},{"tags":["java","spring-boot","ssl","https","pkcs#12"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1664884576,"post_id":73947136,"comment_id":130567772,"body_markdown":"Are you asking for a tutorial? What have you tried so far? What hasn&#39;t been working the way you expect?","body":"Are you asking for a tutorial? What have you tried so far? What hasn&#39;t been working the way you expect?"},{"owner":{"account_id":26524602,"reputation":1,"user_id":20157786,"display_name":"nishchith rao"},"score":0,"creation_date":1665143179,"post_id":73947136,"comment_id":130636275,"body_markdown":"I am looking for a tutorial. Most of the tutorial is self signed and not between a real server and client. Kindly help if you have some reference tutorial.","body":"I am looking for a tutorial. Most of the tutorial is self signed and not between a real server and client. Kindly help if you have some reference tutorial."}],"owner":{"account_id":26524602,"reputation":1,"user_id":20157786,"display_name":"nishchith rao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664882553,"creation_date":1664882553,"question_id":73947136,"body_markdown":"We have received crt, pfx and key file from our server team which is a Spring boot application. These are not self signed certificates.\r\n\r\nNow, we are requested to use the certificates and change our code to our server application via HTTPs.\r\n\r\nCan some one please advice how to load these certificates and establish the connection with Java server application.","title":"How to use pfx, crt and key files to connect to Java Spring boot server","body":"<p>We have received crt, pfx and key file from our server team which is a Spring boot application. These are not self signed certificates.</p>\n<p>Now, we are requested to use the certificates and change our code to our server application via HTTPs.</p>\n<p>Can some one please advice how to load these certificates and establish the connection with Java server application.</p>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1664892802,"post_id":73946979,"comment_id":130570889,"body_markdown":"Spring boot profile is not the same as Maven profile. How exactly do you plan to use the Maven profile in Spring profile? See https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html and https://www.baeldung.com/spring-profiles to lear about Spring profiles.","body":"Spring boot profile is not the same as Maven profile. How exactly do you plan to use the Maven profile in Spring profile? See <a href=\"https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/&hellip;</a> and <a href=\"https://www.baeldung.com/spring-profiles\" rel=\"nofollow noreferrer\">baeldung.com/spring-profiles</a> to lear about Spring profiles."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1664916424,"post_id":73946979,"comment_id":130578378,"body_markdown":"Hi Andrey, basically what I want to do is, that when I select profile in IntelliJ, it will be trigger correct profile in maven profiles. (I would like to have profile1 using some maven configuration and profile2 using another) these configurations are also connected with different spring profiles. Hopefully it makes sense.","body":"Hi Andrey, basically what I want to do is, that when I select profile in IntelliJ, it will be trigger correct profile in maven profiles. (I would like to have profile1 using some maven configuration and profile2 using another) these configurations are also connected with different spring profiles. Hopefully it makes sense."}],"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664881655,"creation_date":1664881655,"question_id":73946979,"body_markdown":"I would like to activate maven profile based on the IntelliJ profile I select. I need to use different dependency when running the app locally and when deploying it to server.\r\n\r\nI have these two profiles which select correct version of TimesTen, I would like to use &quot;local&quot; profile when testing the app locally in IntelliJ and the &quot;server&quot; profile when building the app.\r\n\r\n```xml\r\n&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;local&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;org.timesten.version&gt;6&lt;/org.timesten.version&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;server&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;org.timesten.version&gt;11&lt;/org.timesten.version&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n```\r\n\r\nThese are my IntelliJ profiles:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QCRad.png","title":"How to use maven profile based on the IntelliJ profile?","body":"<p>I would like to activate maven profile based on the IntelliJ profile I select. I need to use different dependency when running the app locally and when deploying it to server.</p>\n<p>I have these two profiles which select correct version of TimesTen, I would like to use &quot;local&quot; profile when testing the app locally in IntelliJ and the &quot;server&quot; profile when building the app.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;org.timesten.version&gt;6&lt;/org.timesten.version&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;server&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;org.timesten.version&gt;11&lt;/org.timesten.version&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>These are my IntelliJ profiles:\n<a href=\"https://i.stack.imgur.com/QCRad.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QCRad.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","xml","android-studio","android-11"],"comments":[{"owner":{"account_id":6316309,"reputation":2040,"user_id":4906130,"display_name":"Bhavnik"},"score":1,"creation_date":1664879727,"post_id":73946538,"comment_id":130566227,"body_markdown":"Remove AdView from the scroll view and wrap scroll view and AdView in the Constraint layout.","body":"Remove AdView from the scroll view and wrap scroll view and AdView in the Constraint layout."}],"answers":[{"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664880221,"creation_date":1664880221,"answer_id":73946678,"question_id":73946538,"body_markdown":"This is my suggestion: Put scrollview inside constrainLayout, like this:\r\n```\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot; ...&gt;\r\n\r\n     &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/view&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; ...&gt;\r\n\r\n        //main layout here\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n\r\n    &lt;AdView\r\n        android:id=&quot;@+id/view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"How do I add adView outside of scrollview in android studio?","body":"<p>This is my suggestion: Put scrollview inside constrainLayout, like this:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; ...&gt;\n\n     &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/view&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; ...&gt;\n\n        //main layout here\n\n        &lt;/LinearLayout&gt;\n    &lt;/ScrollView&gt;\n\n    &lt;AdView\n        android:id=&quot;@+id/view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664881333,"creation_date":1664881333,"answer_id":73946910,"question_id":73946538,"body_markdown":"Make your parent layout to LinearLayout, add the AdView to be on the top (width to match the parent and the height to wrap content), add your scrollView (width and height to match parent)\r\n\r\nThe xml will look like this\r\n\r\n```\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;AdView\r\n        android:id=&quot;@+id/view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/view&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        // your layout.\r\n\r\n    &lt;/ScrollView&gt;\r\n&lt;/LinearLayout&gt;\r\n```","title":"How do I add adView outside of scrollview in android studio?","body":"<p>Make your parent layout to LinearLayout, add the AdView to be on the top (width to match the parent and the height to wrap content), add your scrollView (width and height to match parent)</p>\n<p>The xml will look like this</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;AdView\n        android:id=&quot;@+id/view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/view&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        // your layout.\n\n    &lt;/ScrollView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":26402143,"reputation":1,"user_id":20052443,"display_name":"Gavin123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664881333,"creation_date":1664879444,"question_id":73946538,"body_markdown":"I am trying to add a banner add at the bottom of my app but I don&#39;t know how to put it so that it is not affected by the scrollview. I want it to sit at the bottom of my screen without it being \r\naffected by the scroll effect how do I do this, when I try putting the AdView code outside the ScrollView it doesn&#39;t work.\r\nThis is how my activity_main.xml looks like\r\n\r\n   \r\n\r\n    &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/grey&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_margin=&quot;16dp&quot;\r\n            app:cardCornerRadius=&quot;8dp&quot;\r\n            app:cardElevation=&quot;8dp&quot;\r\n            app:cardBackgroundColor=&quot;@color/blue&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n            &lt;androidx.appcompat.widget.SearchView\r\n                android:id=&quot;@+id/search_view&quot;\r\n                app:defaultQueryHint=&quot;Search...&quot;\r\n                app:iconifiedByDefault=&quot;false&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;/&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n            &lt;LinearLayout\r\n            android:layout_margin=&quot;16dp&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n                &lt;TextView\r\n                android:id=&quot;@+id/textView_a&quot;\r\n                android:textSize=&quot;24sp&quot;\r\n                android:text=&quot;A&quot;\r\n                android:textColor=&quot;@color/blue&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:padding=&quot;8dp&quot;\r\n                android:textStyle=&quot;italic&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/recycler_a&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;TextView\r\n                android:textSize=&quot;24sp&quot;\r\n                android:text=&quot;B&quot;\r\n                android:textColor=&quot;@color/blue&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:padding=&quot;8dp&quot;\r\n                android:textStyle=&quot;italic&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/recycler_b&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n        \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center_horizontal&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                android:id=&quot;@+id/adView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                ads:adSize=&quot;SMART_BANNER&quot;\r\n                ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;&gt;\r\n            &lt;/com.google.android.gms.ads.AdView&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/ScrollView&gt;","title":"How do I add adView outside of scrollview in android studio?","body":"<p>I am trying to add a banner add at the bottom of my app but I don't know how to put it so that it is not affected by the scrollview. I want it to sit at the bottom of my screen without it being\naffected by the scroll effect how do I do this, when I try putting the AdView code outside the ScrollView it doesn't work.\nThis is how my activity_main.xml looks like</p>\n<pre><code>&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@color/grey&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;LinearLayout\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_margin=&quot;16dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        app:cardElevation=&quot;8dp&quot;\n        app:cardBackgroundColor=&quot;@color/blue&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n        &lt;androidx.appcompat.widget.SearchView\n            android:id=&quot;@+id/search_view&quot;\n            app:defaultQueryHint=&quot;Search...&quot;\n            app:iconifiedByDefault=&quot;false&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;/&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n        &lt;LinearLayout\n        android:layout_margin=&quot;16dp&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n            &lt;TextView\n            android:id=&quot;@+id/textView_a&quot;\n            android:textSize=&quot;24sp&quot;\n            android:text=&quot;A&quot;\n            android:textColor=&quot;@color/blue&quot;\n            android:textAlignment=&quot;center&quot;\n            android:padding=&quot;8dp&quot;\n            android:textStyle=&quot;italic&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/recycler_a&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n            android:textSize=&quot;24sp&quot;\n            android:text=&quot;B&quot;\n            android:textColor=&quot;@color/blue&quot;\n            android:textAlignment=&quot;center&quot;\n            android:padding=&quot;8dp&quot;\n            android:textStyle=&quot;italic&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/recycler_b&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n        &lt;/LinearLayout&gt;\n    \n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center_horizontal&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n            android:id=&quot;@+id/adView&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            ads:adSize=&quot;SMART_BANNER&quot;\n            ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;&gt;\n        &lt;/com.google.android.gms.ads.AdView&gt;\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1609689429,"post_id":65551215,"comment_id":115895330,"body_markdown":"Modern JVMs already know how to set the heap size based on the cgroup memory limits, so this should reduce to the more portable problem of figuring out the current Java heap utilization.","body":"Modern JVMs already know how to set the heap size based on the cgroup memory limits, so this should reduce to the more portable problem of figuring out the current Java heap utilization."}],"answers":[{"tags":[],"owner":{"account_id":293130,"reputation":238888,"user_id":596285,"accept_rate":100,"display_name":"BMitch"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1609702704,"creation_date":1609702704,"answer_id":65554131,"question_id":65551215,"body_markdown":"This is all controlled by cgroups. So you can check the cgroup limits and utilization:\r\n\r\n    $ docker run -it --rm --cpus 1.5 --memory 1g busybox /bin/sh\r\n    / # cat /sys/fs/cgroup/memory/memory.usage_in_bytes\r\n    3043328\r\n    / # cat /sys/fs/cgroup/memory/memory.limit_in_bytes\r\n    1073741824\r\n    / # cat /sys/fs/cgroup/cpu/cpu.cfs_quota_us\r\n    150000\r\n    / # cat /sys/fs/cgroup/cpu/cpu.cfs_period_us\r\n    100000\r\n    / # cat /sys/fs/cgroup/cpu/cpuacct.usage\r\n    97206588\r\n\r\nThe memory usage and limit are fairly straight forward to monitor. This is more accurate than monitoring the Java heap usage since heap is only one portion of memory used by Java.\r\n\r\nThe CPU quota over the period gives you the number of fractional CPU&#39;s allocated, 150000/100000 = 1.5. You could monitor the cpuacct.usage over time to calculate when it exceeds the limit and is throttling your process.\r\n","title":"Get docker cpu/memory limit inside container","body":"<p>This is all controlled by cgroups. So you can check the cgroup limits and utilization:</p>\n<pre><code>$ docker run -it --rm --cpus 1.5 --memory 1g busybox /bin/sh\n/ # cat /sys/fs/cgroup/memory/memory.usage_in_bytes\n3043328\n/ # cat /sys/fs/cgroup/memory/memory.limit_in_bytes\n1073741824\n/ # cat /sys/fs/cgroup/cpu/cpu.cfs_quota_us\n150000\n/ # cat /sys/fs/cgroup/cpu/cpu.cfs_period_us\n100000\n/ # cat /sys/fs/cgroup/cpu/cpuacct.usage\n97206588\n</code></pre>\n<p>The memory usage and limit are fairly straight forward to monitor. This is more accurate than monitoring the Java heap usage since heap is only one portion of memory used by Java.</p>\n<p>The CPU quota over the period gives you the number of fractional CPU's allocated, 150000/100000 = 1.5. You could monitor the cpuacct.usage over time to calculate when it exceeds the limit and is throttling your process.</p>\n"},{"tags":[],"owner":{"account_id":8855308,"reputation":128,"user_id":6613259,"display_name":"sebi88"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664881083,"creation_date":1664881083,"answer_id":73946866,"question_id":65551215,"body_markdown":"For cgroup2:\r\n\r\n    / # cat /sys/fs/cgroup/memory.current\r\n    503808\r\n\r\n    / # cat /sys/fs/cgroup/memory.max\r\n    1073741824\r\n\r\n    / # cat /sys/fs/cgroup/cpu.stat\r\n    usage_usec 58384\r\n    user_usec 23602\r\n    system_usec 34782\r\n    nr_periods 37\r\n    nr_throttled 0\r\n    throttled_usec 0\r\n\r\n    / # cat /sys/fs/cgroup/cpu.max\r\n    150000 100000\r\n\r\nsee: https://facebookmicrosites.github.io/cgroup2/docs/cpu-controller.html\r\n\r\nsee2: https://facebookmicrosites.github.io/cgroup2/docs/memory-controller.html","title":"Get docker cpu/memory limit inside container","body":"<p>For cgroup2:</p>\n<pre><code>/ # cat /sys/fs/cgroup/memory.current\n503808\n\n/ # cat /sys/fs/cgroup/memory.max\n1073741824\n\n/ # cat /sys/fs/cgroup/cpu.stat\nusage_usec 58384\nuser_usec 23602\nsystem_usec 34782\nnr_periods 37\nnr_throttled 0\nthrottled_usec 0\n\n/ # cat /sys/fs/cgroup/cpu.max\n150000 100000\n</code></pre>\n<p>see: <a href=\"https://facebookmicrosites.github.io/cgroup2/docs/cpu-controller.html\" rel=\"nofollow noreferrer\">https://facebookmicrosites.github.io/cgroup2/docs/cpu-controller.html</a></p>\n<p>see2: <a href=\"https://facebookmicrosites.github.io/cgroup2/docs/memory-controller.html\" rel=\"nofollow noreferrer\">https://facebookmicrosites.github.io/cgroup2/docs/memory-controller.html</a></p>\n"}],"owner":{"account_id":15067872,"reputation":1284,"user_id":10874380,"display_name":"Pegasis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4919,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1664881083,"creation_date":1609685858,"question_id":65551215,"body_markdown":"I&#39;m implementing a feature in my dockerized server where it will ignore some of the requests when cpu and memory utilization is too high.\r\n\r\nI already found out how to get memory and cpu time used by the process inside container [here](https://stackoverflow.com/questions/51248144/getting-cpu-and-memory-usage-of-a-docker-container-from-within-the-dockerized-ap), but I also need a way to get cpu limit and memory limit (set by [Runtime Options](https://docs.docker.com/config/containers/resource_constraints/#cpu)) to calculate the percentage.\r\n\r\nAlso, I can read the load for the host system from `/proc/loadavg`, is there a &quot;per-container load&quot; somewhere I can read?\r\n\r\nI&#39;m using Java/Kotlin on openjdk 14.\r\n\r\n**Update**: I found out I can get memory limit from `/sys/fs/cgroup/memory/memory.limit_in_bytes`","title":"Get docker cpu/memory limit inside container","body":"<p>I'm implementing a feature in my dockerized server where it will ignore some of the requests when cpu and memory utilization is too high.</p>\n<p>I already found out how to get memory and cpu time used by the process inside container <a href=\"https://stackoverflow.com/questions/51248144/getting-cpu-and-memory-usage-of-a-docker-container-from-within-the-dockerized-ap\">here</a>, but I also need a way to get cpu limit and memory limit (set by <a href=\"https://docs.docker.com/config/containers/resource_constraints/#cpu\" rel=\"nofollow noreferrer\">Runtime Options</a>) to calculate the percentage.</p>\n<p>Also, I can read the load for the host system from <code>/proc/loadavg</code>, is there a &quot;per-container load&quot; somewhere I can read?</p>\n<p>I'm using Java/Kotlin on openjdk 14.</p>\n<p><strong>Update</strong>: I found out I can get memory limit from <code>/sys/fs/cgroup/memory/memory.limit_in_bytes</code></p>\n"},{"tags":["java","spring","h2","liquibase","spring-data-r2dbc"],"answers":[{"tags":[],"owner":{"account_id":8016474,"reputation":3619,"user_id":10210069,"display_name":"eeqk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664881057,"creation_date":1664881057,"answer_id":73946857,"question_id":73946856,"body_markdown":"The problem was caused by the URL, R2DBC requires it to look like this:\r\n```yaml\r\n  r2dbc:\r\n    url: r2dbc:h2:file:///./.testdb\r\n```\r\n\r\nBut then if you try to copy it over to Liquibase part, the error appears. To fix that, remove forward slashes from Liquibase URL:\r\n```yaml\r\nspring:\r\n  liquibase:\r\n    change-log: classpath:liquibase/db.changelog.xml\r\n    contexts: production\r\n    url: jdbc:h2:file:./.testdb;MODE=MySQL\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nFinal version:\r\n\r\n```yaml\r\nspring:\r\n  liquibase:\r\n    change-log: classpath:liquibase/db.changelog.xml\r\n    contexts: production\r\n    url: jdbc:h2:file:./.testdb;MODE=MySQL\r\n\r\n  r2dbc:\r\n    url: r2dbc:h2:file:///./.testdb\r\n  h2:\r\n    console:\r\n      enabled: false\r\n```","title":"Spring, H2, R2DBC and Liquibase: /.testdb.trace.db: Read-only file system","body":"<p>The problem was caused by the URL, R2DBC requires it to look like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  r2dbc:\n    url: r2dbc:h2:file:///./.testdb\n</code></pre>\n<p>But then if you try to copy it over to Liquibase part, the error appears. To fix that, remove forward slashes from Liquibase URL:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  liquibase:\n    change-log: classpath:liquibase/db.changelog.xml\n    contexts: production\n    url: jdbc:h2:file:./.testdb;MODE=MySQL\n</code></pre>\n<hr />\n<p>Final version:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  liquibase:\n    change-log: classpath:liquibase/db.changelog.xml\n    contexts: production\n    url: jdbc:h2:file:./.testdb;MODE=MySQL\n\n  r2dbc:\n    url: r2dbc:h2:file:///./.testdb\n  h2:\n    console:\n      enabled: false\n</code></pre>\n"}],"owner":{"account_id":8016474,"reputation":3619,"user_id":10210069,"display_name":"eeqk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664881057,"creation_date":1664881057,"question_id":73946856,"body_markdown":"When trying to start a Spring Boot application for tests (with H2 database) with R2DBC and Liquibase configured, I get the following error:\r\n\r\n```\r\n2022-10-04 12:50:18.893  INFO 57774 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 2 R2DBC repository interfaces.\r\norg.h2.message.DbException: Log file error: &quot;/.testdb.trace.db&quot;, cause: &quot;java.nio.file.FileSystemException: /.testdb.trace.db: Read-only file system&quot; [90034-214]\r\n```\r\n\r\nHere&#39;s my config:\r\n```\r\nspring:\r\n  liquibase:\r\n    change-log: classpath:liquibase/db.changelog.xml\r\n    contexts: production\r\n    url: jdbc:h2:file:///./.testdb;MODE=MySQL\r\n    \r\n  r2dbc:\r\n    url: r2dbc:h2:file:///./.testdb\r\n\r\n  h2:\r\n    console:\r\n      enabled: false\r\n```\r\n\r\nIs there anything I can do to fix that error?","title":"Spring, H2, R2DBC and Liquibase: /.testdb.trace.db: Read-only file system","body":"<p>When trying to start a Spring Boot application for tests (with H2 database) with R2DBC and Liquibase configured, I get the following error:</p>\n<pre><code>2022-10-04 12:50:18.893  INFO 57774 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 2 R2DBC repository interfaces.\norg.h2.message.DbException: Log file error: &quot;/.testdb.trace.db&quot;, cause: &quot;java.nio.file.FileSystemException: /.testdb.trace.db: Read-only file system&quot; [90034-214]\n</code></pre>\n<p>Here's my config:</p>\n<pre><code>spring:\n  liquibase:\n    change-log: classpath:liquibase/db.changelog.xml\n    contexts: production\n    url: jdbc:h2:file:///./.testdb;MODE=MySQL\n    \n  r2dbc:\n    url: r2dbc:h2:file:///./.testdb\n\n  h2:\n    console:\n      enabled: false\n</code></pre>\n<p>Is there anything I can do to fix that error?</p>\n"},{"tags":["javascript","java","selenium","hashmap","mapping"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1664880985,"post_id":73946565,"comment_id":130566646,"body_markdown":"Since you are adding items to a HashMap where int_product_price is your key, the implementation overwrites the value for that entry if you happen to have similar keys. Instead of writing the elements to a map, you might want to use a list instead.","body":"Since you are adding items to a HashMap where int_product_price is your key, the implementation overwrites the value for that entry if you happen to have similar keys. Instead of writing the elements to a map, you might want to use a list instead."}],"answers":[{"tags":[],"owner":{"account_id":10001672,"reputation":511,"user_id":7397403,"display_name":"ketanvj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664881033,"creation_date":1664881033,"answer_id":73946851,"question_id":73946565,"body_markdown":"@Peter Santa, you should have product Name as your key instead of Price. So you can reverse the location. But this will not print the same product with the same or different price. Which I feel should be ok assuming, the same product will not have different prices on the same website.","title":"How to get all elements even if they have the same data","body":"<p>@Peter Santa, you should have product Name as your key instead of Price. So you can reverse the location. But this will not print the same product with the same or different price. Which I feel should be ok assuming, the same product will not have different prices on the same website.</p>\n"}],"owner":{"account_id":19388506,"reputation":31,"user_id":14177746,"display_name":"P&#233;ter S&#225;nta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664881033,"creation_date":1664879596,"question_id":73946565,"body_markdown":"I have a project where I would like to gather in all **brandname** and **price** from a site.\r\nfor that reason I have the following code: \r\n\r\n    List&lt;WebElement&gt; list_of_products = driver.findElements(By.xpath(loc.getProperty(&quot;brandName&quot;)));\r\n\t\tList&lt;WebElement&gt; list_of_products_price = driver.findElements(By.xpath(loc.getProperty(&quot;finalPrice&quot;)));\r\n\r\n\r\n\t\t//System.out.println(&quot;ezek a term&#233;kek&quot;+ list_of_products);\r\n\t\t// Use of HashMaop to store Products and Their prices(after conversion to\r\n\t\t// Integer)\r\n\t\tString product_name;\r\n\t\tString product_price;\r\n\t\tint int_product_price;\r\n\t\tHashMap&lt;Integer, String&gt; map_final_products = new HashMap&lt;&gt;();\r\n\t\t{\r\n\r\n\t\t\tfor (int i = 0; i &lt; list_of_products.size(); i++) {\r\n\r\n\t\t\t\tproduct_name = list_of_products.get(i).getText();// Iterate and fetch product name\r\n\t\t\t\tproduct_price = list_of_products_price.get(i).getText();// Iterate and fetch product price\r\n\t\t\t\tproduct_price = product_price.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);// Replace anything will space other than numbers\r\n\t\t\t\tint_product_price = Integer.parseInt(product_price);// Convert to Integer\r\n\t\t\t\tmap_final_products.put(int_product_price, product_name);// Add product and price in HashMap\r\n\t\t\t}\r\n\r\n\t\t\t// write out all the products we found\r\n\t\t\t Reporter.log(&quot;All the prices and products we found: &quot; +\r\n\t\t\t map_final_products.toString()+ &quot;\\n&quot;, true);\r\n\r\n\t\t\t// Get all the keys from Hash Map\r\n\t\t\tSet&lt;Integer&gt; allkeys = map_final_products.keySet();\r\n\t\t\tArrayList&lt;Integer&gt; array_list_values_product_prices = new ArrayList&lt;Integer&gt;(allkeys);\r\n\r\n\t\t\t// this will sort in ascending order lowest at the top and highest at the bottom\r\n\t\t\tCollections.sort(array_list_values_product_prices);\r\n\r\nAs it is on console: \r\n*XYs are the actual brandnames*\r\n\r\n&gt; All the prices and products we found: {20720=XY,\r\n&gt; 11490=XY, 13490=XY, 15490=XY,\r\n&gt; 19490=XY, 21990=XY, 16490=XY, 18490=XY\r\n&gt; 20490=XY, 18990=XY, 20990=XY}\r\n\r\nAs I think my **code just does not write out** or collect **when the price is the same** with other brands(or with the same brands too). For example: \r\nAt the website there are more products for 13490.. and lots of for 18490.\r\n\r\nHow can I modify my code in order to get all the pairs even if they have same prices?","title":"How to get all elements even if they have the same data","body":"<p>I have a project where I would like to gather in all <strong>brandname</strong> and <strong>price</strong> from a site.\nfor that reason I have the following code:</p>\n<pre><code>List&lt;WebElement&gt; list_of_products = driver.findElements(By.xpath(loc.getProperty(&quot;brandName&quot;)));\n    List&lt;WebElement&gt; list_of_products_price = driver.findElements(By.xpath(loc.getProperty(&quot;finalPrice&quot;)));\n\n\n    //System.out.println(&quot;ezek a termékek&quot;+ list_of_products);\n    // Use of HashMaop to store Products and Their prices(after conversion to\n    // Integer)\n    String product_name;\n    String product_price;\n    int int_product_price;\n    HashMap&lt;Integer, String&gt; map_final_products = new HashMap&lt;&gt;();\n    {\n\n        for (int i = 0; i &lt; list_of_products.size(); i++) {\n\n            product_name = list_of_products.get(i).getText();// Iterate and fetch product name\n            product_price = list_of_products_price.get(i).getText();// Iterate and fetch product price\n            product_price = product_price.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);// Replace anything will space other than numbers\n            int_product_price = Integer.parseInt(product_price);// Convert to Integer\n            map_final_products.put(int_product_price, product_name);// Add product and price in HashMap\n        }\n\n        // write out all the products we found\n         Reporter.log(&quot;All the prices and products we found: &quot; +\n         map_final_products.toString()+ &quot;\\n&quot;, true);\n\n        // Get all the keys from Hash Map\n        Set&lt;Integer&gt; allkeys = map_final_products.keySet();\n        ArrayList&lt;Integer&gt; array_list_values_product_prices = new ArrayList&lt;Integer&gt;(allkeys);\n\n        // this will sort in ascending order lowest at the top and highest at the bottom\n        Collections.sort(array_list_values_product_prices);\n</code></pre>\n<p>As it is on console:\n<em>XYs are the actual brandnames</em></p>\n<blockquote>\n<p>All the prices and products we found: {20720=XY,\n11490=XY, 13490=XY, 15490=XY,\n19490=XY, 21990=XY, 16490=XY, 18490=XY\n20490=XY, 18990=XY, 20990=XY}</p>\n</blockquote>\n<p>As I think my <strong>code just does not write out</strong> or collect <strong>when the price is the same</strong> with other brands(or with the same brands too). For example:\nAt the website there are more products for 13490.. and lots of for 18490.</p>\n<p>How can I modify my code in order to get all the pairs even if they have same prices?</p>\n"},{"tags":["java","avro"],"comments":[{"owner":{"account_id":7968168,"reputation":1956,"user_id":6013799,"display_name":"rmcv"},"score":1,"creation_date":1656040898,"post_id":72410314,"comment_id":128479893,"body_markdown":"There is one constructor you can pass in both writer and reader schema:   `DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;&gt;(recordFromFile.getSchema(), readerSchema);`.   Seems to works fine if both reader and writer are in the same namespace.","body":"There is one constructor you can pass in both writer and reader schema:   <code>DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;&gt;(recordFromFile.getSchema(), readerSchema);</code>.   Seems to works fine if both reader and writer are in the same namespace."}],"answers":[{"tags":[],"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664880516,"creation_date":1664880516,"answer_id":73946737,"question_id":72410314,"body_markdown":"I&#39;ve received an answer on Avro [mailing list][1]:\r\n\r\n...writer schema can be adjusted after creation. This is what the DataFileReader does.\r\n\r\nSo after the DataFileReader is initialised, the underlying GenericDatumReader uses the the schema in the file as write schema (to understand the data), and the schema you provided as read schema (to give data to you via dataFileReader.next(user)).\r\n\r\n\r\n  [1]: https://lists.apache.org/thread/f3nkm8xtng6zlf9fmycbw6tyswzsr5z1","title":"Avro&#39;s GenericDatumReader writer&#39;s schema","body":"<p>I've received an answer on Avro <a href=\"https://lists.apache.org/thread/f3nkm8xtng6zlf9fmycbw6tyswzsr5z1\" rel=\"nofollow noreferrer\">mailing list</a>:</p>\n<p>...writer schema can be adjusted after creation. This is what the DataFileReader does.</p>\n<p>So after the DataFileReader is initialised, the underlying GenericDatumReader uses the the schema in the file as write schema (to understand the data), and the schema you provided as read schema (to give data to you via dataFileReader.next(user)).</p>\n"}],"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664880516,"creation_date":1653680263,"question_id":72410314,"body_markdown":"As stated in Avro [Getting Started][1] about deserialization without code generation: &quot;The data will be read using the writer&#39;s schema included in the file, and the reader&#39;s schema provided to the GenericDatumReader&quot;. Here is how GenericDatumReader is created in the example\r\n\r\n```DatumReader&lt;GenericRecord&gt; datumReader = new GenericDatumReader&lt;GenericRecord&gt;(schema);```\r\n\r\nBut when you look at this GenericDatumReader constructor Javadoc it states &quot;Construct where the writer&#39;s and reader&#39;s schemas are the same.&quot; (and actual code corresponds to this).\r\n\r\nSo the writer&#39;s schema isn’t taken from a serialized file but from a constructor parameter? If yes, how to read data using written schema like described on the page?\r\n\r\n  [1]: https://avro.apache.org/docs/current/gettingstartedjava.html#Deserializing","title":"Avro&#39;s GenericDatumReader writer&#39;s schema","body":"<p>As stated in Avro <a href=\"https://avro.apache.org/docs/current/gettingstartedjava.html#Deserializing\" rel=\"nofollow noreferrer\">Getting Started</a> about deserialization without code generation: &quot;The data will be read using the writer's schema included in the file, and the reader's schema provided to the GenericDatumReader&quot;. Here is how GenericDatumReader is created in the example</p>\n<p><code>DatumReader&lt;GenericRecord&gt; datumReader = new GenericDatumReader&lt;GenericRecord&gt;(schema);</code></p>\n<p>But when you look at this GenericDatumReader constructor Javadoc it states &quot;Construct where the writer's and reader's schemas are the same.&quot; (and actual code corresponds to this).</p>\n<p>So the writer's schema isn’t taken from a serialized file but from a constructor parameter? If yes, how to read data using written schema like described on the page?</p>\n"},{"tags":["java","spring-boot","deprecated"],"comments":[{"owner":{"account_id":2894772,"reputation":354,"user_id":2482803,"accept_rate":44,"display_name":"Quang Nguyen"},"score":0,"creation_date":1592421118,"post_id":62436379,"comment_id":110423058,"body_markdown":"Maybe you should take a look at `BasicErrorController`","body":"Maybe you should take a look at <code>BasicErrorController</code>"},{"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"score":0,"creation_date":1592421461,"post_id":62436379,"comment_id":110423185,"body_markdown":"Thanks. Any documentation on its use? I have googled and in forums on examples of use but I have not found anything practical, only ambiguities.","body":"Thanks. Any documentation on its use? I have googled and in forums on examples of use but I have not found anything practical, only ambiguities."}],"answers":[{"tags":[],"owner":{"account_id":6101034,"reputation":1349,"user_id":4760059,"accept_rate":45,"display_name":"Oleh Kurpiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592425144,"creation_date":1592425144,"answer_id":62437683,"question_id":62436379,"body_markdown":"there is an `@ControllerAdvice` annotation\r\n\r\n```\r\n@ControllerAdvice\r\npublic class MyErrorController {\r\n\r\n\r\n   @ExceptionHandler(RuntimeException.class)\r\n   public String|ResponseEntity|AnyOtherType handler(final RuntimeException e) {\r\n     .. do handle ..\r\n   }\r\n\r\n   @ExceptionHandler({ Exception1.class, Exception2.class })\r\n   public String multipleHandler(final Exception e) {\r\n   \r\n   }\r\n\r\n}\r\n```","title":"How to replace ErrorController deprecated function on Spring Boot?","body":"<p>there is an <code>@ControllerAdvice</code> annotation</p>\n\n<pre><code>@ControllerAdvice\npublic class MyErrorController {\n\n\n   @ExceptionHandler(RuntimeException.class)\n   public String|ResponseEntity|AnyOtherType handler(final RuntimeException e) {\n     .. do handle ..\n   }\n\n   @ExceptionHandler({ Exception1.class, Exception2.class })\n   public String multipleHandler(final Exception e) {\n\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5768782,"reputation":2885,"user_id":4552842,"display_name":"Guru Cse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592428903,"creation_date":1592427957,"answer_id":62438367,"question_id":62436379,"body_markdown":" 1. To handle errors, There is no need to define a controller class\r\n    implementing an error controller.\r\n 2. To handle errors in your entire application instead of writing  \r\n\r\n        @Controller\r\n         public class CustomErrorController implements ErrorController{\r\n          @RequestMapping(&quot;/error&quot;)\r\n          public String handleError(HttpServletRequest request)\r\n            {\r\n            ...\r\n            }\r\n          }\r\n\r\nuse the below class \r\n\r\n    @ControllerAdvice\r\n     public class myExceptionHandler extends ResponseEntityExceptionHandler {\r\n\t\r\n\t  @ExceptionHandler(Exception.class)\r\n\t  public final ResponseEntity&lt;YourResponseClass&gt; handleAllExceptions(Exception ex, WebRequest request) {\r\n\t    YourResponseClassexceptionResponse = new YourResponseClass(new Date(), ex.getMessage());// Its an example you can define a class with your own structure\r\n\t    return new ResponseEntity&lt;&gt;(exceptionResponse, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t  }\r\n\r\n\t  @ExceptionHandler(CustomException.class)\r\n\t  public final ResponseEntity&lt;YourResponseClass&gt; handleAllExceptions(Exception ex, WebRequest request) {\r\n\t    YourResponseClass exceptionResponse = new YourResponseClass(new Date(), ex.getMessage()); // For reference \r\n\t    return new ResponseEntity&lt;YourResponseClass&gt;(exceptionResponse, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t  }\r\n\r\n       @ExceptionHandler(BadCredentialsException.class)\r\n\t  public final ResponseEntity&lt;YourResponseClass&gt; handleBadCredentialsException(BadCredentialsException ex, WebRequest request){\r\n\t\t    YourResponseClass exceptionResponse = new YourResponseClass(new Date(), ex.getMessage());// For refernece \r\n\t\t\t    return new ResponseEntity&lt;&gt;(exceptionResponse, HttpStatus.UNAUTHORIZED);\t\t  \r\n\t  }  \r\n  }\r\n\r\n 3. The class above annoted with @ControllerAdvice acts as custom exception handler and it handles all the expecptions thrown by ur application. In above code sample only three exceptions are showed for understanding. It can handle many exceptions\r\n\r\n 4. In your application if there&#39;s any exception thrown it will come to this class and send the response back. You can have a customized message and structure as per ur needs.\r\n","title":"How to replace ErrorController deprecated function on Spring Boot?","body":"<ol>\n<li>To handle errors, There is no need to define a controller class\nimplementing an error controller.</li>\n<li><p>To handle errors in your entire application instead of writing  </p>\n\n<pre><code>@Controller\n public class CustomErrorController implements ErrorController{\n  @RequestMapping(\"/error\")\n  public String handleError(HttpServletRequest request)\n    {\n    ...\n    }\n  }\n</code></pre></li>\n</ol>\n\n<p>use the below class </p>\n\n<pre><code>@ControllerAdvice\n public class myExceptionHandler extends ResponseEntityExceptionHandler {\n\n  @ExceptionHandler(Exception.class)\n  public final ResponseEntity&lt;YourResponseClass&gt; handleAllExceptions(Exception ex, WebRequest request) {\n    YourResponseClassexceptionResponse = new YourResponseClass(new Date(), ex.getMessage());// Its an example you can define a class with your own structure\n    return new ResponseEntity&lt;&gt;(exceptionResponse, HttpStatus.INTERNAL_SERVER_ERROR);\n  }\n\n  @ExceptionHandler(CustomException.class)\n  public final ResponseEntity&lt;YourResponseClass&gt; handleAllExceptions(Exception ex, WebRequest request) {\n    YourResponseClass exceptionResponse = new YourResponseClass(new Date(), ex.getMessage()); // For reference \n    return new ResponseEntity&lt;YourResponseClass&gt;(exceptionResponse, HttpStatus.INTERNAL_SERVER_ERROR);\n  }\n\n   @ExceptionHandler(BadCredentialsException.class)\n  public final ResponseEntity&lt;YourResponseClass&gt; handleBadCredentialsException(BadCredentialsException ex, WebRequest request){\n        YourResponseClass exceptionResponse = new YourResponseClass(new Date(), ex.getMessage());// For refernece \n            return new ResponseEntity&lt;&gt;(exceptionResponse, HttpStatus.UNAUTHORIZED);          \n  }  \n</code></pre>\n\n<p>}</p>\n\n<ol start=\"3\">\n<li><p>The class above annoted with @ControllerAdvice acts as custom exception handler and it handles all the expecptions thrown by ur application. In above code sample only three exceptions are showed for understanding. It can handle many exceptions</p></li>\n<li><p>In your application if there's any exception thrown it will come to this class and send the response back. You can have a customized message and structure as per ur needs.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":424395,"reputation":971,"user_id":804376,"accept_rate":42,"display_name":"TuaimiAA"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1597930736,"creation_date":1597930736,"answer_id":63506347,"question_id":62436379,"body_markdown":"Starting version 2.3.x, Spring boot has deprecated this method. Just return null as it is anyway going to be ignored. Do not use @Override annotation if you want to prevent future compilation error when the method is totally removed. You can also suppress the deprecation warning if you want, however, the warning (also the @Override annotation) is helpful to remind you to cleanup/fix your code when the method is removed.\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/error&quot;)\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    public class CustomErrorController implements ErrorController {\r\n\r\n         public String error() {\r\n            // handle error\r\n            // ..\r\n         }\r\n\r\n         public String getErrorPath() {\r\n             return null;\r\n         }\r\n    }\r\n","title":"How to replace ErrorController deprecated function on Spring Boot?","body":"<p>Starting version 2.3.x, Spring boot has deprecated this method. Just return null as it is anyway going to be ignored. Do not use @Override annotation if you want to prevent future compilation error when the method is totally removed. You can also suppress the deprecation warning if you want, however, the warning (also the @Override annotation) is helpful to remind you to cleanup/fix your code when the method is removed.</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/error&quot;)\n@SuppressWarnings(&quot;deprecation&quot;)\npublic class CustomErrorController implements ErrorController {\n\n     public String error() {\n        // handle error\n        // ..\n     }\n\n     public String getErrorPath() {\n         return null;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18455101,"reputation":101,"user_id":13444099,"display_name":"Lime莉茉"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1630412454,"creation_date":1630412454,"answer_id":68998582,"question_id":62436379,"body_markdown":"    @Controller\r\n    public class CustomErrorController implements ErrorController {\r\n\r\n        @RequestMapping(&quot;/error&quot;)\r\n        public ModelAndView handleError(HttpServletResponse response) {\r\n            int status = response.getStatus();\r\n            if ( status == HttpStatus.NOT_FOUND.value()) {\r\n                System.out.println(&quot;Error with code &quot; + status + &quot; Happened!&quot;);\r\n                return new ModelAndView(&quot;error-404&quot;);\r\n            } else if (status == HttpStatus.INTERNAL_SERVER_ERROR.value()) {\r\n                System.out.println(&quot;Error with code &quot; + status + &quot; Happened!&quot;);\r\n                return new ModelAndView(&quot;error-500&quot;);\r\n            }\r\n            System.out.println(status);\r\n            return new ModelAndView(&quot;error&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How to replace ErrorController deprecated function on Spring Boot?","body":"<pre><code>@Controller\npublic class CustomErrorController implements ErrorController {\n\n    @RequestMapping(&quot;/error&quot;)\n    public ModelAndView handleError(HttpServletResponse response) {\n        int status = response.getStatus();\n        if ( status == HttpStatus.NOT_FOUND.value()) {\n            System.out.println(&quot;Error with code &quot; + status + &quot; Happened!&quot;);\n            return new ModelAndView(&quot;error-404&quot;);\n        } else if (status == HttpStatus.INTERNAL_SERVER_ERROR.value()) {\n            System.out.println(&quot;Error with code &quot; + status + &quot; Happened!&quot;);\n            return new ModelAndView(&quot;error-500&quot;);\n        }\n        System.out.println(status);\n        return new ModelAndView(&quot;error&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2978984,"reputation":159,"user_id":2529416,"accept_rate":26,"display_name":"Yrol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664879984,"creation_date":1664794726,"answer_id":73934447,"question_id":62436379,"body_markdown":"    @Controller\r\n    public class AppErrorController implements ErrorController {\r\n    \r\n        @RequestMapping(&quot;/error&quot;)\r\n        public String handleError(HttpServletRequest request) {\r\n            Object status = request.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);\r\n    \r\n            if(status != null) {\r\n                int statusCode = Integer.valueOf(status.toString());\r\n    \r\n                if (statusCode == HttpStatus.FORBIDDEN.value()) {\r\n                    return &quot;errorpages/error-403&quot;;\r\n                } else if (statusCode == HttpStatus.NOT_FOUND.value()) {\r\n                    return &quot;errorpages/error-404&quot;;\r\n                } else if (statusCode == HttpStatus.INTERNAL_SERVER_ERROR.value()) {\r\n                    return &quot;errorpages/error-500&quot;;\r\n                }\r\n            }\r\n            return &quot;errorpages/error&quot;;\r\n        }\r\n    }","title":"How to replace ErrorController deprecated function on Spring Boot?","body":"<pre><code>@Controller\npublic class AppErrorController implements ErrorController {\n\n    @RequestMapping(&quot;/error&quot;)\n    public String handleError(HttpServletRequest request) {\n        Object status = request.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);\n\n        if(status != null) {\n            int statusCode = Integer.valueOf(status.toString());\n\n            if (statusCode == HttpStatus.FORBIDDEN.value()) {\n                return &quot;errorpages/error-403&quot;;\n            } else if (statusCode == HttpStatus.NOT_FOUND.value()) {\n                return &quot;errorpages/error-404&quot;;\n            } else if (statusCode == HttpStatus.INTERNAL_SERVER_ERROR.value()) {\n                return &quot;errorpages/error-500&quot;;\n            }\n        }\n        return &quot;errorpages/error&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17787,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1664879984,"creation_date":1592420180,"question_id":62436379,"body_markdown":"Have a custom error controller on Spring boot:\r\n\r\n```java\r\npackage com.example.controllers;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.boot.web.servlet.error.ErrorController;\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\n\r\n@Controller\r\npublic class CustomErrorController implements ErrorController\r\n{\r\n    @RequestMapping(&quot;/error&quot;)\r\n    public String handleError(HttpServletRequest request)\r\n    {\r\n        ...\r\n    }\r\n \r\n    @Override\r\n    public String getErrorPath()\r\n    {\r\n        return &quot;/error&quot;;\r\n    }\r\n}\r\n```\r\n\r\nBut, when compile says: `getErrorPath() in ErrorController has been deprecated`. Ok, i found information: use `server.error.path` property. Ok, add this in `application.properties` and delete the function, but now says: `CustomErrorController is not abstract and does not override abstract method getErrorPath() in ErrorController`, &#191;need a deprecated function?.\r\n\r\nHow to made the custom error controller?, the `ErrorController` requires `getErrorPath` but it is deprecated, what is the correct alternative?.","title":"How to replace ErrorController deprecated function on Spring Boot?","body":"<p>Have a custom error controller on Spring boot:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.controllers;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.boot.web.servlet.error.ErrorController;\nimport javax.servlet.http.HttpServletRequest;\n\n\n@Controller\npublic class CustomErrorController implements ErrorController\n{\n    @RequestMapping(\"/error\")\n    public String handleError(HttpServletRequest request)\n    {\n        ...\n    }\n\n    @Override\n    public String getErrorPath()\n    {\n        return \"/error\";\n    }\n}\n</code></pre>\n\n<p>But, when compile says: <code>getErrorPath() in ErrorController has been deprecated</code>. Ok, i found information: use <code>server.error.path</code> property. Ok, add this in <code>application.properties</code> and delete the function, but now says: <code>CustomErrorController is not abstract and does not override abstract method getErrorPath() in ErrorController</code>, ¿need a deprecated function?.</p>\n\n<p>How to made the custom error controller?, the <code>ErrorController</code> requires <code>getErrorPath</code> but it is deprecated, what is the correct alternative?.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1664872042,"post_id":73944934,"comment_id":130563880,"body_markdown":"I don&#39;t understand the overall objective of your project.  Are you constructing a GUI builder?  Why can&#39;t you separate the construction of the GUI from adding values to the Swing components?","body":"I don&#39;t understand the overall objective of your project.  Are you constructing a GUI builder?  Why can&#39;t you separate the construction of the GUI from adding values to the Swing components?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1664872103,"post_id":73944934,"comment_id":130563900,"body_markdown":"Reflection will not make the code cleaner. As you want to `extend` the functionality of an existing class, the cleanest way in my opinion is to create sub-classes which then implement your desired functionality","body":"Reflection will not make the code cleaner. As you want to <code>extend</code> the functionality of an existing class, the cleanest way in my opinion is to create sub-classes which then implement your desired functionality"},{"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"score":0,"creation_date":1664875560,"post_id":73944934,"comment_id":130564943,"body_markdown":"@Holger : corrected. In the remaining of the code, the InfoAction a provided by an external class.","body":"@Holger : corrected. In the remaining of the code, the InfoAction a provided by an external class."},{"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"score":0,"creation_date":1664875876,"post_id":73944934,"comment_id":130565042,"body_markdown":"@GilbertLeBlanc I&#39;m constructing a fat-client software. Where there are several ways to reach the same action. I want the define the action once. With its code, its label, its icon. Each ways to activate the action has to provide to the action some context (e.g. if the Action is &quot;Move Files&quot;, which files in this context must be moved). So I&#39;m trying to add to each Swing object a way to provide that context, by injecting into it that &#204;nfoProvider` interface.","body":"@GilbertLeBlanc I&#39;m constructing a fat-client software. Where there are several ways to reach the same action. I want the define the action once. With its code, its label, its icon. Each ways to activate the action has to provide to the action some context (e.g. if the Action is &quot;Move Files&quot;, which files in this context must be moved). So I&#39;m trying to add to each Swing object a way to provide that context, by injecting into it that &#204;nfoProvider` interface."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1664890906,"post_id":73944934,"comment_id":130570061,"body_markdown":"Okay, using your comment example, you create a `MoveFilesAction` class extending `AbstractAction`.  You can instantiate this class from several Swing components.  Your application model would hold the file names or `File` class instances that your `MoveFilesAction` class needs.  Your Swing components have nothing to do with the action.","body":"Okay, using your comment example, you create a <code>MoveFilesAction</code> class extending <code>AbstractAction</code>.  You can instantiate this class from several Swing components.  Your application model would hold the file names or <code>File</code> class instances that your <code>MoveFilesAction</code> class needs.  Your Swing components have nothing to do with the action."}],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664876354,"creation_date":1664876354,"answer_id":73945944,"question_id":73944934,"body_markdown":"There is something you can use with Swing:\r\n\r\n- [JComponent.putClientProperty](https://docs.oracle.com/javase/8/docs/api/javax/swing/JComponent.html#putClientProperty-java.lang.Object-java.lang.Object-)\r\n- [JComponent.getClientProperty](https://docs.oracle.com/javase/8/docs/api/javax/swing/JComponent.html#getClientProperty-java.lang.Object-)\r\n\r\nWhen you build your object, you can configure it:\r\n\r\n    class ComponentFactory {\r\n      public static &lt;T extends JComponent&gt; T configure(T component) {\r\n        // the MyGui.this won&#39;t compile here, but it is only to explain\r\n        // what you can do with your current code.\r\n        component.putClientProperty(InfoProvider.class, MyGui.this);\r\n      }\r\n    }\r\n\r\nAnd build object as in:\r\n\r\n    ComponentFactory.configure(new JButton(infoAction));\r\n\r\nOr create a static method for it in `ComponentFactory`:\r\n\r\n    ComponentFactory.createButton(infoAction);\r\n\r\nIn your action, you can then read the property:\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n      Object src = e.getSource();\r\n      if (src instanceof JComponent) {\r\n        JComponent c = (JComponent) src;\r\n        \r\n        Info info = (Info) c.getClientProperty(InfoProvider.class);\r\n        ...\r\n      }\r\n    \r\n    }\r\n\r\n**Notes:**\r\n\r\nSince it is Swing, there is a some chance it requires to be `Serializable` - which I don&#39;t think is a problem in 2022.\r\n\r\nAnd that the doc for `putClientProperty` says:\r\n\r\n&gt; The clientProperty dictionary **is not intended** to support large scale extensions to JComponent nor should be it considered an alternative to subclassing when designing a new component.\r\n\r\nIt should be fine for one property, otherwise you would have to use subclassing and implements InfoProvider for each such component.\r\n\r\n\r\n\r\n\r\n","title":"Injecting an Interface implementation in Swing objects","body":"<p>There is something you can use with Swing:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JComponent.html#putClientProperty-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\">JComponent.putClientProperty</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JComponent.html#getClientProperty-java.lang.Object-\" rel=\"nofollow noreferrer\">JComponent.getClientProperty</a></li>\n</ul>\n<p>When you build your object, you can configure it:</p>\n<pre><code>class ComponentFactory {\n  public static &lt;T extends JComponent&gt; T configure(T component) {\n    // the MyGui.this won't compile here, but it is only to explain\n    // what you can do with your current code.\n    component.putClientProperty(InfoProvider.class, MyGui.this);\n  }\n}\n</code></pre>\n<p>And build object as in:</p>\n<pre><code>ComponentFactory.configure(new JButton(infoAction));\n</code></pre>\n<p>Or create a static method for it in <code>ComponentFactory</code>:</p>\n<pre><code>ComponentFactory.createButton(infoAction);\n</code></pre>\n<p>In your action, you can then read the property:</p>\n<pre><code>public void actionPerformed(ActionEvent e) {\n  Object src = e.getSource();\n  if (src instanceof JComponent) {\n    JComponent c = (JComponent) src;\n    \n    Info info = (Info) c.getClientProperty(InfoProvider.class);\n    ...\n  }\n\n}\n</code></pre>\n<p><strong>Notes:</strong></p>\n<p>Since it is Swing, there is a some chance it requires to be <code>Serializable</code> - which I don't think is a problem in 2022.</p>\n<p>And that the doc for <code>putClientProperty</code> says:</p>\n<blockquote>\n<p>The clientProperty dictionary <strong>is not intended</strong> to support large scale extensions to JComponent nor should be it considered an alternative to subclassing when designing a new component.</p>\n</blockquote>\n<p>It should be fine for one property, otherwise you would have to use subclassing and implements InfoProvider for each such component.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664879747,"creation_date":1664879747,"answer_id":73946596,"question_id":73944934,"body_markdown":"You don’t need to specialize every component supporting actions (or timer or other sources of action events). Instead, create one specialized `Action` implementation to mediate between the component/event source and the actual action. E.g.\r\n\r\n```java\r\npublic class InfoProviderAction implements Action, InfoProvider {\r\n    final PropertyChangeSupport listeners = new PropertyChangeSupport(this);\r\n    final PropertyChangeListener relay = ev -&gt; listeners.firePropertyChange(\r\n                        ev.getPropertyName(), ev.getOldValue(), ev.getNewValue());\r\n    final Action target;\r\n    final InfoProvider actualProvider;\r\n\r\n    public InfoProviderAction(Action target, InfoProvider actualProvider) {\r\n        this.target = target;\r\n        this.actualProvider = actualProvider;\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        target.actionPerformed(new ActionEvent(\r\n            this, e.getID(), e.getActionCommand(), e.getWhen(), e.getModifiers()));\r\n    }\r\n\r\n    @Override\r\n    public Info getInfo() {\r\n        return actualProvider.getInfo();\r\n    }\r\n\r\n    @Override\r\n    public void addPropertyChangeListener(PropertyChangeListener listener) {\r\n        boolean hadListeners = listeners.hasListeners(null);\r\n        listeners.addPropertyChangeListener(listener);\r\n        if(!hadListeners) target.addPropertyChangeListener(relay);\r\n    }\r\n\r\n    @Override\r\n    public void removePropertyChangeListener(PropertyChangeListener listener) {\r\n        boolean hadListeners = listeners.hasListeners(null);\r\n        listeners.removePropertyChangeListener(listener);\r\n        if(hadListeners &amp;&amp; !listeners.hasListeners(null))\r\n            target.removePropertyChangeListener(relay);\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return target.isEnabled();\r\n    }\r\n\r\n    @Override\r\n    public void setEnabled(boolean b) {\r\n        target.setEnabled(b);\r\n    }\r\n\r\n    @Override\r\n    public Object getValue(String key) {\r\n        return target.getValue(key);\r\n    }\r\n\r\n    @Override\r\n    public void putValue(String key, Object value) {\r\n        target.putValue(key, value);\r\n    }\r\n}\r\n```\r\n\r\nThen, your `MyGui` class can use it like\r\n\r\n```java\r\nInfoAction infoAction = MyApp.getInstance().getAction(MyApp.RENAME_ACTION);\r\ninfoAction = new InfoProviderAction(infoAction, this::getInfo);// inject the InfoProvider\r\nJButton button = new JButton(infoAction);\r\nJMenuItem menuItem = new JMenuItem(infoAction);\r\n```\r\n\r\nThe component will see the `InfoProviderAction` as its action, which will exhibit the same properties and behavior as the wrapped action. Whereas the actual action will see the `InfoProviderAction` as the even source, implementing the `InfoProvider` interface as expected.\r\n\r\nProblems could arise if the action expects the source to be a component. But actions should not assume this, as it would cause problems with `Timer` or global key bindings as event sources.\r\n","title":"Injecting an Interface implementation in Swing objects","body":"<p>You don’t need to specialize every component supporting actions (or timer or other sources of action events). Instead, create one specialized <code>Action</code> implementation to mediate between the component/event source and the actual action. E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InfoProviderAction implements Action, InfoProvider {\n    final PropertyChangeSupport listeners = new PropertyChangeSupport(this);\n    final PropertyChangeListener relay = ev -&gt; listeners.firePropertyChange(\n                        ev.getPropertyName(), ev.getOldValue(), ev.getNewValue());\n    final Action target;\n    final InfoProvider actualProvider;\n\n    public InfoProviderAction(Action target, InfoProvider actualProvider) {\n        this.target = target;\n        this.actualProvider = actualProvider;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        target.actionPerformed(new ActionEvent(\n            this, e.getID(), e.getActionCommand(), e.getWhen(), e.getModifiers()));\n    }\n\n    @Override\n    public Info getInfo() {\n        return actualProvider.getInfo();\n    }\n\n    @Override\n    public void addPropertyChangeListener(PropertyChangeListener listener) {\n        boolean hadListeners = listeners.hasListeners(null);\n        listeners.addPropertyChangeListener(listener);\n        if(!hadListeners) target.addPropertyChangeListener(relay);\n    }\n\n    @Override\n    public void removePropertyChangeListener(PropertyChangeListener listener) {\n        boolean hadListeners = listeners.hasListeners(null);\n        listeners.removePropertyChangeListener(listener);\n        if(hadListeners &amp;&amp; !listeners.hasListeners(null))\n            target.removePropertyChangeListener(relay);\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return target.isEnabled();\n    }\n\n    @Override\n    public void setEnabled(boolean b) {\n        target.setEnabled(b);\n    }\n\n    @Override\n    public Object getValue(String key) {\n        return target.getValue(key);\n    }\n\n    @Override\n    public void putValue(String key, Object value) {\n        target.putValue(key, value);\n    }\n}\n</code></pre>\n<p>Then, your <code>MyGui</code> class can use it like</p>\n<pre class=\"lang-java prettyprint-override\"><code>InfoAction infoAction = MyApp.getInstance().getAction(MyApp.RENAME_ACTION);\ninfoAction = new InfoProviderAction(infoAction, this::getInfo);// inject the InfoProvider\nJButton button = new JButton(infoAction);\nJMenuItem menuItem = new JMenuItem(infoAction);\n</code></pre>\n<p>The component will see the <code>InfoProviderAction</code> as its action, which will exhibit the same properties and behavior as the wrapped action. Whereas the actual action will see the <code>InfoProviderAction</code> as the even source, implementing the <code>InfoProvider</code> interface as expected.</p>\n<p>Problems could arise if the action expects the source to be a component. But actions should not assume this, as it would cause problems with <code>Timer</code> or global key bindings as event sources.</p>\n"}],"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73946596,"answer_count":2,"score":1,"last_activity_date":1664879747,"creation_date":1664871465,"question_id":73944934,"body_markdown":"I have defined a `class InfoAction implements java.swing.Action` that needs to retrieve some information from its calling context in order to execute itself. For this I have defined an interface for providing those information:\r\n```\r\npublic interface InfoProvider {\r\n    Info getInfo();\r\n}\r\n```\r\nThe `actionPerformed` in the InfoAction class looks like\r\n```\r\npublic void actionPerformed(ActionEvent e) {\r\n    Info info=e.getSource().getInfo();\r\n    // ... treat Info ...\r\n}\r\n```\r\nThen I want to create various Swing objects using these actions, every Swing object providing its own context to the action.\r\n\r\n```\r\nInfoAction infoAction = MyApp.getInstance().getAction(MyApp.RENAME_ACTION); // Retrieving one action\r\nJButton button = new JButton(infoAction); // TODO: inject the InfoProvider interface\r\nJMenuItem menuItem = new JMenuItem(infoAction); // TODO: inject the InfoProvider interface\r\n```\r\n\r\nI&#39;m stuck at how to add to those swing objects the InfoProvider interface.\r\n\r\nNaively I tried to write\r\n```\r\nInfoAction infoAction = MyApp.getInstance().getAction(MyApp.RENAME_ACTION);\r\nJButton button = new JButton(infoAction) implements InfoProvider {\r\n    Info getInfo() {\r\n        return MyGui.this.getInfo();\r\n        }\r\n    };\r\nJMenuItem menuItem = new JMenuItem(infoAction)  implements InfoProvider {\r\n    Info getInfo() {\r\n        return MyGui.this.getInfo();\r\n        }\r\n    };\r\n```\r\nBut this is not a valid code.\r\n\r\nI&#39;d like to avoid creating sub-classes of all the Swing pieces such as \r\n`private class InfoButton extends JButton implements InfoProvider {...}`, `private class InfoMenuItem extends JMenuItem implements InfoProvider {...}`.\r\n\r\nSo I wonder what are the other options to do this while keeping a clean code ?  \r\nWould working with reflection a good option ? Getting rid of the interface and testing if the actionEvent.getSource() has a getInfo() method ? \r\n\r\nPS: I&#39;m working with Java8","title":"Injecting an Interface implementation in Swing objects","body":"<p>I have defined a <code>class InfoAction implements java.swing.Action</code> that needs to retrieve some information from its calling context in order to execute itself. For this I have defined an interface for providing those information:</p>\n<pre><code>public interface InfoProvider {\n    Info getInfo();\n}\n</code></pre>\n<p>The <code>actionPerformed</code> in the InfoAction class looks like</p>\n<pre><code>public void actionPerformed(ActionEvent e) {\n    Info info=e.getSource().getInfo();\n    // ... treat Info ...\n}\n</code></pre>\n<p>Then I want to create various Swing objects using these actions, every Swing object providing its own context to the action.</p>\n<pre><code>InfoAction infoAction = MyApp.getInstance().getAction(MyApp.RENAME_ACTION); // Retrieving one action\nJButton button = new JButton(infoAction); // TODO: inject the InfoProvider interface\nJMenuItem menuItem = new JMenuItem(infoAction); // TODO: inject the InfoProvider interface\n</code></pre>\n<p>I'm stuck at how to add to those swing objects the InfoProvider interface.</p>\n<p>Naively I tried to write</p>\n<pre><code>InfoAction infoAction = MyApp.getInstance().getAction(MyApp.RENAME_ACTION);\nJButton button = new JButton(infoAction) implements InfoProvider {\n    Info getInfo() {\n        return MyGui.this.getInfo();\n        }\n    };\nJMenuItem menuItem = new JMenuItem(infoAction)  implements InfoProvider {\n    Info getInfo() {\n        return MyGui.this.getInfo();\n        }\n    };\n</code></pre>\n<p>But this is not a valid code.</p>\n<p>I'd like to avoid creating sub-classes of all the Swing pieces such as\n<code>private class InfoButton extends JButton implements InfoProvider {...}</code>, <code>private class InfoMenuItem extends JMenuItem implements InfoProvider {...}</code>.</p>\n<p>So I wonder what are the other options to do this while keeping a clean code ?<br />\nWould working with reflection a good option ? Getting rid of the interface and testing if the actionEvent.getSource() has a getInfo() method ?</p>\n<p>PS: I'm working with Java8</p>\n"},{"tags":["java","json","spring-boot","spring-restcontroller","content-disposition"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662388128,"creation_date":1662388128,"answer_id":73610929,"question_id":73610861,"body_markdown":"You can&#39;t. HTTP doesn&#39;t allow you to defined multiple content-types on 1 request/response. That being said, you could send the byte array base64 encoded as part of a json response but would need to handle it in the front-end (if you have any) as it would not trigger the file download process of the browser.","title":"How to return both JSON response and Byte Array of file in Springboot RestController Response while downloading a file","body":"<p>You can't. HTTP doesn't allow you to defined multiple content-types on 1 request/response. That being said, you could send the byte array base64 encoded as part of a json response but would need to handle it in the front-end (if you have any) as it would not trigger the file download process of the browser.</p>\n"},{"tags":[],"owner":{"account_id":7473996,"reputation":310,"user_id":5680977,"display_name":"Dhiraj Surve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662398025,"creation_date":1662398025,"answer_id":73612749,"question_id":73610861,"body_markdown":"You can define custom class which hold your current content and message . So you can return that class in the response \r\n\r\n    ResponseClass\r\n    {\r\n    byte[] contents;\r\n    String message;\r\n    }","title":"How to return both JSON response and Byte Array of file in Springboot RestController Response while downloading a file","body":"<p>You can define custom class which hold your current content and message . So you can return that class in the response</p>\n<pre><code>ResponseClass\n{\nbyte[] contents;\nString message;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13239720,"reputation":112,"user_id":9560693,"display_name":"Yehouda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664878849,"creation_date":1664878849,"answer_id":73946415,"question_id":73610861,"body_markdown":"You can send a json object that contain the message and the file as encoded64 string. \r\n\r\nAnd in the client side you decode it and download it. \r\n\r\n    public record MyRecord(String message, String encodedStringBase64, String filename) {}\r\n  \r\n  \r\n    ...\r\n\r\n    try {\r\n            \r\n            File file = new File(&quot;path_to_.DOCX file_I_have_created&quot;);\r\n            byte[] contents = Files.readAllBytes(Paths.get(file.getAbsolutePath()));\r\n            String encodedString = Base64.getEncoder().encodeToString(contents);\r\n         \r\n            MyRecord record = new MyRecord(&quot;Report downloaded Successfully&quot;, encodedString, file.getName());\r\n\r\n            return log.traceExit(ResponseEntity.ok().headers(headers)\r\n                    .contentType(MediaType.valueOf(&quot;application/json&quot;)).body(record));\r\n    } ...\r\n\r\n\r\n\r\n\r\n","title":"How to return both JSON response and Byte Array of file in Springboot RestController Response while downloading a file","body":"<p>You can send a json object that contain the message and the file as encoded64 string.</p>\n<p>And in the client side you decode it and download it.</p>\n<pre><code>public record MyRecord(String message, String encodedStringBase64, String filename) {}\n\n\n...\n\ntry {\n        \n        File file = new File(&quot;path_to_.DOCX file_I_have_created&quot;);\n        byte[] contents = Files.readAllBytes(Paths.get(file.getAbsolutePath()));\n        String encodedString = Base64.getEncoder().encodeToString(contents);\n     \n        MyRecord record = new MyRecord(&quot;Report downloaded Successfully&quot;, encodedString, file.getName());\n\n        return log.traceExit(ResponseEntity.ok().headers(headers)\n                .contentType(MediaType.valueOf(&quot;application/json&quot;)).body(record));\n} ...\n</code></pre>\n"}],"owner":{"account_id":10685095,"reputation":283,"user_id":7865867,"accept_rate":100,"display_name":"New2Java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2952,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1664878849,"creation_date":1662387793,"question_id":73610861,"body_markdown":"I am developing a rest controller to download a .docx file into the client system. My code is working fine as the file is getting downloaded. Now I want to enhance the response. My requirement is to also send a JSON payload in the response along with the .docx file content, something like\r\n\r\n    {&quot;message&quot;:&quot;Report downloaded Successfully&quot;}\r\n\r\nincase of successful download or with a different message incase of failure. \r\n\r\nBelow is my restcontroller code:\r\n\r\n\r\n    @RestController\r\n    public class DownloadController {\r\n    \t\r\n    \t\r\n    \t@PostMapping(value=&quot;/download&quot;,\r\n    \t\t\tconsumes = {&quot;multipart/form-data&quot;},\r\n    \t\t\tproduces = {&quot;application/octet-stream&quot;})\r\n    \tpublic ResponseEntity&lt;?&gt; downloadFile(@RequestParam(&quot;file&quot;) MultipartFile uploadFile){\r\n    \t\t\r\n    \t\t//business logic to create the attachment file\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tFile file = new File(&quot;path_to_.DOCX file_I_have_created&quot;);\r\n    \t\t\tbyte[] contents = Files.readAllBytes(Paths.get(file.getAbsolutePath()));\r\n    \t\t\t\r\n    \t\t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\t\theaders.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n    \t\t\theaders.setContentDisposition(ContentDisposition.attachment().filename(&quot;survey.docx&quot;).build());\r\n    \t\t\t\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(contents, headers, HttpStatus.OK);\r\n    \t\t} catch (Exception e){\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nHow do I modify my response code to send both the JSON message and the byte[] contents so that the file gets downloaded and I can see the JSON message in the response preview tab in the chrome or response body in postman?\r\n\r\nUPDATE: I tried to define a response class like below\r\n\r\n    public class Downloadresponse {\r\n    \r\n    private byte[] content;\r\n    private String message;\r\n    \r\n    //getter,setters\r\n    \r\n    }\r\n\r\nWith this change in place, I am getting below exception:\r\n\r\n    Resolved [ HttpMessageNotWritableException: No converter for [class ...Downloadresponse] with preset content-type &quot;application/octet-stream”]\r\n\r\n\r\n","title":"How to return both JSON response and Byte Array of file in Springboot RestController Response while downloading a file","body":"<p>I am developing a rest controller to download a .docx file into the client system. My code is working fine as the file is getting downloaded. Now I want to enhance the response. My requirement is to also send a JSON payload in the response along with the .docx file content, something like</p>\n<pre><code>{&quot;message&quot;:&quot;Report downloaded Successfully&quot;}\n</code></pre>\n<p>incase of successful download or with a different message incase of failure.</p>\n<p>Below is my restcontroller code:</p>\n<pre><code>@RestController\npublic class DownloadController {\n    \n    \n    @PostMapping(value=&quot;/download&quot;,\n            consumes = {&quot;multipart/form-data&quot;},\n            produces = {&quot;application/octet-stream&quot;})\n    public ResponseEntity&lt;?&gt; downloadFile(@RequestParam(&quot;file&quot;) MultipartFile uploadFile){\n        \n        //business logic to create the attachment file\n        \n        try {\n            \n            File file = new File(&quot;path_to_.DOCX file_I_have_created&quot;);\n            byte[] contents = Files.readAllBytes(Paths.get(file.getAbsolutePath()));\n            \n            HttpHeaders headers = new HttpHeaders();\n            headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n            headers.setContentDisposition(ContentDisposition.attachment().filename(&quot;survey.docx&quot;).build());\n            \n            return new ResponseEntity&lt;&gt;(contents, headers, HttpStatus.OK);\n        } catch (Exception e){\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n\n}\n</code></pre>\n<p>How do I modify my response code to send both the JSON message and the byte[] contents so that the file gets downloaded and I can see the JSON message in the response preview tab in the chrome or response body in postman?</p>\n<p>UPDATE: I tried to define a response class like below</p>\n<pre><code>public class Downloadresponse {\n\nprivate byte[] content;\nprivate String message;\n\n//getter,setters\n\n}\n</code></pre>\n<p>With this change in place, I am getting below exception:</p>\n<pre><code>Resolved [ HttpMessageNotWritableException: No converter for [class ...Downloadresponse] with preset content-type &quot;application/octet-stream”]\n</code></pre>\n"},{"tags":["java","windows","batch-file"],"comments":[{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":0,"creation_date":1664879407,"post_id":73944710,"comment_id":130566124,"body_markdown":"What&#39;s wrong with just ```@start &quot;&quot; &quot;example.exe&quot; -c config &gt;nul 2&gt;&amp;1``` as your entire batch file content?","body":"What&#39;s wrong with just <code>@start &quot;&quot; &quot;example.exe&quot; -c config &gt;nul 2&gt;&amp;1</code> as your entire batch file content?"},{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":0,"creation_date":1664882899,"post_id":73944710,"comment_id":130567261,"body_markdown":"I supppose I should also question why you&#39;re sending all output to the NUL davice, but have code which &#39;prints&#39; output?","body":"I supppose I should also question why you&#39;re sending all output to the NUL davice, but have code which &#39;prints&#39; output?"},{"owner":{"account_id":21065460,"reputation":23,"user_id":15482839,"display_name":"seth"},"score":0,"creation_date":1664887134,"post_id":73944710,"comment_id":130568632,"body_markdown":"@Compo that is example,  i tried output &gt; example.log  no change","body":"@Compo that is example,  i tried output &gt; example.log  no change"}],"owner":{"account_id":21065460,"reputation":23,"user_id":15482839,"display_name":"seth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664878650,"creation_date":1664870190,"question_id":73944710,"body_markdown":"How does java run a batch file in the background? \r\n\r\nI have a batch file with the following content\r\n\r\n```none\r\n@echo off\r\n\r\n:start\r\nstart /b cmd /c example.exe -c config &gt;nul 2&gt;&amp;1\r\ngoto :eof\r\n```\r\n\r\nIn fact, I run this code under the command line, it can run in the background, but it seems that the &quot;execution&quot; of the java call will hang on the console on the idea, I am a java novice and I don&#39;t know the principle.\r\n\r\njava code:\r\n\r\n```java\r\npackage com.example;\r\nimport org.apache.commons.exec.CommandLine;\r\nimport org.apache.commons.exec.DefaultExecutor;\r\n\r\npublic class Example {\r\n    public static void main(String[] args) throws Exception{\r\n        System.out.println(&quot;Hello World&quot;);\r\n        System.out.println(&quot;Started.&quot;);\r\n        String script_path = &quot;&quot;;\r\n        boolean isWindows = System.getProperty(&quot;os.name&quot;).toLowerCase().startsWith(&quot;windows&quot;);\r\n        System.out.println(isWindows);\r\n        if (isWindows) {\r\n            System.out.println(&quot;it&#39;s Windows&quot;);\r\n            script_path = &quot;c:/users/test-running/desktop/example.bat&quot;;\r\n            CommandLine cmdLine = new CommandLine(&quot;cmd&quot;);\r\n            cmdLine.addArgument(script_path);\r\n            cmdLine.addArgument(&quot;start&quot;).addArgument(&quot;server&quot;);\r\n            DefaultExecutor executor = new DefaultExecutor();\r\n            executor.execute(cmdLine);\r\n            System.out.println(&quot;Finished.&quot;);\r\n\r\n        } else {\r\n            System.out.println(&quot;it&#39;s Linux&quot;);\r\n            script_path = &quot;/Users/seth/Downloads/example.sh&quot;;\r\n            CommandLine cmdLine = new CommandLine(&quot;/bin/bash&quot;);\r\n            cmdLine.addArgument(script_path);\r\n            cmdLine.addArgument(&quot;start&quot;).addArgument(&quot;server&quot;);\r\n            DefaultExecutor executor = new DefaultExecutor();\r\n            executor.execute(cmdLine);\r\n            System.out.println(&quot;Finished.&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo does anyone know what java is doing? Or is the syntax of the batch file wrong?","title":"How does java run batch file in the background","body":"<p>How does java run a batch file in the background?</p>\n<p>I have a batch file with the following content</p>\n<pre class=\"lang-none prettyprint-override\"><code>@echo off\n\n:start\nstart /b cmd /c example.exe -c config &gt;nul 2&gt;&amp;1\ngoto :eof\n</code></pre>\n<p>In fact, I run this code under the command line, it can run in the background, but it seems that the &quot;execution&quot; of the java call will hang on the console on the idea, I am a java novice and I don't know the principle.</p>\n<p>java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\nimport org.apache.commons.exec.CommandLine;\nimport org.apache.commons.exec.DefaultExecutor;\n\npublic class Example {\n    public static void main(String[] args) throws Exception{\n        System.out.println(&quot;Hello World&quot;);\n        System.out.println(&quot;Started.&quot;);\n        String script_path = &quot;&quot;;\n        boolean isWindows = System.getProperty(&quot;os.name&quot;).toLowerCase().startsWith(&quot;windows&quot;);\n        System.out.println(isWindows);\n        if (isWindows) {\n            System.out.println(&quot;it's Windows&quot;);\n            script_path = &quot;c:/users/test-running/desktop/example.bat&quot;;\n            CommandLine cmdLine = new CommandLine(&quot;cmd&quot;);\n            cmdLine.addArgument(script_path);\n            cmdLine.addArgument(&quot;start&quot;).addArgument(&quot;server&quot;);\n            DefaultExecutor executor = new DefaultExecutor();\n            executor.execute(cmdLine);\n            System.out.println(&quot;Finished.&quot;);\n\n        } else {\n            System.out.println(&quot;it's Linux&quot;);\n            script_path = &quot;/Users/seth/Downloads/example.sh&quot;;\n            CommandLine cmdLine = new CommandLine(&quot;/bin/bash&quot;);\n            cmdLine.addArgument(script_path);\n            cmdLine.addArgument(&quot;start&quot;).addArgument(&quot;server&quot;);\n            DefaultExecutor executor = new DefaultExecutor();\n            executor.execute(cmdLine);\n            System.out.println(&quot;Finished.&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>So does anyone know what java is doing? Or is the syntax of the batch file wrong?</p>\n"},{"tags":["java","spring","testing","spring-mvc","junit"],"answers":[{"tags":[],"owner":{"account_id":2155152,"reputation":3994,"user_id":1910582,"accept_rate":88,"display_name":"Bond - Java Bond"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1368793075,"creation_date":1368793075,"answer_id":16608840,"question_id":16605811,"body_markdown":"You can try something as below -\r\n\r\n1. Create a custom matcher\r\n\r\n        public class CustomExceptionMatcher extends\r\n\t\tTypeSafeMatcher&lt;CustomException&gt; {\r\n\r\n\t    private String actual;\r\n\t    private String expected;\r\n\r\n\t    private CustomExceptionMatcher (String expected) {\r\n\t\t    this.expected = expected;\r\n\t    }\r\n\r\n\t    public static CustomExceptionMatcher assertSomeThing(String expected) {\r\n\t\t    return new CustomExceptionMatcher (expected);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    protected boolean matchesSafely(CustomException exception) {\r\n\t\t    actual = exception.getSomeInformation();\r\n\t\t    return actual.equals(expected);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void describeTo(Description desc) {\r\n\t\t    desc.appendText(&quot;Actual =&quot;).appendValue(actual)\r\n\t\t\t\t.appendText(&quot; Expected =&quot;).appendValue(\r\n\t\t\t\t\t\texpected);\r\n\r\n\t    }\r\n        }\r\n\r\n2. Declare a `@Rule` in JUnit class as below - \r\n\r\n        @Rule\r\n\t    public ExpectedException exception = ExpectedException.none();\r\n\r\n3. Use the Custom matcher in test case as -\r\n\r\n        exception.expect(CustomException.class);\r\n\t\texception.expect(CustomException\r\n\t\t\t\t.assertSomeThing(&quot;Some assertion text&quot;));\r\n        this.mockMvc.perform(post(&quot;/account&quot;)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(requestString))\r\n            .andExpect(status().isInternalServerError());\r\n\r\n**P.S.:** I have provided a generic pseudo code which you can customize as per your requirement.","title":"MockMVC how to test exception and response code in the same test case","body":"<p>You can try something as below -</p>\n\n<ol>\n<li><p>Create a custom matcher</p>\n\n<pre><code>public class CustomExceptionMatcher extends\nTypeSafeMatcher&lt;CustomException&gt; {\n\nprivate String actual;\nprivate String expected;\n\nprivate CustomExceptionMatcher (String expected) {\n    this.expected = expected;\n}\n\npublic static CustomExceptionMatcher assertSomeThing(String expected) {\n    return new CustomExceptionMatcher (expected);\n}\n\n@Override\nprotected boolean matchesSafely(CustomException exception) {\n    actual = exception.getSomeInformation();\n    return actual.equals(expected);\n}\n\n@Override\npublic void describeTo(Description desc) {\n    desc.appendText(\"Actual =\").appendValue(actual)\n        .appendText(\" Expected =\").appendValue(\n                expected);\n\n}\n}\n</code></pre></li>\n<li><p>Declare a <code>@Rule</code> in JUnit class as below - </p>\n\n<pre><code>@Rule\npublic ExpectedException exception = ExpectedException.none();\n</code></pre></li>\n<li><p>Use the Custom matcher in test case as -</p>\n\n<pre><code>exception.expect(CustomException.class);\nexception.expect(CustomException\n        .assertSomeThing(\"Some assertion text\"));\nthis.mockMvc.perform(post(\"/account\")\n    .contentType(MediaType.APPLICATION_JSON)\n    .content(requestString))\n    .andExpect(status().isInternalServerError());\n</code></pre></li>\n</ol>\n\n<p><strong>P.S.:</strong> I have provided a generic pseudo code which you can customize as per your requirement.</p>\n"},{"tags":[],"owner":{"account_id":287912,"reputation":346,"user_id":588018,"display_name":"Erick Audet"},"down_vote_count":10,"up_vote_count":3,"is_accepted":false,"score":-7,"last_activity_date":1527502758,"creation_date":1527502758,"answer_id":50564141,"question_id":16605811,"body_markdown":"In your controller:\r\n\r\n    throw new Exception(&quot;Athlete with same username already exists...&quot;);\r\n\r\nIn your test:\r\n\r\n        try {\r\n            mockMvc.perform(post(&quot;/api/athlete&quot;).contentType(contentType).\r\n                    content(TestUtil.convertObjectToJsonBytes(wAthleteFTP)))\r\n                    .andExpect(status().isInternalServerError())\r\n                    .andExpect(content().string(&quot;Athlete with same username already exists...&quot;))\r\n                    .andDo(print());\r\n        } catch (Exception e){\r\n            //sink it\r\n        }","title":"MockMVC how to test exception and response code in the same test case","body":"<p>In your controller:</p>\n\n<pre><code>throw new Exception(\"Athlete with same username already exists...\");\n</code></pre>\n\n<p>In your test:</p>\n\n<pre><code>    try {\n        mockMvc.perform(post(\"/api/athlete\").contentType(contentType).\n                content(TestUtil.convertObjectToJsonBytes(wAthleteFTP)))\n                .andExpect(status().isInternalServerError())\n                .andExpect(content().string(\"Athlete with same username already exists...\"))\n                .andDo(print());\n    } catch (Exception e){\n        //sink it\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1586812538,"creation_date":1562081664,"answer_id":56855838,"question_id":16605811,"body_markdown":"You can get a reference to the [MvcResult][1] and the possibly resolved exception and check with general JUnit assertions... \r\n\r\n    MvcResult result = this.mvc.perform(\r\n            post(&quot;/api/some/endpoint&quot;)\r\n                    .contentType(TestUtil.APPLICATION_JSON_UTF8)\r\n                    .content(TestUtil.convertObjectToJsonBytes(someObject)))\r\n            .andDo(print())\r\n            .andExpect(status().is4xxClientError())\r\n            .andReturn();\r\n\r\n    Optional&lt;SomeException&gt; someException = Optional.ofNullable((SomeException) result.getResolvedException());\r\n\r\n    someException.ifPresent( (se) -&gt; assertThat(se, is(notNullValue())));\r\n    someException.ifPresent( (se) -&gt; assertThat(se, is(instanceOf(SomeException.class))));\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/web/servlet/MvcResult.html\r\n","title":"MockMVC how to test exception and response code in the same test case","body":"<p>You can get a reference to the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/web/servlet/MvcResult.html\" rel=\"noreferrer\">MvcResult</a> and the possibly resolved exception and check with general JUnit assertions... </p>\n\n<pre><code>MvcResult result = this.mvc.perform(\n        post(\"/api/some/endpoint\")\n                .contentType(TestUtil.APPLICATION_JSON_UTF8)\n                .content(TestUtil.convertObjectToJsonBytes(someObject)))\n        .andDo(print())\n        .andExpect(status().is4xxClientError())\n        .andReturn();\n\nOptional&lt;SomeException&gt; someException = Optional.ofNullable((SomeException) result.getResolvedException());\n\nsomeException.ifPresent( (se) -&gt; assertThat(se, is(notNullValue())));\nsomeException.ifPresent( (se) -&gt; assertThat(se, is(instanceOf(SomeException.class))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12893909,"reputation":417,"user_id":9324939,"display_name":"Oluwatobiloba"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1664878346,"creation_date":1585933131,"answer_id":61016827,"question_id":16605811,"body_markdown":"If you have an **exception handler** and you want to test for a specific exception, you could also assert that the instance is valid in the resolved exception.\r\n\r\n```\r\n.andExpect(result -&gt; assertTrue(result.getResolvedException() instanceof WhateverException))\r\n```\r\n\r\n**UPDATE** (gavenkoa) Don&#39;t forget to inject `@ExceptionHandler` annotated methods to the test context or exception will occur at `.perform()` instead of capturing it with `.andExpect()`, basically register:\r\n\r\n```java\r\n@ControllerAdvice\r\npublic class MyExceptionHandlers {\r\n    @ExceptionHandler(BindException.class)\r\n    public ResponseEntity&lt;?&gt; handle(BindException ex) { ... }\r\n}\r\n```\r\n\r\nwith `@Import(value=...)` or `@ContextConfiguration(classes=...)` or by other means.","title":"MockMVC how to test exception and response code in the same test case","body":"<p>If you have an <strong>exception handler</strong> and you want to test for a specific exception, you could also assert that the instance is valid in the resolved exception.</p>\n<pre><code>.andExpect(result -&gt; assertTrue(result.getResolvedException() instanceof WhateverException))\n</code></pre>\n<p><strong>UPDATE</strong> (gavenkoa) Don't forget to inject <code>@ExceptionHandler</code> annotated methods to the test context or exception will occur at <code>.perform()</code> instead of capturing it with <code>.andExpect()</code>, basically register:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class MyExceptionHandlers {\n    @ExceptionHandler(BindException.class)\n    public ResponseEntity&lt;?&gt; handle(BindException ex) { ... }\n}\n</code></pre>\n<p>with <code>@Import(value=...)</code> or <code>@ContextConfiguration(classes=...)</code> or by other means.</p>\n"},{"tags":[],"owner":{"account_id":1403129,"reputation":4459,"user_id":1331539,"accept_rate":94,"display_name":"jmhostalet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602075800,"creation_date":1602075800,"answer_id":64244594,"question_id":16605811,"body_markdown":"I recently encountered the same error, and instead of using MockMVC I created an integration test as follows:\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @ContextConfiguration(classes = { MyTestConfiguration.class })\r\n    public class MyTest {\r\n    \t\r\n    \t@Autowired\r\n        private TestRestTemplate testRestTemplate;\r\n    \t\r\n    \t@Test\r\n    \tpublic void myTest() throws Exception {\r\n    \t\t\r\n    \t\tResponseEntity&lt;String&gt; response = testRestTemplate.getForEntity(&quot;/test&quot;, String.class);\r\n    \t\t\r\n    \t\tassertEquals(HttpStatus.INTERNAL_SERVER_ERROR, response.getStatusCode(), &quot;unexpected status code&quot;);\r\n    \t\t\r\n    \t}\t\r\n    }\r\n\r\nand \r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration(exclude = NotDesiredConfiguration.class)\r\n    public class MyTestConfiguration {\r\n    \t\r\n    \t@RestController\r\n    \tpublic class TestController {\r\n    \t\t\r\n    \t\t@GetMapping(&quot;/test&quot;)\r\n    \t\tpublic ResponseEntity&lt;String&gt; get() throws Exception{\r\n    \t\t\tthrow new Exception(&quot;not nice&quot;);\r\n    \t\t}\t\t\t\r\n    \t}\t\r\n    }\r\n\r\nthis post was very helpful: https://github.com/spring-projects/spring-boot/issues/7321","title":"MockMVC how to test exception and response code in the same test case","body":"<p>I recently encountered the same error, and instead of using MockMVC I created an integration test as follows:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ContextConfiguration(classes = { MyTestConfiguration.class })\npublic class MyTest {\n    \n    @Autowired\n    private TestRestTemplate testRestTemplate;\n    \n    @Test\n    public void myTest() throws Exception {\n        \n        ResponseEntity&lt;String&gt; response = testRestTemplate.getForEntity(&quot;/test&quot;, String.class);\n        \n        assertEquals(HttpStatus.INTERNAL_SERVER_ERROR, response.getStatusCode(), &quot;unexpected status code&quot;);\n        \n    }   \n}\n</code></pre>\n<p>and</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude = NotDesiredConfiguration.class)\npublic class MyTestConfiguration {\n    \n    @RestController\n    public class TestController {\n        \n        @GetMapping(&quot;/test&quot;)\n        public ResponseEntity&lt;String&gt; get() throws Exception{\n            throw new Exception(&quot;not nice&quot;);\n        }           \n    }   \n}\n</code></pre>\n<p>this post was very helpful: <a href=\"https://github.com/spring-projects/spring-boot/issues/7321\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/7321</a></p>\n"}],"owner":{"display_name":"user425367"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81716,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":5,"score":34,"last_activity_date":1664878346,"creation_date":1368783181,"question_id":16605811,"body_markdown":"I want to assert that an exception is raised and that the server returns an 500 internal server error.\r\n\r\nTo highlight the intent a code snippet is provided:\r\n\r\n    thrown.expect(NestedServletException.class);\r\n    this.mockMvc.perform(post(&quot;/account&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(requestString))\r\n                .andExpect(status().isInternalServerError());\r\n\r\nOf course it dosen&#39;t matter if I write `isInternalServerError` or `isOk`.\r\nThe test will pass regardless if an exception is thrown below the `throw.except` statement.\r\n\r\nHow would you go about to solve this?\r\n\r\n","title":"MockMVC how to test exception and response code in the same test case","body":"<p>I want to assert that an exception is raised and that the server returns an 500 internal server error.</p>\n\n<p>To highlight the intent a code snippet is provided:</p>\n\n<pre><code>thrown.expect(NestedServletException.class);\nthis.mockMvc.perform(post(\"/account\")\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(requestString))\n            .andExpect(status().isInternalServerError());\n</code></pre>\n\n<p>Of course it dosen't matter if I write <code>isInternalServerError</code> or <code>isOk</code>.\nThe test will pass regardless if an exception is thrown below the <code>throw.except</code> statement.</p>\n\n<p>How would you go about to solve this?</p>\n"},{"tags":["java","eclipse","generics"],"comments":[{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":3,"creation_date":1664815904,"post_id":73938491,"comment_id":130552561,"body_markdown":"Are you sure you have the eclipse settings pointed at the right java language level?","body":"Are you sure you have the eclipse settings pointed at the right java language level?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1664815992,"post_id":73938491,"comment_id":130552586,"body_markdown":"Seems very likely that you are using two versions of javac","body":"Seems very likely that you are using two versions of javac"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":4,"creation_date":1664816451,"post_id":73938491,"comment_id":130552701,"body_markdown":"Eclipse uses its own compiler (&quot;ecj&quot;) rather than javac so there are ocassionally differences from javac in what it thinks is valid.","body":"Eclipse uses its own compiler (&quot;ecj&quot;) rather than javac so there are ocassionally differences from javac in what it thinks is valid."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1664830793,"post_id":73938491,"comment_id":130556739,"body_markdown":"Note: It doesn&#39;t matter what Installed JREs you tell Eclipse about, the compiler is always the internal ecj compiler - which can compile for any compliance level. This looks like it is a bug in either ecj or javac.","body":"Note: It doesn&#39;t matter what Installed JREs you tell Eclipse about, the compiler is always the internal ecj compiler - which can compile for any compliance level. This looks like it is a bug in either ecj or javac."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1664883542,"post_id":73938491,"comment_id":130567455,"body_markdown":"i can reproduce..looks like an ecj issue. A workaround: `public abstract class AbstractForEachValidatorBuilder&lt;T, V, X&gt; extends ValidatorBuilder&lt;V&gt; {\n\n    private List&lt;ValidatorGroupBuilder&lt;T, X&gt;&gt; validatorGroupBuilders = new ArrayList&lt;ValidatorGroupBuilder&lt;T, X&gt;&gt;();\n\n    protected List&lt;ValidatorGroup&lt;T,X&gt;&gt; initGroups() {\n        return initAndBuildList(this.validatorGroupBuilders);\n    } // as before` ?? (introducing type parameter `X` and replacing it (with first 3) occurrences of `?`)","body":"i can reproduce..looks like an ecj issue. A workaround: <code>public abstract class AbstractForEachValidatorBuilder&lt;T, V, X&gt; extends ValidatorBuilder&lt;V&gt; {      private List&lt;ValidatorGroupBuilder&lt;T, X&gt;&gt; validatorGroupBuilders = new ArrayList&lt;ValidatorGroupBuilder&lt;T, X&gt;&gt;();      protected List&lt;ValidatorGroup&lt;T,X&gt;&gt; initGroups() {         return initAndBuildList(this.validatorGroupBuilders);     } &#47;&#47; as before</code> ?? (introducing type parameter <code>X</code> and replacing it (with first 3) occurrences of <code>?</code>)"},{"owner":{"account_id":3158846,"reputation":3608,"user_id":2670571,"accept_rate":52,"display_name":"John"},"score":1,"creation_date":1664891029,"post_id":73938491,"comment_id":130570104,"body_markdown":"@xerx593, Thanks! Your workaround saves the day... but doesn&#39;t explain why it compiles using mvn at the command line but does not compile in Eclipse. I&#39;ve opened a bug in Eclipse&#39;s bugzilla for this.  I&#39;ll post here when I hear back from them.","body":"@xerx593, Thanks! Your workaround saves the day... but doesn&#39;t explain why it compiles using mvn at the command line but does not compile in Eclipse. I&#39;ve opened a bug in Eclipse&#39;s bugzilla for this.  I&#39;ll post here when I hear back from them."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1664891670,"post_id":73938491,"comment_id":130570367,"body_markdown":"&quot;reproduce&quot; doesn&#39;t mean understand :) ..but, very welcome! ..please transfer savings to .... xDxDxD, thank You for opening that issue! My &quot;workaround&quot; (of course) is a heavy intervention in your code! ...","body":"&quot;reproduce&quot; doesn&#39;t mean understand :) ..but, very welcome! ..please transfer savings to .... xDxDxD, thank You for opening that issue! My &quot;workaround&quot; (of course) is a heavy intervention in your code! ..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664891771,"post_id":73938491,"comment_id":130570407,"body_markdown":"But since there isn&#39;t even javadoc, ..and helped me (and apparently ecj) to &quot;better structure the problem&quot;..why not!? ;p","body":"But since there isn&#39;t even javadoc, ..and helped me (and apparently ecj) to &quot;better structure the problem&quot;..why not!? ;p"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664892837,"post_id":73938491,"comment_id":130570899,"body_markdown":"An important setting I missed in your screenshots is &quot;Project&gt;Build Automatically&quot; (but it doesn&#39;t help much with the original issue...for this you&#39;d had to prevent all &quot;eclipse builds&quot;, but only use (maven)  &quot;run configurations&quot;... ;(","body":"An important setting I missed in your screenshots is &quot;Project&gt;Build Automatically&quot; (but it doesn&#39;t help much with the original issue...for this you&#39;d had to prevent all &quot;eclipse builds&quot;, but only use (maven)  &quot;run configurations&quot;... ;("}],"owner":{"account_id":3158846,"reputation":3608,"user_id":2670571,"accept_rate":52,"display_name":"John"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664878032,"creation_date":1664815799,"question_id":73938491,"body_markdown":"I have some open source code I&#39;m looking at.  The project compiles at the command line using mvn clean install.  \r\n\r\nThe project gives the errors shown below when opened in Eclipse.  \r\n\r\nI&#39;m thinking I have not set the Java compiler version correctly and Eclipse is using a different version of Java than I think it is.  \r\n\r\nIs this type of use of generics allowed in some versions of java but not in others?\r\n\r\nThe second call below compiles.  \r\n\r\nThe first call below gives the compiler error below, but only in Eclipse, not when compiled using mvn clean install at the command line.  \r\n\r\n    Type mismatch: cannot convert from List&lt;ValidatorGroup&lt;T,?&gt;&gt; to List&lt;ValidatorGroup&lt;T,?&gt;&gt;\tAbstractForEachValidatorBuilder.java\t/WebAPI/src/main/java/org/ohdsi/webapi/check/builder\tline 44\tJava Problem\r\n\r\nNote the change in return types from &amp;lt;U&amp;gt; List&amp;lt;U&amp;gt; to List&amp;lt;ValidatorGroup&amp;lt;T,?&amp;gt;&amp;gt;. \r\n\r\n \r\n\r\n    private List&lt;ValidatorGroupBuilder&lt;T, ?&gt;&gt; validatorGroupBuilders = new ArrayList&lt;&gt;();\r\n    private List&lt;ValidatorBuilder&lt;T&gt;&gt; validatorBuilders = new ArrayList&lt;&gt;();\r\n\r\n\r\n    protected List&lt;ValidatorGroup&lt;T,?&gt;&gt; initGroups() {\r\n        return initAndBuildList(this.validatorGroupBuilders);\r\n    }\r\n\r\n    protected List&lt;Validator&lt;T&gt;&gt; initValidators() {\r\n        return initAndBuildList(this.validatorBuilders);\r\n    }\r\n\r\n    private &lt;U&gt; List&lt;U&gt; initAndBuildList(List&lt;? extends ValidatorBaseBuilder&lt;T, U, ?&gt;&gt; builders) {\r\n\r\n        //...do stuff\r\n    }\r\n\r\n\r\n\r\n**The ValidatorBuild class**\r\n\r\n    public abstract class ValidatorBuilder&lt;T&gt; extends ValidatorBaseBuilder&lt;T, Validator&lt;T&gt;, ValidatorBuilder&lt;T&gt;&gt; {\r\n    \r\n        public abstract Validator&lt;T&gt; build();\r\n    \r\n    }\r\n\r\n**The ValidatorGroupBuilder class**\r\n\r\n    public class ValidatorGroupBuilder&lt;T, V&gt; extends ValidatorBaseBuilder&lt;T, ValidatorGroup&lt;T, V&gt;, ValidatorGroupBuilder&lt;T, V&gt;&gt; {\r\n\r\nFull project is here: https://github.com/OHDSI/WebAPI \r\n\r\n**--- EDIT ---------------------------**\r\n\r\n**Here are the places where I&#39;ve set the Java version to 1.8**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**From the pom.xml file**\r\n\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\r\n**From the pom.xml file**\r\n\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1&lt;/version&gt;\r\n        &lt;inherited&gt;true&lt;/inherited&gt;\r\n        &lt;configuration&gt;\r\n\t\t  &lt;source&gt;1.8&lt;/source&gt;\r\n\t\t  &lt;target&gt;1.8&lt;/target&gt;\r\n          &lt;compilerArgs&gt;\r\n            &lt;!-- Prevents recompilation due to missing package-info.class, see MCOMPILER-205 --&gt;\r\n            &lt;arg&gt;-Xpkginfo:always&lt;/arg&gt;\r\n          &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n\r\n**--- SECOND EDIT --------------------------------------**\r\n\r\nBoth the MVN build and the Eclipse build generate classes with major version of 52 (Java 8).  \r\n\r\n[![enter image description here][6]][6]\r\n\r\nWhen I create a JUnit test and run it in my Eclipse environment it indicates a JRE of 1.8.0_261.  \r\n\r\n**--- THIRD EDIT -------------------------------------------**\r\n\r\nA complete minimum example that gives this error is provided here:\r\nhttps://github.com/NACHC-CAD/eclipse-compile-error-example\r\n\r\nThis project compiles with MVN\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\nThis project does not compile in Eclipse\r\n\r\n[![enter image description here][8]][8]\r\n\r\nThis is the version of Eclipse I&#39;m using\r\n\r\n[![enter image description here][9]][9]\r\n\r\nThe issue is also seen in this version of Eclipse:\r\n\r\n[![enter image description here][10]][10]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6anZq.png\r\n  [2]: https://i.stack.imgur.com/wMC0p.png\r\n  [3]: https://i.stack.imgur.com/ADuPb.png\r\n  [4]: https://i.stack.imgur.com/0N0HW.png\r\n  [5]: https://i.stack.imgur.com/I7Ga4.png\r\n  [6]: https://i.stack.imgur.com/IBtc7.png\r\n  [7]: https://i.stack.imgur.com/lJS5Q.png\r\n  [8]: https://i.stack.imgur.com/KbWsJ.png\r\n  [9]: https://i.stack.imgur.com/af9XH.png\r\n  [10]: https://i.stack.imgur.com/1mSrH.png","title":"Clever use of generics seems to compile in one Java version but does not in Eclipse","body":"<p>I have some open source code I'm looking at.  The project compiles at the command line using mvn clean install.</p>\n<p>The project gives the errors shown below when opened in Eclipse.</p>\n<p>I'm thinking I have not set the Java compiler version correctly and Eclipse is using a different version of Java than I think it is.</p>\n<p>Is this type of use of generics allowed in some versions of java but not in others?</p>\n<p>The second call below compiles.</p>\n<p>The first call below gives the compiler error below, but only in Eclipse, not when compiled using mvn clean install at the command line.</p>\n<pre><code>Type mismatch: cannot convert from List&lt;ValidatorGroup&lt;T,?&gt;&gt; to List&lt;ValidatorGroup&lt;T,?&gt;&gt;   AbstractForEachValidatorBuilder.java    /WebAPI/src/main/java/org/ohdsi/webapi/check/builder    line 44 Java Problem\n</code></pre>\n<p>Note the change in return types from &lt;U&gt; List&lt;U&gt; to List&lt;ValidatorGroup&lt;T,?&gt;&gt;.</p>\n<pre><code>private List&lt;ValidatorGroupBuilder&lt;T, ?&gt;&gt; validatorGroupBuilders = new ArrayList&lt;&gt;();\nprivate List&lt;ValidatorBuilder&lt;T&gt;&gt; validatorBuilders = new ArrayList&lt;&gt;();\n\n\nprotected List&lt;ValidatorGroup&lt;T,?&gt;&gt; initGroups() {\n    return initAndBuildList(this.validatorGroupBuilders);\n}\n\nprotected List&lt;Validator&lt;T&gt;&gt; initValidators() {\n    return initAndBuildList(this.validatorBuilders);\n}\n\nprivate &lt;U&gt; List&lt;U&gt; initAndBuildList(List&lt;? extends ValidatorBaseBuilder&lt;T, U, ?&gt;&gt; builders) {\n\n    //...do stuff\n}\n</code></pre>\n<p><strong>The ValidatorBuild class</strong></p>\n<pre><code>public abstract class ValidatorBuilder&lt;T&gt; extends ValidatorBaseBuilder&lt;T, Validator&lt;T&gt;, ValidatorBuilder&lt;T&gt;&gt; {\n\n    public abstract Validator&lt;T&gt; build();\n\n}\n</code></pre>\n<p><strong>The ValidatorGroupBuilder class</strong></p>\n<pre><code>public class ValidatorGroupBuilder&lt;T, V&gt; extends ValidatorBaseBuilder&lt;T, ValidatorGroup&lt;T, V&gt;, ValidatorGroupBuilder&lt;T, V&gt;&gt; {\n</code></pre>\n<p>Full project is here: <a href=\"https://github.com/OHDSI/WebAPI\" rel=\"nofollow noreferrer\">https://github.com/OHDSI/WebAPI</a></p>\n<p><strong>--- EDIT ---------------------------</strong></p>\n<p><strong>Here are the places where I've set the Java version to 1.8</strong></p>\n<p><a href=\"https://i.stack.imgur.com/6anZq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6anZq.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/wMC0p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wMC0p.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ADuPb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ADuPb.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0N0HW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0N0HW.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/I7Ga4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I7Ga4.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>From the pom.xml file</strong></p>\n<pre><code>&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n</code></pre>\n<p><strong>From the pom.xml file</strong></p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n    &lt;inherited&gt;true&lt;/inherited&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;1.8&lt;/source&gt;\n      &lt;target&gt;1.8&lt;/target&gt;\n      &lt;compilerArgs&gt;\n        &lt;!-- Prevents recompilation due to missing package-info.class, see MCOMPILER-205 --&gt;\n        &lt;arg&gt;-Xpkginfo:always&lt;/arg&gt;\n      &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p><strong>--- SECOND EDIT --------------------------------------</strong></p>\n<p>Both the MVN build and the Eclipse build generate classes with major version of 52 (Java 8).</p>\n<p><a href=\"https://i.stack.imgur.com/IBtc7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IBtc7.png\" alt=\"enter image description here\" /></a></p>\n<p>When I create a JUnit test and run it in my Eclipse environment it indicates a JRE of 1.8.0_261.</p>\n<p><strong>--- THIRD EDIT -------------------------------------------</strong></p>\n<p>A complete minimum example that gives this error is provided here:\n<a href=\"https://github.com/NACHC-CAD/eclipse-compile-error-example\" rel=\"nofollow noreferrer\">https://github.com/NACHC-CAD/eclipse-compile-error-example</a></p>\n<p>This project compiles with MVN</p>\n<p><a href=\"https://i.stack.imgur.com/lJS5Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lJS5Q.png\" alt=\"enter image description here\" /></a></p>\n<p>This project does not compile in Eclipse</p>\n<p><a href=\"https://i.stack.imgur.com/KbWsJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KbWsJ.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the version of Eclipse I'm using</p>\n<p><a href=\"https://i.stack.imgur.com/af9XH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/af9XH.png\" alt=\"enter image description here\" /></a></p>\n<p>The issue is also seen in this version of Eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/1mSrH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1mSrH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","jdk6"],"comments":[{"owner":{"account_id":1335201,"reputation":1177,"user_id":1278129,"accept_rate":71,"display_name":"Augustas"},"score":0,"creation_date":1664874940,"post_id":73944929,"comment_id":130564757,"body_markdown":"you are probably right, that JDK version is too low. Just try lowering plugin version to 1.6 or 2.* and see if it goes.","body":"you are probably right, that JDK version is too low. Just try lowering plugin version to 1.6 or 2.* and see if it goes."},{"owner":{"account_id":25896687,"reputation":31,"user_id":19623162,"display_name":"smxh"},"score":0,"creation_date":1664876712,"post_id":73944929,"comment_id":130565301,"body_markdown":"so I should lower maven-help-plugin plugin right? the maven uses `mvn help:evaluate` command, so I should lower it in pom.xml or in the command? I still get confused about it","body":"so I should lower maven-help-plugin plugin right? the maven uses <code>mvn help:evaluate</code> command, so I should lower it in pom.xml or in the command? I still get confused about it"},{"owner":{"account_id":25896687,"reputation":31,"user_id":19623162,"display_name":"smxh"},"score":0,"creation_date":1664877880,"post_id":73944929,"comment_id":130565676,"body_markdown":"tried to use full path to help plugin in command line, and it worked :)","body":"tried to use full path to help plugin in command line, and it worked :)"}],"answers":[{"tags":[],"owner":{"account_id":25896687,"reputation":31,"user_id":19623162,"display_name":"smxh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664877960,"creation_date":1664877960,"answer_id":73946278,"question_id":73944929,"body_markdown":"indeed problem was in too high version of help plugin, I lower it to 2.2 and its fine\r\n\r\nadding direct path to selected version of help plugin worked for me:\r\n`$MVN_CMD org.apache.maven.plugins:maven-help-plugin:2.2:evaluate`","title":"Error while running building maven project - plugins, API incompatibility","body":"<p>indeed problem was in too high version of help plugin, I lower it to 2.2 and its fine</p>\n<p>adding direct path to selected version of help plugin worked for me:\n<code>$MVN_CMD org.apache.maven.plugins:maven-help-plugin:2.2:evaluate</code></p>\n"}],"owner":{"account_id":25896687,"reputation":31,"user_id":19623162,"display_name":"smxh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73946278,"answer_count":1,"score":0,"last_activity_date":1664877960,"creation_date":1664871431,"question_id":73944929,"body_markdown":"I am facing problem while trying to run maven build with JDK6. I am running build inside docker container with JDK6 and Maven.\r\n\r\nDo I get it right, that the plugins are not compatibile with JDK6 version and I should use lower version of **help** plugin? I cannot change JDK version to higher, I ran into this problem while trying to enable bulding project with JDK6, so I want to solve this problem.\r\n\r\nerror message from Maven:\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-help-plugin:3.2.0:evaluate (default-cli) on project security-component: Execution default-cli of goal org.apache.maven.plugins:maven-help-plugin:3.2.0:evaluate failed: Unable to load the mojo &#39;evaluate&#39; in the plugin &#39;org.apache.maven.plugins:maven-help-plugin:3.2.0&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: org/apache/maven/plugins/help/EvaluateMojo : Unsupported major.minor version 51.0\r\n[ERROR] -----------------------------------------------------\r\n[ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-help-plugin:3.2.0\r\n```\r\n\r\n\r\n`mvn -version` output:\r\n```Apache Maven 3.0.5\r\nMaven home: /usr/share/maven\r\nJava version: 1.6.0_41, vendor: Sun Microsystems Inc.\r\nJava home: /usr/lib/jvm/java-6-openjdk-amd64/jre\r\n```\r\n","title":"Error while running building maven project - plugins, API incompatibility","body":"<p>I am facing problem while trying to run maven build with JDK6. I am running build inside docker container with JDK6 and Maven.</p>\n<p>Do I get it right, that the plugins are not compatibile with JDK6 version and I should use lower version of <strong>help</strong> plugin? I cannot change JDK version to higher, I ran into this problem while trying to enable bulding project with JDK6, so I want to solve this problem.</p>\n<p>error message from Maven:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-help-plugin:3.2.0:evaluate (default-cli) on project security-component: Execution default-cli of goal org.apache.maven.plugins:maven-help-plugin:3.2.0:evaluate failed: Unable to load the mojo 'evaluate' in the plugin 'org.apache.maven.plugins:maven-help-plugin:3.2.0' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: org/apache/maven/plugins/help/EvaluateMojo : Unsupported major.minor version 51.0\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-help-plugin:3.2.0\n</code></pre>\n<p><code>mvn -version</code> output:</p>\n<pre><code>Maven home: /usr/share/maven\nJava version: 1.6.0_41, vendor: Sun Microsystems Inc.\nJava home: /usr/lib/jvm/java-6-openjdk-amd64/jre\n</code></pre>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1664813724,"post_id":73937995,"comment_id":130551865,"body_markdown":"this is not how you run a web application with tomcat","body":"this is not how you run a web application with tomcat"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1664868266,"post_id":73937995,"comment_id":130562704,"body_markdown":"@SharonBenAsher the opener is not trying to run the application, rather *compile* it, as clearly stated in the title.","body":"@SharonBenAsher the opener is not trying to run the application, rather <i>compile</i> it, as clearly stated in the title."}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664868359,"creation_date":1664868359,"answer_id":73944376,"question_id":73937995,"body_markdown":"Tomcat 10 is using the new `jakarta.*` namespace for the servlet packages. You are importing the old `javax.servlet.*`. Just replace `javax.servlet.` with `jakarta.servlet.` and compilation should work.","title":"Faild compilation standard servlet example","body":"<p>Tomcat 10 is using the new <code>jakarta.*</code> namespace for the servlet packages. You are importing the old <code>javax.servlet.*</code>. Just replace <code>javax.servlet.</code> with <code>jakarta.servlet.</code> and compilation should work.</p>\n"}],"owner":{"account_id":26516950,"reputation":11,"user_id":20151314,"display_name":"Denys Garbuz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664877875,"accepted_answer_id":73944376,"answer_count":1,"score":0,"last_activity_date":1664877881,"creation_date":1664813017,"question_id":73937995,"body_markdown":"    G:\\demo3\\src\\main\\java\\com\\example\\demo3&gt;javac HelloServlet.java -classpath &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 10.0\\lib\\servlet-api.jar&quot;\r\n    HelloServlet.java:8: error: cannot find symbol\r\n    public class HelloServlet extends GenericServlet{\r\n                                      ^\r\n      symbol: class GenericServlet\r\n    HelloServlet.java:10: error: cannot find symbol\r\n        public void service(ServletRequest servletRequest, ServletResponse servletResponse)\r\n                            ^\r\n      symbol:   class ServletRequest\r\n      location: class HelloServlet\r\n    HelloServlet.java:10: error: cannot find symbol\r\n        public void service(ServletRequest servletRequest, ServletResponse servletResponse)\r\n                                                           ^\r\n      symbol:   class ServletResponse\r\n      location: class HelloServlet\r\n    HelloServlet.java:11: error: cannot find symbol\r\n                throws ServletException, IOException {\r\n                       ^\r\n      symbol:   class ServletException\r\n      location: class HelloServlet\r\n    HelloServlet.java:3: error: package javax.servlet does not exist\r\n    import javax.servlet.*;\r\n    ^\r\n    HelloServlet.java:9: error: method does not override or implement a method from a supertype\r\n        @Override\r\n        ^\r\n    6 errors\r\n\r\nwhat iam doing wrong? CLASSPATH created to servlet-api.jar file btw\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7hWkA.jpg\r\n\r\n","title":"Faild compilation standard servlet example","body":"<pre><code>G:\\demo3\\src\\main\\java\\com\\example\\demo3&gt;javac HelloServlet.java -classpath &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 10.0\\lib\\servlet-api.jar&quot;\nHelloServlet.java:8: error: cannot find symbol\npublic class HelloServlet extends GenericServlet{\n                                  ^\n  symbol: class GenericServlet\nHelloServlet.java:10: error: cannot find symbol\n    public void service(ServletRequest servletRequest, ServletResponse servletResponse)\n                        ^\n  symbol:   class ServletRequest\n  location: class HelloServlet\nHelloServlet.java:10: error: cannot find symbol\n    public void service(ServletRequest servletRequest, ServletResponse servletResponse)\n                                                       ^\n  symbol:   class ServletResponse\n  location: class HelloServlet\nHelloServlet.java:11: error: cannot find symbol\n            throws ServletException, IOException {\n                   ^\n  symbol:   class ServletException\n  location: class HelloServlet\nHelloServlet.java:3: error: package javax.servlet does not exist\nimport javax.servlet.*;\n^\nHelloServlet.java:9: error: method does not override or implement a method from a supertype\n    @Override\n    ^\n6 errors\n</code></pre>\n<p>what iam doing wrong? CLASSPATH created to servlet-api.jar file btw\n<a href=\"https://i.stack.imgur.com/7hWkA.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","javafx","webview"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1664889896,"post_id":73946247,"comment_id":130569672,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1664926638,"post_id":73946247,"comment_id":130580284,"body_markdown":"I’m voting to close this question because I don&#39;t know any reason why somebody would help you write a program that guesses captchas here.","body":"I’m voting to close this question because I don&#39;t know any reason why somebody would help you write a program that guesses captchas here."}],"owner":{"account_id":18266068,"reputation":21,"user_id":13297767,"display_name":"autosync"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664877824,"creation_date":1664877824,"question_id":73946247,"body_markdown":"I want to create a captcha typing software for multiple accounts with the website https://kolotibablo.com/\r\n\r\nI have problem when captcha appear [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cjXRe.png\r\nif for a few seconds I don&#39;t enter a character in the input box.It will disappear.I am using javafx&#39;s webview.I use the code to enter a few random characters.\r\n\r\n    webView.getWebEngine().executeScript(&quot;document.getElementById(\\&quot;guesstext\\&quot;).value = \\&quot;RANDOM\\&quot;&quot;);\r\n\r\n I want to keep the process checked before I go back to typing it.Please help me\r\n\r\n","title":"Eliminate time checking when entering captcha when creating multi-account software on kolotibablo","body":"<p>I want to create a captcha typing software for multiple accounts with the website <a href=\"https://kolotibablo.com/\" rel=\"nofollow noreferrer\">https://kolotibablo.com/</a></p>\n<p>I have problem when captcha appear <a href=\"https://i.stack.imgur.com/cjXRe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cjXRe.png\" alt=\"enter image description here\" /></a></p>\n<p>if for a few seconds I don't enter a character in the input box.It will disappear.I am using javafx's webview.I use the code to enter a few random characters.</p>\n<pre><code>webView.getWebEngine().executeScript(&quot;document.getElementById(\\&quot;guesstext\\&quot;).value = \\&quot;RANDOM\\&quot;&quot;);\n</code></pre>\n<p>I want to keep the process checked before I go back to typing it.Please help me</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":26521942,"reputation":54,"user_id":20155481,"display_name":"James Gyps"},"score":0,"creation_date":1664865474,"post_id":73943505,"comment_id":130561975,"body_markdown":"Important to mention, also setTitle does not work on the BottomNav. yet setBackground works.","body":"Important to mention, also setTitle does not work on the BottomNav. yet setBackground works."}],"answers":[{"tags":[],"owner":{"account_id":16010862,"reputation":2281,"user_id":11555065,"display_name":"DHAVAL A."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664866712,"creation_date":1664865747,"answer_id":73943978,"question_id":73943505,"body_markdown":"I&#39;m not sure if `onPrepareOptionsMenu` invoked for bottom navigation bar.\r\n\r\nYou should have to update navigation menu icon from `onCreate` method of that Activity.\r\n\r\nRefer below code,\r\n```\r\nval menu = navigation.menu\r\nval menuItem = menu.findItem(R.id.navigation_notifications) // find particular menu-item using its ID.\r\nmenuItem?.icon = this.bitmap_pic\r\n```\r\n\r\nSolution for Gray icon tint, \r\nadd below line.\r\n```\r\nMenuItemCompat.setIconTintMode(menuItem, PorterDuff.Mode.DST)\r\n```","title":"ActionBar in Android overrides the BottomNavigation","body":"<p>I'm not sure if <code>onPrepareOptionsMenu</code> invoked for bottom navigation bar.</p>\n<p>You should have to update navigation menu icon from <code>onCreate</code> method of that Activity.</p>\n<p>Refer below code,</p>\n<pre><code>val menu = navigation.menu\nval menuItem = menu.findItem(R.id.navigation_notifications) // find particular menu-item using its ID.\nmenuItem?.icon = this.bitmap_pic\n</code></pre>\n<p>Solution for Gray icon tint,\nadd below line.</p>\n<pre><code>MenuItemCompat.setIconTintMode(menuItem, PorterDuff.Mode.DST)\n</code></pre>\n"}],"owner":{"account_id":26521942,"reputation":54,"user_id":20155481,"display_name":"James Gyps"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73943978,"answer_count":1,"score":2,"last_activity_date":1664877740,"creation_date":1664862064,"question_id":73943505,"body_markdown":"When trying to change an icon to a downloaded drawable (or actually changing to any other icon during runtime), the icon changes once on the ActionBar.\r\n\r\nI actually want to remove the ActionBar and leave only the bottomnav (tabs) for navigation, yet whatever i&#39;m doing the icon changes only on the ActionBar.\r\n\r\n\r\nThe item inside bottom_nav_menu.xml:\r\n\r\n        &lt;item\r\n        android:id=&quot;@+id/navigation_notifications&quot;\r\n        android:icon=&quot;@drawable/ic_dashboard_black_24dp&quot;\r\n        android:title=&quot;@string/title_notifications&quot;\r\n        app:showAsAction=&quot;ifRoom&quot;/&gt;\r\n\r\nThe code that changes the icon:\r\n\r\n    @Override\r\n    public boolean onPrepareOptionsMenu (Menu menu){\r\n        menu.clear();\r\n        getMenuInflater().inflate(R.menu.bottom_nav_menu, menu);\r\n        menu.getItem(2).setIcon(this.bitmap_pic);\r\n    \r\n        Log.e(TAG, &quot;Icon Changed&quot;);\r\n        return super.onPrepareOptionsMenu(menu);\r\n    }\r\n\r\n\r\nThe result - Icon stays blank on BottomNav but appears on the ActionBar.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nExpected result: BottomNav icon will be the image that shown on the top right.\r\n\r\nThanks\r\n\r\n\r\n**EDIT!**\r\n\r\nIssue was fixed after inflating the main_activity layout that contains the BottomNavView\r\n\r\nNow the problem the picture isn&#39;t showing properly, attached a screenshot (Image is grey instead of showing the icon like in the ActionBar in the first picture):\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Edit 2**\r\n\r\nIcon is still grey instead of showing the bitmap picture.\r\nAdded:\r\n\r\n    MenuItemCompat.setIconTintMode(bottomNavigationView.getMenu().getItem(2), PorterDuff.Mode.CLEAR);\r\n\r\nBut it still shows up like in the picture below\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2mB2m.png\r\n  [2]: https://i.stack.imgur.com/5DQj1.png\r\n  [3]: https://i.stack.imgur.com/xo74Y.png\r\n\r\n**Edit 3**\r\n\r\nFixed the issue using:\r\n\r\n            bottomNavigationView.setItemIconTintList(null);\r\n","title":"ActionBar in Android overrides the BottomNavigation","body":"<p>When trying to change an icon to a downloaded drawable (or actually changing to any other icon during runtime), the icon changes once on the ActionBar.</p>\n<p>I actually want to remove the ActionBar and leave only the bottomnav (tabs) for navigation, yet whatever i'm doing the icon changes only on the ActionBar.</p>\n<p>The item inside bottom_nav_menu.xml:</p>\n<pre><code>    &lt;item\n    android:id=&quot;@+id/navigation_notifications&quot;\n    android:icon=&quot;@drawable/ic_dashboard_black_24dp&quot;\n    android:title=&quot;@string/title_notifications&quot;\n    app:showAsAction=&quot;ifRoom&quot;/&gt;\n</code></pre>\n<p>The code that changes the icon:</p>\n<pre><code>@Override\npublic boolean onPrepareOptionsMenu (Menu menu){\n    menu.clear();\n    getMenuInflater().inflate(R.menu.bottom_nav_menu, menu);\n    menu.getItem(2).setIcon(this.bitmap_pic);\n\n    Log.e(TAG, &quot;Icon Changed&quot;);\n    return super.onPrepareOptionsMenu(menu);\n}\n</code></pre>\n<p>The result - Icon stays blank on BottomNav but appears on the ActionBar.</p>\n<p><a href=\"https://i.stack.imgur.com/2mB2m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2mB2m.png\" alt=\"enter image description here\" /></a></p>\n<p>Expected result: BottomNav icon will be the image that shown on the top right.</p>\n<p>Thanks</p>\n<p><strong>EDIT!</strong></p>\n<p>Issue was fixed after inflating the main_activity layout that contains the BottomNavView</p>\n<p>Now the problem the picture isn't showing properly, attached a screenshot (Image is grey instead of showing the icon like in the ActionBar in the first picture):</p>\n<p><a href=\"https://i.stack.imgur.com/5DQj1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5DQj1.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit 2</strong></p>\n<p>Icon is still grey instead of showing the bitmap picture.\nAdded:</p>\n<pre><code>MenuItemCompat.setIconTintMode(bottomNavigationView.getMenu().getItem(2), PorterDuff.Mode.CLEAR);\n</code></pre>\n<p>But it still shows up like in the picture below</p>\n<p><a href=\"https://i.stack.imgur.com/xo74Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xo74Y.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit 3</strong></p>\n<p>Fixed the issue using:</p>\n<pre><code>        bottomNavigationView.setItemIconTintList(null);\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"score":0,"creation_date":1664880464,"post_id":73945284,"comment_id":130566460,"body_markdown":"The indentation causing this error, Removing `tab spaces` will solve this problem","body":"The indentation causing this error, Removing <code>tab spaces</code> will solve this problem"}],"answers":[{"tags":[],"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664874848,"creation_date":1664874848,"answer_id":73945604,"question_id":73945284,"body_markdown":"Remove the tabs when parsing (&quot;\\t&quot;) I think. ","title":"line breaks in string resource","body":"<p>Remove the tabs when parsing (&quot;\\t&quot;) I think.</p>\n"},{"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664874849,"creation_date":1664874849,"answer_id":73945605,"question_id":73945284,"body_markdown":"one simple way is use &quot;&quot; in your text string, such as like this:\r\n```\r\n    &lt;string name=&quot;text&quot;&gt;\r\n&quot;This is the first line\r\nThis is the second line&quot;\r\n    &lt;/string&gt;\r\n```","title":"line breaks in string resource","body":"<p>one simple way is use &quot;&quot; in your text string, such as like this:</p>\n<pre><code>    &lt;string name=&quot;text&quot;&gt;\n&quot;This is the first line\nThis is the second line&quot;\n    &lt;/string&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26184382,"reputation":9,"user_id":19867158,"display_name":"Nader"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664876060,"creation_date":1664876060,"answer_id":73945889,"question_id":73945284,"body_markdown":"I use usually something like this below:\r\n\r\n[![Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BGP8w.jpg\r\n\r\nYou can use this also for long texts. You have to write this without tabs or spaces, just from the begin of the line like the photo.\r\n\r\nEdited: \r\n&quot;br tag&quot; is used for new line","title":"line breaks in string resource","body":"<p>I use usually something like this below:</p>\n<p><a href=\"https://i.stack.imgur.com/BGP8w.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BGP8w.jpg\" alt=\"Image\" /></a></p>\n<p>You can use this also for long texts. You have to write this without tabs or spaces, just from the begin of the line like the photo.</p>\n<p>Edited:\n&quot;br tag&quot; is used for new line</p>\n"}],"owner":{"account_id":4861747,"reputation":527,"user_id":3921158,"accept_rate":13,"display_name":"Ginso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1664877458,"creation_date":1664873380,"question_id":73945284,"body_markdown":"I have a long text in my string resources containing multiple line breaks.\r\nobviously i don&#39;t want to write it all in one line like `&lt;string name=&quot;text&quot;&gt;This is the first line\\nThis is the second line\\n...&lt;/string&gt;`\r\nBut when i do it like this:\r\n\r\n    &lt;string name=&quot;text&quot;&gt;\r\n        This is the first line\\n\r\n        This is the second line\\n\r\n        ...\r\n    &lt;/string&gt;\r\n\r\nThe start of the lines are indented a bit. How can i prevent this?\r\n\r\n\r\n    This is the first line\r\n      This is the second line\r\n\r\ni set the text &#180;directly in xml with `android:text=&quot;@string/text&quot;`","title":"line breaks in string resource","body":"<p>I have a long text in my string resources containing multiple line breaks.\nobviously i don't want to write it all in one line like <code>&lt;string name=&quot;text&quot;&gt;This is the first line\\nThis is the second line\\n...&lt;/string&gt;</code>\nBut when i do it like this:</p>\n<pre><code>&lt;string name=&quot;text&quot;&gt;\n    This is the first line\\n\n    This is the second line\\n\n    ...\n&lt;/string&gt;\n</code></pre>\n<p>The start of the lines are indented a bit. How can i prevent this?</p>\n<pre><code>This is the first line\n  This is the second line\n</code></pre>\n<p>i set the text ´directly in xml with <code>android:text=&quot;@string/text&quot;</code></p>\n"},{"tags":["java","utf-8","character-encoding"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1357740244,"post_id":14236923,"comment_id":19752371,"body_markdown":"What is the source here? Did you push the original data to said source? At a first glance I&#39;d say you tried and pushed cp-1252 apostrophes to it without them being converted to proper UTF-8 equivalents...","body":"What is the source here? Did you push the original data to said source? At a first glance I&#39;d say you tried and pushed cp-1252 apostrophes to it without them being converted to proper UTF-8 equivalents..."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1357740666,"post_id":14236923,"comment_id":19752624,"body_markdown":"You need to show how you&#39;re reading the particular data from the data set and how you&#39;re presenting the particular data to the enduser/yourself. For example, are you using `FileReader` to read it and `System.out.println()` to present it? You have to tell one or both of them to use UTF-8 instead of the platform default charset which is recognizable as CP1252.","body":"You need to show how you&#39;re reading the particular data from the data set and how you&#39;re presenting the particular data to the enduser/yourself. For example, are you using <code>FileReader</code> to read it and <code>System.out.println()</code> to present it? You have to tell one or both of them to use UTF-8 instead of the platform default charset which is recognizable as CP1252."},{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1357740691,"post_id":14236923,"comment_id":19752641,"body_markdown":"This looks like a UTF-8 data source (with U+2019 `’` encoded correctly as  the octets `e2 80 99`) decoded using the single-byte windows-1252 encoding (where they are interpreted as the code points U+00e2 U+20ac U+2122 - `&#226;€™`.","body":"This looks like a UTF-8 data source (with U+2019 <code>’</code> encoded correctly as  the octets <code>e2 80 99</code>) decoded using the single-byte windows-1252 encoding (where they are interpreted as the code points U+00e2 U+20ac U+2122 - <code>&#226;€™</code>."},{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":0,"creation_date":1443796858,"post_id":14236923,"comment_id":53647403,"body_markdown":"Possible duplicate of [Check if a String is valid UTF-8 encoded in Java](http://stackoverflow.com/questions/6622226/check-if-a-string-is-valid-utf-8-encoded-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/6622226/check-if-a-string-is-valid-utf-8-encoded-in-java\">Check if a String is valid UTF-8 encoded in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":973998,"reputation":138700,"user_id":995876,"display_name":"Esailija"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1357741079,"creation_date":1357740245,"answer_id":14236992,"question_id":14236923,"body_markdown":"You cannot do that once you have the string, you have to do it while you still have the raw input. Once you have the string, there is no way to automatically tell whether `&#226;€™` was actually intended input without some seriously fragile tests. For example:\r\n\r\n\tpublic static boolean isUTF8MisInterpreted( String input ) {\r\n              //convenience overload for the most common UTF-8 misinterpretation\r\n              //which is also the case in your question\r\n\t      return isUTF8MisInterpreted( input, &quot;Windows-1252&quot;);\t\r\n\t}\r\n\t\r\n\tpublic static boolean isUTF8MisInterpreted( String input, String encoding) {\r\n\t\t\r\n\t\tCharsetDecoder decoder = Charset.forName(&quot;UTF-8&quot;).newDecoder();\r\n\t\tCharsetEncoder encoder = Charset.forName(encoding).newEncoder();\r\n\t\tByteBuffer tmp;\r\n\t\ttry {\r\n\t\t\ttmp = encoder.encode(CharBuffer.wrap(input));\r\n\t\t}\r\n\t\t\r\n\t\tcatch(CharacterCodingException e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tdecoder.decode(tmp);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tcatch(CharacterCodingException e){\r\n\t\t\treturn false;\r\n\t\t}\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\tString test = &quot;guide (but, yeah, it&#226;€™s okay to share it with &#226;€˜em).&quot;;\r\n\t\tString test2 = &quot;guide (but, yeah, it’s okay to share it with ‘em).&quot;;\r\n\t\tSystem.out.println( isUTF8MisInterpreted(test)); //true\r\n\t\tSystem.out.println( isUTF8MisInterpreted(test2)); //false\r\n\t\t\r\n\t}\r\nIf you still have access to raw input, you can see if a byte array amounts to fully valid utf-8 byte sequences with this:\r\n\r\n\tpublic static boolean isValidUTF8( byte[] input ) {\r\n\t\t\r\n\t\tCharsetDecoder cs = Charset.forName(&quot;UTF-8&quot;).newDecoder();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tcs.decode(ByteBuffer.wrap(input));\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tcatch(CharacterCodingException e){\r\n\t\t\treturn false;\r\n\t\t}\t\t\r\n\t}\r\n\r\nYou can also use the CharsetDecoder with streams, by default it throws exception as soon as it sees invalid bytes in the given encoding.","title":"How to validate if a UTF-8 string contains mal-encoded characters","body":"<p>You cannot do that once you have the string, you have to do it while you still have the raw input. Once you have the string, there is no way to automatically tell whether <code>â€™</code> was actually intended input without some seriously fragile tests. For example:</p>\n\n<pre><code>public static boolean isUTF8MisInterpreted( String input ) {\n          //convenience overload for the most common UTF-8 misinterpretation\n          //which is also the case in your question\n      return isUTF8MisInterpreted( input, \"Windows-1252\");  \n}\n\npublic static boolean isUTF8MisInterpreted( String input, String encoding) {\n\n    CharsetDecoder decoder = Charset.forName(\"UTF-8\").newDecoder();\n    CharsetEncoder encoder = Charset.forName(encoding).newEncoder();\n    ByteBuffer tmp;\n    try {\n        tmp = encoder.encode(CharBuffer.wrap(input));\n    }\n\n    catch(CharacterCodingException e) {\n        return false;\n    }\n\n    try {\n        decoder.decode(tmp);\n        return true;\n    }\n    catch(CharacterCodingException e){\n        return false;\n    }       \n}\n\npublic static void main(String args[]) {\n    String test = \"guide (but, yeah, itâ€™s okay to share it with â€˜em).\";\n    String test2 = \"guide (but, yeah, it’s okay to share it with ‘em).\";\n    System.out.println( isUTF8MisInterpreted(test)); //true\n    System.out.println( isUTF8MisInterpreted(test2)); //false\n\n}\n</code></pre>\n\n<p>If you still have access to raw input, you can see if a byte array amounts to fully valid utf-8 byte sequences with this:</p>\n\n<pre><code>public static boolean isValidUTF8( byte[] input ) {\n\n    CharsetDecoder cs = Charset.forName(\"UTF-8\").newDecoder();\n\n    try {\n        cs.decode(ByteBuffer.wrap(input));\n        return true;\n    }\n    catch(CharacterCodingException e){\n        return false;\n    }       \n}\n</code></pre>\n\n<p>You can also use the CharsetDecoder with streams, by default it throws exception as soon as it sees invalid bytes in the given encoding.</p>\n"},{"tags":[],"owner":{"account_id":1795598,"reputation":1602,"user_id":1635049,"accept_rate":0,"display_name":"Tabish"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1450159089,"creation_date":1450159089,"answer_id":34282073,"question_id":14236923,"body_markdown":"If you are using HTML5 then just add the \r\n`&lt;meta charset=&quot;UTF-8&quot;&gt;` inside the `&lt;head&gt;`\r\n\r\nfor HTML4 `&lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html;charset=UTF-8&quot;&gt;`","title":"How to validate if a UTF-8 string contains mal-encoded characters","body":"<p>If you are using HTML5 then just add the \n<code>&lt;meta charset=\"UTF-8\"&gt;</code> inside the <code>&lt;head&gt;</code></p>\n\n<p>for HTML4 <code>&lt;meta http-equiv=\"Content-type\" content=\"text/html;charset=UTF-8\"&gt;</code></p>\n"}],"owner":{"account_id":189428,"reputation":30867,"user_id":4790871,"accept_rate":99,"display_name":"David Parks"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34630,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":14236992,"answer_count":2,"score":19,"last_activity_date":1664877000,"creation_date":1357740025,"question_id":14236923,"body_markdown":"In a large data set I have some data that looks like this:\r\n\r\n    &quot;guide (but, yeah, it&#226;€™s okay to share it with &#226;€˜em).&quot;\r\n\r\nI&#39;ve opened the file in a hex editor and run the raw byte data through a character encoding detection algorithm ([http://code.google.com/p/juniversalchardet/][1]) and it&#39;s positively detected as UTF-8.\r\n\r\nIt appears to me that the source of the data mis-interpreted the original character set and wrote valid UTF-8 as the output that I have received.\r\n\r\nI&#39;d like to validate the data to the best I can. Are there any heuristics/algorithms out there that might help me take a stab at validation?\r\n\r\n\r\n  [1]: http://code.google.com/p/juniversalchardet/","title":"How to validate if a UTF-8 string contains mal-encoded characters","body":"<p>In a large data set I have some data that looks like this:</p>\n\n<pre><code>\"guide (but, yeah, itâ€™s okay to share it with â€˜em).\"\n</code></pre>\n\n<p>I've opened the file in a hex editor and run the raw byte data through a character encoding detection algorithm (<a href=\"http://code.google.com/p/juniversalchardet/\">http://code.google.com/p/juniversalchardet/</a>) and it's positively detected as UTF-8.</p>\n\n<p>It appears to me that the source of the data mis-interpreted the original character set and wrote valid UTF-8 as the output that I have received.</p>\n\n<p>I'd like to validate the data to the best I can. Are there any heuristics/algorithms out there that might help me take a stab at validation?</p>\n"},{"tags":["java","eclipse","inner-classes","lombok"],"comments":[{"owner":{"account_id":22216254,"reputation":19,"user_id":16454665,"display_name":"jojo"},"score":0,"creation_date":1626420441,"post_id":68405061,"comment_id":120903634,"body_markdown":"Did you check if:\n- you have the same java version selected\n- the same language level selected These are the two most common issue with lombok.","body":"Did you check if: - you have the same java version selected - the same language level selected These are the two most common issue with lombok."},{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1626422400,"post_id":68405061,"comment_id":120893508,"body_markdown":"Have you tried making the inner class static? I know the annotation is already supposed to do that, but maybe there is an ordering issue or something? Please try making A and B static, and see if there is still a problem with C and D afterwards.","body":"Have you tried making the inner class static? I know the annotation is already supposed to do that, but maybe there is an ordering issue or something? Please try making A and B static, and see if there is still a problem with C and D afterwards."}],"answers":[{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626426895,"creation_date":1626426895,"answer_id":68406497,"question_id":68405061,"body_markdown":"Looks like a bug if it is not working in eclipse and working in Intellij.\r\n\r\nThe doc for `@UtilityClass` states that all methods, inner classes and fields in the class would be marked as `static`, if we use this annotation. Going by that, class `B` should become `static`.\r\n\r\nNow looking at the code (`lombok.javac.JavacNode`) from where the error mentioned in question is thrown, the code comment says that:\r\n```\r\n// It might be an inner class. This is okay, but only if it is / can be a\r\n// static inner class. Thus, all of its parents have to be static inner classes\r\n// until the top-level.\r\n```\r\nSo if `@UtilityClass` annotation is used on class `C` then class `B` should be `static` for it to work.\r\n\r\nSince class `A` is annotated with `@UtilityClass`, class `B` should have become `static`, but may be, it is not recognized as `static` during the above mentioned validation.\r\n\r\nTo fix this, you need to manually add `static` to class `B`. (Project build might also be required).\r\n\r\n(You may also log a bug in the lombok github page)\r\n","title":"How to use @UtilityClass lombok annotation on inner class in Eclipse IDE","body":"<p>Looks like a bug if it is not working in eclipse and working in Intellij.</p>\n<p>The doc for <code>@UtilityClass</code> states that all methods, inner classes and fields in the class would be marked as <code>static</code>, if we use this annotation. Going by that, class <code>B</code> should become <code>static</code>.</p>\n<p>Now looking at the code (<code>lombok.javac.JavacNode</code>) from where the error mentioned in question is thrown, the code comment says that:</p>\n<pre><code>// It might be an inner class. This is okay, but only if it is / can be a\n// static inner class. Thus, all of its parents have to be static inner classes\n// until the top-level.\n</code></pre>\n<p>So if <code>@UtilityClass</code> annotation is used on class <code>C</code> then class <code>B</code> should be <code>static</code> for it to work.</p>\n<p>Since class <code>A</code> is annotated with <code>@UtilityClass</code>, class <code>B</code> should have become <code>static</code>, but may be, it is not recognized as <code>static</code> during the above mentioned validation.</p>\n<p>To fix this, you need to manually add <code>static</code> to class <code>B</code>. (Project build might also be required).</p>\n<p>(You may also log a bug in the lombok github page)</p>\n"},{"tags":[],"owner":{"account_id":19979093,"reputation":91,"user_id":14642689,"display_name":"Никулин Данил"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664876539,"creation_date":1643288531,"answer_id":70879026,"question_id":68405061,"body_markdown":"Make sure your JDK version isn&#39;t above version 8(1.8), cause looks like there is a [bug][1] in lombok, that @UtilityClass doesn&#39;t make inner classes static when JDK 9 or higher\r\n\r\nhttps://kotlinlang.org/docs/whatsnew1720.html#support-for-kotlin-k2-compiler-plugins\r\n\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/3097","title":"How to use @UtilityClass lombok annotation on inner class in Eclipse IDE","body":"<p>Make sure your JDK version isn't above version 8(1.8), cause looks like there is a <a href=\"https://github.com/projectlombok/lombok/issues/3097\" rel=\"nofollow noreferrer\">bug</a> in lombok, that @UtilityClass doesn't make inner classes static when JDK 9 or higher</p>\n<p><a href=\"https://kotlinlang.org/docs/whatsnew1720.html#support-for-kotlin-k2-compiler-plugins\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/whatsnew1720.html#support-for-kotlin-k2-compiler-plugins</a></p>\n"}],"owner":{"account_id":7741045,"reputation":69,"user_id":10306187,"display_name":"Manish Pareek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7499,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1664876539,"creation_date":1626420252,"question_id":68405061,"body_markdown":"I have a class where `@UtilityClass` annotation on class C and class D gives error in eclipse IDE but works fine with IntelliJ    \r\n\r\n\r\n&gt; @UtilityClass automatically makes the class static, however, this\r\n&gt; class cannot be made static.\r\n\r\n\r\nNot able to use @UtilityClass annotation on class C and class D. `Lombok v1.18.20 &quot;Envious Ferret&quot;` is installed.\r\n  \r\n\r\n     @UtilityClass\r\n        public class A {\r\n        \r\n        \t@UtilityClass\r\n        \tpublic class B {\r\n        \r\n        \t\tpublic final String name = &quot;name&quot;;\r\n        \t\tpublic final String id = &quot;id&quot;;\r\n        \r\n        \t\t@UtilityClass\r\n        \t\tpublic class C {\r\n        \r\n        \t\t\tpublic final String OVER = &quot;over.draft&quot;;\r\n        \t\t\tpublic final String ADD = &quot;add.draft&quot;;\r\n        \t\t}\r\n        \r\n        \t\t@UtilityClass\r\n        \t\tpublic class D {\r\n        \r\n        \t\t\tpublic final String OVER = &quot;over.published&quot;;\r\n        \t\t\tpublic final String ADD = &quot;add.published&quot;;\r\n        \t\t}\r\n        \t}\r\n        }","title":"How to use @UtilityClass lombok annotation on inner class in Eclipse IDE","body":"<p>I have a class where <code>@UtilityClass</code> annotation on class C and class D gives error in eclipse IDE but works fine with IntelliJ</p>\n<blockquote>\n<p>@UtilityClass automatically makes the class static, however, this\nclass cannot be made static.</p>\n</blockquote>\n<p>Not able to use @UtilityClass annotation on class C and class D. <code>Lombok v1.18.20 &quot;Envious Ferret&quot;</code> is installed.</p>\n<pre><code> @UtilityClass\n    public class A {\n    \n        @UtilityClass\n        public class B {\n    \n            public final String name = &quot;name&quot;;\n            public final String id = &quot;id&quot;;\n    \n            @UtilityClass\n            public class C {\n    \n                public final String OVER = &quot;over.draft&quot;;\n                public final String ADD = &quot;add.draft&quot;;\n            }\n    \n            @UtilityClass\n            public class D {\n    \n                public final String OVER = &quot;over.published&quot;;\n                public final String ADD = &quot;add.published&quot;;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1626252239,"post_id":68374787,"comment_id":120840389,"body_markdown":"Replace `([^/\\s]+)` with `([^/\\s?#]+)`. Also, escape the literal dots in the pattern.","body":"Replace <code>([^&#47;\\s]+)</code> with <code>([^&#47;\\s?#]+)</code>. Also, escape the literal dots in the pattern."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1626252349,"post_id":68374787,"comment_id":120840446,"body_markdown":"Why not use `URL` to parse your URL…?!","body":"Why not use <code>URL</code> to parse your URL…?!"},{"owner":{"display_name":"user15613889"},"score":0,"creation_date":1626252442,"post_id":68374787,"comment_id":120840494,"body_markdown":"Thank you Wiktor :) I have not used regex alot so alot of this is learning and playing around","body":"Thank you Wiktor :) I have not used regex alot so alot of this is learning and playing around"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1626253369,"creation_date":1626253369,"answer_id":68375080,"question_id":68374787,"body_markdown":"You can use\r\n```java\r\n^(?:https?://)?(?:www\\.)?(?:website\\.com)?/?([^/\\s?#]+)\r\n```\r\nSee the [regex demo][1]. *Details*:\r\n\r\n - `^` - start of string\r\n - `(?:https?://)?` - an optional occurrence of `http://` or `https://`\r\n - `(?:www\\.)?` - an optional occurrence of `www.` (note that the literal dot must be escaped)\r\n - `(?:website\\.com)?` - an optional occurrence of `website.com`\r\n - `/?` - an optional `/` char\r\n - `([^/\\s?#]+)` - Group 1: one or more chars other than `/`, whitespace, `?` and `#` chars.\r\n\r\n  [1]: https://regex101.com/r/TjbfUz/1/","title":"Extract username from url with regex","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>^(?:https?://)?(?:www\\.)?(?:website\\.com)?/?([^/\\s?#]+)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/TjbfUz/1/\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>(?:https?://)?</code> - an optional occurrence of <code>http://</code> or <code>https://</code></li>\n<li><code>(?:www\\.)?</code> - an optional occurrence of <code>www.</code> (note that the literal dot must be escaped)</li>\n<li><code>(?:website\\.com)?</code> - an optional occurrence of <code>website.com</code></li>\n<li><code>/?</code> - an optional <code>/</code> char</li>\n<li><code>([^/\\s?#]+)</code> - Group 1: one or more chars other than <code>/</code>, whitespace, <code>?</code> and <code>#</code> chars.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25810178,"reputation":33,"user_id":19551084,"display_name":"RenatoL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664876477,"creation_date":1664876477,"answer_id":73945976,"question_id":68374787,"body_markdown":"For anyone who is looking for this, you can use:\r\n\r\n    ^(?:(?:https?)?(?:\\:\\/\\/)?)?(?:\\w*\\.)?(?:\\w+)?.(?:\\w+)\\/(\\w+)$\r\n\r\nit will match subdomains as well:\r\n\r\n    https://website.com/username\r\n    http://website.com/username\r\n    https://www.website.com/username\r\n    http://website.com/username\r\n    www.website.com/username","title":"Extract username from url with regex","body":"<p>For anyone who is looking for this, you can use:</p>\n<pre><code>^(?:(?:https?)?(?:\\:\\/\\/)?)?(?:\\w*\\.)?(?:\\w+)?.(?:\\w+)\\/(\\w+)$\n</code></pre>\n<p>it will match subdomains as well:</p>\n<pre><code>https://website.com/username\nhttp://website.com/username\nhttps://www.website.com/username\nhttp://website.com/username\nwww.website.com/username\n</code></pre>\n"}],"owner":{"display_name":"user15613889"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":68375080,"answer_count":2,"score":0,"last_activity_date":1664876477,"creation_date":1626252152,"question_id":68374787,"body_markdown":"I am extracting usernames from urls using `^(?:https?://)?(?:www.)?(?:website.com)?/?([^/\\s]+)`. This method will return &quot;username?lang=en&quot;. How can i remove the &quot;?lang=en&quot; from the end ? ","title":"Extract username from url with regex","body":"<p>I am extracting usernames from urls using <code>^(?:https?://)?(?:www.)?(?:website.com)?/?([^/\\s]+)</code>. This method will return &quot;username?lang=en&quot;. How can i remove the &quot;?lang=en&quot; from the end ?</p>\n"},{"tags":["java","android","android-studio","kotlin","lombok"],"answers":[{"tags":[],"owner":{"account_id":19979093,"reputation":91,"user_id":14642689,"display_name":"Никулин Данил"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664876345,"creation_date":1644482665,"answer_id":71062098,"question_id":70955999,"body_markdown":"**EDIT:**\r\n\r\nfrom kotlin 1.7.20 with K2 compiler it is possible.\r\n\r\nhttps://kotlinlang.org/docs/whatsnew1720.html#support-for-kotlin-k2-compiler-plugins\r\n\r\n**OLD:**\r\n\r\nOk, I guess my problem somewhat solved. My project have mixed Kotlin\\Java code, I found this closed issue in project lombok: https://github.com/projectlombok/lombok/issues/1169\r\n\r\nCorresponding to this lombok cant work in Kotlin\\Java code normal way cause reasons... and there is two solutions:\r\n\r\n 1. Multi module project where all Java code with lobmok separated from Kotlin code and java module should using only java compiler.\r\n 2. Use special plugin from Kotlin which in part solving issue https://kotlinlang.org/docs/lombok.html\r\n\r\nAnother dum-dum solution: drop lombok annotation on java class and then using some instruments delombok it.This way no javac will be required.\r\n\r\n","title":"@Data from lombok in Android Studio doesn&#39;t work","body":"<p><strong>EDIT:</strong></p>\n<p>from kotlin 1.7.20 with K2 compiler it is possible.</p>\n<p><a href=\"https://kotlinlang.org/docs/whatsnew1720.html#support-for-kotlin-k2-compiler-plugins\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/whatsnew1720.html#support-for-kotlin-k2-compiler-plugins</a></p>\n<p><strong>OLD:</strong></p>\n<p>Ok, I guess my problem somewhat solved. My project have mixed Kotlin\\Java code, I found this closed issue in project lombok: <a href=\"https://github.com/projectlombok/lombok/issues/1169\" rel=\"nofollow noreferrer\">https://github.com/projectlombok/lombok/issues/1169</a></p>\n<p>Corresponding to this lombok cant work in Kotlin\\Java code normal way cause reasons... and there is two solutions:</p>\n<ol>\n<li>Multi module project where all Java code with lobmok separated from Kotlin code and java module should using only java compiler.</li>\n<li>Use special plugin from Kotlin which in part solving issue <a href=\"https://kotlinlang.org/docs/lombok.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/lombok.html</a></li>\n</ol>\n<p>Another dum-dum solution: drop lombok annotation on java class and then using some instruments delombok it.This way no javac will be required.</p>\n"}],"owner":{"account_id":19979093,"reputation":91,"user_id":14642689,"display_name":"Никулин Данил"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71062098,"answer_count":1,"score":0,"last_activity_date":1664876345,"creation_date":1643806493,"question_id":70955999,"body_markdown":"I have proper [dependencies][1]\r\n\r\n\r\nAnd lombok plugin was installed, so Android Studio know where generation was applied but i still got an [error][2]\r\n\r\nPlease can anyone give me idea what is happening?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mJx2X.png\r\n  [2]: https://i.stack.imgur.com/3DeNP.png","title":"@Data from lombok in Android Studio doesn&#39;t work","body":"<p>I have proper <a href=\"https://i.stack.imgur.com/mJx2X.png\" rel=\"nofollow noreferrer\">dependencies</a></p>\n<p>And lombok plugin was installed, so Android Studio know where generation was applied but i still got an <a href=\"https://i.stack.imgur.com/3DeNP.png\" rel=\"nofollow noreferrer\">error</a></p>\n<p>Please can anyone give me idea what is happening?</p>\n"},{"tags":["java","spring","spring-data-jpa","entitymanager","hibernate-entitymanager"],"answers":[{"tags":[],"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664876277,"creation_date":1664876277,"answer_id":73945931,"question_id":69378448,"body_markdown":"Let&#39;s say, you have a persistence-unit with the name `myData`\r\n\r\n    private EntityManager getEntityManager()    {\r\n        EntityManagerFactory emf = null;\r\n    \r\n        try {\r\n            emf = Persistence.createEntityManagerFactory(&quot;myData&quot;);\r\n        } catch (Exception e)   {\r\n            log.warn(&quot;An Error has occurred while creating persistence layer&quot;, e);\r\n        }\r\n    \r\n        if (emf != null) {\r\n            return emf.createEntityManager();\r\n        } else {\r\n            log.warn(&quot;An error has occurred while retrieving Entity Manager from Persistence factory&quot;);\r\n            return null;\r\n        }\r\n    }\r\n\r\nAnd use like below\r\n\r\n        final EntityManager em = getEntityManager();\r\n        assert em != null;\r\n        EntityTransaction entityTransaction = em.getTransaction();\r\n\r\n        try {\r\n            entityTransaction.begin();\r\n            userList.stream().forEach(user -&gt; {\r\n                em.merge(RestUtil.convertToDBUser(user));\r\n            });\r\n            entityTransaction.commit();\r\n            log.info(&quot;Completed data persistence &quot;);\r\n        } catch (RuntimeException e)    {\r\n            if (entityTransaction.isActive()) {\r\n                entityTransaction.rollback();\r\n            }\r\n            log.warn(&quot;An error has occurred while committing JDBC transaction. &quot;, e);\r\n            throw e;\r\n        } finally {\r\n            em.close();\r\n        }","title":"How to create Spring JPA Entity Manager manually that contains all the default JPA properties","body":"<p>Let's say, you have a persistence-unit with the name <code>myData</code></p>\n<pre><code>private EntityManager getEntityManager()    {\n    EntityManagerFactory emf = null;\n\n    try {\n        emf = Persistence.createEntityManagerFactory(&quot;myData&quot;);\n    } catch (Exception e)   {\n        log.warn(&quot;An Error has occurred while creating persistence layer&quot;, e);\n    }\n\n    if (emf != null) {\n        return emf.createEntityManager();\n    } else {\n        log.warn(&quot;An error has occurred while retrieving Entity Manager from Persistence factory&quot;);\n        return null;\n    }\n}\n</code></pre>\n<p>And use like below</p>\n<pre><code>    final EntityManager em = getEntityManager();\n    assert em != null;\n    EntityTransaction entityTransaction = em.getTransaction();\n\n    try {\n        entityTransaction.begin();\n        userList.stream().forEach(user -&gt; {\n            em.merge(RestUtil.convertToDBUser(user));\n        });\n        entityTransaction.commit();\n        log.info(&quot;Completed data persistence &quot;);\n    } catch (RuntimeException e)    {\n        if (entityTransaction.isActive()) {\n            entityTransaction.rollback();\n        }\n        log.warn(&quot;An error has occurred while committing JDBC transaction. &quot;, e);\n        throw e;\n    } finally {\n        em.close();\n    }\n</code></pre>\n"}],"owner":{"account_id":26448,"reputation":5911,"user_id":68759,"accept_rate":79,"display_name":"His"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":835,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664876277,"creation_date":1632926055,"question_id":69378448,"body_markdown":"I need to create an Entity Manager manually to support having multiple datasources.  I&#39;ve realised that by creating it manually (instead of autowiring it as when you have only one single datasource), I actually do need to set all the JPA properties manually too, including what are usually set with default values by Spring.  This means all the JPA parameters I specified in `application.yaml` and what Spring normally set default values for have now to be loaded and set manually.\r\n\r\nIs there anyway to create an Entity Manager manually but have it automatically use all the JPA properties in `application.yaml`?\r\n\r\nHere&#39;s my code\r\n```\r\npublic LocalContainerEntityManagerFactoryBean entityManager(EntityManagerFactoryBuilder builder, DataSource secondDataSource) {\r\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n\r\n    // Is there a way to not do this one by one for all of the default JPA properties and what I specified in application.yaml?\r\n    props.put(&quot;hibernate.physical_naming_strategy&quot;, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\r\n    // props.put(&quot;prop1&quot;, &quot;propvalue1&quot;);\r\n    // ...\r\n\r\n\r\n    return builder.dataSource(secondDataSource).packages(MyEntity.class).properties(props).build();\r\n}\r\n```","title":"How to create Spring JPA Entity Manager manually that contains all the default JPA properties","body":"<p>I need to create an Entity Manager manually to support having multiple datasources.  I've realised that by creating it manually (instead of autowiring it as when you have only one single datasource), I actually do need to set all the JPA properties manually too, including what are usually set with default values by Spring.  This means all the JPA parameters I specified in <code>application.yaml</code> and what Spring normally set default values for have now to be loaded and set manually.</p>\n<p>Is there anyway to create an Entity Manager manually but have it automatically use all the JPA properties in <code>application.yaml</code>?</p>\n<p>Here's my code</p>\n<pre><code>public LocalContainerEntityManagerFactoryBean entityManager(EntityManagerFactoryBuilder builder, DataSource secondDataSource) {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n\n    // Is there a way to not do this one by one for all of the default JPA properties and what I specified in application.yaml?\n    props.put(&quot;hibernate.physical_naming_strategy&quot;, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\n    // props.put(&quot;prop1&quot;, &quot;propvalue1&quot;);\n    // ...\n\n\n    return builder.dataSource(secondDataSource).packages(MyEntity.class).properties(props).build();\n}\n</code></pre>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664876186,"creation_date":1664876186,"answer_id":73945907,"question_id":73945428,"body_markdown":"Space complexity are the same for both.\r\n\r\nIn the second approach, you have the removeSpace array, which seems like it duplicates the whole string, but internally it just contains substrings of the original string, which does not duplicate anything.\r\n\r\nFor time complexity, it depends on the compiler. Appending characters one at a time to strings (in approach 2) can be expensive, since it could allocate new String objects everytime. The compiler may be smart enough in this case to optimize that.\r\n\r\nBetter to use StringBuilder in approach 2, then the time complexity will be the same for both, I think.\r\n\r\nSee also https://stackoverflow.com/questions/7766386/how-many-string-additions-do-you-need-for-a-stringbuilder-to-be-more-efficient","title":"What is the best approach for time &amp; space complexity for string word reversal","body":"<p>Space complexity are the same for both.</p>\n<p>In the second approach, you have the removeSpace array, which seems like it duplicates the whole string, but internally it just contains substrings of the original string, which does not duplicate anything.</p>\n<p>For time complexity, it depends on the compiler. Appending characters one at a time to strings (in approach 2) can be expensive, since it could allocate new String objects everytime. The compiler may be smart enough in this case to optimize that.</p>\n<p>Better to use StringBuilder in approach 2, then the time complexity will be the same for both, I think.</p>\n<p>See also <a href=\"https://stackoverflow.com/questions/7766386/how-many-string-additions-do-you-need-for-a-stringbuilder-to-be-more-efficient\">How many string additions do you need for a StringBuilder to be more efficient?</a></p>\n"}],"owner":{"account_id":26523446,"reputation":11,"user_id":20156778,"display_name":"Akshay Hukire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":73945907,"answer_count":1,"score":-2,"last_activity_date":1664876186,"creation_date":1664874029,"question_id":73945428,"body_markdown":"What should be the best approach when it comes to time &amp; space complexity? Approach 1 or 2?\r\n\r\nApproach 1: \r\n\r\n    Stack&lt;Character&gt; st = new Stack&lt;Character&gt;();\r\n    for (int i = 0; i &lt; str.length(); ++i) {\r\n    \tif (str.charAt(i) != &#39; &#39;)\r\n   \t    \tst.push(str.charAt(i));\r\n\t\telse {\r\n\t\t\twhile (st.empty() == false) {\r\n\t\t\t\tSystem.out.print(st.pop());\r\n    \t\t}\r\n\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t}\r\n\t}\r\n\twhile (st.empty() == false) {\r\n\t\tSystem.out.print(st.pop());\r\n\t}\r\n\r\nApproach 2:\r\n\r\n    String welcomeString = &quot;Welcome to Zscaler&quot;;\r\n\tString removeSpace[] = welcomeString.split(&quot; &quot;);\r\n\tString reversedString = &quot;&quot;;\r\n\tfor (int i = 0; i &lt; removeSpace.length; i++) {\r\n\t\tString getString = removeSpace[i];\r\n\t\treversedString = &quot;&quot;;\r\n\t\tfor (int j = getString.length() - 1; j &gt;= 0; j--) {\r\n\t\t\treversedString = reversedString + getString.charAt(j);\r\n\t\t}\r\n\t\tSystem.out.print(reversedString + &quot; &quot;);\r\n\t}\r\n\r\n","title":"What is the best approach for time &amp; space complexity for string word reversal","body":"<p>What should be the best approach when it comes to time &amp; space complexity? Approach 1 or 2?</p>\n<p>Approach 1:</p>\n<pre><code>Stack&lt;Character&gt; st = new Stack&lt;Character&gt;();\nfor (int i = 0; i &lt; str.length(); ++i) {\n    if (str.charAt(i) != ' ')\n        st.push(str.charAt(i));\n    else {\n        while (st.empty() == false) {\n            System.out.print(st.pop());\n        }\n        System.out.print(&quot; &quot;);\n    }\n}\nwhile (st.empty() == false) {\n    System.out.print(st.pop());\n}\n</code></pre>\n<p>Approach 2:</p>\n<pre><code>String welcomeString = &quot;Welcome to Zscaler&quot;;\nString removeSpace[] = welcomeString.split(&quot; &quot;);\nString reversedString = &quot;&quot;;\nfor (int i = 0; i &lt; removeSpace.length; i++) {\n    String getString = removeSpace[i];\n    reversedString = &quot;&quot;;\n    for (int j = getString.length() - 1; j &gt;= 0; j--) {\n        reversedString = reversedString + getString.charAt(j);\n    }\n    System.out.print(reversedString + &quot; &quot;);\n}\n</code></pre>\n"},{"tags":["java","localization","clipboard"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1662992811,"post_id":73687411,"comment_id":130128398,"body_markdown":"Are you sure that error is due to the use of a Japanese locale?  It looks like an issue with the way the application was packaged.  Does the exact same application work properly on the same machine if the locale is set to English?","body":"Are you sure that error is due to the use of a Japanese locale?  It looks like an issue with the way the application was packaged.  Does the exact same application work properly on the same machine if the locale is set to English?"},{"owner":{"account_id":23418359,"reputation":13,"user_id":17478980,"display_name":"stojelenov"},"score":0,"creation_date":1663050372,"post_id":73687411,"comment_id":130141327,"body_markdown":"@VGR, thanks for your comment. I am sure, screenshot is created and I get no error if locale is set to English. Both: path and locale have to be Japan, then I get the error.","body":"@VGR, thanks for your comment. I am sure, screenshot is created and I get no error if locale is set to English. Both: path and locale have to be Japan, then I get the error."}],"owner":{"account_id":23418359,"reputation":13,"user_id":17478980,"display_name":"stojelenov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664876155,"creation_date":1662976255,"question_id":73687411,"body_markdown":"I do have got a button in my app to create snapshot from 3D scene. However, if my app runs from Japanese **path**, e.g. `F:\\テスト\\myApp\\bin`, and **system locale** is set to Japan, clipboard is not created. While calling `java.awt.datatransfer.Clipboard.setContents`, I have got:\r\n\r\n    Exception in thread &quot;main-FPSAWTAnimator-Timer0&quot; java.lang.UnsatisfiedLinkError: \r\n    F:\\テスト\\myApp\\bin\\jre\\bin\\jpeg.dll: Can&#39;t find dependent libraries\r\n            at java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n            at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1941)\r\n            at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1845)\r\n            at java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n            at java.lang.System.loadLibrary(System.java:1122)\r\n            at com.sun.imageio.plugins.jpeg.JPEGImageWriter$1.run(JPEGImageWriter.java:180)\r\n            at com.sun.imageio.plugins.jpeg.JPEGImageWriter$1.run(JPEGImageWriter.java:178)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at com.sun.imageio.plugins.jpeg.JPEGImageWriter.&lt;clinit&gt;(JPEGImageWriter.java:177)\r\n            at com.sun.imageio.plugins.jpeg.JPEGImageWriterSpi.createWriterInstance(JPEGImageWriterSpi.java:96)\r\n            at javax.imageio.spi.ImageWriterSpi.createWriterInstance(ImageWriterSpi.java:351)\r\n            at javax.imageio.ImageIO$ImageWriterIterator.next(ImageIO.java:843)\r\n            at javax.imageio.ImageIO$ImageWriterIterator.next(ImageIO.java:827)\r\n            at sun.awt.datatransfer.DataTransferer.imageToStandardBytesImpl(DataTransferer.java:2203)\r\n            at sun.awt.datatransfer.DataTransferer.imageToStandardBytes(DataTransferer.java:2145)\r\n            at sun.awt.windows.WDataTransferer.imageToPlatformBytes(WDataTransferer.java:352)\r\n            at sun.awt.datatransfer.DataTransferer.translateTransferable(DataTransferer.java:1223)\r\n            at sun.awt.windows.WDataTransferer.translateTransferable(WDataTransferer.java:219)\r\n            at sun.awt.windows.WClipboard.setContentsNative(WClipboard.java:83)\r\n            at sun.awt.datatransfer.SunClipboard.setContents(SunClipboard.java:106)\r\n            at myApp.javabase.utils.c.&lt;init&gt;(Unknown Source)\r\n\r\nI tried `System.setProperty(&quot;sybase.allow.native.lib&quot;, &quot;true&quot;)`, this works for debug and local build, but not for release build. \r\nIn release, there are compiled dlls (39) in `bin` folder. If I delete at least one of them (any of them; tested 4 dlls) or all of them, I get no error - this is strange.\r\n\r\nAnother workaround is to install Java on path without Japanese characters and add this path to environment variables, but this is not what I need. Not all users have application installed locally.\r\n\r\n\r\nCode:\r\n\r\n    package myApp.javabase.utils;\r\n\r\n    import java.awt.Image;\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.Clipboard;\r\n    import java.awt.datatransfer.ClipboardOwner;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.Transferable;\r\n    import java.awt.datatransfer.UnsupportedFlavorException;\r\n    import java.io.IOException;\r\n    \r\n    public class ClipboardImage implements ClipboardOwner\r\n    {\r\n      public ClipboardImage( Image img )\r\n      {\r\n        TransferableImage trImg = new TransferableImage( img );\r\n        Clipboard cb = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        \r\n        // allow native library -&gt; java.lang.ClassLoader.loadLibrary0\r\n        //System.setProperty(&quot;sybase.allow.native.lib&quot;, &quot;true&quot;);\r\n        cb.setContents( trImg, this ); // here is the problem\r\n      }\r\n      // another code\r\n    }\r\n\r\nI did find [this][1], `System.load(File)` to load the library, but is it necessary? Might be there other solution?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2937406/how-to-bundle-a-native-library-and-a-jni-library-inside-a-jar","title":"java.awt.datatransfer.Clipboard.setContents does not work from Japanese path","body":"<p>I do have got a button in my app to create snapshot from 3D scene. However, if my app runs from Japanese <strong>path</strong>, e.g. <code>F:\\テスト\\myApp\\bin</code>, and <strong>system locale</strong> is set to Japan, clipboard is not created. While calling <code>java.awt.datatransfer.Clipboard.setContents</code>, I have got:</p>\n<pre><code>Exception in thread &quot;main-FPSAWTAnimator-Timer0&quot; java.lang.UnsatisfiedLinkError: \nF:\\テスト\\myApp\\bin\\jre\\bin\\jpeg.dll: Can't find dependent libraries\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1941)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1845)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:870)\n        at java.lang.System.loadLibrary(System.java:1122)\n        at com.sun.imageio.plugins.jpeg.JPEGImageWriter$1.run(JPEGImageWriter.java:180)\n        at com.sun.imageio.plugins.jpeg.JPEGImageWriter$1.run(JPEGImageWriter.java:178)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at com.sun.imageio.plugins.jpeg.JPEGImageWriter.&lt;clinit&gt;(JPEGImageWriter.java:177)\n        at com.sun.imageio.plugins.jpeg.JPEGImageWriterSpi.createWriterInstance(JPEGImageWriterSpi.java:96)\n        at javax.imageio.spi.ImageWriterSpi.createWriterInstance(ImageWriterSpi.java:351)\n        at javax.imageio.ImageIO$ImageWriterIterator.next(ImageIO.java:843)\n        at javax.imageio.ImageIO$ImageWriterIterator.next(ImageIO.java:827)\n        at sun.awt.datatransfer.DataTransferer.imageToStandardBytesImpl(DataTransferer.java:2203)\n        at sun.awt.datatransfer.DataTransferer.imageToStandardBytes(DataTransferer.java:2145)\n        at sun.awt.windows.WDataTransferer.imageToPlatformBytes(WDataTransferer.java:352)\n        at sun.awt.datatransfer.DataTransferer.translateTransferable(DataTransferer.java:1223)\n        at sun.awt.windows.WDataTransferer.translateTransferable(WDataTransferer.java:219)\n        at sun.awt.windows.WClipboard.setContentsNative(WClipboard.java:83)\n        at sun.awt.datatransfer.SunClipboard.setContents(SunClipboard.java:106)\n        at myApp.javabase.utils.c.&lt;init&gt;(Unknown Source)\n</code></pre>\n<p>I tried <code>System.setProperty(&quot;sybase.allow.native.lib&quot;, &quot;true&quot;)</code>, this works for debug and local build, but not for release build.\nIn release, there are compiled dlls (39) in <code>bin</code> folder. If I delete at least one of them (any of them; tested 4 dlls) or all of them, I get no error - this is strange.</p>\n<p>Another workaround is to install Java on path without Japanese characters and add this path to environment variables, but this is not what I need. Not all users have application installed locally.</p>\n<p>Code:</p>\n<pre><code>package myApp.javabase.utils;\n\nimport java.awt.Image;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.ClipboardOwner;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.io.IOException;\n\npublic class ClipboardImage implements ClipboardOwner\n{\n  public ClipboardImage( Image img )\n  {\n    TransferableImage trImg = new TransferableImage( img );\n    Clipboard cb = Toolkit.getDefaultToolkit().getSystemClipboard();\n    \n    // allow native library -&gt; java.lang.ClassLoader.loadLibrary0\n    //System.setProperty(&quot;sybase.allow.native.lib&quot;, &quot;true&quot;);\n    cb.setContents( trImg, this ); // here is the problem\n  }\n  // another code\n}\n</code></pre>\n<p>I did find <a href=\"https://stackoverflow.com/questions/2937406/how-to-bundle-a-native-library-and-a-jni-library-inside-a-jar\">this</a>, <code>System.load(File)</code> to load the library, but is it necessary? Might be there other solution?</p>\n"},{"tags":["java","oop","inheritance","design-patterns","visitor-pattern"],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664875768,"creation_date":1664786153,"answer_id":73932925,"question_id":73931739,"body_markdown":"Pattern-wise I don&#39;t think there is a problem. visitRestrictionBasic is only empty because apparently you don&#39;t have second round validation for basic restrictions. This is a business rule, not a flaw of the design. If you later decide that you DO want second round validation for basic restrictions, you know where you can add it.\r\n\r\nApart from that, the whole set up might be overkill. It&#39;s usually good to start off simple. But I don&#39;t know your complete domain and use case, so cannot judge if this is the case here.\r\n\r\nEDIT: To evaluate your approach we should get more context and take a step back to understand the problem. So far what I understand is there are several restriction types which have the following characteristics:\r\n\r\n* each restriction has a fixed groups of dependencies\r\n* a restriction extracts values from these dependencies into its fields\r\n* each restriction performs two rounds of validation on these fields\r\n* the first round validation is implemented in each restriction type\r\n* the second round validation is also specific per restriction type, but implemented in the form of a separate visitor\r\n\r\nThe fundamental difference between the first round and second round validation is not clear to me. Both of them have specific validation code for each restriction type if I understand it correctly. If not, and the basic validator is only used in the first round, and the advanced validator only in the second round, then the model could probably be simplified. In that case first round = basic and second round = advanced...","title":"How to avoid empty visit functions in visitor pattern?","body":"<p>Pattern-wise I don't think there is a problem. visitRestrictionBasic is only empty because apparently you don't have second round validation for basic restrictions. This is a business rule, not a flaw of the design. If you later decide that you DO want second round validation for basic restrictions, you know where you can add it.</p>\n<p>Apart from that, the whole set up might be overkill. It's usually good to start off simple. But I don't know your complete domain and use case, so cannot judge if this is the case here.</p>\n<p>EDIT: To evaluate your approach we should get more context and take a step back to understand the problem. So far what I understand is there are several restriction types which have the following characteristics:</p>\n<ul>\n<li>each restriction has a fixed groups of dependencies</li>\n<li>a restriction extracts values from these dependencies into its fields</li>\n<li>each restriction performs two rounds of validation on these fields</li>\n<li>the first round validation is implemented in each restriction type</li>\n<li>the second round validation is also specific per restriction type, but implemented in the form of a separate visitor</li>\n</ul>\n<p>The fundamental difference between the first round and second round validation is not clear to me. Both of them have specific validation code for each restriction type if I understand it correctly. If not, and the basic validator is only used in the first round, and the advanced validator only in the second round, then the model could probably be simplified. In that case first round = basic and second round = advanced...</p>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664811583,"creation_date":1664797541,"answer_id":73934964,"question_id":73931739,"body_markdown":"Visitor pattern uses overloading of methods to choose appropriate implementation. It can be seen in a [wiki example][1]:\r\n\r\n\tinterface CarElementVisitor {\r\n\t\tvoid visit(Body body);\r\n\t\tvoid visit(Car car);\r\n\t\tvoid visit(Engine engine);\r\n\t\tvoid visit(Wheel wheel);\r\n\t}\r\n\r\n\r\nSo I would edit interface `ValidationVisitor`:\r\n\r\n    interface ValidationVisitor {\r\n        void visitRestrictionBasic(RestrictionBasic restrictionBasic);\r\n        void visitRestrictionAdvanced(RestrictionAdvanced restrictionAdvanced);\r\n    }\r\n\r\nto this:\r\n\r\n\r\n\tpublic interface ValidationVisitor\r\n\t{\r\n\t\tvoid VisitRestriction(RestrictionBasic restrictionBasic);\r\n\t\t\r\n\t\tvoid VisitRestriction(RestrictionAdvanced restrictionAdvanced);\r\n\t}\r\n\r\nSo we have created `VisitRestriction()` with different overloads.\r\n\r\nWhy? If you don&#39;t know the type of the object? You probably would need to find out the real type of `Restriction` and then call `VisitRestrictionBasic` or `VisitRestrictionAdvanced`. I highly recommend you to read this very nice answer about *[What&#39;s the point of the `accept` method][2]*?\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Visitor_pattern\r\n  [2]: https://softwareengineering.stackexchange.com/a/412367/202970\r\n","title":"How to avoid empty visit functions in visitor pattern?","body":"<p>Visitor pattern uses overloading of methods to choose appropriate implementation. It can be seen in a <a href=\"https://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">wiki example</a>:</p>\n<pre><code>interface CarElementVisitor {\n    void visit(Body body);\n    void visit(Car car);\n    void visit(Engine engine);\n    void visit(Wheel wheel);\n}\n</code></pre>\n<p>So I would edit interface <code>ValidationVisitor</code>:</p>\n<pre><code>interface ValidationVisitor {\n    void visitRestrictionBasic(RestrictionBasic restrictionBasic);\n    void visitRestrictionAdvanced(RestrictionAdvanced restrictionAdvanced);\n}\n</code></pre>\n<p>to this:</p>\n<pre><code>public interface ValidationVisitor\n{\n    void VisitRestriction(RestrictionBasic restrictionBasic);\n    \n    void VisitRestriction(RestrictionAdvanced restrictionAdvanced);\n}\n</code></pre>\n<p>So we have created <code>VisitRestriction()</code> with different overloads.</p>\n<p>Why? If you don't know the type of the object? You probably would need to find out the real type of <code>Restriction</code> and then call <code>VisitRestrictionBasic</code> or <code>VisitRestrictionAdvanced</code>. I highly recommend you to read this very nice answer about <em><a href=\"https://softwareengineering.stackexchange.com/a/412367/202970\">What's the point of the <code>accept</code> method</a></em>?</p>\n"}],"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1664875768,"creation_date":1664778045,"question_id":73931739,"body_markdown":"I have the following use case. I have a restriction interface that needs to fill its members from dependencies, do the validations. These methods are applicable for all implementations and hence it is fine till now. Some restrictions require some other validation later. In the main function, I want to loop over each of the restriction and call the methods in a general way instead of using instanceOf and then calling. I think this might be a use case of visitor pattern as mentioned [here](https://refactoring.guru/design-patterns/visitor#:~:text=Use%20the%20pattern%20when%20a%20behavior%20makes%20sense%20only%20in%20some%20classes%20of%20a%20class%20hierarchy%2C%20but%20not%20in%20others.). Now I have the following classes.\r\n\r\n```\r\ninterface Restriction() {\r\n    void fillFields();\r\n    void firstRoundValidation();\r\n    void accept(SecondRoundValidationVisitor secondRoundValidationVisitor);\r\n}\r\n```\r\n\r\n```\r\nclass RestrictionBasic implements Restriction {\r\n    Field field;\r\n\r\n    // Inject dependencies\r\n\r\n    @Override\r\n    void fillFields() {\r\n        // Get field from dependencies\r\n    }\r\n\r\n    void firstRoundValidation() {\r\n        // Implement\r\n    }\r\n\r\n    @void accept(SecondRoundValidationVisitor secondRoundValidationVisitor) {\r\n        secondRoundValidationVisitor.visitRestrictionBasic(this);\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass RestrictionAdvanced implements Restriction {\r\n\r\n    // Same as above except below function.\r\n\r\n    @void accept(SecondRoundValidationVisitor secondRoundValidationVisitor) {\r\n        secondRoundValidationVisitor.visitRestrictionAdvanced(this);\r\n    }\r\n}\r\n```\r\n\r\n```\r\ninterface ValidationVisitor {\r\n    void visitRestriction(RestrictionBasic restrictionBasic);\r\n    void visitRestriction(RestrictionAdvanced restrictionAdvanced);\r\n}\r\n```\r\n\r\n```\r\nclass SecondRoundValidationVisitor implements ValidationVisitor {\r\n    @Override\r\n    void visitRestriction(RestrictionBasic restrictionBasic) {\r\n        // Empty function\r\n    }\r\n\r\n    @Override\r\n    void visitRestriction(RestrictionAdvanced restrictionAdvanced) {\r\n        // Perform second level of validation\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass Main() {\r\n    List&lt;Restriction&gt; restrictionList = new ArrayList();\r\n    ValidationVisitor validationVisitor = new SecondRoundValidationVisitor();\r\n    for (restriction : restrictionList) {\r\n        restriction.accept(validationVisitor)\r\n    }\r\n}\r\n```\r\nCould you please tell if there is any issue with this approach? There is also another approach where getSecondValidationNeeded() could be added to the interface and based on that, call secondValidation with default value of empty body. But this is not following interface segregation principle. My doubt is how does visitor pattern solve this issue? Even in visitor pattern, there is only one interface and accept is being added in base interface even when only some visitors have non empty visit functions.","title":"How to avoid empty visit functions in visitor pattern?","body":"<p>I have the following use case. I have a restriction interface that needs to fill its members from dependencies, do the validations. These methods are applicable for all implementations and hence it is fine till now. Some restrictions require some other validation later. In the main function, I want to loop over each of the restriction and call the methods in a general way instead of using instanceOf and then calling. I think this might be a use case of visitor pattern as mentioned <a href=\"https://refactoring.guru/design-patterns/visitor#:%7E:text=Use%20the%20pattern%20when%20a%20behavior%20makes%20sense%20only%20in%20some%20classes%20of%20a%20class%20hierarchy%2C%20but%20not%20in%20others.\" rel=\"nofollow noreferrer\">here</a>. Now I have the following classes.</p>\n<pre><code>interface Restriction() {\n    void fillFields();\n    void firstRoundValidation();\n    void accept(SecondRoundValidationVisitor secondRoundValidationVisitor);\n}\n</code></pre>\n<pre><code>class RestrictionBasic implements Restriction {\n    Field field;\n\n    // Inject dependencies\n\n    @Override\n    void fillFields() {\n        // Get field from dependencies\n    }\n\n    void firstRoundValidation() {\n        // Implement\n    }\n\n    @void accept(SecondRoundValidationVisitor secondRoundValidationVisitor) {\n        secondRoundValidationVisitor.visitRestrictionBasic(this);\n    }\n}\n</code></pre>\n<pre><code>class RestrictionAdvanced implements Restriction {\n\n    // Same as above except below function.\n\n    @void accept(SecondRoundValidationVisitor secondRoundValidationVisitor) {\n        secondRoundValidationVisitor.visitRestrictionAdvanced(this);\n    }\n}\n</code></pre>\n<pre><code>interface ValidationVisitor {\n    void visitRestriction(RestrictionBasic restrictionBasic);\n    void visitRestriction(RestrictionAdvanced restrictionAdvanced);\n}\n</code></pre>\n<pre><code>class SecondRoundValidationVisitor implements ValidationVisitor {\n    @Override\n    void visitRestriction(RestrictionBasic restrictionBasic) {\n        // Empty function\n    }\n\n    @Override\n    void visitRestriction(RestrictionAdvanced restrictionAdvanced) {\n        // Perform second level of validation\n    }\n}\n</code></pre>\n<pre><code>class Main() {\n    List&lt;Restriction&gt; restrictionList = new ArrayList();\n    ValidationVisitor validationVisitor = new SecondRoundValidationVisitor();\n    for (restriction : restrictionList) {\n        restriction.accept(validationVisitor)\n    }\n}\n</code></pre>\n<p>Could you please tell if there is any issue with this approach? There is also another approach where getSecondValidationNeeded() could be added to the interface and based on that, call secondValidation with default value of empty body. But this is not following interface segregation principle. My doubt is how does visitor pattern solve this issue? Even in visitor pattern, there is only one interface and accept is being added in base interface even when only some visitors have non empty visit functions.</p>\n"},{"tags":["java","gradle","build.gradle","multi-module"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1664875828,"post_id":73945664,"comment_id":130565029,"body_markdown":"You say &quot;while upgrading&quot;: **what exactly** did you change between the last successful build and when this error message first showed up? You mention upgrading both Gradle *and* Java, which I&#39;d discourage: pick and order and update one after the other, verifying that everything still works in between.","body":"You say &quot;while upgrading&quot;: <b>what exactly</b> did you change between the last successful build and when this error message first showed up? You mention upgrading both Gradle <i>and</i> Java, which I&#39;d discourage: pick and order and update one after the other, verifying that everything still works in between."},{"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"score":0,"creation_date":1664876742,"post_id":73945664,"comment_id":130565312,"body_markdown":"I just changed the gradle and java version while building the code. Also earlier I was using old eclipse and now I have moved to the new one which support java 11, so when I imported my project into recent eclipse it was not showing project in the correct format hence i used the eclipse plugin in allprojects{} to import it in correct way. \n\nAs you suggested I moved back my java to 8 and try to build code with gradle 5 and java8 and got the same error.","body":"I just changed the gradle and java version while building the code. Also earlier I was using old eclipse and now I have moved to the new one which support java 11, so when I imported my project into recent eclipse it was not showing project in the correct format hence i used the eclipse plugin in allprojects{} to import it in correct way.   As you suggested I moved back my java to 8 and try to build code with gradle 5 and java8 and got the same error."}],"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664875742,"creation_date":1664875152,"question_id":73945664,"body_markdown":"I am trying to upgrade gradle from 4.5 to gradle 5.0 and java8 to java11. I have multimodule project(backend and frontend) and root project gradle looks like below\r\n\r\n\r\n\r\n        apply plugin: &#39;maven-publish&#39;\r\n        apply plugin: &#39;java&#39;\r\n         \r\n        def mavenArtifactId = &#39;root-project-name&#39;\r\n        group = &#39;com.root.project&#39;\r\n        \r\n        allprojects {\r\n        \tapply plugin: &#39;eclipse&#39;\r\n        \tversion = &#39;14.5.0-SNAPSHOT&#39;;\r\n    \text {\r\n    \t\tbuildDate = new Date();\r\n    \t\tproductName = &#39;xyz&#39;\r\n    \t\tproductDescription = &#39;xyz&#39;\r\n    \t\tgitVersion = getGitVersion();\r\n    \t}\r\n    \t\r\n    \tif( project.hasProperty(&#39;mvn_username&#39;)) {\r\n    \t\tmvn_user = mvn_username\r\n    \t}\r\n    \tif(project.hasProperty(&#39;mvn_password&#39;)) {\r\n    \t\tmvn_pass = mvn_password\r\n    \t}\r\n    \r\n    \trepositories {\r\n    \t\tmaven { url releaseRepo }\r\n    \t\tmaven { url snapshotRepo }\r\n    \t\tmaven { url publicRepo }\r\n    \t}\r\n    }\r\n    \r\n    println &quot;Version: &quot; + version;\r\n    \r\n    def currentJvm = org.gradle.internal.jvm.Jvm.current()\r\n    println &quot;Building with java &quot; + currentJvm\r\n    \r\n    // Define git version\r\n    def getGitVersion() {\r\n        def describeStdOut = new ByteArrayOutputStream()\r\n        \r\n        try {\r\n    \t\texec {\r\n    \t\t    commandLine &#39;git&#39;, &#39;describe&#39;, &#39;--tags&#39;, &#39;--always&#39;, &#39;--dirty&#39;\r\n    \t\t    standardOutput = describeStdOut\r\n    \t\t    ignoreExitValue true\r\n    \t\t}\r\n        \tdescribeStdOut.toString().trim()\r\n        }\r\n        catch(Exception e ) {\r\n    \t\t&quot;n/a&quot;\r\n        }\r\n    }\r\n    \r\n    publish.dependsOn(&#39;:backend:test&#39;)\r\n    \r\n    \r\n    publishing {\r\n    \trepositories {\r\n    \t\tmaven {\r\n    \t\t\tcredentials {\r\n    \t\t\t\tusername=mvn_user\r\n    \t\t\t\tpassword=mvn_pass\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (version.endsWith(&quot;-SNAPSHOT&quot;)) {\r\n    \t\t\t\turl snapshotRepo\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\turl releaseRepo\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublications {\r\n    \t\tmavenJava(MavenPublication) {\r\n    \t\t\tartifactId = mavenArtifactId \r\n    \t\r\n    \t\t\tfrom project(&#39;:backend&#39;).components.java\r\n    \t\t\t\r\n    \t\t\tartifact project(&#39;:backend&#39;).javadocJar\r\n    \t\t\tartifact project(&#39;:backend&#39;).sourceJar\r\n    \t\t\tartifact examplePropertiesArtifact\r\n    \t\t\tartifact exampleLog4jFileArtifact\r\n    \t\t\tartifact windowsScriptFile\r\n    \t\t\tartifact linuxScriptArtifact\r\n    \t\t\tartifact aixScriptArtifact\r\n    \r\n    \t\t\tpom.withXml {\r\n    \t\t\t\tasNode().appendNode(&#39;name&#39;, productName)\r\n    \t\t\t\tasNode().appendNode(&#39;description&#39;, productDescription)\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    //wrapper {\r\n    //\tgradleVersion = &#39;5.0&#39;\r\n    //}\r\n\r\n\r\nWhile upgrading I am getting the error \r\n```none\r\nCould not get unknown property &#39;java&#39; for SoftwareComponentInternal set of type org.gradle.api.internal.component.DefaultSoftwareComponentContainer.\r\n```\r\n\r\nPlease note my subproject &quot;backend&quot; already has java plugin in build.gradle. Similar question have found on gradle forum with no answer\r\n\r\nhttps://discuss.gradle.org/t/java-11-could-not-get-unknown-property-java-for-softwarecomponentinternal/31625","title":"Could not get unknown property &#39;java&#39; for SoftwareComponentInternal while upgrading gradle 4.5 to 5.0 and java 8 to java 11","body":"<p>I am trying to upgrade gradle from 4.5 to gradle 5.0 and java8 to java11. I have multimodule project(backend and frontend) and root project gradle looks like below</p>\n<pre><code>    apply plugin: 'maven-publish'\n    apply plugin: 'java'\n     \n    def mavenArtifactId = 'root-project-name'\n    group = 'com.root.project'\n    \n    allprojects {\n        apply plugin: 'eclipse'\n        version = '14.5.0-SNAPSHOT';\n    ext {\n        buildDate = new Date();\n        productName = 'xyz'\n        productDescription = 'xyz'\n        gitVersion = getGitVersion();\n    }\n    \n    if( project.hasProperty('mvn_username')) {\n        mvn_user = mvn_username\n    }\n    if(project.hasProperty('mvn_password')) {\n        mvn_pass = mvn_password\n    }\n\n    repositories {\n        maven { url releaseRepo }\n        maven { url snapshotRepo }\n        maven { url publicRepo }\n    }\n}\n\nprintln &quot;Version: &quot; + version;\n\ndef currentJvm = org.gradle.internal.jvm.Jvm.current()\nprintln &quot;Building with java &quot; + currentJvm\n\n// Define git version\ndef getGitVersion() {\n    def describeStdOut = new ByteArrayOutputStream()\n    \n    try {\n        exec {\n            commandLine 'git', 'describe', '--tags', '--always', '--dirty'\n            standardOutput = describeStdOut\n            ignoreExitValue true\n        }\n        describeStdOut.toString().trim()\n    }\n    catch(Exception e ) {\n        &quot;n/a&quot;\n    }\n}\n\npublish.dependsOn(':backend:test')\n\n\npublishing {\n    repositories {\n        maven {\n            credentials {\n                username=mvn_user\n                password=mvn_pass\n            }\n            \n            if (version.endsWith(&quot;-SNAPSHOT&quot;)) {\n                url snapshotRepo\n            }\n            else {\n                url releaseRepo\n            }\n        }\n    }\n    \n    publications {\n        mavenJava(MavenPublication) {\n            artifactId = mavenArtifactId \n    \n            from project(':backend').components.java\n            \n            artifact project(':backend').javadocJar\n            artifact project(':backend').sourceJar\n            artifact examplePropertiesArtifact\n            artifact exampleLog4jFileArtifact\n            artifact windowsScriptFile\n            artifact linuxScriptArtifact\n            artifact aixScriptArtifact\n\n            pom.withXml {\n                asNode().appendNode('name', productName)\n                asNode().appendNode('description', productDescription)\n            }\n        }\n    }\n}\n\n//wrapper {\n//  gradleVersion = '5.0'\n//}\n</code></pre>\n<p>While upgrading I am getting the error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Could not get unknown property 'java' for SoftwareComponentInternal set of type org.gradle.api.internal.component.DefaultSoftwareComponentContainer.\n</code></pre>\n<p>Please note my subproject &quot;backend&quot; already has java plugin in build.gradle. Similar question have found on gradle forum with no answer</p>\n<p><a href=\"https://discuss.gradle.org/t/java-11-could-not-get-unknown-property-java-for-softwarecomponentinternal/31625\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/java-11-could-not-get-unknown-property-java-for-softwarecomponentinternal/31625</a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664875198,"creation_date":1664875198,"answer_id":73945678,"question_id":73945586,"body_markdown":"According to [the docs of `AutocompleteTextView`](https://developer.android.com/reference/android/widget/AutoCompleteTextView) its `setAdapter` method takes a `&lt;T extends ListAdapter &amp; Filterable&gt;`, meaning the adapter must both extend `ListAdapter` and implement `Filterable`.\r\n\r\n`ListAdapter` itself does not implement `Filterable`, but some subclasses such as [`ArrayAdapter`][1] do.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/ArrayAdapter","title":"setAdapter(T) cannot be applied to (android.widget.ListAdapter) when using fragment","body":"<p>According to <a href=\"https://developer.android.com/reference/android/widget/AutoCompleteTextView\" rel=\"nofollow noreferrer\">the docs of <code>AutocompleteTextView</code></a> its <code>setAdapter</code> method takes a <code>&lt;T extends ListAdapter &amp; Filterable&gt;</code>, meaning the adapter must both extend <code>ListAdapter</code> and implement <code>Filterable</code>.</p>\n<p><code>ListAdapter</code> itself does not implement <code>Filterable</code>, but some subclasses such as <a href=\"https://developer.android.com/reference/android/widget/ArrayAdapter\" rel=\"nofollow noreferrer\"><code>ArrayAdapter</code></a> do.</p>\n"}],"owner":{"account_id":19110497,"reputation":3,"user_id":13956603,"display_name":"Chinmay Teni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73945678,"answer_count":1,"score":0,"last_activity_date":1664875198,"creation_date":1664874762,"question_id":73945586,"body_markdown":"I am getting an error at autoCompleteTextView it says `setAdapter(T) cannot be applied to (android.widget.ListAdapter)`\r\n\r\n```\r\npublic class HomeFragmnet extends Fragment {\r\n\r\n    TextInputLayout textInputLayout;\r\n    AutoCompleteTextView autoCompleteTextView;\r\n    ListView listView;\r\n    ListAdapter listAdapter;\r\n    \r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstancesState){\r\n        View v =inflater.inflate(R.layout.fragment_home, null);\r\n\r\n        textInputLayout = (TextInputLayout) v.findViewById(R.id.menu_dropdown);\r\n        autoCompleteTextView = (AutoCompleteTextView) v.findViewById(R.id.drop_items);\r\n        String [] items={&quot;Pune&quot;, &quot;Mumbai&quot;, &quot;Nashik&quot;};\r\n\r\n        listAdapter = new ArrayAdapter&lt;String&gt;(getActivity() , R.layout.items_list, items );\r\n        autoCompleteTextView.setAdapter( listAdapter );\r\n\r\n\r\n        return v;\r\n    }\r\n\r\n}\r\n```","title":"setAdapter(T) cannot be applied to (android.widget.ListAdapter) when using fragment","body":"<p>I am getting an error at autoCompleteTextView it says <code>setAdapter(T) cannot be applied to (android.widget.ListAdapter)</code></p>\n<pre><code>public class HomeFragmnet extends Fragment {\n\n    TextInputLayout textInputLayout;\n    AutoCompleteTextView autoCompleteTextView;\n    ListView listView;\n    ListAdapter listAdapter;\n    \n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstancesState){\n        View v =inflater.inflate(R.layout.fragment_home, null);\n\n        textInputLayout = (TextInputLayout) v.findViewById(R.id.menu_dropdown);\n        autoCompleteTextView = (AutoCompleteTextView) v.findViewById(R.id.drop_items);\n        String [] items={&quot;Pune&quot;, &quot;Mumbai&quot;, &quot;Nashik&quot;};\n\n        listAdapter = new ArrayAdapter&lt;String&gt;(getActivity() , R.layout.items_list, items );\n        autoCompleteTextView.setAdapter( listAdapter );\n\n\n        return v;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","amazon-s3","apache-flink","parquet","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664875100,"creation_date":1664875100,"answer_id":73945655,"question_id":73944364,"body_markdown":"You can do this by implementing a `BucketAssigner`. \r\n\r\nSomething along these lines:\r\n\r\n```java\r\npublic static final class KeyBucketAssigner\r\n        implements BucketAssigner&lt;Event, String&gt; {\r\n\r\n    private static final long serialVersionUID = 987325769970523326L;\r\n\r\n    @Override\r\n    public String getBucketId(final Event element, final Context context) {\r\n        return String.valueOf(Event.key);\r\n    }\r\n\r\n    @Override\r\n    public SimpleVersionedSerializer&lt;String&gt; getSerializer() {\r\n        return SimpleVersionedStringSerializer.INSTANCE;\r\n    }\r\n}\r\n```\r\n\r\n[documentation](https://nightlies.apache.org/flink/flink-docs-release-1.15/api/java/org/apache/flink/streaming/api/functions/sink/filesystem/BucketAssigner.html)  \r\n[javadocs](https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/filesystem/#bucket-assignment)  \r\n","title":"How to use sinkTo in Flink to write multi file in AWS S3","body":"<p>You can do this by implementing a <code>BucketAssigner</code>.</p>\n<p>Something along these lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final class KeyBucketAssigner\n        implements BucketAssigner&lt;Event, String&gt; {\n\n    private static final long serialVersionUID = 987325769970523326L;\n\n    @Override\n    public String getBucketId(final Event element, final Context context) {\n        return String.valueOf(Event.key);\n    }\n\n    @Override\n    public SimpleVersionedSerializer&lt;String&gt; getSerializer() {\n        return SimpleVersionedStringSerializer.INSTANCE;\n    }\n}\n</code></pre>\n<p><a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/api/java/org/apache/flink/streaming/api/functions/sink/filesystem/BucketAssigner.html\" rel=\"nofollow noreferrer\">documentation</a><br />\n<a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/filesystem/#bucket-assignment\" rel=\"nofollow noreferrer\">javadocs</a></p>\n"}],"owner":{"account_id":26521278,"reputation":3,"user_id":20154913,"display_name":"DANG BUI HUU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73945655,"answer_count":1,"score":0,"last_activity_date":1664875100,"creation_date":1664868288,"question_id":73944364,"body_markdown":"i want to save data of many customers in different files.\r\n\r\nNow, data is being stored in DataStream variable. How to use sinkTo to write multi file in AWS S3. Each file contains the data of a customer and the file name is the customer name. \r\n\r\n\r\n\r\n\r\n    public static void writeMultiFile(DataStream&lt;Tuple5&lt;String, Long, Double, String, String&gt;&gt; data) throws Exception {\r\n        String currentDir = System.getProperty(&quot;user.dir&quot;);\r\n        Path pathNew = new Path(currentDir + &quot;/output/&quot;);\r\n\r\n        OutputFileConfig config = OutputFileConfig\r\n                .builder()\r\n                .withPartPrefix(&quot;namefile&quot;)\r\n                .withPartSuffix(&quot;.parquet&quot;)\r\n                .build();\r\n\r\n        final FileSink&lt;GenericRecord&gt; sink = FileSink\r\n                .forBulkFormat(pathNew, AvroParquetWriters.forGenericRecord(schema))\r\n                .withOutputFileConfig(config)\r\n                .build();\r\n\r\n        data.keyBy(value-&gt;value.f0).map(new convertGenericRecord()).sinkTo(sink);\r\n    }\r\n\r\n \r\nI need the file names to change by key. The code above can&#39;t do that, filename must be predefined, it cannot be changed dynamically by key. \r\n\r\nPlease help me!","title":"How to use sinkTo in Flink to write multi file in AWS S3","body":"<p>i want to save data of many customers in different files.</p>\n<p>Now, data is being stored in DataStream variable. How to use sinkTo to write multi file in AWS S3. Each file contains the data of a customer and the file name is the customer name.</p>\n<pre><code>public static void writeMultiFile(DataStream&lt;Tuple5&lt;String, Long, Double, String, String&gt;&gt; data) throws Exception {\n    String currentDir = System.getProperty(&quot;user.dir&quot;);\n    Path pathNew = new Path(currentDir + &quot;/output/&quot;);\n\n    OutputFileConfig config = OutputFileConfig\n            .builder()\n            .withPartPrefix(&quot;namefile&quot;)\n            .withPartSuffix(&quot;.parquet&quot;)\n            .build();\n\n    final FileSink&lt;GenericRecord&gt; sink = FileSink\n            .forBulkFormat(pathNew, AvroParquetWriters.forGenericRecord(schema))\n            .withOutputFileConfig(config)\n            .build();\n\n    data.keyBy(value-&gt;value.f0).map(new convertGenericRecord()).sinkTo(sink);\n}\n</code></pre>\n<p>I need the file names to change by key. The code above can't do that, filename must be predefined, it cannot be changed dynamically by key.</p>\n<p>Please help me!</p>\n"},{"tags":["java","many-to-one","spring-data-jdbc"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1664875685,"post_id":73945561,"comment_id":130564984,"body_markdown":"You are asking about Spring Data JDBC but then you show JPA entity classes. Are you really using JDBC or are you using Spring Data JPA instead? You could use `@ManyToOne` to configure a many-to-one relation with JPA, and then there wouldn&#39;t be a need to manually define a query with `@Query`.","body":"You are asking about Spring Data JDBC but then you show JPA entity classes. Are you really using JDBC or are you using Spring Data JPA instead? You could use <code>@ManyToOne</code> to configure a many-to-one relation with JPA, and then there wouldn&#39;t be a need to manually define a query with <code>@Query</code>."},{"owner":{"account_id":1022944,"reputation":55,"user_id":1032836,"display_name":"user1032836"},"score":0,"creation_date":1664894352,"post_id":73945561,"comment_id":130571473,"body_markdown":"@Jesper, its not JPA entity classes. `@Table` and `@Column` are from spring-data-relational, i use them because in real app the table and column names do not match spring data naming conventions. `@Id` is from commons. Those annotations are commonly used in every second spring data jdbc example ;)","body":"@Jesper, its not JPA entity classes. <code>@Table</code> and <code>@Column</code> are from spring-data-relational, i use them because in real app the table and column names do not match spring data naming conventions. <code>@Id</code> is from commons. Those annotations are commonly used in every second spring data jdbc example ;)"}],"owner":{"account_id":1022944,"reputation":55,"user_id":1032836,"display_name":"user1032836"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665045421,"answer_count":0,"score":0,"last_activity_date":1664874671,"creation_date":1664874671,"question_id":73945561,"body_markdown":"Its quite easy to use spring data jdbc dealing with CUD actions for entities with many-to-one refs, but the R(eading) is not so straightforward. Although i could use AggregateReference for querying data with ids only, but frontend asks for full data filled.\r\nI.e. i have smth like that:\r\n\r\n```\r\nCREATE TABLE TYPE (\r\n   ID   SERIAL NOT NULL,\r\n   NAME VARCHAR NOT NULL,\r\n   PRIMARY KEY (ID)\r\n);\r\n\r\nCREATE TABLE RECORD (   \r\n   ID   SERIAL NOT NULL,\r\n   NAME VARCHAR NOT NULL,\r\n   TYPE_ID INTEGER REFERENCES TYPE(ID),\r\n   PRIMARY KEY (ID)\r\n);\r\n\r\n```\r\nAnd corresponding objects:\r\n```\r\n@Table\r\nclass Type {\r\n    @Id\r\n    Long id;\r\n    String name;\r\n}\r\n\r\n@Table\r\nclass Record {\r\n    @Id\r\n    Long id;\r\n    String name;\r\n    @Column(&quot;type_id&quot;)\r\n    AggregateReference&lt;Type, Long&gt; type;\r\n}\r\n```\r\nI need to provide pageable service for frontend returning records with filled in type id and type name.\r\nSmth like this:\r\n```\r\n[{&quot;id&quot;:1,&quot;name&quot;:&quot;record1&quot;,&quot;type&quot;:{&quot;id&quot;:1,&quot;name&quot;:&quot;type1&quot;}},...]\r\n```\r\nPreferably with paging info provided by Page object (total count, page number and so on).\r\nWith spring data jdbc repositories all i can get out of box is\r\n```\r\n[{&quot;id&quot;:1,&quot;name&quot;:&quot;record1&quot;,&quot;type&quot;:{&quot;id&quot;:1}},...]\r\n```\r\nI could try to write query by hand with @Query in corresponding method within Repository, but i lose paging services.\r\nThe same goes if i use JDBCTemplate and rowmapper.\r\n\r\nI can also try to use mapstruct to map Record to some RecordDTO with type name included, but this requires querying for Type object for every row which seems to be quite ineffective. \r\nWhat is the best way to solve this?","title":"Spring Data JDBC and effective work with many-to-one refs","body":"<p>Its quite easy to use spring data jdbc dealing with CUD actions for entities with many-to-one refs, but the R(eading) is not so straightforward. Although i could use AggregateReference for querying data with ids only, but frontend asks for full data filled.\nI.e. i have smth like that:</p>\n<pre><code>CREATE TABLE TYPE (\n   ID   SERIAL NOT NULL,\n   NAME VARCHAR NOT NULL,\n   PRIMARY KEY (ID)\n);\n\nCREATE TABLE RECORD (   \n   ID   SERIAL NOT NULL,\n   NAME VARCHAR NOT NULL,\n   TYPE_ID INTEGER REFERENCES TYPE(ID),\n   PRIMARY KEY (ID)\n);\n\n</code></pre>\n<p>And corresponding objects:</p>\n<pre><code>@Table\nclass Type {\n    @Id\n    Long id;\n    String name;\n}\n\n@Table\nclass Record {\n    @Id\n    Long id;\n    String name;\n    @Column(&quot;type_id&quot;)\n    AggregateReference&lt;Type, Long&gt; type;\n}\n</code></pre>\n<p>I need to provide pageable service for frontend returning records with filled in type id and type name.\nSmth like this:</p>\n<pre><code>[{&quot;id&quot;:1,&quot;name&quot;:&quot;record1&quot;,&quot;type&quot;:{&quot;id&quot;:1,&quot;name&quot;:&quot;type1&quot;}},...]\n</code></pre>\n<p>Preferably with paging info provided by Page object (total count, page number and so on).\nWith spring data jdbc repositories all i can get out of box is</p>\n<pre><code>[{&quot;id&quot;:1,&quot;name&quot;:&quot;record1&quot;,&quot;type&quot;:{&quot;id&quot;:1}},...]\n</code></pre>\n<p>I could try to write query by hand with @Query in corresponding method within Repository, but i lose paging services.\nThe same goes if i use JDBCTemplate and rowmapper.</p>\n<p>I can also try to use mapstruct to map Record to some RecordDTO with type name included, but this requires querying for Type object for every row which seems to be quite ineffective.\nWhat is the best way to solve this?</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":10512603,"reputation":538,"user_id":7747799,"display_name":"I&#241;igo Moreno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664874269,"creation_date":1664874269,"answer_id":73945482,"question_id":73911949,"body_markdown":"Not completely sure I understand your question, but I think you want to do something like\r\n```java\r\npublic double calculatePay( int hours, double HourlyWage )\r\n{\r\n    double NetPay = hours * HourlyWage\r\n    if ( hours &gt; STANDARD_WORKING_HOURS ) \r\n    { \r\n        int Overtime = (hours - STANDARD_WORKING_HOURS);\r\n        NetPay = NetPay + ( Overtime * HourlyWage * 0.5);\r\n    }\r\n    double GrossPay = NetPay * (1-Federal_and_State_Tax);\r\n    return GrossPay;\r\n}\r\n\r\n```","title":"How do I get the &quot;Netpay&quot; to subtract the &quot;Federal and State Tax&quot; from the gross pay? (The Federal and State Tax&quot; is supposed to be 15%)","body":"<p>Not completely sure I understand your question, but I think you want to do something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public double calculatePay( int hours, double HourlyWage )\n{\n    double NetPay = hours * HourlyWage\n    if ( hours &gt; STANDARD_WORKING_HOURS ) \n    { \n        int Overtime = (hours - STANDARD_WORKING_HOURS);\n        NetPay = NetPay + ( Overtime * HourlyWage * 0.5);\n    }\n    double GrossPay = NetPay * (1-Federal_and_State_Tax);\n    return GrossPay;\n}\n\n</code></pre>\n"}],"owner":{"account_id":26483237,"reputation":1,"user_id":20122184,"display_name":"Credits"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664874269,"creation_date":1664557604,"question_id":73911949,"body_markdown":"Need this to be 15%\r\n    \t  \r\n    public double calculatePay( int hours, double HourlyWage )\r\n    {\r\n    \tdouble Federal_and_State_Tax = (0.15); \r\n\r\nStandard working hours = 40\r\n\r\n        if ( hours &gt; STANDARD_WORKING_HOURS ) \r\n        { \r\n            int Overtime = (hours - STANDARD_WORKING_HOURS);\r\n            GrossPay = ( STANDARD_WORKING_HOURS * HourlyWage ) + ( Overtime * HourlyWage) * 1.5;\r\n\r\nNeed to statement to say: (Hours over 40 * hourlywage * 150%) - 15%\r\n\r\n            NetPay = ( STANDARD_WORKING_HOURS * HourlyWage ) + ( Overtime * HourlyWage * 1.5) - Federal_and_State_Tax;\r\n        }\r\n        else GrossPay = hours * HourlyWage;\r\n        \t NetPay = (hours * HourlyWage) - Federal_and_State_Tax;\r\n      \r\n\r\n        return GrossPay;\r\n     \r\n    }","title":"How do I get the &quot;Netpay&quot; to subtract the &quot;Federal and State Tax&quot; from the gross pay? (The Federal and State Tax&quot; is supposed to be 15%)","body":"<p>Need this to be 15%</p>\n<pre><code>public double calculatePay( int hours, double HourlyWage )\n{\n    double Federal_and_State_Tax = (0.15); \n</code></pre>\n<p>Standard working hours = 40</p>\n<pre><code>    if ( hours &gt; STANDARD_WORKING_HOURS ) \n    { \n        int Overtime = (hours - STANDARD_WORKING_HOURS);\n        GrossPay = ( STANDARD_WORKING_HOURS * HourlyWage ) + ( Overtime * HourlyWage) * 1.5;\n</code></pre>\n<p>Need to statement to say: (Hours over 40 * hourlywage * 150%) - 15%</p>\n<pre><code>        NetPay = ( STANDARD_WORKING_HOURS * HourlyWage ) + ( Overtime * HourlyWage * 1.5) - Federal_and_State_Tax;\n    }\n    else GrossPay = hours * HourlyWage;\n         NetPay = (hours * HourlyWage) - Federal_and_State_Tax;\n  \n\n    return GrossPay;\n \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1614089298,"post_id":66333964,"comment_id":117273787,"body_markdown":"Possibly related - https://stackoverflow.com/q/60872965/1098361","body":"Possibly related - <a href=\"https://stackoverflow.com/q/60872965/1098361\">stackoverflow.com/q/60872965/1098361</a>"},{"owner":{"account_id":1328024,"reputation":83,"user_id":1272455,"display_name":"Tim McGinnis"},"score":0,"creation_date":1614105973,"post_id":66333964,"comment_id":117282093,"body_markdown":"After reviewing the possibly related post It seems to me that the AESCipher$General comes from java.base classloader and it is finding javax.crypto.CipherSpi in the powermock.core classloader.  If I understand it correctly.   I have looked in the powermock dependencies (actually all my dependencies) and I cannot find one that contains javax.crypto.CipherSpi.","body":"After reviewing the possibly related post It seems to me that the AESCipher$General comes from java.base classloader and it is finding javax.crypto.CipherSpi in the powermock.core classloader.  If I understand it correctly.   I have looked in the powermock dependencies (actually all my dependencies) and I cannot find one that contains javax.crypto.CipherSpi."},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1614107540,"post_id":66333964,"comment_id":117282731,"body_markdown":"Have you tried a simple test where you cast `AESCipher$General` to `CipherSpi` all by itself? Breaking things down as small as you can can help resolve issues.","body":"Have you tried a simple test where you cast <code>AESCipher$General</code> to <code>CipherSpi</code> all by itself? Breaking things down as small as you can can help resolve issues."},{"owner":{"account_id":1328024,"reputation":83,"user_id":1272455,"display_name":"Tim McGinnis"},"score":0,"creation_date":1614174381,"post_id":66333964,"comment_id":117304727,"body_markdown":"When I try to create the class it says the com.sun.crypto.provider package does not exist.","body":"When I try to create the class it says the com.sun.crypto.provider package does not exist."},{"owner":{"account_id":1328024,"reputation":83,"user_id":1272455,"display_name":"Tim McGinnis"},"score":0,"creation_date":1614174492,"post_id":66333964,"comment_id":117304786,"body_markdown":"I am assuming that is because java.base does not export that package.","body":"I am assuming that is because java.base does not export that package."},{"owner":{"account_id":1328024,"reputation":83,"user_id":1272455,"display_name":"Tim McGinnis"},"score":1,"creation_date":1614195744,"post_id":66333964,"comment_id":117314849,"body_markdown":"I re-configured my test case and have identified the issue as being a problem when using the @RunWIth(PowerMockRunner.class) annotation.  If I do not use this annotation the test runs.  If I add the annotation it throws the error listed above.","body":"I re-configured my test case and have identified the issue as being a problem when using the @RunWIth(PowerMockRunner.class) annotation.  If I do not use this annotation the test runs.  If I add the annotation it throws the error listed above."},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1614200487,"post_id":66333964,"comment_id":117316693,"body_markdown":"Good troubleshooting and thanks for letting the SO community know! May help others or yourself in the future!","body":"Good troubleshooting and thanks for letting the SO community know! May help others or yourself in the future!"}],"answers":[{"tags":[],"owner":{"account_id":1328024,"reputation":83,"user_id":1272455,"display_name":"Tim McGinnis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614196585,"creation_date":1614196585,"answer_id":66358010,"question_id":66333964,"body_markdown":"After some helpful direction I was able to track the issue down to happening only when the @RunWith(PowerMockRunner.class) was used.  To resolve the issue I added the @PowerMockIgnore({&quot;javax.crypto.*&quot;}) annotation.  This resolved all the errors and the test now works as expected.","title":"Classcast Exception for javax.crypto.CipherSpi due to different modules","body":"<p>After some helpful direction I was able to track the issue down to happening only when the @RunWith(PowerMockRunner.class) was used.  To resolve the issue I added the @PowerMockIgnore({&quot;javax.crypto.*&quot;}) annotation.  This resolved all the errors and the test now works as expected.</p>\n"},{"tags":[],"owner":{"account_id":26523496,"reputation":11,"user_id":20156821,"display_name":"Sumit Phalke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664874148,"creation_date":1664874148,"answer_id":73945457,"question_id":66333964,"body_markdown":"This helped, mockito was trying to mock some these objects which was leading to failure. Adding @PowerMockIgnore does help.","title":"Classcast Exception for javax.crypto.CipherSpi due to different modules","body":"<p>This helped, mockito was trying to mock some these objects which was leading to failure. Adding @PowerMockIgnore does help.</p>\n"}],"owner":{"account_id":1328024,"reputation":83,"user_id":1272455,"display_name":"Tim McGinnis"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664874148,"creation_date":1614086514,"question_id":66333964,"body_markdown":"I am moving a app to Java 11 which uses encryption.  When I try to run the tests I get the following error.\r\n\r\n    java.lang.ClassCastException: \r\n    class com.sun.crypto.provider.AESCipher$General \r\n    cannot be cast to class javax.crypto.CipherSpi \r\n    (com.sun.crypto.provider.AESCipher$General is in module \r\n    java.base of loader &#39;bootstrap&#39;; \r\n    javax.crypto.CipherSpi is in unnamed module of loader\r\n    org.powermock.core.classloader.javassist.JavassistMockClassLoader@4c1d9d4b)\r\n\r\nI don&#39;t understand what it means or how to resolve it.\r\n","title":"Classcast Exception for javax.crypto.CipherSpi due to different modules","body":"<p>I am moving a app to Java 11 which uses encryption.  When I try to run the tests I get the following error.</p>\n<pre><code>java.lang.ClassCastException: \nclass com.sun.crypto.provider.AESCipher$General \ncannot be cast to class javax.crypto.CipherSpi \n(com.sun.crypto.provider.AESCipher$General is in module \njava.base of loader 'bootstrap'; \njavax.crypto.CipherSpi is in unnamed module of loader\norg.powermock.core.classloader.javassist.JavassistMockClassLoader@4c1d9d4b)\n</code></pre>\n<p>I don't understand what it means or how to resolve it.</p>\n"},{"tags":["java","arrays","foreach","maps"],"comments":[{"owner":{"account_id":26261950,"reputation":98,"user_id":19950902,"display_name":"CR130"},"score":1,"creation_date":1663368472,"post_id":73750892,"comment_id":130231354,"body_markdown":"I would love to help you, but I can only help you if there is a question to answer. Please make sure to ask a question whenever you make a post so others can know where to help you","body":"I would love to help you, but I can only help you if there is a question to answer. Please make sure to ask a question whenever you make a post so others can know where to help you"},{"owner":{"account_id":26359540,"reputation":11,"user_id":20015976,"display_name":"Coocoociki"},"score":0,"creation_date":1663368878,"post_id":73750892,"comment_id":130231414,"body_markdown":"A part of code with arr[0].entrySet() won&#39;t work while another part with pupils.entrySet() work well!","body":"A part of code with arr[0].entrySet() won&#39;t work while another part with pupils.entrySet() work well!"},{"owner":{"account_id":14148561,"reputation":150,"user_id":13052285,"display_name":"James Wagstaff"},"score":0,"creation_date":1663371760,"post_id":73750892,"comment_id":130231799,"body_markdown":"Map&lt;String, Integer&gt;[]arr = new Map[2]; this should fix the problem, Java is a strongly typed language, try to use types when you know what they are.","body":"Map&lt;String, Integer&gt;[]arr = new Map[2]; this should fix the problem, Java is a strongly typed language, try to use types when you know what they are."}],"owner":{"account_id":26359540,"reputation":11,"user_id":20015976,"display_name":"Coocoociki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664873121,"creation_date":1663368210,"question_id":73750892,"body_markdown":"How come arr[0] which contains variable `pupils` won&#39;t work with entrySet()?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\nMap&lt;String, Integer&gt; pupils = new HashMap&lt;&gt;();\r\nMap&lt;String, Integer&gt; teachers = new HashMap&lt;&gt;();\r\n\r\npupils.put(&quot;Alex&quot;, 12);\r\npupils.put(&quot;Joe&quot;, 11);\r\nteachers.put(&quot;Helen&quot;, 28);\r\nteachers.put(&quot;Michael&quot;, 29);\r\n\r\nMap[] arr = new Map[2];\r\n\r\narr[0] = pupils;\r\narr[1] = teachers;\r\n\r\n//why this code won&#39;t work?\r\nfor (Map.Entry&lt;?, ?&gt; me : arr[0].entrySet()){\r\nSystem.out.println(me.getKey() + &quot; - &quot; + me.getValue());}\r\n\r\n//while this code works well\r\nfor (Map.Entry&lt;?, ?&gt; me : pupils.entrySet()){ \r\nSystem.out.println(me.getKey() + &quot; - &quot; + me.getValue());}\r\n\r\n// and this returns (prints) true! \r\nSystem.out.println(pupils.entrySet() == arr[0].entrySet());\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/VDj0P.jpg\r\n","title":"Java Strange Object: variable VS arr[0] = variable","body":"<p>How come arr[0] which contains variable <code>pupils</code> won't work with entrySet()?</p>\n<p><a href=\"https://i.stack.imgur.com/VDj0P.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VDj0P.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>Map&lt;String, Integer&gt; pupils = new HashMap&lt;&gt;();\nMap&lt;String, Integer&gt; teachers = new HashMap&lt;&gt;();\n\npupils.put(&quot;Alex&quot;, 12);\npupils.put(&quot;Joe&quot;, 11);\nteachers.put(&quot;Helen&quot;, 28);\nteachers.put(&quot;Michael&quot;, 29);\n\nMap[] arr = new Map[2];\n\narr[0] = pupils;\narr[1] = teachers;\n\n//why this code won't work?\nfor (Map.Entry&lt;?, ?&gt; me : arr[0].entrySet()){\nSystem.out.println(me.getKey() + &quot; - &quot; + me.getValue());}\n\n//while this code works well\nfor (Map.Entry&lt;?, ?&gt; me : pupils.entrySet()){ \nSystem.out.println(me.getKey() + &quot; - &quot; + me.getValue());}\n\n// and this returns (prints) true! \nSystem.out.println(pupils.entrySet() == arr[0].entrySet());\n</code></pre>\n"},{"tags":["java","sql","intellij-idea","dialect"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":4,"creation_date":1664868418,"post_id":73944290,"comment_id":130562754,"body_markdown":"You should be using `PreparedStatement` for doing SQL queries with parameters instead of concatenating strings to create an SQL statement, otherwise your code will likely be vulnerable to [SQL injection](https://owasp.org/www-community/attacks/SQL_Injection).","body":"You should be using <code>PreparedStatement</code> for doing SQL queries with parameters instead of concatenating strings to create an SQL statement, otherwise your code will likely be vulnerable to <a href=\"https://owasp.org/www-community/attacks/SQL_Injection\" rel=\"nofollow noreferrer\">SQL injection</a>."},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1664873228,"post_id":73944290,"comment_id":130564226,"body_markdown":"It is a Java file, there is no reason IntelliJ should recognize SQL in it. `select`, `from` and `where` could as well be java variables.","body":"It is a Java file, there is no reason IntelliJ should recognize SQL in it. <code>select</code>, <code>from</code> and <code>where</code> could as well be java variables."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1664873994,"post_id":73944290,"comment_id":130564461,"body_markdown":"@Bentaye IntelliJ has many features that go beyond just parsing Java code. Normally it recognises SQL in strings and also syntax-highlights it. In this case it probably doesn&#39;t work because the SQL is not in a single string literal, but because Takhir is creating it by concatenating parts.","body":"@Bentaye IntelliJ has many features that go beyond just parsing Java code. Normally it recognises SQL in strings and also syntax-highlights it. In this case it probably doesn&#39;t work because the SQL is not in a single string literal, but because Takhir is creating it by concatenating parts."}],"answers":[{"tags":[],"owner":{"account_id":23720736,"reputation":36,"user_id":17741327,"display_name":"Bloody160"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664872995,"creation_date":1664872995,"answer_id":73945211,"question_id":73944290,"body_markdown":"I agree with Jesper, you should try using preparedStatements, not only would your Statements get more secure, also the problem which you are currently having should be solved by it.","title":"IntelliJ IDEA not recognizing SQL dialect","body":"<p>I agree with Jesper, you should try using preparedStatements, not only would your Statements get more secure, also the problem which you are currently having should be solved by it.</p>\n"}],"owner":{"account_id":6148598,"reputation":159,"user_id":4793760,"display_name":"Takhir Atamuratov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664872995,"creation_date":1664867834,"question_id":73944290,"body_markdown":"We use IntelliJ IDEA actively and we have our wrappers for work with DB (PostgreSQL). The thing is that when we use placeholders, SQL is stopped being highlighted.\r\n\r\n&quot;select * from &quot; + schema + &quot;.users where id = &quot; + id + &quot;;&quot;;\r\n\r\nThis code is not recognised as SQL, so highlighting doesn&#39;t work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9cS2Y.png","title":"IntelliJ IDEA not recognizing SQL dialect","body":"<p>We use IntelliJ IDEA actively and we have our wrappers for work with DB (PostgreSQL). The thing is that when we use placeholders, SQL is stopped being highlighted.</p>\n<p>&quot;select * from &quot; + schema + &quot;.users where id = &quot; + id + &quot;;&quot;;</p>\n<p>This code is not recognised as SQL, so highlighting doesn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/9cS2Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9cS2Y.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1664873409,"post_id":73945076,"comment_id":130564271,"body_markdown":"If you want to test that `System.out.println` is called, and inspects its contents, you can use https://junit-pioneer.org/docs/standard-input-output/","body":"If you want to test that <code>System.out.println</code> is called, and inspects its contents, you can use <a href=\"https://junit-pioneer.org/docs/standard-input-output/\" rel=\"nofollow noreferrer\">junit-pioneer.org/docs/standard-input-output</a>"}],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1664872895,"creation_date":1664872895,"answer_id":73945192,"question_id":73945076,"body_markdown":"Using JUnit5:\r\n\r\nI would start by checking that ```objectMapper.readValue``` doesn&#39;t throw any exception:\r\n```Java\r\nassertDoesNotThrow(() -&gt; objectMapper.readValue(line, LeadTimeDTO.class));\r\n```\r\nThen, check mapped object is not null:\r\n```Java\r\nassertThat(leadTimeDTO).isNotNul();\r\n```\r\n\r\nAfter that, you can check the fields are being populated correctly by using\r\n```Java\r\nassertThat(leadTimeDTO.getName()).isEqualTo(&quot;Some name&quot;);\r\n```","title":"Unit testing object mapper method","body":"<p>Using JUnit5:</p>\n<p>I would start by checking that <code>objectMapper.readValue</code> doesn't throw any exception:</p>\n<pre><code>assertDoesNotThrow(() -&gt; objectMapper.readValue(line, LeadTimeDTO.class));\n</code></pre>\n<p>Then, check mapped object is not null:</p>\n<pre><code>assertThat(leadTimeDTO).isNotNul();\n</code></pre>\n<p>After that, you can check the fields are being populated correctly by using</p>\n<pre><code>assertThat(leadTimeDTO.getName()).isEqualTo(&quot;Some name&quot;);\n</code></pre>\n"}],"owner":{"account_id":23269246,"reputation":81,"user_id":17354320,"display_name":"Jsef bch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73945192,"answer_count":1,"score":0,"last_activity_date":1664872895,"creation_date":1664872239,"question_id":73945076,"body_markdown":"I was told that I should unit test this method but I&#39;m not sure how? How would I unit test a method that only maps a JSON string to a DTO. The String line I will get from a Kafka topic through a Kafkalistener.\r\n\r\n        public void Mapper(String line) {\r\n\r\n        try {\r\n            LeadTimeDTO leadTimeDTO = objectMapper.readValue(line, LeadTimeDTO.class);\r\n            \r\n            System.out.println(&quot;leadTimeDTO:&quot; + leadTimeDTO);\r\n        } catch (JsonProcessingException e) {\r\n            throw new IllegalArgumentException(&quot;Error parsing to DTO&quot;);\r\n\r\n        }\r\n\r\n    }","title":"Unit testing object mapper method","body":"<p>I was told that I should unit test this method but I'm not sure how? How would I unit test a method that only maps a JSON string to a DTO. The String line I will get from a Kafka topic through a Kafkalistener.</p>\n<pre><code>    public void Mapper(String line) {\n\n    try {\n        LeadTimeDTO leadTimeDTO = objectMapper.readValue(line, LeadTimeDTO.class);\n        \n        System.out.println(&quot;leadTimeDTO:&quot; + leadTimeDTO);\n    } catch (JsonProcessingException e) {\n        throw new IllegalArgumentException(&quot;Error parsing to DTO&quot;);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","logback","slf4j","logback-classic"],"comments":[{"owner":{"account_id":4905682,"reputation":839,"user_id":3952494,"display_name":"Klapsa2503"},"score":0,"creation_date":1664915907,"post_id":73731900,"comment_id":130578229,"body_markdown":"Do you always get the same number of nulls in between the logs? Also diagnose a bit more. Remove `&lt;logger&gt;` leave only `&lt;root&gt;` with level `INFO` and only one appender in and let me know about the results in different scenarios","body":"Do you always get the same number of nulls in between the logs? Also diagnose a bit more. Remove <code>&lt;logger&gt;</code> leave only <code>&lt;root&gt;</code> with level <code>INFO</code> and only one appender in and let me know about the results in different scenarios"},{"owner":{"account_id":11419336,"reputation":411,"user_id":8371320,"display_name":"Deepak Singh"},"score":0,"creation_date":1665026013,"post_id":73731900,"comment_id":130604138,"body_markdown":"Thank you. Okay, I will check and get back on this.","body":"Thank you. Okay, I will check and get back on this."}],"owner":{"account_id":11419336,"reputation":411,"user_id":8371320,"display_name":"Deepak Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664872882,"creation_date":1663247997,"question_id":73731900,"body_markdown":"I have added a Filter class which extends OncePerRequestFilter and whenever API&#39;s get called along with normal log statements I see **null** statements.\r\n\r\nSharing **logback.xml** configuration and Request Filter code is straight forward which logs collect some informations and log the statements.\r\n\r\nWhy this happens any help will be appreciated.\r\n\r\n\r\n    {&quot;@timestamp&quot;:&quot;2022-09-15T18:21:19.295+05:30&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Started Application in 20.694 seconds (JVM running for 21.915)&quot;,&quot;logger_name&quot;:&quot;logger-name&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;level_value&quot;:20000,&quot;app&quot;:&quot;app-name&quot;}\r\n    null\r\n    null\r\n    null\r\n    null\r\n    null\r\n    null\r\n    null\r\n    null\r\n    null\r\n    null\r\n    null\r\n    {&quot;@timestamp&quot;:&quot;2022-09-15T18:21:31.655+05:30&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Received request from app swagger-ui&quot;,&quot;logger_name&quot;:&quot;logger_name&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;level_value&quot;:20000,&quot;clientIp&quot;:&quot;0:0:0:0:0:0:0:1&quot;,&quot;serviceName&quot;:&quot;client-name&quot;,&quot;transactionId&quot;:&quot;CBC76C0E4A8B4C4798599AEC3C91DD3B&quot;,&quot;app&quot;:&quot;app-name&quot;}\r\n\r\n**Logback xml file**\r\n\r\n    &lt;configuration&gt;\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n            &lt;customFields&gt;{&quot;app&quot;:&quot;app-name&quot;}&lt;/customFields&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;appLogAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n            &lt;providers&gt;\r\n                &lt;timestamp/&gt;\r\n                &lt;threadName/&gt;\r\n                &lt;provider class=&quot;net.logstash.logback.composite.loggingevent.ArgumentsJsonProvider&quot;/&gt;\r\n            &lt;/providers&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;logger name=&quot;console-logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;logger name=&quot;applicationLog&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;appLogAppender&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;root level=&quot;ERROR&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;appLogAppender&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;","title":"Why I see &quot;null&quot; statements in between logs (With Filter class extended from OncePerRequestFilter)","body":"<p>I have added a Filter class which extends OncePerRequestFilter and whenever API's get called along with normal log statements I see <strong>null</strong> statements.</p>\n<p>Sharing <strong>logback.xml</strong> configuration and Request Filter code is straight forward which logs collect some informations and log the statements.</p>\n<p>Why this happens any help will be appreciated.</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2022-09-15T18:21:19.295+05:30&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Started Application in 20.694 seconds (JVM running for 21.915)&quot;,&quot;logger_name&quot;:&quot;logger-name&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;level_value&quot;:20000,&quot;app&quot;:&quot;app-name&quot;}\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\n{&quot;@timestamp&quot;:&quot;2022-09-15T18:21:31.655+05:30&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Received request from app swagger-ui&quot;,&quot;logger_name&quot;:&quot;logger_name&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;level_value&quot;:20000,&quot;clientIp&quot;:&quot;0:0:0:0:0:0:0:1&quot;,&quot;serviceName&quot;:&quot;client-name&quot;,&quot;transactionId&quot;:&quot;CBC76C0E4A8B4C4798599AEC3C91DD3B&quot;,&quot;app&quot;:&quot;app-name&quot;}\n</code></pre>\n<p><strong>Logback xml file</strong></p>\n<pre><code>&lt;configuration&gt;\n\n&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n        &lt;customFields&gt;{&quot;app&quot;:&quot;app-name&quot;}&lt;/customFields&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;appLogAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n        &lt;providers&gt;\n            &lt;timestamp/&gt;\n            &lt;threadName/&gt;\n            &lt;provider class=&quot;net.logstash.logback.composite.loggingevent.ArgumentsJsonProvider&quot;/&gt;\n        &lt;/providers&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;logger name=&quot;console-logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n&lt;/logger&gt;\n\n&lt;logger name=&quot;applicationLog&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;appLogAppender&quot;/&gt;\n&lt;/logger&gt;\n\n&lt;root level=&quot;ERROR&quot;&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;appender-ref ref=&quot;appLogAppender&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n\n"},{"tags":["java","jar","executable-jar"],"comments":[{"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"score":2,"creation_date":1230391062,"post_id":394616,"comment_id":37989905,"body_markdown":"Follow the steps described here : [Executing a Jar on Vista with a double click](http://stackoverflow.com/questions/354664/executing-a-jar-on-vista-with-a-double-click)","body":"Follow the steps described here : <a href=\"http://stackoverflow.com/questions/354664/executing-a-jar-on-vista-with-a-double-click\">Executing a Jar on Vista with a double click</a>"}],"answers":[{"tags":[],"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1230348361,"creation_date":1230348361,"answer_id":394620,"question_id":394616,"body_markdown":"You want to check a couple of things; if this is your own jar file, make sure you have defined a Main-class in the manifest.  Since we know you can run it from the command line, the other thing to do is create a windows shortcut, and modify the properties (you&#39;ll have to look around, I don&#39;t have a Windows machine to look at) so that the command it executes on open is the java -jar command you mentioned.  \r\n\r\nThe other thing: if something isn&#39;t confused, it should work anyway; check and make sure you have java associated with the .jar extension.","title":"Running JAR file on Windows","body":"<p>You want to check a couple of things; if this is your own jar file, make sure you have defined a Main-class in the manifest.  Since we know you can run it from the command line, the other thing to do is create a windows shortcut, and modify the properties (you'll have to look around, I don't have a Windows machine to look at) so that the command it executes on open is the java -jar command you mentioned.  </p>\n\n<p>The other thing: if something isn't confused, it should work anyway; check and make sure you have java associated with the .jar extension.</p>\n"},{"tags":[],"owner":{"account_id":5199,"reputation":5564,"user_id":8252,"accept_rate":80,"display_name":"Brian Kelly"},"down_vote_count":4,"up_vote_count":154,"is_accepted":true,"score":150,"last_activity_date":1310420197,"creation_date":1230348829,"answer_id":394628,"question_id":394616,"body_markdown":"Easiest route is probably upgrading or re-installing the Java Runtime Environment (JRE).\r\n\r\nOr this:\r\n\r\n* Open the Windows Explorer, from the Tools select &#39;Folder Options...&#39;\r\n* Click the File Types tab, scroll down and select JAR File type.\r\n* Press the Advanced button.\r\n* In the Edit File Type dialog box, select open in Actions box and click Edit...\r\n* Press the Browse button and navigate to the location the Java interpreter javaw.exe.\r\n* In the Application used to perform action field, needs to display something similar to `C:\\Program Files\\Java\\j2re1.4.2_04\\bin\\javaw.exe&quot; -jar &quot;%1&quot; %` (Note: the part starting with &#39;javaw&#39; must be exactly like that; the other part of the path name can vary depending on which version of Java you&#39;re using) then press the OK buttons until all the dialogs are closed.\r\n\r\nWhich was stolen from here: [http://windowstipoftheday.blogspot.com/2005/10/setting-jar-file-association.html][1]\r\n\r\n  [1]: http://windowstipoftheday.blogspot.com/2005/10/setting-jar-file-association.html","title":"Running JAR file on Windows","body":"<p>Easiest route is probably upgrading or re-installing the Java Runtime Environment (JRE).</p>\n\n<p>Or this:</p>\n\n<ul>\n<li>Open the Windows Explorer, from the Tools select 'Folder Options...'</li>\n<li>Click the File Types tab, scroll down and select JAR File type.</li>\n<li>Press the Advanced button.</li>\n<li>In the Edit File Type dialog box, select open in Actions box and click Edit...</li>\n<li>Press the Browse button and navigate to the location the Java interpreter javaw.exe.</li>\n<li>In the Application used to perform action field, needs to display something similar to <code>C:\\Program Files\\Java\\j2re1.4.2_04\\bin\\javaw.exe\" -jar \"%1\" %</code> (Note: the part starting with 'javaw' must be exactly like that; the other part of the path name can vary depending on which version of Java you're using) then press the OK buttons until all the dialogs are closed.</li>\n</ul>\n\n<p>Which was stolen from here: <a href=\"http://windowstipoftheday.blogspot.com/2005/10/setting-jar-file-association.html\" rel=\"noreferrer\">http://windowstipoftheday.blogspot.com/2005/10/setting-jar-file-association.html</a></p>\n"},{"tags":[],"owner":{"display_name":"Stephen Gilbert"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1230414986,"creation_date":1230414986,"answer_id":395470,"question_id":394616,"body_markdown":"Besides all of the other suggestions, there is one other thing you need to consider. Is your helloworld.jar a console program? If it is, then I don&#39;t believe you&#39;ll be able to make it into a double-clickable jar file. Console programs use the regular cmd.exe shell window for their input and output. Usually the jar &quot;launcher&quot; is bound to javaw.exe which doesn&#39;t create a command-shell window.","title":"Running JAR file on Windows","body":"<p>Besides all of the other suggestions, there is one other thing you need to consider. Is your helloworld.jar a console program? If it is, then I don't believe you'll be able to make it into a double-clickable jar file. Console programs use the regular cmd.exe shell window for their input and output. Usually the jar \"launcher\" is bound to javaw.exe which doesn't create a command-shell window.</p>\n"},{"tags":[],"owner":{"account_id":880408,"reputation":898,"user_id":177055,"display_name":"Bob"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1553572439,"creation_date":1253614368,"answer_id":1459206,"question_id":394616,"body_markdown":"An interesting side effect of this causes a problem when starting runnable jar files in the command prompt.\r\n\r\nIf you try (in a command prompt):\r\n\r\n    jarfile.jar parameter\r\n\r\nNo joy, because this is being translated to the following (which doesn&#39;t work):\r\n\r\n    javaw.exe -jar jarfile.jar parameter\r\n\r\nHowever, the following command does work:\r\n\r\n    java.exe -jar jarfile.jar parameter\r\n\r\nIf you change the association in file manager as described above to:\r\n\r\n    &quot;C:\\Program Files\\Java\\j2re1.4.2_04\\bin\\java.exe&quot; -jar &quot;%1&quot; %*\r\n\r\nThen you can type:\r\n\r\n    jarfile.jar parameter\r\n\r\nin the command prompt and it will now work! \r\n\r\nEDIT:(However you then get a black console window when you run a form based (non console) Java app, so this is not an ideal solution)\r\n\r\nIf you run these jar files by double clicking them in windows, no parameters will be passed so your Java code needs to handle the stack overflow exception and include a &quot;press a key&quot; function at the end or the window will just disappear.\r\n\r\nIn order to pass a parameter in windows you have to create a shortcut to the jar file, which includes the parameter in the target line (right click on the shortcut and select properties) you can not add parameters to the jar file icon itself in this way.\r\n\r\nThere isn&#39;t a single, consistent solution here, but you would have the same problem with any other console application. \r\n\r\nThere is a windows freeware application called &quot;bat to exe&quot; which you can use to create an exe file from a .bat file with the apropriate command line in it. you can also embed the jar file in the exe with this application, and make it clean it up when it has finished running, so this may be a more elegant solution.","title":"Running JAR file on Windows","body":"<p>An interesting side effect of this causes a problem when starting runnable jar files in the command prompt.</p>\n\n<p>If you try (in a command prompt):</p>\n\n<pre><code>jarfile.jar parameter\n</code></pre>\n\n<p>No joy, because this is being translated to the following (which doesn't work):</p>\n\n<pre><code>javaw.exe -jar jarfile.jar parameter\n</code></pre>\n\n<p>However, the following command does work:</p>\n\n<pre><code>java.exe -jar jarfile.jar parameter\n</code></pre>\n\n<p>If you change the association in file manager as described above to:</p>\n\n<pre><code>\"C:\\Program Files\\Java\\j2re1.4.2_04\\bin\\java.exe\" -jar \"%1\" %*\n</code></pre>\n\n<p>Then you can type:</p>\n\n<pre><code>jarfile.jar parameter\n</code></pre>\n\n<p>in the command prompt and it will now work! </p>\n\n<p>EDIT:(However you then get a black console window when you run a form based (non console) Java app, so this is not an ideal solution)</p>\n\n<p>If you run these jar files by double clicking them in windows, no parameters will be passed so your Java code needs to handle the stack overflow exception and include a \"press a key\" function at the end or the window will just disappear.</p>\n\n<p>In order to pass a parameter in windows you have to create a shortcut to the jar file, which includes the parameter in the target line (right click on the shortcut and select properties) you can not add parameters to the jar file icon itself in this way.</p>\n\n<p>There isn't a single, consistent solution here, but you would have the same problem with any other console application. </p>\n\n<p>There is a windows freeware application called \"bat to exe\" which you can use to create an exe file from a .bat file with the apropriate command line in it. you can also embed the jar file in the exe with this application, and make it clean it up when it has finished running, so this may be a more elegant solution.</p>\n"},{"tags":[],"owner":{"account_id":42068,"reputation":20631,"user_id":122441,"accept_rate":70,"display_name":"Hendy Irawan"},"down_vote_count":2,"up_vote_count":87,"is_accepted":false,"score":85,"last_activity_date":1343384744,"creation_date":1262884482,"answer_id":2022161,"question_id":394616,"body_markdown":"In Windows Vista or Windows 7, the [manual file association editor][1] has been removed.\r\n\r\nThe easiest way is to run [Jarfix][2], a tiny but powerful freeware tool. Just run it and your Java apps is back... double-clickable again.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/394616/running-jar-file-in-windows/394628#394628\r\n  [2]: http://johann.loefflmann.net/en/software/jarfix/index.html","title":"Running JAR file on Windows","body":"<p>In Windows Vista or Windows 7, the <a href=\"https://stackoverflow.com/questions/394616/running-jar-file-in-windows/394628#394628\">manual file association editor</a> has been removed.</p>\n\n<p>The easiest way is to run <a href=\"http://johann.loefflmann.net/en/software/jarfix/index.html\" rel=\"noreferrer\">Jarfix</a>, a tiny but powerful freeware tool. Just run it and your Java apps is back... double-clickable again.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1262886461,"creation_date":1262886461,"answer_id":2022372,"question_id":394616,"body_markdown":"In Windows XP &lt;sup&gt;*&lt;/sup&gt; you need just 2 *shell* commands:\r\n\r\n       C:\\&gt;ftype myjarfile=&quot;C:\\JRE1.6\\bin\\javaw.exe&quot; -jar &quot;%1&quot; %* \r\n       C:\\&gt;assoc .jar=myjarfile  \r\n\r\nobviously using the correct path for the JRE and any name you want instead of `myjarfile`.\r\n\r\nTo just check the current settings:\r\n\r\n       C:\\&gt;assoc .jar  \r\n       C:\\&gt;ftype jarfile  \r\n\r\nthis time using the value returned by the first command, if any, instead of `jarfile`.\r\n\r\n&lt;sup&gt;*&lt;/sup&gt; *not tested with Windows 7*","title":"Running JAR file on Windows","body":"<p>In Windows XP <sup>*</sup> you need just 2 <em>shell</em> commands:</p>\n\n<pre><code>   C:\\&gt;ftype myjarfile=\"C:\\JRE1.6\\bin\\javaw.exe\" -jar \"%1\" %* \n   C:\\&gt;assoc .jar=myjarfile  \n</code></pre>\n\n<p>obviously using the correct path for the JRE and any name you want instead of <code>myjarfile</code>.</p>\n\n<p>To just check the current settings:</p>\n\n<pre><code>   C:\\&gt;assoc .jar  \n   C:\\&gt;ftype jarfile  \n</code></pre>\n\n<p>this time using the value returned by the first command, if any, instead of <code>jarfile</code>.</p>\n\n<p><sup>*</sup> <em>not tested with Windows 7</em></p>\n"},{"tags":[],"owner":{"account_id":617570,"reputation":367,"user_id":346795,"display_name":"Pusu"},"down_vote_count":2,"up_vote_count":37,"is_accepted":false,"score":35,"last_activity_date":1454082367,"creation_date":1274421387,"answer_id":2879843,"question_id":394616,"body_markdown":"If you have a jar file called Example.jar, follow these rules:\r\n\r\n 1. Open a `notepad.exe`\r\n 2. Write : `java -jar Example.jar`\r\n 3. Save it with the extension `.bat`\r\n 4. Copy it to the directory which has the `.jar` file\r\n 5. Double click it to run your `.jar` file","title":"Running JAR file on Windows","body":"<p>If you have a jar file called Example.jar, follow these rules:</p>\n\n<ol>\n<li>Open a <code>notepad.exe</code></li>\n<li>Write : <code>java -jar Example.jar</code></li>\n<li>Save it with the extension <code>.bat</code></li>\n<li>Copy it to the directory which has the <code>.jar</code> file</li>\n<li>Double click it to run your <code>.jar</code> file</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":920877,"reputation":877,"user_id":952609,"display_name":"Demorf"},"down_vote_count":2,"up_vote_count":78,"is_accepted":false,"score":76,"last_activity_date":1488578254,"creation_date":1316434114,"answer_id":7470683,"question_id":394616,"body_markdown":"If you need to distribute your .jar file and make it runnable at other people&#39;s Windows computers,\r\nyou can make a simple .bat file like this in the command prompt:\r\n\r\n    java -jar MyJavaTool.jar\r\n\r\nand place the .bat file in the same directory as your .jar file.","title":"Running JAR file on Windows","body":"<p>If you need to distribute your .jar file and make it runnable at other people's Windows computers,\nyou can make a simple .bat file like this in the command prompt:</p>\n\n<pre><code>java -jar MyJavaTool.jar\n</code></pre>\n\n<p>and place the .bat file in the same directory as your .jar file.</p>\n"},{"tags":[],"owner":{"account_id":442078,"reputation":76,"user_id":832521,"display_name":"lawid"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1326837835,"creation_date":1326837835,"answer_id":8902372,"question_id":394616,"body_markdown":"I&#180;m running Windows 7 x64 and was unable to use any of these fixes.\r\n\r\nThis one worked for me afterall:\r\n\r\n[http://thepanz.netsons.org/post/windows7-jar-file-association-broken-with-nokia-ovi][1]\r\n\r\n\r\n  [1]: http://thepanz.netsons.org/post/windows7-jar-file-association-broken-with-nokia-ovi\r\n\r\nThere is an archive which you can download containing a .bat file to run, but check the path of the actual javaw.exe!!!!","title":"Running JAR file on Windows","body":"<p>I´m running Windows 7 x64 and was unable to use any of these fixes.</p>\n\n<p>This one worked for me afterall:</p>\n\n<p><a href=\"http://thepanz.netsons.org/post/windows7-jar-file-association-broken-with-nokia-ovi\">http://thepanz.netsons.org/post/windows7-jar-file-association-broken-with-nokia-ovi</a></p>\n\n<p>There is an archive which you can download containing a .bat file to run, but check the path of the actual javaw.exe!!!!</p>\n"},{"tags":[],"owner":{"account_id":2000883,"reputation":117,"user_id":1791970,"display_name":"suraj"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1351788882,"creation_date":1351787599,"answer_id":13181501,"question_id":394616,"body_markdown":"First set path on cmd(command prompt):\r\n\r\n    set path=&quot;C:\\Program Files\\Java\\jre6\\bin&quot;\r\n\r\nthen type\r\n\r\n    java -jar yourProgramname.jar \r\n","title":"Running JAR file on Windows","body":"<p>First set path on cmd(command prompt):</p>\n\n<pre><code>set path=\"C:\\Program Files\\Java\\jre6\\bin\"\n</code></pre>\n\n<p>then type</p>\n\n<pre><code>java -jar yourProgramname.jar \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2675678"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376349455,"creation_date":1376349455,"answer_id":18198189,"question_id":394616,"body_markdown":"If you use eclipse for making your java files, you can choose to export it as a runnable jar file. I did this with my programs and I can just click on the jar and it will run just like that. This will work on both windows, as well as os x.","title":"Running JAR file on Windows","body":"<p>If you use eclipse for making your java files, you can choose to export it as a runnable jar file. I did this with my programs and I can just click on the jar and it will run just like that. This will work on both windows, as well as os x.</p>\n"},{"tags":[],"owner":{"account_id":1297652,"reputation":805,"user_id":1248294,"accept_rate":100,"display_name":"dario111cro"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1377611942,"creation_date":1377611942,"answer_id":18467548,"question_id":394616,"body_markdown":"There is way without requiring user to do changes on his PC. Runtime.getRuntime.exec() allows us to start cmd.exe and execute commands inside of it. So, it&#39;s possible for java program to run itself in command prompt when user clicks .jar file.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\t\tif(args.length == 0) {\r\n\t\t\tProcess p = Runtime.getRuntime().exec(&quot;cmd.exe /c start java -jar &quot; + (new File(NameOfClass.class.getProtectionDomain().getCodeSource().getLocation().getPath())).getAbsolutePath() + &quot; cmd&quot;);\r\n\t\t} else {\r\n\t\t\t//code to be executed\r\n\t\t}\r\n\t}","title":"Running JAR file on Windows","body":"<p>There is way without requiring user to do changes on his PC. Runtime.getRuntime.exec() allows us to start cmd.exe and execute commands inside of it. So, it's possible for java program to run itself in command prompt when user clicks .jar file.</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    if(args.length == 0) {\n        Process p = Runtime.getRuntime().exec(\"cmd.exe /c start java -jar \" + (new File(NameOfClass.class.getProtectionDomain().getCodeSource().getLocation().getPath())).getAbsolutePath() + \" cmd\");\n    } else {\n        //code to be executed\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2737536,"reputation":3891,"user_id":2359883,"display_name":"grwww"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1493129610,"creation_date":1382713025,"answer_id":19593238,"question_id":394616,"body_markdown":"In regedit, open `HKEY_CLASSES_ROOT\\Applications\\java.exe\\shell\\open\\command`\r\n\r\nDouble click on default on the left and add -jar between the `java.exe` path and the &quot;`%1`&quot; argument.","title":"Running JAR file on Windows","body":"<p>In regedit, open <code>HKEY_CLASSES_ROOT\\Applications\\java.exe\\shell\\open\\command</code></p>\n\n<p>Double click on default on the left and add -jar between the <code>java.exe</code> path and the \"<code>%1</code>\" argument.</p>\n"},{"tags":[],"owner":{"account_id":5192587,"reputation":1,"user_id":4155065,"display_name":"freeloaderzful"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413576668,"creation_date":1413576668,"answer_id":26432758,"question_id":394616,"body_markdown":"Making a start.bat was the only thing that worked for me.\r\n\r\nopen a text document and enter. java -jar ***whatever yours is called*** .jar\r\n\r\nsave as start.bat in the same folder as the .jar file you want to execute.  and then run the. bat","title":"Running JAR file on Windows","body":"<p>Making a start.bat was the only thing that worked for me.</p>\n\n<p>open a text document and enter. java -jar <strong><em>whatever yours is called</em></strong> .jar</p>\n\n<p>save as start.bat in the same folder as the .jar file you want to execute.  and then run the. bat</p>\n"},{"tags":[],"owner":{"account_id":469736,"reputation":19073,"user_id":876497,"accept_rate":64,"display_name":"DejanLekic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415371643,"creation_date":1415370752,"answer_id":26803522,"question_id":394616,"body_markdown":"Unfortunatelly, it is not so easy as Microsoft has removed advanced file association dialog in recent Windows editions. - With newer Windows versions you may only specify the application that is going to be used to open .jar file.\r\n\r\nFixing .jar file opening on Windows requires two steps.\r\n\r\n 1. Open the Control Panel, and chose &quot;Default Programs -&gt; Set Associations&quot;. Find .jar extension (*Executable JAR file*) there, and pick Java as default program to open this extension. It will probably be listed as &quot;*Java Platform(SE)*&quot;. A faster alternative perhaps is straightforward right-click on a .jar file, and then change associated program by clicking on the &quot;Change...&quot; button.\r\n\r\n 2. Now open the regedit, and open the `HKEY_CLASSES_ROOT\\jarfile\\shell\\open\\command` key. Luckilly for us, we may specify parameters there for the `(Default)` value. On my Windows system it looks like: `C:\\app\\32\\jre7\\bin\\javaw.exe&quot; -jar &quot;%1&quot; %*` but in most cases it is the following string: `C:\\Program Files\\Java\\jre7\\bin\\javaw.exe&quot; -jar &quot;%1&quot; %*`\r\n\r\nNOTES: \r\n\r\n - Do not use `java.exe` there as it will open the shell window.\r\n - The *jarfix* tool mentioned in this thread most likely does nothing more than the registry modification for you. I prefer manual registry change method, as that implies that system administrator can &quot;push&quot; the registry change to all workstations in the network.","title":"Running JAR file on Windows","body":"<p>Unfortunatelly, it is not so easy as Microsoft has removed advanced file association dialog in recent Windows editions. - With newer Windows versions you may only specify the application that is going to be used to open .jar file.</p>\n\n<p>Fixing .jar file opening on Windows requires two steps.</p>\n\n<ol>\n<li><p>Open the Control Panel, and chose \"Default Programs -> Set Associations\". Find .jar extension (<em>Executable JAR file</em>) there, and pick Java as default program to open this extension. It will probably be listed as \"<em>Java Platform(SE)</em>\". A faster alternative perhaps is straightforward right-click on a .jar file, and then change associated program by clicking on the \"Change...\" button.</p></li>\n<li><p>Now open the regedit, and open the <code>HKEY_CLASSES_ROOT\\jarfile\\shell\\open\\command</code> key. Luckilly for us, we may specify parameters there for the <code>(Default)</code> value. On my Windows system it looks like: <code>C:\\app\\32\\jre7\\bin\\javaw.exe\" -jar \"%1\" %*</code> but in most cases it is the following string: <code>C:\\Program Files\\Java\\jre7\\bin\\javaw.exe\" -jar \"%1\" %*</code></p></li>\n</ol>\n\n<p>NOTES: </p>\n\n<ul>\n<li>Do not use <code>java.exe</code> there as it will open the shell window.</li>\n<li>The <em>jarfix</em> tool mentioned in this thread most likely does nothing more than the registry modification for you. I prefer manual registry change method, as that implies that system administrator can \"push\" the registry change to all workstations in the network.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5461674,"reputation":11,"user_id":4343596,"display_name":"user4343596"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493134221,"creation_date":1418168432,"answer_id":27390927,"question_id":394616,"body_markdown":" Another way to run jar files with a click/double-click, is to prepend &quot;-jar &quot; to the\r\nfile&#39;s name. For example, you would rename the file **`MyJar.jar`** to **`-jar MyJar.jar`**.\r\n\r\nYou must have the `.class` files associated with `java.exe`, of course. This might not work in all cases, but it has worked most times for me.","title":"Running JAR file on Windows","body":"<p>Another way to run jar files with a click/double-click, is to prepend \"-jar \" to the\nfile's name. For example, you would rename the file <strong><code>MyJar.jar</code></strong> to <strong><code>-jar MyJar.jar</code></strong>.</p>\n\n<p>You must have the <code>.class</code> files associated with <code>java.exe</code>, of course. This might not work in all cases, but it has worked most times for me.</p>\n"},{"tags":[],"owner":{"account_id":3177881,"reputation":1649,"user_id":2685304,"accept_rate":68,"display_name":"Nomesh DeSilva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431054407,"creation_date":1431054407,"answer_id":30115096,"question_id":394616,"body_markdown":"If you need to run the jar file by double clicking on it, you have to create it as a &quot;**Runnable JAR**&quot;. you can do it simply with your IDE.\r\n\r\nIf you&#39;re using eclipse, follow these steps :\r\n\r\n        To create a new runnable JAR file in the workbench:\r\n    \r\n    1.From the menu bar&#39;s File menu, select Export.\r\n    2.Expand the Java node and select Runnable JAR file. Click Next.\r\n    3.In the  Opens the Runnable JAR export wizard Runnable JAR File Specification page, select a &#39;Java Application&#39; launch configuration to use to create a runnable JAR.\r\n    4.In the Export destination field, either type or click Browse to select a location for the JAR file.\r\n    5.Select an appropriate library handling strategy.\r\n    Optionally, you can also create an ANT script to quickly regenerate a previously created runnable JAR file.\r\n\r\nmore information can be found on Eclipse help Page: [LINK][1]\r\n\r\n\r\n  [1]: http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftasks-37.htm","title":"Running JAR file on Windows","body":"<p>If you need to run the jar file by double clicking on it, you have to create it as a \"<strong>Runnable JAR</strong>\". you can do it simply with your IDE.</p>\n\n<p>If you're using eclipse, follow these steps :</p>\n\n<pre><code>    To create a new runnable JAR file in the workbench:\n\n1.From the menu bar's File menu, select Export.\n2.Expand the Java node and select Runnable JAR file. Click Next.\n3.In the  Opens the Runnable JAR export wizard Runnable JAR File Specification page, select a 'Java Application' launch configuration to use to create a runnable JAR.\n4.In the Export destination field, either type or click Browse to select a location for the JAR file.\n5.Select an appropriate library handling strategy.\nOptionally, you can also create an ANT script to quickly regenerate a previously created runnable JAR file.\n</code></pre>\n\n<p>more information can be found on Eclipse help Page: <a href=\"http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftasks-37.htm\" rel=\"nofollow\">LINK</a></p>\n"},{"tags":[],"owner":{"account_id":7068236,"reputation":409,"user_id":5410830,"display_name":"skaveesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483346804,"creation_date":1483346804,"answer_id":41423675,"question_id":394616,"body_markdown":"I had the same problem in Windows 10. I fixed it using **righ-click** on the &quot;**helloworld.jar**&quot; and go to **properties** and click on **change** button under &quot;Opens with:&quot; and select &quot;**Look for another app on this PC**&quot;. In the &quot;**Open with...**&quot; dialog box, go to your Java folder location on your PC and open corresponding jdk folder and then open the **bin** folder and select &quot;**javaw.exe**&quot; from there. Then next time your &quot;**helloworld.jar**&quot; will open the normal way.\r\n\r\nUsual java location example : &quot;**C:\\Program Files (x86)\\Java\\jdk1.8.0_111\\bin**&quot;.","title":"Running JAR file on Windows","body":"<p>I had the same problem in Windows 10. I fixed it using <strong>righ-click</strong> on the \"<strong>helloworld.jar</strong>\" and go to <strong>properties</strong> and click on <strong>change</strong> button under \"Opens with:\" and select \"<strong>Look for another app on this PC</strong>\". In the \"<strong>Open with...</strong>\" dialog box, go to your Java folder location on your PC and open corresponding jdk folder and then open the <strong>bin</strong> folder and select \"<strong>javaw.exe</strong>\" from there. Then next time your \"<strong>helloworld.jar</strong>\" will open the normal way.</p>\n\n<p>Usual java location example : \"<strong>C:\\Program Files (x86)\\Java\\jdk1.8.0_111\\bin</strong>\".</p>\n"},{"tags":[],"owner":{"account_id":12068596,"reputation":1,"user_id":9050285,"display_name":"irisrei08"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512391242,"creation_date":1512382967,"answer_id":47631159,"question_id":394616,"body_markdown":"There are many [methods][1] for running .jar file on windows. One of them is using the command prompt. \r\n\r\nSteps :\r\n\r\n1. Open command prompt(Run as administrator)\r\n2. Now write &quot;cd\\&quot; command for root directory\r\n3. Type &quot;java jar filename.jar&quot;\r\nNote: you can also use any third party apps like WinRAR, jarfix, etc.\r\n\r\n\r\n  [1]: http://www.internetgeeks.org/tech/computer/how-to-open-jar-files-windows/","title":"Running JAR file on Windows","body":"<p>There are many <a href=\"http://www.internetgeeks.org/tech/computer/how-to-open-jar-files-windows/\" rel=\"nofollow noreferrer\">methods</a> for running .jar file on windows. One of them is using the command prompt. </p>\n\n<p>Steps :</p>\n\n<ol>\n<li>Open command prompt(Run as administrator)</li>\n<li>Now write \"cd\\\" command for root directory</li>\n<li>Type \"java jar filename.jar\"\nNote: you can also use any third party apps like WinRAR, jarfix, etc.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10250039,"reputation":1867,"user_id":7564593,"display_name":"Bandham Manikanta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1604923889,"creation_date":1513190929,"answer_id":47800168,"question_id":394616,"body_markdown":"&gt; use `.bat` file:\r\n\r\nPut your command in a .bat file. here, your command will be `java -jar path\\yourJarName.jar`. \r\n`Something like: java -jar C:\\workspace\\myApplication.jar`\r\n\r\nSave it and double click on bat file to run your jar.","title":"Running JAR file on Windows","body":"<blockquote>\n<p>use <code>.bat</code> file:</p>\n</blockquote>\n<p>Put your command in a .bat file. here, your command will be <code>java -jar path\\yourJarName.jar</code>.\n<code>Something like: java -jar C:\\workspace\\myApplication.jar</code></p>\n<p>Save it and double click on bat file to run your jar.</p>\n"},{"tags":[],"owner":{"account_id":12706678,"reputation":429,"user_id":9231718,"display_name":"Manthan_Admane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537463321,"creation_date":1537382314,"answer_id":52412281,"question_id":394616,"body_markdown":"**PreScript**: If your prompt appears and disappears immediately, the reason it does so is that your program gets executed and auto shut. Try putting a scanner in the end to terminate and it&#39;ll keep your prompt waiting for input before terminating. (Or use delay maybe)\r\n\r\nWas in the very same situation, where running .jar from cmd was working fine, but double clicking did nothing.\r\n\r\nSolution:\r\nOpen any text editor and write the command line:\r\n java -jar Example.jar\r\nSave the file as a .bat file.\r\nRun this bat file to get the needed output.\r\n\r\nTaking it one step forward, you can convert this bat file to exe file using a simple GUI tool like Bat To Exe Converter.\r\n\r\nNow you can share your .jar as a distribution in .exe file which anyone can use just make sure you keep all the files together. (Especially the .jar and .bat file cause .bat is only a cmd prompt)(How it feels logical)\r\n\r\nI am fairly new to development and learning a lot. Please excuse for any mistakes if committed. Suggestions are welcome.","title":"Running JAR file on Windows","body":"<p><strong>PreScript</strong>: If your prompt appears and disappears immediately, the reason it does so is that your program gets executed and auto shut. Try putting a scanner in the end to terminate and it'll keep your prompt waiting for input before terminating. (Or use delay maybe)</p>\n\n<p>Was in the very same situation, where running .jar from cmd was working fine, but double clicking did nothing.</p>\n\n<p>Solution:\nOpen any text editor and write the command line:\n java -jar Example.jar\nSave the file as a .bat file.\nRun this bat file to get the needed output.</p>\n\n<p>Taking it one step forward, you can convert this bat file to exe file using a simple GUI tool like Bat To Exe Converter.</p>\n\n<p>Now you can share your .jar as a distribution in .exe file which anyone can use just make sure you keep all the files together. (Especially the .jar and .bat file cause .bat is only a cmd prompt)(How it feels logical)</p>\n\n<p>I am fairly new to development and learning a lot. Please excuse for any mistakes if committed. Suggestions are welcome.</p>\n"},{"tags":[],"owner":{"account_id":8317671,"reputation":4009,"user_id":6250402,"display_name":"hong4rc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542290444,"creation_date":1542290444,"answer_id":53321138,"question_id":394616,"body_markdown":"Create `.bat` file:\r\n\r\n    start javaw -jar %*\r\n\r\nAnd choose app default to open `.jar` with this `.bat` file.\r\n\r\nIt will close `cmd` when start your `.jar` file.\r\n","title":"Running JAR file on Windows","body":"<p>Create <code>.bat</code> file:</p>\n\n<pre><code>start javaw -jar %*\n</code></pre>\n\n<p>And choose app default to open <code>.jar</code> with this <code>.bat</code> file.</p>\n\n<p>It will close <code>cmd</code> when start your <code>.jar</code> file.</p>\n"},{"tags":[],"owner":{"account_id":14277658,"reputation":51,"user_id":10313224,"display_name":"anil kumar meena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557153238,"creation_date":1557138369,"answer_id":56003292,"question_id":394616,"body_markdown":"For compiling: \r\n\r\n    javac  -cp &quot;.;./mysql-connector-java-5.0.8.jar;mybatis-3.0.1.jar;ibatis-2.3.0.677.jar&quot; MainStart.java\r\n\r\nFor running: \r\n\r\n    java  -cp &quot;.;./mysql-connector-java-5.0.8.jar;mybatis-3.0.1.jar;ibatis-2.3.0.677.jar&quot; MainStart","title":"Running JAR file on Windows","body":"<p>For compiling: </p>\n\n<pre><code>javac  -cp \".;./mysql-connector-java-5.0.8.jar;mybatis-3.0.1.jar;ibatis-2.3.0.677.jar\" MainStart.java\n</code></pre>\n\n<p>For running: </p>\n\n<pre><code>java  -cp \".;./mysql-connector-java-5.0.8.jar;mybatis-3.0.1.jar;ibatis-2.3.0.677.jar\" MainStart\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14379342,"reputation":644,"user_id":10387008,"display_name":"Eboubaker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664872836,"creation_date":1559412305,"answer_id":56409204,"question_id":394616,"body_markdown":"Actually, I faced this problem too. I got around it by making a .bat runner for my jar file.\r\n\r\nHere is the code:\r\n\r\n    class FileHandler{\r\n\t   public static File create_CMD_Rnner(){\r\n\t      int exitCode = -1625348952;\r\n\t      try{\r\n\t           File runner = new File(Main.batName);\r\n\t           PrintWriter printer = new PrintWriter(runner);\r\n\t           printer.println(&quot;@echo off&quot;);\r\n\t           printer.println(&quot;title &quot; + Main.applicationTitle);\r\n\t           printer.println(&quot;java -jar &quot; + Main.jarName + &quot; &quot; + Main.startCode );\r\n\t           printer.println(&quot;PAUSE&quot;);\r\n\t           printer.flush();\r\n\t           printer.close();\r\n\t           return runner;\r\n\t       }catch(Exception e){\r\n\t           System.err.println(&quot;Coudln&#39;t create a runner bat \\n exit code: &quot; + exitCode);\r\n\t           System.exit(exitCode);\r\n\t           return null;\r\n\t       }\r\n\t   }\r\n\t}\r\n\r\nThen in Your Main application class do this:\r\n\r\n    public class Main{\r\n\t    static String jarName = &quot;application.jar&quot;;\r\n\t    static String applicationTitle = &quot;java Application&quot;;\r\n\t    static String startCode = &quot;javaIsTheBest&quot;;\r\n\t    static String batName = &quot;_.bat&quot;;\r\n\t\r\n\t\r\n\t    public static void main(String args[]) throws Exception{\r\n\t        if(args.length == 0 || !args[0].equals(startCode)) {\r\n\t            Desktop.getDesktop().open(FilesHandler.create_CMD_Rnner());\r\n\t            System.exit(0);\r\n\t        }else{\r\n\t            //just in case you wanted to hide the bat\r\n\t            deleteRunner();\r\n\t            // Congratulations now you are running in a cmd window ... do whatever you want\r\n\t            //......\r\n\t            System.out.println(&quot;i Am Running in CMD&quot;);\r\n\t            //......\r\n\t            Thread.sleep(84600);\r\n\t        }\r\n\t    }\r\n\t\r\n\t\r\n\t    public static void deleteRunner(){\r\n\t        File batRunner = new File(batName);\r\n\t        if(batRunner.exists()) batRunner.delete();\r\n\t    }\r\n\t}\r\n\r\n\r\n## Please Note that  ##\r\n&gt; 1. this code (my code) works only with a jar file, not a class file.\r\n&gt;\r\n&gt; 2. the jar file must have the same name as the String &quot;jarName&quot; is the Main class","title":"Running JAR file on Windows","body":"<p>Actually, I faced this problem too. I got around it by making a .bat runner for my jar file.</p>\n<p>Here is the code:</p>\n<pre><code>class FileHandler{\n   public static File create_CMD_Rnner(){\n      int exitCode = -1625348952;\n      try{\n           File runner = new File(Main.batName);\n           PrintWriter printer = new PrintWriter(runner);\n           printer.println(&quot;@echo off&quot;);\n           printer.println(&quot;title &quot; + Main.applicationTitle);\n           printer.println(&quot;java -jar &quot; + Main.jarName + &quot; &quot; + Main.startCode );\n           printer.println(&quot;PAUSE&quot;);\n           printer.flush();\n           printer.close();\n           return runner;\n       }catch(Exception e){\n           System.err.println(&quot;Coudln't create a runner bat \\n exit code: &quot; + exitCode);\n           System.exit(exitCode);\n           return null;\n       }\n   }\n}\n</code></pre>\n<p>Then in Your Main application class do this:</p>\n<pre><code>public class Main{\n    static String jarName = &quot;application.jar&quot;;\n    static String applicationTitle = &quot;java Application&quot;;\n    static String startCode = &quot;javaIsTheBest&quot;;\n    static String batName = &quot;_.bat&quot;;\n\n\n    public static void main(String args[]) throws Exception{\n        if(args.length == 0 || !args[0].equals(startCode)) {\n            Desktop.getDesktop().open(FilesHandler.create_CMD_Rnner());\n            System.exit(0);\n        }else{\n            //just in case you wanted to hide the bat\n            deleteRunner();\n            // Congratulations now you are running in a cmd window ... do whatever you want\n            //......\n            System.out.println(&quot;i Am Running in CMD&quot;);\n            //......\n            Thread.sleep(84600);\n        }\n    }\n\n\n    public static void deleteRunner(){\n        File batRunner = new File(batName);\n        if(batRunner.exists()) batRunner.delete();\n    }\n}\n</code></pre>\n<h2>Please Note that</h2>\n<blockquote>\n<ol>\n<li><p>this code (my code) works only with a jar file, not a class file.</p>\n</li>\n<li><p>the jar file must have the same name as the String &quot;jarName&quot; is the Main class</p>\n</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17215809,"reputation":31,"user_id":12463889,"display_name":"kak7"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620686687,"creation_date":1620686687,"answer_id":67478471,"question_id":394616,"body_markdown":"Got the same problem, on Windows 10\\\r\n**The solution:**\r\n1) Check your JAVA_HOME and JAVA_PATH.\\\r\n&lt;https://javatutorial.net/set-java-home-windows-10&gt;\r\n2) Use Jarfix to restore the assiciation between `.jar` and `javaw.exe`\\\r\n&lt;https://johann.loefflmann.net/en/software/jarfix/index.html&gt;","title":"Running JAR file on Windows","body":"<p>Got the same problem, on Windows 10<br />\n<strong>The solution:</strong></p>\n<ol>\n<li>Check your JAVA_HOME and JAVA_PATH.<br />\n<a href=\"https://javatutorial.net/set-java-home-windows-10\" rel=\"nofollow noreferrer\">https://javatutorial.net/set-java-home-windows-10</a></li>\n<li>Use Jarfix to restore the assiciation between <code>.jar</code> and <code>javaw.exe</code><br />\n<a href=\"https://johann.loefflmann.net/en/software/jarfix/index.html\" rel=\"nofollow noreferrer\">https://johann.loefflmann.net/en/software/jarfix/index.html</a></li>\n</ol>\n"}],"owner":{"account_id":18032,"reputation":16113,"user_id":40945,"accept_rate":78,"display_name":"DonX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1561660,"favorite_count":0,"down_vote_count":0,"up_vote_count":297,"accepted_answer_id":394628,"answer_count":25,"score":297,"last_activity_date":1664872836,"creation_date":1230347977,"question_id":394616,"body_markdown":"I have a JAR file named *helloworld.jar*.\r\nIn order to run it, I&#39;m executing the following command in a command-line window:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    java -jar helloworld.jar\r\n\r\nThis works fine, but how do I execute it with double-click instead?\r\nDo I need to install any software?","title":"Running JAR file on Windows","body":"<p>I have a JAR file named <em>helloworld.jar</em>.\nIn order to run it, I'm executing the following command in a command-line window:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java -jar helloworld.jar\n</code></pre>\n\n<p>This works fine, but how do I execute it with double-click instead?\nDo I need to install any software?</p>\n"},{"tags":["java","spring","spring-boot","design-patterns","microservices"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664871552,"post_id":73944205,"comment_id":130563736,"body_markdown":"That is the responsibility of the web (controller) layer to convert the internal domain to something that is useable in the frontend. Don&#39;t shoehorn your servics into that those shouldn&#39;t care, they only should care about the internal domain. Which shouldn&#39;t really differ between all those services, only the conversion logic to/from the specific view types/form types should differ.","body":"That is the responsibility of the web (controller) layer to convert the internal domain to something that is useable in the frontend. Don&#39;t shoehorn your servics into that those shouldn&#39;t care, they only should care about the internal domain. Which shouldn&#39;t really differ between all those services, only the conversion logic to/from the specific view types/form types should differ."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664872832,"creation_date":1664872448,"answer_id":73945105,"question_id":73944205,"body_markdown":"You don&#39;t need to do that. The HTTP API of the main service already served the purpose of the java interface for project a and project b. \r\n\r\nAnd this is the characterise of microservice . Each services are different processes which usually communicate with each other through HTTP API. The contract between a client and a service should be defined by the HTTP API but not a java interface. \r\n\r\nSo just tell project a and project b to follow the HTTP API requirement defined by the main project for their implementation. No need to define such contract in term of java codes and then share with them. It is redundant and just make thing complicated.\r\n\r\n","title":"how to design spring boot service layer to accommodate different modules","body":"<p>You don't need to do that. The HTTP API of the main service already served the purpose of the java interface for project a and project b.</p>\n<p>And this is the characterise of microservice . Each services are different processes which usually communicate with each other through HTTP API. The contract between a client and a service should be defined by the HTTP API but not a java interface.</p>\n<p>So just tell project a and project b to follow the HTTP API requirement defined by the main project for their implementation. No need to define such contract in term of java codes and then share with them. It is redundant and just make thing complicated.</p>\n"},{"tags":[],"owner":{"account_id":20186281,"reputation":111,"user_id":14805530,"display_name":"Việt Huy Nguyễn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664872537,"creation_date":1664872537,"answer_id":73945128,"question_id":73944205,"body_markdown":"I truly believe that this issue has nothing to do with Spring or any other framework, but your system design.\r\n\r\nWe can achieve what you desire by using **Generic**. You can design your **MainApplicationServiceInterface** like this :\r\n\r\n    interface MainApplicationServiceInterface&lt;R extends BaseRequest, P extends BaseResponse&gt;{\r\n        P viewTicket(R request);\r\n        P createTicket(R request);\r\n        P updateTicket(R request);\r\n    }\r\n\r\nAnd then in your service implementation, you can define your own set of Request and Response objects, that work their own way. \r\n\r\n    class ProjectAImplementation implements MainApplicationServiceInterface&lt;ProjectARequest,ProjectAResponse&gt;{\r\n        ProjectAResponse viewTicket(ProjectARequest request);\r\n        ///...further implementation\r\n    }\r\n\r\nThis brings you flexibility, but I&#39;m not very sure if it&#39;s optimized for your case. As you&#39;re trying to implement 3 separate projects, with different logic, different input types, and different output types. And I feel like, in the future, one of the projects will change, and it may no longer ensure the contract of the interface.\r\n\r\n**So, be simple, just separate it, completely.**\r\n\r\n","title":"how to design spring boot service layer to accommodate different modules","body":"<p>I truly believe that this issue has nothing to do with Spring or any other framework, but your system design.</p>\n<p>We can achieve what you desire by using <strong>Generic</strong>. You can design your <strong>MainApplicationServiceInterface</strong> like this :</p>\n<pre><code>interface MainApplicationServiceInterface&lt;R extends BaseRequest, P extends BaseResponse&gt;{\n    P viewTicket(R request);\n    P createTicket(R request);\n    P updateTicket(R request);\n}\n</code></pre>\n<p>And then in your service implementation, you can define your own set of Request and Response objects, that work their own way.</p>\n<pre><code>class ProjectAImplementation implements MainApplicationServiceInterface&lt;ProjectARequest,ProjectAResponse&gt;{\n    ProjectAResponse viewTicket(ProjectARequest request);\n    ///...further implementation\n}\n</code></pre>\n<p>This brings you flexibility, but I'm not very sure if it's optimized for your case. As you're trying to implement 3 separate projects, with different logic, different input types, and different output types. And I feel like, in the future, one of the projects will change, and it may no longer ensure the contract of the interface.</p>\n<p><strong>So, be simple, just separate it, completely.</strong></p>\n"}],"owner":{"account_id":16199640,"reputation":35,"user_id":11696338,"display_name":"Vaibhav Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664872832,"creation_date":1664867206,"question_id":73944205,"body_markdown":"In our organisation, we have a central service to raise tickets. Let&#39;s call this service `MainService`. Agents log into this service directly and create raise tickets for various concerns.\r\n\r\nA new requirement is to allow users to access this `MainService` via a separate new application say `MainServiceManagementService`. This new service will provide better user experience and will use APIs exposed by `MainService` to perform actions such as fetching list of tickets, viewing details or a ticket, creating tickets and so on.\r\n\r\nThe `MainServiceManagementService` is going to be a central service and will be used by other services to manage tickets pertaining to those specific services. Let&#39;s say we have 3 such services namely project A, project B and project C. For each of these services, we will create separate packages in `MainServiceManagementService` and they are required to implement their own logic and own response formats.\r\n\r\nLet&#39;s say I design a central interface like:\r\n\r\n```java\r\ninterface MainApplicationServiceInterface {\r\n   TicketViewResponse viewTicket(TicketViewRequest request);\r\n   TicketCreateResponse createTicket(TicketCreateRequest request);\r\n   TicketUpdateResponse updateTicket(TicketUpdateRequest request);\r\n}\r\n```\r\n\r\nAnd then create implementations of above interface for each project such as:\r\n\r\n```java\r\nclass ProjectAService implements MainApplicationServiceInterface {\r\n   // methods implemented here\r\n}\r\n\r\nclass ProjectBService implements MainApplicationServiceInterface {\r\n   // methods implemented here\r\n}\r\n```\r\n\r\nMy issue is for project A, I might want to generate a different type of response for view, create, update etc methods compared to project B and so on. The plan would be to take response like `TicketViewResponse` and cast it to necessary response class. But I want to have different return types for my method implementations. Also different methods like view, create will have different type of response as shown in interface example. What would be the best way to achieve such a use case?","title":"how to design spring boot service layer to accommodate different modules","body":"<p>In our organisation, we have a central service to raise tickets. Let's call this service <code>MainService</code>. Agents log into this service directly and create raise tickets for various concerns.</p>\n<p>A new requirement is to allow users to access this <code>MainService</code> via a separate new application say <code>MainServiceManagementService</code>. This new service will provide better user experience and will use APIs exposed by <code>MainService</code> to perform actions such as fetching list of tickets, viewing details or a ticket, creating tickets and so on.</p>\n<p>The <code>MainServiceManagementService</code> is going to be a central service and will be used by other services to manage tickets pertaining to those specific services. Let's say we have 3 such services namely project A, project B and project C. For each of these services, we will create separate packages in <code>MainServiceManagementService</code> and they are required to implement their own logic and own response formats.</p>\n<p>Let's say I design a central interface like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface MainApplicationServiceInterface {\n   TicketViewResponse viewTicket(TicketViewRequest request);\n   TicketCreateResponse createTicket(TicketCreateRequest request);\n   TicketUpdateResponse updateTicket(TicketUpdateRequest request);\n}\n</code></pre>\n<p>And then create implementations of above interface for each project such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ProjectAService implements MainApplicationServiceInterface {\n   // methods implemented here\n}\n\nclass ProjectBService implements MainApplicationServiceInterface {\n   // methods implemented here\n}\n</code></pre>\n<p>My issue is for project A, I might want to generate a different type of response for view, create, update etc methods compared to project B and so on. The plan would be to take response like <code>TicketViewResponse</code> and cast it to necessary response class. But I want to have different return types for my method implementations. Also different methods like view, create will have different type of response as shown in interface example. What would be the best way to achieve such a use case?</p>\n"},{"tags":["java","file-handling"],"comments":[{"owner":{"account_id":26523096,"reputation":1,"user_id":20156476,"display_name":"Shaik Yousuf Baba"},"score":0,"creation_date":1664871807,"post_id":73944970,"comment_id":130563808,"body_markdown":"case CellType.STRING:\n\t\t\t\t\tSystem.out.println(cell.getStringCellValue());\n\t\t\t\t\tbreak;\n\t\t\t\tcase Cell.CELL_TYPE_NUMERIC:\n\t\t\t\t\tSystem.out.println(cell.getNumericCellValue());\n\t\t\t\t\tbreak;\n\t\t\t\tcase Cell.CELL_TYPE_BLANK:\n\t\t\t\t\tSystem.out.println(&quot;--&quot;);\n\t\t\t\t\tbreak;","body":"case CellType.STRING: \t\t\t\t\tSystem.out.println(cell.getStringCellValue()); \t\t\t\t\tbreak; \t\t\t\tcase Cell.CELL_TYPE_NUMERIC: \t\t\t\t\tSystem.out.println(cell.getNumericCellValue()); \t\t\t\t\tbreak; \t\t\t\tcase Cell.CELL_TYPE_BLANK: \t\t\t\t\tSystem.out.println(&quot;--&quot;); \t\t\t\t\tbreak;"},{"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"score":0,"creation_date":1664872340,"post_id":73944970,"comment_id":130563959,"body_markdown":"Copy entire class (with imports) and format code using &quot; { } &quot; option from the editor. With this, we can&#39;t do much.","body":"Copy entire class (with imports) and format code using &quot; { } &quot; option from the editor. With this, we can&#39;t do much."},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1664872346,"post_id":73944970,"comment_id":130563961,"body_markdown":"Please do not put code as images. Paste it as formatted text (by editing your question).","body":"Please do not put code as images. Paste it as formatted text (by editing your question)."},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1664872521,"post_id":73944970,"comment_id":130564012,"body_markdown":"Also include information about what the actual error is.","body":"Also include information about what the actual error is."}],"answers":[{"tags":[],"owner":{"account_id":19112024,"reputation":159,"user_id":13957834,"display_name":"juran.maurice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664872769,"creation_date":1664872368,"answer_id":73945096,"question_id":73944970,"body_markdown":"Try it with the following code:\r\n\r\n    switch (cell.getCellTypeEnum()) {\r\n       case STRING:\r\n          break;\r\n       case NUMERIC:\r\n          break;\r\n       case BLANK:\r\n          break;\r\n       default:\r\n          break;\r\n    }\r\n\r\ngetCellType is deprecated and shouldn&#180;t be used anymore. See following post:\r\nhttps://stackoverflow.com/questions/39993683/alternative-to-deprecated-getcelltype\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b6Bcy.png","title":"case CellType.STRING: case Cell.CELL_TYPE_NUMERIC: case Cell.CELL_TYPE_BLANK: not working and also tried CellType.STRING but no use still errors","body":"<p>Try it with the following code:</p>\n<pre><code>switch (cell.getCellTypeEnum()) {\n   case STRING:\n      break;\n   case NUMERIC:\n      break;\n   case BLANK:\n      break;\n   default:\n      break;\n}\n</code></pre>\n<p>getCellType is deprecated and shouldn´t be used anymore. See following post:\n<a href=\"https://stackoverflow.com/questions/39993683/alternative-to-deprecated-getcelltype\">Alternative to deprecated getCellType</a></p>\n<p><a href=\"https://i.stack.imgur.com/b6Bcy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b6Bcy.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26523096,"reputation":1,"user_id":20156476,"display_name":"Shaik Yousuf Baba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664872769,"creation_date":1664871706,"question_id":73944970,"body_markdown":"[ERROR][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/viTr5.png\r\n  case CellType.STRING: \r\n  case Cell.CELL_TYPE_NUMERIC: \r\n  case Cell.CELL_TYPE_BLANK: not working and also tried CellType.STRING but no use still \r\n  errors.","title":"case CellType.STRING: case Cell.CELL_TYPE_NUMERIC: case Cell.CELL_TYPE_BLANK: not working and also tried CellType.STRING but no use still errors","body":"<p><a href=\"https://i.stack.imgur.com/viTr5.png\" rel=\"nofollow noreferrer\">ERROR</a></p>\n<p>case CellType.STRING:\ncase Cell.CELL_TYPE_NUMERIC:\ncase Cell.CELL_TYPE_BLANK: not working and also tried CellType.STRING but no use still\nerrors.</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"score":0,"creation_date":1664867945,"post_id":73944199,"comment_id":130562603,"body_markdown":"This is correct solution, what do you get?","body":"This is correct solution, what do you get?"},{"owner":{"account_id":17576668,"reputation":13,"user_id":12751271,"display_name":"Andrej"},"score":0,"creation_date":1664869300,"post_id":73944199,"comment_id":130563023,"body_markdown":"I can&#39;t set generic type, because PersonListWithCount.class can&#39;t be like PersonListWithCount&lt;AnimalResponse&gt;.class as param","body":"I can&#39;t set generic type, because PersonListWithCount.class can&#39;t be like PersonListWithCount&lt;AnimalResponse&gt;.class as param"},{"owner":{"account_id":17576668,"reputation":13,"user_id":12751271,"display_name":"Andrej"},"score":0,"creation_date":1664870755,"post_id":73944199,"comment_id":130563486,"body_markdown":"@viking Create and retun ObjectMapper with params ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT, ACCEPT_SINGLE_VALUE_AS_ARRAY, FAIL_ON_UNKNOWN_PROPERTIES","body":"@viking Create and retun ObjectMapper with params ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT, ACCEPT_SINGLE_VALUE_AS_ARRAY, FAIL_ON_UNKNOWN_PROPERTIES"}],"answers":[{"tags":[],"owner":{"account_id":17576668,"reputation":13,"user_id":12751271,"display_name":"Andrej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664872728,"creation_date":1664870927,"answer_id":73944835,"question_id":73944199,"body_markdown":"Helped answer from other question ([Jackson - Deserialize using generic class][1]):\r\n\r\n    mapper.readValue(jsonString, new TypeReference&lt;DataWithCount&lt;AnimalResponse&gt;&gt;() {});\r\n\r\nand second way works too\r\n\r\n    JavaType type = mapper.getTypeFactory().constructParametricType(DataWithCount.class, AnimalResponse.class);\r\n    DataWithCount&lt;AnimalResponse&gt; data = mapper.readValue(json, type);\r\n\r\n\r\nThank you @Nick\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11664894/jackson-deserialize-using-generic-class","title":"Java lombok universal field for list of objects","body":"<p>Helped answer from other question (<a href=\"https://stackoverflow.com/questions/11664894/jackson-deserialize-using-generic-class\">Jackson - Deserialize using generic class</a>):</p>\n<pre><code>mapper.readValue(jsonString, new TypeReference&lt;DataWithCount&lt;AnimalResponse&gt;&gt;() {});\n</code></pre>\n<p>and second way works too</p>\n<pre><code>JavaType type = mapper.getTypeFactory().constructParametricType(DataWithCount.class, AnimalResponse.class);\nDataWithCount&lt;AnimalResponse&gt; data = mapper.readValue(json, type);\n</code></pre>\n<p>Thank you @Nick</p>\n"}],"owner":{"account_id":17576668,"reputation":13,"user_id":12751271,"display_name":"Andrej"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664872776,"answer_count":1,"score":0,"last_activity_date":1664872728,"creation_date":1664867157,"question_id":73944199,"body_markdown":"I have json response from api with structure like this:\r\n\r\n    {\r\n        &quot;countPerPage&quot;: 20,\r\n        &quot;totalCount&quot;: 401,\r\n        &quot;currentPage&quot;: 1,\r\n        &quot;totalPage&quot;: 21,\r\n        &quot;data&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;catId&quot;: 12,\r\n                &quot;dogId&quot;: 12,\r\n                &quot;creationDate&quot;: &quot;2022-01-03 12:29:38&quot;,\r\n                &quot;comment&quot;: &quot;Some comment&quot;\r\n            },\r\n            {\r\n                &quot;id&quot;: 2,\r\n                &quot;catId&quot;: 13,\r\n                &quot;dogId&quot;: 16,\r\n                &quot;creationDate&quot;: &quot;2022-01-08 11:14:25&quot;,\r\n                &quot;comment&quot;: &quot;Some comment&quot;\r\n            },\r\n            ...\r\n        ]\r\n    }\r\n\r\n\r\nand like this\r\n\r\n    {\r\n        &quot;countPerPage&quot;: 20,\r\n        &quot;totalCount&quot;: 226,\r\n        &quot;currentPage&quot;: 3,\r\n        &quot;totalPage&quot;: 12,\r\n        &quot;data&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;parentId&quot;: 12,\r\n                &quot;firstName&quot;: &quot;John&quot;,\r\n                &quot;lastName&quot;: &quot;Doe&quot;,\r\n                &quot;creationDate&quot;: &quot;2022-01-03 12:29:38&quot;,\r\n                &quot;age&quot;: 25\r\n            },\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;parentId&quot;: 12,\r\n                &quot;firstName&quot;: &quot;Michael&quot;,\r\n                &quot;lastName&quot;: &quot;Finder&quot;,\r\n                &quot;creationDate&quot;: &quot;2022-01-08 11:14:25&quot;,\r\n                &quot;age&quot;: 24\r\n            },\r\n            ...\r\n        ]\r\n    }\r\n\r\nAnd other with same structure.\r\n\r\nIf I create response java classes for person like this\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class PersonResponse{\r\n        @JsonProperty(&quot;id&quot;)\r\n        private int id;\r\n\r\n        @JsonProperty(&quot;parentId&quot;)\r\n        private int parentId;\r\n\r\n        @JsonProperty(&quot;firstName&quot;)\r\n        private String firstName;\r\n\r\n        @JsonProperty(&quot;lastName&quot;)\r\n        private String lastName;\r\n\r\n        @JsonProperty(&quot;creationDate&quot;)\r\n        private String creationDate;\r\n\r\n        @JsonProperty(&quot;age&quot;)\r\n        private int age;\r\n    }\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class PersonWithCount {\r\n        @JsonProperty(&quot;countPerPage&quot;)\r\n        private int countPerPage;\r\n\r\n        @JsonProperty(&quot;totalCount&quot;)\r\n        private int totalCount;\r\n\r\n        @JsonProperty(&quot;currentPage&quot;)\r\n        private int currentPage;\r\n\r\n        @JsonProperty(&quot;totalPage&quot;)\r\n        private int totalPage;\r\n\r\n        @JsonProperty(&quot;data&quot;)\r\n        private List&lt;PersonResponse&gt; data;\r\n    }\r\n\r\nAnd for animal like this\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class AnimalResponse{\r\n        @JsonProperty(&quot;id&quot;)\r\n        private int id;\r\n\r\n        @JsonProperty(&quot;catId&quot;)\r\n        private int catId;\r\n\r\n        @JsonProperty(&quot;dogId&quot;)\r\n        private int dogId;\r\n\r\n        @JsonProperty(&quot;creationDate&quot;)\r\n        private String creationDate;\r\n\r\n        @JsonProperty(&quot;comment&quot;)\r\n        private String comment;\r\n    }\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class AnimalWithCount {\r\n        @JsonProperty(&quot;countPerPage&quot;)\r\n        private int countPerPage;\r\n\r\n        @JsonProperty(&quot;totalCount&quot;)\r\n        private int totalCount;\r\n\r\n        @JsonProperty(&quot;currentPage&quot;)\r\n        private int currentPage;\r\n\r\n       @JsonProperty(&quot;totalPage&quot;)\r\n        private int totalPage;\r\n\r\n        @JsonProperty(&quot;data&quot;)\r\n        private List&lt;AnimalResponse&gt; data;\r\n    }\r\n\r\nAll works korrect.\r\nBut how can I use something universal like generics, for don&#39;t copy and paste each time class with same data, where changed only last field?\r\n\r\nI expected something like this, but it is not working\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class DataWithCount&lt;T&gt; {\r\n        @JsonProperty(&quot;countPerPage&quot;)\r\n        private int countPerPage;\r\n\r\n        @JsonProperty(&quot;totalCount&quot;)\r\n        private int totalCount;\r\n\r\n        @JsonProperty(&quot;currentPage&quot;)\r\n        private int currentPage;\r\n\r\n        @JsonProperty(&quot;totalPage&quot;)\r\n        private int totalPage;\r\n\r\n        @JsonProperty(&quot;data&quot;)\r\n        private List&lt;T&gt; data;\r\n    }\r\n\r\nFill variable:\r\n    \r\n    personListWithCount = ObjectMapperCreator.objectMapperCreator().readValue(personResponse.getBody().asPrettyString(), PersonListWithCount.class);\r\n\r\nMaybe I do something wrong?","title":"Java lombok universal field for list of objects","body":"<p>I have json response from api with structure like this:</p>\n<pre><code>{\n    &quot;countPerPage&quot;: 20,\n    &quot;totalCount&quot;: 401,\n    &quot;currentPage&quot;: 1,\n    &quot;totalPage&quot;: 21,\n    &quot;data&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;catId&quot;: 12,\n            &quot;dogId&quot;: 12,\n            &quot;creationDate&quot;: &quot;2022-01-03 12:29:38&quot;,\n            &quot;comment&quot;: &quot;Some comment&quot;\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;catId&quot;: 13,\n            &quot;dogId&quot;: 16,\n            &quot;creationDate&quot;: &quot;2022-01-08 11:14:25&quot;,\n            &quot;comment&quot;: &quot;Some comment&quot;\n        },\n        ...\n    ]\n}\n</code></pre>\n<p>and like this</p>\n<pre><code>{\n    &quot;countPerPage&quot;: 20,\n    &quot;totalCount&quot;: 226,\n    &quot;currentPage&quot;: 3,\n    &quot;totalPage&quot;: 12,\n    &quot;data&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;parentId&quot;: 12,\n            &quot;firstName&quot;: &quot;John&quot;,\n            &quot;lastName&quot;: &quot;Doe&quot;,\n            &quot;creationDate&quot;: &quot;2022-01-03 12:29:38&quot;,\n            &quot;age&quot;: 25\n        },\n        {\n            &quot;id&quot;: 1,\n            &quot;parentId&quot;: 12,\n            &quot;firstName&quot;: &quot;Michael&quot;,\n            &quot;lastName&quot;: &quot;Finder&quot;,\n            &quot;creationDate&quot;: &quot;2022-01-08 11:14:25&quot;,\n            &quot;age&quot;: 24\n        },\n        ...\n    ]\n}\n</code></pre>\n<p>And other with same structure.</p>\n<p>If I create response java classes for person like this</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class PersonResponse{\n    @JsonProperty(&quot;id&quot;)\n    private int id;\n\n    @JsonProperty(&quot;parentId&quot;)\n    private int parentId;\n\n    @JsonProperty(&quot;firstName&quot;)\n    private String firstName;\n\n    @JsonProperty(&quot;lastName&quot;)\n    private String lastName;\n\n    @JsonProperty(&quot;creationDate&quot;)\n    private String creationDate;\n\n    @JsonProperty(&quot;age&quot;)\n    private int age;\n}\n\n@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class PersonWithCount {\n    @JsonProperty(&quot;countPerPage&quot;)\n    private int countPerPage;\n\n    @JsonProperty(&quot;totalCount&quot;)\n    private int totalCount;\n\n    @JsonProperty(&quot;currentPage&quot;)\n    private int currentPage;\n\n    @JsonProperty(&quot;totalPage&quot;)\n    private int totalPage;\n\n    @JsonProperty(&quot;data&quot;)\n    private List&lt;PersonResponse&gt; data;\n}\n</code></pre>\n<p>And for animal like this</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class AnimalResponse{\n    @JsonProperty(&quot;id&quot;)\n    private int id;\n\n    @JsonProperty(&quot;catId&quot;)\n    private int catId;\n\n    @JsonProperty(&quot;dogId&quot;)\n    private int dogId;\n\n    @JsonProperty(&quot;creationDate&quot;)\n    private String creationDate;\n\n    @JsonProperty(&quot;comment&quot;)\n    private String comment;\n}\n\n@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class AnimalWithCount {\n    @JsonProperty(&quot;countPerPage&quot;)\n    private int countPerPage;\n\n    @JsonProperty(&quot;totalCount&quot;)\n    private int totalCount;\n\n    @JsonProperty(&quot;currentPage&quot;)\n    private int currentPage;\n\n   @JsonProperty(&quot;totalPage&quot;)\n    private int totalPage;\n\n    @JsonProperty(&quot;data&quot;)\n    private List&lt;AnimalResponse&gt; data;\n}\n</code></pre>\n<p>All works korrect.\nBut how can I use something universal like generics, for don't copy and paste each time class with same data, where changed only last field?</p>\n<p>I expected something like this, but it is not working</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class DataWithCount&lt;T&gt; {\n    @JsonProperty(&quot;countPerPage&quot;)\n    private int countPerPage;\n\n    @JsonProperty(&quot;totalCount&quot;)\n    private int totalCount;\n\n    @JsonProperty(&quot;currentPage&quot;)\n    private int currentPage;\n\n    @JsonProperty(&quot;totalPage&quot;)\n    private int totalPage;\n\n    @JsonProperty(&quot;data&quot;)\n    private List&lt;T&gt; data;\n}\n</code></pre>\n<p>Fill variable:</p>\n<pre><code>personListWithCount = ObjectMapperCreator.objectMapperCreator().readValue(personResponse.getBody().asPrettyString(), PersonListWithCount.class);\n</code></pre>\n<p>Maybe I do something wrong?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":6635887,"reputation":1123,"user_id":5123074,"accept_rate":36,"display_name":"Александр Волошиновский"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664872708,"creation_date":1664872708,"answer_id":73945155,"question_id":73944431,"body_markdown":"your fragment must implement interface OnDateSetListener and set  \r\nSpinnerDatePickerDialogBuilder\r\n\r\n    new SpinnerDatePickerDialogBuilder()\r\n                .context(getActivity())\r\n                .callback(this)\r\n                .spinnerTheme(R.style.NumberPickerStyle)\r\n                .showTitle(true)\r\n                .showDaySpinner(true)\r\n                .defaultDate(2000, 0, 1)\r\n                .maxDate(Integer.parseInt(temp), 0, 1)\r\n                .minDate(1950, 0, 1)\r\n                .build()\r\n                .show();","title":"incompatible types: Activity cannot be converted to OnDateSetListener","body":"<p>your fragment must implement interface OnDateSetListener and set<br />\nSpinnerDatePickerDialogBuilder</p>\n<pre><code>new SpinnerDatePickerDialogBuilder()\n            .context(getActivity())\n            .callback(this)\n            .spinnerTheme(R.style.NumberPickerStyle)\n            .showTitle(true)\n            .showDaySpinner(true)\n            .defaultDate(2000, 0, 1)\n            .maxDate(Integer.parseInt(temp), 0, 1)\n            .minDate(1950, 0, 1)\n            .build()\n            .show();\n</code></pre>\n"}],"owner":{"account_id":20560830,"reputation":1,"user_id":15091387,"display_name":"Sandeep Maurya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664872708,"creation_date":1664868706,"question_id":73944431,"body_markdown":"error: incompatible types: FragmentActivity cannot be converted to OnDateSetListener\r\n                .callback(getActivity())\r\n\r\n    new SpinnerDatePickerDialogBuilder()\r\n                .context(getActivity())\r\n                .callback(getActivity())\r\n                .spinnerTheme(R.style.NumberPickerStyle)\r\n                .showTitle(true)\r\n                .showDaySpinner(true)\r\n                .defaultDate(2000, 0, 1)\r\n                .maxDate(Integer.parseInt(temp), 0, 1)\r\n                .minDate(1950, 0, 1)\r\n                .build()\r\n                .show();","title":"incompatible types: Activity cannot be converted to OnDateSetListener","body":"<p>error: incompatible types: FragmentActivity cannot be converted to OnDateSetListener\n.callback(getActivity())</p>\n<pre><code>new SpinnerDatePickerDialogBuilder()\n            .context(getActivity())\n            .callback(getActivity())\n            .spinnerTheme(R.style.NumberPickerStyle)\n            .showTitle(true)\n            .showDaySpinner(true)\n            .defaultDate(2000, 0, 1)\n            .maxDate(Integer.parseInt(temp), 0, 1)\n            .minDate(1950, 0, 1)\n            .build()\n            .show();\n</code></pre>\n"},{"tags":["java","javafx","model-view-controller","invocationtargetexception"],"comments":[{"owner":{"account_id":11766240,"reputation":578,"user_id":14056755,"display_name":"Marcin Rzepecki"},"score":1,"creation_date":1603831781,"post_id":64562606,"comment_id":114160712,"body_markdown":"Stacktrace clearly explains that it is an error caused by NPE on line 70 in StartMenuUI class. Check it if you do not pass there any null object that cannot be nullable.","body":"Stacktrace clearly explains that it is an error caused by NPE on line 70 in StartMenuUI class. Check it if you do not pass there any null object that cannot be nullable."},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1603831829,"post_id":64562606,"comment_id":114160722,"body_markdown":"Well, maybe not &quot;clearly&quot;.... but yeah, that&#39;s the root cause :-)","body":"Well, maybe not &quot;clearly&quot;.... but yeah, that&#39;s the root cause :-)"},{"owner":{"account_id":19788071,"reputation":66,"user_id":14491631,"display_name":"Germ&#225;n S&#225;nchez Pastor"},"score":0,"creation_date":1664872457,"post_id":64562606,"comment_id":130563995,"body_markdown":"Pay attention to Autowireds if you are using Spring","body":"Pay attention to Autowireds if you are using Spring"}],"answers":[{"tags":[],"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1603832396,"creation_date":1603832396,"answer_id":64562825,"question_id":64562606,"body_markdown":"You&#39;ve got an initialization order issue. In your `StartMenuCtrl` constructor, you&#39;re passing a reference to `this` to the `StartMenuUI` constructor. The `StartMenuUi` constructor then calls `initComponents`, which calls `startMenuCtrl.getStage()`... but that method returns `null` because the StartMenuCtrl constructor has not finished executing, and has not yet initialized its `primaryStage` field.\r\n\r\nTry reordering the lines in the StartMenuCtrl constructor so they&#39;re in this order:\r\n\r\n    this.primaryStage = new Stage(); // this needs to happen first!\r\n    this.startMenuUI = new StartMenuUI(this);\r\n\r\nThis problem illustrates why, generally speaking, [it&#39;s best not to let the `this` reference escape during object construction](\r\nhttps://wiki.sei.cmu.edu/confluence/display/java/TSM01-J.+Do+not+let+the+this+reference+escape+during+object+construction).","title":"I&#39;m getting an java.lang.reflect.InvocationTargetException exception in JavaFX app and I have no idea how to fix it","body":"<p>You've got an initialization order issue. In your <code>StartMenuCtrl</code> constructor, you're passing a reference to <code>this</code> to the <code>StartMenuUI</code> constructor. The <code>StartMenuUi</code> constructor then calls <code>initComponents</code>, which calls <code>startMenuCtrl.getStage()</code>... but that method returns <code>null</code> because the StartMenuCtrl constructor has not finished executing, and has not yet initialized its <code>primaryStage</code> field.</p>\n<p>Try reordering the lines in the StartMenuCtrl constructor so they're in this order:</p>\n<pre><code>this.primaryStage = new Stage(); // this needs to happen first!\nthis.startMenuUI = new StartMenuUI(this);\n</code></pre>\n<p>This problem illustrates why, generally speaking, <a href=\"https://wiki.sei.cmu.edu/confluence/display/java/TSM01-J.+Do+not+let+the+this+reference+escape+during+object+construction\" rel=\"noreferrer\">it's best not to let the <code>this</code> reference escape during object construction</a>.</p>\n"}],"owner":{"account_id":18647902,"reputation":45,"user_id":13592077,"display_name":"Daniel Palmer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13307,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64562825,"answer_count":1,"score":4,"last_activity_date":1664872426,"creation_date":1603831364,"question_id":64562606,"body_markdown":"I&#39;m building a small D&amp;D side project, but having trouble navigating my way through JavaFX. I&#39;m attempting to move through several scenes while remaining on the same stage. I&#39;m using an MVC design and passing though the primaryStage whenever the controller is called. However, when I try to call from my UI class and get the stage from my controller, it throws a InvocationTargetException. \r\n\r\nMain Class:\r\n\r\n    package dnd;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class DnD extends Application {\r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception { \r\n            primaryStage.setTitle(&quot;Dungeons and Dragons&quot;);\r\n            StartMenuCtrl startMenuCtrl = new StartMenuCtrl(primaryStage);\r\n            primaryStage.show();        \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }   \r\n    }\r\n\r\nStart Menu Controller Class:\r\n\r\n    package dnd;\r\n    \r\n    import javafx.stage.Stage;\r\n    \r\n    public class StartMenuCtrl {\r\n        private final StartMenuUI startMenuUI;\r\n        private final Stage primaryStage;\r\n    \r\n        public StartMenuCtrl(Stage primaryStage) {\r\n            this.startMenuUI = new StartMenuUI(this);\r\n            this.primaryStage = new Stage();        \r\n        }\r\n        \r\n        public void newButtonIsPressed() {\r\n            System.out.println(&quot;New Button is pressed&quot;);\r\n        }\r\n        \r\n        public void createButtonIsPressed() {\r\n            System.out.println(&quot;Create Button is pressed&quot;);\r\n            CreateCharCtrl createCharCtrl = new CreateCharCtrl(primaryStage);\r\n        }\r\n        \r\n        public void loadButtonIsPressed() {\r\n            System.out.println(&quot;Load Button is pressed&quot;);\r\n        }\r\n        \r\n        public void joinButtonIsPressed() {\r\n            System.out.println(&quot;Join Button is pressed&quot;);\r\n        }\r\n        \r\n        public Stage getStage() {\r\n            return this.primaryStage;\r\n        }\r\n    }\r\n\r\nStart Menu UI Class:\r\n\r\n    package dnd;\r\n    \r\n    import javafx.scene.Group;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.text.Font;\r\n    import javafx.scene.text.Text;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class StartMenuUI {\r\n        private final StartMenuCtrl startMenuCtrl;\r\n        private final Text title;\r\n        private final Button newBtn;\r\n        private final Button createBtn;\r\n        private final Button loadBtn;\r\n        private final Button joinBtn;\r\n    \r\n        public StartMenuUI(StartMenuCtrl startMenuCtrl) {\r\n            this.startMenuCtrl = startMenuCtrl;\r\n            this.title = new Text();\r\n            this.newBtn = new Button(&quot;New Game&quot;);\r\n            this.createBtn = new Button(&quot;Create Character&quot;);\r\n            this.loadBtn = new Button(&quot;Load Saved Game&quot;);\r\n            this.joinBtn = new Button(&quot;Join Game&quot;);\r\n            initComponents();\r\n        }\r\n        \r\n        private void initComponents() {\r\n            Group root = new Group(title, newBtn, createBtn, loadBtn, joinBtn);\r\n            Scene scene = new Scene(root, 1280, 720);\r\n            Stage stage = startMenuCtrl.getStage();\r\n            stage.setScene(scene);\r\n        }\r\n    }\r\n\r\nError: \r\n\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.NullPointerException\r\n    \tat dnd.StartMenuUI.initComponents(StartMenuUI.java:70)\r\n    \tat dnd.StartMenuUI.&lt;init&gt;(StartMenuUI.java:25)\r\n    \tat dnd.StartMenuCtrl.&lt;init&gt;(StartMenuCtrl.java:10)\r\n    \tat dnd.DnD.start(DnD.java:11)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\r\n    \tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    \tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177)\r\n    \t... 1 more\r\n\r\nAny help would be appreciated! I&#39;m very early in the project so drastic change tips would be appreciated as well :)","title":"I&#39;m getting an java.lang.reflect.InvocationTargetException exception in JavaFX app and I have no idea how to fix it","body":"<p>I'm building a small D&amp;D side project, but having trouble navigating my way through JavaFX. I'm attempting to move through several scenes while remaining on the same stage. I'm using an MVC design and passing though the primaryStage whenever the controller is called. However, when I try to call from my UI class and get the stage from my controller, it throws a InvocationTargetException.</p>\n<p>Main Class:</p>\n<pre><code>package dnd;\n\nimport javafx.application.Application;\nimport javafx.stage.Stage;\n\npublic class DnD extends Application {\n    @Override\n    public void start(Stage primaryStage) throws Exception { \n        primaryStage.setTitle(&quot;Dungeons and Dragons&quot;);\n        StartMenuCtrl startMenuCtrl = new StartMenuCtrl(primaryStage);\n        primaryStage.show();        \n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }   \n}\n</code></pre>\n<p>Start Menu Controller Class:</p>\n<pre><code>package dnd;\n\nimport javafx.stage.Stage;\n\npublic class StartMenuCtrl {\n    private final StartMenuUI startMenuUI;\n    private final Stage primaryStage;\n\n    public StartMenuCtrl(Stage primaryStage) {\n        this.startMenuUI = new StartMenuUI(this);\n        this.primaryStage = new Stage();        \n    }\n    \n    public void newButtonIsPressed() {\n        System.out.println(&quot;New Button is pressed&quot;);\n    }\n    \n    public void createButtonIsPressed() {\n        System.out.println(&quot;Create Button is pressed&quot;);\n        CreateCharCtrl createCharCtrl = new CreateCharCtrl(primaryStage);\n    }\n    \n    public void loadButtonIsPressed() {\n        System.out.println(&quot;Load Button is pressed&quot;);\n    }\n    \n    public void joinButtonIsPressed() {\n        System.out.println(&quot;Join Button is pressed&quot;);\n    }\n    \n    public Stage getStage() {\n        return this.primaryStage;\n    }\n}\n</code></pre>\n<p>Start Menu UI Class:</p>\n<pre><code>package dnd;\n\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\n\npublic class StartMenuUI {\n    private final StartMenuCtrl startMenuCtrl;\n    private final Text title;\n    private final Button newBtn;\n    private final Button createBtn;\n    private final Button loadBtn;\n    private final Button joinBtn;\n\n    public StartMenuUI(StartMenuCtrl startMenuCtrl) {\n        this.startMenuCtrl = startMenuCtrl;\n        this.title = new Text();\n        this.newBtn = new Button(&quot;New Game&quot;);\n        this.createBtn = new Button(&quot;Create Character&quot;);\n        this.loadBtn = new Button(&quot;Load Saved Game&quot;);\n        this.joinBtn = new Button(&quot;Join Game&quot;);\n        initComponents();\n    }\n    \n    private void initComponents() {\n        Group root = new Group(title, newBtn, createBtn, loadBtn, joinBtn);\n        Scene scene = new Scene(root, 1280, 720);\n        Stage stage = startMenuCtrl.getStage();\n        stage.setScene(scene);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n    at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NullPointerException\n    at dnd.StartMenuUI.initComponents(StartMenuUI.java:70)\n    at dnd.StartMenuUI.&lt;init&gt;(StartMenuUI.java:25)\n    at dnd.StartMenuCtrl.&lt;init&gt;(StartMenuCtrl.java:10)\n    at dnd.DnD.start(DnD.java:11)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\n    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\n    at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177)\n    ... 1 more\n</code></pre>\n<p>Any help would be appreciated! I'm very early in the project so drastic change tips would be appreciated as well :)</p>\n"},{"tags":["java","intellij-idea","kotlin","aspectj"],"comments":[{"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"score":2,"creation_date":1518365102,"post_id":48732690,"comment_id":84465959,"body_markdown":"Your observation is correct. Not all features of IntelliJ IDEA automatically work for all supported languages; this one is implemented only for Java.","body":"Your observation is correct. Not all features of IntelliJ IDEA automatically work for all supported languages; this one is implemented only for Java."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1518396321,"post_id":48732690,"comment_id":84475799,"body_markdown":"AspectJ support in general had a good start in older IntelliJ versions, but has been neglected for years. As much as I love IDEA, I usually switch to Eclipse + AJDT if I want to do anything aspect-related, even though AJDT has not improved much in the last few years either but it merely kept functioning. Still it is better than IDEA because AspectJ is an Eclipse project.","body":"AspectJ support in general had a good start in older IntelliJ versions, but has been neglected for years. As much as I love IDEA, I usually switch to Eclipse + AJDT if I want to do anything aspect-related, even though AJDT has not improved much in the last few years either but it merely kept functioning. Still it is better than IDEA because AspectJ is an Eclipse project."},{"owner":{"account_id":9054258,"reputation":435,"user_id":6743176,"display_name":"BATMAN"},"score":0,"creation_date":1538034768,"post_id":48732690,"comment_id":92003355,"body_markdown":"How did you get aspectj working with kotlin? I tried following the link - https://stackoverflow.com/a/49319700/6743176,  but no luck. Can you help?","body":"How did you get aspectj working with kotlin? I tried following the link - <a href=\"https://stackoverflow.com/a/49319700/6743176\">stackoverflow.com/a/49319700/6743176</a>,  but no luck. Can you help?"},{"owner":{"account_id":10628695,"reputation":329,"user_id":7827582,"accept_rate":90,"display_name":"user3285241"},"score":0,"creation_date":1538064003,"post_id":48732690,"comment_id":92021768,"body_markdown":"@KashishMalhotra could you please provide more information why is it not working? any stacktrace? code?","body":"@KashishMalhotra could you please provide more information why is it not working? any stacktrace? code?"},{"owner":{"account_id":9054258,"reputation":435,"user_id":6743176,"display_name":"BATMAN"},"score":0,"creation_date":1538072132,"post_id":48732690,"comment_id":92025638,"body_markdown":"I used aspectj with kotlin in an android application. If I convert my @Aspect annotated class in Java, the code works fine. But if I use it in kotlin, the code simply doesn&#39;t get executed, no errors, nothing.","body":"I used aspectj with kotlin in an android application. If I convert my @Aspect annotated class in Java, the code works fine. But if I use it in kotlin, the code simply doesn&#39;t get executed, no errors, nothing."},{"owner":{"account_id":9054258,"reputation":435,"user_id":6743176,"display_name":"BATMAN"},"score":0,"creation_date":1538072301,"post_id":48732690,"comment_id":92025719,"body_markdown":"I can&#39;t seem to find @Component annotation. Maybe that&#39;s the reason.","body":"I can&#39;t seem to find @Component annotation. Maybe that&#39;s the reason."}],"answers":[{"tags":[],"owner":{"account_id":5747989,"reputation":1,"user_id":4538650,"display_name":"OlegB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664872155,"creation_date":1664872155,"answer_id":73945054,"question_id":48732690,"body_markdown":"I&#39;ve had the same issue. \r\n\r\nWorkaround:\r\n\r\n1. Create java file\r\n2. Put your aop here\r\n3. Debug/test/develop\r\n4. Move the code to Kotlin file then\r\n\r\nIt&#39;s a bit ugly but is working.","title":"AspectJ and Kotlin in IntelliJ - does not show advised methods","body":"<p>I've had the same issue.</p>\n<p>Workaround:</p>\n<ol>\n<li>Create java file</li>\n<li>Put your aop here</li>\n<li>Debug/test/develop</li>\n<li>Move the code to Kotlin file then</li>\n</ol>\n<p>It's a bit ugly but is working.</p>\n"}],"owner":{"account_id":10628695,"reputation":329,"user_id":7827582,"accept_rate":90,"display_name":"user3285241"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664872155,"creation_date":1518360318,"question_id":48732690,"body_markdown":"I have this snippet of code:\r\n\r\n    @Aspect\r\n    @Component\r\n    open class Advice\r\n    {\r\n        @AfterThrowing(pointcut = &quot;execution(* project.service..*(..)) &amp;&amp; !within(is(FinalType))&quot;, throwing = &quot;throwable&quot;)\r\n        open fun sendError(throwable: Exception)\r\n        {\r\n        println(&quot;exception thrown&quot;)\r\n        }\r\n    }\r\n\r\nIt seems to be working okay, except that IJ does not tell me what methods are advised - this functionality works only when I rewrite this class to Java.\r\n[![q][1]][1]\r\n\r\n(this little icon on line 12 is what is missing in Kotlin - it shows the list of methods advised by the advice. It&#39;s present when the code is written in Java)\r\n\r\n Any ideas? Thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MnW6e.png","title":"AspectJ and Kotlin in IntelliJ - does not show advised methods","body":"<p>I have this snippet of code:</p>\n\n<pre><code>@Aspect\n@Component\nopen class Advice\n{\n    @AfterThrowing(pointcut = \"execution(* project.service..*(..)) &amp;&amp; !within(is(FinalType))\", throwing = \"throwable\")\n    open fun sendError(throwable: Exception)\n    {\n    println(\"exception thrown\")\n    }\n}\n</code></pre>\n\n<p>It seems to be working okay, except that IJ does not tell me what methods are advised - this functionality works only when I rewrite this class to Java.\n<a href=\"https://i.stack.imgur.com/MnW6e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MnW6e.png\" alt=\"q\"></a></p>\n\n<p>(this little icon on line 12 is what is missing in Kotlin - it shows the list of methods advised by the advice. It's present when the code is written in Java)</p>\n\n<p>Any ideas? Thanks in advance.</p>\n"},{"tags":["java","file","atomic","temp"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":3,"creation_date":1664872521,"post_id":73945036,"comment_id":130564014,"body_markdown":"Are you aware of Files.move ?  https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#move(java.nio.file.Path,%20java.nio.file.Path,%20java.nio.file.CopyOption...)","body":"Are you aware of Files.move ?  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#move(java.nio.file.Path,%20java.nio.file.Path,%20java.nio.file.CopyOption...)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/nio/file/&hellip;</a>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":3,"creation_date":1664873019,"post_id":73945036,"comment_id":130564156,"body_markdown":"Or File.renameTo ? https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/File.html#renameTo(java.io.File)","body":"Or File.renameTo ? <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/File.html#renameTo(java.io.File)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664881808,"post_id":73945036,"comment_id":130566907,"body_markdown":"How about downloading the files to the intended target location in the first place?","body":"How about downloading the files to the intended target location in the first place?"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1664946768,"post_id":73945036,"comment_id":130582642,"body_markdown":"Does this answer your question? [How to atomically rename a file in Java, even if the dest file already exists?](https://stackoverflow.com/questions/595631/how-to-atomically-rename-a-file-in-java-even-if-the-dest-file-already-exists)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/595631/how-to-atomically-rename-a-file-in-java-even-if-the-dest-file-already-exists\">How to atomically rename a file in Java, even if the dest file already exists?</a>"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1664946885,"post_id":73945036,"comment_id":130582659,"body_markdown":"And more simply for just renaming without guaranteed atomicity, [How to rename an existing file?](https://stackoverflow.com/a/14970379) quotes the docs for `File.renameTo`. \n See also [Rename a file using Java](https://stackoverflow.com/q/1158777)","body":"And more simply for just renaming without guaranteed atomicity, <a href=\"https://stackoverflow.com/a/14970379\">How to rename an existing file?</a> quotes the docs for <code>File.renameTo</code>.   See also <a href=\"https://stackoverflow.com/q/1158777\">Rename a file using Java</a>"},{"owner":{"account_id":26523123,"reputation":11,"user_id":20156500,"display_name":"ARNAV RAJPAL"},"score":0,"creation_date":1665038387,"post_id":73945036,"comment_id":130606305,"body_markdown":"@racraman Does filles.move use 2x space at any given point of time ?","body":"@racraman Does filles.move use 2x space at any given point of time ?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1665093252,"post_id":73945036,"comment_id":130625350,"body_markdown":"@ARNAVRAJPAL definitely NOT if you call it with the ATOMIC_MOVE option, and it will basically default to that option of it is physically possible to do so (ie so long as target is on the same “disc” as the source).   Basically, you can assume that ultimately Java will end up calling the same “move file” operating system routine that is invoked when you manually move a file by click+drag in your windows.","body":"@ARNAVRAJPAL definitely NOT if you call it with the ATOMIC_MOVE option, and it will basically default to that option of it is physically possible to do so (ie so long as target is on the same “disc” as the source).   Basically, you can assume that ultimately Java will end up calling the same “move file” operating system routine that is invoked when you manually move a file by click+drag in your windows."}],"owner":{"account_id":26523123,"reputation":11,"user_id":20156500,"display_name":"ARNAV RAJPAL"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664872058,"creation_date":1664872058,"question_id":73945036,"body_markdown":"We are using temp directory to download some files from multiple machines and then we have to move it to another directory, is there a way to do that without making 2 copies of the files because the files can be as large as 25 gb so can cause disk space issues, we were thinking something like atomic move which would help move the files one at a time without using 2x space","title":"Is there a way to move files from temp directory to a target directory in java without using double space","body":"<p>We are using temp directory to download some files from multiple machines and then we have to move it to another directory, is there a way to do that without making 2 copies of the files because the files can be as large as 25 gb so can cause disk space issues, we were thinking something like atomic move which would help move the files one at a time without using 2x space</p>\n"},{"tags":["java","apache-camel","quarkus"],"comments":[{"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"score":0,"creation_date":1664379510,"post_id":73882325,"comment_id":130459682,"body_markdown":"That version of fuse looks really old. Might want to try a newer version. Also, instead of `camel-quartz`, try `camel-quartz-starter`.","body":"That version of fuse looks really old. Might want to try a newer version. Also, instead of <code>camel-quartz</code>, try <code>camel-quartz-starter</code>."},{"owner":{"account_id":21382922,"reputation":89,"user_id":15748526,"display_name":"coman"},"score":0,"creation_date":1664441130,"post_id":73882325,"comment_id":130473951,"body_markdown":"thanks for the reply but it still not working","body":"thanks for the reply but it still not working"}],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664871777,"creation_date":1664871777,"answer_id":73944989,"question_id":73882325,"body_markdown":"There is a conflict in Quartz version somewhere, indeed the version of `camel-quartz` that you use (2.23.2.fuse-7_11_0-00037-redhat-00001), expects Quartz v1 while you end up with Quartz v2 which causes the issue.\r\n\r\nYou have two ways to fix your problem:\r\n\r\n1. Keep on using Quartz v1\r\n\r\nIn that case, you will have to force the version of Quartz in your pom file by adding:\r\n\r\n```\r\n&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n      &lt;version&gt;1.8.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n```\r\n\r\n2. Switch to Quartz v2\r\n\r\nIn that case, you will have to change the `camel-quartz` artifact for `camel-quartz2-starter` as next:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    &lt;artifactId&gt;camel-quartz2-starter&lt;/artifactId&gt;\r\n    &lt;!-- use the same version as your Camel core version --&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen change the URI of the Quartz endpoint by specifying `quartz2` instead of `quartz` as next:\r\n\r\n```\r\npublic void configure() throws Exception {\r\n    from(&quot;quartz2://myname?cron=0+ *+ *+ ?+ *+ *&quot;)\r\n    .to(&quot;log:hello&quot;);\r\n}\r\n```\r\n\r\n---\r\n\r\nThe choice is up to you, but I would definitely recommend **switching to Quartz v2**.\r\n\r\n","title":"Simple Camel application doesn&#39;t work with the Quartz component","body":"<p>There is a conflict in Quartz version somewhere, indeed the version of <code>camel-quartz</code> that you use (2.23.2.fuse-7_11_0-00037-redhat-00001), expects Quartz v1 while you end up with Quartz v2 which causes the issue.</p>\n<p>You have two ways to fix your problem:</p>\n<ol>\n<li>Keep on using Quartz v1</li>\n</ol>\n<p>In that case, you will have to force the version of Quartz in your pom file by adding:</p>\n<pre><code>&lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n      &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n      &lt;version&gt;1.8.6&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Switch to Quartz v2</li>\n</ol>\n<p>In that case, you will have to change the <code>camel-quartz</code> artifact for <code>camel-quartz2-starter</code> as next:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-quartz2-starter&lt;/artifactId&gt;\n    &lt;!-- use the same version as your Camel core version --&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then change the URI of the Quartz endpoint by specifying <code>quartz2</code> instead of <code>quartz</code> as next:</p>\n<pre><code>public void configure() throws Exception {\n    from(&quot;quartz2://myname?cron=0+ *+ *+ ?+ *+ *&quot;)\n    .to(&quot;log:hello&quot;);\n}\n</code></pre>\n<hr />\n<p>The choice is up to you, but I would definitely recommend <strong>switching to Quartz v2</strong>.</p>\n"}],"owner":{"account_id":21382922,"reputation":89,"user_id":15748526,"display_name":"coman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73944989,"answer_count":1,"score":1,"last_activity_date":1664871958,"creation_date":1664371855,"question_id":73882325,"body_markdown":"I&#39;m trying to run a simple Camel route using Quartz component to schedule a job. In this example is like an hello word every minute.\r\n\r\nThis is the example route:  \r\n\r\n\r\n\tpublic void configure() throws Exception {\r\n\t\tfrom(&quot;quartz://myname?cron=0+ *+ *+ ?+ *+ *&quot;)\r\n\t\t.to(&quot;log:hello&quot;);\r\n\t}\r\n\r\nWhen I run the application I get the following error:\r\n\r\n\r\n     An attempt was made to call a method that does not exist. The attempt was made from \r\n     the following location:\r\n\r\n    org.apache.camel.component.quartz.QuartzComponent.createEndpoint(QuartzComponent.java:150)\r\n\r\n     The following method did not exist:\r\n\r\n    &#39;org.quartz.Trigger org.quartz.Scheduler.getTrigger(java.lang.String, java.lang.String)&#39;\r\n\r\n     The method&#39;s class, org.quartz.Scheduler, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/andre/.m2/repository/org/quartz-scheduler/quartz/2.3.2/quartz-2.3.2.jar!/org/quartz/Scheduler.class\r\n\r\n     The class hierarchy was loaded from the following locations:\r\n\r\n    org.quartz.Scheduler: file:/C:/Users/andre/.m2/repository/org/quartz-scheduler/quartz/2.3.2/quartz-2.3.2.jar\r\n\r\n\r\n     Action:\r\n\r\n     Correct the classpath of your application so that it contains a single, compatible \r\n     version of org.quartz.Scheduler\r\n\r\nBut actually I don&#39;t get how I should correct the classpath of my application.\r\nThis is the pom.xml: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.mycompany&lt;/groupId&gt;\r\n  &lt;artifactId&gt;camel-ose-springboot-xml&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;Fabric8 :: Quickstarts :: Spring-Boot :: Camel XML&lt;/name&gt;\r\n  &lt;description&gt;Spring Boot example running a Camel route defined in XML&lt;/description&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven-surefire-plugin.version&gt;2.22.2&lt;/maven-surefire-plugin.version&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven-compiler-plugin.version&gt;3.8.1&lt;/maven-compiler-plugin.version&gt;\r\n    &lt;docker.image.version&gt;1.9&lt;/docker.image.version&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;fuse.version&gt;7.11.0.fuse-sb2-7_11_0-00028-redhat-00001&lt;/fuse.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss.redhat-fuse&lt;/groupId&gt;\r\n        &lt;artifactId&gt;fuse-springboot-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;7.11.0.fuse-sb2-7_11_0-00028-redhat-00001&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n \r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n      &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    &lt;artifactId&gt;camel-quartz&lt;/artifactId&gt;\r\n    &lt;!-- use the same version as your Camel core version --&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;red-hat-ga-repository&lt;/id&gt;\r\n      &lt;url&gt;https://maven.repository.redhat.com/ga&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n  &lt;pluginRepositories&gt;\r\n    &lt;pluginRepository&gt;\r\n      &lt;id&gt;red-hat-ga-repository&lt;/id&gt;\r\n      &lt;url&gt;https://maven.repository.redhat.com/ga&lt;/url&gt;\r\n    &lt;/pluginRepository&gt;\r\n  &lt;/pluginRepositories&gt;\r\n  &lt;build&gt;\r\n    &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jboss.redhat-fuse&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${fuse.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;repackage&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;openshift&lt;/id&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jboss.redhat-fuse&lt;/groupId&gt;\r\n            &lt;artifactId&gt;openshift-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${fuse.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;resource&lt;/goal&gt;\r\n                  &lt;goal&gt;build&lt;/goal&gt;\r\n                  &lt;goal&gt;apply&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;enricher&gt;\r\n                &lt;excludes&gt;\r\n                  &lt;exclude&gt;fmp-openshift-route&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n              &lt;/enricher&gt;\r\n              &lt;resources&gt;\r\n                &lt;labels&gt;\r\n                  &lt;pod&gt;\r\n                    &lt;property&gt;\r\n                      &lt;name&gt;com.company&lt;/name&gt;\r\n                      &lt;value&gt;Red_Hat&lt;/value&gt;\r\n                    &lt;/property&gt;\r\n                    &lt;property&gt;\r\n                      &lt;name&gt;rht.prod_name&lt;/name&gt;\r\n                      &lt;value&gt;Red_Hat_Integration&lt;/value&gt;\r\n                    &lt;/property&gt;\r\n                    &lt;property&gt;\r\n                      &lt;name&gt;rht.prod_ver&lt;/name&gt;\r\n                      &lt;value&gt;7.9&lt;/value&gt;\r\n                    &lt;/property&gt;\r\n                    &lt;property&gt;\r\n                      &lt;name&gt;rht.comp&lt;/name&gt;\r\n                      &lt;value&gt;spring-boot-camel-xml&lt;/value&gt;\r\n                    &lt;/property&gt;\r\n                    &lt;property&gt;\r\n                      &lt;name&gt;rht.comp_ver&lt;/name&gt;\r\n                      &lt;value&gt;${fuse.bom.version}&lt;/value&gt;\r\n                    &lt;/property&gt;\r\n                  &lt;/pod&gt;\r\n                &lt;/labels&gt;\r\n              &lt;/resources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;properties&gt;\r\n        &lt;jkube.generator.from&gt;registry.redhat.io/fuse7/fuse-java-openshift-rhel8:${docker.image.version}&lt;/jkube.generator.from&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;java11&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;jdk&gt;[11,)&lt;/jdk&gt;\r\n      &lt;/activation&gt;\r\n      &lt;properties&gt;\r\n        &lt;jkube.generator.from&gt;registry.redhat.io/fuse7/fuse-java-openshift-jdk11-rhel8:${docker.image.version}&lt;/jkube.generator.from&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;java17-build&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;jdk&gt;[17,)&lt;/jdk&gt;\r\n      &lt;/activation&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"Simple Camel application doesn&#39;t work with the Quartz component","body":"<p>I'm trying to run a simple Camel route using Quartz component to schedule a job. In this example is like an hello word every minute.</p>\n<p>This is the example route:</p>\n<pre><code>public void configure() throws Exception {\n    from(&quot;quartz://myname?cron=0+ *+ *+ ?+ *+ *&quot;)\n    .to(&quot;log:hello&quot;);\n}\n</code></pre>\n<p>When I run the application I get the following error:</p>\n<pre><code> An attempt was made to call a method that does not exist. The attempt was made from \n the following location:\n\norg.apache.camel.component.quartz.QuartzComponent.createEndpoint(QuartzComponent.java:150)\n\n The following method did not exist:\n\n'org.quartz.Trigger org.quartz.Scheduler.getTrigger(java.lang.String, java.lang.String)'\n\n The method's class, org.quartz.Scheduler, is available from the following locations:\n\njar:file:/C:/Users/andre/.m2/repository/org/quartz-scheduler/quartz/2.3.2/quartz-2.3.2.jar!/org/quartz/Scheduler.class\n\n The class hierarchy was loaded from the following locations:\n\norg.quartz.Scheduler: file:/C:/Users/andre/.m2/repository/org/quartz-scheduler/quartz/2.3.2/quartz-2.3.2.jar\n\n\n Action:\n\n Correct the classpath of your application so that it contains a single, compatible \n version of org.quartz.Scheduler\n</code></pre>\n<p>But actually I don't get how I should correct the classpath of my application.\nThis is the pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.mycompany&lt;/groupId&gt;\n  &lt;artifactId&gt;camel-ose-springboot-xml&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;Fabric8 :: Quickstarts :: Spring-Boot :: Camel XML&lt;/name&gt;\n  &lt;description&gt;Spring Boot example running a Camel route defined in XML&lt;/description&gt;\n  &lt;properties&gt;\n    &lt;maven-surefire-plugin.version&gt;2.22.2&lt;/maven-surefire-plugin.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven-compiler-plugin.version&gt;3.8.1&lt;/maven-compiler-plugin.version&gt;\n    &lt;docker.image.version&gt;1.9&lt;/docker.image.version&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;fuse.version&gt;7.11.0.fuse-sb2-7_11_0-00028-redhat-00001&lt;/fuse.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.redhat-fuse&lt;/groupId&gt;\n        &lt;artifactId&gt;fuse-springboot-bom&lt;/artifactId&gt;\n        &lt;version&gt;7.11.0.fuse-sb2-7_11_0-00028-redhat-00001&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n \n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n      &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-quartz&lt;/artifactId&gt;\n    &lt;!-- use the same version as your Camel core version --&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;red-hat-ga-repository&lt;/id&gt;\n      &lt;url&gt;https://maven.repository.redhat.com/ga&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n  &lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n      &lt;id&gt;red-hat-ga-repository&lt;/id&gt;\n      &lt;url&gt;https://maven.repository.redhat.com/ga&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n  &lt;/pluginRepositories&gt;\n  &lt;build&gt;\n    &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.jboss.redhat-fuse&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${fuse.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;openshift&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.jboss.redhat-fuse&lt;/groupId&gt;\n            &lt;artifactId&gt;openshift-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${fuse.version}&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;resource&lt;/goal&gt;\n                  &lt;goal&gt;build&lt;/goal&gt;\n                  &lt;goal&gt;apply&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n              &lt;enricher&gt;\n                &lt;excludes&gt;\n                  &lt;exclude&gt;fmp-openshift-route&lt;/exclude&gt;\n                &lt;/excludes&gt;\n              &lt;/enricher&gt;\n              &lt;resources&gt;\n                &lt;labels&gt;\n                  &lt;pod&gt;\n                    &lt;property&gt;\n                      &lt;name&gt;com.company&lt;/name&gt;\n                      &lt;value&gt;Red_Hat&lt;/value&gt;\n                    &lt;/property&gt;\n                    &lt;property&gt;\n                      &lt;name&gt;rht.prod_name&lt;/name&gt;\n                      &lt;value&gt;Red_Hat_Integration&lt;/value&gt;\n                    &lt;/property&gt;\n                    &lt;property&gt;\n                      &lt;name&gt;rht.prod_ver&lt;/name&gt;\n                      &lt;value&gt;7.9&lt;/value&gt;\n                    &lt;/property&gt;\n                    &lt;property&gt;\n                      &lt;name&gt;rht.comp&lt;/name&gt;\n                      &lt;value&gt;spring-boot-camel-xml&lt;/value&gt;\n                    &lt;/property&gt;\n                    &lt;property&gt;\n                      &lt;name&gt;rht.comp_ver&lt;/name&gt;\n                      &lt;value&gt;${fuse.bom.version}&lt;/value&gt;\n                    &lt;/property&gt;\n                  &lt;/pod&gt;\n                &lt;/labels&gt;\n              &lt;/resources&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n      &lt;properties&gt;\n        &lt;jkube.generator.from&gt;registry.redhat.io/fuse7/fuse-java-openshift-rhel8:${docker.image.version}&lt;/jkube.generator.from&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;java11&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;jdk&gt;[11,)&lt;/jdk&gt;\n      &lt;/activation&gt;\n      &lt;properties&gt;\n        &lt;jkube.generator.from&gt;registry.redhat.io/fuse7/fuse-java-openshift-jdk11-rhel8:${docker.image.version}&lt;/jkube.generator.from&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;java17-build&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;jdk&gt;[17,)&lt;/jdk&gt;\n      &lt;/activation&gt;\n      &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n          &lt;version&gt;2.3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1664819555,"post_id":73938883,"comment_id":130553693,"body_markdown":"Welcome to Stack Overflow. It&#39;s really nice, that you show us your code but it would be even nicer, if you&#39;d add a question to your post. Please read [How to ask](https://stackoverflow.com/help/how-to-ask).","body":"Welcome to Stack Overflow. It&#39;s really nice, that you show us your code but it would be even nicer, if you&#39;d add a question to your post. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664871879,"creation_date":1664820446,"answer_id":73939229,"question_id":73938883,"body_markdown":"[`String::replace`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)) replaces every occurrence and therefore its use for your requirement is not right. You can use \r\n\r\n    text = text.substring(0, index) + str2 + text.substring(index + str.length());\r\n\r\nNote that `0 % 2==0`; therefore, if you want to replace the occurrence number second, fourth, sixth and so on, use `count % 2 != 0` in the inner `if` block. Also, increment `index` and `count` after processing the previous `index` and `count` values i.e. move the following after the inner `if` block:\r\n\r\n    count++;\r\n    index += str.length();\r\n\r\n\r\n**Demo**:\r\n\r\n    public class ExerciseString {\r\n        public static void main(String[] args) {\r\n            String s = &quot;Object-oriented programming is a programming language model organized around objects rather than \\&quot;actions\\&quot; and data rather than logic. Object-oriented programming blabla. Object-oriented programming bla.&quot;;\r\n            changeToOOP(s);\r\n        }\r\n    \r\n        static void changeToOOP(String text) {\r\n            String str = &quot;Object-oriented programming&quot;; // добавить игнорирование регистра\r\n            String str2 = &quot;OOP&quot;;\r\n    \r\n            int index = 0;\r\n            int count = 0;\r\n    \r\n            while (true) {\r\n                index = text.indexOf(str, index);\r\n                if (index != -1) {\r\n                    if (count % 2 != 0) {\r\n                        text = text.substring(0, index) + str2 + text.substring(index + str.length());\r\n                    }\r\n                    count++;\r\n                    index += str.length();\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n    \r\n            System.out.println(text);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n&gt; Object-oriented programming is a programming language model organized\r\n&gt; around objects rather than &quot;actions&quot; and data rather than logic. OOP\r\n&gt; blabla. Object-oriented programming bla.","title":"Replace every second occurency of a substring, Java","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>String::replace</code></a> replaces every occurrence and therefore its use for your requirement is not right. You can use</p>\n<pre><code>text = text.substring(0, index) + str2 + text.substring(index + str.length());\n</code></pre>\n<p>Note that <code>0 % 2==0</code>; therefore, if you want to replace the occurrence number second, fourth, sixth and so on, use <code>count % 2 != 0</code> in the inner <code>if</code> block. Also, increment <code>index</code> and <code>count</code> after processing the previous <code>index</code> and <code>count</code> values i.e. move the following after the inner <code>if</code> block:</p>\n<pre><code>count++;\nindex += str.length();\n</code></pre>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class ExerciseString {\n    public static void main(String[] args) {\n        String s = &quot;Object-oriented programming is a programming language model organized around objects rather than \\&quot;actions\\&quot; and data rather than logic. Object-oriented programming blabla. Object-oriented programming bla.&quot;;\n        changeToOOP(s);\n    }\n\n    static void changeToOOP(String text) {\n        String str = &quot;Object-oriented programming&quot;; // добавить игнорирование регистра\n        String str2 = &quot;OOP&quot;;\n\n        int index = 0;\n        int count = 0;\n\n        while (true) {\n            index = text.indexOf(str, index);\n            if (index != -1) {\n                if (count % 2 != 0) {\n                    text = text.substring(0, index) + str2 + text.substring(index + str.length());\n                }\n                count++;\n                index += str.length();\n            } else {\n                break;\n            }\n        }\n\n        System.out.println(text);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<blockquote>\n<p>Object-oriented programming is a programming language model organized\naround objects rather than &quot;actions&quot; and data rather than logic. OOP\nblabla. Object-oriented programming bla.</p>\n</blockquote>\n"}],"owner":{"account_id":17541154,"reputation":13,"user_id":12723298,"display_name":"Максим Заец"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73939229,"answer_count":1,"score":1,"last_activity_date":1664871879,"creation_date":1664818229,"question_id":73938883,"body_markdown":"Trying to replace every second occurence of &quot;Object-oriented programming&quot; substring in a given string &quot;text&quot;. I am a beginner in Java and the aim of the task is to use only String class methods.\r\nBelow is what I came up with so far. Thanks in advance for any help)\r\n\r\n```\r\npublic class ExerciseString {\r\n    public static void main(String[] args) {\r\n        String s = &quot;Object-oriented programming is a programming language model organized around objects rather than \\&quot;actions\\&quot; and data rather than logic. Object-oriented programming blabla. Object-oriented programming bla.&quot;;\r\n        changeToOOP(s);\r\n    }\r\n\r\n    static void changeToOOP (String text) {\r\n        String str = &quot;Object-oriented programming&quot;; // добавить игнорирование регистра\r\n        String str2 = &quot;OOP&quot;;\r\n\r\n        int index = 0;\r\n        int count = 0;\r\n\r\n        while (true) {\r\n            index = text.indexOf(str, index);\r\n\r\n            if (index != -1) {\r\n                count++;\r\n                index += str.length();\r\n\r\n                if (count % 2 == 0){\r\n                    text = text.replace(text.substring(index - str.length(), index), str2);\r\n                }\r\n\r\n            }  else {\r\n                break;\r\n            }\r\n        }\r\n\r\n        System.out.println(text);\r\n    }\r\n}\r\n```","title":"Replace every second occurency of a substring, Java","body":"<p>Trying to replace every second occurence of &quot;Object-oriented programming&quot; substring in a given string &quot;text&quot;. I am a beginner in Java and the aim of the task is to use only String class methods.\nBelow is what I came up with so far. Thanks in advance for any help)</p>\n<pre><code>public class ExerciseString {\n    public static void main(String[] args) {\n        String s = &quot;Object-oriented programming is a programming language model organized around objects rather than \\&quot;actions\\&quot; and data rather than logic. Object-oriented programming blabla. Object-oriented programming bla.&quot;;\n        changeToOOP(s);\n    }\n\n    static void changeToOOP (String text) {\n        String str = &quot;Object-oriented programming&quot;; // добавить игнорирование регистра\n        String str2 = &quot;OOP&quot;;\n\n        int index = 0;\n        int count = 0;\n\n        while (true) {\n            index = text.indexOf(str, index);\n\n            if (index != -1) {\n                count++;\n                index += str.length();\n\n                if (count % 2 == 0){\n                    text = text.replace(text.substring(index - str.length(), index), str2);\n                }\n\n            }  else {\n                break;\n            }\n        }\n\n        System.out.println(text);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664847845,"creation_date":1664847845,"answer_id":73942380,"question_id":73941890,"body_markdown":"In the interface class, please write one more method:\r\n\r\n     @Repository\r\n     public interface ProviderRepository extends JpaRepository&lt;Provider, Integer&gt;{\r\n     @Query(&quot;SELECT p.serie, p.name, p.status FROM Provider p ORDER BY p.status DESC, \r\n     p.name ASC&quot;)\r\n    public List&lt;Object[]&gt; sortByCondition();\r\n     }\r\nand then you can call it .\r\nI hope this answer helps you\r\n","title":"Is it possible to sort two columns in the same API as two different parameters?","body":"<p>In the interface class, please write one more method:</p>\n<pre><code> @Repository\n public interface ProviderRepository extends JpaRepository&lt;Provider, Integer&gt;{\n @Query(&quot;SELECT p.serie, p.name, p.status FROM Provider p ORDER BY p.status DESC, \n p.name ASC&quot;)\npublic List&lt;Object[]&gt; sortByCondition();\n }\n</code></pre>\n<p>and then you can call it .\nI hope this answer helps you</p>\n"},{"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664871727,"creation_date":1664871727,"answer_id":73944976,"question_id":73941890,"body_markdown":"If the columns for sorting are always the same, you can not transfer them from the controller:\r\n\r\n    public List&lt;Provider&gt; getSortingList() {\r\n       return providerRepository.findAll(Sort.by(Sort.Order.desc(&quot;activo&quot;), Sort.Order.asc(&quot;nombre&quot;)));\r\n    }\r\n\r\nIf you need the api client to set the sort order itself, you can do this:\r\n    \r\n    //don&#39;t confuse, need this one\r\n    import org.springframework.data.domain.Sort;\r\n\r\n    //in controller\r\n    @GetMapping(&quot;/&quot;)\r\n    private List&lt;Provider&gt; listProviders(Sort sort){\r\n        return providerService.getAllProviders(sort);\r\n    }\r\n\r\n    //in service\r\n    public List&lt;Provider&gt; getAllProviders(Sort sort) {\r\n        if (sort.isUnsorted()) {\r\n            sort = Sort.by(Sort.Order.desc(&quot;activo&quot;), Sort.Order.asc(&quot;nombre&quot;));\r\n        }\r\n        return providerRepository.findAll(sort);\r\n    }\r\n    \r\n    //then call it\r\n    curl http://localhost:8080/v1/providers?sort=activo,desc&amp;sort=nombre,asc\r\n","title":"Is it possible to sort two columns in the same API as two different parameters?","body":"<p>If the columns for sorting are always the same, you can not transfer them from the controller:</p>\n<pre><code>public List&lt;Provider&gt; getSortingList() {\n   return providerRepository.findAll(Sort.by(Sort.Order.desc(&quot;activo&quot;), Sort.Order.asc(&quot;nombre&quot;)));\n}\n</code></pre>\n<p>If you need the api client to set the sort order itself, you can do this:</p>\n<pre><code>//don't confuse, need this one\nimport org.springframework.data.domain.Sort;\n\n//in controller\n@GetMapping(&quot;/&quot;)\nprivate List&lt;Provider&gt; listProviders(Sort sort){\n    return providerService.getAllProviders(sort);\n}\n\n//in service\npublic List&lt;Provider&gt; getAllProviders(Sort sort) {\n    if (sort.isUnsorted()) {\n        sort = Sort.by(Sort.Order.desc(&quot;activo&quot;), Sort.Order.asc(&quot;nombre&quot;));\n    }\n    return providerRepository.findAll(sort);\n}\n\n//then call it\ncurl http://localhost:8080/v1/providers?sort=activo,desc&amp;sort=nombre,asc\n</code></pre>\n"}],"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73944976,"answer_count":2,"score":0,"last_activity_date":1664871727,"creation_date":1664841653,"question_id":73941890,"body_markdown":"I&#39;m trying to do this SQL sentence with **SpringBoot and JPArepository**: \r\n\r\n    SELECT serie, nombre, activo FROM proveedor ORDER BY activo desc, nombre asc;\r\n\r\nThis sentence works perfectly to sort the columns in PGADMIN, however, in springBoot I&#39;m only able to sort one of those columns passing it as a param in my endpoint API, my question is how can I pass this SQL sentence to springBoot and get to sort those two columns in the same request?\r\n\r\nHere is my code:  \r\nEntity:\r\n\r\n     import javax.persistence.Column;\r\n     import javax.persistence.Entity;\r\n     import javax.persistence.GeneratedValue;\r\n     import javax.persistence.GenerationType;\r\n     import javax.persistence.Id;\r\n     import javax.persistence.Table;\r\n     import lombok.Data;\r\n    /**\r\n     * Class that models the entity Proveedores as table of the database\r\n     * @author ssc\r\n     */\r\n     @Entity\r\n     @Table(name = &quot;proveedor&quot;)\r\n     @Data\r\n     public class Provider {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int serie;\r\n    \r\n    @Column(name = &quot;nombre&quot;)\r\n    private String name;\r\n    \r\n    @Column(name = &quot;identificacion&quot;)\r\n    private String identification; \r\n    \r\n    @Column(name = &quot;corte_ultima_factura&quot;)\r\n    private String dueDateLastBill; \r\n    \r\n    @Column(name = &quot;valor_ultima_factura&quot;)\r\n    private Double amountLastBill; // null, it needs wrapper to execute as double is primitive and won&#39;t accept nullables. \r\n    \r\n    @Column(name = &quot;direccion&quot;)\r\n    private String address;\r\n    \r\n    @Column(name = &quot;telefono&quot;)\r\n    private String cellphone;\r\n    \r\n    @Column(name = &quot;ciudad&quot;)\r\n    private String city;\r\n    \r\n    @Column(name = &quot;pais&quot;)\r\n    private String country;\r\n    \r\n    @Column(name = &quot;email&quot;)\r\n    private String emailAddress;\r\n    \r\n    @Column(name = &quot;persona_contacto&quot;)\r\n    private String contactPerson;\r\n    \r\n    @Column(name = &quot;periodo_facturacion&quot;)\r\n    private String billingPeriod;\r\n    \r\n    @Column(name = &quot;activo&quot;)\r\n    private boolean status;\r\n    \r\n    @Column(name = &quot;inicio_operacion&quot;)\r\n    private String operationStart;\r\n    \r\n    @Column(name = &quot;email2&quot;)\r\n    private String emailAddress2;\r\n    \r\n    @Column(name = &quot;email3&quot;)\r\n    private String emailAddress3;\r\n    \r\n    @Column(name = &quot;email4&quot;)\r\n    private String emailAddress4;\r\n    \r\n    @Column(name = &quot;email5&quot;)\r\n    private String emailAddress5;\r\n    \r\n    @Column(name = &quot;valor_mora&quot;)\r\n    private double overdueAmount;\r\n    \r\n    @Column(name = &quot;valor_mora_inicial&quot;)\r\n    private double initialOverdueAmount;\r\n    \r\n    @Column(name = &quot;fecha_mora_inicial&quot;)\r\n    private String initialOverdueDate;\r\n    \r\n    }\r\n\r\nREPOSITORY: I don&#39;t need to use pagination in this functionality so I&#39;m avoiding to go by that option\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    import com.ssc.test.cb3.model.Provider;\r\n    import java.util.List;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    //import org.springframework.data.repository.PagingAndSortingRepository;\r\n\r\n    /**\r\n     * Class that extends to the repository for database management queries with table \r\n       proveedor\r\n     * @author ssc\r\n     */\r\n     @Repository\r\n     public interface ProviderRepository extends JpaRepository&lt;Provider, Integer&gt;{\r\n    \r\n     }\r\n\r\nSERVICE:\r\n\r\n    package com.ssc.test.cb3.service;\r\n\r\n    import com.ssc.test.cb3.model.Provider;\r\n    import com.ssc.test.cb3.repository.ProviderRepository;\r\n    import java.util.List;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Sort;\r\n    //import org.springframework.data.domain.Page;\r\n    //import org.springframework.data.domain.Pageable;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    /**\r\n     * Class to prepare the services to be dispatched upon request regarding Providers.\r\n     * @author ssc\r\n     */\r\n\r\n    @Service\r\n    public class ProviderService {\r\n    \r\n    @Autowired\r\n    private ProviderRepository providerRepository;\r\n    \r\n    \r\n    /**\r\n     * Function to get all customers\r\n     * @return a complete list of customers\r\n     */\r\n    public List&lt;Provider&gt; getAllProviders() {\r\n        return providerRepository.findAll();\r\n    }\r\n    \r\n    /**\r\n     * Functionality to create a new provider\r\n     * @param provider receives an objet Provider to be saved on the database\r\n     * @return the action of saving the provider in the database. \r\n     */\r\n    public Provider createProvider(Provider provider){\r\n        return providerRepository.save(provider);\r\n    }\r\n    \r\n    /**\r\n     * Service to sort the list of providers\r\n     * @param sortBy represents whether the list will be sort ASCending or DEScending\r\n     * @return List sorted in ascending or descending order\r\n     */\r\n    public List&lt;Provider&gt; getSortingList(String column){\r\n       return providerRepository.findAll(Sort.by(Sort.Direction.DESC, column));\r\n    }\r\n    \r\n  }\r\n\r\nCONTROLLER:\r\n\r\n    package com.ssc.test.cb3.controller;\r\n    \r\n    import com.ssc.test.cb3.model.Provider;\r\n    import com.ssc.test.cb3.service.ProviderService;\r\n    import java.util.List;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    /**\r\n     * Class to handle REST services and APIs for the provider&#39;s class\r\n     * @author ssc\r\n     */\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/v1/providers&quot;)\r\n    @CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n    public class ProviderController {\r\n    \r\n    @Autowired\r\n    private ProviderService providerService;\r\n    \r\n    @GetMapping(&quot;/&quot;)\r\n    private ResponseEntity&lt;List&lt;Provider&gt;&gt; listProviders(){\r\n        return ResponseEntity.ok(providerService.getAllProviders());\r\n    }\r\n    \r\n    @GetMapping(&quot;/{column}&quot;)\r\n    private ResponseEntity&lt;List&lt;Provider&gt;&gt; listSortedProviders(@PathVariable String column){\r\n        return ResponseEntity.ok(providerService.getSortingList(column));\r\n    }\r\n    \r\n    @PostMapping(&quot;/provider&quot;)\r\n    private Provider saveProvider(@RequestBody Provider provider){\r\n        return providerService.createProvider(provider);\r\n    }\r\n }\r\n\r\nI would appreciate any assistance on this or maybe if is there a better way to do it, I&#39;m open to try it. Thank you!\r\n\r\n\r\n\r\n","title":"Is it possible to sort two columns in the same API as two different parameters?","body":"<p>I'm trying to do this SQL sentence with <strong>SpringBoot and JPArepository</strong>:</p>\n<pre><code>SELECT serie, nombre, activo FROM proveedor ORDER BY activo desc, nombre asc;\n</code></pre>\n<p>This sentence works perfectly to sort the columns in PGADMIN, however, in springBoot I'm only able to sort one of those columns passing it as a param in my endpoint API, my question is how can I pass this SQL sentence to springBoot and get to sort those two columns in the same request?</p>\n<p>Here is my code:<br />\nEntity:</p>\n<pre><code> import javax.persistence.Column;\n import javax.persistence.Entity;\n import javax.persistence.GeneratedValue;\n import javax.persistence.GenerationType;\n import javax.persistence.Id;\n import javax.persistence.Table;\n import lombok.Data;\n/**\n * Class that models the entity Proveedores as table of the database\n * @author ssc\n */\n @Entity\n @Table(name = &quot;proveedor&quot;)\n @Data\n public class Provider {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate int serie;\n\n@Column(name = &quot;nombre&quot;)\nprivate String name;\n\n@Column(name = &quot;identificacion&quot;)\nprivate String identification; \n\n@Column(name = &quot;corte_ultima_factura&quot;)\nprivate String dueDateLastBill; \n\n@Column(name = &quot;valor_ultima_factura&quot;)\nprivate Double amountLastBill; // null, it needs wrapper to execute as double is primitive and won't accept nullables. \n\n@Column(name = &quot;direccion&quot;)\nprivate String address;\n\n@Column(name = &quot;telefono&quot;)\nprivate String cellphone;\n\n@Column(name = &quot;ciudad&quot;)\nprivate String city;\n\n@Column(name = &quot;pais&quot;)\nprivate String country;\n\n@Column(name = &quot;email&quot;)\nprivate String emailAddress;\n\n@Column(name = &quot;persona_contacto&quot;)\nprivate String contactPerson;\n\n@Column(name = &quot;periodo_facturacion&quot;)\nprivate String billingPeriod;\n\n@Column(name = &quot;activo&quot;)\nprivate boolean status;\n\n@Column(name = &quot;inicio_operacion&quot;)\nprivate String operationStart;\n\n@Column(name = &quot;email2&quot;)\nprivate String emailAddress2;\n\n@Column(name = &quot;email3&quot;)\nprivate String emailAddress3;\n\n@Column(name = &quot;email4&quot;)\nprivate String emailAddress4;\n\n@Column(name = &quot;email5&quot;)\nprivate String emailAddress5;\n\n@Column(name = &quot;valor_mora&quot;)\nprivate double overdueAmount;\n\n@Column(name = &quot;valor_mora_inicial&quot;)\nprivate double initialOverdueAmount;\n\n@Column(name = &quot;fecha_mora_inicial&quot;)\nprivate String initialOverdueDate;\n\n}\n</code></pre>\n<p>REPOSITORY: I don't need to use pagination in this functionality so I'm avoiding to go by that option</p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport com.ssc.test.cb3.model.Provider;\nimport java.util.List;\nimport org.springframework.data.jpa.repository.Query;\n//import org.springframework.data.repository.PagingAndSortingRepository;\n\n/**\n * Class that extends to the repository for database management queries with table \n   proveedor\n * @author ssc\n */\n @Repository\n public interface ProviderRepository extends JpaRepository&lt;Provider, Integer&gt;{\n\n }\n</code></pre>\n<p>SERVICE:</p>\n<pre><code>package com.ssc.test.cb3.service;\n\nimport com.ssc.test.cb3.model.Provider;\nimport com.ssc.test.cb3.repository.ProviderRepository;\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Sort;\n//import org.springframework.data.domain.Page;\n//import org.springframework.data.domain.Pageable;\nimport org.springframework.stereotype.Service;\n\n/**\n * Class to prepare the services to be dispatched upon request regarding Providers.\n * @author ssc\n */\n\n@Service\npublic class ProviderService {\n\n@Autowired\nprivate ProviderRepository providerRepository;\n\n\n/**\n * Function to get all customers\n * @return a complete list of customers\n */\npublic List&lt;Provider&gt; getAllProviders() {\n    return providerRepository.findAll();\n}\n\n/**\n * Functionality to create a new provider\n * @param provider receives an objet Provider to be saved on the database\n * @return the action of saving the provider in the database. \n */\npublic Provider createProvider(Provider provider){\n    return providerRepository.save(provider);\n}\n\n/**\n * Service to sort the list of providers\n * @param sortBy represents whether the list will be sort ASCending or DEScending\n * @return List sorted in ascending or descending order\n */\npublic List&lt;Provider&gt; getSortingList(String column){\n   return providerRepository.findAll(Sort.by(Sort.Direction.DESC, column));\n}\n</code></pre>\n<p>}</p>\n<p>CONTROLLER:</p>\n<pre><code>package com.ssc.test.cb3.controller;\n\nimport com.ssc.test.cb3.model.Provider;\nimport com.ssc.test.cb3.service.ProviderService;\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n/**\n * Class to handle REST services and APIs for the provider's class\n * @author ssc\n */\n\n@RestController\n@RequestMapping(&quot;/v1/providers&quot;)\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\npublic class ProviderController {\n\n@Autowired\nprivate ProviderService providerService;\n\n@GetMapping(&quot;/&quot;)\nprivate ResponseEntity&lt;List&lt;Provider&gt;&gt; listProviders(){\n    return ResponseEntity.ok(providerService.getAllProviders());\n}\n\n@GetMapping(&quot;/{column}&quot;)\nprivate ResponseEntity&lt;List&lt;Provider&gt;&gt; listSortedProviders(@PathVariable String column){\n    return ResponseEntity.ok(providerService.getSortingList(column));\n}\n\n@PostMapping(&quot;/provider&quot;)\nprivate Provider saveProvider(@RequestBody Provider provider){\n    return providerService.createProvider(provider);\n}\n</code></pre>\n<p>}</p>\n<p>I would appreciate any assistance on this or maybe if is there a better way to do it, I'm open to try it. Thank you!</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1664553865,"post_id":73909919,"comment_id":130505892,"body_markdown":"Try  adding the widgets to the update list. And use 2.0.27.","body":"Try  adding the widgets to the update list. And use 2.0.27."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1664554583,"post_id":73909919,"comment_id":130506124,"body_markdown":"If it doesn&#39;t work, please share source and updated PDF.","body":"If it doesn&#39;t work, please share source and updated PDF."},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1664557029,"post_id":73909919,"comment_id":130506809,"body_markdown":"Adding widgets to update list and upgraded to 2.0.27. Did not work . Updated the code above. I will share source and pdf in sometime. Thank you","body":"Adding widgets to update list and upgraded to 2.0.27. Did not work . Updated the code above. I will share source and pdf in sometime. Thank you"},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1664775255,"post_id":73909919,"comment_id":130540483,"body_markdown":"Added Sample files above [Sample Files](https://github.com/nofelkad/pdf-sample)","body":"Added Sample files above <a href=\"https://github.com/nofelkad/pdf-sample\" rel=\"nofollow noreferrer\">Sample Files</a>"},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1664860510,"post_id":73909919,"comment_id":130561043,"body_markdown":"Thank you K J for your input . My bad,  i did not set appearance on widget. Doing so it renders on all viewers","body":"Thank you K J for your input . My bad,  i did not set appearance on widget. Doing so it renders on all viewers"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1664871366,"post_id":73909919,"comment_id":130563673,"body_markdown":"Then you should either delete the question or answer it yourself please.","body":"Then you should either delete the question or answer it yourself please."}],"answers":[{"tags":[],"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664871563,"creation_date":1664871563,"answer_id":73944947,"question_id":73909919,"body_markdown":"Adding appearance to widget resolved the issue.\r\n\r\n            PDAppearanceDictionary pdAppearanceDictionary = new PDAppearanceDictionary();\r\n            widget1.setAppearance(pdAppearanceDictionary);\r\n            pdAppearanceDictionary.setNormalAppearance(new PDAppearanceStream(document));","title":"PDFBOX - saveIncremental does not work with Multi widget form","body":"<p>Adding appearance to widget resolved the issue.</p>\n<pre><code>        PDAppearanceDictionary pdAppearanceDictionary = new PDAppearanceDictionary();\n        widget1.setAppearance(pdAppearanceDictionary);\n        pdAppearanceDictionary.setNormalAppearance(new PDAppearanceStream(document));\n</code></pre>\n"}],"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73944947,"answer_count":1,"score":1,"last_activity_date":1664871563,"creation_date":1664546327,"question_id":73909919,"body_markdown":"I have a PDTextField with two widgets. Setting value with saveIncremental does not work.\r\n\r\nPDFBox Version - 2.0.24\r\n\r\nCode to add PDTextField  with multiple widgets with fill. Form fields in saved file disappear.\r\nI tried without objectsToWrite but it did not work.\r\n\r\nMy Sample Code:              \r\n\r\n        try (FileOutputStream output = new FileOutputStream(&quot;src/main/resources/Sample_form.pdf&quot;);\r\n             PDDocument document = PDDocument.load(new File(&quot;src/main/resources/Sample.pdf&quot;))) {\r\n\r\n            PDFont font = PDType1Font.HELVETICA;\r\n            PDResources resources = new PDResources();\r\n            resources.put(COSName.HELV, font);\r\n\r\n            PDAcroForm acroForm = new PDAcroForm(document);\r\n            document.getDocumentCatalog().setAcroForm(acroForm);\r\n            acroForm.setDefaultResources(resources);\r\n            String defaultAppearanceString = &quot;/Helv 0 Tf 0 g&quot;;\r\n            acroForm.setDefaultAppearance(defaultAppearanceString);\r\n\r\n            PDTextField textBox = new PDTextField(acroForm);\r\n            textBox.setPartialName(&quot;SampleFieldMultiwidget&quot;);\r\n\r\n            defaultAppearanceString = &quot;/Helv 12 Tf 0 0 1 rg&quot;;\r\n            textBox.setDefaultAppearance(defaultAppearanceString);\r\n\r\n            acroForm.getFields().add(textBox);\r\n            PDPage page1=document.getPage(0);\r\n            PDPage page2=document.getPage(1);\r\n\r\n            PDAnnotationWidget widget1 = new PDAnnotationWidget();\r\n            PDRectangle rect = new PDRectangle(50, 750, 250, 50);\r\n            widget1.setRectangle(rect);\r\n            widget1.setPage(page1);\r\n            widget1.setParent(textBox);\r\n\r\n            PDAnnotationWidget widget2 = new PDAnnotationWidget();\r\n            PDRectangle rect2 = new PDRectangle(200, 650, 100, 50);\r\n            widget2.setRectangle(rect2);\r\n            widget2.setPage(page2);\r\n            widget2.setParent(textBox);\r\n\r\n            List&lt;PDAnnotationWidget&gt; widgets = new ArrayList&lt;&gt;();\r\n            widgets.add(widget1);\r\n            widgets.add(widget2);\r\n            textBox.setWidgets(widgets);\r\n\r\n            widget1.setPrinted(true);\r\n            widget2.setPrinted(true);\r\n\r\n            page1.getAnnotations().add(widget1);\r\n            page2.getAnnotations().add(widget2);\r\n\r\n            document.save(output);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\nAnd this for filling \r\n\r\n      try (FileOutputStream output = new FileOutputStream(&quot;src/main/resources/Sample_form_filled.pdf&quot;);\r\n             PDDocument document = PDDocument.load(new File(&quot;src/main/resources/Sample_form.pdf&quot;))) {\r\n            PDAcroForm acroForm = document.getDocumentCatalog().getAcroForm();\r\n\r\n            PDTextField field = (PDTextField)acroForm.getField(&quot;SampleFieldMultiwidget&quot;);\r\n            field.setValue(&quot;Sample Value&quot;);\r\n            field.setReadOnly(true);\r\n\r\n            COSDictionary fieldDictionary = field.getCOSObject();\r\n            fieldDictionary.setNeedToBeUpdated(true);\r\n\r\n            COSArray cosArray = (COSArray)field.getCOSObject().getDictionaryObject(COSName.KIDS);\r\n            cosArray.setNeedToBeUpdated(true);\r\n\r\n            for (int i = 0; i &lt; cosArray.size(); i++) {\r\n                COSObject cosObject = (COSObject) cosArray.get(i);\r\n                COSDictionary dictionary = (COSDictionary) cosObject.getDictionaryObject(COSName.AP);\r\n                dictionary.setNeedToBeUpdated(true);\r\n                COSStream stream = (COSStream) dictionary.getDictionaryObject(COSName.N);\r\n                stream.setNeedToBeUpdated(true);\r\n\r\n                COSDictionary dictionary2 = (COSDictionary) cosObject.getDictionaryObject(COSName.PARENT);\r\n                while (dictionary2 != null) {\r\n                    dictionary2.setNeedToBeUpdated(true);\r\n                    dictionary2 = (COSDictionary) dictionary2.getDictionaryObject(COSName.PARENT);\r\n                }\r\n            }\r\n            Set&lt;COSDictionary&gt; objectsToWrite = new HashSet&lt;&gt;();\r\n            for (PDPage pdPage: document.getPages()) {\r\n                objectsToWrite.add(pdPage.getCOSObject());\r\n                objectsToWrite.add(field.getCOSObject());\r\n            }\r\n           //Added - post comment\r\n                objectsToWrite.add(field.getWidgets().get(0).getAppearance().getCOSObject());\r\n                objectsToWrite.add((COSDictionary) field.getWidgets().get(0).getAppearance().getNormalAppearance().getCOSObject());\r\n                objectsToWrite.add(field.getWidgets().get(1).getAppearance().getCOSObject());\r\n                objectsToWrite.add((COSDictionary) field.getWidgets().get(1).getAppearance().getNormalAppearance().getCOSObject());\r\n            document.saveIncremental(output,objectsToWrite);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n  \r\n\r\n\r\nWhat do I miss? Thanks!\r\n\r\nAdded.\r\n\r\n[Sample Files][1]\r\n\r\n\r\n  [1]: https://github.com/nofelkad/pdf-sample\r\n\r\nUpdate:\r\n It is resolved. I missed setting widget appearance. Now renders on all viewers.\r\n\r\nThank you","title":"PDFBOX - saveIncremental does not work with Multi widget form","body":"<p>I have a PDTextField with two widgets. Setting value with saveIncremental does not work.</p>\n<p>PDFBox Version - 2.0.24</p>\n<p>Code to add PDTextField  with multiple widgets with fill. Form fields in saved file disappear.\nI tried without objectsToWrite but it did not work.</p>\n<p>My Sample Code:</p>\n<pre><code>    try (FileOutputStream output = new FileOutputStream(&quot;src/main/resources/Sample_form.pdf&quot;);\n         PDDocument document = PDDocument.load(new File(&quot;src/main/resources/Sample.pdf&quot;))) {\n\n        PDFont font = PDType1Font.HELVETICA;\n        PDResources resources = new PDResources();\n        resources.put(COSName.HELV, font);\n\n        PDAcroForm acroForm = new PDAcroForm(document);\n        document.getDocumentCatalog().setAcroForm(acroForm);\n        acroForm.setDefaultResources(resources);\n        String defaultAppearanceString = &quot;/Helv 0 Tf 0 g&quot;;\n        acroForm.setDefaultAppearance(defaultAppearanceString);\n\n        PDTextField textBox = new PDTextField(acroForm);\n        textBox.setPartialName(&quot;SampleFieldMultiwidget&quot;);\n\n        defaultAppearanceString = &quot;/Helv 12 Tf 0 0 1 rg&quot;;\n        textBox.setDefaultAppearance(defaultAppearanceString);\n\n        acroForm.getFields().add(textBox);\n        PDPage page1=document.getPage(0);\n        PDPage page2=document.getPage(1);\n\n        PDAnnotationWidget widget1 = new PDAnnotationWidget();\n        PDRectangle rect = new PDRectangle(50, 750, 250, 50);\n        widget1.setRectangle(rect);\n        widget1.setPage(page1);\n        widget1.setParent(textBox);\n\n        PDAnnotationWidget widget2 = new PDAnnotationWidget();\n        PDRectangle rect2 = new PDRectangle(200, 650, 100, 50);\n        widget2.setRectangle(rect2);\n        widget2.setPage(page2);\n        widget2.setParent(textBox);\n\n        List&lt;PDAnnotationWidget&gt; widgets = new ArrayList&lt;&gt;();\n        widgets.add(widget1);\n        widgets.add(widget2);\n        textBox.setWidgets(widgets);\n\n        widget1.setPrinted(true);\n        widget2.setPrinted(true);\n\n        page1.getAnnotations().add(widget1);\n        page2.getAnnotations().add(widget2);\n\n        document.save(output);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<p>And this for filling</p>\n<pre><code>  try (FileOutputStream output = new FileOutputStream(&quot;src/main/resources/Sample_form_filled.pdf&quot;);\n         PDDocument document = PDDocument.load(new File(&quot;src/main/resources/Sample_form.pdf&quot;))) {\n        PDAcroForm acroForm = document.getDocumentCatalog().getAcroForm();\n\n        PDTextField field = (PDTextField)acroForm.getField(&quot;SampleFieldMultiwidget&quot;);\n        field.setValue(&quot;Sample Value&quot;);\n        field.setReadOnly(true);\n\n        COSDictionary fieldDictionary = field.getCOSObject();\n        fieldDictionary.setNeedToBeUpdated(true);\n\n        COSArray cosArray = (COSArray)field.getCOSObject().getDictionaryObject(COSName.KIDS);\n        cosArray.setNeedToBeUpdated(true);\n\n        for (int i = 0; i &lt; cosArray.size(); i++) {\n            COSObject cosObject = (COSObject) cosArray.get(i);\n            COSDictionary dictionary = (COSDictionary) cosObject.getDictionaryObject(COSName.AP);\n            dictionary.setNeedToBeUpdated(true);\n            COSStream stream = (COSStream) dictionary.getDictionaryObject(COSName.N);\n            stream.setNeedToBeUpdated(true);\n\n            COSDictionary dictionary2 = (COSDictionary) cosObject.getDictionaryObject(COSName.PARENT);\n            while (dictionary2 != null) {\n                dictionary2.setNeedToBeUpdated(true);\n                dictionary2 = (COSDictionary) dictionary2.getDictionaryObject(COSName.PARENT);\n            }\n        }\n        Set&lt;COSDictionary&gt; objectsToWrite = new HashSet&lt;&gt;();\n        for (PDPage pdPage: document.getPages()) {\n            objectsToWrite.add(pdPage.getCOSObject());\n            objectsToWrite.add(field.getCOSObject());\n        }\n       //Added - post comment\n            objectsToWrite.add(field.getWidgets().get(0).getAppearance().getCOSObject());\n            objectsToWrite.add((COSDictionary) field.getWidgets().get(0).getAppearance().getNormalAppearance().getCOSObject());\n            objectsToWrite.add(field.getWidgets().get(1).getAppearance().getCOSObject());\n            objectsToWrite.add((COSDictionary) field.getWidgets().get(1).getAppearance().getNormalAppearance().getCOSObject());\n        document.saveIncremental(output,objectsToWrite);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<p>What do I miss? Thanks!</p>\n<p>Added.</p>\n<p><a href=\"https://github.com/nofelkad/pdf-sample\" rel=\"nofollow noreferrer\">Sample Files</a></p>\n<p>Update:\nIt is resolved. I missed setting widget appearance. Now renders on all viewers.</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","hibernate","jpa","exception"],"answers":[{"tags":[],"owner":{"account_id":6203035,"reputation":82,"user_id":4832118,"display_name":"mohsen_true"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664871512,"creation_date":1664871512,"answer_id":73944938,"question_id":72748786,"body_markdown":"In order to solve this problem you have two options. You can choose either of which . \r\n1- you must have all you entity classes declared in you hibernate configuration file.\r\nfor this you must add you entity classes specially &quot;Cliente&quot; in hibernate.cfg.xml file\r\nlike this :\r\n\r\n`&lt;mapping class=&quot;entity.Client&quot;/&gt;` \r\n\r\nor \r\n\r\n2-another way is adding this entity to session configuration like this :\r\n\r\n\r\n`SessionFactory factory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;)\r\n                                            .addAnnotatedClass(Cliente.class)\r\n                                            .buildSessionFactory();`\r\n\r\n\r\n","title":"Unable to locate persister","body":"<p>In order to solve this problem you have two options. You can choose either of which .\n1- you must have all you entity classes declared in you hibernate configuration file.\nfor this you must add you entity classes specially &quot;Cliente&quot; in hibernate.cfg.xml file\nlike this :</p>\n<p><code>&lt;mapping class=&quot;entity.Client&quot;/&gt;</code></p>\n<p>or</p>\n<p>2-another way is adding this entity to session configuration like this :</p>\n<p><code>SessionFactory factory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;) .addAnnotatedClass(Cliente.class) .buildSessionFactory();</code></p>\n"}],"owner":{"account_id":23804864,"reputation":19,"user_id":17814553,"display_name":"Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73944938,"answer_count":1,"score":1,"last_activity_date":1664871512,"creation_date":1656100144,"question_id":72748786,"body_markdown":"I have the following problem when i try to do the findCliente method. I have the class Cliente in the package model and when i run the findCliente controller I get this exception here. I don&#39;t know where I&#39;m wrong because I don&#39;t have much skill with JPA and Spring Suite. Can someone tell me how to fix this exception?\r\n\r\nException\r\n    \r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalArgumentException: Unable to locate persister: it.myshop.orm.model.Cliente\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    Root Cause\r\n    \r\n    java.lang.IllegalArgumentException: Unable to locate persister: it.myshop.orm.model.Cliente\r\n    \torg.hibernate.internal.SessionImpl.find(SessionImpl.java:3416)\r\n    \torg.hibernate.internal.SessionImpl.find(SessionImpl.java:3357)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:498)\r\n    \torg.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\r\n    \tcom.sun.proxy.$Proxy41.find(Unknown Source)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:498)\r\n    \torg.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n    \tcom.sun.proxy.$Proxy41.find(Unknown Source)\r\n    \tit.myshop.orm.impl.ClienteServiceImpl.getById(ClienteServiceImpl.java:23)\r\n    \tit.myshop.orm.controller.ClienteController.findCliente(ClienteController.java:37)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:498)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    Root Cause\r\n    \r\n    org.hibernate.UnknownEntityTypeException: Unable to locate persister: it.myshop.orm.model.Cliente\r\n    \torg.hibernate.metamodel.internal.MetamodelImpl.locateEntityPersister(MetamodelImpl.java:727)\r\n    \torg.hibernate.internal.SessionImpl.locateEntityPersister(SessionImpl.java:3019)\r\n    \torg.hibernate.internal.SessionImpl.access$1800(SessionImpl.java:201)\r\n    \torg.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2715)\r\n    \torg.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2698)\r\n    \torg.hibernate.internal.SessionImpl.byId(SessionImpl.java:1180)\r\n    \torg.hibernate.internal.SessionImpl.find(SessionImpl.java:3380)\r\n    \torg.hibernate.internal.SessionImpl.find(SessionImpl.java:3357)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:498)\r\n    \torg.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\r\n    \tcom.sun.proxy.$Proxy41.find(Unknown Source)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:498)\r\n    \torg.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n    \tcom.sun.proxy.$Proxy41.find(Unknown Source)\r\n    \tit.myshop.orm.impl.ClienteServiceImpl.getById(ClienteServiceImpl.java:23)\r\n    \tit.myshop.orm.controller.ClienteController.findCliente(ClienteController.java:37)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:498)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\r\nAppConfig\r\n\r\n    package it.myshop.orm.config;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.orm.jpa.vendor.Database;\r\n    import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n    import org.springframework.web.servlet.ViewResolver;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n    import org.springframework.web.servlet.view.JstlView;\r\n    import org.springframework.web.servlet.view.freemarker.FreeMarkerConfig;\r\n    import org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer;\r\n    import org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver;\r\n    \r\n    import it.myshop.orm.dao.ClienteService;\r\n    import it.myshop.orm.impl.ClienteServiceImpl;\r\n    \r\n    @EnableWebMvc\r\n    @Configuration\r\n    @ComponentScan(&quot;it.myshop.orm.controller&quot;)\r\n    public class AppConfig {\r\n    \t\r\n    \t\r\n    \t@Bean\r\n    \tpublic ViewResolver getViewResolver() {\r\n    \t\t\r\n    \t\tInternalResourceViewResolver iwv = new InternalResourceViewResolver();\r\n    \t\tiwv.setPrefix(&quot;/WEB-INF/view/&quot;);\r\n    \t\tiwv.setSuffix(&quot;.jsp&quot;);\r\n    \t\tiwv.setViewClass(JstlView.class);\r\n    \t\t\r\n    \t\treturn iwv;\r\n    \t}\r\n\t\r\n\t\r\n\t//BEAN CONNESSIONE AL DB\r\n\t@Bean\r\n\tpublic DataSource getDbConnection() {\r\n\t\t\r\n\t\tDriverManagerDataSource ds = new DriverManagerDataSource();\r\n\t\tds.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\tds.setUrl(&quot;jdbc:mysql://localhost:3306/corso-spring-ud?serverTimezone=CET&quot;);\r\n\t\tds.setUsername(&quot;root&quot;);\r\n\t\t\r\n\t\treturn ds;\r\n\t}\r\n\r\n\t\r\n\t@Bean\r\n\tpublic LocalContainerEntityManagerFactoryBean getEntityManager() {\r\n\t\r\n\tHibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\r\n\tadapter.setDatabase(Database.MYSQL);\r\n\tadapter.setGenerateDdl(true); \r\n\t\r\n\tLocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n\tfactory.setDataSource(getDbConnection());\r\n\tfactory.setJpaVendorAdapter(adapter); //passo adapter\r\n\tfactory.setPackagesToScan(getClass().getPackage().getName()); \r\n\t\r\n\treturn factory;\r\n\t\r\n\t}\r\n\t\r\n\t\r\n\t@Bean\r\n\tpublic ClienteService getClienteServiceImpl() {\r\n\t\treturn new ClienteServiceImpl();\r\n\t}\r\n\r\n\r\nApp Initializer\r\n\r\n    package it.myshop.orm.config;\r\n    \r\n    import org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n    \r\n    import it.myshop.orm.config.AppConfig;\r\n    \r\n    public class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    \r\n    \t@Override\r\n    \tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn new Class&lt;?&gt;[] {AppConfig.class};\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected String[] getServletMappings() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn new String[] {&quot;/&quot;};\r\n    \t}\r\n    \r\n    }\r\n\r\nClienteController\r\n\r\n    package it.myshop.orm.controller;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    import it.myshop.orm.dao.ClienteService;\r\n    import it.myshop.orm.impl.ClienteServiceImpl;\r\n    import it.myshop.orm.model.Cliente;\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/cliente&quot;)\r\n    public class ClienteController {\r\n    \t\r\n    \t\r\n    \t@Autowired\r\n    \tprivate ClienteService cs;\r\n    \r\n    \t@ResponseBody\r\n    \t@GetMapping(&quot;/add&quot;)\r\n    \tpublic String add() {\r\n    \t\t\r\n    //\t\tcs.add(null);\r\n    \t\tSystem.out.println(&quot;Sei nella pagina di aggiunta&quot;);\r\n    \t\t\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t@ResponseBody\r\n    \t@GetMapping(&quot;/findCliente&quot;)\r\n    \tpublic String findCliente() {\r\n    \t\t\r\n    \t\tCliente c = cs.getById(1);\r\n    \t\tSystem.out.println(&quot;Sei nella pagina di find del Cliente&quot;);\r\n    \t\t\r\n    \t\treturn c.getNome() + &quot; &quot; + c.getCognome();\r\n    \t}\r\n\r\nCliente\r\n\r\n    package it.myshop.orm.model;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;cliente&quot;)\r\n    public class Cliente {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column\r\n    \tprivate String nome;\r\n    \t@Column\r\n    \tprivate String cognome;\r\n    \t@Column\r\n    \tprivate String codiceFiscale;\r\n    \t@Column\r\n    \tprivate String email;\r\n    \t@Column\r\n    \tprivate String telefono;\r\n    \t@Column\r\n    \tprivate String username;\r\n    \t@Column\r\n    \tprivate String password;\r\n    \t\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getNome() {\r\n    \t\treturn nome;\r\n    \t}\r\n    \tpublic void setNome(String nome) {\r\n    \t\tthis.nome = nome;\r\n    \t}\r\n    \tpublic String getCognome() {\r\n    \t\treturn cognome;\r\n    \t}\r\n    \tpublic void setCognome(String cognome) {\r\n    \t\tthis.cognome = cognome;\r\n    \t}\r\n    \tpublic String getCodiceFiscale() {\r\n    \t\treturn codiceFiscale;\r\n    \t}\r\n    \tpublic void setCodiceFiscale(String codiceFiscale) {\r\n    \t\tthis.codiceFiscale = codiceFiscale;\r\n    \t}\r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \tpublic String getTelefono() {\r\n    \t\treturn telefono;\r\n    \t}\r\n    \tpublic void setTelefono(String telefono) {\r\n    \t\tthis.telefono = telefono;\r\n    \t}\r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    }\r\n\r\nInterface ClienteService\r\n\r\n    package it.myshop.orm.dao;\r\n    \r\n    import it.myshop.orm.model.Cliente;\r\n    \r\n    public interface ClienteService {\r\n    \r\n    \tpublic Cliente add(Cliente c);\r\n    \t\r\n    \tpublic Cliente getById(int id);\r\n    }\r\n\r\nClienteServiceImpl\r\n\r\n    package it.myshop.orm.impl;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    \r\n    import it.myshop.orm.dao.ClienteService;\r\n    import it.myshop.orm.model.Cliente;\r\n    \r\n    public class ClienteServiceImpl implements ClienteService {\r\n    \r\n    \t\r\n    \t@PersistenceContext\r\n    \tpublic EntityManager em;\r\n    \t\r\n    \t@Override\r\n    \tpublic Cliente add(Cliente c) {\r\n    \t\tem.persist(c);\r\n    \t\treturn c;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Cliente getById(int id) {\r\n    \t\treturn em.find(Cliente.class, id);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Unable to locate persister","body":"<p>I have the following problem when i try to do the findCliente method. I have the class Cliente in the package model and when i run the findCliente controller I get this exception here. I don't know where I'm wrong because I don't have much skill with JPA and Spring Suite. Can someone tell me how to fix this exception?</p>\n<p>Exception</p>\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalArgumentException: Unable to locate persister: it.myshop.orm.model.Cliente\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nRoot Cause\n\njava.lang.IllegalArgumentException: Unable to locate persister: it.myshop.orm.model.Cliente\n    org.hibernate.internal.SessionImpl.find(SessionImpl.java:3416)\n    org.hibernate.internal.SessionImpl.find(SessionImpl.java:3357)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:498)\n    org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\n    com.sun.proxy.$Proxy41.find(Unknown Source)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:498)\n    org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    com.sun.proxy.$Proxy41.find(Unknown Source)\n    it.myshop.orm.impl.ClienteServiceImpl.getById(ClienteServiceImpl.java:23)\n    it.myshop.orm.controller.ClienteController.findCliente(ClienteController.java:37)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:498)\n    org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nRoot Cause\n\norg.hibernate.UnknownEntityTypeException: Unable to locate persister: it.myshop.orm.model.Cliente\n    org.hibernate.metamodel.internal.MetamodelImpl.locateEntityPersister(MetamodelImpl.java:727)\n    org.hibernate.internal.SessionImpl.locateEntityPersister(SessionImpl.java:3019)\n    org.hibernate.internal.SessionImpl.access$1800(SessionImpl.java:201)\n    org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2715)\n    org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2698)\n    org.hibernate.internal.SessionImpl.byId(SessionImpl.java:1180)\n    org.hibernate.internal.SessionImpl.find(SessionImpl.java:3380)\n    org.hibernate.internal.SessionImpl.find(SessionImpl.java:3357)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:498)\n    org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\n    com.sun.proxy.$Proxy41.find(Unknown Source)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:498)\n    org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    com.sun.proxy.$Proxy41.find(Unknown Source)\n    it.myshop.orm.impl.ClienteServiceImpl.getById(ClienteServiceImpl.java:23)\n    it.myshop.orm.controller.ClienteController.findCliente(ClienteController.java:37)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:498)\n    org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n<p>AppConfig</p>\n<pre><code>package it.myshop.orm.config;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.Database;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\nimport org.springframework.web.servlet.view.JstlView;\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerConfig;\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer;\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver;\n\nimport it.myshop.orm.dao.ClienteService;\nimport it.myshop.orm.impl.ClienteServiceImpl;\n\n@EnableWebMvc\n@Configuration\n@ComponentScan(&quot;it.myshop.orm.controller&quot;)\npublic class AppConfig {\n    \n    \n    @Bean\n    public ViewResolver getViewResolver() {\n        \n        InternalResourceViewResolver iwv = new InternalResourceViewResolver();\n        iwv.setPrefix(&quot;/WEB-INF/view/&quot;);\n        iwv.setSuffix(&quot;.jsp&quot;);\n        iwv.setViewClass(JstlView.class);\n        \n        return iwv;\n    }\n\n\n//BEAN CONNESSIONE AL DB\n@Bean\npublic DataSource getDbConnection() {\n    \n    DriverManagerDataSource ds = new DriverManagerDataSource();\n    ds.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n    ds.setUrl(&quot;jdbc:mysql://localhost:3306/corso-spring-ud?serverTimezone=CET&quot;);\n    ds.setUsername(&quot;root&quot;);\n    \n    return ds;\n}\n\n\n@Bean\npublic LocalContainerEntityManagerFactoryBean getEntityManager() {\n\nHibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\nadapter.setDatabase(Database.MYSQL);\nadapter.setGenerateDdl(true); \n\nLocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\nfactory.setDataSource(getDbConnection());\nfactory.setJpaVendorAdapter(adapter); //passo adapter\nfactory.setPackagesToScan(getClass().getPackage().getName()); \n\nreturn factory;\n\n}\n\n\n@Bean\npublic ClienteService getClienteServiceImpl() {\n    return new ClienteServiceImpl();\n}\n</code></pre>\n<p>App Initializer</p>\n<pre><code>package it.myshop.orm.config;\n\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\nimport it.myshop.orm.config.AppConfig;\n\npublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        // TODO Auto-generated method stub\n        return new Class&lt;?&gt;[] {AppConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        // TODO Auto-generated method stub\n        return new String[] {&quot;/&quot;};\n    }\n\n}\n</code></pre>\n<p>ClienteController</p>\n<pre><code>package it.myshop.orm.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport it.myshop.orm.dao.ClienteService;\nimport it.myshop.orm.impl.ClienteServiceImpl;\nimport it.myshop.orm.model.Cliente;\n\n@Controller\n@RequestMapping(&quot;/cliente&quot;)\npublic class ClienteController {\n    \n    \n    @Autowired\n    private ClienteService cs;\n\n    @ResponseBody\n    @GetMapping(&quot;/add&quot;)\n    public String add() {\n        \n//      cs.add(null);\n        System.out.println(&quot;Sei nella pagina di aggiunta&quot;);\n        \n        return null;\n    }\n    \n    \n    \n    @ResponseBody\n    @GetMapping(&quot;/findCliente&quot;)\n    public String findCliente() {\n        \n        Cliente c = cs.getById(1);\n        System.out.println(&quot;Sei nella pagina di find del Cliente&quot;);\n        \n        return c.getNome() + &quot; &quot; + c.getCognome();\n    }\n</code></pre>\n<p>Cliente</p>\n<pre><code>package it.myshop.orm.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=&quot;cliente&quot;)\npublic class Cliente {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @Column\n    private String nome;\n    @Column\n    private String cognome;\n    @Column\n    private String codiceFiscale;\n    @Column\n    private String email;\n    @Column\n    private String telefono;\n    @Column\n    private String username;\n    @Column\n    private String password;\n    \n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getNome() {\n        return nome;\n    }\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n    public String getCognome() {\n        return cognome;\n    }\n    public void setCognome(String cognome) {\n        this.cognome = cognome;\n    }\n    public String getCodiceFiscale() {\n        return codiceFiscale;\n    }\n    public void setCodiceFiscale(String codiceFiscale) {\n        this.codiceFiscale = codiceFiscale;\n    }\n    public String getEmail() {\n        return email;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n    public String getTelefono() {\n        return telefono;\n    }\n    public void setTelefono(String telefono) {\n        this.telefono = telefono;\n    }\n    public String getUsername() {\n        return username;\n    }\n    public void setUsername(String username) {\n        this.username = username;\n    }\n    public String getPassword() {\n        return password;\n    }\n    public void setPassword(String password) {\n        this.password = password;\n    }\n}\n</code></pre>\n<p>Interface ClienteService</p>\n<pre><code>package it.myshop.orm.dao;\n\nimport it.myshop.orm.model.Cliente;\n\npublic interface ClienteService {\n\n    public Cliente add(Cliente c);\n    \n    public Cliente getById(int id);\n}\n</code></pre>\n<p>ClienteServiceImpl</p>\n<pre><code>package it.myshop.orm.impl;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n\nimport it.myshop.orm.dao.ClienteService;\nimport it.myshop.orm.model.Cliente;\n\npublic class ClienteServiceImpl implements ClienteService {\n\n    \n    @PersistenceContext\n    public EntityManager em;\n    \n    @Override\n    public Cliente add(Cliente c) {\n        em.persist(c);\n        return c;\n    }\n\n    @Override\n    public Cliente getById(int id) {\n        return em.find(Cliente.class, id);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","execution-time"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1664871514,"post_id":73944324,"comment_id":130563723,"body_markdown":"Don&#39;t see much different in my machine, e.g. I see \n`2 in t1`. \n`1 in t2`.","body":"Don&#39;t see much different in my machine, e.g. I see  <code>2 in t1</code>.  <code>1 in t2</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1664889198,"post_id":73944324,"comment_id":130569393,"body_markdown":"You are not waiting for the completion of the threads, hence you’re only measuring how long it takes *to start the threads*, which boils down to how long it takes to convert a lambda expression into a `Runnable`. Which can be longer for the first lambda expression as explained in [this answer](https://stackoverflow.com/a/34642063/2711488). However, if you fix the code to wait for the completion of the actual operation, you’re still not comparing similar operations. After the first replacement operation, there are no `E`s in the string.","body":"You are not waiting for the completion of the threads, hence you’re only measuring how long it takes <i>to start the threads</i>, which boils down to how long it takes to convert a lambda expression into a <code>Runnable</code>. Which can be longer for the first lambda expression as explained in <a href=\"https://stackoverflow.com/a/34642063/2711488\">this answer</a>. However, if you fix the code to wait for the completion of the actual operation, you’re still not comparing similar operations. After the first replacement operation, there are no <code>E</code>s in the string."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1664889314,"post_id":73944324,"comment_id":130569451,"body_markdown":"Recommended read [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/q/504103/2711488)","body":"Recommended read <a href=\"https://stackoverflow.com/q/504103/2711488\">How do I write a correct micro-benchmark in Java?</a>"}],"owner":{"account_id":26522663,"reputation":1,"user_id":20156091,"display_name":"Vishal Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664871309,"creation_date":1664868063,"question_id":73944324,"body_markdown":"Could some one explain why second thread taking much lesser time for same process\r\n\r\n\r\n```java\r\npublic class Main {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    final String[] test = {\r\n        &quot;YKWV57I4OYEBH1JMMLGDRTH66HO6OIOJHMLASA29WHPD5OOYMQY0URO05901PXAOQUU2KDIGWOTMX0YR7LBHE7Z6Z55R9GG8NWD13V70BRG5L70L65GHZFNI6ZEA349BHLDO3LQLNS6RGL9NQKMKK1KJ91AH68PKIGYM2Q772WWWAV20ZRYXUWCERXQUW8SF67OG4LEY19VPJ9ZXO9II8S39JRJTMOI9JW4CYYUGJ2YYWE7C6FTL71NJKLEACUUKW1O68P0EDMR3XGWJY1F6179Y87B7JCYBY35QEAI67YJQ944APUJX7SKD8DR9XIH6KB0V0TMLKPCNOSFIMSONH822GSKDGR3B05M1T9YK8RH7GPTQDVINR1SKG92OCMNW0GZNBV77JYOJ32O3CLJWCIZUQXUZAMEKQLCO8E47UCUV64U630GHAZ34M05QI7504ZR53KLSYSDKFQLE3JSZDKL4VLGY456LKND4Z49Y3QCED2YOSMHH7FVZGA1HXM&quot;};\r\n\r\n\r\n    long s= System.currentTimeMillis();\r\n    new Thread(() -&gt; {\r\n      test[0] = test[0].replaceAll(&quot;E&quot;,&quot;  11111  &quot;);\r\n      System.out.println(test[0]+&quot;  is test[0] for thread 1&quot;);\r\n    }).start();\r\n    long e= System.currentTimeMillis();\r\n    System.out.println(e-s + &quot; in t1&quot;);\r\n\r\n    long s1= System.currentTimeMillis();\r\n\r\n    new Thread(() -&gt; {\r\n      test[0] = test[0].replaceAll(&quot;E&quot;,&quot;  22222  &quot;);\r\n      System.out.println(test[0]+&quot;  is test[0] for thread 2&quot;);\r\n    }).start();\r\n\r\n    long e1= System.currentTimeMillis();\r\n\r\n\r\n\r\n    System.out.println(e1-s1 +&quot; in t2&quot;);\r\n\r\n  }\r\n}\r\n```","title":"Threads execution time","body":"<p>Could some one explain why second thread taking much lesser time for same process</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n  public static void main(String[] args) {\n\n    final String[] test = {\n        &quot;YKWV57I4OYEBH1JMMLGDRTH66HO6OIOJHMLASA29WHPD5OOYMQY0URO05901PXAOQUU2KDIGWOTMX0YR7LBHE7Z6Z55R9GG8NWD13V70BRG5L70L65GHZFNI6ZEA349BHLDO3LQLNS6RGL9NQKMKK1KJ91AH68PKIGYM2Q772WWWAV20ZRYXUWCERXQUW8SF67OG4LEY19VPJ9ZXO9II8S39JRJTMOI9JW4CYYUGJ2YYWE7C6FTL71NJKLEACUUKW1O68P0EDMR3XGWJY1F6179Y87B7JCYBY35QEAI67YJQ944APUJX7SKD8DR9XIH6KB0V0TMLKPCNOSFIMSONH822GSKDGR3B05M1T9YK8RH7GPTQDVINR1SKG92OCMNW0GZNBV77JYOJ32O3CLJWCIZUQXUZAMEKQLCO8E47UCUV64U630GHAZ34M05QI7504ZR53KLSYSDKFQLE3JSZDKL4VLGY456LKND4Z49Y3QCED2YOSMHH7FVZGA1HXM&quot;};\n\n\n    long s= System.currentTimeMillis();\n    new Thread(() -&gt; {\n      test[0] = test[0].replaceAll(&quot;E&quot;,&quot;  11111  &quot;);\n      System.out.println(test[0]+&quot;  is test[0] for thread 1&quot;);\n    }).start();\n    long e= System.currentTimeMillis();\n    System.out.println(e-s + &quot; in t1&quot;);\n\n    long s1= System.currentTimeMillis();\n\n    new Thread(() -&gt; {\n      test[0] = test[0].replaceAll(&quot;E&quot;,&quot;  22222  &quot;);\n      System.out.println(test[0]+&quot;  is test[0] for thread 2&quot;);\n    }).start();\n\n    long e1= System.currentTimeMillis();\n\n\n\n    System.out.println(e1-s1 +&quot; in t2&quot;);\n\n  }\n}\n</code></pre>\n"},{"tags":["java","php","json"],"comments":[{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1664871385,"post_id":73944887,"comment_id":130563679,"body_markdown":"`console.log(res.authorization_token)` ? Or you can do anything else you need to with that value.","body":"<code>console.log(res.authorization_token)</code> ? Or you can do anything else you need to with that value."},{"owner":{"account_id":3330224,"reputation":516,"user_id":2799341,"accept_rate":68,"display_name":"Ria"},"score":0,"creation_date":1664871600,"post_id":73944887,"comment_id":130563753,"body_markdown":"@ADyson thank you so much for your response is there a way I can print this on the page? just so I know I&#39;ve retrieved it ok (Just for testing I will remove that later","body":"@ADyson thank you so much for your response is there a way I can print this on the page? just so I know I&#39;ve retrieved it ok (Just for testing I will remove that later"},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":1,"creation_date":1664872087,"post_id":73944887,"comment_id":130563897,"body_markdown":"Of course you can. You can use any of the standard JS DOM manipulation functions. e.g. let&#39;s say you have a `&lt;div id=&quot;token&quot;&gt;` on the page somewhere, you could write `document.querySelector(&quot;#token&quot;).innerText = res.authorization_token;`, something like that.","body":"Of course you can. You can use any of the standard JS DOM manipulation functions. e.g. let&#39;s say you have a <code>&lt;div id=&quot;token&quot;&gt;</code> on the page somewhere, you could write <code>document.querySelector(&quot;#token&quot;).innerText = res.authorization_token;</code>, something like that."}],"owner":{"account_id":3330224,"reputation":516,"user_id":2799341,"accept_rate":68,"display_name":"Ria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664871233,"creation_date":1664871233,"question_id":73944887,"body_markdown":"I am trying to setup a payment authorisation however I am stuck when I receive the call back as I cannot access the authotization_token\r\n\r\nThis is my code\r\n\r\n    $uname = &#39;myusrname&#39;;\r\n        $pass = &#39;mypassw&#39;;\r\n        $auth = base64_encode($uname . &quot;:&quot; . $pass);\r\n    \r\n    $url = &quot;https://api.playground.klarna.com/payments/v1/sessions&quot;;\r\n    $curl = curl_init($url);\r\n    curl_setopt($curl, CURLOPT_URL, $url);\r\n    curl_setopt($curl, CURLOPT_POST, true);\r\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\r\n    $headers = array(\r\n       &quot;Authorization: Basic $auth&quot;,\r\n       &quot;Content-Type: application/json&quot;,\r\n    );\r\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\r\n    $data = &lt;&lt;&lt;DATA\r\n    {\r\n      &quot;purchase_country&quot;: &quot;GB&quot;,\r\n      &quot;purchase_currency&quot;: &quot;GBP&quot;,\r\n      &quot;locale&quot;: &quot;en-GB&quot;,\r\n      &quot;order_amount&quot;: 10,\r\n      &quot;order_tax_amount&quot;: 0,\r\n      &quot;order_lines&quot;: [{\r\n        &quot;type&quot;: &quot;physical&quot;,\r\n        &quot;reference&quot;: &quot;19-402&quot;,\r\n        &quot;name&quot;: &quot;Battery Power Pack&quot;,\r\n        &quot;quantity&quot;: 1,\r\n        &quot;unit_price&quot;: 10,\r\n        &quot;tax_rate&quot;: 0,\r\n        &quot;total_amount&quot;: 10,\r\n        &quot;total_tax_amount&quot;: 0\r\n      }]\r\n    }\r\n    DATA;\r\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $data);\r\n    //for debug only!\r\n    curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, false);\r\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\r\n    $resp = curl_exec($curl);\r\n    curl_close($curl);\r\n    var_dump($resp);\r\n    $result = json_decode($resp, true);\r\n        $session_id = $result[&#39;session_id&#39;];\r\n        $client_token = $result[&#39;client_token&#39;];\r\n        $Payment_method_categories= $result[&#39;payment_method_categories&#39;];\r\n\r\nThen I use the `$client_token`\r\n\r\nfor the following:\r\n\r\n   \r\n\r\n     &lt;script type=&quot;text/javascript&quot;&gt;\r\n        //The following method initializes the Klarna Payments JS library\r\n        \twindow.klarnaAsyncCallback = function () {\r\n        \t\tKlarna.Payments.init({ \r\n        \t\t\tclient_token: &#39;&lt;?php echo $client_token; ?&gt;&#39;\r\n        \t\t});\r\n        \t\tconsole.log(&quot;Payments initialized&quot;);\r\n        //The following method loads the payment_method_category in the container with the id of &#39;klarna_container&#39;\r\n        \t\tKlarna.Payments.load({\r\n            \tcontainer: &#39;#klarna_container&#39;,\r\n        \t\t\tpayment_method_category: &#39;&#39;\r\n        \t\t\t\r\n        \t  \t}, function (res) {\r\n        \t\t\t   console.log(&quot;Load function called&quot;)\r\n        \t    \t\tconsole.debug(res);\r\n        \t    });\r\n        \t};\r\n        \r\n        \r\n        \r\n        /*The following is the authorize function, which triggers Klarna to perform a risk assessment of the purchase \r\n          The successful response of this risk assessment is an authorization token, which in this example is logged in the console\r\n        */\r\n          $(function(){\r\n          \t$(&quot;button.authorize&quot;).on(&#39;click&#39;, function(){\r\n        \t\tKlarna.Payments.authorize({\r\n        \t  \t\tpayment_method_category: &#39;&#39;\r\n        \t\t\t \r\n        \t\t\t }, function(res) {\r\n        \t\t\t\tconsole.log(&quot;Response from the authorize call:&quot;)\r\n        \t\t\t \tconsole.log(res)\r\n        \t\t\t  \r\n        \t\t\t})\r\n        \t})\r\n          })\r\n        &lt;/script&gt;\r\n\r\nHere follows the page setup:\r\n\r\n    &lt;script src=&quot;https://x.klarnacdn.net/kp/lib/v1/api.js&quot; async&gt;&lt;/script&gt;\r\n    \r\n    &lt;div style=&quot;width: 500px; margin: auto; padding-top: 150px; padding-bottom: 30px;&quot;&gt;\r\n    \t&lt;img src=&quot;https://x.klarnacdn.net/payment-method/assets/badges/generic/klarna.svg&quot; style=&quot;width: 100px; margin: auto;&quot;&gt; \r\n    &lt;/div&gt;\r\n    \r\n    &lt;!--Klarna container--&gt;\r\n    &lt;div id=&quot;klarna_container&quot; style=&quot;width: 500px; margin: auto;&quot;&gt;&lt;/div&gt;\r\n    &lt;div style=&quot;width: 500px; margin: auto;&quot;&gt;\r\n    \t&lt;!--Button to trigger authorize call--&gt;\r\n    \t&lt;button class=&quot;authorize&quot; style=&quot;width: 500px; height: 50px; margin: auto;&quot;&gt;Continue to Klarna&lt;/button&gt;\r\n    &lt;/div&gt;\r\n\r\nOnce the data is handled by Klarna, it will send back the authorization token however I do not know how to access this, it is supposed to be a json but I have not much experience with is I understand it is in the consol.log(res) but how do I retrieve it to use in the next step? Is there a way to echo out the authorization_token? Sorry if this is very obvios however I have no idea how to get the token from this:\r\n\r\n`Response from the authorize call:` \r\n\r\n    Object { show_form: true, approved: true, finalize_required: false, authorization_token: &quot;mytoken&quot; }\r\n    ​\r\n    approved: true\r\n    ​\r\n    authorization_token: &quot;mytoken&quot;\r\n    ​\r\n    finalize_required: false\r\n    ​\r\n    show_form: true\r\n     \r\nAny help welcome again sorry if this is very obvios","title":"How to get a Authorization token from a callback response","body":"<p>I am trying to setup a payment authorisation however I am stuck when I receive the call back as I cannot access the authotization_token</p>\n<p>This is my code</p>\n<pre><code>$uname = 'myusrname';\n    $pass = 'mypassw';\n    $auth = base64_encode($uname . &quot;:&quot; . $pass);\n\n$url = &quot;https://api.playground.klarna.com/payments/v1/sessions&quot;;\n$curl = curl_init($url);\ncurl_setopt($curl, CURLOPT_URL, $url);\ncurl_setopt($curl, CURLOPT_POST, true);\ncurl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n$headers = array(\n   &quot;Authorization: Basic $auth&quot;,\n   &quot;Content-Type: application/json&quot;,\n);\ncurl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n$data = &lt;&lt;&lt;DATA\n{\n  &quot;purchase_country&quot;: &quot;GB&quot;,\n  &quot;purchase_currency&quot;: &quot;GBP&quot;,\n  &quot;locale&quot;: &quot;en-GB&quot;,\n  &quot;order_amount&quot;: 10,\n  &quot;order_tax_amount&quot;: 0,\n  &quot;order_lines&quot;: [{\n    &quot;type&quot;: &quot;physical&quot;,\n    &quot;reference&quot;: &quot;19-402&quot;,\n    &quot;name&quot;: &quot;Battery Power Pack&quot;,\n    &quot;quantity&quot;: 1,\n    &quot;unit_price&quot;: 10,\n    &quot;tax_rate&quot;: 0,\n    &quot;total_amount&quot;: 10,\n    &quot;total_tax_amount&quot;: 0\n  }]\n}\nDATA;\ncurl_setopt($curl, CURLOPT_POSTFIELDS, $data);\n//for debug only!\ncurl_setopt($curl, CURLOPT_SSL_VERIFYHOST, false);\ncurl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n$resp = curl_exec($curl);\ncurl_close($curl);\nvar_dump($resp);\n$result = json_decode($resp, true);\n    $session_id = $result['session_id'];\n    $client_token = $result['client_token'];\n    $Payment_method_categories= $result['payment_method_categories'];\n</code></pre>\n<p>Then I use the <code>$client_token</code></p>\n<p>for the following:</p>\n<pre><code> &lt;script type=&quot;text/javascript&quot;&gt;\n    //The following method initializes the Klarna Payments JS library\n        window.klarnaAsyncCallback = function () {\n            Klarna.Payments.init({ \n                client_token: '&lt;?php echo $client_token; ?&gt;'\n            });\n            console.log(&quot;Payments initialized&quot;);\n    //The following method loads the payment_method_category in the container with the id of 'klarna_container'\n            Klarna.Payments.load({\n            container: '#klarna_container',\n                payment_method_category: ''\n                \n            }, function (res) {\n                   console.log(&quot;Load function called&quot;)\n                    console.debug(res);\n            });\n        };\n    \n    \n    \n    /*The following is the authorize function, which triggers Klarna to perform a risk assessment of the purchase \n      The successful response of this risk assessment is an authorization token, which in this example is logged in the console\n    */\n      $(function(){\n        $(&quot;button.authorize&quot;).on('click', function(){\n            Klarna.Payments.authorize({\n                payment_method_category: ''\n                 \n                 }, function(res) {\n                    console.log(&quot;Response from the authorize call:&quot;)\n                    console.log(res)\n                  \n                })\n        })\n      })\n    &lt;/script&gt;\n</code></pre>\n<p>Here follows the page setup:</p>\n<pre><code>&lt;script src=&quot;https://x.klarnacdn.net/kp/lib/v1/api.js&quot; async&gt;&lt;/script&gt;\n\n&lt;div style=&quot;width: 500px; margin: auto; padding-top: 150px; padding-bottom: 30px;&quot;&gt;\n    &lt;img src=&quot;https://x.klarnacdn.net/payment-method/assets/badges/generic/klarna.svg&quot; style=&quot;width: 100px; margin: auto;&quot;&gt; \n&lt;/div&gt;\n\n&lt;!--Klarna container--&gt;\n&lt;div id=&quot;klarna_container&quot; style=&quot;width: 500px; margin: auto;&quot;&gt;&lt;/div&gt;\n&lt;div style=&quot;width: 500px; margin: auto;&quot;&gt;\n    &lt;!--Button to trigger authorize call--&gt;\n    &lt;button class=&quot;authorize&quot; style=&quot;width: 500px; height: 50px; margin: auto;&quot;&gt;Continue to Klarna&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Once the data is handled by Klarna, it will send back the authorization token however I do not know how to access this, it is supposed to be a json but I have not much experience with is I understand it is in the consol.log(res) but how do I retrieve it to use in the next step? Is there a way to echo out the authorization_token? Sorry if this is very obvios however I have no idea how to get the token from this:</p>\n<p><code>Response from the authorize call:</code></p>\n<pre><code>Object { show_form: true, approved: true, finalize_required: false, authorization_token: &quot;mytoken&quot; }\n​\napproved: true\n​\nauthorization_token: &quot;mytoken&quot;\n​\nfinalize_required: false\n​\nshow_form: true\n \n</code></pre>\n<p>Any help welcome again sorry if this is very obvios</p>\n"},{"tags":["java","regex","string","parentheses"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1664870389,"post_id":73944721,"comment_id":130563383,"body_markdown":"What have you tried already?","body":"What have you tried already?"},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1664870548,"post_id":73944721,"comment_id":130563421,"body_markdown":"Maybe `(\\w+)\\((\\d+(?:\\.\\d+)?|&quot;[^&quot;]*&quot;):(\\d+(?:\\.\\d+)?|&quot;[^&quot;]*&quot;)\\)`? See https://regex101.com/r/E4Z1pP/2","body":"Maybe <code>(\\w+)\\((\\d+(?:\\.\\d+)?|&quot;[^&quot;]*&quot;):(\\d+(?:\\.\\d+)?|&quot;[^&quot;]*&quot;)\\)</code>? See <a href=\"https://regex101.com/r/E4Z1pP/2\" rel=\"nofollow noreferrer\">regex101.com/r/E4Z1pP/2</a>"},{"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"score":0,"creation_date":1664870924,"post_id":73944721,"comment_id":130563538,"body_markdown":"@WiktorStribiżew thanks for helping me with the complex regex pattern.  Please make it as a  comment, then I will mark it as an answer.\n\nYours just need to have some escapes and it works.\n`(\\w+)\\((\\d+(?:\\.\\d+)?|\\&quot;[^\\&quot;]*\\&quot;):(\\d+(?:\\.\\d+)?|\\&quot;[^\\&quot;]*\\&quot;)\\)`\n\n https://regex101.com/r/fXqQTG/1","body":"@WiktorStribiżew thanks for helping me with the complex regex pattern.  Please make it as a  comment, then I will mark it as an answer.  Yours just need to have some escapes and it works. <code>(\\w+)\\((\\d+(?:\\.\\d+)?|\\&quot;[^\\&quot;]*\\&quot;):(\\d+(?:\\.\\d+)?|\\&quot;[^\\&quot;]*\\&quot;)&zwnj;&#8203;\\)</code>   <a href=\"https://regex101.com/r/fXqQTG/1\" rel=\"nofollow noreferrer\">regex101.com/r/fXqQTG/1</a>"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664871020,"creation_date":1664871020,"answer_id":73944848,"question_id":73944721,"body_markdown":"You can use\r\n```none\r\n(\\w+)\\((\\d+(?:\\.\\d+)?|\\&quot;[^\\&quot;]*\\&quot;):(\\d+(?:\\.\\d+)?|\\&quot;[^\\&quot;]*\\&quot;)\\)\r\n```\r\nSee the [regex demo][1].\r\n\r\nIn Java, it can be declared as:\r\n```java\r\nString regex = &quot;(\\\\w+)\\\\((\\\\d+(?:\\\\.\\\\d+)?|\\&quot;[^\\&quot;]*\\&quot;):(\\\\d+(?:\\\\.\\\\d+)?|\\&quot;[^\\&quot;]*\\&quot;)\\\\)&quot;;\r\n```\r\n*Details*:\r\n\r\n - `(\\w+)` - Group 1: one or more word chars\r\n - `\\(` - a `(` char\r\n - `(\\d+(?:\\.\\d+)?|\\&quot;[^\\&quot;]*\\&quot;)` - Group 2: one or more digits optionally followed with `.` and one or more digits, or `&quot;`, zero or more chars other than `&quot;` and then a `&quot;` char\r\n - `:` - a colon\r\n - `(\\d+(?:\\.\\d+)?|\\&quot;[^\\&quot;]*\\&quot;)` - Group 3: one or more digits optionally followed with `.` and one or more digits, or `&quot;`, zero or more chars other than `&quot;` and then a `&quot;` char\r\n - `\\)` - a `)` char\r\n\r\n  [1]: https://regex101.com/r/E4Z1pP/3","title":"Java - How to validate regex expression with multiple parentheses then extract the components from the string?","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>(\\w+)\\((\\d+(?:\\.\\d+)?|\\&quot;[^\\&quot;]*\\&quot;):(\\d+(?:\\.\\d+)?|\\&quot;[^\\&quot;]*\\&quot;)\\)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/E4Z1pP/3\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>In Java, it can be declared as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;(\\\\w+)\\\\((\\\\d+(?:\\\\.\\\\d+)?|\\&quot;[^\\&quot;]*\\&quot;):(\\\\d+(?:\\\\.\\\\d+)?|\\&quot;[^\\&quot;]*\\&quot;)\\\\)&quot;;\n</code></pre>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>(\\w+)</code> - Group 1: one or more word chars</li>\n<li><code>\\(</code> - a <code>(</code> char</li>\n<li><code>(\\d+(?:\\.\\d+)?|\\&quot;[^\\&quot;]*\\&quot;)</code> - Group 2: one or more digits optionally followed with <code>.</code> and one or more digits, or <code>&quot;</code>, zero or more chars other than <code>&quot;</code> and then a <code>&quot;</code> char</li>\n<li><code>:</code> - a colon</li>\n<li><code>(\\d+(?:\\.\\d+)?|\\&quot;[^\\&quot;]*\\&quot;)</code> - Group 3: one or more digits optionally followed with <code>.</code> and one or more digits, or <code>&quot;</code>, zero or more chars other than <code>&quot;</code> and then a <code>&quot;</code> char</li>\n<li><code>\\)</code> - a <code>)</code> char</li>\n</ul>\n"}],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73944848,"answer_count":1,"score":1,"last_activity_date":1664871020,"creation_date":1664870265,"question_id":73944721,"body_markdown":"I have an input string like:\r\n\r\n```\r\nabc(123:456),def(135.666:3434.777),ghi(&quot;2015-06-07T09:01:05&quot;:&quot;2015-07-08&quot;)\r\n```\r\nBasically, it is (naive idea with regex):\r\n\r\n```\r\n[a-zA-Z0-9]+(((number)|(quoted datetime)):((number)|(quoted datetime)))(,[a-zA-Z0-9]+(((number)|(quoted datetime)):((number)|(quoted datetime))))+?\r\n```\r\n\r\n\r\nHow can I make a regex pattern in Java to validate that the input string follows this pattern and then I can extract the values `[a-zA-Z0-9]+` and  `((number)|(quoted datetime)):((number)|(quoted datetime))` from them?\r\n","title":"Java - How to validate regex expression with multiple parentheses then extract the components from the string?","body":"<p>I have an input string like:</p>\n<pre><code>abc(123:456),def(135.666:3434.777),ghi(&quot;2015-06-07T09:01:05&quot;:&quot;2015-07-08&quot;)\n</code></pre>\n<p>Basically, it is (naive idea with regex):</p>\n<pre><code>[a-zA-Z0-9]+(((number)|(quoted datetime)):((number)|(quoted datetime)))(,[a-zA-Z0-9]+(((number)|(quoted datetime)):((number)|(quoted datetime))))+?\n</code></pre>\n<p>How can I make a regex pattern in Java to validate that the input string follows this pattern and then I can extract the values <code>[a-zA-Z0-9]+</code> and  <code>((number)|(quoted datetime)):((number)|(quoted datetime))</code> from them?</p>\n"},{"tags":["java","amazon-web-services","jar","talend"],"comments":[{"owner":{"account_id":20454171,"reputation":485,"user_id":15008233,"display_name":"shikida"},"score":0,"creation_date":1625228002,"post_id":68224909,"comment_id":120578356,"body_markdown":"I can&#39;t see any problem. Maybe this document can be useful https://devops4solutions.com/installation-of-tomcat-on-aws-ec2-linux-integration-with-jenkins/","body":"I can&#39;t see any problem. Maybe this document can be useful <a href=\"https://devops4solutions.com/installation-of-tomcat-on-aws-ec2-linux-integration-with-jenkins/\" rel=\"nofollow noreferrer\">devops4solutions.com/&hellip;</a>"},{"owner":{"account_id":21283863,"reputation":47,"user_id":15661861,"display_name":"JeremP"},"score":0,"creation_date":1625229946,"post_id":68224909,"comment_id":120579171,"body_markdown":"Yeah but this is for .war application. Talend only build .jar\nI found this to build a .war https://help.talend.com/r/sXztzFOIighK6zMvQQBj1w/8WEuVasHVS4GI8NKjLep3Q but I don&#39;t have this option in my Talend Open Studio","body":"Yeah but this is for .war application. Talend only build .jar I found this to build a .war <a href=\"https://help.talend.com/r/sXztzFOIighK6zMvQQBj1w/8WEuVasHVS4GI8NKjLep3Q\" rel=\"nofollow noreferrer\">help.talend.com/r/sXztzFOIighK6zMvQQBj1w/8WEuVasHVS4GI8NKjLe&zwnj;&#8203;p3Q</a> but I don&#39;t have this option in my Talend Open Studio"},{"owner":{"account_id":20454171,"reputation":485,"user_id":15008233,"display_name":"shikida"},"score":1,"creation_date":1625230211,"post_id":68224909,"comment_id":120579279,"body_markdown":"Maybe you you can create a war file with a single endpoint that runs your jar","body":"Maybe you you can create a war file with a single endpoint that runs your jar"},{"owner":{"account_id":21283863,"reputation":47,"user_id":15661861,"display_name":"JeremP"},"score":0,"creation_date":1625235383,"post_id":68224909,"comment_id":120581400,"body_markdown":"That could be indeed a very easy solution","body":"That could be indeed a very easy solution"}],"answers":[{"tags":[],"owner":{"account_id":8809828,"reputation":2512,"user_id":6583204,"display_name":"Corentin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664870385,"creation_date":1664870385,"answer_id":73944748,"question_id":68224909,"body_markdown":"You&#39;ll need to use talend open studio for ESB and use components like tRESTRequest and tRESTResponse as starting and ending component of your service. This will allow you to build them as kar file and deploy them in  container apache Karaf. \r\n","title":"Talend job as a webservice in cloud","body":"<p>You'll need to use talend open studio for ESB and use components like tRESTRequest and tRESTResponse as starting and ending component of your service. This will allow you to build them as kar file and deploy them in  container apache Karaf.</p>\n"}],"owner":{"account_id":21283863,"reputation":47,"user_id":15661861,"display_name":"JeremP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664870385,"creation_date":1625227555,"question_id":68224909,"body_markdown":"I have built a few Talend job using cloud application&#39;s API and I was wondering to build it as a webservice to put in the cloud like for example in AWS.\r\n\r\nFor standard Java application I&#39;m used to have the capability to build a .war and deploy it inside a Tomcat for example. But I can&#39;t find any proper documentation to build a talend Job as a webservice in 7.x (and AWS if someone has any clue what to do precisly !).\r\n\r\nThanks","title":"Talend job as a webservice in cloud","body":"<p>I have built a few Talend job using cloud application's API and I was wondering to build it as a webservice to put in the cloud like for example in AWS.</p>\n<p>For standard Java application I'm used to have the capability to build a .war and deploy it inside a Tomcat for example. But I can't find any proper documentation to build a talend Job as a webservice in 7.x (and AWS if someone has any clue what to do precisly !).</p>\n<p>Thanks</p>\n"},{"tags":["java","rest","sdk","ibm-mq","jms-topic"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1664880898,"post_id":73943914,"comment_id":130566620,"body_markdown":"Do you just want to publish or subscribe to a topic string,  or do you need to create s topic object?","body":"Do you just want to publish or subscribe to a topic string,  or do you need to create s topic object?"},{"owner":{"account_id":24214861,"reputation":9,"user_id":18170897,"display_name":"Shiva Subramaniam"},"score":0,"creation_date":1665119817,"post_id":73943914,"comment_id":130629132,"body_markdown":"I wanted to create a Topic object like the one mentioned below. thanks for your help @JoshMc","body":"I wanted to create a Topic object like the one mentioned below. thanks for your help @JoshMc"}],"answers":[{"tags":[],"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664870202,"creation_date":1664870202,"answer_id":73944713,"question_id":73943914,"body_markdown":"You can use the MQSC REST API to create a topic. For example - do a HTTP/S POST to your MQ WebServer URL: `http://&lt;MQ webserver host&gt;:&lt;port&gt;/ibmmq/rest/v3/admin/action/qmgr/&lt;qmname&gt;/mqsc` with the following body:\r\n\r\n    {\r\n      &quot;type&quot;: &quot;runCommand&quot;,\r\n      &quot;parameters&quot;: {\r\n        &quot;command&quot;: &quot;def topic(RESTTOPIC) topicstr(RESTTOPIC)&quot;\r\n      }\r\n    }\r\n\r\nThis will create a topic for you.\r\n\r\nStart your MQ WebServer using `strmqweb` and note down the REST API URL using `dspmqweb` command. Replace the URL in my example given above.\r\n\r\nSee [here][1] for more details.\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/ibm-mq/9.3?topic=adminactionqmgrqmgrnamemqsc-post-json-formatted-command","title":"IBM MQ - how to create a topic using REST API or SDK","body":"<p>You can use the MQSC REST API to create a topic. For example - do a HTTP/S POST to your MQ WebServer URL: <code>http://&lt;MQ webserver host&gt;:&lt;port&gt;/ibmmq/rest/v3/admin/action/qmgr/&lt;qmname&gt;/mqsc</code> with the following body:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;runCommand&quot;,\n  &quot;parameters&quot;: {\n    &quot;command&quot;: &quot;def topic(RESTTOPIC) topicstr(RESTTOPIC)&quot;\n  }\n}\n</code></pre>\n<p>This will create a topic for you.</p>\n<p>Start your MQ WebServer using <code>strmqweb</code> and note down the REST API URL using <code>dspmqweb</code> command. Replace the URL in my example given above.</p>\n<p>See <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=adminactionqmgrqmgrnamemqsc-post-json-formatted-command\" rel=\"nofollow noreferrer\">here</a> for more details.</p>\n"}],"owner":{"account_id":24214861,"reputation":9,"user_id":18170897,"display_name":"Shiva Subramaniam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664870202,"creation_date":1664865334,"question_id":73943914,"body_markdown":"There is a requirement to create a Topic in IBMMQ . I couldnt find any documentaion for creating a topic using rest-api or SDK . Kindly help to create a Topic in IBMMQ using REST API or Java SDK","title":"IBM MQ - how to create a topic using REST API or SDK","body":"<p>There is a requirement to create a Topic in IBMMQ . I couldnt find any documentaion for creating a topic using rest-api or SDK . Kindly help to create a Topic in IBMMQ using REST API or Java SDK</p>\n"},{"tags":["java","json-deserialization","json-serialization"],"answers":[{"tags":[],"owner":{"account_id":14619005,"reputation":33,"user_id":10558293,"display_name":"liyixin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541380547,"creation_date":1541380547,"answer_id":53147115,"question_id":49857531,"body_markdown":"I once had the same problem as you,and I add this setting to solve it.You may try this:\r\n\r\n    DslJson&lt;Object&gt; json = new DslJson&lt;&gt;(Settings.withRuntime().allowArrayFormat(true).includeServiceLoader());","title":"DSL-JSON: java.io.IOException: Unable to serialize provided object. Failed to find serializer for: class","body":"<p>I once had the same problem as you,and I add this setting to solve it.You may try this:</p>\n\n<pre><code>DslJson&lt;Object&gt; json = new DslJson&lt;&gt;(Settings.withRuntime().allowArrayFormat(true).includeServiceLoader());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4135644,"reputation":365,"user_id":3392380,"display_name":"Sodrul Amin Shaon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664869655,"creation_date":1664869655,"answer_id":73944605,"question_id":49857531,"body_markdown":"Please make sure you have added `dsl-json-processor` dependency in your pom file\r\n\r\nfor example\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.dslplatform/dsl-json-processor --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.dslplatform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dsl-json-processor&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"DSL-JSON: java.io.IOException: Unable to serialize provided object. Failed to find serializer for: class","body":"<p>Please make sure you have added <code>dsl-json-processor</code> dependency in your pom file</p>\n<p>for example</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.dslplatform/dsl-json-processor --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.dslplatform&lt;/groupId&gt;\n    &lt;artifactId&gt;dsl-json-processor&lt;/artifactId&gt;\n    &lt;version&gt;1.9.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8053096,"reputation":3420,"user_id":6071045,"accept_rate":32,"display_name":"Alessandro C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664869655,"creation_date":1523882146,"question_id":49857531,"body_markdown":"I&#39;m trying to use [DSL-JSON][1] running one of the examples.\r\n\r\nI&#39;m getting the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: Unable to serialize provided object. Failed to find serializer for: class dsl.test.Example$Model\r\n\t    at com.dslplatform.json.DslJson.serialize(DslJson.java:2718)\r\n\t    at dsl.test.Example.main(Example.java:231)\r\n\r\nI&#39;ve only added the dependency on my pom.xml:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.dslplatform&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;dsl-json&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;1.7.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nWhat&#39;s missing?\r\n\r\n  [1]: https://github.com/ngs-doo/dsl-json","title":"DSL-JSON: java.io.IOException: Unable to serialize provided object. Failed to find serializer for: class","body":"<p>I'm trying to use <a href=\"https://github.com/ngs-doo/dsl-json\" rel=\"nofollow noreferrer\">DSL-JSON</a> running one of the examples.</p>\n\n<p>I'm getting the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: Unable to serialize provided object. Failed to find serializer for: class dsl.test.Example$Model\n    at com.dslplatform.json.DslJson.serialize(DslJson.java:2718)\n    at dsl.test.Example.main(Example.java:231)\n</code></pre>\n\n<p>I've only added the dependency on my pom.xml:</p>\n\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.dslplatform&lt;/groupId&gt;\n      &lt;artifactId&gt;dsl-json&lt;/artifactId&gt;\n      &lt;version&gt;1.7.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>What's missing?</p>\n"},{"tags":["java","data-structures","garbage-collection","binary-tree"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664726194,"post_id":73927172,"comment_id":130532991,"body_markdown":"&quot;Clearing a tree&quot; is always(!) O(1) operation: `root = null;`! &#128521; (The rest is up to GC &#129394;)","body":"&quot;Clearing a tree&quot; is always(!) O(1) operation: <code>root = null;</code>! 😉 (The rest is up to GC 🥲)"},{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1664743459,"post_id":73927172,"comment_id":130536444,"body_markdown":"There are different strategies for implementing garbage collection and I&#39;m not aware of any Java language/JVM specs mandating use of a specific strategy (but I haven&#39;t researched this so I don&#39;t actually know). From my limited understanding of those approaches, all of them should support cleaning up the whole tree after your `clear1`. Writing up a high quality answer to this question would mean explaining all those garbage collectors (a lot of work!) _unless_ you specify in your question that you don&#39;t care to get an answer to that level of detail (which you haven&#39;t).","body":"There are different strategies for implementing garbage collection and I&#39;m not aware of any Java language/JVM specs mandating use of a specific strategy (but I haven&#39;t researched this so I don&#39;t actually know). From my limited understanding of those approaches, all of them should support cleaning up the whole tree after your <code>clear1</code>. Writing up a high quality answer to this question would mean explaining all those garbage collectors (a lot of work!) <i>unless</i> you specify in your question that you don&#39;t care to get an answer to that level of detail (which you haven&#39;t)."},{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1664743692,"post_id":73927172,"comment_id":130536481,"body_markdown":"Commentary on your code: you have a leaky abstraction: `Node.leftNode` and `Node.rightNode` are `public` and not `final`, which means anyone who can refer to them can change them. You probably don&#39;t want that because it means people can make the Nodes go out of sync with the `BinaryTree.size` and `BinaryTree.queue`. The same comment goes for `BinaryTree.size`, which is public and not final. To prevent those bad usages, make those fields private and expose them with getters instead.","body":"Commentary on your code: you have a leaky abstraction: <code>Node.leftNode</code> and <code>Node.rightNode</code> are <code>public</code> and not <code>final</code>, which means anyone who can refer to them can change them. You probably don&#39;t want that because it means people can make the Nodes go out of sync with the <code>BinaryTree.size</code> and <code>BinaryTree.queue</code>. The same comment goes for <code>BinaryTree.size</code>, which is public and not final. To prevent those bad usages, make those fields private and expose them with getters instead."},{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1664743919,"post_id":73927172,"comment_id":130536533,"body_markdown":"As an ammendment to my first comment about garbage collection, garbage collectors will not collect Nodes which are still being referenced by _anything_- not just other than parent nodes. So if you want Nodes to become defunct when the `BinaryTree` they belong to is `clear()`ed, then you _should_ use `clear2`.","body":"As an ammendment to my first comment about garbage collection, garbage collectors will not collect Nodes which are still being referenced by <i>anything</i>- not just other than parent nodes. So if you want Nodes to become defunct when the <code>BinaryTree</code> they belong to is <code>clear()</code>ed, then you <i>should</i> use <code>clear2</code>."},{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1664743922,"post_id":73927172,"comment_id":130536534,"body_markdown":"This shows that there are other considerations other than just garbage collection in the choice between `clear1` and `clear2`. Ie. should nodes belonging to a tree still hold useful information after the tree they belong to is cleared? That&#39;s for you to decide as the designer of your tree interface.","body":"This shows that there are other considerations other than just garbage collection in the choice between <code>clear1</code> and <code>clear2</code>. Ie. should nodes belonging to a tree still hold useful information after the tree they belong to is cleared? That&#39;s for you to decide as the designer of your tree interface."}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664813048,"creation_date":1664725596,"answer_id":73927200,"question_id":73927172,"body_markdown":"Use the first method.  There is no benefit to clear2 it just does a lot of useless work.\r\n\r\nEven if the GC did need to traverse the tree (which it generally does not), it wouldn&#39;t be doing any more work than your own code in clear2, so just do the minimal operation to update your tree and leave the GC to do it&#39;s job.  The GC code is some of the most optimized areas of the JVM, don&#39;t try to outsmart it.\r\n","title":"OOP Implementing Clear for Binary Tree - do all nodes need to disown their children for proper GC, or does only the root node need to be disowned?","body":"<p>Use the first method.  There is no benefit to clear2 it just does a lot of useless work.</p>\n<p>Even if the GC did need to traverse the tree (which it generally does not), it wouldn't be doing any more work than your own code in clear2, so just do the minimal operation to update your tree and leave the GC to do it's job.  The GC code is some of the most optimized areas of the JVM, don't try to outsmart it.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664869329,"creation_date":1664778837,"answer_id":73931856,"question_id":73927172,"body_markdown":"Just setting the `root` to `null` is the most efficient solution.\r\n\r\n&gt; I don&#39;t know whether the node that is not set to `null` will affect garbage collection.\r\n\r\nAssuming that nothing else has a reference to any of the `Node` objects (which should be the case if the code is implemented correctly), then setting `root` to `null` renders the entire tree of `Node` objects unreachable.  They will typically be collected in the next new space collection.\r\n\r\nTraversing the tree and clearing all of the references will achieve nothing, and will actually waste time.\r\n\r\n----------------------------\r\n\r\nFor all existing Java GC implementations (with the possible exception of some &quot;fall-back&quot; collectors) minimal work is actually performed on heap nodes that are not reachable.  The GC does not need to mark them, or visit them to check mark bits.  Instead, after copying all of the *reachable* objects out of the &quot;space&quot; being collected, it erases the rest by (effectively) writing zeros to the entire space&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nSince the unreachable tree is not going to be traversed, marked or looked at in any other way by the GC, any changes your code makes to the nodes in `clear2()` are pointless.  Indeed, such changes could hinder the GC.  For example, with G1GC the post-write barrier for the assignments could cause &quot;cards&quot; to be unnecessarily marked as dirty, delaying the collection of the objects that they cover.   \r\n\r\n----------------------------\r\n\r\n&lt;sup&gt;1 - Have you ever wondered why they defined the default values for primitive and reference fields to be `false` or zero and `null`?  One reason is because they are all represented as binary zeros.&lt;/sup&gt;\r\n\r\n","title":"OOP Implementing Clear for Binary Tree - do all nodes need to disown their children for proper GC, or does only the root node need to be disowned?","body":"<p>Just setting the <code>root</code> to <code>null</code> is the most efficient solution.</p>\n<blockquote>\n<p>I don't know whether the node that is not set to <code>null</code> will affect garbage collection.</p>\n</blockquote>\n<p>Assuming that nothing else has a reference to any of the <code>Node</code> objects (which should be the case if the code is implemented correctly), then setting <code>root</code> to <code>null</code> renders the entire tree of <code>Node</code> objects unreachable.  They will typically be collected in the next new space collection.</p>\n<p>Traversing the tree and clearing all of the references will achieve nothing, and will actually waste time.</p>\n<hr />\n<p>For all existing Java GC implementations (with the possible exception of some &quot;fall-back&quot; collectors) minimal work is actually performed on heap nodes that are not reachable.  The GC does not need to mark them, or visit them to check mark bits.  Instead, after copying all of the <em>reachable</em> objects out of the &quot;space&quot; being collected, it erases the rest by (effectively) writing zeros to the entire space<sup>1</sup>.</p>\n<p>Since the unreachable tree is not going to be traversed, marked or looked at in any other way by the GC, any changes your code makes to the nodes in <code>clear2()</code> are pointless.  Indeed, such changes could hinder the GC.  For example, with G1GC the post-write barrier for the assignments could cause &quot;cards&quot; to be unnecessarily marked as dirty, delaying the collection of the objects that they cover.</p>\n<hr />\n<p><sup>1 - Have you ever wondered why they defined the default values for primitive and reference fields to be <code>false</code> or zero and <code>null</code>?  One reason is because they are all represented as binary zeros.</sup></p>\n"}],"owner":{"account_id":18794005,"reputation":12,"user_id":13705885,"display_name":"段小言"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664869329,"creation_date":1664725422,"question_id":73927172,"body_markdown":"I wrote an example code about binary tree. Adding and traversing nodes to the binary tree both start from the root node. What should I do if I want to empty the whole binary tree? Use clear1 method or clear2 method? The clear1 method only sets the root node to null. The clear2 method traverses each node and then sets each node to null. It seems that both can achieve the goal of clearing. I don&#39;t know the difference between the two. If clear1 is used, I don&#39;t know whether the node that is not set to null will affect garbage collection\r\n\r\n    \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Queue;\r\n\r\n    public class BinaryTree&lt;T&gt; {\r\n\r\n    public int size;\r\n\r\n    public Node root;\r\n\r\n    private Queue&lt;Node&gt; queue;\r\n\r\n    public class Node {\r\n        public T value;\r\n        public Node leftNode;\r\n        public Node rightNode;\r\n\r\n        private Node(T value, Node leftNode, Node rightNode) {\r\n            this.value = value;\r\n            this.leftNode = leftNode;\r\n            this.rightNode = rightNode;\r\n        }\r\n    }\r\n\r\n\r\n    public void add(T addValue) {\r\n        Node node = new Node(addValue, null, null);\r\n        if (null == root) {\r\n            root = node;\r\n            queue = new LinkedList&lt;&gt;();\r\n            queue.offer(node);\r\n        } else {\r\n            Node queNode = queue.peek();\r\n            if (null == queNode.leftNode) {\r\n                queNode.leftNode = node;\r\n                queue.offer(queNode.leftNode);\r\n            } else if (null == queNode.rightNode) {\r\n                queNode.rightNode = node;\r\n                queue.poll();\r\n                queue.offer(queNode.rightNode);\r\n            }\r\n        }\r\n        size++;\r\n    }\r\n\r\n\r\n    /**\r\n     * Postorder Traversal\r\n     */\r\n    public List&lt;T&gt; postTraverse() {\r\n        return postTraverse(new ArrayList&lt;&gt;(), root);\r\n    }\r\n\r\n    private List&lt;T&gt; postTraverse(List&lt;T&gt; list, Node node) {\r\n        if (list.size() != size &amp;&amp; null != node) {\r\n            postTraverse(list, node.leftNode);\r\n            postTraverse(list, node.rightNode);\r\n            list.add(node.value);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    /**\r\n     * clear Binary Tree method1\r\n     */\r\n    public void clear1() {\r\n        queue = null;\r\n        size = 0;\r\n        root = null;\r\n    }\r\n\r\n    /**\r\n     * clear Binary Tree method2\r\n     */\r\n    public void clear2() {\r\n        queue = null;\r\n        clear2(root);\r\n        size = 0;\r\n    }\r\n\r\n    private void clear2(Node node) {\r\n        if (null != node) {\r\n            clear2(node.leftNode);\r\n            clear2(node.rightNode);\r\n            node = null;\r\n        }\r\n    }\r\n    }\r\ntest:\r\n\r\n     public static void main(String[] args) {\r\n        BinaryTree&lt;String&gt; binaryTree = new BinaryTree&lt;&gt;();\r\n        binaryTree.add(&quot;A&quot;);\r\n        binaryTree.add(&quot;B&quot;);\r\n        binaryTree.add(&quot;C&quot;);\r\n        binaryTree.add(&quot;D&quot;);\r\n        binaryTree.add(&quot;E&quot;);\r\n        binaryTree.add(&quot;F&quot;);\r\n        binaryTree.add(&quot;G&quot;);\r\n        binaryTree.add(&quot;H&quot;);\r\n        binaryTree.add(&quot;i&quot;);\r\n        binaryTree.add(&quot;j&quot;);\r\n        binaryTree.add(&quot;k&quot;);\r\n        binaryTree.add(&quot;L&quot;);\r\n        binaryTree.add(&quot;M&quot;);\r\n        binaryTree.add(&quot;N&quot;);\r\n        binaryTree.add(&quot;O&quot;);\r\n\r\n        System.out.println(binaryTree.postTraverse());\r\n        binaryTree.clear1();\r\n    }\r\n\r\n","title":"OOP Implementing Clear for Binary Tree - do all nodes need to disown their children for proper GC, or does only the root node need to be disowned?","body":"<p>I wrote an example code about binary tree. Adding and traversing nodes to the binary tree both start from the root node. What should I do if I want to empty the whole binary tree? Use clear1 method or clear2 method? The clear1 method only sets the root node to null. The clear2 method traverses each node and then sets each node to null. It seems that both can achieve the goal of clearing. I don't know the difference between the two. If clear1 is used, I don't know whether the node that is not set to null will affect garbage collection</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Queue;\n\npublic class BinaryTree&lt;T&gt; {\n\npublic int size;\n\npublic Node root;\n\nprivate Queue&lt;Node&gt; queue;\n\npublic class Node {\n    public T value;\n    public Node leftNode;\n    public Node rightNode;\n\n    private Node(T value, Node leftNode, Node rightNode) {\n        this.value = value;\n        this.leftNode = leftNode;\n        this.rightNode = rightNode;\n    }\n}\n\n\npublic void add(T addValue) {\n    Node node = new Node(addValue, null, null);\n    if (null == root) {\n        root = node;\n        queue = new LinkedList&lt;&gt;();\n        queue.offer(node);\n    } else {\n        Node queNode = queue.peek();\n        if (null == queNode.leftNode) {\n            queNode.leftNode = node;\n            queue.offer(queNode.leftNode);\n        } else if (null == queNode.rightNode) {\n            queNode.rightNode = node;\n            queue.poll();\n            queue.offer(queNode.rightNode);\n        }\n    }\n    size++;\n}\n\n\n/**\n * Postorder Traversal\n */\npublic List&lt;T&gt; postTraverse() {\n    return postTraverse(new ArrayList&lt;&gt;(), root);\n}\n\nprivate List&lt;T&gt; postTraverse(List&lt;T&gt; list, Node node) {\n    if (list.size() != size &amp;&amp; null != node) {\n        postTraverse(list, node.leftNode);\n        postTraverse(list, node.rightNode);\n        list.add(node.value);\n    }\n    return list;\n}\n\n/**\n * clear Binary Tree method1\n */\npublic void clear1() {\n    queue = null;\n    size = 0;\n    root = null;\n}\n\n/**\n * clear Binary Tree method2\n */\npublic void clear2() {\n    queue = null;\n    clear2(root);\n    size = 0;\n}\n\nprivate void clear2(Node node) {\n    if (null != node) {\n        clear2(node.leftNode);\n        clear2(node.rightNode);\n        node = null;\n    }\n}\n}\n</code></pre>\n<p>test:</p>\n<pre><code> public static void main(String[] args) {\n    BinaryTree&lt;String&gt; binaryTree = new BinaryTree&lt;&gt;();\n    binaryTree.add(&quot;A&quot;);\n    binaryTree.add(&quot;B&quot;);\n    binaryTree.add(&quot;C&quot;);\n    binaryTree.add(&quot;D&quot;);\n    binaryTree.add(&quot;E&quot;);\n    binaryTree.add(&quot;F&quot;);\n    binaryTree.add(&quot;G&quot;);\n    binaryTree.add(&quot;H&quot;);\n    binaryTree.add(&quot;i&quot;);\n    binaryTree.add(&quot;j&quot;);\n    binaryTree.add(&quot;k&quot;);\n    binaryTree.add(&quot;L&quot;);\n    binaryTree.add(&quot;M&quot;);\n    binaryTree.add(&quot;N&quot;);\n    binaryTree.add(&quot;O&quot;);\n\n    System.out.println(binaryTree.postTraverse());\n    binaryTree.clear1();\n}\n</code></pre>\n"},{"tags":["java","regex","complex-numbers"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1664864235,"post_id":73943751,"comment_id":130561712,"body_markdown":"You&#39;ve got `.*` at both the start and end. That means you&#39;ll accept *any* string that contains one of those characters somewhere in the string. Why do you have `.*` at all?","body":"You&#39;ve got <code>.*</code> at both the start and end. That means you&#39;ll accept <i>any</i> string that contains one of those characters somewhere in the string. Why do you have <code>.*</code> at all?"},{"owner":{"account_id":17592388,"reputation":3,"user_id":12763970,"display_name":"Mustafa Inayat"},"score":0,"creation_date":1664955854,"post_id":73943751,"comment_id":130584551,"body_markdown":"Yup this worked, removed the .* and now it only accepts the paranthessis now.. first it would accept any letter number or character before or after or anywhere in the input..","body":"Yup this worked, removed the .* and now it only accepts the paranthessis now.. first it would accept any letter number or character before or after or anywhere in the input.."},{"owner":{"account_id":17592388,"reputation":3,"user_id":12763970,"display_name":"Mustafa Inayat"},"score":0,"creation_date":1664956349,"post_id":73943751,"comment_id":130584671,"body_markdown":"however only removing this didn&#39;t work, i had to use + at the end. as one of the answers suggested below this worked perfectly ---&gt; &quot;^[\\\\(\\\\)\\\\[\\\\]\\\\{\\\\}]+$&quot;;","body":"however only removing this didn&#39;t work, i had to use + at the end. as one of the answers suggested below this worked perfectly ---&gt; &quot;^[\\&#40;\\&#41;\\&#91;\\&#93;\\\\{\\\\}]+$&quot;;"}],"answers":[{"tags":[],"owner":{"account_id":19377117,"reputation":44,"user_id":14169172,"display_name":"IVainqueur"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1664866305,"creation_date":1664865102,"answer_id":73943879,"question_id":73943751,"body_markdown":"**Edit**\r\n\r\nJava doesn&#39;t use `/`s to represent regex. So the fix would be:\r\n\r\n    String regex = &quot;^[\\{\\}\\(\\)\\[\\]]*$&quot;;\r\n    // The rest of the code\r\n\r\n**Original Answer**\r\n\r\nTry using this `/^[\\{\\}\\(\\)\\[\\]]*$/`","title":"Regex for accepting only Paranthesis in input","body":"<p><strong>Edit</strong></p>\n<p>Java doesn't use <code>/</code>s to represent regex. So the fix would be:</p>\n<pre><code>String regex = &quot;^[\\{\\}\\(\\)\\[\\]]*$&quot;;\n// The rest of the code\n</code></pre>\n<p><strong>Original Answer</strong></p>\n<p>Try using this <code>/^[\\{\\}\\(\\)\\[\\]]*$/</code></p>\n"},{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664869304,"creation_date":1664869304,"answer_id":73944536,"question_id":73943751,"body_markdown":"Since all of them `(`, `)`,`{`,`}`,`[`,`]` are special character in `regex`,you need to escape them by using `\\` in regex expresssion,  in order to archinve your golal, we can use `^[\\(\\)\\[\\]\\{\\}]+$` to do it\r\n\r\n[**Regex Demo**][1]\r\n\r\nIn java,the expression is as below:\r\n\r\n    String regex =&quot;^[\\\\(\\\\)\\\\[\\\\]\\\\{\\\\}]+$&quot;;\r\n\r\n\r\n  [1]: https://regex101.com/r/rb4BHM/1","title":"Regex for accepting only Paranthesis in input","body":"<p>Since all of them <code>(</code>, <code>)</code>,<code>{</code>,<code>}</code>,<code>[</code>,<code>]</code> are special character in <code>regex</code>,you need to escape them by using <code>\\</code> in regex expresssion,  in order to archinve your golal, we can use <code>^[\\(\\)\\[\\]\\{\\}]+$</code> to do it</p>\n<p><a href=\"https://regex101.com/r/rb4BHM/1\" rel=\"nofollow noreferrer\"><strong>Regex Demo</strong></a></p>\n<p>In java,the expression is as below:</p>\n<pre><code>String regex =&quot;^[\\\\(\\\\)\\\\[\\\\]\\\\{\\\\}]+$&quot;;\n</code></pre>\n"}],"owner":{"account_id":17592388,"reputation":3,"user_id":12763970,"display_name":"Mustafa Inayat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73944536,"answer_count":2,"score":0,"last_activity_date":1664869304,"creation_date":1664864083,"question_id":73943751,"body_markdown":"i want to write a Regex expression to accept only &quot;(&quot;, &quot;)&quot;,&quot;{&quot;,&quot;}&quot;,&quot;[&quot;,&quot;]&quot; these values in input, anything other then this should be invalid input. Here&#39;s my code:\r\n\r\n```    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \tString regex = &quot;^.*[\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]].*$&quot;;\r\n          //Reading input from user\r\n          Scanner sc = new Scanner(System.in);\r\n          System.out.println(&quot;Enter data: &quot;);\r\n          String input = sc.nextLine();\r\n          //Instantiating the Pattern class\r\n          Pattern pattern = Pattern.compile(regex);\r\n          //Instantiating the Matcher class\r\n          Matcher matcher = pattern.matcher(input);\r\n          //verifying whether a match occurred\r\n          if(matcher.find()) {\r\n             System.out.println(&quot;Input accepted&quot;);\r\n          }else {\r\n             System.out.println(&quot;Not accepted&quot;);\r\n    \t    }\r\n    \t}\r\n    }```\r\n\r\nI also tried String regex = &quot;^.[\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]]*.$&quot;, it doesn&#39;t work.\r\n\r\n{(}){(}) - Valid input\r\nP{())}}() - invalid input\r\n12{}() - invalid input\r\n.;/{{}) - invalid input\r\n{}}} - valid input","title":"Regex for accepting only Paranthesis in input","body":"<p>i want to write a Regex expression to accept only &quot;(&quot;, &quot;)&quot;,&quot;{&quot;,&quot;}&quot;,&quot;[&quot;,&quot;]&quot; these values in input, anything other then this should be invalid input. Here's my code:</p>\n<pre><code>    {\n        public static void main(String[] args) {\n        String regex = &quot;^.*[\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]].*$&quot;;\n          //Reading input from user\n          Scanner sc = new Scanner(System.in);\n          System.out.println(&quot;Enter data: &quot;);\n          String input = sc.nextLine();\n          //Instantiating the Pattern class\n          Pattern pattern = Pattern.compile(regex);\n          //Instantiating the Matcher class\n          Matcher matcher = pattern.matcher(input);\n          //verifying whether a match occurred\n          if(matcher.find()) {\n             System.out.println(&quot;Input accepted&quot;);\n          }else {\n             System.out.println(&quot;Not accepted&quot;);\n            }\n        }\n    }```\n\nI also tried String regex = &quot;^.[\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]]*.$&quot;, it doesn't work.\n\n{(}){(}) - Valid input\nP{())}}() - invalid input\n12{}() - invalid input\n.;/{{}) - invalid input\n{}}} - valid input\n</code></pre>\n"},{"tags":["java","perfect-numbers"],"answers":[{"tags":[],"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664868942,"creation_date":1664868470,"answer_id":73944391,"question_id":73943997,"body_markdown":"You can see here what are perfect numbers and their values: https://byjus.com/maths/perfect-numbers/\r\n\r\nNow, I checked your code and reason why you&#39;re getting only 4 numbers (6, 28, 496 and 8128) is because your algorithm is slow. If you pay closer attention, you would see that your application is still running although you&#39;re not getting any new numbers after 8128. So if you let your program run long enough, you would generate new number: 33550336. And due to slow generation of a numbers, if you let your application run for days for example, you would generate number 8589869056 and after a few more days you would generate 137438691328 and that would be it, your application would break.\r\n\r\nReason for that is because next number would be: 2305843008139952128 and that number cannot be placed inside of a long type (your sum variable) because long can accept this range:\r\n\r\nhttps://stackoverflow.com/questions/15505515/java-long-primitive-type-maximum-limit\r\n\r\nYou can add this line in your IDE: \r\n\r\n    long outOfRangeNumber = 9223372036854775808L;\r\n\r\nAnd read the error on that line.\r\n\r\nSo in theory, with your code you can only generate 7 real numbers (from 6 to \t137438691328) but that generation would take days, maybe weeks even, depending on power of your machine.","title":"Program to automatically fill a array of size 10 with perfect numbers not working","body":"<p>You can see here what are perfect numbers and their values: <a href=\"https://byjus.com/maths/perfect-numbers/\" rel=\"nofollow noreferrer\">https://byjus.com/maths/perfect-numbers/</a></p>\n<p>Now, I checked your code and reason why you're getting only 4 numbers (6, 28, 496 and 8128) is because your algorithm is slow. If you pay closer attention, you would see that your application is still running although you're not getting any new numbers after 8128. So if you let your program run long enough, you would generate new number: 33550336. And due to slow generation of a numbers, if you let your application run for days for example, you would generate number 8589869056 and after a few more days you would generate 137438691328 and that would be it, your application would break.</p>\n<p>Reason for that is because next number would be: 2305843008139952128 and that number cannot be placed inside of a long type (your sum variable) because long can accept this range:</p>\n<p><a href=\"https://stackoverflow.com/questions/15505515/java-long-primitive-type-maximum-limit\">Java Long primitive type maximum limit</a></p>\n<p>You can add this line in your IDE:</p>\n<pre><code>long outOfRangeNumber = 9223372036854775808L;\n</code></pre>\n<p>And read the error on that line.</p>\n<p>So in theory, with your code you can only generate 7 real numbers (from 6 to    137438691328) but that generation would take days, maybe weeks even, depending on power of your machine.</p>\n"}],"owner":{"account_id":21571061,"reputation":3,"user_id":15903928,"display_name":"Ruhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73944391,"answer_count":1,"score":0,"last_activity_date":1664869048,"creation_date":1664865846,"question_id":73943997,"body_markdown":"    class Perfect{\r\n        public static void main(){\r\n            long a[]=new long[10];\r\n            long n=1;\r\n            for(int i=0;i&lt;10;i++){\r\n                while(true){\r\n                    long sum=0;\r\n                    for(long j=1;j&lt;n;j++){\r\n                        if(n%j==0){\r\n                            sum+=j;\r\n                        }\r\n                    }\r\n                    if(sum==n){\r\n                        a[i]=n;\r\n                        n++;\r\n                        System.out.println(&quot;The array at turn &quot;+i);\r\n                        for(int v=0;v&lt;a.length;v++)\r\n                        {\r\n                            System.out.println(a[v]+&quot; &quot;);\r\n                        }\r\n                        break;\r\n                    }\r\n                    n++;\r\n                }\r\n            }\r\n            for(int i=0;i&lt;a.length;i++){\r\n                System.out.print(a[i]+&quot; &quot;);\r\n            }\r\n        }\r\n    }\r\nI got a program as a part of my school project to create an array of size 10 and then fill this array with perfect numbers automatically in BlueJ. I wrote the above code however for some reason the code is running for 4 times only and then going on infinity and asking for inputs and not completing the 10 loops. Can someone please help me identify the problem. The code is in Java in BlueJ","title":"Program to automatically fill a array of size 10 with perfect numbers not working","body":"<pre><code>class Perfect{\n    public static void main(){\n        long a[]=new long[10];\n        long n=1;\n        for(int i=0;i&lt;10;i++){\n            while(true){\n                long sum=0;\n                for(long j=1;j&lt;n;j++){\n                    if(n%j==0){\n                        sum+=j;\n                    }\n                }\n                if(sum==n){\n                    a[i]=n;\n                    n++;\n                    System.out.println(&quot;The array at turn &quot;+i);\n                    for(int v=0;v&lt;a.length;v++)\n                    {\n                        System.out.println(a[v]+&quot; &quot;);\n                    }\n                    break;\n                }\n                n++;\n            }\n        }\n        for(int i=0;i&lt;a.length;i++){\n            System.out.print(a[i]+&quot; &quot;);\n        }\n    }\n}\n</code></pre>\n<p>I got a program as a part of my school project to create an array of size 10 and then fill this array with perfect numbers automatically in BlueJ. I wrote the above code however for some reason the code is running for 4 times only and then going on infinity and asking for inputs and not completing the 10 loops. Can someone please help me identify the problem. The code is in Java in BlueJ</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security","userdetailsservice"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1664870067,"post_id":73944283,"comment_id":130563278,"body_markdown":"check this answer https://stackoverflow.com/a/71527547/7237884 on how to efficiently handle this issue and not with just a workaround `allow-circular-references: true ` which could as well backfire in future","body":"check this answer <a href=\"https://stackoverflow.com/a/71527547/7237884\">stackoverflow.com/a/71527547/7237884</a> on how to efficiently handle this issue and not with just a workaround <code>allow-circular-references: true </code> which could as well backfire in future"}],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664868070,"creation_date":1664868070,"answer_id":73944328,"question_id":73944283,"body_markdown":"I have met same problem and might be helpful to you if you are using `SpringBoot 2.6.x` or higher version\r\n\r\nCheck at [**spring-cyclic-dependencies**][1] and you will find below description\r\n\r\n&gt;SpringBoot 2.6.x does not recommend the use of circular dependencies, which is good news, SpringBoot is gradually guiding developers to write standard code from the bottom up, but also sad news, circular dependencies are too widely used.\r\n&gt;\r\n&gt;If you upgrade from a low version to 2.6.x, then the first problem you are likely to encounter is a circular dependency problem.\r\n\r\nand\r\n\r\n&gt;The simplest way is to allow circular references in the global configuration file, the default value of this property is false, display the declaration as true, you can avoid the project startup console circular reference exception.\r\n\r\n\r\nSo add following code in your `yaml` configuration file\r\n\r\n    spring:\r\n      main:\r\n        allow-circular-references: true \r\n\r\n\r\n  [1]: https://www.springcloud.io/post/2022-02/spring-cyclic-dependencies/","title":"Spring Security Circular Dependency User Details","body":"<p>I have met same problem and might be helpful to you if you are using <code>SpringBoot 2.6.x</code> or higher version</p>\n<p>Check at <a href=\"https://www.springcloud.io/post/2022-02/spring-cyclic-dependencies/\" rel=\"nofollow noreferrer\"><strong>spring-cyclic-dependencies</strong></a> and you will find below description</p>\n<blockquote>\n<p>SpringBoot 2.6.x does not recommend the use of circular dependencies, which is good news, SpringBoot is gradually guiding developers to write standard code from the bottom up, but also sad news, circular dependencies are too widely used.</p>\n<p>If you upgrade from a low version to 2.6.x, then the first problem you are likely to encounter is a circular dependency problem.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>The simplest way is to allow circular references in the global configuration file, the default value of this property is false, display the declaration as true, you can avoid the project startup console circular reference exception.</p>\n</blockquote>\n<p>So add following code in your <code>yaml</code> configuration file</p>\n<pre><code>spring:\n  main:\n    allow-circular-references: true \n</code></pre>\n"}],"owner":{"account_id":21423385,"reputation":3,"user_id":18410997,"display_name":"Subhash Yuvaraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664873151,"accepted_answer_id":73944328,"answer_count":1,"score":0,"last_activity_date":1664868070,"creation_date":1664867810,"question_id":73944283,"body_markdown":"I am developing a Spring Boot application. I have to make credentials for both Admins users. I was Working on Spring Security . Struck with circular dependency error. Without including spring security I tested other urls with post api. It worked fine. But can&#39;t understand this error.\r\n\r\nSecurityConfig File\r\n\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Autowired\r\n\tprivate UserDetailsService userDetailsService;\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(userDetailsService).passwordEncoder(encodePWD());\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf().disable();\r\n\r\n\t\thttp.authorizeRequests().antMatchers(&quot;/rest/auth/**&quot;).authenticated().anyRequest().permitAll().and()\r\n\t\t\t\t.authorizeRequests().antMatchers(&quot;/secure/rest/**&quot;).authenticated().anyRequest().hasAnyRole(&quot;ADMIN&quot;).and()\r\n\t\t\t\t.formLogin().permitAll();\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic BCryptPasswordEncoder encodePWD() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n}\r\n```\r\n\r\nGetting this error\r\n\r\n```\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-10-04 11:59:31.338\u001B[0;39m \u001B[31mERROR\u001B[0;39m \u001B[35m5733\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[  restartedMain]\u001B[0;39m \u001B[36mo.s.b.d.LoggingFailureAnalysisReporter  \u001B[0;39m \u001B[2m:\u001B[0;39m \r\n\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌─────┐\r\n|  securityConfig (field private org.springframework.security.core.userdetails.UserDetailsService strictly.cinema.config.SecurityConfig.userDetailsService)\r\n↑     ↓\r\n|  inMemoryUserDetailsManager defined in class path resource [org/springframework/boot/autoconfigure/security/servlet/UserDetailsServiceAutoConfiguration.class]\r\n└─────┘\r\n\r\n\r\nAction:\r\n\r\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\r\n\r\n```\r\n","title":"Spring Security Circular Dependency User Details","body":"<p>I am developing a Spring Boot application. I have to make credentials for both Admins users. I was Working on Spring Security . Struck with circular dependency error. Without including spring security I tested other urls with post api. It worked fine. But can't understand this error.</p>\n<p>SecurityConfig File</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(encodePWD());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n\n        http.authorizeRequests().antMatchers(&quot;/rest/auth/**&quot;).authenticated().anyRequest().permitAll().and()\n                .authorizeRequests().antMatchers(&quot;/secure/rest/**&quot;).authenticated().anyRequest().hasAnyRole(&quot;ADMIN&quot;).and()\n                .formLogin().permitAll();\n\n    }\n\n    @Bean\n    public BCryptPasswordEncoder encodePWD() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>Getting this error</p>\n<pre><code>\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-10-04 11:59:31.338[0;39m [31mERROR[0;39m [35m5733[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.d.LoggingFailureAnalysisReporter  [0;39m [2m:[0;39m \n\n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n┌─────┐\n|  securityConfig (field private org.springframework.security.core.userdetails.UserDetailsService strictly.cinema.config.SecurityConfig.userDetailsService)\n↑     ↓\n|  inMemoryUserDetailsManager defined in class path resource [org/springframework/boot/autoconfigure/security/servlet/UserDetailsServiceAutoConfiguration.class]\n└─────┘\n\n\nAction:\n\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\n\n</code></pre>\n"},{"tags":["java","hashmap","java-8","collectors"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1429016807,"post_id":29625529,"comment_id":47399190,"body_markdown":"Don’t use half-baked Generic types. Most probably, your map ought to be `Map&lt;Integer, List&lt;String&gt;&gt;` rather than `Map&lt;Integer, List&gt;`","body":"Don’t use half-baked Generic types. Most probably, your map ought to be <code>Map&lt;Integer, List&lt;String&gt;&gt;</code> rather than <code>Map&lt;Integer, List&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":104,"is_accepted":true,"score":104,"last_activity_date":1429009266,"creation_date":1429009101,"answer_id":29625624,"question_id":29625529,"body_markdown":"If you are sure you are going to get at most a single element that passed the filter (which is guaranteed by your filter), you can use `findFirst` :\r\n\r\n    Optional&lt;List&gt; o = id1.entrySet()\r\n                          .stream()\r\n                          .filter( e -&gt; e.getKey() == 1)\r\n                          .map(Map.Entry::getValue)\r\n                          .findFirst();\r\n\r\nIn the general case, if the filter may match multiple Lists, you can collect them to a List of Lists :\r\n\r\n    List&lt;List&gt; list = id1.entrySet()\r\n                         .stream()\r\n                         .filter(.. some predicate...)\r\n                         .map(Map.Entry::getValue)\r\n                         .collect(Collectors.toList());","title":"Hashmap with Streams in Java 8 Streams to collect value of Map","body":"<p>If you are sure you are going to get at most a single element that passed the filter (which is guaranteed by your filter), you can use <code>findFirst</code> :</p>\n\n<pre><code>Optional&lt;List&gt; o = id1.entrySet()\n                      .stream()\n                      .filter( e -&gt; e.getKey() == 1)\n                      .map(Map.Entry::getValue)\n                      .findFirst();\n</code></pre>\n\n<p>In the general case, if the filter may match multiple Lists, you can collect them to a List of Lists :</p>\n\n<pre><code>List&lt;List&gt; list = id1.entrySet()\n                     .stream()\n                     .filter(.. some predicate...)\n                     .map(Map.Entry::getValue)\n                     .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1429010739,"creation_date":1429009176,"answer_id":29625644,"question_id":29625529,"body_markdown":"What you need to do is create a `Stream` out of the `Map`&#39;s `.entrySet()`:\r\n\r\n    // Map&lt;K, V&gt; --&gt; Set&lt;Map.Entry&lt;K, V&gt;&gt; --&gt; Stream&lt;Map.Entry&lt;K, V&gt;&gt;\r\n    map.entrySet().stream()\r\n\r\nFrom the on, you can `.filter()` over these entries. For instance:\r\n\r\n    // Stream&lt;Map.Entry&lt;K, V&gt;&gt; --&gt; Stream&lt;Map.Entry&lt;K, V&gt;&gt;\r\n    .filter(entry -&gt; entry.getKey() == 1)\r\n\r\nAnd to obtain the values from it you `.map()`:\r\n\r\n    // Stream&lt;Map.Entry&lt;K, V&gt;&gt; --&gt; Stream&lt;V&gt;\r\n    .map(Map.Entry::getValue)\r\n\r\nFinally, you need to collect into a `List`:\r\n\r\n    // Stream&lt;V&gt; --&gt; List&lt;V&gt;\r\n    .collect(Collectors.toList())\r\n\r\nIf you have only one entry, use this instead (NOTE: this code assumes that there is a value; otherwise, use `.orElse()`; see the [javadoc of `Optional`](http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html) for more details):\r\n\r\n    // Stream&lt;V&gt; --&gt; Optional&lt;V&gt; --&gt; V\r\n    .findFirst().get()\r\n","title":"Hashmap with Streams in Java 8 Streams to collect value of Map","body":"<p>What you need to do is create a <code>Stream</code> out of the <code>Map</code>'s <code>.entrySet()</code>:</p>\n\n<pre><code>// Map&lt;K, V&gt; --&gt; Set&lt;Map.Entry&lt;K, V&gt;&gt; --&gt; Stream&lt;Map.Entry&lt;K, V&gt;&gt;\nmap.entrySet().stream()\n</code></pre>\n\n<p>From the on, you can <code>.filter()</code> over these entries. For instance:</p>\n\n<pre><code>// Stream&lt;Map.Entry&lt;K, V&gt;&gt; --&gt; Stream&lt;Map.Entry&lt;K, V&gt;&gt;\n.filter(entry -&gt; entry.getKey() == 1)\n</code></pre>\n\n<p>And to obtain the values from it you <code>.map()</code>:</p>\n\n<pre><code>// Stream&lt;Map.Entry&lt;K, V&gt;&gt; --&gt; Stream&lt;V&gt;\n.map(Map.Entry::getValue)\n</code></pre>\n\n<p>Finally, you need to collect into a <code>List</code>:</p>\n\n<pre><code>// Stream&lt;V&gt; --&gt; List&lt;V&gt;\n.collect(Collectors.toList())\n</code></pre>\n\n<p>If you have only one entry, use this instead (NOTE: this code assumes that there is a value; otherwise, use <code>.orElse()</code>; see the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\">javadoc of <code>Optional</code></a> for more details):</p>\n\n<pre><code>// Stream&lt;V&gt; --&gt; Optional&lt;V&gt; --&gt; V\n.findFirst().get()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429010876,"creation_date":1429010468,"answer_id":29626024,"question_id":29625529,"body_markdown":"For your Q2, there are already answers to your question. For your Q1, and more generally when you know that the key&#39;s filtering should give a unique value, there&#39;s no need to use Streams at all. \r\n\r\nJust use `get` or `getOrDefault`, i.e:\r\n\r\n    List&lt;String&gt; list1 = id1.getOrDefault(1, Collections.emptyList());","title":"Hashmap with Streams in Java 8 Streams to collect value of Map","body":"<p>For your Q2, there are already answers to your question. For your Q1, and more generally when you know that the key's filtering should give a unique value, there's no need to use Streams at all. </p>\n\n<p>Just use <code>get</code> or <code>getOrDefault</code>, i.e:</p>\n\n<pre><code>List&lt;String&gt; list1 = id1.getOrDefault(1, Collections.emptyList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":980746,"reputation":8466,"user_id":1000510,"accept_rate":76,"display_name":"Basit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433936609,"creation_date":1433935724,"answer_id":30754951,"question_id":29625529,"body_markdown":"You can also do it like this\r\n\r\n    public Map&lt;Boolean, List&lt;Student&gt;&gt; getpartitionMap(List&lt;Student&gt; studentsList) {\r\n        \r\n\t\tList&lt;Predicate&lt;Student&gt;&gt; allPredicates = getAllPredicates();\r\n\t    Predicate&lt;Student&gt; compositePredicate =  allPredicates.stream()\r\n\t                             .reduce(w -&gt; true, Predicate::and)\r\n\t     Map&lt;Boolean, List&lt;Student&gt;&gt; studentsMap= studentsList\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.collect(Collectors.partitioningBy(compositePredicate));\r\n        return studentsMap;\r\n    }\r\n\r\n    public List&lt;Student&gt; getValidStudentsList(Map&lt;Boolean, List&lt;Student&gt;&gt; studentsMap) throws Exception {\r\n\t\t\r\n\t\tList&lt;Student&gt; validStudentsList =  studentsMap.entrySet()\r\n\t             .stream()\r\n\t             .filter(p -&gt; p.getKey() == Boolean.TRUE)\r\n\t             .flatMap(p -&gt; p.getValue().stream())\r\n\t             .collect(Collectors.toList());\r\n\t     \r\n\t\treturn validStudentsList;\r\n\t}\r\n\r\n    public List&lt;Student&gt; getInValidStudentsList(Map&lt;Boolean, List&lt;Student&gt;&gt; studentsMap) throws Exception {\r\n\t\t\r\n\t\tList&lt;Student&gt; invalidStudentsList = \r\n\t    \t\t partionedByPredicate.entrySet()\r\n\t             .stream()\r\n\t             .filter(p -&gt; p.getKey() == Boolean.FALSE)\r\n\t             .flatMap(p -&gt; p.getValue().stream())\r\n\t             .collect(Collectors.toList());\r\n\t     \r\n\t\treturn invalidStudentsList;\r\n\t\t\r\n\t}\r\n\r\nWith `flatMap` you will get just `List&lt;Student&gt;` instead of `List&lt;List&lt;Student&gt;&gt;`.\r\n\r\nThanks","title":"Hashmap with Streams in Java 8 Streams to collect value of Map","body":"<p>You can also do it like this</p>\n\n<pre><code>public Map&lt;Boolean, List&lt;Student&gt;&gt; getpartitionMap(List&lt;Student&gt; studentsList) {\n\n    List&lt;Predicate&lt;Student&gt;&gt; allPredicates = getAllPredicates();\n    Predicate&lt;Student&gt; compositePredicate =  allPredicates.stream()\n                             .reduce(w -&gt; true, Predicate::and)\n     Map&lt;Boolean, List&lt;Student&gt;&gt; studentsMap= studentsList\n                .stream()\n                .collect(Collectors.partitioningBy(compositePredicate));\n    return studentsMap;\n}\n\npublic List&lt;Student&gt; getValidStudentsList(Map&lt;Boolean, List&lt;Student&gt;&gt; studentsMap) throws Exception {\n\n    List&lt;Student&gt; validStudentsList =  studentsMap.entrySet()\n             .stream()\n             .filter(p -&gt; p.getKey() == Boolean.TRUE)\n             .flatMap(p -&gt; p.getValue().stream())\n             .collect(Collectors.toList());\n\n    return validStudentsList;\n}\n\npublic List&lt;Student&gt; getInValidStudentsList(Map&lt;Boolean, List&lt;Student&gt;&gt; studentsMap) throws Exception {\n\n    List&lt;Student&gt; invalidStudentsList = \n             partionedByPredicate.entrySet()\n             .stream()\n             .filter(p -&gt; p.getKey() == Boolean.FALSE)\n             .flatMap(p -&gt; p.getValue().stream())\n             .collect(Collectors.toList());\n\n    return invalidStudentsList;\n\n}\n</code></pre>\n\n<p>With <code>flatMap</code> you will get just <code>List&lt;Student&gt;</code> instead of <code>List&lt;List&lt;Student&gt;&gt;</code>.</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":8368148,"reputation":21,"user_id":6284068,"display_name":"Shreya Mour"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572268887,"creation_date":1572267720,"answer_id":58591439,"question_id":29625529,"body_markdown":"Using keySet-\r\n\r\n```java\r\nid1.keySet().stream()\r\n\t\t.filter(x -&gt; x == 1)\r\n\t\t.map(x -&gt; id1.get(x))\r\n\t\t.collect(Collectors.toList())\r\n```","title":"Hashmap with Streams in Java 8 Streams to collect value of Map","body":"<p>Using keySet-</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>id1.keySet().stream()\n        .filter(x -&gt; x == 1)\n        .map(x -&gt; id1.get(x))\n        .collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434060,"reputation":654,"user_id":2708444,"display_name":"vbg"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611082967,"creation_date":1611082967,"answer_id":65797834,"question_id":29625529,"body_markdown":"   Maybe the sample is oversimplified, but you don&#39;t need the Java stream API here. Just use the Map directly.\r\n\r\n     List&lt;String&gt; list1 = id1.get(1); // this will return the list from your map","title":"Hashmap with Streams in Java 8 Streams to collect value of Map","body":"<p>Maybe the sample is oversimplified, but you don't need the Java stream API here. Just use the Map directly.</p>\n<pre><code> List&lt;String&gt; list1 = id1.get(1); // this will return the list from your map\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1220759,"reputation":142,"user_id":8084426,"display_name":"YoHaRo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645445220,"creation_date":1645445220,"answer_id":71206046,"question_id":29625529,"body_markdown":" why all that !!!\r\n\r\n    \r\n\r\n&gt; List&lt;String&gt; list1 = id1.get(1);\r\n\r\n","title":"Hashmap with Streams in Java 8 Streams to collect value of Map","body":"<p>why all that !!!</p>\n<blockquote>\n<p>List list1 = id1.get(1);</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11382243,"reputation":21,"user_id":8344855,"display_name":"Omkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664867655,"creation_date":1664867655,"answer_id":73944258,"question_id":29625529,"body_markdown":"\t\tHashMap&lt;Integer, String&gt; hashmap = new HashMap&lt;&gt;();\r\n\t\thashmap.put(1, &quot;a&quot;);\r\n\t\thashmap.put(2, &quot;b&quot;);\r\n\t\tList&lt;String&gt; collect = hashmap.keySet().stream()\r\n\t\t\t\t\t\t\t\t.map(k -&gt; &quot;key=&quot; + k + &quot; value=&quot; + hashmap.get(k))\r\n\t\t\t\t\t\t\t\t.collect(Collectors.toList());\r\n\t\tSystem.out.println(collect);","title":"Hashmap with Streams in Java 8 Streams to collect value of Map","body":"<pre><code>    HashMap&lt;Integer, String&gt; hashmap = new HashMap&lt;&gt;();\n    hashmap.put(1, &quot;a&quot;);\n    hashmap.put(2, &quot;b&quot;);\n    List&lt;String&gt; collect = hashmap.keySet().stream()\n                            .map(k -&gt; &quot;key=&quot; + k + &quot; value=&quot; + hashmap.get(k))\n                            .collect(Collectors.toList());\n    System.out.println(collect);\n</code></pre>\n"}],"owner":{"account_id":5416720,"reputation":921,"user_id":4311675,"accept_rate":67,"display_name":"Deepak Shajan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262137,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"accepted_answer_id":29625624,"answer_count":8,"score":78,"last_activity_date":1664867655,"creation_date":1429008860,"question_id":29625529,"body_markdown":"Let consider a hashmap\r\n\r\n    Map&lt;Integer, List&gt; id1 = new HashMap&lt;Integer,List&gt;();\r\n\r\nI inserted some values into both hashmap.\r\n\r\nFor Example,\r\n                \r\n    List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\r\n    \r\n    list1.add(&quot;r1&quot;);\r\n    list1.add(&quot;r4&quot;);\r\n    \r\n    List&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\r\n    list2.add(&quot;r2&quot;);\r\n    list2.add(&quot;r5&quot;);\r\n    \r\n    List&lt;String&gt; list3 = new ArrayList&lt;String&gt;();\r\n    list3.add(&quot;r3&quot;);\r\n    list3.add(&quot;r6&quot;);\r\n    \r\n    id1.put(1,list1);\r\n    id1.put(2,list2);\r\n    id1.put(3,list3);\r\n    id1.put(10,list2);\r\n    id1.put(15,list3);\r\n\r\n Q1)    Now I want to apply a filter condition on the key in hashmap and retrieve the corresponding value(List).\r\n\r\n        \r\n\r\nEg: Here My query is key=1, and output should be &#39;list1&#39;\r\n\r\n I wrote \r\n                \r\n            \r\n\r\n    id1.entrySet().stream().filter( e -&gt; e.getKey() == 1);\r\n                \r\n  But I don&#39;t know how to retrieve as a list as output of this stream operation.\r\n\r\n\r\nQ2)        Again I want to apply a filter condition on the key in hashmap and retrieve the corresponding list of lists.\r\n\r\n  Eg:  Here My query is key=1%(i.e key can be 1,10,15), and output should be &#39;list1&#39;,&#39;list2&#39;,&#39;list3&#39;(list of lists).\r\n\r\n\r\n","title":"Hashmap with Streams in Java 8 Streams to collect value of Map","body":"<p>Let consider a hashmap</p>\n<pre><code>Map&lt;Integer, List&gt; id1 = new HashMap&lt;Integer,List&gt;();\n</code></pre>\n<p>I inserted some values into both hashmap.</p>\n<p>For Example,</p>\n<pre><code>List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\n\nlist1.add(&quot;r1&quot;);\nlist1.add(&quot;r4&quot;);\n\nList&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\nlist2.add(&quot;r2&quot;);\nlist2.add(&quot;r5&quot;);\n\nList&lt;String&gt; list3 = new ArrayList&lt;String&gt;();\nlist3.add(&quot;r3&quot;);\nlist3.add(&quot;r6&quot;);\n\nid1.put(1,list1);\nid1.put(2,list2);\nid1.put(3,list3);\nid1.put(10,list2);\nid1.put(15,list3);\n</code></pre>\n<p>Q1)    Now I want to apply a filter condition on the key in hashmap and retrieve the corresponding value(List).</p>\n<p>Eg: Here My query is key=1, and output should be 'list1'</p>\n<p>I wrote</p>\n<pre><code>id1.entrySet().stream().filter( e -&gt; e.getKey() == 1);\n            \n</code></pre>\n<p>But I don't know how to retrieve as a list as output of this stream operation.</p>\n<p>Q2)        Again I want to apply a filter condition on the key in hashmap and retrieve the corresponding list of lists.</p>\n<p>Eg:  Here My query is key=1%(i.e key can be 1,10,15), and output should be 'list1','list2','list3'(list of lists).</p>\n"},{"tags":["java","spring-mvc","multipartfile"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664867631,"creation_date":1664783139,"answer_id":73932457,"question_id":73931098,"body_markdown":"Your code is returning an input stream from a file that you have deleted - last line is `temp.delete()`. \r\n\r\n`ZipInputStream` has a small internal buffer for decoding, so that may explain why some read calls work after the delete, but it will not be possible to continue reading from a file that you deleted, hence the exception.\r\n\r\nAlso, the call `initialStream.available()` is unlikely to be the correct way to determine the size of the input stream file part. Try printing the size / check how to read the actual length of the file in the multipart stream - such as `part.getSize()`, or transfer the bytes into a `new ByteArrayOutputStream()` before assigning to `buffer`.\r\n\r\nI would not recommend doing any work with files or multipart streams using direct transfer to `byte[]` as you risk `OutOfMemoryException`. However in your case where you are happy to have `byte[]` for the ZIP and you read the first entry of the ZIP file (and are ignoring other entries) then you could try extracting the first entry as `InputStream` without writing to a file as follows:\r\n\r\n    // Read a zip input stream from a zip stored in byte[]:\r\n    ZipInputStream zis = new ZipInputStream(new ByteArrayInputStream(buffer));\r\n    // Select first entry from ZIP\r\n    ZipEntry entry = zis.getNextEntry();\r\n \r\n    // You should be able to read the entry from zis directly,\r\n    // if this is text file you could test with:\r\n    //    zis.transferTo(System.out);\r\n\r\n    return zis;\r\n\r\nYou should ensure that you close the stream after use.","title":"File has been moved, can not be read again (Spring mvc)","body":"<p>Your code is returning an input stream from a file that you have deleted - last line is <code>temp.delete()</code>.</p>\n<p><code>ZipInputStream</code> has a small internal buffer for decoding, so that may explain why some read calls work after the delete, but it will not be possible to continue reading from a file that you deleted, hence the exception.</p>\n<p>Also, the call <code>initialStream.available()</code> is unlikely to be the correct way to determine the size of the input stream file part. Try printing the size / check how to read the actual length of the file in the multipart stream - such as <code>part.getSize()</code>, or transfer the bytes into a <code>new ByteArrayOutputStream()</code> before assigning to <code>buffer</code>.</p>\n<p>I would not recommend doing any work with files or multipart streams using direct transfer to <code>byte[]</code> as you risk <code>OutOfMemoryException</code>. However in your case where you are happy to have <code>byte[]</code> for the ZIP and you read the first entry of the ZIP file (and are ignoring other entries) then you could try extracting the first entry as <code>InputStream</code> without writing to a file as follows:</p>\n<pre><code>// Read a zip input stream from a zip stored in byte[]:\nZipInputStream zis = new ZipInputStream(new ByteArrayInputStream(buffer));\n// Select first entry from ZIP\nZipEntry entry = zis.getNextEntry();\n\n// You should be able to read the entry from zis directly,\n// if this is text file you could test with:\n//    zis.transferTo(System.out);\n\nreturn zis;\n</code></pre>\n<p>You should ensure that you close the stream after use.</p>\n"},{"tags":[],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664783490,"creation_date":1664783490,"answer_id":73932496,"question_id":73931098,"body_markdown":"Potential issues I can see in your code: \r\n\r\n 1. temp file is used as zip file, yet you delete the temp file prior to\r\n    returning. How can you use the zip file as file stream if you have\r\n    deleted it?\r\n\r\n 2. Do you support concurrent uploads? If yes, then you have concurrent\r\n    resource access problem. Multiple calls to create temp file:\r\n    &quot;upload&quot; and process it. Why don&#39;t you create a different\r\n    filename e.g. with datetime suffix + random number suffix.","title":"File has been moved, can not be read again (Spring mvc)","body":"<p>Potential issues I can see in your code:</p>\n<ol>\n<li><p>temp file is used as zip file, yet you delete the temp file prior to\nreturning. How can you use the zip file as file stream if you have\ndeleted it?</p>\n</li>\n<li><p>Do you support concurrent uploads? If yes, then you have concurrent\nresource access problem. Multiple calls to create temp file:\n&quot;upload&quot; and process it. Why don't you create a different\nfilename e.g. with datetime suffix + random number suffix.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":10230595,"reputation":20,"user_id":7551498,"display_name":"Avinash kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664867631,"creation_date":1664770892,"question_id":73931098,"body_markdown":"I am using spring MVC where through API I am uploading zip file using MultipartFile. In backend I have to convert uploaded zip file into InputStream for further processing. But my code is giving error intermittently &quot; File has been moved, can not be read again &quot;.\r\n\r\nhere is the code snippet : \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n                File temp = null;\r\n                InputStream stream = null;\r\n                try {\r\n                    InputStream initialStream = inputFile.getInputStream();\r\n                    byte[] buffer = new byte[initialStream.available()];\r\n                    initialStream.read(buffer);\r\n                    temp = File.createTempFile(&quot;upload&quot;, null);\r\n                    try (OutputStream outStream = new FileOutputStream(temp)) {\r\n                        outStream.write(buffer);\r\n                    }\r\n                    ZipFile zipFile = new ZipFile(temp);\r\n                    stream = zipFile.getInputStream(zipFile.getEntries().nextElement());\r\n                } catch (Exception e) {\r\n                    log.error(&quot;Exception occurred while processing zip file &quot; + e.getMessage());\r\n                    throw e;\r\n                } finally {\r\n                    if (temp != null)\r\n                        temp.delete();\r\n                }\r\n                return stream;\r\n\r\n&lt;!-- end snippet --&gt;\r\n \r\nHere inputFile is MultipartFile. \r\n\r\nCould you please suggest what is wrong here?\r\n\r\n","title":"File has been moved, can not be read again (Spring mvc)","body":"<p>I am using spring MVC where through API I am uploading zip file using MultipartFile. In backend I have to convert uploaded zip file into InputStream for further processing. But my code is giving error intermittently &quot; File has been moved, can not be read again &quot;.</p>\n<p>here is the code snippet :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>            File temp = null;\n            InputStream stream = null;\n            try {\n                InputStream initialStream = inputFile.getInputStream();\n                byte[] buffer = new byte[initialStream.available()];\n                initialStream.read(buffer);\n                temp = File.createTempFile(\"upload\", null);\n                try (OutputStream outStream = new FileOutputStream(temp)) {\n                    outStream.write(buffer);\n                }\n                ZipFile zipFile = new ZipFile(temp);\n                stream = zipFile.getInputStream(zipFile.getEntries().nextElement());\n            } catch (Exception e) {\n                log.error(\"Exception occurred while processing zip file \" + e.getMessage());\n                throw e;\n            } finally {\n                if (temp != null)\n                    temp.delete();\n            }\n            return stream;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Here inputFile is MultipartFile.</p>\n<p>Could you please suggest what is wrong here?</p>\n"},{"tags":["java","macos","terminal","homebrew","homebrew-cask"],"comments":[{"owner":{"account_id":3174747,"reputation":1379,"user_id":2682898,"accept_rate":100,"display_name":"Nicholas Tsaoucis"},"score":0,"creation_date":1497880188,"post_id":44632292,"comment_id":76250110,"body_markdown":"http://effectif.com/mac-os-x/installing-specific-version-of-homebrew-formula  this could help you","body":"<a href=\"http://effectif.com/mac-os-x/installing-specific-version-of-homebrew-formula\" rel=\"nofollow noreferrer\">effectif.com/mac-os-x/&hellip;</a>  this could help you"},{"owner":{"account_id":164143,"reputation":4830,"user_id":386718,"accept_rate":92,"display_name":"Stijn Van Bael"},"score":0,"creation_date":1506418400,"post_id":44632292,"comment_id":79802760,"body_markdown":"Not an exact duplicate, but the answer is there: https://stackoverflow.com/questions/26252591/mac-os-x-and-multiple-java-versions","body":"Not an exact duplicate, but the answer is there: <a href=\"https://stackoverflow.com/questions/26252591/mac-os-x-and-multiple-java-versions\" title=\"mac os x and multiple java versions\">stackoverflow.com/questions/26252591/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":887497,"reputation":1211,"user_id":926581,"display_name":"Jubba Smail"},"down_vote_count":13,"up_vote_count":96,"is_accepted":true,"score":83,"last_activity_date":1630508993,"creation_date":1506598303,"answer_id":46468073,"question_id":44632292,"body_markdown":" 1. Install homebrew\r\n\r\n&gt; /usr/bin/ruby -e &quot;$(curl -fsSL\r\n&gt; https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;\r\n\r\n 2. Update homebrew if already installed:\r\n\r\n&gt; brew update\r\n\r\n 3. allow brew to lookup versions\r\n\r\n&gt; brew tap homebrew/cask-versions\r\n\r\n 4. list available java versions \r\n\r\n&gt; brew search java\r\n\r\nOptional: to find out the minor version of java\r\n&gt; brew info --cask java8\r\n\r\n 5. install java 8 (or any other version available)\r\n\r\n&gt; brew install --cask java8","title":"How to install specific Java version using Homebrew?","body":"<ol>\n<li>Install homebrew</li>\n</ol>\n<blockquote>\n<p>/usr/bin/ruby -e &quot;$(curl -fsSL\n<a href=\"https://raw.githubusercontent.com/Homebrew/install/master/install\" rel=\"noreferrer\">https://raw.githubusercontent.com/Homebrew/install/master/install</a>)&quot;</p>\n</blockquote>\n<ol start=\"2\">\n<li>Update homebrew if already installed:</li>\n</ol>\n<blockquote>\n<p>brew update</p>\n</blockquote>\n<ol start=\"3\">\n<li>allow brew to lookup versions</li>\n</ol>\n<blockquote>\n<p>brew tap homebrew/cask-versions</p>\n</blockquote>\n<ol start=\"4\">\n<li>list available java versions</li>\n</ol>\n<blockquote>\n<p>brew search java</p>\n</blockquote>\n<p>Optional: to find out the minor version of java</p>\n<blockquote>\n<p>brew info --cask java8</p>\n</blockquote>\n<ol start=\"5\">\n<li>install java 8 (or any other version available)</li>\n</ol>\n<blockquote>\n<p>brew install --cask java8</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1411587,"reputation":12119,"user_id":1338062,"display_name":"user1338062"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1573033912,"creation_date":1573033912,"answer_id":58727296,"question_id":44632292,"body_markdown":"Raising Sean Breckenridge&#39;s comment as an answer to increase visibility:\r\n\r\n    /usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;\r\n    brew tap homebrew/cask-versions\r\n    brew cask install homebrew/cask-versions/adoptopenjdk8\r\n\r\nThere is no longer cask named &quot;java8&quot;.","title":"How to install specific Java version using Homebrew?","body":"<p>Raising Sean Breckenridge's comment as an answer to increase visibility:</p>\n\n<pre><code>/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\nbrew tap homebrew/cask-versions\nbrew cask install homebrew/cask-versions/adoptopenjdk8\n</code></pre>\n\n<p>There is no longer cask named \"java8\".</p>\n"},{"tags":[],"owner":{"account_id":12183171,"reputation":914,"user_id":8894035,"display_name":"Wahab Khan Jadon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664867261,"creation_date":1664867261,"answer_id":73944212,"question_id":44632292,"body_markdown":"run `brew update`  command make sure that brew is update to date.\r\n\r\nthen check brew by following command... to make sure brew works fine\r\n\r\n    brew doctor \r\n\r\nif its has any issue you have to fix that first ... \r\n\r\nThen if you want to install specific version run following command ..\r\n\r\n    brew install java11\r\n\r\n in my case it&#39;s `java11` you can check java available version on java website.\r\n\r\nThen go for location \r\n\r\n    /Library/Java/JavaVirtualMachines/openjdk-11.jdk \r\n    \r\nand make sure jdk file is there...\r\n\r\nif there is not any folder just run the following command in terminal... \r\n\r\n    sudo ln -sfn /usr/local/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\r\n\r\nchange the version after `@11` according to your required jdk version. its gonna tell system about java runtime. \r\n\r\nyou can check java version by following command.\r\n\r\n    java --version\r\n\r\n \r\n","title":"How to install specific Java version using Homebrew?","body":"<p>run <code>brew update</code>  command make sure that brew is update to date.</p>\n<p>then check brew by following command... to make sure brew works fine</p>\n<pre><code>brew doctor \n</code></pre>\n<p>if its has any issue you have to fix that first ...</p>\n<p>Then if you want to install specific version run following command ..</p>\n<pre><code>brew install java11\n</code></pre>\n<p>in my case it's <code>java11</code> you can check java available version on java website.</p>\n<p>Then go for location</p>\n<pre><code>/Library/Java/JavaVirtualMachines/openjdk-11.jdk \n</code></pre>\n<p>and make sure jdk file is there...</p>\n<p>if there is not any folder just run the following command in terminal...</p>\n<pre><code>sudo ln -sfn /usr/local/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\n</code></pre>\n<p>change the version after <code>@11</code> according to your required jdk version. its gonna tell system about java runtime.</p>\n<p>you can check java version by following command.</p>\n<pre><code>java --version\n</code></pre>\n"}],"owner":{"account_id":1522646,"reputation":1412,"user_id":1421910,"accept_rate":54,"display_name":"iCodes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97241,"favorite_count":0,"down_vote_count":1,"up_vote_count":56,"accepted_answer_id":46468073,"answer_count":3,"score":55,"last_activity_date":1664867261,"creation_date":1497879874,"question_id":44632292,"body_markdown":"I am looking to install Java on Mac using `Homebrew`. This works fine using the command\r\n`brew cask install java`.This installs the latest stable version which is currently - `1.8.0_141`\r\nHowever how can I install a specific version for example `1.8.0_131`.\r\n\r\n","title":"How to install specific Java version using Homebrew?","body":"<p>I am looking to install Java on Mac using <code>Homebrew</code>. This works fine using the command\n<code>brew cask install java</code>.This installs the latest stable version which is currently - <code>1.8.0_141</code>\nHowever how can I install a specific version for example <code>1.8.0_131</code>.</p>\n"},{"tags":["java","android","scroll","scrollview","appium"],"comments":[{"owner":{"account_id":8440463,"reputation":882,"user_id":6333173,"accept_rate":33,"display_name":"Al Imran"},"score":0,"creation_date":1532595911,"post_id":51533591,"comment_id":90037662,"body_markdown":"Have you tried this?: https://stackoverflow.com/questions/50636520/android-appium-swipe-down-not-working/50636622#50636622","body":"Have you tried this?: <a href=\"https://stackoverflow.com/questions/50636520/android-appium-swipe-down-not-working/50636622#50636622\" title=\"android appium swipe down not working\">stackoverflow.com/questions/50636520/&hellip;</a>"},{"owner":{"account_id":7577029,"reputation":2788,"user_id":5749062,"display_name":"Bill Hileman"},"score":0,"creation_date":1532617739,"post_id":51533591,"comment_id":90051835,"body_markdown":"Consider trying my suggested answer in this recent similar question: https://stackoverflow.com/questions/51537791/how-to-perform-scroll-up-and-down-in-android-for-latest-version-appium","body":"Consider trying my suggested answer in this recent similar question: <a href=\"https://stackoverflow.com/questions/51537791/how-to-perform-scroll-up-and-down-in-android-for-latest-version-appium\" title=\"how to perform scroll up and down in android for latest version appium\">stackoverflow.com/questions/51537791/&hellip;</a>"},{"owner":{"account_id":12964814,"reputation":149,"user_id":9372767,"display_name":"mc-sm9"},"score":1,"creation_date":1532672940,"post_id":51533591,"comment_id":90070928,"body_markdown":"@AlImran When attempting to adopt your method, Eclipse display the following with respect to press() in the last line: &quot;The method press(PointOption) in the type TouchAction is not applicable for the arguments (int, int)&quot;. How can this be overcome? Thanks!","body":"@AlImran When attempting to adopt your method, Eclipse display the following with respect to press() in the last line: &quot;The method press(PointOption) in the type TouchAction is not applicable for the arguments (int, int)&quot;. How can this be overcome? Thanks!"},{"owner":{"account_id":12964814,"reputation":149,"user_id":9372767,"display_name":"mc-sm9"},"score":1,"creation_date":1532676548,"post_id":51533591,"comment_id":90072728,"body_markdown":"@BillHileman When attempting to adopt your first method, the following error is triggered by the `new TouchActions(driver)` line: &quot;Exception in thread &quot;main&quot; java.lang.ClassCastException: io.appium.java_client.android.AndroidDriver cannot be cast to org.openqa.selenium.interactions.HasTouchScreen&quot;.  Do you have any suggestions? Thanks!","body":"@BillHileman When attempting to adopt your first method, the following error is triggered by the <code>new TouchActions(driver)</code> line: &quot;Exception in thread &quot;main&quot; java.lang.ClassCastException: io.appium.java_client.android.AndroidDriver cannot be cast to org.openqa.selenium.interactions.HasTouchScreen&quot;.  Do you have any suggestions? Thanks!"},{"owner":{"account_id":7577029,"reputation":2788,"user_id":5749062,"display_name":"Bill Hileman"},"score":0,"creation_date":1532690713,"post_id":51533591,"comment_id":90080536,"body_markdown":"I use AndroidDriver&lt;AndroidElement&gt; as my driver instantiation.  That might have something to do with it.  Check your appium java client version to make sure it&#39;s the latest version.  The server too.","body":"I use AndroidDriver&lt;AndroidElement&gt; as my driver instantiation.  That might have something to do with it.  Check your appium java client version to make sure it&#39;s the latest version.  The server too."},{"owner":{"account_id":4657998,"reputation":32236,"user_id":3773011,"display_name":"Makyen"},"score":0,"creation_date":1532851870,"post_id":51533591,"comment_id":90122188,"body_markdown":"Questions on Stack Overflow (all of the Stack Exchange network) must be self-contained. The primary purpose of Stack Overflow is for questions to be useful to future visitors. Questions which require users to go to off-site links in order to have the context needed to answer are not useful to future visitors. This question might be good/useful, but the off-site data needs to be in the question.","body":"Questions on Stack Overflow (all of the Stack Exchange network) must be self-contained. The primary purpose of Stack Overflow is for questions to be useful to future visitors. Questions which require users to go to off-site links in order to have the context needed to answer are not useful to future visitors. This question might be good/useful, but the off-site data needs to be in the question."},{"owner":{"account_id":12964814,"reputation":149,"user_id":9372767,"display_name":"mc-sm9"},"score":0,"creation_date":1533106326,"post_id":51533591,"comment_id":90218434,"body_markdown":"@Makyen Thanks for your comment. The off-site data was relocated to the question.","body":"@Makyen Thanks for your comment. The off-site data was relocated to the question."}],"answers":[{"tags":[],"owner":{"account_id":12679897,"reputation":238,"user_id":9214050,"display_name":"toasty"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1534720265,"creation_date":1534719950,"answer_id":51922506,"question_id":51533591,"body_markdown":"As a variation on the options proposed above, here is another way of implementing `TouchAction` in combination with `press` and `moveTo` methods that worked for me.  This results in a downward screen swipe.  You might need to simply adjust the coordinates to whatever works best on your client:\r\n\r\n    new TouchAction(driver).press(PointOption.point(550, 640)).waitAction().moveTo(PointOption.point(550, 60)).release().perform();\r\n\r\nFor additional info, you might check out these references: \r\n\r\n - Appium site: http://appium.io/docs/en/writing-running-appium/touch-actions/\r\n - Tutorial: https://www.youtube.com/watch?v=9rHe0r6YsVg","title":"Unable to scroll Android app with Appium using Java Client","body":"<p>As a variation on the options proposed above, here is another way of implementing <code>TouchAction</code> in combination with <code>press</code> and <code>moveTo</code> methods that worked for me.  This results in a downward screen swipe.  You might need to simply adjust the coordinates to whatever works best on your client:</p>\n\n<pre><code>new TouchAction(driver).press(PointOption.point(550, 640)).waitAction().moveTo(PointOption.point(550, 60)).release().perform();\n</code></pre>\n\n<p>For additional info, you might check out these references: </p>\n\n<ul>\n<li>Appium site: <a href=\"http://appium.io/docs/en/writing-running-appium/touch-actions/\" rel=\"noreferrer\">http://appium.io/docs/en/writing-running-appium/touch-actions/</a></li>\n<li>Tutorial: <a href=\"https://www.youtube.com/watch?v=9rHe0r6YsVg\" rel=\"noreferrer\">https://www.youtube.com/watch?v=9rHe0r6YsVg</a></li>\n</ul>\n"}],"owner":{"account_id":12964814,"reputation":149,"user_id":9372767,"display_name":"mc-sm9"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8494,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":51922506,"answer_count":1,"score":5,"last_activity_date":1664867170,"creation_date":1532591246,"question_id":51533591,"body_markdown":"I am unable to scroll down to the bottom of any page in an Android app using Appium.  Multiple approaches were attempted, including those found on Stack Overflow.  (It seems this challenge is common.)  However, all attempts failed.\r\n\r\nEnvironment:\r\n\r\n - Appium version: 1.6.2\r\n - Appium client: Java (java-client-6.1.0.jar)\r\n - Android versions: 5.1, 6.0.1, 7.1.1\r\n - Java version: jre1.8.0_171\r\n - Selenium version: selenium-java-3.13.0\r\n - App type: Cordova (hybrid); the app is built with Cordova but when running `System.out.println(driver.getContext());`, the result is `NATIVE_APP`\r\n\r\nPlease share any alternatives or refinements that can solve this problem.  Any helpful suggestions are greatly appreciated!\r\n\r\nThe following summarizes the various approaches that were attempted: \r\n\r\n&lt;ol&gt;\r\n\r\n&lt;li&gt;Approach: scrollIntoView() (various implementations)&lt;/li&gt;\r\n&lt;code&gt;driver.findElementByAndroidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(resourceId(\\&quot;send-to-email-app\\&quot;));&quot;).click();&lt;/code&gt;\r\n\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: Udemy course&lt;/li&gt;\r\n&lt;li&gt;Error: Does not scroll and NO error&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: Try catch &gt; scrollIntoView()&lt;/li&gt;\r\n    &lt;code&gt;try {\r\n            driver.findElementByAndroidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(text(\\&quot;Send\\&quot;))&quot;);\r\n        }catch(Exception e) {\r\n            System.out.println(&quot;We got an error scrolling!&quot;);\r\n        }&lt;/code&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: https://stackoverflow.com/questions/39658626/how-to-scroll-top-to-botton-using-android-driver&lt;/li&gt;\r\n&lt;li&gt;Error: Partially works: the page scrolls down but not far enough&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: Swipe&lt;/li&gt;\r\n    &lt;code&gt;driver.swipe(0, Startpoint,0,scrollEnd,1000);&lt;/code&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: https://stackoverflow.com/questions/39130591/swipe-or-scroll-to-bottom-in-appium-android&lt;/li&gt;\r\n&lt;li&gt;Error: Swipe is deprecated&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: touchAction.longPress + moveTo&lt;/li&gt;\r\n    &lt;code&gt;...touchAction.longPress(fromX, fromY).moveTo(toX, toY).release().perform();&lt;/code&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: https://stackoverflow.com/questions/44282417/how-to-scroll-with-appium-1-7-1-using-touchaction&lt;/li&gt;\r\n&lt;li&gt;Error: &quot;driver cannot be resolved&quot;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: touchAction.longPress + moveTo&lt;/li&gt;\r\n    &lt;code&gt;TouchAction touchAction = new TouchAction(driver);\r\ntouchAction.longPress(10, 10).moveTo(x, y).release().perform();&lt;/code&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: https://stackoverflow.com/questions/44282417/how-to-scroll-with-appium-1-7-1-using-touchaction&lt;/li&gt;\r\n&lt;li&gt;Error: &quot;The method longPress(LongPressOptions) in the type TouchAction is not applicable for the arguments (int, int)&quot;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: touch.longPress + moveTo&lt;/li&gt;\r\n    &lt;code&gt;...TouchAction touch = new TouchAction(driver);\r\ntouch.longPress(co_ordinates[0], co_ordinates[1]).moveTo(dinates[0], dinates[1]).release().perform();&lt;/code&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: https://stackoverflow.com/questions/50304699/how-to-scroll-to-specific-element-inlatest-version-of-appium-using-java&lt;/li&gt;\r\n&lt;li&gt;Error: &quot;takeaway cannot be resolved&quot;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: moveTo + using coordinates&lt;/li&gt;\r\n    &lt;code&gt;actions.press(startX, startY).waitAction(Duration.ofSeconds(2)).moveTo(endX, endY).release().perform();&lt;/code&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: http://www.automationtestinghub.com/appium-scroll-examples/&lt;/li&gt;\r\n&lt;li&gt;Error: The &#39;press&#39; action is deprecated!&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: Using Press Approach to swipe + moveTo&lt;/li&gt;\r\n    &lt;code&gt;TouchAction().press(el0).moveTo(el1).release();&lt;/code&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: https://stackoverflow.com/questions/49004686/scroll-text-area-with-terms-and-conditions-on-hybrid-app-with-appium&lt;/li&gt;\r\n&lt;li&gt;Error: &quot;The method press(AndroidElement) is undefined for the type Object&quot;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: touchAction &#39;tap&#39; using coordinates&lt;/li&gt;\r\n    &lt;code&gt;TouchAction touchAction = new TouchAction(driver);\r\ntouchAction.tap(PointOption.point(x, y)).perform();&lt;/code&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: https://discuss.appium.io/t/scrolling-to-element-in-android-app-using-java/17208&lt;/li&gt;\r\n&lt;li&gt;Error: None; it partially works: the page scrolls down but not far enough! &lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: UiScrollable &gt; Specify Parent scrollable frame and Child element&lt;/li&gt;\r\n    &lt;code&gt;MobileElement doeButton = driver.findElement(MobileBy.AndroidUIAutomator(\r\n&quot;new UiScrollable(new UiSelector().text(\\&quot;Android scrollbar test\\&quot;)).getChildByText(&quot;\r\n+ &quot;new UiSelector().className(\\&quot;android.widget.TextView\\&quot;), \\&quot;Doe\\&quot;)&quot;));&lt;/code&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: https://stackoverflow.com/a/51003840/9214050&lt;/li&gt;\r\n&lt;li&gt;Error: &quot;Could not parse UiSelector argument: problem using reflection to call this method&quot;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: UiScrollable &gt; Specify Parent scrollable frame and &#39;scrollIntoView&#39; child element&lt;/li&gt;\r\n    &lt;code&gt;MobileElement sendEmailButton = driver.findElement(MobileBy.AndroidUIAutomator(\r\n                &quot;new UiScrollable(new UiSelector().resourceId(\\&quot;content\\&quot;)).scrollIntoView(&quot;\r\n                + &quot;new UiSelector().resourceId(\\&quot;add-task-button\\&quot;))&quot;));\r\n                sendEmailButton.click();&lt;/code&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: https://stackoverflow.com/a/51003840/9214050&lt;/li&gt;\r\n&lt;li&gt;Error: Does not scroll and NO error&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: Changed “scrollable” attribute for page elements from “false” to “true” using CSS styles&lt;/li&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: http://burnignorance.com/html-tips/making-a-smooth-scroll-view-for-android-ios-in-html/&lt;/li&gt;\r\n&lt;li&gt;Error: none, but app won&#39;t scroll to bottom of page.&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: Touch actions: “mobile: swipe”, “mobile: scroll” (http://appium.io/docs/en/writing-running-appium/touch-actions/)&lt;/li&gt;\r\n    &lt;code&gt;JavascriptExecutor js = (JavascriptExecutor) driver;\r\n      HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n      params.put(&quot;direction&quot;, &quot;up&quot;);\r\n      js.executeScript(&quot;mobile: swipe&quot;, params);&lt;/code&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: https://stackoverflow.com/questions/32387357/i-cant-make-swipe-gesture-work-for-me-in-appium-using-java#&lt;/li&gt;\r\n&lt;li&gt;Error: &quot;Unknown mobile command &quot;scroll&quot;. Only shell,startLogsBroadcast,stopLogsBroadcast commands are supported.&quot;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: HashMap + scrollObject.put&lt;/li&gt;\r\n    &lt;code&gt;JavascriptExecutor js = (JavascriptExecutor) driver;\r\nHashMap&lt;String, String&gt; scrollObject = new HashMap&lt;String, String&gt;();\r\nscrollObject.put(&quot;direction&quot;, &quot;down&quot;);\r\njs.executeScript(&quot;mobile: scroll&quot;, scrollObject);&lt;/code&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: http://appium.io/docs/en/writing-running-appium/touch-actions/&lt;/li&gt;\r\n&lt;li&gt;Error: &quot;Unknown mobile command &quot;scroll&quot;. Only shell,startLogsBroadcast,stopLogsBroadcast commands are supported.&quot;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;li&gt;Approach: Adjusted context of app from &quot;native&quot; to &quot;webview&quot; (since it&#39;s a Cordova app)&lt;/li&gt;\r\n    &lt;code&gt;appCapabilities.setCapability(&quot;autoWebview&quot;, &quot;true&quot;);&lt;/code&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;Source: https://github.com/appium/appium/blob/master/docs/en/writing-running-appium/caps.md&lt;/li&gt;\r\n&lt;li&gt;Error: &quot;Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: It is impossible to create a new session because &#39;createSession&#39; which takes HttpClient, InputStream and long was not found or it is not accessible.&quot;&lt;/li&gt;\r\n&lt;li&gt;Error: &quot;org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: No Chromedriver found that can automate Chrome &#39;58.0.3029&#39;. See https://github.com/appium/appium/blob/master/docs/en/writing-running-appium/web/chromedriver.md for more details. (WARNING: The server did not provide any stacktrace information)&quot;\r\n&lt;/ul&gt;&lt;/li&gt;\r\n\r\n&lt;/ol&gt;","title":"Unable to scroll Android app with Appium using Java Client","body":"<p>I am unable to scroll down to the bottom of any page in an Android app using Appium.  Multiple approaches were attempted, including those found on Stack Overflow.  (It seems this challenge is common.)  However, all attempts failed.</p>\n\n<p>Environment:</p>\n\n<ul>\n<li>Appium version: 1.6.2</li>\n<li>Appium client: Java (java-client-6.1.0.jar)</li>\n<li>Android versions: 5.1, 6.0.1, 7.1.1</li>\n<li>Java version: jre1.8.0_171</li>\n<li>Selenium version: selenium-java-3.13.0</li>\n<li>App type: Cordova (hybrid); the app is built with Cordova but when running <code>System.out.println(driver.getContext());</code>, the result is <code>NATIVE_APP</code></li>\n</ul>\n\n<p>Please share any alternatives or refinements that can solve this problem.  Any helpful suggestions are greatly appreciated!</p>\n\n<p>The following summarizes the various approaches that were attempted: </p>\n\n<ol>\n\n<li>Approach: scrollIntoView() (various implementations)</li>\n<code>driver.findElementByAndroidUIAutomator(\"new UiScrollable(new UiSelector()).scrollIntoView(resourceId(\\\"send-to-email-app\\\"));\").click();</code>\n\n<ul>\n<li>Source: Udemy course</li>\n<li>Error: Does not scroll and NO error</li>\n</ul>\n\n<br>\n\n<li>Approach: Try catch > scrollIntoView()</li>\n    <code>try {\n            driver.findElementByAndroidUIAutomator(\"new UiScrollable(new UiSelector()).scrollIntoView(text(\\\"Send\\\"))\");\n        }catch(Exception e) {\n            System.out.println(\"We got an error scrolling!\");\n        }</code>\n<ul>\n<li>Source: https://stackoverflow.com/questions/39658626/how-to-scroll-top-to-botton-using-android-driver</li>\n<li>Error: Partially works: the page scrolls down but not far enough</li>\n</ul>\n\n<br>\n\n<li>Approach: Swipe</li>\n    <code>driver.swipe(0, Startpoint,0,scrollEnd,1000);</code>\n<ul>\n<li>Source: https://stackoverflow.com/questions/39130591/swipe-or-scroll-to-bottom-in-appium-android</li>\n<li>Error: Swipe is deprecated</li>\n</ul>\n\n<br>\n\n<li>Approach: touchAction.longPress + moveTo</li>\n    <code>...touchAction.longPress(fromX, fromY).moveTo(toX, toY).release().perform();</code>\n<ul>\n<li>Source: https://stackoverflow.com/questions/44282417/how-to-scroll-with-appium-1-7-1-using-touchaction</li>\n<li>Error: \"driver cannot be resolved\"</li>\n</ul>\n\n<br>\n\n<li>Approach: touchAction.longPress + moveTo</li>\n    <code>TouchAction touchAction = new TouchAction(driver);\ntouchAction.longPress(10, 10).moveTo(x, y).release().perform();</code>\n<ul>\n<li>Source: https://stackoverflow.com/questions/44282417/how-to-scroll-with-appium-1-7-1-using-touchaction</li>\n<li>Error: \"The method longPress(LongPressOptions) in the type TouchAction is not applicable for the arguments (int, int)\"</li>\n</ul>\n\n<br>\n\n<li>Approach: touch.longPress + moveTo</li>\n    <code>...TouchAction touch = new TouchAction(driver);\ntouch.longPress(co_ordinates[0], co_ordinates[1]).moveTo(dinates[0], dinates[1]).release().perform();</code>\n<ul>\n<li>Source: https://stackoverflow.com/questions/50304699/how-to-scroll-to-specific-element-inlatest-version-of-appium-using-java</li>\n<li>Error: \"takeaway cannot be resolved\"</li>\n</ul>\n\n<br>\n\n<li>Approach: moveTo + using coordinates</li>\n    <code>actions.press(startX, startY).waitAction(Duration.ofSeconds(2)).moveTo(endX, endY).release().perform();</code>\n<ul>\n<li>Source: http://www.automationtestinghub.com/appium-scroll-examples/</li>\n<li>Error: The 'press' action is deprecated!</li>\n</ul>\n\n<br>\n\n<li>Approach: Using Press Approach to swipe + moveTo</li>\n    <code>TouchAction().press(el0).moveTo(el1).release();</code>\n<ul>\n<li>Source: https://stackoverflow.com/questions/49004686/scroll-text-area-with-terms-and-conditions-on-hybrid-app-with-appium</li>\n<li>Error: \"The method press(AndroidElement) is undefined for the type Object\"</li>\n</ul>\n\n<br>\n\n<li>Approach: touchAction 'tap' using coordinates</li>\n    <code>TouchAction touchAction = new TouchAction(driver);\ntouchAction.tap(PointOption.point(x, y)).perform();</code>\n<ul>\n<li>Source: https://discuss.appium.io/t/scrolling-to-element-in-android-app-using-java/17208</li>\n<li>Error: None; it partially works: the page scrolls down but not far enough! </li>\n</ul>\n\n<br>\n\n<li>Approach: UiScrollable > Specify Parent scrollable frame and Child element</li>\n    <code>MobileElement doeButton = driver.findElement(MobileBy.AndroidUIAutomator(\n\"new UiScrollable(new UiSelector().text(\\\"Android scrollbar test\\\")).getChildByText(\"\n+ \"new UiSelector().className(\\\"android.widget.TextView\\\"), \\\"Doe\\\")\"));</code>\n<ul>\n<li>Source: https://stackoverflow.com/a/51003840/9214050</li>\n<li>Error: \"Could not parse UiSelector argument: problem using reflection to call this method\"</li>\n</ul>\n\n<br>\n\n<li>Approach: UiScrollable > Specify Parent scrollable frame and 'scrollIntoView' child element</li>\n    <code>MobileElement sendEmailButton = driver.findElement(MobileBy.AndroidUIAutomator(\n                \"new UiScrollable(new UiSelector().resourceId(\\\"content\\\")).scrollIntoView(\"\n                + \"new UiSelector().resourceId(\\\"add-task-button\\\"))\"));\n                sendEmailButton.click();</code>\n<ul>\n<li>Source: https://stackoverflow.com/a/51003840/9214050</li>\n<li>Error: Does not scroll and NO error</li>\n</ul>\n\n<br>\n\n<li>Approach: Changed “scrollable” attribute for page elements from “false” to “true” using CSS styles</li>\n<ul>\n<li>Source: http://burnignorance.com/html-tips/making-a-smooth-scroll-view-for-android-ios-in-html/</li>\n<li>Error: none, but app won't scroll to bottom of page.</li>\n</ul>\n\n<br>\n\n<li>Approach: Touch actions: “mobile: swipe”, “mobile: scroll” (http://appium.io/docs/en/writing-running-appium/touch-actions/)</li>\n    <code>JavascriptExecutor js = (JavascriptExecutor) driver;\n      HashMap params = new HashMap();\n      params.put(\"direction\", \"up\");\n      js.executeScript(\"mobile: swipe\", params);</code>\n<ul>\n<li>Source: https://stackoverflow.com/questions/32387357/i-cant-make-swipe-gesture-work-for-me-in-appium-using-java#</li>\n<li>Error: \"Unknown mobile command \"scroll\". Only shell,startLogsBroadcast,stopLogsBroadcast commands are supported.\"</li>\n</ul>\n\n<br>\n\n<li>Approach: HashMap + scrollObject.put</li>\n    <code>JavascriptExecutor js = (JavascriptExecutor) driver;\nHashMap scrollObject = new HashMap();\nscrollObject.put(\"direction\", \"down\");\njs.executeScript(\"mobile: scroll\", scrollObject);</code>\n<ul>\n<li>Source: http://appium.io/docs/en/writing-running-appium/touch-actions/</li>\n<li>Error: \"Unknown mobile command \"scroll\". Only shell,startLogsBroadcast,stopLogsBroadcast commands are supported.\"</li>\n</ul>\n\n<br>\n\n<li>Approach: Adjusted context of app from \"native\" to \"webview\" (since it's a Cordova app)</li>\n    <code>appCapabilities.setCapability(\"autoWebview\", \"true\");</code>\n<ul>\n<li>Source: https://github.com/appium/appium/blob/master/docs/en/writing-running-appium/caps.md</li>\n<li>Error: \"Exception in thread \"main\" org.openqa.selenium.WebDriverException: It is impossible to create a new session because 'createSession' which takes HttpClient, InputStream and long was not found or it is not accessible.\"</li>\n<li>Error: \"org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: No Chromedriver found that can automate Chrome '58.0.3029'. See https://github.com/appium/appium/blob/master/docs/en/writing-running-appium/web/chromedriver.md for more details. (WARNING: The server did not provide any stacktrace information)\"\n</ul></li>\n\n</ol>\n"},{"tags":["java","spring","spring-boot","algorithm","rest"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664545587,"post_id":73909380,"comment_id":130502943,"body_markdown":"And your question is &quot;what is a loop&quot;? (Sorry, I don&#39;t want to sound condescending, only trying to understand the concrete question) Can you explain which &quot;error is thrown&quot;? Using a loop would be `List&lt;String&gt; result = new ArrayList&lt;&gt;(); for (var url : urls) { result.add(shortenUrl(url, pCache)); } return result;`. But I&#39;m sure that it can&#39;t be that simple, because once you have a Spring Boot app with services and Lombok and controllers, etc. you must have used a loop before.","body":"And your question is &quot;what is a loop&quot;? (Sorry, I don&#39;t want to sound condescending, only trying to understand the concrete question) Can you explain which &quot;error is thrown&quot;? Using a loop would be <code>List&lt;String&gt; result = new ArrayList&lt;&gt;(); for (var url : urls) { result.add(shortenUrl(url, pCache)); } return result;</code>. But I&#39;m sure that it can&#39;t be that simple, because once you have a Spring Boot app with services and Lombok and controllers, etc. you must have used a loop before."},{"owner":{"account_id":26332949,"reputation":3,"user_id":19993205,"display_name":"sticky fingers"},"score":0,"creation_date":1664861377,"post_id":73909380,"comment_id":130561156,"body_markdown":"Actually i wanted to ask was how can I change the ShortURL service, which takes String one by one, to take an array and return an array. I&#39;m aware that it&#39;s done with a loop, but I couldn&#39;t, I can&#39;t post all the codes I&#39;ve tried :(","body":"Actually i wanted to ask was how can I change the ShortURL service, which takes String one by one, to take an array and return an array. I&#39;m aware that it&#39;s done with a loop, but I couldn&#39;t, I can&#39;t post all the codes I&#39;ve tried :("}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664544245,"creation_date":1664544245,"answer_id":73909474,"question_id":73909380,"body_markdown":"Use a for loop, shorten each URL in the `List`, and add them to another `List` to return.\r\n\r\n```java\r\nList&lt;String&gt; shortUrls = new ArrayList&lt;&gt;(urls.size());\r\nif (!StringUtils.isEmpty(pCache)) {\r\n  longUrl = Collections.singletonList(addCacheParameter(url, pCache));\r\n}\r\nRestTemplate restTemplate = new RestTemplate();\r\nfor (String url: urls) {\r\n\tString longUrl = url.replace(&quot;&amp;&quot;, &quot;%26&quot;);\r\n\tString shortUrl = null;\r\n\ttry {\r\n\t\tshortUrl = restTemplate.getForObject(buildServiceUrl(longUrl),List.class);\r\n\t} catch (Exception e) {\r\n\t\tlog.error(&quot;Service call failed: &quot; + e.getMessage());\r\n\t\t shortUrl = SERVICE_CALL_FAIL;\r\n\t}\r\n\tlog.info(&quot;Short URL: &quot; + shortUrl);\r\n\tif (shortUrl.contains(&quot;-&quot;)) {\r\n\t\tint rand = random.nextInt(999999);\r\n\t\tshortUrl = shortenUrl(url, String.valueOf(rand));\r\n\t}\r\n\tshortUrls.add(shortUrl);\r\n}\r\nreturn shortUrls;\r\n```","title":"How can I change an algorithm returning a String type to return a List type in Spring?","body":"<p>Use a for loop, shorten each URL in the <code>List</code>, and add them to another <code>List</code> to return.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; shortUrls = new ArrayList&lt;&gt;(urls.size());\nif (!StringUtils.isEmpty(pCache)) {\n  longUrl = Collections.singletonList(addCacheParameter(url, pCache));\n}\nRestTemplate restTemplate = new RestTemplate();\nfor (String url: urls) {\n    String longUrl = url.replace(&quot;&amp;&quot;, &quot;%26&quot;);\n    String shortUrl = null;\n    try {\n        shortUrl = restTemplate.getForObject(buildServiceUrl(longUrl),List.class);\n    } catch (Exception e) {\n        log.error(&quot;Service call failed: &quot; + e.getMessage());\n         shortUrl = SERVICE_CALL_FAIL;\n    }\n    log.info(&quot;Short URL: &quot; + shortUrl);\n    if (shortUrl.contains(&quot;-&quot;)) {\n        int rand = random.nextInt(999999);\n        shortUrl = shortenUrl(url, String.valueOf(rand));\n    }\n    shortUrls.add(shortUrl);\n}\nreturn shortUrls;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8136328,"reputation":1561,"user_id":6127820,"accept_rate":33,"display_name":"Vaibs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664544775,"creation_date":1664544775,"answer_id":73909573,"question_id":73909380,"body_markdown":"    @Slf4j\r\n    @Service\r\n    public class ShortUrlService {\r\n          private static final String SERVICE_URL = &quot;http://mysite.co/example-api.php&quot;;\r\n          private static final String SIGNATURE = &quot;45abc12345&quot;;\r\n          private static final String ACTION = &quot;shorturl&quot;;\r\n          private static final String FORMAT = &quot;simple&quot;;\r\n          private static final String SERVICE_CALL_FAIL = &quot;SERVICE_CALL_FAIL&quot;;\r\n                    \r\n          private Random random = new Random();\r\n                \r\n          @Override\r\n          public List&lt;String&gt; shortenUrl(List&lt;String&gt; urls, String pCache, List&lt;String&gt; shortUrls, List&lt;String&gt; longUrls) {\r\n              \r\n    \t\t  for(String url:urls){\t\t\t   \r\n              if (!StringUtils.isEmpty(pCache)) {\r\n                  longUrl = Collections.singletonList(addCacheParameter(url, pCache));\r\n    \t\t\t  longUrl = longUrl.replace(&quot;&amp;&quot;, &quot;%26&quot;);\r\n    \t\t\t  longUrls.add(longUrl);\r\n              }\r\n              RestTemplate restTemplate = new RestTemplate();    \r\n                try {\r\n                    **shortUrl = restTemplate.getForObject(buildServiceUrl(longUrl));**\r\n                } catch (Exception e) {\r\n                    log.error(&quot;Service call failed: &quot; + e.getMessage());\r\n                     **shortUrl =  SERVICE_CALL_FAIL;**\r\n                }\r\n        \r\n                log.info(&quot;Short URL: &quot; + shortUrl);\r\n        \r\n                if (shortUrl.contains(&quot;-&quot;)) {\r\n                    int rand = random.nextInt(999999);\r\n                    return shortenUrl(url, String.valueOf(rand));\r\n                }\r\n    \t\t\tshortUrls.add(shortUrl);\r\n    \t\t\t\r\n    \t\t   }\r\n                return shortUrls;\r\n            }\r\n        \r\n            private String addCacheParameter(String url, String pCache) {\r\n                if (url.contains(&quot;?&quot;)) {\r\n                    return url + &quot;&amp;pCache=&quot; + pCache;\r\n                } else {\r\n                    return url + &quot;?pCache=&quot; + pCache;\r\n                }\r\n            }\r\n        \r\n             private String buildServiceUrl(String url) {\r\n                StringBuilder sb = new StringBuilder();\r\n        \r\n                sb.append(SERVICE_URL);\r\n                sb.append(&quot;?signature=&quot;);\r\n                sb.append(SIGNATURE);\r\n                sb.append(&quot;&amp;action=&quot;);\r\n                sb.append(ACTION);\r\n                sb.append(&quot;&amp;url=&quot;);\r\n                sb.append(url);\r\n                sb.append(&quot;&amp;format=&quot;);\r\n                sb.append(FORMAT);\r\n                \r\n                log.info(&quot;Built URL: &quot; + sb.toString());\r\n                \r\n                return sb.toString();\r\n            }\r\n                    \r\n    }\r\n\r\nTry this.Modified some part.","title":"How can I change an algorithm returning a String type to return a List type in Spring?","body":"<pre><code>@Slf4j\n@Service\npublic class ShortUrlService {\n      private static final String SERVICE_URL = &quot;http://mysite.co/example-api.php&quot;;\n      private static final String SIGNATURE = &quot;45abc12345&quot;;\n      private static final String ACTION = &quot;shorturl&quot;;\n      private static final String FORMAT = &quot;simple&quot;;\n      private static final String SERVICE_CALL_FAIL = &quot;SERVICE_CALL_FAIL&quot;;\n                \n      private Random random = new Random();\n            \n      @Override\n      public List&lt;String&gt; shortenUrl(List&lt;String&gt; urls, String pCache, List&lt;String&gt; shortUrls, List&lt;String&gt; longUrls) {\n          \n          for(String url:urls){            \n          if (!StringUtils.isEmpty(pCache)) {\n              longUrl = Collections.singletonList(addCacheParameter(url, pCache));\n              longUrl = longUrl.replace(&quot;&amp;&quot;, &quot;%26&quot;);\n              longUrls.add(longUrl);\n          }\n          RestTemplate restTemplate = new RestTemplate();    \n            try {\n                **shortUrl = restTemplate.getForObject(buildServiceUrl(longUrl));**\n            } catch (Exception e) {\n                log.error(&quot;Service call failed: &quot; + e.getMessage());\n                 **shortUrl =  SERVICE_CALL_FAIL;**\n            }\n    \n            log.info(&quot;Short URL: &quot; + shortUrl);\n    \n            if (shortUrl.contains(&quot;-&quot;)) {\n                int rand = random.nextInt(999999);\n                return shortenUrl(url, String.valueOf(rand));\n            }\n            shortUrls.add(shortUrl);\n            \n           }\n            return shortUrls;\n        }\n    \n        private String addCacheParameter(String url, String pCache) {\n            if (url.contains(&quot;?&quot;)) {\n                return url + &quot;&amp;pCache=&quot; + pCache;\n            } else {\n                return url + &quot;?pCache=&quot; + pCache;\n            }\n        }\n    \n         private String buildServiceUrl(String url) {\n            StringBuilder sb = new StringBuilder();\n    \n            sb.append(SERVICE_URL);\n            sb.append(&quot;?signature=&quot;);\n            sb.append(SIGNATURE);\n            sb.append(&quot;&amp;action=&quot;);\n            sb.append(ACTION);\n            sb.append(&quot;&amp;url=&quot;);\n            sb.append(url);\n            sb.append(&quot;&amp;format=&quot;);\n            sb.append(FORMAT);\n            \n            log.info(&quot;Built URL: &quot; + sb.toString());\n            \n            return sb.toString();\n        }\n                \n}\n</code></pre>\n<p>Try this.Modified some part.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664866697,"creation_date":1664866219,"answer_id":73944059,"question_id":73909380,"body_markdown":"In procedural languages, if you have something that applies to one thing and you need to support multiple things, the solution is 99% of the time a loop.\r\n\r\nIf you already have a method which handles the one thing, you can create an overload and delegate the actual work to this one method. This will work, but might not always the most efficient solution (think N+1 select problem for example). Some things are better done once before the loop instead of every time the loop&#39;s body is executed.\r\n\r\nFor your problem, easiest is to provide an overload (or a similarly named method). If you don&#39;t want the single-arg method to be callable any longer, you can mark it private.\r\n\r\nThe list-enabled method instantiates the new list to return, calls the original method and adds its result to the list. The list is ultimately returned:\r\n\r\n        public List&lt;String&gt; shortenUrls(final List&lt;String&gt; urls, final String pCache) {\r\n            final List&lt;String&gt; shortUrls = new ArrayList&lt;&gt;();\r\n            for (final String url : urls) {\r\n                shortUrls.add(shortenUrl(url, pCache));\r\n            }\r\n            return shortUrls;\r\n        }\r\n\r\n        public String shortenUrl(String url, String pCache) {\r\n            // nothing to change in this method, except maybe make it `private`\r\n            String shortUrl = null;\r\n            String longUrl = url;\r\n            \r\n            if (!StringUtils.isEmpty(pCache)) {\r\n                longUrl = addCacheParameter(url, pCache);\r\n            }\r\n            \r\n            longUrl = longUrl.replace(&quot;&amp;&quot;, &quot;%26&quot;);\r\n            \r\n            try {\r\n                shortUrl = httpClient.getRequest(buildServiceUrl(longUrl));\r\n            } catch (IOException e) {\r\n                log.error(&quot;Service call failed: &quot; + e.getMessage());\r\n                shortUrl = SERVICE_CALL_FAIL;\r\n            }\r\n            \r\n            log.info(&quot;Short URL: &quot; + shortUrl);\r\n            \r\n            if (shortUrl.contains(&quot;-&quot;)) {\r\n                int rand = random.nextInt(999999);\r\n                return shortenUrl(url, String.valueOf(rand));\r\n            }\r\n            \r\n            return shortUrl;\r\n        }","title":"How can I change an algorithm returning a String type to return a List type in Spring?","body":"<p>In procedural languages, if you have something that applies to one thing and you need to support multiple things, the solution is 99% of the time a loop.</p>\n<p>If you already have a method which handles the one thing, you can create an overload and delegate the actual work to this one method. This will work, but might not always the most efficient solution (think N+1 select problem for example). Some things are better done once before the loop instead of every time the loop's body is executed.</p>\n<p>For your problem, easiest is to provide an overload (or a similarly named method). If you don't want the single-arg method to be callable any longer, you can mark it private.</p>\n<p>The list-enabled method instantiates the new list to return, calls the original method and adds its result to the list. The list is ultimately returned:</p>\n<pre><code>    public List&lt;String&gt; shortenUrls(final List&lt;String&gt; urls, final String pCache) {\n        final List&lt;String&gt; shortUrls = new ArrayList&lt;&gt;();\n        for (final String url : urls) {\n            shortUrls.add(shortenUrl(url, pCache));\n        }\n        return shortUrls;\n    }\n\n    public String shortenUrl(String url, String pCache) {\n        // nothing to change in this method, except maybe make it `private`\n        String shortUrl = null;\n        String longUrl = url;\n        \n        if (!StringUtils.isEmpty(pCache)) {\n            longUrl = addCacheParameter(url, pCache);\n        }\n        \n        longUrl = longUrl.replace(&quot;&amp;&quot;, &quot;%26&quot;);\n        \n        try {\n            shortUrl = httpClient.getRequest(buildServiceUrl(longUrl));\n        } catch (IOException e) {\n            log.error(&quot;Service call failed: &quot; + e.getMessage());\n            shortUrl = SERVICE_CALL_FAIL;\n        }\n        \n        log.info(&quot;Short URL: &quot; + shortUrl);\n        \n        if (shortUrl.contains(&quot;-&quot;)) {\n            int rand = random.nextInt(999999);\n            return shortenUrl(url, String.valueOf(rand));\n        }\n        \n        return shortUrl;\n    }\n</code></pre>\n"}],"owner":{"account_id":26332949,"reputation":3,"user_id":19993205,"display_name":"sticky fingers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1664866697,"creation_date":1664543771,"question_id":73909380,"body_markdown":" The job of this snippet is: When I give a long unique url in the form of List&lt;String&gt;, it converts it to a short url.\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class ShortUrlService {\r\n        \tprivate static final String SERVICE_URL = &quot;http://mysite.co/example-api.php&quot;;\r\n        \tprivate static final String SIGNATURE = &quot;45abc12345&quot;;\r\n        \tprivate static final String ACTION = &quot;shorturl&quot;;\r\n        \tprivate static final String FORMAT = &quot;simple&quot;;\r\n        \tprivate static final String SERVICE_CALL_FAIL = &quot;SERVICE_CALL_FAIL&quot;;\r\n        \t\r\n        \tprivate Random random = new Random();\r\n        \t\r\n        \t@Autowired\r\n        \tprivate HttpClient httpClient;\r\n        \r\n        \tpublic String shortenUrl(String url, String pCache) {\r\n        \t\tString shortUrl = null;\r\n        \t\tString longUrl = url;\r\n        \t\t\r\n        \t\tif (!StringUtils.isEmpty(pCache)) {\r\n        \t\t\tlongUrl = addCacheParameter(url, pCache);\r\n        \t\t}\r\n        \t\t\r\n        \t\tlongUrl = longUrl.replace(&quot;&amp;&quot;, &quot;%26&quot;);\r\n        \t\t\r\n        \t\ttry {\r\n        \t\t\tshortUrl = httpClient.getRequest(buildServiceUrl(longUrl));\r\n        \t\t} catch (IOException e) {\r\n        \t\t\tlog.error(&quot;Service call failed: &quot; + e.getMessage());\r\n        \t\t\tshortUrl = SERVICE_CALL_FAIL;\r\n        \t\t}\r\n        \t\t\r\n        \t\tlog.info(&quot;Short URL: &quot; + shortUrl);\r\n        \t\t\r\n        \t\tif (shortUrl.contains(&quot;-&quot;)) {\r\n        \t\t\tint rand = random.nextInt(999999);\r\n        \t\t\treturn shortenUrl(url, String.valueOf(rand));\r\n        \t\t}\r\n        \t\t\r\n        \t\treturn shortUrl;\r\n        \t}\r\n        \t\r\n        \tprivate String addCacheParameter(String url, String pCache) {\r\n        \t\tif (url.contains(&quot;?&quot;)) {\r\n        \t\t\treturn url + &quot;&amp;pCache=&quot; + pCache;\r\n        \t\t} else {\r\n        \t\t\treturn url + &quot;?pCache=&quot; + pCache;\r\n        \t\t}\r\n        \t}\r\n        \r\n        \tprivate String buildServiceUrl(String url) {\r\n        \t\tStringBuilder sb = new StringBuilder();\r\n        \r\n        \t\tsb.append(SERVICE_URL);\r\n        \t\tsb.append(&quot;?signature=&quot;);\r\n        \t\tsb.append(SIGNATURE);\r\n        \t\tsb.append(&quot;&amp;action=&quot;);\r\n        \t\tsb.append(ACTION);\r\n        \t\tsb.append(&quot;&amp;url=&quot;);\r\n        \t\tsb.append(url);\r\n        \t\tsb.append(&quot;&amp;format=&quot;);\r\n        \t\tsb.append(FORMAT);\r\n        \t\t\r\n        \t\tlog.info(&quot;Built URL: &quot; + sb.toString());\r\n        \t\t\r\n        \t\treturn sb.toString();\r\n        \t}\r\n        \t\r\n    }\r\n\r\nI have a service like below. The return value of this service is List&lt;String&gt;\r\nI want to change to . I&#39;m having problems in several places here can you help me fix the code?\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class ShortUrlService {\r\n          private static final String SERVICE_URL = &quot;http://mysite.co/example-api.php&quot;;\r\n          private static final String SIGNATURE = &quot;45abc12345&quot;;\r\n          private static final String ACTION = &quot;shorturl&quot;;\r\n          private static final String FORMAT = &quot;simple&quot;;\r\n          private static final String SERVICE_CALL_FAIL = &quot;SERVICE_CALL_FAIL&quot;;\r\n                \t\r\n          private Random random = new Random();\r\n                \r\n          @Override\r\n          public List&lt;String&gt; shortenUrl(List&lt;String&gt; url, String pCache) {\r\n              List&lt;String&gt; shortUrl = null;\r\n              List&lt;String&gt; longUrl = url;\r\n        \r\n              if (!StringUtils.isEmpty(pCache)) {\r\n                  longUrl = Collections.singletonList(addCacheParameter(url, pCache));\r\n              }\r\n        \r\n              **longUrl = longUrl.replace(&quot;&amp;&quot;, &quot;%26&quot;);**\r\n        \r\n        \r\n              RestTemplate restTemplate = new RestTemplate();\r\n        \r\n                try {\r\n                    **shortUrl = restTemplate.getForObject(buildServiceUrl(longUrl),List.class);**\r\n                } catch (Exception e) {\r\n                    log.error(&quot;Service call failed: &quot; + e.getMessage());\r\n                     **shortUrl =  SERVICE_CALL_FAIL;**\r\n                }\r\n        \r\n                log.info(&quot;Short URL: &quot; + shortUrl);\r\n        \r\n                if (shortUrl.contains(&quot;-&quot;)) {\r\n                    int rand = random.nextInt(999999);\r\n                    return shortenUrl(url, String.valueOf(rand));\r\n                }\r\n        \r\n                return shortUrl;\r\n            }\r\n        \r\n            private String addCacheParameter(List&lt;String&gt; url, String pCache) {\r\n                if (url.contains(&quot;?&quot;)) {\r\n                    return url + &quot;&amp;pCache=&quot; + pCache;\r\n                } else {\r\n                    return url + &quot;?pCache=&quot; + pCache;\r\n                }\r\n            }\r\n        \r\n            private String buildServiceUrl(List&lt;String&gt; url) {\r\n                StringBuilder sb = new StringBuilder();\r\n        \r\n                sb.append(SERVICE_URL);\r\n                sb.append(&quot;?signature=&quot;);\r\n                sb.append(SIGNATURE);\r\n                sb.append(&quot;&amp;action=&quot;);\r\n                sb.append(ACTION);\r\n                sb.append(&quot;&amp;url=&quot;);\r\n                sb.append(url);\r\n                sb.append(&quot;&amp;format=&quot;);\r\n                sb.append(FORMAT);\r\n        \r\n                log.info(&quot;Built URL: &quot; + sb.toString());\r\n        \r\n                return sb.toString();\r\n            }\r\n                \t\r\n    }\r\n\r\n\r\nHere httpClient.getRequest throws an error as it remains an old technology. I wanted to use RestTemplate instead. But did I use it right? And how can i write replace method as replaceAll ?","title":"How can I change an algorithm returning a String type to return a List type in Spring?","body":"<p>The job of this snippet is: When I give a long unique url in the form of List, it converts it to a short url.</p>\n<pre><code>@Slf4j\n@Service\npublic class ShortUrlService {\n        private static final String SERVICE_URL = &quot;http://mysite.co/example-api.php&quot;;\n        private static final String SIGNATURE = &quot;45abc12345&quot;;\n        private static final String ACTION = &quot;shorturl&quot;;\n        private static final String FORMAT = &quot;simple&quot;;\n        private static final String SERVICE_CALL_FAIL = &quot;SERVICE_CALL_FAIL&quot;;\n        \n        private Random random = new Random();\n        \n        @Autowired\n        private HttpClient httpClient;\n    \n        public String shortenUrl(String url, String pCache) {\n            String shortUrl = null;\n            String longUrl = url;\n            \n            if (!StringUtils.isEmpty(pCache)) {\n                longUrl = addCacheParameter(url, pCache);\n            }\n            \n            longUrl = longUrl.replace(&quot;&amp;&quot;, &quot;%26&quot;);\n            \n            try {\n                shortUrl = httpClient.getRequest(buildServiceUrl(longUrl));\n            } catch (IOException e) {\n                log.error(&quot;Service call failed: &quot; + e.getMessage());\n                shortUrl = SERVICE_CALL_FAIL;\n            }\n            \n            log.info(&quot;Short URL: &quot; + shortUrl);\n            \n            if (shortUrl.contains(&quot;-&quot;)) {\n                int rand = random.nextInt(999999);\n                return shortenUrl(url, String.valueOf(rand));\n            }\n            \n            return shortUrl;\n        }\n        \n        private String addCacheParameter(String url, String pCache) {\n            if (url.contains(&quot;?&quot;)) {\n                return url + &quot;&amp;pCache=&quot; + pCache;\n            } else {\n                return url + &quot;?pCache=&quot; + pCache;\n            }\n        }\n    \n        private String buildServiceUrl(String url) {\n            StringBuilder sb = new StringBuilder();\n    \n            sb.append(SERVICE_URL);\n            sb.append(&quot;?signature=&quot;);\n            sb.append(SIGNATURE);\n            sb.append(&quot;&amp;action=&quot;);\n            sb.append(ACTION);\n            sb.append(&quot;&amp;url=&quot;);\n            sb.append(url);\n            sb.append(&quot;&amp;format=&quot;);\n            sb.append(FORMAT);\n            \n            log.info(&quot;Built URL: &quot; + sb.toString());\n            \n            return sb.toString();\n        }\n        \n}\n</code></pre>\n<p>I have a service like below. The return value of this service is List\nI want to change to . I'm having problems in several places here can you help me fix the code?</p>\n<pre><code>@Slf4j\n@Service\npublic class ShortUrlService {\n      private static final String SERVICE_URL = &quot;http://mysite.co/example-api.php&quot;;\n      private static final String SIGNATURE = &quot;45abc12345&quot;;\n      private static final String ACTION = &quot;shorturl&quot;;\n      private static final String FORMAT = &quot;simple&quot;;\n      private static final String SERVICE_CALL_FAIL = &quot;SERVICE_CALL_FAIL&quot;;\n                \n      private Random random = new Random();\n            \n      @Override\n      public List&lt;String&gt; shortenUrl(List&lt;String&gt; url, String pCache) {\n          List&lt;String&gt; shortUrl = null;\n          List&lt;String&gt; longUrl = url;\n    \n          if (!StringUtils.isEmpty(pCache)) {\n              longUrl = Collections.singletonList(addCacheParameter(url, pCache));\n          }\n    \n          **longUrl = longUrl.replace(&quot;&amp;&quot;, &quot;%26&quot;);**\n    \n    \n          RestTemplate restTemplate = new RestTemplate();\n    \n            try {\n                **shortUrl = restTemplate.getForObject(buildServiceUrl(longUrl),List.class);**\n            } catch (Exception e) {\n                log.error(&quot;Service call failed: &quot; + e.getMessage());\n                 **shortUrl =  SERVICE_CALL_FAIL;**\n            }\n    \n            log.info(&quot;Short URL: &quot; + shortUrl);\n    \n            if (shortUrl.contains(&quot;-&quot;)) {\n                int rand = random.nextInt(999999);\n                return shortenUrl(url, String.valueOf(rand));\n            }\n    \n            return shortUrl;\n        }\n    \n        private String addCacheParameter(List&lt;String&gt; url, String pCache) {\n            if (url.contains(&quot;?&quot;)) {\n                return url + &quot;&amp;pCache=&quot; + pCache;\n            } else {\n                return url + &quot;?pCache=&quot; + pCache;\n            }\n        }\n    \n        private String buildServiceUrl(List&lt;String&gt; url) {\n            StringBuilder sb = new StringBuilder();\n    \n            sb.append(SERVICE_URL);\n            sb.append(&quot;?signature=&quot;);\n            sb.append(SIGNATURE);\n            sb.append(&quot;&amp;action=&quot;);\n            sb.append(ACTION);\n            sb.append(&quot;&amp;url=&quot;);\n            sb.append(url);\n            sb.append(&quot;&amp;format=&quot;);\n            sb.append(FORMAT);\n    \n            log.info(&quot;Built URL: &quot; + sb.toString());\n    \n            return sb.toString();\n        }\n                \n}\n</code></pre>\n<p>Here httpClient.getRequest throws an error as it remains an old technology. I wanted to use RestTemplate instead. But did I use it right? And how can i write replace method as replaceAll ?</p>\n"},{"tags":["java","android","macos"],"answers":[{"tags":[],"owner":{"account_id":2975525,"reputation":66,"user_id":2526635,"display_name":"Kyle Lanchman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1421445665,"creation_date":1421445665,"answer_id":27993493,"question_id":27993380,"body_markdown":"I believe the JVM in /System/Library/Java/JavaVirtualMachines is Apple&#39;s version.\r\n\r\nOracle&#39;s version installs in /Library/Java/JavaVirtualMachines","title":"Missing JDK 1.8 virtual machine on Mac OS Yosemite","body":"<p>I believe the JVM in /System/Library/Java/JavaVirtualMachines is Apple's version.</p>\n\n<p>Oracle's version installs in /Library/Java/JavaVirtualMachines</p>\n"},{"tags":[],"owner":{"account_id":12183171,"reputation":914,"user_id":8894035,"display_name":"Wahab Khan Jadon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664866458,"creation_date":1664866458,"answer_id":73944093,"question_id":27993380,"body_markdown":"In my case i install `java_17` but latter on i uninstall `java_17` and reinstall `java_11` but its show `java_17` in `Library &gt; Java &gt; JavaVirtualMachines` folder ... so i run following command after deleting `java_17` from JVM folder and its work for me...  `sudo ln -sfn /usr/local/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk`","title":"Missing JDK 1.8 virtual machine on Mac OS Yosemite","body":"<p>In my case i install <code>java_17</code> but latter on i uninstall <code>java_17</code> and reinstall <code>java_11</code> but its show <code>java_17</code> in <code>Library &gt; Java &gt; JavaVirtualMachines</code> folder ... so i run following command after deleting <code>java_17</code> from JVM folder and its work for me...  <code>sudo ln -sfn /usr/local/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk</code></p>\n"}],"owner":{"account_id":1705542,"reputation":4246,"user_id":1564652,"accept_rate":75,"display_name":"TooManyEduardos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3847,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":27993493,"answer_count":2,"score":3,"last_activity_date":1664866458,"creation_date":1421445164,"question_id":27993380,"body_markdown":"I have mac os 10.10 Yosemite and I&#39;m trying to install all of my tools for Android studio. I have installed the java package from apple and the jdk 1.8 from Oracle.\r\n\r\nHowever, the JavaVirtualMachines folder in /System/Library/Java does not display the 1.8.0jdk.\r\n\r\nI have simply installed the .dmg file from Oracle and run it.\r\n\r\nIf I run\r\n\r\n    java -version\r\nI get this:\r\n\r\n    java version &quot;1.8.0_25&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_25-b17)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.25-b02, mixed mode)\r\n\r\nHere&#39;s also a folder view of my Java installation:\r\n![enter image description here][1]\r\n\r\nAny idea how I can get the 1.8 (or even the 1.7) virtual machine so I can build in Android Studio.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pQVEZ.png","title":"Missing JDK 1.8 virtual machine on Mac OS Yosemite","body":"<p>I have mac os 10.10 Yosemite and I'm trying to install all of my tools for Android studio. I have installed the java package from apple and the jdk 1.8 from Oracle.</p>\n\n<p>However, the JavaVirtualMachines folder in /System/Library/Java does not display the 1.8.0jdk.</p>\n\n<p>I have simply installed the .dmg file from Oracle and run it.</p>\n\n<p>If I run</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>I get this:</p>\n\n<pre><code>java version \"1.8.0_25\"\nJava(TM) SE Runtime Environment (build 1.8.0_25-b17)\nJava HotSpot(TM) 64-Bit Server VM (build 25.25-b02, mixed mode)\n</code></pre>\n\n<p>Here's also a folder view of my Java installation:\n<img src=\"https://i.stack.imgur.com/pQVEZ.png\" alt=\"enter image description here\"></p>\n\n<p>Any idea how I can get the 1.8 (or even the 1.7) virtual machine so I can build in Android Studio.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":1,"creation_date":1664804888,"post_id":73936399,"comment_id":130548828,"body_markdown":"You could also compare the length. Besides that, does the array only have primitive types?","body":"You could also compare the length. Besides that, does the array only have primitive types?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1664804993,"post_id":73936399,"comment_id":130548864,"body_markdown":"So you want to only compare the non-null elements? So `{ 1, 2, 3, null }` and `{ 1, 2, 3, 4 }` are not equal, but `{ 1, null, 2, 3 }` and `{ 1, 2, null, 3 }` are?","body":"So you want to only compare the non-null elements? So <code>{ 1, 2, 3, null }</code> and <code>{ 1, 2, 3, 4 }</code> are not equal, but <code>{ 1, null, 2, 3 }</code> and <code>{ 1, 2, null, 3 }</code> are?"},{"owner":{"display_name":"user17221096"},"score":0,"creation_date":1664804994,"post_id":73936399,"comment_id":130548865,"body_markdown":"@LinFelix it&#39;s generic array.","body":"@LinFelix it&#39;s generic array."},{"owner":{"display_name":"user17221096"},"score":0,"creation_date":1664805085,"post_id":73936399,"comment_id":130548898,"body_markdown":"@Sweeper Second variant is impossible, because I&#39;m writing my own stack. So,only top elements can be null","body":"@Sweeper Second variant is impossible, because I&#39;m writing my own stack. So,only top elements can be null"},{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1664805089,"post_id":73936399,"comment_id":130548900,"body_markdown":"Have you considered `A1.length == A2.length &amp;&amp; Arrays.deepEquals(A1, A2)`?","body":"Have you considered <code>A1.length == A2.length &amp;&amp; Arrays.deepEquals(A1, A2)</code>?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1664805284,"post_id":73936399,"comment_id":130548990,"body_markdown":"@LinFelix No, OP meant that there can only be trailing nulls. The stack grows towards the end of the array.","body":"@LinFelix No, OP meant that there can only be trailing nulls. The stack grows towards the end of the array."},{"owner":{"account_id":5856345,"reputation":697,"user_id":4613465,"display_name":"Fatorice"},"score":0,"creation_date":1664805323,"post_id":73936399,"comment_id":130549010,"body_markdown":"You can use a filter to filter all non-null elements in the first step and then compare your arrays (which only consist of numbers then) in the second step.","body":"You can use a filter to filter all non-null elements in the first step and then compare your arrays (which only consist of numbers then) in the second step."},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1664805334,"post_id":73936399,"comment_id":130549014,"body_markdown":"`Arrays.compare(A1,0,3,A2,0,3)==0`?","body":"<code>Arrays.compare(A1,0,3,A2,0,3)==0</code>?"},{"owner":{"display_name":"user17221096"},"score":0,"creation_date":1664805433,"post_id":73936399,"comment_id":130549048,"body_markdown":"@MBPictures How do I use this filter right? I&#39;m new in java and i haven&#39;t heard about this before...","body":"@MBPictures How do I use this filter right? I&#39;m new in java and i haven&#39;t heard about this before..."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1664805576,"post_id":73936399,"comment_id":130549103,"body_markdown":"Are you implementing something like a `equals(T[])` method in your stack? If so, can it be assumed that one of the arrays will not have trailing nulls? I would also suggest that you edit the fact that you are implementing a stack into your question, and include more context about why you need this exactly.","body":"Are you implementing something like a <code>equals(T[])</code> method in your stack? If so, can it be assumed that one of the arrays will not have trailing nulls? I would also suggest that you edit the fact that you are implementing a stack into your question, and include more context about why you need this exactly."}],"answers":[{"tags":[],"owner":{"account_id":5856345,"reputation":697,"user_id":4613465,"display_name":"Fatorice"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664805567,"creation_date":1664805465,"answer_id":73936548,"question_id":73936399,"body_markdown":"Not a native Java Developer, but maybe this helps you?\r\n\r\n    boolean arraysEqual = Arrays.equals(Arrays.stream(a1).filter(n =&gt; n != null).toArray(), Arrays.stream(a2).filter(n =&gt; n != null).toArray())\r\n    \r\n","title":"Arrays.equals without length of arrays","body":"<p>Not a native Java Developer, but maybe this helps you?</p>\n<pre><code>boolean arraysEqual = Arrays.equals(Arrays.stream(a1).filter(n =&gt; n != null).toArray(), Arrays.stream(a2).filter(n =&gt; n != null).toArray())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664806388,"creation_date":1664805636,"answer_id":73936579,"question_id":73936399,"body_markdown":"No, because its a weird request. `null` does not mean &#39;not here&#39;, `null` means &#39;unknown / unset&#39;, that&#39;s why it throws exceptions when you interact with it: You&#39;re asking &quot;hey, thing that has not been set yet, are you X&quot;, and there is no way to answer such a question.\r\n\r\nThat doesn&#39;t mean your code is wrong, just, you can stop looking for existing implementations. Weird requests generally aren&#39;t catered to by the core libraries (or any other). You also may want to change your mindset on `null`. Programming in java is a lot less aggravating if at all times a NullPointerException is a good thing. In other words, avoid using `null` as having any semantic meaning. If you ever write `if (x == null || x.isEmpty())` you are doing it wrong. Instead, where-ever &#39;x&#39; is coming from, it should hold, or be updated to ASAP, the empty string instead. So, if reading in external data (e.g. you marshalled some JSON into an object), do a &#39;clean&#39; step that replaces all `null` values that have semantic meaning with an object that actually represents it, and for methods that return stuff, always return an object that represents what you are returning - only return `null` if you _WANT_ to convey the notion that there is no result (i.e. that&#39;s not the same as &#39;an empty result&#39;, i.e. if any code acts like there was a result, you _want_ it to crash).\r\n\r\nIn other words, I doubt you are asking the right question. But in case you are, you have two broad options.\r\n\r\n## First make null-less arrays then compare those as normal\r\n\r\nOne option is to make new arrays that have nulls stripped. Something like:\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\n&lt;T&gt; T[] stripNulls(T[] in) {\r\n  Class&lt;?&gt; componentType = in.getClass().getComponentType();\r\n\r\n  return (T[]) Arrays.stream(in)\r\n    .filter(x -&gt; x != null)\r\n    .toArray(len -&gt; java.lang.reflect.Array.newInstance(componentType, len));\r\n}\r\n\r\n// which you can then use; you don&#39;t need generics for a compare,\r\n// it wouldn&#39;t add anything at all.\r\n\r\nboolean compare(Object[] a, Object[] b) {\r\n  return Arrays.equals(stripNulls(a), stripNulls(b));\r\n}\r\n```\r\n\r\n## Just compare in place\r\n\r\nIf it&#39;s performance sensitive that&#39;s suboptimal. A better approach would involve a little more coding:\r\n\r\n```\r\nboolean compare(Object[] a, Object[] b) {\r\n  Object ae = null, be = null;\r\n  int ai = 0, bi = 0, al = a.length, bl = b.length;\r\n\r\n  while (true) {\r\n    /* set `ae` and `be` to the next non-null element */\r\n    while (ae == null &amp;&amp; ai &lt; al) ae = a[ai++];\r\n    while (be == null &amp;&amp; bi &lt; bl) be = b[bi++];\r\n\r\n    /* Have we hit the end? */\r\n    if (ai == al &amp;&amp; bi == bl) return true;\r\n\r\n    /* If one is at the end, but the other isn&#39;t... */\r\n    if (ai == al || bi == bl) return false;\r\n\r\n    /* check if the 2 current elements are equal */\r\n    if (!ae.equals(be)) return false;\r\n  }\r\n}\r\n```\r\n\r\n","title":"Arrays.equals without length of arrays","body":"<p>No, because its a weird request. <code>null</code> does not mean 'not here', <code>null</code> means 'unknown / unset', that's why it throws exceptions when you interact with it: You're asking &quot;hey, thing that has not been set yet, are you X&quot;, and there is no way to answer such a question.</p>\n<p>That doesn't mean your code is wrong, just, you can stop looking for existing implementations. Weird requests generally aren't catered to by the core libraries (or any other). You also may want to change your mindset on <code>null</code>. Programming in java is a lot less aggravating if at all times a NullPointerException is a good thing. In other words, avoid using <code>null</code> as having any semantic meaning. If you ever write <code>if (x == null || x.isEmpty())</code> you are doing it wrong. Instead, where-ever 'x' is coming from, it should hold, or be updated to ASAP, the empty string instead. So, if reading in external data (e.g. you marshalled some JSON into an object), do a 'clean' step that replaces all <code>null</code> values that have semantic meaning with an object that actually represents it, and for methods that return stuff, always return an object that represents what you are returning - only return <code>null</code> if you <em>WANT</em> to convey the notion that there is no result (i.e. that's not the same as 'an empty result', i.e. if any code acts like there was a result, you <em>want</em> it to crash).</p>\n<p>In other words, I doubt you are asking the right question. But in case you are, you have two broad options.</p>\n<h2>First make null-less arrays then compare those as normal</h2>\n<p>One option is to make new arrays that have nulls stripped. Something like:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\n&lt;T&gt; T[] stripNulls(T[] in) {\n  Class&lt;?&gt; componentType = in.getClass().getComponentType();\n\n  return (T[]) Arrays.stream(in)\n    .filter(x -&gt; x != null)\n    .toArray(len -&gt; java.lang.reflect.Array.newInstance(componentType, len));\n}\n\n// which you can then use; you don't need generics for a compare,\n// it wouldn't add anything at all.\n\nboolean compare(Object[] a, Object[] b) {\n  return Arrays.equals(stripNulls(a), stripNulls(b));\n}\n</code></pre>\n<h2>Just compare in place</h2>\n<p>If it's performance sensitive that's suboptimal. A better approach would involve a little more coding:</p>\n<pre><code>boolean compare(Object[] a, Object[] b) {\n  Object ae = null, be = null;\n  int ai = 0, bi = 0, al = a.length, bl = b.length;\n\n  while (true) {\n    /* set `ae` and `be` to the next non-null element */\n    while (ae == null &amp;&amp; ai &lt; al) ae = a[ai++];\n    while (be == null &amp;&amp; bi &lt; bl) be = b[bi++];\n\n    /* Have we hit the end? */\n    if (ai == al &amp;&amp; bi == bl) return true;\n\n    /* If one is at the end, but the other isn't... */\n    if (ai == al || bi == bl) return false;\n\n    /* check if the 2 current elements are equal */\n    if (!ae.equals(be)) return false;\n  }\n}\n</code></pre>\n"}],"owner":{"display_name":"user17221096"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73936579,"answer_count":2,"score":-1,"last_activity_date":1664866381,"creation_date":1664804763,"question_id":73936399,"body_markdown":"I have two arrays with different length, but same elements. For example\r\n```\r\nA1 = {1,2,3,null,null}\r\nA2 = {1,2,3}\r\n```\r\nArrays.equals gives me false, because arrays have different length. Are there any method in java that will compare only elements in method?\r\nI don&#39;t want to use .toString\r\nI&#39;m trying to make compare method in my own generic stack realization. ","title":"Arrays.equals without length of arrays","body":"<p>I have two arrays with different length, but same elements. For example</p>\n<pre><code>A1 = {1,2,3,null,null}\nA2 = {1,2,3}\n</code></pre>\n<p>Arrays.equals gives me false, because arrays have different length. Are there any method in java that will compare only elements in method?\nI don't want to use .toString\nI'm trying to make compare method in my own generic stack realization.</p>\n"},{"tags":["java","stringbuffer"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1664858644,"post_id":73943146,"comment_id":130560781,"body_markdown":"`System.out.println(Integer.toBinaryString(originalnum));`","body":"<code>System.out.println(Integer.toBinaryString(originalnum));</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1664858949,"post_id":73943146,"comment_id":130560826,"body_markdown":"Take care of java naming conventions. Names should be camelCase not snake_case.","body":"Take care of java naming conventions. Names should be camelCase not snake_case."}],"answers":[{"tags":[],"owner":{"account_id":8201327,"reputation":289,"user_id":6172595,"display_name":"Amit Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664858399,"creation_date":1664858399,"answer_id":73943196,"question_id":73943146,"body_markdown":"you can use for loop and server your string , here is example \r\n\r\n    public class StringFormatter {  \r\n    public static String reverseString(String str){  \r\n        char ch[]=str.toCharArray();  \r\n        String rev=&quot;&quot;;  \r\n        for(int i=ch.length-1;i&gt;=0;i--){  \r\n            rev+=ch[i];  \r\n        }  \r\n        return rev;  \r\n    }  \r\n    } \r\n\r\n ","title":"Reverse String inside a While Loop","body":"<p>you can use for loop and server your string , here is example</p>\n<pre><code>public class StringFormatter {  \npublic static String reverseString(String str){  \n    char ch[]=str.toCharArray();  \n    String rev=&quot;&quot;;  \n    for(int i=ch.length-1;i&gt;=0;i--){  \n        rev+=ch[i];  \n    }  \n    return rev;  \n}  \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":21765775,"reputation":21,"user_id":16069682,"display_name":"Prateek Gaur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664859135,"creation_date":1664859135,"answer_id":73943253,"question_id":73943146,"body_markdown":"You can use one line to reverse the string\r\n\r\n    String reversedString = (new StringBuilder().append(oldString).reverse().toString());\r\n\r\n","title":"Reverse String inside a While Loop","body":"<p>You can use one line to reverse the string</p>\n<pre><code>String reversedString = (new StringBuilder().append(oldString).reverse().toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664866033,"creation_date":1664864461,"answer_id":73943797,"question_id":73943146,"body_markdown":"&gt; But the reverse method does not work for me.\r\n\r\nThat&#39;s because you are reversing a string that contains a single digit. If you run your code through a debugger, you will discover that. Every programmer needs to know how to debug code, including code written by other people.\r\n\r\nYou need to build up the string of binary digits using a single `StringBuffer` and only after the `while` loop you reverse the string.\r\n\r\nAlso, from the code in your question:\r\n```java\r\nif (originalnum % 2 != 0) {\r\n```\r\nIf the above condition is **not** true, then `originalnum % 2` **must** be zero, hence not need for `if-else`, i.e. (also from the code in your question):\r\n```java\r\nelse if (originalnum % 2 == 0) {\r\n```\r\nYou just need `else` by itself.\r\n\r\nHowever, you don&#39;t need that `if-else` at all. You just need a single `while` loop and a single `StringBuffer`. Actually, for a single-threaded program &amp;ndash; such as yours &amp;ndash; it is better to use [StringBuilder][1]. And rather than creating a new `StringBuffer` and reversing it on each iteration of the `while` loop, you can simply [insert][2] the [binary] digit.\r\n\r\n(More notes after the code.)\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class NumberConversion {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner getnumber = new Scanner(System.in);\r\n        System.out.print(&quot;Enter number: &quot;);\r\n        int originalnum = getnumber.nextInt();\r\n        originalnum = Math.abs(originalnum);\r\n        StringBuilder sb = new StringBuilder();\r\n        if (originalnum == 0) {\r\n            sb.append(&#39;0&#39;);\r\n        }\r\n        else {\r\n            while (originalnum &gt; 0) {\r\n                int remainder = originalnum % 2;\r\n                sb.insert(0, remainder);\r\n                originalnum /= 2;\r\n            }\r\n        }\r\n        System.out.println(sb);\r\n    }\r\n}\r\n```\r\n* I assume that you only want to handle positive numbers, hence the call to method `abs`.\r\n* The `while` loop does not handle the case where `originalnum` is 0 (zero), hence the `if (originalnum == 0)`\r\n\r\nHave you seen Oracle&#39;s [Java tutorials][3]?\r\n\r\nI also recommend the book [Java by Comparison][4] by Simon Harrer, J&amp;#xF6;rg Lenhard &amp;amp; Linus Dietz.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html#insert(int,int)\r\n  [3]: https://docs.oracle.com/javase/tutorial/\r\n  [4]: https://java.by-comparison.com/","title":"Reverse String inside a While Loop","body":"<blockquote>\n<p>But the reverse method does not work for me.</p>\n</blockquote>\n<p>That's because you are reversing a string that contains a single digit. If you run your code through a debugger, you will discover that. Every programmer needs to know how to debug code, including code written by other people.</p>\n<p>You need to build up the string of binary digits using a single <code>StringBuffer</code> and only after the <code>while</code> loop you reverse the string.</p>\n<p>Also, from the code in your question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (originalnum % 2 != 0) {\n</code></pre>\n<p>If the above condition is <strong>not</strong> true, then <code>originalnum % 2</code> <strong>must</strong> be zero, hence not need for <code>if-else</code>, i.e. (also from the code in your question):</p>\n<pre class=\"lang-java prettyprint-override\"><code>else if (originalnum % 2 == 0) {\n</code></pre>\n<p>You just need <code>else</code> by itself.</p>\n<p>However, you don't need that <code>if-else</code> at all. You just need a single <code>while</code> loop and a single <code>StringBuffer</code>. Actually, for a single-threaded program – such as yours – it is better to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a>. And rather than creating a new <code>StringBuffer</code> and reversing it on each iteration of the <code>while</code> loop, you can simply <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html#insert(int,int)\" rel=\"nofollow noreferrer\">insert</a> the [binary] digit.</p>\n<p>(More notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class NumberConversion {\n\n    public static void main(String[] args) {\n        Scanner getnumber = new Scanner(System.in);\n        System.out.print(&quot;Enter number: &quot;);\n        int originalnum = getnumber.nextInt();\n        originalnum = Math.abs(originalnum);\n        StringBuilder sb = new StringBuilder();\n        if (originalnum == 0) {\n            sb.append('0');\n        }\n        else {\n            while (originalnum &gt; 0) {\n                int remainder = originalnum % 2;\n                sb.insert(0, remainder);\n                originalnum /= 2;\n            }\n        }\n        System.out.println(sb);\n    }\n}\n</code></pre>\n<ul>\n<li>I assume that you only want to handle positive numbers, hence the call to method <code>abs</code>.</li>\n<li>The <code>while</code> loop does not handle the case where <code>originalnum</code> is 0 (zero), hence the <code>if (originalnum == 0)</code></li>\n</ul>\n<p>Have you seen Oracle's <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">Java tutorials</a>?</p>\n<p>I also recommend the book <a href=\"https://java.by-comparison.com/\" rel=\"nofollow noreferrer\">Java by Comparison</a> by Simon Harrer, Jörg Lenhard &amp; Linus Dietz.</p>\n"}],"owner":{"account_id":26521457,"reputation":3,"user_id":20155066,"display_name":"Chris Chen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73943797,"answer_count":3,"score":-2,"last_activity_date":1664866033,"creation_date":1664857781,"question_id":73943146,"body_markdown":"I just started learning Java and I&#39;m doing a little program to convert a decimal number into binary numbers using only `while` loops.\r\n\r\nThe results were reversed, therefore I&#39;m using a method to reverse the string. But the reverse method does not work for me. Could anyone help me, please?\r\n\r\nThe following is my code:\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class NumberConversion {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner getnumber = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter number: &quot;);\r\n\t\tint originalnum = getnumber.nextInt();\r\n\t\tint remainder;\r\n\t\tString binary_temp;\r\n\t\tif (originalnum % 2 != 0) {\r\n\t\t\twhile (originalnum &gt; 0) {\r\n\t\t\t\tremainder = originalnum % 2;\r\n\t\t\t\toriginalnum /= 2;\r\n\t\t\t\tbinary_temp = String.valueOf(remainder);\r\n\t\t\t\tString binarynum = new StringBuffer(binary_temp).reverse().toString();\r\n\t\t\t\tSystem.out.print(binarynum);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (originalnum % 2 == 0) {\r\n\t\t\twhile (originalnum &gt; 0) {\r\n\t\t\t\toriginalnum /= 2;\r\n\t\t\t\tremainder = originalnum % 2;\r\n\t\t\t\tbinary_temp = String.valueOf(remainder);\r\n\t\t\t\tString binarynum = new StringBuffer(binary_temp).reverse().toString();\r\n\t\t\t\tSystem.out.print(binarynum);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"Reverse String inside a While Loop","body":"<p>I just started learning Java and I'm doing a little program to convert a decimal number into binary numbers using only <code>while</code> loops.</p>\n<p>The results were reversed, therefore I'm using a method to reverse the string. But the reverse method does not work for me. Could anyone help me, please?</p>\n<p>The following is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class NumberConversion {\n\n    public static void main(String[] args) {\n        Scanner getnumber = new Scanner(System.in);\n        System.out.print(&quot;Enter number: &quot;);\n        int originalnum = getnumber.nextInt();\n        int remainder;\n        String binary_temp;\n        if (originalnum % 2 != 0) {\n            while (originalnum &gt; 0) {\n                remainder = originalnum % 2;\n                originalnum /= 2;\n                binary_temp = String.valueOf(remainder);\n                String binarynum = new StringBuffer(binary_temp).reverse().toString();\n                System.out.print(binarynum);\n            }\n        }\n        else if (originalnum % 2 == 0) {\n            while (originalnum &gt; 0) {\n                originalnum /= 2;\n                remainder = originalnum % 2;\n                binary_temp = String.valueOf(remainder);\n                String binarynum = new StringBuffer(binary_temp).reverse().toString();\n                System.out.print(binarynum);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","jdbc","prepared-statement"],"answers":[{"tags":[],"owner":{"account_id":36969,"reputation":7033,"user_id":105583,"accept_rate":96,"display_name":"G__"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1277758271,"creation_date":1277758271,"answer_id":3136033,"question_id":3135973,"body_markdown":"I think this case can&#39;t work because the whole point of the prepared statement is to prevent the user from putting in unescaped query bits - so you&#39;re always going to have the text quoted or escaped.\r\n\r\nYou&#39;ll need to sanitize this input in Java if you want to affect the query structure safely.","title":"Variable column names using prepared statements","body":"<p>I think this case can't work because the whole point of the prepared statement is to prevent the user from putting in unescaped query bits - so you're always going to have the text quoted or escaped.</p>\n\n<p>You'll need to sanitize this input in Java if you want to affect the query structure safely.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":4,"up_vote_count":51,"is_accepted":true,"score":47,"last_activity_date":1611247881,"creation_date":1277758441,"answer_id":3136049,"question_id":3135973,"body_markdown":"This indicates a bad DB design. The user shouldn&#39;t need to know about the column names. Create a real DB column which holds those &quot;column names&quot; and store the data along it instead.\r\n\r\nAnd any way, no, you cannot set column names as `PreparedStatement` values. You can only set column **values** as `PreparedStatement` values\r\n\r\nIf you&#39;d like to continue in this direction, you need to sanitize the column names (to avoid [SQL Injection][1]) and concatenate/build the SQL string yourself. Quote the separate column names and use [`String#replace()`][2] to escape the same quote inside the column name.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/SQL_injection\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29","title":"Variable column names using prepared statements","body":"<p>This indicates a bad DB design. The user shouldn't need to know about the column names. Create a real DB column which holds those &quot;column names&quot; and store the data along it instead.</p>\n<p>And any way, no, you cannot set column names as <code>PreparedStatement</code> values. You can only set column <strong>values</strong> as <code>PreparedStatement</code> values</p>\n<p>If you'd like to continue in this direction, you need to sanitize the column names (to avoid <a href=\"https://en.wikipedia.org/wiki/SQL_injection\" rel=\"noreferrer\">SQL Injection</a>) and concatenate/build the SQL string yourself. Quote the separate column names and use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29\" rel=\"noreferrer\"><code>String#replace()</code></a> to escape the same quote inside the column name.</p>\n"},{"tags":[],"owner":{"account_id":877897,"reputation":301,"user_id":139569,"display_name":"wgl"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1335400181,"creation_date":1335400181,"answer_id":10325710,"question_id":3135973,"body_markdown":"Prepare a whitelist of allowed column names.  Use the &#39;query&#39; to look up in the whitelist to see if the column name is there.  If not, reject the query.","title":"Variable column names using prepared statements","body":"<p>Prepare a whitelist of allowed column names.  Use the 'query' to look up in the whitelist to see if the column name is there.  If not, reject the query.</p>\n"},{"tags":[],"owner":{"account_id":10171395,"reputation":17,"user_id":7511577,"display_name":"Syed Abdul Khaliq"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1486129713,"creation_date":1486129540,"answer_id":42025741,"question_id":3135973,"body_markdown":"Use sql injection disadvantage of Statement Interface as advantage.\r\nEx:\r\n\r\n    st=conn.createStatement();\r\n    String columnName=&quot;name&quot;;\r\n    rs=st.executeQuery(&quot;select &quot;+ columnName+&quot; from ad_org &quot;);","title":"Variable column names using prepared statements","body":"<p>Use sql injection disadvantage of Statement Interface as advantage.\nEx:</p>\n\n<pre><code>st=conn.createStatement();\nString columnName=\"name\";\nrs=st.executeQuery(\"select \"+ columnName+\" from ad_org \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5506215,"reputation":49,"user_id":4374003,"display_name":"Grbh Niti"},"down_vote_count":8,"up_vote_count":3,"is_accepted":false,"score":-5,"last_activity_date":1492578670,"creation_date":1492578081,"answer_id":43486782,"question_id":3135973,"body_markdown":"Below is the solution in java.\r\n\r\n    String strSelectString = String.format(&quot;select %s, %s from %s&quot;, strFieldName, strFieldName2, strTableName);","title":"Variable column names using prepared statements","body":"<p>Below is the solution in java.</p>\n\n<pre><code>String strSelectString = String.format(\"select %s, %s from %s\", strFieldName, strFieldName2, strTableName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5506215,"reputation":49,"user_id":4374003,"display_name":"Grbh Niti"},"down_vote_count":5,"up_vote_count":4,"is_accepted":false,"score":-1,"last_activity_date":1492680252,"creation_date":1492680252,"answer_id":43515451,"question_id":3135973,"body_markdown":"    public void MethodName(String strFieldName1, String strFieldName2, String strTableName)\r\n    {\r\n    //Code to connect with database\r\n    String strSQLQuery=String.format(&quot;select %s, %s from %s&quot;, strFieldName, strFieldName2, strTableName);\r\n    st=conn.createStatement();\r\n    rs=st.executeQuery(strSQLQuery);\r\n    //rest code\r\n    }\r\n\r\n","title":"Variable column names using prepared statements","body":"<pre><code>public void MethodName(String strFieldName1, String strFieldName2, String strTableName)\n{\n//Code to connect with database\nString strSQLQuery=String.format(\"select %s, %s from %s\", strFieldName, strFieldName2, strTableName);\nst=conn.createStatement();\nrs=st.executeQuery(strSQLQuery);\n//rest code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1917734,"reputation":852,"user_id":1729959,"accept_rate":50,"display_name":"DraganescuValentin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1664865805,"creation_date":1578236525,"answer_id":59601139,"question_id":3135973,"body_markdown":"For MySQL prepared statements with NodeJS (mysqljs/mysql), what you need to know is that `?` is for values, but if you need to escape column names, table names etc, use `??` instead.\r\n\r\nSomething like this will work:\r\n\r\n    SELECT ??, ??, ?? FROM ?? WHERE ?? &lt; ? \r\n\r\nSet values to `[&#39;id&#39;, &#39;name&#39;, &#39;address&#39;, &#39;user&#39;, &#39;id&#39;, 100]`","title":"Variable column names using prepared statements","body":"<p>For MySQL prepared statements with NodeJS (mysqljs/mysql), what you need to know is that <code>?</code> is for values, but if you need to escape column names, table names etc, use <code>??</code> instead.</p>\n<p>Something like this will work:</p>\n<pre><code>SELECT ??, ??, ?? FROM ?? WHERE ?? &lt; ? \n</code></pre>\n<p>Set values to <code>['id', 'name', 'address', 'user', 'id', 100]</code></p>\n"}],"owner":{"account_id":95348,"reputation":6090,"user_id":259724,"accept_rate":83,"display_name":"KLee1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63344,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":3136049,"answer_count":7,"score":52,"last_activity_date":1664865805,"creation_date":1277757790,"question_id":3135973,"body_markdown":"I was wondering if there was any way to specify returned column names using prepared statements. \r\n\r\nI am using MySQL and Java.\r\n\r\nWhen I try it:\r\n\r\n    String columnNames=&quot;d,e,f&quot;; //Actually from the user...\r\n    String name = &quot;some_table&quot;; //From user...\r\n    String query = &quot;SELECT a,b,c,? FROM &quot; + name + &quot; WHERE d=?&quot;;//...\r\n    stmt = conn.prepareStatement(query);\r\n    stmt.setString(1, columnNames);\r\n    stmt.setString(2, &quot;x&quot;);\r\n\r\n\r\nI get this type of statement (printing right before execution).\r\n\r\n    SELECT a,b,c,&#39;d,e,f&#39; FROM some_table WHERE d=&#39;x&#39;\r\n\r\nI would, however, like to see:\r\n\r\n    SELECT a,b,c,d,e,f FROM some_table WHERE d=&#39;x&#39;\r\n\r\nI know that I cannot do this for table names, as discussed\r\n[here](https://stackoverflow.com/questions/1208442/using-prepared-statements-to-set-table-name), but was wondering if there was some way to do it for column names.\r\n\r\nIf there is not, then I will just have to try and make sure that I sanitize the input so it doesn&#39;t lead to SQL injection vulnerabilities.","title":"Variable column names using prepared statements","body":"<p>I was wondering if there was any way to specify returned column names using prepared statements.</p>\n<p>I am using MySQL and Java.</p>\n<p>When I try it:</p>\n<pre><code>String columnNames=&quot;d,e,f&quot;; //Actually from the user...\nString name = &quot;some_table&quot;; //From user...\nString query = &quot;SELECT a,b,c,? FROM &quot; + name + &quot; WHERE d=?&quot;;//...\nstmt = conn.prepareStatement(query);\nstmt.setString(1, columnNames);\nstmt.setString(2, &quot;x&quot;);\n</code></pre>\n<p>I get this type of statement (printing right before execution).</p>\n<pre><code>SELECT a,b,c,'d,e,f' FROM some_table WHERE d='x'\n</code></pre>\n<p>I would, however, like to see:</p>\n<pre><code>SELECT a,b,c,d,e,f FROM some_table WHERE d='x'\n</code></pre>\n<p>I know that I cannot do this for table names, as discussed\n<a href=\"https://stackoverflow.com/questions/1208442/using-prepared-statements-to-set-table-name\">here</a>, but was wondering if there was some way to do it for column names.</p>\n<p>If there is not, then I will just have to try and make sure that I sanitize the input so it doesn't lead to SQL injection vulnerabilities.</p>\n"},{"tags":["java","google-cloud-platform","ocr","google-cloud-vision"],"comments":[{"owner":{"account_id":13758544,"reputation":5117,"user_id":9928809,"display_name":"Nick_Kh"},"score":0,"creation_date":1601284685,"post_id":64058852,"comment_id":113348951,"body_markdown":"I believe that you can refer to this Stack [thread](https://stackoverflow.com/questions/52383178), approaching text alignment from within [DOCUMENT_TEXT_DETECTION](https://cloud.google.com/vision/docs/fulltext-annotations#annotating_an_image_using_document_text_ocr) method and getting `fullTextAnnotation` structured response with Page, Block, etc. parameters that you can then compare. Wouldn&#39;t this be a kind of interest?","body":"I believe that you can refer to this Stack <a href=\"https://stackoverflow.com/questions/52383178\">thread</a>, approaching text alignment from within <a href=\"https://cloud.google.com/vision/docs/fulltext-annotations#annotating_an_image_using_document_text_ocr\" rel=\"nofollow noreferrer\">DOCUMENT_TEXT_DETECTION</a> method and getting <code>fullTextAnnotation</code> structured response with Page, Block, etc. parameters that you can then compare. Wouldn&#39;t this be a kind of interest?"}],"answers":[{"tags":[],"owner":{"account_id":10033098,"reputation":111,"user_id":12028513,"display_name":"Hemanth kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664865772,"creation_date":1664865772,"answer_id":73943986,"question_id":64058852,"body_markdown":"as we see bounding poly which gives a result vertices four line to plot box for recognized text from an image . if we want bounding box coordination from a given 4 line from **single** **word** 1st  &#39;x&#39; 2nd &#39;y&#39;,3rd &#39;x&#39; , 4th &#39;y&#39;\r\n ","title":"Google OCR Bounding Poly","body":"<p>as we see bounding poly which gives a result vertices four line to plot box for recognized text from an image . if we want bounding box coordination from a given 4 line from <strong>single</strong> <strong>word</strong> 1st  'x' 2nd 'y',3rd 'x' , 4th 'y'</p>\n"}],"owner":{"account_id":18800593,"reputation":113,"user_id":13710987,"display_name":"E-SetPrimeEpsilon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664865772,"creation_date":1601014696,"question_id":64058852,"body_markdown":"Hi I am having trouble understanding what a bounding poly, is in the Google Cloud OCR system, I understand that it is a box around the detected text. So something like \r\n\r\n \r\n\r\n       *description: &quot;The&quot;\r\n    bounding_poly {\r\n      vertices {\r\n        x: 204\r\n        y: 132\r\n      }\r\n      vertices {\r\n        x: 267\r\n        y: 135\r\n      }\r\n      vertices {\r\n        x: 265\r\n        y: 171\r\n      }\r\n      vertices {\r\n        x: 202\r\n        y: 168\r\n      }\r\n    }\r\n         description: &quot;fresh&quot;\r\n    bounding_poly {\r\n      vertices {\r\n        x: 278\r\n        y: 140\r\n      }\r\n      vertices {\r\n        x: 349\r\n        y: 144\r\n      }\r\n      vertices {\r\n        x: 347\r\n        y: 185\r\n      }\r\n      vertices {\r\n        x: 276\r\n        y: 181\r\n      }*\r\n\r\nAre the x and y coordinates the corners of each box, in java how would I detect if texts are on the same line. Are they&#39;re any libraries to do this.\r\n\r\nThank you.","title":"Google OCR Bounding Poly","body":"<p>Hi I am having trouble understanding what a bounding poly, is in the Google Cloud OCR system, I understand that it is a box around the detected text. So something like</p>\n<pre><code>   *description: &quot;The&quot;\nbounding_poly {\n  vertices {\n    x: 204\n    y: 132\n  }\n  vertices {\n    x: 267\n    y: 135\n  }\n  vertices {\n    x: 265\n    y: 171\n  }\n  vertices {\n    x: 202\n    y: 168\n  }\n}\n     description: &quot;fresh&quot;\nbounding_poly {\n  vertices {\n    x: 278\n    y: 140\n  }\n  vertices {\n    x: 349\n    y: 144\n  }\n  vertices {\n    x: 347\n    y: 185\n  }\n  vertices {\n    x: 276\n    y: 181\n  }*\n</code></pre>\n<p>Are the x and y coordinates the corners of each box, in java how would I detect if texts are on the same line. Are they're any libraries to do this.</p>\n<p>Thank you.</p>\n"},{"tags":["java","android","http","gson","retrofit2"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664866198,"post_id":73943983,"comment_id":130562139,"body_markdown":"Sounds like incompatible jars (`chuckerteam.chucker` and `gson`)","body":"Sounds like incompatible jars (<code>chuckerteam.chucker</code> and <code>gson</code>)"},{"owner":{"account_id":23586033,"reputation":11,"user_id":17624468,"display_name":"Maher Abua-Amireh"},"score":0,"creation_date":1664870007,"post_id":73943983,"comment_id":130563256,"body_markdown":"can you help me to figure out what is the compatibility ,please?","body":"can you help me to figure out what is the compatibility ,please?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1664870181,"post_id":73943983,"comment_id":130563318,"body_markdown":"Can you check which Gson version is actually in use? The static method was added in Gson 2.8.6: https://javadoc.io/doc/com.google.code.gson/gson/2.8.6/com.google.gson/com/google/gson/JsonParser.html. If you&#39;re using an older version for some reason, you need to upgrade it. Not only because of this, but also because there&#39;s a vulnerability in versions &lt; 2.8.9 .","body":"Can you check which Gson version is actually in use? The static method was added in Gson 2.8.6: <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/2.8.6/com.google.gson/com/google/gson/JsonParser.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/com.google.code.gson/gson/2.8.6/com.google.gs&zwnj;&#8203;on/&hellip;</a>. If you&#39;re using an older version for some reason, you need to upgrade it. Not only because of this, but also because there&#39;s a vulnerability in versions &lt; 2.8.9 ."},{"owner":{"account_id":23586033,"reputation":11,"user_id":17624468,"display_name":"Maher Abua-Amireh"},"score":0,"creation_date":1664871478,"post_id":73943983,"comment_id":130563709,"body_markdown":"thanks bro I tried and it&#39;s solved when we return the gradel","body":"thanks bro I tried and it&#39;s solved when we return the gradel"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1664909790,"post_id":73943983,"comment_id":130576459,"body_markdown":"@MaherAbua-Amireh, do you mind posting your solution as answer to this question? It might help others who have the same problem.","body":"@MaherAbua-Amireh, do you mind posting your solution as answer to this question? It might help others who have the same problem."},{"owner":{"account_id":23586033,"reputation":11,"user_id":17624468,"display_name":"Maher Abua-Amireh"},"score":0,"creation_date":1664960009,"post_id":73943983,"comment_id":130585824,"body_markdown":"@Marcono1234\nI downgrade the gradle to be ```classpath &#39;com.android.tools.build:gradle:4.0.2&#39;```","body":"@Marcono1234 I downgrade the gradle to be <code>classpath &#39;com.android.tools.build:gradle:4.0.2&#39;</code>"}],"owner":{"account_id":23586033,"reputation":11,"user_id":17624468,"display_name":"Maher Abua-Amireh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":702,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664865767,"creation_date":1664865767,"question_id":73943983,"body_markdown":"when I use the library with java code to handle the bug of Android 12 and above I got this error when I open chucker to see the Api data\r\nI&#39;m using chucker Library \r\n\r\n```\r\ndependencies {\r\n  debugImplementation &quot;com.github.chuckerteam.chucker:library:3.5.2&quot;\r\n  releaseImplementation &quot;com.github.chuckerteam.chucker:library-no-op:3.5.2&quot;\r\n}```\r\n\r\n```E/AndroidRuntime: FATAL EXCEPTION: main\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: ats.jo.royal.patient.dev, PID: 24675\r\n    java.lang.NoSuchMethodError: No static method parseString(Ljava/lang/String;)Lcom/google/gson/JsonElement; in class Lcom/google/gson/JsonParser;` or its super classes (declaration of &#39;com.google.gson.JsonParser&#39; appears in /data/app/~~baRMxdN_LkhPazLLWRcmsQ==/ats.jo.royal.patient.dev-gxKSg1_qoEJETFmYV5aKCA==/base.apk!classes2.dex)\r\n        at com.chuckerteam.chucker.internal.support.FormatUtils.formatJson(FormatUtils.kt:57)\r\n        at com.chuckerteam.chucker.internal.data.entity.HttpTransaction.formatBody(HttpTransaction.kt:210)\r\n        at com.chuckerteam.chucker.internal.data.entity.HttpTransaction.getFormattedRequestBody(HttpTransaction.kt:223)\r\n        at com.chuckerteam.chucker.internal.ui.transaction.TransactionPayloadFragment$processPayload$2.invokeSuspend(TransactionPayloadFragment.kt:226)\r\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\r\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\r\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\r\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\r\n    \tSuppressed: kotlinx.coroutines.DiagnosticCoroutineContextException: [StandaloneCoroutine{Cancelling}@b00062b, Dispatchers.Main.immediate]```","title":"java.lang.NoSuchMethodError: No static method parseString","body":"<p>when I use the library with java code to handle the bug of Android 12 and above I got this error when I open chucker to see the Api data\nI'm using chucker Library</p>\n<pre><code>dependencies {\n  debugImplementation &quot;com.github.chuckerteam.chucker:library:3.5.2&quot;\n  releaseImplementation &quot;com.github.chuckerteam.chucker:library-no-op:3.5.2&quot;\n}```\n\n```E/AndroidRuntime: FATAL EXCEPTION: main\n    E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: ats.jo.royal.patient.dev, PID: 24675\n    java.lang.NoSuchMethodError: No static method parseString(Ljava/lang/String;)Lcom/google/gson/JsonElement; in class Lcom/google/gson/JsonParser;` or its super classes (declaration of 'com.google.gson.JsonParser' appears in /data/app/~~baRMxdN_LkhPazLLWRcmsQ==/ats.jo.royal.patient.dev-gxKSg1_qoEJETFmYV5aKCA==/base.apk!classes2.dex)\n        at com.chuckerteam.chucker.internal.support.FormatUtils.formatJson(FormatUtils.kt:57)\n        at com.chuckerteam.chucker.internal.data.entity.HttpTransaction.formatBody(HttpTransaction.kt:210)\n        at com.chuckerteam.chucker.internal.data.entity.HttpTransaction.getFormattedRequestBody(HttpTransaction.kt:223)\n        at com.chuckerteam.chucker.internal.ui.transaction.TransactionPayloadFragment$processPayload$2.invokeSuspend(TransactionPayloadFragment.kt:226)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\n        Suppressed: kotlinx.coroutines.DiagnosticCoroutineContextException: [StandaloneCoroutine{Cancelling}@b00062b, Dispatchers.Main.immediate]```\n</code></pre>\n"},{"tags":["java","processing","javasound","control-p5"],"answers":[{"tags":[],"owner":{"account_id":17715726,"reputation":2190,"user_id":12862111,"display_name":"apodidae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664865500,"creation_date":1664865188,"answer_id":73943899,"question_id":73943658,"body_markdown":"You have to create a separate function called &#39;play&#39; which will run when the button is pressed.  Place all of the sound code in that function.  The xxx.mp3 file should ideally be placed in a folder entitled &#39;data&#39; inside of your sketch folder.  Processing knows to look there for it.\r\n```\r\nimport controlP5.*;\r\nimport processing.sound.*;\r\n\r\nSoundFile song;\r\nControlP5 cp5;\r\n\r\nvoid setup() {\r\n  size(400, 400);\r\n  cp5 = new ControlP5(this);\r\n  cp5.addButton(&quot;play&quot;)\r\n    .setPosition(100, 100)\r\n    .setSize(200, 100)\r\n    ;\r\n}\r\n\r\npublic void play() { \r\n  song = new SoundFile(this, &quot;mySnd.mp3&quot;);\r\n  song.play();\r\n}\r\n\r\nvoid draw(){\r\n}\r\n```","title":"How do I play sound files using the ControlP5 library import","body":"<p>You have to create a separate function called 'play' which will run when the button is pressed.  Place all of the sound code in that function.  The xxx.mp3 file should ideally be placed in a folder entitled 'data' inside of your sketch folder.  Processing knows to look there for it.</p>\n<pre><code>import controlP5.*;\nimport processing.sound.*;\n\nSoundFile song;\nControlP5 cp5;\n\nvoid setup() {\n  size(400, 400);\n  cp5 = new ControlP5(this);\n  cp5.addButton(&quot;play&quot;)\n    .setPosition(100, 100)\n    .setSize(200, 100)\n    ;\n}\n\npublic void play() { \n  song = new SoundFile(this, &quot;mySnd.mp3&quot;);\n  song.play();\n}\n\nvoid draw(){\n}\n</code></pre>\n"}],"owner":{"account_id":26522068,"reputation":3,"user_id":20155583,"display_name":"Brendanh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73943899,"answer_count":1,"score":0,"last_activity_date":1664865500,"creation_date":1664863239,"question_id":73943658,"body_markdown":"I&#39;m trying to play a sound file by clicking on a button in processing using Controlp5 and processing.sound. I&#39;m having trouble finding a way to declare when I press on the button, a sound file plays. This is all that I have so far. I don&#39;t have much written simply because I don&#39;t know what to write.\r\n\r\n    import controlP5.*;\r\n    \r\n    import processing.sound.*;\r\n    SoundFile song;\r\n    \r\n    ControlP5 cp5;\r\n    \r\n    boolean playmusic = false;\r\n    \r\n    void setup() {\r\n      size(800, 800);\r\n      song = new SoundFile(this, &quot;my-sound-file.mp3&quot;);\r\n    \r\n      cp5 = new ControlP5(this);\r\n    \r\n      cp5.addButton(&quot;play&quot;)\r\n        .setValue(0)\r\n        .setPosition(300, 100)\r\n        .setSize(200, 100)\r\n        ;\r\n    }\r\n    \r\n    void draw(){\r\n    \r\n    }\r\n\r\nThis is my first time posting so if I should be formatting this question differently, please tell me.\r\n","title":"How do I play sound files using the ControlP5 library import","body":"<p>I'm trying to play a sound file by clicking on a button in processing using Controlp5 and processing.sound. I'm having trouble finding a way to declare when I press on the button, a sound file plays. This is all that I have so far. I don't have much written simply because I don't know what to write.</p>\n<pre><code>import controlP5.*;\n\nimport processing.sound.*;\nSoundFile song;\n\nControlP5 cp5;\n\nboolean playmusic = false;\n\nvoid setup() {\n  size(800, 800);\n  song = new SoundFile(this, &quot;my-sound-file.mp3&quot;);\n\n  cp5 = new ControlP5(this);\n\n  cp5.addButton(&quot;play&quot;)\n    .setValue(0)\n    .setPosition(300, 100)\n    .setSize(200, 100)\n    ;\n}\n\nvoid draw(){\n\n}\n</code></pre>\n<p>This is my first time posting so if I should be formatting this question differently, please tell me.</p>\n"},{"tags":["java","email","jakarta-mail","bouncycastle","smime"],"owner":{"account_id":26509411,"reputation":11,"user_id":20144981,"display_name":"user20144981"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664865128,"creation_date":1664739531,"question_id":73928809,"body_markdown":"I am stuck sending an S/MIME encrypted mail.\r\n\r\nThe Exception is always:\r\n*javax.mail.MessagingException: IOException while sending message;\r\n  nested exception is:\r\njava.io.IOException: javax.mail.MessagingException: Cannot write this object. It has to be an instance of iaik.security.smime.EncryptedContent or iaik.security.smime.SignedContent!*\r\n\r\n\r\nI am using Bouncy Castle as Security Provider (according to my testoutput it states v1.69) although I am using the latest release 1.71 ...jdk18on-171...\r\n\r\nI even broke it all down again just to match the provided example: *org.bouncycastle.mail.smime.examples.CreateEncryptedMail*\r\n\r\nIn addition to the provided code from the example I \r\n- obtain my cerificate from a file \r\n- I am setting the Mailcap in advance: \r\n```   \r\nprivate void setDefaultMailcap() {\r\n    final MailcapCommandMap mailcap = (MailcapCommandMap) CommandMap.getDefaultCommandMap();\r\n    mailcap.addMailcap(&quot;application/pkcs7-signature;; x-java-content-handler=org.bouncycastle.mail.smime.handlers.pkcs7_signature&quot;);\r\n    mailcap.addMailcap(&quot;application/pkcs7-mime;; x-java-content-handler=org.bouncycastle.mail.smime.handlers.pkcs7_mime&quot;);\r\n    mailcap.addMailcap(&quot;application/x-pkcs7-signature;; x-java-content-handler=org.bouncycastle.mail.smime.handlers.x_pkcs7_signature&quot;);\r\n    mailcap.addMailcap(&quot;application/x-pkcs7-mime;; x-java-content-handler=org.bouncycastle.mail.smime.handlers.x_pkcs7_mime&quot;);\r\n    mailcap.addMailcap(&quot;multipart/signed;; x-java-content-handler=org.bouncycastle.mail.smime.handlers.multipart_signed&quot;);\r\n    CommandMap.setDefaultCommandMap(mailcap);\r\n}\r\n   ```\r\n\t\r\n\r\n- configure SMTP server details:\r\n\r\n```Properties props = new Properties();\r\nprops.put(&quot;mail.smtp.host&quot;, host);\r\nprops.put(&quot;mail.smtp.port&quot;, port);\r\n\r\n\tSession session = Session.getInstance(props,\r\n\t  new Authenticator() {\r\n\t\t protected javax.mail.PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\treturn new javax.mail.PasswordAuthentication(user, password);\r\n\t\t }\r\n\t  });\r\n```\r\n\r\n- and using...\r\n\r\n`final Transport transport = session.getTransport(&quot;smtp&quot;);`\r\n`transport.send(body);`\r\n\t\t\r\n   ...to actually really send the mail\r\n   \r\n   \r\nI am using the following libs:\r\n- activation.jar \r\n- bcmail-jdk18on-171.jar \r\n- bcpkix-jdk18on-171.jar \r\n- bcprov-ext-jdk18on-171.jar \r\n- bcprov-jdk18on-171.jar\r\n- bcutil-jdk18on-171.jar \r\n- commons-codec-1.15.jar \r\n- commons-io-2.11.0.jar\r\n- junit.jar \r\n- mail.jar\r\n\r\n   \r\n This produces the following Exception:\r\n \r\n\r\n    javax.mail.MessagingException: IOException while sending message;\r\n      nested exception is:\r\n    java.io.IOException: javax.mail.MessagingException: Cannot write this object. It has to be an instance of iaik.security.smime.EncryptedContent or iaik.security.smime.SignedContent!\r\n    com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1350)\r\n    javax.mail.Transport.send0(Transport.java:231)\r\n    javax.mail.Transport.send(Transport.java:100)\r\n\r\nin my class\r\n\r\nAny ideas what I am doing wrong?\r\n\r\nThanks in advance, Thomas\r\n\r\n","title":"Sending SMIME Encypted Mail( BouncyCastle) fails with java.io.IOException: ...has to be an instance of iaik.security.smime.EncryptedContent","body":"<p>I am stuck sending an S/MIME encrypted mail.</p>\n<p>The Exception is always:\n<em>javax.mail.MessagingException: IOException while sending message;\nnested exception is:\njava.io.IOException: javax.mail.MessagingException: Cannot write this object. It has to be an instance of iaik.security.smime.EncryptedContent or iaik.security.smime.SignedContent!</em></p>\n<p>I am using Bouncy Castle as Security Provider (according to my testoutput it states v1.69) although I am using the latest release 1.71 ...jdk18on-171...</p>\n<p>I even broke it all down again just to match the provided example: <em>org.bouncycastle.mail.smime.examples.CreateEncryptedMail</em></p>\n<p>In addition to the provided code from the example I</p>\n<ul>\n<li>obtain my cerificate from a file</li>\n<li>I am setting the Mailcap in advance:</li>\n</ul>\n<pre><code>private void setDefaultMailcap() {\n    final MailcapCommandMap mailcap = (MailcapCommandMap) CommandMap.getDefaultCommandMap();\n    mailcap.addMailcap(&quot;application/pkcs7-signature;; x-java-content-handler=org.bouncycastle.mail.smime.handlers.pkcs7_signature&quot;);\n    mailcap.addMailcap(&quot;application/pkcs7-mime;; x-java-content-handler=org.bouncycastle.mail.smime.handlers.pkcs7_mime&quot;);\n    mailcap.addMailcap(&quot;application/x-pkcs7-signature;; x-java-content-handler=org.bouncycastle.mail.smime.handlers.x_pkcs7_signature&quot;);\n    mailcap.addMailcap(&quot;application/x-pkcs7-mime;; x-java-content-handler=org.bouncycastle.mail.smime.handlers.x_pkcs7_mime&quot;);\n    mailcap.addMailcap(&quot;multipart/signed;; x-java-content-handler=org.bouncycastle.mail.smime.handlers.multipart_signed&quot;);\n    CommandMap.setDefaultCommandMap(mailcap);\n}\n</code></pre>\n<ul>\n<li>configure SMTP server details:</li>\n</ul>\n<pre><code>props.put(&quot;mail.smtp.host&quot;, host);\nprops.put(&quot;mail.smtp.port&quot;, port);\n\n    Session session = Session.getInstance(props,\n      new Authenticator() {\n         protected javax.mail.PasswordAuthentication getPasswordAuthentication() {\n            return new javax.mail.PasswordAuthentication(user, password);\n         }\n      });\n</code></pre>\n<ul>\n<li>and using...</li>\n</ul>\n<p><code>final Transport transport = session.getTransport(&quot;smtp&quot;);</code>\n<code>transport.send(body);</code></p>\n<p>...to actually really send the mail</p>\n<p>I am using the following libs:</p>\n<ul>\n<li>activation.jar</li>\n<li>bcmail-jdk18on-171.jar</li>\n<li>bcpkix-jdk18on-171.jar</li>\n<li>bcprov-ext-jdk18on-171.jar</li>\n<li>bcprov-jdk18on-171.jar</li>\n<li>bcutil-jdk18on-171.jar</li>\n<li>commons-codec-1.15.jar</li>\n<li>commons-io-2.11.0.jar</li>\n<li>junit.jar</li>\n<li>mail.jar</li>\n</ul>\n<p>This produces the following Exception:</p>\n<pre><code>javax.mail.MessagingException: IOException while sending message;\n  nested exception is:\njava.io.IOException: javax.mail.MessagingException: Cannot write this object. It has to be an instance of iaik.security.smime.EncryptedContent or iaik.security.smime.SignedContent!\ncom.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1350)\njavax.mail.Transport.send0(Transport.java:231)\njavax.mail.Transport.send(Transport.java:100)\n</code></pre>\n<p>in my class</p>\n<p>Any ideas what I am doing wrong?</p>\n<p>Thanks in advance, Thomas</p>\n"},{"tags":["java","maven","unit-testing"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1664832820,"post_id":73941023,"comment_id":130557228,"body_markdown":"Have you tried running `mvn clean` and then `mvn test`?","body":"Have you tried running <code>mvn clean</code> and then <code>mvn test</code>?"}],"answers":[{"tags":[],"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664836649,"creation_date":1664836649,"answer_id":73941448,"question_id":73941023,"body_markdown":"Try adding this plugin to your build section in pom.xml:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Unit testing java maven","body":"<p>Try adding this plugin to your build section in pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664838725,"creation_date":1664838725,"answer_id":73941648,"question_id":73941023,"body_markdown":"The reason lies in mixing JUnit 5 and JUnit 4.\r\nThe `maven-surefire-plugin` picks only one strategy to execute tests and favors JUnit 5 in this case.\r\n1. Either replace the dependency to junit by junit-vintage-engine:\r\n```xml\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n2. Or adapt your tests to use JUnit 5 instead (as for example in RandomGeneratorServiceImplTest):\r\n```java\r\n...\r\n\r\n//import org.junit.Before;\r\n//import org.junit.Test;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\n...\r\n\r\npublic class RandomGeneratorServiceImplTest {\r\n\r\n    ...\r\n\r\n//    @Before\r\n    @BeforeEach\r\n    public void setUp(){\r\n        ...\r\n    }\r\n\r\n    // @Test can stay as is, only import needs to be updated\r\n    @Test\r\n    public void generateRandomFactorIsBetweenExpectedLimits() {\r\n        ...\r\n    }\r\n}\r\n```","title":"Unit testing java maven","body":"<p>The reason lies in mixing JUnit 5 and JUnit 4.\nThe <code>maven-surefire-plugin</code> picks only one strategy to execute tests and favors JUnit 5 in this case.</p>\n<ol>\n<li>Either replace the dependency to junit by junit-vintage-engine:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;junit&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;junit&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Or adapt your tests to use JUnit 5 instead (as for example in RandomGeneratorServiceImplTest):</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>...\n\n//import org.junit.Before;\n//import org.junit.Test;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\n...\n\npublic class RandomGeneratorServiceImplTest {\n\n    ...\n\n//    @Before\n    @BeforeEach\n    public void setUp(){\n        ...\n    }\n\n    // @Test can stay as is, only import needs to be updated\n    @Test\n    public void generateRandomFactorIsBetweenExpectedLimits() {\n        ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73941648,"answer_count":2,"score":0,"last_activity_date":1664865078,"creation_date":1664832685,"question_id":73941023,"body_markdown":"I have a maven project that looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIf I run in the terminal:\r\n\r\n    mvn test\r\n\r\nit will build the application and run the 3 tests:\r\n\r\n    SocialMultiplicationApplicationTests\r\n\r\n    MultiplicationServiceTest\r\n\r\n    RandomGeneratorServiceTest\r\n\r\nbut not ```RandomGeneratorServiceImplTest```.\r\n\r\nIf I try to explicitly run this class:\r\n\r\n    mvn test -Dtest=RandomGeneratorServiceImplTest\r\n\r\nI get:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) \r\n    on project social-multiplication: No tests were executed!  (Set -DfailIfNoTests=false to ignore this error.) -&gt; [Help 1]\r\n\r\n\r\n\r\nHere&#39;s my pom.xml:\r\n\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;microservices.book&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;social-multiplication&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;social-multiplication&lt;/name&gt;\r\n\t&lt;description&gt;Social Multiplication App&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nHere&#39;s the test class that won&#39;t run:\r\n\r\n\r\n```\r\npackage microservices.book.multiplication.service;\r\n\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class RandomGeneratorServiceImplTest {\r\n\r\n    private RandomGeneratorServiceImpl randomGeneratorServiceImp;\r\n\r\n    @Before\r\n    public void setUp(){\r\n        randomGeneratorServiceImp = new RandomGeneratorServiceImpl();\r\n    }\r\n\r\n    @Test\r\n    public void generateRandomFactorIsBetweenExpectedLimits() {\r\n        List&lt;Integer&gt; randomFactors = IntStream.range(0,1000)\r\n                .map(i -&gt; randomGeneratorServiceImp.generateRandomFactor())\r\n                .boxed()\r\n                .collect(Collectors.toList());\r\n\r\n        for(Integer i: randomFactors){\r\n            assertThat(i).isIn(\r\n                    IntStream.range(11, 100).\r\n                            boxed().collect(Collectors.toList()));\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**EDIT: SOLUTION**\r\n\r\nThe proble was indeed the conflict between junit4 and junit5.\r\n\r\nI chose to move my tests to junit5, hence I replaced ```@Before``` with ```@BeforeAll``` and added ```@TestInstance(Lifecycle.PER_CLASS)``` on top of the ```RandomGeneratorServiceImplTest``` class definition.\r\n\r\nCouple links I found useful:\r\n\r\n[junit docs][2]\r\n\r\n[differences between junit4 and junit5][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/clHaG.png\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/\r\n  [3]: https://howtodoinjava.com/junit5/junit-5-vs-junit-4/","title":"Unit testing java maven","body":"<p>I have a maven project that looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/clHaG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/clHaG.png\" alt=\"enter image description here\" /></a></p>\n<p>If I run in the terminal:</p>\n<pre><code>mvn test\n</code></pre>\n<p>it will build the application and run the 3 tests:</p>\n<pre><code>SocialMultiplicationApplicationTests\n\nMultiplicationServiceTest\n\nRandomGeneratorServiceTest\n</code></pre>\n<p>but not <code>RandomGeneratorServiceImplTest</code>.</p>\n<p>If I try to explicitly run this class:</p>\n<pre><code>mvn test -Dtest=RandomGeneratorServiceImplTest\n</code></pre>\n<p>I get:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) \non project social-multiplication: No tests were executed!  (Set -DfailIfNoTests=false to ignore this error.) -&gt; [Help 1]\n</code></pre>\n<p>Here's my pom.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;microservices.book&lt;/groupId&gt;\n    &lt;artifactId&gt;social-multiplication&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;social-multiplication&lt;/name&gt;\n    &lt;description&gt;Social Multiplication App&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here's the test class that won't run:</p>\n<pre><code>package microservices.book.multiplication.service;\n\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class RandomGeneratorServiceImplTest {\n\n    private RandomGeneratorServiceImpl randomGeneratorServiceImp;\n\n    @Before\n    public void setUp(){\n        randomGeneratorServiceImp = new RandomGeneratorServiceImpl();\n    }\n\n    @Test\n    public void generateRandomFactorIsBetweenExpectedLimits() {\n        List&lt;Integer&gt; randomFactors = IntStream.range(0,1000)\n                .map(i -&gt; randomGeneratorServiceImp.generateRandomFactor())\n                .boxed()\n                .collect(Collectors.toList());\n\n        for(Integer i: randomFactors){\n            assertThat(i).isIn(\n                    IntStream.range(11, 100).\n                            boxed().collect(Collectors.toList()));\n        }\n    }\n}\n\n</code></pre>\n<p><strong>EDIT: SOLUTION</strong></p>\n<p>The proble was indeed the conflict between junit4 and junit5.</p>\n<p>I chose to move my tests to junit5, hence I replaced <code>@Before</code> with <code>@BeforeAll</code> and added <code>@TestInstance(Lifecycle.PER_CLASS)</code> on top of the <code>RandomGeneratorServiceImplTest</code> class definition.</p>\n<p>Couple links I found useful:</p>\n<p><a href=\"https://junit.org/junit5/docs/current/user-guide/\" rel=\"nofollow noreferrer\">junit docs</a></p>\n<p><a href=\"https://howtodoinjava.com/junit5/junit-5-vs-junit-4/\" rel=\"nofollow noreferrer\">differences between junit4 and junit5</a></p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":22255867,"reputation":528,"user_id":16488037,"display_name":"Mohak Shah"},"score":0,"creation_date":1664868688,"post_id":73943855,"comment_id":130562837,"body_markdown":"maybe you can achieve this by using `app:layout_goneMarginTop=150dp` property, it will not change the hight even if you hide your view","body":"maybe you can achieve this by using <code>app:layout_goneMarginTop=150dp</code> property, it will not change the hight even if you hide your view"},{"owner":{"account_id":14535018,"reputation":163,"user_id":10498665,"display_name":"saketha yellanki"},"score":0,"creation_date":1664872106,"post_id":73943855,"comment_id":130563901,"body_markdown":"I need to have the positioning to stay the same as left picture even when the icon&#39;s text view is present. Is that possible using app:layout_goneMarginTop=150dp? If yes, where should I include the property?","body":"I need to have the positioning to stay the same as left picture even when the icon&#39;s text view is present. Is that possible using app:layout_goneMarginTop=150dp? If yes, where should I include the property?"},{"owner":{"account_id":22255867,"reputation":528,"user_id":16488037,"display_name":"Mohak Shah"},"score":0,"creation_date":1664875937,"post_id":73943855,"comment_id":130565063,"body_markdown":"Maybe it works, please try this, you need to replace `marginTop` with `app:layout_goneMarginTop`","body":"Maybe it works, please try this, you need to replace <code>marginTop</code> with <code>app:layout_goneMarginTop</code>"},{"owner":{"account_id":14535018,"reputation":163,"user_id":10498665,"display_name":"saketha yellanki"},"score":0,"creation_date":1664878418,"post_id":73943855,"comment_id":130565856,"body_markdown":"No luck. I was able to achieve the right picture using goneMarginTop. So even if the icon&#39;s text view is gone, the margin is 150dp and the &quot;Hello World&quot; is slightly lower. But I am not able to achieve the left picture.","body":"No luck. I was able to achieve the right picture using goneMarginTop. So even if the icon&#39;s text view is gone, the margin is 150dp and the &quot;Hello World&quot; is slightly lower. But I am not able to achieve the left picture."},{"owner":{"account_id":22255867,"reputation":528,"user_id":16488037,"display_name":"Mohak Shah"},"score":0,"creation_date":1664879289,"post_id":73943855,"comment_id":130566095,"body_markdown":"please share your xml code","body":"please share your xml code"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1664916273,"post_id":73943855,"comment_id":130578332,"body_markdown":"Try looking at [Android floating view(over other views)](https://askcodes.net/questions/android-floating-view--over-other-views-).","body":"Try looking at <a href=\"https://askcodes.net/questions/android-floating-view--over-other-views-\" rel=\"nofollow noreferrer\">Android floating view(over other views)</a>."},{"owner":{"account_id":14535018,"reputation":163,"user_id":10498665,"display_name":"saketha yellanki"},"score":0,"creation_date":1665030162,"post_id":73943855,"comment_id":130604724,"body_markdown":"I found a solution using [popup window](https://developer.android.com/reference/android/widget/PopupWindow). Although this has satisfied my requirement, I had to hardcode the positioning to work on my device so I would say it is not ideal.","body":"I found a solution using <a href=\"https://developer.android.com/reference/android/widget/PopupWindow\" rel=\"nofollow noreferrer\">popup window</a>. Although this has satisfied my requirement, I had to hardcode the positioning to work on my device so I would say it is not ideal."}],"owner":{"account_id":14535018,"reputation":163,"user_id":10498665,"display_name":"saketha yellanki"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664864937,"creation_date":1664864937,"question_id":73943855,"body_markdown":"The title may not be accurate but here is what I want to achieve:\r\n\r\nI have a layout header.xml which looks like this:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nNow I want to control the display of a textview below the icon programatically. Below is how it looks when the textview is set to view.VISBILE:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI include this header in my Activity layout. I have a text view in my activity which has a top margin of 150dp. So, when I set the visibility of the icon&#39;s textview dynamically, the text in my activity is coming down. See below two images for comparision:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBut even when the icon&#39;s textview is visible, I want the &quot;Hello World&quot; text to stay at 150dp distance w.r.t header when the icon&#39;s textview is set to view.GONE. So, I am looking for a kind of a floating view or something similar which will not take up space in the layout dimensions.\r\n\r\nNote: This requirement is similar to a tooltip but I don&#39;t want to use any tooltip library.\r\n\r\n  [1]: https://i.stack.imgur.com/rHx9r.png\r\n  [2]: https://i.stack.imgur.com/yBXyC.png\r\n  [3]: https://i.stack.imgur.com/ZuidP.png","title":"Android floating textview","body":"<p>The title may not be accurate but here is what I want to achieve:</p>\n<p>I have a layout header.xml which looks like this:\n<a href=\"https://i.stack.imgur.com/rHx9r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rHx9r.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I want to control the display of a textview below the icon programatically. Below is how it looks when the textview is set to view.VISBILE:</p>\n<p><a href=\"https://i.stack.imgur.com/yBXyC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yBXyC.png\" alt=\"enter image description here\" /></a></p>\n<p>I include this header in my Activity layout. I have a text view in my activity which has a top margin of 150dp. So, when I set the visibility of the icon's textview dynamically, the text in my activity is coming down. See below two images for comparision:</p>\n<p><a href=\"https://i.stack.imgur.com/ZuidP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZuidP.png\" alt=\"enter image description here\" /></a></p>\n<p>But even when the icon's textview is visible, I want the &quot;Hello World&quot; text to stay at 150dp distance w.r.t header when the icon's textview is set to view.GONE. So, I am looking for a kind of a floating view or something similar which will not take up space in the layout dimensions.</p>\n<p>Note: This requirement is similar to a tooltip but I don't want to use any tooltip library.</p>\n"},{"tags":["java","epoch","localdatetime","datetimeformatter","zoneid"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1664544008,"post_id":73909246,"comment_id":130502348,"body_markdown":"That means your `ZoneId.systemDefault()` is returning the UTC zone. Why do you expect something else then?","body":"That means your <code>ZoneId.systemDefault()</code> is returning the UTC zone. Why do you expect something else then?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664552234,"post_id":73909246,"comment_id":130505337,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664864921,"creation_date":1664544611,"answer_id":73909540,"question_id":73909246,"body_markdown":"Well, as already mentioned in a comment, your call to `ZoneId.systemDefault()` does not return the expected `ZoneId`. That means you either have to adjust the configuration of your system/JVM or specify a `ZoneId` manually, like this:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\tLocalDateTime localDateTime = LocalDateTime.ofInstant(\r\n\t\t\t\t\t\t\t\t\t  Instant.ofEpochMilli(1526581800000L),\r\n\t\t\t\t\t\t\t\t  \t  ZoneId.of(&quot;Asia/Kolkata&quot;) // SPECIFY ZONE\r\n\t\t\t\t\t\t\t\t  );\r\n\tSystem.out.println(\r\n\t\t\tlocalDateTime.format(\r\n\t\t\t\t\tDateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm:ss&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t\tLocale.ENGLISH)\r\n\t\t\t)\r\n\t);\r\n}\r\n```\r\n\r\nOutput (totally independent from the system&#39;s time zone):\r\n\r\n```none\r\n18-May-2018 00:00:00\r\n```","title":"Failing to convert from epochmili to string","body":"<p>Well, as already mentioned in a comment, your call to <code>ZoneId.systemDefault()</code> does not return the expected <code>ZoneId</code>. That means you either have to adjust the configuration of your system/JVM or specify a <code>ZoneId</code> manually, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    LocalDateTime localDateTime = LocalDateTime.ofInstant(\n                                      Instant.ofEpochMilli(1526581800000L),\n                                      ZoneId.of(&quot;Asia/Kolkata&quot;) // SPECIFY ZONE\n                                  );\n    System.out.println(\n            localDateTime.format(\n                    DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm:ss&quot;,\n                                                Locale.ENGLISH)\n            )\n    );\n}\n</code></pre>\n<p>Output (totally independent from the system's time zone):</p>\n<pre class=\"lang-none prettyprint-override\"><code>18-May-2018 00:00:00\n</code></pre>\n"}],"owner":{"account_id":26492641,"reputation":1,"user_id":20130868,"display_name":"Deepu Dubey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1664864921,"creation_date":1664543078,"question_id":73909246,"body_markdown":"This the epoch mili - 1526581800000\r\n\r\nThe code which am using for conversion is - \r\n```\r\nLocalDateTime localDateTime = LocalDateTime.ofInstant(Instant.ofEpochMilli(1526581800000),ZoneId.systemDefault());&#160;&#160;&#160;&#160;&#160;&#160;\r\nSystem.out.println(localDateTime.format(DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm:ss&quot;)));\r\n```\r\n\r\nOutput which we getting-\r\n17-May-2018 18:30:00\r\n\r\nBut Expected Output -\r\n18-May-2018 00:00:00\r\n\r\n\r\n\r\n\r\n","title":"Failing to convert from epochmili to string","body":"<p>This the epoch mili - 1526581800000</p>\n<p>The code which am using for conversion is -</p>\n<pre><code>LocalDateTime localDateTime = LocalDateTime.ofInstant(Instant.ofEpochMilli(1526581800000),ZoneId.systemDefault());      \nSystem.out.println(localDateTime.format(DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm:ss&quot;)));\n</code></pre>\n<p>Output which we getting-\n17-May-2018 18:30:00</p>\n<p>But Expected Output -\n18-May-2018 00:00:00</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":24511470,"reputation":125,"user_id":18425740,"display_name":"Kaushal Lalani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664863927,"creation_date":1664527027,"answer_id":73906046,"question_id":73904161,"body_markdown":"I am also getting the following error\r\n**Duplicate class org.bouncycastle.LICENSE found in modules jetified-bcprov-jdk15on-1.65 (org.bouncycastle:bcprov-jdk15on:1.65) and jetified-bcprov-jdk15to18-1.69 (org.bouncycastle:bcprov-jdk15to18:1.69)**\r\nbut in react-native.\r\n\r\nMy gradle properties :\r\n\r\n`org.gradle.jvmargs=-Xmx4096m android.useAndroidX=true android.enableJetifier=true`\r\nTarget and compile SDK&#39;s are 31. `&quot;com.android.tools.build:gradle:4.2.2&quot;`","title":"More than one file was found with OS independent path &#39;org/bouncycastle/x509/CertPathReviewerMessages_de.properties&#39;","body":"<p>I am also getting the following error\n<strong>Duplicate class org.bouncycastle.LICENSE found in modules jetified-bcprov-jdk15on-1.65 (org.bouncycastle:bcprov-jdk15on:1.65) and jetified-bcprov-jdk15to18-1.69 (org.bouncycastle:bcprov-jdk15to18:1.69)</strong>\nbut in react-native.</p>\n<p>My gradle properties :</p>\n<p><code>org.gradle.jvmargs=-Xmx4096m android.useAndroidX=true android.enableJetifier=true</code>\nTarget and compile SDK's are 31. <code>&quot;com.android.tools.build:gradle:4.2.2&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":17518884,"reputation":46,"user_id":12705367,"display_name":"Musaddiq625"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664547104,"creation_date":1664542288,"answer_id":73909070,"question_id":73904161,"body_markdown":"**Edit:**\r\n**This issue has been fixed,\r\nfind the image in the github url:**\r\n\r\n&gt; **https://github.com/idnow/de.idnow.android/issues/60**\r\n\r\nOR\r\n\r\n&gt; **https://user-images.githubusercontent.com/44612915/128930010-79deba97-53ff-4b75-99a0-5a22a6a55296.png**\r\n\r\nIm also getting the same error\r\nbut the thing is I havent pushed the code on my git over a week.\r\nIt was working fine, Ive just ran it again after a week with same settings.\r\nEven a month ago code having the same error\r\n\r\n**Fvm Flutter Version 3.3.0 | 3.0.3**\r\n\r\n**1: Task failed with an exception.**\r\n\r\nExecution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class org.bouncycastle.LICENSE found in modules jetified-bcprov-jdk15on-1.65 (org.bouncycastle:bcprov-jdk15on:1.65) and jetified-bcprov-jdk15to18-1.69 (org.bouncycastle:bcprov-jdk15to18:1.69)\r\n...\r\n\r\n**2: Task failed with an exception.**\r\nExecution failed for task &#39;:app:mergeDebugJavaResource&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n   &gt; More than one file was found with OS independent path &#39;org/bouncycastle/x509/CertPathReviewerMessages_de.properties&#39;.\r\n","title":"More than one file was found with OS independent path &#39;org/bouncycastle/x509/CertPathReviewerMessages_de.properties&#39;","body":"<p><strong>Edit:</strong>\n<strong>This issue has been fixed,\nfind the image in the github url:</strong></p>\n<blockquote>\n<p><strong><a href=\"https://github.com/idnow/de.idnow.android/issues/60\" rel=\"nofollow noreferrer\">https://github.com/idnow/de.idnow.android/issues/60</a></strong></p>\n</blockquote>\n<p>OR</p>\n<blockquote>\n<p><strong><a href=\"https://user-images.githubusercontent.com/44612915/128930010-79deba97-53ff-4b75-99a0-5a22a6a55296.png\" rel=\"nofollow noreferrer\">https://user-images.githubusercontent.com/44612915/128930010-79deba97-53ff-4b75-99a0-5a22a6a55296.png</a></strong></p>\n</blockquote>\n<p>Im also getting the same error\nbut the thing is I havent pushed the code on my git over a week.\nIt was working fine, Ive just ran it again after a week with same settings.\nEven a month ago code having the same error</p>\n<p><strong>Fvm Flutter Version 3.3.0 | 3.0.3</strong></p>\n<p><strong>1: Task failed with an exception.</strong></p>\n<p>Execution failed for task ':app:checkDebugDuplicateClasses'.</p>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\nDuplicate class org.bouncycastle.LICENSE found in modules jetified-bcprov-jdk15on-1.65 (org.bouncycastle:bcprov-jdk15on:1.65) and jetified-bcprov-jdk15to18-1.69 (org.bouncycastle:bcprov-jdk15to18:1.69)\n...</p>\n</blockquote>\n<p><strong>2: Task failed with an exception.</strong>\nExecution failed for task ':app:mergeDebugJavaResource'.</p>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nMore than one file was found with OS independent path 'org/bouncycastle/x509/CertPathReviewerMessages_de.properties'.</p>\n</blockquote>\n"}],"owner":{"account_id":9054207,"reputation":1428,"user_id":6743142,"accept_rate":80,"display_name":"Surya Teja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73909070,"answer_count":2,"score":1,"last_activity_date":1664863927,"creation_date":1664513674,"question_id":73904161,"body_markdown":"All of sudden my flutter android project build is failing with the following errors.\r\n\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class org.bouncycastle.LICENSE found in modules jetified-bcprov-jdk15on-1.65 (org.bouncycastle:bcprov-jdk15on:1.65) and jetified-bcprov-jdk15to18-1.69 (org.bouncycastle:bcprov-jdk15to18:1.69)\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:mergeDebugJavaResource&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n   &gt; More than one file was found with OS independent path &#39;org/bouncycastle/x509/CertPathReviewerMessages_de.properties&#39;.\r\n\r\nMy gradle properties :\r\norg.gradle.jvmargs=-Xmx1536M\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\n\r\nTarget and compile SDK&#39;s are 31. &quot;com.android.tools.build:gradle:4.1.3&quot; \r\n\r\nFlutter configuration:\r\nFlutter 3.3.0 • channel stable • https://github.com/flutter/flutter.git\r\nFramework • revision ffccd96b62 (4 weeks ago) • 2022-08-29 17:28:57 -0700\r\nEngine • revision 5e9e0e0aa8\r\nTools • Dart 2.18.0 • DevTools 2.15.0","title":"More than one file was found with OS independent path &#39;org/bouncycastle/x509/CertPathReviewerMessages_de.properties&#39;","body":"<p>All of sudden my flutter android project build is failing with the following errors.</p>\n<p>FAILURE: Build completed with 2 failures.</p>\n<h2>1: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:checkDebugDuplicateClasses'.</li>\n</ul>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\nDuplicate class org.bouncycastle.LICENSE found in modules jetified-bcprov-jdk15on-1.65 (org.bouncycastle:bcprov-jdk15on:1.65) and jetified-bcprov-jdk15to18-1.69 (org.bouncycastle:bcprov-jdk15to18:1.69)</p>\n</blockquote>\n<h2>2: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:mergeDebugJavaResource'.</li>\n</ul>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nMore than one file was found with OS independent path 'org/bouncycastle/x509/CertPathReviewerMessages_de.properties'.</p>\n</blockquote>\n<p>My gradle properties :\norg.gradle.jvmargs=-Xmx1536M\nandroid.useAndroidX=true\nandroid.enableJetifier=true</p>\n<p>Target and compile SDK's are 31. &quot;com.android.tools.build:gradle:4.1.3&quot;</p>\n<p>Flutter configuration:\nFlutter 3.3.0 • channel stable • <a href=\"https://github.com/flutter/flutter.git\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter.git</a>\nFramework • revision ffccd96b62 (4 weeks ago) • 2022-08-29 17:28:57 -0700\nEngine • revision 5e9e0e0aa8\nTools • Dart 2.18.0 • DevTools 2.15.0</p>\n"},{"tags":["java",".net","asp.net-core"],"comments":[{"owner":{"account_id":25128,"reputation":20621,"user_id":64348,"accept_rate":86,"display_name":"Kit"},"score":0,"creation_date":1663266072,"post_id":73735716,"comment_id":130204977,"body_markdown":"This is opinion based. Perhaps reword to avoid extended discussion. Your solution is *not* what I would consider an antipattern. In fact, this is probably how I would do it. The only potential downside is the ASP.NET dependency hitting other layers of your stack (i.e. the context accessor being pushed down into an infrastructure layer... but that seems minor to me). The mocking is a normal thing; I wouldn&#39;t even worry about it. I know how to avoid the threading issue, but I&#39;m loath to answer an opinion oriented question.","body":"This is opinion based. Perhaps reword to avoid extended discussion. Your solution is <i>not</i> what I would consider an antipattern. In fact, this is probably how I would do it. The only potential downside is the ASP.NET dependency hitting other layers of your stack (i.e. the context accessor being pushed down into an infrastructure layer... but that seems minor to me). The mocking is a normal thing; I wouldn&#39;t even worry about it. I know how to avoid the threading issue, but I&#39;m loath to answer an opinion oriented question."},{"owner":{"account_id":17390,"reputation":30942,"user_id":38889,"accept_rate":79,"display_name":"Razzie"},"score":0,"creation_date":1663266190,"post_id":73735716,"comment_id":130205021,"body_markdown":"I understand, on the other hand, sometimes opinions are just wrong. &quot;I like methods that are 300 lines long&quot; can be an opinion, but there are clear, undeniable arguments why it is a bad idea.","body":"I understand, on the other hand, sometimes opinions are just wrong. &quot;I like methods that are 300 lines long&quot; can be an opinion, but there are clear, undeniable arguments why it is a bad idea."},{"owner":{"account_id":25128,"reputation":20621,"user_id":64348,"accept_rate":86,"display_name":"Kit"},"score":0,"creation_date":1663266339,"post_id":73735716,"comment_id":130205068,"body_markdown":"I&#39;ll just continue in the comments. If your user service is request/transient scoped, and you start a thread or queue to a background worker to do threaded stuff, once you get your token, it can be used for those threads. The user service obvious *can&#39;t* be a singleton or some other longer lifetime.","body":"I&#39;ll just continue in the comments. If your user service is request/transient scoped, and you start a thread or queue to a background worker to do threaded stuff, once you get your token, it can be used for those threads. The user service obvious <i>can&#39;t</i> be a singleton or some other longer lifetime."},{"owner":{"account_id":17390,"reputation":30942,"user_id":38889,"accept_rate":79,"display_name":"Razzie"},"score":0,"creation_date":1663266926,"post_id":73735716,"comment_id":130205265,"body_markdown":"Yes I forgot to mention that indeed the service cannot be a singleton but that is indeed a downside. If it is transient scoped, passing it in a Task.Run() call (not saying that is a good idea) doesn&#39;t work right, since in a worker thread the IHttpContextAccessor is not available or at least, HttpContext would return null.","body":"Yes I forgot to mention that indeed the service cannot be a singleton but that is indeed a downside. If it is transient scoped, passing it in a Task.Run() call (not saying that is a good idea) doesn&#39;t work right, since in a worker thread the IHttpContextAccessor is not available or at least, HttpContext would return null."},{"owner":{"account_id":25128,"reputation":20621,"user_id":64348,"accept_rate":86,"display_name":"Kit"},"score":0,"creation_date":1663267547,"post_id":73735716,"comment_id":130205446,"body_markdown":"In that case you&#39;d have to force the user service to cache the token immediately upon instantiation or call a method on the user service to cache the token before passing to a task... now you might be venturing into anti-pattern territory perhaps. I think it&#39;s up to you at this point, which is why I still consider your question opinion-based. But I&#39;d still probably do something similar to this anyway and just move on until I&#39;d thought of something better. One thing that would not be ideal is passing primitives in DI.","body":"In that case you&#39;d have to force the user service to cache the token immediately upon instantiation or call a method on the user service to cache the token before passing to a task... now you might be venturing into anti-pattern territory perhaps. I think it&#39;s up to you at this point, which is why I still consider your question opinion-based. But I&#39;d still probably do something similar to this anyway and just move on until I&#39;d thought of something better. One thing that would not be ideal is passing primitives in DI."},{"owner":{"account_id":25128,"reputation":20621,"user_id":64348,"accept_rate":86,"display_name":"Kit"},"score":0,"creation_date":1663267601,"post_id":73735716,"comment_id":130205464,"body_markdown":"Actually, one more thing. I&#39;d try not to chain the session token across calls *at all*. It would be better to establish some new token and correlate it back to the original imho.","body":"Actually, one more thing. I&#39;d try not to chain the session token across calls <i>at all</i>. It would be better to establish some new token and correlate it back to the original imho."}],"answers":[{"tags":[],"owner":{"account_id":26484190,"reputation":181,"user_id":20123037,"display_name":"LeonardoDevBack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664476126,"creation_date":1664476126,"answer_id":73900138,"question_id":73735716,"body_markdown":"See in dotnet the area that I am an expert is not an anti standard on the contrary it is the model that many adopt but it is not a model that I would follow for the following reasons\r\n\r\n - it is not clear where is the token for those who read and use it being an anti clean code\r\n - you load important information in a place that is frequently accessed by the framework in the case of .netCore\r\n - your classes will reference a large property carrying a lot of unnecessary information when you could have created a more clean model that costs less memory and allocation time, I&#39;m saying this because the HttpAcessor carries all the information relevant to your request\r\n\r\n**As I would take care of readability (clean code) and improve my performance**\r\n\r\nI would make a middleware or filter in my flow mvc where I would do the authentication part and create a class like:\r\n\r\n    public class TokenAuthenciationValues\r\n    {\r\n       public string TokenClient { get; set; }\r\n       public string TokenValue { get; set; }\r\n    }\r\n\r\nOf course my method is an example but in my middleware I would implement it by loading its token values ​​after calling the necessary apis (of course this model needs an interface and it needs to be configured as .AddScoped() in the case of .net)\r\n\r\nThat way I would use it in my methods only instantiating my ITokenAuthenciationValues ​​in the constructor and I would have clear and clean information loaded in memory during the entire request\r\n\r\nIf it is necessary in the middle of the request to change the token any class can access it and change its value\r\n\r\nI would have less memory allocated unused in my classes since the IHttpAcessor contract the ITokenAuthenciationValues ​​only has relevant information\r\n\r\nHope this helps","title":"Dependency injection of IHttpContextAccessor vs passing parameter up the method chain","body":"<p>See in dotnet the area that I am an expert is not an anti standard on the contrary it is the model that many adopt but it is not a model that I would follow for the following reasons</p>\n<ul>\n<li>it is not clear where is the token for those who read and use it being an anti clean code</li>\n<li>you load important information in a place that is frequently accessed by the framework in the case of .netCore</li>\n<li>your classes will reference a large property carrying a lot of unnecessary information when you could have created a more clean model that costs less memory and allocation time, I'm saying this because the HttpAcessor carries all the information relevant to your request</li>\n</ul>\n<p><strong>As I would take care of readability (clean code) and improve my performance</strong></p>\n<p>I would make a middleware or filter in my flow mvc where I would do the authentication part and create a class like:</p>\n<pre><code>public class TokenAuthenciationValues\n{\n   public string TokenClient { get; set; }\n   public string TokenValue { get; set; }\n}\n</code></pre>\n<p>Of course my method is an example but in my middleware I would implement it by loading its token values ​​after calling the necessary apis (of course this model needs an interface and it needs to be configured as .AddScoped() in the case of .net)</p>\n<p>That way I would use it in my methods only instantiating my ITokenAuthenciationValues ​​in the constructor and I would have clear and clean information loaded in memory during the entire request</p>\n<p>If it is necessary in the middle of the request to change the token any class can access it and change its value</p>\n<p>I would have less memory allocated unused in my classes since the IHttpAcessor contract the ITokenAuthenciationValues ​​only has relevant information</p>\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":12368896,"reputation":24701,"user_id":9019885,"display_name":"Gary Archer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664863758,"creation_date":1664566729,"answer_id":73913319,"question_id":73735716,"body_markdown":"I would say the main point is to enable your desired separation of concerns. I think it is a good question if expressed in those terms. As Kit says, different people may prefer different solutions.\r\n\r\n**REQUEST SCOPED OBJECTS**\r\n\r\nThese occur quite naturally in APIs. Consider the following example, where a UI calls an Orders API, then the Orders API forwards the JWT to an upstream Billing API. A unique Request ID is also sent, in case the flow experiences a temporary problem. If the flow is retried, the Request ID can be used by APIs to prevent data duplication. Yet business logic should not need to know about either the Request ID or the JWT.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**BUSINESS LOGIC CLASS DESIGN**\r\n\r\nI would start by designing my logic classes with my desired inputs, then work out the DI later. In my example the OrderService class might use claims to get the user identity and also for authorization. But I would not want it to know about HTTP level concerns:\r\n\r\n```c#\r\npublic class OrderService\r\n{\r\n  private readonly IBillingApiClient billingClient;\r\n\r\n  public OrderService(IBillingApiClient billingClient, ClaimsPrincipal user)\r\n  {\r\n    this.billingClient = billingClient;\r\n  }\r\n\r\n  public async void CreateOrder(OrderInput data)\r\n  {\r\n    this.Authorize();\r\n    var order = this.CreateOrder(data);\r\n    await this.billingClient.CreateInvoice(order);\r\n  }\r\n}\r\n```\r\n\r\n**DI SETUP**\r\n\r\nTo enable my preferred business logic, I would write a little DI plumbing, so that I could inject request scoped dependencies in my preferred way. First, when the app starts, I would create a small middleware class. This will run early in the HTTP request pipeline:\r\n\r\n```C#\r\nprivate void ConfigureApiMiddleware(IApplicationBuilder api)\r\n{\r\n  api.UseMiddleware&lt;ClientContextMiddleware&gt;();\r\n}\r\n```\r\n\r\nIn the middleware class I would then create a ClientContext object from runtime data. The OrderService class will run later, after next() is called:\r\n\r\n```C#\r\npublic class ClientContextMiddleware\r\n{\r\n  public async Task Invoke(HttpContext context)\r\n  {\r\n    var jwt = readJwt(context.Request);\r\n    var requestId = readRequestId(context.Request);\r\n\r\n    var holder = context.RequestServices.GetService&lt;ClientContextHolder&gt;();\r\n    holder.ClientContext = new ClientContext(jwt, requestIO);\r\n\r\n    await this.next(context);\r\n  }\r\n}\r\n```\r\n\r\nIn my DI composition at application startup I would express that the API client should be created when it is first referenced. In the HTTP request pipeline, the OrderService request scoped object will be constructed after the middleware has run. The below lambda will then be invoked:\r\n\r\n```c#\r\nprivate void RegisterDependencies(IServiceCollection services)\r\n{\r\n  this.services.AddScoped&lt;IApiClient&gt;(\r\n    ctx =&gt;\r\n    {\r\n      var holder = ctx.GetService&lt;ClientContextHolder&gt;();\r\n      return new ApiClient(holder.context);\r\n    });\r\n\r\n  this.services.AddScoped&lt;ClientContextHolder&gt;();\r\n}\r\n```\r\n\r\nThe holder object is just due to a technology limitation. The MS stack does not allow you to create new request scoped injectable objects at runtime, so you have to update an existing one. In a previous .NET tech stack, the concept of `child container per request` was made available to developers, so the holder object was not needed.\r\n\r\n**ASYNC AWAIT**\r\n\r\nRequest scoped objects are stored against the HTTP request object, which is the correct behaviour when using async await. The current thread ID may switch, eg from 4 to 6 after the call to the Billing API. \r\n\r\nIf the OrderService class has a transient scope, it could get recreated when the flow resumes on thread 6. If this is the case, then resolution will continue to work.\r\n\r\n**SUMMARY**\r\n\r\nDesigning inputs first, then writing some support code if needed is a good approach I think, and it is also useful to know the DI techniques. Personally I think natural request scoped objects that need to be created at runtime should be usable in DI. Some people may prefer a different approach though.\r\n\r\n  [1]: https://i.stack.imgur.com/WcPY7.png","title":"Dependency injection of IHttpContextAccessor vs passing parameter up the method chain","body":"<p>I would say the main point is to enable your desired separation of concerns. I think it is a good question if expressed in those terms. As Kit says, different people may prefer different solutions.</p>\n<p><strong>REQUEST SCOPED OBJECTS</strong></p>\n<p>These occur quite naturally in APIs. Consider the following example, where a UI calls an Orders API, then the Orders API forwards the JWT to an upstream Billing API. A unique Request ID is also sent, in case the flow experiences a temporary problem. If the flow is retried, the Request ID can be used by APIs to prevent data duplication. Yet business logic should not need to know about either the Request ID or the JWT.</p>\n<p><a href=\"https://i.stack.imgur.com/WcPY7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WcPY7.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>BUSINESS LOGIC CLASS DESIGN</strong></p>\n<p>I would start by designing my logic classes with my desired inputs, then work out the DI later. In my example the OrderService class might use claims to get the user identity and also for authorization. But I would not want it to know about HTTP level concerns:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public class OrderService\n{\n  private readonly IBillingApiClient billingClient;\n\n  public OrderService(IBillingApiClient billingClient, ClaimsPrincipal user)\n  {\n    this.billingClient = billingClient;\n  }\n\n  public async void CreateOrder(OrderInput data)\n  {\n    this.Authorize();\n    var order = this.CreateOrder(data);\n    await this.billingClient.CreateInvoice(order);\n  }\n}\n</code></pre>\n<p><strong>DI SETUP</strong></p>\n<p>To enable my preferred business logic, I would write a little DI plumbing, so that I could inject request scoped dependencies in my preferred way. First, when the app starts, I would create a small middleware class. This will run early in the HTTP request pipeline:</p>\n<pre><code>private void ConfigureApiMiddleware(IApplicationBuilder api)\n{\n  api.UseMiddleware&lt;ClientContextMiddleware&gt;();\n}\n</code></pre>\n<p>In the middleware class I would then create a ClientContext object from runtime data. The OrderService class will run later, after next() is called:</p>\n<pre><code>public class ClientContextMiddleware\n{\n  public async Task Invoke(HttpContext context)\n  {\n    var jwt = readJwt(context.Request);\n    var requestId = readRequestId(context.Request);\n\n    var holder = context.RequestServices.GetService&lt;ClientContextHolder&gt;();\n    holder.ClientContext = new ClientContext(jwt, requestIO);\n\n    await this.next(context);\n  }\n}\n</code></pre>\n<p>In my DI composition at application startup I would express that the API client should be created when it is first referenced. In the HTTP request pipeline, the OrderService request scoped object will be constructed after the middleware has run. The below lambda will then be invoked:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>private void RegisterDependencies(IServiceCollection services)\n{\n  this.services.AddScoped&lt;IApiClient&gt;(\n    ctx =&gt;\n    {\n      var holder = ctx.GetService&lt;ClientContextHolder&gt;();\n      return new ApiClient(holder.context);\n    });\n\n  this.services.AddScoped&lt;ClientContextHolder&gt;();\n}\n</code></pre>\n<p>The holder object is just due to a technology limitation. The MS stack does not allow you to create new request scoped injectable objects at runtime, so you have to update an existing one. In a previous .NET tech stack, the concept of <code>child container per request</code> was made available to developers, so the holder object was not needed.</p>\n<p><strong>ASYNC AWAIT</strong></p>\n<p>Request scoped objects are stored against the HTTP request object, which is the correct behaviour when using async await. The current thread ID may switch, eg from 4 to 6 after the call to the Billing API.</p>\n<p>If the OrderService class has a transient scope, it could get recreated when the flow resumes on thread 6. If this is the case, then resolution will continue to work.</p>\n<p><strong>SUMMARY</strong></p>\n<p>Designing inputs first, then writing some support code if needed is a good approach I think, and it is also useful to know the DI techniques. Personally I think natural request scoped objects that need to be created at runtime should be usable in DI. Some people may prefer a different approach though.</p>\n"}],"owner":{"account_id":17390,"reputation":30942,"user_id":38889,"accept_rate":79,"display_name":"Razzie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1664863758,"creation_date":1663265696,"question_id":73735716,"body_markdown":"Our application calls many external API&#39;s which take a session token of the current user as input. So what we currently do is in a controller, get the session token for the user and pass it into a service which in turn might call another service or some API client. To give an idea, we end up with something like this (example is .NET but something similar is I think possible in Java)\r\n\r\n```\r\npublic IActionResult DoSomething(string something)\r\n{\r\n  this.someService.DoSomethingForUser(this.HttpContext.SessionToken, something);\r\n  return View();\r\n}\r\n```\r\n\r\nAnd then we have\r\n\r\n```\r\npublic class SomeService\r\n{\r\n  private readonly IApiClient apiClient;\r\n\r\n  public SomeService(IApiClient apiClient)\r\n  {\r\n    this.apiClient = apiClient;\r\n  }\r\n\r\n  public void DoSomethingForUser(string sessionToken, something)\r\n  {\r\n    this.apiClient.DoSomethingForUser(sessionToken, something);\r\n  }\r\n}\r\n```\r\n\r\nIt can also happen that in `SomeService` another service is injected which in turn calls the `IApiClient` instead of `SomeService` calling `IApiClient` directly, basically adding another &quot;layer&quot;.\r\n\r\nWe had a discussion with the team if it isn&#39;t better to instead of passing the session token, inject it using DI so you get something like this:\r\n\r\n```\r\npublic IActionResult DoSomething(string something)\r\n{\r\n  this.someService.DoSomethingForUser(something);\r\n  return View();\r\n}\r\n```\r\n\r\nAnd then we have\r\n\r\n```\r\npublic class SomeService\r\n{\r\n  private readonly IUserService userService;\r\n  private readonly IApiClient apiClient;\r\n\r\n  public SomeService(IUserService userService, IApiClient apiClient)\r\n  {\r\n    this.userService = userService;\r\n    this.apiClient = apiClient;\r\n  }\r\n\r\n  public void DoSomethingForUser(string something)\r\n  {\r\n    this.apiClient.DoSomethingForUser(userService.SessionToken, something);\r\n  }\r\n}\r\n```\r\n\r\nThe `IUserService` would have an `IHttpContextAccessor` injected:\r\n\r\n```\r\npublic class UserService : IUserService\r\n{\r\n  private readonly IHttpContextAccessor httpContextAccessor;\r\n\r\n  public UserService(IHttpContextAccessor httpContextAccessor)\r\n  {\r\n    this.httpContextAccessor = httpContextAccessor;\r\n  }\r\n\r\n  public string SessionToken =&gt; httpContextAccessor.HttpContext.SessionToken;\r\n}\r\n```\r\n\r\nThe benefits of this pattern are I think pretty clear. Especially with many services, it keeps the code &quot;cleaner&quot; and you end up with less boilerplate code to pass a token around.\r\n\r\nStill, I don&#39;t like it. To me the downsides of this pattern are more important than its benefit:\r\n\r\n- I like that passing the token in the methods is concise. It is clear that the service needs some sort of authentication token for it to function. I&#39;m not sure if you can call it a side effect but the fact that a session token is magically injected three layers deep is impossible to tell just by reading the code\r\n- Unit testing is a bit more tedious if you have to Mock the IUserService\r\n- You run into problems when calling this in another thread, e.g. calling `SomeService` from another thread. Although these problems can be mitigated by injecting another concrete type of IUserService which gets the token from some place else, it feels like a chore.\r\n\r\nTo me it strongly feels like an anti pattern but apart from the arguments above it is mostly a feeling. There was a lot of discussion and not everybody was convinced that it was a bad idea. Therefor, my question is, is it an anti pattern or is it perfectly valid? What are some strong arguments for and against it, hopefully so there can be not much debate that this pattern is indeed, either perfectly valid or something to avoid.","title":"Dependency injection of IHttpContextAccessor vs passing parameter up the method chain","body":"<p>Our application calls many external API's which take a session token of the current user as input. So what we currently do is in a controller, get the session token for the user and pass it into a service which in turn might call another service or some API client. To give an idea, we end up with something like this (example is .NET but something similar is I think possible in Java)</p>\n<pre><code>public IActionResult DoSomething(string something)\n{\n  this.someService.DoSomethingForUser(this.HttpContext.SessionToken, something);\n  return View();\n}\n</code></pre>\n<p>And then we have</p>\n<pre><code>public class SomeService\n{\n  private readonly IApiClient apiClient;\n\n  public SomeService(IApiClient apiClient)\n  {\n    this.apiClient = apiClient;\n  }\n\n  public void DoSomethingForUser(string sessionToken, something)\n  {\n    this.apiClient.DoSomethingForUser(sessionToken, something);\n  }\n}\n</code></pre>\n<p>It can also happen that in <code>SomeService</code> another service is injected which in turn calls the <code>IApiClient</code> instead of <code>SomeService</code> calling <code>IApiClient</code> directly, basically adding another &quot;layer&quot;.</p>\n<p>We had a discussion with the team if it isn't better to instead of passing the session token, inject it using DI so you get something like this:</p>\n<pre><code>public IActionResult DoSomething(string something)\n{\n  this.someService.DoSomethingForUser(something);\n  return View();\n}\n</code></pre>\n<p>And then we have</p>\n<pre><code>public class SomeService\n{\n  private readonly IUserService userService;\n  private readonly IApiClient apiClient;\n\n  public SomeService(IUserService userService, IApiClient apiClient)\n  {\n    this.userService = userService;\n    this.apiClient = apiClient;\n  }\n\n  public void DoSomethingForUser(string something)\n  {\n    this.apiClient.DoSomethingForUser(userService.SessionToken, something);\n  }\n}\n</code></pre>\n<p>The <code>IUserService</code> would have an <code>IHttpContextAccessor</code> injected:</p>\n<pre><code>public class UserService : IUserService\n{\n  private readonly IHttpContextAccessor httpContextAccessor;\n\n  public UserService(IHttpContextAccessor httpContextAccessor)\n  {\n    this.httpContextAccessor = httpContextAccessor;\n  }\n\n  public string SessionToken =&gt; httpContextAccessor.HttpContext.SessionToken;\n}\n</code></pre>\n<p>The benefits of this pattern are I think pretty clear. Especially with many services, it keeps the code &quot;cleaner&quot; and you end up with less boilerplate code to pass a token around.</p>\n<p>Still, I don't like it. To me the downsides of this pattern are more important than its benefit:</p>\n<ul>\n<li>I like that passing the token in the methods is concise. It is clear that the service needs some sort of authentication token for it to function. I'm not sure if you can call it a side effect but the fact that a session token is magically injected three layers deep is impossible to tell just by reading the code</li>\n<li>Unit testing is a bit more tedious if you have to Mock the IUserService</li>\n<li>You run into problems when calling this in another thread, e.g. calling <code>SomeService</code> from another thread. Although these problems can be mitigated by injecting another concrete type of IUserService which gets the token from some place else, it feels like a chore.</li>\n</ul>\n<p>To me it strongly feels like an anti pattern but apart from the arguments above it is mostly a feeling. There was a lot of discussion and not everybody was convinced that it was a bad idea. Therefor, my question is, is it an anti pattern or is it perfectly valid? What are some strong arguments for and against it, hopefully so there can be not much debate that this pattern is indeed, either perfectly valid or something to avoid.</p>\n"},{"tags":["java","oop","serialization","design-patterns","protocol-buffers"],"answers":[{"tags":[],"owner":{"account_id":2463651,"reputation":7805,"user_id":2147218,"display_name":"bazza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664863673,"creation_date":1664833461,"answer_id":73941118,"question_id":73886998,"body_markdown":"I would say that the best way is definitely to wrap the generated class. A .proto file defines the shape of data, and has absolutely nothing whatsoever to say about the logic that should be used for handling that data.\r\n\r\nI think I can see what you&#39;re getting at, but I think that some of the benefits of that can be achieved in other ways. It&#39;s nice to have a single point of truth; a .proto file is a single point of truth for what one&#39;s data looks like (every application that uses that data compiles that .proto file), and its would be nice to have a single point of truth for logic too.\r\n\r\nOne attraction of a single point of truth for &lt;something&gt; is that, should that need to be changed, the change ripples on outwards. So, if we change a .proto file, applications that use it can simply be recompiled. \r\n\r\n**Giving a Hint**\r\n\r\nWith logic, it&#39;s probable that the change in logic has been brought about because of a change in the data, or is associated with data. Whilst we cannot define logic with a .proto file (at least, not in the formal automatic output sense), we can at least make it blindingly obvious that the logic has changed. \r\n\r\nFor example, suppose we had a message that contained a field called &quot;bearing&quot;, and suppose we had written some comment in the .proto file as to how it was to be handled. One way to indicate that there is a change to the logic (that was originally specified in the comment) is to rename the field to &quot;bearingXXX&quot;. When a developer tries to compile their app, it will fail because their source code is referencing fields called &quot;bearing&quot;, which can no longer be found. \r\n\r\nOn investigation, they&#39;ll end up looking at the .proto file, note that the field is now called &quot;bearingXXX&quot;, and hopefully are also noticing the comments in the same part of the file saying a) why the new name, and b) here&#39;s the new logic. \r\n\r\nOk, so that&#39;s not fully automated changes to the logic, but it is a way of forcing developers to read a change notice. Hopefully, having read it, they will then update their code to implement the new logic, and refer to the field by its new name. \r\n\r\nIt is also very useful for project managers; change the name of the field, and all the compiler error messages approximate to things impacted, and the amount of work needed to implement the change. It&#39;s also a good way of ensuring that no places where change is needed are missed. \r\n\r\nThat&#39;s a half-way house that is language independent. \r\n\r\n**Single Language Implementation, Multiple Language Bindings**\r\n\r\nOtherwise, I think that if a single definition of the logic is important, and multiple languages are important, one then has to seriously consider shared libraries / DLLs or their equivalents. I know this might make bindings a nuisance to create. \r\n\r\nHowever, there is one thing in one&#39;s favour in this. The hardest, most annoying part of language bindings is handling data. However, we have a .proto file for the data. The logic can be implemented so that, instead of taking a whole bunch of method parameters, each method / function simply accepts and returns a byte array. The input byte array a serialised .proto message containing all the method&#39;s input parameters. The output array is the serialised output result. In psuedo code:\r\n\r\n    bytes MyMethod(bytes input)\r\n    {\r\n        struct Parameters params = Parameters.parse(input)\r\n        struct Results result = new Result();\r\n        &lt;do stuff, populating result&gt;\r\n        return result.SerialiseToByteArray();\r\n    }\r\n\r\nEvery method would look something like that, just with different message types for input / output.\r\n\r\nThe attraction of this approach is that there&#39;s only one form of data marshalling to master in creating a language binding, to the point where it&#39;s probably easy-ish to autogenerate that, and one is not wasting much time per-language. And you&#39;re not having to change that binding, just because the parameter list has changed. \r\n\r\nObviously this isn&#39;t exactly the fastest way to get data in and out of a method, but it&#39;s the easiest way to create bindings for multiple languages, using a technology (GPB) that&#39;s already lurking in the project anyway. And, best of all, by have multiple bindings for a single shared library / DLL, the logic is defined just once (in the source code one has decided to implement the library / DLL in). \r\n\r\nThis is how DBus solved this problem. Server methods are called by serialising input parameters in a DBus message (defined by a schema), and results are returned in the same way. \r\n\r\n**Linking, or Not?**\r\n\r\nObviously then it&#39;s a matter of choosing a language that&#39;s got the range you want w.r.t. platforms and OS. This is entirely subjective and project specific, but on the whole one feels that it&#39;s simplest if the logic library is written in the lowest common denominator. For example, if it&#39;s never going to have to be called from C, don&#39;t write it in C. This is purely on the assumption that the library / DLL is going to have to be linked into the application. \r\n\r\nWith DBus, of course one doesn&#39;t do that; the application interacts with the method server via pipes to a broker. At some point or other, one ends up seeing why things like Dbus have been created, or COM on Windows, or earlier attempts like Corba.\r\n\r\n**Some Logic**\r\n\r\nIf we extend our gaze beyond proto files towards ASN1,  this allows you to define constraints on value and/or size. This is logic to establish validity of data, and it&#39;s useful for such boilerplate code to be autogenerated. XML/XSD can do this too (but it&#39;s hard to find tools that implement it properly), as can JSON schemas. \r\n\r\nASN.1 in particular is very good for this. It&#39;s complex for the compiler writers to fully implement ASN.1, but the end result for system developers is very good. A lot of the work of interface validation is checking that values are within range, and lists are the right length. To have that done automatically, in every language, just check the return error code from the serialiser / deserialiser, takes a lot of coding and review time out of a project. Code time is reduced, because the developer need only handle the return code. Review time is reduced, because the reviewer need check only for that. And ASN.1 constraints can get very elaborate - you can mix them up with logic (unions of constraints), lists, even regular expressions. They can even be left open ended, subject to future change. The complexity behind this is why good ASN.1 tools cost money - it&#39;s a fairly big project to implement a compiler. There&#39;s some reasonable open source partial implementations, but the commercial tools are very impressive in their language coverage and the degree of completion of the ASN.1 standards.\r\n\r\nI just wished Google Protocol Buffers also did constraints, even simple ones. It doesn&#39;t change wireformat and could be made optional in the compiler, so it&#39;s not a breaking change for code or data. ","title":"How to implement Protocol Buffer generated code with Object Oriented Design?","body":"<p>I would say that the best way is definitely to wrap the generated class. A .proto file defines the shape of data, and has absolutely nothing whatsoever to say about the logic that should be used for handling that data.</p>\n<p>I think I can see what you're getting at, but I think that some of the benefits of that can be achieved in other ways. It's nice to have a single point of truth; a .proto file is a single point of truth for what one's data looks like (every application that uses that data compiles that .proto file), and its would be nice to have a single point of truth for logic too.</p>\n<p>One attraction of a single point of truth for  is that, should that need to be changed, the change ripples on outwards. So, if we change a .proto file, applications that use it can simply be recompiled.</p>\n<p><strong>Giving a Hint</strong></p>\n<p>With logic, it's probable that the change in logic has been brought about because of a change in the data, or is associated with data. Whilst we cannot define logic with a .proto file (at least, not in the formal automatic output sense), we can at least make it blindingly obvious that the logic has changed.</p>\n<p>For example, suppose we had a message that contained a field called &quot;bearing&quot;, and suppose we had written some comment in the .proto file as to how it was to be handled. One way to indicate that there is a change to the logic (that was originally specified in the comment) is to rename the field to &quot;bearingXXX&quot;. When a developer tries to compile their app, it will fail because their source code is referencing fields called &quot;bearing&quot;, which can no longer be found.</p>\n<p>On investigation, they'll end up looking at the .proto file, note that the field is now called &quot;bearingXXX&quot;, and hopefully are also noticing the comments in the same part of the file saying a) why the new name, and b) here's the new logic.</p>\n<p>Ok, so that's not fully automated changes to the logic, but it is a way of forcing developers to read a change notice. Hopefully, having read it, they will then update their code to implement the new logic, and refer to the field by its new name.</p>\n<p>It is also very useful for project managers; change the name of the field, and all the compiler error messages approximate to things impacted, and the amount of work needed to implement the change. It's also a good way of ensuring that no places where change is needed are missed.</p>\n<p>That's a half-way house that is language independent.</p>\n<p><strong>Single Language Implementation, Multiple Language Bindings</strong></p>\n<p>Otherwise, I think that if a single definition of the logic is important, and multiple languages are important, one then has to seriously consider shared libraries / DLLs or their equivalents. I know this might make bindings a nuisance to create.</p>\n<p>However, there is one thing in one's favour in this. The hardest, most annoying part of language bindings is handling data. However, we have a .proto file for the data. The logic can be implemented so that, instead of taking a whole bunch of method parameters, each method / function simply accepts and returns a byte array. The input byte array a serialised .proto message containing all the method's input parameters. The output array is the serialised output result. In psuedo code:</p>\n<pre><code>bytes MyMethod(bytes input)\n{\n    struct Parameters params = Parameters.parse(input)\n    struct Results result = new Result();\n    &lt;do stuff, populating result&gt;\n    return result.SerialiseToByteArray();\n}\n</code></pre>\n<p>Every method would look something like that, just with different message types for input / output.</p>\n<p>The attraction of this approach is that there's only one form of data marshalling to master in creating a language binding, to the point where it's probably easy-ish to autogenerate that, and one is not wasting much time per-language. And you're not having to change that binding, just because the parameter list has changed.</p>\n<p>Obviously this isn't exactly the fastest way to get data in and out of a method, but it's the easiest way to create bindings for multiple languages, using a technology (GPB) that's already lurking in the project anyway. And, best of all, by have multiple bindings for a single shared library / DLL, the logic is defined just once (in the source code one has decided to implement the library / DLL in).</p>\n<p>This is how DBus solved this problem. Server methods are called by serialising input parameters in a DBus message (defined by a schema), and results are returned in the same way.</p>\n<p><strong>Linking, or Not?</strong></p>\n<p>Obviously then it's a matter of choosing a language that's got the range you want w.r.t. platforms and OS. This is entirely subjective and project specific, but on the whole one feels that it's simplest if the logic library is written in the lowest common denominator. For example, if it's never going to have to be called from C, don't write it in C. This is purely on the assumption that the library / DLL is going to have to be linked into the application.</p>\n<p>With DBus, of course one doesn't do that; the application interacts with the method server via pipes to a broker. At some point or other, one ends up seeing why things like Dbus have been created, or COM on Windows, or earlier attempts like Corba.</p>\n<p><strong>Some Logic</strong></p>\n<p>If we extend our gaze beyond proto files towards ASN1,  this allows you to define constraints on value and/or size. This is logic to establish validity of data, and it's useful for such boilerplate code to be autogenerated. XML/XSD can do this too (but it's hard to find tools that implement it properly), as can JSON schemas.</p>\n<p>ASN.1 in particular is very good for this. It's complex for the compiler writers to fully implement ASN.1, but the end result for system developers is very good. A lot of the work of interface validation is checking that values are within range, and lists are the right length. To have that done automatically, in every language, just check the return error code from the serialiser / deserialiser, takes a lot of coding and review time out of a project. Code time is reduced, because the developer need only handle the return code. Review time is reduced, because the reviewer need check only for that. And ASN.1 constraints can get very elaborate - you can mix them up with logic (unions of constraints), lists, even regular expressions. They can even be left open ended, subject to future change. The complexity behind this is why good ASN.1 tools cost money - it's a fairly big project to implement a compiler. There's some reasonable open source partial implementations, but the commercial tools are very impressive in their language coverage and the degree of completion of the ASN.1 standards.</p>\n<p>I just wished Google Protocol Buffers also did constraints, even simple ones. It doesn't change wireformat and could be made optional in the compiler, so it's not a breaking change for code or data.</p>\n"}],"owner":{"account_id":23885781,"reputation":38,"user_id":17885960,"display_name":"Andrew Freeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73941118,"answer_count":1,"score":0,"last_activity_date":1664863673,"creation_date":1664394277,"question_id":73886998,"body_markdown":"I have a question about the general case of implementing functionality regarding generated code/classes from Protocol buffers. General in the sense that, the problem that I am having is in Java right now, but the question is applicable to object-oriented programming as a whole...\r\n\r\nBasically, the way that serialization and deserialization would work for my project normally is that I would write custom serializers and deserializers for json for each language that I&#39;m working in, and these would covert json messages into classes that have fields from the json, but with custom methods that I write. \r\n\r\nUsing protocol buffers gives me a number of advantages, but one important one in my mind is that the automatically generated code means **I am not having to write serializers and deserializers manually**. However, it is unclear what the proper way is to implement logic that involves this deserialized data. The official tutorial (https://developers.google.com/protocol-buffers/docs/javatutorial#parsing-and-serialization) warns against using inheritance for a situation like this: \r\n\r\n&gt; Protocol buffer classes are basically data holders (like structs in C) that don&#39;t provide additional functionality; they don&#39;t make good first class citizens in an object model. If you want to add richer behavior to a generated class, the best way to do this is to wrap the generated protocol buffer class in an application-specific class. Wrapping protocol buffers is also a good idea if you don&#39;t have control over the design of the `.proto` file (if, say, you&#39;re reusing one from another project). In that case, you can use the wrapper class to craft an interface better suited to the unique environment of your application: hiding some data and methods, exposing convenience functions, etc. **You should never add behavior to the generated classes by inheriting from them**. This will break internal mechanisms and is not good object-oriented practice anyway.\r\n\r\n\r\nBut I&#39;m not sure what is supposed to be done instead...\r\n\r\nMy options appear to be:\r\n- **Ignoring this warning and creating a class for inheritance anyways.** This means modifying the automatically created protobuf code which I don&#39;t want to do, or as in this post (https://blog.teamdev.com/protobuf-serialization-and-beyond-part-3-value-objects-e3dc7b935ac), using a protoc plugin to automatically add this inheritance structure to the automatically generated types. A closed Github issue on protobuf (https://github.com/protocolbuffers/protobuf/issues/4481) talks about problems with this solution as well - although technically supported, the use of plugins is not well documented or supported and still goes against the warning from the tutorial. There may be some kind of casting wizardry I can do to have this work without modifying the generated protobuf code, but I&#39;m not sure... This method seems to make the system easiest to change, as it is automatically responsive to changes in the underlying schema - only methods that serve a proper function (not getters and setters) would be written by me, and would throw compile-time exceptions if their underlying fields no longer work, making sure I make changes to only application code when my schema changes (exactly what I want).   \r\n- **Creating a wrapper class as suggested in the above warning, encapsulating the generated code.** This follows the delegation design pattern, which to my understanding is not easily implemented in every language. In Java, for example, the delegation must be written manually and must be changed in code every time the protobuf schema changes, which is obviously not ideal, and I&#39;m not sure how I would implement the Decorator/ Adapter patterns that I&#39;m looking for without inheritance (see first point) or code duplication because of this. This also gets pretty wild as the size of the schema increases, and without an easy way to implement delegation I think this is unsustainable... (This stackoverflow answer and the comment below basically explains what my concern with this method is: https://stackoverflow.com/a/16360532/17885960). There is the Lombok delegation class (experimental), and Scala for example supports delegation natively, but I&#39;m not sure this is the best way forward...\r\n- **Not using Protobuf generated classes in domain logic, instead manually creating classes with custom logic and mapping the protobuf messages / generated classes to these custom objects as data enters/leaves the application.** This is basically the same as what happens currently with JSON in the application, except instead of mapping JSON directly, I would be first converting the messages to protobuf generated classes, then coverting these protobuf generated classes into the custom classes. I might be able to get away with using something like gson in Java to handle the automated conversion between these two types (protobuf-generated class -&gt; json -&gt; custom class and vice versa), but this adds overhead to the system which never existed before (instead of just parsing json into a class, I&#39;m parsing json into a class, then that class into another class), and I still won&#39;t be benefitting from the automatic methods created by the protobuf generated code. This method is the most serialization-format-agnostic, as the same classes that support json can support protobufs, but this method also seems to need the most boilerplate code out of all the options - I would be duplicating all the getters and setters of the protobuf generated classes, as well as writing domain logic, as well as writing converter classes/methods. This method is suggested in the following threads: https://softwareengineering.stackexchange.com/a/170822, https://stackoverflow.com/a/16360532/17885960, https://groups.google.com/g/protobuf/c/pABidPhYqIo).\r\n\r\n\r\nThe threads I find on this topic are old and sparse - is this a rare problem to have, is it too niche, or am I just overthinking things?   \r\n\r\nWhat is the best way forward, and how can I better understand how to think about and solve this kind of problem in the future?","title":"How to implement Protocol Buffer generated code with Object Oriented Design?","body":"<p>I have a question about the general case of implementing functionality regarding generated code/classes from Protocol buffers. General in the sense that, the problem that I am having is in Java right now, but the question is applicable to object-oriented programming as a whole...</p>\n<p>Basically, the way that serialization and deserialization would work for my project normally is that I would write custom serializers and deserializers for json for each language that I'm working in, and these would covert json messages into classes that have fields from the json, but with custom methods that I write.</p>\n<p>Using protocol buffers gives me a number of advantages, but one important one in my mind is that the automatically generated code means <strong>I am not having to write serializers and deserializers manually</strong>. However, it is unclear what the proper way is to implement logic that involves this deserialized data. The official tutorial (<a href=\"https://developers.google.com/protocol-buffers/docs/javatutorial#parsing-and-serialization\" rel=\"nofollow noreferrer\">https://developers.google.com/protocol-buffers/docs/javatutorial#parsing-and-serialization</a>) warns against using inheritance for a situation like this:</p>\n<blockquote>\n<p>Protocol buffer classes are basically data holders (like structs in C) that don't provide additional functionality; they don't make good first class citizens in an object model. If you want to add richer behavior to a generated class, the best way to do this is to wrap the generated protocol buffer class in an application-specific class. Wrapping protocol buffers is also a good idea if you don't have control over the design of the <code>.proto</code> file (if, say, you're reusing one from another project). In that case, you can use the wrapper class to craft an interface better suited to the unique environment of your application: hiding some data and methods, exposing convenience functions, etc. <strong>You should never add behavior to the generated classes by inheriting from them</strong>. This will break internal mechanisms and is not good object-oriented practice anyway.</p>\n</blockquote>\n<p>But I'm not sure what is supposed to be done instead...</p>\n<p>My options appear to be:</p>\n<ul>\n<li><strong>Ignoring this warning and creating a class for inheritance anyways.</strong> This means modifying the automatically created protobuf code which I don't want to do, or as in this post (<a href=\"https://blog.teamdev.com/protobuf-serialization-and-beyond-part-3-value-objects-e3dc7b935ac\" rel=\"nofollow noreferrer\">https://blog.teamdev.com/protobuf-serialization-and-beyond-part-3-value-objects-e3dc7b935ac</a>), using a protoc plugin to automatically add this inheritance structure to the automatically generated types. A closed Github issue on protobuf (<a href=\"https://github.com/protocolbuffers/protobuf/issues/4481\" rel=\"nofollow noreferrer\">https://github.com/protocolbuffers/protobuf/issues/4481</a>) talks about problems with this solution as well - although technically supported, the use of plugins is not well documented or supported and still goes against the warning from the tutorial. There may be some kind of casting wizardry I can do to have this work without modifying the generated protobuf code, but I'm not sure... This method seems to make the system easiest to change, as it is automatically responsive to changes in the underlying schema - only methods that serve a proper function (not getters and setters) would be written by me, and would throw compile-time exceptions if their underlying fields no longer work, making sure I make changes to only application code when my schema changes (exactly what I want).</li>\n<li><strong>Creating a wrapper class as suggested in the above warning, encapsulating the generated code.</strong> This follows the delegation design pattern, which to my understanding is not easily implemented in every language. In Java, for example, the delegation must be written manually and must be changed in code every time the protobuf schema changes, which is obviously not ideal, and I'm not sure how I would implement the Decorator/ Adapter patterns that I'm looking for without inheritance (see first point) or code duplication because of this. This also gets pretty wild as the size of the schema increases, and without an easy way to implement delegation I think this is unsustainable... (This stackoverflow answer and the comment below basically explains what my concern with this method is: <a href=\"https://stackoverflow.com/a/16360532/17885960\">https://stackoverflow.com/a/16360532/17885960</a>). There is the Lombok delegation class (experimental), and Scala for example supports delegation natively, but I'm not sure this is the best way forward...</li>\n<li><strong>Not using Protobuf generated classes in domain logic, instead manually creating classes with custom logic and mapping the protobuf messages / generated classes to these custom objects as data enters/leaves the application.</strong> This is basically the same as what happens currently with JSON in the application, except instead of mapping JSON directly, I would be first converting the messages to protobuf generated classes, then coverting these protobuf generated classes into the custom classes. I might be able to get away with using something like gson in Java to handle the automated conversion between these two types (protobuf-generated class -&gt; json -&gt; custom class and vice versa), but this adds overhead to the system which never existed before (instead of just parsing json into a class, I'm parsing json into a class, then that class into another class), and I still won't be benefitting from the automatic methods created by the protobuf generated code. This method is the most serialization-format-agnostic, as the same classes that support json can support protobufs, but this method also seems to need the most boilerplate code out of all the options - I would be duplicating all the getters and setters of the protobuf generated classes, as well as writing domain logic, as well as writing converter classes/methods. This method is suggested in the following threads: <a href=\"https://softwareengineering.stackexchange.com/a/170822\">https://softwareengineering.stackexchange.com/a/170822</a>, <a href=\"https://stackoverflow.com/a/16360532/17885960\">https://stackoverflow.com/a/16360532/17885960</a>, <a href=\"https://groups.google.com/g/protobuf/c/pABidPhYqIo\" rel=\"nofollow noreferrer\">https://groups.google.com/g/protobuf/c/pABidPhYqIo</a>).</li>\n</ul>\n<p>The threads I find on this topic are old and sparse - is this a rare problem to have, is it too niche, or am I just overthinking things?</p>\n<p>What is the best way forward, and how can I better understand how to think about and solve this kind of problem in the future?</p>\n"},{"tags":["java","cookies","encode","veracode","esapi"],"answers":[{"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664850765,"creation_date":1664850765,"answer_id":73942628,"question_id":73935246,"body_markdown":"I don&#39;t think output encoding is the right approach here. Unless you are rendering the cookie name and/or value, the issue is not XSS, but rather HTTP Response Splitting.\r\n\r\nStrict allow-listing is the best approach, here but if find that impossible (because you are not sure what the allowed values are supposed to be, which might be the case if you were writing an HTTP library or getting values from downstream processes, etc.), then go with block-list data validation. For the block-list approach, I recommend either outright rejecting any cookie containing &#39;:&#39;, &#39;=&#39;, &#39;\\r&#39;, or &#39;\\n&#39; (and log an appropriate error) and redirect the user to any appropriate error page. Alternately, if you detect anything in the block list, you could simply ignore those values by just  silently stripping them out (although you many want to log them).","title":"VERACODE: CRLF Neutralization Warnings for Cookies - JAVA","body":"<p>I don't think output encoding is the right approach here. Unless you are rendering the cookie name and/or value, the issue is not XSS, but rather HTTP Response Splitting.</p>\n<p>Strict allow-listing is the best approach, here but if find that impossible (because you are not sure what the allowed values are supposed to be, which might be the case if you were writing an HTTP library or getting values from downstream processes, etc.), then go with block-list data validation. For the block-list approach, I recommend either outright rejecting any cookie containing ':', '=', '\\r', or '\\n' (and log an appropriate error) and redirect the user to any appropriate error page. Alternately, if you detect anything in the block list, you could simply ignore those values by just  silently stripping them out (although you many want to log them).</p>\n"}],"owner":{"account_id":16720131,"reputation":21,"user_id":12085293,"display_name":"kafka services"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664862533,"creation_date":1664798998,"question_id":73935246,"body_markdown":"recently after scanning our project we can across with Veracode warnings on CRLF neutralization. please find my error code below.\r\n\r\n```\r\nCookie[] c = request.getCookies();\r\n\r\nc[i].setValue(&quot;&quot;);\r\n\r\nc[i].setMaxAge(0);\r\n```\r\n\r\ngetting the issue on below line\r\n\r\n**response.addCookie(c[i]);**\r\n\r\n**Solutions Tried:**\r\n 1.`setValue(&quot;&quot;)` tried replacing with \\r or \\n\r\n 2. used `Encode.forJava(String)`\r\n 3. Used ESAPI, but our project is running on Java 1.6. No suitable ESAPI jar was found. \r\n\r\nAny recommendations here? am I missing anything? Am I going in the wrong direction? Can anyone help me with this?","title":"VERACODE: CRLF Neutralization Warnings for Cookies - JAVA","body":"<p>recently after scanning our project we can across with Veracode warnings on CRLF neutralization. please find my error code below.</p>\n<pre><code>Cookie[] c = request.getCookies();\n\nc[i].setValue(&quot;&quot;);\n\nc[i].setMaxAge(0);\n</code></pre>\n<p>getting the issue on below line</p>\n<p><strong>response.addCookie(c[i]);</strong></p>\n<p><strong>Solutions Tried:</strong>\n1.<code>setValue(&quot;&quot;)</code> tried replacing with \\r or \\n\n2. used <code>Encode.forJava(String)</code>\n3. Used ESAPI, but our project is running on Java 1.6. No suitable ESAPI jar was found.</p>\n<p>Any recommendations here? am I missing anything? Am I going in the wrong direction? Can anyone help me with this?</p>\n"},{"tags":["java","eclipse","jar","export"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664831258,"creation_date":1664831258,"answer_id":73940852,"question_id":73939687,"body_markdown":"To check if Eclipse created the jar file correctly, open a terminal window and run\r\n\r\n    java -jar &lt;yourjarfile&gt;\r\n\r\nIf that executes as desired no longer search for the problem on Eclipse. If not, check questions like https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\r\n\r\nNow you better check why Windows would execute the jar file. Basically it has to invoke the above command and show the output in a console. But I suspect it would run\r\n\r\n    javaw -jar &lt;yourjarfile&gt;\r\n\r\nwhich does not open a terminal and thus not show any output. In this case you need to fix the problem in the Windows Explorer, or the extension bindings. Have a look at\r\nhttps://www.winhelponline.com/blog/repair-jar-file-association-windows/","title":"having trouble exporting java file that prompts user into .jar file onto my desktop","body":"<p>To check if Eclipse created the jar file correctly, open a terminal window and run</p>\n<pre><code>java -jar &lt;yourjarfile&gt;\n</code></pre>\n<p>If that executes as desired no longer search for the problem on Eclipse. If not, check questions like <a href=\"https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\">How can I create an executable JAR with dependencies using Maven?</a></p>\n<p>Now you better check why Windows would execute the jar file. Basically it has to invoke the above command and show the output in a console. But I suspect it would run</p>\n<pre><code>javaw -jar &lt;yourjarfile&gt;\n</code></pre>\n<p>which does not open a terminal and thus not show any output. In this case you need to fix the problem in the Windows Explorer, or the extension bindings. Have a look at\n<a href=\"https://www.winhelponline.com/blog/repair-jar-file-association-windows/\" rel=\"nofollow noreferrer\">https://www.winhelponline.com/blog/repair-jar-file-association-windows/</a></p>\n"}],"owner":{"account_id":25902985,"reputation":3,"user_id":19628545,"display_name":"zach "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73940852,"answer_count":1,"score":0,"last_activity_date":1664862471,"creation_date":1664823451,"question_id":73939687,"body_markdown":"I am trying to export a java file from Eclipse into a runnable .jar file onto my desktop. \r\n\r\nThe program is a simulation of a bank, and it prompts you with a menu when you start that looks like this:\r\n\r\n\r\nWelcome John Doe.\r\nYour ID is 1.\r\n\r\nWhat would you like to do?\r\n\r\nA. Check your balance\r\nB. Make a deposit\r\nC. Make a withdrawal\r\nD. View previous transaction\r\nE. Calculate interest\r\nF. Exit\r\n\r\nEnter an option: \r\n\r\n\r\n\r\n\r\n\r\n\r\nHere is my main class: \r\n\r\n```\r\npublic class FirstBank {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tAccount zach = new Account(&quot;John Doe&quot;, 000001);\r\n\t\t\r\n\t\tzach.showMenu();\t\r\n\t}\r\n}\r\n````\r\n\r\nand here is a separate class with all of my methods: \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Account {\r\n\r\n\tint balance;\r\n\tint previousTransaction; \r\n\tString customerName;\r\n\tint customerID;\r\n\r\n\t//constructor \r\n\tpublic Account(String customerName, int customerID) {\r\n\t\tthis.customerName = customerName;\r\n\t\tthis.customerID = customerID;\r\n\t}\r\n\t\r\n\t\r\n\tpublic void deposit(int amount) {\r\n\t\tif(amount != 0) {\r\n\t\t\tbalance = balance + amount;\r\n\t\t\tpreviousTransaction = amount;\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tpublic void withdraw(int amount2) {\r\n\t\tif(amount2 &lt;= balance) {\r\n\t\t\tbalance = balance - amount2;\r\n\t\t\tpreviousTransaction = -amount2;\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Error: insufficient funds.&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic void getPreviousTransaction() {\r\n\t\tif (previousTransaction &gt; 0) {\r\n\t\t\tSystem.out.println(&quot;Deposited: &quot; + previousTransaction);\r\n\t}\telse if (previousTransaction &lt; 0) {\r\n\t\t\tSystem.out.println(&quot;Deposited: &quot; + previousTransaction);\r\n\t}\telse {\r\n\t\t\tSystem.out.println(&quot;No transaction occurred&quot;);\r\n\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void calculateInterest (int years) {\r\n\t\tdouble interestRate = .0185; \r\n\t\tdouble newBalance = (balance * interestRate * years) + balance;\r\n\t\tSystem.out.println(&quot;The current interest rate is &quot; + (100 * interestRate) + &quot;%.&quot;);\r\n\t\tSystem.out.println(&quot;After &quot; + years + &quot; years, your balance will be $&quot; + newBalance +&quot;.&quot;);\r\n\t}\r\n\t\r\n\tpublic void showMenu () {\r\n\t\tchar option = &#39;\\0&#39;;\r\n\t\t// creates a scanner object: \r\n\t\tScanner scanner = new Scanner(System.in); \r\n\t\tSystem.out.println(&quot;Welcome &quot; + customerName + &quot;.&quot;);\r\n\t\tSystem.out.println(&quot;Your ID is &quot; + customerID + &quot;.&quot;);\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;What would you like to do?&quot;);\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;A. Check your balance&quot;);\r\n\t\tSystem.out.println(&quot;B. Make a deposit&quot;);\r\n\t\tSystem.out.println(&quot;C. Make a withdrawal&quot;);\r\n\t\tSystem.out.println(&quot;D. View previous transaction&quot;);\r\n\t\tSystem.out.println(&quot;E. Calculate interest&quot;);\r\n\t\tSystem.out.println(&quot;F. Exit&quot;);\r\n\t\t\r\n\t\tdo {\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println(&quot;Enter an option: &quot;);\r\n\t\t\tchar option1 = scanner.next().charAt(0);\r\n\t\t\toption = Character.toUpperCase(option1);\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t\tswitch (option) {\r\n\t\t\tcase &#39;A&#39;:\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tSystem.out.println(&quot;Balance = $&quot; + balance);\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;B&#39;:\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tSystem.out.println(&quot;Enter a deposit amount: &quot;);\r\n\t\t\t\tint amount = scanner.nextInt();\r\n\t\t\t\tdeposit(amount);\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;C&#39;:\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tSystem.out.println(&quot;Enter an amount to withdraw: &quot;);\r\n\t\t\t\tint amount2 = scanner.nextInt();\r\n\t\t\t\twithdraw(amount2);\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;D&#39;:\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tgetPreviousTransaction();\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;E&#39;:\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tSystem.out.println(&quot;Enter the number of years: &quot;);\r\n\t\t\t\tint years = scanner.nextInt();\r\n\t\t\t\tcalculateInterest(years); \r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;F&#39;:\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tSystem.out.println();\t\t\t\t\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault: \r\n\t\t\t\tSystem.out.println(&quot;Invalid input: Please enter A, B, C, D, E, or F.&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\twhile (option != &#39;F&#39;); \t\t\t\t\r\n\t\t\tSystem.out.println(&quot;Thank you for banking with us!&quot;);\t\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\nI tried exporting into a .jar file and a runnable .jar file onto my desktop, but when I click on the jar file it doesn&#39;t do anything. \r\n\r\nI think the issue may be that the file prompts the user to enter in the information. \r\n\r\nIdeally, I would like to just click on the .jar file on my desktop, enter in my information, and have the program run (exactly like it does in eclipse). \r\n\r\nThe code runs perfectly in eclipse with no issues, and I have exported other code from eclipse before as runnable jars files and they ran perfectly. Except these files did not prompt user input from the user. \r\n\r\nThank you!!!!","title":"having trouble exporting java file that prompts user into .jar file onto my desktop","body":"<p>I am trying to export a java file from Eclipse into a runnable .jar file onto my desktop.</p>\n<p>The program is a simulation of a bank, and it prompts you with a menu when you start that looks like this:</p>\n<p>Welcome John Doe.\nYour ID is 1.</p>\n<p>What would you like to do?</p>\n<p>A. Check your balance\nB. Make a deposit\nC. Make a withdrawal\nD. View previous transaction\nE. Calculate interest\nF. Exit</p>\n<p>Enter an option:</p>\n<p>Here is my main class:</p>\n<pre><code>public class FirstBank {\n\n    public static void main(String[] args) {\n\n        Account zach = new Account(&quot;John Doe&quot;, 000001);\n        \n        zach.showMenu();    \n    }\n}\n</code></pre>\n<p>and here is a separate class with all of my methods:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Account {\n\n    int balance;\n    int previousTransaction; \n    String customerName;\n    int customerID;\n\n    //constructor \n    public Account(String customerName, int customerID) {\n        this.customerName = customerName;\n        this.customerID = customerID;\n    }\n    \n    \n    public void deposit(int amount) {\n        if(amount != 0) {\n            balance = balance + amount;\n            previousTransaction = amount;\n        }\n    }\n        \n    public void withdraw(int amount2) {\n        if(amount2 &lt;= balance) {\n            balance = balance - amount2;\n            previousTransaction = -amount2;\n        } else {\n            System.out.println(&quot;Error: insufficient funds.&quot;);\n        }\n    }\n    \n    \n    public void getPreviousTransaction() {\n        if (previousTransaction &gt; 0) {\n            System.out.println(&quot;Deposited: &quot; + previousTransaction);\n    }   else if (previousTransaction &lt; 0) {\n            System.out.println(&quot;Deposited: &quot; + previousTransaction);\n    }   else {\n            System.out.println(&quot;No transaction occurred&quot;);\n    }\n        \n    }\n    \n    public void calculateInterest (int years) {\n        double interestRate = .0185; \n        double newBalance = (balance * interestRate * years) + balance;\n        System.out.println(&quot;The current interest rate is &quot; + (100 * interestRate) + &quot;%.&quot;);\n        System.out.println(&quot;After &quot; + years + &quot; years, your balance will be $&quot; + newBalance +&quot;.&quot;);\n    }\n    \n    public void showMenu () {\n        char option = '\\0';\n        // creates a scanner object: \n        Scanner scanner = new Scanner(System.in); \n        System.out.println(&quot;Welcome &quot; + customerName + &quot;.&quot;);\n        System.out.println(&quot;Your ID is &quot; + customerID + &quot;.&quot;);\n        System.out.println();\n        System.out.println(&quot;What would you like to do?&quot;);\n        System.out.println();\n        System.out.println(&quot;A. Check your balance&quot;);\n        System.out.println(&quot;B. Make a deposit&quot;);\n        System.out.println(&quot;C. Make a withdrawal&quot;);\n        System.out.println(&quot;D. View previous transaction&quot;);\n        System.out.println(&quot;E. Calculate interest&quot;);\n        System.out.println(&quot;F. Exit&quot;);\n        \n        do {\n            System.out.println();\n            System.out.println(&quot;Enter an option: &quot;);\n            char option1 = scanner.next().charAt(0);\n            option = Character.toUpperCase(option1);\n            System.out.println();\n            \n            switch (option) {\n            case 'A':\n                System.out.println();\n                System.out.println(&quot;Balance = $&quot; + balance);\n                System.out.println();\n                break;\n            case 'B':\n                System.out.println();\n                System.out.println(&quot;Enter a deposit amount: &quot;);\n                int amount = scanner.nextInt();\n                deposit(amount);\n                System.out.println();\n                break;\n            case 'C':\n                System.out.println();\n                System.out.println(&quot;Enter an amount to withdraw: &quot;);\n                int amount2 = scanner.nextInt();\n                withdraw(amount2);\n                System.out.println();\n                break;\n            case 'D':\n                System.out.println();\n                getPreviousTransaction();\n                break;\n            case 'E':\n                System.out.println();\n                System.out.println(&quot;Enter the number of years: &quot;);\n                int years = scanner.nextInt();\n                calculateInterest(years); \n                System.out.println();\n                break;\n            case 'F':\n                System.out.println();\n                System.out.println();               \n                System.out.println();\n                break;\n            default: \n                System.out.println(&quot;Invalid input: Please enter A, B, C, D, E, or F.&quot;);\n                break;\n            }\n            \n        }   while (option != 'F');              \n            System.out.println(&quot;Thank you for banking with us!&quot;);   \n        \n    }\n    \n}\n\n</code></pre>\n<p>I tried exporting into a .jar file and a runnable .jar file onto my desktop, but when I click on the jar file it doesn't do anything.</p>\n<p>I think the issue may be that the file prompts the user to enter in the information.</p>\n<p>Ideally, I would like to just click on the .jar file on my desktop, enter in my information, and have the program run (exactly like it does in eclipse).</p>\n<p>The code runs perfectly in eclipse with no issues, and I have exported other code from eclipse before as runnable jars files and they ran perfectly. Except these files did not prompt user input from the user.</p>\n<p>Thank you!!!!</p>\n"},{"tags":["java","salesforce"],"comments":[{"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"score":6,"creation_date":1248696083,"post_id":1187776,"comment_id":1009786,"body_markdown":"Why don&#39;t things function &quot;as expected&quot;?  Is the manual wrong?  Is the documentation misleading?  What resources are you using to set your expectations?  Why are your expectations so out of line with reality?","body":"Why don&#39;t things function &quot;as expected&quot;?  Is the manual wrong?  Is the documentation misleading?  What resources are you using to set your expectations?  Why are your expectations so out of line with reality?"},{"owner":{"account_id":46707,"reputation":3685,"user_id":138088,"accept_rate":100,"display_name":"Daniel F. Thornton"},"score":1,"creation_date":1248696260,"post_id":1187776,"comment_id":1009807,"body_markdown":"Can you specify which languages you are referring to?  All we know is &quot;not Java or Javascript&quot;.  Otherwise, we can only point you to general web development references.","body":"Can you specify which languages you are referring to?  All we know is &quot;not Java or Javascript&quot;.  Otherwise, we can only point you to general web development references."}],"answers":[{"tags":[],"owner":{"account_id":878419,"reputation":30573,"user_id":62830,"accept_rate":49,"display_name":"User"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1248696207,"creation_date":1248696207,"answer_id":1187805,"question_id":1187776,"body_markdown":"Web development fully embraces OO if used with frameworks like .NET and JSF.\r\n\r\nYou need to start thinking in terms of web application logic and behavior. The OO concepts are there to help you and be your tools.","title":"How to transition from OO development to Web-Development?","body":"<p>Web development fully embraces OO if used with frameworks like .NET and JSF.</p>\n\n<p>You need to start thinking in terms of web application logic and behavior. The OO concepts are there to help you and be your tools.</p>\n"},{"tags":[],"owner":{"account_id":41465,"reputation":43854,"user_id":120513,"accept_rate":100,"display_name":"Daff"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1255348888,"creation_date":1248696364,"answer_id":1187811,"question_id":1187776,"body_markdown":"If you mean Object Oriented with the shortcut OO I have to disagree, because most web development languages are in fact object oriented (and you really shouldn&#39;t switch from a object oriented to a procedural server sided programming language). So what you of course need is understanding of your server sided language, be it PHP, Java, Ruby or whatever and that all of them in the end just generate some form of String output (which usually HTML). So you should be aware of all the technologies and how they interact (e.g. HTML, CSS, JavaScript/AJAX, your server sided language framework and so on) and have a understanding of how the transport protocol (meaning mainly HTTP) works and what the disadvantages/advantages are.\r\n\r\nIf you already did more OO development you should at least have heard about MVC which is (with some adaptions to HTTP being a stateless protocol) probably one of the more important patterns to transfer into and use in the web dev world.","title":"How to transition from OO development to Web-Development?","body":"<p>If you mean Object Oriented with the shortcut OO I have to disagree, because most web development languages are in fact object oriented (and you really shouldn't switch from a object oriented to a procedural server sided programming language). So what you of course need is understanding of your server sided language, be it PHP, Java, Ruby or whatever and that all of them in the end just generate some form of String output (which usually HTML). So you should be aware of all the technologies and how they interact (e.g. HTML, CSS, JavaScript/AJAX, your server sided language framework and so on) and have a understanding of how the transport protocol (meaning mainly HTTP) works and what the disadvantages/advantages are.</p>\n\n<p>If you already did more OO development you should at least have heard about MVC which is (with some adaptions to HTTP being a stateless protocol) probably one of the more important patterns to transfer into and use in the web dev world.</p>\n"},{"tags":[],"owner":{"account_id":8722,"reputation":10944,"user_id":15852,"accept_rate":94,"display_name":"Kieveli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1248696774,"creation_date":1248696774,"answer_id":1187844,"question_id":1187776,"body_markdown":"In my experience, working on web projects instantly reduces my productivity by 50%.  It takes me twice as long to get something working in a web project compared with a compiled executable program.\r\n\r\nYou&#39;re working in mutliple languages that interact in ways that you need to control in a very specific way.  Your mindset changes depending on if you&#39;re writing code for the client-side, or server-side.  (Some of this goes away if you&#39;re doing Google&#39;s Web Toolkit coding).\r\n\r\nI won&#39;t even go into the added difficulties of debugging web based products when compared with debugging a typical executable.\r\n\r\nMost of the langauges do support some form of Object Orientation, and when they don&#39;t, typically developers will separate functionality into different files based on Object Oriented techniques.  I think you&#39;ll find that knowledge will still apply.","title":"How to transition from OO development to Web-Development?","body":"<p>In my experience, working on web projects instantly reduces my productivity by 50%.  It takes me twice as long to get something working in a web project compared with a compiled executable program.</p>\n\n<p>You're working in mutliple languages that interact in ways that you need to control in a very specific way.  Your mindset changes depending on if you're writing code for the client-side, or server-side.  (Some of this goes away if you're doing Google's Web Toolkit coding).</p>\n\n<p>I won't even go into the added difficulties of debugging web based products when compared with debugging a typical executable.</p>\n\n<p>Most of the langauges do support some form of Object Orientation, and when they don't, typically developers will separate functionality into different files based on Object Oriented techniques.  I think you'll find that knowledge will still apply.</p>\n"},{"tags":[],"owner":{"account_id":29970,"reputation":523,"user_id":81386,"display_name":"Rafael Coutinho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248709574,"creation_date":1248709574,"answer_id":1188942,"question_id":1187776,"body_markdown":"If you mean client side languages like Javascript/action scripts. Try Dojo framework for javascript development, it has a great model using an OO approach.\r\n","title":"How to transition from OO development to Web-Development?","body":"<p>If you mean client side languages like Javascript/action scripts. Try Dojo framework for javascript development, it has a great model using an OO approach.</p>\n"},{"tags":[],"owner":{"account_id":1356,"reputation":6190,"user_id":1811,"display_name":"Ryan Guest"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1248837155,"creation_date":1248719390,"answer_id":1189812,"question_id":1187776,"body_markdown":"It sounds like you are having trouble getting started with [Apex][1] and [Visualforce][2], the two technologies used for development on the Force.com platform.\r\n\r\nI&#39;d recommend reading through the [developer.force.com][3] site. In particular check out the [tutorials][4].\r\n\r\nAs far as object oriented development with Apex goes, start by reading [Object Oriented Apex - Practical Usage][5].\r\n\r\nIt might also be worthwhile to cruise through the [message boards][6] and see what questions other people are asking. The community is pretty active. If you have specific questions, you can ask them or [stackoverflow][7]. \r\n\r\n\r\n  [1]: http://www.salesforce.com/us/developer/docs/apexcode/index.htm\r\n  [2]: http://www.salesforce.com/us/developer/docs/pages/index.htm\r\n  [3]: http://developer.force.com\r\n  [4]: http://wiki.developerforce.com/index.php/Force.com_Tutorial:_An_Introduction_to_Visualforce\r\n  [5]: http://blog.sforce.com/sforce/2009/07/object-oriented-apex-practical-usage.html\r\n  [6]: http://community.salesforce.com/sforce/?category.id=developers\r\n  [7]: http://stackoverflow.com","title":"How to transition from OO development to Web-Development?","body":"<p>It sounds like you are having trouble getting started with <a href=\"http://www.salesforce.com/us/developer/docs/apexcode/index.htm\" rel=\"nofollow noreferrer\">Apex</a> and <a href=\"http://www.salesforce.com/us/developer/docs/pages/index.htm\" rel=\"nofollow noreferrer\">Visualforce</a>, the two technologies used for development on the Force.com platform.</p>\n\n<p>I'd recommend reading through the <a href=\"http://developer.force.com\" rel=\"nofollow noreferrer\">developer.force.com</a> site. In particular check out the <a href=\"http://wiki.developerforce.com/index.php/Force.com_Tutorial:_An_Introduction_to_Visualforce\" rel=\"nofollow noreferrer\">tutorials</a>.</p>\n\n<p>As far as object oriented development with Apex goes, start by reading <a href=\"http://blog.sforce.com/sforce/2009/07/object-oriented-apex-practical-usage.html\" rel=\"nofollow noreferrer\">Object Oriented Apex - Practical Usage</a>.</p>\n\n<p>It might also be worthwhile to cruise through the <a href=\"http://community.salesforce.com/sforce/?category.id=developers\" rel=\"nofollow noreferrer\">message boards</a> and see what questions other people are asking. The community is pretty active. If you have specific questions, you can ask them or <a href=\"http://stackoverflow.com\">stackoverflow</a>. </p>\n"}],"owner":{"display_name":"mugen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":5,"up_vote_count":4,"closed_date":1664862566,"answer_count":5,"score":-1,"last_activity_date":1664862086,"creation_date":1248695877,"question_id":1187776,"body_markdown":"I just graduated last year and I landed a job in the CRM space, specifically with Salesforce.com and its respective platform.  My problem is that there are 2 languages used to do things on this platform one is relatively similar to java and is OO the other is a web-development language similar to js, but not quite.  I come from a java background.\r\n\r\nI have had limited practice with web development in the past and was always interested in it but found it difficult.\r\n\r\nNow that I have been thrust into this world I&#39;m finding it hard to complete tasks simply because things do not function the way I am used to in the OO world.  I&#39;d write code that would compile, test and get aggravated when things simply do not function as expected!\r\n\r\nWhat do you guys suggest would be best for me to read and comprehend in order to transition my OO thinking into web-development thinking.... I&#39;m thinking I should learn things such as &#39;states, MVC etc etc.&#39; but just don&#39;t know where to begin...\r\n\r\nThanks for all the help!","title":"How to transition from OO development to Web-Development?","body":"<p>I just graduated last year and I landed a job in the CRM space, specifically with Salesforce.com and its respective platform.  My problem is that there are 2 languages used to do things on this platform one is relatively similar to java and is OO the other is a web-development language similar to js, but not quite.  I come from a java background.</p>\n\n<p>I have had limited practice with web development in the past and was always interested in it but found it difficult.</p>\n\n<p>Now that I have been thrust into this world I'm finding it hard to complete tasks simply because things do not function the way I am used to in the OO world.  I'd write code that would compile, test and get aggravated when things simply do not function as expected!</p>\n\n<p>What do you guys suggest would be best for me to read and comprehend in order to transition my OO thinking into web-development thinking.... I'm thinking I should learn things such as 'states, MVC etc etc.' but just don't know where to begin...</p>\n\n<p>Thanks for all the help!</p>\n"},{"tags":["java","arrays","sorting","java-9"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1545516178,"post_id":53899289,"comment_id":94644689,"body_markdown":"Very nice question. I tried to format example array in a way to let &quot;lexicographically&quot; be easier to understand by swapping rows starting with 3 so it would be more obvious that in such case value form next column is supposed to be used at comparison. Hope you don&#39;t mind.","body":"Very nice question. I tried to format example array in a way to let &quot;lexicographically&quot; be easier to understand by swapping rows starting with 3 so it would be more obvious that in such case value form next column is supposed to be used at comparison. Hope you don&#39;t mind."}],"answers":[{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1545512812,"creation_date":1545512812,"answer_id":53899290,"question_id":53899289,"body_markdown":"As of JDK9, there&#39;s a new method called [`Arrays.compare`][1] which allows you to compare two given arrays *lexicographically*.\r\n\r\nShort description of [`Arrays.compare`][1] from the documentation:\r\n\r\n&gt; If the two arrays share a common prefix then the lexicographic\r\n&gt; comparison is the result of comparing two elements, as if by\r\n&gt; Integer.compare(int, int), at an index within the respective arrays\r\n&gt; that is the prefix length. Otherwise, one array is a proper prefix of\r\n&gt; the other and, lexicographic comparison is the result of comparing the\r\n&gt; two array lengths.\r\n\r\n\r\nGiven you want to *modify* the `source` array then using `Arrays.sort` should suffice:\r\n\r\n    Arrays.sort(source, Arrays::compare); \r\n\r\nGiven you want a *new* array as a result then I&#39;d go the stream way:\r\n \r\n\r\n    int[][] sorted = Arrays.stream(source)\r\n                           .sorted(Arrays::compare)\r\n                           .toArray(int[][]::new);\r\n\r\n[1]: https://docs.oracle.com/javase/9/docs/api/java/util/Arrays.html#compare-int:A-int:A-","title":"How to sort two dimensional array lexicographically?","body":"<p>As of JDK9, there's a new method called <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Arrays.html#compare-int:A-int:A-\" rel=\"noreferrer\"><code>Arrays.compare</code></a> which allows you to compare two given arrays <em>lexicographically</em>.</p>\n\n<p>Short description of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Arrays.html#compare-int:A-int:A-\" rel=\"noreferrer\"><code>Arrays.compare</code></a> from the documentation:</p>\n\n<blockquote>\n  <p>If the two arrays share a common prefix then the lexicographic\n  comparison is the result of comparing two elements, as if by\n  Integer.compare(int, int), at an index within the respective arrays\n  that is the prefix length. Otherwise, one array is a proper prefix of\n  the other and, lexicographic comparison is the result of comparing the\n  two array lengths.</p>\n</blockquote>\n\n<p>Given you want to <em>modify</em> the <code>source</code> array then using <code>Arrays.sort</code> should suffice:</p>\n\n<pre><code>Arrays.sort(source, Arrays::compare); \n</code></pre>\n\n<p>Given you want a <em>new</em> array as a result then I'd go the stream way:</p>\n\n<pre><code>int[][] sorted = Arrays.stream(source)\n                       .sorted(Arrays::compare)\n                       .toArray(int[][]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14672208,"reputation":55,"user_id":10596379,"display_name":"Sk Monjurul Haque"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664860448,"creation_date":1664860393,"answer_id":73943359,"question_id":53899289,"body_markdown":"First sort each ArrayList in the Array&lt;ArrayList&gt;.\r\n\r\n```\r\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; allSubset = new ArrayList&lt;&gt;();\r\n\r\nfor(ArrayList&lt;Integer&gt; row : allSubset) {\r\n     Collections.sort(row);\r\n}\r\n```\r\nSecond sort the whole ArrayList&lt;ArrayList&gt; in lexicographically.\r\n\r\n```\r\nallSubset.sort((ArrayList&lt;Integer&gt; o1, ArrayList&lt;Integer&gt; o2) -&gt; {\r\n            if(o2.size() == 0) return 1;\r\n            int min = Math.min(o1.size(), o2.size());\r\n            int i;\r\n            for(i = 0; i &lt; min - 1; i++) {\r\n                if(o1.get(i).equals(o2.get(i))) continue;\r\n                return o1.get(i).compareTo(o2.get(i));\r\n            }\r\n            return o1.get(i).compareTo(o2.get(i));\r\n        });\r\n```\r\nor\r\n\r\n        Collections.sort(allSubset, (ArrayList &lt; Integer &gt; first, ArrayList &lt; Integer &gt; second) -&gt; {\r\n            for (int i = 0; i &lt; first.size() &amp;&amp; i &lt; second.size(); i++) {\r\n                if (first.get(i) &lt; second.get(i))\r\n                    return -1;\r\n                if (first.get(i) &gt; second.get(i))\r\n                    return 1;\r\n            }\r\n            if (first.size() &gt; second.size())\r\n                return 1;\r\n            return -1;\r\n        });","title":"How to sort two dimensional array lexicographically?","body":"<p>First sort each ArrayList in the Array.</p>\n<pre><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; allSubset = new ArrayList&lt;&gt;();\n\nfor(ArrayList&lt;Integer&gt; row : allSubset) {\n     Collections.sort(row);\n}\n</code></pre>\n<p>Second sort the whole ArrayList in lexicographically.</p>\n<pre><code>allSubset.sort((ArrayList&lt;Integer&gt; o1, ArrayList&lt;Integer&gt; o2) -&gt; {\n            if(o2.size() == 0) return 1;\n            int min = Math.min(o1.size(), o2.size());\n            int i;\n            for(i = 0; i &lt; min - 1; i++) {\n                if(o1.get(i).equals(o2.get(i))) continue;\n                return o1.get(i).compareTo(o2.get(i));\n            }\n            return o1.get(i).compareTo(o2.get(i));\n        });\n</code></pre>\n<p>or</p>\n<pre><code>    Collections.sort(allSubset, (ArrayList &lt; Integer &gt; first, ArrayList &lt; Integer &gt; second) -&gt; {\n        for (int i = 0; i &lt; first.size() &amp;&amp; i &lt; second.size(); i++) {\n            if (first.get(i) &lt; second.get(i))\n                return -1;\n            if (first.get(i) &gt; second.get(i))\n                return 1;\n        }\n        if (first.size() &gt; second.size())\n            return 1;\n        return -1;\n    });\n</code></pre>\n"}],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1049,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":53899290,"answer_count":2,"score":3,"last_activity_date":1664860448,"creation_date":1545512812,"question_id":53899289,"body_markdown":"Assuming we have a two-dimensional array as follows:\r\n\r\n    int[][] source = {\r\n      {   3,  5,  6,  1},\r\n      {   3,  3,  5, -6},\r\n      {  -1, -3, -5, -6},\r\n      { 124, 43, 55, -66}\r\n    };\r\n\r\nhow do we sort the multidimensional array `source` *lexicographically*? \r\n\r\nSo, as a result, I&#39;d expect it to be:\r\n\r\n    [ [ -1, -3, -5,  -6], \r\n      [  3,  3,  5,  -6], \r\n      [  3,  5,  6,   1], \r\n      [124, 43, 55, -66] ]\r\n\r\na lot of questions on this site seem to only suggest sorting by the first element of each array or second, third etc. but not taking in consideration the entire array.  ","title":"How to sort two dimensional array lexicographically?","body":"<p>Assuming we have a two-dimensional array as follows:</p>\n\n<pre><code>int[][] source = {\n  {   3,  5,  6,  1},\n  {   3,  3,  5, -6},\n  {  -1, -3, -5, -6},\n  { 124, 43, 55, -66}\n};\n</code></pre>\n\n<p>how do we sort the multidimensional array <code>source</code> <em>lexicographically</em>? </p>\n\n<p>So, as a result, I'd expect it to be:</p>\n\n<pre><code>[ [ -1, -3, -5,  -6], \n  [  3,  3,  5,  -6], \n  [  3,  5,  6,   1], \n  [124, 43, 55, -66] ]\n</code></pre>\n\n<p>a lot of questions on this site seem to only suggest sorting by the first element of each array or second, third etc. but not taking in consideration the entire array.  </p>\n"},{"tags":["java","client","classnotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1274902436,"creation_date":1274902436,"answer_id":2916145,"question_id":2916107,"body_markdown":"The package name and classname must be **exactly** the same at the both sides. I.e. write once, compile once and then give the both sides the *same* copy. Don&#39;t have separate `server.Message` and `client.Message` classes, but a single `shared.Message` class or something like that.\r\n\r\nIf you can guarantee the same package/class name, but not always whenever it&#39;s *exactly* the same copy, then you need to add a `serialVersionUID` field with the same value to the class(es) in question.\r\n\r\n    package shared;\r\n\r\n    import java.io.Serializable;\r\n\r\n    public class Message implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        // ...\r\n    }\r\n\r\n","title":"readobject method throws ClassNotFoundException","body":"<p>The package name and classname must be <strong>exactly</strong> the same at the both sides. I.e. write once, compile once and then give the both sides the <em>same</em> copy. Don't have separate <code>server.Message</code> and <code>client.Message</code> classes, but a single <code>shared.Message</code> class or something like that.</p>\n\n<p>If you can guarantee the same package/class name, but not always whenever it's <em>exactly</em> the same copy, then you need to add a <code>serialVersionUID</code> field with the same value to the class(es) in question.</p>\n\n<pre><code>package shared;\n\nimport java.io.Serializable;\n\npublic class Message implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1274904869,"creation_date":1274904869,"answer_id":2916420,"question_id":2916107,"body_markdown":"The reason is, that the readObject() in ObjectInputStream is practically implemented as:\r\n\r\n \r\n\r\n     String s = readClassName();\r\n     Class c = Class.forName(s); // Here your code breaks\r\n     Object o = c.newInstance();\r\n     ...populate o...\r\n","title":"readobject method throws ClassNotFoundException","body":"<p>The reason is, that the readObject() in ObjectInputStream is practically implemented as:</p>\n\n<pre><code> String s = readClassName();\n Class c = Class.forName(s); // Here your code breaks\n Object o = c.newInstance();\n ...populate o...\n</code></pre>\n"}],"owner":{"account_id":93272,"reputation":863,"user_id":255272,"accept_rate":100,"display_name":"eruina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16456,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":2916145,"answer_count":2,"score":9,"last_activity_date":1664860329,"creation_date":1274902142,"question_id":2916107,"body_markdown":"I&#39;m trying to pick up Java and wanted to test around with Java&#39;s client/server to make the client send a simple object of a self defined class(Message) over to the server. The problem was that I kept getting a ClassNotFoundException on the server side.\r\n\r\nI think the rest of the codes seem to be alright because other objects such as String can go through without problems.\r\n\r\nI had two different netbeans projects in different locations for client and server each.\r\n\r\nEach of them have their own copy of Message class under their respective packages.\r\nMessage class implements Serializable.\r\n\r\nOn the client side, I attempt to send a Message object through.\r\n\r\nOn the server side, upon calling the readObject method, it seems to be finding Message class from the client&#39;s package instead of it&#39;s own. printStackTrace showed: &quot;java.lang.ClassNotFoundException: client.Message&quot; on the server side\r\n\r\nI have not even tried to cast or store the object received yet. Is there something I left out?","title":"readobject method throws ClassNotFoundException","body":"<p>I'm trying to pick up Java and wanted to test around with Java's client/server to make the client send a simple object of a self defined class(Message) over to the server. The problem was that I kept getting a ClassNotFoundException on the server side.</p>\n\n<p>I think the rest of the codes seem to be alright because other objects such as String can go through without problems.</p>\n\n<p>I had two different netbeans projects in different locations for client and server each.</p>\n\n<p>Each of them have their own copy of Message class under their respective packages.\nMessage class implements Serializable.</p>\n\n<p>On the client side, I attempt to send a Message object through.</p>\n\n<p>On the server side, upon calling the readObject method, it seems to be finding Message class from the client's package instead of it's own. printStackTrace showed: \"java.lang.ClassNotFoundException: client.Message\" on the server side</p>\n\n<p>I have not even tried to cast or store the object received yet. Is there something I left out?</p>\n"},{"tags":["java","bash","jar","bioinformatics","picard"],"answers":[{"tags":[],"owner":{"account_id":22383612,"reputation":717,"user_id":16596758,"display_name":"Will Holtz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664859198,"creation_date":1664859198,"answer_id":73943260,"question_id":73937802,"body_markdown":"If you install the most recent version of picard from the bioconda channel (v2.27.4) and activate the conda environment, you will then have a program `picard` in your path. You can then run it like this:\r\n\r\n```bash\r\n$ picard AddOrReplaceReadGroups I=ATPU_MSI_101505899.1.sorted.bam O=ATPU.MSI.101505899.rg.sorted.bam RGID=NovaSeq.QCarvey1.TACAT RGLB=NovaSeq.QCarvey1 RGPL=illumina RGPU=NovaSeq.QCarvey1.TACAT RGSM=MSI.101505899\r\n```\r\n\r\nThe `picard` program is a shell script that executes `java -jar ...` so you don&#39;t need to directly run `java`.","title":"Unable to access jar file (installed in a conda virtual environment)","body":"<p>If you install the most recent version of picard from the bioconda channel (v2.27.4) and activate the conda environment, you will then have a program <code>picard</code> in your path. You can then run it like this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ picard AddOrReplaceReadGroups I=ATPU_MSI_101505899.1.sorted.bam O=ATPU.MSI.101505899.rg.sorted.bam RGID=NovaSeq.QCarvey1.TACAT RGLB=NovaSeq.QCarvey1 RGPL=illumina RGPU=NovaSeq.QCarvey1.TACAT RGSM=MSI.101505899\n</code></pre>\n<p>The <code>picard</code> program is a shell script that executes <code>java -jar ...</code> so you don't need to directly run <code>java</code>.</p>\n"}],"owner":{"account_id":16804563,"reputation":59,"user_id":12149088,"display_name":"Quinn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73943260,"answer_count":1,"score":-1,"last_activity_date":1664859198,"creation_date":1664811925,"question_id":73937802,"body_markdown":"I&#39;ve tried to execute a few different commands in picard (currently AddOrReplaceReadGroups; see below), but get the error: &quot;Unable to access jarfile&quot;. I&#39;ve tried all of the solutions to this seemingly common problem but can&#39;t seem to resolve this. I&#39;m working in bash (on a linux server) within a conda virtual environment; picard is installed in the bin of this virtual environment and I&#39;m running the code while the environment is activated.\r\n\r\nI&#39;ve tried running the code in the same directory where picard is installed. I&#39;ve added the directory where picard is saved to my path: ```export PATH=/home/scarvey/miniconda3/envs/stacks_venv/bin:$PATH```. I saved picard as an environment variable: ```PICARD=&quot;/path/to/picard/picard.java&quot;```. I&#39;ve run the code with full paths to picard and to the files being called. I checked that I have java installed ```java --version``` and the results were: openjdk 17.0.3-internal 2022-04-19\r\n\r\nCode to run AddOrReplaceReadGroups:\r\n```\r\njava -jar $PICARD AddOrReplaceReadGroups I=ATPU_MSI_101505899.1.sorted.bam O=ATPU.MSI.101505899.rg.sorted.bam RGID=NovaSeq.QCarvey1.TACAT RGLB=NovaSeq.QCarvey1 RGPL=illumina RGPU=NovaSeq.QCarvey1.TACAT RGSM=MSI.101505899\r\n```\r\n\r\nI imagine there is an element to this that I haven&#39;t considered but I feel like I&#39;ve tried all the solutions I can find. I sincerely appreciate any help.\r\n\r\n","title":"Unable to access jar file (installed in a conda virtual environment)","body":"<p>I've tried to execute a few different commands in picard (currently AddOrReplaceReadGroups; see below), but get the error: &quot;Unable to access jarfile&quot;. I've tried all of the solutions to this seemingly common problem but can't seem to resolve this. I'm working in bash (on a linux server) within a conda virtual environment; picard is installed in the bin of this virtual environment and I'm running the code while the environment is activated.</p>\n<p>I've tried running the code in the same directory where picard is installed. I've added the directory where picard is saved to my path: <code>export PATH=/home/scarvey/miniconda3/envs/stacks_venv/bin:$PATH</code>. I saved picard as an environment variable: <code>PICARD=&quot;/path/to/picard/picard.java&quot;</code>. I've run the code with full paths to picard and to the files being called. I checked that I have java installed <code>java --version</code> and the results were: openjdk 17.0.3-internal 2022-04-19</p>\n<p>Code to run AddOrReplaceReadGroups:</p>\n<pre><code>java -jar $PICARD AddOrReplaceReadGroups I=ATPU_MSI_101505899.1.sorted.bam O=ATPU.MSI.101505899.rg.sorted.bam RGID=NovaSeq.QCarvey1.TACAT RGLB=NovaSeq.QCarvey1 RGPL=illumina RGPU=NovaSeq.QCarvey1.TACAT RGSM=MSI.101505899\n</code></pre>\n<p>I imagine there is an element to this that I haven't considered but I feel like I've tried all the solutions I can find. I sincerely appreciate any help.</p>\n"},{"tags":["java","spring","spring-boot","netflix-zuul","hystrix"],"comments":[{"owner":{"account_id":1295445,"reputation":5529,"user_id":1246623,"display_name":"yongsung.yoon"},"score":0,"creation_date":1506427715,"post_id":46424214,"comment_id":79809150,"body_markdown":"Where is your `getRoute` method in ZuulFallbackProvider ? and which version are you using ?","body":"Where is your <code>getRoute</code> method in ZuulFallbackProvider ? and which version are you using ?"},{"owner":{"account_id":1437641,"reputation":4865,"user_id":1358676,"accept_rate":77,"display_name":"codingsplash"},"score":0,"creation_date":1506429799,"post_id":46424214,"comment_id":79810781,"body_markdown":"I have updated the code.","body":"I have updated the code."},{"owner":{"account_id":1295445,"reputation":5529,"user_id":1246623,"display_name":"yongsung.yoon"},"score":0,"creation_date":1506430441,"post_id":46424214,"comment_id":79811213,"body_markdown":"What error message did you get from zuul ?","body":"What error message did you get from zuul ?"},{"owner":{"account_id":1437641,"reputation":4865,"user_id":1358676,"accept_rate":77,"display_name":"codingsplash"},"score":1,"creation_date":1506433775,"post_id":46424214,"comment_id":79813704,"body_markdown":"No specific error message from Zuul. The request just fails with 500 error, which would be the expected behavior if the fallback was not there.","body":"No specific error message from Zuul. The request just fails with 500 error, which would be the expected behavior if the fallback was not there."}],"answers":[{"tags":[],"owner":{"account_id":77917,"reputation":2688,"user_id":222116,"display_name":"R&#252;diger Schulz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543964005,"creation_date":1543964005,"answer_id":53622657,"question_id":46424214,"body_markdown":"If you configure Zuul to directly connect to an URL for your route, it will use SimpleHostRoutingFilter, which will (almost) always return a 500 in case of an error. Any FallbackProviders will not kick in.\r\n\r\nI used a custom SimpleHostRoutingFilter instead:\r\n\r\n    public class CustomErrorHostRoutingFilter extends SimpleHostRoutingFilter {\r\n        public CustomErrorHostRoutingFilter(ProxyRequestHelper helper, ZuulProperties properties, ApacheHttpClientConnectionManagerFactory connectionManagerFactory, ApacheHttpClientFactory httpClientFactory) {\r\n            super(helper, properties, connectionManagerFactory, httpClientFactory);\r\n        }\r\n    \r\n        @Override\r\n        protected ZuulException handleException(Exception ex) {\r\n            if (ex instanceof ConnectTimeoutException) {\r\n                return new ZuulException(ex, &quot;Downstream timeout&quot;, HttpServletResponse.SC_GATEWAY_TIMEOUT, ex.getMessage());\r\n            }\r\n    \r\n            if (ex instanceof IOException) {\r\n                return new ZuulException(ex, &quot;Downstream I/O error&quot;, HttpServletResponse.SC_SERVICE_UNAVAILABLE, ex.getMessage());\r\n            }\r\n    \r\n            return super.handleException(ex);\r\n        }\r\n    }\r\n\r\nSome kind of configuration class is required as well:\r\n\r\n    @Configuration\r\n    @EnableZuulProxy\r\n    public class ZuulConfiguration {\r\n    \r\n        @Bean\r\n        public SimpleHostRoutingFilter simpleHostRoutingFilter(ProxyRequestHelper helper,\r\n                                                               ZuulProperties zuulProperties,\r\n                                                               ApacheHttpClientConnectionManagerFactory connectionManagerFactory,\r\n                                                               ApacheHttpClientFactory httpClientFactory) {\r\n            return new CustomErrorHostRoutingFilter(helper, zuulProperties, connectionManagerFactory, httpClientFactory);\r\n        }\r\n    }\r\n","title":"ZuulFallbackProvider not getting invoked","body":"<p>If you configure Zuul to directly connect to an URL for your route, it will use SimpleHostRoutingFilter, which will (almost) always return a 500 in case of an error. Any FallbackProviders will not kick in.</p>\n\n<p>I used a custom SimpleHostRoutingFilter instead:</p>\n\n<pre><code>public class CustomErrorHostRoutingFilter extends SimpleHostRoutingFilter {\n    public CustomErrorHostRoutingFilter(ProxyRequestHelper helper, ZuulProperties properties, ApacheHttpClientConnectionManagerFactory connectionManagerFactory, ApacheHttpClientFactory httpClientFactory) {\n        super(helper, properties, connectionManagerFactory, httpClientFactory);\n    }\n\n    @Override\n    protected ZuulException handleException(Exception ex) {\n        if (ex instanceof ConnectTimeoutException) {\n            return new ZuulException(ex, \"Downstream timeout\", HttpServletResponse.SC_GATEWAY_TIMEOUT, ex.getMessage());\n        }\n\n        if (ex instanceof IOException) {\n            return new ZuulException(ex, \"Downstream I/O error\", HttpServletResponse.SC_SERVICE_UNAVAILABLE, ex.getMessage());\n        }\n\n        return super.handleException(ex);\n    }\n}\n</code></pre>\n\n<p>Some kind of configuration class is required as well:</p>\n\n<pre><code>@Configuration\n@EnableZuulProxy\npublic class ZuulConfiguration {\n\n    @Bean\n    public SimpleHostRoutingFilter simpleHostRoutingFilter(ProxyRequestHelper helper,\n                                                           ZuulProperties zuulProperties,\n                                                           ApacheHttpClientConnectionManagerFactory connectionManagerFactory,\n                                                           ApacheHttpClientFactory httpClientFactory) {\n        return new CustomErrorHostRoutingFilter(helper, zuulProperties, connectionManagerFactory, httpClientFactory);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1437641,"reputation":4865,"user_id":1358676,"accept_rate":77,"display_name":"codingsplash"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664858836,"creation_date":1506422433,"question_id":46424214,"body_markdown":"I am trying to have a fallback if Zuul does not find a service. I have the a ZuulSever with the below code:\r\n\r\n    @SpringBootApplication\r\n    @EnableZuulProxy\r\n    @EnableDiscoveryClient\r\n    public class ZuulServerApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ZuulServerApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ZuulFallbackProvider fallBackProvider() {\r\n    \t\treturn new ZuulFallbackProvider() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic ClientHttpResponse fallbackResponse() {\r\n    \r\n    \t\t\t\treturn new ClientHttpResponse() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic HttpHeaders getHeaders() {\r\n    \t\t\t\t\t\treturn null;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic InputStream getBody() throws IOException {\r\n    \t\t\t\t\t\treturn new ByteArrayInputStream(&quot;Hello&quot;.getBytes());\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic String getStatusText() throws IOException {\r\n    \t\t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\treturn &quot;Service Down&quot;;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic HttpStatus getStatusCode() throws IOException {\r\n    \t\t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\treturn HttpStatus.OK;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic int getRawStatusCode() throws IOException {\r\n    \t\t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\treturn 200;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void close() {\r\n    \t\t\t\t\t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t};\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic String getRoute() {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\treturn &quot;*&quot;;\r\n    \t\t\t}\r\n    \r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nWhen the service in my route is up and running, I am able to get the output. But when I bring down the service in the route, I expected the fallback to kick in. But I still see an error message instead of the fallback message. Why is the fallback not invoked? I am using Dalston Release version.","title":"ZuulFallbackProvider not getting invoked","body":"<p>I am trying to have a fallback if Zuul does not find a service. I have the a ZuulSever with the below code:</p>\n\n<pre><code>@SpringBootApplication\n@EnableZuulProxy\n@EnableDiscoveryClient\npublic class ZuulServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ZuulServerApplication.class, args);\n    }\n\n    @Bean\n    public ZuulFallbackProvider fallBackProvider() {\n        return new ZuulFallbackProvider() {\n\n            @Override\n            public ClientHttpResponse fallbackResponse() {\n\n                return new ClientHttpResponse() {\n                    @Override\n                    public HttpHeaders getHeaders() {\n                        return null;\n                    }\n                    @Override\n                    public InputStream getBody() throws IOException {\n                        return new ByteArrayInputStream(\"Hello\".getBytes());\n                    }\n\n                    @Override\n                    public String getStatusText() throws IOException {\n                        // TODO Auto-generated method stub\n                        return \"Service Down\";\n                    }\n\n                    @Override\n                    public HttpStatus getStatusCode() throws IOException {\n                        // TODO Auto-generated method stub\n                        return HttpStatus.OK;\n                    }\n\n                    @Override\n                    public int getRawStatusCode() throws IOException {\n                        // TODO Auto-generated method stub\n                        return 200;\n                    }\n\n                    @Override\n                    public void close() {\n                        // TODO Auto-generated method stub\n\n                    }\n                };\n            }\n\n            @Override\n            public String getRoute() {\n                // TODO Auto-generated method stub\n                return \"*\";\n            }\n\n        };\n    }\n}\n</code></pre>\n\n<p>When the service in my route is up and running, I am able to get the output. But when I bring down the service in the route, I expected the fallback to kick in. But I still see an error message instead of the fallback message. Why is the fallback not invoked? I am using Dalston Release version.</p>\n"},{"tags":["java","android","ionic2","ionic3","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":1472051,"reputation":7310,"user_id":1383356,"accept_rate":55,"display_name":"Ari"},"score":0,"creation_date":1522105452,"post_id":49499680,"comment_id":86007962,"body_markdown":"You are not asking a clear question here. Have you tried this approach. It should work. But FYI, using Firebase plugin, you can also set the badge. No need for ionic&#39;s native badge plugin: https://github.com/arnesson/cordova-plugin-firebase","body":"You are not asking a clear question here. Have you tried this approach. It should work. But FYI, using Firebase plugin, you can also set the badge. No need for ionic&#39;s native badge plugin: <a href=\"https://github.com/arnesson/cordova-plugin-firebase\" rel=\"nofollow noreferrer\">github.com/arnesson/cordova-plugin-firebase</a>"},{"owner":{"account_id":10828368,"reputation":165,"user_id":7963599,"accept_rate":62,"display_name":"AppFirl"},"score":0,"creation_date":1522158947,"post_id":49499680,"comment_id":86034478,"body_markdown":"@Ari. The problem I have with using the cordova-plugin-firebase is that it wouldn&#39;t set the badge when the message is received (if the app is completely closed). It sets it after the app is opened.","body":"@Ari. The problem I have with using the cordova-plugin-firebase is that it wouldn&#39;t set the badge when the message is received (if the app is completely closed). It sets it after the app is opened."},{"owner":{"account_id":10828368,"reputation":165,"user_id":7963599,"accept_rate":62,"display_name":"AppFirl"},"score":0,"creation_date":1522160068,"post_id":49499680,"comment_id":86035398,"body_markdown":"@Ari I have updated my question to include what I have tried and what&#39;s not working. any thoughts? much appreciated","body":"@Ari I have updated my question to include what I have tried and what&#39;s not working. any thoughts? much appreciated"}],"answers":[{"tags":[],"owner":{"account_id":1472051,"reputation":7310,"user_id":1383356,"accept_rate":55,"display_name":"Ari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522162341,"creation_date":1522162341,"answer_id":49516157,"question_id":49499680,"body_markdown":"Set the badge field when you send the notification. The documentation specifies this for ios and based on my test it works, but with some delay. I would also try it for Android, but it may not be possible:\n\nSearch for &#39;badge&#39; here:\n\nhttps://firebase.google.com/docs/cloud-messaging/http-server-ref","title":"setting badge when Firebase Cloud Message is received in Ionic App","body":"<p>Set the badge field when you send the notification. The documentation specifies this for ios and based on my test it works, but with some delay. I would also try it for Android, but it may not be possible:</p>\n\n<p>Search for 'badge' here:</p>\n\n<p><a href=\"https://firebase.google.com/docs/cloud-messaging/http-server-ref\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/cloud-messaging/http-server-ref</a></p>\n"}],"owner":{"account_id":10828368,"reputation":165,"user_id":7963599,"accept_rate":62,"display_name":"AppFirl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1956,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664858060,"creation_date":1522094487,"question_id":49499680,"body_markdown":"I&#39;m having a hard time getting responses to my questions lately and I&#39;m not why. If I am not asking right, can someone please let me know so I can adjust?\r\n\r\nI am building an app with Ionic but having issues sending badge numbers for Android via FCM. I can&#39;t find anything in the Firebase Docs. How do I set the badge count when a message is received?\r\n\r\nHere is my thought process but I don&#39;t know how to get it to work:\r\n\r\n 1. when the message is received, use the [ionic native badge plugin][1] to set it\r\n 2. send the badge count using FCM payload\r\n\r\nNOTE: I am using NodeJS implementation for Firebase\r\n\r\n**What I&#39;ve tried**\r\n\r\nI am using the **cordova-plugin-fcm** plugin and the Android ShortcutBadger to set the badge, but I am unable to set the badge when the message is received. I was only able to set it when the app is already open by calling the shortcutbadger function in the MyFirebaseMessagingService java class (of the cordova-plugin-fcm). Below is the code I am using in my FCMPluginActivity java class:\r\n\r\n    // more imports here    \r\n    import me.leolin.shortcutbadger.ShortcutBadger;\r\n    \r\n    public class FCMPluginActivity extends Activity {\r\n        private static String TAG = &quot;FCMPlugin&quot;;\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \t\tLog.d(TAG, &quot;==&gt; FCMPluginActivity onCreate&quot;);\r\n    \t\t\r\n    \t\tMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\r\n            if (getIntent().getExtras() != null) {\r\n    \t\t\tLog.d(TAG, &quot;==&gt; USER TAPPED NOTFICATION&quot;);\r\n    \t\t\tdata.put(&quot;wasTapped&quot;, true);\r\n    \t\t\tfor (String key : getIntent().getExtras().keySet()) {\r\n                    String value = getIntent().getExtras().getString(key);\r\n                    Log.d(TAG, &quot;\\tKey: &quot; + key + &quot; Value: &quot; + value);\r\n    \t\t\t\tdata.put(key, value);\r\n                }\r\n            }\r\n    \t\t\r\n    \t\tFCMPlugin.sendPushPayload(data);\r\n    \t\tShortcutBadger.applyCount(FCMPluginActivity.this, 8);\r\n            finish();\r\n    \r\n            forceMainActivityReload();\r\n        }\r\n\r\nI am importing ShortcutBadger and using it in the onCreate method. The idea is to set the badger when the notification is received; however, this is not working.\r\n\r\nYour thoughts and comments are very much appreciated\r\n\r\n\r\n  [1]: https://ionicframework.com/docs/native/badge/","title":"setting badge when Firebase Cloud Message is received in Ionic App","body":"<p>I'm having a hard time getting responses to my questions lately and I'm not why. If I am not asking right, can someone please let me know so I can adjust?</p>\n\n<p>I am building an app with Ionic but having issues sending badge numbers for Android via FCM. I can't find anything in the Firebase Docs. How do I set the badge count when a message is received?</p>\n\n<p>Here is my thought process but I don't know how to get it to work:</p>\n\n<ol>\n<li>when the message is received, use the <a href=\"https://ionicframework.com/docs/native/badge/\" rel=\"nofollow noreferrer\">ionic native badge plugin</a> to set it</li>\n<li>send the badge count using FCM payload</li>\n</ol>\n\n<p>NOTE: I am using NodeJS implementation for Firebase</p>\n\n<p><strong>What I've tried</strong></p>\n\n<p>I am using the <strong>cordova-plugin-fcm</strong> plugin and the Android ShortcutBadger to set the badge, but I am unable to set the badge when the message is received. I was only able to set it when the app is already open by calling the shortcutbadger function in the MyFirebaseMessagingService java class (of the cordova-plugin-fcm). Below is the code I am using in my FCMPluginActivity java class:</p>\n\n<pre><code>// more imports here    \nimport me.leolin.shortcutbadger.ShortcutBadger;\n\npublic class FCMPluginActivity extends Activity {\n    private static String TAG = \"FCMPlugin\";\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Log.d(TAG, \"==&gt; FCMPluginActivity onCreate\");\n\n        Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n        if (getIntent().getExtras() != null) {\n            Log.d(TAG, \"==&gt; USER TAPPED NOTFICATION\");\n            data.put(\"wasTapped\", true);\n            for (String key : getIntent().getExtras().keySet()) {\n                String value = getIntent().getExtras().getString(key);\n                Log.d(TAG, \"\\tKey: \" + key + \" Value: \" + value);\n                data.put(key, value);\n            }\n        }\n\n        FCMPlugin.sendPushPayload(data);\n        ShortcutBadger.applyCount(FCMPluginActivity.this, 8);\n        finish();\n\n        forceMainActivityReload();\n    }\n</code></pre>\n\n<p>I am importing ShortcutBadger and using it in the onCreate method. The idea is to set the badger when the notification is received; however, this is not working.</p>\n\n<p>Your thoughts and comments are very much appreciated</p>\n"},{"tags":["java","sorting","generics","arraylist","quicksort"],"comments":[{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":3,"creation_date":1664853995,"post_id":73942830,"comment_id":130560261,"body_markdown":"arr is an ArrayList. Try arr.get(int index)","body":"arr is an ArrayList. Try arr.get(int index)"},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":2,"creation_date":1664855535,"post_id":73942830,"comment_id":130560445,"body_markdown":"Khanna111 is correct, but note that you will still get an error on that line after making the change.  `arr` is an arraylist of type `T`, so the `get()` method will return an element of type `T`, so `pivot` needs to be type `T`.  Then you need to double-check your logic to make sure it still makes sense if `pivot` is of type `T`.","body":"Khanna111 is correct, but note that you will still get an error on that line after making the change.  <code>arr</code> is an arraylist of type <code>T</code>, so the <code>get()</code> method will return an element of type <code>T</code>, so <code>pivot</code> needs to be type <code>T</code>.  Then you need to double-check your logic to make sure it still makes sense if <code>pivot</code> is of type <code>T</code>."}],"owner":{"account_id":26190324,"reputation":9,"user_id":19872276,"display_name":"Preston Little"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664856987,"creation_date":1664853705,"question_id":73942830,"body_markdown":"I&#39;m currently working on creating a generic ArrayList quicksort method but I&#39;m struggling with making sure all of the types are correct. The line I&#39;m getting an error on is the one that says, &quot;int pivot = arr[pivotIndex];&quot; The error message is in the code next to it. Any suggestions on how to fix it?\r\n\r\n```\r\npublic static &lt;T extends Comparable&lt;? super T&gt;&gt; void quicksort(ArrayList&lt;T&gt; arr, int start, int end) {\r\n\tif (start &gt;= end) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tint pivotIndex = new Random().nextInt(end - start) + start;\r\n\tint pivot = arr[pivotIndex]; // The type of the expression must be an array type but\r\n                                 // it resolved to ArrayList&lt;T&gt;\r\n\tswap(arr, pivotIndex, end);\r\n\r\n\tint leftPointer = partition(arr, start, end, pivot); // the partition method is a\r\n                                                         // helper method that partitions the input.\r\n                                                         // It takes in parameters of ArrayList&lt;T&gt;,\r\n                                                         // int, int, int\r\n\r\n\tquicksort(arr, start, leftPointer - 1);\r\n\tquicksort(arr, leftPointer + 1, end);\r\n}","title":"Generic ArrayList quicksort method - Java","body":"<p>I'm currently working on creating a generic ArrayList quicksort method but I'm struggling with making sure all of the types are correct. The line I'm getting an error on is the one that says, &quot;int pivot = arr[pivotIndex];&quot; The error message is in the code next to it. Any suggestions on how to fix it?</p>\n<pre><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void quicksort(ArrayList&lt;T&gt; arr, int start, int end) {\n    if (start &gt;= end) {\n        return;\n    }\n\n    int pivotIndex = new Random().nextInt(end - start) + start;\n    int pivot = arr[pivotIndex]; // The type of the expression must be an array type but\n                                 // it resolved to ArrayList&lt;T&gt;\n    swap(arr, pivotIndex, end);\n\n    int leftPointer = partition(arr, start, end, pivot); // the partition method is a\n                                                         // helper method that partitions the input.\n                                                         // It takes in parameters of ArrayList&lt;T&gt;,\n                                                         // int, int, int\n\n    quicksort(arr, start, leftPointer - 1);\n    quicksort(arr, leftPointer + 1, end);\n}\n</code></pre>\n"},{"tags":["java","arrays","initialization","populate"],"answers":[{"tags":[],"owner":{"account_id":26427594,"reputation":1,"user_id":20074295,"display_name":"nmiller"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1664856652,"creation_date":1664856652,"answer_id":73943044,"question_id":73942990,"body_markdown":"\tpublic void initializeBoxes () {\r\n\t\r\n\tprizeBoxes[0] = 1;\r\n\tprizeBoxes[1] = -100;\r\n\t\r\n\t\tint min = 20;\r\n\t\tint max = 100;\t\r\n\t\r\n\tfor ( int i = 2 ; i &lt; prizeBoxes.length ; i++) {\r\n\t\t\t\r\n\t\t\r\n\t\t prizeBoxes[i] = (int) Math.floor(Math.random()*(max-min) +min);\r\n\t\r\n\t\t}\r\n\t\r\n\tfor ( int i=0; i &lt; prizeBoxes.length ; i++){\r\n\tSystem.out.println(prizeBoxes[i]) ;\r\n\t\r\n\t\t}\r\n\r\n\t}","title":"How do I produce an array where the first two numbers are set and the rest are random?","body":"<pre><code>public void initializeBoxes () {\n\nprizeBoxes[0] = 1;\nprizeBoxes[1] = -100;\n\n    int min = 20;\n    int max = 100;  \n\nfor ( int i = 2 ; i &lt; prizeBoxes.length ; i++) {\n        \n    \n     prizeBoxes[i] = (int) Math.floor(Math.random()*(max-min) +min);\n\n    }\n\nfor ( int i=0; i &lt; prizeBoxes.length ; i++){\nSystem.out.println(prizeBoxes[i]) ;\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26427594,"reputation":1,"user_id":20074295,"display_name":"nmiller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1664856943,"creation_date":1664855843,"question_id":73942990,"body_markdown":"I need to make an array populated with 28 random numbers and 2 others: 1 and -100. \r\n Following I was able to produce the random numbers all between 20 and 100; however, I don&#39;t know how to set [0] and [1] to 1 and -100.\r\n\r\n        for ( int i = 2 ; i &lt; prizeBoxes.length ; i++) {\r\n\t\t\t\r\n\t        prizeBoxes[i] = (int) Math.floor(Math.random()*(max-min) +min);\r\n\t\r\n        }","title":"How do I produce an array where the first two numbers are set and the rest are random?","body":"<p>I need to make an array populated with 28 random numbers and 2 others: 1 and -100.\nFollowing I was able to produce the random numbers all between 20 and 100; however, I don't know how to set [0] and [1] to 1 and -100.</p>\n<pre><code>    for ( int i = 2 ; i &lt; prizeBoxes.length ; i++) {\n        \n        prizeBoxes[i] = (int) Math.floor(Math.random()*(max-min) +min);\n\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9003,"page":989,"page_size":100}
