{"items":[{"tags":["java","encryption","cryptography"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1656876838,"post_id":72849259,"comment_id":128672726,"body_markdown":"You might as well toss this out. ECB is not secure, nor is DES. This is encryption any script kiddie can break in 5 seconds. You&#39;re going to have to figure out a way to transition this crypto - perhaps as users log in, recrypt it properly. For example with Aes256 in GCM is good, possibly just Aes256 in CBC mode. See [this page](https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation) and scroll down to the penguin to see why ECB means you&#39;re screwed here. Triple DES (DESede) is slow as heck and no longer standard in any way. It may not be all that easy to hack, but, just.. update it.","body":"You might as well toss this out. ECB is not secure, nor is DES. This is encryption any script kiddie can break in 5 seconds. You&#39;re going to have to figure out a way to transition this crypto - perhaps as users log in, recrypt it properly. For example with Aes256 in GCM is good, possibly just Aes256 in CBC mode. See <a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation\" rel=\"nofollow noreferrer\">this page</a> and scroll down to the penguin to see why ECB means you&#39;re screwed here. Triple DES (DESede) is slow as heck and no longer standard in any way. It may not be all that easy to hack, but, just.. update it."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1656909160,"post_id":72849259,"comment_id":128677106,"body_markdown":"@rzwitserloot: compared to PBKDF2 the slowness of TDEA is negligible, and it is still in FIPS 140 (annex A for 140-2 and SP800-140C for 140-3), IPSEC, SSH2, and TLSv1.2 (and below, but those are widely deprecated); technically 1.3 obsoleted 1.2 but according to ssllabs (Qualys) over 40% of &#39;most popular&#39; websites don&#39;t implement 1.3 yet.","body":"@rzwitserloot: compared to PBKDF2 the slowness of TDEA is negligible, and it is still in FIPS 140 (annex A for 140-2 and SP800-140C for 140-3), IPSEC, SSH2, and TLSv1.2 (and below, but those are widely deprecated); technically 1.3 obsoleted 1.2 but according to ssllabs (Qualys) over 40% of &#39;most popular&#39; websites don&#39;t implement 1.3 yet."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1656935597,"post_id":72849259,"comment_id":128684708,"body_markdown":"It&#39;s obsolete. And I noticed, @dave_thompson_085, you skipped over the ECB part. If you&#39;re going to re-encrypt this to get around the ECB part, not also updating DESede is horrible, horrible advice. I&#39;m not sure why you&#39;re trying to score a pedantic point. It&#39;s at the cost of OP, I think, you&#39;re making it sound like they can leave the DESede part.","body":"It&#39;s obsolete. And I noticed, @dave_thompson_085, you skipped over the ECB part. If you&#39;re going to re-encrypt this to get around the ECB part, not also updating DESede is horrible, horrible advice. I&#39;m not sure why you&#39;re trying to score a pedantic point. It&#39;s at the cost of OP, I think, you&#39;re making it sound like they can leave the DESede part."}],"answers":[{"tags":[],"owner":{"account_id":19940940,"reputation":199,"user_id":14612693,"display_name":"Jolly"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1656877109,"creation_date":1656876474,"answer_id":72849322,"question_id":72849259,"body_markdown":"The only issue I can see is that you pass the unencrypted data to the Cipher in decrypt mode, which won&#39;t work. (The cipher obviously cannot decrypt data which is not encrypted without getting odd results.)\r\nSo change\r\n\r\n```java\r\nbyte[] decryptedData = cipher.doFinal(data);\r\n```\r\nto\r\n```java\r\nbyte[] decryptedData = cipher.doFinal(encryptedData);\r\n```\r\n\r\nThen, everything works fine.\r\nAltough I doubt this error exists in your productive code, so if you still have problems on that one, feel free to ask a new question.","title":"How to create javax.crypto.SecretKey based on password and salt","body":"<p>The only issue I can see is that you pass the unencrypted data to the Cipher in decrypt mode, which won't work. (The cipher obviously cannot decrypt data which is not encrypted without getting odd results.)\nSo change</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] decryptedData = cipher.doFinal(data);\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] decryptedData = cipher.doFinal(encryptedData);\n</code></pre>\n<p>Then, everything works fine.\nAltough I doubt this error exists in your productive code, so if you still have problems on that one, feel free to ask a new question.</p>\n"},{"tags":[],"owner":{"account_id":10297068,"reputation":1003,"user_id":7596874,"accept_rate":20,"display_name":"Rathan Naik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656876935,"creation_date":1656876935,"answer_id":72849363,"question_id":72849259,"body_markdown":"You are not decrypting the encrypted data, you are simply trying to decrypt the original data.\r\n\r\nAlso while printing the data use UTF-8 \r\n\r\n    import java.security.spec.KeySpec;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.KeyGenerator;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class PMAdminKeyTest {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t// Requirement is to generate Key based on password and salt\r\n    \t\tSecretKeyFactory secretKeyFactory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n    \t\tKeySpec keySpec = new PBEKeySpec(&quot;password&quot;.toCharArray(), &quot;salt&quot;.getBytes(), 65536, 192);\r\n    \t\tSecretKey key = new SecretKeySpec(secretKeyFactory.generateSecret(keySpec).getEncoded(), &quot;DESede&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;key.getAlgorithm(): &quot; + key.getAlgorithm());\r\n    \r\n    \t\tbyte[] data = &quot;12345678&quot;.getBytes(&quot;UTF8&quot;);\r\n    \r\n    \t\t// Existing encrypt and decrypt code. There is already lot of data in DB\r\n    \t\t// encrypted in this manner. I dont think I can change this code.\r\n    \t\tCipher cipher = Cipher.getInstance(key.getAlgorithm() + &quot;/ECB/PKCS5Padding&quot;);\r\n    \t\tcipher.init(Cipher.ENCRYPT_MODE, key);\r\n    \t\tbyte[] encryptedData = cipher.doFinal(data);\r\n    \r\n    \t\tSystem.out.println(&quot;encryptedData: &quot; + encryptedData.toString());\r\n    \r\n    \t\tcipher.init(Cipher.DECRYPT_MODE, key);\r\n\r\n            // Notice this\r\n    \t\tbyte[] decryptedData = cipher.doFinal(encryptedData);\r\n    \r\n            // while printing the data use UTF-8 \r\n    \t\tSystem.out.println(&quot;decryptedData: &quot; +  new String(decryptedData, &quot;UTF-8&quot;));\r\n    \t}\r\n    }","title":"How to create javax.crypto.SecretKey based on password and salt","body":"<p>You are not decrypting the encrypted data, you are simply trying to decrypt the original data.</p>\n<p>Also while printing the data use UTF-8</p>\n<pre><code>import java.security.spec.KeySpec;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.KeyGenerator;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class PMAdminKeyTest {\n\n    public static void main(String[] args) throws Exception {\n        // Requirement is to generate Key based on password and salt\n        SecretKeyFactory secretKeyFactory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n        KeySpec keySpec = new PBEKeySpec(&quot;password&quot;.toCharArray(), &quot;salt&quot;.getBytes(), 65536, 192);\n        SecretKey key = new SecretKeySpec(secretKeyFactory.generateSecret(keySpec).getEncoded(), &quot;DESede&quot;);\n\n        System.out.println(&quot;key.getAlgorithm(): &quot; + key.getAlgorithm());\n\n        byte[] data = &quot;12345678&quot;.getBytes(&quot;UTF8&quot;);\n\n        // Existing encrypt and decrypt code. There is already lot of data in DB\n        // encrypted in this manner. I dont think I can change this code.\n        Cipher cipher = Cipher.getInstance(key.getAlgorithm() + &quot;/ECB/PKCS5Padding&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        byte[] encryptedData = cipher.doFinal(data);\n\n        System.out.println(&quot;encryptedData: &quot; + encryptedData.toString());\n\n        cipher.init(Cipher.DECRYPT_MODE, key);\n\n        // Notice this\n        byte[] decryptedData = cipher.doFinal(encryptedData);\n\n        // while printing the data use UTF-8 \n        System.out.println(&quot;decryptedData: &quot; +  new String(decryptedData, &quot;UTF-8&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6181139,"reputation":25,"user_id":4816605,"display_name":"arjunballa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72849363,"answer_count":2,"score":1,"last_activity_date":1656877109,"creation_date":1656875722,"question_id":72849259,"body_markdown":"I am not a security expert.\r\n\r\nI have a requirement to generate `javax.crypto.SecretKey` based on `password` and `salt`.\r\n\r\nIn the existing code, we already have logic to generate `javax.crypto.SecretKey` but not based on `password and `salt`.\r\n\r\nAlso, in the existing code we already encrypt and decrypt using the `javax.crypto.SecretKey`.\r\nThere is already lot of data in DB which is encrypted using existing encrypt code and I dont think I can change existing encrypt and decrypt logic.\r\n\r\nI am getting below the error when I try to decrypt data using the key generated based on `password` and `salt` with existing decrypt code.\r\n\r\n\r\n\r\n```\r\nkey.getAlgorithm(): DESede\r\nencryptedData: [B@31dc339b\r\nException in thread &quot;main&quot; javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n\tat com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:975)\r\n\tat com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:1056)\r\n\tat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:853)\r\n\tat com.sun.crypto.provider.DESedeCipher.engineDoFinal(DESedeCipher.java:294)\r\n\tat javax.crypto.Cipher.doFinal(Cipher.java:2168)\r\n\tat com.arjun.mytest.PMAdminKeyTest.main(PMAdminKeyTest.java:41)\r\n```\r\n\r\n\r\n```\r\n\r\nimport java.security.KeyStore;\r\nimport java.security.Provider;\r\nimport java.security.spec.KeySpec;\r\n\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.KeyGenerator;\r\nimport javax.crypto.SecretKey;\r\nimport javax.crypto.SecretKeyFactory;\r\nimport javax.crypto.spec.PBEKeySpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\npublic class PMAdminKeyTest {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// Requirement is to generate Key based on password and salt\r\n\t\tSecretKeyFactory secretKeyFactory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n\t\tKeySpec keySpec = new PBEKeySpec(&quot;password&quot;.toCharArray(), &quot;salt&quot;.getBytes(), 65536, 192);\r\n\t\tSecretKey key = new SecretKeySpec(secretKeyFactory.generateSecret(keySpec).getEncoded(), &quot;DESede&quot;);\r\n\r\n\t\tSystem.out.println(&quot;key.getAlgorithm(): &quot; + key.getAlgorithm());\r\n\r\n\t\tbyte[] data = &quot;12345678&quot;.getBytes(&quot;UTF8&quot;);\r\n\r\n\t\t// Existing encrypt and decrypt code. There is already lot of data in DB\r\n\t\t// encrypted in this manner. I dont think I can change this code.\r\n\t\tCipher cipher = Cipher.getInstance(key.getAlgorithm() + &quot;/ECB/PKCS5Padding&quot;);\r\n\t\tcipher.init(Cipher.ENCRYPT_MODE, key);\r\n\t\tbyte[] encryptedData = cipher.doFinal(data);\r\n\r\n\t\tSystem.out.println(&quot;encryptedData: &quot; + encryptedData.toString());\r\n\r\n\t\tcipher.init(Cipher.DECRYPT_MODE, key);\r\n\t\tbyte[] decryptedData = cipher.doFinal(data);\r\n\r\n\t\tSystem.out.println(&quot;decryptedData: &quot; + decryptedData.toString());\r\n\t}\r\n\r\n}\r\n```\r\n","title":"How to create javax.crypto.SecretKey based on password and salt","body":"<p>I am not a security expert.</p>\n<p>I have a requirement to generate <code>javax.crypto.SecretKey</code> based on <code>password</code> and <code>salt</code>.</p>\n<p>In the existing code, we already have logic to generate <code>javax.crypto.SecretKey</code> but not based on <code>password and </code>salt`.</p>\n<p>Also, in the existing code we already encrypt and decrypt using the <code>javax.crypto.SecretKey</code>.\nThere is already lot of data in DB which is encrypted using existing encrypt code and I dont think I can change existing encrypt and decrypt logic.</p>\n<p>I am getting below the error when I try to decrypt data using the key generated based on <code>password</code> and <code>salt</code> with existing decrypt code.</p>\n<pre><code>key.getAlgorithm(): DESede\nencryptedData: [B@31dc339b\nException in thread &quot;main&quot; javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:975)\n    at com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:1056)\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:853)\n    at com.sun.crypto.provider.DESedeCipher.engineDoFinal(DESedeCipher.java:294)\n    at javax.crypto.Cipher.doFinal(Cipher.java:2168)\n    at com.arjun.mytest.PMAdminKeyTest.main(PMAdminKeyTest.java:41)\n</code></pre>\n<pre><code>\nimport java.security.KeyStore;\nimport java.security.Provider;\nimport java.security.spec.KeySpec;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.KeyGenerator;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class PMAdminKeyTest {\n\n    public static void main(String[] args) throws Exception {\n        // Requirement is to generate Key based on password and salt\n        SecretKeyFactory secretKeyFactory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n        KeySpec keySpec = new PBEKeySpec(&quot;password&quot;.toCharArray(), &quot;salt&quot;.getBytes(), 65536, 192);\n        SecretKey key = new SecretKeySpec(secretKeyFactory.generateSecret(keySpec).getEncoded(), &quot;DESede&quot;);\n\n        System.out.println(&quot;key.getAlgorithm(): &quot; + key.getAlgorithm());\n\n        byte[] data = &quot;12345678&quot;.getBytes(&quot;UTF8&quot;);\n\n        // Existing encrypt and decrypt code. There is already lot of data in DB\n        // encrypted in this manner. I dont think I can change this code.\n        Cipher cipher = Cipher.getInstance(key.getAlgorithm() + &quot;/ECB/PKCS5Padding&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        byte[] encryptedData = cipher.doFinal(data);\n\n        System.out.println(&quot;encryptedData: &quot; + encryptedData.toString());\n\n        cipher.init(Cipher.DECRYPT_MODE, key);\n        byte[] decryptedData = cipher.doFinal(data);\n\n        System.out.println(&quot;decryptedData: &quot; + decryptedData.toString());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","junit5","archunit"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656876586,"creation_date":1656876586,"answer_id":72849333,"question_id":72848472,"body_markdown":"ArchUnit (as of the current version 0.23.1) assigns `char[]` to the empty package `&quot;&quot;` (probably because `char[].class.getPackage() == null`).\r\n(Side note: I just realized that `char[].class.getPackageName()`, available with JRE ‚â•9, actually returns `&quot;java.lang&quot;`... &#128576;)\r\n\r\nIf you want to allow for primitives and arrays of primitives, you can simply allow for the empty package:\r\n```java\r\n@ArchTest\r\nprivate final ArchRule networkPackagesMustNotDependOnOtherPackagesOutsideNetwork = classes().that() //\r\n\t.resideInAPackage(&quot;..onnessium.network.shared..&quot;) //\r\n\t.should().onlyDependOnClassesThat() //\r\n\t.resideInAnyPackage(ArchUnitUtils.addAllLibraryPackages(&quot;..onnessium.network..&quot;\r\n\t\t// &lt;fix&gt; &lt;!-- just 3 characters &#128540; --&gt;\r\n\t\t, &quot;&quot;\r\n\t\t// &lt;/fix&gt;\r\n\t));\r\n```","title":"ArchUnit ignoreDependency for classes rule","body":"<p>ArchUnit (as of the current version 0.23.1) assigns <code>char[]</code> to the empty package <code>&quot;&quot;</code> (probably because <code>char[].class.getPackage() == null</code>).\n(Side note: I just realized that <code>char[].class.getPackageName()</code>, available with JRE ‚â•9, actually returns <code>&quot;java.lang&quot;</code>... üôÄ)</p>\n<p>If you want to allow for primitives and arrays of primitives, you can simply allow for the empty package:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ArchTest\nprivate final ArchRule networkPackagesMustNotDependOnOtherPackagesOutsideNetwork = classes().that() //\n    .resideInAPackage(&quot;..onnessium.network.shared..&quot;) //\n    .should().onlyDependOnClassesThat() //\n    .resideInAnyPackage(ArchUnitUtils.addAllLibraryPackages(&quot;..onnessium.network..&quot;\n        // &lt;fix&gt; &lt;!-- just 3 characters üòú --&gt;\n        , &quot;&quot;\n        // &lt;/fix&gt;\n    ));\n</code></pre>\n"}],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72849333,"answer_count":1,"score":1,"last_activity_date":1656876586,"creation_date":1656868310,"question_id":72848472,"body_markdown":"In my [project](https://github.com/tfassbender/onnessium) I&#39;m using some simple `ArchRule` test to ensure that there are no unwanted dependencies between packages. Most of them work fine, but the following test leads to a problem ([test source on github](https://github.com/tfassbender/onnessium/blob/master/core/test/net/jfabricationgames/onnessium/archunit/NetworkDependencyRules.java)):\r\n\r\n```\r\n@ArchTest\r\nprivate final ArchRule networkPackagesMustNotDependOnOtherPackagesOutsideNetwork = classes().that() //\r\n\t\t\t.resideInAPackage(&quot;..onnessium.network.shared..&quot;) //\r\n\t\t\t.should().onlyDependOnClassesThat() //\r\n\t\t\t.resideInAnyPackage(&quot;..onnessium.network..&quot;, &quot;java..&quot;, &quot;com.esotericsoftware.kryo..&quot;, &quot;com.esotericsoftware.kryonet..&quot;);\r\n```\r\n\r\nThis rule finds a violation in the class `PasswordEncryptor` ([source on github](https://github.com/tfassbender/onnessium/blob/master/core/src/net/jfabricationgames/onnessium/network/shared/PasswordEncryptor.java)): \r\n\r\n```\r\npublic class PasswordEncryptor {\r\n\t\r\n\tprivate static final char[] ENCRYPTION_KEY = &quot;password&quot;.charArray();\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nThe cause of the violation is the `char[]`. The violation says:\r\n&gt; Field &lt;...PasswordEncryptor.ENCRYPTION_KEY&gt; has type &lt;[C&gt; in (PasswordEncryptor.java:0)\r\n\r\nI found [this issue](https://github.com/TNG/ArchUnit/issues/887) on GitHub that explains how to solve this kind of problem for tests that are based on `Architectures.layeredArchitecture()`, but I couldn&#39;t figure out how to do something similar when using a `classes()...` rule.\r\n\r\nSo **my question is**: is there something similar to `ignoreDependency` (like described in [this issue](https://github.com/TNG/ArchUnit/issues/887)) for tests that use `classes().that()...` instead of a layered architecture? Or should I change the tests to use `Architecture.layeredArchitecture()`?","title":"ArchUnit ignoreDependency for classes rule","body":"<p>In my <a href=\"https://github.com/tfassbender/onnessium\" rel=\"nofollow noreferrer\">project</a> I'm using some simple <code>ArchRule</code> test to ensure that there are no unwanted dependencies between packages. Most of them work fine, but the following test leads to a problem (<a href=\"https://github.com/tfassbender/onnessium/blob/master/core/test/net/jfabricationgames/onnessium/archunit/NetworkDependencyRules.java\" rel=\"nofollow noreferrer\">test source on github</a>):</p>\n<pre><code>@ArchTest\nprivate final ArchRule networkPackagesMustNotDependOnOtherPackagesOutsideNetwork = classes().that() //\n            .resideInAPackage(&quot;..onnessium.network.shared..&quot;) //\n            .should().onlyDependOnClassesThat() //\n            .resideInAnyPackage(&quot;..onnessium.network..&quot;, &quot;java..&quot;, &quot;com.esotericsoftware.kryo..&quot;, &quot;com.esotericsoftware.kryonet..&quot;);\n</code></pre>\n<p>This rule finds a violation in the class <code>PasswordEncryptor</code> (<a href=\"https://github.com/tfassbender/onnessium/blob/master/core/src/net/jfabricationgames/onnessium/network/shared/PasswordEncryptor.java\" rel=\"nofollow noreferrer\">source on github</a>):</p>\n<pre><code>public class PasswordEncryptor {\n    \n    private static final char[] ENCRYPTION_KEY = &quot;password&quot;.charArray();\n\n    // ...\n}\n</code></pre>\n<p>The cause of the violation is the <code>char[]</code>. The violation says:</p>\n<blockquote>\n<p>Field &lt;...PasswordEncryptor.ENCRYPTION_KEY&gt; has type &lt;[C&gt; in (PasswordEncryptor.java:0)</p>\n</blockquote>\n<p>I found <a href=\"https://github.com/TNG/ArchUnit/issues/887\" rel=\"nofollow noreferrer\">this issue</a> on GitHub that explains how to solve this kind of problem for tests that are based on <code>Architectures.layeredArchitecture()</code>, but I couldn't figure out how to do something similar when using a <code>classes()...</code> rule.</p>\n<p>So <strong>my question is</strong>: is there something similar to <code>ignoreDependency</code> (like described in <a href=\"https://github.com/TNG/ArchUnit/issues/887\" rel=\"nofollow noreferrer\">this issue</a>) for tests that use <code>classes().that()...</code> instead of a layered architecture? Or should I change the tests to use <code>Architecture.layeredArchitecture()</code>?</p>\n"},{"tags":["java","sql","hibernate","hql"],"comments":[{"owner":{"account_id":1735045,"reputation":14800,"user_id":1587819,"accept_rate":100,"display_name":"HoneyBadger"},"score":0,"creation_date":1656876876,"post_id":72849293,"comment_id":128672735,"body_markdown":"`rep.author.id = user.id))` looks like a closing parenthesis too many","body":"<code>rep.author.id = user.id))</code> looks like a closing parenthesis too many"},{"owner":{"account_id":25716664,"reputation":1,"user_id":19474326,"display_name":"kaviz"},"score":0,"creation_date":1656877220,"post_id":72849293,"comment_id":128672799,"body_markdown":"Yea, maybe. I thought I need first parenthesis for closing internal sql query and second for UserDto constructor","body":"Yea, maybe. I thought I need first parenthesis for closing internal sql query and second for UserDto constructor"},{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1656878072,"post_id":72849293,"comment_id":128672971,"body_markdown":"Show your input strings.","body":"Show your input strings."}],"answers":[{"tags":[],"owner":{"account_id":9473674,"reputation":23,"user_id":7043736,"display_name":"RoberPetit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656876448,"creation_date":1656876448,"answer_id":72849321,"question_id":72849293,"body_markdown":"Try doing a simple select dto from user, and if that works add the rest of the query sentence by sentence until you find the one that throws the error.","title":"What&#39;s the source of this HQL query error?","body":"<p>Try doing a simple select dto from user, and if that works add the rest of the query sentence by sentence until you find the one that throws the error.</p>\n"}],"owner":{"account_id":25716664,"reputation":1,"user_id":19474326,"display_name":"kaviz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656876488,"creation_date":1656876172,"question_id":72849293,"body_markdown":"        public List&lt;UserDto&gt; getTopUsersForDaysRankedByNumberOfQuestions(Integer daysCount, Integer usersCount) {\r\n            return entityManager.createQuery(\r\n                    &quot;select new com.javamentor.qa.platform.models.dto.UserDto(&quot; +\r\n                            &quot;user.id, &quot; +\r\n                            &quot;user.email, &quot; +\r\n                            &quot;user.fullName, &quot; +\r\n                            &quot;user.imageLink, &quot; +\r\n                            &quot;user.city, &quot; +\r\n                            &quot;(select sum(case when rep.count is null then 0 else rep.count end) &quot; +\r\n                            &quot;from Reputation as rep where rep.author.id = user.id)), &quot; +\r\n                            &quot;sum(case when vote.vote = &#39;UP_VOTE&#39; then 1 when vote.vote = &#39;DOWN_VOTE&#39; then - 1 else 0 end) as sumVotes, &quot; +\r\n                            &quot;count(distinct answer.id) as answerCount &quot; +\r\n                            &quot;from User as user &quot; +\r\n                            &quot;inner join Answer as answer on answer.id = user.id &quot; +\r\n                            &quot;left join VoteAnswer as vote on answer.id = vote.id &quot; +\r\n                            &quot;where answer.persistDateTime &gt; :date &quot; +\r\n                            &quot;and answer.isDeleted = false &quot; +\r\n                            &quot;and user.isDeleted = false &quot; +\r\n                            &quot;group by user.id &quot; +\r\n                            &quot;order by answerCount desc,sumVotes desc,user.id&quot;, UserDto.class)\r\n                    .setParameter(&quot;date&quot;, LocalDateTime.now().minusDays(daysCount))\r\n                    .setMaxResults(usersCount)\r\n                    .getResultList();\r\n        }\r\nSo I have this method which should return List of UserDto but I&#39;m getting the erorrs. Tried to fix this whole day but I still don&#39;t understand the source of these errors\r\n\r\n    o.h.hql.internal.ast.ErrorTracker        : line 1:299: unexpected token: ,\r\n    o.h.hql.internal.ast.ErrorTracker        : line 1:299: unexpected token: ,\r\n    o.h.hql.internal.ast.ErrorTracker        : line 1:392: expecting EOF, found &#39;)&#39;\r\n    o.h.hql.internal.ast.ErrorTracker        : line 1:392: expecting EOF, found &#39;)&#39;\r\nIs this somehow syntax related or I&#39;m doing something completely wrong?","title":"What&#39;s the source of this HQL query error?","body":"<pre><code>    public List&lt;UserDto&gt; getTopUsersForDaysRankedByNumberOfQuestions(Integer daysCount, Integer usersCount) {\n        return entityManager.createQuery(\n                &quot;select new com.javamentor.qa.platform.models.dto.UserDto(&quot; +\n                        &quot;user.id, &quot; +\n                        &quot;user.email, &quot; +\n                        &quot;user.fullName, &quot; +\n                        &quot;user.imageLink, &quot; +\n                        &quot;user.city, &quot; +\n                        &quot;(select sum(case when rep.count is null then 0 else rep.count end) &quot; +\n                        &quot;from Reputation as rep where rep.author.id = user.id)), &quot; +\n                        &quot;sum(case when vote.vote = 'UP_VOTE' then 1 when vote.vote = 'DOWN_VOTE' then - 1 else 0 end) as sumVotes, &quot; +\n                        &quot;count(distinct answer.id) as answerCount &quot; +\n                        &quot;from User as user &quot; +\n                        &quot;inner join Answer as answer on answer.id = user.id &quot; +\n                        &quot;left join VoteAnswer as vote on answer.id = vote.id &quot; +\n                        &quot;where answer.persistDateTime &gt; :date &quot; +\n                        &quot;and answer.isDeleted = false &quot; +\n                        &quot;and user.isDeleted = false &quot; +\n                        &quot;group by user.id &quot; +\n                        &quot;order by answerCount desc,sumVotes desc,user.id&quot;, UserDto.class)\n                .setParameter(&quot;date&quot;, LocalDateTime.now().minusDays(daysCount))\n                .setMaxResults(usersCount)\n                .getResultList();\n    }\n</code></pre>\n<p>So I have this method which should return List of UserDto but I'm getting the erorrs. Tried to fix this whole day but I still don't understand the source of these errors</p>\n<pre><code>o.h.hql.internal.ast.ErrorTracker        : line 1:299: unexpected token: ,\no.h.hql.internal.ast.ErrorTracker        : line 1:299: unexpected token: ,\no.h.hql.internal.ast.ErrorTracker        : line 1:392: expecting EOF, found ')'\no.h.hql.internal.ast.ErrorTracker        : line 1:392: expecting EOF, found ')'\n</code></pre>\n<p>Is this somehow syntax related or I'm doing something completely wrong?</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":21236676,"reputation":11,"user_id":15620767,"display_name":"Sumit Negi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656876088,"creation_date":1656876003,"question_id":72849283,"body_markdown":" I want to build an app for quiz using a Speech recognizer it only works for 1 question what if I have a series of questions After each correct/incorrect it moves to the next one, which I already used for the loop here is not working code is not going inside the speechRecognizer.setRecognitionListener(new RecognitionListener() this\r\nif code goes inside it my problem will be solved If anyone knows other methods please answer\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    EditText tv;\r\n    ImageButton btn;\r\n    TextToSpeech textToSpeech;\r\n    SpeechRecognizer speechRecognizer;\r\n    int count = 0;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        tv = (EditText) findViewById(R.id.edittext);\r\n        btn = (ImageButton) findViewById(R.id.btn);\r\n        speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\r\n\r\n\r\n        Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.RECORD_AUDIO}, 1);\r\n        }\r\n\r\n        textToSpeech = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\r\n            @Override\r\n            public void onInit(int status) {\r\n                if (status != TextToSpeech.ERROR) {\r\n                    textToSpeech.setLanguage(Locale.ENGLISH);\r\n                }\r\n            }\r\n        });\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @SuppressLint(&quot;UseCompatLoadingForDrawables&quot;)\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                String[] arr = {&quot;2 multiply 2 is&quot;, &quot;4 multiply 4 is &quot;, &quot;3 into 3 is&quot;, };\r\n                int i=0;\r\n                while (i&lt;arr.length ) {\r\n                    textToSpeech.speak(arr[i], TextToSpeech.QUEUE_FLUSH, null);\r\n                    try {\r\n                        Thread.sleep(2000);\r\n\r\n                            speechRecognizer.startListening(intent);\r\n                    } catch (InterruptedException e) {\r\n                        // TODO Auto-generated catch block\r\n                        e.printStackTrace();\r\n                    }\r\n                    int finalI = i;\r\n                    speechRecognizer.setRecognitionListener(new RecognitionListener() {\r\n                        @Override\r\n                        public void onReadyForSpeech(Bundle params) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onBeginningOfSpeech() {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onRmsChanged(float rmsdB) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onBufferReceived(byte[] buffer) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onEndOfSpeech() {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onError(int error) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onResults(Bundle results) {\r\n                            ArrayList&lt;String&gt; data = results.getStringArrayList(speechRecognizer.RESULTS_RECOGNITION);\r\n                            String res = data.get(0);\r\n                            tv.setText(res);\r\n                            if (arr[finalI].equals(&quot;2 multiply 2 is&quot;)){\r\n                                if (res.equals(&quot;4&quot;)) {\r\n                                    textToSpeech.speak(&quot;correct&quot;, TextToSpeech.QUEUE_FLUSH, null);\r\n                                    speechRecognizer.stopListening();\r\n                                    data.remove(0);\r\n\r\n                                } else {\r\n                                    textToSpeech.speak(&quot;Incorrect&quot;, TextToSpeech.QUEUE_FLUSH, null);\r\n                                    speechRecognizer.stopListening();\r\n                                    data.remove(0);\r\n\r\n                                }\r\n                            }\r\n                            if (arr[finalI].equals(&quot;4 multiply 4 is&quot;)){\r\n                                if (res.equals(&quot;8&quot;)) {\r\n                                    textToSpeech.speak(&quot;correct&quot;, TextToSpeech.QUEUE_FLUSH, null);\r\n                                    speechRecognizer.stopListening();\r\n                                    data.remove(0);\r\n\r\n                                } else {\r\n                                    textToSpeech.speak(&quot;Incorrect&quot;, TextToSpeech.QUEUE_FLUSH, null);\r\n                                    speechRecognizer.stopListening();\r\n                                    data.remove(0);\r\n\r\n                                }\r\n                            }\r\n\r\n\r\n\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onPartialResults(Bundle partialResults) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onEvent(int eventType, Bundle params) {\r\n\r\n                        }\r\n                    });\r\n\r\n               i++; }\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n    \r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == 1) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n    ","title":"Speechrecognizer not working for quiz app where After each correct/incorrect it moves to next one","body":"<p>I want to build an app for quiz using a Speech recognizer it only works for 1 question what if I have a series of questions After each correct/incorrect it moves to the next one, which I already used for the loop here is not working code is not going inside the speechRecognizer.setRecognitionListener(new RecognitionListener() this\nif code goes inside it my problem will be solved If anyone knows other methods please answer</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nEditText tv;\nImageButton btn;\nTextToSpeech textToSpeech;\nSpeechRecognizer speechRecognizer;\nint count = 0;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    tv = (EditText) findViewById(R.id.edittext);\n    btn = (ImageButton) findViewById(R.id.btn);\n    speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\n\n\n    Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.RECORD_AUDIO}, 1);\n    }\n\n    textToSpeech = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\n        @Override\n        public void onInit(int status) {\n            if (status != TextToSpeech.ERROR) {\n                textToSpeech.setLanguage(Locale.ENGLISH);\n            }\n        }\n    });\n\n    btn.setOnClickListener(new View.OnClickListener() {\n        @SuppressLint(&quot;UseCompatLoadingForDrawables&quot;)\n        @Override\n        public void onClick(View v) {\n\n            String[] arr = {&quot;2 multiply 2 is&quot;, &quot;4 multiply 4 is &quot;, &quot;3 into 3 is&quot;, };\n            int i=0;\n            while (i&lt;arr.length ) {\n                textToSpeech.speak(arr[i], TextToSpeech.QUEUE_FLUSH, null);\n                try {\n                    Thread.sleep(2000);\n\n                        speechRecognizer.startListening(intent);\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                int finalI = i;\n                speechRecognizer.setRecognitionListener(new RecognitionListener() {\n                    @Override\n                    public void onReadyForSpeech(Bundle params) {\n\n                    }\n\n                    @Override\n                    public void onBeginningOfSpeech() {\n\n                    }\n\n                    @Override\n                    public void onRmsChanged(float rmsdB) {\n\n                    }\n\n                    @Override\n                    public void onBufferReceived(byte[] buffer) {\n\n                    }\n\n                    @Override\n                    public void onEndOfSpeech() {\n\n                    }\n\n                    @Override\n                    public void onError(int error) {\n\n                    }\n\n                    @Override\n                    public void onResults(Bundle results) {\n                        ArrayList&lt;String&gt; data = results.getStringArrayList(speechRecognizer.RESULTS_RECOGNITION);\n                        String res = data.get(0);\n                        tv.setText(res);\n                        if (arr[finalI].equals(&quot;2 multiply 2 is&quot;)){\n                            if (res.equals(&quot;4&quot;)) {\n                                textToSpeech.speak(&quot;correct&quot;, TextToSpeech.QUEUE_FLUSH, null);\n                                speechRecognizer.stopListening();\n                                data.remove(0);\n\n                            } else {\n                                textToSpeech.speak(&quot;Incorrect&quot;, TextToSpeech.QUEUE_FLUSH, null);\n                                speechRecognizer.stopListening();\n                                data.remove(0);\n\n                            }\n                        }\n                        if (arr[finalI].equals(&quot;4 multiply 4 is&quot;)){\n                            if (res.equals(&quot;8&quot;)) {\n                                textToSpeech.speak(&quot;correct&quot;, TextToSpeech.QUEUE_FLUSH, null);\n                                speechRecognizer.stopListening();\n                                data.remove(0);\n\n                            } else {\n                                textToSpeech.speak(&quot;Incorrect&quot;, TextToSpeech.QUEUE_FLUSH, null);\n                                speechRecognizer.stopListening();\n                                data.remove(0);\n\n                            }\n                        }\n\n\n\n\n                    }\n\n                    @Override\n                    public void onPartialResults(Bundle partialResults) {\n\n                    }\n\n                    @Override\n                    public void onEvent(int eventType, Bundle params) {\n\n                    }\n                });\n\n           i++; }\n\n\n        }\n    });\n\n\n\n\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == 1) {\n        if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1656876824,"post_id":72849211,"comment_id":128672721,"body_markdown":"Implement getDropDownView override method","body":"Implement getDropDownView override method"}],"owner":{"account_id":14322884,"reputation":19,"user_id":10345747,"display_name":"Pujan Shrestha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656875599,"creation_date":1656875178,"question_id":72849211,"body_markdown":"I tried to give custom array Adapter in Material Exposed dropdown with image and text value. DropDown is shown perfectly but when I click on those dropdown item, the selected item value is set to something like @71232. And when I set it manually like this, Second time onwards the dropdown doesn&#39;t show up.\r\n```\r\nautocompleteTextView.setOnItemClickListener(...\r\n...\r\n@Override\r\npublic void onItemClick{\r\n   setText(clickedItem.getText());\r\n}\r\n```\r\n\r\n\r\n```\r\nCustomArrayAdapter customArrayAdapter = new CustomArrayAdapter(getContext(), list);\r\nautoCompleteTextView.setAdapter(customArrayAdapter);\r\n```\r\n\r\nThis is my CustomArrayAdapter \r\n```\r\npublic class CustomArrayAdapter extends ArrayAdapter&lt;CustomArrayAdapter.AdapterItem&gt; {\r\n\r\n    public CustomArrayAdapter(Context context,\r\n                                ArrayList&lt;AdapterItem&gt; itemList) {\r\n        super(context, R.layout.item_dropdown, R.id.tv_text, itemList);\r\n    }\r\n\r\n    \r\n    private View initView(int position, View convertView,\r\n                          ViewGroup parent) {\r\n        if (convertView == null) {\r\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.item_dropdown, parent, false);\r\n        }\r\n\r\n        TextView tvText = convertView.findViewById(R.id.tv_text);\r\n        ImageView ivImage = convertView.findViewById(R.id.iv_image);\r\n        AdapterItem currentItem = getItem(position);\r\n\r\n        if (currentItem != null) {\r\n            tvText.setText(currentItem.text);\r\n            ivImage.setImageDrawable(getContext().getDrawable(currentItem.image));\r\n\r\n        }\r\n        return convertView;\r\n    }\r\n\r\n   \r\n}\r\n\r\n```\r\n\r\n","title":"How can we give custom adapter for Material Exposed Dropdown?","body":"<p>I tried to give custom array Adapter in Material Exposed dropdown with image and text value. DropDown is shown perfectly but when I click on those dropdown item, the selected item value is set to something like @71232. And when I set it manually like this, Second time onwards the dropdown doesn't show up.</p>\n<pre><code>autocompleteTextView.setOnItemClickListener(...\n...\n@Override\npublic void onItemClick{\n   setText(clickedItem.getText());\n}\n</code></pre>\n<pre><code>CustomArrayAdapter customArrayAdapter = new CustomArrayAdapter(getContext(), list);\nautoCompleteTextView.setAdapter(customArrayAdapter);\n</code></pre>\n<p>This is my CustomArrayAdapter</p>\n<pre><code>public class CustomArrayAdapter extends ArrayAdapter&lt;CustomArrayAdapter.AdapterItem&gt; {\n\n    public CustomArrayAdapter(Context context,\n                                ArrayList&lt;AdapterItem&gt; itemList) {\n        super(context, R.layout.item_dropdown, R.id.tv_text, itemList);\n    }\n\n    \n    private View initView(int position, View convertView,\n                          ViewGroup parent) {\n        if (convertView == null) {\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.item_dropdown, parent, false);\n        }\n\n        TextView tvText = convertView.findViewById(R.id.tv_text);\n        ImageView ivImage = convertView.findViewById(R.id.iv_image);\n        AdapterItem currentItem = getItem(position);\n\n        if (currentItem != null) {\n            tvText.setText(currentItem.text);\n            ivImage.setImageDrawable(getContext().getDrawable(currentItem.image));\n\n        }\n        return convertView;\n    }\n\n   \n}\n\n</code></pre>\n"},{"tags":["java","archunit"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656874960,"creation_date":1656874960,"answer_id":72849182,"question_id":72847956,"body_markdown":"ArchUnit (as of the current version 0.23.1) does not analyze parameter _values_ of a method call ‚Äì but maybe it&#39;s good enough to find calls to a logger and to a `@ShouldNotBeLogged` annotated method in the same line?\r\n\r\n * False positives (unrelated calls in the same line) like\r\n   ```java\r\n   logger.debug(&quot;This is okay:&quot;);  String accountNumber = person.getAccountNumber();\r\n   ```\r\n   might already be prevented by code style rules.\r\n\r\n * For false negatives (the return value of a `@ShouldNotBeLogged` annotated method is logged, but the method calls are spread over multiple lines) like\r\n   ```java\r\n   logger.debug(&quot;This is not okay: {}&quot;,\r\n       person.getAccountNumber()\r\n   );\r\n   ```\r\n   , you could easily adapt the rule to require that the method calls\r\n   have some _reasonable‚Ñ¢_ line number distance (which unfortunately increases the probability of false positives).\r\n\r\nYes, this just a heuristic. But it might be better than nothing. &#129335;‚Äç‚ôÇÔ∏è\r\n\r\n```java\r\n@ArchTest\r\nArchRule rule = noClasses().should(new ArchCondition&lt;JavaClass&gt;(&quot;log return values of @ShouldNotBeLogged methods&quot;) {\r\n    @Override\r\n    public void check(JavaClass javaClass, ConditionEvents events) {\r\n        Set&lt;JavaMethodCall&gt; loggerCalls = new HashSet&lt;&gt;();\r\n        Set&lt;JavaMethodCall&gt; shouldNotBeLoggedCalls = new HashSet&lt;&gt;();\r\n        javaClass.getMethodCallsFromSelf().forEach(methodCall -&gt; {\r\n            Optional&lt;JavaMethod&gt; resolvedTarget = methodCall.getTarget().resolveMember();\r\n            if (resolvedTarget.isPresent()) {\r\n                JavaMethod javaMethod = resolvedTarget.get();\r\n                if (javaMethod.getOwner().isAssignableTo(Logger.class)) {\r\n                    loggerCalls.add(methodCall);\r\n                }\r\n                if (javaMethod.tryGetAnnotationOfType(ShouldNotBeLogged.class).isPresent()) {\r\n                    shouldNotBeLoggedCalls.add(methodCall);\r\n                }\r\n            }\r\n        });\r\n        loggerCalls.forEach(loggerCall -&gt;\r\n            shouldNotBeLoggedCalls.stream()\r\n                .filter(shouldNotBeLoggedCall -&gt;\r\n                        shouldNotBeLoggedCall.getLineNumber() == loggerCall.getLineNumber()\r\n                )\r\n                .forEach(shouldNotBeLoggedCall -&gt; {\r\n                    String message = loggerCall.getOrigin().getDescription() + &quot; logs in the same line as &quot;\r\n                        + shouldNotBeLoggedCall.getTarget().getDescription() + &quot; is called &quot;\r\n                        + shouldNotBeLoggedCall.getSourceCodeLocation();\r\n                    events.add(SimpleConditionEvent.satisfied(javaClass, message));\r\n                })\r\n        );\r\n    }\r\n});\r\n```\r\nFor your example this rule fails with\r\n&gt; Architecture Violation [Priority: MEDIUM] - Rule &#39;no classes should log return values of @ShouldNotBeLogged methods&#39; was violated (1 times):\r\nMethod &lt;HelloWorld.logMessage(Person)&gt; logs in the same line as method &lt;Person.getAccountNumber()&gt; is called (HelloWorld.java:9)\r\n","title":"Archunit test to not allow to log the return value of method with specific annotation using Log4j logging methods","body":"<p>ArchUnit (as of the current version 0.23.1) does not analyze parameter <em>values</em> of a method call ‚Äì but maybe it's good enough to find calls to a logger and to a <code>@ShouldNotBeLogged</code> annotated method in the same line?</p>\n<ul>\n<li><p>False positives (unrelated calls in the same line) like</p>\n<pre class=\"lang-java prettyprint-override\"><code>logger.debug(&quot;This is okay:&quot;);  String accountNumber = person.getAccountNumber();\n</code></pre>\n<p>might already be prevented by code style rules.</p>\n</li>\n<li><p>For false negatives (the return value of a <code>@ShouldNotBeLogged</code> annotated method is logged, but the method calls are spread over multiple lines) like</p>\n<pre class=\"lang-java prettyprint-override\"><code>logger.debug(&quot;This is not okay: {}&quot;,\n    person.getAccountNumber()\n);\n</code></pre>\n<p>, you could easily adapt the rule to require that the method calls\nhave some <em>reasonable‚Ñ¢</em> line number distance (which unfortunately increases the probability of false positives).</p>\n</li>\n</ul>\n<p>Yes, this just a heuristic. But it might be better than nothing. ü§∑‚Äç‚ôÇÔ∏è</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ArchTest\nArchRule rule = noClasses().should(new ArchCondition&lt;JavaClass&gt;(&quot;log return values of @ShouldNotBeLogged methods&quot;) {\n    @Override\n    public void check(JavaClass javaClass, ConditionEvents events) {\n        Set&lt;JavaMethodCall&gt; loggerCalls = new HashSet&lt;&gt;();\n        Set&lt;JavaMethodCall&gt; shouldNotBeLoggedCalls = new HashSet&lt;&gt;();\n        javaClass.getMethodCallsFromSelf().forEach(methodCall -&gt; {\n            Optional&lt;JavaMethod&gt; resolvedTarget = methodCall.getTarget().resolveMember();\n            if (resolvedTarget.isPresent()) {\n                JavaMethod javaMethod = resolvedTarget.get();\n                if (javaMethod.getOwner().isAssignableTo(Logger.class)) {\n                    loggerCalls.add(methodCall);\n                }\n                if (javaMethod.tryGetAnnotationOfType(ShouldNotBeLogged.class).isPresent()) {\n                    shouldNotBeLoggedCalls.add(methodCall);\n                }\n            }\n        });\n        loggerCalls.forEach(loggerCall -&gt;\n            shouldNotBeLoggedCalls.stream()\n                .filter(shouldNotBeLoggedCall -&gt;\n                        shouldNotBeLoggedCall.getLineNumber() == loggerCall.getLineNumber()\n                )\n                .forEach(shouldNotBeLoggedCall -&gt; {\n                    String message = loggerCall.getOrigin().getDescription() + &quot; logs in the same line as &quot;\n                        + shouldNotBeLoggedCall.getTarget().getDescription() + &quot; is called &quot;\n                        + shouldNotBeLoggedCall.getSourceCodeLocation();\n                    events.add(SimpleConditionEvent.satisfied(javaClass, message));\n                })\n        );\n    }\n});\n</code></pre>\n<p>For your example this rule fails with</p>\n<blockquote>\n<p>Architecture Violation [Priority: MEDIUM] - Rule 'no classes should log return values of @ShouldNotBeLogged methods' was violated (1 times):\nMethod &lt;HelloWorld.logMessage(Person)&gt; logs in the same line as method &lt;Person.getAccountNumber()&gt; is called (HelloWorld.java:9)</p>\n</blockquote>\n"}],"owner":{"account_id":25715435,"reputation":25,"user_id":19473297,"display_name":"Mohit Charaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72849182,"answer_count":1,"score":1,"last_activity_date":1656874960,"creation_date":1656863698,"question_id":72847956,"body_markdown":"Suppose I have below Person class with one **getAccountNumber()** method having **@ShouldNotBeLogged** custom annotation.\r\n\r\n    public class Person {\r\n    \r\n    private String name;\r\n    private String accountNumber;\r\n    \r\n    @ShouldNotBeLogged\r\n    public String getAccountNumber() {\r\n    return accountNumber;\r\n    }\r\n    \r\n    }\r\n\r\nSo, the question is I want to create a archunit which checks that any class (like HelloWorld class below here) having **org.apache.logging.log4j.Logger** type static field cannot log the return value of method with **@ShouldNotBeLogged** annotation.\r\n\r\n**Here, archunit test should report violation in HelloWorld.logMessage method - as it is logging the  return value of Person class object - getAccountNumber() method having @ShouldNotBeLogged custom annotation.**\r\n\r\n\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    \r\n        public class HelloWorld {\r\n        \r\n            private static final Logger logger = LogManager.getLogger(HelloWorld.class);\r\n        \r\n            public void logMessage(Person person) {\r\n             logger.debug(&quot;logging Acc No. - {}&quot;, person.getAccountNumber());\r\n            }\r\n        }\r\n","title":"Archunit test to not allow to log the return value of method with specific annotation using Log4j logging methods","body":"<p>Suppose I have below Person class with one <strong>getAccountNumber()</strong> method having <strong>@ShouldNotBeLogged</strong> custom annotation.</p>\n<pre><code>public class Person {\n\nprivate String name;\nprivate String accountNumber;\n\n@ShouldNotBeLogged\npublic String getAccountNumber() {\nreturn accountNumber;\n}\n\n}\n</code></pre>\n<p>So, the question is I want to create a archunit which checks that any class (like HelloWorld class below here) having <strong>org.apache.logging.log4j.Logger</strong> type static field cannot log the return value of method with <strong>@ShouldNotBeLogged</strong> annotation.</p>\n<p><strong>Here, archunit test should report violation in HelloWorld.logMessage method - as it is logging the  return value of Person class object - getAccountNumber() method having @ShouldNotBeLogged custom annotation.</strong></p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\n    public class HelloWorld {\n    \n        private static final Logger logger = LogManager.getLogger(HelloWorld.class);\n    \n        public void logMessage(Person person) {\n         logger.debug(&quot;logging Acc No. - {}&quot;, person.getAccountNumber());\n        }\n    }\n</code></pre>\n"},{"tags":["java","color-space"],"answers":[{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1528707468,"creation_date":1294143989,"answer_id":4593539,"question_id":4593469,"body_markdown":"There is a `TYPE_Lab`, but no corresponding `CS_Lab`. You will need to extend `ColorSpace` and override the abstract methods to convert between XYZ, RGB, and Lab. The required conversions can be found at [Lab color space (Wikipedia)][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Lab_color_space","title":"Java: how to convert RGB color to CIE Lab","body":"<p>There is a <code>TYPE_Lab</code>, but no corresponding <code>CS_Lab</code>. You will need to extend <code>ColorSpace</code> and override the abstract methods to convert between XYZ, RGB, and Lab. The required conversions can be found at <a href=\"http://en.wikipedia.org/wiki/Lab_color_space\" rel=\"nofollow noreferrer\">Lab color space (Wikipedia)</a>.</p>\n"},{"tags":[],"owner":{"account_id":15931,"reputation":14364,"user_id":34201,"display_name":"andrewmu"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1294144057,"creation_date":1294144057,"answer_id":4593551,"question_id":4593469,"body_markdown":"CIELAB seems to be supported only by name in the current Java library - if you look at the source of java.awt.color.Colorspace, you&#39;ll see that only a handful of the named color spaces are supported.","title":"Java: how to convert RGB color to CIE Lab","body":"<p>CIELAB seems to be supported only by name in the current Java library - if you look at the source of java.awt.color.Colorspace, you'll see that only a handful of the named color spaces are supported.</p>\n"},{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1308751042,"creation_date":1297888731,"answer_id":5021831,"question_id":4593469,"body_markdown":"Here&#39;s my implementation:\r\n\r\n    import java.awt.color.ColorSpace;\r\n\r\n    public class CIELab extends ColorSpace {\r\n    \r\n        public static CIELab getInstance() {\r\n            return Holder.INSTANCE;\r\n        }\r\n    \r\n        @Override\r\n        public float[] fromCIEXYZ(float[] colorvalue) {\r\n            double l = f(colorvalue[1]);\r\n            double L = 116.0 * l - 16.0;\r\n            double a = 500.0 * (f(colorvalue[0]) - l);\r\n            double b = 200.0 * (l - f(colorvalue[2]));\r\n            return new float[] {(float) L, (float) a, (float) b};\r\n        }\r\n    \r\n        @Override\r\n        public float[] fromRGB(float[] rgbvalue) {\r\n            float[] xyz = CIEXYZ.fromRGB(rgbvalue);\r\n            return fromCIEXYZ(xyz);\r\n        }\r\n    \r\n        @Override\r\n        public float getMaxValue(int component) {\r\n            return 128f;\r\n        }\r\n\r\n        @Override\r\n        public float getMinValue(int component) {\r\n            return (component == 0)? 0f: -128f;\r\n        }    \r\n    \r\n        @Override\r\n        public String getName(int idx) {\r\n            return String.valueOf(&quot;Lab&quot;.charAt(idx));\r\n        }\r\n    \r\n        @Override\r\n        public float[] toCIEXYZ(float[] colorvalue) {\r\n            double i = (colorvalue[0] + 16.0) * (1.0 / 116.0);\r\n            double X = fInv(i + colorvalue[1] * (1.0 / 500.0));\r\n            double Y = fInv(i);\r\n            double Z = fInv(i - colorvalue[2] * (1.0 / 200.0));\r\n            return new float[] {(float) X, (float) Y, (float) Z};\r\n        }\r\n    \r\n        @Override\r\n        public float[] toRGB(float[] colorvalue) {\r\n            float[] xyz = toCIEXYZ(colorvalue);\r\n            return CIEXYZ.toRGB(xyz);\r\n        }\r\n        \r\n        CIELab() {\r\n            super(ColorSpace.TYPE_Lab, 3);\r\n        }\r\n\r\n        private static double f(double x) {\r\n            if (x &gt; 216.0 / 24389.0) {\r\n                return Math.cbrt(x);\r\n            } else {\r\n                return (841.0 / 108.0) * x + N;\r\n            }\r\n        }\r\n    \r\n        private static double fInv(double x) {\r\n            if (x &gt; 6.0 / 29.0) {\r\n                return x*x*x;\r\n            } else {\r\n                return (108.0 / 841.0) * (x - N);\r\n            }\r\n        }\r\n    \r\n        private Object readResolve() {\r\n            return getInstance();\r\n        }\r\n    \r\n        private static class Holder {\r\n            static final CIELab INSTANCE = new CIELab();\r\n        }\r\n\r\n        private static final long serialVersionUID = 5027741380892134289L;\r\n    \r\n        private static final ColorSpace CIEXYZ =\r\n            ColorSpace.getInstance(ColorSpace.CS_CIEXYZ);\r\n\r\n        private static final double N = 4.0 / 29.0;\r\n    \r\n    }","title":"Java: how to convert RGB color to CIE Lab","body":"<p>Here's my implementation:</p>\n\n<pre><code>import java.awt.color.ColorSpace;\n\npublic class CIELab extends ColorSpace {\n\n    public static CIELab getInstance() {\n        return Holder.INSTANCE;\n    }\n\n    @Override\n    public float[] fromCIEXYZ(float[] colorvalue) {\n        double l = f(colorvalue[1]);\n        double L = 116.0 * l - 16.0;\n        double a = 500.0 * (f(colorvalue[0]) - l);\n        double b = 200.0 * (l - f(colorvalue[2]));\n        return new float[] {(float) L, (float) a, (float) b};\n    }\n\n    @Override\n    public float[] fromRGB(float[] rgbvalue) {\n        float[] xyz = CIEXYZ.fromRGB(rgbvalue);\n        return fromCIEXYZ(xyz);\n    }\n\n    @Override\n    public float getMaxValue(int component) {\n        return 128f;\n    }\n\n    @Override\n    public float getMinValue(int component) {\n        return (component == 0)? 0f: -128f;\n    }    \n\n    @Override\n    public String getName(int idx) {\n        return String.valueOf(\"Lab\".charAt(idx));\n    }\n\n    @Override\n    public float[] toCIEXYZ(float[] colorvalue) {\n        double i = (colorvalue[0] + 16.0) * (1.0 / 116.0);\n        double X = fInv(i + colorvalue[1] * (1.0 / 500.0));\n        double Y = fInv(i);\n        double Z = fInv(i - colorvalue[2] * (1.0 / 200.0));\n        return new float[] {(float) X, (float) Y, (float) Z};\n    }\n\n    @Override\n    public float[] toRGB(float[] colorvalue) {\n        float[] xyz = toCIEXYZ(colorvalue);\n        return CIEXYZ.toRGB(xyz);\n    }\n\n    CIELab() {\n        super(ColorSpace.TYPE_Lab, 3);\n    }\n\n    private static double f(double x) {\n        if (x &gt; 216.0 / 24389.0) {\n            return Math.cbrt(x);\n        } else {\n            return (841.0 / 108.0) * x + N;\n        }\n    }\n\n    private static double fInv(double x) {\n        if (x &gt; 6.0 / 29.0) {\n            return x*x*x;\n        } else {\n            return (108.0 / 841.0) * (x - N);\n        }\n    }\n\n    private Object readResolve() {\n        return getInstance();\n    }\n\n    private static class Holder {\n        static final CIELab INSTANCE = new CIELab();\n    }\n\n    private static final long serialVersionUID = 5027741380892134289L;\n\n    private static final ColorSpace CIEXYZ =\n        ColorSpace.getInstance(ColorSpace.CS_CIEXYZ);\n\n    private static final double N = 4.0 / 29.0;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":415897,"reputation":1944,"user_id":790979,"accept_rate":100,"display_name":"charleslparker"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1372424143,"creation_date":1342667712,"answer_id":11553423,"question_id":4593469,"body_markdown":"I had some problems using the code in @finw&#39;s answer.  I believe they were mostly due to the fact that to do a CIELab conversion you should specify an illuminant:\r\n\r\nhttp://en.wikipedia.org/wiki/Standard_illuminant\r\n\r\nOne of the popular standards is [D50](http://en.wikipedia.org/wiki/Standard_illuminant#Illuminant_series_D), which is basically just a standard daylight.  Because @finw&#39;s code doesn&#39;t have the correction for illumination, the colors that are supposed to be neutral gray come out slightly tinted.  One way of checking this is to try:\r\n\r\n     float[] g = { 50.0f, 0f, 0f };\r\n     CIELab.getInstance().toRGB(g); \r\n     for (float f : g) System.out.println(f);\r\n\r\nYou should get roughly the same number on all three channels, but you end up with an RGB profile that&#39;s noticeably (albeit slightly) blue.  I&#39;m sure it is possible to correct this in @finw&#39;s code, but after a bit of playing with it and searching around, I found some excellent conversion code here:\r\n\r\nhttp://www.f4.fhtw-berlin.de/~barthel/ImageJ/ColorInspector//HTMLHelp/farbraumJava.htm\r\n\r\nFor completeness, here it is.\r\n\r\n    public void rgb2lab(int R, int G, int B, int[] lab) {\r\n\t\t//http://www.brucelindbloom.com\r\n\t\t  \r\n\t\tfloat r, g, b, X, Y, Z, fx, fy, fz, xr, yr, zr;\r\n\t\tfloat Ls, as, bs;\r\n\t\tfloat eps = 216.f/24389.f;\r\n\t\tfloat k = 24389.f/27.f;\r\n\t\t   \r\n\t\tfloat Xr = 0.964221f;  // reference white D50\r\n\t\tfloat Yr = 1.0f;\r\n\t\tfloat Zr = 0.825211f;\r\n\t\t\r\n\t\t// RGB to XYZ\r\n\t\tr = R/255.f; //R 0..1\r\n\t\tg = G/255.f; //G 0..1\r\n\t\tb = B/255.f; //B 0..1\r\n\t\t\r\n\t\t// assuming sRGB (D65)\r\n\t\tif (r &lt;= 0.04045)\r\n\t\t\tr = r/12;\r\n\t\telse\r\n\t\t\tr = (float) Math.pow((r+0.055)/1.055,2.4);\r\n\t\t\r\n\t\tif (g &lt;= 0.04045)\r\n\t\t\tg = g/12;\r\n\t\telse\r\n\t\t\tg = (float) Math.pow((g+0.055)/1.055,2.4);\r\n\t\t\r\n\t\tif (b &lt;= 0.04045)\r\n\t\t\tb = b/12;\r\n\t\telse\r\n\t\t\tb = (float) Math.pow((b+0.055)/1.055,2.4);\r\n\t\t\r\n\t\t\r\n\t\tX =  0.436052025f*r     + 0.385081593f*g + 0.143087414f *b;\r\n\t\tY =  0.222491598f*r     + 0.71688606f *g + 0.060621486f *b;\r\n\t\tZ =  0.013929122f*r     + 0.097097002f*g + 0.71418547f  *b;\r\n\t\t\r\n\t\t// XYZ to Lab\r\n\t\txr = X/Xr;\r\n\t\tyr = Y/Yr;\r\n\t\tzr = Z/Zr;\r\n\t\t\t\t\r\n\t\tif ( xr &gt; eps )\r\n\t\t\tfx =  (float) Math.pow(xr, 1/3.);\r\n\t\telse\r\n\t\t\tfx = (float) ((k * xr + 16.) / 116.);\r\n\t\t \r\n\t\tif ( yr &gt; eps )\r\n\t\t\tfy =  (float) Math.pow(yr, 1/3.);\r\n\t\telse\r\n\t\tfy = (float) ((k * yr + 16.) / 116.);\r\n\t\t\r\n\t\tif ( zr &gt; eps )\r\n\t\t\tfz =  (float) Math.pow(zr, 1/3.);\r\n\t\telse\r\n\t\t\tfz = (float) ((k * zr + 16.) / 116);\r\n\t\t\r\n\t\tLs = ( 116 * fy ) - 16;\r\n\t\tas = 500*(fx-fy);\r\n\t\tbs = 200*(fy-fz);\r\n\t\t\r\n\t\tlab[0] = (int) (2.55*Ls + .5);\r\n\t\tlab[1] = (int) (as + .5); \r\n\t\tlab[2] = (int) (bs + .5);       \r\n\t} \r\n\r\nIn my tests, it produces gray values that are appropriately chroma-free, and it is much speedier to boot.","title":"Java: how to convert RGB color to CIE Lab","body":"<p>I had some problems using the code in @finw's answer.  I believe they were mostly due to the fact that to do a CIELab conversion you should specify an illuminant:</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Standard_illuminant\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Standard_illuminant</a></p>\n\n<p>One of the popular standards is <a href=\"http://en.wikipedia.org/wiki/Standard_illuminant#Illuminant_series_D\" rel=\"noreferrer\">D50</a>, which is basically just a standard daylight.  Because @finw's code doesn't have the correction for illumination, the colors that are supposed to be neutral gray come out slightly tinted.  One way of checking this is to try:</p>\n\n<pre><code> float[] g = { 50.0f, 0f, 0f };\n CIELab.getInstance().toRGB(g); \n for (float f : g) System.out.println(f);\n</code></pre>\n\n<p>You should get roughly the same number on all three channels, but you end up with an RGB profile that's noticeably (albeit slightly) blue.  I'm sure it is possible to correct this in @finw's code, but after a bit of playing with it and searching around, I found some excellent conversion code here:</p>\n\n<p><a href=\"http://www.f4.fhtw-berlin.de/~barthel/ImageJ/ColorInspector//HTMLHelp/farbraumJava.htm\" rel=\"noreferrer\">http://www.f4.fhtw-berlin.de/~barthel/ImageJ/ColorInspector//HTMLHelp/farbraumJava.htm</a></p>\n\n<p>For completeness, here it is.</p>\n\n<pre><code>public void rgb2lab(int R, int G, int B, int[] lab) {\n    //http://www.brucelindbloom.com\n\n    float r, g, b, X, Y, Z, fx, fy, fz, xr, yr, zr;\n    float Ls, as, bs;\n    float eps = 216.f/24389.f;\n    float k = 24389.f/27.f;\n\n    float Xr = 0.964221f;  // reference white D50\n    float Yr = 1.0f;\n    float Zr = 0.825211f;\n\n    // RGB to XYZ\n    r = R/255.f; //R 0..1\n    g = G/255.f; //G 0..1\n    b = B/255.f; //B 0..1\n\n    // assuming sRGB (D65)\n    if (r &lt;= 0.04045)\n        r = r/12;\n    else\n        r = (float) Math.pow((r+0.055)/1.055,2.4);\n\n    if (g &lt;= 0.04045)\n        g = g/12;\n    else\n        g = (float) Math.pow((g+0.055)/1.055,2.4);\n\n    if (b &lt;= 0.04045)\n        b = b/12;\n    else\n        b = (float) Math.pow((b+0.055)/1.055,2.4);\n\n\n    X =  0.436052025f*r     + 0.385081593f*g + 0.143087414f *b;\n    Y =  0.222491598f*r     + 0.71688606f *g + 0.060621486f *b;\n    Z =  0.013929122f*r     + 0.097097002f*g + 0.71418547f  *b;\n\n    // XYZ to Lab\n    xr = X/Xr;\n    yr = Y/Yr;\n    zr = Z/Zr;\n\n    if ( xr &gt; eps )\n        fx =  (float) Math.pow(xr, 1/3.);\n    else\n        fx = (float) ((k * xr + 16.) / 116.);\n\n    if ( yr &gt; eps )\n        fy =  (float) Math.pow(yr, 1/3.);\n    else\n    fy = (float) ((k * yr + 16.) / 116.);\n\n    if ( zr &gt; eps )\n        fz =  (float) Math.pow(zr, 1/3.);\n    else\n        fz = (float) ((k * zr + 16.) / 116);\n\n    Ls = ( 116 * fy ) - 16;\n    as = 500*(fx-fy);\n    bs = 200*(fy-fz);\n\n    lab[0] = (int) (2.55*Ls + .5);\n    lab[1] = (int) (as + .5); \n    lab[2] = (int) (bs + .5);       \n} \n</code></pre>\n\n<p>In my tests, it produces gray values that are appropriately chroma-free, and it is much speedier to boot.</p>\n"},{"tags":[],"owner":{"account_id":9487333,"reputation":1624,"user_id":7053344,"accept_rate":62,"display_name":"Thanasis1101"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1500801177,"creation_date":1500801177,"answer_id":45263428,"question_id":4593469,"body_markdown":"I used this code and it worked:\r\n\r\n    public double[] rgbToLab(int R, int G, int B) {\r\n\r\n        double r, g, b, X, Y, Z, xr, yr, zr;\r\n\r\n        // D65/2&#176;\r\n        double Xr = 95.047;  \r\n        double Yr = 100.0;\r\n        double Zr = 108.883;\r\n        \r\n\r\n        // --------- RGB to XYZ ---------//\r\n        \r\n        r = R/255.0;\r\n        g = G/255.0;\r\n        b = B/255.0;\r\n        \r\n        if (r &gt; 0.04045)\r\n            r = Math.pow((r+0.055)/1.055,2.4);\r\n        else\r\n            r = r/12.92;\r\n\r\n        if (g &gt; 0.04045)\r\n            g = Math.pow((g+0.055)/1.055,2.4);\r\n        else\r\n            g = g/12.92;\r\n\r\n        if (b &gt; 0.04045)\r\n            b = Math.pow((b+0.055)/1.055,2.4);\r\n        else\r\n            b = b/12.92 ;\r\n\r\n        r*=100;\r\n        g*=100;\r\n        b*=100;\r\n\r\n        X =  0.4124*r + 0.3576*g + 0.1805*b;\r\n        Y =  0.2126*r + 0.7152*g + 0.0722*b;\r\n        Z =  0.0193*r + 0.1192*g + 0.9505*b;\r\n        \r\n\r\n        // --------- XYZ to Lab --------- //\r\n        \r\n        xr = X/Xr;\r\n        yr = Y/Yr;\r\n        zr = Z/Zr;\r\n\r\n        if ( xr &gt; 0.008856 )\r\n            xr =  (float) Math.pow(xr, 1/3.);\r\n        else\r\n            xr = (float) ((7.787 * xr) + 16 / 116.0);\r\n\r\n        if ( yr &gt; 0.008856 )\r\n            yr =  (float) Math.pow(yr, 1/3.);\r\n        else\r\n            yr = (float) ((7.787 * yr) + 16 / 116.0);\r\n\r\n        if ( zr &gt; 0.008856 )\r\n            zr =  (float) Math.pow(zr, 1/3.);\r\n        else\r\n            zr = (float) ((7.787 * zr) + 16 / 116.0);\r\n\r\n\r\n        double[] lab = new double[3];\r\n\r\n        lab[0] = (116*yr)-16;\r\n        lab[1] = 500*(xr-yr); \r\n        lab[2] = 200*(yr-zr); \r\n\r\n        return lab;\r\n\r\n    } \r\n\r\nFor the code above I used the formulas provided [here][1] in order to convert from rgb to XYZ and then from XYZ to CIELab. The results I get are the same with [this][2] online converter.\r\n\r\n\r\n  [1]: http://www.easyrgb.com/en/math.php\r\n  [2]: http://colormine.org/convert/rgb-to-lab","title":"Java: how to convert RGB color to CIE Lab","body":"<p>I used this code and it worked:</p>\n\n<pre><code>public double[] rgbToLab(int R, int G, int B) {\n\n    double r, g, b, X, Y, Z, xr, yr, zr;\n\n    // D65/2¬∞\n    double Xr = 95.047;  \n    double Yr = 100.0;\n    double Zr = 108.883;\n\n\n    // --------- RGB to XYZ ---------//\n\n    r = R/255.0;\n    g = G/255.0;\n    b = B/255.0;\n\n    if (r &gt; 0.04045)\n        r = Math.pow((r+0.055)/1.055,2.4);\n    else\n        r = r/12.92;\n\n    if (g &gt; 0.04045)\n        g = Math.pow((g+0.055)/1.055,2.4);\n    else\n        g = g/12.92;\n\n    if (b &gt; 0.04045)\n        b = Math.pow((b+0.055)/1.055,2.4);\n    else\n        b = b/12.92 ;\n\n    r*=100;\n    g*=100;\n    b*=100;\n\n    X =  0.4124*r + 0.3576*g + 0.1805*b;\n    Y =  0.2126*r + 0.7152*g + 0.0722*b;\n    Z =  0.0193*r + 0.1192*g + 0.9505*b;\n\n\n    // --------- XYZ to Lab --------- //\n\n    xr = X/Xr;\n    yr = Y/Yr;\n    zr = Z/Zr;\n\n    if ( xr &gt; 0.008856 )\n        xr =  (float) Math.pow(xr, 1/3.);\n    else\n        xr = (float) ((7.787 * xr) + 16 / 116.0);\n\n    if ( yr &gt; 0.008856 )\n        yr =  (float) Math.pow(yr, 1/3.);\n    else\n        yr = (float) ((7.787 * yr) + 16 / 116.0);\n\n    if ( zr &gt; 0.008856 )\n        zr =  (float) Math.pow(zr, 1/3.);\n    else\n        zr = (float) ((7.787 * zr) + 16 / 116.0);\n\n\n    double[] lab = new double[3];\n\n    lab[0] = (116*yr)-16;\n    lab[1] = 500*(xr-yr); \n    lab[2] = 200*(yr-zr); \n\n    return lab;\n\n} \n</code></pre>\n\n<p>For the code above I used the formulas provided <a href=\"http://www.easyrgb.com/en/math.php\" rel=\"noreferrer\">here</a> in order to convert from rgb to XYZ and then from XYZ to CIELab. The results I get are the same with <a href=\"http://colormine.org/convert/rgb-to-lab\" rel=\"noreferrer\">this</a> online converter.</p>\n"},{"tags":[],"owner":{"account_id":11060443,"reputation":71,"user_id":8121935,"display_name":"Eric Ballard"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1656874622,"creation_date":1628968973,"answer_id":68786391,"question_id":4593469,"body_markdown":"Sorry to bump an old thread but any new ones would likely get marked as duplicate - I feel the top-rated answers are complex or over-engineered and others are not complete or just lacking in information.\r\n    \r\n    public static float[] rgbToLab(int r, int g, int b) {\r\n        return ColorSpace.getInstance(ColorSpace.CS_CIEXYZ).fromRGB(new float[]{r / 255f, g / 255f, b / 255f});\r\n    }\r\n\r\nEasy 1 liner using awt.color.ColorSpace - working very well in my practice. You can calculate the distance like so\r\n\r\n    // Euclidean Distance\r\n    public static double distance(Color target, Color control) {\r\n        float[] a = rgbToLab(target), b = rgbToLab(control);\r\n        double L = a[0] - b[0], A = a[1] - b[1], B = a[2] - b[2];\r\n    \r\n        return Math.sqrt((L * L) + (A * A) + (B * B));\r\n    }\r\n\r\n    public static float[] rgbToLab(Color color) {\r\n        return rgbToLab(color.getRed(), color.getGreen(), color.getBlue());\r\n    }\r\n\r\nThis yields results as so;\r\n\r\n    // Control color = #D9C967\r\n    #213B1E | DISTANCE: 2.5532837723818224E-4\r\n    #19301C | DISTANCE: 2.74658203125E-4\r\n    #1E2D10 | DISTANCE: 2.74658203125E-4\r\n    #DDC669 | DISTANCE: 0.0\r\n    #DDC56B | DISTANCE: 0.0\r\n    #DAC761 | DISTANCE: 0.0\r\n\r\n","title":"Java: how to convert RGB color to CIE Lab","body":"<p>Sorry to bump an old thread but any new ones would likely get marked as duplicate - I feel the top-rated answers are complex or over-engineered and others are not complete or just lacking in information.</p>\n<pre><code>public static float[] rgbToLab(int r, int g, int b) {\n    return ColorSpace.getInstance(ColorSpace.CS_CIEXYZ).fromRGB(new float[]{r / 255f, g / 255f, b / 255f});\n}\n</code></pre>\n<p>Easy 1 liner using awt.color.ColorSpace - working very well in my practice. You can calculate the distance like so</p>\n<pre><code>// Euclidean Distance\npublic static double distance(Color target, Color control) {\n    float[] a = rgbToLab(target), b = rgbToLab(control);\n    double L = a[0] - b[0], A = a[1] - b[1], B = a[2] - b[2];\n\n    return Math.sqrt((L * L) + (A * A) + (B * B));\n}\n\npublic static float[] rgbToLab(Color color) {\n    return rgbToLab(color.getRed(), color.getGreen(), color.getBlue());\n}\n</code></pre>\n<p>This yields results as so;</p>\n<pre><code>// Control color = #D9C967\n#213B1E | DISTANCE: 2.5532837723818224E-4\n#19301C | DISTANCE: 2.74658203125E-4\n#1E2D10 | DISTANCE: 2.74658203125E-4\n#DDC669 | DISTANCE: 0.0\n#DDC56B | DISTANCE: 0.0\n#DAC761 | DISTANCE: 0.0\n</code></pre>\n"}],"owner":{"account_id":271797,"reputation":193,"user_id":562527,"display_name":"user562527"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24685,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":5021831,"answer_count":6,"score":19,"last_activity_date":1656874622,"creation_date":1294143447,"question_id":4593469,"body_markdown":"How can I present object Color in CIE Lab color model.\r\n\r\n    Color c = ...\r\n    float[] lab = {0,0,0};\r\n    ...\r\n    c.getColorComponents(ColorSpace.getInstance(???), lab);\r\n\r\nBut I wasn&#39;t able to force this work with CIE Lab (despite of the fact that TYPE_Lab is presented in ColorSpace class)\r\n\r\nThx for attention.","title":"Java: how to convert RGB color to CIE Lab","body":"<p>How can I present object Color in CIE Lab color model.</p>\n\n<pre><code>Color c = ...\nfloat[] lab = {0,0,0};\n...\nc.getColorComponents(ColorSpace.getInstance(???), lab);\n</code></pre>\n\n<p>But I wasn't able to force this work with CIE Lab (despite of the fact that TYPE_Lab is presented in ColorSpace class)</p>\n\n<p>Thx for attention.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":996598,"reputation":6067,"user_id":1012372,"accept_rate":49,"display_name":"Jayesh"},"score":0,"creation_date":1374728576,"post_id":17849347,"comment_id":26056939,"body_markdown":"If it needs to made generic, they can&#39;t specify the type as int, float etc. So keeping it as generic it is mentioned as T(as any type) and place where it is mentioned it can be return type, function parameter.","body":"If it needs to made generic, they can&#39;t specify the type as int, float etc. So keeping it as generic it is mentioned as T(as any type) and place where it is mentioned it can be return type, function parameter."},{"owner":{"account_id":2322438,"reputation":8046,"user_id":2037787,"accept_rate":57,"display_name":"backtrack"},"score":0,"creation_date":1374728778,"post_id":17849347,"comment_id":26057000,"body_markdown":"Have a look http://examples.javacodegeeks.com/java-basics/generics/java-generics-examples/","body":"Have a look <a href=\"http://examples.javacodegeeks.com/java-basics/generics/java-generics-examples/\" rel=\"nofollow noreferrer\">examples.javacodegeeks.com/java-basics/generics/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1374728435,"creation_date":1374728435,"answer_id":17849360,"question_id":17849347,"body_markdown":"The `T` before the method name means that returns a value of type `T`, where T is the template used in the method. If your method will return an `int`, it would look like:\r\n\r\n    public static &lt;T&gt; int getFirst (List&lt;T&gt; list)\r\n","title":"Java Generic Methods and constructors","body":"<p>The <code>T</code> before the method name means that returns a value of type <code>T</code>, where T is the template used in the method. If your method will return an <code>int</code>, it would look like:</p>\n\n<pre><code>public static &lt;T&gt; int getFirst (List&lt;T&gt; list)\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2589993"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374730276,"creation_date":1374728947,"answer_id":17849476,"question_id":17849347,"body_markdown":" `T`  Means Type parameter in `java.lang.Class`, added this type parameter.Its simply say type checking to compiler.","title":"Java Generic Methods and constructors","body":"<p><code>T</code>  Means Type parameter in <code>java.lang.Class</code>, added this type parameter.Its simply say type checking to compiler.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656873382,"creation_date":1656873382,"answer_id":72849013,"question_id":17849347,"body_markdown":"&gt; _Why is there a T after static? Is this a printing mistake? What does that mean?_\r\n\r\nThe `&lt;T&gt;` after &quot;static&quot; means the method is a [generic method](https://docs.oracle.com/javase/tutorial/java/generics/methods.html). From that link:\r\n\r\n&gt; _Generic methods are methods that introduce their own type parameters. This is similar to declaring a generic type, but the type parameter&#39;s scope is limited to the method where it is declared. Static and non-static generic methods are allowed, as well as generic class constructors._\r\n\r\nThe way to define a generic method is to specify the type parameters (ex: `&lt;T&gt;` or `&lt;K,V&gt;`) just before the method&#39;s return type.\r\n\r\n&gt; _The syntax for a generic method includes a list of type parameters, inside angle brackets, which appears before the method&#39;s return type. For static generic methods, the type parameter section must appear before the method&#39;s return type._\r\n\r\nThe method signature you posted looks like this:\r\n```\r\npublic static &lt;T&gt; T getFirst (List&lt;T&gt; list)\r\n```\r\n\r\nAnd for comparison, here are two close variations:\r\n\r\n1. This method signature isn&#39;t a &quot;generic method&quot;. Note that this method also removes the `static` keyword ‚Äì it isn&#39;t allowed to define method that is static, uses a type parameter (`T`), but isn&#39;t a generic method.\r\n\t```\r\n\tpublic T getFirst (List&lt;T&gt; list)\r\n\t```\r\n\r\n2. This _is_ a generic method (method type `&lt;T&gt;` define just prior to return type `T`), but isn&#39;t static:\r\n\t```\r\n\tpublic &lt;T&gt; T getFirst (List&lt;T&gt; list)\r\n\t```\r\n","title":"Java Generic Methods and constructors","body":"<blockquote>\n<p><em>Why is there a T after static? Is this a printing mistake? What does that mean?</em></p>\n</blockquote>\n<p>The <code>&lt;T&gt;</code> after &quot;static&quot; means the method is a <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/methods.html\" rel=\"nofollow noreferrer\">generic method</a>. From that link:</p>\n<blockquote>\n<p><em>Generic methods are methods that introduce their own type parameters. This is similar to declaring a generic type, but the type parameter's scope is limited to the method where it is declared. Static and non-static generic methods are allowed, as well as generic class constructors.</em></p>\n</blockquote>\n<p>The way to define a generic method is to specify the type parameters (ex: <code>&lt;T&gt;</code> or <code>&lt;K,V&gt;</code>) just before the method's return type.</p>\n<blockquote>\n<p><em>The syntax for a generic method includes a list of type parameters, inside angle brackets, which appears before the method's return type. For static generic methods, the type parameter section must appear before the method's return type.</em></p>\n</blockquote>\n<p>The method signature you posted looks like this:</p>\n<pre><code>public static &lt;T&gt; T getFirst (List&lt;T&gt; list)\n</code></pre>\n<p>And for comparison, here are two close variations:</p>\n<ol>\n<li><p>This method signature isn't a &quot;generic method&quot;. Note that this method also removes the <code>static</code> keyword ‚Äì it isn't allowed to define method that is static, uses a type parameter (<code>T</code>), but isn't a generic method.</p>\n<pre><code>public T getFirst (List&lt;T&gt; list)\n</code></pre>\n</li>\n<li><p>This <em>is</em> a generic method (method type <code>&lt;T&gt;</code> define just prior to return type <code>T</code>), but isn't static:</p>\n<pre><code>public &lt;T&gt; T getFirst (List&lt;T&gt; list)\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":122338,"reputation":14600,"user_id":316082,"accept_rate":76,"display_name":"liv2hak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72849013,"answer_count":3,"score":1,"last_activity_date":1656873382,"creation_date":1374728381,"question_id":17849347,"body_markdown":"I am new to java.I was going through a tutorial on java generics.\r\n\r\n[Java Generics tutorial][1]\r\n  [1]: http://thegreyblog.blogspot.co.nz/2011/03/java-generics-tutorial-part-i-basics.html\r\n\r\nThere is a section about declaring generic methods and constructors.\r\n\r\n    Methods and constructors can be generic if they declare one/more type variables.\r\n    \r\n    public static &lt;T&gt;T getFirst (List&lt;T&gt; list)\r\n\r\nThis method accepts a reference to List&lt;T&gt; and will return an object of type T.\r\n\r\nwhy is there a &lt;T&gt;T after static? Is this a printing mistake.?\r\n\r\nWhat does that mean?\r\n\r\nI am a beginner in java an new to the concepts of generics.\r\n\r\n\r\n","title":"Java Generic Methods and constructors","body":"<p>I am new to java.I was going through a tutorial on java generics.</p>\n\n<p><a href=\"http://thegreyblog.blogspot.co.nz/2011/03/java-generics-tutorial-part-i-basics.html\" rel=\"nofollow\">Java Generics tutorial</a>\nThere is a section about declaring generic methods and constructors.</p>\n\n<pre><code>Methods and constructors can be generic if they declare one/more type variables.\n\npublic static &lt;T&gt;T getFirst (List&lt;T&gt; list)\n</code></pre>\n\n<p>This method accepts a reference to List and will return an object of type T.</p>\n\n<p>why is there a T after static? Is this a printing mistake.?</p>\n\n<p>What does that mean?</p>\n\n<p>I am a beginner in java an new to the concepts of generics.</p>\n"},{"tags":["java","spring-boot","mockito","junit5"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1656872563,"post_id":72848914,"comment_id":128671886,"body_markdown":"I&#39;d suggest writing a behavioural test. The call to `register()` should have some expected effect. We can assert that this effect has occured after construction.","body":"I&#39;d suggest writing a behavioural test. The call to <code>register()</code> should have some expected effect. We can assert that this effect has occured after construction."}],"answers":[{"tags":[],"owner":{"account_id":10297068,"reputation":1003,"user_id":7596874,"accept_rate":20,"display_name":"Rathan Naik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656872759,"creation_date":1656872759,"answer_id":72848951,"question_id":72848914,"body_markdown":"\r\nCan you not test by checking the state of your object created with class Abc ?\r\n\r\nThis is preferable to checking the calling of private methods as then you can refactor the inner working of the class without having to change the tests, as long as the behaviour and external state is the same.\r\n\r\nIf you find yourself wanting to check that private methods have been called in a unit test then this is a smell and should rethink your approach I think. Some other questions have already covered similar areas.\r\n\r\nIf these methods are interacting with some external components then you can mock these components as you normally would with any method and then validate the interaction is as you expect. Whether that interaction happens in one method or another internally should be an implementation detail of the Abc class and externally you shouldn&#39;t care.\r\n","title":"How to unit test a method called by constructor Spring Boot","body":"<p>Can you not test by checking the state of your object created with class Abc ?</p>\n<p>This is preferable to checking the calling of private methods as then you can refactor the inner working of the class without having to change the tests, as long as the behaviour and external state is the same.</p>\n<p>If you find yourself wanting to check that private methods have been called in a unit test then this is a smell and should rethink your approach I think. Some other questions have already covered similar areas.</p>\n<p>If these methods are interacting with some external components then you can mock these components as you normally would with any method and then validate the interaction is as you expect. Whether that interaction happens in one method or another internally should be an implementation detail of the Abc class and externally you shouldn't care.</p>\n"}],"owner":{"account_id":11978971,"reputation":85,"user_id":8765332,"display_name":"user8765332"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656872759,"creation_date":1656872394,"question_id":72848914,"body_markdown":"I would like to know how to unit test register() method in the below code\r\n\r\n```\r\n@Component\r\n@Slf4j\r\npublic class Abc {\r\n    private Xyz xyz;\r\n\r\n    @Autowired\r\n    public Abc(Xyz xyz) {\r\n\r\n        this.xyz = xyz;\r\n        try {\r\n            register();\r\n        } catch (Exception e) {\r\n            log.warn(&quot;Unsupported&quot;);\r\n        }\r\n    }\r\n\r\n    private void doSomething(String ts) {\r\n       //do Something\r\n    }\r\n\r\n    private void register() {\r\n        //register something\r\n    }\r\n}\r\n```\r\n\r\nHow can I unit test this method in a spring boot application. When I try some unit tests the constructor is called even before test method execution","title":"How to unit test a method called by constructor Spring Boot","body":"<p>I would like to know how to unit test register() method in the below code</p>\n<pre><code>@Component\n@Slf4j\npublic class Abc {\n    private Xyz xyz;\n\n    @Autowired\n    public Abc(Xyz xyz) {\n\n        this.xyz = xyz;\n        try {\n            register();\n        } catch (Exception e) {\n            log.warn(&quot;Unsupported&quot;);\n        }\n    }\n\n    private void doSomething(String ts) {\n       //do Something\n    }\n\n    private void register() {\n        //register something\n    }\n}\n</code></pre>\n<p>How can I unit test this method in a spring boot application. When I try some unit tests the constructor is called even before test method execution</p>\n"},{"tags":["java","android","android-button"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1656869174,"post_id":72848318,"comment_id":128671199,"body_markdown":"The problem is this line (`new Intent(context, shrinkNumber.shrinkTheNumber(context));`) - what are you trying to pass as the second argument there to the Intent constructor? `shrinkTheNumber` returns void - and as the error message says you can&#39;t construct an Intent with a `Context` and a `void`...","body":"The problem is this line (<code>new Intent(context, shrinkNumber.shrinkTheNumber(context));</code>) - what are you trying to pass as the second argument there to the Intent constructor? <code>shrinkTheNumber</code> returns void - and as the error message says you can&#39;t construct an Intent with a <code>Context</code> and a <code>void</code>..."}],"answers":[{"tags":[],"owner":{"account_id":25600764,"reputation":89,"user_id":19375828,"display_name":"RahulK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656872645,"creation_date":1656872645,"answer_id":72848938,"question_id":72848318,"body_markdown":"Intent is Android&#39;s native way to change from one activity to another. These do not change anything in the target/starting point class. There is no direct way to pass the context to the target activity using Intent. Similarly you can&#39;t call a particular method from intent. But there is a workaround for this, you can do something like this :\r\n\r\n    Intent intent = new Intent(this, shrinkNumber.class);\r\n    intent.putExtra(&quot;methodName&quot;,&quot;shrinkTheNumber&quot;);\r\n\r\n\r\nand then in the called activity , you can take the intent and decide which method to call like this:\r\n\r\n    if(intent.getStringExtra(&quot;methodName&quot;).equals(&quot;shrinkTheNumber&quot;)){\r\n          shrinkTheNumber();\r\n       }\r\n\r\n\r\nHope it helps","title":"How to change the text of a textView after a button is clicked?","body":"<p>Intent is Android's native way to change from one activity to another. These do not change anything in the target/starting point class. There is no direct way to pass the context to the target activity using Intent. Similarly you can't call a particular method from intent. But there is a workaround for this, you can do something like this :</p>\n<pre><code>Intent intent = new Intent(this, shrinkNumber.class);\nintent.putExtra(&quot;methodName&quot;,&quot;shrinkTheNumber&quot;);\n</code></pre>\n<p>and then in the called activity , you can take the intent and decide which method to call like this:</p>\n<pre><code>if(intent.getStringExtra(&quot;methodName&quot;).equals(&quot;shrinkTheNumber&quot;)){\n      shrinkTheNumber();\n   }\n</code></pre>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":25715827,"reputation":11,"user_id":19473621,"display_name":"Mamama Lalala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656872645,"creation_date":1656866986,"question_id":72848318,"body_markdown":"I tried to setup a pendingIntent which evokes the method &quot;shrinkTheNumber()&quot; of the class &quot;shrinkNumber.java&quot; after the button is clicked.\r\n\r\n\r\n**The Problem is that at the point of envoking that method i get the following error:**\r\n\r\n*Cannot resolve constructor &#39;Intent(android.content.Context, void)*\r\n\r\n*com.example.myapplication.shrinkNumber* \r\n\r\n*public static void shrinkTheNumber(@NonNull Context context)* \r\n\r\n\r\nI can&#39;t figure out what the problem is.\r\n\r\nThe goal of the whole program is that the text of the textView gets changed when the button is clicked.\r\n\r\n**class shrinkNumber:**\r\n\r\n```package com.example.myapplication;\r\n\r\nimport android.app.PendingIntent;\r\nimport android.appwidget.AppWidgetManager;\r\nimport android.appwidget.AppWidgetProvider;\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\n\r\nimport android.widget.RemoteViews;\r\npublic class shrinkNumber {\r\n\r\n    public static void shrinkTheNumber(Context context)\r\n\r\n    {\r\n        RemoteViews remoteViews = new RemoteViews(context.getPackageName(), R.layout.widget_layout);\r\n        remoteViews.setTextViewText(R.id.textView, &quot;hello&quot;);\r\n        updatewidgetnow(context, remoteViews);\r\n    }\r\n\r\n    public static void updatewidgetnow (Context context, RemoteViews remoteViews){\r\n        ComponentName widgetComponent = new ComponentName(context, WidgetProvider.class);\r\n        AppWidgetManager.getInstance(context).updateAppWidget(widgetComponent, remoteViews);\r\n\r\n\r\n    }\r\n}\r\n\r\n````\r\n\r\n**Here is the part with the pendingIntent:**\r\n\r\n````@Override\r\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n        RemoteViews remoteViews = new RemoteViews(context.getPackageName(), R.layout.widget_layout);\r\n\r\n        Intent shrinkIntent = new Intent(context, shrinkNumber.shrinkTheNumber(context));\r\n\r\n        PendingIntent shrinkPendingIntent =  PendingIntent.getActivity(context,0,shrinkIntent,0);\r\n\r\n        remoteViews.setOnClickPendingIntent(R.id.button2, shrinkPendingIntent);\r\n\r\n        appWidgetManager.updateAppWidget(appWidgetIds, remoteViews);\r\n\r\n\r\n        super.onUpdate(context, appWidgetManager, appWidgetIds);\r\n    }\r\n````","title":"How to change the text of a textView after a button is clicked?","body":"<p>I tried to setup a pendingIntent which evokes the method &quot;shrinkTheNumber()&quot; of the class &quot;shrinkNumber.java&quot; after the button is clicked.</p>\n<p><strong>The Problem is that at the point of envoking that method i get the following error:</strong></p>\n<p><em>Cannot resolve constructor 'Intent(android.content.Context, void)</em></p>\n<p><em>com.example.myapplication.shrinkNumber</em></p>\n<p><em>public static void shrinkTheNumber(@NonNull Context context)</em></p>\n<p>I can't figure out what the problem is.</p>\n<p>The goal of the whole program is that the text of the textView gets changed when the button is clicked.</p>\n<p><strong>class shrinkNumber:</strong></p>\n<pre><code>\nimport android.app.PendingIntent;\nimport android.appwidget.AppWidgetManager;\nimport android.appwidget.AppWidgetProvider;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\n\nimport android.widget.RemoteViews;\npublic class shrinkNumber {\n\n    public static void shrinkTheNumber(Context context)\n\n    {\n        RemoteViews remoteViews = new RemoteViews(context.getPackageName(), R.layout.widget_layout);\n        remoteViews.setTextViewText(R.id.textView, &quot;hello&quot;);\n        updatewidgetnow(context, remoteViews);\n    }\n\n    public static void updatewidgetnow (Context context, RemoteViews remoteViews){\n        ComponentName widgetComponent = new ComponentName(context, WidgetProvider.class);\n        AppWidgetManager.getInstance(context).updateAppWidget(widgetComponent, remoteViews);\n\n\n    }\n}\n\n</code></pre>\n<p><strong>Here is the part with the pendingIntent:</strong></p>\n<pre><code>    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n        RemoteViews remoteViews = new RemoteViews(context.getPackageName(), R.layout.widget_layout);\n\n        Intent shrinkIntent = new Intent(context, shrinkNumber.shrinkTheNumber(context));\n\n        PendingIntent shrinkPendingIntent =  PendingIntent.getActivity(context,0,shrinkIntent,0);\n\n        remoteViews.setOnClickPendingIntent(R.id.button2, shrinkPendingIntent);\n\n        appWidgetManager.updateAppWidget(appWidgetIds, remoteViews);\n\n\n        super.onUpdate(context, appWidgetManager, appWidgetIds);\n    }\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1291986489,"post_id":4409100,"comment_id":4807984,"body_markdown":"What compile errors do you get? Also, why not just use one of the standard library containers?","body":"What compile errors do you get? Also, why not just use one of the standard library containers?"},{"owner":{"account_id":243832,"reputation":2641,"user_id":516238,"accept_rate":81,"display_name":"Chris Johnson"},"score":1,"creation_date":1291987854,"post_id":4409100,"comment_id":4808216,"body_markdown":"Compile Error: I was actually adding the static modifier incorrect..  Using Collections: Yes using a collection would be ideal yet the question is not about collections vs array&#39;s, my use case requires an array.","body":"Compile Error: I was actually adding the static modifier incorrect..  Using Collections: Yes using a collection would be ideal yet the question is not about collections vs array&#39;s, my use case requires an array."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1291991169,"post_id":4409100,"comment_id":4808728,"body_markdown":"Note you&#39;ll need to use (EVIL) reflection to stop client code throwing an exception in some but not all circumstances (nice). It&#39;s best to avoid reference arrays.","body":"Note you&#39;ll need to use (EVIL) reflection to stop client code throwing an exception in some but not all circumstances (nice). It&#39;s best to avoid reference arrays."}],"answers":[{"tags":[],"owner":{"account_id":236698,"reputation":6648,"user_id":504356,"accept_rate":68,"display_name":"scheffield"},"down_vote_count":0,"up_vote_count":360,"is_accepted":true,"score":360,"last_activity_date":1436561914,"creation_date":1291986545,"answer_id":4409134,"question_id":4409100,"body_markdown":"the only thing you can do is to change your signature to\r\n\r\n    public static &lt;E&gt; E[] appendToArray(E[] array, E item)\r\n\r\n**Important details:**\r\n\r\nGeneric expressions preceding the return value always introduce (declare) a new generic type variable.\r\n\r\nAdditionally, type variables between types (`ArrayUtils`) and static methods (`appendToArray`) never interfere with each other.\r\n\r\nSo, what does this mean:\r\nIn my answer `&lt;E&gt;` would hide the `E` from `ArrayUtils&lt;E&gt;` if the method wouldn&#39;t be `static`. AND `&lt;E&gt;` has nothing to do with the `E` from `ArrayUtils&lt;E&gt;`.\r\n\r\nTo reflect this fact better, a more correct answer would be:\r\n\r\n    public static &lt;I&gt; I[] appendToArray(I[] array, I item)","title":"How to make a Java Generic method static?","body":"<p>the only thing you can do is to change your signature to</p>\n\n<pre><code>public static &lt;E&gt; E[] appendToArray(E[] array, E item)\n</code></pre>\n\n<p><strong>Important details:</strong></p>\n\n<p>Generic expressions preceding the return value always introduce (declare) a new generic type variable.</p>\n\n<p>Additionally, type variables between types (<code>ArrayUtils</code>) and static methods (<code>appendToArray</code>) never interfere with each other.</p>\n\n<p>So, what does this mean:\nIn my answer <code>&lt;E&gt;</code> would hide the <code>E</code> from <code>ArrayUtils&lt;E&gt;</code> if the method wouldn't be <code>static</code>. AND <code>&lt;E&gt;</code> has nothing to do with the <code>E</code> from <code>ArrayUtils&lt;E&gt;</code>.</p>\n\n<p>To reflect this fact better, a more correct answer would be:</p>\n\n<pre><code>public static &lt;I&gt; I[] appendToArray(I[] array, I item)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1291986569,"creation_date":1291986569,"answer_id":4409139,"question_id":4409100,"body_markdown":"You need to move type parameter to the method level to indicate that you have a generic method rather than generic class:\r\n\r\n    public class ArrayUtils {\r\n        public static &lt;T&gt; E[] appendToArray(E[] array, E item) {\r\n            E[] result = (E[])new Object[array.length+1];\r\n            result[array.length] = item;\r\n            return result;\r\n        }\r\n    }\r\n","title":"How to make a Java Generic method static?","body":"<p>You need to move type parameter to the method level to indicate that you have a generic method rather than generic class:</p>\n\n<pre><code>public class ArrayUtils {\n    public static &lt;T&gt; E[] appendToArray(E[] array, E item) {\n        E[] result = (E[])new Object[array.length+1];\n        result[array.length] = item;\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"down_vote_count":0,"up_vote_count":92,"is_accepted":false,"score":92,"last_activity_date":1366039819,"creation_date":1291986989,"answer_id":4409195,"question_id":4409100,"body_markdown":"    public static &lt;E&gt; E[] appendToArray(E[] array, E item) { ...\r\n\r\nNote the `&lt;E&gt;`.\r\n\r\nStatic generic methods need their own generic declaration (`public static &lt;E&gt;`) separate from the class&#39;s generic declaration (`public class ArrayUtils&lt;E&gt;`).\r\n\r\nIf the compiler complains about a type ambiguity in invoking a static generic method (again not likely in your case, but, generally speaking, just in case), here&#39;s how to explicitly invoke a static generic method using a specific type (`_class_.&lt;_generictypeparams_&gt;_methodname_`):\r\n\r\n    String[] newStrings = ArrayUtils.&lt;String&gt;appendToArray(strings, &quot;another string&quot;);\r\n\r\nThis would only happen if the compiler can&#39;t determine the generic type because, e.g. the generic type isn&#39;t related to the method arguments.","title":"How to make a Java Generic method static?","body":"<pre><code>public static &lt;E&gt; E[] appendToArray(E[] array, E item) { ...\n</code></pre>\n\n<p>Note the <code>&lt;E&gt;</code>.</p>\n\n<p>Static generic methods need their own generic declaration (<code>public static &lt;E&gt;</code>) separate from the class's generic declaration (<code>public class ArrayUtils&lt;E&gt;</code>).</p>\n\n<p>If the compiler complains about a type ambiguity in invoking a static generic method (again not likely in your case, but, generally speaking, just in case), here's how to explicitly invoke a static generic method using a specific type (<code>_class_.&lt;_generictypeparams_&gt;_methodname_</code>):</p>\n\n<pre><code>String[] newStrings = ArrayUtils.&lt;String&gt;appendToArray(strings, \"another string\");\n</code></pre>\n\n<p>This would only happen if the compiler can't determine the generic type because, e.g. the generic type isn't related to the method arguments.</p>\n"},{"tags":[],"owner":{"account_id":2051678,"reputation":1829,"user_id":1832327,"accept_rate":60,"display_name":"Vishnu Vivek"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1590330090,"creation_date":1590227959,"answer_id":61970330,"question_id":4409100,"body_markdown":"I&#39;ll explain it in a simple way.\r\n\r\nGenerics defined at Class level are completely separate from the generics defined at the (static) method level. \r\n\r\n```\r\nclass Greet&lt;T&gt; {\r\n\r\n\tpublic static &lt;T&gt; void sayHello(T obj) {\r\n\t\tSystem.out.println(&quot;Hello &quot; + obj);\r\n\t}\r\n}\r\n```\r\nWhen you see the above code anywhere, please note that the T defined at the class level has nothing to do with the T defined in the static method. The following code is also completely valid and equivalent to the above code.\r\n\r\n```\r\nclass Greet&lt;T&gt; {\r\n\r\n\tpublic static &lt;E&gt; void sayHello(E obj) {\r\n\t\tSystem.out.println(&quot;Hello &quot; + obj);\r\n\t}\r\n}\r\n```\r\n\r\n**Why the static method needs to have its own generics separate from those of the Class?**\r\n\r\n&gt; This is because, the static method can be called without even\r\n&gt; instantiating the Class. So if the Class is not yet instantiated, we\r\n&gt; do not yet know what is T. This is the reason why the static methods\r\n&gt; needs to have its own generics.\r\n\r\nSo, whenever you are calling the static method,\r\n\r\n```\r\nGreet.sayHello(&quot;Bob&quot;);\r\nGreet.sayHello(123);\r\n```\r\nJVM interprets it as the following.\r\n```\r\nGreet.&lt;String&gt;sayHello(&quot;Bob&quot;);\r\nGreet.&lt;Integer&gt;sayHello(123);\r\n```\r\n\r\nBoth giving the same outputs.\r\n```\r\nHello Bob\r\nHello 123\r\n```","title":"How to make a Java Generic method static?","body":"<p>I'll explain it in a simple way.</p>\n\n<p>Generics defined at Class level are completely separate from the generics defined at the (static) method level. </p>\n\n<pre><code>class Greet&lt;T&gt; {\n\n    public static &lt;T&gt; void sayHello(T obj) {\n        System.out.println(\"Hello \" + obj);\n    }\n}\n</code></pre>\n\n<p>When you see the above code anywhere, please note that the T defined at the class level has nothing to do with the T defined in the static method. The following code is also completely valid and equivalent to the above code.</p>\n\n<pre><code>class Greet&lt;T&gt; {\n\n    public static &lt;E&gt; void sayHello(E obj) {\n        System.out.println(\"Hello \" + obj);\n    }\n}\n</code></pre>\n\n<p><strong>Why the static method needs to have its own generics separate from those of the Class?</strong></p>\n\n<blockquote>\n  <p>This is because, the static method can be called without even\n  instantiating the Class. So if the Class is not yet instantiated, we\n  do not yet know what is T. This is the reason why the static methods\n  needs to have its own generics.</p>\n</blockquote>\n\n<p>So, whenever you are calling the static method,</p>\n\n<pre><code>Greet.sayHello(\"Bob\");\nGreet.sayHello(123);\n</code></pre>\n\n<p>JVM interprets it as the following.</p>\n\n<pre><code>Greet.&lt;String&gt;sayHello(\"Bob\");\nGreet.&lt;Integer&gt;sayHello(123);\n</code></pre>\n\n<p>Both giving the same outputs.</p>\n\n<pre><code>Hello Bob\nHello 123\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17279455,"reputation":71,"user_id":12513383,"display_name":"Doktor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1625509527,"creation_date":1625509527,"answer_id":68260637,"question_id":4409100,"body_markdown":"From javadoc\r\n\r\nGeneric Methods\r\n\r\nGeneric methods are methods that introduce their own type parameters. This is similar to declaring a generic type, but the type parameter&#39;s scope is limited to the method where it is declared. Static and non-static generic methods are allowed, as well as generic class constructors.\r\n\r\nThe syntax for a generic method includes a list of type parameters, inside angle brackets, which appears before the method&#39;s return type. For static generic methods, the type parameter section must appear before the method&#39;s return type.\r\n\r\nThe Util class includes a generic method, compare, which compares two Pair objects:\r\n\r\n    public class Util {\r\n        public static &lt;K, V&gt; boolean compare(Pair&lt;K, V&gt; p1, Pair&lt;K, V&gt; p2) {\r\n            return p1.getKey().equals(p2.getKey()) &amp;&amp;\r\n                   p1.getValue().equals(p2.getValue());\r\n        }\r\n    }\r\n\r\n\r\n    public class Pair&lt;K, V&gt; {\r\n\r\n    private K key;\r\n    private V value;\r\n\r\n    public Pair(K key, V value) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n\r\n    public void setKey(K key) { this.key = key; }\r\n    public void setValue(V value) { this.value = value; }\r\n    public K getKey()   { return key; }\r\n    public V getValue() { return value; }\r\n    }\r\n\r\nThe complete syntax for invoking this method would be:\r\n\r\n    Pair&lt;Integer, String&gt; p1 = new Pair&lt;&gt;(1, &quot;apple&quot;);\r\n    Pair&lt;Integer, String&gt; p2 = new Pair&lt;&gt;(2, &quot;pear&quot;);\r\n    boolean same = Util.&lt;Integer, String&gt;compare(p1, p2);\r\n\r\nThe type has been explicitly provided, as shown in bold. Generally, this can be left out and the compiler will infer the type that is needed:\r\n\r\n    Pair&lt;Integer, String&gt; p1 = new Pair&lt;&gt;(1, &quot;apple&quot;);\r\n    Pair&lt;Integer, String&gt; p2 = new Pair&lt;&gt;(2, &quot;pear&quot;);\r\n    boolean same = Util.compare(p1, p2);\r\n\r\nThis feature, known as type inference, allows you to invoke a generic method as an ordinary method, without specifying a type between angle brackets.\r\n\r\n\r\nAfter understanding this doc , for your question answer is that : \r\n\r\n    public static &lt;I&gt; I[] appendToArray(I[] array, I item)\r\n\r\n\r\n\r\n\r\n","title":"How to make a Java Generic method static?","body":"<p>From javadoc</p>\n<p>Generic Methods</p>\n<p>Generic methods are methods that introduce their own type parameters. This is similar to declaring a generic type, but the type parameter's scope is limited to the method where it is declared. Static and non-static generic methods are allowed, as well as generic class constructors.</p>\n<p>The syntax for a generic method includes a list of type parameters, inside angle brackets, which appears before the method's return type. For static generic methods, the type parameter section must appear before the method's return type.</p>\n<p>The Util class includes a generic method, compare, which compares two Pair objects:</p>\n<pre><code>public class Util {\n    public static &lt;K, V&gt; boolean compare(Pair&lt;K, V&gt; p1, Pair&lt;K, V&gt; p2) {\n        return p1.getKey().equals(p2.getKey()) &amp;&amp;\n               p1.getValue().equals(p2.getValue());\n    }\n}\n\n\npublic class Pair&lt;K, V&gt; {\n\nprivate K key;\nprivate V value;\n\npublic Pair(K key, V value) {\n    this.key = key;\n    this.value = value;\n}\n\npublic void setKey(K key) { this.key = key; }\npublic void setValue(V value) { this.value = value; }\npublic K getKey()   { return key; }\npublic V getValue() { return value; }\n}\n</code></pre>\n<p>The complete syntax for invoking this method would be:</p>\n<pre><code>Pair&lt;Integer, String&gt; p1 = new Pair&lt;&gt;(1, &quot;apple&quot;);\nPair&lt;Integer, String&gt; p2 = new Pair&lt;&gt;(2, &quot;pear&quot;);\nboolean same = Util.&lt;Integer, String&gt;compare(p1, p2);\n</code></pre>\n<p>The type has been explicitly provided, as shown in bold. Generally, this can be left out and the compiler will infer the type that is needed:</p>\n<pre><code>Pair&lt;Integer, String&gt; p1 = new Pair&lt;&gt;(1, &quot;apple&quot;);\nPair&lt;Integer, String&gt; p2 = new Pair&lt;&gt;(2, &quot;pear&quot;);\nboolean same = Util.compare(p1, p2);\n</code></pre>\n<p>This feature, known as type inference, allows you to invoke a generic method as an ordinary method, without specifying a type between angle brackets.</p>\n<p>After understanding this doc , for your question answer is that :</p>\n<pre><code>public static &lt;I&gt; I[] appendToArray(I[] array, I item)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656872283,"creation_date":1656872283,"answer_id":72848902,"question_id":4409100,"body_markdown":"&gt; _How can I make appendToArray a static method?_\r\n\r\nTo make it static, you need to:\r\n* add the `static` modifier\r\n* add the generic type `E` to the method signature\r\n\r\nSpecifically for your example, that means changing the method signature from this:\r\n\r\n```\r\npublic E[] appendToArray(E[] array, E item) {\r\n```\r\n\r\nto this:\r\n\r\n```\r\n// same as above, but with &quot;static &lt;E&gt;&quot; before return type E[]\r\npublic static &lt;E&gt; E[] appendToArray(E[] array, E item) {\r\n```\r\n\r\n\r\nThe key piece that&#39;s easy to miss: the generic type should be added to the signature, appearing just _before_ the return type. Excerpt below from\r\nthe Java Tutorial on [Generic Methods](https://docs.oracle.com/javase/tutorial/java/generics/methods.html):\r\n\r\n&gt; _Generic methods are methods that introduce their own type parameters. This is similar to declaring a generic type, but the type parameter&#39;s scope is limited to the method where it is declared. Static and non-static generic methods are allowed, as well as generic class constructors._\r\n&gt;\r\n&gt; _The syntax for a generic method includes a list of type parameters, inside angle brackets, which appears before the method&#39;s return type. For static generic methods, the type parameter section must appear before the method&#39;s return type._\r\n\r\n\r\n","title":"How to make a Java Generic method static?","body":"<blockquote>\n<p><em>How can I make appendToArray a static method?</em></p>\n</blockquote>\n<p>To make it static, you need to:</p>\n<ul>\n<li>add the <code>static</code> modifier</li>\n<li>add the generic type <code>E</code> to the method signature</li>\n</ul>\n<p>Specifically for your example, that means changing the method signature from this:</p>\n<pre><code>public E[] appendToArray(E[] array, E item) {\n</code></pre>\n<p>to this:</p>\n<pre><code>// same as above, but with &quot;static &lt;E&gt;&quot; before return type E[]\npublic static &lt;E&gt; E[] appendToArray(E[] array, E item) {\n</code></pre>\n<p>The key piece that's easy to miss: the generic type should be added to the signature, appearing just <em>before</em> the return type. Excerpt below from\nthe Java Tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/methods.html\" rel=\"nofollow noreferrer\">Generic Methods</a>:</p>\n<blockquote>\n<p><em>Generic methods are methods that introduce their own type parameters. This is similar to declaring a generic type, but the type parameter's scope is limited to the method where it is declared. Static and non-static generic methods are allowed, as well as generic class constructors.</em></p>\n<p><em>The syntax for a generic method includes a list of type parameters, inside angle brackets, which appears before the method's return type. For static generic methods, the type parameter section must appear before the method's return type.</em></p>\n</blockquote>\n"}],"owner":{"account_id":243832,"reputation":2641,"user_id":516238,"accept_rate":81,"display_name":"Chris Johnson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228397,"favorite_count":0,"down_vote_count":0,"up_vote_count":226,"accepted_answer_id":4409134,"answer_count":6,"score":226,"last_activity_date":1656872283,"creation_date":1291986346,"question_id":4409100,"body_markdown":"The following is a snippet on how to make a java generic class to append a single item to an array.  How can I make appendToArray a static method.  Adding static to the method signature results in compile errors.\r\n\r\n\r\n    public class ArrayUtils&lt;E&gt; {\r\n            \r\n            public E[] appendToArray(E[] array, E item) {\r\n                E[] result = (E[])new Object[array.length+1];\r\n                result[array.length] = item;\r\n                return result;\r\n            }\r\n    }\r\n\r\n","title":"How to make a Java Generic method static?","body":"<p>The following is a snippet on how to make a java generic class to append a single item to an array.  How can I make appendToArray a static method.  Adding static to the method signature results in compile errors.</p>\n\n<pre><code>public class ArrayUtils&lt;E&gt; {\n\n        public E[] appendToArray(E[] array, E item) {\n            E[] result = (E[])new Object[array.length+1];\n            result[array.length] = item;\n            return result;\n        }\n}\n</code></pre>\n"},{"tags":["java","eclipse","rest","tomcat"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1654688539,"post_id":72543061,"comment_id":128149581,"body_markdown":"What URL are you calling, and what in this source file makes that valid?","body":"What URL are you calling, and what in this source file makes that valid?"},{"owner":{"account_id":8300498,"reputation":1,"user_id":6562261,"display_name":"Jordan Fitzmichael Kennedy"},"score":0,"creation_date":1654718450,"post_id":72543061,"comment_id":128161478,"body_markdown":"@nitind  so, my understanding is that my base url should be:\nhttp://localhost:8080/restful-java/   Then, I add for example &quot;score&quot; to get:         http://localhost:8080/restful-java/score           OR http://localhost:8080/restful-java/score/wins","body":"@nitind  so, my understanding is that my base url should be: <a href=\"http://localhost:8080/restful-java/\" rel=\"nofollow noreferrer\">localhost:8080/restful-java</a>   Then, I add for example &quot;score&quot; to get:         <a href=\"http://localhost:8080/restful-java/score\" rel=\"nofollow noreferrer\">localhost:8080/restful-java/score</a>           OR <a href=\"http://localhost:8080/restful-java/score/wins\" rel=\"nofollow noreferrer\">localhost:8080/restful-java/score/wins</a>"},{"owner":{"account_id":8300498,"reputation":1,"user_id":6562261,"display_name":"Jordan Fitzmichael Kennedy"},"score":0,"creation_date":1654719089,"post_id":72543061,"comment_id":128161674,"body_markdown":"The address/port# pair is from my own system and the server im running, the &quot;restful-java&quot; is the name of the project.  Then, the @Path() tags add to the URL.   The tutorial I&#39;m using stated that Tomee plus was able to handle this method without any XML file.","body":"The address/port# pair is from my own system and the server im running, the &quot;restful-java&quot; is the name of the project.  Then, the @Path() tags add to the URL.   The tutorial I&#39;m using stated that Tomee plus was able to handle this method without any XML file."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1654723984,"post_id":72543061,"comment_id":128163077,"body_markdown":"Right, but what URL are you actually calling? Not an example, the one that&#39;s failing.","body":"Right, but what URL are you actually calling? Not an example, the one that&#39;s failing."},{"owner":{"account_id":8300498,"reputation":1,"user_id":6562261,"display_name":"Jordan Fitzmichael Kennedy"},"score":0,"creation_date":1654725910,"post_id":72543061,"comment_id":128163581,"body_markdown":"I have called all of  localhost:8080/restful-java/score   ,    localhost:8080/restful-java/score/wins ,  localhost:8080/restful-java/score/ties,  localhost:8080/restful-java/score/losses  .   They all fail.","body":"I have called all of  localhost:8080/restful-java/score   ,    localhost:8080/restful-java/score/wins ,  localhost:8080/restful-java/score/ties,  localhost:8080/restful-java/score/losses  .   They all fail."},{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":0,"creation_date":1655267711,"post_id":72543061,"comment_id":128289281,"body_markdown":"What does the log say?","body":"What does the log say?"}],"owner":{"account_id":8300498,"reputation":1,"user_id":6562261,"display_name":"Jordan Fitzmichael Kennedy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656872150,"creation_date":1654679658,"question_id":72543061,"body_markdown":"I am trying to make a Restful service using the below tutorial.  Because I am using Tommee plus, it was my understanding that a web.xml file was not necessary for the file pathing.  In any case, I am getting an error 404 from the tomee plus server.  \r\n\r\nI am using java jdk 1.8, Tommee plus 8.0, and javax.ws.rs-api-2.1.1.jar.  Eclipse 2022.\r\n\r\nhttps://www.theserverside.com/video/Step-by-step-RESTful-web-service-example-in-Java-using-Eclipse\r\n\r\nNone of the expected paths are working.  I&#39;m not sure why.  \r\n\r\n    package com.mcnz.restful.java.example;\r\n    import javax.ws.rs.*;\r\n    \r\n    @Path(&quot;/&quot;)\r\n    public class ScoreService {\r\n    \tpublic static int wins, losses, ties;\r\n    \r\n    \t@GET\r\n    \t@Path(&quot;/score&quot;)\r\n    \t@Produces(&quot;application/json&quot;)\r\n    \tpublic String getScore() {\r\n    \t\tString pattern = &quot;{ \\&quot;wins\\&quot;:\\&quot;%s\\&quot;, \\&quot;losses\\&quot;:\\&quot;%s\\&quot;, \\&quot;ties\\&quot;: \\&quot;%s\\&quot;}&quot;;\r\n    \t\treturn String.format(pattern,  wins, losses, ties);\r\n    \t}\r\n    \t\r\n    \t//localhost:8080/restful-java/score?wins=2%losses=3@ties=15\r\n    \t\r\n    \t@PUT\r\n    \t@Path(&quot;/score&quot;)\r\n    \t@Produces(&quot;application/json&quot;)\r\n    \tpublic String updateScore(\t@QueryParam(&quot;wins&quot;) \tint wins, \r\n    \t\t\t\t\t\t\t\t@QueryParam(&quot;losses&quot;) \tint losses, \r\n    \t\t\t\t\t\t\t\t@QueryParam(&quot;ties&quot;) \tint ties) {\r\n    \t\tScoreService.wins = wins;\r\n    \t\tScoreService.losses = losses;\r\n    \t\tScoreService.ties = ties;\r\n    \t\tString pattern = &quot;{ \\&quot;wins\\&quot;:\\&quot;%s\\&quot;, \\&quot;losses\\&quot;:\\&quot;%s\\&quot;, \\&quot;ties\\&quot;: \\&quot;%s\\&quot;}&quot;;\r\n    \t\treturn String.format(pattern,  wins, losses, ties);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@POST @Path(&quot;/score/wins&quot;)@Produces(&quot;application/plain&quot;)\r\n    \tpublic int increaseWins() {\r\n    \t\treturn ++wins;\r\n    \t}\r\n    \t@POST @Path(&quot;/score/ties&quot;)@Produces(&quot;application/plain&quot;)\r\n    \tpublic int increaseTies() {\r\n    \t\treturn ++ties;\r\n    \t}\r\n    \t@POST @Path(&quot;/score/losses&quot;)@Produces(&quot;application/plain&quot;)\r\n    \tpublic int increaseLosses() {\r\n    \t\treturn ++losses;\r\n    \t}\r\n    \t@GET @Path(&quot;/score/wins&quot;)@Produces(&quot;application/plain&quot;)\r\n    \tpublic int getWins() {\r\n    \t\treturn wins;\r\n    \t}\r\n    \t@GET @Path(&quot;/score/losses&quot;)@Produces(&quot;application/plain&quot;)\r\n    \tpublic int getLosses() {\r\n    \t\treturn losses;\r\n    \t}\r\n    \t@GET @Path(&quot;/score/ties&quot;)@Produces(&quot;application/plain&quot;)\r\n    \tpublic int getTies() {\r\n    \t\treturn ties;\r\n    \t}\r\n    \t\r\n    }","title":"Attempting to do a Restful Service using Java Eclipse. I am getting an Error 404","body":"<p>I am trying to make a Restful service using the below tutorial.  Because I am using Tommee plus, it was my understanding that a web.xml file was not necessary for the file pathing.  In any case, I am getting an error 404 from the tomee plus server.</p>\n<p>I am using java jdk 1.8, Tommee plus 8.0, and javax.ws.rs-api-2.1.1.jar.  Eclipse 2022.</p>\n<p><a href=\"https://www.theserverside.com/video/Step-by-step-RESTful-web-service-example-in-Java-using-Eclipse\" rel=\"nofollow noreferrer\">https://www.theserverside.com/video/Step-by-step-RESTful-web-service-example-in-Java-using-Eclipse</a></p>\n<p>None of the expected paths are working.  I'm not sure why.</p>\n<pre><code>package com.mcnz.restful.java.example;\nimport javax.ws.rs.*;\n\n@Path(&quot;/&quot;)\npublic class ScoreService {\n    public static int wins, losses, ties;\n\n    @GET\n    @Path(&quot;/score&quot;)\n    @Produces(&quot;application/json&quot;)\n    public String getScore() {\n        String pattern = &quot;{ \\&quot;wins\\&quot;:\\&quot;%s\\&quot;, \\&quot;losses\\&quot;:\\&quot;%s\\&quot;, \\&quot;ties\\&quot;: \\&quot;%s\\&quot;}&quot;;\n        return String.format(pattern,  wins, losses, ties);\n    }\n    \n    //localhost:8080/restful-java/score?wins=2%losses=3@ties=15\n    \n    @PUT\n    @Path(&quot;/score&quot;)\n    @Produces(&quot;application/json&quot;)\n    public String updateScore(  @QueryParam(&quot;wins&quot;)     int wins, \n                                @QueryParam(&quot;losses&quot;)   int losses, \n                                @QueryParam(&quot;ties&quot;)     int ties) {\n        ScoreService.wins = wins;\n        ScoreService.losses = losses;\n        ScoreService.ties = ties;\n        String pattern = &quot;{ \\&quot;wins\\&quot;:\\&quot;%s\\&quot;, \\&quot;losses\\&quot;:\\&quot;%s\\&quot;, \\&quot;ties\\&quot;: \\&quot;%s\\&quot;}&quot;;\n        return String.format(pattern,  wins, losses, ties);\n        \n    }\n    \n    @POST @Path(&quot;/score/wins&quot;)@Produces(&quot;application/plain&quot;)\n    public int increaseWins() {\n        return ++wins;\n    }\n    @POST @Path(&quot;/score/ties&quot;)@Produces(&quot;application/plain&quot;)\n    public int increaseTies() {\n        return ++ties;\n    }\n    @POST @Path(&quot;/score/losses&quot;)@Produces(&quot;application/plain&quot;)\n    public int increaseLosses() {\n        return ++losses;\n    }\n    @GET @Path(&quot;/score/wins&quot;)@Produces(&quot;application/plain&quot;)\n    public int getWins() {\n        return wins;\n    }\n    @GET @Path(&quot;/score/losses&quot;)@Produces(&quot;application/plain&quot;)\n    public int getLosses() {\n        return losses;\n    }\n    @GET @Path(&quot;/score/ties&quot;)@Produces(&quot;application/plain&quot;)\n    public int getTies() {\n        return ties;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":2,"creation_date":1656872442,"post_id":72848886,"comment_id":128671857,"body_markdown":"I&#39;d expect the significant size to come from the JRE being bundled. You don&#39;t have that when you rely on the existing local JRE to be used. Thus you load less resources through the network. Now: _If_ the network is your problem needs to be measured, not guessed. But if it is, there might be only little tweaks without much effect, as I doubt that you can shrink the size.","body":"I&#39;d expect the significant size to come from the JRE being bundled. You don&#39;t have that when you rely on the existing local JRE to be used. Thus you load less resources through the network. Now: <i>If</i> the network is your problem needs to be measured, not guessed. But if it is, there might be only little tweaks without much effect, as I doubt that you can shrink the size."},{"owner":{"account_id":22113988,"reputation":21,"user_id":16368406,"display_name":"Peter"},"score":0,"creation_date":1656873382,"post_id":72848886,"comment_id":128672067,"body_markdown":"Hi,The JRE is not in the exe file but rather in a directory outside the classpath, so the size defenitely comes from the libs, cuz when I exclude one or two the exe file shrinks significantly. There are similar java apps (not mine), loading from the network that load fast, so the problem is within me.","body":"Hi,The JRE is not in the exe file but rather in a directory outside the classpath, so the size defenitely comes from the libs, cuz when I exclude one or two the exe file shrinks significantly. There are similar java apps (not mine), loading from the network that load fast, so the problem is within me."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656873898,"post_id":72848886,"comment_id":128672176,"body_markdown":"If you&#39;re using a recent enough version of Java, you could see if [`jpackage`](https://docs.oracle.com/en/java/javase/18/jpackage/packaging-overview.html) gives you better results. Or you could try to make a [native image using GraalVM](https://www.graalvm.org/22.1/reference-manual/native-image/).","body":"If you&#39;re using a recent enough version of Java, you could see if <a href=\"https://docs.oracle.com/en/java/javase/18/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\"><code>jpackage</code></a> gives you better results. Or you could try to make a <a href=\"https://www.graalvm.org/22.1/reference-manual/native-image/\" rel=\"nofollow noreferrer\">native image using GraalVM</a>."},{"owner":{"account_id":22113988,"reputation":21,"user_id":16368406,"display_name":"Peter"},"score":0,"creation_date":1656874026,"post_id":72848886,"comment_id":128672197,"body_markdown":"My mistake, I&#39;m sorry. It&#39;s not embedded it&#39;s bundled. Thanks for the advices I&#39;m going to try them ASAP.","body":"My mistake, I&#39;m sorry. It&#39;s not embedded it&#39;s bundled. Thanks for the advices I&#39;m going to try them ASAP."}],"owner":{"account_id":22113988,"reputation":21,"user_id":16368406,"display_name":"Peter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656872138,"creation_date":1656872138,"question_id":72848886,"body_markdown":"For a few weeks now I&#39;m bashing my head around how to minimize my wrapped java program and make it load and run faster an more reliable. I&#39;m writing a GUI app which iteracts with files and SQL database. Tipically the app is loaded from a network share. When loading the apps JAR it&#39;s all instantaneous - no lagging of any sort and the app load time is pretty short. \r\nHowever when I load the wrapped app (using Launch4j - with embedded JRE - so the PC from which the app is running does not need java installed), the app loads slower. It&#39;s around 5 to 10 seconds to load the first screen. \r\nI think that has something to do with the fact that it has to run javaw from the apps JRE path and then through java load  the app. Hense my first question...\r\n\r\nIs there a better way to make a java app executable, but not a JAR so the PCs that run the app will not require Java installed.\r\nAlso I&#39;ve noticed that the .exe file is pretty big (around 79MB) and based on what java apps I&#39;ve seen there should be a way to minimize that. My other theory is that when I load the app from a network share the size of the .exe file cause the delay in loading. I guess I&#39;m right because when I run the app locally in loads faster. \r\nThe significant size comes from the jar libraries within the class path, so my second question is born: \r\n\r\nWhat would be the correct way to remove or exclude the parts of a JAR library, that I don&#39;t need. Maybe here I must say that I&#39;m using IntelliJ. I&#39;m not using Maven or Jenkins or any other build tool for that matter.\r\n\r\nI&#39;m looking forward to learn the stuff that has been bothering me lately. :D \r\nThanks in advance to anyone willing to help.","title":"Java app - slow run and oversized .exe file","body":"<p>For a few weeks now I'm bashing my head around how to minimize my wrapped java program and make it load and run faster an more reliable. I'm writing a GUI app which iteracts with files and SQL database. Tipically the app is loaded from a network share. When loading the apps JAR it's all instantaneous - no lagging of any sort and the app load time is pretty short.\nHowever when I load the wrapped app (using Launch4j - with embedded JRE - so the PC from which the app is running does not need java installed), the app loads slower. It's around 5 to 10 seconds to load the first screen.\nI think that has something to do with the fact that it has to run javaw from the apps JRE path and then through java load  the app. Hense my first question...</p>\n<p>Is there a better way to make a java app executable, but not a JAR so the PCs that run the app will not require Java installed.\nAlso I've noticed that the .exe file is pretty big (around 79MB) and based on what java apps I've seen there should be a way to minimize that. My other theory is that when I load the app from a network share the size of the .exe file cause the delay in loading. I guess I'm right because when I run the app locally in loads faster.\nThe significant size comes from the jar libraries within the class path, so my second question is born:</p>\n<p>What would be the correct way to remove or exclude the parts of a JAR library, that I don't need. Maybe here I must say that I'm using IntelliJ. I'm not using Maven or Jenkins or any other build tool for that matter.</p>\n<p>I'm looking forward to learn the stuff that has been bothering me lately. :D\nThanks in advance to anyone willing to help.</p>\n"},{"tags":["java","android","system","root","setalarmclock"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1656516571,"post_id":72804046,"comment_id":128593605,"body_markdown":"Does this answer your question? [Schedule Turn on/off android device programmatically on specific times](https://stackoverflow.com/questions/64884965/schedule-turn-on-off-android-device-programmatically-on-specific-times)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64884965/schedule-turn-on-off-android-device-programmatically-on-specific-times\">Schedule Turn on/off android device programmatically on specific times</a>"},{"owner":{"account_id":20870260,"reputation":31,"user_id":15330391,"display_name":"Evgeny"},"score":0,"creation_date":1656517441,"post_id":72804046,"comment_id":128593974,"body_markdown":"No, there is no solution.","body":"No, there is no solution."}],"answers":[{"tags":[],"owner":{"display_name":"user19309143"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656548019,"creation_date":1656534904,"answer_id":72807561,"question_id":72804046,"body_markdown":"@PM77-1 did answer your question. In AOSP, there is no API that will turn on the phone (from an off state) at a given time. However, *some* phones do support this functionality but its implementation is dependent on the phone. In general, there is no way to turn a phone on from the off state (regardless of root privileges and system permission). That being said, there is a way to reboot a phone. &lt;s&gt;but funnily enough there is no way to programmatically power a phone down.&lt;/s&gt; (OP has root, this doesn&#39;t apply) ","title":"How to programmatically turn on (Power-On) the android device at a certain time?","body":"<p>@PM77-1 did answer your question. In AOSP, there is no API that will turn on the phone (from an off state) at a given time. However, <em>some</em> phones do support this functionality but its implementation is dependent on the phone. In general, there is no way to turn a phone on from the off state (regardless of root privileges and system permission). That being said, there is a way to reboot a phone. <s>but funnily enough there is no way to programmatically power a phone down.</s> (OP has root, this doesn't apply)</p>\n"},{"tags":[],"owner":{"account_id":20870260,"reputation":31,"user_id":15330391,"display_name":"Evgeny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656871449,"creation_date":1656871449,"answer_id":72848817,"question_id":72804046,"body_markdown":"Here is a solution(tested on Lenovo A516, API LEVEL 17, but it should work similar for other devices with **&quot;Scheduled power On/Off feature&quot;** like described [here][1]):\r\n\r\n**Uninstall /system/app/SchedulePowerOnOff.apk**\r\n\r\nCompile and install this code\r\n\r\n\r\nenableAlertPowerOn(...) is the function where the magic happens:\r\n\r\n    private static void enableAlertPowerOn(Context context, long atTimeInMillis){\r\n       AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n       Intent intent = new Intent(context, SchPwrOnReceiver.class);\r\n       PendingIntent sender = PendingIntent.getBroadcast(context, 0, intent, PendingIntent.FLAG_CANCEL_CURRENT);\r\n       am.set(7, atTimeInMillis, sender);\r\n    }\r\n\r\nSchPwrOnReceiver.java:\r\n\r\n    package com.mediatek.schpwronoff.receivers;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    public class SchPwrOnReceiver extends BroadcastReceiver {\r\n        private static final int STALE_WINDOW = 1800;\r\n        private static final String TAG = &quot;SchPwrOnReceiver&quot;;\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            //TODO optional\r\n        }\r\n    }\r\n\r\nbuild.gradle(:app), **applicationId has to be &quot;com.mediatek.schpwronoff&quot;**:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n      compileSdkVersion 29\r\n      defaultConfig {\r\n        applicationId &quot;com.mediatek.schpwronoff&quot;\r\n        minSdkVersion 17\r\n        targetSdkVersion 29\r\n        versionCode 17\r\n        versionName &quot;4.2.2&quot;\r\n      }\r\n      buildTypes {\r\n        release {\r\n          minifyEnabled false\r\n          proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n      }\r\n    }\r\n    \r\n    dependencies {\r\n      implementation &#39;com.android.support:support-compat:28.0.0&#39;\r\n    }\r\n\r\nAndroidManifest.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:versionCode=&quot;17&quot; android:versionName=&quot;4.2.2&quot; package=&quot;com.mediatek.schpwronoff&quot;&gt;   \r\n    \r\n    &lt;application\r\n        android:name=&quot;.MYApplication&quot;\r\n        android:allowBackup=&quot;false&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;\r\n           android:launchMode=&quot;singleTop&quot;&gt;\r\n           &lt;intent-filter&gt;\r\n             &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n             &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n           &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n               &lt;receiver android:name=&quot;.receivers.SchPwrOnReceiver&quot;&gt;\r\n                 &lt;intent-filter&gt;\r\n                     &lt;action android:name=&quot;com.android.settings.schpwronoff.PWR_ON_ALERT&quot;/&gt;\r\n                 &lt;/intent-filter&gt;\r\n              &lt;/receiver&gt;      \r\n      &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nExample how to call **enableAlertPowerOn(Context context, long atTimeInMillis)** from Activity:\r\n\r\n      @Override\r\n      public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n            showDateTimePickerPowerOn(this);\r\n      }\r\n\r\n\r\n\r\n    public void showDateTimePickerPowerOn(Context context) {\r\n              final Calendar currentDate = Calendar.getInstance();\r\n              date = Calendar.getInstance();\r\n              new DatePickerDialog(context, new DatePickerDialog.OnDateSetListener() {\r\n                  @Override\r\n                  public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\r\n                      date.set(year, monthOfYear, dayOfMonth);\r\n                      new TimePickerDialog(context, new TimePickerDialog.OnTimeSetListener() {\r\n                          @Override\r\n                          public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\r\n                              date.set(Calendar.HOUR_OF_DAY, hourOfDay);\r\n                              date.set(Calendar.MINUTE, minute);\r\n                              date.set(Calendar.SECOND, 0);                             \r\n    \r\n                              long cTimeInMillis = date.getTimeInMillis();\r\n                              enableAlertPowerOn(context, cTimeInMillis);\r\n                          }\r\n                      }, currentDate.get(Calendar.HOUR_OF_DAY), currentDate.get(Calendar.MINUTE), true).show();\r\n                  }\r\n              }, currentDate.get(Calendar.YEAR), currentDate.get(Calendar.MONTH), currentDate.get(Calendar.DATE)).show();\r\n    }\r\n\r\n\r\n  [1]: https://nextstart.online/2017/03/09/android_autopower_on_off/","title":"How to programmatically turn on (Power-On) the android device at a certain time?","body":"<p>Here is a solution(tested on Lenovo A516, API LEVEL 17, but it should work similar for other devices with <strong>&quot;Scheduled power On/Off feature&quot;</strong> like described <a href=\"https://nextstart.online/2017/03/09/android_autopower_on_off/\" rel=\"nofollow noreferrer\">here</a>):</p>\n<p><strong>Uninstall /system/app/SchedulePowerOnOff.apk</strong></p>\n<p>Compile and install this code</p>\n<p>enableAlertPowerOn(...) is the function where the magic happens:</p>\n<pre><code>private static void enableAlertPowerOn(Context context, long atTimeInMillis){\n   AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n   Intent intent = new Intent(context, SchPwrOnReceiver.class);\n   PendingIntent sender = PendingIntent.getBroadcast(context, 0, intent, PendingIntent.FLAG_CANCEL_CURRENT);\n   am.set(7, atTimeInMillis, sender);\n}\n</code></pre>\n<p>SchPwrOnReceiver.java:</p>\n<pre><code>package com.mediatek.schpwronoff.receivers;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\npublic class SchPwrOnReceiver extends BroadcastReceiver {\n    private static final int STALE_WINDOW = 1800;\n    private static final String TAG = &quot;SchPwrOnReceiver&quot;;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        //TODO optional\n    }\n}\n</code></pre>\n<p>build.gradle(:app), <strong>applicationId has to be &quot;com.mediatek.schpwronoff&quot;</strong>:</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n  compileSdkVersion 29\n  defaultConfig {\n    applicationId &quot;com.mediatek.schpwronoff&quot;\n    minSdkVersion 17\n    targetSdkVersion 29\n    versionCode 17\n    versionName &quot;4.2.2&quot;\n  }\n  buildTypes {\n    release {\n      minifyEnabled false\n      proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n  }\n}\n\ndependencies {\n  implementation 'com.android.support:support-compat:28.0.0'\n}\n</code></pre>\n<p>AndroidManifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:versionCode=&quot;17&quot; android:versionName=&quot;4.2.2&quot; package=&quot;com.mediatek.schpwronoff&quot;&gt;   \n\n&lt;application\n    android:name=&quot;.MYApplication&quot;\n    android:allowBackup=&quot;false&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme&quot;&gt;\n    &lt;activity android:name=&quot;.MainActivity&quot;\n       android:launchMode=&quot;singleTop&quot;&gt;\n       &lt;intent-filter&gt;\n         &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n         &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n       &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n           &lt;receiver android:name=&quot;.receivers.SchPwrOnReceiver&quot;&gt;\n             &lt;intent-filter&gt;\n                 &lt;action android:name=&quot;com.android.settings.schpwronoff.PWR_ON_ALERT&quot;/&gt;\n             &lt;/intent-filter&gt;\n          &lt;/receiver&gt;      \n  &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Example how to call <strong>enableAlertPowerOn(Context context, long atTimeInMillis)</strong> from Activity:</p>\n<pre><code>  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n        showDateTimePickerPowerOn(this);\n  }\n\n\n\npublic void showDateTimePickerPowerOn(Context context) {\n          final Calendar currentDate = Calendar.getInstance();\n          date = Calendar.getInstance();\n          new DatePickerDialog(context, new DatePickerDialog.OnDateSetListener() {\n              @Override\n              public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\n                  date.set(year, monthOfYear, dayOfMonth);\n                  new TimePickerDialog(context, new TimePickerDialog.OnTimeSetListener() {\n                      @Override\n                      public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n                          date.set(Calendar.HOUR_OF_DAY, hourOfDay);\n                          date.set(Calendar.MINUTE, minute);\n                          date.set(Calendar.SECOND, 0);                             \n\n                          long cTimeInMillis = date.getTimeInMillis();\n                          enableAlertPowerOn(context, cTimeInMillis);\n                      }\n                  }, currentDate.get(Calendar.HOUR_OF_DAY), currentDate.get(Calendar.MINUTE), true).show();\n              }\n          }, currentDate.get(Calendar.YEAR), currentDate.get(Calendar.MONTH), currentDate.get(Calendar.DATE)).show();\n}\n</code></pre>\n"}],"owner":{"account_id":20870260,"reputation":31,"user_id":15330391,"display_name":"Evgeny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72848817,"answer_count":2,"score":2,"last_activity_date":1656871449,"creation_date":1656516416,"question_id":72804046,"body_markdown":"How to implement it in Android Studio(API LEVEL &gt;= 17) in my App(System-App + rooted device)?\r\n\r\nI know it is possible because my phone(Lenovo A516) and some others have this feature\r\n ---&gt;&gt;&gt;[Screenshot][1]&lt;&lt;&lt;---\r\n\r\n..need some ideas to start with.. \r\nCan i use [AlarmClock][2] for this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4z9mQ.png\r\n  [2]: https://developer.android.com/reference/android/provider/AlarmClock","title":"How to programmatically turn on (Power-On) the android device at a certain time?","body":"<p>How to implement it in Android Studio(API LEVEL &gt;= 17) in my App(System-App + rooted device)?</p>\n<p>I know it is possible because my phone(Lenovo A516) and some others have this feature\n---&gt;&gt;&gt;<a href=\"https://i.stack.imgur.com/4z9mQ.png\" rel=\"nofollow noreferrer\">Screenshot</a>&lt;&lt;&lt;---</p>\n<p>..need some ideas to start with..\nCan i use <a href=\"https://developer.android.com/reference/android/provider/AlarmClock\" rel=\"nofollow noreferrer\">AlarmClock</a> for this?</p>\n"},{"tags":["java","string","list","arraylist","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1656737066,"post_id":72833312,"comment_id":128650135,"body_markdown":"Need response to see what&#39;s wrong with your code.","body":"Need response to see what&#39;s wrong with your code."},{"owner":{"account_id":25702942,"reputation":1,"user_id":19462734,"display_name":"Halycon"},"score":0,"creation_date":1656788548,"post_id":72833312,"comment_id":128659030,"body_markdown":"@lucas-nguyen-17 ok, I have attached the Json Response. Please check.","body":"@lucas-nguyen-17 ok, I have attached the Json Response. Please check."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1656820688,"post_id":72833312,"comment_id":128662867,"body_markdown":"What exactly data do you want to extract? Is it `country`?","body":"What exactly data do you want to extract? Is it <code>country</code>?"},{"owner":{"account_id":25702942,"reputation":1,"user_id":19462734,"display_name":"Halycon"},"score":0,"creation_date":1656835955,"post_id":72833312,"comment_id":128664533,"body_markdown":"yes it&#39;s country","body":"yes it&#39;s country"}],"answers":[{"tags":[],"owner":{"account_id":7861158,"reputation":15,"user_id":12159217,"display_name":"basit9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656704932,"creation_date":1656704932,"answer_id":72834029,"question_id":72833312,"body_markdown":"Why don&#39;t you split the `json` and store the response in the `ArrayList&lt;String&gt;`\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.stream(response.split(&quot;,&quot;)).collect(Collectors.toList()));\r\n\r\nYou can split it either by comma or any other String/Char","title":"What is the correct way to store all the dynamic Json response strings to a list in restassured java?","body":"<p>Why don't you split the <code>json</code> and store the response in the <code>ArrayList&lt;String&gt;</code></p>\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.stream(response.split(&quot;,&quot;)).collect(Collectors.toList()));\n</code></pre>\n<p>You can split it either by comma or any other String/Char</p>\n"},{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656847066,"creation_date":1656847066,"answer_id":72846030,"question_id":72833312,"body_markdown":"The easiest way to extract `country` here is:\r\n\r\n```\r\nArrayList&lt;String&gt; country = getInfoResp.jsonPath().get(&quot;Map.List.country&quot;);\r\n//[us, aus, rus, spa, cha]\r\n```","title":"What is the correct way to store all the dynamic Json response strings to a list in restassured java?","body":"<p>The easiest way to extract <code>country</code> here is:</p>\n<pre><code>ArrayList&lt;String&gt; country = getInfoResp.jsonPath().get(&quot;Map.List.country&quot;);\n//[us, aus, rus, spa, cha]\n</code></pre>\n"}],"owner":{"account_id":25702942,"reputation":1,"user_id":19462734,"display_name":"Halycon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656870636,"creation_date":1656699996,"question_id":72833312,"body_markdown":"    public void getresponseString() {\r\n        for (int i = 0; i &lt; getInfoResp.jsonPath().getInt(&quot;Map.List.size()&quot;); i++) {\r\n            ArrayList&lt;String&gt; country = getInfoResp.jsonPath().get(&quot;Map.List[&quot; + i + &quot;]&quot; + &quot;.country&quot;);\r\n        }\r\n    }\r\n\r\n\r\nJsonResponse:\r\n\r\n    {\r\n    &quot;plan&quot;: {\r\n        &quot;program&quot;: &quot;gtr&quot;,\r\n        &quot;syter&quot;: &quot;yes&quot;\r\n    },\r\n    \r\n        &quot;Map&quot;: {\r\n            &quot;List&quot;: [\r\n                {\r\n                    &quot;id&quot;: &quot;tyt6577&quot;,\r\n                    &quot;proxy&quot;: &quot;ENABLED&quot;,\r\n                    &quot;type&quot;: &quot;BENEFIT&quot;,\r\n                    &quot;country&quot;: &quot;us&quot;,\r\n                    &quot;triag&quot;: null\r\n                },\r\n                {\r\n                    &quot;id&quot;: &quot;yyaqtf6327&quot;,\r\n                    &quot;proxy&quot;: &quot;ENABLED&quot;,\r\n                    &quot;type&quot;: &quot;BENEFIT&quot;,\r\n                    &quot;country&quot;: &quot;aus&quot;,\r\n                    &quot;triag&quot;: null\r\n                },\r\n                {\r\n                    &quot;id&quot;: &quot;676hwjsgvhgv&quot;,\r\n                    &quot;proxy&quot;: &quot;ENABLED&quot;,\r\n                    &quot;type&quot;: &quot;BENEFIT&quot;,\r\n                    &quot;country&quot;: &quot;rus&quot;,\r\n                    &quot;triag&quot;: null\r\n                },\r\n               {\r\n                    &quot;id&quot;: &quot;676hsdhgv&quot;,\r\n                    &quot;proxy&quot;: &quot;ENABLED&quot;,\r\n                    &quot;type&quot;: &quot;BENEFIT&quot;,\r\n                    &quot;country&quot;: &quot;spa&quot;,\r\n                    &quot;triag&quot;: null\r\n                },\r\n               {\r\n                    &quot;id&quot;: &quot;623ujhhgv&quot;,\r\n                    &quot;proxy&quot;: &quot;ENABLED&quot;,\r\n                    &quot;type&quot;: &quot;BENEFIT&quot;,\r\n                    &quot;country&quot;: &quot;cha&quot;,\r\n                    &quot;triag&quot;: null\r\n                }\r\n               \r\n            ]\r\n        }\r\n    \r\n}\r\n\r\n\r\nIn the above method, I try to store all the strings of Jsonresponse in List but I got this error finally &quot;**java.lang.String cannot be cast to java.util.ArrayList**&quot;  \r\nWhat is the correct way to store all the dynamic strings to list?","title":"What is the correct way to store all the dynamic Json response strings to a list in restassured java?","body":"<pre><code>public void getresponseString() {\n    for (int i = 0; i &lt; getInfoResp.jsonPath().getInt(&quot;Map.List.size()&quot;); i++) {\n        ArrayList&lt;String&gt; country = getInfoResp.jsonPath().get(&quot;Map.List[&quot; + i + &quot;]&quot; + &quot;.country&quot;);\n    }\n}\n</code></pre>\n<p>JsonResponse:</p>\n<pre><code>{\n&quot;plan&quot;: {\n    &quot;program&quot;: &quot;gtr&quot;,\n    &quot;syter&quot;: &quot;yes&quot;\n},\n\n    &quot;Map&quot;: {\n        &quot;List&quot;: [\n            {\n                &quot;id&quot;: &quot;tyt6577&quot;,\n                &quot;proxy&quot;: &quot;ENABLED&quot;,\n                &quot;type&quot;: &quot;BENEFIT&quot;,\n                &quot;country&quot;: &quot;us&quot;,\n                &quot;triag&quot;: null\n            },\n            {\n                &quot;id&quot;: &quot;yyaqtf6327&quot;,\n                &quot;proxy&quot;: &quot;ENABLED&quot;,\n                &quot;type&quot;: &quot;BENEFIT&quot;,\n                &quot;country&quot;: &quot;aus&quot;,\n                &quot;triag&quot;: null\n            },\n            {\n                &quot;id&quot;: &quot;676hwjsgvhgv&quot;,\n                &quot;proxy&quot;: &quot;ENABLED&quot;,\n                &quot;type&quot;: &quot;BENEFIT&quot;,\n                &quot;country&quot;: &quot;rus&quot;,\n                &quot;triag&quot;: null\n            },\n           {\n                &quot;id&quot;: &quot;676hsdhgv&quot;,\n                &quot;proxy&quot;: &quot;ENABLED&quot;,\n                &quot;type&quot;: &quot;BENEFIT&quot;,\n                &quot;country&quot;: &quot;spa&quot;,\n                &quot;triag&quot;: null\n            },\n           {\n                &quot;id&quot;: &quot;623ujhhgv&quot;,\n                &quot;proxy&quot;: &quot;ENABLED&quot;,\n                &quot;type&quot;: &quot;BENEFIT&quot;,\n                &quot;country&quot;: &quot;cha&quot;,\n                &quot;triag&quot;: null\n            }\n           \n        ]\n    }\n</code></pre>\n<p>}</p>\n<p>In the above method, I try to store all the strings of Jsonresponse in List but I got this error finally &quot;<strong>java.lang.String cannot be cast to java.util.ArrayList</strong>&quot;<br />\nWhat is the correct way to store all the dynamic strings to list?</p>\n"},{"tags":["java","camunda","camunda-modeler"],"comments":[{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":0,"creation_date":1643065327,"post_id":70839182,"comment_id":125236973,"body_markdown":"Why haven&#39;t you [***accepted***](https://meta.stackexchange.com/q/5234/234215) any answers from your past questions?  You should do so before asking new questions.","body":"Why haven&#39;t you <a href=\"https://meta.stackexchange.com/q/5234/234215\"><b><i>accepted</i></b></a> any answers from your past questions?  You should do so before asking new questions."}],"answers":[{"tags":[],"owner":{"account_id":2486854,"reputation":5426,"user_id":2165134,"display_name":"Zelldon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643226662,"creation_date":1643226662,"answer_id":70869413,"question_id":70839182,"body_markdown":"This is not how it works. Please follow the Camunda Docs example https://docs.camunda.org/get-started/java-process-app/service-task/ \r\n\r\nYour class need to implement the Interface `org.camunda.bpm.engine.delegate.JavaDelegate`, see this example https://docs.camunda.org/get-started/java-process-app/service-task/#add-a-javadelegate-implementation\r\n\r\n```\r\npackage org.camunda.bpm.getstarted.loanapproval;\r\n\r\nimport java.util.logging.Logger;\r\nimport org.camunda.bpm.engine.delegate.DelegateExecution;\r\nimport org.camunda.bpm.engine.delegate.JavaDelegate;\r\n\r\npublic class ProcessRequestDelegate implements JavaDelegate {\r\n\r\n  private final static Logger LOGGER = Logger.getLogger(&quot;LOAN-REQUESTS&quot;);\r\n\r\n  public void execute(DelegateExecution execution) throws Exception {\r\n    LOGGER.info(&quot;Processing request by &#39;&quot; + execution.getVariable(&quot;customerId&quot;) + &quot;&#39;...&quot;);\r\n  }\r\n\r\n}\r\n```\r\n\r\nFurthermore as you can read in the docs:\r\n\r\n&gt; You need to provide the fully qualified classname of your class in the Java Class property field. In our case this is org.camunda.bpm.getstarted.loanapproval.ProcessRequestDelegate.\r\n\r\nYou need to specify the fully qualified name in the process model. Additionally your delegate needs to be accessible by the engine, for example via a shared engine in an application server.\r\n\r\nI suggest you to also check out the best practices about invoking services from the process https://camunda.com/best-practices/invoking-services-from-the-process/","title":"How to implement a Java Class into a Service Task (Camunda)","body":"<p>This is not how it works. Please follow the Camunda Docs example <a href=\"https://docs.camunda.org/get-started/java-process-app/service-task/\" rel=\"nofollow noreferrer\">https://docs.camunda.org/get-started/java-process-app/service-task/</a></p>\n<p>Your class need to implement the Interface <code>org.camunda.bpm.engine.delegate.JavaDelegate</code>, see this example <a href=\"https://docs.camunda.org/get-started/java-process-app/service-task/#add-a-javadelegate-implementation\" rel=\"nofollow noreferrer\">https://docs.camunda.org/get-started/java-process-app/service-task/#add-a-javadelegate-implementation</a></p>\n<pre><code>package org.camunda.bpm.getstarted.loanapproval;\n\nimport java.util.logging.Logger;\nimport org.camunda.bpm.engine.delegate.DelegateExecution;\nimport org.camunda.bpm.engine.delegate.JavaDelegate;\n\npublic class ProcessRequestDelegate implements JavaDelegate {\n\n  private final static Logger LOGGER = Logger.getLogger(&quot;LOAN-REQUESTS&quot;);\n\n  public void execute(DelegateExecution execution) throws Exception {\n    LOGGER.info(&quot;Processing request by '&quot; + execution.getVariable(&quot;customerId&quot;) + &quot;'...&quot;);\n  }\n\n}\n</code></pre>\n<p>Furthermore as you can read in the docs:</p>\n<blockquote>\n<p>You need to provide the fully qualified classname of your class in the Java Class property field. In our case this is org.camunda.bpm.getstarted.loanapproval.ProcessRequestDelegate.</p>\n</blockquote>\n<p>You need to specify the fully qualified name in the process model. Additionally your delegate needs to be accessible by the engine, for example via a shared engine in an application server.</p>\n<p>I suggest you to also check out the best practices about invoking services from the process <a href=\"https://camunda.com/best-practices/invoking-services-from-the-process/\" rel=\"nofollow noreferrer\">https://camunda.com/best-practices/invoking-services-from-the-process/</a></p>\n"},{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643364969,"creation_date":1643364969,"answer_id":70892048,"question_id":70839182,"body_markdown":"Zelldon&#39;s anwers is correct. In addition, I would encourage you not to use the inflexible implementation type Java class, but to either \r\n - switch to a Spring bean (example here: https://github.com/camunda-consulting/code/tree/master/snippets/rest-service-task-spring)\r\n - decouple your integration code from the engine by using the external worker approach. Here is an example, which fits your email use case: https://github.com/rob2universe/email-task-worker\r\n\r\n","title":"How to implement a Java Class into a Service Task (Camunda)","body":"<p>Zelldon's anwers is correct. In addition, I would encourage you not to use the inflexible implementation type Java class, but to either</p>\n<ul>\n<li>switch to a Spring bean (example here: <a href=\"https://github.com/camunda-consulting/code/tree/master/snippets/rest-service-task-spring\" rel=\"nofollow noreferrer\">https://github.com/camunda-consulting/code/tree/master/snippets/rest-service-task-spring</a>)</li>\n<li>decouple your integration code from the engine by using the external worker approach. Here is an example, which fits your email use case: <a href=\"https://github.com/rob2universe/email-task-worker\" rel=\"nofollow noreferrer\">https://github.com/rob2universe/email-task-worker</a></li>\n</ul>\n"}],"owner":{"account_id":17173263,"reputation":31,"user_id":12429948,"display_name":"sstudent"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656870037,"creation_date":1643051235,"question_id":70839182,"body_markdown":"I am trying to implement a Java Class into my Service task but I am getting the following error in Camunda: ‚ÄúCannot submit task form 943fe63b-7d3f-11ec-9632-70665515d97d: ENGINE-09008 Exception while instantiating class(‚Ä¶)‚Äù. It basically says that it can not load my Java class. Where is the error?\r\n\r\n        import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    import java.util.*;\r\n    \r\n    \r\n    \r\n    public class SendEmail {\r\n    \tfinal String senderEmail = &quot;random@gmail.com&quot;; //change email address\r\n    \tfinal String senderPassword = &quot;random&quot;;\t//change password\r\n    \tfinal String emailSMTPserver = &quot;smtp.gmail.com&quot;;\r\n    \tfinal String emailServerPort = &quot;465&quot;;\r\n    \tString receiverEmail = null;\r\n    \tstatic String emailSubject;\r\n    \tstatic String emailBody;\r\n       public SendEmail(String receiverEmail, String subject, String body) {\r\n    \t   //receiver email\r\n    \t   this.receiverEmail = receiverEmail;\r\n    \t   //subject\r\n    \t   this.emailSubject = subject;\r\n    \t   //body\r\n    \t   this.emailBody = body;\r\n    \t   \r\n    \t   Properties props = new Properties();\r\n           props.put(&quot;mail.smtp.user&quot;,senderEmail);\r\n           props.put(&quot;mail.smtp.host&quot;, emailSMTPserver);\r\n           props.put(&quot;mail.smtp.port&quot;, emailServerPort);\r\n           props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n           props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n           props.put(&quot;mail.smtp.socketFactory.port&quot;, emailServerPort);\r\n           props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n           props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n           SecurityManager security = System.getSecurityManager();\r\n           \r\n           try {\r\n        \t   Authenticator auth = new SMTPAuthenticator();\r\n        \t   Session session = Session.getInstance(props, auth);\r\n        \t   MimeMessage msg = new MimeMessage(session);\r\n        \t   msg.setText(emailBody);\r\n        \t   //System.out.println(emailBody);\r\n        \t   msg.setSubject(emailSubject);\r\n        \t   msg.setFrom(new InternetAddress(senderEmail));\r\n        \t   msg.addRecipient(Message.RecipientType.TO, new InternetAddress(receiverEmail) );\r\n        \t   Transport.send(msg);\r\n        \t   System.out.println(&quot;Message sent!&quot;);\r\n        \t   String className = this.getClass().getSimpleName();\r\n        \t   System.out.println(className);\r\n        \t   \r\n        \t   \r\n           }\r\n           \r\n           catch (Exception e) {\r\n        \t   e.printStackTrace();\r\n           }\r\n    \t\t\t   \r\n    \t   \r\n       }\r\n    \t\r\n    \tpublic class SMTPAuthenticator extends javax.mail.Authenticator{\r\n    \t\tpublic PasswordAuthentication getPasswordAuthentication() {\r\n    \t\t\treturn new PasswordAuthentication(senderEmail, senderPassword );\r\n    \t\t}\r\n    \t}\r\n    \t\t\r\n        public class Tester {\r\n\tpublic static void main( String [] args) {\r\n\t\tSendEmail send = new SendEmail(&quot;testemail@gmail.com&quot;, &quot;Test&quot;, &quot;Camunda&quot; ); //change receiver email\r\n\t}\r\n\t\t}\r\n\r\nhere the print of the definitions made in the Service Task:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/go55A.png","title":"How to implement a Java Class into a Service Task (Camunda)","body":"<p>I am trying to implement a Java Class into my Service task but I am getting the following error in Camunda: ‚ÄúCannot submit task form 943fe63b-7d3f-11ec-9632-70665515d97d: ENGINE-09008 Exception while instantiating class(‚Ä¶)‚Äù. It basically says that it can not load my Java class. Where is the error?</p>\n<pre><code>    import javax.mail.*;\nimport javax.mail.internet.*;\nimport java.util.*;\n\n\n\npublic class SendEmail {\n    final String senderEmail = &quot;random@gmail.com&quot;; //change email address\n    final String senderPassword = &quot;random&quot;; //change password\n    final String emailSMTPserver = &quot;smtp.gmail.com&quot;;\n    final String emailServerPort = &quot;465&quot;;\n    String receiverEmail = null;\n    static String emailSubject;\n    static String emailBody;\n   public SendEmail(String receiverEmail, String subject, String body) {\n       //receiver email\n       this.receiverEmail = receiverEmail;\n       //subject\n       this.emailSubject = subject;\n       //body\n       this.emailBody = body;\n       \n       Properties props = new Properties();\n       props.put(&quot;mail.smtp.user&quot;,senderEmail);\n       props.put(&quot;mail.smtp.host&quot;, emailSMTPserver);\n       props.put(&quot;mail.smtp.port&quot;, emailServerPort);\n       props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n       props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n       props.put(&quot;mail.smtp.socketFactory.port&quot;, emailServerPort);\n       props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n       props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\n       SecurityManager security = System.getSecurityManager();\n       \n       try {\n           Authenticator auth = new SMTPAuthenticator();\n           Session session = Session.getInstance(props, auth);\n           MimeMessage msg = new MimeMessage(session);\n           msg.setText(emailBody);\n           //System.out.println(emailBody);\n           msg.setSubject(emailSubject);\n           msg.setFrom(new InternetAddress(senderEmail));\n           msg.addRecipient(Message.RecipientType.TO, new InternetAddress(receiverEmail) );\n           Transport.send(msg);\n           System.out.println(&quot;Message sent!&quot;);\n           String className = this.getClass().getSimpleName();\n           System.out.println(className);\n           \n           \n       }\n       \n       catch (Exception e) {\n           e.printStackTrace();\n       }\n               \n       \n   }\n    \n    public class SMTPAuthenticator extends javax.mail.Authenticator{\n        public PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(senderEmail, senderPassword );\n        }\n    }\n        \n    public class Tester {\npublic static void main( String [] args) {\n    SendEmail send = new SendEmail(&quot;testemail@gmail.com&quot;, &quot;Test&quot;, &quot;Camunda&quot; ); //change receiver email\n}\n    }\n</code></pre>\n<p>here the print of the definitions made in the Service Task:</p>\n<p><a href=\"https://i.stack.imgur.com/go55A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/go55A.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1656867173,"post_id":72848304,"comment_id":128670789,"body_markdown":"I don&#39;t see you saving `studentIsdetail` into the database after modifying it. Is perhaps the problem that when you try to set a student as inactive, the corresponding value in the ACTIVE column of the database table does not change? Because if that&#39;s the case, it looks like not saving `studentIsdetail` could be the cause.","body":"I don&#39;t see you saving <code>studentIsdetail</code> into the database after modifying it. Is perhaps the problem that when you try to set a student as inactive, the corresponding value in the ACTIVE column of the database table does not change? Because if that&#39;s the case, it looks like not saving <code>studentIsdetail</code> could be the cause."},{"owner":{"account_id":23555304,"reputation":9,"user_id":17597399,"display_name":"Hari prasath"},"score":0,"creation_date":1656867525,"post_id":72848304,"comment_id":128670857,"body_markdown":"I tried this but not working - Unable to save this \n         studentRepo.save(studentIsdetail.setActive(false));","body":"I tried this but not working - Unable to save this           studentRepo.save(studentIsdetail.setActive(false));"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1656867636,"post_id":72848304,"comment_id":128670879,"body_markdown":"`studentRepo.save(studentIsdetail.setActive(false));` probably doesn&#39;t even compile, unless `setActive()` returns the instance of `StudentDetails` it modified. `studentRepo.save(studentIsdetail);` after `studentIsdetail.setActive(false);` should compile and work fine, though.","body":"<code>studentRepo.save(studentIsdetail.setActive(false));</code> probably doesn&#39;t even compile, unless <code>setActive()</code> returns the instance of <code>StudentDetails</code> it modified. <code>studentRepo.save(studentIsdetail);</code> after <code>studentIsdetail.setActive(false);</code> should compile and work fine, though."},{"owner":{"account_id":14966839,"reputation":400,"user_id":10804821,"display_name":"Rohit Babu"},"score":0,"creation_date":1656869833,"post_id":72848304,"comment_id":128671345,"body_markdown":"@Hariprasath `.save` will propagate the changes in object to the database.","body":"@Hariprasath <code>.save</code> will propagate the changes in object to the database."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656926798,"post_id":72848304,"comment_id":128681735,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656869513,"creation_date":1656869513,"answer_id":72848600,"question_id":72848304,"body_markdown":"You never save studentIsdetail into the database after modifying.\r\nSo just add `studentRepo.save(studentIsdetail);` after calling `studentIsdetail.setActive(false);` and it should work:\r\n\r\n```java\r\npublic void deleteStudentdetails(Integer getId) {\r\n    Optional&lt;StudentDetails&gt; studentIdDetails = studentRepo.findById(getId); // getting info from DB\r\n    StudentDetails studentIsdetail = studentIdDetails.get(); \r\n\r\n    if (!studentIsdetail.getActive()) {\r\n        throw new RuntimeException(&quot;Student is Already inActive!!&quot;); \r\n    }\r\n\r\n    studentIsdetail.setActive(false);\r\n    studentRepo.save(studentIsdetail);\r\n}\r\n```\r\n\r\n----------\r\n\r\nAnd I recommend that you check if you get a result to avoid exceptions:\r\n\r\n```java\r\npublic void deleteStudentdetails(Integer getId) {\r\n    Optional&lt;StudentDetails&gt; studentIdDetails = studentRepo.findById(getId); // getting info from DB\r\n    if (studentIsdetail.isEmpty()) {\r\n        // handle e.g. throw exception or just return (with return:)\r\n        return;\r\n    }\r\n    StudentDetails studentIsdetail = studentIdDetails.get(); \r\n\r\n    if (!studentIsdetail.getActive()) {\r\n        throw new RuntimeException(&quot;Student is Already inActive!!&quot;); \r\n    }\r\n\r\n    studentIsdetail.setActive(false);\r\n    studentRepo.save(studentIsdetail);\r\n}\r\n```\r\n\r\nFor this you can also use `Optional#ifPresent`:\r\n\r\n```java\r\npublic void deleteStudentdetails(Integer getId) {\r\n    Optional&lt;StudentDetails&gt; studentIdDetails = studentRepo.findById(getId); // getting info from DB\r\n\r\n    studentIdDetails.ifPresent((studentIsdetail) -&gt; {\r\n        if (!studentIsdetail.getActive()) {\r\n            throw new RuntimeException(&quot;Student is Already inActive!!&quot;); \r\n        }\r\n\r\n        studentIsdetail.setActive(false);\r\n        studentRepo.save(studentIsdetail);\r\n    });\r\n}\r\n```","title":"How to set the Boolean value as false in Java Spring boot","body":"<p>You never save studentIsdetail into the database after modifying.\nSo just add <code>studentRepo.save(studentIsdetail);</code> after calling <code>studentIsdetail.setActive(false);</code> and it should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void deleteStudentdetails(Integer getId) {\n    Optional&lt;StudentDetails&gt; studentIdDetails = studentRepo.findById(getId); // getting info from DB\n    StudentDetails studentIsdetail = studentIdDetails.get(); \n\n    if (!studentIsdetail.getActive()) {\n        throw new RuntimeException(&quot;Student is Already inActive!!&quot;); \n    }\n\n    studentIsdetail.setActive(false);\n    studentRepo.save(studentIsdetail);\n}\n</code></pre>\n<hr />\n<p>And I recommend that you check if you get a result to avoid exceptions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void deleteStudentdetails(Integer getId) {\n    Optional&lt;StudentDetails&gt; studentIdDetails = studentRepo.findById(getId); // getting info from DB\n    if (studentIsdetail.isEmpty()) {\n        // handle e.g. throw exception or just return (with return:)\n        return;\n    }\n    StudentDetails studentIsdetail = studentIdDetails.get(); \n\n    if (!studentIsdetail.getActive()) {\n        throw new RuntimeException(&quot;Student is Already inActive!!&quot;); \n    }\n\n    studentIsdetail.setActive(false);\n    studentRepo.save(studentIsdetail);\n}\n</code></pre>\n<p>For this you can also use <code>Optional#ifPresent</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void deleteStudentdetails(Integer getId) {\n    Optional&lt;StudentDetails&gt; studentIdDetails = studentRepo.findById(getId); // getting info from DB\n\n    studentIdDetails.ifPresent((studentIsdetail) -&gt; {\n        if (!studentIsdetail.getActive()) {\n            throw new RuntimeException(&quot;Student is Already inActive!!&quot;); \n        }\n\n        studentIsdetail.setActive(false);\n        studentRepo.save(studentIsdetail);\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":23555304,"reputation":9,"user_id":17597399,"display_name":"Hari prasath"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2563,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656869513,"creation_date":1656866874,"question_id":72848304,"body_markdown":"I am practicing Java and Spring Boot.\r\n\r\nActually my idea is if we send json delete request means it should change details in the database  as inactive instead of deleting that data. \r\n\r\nfor Example if I want to delete the student record. Base on student ID as 1 means it should change the student status as inactive instead of deleting that record. \r\n\r\nIn spring boot controller I have a delete method.\r\n\r\nCodes are below for your understanding:\r\n\r\n**Controller:**\r\n\r\n\t@DeleteMapping(&quot;v1/student/delete/{id}&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; deleteStudentDetails(@PathVariable(&quot;id&quot;) Integer getId) {\r\n\t\tstudentService.deleteStudentdetails(getId);\r\n\t\treturn new ResponseEntity&lt;&gt;(&quot;STUDENT RECORD HAS BEEN DELETED !!!&quot;, HttpStatus.OK);\r\n\r\n\t}\r\n\r\nstudentService = is a service class which sending the information from controller to service.\r\n\r\ndeleteStudentdetails = is a method in service class.\r\n\r\n**Service class method**\r\n\r\n\tpublic void deleteStudentdetails(Integer getId) {\r\n\r\n\t\tOptional&lt;StudentDetails&gt; studentIdDetails = studentRepo.findById(getId); // getting info from DB\r\n\t\tStudentDetails studentIsdetail = studentIdDetails.get(); \r\n\r\n\t\tif (studentIsdetail.getActive() == false) {\r\n\t\t\tthrow new RuntimeException(&quot;Student is Already inActive!!&quot;); \r\n\t\t}\r\n\r\n\t\tstudentIsdetail.setActive(false); // Here I want to change the Active Status from True to false\r\n\r\n\r\n\t}\r\n\r\nHere I am changing the values in the Database by retrieving the student ID which is already existing in the DB.\r\n\r\n\r\nSTUDENT_ID  \tACTIVE  \tBOARD_ID  \r\n60\tTRUE\tSTATEBOARD\r\n\r\n\r\n116\tTRUE\tSTATEBOARD //here want to change the status as False \r\n\r\n\r\n120\tFALSE\tSTATEBOARD\r\n \r\n\r\n\r\n","title":"How to set the Boolean value as false in Java Spring boot","body":"<p>I am practicing Java and Spring Boot.</p>\n<p>Actually my idea is if we send json delete request means it should change details in the database  as inactive instead of deleting that data.</p>\n<p>for Example if I want to delete the student record. Base on student ID as 1 means it should change the student status as inactive instead of deleting that record.</p>\n<p>In spring boot controller I have a delete method.</p>\n<p>Codes are below for your understanding:</p>\n<p><strong>Controller:</strong></p>\n<pre><code>@DeleteMapping(&quot;v1/student/delete/{id}&quot;)\npublic ResponseEntity&lt;String&gt; deleteStudentDetails(@PathVariable(&quot;id&quot;) Integer getId) {\n    studentService.deleteStudentdetails(getId);\n    return new ResponseEntity&lt;&gt;(&quot;STUDENT RECORD HAS BEEN DELETED !!!&quot;, HttpStatus.OK);\n\n}\n</code></pre>\n<p>studentService = is a service class which sending the information from controller to service.</p>\n<p>deleteStudentdetails = is a method in service class.</p>\n<p><strong>Service class method</strong></p>\n<pre><code>public void deleteStudentdetails(Integer getId) {\n\n    Optional&lt;StudentDetails&gt; studentIdDetails = studentRepo.findById(getId); // getting info from DB\n    StudentDetails studentIsdetail = studentIdDetails.get(); \n\n    if (studentIsdetail.getActive() == false) {\n        throw new RuntimeException(&quot;Student is Already inActive!!&quot;); \n    }\n\n    studentIsdetail.setActive(false); // Here I want to change the Active Status from True to false\n\n\n}\n</code></pre>\n<p>Here I am changing the values in the Database by retrieving the student ID which is already existing in the DB.</p>\n<p>STUDENT_ID      ACTIVE      BOARD_ID<br />\n60  TRUE    STATEBOARD</p>\n<p>116 TRUE    STATEBOARD //here want to change the status as False</p>\n<p>120 FALSE   STATEBOARD</p>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656868858,"creation_date":1656853815,"answer_id":72846773,"question_id":72846709,"body_markdown":"You can&#39;t use the object-oriented way in your case. Every time a command is triggered, Spigot creates a new instance of your `HashCommand` class. Spigot does not use the instance you created in your event listener: `public HashCommand hashCommand = new HashCommand();`. Having multiple instances means you have multiple sets, with each set having its own content. So you are accessing a different set from the event than from the command. The set of the event is always empty.\r\n\r\nSolution: make the set static. Static content is the &#39;same&#39; for every instance.\r\n\r\n    public static Set&lt;UUID&gt; players = new HashSet&lt;UUID&gt;();\r\nIn the Event class you can access it via the class name as shown:\r\n\r\n    HashCommand.players.contains(...)\r\nNo need for the instance named `hashCommand`.\r\n\r\n\r\n----------\r\n\r\n\r\nNote that you might want to add a player disconnect event to remove players that are not online from your set.","title":"having trouble with my event identifying the hashset from my command class minecraft plugin (spigot)","body":"<p>You can't use the object-oriented way in your case. Every time a command is triggered, Spigot creates a new instance of your <code>HashCommand</code> class. Spigot does not use the instance you created in your event listener: <code>public HashCommand hashCommand = new HashCommand();</code>. Having multiple instances means you have multiple sets, with each set having its own content. So you are accessing a different set from the event than from the command. The set of the event is always empty.</p>\n<p>Solution: make the set static. Static content is the 'same' for every instance.</p>\n<pre><code>public static Set&lt;UUID&gt; players = new HashSet&lt;UUID&gt;();\n</code></pre>\n<p>In the Event class you can access it via the class name as shown:</p>\n<pre><code>HashCommand.players.contains(...)\n</code></pre>\n<p>No need for the instance named <code>hashCommand</code>.</p>\n<hr />\n<p>Note that you might want to add a player disconnect event to remove players that are not online from your set.</p>\n"}],"owner":{"display_name":"user19387122"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72846773,"answer_count":1,"score":-1,"last_activity_date":1656868858,"creation_date":1656853203,"question_id":72846709,"body_markdown":"So I&#39;m experimenting with hashmaps/sets and I can&#39;t get my event class to recognize the contents of my hashset. The toggle command works (identifies and sends back correct results of if the player is in the set or not) but, the event when I cast the rod always returns the else part of the code (always stating false) rather than using the data from the set to check if the player is there or not. (code will be below)    \r\n\r\n**Yes my events and commands are all registered**\r\n\r\n\r\n**What I&#39;ve tried**\r\n\r\nchanging players.add(p.getUniqueId()); to players.add(p.getName()); and vice versa\r\nmultiple if statements\r\nrandom small changes to how the hashset is created/checked\r\n\r\nCode:\r\n\r\n\r\n**TOGGLE COMMAND***\r\n\r\n``` package com.occy.bundle.Commands;\r\n\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandExecutor;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.entity.Player;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.UUID;\r\n\r\npublic class HashCommand implements CommandExecutor {\r\n    HashSet&lt;UUID&gt; players = new HashSet&lt;UUID&gt;();\r\n\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\r\n        if(!(sender instanceof Player)) {\r\n            sender.sendMessage(&quot;Players Only&quot;);\r\n\r\n        }else{\r\n            Player p = (Player) sender;\r\n            boolean check = players.contains(p.getUniqueId());\r\n            if(!check){\r\n                players.add(p.getUniqueId());\r\n                p.sendMessage(&quot;Toggled On&quot;);\r\n\r\n            }else{\r\n                players.remove(p.getUniqueId());\r\n                p.sendMessage(&quot;Toggled Off&quot;);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n**EVENT COMMAND**\r\n\r\n``` package com.occy.bundle.Commands;\r\n\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\n\r\nimport org.bukkit.event.player.PlayerFishEvent;\r\n\r\n\r\n\r\n\r\npublic class Event implements Listener {\r\n    public HashCommand hashCommand = new HashCommand();\r\n\r\n    @EventHandler\r\n    public void onCast(PlayerFishEvent e){\r\n        Player p = e.getPlayer();\r\n        if (hashCommand.players.contains(p.getUniqueId())) {\r\n            p.sendMessage(&quot;Fish&quot;);\r\n        }else{\r\n            p.sendMessage(&quot;You do not have it enabled!&quot;);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n```","title":"having trouble with my event identifying the hashset from my command class minecraft plugin (spigot)","body":"<p>So I'm experimenting with hashmaps/sets and I can't get my event class to recognize the contents of my hashset. The toggle command works (identifies and sends back correct results of if the player is in the set or not) but, the event when I cast the rod always returns the else part of the code (always stating false) rather than using the data from the set to check if the player is there or not. (code will be below)</p>\n<p><strong>Yes my events and commands are all registered</strong></p>\n<p><strong>What I've tried</strong></p>\n<p>changing players.add(p.getUniqueId()); to players.add(p.getName()); and vice versa\nmultiple if statements\nrandom small changes to how the hashset is created/checked</p>\n<p>Code:</p>\n<p><strong>TOGGLE COMMAND</strong>*</p>\n<pre><code>\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\n\nimport java.util.HashSet;\nimport java.util.UUID;\n\npublic class HashCommand implements CommandExecutor {\n    HashSet&lt;UUID&gt; players = new HashSet&lt;UUID&gt;();\n\n    @Override\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n        if(!(sender instanceof Player)) {\n            sender.sendMessage(&quot;Players Only&quot;);\n\n        }else{\n            Player p = (Player) sender;\n            boolean check = players.contains(p.getUniqueId());\n            if(!check){\n                players.add(p.getUniqueId());\n                p.sendMessage(&quot;Toggled On&quot;);\n\n            }else{\n                players.remove(p.getUniqueId());\n                p.sendMessage(&quot;Toggled Off&quot;);\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p><strong>EVENT COMMAND</strong></p>\n<pre><code>\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\n\nimport org.bukkit.event.player.PlayerFishEvent;\n\n\n\n\npublic class Event implements Listener {\n    public HashCommand hashCommand = new HashCommand();\n\n    @EventHandler\n    public void onCast(PlayerFishEvent e){\n        Player p = e.getPlayer();\n        if (hashCommand.players.contains(p.getUniqueId())) {\n            p.sendMessage(&quot;Fish&quot;);\n        }else{\n            p.sendMessage(&quot;You do not have it enabled!&quot;);\n\n        }\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","jtextpane"],"comments":[{"owner":{"account_id":2054977,"reputation":47,"user_id":1832997,"display_name":"Kurt_Zhu"},"score":0,"creation_date":1414243060,"post_id":26562785,"comment_id":41745516,"body_markdown":"Sorry, the format was removed as I post. Anyway, for example, in notepad++, 4 dashes has the same width as 4 &quot;a&quot;, but in the JTextPane, 4 dashes has the width of 3 &quot;a&quot;. That&#39;s the problem.","body":"Sorry, the format was removed as I post. Anyway, for example, in notepad++, 4 dashes has the same width as 4 &quot;a&quot;, but in the JTextPane, 4 dashes has the width of 3 &quot;a&quot;. That&#39;s the problem."}],"answers":[{"tags":[],"owner":{"account_id":2054977,"reputation":47,"user_id":1832997,"display_name":"Kurt_Zhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656868804,"creation_date":1414269377,"answer_id":26567006,"question_id":26562785,"body_markdown":"    Font font = new Font(&quot;monospaced&quot;, Font.PLAIN, 12);\r\n\r\nThis font set to the textpane seems has some effect.","title":"How to make JTextPane show hyphen/dash with the same width as an alphabet?","body":"<pre><code>Font font = new Font(&quot;monospaced&quot;, Font.PLAIN, 12);\n</code></pre>\n<p>This font set to the textpane seems has some effect.</p>\n"}],"owner":{"account_id":2054977,"reputation":47,"user_id":1832997,"display_name":"Kurt_Zhu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656868804,"creation_date":1414242828,"question_id":26562785,"body_markdown":"The &quot;-&quot; in my JTextPane is shorter than a letter or digit. This makes the multi line texts not aligned. Eg.\r\n\r\n    1234 1234 abcd\r\n    a--- 1--- a---\r\n    1234 1234 abcd\r\n\r\nappears as\r\n\r\n    1234 1234 abcd\r\n    a-- 1-- abcd\r\n    1234 1234 abcd\r\n\r\nAny trick to solve this?","title":"How to make JTextPane show hyphen/dash with the same width as an alphabet?","body":"<p>The &quot;-&quot; in my JTextPane is shorter than a letter or digit. This makes the multi line texts not aligned. Eg.</p>\n<pre><code>1234 1234 abcd\na--- 1--- a---\n1234 1234 abcd\n</code></pre>\n<p>appears as</p>\n<pre><code>1234 1234 abcd\na-- 1-- abcd\n1234 1234 abcd\n</code></pre>\n<p>Any trick to solve this?</p>\n"},{"tags":["java","floating-point"],"comments":[{"owner":{"account_id":1976540,"reputation":1861,"user_id":1774214,"accept_rate":60,"display_name":"Eamon Moloney"},"score":2,"creation_date":1353773648,"post_id":13542944,"comment_id":18546808,"body_markdown":"Do all of those bits translate to significant digits? Or does the location of the decimal point take up some of the bits?","body":"Do all of those bits translate to significant digits? Or does the location of the decimal point take up some of the bits?"},{"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1353773690,"post_id":13542944,"comment_id":18546821,"body_markdown":"@user1774214 floating point numbers aren&#39;t at all encoded like integers. have a look at the link I give. You must understand, for example, that the precision isn&#39;t uniform.","body":"@user1774214 floating point numbers aren&#39;t at all encoded like integers. have a look at the link I give. You must understand, for example, that the precision isn&#39;t uniform."},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":0,"creation_date":1403254550,"post_id":13542944,"comment_id":37596787,"body_markdown":"@dystroy I&#39;m not sure what you mean by ‚Äúthe precision isn&#39;t uniform‚Äù. It is pretty uniformly 53 and 24 bits of precision, unless you are referring to denormals.","body":"@dystroy I&#39;m not sure what you mean by ‚Äúthe precision isn&#39;t uniform‚Äù. It is pretty uniformly 53 and 24 bits of precision, unless you are referring to denormals."},{"owner":{"account_id":2279339,"reputation":5596,"user_id":2004857,"accept_rate":43,"display_name":"Victor Basso"},"score":3,"creation_date":1427118892,"post_id":13542944,"comment_id":46633562,"body_markdown":"@PascalCuoq there&#39;s more precision for smaller numbers. As the exponent changes (or the point floats) around, the mantissa keeps representing the same amount of digits. So if the number is big, the mantissa &quot;can&#39;t reach&quot; lower significant digits as much, thus giving less precision.","body":"@PascalCuoq there&#39;s more precision for smaller numbers. As the exponent changes (or the point floats) around, the mantissa keeps representing the same amount of digits. So if the number is big, the mantissa &quot;can&#39;t reach&quot; lower significant digits as much, thus giving less precision."},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":3,"creation_date":1427119071,"post_id":13542944,"comment_id":46633697,"body_markdown":"@Virtuel The precision is 53 bits. **That** is what we call the precision. You appear to be thinking of the *absolute accuracy* or something.","body":"@Virtuel The precision is 53 bits. <b>That</b> is what we call the precision. You appear to be thinking of the <i>absolute accuracy</i> or something."},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":0,"creation_date":1427119328,"post_id":13542944,"comment_id":46633894,"body_markdown":"@Virtuel You&#39;ll find this quote, ‚Äúp is the precision (the number of digits in the significand)‚Äù, defining the word *precision*, on http://en.wikipedia.org/wiki/Floating_point","body":"@Virtuel You&#39;ll find this quote, ‚Äúp is the precision (the number of digits in the significand)‚Äù, defining the word <i>precision</i>, on <a href=\"http://en.wikipedia.org/wiki/Floating_point\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Floating_point</a>"},{"owner":{"account_id":1967923,"reputation":1160,"user_id":1767653,"display_name":"EvertW"},"score":0,"creation_date":1548755533,"post_id":13542944,"comment_id":95646059,"body_markdown":"@PascalCuoq: He is probably referring to precision in decimals. The precision with which 1.0000 can be represented by a float is higher than the precision with which 9.0000 can be represented, because the float for 9 needs a larger exponent. In the decimal system the exponent is the same, making this non-intuitive. This is also why the precision of a float is *about* 7 decimal digits. The number of significant decimal digits depends on the magnitude of the first digit(s).","body":"@PascalCuoq: He is probably referring to precision in decimals. The precision with which 1.0000 can be represented by a float is higher than the precision with which 9.0000 can be represented, because the float for 9 needs a larger exponent. In the decimal system the exponent is the same, making this non-intuitive. This is also why the precision of a float is <i>about</i> 7 decimal digits. The number of significant decimal digits depends on the magnitude of the first digit(s)."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655707807,"post_id":13542944,"comment_id":128386562,"body_markdown":"@EvertW You too are confusing precision with range.","body":"@EvertW You too are confusing precision with range."}],"answers":[{"tags":[],"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1353774179,"creation_date":1353773473,"answer_id":13542957,"question_id":13542944,"body_markdown":"From [java specification][1] :\r\n\r\n&gt; The floating-point types are float and double, which are conceptually\r\n&gt; associated with the single-precision 32-bit and double-precision\r\n&gt; 64-bit format IEEE 754 values and operations as specified in IEEE\r\n&gt; Standard for Binary Floating-Point Arithmetic, ANSI/IEEE Standard\r\n&gt; 754-1985 (IEEE, New York).\r\n\r\nAs it&#39;s hard to do anything with numbers without understanding IEEE754 basics, here&#39;s [another link][2]. \r\n\r\nIt&#39;s important to understand that the precision isn&#39;t uniform and that this isn&#39;t an exact storage of the numbers as is done for integers.\r\n\r\nAn example :\r\n\r\n\tdouble a = 0.3 - 0.1;\r\n\tSystem.out.println(a);\t\t\t\r\n\r\nprints\r\n\r\n    0.19999999999999998\r\n\r\nIf you need arbitrary precision (for example for financial purposes) you may need [Big Decimal][3].\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.3\r\n  [2]: http://en.wikipedia.org/wiki/IEEE_floating_point\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html","title":"How many significant digits do floats and doubles have in java?","body":"<p>From <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.3\" rel=\"noreferrer\">java specification</a> :</p>\n\n<blockquote>\n  <p>The floating-point types are float and double, which are conceptually\n  associated with the single-precision 32-bit and double-precision\n  64-bit format IEEE 754 values and operations as specified in IEEE\n  Standard for Binary Floating-Point Arithmetic, ANSI/IEEE Standard\n  754-1985 (IEEE, New York).</p>\n</blockquote>\n\n<p>As it's hard to do anything with numbers without understanding IEEE754 basics, here's <a href=\"http://en.wikipedia.org/wiki/IEEE_floating_point\" rel=\"noreferrer\">another link</a>. </p>\n\n<p>It's important to understand that the precision isn't uniform and that this isn't an exact storage of the numbers as is done for integers.</p>\n\n<p>An example :</p>\n\n<pre><code>double a = 0.3 - 0.1;\nSystem.out.println(a);          \n</code></pre>\n\n<p>prints</p>\n\n<pre><code>0.19999999999999998\n</code></pre>\n\n<p>If you need arbitrary precision (for example for financial purposes) you may need <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\">Big Decimal</a>.</p>\n"},{"tags":[],"owner":{"account_id":216313,"reputation":12017,"user_id":471478,"accept_rate":86,"display_name":"scravy"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1656868679,"creation_date":1353774418,"answer_id":13543079,"question_id":13542944,"body_markdown":"Floating point numbers are encoded using an exponential form, that is something like `m * b ^ e`, i.e. not like integers at all. The question you ask would be meaningful in the context of [fixed point numbers][1]. There are numerous [fixed point arithmetic libraries][2] available.\r\n\r\nRegarding floating point arithmetic: The number of decimal digits depends on the presentation and the number system. For example there are numbers (e.g.: 1/5) which have a finite presentation in decimal but do not have one in binary; every finite binary fraction is also finite in decimal (because binary has base 2, and decimal has base 2*5).\r\n\r\nAlso it is worth mentioning that floating point numbers up to a certain point do have a difference larger than one, i.e. `value + 1` yields `value`, since `value + 1` can not be encoded using `m * b ^ e`, where `m`, `b` and `e` are fixed in length. The same happens for values smaller than 1, i.e. all the possible code points do not have the same distance.\r\n\r\nBecause of this there is no precision of exactly `n` digits like with fixed point numbers, since not every number with `n` decimal digits does have a IEEE encoding.\r\n\r\nThere is a nearly obligatory document which you should read then which explains floating point numbers: \r\n[What every computer scientist should know about floating point arithmetic][3].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Fixed-point_arithmetic\r\n  [2]: http://sourceforge.net/projects/jmfp/\r\n  [3]: http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html","title":"How many significant digits do floats and doubles have in java?","body":"<p>Floating point numbers are encoded using an exponential form, that is something like <code>m * b ^ e</code>, i.e. not like integers at all. The question you ask would be meaningful in the context of <a href=\"http://en.wikipedia.org/wiki/Fixed-point_arithmetic\" rel=\"nofollow noreferrer\">fixed point numbers</a>. There are numerous <a href=\"http://sourceforge.net/projects/jmfp/\" rel=\"nofollow noreferrer\">fixed point arithmetic libraries</a> available.</p>\n<p>Regarding floating point arithmetic: The number of decimal digits depends on the presentation and the number system. For example there are numbers (e.g.: 1/5) which have a finite presentation in decimal but do not have one in binary; every finite binary fraction is also finite in decimal (because binary has base 2, and decimal has base 2*5).</p>\n<p>Also it is worth mentioning that floating point numbers up to a certain point do have a difference larger than one, i.e. <code>value + 1</code> yields <code>value</code>, since <code>value + 1</code> can not be encoded using <code>m * b ^ e</code>, where <code>m</code>, <code>b</code> and <code>e</code> are fixed in length. The same happens for values smaller than 1, i.e. all the possible code points do not have the same distance.</p>\n<p>Because of this there is no precision of exactly <code>n</code> digits like with fixed point numbers, since not every number with <code>n</code> decimal digits does have a IEEE encoding.</p>\n<p>There is a nearly obligatory document which you should read then which explains floating point numbers:\n<a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What every computer scientist should know about floating point arithmetic</a>.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1353774623,"creation_date":1353774623,"answer_id":13543107,"question_id":13542944,"body_markdown":"A normal math answer.\r\n\r\nUnderstanding that a floating point number is implemented as some bits representing the exponent and the rest, most for the digits (in the binary system), one has the following situation:\r\n\r\nWith a high exponent, say 10&#178;&#179; if the least significant bit is changed, a large difference between two adjacent distinghuishable numbers appear. Furthermore the base 2 decimal point makes that many base 10 numbers can only be approximated; 1/5, 1/10 being endless numbers.\r\n\r\nSo in *general*: floating point numbers should not be used if you care about significant digits. For monetary amounts with calculation, e,a, best use **BigDecimal**.\r\n\r\nFor *physics* floating point **doubles** are adequate, **floats** almost never. Furthermore the floating point part of processors, the FPU, can even use a bit more precission internally.\r\n","title":"How many significant digits do floats and doubles have in java?","body":"<p>A normal math answer.</p>\n\n<p>Understanding that a floating point number is implemented as some bits representing the exponent and the rest, most for the digits (in the binary system), one has the following situation:</p>\n\n<p>With a high exponent, say 10¬≤¬≥ if the least significant bit is changed, a large difference between two adjacent distinghuishable numbers appear. Furthermore the base 2 decimal point makes that many base 10 numbers can only be approximated; 1/5, 1/10 being endless numbers.</p>\n\n<p>So in <em>general</em>: floating point numbers should not be used if you care about significant digits. For monetary amounts with calculation, e,a, best use <strong>BigDecimal</strong>.</p>\n\n<p>For <em>physics</em> floating point <strong>doubles</strong> are adequate, <strong>floats</strong> almost never. Furthermore the floating point part of processors, the FPU, can even use a bit more precission internally.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353774838,"creation_date":1353774838,"answer_id":13543128,"question_id":13542944,"body_markdown":"Look at [`Float.intBitsToFloat`][1] and [`Double.longBitsToDouble`][2], which sort of explain how bits correspond to floating-point numbers.  In particular, the bits of a normal `float` look something like\r\n\r\n     s * 2^exp * 1.ABCDEFGHIJKLMNOPQRSTUVW\r\n\r\nwhere A...W are 23 bits -- 0s and 1s -- representing a fraction in binary -- s is +/- 1, represented by a 0 or a 1 respectively, and exp is a signed 8-bit integer.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html#intBitsToFloat%28int%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/Double.html#longBitsToDouble%28long%29","title":"How many significant digits do floats and doubles have in java?","body":"<p>Look at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html#intBitsToFloat%28int%29\" rel=\"nofollow\"><code>Float.intBitsToFloat</code></a> and <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Double.html#longBitsToDouble%28long%29\" rel=\"nofollow\"><code>Double.longBitsToDouble</code></a>, which sort of explain how bits correspond to floating-point numbers.  In particular, the bits of a normal <code>float</code> look something like</p>\n\n<pre><code> s * 2^exp * 1.ABCDEFGHIJKLMNOPQRSTUVW\n</code></pre>\n\n<p>where A...W are 23 bits -- 0s and 1s -- representing a fraction in binary -- s is +/- 1, represented by a 0 or a 1 respectively, and exp is a signed 8-bit integer.</p>\n"},{"tags":[],"owner":{"account_id":188605,"reputation":5059,"user_id":427413,"accept_rate":71,"display_name":"marcus"},"down_vote_count":2,"up_vote_count":130,"is_accepted":false,"score":128,"last_activity_date":1500994928,"creation_date":1353777724,"answer_id":13543600,"question_id":13542944,"body_markdown":"**float**: **32 bits** (4 bytes) where **23 bits** are used for the mantissa (about 7 decimal digits). 8 bits are used for the exponent, so a float can ‚Äúmove‚Äù the decimal point to the right or to the left using those 8 bits. Doing so avoids storing lots of zeros in the mantissa as in 0.0000003 (3 &#215; 10&lt;sup&gt;-7&lt;/sup&gt;) or 3000000 (3 &#215; 10&lt;sup&gt;7&lt;/sup&gt;). There is 1 bit used as the sign bit.\r\n\r\n**double**: **64 bits** (8 bytes) where **52 bits** are used for the mantissa (about 16 decimal digits). 11 bits are used for the exponent and 1 bit is the sign bit.\r\n\r\nSince we are using binary (only 0 and 1), one bit in the mantissa is implicitly 1 (both float and double use this trick) when the number is non-zero.\r\n\r\nAlso, since everything is in binary (mantissa and exponents) the conversions to decimal numbers are usually not exact. Numbers like 0.5, 0.25, 0.75, 0.125 are stored exactly, but 0.1 is not. As others have said, if you need to store cents precisely, do not use float or double, use int, long, BigInteger or BigDecimal.\r\n\r\nSources:\r\n\r\nhttp://en.wikipedia.org/wiki/Floating_point#IEEE_754:_floating_point_in_modern_computers\r\n\r\nhttp://en.wikipedia.org/wiki/Binary64\r\n\r\nhttp://en.wikipedia.org/wiki/Binary32\r\n","title":"How many significant digits do floats and doubles have in java?","body":"<p><strong>float</strong>: <strong>32 bits</strong> (4 bytes) where <strong>23 bits</strong> are used for the mantissa (about 7 decimal digits). 8 bits are used for the exponent, so a float can ‚Äúmove‚Äù the decimal point to the right or to the left using those 8 bits. Doing so avoids storing lots of zeros in the mantissa as in 0.0000003 (3 √ó 10<sup>-7</sup>) or 3000000 (3 √ó 10<sup>7</sup>). There is 1 bit used as the sign bit.</p>\n\n<p><strong>double</strong>: <strong>64 bits</strong> (8 bytes) where <strong>52 bits</strong> are used for the mantissa (about 16 decimal digits). 11 bits are used for the exponent and 1 bit is the sign bit.</p>\n\n<p>Since we are using binary (only 0 and 1), one bit in the mantissa is implicitly 1 (both float and double use this trick) when the number is non-zero.</p>\n\n<p>Also, since everything is in binary (mantissa and exponents) the conversions to decimal numbers are usually not exact. Numbers like 0.5, 0.25, 0.75, 0.125 are stored exactly, but 0.1 is not. As others have said, if you need to store cents precisely, do not use float or double, use int, long, BigInteger or BigDecimal.</p>\n\n<p>Sources:</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Floating_point#IEEE_754:_floating_point_in_modern_computers\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Floating_point#IEEE_754:_floating_point_in_modern_computers</a></p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Binary64\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Binary64</a></p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Binary32\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Binary32</a></p>\n"},{"tags":[],"owner":{"account_id":7531956,"reputation":1571,"user_id":5719760,"display_name":"9999years"},"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1530218929,"creation_date":1529124136,"answer_id":50885022,"question_id":13542944,"body_markdown":"## A 32-bit float has about 7 digits of precision and a 64-bit double has about 16 digits of precision\n\nLong answer:\n\nFloating-point numbers have three components:\n\n1. A sign bit, to determine if the number is positive or negative.\n2. An exponent, to determine the *magnitude* of the number.\n3. A fraction, which determines how far between two exponent values the number\n   is. This is sometimes called [‚Äúthe significand, mantissa, or\n   coefficient‚Äù][overview]\n\nEssentially, this works out to `sign * 2^exponent * (1 + fraction)`. The ‚Äúsize‚Äù\nof the number, it‚Äôs exponent, is irrelevant to us, because it only *scales* the\nvalue of the fraction portion. Knowing that `log‚ÇÅ‚ÇÄ(n)` gives the number of\ndigits of `n`,‚Ä† we can determine the precision of a floating point number\nwith `log‚ÇÅ‚ÇÄ(largest_possible_fraction)`. Because each bit in a float stores 2\npossibilities, a binary number of `n` bits can store a number up to `2‚Åø - 1` (a\ntotal of `2‚Åø` *values* where one of the values is zero). This gets a bit\nhairier, because it turns out that floating point numbers are stored with one\nless bit of fraction than they can use, because zeroes are represented specially\nand all non-zero numbers have at least one non-zero binary bit.‚Ä°\n\nCombining this, the digits of precision for a floating point number is\n`log‚ÇÅ‚ÇÄ(2‚Åø)`, where `n` is the number of bits of the floating point number‚Äôs\nfraction. A 32-bit float has 24 bits of fraction for ‚âà7.22 decimal digits of\nprecision, and a 64-bit double has 53 bits of fraction for ‚âà15.95 decimal digits\nof precision.\n\nFor more on floating point accuracy, you might want to read about the concept of\na [machine epsilon].\n\n\n----------\n\n\n‚Ä† For `n ‚â• 1` at least ‚Äî for other numbers your formula will look more like\n  `‚åälog‚ÇÅ‚ÇÄ(|n|)‚åã + 1`.\n\n‚Ä° ‚ÄúThis rule is variously called the leading bit convention, the implicit bit\n  convention, or the hidden bit convention.‚Äù ([Wikipedia][overview])\n\n[machine epsilon]: https://en.wikipedia.org/wiki/Machine_epsilon\n\n[overview]: https://en.wikipedia.org/wiki/Floating-point_arithmetic#Floating-point_numbers\n","title":"How many significant digits do floats and doubles have in java?","body":"<h2>A 32-bit float has about 7 digits of precision and a 64-bit double has about 16 digits of precision</h2>\n<p>Long answer:</p>\n<p>Floating-point numbers have three components:</p>\n<ol>\n<li>A sign bit, to determine if the number is positive or negative.</li>\n<li>An exponent, to determine the <em>magnitude</em> of the number.</li>\n<li>A fraction, which determines how far between two exponent values the number\nis. This is sometimes called <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Floating-point_numbers\" rel=\"noreferrer\">‚Äúthe significand, mantissa, or\ncoefficient‚Äù</a></li>\n</ol>\n<p>Essentially, this works out to <code>sign * 2^exponent * (1 + fraction)</code>. The ‚Äúsize‚Äù\nof the number, it‚Äôs exponent, is irrelevant to us, because it only <em>scales</em> the\nvalue of the fraction portion. Knowing that <code>log‚ÇÅ‚ÇÄ(n)</code> gives the number of\ndigits of <code>n</code>,‚Ä† we can determine the precision of a floating point number\nwith <code>log‚ÇÅ‚ÇÄ(largest_possible_fraction)</code>. Because each bit in a float stores 2\npossibilities, a binary number of <code>n</code> bits can store a number up to <code>2‚Åø - 1</code> (a\ntotal of <code>2‚Åø</code> <em>values</em> where one of the values is zero). This gets a bit\nhairier, because it turns out that floating point numbers are stored with one\nless bit of fraction than they can use, because zeroes are represented specially\nand all non-zero numbers have at least one non-zero binary bit.‚Ä°</p>\n<p>Combining this, the digits of precision for a floating point number is\n<code>log‚ÇÅ‚ÇÄ(2‚Åø)</code>, where <code>n</code> is the number of bits of the floating point number‚Äôs\nfraction. A 32-bit float has 24 bits of fraction for ‚âà7.22 decimal digits of\nprecision, and a 64-bit double has 53 bits of fraction for ‚âà15.95 decimal digits\nof precision.</p>\n<p>For more on floating point accuracy, you might want to read about the concept of\na <a href=\"https://en.wikipedia.org/wiki/Machine_epsilon\" rel=\"noreferrer\">machine epsilon</a>.</p>\n<hr />\n<p>‚Ä† For <code>n ‚â• 1</code> at least ‚Äî for other numbers your formula will look more like\n<code>‚åälog‚ÇÅ‚ÇÄ(|n|)‚åã + 1</code>.</p>\n<p>‚Ä° ‚ÄúThis rule is variously called the leading bit convention, the implicit bit\nconvention, or the hidden bit convention.‚Äù (<a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Floating-point_numbers\" rel=\"noreferrer\">Wikipedia</a>)</p>\n"}],"owner":{"account_id":1976540,"reputation":1861,"user_id":1774214,"accept_rate":60,"display_name":"Eamon Moloney"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195415,"favorite_count":0,"down_vote_count":1,"up_vote_count":96,"answer_count":6,"score":95,"last_activity_date":1656868679,"creation_date":1353773392,"question_id":13542944,"body_markdown":"Does a float have 32 binary digits and a double have 64 binary digits? The documentation was too hard to make sense of.\r\n\r\nDo all of the bits translate to significant digits? Or does the location of the decimal point take up some of the bits?","title":"How many significant digits do floats and doubles have in java?","body":"<p>Does a float have 32 binary digits and a double have 64 binary digits? The documentation was too hard to make sense of.</p>\n\n<p>Do all of the bits translate to significant digits? Or does the location of the decimal point take up some of the bits?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":5665005,"reputation":1885,"user_id":4481395,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1460660637,"creation_date":1460660637,"answer_id":36631812,"question_id":36631628,"body_markdown":"Actually you can&#39;t handle windows (OS) dialogs inside Selenium WebDriver. \nThis what the selenium team answers [here][2]\n\n&gt; The current team position is that the print dialog is out of scope for\n&gt; the project. WebDriver/Selenium is focused on emulating a user&#39;s\n&gt; interaction with the rendered content of a web page. Other aspects of\n&gt; the browser including, but not limited to print dialogs, save dialogs,\n&gt; and browser chrome, are all out of scope.\n\n\n\nYou can try different approach like [AutoIt][1]\n\n  [1]: https://www.autoitscript.com/site/autoit/\n  [2]: https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/1815","title":"How can I tell Selenium to press cancel on a print popup?","body":"<p>Actually you can't handle windows (OS) dialogs inside Selenium WebDriver.\nThis what the selenium team answers <a href=\"https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/1815\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>The current team position is that the print dialog is out of scope for\nthe project. WebDriver/Selenium is focused on emulating a user's\ninteraction with the rendered content of a web page. Other aspects of\nthe browser including, but not limited to print dialogs, save dialogs,\nand browser chrome, are all out of scope.</p>\n</blockquote>\n<p>You can try different approach like <a href=\"https://www.autoitscript.com/site/autoit/\" rel=\"nofollow noreferrer\">AutoIt</a></p>\n"},{"tags":[],"owner":{"account_id":2524791,"reputation":3884,"user_id":2194364,"accept_rate":77,"display_name":"Raghu K Nair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460660869,"creation_date":1460660869,"answer_id":36631885,"question_id":36631628,"body_markdown":"Native window based dialog can be handled by AutoItX as described in the following code\r\n\r\n    File file = new File(&quot;lib&quot;, jacobDllVersionToUse);\r\n    System.setProperty(LibraryLoader.JACOB_DLL_PATH, file.getAbsolutePath());\r\n    WebDriver driver = new FirefoxDriver();\r\n    driver.get(&quot;http://www.joecolantonio.com/SeleniumTestPage.html&quot;);\r\n    WebElement printButton = driver.findElement(By.id(&quot;printButton&quot;));\r\n    printButton.click();\r\n    AutoItX x = new AutoItX();\r\n    x.winActivate(&quot;Print&quot;);\r\n    x.winWaitActive(&quot;Print&quot;);\r\n    x.controlClick(&quot;Print&quot;, &quot;&quot;, &quot;1058&quot;);\r\n    x.ControlSetText(&quot;Print&quot;, &quot;&quot;, &quot;1153&quot;, &quot;50&quot;);\r\n    Thread.sleep(3000); //This was added just so you could see that the values did change.\r\n    x.controlClick(&quot;Print&quot;, &quot;&quot;, &quot;2&quot;);\r\n\r\nReference : http://www.joecolantonio.com/2014/07/21/selenium-how-to-handle-windows-based-dialogs-and-pop-ups/","title":"How can I tell Selenium to press cancel on a print popup?","body":"<p>Native window based dialog can be handled by AutoItX as described in the following code</p>\n\n<pre><code>File file = new File(\"lib\", jacobDllVersionToUse);\nSystem.setProperty(LibraryLoader.JACOB_DLL_PATH, file.getAbsolutePath());\nWebDriver driver = new FirefoxDriver();\ndriver.get(\"http://www.joecolantonio.com/SeleniumTestPage.html\");\nWebElement printButton = driver.findElement(By.id(\"printButton\"));\nprintButton.click();\nAutoItX x = new AutoItX();\nx.winActivate(\"Print\");\nx.winWaitActive(\"Print\");\nx.controlClick(\"Print\", \"\", \"1058\");\nx.ControlSetText(\"Print\", \"\", \"1153\", \"50\");\nThread.sleep(3000); //This was added just so you could see that the values did change.\nx.controlClick(\"Print\", \"\", \"2\");\n</code></pre>\n\n<p>Reference : <a href=\"http://www.joecolantonio.com/2014/07/21/selenium-how-to-handle-windows-based-dialogs-and-pop-ups/\" rel=\"nofollow\">http://www.joecolantonio.com/2014/07/21/selenium-how-to-handle-windows-based-dialogs-and-pop-ups/</a></p>\n"},{"tags":[],"owner":{"account_id":3447044,"reputation":41737,"user_id":2887618,"display_name":"Florent B."},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1460663094,"creation_date":1460663094,"answer_id":36632555,"question_id":36631628,"body_markdown":"I would simply disable the print dialog by overriding the print method :\r\n\r\n    ((JavascriptExecutor)driver).executeScript(&quot;window.print=function(){};&quot;);\r\n    \r\nBut if you goal is to test that the printing is called then :\r\n\r\n    // get the print button\r\n    WebElement print_button = driver.findElement(By.cssSelector(&quot;...&quot;));\r\n\r\n    // click on the print button and wait for print to be called\r\n    driver.manage().timeouts().setScriptTimeout(20, TimeUnit.SECONDS);\r\n    ((JavascriptExecutor)driver).executeAsyncScript(\r\n        &quot;var callback = arguments[1];&quot; +\r\n        &quot;window.print = function(){callback();};&quot; +\r\n        &quot;arguments[0].click();&quot;\r\n        , print_button);","title":"How can I tell Selenium to press cancel on a print popup?","body":"<p>I would simply disable the print dialog by overriding the print method :</p>\n\n<pre><code>((JavascriptExecutor)driver).executeScript(\"window.print=function(){};\");\n</code></pre>\n\n<p>But if you goal is to test that the printing is called then :</p>\n\n<pre><code>// get the print button\nWebElement print_button = driver.findElement(By.cssSelector(\"...\"));\n\n// click on the print button and wait for print to be called\ndriver.manage().timeouts().setScriptTimeout(20, TimeUnit.SECONDS);\n((JavascriptExecutor)driver).executeAsyncScript(\n    \"var callback = arguments[1];\" +\n    \"window.print = function(){callback();};\" +\n    \"arguments[0].click();\"\n    , print_button);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1217232,"reputation":1393,"user_id":1184571,"accept_rate":58,"display_name":"Er&#231;in Ak&#231;ay"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1547116437,"creation_date":1484544703,"answer_id":41670021,"question_id":36631628,"body_markdown":"If you are going for testing only Chrome browser here is mine solution. Because of &#39;Robot&#39; class or disabling print didn&#39;t work for my case.\r\n\r\n    // Choosing the second window which is the print dialog.\r\n    // Switching to opened window of print dialog.\r\n    driver.switchTo().window(driver.getWindowHandles().toArray()[1].toString());\r\n\r\n    // Runs javascript code for cancelling print operation.\r\n    // This code only executes for Chrome browsers.\r\n    JavascriptExecutor executor = (JavascriptExecutor) driver.getWebDriver();\r\n    executor.executeScript(&quot;document.getElementsByClassName(&#39;cancel&#39;)[0].click();&quot;);\r\n\r\n    // Switches to main window after print dialog operation.\r\n    driver.switchTo().window(driver.getWindowHandles().toArray()[0].toString());\r\n\r\n**Edit**: In Chrome 71 this doesn&#39;t seem to work anymore since the script can&#39;t find the Cancel button. I could make it work by changing the line to:\r\n\r\n    executor.executeScript(&quot;document.querySelector(\\&quot;print-preview-app\\&quot;).shadowRoot.querySelector(\\&quot;print-preview-header\\&quot;).shadowRoot.querySelector(\\&quot;paper-button.cancel-button\\&quot;).click();&quot;);\r\n","title":"How can I tell Selenium to press cancel on a print popup?","body":"<p>If you are going for testing only Chrome browser here is mine solution. Because of 'Robot' class or disabling print didn't work for my case.</p>\n\n<pre><code>// Choosing the second window which is the print dialog.\n// Switching to opened window of print dialog.\ndriver.switchTo().window(driver.getWindowHandles().toArray()[1].toString());\n\n// Runs javascript code for cancelling print operation.\n// This code only executes for Chrome browsers.\nJavascriptExecutor executor = (JavascriptExecutor) driver.getWebDriver();\nexecutor.executeScript(\"document.getElementsByClassName('cancel')[0].click();\");\n\n// Switches to main window after print dialog operation.\ndriver.switchTo().window(driver.getWindowHandles().toArray()[0].toString());\n</code></pre>\n\n<p><strong>Edit</strong>: In Chrome 71 this doesn't seem to work anymore since the script can't find the Cancel button. I could make it work by changing the line to:</p>\n\n<pre><code>executor.executeScript(\"document.querySelector(\\\"print-preview-app\\\").shadowRoot.querySelector(\\\"print-preview-header\\\").shadowRoot.querySelector(\\\"paper-button.cancel-button\\\").click();\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12676446,"reputation":41,"user_id":9211981,"display_name":"akanshu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568649107,"creation_date":1568649107,"answer_id":57960442,"question_id":36631628,"body_markdown":"we can also use key for handling the print or press the cancel button operation. and it works for me.\r\n\r\n    driver.switchTo().window(driver.getWindowHandles().toArray()[1].toString());\r\n    WebElement webElement = driver.findElement(By.tagName(&quot;body&quot;));\r\n    webElement.sendKeys(Keys.TAB);\r\n    webElement.sendKeys(Keys.ENTER);\r\n    driver.switchTo().window(driver.getWindowHandles().toArray()[0].toString());\r\n\r\n","title":"How can I tell Selenium to press cancel on a print popup?","body":"<p>we can also use key for handling the print or press the cancel button operation. and it works for me.</p>\n\n<pre><code>driver.switchTo().window(driver.getWindowHandles().toArray()[1].toString());\nWebElement webElement = driver.findElement(By.tagName(\"body\"));\nwebElement.sendKeys(Keys.TAB);\nwebElement.sendKeys(Keys.ENTER);\ndriver.switchTo().window(driver.getWindowHandles().toArray()[0].toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15969839,"reputation":21,"user_id":12651368,"display_name":"shashi kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627382943,"creation_date":1627382943,"answer_id":68543521,"question_id":36631628,"body_markdown":"\r\nSometimes 2 different statements as above (webElement.sendKeys(Keys.TAB)\r\nwebElement.sendKeys(Keys.ENTER)) will not work, you can use with combination of Tab and Enter keys as below, This will close the Print preview window.\r\n\r\n**Using C# :**\r\n\r\n    Driver.SwitchTo().Window(Driver.WindowHandles[1]);\r\n    IWebElement element = Driver.FindElement(By.TagName(&quot;body&quot;));  \r\n    element.SendKeys(Keys.Tab + Keys.Enter);                \r\n    Driver.SwitchTo().Window(Driver.WindowHandles[0]);","title":"How can I tell Selenium to press cancel on a print popup?","body":"<p>Sometimes 2 different statements as above (webElement.sendKeys(Keys.TAB)\nwebElement.sendKeys(Keys.ENTER)) will not work, you can use with combination of Tab and Enter keys as below, This will close the Print preview window.</p>\n<p><strong>Using C# :</strong></p>\n<pre><code>Driver.SwitchTo().Window(Driver.WindowHandles[1]);\nIWebElement element = Driver.FindElement(By.TagName(&quot;body&quot;));  \nelement.SendKeys(Keys.Tab + Keys.Enter);                \nDriver.SwitchTo().Window(Driver.WindowHandles[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25716044,"reputation":11,"user_id":19473807,"display_name":"lahiru karunasiri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656868338,"creation_date":1656868338,"answer_id":72848478,"question_id":36631628,"body_markdown":"Er&#231;in Ak&#231;ay  answer updated.\r\n\r\n    // Choosing the second window which is the print dialog.\r\n    \t\t\t// Switching to opened window of print dialog.\r\n    \t\t\tdriver.switchTo().window(driver.getWindowHandles().toArray()[1].toString());\r\n    \r\n    \t\t\t// Runs javascript code for cancelling print operation.\r\n    \t\t\t// This code only executes for Chrome browsers.\r\n    \t\t\tJavascriptExecutor js = (JavascriptExecutor)driver;\r\n    \t\t\r\n    \t\t\tjs.executeScript(&quot;document.querySelector(\\&quot;body &gt; print-preview-app\\&quot;).shadowRoot.querySelector(\\&quot;#sidebar\\&quot;).shadowRoot.querySelector(\\&quot;print-preview-button-strip\\&quot;).shadowRoot.querySelector(\\&quot;div &gt; cr-button.cancel-button\\&quot;).click();&quot;);\r\n    \r\n    \t\t\t// Switches to main window after print dialog operation.\r\n    \t\t\tdriver.switchTo().window(driver.getWindowHandles().toArray()[0].toString());","title":"How can I tell Selenium to press cancel on a print popup?","body":"<p>Er√ßin Ak√ßay  answer updated.</p>\n<pre><code>// Choosing the second window which is the print dialog.\n            // Switching to opened window of print dialog.\n            driver.switchTo().window(driver.getWindowHandles().toArray()[1].toString());\n\n            // Runs javascript code for cancelling print operation.\n            // This code only executes for Chrome browsers.\n            JavascriptExecutor js = (JavascriptExecutor)driver;\n        \n            js.executeScript(&quot;document.querySelector(\\&quot;body &gt; print-preview-app\\&quot;).shadowRoot.querySelector(\\&quot;#sidebar\\&quot;).shadowRoot.querySelector(\\&quot;print-preview-button-strip\\&quot;).shadowRoot.querySelector(\\&quot;div &gt; cr-button.cancel-button\\&quot;).click();&quot;);\n\n            // Switches to main window after print dialog operation.\n            driver.switchTo().window(driver.getWindowHandles().toArray()[0].toString());\n</code></pre>\n"}],"owner":{"account_id":1249619,"reputation":1489,"user_id":1210304,"accept_rate":85,"display_name":"J. Doe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28122,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":36632555,"answer_count":7,"score":6,"last_activity_date":1656868338,"creation_date":1460660029,"question_id":36631628,"body_markdown":"I am checking whether or not a page appears using Selenium. When I click the page, however, a printer print prompt appears (like the window that says select printer and such). How can I have Selenium close this window by hitting cancel? \r\n\r\nI tried looking to alerts, but it seems like those will not work since the print window is a system prompt. It does not recognize any alerts appearing. \r\n\r\nThe most recent I tried using is by just sending keys like tab and enter in order to have the cancel button selected, however, it doesn&#39;t recognize any keys as being pressed.\r\n\r\nHow can I handle this case?\r\n\r\n    public static boolean printButton() throws Exception {\r\n\r\n\t\tWebDriver driver = new FirefoxDriver();\r\n\t\tdriver.get(&quot;website&quot;);\r\n\t\r\n\t\t\r\n\t\ttry {\r\n\r\n\t\t\tThread.sleep(3000);\r\n\t\t\tWebElement temp = driver.findElement(By.xpath(&quot;//*[@id=&#39;block-print-ui-print-links&#39;]/div/span/a&quot;));\r\n\t\t\ttemp.click();\r\n\t\t\tActions action = new Actions(driver); \r\n\t\t\taction.sendKeys(Keys.TAB).sendKeys(Keys.ENTER);\r\n\t\t\t\r\n\t\t\tThread.sleep(6000);\r\n\r\n\t\t }\r\n\t\t\r\n\t\t catch (Exception e) {\r\n\r\n\t\t\tSystem.out.println(&quot;No button.&quot;);\r\n\t\t\tdriver.close();\r\n\t\t\treturn false;\r\n\r\n\t\t }  ","title":"How can I tell Selenium to press cancel on a print popup?","body":"<p>I am checking whether or not a page appears using Selenium. When I click the page, however, a printer print prompt appears (like the window that says select printer and such). How can I have Selenium close this window by hitting cancel? </p>\n\n<p>I tried looking to alerts, but it seems like those will not work since the print window is a system prompt. It does not recognize any alerts appearing. </p>\n\n<p>The most recent I tried using is by just sending keys like tab and enter in order to have the cancel button selected, however, it doesn't recognize any keys as being pressed.</p>\n\n<p>How can I handle this case?</p>\n\n<pre><code>public static boolean printButton() throws Exception {\n\n    WebDriver driver = new FirefoxDriver();\n    driver.get(\"website\");\n\n\n    try {\n\n        Thread.sleep(3000);\n        WebElement temp = driver.findElement(By.xpath(\"//*[@id='block-print-ui-print-links']/div/span/a\"));\n        temp.click();\n        Actions action = new Actions(driver); \n        action.sendKeys(Keys.TAB).sendKeys(Keys.ENTER);\n\n        Thread.sleep(6000);\n\n     }\n\n     catch (Exception e) {\n\n        System.out.println(\"No button.\");\n        driver.close();\n        return false;\n\n     }  \n</code></pre>\n"},{"tags":["java","swing","jtextfield"],"answers":[{"tags":[],"owner":{"account_id":1544842,"reputation":486,"user_id":6036446,"display_name":"Juan C Nuno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656867362,"creation_date":1656867362,"answer_id":72848356,"question_id":72848273,"body_markdown":"Try setting a custom border on the JTextField or overriding [paintBorder][1] instead\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JComponent.html#paintBorder(java.awt.Graphics)","title":"How can I change the whole look of a JTextField","body":"<p>Try setting a custom border on the JTextField or overriding <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JComponent.html#paintBorder(java.awt.Graphics)\" rel=\"nofollow noreferrer\">paintBorder</a> instead</p>\n"},{"tags":[],"owner":{"account_id":22860492,"reputation":51,"user_id":17004662,"display_name":"p-wel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656868075,"creation_date":1656868075,"answer_id":72848444,"question_id":72848273,"body_markdown":"You can override paintComponent(), just as you&#39;ve said. Here&#39;s snippet for JTextField in simple JPanel:\r\n\r\n            JPanel panel = new JPanel();\r\n    \r\n            JTextField textField = new JTextField() {\r\n                @Override\r\n                protected void paintComponent(Graphics g) {\r\n                    super.paintComponent(g);\r\n                    g.setColor(Color.BLUE);\r\n                    g.drawLine(10, getHeight() - 10, getWidth() - 10, getHeight() - 10);\r\n                }\r\n            };\r\n    \r\n            panel.add(textField);\r\n            textField.setPreferredSize(new Dimension(100, 50));\r\n            textField.setForeground(Color.BLUE);\r\n            textField.setHorizontalAlignment(JTextField.CENTER);\r\n    \r\n            add(panel);\r\n            setSize(200, 200);\r\n            setLocationRelativeTo(null);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setVisible(true);","title":"How can I change the whole look of a JTextField","body":"<p>You can override paintComponent(), just as you've said. Here's snippet for JTextField in simple JPanel:</p>\n<pre><code>        JPanel panel = new JPanel();\n\n        JTextField textField = new JTextField() {\n            @Override\n            protected void paintComponent(Graphics g) {\n                super.paintComponent(g);\n                g.setColor(Color.BLUE);\n                g.drawLine(10, getHeight() - 10, getWidth() - 10, getHeight() - 10);\n            }\n        };\n\n        panel.add(textField);\n        textField.setPreferredSize(new Dimension(100, 50));\n        textField.setForeground(Color.BLUE);\n        textField.setHorizontalAlignment(JTextField.CENTER);\n\n        add(panel);\n        setSize(200, 200);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n</code></pre>\n"}],"owner":{"account_id":23568015,"reputation":136,"user_id":17608510,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72848356,"answer_count":2,"score":0,"last_activity_date":1656868075,"creation_date":1656866612,"question_id":72848273,"body_markdown":"I want to change the look of the whole JTextField but still want it to be editable. The first picture shows a normal JTextField, the second picture shows, what I want it too look like. So basically it is just a blue horizontal line instead of a whole Box. \r\n\r\n[![This is what the JTextFields look like normally:][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Ulsn8.png\r\n\r\n[![But I want it to look it that way:][2]][2]\r\n\r\n  [2]: https://i.stack.imgur.com/nRwi7.png\r\n\r\nI tried to override the paintComponent() method of the JTextField and draw a blue line with the Graphics object, but it didn&#39;t show any effect. Thanks for any help and sorry if this question does not fit the rules of Stackoverflow.\r\n","title":"How can I change the whole look of a JTextField","body":"<p>I want to change the look of the whole JTextField but still want it to be editable. The first picture shows a normal JTextField, the second picture shows, what I want it too look like. So basically it is just a blue horizontal line instead of a whole Box.</p>\n<p><a href=\"https://i.stack.imgur.com/Ulsn8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ulsn8.png\" alt=\"This is what the JTextFields look like normally:\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/nRwi7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nRwi7.png\" alt=\"But I want it to look it that way:\" /></a></p>\n<p>I tried to override the paintComponent() method of the JTextField and draw a blue line with the Graphics object, but it didn't show any effect. Thanks for any help and sorry if this question does not fit the rules of Stackoverflow.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":1144582,"reputation":6670,"user_id":1127635,"accept_rate":88,"display_name":"conradkleinespel"},"score":0,"creation_date":1655997809,"post_id":64747032,"comment_id":128469873,"body_markdown":"Did you find any solution?","body":"Did you find any solution?"},{"owner":{"account_id":504028,"reputation":41,"user_id":4757636,"display_name":"Siva"},"score":0,"creation_date":1656088051,"post_id":64747032,"comment_id":128494307,"body_markdown":"Nope. And I&#39;m not working in Kafka anymore.","body":"Nope. And I&#39;m not working in Kafka anymore."},{"owner":{"account_id":1144582,"reputation":6670,"user_id":1127635,"accept_rate":88,"display_name":"conradkleinespel"},"score":1,"creation_date":1656867684,"post_id":64747032,"comment_id":128670895,"body_markdown":"I ended up finding a solution: upgrading `kafka-clients` to a more recent version, namely 2.6.3.","body":"I ended up finding a solution: upgrading <code>kafka-clients</code> to a more recent version, namely 2.6.3."}],"answers":[{"tags":[],"owner":{"account_id":1144582,"reputation":6670,"user_id":1127635,"accept_rate":88,"display_name":"conradkleinespel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656867721,"creation_date":1656867721,"answer_id":72848403,"question_id":64747032,"body_markdown":"Upgrading `kafka-clients` to version 2.6.3 worked for me.","title":"listTopics with kafka-clients-2.6.0 gives TimeoutException","body":"<p>Upgrading <code>kafka-clients</code> to version 2.6.3 worked for me.</p>\n"}],"owner":{"account_id":504028,"reputation":41,"user_id":4757636,"display_name":"Siva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":790,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1656867721,"creation_date":1604905044,"question_id":64747032,"body_markdown":"I have a small code to check if a particular topic is already present in Kafka. It worked fine with kafka-clients-2.5.0.  But after upgrading to kafka-clients to 2.6.0, it started giving TimeoutException.\r\n\r\nThis was my original code.\r\n```\r\n   Properties adminProperties = new Properties();\r\n   adminProperties.put(ProducerConfig.&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n   AdminClient adminClient = KafkaAdminClient.create(adminProperties);\r\n   boolean topicExists = adminClient.listTopics().names().get().contains(&quot;myDataTopic&quot;);\r\n```\r\n\r\nFor troubleshooting, I have splitted it and tried extending some timeout values like below. But no use. It works fine with 2.5.1 but not with 2.6.0.\r\n\r\n```\r\n        Properties adminProperties = new Properties();\r\n        adminProperties.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        adminProperties.put(AdminClientConfig.DEFAULT_API_TIMEOUT_MS_CONFIG, &quot;900000&quot;);\r\n        AdminClient adminClient = KafkaAdminClient.create(adminProperties);\r\n\r\n        System.out.println(&quot;createKafkaTopic(): Listing Topics...&quot;);\r\n        ListTopicsResult listTopicsResult = adminClient.listTopics(new ListTopicsOptions().timeoutMs(900000));\r\n        System.out.println(&quot;createKafkaTopic(): Retrieve Topic names...&quot;);\r\n        KafkaFuture&lt;Collection&lt;TopicListing&gt;&gt; setKafkaFuture = listTopicsResult.listings();\r\n        System.out.println(&quot;createKafkaTopic(): Display existing Topics...&quot;);\r\n        while(!setKafkaFuture.isDone()) {\r\n            System.out.println(&quot;Waiting...&quot;);\r\n            Thread.sleep(10);\r\n        }\r\n        Collection&lt;TopicListing&gt; topicNames = setKafkaFuture.get(900,TimeUnit.SECONDS);\r\n        System.out.println(topicNames);\r\n        System.out.println(&quot;createKafkaTopic(): Check if Topic exists...&quot;);\r\n        boolean topicExists = topicNames.contains(&quot;myDataTopic&quot;);\r\n```\r\nHere is my output:\r\n```\r\ncreateKafkaTopic(): Listing Topics...\r\ncreateKafkaTopic(): Retrieve Topic names...\r\ncreateKafkaTopic(): Display existing Topics...\r\nWaiting...\r\nWaiting...\r\nWaiting...\r\nWaiting...\r\nException in thread &quot;main&quot; java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Call(callName=listTopics, deadlineMs=1604903438670, tries=1, nextAllowedTryMs=-9223372036854775709) timed out at 9223372036854775807 after 1 attempt(s)\r\n\tat org.apache.kafka.common.internals.KafkaFutureImpl.wrapAndThrow(KafkaFutureImpl.java:45)\r\n\tat org.apache.kafka.common.internals.KafkaFutureImpl.access$000(KafkaFutureImpl.java:32)\r\n\tat org.apache.kafka.common.internals.KafkaFutureImpl$SingleWaiter.await(KafkaFutureImpl.java:104)\r\n\tat org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:272)\r\n\tat KafkaUtil.createKafkaTopic(KafkaUtil.java:45)\r\n\tat KafkaUtil.main(KafkaUtil.java:21)\r\nCaused by: org.apache.kafka.common.errors.TimeoutException: Call(callName=listTopics, deadlineMs=1604903438670, tries=1, nextAllowedTryMs=-9223372036854775709) timed out at 9223372036854775807 after 1 attempt(s)\r\nCaused by: org.apache.kafka.common.errors.TimeoutException: The AdminClient thread has exited.\r\n```\r\nI saw a similar issue here (https://stackoverflow.com/questions/63450560/how-to-display-topics-using-kafka-clients-in-java).  But it seems resolved by adding some dependencies. I too tried adding all dependencies to my pom.xml, and no luck.","title":"listTopics with kafka-clients-2.6.0 gives TimeoutException","body":"<p>I have a small code to check if a particular topic is already present in Kafka. It worked fine with kafka-clients-2.5.0.  But after upgrading to kafka-clients to 2.6.0, it started giving TimeoutException.</p>\n<p>This was my original code.</p>\n<pre><code>   Properties adminProperties = new Properties();\n   adminProperties.put(ProducerConfig.&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n   AdminClient adminClient = KafkaAdminClient.create(adminProperties);\n   boolean topicExists = adminClient.listTopics().names().get().contains(&quot;myDataTopic&quot;);\n</code></pre>\n<p>For troubleshooting, I have splitted it and tried extending some timeout values like below. But no use. It works fine with 2.5.1 but not with 2.6.0.</p>\n<pre><code>        Properties adminProperties = new Properties();\n        adminProperties.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        adminProperties.put(AdminClientConfig.DEFAULT_API_TIMEOUT_MS_CONFIG, &quot;900000&quot;);\n        AdminClient adminClient = KafkaAdminClient.create(adminProperties);\n\n        System.out.println(&quot;createKafkaTopic(): Listing Topics...&quot;);\n        ListTopicsResult listTopicsResult = adminClient.listTopics(new ListTopicsOptions().timeoutMs(900000));\n        System.out.println(&quot;createKafkaTopic(): Retrieve Topic names...&quot;);\n        KafkaFuture&lt;Collection&lt;TopicListing&gt;&gt; setKafkaFuture = listTopicsResult.listings();\n        System.out.println(&quot;createKafkaTopic(): Display existing Topics...&quot;);\n        while(!setKafkaFuture.isDone()) {\n            System.out.println(&quot;Waiting...&quot;);\n            Thread.sleep(10);\n        }\n        Collection&lt;TopicListing&gt; topicNames = setKafkaFuture.get(900,TimeUnit.SECONDS);\n        System.out.println(topicNames);\n        System.out.println(&quot;createKafkaTopic(): Check if Topic exists...&quot;);\n        boolean topicExists = topicNames.contains(&quot;myDataTopic&quot;);\n</code></pre>\n<p>Here is my output:</p>\n<pre><code>createKafkaTopic(): Listing Topics...\ncreateKafkaTopic(): Retrieve Topic names...\ncreateKafkaTopic(): Display existing Topics...\nWaiting...\nWaiting...\nWaiting...\nWaiting...\nException in thread &quot;main&quot; java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Call(callName=listTopics, deadlineMs=1604903438670, tries=1, nextAllowedTryMs=-9223372036854775709) timed out at 9223372036854775807 after 1 attempt(s)\n    at org.apache.kafka.common.internals.KafkaFutureImpl.wrapAndThrow(KafkaFutureImpl.java:45)\n    at org.apache.kafka.common.internals.KafkaFutureImpl.access$000(KafkaFutureImpl.java:32)\n    at org.apache.kafka.common.internals.KafkaFutureImpl$SingleWaiter.await(KafkaFutureImpl.java:104)\n    at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:272)\n    at KafkaUtil.createKafkaTopic(KafkaUtil.java:45)\n    at KafkaUtil.main(KafkaUtil.java:21)\nCaused by: org.apache.kafka.common.errors.TimeoutException: Call(callName=listTopics, deadlineMs=1604903438670, tries=1, nextAllowedTryMs=-9223372036854775709) timed out at 9223372036854775807 after 1 attempt(s)\nCaused by: org.apache.kafka.common.errors.TimeoutException: The AdminClient thread has exited.\n</code></pre>\n<p>I saw a similar issue here (<a href=\"https://stackoverflow.com/questions/63450560/how-to-display-topics-using-kafka-clients-in-java\">How to display topics using Kafka Clients in Java?</a>).  But it seems resolved by adding some dependencies. I too tried adding all dependencies to my pom.xml, and no luck.</p>\n"},{"tags":["java","spring","spring-boot","dynamic","module"],"answers":[{"tags":[],"owner":{"account_id":11841508,"reputation":70,"user_id":8665226,"display_name":"Dominic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656866991,"creation_date":1656866991,"answer_id":72848319,"question_id":72509830,"body_markdown":"This post helped me a bit: https://hdpe.me/post/modular-architecture-with-spring-boot/\r\n\r\nIn short for each module a new ApplicationContext (e.g. `AnnotationConfigApplicationContext`) is created. If you want to share beans between the modules, you have to publish them to the main application context.\r\n\r\nBeans can be registered at runtime by `((GenericApplicationContext) applicationContext).registerBeanDefinition(name, beanDefinition);` at the main Application Context.\r\n\r\nAnother problem is that additional configurations are required, for example for `@RestController` or similar, in order for them to work. See other questions on StackOverFlow from me.","title":"Spring: Dynamic registrations of beans, rest-controllers, and more","body":"<p>This post helped me a bit: <a href=\"https://hdpe.me/post/modular-architecture-with-spring-boot/\" rel=\"nofollow noreferrer\">https://hdpe.me/post/modular-architecture-with-spring-boot/</a></p>\n<p>In short for each module a new ApplicationContext (e.g. <code>AnnotationConfigApplicationContext</code>) is created. If you want to share beans between the modules, you have to publish them to the main application context.</p>\n<p>Beans can be registered at runtime by <code>((GenericApplicationContext) applicationContext).registerBeanDefinition(name, beanDefinition);</code> at the main Application Context.</p>\n<p>Another problem is that additional configurations are required, for example for <code>@RestController</code> or similar, in order for them to work. See other questions on StackOverFlow from me.</p>\n"}],"owner":{"account_id":11841508,"reputation":70,"user_id":8665226,"display_name":"Dominic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656866991,"creation_date":1654451676,"question_id":72509830,"body_markdown":"I am new to Spring and would like to convert my existing applications to Spring Boot.\r\n\r\nHowever, I am using a self-written module framework that allows me to add or remove components or additional functions of the application dynamically at runtime. The whole thing can be compared to plugin frameworks like PF4J or the plugin mechanism in Minecraft servers.\r\n\r\nThe advantage of this is obvious. The application is much more dynamic and certain parts of the program can be updated at runtime without having to restart the whole application.\r\n\r\nUnder the hood, a new ClassLoader is created for each module when it is loaded. The ClassPath of this ClassLoader contains the JAR file of the module. Afterwards, I load the respective classes with this ClassLoader and execute there an init method, which contains each module.\r\n\r\nNow, I would like of course in connection with Spring that both the dependency injection in the modules functions, and that beans or, for example, rest controllers, which are in the modules, register with the module loading and unregister with the module unloading.\r\n\r\nExample: I have a staff module. When I register it, the employee endpoint is registered and is functional. When I unload the module, the employee endpoint is removed again.\r\n\r\nNow to my problem:  \r\nUnfortunately, I don&#39;t know how to implement this with Spring, or if something like this is even possible in Spring. Or are there even already other solutions for this?\r\n\r\nI also read something about application contexts. Do I have to create a new application context for each module, which I then somehow &quot;closed&quot; when unloading the module?\r\n\r\nI hope you can help me, also with code examples.","title":"Spring: Dynamic registrations of beans, rest-controllers, and more","body":"<p>I am new to Spring and would like to convert my existing applications to Spring Boot.</p>\n<p>However, I am using a self-written module framework that allows me to add or remove components or additional functions of the application dynamically at runtime. The whole thing can be compared to plugin frameworks like PF4J or the plugin mechanism in Minecraft servers.</p>\n<p>The advantage of this is obvious. The application is much more dynamic and certain parts of the program can be updated at runtime without having to restart the whole application.</p>\n<p>Under the hood, a new ClassLoader is created for each module when it is loaded. The ClassPath of this ClassLoader contains the JAR file of the module. Afterwards, I load the respective classes with this ClassLoader and execute there an init method, which contains each module.</p>\n<p>Now, I would like of course in connection with Spring that both the dependency injection in the modules functions, and that beans or, for example, rest controllers, which are in the modules, register with the module loading and unregister with the module unloading.</p>\n<p>Example: I have a staff module. When I register it, the employee endpoint is registered and is functional. When I unload the module, the employee endpoint is removed again.</p>\n<p>Now to my problem:<br />\nUnfortunately, I don't know how to implement this with Spring, or if something like this is even possible in Spring. Or are there even already other solutions for this?</p>\n<p>I also read something about application contexts. Do I have to create a new application context for each module, which I then somehow &quot;closed&quot; when unloading the module?</p>\n<p>I hope you can help me, also with code examples.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1655674288,"post_id":72680450,"comment_id":128382063,"body_markdown":"What about `.*[^s]ss$`?","body":"What about <code>.*[^s]ss$</code>?"},{"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":1,"creation_date":1655675318,"post_id":72680450,"comment_id":128382202,"body_markdown":"@f1sh: That fails `ss`","body":"@f1sh: That fails <code>ss</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1655676142,"post_id":72680450,"comment_id":128382295,"body_markdown":"`matches(&quot;ss|.*[^s]ss&quot;)`","body":"<code>matches(&quot;ss|.*[^s]ss&quot;)</code>"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1655676547,"post_id":72680450,"comment_id":128382342,"body_markdown":"Does this answer your question? [Regex for matching something if it is not preceded by something else](https://stackoverflow.com/questions/9306202/regex-for-matching-something-if-it-is-not-preceded-by-something-else)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9306202/regex-for-matching-something-if-it-is-not-preceded-by-something-else\">Regex for matching something if it is not preceded by something else</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1655679660,"post_id":72680450,"comment_id":128382727,"body_markdown":"It‚Äôs always better to avoid using a regular expression if one can do so easily, since regex is a heavyweight operation.  How about `boolean matches = s.endsWith(&quot;ss&quot;) &amp;&amp; !s.endsWith(&quot;sss&quot;);`?","body":"It‚Äôs always better to avoid using a regular expression if one can do so easily, since regex is a heavyweight operation.  How about <code>boolean matches = s.endsWith(&quot;ss&quot;) &amp;&amp; !s.endsWith(&quot;sss&quot;);</code>?"}],"answers":[{"tags":[],"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1655675275,"creation_date":1655674344,"answer_id":72680478,"question_id":72680450,"body_markdown":"Simply checking whether `(^|[^s])s{2}$` matches part of the string should work. `$` asserts that the end of the string has been reached whereas `^` asserts that you&#39;re still at the beginning of the string. This is necessary to match just `ss` preceded by no non-`s` character.","title":"Regular Expressions: How do I single out a chain of characters with a precise length at the end of any string?","body":"<p>Simply checking whether <code>(^|[^s])s{2}$</code> matches part of the string should work. <code>$</code> asserts that the end of the string has been reached whereas <code>^</code> asserts that you're still at the beginning of the string. This is necessary to match just <code>ss</code> preceded by no non-<code>s</code> character.</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655713826,"creation_date":1655674552,"answer_id":72680492,"question_id":72680450,"body_markdown":"You can use\r\n```java\r\nBoolean result = text.matches(&quot;.*(?&lt;!s)s{2}&quot;);\r\n```\r\n`String#matches` requires a full string match, so there is no need for anchors (`\\A`/`^` and `$`/`\\z`).\r\n\r\nThe `(?&lt;!s)` part is a negative lookbehind that fails the match if there is an `s` char immediately to the left of the current location.\r\n\r\nSee the [regex demo][1].\r\n\r\nHowever, you do not really need a regex here if you can use Java code:\r\n```java\r\nBoolean result = !text.endsWith(&quot;sss&quot;) &amp;&amp; text.endsWith(&quot;ss&quot;);\r\n```\r\nwhich literally means &quot;if `text` does not end with `sss` and `text` ends with `ss`&quot; the `result` is *True*.\r\n\r\n  [1]: https://regex101.com/r/qHdfJ6/2","title":"Regular Expressions: How do I single out a chain of characters with a precise length at the end of any string?","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Boolean result = text.matches(&quot;.*(?&lt;!s)s{2}&quot;);\n</code></pre>\n<p><code>String#matches</code> requires a full string match, so there is no need for anchors (<code>\\A</code>/<code>^</code> and <code>$</code>/<code>\\z</code>).</p>\n<p>The <code>(?&lt;!s)</code> part is a negative lookbehind that fails the match if there is an <code>s</code> char immediately to the left of the current location.</p>\n<p>See the <a href=\"https://regex101.com/r/qHdfJ6/2\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>However, you do not really need a regex here if you can use Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Boolean result = !text.endsWith(&quot;sss&quot;) &amp;&amp; text.endsWith(&quot;ss&quot;);\n</code></pre>\n<p>which literally means &quot;if <code>text</code> does not end with <code>sss</code> and <code>text</code> ends with <code>ss</code>&quot; the <code>result</code> is <em>True</em>.</p>\n"},{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656866900,"creation_date":1656866900,"answer_id":72848305,"question_id":72680450,"body_markdown":"    .*[^s]ss\r\n\r\nHow i provided:\r\n\r\n    public static void main(String[] args) {\r\n        String[] strings = new String[]{&quot;fooss&quot;, &quot;barss&quot;, &quot;foosss&quot;, &quot;foos&quot;, &quot;foo&quot;, &quot;barssss&quot;};\r\n\r\n        for (String s : strings) {\r\n            if (s.matches(&quot;.*[^s]ss&quot;)) {\r\n                System.out.println(s);\r\n            }\r\n        }\r\n    }\r\n\r\nOutput: fooss barss\r\n\r\n ","title":"Regular Expressions: How do I single out a chain of characters with a precise length at the end of any string?","body":"<pre><code>.*[^s]ss\n</code></pre>\n<p>How i provided:</p>\n<pre><code>public static void main(String[] args) {\n    String[] strings = new String[]{&quot;fooss&quot;, &quot;barss&quot;, &quot;foosss&quot;, &quot;foos&quot;, &quot;foo&quot;, &quot;barssss&quot;};\n\n    for (String s : strings) {\n        if (s.matches(&quot;.*[^s]ss&quot;)) {\n            System.out.println(s);\n        }\n    }\n}\n</code></pre>\n<p>Output: fooss barss</p>\n"}],"owner":{"account_id":25595045,"reputation":19,"user_id":19371016,"display_name":"Gavin Walker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1656866900,"creation_date":1655674081,"question_id":72680450,"body_markdown":"I have a string which can be any string, and I want to single it out if is ends in exactly two &quot;s&quot;\r\n\r\nfor example, &quot;foo&quot;, &quot;foos&quot;, &quot;foosss&quot;, should all return false but &quot;fooss&quot; and &quot;barss&quot; should return true\r\n\r\nThe problem is if I use `.*s{2}` for a string like &quot;foosss&quot;, java sees &quot;foos&quot; as the `.*` and &quot;ss&quot; as the `s{2}`\r\n\r\nAnd if I use `.*?s{2}` for &quot;foosss&quot; java will see &quot;foo&quot; as the `.*` for a bit, which is what I want, but once it checks the rest of the string to see if it matches `s{2}` and it fails, it iterates to the next try\r\n\r\nIt&#39;s important that the beginning string can contain the letter &quot;s&quot;, too. &quot;sometexts&quot; and &quot;sometextsss&quot; should return false but &quot;sometextss&quot; should return true","title":"Regular Expressions: How do I single out a chain of characters with a precise length at the end of any string?","body":"<p>I have a string which can be any string, and I want to single it out if is ends in exactly two &quot;s&quot;</p>\n<p>for example, &quot;foo&quot;, &quot;foos&quot;, &quot;foosss&quot;, should all return false but &quot;fooss&quot; and &quot;barss&quot; should return true</p>\n<p>The problem is if I use <code>.*s{2}</code> for a string like &quot;foosss&quot;, java sees &quot;foos&quot; as the <code>.*</code> and &quot;ss&quot; as the <code>s{2}</code></p>\n<p>And if I use <code>.*?s{2}</code> for &quot;foosss&quot; java will see &quot;foo&quot; as the <code>.*</code> for a bit, which is what I want, but once it checks the rest of the string to see if it matches <code>s{2}</code> and it fails, it iterates to the next try</p>\n<p>It's important that the beginning string can contain the letter &quot;s&quot;, too. &quot;sometexts&quot; and &quot;sometextsss&quot; should return false but &quot;sometextss&quot; should return true</p>\n"},{"tags":["java","regex","string"],"answers":[{"tags":[],"owner":{"account_id":7629368,"reputation":8222,"user_id":5784924,"accept_rate":60,"display_name":"Nicolas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1586379155,"creation_date":1586379155,"answer_id":61109833,"question_id":61109658,"body_markdown":"Using a regex to do that is the right thing to do. However, your regex is capturing **every** hyphens. What you need is to check for letter before and after.\r\n\r\n    ((?&lt;!\\w)-|-(?!\\w))\r\nThis regex will look for hyphens that have nothing before **OR** hypen that has nothing behind and replace them.\r\n\r\n![Regular expression visualization](https://www.debuggex.com/i/FCqCumKE36RbQhrM.png)\r\n\r\nUsing this regex, you can replace those occurrence by nothing, like you did before.\r\n\r\n```\r\nstring.replaceAll(&quot;((?&lt;!\\\\w)-|-(?!\\\\w))&quot;, &quot;&quot;);\r\n```\r\n\r\n[here is a regex101 for you to test more cases](https://regex101.com/r/8Z1ibx/1)","title":"Remove dash from string but not from middle when its surrounded by (a-z)","body":"<p>Using a regex to do that is the right thing to do. However, your regex is capturing <strong>every</strong> hyphens. What you need is to check for letter before and after.</p>\n\n<pre><code>((?&lt;!\\w)-|-(?!\\w))\n</code></pre>\n\n<p>This regex will look for hyphens that have nothing before <strong>OR</strong> hypen that has nothing behind and replace them.</p>\n\n<p><img src=\"https://www.debuggex.com/i/FCqCumKE36RbQhrM.png\" alt=\"Regular expression visualization\"></p>\n\n<p>Using this regex, you can replace those occurrence by nothing, like you did before.</p>\n\n<pre><code>string.replaceAll(\"((?&lt;!\\\\w)-|-(?!\\\\w))\", \"\");\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/8Z1ibx/1\" rel=\"nofollow noreferrer\">here is a regex101 for you to test more cases</a></p>\n"}],"owner":{"account_id":14736219,"reputation":5,"user_id":10642174,"display_name":"Ali Rahimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61109833,"answer_count":1,"score":0,"last_activity_date":1656866814,"creation_date":1586378483,"question_id":61109658,"body_markdown":"I read similar questions but those are not answer exactly to my question.\r\n\r\ni want to remove any dash from my string but not that dash in middle of string that surrounded by (a-z) or (A-Z) like my example test case. \r\n\r\ni already use this regex code but it clean all dash:\r\n\r\n    string.replaceAll(&quot;\\\\-&quot;, &quot;&quot;);\r\n\r\n----------\r\n\r\n## Test Case ##\r\n\r\n\r\n - --good\r\n - -good\r\n - **g-ood***\r\n - g--ood\r\n - good-\r\n - good--\r\n\r\n----------\r\n## Result ##\r\n\r\n\r\n - good\r\n - good\r\n - **g-ood***\r\n - good\r\n - good\r\n - good","title":"Remove dash from string but not from middle when its surrounded by (a-z)","body":"<p>I read similar questions but those are not answer exactly to my question.</p>\n\n<p>i want to remove any dash from my string but not that dash in middle of string that surrounded by (a-z) or (A-Z) like my example test case. </p>\n\n<p>i already use this regex code but it clean all dash:</p>\n\n<pre><code>string.replaceAll(\"\\\\-\", \"\");\n</code></pre>\n\n<hr>\n\n<h2>Test Case</h2>\n\n<ul>\n<li>--good</li>\n<li>-good</li>\n<li><strong>g-ood*</strong></li>\n<li>g--ood</li>\n<li>good-</li>\n<li>good--</li>\n</ul>\n\n<hr>\n\n<h2>Result</h2>\n\n<ul>\n<li>good</li>\n<li>good</li>\n<li><strong>g-ood*</strong></li>\n<li>good</li>\n<li>good</li>\n<li>good</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1656865180,"post_id":72847953,"comment_id":128670384,"body_markdown":"Here&#39;s a link on why you cant access non-static variables from a static context. https://stackoverflow.com/q/2559527/16034206","body":"Here&#39;s a link on why you cant access non-static variables from a static context. <a href=\"https://stackoverflow.com/q/2559527/16034206\">stackoverflow.com/q/2559527/16034206</a>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1656865469,"post_id":72847953,"comment_id":128670438,"body_markdown":"simply put, in your case you can move all the code from your main method in to a second helper method, and initialize the Championship object in your main method ```Championship c = new Championship();``` and call the helper method. ```c.helperMethod();```","body":"simply put, in your case you can move all the code from your main method in to a second helper method, and initialize the Championship object in your main method <code>Championship c = new Championship();</code> and call the helper method. <code>c.helperMethod();</code>"}],"answers":[{"tags":[],"owner":{"account_id":25703302,"reputation":53,"user_id":19463036,"display_name":"nuno"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656866291,"creation_date":1656866291,"answer_id":72848244,"question_id":72847953,"body_markdown":"fix from @experiment unit 1998X\r\n\r\n```\r\n     public void Run(){\r\n        Scanner sc = new Scanner(System.in);\r\n        int option = -1;\r\n        \r\n        while(option!=0){\r\n            System.out.println(&quot;\\t1- Create Club&quot;);\r\n            System.out.println(&quot;\\t2- Create game&quot;);\r\n            System.out.println(&quot;\\t3- List results&quot;);\r\n            System.out.println(&quot;\\t4- Register result by index&quot;);\r\n            option = sc.nextInt();\r\n            switch( op&#231;ao ){\r\n                case 1:\r\n                    System.out.println(&quot;Insert club name.&quot;);\r\n                    String n = sc.nextLine();\r\n                    sc.nextLine();\r\n                    System.out.println(&quot;Insert club city.&quot;);\r\n                    String c = sc.nextLine();\r\n                    sc.nextLine();\r\n                    clubs.add(new Club(n, c)); \r\n                    break;\r\n                case 2:\r\n                    Iterator&lt;Club&gt; iter = clubs.iterator(); \r\n                    while(iter.hasNext()){\r\n                        Club a = iter.next();\r\n                        Club b = iter.next();\r\n                        if(a != b){\r\n                           games.add(new Game(a, b)); \r\n                        }\r\n                    }\r\n                    break;\r\n                case 3:\r\n                    for(Game game : games){  \r\n                        System.out.println(game.getM() + &quot; : &quot; + game.getN());\r\n                    }\r\n                case 4:\r\n                    System.out.println(&quot;Game index&quot;);\r\n                    int s = sc.nextInt();\r\n                    sc.nextInt();\r\n                    System.out.println(&quot;Goals visited?&quot;);\r\n                    int N = sc.nextInt();\r\n                    sc.nextInt();\r\n                    System.out.println(&quot;Goals Visitor?&quot;);\r\n                    int M = sc.nextInt();\r\n                    sc.nextInt();\r\n                    \r\n                    Iterator&lt;Game&gt; iter2 = games.iterator();                     \r\n                      while(iter2.hasNext()){\r\n                        Game j = games.get(s); \r\n                        j.setResult(N,M);\r\n                        \r\n                }\r\n                    break;\r\n            }\r\n     }\r\n}\r\n\r\n\r\npublic static void main(String[] args) {\r\n    Championship c = new Championship();\r\n    c.Run();\r\n        }\r\n        \r\n","title":"Cannot add to arraylist inside while loop inside the main method","body":"<p>fix from @experiment unit 1998X</p>\n<pre><code>     public void Run(){\n        Scanner sc = new Scanner(System.in);\n        int option = -1;\n        \n        while(option!=0){\n            System.out.println(&quot;\\t1- Create Club&quot;);\n            System.out.println(&quot;\\t2- Create game&quot;);\n            System.out.println(&quot;\\t3- List results&quot;);\n            System.out.println(&quot;\\t4- Register result by index&quot;);\n            option = sc.nextInt();\n            switch( op√ßao ){\n                case 1:\n                    System.out.println(&quot;Insert club name.&quot;);\n                    String n = sc.nextLine();\n                    sc.nextLine();\n                    System.out.println(&quot;Insert club city.&quot;);\n                    String c = sc.nextLine();\n                    sc.nextLine();\n                    clubs.add(new Club(n, c)); \n                    break;\n                case 2:\n                    Iterator&lt;Club&gt; iter = clubs.iterator(); \n                    while(iter.hasNext()){\n                        Club a = iter.next();\n                        Club b = iter.next();\n                        if(a != b){\n                           games.add(new Game(a, b)); \n                        }\n                    }\n                    break;\n                case 3:\n                    for(Game game : games){  \n                        System.out.println(game.getM() + &quot; : &quot; + game.getN());\n                    }\n                case 4:\n                    System.out.println(&quot;Game index&quot;);\n                    int s = sc.nextInt();\n                    sc.nextInt();\n                    System.out.println(&quot;Goals visited?&quot;);\n                    int N = sc.nextInt();\n                    sc.nextInt();\n                    System.out.println(&quot;Goals Visitor?&quot;);\n                    int M = sc.nextInt();\n                    sc.nextInt();\n                    \n                    Iterator&lt;Game&gt; iter2 = games.iterator();                     \n                      while(iter2.hasNext()){\n                        Game j = games.get(s); \n                        j.setResult(N,M);\n                        \n                }\n                    break;\n            }\n     }\n}\n\n\npublic static void main(String[] args) {\n    Championship c = new Championship();\n    c.Run();\n        }\n        \n</code></pre>\n"}],"owner":{"account_id":25703302,"reputation":53,"user_id":19463036,"display_name":"nuno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656866291,"creation_date":1656863680,"question_id":72847953,"body_markdown":"I made a program that utilizes 3 classes, Championship, Game and Club. My methods inside game and club are fine but it&#39;s in the main method of Championship class where I&#39;m having issues. I have 2 arraylists, one with objects club and one with objects game. In my main method, I created a menu using a while loop and switch case for the user to 1- create a club, 2- create a game, 3- list results, and 4- register results. However, all my cases have the same issue: the non static variables (arraylists) cannot be accessed in the static context. So, I don&#39;t know how to access my arraylists. Everywhere I get an error, there&#39;s a comment, but again, they are all the same and all regard the arraylists. Help&#39;s appreciated!\r\n\r\nLeaving relevant code down here with comments on where Im getting this error.\r\n\r\n```\r\npublic class Championship{\r\n\r\n\r\n    ArrayList&lt;Club&gt; clubs;\r\n    ArrayList&lt;Game&gt; games;\r\n\r\n    public Championship() {\r\n        clubs = new ArrayList();\r\n        games = new ArrayList();\r\n    }\r\n    \r\n    \r\n    \r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int option = -1;\r\n        \r\n        while(option!=0){\r\n            System.out.println(&quot;\\t1- Create Club&quot;);\r\n            System.out.println(&quot;\\t2- Create game&quot;);\r\n            System.out.println(&quot;\\t3- List results&quot;);\r\n            System.out.println(&quot;\\t4- Register result by index&quot;);\r\n            option = sc.nextInt();\r\n            switch( op&#231;ao ){\r\n                case 1:\r\n                    System.out.println(&quot;Insert club name.&quot;);\r\n                    String n = sc.nextLine();\r\n                    sc.nextLine();\r\n                    System.out.println(&quot;Insert club city.&quot;);\r\n                    String c = sc.nextLine();\r\n                    sc.nextLine();\r\n                    clubs.add(new Club(n, c)); //ERROR: non static clubs cannot be referenced here in static context\r\n                    break;\r\n                case 2:\r\n                    Iterator&lt;Club&gt; iter = clubs.iterator(); //ERROR: non static clubs cannot be referenced here in static context\r\n                    while(iter.hasNext()){\r\n                        Club a = iter.next();\r\n                        Club b = iter.next();\r\n                        if(a != b){\r\n                           games.add(new Game(a, b)); //ERROR: non static games cannot be referenced here in static context\r\n                        }\r\n                    }\r\n                    break;\r\n                case 3:\r\n                    for(Game game : games){  //ERROR: non static clubs cannot be referenced here in static context\r\n                        System.out.println(game.getM() + &quot; : &quot; + game.getN());\r\n                    }\r\n                case 4:\r\n                    System.out.println(&quot;Game index&quot;);\r\n                    int s = sc.nextInt();\r\n                    sc.nextInt();\r\n                    System.out.println(&quot;Goals visited?&quot;);\r\n                    int N = sc.nextInt();\r\n                    sc.nextInt();\r\n                    System.out.println(&quot;Goals Visitor?&quot;);\r\n                    int M = sc.nextInt();\r\n                    sc.nextInt();\r\n                    \r\n                    Iterator&lt;Game&gt; iter2 = games.iterator(); //ERROR: non static clubs cannot be referenced here in static context\r\n                    while(iter2.hasNext()){\r\n                        Game j = games.get(s); //ERROR: non static clubs cannot be referenced here in static context\r\n                        j.setResult(N,M);\r\n                        \r\n                }\r\n                    break;\r\n            }\r\n        }\r\n        \r\n```\r\n\r\n```\r\npublic class Club {\r\n    private String name;\r\n    private String city;\r\n\r\n    public Clube(String name, String city) {\r\n        this.name = name;\r\n        this.city = city;\r\n    }\r\n\r\n    public String getCity() {\r\n        return city;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class Game{\r\n    private Clube visited;\r\n    private Clube visitor;\r\n    private int N;\r\n    private int M;\r\n\r\n    public Game(Club visited, Club visitor) {\r\n        this.visited= visited;\r\n        this.visitor= visitor;\r\n    }\r\n\r\n\r\n    public void setResult(int N, int M) {\r\n        this.N = N;\r\n        this.M = M;\r\n    }\r\n\r\n    public int getM() {\r\n        return M;\r\n    }\r\n\r\n    public int getN() {\r\n        return N;\r\n    }\r\n```","title":"Cannot add to arraylist inside while loop inside the main method","body":"<p>I made a program that utilizes 3 classes, Championship, Game and Club. My methods inside game and club are fine but it's in the main method of Championship class where I'm having issues. I have 2 arraylists, one with objects club and one with objects game. In my main method, I created a menu using a while loop and switch case for the user to 1- create a club, 2- create a game, 3- list results, and 4- register results. However, all my cases have the same issue: the non static variables (arraylists) cannot be accessed in the static context. So, I don't know how to access my arraylists. Everywhere I get an error, there's a comment, but again, they are all the same and all regard the arraylists. Help's appreciated!</p>\n<p>Leaving relevant code down here with comments on where Im getting this error.</p>\n<pre><code>public class Championship{\n\n\n    ArrayList&lt;Club&gt; clubs;\n    ArrayList&lt;Game&gt; games;\n\n    public Championship() {\n        clubs = new ArrayList();\n        games = new ArrayList();\n    }\n    \n    \n    \n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int option = -1;\n        \n        while(option!=0){\n            System.out.println(&quot;\\t1- Create Club&quot;);\n            System.out.println(&quot;\\t2- Create game&quot;);\n            System.out.println(&quot;\\t3- List results&quot;);\n            System.out.println(&quot;\\t4- Register result by index&quot;);\n            option = sc.nextInt();\n            switch( op√ßao ){\n                case 1:\n                    System.out.println(&quot;Insert club name.&quot;);\n                    String n = sc.nextLine();\n                    sc.nextLine();\n                    System.out.println(&quot;Insert club city.&quot;);\n                    String c = sc.nextLine();\n                    sc.nextLine();\n                    clubs.add(new Club(n, c)); //ERROR: non static clubs cannot be referenced here in static context\n                    break;\n                case 2:\n                    Iterator&lt;Club&gt; iter = clubs.iterator(); //ERROR: non static clubs cannot be referenced here in static context\n                    while(iter.hasNext()){\n                        Club a = iter.next();\n                        Club b = iter.next();\n                        if(a != b){\n                           games.add(new Game(a, b)); //ERROR: non static games cannot be referenced here in static context\n                        }\n                    }\n                    break;\n                case 3:\n                    for(Game game : games){  //ERROR: non static clubs cannot be referenced here in static context\n                        System.out.println(game.getM() + &quot; : &quot; + game.getN());\n                    }\n                case 4:\n                    System.out.println(&quot;Game index&quot;);\n                    int s = sc.nextInt();\n                    sc.nextInt();\n                    System.out.println(&quot;Goals visited?&quot;);\n                    int N = sc.nextInt();\n                    sc.nextInt();\n                    System.out.println(&quot;Goals Visitor?&quot;);\n                    int M = sc.nextInt();\n                    sc.nextInt();\n                    \n                    Iterator&lt;Game&gt; iter2 = games.iterator(); //ERROR: non static clubs cannot be referenced here in static context\n                    while(iter2.hasNext()){\n                        Game j = games.get(s); //ERROR: non static clubs cannot be referenced here in static context\n                        j.setResult(N,M);\n                        \n                }\n                    break;\n            }\n        }\n        \n</code></pre>\n<pre><code>public class Club {\n    private String name;\n    private String city;\n\n    public Clube(String name, String city) {\n        this.name = name;\n        this.city = city;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n\n</code></pre>\n<pre><code>public class Game{\n    private Clube visited;\n    private Clube visitor;\n    private int N;\n    private int M;\n\n    public Game(Club visited, Club visitor) {\n        this.visited= visited;\n        this.visitor= visitor;\n    }\n\n\n    public void setResult(int N, int M) {\n        this.N = N;\n        this.M = M;\n    }\n\n    public int getM() {\n        return M;\n    }\n\n    public int getN() {\n        return N;\n    }\n</code></pre>\n"},{"tags":["java","spring","rest"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656866253,"creation_date":1656866253,"answer_id":72848240,"question_id":72848179,"body_markdown":"If you&#39;re using spring-web, then you can inject an instance of `RestTemplate` into your service and call its `getForEntity` method.  It returns a `ResponseEntity`\r\n\r\nSomething like this...\r\n\r\n\r\n    @Autowired\r\n    private RestTemplate restTemplate;\r\n\r\n    ....\r\n\r\n    public void myServicePinger() {\r\n       HttpStatus statusCode = restTemplate.getForEntity(&quot;someUrl&quot;, String.class).getStatusCode();\r\n\r\n       log.info(statusCode);\r\n    }\r\n\r\n","title":"best way to make spring app pinging different urls?","body":"<p>If you're using spring-web, then you can inject an instance of <code>RestTemplate</code> into your service and call its <code>getForEntity</code> method.  It returns a <code>ResponseEntity</code></p>\n<p>Something like this...</p>\n<pre><code>@Autowired\nprivate RestTemplate restTemplate;\n\n....\n\npublic void myServicePinger() {\n   HttpStatus statusCode = restTemplate.getForEntity(&quot;someUrl&quot;, String.class).getStatusCode();\n\n   log.info(statusCode);\n}\n</code></pre>\n"}],"owner":{"account_id":19324611,"reputation":23,"user_id":14127574,"display_name":"Chilled Shark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72848240,"answer_count":1,"score":0,"last_activity_date":1656866253,"creation_date":1656865726,"question_id":72848179,"body_markdown":"I&#39;m trying to create spring program that basically pings different URLs and returns to json their http status code. I know how to check the connection in java using HttpURLConnection but I&#39;m not sure what&#39;s the preferred way for REST service to do it. I&#39;m new to this so any point guidance in the right direction will be much appreciated.","title":"best way to make spring app pinging different urls?","body":"<p>I'm trying to create spring program that basically pings different URLs and returns to json their http status code. I know how to check the connection in java using HttpURLConnection but I'm not sure what's the preferred way for REST service to do it. I'm new to this so any point guidance in the right direction will be much appreciated.</p>\n"},{"tags":["java","algorithm","data-structures","tree"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656865499,"creation_date":1656865499,"answer_id":72848160,"question_id":72847909,"body_markdown":"Every call of `currentpath.add` should be mirrored by a call of `currentpath.remove`. Your code does this fine, except in the bock below:\r\n\r\n\r\n```\r\n       if (node.left == null &amp;&amp; node.right == null) {\r\n            if (currentSum + node.val &lt; minsum[0]) {\r\n                minsum[0] = currentSum + node.val;\r\n                currentpath.add(node.val);\r\n                result.clear();\r\n                result.addAll(new ArrayList&lt;&gt;(currentpath));\r\n                return;\r\n            }\r\n        }\r\n```\r\n\r\nSo add that call of `remove` just before `return`.","title":"Java : Binary tree Root to Leaf path with Minimum sum","body":"<p>Every call of <code>currentpath.add</code> should be mirrored by a call of <code>currentpath.remove</code>. Your code does this fine, except in the bock below:</p>\n<pre><code>       if (node.left == null &amp;&amp; node.right == null) {\n            if (currentSum + node.val &lt; minsum[0]) {\n                minsum[0] = currentSum + node.val;\n                currentpath.add(node.val);\n                result.clear();\n                result.addAll(new ArrayList&lt;&gt;(currentpath));\n                return;\n            }\n        }\n</code></pre>\n<p>So add that call of <code>remove</code> just before <code>return</code>.</p>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72848160,"answer_count":1,"score":1,"last_activity_date":1656865499,"creation_date":1656863369,"question_id":72847909,"body_markdown":"I&#39;m trying to find Minimum path sum from root to leaf also need to compute the minimum path. My solution works if the solution is in left sub tree, however if the result is in right subtree root node is added twice in the result path, can someone please take a look at my solution and help me fixing this bug, also suggest better runtime solution if there is any\r\n\r\n\r\n\timport java.util.ArrayList;\r\n\timport java.util.LinkedList;\r\n\timport java.util.List;\r\n\timport java.util.Queue;\r\n\r\n\timport static java.lang.System.out;\r\n\r\n\tpublic class MinPathSumFromRootToLeaf {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tTreeNode root = new TreeNode(-1);\r\n\t\t\tTreeNode left1 = new TreeNode(2);\r\n\t\t\tTreeNode right1 = new TreeNode(1);//3\r\n\t\t\tTreeNode left2 = new TreeNode(4);\r\n\t\t\troot.left = left1;\r\n\t\t\troot.right = right1;\r\n\t\t\tleft1.left = left2;\r\n\t\t\tTreeNode left3 = new TreeNode(0);//5\r\n\t\t\tTreeNode right3 = new TreeNode(1);//6\r\n\t\t\tright1.left = left3;\r\n\t\t\tright1.right = right3;\r\n\t\t\tleft3.left = new TreeNode(0);//7\r\n\t\t\tright3.left = new TreeNode(8);\r\n\t\t\tright3.right = new TreeNode(1);//9\r\n\t\t\tprintLevelOrder(root);\r\n\t\t\tshortestPathFromRootToLeaf(root);\r\n\t\t}\r\n\r\n\t\tprivate static void shortestPathFromRootToLeaf(TreeNode root) {\r\n\t\t\tList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n\t\t\tint minsum[] = new int[1];\r\n\t\t\tminsum[0] = Integer.MAX_VALUE;\r\n\t\t\tbacktrack(root, result, new ArrayList&lt;&gt;(), 0, minsum);\r\n\t\t\tout.println(result + &quot; minsum &quot; + minsum[0]);\r\n\t\t}\r\n\r\n\t\tprivate static void backtrack(TreeNode node, List&lt;Integer&gt; result, List&lt;Integer&gt; currentpath, int currentSum, int[] minsum) {\r\n\t\t\tif (node == null || currentSum &gt; minsum[0]) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (node.left == null &amp;&amp; node.right == null) {\r\n\t\t\t\tif (currentSum + node.val &lt; minsum[0]) {\r\n\t\t\t\t\tminsum[0] = currentSum + node.val;\r\n\t\t\t\t\tcurrentpath.add(node.val);\r\n\t\t\t\t\tresult.clear();\r\n\t\t\t\t\tresult.addAll(new ArrayList&lt;&gt;(currentpath));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (node.left != null) {\r\n\t\t\t\tcurrentpath.add(node.val);\r\n\t\t\t\tbacktrack(node.left, result, currentpath, currentSum + node.val, minsum);\r\n\t\t\t\tcurrentpath.remove(currentpath.size() - 1);\r\n\t\t\t}\r\n\t\t\tif (node.right != null) {\r\n\t\t\t\tcurrentpath.add(node.val);\r\n\t\t\t\tbacktrack(node.right, result, currentpath, currentSum + node.val, minsum);\r\n\t\t\t\tcurrentpath.remove(currentpath.size() - 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tstatic class TreeNode {\r\n\t\tpublic int val;\r\n\t\tpublic TreeNode left;\r\n\t\tpublic TreeNode right;\r\n\t\tpublic TreeNode() {}\r\n\t\tpublic TreeNode(int val) { this.val = val; }\r\n\t\tpublic TreeNode(int val, TreeNode left, TreeNode right) {\r\n\t\t\t  this.val = val;\r\n\t\t\t  this.left = left;\r\n\t\t\t  this.right = right;\r\n\t\t  }\r\n\t  }\r\n\t\tstatic class QItem {\r\n\t\t\tTreeNode node;\r\n\t\t\tint depth;\r\n\r\n\t\t\tpublic QItem(TreeNode node, int depth) {\r\n\t\t\t\tthis.node = node;\r\n\t\t\t\tthis.depth = depth;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tstatic void printLevelOrder(TreeNode root) {\r\n\t\t\tLinkedList&lt;QItem&gt; queue = new LinkedList&lt;&gt;();\r\n\t\t\tArrayList&lt;TreeNode&gt; level = new ArrayList&lt;&gt;();\r\n\t\t\tint depth = height(root);\r\n\t\t\tqueue.add(new QItem(root, depth));\r\n\t\t\tfor (; ; ) {\r\n\t\t\t\tQItem curr = queue.poll();\r\n\t\t\t\tif (curr.depth &lt; depth) {\r\n\t\t\t\t\tdepth = curr.depth;\r\n\t\t\t\t\tfor (int i = (int) Math.pow(2, depth) - 1; i &gt; 0; i--) {\r\n\t\t\t\t\t\tout.print(&quot; &quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (TreeNode n : level) {\r\n\t\t\t\t\t\tout.print(n == null ? &quot; &quot; : n.val);\r\n\t\t\t\t\t\tfor (int i = (int) Math.pow(2, depth + 1); i &gt; 1; i--) {\r\n\t\t\t\t\t\t\tout.print(&quot; &quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tout.println();\r\n\t\t\t\t\tlevel.clear();\r\n\t\t\t\t\tif (curr.depth &lt;= 0) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlevel.add(curr.node);\r\n\t\t\t\tif (curr.node == null) {\r\n\t\t\t\t\tqueue.add(new QItem(null, depth - 1));\r\n\t\t\t\t\tqueue.add(new QItem(null, depth - 1));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tqueue.add(new QItem(curr.node.left, depth - 1));\r\n\t\t\t\t\tqueue.add(new QItem(curr.node.right, depth - 1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tstatic int height(TreeNode root) {\r\n\t\t\treturn root == null ? 0 : 1 + Math.max(\r\n\t\t\t\t\theight(root.left), height(root.right)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tstatic void printTree(TreeNode root) {\r\n\t\t\tQueue&lt;TreeNode&gt; q = new LinkedList&lt;&gt;();\r\n\t\t\tq.offer(root);\r\n\t\t\twhile (!q.isEmpty()) {\r\n\t\t\t\tint size = q.size();\r\n\t\t\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\t\t\tTreeNode temp = q.poll();\r\n\t\t\t\t\tout.print(&quot; &quot; + temp.val + &quot; &quot;);\r\n\t\t\t\t\tif (temp.left != null) q.offer(temp.left);\r\n\t\t\t\t\tif (temp.right != null) q.offer(temp.right);\r\n\t\t\t\t}\r\n\t\t\t\tout.println();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nI am using backtracking to visit all nodes, I think time complexity of my solution would be O(N) (since all the nodes should be visited, please correct me if am wrong)","title":"Java : Binary tree Root to Leaf path with Minimum sum","body":"<p>I'm trying to find Minimum path sum from root to leaf also need to compute the minimum path. My solution works if the solution is in left sub tree, however if the result is in right subtree root node is added twice in the result path, can someone please take a look at my solution and help me fixing this bug, also suggest better runtime solution if there is any</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Queue;\n\nimport static java.lang.System.out;\n\npublic class MinPathSumFromRootToLeaf {\n\n    public static void main(String[] args) {\n        TreeNode root = new TreeNode(-1);\n        TreeNode left1 = new TreeNode(2);\n        TreeNode right1 = new TreeNode(1);//3\n        TreeNode left2 = new TreeNode(4);\n        root.left = left1;\n        root.right = right1;\n        left1.left = left2;\n        TreeNode left3 = new TreeNode(0);//5\n        TreeNode right3 = new TreeNode(1);//6\n        right1.left = left3;\n        right1.right = right3;\n        left3.left = new TreeNode(0);//7\n        right3.left = new TreeNode(8);\n        right3.right = new TreeNode(1);//9\n        printLevelOrder(root);\n        shortestPathFromRootToLeaf(root);\n    }\n\n    private static void shortestPathFromRootToLeaf(TreeNode root) {\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n        int minsum[] = new int[1];\n        minsum[0] = Integer.MAX_VALUE;\n        backtrack(root, result, new ArrayList&lt;&gt;(), 0, minsum);\n        out.println(result + &quot; minsum &quot; + minsum[0]);\n    }\n\n    private static void backtrack(TreeNode node, List&lt;Integer&gt; result, List&lt;Integer&gt; currentpath, int currentSum, int[] minsum) {\n        if (node == null || currentSum &gt; minsum[0]) {\n            return;\n        }\n        if (node.left == null &amp;&amp; node.right == null) {\n            if (currentSum + node.val &lt; minsum[0]) {\n                minsum[0] = currentSum + node.val;\n                currentpath.add(node.val);\n                result.clear();\n                result.addAll(new ArrayList&lt;&gt;(currentpath));\n                return;\n            }\n        }\n        if (node.left != null) {\n            currentpath.add(node.val);\n            backtrack(node.left, result, currentpath, currentSum + node.val, minsum);\n            currentpath.remove(currentpath.size() - 1);\n        }\n        if (node.right != null) {\n            currentpath.add(node.val);\n            backtrack(node.right, result, currentpath, currentSum + node.val, minsum);\n            currentpath.remove(currentpath.size() - 1);\n        }\n    }\n    \n    static class TreeNode {\n    public int val;\n    public TreeNode left;\n    public TreeNode right;\n    public TreeNode() {}\n    public TreeNode(int val) { this.val = val; }\n    public TreeNode(int val, TreeNode left, TreeNode right) {\n          this.val = val;\n          this.left = left;\n          this.right = right;\n      }\n  }\n    static class QItem {\n        TreeNode node;\n        int depth;\n\n        public QItem(TreeNode node, int depth) {\n            this.node = node;\n            this.depth = depth;\n        }\n    }\n\n    static void printLevelOrder(TreeNode root) {\n        LinkedList&lt;QItem&gt; queue = new LinkedList&lt;&gt;();\n        ArrayList&lt;TreeNode&gt; level = new ArrayList&lt;&gt;();\n        int depth = height(root);\n        queue.add(new QItem(root, depth));\n        for (; ; ) {\n            QItem curr = queue.poll();\n            if (curr.depth &lt; depth) {\n                depth = curr.depth;\n                for (int i = (int) Math.pow(2, depth) - 1; i &gt; 0; i--) {\n                    out.print(&quot; &quot;);\n                }\n                for (TreeNode n : level) {\n                    out.print(n == null ? &quot; &quot; : n.val);\n                    for (int i = (int) Math.pow(2, depth + 1); i &gt; 1; i--) {\n                        out.print(&quot; &quot;);\n                    }\n                }\n                out.println();\n                level.clear();\n                if (curr.depth &lt;= 0) {\n                    break;\n                }\n            }\n            level.add(curr.node);\n            if (curr.node == null) {\n                queue.add(new QItem(null, depth - 1));\n                queue.add(new QItem(null, depth - 1));\n            } else {\n                queue.add(new QItem(curr.node.left, depth - 1));\n                queue.add(new QItem(curr.node.right, depth - 1));\n            }\n        }\n    }\n\n    static int height(TreeNode root) {\n        return root == null ? 0 : 1 + Math.max(\n                height(root.left), height(root.right)\n        );\n    }\n\n    static void printTree(TreeNode root) {\n        Queue&lt;TreeNode&gt; q = new LinkedList&lt;&gt;();\n        q.offer(root);\n        while (!q.isEmpty()) {\n            int size = q.size();\n            for (int i = 0; i &lt; size; i++) {\n                TreeNode temp = q.poll();\n                out.print(&quot; &quot; + temp.val + &quot; &quot;);\n                if (temp.left != null) q.offer(temp.left);\n                if (temp.right != null) q.offer(temp.right);\n            }\n            out.println();\n        }\n    }\n    \n}\n</code></pre>\n<p>I am using backtracking to visit all nodes, I think time complexity of my solution would be O(N) (since all the nodes should be visited, please correct me if am wrong)</p>\n"},{"tags":["java","css","spring"],"answers":[{"tags":[],"owner":{"account_id":8713033,"reputation":11,"user_id":9527149,"display_name":"user9527149"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656865151,"creation_date":1656865151,"answer_id":72848124,"question_id":72845988,"body_markdown":"Try to add such thing \r\n```@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n      \r\n        registry\r\n            .addResourceHandler(&quot;/css/**&quot;)\r\n            .addResourceLocations(&quot;classpath:/static/css/&quot;);\r\n    }\r\n}\r\n```","title":"How to add css to a Spring Boot project?","body":"<p>Try to add such thing</p>\n<pre><code>public class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n      \n        registry\n            .addResourceHandler(&quot;/css/**&quot;)\n            .addResourceLocations(&quot;classpath:/static/css/&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24556135,"reputation":1,"user_id":18789958,"display_name":"–ë–æ–≥–¥–∞–Ω –•–∞—Ä–∞—à—É–∫"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656865381,"creation_date":1656846606,"question_id":72845988,"body_markdown":"When I include css it throws an error o.s.web.servlet.PageNotFound: No match for GET /css/s.css\r\nIn spring sequiriti I have added\r\n\r\n      .antMatchers(&quot;/css/**&quot;).permitAll()\r\n\r\nLink in html:\r\n\r\n      &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/css/s.css}&quot;&gt;\r\n\r\narchitecture folders:\r\n\r\n \r\n\r\n      -Resources\r\n        -static\r\n           -css\r\n              -s.css\r\n         -templates\r\n           -main\r\n              -home.html","title":"How to add css to a Spring Boot project?","body":"<p>When I include css it throws an error o.s.web.servlet.PageNotFound: No match for GET /css/s.css\nIn spring sequiriti I have added</p>\n<pre><code>  .antMatchers(&quot;/css/**&quot;).permitAll()\n</code></pre>\n<p>Link in html:</p>\n<pre><code>  &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/css/s.css}&quot;&gt;\n</code></pre>\n<p>architecture folders:</p>\n<pre><code>  -Resources\n    -static\n       -css\n          -s.css\n     -templates\n       -main\n          -home.html\n</code></pre>\n"},{"tags":["java","jsp","jakarta-ee","include","server-side-includes"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":1,"creation_date":1656947935,"post_id":72847833,"comment_id":128689054,"body_markdown":"If you want b.jsp to be included by only a.jsp, then create a scripting variable in a.jsp that can be used like a password.  In b.jsp, use a conditional that will check for that password. If it does find the password, then it will proceed to do its scripting. Don&#39;t use any templete text, use out.print lines in the conditional script.  This way when an unauthorized file trys to include b.jsp, it won&#39;t get any output.","body":"If you want b.jsp to be included by only a.jsp, then create a scripting variable in a.jsp that can be used like a password.  In b.jsp, use a conditional that will check for that password. If it does find the password, then it will proceed to do its scripting. Don&#39;t use any templete text, use out.print lines in the conditional script.  This way when an unauthorized file trys to include b.jsp, it won&#39;t get any output."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1656973161,"post_id":72847833,"comment_id":128695188,"body_markdown":"@rickz That would work for the security aspect. But there is still the problem that file b doesn&#39;t know it&#39;s included from file a and therefor has to access to its variablels and content.","body":"@rickz That would work for the security aspect. But there is still the problem that file b doesn&#39;t know it&#39;s included from file a and therefor has to access to its variablels and content."},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1656974587,"post_id":72847833,"comment_id":128695398,"body_markdown":"File b will have access to flie a&#39;s  variables.  You are using the include directive.  File b is merged with file a during the translation phase. Did you try using my idea?","body":"File b will have access to flie a&#39;s  variables.  You are using the include directive.  File b is merged with file a during the translation phase. Did you try using my idea?"},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657035862,"post_id":72847833,"comment_id":128711388,"body_markdown":"@rickz I did and I know that access to variables works. Still the syntax highlighting marks these variables as error because they cannot be resolved in the scope of file b. So I have to compile a program with errors that actually aren&#39;t errors at all. Is there any way to avoid that problem? (That&#39;s what I ment with importing the other file)","body":"@rickz I did and I know that access to variables works. Still the syntax highlighting marks these variables as error because they cannot be resolved in the scope of file b. So I have to compile a program with errors that actually aren&#39;t errors at all. Is there any way to avoid that problem? (That&#39;s what I ment with importing the other file)"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1657058208,"post_id":72847833,"comment_id":128718196,"body_markdown":"I guess that you are talking about errors in your IDE.   Could you compile your program without file b ?  Once your web app is on the server,  you could add file b at that time.","body":"I guess that you are talking about errors in your IDE.   Could you compile your program without file b ?  Once your web app is on the server,  you could add file b at that time."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657101276,"post_id":72847833,"comment_id":128727430,"body_markdown":"@rickz How is that gonna fix the errors in the IDE? To be honest I still think the problem isn&#39;t IDE based since passing on a private key as you said is just some kind of workaround that disallowes the access to the page itself but doesn&#39;t fix the entire problem. I mean it works, so I&#39;m greateful for that, but it doesn&#39;t fix the problem at it&#39;s root.","body":"@rickz How is that gonna fix the errors in the IDE? To be honest I still think the problem isn&#39;t IDE based since passing on a private key as you said is just some kind of workaround that disallowes the access to the page itself but doesn&#39;t fix the entire problem. I mean it works, so I&#39;m greateful for that, but it doesn&#39;t fix the problem at it&#39;s root."}],"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656864711,"creation_date":1656862772,"question_id":72847833,"body_markdown":"Let&#39;s say I have a file called `a.jsp` which includes another file:\r\n\r\n    &lt;%\r\n    String a = &quot;Test&quot;;\r\n    %&gt;\r\n    ...\r\n    &lt;%@include file=&quot;b.jsp&quot;%&gt;\r\n    ...\r\nThe file `b.jsp` accesses the variable from the file it gets included from:\r\n\r\n    ...\r\n    &lt;%= a %&gt;\r\n    ...\r\n\r\nIf `a.jsp` gets called everything works fine and the string gets printed even though it was declared in another file.\r\n\r\nNevertheless `b.jsp` can&#39;t be called by itself and the syntax highlighting marks the reference to `a` as an error because the variable `a` is not present in in this file.\r\n\r\nSo my question is: Is there some way to &#39;import&#39; another JSP file or to allow a file only to be included by a specific other file?","title":"JSP include variable passing","body":"<p>Let's say I have a file called <code>a.jsp</code> which includes another file:</p>\n<pre><code>&lt;%\nString a = &quot;Test&quot;;\n%&gt;\n...\n&lt;%@include file=&quot;b.jsp&quot;%&gt;\n...\n</code></pre>\n<p>The file <code>b.jsp</code> accesses the variable from the file it gets included from:</p>\n<pre><code>...\n&lt;%= a %&gt;\n...\n</code></pre>\n<p>If <code>a.jsp</code> gets called everything works fine and the string gets printed even though it was declared in another file.</p>\n<p>Nevertheless <code>b.jsp</code> can't be called by itself and the syntax highlighting marks the reference to <code>a</code> as an error because the variable <code>a</code> is not present in in this file.</p>\n<p>So my question is: Is there some way to 'import' another JSP file or to allow a file only to be included by a specific other file?</p>\n"},{"tags":["java","android-studio","android-recyclerview","sharedpreferences"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1656867853,"post_id":72848045,"comment_id":128670924,"body_markdown":"use this code `books.remove(position);` where you want to remove from recyclerView. Here `books` is your ArrayList of books.","body":"use this code <code>books.remove(position);</code> where you want to remove from recyclerView. Here <code>books</code> is your ArrayList of books."},{"owner":{"account_id":259035,"reputation":12666,"user_id":541624,"accept_rate":64,"display_name":"ericn"},"score":0,"creation_date":1677105757,"post_id":72848045,"comment_id":133274650,"body_markdown":"This looks like a duplicate of https://stackoverflow.com/questions/73219124/how-to-remove-the-exact-item-from-recyclerview-in-android-studio. Can you check it out @Shanuka_N?","body":"This looks like a duplicate of <a href=\"https://stackoverflow.com/questions/73219124/how-to-remove-the-exact-item-from-recyclerview-in-android-studio\" title=\"how to remove the exact item from recyclerview in android studio\">stackoverflow.com/questions/73219124/&hellip;</a>. Can you check it out @Shanuka_N?"}],"owner":{"account_id":25715622,"reputation":1,"user_id":19473450,"display_name":"Shanuka_N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656864382,"creation_date":1656864382,"question_id":72848045,"body_markdown":"i tried to delete an item in sharedPreferences, in recyclerView adapter. but that item doesn&#39;t disappear till I go back from the activity and come back. I need it to disappear soon after being deleted. \r\n\r\n**Method**\r\n\r\n    public boolean RemoveFromWantToRead(AllBooksActivityModel book) {\r\n            ArrayList&lt;AllBooksActivityModel&gt;books = getWantToReadBooks();\r\n            if (null != books){\r\n                for (AllBooksActivityModel b: books){\r\n                    if (b.getBookID() == book.getBookID()){\r\n                        if (books.remove(b)){\r\n                            //We create a &#39;if&#39; loop here is if only the thing happened, the loop actions.\r\n                            Gson gson = new Gson();\r\n                            SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                            editor.remove(WANT_TO_READ_BOOKS);\r\n                            editor.putString(WANT_TO_READ_BOOKS,gson.toJson(books));\r\n                            editor.commit();\r\n                            return true;\r\n                        }\r\n    \r\n                    }            }\r\n            }return false;\r\n        }\r\nThis is how I tried to delete an item.\r\n\r\n     holder.BtnDltTxt.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        AlertDialog.Builder builder = new AlertDialog.Builder(context);\r\n                        builder.setMessage(&quot;Do you want to delete this massage&quot;);\r\n                        builder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                String EleName = allBooksActivityModels.get(position).getBookName();\r\n                                if( Ulitls.getInstance(context).RemoveFromCurrenlyReading(allBooksActivityModels.get(position))){\r\n                                    Toast.makeText(context, EleName + &quot; Removed&quot;, Toast.LENGTH_SHORT).show();\r\n                                    notifyDataSetChanged();\r\n                                    \r\n                                }else{\r\n                                    Toast.makeText(context, &quot;Something Wrong Happens, Try again&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n                        builder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n\r\n                            }\r\n                        });\r\n                        builder.create().show();\r\n                    }\r\n                });\r\n\r\n","title":"deleting item in sharedPreferences from recyclerView adapter","body":"<p>i tried to delete an item in sharedPreferences, in recyclerView adapter. but that item doesn't disappear till I go back from the activity and come back. I need it to disappear soon after being deleted.</p>\n<p><strong>Method</strong></p>\n<pre><code>public boolean RemoveFromWantToRead(AllBooksActivityModel book) {\n        ArrayList&lt;AllBooksActivityModel&gt;books = getWantToReadBooks();\n        if (null != books){\n            for (AllBooksActivityModel b: books){\n                if (b.getBookID() == book.getBookID()){\n                    if (books.remove(b)){\n                        //We create a 'if' loop here is if only the thing happened, the loop actions.\n                        Gson gson = new Gson();\n                        SharedPreferences.Editor editor = sharedPreferences.edit();\n                        editor.remove(WANT_TO_READ_BOOKS);\n                        editor.putString(WANT_TO_READ_BOOKS,gson.toJson(books));\n                        editor.commit();\n                        return true;\n                    }\n\n                }            }\n        }return false;\n    }\n</code></pre>\n<p>This is how I tried to delete an item.</p>\n<pre><code> holder.BtnDltTxt.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    AlertDialog.Builder builder = new AlertDialog.Builder(context);\n                    builder.setMessage(&quot;Do you want to delete this massage&quot;);\n                    builder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            String EleName = allBooksActivityModels.get(position).getBookName();\n                            if( Ulitls.getInstance(context).RemoveFromCurrenlyReading(allBooksActivityModels.get(position))){\n                                Toast.makeText(context, EleName + &quot; Removed&quot;, Toast.LENGTH_SHORT).show();\n                                notifyDataSetChanged();\n                                \n                            }else{\n                                Toast.makeText(context, &quot;Something Wrong Happens, Try again&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    });\n                    builder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n\n                        }\n                    });\n                    builder.create().show();\n                }\n            });\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":1,"creation_date":1656801536,"post_id":72842746,"comment_id":128661108,"body_markdown":"Try to work with indexes. You can select a random index by using `Random.nextInt(cap)` with the size of the collection as cap.","body":"Try to work with indexes. You can select a random index by using <code>Random.nextInt(cap)</code> with the size of the collection as cap."},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1656804098,"post_id":72842746,"comment_id":128661405,"body_markdown":"not familiar with java, but I vote that you&#39;ve configured something with `@Aggregation` incorrectly. Try debug filter value actually provided to a method or print it somewhere","body":"not familiar with java, but I vote that you&#39;ve configured something with <code>@Aggregation</code> incorrectly. Try debug filter value actually provided to a method or print it somewhere"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1656808221,"post_id":72842746,"comment_id":128661809,"body_markdown":"Your title doesn&#39;t align with your question description, and I think that&#39;s your problem in reality: You&#39;re trying to do too much in your methods. The answer to your question as titled is `PackageHoliday randomPackageHoliday = myPackageHolidayList.get(Random.nextInt(myPackageHolidayList.size());`. None of the text in your question has anything to do with the title or the solution. Please advise.","body":"Your title doesn&#39;t align with your question description, and I think that&#39;s your problem in reality: You&#39;re trying to do too much in your methods. The answer to your question as titled is <code>PackageHoliday randomPackageHoliday = myPackageHolidayList.get(Random.nextInt(myPackageHolidayList&zwnj;&#8203;.size());</code>. None of the text in your question has anything to do with the title or the solution. Please advise."}],"answers":[{"tags":[],"owner":{"account_id":9792826,"reputation":233,"user_id":7256886,"display_name":"Pouya Kermanshahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656864308,"creation_date":1656851796,"answer_id":72846559,"question_id":72842746,"body_markdown":"You can use `MongoTemplate` to implement your aggregation pipeline.\r\nHere is the code snippet:\r\n\r\n\t\tvar match = Aggregation.match(Criteria.where(&quot;typeOfPackageHoliday&quot;).regex(&quot;.*&quot; + &quot;{matchString}&quot; + &quot;.*&quot;, &quot;i&quot;));\r\n\t\tvar sample = Aggregation.sample(1);\r\n\t\tvar results  = mongoTemplate.aggregate(Aggregation.newAggregation(match, sample), PackageHoliday.class, PackageHoliday.class).getMappedResults();\r\n\t\tSystem.out.println(results);\r\n\r\nFirst you need to add a match stage to filter documents that contains your string in their `typeOfPackageHoliday` field:\r\n\r\n    var match = Aggregation.match(Criteria.where(&quot;typeOfPackageHoliday&quot;).regex(&quot;.*&quot; + {matchString} + &quot;.*&quot;, &quot;i&quot;));\r\n\r\nThen we need to add the `sample` stage to fetch random elements from filtered documents(Here we just take **one** element from filtered documents):\r\n\r\n    var sample = Aggregation.sample(1);\r\n\r\nAnd at last stich all of them together and create Aggregaton pipeline and\r\nfetch the results:\r\n\r\n    \tvar results  = mongoTemplate.aggregate(Aggregation.newAggregation(match, sample), PackageHoliday.class, PackageHoliday.class).getMappedResults();\r\n\t\tSystem.out.println(results);\r\n\r\nI tested this solution with a dummy collection and it worked for me.\r\nHope it will fix your problem\r\n\r\nYou can inject `MongoTemplate` in your classes like below:\r\n\r\n    @Autowire\r\n    private MongoTemplate mongoTemplate\r\n\r\n**Update**:\r\nYou can add this code to your controller like below:\r\n\r\n    public class Controller {\r\n    @Autowire\r\n    private MongoTemplate mongoTemplate;\r\n    \r\n      @GetMapping(&quot;/escortedTours&quot;)\r\n    public List&lt;PackageHoliday&gt; escortedToursNested() {\r\n        return getRandomPackage(&quot;escortedTours&quot;);\r\n    }\r\n    \r\n    \r\n    private List&lt;PackageHoliday&gt; getRandomPackage(String containsText) {\r\n    var match = Aggregation.match(Criteria.where(&quot;typeOfPackageHoliday&quot;).regex(&quot;.*&quot; + containsText + &quot;.*&quot;, &quot;i&quot;));\r\n        var sample = Aggregation.sample(1);\r\n        var results  = mongoTemplate.aggregate(Aggregation.newAggregation(match, sample), PackageHoliday.class, PackageHoliday.class).getMappedResults();\r\n        return results;\r\n    }\r\n    }\r\n\r\n","title":"How to return one random element from collection","body":"<p>You can use <code>MongoTemplate</code> to implement your aggregation pipeline.\nHere is the code snippet:</p>\n<pre><code>    var match = Aggregation.match(Criteria.where(&quot;typeOfPackageHoliday&quot;).regex(&quot;.*&quot; + &quot;{matchString}&quot; + &quot;.*&quot;, &quot;i&quot;));\n    var sample = Aggregation.sample(1);\n    var results  = mongoTemplate.aggregate(Aggregation.newAggregation(match, sample), PackageHoliday.class, PackageHoliday.class).getMappedResults();\n    System.out.println(results);\n</code></pre>\n<p>First you need to add a match stage to filter documents that contains your string in their <code>typeOfPackageHoliday</code> field:</p>\n<pre><code>var match = Aggregation.match(Criteria.where(&quot;typeOfPackageHoliday&quot;).regex(&quot;.*&quot; + {matchString} + &quot;.*&quot;, &quot;i&quot;));\n</code></pre>\n<p>Then we need to add the <code>sample</code> stage to fetch random elements from filtered documents(Here we just take <strong>one</strong> element from filtered documents):</p>\n<pre><code>var sample = Aggregation.sample(1);\n</code></pre>\n<p>And at last stich all of them together and create Aggregaton pipeline and\nfetch the results:</p>\n<pre><code>    var results  = mongoTemplate.aggregate(Aggregation.newAggregation(match, sample), PackageHoliday.class, PackageHoliday.class).getMappedResults();\n    System.out.println(results);\n</code></pre>\n<p>I tested this solution with a dummy collection and it worked for me.\nHope it will fix your problem</p>\n<p>You can inject <code>MongoTemplate</code> in your classes like below:</p>\n<pre><code>@Autowire\nprivate MongoTemplate mongoTemplate\n</code></pre>\n<p><strong>Update</strong>:\nYou can add this code to your controller like below:</p>\n<pre><code>public class Controller {\n@Autowire\nprivate MongoTemplate mongoTemplate;\n\n  @GetMapping(&quot;/escortedTours&quot;)\npublic List&lt;PackageHoliday&gt; escortedToursNested() {\n    return getRandomPackage(&quot;escortedTours&quot;);\n}\n\n\nprivate List&lt;PackageHoliday&gt; getRandomPackage(String containsText) {\nvar match = Aggregation.match(Criteria.where(&quot;typeOfPackageHoliday&quot;).regex(&quot;.*&quot; + containsText + &quot;.*&quot;, &quot;i&quot;));\n    var sample = Aggregation.sample(1);\n    var results  = mongoTemplate.aggregate(Aggregation.newAggregation(match, sample), PackageHoliday.class, PackageHoliday.class).getMappedResults();\n    return results;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":24514456,"reputation":17,"user_id":18428407,"display_name":"devnoob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656864308,"creation_date":1656799983,"question_id":72842746,"body_markdown":"I have this repository:\r\n\r\n        List&lt;PackageHoliday&gt; findPackageHolidayByTypeOfPackageHolidayContains(String typeOfPackageHoliday);\r\n\r\nAnd this controller:\r\n\r\n      @GetMapping(&quot;/escortedTours&quot;)\r\n    public List&lt;PackageHoliday&gt; escortedToursNested() {\r\n        return packageHolidayRepository.findPackageHolidayByTypeOfPackageHolidayContains(&quot;escortedTours&quot;);\r\n    }\r\n\r\nI have one part of code that works and return me one random element, that goes like this:\r\n\r\n         @Aggregation(pipeline = {&quot;{$sample:{size:1}}&quot;})\r\n        AggregationResults&lt;PackageHoliday&gt; randomPackageHoliday();\r\n\r\nBut when I put `@Aggregation(pipeline = {&quot;{$sample:{size:1}}&quot;})` above repository method\r\n\r\n    @Aggregation(pipeline = {&quot;{$sample:{size:1}}&quot;})\r\n    AggregationResults&lt;PackageHoliday&gt; findPackageHolidayByTypeOfPackageHolidayContains(String typeOfPackageHoliday);\r\n    \r\nAnd then controller like this:\r\n\r\n     @GetMapping(&quot;/escortedTours&quot;)\r\n    public AggregationResults&lt;PackageHoliday&gt; escortedToursNested() {\r\n        return packageHolidayRepository.findPackageHolidayByTypeOfPackageHolidayContains(&quot;escortedTours&quot;);\r\n    }\r\n    \r\nIt return all documents from collection\r\n\r\n","title":"How to return one random element from collection","body":"<p>I have this repository:</p>\n<pre><code>    List&lt;PackageHoliday&gt; findPackageHolidayByTypeOfPackageHolidayContains(String typeOfPackageHoliday);\n</code></pre>\n<p>And this controller:</p>\n<pre><code>  @GetMapping(&quot;/escortedTours&quot;)\npublic List&lt;PackageHoliday&gt; escortedToursNested() {\n    return packageHolidayRepository.findPackageHolidayByTypeOfPackageHolidayContains(&quot;escortedTours&quot;);\n}\n</code></pre>\n<p>I have one part of code that works and return me one random element, that goes like this:</p>\n<pre><code>     @Aggregation(pipeline = {&quot;{$sample:{size:1}}&quot;})\n    AggregationResults&lt;PackageHoliday&gt; randomPackageHoliday();\n</code></pre>\n<p>But when I put <code>@Aggregation(pipeline = {&quot;{$sample:{size:1}}&quot;})</code> above repository method</p>\n<pre><code>@Aggregation(pipeline = {&quot;{$sample:{size:1}}&quot;})\nAggregationResults&lt;PackageHoliday&gt; findPackageHolidayByTypeOfPackageHolidayContains(String typeOfPackageHoliday);\n</code></pre>\n<p>And then controller like this:</p>\n<pre><code> @GetMapping(&quot;/escortedTours&quot;)\npublic AggregationResults&lt;PackageHoliday&gt; escortedToursNested() {\n    return packageHolidayRepository.findPackageHolidayByTypeOfPackageHolidayContains(&quot;escortedTours&quot;);\n}\n</code></pre>\n<p>It return all documents from collection</p>\n"},{"tags":["java","libgdx"],"answers":[{"tags":[],"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656864216,"creation_date":1656864216,"answer_id":72848028,"question_id":72659335,"body_markdown":"If your layout will be similar to the image you posted, you could use a Table for that.\r\n\r\nhttps://javadoc.io/static/com.badlogicgames.gdx/gdx/1.11.0/com/badlogic/gdx/scenes/scene2d/ui/Table.html\r\n\r\nI often use nested Tables if I need to span multiple columns/rows instead of trying to do everything in one Table. This makes things easier to work with IMO.\r\n\r\nFor the example image you posted, you could use two tables. Table1 is the entire widget and Table2 has the two Label (text) items. Then you can set the background on Table1, which will place the background behind everything in the table.\r\n\r\nTo layout each item in the Table, the Cell (part of LibGDX&#39;s Table) is typically used for this. You can set size, alignment, padding, spacing, etc. on each cell of the table to get the layout you want.\r\n\r\nFor example, to add a padding of 20 to the left side of the button:\r\n\r\n    table1.getCell(button).padLeft(20);\r\n\r\nHere is the API for Cell.\r\n\r\nhttps://javadoc.io/static/com.badlogicgames.gdx/gdx/1.11.0/com/badlogic/gdx/scenes/scene2d/ui/Cell.html","title":"draw layout widget on libgdx","body":"<p>If your layout will be similar to the image you posted, you could use a Table for that.</p>\n<p><a href=\"https://javadoc.io/static/com.badlogicgames.gdx/gdx/1.11.0/com/badlogic/gdx/scenes/scene2d/ui/Table.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/com.badlogicgames.gdx/gdx/1.11.0/com/badlogic/gdx/scenes/scene2d/ui/Table.html</a></p>\n<p>I often use nested Tables if I need to span multiple columns/rows instead of trying to do everything in one Table. This makes things easier to work with IMO.</p>\n<p>For the example image you posted, you could use two tables. Table1 is the entire widget and Table2 has the two Label (text) items. Then you can set the background on Table1, which will place the background behind everything in the table.</p>\n<p>To layout each item in the Table, the Cell (part of LibGDX's Table) is typically used for this. You can set size, alignment, padding, spacing, etc. on each cell of the table to get the layout you want.</p>\n<p>For example, to add a padding of 20 to the left side of the button:</p>\n<pre><code>table1.getCell(button).padLeft(20);\n</code></pre>\n<p>Here is the API for Cell.</p>\n<p><a href=\"https://javadoc.io/static/com.badlogicgames.gdx/gdx/1.11.0/com/badlogic/gdx/scenes/scene2d/ui/Cell.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/com.badlogicgames.gdx/gdx/1.11.0/com/badlogic/gdx/scenes/scene2d/ui/Cell.html</a></p>\n"}],"owner":{"account_id":6580884,"reputation":31,"user_id":5085215,"display_name":"Crifano Stefano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656864216,"creation_date":1655468597,"question_id":72659335,"body_markdown":"I am almost new on LibGDX\r\nI need to draw an overlay on my game like this one:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PgeaJ.png\r\n\r\nThere is a background, 2 text and a botton\r\n\r\nI would like to draw it using a class and reuse it in many part of my game.\r\nI try to extend a &quot;stack&quot; class but is not good.\r\nAlso I would like to add the class into a table so probably I need to extend an actor\r\n\r\nCan somebody tell me witch layout/class/widget is the best to achive this?\r\nThanks\r\n","title":"draw layout widget on libgdx","body":"<p>I am almost new on LibGDX\nI need to draw an overlay on my game like this one:</p>\n<p><a href=\"https://i.stack.imgur.com/PgeaJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PgeaJ.png\" alt=\"enter image description here\" /></a></p>\n<p>There is a background, 2 text and a botton</p>\n<p>I would like to draw it using a class and reuse it in many part of my game.\nI try to extend a &quot;stack&quot; class but is not good.\nAlso I would like to add the class into a table so probably I need to extend an actor</p>\n<p>Can somebody tell me witch layout/class/widget is the best to achive this?\nThanks</p>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":5344327,"reputation":1074,"user_id":6771708,"accept_rate":71,"display_name":"namila007"},"score":0,"creation_date":1656865406,"post_id":72848016,"comment_id":128670423,"body_markdown":"you can use `spring-hateos` https://spring.io/projects/spring-hateoas","body":"you can use <code>spring-hateos</code> <a href=\"https://spring.io/projects/spring-hateoas\" rel=\"nofollow noreferrer\">spring.io/projects/spring-hateoas</a>"},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1656888629,"post_id":72848016,"comment_id":128674714,"body_markdown":"Give the http response status code `302` and send your url as a value of the `Location` response header. When the browser detects the 302 status code it will automatically check whether there is a `Location` header url value present in the response headers. Then it will redirect you to that url. https://en.wikipedia.org/wiki/HTTP_302","body":"Give the http response status code <code>302</code> and send your url as a value of the <code>Location</code> response header. When the browser detects the 302 status code it will automatically check whether there is a <code>Location</code> header url value present in the response headers. Then it will redirect you to that url. <a href=\"https://en.wikipedia.org/wiki/HTTP_302\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/HTTP_302</a>"}],"owner":{"account_id":22929040,"reputation":23,"user_id":17063665,"display_name":"Bnc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656864118,"creation_date":1656864118,"question_id":72848016,"body_markdown":"I do a simple vocabulary application as a practice. It can insert new vocabularies and then open that vocabulary so you can add some words in it.\r\nMy goal is to insert those words with a modal and with the button Save redirect to that current vocabulary&#39;s url.\r\n\r\nSo create a new Vocabulary and with an &quot;Open&quot; button you go to localhost:8080/vocabulary/1 where you can add new words with a modal, and then with the Save button you redirect back to that URL. (vocabulary/{id})\r\n\r\nMy question is: Could anyone recommend a solution? I have tried to find something, but it doesn&#39;t work.\r\nI tried with this:\r\n\r\n\r\nController:\r\n\r\n    @PostMapping(&quot;/vocabulary/{id}&quot;)\r\n    public ModelAndView addWord(@RequestBody Words word, @PathVariable(name=&quot;id&quot;) Integer id) {\r\n        ModelAndView mav = new ModelAndView(&quot;redirect:/vocabulary&quot;);\r\n\r\n        wordService.addWord(word);\r\n\r\n        List&lt;Words&gt; wordList = wordService.getWordsByVocabulary(id);\r\n        mav.addObject(&quot;listOfWords&quot;, wordList);\r\n\r\n        return mav;\r\n    }\r\n\r\nHTML-Modal\r\n\r\n    &lt;div class=&quot;modal fade&quot; id=&quot;createModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;createModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n        &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\r\n            &lt;div class=&quot;modal-content&quot;&gt;\r\n                &lt;div class=&quot;modal-header&quot;&gt;\r\n                    &lt;h5 class=&quot;modal-title&quot; id=&quot;createModalLabel&quot;&gt;New Word&lt;/h5&gt;\r\n                    &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\r\n                        &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\r\n                    &lt;/button&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;modal-body&quot;&gt;\r\n                    &lt;form th:object=&quot;${word}&quot; method=&quot;post&quot; th:action=&quot;@{&#39;/vocabulary/&#39; + ${vocId}}&quot;&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                            &lt;label for=&quot;english&quot; class=&quot;col-form-label&quot;&gt;English:&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;english&quot; th:field=&quot;*{english}&quot;&gt;\r\n                        &lt;/div&gt;\r\n\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                            &lt;label for=&quot;hungarian&quot; class=&quot;col-form-label&quot;&gt;Hungarian:&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;hungarian&quot; th:field=&quot;*{hungarian}&quot;&gt;\r\n                        &lt;/div&gt;\r\n\r\n                        &lt;input type=&quot;hidden&quot; th:field=&quot;*{vocabularyId}&quot; id=&quot;vocabularyId&quot;&gt;\r\n\r\n                        &lt;div class=&quot;modal-footer&quot;&gt;\r\n                            &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Cancel&lt;/button&gt;\r\n                            &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Save&lt;/button&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/form&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nThe Save button starts the Controller&#39;s addWord() method.\r\n\r\n","title":"Spring-Boot - Redirect to an url with an ID in it","body":"<p>I do a simple vocabulary application as a practice. It can insert new vocabularies and then open that vocabulary so you can add some words in it.\nMy goal is to insert those words with a modal and with the button Save redirect to that current vocabulary's url.</p>\n<p>So create a new Vocabulary and with an &quot;Open&quot; button you go to localhost:8080/vocabulary/1 where you can add new words with a modal, and then with the Save button you redirect back to that URL. (vocabulary/{id})</p>\n<p>My question is: Could anyone recommend a solution? I have tried to find something, but it doesn't work.\nI tried with this:</p>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/vocabulary/{id}&quot;)\npublic ModelAndView addWord(@RequestBody Words word, @PathVariable(name=&quot;id&quot;) Integer id) {\n    ModelAndView mav = new ModelAndView(&quot;redirect:/vocabulary&quot;);\n\n    wordService.addWord(word);\n\n    List&lt;Words&gt; wordList = wordService.getWordsByVocabulary(id);\n    mav.addObject(&quot;listOfWords&quot;, wordList);\n\n    return mav;\n}\n</code></pre>\n<p>HTML-Modal</p>\n<pre><code>&lt;div class=&quot;modal fade&quot; id=&quot;createModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;createModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\n    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\n        &lt;div class=&quot;modal-content&quot;&gt;\n            &lt;div class=&quot;modal-header&quot;&gt;\n                &lt;h5 class=&quot;modal-title&quot; id=&quot;createModalLabel&quot;&gt;New Word&lt;/h5&gt;\n                &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\n                    &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\n                &lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;modal-body&quot;&gt;\n                &lt;form th:object=&quot;${word}&quot; method=&quot;post&quot; th:action=&quot;@{'/vocabulary/' + ${vocId}}&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;english&quot; class=&quot;col-form-label&quot;&gt;English:&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;english&quot; th:field=&quot;*{english}&quot;&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;hungarian&quot; class=&quot;col-form-label&quot;&gt;Hungarian:&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;hungarian&quot; th:field=&quot;*{hungarian}&quot;&gt;\n                    &lt;/div&gt;\n\n                    &lt;input type=&quot;hidden&quot; th:field=&quot;*{vocabularyId}&quot; id=&quot;vocabularyId&quot;&gt;\n\n                    &lt;div class=&quot;modal-footer&quot;&gt;\n                        &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Cancel&lt;/button&gt;\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Save&lt;/button&gt;\n                    &lt;/div&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The Save button starts the Controller's addWord() method.</p>\n"},{"tags":["java","arrays","javafx"],"comments":[{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1656863628,"post_id":72847918,"comment_id":128670022,"body_markdown":"What do you mean by `cubes in 1`?","body":"What do you mean by <code>cubes in 1</code>?"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1656863665,"post_id":72847918,"comment_id":128670033,"body_markdown":"Considering that you always call `gc.fillRect(i, j, 1, 1);` why do you need 13 `if`, instead of a single `if` where you verify the 13 possible conditions that should cause a call to `gc.fillRect(i, j, 1, 1);`? Or better yet, abstract those 13 conditions in a single method and call it in your single `if`.","body":"Considering that you always call <code>gc.fillRect(i, j, 1, 1);</code> why do you need 13 <code>if</code>, instead of a single <code>if</code> where you verify the 13 possible conditions that should cause a call to <code>gc.fillRect(i, j, 1, 1);</code>? Or better yet, abstract those 13 conditions in a single method and call it in your single <code>if</code>."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1656863871,"post_id":72847918,"comment_id":128670080,"body_markdown":"I&#39;d say it draws the same rect over and over 13 times whenever `map[i][j]` is 1. And it only works with this particular data and no others. That doesn&#39;t look right to me. What is the actual definition of your task?","body":"I&#39;d say it draws the same rect over and over 13 times whenever <code>map[i][j]</code> is 1. And it only works with this particular data and no others. That doesn&#39;t look right to me. What is the actual definition of your task?"}],"answers":[{"tags":[],"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1656864041,"creation_date":1656864041,"answer_id":72848004,"question_id":72847918,"body_markdown":"You are compairing every field in your map with every field in your map that equals `1`. So you could just check if the value of one field is 1:\r\n\r\n\t\tfor (int i = 0; i &lt; map.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; map[0].length; j++) {\r\n\t\t\t\tif (map[i][j] == 1) {\r\n\t\t\t\t\tgc.fillRect(i, j, 1, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}","title":"make 2D array more less in Java","body":"<p>You are compairing every field in your map with every field in your map that equals <code>1</code>. So you could just check if the value of one field is 1:</p>\n<pre><code>    for (int i = 0; i &lt; map.length; i++) {\n        for (int j = 0; j &lt; map[0].length; j++) {\n            if (map[i][j] == 1) {\n                gc.fillRect(i, j, 1, 1);\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25692817,"reputation":35,"user_id":19453996,"display_name":"some chars"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72848004,"answer_count":1,"score":3,"last_activity_date":1656864041,"creation_date":1656863421,"question_id":72847918,"body_markdown":"I have a Java code with 2d arrays and i want to rewrite this code to look like it has less code than i wrote before. \r\n\r\n\r\nThe main task of my code is to have cubes in 1. \r\n\r\nIs there any ideas how to fix it?\r\n\r\n **My Data:**\r\n\r\n\r\n    2 0 0 1 1 0 0 0\r\n    0 0 1 0 0 1 0 0\r\n    0 0 0 0 0 0 0 0\r\n    1 0 1 0 0 1 0 1\r\n    1 0 0 0 0 0 0 1\r\n    0 0 0 0 0 0 0 0\r\n    0 0 1 0 0 1 0 0\r\n    0 0 0 1 1 0 0 0\r\n\r\n**My Code:**\r\n\r\n     for(int i = 0; i &lt; map.length; i++) {\r\n                for(int j = 0; j &lt; map.length; j++) {\r\n                    if(map[i][j] == map[0][3]) {\r\n                        gc.fillRect(i, j, 1, 1);\r\n                    }\r\n                    if(map[i][j] == map[0][4]) {\r\n                        gc.fillRect(i, j, 1, 1);\r\n                    }\r\n                    if(map[i][j] == map[1][2]) {\r\n                        gc.fillRect(i, j, 1, 1);\r\n                    }\r\n                    if(map[i][j] == map[1][5]) {\r\n                        gc.fillRect(i, j, 1, 1);\r\n                    }\r\n                    if(map[i][j] == map[3][0]) {\r\n                        gc.fillRect(i, j, 1, 1);\r\n                    }\r\n                    if(map[i][j] == map[3][2]) {\r\n                        gc.fillRect(i, j, 1, 1);\r\n                    }\r\n                    if(map[i][j] == map[3][5]) {\r\n                        gc.fillRect(i, j, 1, 1);\r\n                    }\r\n                    if(map[i][j] == map[3][7]) {\r\n                        gc.fillRect(i, j, 1, 1);\r\n                    }\r\n                    if(map[i][j] == map[4][7]) {\r\n                        gc.fillRect(i, j, 1, 1);\r\n                    }\r\n                    if(map[i][j] == map[6][2]) {\r\n                        gc.fillRect(i, j, 1, 1);\r\n                    }\r\n                    if(map[i][j] == map[6][5]) {\r\n                        gc.fillRect(i, j, 1, 1);\r\n                    }\r\n                    if(map[i][j] == map[7][3]) {\r\n                        gc.fillRect(i, j, 1, 1);\r\n                    }\r\n                    if(map[i][j] == map[7][4]) {\r\n                        gc.fillRect(i, j, 1, 1);\r\n                    }\r\n        \r\n                  \r\n                }\r\n            }\r\n\r\n\r\n","title":"make 2D array more less in Java","body":"<p>I have a Java code with 2d arrays and i want to rewrite this code to look like it has less code than i wrote before.</p>\n<p>The main task of my code is to have cubes in 1.</p>\n<p>Is there any ideas how to fix it?</p>\n<p><strong>My Data:</strong></p>\n<pre><code>2 0 0 1 1 0 0 0\n0 0 1 0 0 1 0 0\n0 0 0 0 0 0 0 0\n1 0 1 0 0 1 0 1\n1 0 0 0 0 0 0 1\n0 0 0 0 0 0 0 0\n0 0 1 0 0 1 0 0\n0 0 0 1 1 0 0 0\n</code></pre>\n<p><strong>My Code:</strong></p>\n<pre><code> for(int i = 0; i &lt; map.length; i++) {\n            for(int j = 0; j &lt; map.length; j++) {\n                if(map[i][j] == map[0][3]) {\n                    gc.fillRect(i, j, 1, 1);\n                }\n                if(map[i][j] == map[0][4]) {\n                    gc.fillRect(i, j, 1, 1);\n                }\n                if(map[i][j] == map[1][2]) {\n                    gc.fillRect(i, j, 1, 1);\n                }\n                if(map[i][j] == map[1][5]) {\n                    gc.fillRect(i, j, 1, 1);\n                }\n                if(map[i][j] == map[3][0]) {\n                    gc.fillRect(i, j, 1, 1);\n                }\n                if(map[i][j] == map[3][2]) {\n                    gc.fillRect(i, j, 1, 1);\n                }\n                if(map[i][j] == map[3][5]) {\n                    gc.fillRect(i, j, 1, 1);\n                }\n                if(map[i][j] == map[3][7]) {\n                    gc.fillRect(i, j, 1, 1);\n                }\n                if(map[i][j] == map[4][7]) {\n                    gc.fillRect(i, j, 1, 1);\n                }\n                if(map[i][j] == map[6][2]) {\n                    gc.fillRect(i, j, 1, 1);\n                }\n                if(map[i][j] == map[6][5]) {\n                    gc.fillRect(i, j, 1, 1);\n                }\n                if(map[i][j] == map[7][3]) {\n                    gc.fillRect(i, j, 1, 1);\n                }\n                if(map[i][j] == map[7][4]) {\n                    gc.fillRect(i, j, 1, 1);\n                }\n    \n              \n            }\n        }\n</code></pre>\n"},{"tags":["java","maven","maven-assembly-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1625663976,"post_id":68285914,"comment_id":120686917,"body_markdown":"My assumption is first: This class `TestsRunningAsTAP` is a test? Second only use `mvn clean package` nothing else...","body":"My assumption is first: This class <code>TestsRunningAsTAP</code> is a test? Second only use <code>mvn clean package</code> nothing else..."},{"owner":{"account_id":20173909,"reputation":15,"user_id":14796060,"display_name":"AnxiousGuy"},"score":0,"creation_date":1625664777,"post_id":68285914,"comment_id":120687318,"body_markdown":"Its a main class that runs the tests.\nyeah I am using ```mvn clean install```, but then too the jar getting generated from this, does not runs","body":"Its a main class that runs the tests. yeah I am using <code>mvn clean install</code>, but then too the jar getting generated from this, does not runs"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1625665943,"post_id":68285914,"comment_id":120687919,"body_markdown":"Tests should be run by using the default life cycle `test` and done by surefire or failsafe in case of integration tests. But using to create an executable via assembly-plugin nor does that work because the resulting jar-with-dependencies is lacking the test dependencies which. are never being packaged by default.","body":"Tests should be run by using the default life cycle <code>test</code> and done by surefire or failsafe in case of integration tests. But using to create an executable via assembly-plugin nor does that work because the resulting jar-with-dependencies is lacking the test dependencies which. are never being packaged by default."},{"owner":{"account_id":20173909,"reputation":15,"user_id":14796060,"display_name":"AnxiousGuy"},"score":0,"creation_date":1625673957,"post_id":68285914,"comment_id":120691641,"body_markdown":"But it works when I create the jar using ```mvn compile test-compile assembly:single```. Why the executable jar created using this command runs?","body":"But it works when I create the jar using <code>mvn compile test-compile assembly:single</code>. Why the executable jar created using this command runs?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1625681137,"post_id":68285914,"comment_id":120694417,"body_markdown":"You are repeating several steps which is not necessary and the test could be executed in one go via `mvn clean test` ... that&#39;s simpler and you will follow convention over configuration...","body":"You are repeating several steps which is not necessary and the test could be executed in one go via <code>mvn clean test</code> ... that&#39;s simpler and you will follow convention over configuration..."},{"owner":{"account_id":20173909,"reputation":15,"user_id":14796060,"display_name":"AnxiousGuy"},"score":0,"creation_date":1625708586,"post_id":68285914,"comment_id":120700907,"body_markdown":"Though its a test code, but its not under src/test scope, as I wanted to create an executable jar for some of my tests file, I put it under src/main scope. Now when I am using ```mvn clean install```, it generates 2 jar one my main project jar and the other test jar but while running the test jar it says ```Error: Could not find or load main class```\nBut as I mentioned in the question, if I use the command explicitly ```mvn compile assembly:plugin```, then I am able to run this test jar as desired.","body":"Though its a test code, but its not under src/test scope, as I wanted to create an executable jar for some of my tests file, I put it under src/main scope. Now when I am using <code>mvn clean install</code>, it generates 2 jar one my main project jar and the other test jar but while running the test jar it says <code>Error: Could not find or load main class</code> But as I mentioned in the question, if I use the command explicitly <code>mvn compile assembly:plugin</code>, then I am able to run this test jar as desired."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1625729105,"post_id":68285914,"comment_id":120705228,"body_markdown":"Why not under `src/test/java` and `src/test/resources`... Testfiles belong to `src/test/resources` ... creating a test jar form main does not make sense (follow the conventions)...can you explain why are you doing this? What kind of problem you are trying to solve? Please describe that problem...not the problem you have while violating the conventions etc. Best would be an example project on Gitbub or alike to have something concrete...","body":"Why not under <code>src&#47;test&#47;java</code> and <code>src&#47;test&#47;resources</code>... Testfiles belong to <code>src&#47;test&#47;resources</code> ... creating a test jar form main does not make sense (follow the conventions)...can you explain why are you doing this? What kind of problem you are trying to solve? Please describe that problem...not the problem you have while violating the conventions etc. Best would be an example project on Gitbub or alike to have something concrete..."},{"owner":{"account_id":20173909,"reputation":15,"user_id":14796060,"display_name":"AnxiousGuy"},"score":0,"creation_date":1625750658,"post_id":68285914,"comment_id":120714286,"body_markdown":"I am using maven assembly plugin to create an executable jar. If I keep my test code under src/test and package the jar, it creates the jar but the jar execution fails with ```Error: Could not find or load main class.```\nSo I have to move the code under src/main. Please follow the link for details\nhttps://stackoverflow.com/questions/68151197/getting-error-while-creating-jar-using-maven-assembly-plugin\nBy the way, thats a separate discussion, we are getting away from the question, lets get back to it.","body":"I am using maven assembly plugin to create an executable jar. If I keep my test code under src/test and package the jar, it creates the jar but the jar execution fails with <code>Error: Could not find or load main class.</code> So I have to move the code under src/main. Please follow the link for details <a href=\"https://stackoverflow.com/questions/68151197/getting-error-while-creating-jar-using-maven-assembly-plugin\" title=\"getting error while creating jar using maven assembly plugin\">stackoverflow.com/questions/68151197/&hellip;</a> By the way, thats a separate discussion, we are getting away from the question, lets get back to it."}],"answers":[{"tags":[],"owner":{"account_id":17044087,"reputation":77,"user_id":12331329,"display_name":"Rohan Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656863736,"creation_date":1656863736,"answer_id":72847965,"question_id":68285914,"body_markdown":"I was facing Same issue, \r\n\r\nplease check if you have added &lt;packaging&gt;jar&lt;/packaging&gt; at top you pom.xml inside &lt;project&gt; tag.\r\n\r\nlike this:\r\n\r\n    &lt;project&gt;\r\n\t    &lt;groupId&gt;com.rohan&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jmetertester&lt;/artifactId&gt;\r\n\t    **&lt;packaging&gt;jar&lt;/packaging&gt;**","title":"Jar created using maven-assembly-plugin not running with mvn install","body":"<p>I was facing Same issue,</p>\n<p>please check if you have added jar at top you pom.xml inside  tag.</p>\n<p>like this:</p>\n<pre><code>&lt;project&gt;\n    &lt;groupId&gt;com.rohan&lt;/groupId&gt;\n    &lt;artifactId&gt;jmetertester&lt;/artifactId&gt;\n    **&lt;packaging&gt;jar&lt;/packaging&gt;**\n</code></pre>\n"}],"owner":{"account_id":20173909,"reputation":15,"user_id":14796060,"display_name":"AnxiousGuy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656863736,"creation_date":1625660303,"question_id":68285914,"body_markdown":"I am creating a jar file using maven assembly plugin. \r\nThe minimal pom file looks like:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                &lt;mainClass&gt;com.org.taptest.tests.TestsRunningAsTAP&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n        &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n        &lt;/descriptorRefs&gt;\r\n    &lt;/configuration&gt;\r\n&lt;executions&gt;\r\n    &lt;execution&gt;\r\n        &lt;id&gt;make-assembly&lt;/id&gt;\r\n        &lt;phase&gt;package&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;single&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n          &lt;outputDirectory&gt;${basedir}/target/&lt;/outputDirectory&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n   &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nWhen I run ```mvn clean install```, it creates a jar file but when I run the jar file using ```java -jar &lt;jarfileName&gt;```, it says ```Error: Could not find or load main class```.\r\nWhile if I edit the above pom, to have\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.3.0&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;archive&gt;\r\n      &lt;manifest&gt;\r\n        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                          \r\n       &lt;mainClass&gt;com.org.taptest.tests.TestsRunningAsTAP&lt;/mainClass&gt;\r\n      &lt;/manifest&gt;\r\n    &lt;/archive&gt;\r\n    &lt;descriptorRefs&gt;\r\n       &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    &lt;/descriptorRefs&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nand after running ```mvn clean install```, I run ```mvn compile test-compile assembly-plugin```, it generates the same jar file, but this jar file runs as expected.\r\nSo, my question is why the jar file with the first approach does not runs and what exactly does ```mvn compile test-compile assembly-plugin``` command do?","title":"Jar created using maven-assembly-plugin not running with mvn install","body":"<p>I am creating a jar file using maven assembly plugin.\nThe minimal pom file looks like:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;mainClass&gt;com.org.taptest.tests.TestsRunningAsTAP&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n    &lt;/configuration&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;make-assembly&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;single&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectory&gt;${basedir}/target/&lt;/outputDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>When I run <code>mvn clean install</code>, it creates a jar file but when I run the jar file using <code>java -jar &lt;jarfileName&gt;</code>, it says <code>Error: Could not find or load main class</code>.\nWhile if I edit the above pom, to have</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.3.0&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;archive&gt;\n      &lt;manifest&gt;\n        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                          \n       &lt;mainClass&gt;com.org.taptest.tests.TestsRunningAsTAP&lt;/mainClass&gt;\n      &lt;/manifest&gt;\n    &lt;/archive&gt;\n    &lt;descriptorRefs&gt;\n       &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n    &lt;/descriptorRefs&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and after running <code>mvn clean install</code>, I run <code>mvn compile test-compile assembly-plugin</code>, it generates the same jar file, but this jar file runs as expected.\nSo, my question is why the jar file with the first approach does not runs and what exactly does <code>mvn compile test-compile assembly-plugin</code> command do?</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648327601,"post_id":71631559,"comment_id":126597796,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648329831,"creation_date":1648329831,"answer_id":71631924,"question_id":71631559,"body_markdown":"Your current problem is related to your previous hard-drive capacity problem. \r\n\r\nIt should be solved by deleting the following file in your home directory `.vaadin/usage-statistics.json` \r\n\r\nYou can find a recent bug report here https://github.com/vaadin/flow/issues/13362","title":"VaadinCRM Tutorial Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener","body":"<p>Your current problem is related to your previous hard-drive capacity problem.</p>\n<p>It should be solved by deleting the following file in your home directory <code>.vaadin/usage-statistics.json</code></p>\n<p>You can find a recent bug report here <a href=\"https://github.com/vaadin/flow/issues/13362\" rel=\"nofollow noreferrer\">https://github.com/vaadin/flow/issues/13362</a></p>\n"}],"owner":{"account_id":24699939,"reputation":3,"user_id":18591375,"display_name":"Grizzly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71631924,"answer_count":1,"score":0,"last_activity_date":1656863714,"creation_date":1648326154,"question_id":71631559,"body_markdown":"I recently started using Vaadin, everything was great for the most part. I created a file merger, and due to a mistake the files endlessly merged until my hard-drive hit capacity.\r\n\r\nNow, even when I attempt to run the absolute basic CRM tutorial with no manual changes or adjustments it also no longer runs. So ignoring my application I built, I can&#39;t even get the standard CRM tutorial out of the zip file to run. I have attempted **mvn clean install.** I have attempted deleting the generated files and letting them regenerate automatically. I have ran this exact tutorial with no changes mere hours ago and I&#39;m confident there are no malformed characters. Any help would be greatly appreciated. Unless it&#39;s a matter of pure coincidence a dependency changed at this exact moment, I must assume spooling my hard drive full ruined something, I just can&#39;t figure out what.\r\n\r\n```none\r\n13:11:31.679 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@38026765\r\n _____  _                     ____  ____   __  __   _____         _                 _         _ \r\n|  ___|| |  ___  __      __  / ___||  _ \\ |  \\/  | |_   _| _   _ | |_   ___   _ __ (_)  __ _ | |\r\n| |_   | | / _ \\ \\ \\ /\\ / / | |    | |_) || |\\/| |   | |  | | | || __| / _ \\ | &#39;__|| | / _` || |\r\n|  _|  | || (_) | \\ V  V /  | |___ |  _ &lt; | |  | |   | |  | |_| || |_ | (_) || |   | || (_| || |\r\n|_|    |_| \\___/   \\_/\\_/    \\____||_| \\_\\|_|  |_|   |_|   \\__,_| \\__| \\___/ |_|   |_| \\__,_||_|\r\n                                                                                                \r\n\r\n2022-03-26 13:11:31.935  INFO 5936 --- [  restartedMain] com.example.application.Application      : Starting Application using Java 11.0.10 on DESKTOP-PF37PH2 with PID 5936 (C:\\Users\\Shane\\IdeaProjects\\flow-crm-tutorial\\target\\classes started by Shane in C:\\Users\\Shane\\IdeaProjects\\flow-crm-tutorial)\r\n2022-03-26 13:11:31.935  INFO 5936 --- [  restartedMain] com.example.application.Application      : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-03-26 13:11:31.972  INFO 5936 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2022-03-26 13:11:31.972  INFO 5936 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2022-03-26 13:11:32.379  INFO 5936 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-03-26 13:11:32.411  INFO 5936 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 1 JPA repository interfaces.\r\n2022-03-26 13:11:32.749  INFO 5936 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 80 (http)\r\n2022-03-26 13:11:32.754  INFO 5936 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-03-26 13:11:32.754  INFO 5936 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]\r\n2022-03-26 13:11:32.817  INFO 5936 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-03-26 13:11:32.817  INFO 5936 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 845 ms\r\n2022-03-26 13:11:32.853  INFO 5936 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-03-26 13:11:32.911  INFO 5936 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2022-03-26 13:11:32.917  INFO 5936 --- [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:h2:mem:b1ab4f4e-580c-4790-b318-a09826397e86&#39;\r\n2022-03-26 13:11:32.975  INFO 5936 --- [  restartedMain] c.v.f.s.VaadinServletContextInitializer  : Search for VaadinAppShell took 6 ms\r\n2022-03-26 13:11:33.519  INFO 5936 --- [  restartedMain] c.v.f.s.VaadinServletContextInitializer  : Search for subclasses and classes with annotations took 510 ms\r\n2022-03-26 13:11:33.552 ERROR 5936 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context initialized event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener]\r\n\r\njava.lang.RuntimeException: Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener\r\n\tat com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:191) ~[vaadin-spring-23.0.1.jar:na]\r\n\tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitializer.java:213) ~[vaadin-spring-23.0.1.jar:na]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\r\n\tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:213) ~[vaadin-spring-23.0.1.jar:na]\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat com.example.application.Application.main(Application.java:25) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\r\nCaused by: java.lang.ClassCastException: class com.fasterxml.jackson.databind.node.MissingNode cannot be cast to class com.fasterxml.jackson.databind.node.ObjectNode (com.fasterxml.jackson.databind.node.MissingNode and com.fasterxml.jackson.databind.node.ObjectNode are in unnamed module of loader &#39;app&#39;)\r\n\tat com.vaadin.base.devserver.stats.StatisticsStorage.internalRead(StatisticsStorage.java:149) ~[vaadin-dev-server-23.0.1.jar:na]\r\n\tat com.vaadin.base.devserver.stats.StatisticsStorage.lambda$update$f902d37c$1(StatisticsStorage.java:93) ~[vaadin-dev-server-23.0.1.jar:na]\r\n\tat com.vaadin.base.devserver.stats.StatisticsStorage.access(StatisticsStorage.java:80) ~[vaadin-dev-server-23.0.1.jar:na]\r\n\tat com.vaadin.base.devserver.stats.StatisticsStorage.update(StatisticsStorage.java:92) ~[vaadin-dev-server-23.0.1.jar:na]\r\n\tat com.vaadin.base.devserver.stats.DevModeUsageStatistics.trackGlobalData(DevModeUsageStatistics.java:106) ~[vaadin-dev-server-23.0.1.jar:na]\r\n\tat com.vaadin.base.devserver.stats.DevModeUsageStatistics.lambda$init$30ce3648$1(DevModeUsageStatistics.java:98) ~[vaadin-dev-server-23.0.1.jar:na]\r\n\tat com.vaadin.base.devserver.stats.StatisticsStorage.access(StatisticsStorage.java:80) ~[vaadin-dev-server-23.0.1.jar:na]\r\n\tat com.vaadin.base.devserver.stats.DevModeUsageStatistics.init(DevModeUsageStatistics.java:89) ~[vaadin-dev-server-23.0.1.jar:na]\r\n\tat com.vaadin.base.devserver.startup.DevModeInitializer.initDevModeHandler(DevModeInitializer.java:217) ~[vaadin-dev-server-23.0.1.jar:na]\r\n\tat com.vaadin.base.devserver.DevModeHandlerManagerImpl.initDevModeHandler(DevModeHandlerManagerImpl.java:80) ~[vaadin-dev-server-23.0.1.jar:na]\r\n\tat com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener.failFastContextInitialized(VaadinServletContextInitializer.java:474) ~[vaadin-spring-23.0.1.jar:na]\r\n\tat com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:187) ~[vaadin-spring-23.0.1.jar:na]\r\n\t... 46 common frames omitted\r\n\r\n2022-03-26 13:11:33.552 ERROR 5936 --- [  restartedMain] o.apache.catalina.core.StandardContext   : One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n2022-03-26 13:11:33.552 ERROR 5936 --- [  restartedMain] o.apache.catalina.core.StandardContext   : Context [] startup failed due to previous errors\r\n2022-03-26 13:11:33.554 ERROR 5936 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context destroyed event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener]\r\n\r\njava.lang.NullPointerException: null\r\n\tat com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener.contextDestroyed(VaadinServletContextInitializer.java:491) ~[vaadin-spring-23.0.1.jar:na]\r\n\tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextDestroyed$1(VaadinServletContextInitializer.java:218) ~[vaadin-spring-23.0.1.jar:na]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\r\n\tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextDestroyed(VaadinServletContextInitializer.java:218) ~[vaadin-spring-23.0.1.jar:na]\r\n\tat org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4814) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5477) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:187) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat com.example.application.Application.main(Application.java:25) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\r\n\r\n2022-03-26 13:11:33.555  WARN 5936 --- [  restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@11.0.10/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@11.0.10/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\r\n java.base@11.0.10/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)\r\n java.base@11.0.10/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@11.0.10/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n java.base@11.0.10/java.lang.Thread.run(Thread.java:829)\r\n2022-03-26 13:11:33.556  WARN 5936 --- [  restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@11.0.10/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@11.0.10/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\r\n java.base@11.0.10/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)\r\n java.base@11.0.10/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:458)\r\n java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)\r\n java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n java.base@11.0.10/java.lang.Thread.run(Thread.java:829)\r\n2022-03-26 13:11:33.750  INFO 5936 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-03-26 13:11:33.753  WARN 5936 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n2022-03-26 13:11:33.753  INFO 5936 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2022-03-26 13:11:33.755  INFO 5936 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2022-03-26 13:11:33.761  INFO 5936 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-03-26 13:11:33.777 ERROR 5936 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat com.example.application.Application.main(Application.java:25) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\t... 13 common frames omitted\r\nCaused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:187) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\t... 18 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n````\r\n\r\n\r\n","title":"VaadinCRM Tutorial Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener","body":"<p>I recently started using Vaadin, everything was great for the most part. I created a file merger, and due to a mistake the files endlessly merged until my hard-drive hit capacity.</p>\n<p>Now, even when I attempt to run the absolute basic CRM tutorial with no manual changes or adjustments it also no longer runs. So ignoring my application I built, I can't even get the standard CRM tutorial out of the zip file to run. I have attempted <strong>mvn clean install.</strong> I have attempted deleting the generated files and letting them regenerate automatically. I have ran this exact tutorial with no changes mere hours ago and I'm confident there are no malformed characters. Any help would be greatly appreciated. Unless it's a matter of pure coincidence a dependency changed at this exact moment, I must assume spooling my hard drive full ruined something, I just can't figure out what.</p>\n<pre class=\"lang-none prettyprint-override\"><code>13:11:31.679 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@38026765\n _____  _                     ____  ____   __  __   _____         _                 _         _ \n|  ___|| |  ___  __      __  / ___||  _ \\ |  \\/  | |_   _| _   _ | |_   ___   _ __ (_)  __ _ | |\n| |_   | | / _ \\ \\ \\ /\\ / / | |    | |_) || |\\/| |   | |  | | | || __| / _ \\ | '__|| | / _` || |\n|  _|  | || (_) | \\ V  V /  | |___ |  _ &lt; | |  | |   | |  | |_| || |_ | (_) || |   | || (_| || |\n|_|    |_| \\___/   \\_/\\_/    \\____||_| \\_\\|_|  |_|   |_|   \\__,_| \\__| \\___/ |_|   |_| \\__,_||_|\n                                                                                                \n\n2022-03-26 13:11:31.935  INFO 5936 --- [  restartedMain] com.example.application.Application      : Starting Application using Java 11.0.10 on DESKTOP-PF37PH2 with PID 5936 (C:\\Users\\Shane\\IdeaProjects\\flow-crm-tutorial\\target\\classes started by Shane in C:\\Users\\Shane\\IdeaProjects\\flow-crm-tutorial)\n2022-03-26 13:11:31.935  INFO 5936 --- [  restartedMain] com.example.application.Application      : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-03-26 13:11:31.972  INFO 5936 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-03-26 13:11:31.972  INFO 5936 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2022-03-26 13:11:32.379  INFO 5936 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-03-26 13:11:32.411  INFO 5936 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 1 JPA repository interfaces.\n2022-03-26 13:11:32.749  INFO 5936 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 80 (http)\n2022-03-26 13:11:32.754  INFO 5936 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-03-26 13:11:32.754  INFO 5936 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]\n2022-03-26 13:11:32.817  INFO 5936 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-03-26 13:11:32.817  INFO 5936 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 845 ms\n2022-03-26 13:11:32.853  INFO 5936 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-03-26 13:11:32.911  INFO 5936 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-03-26 13:11:32.917  INFO 5936 --- [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:b1ab4f4e-580c-4790-b318-a09826397e86'\n2022-03-26 13:11:32.975  INFO 5936 --- [  restartedMain] c.v.f.s.VaadinServletContextInitializer  : Search for VaadinAppShell took 6 ms\n2022-03-26 13:11:33.519  INFO 5936 --- [  restartedMain] c.v.f.s.VaadinServletContextInitializer  : Search for subclasses and classes with annotations took 510 ms\n2022-03-26 13:11:33.552 ERROR 5936 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context initialized event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener]\n\njava.lang.RuntimeException: Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:191) ~[vaadin-spring-23.0.1.jar:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitializer.java:213) ~[vaadin-spring-23.0.1.jar:na]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:213) ~[vaadin-spring-23.0.1.jar:na]\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n    at com.example.application.Application.main(Application.java:25) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\nCaused by: java.lang.ClassCastException: class com.fasterxml.jackson.databind.node.MissingNode cannot be cast to class com.fasterxml.jackson.databind.node.ObjectNode (com.fasterxml.jackson.databind.node.MissingNode and com.fasterxml.jackson.databind.node.ObjectNode are in unnamed module of loader 'app')\n    at com.vaadin.base.devserver.stats.StatisticsStorage.internalRead(StatisticsStorage.java:149) ~[vaadin-dev-server-23.0.1.jar:na]\n    at com.vaadin.base.devserver.stats.StatisticsStorage.lambda$update$f902d37c$1(StatisticsStorage.java:93) ~[vaadin-dev-server-23.0.1.jar:na]\n    at com.vaadin.base.devserver.stats.StatisticsStorage.access(StatisticsStorage.java:80) ~[vaadin-dev-server-23.0.1.jar:na]\n    at com.vaadin.base.devserver.stats.StatisticsStorage.update(StatisticsStorage.java:92) ~[vaadin-dev-server-23.0.1.jar:na]\n    at com.vaadin.base.devserver.stats.DevModeUsageStatistics.trackGlobalData(DevModeUsageStatistics.java:106) ~[vaadin-dev-server-23.0.1.jar:na]\n    at com.vaadin.base.devserver.stats.DevModeUsageStatistics.lambda$init$30ce3648$1(DevModeUsageStatistics.java:98) ~[vaadin-dev-server-23.0.1.jar:na]\n    at com.vaadin.base.devserver.stats.StatisticsStorage.access(StatisticsStorage.java:80) ~[vaadin-dev-server-23.0.1.jar:na]\n    at com.vaadin.base.devserver.stats.DevModeUsageStatistics.init(DevModeUsageStatistics.java:89) ~[vaadin-dev-server-23.0.1.jar:na]\n    at com.vaadin.base.devserver.startup.DevModeInitializer.initDevModeHandler(DevModeInitializer.java:217) ~[vaadin-dev-server-23.0.1.jar:na]\n    at com.vaadin.base.devserver.DevModeHandlerManagerImpl.initDevModeHandler(DevModeHandlerManagerImpl.java:80) ~[vaadin-dev-server-23.0.1.jar:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener.failFastContextInitialized(VaadinServletContextInitializer.java:474) ~[vaadin-spring-23.0.1.jar:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:187) ~[vaadin-spring-23.0.1.jar:na]\n    ... 46 common frames omitted\n\n2022-03-26 13:11:33.552 ERROR 5936 --- [  restartedMain] o.apache.catalina.core.StandardContext   : One or more listeners failed to start. Full details will be found in the appropriate container log file\n2022-03-26 13:11:33.552 ERROR 5936 --- [  restartedMain] o.apache.catalina.core.StandardContext   : Context [] startup failed due to previous errors\n2022-03-26 13:11:33.554 ERROR 5936 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context destroyed event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener]\n\njava.lang.NullPointerException: null\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener.contextDestroyed(VaadinServletContextInitializer.java:491) ~[vaadin-spring-23.0.1.jar:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextDestroyed$1(VaadinServletContextInitializer.java:218) ~[vaadin-spring-23.0.1.jar:na]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextDestroyed(VaadinServletContextInitializer.java:218) ~[vaadin-spring-23.0.1.jar:na]\n    at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4814) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5477) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:187) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n    at com.example.application.Application.main(Application.java:25) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\n\n2022-03-26 13:11:33.555  WARN 5936 --- [  restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@11.0.10/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@11.0.10/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\n java.base@11.0.10/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)\n java.base@11.0.10/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@11.0.10/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n java.base@11.0.10/java.lang.Thread.run(Thread.java:829)\n2022-03-26 13:11:33.556  WARN 5936 --- [  restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@11.0.10/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@11.0.10/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\n java.base@11.0.10/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)\n java.base@11.0.10/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:458)\n java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)\n java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n java.base@11.0.10/java.lang.Thread.run(Thread.java:829)\n2022-03-26 13:11:33.750  INFO 5936 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-03-26 13:11:33.753  WARN 5936 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2022-03-26 13:11:33.753  INFO 5936 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-03-26 13:11:33.755  INFO 5936 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2022-03-26 13:11:33.761  INFO 5936 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-03-26 13:11:33.777 ERROR 5936 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n    at com.example.application.Application.main(Application.java:25) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.4.jar:2.6.4]\n    ... 13 common frames omitted\nCaused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:187) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.6.4.jar:2.6.4]\n    ... 18 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","arrays","multidimensional-array","remove-method"],"comments":[{"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1656857725,"post_id":72847179,"comment_id":128668686,"body_markdown":"Have you tried anything yet? What exactly is the problem?","body":"Have you tried anything yet? What exactly is the problem?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1656858489,"post_id":72847179,"comment_id":128668844,"body_markdown":"Arrays in Java have *fixed* size, so you can&#39;t *remove* or *add* anything to it. BUT you can *set* some value at specified index (which sometimes is referred as &quot;*adding*&quot; something to array, which causes confusion in terminology). Now to *simulate* &quot;removing&quot; element from array you can simply *set* at that index some special value which will represent &quot;no value&quot;. For instance in case of array of objects it could be `null`, or in case of array of positive numbers set there `-1`.","body":"Arrays in Java have <i>fixed</i> size, so you can&#39;t <i>remove</i> or <i>add</i> anything to it. BUT you can <i>set</i> some value at specified index (which sometimes is referred as &quot;<i>adding</i>&quot; something to array, which causes confusion in terminology). Now to <i>simulate</i> &quot;removing&quot; element from array you can simply <i>set</i> at that index some special value which will represent &quot;no value&quot;. For instance in case of array of objects it could be <code>null</code>, or in case of array of positive numbers set there <code>-1</code>."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1656860116,"post_id":72847179,"comment_id":128669222,"body_markdown":"From the looks of your code, this seems like a possible XY problem.  Why do you want to remove the last element?  What if you could prevent it from being put there in the first place?  &quot;2D&quot; arrays do not have to be rectangular.   Can you provide more detail in your question.","body":"From the looks of your code, this seems like a possible XY problem.  Why do you want to remove the last element?  What if you could prevent it from being put there in the first place?  &quot;2D&quot; arrays do not have to be rectangular.   Can you provide more detail in your question."}],"answers":[{"tags":[],"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656857834,"creation_date":1656857834,"answer_id":72847212,"question_id":72847179,"body_markdown":"The question is awkward.\r\n\r\n* You can&#39;t &quot;remove&quot; an element from a 2D static array - what you can do is empty that array element. This is as simple as ``queue[row - 1][col - 1] = &quot;&quot;``.\r\n* If you want to be able to remove elements the way you describe, your best choice is use dynamic arrays, such as ArrayList. \r\n* Note though that [Java supports 2D arrays with differing number of columns per row](https://stackoverflow.com/questions/41996540/reading-input-into-an-int-2d-array-with-varying-number-of-columns-per-row), so you can also create a new array, copy everything except the last column in the last row, and put it back in the original array.","title":"how to remove an element from 2d array in java","body":"<p>The question is awkward.</p>\n<ul>\n<li>You can't &quot;remove&quot; an element from a 2D static array - what you can do is empty that array element. This is as simple as <code>queue[row - 1][col - 1] = &quot;&quot;</code>.</li>\n<li>If you want to be able to remove elements the way you describe, your best choice is use dynamic arrays, such as ArrayList.</li>\n<li>Note though that <a href=\"https://stackoverflow.com/questions/41996540/reading-input-into-an-int-2d-array-with-varying-number-of-columns-per-row\">Java supports 2D arrays with differing number of columns per row</a>, so you can also create a new array, copy everything except the last column in the last row, and put it back in the original array.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656863157,"creation_date":1656861015,"answer_id":72847598,"question_id":72847179,"body_markdown":"You cannot remove a cell from an array. But you can `effectively` remove it by simply replacing the last row with a new copy of all but the last element.\r\n```\r\nqueue[row-1] = Arrays.copyOf(queue[row-1], queue[row-1].length-1);\r\n```\r\nYou might want to try creating the array like this.  Then you won&#39;t need to remove or copy anything.\r\n\r\n- define the Array with the number of rows.\r\n- then assign the row array separately to the &quot;2D&quot; array. For a large number of rows, this could be done in a loop with an `int[] array` of dimensions for each row.\r\n```\r\nint rows = 2;\r\nString[][] queue = new String[rows][];\r\nqueue[0] = new String[2];\r\nqueue[1] = new String[1];\r\nScanner scanner = new Scanner(System.in);\r\nfor (rows = 0; rows &lt; queue.length; rows++) { // Loop through the rows in the 2D array.\r\n    for (int col = 0; col &lt; queue[rows].length; col++) { \r\n        System.out.println(&quot;Enter the name&quot;);{\r\n            queue[rows][col] = scanner.next();\r\n        }\r\n    }\r\n}\r\nfor (String[] row : queue) {\r\n\tSystem.out.println(Arrays.toString(row));\r\n}","title":"how to remove an element from 2d array in java","body":"<p>You cannot remove a cell from an array. But you can <code>effectively</code> remove it by simply replacing the last row with a new copy of all but the last element.</p>\n<pre><code>queue[row-1] = Arrays.copyOf(queue[row-1], queue[row-1].length-1);\n</code></pre>\n<p>You might want to try creating the array like this.  Then you won't need to remove or copy anything.</p>\n<ul>\n<li>define the Array with the number of rows.</li>\n<li>then assign the row array separately to the &quot;2D&quot; array. For a large number of rows, this could be done in a loop with an <code>int[] array</code> of dimensions for each row.</li>\n</ul>\n<pre><code>int rows = 2;\nString[][] queue = new String[rows][];\nqueue[0] = new String[2];\nqueue[1] = new String[1];\nScanner scanner = new Scanner(System.in);\nfor (rows = 0; rows &lt; queue.length; rows++) { // Loop through the rows in the 2D array.\n    for (int col = 0; col &lt; queue[rows].length; col++) { \n        System.out.println(&quot;Enter the name&quot;);{\n            queue[rows][col] = scanner.next();\n        }\n    }\n}\nfor (String[] row : queue) {\n    System.out.println(Arrays.toString(row));\n}\n</code></pre>\n"}],"owner":{"account_id":23227031,"reputation":1,"user_id":17318423,"display_name":"Disanya Kaluarachchi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656863157,"creation_date":1656857586,"question_id":72847179,"body_markdown":"I want to remove an element after creating the below 2d array.And it should be the last element of the array.\r\n\r\n    public static void main(String[] args) {\r\n            int i;\r\n            int row = 2;\r\n            int col = 2;\r\n            String[][] queue = new String[row][col];\r\n            Scanner scanner = new Scanner(System.in);\r\n            String[][] queue = new String[row][col];\r\n            Scanner scanner = new Scanner(System.in);\r\n            for (row = 0; row &lt; queue.length; row++) { // Loop through the rows in the 2D array.\r\n                for (col = 0; col &lt; queue[row].length; col++) { \r\n                    System.out.println(&quot;Enter the name&quot;);{\r\n                        queue[row][col] = scanner.next();\r\n                    }\r\n    \r\n                    }\r\n                }\r\n            for (i = 0; i &lt; row; i++) {\r\n                for (int j = 0; j &lt; col; j++) {\r\n                    System.out.print(queue[i][j] + &quot; &quot;);\r\n","title":"how to remove an element from 2d array in java","body":"<p>I want to remove an element after creating the below 2d array.And it should be the last element of the array.</p>\n<pre><code>public static void main(String[] args) {\n        int i;\n        int row = 2;\n        int col = 2;\n        String[][] queue = new String[row][col];\n        Scanner scanner = new Scanner(System.in);\n        String[][] queue = new String[row][col];\n        Scanner scanner = new Scanner(System.in);\n        for (row = 0; row &lt; queue.length; row++) { // Loop through the rows in the 2D array.\n            for (col = 0; col &lt; queue[row].length; col++) { \n                System.out.println(&quot;Enter the name&quot;);{\n                    queue[row][col] = scanner.next();\n                }\n\n                }\n            }\n        for (i = 0; i &lt; row; i++) {\n            for (int j = 0; j &lt; col; j++) {\n                System.out.print(queue[i][j] + &quot; &quot;);\n</code></pre>\n"},{"tags":["java","bytecode","static-analysis"],"comments":[{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1656862934,"post_id":72847839,"comment_id":128669885,"body_markdown":"Quick answer is everything you can&#39;t access via reflections.","body":"Quick answer is everything you can&#39;t access via reflections."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1656863053,"post_id":72847839,"comment_id":128669908,"body_markdown":"Please note that annotations are kept if you set the retention to runtime.","body":"Please note that annotations are kept if you set the retention to runtime."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656863080,"post_id":72847839,"comment_id":128669912,"body_markdown":"Ermm .... no.  You can&#39;t access the bytecodes themselves by reflection for a start.","body":"Ermm .... no.  You can&#39;t access the bytecodes themselves by reflection for a start."},{"owner":{"account_id":5458850,"reputation":85,"user_id":4341547,"display_name":"Idriss Riouak"},"score":1,"creation_date":1656863115,"post_id":72847839,"comment_id":128669917,"body_markdown":"Local variable annotations are not retained in class files (or at runtime) regardless of the retention policy set on the annotation type. See JLS 9.6.1.2.\n\nReference: http://www.eclipse.org/aspectj/doc/released/adk15notebook/annotations.html","body":"Local variable annotations are not retained in class files (or at runtime) regardless of the retention policy set on the annotation type. See JLS 9.6.1.2.  Reference: <a href=\"http://www.eclipse.org/aspectj/doc/released/adk15notebook/annotations.html\" rel=\"nofollow noreferrer\">eclipse.org/aspectj/doc/released/adk15notebook/annotations.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1656863469,"post_id":72847839,"comment_id":128669991,"body_markdown":"@StephenC If I have understood the question correctly, it is not about accessing the bytecode, but rather knowing which elements of Java code are transferred to the bytecode and which are omitted.","body":"@StephenC If I have understood the question correctly, it is not about accessing the bytecode, but rather knowing which elements of Java code are transferred to the bytecode and which are omitted."},{"owner":{"account_id":5458850,"reputation":85,"user_id":4341547,"display_name":"Idriss Riouak"},"score":0,"creation_date":1656863662,"post_id":72847839,"comment_id":128670031,"body_markdown":"@Japhei, Yes exactly! I&#39;m trying to understand what is completely lost during the building process.","body":"@Japhei, Yes exactly! I&#39;m trying to understand what is completely lost during the building process."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":2,"creation_date":1656864335,"post_id":72847839,"comment_id":128670191,"body_markdown":"@IdrissRiouak I&#39;m not a pro in compiled Java, but I can tell you that e.g. the names of variables are completely lost. There will be many things that get lost during the compilation. It would help if you could narrow down your question to what usecase you need this for.","body":"@IdrissRiouak I&#39;m not a pro in compiled Java, but I can tell you that e.g. the names of variables are completely lost. There will be many things that get lost during the compilation. It would help if you could narrow down your question to what usecase you need this for."},{"owner":{"account_id":5458850,"reputation":85,"user_id":4341547,"display_name":"Idriss Riouak"},"score":0,"creation_date":1656864699,"post_id":72847839,"comment_id":128670269,"body_markdown":"Thank you @Japhei !\nI was wondering if &quot;final&quot; is retained in any way?","body":"Thank you @Japhei ! I was wondering if &quot;final&quot; is retained in any way?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1656864792,"post_id":72847839,"comment_id":128670286,"body_markdown":"Of the top of my head, the order of declarations of fields, methods etc in the class file are not guaranteed to be the same order as in the Java source.","body":"Of the top of my head, the order of declarations of fields, methods etc in the class file are not guaranteed to be the same order as in the Java source."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1656864900,"post_id":72847839,"comment_id":128670311,"body_markdown":"`final` is retained, as long as the entire field is. Sometimes the field gets inlined though, if the value is a compile-time constant.","body":"<code>final</code> is retained, as long as the entire field is. Sometimes the field gets inlined though, if the value is a compile-time constant."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1656865356,"post_id":72847839,"comment_id":128670412,"body_markdown":"@IdrissRiouak I found a document explaining the compilation of Java. This might be a bit outdatet but the core should be the same: https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html\nIt sais that the final modifier is being retained. Out of my head I would add that effectively final variables have to be marked final in the byte code too, but I couldn&#39;t find any proof of that. Maybe you could just try to read into this in the document.","body":"@IdrissRiouak I found a document explaining the compilation of Java. This might be a bit outdatet but the core should be the same: <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html</a> It sais that the final modifier is being retained. Out of my head I would add that effectively final variables have to be marked final in the byte code too, but I couldn&#39;t find any proof of that. Maybe you could just try to read into this in the document."},{"owner":{"account_id":5458850,"reputation":85,"user_id":4341547,"display_name":"Idriss Riouak"},"score":0,"creation_date":1656865497,"post_id":72847839,"comment_id":128670442,"body_markdown":"I found this, and apparently `final` for local variables is not retained. \n\n[See reference](https://stackoverflow.com/questions/7704024/how-can-one-tell-if-a-local-variable-is-final-from-java-bytecode-related-to)\n\n&quot;The finality of local variables is checked by the compiler and doesn&#39;t make it to the bytecode. This information isn&#39;t required at runtime, and hence isn&#39;t stored in the bytecode.\n\nThe JVM treats final and non-final local variables in the same way.&quot;","body":"I found this, and apparently <code>final</code> for local variables is not retained.   <a href=\"https://stackoverflow.com/questions/7704024/how-can-one-tell-if-a-local-variable-is-final-from-java-bytecode-related-to\">See reference</a>  &quot;The finality of local variables is checked by the compiler and doesn&#39;t make it to the bytecode. This information isn&#39;t required at runtime, and hence isn&#39;t stored in the bytecode.  The JVM treats final and non-final local variables in the same way.&quot;"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656888523,"post_id":72847839,"comment_id":128674703,"body_markdown":"@Japhael - The question as written is ambiguous.  But &quot;everything&quot; means everything.  Your &quot;Quick answer&quot; is not an accurate answer.","body":"@Japhael - The question as written is ambiguous.  But &quot;everything&quot; means everything.  Your &quot;Quick answer&quot; is not an accurate answer."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1656926210,"post_id":72847839,"comment_id":128681505,"body_markdown":"‚Äúannotation variables‚Äù is not a thing. If you know the correct term, as shown in [this comment](https://stackoverflow.com/questions/72847839/what-is-not-retained-in-the-bytecode#comment128669917_72847839) you should [edit] your question to correct it. Generally, you should not use outdated 3rd party documents to discuss such things. The current authoritative source is [JLS, &#167;9.6.4.2](https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.6.4.2) It used to be &#167;9.6.1.2 a decade ago.","body":"‚Äúannotation variables‚Äù is not a thing. If you know the correct term, as shown in <a href=\"https://stackoverflow.com/questions/72847839/what-is-not-retained-in-the-bytecode#comment128669917_72847839\">this comment</a> you should <a href=\"https://stackoverflow.com/posts/72847839/edit\">edit</a> your question to correct it. Generally, you should not use outdated 3rd party documents to discuss such things. The current authoritative source is <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.6.4.2\" rel=\"nofollow noreferrer\">JLS, &#167;9.6.4.2</a> It used to be &#167;9.6.1.2 a decade ago."},{"owner":{"account_id":2204617,"reputation":1728,"user_id":1948143,"display_name":"creichen"},"score":0,"creation_date":1661448464,"post_id":72847839,"comment_id":129781266,"body_markdown":"The latest JVM spec is here: https://docs.oracle.com/javase/specs/jvms/se18/html/index.html\nFor a comprehensive analysis you would have to scan the specification for differences.  Off the top of my head I am reasonably confident about (1) there are no annotations for column-level source positions, (2) no `import` declarations.  More complex control flow (closures, finally) may be ambiguous.  One approach to find more: decompile and check differences against e.g. the ExtendJ AST, but I&#39;m not sure that that is worthwhile.  Note that the ST group at KTH had papers on decompilation that may help.","body":"The latest JVM spec is here: <a href=\"https://docs.oracle.com/javase/specs/jvms/se18/html/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se18/html/index.html</a> For a comprehensive analysis you would have to scan the specification for differences.  Off the top of my head I am reasonably confident about (1) there are no annotations for column-level source positions, (2) no <code>import</code> declarations.  More complex control flow (closures, finally) may be ambiguous.  One approach to find more: decompile and check differences against e.g. the ExtendJ AST, but I&#39;m not sure that that is worthwhile.  Note that the ST group at KTH had papers on decompilation that may help."}],"owner":{"account_id":5458850,"reputation":85,"user_id":4341547,"display_name":"Idriss Riouak"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656862816,"creation_date":1656862816,"question_id":72847839,"body_markdown":"I&#39;m wondering what is completely lost during the Java compilation process.\r\n\r\nFor example, I know that annotation variables are not retained: \r\n[http://www.eclipse.org/aspectj/doc/released/adk15notebook/annotations.html][1]\r\n\r\nAre there more things like this ?\r\n\r\n\r\n  [1]: http://www.eclipse.org/aspectj/doc/released/adk15notebook/annotations.html","title":"What is not retained in the Bytecode?","body":"<p>I'm wondering what is completely lost during the Java compilation process.</p>\n<p>For example, I know that annotation variables are not retained:\n<a href=\"http://www.eclipse.org/aspectj/doc/released/adk15notebook/annotations.html\" rel=\"nofollow noreferrer\">http://www.eclipse.org/aspectj/doc/released/adk15notebook/annotations.html</a></p>\n<p>Are there more things like this ?</p>\n"},{"tags":["java","logging","logback","slf4j","appender"],"owner":{"account_id":25253131,"reputation":15,"user_id":19085315,"display_name":"NiranSUS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656862785,"creation_date":1656861944,"question_id":72847723,"body_markdown":"I have investigated past questions about that topic and still have no solution,\r\n\r\nHowever, **I want the logger to print the current class&#39;s name to the logs.**\r\n\r\nI mean the name of the whoever class that made the log message appear.\r\n\r\nI found some solutions but unfortunately, none of them worked **-** \r\n\r\nInstead of printing the class name  **-** it&#39;s printed the actual logger name or &quot;?&quot; .\r\n\r\nI&#39;m using Logback and slf4j.\r\n\r\nThose are the ways I already tried:\r\n\r\n(at logback.xml logger&#39;s appender)\r\n\r\n     &lt;pattern&gt;[%date{ISO8601}] [%level] [%logger] [%marker] [%thread] %logger{36} %logger{0}.%method:%L %c  %class{36}.%M %class{0}.%method:%L  %C %class - %msg MDC: {%mdc}%n&lt;/pattern&gt;\r\n\r\n**What is the correct keyword for doing it?**\r\n\r\nAm I missing something?\r\n ","title":"How to print logs with the current class&#39;s name using Logback?","body":"<p>I have investigated past questions about that topic and still have no solution,</p>\n<p>However, <strong>I want the logger to print the current class's name to the logs.</strong></p>\n<p>I mean the name of the whoever class that made the log message appear.</p>\n<p>I found some solutions but unfortunately, none of them worked <strong>-</strong></p>\n<p>Instead of printing the class name  <strong>-</strong> it's printed the actual logger name or &quot;?&quot; .</p>\n<p>I'm using Logback and slf4j.</p>\n<p>Those are the ways I already tried:</p>\n<p>(at logback.xml logger's appender)</p>\n<pre><code> &lt;pattern&gt;[%date{ISO8601}] [%level] [%logger] [%marker] [%thread] %logger{36} %logger{0}.%method:%L %c  %class{36}.%M %class{0}.%method:%L  %C %class - %msg MDC: {%mdc}%n&lt;/pattern&gt;\n</code></pre>\n<p><strong>What is the correct keyword for doing it?</strong></p>\n<p>Am I missing something?</p>\n"},{"tags":["java","intellij-idea","javafx"],"answers":[{"tags":[],"owner":{"account_id":17755088,"reputation":1,"user_id":12892356,"display_name":"Sergei Permiakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656749648,"creation_date":1656749327,"answer_id":72837511,"question_id":72837461,"body_markdown":"First of all check if file exists with `exists()` function, you obviously using wrong file path in your jar","title":"java.lang.IllegalArgumentException in the program after building in jar","body":"<p>First of all check if file exists with <code>exists()</code> function, you obviously using wrong file path in your jar</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656780624,"creation_date":1656777826,"answer_id":72840525,"question_id":72837461,"body_markdown":"_**Preface:** This answer assumes you&#39;re using the &quot;standard directory layout&quot; of Maven/Gradle, based on the presence of `src/main/java` and `src/main/resources`._\r\n\r\n---\r\n\r\nFiles under `src/main/resources` are **resources**, not files. This means you have to access them using the resource-lookup API. For example:\r\n\r\n```lang-java\r\nURL url = getClass().getResource(&quot;/com/application/exeServices/SetProcessWorkingSetSize.exe&quot;);\r\n```\r\n\r\nThis will give you a URL pointing to your resource, and it will do this in an application-location-independent way. In other words, it finds the resource on the class-path/module-path. If you want to read the resource then you&#39;d open an `InputStream` using `URL#openStream()` (or get an `InputStream` directly by using `Class#getResourceAsStream(String)`). Note that resources are read-only. Also, notice the above does not include `src/main/resources` in the path. That directory only exists in your project&#39;s development environment; it does not exist after deployment (nor does it exist in your _build_ output).\r\n\r\nAs previously stated, resources are not files. This means you can&#39;t read them using the `File` API. This is especially true once you package your application into a JAR file or custom run-time image, because `File` has **no idea** how to read/reference the packaged resource.\r\n\r\nBut you have another problem. I strongly doubt Windows is capable of executing an executable file when it&#39;s packaged in a JAR file or custom run-time image. Just like the `File` API of Java, Windows has no idea how to read packaged _Java_ resources. You&#39;d have to extract the resource into a regular file, and then have Windows execute that file. For example:\r\n\r\n```lang-java\r\n// uses java.nio.file.Path and java.nio.file.Files\r\nprivate void useCleaningService() {\r\n  Path exe = Path.of(System.getProperty(&quot;user.home&quot;), &quot;.app_name&quot;, &quot;SetProcessWorkingSetSize.exe&quot;);\r\n  try {\r\n    if (Files.notExists(exe)) {\r\n      try (InputStream in = getClass().getResourceAsStream(&quot;/com/application/exeServices/SetProcessWorkingSetSize.exe&quot;)) {\r\n        Files.createDirectories(exe.getParent());\r\n        Files.copy(in, exe);\r\n      }\r\n    }\r\n    Desktop.getDesktop().open(exe.toFile());\r\n  } catch (Exception ex) {\r\n    ex.printStackTrace();\r\n  }\r\n}\r\n```\r\n\r\nThis will extract the executable file to an application-specific directory (replace `.app_name` with the whatever name you want for that directory) in the user&#39;s home directory (e.g., `C:\\Users\\&lt;username&gt;`). It will only perform the extraction if the target file doesn&#39;t already exist. This will prevent unnecessary work, but as currently implemented, it will also prevent replacing the executable with new _versions_ of it (unless you change the name of the target file). So, depending on your needs, you might want to modify the code to extract the resource _once per application instance_ (can be accomplished with a simple `boolean` flag).","title":"java.lang.IllegalArgumentException in the program after building in jar","body":"<p><em><strong>Preface:</strong> This answer assumes you're using the &quot;standard directory layout&quot; of Maven/Gradle, based on the presence of <code>src/main/java</code> and <code>src/main/resources</code>.</em></p>\n<hr />\n<p>Files under <code>src/main/resources</code> are <strong>resources</strong>, not files. This means you have to access them using the resource-lookup API. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = getClass().getResource(&quot;/com/application/exeServices/SetProcessWorkingSetSize.exe&quot;);\n</code></pre>\n<p>This will give you a URL pointing to your resource, and it will do this in an application-location-independent way. In other words, it finds the resource on the class-path/module-path. If you want to read the resource then you'd open an <code>InputStream</code> using <code>URL#openStream()</code> (or get an <code>InputStream</code> directly by using <code>Class#getResourceAsStream(String)</code>). Note that resources are read-only. Also, notice the above does not include <code>src/main/resources</code> in the path. That directory only exists in your project's development environment; it does not exist after deployment (nor does it exist in your <em>build</em> output).</p>\n<p>As previously stated, resources are not files. This means you can't read them using the <code>File</code> API. This is especially true once you package your application into a JAR file or custom run-time image, because <code>File</code> has <strong>no idea</strong> how to read/reference the packaged resource.</p>\n<p>But you have another problem. I strongly doubt Windows is capable of executing an executable file when it's packaged in a JAR file or custom run-time image. Just like the <code>File</code> API of Java, Windows has no idea how to read packaged <em>Java</em> resources. You'd have to extract the resource into a regular file, and then have Windows execute that file. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// uses java.nio.file.Path and java.nio.file.Files\nprivate void useCleaningService() {\n  Path exe = Path.of(System.getProperty(&quot;user.home&quot;), &quot;.app_name&quot;, &quot;SetProcessWorkingSetSize.exe&quot;);\n  try {\n    if (Files.notExists(exe)) {\n      try (InputStream in = getClass().getResourceAsStream(&quot;/com/application/exeServices/SetProcessWorkingSetSize.exe&quot;)) {\n        Files.createDirectories(exe.getParent());\n        Files.copy(in, exe);\n      }\n    }\n    Desktop.getDesktop().open(exe.toFile());\n  } catch (Exception ex) {\n    ex.printStackTrace();\n  }\n}\n</code></pre>\n<p>This will extract the executable file to an application-specific directory (replace <code>.app_name</code> with the whatever name you want for that directory) in the user's home directory (e.g., <code>C:\\Users\\&lt;username&gt;</code>). It will only perform the extraction if the target file doesn't already exist. This will prevent unnecessary work, but as currently implemented, it will also prevent replacing the executable with new <em>versions</em> of it (unless you change the name of the target file). So, depending on your needs, you might want to modify the code to extract the resource <em>once per application instance</em> (can be accomplished with a simple <code>boolean</code> flag).</p>\n"}],"owner":{"display_name":"user19221408"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72840525,"answer_count":2,"score":0,"last_activity_date":1656862347,"creation_date":1656748714,"question_id":72837461,"body_markdown":"I have an exe file in a JavaFX project that I launch on a button click. Works fine in IDE, but if you build in jar it stops working and throws this error - java.lang.IllegalArgumentException: The file: src\\main\\resources\\com\\application\\exeServices\\SetProcessWorkingSetSize.exe doesn&#39;t exist.\r\n\r\nThe project hierarchy:  \r\n[![enter image description here][1]][1]\r\n\r\nThe code I call exe\r\n\r\n    private void useCleaningService() {\r\n        final String path = &quot;src/main/resources/com/application/exeServices/SetProcessWorkingSetSize.exe&quot;;\r\n        File file = new File(path);\r\n        try {\r\n            Desktop.getDesktop().open(file);\r\n        } catch (Exception e){\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kM6xm.png","title":"java.lang.IllegalArgumentException in the program after building in jar","body":"<p>I have an exe file in a JavaFX project that I launch on a button click. Works fine in IDE, but if you build in jar it stops working and throws this error - java.lang.IllegalArgumentException: The file: src\\main\\resources\\com\\application\\exeServices\\SetProcessWorkingSetSize.exe doesn't exist.</p>\n<p>The project hierarchy:<br />\n<a href=\"https://i.stack.imgur.com/kM6xm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kM6xm.png\" alt=\"enter image description here\" /></a></p>\n<p>The code I call exe</p>\n<pre><code>private void useCleaningService() {\n    final String path = &quot;src/main/resources/com/application/exeServices/SetProcessWorkingSetSize.exe&quot;;\n    File file = new File(path);\n    try {\n        Desktop.getDesktop().open(file);\n    } catch (Exception e){\n        System.out.println(e);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1411393493,"post_id":25975637,"comment_id":40673130,"body_markdown":"in AWT, GWT, JavaFx, SWT, Swing, eventually in OpenGL/CL ...., whos knows","body":"in AWT, GWT, JavaFx, SWT, Swing, eventually in OpenGL/CL ...., whos knows"},{"owner":{"account_id":505874,"reputation":8230,"user_id":1757964,"accept_rate":86,"display_name":"APerson"},"score":0,"creation_date":1411393511,"post_id":25975637,"comment_id":40673140,"body_markdown":"Try drawing a rounded rectangle and then a regular rectangle on top of it, covering only two of the corners.","body":"Try drawing a rounded rectangle and then a regular rectangle on top of it, covering only two of the corners."},{"owner":{"display_name":"user3229635"},"score":0,"creation_date":1411393552,"post_id":25975637,"comment_id":40673169,"body_markdown":"cant there be a single rectangle?","body":"cant there be a single rectangle?"},{"owner":{"account_id":33515,"reputation":6921,"user_id":93910,"accept_rate":86,"display_name":"Sanjay Manohar"},"score":0,"creation_date":1411393966,"post_id":25975637,"comment_id":40673408,"body_markdown":"What graphics framework are you using? swing?","body":"What graphics framework are you using? swing?"},{"owner":{"display_name":"user3229635"},"score":0,"creation_date":1411394006,"post_id":25975637,"comment_id":40673442,"body_markdown":"yes its swing graphics","body":"yes its swing graphics"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1411394096,"post_id":25975637,"comment_id":40673498,"body_markdown":"in Swing without any special effort, e.g. Borders are designated for, incl. transparency or translucency","body":"in Swing without any special effort, e.g. Borders are designated for, incl. transparency or translucency"}],"answers":[{"tags":[],"owner":{"account_id":294559,"reputation":12783,"user_id":1022330,"accept_rate":51,"display_name":"Oliver Watkins"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1411400503,"creation_date":1411394048,"answer_id":25975853,"question_id":25975637,"body_markdown":"Just create a rounded rectangle similar to this :\r\n\r\n    RoundRectangle2D roundedRectangle = new RoundRectangle2D.Float(10, 10, 240, 160, 10, 10);\r\n\r\nAnd then draw a normal rectangle from the midpoint, to a desired point to the right.\r\n\r\nExample diagram :\r\n\r\n![enter image description here][1]\r\n\r\nNote : Make sure you have no border. I&#39;ve drawn them in for illustrative effect.\r\n\r\n  [1]: http://i.stack.imgur.com/LPDU2.png\r\n\r\n\r\nCode:\r\n\r\n    \t Graphics2D g2 = (Graphics2D) g;\r\n         RenderingHints qualityHints = new RenderingHints(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON );\r\n            qualityHints.put(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY );\r\n            g2.setRenderingHints( qualityHints );         \r\n\r\n\r\n         g2.setPaint(Color.RED);\r\n        \r\n         double x = 50;\r\n         double y = 50;\r\n         double w = x + 250;\r\n         double h = y + 100;\r\n         g2.fill(new RoundRectangle2D.Double(x, y, w, h, 50, 50));\r\n         \r\n         g2.fill(new Rectangle2D.Double(x + 100,y,w,h));\r\n\r\n","title":"2 Smooth Round Corners of Rectangle in java with Red background","body":"<p>Just create a rounded rectangle similar to this :</p>\n\n<pre><code>RoundRectangle2D roundedRectangle = new RoundRectangle2D.Float(10, 10, 240, 160, 10, 10);\n</code></pre>\n\n<p>And then draw a normal rectangle from the midpoint, to a desired point to the right.</p>\n\n<p>Example diagram :</p>\n\n<p><img src=\"https://i.stack.imgur.com/LPDU2.png\" alt=\"enter image description here\"></p>\n\n<p>Note : Make sure you have no border. I've drawn them in for illustrative effect.</p>\n\n<p>Code:</p>\n\n<pre><code>     Graphics2D g2 = (Graphics2D) g;\n     RenderingHints qualityHints = new RenderingHints(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON );\n        qualityHints.put(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY );\n        g2.setRenderingHints( qualityHints );         \n\n\n     g2.setPaint(Color.RED);\n\n     double x = 50;\n     double y = 50;\n     double w = x + 250;\n     double h = y + 100;\n     g2.fill(new RoundRectangle2D.Double(x, y, w, h, 50, 50));\n\n     g2.fill(new Rectangle2D.Double(x + 100,y,w,h));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32741,"reputation":1149,"user_id":91091,"display_name":"Mo&#39;in Creemers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656862097,"creation_date":1656862097,"answer_id":72847747,"question_id":25975637,"body_markdown":"Swing does not implement a RoundedRectangle2D that does this. But you can create one.\r\n\r\nWhile the accepted answer works, it is also the &#39;lazy&#39; solution. No offense.\r\n\r\nHere is working code that creates a rectangular shape where the `cornerFlags` parameter can be used to specify which corners should be rounded.\r\n\r\nUsage: Replace `RoundedRectangle2D.Double` with `ModifiedRoundRect` in your code.\r\n\r\nTo allow only the top-left and bottom-left corners to be rounded, set `cornerFlags = 3`.\r\n\r\n```java\r\npackage ui1.app.widgets;\r\n\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.geom.PathIterator;\r\nimport java.awt.geom.Rectangle2D;\r\nimport java.awt.geom.RoundRectangle2D;\r\nimport java.util.Arrays;\r\nimport java.util.NoSuchElementException;\r\n\r\npublic class ModifiedRoundRect extends RoundRectangle2D {\r\n\tpublic double x;\r\n\tpublic double y;\r\n\tpublic double width;\r\n\tpublic double height;\r\n\tpublic double arcwidth;\r\n\tpublic double archeight;\r\n\tprivate int cornerFlags;\r\n\r\n\tpublic ModifiedRoundRect(double x, double y, double w, double h, double arcw, double arch,\r\n\t\t\tint cornerFlags) {\r\n\t\tthis.setRoundRect(x, y, w, h, arcw, arch);\r\n\t\tthis.cornerFlags = cornerFlags;\r\n\t}\r\n\r\n\tpublic double getX() {\r\n\t\treturn this.x;\r\n\t}\r\n\r\n\tpublic double getY() {\r\n\t\treturn this.y;\r\n\t}\r\n\r\n\tpublic double getWidth() {\r\n\t\treturn this.width;\r\n\t}\r\n\r\n\tpublic double getHeight() {\r\n\t\treturn this.height;\r\n\t}\r\n\r\n\tpublic double getArcWidth() {\r\n\t\treturn this.arcwidth;\r\n\t}\r\n\r\n\tpublic double getArcHeight() {\r\n\t\treturn this.archeight;\r\n\t}\r\n\r\n\tpublic int getCornerFlags() {\r\n\t\treturn cornerFlags;\r\n\t}\r\n\r\n\tpublic boolean isEmpty() {\r\n\t\treturn this.width &lt;= 0.0D || this.height &lt;= 0.0D;\r\n\t}\r\n\r\n\tpublic void setRoundRect(double x, double y, double w, double h, double arcw, double arch) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.width = w;\r\n\t\tthis.height = h;\r\n\t\tthis.arcwidth = arcw;\r\n\t\tthis.archeight = arch;\r\n\t\tthis.cornerFlags = 15;\r\n\t}\r\n\r\n\tpublic void setRoundRect(RoundRectangle2D rr) {\r\n\t\tthis.x = rr.getX();\r\n\t\tthis.y = rr.getY();\r\n\t\tthis.width = rr.getWidth();\r\n\t\tthis.height = rr.getHeight();\r\n\t\tthis.arcwidth = rr.getArcWidth();\r\n\t\tthis.archeight = rr.getArcHeight();\r\n\t\tthis.cornerFlags = 15;\r\n\t}\r\n\r\n\tpublic void setRoundRect(ModifiedRoundRect rr) {\r\n\t\tthis.x = rr.getX();\r\n\t\tthis.y = rr.getY();\r\n\t\tthis.width = rr.getWidth();\r\n\t\tthis.height = rr.getHeight();\r\n\t\tthis.arcwidth = rr.getArcWidth();\r\n\t\tthis.archeight = rr.getArcHeight();\r\n\t\tthis.cornerFlags = rr.getCornerFlags();\r\n\t}\r\n\r\n\tpublic Rectangle2D getBounds2D() {\r\n\t\treturn new java.awt.geom.Rectangle2D.Double(this.x, this.y, this.width, this.height);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic PathIterator getPathIterator(AffineTransform at) {\r\n\t\treturn new ModifiedRoundRectIterator(this, at, cornerFlags);\r\n\t}\r\n\r\n\tstatic class ModifiedRoundRectIterator implements PathIterator {\r\n\t\tdouble x;\r\n\t\tdouble y;\r\n\t\tdouble w;\r\n\t\tdouble h;\r\n\t\tdouble aw;\r\n\t\tdouble ah;\r\n\t\tAffineTransform affine;\r\n\t\tint index;\r\n\t\tprivate static final double angle = 0.7853981633974483D;\r\n\t\tprivate static final double a = 1.0D - Math.cos(0.7853981633974483D);\r\n\t\tprivate static final double b = Math.tan(0.7853981633974483D);\r\n\t\tprivate static final double c;\r\n\t\tprivate static final double cv;\r\n\t\tprivate static final double acv;\r\n\t\tprivate double[][] curves;\r\n\t\tprivate int[] types;\r\n\r\n\t\tModifiedRoundRectIterator(RoundRectangle2D rr, AffineTransform at, int cornerFlags) {\r\n\t\t\tthis.x = rr.getX();\r\n\t\t\tthis.y = rr.getY();\r\n\t\t\tthis.w = rr.getWidth();\r\n\t\t\tthis.h = rr.getHeight();\r\n\t\t\tthis.aw = Math.min(this.w, Math.abs(rr.getArcWidth()));\r\n\t\t\tthis.ah = Math.min(this.h, Math.abs(rr.getArcHeight()));\r\n\t\t\tthis.affine = at;\r\n\t\t\tif (this.aw &lt; 0.0D || this.ah &lt; 0.0D) {\r\n\t\t\t\tthis.index = curves.length;\r\n\t\t\t}\r\n\t\t\tcreateCurves(cornerFlags);\r\n\t\t}\r\n\r\n\t\tvoid createCurves(int cornerFlags) {\r\n\r\n\t\t\t// notes:\r\n\t\t\t// - curves are drawn counter-clock-wise\r\n\t\t\t// - a rectangle requires 4 segments + a start and close segment = 6\r\n\t\t\t// - 4 rounded rectangles adds 4 segments = 10\r\n\r\n\t\t\tboolean topLeft = (cornerFlags &amp; 1) == 1;\r\n\t\t\tboolean bottomLeft = (cornerFlags &amp; 2) == 2;\r\n\t\t\tboolean bottomRight = (cornerFlags &amp; 4) == 4;\r\n\t\t\tboolean topRight = (cornerFlags &amp; 8) == 8;\r\n\r\n\t\t\tint numberOfSegments =\r\n\t\t\t\t\t6 + (int)Arrays.asList(topLeft, bottomLeft, bottomRight, topRight)\r\n\t\t\t\t\t\t\t.stream()\r\n\t\t\t\t\t\t\t.filter(flag -&gt; flag)\r\n\t\t\t\t\t\t\t.count();\r\n\r\n\t\t\ttypes = new int[numberOfSegments];\r\n\t\t\tcurves = new double[numberOfSegments][];\r\n\r\n\t\t\tint i = 0;\r\n\t\t\ttypes[i] = PathIterator.SEG_MOVETO;\r\n\t\t\tcurves[i] = new double[] { 0.0D, 0.0D, 0.0D, topLeft ? 0.5D : 0D };\r\n\t\t\ti++;\r\n\r\n\t\t\t// line to bottom-left\r\n\t\t\ttypes[i] = PathIterator.SEG_LINETO;\r\n\t\t\tcurves[i] = new double[] { 0.0D, 0.0D, 1.0D, bottomLeft ? -0.5D : 0D };\r\n\t\t\ti++;\r\n\r\n\t\t\tif (bottomLeft) {\r\n\t\t\t\t// rounded corner at bottom left\r\n\t\t\t\ttypes[i] = PathIterator.SEG_CUBICTO;\r\n\t\t\t\tcurves[i] =\r\n\t\t\t\t\t\tnew double[] { 0.0D, 0.0D, 1.0D, -acv, 0.0D, acv, 1.0D, 0.0D, 0.0D, 0.5D,\r\n\t\t\t\t\t\t\t\t1.0D, 0.0D };\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\r\n\t\t\t// line to bottom-right\r\n\t\t\ttypes[i] = PathIterator.SEG_LINETO;\r\n\t\t\tcurves[i] = new double[] { 1.0D, bottomRight ? -0.5D : 0D, 1.0D, 0.0D };\r\n\t\t\ti++;\r\n\r\n\t\t\tif (bottomRight) {\r\n\t\t\t\t// rounded corner at bottom right\r\n\t\t\t\ttypes[i] = PathIterator.SEG_CUBICTO;\r\n\t\t\t\tcurves[i] =\r\n\t\t\t\t\t\tnew double[] { 1.0D, -acv, 1.0D, 0.0D, 1.0D, 0.0D, 1.0D, -acv, 1.0D, 0.0D,\r\n\t\t\t\t\t\t\t\t1.0D, -0.5D };\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\r\n\t\t\t// line to top right\r\n\t\t\ttypes[i] = PathIterator.SEG_LINETO;\r\n\t\t\tcurves[i] = new double[] { 1.0D, 0.0D, 0.0D, topRight ? 0.5D : 0D };\r\n\t\t\ti++;\r\n\r\n\t\t\tif (topRight) {\r\n\t\t\t\t// rounded corner at top right\r\n\t\t\t\ttypes[i] = PathIterator.SEG_CUBICTO;\r\n\t\t\t\tcurves[i] =\r\n\t\t\t\t\t\tnew double[] { 1.0D, 0.0D, 0.0D, acv, 1.0D, -acv, 0.0D, 0.0D, 1.0D, -0.5D,\r\n\t\t\t\t\t\t\t\t0.0D, 0.0D };\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\r\n\t\t\t// line to top left\r\n\t\t\ttypes[i] = PathIterator.SEG_LINETO;\r\n\t\t\tcurves[i] = new double[] { 0.0D, topLeft ? 0.5D : 0D, 0.0D, 0.0D };\r\n\t\t\ti++;\r\n\r\n\t\t\tif (topLeft) {\r\n\t\t\t\t// rounded corner at top left\r\n\t\t\t\ttypes[i] = PathIterator.SEG_CUBICTO;\r\n\t\t\t\tcurves[i] =\r\n\t\t\t\t\t\tnew double[] { 0.0D, acv, 0.0D, 0.0D, 0.0D, 0.0D, 0.0D, acv, 0.0D, 0.0D,\r\n\t\t\t\t\t\t\t\t0.0D, 0.5D };\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\ttypes[i] = PathIterator.SEG_CLOSE;\r\n\t\t\tcurves[i] = new double[0];\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\tpublic int getWindingRule() {\r\n\t\t\treturn WIND_NON_ZERO;\r\n\t\t}\r\n\r\n\t\tpublic boolean isDone() {\r\n\t\t\treturn this.index &gt;= curves.length;\r\n\t\t}\r\n\r\n\t\tpublic void next() {\r\n\t\t\t++this.index;\r\n\t\t}\r\n\r\n\t\tpublic int currentSegment(float[] coords) {\r\n\t\t\tif (this.isDone()) {\r\n\t\t\t\tthrow new NoSuchElementException(&quot;roundrect iterator out of bounds&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;ModifiedRoundRectIterator segment: &quot; + index);\r\n\t\t\t\tdouble[] ctrls = curves[this.index];\r\n\t\t\t\tint nc = 0;\r\n\r\n\t\t\t\tfor (int i = 0; i &lt; ctrls.length; i += 4) {\r\n\t\t\t\t\tcoords[nc++] = (float)(this.x + ctrls[i + 0] * this.w + ctrls[i + 1] * this.aw);\r\n\t\t\t\t\tcoords[nc++] = (float)(this.y + ctrls[i + 2] * this.h + ctrls[i + 3] * this.ah);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.affine != null) {\r\n\t\t\t\t\tthis.affine.transform(coords, 0, coords, 0, nc / 2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn types[this.index];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic int currentSegment(double[] coords) {\r\n\t\t\tif (this.isDone()) {\r\n\t\t\t\tthrow new NoSuchElementException(&quot;roundrect iterator out of bounds&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;ModifiedRoundRectIterator segment: &quot; + index);\r\n\t\t\t\tdouble[] ctrls = curves[this.index];\r\n\t\t\t\tint nc = 0;\r\n\r\n\t\t\t\tfor (int i = 0; i &lt; ctrls.length; i += 4) {\r\n\t\t\t\t\tcoords[nc++] = this.x + ctrls[i + 0] * this.w + ctrls[i + 1] * this.aw;\r\n\t\t\t\t\tcoords[nc++] = this.y + ctrls[i + 2] * this.h + ctrls[i + 3] * this.ah;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.affine != null) {\r\n\t\t\t\t\tthis.affine.transform(coords, 0, coords, 0, nc / 2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn types[this.index];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tstatic {\r\n\t\t\tc = Math.sqrt(1.0D + b * b) - 1.0D + a;\r\n\t\t\tcv = 1.3333333333333333D * a * b / c;\r\n\t\t\tacv = (1.0D - cv) / 2.0D;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```","title":"2 Smooth Round Corners of Rectangle in java with Red background","body":"<p>Swing does not implement a RoundedRectangle2D that does this. But you can create one.</p>\n<p>While the accepted answer works, it is also the 'lazy' solution. No offense.</p>\n<p>Here is working code that creates a rectangular shape where the <code>cornerFlags</code> parameter can be used to specify which corners should be rounded.</p>\n<p>Usage: Replace <code>RoundedRectangle2D.Double</code> with <code>ModifiedRoundRect</code> in your code.</p>\n<p>To allow only the top-left and bottom-left corners to be rounded, set <code>cornerFlags = 3</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ui1.app.widgets;\n\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.PathIterator;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.geom.RoundRectangle2D;\nimport java.util.Arrays;\nimport java.util.NoSuchElementException;\n\npublic class ModifiedRoundRect extends RoundRectangle2D {\n    public double x;\n    public double y;\n    public double width;\n    public double height;\n    public double arcwidth;\n    public double archeight;\n    private int cornerFlags;\n\n    public ModifiedRoundRect(double x, double y, double w, double h, double arcw, double arch,\n            int cornerFlags) {\n        this.setRoundRect(x, y, w, h, arcw, arch);\n        this.cornerFlags = cornerFlags;\n    }\n\n    public double getX() {\n        return this.x;\n    }\n\n    public double getY() {\n        return this.y;\n    }\n\n    public double getWidth() {\n        return this.width;\n    }\n\n    public double getHeight() {\n        return this.height;\n    }\n\n    public double getArcWidth() {\n        return this.arcwidth;\n    }\n\n    public double getArcHeight() {\n        return this.archeight;\n    }\n\n    public int getCornerFlags() {\n        return cornerFlags;\n    }\n\n    public boolean isEmpty() {\n        return this.width &lt;= 0.0D || this.height &lt;= 0.0D;\n    }\n\n    public void setRoundRect(double x, double y, double w, double h, double arcw, double arch) {\n        this.x = x;\n        this.y = y;\n        this.width = w;\n        this.height = h;\n        this.arcwidth = arcw;\n        this.archeight = arch;\n        this.cornerFlags = 15;\n    }\n\n    public void setRoundRect(RoundRectangle2D rr) {\n        this.x = rr.getX();\n        this.y = rr.getY();\n        this.width = rr.getWidth();\n        this.height = rr.getHeight();\n        this.arcwidth = rr.getArcWidth();\n        this.archeight = rr.getArcHeight();\n        this.cornerFlags = 15;\n    }\n\n    public void setRoundRect(ModifiedRoundRect rr) {\n        this.x = rr.getX();\n        this.y = rr.getY();\n        this.width = rr.getWidth();\n        this.height = rr.getHeight();\n        this.arcwidth = rr.getArcWidth();\n        this.archeight = rr.getArcHeight();\n        this.cornerFlags = rr.getCornerFlags();\n    }\n\n    public Rectangle2D getBounds2D() {\n        return new java.awt.geom.Rectangle2D.Double(this.x, this.y, this.width, this.height);\n    }\n\n    @Override\n    public PathIterator getPathIterator(AffineTransform at) {\n        return new ModifiedRoundRectIterator(this, at, cornerFlags);\n    }\n\n    static class ModifiedRoundRectIterator implements PathIterator {\n        double x;\n        double y;\n        double w;\n        double h;\n        double aw;\n        double ah;\n        AffineTransform affine;\n        int index;\n        private static final double angle = 0.7853981633974483D;\n        private static final double a = 1.0D - Math.cos(0.7853981633974483D);\n        private static final double b = Math.tan(0.7853981633974483D);\n        private static final double c;\n        private static final double cv;\n        private static final double acv;\n        private double[][] curves;\n        private int[] types;\n\n        ModifiedRoundRectIterator(RoundRectangle2D rr, AffineTransform at, int cornerFlags) {\n            this.x = rr.getX();\n            this.y = rr.getY();\n            this.w = rr.getWidth();\n            this.h = rr.getHeight();\n            this.aw = Math.min(this.w, Math.abs(rr.getArcWidth()));\n            this.ah = Math.min(this.h, Math.abs(rr.getArcHeight()));\n            this.affine = at;\n            if (this.aw &lt; 0.0D || this.ah &lt; 0.0D) {\n                this.index = curves.length;\n            }\n            createCurves(cornerFlags);\n        }\n\n        void createCurves(int cornerFlags) {\n\n            // notes:\n            // - curves are drawn counter-clock-wise\n            // - a rectangle requires 4 segments + a start and close segment = 6\n            // - 4 rounded rectangles adds 4 segments = 10\n\n            boolean topLeft = (cornerFlags &amp; 1) == 1;\n            boolean bottomLeft = (cornerFlags &amp; 2) == 2;\n            boolean bottomRight = (cornerFlags &amp; 4) == 4;\n            boolean topRight = (cornerFlags &amp; 8) == 8;\n\n            int numberOfSegments =\n                    6 + (int)Arrays.asList(topLeft, bottomLeft, bottomRight, topRight)\n                            .stream()\n                            .filter(flag -&gt; flag)\n                            .count();\n\n            types = new int[numberOfSegments];\n            curves = new double[numberOfSegments][];\n\n            int i = 0;\n            types[i] = PathIterator.SEG_MOVETO;\n            curves[i] = new double[] { 0.0D, 0.0D, 0.0D, topLeft ? 0.5D : 0D };\n            i++;\n\n            // line to bottom-left\n            types[i] = PathIterator.SEG_LINETO;\n            curves[i] = new double[] { 0.0D, 0.0D, 1.0D, bottomLeft ? -0.5D : 0D };\n            i++;\n\n            if (bottomLeft) {\n                // rounded corner at bottom left\n                types[i] = PathIterator.SEG_CUBICTO;\n                curves[i] =\n                        new double[] { 0.0D, 0.0D, 1.0D, -acv, 0.0D, acv, 1.0D, 0.0D, 0.0D, 0.5D,\n                                1.0D, 0.0D };\n                i++;\n            }\n\n            // line to bottom-right\n            types[i] = PathIterator.SEG_LINETO;\n            curves[i] = new double[] { 1.0D, bottomRight ? -0.5D : 0D, 1.0D, 0.0D };\n            i++;\n\n            if (bottomRight) {\n                // rounded corner at bottom right\n                types[i] = PathIterator.SEG_CUBICTO;\n                curves[i] =\n                        new double[] { 1.0D, -acv, 1.0D, 0.0D, 1.0D, 0.0D, 1.0D, -acv, 1.0D, 0.0D,\n                                1.0D, -0.5D };\n                i++;\n            }\n\n            // line to top right\n            types[i] = PathIterator.SEG_LINETO;\n            curves[i] = new double[] { 1.0D, 0.0D, 0.0D, topRight ? 0.5D : 0D };\n            i++;\n\n            if (topRight) {\n                // rounded corner at top right\n                types[i] = PathIterator.SEG_CUBICTO;\n                curves[i] =\n                        new double[] { 1.0D, 0.0D, 0.0D, acv, 1.0D, -acv, 0.0D, 0.0D, 1.0D, -0.5D,\n                                0.0D, 0.0D };\n                i++;\n            }\n\n            // line to top left\n            types[i] = PathIterator.SEG_LINETO;\n            curves[i] = new double[] { 0.0D, topLeft ? 0.5D : 0D, 0.0D, 0.0D };\n            i++;\n\n            if (topLeft) {\n                // rounded corner at top left\n                types[i] = PathIterator.SEG_CUBICTO;\n                curves[i] =\n                        new double[] { 0.0D, acv, 0.0D, 0.0D, 0.0D, 0.0D, 0.0D, acv, 0.0D, 0.0D,\n                                0.0D, 0.5D };\n                i++;\n            }\n            types[i] = PathIterator.SEG_CLOSE;\n            curves[i] = new double[0];\n            i++;\n        }\n\n        public int getWindingRule() {\n            return WIND_NON_ZERO;\n        }\n\n        public boolean isDone() {\n            return this.index &gt;= curves.length;\n        }\n\n        public void next() {\n            ++this.index;\n        }\n\n        public int currentSegment(float[] coords) {\n            if (this.isDone()) {\n                throw new NoSuchElementException(&quot;roundrect iterator out of bounds&quot;);\n            } else {\n                System.out.println(&quot;ModifiedRoundRectIterator segment: &quot; + index);\n                double[] ctrls = curves[this.index];\n                int nc = 0;\n\n                for (int i = 0; i &lt; ctrls.length; i += 4) {\n                    coords[nc++] = (float)(this.x + ctrls[i + 0] * this.w + ctrls[i + 1] * this.aw);\n                    coords[nc++] = (float)(this.y + ctrls[i + 2] * this.h + ctrls[i + 3] * this.ah);\n                }\n\n                if (this.affine != null) {\n                    this.affine.transform(coords, 0, coords, 0, nc / 2);\n                }\n\n                return types[this.index];\n            }\n        }\n\n        public int currentSegment(double[] coords) {\n            if (this.isDone()) {\n                throw new NoSuchElementException(&quot;roundrect iterator out of bounds&quot;);\n            } else {\n                System.out.println(&quot;ModifiedRoundRectIterator segment: &quot; + index);\n                double[] ctrls = curves[this.index];\n                int nc = 0;\n\n                for (int i = 0; i &lt; ctrls.length; i += 4) {\n                    coords[nc++] = this.x + ctrls[i + 0] * this.w + ctrls[i + 1] * this.aw;\n                    coords[nc++] = this.y + ctrls[i + 2] * this.h + ctrls[i + 3] * this.ah;\n                }\n\n                if (this.affine != null) {\n                    this.affine.transform(coords, 0, coords, 0, nc / 2);\n                }\n\n                return types[this.index];\n            }\n        }\n\n        static {\n            c = Math.sqrt(1.0D + b * b) - 1.0D + a;\n            cv = 1.3333333333333333D * a * b / c;\n            acv = (1.0D - cv) / 2.0D;\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user3229635"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2574,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25975853,"answer_count":2,"score":2,"last_activity_date":1656862097,"creation_date":1411393371,"question_id":25975637,"body_markdown":"How can I create a rectangle with only 2 corners with Smooth Roundness on left side in java?\r\n\r\nMeans a rectangle with top-left and bottom-left round and smooth corners with background filled with red color in java?\r\n\r\nI searched SO and googled but could not find 2 corners round with smooth.","title":"2 Smooth Round Corners of Rectangle in java with Red background","body":"<p>How can I create a rectangle with only 2 corners with Smooth Roundness on left side in java?</p>\n\n<p>Means a rectangle with top-left and bottom-left round and smooth corners with background filled with red color in java?</p>\n\n<p>I searched SO and googled but could not find 2 corners round with smooth.</p>\n"},{"tags":["java","android","android-studio","google-maps-android-api-2"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":1,"creation_date":1656874966,"post_id":72847731,"comment_id":128672359,"body_markdown":"Why you added onMapReady callback twice... Use one callback then onMapReady check permission after fetch location..  fetch stations show result on your map.","body":"Why you added onMapReady callback twice... Use one callback then onMapReady check permission after fetch location..  fetch stations show result on your map."},{"owner":{"account_id":22829309,"reputation":339,"user_id":16978074,"display_name":"Elly"},"score":0,"creation_date":1656886476,"post_id":72847731,"comment_id":128674410,"body_markdown":"what is the difference between callback and onMapReady? are they the same?","body":"what is the difference between callback and onMapReady? are they the same?"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":1,"creation_date":1656886836,"post_id":72847731,"comment_id":128674468,"body_markdown":"OnMapReadyCallback()  interface having that method... You implemented on top class itself then why again added in the get station method... You have understand map and flow your business...","body":"OnMapReadyCallback()  interface having that method... You implemented on top class itself then why again added in the get station method... You have understand map and flow your business..."},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":1,"creation_date":1656886962,"post_id":72847731,"comment_id":128674483,"body_markdown":"Currently getStation method you used.. so remove class implements...","body":"Currently getStation method you used.. so remove class implements..."},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":1,"creation_date":1656887903,"post_id":72847731,"comment_id":128674618,"body_markdown":"and don&#39;t call move camera.. when the loop execution won&#39;t work... Set zoom level to the current location that&#39;s better.","body":"and don&#39;t call move camera.. when the loop execution won&#39;t work... Set zoom level to the current location that&#39;s better."}],"owner":{"account_id":22829309,"reputation":339,"user_id":16978074,"display_name":"Elly"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656862012,"creation_date":1656862012,"question_id":72847731,"body_markdown":"good morning everyone i have a problem with a fragment class. Specifically, I want to show the user&#39;s current location and the location of different train stations downloaded from the server.\r\nMy code is:\r\n```\r\npublic class MapsLine extends Fragment implements OnMapReadyCallback {\r\n        private static final int MY_PERMISSION_REQUEST_ACCESS_FINE_LOCATION = 0;\r\n        private FusedLocationProviderClient fusedLocationClient;\r\n        private LocationCallback locationCallback;\r\n        private boolean requestingLocationUpdates = true;\r\n        GoogleMap gMap;\r\n        double latitude;\r\n        double longitude;\r\n        private static final int REQUEST_CODE = 101;\r\n        private String sid_user;\r\n        private int did;\r\n        FusedLocationProviderClient fusedLocationProviderClient;\r\n        Location currentLocation;\r\n\r\n\r\n        @Override\r\n        public View onCreateView(@NonNull @NotNull LayoutInflater inflater, @Nullable @org.jetbrains.annotations.Nullable ViewGroup container, @Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\r\n                View rootView = inflater.inflate(R.layout.fragment_maps_line, container, false);\r\n                getcurrentlocatiom();\r\n                get_stations();\r\n                return rootView;\r\n        }\r\n        public void get_stations(){\r\n                SupportMapFragment mapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map);  //use SuppoprtMapFragment for using in fragment instead of activity  MapFragment = activity   SupportMapFragment = fragment\r\n\r\n\r\n                mapFragment.getMapAsync(new OnMapReadyCallback() {\r\n                        @Override\r\n                        public void onMapReady(GoogleMap mMap) {\r\n                                gMap = mMap;\r\n\r\n                                if(checkLocationPermission()) {\r\n                                        Log.d(&quot;main_activity_spinner&quot;,&quot;ok sta partendp&quot;);\r\n\r\n                                }else {\r\n\r\n                                        PolylineOptions polyline1 = new PolylineOptions();\r\n                                        List&lt;LatLng&gt; routeArray = new ArrayList&lt;LatLng&gt;();\r\n                                        JSONObject requestParam = new JSONObject();\r\n                                        String GET_STATIONS = &quot;https://help.php&quot;;\r\n                                        try {\r\n                                                requestParam.put(&quot;sid&quot;, sid_user);\r\n                                        } catch (JSONException e) {\r\n                                                e.printStackTrace();\r\n                                        }\r\n                                        JsonObjectRequest req = new JsonObjectRequest(\r\n                                                Request.Method.POST,\r\n                                                GET_STATIONS,\r\n                                                requestParam,\r\n                                                new Response.Listener&lt;JSONObject&gt;() {\r\n                                                        @Override\r\n                                                        public void onResponse(JSONObject response) {\r\n                                                                try {\r\n                                                                                String name = stations.getString(&quot;sname&quot;);\r\n                                                                                String lat = stations.getString(&quot;lat&quot;);\r\n                                                                           \r\n                                                                                        .add(new LatLng(Float.parseFloat(lat), Float.parseFloat(lon)));                                                                         polyline1.color(Color.RED);\r\n\r\n                                                                                LatLng latLng = new LatLng(Float.parseFloat(lat), Float.parseFloat(lon));\r\n                                                                                mMap.addMarker(new MarkerOptions().position(latLng).title(&quot;Marker in &quot; + name));\r\n                                                                                mMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\r\n                                                                                LatLng from_Latlng = new LatLng(Float.parseFloat(lat), Float.parseFloat(lon));\r\n                                                                                if (!routeArray.contains(latLng)) {\r\n                                                                                        routeArray.add(latLng);\r\n                                                                                }\r\n                                                                        }\r\n                                                                } catch (Exception e) {\r\n                                                                        e.printStackTrace();\r\n                                                                        return;\r\n                                                                }\r\n\r\n                                                                drawLine(routeArray);\r\n                                                        }\r\n                                                },\r\n                                                new Response.ErrorListener() {\r\n                                                        @Override\r\n                                                        public void onErrorResponse(VolleyError error) {\r\n                                                        }\r\n                                                });\r\n                                        MainActivity.requestQueue.add(req);\r\n\r\n                                }}});\r\n        }\r\n        public void drawLine(List&lt;LatLng&gt; points) {\r\n                if (points == null) {\r\n                        Log.e(&quot;Draw Line&quot;, &quot;got null as parameters&quot;);\r\n                        return;\r\n                }\r\n\r\n                Polyline line = gMap.addPolyline(new PolylineOptions().width(3).color(Color.RED));\r\n                line.setPoints(points);\r\n                LatLngBounds.Builder builder = new LatLngBounds.Builder();\r\n        \r\n        }\r\n\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                Log.d(&quot;MainActivity&quot;, &quot;onCreate&quot;);\r\n                sid_user = settings1.getString(&quot;sid&quot;, &quot;null&quot;);\r\n        }\r\n\r\n\r\n        private void getcurrentlocatiom() {\r\n        fusedLocationClient = LocationServices.getFusedLocationProviderClient(getActivity());\r\n                SupportMapFragment mapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map);  //use SuppoprtMapFragment for using in fragment instead of activity  MapFragment = activity   SupportMapFragment = fragment\r\n                mapFragment.getMapAsync(this);\r\n                locationCallback = new LocationCallback() {\r\n                        @Override\r\n                        public void onLocationResult(LocationResult locationResult) {\r\n                                if (locationResult == null) {\r\n                                        Log.d(&quot;main_activiyt_maps&quot;, &quot;location request is null&quot;);\r\n                                        return;\r\n                                }\r\n                                get_stations();\r\n                                for (Location location : locationResult.getLocations()) {\r\n                                        Log.d(&quot;Location&quot;, &quot;New Location received: &quot; + location.toString());\r\n                                        latitude = location.getLatitude();\r\n                                        longitude=location.getLongitude();\r\n                                        Log.d(&quot;main_activiyt_maps&quot;, String.valueOf(latitude));\r\n                                        Log.d(&quot;main_activiyt_maps&quot;, String.valueOf(longitude));\r\n                                }\r\n\r\n                        }\r\n\r\n\r\n                };\r\n        }\r\n        @Override\r\n        public void onPause() {\r\n                super.onPause();\r\n                //se non voglio ottenere aggiornamenti di posizione in background, mi devo ricordare di sospenderli\r\n                fusedLocationClient.removeLocationUpdates(locationCallback);\r\n                requestingLocationUpdates = false;\r\n        }\r\n        @Override\r\n        public void onResume() {\r\n                super.onResume();\r\n                Log.d(&quot;MainActivity&quot;, &quot;onResume&quot;);\r\n                //controllo i permessi di posizione\r\n                if (checkLocationPermission()) {\r\n                        Log.d(&quot;MainActivity&quot;, &quot;Permessi OK&quot;);\r\n                        //richiedo l&#39;ultima posizione\r\n                        //richiedo aggiornamenti sulla posizione\r\n                        startLocationUpdates();\r\n                        getcurrentlocatiom();\r\n                }\r\n        }\r\n        public boolean checkLocationPermission() {\r\n                if (ContextCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                        //ho i permessi, scrivo nella casella di testo che va tutto bene\r\n                        Log.d(&quot;main_activiyt_maps&quot;, &quot;The permission is granted&quot;);\r\n                        return true;\r\n                } else {\r\n                        //non ho i permessi, devo richiederli\r\n                        Log.d(&quot;main_activiyt_maps&quot;, &quot;Ask for permission&quot;);\r\n\r\n                        ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, MY_PERMISSION_REQUEST_ACCESS_FINE_LOCATION);\r\n                        return false;\r\n                }\r\n        }\r\n\r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n                switch (requestCode) {\r\n                        case MY_PERMISSION_REQUEST_ACCESS_FINE_LOCATION: {\r\n                                // If request is cancelled, the result arrays are empty.\r\n                                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                                        // permission was granted\r\n                                        Log.d(&quot;main_activiyt_maps&quot;, &quot;Now the permission is granted&quot;);\r\n                                        fusedLocationClient = LocationServices.getFusedLocationProviderClient(getActivity());\r\n                                        getcurrentlocatiom();\r\n                                        startLocationUpdates();\r\n                                } else {\r\n                                        // permission was not granted\r\n                                        Log.d(&quot;main_activiyt_maps&quot;, &quot;Permission still not granted&quot;);\r\n                                }\r\n                                break;\r\n                        }\r\n        }\r\n}\r\n        private void startLocationUpdates() {\r\n                if (checkLocationPermission()) {\r\n\r\n                        //inizio a chiedere gli aggiornamenti di posizione\r\n                        requestingLocationUpdates = true;\r\n                        LocationRequest locationRequest = LocationRequest.create();\r\n                        locationRequest.setInterval(1000); //in ms.\r\n                        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n                        fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, Looper.getMainLooper());\r\n\r\n                }\r\n        }\r\n\r\n        @SuppressLint(&quot;MissingPermission&quot;)\r\n        @Override\r\n        public void onMapReady(@NonNull GoogleMap googleMap) {\r\n                gMap = googleMap;\r\n                if(checkLocationPermission()){\r\n                gMap.setMyLocationEnabled(true);\r\n                // Add a marker in Sydney and move the camera\r\n                LatLng sydney = new LatLng(latitude,longitude);\r\n                gMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\r\n                gMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\r\n                gMap.clear(); //clear old markers\r\n        }}\r\n}\r\n\r\n```\r\nBasically after the user gives the permissions, my application shows the current position of the user, but does not show the positions of the railway stations downloaded from the server (get_stations ()). So I want a map showing the current location of the user and the train stations downloaded from the server ((get_stations ()). Can I show in the map the current location of the user and the train stations downloaded from the server? And what can I do?\r\n","title":"show a map with the current location of the user and the stations downloaded from the server","body":"<p>good morning everyone i have a problem with a fragment class. Specifically, I want to show the user's current location and the location of different train stations downloaded from the server.\nMy code is:</p>\n<pre><code>public class MapsLine extends Fragment implements OnMapReadyCallback {\n        private static final int MY_PERMISSION_REQUEST_ACCESS_FINE_LOCATION = 0;\n        private FusedLocationProviderClient fusedLocationClient;\n        private LocationCallback locationCallback;\n        private boolean requestingLocationUpdates = true;\n        GoogleMap gMap;\n        double latitude;\n        double longitude;\n        private static final int REQUEST_CODE = 101;\n        private String sid_user;\n        private int did;\n        FusedLocationProviderClient fusedLocationProviderClient;\n        Location currentLocation;\n\n\n        @Override\n        public View onCreateView(@NonNull @NotNull LayoutInflater inflater, @Nullable @org.jetbrains.annotations.Nullable ViewGroup container, @Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\n                View rootView = inflater.inflate(R.layout.fragment_maps_line, container, false);\n                getcurrentlocatiom();\n                get_stations();\n                return rootView;\n        }\n        public void get_stations(){\n                SupportMapFragment mapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map);  //use SuppoprtMapFragment for using in fragment instead of activity  MapFragment = activity   SupportMapFragment = fragment\n\n\n                mapFragment.getMapAsync(new OnMapReadyCallback() {\n                        @Override\n                        public void onMapReady(GoogleMap mMap) {\n                                gMap = mMap;\n\n                                if(checkLocationPermission()) {\n                                        Log.d(&quot;main_activity_spinner&quot;,&quot;ok sta partendp&quot;);\n\n                                }else {\n\n                                        PolylineOptions polyline1 = new PolylineOptions();\n                                        List&lt;LatLng&gt; routeArray = new ArrayList&lt;LatLng&gt;();\n                                        JSONObject requestParam = new JSONObject();\n                                        String GET_STATIONS = &quot;https://help.php&quot;;\n                                        try {\n                                                requestParam.put(&quot;sid&quot;, sid_user);\n                                        } catch (JSONException e) {\n                                                e.printStackTrace();\n                                        }\n                                        JsonObjectRequest req = new JsonObjectRequest(\n                                                Request.Method.POST,\n                                                GET_STATIONS,\n                                                requestParam,\n                                                new Response.Listener&lt;JSONObject&gt;() {\n                                                        @Override\n                                                        public void onResponse(JSONObject response) {\n                                                                try {\n                                                                                String name = stations.getString(&quot;sname&quot;);\n                                                                                String lat = stations.getString(&quot;lat&quot;);\n                                                                           \n                                                                                        .add(new LatLng(Float.parseFloat(lat), Float.parseFloat(lon)));                                                                         polyline1.color(Color.RED);\n\n                                                                                LatLng latLng = new LatLng(Float.parseFloat(lat), Float.parseFloat(lon));\n                                                                                mMap.addMarker(new MarkerOptions().position(latLng).title(&quot;Marker in &quot; + name));\n                                                                                mMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\n                                                                                LatLng from_Latlng = new LatLng(Float.parseFloat(lat), Float.parseFloat(lon));\n                                                                                if (!routeArray.contains(latLng)) {\n                                                                                        routeArray.add(latLng);\n                                                                                }\n                                                                        }\n                                                                } catch (Exception e) {\n                                                                        e.printStackTrace();\n                                                                        return;\n                                                                }\n\n                                                                drawLine(routeArray);\n                                                        }\n                                                },\n                                                new Response.ErrorListener() {\n                                                        @Override\n                                                        public void onErrorResponse(VolleyError error) {\n                                                        }\n                                                });\n                                        MainActivity.requestQueue.add(req);\n\n                                }}});\n        }\n        public void drawLine(List&lt;LatLng&gt; points) {\n                if (points == null) {\n                        Log.e(&quot;Draw Line&quot;, &quot;got null as parameters&quot;);\n                        return;\n                }\n\n                Polyline line = gMap.addPolyline(new PolylineOptions().width(3).color(Color.RED));\n                line.setPoints(points);\n                LatLngBounds.Builder builder = new LatLngBounds.Builder();\n        \n        }\n\n        @Override\n        public void onCreate(Bundle savedInstanceState) {\n                super.onCreate(savedInstanceState);\n                Log.d(&quot;MainActivity&quot;, &quot;onCreate&quot;);\n                sid_user = settings1.getString(&quot;sid&quot;, &quot;null&quot;);\n        }\n\n\n        private void getcurrentlocatiom() {\n        fusedLocationClient = LocationServices.getFusedLocationProviderClient(getActivity());\n                SupportMapFragment mapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map);  //use SuppoprtMapFragment for using in fragment instead of activity  MapFragment = activity   SupportMapFragment = fragment\n                mapFragment.getMapAsync(this);\n                locationCallback = new LocationCallback() {\n                        @Override\n                        public void onLocationResult(LocationResult locationResult) {\n                                if (locationResult == null) {\n                                        Log.d(&quot;main_activiyt_maps&quot;, &quot;location request is null&quot;);\n                                        return;\n                                }\n                                get_stations();\n                                for (Location location : locationResult.getLocations()) {\n                                        Log.d(&quot;Location&quot;, &quot;New Location received: &quot; + location.toString());\n                                        latitude = location.getLatitude();\n                                        longitude=location.getLongitude();\n                                        Log.d(&quot;main_activiyt_maps&quot;, String.valueOf(latitude));\n                                        Log.d(&quot;main_activiyt_maps&quot;, String.valueOf(longitude));\n                                }\n\n                        }\n\n\n                };\n        }\n        @Override\n        public void onPause() {\n                super.onPause();\n                //se non voglio ottenere aggiornamenti di posizione in background, mi devo ricordare di sospenderli\n                fusedLocationClient.removeLocationUpdates(locationCallback);\n                requestingLocationUpdates = false;\n        }\n        @Override\n        public void onResume() {\n                super.onResume();\n                Log.d(&quot;MainActivity&quot;, &quot;onResume&quot;);\n                //controllo i permessi di posizione\n                if (checkLocationPermission()) {\n                        Log.d(&quot;MainActivity&quot;, &quot;Permessi OK&quot;);\n                        //richiedo l'ultima posizione\n                        //richiedo aggiornamenti sulla posizione\n                        startLocationUpdates();\n                        getcurrentlocatiom();\n                }\n        }\n        public boolean checkLocationPermission() {\n                if (ContextCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                        //ho i permessi, scrivo nella casella di testo che va tutto bene\n                        Log.d(&quot;main_activiyt_maps&quot;, &quot;The permission is granted&quot;);\n                        return true;\n                } else {\n                        //non ho i permessi, devo richiederli\n                        Log.d(&quot;main_activiyt_maps&quot;, &quot;Ask for permission&quot;);\n\n                        ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, MY_PERMISSION_REQUEST_ACCESS_FINE_LOCATION);\n                        return false;\n                }\n        }\n\n        @Override\n        public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n                switch (requestCode) {\n                        case MY_PERMISSION_REQUEST_ACCESS_FINE_LOCATION: {\n                                // If request is cancelled, the result arrays are empty.\n                                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                                        // permission was granted\n                                        Log.d(&quot;main_activiyt_maps&quot;, &quot;Now the permission is granted&quot;);\n                                        fusedLocationClient = LocationServices.getFusedLocationProviderClient(getActivity());\n                                        getcurrentlocatiom();\n                                        startLocationUpdates();\n                                } else {\n                                        // permission was not granted\n                                        Log.d(&quot;main_activiyt_maps&quot;, &quot;Permission still not granted&quot;);\n                                }\n                                break;\n                        }\n        }\n}\n        private void startLocationUpdates() {\n                if (checkLocationPermission()) {\n\n                        //inizio a chiedere gli aggiornamenti di posizione\n                        requestingLocationUpdates = true;\n                        LocationRequest locationRequest = LocationRequest.create();\n                        locationRequest.setInterval(1000); //in ms.\n                        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n                        fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, Looper.getMainLooper());\n\n                }\n        }\n\n        @SuppressLint(&quot;MissingPermission&quot;)\n        @Override\n        public void onMapReady(@NonNull GoogleMap googleMap) {\n                gMap = googleMap;\n                if(checkLocationPermission()){\n                gMap.setMyLocationEnabled(true);\n                // Add a marker in Sydney and move the camera\n                LatLng sydney = new LatLng(latitude,longitude);\n                gMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\n                gMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\n                gMap.clear(); //clear old markers\n        }}\n}\n\n</code></pre>\n<p>Basically after the user gives the permissions, my application shows the current position of the user, but does not show the positions of the railway stations downloaded from the server (get_stations ()). So I want a map showing the current location of the user and the train stations downloaded from the server ((get_stations ()). Can I show in the map the current location of the user and the train stations downloaded from the server? And what can I do?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":368,"reputation":44335,"user_id":459,"accept_rate":81,"display_name":"dlamblin"},"score":2,"creation_date":1452538971,"post_id":34729016,"comment_id":57204192,"body_markdown":"Where did you import `TimeUtil` from? It&#39;s not in https://docs.oracle.com/javase/8/docs/api/allclasses-noframe.html","body":"Where did you import <code>TimeUtil</code> from? It&#39;s not in <a href=\"https://docs.oracle.com/javase/8/docs/api/allclasses-noframe.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/allclasses-noframe.html</a>"},{"owner":{"display_name":"user4668606"},"score":0,"creation_date":1452539004,"post_id":34729016,"comment_id":57204211,"body_markdown":"Please specify from what library you got `TimeUtil` from.","body":"Please specify from what library you got <code>TimeUtil</code> from."},{"owner":{"account_id":3342130,"reputation":2812,"user_id":2808178,"accept_rate":85,"display_name":"HMdeveloper"},"score":0,"creation_date":1452539152,"post_id":34729016,"comment_id":57204293,"body_markdown":"OOPPPPS sorry yes you are right I am working on a system which is totally new to me, apparently they have their own custom time util","body":"OOPPPPS sorry yes you are right I am working on a system which is totally new to me, apparently they have their own custom time util"},{"owner":{"account_id":368,"reputation":44335,"user_id":459,"accept_rate":81,"display_name":"dlamblin"},"score":0,"creation_date":1452539398,"post_id":34729016,"comment_id":57204445,"body_markdown":"So it&#39;s not https://github.com/google/protobuf/blob/master/java/util/src/main/java/com/google/protobuf/util/TimeUtil.java?","body":"So it&#39;s not <a href=\"https://github.com/google/protobuf/blob/master/java/util/src/main/java/com/google/protobuf/util/TimeUtil.java\" rel=\"nofollow noreferrer\">github.com/google/protobuf/blob/master/java/util/src/main/ja&zwnj;&#8203;va/&hellip;</a>?"}],"answers":[{"tags":[],"owner":{"account_id":368,"reputation":44335,"user_id":459,"accept_rate":81,"display_name":"dlamblin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656861969,"creation_date":1452539585,"answer_id":34729239,"question_id":34729016,"body_markdown":"**If** you are using protocol buffers&#39; [`TimeUtil`][1] you specify a duration with seconds separated from nanoseconds by a period. The value may be lead by a minus sign, if the duration is negative (so that adding the duration to a time would move into the past relative to the time). The string must end in &quot;s&quot;.\r\n\r\nYou can see the pretty simple [parse][1] and [toString][2] of a protocol buffer&#39;s duration in the public git[hub] repo&#39;s [`TimeUtil`][3].\r\n\r\nGiven the type of duration, I&#39;m guessing they&#39;re used for calculations on  date-times that are internally represented as signed 64 bit nano seconds since unix epoch.\r\n\r\nIn other words it looks like these are valid durations:\r\n\r\n    &quot;1s&quot;      // one second forward\r\n    &quot;1.0s&quot;    // one second forward\r\n    &quot;1.01s&quot;   // one second, 10,000,000 nano seconds forward\r\n    &quot;-1.01s&quot;  // one second, 10,000,000 nano seconds backward\r\n    &quot;60s&quot;     // one minute forward\r\n    &quot;-86400s&quot; // yesterday (one day backward)\r\n              // [assuming no daylight saving changes or leap seconds happened]\r\n\r\nThe Protocol Buffers&#39; `TimeUtil.parseDuration` would not give you the error message you say you got, and is not at all like `Duration.parse`, which is [more clearly documented][4] and might give that kind of error message.\r\n\r\n\r\n  [1]: https://github.com/google/protobuf/blob/master/java/util/src/main/java/com/google/protobuf/util/TimeUtil.java#L226\r\n  [2]: https://github.com/google/protobuf/blob/e841bac4fcf47f809e089a70d5f84ac37b3883df/java/util/src/main/java/com/google/protobuf/util/TimeUtil.java#L192\r\n  [3]: https://github.com/google/protobuf/blob/master/java/util/src/main/java/com/google/protobuf/util/TimeUtil.java\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-","title":"Text cannot be parsed to a Duration in java8","body":"<p><strong>If</strong> you are using protocol buffers' <a href=\"https://github.com/google/protobuf/blob/master/java/util/src/main/java/com/google/protobuf/util/TimeUtil.java#L226\" rel=\"nofollow noreferrer\"><code>TimeUtil</code></a> you specify a duration with seconds separated from nanoseconds by a period. The value may be lead by a minus sign, if the duration is negative (so that adding the duration to a time would move into the past relative to the time). The string must end in &quot;s&quot;.</p>\n<p>You can see the pretty simple <a href=\"https://github.com/google/protobuf/blob/master/java/util/src/main/java/com/google/protobuf/util/TimeUtil.java#L226\" rel=\"nofollow noreferrer\">parse</a> and <a href=\"https://github.com/google/protobuf/blob/e841bac4fcf47f809e089a70d5f84ac37b3883df/java/util/src/main/java/com/google/protobuf/util/TimeUtil.java#L192\" rel=\"nofollow noreferrer\">toString</a> of a protocol buffer's duration in the public git[hub] repo's <a href=\"https://github.com/google/protobuf/blob/master/java/util/src/main/java/com/google/protobuf/util/TimeUtil.java\" rel=\"nofollow noreferrer\"><code>TimeUtil</code></a>.</p>\n<p>Given the type of duration, I'm guessing they're used for calculations on  date-times that are internally represented as signed 64 bit nano seconds since unix epoch.</p>\n<p>In other words it looks like these are valid durations:</p>\n<pre><code>&quot;1s&quot;      // one second forward\n&quot;1.0s&quot;    // one second forward\n&quot;1.01s&quot;   // one second, 10,000,000 nano seconds forward\n&quot;-1.01s&quot;  // one second, 10,000,000 nano seconds backward\n&quot;60s&quot;     // one minute forward\n&quot;-86400s&quot; // yesterday (one day backward)\n          // [assuming no daylight saving changes or leap seconds happened]\n</code></pre>\n<p>The Protocol Buffers' <code>TimeUtil.parseDuration</code> would not give you the error message you say you got, and is not at all like <code>Duration.parse</code>, which is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">more clearly documented</a> and might give that kind of error message.</p>\n"},{"tags":[],"owner":{"account_id":5435374,"reputation":4472,"user_id":4325010,"accept_rate":95,"display_name":"Dimitar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452539843,"creation_date":1452539843,"answer_id":34729309,"question_id":34729016,"body_markdown":"**If guessed API:**\n\n  `parseDuration(String duration)` takes as parameters:\n\n&gt;    duration - &quot;3h&quot; or &quot;2mn&quot; or &quot;7s&quot; or null. \n\nTaken from `java.lang.Object ninja.utils.TimeUtil` API. It returns the number of seconds.\n\nThen `&quot;1.0:00:00&quot;` is obviously not to be parsed. ","title":"Text cannot be parsed to a Duration in java8","body":"<p><strong>If guessed API:</strong></p>\n<p><code>parseDuration(String duration)</code> takes as parameters:</p>\n<blockquote>\n<p>duration - &quot;3h&quot; or &quot;2mn&quot; or &quot;7s&quot; or null.</p>\n</blockquote>\n<p>Taken from <code>java.lang.Object ninja.utils.TimeUtil</code> API. It returns the number of seconds.</p>\n<p>Then <code>&quot;1.0:00:00&quot;</code> is obviously not to be parsed.</p>\n"}],"owner":{"account_id":3342130,"reputation":2812,"user_id":2808178,"accept_rate":85,"display_name":"HMdeveloper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34729239,"answer_count":2,"score":1,"last_activity_date":1656861969,"creation_date":1452538772,"question_id":34729016,"body_markdown":"I am trying to parse a text to duration as follow:\r\n\r\n      final Duration duration = TimeUtil.parseDuration(&quot;1.0:00:00&quot;);\r\n\r\nBut I get the following error,\r\n\r\n    Text cannot be parsed to a Duration\r\n\r\n so can anyone tells me where my problem is?","title":"Text cannot be parsed to a Duration in java8","body":"<p>I am trying to parse a text to duration as follow:</p>\n\n<pre><code>  final Duration duration = TimeUtil.parseDuration(\"1.0:00:00\");\n</code></pre>\n\n<p>But I get the following error,</p>\n\n<pre><code>Text cannot be parsed to a Duration\n</code></pre>\n\n<p>so can anyone tells me where my problem is?</p>\n"},{"tags":["java","jackson-dataformat-csv"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656860712,"creation_date":1656860407,"answer_id":72847526,"question_id":72844595,"body_markdown":"According to my reading of the code in the `CSVDecoder` class ([link][1]), the Jackson CSV parser in version 2.14 will correctly parse double-quoted strings that have embedded line-breaks.   Look for the `_nextQuotedString` method.  No attribute needs to be set to enable this.  It happens unconditionally.\r\n\r\nIndeed, it looks like the relevant lines of the code have not changed in at least 5 years.\r\n\r\nSo ... if the CSV parser is not working for you (without that `Feature`), my diagnosis is:\r\n\r\n  - either you are using a really old version of Jackson,\r\n  - or the apparently incomplete values you are seeing are injected somewhere / somehow *after* CSV parsing.\r\n\r\nIf this doesn&#39;t solve your problem, please add a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) to the Question, and tell us the version(s) of the Jackson dependencies you are using.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-dataformats-text/blob/2.14/csv/src/main/java/com/fasterxml/jackson/dataformat/csv/impl/CsvDecoder.java","title":"Parsing double quote with new line from CSV using jackson-dataformat-csv","body":"<p>According to my reading of the code in the <code>CSVDecoder</code> class (<a href=\"https://github.com/FasterXML/jackson-dataformats-text/blob/2.14/csv/src/main/java/com/fasterxml/jackson/dataformat/csv/impl/CsvDecoder.java\" rel=\"nofollow noreferrer\">link</a>), the Jackson CSV parser in version 2.14 will correctly parse double-quoted strings that have embedded line-breaks.   Look for the <code>_nextQuotedString</code> method.  No attribute needs to be set to enable this.  It happens unconditionally.</p>\n<p>Indeed, it looks like the relevant lines of the code have not changed in at least 5 years.</p>\n<p>So ... if the CSV parser is not working for you (without that <code>Feature</code>), my diagnosis is:</p>\n<ul>\n<li>either you are using a really old version of Jackson,</li>\n<li>or the apparently incomplete values you are seeing are injected somewhere / somehow <em>after</em> CSV parsing.</li>\n</ul>\n<p>If this doesn't solve your problem, please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to the Question, and tell us the version(s) of the Jackson dependencies you are using.</p>\n"}],"owner":{"account_id":4851105,"reputation":2446,"user_id":3913366,"accept_rate":79,"display_name":"Shubham A."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656860712,"creation_date":1656832550,"question_id":72844595,"body_markdown":"I have the following CSV format:\r\n\r\n```csv\r\nid,name,description,age\r\n23,Anna,&quot;Self-made\r\nChef\r\nShoemaker&quot;,23\r\n```\r\nThe double-quotes are only present if the attribute is multi-line. While I am already been able to read the normal CSV correctly:\r\n```java\r\n@Bean\r\npublic CsvMapper csvMapper() {\r\n    CsvMapper csvMapper = new CsvMapper();\r\n    csvMapper.registerModule(new JavaTimeModule());\r\n    csvMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n    return csvMapper;\r\n}\r\n```\r\nI tried adding a new feature:\r\n```java\r\ncsvMapper.configure(Feature.FAIL_ON_MISSING_COLUMNS, true);\r\n```\r\nBut it makes the library skip failed rows. How do I parse the given format and get the whole `Self-made\\n Chef\\n Shoemaker` into the description attribute?","title":"Parsing double quote with new line from CSV using jackson-dataformat-csv","body":"<p>I have the following CSV format:</p>\n<pre><code>id,name,description,age\n23,Anna,&quot;Self-made\nChef\nShoemaker&quot;,23\n</code></pre>\n<p>The double-quotes are only present if the attribute is multi-line. While I am already been able to read the normal CSV correctly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic CsvMapper csvMapper() {\n    CsvMapper csvMapper = new CsvMapper();\n    csvMapper.registerModule(new JavaTimeModule());\n    csvMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n    return csvMapper;\n}\n</code></pre>\n<p>I tried adding a new feature:</p>\n<pre class=\"lang-java prettyprint-override\"><code>csvMapper.configure(Feature.FAIL_ON_MISSING_COLUMNS, true);\n</code></pre>\n<p>But it makes the library skip failed rows. How do I parse the given format and get the whole <code>Self-made\\n Chef\\n Shoemaker</code> into the description attribute?</p>\n"},{"tags":["java","android","android-fragments","android-viewpager","android-mvvm"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":2,"creation_date":1656861475,"post_id":72847514,"comment_id":128669562,"body_markdown":"If you are using the same `ViewModel` in all 3 of your fragments &amp; they are attached to the same activity, consider using an Activity scoped ViewModel &amp; use those in all your fragments. All the fragments will get the same data. You can also return a `LiveData` via your `Dao` for observing data changes in the database.","body":"If you are using the same <code>ViewModel</code> in all 3 of your fragments &amp; they are attached to the same activity, consider using an Activity scoped ViewModel &amp; use those in all your fragments. All the fragments will get the same data. You can also return a <code>LiveData</code> via your <code>Dao</code> for observing data changes in the database."},{"owner":{"account_id":16434767,"reputation":167,"user_id":11872622,"display_name":"HoLoGram"},"score":0,"creation_date":1656861812,"post_id":72847514,"comment_id":128669637,"body_markdown":"That is a great idea to use 1 viewmodel for all the 3 tabs,I haven&#39;t thought about it,unfortunately, its too late because I am deep into the project .. But I will do that the next time for sure,Thanks !","body":"That is a great idea to use 1 viewmodel for all the 3 tabs,I haven&#39;t thought about it,unfortunately, its too late because I am deep into the project .. But I will do that the next time for sure,Thanks !"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1656861973,"post_id":72847514,"comment_id":128669674,"body_markdown":"No worries, but I do not think this would take much of a change. It would simply be replacing the `by viewModels()` with `by activityViewModels()` unless it&#39;s not that straightforward case with your implementation.","body":"No worries, but I do not think this would take much of a change. It would simply be replacing the <code>by viewModels()</code> with <code>by activityViewModels()</code> unless it&#39;s not that straightforward case with your implementation."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":3,"creation_date":1656862490,"post_id":72847514,"comment_id":128669795,"body_markdown":"Best time to improve the app architecture is when you create it. Second best time is now :). This definitely sounds like a case for an activity ViewModel, and you will save yourself headaches in the long-run by converting it to use a more appropriate architecture instead of some other hackier solution. You can have *both* fragment ViewModels and an Activity ViewModel too.","body":"Best time to improve the app architecture is when you create it. Second best time is now :). This definitely sounds like a case for an activity ViewModel, and you will save yourself headaches in the long-run by converting it to use a more appropriate architecture instead of some other hackier solution. You can have <i>both</i> fragment ViewModels and an Activity ViewModel too."},{"owner":{"account_id":16434767,"reputation":167,"user_id":11872622,"display_name":"HoLoGram"},"score":0,"creation_date":1656863018,"post_id":72847514,"comment_id":128669902,"body_markdown":"@TylerV Thank you Tyler! I Agree. I am using viewmodel for each fragment(3) and 1 more for the activity. What are you suggesting doing? Thank you","body":"@TylerV Thank you Tyler! I Agree. I am using viewmodel for each fragment(3) and 1 more for the activity. What are you suggesting doing? Thank you"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1656863630,"post_id":72847514,"comment_id":128670026,"body_markdown":"Use the Activity ViewModel for things that need to be consistent/notified of change across all three Fragments. Put some relevant LiveData for that state and have the fragments observe that.","body":"Use the Activity ViewModel for things that need to be consistent/notified of change across all three Fragments. Put some relevant LiveData for that state and have the fragments observe that."},{"owner":{"account_id":16434767,"reputation":167,"user_id":11872622,"display_name":"HoLoGram"},"score":0,"creation_date":1656863788,"post_id":72847514,"comment_id":128670059,"body_markdown":"Thank you very much guys ! I give it a shot :)","body":"Thank you very much guys ! I give it a shot :)"}],"owner":{"account_id":16434767,"reputation":167,"user_id":11872622,"display_name":"HoLoGram"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656860287,"creation_date":1656860287,"question_id":72847514,"body_markdown":"I am building TODO list app using MVVM architecture. \r\nI have view pager with 3 tabs: Daily, Weekly, and Monthly.\r\n\r\nWhen I edit a task from daily tab and save it to the database,I can see the updated task in the daily tab and it&#39;s working perfectly.\r\n\r\nThe problem is when I move to the Weekly and Monthly tabs ,where the task is not updated.\r\nI need to refresh the calendar when there is a change in the tasks of the same day.\r\nI am using Collapsible Calendar library ( https://github.com/shrikanth7698/Collapsible-Calendar-View-Android ) \r\n\r\n- I thought about using interface that whenever a task is updated I can update all the other fragments.\r\n\r\n- I also saw some people suggest making a method in MainActivity and call it from any fragment I need but I don&#39;t know if its a good practice.\r\n\r\n\r\nWhat do you think is the best approach to this problem? Thank you !","title":"Update all other tabs in ViewPager","body":"<p>I am building TODO list app using MVVM architecture.\nI have view pager with 3 tabs: Daily, Weekly, and Monthly.</p>\n<p>When I edit a task from daily tab and save it to the database,I can see the updated task in the daily tab and it's working perfectly.</p>\n<p>The problem is when I move to the Weekly and Monthly tabs ,where the task is not updated.\nI need to refresh the calendar when there is a change in the tasks of the same day.\nI am using Collapsible Calendar library ( <a href=\"https://github.com/shrikanth7698/Collapsible-Calendar-View-Android\" rel=\"nofollow noreferrer\">https://github.com/shrikanth7698/Collapsible-Calendar-View-Android</a> )</p>\n<ul>\n<li><p>I thought about using interface that whenever a task is updated I can update all the other fragments.</p>\n</li>\n<li><p>I also saw some people suggest making a method in MainActivity and call it from any fragment I need but I don't know if its a good practice.</p>\n</li>\n</ul>\n<p>What do you think is the best approach to this problem? Thank you !</p>\n"},{"tags":["java","date","calendar"],"comments":[{"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"score":0,"creation_date":1247410119,"post_id":1116123,"comment_id":932121,"body_markdown":"Changed my mind about that: the other question only has an approximation of years between dates, not a truly correct age.","body":"Changed my mind about that: the other question only has an approximation of years between dates, not a truly correct age."},{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1247410931,"post_id":1116123,"comment_id":932153,"body_markdown":"Given that he&#39;s returning an int, can you clarify what you mean by a &#39;correct&#39; age ?","body":"Given that he&#39;s returning an int, can you clarify what you mean by a &#39;correct&#39; age ?"},{"owner":{"account_id":84539,"reputation":9538,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"score":2,"creation_date":1341353693,"post_id":1116123,"comment_id":14900210,"body_markdown":"Date vs Calendar is a fundamental concept that can be gleaned from reading the Java documentation.  I cannot understand why this would be upvoted so much.","body":"Date vs Calendar is a fundamental concept that can be gleaned from reading the Java documentation.  I cannot understand why this would be upvoted so much."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1519856497,"post_id":1116123,"comment_id":85084500,"body_markdown":"@demongolem ??? Date &amp; Calendar are easily understood?! No, not at all. There are a zillion Questions on the subject here on Stack Overflow. The Joda-Time project produced one of the most popular libraries, to substitute for those troublesome date-time classes. Later, Sun, Oracle, and the JCP community accepted [JSR 310](https://jcp.org/en/jsr/detail?id=310) (*java.time*), admitting that the legacy classes were hopelessly inadequate. For more info, see [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"@demongolem ??? Date &amp; Calendar are easily understood?! No, not at all. There are a zillion Questions on the subject here on Stack Overflow. The Joda-Time project produced one of the most popular libraries, to substitute for those troublesome date-time classes. Later, Sun, Oracle, and the JCP community accepted <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a> (<i>java.time</i>), admitting that the legacy classes were hopelessly inadequate. For more info, see <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":1,"up_vote_count":201,"is_accepted":true,"score":200,"last_activity_date":1468335068,"creation_date":1247409632,"answer_id":1116138,"question_id":1116123,"body_markdown":"JDK 8 makes this easy and elegant:\r\n\r\n    public class AgeCalculator {\r\n    \r\n        public static int calculateAge(LocalDate birthDate, LocalDate currentDate) {\r\n            if ((birthDate != null) &amp;&amp; (currentDate != null)) {\r\n                return Period.between(birthDate, currentDate).getYears();\r\n            } else {\r\n                return 0;\r\n            }\r\n        }\r\n    }\r\n\r\nA JUnit test to demonstrate its use: \r\n\r\n    public class AgeCalculatorTest {\r\n    \r\n        @Test\r\n        public void testCalculateAge_Success() {\r\n            // setup\r\n            LocalDate birthDate = LocalDate.of(1961, 5, 17);\r\n            // exercise\r\n            int actual = AgeCalculator.calculateAge(birthDate, LocalDate.of(2016, 7, 12));\r\n            // assert\r\n            Assert.assertEquals(55, actual);\r\n        }\r\n    }\r\n\r\nEveryone should be using JDK 8 by now. All earlier versions have passed the end of their support lives.\r\n","title":"How do I calculate someone&#39;s age in Java?","body":"<p>JDK 8 makes this easy and elegant:</p>\n\n<pre><code>public class AgeCalculator {\n\n    public static int calculateAge(LocalDate birthDate, LocalDate currentDate) {\n        if ((birthDate != null) &amp;&amp; (currentDate != null)) {\n            return Period.between(birthDate, currentDate).getYears();\n        } else {\n            return 0;\n        }\n    }\n}\n</code></pre>\n\n<p>A JUnit test to demonstrate its use: </p>\n\n<pre><code>public class AgeCalculatorTest {\n\n    @Test\n    public void testCalculateAge_Success() {\n        // setup\n        LocalDate birthDate = LocalDate.of(1961, 5, 17);\n        // exercise\n        int actual = AgeCalculator.calculateAge(birthDate, LocalDate.of(2016, 7, 12));\n        // assert\n        Assert.assertEquals(55, actual);\n    }\n}\n</code></pre>\n\n<p>Everyone should be using JDK 8 by now. All earlier versions have passed the end of their support lives.</p>\n"},{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1247412446,"creation_date":1247410056,"answer_id":1116151,"question_id":1116123,"body_markdown":"    Calendar now = Calendar.getInstance();\r\n    Calendar dob = Calendar.getInstance();\r\n    dob.setTime(...);\r\n    if (dob.after(now)) {\r\n      throw new IllegalArgumentException(&quot;Can&#39;t be born in the future&quot;);\r\n    }\r\n    int year1 = now.get(Calendar.YEAR);\r\n    int year2 = dob.get(Calendar.YEAR);\r\n    int age = year1 - year2;\r\n    int month1 = now.get(Calendar.MONTH);\r\n    int month2 = dob.get(Calendar.MONTH);\r\n    if (month2 &gt; month1) {\r\n      age--;\r\n    } else if (month1 == month2) {\r\n      int day1 = now.get(Calendar.DAY_OF_MONTH);\r\n      int day2 = dob.get(Calendar.DAY_OF_MONTH);\r\n      if (day2 &gt; day1) {\r\n        age--;\r\n      }\r\n    }\r\n    // age is now correct\r\n\r\n","title":"How do I calculate someone&#39;s age in Java?","body":"<pre><code>Calendar now = Calendar.getInstance();\nCalendar dob = Calendar.getInstance();\ndob.setTime(...);\nif (dob.after(now)) {\n  throw new IllegalArgumentException(\"Can't be born in the future\");\n}\nint year1 = now.get(Calendar.YEAR);\nint year2 = dob.get(Calendar.YEAR);\nint age = year1 - year2;\nint month1 = now.get(Calendar.MONTH);\nint month2 = dob.get(Calendar.MONTH);\nif (month2 &gt; month1) {\n  age--;\n} else if (month1 == month2) {\n  int day1 = now.get(Calendar.DAY_OF_MONTH);\n  int day2 = dob.get(Calendar.DAY_OF_MONTH);\n  if (day2 &gt; day1) {\n    age--;\n  }\n}\n// age is now correct\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":4,"up_vote_count":181,"is_accepted":false,"score":177,"last_activity_date":1656860249,"creation_date":1247413438,"answer_id":1116273,"question_id":1116123,"body_markdown":"Check out [Joda][1], which simplifies date/time calculations (Joda is also the basis of the new standard Java date/time apis, so you&#39;ll be learning a soon-to-be-standard API). \r\n\r\n\r\ne.g. \r\n\r\n    LocalDate birthdate = new LocalDate (1970, 1, 20);\r\n    LocalDate now = new LocalDate();\r\n    Years age = Years.yearsBetween(birthdate, now);\r\n\r\nwhich is as simple as you could want. The pre-Java 8 stuff is (as you&#39;ve identified) somewhat unintuitive.\r\n\r\nEDIT: Java 8 has [something very similar][2] and is worth checking out.\r\n\r\nEDIT: This answer pre-dates the Java 8 date/time classes and is not current any more.\r\n\r\n  [1]: http://joda-time.sourceforge.net/\r\n  [2]: http://docs.oracle.com/javase/tutorial/datetime/","title":"How do I calculate someone&#39;s age in Java?","body":"<p>Check out <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">Joda</a>, which simplifies date/time calculations (Joda is also the basis of the new standard Java date/time apis, so you'll be learning a soon-to-be-standard API).</p>\n<p>e.g.</p>\n<pre><code>LocalDate birthdate = new LocalDate (1970, 1, 20);\nLocalDate now = new LocalDate();\nYears age = Years.yearsBetween(birthdate, now);\n</code></pre>\n<p>which is as simple as you could want. The pre-Java 8 stuff is (as you've identified) somewhat unintuitive.</p>\n<p>EDIT: Java 8 has <a href=\"http://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">something very similar</a> and is worth checking out.</p>\n<p>EDIT: This answer pre-dates the Java 8 date/time classes and is not current any more.</p>\n"},{"tags":[],"owner":{"account_id":52561,"reputation":1633,"user_id":157080,"accept_rate":71,"display_name":"John"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1297565620,"creation_date":1297565620,"answer_id":4982150,"question_id":1116123,"body_markdown":"With the [date4j][1] library :\r\n\r\n    int age = today.getYear() - birthdate.getYear();\r\n    if(today.getDayOfYear() &lt; birthdate.getDayOfYear()){\r\n      age = age - 1; \r\n    }\r\n\r\n\r\n  [1]: http://www.date4j.net","title":"How do I calculate someone&#39;s age in Java?","body":"<p>With the <a href=\"http://www.date4j.net\" rel=\"noreferrer\">date4j</a> library :</p>\n\n<pre><code>int age = today.getYear() - birthdate.getYear();\nif(today.getDayOfYear() &lt; birthdate.getDayOfYear()){\n  age = age - 1; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1301977507,"creation_date":1301977507,"answer_id":5547187,"question_id":1116123,"body_markdown":"If you are using GWT you will be limited to using java.util.Date, here is a method that takes the date as integers, but still uses java.util.Date:\r\n\r\n\r\n    public int getAge(int year, int month, int day) {\r\n    \tDate now = new Date();\r\n    \tint nowMonth = now.getMonth()+1;\r\n    \tint nowYear = now.getYear()+1900;\r\n    \tint result = nowYear - year;\r\n    \r\n    \tif (month &gt; nowMonth) {\r\n    \t\tresult--;\r\n    \t}\r\n    \telse if (month == nowMonth) {\r\n    \t\tint nowDay = now.getDate();\r\n    \r\n    \t\tif (day &gt; nowDay) {\r\n    \t\t\tresult--;\r\n    \t\t}\r\n    \t}\r\n    \treturn result;\r\n    }\r\n\r\n","title":"How do I calculate someone&#39;s age in Java?","body":"<p>If you are using GWT you will be limited to using java.util.Date, here is a method that takes the date as integers, but still uses java.util.Date:</p>\n\n<pre><code>public int getAge(int year, int month, int day) {\n    Date now = new Date();\n    int nowMonth = now.getMonth()+1;\n    int nowYear = now.getYear()+1900;\n    int result = nowYear - year;\n\n    if (month &gt; nowMonth) {\n        result--;\n    }\n    else if (month == nowMonth) {\n        int nowDay = now.getDate();\n\n        if (day &gt; nowDay) {\n            result--;\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":784046,"reputation":21,"user_id":840623,"display_name":"John B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1310471242,"creation_date":1310471242,"answer_id":6663675,"question_id":1116123,"body_markdown":"The fields birth and effect are both date fields:    \r\n\r\n    Calendar bir = Calendar.getInstance();\r\n    bir.setTime(birth);\r\n    int birthNm = bir.get(Calendar.DAY_OF_YEAR);\r\n    int birthYear = bir.get(Calendar.YEAR);\r\n    Calendar eff = Calendar.getInstance();\r\n    eff.setTime(effect);\r\n\r\nThis basically a modification of John O&#39;s solution without using depreciated methods. I spent a fair amount of time trying to get his code to work in in my code. Maybe this will save others that time.","title":"How do I calculate someone&#39;s age in Java?","body":"<p>The fields birth and effect are both date fields:    </p>\n\n<pre><code>Calendar bir = Calendar.getInstance();\nbir.setTime(birth);\nint birthNm = bir.get(Calendar.DAY_OF_YEAR);\nint birthYear = bir.get(Calendar.YEAR);\nCalendar eff = Calendar.getInstance();\neff.setTime(effect);\n</code></pre>\n\n<p>This basically a modification of John O's solution without using depreciated methods. I spent a fair amount of time trying to get his code to work in in my code. Maybe this will save others that time.</p>\n"},{"tags":[],"owner":{"account_id":227402,"reputation":1326,"user_id":489054,"display_name":"cass"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1313242671,"creation_date":1313185963,"answer_id":7046729,"question_id":1116123,"body_markdown":"This is an improved version of the one above... considering that you want age to be an &#39;int&#39;. because sometimes you don&#39;t want to fill your program with a bunch of libraries.\r\n \r\n    public int getAge(Date dateOfBirth) {\r\n        int age = 0;\r\n        Calendar born = Calendar.getInstance();\r\n        Calendar now = Calendar.getInstance();\r\n        if(dateOfBirth!= null) {\r\n            now.setTime(new Date());\r\n            born.setTime(dateOfBirth);  \r\n            if(born.after(now)) {\r\n                throw new IllegalArgumentException(&quot;Can&#39;t be born in the future&quot;);\r\n            }\r\n            age = now.get(Calendar.YEAR) - born.get(Calendar.YEAR);             \r\n            if(now.get(Calendar.DAY_OF_YEAR) &lt; born.get(Calendar.DAY_OF_YEAR))  {\r\n                age-=1;\r\n            }\r\n        }  \r\n        return age;\r\n    }","title":"How do I calculate someone&#39;s age in Java?","body":"<p>This is an improved version of the one above... considering that you want age to be an 'int'. because sometimes you don't want to fill your program with a bunch of libraries.</p>\n\n<pre><code>public int getAge(Date dateOfBirth) {\n    int age = 0;\n    Calendar born = Calendar.getInstance();\n    Calendar now = Calendar.getInstance();\n    if(dateOfBirth!= null) {\n        now.setTime(new Date());\n        born.setTime(dateOfBirth);  \n        if(born.after(now)) {\n            throw new IllegalArgumentException(\"Can't be born in the future\");\n        }\n        age = now.get(Calendar.YEAR) - born.get(Calendar.YEAR);             \n        if(now.get(Calendar.DAY_OF_YEAR) &lt; born.get(Calendar.DAY_OF_YEAR))  {\n            age-=1;\n        }\n    }  \n    return age;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52655,"reputation":2533,"user_id":157352,"display_name":"Stradivariuz"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1331240476,"creation_date":1313541202,"answer_id":7086733,"question_id":1116123,"body_markdown":"    public int getAge(Date dateOfBirth) \r\n    {\r\n        Calendar now = Calendar.getInstance();\r\n        Calendar dob = Calendar.getInstance();\r\n     \r\n        dob.setTime(dateOfBirth);\r\n    \r\n        if (dob.after(now)) \r\n    \t{\r\n            throw new IllegalArgumentException(&quot;Can&#39;t be born in the future&quot;);\r\n        }\r\n    \r\n    \tint age = now.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\r\n    \r\n        if (now.get(Calendar.DAY_OF_YEAR) &lt; dob.get(Calendar.DAY_OF_YEAR)) \r\n    \t{\r\n            age--;\r\n        }\r\n    \r\n        return age;\r\n    }","title":"How do I calculate someone&#39;s age in Java?","body":"<pre><code>public int getAge(Date dateOfBirth) \n{\n    Calendar now = Calendar.getInstance();\n    Calendar dob = Calendar.getInstance();\n\n    dob.setTime(dateOfBirth);\n\n    if (dob.after(now)) \n    {\n        throw new IllegalArgumentException(\"Can't be born in the future\");\n    }\n\n    int age = now.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\n\n    if (now.get(Calendar.DAY_OF_YEAR) &lt; dob.get(Calendar.DAY_OF_YEAR)) \n    {\n        age--;\n    }\n\n    return age;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":925515,"reputation":201,"user_id":956380,"display_name":"Farhan Munir"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1316614741,"creation_date":1316590105,"answer_id":7496073,"question_id":1116123,"body_markdown":"    /**\r\n     * This Method is unit tested properly for very different cases , \r\n     * taking care of Leap Year days difference in a year, \r\n     * and date cases month and Year boundary cases (12/31/1980, 01/01/1980 etc)\r\n    **/\r\n\r\n    public static int getAge(Date dateOfBirth) {\r\n    \t\r\n        Calendar today = Calendar.getInstance();\r\n        Calendar birthDate = Calendar.getInstance();\r\n        \r\n        int age = 0;\r\n        \r\n        birthDate.setTime(dateOfBirth);\r\n        if (birthDate.after(today)) {\r\n            throw new IllegalArgumentException(&quot;Can&#39;t be born in the future&quot;);\r\n        }\r\n\r\n        age = today.get(Calendar.YEAR) - birthDate.get(Calendar.YEAR);\r\n        \r\n        // If birth date is greater than todays date (after 2 days adjustment of leap year) then decrement age one year   \r\n        if ( (birthDate.get(Calendar.DAY_OF_YEAR) - today.get(Calendar.DAY_OF_YEAR) &gt; 3) ||\r\n        \t\t(birthDate.get(Calendar.MONTH) &gt; today.get(Calendar.MONTH ))){\r\n        \tage--;\r\n        \t\r\n         // If birth date and todays date are of same month and birth day of month is greater than todays day of month then decrement age\r\n        }else if ((birthDate.get(Calendar.MONTH) == today.get(Calendar.MONTH )) &amp;&amp;\r\n        \t\t  (birthDate.get(Calendar.DAY_OF_MONTH) &gt; today.get(Calendar.DAY_OF_MONTH ))){\r\n        \tage--;\r\n        }\r\n\r\n        return age;\r\n    }","title":"How do I calculate someone&#39;s age in Java?","body":"<pre><code>/**\n * This Method is unit tested properly for very different cases , \n * taking care of Leap Year days difference in a year, \n * and date cases month and Year boundary cases (12/31/1980, 01/01/1980 etc)\n**/\n\npublic static int getAge(Date dateOfBirth) {\n\n    Calendar today = Calendar.getInstance();\n    Calendar birthDate = Calendar.getInstance();\n\n    int age = 0;\n\n    birthDate.setTime(dateOfBirth);\n    if (birthDate.after(today)) {\n        throw new IllegalArgumentException(\"Can't be born in the future\");\n    }\n\n    age = today.get(Calendar.YEAR) - birthDate.get(Calendar.YEAR);\n\n    // If birth date is greater than todays date (after 2 days adjustment of leap year) then decrement age one year   \n    if ( (birthDate.get(Calendar.DAY_OF_YEAR) - today.get(Calendar.DAY_OF_YEAR) &gt; 3) ||\n            (birthDate.get(Calendar.MONTH) &gt; today.get(Calendar.MONTH ))){\n        age--;\n\n     // If birth date and todays date are of same month and birth day of month is greater than todays day of month then decrement age\n    }else if ((birthDate.get(Calendar.MONTH) == today.get(Calendar.MONTH )) &amp;&amp;\n              (birthDate.get(Calendar.DAY_OF_MONTH) &gt; today.get(Calendar.DAY_OF_MONTH ))){\n        age--;\n    }\n\n    return age;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":933054,"reputation":449,"user_id":962520,"accept_rate":60,"display_name":"Kevin"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1446520989,"creation_date":1331799507,"answer_id":9716042,"question_id":1116123,"body_markdown":"Try to copy this one in your code, then use the method to get the age.\r\n\r\n    public static int getAge(Date birthday)\r\n\t{\r\n\t\tGregorianCalendar today = new GregorianCalendar();\r\n\t\tGregorianCalendar bday = new GregorianCalendar();\r\n\t\tGregorianCalendar bdayThisYear = new GregorianCalendar();\r\n\t\t\r\n\t\tbday.setTime(birthday);\r\n\t\tbdayThisYear.setTime(birthday);\r\n\t\tbdayThisYear.set(Calendar.YEAR, today.get(Calendar.YEAR));\r\n\t\t\r\n\t\tint age = today.get(Calendar.YEAR) - bday.get(Calendar.YEAR);\r\n\r\n\t\tif(today.getTimeInMillis() &lt; bdayThisYear.getTimeInMillis())\r\n\t\t\tage--;\r\n\t\t\r\n\t\treturn age;\r\n\t}","title":"How do I calculate someone&#39;s age in Java?","body":"<p>Try to copy this one in your code, then use the method to get the age.</p>\n\n<pre><code>public static int getAge(Date birthday)\n{\n    GregorianCalendar today = new GregorianCalendar();\n    GregorianCalendar bday = new GregorianCalendar();\n    GregorianCalendar bdayThisYear = new GregorianCalendar();\n\n    bday.setTime(birthday);\n    bdayThisYear.setTime(birthday);\n    bdayThisYear.set(Calendar.YEAR, today.get(Calendar.YEAR));\n\n    int age = today.get(Calendar.YEAR) - bday.get(Calendar.YEAR);\n\n    if(today.getTimeInMillis() &lt; bdayThisYear.getTimeInMillis())\n        age--;\n\n    return age;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1539982,"reputation":469,"user_id":1434873,"display_name":"Yaron Ronen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1338806272,"creation_date":1338806272,"answer_id":10879925,"question_id":1116123,"body_markdown":"\t/**\r\n\t * Compute from string date in the format of yyyy-MM-dd HH:mm:ss the age of a person.\r\n\t * @author Yaron Ronen\r\n\t * @date 04/06/2012\t \r\n\t */\r\n\tprivate int computeAge(String sDate)\r\n\t{\r\n\t\t// Initial variables.\r\n\t\tDate dbDate = null;\r\n\t\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\t\t\r\n\t\t\r\n\t\t// Parse sDate.\r\n\t\ttry\r\n\t\t{\r\n\t\t\tdbDate = (Date)dateFormat.parse(sDate);\r\n\t\t}\r\n\t\tcatch(ParseException e)\r\n\t\t{\r\n\t\t\tLog.e(&quot;MyApplication&quot;,&quot;Can not compute age from date:&quot;+sDate,e);\r\n\t\t\treturn ILLEGAL_DATE; // Const = -2\r\n\t\t}\r\n\t\t\r\n\t\t// Compute age.\r\n\t\tlong timeDiff = System.currentTimeMillis() - dbDate.getTime();\t\t\r\n\t\tint age = (int)(timeDiff / MILLI_SECONDS_YEAR);  // MILLI_SECONDS_YEAR = 31558464000L;\r\n\t\t\r\n\t\treturn age;\t\r\n\t}","title":"How do I calculate someone&#39;s age in Java?","body":"<pre><code>/**\n * Compute from string date in the format of yyyy-MM-dd HH:mm:ss the age of a person.\n * @author Yaron Ronen\n * @date 04/06/2012  \n */\nprivate int computeAge(String sDate)\n{\n    // Initial variables.\n    Date dbDate = null;\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");      \n\n    // Parse sDate.\n    try\n    {\n        dbDate = (Date)dateFormat.parse(sDate);\n    }\n    catch(ParseException e)\n    {\n        Log.e(\"MyApplication\",\"Can not compute age from date:\"+sDate,e);\n        return ILLEGAL_DATE; // Const = -2\n    }\n\n    // Compute age.\n    long timeDiff = System.currentTimeMillis() - dbDate.getTime();      \n    int age = (int)(timeDiff / MILLI_SECONDS_YEAR);  // MILLI_SECONDS_YEAR = 31558464000L;\n\n    return age; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1559733,"reputation":27,"user_id":1449904,"display_name":"Andre P."},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1339448746,"creation_date":1339448746,"answer_id":10987519,"question_id":1116123,"body_markdown":"What about this one?\r\n\r\n    public Integer calculateAge(Date date) {\r\n    \tif (date == null) {\r\n    \t\treturn null;\r\n    \t}\r\n    \tCalendar cal1 = Calendar.getInstance();\r\n    \tcal1.setTime(date);\r\n    \tCalendar cal2 = Calendar.getInstance();\r\n    \tint i = 0;\r\n    \twhile (cal1.before(cal2)) {\r\n    \t\tcal1.add(Calendar.YEAR, 1);\r\n    \t\ti += 1;\r\n    \t}\r\n    \treturn i;\r\n    }","title":"How do I calculate someone&#39;s age in Java?","body":"<p>What about this one?</p>\n\n<pre><code>public Integer calculateAge(Date date) {\n    if (date == null) {\n        return null;\n    }\n    Calendar cal1 = Calendar.getInstance();\n    cal1.setTime(date);\n    Calendar cal2 = Calendar.getInstance();\n    int i = 0;\n    while (cal1.before(cal2)) {\n        cal1.add(Calendar.YEAR, 1);\n        i += 1;\n    }\n    return i;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1734491,"reputation":9,"user_id":1587375,"display_name":"Surendar S"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1344512548,"creation_date":1344511937,"answer_id":11882461,"question_id":1116123,"body_markdown":"    import java.io.*;\r\n    \r\n    class AgeCalculator\r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            InputStreamReader ins=new InputStreamReader(System.in);\r\n            BufferedReader hey=new BufferedReader(ins);\r\n            \r\n            try\r\n            {\r\n                System.out.println(&quot;Please enter your name: &quot;);\r\n                String name=hey.readLine();\r\n                \r\n                System.out.println(&quot;Please enter your birth date: &quot;);\r\n                String date=hey.readLine();\r\n                \r\n                System.out.println(&quot;please enter your birth month:&quot;);\r\n                String month=hey.readLine();\r\n                \r\n                System.out.println(&quot;please enter your birth year:&quot;);\r\n                String year=hey.readLine();\r\n                \r\n                System.out.println(&quot;please enter current year:&quot;);\r\n                String cYear=hey.readLine();\r\n                \r\n                int bDate = Integer.parseInt(date);\r\n                int bMonth = Integer.parseInt(month);\r\n                int bYear = Integer.parseInt(year);\r\n                int ccYear=Integer.parseInt(cYear);\r\n                \r\n                int age;\r\n                \r\n                age = ccYear-bYear;\r\n                int totalMonth=12;\r\n                int yourMonth=totalMonth-bMonth;\r\n                \r\n                System.out.println(&quot; Hi &quot; + name + &quot; your are &quot; + age + &quot; years &quot; + yourMonth + &quot; months old &quot;);\r\n            }\r\n            catch(IOException err)\r\n            {\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n        }\r\n    }","title":"How do I calculate someone&#39;s age in Java?","body":"<pre><code>import java.io.*;\n\nclass AgeCalculator\n{\n    public static void main(String args[])\n    {\n        InputStreamReader ins=new InputStreamReader(System.in);\n        BufferedReader hey=new BufferedReader(ins);\n\n        try\n        {\n            System.out.println(\"Please enter your name: \");\n            String name=hey.readLine();\n\n            System.out.println(\"Please enter your birth date: \");\n            String date=hey.readLine();\n\n            System.out.println(\"please enter your birth month:\");\n            String month=hey.readLine();\n\n            System.out.println(\"please enter your birth year:\");\n            String year=hey.readLine();\n\n            System.out.println(\"please enter current year:\");\n            String cYear=hey.readLine();\n\n            int bDate = Integer.parseInt(date);\n            int bMonth = Integer.parseInt(month);\n            int bYear = Integer.parseInt(year);\n            int ccYear=Integer.parseInt(cYear);\n\n            int age;\n\n            age = ccYear-bYear;\n            int totalMonth=12;\n            int yourMonth=totalMonth-bMonth;\n\n            System.out.println(\" Hi \" + name + \" your are \" + age + \" years \" + yourMonth + \" months old \");\n        }\n        catch(IOException err)\n        {\n            System.out.println(\"\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1348501570,"creation_date":1348501570,"answer_id":12568454,"question_id":1116123,"body_markdown":"The correct answer using [JodaTime][1] is:\r\n\r\n    public int getAge() {\r\n        Years years = Years.yearsBetween(new LocalDate(getBirthDate()), new LocalDate());\r\n        return years.getYears();\r\n    }\r\n\r\nYou could even shorten it into one line if you like. I copied the idea from [BrianAgnew&#39;s answer][2], but I believe this is more correct as you see from the comments there (and it answers the question exactly).\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/\r\n  [2]: https://stackoverflow.com/a/1116273/159178","title":"How do I calculate someone&#39;s age in Java?","body":"<p>The correct answer using <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">JodaTime</a> is:</p>\n\n<pre><code>public int getAge() {\n    Years years = Years.yearsBetween(new LocalDate(getBirthDate()), new LocalDate());\n    return years.getYears();\n}\n</code></pre>\n\n<p>You could even shorten it into one line if you like. I copied the idea from <a href=\"https://stackoverflow.com/a/1116273/159178\">BrianAgnew's answer</a>, but I believe this is more correct as you see from the comments there (and it answers the question exactly).</p>\n"},{"tags":[],"owner":{"account_id":2214716,"reputation":11,"user_id":1955658,"display_name":"user1955658"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357578884,"creation_date":1357577810,"answer_id":14200468,"question_id":1116123,"body_markdown":"`String` `dateofbirth` has the date of birth. and format is whatever (defined in the following line):\r\n\r\n    org.joda.time.format.DateTimeFormatter formatter =  org.joda.time.format.DateTimeFormat.forPattern(&quot;mm/dd/yyyy&quot;);\r\n\r\nHere is how to format:\r\n\t\r\n    org.joda.time.DateTime birthdateDate = formatter.parseDateTime(dateofbirth );\r\n    org.joda.time.DateMidnight birthdate = new         org.joda.time.DateMidnight(birthdateDate.getYear(), birthdateDate.getMonthOfYear(), birthdateDate.getDayOfMonth() );\r\n    org.joda.time.DateTime now = new org.joda.time.DateTime();\r\n    org.joda.time.Years age = org.joda.time.Years.yearsBetween(birthdate, now);\r\n    java.lang.String ageStr = java.lang.String.valueOf (age.getYears());\r\n\r\nVariable `ageStr` will have the years.","title":"How do I calculate someone&#39;s age in Java?","body":"<p><code>String</code> <code>dateofbirth</code> has the date of birth. and format is whatever (defined in the following line):</p>\n\n<pre><code>org.joda.time.format.DateTimeFormatter formatter =  org.joda.time.format.DateTimeFormat.forPattern(\"mm/dd/yyyy\");\n</code></pre>\n\n<p>Here is how to format:</p>\n\n<pre><code>org.joda.time.DateTime birthdateDate = formatter.parseDateTime(dateofbirth );\norg.joda.time.DateMidnight birthdate = new         org.joda.time.DateMidnight(birthdateDate.getYear(), birthdateDate.getMonthOfYear(), birthdateDate.getDayOfMonth() );\norg.joda.time.DateTime now = new org.joda.time.DateTime();\norg.joda.time.Years age = org.joda.time.Years.yearsBetween(birthdate, now);\njava.lang.String ageStr = java.lang.String.valueOf (age.getYears());\n</code></pre>\n\n<p>Variable <code>ageStr</code> will have the years.</p>\n"},{"tags":[],"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384195277,"creation_date":1384195277,"answer_id":19913465,"question_id":1116123,"body_markdown":"Elegant, **seemingly correct**, timestamp difference based  variant of Yaron Ronen solution.\r\n\r\nI am including a **unit test to prove when and why it is not correct**. It is impossible due (to possibly) different number of leap days (and seconds) in any timestamp difference. The discrepancy should be max +-1 day (and one second) for this algorithm, see test2(), whereas Yaron Ronen solution based on completely constant assumption of `timeDiff / MILLI_SECONDS_YEAR` can differ 10 days for a 40ty year old, nevertheless this variant is incorrect too.\r\n\r\nIt is tricky, because this improved variant, using formula `diffAsCalendar.get(Calendar.YEAR) - 1970`, returns correct results most of the time, as number of leap years in on average same between two dates.\r\n\r\n    /**\r\n     * Compute person&#39;s age based on timestamp difference between birth date and given date\r\n     * and prove it is INCORRECT approach.\r\n     */\r\n    public class AgeUsingTimestamps {\r\n    \r\n\tpublic int getAge(Date today, Date dateOfBirth) {\r\n\t\tlong diffAsLong = today.getTime() - dateOfBirth.getTime();\r\n\t\tCalendar diffAsCalendar = Calendar.getInstance();\r\n\t\tdiffAsCalendar.setTimeInMillis(diffAsLong);\r\n\t\treturn diffAsCalendar.get(Calendar.YEAR) - 1970; // base time where timestamp=0, precisely 1/1/1970 00:00:00 \r\n\t}\r\n    \r\n    \tfinal static DateFormat df = new SimpleDateFormat(&quot;dd.MM.yyy HH:mm:ss&quot;);\r\n    \r\n    \t@Test\r\n    \tpublic void test1() throws Exception {\r\n    \t\tDate dateOfBirth = df.parse(&quot;10.1.2000 00:00:00&quot;);\r\n    \t\tassertEquals(87, getAge(df.parse(&quot;08.1.2088 23:59:59&quot;), dateOfBirth));\r\n    \t\tassertEquals(87, getAge(df.parse(&quot;09.1.2088 23:59:59&quot;), dateOfBirth));\r\n    \t\tassertEquals(88, getAge(df.parse(&quot;10.1.2088 00:00:01&quot;), dateOfBirth));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void test2() throws Exception {\r\n    \t\t// between 2000 and 2021 was 6 leap days\r\n    \t\t// but between 1970 (base time) and 1991 there was only 5 leap days\r\n    \t\t// therefore age is switched one day earlier\r\n                // See http://www.onlineconversion.com/leapyear.htm\r\n    \t\tDate dateOfBirth = df.parse(&quot;10.1.2000 00:00:00&quot;);\r\n    \t\tassertEquals(20, getAge(df.parse(&quot;08.1.2021 23:59:59&quot;), dateOfBirth));\r\n    \t\tassertEquals(20, getAge(df.parse(&quot;09.1.2021 23:59:59&quot;), dateOfBirth)); // ERROR! returns incorrect age=21 here\r\n    \t\tassertEquals(21, getAge(df.parse(&quot;10.1.2021 00:00:01&quot;), dateOfBirth));\r\n    \t}\r\n    }","title":"How do I calculate someone&#39;s age in Java?","body":"<p>Elegant, <strong>seemingly correct</strong>, timestamp difference based  variant of Yaron Ronen solution.</p>\n\n<p>I am including a <strong>unit test to prove when and why it is not correct</strong>. It is impossible due (to possibly) different number of leap days (and seconds) in any timestamp difference. The discrepancy should be max +-1 day (and one second) for this algorithm, see test2(), whereas Yaron Ronen solution based on completely constant assumption of <code>timeDiff / MILLI_SECONDS_YEAR</code> can differ 10 days for a 40ty year old, nevertheless this variant is incorrect too.</p>\n\n<p>It is tricky, because this improved variant, using formula <code>diffAsCalendar.get(Calendar.YEAR) - 1970</code>, returns correct results most of the time, as number of leap years in on average same between two dates.</p>\n\n<pre><code>/**\n * Compute person's age based on timestamp difference between birth date and given date\n * and prove it is INCORRECT approach.\n */\npublic class AgeUsingTimestamps {\n\npublic int getAge(Date today, Date dateOfBirth) {\n    long diffAsLong = today.getTime() - dateOfBirth.getTime();\n    Calendar diffAsCalendar = Calendar.getInstance();\n    diffAsCalendar.setTimeInMillis(diffAsLong);\n    return diffAsCalendar.get(Calendar.YEAR) - 1970; // base time where timestamp=0, precisely 1/1/1970 00:00:00 \n}\n\n    final static DateFormat df = new SimpleDateFormat(\"dd.MM.yyy HH:mm:ss\");\n\n    @Test\n    public void test1() throws Exception {\n        Date dateOfBirth = df.parse(\"10.1.2000 00:00:00\");\n        assertEquals(87, getAge(df.parse(\"08.1.2088 23:59:59\"), dateOfBirth));\n        assertEquals(87, getAge(df.parse(\"09.1.2088 23:59:59\"), dateOfBirth));\n        assertEquals(88, getAge(df.parse(\"10.1.2088 00:00:01\"), dateOfBirth));\n    }\n\n    @Test\n    public void test2() throws Exception {\n        // between 2000 and 2021 was 6 leap days\n        // but between 1970 (base time) and 1991 there was only 5 leap days\n        // therefore age is switched one day earlier\n            // See http://www.onlineconversion.com/leapyear.htm\n        Date dateOfBirth = df.parse(\"10.1.2000 00:00:00\");\n        assertEquals(20, getAge(df.parse(\"08.1.2021 23:59:59\"), dateOfBirth));\n        assertEquals(20, getAge(df.parse(\"09.1.2021 23:59:59\"), dateOfBirth)); // ERROR! returns incorrect age=21 here\n        assertEquals(21, getAge(df.parse(\"10.1.2021 00:00:01\"), dateOfBirth));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4329138,"reputation":19,"user_id":3535090,"display_name":"Vahid Pooreftekhari"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1404898055,"creation_date":1404896814,"answer_id":24649510,"question_id":1116123,"body_markdown":"    public class CalculateAge { \r\n     \r\n    private int age;\r\n    \r\n    private void setAge(int age){\r\n    \r\n    \tthis.age=age;\r\n    \t\r\n    }\r\n    public void calculateAge(Date date){\r\n    \r\n    \tCalendar calendar=Calendar.getInstance();\r\n    \r\n    \tCalendar calendarnow=Calendar.getInstance();    \r\n    \r\n    \tcalendarnow.getTimeZone();\r\n    \r\n    \tcalendar.setTime(date);\r\n    \r\n    \tint getmonth= calendar.get(calendar.MONTH);\r\n    \r\n    \tint getyears= calendar.get(calendar.YEAR);\r\n    \r\n    \tint currentmonth= calendarnow.get(calendarnow.MONTH);\r\n    \r\n    \tint currentyear= calendarnow.get(calendarnow.YEAR);\r\n    \r\n    \tint age = ((currentyear*12+currentmonth)-(getyears*12+getmonth))/12;\r\n    \r\n    \tsetAge(age);\r\n    }\r\n    public int getAge(){\r\n    \r\n    \treturn this.age;\r\n    \r\n    }","title":"How do I calculate someone&#39;s age in Java?","body":"<pre><code>public class CalculateAge { \n\nprivate int age;\n\nprivate void setAge(int age){\n\n    this.age=age;\n\n}\npublic void calculateAge(Date date){\n\n    Calendar calendar=Calendar.getInstance();\n\n    Calendar calendarnow=Calendar.getInstance();    \n\n    calendarnow.getTimeZone();\n\n    calendar.setTime(date);\n\n    int getmonth= calendar.get(calendar.MONTH);\n\n    int getyears= calendar.get(calendar.YEAR);\n\n    int currentmonth= calendarnow.get(calendarnow.MONTH);\n\n    int currentyear= calendarnow.get(calendarnow.YEAR);\n\n    int age = ((currentyear*12+currentmonth)-(getyears*12+getmonth))/12;\n\n    setAge(age);\n}\npublic int getAge(){\n\n    return this.age;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5035743,"reputation":1,"user_id":4044586,"display_name":"Jhonie"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1410853669,"creation_date":1410831400,"answer_id":25859434,"question_id":1116123,"body_markdown":"    public int getAge(String birthdate, String today){\r\n        // birthdate = &quot;1986-02-22&quot;\r\n        // today = &quot;2014-09-16&quot;\r\n\r\n        // String class has a split method for splitting a string\r\n        // split(&lt;delimiter&gt;)\r\n        // birth[0] = 1986 as string\r\n        // birth[1] = 02 as string\r\n        // birth[2] = 22 as string\r\n        // now[0] = 2014 as string\r\n        // now[1] = 09 as string\r\n        // now[2] = 16 as string\r\n        // **birth** and **now** arrays are automatically contains 3 elements \r\n        // split method here returns 3 elements because of yyyy-MM-dd value\r\n    \tString birth[] = birthdate.split(&quot;-&quot;);\r\n    \tString now[] = today.split(&quot;-&quot;);\r\n    \tint age = 0;\r\n    \t\r\n        // let us convert string values into integer values\r\n        // with the use of Integer.parseInt(&lt;string&gt;)\r\n    \tint ybirth = Integer.parseInt(birth[0]);\r\n    \tint mbirth = Integer.parseInt(birth[1]);\r\n    \tint dbirth = Integer.parseInt(birth[2]);\r\n    \t\t\r\n    \tint ynow = Integer.parseInt(now[0]);\r\n    \tint mnow = Integer.parseInt(now[1]);\r\n    \tint dnow = Integer.parseInt(now[2]);\r\n    \t\r\n    \tif(ybirth &lt; ynow){ // has age if birth year is lesser than current year\r\n    \t\tage = ynow - ybirth; // let us get the interval of birth year and current year\r\n    \t\tif(mbirth == mnow){ // when birth month comes, it&#39;s ok to have age = ynow - ybirth if\r\n    \t\t\tif(dbirth &gt; dnow) // birth day is coming. need to subtract 1 from age. not yet a bday\r\n    \t\t\t\tage--;\r\n    \t\t}else if(mbirth &gt; mnow){ age--; } // birth month is comming. need to subtract 1 from age\t\t\t\r\n    \t}\r\n    \t\t\r\n    \treturn age;\r\n    }","title":"How do I calculate someone&#39;s age in Java?","body":"<pre><code>public int getAge(String birthdate, String today){\n    // birthdate = \"1986-02-22\"\n    // today = \"2014-09-16\"\n\n    // String class has a split method for splitting a string\n    // split(&lt;delimiter&gt;)\n    // birth[0] = 1986 as string\n    // birth[1] = 02 as string\n    // birth[2] = 22 as string\n    // now[0] = 2014 as string\n    // now[1] = 09 as string\n    // now[2] = 16 as string\n    // **birth** and **now** arrays are automatically contains 3 elements \n    // split method here returns 3 elements because of yyyy-MM-dd value\n    String birth[] = birthdate.split(\"-\");\n    String now[] = today.split(\"-\");\n    int age = 0;\n\n    // let us convert string values into integer values\n    // with the use of Integer.parseInt(&lt;string&gt;)\n    int ybirth = Integer.parseInt(birth[0]);\n    int mbirth = Integer.parseInt(birth[1]);\n    int dbirth = Integer.parseInt(birth[2]);\n\n    int ynow = Integer.parseInt(now[0]);\n    int mnow = Integer.parseInt(now[1]);\n    int dnow = Integer.parseInt(now[2]);\n\n    if(ybirth &lt; ynow){ // has age if birth year is lesser than current year\n        age = ynow - ybirth; // let us get the interval of birth year and current year\n        if(mbirth == mnow){ // when birth month comes, it's ok to have age = ynow - ybirth if\n            if(dbirth &gt; dnow) // birth day is coming. need to subtract 1 from age. not yet a bday\n                age--;\n        }else if(mbirth &gt; mnow){ age--; } // birth month is comming. need to subtract 1 from age            \n    }\n\n    return age;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1457591345,"creation_date":1420183043,"answer_id":27738766,"question_id":1116123,"body_markdown":"Modern answer and overview\r\n--------------------------\r\n\r\n**a) Java-8 (java.time-package)**\r\n\r\n    LocalDate start = LocalDate.of(1996, 2, 29);\r\n    LocalDate end = LocalDate.of(2014, 2, 28); // use for age-calculation: LocalDate.now()\r\n    long years = ChronoUnit.YEARS.between(start, end);\r\n    System.out.println(years); // 17\r\n\r\nNote that the expression `LocalDate.now()` is implicitly related to the system timezone (which is often overlooked by users). For clarity it is generally better to use the overloaded method `now(ZoneId.of(&quot;Europe/Paris&quot;))` specifying an explicit timezone (here &quot;Europe/Paris&quot; as example). If the system timezone is requested then my personal preference is to write `LocalDate.now(ZoneId.systemDefault())` to make the relation to the system timezone clearer. This is more writing effort but makes reading easier.\r\n\r\n**b) Joda-Time**\r\n\r\nPlease note that the proposed and accepted Joda-Time-solution yields a different computation result for the dates shown above (a rare case), namely:\r\n\r\n    LocalDate birthdate = new LocalDate(1996, 2, 29);\r\n    LocalDate now = new LocalDate(2014, 2, 28); // test, in real world without args\r\n    Years age = Years.yearsBetween(birthdate, now);\r\n    System.out.println(age.getYears()); // 18\r\n\r\nI consider this as a small bug but the Joda-team has a different view on this weird behaviour and does not want to fix it (weird because the day-of-month of end date is smaller than of start date so the year should be one less). See also this closed [issue][1].\r\n\r\n**c) java.util.Calendar etc.**\r\n\r\nFor comparison see the various other answers. I would not recommend using these outdated classes at all because the resulting code is still errorprone in some exotic cases and/or way too complex considering the fact that the original question sounds so simple. In year 2015 we have really better libraries.\r\n\r\n**d) About Date4J:**\r\n\r\nThe proposed solution is simple but will sometimes fail in case of leap years. Just evaluating the day of year is not reliable.\r\n\r\n**e) My own library Time4J**:\r\n\r\nThis works similar to Java-8-solution. Just replace `LocalDate` by `PlainDate` and `ChronoUnit.YEARS` by `CalendarUnit.YEARS`. However, getting &quot;today&quot; requires an explicit timezone reference.\r\n\r\n    PlainDate start = PlainDate.of(1996, 2, 29);\r\n    PlainDate end = PlainDate.of(2014, 2, 28);\r\n    // use for age-calculation (today): \r\n    // =&gt; end = SystemClock.inZonalView(EUROPE.PARIS).today();\r\n    // or in system timezone: end = SystemClock.inLocalView().today();\r\n    long years = CalendarUnit.YEARS.between(start, end);\r\n    System.out.println(years); // 17\r\n\r\n  [1]: https://github.com/JodaOrg/joda-time/issues/132\r\n","title":"How do I calculate someone&#39;s age in Java?","body":"<h2>Modern answer and overview</h2>\n\n<p><strong>a) Java-8 (java.time-package)</strong></p>\n\n<pre><code>LocalDate start = LocalDate.of(1996, 2, 29);\nLocalDate end = LocalDate.of(2014, 2, 28); // use for age-calculation: LocalDate.now()\nlong years = ChronoUnit.YEARS.between(start, end);\nSystem.out.println(years); // 17\n</code></pre>\n\n<p>Note that the expression <code>LocalDate.now()</code> is implicitly related to the system timezone (which is often overlooked by users). For clarity it is generally better to use the overloaded method <code>now(ZoneId.of(\"Europe/Paris\"))</code> specifying an explicit timezone (here \"Europe/Paris\" as example). If the system timezone is requested then my personal preference is to write <code>LocalDate.now(ZoneId.systemDefault())</code> to make the relation to the system timezone clearer. This is more writing effort but makes reading easier.</p>\n\n<p><strong>b) Joda-Time</strong></p>\n\n<p>Please note that the proposed and accepted Joda-Time-solution yields a different computation result for the dates shown above (a rare case), namely:</p>\n\n<pre><code>LocalDate birthdate = new LocalDate(1996, 2, 29);\nLocalDate now = new LocalDate(2014, 2, 28); // test, in real world without args\nYears age = Years.yearsBetween(birthdate, now);\nSystem.out.println(age.getYears()); // 18\n</code></pre>\n\n<p>I consider this as a small bug but the Joda-team has a different view on this weird behaviour and does not want to fix it (weird because the day-of-month of end date is smaller than of start date so the year should be one less). See also this closed <a href=\"https://github.com/JodaOrg/joda-time/issues/132\">issue</a>.</p>\n\n<p><strong>c) java.util.Calendar etc.</strong></p>\n\n<p>For comparison see the various other answers. I would not recommend using these outdated classes at all because the resulting code is still errorprone in some exotic cases and/or way too complex considering the fact that the original question sounds so simple. In year 2015 we have really better libraries.</p>\n\n<p><strong>d) About Date4J:</strong></p>\n\n<p>The proposed solution is simple but will sometimes fail in case of leap years. Just evaluating the day of year is not reliable.</p>\n\n<p><strong>e) My own library Time4J</strong>:</p>\n\n<p>This works similar to Java-8-solution. Just replace <code>LocalDate</code> by <code>PlainDate</code> and <code>ChronoUnit.YEARS</code> by <code>CalendarUnit.YEARS</code>. However, getting \"today\" requires an explicit timezone reference.</p>\n\n<pre><code>PlainDate start = PlainDate.of(1996, 2, 29);\nPlainDate end = PlainDate.of(2014, 2, 28);\n// use for age-calculation (today): \n// =&gt; end = SystemClock.inZonalView(EUROPE.PARIS).today();\n// or in system timezone: end = SystemClock.inLocalView().today();\nlong years = CalendarUnit.YEARS.between(start, end);\nSystem.out.println(years); // 17\n</code></pre>\n"},{"tags":[],"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1488554215,"creation_date":1429606191,"answer_id":29767250,"question_id":1116123,"body_markdown":"It&#39;s perhaps surprising to note that you don&#39;t need to know how many days or months there are in a year or how many days are in those months, likewise, you don&#39;t need to know about leap years, leap seconds, or any of that stuff using this simple, 100% accurate method:\r\n\r\n    public static int age(Date birthday, Date date) {\r\n        DateFormat formatter = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n        int d1 = Integer.parseInt(formatter.format(birthday));\r\n        int d2 = Integer.parseInt(formatter.format(date));\r\n        int age = (d2-d1)/10000;\r\n        return age;\r\n    }\r\n","title":"How do I calculate someone&#39;s age in Java?","body":"<p>It's perhaps surprising to note that you don't need to know how many days or months there are in a year or how many days are in those months, likewise, you don't need to know about leap years, leap seconds, or any of that stuff using this simple, 100% accurate method:</p>\n\n<pre><code>public static int age(Date birthday, Date date) {\n    DateFormat formatter = new SimpleDateFormat(\"yyyyMMdd\");\n    int d1 = Integer.parseInt(formatter.format(birthday));\n    int d2 = Integer.parseInt(formatter.format(date));\n    int age = (d2-d1)/10000;\n    return age;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":544976,"reputation":5086,"user_id":914587,"accept_rate":59,"display_name":"Lou Morda"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1526435611,"creation_date":1440025210,"answer_id":32106993,"question_id":1116123,"body_markdown":"I simply use the milliseconds in a year constant value to my advantage:\r\n\r\n    Date now = new Date();\r\n    long timeBetween = now.getTime() - age.getTime();\r\n    double yearsBetween = timeBetween / 3.15576e+10;\r\n    int age = (int) Math.floor(yearsBetween);\r\n\r\n","title":"How do I calculate someone&#39;s age in Java?","body":"<p>I simply use the milliseconds in a year constant value to my advantage:</p>\n\n<pre><code>Date now = new Date();\nlong timeBetween = now.getTime() - age.getTime();\ndouble yearsBetween = timeBetween / 3.15576e+10;\nint age = (int) Math.floor(yearsBetween);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2209277,"reputation":148,"user_id":1951651,"display_name":"Dilshad Rana"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1440878515,"creation_date":1440878515,"answer_id":32290184,"question_id":1116123,"body_markdown":"\r\n        \r\n    import java.time.LocalDate;\r\n    import java.time.ZoneId;\r\n    import java.time.Period;\r\n    \r\n    public class AgeCalculator1 {\r\n    \r\n        public static void main(String args[]) {\r\n            LocalDate start = LocalDate.of(1970, 2, 23);\r\n            LocalDate end = LocalDate.now(ZoneId.systemDefault());\r\n            \r\n            Period p = Period.between(start, end);\r\n            //The output of the program is :\r\n            //45 years 6 months and 6 days.\r\n            System.out.print(p.getYears() + &quot; year&quot; + (p.getYears() &gt; 1 ? &quot;s &quot; : &quot; &quot;) );\r\n            System.out.print(p.getMonths() + &quot; month&quot; + (p.getMonths() &gt; 1 ? &quot;s and &quot; : &quot; and &quot;) );\r\n            System.out.print(p.getDays() + &quot; day&quot; + (p.getDays() &gt; 1 ? &quot;s.\\n&quot; : &quot;.\\n&quot;) );\r\n        }//method main ends here.\r\n    }","title":"How do I calculate someone&#39;s age in Java?","body":"<pre><code>import java.time.LocalDate;\nimport java.time.ZoneId;\nimport java.time.Period;\n\npublic class AgeCalculator1 {\n\n    public static void main(String args[]) {\n        LocalDate start = LocalDate.of(1970, 2, 23);\n        LocalDate end = LocalDate.now(ZoneId.systemDefault());\n\n        Period p = Period.between(start, end);\n        //The output of the program is :\n        //45 years 6 months and 6 days.\n        System.out.print(p.getYears() + \" year\" + (p.getYears() &gt; 1 ? \"s \" : \" \") );\n        System.out.print(p.getMonths() + \" month\" + (p.getMonths() &gt; 1 ? \"s and \" : \" and \") );\n        System.out.print(p.getDays() + \" day\" + (p.getDays() &gt; 1 ? \"s.\\n\" : \".\\n\") );\n    }//method main ends here.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3228923,"reputation":5851,"user_id":2724626,"accept_rate":70,"display_name":"akshay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459334966,"creation_date":1459259414,"answer_id":36286336,"question_id":1116123,"body_markdown":"Here is the java code to calculate age in year, month and days. \r\n\r\n    public static AgeModel calculateAge(long birthDate) {\r\n        int years = 0;\r\n        int months = 0;\r\n        int days = 0;\r\n\r\n        if (birthDate != 0) {\r\n            //create calendar object for birth day\r\n            Calendar birthDay = Calendar.getInstance();\r\n            birthDay.setTimeInMillis(birthDate);\r\n\r\n            //create calendar object for current day\r\n            Calendar now = Calendar.getInstance();\r\n            Calendar current = Calendar.getInstance();\r\n            //Get difference between years\r\n            years = now.get(Calendar.YEAR) - birthDay.get(Calendar.YEAR);\r\n\r\n            //get months\r\n            int currMonth = now.get(Calendar.MONTH) + 1;\r\n            int birthMonth = birthDay.get(Calendar.MONTH) + 1;\r\n\r\n            //Get difference between months\r\n            months = currMonth - birthMonth;\r\n\r\n            //if month difference is in negative then reduce years by one and calculate the number of months.\r\n            if (months &lt; 0) {\r\n                years--;\r\n                months = 12 - birthMonth + currMonth;\r\n            } else if (months == 0 &amp;&amp; now.get(Calendar.DATE) &lt; birthDay.get(Calendar.DATE)) {\r\n                years--;\r\n                months = 11;\r\n            }\r\n\r\n            //Calculate the days\r\n            if (now.get(Calendar.DATE) &gt; birthDay.get(Calendar.DATE))\r\n                days = now.get(Calendar.DATE) - birthDay.get(Calendar.DATE);\r\n            else if (now.get(Calendar.DATE) &lt; birthDay.get(Calendar.DATE)) {\r\n                int today = now.get(Calendar.DAY_OF_MONTH);\r\n                now.add(Calendar.MONTH, -1);\r\n                days = now.getActualMaximum(Calendar.DAY_OF_MONTH) - birthDay.get(Calendar.DAY_OF_MONTH) + today;\r\n            } else {\r\n                days = 0;\r\n                if (months == 12) {\r\n                    years++;\r\n                    months = 0;\r\n                }\r\n            }\r\n        }\r\n\r\n        //Create new Age object\r\n        return new AgeModel(days, months, years);\r\n    }","title":"How do I calculate someone&#39;s age in Java?","body":"<p>Here is the java code to calculate age in year, month and days. </p>\n\n<pre><code>public static AgeModel calculateAge(long birthDate) {\n    int years = 0;\n    int months = 0;\n    int days = 0;\n\n    if (birthDate != 0) {\n        //create calendar object for birth day\n        Calendar birthDay = Calendar.getInstance();\n        birthDay.setTimeInMillis(birthDate);\n\n        //create calendar object for current day\n        Calendar now = Calendar.getInstance();\n        Calendar current = Calendar.getInstance();\n        //Get difference between years\n        years = now.get(Calendar.YEAR) - birthDay.get(Calendar.YEAR);\n\n        //get months\n        int currMonth = now.get(Calendar.MONTH) + 1;\n        int birthMonth = birthDay.get(Calendar.MONTH) + 1;\n\n        //Get difference between months\n        months = currMonth - birthMonth;\n\n        //if month difference is in negative then reduce years by one and calculate the number of months.\n        if (months &lt; 0) {\n            years--;\n            months = 12 - birthMonth + currMonth;\n        } else if (months == 0 &amp;&amp; now.get(Calendar.DATE) &lt; birthDay.get(Calendar.DATE)) {\n            years--;\n            months = 11;\n        }\n\n        //Calculate the days\n        if (now.get(Calendar.DATE) &gt; birthDay.get(Calendar.DATE))\n            days = now.get(Calendar.DATE) - birthDay.get(Calendar.DATE);\n        else if (now.get(Calendar.DATE) &lt; birthDay.get(Calendar.DATE)) {\n            int today = now.get(Calendar.DAY_OF_MONTH);\n            now.add(Calendar.MONTH, -1);\n            days = now.getActualMaximum(Calendar.DAY_OF_MONTH) - birthDay.get(Calendar.DAY_OF_MONTH) + today;\n        } else {\n            days = 0;\n            if (months == 12) {\n                years++;\n                months = 0;\n            }\n        }\n    }\n\n    //Create new Age object\n    return new AgeModel(days, months, years);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4744455,"reputation":2719,"user_id":3836137,"accept_rate":40,"display_name":"Ameen Maheen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482832028,"creation_date":1482832028,"answer_id":41342770,"question_id":1116123,"body_markdown":"I use this piece of code for age calculation ,Hope this helps ..no libraries used\r\n\r\n    private static DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());\r\n\r\n    public static int calculateAge(String date) {\r\n\r\n        int age = 0;\r\n        try {\r\n            Date date1 = dateFormat.parse(date);\r\n            Calendar now = Calendar.getInstance();\r\n            Calendar dob = Calendar.getInstance();\r\n            dob.setTime(date1);\r\n            if (dob.after(now)) {\r\n                throw new IllegalArgumentException(&quot;Can&#39;t be born in the future&quot;);\r\n            }\r\n            int year1 = now.get(Calendar.YEAR);\r\n            int year2 = dob.get(Calendar.YEAR);\r\n            age = year1 - year2;\r\n            int month1 = now.get(Calendar.MONTH);\r\n            int month2 = dob.get(Calendar.MONTH);\r\n            if (month2 &gt; month1) {\r\n                age--;\r\n            } else if (month1 == month2) {\r\n                int day1 = now.get(Calendar.DAY_OF_MONTH);\r\n                int day2 = dob.get(Calendar.DAY_OF_MONTH);\r\n                if (day2 &gt; day1) {\r\n                    age--;\r\n                }\r\n            }\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return age ;\r\n    }","title":"How do I calculate someone&#39;s age in Java?","body":"<p>I use this piece of code for age calculation ,Hope this helps ..no libraries used</p>\n\n<pre><code>private static DateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\", Locale.getDefault());\n\npublic static int calculateAge(String date) {\n\n    int age = 0;\n    try {\n        Date date1 = dateFormat.parse(date);\n        Calendar now = Calendar.getInstance();\n        Calendar dob = Calendar.getInstance();\n        dob.setTime(date1);\n        if (dob.after(now)) {\n            throw new IllegalArgumentException(\"Can't be born in the future\");\n        }\n        int year1 = now.get(Calendar.YEAR);\n        int year2 = dob.get(Calendar.YEAR);\n        age = year1 - year2;\n        int month1 = now.get(Calendar.MONTH);\n        int month2 = dob.get(Calendar.MONTH);\n        if (month2 &gt; month1) {\n            age--;\n        } else if (month1 == month2) {\n            int day1 = now.get(Calendar.DAY_OF_MONTH);\n            int day2 = dob.get(Calendar.DAY_OF_MONTH);\n            if (day2 &gt; day1) {\n                age--;\n            }\n        }\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    return age ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3628170,"reputation":2794,"user_id":3060279,"accept_rate":60,"display_name":"lxknvlk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500655414,"creation_date":1500655414,"answer_id":45242763,"question_id":1116123,"body_markdown":"Easiest way without any libraries:\r\n\r\n        long today = new Date().getTime();\r\n        long diff = today - birth;\r\n        long age = diff / DateUtils.YEAR_IN_MILLIS;","title":"How do I calculate someone&#39;s age in Java?","body":"<p>Easiest way without any libraries:</p>\n\n<pre><code>    long today = new Date().getTime();\n    long diff = today - birth;\n    long age = diff / DateUtils.YEAR_IN_MILLIS;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6234457,"reputation":253,"user_id":4850199,"display_name":"Mam&#39;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523275496,"creation_date":1523275496,"answer_id":49732565,"question_id":1116123,"body_markdown":"With Java 8, we can calculate a person age with one line of code:\r\n\r\n    public int calCAge(int year, int month,int days){             \r\n        return LocalDate.now().minus(Period.of(year, month, days)).getYear();         \r\n    }","title":"How do I calculate someone&#39;s age in Java?","body":"<p>With Java 8, we can calculate a person age with one line of code:</p>\n\n<pre><code>public int calCAge(int year, int month,int days){             \n    return LocalDate.now().minus(Period.of(year, month, days)).getYear();         \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10862435,"reputation":1245,"user_id":7986915,"display_name":"Ramana V V K"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1530335338,"creation_date":1530335338,"answer_id":51111923,"question_id":1116123,"body_markdown":"I appreciate all correct answers but this is the kotlin answer for the same question\r\n\r\nI hope would be helpful to kotlin developers \r\n\r\n    fun calculateAge(birthDate: Date): Int {\r\n            val now = Date()\r\n            val timeBetween = now.getTime() - birthDate.getTime();\r\n            val yearsBetween = timeBetween / 3.15576e+10;\r\n            return Math.floor(yearsBetween).toInt()\r\n        }","title":"How do I calculate someone&#39;s age in Java?","body":"<p>I appreciate all correct answers but this is the kotlin answer for the same question</p>\n\n<p>I hope would be helpful to kotlin developers </p>\n\n<pre><code>fun calculateAge(birthDate: Date): Int {\n        val now = Date()\n        val timeBetween = now.getTime() - birthDate.getTime();\n        val yearsBetween = timeBetween / 3.15576e+10;\n        return Math.floor(yearsBetween).toInt()\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14629980,"reputation":772,"user_id":14599955,"display_name":"Tehleel Mir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644911794,"creation_date":1644911794,"answer_id":71122851,"question_id":1116123,"body_markdown":"Simple solution in kotlin.\r\n\r\n      fun getAgeOfUser(date: String?) : Int {\r\n        if(date.isNullOrEmpty()) return 0\r\n        val calendar = Calendar.getInstance()\r\n        val cYear = calendar.get(Calendar.YEAR)\r\n        val cDay = calendar.get(Calendar.DAY_OF_YEAR)\r\n\r\n        val dob = Calendar.getInstance()\r\n        dob.timeInMillis = date.toLong()\r\n        val bYear = dob.get(Calendar.YEAR)\r\n        val bDay = dob.get(Calendar.DAY_OF_YEAR)\r\n\r\n        var age = cYear - bYear\r\n        if(cDay &lt; bDay) age--\r\n        return age\r\n    }","title":"How do I calculate someone&#39;s age in Java?","body":"<p>Simple solution in kotlin.</p>\n<pre><code>  fun getAgeOfUser(date: String?) : Int {\n    if(date.isNullOrEmpty()) return 0\n    val calendar = Calendar.getInstance()\n    val cYear = calendar.get(Calendar.YEAR)\n    val cDay = calendar.get(Calendar.DAY_OF_YEAR)\n\n    val dob = Calendar.getInstance()\n    dob.timeInMillis = date.toLong()\n    val bYear = dob.get(Calendar.YEAR)\n    val bDay = dob.get(Calendar.DAY_OF_YEAR)\n\n    var age = cYear - bYear\n    if(cDay &lt; bDay) age--\n    return age\n}\n</code></pre>\n"}],"owner":{"account_id":37107,"reputation":3528,"user_id":105993,"accept_rate":67,"display_name":"nojevive"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393300,"favorite_count":0,"down_vote_count":2,"up_vote_count":173,"accepted_answer_id":1116138,"answer_count":28,"score":171,"last_activity_date":1656860249,"creation_date":1247409133,"question_id":1116123,"body_markdown":"I want to return an age in years as an int in a Java method.\r\nWhat I have now is the following where getBirthDate() returns a Date object (with the birth date ;-)):\r\n\r\n    public int getAge() {\r\n\t\tlong ageInMillis = new Date().getTime() - getBirthDate().getTime();\r\n\t\t\r\n\t\tDate age = new Date(ageInMillis);\r\n \t\t\r\n\t\treturn age.getYear();\r\n\t}\r\n\r\n    \t\t\r\nBut since getYear() is deprecated I&#39;m wondering if there is a better way to do this? I&#39;m not even sure this works correctly, since I have no unit tests in place (yet).","title":"How do I calculate someone&#39;s age in Java?","body":"<p>I want to return an age in years as an int in a Java method.\nWhat I have now is the following where getBirthDate() returns a Date object (with the birth date ;-)):</p>\n\n<pre><code>public int getAge() {\n    long ageInMillis = new Date().getTime() - getBirthDate().getTime();\n\n    Date age = new Date(ageInMillis);\n\n    return age.getYear();\n}\n</code></pre>\n\n<p>But since getYear() is deprecated I'm wondering if there is a better way to do this? I'm not even sure this works correctly, since I have no unit tests in place (yet).</p>\n"},{"tags":["java","spring-boot","hibernate","javers"],"owner":{"account_id":3821692,"reputation":31,"user_id":3169643,"display_name":"user3169643"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656860110,"creation_date":1656859320,"question_id":72847402,"body_markdown":"I&#39;m trying to model with hibernate The following legacy table:\r\n\r\n```\r\nCREATE TABLE `child` (\r\n  `parent_id` int(10) unsigned NOT NULL,\r\n  `child_name` varchar(255) NOT NULL,\r\n  `created_at` timestamp NULL DEFAULT NULL,\r\n  `updated_at` timestamp NULL DEFAULT NULL,\r\n  PRIMARY KEY (`parent_id`,`child`),\r\n  CONSTRAINT `fk_parent_id` FOREIGN KEY (`parent_id`) REFERENCES `parent` (`parent_id`)\r\n)\r\n```\r\n\r\nso each parent would have many children and all his children will have the same `parent_id` but different `child_name`\r\n\r\n```\r\n@Entity\r\nClass Parent(\r\n    @Id\r\n    int parent_id;\r\n\r\n    @OneToMany(mappedBy=&quot;parent&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    List&lt;Child&gt; childrenList\r\n)\r\n\r\n@ValueObject\r\n@Entity\r\n@IdClass(Child.ChildPK.class)\r\nClass Child(\r\n    @Id\r\n    @Column(name = &quot;parent_id&quot;)\r\n    int id;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;child&quot;)\r\n    String name;\r\n\r\n    @ShallowReference\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;parent_id&quot;, nullable = false, insertable = false, updatable = false)\r\n\t@OnDelete(action = OnDeleteAction.CASCADE)\r\n    Parent parent;\r\n) \r\n```\r\n\r\nI would like to achieve auditing when list is changed and the value that changed.\r\nUnder this setup, whenever i add a new child, i get two changes:\r\n1. initial change for new child entity(new object)\r\n2. reference change of child list.\r\n\r\nbut whenever I delete a child, only the childList is audited as list change but no &quot;TERMINAL&quot; for the child entity. \r\n\r\nwhy in some cases its possible to annotate Entites as valueObjects?\r\nhow can I achieve auditing when the child is being deleted?(im using spring boot starter)\r\n\r\nwhenever a child is added or deleted, i get a reference of childrenList, clear it then save the new list. \r\n\r\n```\r\n\tList&lt;Child&gt; childrenList = parent.getChildrenList();\r\n\tchildrenList.clear();\r\n\tchildrenList.addAll(newChildrenList); \r\n```\r\n\r\nI would appreciate the following notes:\r\n\r\n1. should I annotate Child as valueObject? \r\n  it has an Id and ValueObjects don&#39;t have it but I saw example which \r\n  is possible to annotate it as a ValueObject. why?\r\n\r\n2. In the &quot;ManyToOne&quot; - should I ignore it? \r\n3. what does is active when ignoring the id field in child besides the auditing? does it affect the javers somehow?\r\n\r\n \r\n","title":"Modeling legacy table with Hibernate and auditing with Javers","body":"<p>I'm trying to model with hibernate The following legacy table:</p>\n<pre><code>CREATE TABLE `child` (\n  `parent_id` int(10) unsigned NOT NULL,\n  `child_name` varchar(255) NOT NULL,\n  `created_at` timestamp NULL DEFAULT NULL,\n  `updated_at` timestamp NULL DEFAULT NULL,\n  PRIMARY KEY (`parent_id`,`child`),\n  CONSTRAINT `fk_parent_id` FOREIGN KEY (`parent_id`) REFERENCES `parent` (`parent_id`)\n)\n</code></pre>\n<p>so each parent would have many children and all his children will have the same <code>parent_id</code> but different <code>child_name</code></p>\n<pre><code>@Entity\nClass Parent(\n    @Id\n    int parent_id;\n\n    @OneToMany(mappedBy=&quot;parent&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\n    List&lt;Child&gt; childrenList\n)\n\n@ValueObject\n@Entity\n@IdClass(Child.ChildPK.class)\nClass Child(\n    @Id\n    @Column(name = &quot;parent_id&quot;)\n    int id;\n\n    @Id\n    @Column(name = &quot;child&quot;)\n    String name;\n\n    @ShallowReference\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parent_id&quot;, nullable = false, insertable = false, updatable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    Parent parent;\n) \n</code></pre>\n<p>I would like to achieve auditing when list is changed and the value that changed.\nUnder this setup, whenever i add a new child, i get two changes:</p>\n<ol>\n<li>initial change for new child entity(new object)</li>\n<li>reference change of child list.</li>\n</ol>\n<p>but whenever I delete a child, only the childList is audited as list change but no &quot;TERMINAL&quot; for the child entity.</p>\n<p>why in some cases its possible to annotate Entites as valueObjects?\nhow can I achieve auditing when the child is being deleted?(im using spring boot starter)</p>\n<p>whenever a child is added or deleted, i get a reference of childrenList, clear it then save the new list.</p>\n<pre><code>    List&lt;Child&gt; childrenList = parent.getChildrenList();\n    childrenList.clear();\n    childrenList.addAll(newChildrenList); \n</code></pre>\n<p>I would appreciate the following notes:</p>\n<ol>\n<li><p>should I annotate Child as valueObject?\nit has an Id and ValueObjects don't have it but I saw example which\nis possible to annotate it as a ValueObject. why?</p>\n</li>\n<li><p>In the &quot;ManyToOne&quot; - should I ignore it?</p>\n</li>\n<li><p>what does is active when ignoring the id field in child besides the auditing? does it affect the javers somehow?</p>\n</li>\n</ol>\n"},{"tags":["java","performance","algorithm","java-8"],"comments":[{"owner":{"account_id":1071587,"reputation":313,"user_id":1070698,"display_name":"cksharma"},"score":0,"creation_date":1421164456,"post_id":27925954,"comment_id":44249266,"body_markdown":"The results [here](http://stackoverflow.com/questions/16635398/java-8-iterable-foreach-vs-foreach-loop/25855691#25855691) are calculated for on Collections (list) not on primitives. Primitives doesn&#39;t have something like list.forEach((i) -&gt; doIt(i)); , instead we have to use Arrays utility. For Collections, Java streaming, parallelism and reduction is faster than iteration. I am still doubtful how come for primitives the streaming result is slower than normal iteration.\n\nAnd leetcode tests my solution against huge data sets.","body":"The results <a href=\"http://stackoverflow.com/questions/16635398/java-8-iterable-foreach-vs-foreach-loop/25855691#25855691\">here</a> are calculated for on Collections (list) not on primitives. Primitives doesn&#39;t have something like list.forEach((i) -&gt; doIt(i)); , instead we have to use Arrays utility. For Collections, Java streaming, parallelism and reduction is faster than iteration. I am still doubtful how come for primitives the streaming result is slower than normal iteration.  And leetcode tests my solution against huge data sets."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1421166325,"creation_date":1421166325,"answer_id":27926780,"question_id":27925954,"body_markdown":"The normal iteration approach is going to be pretty much as fast as anything can be, but streams have a variety of overheads: even though it&#39;s coming directly from a stream, there&#39;s probably going to be a primitive `Spliterator` involved and lots of other objects being generated.\r\n\r\nIn general, you should expect the &quot;normal approach&quot; to _usually_ be faster than streams unless you&#39;re both using parallelization _and_ your data is very large.","title":"Is Arrays.stream(array_name).sum() slower than iterative approach?","body":"<p>The normal iteration approach is going to be pretty much as fast as anything can be, but streams have a variety of overheads: even though it's coming directly from a stream, there's probably going to be a primitive <code>Spliterator</code> involved and lots of other objects being generated.</p>\n\n<p>In general, you should expect the \"normal approach\" to <em>usually</em> be faster than streams unless you're both using parallelization <em>and</em> your data is very large.</p>\n"},{"tags":[],"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421380160,"creation_date":1421213181,"answer_id":27936356,"question_id":27925954,"body_markdown":"The sum() method is syntactically equivalent to `return reduce(0, Integer::sum);` In a large list, there will be more overhead in making all the method calls than the basic by-hand for-loop iteration. The byte code for the `for(int i : numbers)` iteration is only very slightly more complicated than that generated by the by-hand for-loop. The stream operation is possibly faster in parallel-friendly environments (though maybe not for primitive methods), but unless we know that the environment is parallel-friendly (and it may not be since leetcode itself is probably designed to favor low-level over abstract since it&#39;s measuring efficiency rather than legibility).\r\n\r\nThe sum operation done in any of the three ways (`Arrays.stream(int[]).sum`, `for (int i : ints){total+=i;}`, and `for(int i = 0; i &lt; ints.length; i++){total+=i;}` should be relatively similar in efficiency. I used the following test class (which sums a hundred million integers between 0 and 4096 a hundred times each and records the average times). All of them returned in very similar timeframes. It even attempts to limit parallel processing by occupying all but one of the available cores in while(true) loops, but I still found no particular difference:\r\n\r\n\tpublic class SumTester {\r\n\t\tprivate static final int ARRAY_SIZE = 100_000_000;\r\n\t\tprivate static final int ITERATION_LIMIT = 100;\r\n\t\tprivate static final int INT_VALUE_LIMIT = 4096;\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tRandom random = new Random();\r\n\t\t\tint[] numbers = new int[ARRAY_SIZE];\r\n\t\t\tIntStream.range(0, ARRAY_SIZE).forEach(i-&gt;numbers[i] = random.nextInt(INT_VALUE_LIMIT));\r\n\r\n\t\t\tMap&lt;String, ToLongFunction&lt;int[]&gt;&gt; inputs = new HashMap&lt;String, ToLongFunction&lt;int[]&gt;&gt;();\r\n\r\n\t\t\tNanoTimer initializer = NanoTimer.start();\r\n\t\t\tSystem.out.println(&quot;initialized NanoTimer in &quot; + initializer.microEnd() + &quot; microseconds&quot;);\r\n\r\n\t\t\tinputs.put(&quot;sumByStream&quot;, SumTester::sumByStream);\r\n\t\t\tinputs.put(&quot;sumByIteration&quot;, SumTester::sumByIteration);\r\n\t\t\tinputs.put(&quot;sumByForLoop&quot;, SumTester::sumByForLoop);\r\n\r\n\t\t\tSystem.out.println(&quot;Parallelables: &quot;);\r\n\t\t\taverageTimeFor(ITERATION_LIMIT, inputs, Arrays.copyOf(numbers, numbers.length));\r\n\r\n\t\t\tint cores = Runtime.getRuntime().availableProcessors();\r\n\t\t\tList&lt;CancelableThreadEater&gt; threadEaters = new ArrayList&lt;CancelableThreadEater&gt;();\r\n\t\t\tif (cores &gt; 1){\r\n\t\t\t\tthreadEaters = occupyThreads(cores - 1);\r\n\t\t\t}\r\n\t\t\t// Only one core should be left to our class\r\n\t\t\tSystem.out.println(&quot;\\nSingleCore (&quot; + threadEaters.size() + &quot; of &quot; + cores + &quot; cores occupied)&quot;);\r\n\t\t\taverageTimeFor(ITERATION_LIMIT, inputs, Arrays.copyOf(numbers, numbers.length));\r\n\t\t\tfor (CancelableThreadEater cte : threadEaters){\r\n\t\t\t\tcte.end();\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Complete!&quot;);\r\n\t\t}\r\n\r\n\t\tpublic static long sumByStream(int[] numbers){\r\n\t\t\treturn Arrays.stream(numbers).sum();\r\n\t\t}\r\n\r\n\t\tpublic static long sumByIteration(int[] numbers){\r\n\t\t\tint total = 0;\r\n\t\t\tfor (int i : numbers){\r\n\t\t\t\ttotal += i;\r\n\t\t\t}\r\n\t\t\treturn total;\r\n\t\t}\r\n\r\n\t\tpublic static long sumByForLoop(int[] numbers){\r\n\t\t\tint total = 0;\r\n\t\t\tfor (int i = 0; i &lt; numbers.length; i++){\r\n\t\t\t\ttotal += numbers[i];\r\n\t\t\t}\r\n\t\t\treturn total;\t\t\r\n\t\t}\r\n\r\n\t\tpublic static void averageTimeFor(int iterations, Map&lt;String, ToLongFunction&lt;int[]&gt;&gt; testMap, int[] numbers){\r\n\t\t\tMap&lt;String, Long&gt; durationMap = new HashMap&lt;String, Long&gt;();\r\n\t\t\tMap&lt;String, Long&gt; sumMap = new HashMap&lt;String, Long&gt;();\r\n\t\t\tfor (String methodName : testMap.keySet()){\r\n\t\t\t\tdurationMap.put(methodName, 0L);\r\n\t\t\t\tsumMap.put(methodName, 0L);\r\n\t\t\t}\r\n\t\t\tfor (int i = 0; i &lt; iterations; i++){\r\n\t\t\t\tfor (String methodName : testMap.keySet()){\r\n\t\t\t\t\tint[] newNumbers = Arrays.copyOf(numbers, ARRAY_SIZE);\r\n\t\t\t\t\tToLongFunction&lt;int[]&gt; function = testMap.get(methodName);\r\n\t\t\t\t\tNanoTimer nt = NanoTimer.start();\r\n\t\t\t\t\tlong sum = function.applyAsLong(newNumbers);\r\n\t\t\t\t\tlong duration = nt.microEnd();\r\n\t\t\t\t\tsumMap.put(methodName, sum);\r\n\t\t\t\t\tdurationMap.put(methodName, durationMap.get(methodName) + duration);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (String methodName : testMap.keySet()){\r\n\t\t\t\tlong duration = durationMap.get(methodName) / iterations;\r\n\t\t\t\tlong sum = sumMap.get(methodName);\r\n\t\t\t\tSystem.out.println(methodName + &quot;: result &#39;&quot; + sum + &quot;&#39;, elapsed time: &quot; + duration + &quot; milliseconds on average over &quot; + iterations + &quot; iterations&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate static List&lt;CancelableThreadEater&gt; occupyThreads(int numThreads){\r\n\t\t\tList&lt;CancelableThreadEater&gt; result = new ArrayList&lt;CancelableThreadEater&gt;();\r\n\t\t\tfor (int i = 0; i &lt; numThreads; i++){\r\n\t\t\t\tCancelableThreadEater cte = new CancelableThreadEater();\r\n\t\t\t\tresult.add(cte);\r\n\t\t\t\tnew Thread(cte).start();\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tprivate  static class CancelableThreadEater implements Runnable {\r\n\t\t\tprivate Boolean stop = false;\r\n\t\t\tpublic void run(){\r\n\t\t\t\tboolean canContinue = true;\r\n\t\t\t\twhile (canContinue){\r\n\t\t\t\t\tsynchronized(stop){\r\n\t\t\t\t\t\tif (stop){\r\n\t\t\t\t\t\t\tcanContinue = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tpublic void end(){\r\n\t\t\t\tsynchronized(stop){\r\n\t\t\t\t\tstop = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\nwhich returned \r\n\r\n\tinitialized NanoTimer in 22 microseconds\r\n\tParallelables: \r\n\tsumByIteration: result &#39;-1413860413&#39;, elapsed time: 35844 milliseconds on average over 100 iterations\r\n\tsumByStream: result &#39;-1413860413&#39;, elapsed time: 35414 milliseconds on average over 100 iterations\r\n\tsumByForLoop: result &#39;-1413860413&#39;, elapsed time: 35218 milliseconds on average over 100 iterations\r\n\r\n\tSingleCore (3 of 4 cores occupied)\r\n\tsumByIteration: result &#39;-1413860413&#39;, elapsed time: 37010 milliseconds on average over 100 iterations\r\n\tsumByStream: result &#39;-1413860413&#39;, elapsed time: 38375 milliseconds on average over 100 iterations\r\n\tsumByForLoop: result &#39;-1413860413&#39;, elapsed time: 37990 milliseconds on average over 100 iterations\r\n\tComplete!\r\n\r\nThat said, there&#39;s no real reason to do the sum() operation in this case. You are iterating through each array, for a total of three iterations and the last one may be a longer-than-normal iteration. It&#39;s possible to calculate correctly with one full simultaneous iteration of the arrays and one short-circuiting iteration. It may be possible to do it even more efficiently, but I couldn&#39;t figure out any better way to do it than I did. My solution ended up being one of the fastest java solutions on the chart - it ran in 223ms, which was in amongst the middle pack of python solutions.\r\n\r\nI&#39;ll add my solution to the problem if you care to see it, but I hope the actual question is answered here.","title":"Is Arrays.stream(array_name).sum() slower than iterative approach?","body":"<p>The sum() method is syntactically equivalent to <code>return reduce(0, Integer::sum);</code> In a large list, there will be more overhead in making all the method calls than the basic by-hand for-loop iteration. The byte code for the <code>for(int i : numbers)</code> iteration is only very slightly more complicated than that generated by the by-hand for-loop. The stream operation is possibly faster in parallel-friendly environments (though maybe not for primitive methods), but unless we know that the environment is parallel-friendly (and it may not be since leetcode itself is probably designed to favor low-level over abstract since it's measuring efficiency rather than legibility).</p>\n\n<p>The sum operation done in any of the three ways (<code>Arrays.stream(int[]).sum</code>, <code>for (int i : ints){total+=i;}</code>, and <code>for(int i = 0; i &lt; ints.length; i++){total+=i;}</code> should be relatively similar in efficiency. I used the following test class (which sums a hundred million integers between 0 and 4096 a hundred times each and records the average times). All of them returned in very similar timeframes. It even attempts to limit parallel processing by occupying all but one of the available cores in while(true) loops, but I still found no particular difference:</p>\n\n<pre><code>public class SumTester {\n    private static final int ARRAY_SIZE = 100_000_000;\n    private static final int ITERATION_LIMIT = 100;\n    private static final int INT_VALUE_LIMIT = 4096;\n\n    public static void main(String[] args) {\n        Random random = new Random();\n        int[] numbers = new int[ARRAY_SIZE];\n        IntStream.range(0, ARRAY_SIZE).forEach(i-&gt;numbers[i] = random.nextInt(INT_VALUE_LIMIT));\n\n        Map&lt;String, ToLongFunction&lt;int[]&gt;&gt; inputs = new HashMap&lt;String, ToLongFunction&lt;int[]&gt;&gt;();\n\n        NanoTimer initializer = NanoTimer.start();\n        System.out.println(\"initialized NanoTimer in \" + initializer.microEnd() + \" microseconds\");\n\n        inputs.put(\"sumByStream\", SumTester::sumByStream);\n        inputs.put(\"sumByIteration\", SumTester::sumByIteration);\n        inputs.put(\"sumByForLoop\", SumTester::sumByForLoop);\n\n        System.out.println(\"Parallelables: \");\n        averageTimeFor(ITERATION_LIMIT, inputs, Arrays.copyOf(numbers, numbers.length));\n\n        int cores = Runtime.getRuntime().availableProcessors();\n        List&lt;CancelableThreadEater&gt; threadEaters = new ArrayList&lt;CancelableThreadEater&gt;();\n        if (cores &gt; 1){\n            threadEaters = occupyThreads(cores - 1);\n        }\n        // Only one core should be left to our class\n        System.out.println(\"\\nSingleCore (\" + threadEaters.size() + \" of \" + cores + \" cores occupied)\");\n        averageTimeFor(ITERATION_LIMIT, inputs, Arrays.copyOf(numbers, numbers.length));\n        for (CancelableThreadEater cte : threadEaters){\n            cte.end();\n        }\n        System.out.println(\"Complete!\");\n    }\n\n    public static long sumByStream(int[] numbers){\n        return Arrays.stream(numbers).sum();\n    }\n\n    public static long sumByIteration(int[] numbers){\n        int total = 0;\n        for (int i : numbers){\n            total += i;\n        }\n        return total;\n    }\n\n    public static long sumByForLoop(int[] numbers){\n        int total = 0;\n        for (int i = 0; i &lt; numbers.length; i++){\n            total += numbers[i];\n        }\n        return total;       \n    }\n\n    public static void averageTimeFor(int iterations, Map&lt;String, ToLongFunction&lt;int[]&gt;&gt; testMap, int[] numbers){\n        Map&lt;String, Long&gt; durationMap = new HashMap&lt;String, Long&gt;();\n        Map&lt;String, Long&gt; sumMap = new HashMap&lt;String, Long&gt;();\n        for (String methodName : testMap.keySet()){\n            durationMap.put(methodName, 0L);\n            sumMap.put(methodName, 0L);\n        }\n        for (int i = 0; i &lt; iterations; i++){\n            for (String methodName : testMap.keySet()){\n                int[] newNumbers = Arrays.copyOf(numbers, ARRAY_SIZE);\n                ToLongFunction&lt;int[]&gt; function = testMap.get(methodName);\n                NanoTimer nt = NanoTimer.start();\n                long sum = function.applyAsLong(newNumbers);\n                long duration = nt.microEnd();\n                sumMap.put(methodName, sum);\n                durationMap.put(methodName, durationMap.get(methodName) + duration);\n            }\n        }\n        for (String methodName : testMap.keySet()){\n            long duration = durationMap.get(methodName) / iterations;\n            long sum = sumMap.get(methodName);\n            System.out.println(methodName + \": result '\" + sum + \"', elapsed time: \" + duration + \" milliseconds on average over \" + iterations + \" iterations\");\n        }\n    }\n\n    private static List&lt;CancelableThreadEater&gt; occupyThreads(int numThreads){\n        List&lt;CancelableThreadEater&gt; result = new ArrayList&lt;CancelableThreadEater&gt;();\n        for (int i = 0; i &lt; numThreads; i++){\n            CancelableThreadEater cte = new CancelableThreadEater();\n            result.add(cte);\n            new Thread(cte).start();\n        }\n        return result;\n    }\n\n    private  static class CancelableThreadEater implements Runnable {\n        private Boolean stop = false;\n        public void run(){\n            boolean canContinue = true;\n            while (canContinue){\n                synchronized(stop){\n                    if (stop){\n                        canContinue = false;\n                    }\n                }\n            }           \n        }\n\n        public void end(){\n            synchronized(stop){\n                stop = true;\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>which returned </p>\n\n<pre><code>initialized NanoTimer in 22 microseconds\nParallelables: \nsumByIteration: result '-1413860413', elapsed time: 35844 milliseconds on average over 100 iterations\nsumByStream: result '-1413860413', elapsed time: 35414 milliseconds on average over 100 iterations\nsumByForLoop: result '-1413860413', elapsed time: 35218 milliseconds on average over 100 iterations\n\nSingleCore (3 of 4 cores occupied)\nsumByIteration: result '-1413860413', elapsed time: 37010 milliseconds on average over 100 iterations\nsumByStream: result '-1413860413', elapsed time: 38375 milliseconds on average over 100 iterations\nsumByForLoop: result '-1413860413', elapsed time: 37990 milliseconds on average over 100 iterations\nComplete!\n</code></pre>\n\n<p>That said, there's no real reason to do the sum() operation in this case. You are iterating through each array, for a total of three iterations and the last one may be a longer-than-normal iteration. It's possible to calculate correctly with one full simultaneous iteration of the arrays and one short-circuiting iteration. It may be possible to do it even more efficiently, but I couldn't figure out any better way to do it than I did. My solution ended up being one of the fastest java solutions on the chart - it ran in 223ms, which was in amongst the middle pack of python solutions.</p>\n\n<p>I'll add my solution to the problem if you care to see it, but I hope the actual question is answered here.</p>\n"},{"tags":[],"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421290515,"creation_date":1421290515,"answer_id":27956102,"question_id":27925954,"body_markdown":"My benchmark (see code below) shows that streaming approach is about 10-15% slower than iterative. Interestingly enough, parallel stream results vary greatly on my 4 core (i7) macbook pro, but, while I have seen a them a few times being about  30% faster than iterative, the most common result is almost three times  **slower** than sequential. \r\n\r\nHere is the benchmark code: \r\n\r\n    import java.util.*;\r\n    import java.util.function.*;\r\n\r\n    public class StreamingBenchmark {\r\n\r\n        private static void benchmark(String name, LongSupplier f) {\r\n           long start = System.currentTimeMillis(), sum = 0;\r\n           for(int count = 0; count &lt; 1000; count ++) sum += f.getAsLong();\r\n           System.out.println(String.format(\r\n               &quot;%10s in  %d millis. Sum = %d&quot;, \r\n                name, System.currentTimeMillis() - start, sum\r\n           ));\r\n        }\r\n\r\n        public static void main(String argv[]) {\r\n            int data[] = new int[1000000];\r\n            Random randy = new Random();\r\n            for(int i = 0; i &lt; data.length; i++) data[i] = randy.nextInt();\r\n\r\n            benchmark(&quot;iterative&quot;, () -&gt; { int s = 0; for(int n: data) s+=n; return s; });\r\n            benchmark(&quot;stream&quot;, () -&gt; Arrays.stream(data).sum());\r\n            benchmark(&quot;parallel&quot;, () -&gt; Arrays.stream(data).parallel().sum());\r\n\r\n        }\r\n    }\r\n\r\n\r\nHere is the output from a few runs:\r\n\r\n     iterative in  350 millis. Sum = 564821058000\r\n     stream in  394 millis. Sum = 564821058000\r\n     parallel in  883 millis. Sum = 564821058000\r\n\r\n     iterative in  340 millis. Sum = -295411382000\r\n     stream in  376 millis. Sum = -295411382000\r\n     parallel in  1031 millis. Sum = -295411382000\r\n\r\n     iterative in  365 millis. Sum = 1205763898000\r\n     stream in  379 millis. Sum = 1205763898000\r\n     parallel in  1053 millis. Sum = 1205763898000\r\n\r\netc.\r\n\r\n\r\nThis got me curious, and I also tried running equivalent logic in scala: \r\n\r\n    object Scarr {\r\n        def main(argv: Array[String]) = {\r\n            val randy = new java.util.Random\r\n            val data = (1 to 1000000).map { _ =&gt; randy.nextInt }.toArray\r\n            val start = System.currentTimeMillis\r\n            var sum = 0l;\r\n            for ( _ &lt;- 1 to 1000 ) sum += data.sum\r\n            println(sum + &quot; in &quot; + (System.currentTimeMillis - start) + &quot; millis.&quot;)\r\n\r\n        }\r\n    }\r\n\r\nThis took *14 seconds*! About 40 times(!) longer than streaming in java. Ouch!","title":"Is Arrays.stream(array_name).sum() slower than iterative approach?","body":"<p>My benchmark (see code below) shows that streaming approach is about 10-15% slower than iterative. Interestingly enough, parallel stream results vary greatly on my 4 core (i7) macbook pro, but, while I have seen a them a few times being about  30% faster than iterative, the most common result is almost three times  <strong>slower</strong> than sequential. </p>\n\n<p>Here is the benchmark code: </p>\n\n<pre><code>import java.util.*;\nimport java.util.function.*;\n\npublic class StreamingBenchmark {\n\n    private static void benchmark(String name, LongSupplier f) {\n       long start = System.currentTimeMillis(), sum = 0;\n       for(int count = 0; count &lt; 1000; count ++) sum += f.getAsLong();\n       System.out.println(String.format(\n           \"%10s in  %d millis. Sum = %d\", \n            name, System.currentTimeMillis() - start, sum\n       ));\n    }\n\n    public static void main(String argv[]) {\n        int data[] = new int[1000000];\n        Random randy = new Random();\n        for(int i = 0; i &lt; data.length; i++) data[i] = randy.nextInt();\n\n        benchmark(\"iterative\", () -&gt; { int s = 0; for(int n: data) s+=n; return s; });\n        benchmark(\"stream\", () -&gt; Arrays.stream(data).sum());\n        benchmark(\"parallel\", () -&gt; Arrays.stream(data).parallel().sum());\n\n    }\n}\n</code></pre>\n\n<p>Here is the output from a few runs:</p>\n\n<pre><code> iterative in  350 millis. Sum = 564821058000\n stream in  394 millis. Sum = 564821058000\n parallel in  883 millis. Sum = 564821058000\n\n iterative in  340 millis. Sum = -295411382000\n stream in  376 millis. Sum = -295411382000\n parallel in  1031 millis. Sum = -295411382000\n\n iterative in  365 millis. Sum = 1205763898000\n stream in  379 millis. Sum = 1205763898000\n parallel in  1053 millis. Sum = 1205763898000\n</code></pre>\n\n<p>etc.</p>\n\n<p>This got me curious, and I also tried running equivalent logic in scala: </p>\n\n<pre><code>object Scarr {\n    def main(argv: Array[String]) = {\n        val randy = new java.util.Random\n        val data = (1 to 1000000).map { _ =&gt; randy.nextInt }.toArray\n        val start = System.currentTimeMillis\n        var sum = 0l;\n        for ( _ &lt;- 1 to 1000 ) sum += data.sum\n        println(sum + \" in \" + (System.currentTimeMillis - start) + \" millis.\")\n\n    }\n}\n</code></pre>\n\n<p>This took <em>14 seconds</em>! About 40 times(!) longer than streaming in java. Ouch!</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1476756334,"creation_date":1421448885,"answer_id":27994074,"question_id":27925954,"body_markdown":"The first step in dealing with problems like this is to bring the code into a controlled environment. That means running it in the JVM you control (and can invoke) and running tests inside a good benchmark harness like [JMH][1]. Analyze, don&#39;t speculate.\r\n\r\nHere&#39;s a benchmark I whipped up using JMH to do some analysis on this:\r\n\r\n    @BenchmarkMode(Mode.AverageTime)\r\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n    @State(Scope.Benchmark)\r\n    public class ArraySum {\r\n        static final long SEED = -897234L;\r\n\r\n        @Param({&quot;1000000&quot;})\r\n        int sz;\r\n\r\n        int[] array;\r\n\r\n        @Setup\r\n        public void setup() {\r\n            Random random = new Random(SEED);\r\n            array = new int[sz];\r\n            Arrays.setAll(array, i -&gt; random.nextInt());\r\n        }\r\n\r\n        @Benchmark\r\n        public int sumForLoop() {\r\n            int sum = 0;\r\n            for (int a : array)\r\n                sum += a;\r\n            return sum;\r\n        }\r\n\r\n        @Benchmark\r\n        public int sumStream() {\r\n            return Arrays.stream(array).sum();\r\n        }\r\n    }\r\n\r\nBasically this creates an array of a million ints and sums them twice: once using a for-loop and once using streams. Running the benchmark produces a bunch of output (elided for brevity and for dramatic effect) but the summary results are below:\r\n\r\n    Benchmark                 (sz)  Mode  Samples     Score  Score error  Units\r\n    ArraySum.sumForLoop    1000000  avgt        3   514.473      398.512  us/op\r\n    ArraySum.sumStream     1000000  avgt        3  7355.971     3170.697  us/op\r\n\r\n***Whoa! That Java 8 streams stuff is teh SUXX0R! It&#39;s 14 times slower than a for-loop, don&#39;t use it!!!1!***\r\n\r\nWell, no. First let&#39;s go over these results, and then look more closely to see if we can figure out what&#39;s going on.\r\n\r\nThe summary shows the two benchmark methods, with the &quot;sz&quot; parameter of a million. It&#39;s possible to vary this parameter but it doesn&#39;t turn out to make a difference in this case. I also only ran the benchmark methods 3 times, as you can see from the &quot;samples&quot; column. (There were also only 3 warmup iterations, not visible here.) The score is in microseconds per operation, and clearly the stream code is much, much slower than the for-loop code. But note also the score error: that&#39;s the amount of variability in the different runs. JMH helpfully prints out the standard deviation of the results (not shown here) but you can easily see that the score error is a significant fraction of reported score. This reduces our confidence in the score.\r\n\r\nRunning more iterations should help. More warmup iterations will let the JIT do more work and settle down before running the benchmarks, and running more benchmark iterations will smooth out any errors from transient activity elsewhere on my system. So let&#39;s try 10 warmup iterations and 10 benchmark iterations:\r\n\r\n    Benchmark                 (sz)  Mode  Samples     Score  Score error  Units\r\n    ArraySum.sumForLoop    1000000  avgt       10   504.803       34.010  us/op\r\n    ArraySum.sumStream     1000000  avgt       10  7128.942      178.688  us/op\r\n\r\nPerformance is overall a little faster, and the measurement error is also quite a bit smaller, so running more iterations has had the desired effect. But the streams code is still considerably slower than the for-loop code. What&#39;s going on?\r\n\r\nA large clue can be obtained by looking at the individual timings of the streams method:\r\n\r\n    # Warmup Iteration   1: 570.490 us/op\r\n    # Warmup Iteration   2: 491.765 us/op\r\n    # Warmup Iteration   3: 756.951 us/op\r\n    # Warmup Iteration   4: 7033.500 us/op\r\n    # Warmup Iteration   5: 7350.080 us/op\r\n    # Warmup Iteration   6: 7425.829 us/op\r\n    # Warmup Iteration   7: 7029.441 us/op\r\n    # Warmup Iteration   8: 7208.584 us/op\r\n    # Warmup Iteration   9: 7104.160 us/op\r\n    # Warmup Iteration  10: 7372.298 us/op\r\n\r\nWhat happened? The first few iterations were reasonably fast, but then the 4th and subsequent iterations (and all the benchmark iterations that follow) were suddenly much slower.\r\n\r\nI&#39;ve seen this before. It was in [this question][2] and [this answer][3] elsewhere on SO. I recommend reading that answer; it explains how the JVM&#39;s inlining decisions in this case result in poorer performance.\r\n\r\nA bit of background here: a for-loop compiles to a very simple increment-and-test loop, and can easily be handled by usual optimization techniques like loop peeling and unrolling. The streams code, while not very complex in this case, is actually quite complex compared to the for-loop code; there&#39;s a fair bit of setup, and each loop requires at least one method call. Thus, the JIT optimizations, particularly its inlining decisions, are critical to making the streams code go fast. And it&#39;s possible for it to go wrong.\r\n\r\nAnother background point is that integer summation is about the simplest possible operation you can think of to do in a loop or stream. This will tend to make the fixed overhead of stream setup look relatively more expensive. It is also so simple that it can trigger pathologies in the inlining policy.\r\n\r\nThe suggestion from the other answer was to add the JVM option `-XX:MaxInlineLevel=12` to increase the amount of code that can be inlined. Rerunning the benchmark with that option gives:\r\n\r\n    Benchmark                 (sz)  Mode  Samples    Score  Score error  Units\r\n    ArraySum.sumForLoop    1000000  avgt       10  502.379       27.859  us/op\r\n    ArraySum.sumStream     1000000  avgt       10  498.572       24.195  us/op\r\n\r\nAh, much nicer. Disabling tiered compilation using `-XX:-TieredCompilation` also had the effect of avoiding the pathological behavior. I also found that making the loop computation even a bit more expensive, e.g. summing squares of integers -- that is, adding a single multiply -- also avoids the pathological behavior.\r\n\r\nNow, your question is about running in the context of the `leetcode` environment, which seems to run the code in a JVM that you don&#39;t have any control over, so you can&#39;t change the inlining or compilation options. And you probably don&#39;t want to make your computation more complex to avoid the pathology either. So for this case, you might as well just stick to the good old for-loop. But don&#39;t be afraid to use streams, even for dealing with primitive arrays. It can perform quite well, aside from some narrow edge cases.\r\n\r\n  [1]: http://openjdk.java.net/projects/code-tools/jmh/\r\n  [2]: https://stackoverflow.com/questions/25847397/erratic-performance-of-arrays-stream-map-sum\r\n  [3]: https://stackoverflow.com/a/25851390/1441122","title":"Is Arrays.stream(array_name).sum() slower than iterative approach?","body":"<p>The first step in dealing with problems like this is to bring the code into a controlled environment. That means running it in the JVM you control (and can invoke) and running tests inside a good benchmark harness like <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">JMH</a>. Analyze, don't speculate.</p>\n\n<p>Here's a benchmark I whipped up using JMH to do some analysis on this:</p>\n\n<pre><code>@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MICROSECONDS)\n@State(Scope.Benchmark)\npublic class ArraySum {\n    static final long SEED = -897234L;\n\n    @Param({\"1000000\"})\n    int sz;\n\n    int[] array;\n\n    @Setup\n    public void setup() {\n        Random random = new Random(SEED);\n        array = new int[sz];\n        Arrays.setAll(array, i -&gt; random.nextInt());\n    }\n\n    @Benchmark\n    public int sumForLoop() {\n        int sum = 0;\n        for (int a : array)\n            sum += a;\n        return sum;\n    }\n\n    @Benchmark\n    public int sumStream() {\n        return Arrays.stream(array).sum();\n    }\n}\n</code></pre>\n\n<p>Basically this creates an array of a million ints and sums them twice: once using a for-loop and once using streams. Running the benchmark produces a bunch of output (elided for brevity and for dramatic effect) but the summary results are below:</p>\n\n<pre><code>Benchmark                 (sz)  Mode  Samples     Score  Score error  Units\nArraySum.sumForLoop    1000000  avgt        3   514.473      398.512  us/op\nArraySum.sumStream     1000000  avgt        3  7355.971     3170.697  us/op\n</code></pre>\n\n<p><strong><em>Whoa! That Java 8 streams stuff is teh SUXX0R! It's 14 times slower than a for-loop, don't use it!!!1!</em></strong></p>\n\n<p>Well, no. First let's go over these results, and then look more closely to see if we can figure out what's going on.</p>\n\n<p>The summary shows the two benchmark methods, with the \"sz\" parameter of a million. It's possible to vary this parameter but it doesn't turn out to make a difference in this case. I also only ran the benchmark methods 3 times, as you can see from the \"samples\" column. (There were also only 3 warmup iterations, not visible here.) The score is in microseconds per operation, and clearly the stream code is much, much slower than the for-loop code. But note also the score error: that's the amount of variability in the different runs. JMH helpfully prints out the standard deviation of the results (not shown here) but you can easily see that the score error is a significant fraction of reported score. This reduces our confidence in the score.</p>\n\n<p>Running more iterations should help. More warmup iterations will let the JIT do more work and settle down before running the benchmarks, and running more benchmark iterations will smooth out any errors from transient activity elsewhere on my system. So let's try 10 warmup iterations and 10 benchmark iterations:</p>\n\n<pre><code>Benchmark                 (sz)  Mode  Samples     Score  Score error  Units\nArraySum.sumForLoop    1000000  avgt       10   504.803       34.010  us/op\nArraySum.sumStream     1000000  avgt       10  7128.942      178.688  us/op\n</code></pre>\n\n<p>Performance is overall a little faster, and the measurement error is also quite a bit smaller, so running more iterations has had the desired effect. But the streams code is still considerably slower than the for-loop code. What's going on?</p>\n\n<p>A large clue can be obtained by looking at the individual timings of the streams method:</p>\n\n<pre><code># Warmup Iteration   1: 570.490 us/op\n# Warmup Iteration   2: 491.765 us/op\n# Warmup Iteration   3: 756.951 us/op\n# Warmup Iteration   4: 7033.500 us/op\n# Warmup Iteration   5: 7350.080 us/op\n# Warmup Iteration   6: 7425.829 us/op\n# Warmup Iteration   7: 7029.441 us/op\n# Warmup Iteration   8: 7208.584 us/op\n# Warmup Iteration   9: 7104.160 us/op\n# Warmup Iteration  10: 7372.298 us/op\n</code></pre>\n\n<p>What happened? The first few iterations were reasonably fast, but then the 4th and subsequent iterations (and all the benchmark iterations that follow) were suddenly much slower.</p>\n\n<p>I've seen this before. It was in <a href=\"https://stackoverflow.com/questions/25847397/erratic-performance-of-arrays-stream-map-sum\">this question</a> and <a href=\"https://stackoverflow.com/a/25851390/1441122\">this answer</a> elsewhere on SO. I recommend reading that answer; it explains how the JVM's inlining decisions in this case result in poorer performance.</p>\n\n<p>A bit of background here: a for-loop compiles to a very simple increment-and-test loop, and can easily be handled by usual optimization techniques like loop peeling and unrolling. The streams code, while not very complex in this case, is actually quite complex compared to the for-loop code; there's a fair bit of setup, and each loop requires at least one method call. Thus, the JIT optimizations, particularly its inlining decisions, are critical to making the streams code go fast. And it's possible for it to go wrong.</p>\n\n<p>Another background point is that integer summation is about the simplest possible operation you can think of to do in a loop or stream. This will tend to make the fixed overhead of stream setup look relatively more expensive. It is also so simple that it can trigger pathologies in the inlining policy.</p>\n\n<p>The suggestion from the other answer was to add the JVM option <code>-XX:MaxInlineLevel=12</code> to increase the amount of code that can be inlined. Rerunning the benchmark with that option gives:</p>\n\n<pre><code>Benchmark                 (sz)  Mode  Samples    Score  Score error  Units\nArraySum.sumForLoop    1000000  avgt       10  502.379       27.859  us/op\nArraySum.sumStream     1000000  avgt       10  498.572       24.195  us/op\n</code></pre>\n\n<p>Ah, much nicer. Disabling tiered compilation using <code>-XX:-TieredCompilation</code> also had the effect of avoiding the pathological behavior. I also found that making the loop computation even a bit more expensive, e.g. summing squares of integers -- that is, adding a single multiply -- also avoids the pathological behavior.</p>\n\n<p>Now, your question is about running in the context of the <code>leetcode</code> environment, which seems to run the code in a JVM that you don't have any control over, so you can't change the inlining or compilation options. And you probably don't want to make your computation more complex to avoid the pathology either. So for this case, you might as well just stick to the good old for-loop. But don't be afraid to use streams, even for dealing with primitive arrays. It can perform quite well, aside from some narrow edge cases.</p>\n"},{"tags":[],"owner":{"account_id":8220479,"reputation":615,"user_id":6185191,"display_name":"Neel Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600244165,"creation_date":1600243790,"answer_id":63915755,"question_id":27925954,"body_markdown":"Stream function is relatively slow. So during leetcode contest or any algorithms contest, always prefer classic loops over stream functions as large inputs are prone to TLE. This can in turn cause penality, which would affect your final ranking.\r\nA detailed explanation is mentioned here https://stackoverflow.com/a/27994074/6185191 \r\n\r\n\r\n","title":"Is Arrays.stream(array_name).sum() slower than iterative approach?","body":"<p>Stream function is relatively slow. So during leetcode contest or any algorithms contest, always prefer classic loops over stream functions as large inputs are prone to TLE. This can in turn cause penality, which would affect your final ranking.\nA detailed explanation is mentioned here <a href=\"https://stackoverflow.com/a/27994074/6185191\">https://stackoverflow.com/a/27994074/6185191</a></p>\n"},{"tags":[],"owner":{"account_id":22617830,"reputation":177,"user_id":16797104,"display_name":"kxnyshk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656859313,"creation_date":1656858783,"answer_id":72847321,"question_id":27925954,"body_markdown":"I also came across this issue while doing this pretty basic LeetCode [problem][1]. The first code that I submitted used Java Stream API&#39;s **Arrays.stream().sum()** to compute the Array sum, which gave a **time of 6ms**. \r\n\r\nWhile the **classic for loop** just took  a **time of 1ms** to iterate through the same array. Now that&#39;s insane! The Stream API method, takes atleast **6x  the time**, than your simple for loop. So yeah! always go with the simpler and classic method.\r\n\r\n\r\n  [1]: https://leetcode.com/problems/missing-number/","title":"Is Arrays.stream(array_name).sum() slower than iterative approach?","body":"<p>I also came across this issue while doing this pretty basic LeetCode <a href=\"https://leetcode.com/problems/missing-number/\" rel=\"nofollow noreferrer\">problem</a>. The first code that I submitted used Java Stream API's <strong>Arrays.stream().sum()</strong> to compute the Array sum, which gave a <strong>time of 6ms</strong>.</p>\n<p>While the <strong>classic for loop</strong> just took  a <strong>time of 1ms</strong> to iterate through the same array. Now that's insane! The Stream API method, takes atleast <strong>6x  the time</strong>, than your simple for loop. So yeah! always go with the simpler and classic method.</p>\n"}],"owner":{"account_id":1071587,"reputation":313,"user_id":1070698,"display_name":"cksharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9195,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":6,"score":17,"last_activity_date":1656859313,"creation_date":1421163969,"question_id":27925954,"body_markdown":"I was coding a leetcode problem : https://oj.leetcode.com/problems/gas-station/ using Java 8.\r\n\r\nMy solution got TLE when I used `Arrays.stream(integer_array).sum()` to compute sum while the same solution got accepted using iteration to calculate the sum of elements in array. The best possible time complexity for this problem is O(n) and I am surprised to get TLE when using streaming API&#39;s from Java 8. I have implemented the solution in O(n) only.\r\n\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class GasStation {\r\n    \tpublic int canCompleteCircuit(int[] gas, int[] cost) {\r\n    \t\tint start = 0, i = 0, runningCost = 0, totalGas = 0, totalCost = 0; \r\n    \t\ttotalGas = Arrays.stream(gas).sum();\r\n    \t\ttotalCost = Arrays.stream(cost).sum();\r\n\r\n    \t\t// for (int item : gas) totalGas += item;\r\n    \t\t// for (int item : cost) totalCost += item;\r\n\r\n    \t\tif (totalGas &lt; totalCost)\r\n    \t\t\treturn -1;\r\n\r\n    \t\twhile (start &gt; i || (start == 0 &amp;&amp; i &lt; gas.length)) {\r\n    \t\t\trunningCost += gas[i];\r\n    \t\t\tif (runningCost &gt;= cost[i]) {\r\n    \t\t\t\trunningCost -= cost[i++];\r\n    \t\t\t} else {\r\n    \t\t\t\trunningCost -= gas[i];\r\n    \t\t\t\tif (--start &lt; 0)\r\n    \t\t\t\t\tstart = gas.length - 1;\r\n    \t\t\t\trunningCost += (gas[start] - cost[start]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn start;\r\n    \t}\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tGasStation sol = new GasStation();\r\n    \t\tint[] gas = new int[] { 10, 5, 7, 14, 9 };\r\n    \t\tint[] cost = new int[] { 8, 5, 14, 3, 1 };\r\n    \t\tSystem.out.println(sol.canCompleteCircuit(gas, cost));\r\n\r\n    \t\tgas = new int[] { 10 };\r\n    \t\tcost = new int[] { 8 };\r\n    \t\tSystem.out.println(sol.canCompleteCircuit(gas, cost));\r\n    \t}\r\n    }\r\n\r\nThe solution gets **accepted** when, \r\nI comment the following two lines: (calculating sum using streaming)\r\n\r\n    totalGas = Arrays.stream(gas).sum();\r\n\ttotalCost = Arrays.stream(cost).sum();\r\n\r\nand uncomment the following two lines (calculating sum using iteration):\r\n\r\n    //for (int item : gas) totalGas += item;\r\n    //for (int item : cost) totalCost += item;\r\n\r\nNow the solution gets accepted. Why **streaming API in Java 8** is slower for **large input than iteration for primitives**? \r\n\r\n","title":"Is Arrays.stream(array_name).sum() slower than iterative approach?","body":"<p>I was coding a leetcode problem : <a href=\"https://oj.leetcode.com/problems/gas-station/\" rel=\"noreferrer\">https://oj.leetcode.com/problems/gas-station/</a> using Java 8.</p>\n\n<p>My solution got TLE when I used <code>Arrays.stream(integer_array).sum()</code> to compute sum while the same solution got accepted using iteration to calculate the sum of elements in array. The best possible time complexity for this problem is O(n) and I am surprised to get TLE when using streaming API's from Java 8. I have implemented the solution in O(n) only.</p>\n\n<pre><code>import java.util.Arrays;\n\npublic class GasStation {\n    public int canCompleteCircuit(int[] gas, int[] cost) {\n        int start = 0, i = 0, runningCost = 0, totalGas = 0, totalCost = 0; \n        totalGas = Arrays.stream(gas).sum();\n        totalCost = Arrays.stream(cost).sum();\n\n        // for (int item : gas) totalGas += item;\n        // for (int item : cost) totalCost += item;\n\n        if (totalGas &lt; totalCost)\n            return -1;\n\n        while (start &gt; i || (start == 0 &amp;&amp; i &lt; gas.length)) {\n            runningCost += gas[i];\n            if (runningCost &gt;= cost[i]) {\n                runningCost -= cost[i++];\n            } else {\n                runningCost -= gas[i];\n                if (--start &lt; 0)\n                    start = gas.length - 1;\n                runningCost += (gas[start] - cost[start]);\n            }\n        }\n        return start;\n    }\n\n    public static void main(String[] args) {\n        GasStation sol = new GasStation();\n        int[] gas = new int[] { 10, 5, 7, 14, 9 };\n        int[] cost = new int[] { 8, 5, 14, 3, 1 };\n        System.out.println(sol.canCompleteCircuit(gas, cost));\n\n        gas = new int[] { 10 };\n        cost = new int[] { 8 };\n        System.out.println(sol.canCompleteCircuit(gas, cost));\n    }\n}\n</code></pre>\n\n<p>The solution gets <strong>accepted</strong> when, \nI comment the following two lines: (calculating sum using streaming)</p>\n\n<pre><code>totalGas = Arrays.stream(gas).sum();\ntotalCost = Arrays.stream(cost).sum();\n</code></pre>\n\n<p>and uncomment the following two lines (calculating sum using iteration):</p>\n\n<pre><code>//for (int item : gas) totalGas += item;\n//for (int item : cost) totalCost += item;\n</code></pre>\n\n<p>Now the solution gets accepted. Why <strong>streaming API in Java 8</strong> is slower for <strong>large input than iteration for primitives</strong>? </p>\n"},{"tags":["java","jboss","wildfly"],"comments":[{"owner":{"account_id":2095244,"reputation":566,"user_id":1864166,"accept_rate":75,"display_name":"Richard Duerr"},"score":0,"creation_date":1656363419,"post_id":72775299,"comment_id":128549451,"body_markdown":"You&#39;ll likely need to provide basic info on versions of java / jboss, and the general idea of how the applications are ran / their infrastructure.","body":"You&#39;ll likely need to provide basic info on versions of java / jboss, and the general idea of how the applications are ran / their infrastructure."},{"owner":{"account_id":22963234,"reputation":1,"user_id":17092746,"display_name":"Roy Gad"},"score":0,"creation_date":1656586419,"post_id":72775299,"comment_id":128611791,"body_markdown":"@RichardDuerr Thank you for looking into my question, I have added an update and more info about the application and JBoss deployment structure, let me know if you need any other info.","body":"@RichardDuerr Thank you for looking into my question, I have added an update and more info about the application and JBoss deployment structure, let me know if you need any other info."},{"owner":{"account_id":22963234,"reputation":1,"user_id":17092746,"display_name":"Roy Gad"},"score":2,"creation_date":1656595984,"post_id":72775299,"comment_id":128615471,"body_markdown":"found the answer:  https://access.redhat.com/solutions/2773121 and https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html/migration_guide/application_migration_changes#migrate_jsf_code_changes","body":"found the answer:  <a href=\"https://access.redhat.com/solutions/2773121\" rel=\"nofollow noreferrer\">access.redhat.com/solutions/2773121</a> and <a href=\"https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html/migration_guide/application_migration_changes#migrate_jsf_code_changes\" rel=\"nofollow noreferrer\">access.redhat.com/documentation/en-us/&hellip;</a>"},{"owner":{"account_id":2095244,"reputation":566,"user_id":1864166,"accept_rate":75,"display_name":"Richard Duerr"},"score":0,"creation_date":1656598873,"post_id":72775299,"comment_id":128616745,"body_markdown":"Please post that as an answer :) Then others can see this is answered and quickly find it. Thanks!","body":"Please post that as an answer :) Then others can see this is answered and quickly find it. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":22963234,"reputation":1,"user_id":17092746,"display_name":"Roy Gad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656858768,"creation_date":1656687921,"answer_id":72831230,"question_id":72775299,"body_markdown":"Found the answer: &lt;a href=&quot;https://access.redhat.com/solutions/2773121&quot;&gt;this&lt;/a&gt; and &lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html/migration_guide/application_migration_changes#migrate_jsf_code_changes&quot;&gt;here&lt;/a&gt;\r\n\r\nI still have work to do to upgrade this application but considering the successful database connection that was made today, I am nearly there. Thanks everyone","title":"jboss upgrade, watched many tutorials on how to upgrade my java 7 app running on jboss as 7.1.1 final to java 8 run on jboss eap 7.4","body":"<p>Found the answer: <a href=\"https://access.redhat.com/solutions/2773121\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html/migration_guide/application_migration_changes#migrate_jsf_code_changes\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I still have work to do to upgrade this application but considering the successful database connection that was made today, I am nearly there. Thanks everyone</p>\n"}],"owner":{"account_id":22963234,"reputation":1,"user_id":17092746,"display_name":"Roy Gad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1047,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656858768,"creation_date":1656346675,"question_id":72775299,"body_markdown":"I am seeing the error below in the server console (JBoss eap 7.4):\r\n\r\n```\r\n15:01:33,147 ERROR [stderr] (ServerService Thread Pool -- 73) java.lang.UnsupportedOperationException: The default implementation must override this method\r\n15:01:33,148 ERROR [stderr] (ServerService Thread Pool -- 73)   at javax.faces.render.RenderKit.addClientBehaviorRenderer(RenderKit.java:239)\r\n15:01:33,160 ERROR [stderr] (ServerService Thread Pool -- 73)   at com.sun.faces.config.processor.RenderKitConfigProcessor.addClientBehaviorRenderers(RenderKitConfigProcessor.java:338)\r\n15:01:33,167 ERROR [stderr] (ServerService Thread Pool -- 73)   at com.sun.faces.config.processor.RenderKitConfigProcessor.process(RenderKitConfigProcessor.java:179)\r\n15:01:33,185 ERROR [stderr] (ServerService Thread Pool -- 73)   at com.sun.faces.config.ConfigManager.lambda$initialize$1(ConfigManager.java:325)\r\n15:01:33,190 ERROR [stderr] (ServerService Thread Pool -- 73)   at java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n15:01:33,191 ERROR [stderr] (ServerService Thread Pool -- 73)   at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n15:01:33,192 ERROR [stderr] (ServerService Thread Pool -- 73)   at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\r\n15:01:33,192 ERROR [stderr] (ServerService Thread Pool -- 73)   at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:308)\r\n15:01:33,193 ERROR [stderr] (ServerService Thread Pool -- 73)   at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:207)\r\n15:01:33,193 ERROR [stderr] (ServerService Thread Pool -- 73)   at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\r\n15:01:33,194 ERROR [stderr] (ServerService Thread Pool -- 73)   at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\r\n15:01:33,200 ERROR [stderr] (ServerService Thread Pool -- 73)   at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\r\n15:01:33,201 ERROR [stderr] (ServerService Thread Pool -- 73)   at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n15:01:33,202 ERROR [stderr] (ServerService Thread Pool -- 73)   at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n15:01:33,212 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n15:01:33,212 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n15:01:33,213 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n15:01:33,214 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n15:01:33,214 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n15:01:33,215 ERROR [stderr] (ServerService Thread Pool -- 73)   at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\r\n15:01:33,216 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)\r\n15:01:33,226 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\r\n15:01:33,227 ERROR [stderr] (ServerService Thread Pool -- 73)   at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n15:01:33,227 ERROR [stderr] (ServerService Thread Pool -- 73)   at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n15:01:33,228 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n15:01:33,228 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n15:01:33,228 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n15:01:33,229 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n15:01:33,230 ERROR [stderr] (ServerService Thread Pool -- 73)   at java.lang.Thread.run(Thread.java:748)\r\n15:01:33,231 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n```\r\n\r\nThis is a legacy application and took lots of effort to finally see the sign-in page. Getting tired now, but any pointers would be appreciated. I am happy to provide the files you need to help me resolve this issue. I have managed to use the migration tool for java applications and learn as I go how to resolve each issue I encounter.\r\n\r\n**Update:**\r\n\r\nI narrowed down the root of the problem.\r\nold server JBoss-as-7.1 &gt;&gt; modules &gt;&gt; com &gt;&gt; sun &gt;&gt; jsf-impl &gt;&gt; main folder\r\nhas only one file jsf-impl-2.1.7-jbossor-2.jar\r\nwith module XML\r\n```\r\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.sun.jsf-impl&quot;&gt;\r\n    &lt;properties&gt;\r\n        &lt;property name=&quot;jboss.api&quot; value=&quot;private&quot;/&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;module name=&quot;javax.faces.api&quot;/&gt;\r\n        &lt;module name=&quot;javaee.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.servlet.jstl.api&quot;/&gt;\r\n        &lt;module name=&quot;org.apache.xerces&quot; services=&quot;import&quot;/&gt;\r\n        &lt;module name=&quot;org.apache.xalan&quot; services=&quot;import&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;resources&gt;\r\n        &lt;resource-root path=&quot;jsf-impl-2.1.7-jbossorg-2.jar&quot;/&gt;\r\n        &lt;!-- Insert resources here --&gt;\r\n    &lt;/resources&gt;\r\n&lt;/module&gt;\r\n```\r\n\r\n\r\nnew server JBoss EAP 7.4 modules &gt;&gt;... &gt;&gt; main folder has 2 jars, jsf-impl-2.1.7-jbossorg-2.jar and jsf-impl-2.3.14.SP04-redhat-00001.jar\r\n\r\nwith module.xml\r\n```\r\n&lt;module name=&quot;com.sun.jsf-impl&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;property name=&quot;jboss.api&quot; value=&quot;private&quot;/&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;module name=&quot;java.desktop&quot;/&gt;\r\n        &lt;module name=&quot;java.logging&quot;/&gt;\r\n        &lt;module name=&quot;java.naming&quot;/&gt;\r\n        &lt;module name=&quot;java.sql&quot;/&gt;\r\n        &lt;module name=&quot;javax.faces.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.annotation.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.servlet.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.servlet.jsp.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.websocket.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.validation.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.json.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.ejb.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.xml.bind.api&quot;/&gt;\r\n        &lt;module name=&quot;org.glassfish.jakarta.el&quot;/&gt;\r\n        &lt;!--WFLY-14219 Remove deprecated &lt;module name=&quot;javax.api&quot;/&gt; --&gt;\r\n        &lt;module name=&quot;javax.servlet.jstl.api&quot;/&gt;\r\n        &lt;module name=&quot;org.apache.xerces&quot; services=&quot;import&quot;/&gt;\r\n        &lt;module name=&quot;org.apache.xalan&quot; services=&quot;import&quot;/&gt;\r\n        &lt;module name=&quot;org.jboss.weld.core&quot;/&gt;\r\n        &lt;module name=&quot;org.jboss.weld.spi&quot;/&gt;\r\n        &lt;module name=&quot;java.xml&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;resources&gt;\r\n\t     &lt;resource-root path=&quot;jsf-impl-2.3.14.SP04-redhat-00001.jar&quot;/&gt;\r\n    &lt;/resources&gt;\r\n&lt;/module&gt;\r\n```\r\nSo when I replaced the \r\n\r\nresource-root path=&quot;jsf-impl-2.3.14.SP04-redhat-00001.jar&quot;\r\n\r\nin the new server jsf-impl \r\n\r\nwith resource-root path=&quot;jsf-impl-2.1.7-jbossorg-2.jar&quot;\r\n\r\n//Trying to down grade the jar version.\r\n\r\nI see the exception below and the deployment fails\r\n\r\n```\r\n11:12:26,366 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 81) MSC000001: Failed to start service jboss.deployment.subunit.&quot;EOS.ear&quot;.&quot;EOSWeb.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;EOS.ear&quot;.&quot;EOSWeb.war&quot;.undertow-deployment: java.lang.NoSuchMethodError: &#39;java.lang.ClassLoader com.sun.faces.util.Util.getContextClassLoader2()&#39;\r\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n        at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\nCaused by: java.lang.NoSuchMethodError: &#39;java.lang.ClassLoader com.sun.faces.util.Util.getContextClassLoader2()&#39;\r\n        at javax.faces.api@3.0.0.SP04-redhat-00001//javax.faces.CurrentThreadToServletContext.getFactoryFinder(CurrentThreadToServletContext.java:59)\r\n        at javax.faces.api@3.0.0.SP04-redhat-00001//javax.faces.FactoryFinder.getFactory(FactoryFinder.java:273)\r\n        at javax.faces.api@3.0.0.SP04-redhat-00001//javax.faces.context.FacesContext.getCurrentInstance(FacesContext.java:953)\r\n        at com.sun.jsf-impl//com.sun.faces.config.InitFacesContext.&lt;init&gt;(InitFacesContext.java:97)\r\n        at com.sun.jsf-impl//com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:154)\r\n        at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\r\n        at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\r\n        at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\r\n        at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n        at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\r\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)\r\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\r\n        ... 8 more\r\n\r\n11:12:26,397 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;EOS.ear&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;EOS.ear\\&quot;.\\&quot;EOSWeb.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.NoSuchMethodError: &#39;java.lang.ClassLoader com.sun.faces.util.Util.getContextClassLoader2()&#39;\r\n    Caused by: java.lang.NoSuchMethodError: &#39;java.lang.ClassLoader com.sun.faces.util.Util.getContextClassLoader2()&#39;&quot;}}\r\n```\r\n\r\nEnv variable: Java home points to jdk1.8.0_202\r\nOld server version: jboss-as-7.1.1.Final\r\nNew server version: jboss-eap-7.4.0\r\njboss-deployment-structure.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:1.1&quot;&gt;\r\n\t&lt;deployment&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;module name=&quot;com.sun.jsf-impl&quot; slot=&quot;1.2&quot; /&gt;\r\n\t\t\t&lt;module name=&quot;javax.faces.api&quot; slot=&quot;1.2&quot; /&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;module name=&quot;com.sun.jsf-impl&quot; slot=&quot;main&quot; /&gt;\r\n\t        &lt;module name=&quot;javax.faces.api&quot; slot=&quot;main&quot; /&gt;\r\n\t    &lt;/exclusions&gt;\r\n\t&lt;/deployment&gt;\r\n\r\n\t&lt;sub-deployment name=&quot;EOSWeb.war&quot;&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;module name=&quot;com.sun.jsf-impl&quot; slot=&quot;1.2&quot; /&gt;\r\n\t\t\t&lt;module name=&quot;javax.faces.api&quot; slot=&quot;1.2&quot; /&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t        &lt;module name=&quot;com.sun.jsf-impl&quot; slot=&quot;main&quot; /&gt;\r\n\t        &lt;module name=&quot;javax.faces.api&quot; slot=&quot;main&quot; /&gt;        \r\n\t    &lt;/exclusions&gt;\r\n\t&lt;/sub-deployment&gt;\r\n&lt;/jboss-deployment-structure&gt;\r\n```\r\nlet me know if more info is needed.","title":"jboss upgrade, watched many tutorials on how to upgrade my java 7 app running on jboss as 7.1.1 final to java 8 run on jboss eap 7.4","body":"<p>I am seeing the error below in the server console (JBoss eap 7.4):</p>\n<pre><code>15:01:33,147 ERROR [stderr] (ServerService Thread Pool -- 73) java.lang.UnsupportedOperationException: The default implementation must override this method\n15:01:33,148 ERROR [stderr] (ServerService Thread Pool -- 73)   at javax.faces.render.RenderKit.addClientBehaviorRenderer(RenderKit.java:239)\n15:01:33,160 ERROR [stderr] (ServerService Thread Pool -- 73)   at com.sun.faces.config.processor.RenderKitConfigProcessor.addClientBehaviorRenderers(RenderKitConfigProcessor.java:338)\n15:01:33,167 ERROR [stderr] (ServerService Thread Pool -- 73)   at com.sun.faces.config.processor.RenderKitConfigProcessor.process(RenderKitConfigProcessor.java:179)\n15:01:33,185 ERROR [stderr] (ServerService Thread Pool -- 73)   at com.sun.faces.config.ConfigManager.lambda$initialize$1(ConfigManager.java:325)\n15:01:33,190 ERROR [stderr] (ServerService Thread Pool -- 73)   at java.util.Iterator.forEachRemaining(Iterator.java:116)\n15:01:33,191 ERROR [stderr] (ServerService Thread Pool -- 73)   at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n15:01:33,192 ERROR [stderr] (ServerService Thread Pool -- 73)   at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\n15:01:33,192 ERROR [stderr] (ServerService Thread Pool -- 73)   at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:308)\n15:01:33,193 ERROR [stderr] (ServerService Thread Pool -- 73)   at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:207)\n15:01:33,193 ERROR [stderr] (ServerService Thread Pool -- 73)   at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\n15:01:33,194 ERROR [stderr] (ServerService Thread Pool -- 73)   at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\n15:01:33,200 ERROR [stderr] (ServerService Thread Pool -- 73)   at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\n15:01:33,201 ERROR [stderr] (ServerService Thread Pool -- 73)   at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n15:01:33,202 ERROR [stderr] (ServerService Thread Pool -- 73)   at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n15:01:33,212 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n15:01:33,212 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n15:01:33,213 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n15:01:33,214 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n15:01:33,214 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n15:01:33,215 ERROR [stderr] (ServerService Thread Pool -- 73)   at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\n15:01:33,216 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)\n15:01:33,226 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\n15:01:33,227 ERROR [stderr] (ServerService Thread Pool -- 73)   at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n15:01:33,227 ERROR [stderr] (ServerService Thread Pool -- 73)   at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n15:01:33,228 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n15:01:33,228 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n15:01:33,228 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n15:01:33,229 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n15:01:33,230 ERROR [stderr] (ServerService Thread Pool -- 73)   at java.lang.Thread.run(Thread.java:748)\n15:01:33,231 ERROR [stderr] (ServerService Thread Pool -- 73)   at org.jboss.threads.JBossThread.run(JBossThread.java:513)\n</code></pre>\n<p>This is a legacy application and took lots of effort to finally see the sign-in page. Getting tired now, but any pointers would be appreciated. I am happy to provide the files you need to help me resolve this issue. I have managed to use the migration tool for java applications and learn as I go how to resolve each issue I encounter.</p>\n<p><strong>Update:</strong></p>\n<p>I narrowed down the root of the problem.\nold server JBoss-as-7.1 &gt;&gt; modules &gt;&gt; com &gt;&gt; sun &gt;&gt; jsf-impl &gt;&gt; main folder\nhas only one file jsf-impl-2.1.7-jbossor-2.jar\nwith module XML</p>\n<pre><code>&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.sun.jsf-impl&quot;&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;jboss.api&quot; value=&quot;private&quot;/&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;module name=&quot;javax.faces.api&quot;/&gt;\n        &lt;module name=&quot;javaee.api&quot;/&gt;\n        &lt;module name=&quot;javax.servlet.jstl.api&quot;/&gt;\n        &lt;module name=&quot;org.apache.xerces&quot; services=&quot;import&quot;/&gt;\n        &lt;module name=&quot;org.apache.xalan&quot; services=&quot;import&quot;/&gt;\n    &lt;/dependencies&gt;\n\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;jsf-impl-2.1.7-jbossorg-2.jar&quot;/&gt;\n        &lt;!-- Insert resources here --&gt;\n    &lt;/resources&gt;\n&lt;/module&gt;\n</code></pre>\n<p>new server JBoss EAP 7.4 modules &gt;&gt;... &gt;&gt; main folder has 2 jars, jsf-impl-2.1.7-jbossorg-2.jar and jsf-impl-2.3.14.SP04-redhat-00001.jar</p>\n<p>with module.xml</p>\n<pre><code>&lt;module name=&quot;com.sun.jsf-impl&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt;\n\n    &lt;properties&gt;\n        &lt;property name=&quot;jboss.api&quot; value=&quot;private&quot;/&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;module name=&quot;java.desktop&quot;/&gt;\n        &lt;module name=&quot;java.logging&quot;/&gt;\n        &lt;module name=&quot;java.naming&quot;/&gt;\n        &lt;module name=&quot;java.sql&quot;/&gt;\n        &lt;module name=&quot;javax.faces.api&quot;/&gt;\n        &lt;module name=&quot;javax.annotation.api&quot;/&gt;\n        &lt;module name=&quot;javax.servlet.api&quot;/&gt;\n        &lt;module name=&quot;javax.servlet.jsp.api&quot;/&gt;\n        &lt;module name=&quot;javax.websocket.api&quot;/&gt;\n        &lt;module name=&quot;javax.validation.api&quot;/&gt;\n        &lt;module name=&quot;javax.json.api&quot;/&gt;\n        &lt;module name=&quot;javax.ejb.api&quot;/&gt;\n        &lt;module name=&quot;javax.xml.bind.api&quot;/&gt;\n        &lt;module name=&quot;org.glassfish.jakarta.el&quot;/&gt;\n        &lt;!--WFLY-14219 Remove deprecated &lt;module name=&quot;javax.api&quot;/&gt; --&gt;\n        &lt;module name=&quot;javax.servlet.jstl.api&quot;/&gt;\n        &lt;module name=&quot;org.apache.xerces&quot; services=&quot;import&quot;/&gt;\n        &lt;module name=&quot;org.apache.xalan&quot; services=&quot;import&quot;/&gt;\n        &lt;module name=&quot;org.jboss.weld.core&quot;/&gt;\n        &lt;module name=&quot;org.jboss.weld.spi&quot;/&gt;\n        &lt;module name=&quot;java.xml&quot;/&gt;\n    &lt;/dependencies&gt;\n\n    &lt;resources&gt;\n         &lt;resource-root path=&quot;jsf-impl-2.3.14.SP04-redhat-00001.jar&quot;/&gt;\n    &lt;/resources&gt;\n&lt;/module&gt;\n</code></pre>\n<p>So when I replaced the</p>\n<p>resource-root path=&quot;jsf-impl-2.3.14.SP04-redhat-00001.jar&quot;</p>\n<p>in the new server jsf-impl</p>\n<p>with resource-root path=&quot;jsf-impl-2.1.7-jbossorg-2.jar&quot;</p>\n<p>//Trying to down grade the jar version.</p>\n<p>I see the exception below and the deployment fails</p>\n<pre><code>11:12:26,366 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 81) MSC000001: Failed to start service jboss.deployment.subunit.&quot;EOS.ear&quot;.&quot;EOSWeb.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;EOS.ear&quot;.&quot;EOSWeb.war&quot;.undertow-deployment: java.lang.NoSuchMethodError: 'java.lang.ClassLoader com.sun.faces.util.Util.getContextClassLoader2()'\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n        at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.NoSuchMethodError: 'java.lang.ClassLoader com.sun.faces.util.Util.getContextClassLoader2()'\n        at javax.faces.api@3.0.0.SP04-redhat-00001//javax.faces.CurrentThreadToServletContext.getFactoryFinder(CurrentThreadToServletContext.java:59)\n        at javax.faces.api@3.0.0.SP04-redhat-00001//javax.faces.FactoryFinder.getFactory(FactoryFinder.java:273)\n        at javax.faces.api@3.0.0.SP04-redhat-00001//javax.faces.context.FacesContext.getCurrentInstance(FacesContext.java:953)\n        at com.sun.jsf-impl//com.sun.faces.config.InitFacesContext.&lt;init&gt;(InitFacesContext.java:97)\n        at com.sun.jsf-impl//com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:154)\n        at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\n        at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\n        at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\n        at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n        at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)\n        at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\n        ... 8 more\n\n11:12:26,397 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;EOS.ear&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;EOS.ear\\&quot;.\\&quot;EOSWeb.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.NoSuchMethodError: 'java.lang.ClassLoader com.sun.faces.util.Util.getContextClassLoader2()'\n    Caused by: java.lang.NoSuchMethodError: 'java.lang.ClassLoader com.sun.faces.util.Util.getContextClassLoader2()'&quot;}}\n</code></pre>\n<p>Env variable: Java home points to jdk1.8.0_202\nOld server version: jboss-as-7.1.1.Final\nNew server version: jboss-eap-7.4.0\njboss-deployment-structure.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:1.1&quot;&gt;\n    &lt;deployment&gt;\n        &lt;dependencies&gt;\n            &lt;module name=&quot;com.sun.jsf-impl&quot; slot=&quot;1.2&quot; /&gt;\n            &lt;module name=&quot;javax.faces.api&quot; slot=&quot;1.2&quot; /&gt;\n        &lt;/dependencies&gt;\n        &lt;exclusions&gt;\n            &lt;module name=&quot;com.sun.jsf-impl&quot; slot=&quot;main&quot; /&gt;\n            &lt;module name=&quot;javax.faces.api&quot; slot=&quot;main&quot; /&gt;\n        &lt;/exclusions&gt;\n    &lt;/deployment&gt;\n\n    &lt;sub-deployment name=&quot;EOSWeb.war&quot;&gt;\n        &lt;dependencies&gt;\n            &lt;module name=&quot;com.sun.jsf-impl&quot; slot=&quot;1.2&quot; /&gt;\n            &lt;module name=&quot;javax.faces.api&quot; slot=&quot;1.2&quot; /&gt;\n        &lt;/dependencies&gt;\n        &lt;exclusions&gt;\n            &lt;module name=&quot;com.sun.jsf-impl&quot; slot=&quot;main&quot; /&gt;\n            &lt;module name=&quot;javax.faces.api&quot; slot=&quot;main&quot; /&gt;        \n        &lt;/exclusions&gt;\n    &lt;/sub-deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>let me know if more info is needed.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1656860853,"post_id":72847311,"comment_id":128669408,"body_markdown":"that is actually interesting why owner in you case is not null, because HBN typically loads data in the following way: resultset -&gt; Object[] -&gt; entity, i.e. in transforms resultset row in array and after that constructs entity","body":"that is actually interesting why owner in you case is not null, because HBN typically loads data in the following way: resultset -&gt; Object[] -&gt; entity, i.e. in transforms resultset row in array and after that constructs entity"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1656892290,"post_id":72847311,"comment_id":128675241,"body_markdown":"If that&#39;s true, why would the `owner` argument exist?","body":"If that&#39;s true, why would the <code>owner</code> argument exist?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1656942504,"post_id":72847311,"comment_id":128687092,"body_markdown":"to support loading of lazy fields, collections, etc","body":"to support loading of lazy fields, collections, etc"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1656945004,"post_id":72847311,"comment_id":128688031,"body_markdown":"I guess my goal then is to set the `details` field only after the `type` field is set. I could map the column to a string, add a `UserActivityDetails` fields marked with `@Transient`, and use a `@PostLoad` method to deserialize then. This isn&#39;t ideal.","body":"I guess my goal then is to set the <code>details</code> field only after the <code>type</code> field is set. I could map the column to a string, add a <code>UserActivityDetails</code> fields marked with <code>@Transient</code>, and use a <code>@PostLoad</code> method to deserialize then. This isn&#39;t ideal."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1656945447,"post_id":72847311,"comment_id":128688204,"body_markdown":"another option is to use `type` as discriminator column and define different entity classes for different `type`&#39;s, not sure this is better though.","body":"another option is to use <code>type</code> as discriminator column and define different entity classes for different <code>type</code>&#39;s, not sure this is better though."},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1656985182,"post_id":72847311,"comment_id":128696712,"body_markdown":"Ha, I was just going to this page to comment the same idea.","body":"Ha, I was just going to this page to comment the same idea."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1656999435,"post_id":72847311,"comment_id":128698675,"body_markdown":"and another idea is to implement `CompositeUserType`: if target JSON representation depends on another field, that means we must always query those fields together (think about query `select id, details from UserActivity` - it has no chance to return correct result)","body":"and another idea is to implement <code>CompositeUserType</code>: if target JSON representation depends on another field, that means we must always query those fields together (think about query <code>select id, details from UserActivity</code> - it has no chance to return correct result)"}],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656858679,"creation_date":1656858679,"question_id":72847311,"body_markdown":"I am trying to create a custom type for a `jsonb` column in my PostgreSQL server. The Java type is polymorphic. My goal is to use another column in the entity to determine what class to deserialize too, rather than relying upon extra properties generated by Jackson&#39;s `@JsonTypeInfo`, such as `@class`.\r\n\r\nI&#39;ll simplify the code for brevity sake.\r\n\r\nHere is my entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;user_activity&#39;, schema = &quot;user_&quot;)\r\n@TypeDef(name = &quot;UserActivityDetailsType&quot;, typeClass = UserActivityDetailsType.class)\r\npublic final class UserActivity implements Serializable {\r\n\r\n  @Column(name = &quot;id&quot;, nullable = false, insertable = false, updatable = false, columnDefinition = &quot;bigserial&quot;)\r\n  private Long id;\r\n\r\n  @JoinColumn(name = &quot;user_id&quot;, nullable = false, updatable = false)\r\n  @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n  private User user;\r\n\r\n  @Column(name = &quot;type&quot;, nullable = false, updatable = false, columnDefinition = &quot;user_activity_type_t&quot;)\r\n  @Convert(converter = UserActivityType.UserActivityTypeConverter.class)\r\n  private UserActivityType type; // An enum.\r\n\r\n  @Column(name = &quot;details&quot;, nullable = false, updatable = false, columnDefinition = &quot;jsonb&quot;)\r\n  @Type(type = &quot;UserActivityDetailsType&quot;)\r\n  private UserActivityDetails details;\r\n\r\n  ...\r\n\r\n}\r\n```\r\n\r\nHere is `UserActivityDetails`:\r\n\r\n```\r\npublic abstract class UserActivityDetails implements Serializable {\r\n\r\n  ...\r\n\r\n}\r\n```\r\n\r\nAnd `UserActivityDetailsType`:\r\n\r\n```\r\npublic final class UserActivityDetailsType implements UserType {\r\n\r\n  ...\r\n\r\n  @Override\r\n  public final Object nullSafeGet(final ResultSet rs, final String[] names, final SharedSessionContractImplementor session, final Object owner)\r\n      throws HibernateException, SQLException {\r\n    // &quot;owner&quot; is of the type &quot;UserActivity&quot;, but all fields are null except &quot;id&quot;.\r\n\r\n    ...\r\n  }\r\n\r\n  ...\r\n\r\n}\r\n```\r\n\r\nWhy is `owner` not completely initialized? Is this intended functionality? Again, my goal is to deserialize based on another column, specifically the value of the field `UserActivity#type`.\r\n\r\nI hope a minimal reproducible example is not necessary here, and would just add unnecessary noise to my post. Please let me know if I should share more code.","title":"Hibernate custom UserType owner is null in nullSafeGet method","body":"<p>I am trying to create a custom type for a <code>jsonb</code> column in my PostgreSQL server. The Java type is polymorphic. My goal is to use another column in the entity to determine what class to deserialize too, rather than relying upon extra properties generated by Jackson's <code>@JsonTypeInfo</code>, such as <code>@class</code>.</p>\n<p>I'll simplify the code for brevity sake.</p>\n<p>Here is my entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;user_activity', schema = &quot;user_&quot;)\n@TypeDef(name = &quot;UserActivityDetailsType&quot;, typeClass = UserActivityDetailsType.class)\npublic final class UserActivity implements Serializable {\n\n  @Column(name = &quot;id&quot;, nullable = false, insertable = false, updatable = false, columnDefinition = &quot;bigserial&quot;)\n  private Long id;\n\n  @JoinColumn(name = &quot;user_id&quot;, nullable = false, updatable = false)\n  @ManyToOne(fetch = FetchType.LAZY, optional = false)\n  private User user;\n\n  @Column(name = &quot;type&quot;, nullable = false, updatable = false, columnDefinition = &quot;user_activity_type_t&quot;)\n  @Convert(converter = UserActivityType.UserActivityTypeConverter.class)\n  private UserActivityType type; // An enum.\n\n  @Column(name = &quot;details&quot;, nullable = false, updatable = false, columnDefinition = &quot;jsonb&quot;)\n  @Type(type = &quot;UserActivityDetailsType&quot;)\n  private UserActivityDetails details;\n\n  ...\n\n}\n</code></pre>\n<p>Here is <code>UserActivityDetails</code>:</p>\n<pre><code>public abstract class UserActivityDetails implements Serializable {\n\n  ...\n\n}\n</code></pre>\n<p>And <code>UserActivityDetailsType</code>:</p>\n<pre><code>public final class UserActivityDetailsType implements UserType {\n\n  ...\n\n  @Override\n  public final Object nullSafeGet(final ResultSet rs, final String[] names, final SharedSessionContractImplementor session, final Object owner)\n      throws HibernateException, SQLException {\n    // &quot;owner&quot; is of the type &quot;UserActivity&quot;, but all fields are null except &quot;id&quot;.\n\n    ...\n  }\n\n  ...\n\n}\n</code></pre>\n<p>Why is <code>owner</code> not completely initialized? Is this intended functionality? Again, my goal is to deserialize based on another column, specifically the value of the field <code>UserActivity#type</code>.</p>\n<p>I hope a minimal reproducible example is not necessary here, and would just add unnecessary noise to my post. Please let me know if I should share more code.</p>\n"},{"tags":["java","maven","intellij-idea","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1656862392,"post_id":72845807,"comment_id":128669776,"body_markdown":"Please [edit] your question to indicate the specific problem you encounter; a [mre] may make your intent more clear.","body":"Please <a href=\"https://stackoverflow.com/posts/72845807/edit\">edit</a> your question to indicate the specific problem you encounter; a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> may make your intent more clear."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1657063353,"post_id":72845807,"comment_id":128719077,"body_markdown":"You have stuff in your pastebin which is not in your question (please don&#39;t do that, make the question standalone).  The stuff in pastebin is probably relevant to your issue (e.g. it uses an assembly plugin and a jar plugin with dependencies and whatever the google addjars thing is doing).  None of those additional tasks are standard for a JavaFX project, I don&#39;t recommend them.  Follow the instructions at [openjfx.io](https://openjfx.io/openjfx-docs/) or the [steps in this answer](https://stackoverflow.com/questions/71498158/java-lang-module-findexception-module-test-not-foundintellidea).","body":"You have stuff in your pastebin which is not in your question (please don&#39;t do that, make the question standalone).  The stuff in pastebin is probably relevant to your issue (e.g. it uses an assembly plugin and a jar plugin with dependencies and whatever the google addjars thing is doing).  None of those additional tasks are standard for a JavaFX project, I don&#39;t recommend them.  Follow the instructions at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io</a> or the <a href=\"https://stackoverflow.com/questions/71498158/java-lang-module-findexception-module-test-not-foundintellidea\">steps in this answer</a>."},{"owner":{"account_id":16293680,"reputation":13,"user_id":11766537,"display_name":"Fingolfin"},"score":0,"creation_date":1664126385,"post_id":72845807,"comment_id":130394976,"body_markdown":"@jewelsea, of course there is stuff in pastebin that is not relevant, as I literally posted the whole of my pom.xml for clarification.. no, the stuff is not relevant to my question as IntelliJ reports JavaFX as missing and not maven.. this is an error on IntelliJs side not on the build systems, thanks for your links but none helped","body":"@jewelsea, of course there is stuff in pastebin that is not relevant, as I literally posted the whole of my pom.xml for clarification.. no, the stuff is not relevant to my question as IntelliJ reports JavaFX as missing and not maven.. this is an error on IntelliJs side not on the build systems, thanks for your links but none helped"}],"answers":[{"tags":[],"owner":{"display_name":"user16891224"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656845305,"creation_date":1656845305,"answer_id":72845841,"question_id":72845807,"body_markdown":"I think it is because you haven&#39;t included the plugin. Add this piece of code to your pom.xml file. \r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.8&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;mainClass&gt;HelloFX&lt;/mainClass&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\n\r\nReference to JavaFX documentation: [https://openjfx.io/openjfx-docs/#maven][1]\r\n\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#maven","title":"IntelliJ: Module not found JavaFX","body":"<p>I think it is because you haven't included the plugin. Add this piece of code to your pom.xml file.</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.0.8&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;mainClass&gt;HelloFX&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>Reference to JavaFX documentation: <a href=\"https://openjfx.io/openjfx-docs/#maven\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/#maven</a></p>\n"}],"owner":{"account_id":16293680,"reputation":13,"user_id":11766537,"display_name":"Fingolfin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656857779,"creation_date":1656844996,"question_id":72845807,"body_markdown":"I know this is a often-asked question but none of the answers I found on the internet helped me. My setup is: maven project with JavaFX as dependency defined in the pom.xml.\r\n  I tried [this](https://stackoverflow.com/questions/65382694/maven-module-not-found-javafx-fxml). But to no avail..\r\nHere is my [pom.xml](https://pastebin.com/cvndpYKG)\r\n\r\nThe relevant `pom.xml` entry:\r\n```xml\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      ...\r\n\r\n```\r\n Any help is appreciated, thanks!","title":"IntelliJ: Module not found JavaFX","body":"<p>I know this is a often-asked question but none of the answers I found on the internet helped me. My setup is: maven project with JavaFX as dependency defined in the pom.xml.\nI tried <a href=\"https://stackoverflow.com/questions/65382694/maven-module-not-found-javafx-fxml\">this</a>. But to no avail..\nHere is my <a href=\"https://pastebin.com/cvndpYKG\" rel=\"nofollow noreferrer\">pom.xml</a></p>\n<p>The relevant <code>pom.xml</code> entry:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;18.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\n            &lt;version&gt;18.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;18.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;18.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;18.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n      ...\n\n</code></pre>\n<p>Any help is appreciated, thanks!</p>\n"},{"tags":["java","hibernate","constraintviolationexception"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1656846792,"post_id":72845966,"comment_id":128666471,"body_markdown":"Which DB are you using? How did you insert the initial 1000 records?","body":"Which DB are you using? How did you insert the initial 1000 records?"},{"owner":{"account_id":25699465,"reputation":3,"user_id":19459704,"display_name":"krystian14d"},"score":0,"creation_date":1656848510,"post_id":72845966,"comment_id":128666790,"body_markdown":"I am using MySQL. Initial 1000 records generated using mockaroo website (only for development purposes). All test data are inserted using:\n&#39;&#39;&#39;\n&lt;!--    TEST DATA--&gt;\n&lt;include file=&quot;../testdata/0005_movie_comment.sql&quot; relativeToChangelogFile=&quot;true&quot; context=&quot;dev&quot;/&gt;\n&#39;&#39;&#39;\nExample from the SQL file:\n&#39;&#39;&#39;\ninsert into movie_comment (id, movie_id, user_id, comment, date_added) values (1, 23, 2, &#39;Duis mattis egestas metus.&#39;, &#39;2021-12-26&#39;);\n&#39;&#39;&#39;","body":"I am using MySQL. Initial 1000 records generated using mockaroo website (only for development purposes). All test data are inserted using: &#39;&#39;&#39; &lt;!--    TEST DATA--&gt; &lt;include file=&quot;../testdata/0005_movie_comment.sql&quot; relativeToChangelogFile=&quot;true&quot; context=&quot;dev&quot;/&gt; &#39;&#39;&#39; Example from the SQL file: &#39;&#39;&#39; insert into movie_comment (id, movie_id, user_id, comment, date_added) values (1, 23, 2, &#39;Duis mattis egestas metus.&#39;, &#39;2021-12-26&#39;); &#39;&#39;&#39;"}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656852545,"creation_date":1656852545,"answer_id":72846646,"question_id":72845966,"body_markdown":"When inserting values into auto-incrementing columns you don&#39;t leverage the actual auto-increment. Meaning, MySQL will let you insert the value but the counter will not be updated. That&#39;s why it stays at `0`. And the next insert (by Hibernate) assigns `1`.\r\n\r\nAccording to [these answers][1], you need to:\r\n* either not fill the field at all\r\n* or use `null`\r\n* or use `0`\r\n* or use `default`\r\n\r\nPS: usually it&#39;s wiser to fill test data from your code (e.g. by using randomization or some other value generation) instead of preparing special SQL files. This way if your table schema changes, you won&#39;t have to modify all 1000 rows of the test data.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8753371/how-to-insert-data-to-mysql-having-auto-incremented-primary-key","title":"Hibernate do not save entity with last-available ID - ConstraintViolationException","body":"<p>When inserting values into auto-incrementing columns you don't leverage the actual auto-increment. Meaning, MySQL will let you insert the value but the counter will not be updated. That's why it stays at <code>0</code>. And the next insert (by Hibernate) assigns <code>1</code>.</p>\n<p>According to <a href=\"https://stackoverflow.com/questions/8753371/how-to-insert-data-to-mysql-having-auto-incremented-primary-key\">these answers</a>, you need to:</p>\n<ul>\n<li>either not fill the field at all</li>\n<li>or use <code>null</code></li>\n<li>or use <code>0</code></li>\n<li>or use <code>default</code></li>\n</ul>\n<p>PS: usually it's wiser to fill test data from your code (e.g. by using randomization or some other value generation) instead of preparing special SQL files. This way if your table schema changes, you won't have to modify all 1000 rows of the test data.</p>\n"}],"owner":{"account_id":25699465,"reputation":3,"user_id":19459704,"display_name":"krystian14d"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72846646,"answer_count":1,"score":0,"last_activity_date":1656857726,"creation_date":1656846423,"question_id":72845966,"body_markdown":"I am having a problem with my code. I have created an entity &quot;Comment&quot; with relations Many-To-Many to entities Movie and User (User may comment many movies, and movie can be commented by many users). When I am saving new Comment entity, Hibernate is saving it with ID = 1 (when in a table is already a row with id=1. It should generate ID=1001 because I have 1000 rows of test data). Using CrudRepository\r\n\r\nHere is the table generation file for Liquibase:\r\n```\r\n    &lt;databaseChangeLog\r\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n        https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.2.xsd&quot;&gt;\r\n\r\n    &lt;changeSet id=&quot;0005-1&quot; author=&quot;Krystian&quot;&gt;\r\n\r\n        &lt;createTable tableName=&quot;movie_comment&quot;&gt;\r\n\r\n            &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; autoIncrement=&quot;true&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot; primaryKey=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;user_id&quot; type=&quot;BIGINT&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;\r\n                             foreignKeyName=&quot;fk_movie_comment_user_id&quot;\r\n                             referencedTableName=&quot;users&quot;\r\n                             referencedColumnNames=&quot;id&quot;\r\n                             unique=&quot;false&quot;\r\n                /&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;movie_id&quot; type=&quot;BIGINT&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;\r\n                             foreignKeyName=&quot;fk_movie_comment_movie_id&quot;\r\n                             referencedTableName=&quot;movie&quot;\r\n                             referencedColumnNames=&quot;id&quot;\r\n                             unique=&quot;false&quot;\r\n                /&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;comment&quot; type=&quot;VARCHAR(2000)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;date_added&quot; type=&quot;DATETIME&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n        &lt;/createTable&gt;\r\n\r\n    &lt;/changeSet&gt;\r\n\r\n&lt;/databaseChangeLog&gt;\r\n```\r\nHere is the Comment entity class:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;movie_comment&quot;)\r\npublic class Comment {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long Id;\r\n\r\n    @ManyToOne()\r\n    @JoinColumn(name = &quot;movie_id&quot;)\r\n    private Movie movie;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    private String comment;\r\n    private LocalDateTime dateAdded;\r\n}\r\n```\r\nAnd here is the service method to save new comment:\r\n```\r\n        public void addNewComment(Long movieId, String comment, String email) {\r\n        User author = userRepository.findByEmail(email).orElseThrow();\r\n        Movie commentedMovie = movieRepository.findById(movieId).orElseThrow();\r\n        Comment newComment = createNewComment(author, commentedMovie, comment);\r\n        commentRepository.save(newComment);\r\n    }\r\n\r\n    Comment createNewComment(User author, Movie movie, String comment){\r\n        Comment newComment = new Comment();\r\n        newComment.setUser(author);\r\n        newComment.setMovie(movie);\r\n        newComment.setComment(comment);\r\n        newComment.setDateAdded(LocalDateTime.now());\r\n        return newComment;\r\n    }\r\n}\r\n```\r\nWhere can be the problem?","title":"Hibernate do not save entity with last-available ID - ConstraintViolationException","body":"<p>I am having a problem with my code. I have created an entity &quot;Comment&quot; with relations Many-To-Many to entities Movie and User (User may comment many movies, and movie can be commented by many users). When I am saving new Comment entity, Hibernate is saving it with ID = 1 (when in a table is already a row with id=1. It should generate ID=1001 because I have 1000 rows of test data). Using CrudRepository</p>\n<p>Here is the table generation file for Liquibase:</p>\n<pre><code>    &lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\n        https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.2.xsd&quot;&gt;\n\n    &lt;changeSet id=&quot;0005-1&quot; author=&quot;Krystian&quot;&gt;\n\n        &lt;createTable tableName=&quot;movie_comment&quot;&gt;\n\n            &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; autoIncrement=&quot;true&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot; primaryKey=&quot;true&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;user_id&quot; type=&quot;BIGINT&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot;\n                             foreignKeyName=&quot;fk_movie_comment_user_id&quot;\n                             referencedTableName=&quot;users&quot;\n                             referencedColumnNames=&quot;id&quot;\n                             unique=&quot;false&quot;\n                /&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;movie_id&quot; type=&quot;BIGINT&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot;\n                             foreignKeyName=&quot;fk_movie_comment_movie_id&quot;\n                             referencedTableName=&quot;movie&quot;\n                             referencedColumnNames=&quot;id&quot;\n                             unique=&quot;false&quot;\n                /&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;comment&quot; type=&quot;VARCHAR(2000)&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;date_added&quot; type=&quot;DATETIME&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot;/&gt;\n            &lt;/column&gt;\n\n        &lt;/createTable&gt;\n\n    &lt;/changeSet&gt;\n\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>Here is the Comment entity class:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;movie_comment&quot;)\npublic class Comment {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long Id;\n\n    @ManyToOne()\n    @JoinColumn(name = &quot;movie_id&quot;)\n    private Movie movie;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    private String comment;\n    private LocalDateTime dateAdded;\n}\n</code></pre>\n<p>And here is the service method to save new comment:</p>\n<pre><code>        public void addNewComment(Long movieId, String comment, String email) {\n        User author = userRepository.findByEmail(email).orElseThrow();\n        Movie commentedMovie = movieRepository.findById(movieId).orElseThrow();\n        Comment newComment = createNewComment(author, commentedMovie, comment);\n        commentRepository.save(newComment);\n    }\n\n    Comment createNewComment(User author, Movie movie, String comment){\n        Comment newComment = new Comment();\n        newComment.setUser(author);\n        newComment.setMovie(movie);\n        newComment.setComment(comment);\n        newComment.setDateAdded(LocalDateTime.now());\n        return newComment;\n    }\n}\n</code></pre>\n<p>Where can be the problem?</p>\n"},{"tags":["java","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656696416,"creation_date":1656696416,"answer_id":72832779,"question_id":72830143,"body_markdown":"    RequestSpecification reqSpec = given().cookie(&quot;cookieKey&quot;, &quot;cookieValue&quot;);\r\n    ((RequestSpecificationImpl) reqSpec).removeCookies();\r\n    \r\n    // following request will be executed without cookies defined above:\r\n    given().spec(reqSpec).when().get(&quot;https://google.com&quot;).then().statusCode(200);","title":"Delete cookies from RequestSpecification","body":"<pre><code>RequestSpecification reqSpec = given().cookie(&quot;cookieKey&quot;, &quot;cookieValue&quot;);\n((RequestSpecificationImpl) reqSpec).removeCookies();\n\n// following request will be executed without cookies defined above:\ngiven().spec(reqSpec).when().get(&quot;https://google.com&quot;).then().statusCode(200);\n</code></pre>\n"}],"owner":{"account_id":22457308,"reputation":11,"user_id":16659811,"display_name":"Zabka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656857472,"creation_date":1656682615,"question_id":72830143,"body_markdown":"```\r\nRequestSpecification requestSpecification = given().cookie(myCookie);\r\nrequestSpecification.cookies(new Cookies()); \r\n```\r\nThis didn&#39;t work, I want to clear cookies in `requestSpecification` \r\n\r\n","title":"Delete cookies from RequestSpecification","body":"<pre><code>RequestSpecification requestSpecification = given().cookie(myCookie);\nrequestSpecification.cookies(new Cookies()); \n</code></pre>\n<p>This didn't work, I want to clear cookies in <code>requestSpecification</code></p>\n"},{"tags":["java","unit-testing","spring-security","mockito","spring-boot-test"],"comments":[{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1639150356,"post_id":70300149,"comment_id":124282366,"body_markdown":"A shot in the dark: your AuthenticationManager is not a mock. Try annotating it with `@MockBean` instead of `@Autowired`.","body":"A shot in the dark: your AuthenticationManager is not a mock. Try annotating it with <code>@MockBean</code> instead of <code>@Autowired</code>."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1639150764,"post_id":70300149,"comment_id":124282538,"body_markdown":"Thank you. I&#39;d tried that before but I&#39;m afraid I get the same error.","body":"Thank you. I&#39;d tried that before but I&#39;m afraid I get the same error."},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1639150902,"post_id":70300149,"comment_id":124282602,"body_markdown":"How do you set AutenticationManager in your controller?","body":"How do you set AutenticationManager in your controller?"},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1639150945,"post_id":70300149,"comment_id":124282621,"body_markdown":"Here is my repo: https://github.com/francislainy/adverts-backend/blob/dev_jwt/src/test/java/com/example/adverts/controller/user/UserCommandControllerTest.java#L333","body":"Here is my repo: <a href=\"https://github.com/francislainy/adverts-backend/blob/dev_jwt/src/test/java/com/example/adverts/controller/user/UserCommandControllerTest.java#L333\" rel=\"nofollow noreferrer\">github.com/francislainy/adverts-backend/blob/dev_jwt/src/tes&zwnj;&#8203;t/&hellip;</a>"},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1639151164,"post_id":70300149,"comment_id":124282708,"body_markdown":"AuthenticationManager is here: https://github.com/francislainy/adverts-backend/blob/dev_jwt/src/main/java/com/example/adverts/MyWebSecurity.java#L30","body":"AuthenticationManager is here: <a href=\"https://github.com/francislainy/adverts-backend/blob/dev_jwt/src/main/java/com/example/adverts/MyWebSecurity.java#L30\" rel=\"nofollow noreferrer\">github.com/francislainy/adverts-backend/blob/dev_jwt/src/mai&zwnj;&#8203;n/&hellip;</a>"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1639153291,"post_id":70300149,"comment_id":124283455,"body_markdown":"Post the full exception stacktrace as well please.","body":"Post the full exception stacktrace as well please."},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1639153523,"post_id":70300149,"comment_id":124283536,"body_markdown":"In the source code I can see that you put `@MockBean` on `authentication`, not on `authenticationManager` - not what I meant. Try removing `@Autowired` from `authenticationManager` field and annotate it with `@MockBean` instead. There&#39;s no way you&#39;ll get a `You cannot use argument matchers outside of verification or stubbing` in this case.","body":"In the source code I can see that you put <code>@MockBean</code> on <code>authentication</code>, not on <code>authenticationManager</code> - not what I meant. Try removing <code>@Autowired</code> from <code>authenticationManager</code> field and annotate it with <code>@MockBean</code> instead. There&#39;s no way you&#39;ll get a <code>You cannot use argument matchers outside of verification or stubbing</code> in this case."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1639154310,"post_id":70300149,"comment_id":124283862,"body_markdown":"Yes, I&#39;d done that too but not on the version pushed. I&#39;ve just done it again now. I have both authentication and authenticationManager as @mockBean and I get the same error.","body":"Yes, I&#39;d done that too but not on the version pushed. I&#39;ve just done it again now. I have both authentication and authenticationManager as @mockBean and I get the same error."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1639154852,"post_id":70300149,"comment_id":124284110,"body_markdown":"```java.lang.NullPointerException\n\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:10) at com.example.adverts.controller.user.UserCommandControllerTest.testLoginReturnsJwt(UserCommandControllerTest.java:359)\n\tat Misplaced or misused argument matcher detected here:\n\n-&gt; at com.example.adverts.controller.user.UserCommandControllerTest.testLoginReturnsJwt(UserCommandControllerTest.java:359)\n\nYou cannot use argument matchers outside of verification or stubbing.\nExamples of correct usage of argument matchers:```","body":"<code>java.lang.NullPointerException \tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:10) at com.example.adverts.controller.user.UserCommandControllerTes&zwnj;&#8203;t.testLoginReturnsJw&zwnj;&#8203;t(UserCommandControl&zwnj;&#8203;lerTest.java:359) \tat Misplaced or misused argument matcher detected here:  -&gt; at com.example.adverts.controller.user.UserCommandControllerTes&zwnj;&#8203;t.testLoginReturnsJw&zwnj;&#8203;t(UserCommandControl&zwnj;&#8203;lerTest.java:359)  You cannot use argument matchers outside of verification or stubbing. Examples of correct usage of argument matchers:</code>"}],"answers":[{"tags":[],"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656857416,"creation_date":1639157443,"answer_id":70308332,"question_id":70300149,"body_markdown":"You need the `AuthenticationManager` to be a mock and in your code it&#39;s not (`@Autowired` injects a &quot;real&quot; instance). You can mock beans using [MockBean](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html) annotation:\r\n\r\n    @MockBean\r\n    AuthenticationManager authenticationManager;\r\n\r\nNow you can mock `authenticationManager` all you want.\r\n\r\nAnother problem with your code is that you are misusing the `ArgumentMatchers.isNotNull()` matcher in your assertions causing an exception:\r\n\r\n    org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\n\tMisplaced or misused argument matcher detected here:\r\n\r\n\t-&gt; at com.example.adverts.controller.user.UserCommandControllerTest.testLoginReturnsJwt(UserCommandControllerTest.java:356)\r\n\r\n\tYou cannot use argument matchers outside of verification or stubbing.\r\n\tExamples of correct usage of argument matchers:\r\n\t\twhen(mock.get(anyInt())).thenReturn(null);\r\n\t\tdoThrow(new RuntimeException()).when(mock).someVoidMethod(any());\r\n\t\tverify(mock).someMethod(contains(&quot;foo&quot;))\r\n\r\n\tThis message may appear after an NullPointerException if the last matcher is returning an object \r\n\tlike any() but the stubbed method signature expect a primitive argument, in this case,\r\n\tuse primitive alternatives.\r\n\t\twhen(mock.get(any())); // bad use, will raise NPE\r\n\t\twhen(mock.get(anyInt())); // correct usage use\r\n\r\n\tAlso, this error might show up because you use argument matchers with methods that cannot be mocked.\r\n\tFollowing methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\r\n\tMocking methods declared on non-public parent classes is not supported.\r\n\r\n[ArgumentMatchers](https://site.mockito.org/javadoc/current/org/mockito/Mockito.html#argument_matchers) provides matchers to be used in method call stubbing and verification. You should use [org.hamcrest.CoreMatchers#notNullValue()](http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/CoreMatchers.html#notNullValue()) instead.\r\n\r\nWith these fixes your test passes all in green.","title":"How to mock AuthenticationManager authenticate method using Spring Security and Mockito","body":"<p>You need the <code>AuthenticationManager</code> to be a mock and in your code it's not (<code>@Autowired</code> injects a &quot;real&quot; instance). You can mock beans using <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html\" rel=\"nofollow noreferrer\">MockBean</a> annotation:</p>\n<pre><code>@MockBean\nAuthenticationManager authenticationManager;\n</code></pre>\n<p>Now you can mock <code>authenticationManager</code> all you want.</p>\n<p>Another problem with your code is that you are misusing the <code>ArgumentMatchers.isNotNull()</code> matcher in your assertions causing an exception:</p>\n<pre><code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nMisplaced or misused argument matcher detected here:\n\n-&gt; at com.example.adverts.controller.user.UserCommandControllerTest.testLoginReturnsJwt(UserCommandControllerTest.java:356)\n\nYou cannot use argument matchers outside of verification or stubbing.\nExamples of correct usage of argument matchers:\n    when(mock.get(anyInt())).thenReturn(null);\n    doThrow(new RuntimeException()).when(mock).someVoidMethod(any());\n    verify(mock).someMethod(contains(&quot;foo&quot;))\n\nThis message may appear after an NullPointerException if the last matcher is returning an object \nlike any() but the stubbed method signature expect a primitive argument, in this case,\nuse primitive alternatives.\n    when(mock.get(any())); // bad use, will raise NPE\n    when(mock.get(anyInt())); // correct usage use\n\nAlso, this error might show up because you use argument matchers with methods that cannot be mocked.\nFollowing methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\nMocking methods declared on non-public parent classes is not supported.\n</code></pre>\n<p><a href=\"https://site.mockito.org/javadoc/current/org/mockito/Mockito.html#argument_matchers\" rel=\"nofollow noreferrer\">ArgumentMatchers</a> provides matchers to be used in method call stubbing and verification. You should use <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/CoreMatchers.html#notNullValue()\" rel=\"nofollow noreferrer\">org.hamcrest.CoreMatchers#notNullValue()</a> instead.</p>\n<p>With these fixes your test passes all in green.</p>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70308332,"answer_count":1,"score":0,"last_activity_date":1656857416,"creation_date":1639114421,"question_id":70300149,"body_markdown":"I&#39;m trying to use Mockito to test whether when the user hits the login api, it will respond with a JWT token. However, I keep getting the `Bad Credentials` error which comes from the authenticationManager.authenticate() method inside Spring Security. I&#39;m now trying to mock this method, but I keep getting a variety of different errors and not sure if my approach is correct. This is my latest implementation, which now fails with `You cannot use argument matchers outside of verification or stubbing` as it&#39;s not liking how I&#39;m using the mocks.\r\n\r\n \r\n\r\n    @WebMvcTest(value = UserCommandController.class, includeFilters = {\r\n        // to include JwtUtil in spring context\r\n        @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = JwtUtil.class)})\r\n    class UserCommandControllerTest {\r\n\r\n    Logger logger = LoggerFactory.getLogger(UserCommandControllerTest.class);\r\n\r\n    @MockBean\r\n    private UserCommandService userCommandService;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private UserDetailsServiceImpl userDetailsServiceImpl;\r\n\r\n    @MockBean\r\n    private JwtUtil jwtUtil;\r\n\r\n    @Autowired\r\n    private JwtRequestFilter jwtRequestFilter;\r\n\r\n    @Autowired\r\n    AuthenticationManager authenticationManager;\r\n\r\n    private static UserDetails dummy;\r\n    private static String jwtToken;\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        dummy = new User(&quot;user@email.com&quot;, &quot;123456&quot;, new ArrayList&lt;&gt;());\r\n        jwtToken = jwtUtil.generateToken(dummy);\r\n    }\r\n\r\n\r\n    @Test\r\n    void testLoginReturnsJwt() throws Exception {\r\n\r\n        AuthenticationRequest authenticationRequest = new AuthenticationRequest(&quot;user@email.com&quot;, &quot;123456&quot;);\r\n        AuthenticationResponse authenticationResponse = new AuthenticationResponse(&quot;anyjwt&quot;);\r\n\r\n        String jsonRequest = asJsonString(authenticationRequest);\r\n        String jsonResponse = asJsonString(authenticationResponse);\r\n\r\n        RequestBuilder request = MockMvcRequestBuilders\r\n                .post(&quot;/api/adverts/user/login&quot;)\r\n                .content(jsonRequest)\r\n                .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                .accept(MediaType.APPLICATION_JSON);\r\n\r\n        Authentication authentication = mock(Authentication.class);\r\n        authentication.setAuthenticated(true);\r\n        when(authentication.isAuthenticated()).thenReturn(true);\r\n\r\n        when(authenticationManager.authenticate(any())).thenReturn(authentication); // Failing here\r\n\r\n        when(jwtUtil.generateToken(dummy)).thenReturn(&quot;124&quot;);\r\n        when(userDetailsServiceImpl.loadUserByUsername(eq(&quot;user@email.com&quot;))).thenReturn(dummy);\r\n\r\n        MvcResult mvcResult = mockMvc.perform(request)\r\n                .andExpect(status().is2xxSuccessful())\r\n                .andExpect(content().json(jsonResponse, true))\r\n                .andExpect(jsonPath(&quot;$.jwt&quot;).value(isNotNull()))\r\n                .andReturn();\r\n    }\r\n\r\nHere is my controller:\r\n\r\n    @PostMapping(value = &quot;/login&quot;, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Object&gt; loginUser(@Valid @RequestBody AuthenticationRequest authenticationRequest) throws Exception {\r\n\r\n        try {\r\n            Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword()));\r\n        } catch (BadCredentialsException e) {\r\n            throw new Exception(&quot;incorrect username or password&quot;, e);\r\n        }\r\n\r\n        UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\r\n\r\n        String jwt = jwtTokenUtil.generateToken(userDetails);\r\n\r\n        return ResponseEntity.ok(new AuthenticationResponse(jwt));\r\n    }\r\n\r\n\r\nThank you.\r\n\r\nPS: Here is my repo and where AuthenticationManager is set: https://github.com/francislainy/adverts-backend/blob/dev_jwt/src/main/java/com/example/adverts/MyWebSecurity.java#L30","title":"How to mock AuthenticationManager authenticate method using Spring Security and Mockito","body":"<p>I'm trying to use Mockito to test whether when the user hits the login api, it will respond with a JWT token. However, I keep getting the <code>Bad Credentials</code> error which comes from the authenticationManager.authenticate() method inside Spring Security. I'm now trying to mock this method, but I keep getting a variety of different errors and not sure if my approach is correct. This is my latest implementation, which now fails with <code>You cannot use argument matchers outside of verification or stubbing</code> as it's not liking how I'm using the mocks.</p>\n<pre><code>@WebMvcTest(value = UserCommandController.class, includeFilters = {\n    // to include JwtUtil in spring context\n    @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = JwtUtil.class)})\nclass UserCommandControllerTest {\n\nLogger logger = LoggerFactory.getLogger(UserCommandControllerTest.class);\n\n@MockBean\nprivate UserCommandService userCommandService;\n\n@Autowired\nprivate MockMvc mockMvc;\n\n@MockBean\nprivate UserDetailsServiceImpl userDetailsServiceImpl;\n\n@MockBean\nprivate JwtUtil jwtUtil;\n\n@Autowired\nprivate JwtRequestFilter jwtRequestFilter;\n\n@Autowired\nAuthenticationManager authenticationManager;\n\nprivate static UserDetails dummy;\nprivate static String jwtToken;\n\n@BeforeEach\npublic void setUp() {\n    dummy = new User(&quot;user@email.com&quot;, &quot;123456&quot;, new ArrayList&lt;&gt;());\n    jwtToken = jwtUtil.generateToken(dummy);\n}\n\n\n@Test\nvoid testLoginReturnsJwt() throws Exception {\n\n    AuthenticationRequest authenticationRequest = new AuthenticationRequest(&quot;user@email.com&quot;, &quot;123456&quot;);\n    AuthenticationResponse authenticationResponse = new AuthenticationResponse(&quot;anyjwt&quot;);\n\n    String jsonRequest = asJsonString(authenticationRequest);\n    String jsonResponse = asJsonString(authenticationResponse);\n\n    RequestBuilder request = MockMvcRequestBuilders\n            .post(&quot;/api/adverts/user/login&quot;)\n            .content(jsonRequest)\n            .contentType(MediaType.APPLICATION_JSON_VALUE)\n            .accept(MediaType.APPLICATION_JSON);\n\n    Authentication authentication = mock(Authentication.class);\n    authentication.setAuthenticated(true);\n    when(authentication.isAuthenticated()).thenReturn(true);\n\n    when(authenticationManager.authenticate(any())).thenReturn(authentication); // Failing here\n\n    when(jwtUtil.generateToken(dummy)).thenReturn(&quot;124&quot;);\n    when(userDetailsServiceImpl.loadUserByUsername(eq(&quot;user@email.com&quot;))).thenReturn(dummy);\n\n    MvcResult mvcResult = mockMvc.perform(request)\n            .andExpect(status().is2xxSuccessful())\n            .andExpect(content().json(jsonResponse, true))\n            .andExpect(jsonPath(&quot;$.jwt&quot;).value(isNotNull()))\n            .andReturn();\n}\n</code></pre>\n<p>Here is my controller:</p>\n<pre><code>@PostMapping(value = &quot;/login&quot;, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Object&gt; loginUser(@Valid @RequestBody AuthenticationRequest authenticationRequest) throws Exception {\n\n    try {\n        Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword()));\n    } catch (BadCredentialsException e) {\n        throw new Exception(&quot;incorrect username or password&quot;, e);\n    }\n\n    UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\n\n    String jwt = jwtTokenUtil.generateToken(userDetails);\n\n    return ResponseEntity.ok(new AuthenticationResponse(jwt));\n}\n</code></pre>\n<p>Thank you.</p>\n<p>PS: Here is my repo and where AuthenticationManager is set: <a href=\"https://github.com/francislainy/adverts-backend/blob/dev_jwt/src/main/java/com/example/adverts/MyWebSecurity.java#L30\" rel=\"nofollow noreferrer\">https://github.com/francislainy/adverts-backend/blob/dev_jwt/src/main/java/com/example/adverts/MyWebSecurity.java#L30</a></p>\n"},{"tags":["java","swing","jtextfield","undo-redo"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656777678,"creation_date":1656777678,"answer_id":72840503,"question_id":72840455,"body_markdown":"I&#39;m not 100% sure, but my guess is that the input map you use is shared among all components in the window. The puts for the first two fields are overwritten by that of the third.\r\n\r\nIf I use `getInputMap()` instead then undoing seems to work per text field.","title":"Creating an undoable JTextField","body":"<p>I'm not 100% sure, but my guess is that the input map you use is shared among all components in the window. The puts for the first two fields are overwritten by that of the third.</p>\n<p>If I use <code>getInputMap()</code> instead then undoing seems to work per text field.</p>\n"},{"tags":[],"owner":{"account_id":5830612,"reputation":93,"user_id":4595266,"accept_rate":56,"display_name":"cdubbs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656857324,"creation_date":1656857324,"answer_id":72847145,"question_id":72840455,"body_markdown":"Corrected code for posterity:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Event;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.AbstractAction;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.KeyStroke;\r\nimport javax.swing.event.UndoableEditEvent;\r\nimport javax.swing.event.UndoableEditListener;\r\nimport javax.swing.undo.CannotRedoException;\r\nimport javax.swing.undo.CannotUndoException;\r\nimport javax.swing.undo.UndoManager;\r\n\r\npublic class UndoableTextFieldTest \r\n{\r\n    public static void main(String... s)\r\n    {\r\n        new UndoableTextFieldTest();\r\n    }\r\n\r\n    public UndoableTextFieldTest() \r\n{    \r\n    KeyStroke undoKeyStroke = KeyStroke.getKeyStroke(KeyEvent.VK_Z, Event.CTRL_MASK);\r\n    KeyStroke redoKeyStroke = KeyStroke.getKeyStroke(KeyEvent.VK_Y, Event.CTRL_MASK);\r\n    \r\n    public UndoableJTextField()\r\n    {\r\n\t    UndoManager undoManager = new UndoManager();\r\n\t\r\n\t    getDocument().addUndoableEditListener(new UndoableEditListener() \r\n\t    {\r\n\t        @Override\r\n\t        public void undoableEditHappened(UndoableEditEvent e) \r\n\t        {\r\n\t        \tundoManager.addEdit(e.getEdit());\r\n\t        }\r\n\t    });\r\n\t    \t    \r\n\t    getInputMap().put(undoKeyStroke, &quot;undoKeyStroke&quot;);\r\n\t    getActionMap().put(&quot;undoKeyStroke&quot;, new AbstractAction() \r\n\t    {\r\n\t\t    @Override\r\n\t\t    public void actionPerformed(ActionEvent e) \r\n\t\t    {\r\n\t\t        try { undoManager.undo(); } \r\n\t\t        catch (CannotUndoException cue) {}\r\n\t\t    }\r\n\t\t});\r\n\r\n\t    getInputMap().put(redoKeyStroke, &quot;redoKeyStroke&quot;);\r\n\t    getActionMap().put(&quot;redoKeyStroke&quot;, new AbstractAction() \r\n\t    {\r\n\t\t    @Override\r\n\t\t    public void actionPerformed(ActionEvent e) \r\n\t\t    {\r\n\t\t        try { undoManager.redo(); } \r\n\t\t        catch (CannotRedoException cre) {}\r\n\t\t    }\r\n\t   });\r\n    }    \r\n}","title":"Creating an undoable JTextField","body":"<p>Corrected code for posterity:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Event;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport javax.swing.AbstractAction;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\nimport javax.swing.KeyStroke;\nimport javax.swing.event.UndoableEditEvent;\nimport javax.swing.event.UndoableEditListener;\nimport javax.swing.undo.CannotRedoException;\nimport javax.swing.undo.CannotUndoException;\nimport javax.swing.undo.UndoManager;\n\npublic class UndoableTextFieldTest \n{\n    public static void main(String... s)\n    {\n        new UndoableTextFieldTest();\n    }\n\n    public UndoableTextFieldTest() \n{    \n    KeyStroke undoKeyStroke = KeyStroke.getKeyStroke(KeyEvent.VK_Z, Event.CTRL_MASK);\n    KeyStroke redoKeyStroke = KeyStroke.getKeyStroke(KeyEvent.VK_Y, Event.CTRL_MASK);\n    \n    public UndoableJTextField()\n    {\n        UndoManager undoManager = new UndoManager();\n    \n        getDocument().addUndoableEditListener(new UndoableEditListener() \n        {\n            @Override\n            public void undoableEditHappened(UndoableEditEvent e) \n            {\n                undoManager.addEdit(e.getEdit());\n            }\n        });\n                \n        getInputMap().put(undoKeyStroke, &quot;undoKeyStroke&quot;);\n        getActionMap().put(&quot;undoKeyStroke&quot;, new AbstractAction() \n        {\n            @Override\n            public void actionPerformed(ActionEvent e) \n            {\n                try { undoManager.undo(); } \n                catch (CannotUndoException cue) {}\n            }\n        });\n\n        getInputMap().put(redoKeyStroke, &quot;redoKeyStroke&quot;);\n        getActionMap().put(&quot;redoKeyStroke&quot;, new AbstractAction() \n        {\n            @Override\n            public void actionPerformed(ActionEvent e) \n            {\n                try { undoManager.redo(); } \n                catch (CannotRedoException cre) {}\n            }\n       });\n    }    \n}\n</code></pre>\n"}],"owner":{"account_id":5830612,"reputation":93,"user_id":4595266,"accept_rate":56,"display_name":"cdubbs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72840503,"answer_count":2,"score":1,"last_activity_date":1656857324,"creation_date":1656777294,"question_id":72840455,"body_markdown":"I&#39;ve implemented an undoable JTextField, the issue is when I create more than one, it is only undoing the last instance that is created. The code is below - to replicate, enter some text into the third field then enter some code into the first text field and type to ctrl-z to undo - it only removes text from the third text field. Can anyone see what I&#39;m doing incorrectly?\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Event;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.AbstractAction;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.KeyStroke;\r\nimport javax.swing.event.UndoableEditEvent;\r\nimport javax.swing.event.UndoableEditListener;\r\nimport javax.swing.undo.CannotRedoException;\r\nimport javax.swing.undo.CannotUndoException;\r\nimport javax.swing.undo.UndoManager;\r\n\r\npublic class UndoableTextFieldTest \r\n{\r\n\tpublic static void main(String... s)\r\n\t{\r\n\t\tnew UndoableTextFieldTest();\r\n\t}\r\n\r\n\tpublic UndoableTextFieldTest() \r\n\t{\r\n\t\tJFrame frame = new JFrame(&quot;UndoableTextFieldTest&quot;);\r\n\r\n\t\tUndoableTextField f1 = new UndoableTextField();\r\n\t\tUndoableTextField f2 = new UndoableTextField();\r\n\t\tUndoableTextField f3 = new UndoableTextField();\r\n\r\n\t\tframe.setLayout(new BorderLayout());\r\n\t\tframe.getContentPane().add(f1, BorderLayout.NORTH);\r\n\t\tframe.getContentPane().add(f2, BorderLayout.CENTER);\r\n\t\tframe.getContentPane().add(f3, BorderLayout.SOUTH);\r\n\r\n\t\tframe.setSize(360, 115);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\r\n\r\n\tpublic class UndoableTextField extends JTextField\r\n\t{    \r\n\t\tKeyStroke undoKeyStroke = KeyStroke.getKeyStroke(KeyEvent.VK_Z, Event.CTRL_MASK);\r\n\t\tKeyStroke redoKeyStroke = KeyStroke.getKeyStroke(KeyEvent.VK_Y, Event.CTRL_MASK);\r\n\r\n\t\tpublic UndoableTextField()\r\n\t\t{\r\n\t\t\tUndoManager undoManager = new UndoManager();\r\n\r\n\t\t\tgetDocument().addUndoableEditListener(new UndoableEditListener() \r\n\t\t\t{\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void undoableEditHappened(UndoableEditEvent e) \r\n\t\t\t\t{\r\n\t\t\t\t\tundoManager.addEdit(e.getEdit());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tgetInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(undoKeyStroke, &quot;undoKeyStroke&quot;);\r\n\r\n\t\t\tgetActionMap().put(&quot;undoKeyStroke&quot;, new AbstractAction() \r\n\t\t\t{\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) \r\n\t\t\t\t{\r\n\t\t\t\t\ttry \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tundoManager.undo();\r\n\t\t\t\t\t} catch (CannotUndoException cue) {}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tgetInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(redoKeyStroke, &quot;redoKeyStroke&quot;);\r\n\t\t\tgetActionMap().put(&quot;redoKeyStroke&quot;, new AbstractAction() \r\n\t\t\t{\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) \r\n\t\t\t\t{\r\n\t\t\t\t\ttry \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tundoManager.redo();\r\n\t\t\t\t\t} catch (CannotRedoException cre) {}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}    \r\n\t}\r\n}\r\n```","title":"Creating an undoable JTextField","body":"<p>I've implemented an undoable JTextField, the issue is when I create more than one, it is only undoing the last instance that is created. The code is below - to replicate, enter some text into the third field then enter some code into the first text field and type to ctrl-z to undo - it only removes text from the third text field. Can anyone see what I'm doing incorrectly?</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Event;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport javax.swing.AbstractAction;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\nimport javax.swing.KeyStroke;\nimport javax.swing.event.UndoableEditEvent;\nimport javax.swing.event.UndoableEditListener;\nimport javax.swing.undo.CannotRedoException;\nimport javax.swing.undo.CannotUndoException;\nimport javax.swing.undo.UndoManager;\n\npublic class UndoableTextFieldTest \n{\n    public static void main(String... s)\n    {\n        new UndoableTextFieldTest();\n    }\n\n    public UndoableTextFieldTest() \n    {\n        JFrame frame = new JFrame(&quot;UndoableTextFieldTest&quot;);\n\n        UndoableTextField f1 = new UndoableTextField();\n        UndoableTextField f2 = new UndoableTextField();\n        UndoableTextField f3 = new UndoableTextField();\n\n        frame.setLayout(new BorderLayout());\n        frame.getContentPane().add(f1, BorderLayout.NORTH);\n        frame.getContentPane().add(f2, BorderLayout.CENTER);\n        frame.getContentPane().add(f3, BorderLayout.SOUTH);\n\n        frame.setSize(360, 115);\n        frame.setVisible(true);\n    }\n\n\n    public class UndoableTextField extends JTextField\n    {    \n        KeyStroke undoKeyStroke = KeyStroke.getKeyStroke(KeyEvent.VK_Z, Event.CTRL_MASK);\n        KeyStroke redoKeyStroke = KeyStroke.getKeyStroke(KeyEvent.VK_Y, Event.CTRL_MASK);\n\n        public UndoableTextField()\n        {\n            UndoManager undoManager = new UndoManager();\n\n            getDocument().addUndoableEditListener(new UndoableEditListener() \n            {\n                @Override\n                public void undoableEditHappened(UndoableEditEvent e) \n                {\n                    undoManager.addEdit(e.getEdit());\n                }\n            });\n\n            getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(undoKeyStroke, &quot;undoKeyStroke&quot;);\n\n            getActionMap().put(&quot;undoKeyStroke&quot;, new AbstractAction() \n            {\n                @Override\n                public void actionPerformed(ActionEvent e) \n                {\n                    try \n                    {\n                        undoManager.undo();\n                    } catch (CannotUndoException cue) {}\n                }\n            });\n\n            getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(redoKeyStroke, &quot;redoKeyStroke&quot;);\n            getActionMap().put(&quot;redoKeyStroke&quot;, new AbstractAction() \n            {\n                @Override\n                public void actionPerformed(ActionEvent e) \n                {\n                    try \n                    {\n                        undoManager.redo();\n                    } catch (CannotRedoException cre) {}\n                }\n            });\n        }    \n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":2508750,"reputation":4397,"user_id":2181703,"accept_rate":20,"display_name":"Optional"},"score":1,"creation_date":1442914023,"post_id":32713109,"comment_id":53268808,"body_markdown":"Chances are you are trying to convert the value of ObjectNode to an objectNode. ObjectNode means {&quot;test&quot;:&quot;value&quot;} and you are probably typecasting value node. If you can share the code, may be suggestions can be made on which node you should cast","body":"Chances are you are trying to convert the value of ObjectNode to an objectNode. ObjectNode means {&quot;test&quot;:&quot;value&quot;} and you are probably typecasting value node. If you can share the code, may be suggestions can be made on which node you should cast"}],"answers":[{"tags":[],"owner":{"account_id":6764182,"reputation":1550,"user_id":5209693,"accept_rate":57,"display_name":"Mr. Noddy"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1481123020,"creation_date":1442992939,"answer_id":32733409,"question_id":32713109,"body_markdown":"Finally, I got the solution as follows... \r\n\r\n    JsonNode jsonNode = Json.toJson(&quot;Json String&quot;);\r\n    ObjectNode node = (ObjectNode) new ObjectMapper().readTree(jsonNode.asText());\r\n    //perform operations on node\r\n    jsonNode = (JsonNode) new ObjectMapper().readTree(node.toString());\r\n\r\n  or another one as below...\r\n\r\n    ObjectNode node = (ObjectNode) new ObjectMapper().readTree(&quot;Json String&quot;)\r\n    //perform operations on node\r\n    jsonNode = (JsonNode) new ObjectMapper().readTree(node.toString());\r\n\r\n\r\nbut I don&#39;t know if this is good approach or not ?\r\nIf there is any better than above, please let me know.\r\nThank you! ","title":"How to convert JsonNode to ObjectNode","body":"<p>Finally, I got the solution as follows... </p>\n\n<pre><code>JsonNode jsonNode = Json.toJson(\"Json String\");\nObjectNode node = (ObjectNode) new ObjectMapper().readTree(jsonNode.asText());\n//perform operations on node\njsonNode = (JsonNode) new ObjectMapper().readTree(node.toString());\n</code></pre>\n\n<p>or another one as below...</p>\n\n<pre><code>ObjectNode node = (ObjectNode) new ObjectMapper().readTree(\"Json String\")\n//perform operations on node\njsonNode = (JsonNode) new ObjectMapper().readTree(node.toString());\n</code></pre>\n\n<p>but I don't know if this is good approach or not ?\nIf there is any better than above, please let me know.\nThank you! </p>\n"},{"tags":[],"owner":{"account_id":6865350,"reputation":1548,"user_id":5580181,"accept_rate":58,"display_name":"Daniele Licitra"},"down_vote_count":1,"up_vote_count":57,"is_accepted":false,"score":56,"last_activity_date":1506020471,"creation_date":1482397884,"answer_id":41279446,"question_id":32713109,"body_markdown":"You can convert a `JsonNode` in an `ObjectNode` in this simple way:\r\n    \r\n    ObjectNode objectNode = jsonNode.deepCopy();\r\n\r\n[Available from Jackson 2.0][1] and tested with Jackson 2.4.0\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/JsonNode.html#deepCopy()","title":"How to convert JsonNode to ObjectNode","body":"<p>You can convert a <code>JsonNode</code> in an <code>ObjectNode</code> in this simple way:</p>\n\n<pre><code>ObjectNode objectNode = jsonNode.deepCopy();\n</code></pre>\n\n<p><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/JsonNode.html#deepCopy()\" rel=\"noreferrer\">Available from Jackson 2.0</a> and tested with Jackson 2.4.0</p>\n"},{"tags":[],"owner":{"account_id":12612936,"reputation":25,"user_id":9171373,"display_name":"Daejong Lin"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1515049684,"creation_date":1515047285,"answer_id":48089820,"question_id":32713109,"body_markdown":"I try it some times, it will be ok! You only define a `Student Class` to map the properties. Then you could convert the `jsonNode` to `Student` Object. \r\n\r\n`Student student = objectMapper.convertValue(jsonNode1, Student.class);`\r\n\r\nI think this will be suitable for your need! ","title":"How to convert JsonNode to ObjectNode","body":"<p>I try it some times, it will be ok! You only define a <code>Student Class</code> to map the properties. Then you could convert the <code>jsonNode</code> to <code>Student</code> Object. </p>\n\n<p><code>Student student = objectMapper.convertValue(jsonNode1, Student.class);</code></p>\n\n<p>I think this will be suitable for your need! </p>\n"},{"tags":[],"owner":{"account_id":4457148,"reputation":861,"user_id":3627023,"accept_rate":43,"display_name":"dozer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1564475744,"creation_date":1564475744,"answer_id":57267495,"question_id":32713109,"body_markdown":"I had this error too although in my case it was a stupid mistake.\r\nI accidentally imported `org.codehaus.jackson.node.ObjectNode` instead of `com.fasterxml.jackson.databind.node.ObjectNode`.\r\nUsing the jackson ObjectNode fixed the issuse.","title":"How to convert JsonNode to ObjectNode","body":"<p>I had this error too although in my case it was a stupid mistake.\nI accidentally imported <code>org.codehaus.jackson.node.ObjectNode</code> instead of <code>com.fasterxml.jackson.databind.node.ObjectNode</code>.\nUsing the jackson ObjectNode fixed the issuse.</p>\n"},{"tags":[],"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656856830,"creation_date":1656856830,"answer_id":72847100,"question_id":32713109,"body_markdown":"You can covert JsonNode to ObjectNode this way:\r\n\r\n    JsonNode demoPath = requestParams.at(&quot;/Subscription/0&quot;);\r\n    ((ObjectNode) demoPath).put(&quot;mylID&quot;, &quot;test12&quot;);","title":"How to convert JsonNode to ObjectNode","body":"<p>You can covert JsonNode to ObjectNode this way:</p>\n<pre><code>JsonNode demoPath = requestParams.at(&quot;/Subscription/0&quot;);\n((ObjectNode) demoPath).put(&quot;mylID&quot;, &quot;test12&quot;);\n</code></pre>\n"}],"owner":{"account_id":6764182,"reputation":1550,"user_id":5209693,"accept_rate":57,"display_name":"Mr. Noddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101129,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":32733409,"answer_count":5,"score":42,"last_activity_date":1656856830,"creation_date":1442913574,"question_id":32713109,"body_markdown":"I have a `com.fasterxml JsonNode` object with some data. I need to do some manipulation on its data. I googled for answer but didn&#39;t got it properly. Can you please suggest me how to manipulate JsonNode data. \r\nI have also tried to convert `JsonNode` to `ObjectNode` as follows\r\n\r\n    ObjectNode objectNode = (ObjectNode)filterJson;\r\n\r\nbut its giving following exception....\r\n\r\n    java.lang.ClassCastException: com.fasterxml.jackson.databind.node.TextNode cannot be cast to \r\n    com.fasterxml.jackson.databind.node.ObjectNode\r\n\r\nplease help!!","title":"How to convert JsonNode to ObjectNode","body":"<p>I have a <code>com.fasterxml JsonNode</code> object with some data. I need to do some manipulation on its data. I googled for answer but didn't got it properly. Can you please suggest me how to manipulate JsonNode data. \nI have also tried to convert <code>JsonNode</code> to <code>ObjectNode</code> as follows</p>\n\n<pre><code>ObjectNode objectNode = (ObjectNode)filterJson;\n</code></pre>\n\n<p>but its giving following exception....</p>\n\n<pre><code>java.lang.ClassCastException: com.fasterxml.jackson.databind.node.TextNode cannot be cast to \ncom.fasterxml.jackson.databind.node.ObjectNode\n</code></pre>\n\n<p>please help!!</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1656849455,"post_id":72846284,"comment_id":128667014,"body_markdown":"You have to give us the *full* stack trace, in your question, formatted as code for readability.","body":"You have to give us the <i>full</i> stack trace, in your question, formatted as code for readability."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1656849587,"post_id":72846284,"comment_id":128667041,"body_markdown":"Closing those scanner will close `System.in` as well. Not a good idea if you plan to read from the standard input again.","body":"Closing those scanner will close <code>System.in</code> as well. Not a good idea if you plan to read from the standard input again."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656849627,"post_id":72846284,"comment_id":128667051,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1656849690,"post_id":72846284,"comment_id":128667066,"body_markdown":"And by the way, asking for input in the constructor is really bad design. You should ask for those input outside the classes and then pass them what you read as parameters to the constructor. This will allow you to have only one scanner that you can close at the end of your program.","body":"And by the way, asking for input in the constructor is really bad design. You should ask for those input outside the classes and then pass them what you read as parameters to the constructor. This will allow you to have only one scanner that you can close at the end of your program."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1656849956,"post_id":72846284,"comment_id":128667116,"body_markdown":"Does this answer your question? [Why is not possible to reopen a closed (standard) stream?](https://stackoverflow.com/questions/33555283/why-is-not-possible-to-reopen-a-closed-standard-stream)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33555283/why-is-not-possible-to-reopen-a-closed-standard-stream\">Why is not possible to reopen a closed (standard) stream?</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1656851204,"post_id":72846284,"comment_id":128667362,"body_markdown":"@tgdavies No, that is different problem. Notice that there is no `nextLine()` call in OP code. Here Scanner is trying to read from already closed stream (notice that `System.in` is being closed inside all constructors). Since input stream is closed it means that there can&#39;t be more data to read from it. So each attempt to read from closed stream suggest problem with logic of the application. To prevent farther problems (like damaging integrity of DB) JVM attempts to stop such flawed application by throwing *runtime exceptions*, here by throwing `java.util.NoSuchElementException`.","body":"@tgdavies No, that is different problem. Notice that there is no <code>nextLine()</code> call in OP code. Here Scanner is trying to read from already closed stream (notice that <code>System.in</code> is being closed inside all constructors). Since input stream is closed it means that there can&#39;t be more data to read from it. So each attempt to read from closed stream suggest problem with logic of the application. To prevent farther problems (like damaging integrity of DB) JVM attempts to stop such flawed application by throwing <i>runtime exceptions</i>, here by throwing <code>java.util.NoSuchElementException</code>."},{"owner":{"account_id":16919179,"reputation":159,"user_id":12236389,"display_name":"Becker"},"score":0,"creation_date":1656851711,"post_id":72846284,"comment_id":128667460,"body_markdown":"I get it. Thank you all so much.","body":"I get it. Thank you all so much."}],"answers":[{"tags":[],"owner":{"account_id":25690153,"reputation":11,"user_id":19451690,"display_name":"Alexandru Bitlan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656851587,"creation_date":1656851587,"answer_id":72846542,"question_id":72846284,"body_markdown":"you have a few problems..\r\n\r\nfirst, you need to learn how to write more clear code, like:\r\n   circle, instead of &quot;cir&quot;. like Circle circle=new Circle();\r\nsecond, we usually don&#39;t use Scanner inside a constructor\r\n   try to use inside the method. or create a method for input read.\r\nthird,  don&#39;t close the scanner. (most probably this is the cause of the mistake).\r\ntry to comment your code..\r\n   ","title":"Error java.util.NoSuchElementException in java","body":"<p>you have a few problems..</p>\n<p>first, you need to learn how to write more clear code, like:\ncircle, instead of &quot;cir&quot;. like Circle circle=new Circle();\nsecond, we usually don't use Scanner inside a constructor\ntry to use inside the method. or create a method for input read.\nthird,  don't close the scanner. (most probably this is the cause of the mistake).\ntry to comment your code..</p>\n"},{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656856757,"creation_date":1656856757,"answer_id":72847090,"question_id":72846284,"body_markdown":" 1. Your Scanner should be in the main class and be static you only use one and no need more.\r\n 2. Circle and Rectangle have some base methodes which should be outsorced so use an interface or in this case better a abstract class like Geoform as Superclass.\r\n 3. And don&#39;t close the scanner, it is simply not necessary. \r\n\r\n  \r\n\r\nMain:\r\n\r\n    public class Main {\r\n            private static final Scanner scan = new Scanner(System.in);\r\n    \r\n            private static Circle createCircle(){\r\n                System.out.print(&quot;radius = &quot;);\r\n                double radius = scan.nextDouble();\r\n                return new Circle(radius);\r\n            }\r\n    \r\n            private static Rectangle createRectangle() {\r\n                System.out.print(&quot;width = &quot;);\r\n                double width = scan.nextDouble();\r\n                System.out.print(&quot;length = &quot;);\r\n                double length = scan.nextDouble();\r\n                \r\n                return new Rectangle(width, length);\r\n            }\r\n    \r\n            public static void main(String[] args) {\r\n    \r\n                Circle cir = createCircle();\r\n                Rectangle rec = createRectangle();\r\n    \r\n                cir.printArea();\r\n                cir.printPerimeter();\r\n                rec.printArea();\r\n                rec.printPerimeter();\r\n            }\r\n        }\r\n\r\nGeoform:\r\n\r\n    public abstract class Geoform {\r\n        final double area;\r\n        final double perimeter;\r\n\r\n        public Geoform(double area, double perimeter) {\r\n            this.area = area;\r\n            this.perimeter = perimeter;\r\n        }\r\n\r\n        public void printArea() {\r\n            System.out.println(&quot;Area = &quot; + area);\r\n        }\r\n\r\n        public void printPerimeter() {\r\n            System.out.println(&quot;Perimeter = &quot; + perimeter);\r\n        }\r\n    }\r\n\r\nCircle: \r\n\r\n    public class Circle extends Geoform{\r\n        public static final double PI = 3.14;\r\n        private final double radius;\r\n        public Circle(double radius) {\r\n            super(PI*radius*radius, 2*PI*radius);\r\n            this.radius = radius;\r\n        }\r\n\r\n        public double getRadius() {\r\n            return radius;\r\n        }\r\n    }\r\n\r\nRectangle: \r\n\r\n    public class Rectangle extends Geoform {\r\n        private final double length, width;\r\n        public Rectangle(double width, double length) {\r\n            super(length * width, (length + width) * 2);\r\n            this.width = width;\r\n            this.length = length;\r\n        }\r\n\r\n        public double getLength() {\r\n            return length;\r\n        }\r\n\r\n        public double getWidth() {\r\n            return width;\r\n        }\r\n    }","title":"Error java.util.NoSuchElementException in java","body":"<ol>\n<li>Your Scanner should be in the main class and be static you only use one and no need more.</li>\n<li>Circle and Rectangle have some base methodes which should be outsorced so use an interface or in this case better a abstract class like Geoform as Superclass.</li>\n<li>And don't close the scanner, it is simply not necessary.</li>\n</ol>\n<p>Main:</p>\n<pre><code>public class Main {\n        private static final Scanner scan = new Scanner(System.in);\n\n        private static Circle createCircle(){\n            System.out.print(&quot;radius = &quot;);\n            double radius = scan.nextDouble();\n            return new Circle(radius);\n        }\n\n        private static Rectangle createRectangle() {\n            System.out.print(&quot;width = &quot;);\n            double width = scan.nextDouble();\n            System.out.print(&quot;length = &quot;);\n            double length = scan.nextDouble();\n            \n            return new Rectangle(width, length);\n        }\n\n        public static void main(String[] args) {\n\n            Circle cir = createCircle();\n            Rectangle rec = createRectangle();\n\n            cir.printArea();\n            cir.printPerimeter();\n            rec.printArea();\n            rec.printPerimeter();\n        }\n    }\n</code></pre>\n<p>Geoform:</p>\n<pre><code>public abstract class Geoform {\n    final double area;\n    final double perimeter;\n\n    public Geoform(double area, double perimeter) {\n        this.area = area;\n        this.perimeter = perimeter;\n    }\n\n    public void printArea() {\n        System.out.println(&quot;Area = &quot; + area);\n    }\n\n    public void printPerimeter() {\n        System.out.println(&quot;Perimeter = &quot; + perimeter);\n    }\n}\n</code></pre>\n<p>Circle:</p>\n<pre><code>public class Circle extends Geoform{\n    public static final double PI = 3.14;\n    private final double radius;\n    public Circle(double radius) {\n        super(PI*radius*radius, 2*PI*radius);\n        this.radius = radius;\n    }\n\n    public double getRadius() {\n        return radius;\n    }\n}\n</code></pre>\n<p>Rectangle:</p>\n<pre><code>public class Rectangle extends Geoform {\n    private final double length, width;\n    public Rectangle(double width, double length) {\n        super(length * width, (length + width) * 2);\n        this.width = width;\n        this.length = length;\n    }\n\n    public double getLength() {\n        return length;\n    }\n\n    public double getWidth() {\n        return width;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16919179,"reputation":159,"user_id":12236389,"display_name":"Becker"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72847090,"answer_count":2,"score":0,"last_activity_date":1656856757,"creation_date":1656849253,"question_id":72846284,"body_markdown":"I am implementing a program which calculate the area and perimeter of a circle and a rectangle. The radius (of circle), width, height (of rectangle) get from user. The problem is: after I type in the radius parameter, the console pop out the message:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.util.NoSuchElementException at...\r\n\r\nMain.java is located in main package, Circle.java and Rectangle.java are located in shapes package.\r\n\r\nMain.java:\r\n\r\n    package main;\r\n    \r\n    import shapes.Circle;\r\n    import shapes.Rectangle;\r\n    \r\n    //import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            Circle cir = new Circle();\r\n            Rectangle rec = new Rectangle();\r\n    \r\n            cir.printArea();\r\n            cir.printPerimeter();\r\n            rec.printArea();\r\n            rec.printPerimeter();\r\n        }\r\n    }\r\n\r\nCircle.java:\r\n\r\n    package shapes;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Circle {\r\n        final double PI = 3.14;\r\n        double radius;\r\n        double area, perimeter;\r\n    \r\n        public Circle(double radius) {\r\n            this.radius = radius;\r\n            area = PI*radius*radius;\r\n            perimeter = 2*PI*radius;\r\n        }\r\n    \r\n        public Circle() {\r\n            System.out.print(&quot;radius = &quot;);\r\n            Scanner scan = new Scanner(System.in);\r\n            radius = scan.nextDouble();\r\n            scan.close();\r\n            area = PI*radius*radius;\r\n            perimeter = 2*PI*radius;\r\n        }\r\n    \r\n        public void printArea() {\r\n            System.out.println(&quot;Area of circle = &quot; + area);\r\n        }\r\n    \r\n        public void printPerimeter() {\r\n            System.out.println(&quot;Perimeter of circle = &quot; + perimeter);\r\n        }\r\n    }\r\n\r\nRectangle.java: \r\n\r\n    package shapes;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Rectangle {\r\n        public double length, width;\r\n        double area, perimeter;\r\n    \r\n        public Rectangle(double length, double width) {\r\n            this.length = length;\r\n            this.width = width;\r\n    \r\n            area = length * width;\r\n            perimeter = (length + width) * 2;\r\n        }\r\n    \r\n        public Rectangle() {\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.print(&quot;width = &quot;);\r\n            width = scan.nextDouble();\r\n            System.out.print(&quot;length = &quot;);\r\n            length = scan.nextDouble();\r\n            scan.close();\r\n    \r\n            area = length * width;\r\n            perimeter = (length + width) * 2;\r\n        }\r\n    \r\n        public void printArea() {\r\n            System.out.println(&quot;Area of rectangle = &quot; + area);\r\n        }\r\n    \r\n        public void printPerimeter() {\r\n            System.out.println(&quot;Perimeter of rectangle = &quot; + perimeter);\r\n        }\r\n    }\r\n\r\nWhy does this happen and how to fix it?\r\n\r\n","title":"Error java.util.NoSuchElementException in java","body":"<p>I am implementing a program which calculate the area and perimeter of a circle and a rectangle. The radius (of circle), width, height (of rectangle) get from user. The problem is: after I type in the radius parameter, the console pop out the message:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.util.NoSuchElementException at...</p>\n</blockquote>\n<p>Main.java is located in main package, Circle.java and Rectangle.java are located in shapes package.</p>\n<p>Main.java:</p>\n<pre><code>package main;\n\nimport shapes.Circle;\nimport shapes.Rectangle;\n\n//import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Circle cir = new Circle();\n        Rectangle rec = new Rectangle();\n\n        cir.printArea();\n        cir.printPerimeter();\n        rec.printArea();\n        rec.printPerimeter();\n    }\n}\n</code></pre>\n<p>Circle.java:</p>\n<pre><code>package shapes;\n\nimport java.util.Scanner;\n\npublic class Circle {\n    final double PI = 3.14;\n    double radius;\n    double area, perimeter;\n\n    public Circle(double radius) {\n        this.radius = radius;\n        area = PI*radius*radius;\n        perimeter = 2*PI*radius;\n    }\n\n    public Circle() {\n        System.out.print(&quot;radius = &quot;);\n        Scanner scan = new Scanner(System.in);\n        radius = scan.nextDouble();\n        scan.close();\n        area = PI*radius*radius;\n        perimeter = 2*PI*radius;\n    }\n\n    public void printArea() {\n        System.out.println(&quot;Area of circle = &quot; + area);\n    }\n\n    public void printPerimeter() {\n        System.out.println(&quot;Perimeter of circle = &quot; + perimeter);\n    }\n}\n</code></pre>\n<p>Rectangle.java:</p>\n<pre><code>package shapes;\n\nimport java.util.Scanner;\n\npublic class Rectangle {\n    public double length, width;\n    double area, perimeter;\n\n    public Rectangle(double length, double width) {\n        this.length = length;\n        this.width = width;\n\n        area = length * width;\n        perimeter = (length + width) * 2;\n    }\n\n    public Rectangle() {\n        Scanner scan = new Scanner(System.in);\n        System.out.print(&quot;width = &quot;);\n        width = scan.nextDouble();\n        System.out.print(&quot;length = &quot;);\n        length = scan.nextDouble();\n        scan.close();\n\n        area = length * width;\n        perimeter = (length + width) * 2;\n    }\n\n    public void printArea() {\n        System.out.println(&quot;Area of rectangle = &quot; + area);\n    }\n\n    public void printPerimeter() {\n        System.out.println(&quot;Perimeter of rectangle = &quot; + perimeter);\n    }\n}\n</code></pre>\n<p>Why does this happen and how to fix it?</p>\n"},{"tags":["java","spring"],"owner":{"account_id":25714722,"reputation":11,"user_id":19472699,"display_name":"HyunSoo Jang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1094,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656856585,"creation_date":1656854993,"question_id":72846899,"body_markdown":"I want to initialize **HttpServletResponse** Class, \r\nBelow is my current code, which is keep returning null point exception  :(\r\n**How Can I initialize HttpServletResponse Class?** I have to use this instance to create another class , I should send this instance as constructor param \r\nShould I implement all interface methods of HttpServletResponse?\r\n\r\n```\r\n    \r\nimport com.bside11th.bside.config.Constant;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.context.request.RequestContextHolder;\r\nimport org.springframework.web.context.request.ServletWebRequest;\r\n\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\n\r\n@Controller\r\npublic class AccountController {\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    GoogleOauth googleOauth = new GoogleOauth(objectMapper);\r\n\r\n    ServletWebRequest servletContainer = (ServletWebRequest) RequestContextHolder.getRequestAttributes();\r\n    HttpServletResponse response = servletContainer.getResponse();\r\n    OAuthService oAuthService = new OAuthService(googleOauth, response);\r\n\r\n\r\n    /**\r\n     * Ïú†Ï†Ä ÏÜåÏÖú Î°úÍ∑∏Ïù∏ÏúºÎ°ú Î¶¨Îã§Ïù¥Î†âÌä∏ Ìï¥Ï£ºÎäî url\r\n     * [GET] /accounts/auth\r\n     * @return void\r\n     */\r\n    @GetMapping(&quot;/auth/{socialLoginType}&quot;) //GOOGLEÏù¥ Îì§Ïñ¥Ïò¨ Í≤ÉÏù¥Îã§.\r\n    public void socialLoginRedirect(@PathVariable(name=&quot;socialLoginType&quot;) String SocialLoginPath) throws IOException {\r\n        Constant.SocialLoginType socialLoginType= Constant.SocialLoginType.valueOf(SocialLoginPath.toUpperCase());\r\n        oAuthService.request(socialLoginType);\r\n    }\r\n}\r\n```\r\n","title":"Initializing HttpServletResponse","body":"<p>I want to initialize <strong>HttpServletResponse</strong> Class,\nBelow is my current code, which is keep returning null point exception  :(\n<strong>How Can I initialize HttpServletResponse Class?</strong> I have to use this instance to create another class , I should send this instance as constructor param\nShould I implement all interface methods of HttpServletResponse?</p>\n<pre><code>    \nimport com.bside11th.bside.config.Constant;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.context.request.RequestContextHolder;\nimport org.springframework.web.context.request.ServletWebRequest;\n\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Controller\npublic class AccountController {\n    ObjectMapper objectMapper = new ObjectMapper();\n    GoogleOauth googleOauth = new GoogleOauth(objectMapper);\n\n    ServletWebRequest servletContainer = (ServletWebRequest) RequestContextHolder.getRequestAttributes();\n    HttpServletResponse response = servletContainer.getResponse();\n    OAuthService oAuthService = new OAuthService(googleOauth, response);\n\n\n    /**\n     * Ïú†Ï†Ä ÏÜåÏÖú Î°úÍ∑∏Ïù∏ÏúºÎ°ú Î¶¨Îã§Ïù¥Î†âÌä∏ Ìï¥Ï£ºÎäî url\n     * [GET] /accounts/auth\n     * @return void\n     */\n    @GetMapping(&quot;/auth/{socialLoginType}&quot;) //GOOGLEÏù¥ Îì§Ïñ¥Ïò¨ Í≤ÉÏù¥Îã§.\n    public void socialLoginRedirect(@PathVariable(name=&quot;socialLoginType&quot;) String SocialLoginPath) throws IOException {\n        Constant.SocialLoginType socialLoginType= Constant.SocialLoginType.valueOf(SocialLoginPath.toUpperCase());\n        oAuthService.request(socialLoginType);\n    }\n}\n</code></pre>\n"},{"tags":["java","string","stringbuilder"],"answers":[{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1453811429,"creation_date":1453811429,"answer_id":35013911,"question_id":35013895,"body_markdown":"Just invoke `builder.append(&quot; &quot;)` at the location of your preference.\r\n\r\nE.g.\r\n\r\n    builder\r\n        .append(&quot;watch&quot;)\r\n        .append(&quot; &quot;)\r\n        .append(&quot;on&quot;)\r\n...etc.\r\n\r\nNB: \r\n\r\n - Using the fluent builder syntax here for convenience\r\n - You can also just append a space after each literal instead (save for the last one)","title":"How to put spaces in a stringbuilder","body":"<p>Just invoke <code>builder.append(\" \")</code> at the location of your preference.</p>\n\n<p>E.g.</p>\n\n<pre><code>builder\n    .append(\"watch\")\n    .append(\" \")\n    .append(\"on\")\n</code></pre>\n\n<p>...etc.</p>\n\n<p>NB: </p>\n\n<ul>\n<li>Using the fluent builder syntax here for convenience</li>\n<li>You can also just append a space after each literal instead (save for the last one)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5185952,"reputation":17062,"user_id":4150352,"accept_rate":75,"display_name":"Mohammed Aouf Zouag"},"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1506865221,"creation_date":1453811552,"answer_id":35013950,"question_id":35013895,"body_markdown":"As of JDK 1.8, you can use a [`StringJoiner`][1], which is more convenient in your case:\r\n\r\n&gt; `StringJoiner` is used to construct a sequence of characters separated\r\n&gt; by a **delimiter** and **optionally** starting with a supplied prefix and\r\n&gt; ending with a supplied suffix.\r\n\r\n    StringJoiner joiner = new StringJoiner(&quot; &quot;); // Use &#39;space&#39; as the delimiter\r\n    joiner.add(&quot;watch&quot;) // watch \r\n          .add(&quot;on&quot;) // watch on \r\n          .add(&quot;youtube&quot;) // watch on youtube\r\n          .add(&quot;:&quot;) // etc...\r\n          .add(&quot;Mickey&quot;)\r\n          .add(&quot;en&quot;)\r\n          .add(&quot;de&quot;)\r\n          .add(&quot;stomende&quot;)\r\n          .add(&quot;drol&quot;);\r\n  \r\n    return joiner.toString();\r\n\r\nThis way, you will not need to add those spaces &quot;manually&quot;.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html","title":"How to put spaces in a stringbuilder","body":"<p>As of JDK 1.8, you can use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"noreferrer\"><code>StringJoiner</code></a>, which is more convenient in your case:</p>\n\n<blockquote>\n  <p><code>StringJoiner</code> is used to construct a sequence of characters separated\n  by a <strong>delimiter</strong> and <strong>optionally</strong> starting with a supplied prefix and\n  ending with a supplied suffix.</p>\n</blockquote>\n\n<pre><code>StringJoiner joiner = new StringJoiner(\" \"); // Use 'space' as the delimiter\njoiner.add(\"watch\") // watch \n      .add(\"on\") // watch on \n      .add(\"youtube\") // watch on youtube\n      .add(\":\") // etc...\n      .add(\"Mickey\")\n      .add(\"en\")\n      .add(\"de\")\n      .add(\"stomende\")\n      .add(\"drol\");\n\nreturn joiner.toString();\n</code></pre>\n\n<p>This way, you will not need to add those spaces \"manually\".</p>\n"},{"tags":[],"owner":{"account_id":7710533,"reputation":304,"user_id":5839967,"display_name":"abdulrafique"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453812654,"creation_date":1453812275,"answer_id":35014167,"question_id":35013895,"body_markdown":"Cleaner way of doing it.\r\n\r\nCreate a class variable:\r\n\r\n    private static final String BLANK_SPACE=&quot; &quot;;\r\n\r\nNow in you StringBuilder code ,append it where required:\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n\t\tbuilder.append(&quot;watch&quot;);\r\n\t\tbuilder.append(BLANK_SPACE);\r\n\t\tbuilder.append(&quot;on&quot;);\r\n\t\tbuilder.append(&quot;youtube&quot;);\r\n\t\tbuilder.append(&quot;:&quot;);\r\n\t\tbuilder.append(BLANK_SPACE);\r\n\t\tbuilder.append(&quot;Mickey&quot;);\r\n\t\tbuilder.append(&quot;en&quot;);\r\n\t\tbuilder.append(&quot;de&quot;);\r\n\t\tbuilder.append(BLANK_SPACE);\r\n\t\tbuilder.append(&quot;stomende&quot;);\r\n\t\tbuilder.append(&quot;drol&quot;);\r\n\t\tSystem.out.println(builder.toString());","title":"How to put spaces in a stringbuilder","body":"<p>Cleaner way of doing it.</p>\n\n<p>Create a class variable:</p>\n\n<pre><code>private static final String BLANK_SPACE=\" \";\n</code></pre>\n\n<p>Now in you StringBuilder code ,append it where required:</p>\n\n<pre><code>StringBuilder builder = new StringBuilder();\n    builder.append(\"watch\");\n    builder.append(BLANK_SPACE);\n    builder.append(\"on\");\n    builder.append(\"youtube\");\n    builder.append(\":\");\n    builder.append(BLANK_SPACE);\n    builder.append(\"Mickey\");\n    builder.append(\"en\");\n    builder.append(\"de\");\n    builder.append(BLANK_SPACE);\n    builder.append(\"stomende\");\n    builder.append(\"drol\");\n    System.out.println(builder.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453812365,"creation_date":1453812365,"answer_id":35014200,"question_id":35013895,"body_markdown":"**A space is** only **a string containing the single** character **space**.\r\n\r\nSo you can append it exactly as appending any other string.\r\n\r\n        StringBuilder builder = new StringBuilder();\r\n        builder.append(&quot;watch&quot;);\r\n        builder.append(&quot; &quot;);\r\n        builder.append(&quot;on&quot;);\r\n        builder.append(&quot; &quot;); \r\n        // and so on\r\n\r\nRemember also that the append method returns the StringBuilder so it is possible to join appends one after the other as follow\r\n\r\n        StringBuilder builder = new StringBuilder();\r\n        builder.append(&quot;watch&quot;).append(&quot; &quot;);\r\n        builder.append(&quot;on&quot;).append(&quot; &quot;); \r\n        // and so on","title":"How to put spaces in a stringbuilder","body":"<p><strong>A space is</strong> only <strong>a string containing the single</strong> character <strong>space</strong>.</p>\n\n<p>So you can append it exactly as appending any other string.</p>\n\n<pre><code>    StringBuilder builder = new StringBuilder();\n    builder.append(\"watch\");\n    builder.append(\" \");\n    builder.append(\"on\");\n    builder.append(\" \"); \n    // and so on\n</code></pre>\n\n<p>Remember also that the append method returns the StringBuilder so it is possible to join appends one after the other as follow</p>\n\n<pre><code>    StringBuilder builder = new StringBuilder();\n    builder.append(\"watch\").append(\" \");\n    builder.append(\"on\").append(\" \"); \n    // and so on\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21241507,"reputation":11,"user_id":15624897,"display_name":"Cesars Jose Manuel Pinedo Oliv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656856528,"creation_date":1656489927,"answer_id":72797860,"question_id":35013895,"body_markdown":"**You can use this, it&#39;s equivalent to using StringBuilder or StringJoiner, but smaller**\r\n\r\n```\r\npublic class StringUnifier {\r\n\r\n    String separator = &quot;&quot;;\r\n    List&lt;String&gt; dataList = new ArrayList&lt;&gt;();\r\n    private String response = &quot;&quot;;\r\n\r\n    StringUnifier(String separator) {\r\n        this.separator = separator;\r\n    }\r\n\r\n    StringUnifier add(String data) {\r\n        if (!data.isEmpty()) {\r\n            this.dataList.add(data);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        this.dataList.forEach(str -&gt; {\r\n            this.response += (str + this.separator);\r\n        });\r\n        return this.response.substring(0, this.response.length() - this.separator.length());\r\n    }\r\n\r\n}\r\n```\r\nMAIN\r\n```\r\npublic class Main_Test {\r\n\r\n    public static void main(String[] args) {\r\n        StringUnifier stringUnifier = new StringUnifier(&quot; &quot;);\r\n        stringUnifier.add(&quot;columna1&quot;).add(&quot;columna2&quot;).add(&quot;columna3&quot;);\r\n        System.out.println(stringUnifier.toString());\r\n    }\r\n}\r\n```\r\n\r\nRUN\r\n\r\noutput:\r\n```\r\ncolumna1 columna2 columna3\r\n```","title":"How to put spaces in a stringbuilder","body":"<p><strong>You can use this, it's equivalent to using StringBuilder or StringJoiner, but smaller</strong></p>\n<pre><code>public class StringUnifier {\n\n    String separator = &quot;&quot;;\n    List&lt;String&gt; dataList = new ArrayList&lt;&gt;();\n    private String response = &quot;&quot;;\n\n    StringUnifier(String separator) {\n        this.separator = separator;\n    }\n\n    StringUnifier add(String data) {\n        if (!data.isEmpty()) {\n            this.dataList.add(data);\n        }\n        return this;\n    }\n\n    @Override\n    public String toString() {\n        this.dataList.forEach(str -&gt; {\n            this.response += (str + this.separator);\n        });\n        return this.response.substring(0, this.response.length() - this.separator.length());\n    }\n\n}\n</code></pre>\n<p>MAIN</p>\n<pre><code>public class Main_Test {\n\n    public static void main(String[] args) {\n        StringUnifier stringUnifier = new StringUnifier(&quot; &quot;);\n        stringUnifier.add(&quot;columna1&quot;).add(&quot;columna2&quot;).add(&quot;columna3&quot;);\n        System.out.println(stringUnifier.toString());\n    }\n}\n</code></pre>\n<p>RUN</p>\n<p>output:</p>\n<pre><code>columna1 columna2 columna3\n</code></pre>\n"}],"owner":{"account_id":7568928,"reputation":173,"user_id":5743480,"accept_rate":57,"display_name":"KeinHappyAuer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41937,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":35013950,"answer_count":5,"score":15,"last_activity_date":1656856528,"creation_date":1453811396,"question_id":35013895,"body_markdown":"Hello I have following method to display a promotion line when I comment a shoutbox:\r\n    \r\n    public String getShoutboxUnderline(){\r\n            StringBuilder builder = new StringBuilder();\r\n            builder.append(&quot;watch&quot;);\r\n            builder.append(&quot;on&quot;);\r\n            builder.append(&quot;youtube&quot;);\r\n            builder.append(&quot;:&quot;);\r\n            builder.append(&quot;Mickey&quot;);\r\n            builder.append(&quot;en&quot;);\r\n            builder.append(&quot;de&quot;);\r\n            builder.append(&quot;stomende&quot;);\r\n            builder.append(&quot;drol&quot;);\r\n        \r\n            return builder.toString();\r\n        }\r\n\r\nBut when I get it, I get watchonyoutube:mickeyendestomendedrol, which is without spaces. How do I get spaces in my Stringbuilder?","title":"How to put spaces in a stringbuilder","body":"<p>Hello I have following method to display a promotion line when I comment a shoutbox:</p>\n\n<pre><code>public String getShoutboxUnderline(){\n        StringBuilder builder = new StringBuilder();\n        builder.append(\"watch\");\n        builder.append(\"on\");\n        builder.append(\"youtube\");\n        builder.append(\":\");\n        builder.append(\"Mickey\");\n        builder.append(\"en\");\n        builder.append(\"de\");\n        builder.append(\"stomende\");\n        builder.append(\"drol\");\n\n        return builder.toString();\n    }\n</code></pre>\n\n<p>But when I get it, I get watchonyoutube:mickeyendestomendedrol, which is without spaces. How do I get spaces in my Stringbuilder?</p>\n"},{"tags":["java","swagger","swagger-codegen"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":2,"creation_date":1542009738,"post_id":53255507,"comment_id":93400355,"body_markdown":"Your Swagger file has some syntax errors which you can see if you paste it into http://editor.swagger.io. I&#39;d suggest fixing the errors first before running the codegen.","body":"Your Swagger file has some syntax errors which you can see if you paste it into <a href=\"http://editor.swagger.io\" rel=\"nofollow noreferrer\">editor.swagger.io</a>. I&#39;d suggest fixing the errors first before running the codegen."}],"answers":[{"tags":[],"owner":{"account_id":1531548,"reputation":1136,"user_id":1779039,"accept_rate":71,"display_name":"Ebeid ElSayed"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542013135,"creation_date":1542013135,"answer_id":53258742,"question_id":53255507,"body_markdown":"I fixed few errors in swagger file:\r\n\r\n 1. Path parameters not listed in the parameters collection (this was the root cause for above issue)\r\n 2. Parameters with invalid names (contains ! at the end or enclosed in {}) (this didn&#39;t cause an error at generation time but caused a compilation error)","title":"Error in generating swagger java client code","body":"<p>I fixed few errors in swagger file:</p>\n\n<ol>\n<li>Path parameters not listed in the parameters collection (this was the root cause for above issue)</li>\n<li>Parameters with invalid names (contains ! at the end or enclosed in {}) (this didn't cause an error at generation time but caused a compilation error)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7278875,"reputation":2373,"user_id":5549301,"accept_rate":38,"display_name":"Udara Seneviratne"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656855783,"creation_date":1656855783,"answer_id":72846978,"question_id":53255507,"body_markdown":"As @helen suggested I pasted my swagger file content on [editor.swagger.io][1]  and fixed the syntax errors which were mentioned there. Then it is successful\r\n\r\n\r\n  [1]: https://editor.swagger.io","title":"Error in generating swagger java client code","body":"<p>As @helen suggested I pasted my swagger file content on <a href=\"https://editor.swagger.io\" rel=\"nofollow noreferrer\">editor.swagger.io</a>  and fixed the syntax errors which were mentioned there. Then it is successful</p>\n"}],"owner":{"account_id":1531548,"reputation":1136,"user_id":1779039,"accept_rate":71,"display_name":"Ebeid ElSayed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2905,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1656855783,"creation_date":1541992374,"question_id":53255507,"body_markdown":"I&#39;m trying to generate java client code using the following command\r\n\r\n\r\n    java -jar swagger-codegen-cli-3.0.2.jar generate -v  \\\r\n            -i swagger.json \\\r\n            -l java\r\n\r\n\r\nbut I get the following error \r\n\r\n\r\n    java.util.NoSuchElementException: No value present\r\n        at java.util.Optional.get(Optional.java:135)\r\n        at io.swagger.codegen.v3.generators.DefaultCodegenConfig.configureDataForTestTemplate(DefaultCodegenConfig.java:3766)\r\n        at io.swagger.codegen.v3.generators.DefaultCodegenConfig.fromOperation(DefaultCodegenConfig.java:2107)\r\n        at io.swagger.codegen.v3.generators.java.AbstractJavaCodegen.fromOperation(AbstractJavaCodegen.java:1089)\r\n        at io.swagger.codegen.v3.DefaultGenerator.processOperation(DefaultGenerator.java:847)\r\n        at io.swagger.codegen.v3.DefaultGenerator.processPaths(DefaultGenerator.java:771)\r\n        at io.swagger.codegen.v3.DefaultGenerator.generateApis(DefaultGenerator.java:419)\r\n        at io.swagger.codegen.v3.DefaultGenerator.generate(DefaultGenerator.java:722)\r\n        at io.swagger.codegen.v3.cli.cmd.Generate.run(Generate.java:342)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;Thread-1&quot; java.lang.RuntimeException: Could not process operation:\r\n        Tag: class Tag {\r\n        name: DIMSE-RS\r\n        description: Invoke DIMSE Service on remote AE\r\n        externalDocs: null\r\n        }\r\n    Operation: SearchForStudySeriesInstancesExternal\r\n    Resource: get /aets/{aet}/dimse/{externalAET}/studies/{StudyInstanceUID}/series/{SeriesInstanceUID}/instances\r\n    Exception: No value present\r\n        at io.swagger.codegen.v3.DefaultGenerator.processOperation(DefaultGenerator.java:872)\r\n        at io.swagger.codegen.v3.DefaultGenerator.processPaths(DefaultGenerator.java:771)\r\n        at io.swagger.codegen.v3.DefaultGenerator.generateApis(DefaultGenerator.java:419)\r\n        at io.swagger.codegen.v3.DefaultGenerator.generate(DefaultGenerator.java:722)\r\n        at io.swagger.codegen.v3.cli.cmd.Generate.run(Generate.java:342)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.util.NoSuchElementException: No value present\r\n        at java.util.Optional.get(Optional.java:135)\r\n        at io.swagger.codegen.v3.generators.DefaultCodegenConfig.configureDataForTestTemplate(DefaultCodegenConfig.java:3766)\r\n        at io.swagger.codegen.v3.generators.DefaultCodegenConfig.fromOperation(DefaultCodegenConfig.java:2107)\r\n        at io.swagger.codegen.v3.generators.java.AbstractJavaCodegen.fromOperation(AbstractJavaCodegen.java:1089)\r\n        at io.swagger.codegen.v3.DefaultGenerator.processOperation(DefaultGenerator.java:847)\r\n        ... 5 more\r\n\r\n\r\n\r\nfor the following section of swagger.json file \r\n   \r\n\r\n    &quot;/aets/{aet}/dimse/{externalAET}/studies/{StudyInstanceUID}/series/{SeriesInstanceUID}/instances&quot;: {\r\n      &quot;get&quot;: {\r\n        &quot;tags&quot;: [\r\n          &quot;DIMSE-RS&quot;\r\n        ],\r\n        &quot;summary&quot;: &quot;Search for Instances of Series of Study external&quot;,\r\n        &quot;operationId&quot;: &quot;SearchForStudySeriesInstancesExternal&quot;,\r\n        &quot;produces&quot;: [\r\n          &quot;application/dicom+json&quot;,\r\n          &quot;application/json&quot;\r\n        ],\r\n        &quot;parameters&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;aet&quot;,\r\n            &quot;in&quot;: &quot;path&quot;,\r\n            &quot;description&quot;: &quot;Archive AE Title used as Calling AET for querying for Instances&quot;,\r\n            &quot;required&quot;: true,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;externalAET&quot;,\r\n            &quot;in&quot;: &quot;path&quot;,\r\n            &quot;description&quot;: &quot;AE Title of C-FIND SCP to query for Instances&quot;,\r\n            &quot;required&quot;: true,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;SeriesInstanceUID&quot;,\r\n            &quot;in&quot;: &quot;path&quot;,\r\n            &quot;description&quot;: &quot;Series Instance UID for a single Series&quot;,\r\n            &quot;required&quot;: true,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;priority&quot;,\r\n            &quot;in&quot;: &quot;query&quot;,\r\n            &quot;description&quot;: &quot;requested priority: 0=NORMAL, 1=HIGH, 2=LOW&quot;,\r\n            &quot;type&quot;: &quot;integer&quot;,\r\n            &quot;enum&quot;: [ 0, 1, 2 ],\r\n            &quot;default&quot;: 0\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;{attributeID}&quot;,\r\n            &quot;in&quot;: &quot;query&quot;,\r\n            &quot;description&quot;: &quot;{attributeID}={value}; {attributeID} = {dicomTag} | {dicomKeyword} | {dicomTag}.{attributeID} | {dicomKeyword}.{attributeID}&quot;,\r\n            &quot;type&quot;: &quot;array&quot;,\r\n            &quot;items&quot;: {\r\n              &quot;type&quot;: &quot;string&quot;\r\n            },\r\n            &quot;collectionFormat&quot;: &quot;multi&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;fuzzymatching&quot;,\r\n            &quot;in&quot;: &quot;query&quot;,\r\n            &quot;description&quot;: &quot;fuzzy semantic matching of person names&quot;,\r\n            &quot;type&quot;: &quot;boolean&quot;,\r\n            &quot;default&quot;: false\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;offset&quot;,\r\n            &quot;in&quot;: &quot;query&quot;,\r\n            &quot;description&quot;: &quot;offset={skippedResults}&quot;,\r\n            &quot;type&quot;: &quot;integer&quot;,\r\n            &quot;default&quot;: 0\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;limit&quot;,\r\n            &quot;in&quot;: &quot;query&quot;,\r\n            &quot;description&quot;: &quot;limit={maximumResults}&quot;,\r\n            &quot;type&quot;: &quot;integer&quot;\r\n          }\r\n        ],\r\n        &quot;responses&quot;: {\r\n          &quot;200&quot;: {\r\n            &quot;description&quot;: &quot;successful operation&quot;,\r\n            &quot;schema&quot;: {\r\n              &quot;type&quot;: &quot;file&quot;\r\n            }\r\n          },\r\n          &quot;204&quot;: {\r\n            &quot;description&quot;: &quot;no matching instances found&quot;\r\n          },\r\n          &quot;404&quot;: {\r\n            &quot;description&quot;: &quot;External AE Title not found&quot;\r\n          },\r\n          &quot;default&quot;: {\r\n            &quot;description&quot;: &quot;unexpected error&quot;\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n\r\nFull swagger file is available here\r\n\r\nhttps://github.com/dcm4che/dcm4chee-arc-light/blob/master/dcm4chee-arc-ui2/src/swagger/swagger.json\r\n\r\nor here \r\n\r\nhttp://petstore.swagger.io/index.html?url=https://raw.githubusercontent.com/dcm4che/dcm4chee-arc-light/master/dcm4chee-arc-ui2/src/swagger/swagger-dicom.json\r\n\r\nAny idea what is the issue ? \r\n\r\n","title":"Error in generating swagger java client code","body":"<p>I'm trying to generate java client code using the following command</p>\n\n<pre><code>java -jar swagger-codegen-cli-3.0.2.jar generate -v  \\\n        -i swagger.json \\\n        -l java\n</code></pre>\n\n<p>but I get the following error </p>\n\n<pre><code>java.util.NoSuchElementException: No value present\n    at java.util.Optional.get(Optional.java:135)\n    at io.swagger.codegen.v3.generators.DefaultCodegenConfig.configureDataForTestTemplate(DefaultCodegenConfig.java:3766)\n    at io.swagger.codegen.v3.generators.DefaultCodegenConfig.fromOperation(DefaultCodegenConfig.java:2107)\n    at io.swagger.codegen.v3.generators.java.AbstractJavaCodegen.fromOperation(AbstractJavaCodegen.java:1089)\n    at io.swagger.codegen.v3.DefaultGenerator.processOperation(DefaultGenerator.java:847)\n    at io.swagger.codegen.v3.DefaultGenerator.processPaths(DefaultGenerator.java:771)\n    at io.swagger.codegen.v3.DefaultGenerator.generateApis(DefaultGenerator.java:419)\n    at io.swagger.codegen.v3.DefaultGenerator.generate(DefaultGenerator.java:722)\n    at io.swagger.codegen.v3.cli.cmd.Generate.run(Generate.java:342)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread \"Thread-1\" java.lang.RuntimeException: Could not process operation:\n    Tag: class Tag {\n    name: DIMSE-RS\n    description: Invoke DIMSE Service on remote AE\n    externalDocs: null\n    }\nOperation: SearchForStudySeriesInstancesExternal\nResource: get /aets/{aet}/dimse/{externalAET}/studies/{StudyInstanceUID}/series/{SeriesInstanceUID}/instances\nException: No value present\n    at io.swagger.codegen.v3.DefaultGenerator.processOperation(DefaultGenerator.java:872)\n    at io.swagger.codegen.v3.DefaultGenerator.processPaths(DefaultGenerator.java:771)\n    at io.swagger.codegen.v3.DefaultGenerator.generateApis(DefaultGenerator.java:419)\n    at io.swagger.codegen.v3.DefaultGenerator.generate(DefaultGenerator.java:722)\n    at io.swagger.codegen.v3.cli.cmd.Generate.run(Generate.java:342)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.util.NoSuchElementException: No value present\n    at java.util.Optional.get(Optional.java:135)\n    at io.swagger.codegen.v3.generators.DefaultCodegenConfig.configureDataForTestTemplate(DefaultCodegenConfig.java:3766)\n    at io.swagger.codegen.v3.generators.DefaultCodegenConfig.fromOperation(DefaultCodegenConfig.java:2107)\n    at io.swagger.codegen.v3.generators.java.AbstractJavaCodegen.fromOperation(AbstractJavaCodegen.java:1089)\n    at io.swagger.codegen.v3.DefaultGenerator.processOperation(DefaultGenerator.java:847)\n    ... 5 more\n</code></pre>\n\n<p>for the following section of swagger.json file </p>\n\n<pre><code>\"/aets/{aet}/dimse/{externalAET}/studies/{StudyInstanceUID}/series/{SeriesInstanceUID}/instances\": {\n  \"get\": {\n    \"tags\": [\n      \"DIMSE-RS\"\n    ],\n    \"summary\": \"Search for Instances of Series of Study external\",\n    \"operationId\": \"SearchForStudySeriesInstancesExternal\",\n    \"produces\": [\n      \"application/dicom+json\",\n      \"application/json\"\n    ],\n    \"parameters\": [\n      {\n        \"name\": \"aet\",\n        \"in\": \"path\",\n        \"description\": \"Archive AE Title used as Calling AET for querying for Instances\",\n        \"required\": true,\n        \"type\": \"string\"\n      },\n      {\n        \"name\": \"externalAET\",\n        \"in\": \"path\",\n        \"description\": \"AE Title of C-FIND SCP to query for Instances\",\n        \"required\": true,\n        \"type\": \"string\"\n      },\n      {\n        \"name\": \"SeriesInstanceUID\",\n        \"in\": \"path\",\n        \"description\": \"Series Instance UID for a single Series\",\n        \"required\": true,\n        \"type\": \"string\"\n      },\n      {\n        \"name\": \"priority\",\n        \"in\": \"query\",\n        \"description\": \"requested priority: 0=NORMAL, 1=HIGH, 2=LOW\",\n        \"type\": \"integer\",\n        \"enum\": [ 0, 1, 2 ],\n        \"default\": 0\n      },\n      {\n        \"name\": \"{attributeID}\",\n        \"in\": \"query\",\n        \"description\": \"{attributeID}={value}; {attributeID} = {dicomTag} | {dicomKeyword} | {dicomTag}.{attributeID} | {dicomKeyword}.{attributeID}\",\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"string\"\n        },\n        \"collectionFormat\": \"multi\"\n      },\n      {\n        \"name\": \"fuzzymatching\",\n        \"in\": \"query\",\n        \"description\": \"fuzzy semantic matching of person names\",\n        \"type\": \"boolean\",\n        \"default\": false\n      },\n      {\n        \"name\": \"offset\",\n        \"in\": \"query\",\n        \"description\": \"offset={skippedResults}\",\n        \"type\": \"integer\",\n        \"default\": 0\n      },\n      {\n        \"name\": \"limit\",\n        \"in\": \"query\",\n        \"description\": \"limit={maximumResults}\",\n        \"type\": \"integer\"\n      }\n    ],\n    \"responses\": {\n      \"200\": {\n        \"description\": \"successful operation\",\n        \"schema\": {\n          \"type\": \"file\"\n        }\n      },\n      \"204\": {\n        \"description\": \"no matching instances found\"\n      },\n      \"404\": {\n        \"description\": \"External AE Title not found\"\n      },\n      \"default\": {\n        \"description\": \"unexpected error\"\n      }\n    }\n  }\n},\n</code></pre>\n\n<p>Full swagger file is available here</p>\n\n<p><a href=\"https://github.com/dcm4che/dcm4chee-arc-light/blob/master/dcm4chee-arc-ui2/src/swagger/swagger.json\" rel=\"nofollow noreferrer\">https://github.com/dcm4che/dcm4chee-arc-light/blob/master/dcm4chee-arc-ui2/src/swagger/swagger.json</a></p>\n\n<p>or here </p>\n\n<p><a href=\"http://petstore.swagger.io/index.html?url=https://raw.githubusercontent.com/dcm4che/dcm4chee-arc-light/master/dcm4chee-arc-ui2/src/swagger/swagger-dicom.json\" rel=\"nofollow noreferrer\">http://petstore.swagger.io/index.html?url=https://raw.githubusercontent.com/dcm4che/dcm4chee-arc-light/master/dcm4chee-arc-ui2/src/swagger/swagger-dicom.json</a></p>\n\n<p>Any idea what is the issue ? </p>\n"},{"tags":["java","webclient","netflix-eureka","spring5"],"comments":[{"owner":{"account_id":19514117,"reputation":1316,"user_id":14277434,"display_name":"Elmar Brauch"},"score":0,"creation_date":1656828053,"post_id":72844053,"comment_id":128663523,"body_markdown":"Do you get different response codes for other URLs? If not, it might be a missing proxy config in your WebClient.","body":"Do you get different response codes for other URLs? If not, it might be a missing proxy config in your WebClient."},{"owner":{"account_id":10144463,"reputation":545,"user_id":7493043,"display_name":"Ezani"},"score":0,"creation_date":1656849611,"post_id":72844053,"comment_id":128667050,"body_markdown":"Yes I get a different response for another URL which I have tested working with Swagger-UI also (together with this one). That URL was giving SSL handshaking error. I am wondering if the Eureka environment is causing the problem as my WebClient code is very straightforward - just to connect to the JSON placeholder fake data URL with a POST request and the standard request body.  I will try the RestTemplate now to see if that works.","body":"Yes I get a different response for another URL which I have tested working with Swagger-UI also (together with this one). That URL was giving SSL handshaking error. I am wondering if the Eureka environment is causing the problem as my WebClient code is very straightforward - just to connect to the JSON placeholder fake data URL with a POST request and the standard request body.  I will try the RestTemplate now to see if that works."},{"owner":{"account_id":10144463,"reputation":545,"user_id":7493043,"display_name":"Ezani"},"score":0,"creation_date":1656850604,"post_id":72844053,"comment_id":128667253,"body_markdown":"I have just tried accessing the same URL (placeholder.typicode.com) using the RestTemplate and it is giving the same unable to access URL error as follows leading to my believing it could be a Eureka Discovery issue. This is the exception I got :  ResourceAccessException. Cause : UnknownHostException. Detailed error message: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://jsonplaceholder.typicode.com/posts&quot;: jsonplaceholder.typicode.com; nested exception is java.net.UnknownHostException: jsonplaceholder.typicode.com","body":"I have just tried accessing the same URL (placeholder.typicode.com) using the RestTemplate and it is giving the same unable to access URL error as follows leading to my believing it could be a Eureka Discovery issue. This is the exception I got :  ResourceAccessException. Cause : UnknownHostException. Detailed error message: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;<a href=\"https://jsonplaceholder.typicode.com/posts\" rel=\"nofollow noreferrer\">jsonplaceholder.typicode.com/posts</a>&quot;: jsonplaceholder.typicode.com; nested exception is java.net.UnknownHostException: jsonplaceholder.typicode.com"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656855757,"creation_date":1656855361,"answer_id":72846942,"question_id":72844053,"body_markdown":"Not sure why you are getting your errors, but your error message \r\n\r\n&gt; &quot;failed to resolve &#39;jsonplaceholder.typicode.com&#39; after 2 queries.&quot;\r\n\r\n may suggest that you are hitting your server more often than allowed? I don&#39;t see a problem with your code. However, when I tried to send similar request with different very simplistic Http client it worked. Here is my code:\r\n\r\n    public static void externalHttpTest() {\r\n        HttpClient client = new HttpClient();\r\n        try {\r\n            client.setContentType(&quot;application/json; charset=UTF-8&quot;);\r\n            client.setConnectionUrl(&quot;https://jsonplaceholder.typicode.com/posts&quot;);\r\n            String myTestData = &quot;{\\&quot;title\\&quot;: \\&quot;foo\\&quot;,\\&quot;body\\&quot;: \\&quot;bar\\&quot;,\\&quot;userId\\&quot;: 1}&quot;;\r\n            ByteBuffer bb = ByteBuffer.wrap(myTestData.getBytes(StandardCharsets.UTF_8));\r\n            String result = client.sendHttpRequest(HttpClient.HttpMethod.POST, bb);\r\n            System.out.println(client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage() + &quot; &quot; + result);\r\n        } catch (IOException ioe) {\r\n            System.out.println(client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage());\r\n            ioe.printStackTrace();\r\n        }\r\n    }\r\nAnd the output I recieved is:\r\n\r\n    201 Created {  &quot;title&quot;: &quot;foo&quot;,  &quot;body&quot;: &quot;bar&quot;,  &quot;userId&quot;: 1,  &quot;id&quot;: 101}\r\n\r\nThe class `HttpClient` is part of Open-source library written and maintained by me. Here is the [Javadoc for HttpClient][1] class. The library is called MgntUtils and can be found as Maven artifact [here][2] or on the Github with source code and Javadoc [here][3]&lt;br&gt;I also hit this URL with Advanced Rest Client (Chrome plugin similar to Postman) and it worked as well\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"WebClient To Retrieve From jsonplaceholder URL Using POST Giving UnknownHostException (Unable To Resolve &lt;url&gt;)","body":"<p>Not sure why you are getting your errors, but your error message</p>\n<blockquote>\n<p>&quot;failed to resolve 'jsonplaceholder.typicode.com' after 2 queries.&quot;</p>\n</blockquote>\n<p>may suggest that you are hitting your server more often than allowed? I don't see a problem with your code. However, when I tried to send similar request with different very simplistic Http client it worked. Here is my code:</p>\n<pre><code>public static void externalHttpTest() {\n    HttpClient client = new HttpClient();\n    try {\n        client.setContentType(&quot;application/json; charset=UTF-8&quot;);\n        client.setConnectionUrl(&quot;https://jsonplaceholder.typicode.com/posts&quot;);\n        String myTestData = &quot;{\\&quot;title\\&quot;: \\&quot;foo\\&quot;,\\&quot;body\\&quot;: \\&quot;bar\\&quot;,\\&quot;userId\\&quot;: 1}&quot;;\n        ByteBuffer bb = ByteBuffer.wrap(myTestData.getBytes(StandardCharsets.UTF_8));\n        String result = client.sendHttpRequest(HttpClient.HttpMethod.POST, bb);\n        System.out.println(client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage() + &quot; &quot; + result);\n    } catch (IOException ioe) {\n        System.out.println(client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage());\n        ioe.printStackTrace();\n    }\n}\n</code></pre>\n<p>And the output I recieved is:</p>\n<pre><code>201 Created {  &quot;title&quot;: &quot;foo&quot;,  &quot;body&quot;: &quot;bar&quot;,  &quot;userId&quot;: 1,  &quot;id&quot;: 101}\n</code></pre>\n<p>The class <code>HttpClient</code> is part of Open-source library written and maintained by me. Here is the <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\" rel=\"nofollow noreferrer\">Javadoc for HttpClient</a> class. The library is called MgntUtils and can be found as Maven artifact <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a> or on the Github with source code and Javadoc <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">here</a><br>I also hit this URL with Advanced Rest Client (Chrome plugin similar to Postman) and it worked as well</p>\n"}],"owner":{"account_id":10144463,"reputation":545,"user_id":7493043,"display_name":"Ezani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656855757,"creation_date":1656825145,"question_id":72844053,"body_markdown":"I am using the new Spring 5 WebClient to retrieve the JSON response from the JSON Placeholder tester website (https://jsonplaceholder.typicode.com/) using a POST request sent to the URI https://jsonplaceholder.typicode.com/posts placed in my request body as follows:\r\n\r\n```\r\n{\r\n  title: &#39;foo&#39;,\r\n  body: &#39;bar&#39;,\r\n  userId: 1\r\n}\r\n```\r\nMy code is as follows:\r\n\r\n```\r\n\t\t/*\r\n\t\t@Bean\r\n\t    @LoadBalanced\r\n\t    public RestTemplate restTemplate() {\r\n\t        return new RestTemplate();\r\n\t    }\r\n\t     */\r\n\r\n\t\t\r\n\t\t  @Bean\r\n\t\t  @LoadBalanced\r\n\t\t  public RestTemplate restTemplate(RestTemplateBuilder builder) {\r\n\t\t    return builder.build();\r\n\t\t  }\r\n\r\n\t\t\tString myTestData = &quot;{\\r\\n&quot; + \r\n\t\t\t\t\t&quot;  \\&quot;title\\&quot;: \\&quot;foo\\&quot;,\\r\\n&quot; + \r\n\t\t\t\t\t&quot;  \\&quot;body\\&quot;: \\&quot;bar\\&quot;,\\r\\n&quot; + \t\t\t\t\t\r\n\t\t\t\t\t&quot;  \\&quot;userId\\&quot;: 1\\r\\n&quot; + \r\n\t\t\t\t\t&quot;}&quot;;\r\n\r\n\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\t//RestTemplate approach\r\n\t\t\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\t\t\tString fooResourceUrl = &quot;https://jsonplaceholder.typicode.com/posts&quot;;\r\n\t\t\t\tHttpEntity&lt;String&gt; request0 = new HttpEntity&lt;&gt;(new String(myTestData));\r\n\t\t\t\tString foo = restTemplate.postForObject(fooResourceUrl, request0, String.class);\r\n\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//WebClient approach\t\t\t\t\r\n\t\t\t\tWebClient client = WebClient.builder()\r\n\t\t\t\t\t\t.baseUrl(&quot;https://jsonplaceholder.typicode.com&quot;)\r\n\t\t\t\t\t\t.defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n\t\t\t\t\t\t. build();\r\n\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tUriSpec&lt;RequestBodySpec&gt; uriSpec = client.method(HttpMethod.POST);\r\n\t\t\t\tRequestBodySpec bodySpec = uriSpec.uri(&quot;/posts&quot;);\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tRequestHeadersSpec&lt;?&gt; headersSpec = bodySpec.bodyValue(myTestData);\r\n\t\t\t\t\r\n \t\t\t\t\r\n\t\t\t\tMono&lt;String&gt; response4 = headersSpec.retrieve().bodyToMono(String.class);\r\n\r\n\r\n\t\t\t\tString myResponseString = response4.block();\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tlog.debug(&quot;WebClient responseMono&lt;String&gt; response4.block() - myResponseString : &quot; + myResponseString);\r\n\t\t\t\t\t\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlog.debug(&quot;Exception : {}&quot;, e.toString(), e);\r\n\t\t\t} \r\n\r\n```\r\n\r\nHowever, I am getting a WebClientRequestException &gt; UnknownHostException with the detailed message : failed to resolve &#39;jsonplaceholder.typicode.com&#39; after 2 queries.\r\n\r\nI can&#39;t see why WebClient is unable to connect to the jsonplaceholder website URI. I am running inside a NetFlix Eureka Discovery environment with several API REST services registered with Eureka including this one. Please help.","title":"WebClient To Retrieve From jsonplaceholder URL Using POST Giving UnknownHostException (Unable To Resolve &lt;url&gt;)","body":"<p>I am using the new Spring 5 WebClient to retrieve the JSON response from the JSON Placeholder tester website (<a href=\"https://jsonplaceholder.typicode.com/\" rel=\"nofollow noreferrer\">https://jsonplaceholder.typicode.com/</a>) using a POST request sent to the URI <a href=\"https://jsonplaceholder.typicode.com/posts\" rel=\"nofollow noreferrer\">https://jsonplaceholder.typicode.com/posts</a> placed in my request body as follows:</p>\n<pre><code>{\n  title: 'foo',\n  body: 'bar',\n  userId: 1\n}\n</code></pre>\n<p>My code is as follows:</p>\n<pre><code>        /*\n        @Bean\n        @LoadBalanced\n        public RestTemplate restTemplate() {\n            return new RestTemplate();\n        }\n         */\n\n        \n          @Bean\n          @LoadBalanced\n          public RestTemplate restTemplate(RestTemplateBuilder builder) {\n            return builder.build();\n          }\n\n            String myTestData = &quot;{\\r\\n&quot; + \n                    &quot;  \\&quot;title\\&quot;: \\&quot;foo\\&quot;,\\r\\n&quot; + \n                    &quot;  \\&quot;body\\&quot;: \\&quot;bar\\&quot;,\\r\\n&quot; +                    \n                    &quot;  \\&quot;userId\\&quot;: 1\\r\\n&quot; + \n                    &quot;}&quot;;\n\n\n            try {\n                \n                //RestTemplate approach\n                RestTemplate restTemplate = new RestTemplate();\n                String fooResourceUrl = &quot;https://jsonplaceholder.typicode.com/posts&quot;;\n                HttpEntity&lt;String&gt; request0 = new HttpEntity&lt;&gt;(new String(myTestData));\n                String foo = restTemplate.postForObject(fooResourceUrl, request0, String.class);\n\n                \n                \n                //WebClient approach                \n                WebClient client = WebClient.builder()\n                        .baseUrl(&quot;https://jsonplaceholder.typicode.com&quot;)\n                        .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                        . build();\n\n                \n                \n                UriSpec&lt;RequestBodySpec&gt; uriSpec = client.method(HttpMethod.POST);\n                RequestBodySpec bodySpec = uriSpec.uri(&quot;/posts&quot;);\n            \n                \n                RequestHeadersSpec&lt;?&gt; headersSpec = bodySpec.bodyValue(myTestData);\n                \n                \n                Mono&lt;String&gt; response4 = headersSpec.retrieve().bodyToMono(String.class);\n\n\n                String myResponseString = response4.block();\n                \n                \n                log.debug(&quot;WebClient responseMono&lt;String&gt; response4.block() - myResponseString : &quot; + myResponseString);\n                    \n\n            } catch (Exception e) {\n                log.debug(&quot;Exception : {}&quot;, e.toString(), e);\n            } \n\n</code></pre>\n<p>However, I am getting a WebClientRequestException &gt; UnknownHostException with the detailed message : failed to resolve 'jsonplaceholder.typicode.com' after 2 queries.</p>\n<p>I can't see why WebClient is unable to connect to the jsonplaceholder website URI. I am running inside a NetFlix Eureka Discovery environment with several API REST services registered with Eureka including this one. Please help.</p>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":16735535,"reputation":17,"user_id":12096779,"display_name":"Feniksovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656566791,"creation_date":1656566613,"answer_id":72810644,"question_id":72804820,"body_markdown":"Yes, this is expected behavior.\r\nIf a player decline resourcepack installation once then he will never receive an installation request again.\r\n\r\nhttps://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#setResourcePack(java.lang.String)","title":"I can&#39;t resend a texturepack request","body":"<p>Yes, this is expected behavior.\nIf a player decline resourcepack installation once then he will never receive an installation request again.</p>\n<p><a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#setResourcePack(java.lang.String)\" rel=\"nofollow noreferrer\">https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#setResourcePack(java.lang.String)</a></p>\n"},{"tags":[],"owner":{"account_id":17798769,"reputation":86,"user_id":12926080,"display_name":"Funzter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656759554,"creation_date":1656759554,"answer_id":72838526,"question_id":72804820,"body_markdown":"Try to provide a new version of the texture pack or rename the texture pack. As a result the players should receive a new request.","title":"I can&#39;t resend a texturepack request","body":"<p>Try to provide a new version of the texture pack or rename the texture pack. As a result the players should receive a new request.</p>\n"},{"tags":[],"owner":{"account_id":17582022,"reputation":138,"user_id":12755627,"display_name":"micartey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656854281,"creation_date":1656854281,"answer_id":72846829,"question_id":72804820,"body_markdown":"You can send packages and listen to the responses. There are many ways to do so. Essentially, you have to send a `PacketPlayOutResourcePackSend` packet with the necessary information. \r\n\r\nAfterwards, listen to the `PacketPlayInResourcePackStatus`. There are just a few possible states: `SUCCESSFULLY_LOADED, DECLINED, FAILED_DOWNLOAD, ACCEPTED`. In theory, you have to resend the package request once the state is `DECLINED`. *(Like my credit card -.-)* \r\n\r\nI can&#39;t give you any more details since I haven&#39;t used this in a while, but no one else seemed to answer your question.","title":"I can&#39;t resend a texturepack request","body":"<p>You can send packages and listen to the responses. There are many ways to do so. Essentially, you have to send a <code>PacketPlayOutResourcePackSend</code> packet with the necessary information.</p>\n<p>Afterwards, listen to the <code>PacketPlayInResourcePackStatus</code>. There are just a few possible states: <code>SUCCESSFULLY_LOADED, DECLINED, FAILED_DOWNLOAD, ACCEPTED</code>. In theory, you have to resend the package request once the state is <code>DECLINED</code>. <em>(Like my credit card -.-)</em></p>\n<p>I can't give you any more details since I haven't used this in a while, but no one else seemed to answer your question.</p>\n"}],"owner":{"account_id":23190481,"reputation":21,"user_id":17286926,"display_name":"DAOCMINECRAFT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1656854281,"creation_date":1656519879,"question_id":72804820,"body_markdown":"I code currently a minecraft java plugin which loads a texturepack but I have a problem. When you decline the download of the texturepack, it will never ask again for downloading or accepting and I never got a error.\r\n\r\nI used this code:\r\n```\r\nplayer.setResourcepack(&quot;&lt;url&gt;&quot;);\r\n```\r\n\r\nand it showed one time so it does work but never ask again if I decline it. Please help.","title":"I can&#39;t resend a texturepack request","body":"<p>I code currently a minecraft java plugin which loads a texturepack but I have a problem. When you decline the download of the texturepack, it will never ask again for downloading or accepting and I never got a error.</p>\n<p>I used this code:</p>\n<pre><code>player.setResourcepack(&quot;&lt;url&gt;&quot;);\n</code></pre>\n<p>and it showed one time so it does work but never ask again if I decline it. Please help.</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1637358107,"post_id":70041177,"comment_id":123814130,"body_markdown":"After the first `false` break out of the loop.","body":"After the first <code>false</code> break out of the loop."},{"owner":{"account_id":22440010,"reputation":35,"user_id":16644699,"display_name":"maxig"},"score":0,"creation_date":1637358540,"post_id":70041177,"comment_id":123814238,"body_markdown":"Yes, that was exactly it. Thank you verry much!","body":"Yes, that was exactly it. Thank you verry much!"}],"answers":[{"tags":[],"owner":{"account_id":17032932,"reputation":1632,"user_id":13179199,"display_name":"Erik McKelvey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637358646,"creation_date":1637358646,"answer_id":70041282,"question_id":70041177,"body_markdown":"There are a couple issues with your code. First of all, when `isAscending` is `false` you are trying to access indices outside the bounds of the array. The loop should stop at the second last index just like in the first loop. Secondly, the only values that affect your return value is the last two values in the array. since every iteration you are setting a new value of `fetch`, overwriting all previous values. Instead of this you can assume the array is sorted, then once you find the first pair of unsorted values set `fetch` to `false`.\r\n\r\n```\r\npublic static boolean isSorted(int[] field, boolean isAscending) {\r\n    boolean fetch = true;\r\n    if (field == null) {\r\n        fetch = false;\r\n    } else if (isAscending) {\r\n        for (int i = 0; i &lt; (field.length-1); i++) {\r\n            if (field[i] &gt; field[i+1]) fetch = false;\r\n        }\r\n    } else if (!isAscending) {\r\n        for (int i = 0; i &lt; (field.length-1); i++) {\r\n            if (field[i] &lt; field[i+1]) fetch = false;\r\n        }\r\n    }\r\n    return fetch;\r\n}\r\n```","title":"Check if array is ascending","body":"<p>There are a couple issues with your code. First of all, when <code>isAscending</code> is <code>false</code> you are trying to access indices outside the bounds of the array. The loop should stop at the second last index just like in the first loop. Secondly, the only values that affect your return value is the last two values in the array. since every iteration you are setting a new value of <code>fetch</code>, overwriting all previous values. Instead of this you can assume the array is sorted, then once you find the first pair of unsorted values set <code>fetch</code> to <code>false</code>.</p>\n<pre><code>public static boolean isSorted(int[] field, boolean isAscending) {\n    boolean fetch = true;\n    if (field == null) {\n        fetch = false;\n    } else if (isAscending) {\n        for (int i = 0; i &lt; (field.length-1); i++) {\n            if (field[i] &gt; field[i+1]) fetch = false;\n        }\n    } else if (!isAscending) {\n        for (int i = 0; i &lt; (field.length-1); i++) {\n            if (field[i] &lt; field[i+1]) fetch = false;\n        }\n    }\n    return fetch;\n}\n</code></pre>\n"}],"owner":{"account_id":22440010,"reputation":35,"user_id":16644699,"display_name":"maxig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70041282,"answer_count":1,"score":0,"last_activity_date":1656853914,"creation_date":1637357928,"question_id":70041177,"body_markdown":"I have a Java array `int[] field = new int[9]` that looks like this: {1,2,3,4,5,6,7,8,9,0}\r\n\r\nIn a method  `public static boolean isSorted(int[] field, boolean isAscending)` I want to check if the array is ascending or descending. I tried this:\r\n\r\n   \r\n\r\n    boolean fetch = false;\r\n        \t\tif(field == null){\r\n        \t\t\tfetch = false;\r\n        \t\t}\r\n        \t\telse if(isAscending){\r\n        \t\t\tfor(int i = 0; i &lt; (field.length-1); i++){\r\n        \t\t\t\tif(field[i] &gt; field[i+1])\r\n        \t\t\t\t\tfetch = false;\r\n        \t\t\t\telse\r\n        \t\t\t\t\tfetch = true;\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\telse if(!isAscending){\r\n        \t\t\tfor(int i = 0; i &lt;= (field.length); i++){\r\n        \t\t\t\tif(field[i] &lt; field[i+1])\r\n        \t\t\t\t\tfetch = false;\r\n        \t\t\t\telse\r\n        \t\t\t\t\tfetch = true;\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\treturn fetch;\r\n    \t}\r\n\r\nHowever, when applying the method to the array mentioned above, I get two different results when the parameter is `isAscending` is passed once true and once false into the method. The result should be false for both cases because there are ascending AND descending numbers in the array at the same time. I know that the issue lies within the structuring of the code. \r\n\r\nHow can I imporve this and get to the desired result?\r\n\r\n","title":"Check if array is ascending","body":"<p>I have a Java array <code>int[] field = new int[9]</code> that looks like this: {1,2,3,4,5,6,7,8,9,0}</p>\n<p>In a method  <code>public static boolean isSorted(int[] field, boolean isAscending)</code> I want to check if the array is ascending or descending. I tried this:</p>\n<pre><code>boolean fetch = false;\n            if(field == null){\n                fetch = false;\n            }\n            else if(isAscending){\n                for(int i = 0; i &lt; (field.length-1); i++){\n                    if(field[i] &gt; field[i+1])\n                        fetch = false;\n                    else\n                        fetch = true;\n                }\n            }\n            else if(!isAscending){\n                for(int i = 0; i &lt;= (field.length); i++){\n                    if(field[i] &lt; field[i+1])\n                        fetch = false;\n                    else\n                        fetch = true;\n                }\n            }\n            return fetch;\n    }\n</code></pre>\n<p>However, when applying the method to the array mentioned above, I get two different results when the parameter is <code>isAscending</code> is passed once true and once false into the method. The result should be false for both cases because there are ascending AND descending numbers in the array at the same time. I know that the issue lies within the structuring of the code.</p>\n<p>How can I imporve this and get to the desired result?</p>\n"},{"tags":["java","postgresql","spring-boot","rest"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1656849742,"post_id":72846283,"comment_id":128667076,"body_markdown":"Please read: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question) --- The exception message is quite on-point: the primary key is `null`.","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a> --- The exception message is quite on-point: the primary key is <code>null</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1656850290,"post_id":72846283,"comment_id":128667190,"body_markdown":"(If I had to guess, I&#39;d say the problem occurs because `entityManager.merge(...)` is used instead of `entityManger.save(...)`)","body":"(If I had to guess, I&#39;d say the problem occurs because <code>entityManager.merge(...)</code> is used instead of <code>entityManger.save(...)</code>)"},{"owner":{"account_id":20205190,"reputation":11,"user_id":18326772,"display_name":"vAsLIL123"},"score":0,"creation_date":1656850541,"post_id":72846283,"comment_id":128667242,"body_markdown":"@Turing85 Yeah, but why if i defined pk as 2 (|employeeId&quot;: 2)\nAnd this method need to update and add, so it cant be only for save","body":"@Turing85 Yeah, but why if i defined pk as 2 (|employeeId&quot;: 2) And this method need to update and add, so it cant be only for save"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1656850809,"post_id":72846283,"comment_id":128667286,"body_markdown":"Sorry, I do not understand your point. The field `employeeId` is defined as `GeneratedValue`, so we should avoid setting it explicitly (for new entities). Furthermore, `EntityManager::merge` it to update some state with an existing (!) state in the persistence context, `EntityManager::persist` is to create a new(!) entity in the persistence context (which is what we want in this case).","body":"Sorry, I do not understand your point. The field <code>employeeId</code> is defined as <code>GeneratedValue</code>, so we should avoid setting it explicitly (for new entities). Furthermore, <code>EntityManager::merge</code> it to update some state with an existing (!) state in the persistence context, <code>EntityManager::persist</code> is to create a new(!) entity in the persistence context (which is what we want in this case)."},{"owner":{"account_id":20205190,"reputation":11,"user_id":18326772,"display_name":"vAsLIL123"},"score":0,"creation_date":1656851367,"post_id":72846283,"comment_id":128667395,"body_markdown":"@Turing85, in course that a watch to learn springboot, man use merge instead of SaveOrUpdate from Session. Said that it work in the same way. btw will try persist now\n\nupd. didnt work","body":"@Turing85, in course that a watch to learn springboot, man use merge instead of SaveOrUpdate from Session. Said that it work in the same way. btw will try persist now  upd. didnt work"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1656851580,"post_id":72846283,"comment_id":128667437,"body_markdown":"A possible problem could be that the auto-incrementation is not properly configured in the the database schema. See [the documentation of `@GenerationType`](https://jakarta.ee/specifications/platform/8/apidocs/javax/persistence/generationtype) for details.","body":"A possible problem could be that the auto-incrementation is not properly configured in the the database schema. See <a href=\"https://jakarta.ee/specifications/platform/8/apidocs/javax/persistence/generationtype\" rel=\"nofollow noreferrer\">the documentation of <code>@GenerationType</code></a> for details."},{"owner":{"account_id":20205190,"reputation":11,"user_id":18326772,"display_name":"vAsLIL123"},"score":0,"creation_date":1656854899,"post_id":72846283,"comment_id":128668094,"body_markdown":"@Turing85 It is, im just delete this line with GenerationType from my Entity file and that it, i just need to add id manually. it is so stupid","body":"@Turing85 It is, im just delete this line with GenerationType from my Entity file and that it, i just need to add id manually. it is so stupid"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1656855074,"post_id":72846283,"comment_id":128668140,"body_markdown":"This is not the proper way. The primary key is (normally) a database-concern and should thus be handled by the database. Otherwise, we might run into problems, e.g. when the application is restarted ro when multiple instances of our application try to persist concurrently with the same primary key.","body":"This is not the proper way. The primary key is (normally) a database-concern and should thus be handled by the database. Otherwise, we might run into problems, e.g. when the application is restarted ro when multiple instances of our application try to persist concurrently with the same primary key."},{"owner":{"account_id":20205190,"reputation":11,"user_id":18326772,"display_name":"vAsLIL123"},"score":2,"creation_date":1656858282,"post_id":72846283,"comment_id":128668790,"body_markdown":"@Turing85 fixed! problem was with db, the primary key was not serial.","body":"@Turing85 fixed! problem was with db, the primary key was not serial."}],"owner":{"account_id":20205190,"reputation":11,"user_id":18326772,"display_name":"vAsLIL123"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656853854,"creation_date":1656849251,"question_id":72846283,"body_markdown":"\r\nI have SpringBoot+PostgreSQL app with REST and all methods except PostMapping work well. I&#39;m already rechecked all sources that I take info from, and it looks correct to me. Im newbie at Spring and maybe just missed some small detail.idk\r\n\r\nAdd all files that my project consist of:\r\n\r\nDAOImpl a.k.a. Repository\r\n```\r\n @Repository\r\npublic class EmployeeDAOImpl implements EmployeeDAO {\r\n\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n    @Override\r\n    public List&lt;Employee&gt; getAllEmployees() {\r\n        Query query = entityManager.createQuery(&quot;from Employee&quot;);\r\n        List&lt;Employee&gt; allEmployees=query.getResultList();\r\n        return allEmployees;\r\n    }\r\n\r\n    @Override\r\n    public void saveEmployee(Employee employee) {\r\n        Employee newEmployee = entityManager.merge(employee);\r\n        employee.setEmployeeId(newEmployee.getEmployeeId());\r\n    }\r\n\r\n    @Override\r\n    public Employee getEmployee(int employeeId) {\r\n        Employee employee = entityManager.find(Employee.class, employeeId);\r\n        return employee;\r\n    }\r\n\r\n    @Override\r\n    public void deleteEmployee(int employeeId) {\r\n        Query query = entityManager.createQuery(&quot;delete from Employee &quot;+ &quot;where employeeId=:employeeId&quot;);\r\n        query.setParameter(&quot;employeeId&quot;,employeeId);\r\n        query.executeUpdate();\r\n    }\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;employee&quot;)\r\npublic class Employee {\r\n    @Id\r\n    @NotNull\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;employee_id&quot;)\r\n    private Integer employeeId;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;department_id&quot;)\r\n    private Integer departmentId;\r\n\r\n    @Column(name = &quot;job_title&quot;)\r\n    private String jobTitle;\r\n\r\n    public Integer getEmployeeId() {\r\n        return employeeId;\r\n    }\r\n\r\n    public void setEmployeeId(Integer employeeId) {\r\n        this.employeeId = employeeId;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public Integer getDepartmentId() {\r\n        return departmentId;\r\n    }\r\n\r\n    public void setDepartmentId(Integer departmentId) {\r\n        this.departmentId = departmentId;\r\n    }\r\n\r\n    public String getJobTitle() {\r\n        return jobTitle;\r\n    }\r\n\r\n    public void setJobTitle(String jobTitle) {\r\n        this.jobTitle = jobTitle;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@RestController\r\npublic class EmployeeController {\r\n\r\n    @Autowired EmployeeService employeeService;\r\n\r\n    @GetMapping(&quot;sayhello&quot;)\r\n    public String sayHello(){\r\n        return &quot;Hello world&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/employees&quot;)\r\n    public List&lt;Employee&gt; getAllEmployees(){\r\n        List&lt;Employee&gt; allEmployees = employeeService.getAllEmployees();\r\n        return allEmployees;\r\n    }\r\n\r\n    @GetMapping(&quot;/employees/{employeeId}&quot;)\r\n    public Employee getEmployee(@PathVariable int employeeId){\r\n        Employee employee = employeeService.getEmployee(employeeId);\r\n\r\n        return employee;\r\n    }\r\n\r\n    @PostMapping(&quot;/employees&quot;)\r\n    public Employee addNewEmployee(@RequestBody Employee employee){\r\n        employeeService.saveEmployee(employee);\r\n        return employee;\r\n    }\r\n\r\n    @PutMapping(&quot;/employees&quot;)\r\n    public Employee updateEmployee(@RequestBody Employee employee){\r\n        employeeService.saveEmployee(employee);\r\n        return employee;\r\n    }\r\n\r\n    @DeleteMapping(&quot;/employees/{employeeId}&quot;)\r\n    public String deleteEmployee(@PathVariable int employeeId){\r\n        employeeService.deleteEmployee(employeeId);\r\n\r\n        return &quot;Employee with ID = &quot; + employeeId + &quot; was deleted&quot;;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class EmployeeService {\r\n    @Autowired private EmployeeDAO employeeDao;\r\n    @Transactional\r\n    public List&lt;Employee&gt; getAllEmployees(){\r\n        return employeeDao.getAllEmployees();\r\n    }\r\n\r\n    @Transactional\r\n    public void saveEmployee(Employee employee){\r\n        employeeDao.saveEmployee(employee);\r\n    }\r\n\r\n    @Transactional\r\n    public Employee getEmployee(int employeeId){\r\n        return employeeDao.getEmployee(employeeId);\r\n    }\r\n\r\n    @Transactional\r\n    public void deleteEmployee(int employeeId){\r\n        employeeDao.deleteEmployee(employeeId);\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nHow my db Employee looks like: https://i.stack.imgur.com/tSGNT.png\r\n\r\nSo here errors from postman when i tried to add new employee\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-07-03T12:47:39.419+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.dao.InvalidDataAccessResourceUsageException: error performing isolated work; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: error performing isolated work\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\\r\\n\\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\\r\\n\\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\\r\\n\\tat com.example.demo.dao.EmployeeDAOImpl$$EnhancerBySpringCGLIB$$20b8e2cf.saveEmployee(&lt;generated&gt;)\\r\\n\\tat com.example.demo.service.EmployeeService.saveEmployee(EmployeeService.java:21)\\r\\n\\tat com.example.demo.service.EmployeeService$$FastClassBySpringCGLIB$$a2443614.invoke(&lt;generated&gt;)\\r\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\\r\\n\\tat com.example.demo.service.EmployeeService$$EnhancerBySpringCGLIB$$363f298d.saveEmployee(&lt;generated&gt;)\\r\\n\\tat com.example.demo.rest.EmployeeController.addNewEmployee(EmployeeController.java:35)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\r\\nCaused by: org.hibernate.exception.SQLGrammarException: error performing isolated work\\r\\n\\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:79)\\r\\n\\tat org.hibernate.id.enhanced.TableGenerator$1.getNextValue(TableGenerator.java:583)\\r\\n\\tat org.hibernate.id.enhanced.NoopOptimizer.generate(NoopOptimizer.java:40)\\r\\n\\tat org.hibernate.id.enhanced.TableGenerator.generate(TableGenerator.java:579)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.saveTransientEntity(DefaultMergeEventListener.java:271)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:243)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:175)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829)\\r\\n\\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy94.merge(Unknown Source)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy94.merge(Unknown Source)\\r\\n\\tat com.example.demo.dao.EmployeeDAOImpl.saveEmployee(EmployeeDAOImpl.java:25)\\r\\n\\tat com.example.demo.dao.EmployeeDAOImpl$$FastClassBySpringCGLIB$$f8b5a20e.invoke(&lt;generated&gt;)\\r\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\\r\\n\\t... 66 more\\r\\nCaused by: org.postgresql.util.PSQLException: ERROR: relation \\&quot;hibernate_sequences\\&quot; does not exist\\n  Position: 26\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)\\r\\n\\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)\\r\\n\\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)\\r\\n\\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167)\\r\\n\\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:119)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.id.enhanced.TableGenerator.executeQuery(TableGenerator.java:714)\\r\\n\\tat org.hibernate.id.enhanced.TableGenerator.access$400(TableGenerator.java:131)\\r\\n\\tat org.hibernate.id.enhanced.TableGenerator$1$1.execute(TableGenerator.java:598)\\r\\n\\tat org.hibernate.id.enhanced.TableGenerator$1$1.execute(TableGenerator.java:584)\\r\\n\\tat org.hibernate.jdbc.WorkExecutor.executeReturningWork(WorkExecutor.java:55)\\r\\n\\tat org.hibernate.jdbc.AbstractReturningWork.accept(AbstractReturningWork.java:34)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:57)\\r\\n\\t... 92 more\\r\\n&quot;,\r\n    &quot;message&quot;: &quot;error performing isolated work; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: error performing isolated work&quot;,\r\n    &quot;path&quot;: &quot;/employees/&quot;\r\n}\r\n```\r\n\r\nAnd this one from intellij\r\n```\r\n2022-07-03 15:09:57.971  WARN 16984 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502\r\n2022-07-03 15:09:57.971 ERROR 16984 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column &quot;employee_id&quot; of relation &quot;employee&quot; violates not-null constraint\r\n  Detail: Failing row contains (null, Johnny, Depp, 11, Actor).\r\n2022-07-03 15:09:57.987 ERROR 16984 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [employee_id&quot; of relation &quot;employee]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n\r\norg.postgresql.util.PSQLException: ERROR: null value in column &quot;employee_id&quot; of relation &quot;employee&quot; violates not-null constraint\r\n  Detail: Failing row contains (null, Johnny, Depp, 11, Actor).\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.6.jar:42.3.6]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.6.jar:42.3.6]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.6.jar:42.3.6]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.6.jar:42.3.6]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.6.jar:42.3.6]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167) ~[postgresql-42.3.6.jar:42.3.6]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135) ~[postgresql-42.3.6.jar:42.3.6]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.saveTransientEntity(DefaultMergeEventListener.java:271) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat jdk.proxy4/jdk.proxy4.$Proxy94.merge(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat jdk.proxy4/jdk.proxy4.$Proxy94.merge(Unknown Source) ~[na:na]\r\n\tat com.example.demo.dao.EmployeeDAOImpl.saveEmployee(EmployeeDAOImpl.java:25) ~[classes/:na]\r\n\tat com.example.demo.dao.EmployeeDAOImpl$$FastClassBySpringCGLIB$$f8b5a20e.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat com.example.demo.dao.EmployeeDAOImpl$$EnhancerBySpringCGLIB$$85b40f44.saveEmployee(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.example.demo.service.EmployeeService.saveEmployee(EmployeeService.java:21) ~[classes/:na]\r\n\tat com.example.demo.service.EmployeeService$$FastClassBySpringCGLIB$$a2443614.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat com.example.demo.service.EmployeeService$$EnhancerBySpringCGLIB$$391eac97.saveEmployee(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.example.demo.rest.EmployeeController.addNewEmployee(EmployeeController.java:35) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]\r\n\r\n```","title":"postMapping won&#39;t add new object to PostgreSQl DB, SpringBoot","body":"<p>I have SpringBoot+PostgreSQL app with REST and all methods except PostMapping work well. I'm already rechecked all sources that I take info from, and it looks correct to me. Im newbie at Spring and maybe just missed some small detail.idk</p>\n<p>Add all files that my project consist of:</p>\n<p>DAOImpl a.k.a. Repository</p>\n<pre><code> @Repository\npublic class EmployeeDAOImpl implements EmployeeDAO {\n\n    @Autowired\n    private EntityManager entityManager;\n\n    @Override\n    public List&lt;Employee&gt; getAllEmployees() {\n        Query query = entityManager.createQuery(&quot;from Employee&quot;);\n        List&lt;Employee&gt; allEmployees=query.getResultList();\n        return allEmployees;\n    }\n\n    @Override\n    public void saveEmployee(Employee employee) {\n        Employee newEmployee = entityManager.merge(employee);\n        employee.setEmployeeId(newEmployee.getEmployeeId());\n    }\n\n    @Override\n    public Employee getEmployee(int employeeId) {\n        Employee employee = entityManager.find(Employee.class, employeeId);\n        return employee;\n    }\n\n    @Override\n    public void deleteEmployee(int employeeId) {\n        Query query = entityManager.createQuery(&quot;delete from Employee &quot;+ &quot;where employeeId=:employeeId&quot;);\n        query.setParameter(&quot;employeeId&quot;,employeeId);\n        query.executeUpdate();\n    }\n</code></pre>\n<pre><code>@Entity\n@Table(name=&quot;employee&quot;)\npublic class Employee {\n    @Id\n    @NotNull\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;employee_id&quot;)\n    private Integer employeeId;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;department_id&quot;)\n    private Integer departmentId;\n\n    @Column(name = &quot;job_title&quot;)\n    private String jobTitle;\n\n    public Integer getEmployeeId() {\n        return employeeId;\n    }\n\n    public void setEmployeeId(Integer employeeId) {\n        this.employeeId = employeeId;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public Integer getDepartmentId() {\n        return departmentId;\n    }\n\n    public void setDepartmentId(Integer departmentId) {\n        this.departmentId = departmentId;\n    }\n\n    public String getJobTitle() {\n        return jobTitle;\n    }\n\n    public void setJobTitle(String jobTitle) {\n        this.jobTitle = jobTitle;\n    }\n}\n</code></pre>\n<pre><code>@RestController\npublic class EmployeeController {\n\n    @Autowired EmployeeService employeeService;\n\n    @GetMapping(&quot;sayhello&quot;)\n    public String sayHello(){\n        return &quot;Hello world&quot;;\n    }\n\n    @GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; getAllEmployees(){\n        List&lt;Employee&gt; allEmployees = employeeService.getAllEmployees();\n        return allEmployees;\n    }\n\n    @GetMapping(&quot;/employees/{employeeId}&quot;)\n    public Employee getEmployee(@PathVariable int employeeId){\n        Employee employee = employeeService.getEmployee(employeeId);\n\n        return employee;\n    }\n\n    @PostMapping(&quot;/employees&quot;)\n    public Employee addNewEmployee(@RequestBody Employee employee){\n        employeeService.saveEmployee(employee);\n        return employee;\n    }\n\n    @PutMapping(&quot;/employees&quot;)\n    public Employee updateEmployee(@RequestBody Employee employee){\n        employeeService.saveEmployee(employee);\n        return employee;\n    }\n\n    @DeleteMapping(&quot;/employees/{employeeId}&quot;)\n    public String deleteEmployee(@PathVariable int employeeId){\n        employeeService.deleteEmployee(employeeId);\n\n        return &quot;Employee with ID = &quot; + employeeId + &quot; was deleted&quot;;\n    }\n\n\n\n}\n</code></pre>\n<pre><code>@Service\npublic class EmployeeService {\n    @Autowired private EmployeeDAO employeeDao;\n    @Transactional\n    public List&lt;Employee&gt; getAllEmployees(){\n        return employeeDao.getAllEmployees();\n    }\n\n    @Transactional\n    public void saveEmployee(Employee employee){\n        employeeDao.saveEmployee(employee);\n    }\n\n    @Transactional\n    public Employee getEmployee(int employeeId){\n        return employeeDao.getEmployee(employeeId);\n    }\n\n    @Transactional\n    public void deleteEmployee(int employeeId){\n        employeeDao.deleteEmployee(employeeId);\n    }\n\n\n\n}\n</code></pre>\n<p>How my db Employee looks like: <a href=\"https://i.stack.imgur.com/tSGNT.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/tSGNT.png</a></p>\n<p>So here errors from postman when i tried to add new employee</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-07-03T12:47:39.419+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;trace&quot;: &quot;org.springframework.dao.InvalidDataAccessResourceUsageException: error performing isolated work; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: error performing isolated work\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\\r\\n\\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\\r\\n\\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\\r\\n\\tat com.example.demo.dao.EmployeeDAOImpl$$EnhancerBySpringCGLIB$$20b8e2cf.saveEmployee(&lt;generated&gt;)\\r\\n\\tat com.example.demo.service.EmployeeService.saveEmployee(EmployeeService.java:21)\\r\\n\\tat com.example.demo.service.EmployeeService$$FastClassBySpringCGLIB$$a2443614.invoke(&lt;generated&gt;)\\r\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\\r\\n\\tat com.example.demo.service.EmployeeService$$EnhancerBySpringCGLIB$$363f298d.saveEmployee(&lt;generated&gt;)\\r\\n\\tat com.example.demo.rest.EmployeeController.addNewEmployee(EmployeeController.java:35)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\r\\nCaused by: org.hibernate.exception.SQLGrammarException: error performing isolated work\\r\\n\\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:79)\\r\\n\\tat org.hibernate.id.enhanced.TableGenerator$1.getNextValue(TableGenerator.java:583)\\r\\n\\tat org.hibernate.id.enhanced.NoopOptimizer.generate(NoopOptimizer.java:40)\\r\\n\\tat org.hibernate.id.enhanced.TableGenerator.generate(TableGenerator.java:579)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.saveTransientEntity(DefaultMergeEventListener.java:271)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:243)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:175)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829)\\r\\n\\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy94.merge(Unknown Source)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy94.merge(Unknown Source)\\r\\n\\tat com.example.demo.dao.EmployeeDAOImpl.saveEmployee(EmployeeDAOImpl.java:25)\\r\\n\\tat com.example.demo.dao.EmployeeDAOImpl$$FastClassBySpringCGLIB$$f8b5a20e.invoke(&lt;generated&gt;)\\r\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\\r\\n\\t... 66 more\\r\\nCaused by: org.postgresql.util.PSQLException: ERROR: relation \\&quot;hibernate_sequences\\&quot; does not exist\\n  Position: 26\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)\\r\\n\\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)\\r\\n\\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)\\r\\n\\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167)\\r\\n\\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:119)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.id.enhanced.TableGenerator.executeQuery(TableGenerator.java:714)\\r\\n\\tat org.hibernate.id.enhanced.TableGenerator.access$400(TableGenerator.java:131)\\r\\n\\tat org.hibernate.id.enhanced.TableGenerator$1$1.execute(TableGenerator.java:598)\\r\\n\\tat org.hibernate.id.enhanced.TableGenerator$1$1.execute(TableGenerator.java:584)\\r\\n\\tat org.hibernate.jdbc.WorkExecutor.executeReturningWork(WorkExecutor.java:55)\\r\\n\\tat org.hibernate.jdbc.AbstractReturningWork.accept(AbstractReturningWork.java:34)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:57)\\r\\n\\t... 92 more\\r\\n&quot;,\n    &quot;message&quot;: &quot;error performing isolated work; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: error performing isolated work&quot;,\n    &quot;path&quot;: &quot;/employees/&quot;\n}\n</code></pre>\n<p>And this one from intellij</p>\n<pre><code>2022-07-03 15:09:57.971  WARN 16984 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502\n2022-07-03 15:09:57.971 ERROR 16984 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column &quot;employee_id&quot; of relation &quot;employee&quot; violates not-null constraint\n  Detail: Failing row contains (null, Johnny, Depp, 11, Actor).\n2022-07-03 15:09:57.987 ERROR 16984 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [employee_id&quot; of relation &quot;employee]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\n\norg.postgresql.util.PSQLException: ERROR: null value in column &quot;employee_id&quot; of relation &quot;employee&quot; violates not-null constraint\n  Detail: Failing row contains (null, Johnny, Depp, 11, Actor).\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.6.jar:42.3.6]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.6.jar:42.3.6]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.6.jar:42.3.6]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.6.jar:42.3.6]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.6.jar:42.3.6]\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167) ~[postgresql-42.3.6.jar:42.3.6]\n    at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135) ~[postgresql-42.3.6.jar:42.3.6]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.saveTransientEntity(DefaultMergeEventListener.java:271) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.21.jar:5.3.21]\n    at jdk.proxy4/jdk.proxy4.$Proxy94.merge(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.21.jar:5.3.21]\n    at jdk.proxy4/jdk.proxy4.$Proxy94.merge(Unknown Source) ~[na:na]\n    at com.example.demo.dao.EmployeeDAOImpl.saveEmployee(EmployeeDAOImpl.java:25) ~[classes/:na]\n    at com.example.demo.dao.EmployeeDAOImpl$$FastClassBySpringCGLIB$$f8b5a20e.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]\n    at com.example.demo.dao.EmployeeDAOImpl$$EnhancerBySpringCGLIB$$85b40f44.saveEmployee(&lt;generated&gt;) ~[classes/:na]\n    at com.example.demo.service.EmployeeService.saveEmployee(EmployeeService.java:21) ~[classes/:na]\n    at com.example.demo.service.EmployeeService$$FastClassBySpringCGLIB$$a2443614.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]\n    at com.example.demo.service.EmployeeService$$EnhancerBySpringCGLIB$$391eac97.saveEmployee(&lt;generated&gt;) ~[classes/:na]\n    at com.example.demo.rest.EmployeeController.addNewEmployee(EmployeeController.java:35) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]\n\n</code></pre>\n"},{"tags":["java","algorithm","priority-queue","greedy"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656844049,"post_id":72843962,"comment_id":128665973,"body_markdown":"I had a brief look at the link you&#39;ve provided, seems like it describes the mechanism of greedy algorithms and this sample-problem well. Can you explain the rationale behind your solution? You just want to get more fancy output, or you&#39;re treating the problem in a different way? According to the original description, the input data is already sorted by *finish-time*, why do you need a `PriorityQueue`? You&#39;re double-sorting the data... or you&#39;re treating the input as unsorted?","body":"I had a brief look at the link you&#39;ve provided, seems like it describes the mechanism of greedy algorithms and this sample-problem well. Can you explain the rationale behind your solution? You just want to get more fancy output, or you&#39;re treating the problem in a different way? According to the original description, the input data is already sorted by <i>finish-time</i>, why do you need a <code>PriorityQueue</code>? You&#39;re double-sorting the data... or you&#39;re treating the input as unsorted?"},{"owner":{"account_id":22664992,"reputation":13,"user_id":16837497,"display_name":"Programmer"},"score":0,"creation_date":1656845013,"post_id":72843962,"comment_id":128666121,"body_markdown":"I am treating the problem in a different way with respect to the greedy idea. I would like to begin at the Earliest Start Time and let the algorithm determine the greedy solution from such (or non-overlapping pairs beginning from the Earliest Start Time). Yes, the PriorityQueue is there to sort unsorted inputs - if considering other instances for the main method (that may be unsorted).","body":"I am treating the problem in a different way with respect to the greedy idea. I would like to begin at the Earliest Start Time and let the algorithm determine the greedy solution from such (or non-overlapping pairs beginning from the Earliest Start Time). Yes, the PriorityQueue is there to sort unsorted inputs - if considering other instances for the main method (that may be unsorted)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656845257,"post_id":72843962,"comment_id":128666172,"body_markdown":"OK, that better. So you want a task with the earliest *start time* to be always added and maximize the total number of fulfilled tasks like in the original problem?","body":"OK, that better. So you want a task with the earliest <i>start time</i> to be always added and maximize the total number of fulfilled tasks like in the original problem?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656845378,"post_id":72843962,"comment_id":128666202,"body_markdown":"Please add this clarification to the question. And don&#39;t use bold font for everything - if you&#39;re highlighting everything, it happens that you&#39;re highlighting nothing.","body":"Please add this clarification to the question. And don&#39;t use bold font for everything - if you&#39;re highlighting everything, it happens that you&#39;re highlighting nothing."},{"owner":{"account_id":22664992,"reputation":13,"user_id":16837497,"display_name":"Programmer"},"score":0,"creation_date":1656846461,"post_id":72843962,"comment_id":128666406,"body_markdown":"That is correct(: and my apologies I am new and unfamiliar with the platform, I will attempt to clarify better moving forward.","body":"That is correct(: and my apologies I am new and unfamiliar with the platform, I will attempt to clarify better moving forward."}],"answers":[{"tags":[],"owner":{"account_id":21103765,"reputation":30,"user_id":15513188,"display_name":"NBG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656832357,"creation_date":1656832357,"answer_id":72844573,"question_id":72843962,"body_markdown":"Isn&#39;t it selecting the earliest start time already? Because that is the concept of Greedy. You take the earliest available task with the highest bounty/reward.","title":"Maximizing the number of Tasks so that starting time of the first Task is always the Earliest","body":"<p>Isn't it selecting the earliest start time already? Because that is the concept of Greedy. You take the earliest available task with the highest bounty/reward.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656852297,"creation_date":1656852297,"answer_id":72846617,"question_id":72843962,"body_markdown":"In order to always start with the *earliest task* and then pick the rest tasks in such a way that the number of the fulfilled tasks would be maximal, firstly we need to determine the *earliest task* and then apply a greedy approach to maximize the total number of tasks.\r\n\r\nThe problem can be addressed in the following steps:\r\n\r\n* Parse the pair of given arrays and create a queue of tasks.\r\n\r\n* Find the *earliest task* and remove it from the queue.\r\n\r\n* Apply a greedy algorithm to find the rest tasks.\r\n\r\n* Print the list of tasks.\r\n\r\nFor conciseness to represent a *task*, I&#39;m using Java 16 record (you can substitute with a class).\r\n\r\n\r\nThat&#39;s how it can be implemented:\r\n\r\n    public record Task(int start, int finish) {}\r\n    \r\n    public static void selectActivities(int[] start, int[] finish) {\r\n        if (start.length == 0 || start.length != finish.length) {\r\n            return; // throw an exception\r\n        }\r\n        \r\n        Queue&lt;Task&gt; tasks = createTasks(start, finish);\r\n        Task earliest = pickEarliest(tasks);\r\n        \r\n        List&lt;Task&gt; fulfilledTasks = getFulfilledTasks(tasks, earliest);\r\n        \r\n        printFulfilledTasks(fulfilledTasks);\r\n    }\r\n    \r\n    public static Queue&lt;Task&gt; createTasks(int[] start, int[] finish) {\r\n        Queue&lt;Task&gt; tasks = new PriorityQueue&lt;&gt;(Comparator.comparingInt(Task::finish));\r\n        for (int i = 0; i &lt; start.length; i++) {\r\n            tasks.add(new Task(start[i], finish[i]));\r\n        }\r\n        return tasks;\r\n    }\r\n    \r\n    public static Task pickEarliest(Queue&lt;Task&gt; tasks) {\r\n        Task earliest = null;\r\n        for (Task task: tasks) {\r\n            if (earliest == null || task.start() &lt; earliest.start()) {\r\n                earliest = task;\r\n            }\r\n        }\r\n        tasks.remove(earliest);\r\n        return earliest;\r\n    }\r\n    \r\n    public static List&lt;Task&gt; getFulfilledTasks(Queue&lt;Task&gt; tasks, Task earliest) {\r\n        List&lt;Task&gt; result = new ArrayList&lt;&gt;();\r\n        result.add(earliest);\r\n        \r\n        Task current = earliest;\r\n        \r\n        while (!tasks.isEmpty()) {\r\n            Task next = tasks.remove();\r\n            if (next.start() &gt;= current.finish()) {\r\n                result.add(next);\r\n                current = next;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    public static void printFulfilledTasks(List&lt;Task&gt; tasks) {\r\n        selectActivities(new int[]{ 1, 3, 0, 5, 8, 5 }, new int[]{ 2, 4, 6, 7, 9, 9 });\r\n    }\r\n\r\n*Output:*\r\n```\r\nActivity has started at: 0 and ended at 6\r\nActivity has started at: 8 and ended at 9\r\n```","title":"Maximizing the number of Tasks so that starting time of the first Task is always the Earliest","body":"<p>In order to always start with the <em>earliest task</em> and then pick the rest tasks in such a way that the number of the fulfilled tasks would be maximal, firstly we need to determine the <em>earliest task</em> and then apply a greedy approach to maximize the total number of tasks.</p>\n<p>The problem can be addressed in the following steps:</p>\n<ul>\n<li><p>Parse the pair of given arrays and create a queue of tasks.</p>\n</li>\n<li><p>Find the <em>earliest task</em> and remove it from the queue.</p>\n</li>\n<li><p>Apply a greedy algorithm to find the rest tasks.</p>\n</li>\n<li><p>Print the list of tasks.</p>\n</li>\n</ul>\n<p>For conciseness to represent a <em>task</em>, I'm using Java 16 record (you can substitute with a class).</p>\n<p>That's how it can be implemented:</p>\n<pre><code>public record Task(int start, int finish) {}\n\npublic static void selectActivities(int[] start, int[] finish) {\n    if (start.length == 0 || start.length != finish.length) {\n        return; // throw an exception\n    }\n    \n    Queue&lt;Task&gt; tasks = createTasks(start, finish);\n    Task earliest = pickEarliest(tasks);\n    \n    List&lt;Task&gt; fulfilledTasks = getFulfilledTasks(tasks, earliest);\n    \n    printFulfilledTasks(fulfilledTasks);\n}\n\npublic static Queue&lt;Task&gt; createTasks(int[] start, int[] finish) {\n    Queue&lt;Task&gt; tasks = new PriorityQueue&lt;&gt;(Comparator.comparingInt(Task::finish));\n    for (int i = 0; i &lt; start.length; i++) {\n        tasks.add(new Task(start[i], finish[i]));\n    }\n    return tasks;\n}\n\npublic static Task pickEarliest(Queue&lt;Task&gt; tasks) {\n    Task earliest = null;\n    for (Task task: tasks) {\n        if (earliest == null || task.start() &lt; earliest.start()) {\n            earliest = task;\n        }\n    }\n    tasks.remove(earliest);\n    return earliest;\n}\n\npublic static List&lt;Task&gt; getFulfilledTasks(Queue&lt;Task&gt; tasks, Task earliest) {\n    List&lt;Task&gt; result = new ArrayList&lt;&gt;();\n    result.add(earliest);\n    \n    Task current = earliest;\n    \n    while (!tasks.isEmpty()) {\n        Task next = tasks.remove();\n        if (next.start() &gt;= current.finish()) {\n            result.add(next);\n            current = next;\n        }\n    }\n    return result;\n}\n\npublic static void printFulfilledTasks(List&lt;Task&gt; tasks) {\n    selectActivities(new int[]{ 1, 3, 0, 5, 8, 5 }, new int[]{ 2, 4, 6, 7, 9, 9 });\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Activity has started at: 0 and ended at 6\nActivity has started at: 8 and ended at 9\n</code></pre>\n"}],"owner":{"account_id":22664992,"reputation":13,"user_id":16837497,"display_name":"Programmer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72846617,"answer_count":2,"score":1,"last_activity_date":1656853670,"creation_date":1656823411,"question_id":72843962,"body_markdown":"My code is inspired by the following [*article*](https://www.geeksforgeeks.org/activity-selection-problem-greedy-algo-1/) which contains the code-sample which determines the maximum number of activities that can be performed using a greedy algorithm.\r\n\r\nI am treating the problem differently with respect to the greedy idea. I would like to begin at the Earliest Start Time and only then let the greedy algorithm to determine the optimal solution  (i.e. non-overlapping pairs beginning from the Earliest Start Time).\r\n\r\nI&#39;m using `PriorityQueue` because I&#39;m treating the input as unsorted.\r\n\r\nI&#39;m curious to know how to choose the activity having the Earliest Start Time and proceed with maximum number of non-overlapping pairs (activities)?\r\n\r\n*My code:*\r\n```\r\nimport java.io.*;\r\nimport java.lang.*;\r\nimport java.util.*;\r\n \r\nclass GFG {\r\n \r\n  // Pair class\r\n  static class Pair {\r\n \r\n    int first;\r\n    int second;\r\n \r\n    Pair(int first, int second)\r\n    {\r\n      this.first = first;\r\n      this.second = second;\r\n    }\r\n  }\r\n \r\n  static void SelectActivities(int s[], int f[])\r\n  {\r\n \r\n    // Vector to store results.\r\n    ArrayList&lt;Pair&gt; ans = new ArrayList&lt;&gt;();\r\n \r\n    // Minimum Priority Queue to sort activities in\r\n    // ascending order of finishing time (f[i]).\r\n    PriorityQueue&lt;Pair&gt; p = new PriorityQueue&lt;&gt;(\r\n      (p1, p2) -&gt; p1.first - p2.first);\r\n \r\n    for (int i = 0; i &lt; s.length; i++) {\r\n      // Pushing elements in priority queue where the\r\n      // key is f[i]\r\n      p.add(new Pair(f[i], s[i]));\r\n    }\r\n \r\n    Pair it = p.poll();\r\n    int start = it.second;\r\n    int end = it.first;\r\n    ans.add(new Pair(start, end));\r\n \r\n    while (!p.isEmpty()) {\r\n      Pair itr = p.poll();\r\n      if (itr.second &gt;= end) {\r\n        start = itr.second;\r\n        end = itr.first;\r\n        ans.add(new Pair(start, end));\r\n      }\r\n    }\r\n    System.out.println(\r\n      &quot;Following Activities should be selected. \\n&quot;);\r\n \r\n    for (Pair itr : ans) {\r\n      System.out.println(\r\n        &quot;Activity started at: &quot; + itr.first\r\n        + &quot; and ends at  &quot; + itr.second);\r\n    }\r\n  }\r\n \r\n  // Driver Code\r\n  public static void main(String[] args)\r\n  {\r\n \r\n    int s[] = { 1, 3, 0, 5, 8, 5 };\r\n    int f[] = { 2, 4, 6, 7, 9, 9 };\r\n \r\n    // Function call\r\n    SelectActivities(s, f);\r\n  }\r\n}\r\n```\r\n\r\n--------------------------------------------------------------------------------------\r\n\r\n**Current output:**\r\n```\r\nFollowing Activities should be selected. \r\n\r\nActivity started at: 1 and ends at  2\r\nActivity started at: 3 and ends at  4\r\nActivity started at: 5 and ends at  7\r\nActivity started at: 8 and ends at  9\r\n```\r\n**Desired output:**\r\n```\r\nFollowing Activities should be selected. \r\n\r\nActivity started at: 0 and ends at  6\r\nActivity started at: 8 and ends at  9\r\n```","title":"Maximizing the number of Tasks so that starting time of the first Task is always the Earliest","body":"<p>My code is inspired by the following <a href=\"https://www.geeksforgeeks.org/activity-selection-problem-greedy-algo-1/\" rel=\"nofollow noreferrer\"><em>article</em></a> which contains the code-sample which determines the maximum number of activities that can be performed using a greedy algorithm.</p>\n<p>I am treating the problem differently with respect to the greedy idea. I would like to begin at the Earliest Start Time and only then let the greedy algorithm to determine the optimal solution  (i.e. non-overlapping pairs beginning from the Earliest Start Time).</p>\n<p>I'm using <code>PriorityQueue</code> because I'm treating the input as unsorted.</p>\n<p>I'm curious to know how to choose the activity having the Earliest Start Time and proceed with maximum number of non-overlapping pairs (activities)?</p>\n<p><em>My code:</em></p>\n<pre><code>import java.io.*;\nimport java.lang.*;\nimport java.util.*;\n \nclass GFG {\n \n  // Pair class\n  static class Pair {\n \n    int first;\n    int second;\n \n    Pair(int first, int second)\n    {\n      this.first = first;\n      this.second = second;\n    }\n  }\n \n  static void SelectActivities(int s[], int f[])\n  {\n \n    // Vector to store results.\n    ArrayList&lt;Pair&gt; ans = new ArrayList&lt;&gt;();\n \n    // Minimum Priority Queue to sort activities in\n    // ascending order of finishing time (f[i]).\n    PriorityQueue&lt;Pair&gt; p = new PriorityQueue&lt;&gt;(\n      (p1, p2) -&gt; p1.first - p2.first);\n \n    for (int i = 0; i &lt; s.length; i++) {\n      // Pushing elements in priority queue where the\n      // key is f[i]\n      p.add(new Pair(f[i], s[i]));\n    }\n \n    Pair it = p.poll();\n    int start = it.second;\n    int end = it.first;\n    ans.add(new Pair(start, end));\n \n    while (!p.isEmpty()) {\n      Pair itr = p.poll();\n      if (itr.second &gt;= end) {\n        start = itr.second;\n        end = itr.first;\n        ans.add(new Pair(start, end));\n      }\n    }\n    System.out.println(\n      &quot;Following Activities should be selected. \\n&quot;);\n \n    for (Pair itr : ans) {\n      System.out.println(\n        &quot;Activity started at: &quot; + itr.first\n        + &quot; and ends at  &quot; + itr.second);\n    }\n  }\n \n  // Driver Code\n  public static void main(String[] args)\n  {\n \n    int s[] = { 1, 3, 0, 5, 8, 5 };\n    int f[] = { 2, 4, 6, 7, 9, 9 };\n \n    // Function call\n    SelectActivities(s, f);\n  }\n}\n</code></pre>\n<hr />\n<p><strong>Current output:</strong></p>\n<pre><code>Following Activities should be selected. \n\nActivity started at: 1 and ends at  2\nActivity started at: 3 and ends at  4\nActivity started at: 5 and ends at  7\nActivity started at: 8 and ends at  9\n</code></pre>\n<p><strong>Desired output:</strong></p>\n<pre><code>Following Activities should be selected. \n\nActivity started at: 0 and ends at  6\nActivity started at: 8 and ends at  9\n</code></pre>\n"},{"tags":["java","eclipse","logging","eclipse-plugin"],"answers":[{"tags":[],"owner":{"account_id":11909746,"reputation":680,"user_id":8715352,"display_name":"Manuel Moser"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1541701303,"creation_date":1541693481,"answer_id":53211725,"question_id":53211694,"body_markdown":"&lt;!-- language: java --&gt;\r\nCreate a new class which inherits from Formatter\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.logging.Formatter;\r\n    import java.util.logging.LogRecord;\r\n    \r\n    public class LogFormatter extends Formatter\r\n    {\r\n        // ANSI escape code\r\n    \tpublic static final String ANSI_RESET = &quot;\\u001B[0m&quot;;\r\n    \tpublic static final String ANSI_BLACK = &quot;\\u001B[30m&quot;;\r\n    \tpublic static final String ANSI_RED = &quot;\\u001B[31m&quot;;\r\n    \tpublic static final String ANSI_GREEN = &quot;\\u001B[32m&quot;;\r\n    \tpublic static final String ANSI_YELLOW = &quot;\\u001B[33m&quot;;\r\n    \tpublic static final String ANSI_BLUE = &quot;\\u001B[34m&quot;;\r\n    \tpublic static final String ANSI_PURPLE = &quot;\\u001B[35m&quot;;\r\n    \tpublic static final String ANSI_CYAN = &quot;\\u001B[36m&quot;;\r\n    \tpublic static final String ANSI_WHITE = &quot;\\u001B[37m&quot;;\r\n        \r\n        // Here you can configure the format of the output and \r\n        // its color by using the ANSI escape codes defined above.\r\n\r\n        // format is called for every console log message\r\n    \t@Override\r\n    \tpublic String format(LogRecord record)\r\n    \t{\r\n            // This example will print date/time, class, and log level in yellow,\r\n            // followed by the log message and it&#39;s parameters in white .\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(ANSI_YELLOW);\r\n    \t\t\r\n    \t\tbuilder.append(&quot;[&quot;);\r\n    \t\tbuilder.append(calcDate(record.getMillis()));\r\n    \t\tbuilder.append(&quot;]&quot;);\r\n    \r\n    \t\tbuilder.append(&quot; [&quot;);\r\n    \t\tbuilder.append(record.getSourceClassName());\r\n    \t\tbuilder.append(&quot;]&quot;);\r\n    \t\t\r\n    \t\tbuilder.append(&quot; [&quot;);\r\n    \t\tbuilder.append(record.getLevel().getName());\r\n    \t\tbuilder.append(&quot;]&quot;);\r\n    \t\t\r\n    \t\tbuilder.append(ANSI_WHITE);\r\n    \t\tbuilder.append(&quot; - &quot;);\r\n    \t\tbuilder.append(record.getMessage());\r\n    \t\t\r\n    \t\tObject[] params = record.getParameters();\r\n    \t\t\r\n    \t\tif (params != null)\r\n    \t\t{\r\n    \t\t\tbuilder.append(&quot;\\t&quot;);\r\n    \t\t\tfor (int i = 0; i &lt; params.length; i++)\r\n    \t\t\t{\r\n    \t\t\t\tbuilder.append(params[i]);\r\n    \t\t\t\tif (i &lt; params.length - 1)\r\n    \t\t\t\t\tbuilder.append(&quot;, &quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tbuilder.append(ANSI_RESET);\r\n    \t\tbuilder.append(&quot;\\n&quot;);\r\n    \t\treturn builder.toString();\r\n    \t}\r\n    \t\r\n    \tprivate String calcDate(long millisecs) {\r\n            SimpleDateFormat date_format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            Date resultdate = new Date(millisecs);\r\n            return date_format.format(resultdate);\r\n        }\r\n    }\r\n\r\n&lt;br/&gt;\r\nYou can bind the custom formatter to your logger like this:\r\n\r\n\r\n    Logger logger = Logger.getLogger(&quot;logfile.txt&quot;);\r\n    logger.setUseParentHandlers(false);\r\n\r\n    ConsoleHandler handler = new ConsoleHandler();\r\n\r\n    Formatter formatter = new LogFormatter();\r\n    handler.setFormatter(formatter);\t\t\r\n\r\n    logger.addHandler(handler);\r\n\r\n\r\nANSI escape codes can be enabled for Eclipse console with [this](https://mihai-nita.net/2013/06/03/eclipse-plugin-ansi-in-console/) plugin\r\n\r\nSources:\r\n\r\n - http://www.vogella.com/tutorials/Logging/article.html\r\n\r\n - https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\r\n\r\n - https://mihai-nita.net/2013/06/03/eclipse-plugin-ansi-in-console/\r\n\r\n - https://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html#setLevel-java.util.logging.Level-\r\n\r\n - https://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html\r\n\r\n - https://stackoverflow.com/questions/6286701/an-eclipse-console-view-that-respects-ansi-color-codes","title":"Change color and format of java.util.logging.Logger output in Eclipse","body":"<p>Create a new class which inherits from Formatter</p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.logging.Formatter;\nimport java.util.logging.LogRecord;\n\npublic class LogFormatter extends Formatter\n{\n    // ANSI escape code\n    public static final String ANSI_RESET = \"\\u001B[0m\";\n    public static final String ANSI_BLACK = \"\\u001B[30m\";\n    public static final String ANSI_RED = \"\\u001B[31m\";\n    public static final String ANSI_GREEN = \"\\u001B[32m\";\n    public static final String ANSI_YELLOW = \"\\u001B[33m\";\n    public static final String ANSI_BLUE = \"\\u001B[34m\";\n    public static final String ANSI_PURPLE = \"\\u001B[35m\";\n    public static final String ANSI_CYAN = \"\\u001B[36m\";\n    public static final String ANSI_WHITE = \"\\u001B[37m\";\n\n    // Here you can configure the format of the output and \n    // its color by using the ANSI escape codes defined above.\n\n    // format is called for every console log message\n    @Override\n    public String format(LogRecord record)\n    {\n        // This example will print date/time, class, and log level in yellow,\n        // followed by the log message and it's parameters in white .\n        StringBuilder builder = new StringBuilder();\n        builder.append(ANSI_YELLOW);\n\n        builder.append(\"[\");\n        builder.append(calcDate(record.getMillis()));\n        builder.append(\"]\");\n\n        builder.append(\" [\");\n        builder.append(record.getSourceClassName());\n        builder.append(\"]\");\n\n        builder.append(\" [\");\n        builder.append(record.getLevel().getName());\n        builder.append(\"]\");\n\n        builder.append(ANSI_WHITE);\n        builder.append(\" - \");\n        builder.append(record.getMessage());\n\n        Object[] params = record.getParameters();\n\n        if (params != null)\n        {\n            builder.append(\"\\t\");\n            for (int i = 0; i &lt; params.length; i++)\n            {\n                builder.append(params[i]);\n                if (i &lt; params.length - 1)\n                    builder.append(\", \");\n            }\n        }\n\n        builder.append(ANSI_RESET);\n        builder.append(\"\\n\");\n        return builder.toString();\n    }\n\n    private String calcDate(long millisecs) {\n        SimpleDateFormat date_format = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n        Date resultdate = new Date(millisecs);\n        return date_format.format(resultdate);\n    }\n}\n</code></pre>\n\n<p><br/>\nYou can bind the custom formatter to your logger like this:</p>\n\n<pre><code>Logger logger = Logger.getLogger(\"logfile.txt\");\nlogger.setUseParentHandlers(false);\n\nConsoleHandler handler = new ConsoleHandler();\n\nFormatter formatter = new LogFormatter();\nhandler.setFormatter(formatter);        \n\nlogger.addHandler(handler);\n</code></pre>\n\n<p>ANSI escape codes can be enabled for Eclipse console with <a href=\"https://mihai-nita.net/2013/06/03/eclipse-plugin-ansi-in-console/\" rel=\"noreferrer\">this</a> plugin</p>\n\n<p>Sources:</p>\n\n<ul>\n<li><p><a href=\"http://www.vogella.com/tutorials/Logging/article.html\" rel=\"noreferrer\">http://www.vogella.com/tutorials/Logging/article.html</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\">How to print color in console using System.out.println?</a></p></li>\n<li><p><a href=\"https://mihai-nita.net/2013/06/03/eclipse-plugin-ansi-in-console/\" rel=\"noreferrer\">https://mihai-nita.net/2013/06/03/eclipse-plugin-ansi-in-console/</a></p></li>\n<li><p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html#setLevel-java.util.logging.Level-\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html#setLevel-java.util.logging.Level-</a></p></li>\n<li><p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/6286701/an-eclipse-console-view-that-respects-ansi-color-codes\">An Eclipse console view that respects ANSI color codes?</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15714218,"reputation":362,"user_id":11338800,"display_name":"lendoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656851295,"creation_date":1656851295,"answer_id":72846508,"question_id":53211694,"body_markdown":"An easy way:\r\n```java\r\nlog.error(&quot;\\u001B[31m&quot; + errors.toString() + &quot;\\u001B[0m&quot;);\r\nlog.info(&quot;\\u001B[32m&quot; + contact.toString() + &quot;\\u001B[0m&quot;);\r\n```","title":"Change color and format of java.util.logging.Logger output in Eclipse","body":"<p>An easy way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>log.error(&quot;\\u001B[31m&quot; + errors.toString() + &quot;\\u001B[0m&quot;);\nlog.info(&quot;\\u001B[32m&quot; + contact.toString() + &quot;\\u001B[0m&quot;);\n</code></pre>\n"}],"owner":{"account_id":11909746,"reputation":680,"user_id":8715352,"display_name":"Manuel Moser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19889,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":53211725,"answer_count":2,"score":18,"last_activity_date":1656851295,"creation_date":1541693375,"question_id":53211694,"body_markdown":"I was looking for a way to change the color of a log output from java.util.logging.Logger in Eclipse. Since I haven&#39;t really found a solution that addresses changing color and combining that with the Logger class I would like to document my solution here.\r\n","title":"Change color and format of java.util.logging.Logger output in Eclipse","body":"<p>I was looking for a way to change the color of a log output from java.util.logging.Logger in Eclipse. Since I haven't really found a solution that addresses changing color and combining that with the Logger class I would like to document my solution here.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656850696,"creation_date":1656850696,"answer_id":72846440,"question_id":72846179,"body_markdown":"Try this\r\n\r\n    private String removeLastChar(@NonNull  String value){\r\n      return value.substring(0,value.length()-1);\r\n    }\r\n\r\nNote: Input value must non-null. So check before passing \r\n\r\n","title":"how to delete a single value using delete button in a calculator app?","body":"<p>Try this</p>\n<pre><code>private String removeLastChar(@NonNull  String value){\n  return value.substring(0,value.length()-1);\n}\n</code></pre>\n<p>Note: Input value must non-null. So check before passing</p>\n"}],"owner":{"account_id":21430910,"reputation":15,"user_id":15787350,"display_name":"devquery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72846440,"answer_count":1,"score":0,"last_activity_date":1656850696,"creation_date":1656848416,"question_id":72846179,"body_markdown":"I am making an Android Calculator App. I want to delete an input instead of clearing the whole value.\r\nThis is code for adding values\r\n```\r\nprivate void updateText(String value) {\r\n        output = output + value;\r\n        display.setText(output);\r\n    }\r\n```\r\nHow can I delete a single value using the delete button?**strong text**\r\n\r\n","title":"how to delete a single value using delete button in a calculator app?","body":"<p>I am making an Android Calculator App. I want to delete an input instead of clearing the whole value.\nThis is code for adding values</p>\n<pre><code>private void updateText(String value) {\n        output = output + value;\n        display.setText(output);\n    }\n</code></pre>\n<p>How can I delete a single value using the delete button?<strong>strong text</strong></p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656848880,"post_id":72846212,"comment_id":128666890,"body_markdown":"Does this answer your question? [How to return one random element from collection](https://stackoverflow.com/questions/72842746/how-to-return-one-random-element-from-collection)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72842746/how-to-return-one-random-element-from-collection\">How to return one random element from collection</a>"},{"owner":{"account_id":24514456,"reputation":17,"user_id":18428407,"display_name":"devnoob"},"score":0,"creation_date":1656848958,"post_id":72846212,"comment_id":128666908,"body_markdown":"No, I tried with that `@Aggregation(pipeline = {&quot;{$sample:{size:1}}&quot;})` but in this case that doesnt work","body":"No, I tried with that <code>@Aggregation(pipeline = {&quot;{$sample:{size:1}}&quot;})</code> but in this case that doesnt work"}],"owner":{"account_id":24514456,"reputation":17,"user_id":18428407,"display_name":"devnoob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656849292,"creation_date":1656848681,"question_id":72846212,"body_markdown":"This is my repository:\r\n\r\n        List&lt;PackageHoliday&gt; findPackageHolidayByTypeOfPackageHolidayContains(String escortedTours);\r\n\r\nThis is my service:\r\n\r\n      @Override\r\n    public List&lt;PackageHoliday&gt; getRandomEscortedTours() {\r\n        return packageHolidayRepository.findPackageHolidayByTypeOfPackageHolidayContains(&quot;escortedTours&quot;);\r\n    }\r\n\r\nThis is my controller:\r\n\r\n     @GetMapping(&quot;/escortedTours&quot;)\r\n    public List&lt;PackageHoliday&gt; getRandomEscortTours() {\r\n        return packageHolidayService.getRandomEscortedTours();\r\n    }\r\n\r\nSo that for now returning me all elements that has escortedType `escortedTours`, I want to make so it return me just one random element? How I can achieve that","title":"Modify mongo repository to return just one random element","body":"<p>This is my repository:</p>\n<pre><code>    List&lt;PackageHoliday&gt; findPackageHolidayByTypeOfPackageHolidayContains(String escortedTours);\n</code></pre>\n<p>This is my service:</p>\n<pre><code>  @Override\npublic List&lt;PackageHoliday&gt; getRandomEscortedTours() {\n    return packageHolidayRepository.findPackageHolidayByTypeOfPackageHolidayContains(&quot;escortedTours&quot;);\n}\n</code></pre>\n<p>This is my controller:</p>\n<pre><code> @GetMapping(&quot;/escortedTours&quot;)\npublic List&lt;PackageHoliday&gt; getRandomEscortTours() {\n    return packageHolidayService.getRandomEscortedTours();\n}\n</code></pre>\n<p>So that for now returning me all elements that has escortedType <code>escortedTours</code>, I want to make so it return me just one random element? How I can achieve that</p>\n"},{"tags":["java","spring-boot","jpa","entity","h2"],"comments":[{"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"score":0,"creation_date":1656841908,"post_id":72845044,"comment_id":128665630,"body_markdown":"What is the version of spring-boot/spring-data-jpa you are using? Try removing all annotations from `DemoApp1Application` except `@SpringBootApplication`","body":"What is the version of spring-boot/spring-data-jpa you are using? Try removing all annotations from <code>DemoApp1Application</code> except <code>@SpringBootApplication</code>"},{"owner":{"account_id":6248735,"reputation":1758,"user_id":4859626,"display_name":"Sithija Piyuman Thewa Hettige"},"score":0,"creation_date":1656845793,"post_id":72845044,"comment_id":128666277,"body_markdown":"I use spring boot 3.0.0 and java 1.8 versions. will add my pom also to the question. I removed all the annotations except @springbootapplication but still get the same error","body":"I use spring boot 3.0.0 and java 1.8 versions. will add my pom also to the question. I removed all the annotations except @springbootapplication but still get the same error"},{"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"score":0,"creation_date":1656848959,"post_id":72845044,"comment_id":128666909,"body_markdown":"Issue is with your spring-boot version. I added answer with solution, please try that out.","body":"Issue is with your spring-boot version. I added answer with solution, please try that out."}],"answers":[{"tags":[],"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656848892,"creation_date":1656848892,"answer_id":72846243,"question_id":72845044,"body_markdown":"spring-boot 3.0.0-SNAPSHOT is a snapshot version and not GA(released) version. If you use any latest release version like below, it should work\r\n\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.7.1&lt;/version&gt;\r\n    \t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;","title":"error creating repository - Not a managed type when springboot with h2","body":"<p>spring-boot 3.0.0-SNAPSHOT is a snapshot version and not GA(released) version. If you use any latest release version like below, it should work</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n"}],"owner":{"account_id":6248735,"reputation":1758,"user_id":4859626,"display_name":"Sithija Piyuman Thewa Hettige"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72846243,"answer_count":1,"score":1,"last_activity_date":1656848892,"creation_date":1656837580,"question_id":72845044,"body_markdown":"I get the above error even after introducing the entity scan. I will add my code below.\r\n\r\nmain class\r\n\r\n    package com.idealo.demoapp1;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n\r\n    @SpringBootApplication\r\n    //@EnableJpaAuditing\r\n    @EnableJpaRepositories(&quot;com.idealo.demoapp1.repository&quot;)\r\n    @EntityScan(&quot;com.idealo.demoapp1.entity&quot;)\r\n    @ComponentScan(&quot;com.*&quot;)\r\n    public class DemoApp1Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApp1Application.class, args);\r\n\t }\r\n    }\r\n\r\ncontroller\r\n\r\n    package com.idealo.demoapp1.controller;\r\n    \r\n    import com.idealo.demoapp1.entity.Item;\r\n    //import org.glassfish.jaxb.runtime.v2.schemagen.xmlschema.List;\r\n    import com.idealo.demoapp1.service.ItemService;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Controller\r\n    @RequestMapping(path = &quot;/item&quot;)\r\n    public class ItemController {\r\n    \r\n    //    @Autowired\r\n        ItemService itemService;\r\n        \r\n        @GetMapping\r\n        @ResponseBody\r\n        public List&lt;Item&gt; getAllItems() {\r\n             return itemService.getAllItems();\r\n        }\r\n    }\r\n\r\nservice \r\n\r\n    package com.idealo.demoapp1.service;\r\n    \r\n    import com.idealo.demoapp1.entity.Item;\r\n    import com.idealo.demoapp1.repository.ItemRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RequiredArgsConstructor\r\n    @Service\r\n    @Transactional\r\n    public class ItemService {\r\n    \r\n    //    @Autowired\r\n        ItemRepository itemRepository;\r\n    \r\n        public List&lt;Item&gt; getAllItems() {\r\n            return itemRepository.findAll();\r\n        }\r\n    \r\n    }\r\n\r\nrepository\r\n\r\n    package com.idealo.demoapp1.repository;\r\n    \r\n    import com.idealo.demoapp1.entity.Item;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    @Repository\r\n    public interface ItemRepository extends JpaRepository&lt;Item, UUID&gt; {\r\n    \r\n    }\r\n\r\nentity\r\n\r\n    package com.idealo.demoapp1.entity;\r\n    \r\n    import com.sun.istack.NotNull;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.springframework.data.annotation.CreatedDate;\r\n    import org.springframework.data.annotation.LastModifiedDate;\r\n    import org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.UUID;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;item&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Builder\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class Item {\r\n        \r\n        @Id\r\n        private UUID id;\r\n    \r\n        @Column\r\n        private String product_name;\r\n    \r\n        @Column\r\n        private String producer;\r\n    \r\n        @Column\r\n        private String product_desc;\r\n    \r\n        @Column\r\n        private String product_picture;\r\n    \r\n        @Column\r\n        private String current_price;\r\n    \r\n        @Column\r\n        private String best_price;\r\n    \r\n        @Column\r\n        private String best_price_date;\r\n    \r\n        @Column\r\n        private String product_rating;\r\n        \r\n    }\r\n\r\nh2 configs in application.properties\r\n\r\n    server.servlet.context-path=/${spring.application.name}\r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2-console\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:mem:idealo;TRACE_LEVEL_FILE=4\r\n    spring.datasource.username=idealo\r\n    spring.datasource.password=123\r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.open-in-view=true\r\n    spring.application.name=idealo-backend\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n\r\nerror\r\n\r\n    Error creating bean with name &#39;itemRepository&#39; defined in com.idealo.demoapp1.repository.ItemRepository defined in @EnableJpaRepositories declared on DemoApp1Application: Not a managed type: class com.idealo.demoapp1.entity.Item\r\n\r\nFolder structure \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W43fT.png\r\n\r\npom\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.idealo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo-app1&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;demo-app1&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project with Spring Boot for idealo&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;!--\t\t&lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;--&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.cedarsoftware&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;java-util&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    &lt;!--\t\t&lt;dependency&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;--&gt;\r\n    &lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nI have gone through similar questions and have tried the solutions without success.\r\nI greatly appreciate if someone can assist me in finding the root cause for this issue\r\n\r\n","title":"error creating repository - Not a managed type when springboot with h2","body":"<p>I get the above error even after introducing the entity scan. I will add my code below.</p>\n<p>main class</p>\n<pre><code>package com.idealo.demoapp1;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n\n@SpringBootApplication\n//@EnableJpaAuditing\n@EnableJpaRepositories(&quot;com.idealo.demoapp1.repository&quot;)\n@EntityScan(&quot;com.idealo.demoapp1.entity&quot;)\n@ComponentScan(&quot;com.*&quot;)\npublic class DemoApp1Application {\n\npublic static void main(String[] args) {\n    SpringApplication.run(DemoApp1Application.class, args);\n }\n}\n</code></pre>\n<p>controller</p>\n<pre><code>package com.idealo.demoapp1.controller;\n\nimport com.idealo.demoapp1.entity.Item;\n//import org.glassfish.jaxb.runtime.v2.schemagen.xmlschema.List;\nimport com.idealo.demoapp1.service.ItemService;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport java.util.List;\n\n@Controller\n@RequestMapping(path = &quot;/item&quot;)\npublic class ItemController {\n\n//    @Autowired\n    ItemService itemService;\n    \n    @GetMapping\n    @ResponseBody\n    public List&lt;Item&gt; getAllItems() {\n         return itemService.getAllItems();\n    }\n}\n</code></pre>\n<p>service</p>\n<pre><code>package com.idealo.demoapp1.service;\n\nimport com.idealo.demoapp1.entity.Item;\nimport com.idealo.demoapp1.repository.ItemRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\n\n@RequiredArgsConstructor\n@Service\n@Transactional\npublic class ItemService {\n\n//    @Autowired\n    ItemRepository itemRepository;\n\n    public List&lt;Item&gt; getAllItems() {\n        return itemRepository.findAll();\n    }\n\n}\n</code></pre>\n<p>repository</p>\n<pre><code>package com.idealo.demoapp1.repository;\n\nimport com.idealo.demoapp1.entity.Item;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.UUID;\n\n@Repository\npublic interface ItemRepository extends JpaRepository&lt;Item, UUID&gt; {\n\n}\n</code></pre>\n<p>entity</p>\n<pre><code>package com.idealo.demoapp1.entity;\n\nimport com.sun.istack.NotNull;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport javax.persistence.*;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;item&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\n@EntityListeners(AuditingEntityListener.class)\npublic class Item {\n    \n    @Id\n    private UUID id;\n\n    @Column\n    private String product_name;\n\n    @Column\n    private String producer;\n\n    @Column\n    private String product_desc;\n\n    @Column\n    private String product_picture;\n\n    @Column\n    private String current_price;\n\n    @Column\n    private String best_price;\n\n    @Column\n    private String best_price_date;\n\n    @Column\n    private String product_rating;\n    \n}\n</code></pre>\n<p>h2 configs in application.properties</p>\n<pre><code>server.servlet.context-path=/${spring.application.name}\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\nspring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:idealo;TRACE_LEVEL_FILE=4\nspring.datasource.username=idealo\nspring.datasource.password=123\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.open-in-view=true\nspring.application.name=idealo-backend\nlogging.level.org.hibernate.SQL=DEBUG\n</code></pre>\n<p>error</p>\n<pre><code>Error creating bean with name 'itemRepository' defined in com.idealo.demoapp1.repository.ItemRepository defined in @EnableJpaRepositories declared on DemoApp1Application: Not a managed type: class com.idealo.demoapp1.entity.Item\n</code></pre>\n<p>Folder structure</p>\n<p><a href=\"https://i.stack.imgur.com/W43fT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W43fT.png\" alt=\"enter image description here\" /></a></p>\n<p>pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.idealo&lt;/groupId&gt;\n    &lt;artifactId&gt;demo-app1&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;demo-app1&lt;/name&gt;\n    &lt;description&gt;Demo project with Spring Boot for idealo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;!--        &lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;--&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.cedarsoftware&lt;/groupId&gt;\n            &lt;artifactId&gt;java-util&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have gone through similar questions and have tried the solutions without success.\nI greatly appreciate if someone can assist me in finding the root cause for this issue</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656783900,"creation_date":1656783550,"answer_id":72841208,"question_id":72841108,"body_markdown":"You&#39;re right. You have defined two GET Methods on `/users` and therefore its basically the same as your first problem. \r\n\r\nYou can merge these methods and set the RequestParam for name as not required and just use it when it&#39;s not null.\r\nThe problem here is that you would return one User as List even though you know that there is only one User for this name. Which I think is fine because its not the Users main identifier and with the RequestParam it&#39;s more like a filter anyway.\r\n","title":"How to handle Ambiguous handler methods mapped in REST application with Spring","body":"<p>You're right. You have defined two GET Methods on <code>/users</code> and therefore its basically the same as your first problem.</p>\n<p>You can merge these methods and set the RequestParam for name as not required and just use it when it's not null.\nThe problem here is that you would return one User as List even though you know that there is only one User for this name. Which I think is fine because its not the Users main identifier and with the RequestParam it's more like a filter anyway.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656791755,"creation_date":1656791755,"answer_id":72842069,"question_id":72841108,"body_markdown":"You are right because both `getAllUsers()` and `getUserByName()` are mapped to the `/users/`. So for the request `/users/` , it does not know which  method should be used to process it. \r\n\r\nYou can configure the name query parameter for `/users/` as optional and check if its value is null. Null means user does not want have any filtering on the users and want to get all users : \r\n\r\n``` java\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n\r\n\t@GetMapping\r\n\tpublic List&lt;User&gt; getUser(@RequestParam(value = &quot;name&quot;,required = false) String name) {\r\n\r\n\t\tif (Strings.isNullOrEmpty(name)) {\r\n\t\t\treturn userRepository.findAll();\r\n\t\t} else {\r\n\t\t\treturn userRepository.findUserByName(name);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to handle Ambiguous handler methods mapped in REST application with Spring","body":"<p>You are right because both <code>getAllUsers()</code> and <code>getUserByName()</code> are mapped to the <code>/users/</code>. So for the request <code>/users/</code> , it does not know which  method should be used to process it.</p>\n<p>You can configure the name query parameter for <code>/users/</code> as optional and check if its value is null. Null means user does not want have any filtering on the users and want to get all users :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n\n    @GetMapping\n    public List&lt;User&gt; getUser(@RequestParam(value = &quot;name&quot;,required = false) String name) {\n\n        if (Strings.isNullOrEmpty(name)) {\n            return userRepository.findAll();\n        } else {\n            return userRepository.findUserByName(name);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25696055,"reputation":85,"user_id":19456723,"display_name":"nikolaPantelic98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72842069,"answer_count":2,"score":1,"last_activity_date":1656848805,"creation_date":1656782840,"question_id":72841108,"body_markdown":"In my `UserController`, I have 3 `@GetMapping` methods:\r\n\r\n`getAllUsers()` - It is used to get all users,\r\n`getUserById()` - It is used to get specific user with his unique id and\r\n`getUserByName()` - It is used to get specific user with his unique name.\r\n\r\nThe code from the method is as follows:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Autowired\r\n    public UserController(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n\r\n    @GetMapping\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n\r\n    @GetMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;User&gt; getUserById(@PathVariable Long id) {\r\n        User user = userRepository.findById(id);\r\n        return ResponseEntity.ok(user);\r\n    }\r\n\r\n\r\n    @GetMapping(value = &quot;/{name}&quot;)\r\n    public ResponseEntity&lt;User&gt; getUserByName(@PathVariable String name) {\r\n        User user = userRepository.findUserByName(name);\r\n        return ResponseEntity.ok(user);\r\n    }\r\n```\r\n\r\nThe first problem is that my app doesn&#39;t know if the URL is String or Integer, so I solved the problem between the `getUserById()` and `getUserByName()` methods like this:\r\n\r\n```\r\n    @GetMapping(value = &quot;{id}&quot;)\r\n    public ResponseEntity&lt;User&gt; getUserById(@PathVariable Long id) {\r\n        User user = userRepository.findById(id);\r\n        return ResponseEntity.ok(user);\r\n    }\r\n\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;User&gt; getUserByName(@RequestParam(value = &quot;name&quot;) String name) {\r\n        User user = userRepository.findUserByName(name);\r\n        return ResponseEntity.ok(user);\r\n    }\r\n```\r\n\r\nSo now I can access the methods with:\r\n\r\n`http://localhost:8080/users/1` and\r\n`http://localhost:8080/users?name=john`\r\n\r\nWhen I run the application, I get this error:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map &#39;userController&#39; method \r\ncom.db.userapp.controller.UserController#getUserByName(String)\r\nto {GET [/users]}: There is already &#39;userController&#39; bean method\r\n```\r\n\r\nI believe this is because my `getAllUsers()` and `getUserByName()` methods are on the same URL format. Does anyone have an idea how I can solve this?","title":"How to handle Ambiguous handler methods mapped in REST application with Spring","body":"<p>In my <code>UserController</code>, I have 3 <code>@GetMapping</code> methods:</p>\n<p><code>getAllUsers()</code> - It is used to get all users,\n<code>getUserById()</code> - It is used to get specific user with his unique id and\n<code>getUserByName()</code> - It is used to get specific user with his unique name.</p>\n<p>The code from the method is as follows:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n\n    private final UserRepository userRepository;\n\n    @Autowired\n    public UserController(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n\n    @GetMapping\n    public List&lt;User&gt; getAllUsers() {\n        return userRepository.findAll();\n    }\n\n\n    @GetMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;User&gt; getUserById(@PathVariable Long id) {\n        User user = userRepository.findById(id);\n        return ResponseEntity.ok(user);\n    }\n\n\n    @GetMapping(value = &quot;/{name}&quot;)\n    public ResponseEntity&lt;User&gt; getUserByName(@PathVariable String name) {\n        User user = userRepository.findUserByName(name);\n        return ResponseEntity.ok(user);\n    }\n</code></pre>\n<p>The first problem is that my app doesn't know if the URL is String or Integer, so I solved the problem between the <code>getUserById()</code> and <code>getUserByName()</code> methods like this:</p>\n<pre><code>    @GetMapping(value = &quot;{id}&quot;)\n    public ResponseEntity&lt;User&gt; getUserById(@PathVariable Long id) {\n        User user = userRepository.findById(id);\n        return ResponseEntity.ok(user);\n    }\n\n\n    @GetMapping\n    public ResponseEntity&lt;User&gt; getUserByName(@RequestParam(value = &quot;name&quot;) String name) {\n        User user = userRepository.findUserByName(name);\n        return ResponseEntity.ok(user);\n    }\n</code></pre>\n<p>So now I can access the methods with:</p>\n<p><code>http://localhost:8080/users/1</code> and\n<code>http://localhost:8080/users?name=john</code></p>\n<p>When I run the application, I get this error:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'userController' method \ncom.db.userapp.controller.UserController#getUserByName(String)\nto {GET [/users]}: There is already 'userController' bean method\n</code></pre>\n<p>I believe this is because my <code>getAllUsers()</code> and <code>getUserByName()</code> methods are on the same URL format. Does anyone have an idea how I can solve this?</p>\n"},{"tags":["java","data-structures","stack"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1656846810,"post_id":72845922,"comment_id":128666475,"body_markdown":"`for (int i = 0; i &lt; 5; i++)` why don&#39;t you explicitly loop until the stack is empty, instead?","body":"<code>for (int i = 0; i &lt; 5; i++)</code> why don&#39;t you explicitly loop until the stack is empty, instead?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656848528,"creation_date":1656847705,"answer_id":72846098,"question_id":72845922,"body_markdown":"Avoid *hard-coded values* like `while (i &lt; 5)`.\r\n\r\nYou need to empty out the first stack and populate the second stack with all the contents of the first stack.\r\n\r\nWhile doing this, you need to check every element against the minimal element previously encountered and a new minimal element was found, then you need to update its value and position.\r\n\r\nAfter that, we need to do the opposite: populate the first stack with the contents of the second stack, with one exception - we need to skip the index that corresponds to the minimum element. For that, we can use the same index, i.e. no need to define a separate variable.\r\n\r\nThat how it can be implemented.\r\n\r\n    public static void findSmallest(Stack&lt;Integer&gt; stack1) {\r\n        if (stack1.isEmpty()) return; // guarding condition against an empty stack\r\n        \r\n        Stack&lt;Integer&gt; stack2 = new Stack&lt;&gt;();\r\n        int min = stack1.peek();\r\n        int minInd = 0;\r\n        int ind = 0;\r\n        \r\n        while(!stack1.isEmpty()) {\r\n            int next = stack1.pop();\r\n            if (next &lt; min) {\r\n                min = next;    // updating the minimum value\r\n                minInd = ind;  // updating the minimum index\r\n            }\r\n            stack2.push(next); // saving the next element in the second stack\r\n            ind++;             // updating the index\r\n        }\r\n        \r\n        while (!stack2.isEmpty()) {\r\n            int next = stack2.pop();\r\n            if (ind == minInd) {\r\n                ind--;         // updating the index\r\n                continue;      // moving to the next iteration step (we should skip the min number - it will be added at the top afterwards)\r\n            }\r\n            stack1.push(next); // saving the next element in the second stack\r\n            ind--;             // updating the index\r\n        }\r\n        \r\n        stack1.push(min);      // adding the min number at top\r\n    }\r\n\r\n***Note:*** class `Stack` is legacy and **not encouraged** to be used (it&#39;s still there for backward compatibility reasons). When you need an implementation of the Stack data structure in Java - use standard implementations of the `Deque` interface from the JDK. So if you&#39;re not required to use `Stack` class according to your assignment, you can substitute it with `ArrayDeque`.","title":"Finding the smallest number in a stack and placing it at the top of the stack without changing the order of the rest","body":"<p>Avoid <em>hard-coded values</em> like <code>while (i &lt; 5)</code>.</p>\n<p>You need to empty out the first stack and populate the second stack with all the contents of the first stack.</p>\n<p>While doing this, you need to check every element against the minimal element previously encountered and a new minimal element was found, then you need to update its value and position.</p>\n<p>After that, we need to do the opposite: populate the first stack with the contents of the second stack, with one exception - we need to skip the index that corresponds to the minimum element. For that, we can use the same index, i.e. no need to define a separate variable.</p>\n<p>That how it can be implemented.</p>\n<pre><code>public static void findSmallest(Stack&lt;Integer&gt; stack1) {\n    if (stack1.isEmpty()) return; // guarding condition against an empty stack\n    \n    Stack&lt;Integer&gt; stack2 = new Stack&lt;&gt;();\n    int min = stack1.peek();\n    int minInd = 0;\n    int ind = 0;\n    \n    while(!stack1.isEmpty()) {\n        int next = stack1.pop();\n        if (next &lt; min) {\n            min = next;    // updating the minimum value\n            minInd = ind;  // updating the minimum index\n        }\n        stack2.push(next); // saving the next element in the second stack\n        ind++;             // updating the index\n    }\n    \n    while (!stack2.isEmpty()) {\n        int next = stack2.pop();\n        if (ind == minInd) {\n            ind--;         // updating the index\n            continue;      // moving to the next iteration step (we should skip the min number - it will be added at the top afterwards)\n        }\n        stack1.push(next); // saving the next element in the second stack\n        ind--;             // updating the index\n    }\n    \n    stack1.push(min);      // adding the min number at top\n}\n</code></pre>\n<p><em><strong>Note:</strong></em> class <code>Stack</code> is legacy and <strong>not encouraged</strong> to be used (it's still there for backward compatibility reasons). When you need an implementation of the Stack data structure in Java - use standard implementations of the <code>Deque</code> interface from the JDK. So if you're not required to use <code>Stack</code> class according to your assignment, you can substitute it with <code>ArrayDeque</code>.</p>\n"},{"tags":[],"owner":{"account_id":10157288,"reputation":484,"user_id":9661573,"display_name":"Moish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656848545,"creation_date":1656848095,"answer_id":72846136,"question_id":72845922,"body_markdown":"This section of your code is the problem:\r\n\r\n    while (j &lt; 5) {\r\n                if (!(stack2.peek().equals(min))) \r\n                  stack1.push(stack2.pop());\r\n                j++;\r\n            }\r\nWhy is this the issue? \r\n\r\nWhat you were trying to do here in your `if` statement was \r\n\r\n 1. Check the `num` at the top of `stack2`, if it&#39;s the `min` then skip it. \r\n 2. If `num` is not the min, then put `num` on top of `stack1`. --&gt; \r\n That itself is 2 steps:\r\n  **[a]** pop `num` off of `stack2` and **[b]** push `num` on top of `stack1`. \r\n\r\nWhat happens in the case where you find the minimum? You ignore *step 2* - which means that you never pop the top - which is the `min` -  off of `stack2`. Consequently, when you loop back around again, the top of `stack2` is still the `min`. \r\n\r\nHow do you fix it? Here&#39;s one way:\r\n\r\n        while (j &lt; 5) {\r\n                int num = stack2.pop();//NOTE: I pop here instead of below\r\n                if (num != min) stack1.push(num);//I cleaned up this line a bit\r\n                j++;\r\n            }\r\n            stack1.push(min);\r\n            //NOTE: I deleted the pop from here, because I did it above\r\n\r\nAside: *There are other ways to improve this code, but it seems like you have a lot to learn, so I only addressed the specific question you were asking so as not to overwhelm you.* \r\n\r\n\r\n","title":"Finding the smallest number in a stack and placing it at the top of the stack without changing the order of the rest","body":"<p>This section of your code is the problem:</p>\n<pre><code>while (j &lt; 5) {\n            if (!(stack2.peek().equals(min))) \n              stack1.push(stack2.pop());\n            j++;\n        }\n</code></pre>\n<p>Why is this the issue?</p>\n<p>What you were trying to do here in your <code>if</code> statement was</p>\n<ol>\n<li>Check the <code>num</code> at the top of <code>stack2</code>, if it's the <code>min</code> then skip it.</li>\n<li>If <code>num</code> is not the min, then put <code>num</code> on top of <code>stack1</code>. --&gt;\nThat itself is 2 steps:\n<strong>[a]</strong> pop <code>num</code> off of <code>stack2</code> and <strong>[b]</strong> push <code>num</code> on top of <code>stack1</code>.</li>\n</ol>\n<p>What happens in the case where you find the minimum? You ignore <em>step 2</em> - which means that you never pop the top - which is the <code>min</code> -  off of <code>stack2</code>. Consequently, when you loop back around again, the top of <code>stack2</code> is still the <code>min</code>.</p>\n<p>How do you fix it? Here's one way:</p>\n<pre><code>    while (j &lt; 5) {\n            int num = stack2.pop();//NOTE: I pop here instead of below\n            if (num != min) stack1.push(num);//I cleaned up this line a bit\n            j++;\n        }\n        stack1.push(min);\n        //NOTE: I deleted the pop from here, because I did it above\n</code></pre>\n<p>Aside: <em>There are other ways to improve this code, but it seems like you have a lot to learn, so I only addressed the specific question you were asking so as not to overwhelm you.</em></p>\n"}],"owner":{"account_id":23330013,"reputation":5,"user_id":17406547,"display_name":"ojcoding"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72846098,"answer_count":2,"score":0,"last_activity_date":1656848545,"creation_date":1656846025,"question_id":72845922,"body_markdown":"I&#39;m trying to find the smallest number in an Integer stack and place it at the top of the stack without changing the order of the rest of the numbers, so a stack such as `[1 2 3 4 5]` with the leftmost number being the top of the stack and the rightmost number being the bottom of stack should become `[2 3 4 5 1]` after using the `findSmallest` method shown in the code below, but for some reason I encounter an `EmptyStackException` after trying to print the contents of the stack after the method calling.\r\n\r\nHere is my code: \r\n\r\n    import java.util.Scanner;\r\n    import java.util.Stack;\r\n    \r\n    public class StackTest {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n            Stack&lt;Integer&gt; stack1 = new Stack&lt;&gt;();\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                stack1.push(input.nextInt());\r\n            }\r\n    \r\n            System.out.println(&quot;------------------&quot;);\r\n            findSmallest(stack1);\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                System.out.println(stack1.pop());\r\n            }\r\n        }\r\n    \r\n        public static void findSmallest(Stack&lt;Integer&gt; stack1) {\r\n    \r\n            Stack&lt;Integer&gt; stack2 = new Stack&lt;&gt;();\r\n            Integer min = stack1.peek();\r\n            int i = 0;\r\n            while(i &lt; 5) {\r\n                if(stack1.peek() &lt; min)\r\n                    min = stack1.peek();\r\n                stack2.push(stack1.pop());\r\n                i++;\r\n            }\r\n            int j = 0;\r\n            while (j &lt; 5) {\r\n                if(!(stack2.peek().equals(min)))\r\n                    stack1.push(stack2.pop());\r\n                j++;\r\n            }\r\n            stack1.push(min);\r\n            stack2.pop();\r\n        }\r\n    }\r\n\r\n","title":"Finding the smallest number in a stack and placing it at the top of the stack without changing the order of the rest","body":"<p>I'm trying to find the smallest number in an Integer stack and place it at the top of the stack without changing the order of the rest of the numbers, so a stack such as <code>[1 2 3 4 5]</code> with the leftmost number being the top of the stack and the rightmost number being the bottom of stack should become <code>[2 3 4 5 1]</code> after using the <code>findSmallest</code> method shown in the code below, but for some reason I encounter an <code>EmptyStackException</code> after trying to print the contents of the stack after the method calling.</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Stack;\n\npublic class StackTest {\n\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        Stack&lt;Integer&gt; stack1 = new Stack&lt;&gt;();\n        for (int i = 0; i &lt; 5; i++) {\n            stack1.push(input.nextInt());\n        }\n\n        System.out.println(&quot;------------------&quot;);\n        findSmallest(stack1);\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(stack1.pop());\n        }\n    }\n\n    public static void findSmallest(Stack&lt;Integer&gt; stack1) {\n\n        Stack&lt;Integer&gt; stack2 = new Stack&lt;&gt;();\n        Integer min = stack1.peek();\n        int i = 0;\n        while(i &lt; 5) {\n            if(stack1.peek() &lt; min)\n                min = stack1.peek();\n            stack2.push(stack1.pop());\n            i++;\n        }\n        int j = 0;\n        while (j &lt; 5) {\n            if(!(stack2.peek().equals(min)))\n                stack1.push(stack2.pop());\n            j++;\n        }\n        stack1.push(min);\n        stack2.pop();\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-redshift"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1656855581,"post_id":72846163,"comment_id":128668253,"body_markdown":"Please show your code to connect to Redshift","body":"Please show your code to connect to Redshift"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656941953,"post_id":72846163,"comment_id":128686879,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":12991823,"reputation":1,"user_id":9390801,"display_name":"Yogesh Rajput"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656848315,"creation_date":1656848315,"question_id":72846163,"body_markdown":"I am trying to connect redshift DB to java application using temporary credetial\r\nI am passing Secretkey ,sessionToken and  accessID to jdbc url \r\nits giving error like sessionToken is invalid \r\nbut when i use same token to connect Toad point it works fine\r\nhas anybody connected redshift db to java application using temporary credential?\r\nI don&#39;t want to use Profile file located in my system generated by CLI \r\nI am getting credential from java code itself using adfs URL\r\n","title":"connecting Redshift DB to Java Application using temporary Credentail","body":"<p>I am trying to connect redshift DB to java application using temporary credetial\nI am passing Secretkey ,sessionToken and  accessID to jdbc url\nits giving error like sessionToken is invalid\nbut when i use same token to connect Toad point it works fine\nhas anybody connected redshift db to java application using temporary credential?\nI don't want to use Profile file located in my system generated by CLI\nI am getting credential from java code itself using adfs URL</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1656575909,"post_id":72812171,"comment_id":128607934,"body_markdown":"Why does _when deploying a new version of this dependency used by the others, every project gets this new version&quot;_ happen? How do your Maven projects manage their versions?","body":"Why does <i>when deploying a new version of this dependency used by the others, every project gets this new version&quot;</i> happen? How do your Maven projects manage their versions?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1656575947,"post_id":72812171,"comment_id":128607945,"body_markdown":"`every project gets this new version` -&gt; only if you are not versioning. If you always deploy with version 1.0.0, then it replaces the previously available 1.0.0 version. If you instead increase the version to 1.0.1, then the others will stay with 1.0.0 (given you have specified the version in the other projects)","body":"<code>every project gets this new version</code> -&gt; only if you are not versioning. If you always deploy with version 1.0.0, then it replaces the previously available 1.0.0 version. If you instead increase the version to 1.0.1, then the others will stay with 1.0.0 (given you have specified the version in the other projects)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656576623,"post_id":72812171,"comment_id":128608133,"body_markdown":"Use the maven release plugin. Then you can&#39;t easily forget to use a new version.","body":"Use the maven release plugin. Then you can&#39;t easily forget to use a new version."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656848290,"creation_date":1656576724,"answer_id":72812372,"question_id":72812171,"body_markdown":"The first thing I see \r\n\r\n&gt; The problem is, that when deploying a new version of this dependency\r\n&gt; used by the others, every project gets this new version, which could\r\n&gt; lead to problems.\r\n\r\nThis shows a big issue. You seemed to be violating the foundational rule of immutable releases. \r\n\r\nIn consequence, the version is in the end useless because it&#39;s always the same and does not transport any kind of information. \r\n\r\nThere is first to say you should follow [semantic versioning][1].\r\nAlso you should use either maven-release-plugin to increment the numbers automatically (but that will not solve the issue minor or major release), there are tools to identify such things). This should be solved by using a CI/CD setup (Jenkins, etc.). \r\n\r\nTools to check changes (compatibility) are things like [RevAPI][2] or \r\n[JAPI-Checker][3] etc. [Also some useful information here.][4]\r\n\r\nFurthermore you can do that via [different setups][5] The mentioned `${version}` is simply wrong and will not work in several ways.\r\n\r\nUpgrading a larger number of projects can be done by using something like [Renovate][6] or things like [Dependabot][7] or even some existing Maven plugins which can be run via CI/CD automatically (scheduled) which you should even do for security scans etc. That means automation is the keyword here.\r\n\r\n\r\n  [1]: https://semver.org/\r\n  [2]: https://revapi.org\r\n  [3]: http://code.google.com/p/japi-checker/\r\n  [4]: https://stackoverflow.com/questions/2040693/how-to-identify-a-missing-method-binary-compatibility-in-a-jar-statically\r\n  [5]: https://maven.apache.org/maven-ci-friendly.html\r\n  [6]: https://docs.renovatebot.com/\r\n  [7]: https://github.com/dependabot/dependabot-core","title":"Best practice for deploying different versions of project for different other projects","body":"<p>The first thing I see</p>\n<blockquote>\n<p>The problem is, that when deploying a new version of this dependency\nused by the others, every project gets this new version, which could\nlead to problems.</p>\n</blockquote>\n<p>This shows a big issue. You seemed to be violating the foundational rule of immutable releases.</p>\n<p>In consequence, the version is in the end useless because it's always the same and does not transport any kind of information.</p>\n<p>There is first to say you should follow <a href=\"https://semver.org/\" rel=\"nofollow noreferrer\">semantic versioning</a>.\nAlso you should use either maven-release-plugin to increment the numbers automatically (but that will not solve the issue minor or major release), there are tools to identify such things). This should be solved by using a CI/CD setup (Jenkins, etc.).</p>\n<p>Tools to check changes (compatibility) are things like <a href=\"https://revapi.org\" rel=\"nofollow noreferrer\">RevAPI</a> or\n<a href=\"http://code.google.com/p/japi-checker/\" rel=\"nofollow noreferrer\">JAPI-Checker</a> etc. <a href=\"https://stackoverflow.com/questions/2040693/how-to-identify-a-missing-method-binary-compatibility-in-a-jar-statically\">Also some useful information here.</a></p>\n<p>Furthermore you can do that via <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">different setups</a> The mentioned <code>${version}</code> is simply wrong and will not work in several ways.</p>\n<p>Upgrading a larger number of projects can be done by using something like <a href=\"https://docs.renovatebot.com/\" rel=\"nofollow noreferrer\">Renovate</a> or things like <a href=\"https://github.com/dependabot/dependabot-core\" rel=\"nofollow noreferrer\">Dependabot</a> or even some existing Maven plugins which can be run via CI/CD automatically (scheduled) which you should even do for security scans etc. That means automation is the keyword here.</p>\n"}],"owner":{"account_id":16640176,"reputation":1,"user_id":12025914,"display_name":"TopferHarald"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1656848290,"creation_date":1656575715,"question_id":72812171,"body_markdown":"We have many Maven projects, and one of these projects is included as a dependency in every other project. The problem is, that when deploying a new version of this dependency used by the others, every project gets this new version, which could lead to problems.\r\n\r\nOf course, I could manually change the version every time I deploy the project, but that could lead to problems as well, i.e. when forgetting to change the version before deploying it.\r\n\r\nI also saw the solution of using a ${version} placeholder in the &quot;version&quot;-tag, but that would mean, that I have to specify the version every time I&#39;m doing a Maven command.\r\n\r\nIs there a solution for such problems, where you have a dependency used in many other projects and need a different version in everyone of these projects?","title":"Best practice for deploying different versions of project for different other projects","body":"<p>We have many Maven projects, and one of these projects is included as a dependency in every other project. The problem is, that when deploying a new version of this dependency used by the others, every project gets this new version, which could lead to problems.</p>\n<p>Of course, I could manually change the version every time I deploy the project, but that could lead to problems as well, i.e. when forgetting to change the version before deploying it.</p>\n<p>I also saw the solution of using a ${version} placeholder in the &quot;version&quot;-tag, but that would mean, that I have to specify the version every time I'm doing a Maven command.</p>\n<p>Is there a solution for such problems, where you have a dependency used in many other projects and need a different version in everyone of these projects?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-mvc","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656838685,"creation_date":1656838685,"answer_id":72845178,"question_id":72845030,"body_markdown":"You have the option to create an `Embedded class`, which contains your keys and reference it in your `StudentMaster`\r\n\r\nFor this you need `@EmbeddedId` in your Entity and `@Embeddable` over your key class:\r\n\r\n```java\r\n@Embeddable\r\npublic class MyKey implements Serializable {\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer sId;// id same\r\n    @Column(name = &quot;sr_no.&quot;, length = 5, nullable = false, unique = true)//not null and sr no. should be unique\r\n    private Integer srNo;\r\n    @Column(name = &quot;roll_no&quot;, length = 10, nullable = false, unique = true)\r\n    private Integer rollNo;\r\n\r\n    /** getters and setters **/\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\npublic class StudentMaster implements Serializable {\r\n    @EmbeddedId\r\n    private MyKey myKey;\r\n}\r\n```\r\n\r\n----------\r\n\r\nOr a way without having the embedded class you can use `@IdClass(MyKey.class)`. \r\nNow you can use the `@Id` over your key attributes\r\n\r\n```java\r\npublic class MyKey implements Serializable {\r\n    private Integer sId;\r\n    private Integer srNo;\r\n    private Integer rollNo;\r\n\r\n    /** getters and setters **/\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\n@IdClass(MyKey.class)\r\npublic class StudentMaster implements Serializable {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer sId;// id same\r\n    @Id\r\n    @Column(name = &quot;sr_no.&quot;, length = 5, nullable = false, unique = true)//not null and sr no. should be unique\r\n    private Integer srNo;\r\n    @Id\r\n    @Column(name = &quot;roll_no&quot;, length = 10, nullable = false, unique = true)\r\n    private Integer rollNo;\r\n}\r\n```","title":"How to work unique key constraint with JPA annotations in my springboot project?","body":"<p>You have the option to create an <code>Embedded class</code>, which contains your keys and reference it in your <code>StudentMaster</code></p>\n<p>For this you need <code>@EmbeddedId</code> in your Entity and <code>@Embeddable</code> over your key class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class MyKey implements Serializable {\n    @Column(name = &quot;id&quot;)\n    private Integer sId;// id same\n    @Column(name = &quot;sr_no.&quot;, length = 5, nullable = false, unique = true)//not null and sr no. should be unique\n    private Integer srNo;\n    @Column(name = &quot;roll_no&quot;, length = 10, nullable = false, unique = true)\n    private Integer rollNo;\n\n    /** getters and setters **/\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class StudentMaster implements Serializable {\n    @EmbeddedId\n    private MyKey myKey;\n}\n</code></pre>\n<hr />\n<p>Or a way without having the embedded class you can use <code>@IdClass(MyKey.class)</code>.\nNow you can use the <code>@Id</code> over your key attributes</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyKey implements Serializable {\n    private Integer sId;\n    private Integer srNo;\n    private Integer rollNo;\n\n    /** getters and setters **/\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@IdClass(MyKey.class)\npublic class StudentMaster implements Serializable {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer sId;// id same\n    @Id\n    @Column(name = &quot;sr_no.&quot;, length = 5, nullable = false, unique = true)//not null and sr no. should be unique\n    private Integer srNo;\n    @Id\n    @Column(name = &quot;roll_no&quot;, length = 10, nullable = false, unique = true)\n    private Integer rollNo;\n}\n</code></pre>\n"}],"owner":{"account_id":25668043,"reputation":1,"user_id":19432680,"display_name":"Impulse International School"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656848279,"creation_date":1656837427,"question_id":72845030,"body_markdown":"How to work multi-column constraint with JPA annotations in my springboot project?\r\nI&#39;m trying to introduce a multi-key constraint on a JPA-mapped entity:\r\n```\r\n@Entity\r\n@Table(name = &quot;Student_Master&quot;,uniqueConstraints={\r\n\t    @UniqueConstraint(columnNames = {&quot;id&quot;,&quot;sr_no.&quot;, &quot;roll_no&quot;})\r\n\t})\r\npublic class StudentMaster implements Serializable{\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Integer sId;// id same\r\n\t@Column(name = &quot;sr_no.&quot;, length = 5,nullable = false,unique = true)//not null and sr no. should be unique\r\n\tprivate Integer srNo;\r\n\t@Column(name = &quot;roll_no&quot;, length = 10,nullable = false,unique = true)\r\n\tprivate Integer rollNo;\r\n```\r\n\t\r\n\r\nBasically `(id, sr_no,roll_no)` pair should be unique, but I only found a way to say that id should be unique.\r\n\r\nI have also declare unique constraints using the `@Table(uniqueConstraints = ...)` annotation in your entity class.\r\n\r\nBut it&#39;s didn&#39;t work because entry the duplicate roll no and srNo also with different user.\r\n\t","title":"How to work unique key constraint with JPA annotations in my springboot project?","body":"<p>How to work multi-column constraint with JPA annotations in my springboot project?\nI'm trying to introduce a multi-key constraint on a JPA-mapped entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;Student_Master&quot;,uniqueConstraints={\n        @UniqueConstraint(columnNames = {&quot;id&quot;,&quot;sr_no.&quot;, &quot;roll_no&quot;})\n    })\npublic class StudentMaster implements Serializable{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer sId;// id same\n    @Column(name = &quot;sr_no.&quot;, length = 5,nullable = false,unique = true)//not null and sr no. should be unique\n    private Integer srNo;\n    @Column(name = &quot;roll_no&quot;, length = 10,nullable = false,unique = true)\n    private Integer rollNo;\n</code></pre>\n<p>Basically <code>(id, sr_no,roll_no)</code> pair should be unique, but I only found a way to say that id should be unique.</p>\n<p>I have also declare unique constraints using the <code>@Table(uniqueConstraints = ...)</code> annotation in your entity class.</p>\n<p>But it's didn't work because entry the duplicate roll no and srNo also with different user.</p>\n"},{"tags":["java","android","android-studio","google-calendar-api"],"owner":{"account_id":4421310,"reputation":21,"user_id":3601174,"display_name":"patstevens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656847951,"creation_date":1656847951,"question_id":72846121,"body_markdown":"I am fiddling around with java and Android Studio.\r\nI managed to read from the Google Calendar, fetching Events using the ContentResolver from Google - all fine.\r\n\r\n    \r\n        Cursor cursor = contentResolver.query(\r\n                CalendarContract.Events.CONTENT_URI,\r\n                new String[]{&quot;title&quot;, &quot;dtstart&quot;, &quot;dtend&quot;},\r\n                &quot;( dtstart &gt;&quot; + startFrom.getTimeInMillis()\r\n                        + &quot; and dtend &lt;&quot; + endAt.getTimeInMillis()\r\n                        + &quot; and deleted != 1 )&quot;,\r\n                null,\r\n                &quot;dtstart ASC&quot;\r\n        );\r\n\r\n\r\nNow I am trying the fetch Tasks as well, from the Google Calendar. When you&#39;re adding a new item to your calendar, instead of Events, you can also create &quot;Tasks&quot; (or &quot;Reminders&quot;).\r\n\r\n[![enter image description here][1]][1] \r\n\r\nAs it seems, there are not stored in the calendar directly(?)\r\n\r\nHow can I fetch these Tasks (or Reminders) that were created using the calendar app, within my software?\r\n\r\nPS: In case of reminders, not talking about reminders for an event here. But about reminders that stand for themselves, independent of an event.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fe5HM.png","title":"Android Development: Fetch Task (or Reminders) from Google Calendar","body":"<p>I am fiddling around with java and Android Studio.\nI managed to read from the Google Calendar, fetching Events using the ContentResolver from Google - all fine.</p>\n<pre><code>    Cursor cursor = contentResolver.query(\n            CalendarContract.Events.CONTENT_URI,\n            new String[]{&quot;title&quot;, &quot;dtstart&quot;, &quot;dtend&quot;},\n            &quot;( dtstart &gt;&quot; + startFrom.getTimeInMillis()\n                    + &quot; and dtend &lt;&quot; + endAt.getTimeInMillis()\n                    + &quot; and deleted != 1 )&quot;,\n            null,\n            &quot;dtstart ASC&quot;\n    );\n</code></pre>\n<p>Now I am trying the fetch Tasks as well, from the Google Calendar. When you're adding a new item to your calendar, instead of Events, you can also create &quot;Tasks&quot; (or &quot;Reminders&quot;).</p>\n<p><a href=\"https://i.stack.imgur.com/fe5HM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fe5HM.png\" alt=\"enter image description here\" /></a></p>\n<p>As it seems, there are not stored in the calendar directly(?)</p>\n<p>How can I fetch these Tasks (or Reminders) that were created using the calendar app, within my software?</p>\n<p>PS: In case of reminders, not talking about reminders for an event here. But about reminders that stand for themselves, independent of an event.</p>\n"},{"tags":["java","android","android-contentresolver","contactscontract"],"answers":[{"tags":[],"owner":{"account_id":4863570,"reputation":208,"user_id":3922544,"accept_rate":71,"display_name":"Imran Aslam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1483701842,"creation_date":1483701842,"answer_id":41504652,"question_id":41495044,"body_markdown":"I do not understand your concern properly but I am working on similar project, here is the basic code, and basic, important columns for fetching and display a message: \r\n\r\n   \r\n    ContentResolver contentResolver = getContentResolver();\r\n    final String[] projection = new String[]{&quot;*&quot;};\r\n\r\n    Cursor SMSL = contentResolver.query(Telephony.Sms.CONTENT_URI, projection, null, null, &quot;date ASC&quot;);\r\n    int msgscount = SMSL.getCount();\r\n\r\n    if (msgscount&gt;0) {\r\n    msgs = new String[SMSL.getCount()][msgs_column_count];\r\n        int i = 0;\r\n        while (SMSL.moveToNext()) {\r\n            progress.setProgress(i);\r\n\r\n            msgs[i][0] = SMSL.getString(SMSL.getColumnIndex(&quot;address&quot;));\r\n            msgs[i][1] = SMSL.getString(SMSL.getColumnIndex(&quot;date_sent&quot;));\r\n            msgs[i][2] = SMSL.getString(SMSL.getColumnIndex(&quot;date&quot;));\r\n            msgs[i][3] = SMSL.getString(SMSL.getColumnIndex(&quot;type&quot;));\r\n            msgs[i][4] = SMSL.getString(SMSL.getColumnIndex(&quot;body&quot;));\r\n            msgs[i][5] = SMSL.getString(SMSL.getColumnIndex(&quot;read&quot;));\r\n            if (SMSL.getString(SMSL.getColumnIndex(&quot;service_center&quot;)) != null){\r\n                msgs[i][6] = SMSL.getString(SMSL.getColumnIndex(&quot;service_center&quot;));\r\n            }else{\r\n                msgs[i][6] = &quot;&quot;;\r\n            }\r\n                        i++;\r\n        }\r\n        SMSL.close();\r\n    }else{\r\n         msgs = new String[0][0];\r\n         Toast.makeText(getApplicationContext(),&quot;No messages found!&quot;,Toast.LENGTH_LONG).show();\r\n    }\r\n\r\nIf you want any help with this or fetching messages, let me know.","title":"Telephony.Sms.Inbox.PERSON uses deprecated Contacts.People._ID","body":"<p>I do not understand your concern properly but I am working on similar project, here is the basic code, and basic, important columns for fetching and display a message: </p>\n\n<pre><code>ContentResolver contentResolver = getContentResolver();\nfinal String[] projection = new String[]{\"*\"};\n\nCursor SMSL = contentResolver.query(Telephony.Sms.CONTENT_URI, projection, null, null, \"date ASC\");\nint msgscount = SMSL.getCount();\n\nif (msgscount&gt;0) {\nmsgs = new String[SMSL.getCount()][msgs_column_count];\n    int i = 0;\n    while (SMSL.moveToNext()) {\n        progress.setProgress(i);\n\n        msgs[i][0] = SMSL.getString(SMSL.getColumnIndex(\"address\"));\n        msgs[i][1] = SMSL.getString(SMSL.getColumnIndex(\"date_sent\"));\n        msgs[i][2] = SMSL.getString(SMSL.getColumnIndex(\"date\"));\n        msgs[i][3] = SMSL.getString(SMSL.getColumnIndex(\"type\"));\n        msgs[i][4] = SMSL.getString(SMSL.getColumnIndex(\"body\"));\n        msgs[i][5] = SMSL.getString(SMSL.getColumnIndex(\"read\"));\n        if (SMSL.getString(SMSL.getColumnIndex(\"service_center\")) != null){\n            msgs[i][6] = SMSL.getString(SMSL.getColumnIndex(\"service_center\"));\n        }else{\n            msgs[i][6] = \"\";\n        }\n                    i++;\n    }\n    SMSL.close();\n}else{\n     msgs = new String[0][0];\n     Toast.makeText(getApplicationContext(),\"No messages found!\",Toast.LENGTH_LONG).show();\n}\n</code></pre>\n\n<p>If you want any help with this or fetching messages, let me know.</p>\n"},{"tags":[],"owner":{"account_id":433802,"reputation":27761,"user_id":819355,"accept_rate":72,"display_name":"marmor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1484464490,"creation_date":1483886452,"answer_id":41533865,"question_id":41495044,"body_markdown":"I wouldn&#39;t use the `Telephony.Sms.Inbox.PERSON` field, and definitely wouldn&#39;t query the deprecated `People` apis if I were you.\r\nThe `People` apis had been deprecated for so long you can&#39;t count on all devices our there to properly support it anymore.\r\n\r\nFirst thing you need to understand is that there isn&#39;t a one-to-one link between sms and contacts.\r\nAn SMS can come from a non-contact phone number, a single contact, multiple contacts, a mixture of contacts and non-contacts, alpha-numeric ids, and even other, more rare options.\r\n\r\nNext thing, you should read carefully the stock code and how it handles a properly called &quot;Recipient ID&quot; that you can get from the SMS collection, there&#39;s a collection called `canonical-addresses` (or `canonical-address`) that serves as a mapping between a phone number (or a comma-separated list of phones) and a recipient id.\r\nThe code does a single query on launch to cache the entire table in memory, and then uses it to map between phones and recipient-ids.\r\n\r\nHere&#39;s the [mapping class][1]\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android-apps/5.1.1_r1/com/android/mms/data/RecipientIdCache.java/","title":"Telephony.Sms.Inbox.PERSON uses deprecated Contacts.People._ID","body":"<p>I wouldn't use the <code>Telephony.Sms.Inbox.PERSON</code> field, and definitely wouldn't query the deprecated <code>People</code> apis if I were you.\nThe <code>People</code> apis had been deprecated for so long you can't count on all devices our there to properly support it anymore.</p>\n\n<p>First thing you need to understand is that there isn't a one-to-one link between sms and contacts.\nAn SMS can come from a non-contact phone number, a single contact, multiple contacts, a mixture of contacts and non-contacts, alpha-numeric ids, and even other, more rare options.</p>\n\n<p>Next thing, you should read carefully the stock code and how it handles a properly called \"Recipient ID\" that you can get from the SMS collection, there's a collection called <code>canonical-addresses</code> (or <code>canonical-address</code>) that serves as a mapping between a phone number (or a comma-separated list of phones) and a recipient id.\nThe code does a single query on launch to cache the entire table in memory, and then uses it to map between phones and recipient-ids.</p>\n\n<p>Here's the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android-apps/5.1.1_r1/com/android/mms/data/RecipientIdCache.java/\" rel=\"nofollow noreferrer\">mapping class</a></p>\n"},{"tags":[],"owner":{"account_id":33655,"reputation":26403,"user_id":94363,"accept_rate":74,"display_name":"rds"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484263659,"creation_date":1484263659,"answer_id":41624888,"question_id":41495044,"body_markdown":"&gt; Why would the relatively new Telephony API use deprecated tables, instead of ContactsContract?\r\n\r\nWhat you are referring to is not new. In [Telephony.java][1], you see it relies on the existing `content://sms` provider:\r\n\r\n        public static final class Inbox implements BaseColumns, TextBasedSmsColumns {\r\n            /**\r\n             * The {@code content://} style URL for this table.\r\n             */\r\n            public static final Uri CONTENT_URI = Uri.parse(&quot;content://sms/inbox&quot;);\r\n\r\nIt was already [there in Donut][2] (and probably before, but I didn&#39;t check).\r\n\r\nWhat&#39;s new in [Kitkat is the ability to change the SMS app][3].\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/opt/telephony/+/nougat-release/src/java/android/provider/Telephony.java#492\r\n  [2]: https://android.googlesource.com/platform/frameworks/base/+/donut-release/core/java/android/provider/Telephony.java#154\r\n  [3]: https://android-developers.googleblog.com/2013/10/getting-your-sms-apps-ready-for-kitkat.html","title":"Telephony.Sms.Inbox.PERSON uses deprecated Contacts.People._ID","body":"<blockquote>\n  <p>Why would the relatively new Telephony API use deprecated tables, instead of ContactsContract?</p>\n</blockquote>\n\n<p>What you are referring to is not new. In <a href=\"https://android.googlesource.com/platform/frameworks/opt/telephony/+/nougat-release/src/java/android/provider/Telephony.java#492\" rel=\"nofollow noreferrer\">Telephony.java</a>, you see it relies on the existing <code>content://sms</code> provider:</p>\n\n<pre><code>    public static final class Inbox implements BaseColumns, TextBasedSmsColumns {\n        /**\n         * The {@code content://} style URL for this table.\n         */\n        public static final Uri CONTENT_URI = Uri.parse(\"content://sms/inbox\");\n</code></pre>\n\n<p>It was already <a href=\"https://android.googlesource.com/platform/frameworks/base/+/donut-release/core/java/android/provider/Telephony.java#154\" rel=\"nofollow noreferrer\">there in Donut</a> (and probably before, but I didn't check).</p>\n\n<p>What's new in <a href=\"https://android-developers.googleblog.com/2013/10/getting-your-sms-apps-ready-for-kitkat.html\" rel=\"nofollow noreferrer\">Kitkat is the ability to change the SMS app</a>.</p>\n"},{"tags":[],"owner":{"account_id":11002581,"reputation":1,"user_id":15009422,"display_name":"Vladimir Yankovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656847700,"creation_date":1656847700,"answer_id":72846095,"question_id":41495044,"body_markdown":"It&#39;s been five years and it&#39;s still relevant. You still need to do endlessly phoneLookup and hang up callbacks on contact tables if all you need to do is synchronize text messages.","title":"Telephony.Sms.Inbox.PERSON uses deprecated Contacts.People._ID","body":"<p>It's been five years and it's still relevant. You still need to do endlessly phoneLookup and hang up callbacks on contact tables if all you need to do is synchronize text messages.</p>\n"}],"owner":{"account_id":1307562,"reputation":6094,"user_id":1256219,"accept_rate":60,"display_name":"brandall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1656847700,"creation_date":1483651876,"question_id":41495044,"body_markdown":"**Bounty Award** - The bounty will be awarded to an answer that gets from a populated `Telephony.Sms.Inbox.PERSON` value, to the associated `Contact` using only `ContractsContact` tables.\r\n\r\n----------------- \r\n\r\nI&#39;m reading SMS messages in the standard way in my application:\r\n\r\n        final String[] projection = {Telephony.Sms.Inbox.BODY,\r\n                Telephony.Sms.Inbox.ADDRESS,\r\n                Telephony.Sms.Inbox.READ,\r\n                Telephony.Sms.Inbox.DATE,\r\n                Telephony.Sms.Inbox.PERSON};\r\n\r\n        final Cursor cursor = ctx.getContentResolver().query(Telephony.Sms.Inbox.CONTENT_URI,\r\n                projection, null, null, Telephony.Sms.Inbox.DEFAULT_SORT_ORDER);\r\n\r\nWhen populated, the id returned from the index `Telephony.Sms.Inbox.PERSON` relates to the id of the deprecated `Contacts.People._ID` and can be used to query further contact information in the following way:\r\n\r\n        final String[] projection = {Contacts.People.DISPLAY_NAME};\r\n        final String[] selectionArgs = {contactId};\r\n\r\n        final Cursor cursor = ctx.getContentResolver().query(Contacts.People.CONTENT_URI,\r\n                projection, Contacts.People._ID + &quot; = ?&quot;, selectionArgs, null);\r\n\r\n**Why** would the relatively new [Telephony API][1] use [deprecated tables][2], instead of [ContactsContract][3]?\r\n\r\n[Telephony.Sms.Inbox.PERSON][4] documentation states:\r\n\r\n&gt; Type: INTEGER (reference to item in content://contacts/people)\r\n\r\nI&#39;ve tried unsuccessfully (but not unsurprisingly?) to find a mapping to the id in any of the `ContactsContract` id fields, so I&#39;m left having to use deprecated APIs in order to resolve the queries I need to perform quickly.\r\n\r\nSuch queries include searching for messages by a particular contact, for which I only have the name. The contact could have multiple numbers, which may not be in the correct format to potentially match `Telephony.Sms.Inbox.ADDRESS` entries.....\r\n\r\nThe [workaround][5] of using `Telephony.Sms.Inbox.ADDRESS` and [ContactsContract.PhoneLookup][6] is not the end of the world when going from the number to the contact, but I still feel **I must be missing something here**?\r\n\r\nHere is the process I&#39;m using to get the messages for &#39;Joe Bloggs&#39;.\r\n\r\n1) Query the `ContactsContract` table to confirm a contact by the name of Joe Bloggs exists on the device - or get a close match if the contact is actually listed as &#39;Joe **Blogs**&#39;.\r\n\r\n2) Using the confirmed name, I query the deprecated `Contact.People` table to get all associated ids for the contact in the following way:\r\n\r\n        final String selection = Contacts.People.DISPLAY_NAME + &quot; LIKE ?&quot;;\r\n\r\n        final String[] projection = {Contacts.People.DISPLAY_NAME,\r\n                Contacts.People._ID};\r\n\r\n        final String[] selectionArgs = {contactName};\r\n\r\n        final Cursor cursor = ctx.getContentResolver().query(Contacts.People.CONTENT_URI,\r\n                projection, selection, selectionArgs, null);\r\n\r\n3) Using the list of deprecated contact ids, I query the message table as so:\r\n\r\n        final String[] referredArgs = new String[contactIdArray.size()];\r\n        for (int i = 0; i &lt; contactIdArray.size(); i++) {\r\n            referredArgs[i] = contactIdArray.get(i);\r\n        }\r\n\r\n        final String referredSelection = Telephony.Sms.Inbox.PERSON + &quot; IN &quot;\r\n                + &quot;(&quot; + TextUtils.join(&quot;,&quot;, referredArgs) + &quot;)&quot;;\r\n\r\n        final String[] projection = {Telephony.Sms.Inbox.BODY,\r\n                Telephony.Sms.Inbox.ADDRESS,\r\n                Telephony.Sms.Inbox.READ,\r\n                Telephony.Sms.Inbox.DATE,\r\n                Telephony.Sms.Inbox.PERSON};\r\n\r\n        final Cursor cursor = ctx.getContentResolver().query(Telephony.Sms.Inbox.CONTENT_URI,\r\n                projection, referredSelection, null, Telephony.Sms.Inbox.DEFAULT_SORT_ORDER);\r\n\r\nI&#39;m hoping someone will tell me I&#39;m going round the houses here and there is a more obvious solution using current APIs. *I don&#39;t consider iterating the entire message table using* `ContactsContract.PhoneLookup` *an optimised solution.*\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/provider/Telephony.Sms.html\r\n  [2]: https://android.googlesource.com/platform/packages/providers/TelephonyProvider/+/android-7.1.1_r13/src/com/android/providers/telephony/SmsProvider.java#60\r\n  [3]: https://developer.android.com/reference/android/provider/ContactsContract.html\r\n  [4]: https://developer.android.com/reference/android/provider/Telephony.TextBasedSmsColumns.html#PERSON\r\n  [5]: https://stackoverflow.com/a/19766973/1256219\r\n  [6]: https://developer.android.com/reference/android/provider/ContactsContract.PhoneLookup.html","title":"Telephony.Sms.Inbox.PERSON uses deprecated Contacts.People._ID","body":"<p><strong>Bounty Award</strong> - The bounty will be awarded to an answer that gets from a populated <code>Telephony.Sms.Inbox.PERSON</code> value, to the associated <code>Contact</code> using only <code>ContractsContact</code> tables.</p>\n\n<hr>\n\n<p>I'm reading SMS messages in the standard way in my application:</p>\n\n<pre><code>    final String[] projection = {Telephony.Sms.Inbox.BODY,\n            Telephony.Sms.Inbox.ADDRESS,\n            Telephony.Sms.Inbox.READ,\n            Telephony.Sms.Inbox.DATE,\n            Telephony.Sms.Inbox.PERSON};\n\n    final Cursor cursor = ctx.getContentResolver().query(Telephony.Sms.Inbox.CONTENT_URI,\n            projection, null, null, Telephony.Sms.Inbox.DEFAULT_SORT_ORDER);\n</code></pre>\n\n<p>When populated, the id returned from the index <code>Telephony.Sms.Inbox.PERSON</code> relates to the id of the deprecated <code>Contacts.People._ID</code> and can be used to query further contact information in the following way:</p>\n\n<pre><code>    final String[] projection = {Contacts.People.DISPLAY_NAME};\n    final String[] selectionArgs = {contactId};\n\n    final Cursor cursor = ctx.getContentResolver().query(Contacts.People.CONTENT_URI,\n            projection, Contacts.People._ID + \" = ?\", selectionArgs, null);\n</code></pre>\n\n<p><strong>Why</strong> would the relatively new <a href=\"https://developer.android.com/reference/android/provider/Telephony.Sms.html\" rel=\"nofollow noreferrer\">Telephony API</a> use <a href=\"https://android.googlesource.com/platform/packages/providers/TelephonyProvider/+/android-7.1.1_r13/src/com/android/providers/telephony/SmsProvider.java#60\" rel=\"nofollow noreferrer\">deprecated tables</a>, instead of <a href=\"https://developer.android.com/reference/android/provider/ContactsContract.html\" rel=\"nofollow noreferrer\">ContactsContract</a>?</p>\n\n<p><a href=\"https://developer.android.com/reference/android/provider/Telephony.TextBasedSmsColumns.html#PERSON\" rel=\"nofollow noreferrer\">Telephony.Sms.Inbox.PERSON</a> documentation states:</p>\n\n<blockquote>\n  <p>Type: INTEGER (reference to item in content://contacts/people)</p>\n</blockquote>\n\n<p>I've tried unsuccessfully (but not unsurprisingly?) to find a mapping to the id in any of the <code>ContactsContract</code> id fields, so I'm left having to use deprecated APIs in order to resolve the queries I need to perform quickly.</p>\n\n<p>Such queries include searching for messages by a particular contact, for which I only have the name. The contact could have multiple numbers, which may not be in the correct format to potentially match <code>Telephony.Sms.Inbox.ADDRESS</code> entries.....</p>\n\n<p>The <a href=\"https://stackoverflow.com/a/19766973/1256219\">workaround</a> of using <code>Telephony.Sms.Inbox.ADDRESS</code> and <a href=\"https://developer.android.com/reference/android/provider/ContactsContract.PhoneLookup.html\" rel=\"nofollow noreferrer\">ContactsContract.PhoneLookup</a> is not the end of the world when going from the number to the contact, but I still feel <strong>I must be missing something here</strong>?</p>\n\n<p>Here is the process I'm using to get the messages for 'Joe Bloggs'.</p>\n\n<p>1) Query the <code>ContactsContract</code> table to confirm a contact by the name of Joe Bloggs exists on the device - or get a close match if the contact is actually listed as 'Joe <strong>Blogs</strong>'.</p>\n\n<p>2) Using the confirmed name, I query the deprecated <code>Contact.People</code> table to get all associated ids for the contact in the following way:</p>\n\n<pre><code>    final String selection = Contacts.People.DISPLAY_NAME + \" LIKE ?\";\n\n    final String[] projection = {Contacts.People.DISPLAY_NAME,\n            Contacts.People._ID};\n\n    final String[] selectionArgs = {contactName};\n\n    final Cursor cursor = ctx.getContentResolver().query(Contacts.People.CONTENT_URI,\n            projection, selection, selectionArgs, null);\n</code></pre>\n\n<p>3) Using the list of deprecated contact ids, I query the message table as so:</p>\n\n<pre><code>    final String[] referredArgs = new String[contactIdArray.size()];\n    for (int i = 0; i &lt; contactIdArray.size(); i++) {\n        referredArgs[i] = contactIdArray.get(i);\n    }\n\n    final String referredSelection = Telephony.Sms.Inbox.PERSON + \" IN \"\n            + \"(\" + TextUtils.join(\",\", referredArgs) + \")\";\n\n    final String[] projection = {Telephony.Sms.Inbox.BODY,\n            Telephony.Sms.Inbox.ADDRESS,\n            Telephony.Sms.Inbox.READ,\n            Telephony.Sms.Inbox.DATE,\n            Telephony.Sms.Inbox.PERSON};\n\n    final Cursor cursor = ctx.getContentResolver().query(Telephony.Sms.Inbox.CONTENT_URI,\n            projection, referredSelection, null, Telephony.Sms.Inbox.DEFAULT_SORT_ORDER);\n</code></pre>\n\n<p>I'm hoping someone will tell me I'm going round the houses here and there is a more obvious solution using current APIs. <em>I don't consider iterating the entire message table using</em> <code>ContactsContract.PhoneLookup</code> <em>an optimised solution.</em></p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656797223,"post_id":72842510,"comment_id":128660489,"body_markdown":"Well, the first thing to do is check if your IDE will automatically generate these tests.  Most do.  Look at JUnit test framework.","body":"Well, the first thing to do is check if your IDE will automatically generate these tests.  Most do.  Look at JUnit test framework."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656797292,"post_id":72842510,"comment_id":128660506,"body_markdown":"Some examples: https://stackoverflow.com/questions/9772618/writing-junit-tests","body":"Some examples: <a href=\"https://stackoverflow.com/questions/9772618/writing-junit-tests\">stackoverflow.com/questions/9772618/writing-junit-tests</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656797371,"post_id":72842510,"comment_id":128660519,"body_markdown":"Various `assert` methods.  I think this documentation is kinda old though. https://junit.org/junit4/javadoc/4.13/org/junit/Assert.html","body":"Various <code>assert</code> methods.  I think this documentation is kinda old though. <a href=\"https://junit.org/junit4/javadoc/4.13/org/junit/Assert.html\" rel=\"nofollow noreferrer\">junit.org/junit4/javadoc/4.13/org/junit/Assert.html</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1656797584,"post_id":72842510,"comment_id":128660545,"body_markdown":"Another approach would be to create a spy on an instance `c2` of `C2`, pass this spy along to the unit under test and then assert that `c2::F` was called. Yet another possibility would be to not assert that `c2::F` was called, but that the expected functionality (behaviour) was executed.","body":"Another approach would be to create a spy on an instance <code>c2</code> of <code>C2</code>, pass this spy along to the unit under test and then assert that <code>c2::F</code> was called. Yet another possibility would be to not assert that <code>c2::F</code> was called, but that the expected functionality (behaviour) was executed."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1656797779,"post_id":72842510,"comment_id":128660565,"body_markdown":"You want to assure that `C1::R` is a `Runnable`, or do you need to know that exactly `C2::F` is assigned to `C1::R`? And, by the way, `F` and `R` should be lowercase, according to the common coding conventions for Java.","body":"You want to assure that <code>C1::R</code> is a <code>Runnable</code>, or do you need to know that exactly <code>C2::F</code> is assigned to <code>C1::R</code>? And, by the way, <code>F</code> and <code>R</code> should be lowercase, according to the common coding conventions for Java."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1656797781,"post_id":72842510,"comment_id":128660568,"body_markdown":"It doesn&#39;t work the same way in Java as in C# (unfortunately), so if it&#39;s possible through some trickery, it&#39;s bound to be brittle and clumsy. Also, I&#39;d write the test so it tests behaviour rather than implementation. Really a poor test issue.","body":"It doesn&#39;t work the same way in Java as in C# (unfortunately), so if it&#39;s possible through some trickery, it&#39;s bound to be brittle and clumsy. Also, I&#39;d write the test so it tests behaviour rather than implementation. Really a poor test issue."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1656797898,"post_id":72842510,"comment_id":128660588,"body_markdown":"@Kayaman: for my education, could you elaborate on what you just posted?","body":"@Kayaman: for my education, could you elaborate on what you just posted?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656797980,"post_id":72842510,"comment_id":128660596,"body_markdown":"I like the idea of testing behavior (whether the right result is obtained) rather than testing whether `=` (assignment) did the right thing.","body":"I like the idea of testing behavior (whether the right result is obtained) rather than testing whether <code>=</code> (assignment) did the right thing."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1656798126,"post_id":72842510,"comment_id":128660625,"body_markdown":"@HovercraftFullOfEels I meant C# having methods as first class objects vs. Java method references make the equality comparison break, and at that point it&#39;s not even worth (IMHO) to start playing with `LambdaMetaFactory` or whatever class might possibly help us duplicate the C# behaviour. Especially since tests should not test implementation like that.","body":"@HovercraftFullOfEels I meant C# having methods as first class objects vs. Java method references make the equality comparison break, and at that point it&#39;s not even worth (IMHO) to start playing with <code>LambdaMetaFactory</code> or whatever class might possibly help us duplicate the C# behaviour. Especially since tests should not test implementation like that."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1656798140,"post_id":72842510,"comment_id":128660629,"body_markdown":"@markspace ‚Äì From the information what we have right now, the assignment IS the behaviour ‚Ä¶","body":"@markspace ‚Äì From the information what we have right now, the assignment IS the behaviour ‚Ä¶"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656798238,"post_id":72842510,"comment_id":128660646,"body_markdown":"I understand but, the OP is basically asking if the compiler knows what it&#39;s doing.  I guess I&#39;m biased that I program in Java, and asking something I know the language isn&#39;t built to do seems unreasonable.","body":"I understand but, the OP is basically asking if the compiler knows what it&#39;s doing.  I guess I&#39;m biased that I program in Java, and asking something I know the language isn&#39;t built to do seems unreasonable."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1656798495,"post_id":72842510,"comment_id":128660700,"body_markdown":"@tquadrat eventually the assigned variable will be used for something, so the assignment can&#39;t really be *the* behaviour. We can modify the test to do assignment + behaviour, and you can do assertions on something more useful maybe. This may be idiomatic C#, but it won&#39;t work in Java.","body":"@tquadrat eventually the assigned variable will be used for something, so the assignment can&#39;t really be <i>the</i> behaviour. We can modify the test to do assignment + behaviour, and you can do assertions on something more useful maybe. This may be idiomatic C#, but it won&#39;t work in Java."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1656800038,"post_id":72842510,"comment_id":128660940,"body_markdown":"Adding to @Kayaman&#39;s comment... in my opinion, it depends whether `C1` and `C2` are tightly or loosely coupled. If they are tightly coupled, i.e. `C1` will always use `C2::F`, I would reommend writing a behavioural test. If they are loosely coupled, I would recommend wiriting a contract test, i.e. assert that `C1` calls whatever `Runnable` has been passed along (this approach requires IoC so that we can pass along some test-`Runnable` to `C1` and verify that it was called).","body":"Adding to @Kayaman&#39;s comment... in my opinion, it depends whether <code>C1</code> and <code>C2</code> are tightly or loosely coupled. If they are tightly coupled, i.e. <code>C1</code> will always use <code>C2::F</code>, I would reommend writing a behavioural test. If they are loosely coupled, I would recommend wiriting a contract test, i.e. assert that <code>C1</code> calls whatever <code>Runnable</code> has been passed along (this approach requires IoC so that we can pass along some test-<code>Runnable</code> to <code>C1</code> and verify that it was called)."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1656800116,"post_id":72842510,"comment_id":128660946,"body_markdown":"@Kayaman ‚Äì The keyword in your comment is &quot;eventually&quot;. If we had more context what the code should do, I would agree with you, but that context is missing.","body":"@Kayaman ‚Äì The keyword in your comment is &quot;eventually&quot;. If we had more context what the code should do, I would agree with you, but that context is missing."},{"owner":{"account_id":3669,"reputation":45485,"user_id":5314,"accept_rate":36,"display_name":"Jay Bazuzi"},"score":0,"creation_date":1656815522,"post_id":72842510,"comment_id":128662470,"body_markdown":"@tquadrat I have added motivation.","body":"@tquadrat I have added motivation."}],"answers":[{"tags":[],"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656798540,"creation_date":1656798098,"answer_id":72842604,"question_id":72842510,"body_markdown":"The thing is that you create a new method reference each time with `::`. \r\nThus\r\n```\r\nvar c1 = new C1();\r\nvar c2 = new C2();\r\n\r\nRunnable r = c2::F;\r\nc1.R = r;\r\n\r\nSystem.out.println(c1.R == r);\r\n```\r\nwill print `true`, because you assign and compare with the same runnable.","title":"How to inspect the value of a Runnable?","body":"<p>The thing is that you create a new method reference each time with <code>::</code>.\nThus</p>\n<pre><code>var c1 = new C1();\nvar c2 = new C2();\n\nRunnable r = c2::F;\nc1.R = r;\n\nSystem.out.println(c1.R == r);\n</code></pre>\n<p>will print <code>true</code>, because you assign and compare with the same runnable.</p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656847619,"creation_date":1656839839,"answer_id":72845302,"question_id":72842510,"body_markdown":"You&#39;re out of luck trying to [compare lambdas](https://stackoverflow.com/a/24098805/2541560) in any sane way. The code may work in C# and other languages, but it&#39;s not worth trying to shoehorn it into Java.\r\n\r\nI don&#39;t know the purpose of this exercise (as in is it just to test the viability of this in Java or if this is a pattern you regularly use), but generally translating from one language to another doesn&#39;t make sense unless there&#39;s an obvious compatibility. C# may look like Java (for some weird reason, hello [J#](https://www.wikiwand.com/en/J_Sharp)), but there&#39;s a world of difference making many things completely distinct (e.g. async/await, only superficial similarity between LINQ and Java streams, methods not being truly first class objects in Java, and most likely many more as my C# knowledge is very limited).\r\n\r\nIMHO the testing in the example was the weirdest part. It gives a low ROI to test microimplementation like that. I&#39;m not sure if that is useful in GUI testing, but just as if you had a solution that involved metaprogramming, you couldn&#39;t just implement it in Java.","title":"How to inspect the value of a Runnable?","body":"<p>You're out of luck trying to <a href=\"https://stackoverflow.com/a/24098805/2541560\">compare lambdas</a> in any sane way. The code may work in C# and other languages, but it's not worth trying to shoehorn it into Java.</p>\n<p>I don't know the purpose of this exercise (as in is it just to test the viability of this in Java or if this is a pattern you regularly use), but generally translating from one language to another doesn't make sense unless there's an obvious compatibility. C# may look like Java (for some weird reason, hello <a href=\"https://www.wikiwand.com/en/J_Sharp\" rel=\"nofollow noreferrer\">J#</a>), but there's a world of difference making many things completely distinct (e.g. async/await, only superficial similarity between LINQ and Java streams, methods not being truly first class objects in Java, and most likely many more as my C# knowledge is very limited).</p>\n<p>IMHO the testing in the example was the weirdest part. It gives a low ROI to test microimplementation like that. I'm not sure if that is useful in GUI testing, but just as if you had a solution that involved metaprogramming, you couldn't just implement it in Java.</p>\n"}],"owner":{"account_id":3669,"reputation":45485,"user_id":5314,"accept_rate":36,"display_name":"Jay Bazuzi"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1656847619,"creation_date":1656797153,"question_id":72842510,"body_markdown":"Suppose I have code that assigns a method to a `Runnable`, for example:\r\n\r\n```\r\nclass C1{\r\n    Runnable r;\r\n}\r\n\r\nclass C2{\r\n    void f(){}\r\n}\r\n\r\nvar c1 = new C1();\r\nvar c2 = new C2();\r\nc1.r = c2::f;\r\n```\r\n\r\nI want to write a unit test to assert that `r` is indeed assigned `f`, perhaps like this:\r\n\r\n```\r\nassertThat(c1.r).isEqualTo(c2::f); // Error: object is not a functional interface\r\n```\r\n\r\nCasting to `Runnable` does not help:\r\n\r\n```\r\nexpected: ...$$Lambda$302/0x0000000800cd3518@1fe20588\r\nbut was : ...$$Lambda$301/0x0000000800c9fac0@77167fb7\r\n```\r\n\r\nIn C# I can assign a method to an `Action` variable this assertion works. What&#39;s the equivalent in Java?\r\n\r\nI am open to switching from `Runnable` to some other type, if that helps.\r\n\r\nTo give some more context: I&#39;m trying to implement event-based decopuling like Arlo Belshee describes here: https://arlobelshee.com/decoupled-design/. Here&#39;s my C# implementation for comparison: https://jay.bazuzi.com/Decoupled-Design/\r\n","title":"How to inspect the value of a Runnable?","body":"<p>Suppose I have code that assigns a method to a <code>Runnable</code>, for example:</p>\n<pre><code>class C1{\n    Runnable r;\n}\n\nclass C2{\n    void f(){}\n}\n\nvar c1 = new C1();\nvar c2 = new C2();\nc1.r = c2::f;\n</code></pre>\n<p>I want to write a unit test to assert that <code>r</code> is indeed assigned <code>f</code>, perhaps like this:</p>\n<pre><code>assertThat(c1.r).isEqualTo(c2::f); // Error: object is not a functional interface\n</code></pre>\n<p>Casting to <code>Runnable</code> does not help:</p>\n<pre><code>expected: ...$$Lambda$302/0x0000000800cd3518@1fe20588\nbut was : ...$$Lambda$301/0x0000000800c9fac0@77167fb7\n</code></pre>\n<p>In C# I can assign a method to an <code>Action</code> variable this assertion works. What's the equivalent in Java?</p>\n<p>I am open to switching from <code>Runnable</code> to some other type, if that helps.</p>\n<p>To give some more context: I'm trying to implement event-based decopuling like Arlo Belshee describes here: <a href=\"https://arlobelshee.com/decoupled-design/\" rel=\"nofollow noreferrer\">https://arlobelshee.com/decoupled-design/</a>. Here's my C# implementation for comparison: <a href=\"https://jay.bazuzi.com/Decoupled-Design/\" rel=\"nofollow noreferrer\">https://jay.bazuzi.com/Decoupled-Design/</a></p>\n"},{"tags":["java","android","runtime-error","runtimeexception"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656847477,"creation_date":1656847477,"answer_id":72846066,"question_id":72845945,"body_markdown":"In `onViewCreated()`, you are setting up your `SupportMapFragment`. In `onMapReady()`, you are trying to use location information via `gMap.setMyLocationEnabled(true);`. Do not call `setMyLocationEnabled()` until the user grants you permission.","title":"ERROR:java.lang.SecurityException: my location requires permission ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION","body":"<p>In <code>onViewCreated()</code>, you are setting up your <code>SupportMapFragment</code>. In <code>onMapReady()</code>, you are trying to use location information via <code>gMap.setMyLocationEnabled(true);</code>. Do not call <code>setMyLocationEnabled()</code> until the user grants you permission.</p>\n"}],"owner":{"account_id":22829309,"reputation":339,"user_id":16978074,"display_name":"Elly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1621,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72846066,"answer_count":1,"score":2,"last_activity_date":1656847477,"creation_date":1656846259,"question_id":72845945,"body_markdown":"hi everyone i&#39;m trying to get the user&#39;s location, but when i ask for permissions google maps doesn&#39;t load. Specifically I have this error:\r\n```\r\n2022-07-03 12:46:39.032 12031-12031/com.example.progetto E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.progetto, PID: 12031\r\n    java.lang.SecurityException: my location requires permission ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION\r\n        at com.google.maps.api.android.lib6.impl.bj.J(:com.google.android.gms.dynamite_mapsdynamite@222413068@22.24.13 (100700-0):10)\r\n        at com.google.android.gms.maps.internal.i.ba(:com.google.android.gms.dynamite_mapsdynamite@222413068@22.24.13 (100700-0):172)\r\n        at et.onTransact(:com.google.android.gms.dynamite_mapsdynamite@222413068@22.24.13 (100700-0):4)\r\n        at android.os.Binder.transact(Binder.java:914)\r\n        at com.google.android.gms.internal.maps.zza.zzc(com.google.android.gms:play-services-maps@@18.0.0:2)\r\n        at com.google.android.gms.maps.internal.zzg.setMyLocationEnabled(com.google.android.gms:play-services-maps@@18.0.0:3)\r\n        at com.google.android.gms.maps.GoogleMap.setMyLocationEnabled(com.google.android.gms:play-services-maps@@18.0.0:1)\r\n        at com.example.progetto.MapsLine.onMapReady(MapsLine.java:207)\r\n        at com.google.android.gms.maps.zzat.zzb(com.google.android.gms:play-services-maps@@18.0.0:1)\r\n        at com.google.android.gms.maps.internal.zzaq.zza(com.google.android.gms:play-services-maps@@18.0.0:5)\r\n        at com.google.android.gms.internal.maps.zzb.onTransact(com.google.android.gms:play-services-maps@@18.0.0:3)\r\n        at android.os.Binder.transact(Binder.java:914)\r\n        at es.bc(:com.google.android.gms.dynamite_mapsdynamite@222413068@22.24.13 (100700-0):2)\r\n        at com.google.maps.api.android.lib6.impl.bf.run(:com.google.android.gms.dynamite_mapsdynamite@222413068@22.24.13 (100700-0):1)\r\n        at android.os.Handler.handleCallback(Handler.java:883)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n```\r\n\r\nMy code is:\r\n```\r\npublic class MapsLine extends Fragment implements OnMapReadyCallback {\r\n        private static final int MY_PERMISSION_REQUEST_ACCESS_FINE_LOCATION = 0;\r\n        private FusedLocationProviderClient fusedLocationClient;\r\n        private LocationCallback locationCallback;\r\n        private boolean requestingLocationUpdates = true;\r\n        GoogleMap gMap;\r\n        double latitude;\r\n        double longitude;\r\n        @Override\r\n        public View onCreateView(@NonNull @NotNull LayoutInflater inflater, @Nullable @org.jetbrains.annotations.Nullable ViewGroup container, @Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\r\n                return inflater.inflate(R.layout.fragment_maps_line, container, false);\r\n        }\r\n        @Override\r\n        public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n                super.onViewCreated(view, savedInstanceState);\r\n                SupportMapFragment supportMapFragment = (SupportMapFragment)\r\n                        getChildFragmentManager().findFragmentById(R.id.map);\r\n                supportMapFragment.getMapAsync(this);\r\n        }\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                Log.d(&quot;MainActivity&quot;, &quot;onCreate&quot;);\r\n                fusedLocationClient = LocationServices.getFusedLocationProviderClient(getActivity());\r\n                //callback per gli aggiornamenti di posizione\r\n                locationCallback = new LocationCallback() {\r\n                        @Override\r\n                        public void onLocationResult(LocationResult locationResult) {\r\n                                if (locationResult == null) {\r\n                                        Log.d(&quot;main_activiyt_maps&quot;, &quot;location request is null&quot;);\r\n                                        return;\r\n                                }\r\n                                //aggiorno i dati nelle textView con le informazioni della posizione aggiornata\r\n                                for (Location location : locationResult.getLocations()) {\r\n                                        Log.d(&quot;Location&quot;, &quot;New Location received: &quot; + location.toString());\r\n                                        latitude = location.getLatitude();\r\n                                        longitude=location.getLongitude();\r\n                                        Log.d(&quot;main_activiyt_maps&quot;, String.valueOf(latitude));\r\n                                        Log.d(&quot;main_activiyt_maps&quot;, String.valueOf(longitude));\r\n                                }\r\n                        }\r\n                };\r\n        }\r\n        @Override\r\n        public void onPause() {\r\n                super.onPause();\r\n                fusedLocationClient.removeLocationUpdates(locationCallback);\r\n                requestingLocationUpdates = false;\r\n        }\r\n        @Override\r\n        public void onResume() {\r\n                super.onResume();\r\n                Log.d(&quot;MainActivity&quot;, &quot;onResume&quot;);\r\n                if (checkLocationPermission()) {\r\n                        Log.d(&quot;MainActivity&quot;, &quot;Permessi OK&quot;);\r\n                        //richiedo l&#39;ultima posizione\r\n                        //richiedo aggiornamenti sulla posizione\r\n                        startLocationUpdates();\r\n                }\r\n        }\r\n        public boolean checkLocationPermission() {\r\n                if (ContextCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                        //ho i permessi, scrivo nella casella di testo che va tutto bene\r\n                        Log.d(&quot;Location&quot;, &quot;The permission is granted&quot;);\r\n                        return true;\r\n                } else {\r\n                        //non ho i permessi, devo richiederli\r\n                        Log.d(&quot;Location&quot;, &quot;Ask for permission&quot;);\r\n\r\n                        ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, MY_PERMISSION_REQUEST_ACCESS_FINE_LOCATION);\r\n                        return false;\r\n                }\r\n        }\r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n                switch (requestCode) {\r\n                        case MY_PERMISSION_REQUEST_ACCESS_FINE_LOCATION: {\r\n                                // If request is cancelled, the result arrays are empty.\r\n                                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                                        // permission was granted\r\n                                        Log.d(&quot;Location&quot;, &quot;Now the permission is granted&quot;);\r\n                                        fusedLocationClient = LocationServices.getFusedLocationProviderClient(getActivity());\r\n                                } else {\r\n                                        // permission was not granted\r\n                                        Log.d(&quot;Location&quot;, &quot;Permission still not granted&quot;);\r\n                                }\r\n                                break;\r\n                        }\r\n        }\r\n}\r\n        public void getLastKnownLocation() {\r\n                if (checkLocationPermission()) {\r\n                        fusedLocationClient.getLastLocation()\r\n                                .addOnSuccessListener(getActivity(), new OnSuccessListener&lt;Location&gt;() {\r\n                                        @Override\r\n                                        public void onSuccess(Location location) {\r\n                                                // Got last known location. In some rare situations this can be null.\r\n                                                if (location != null) {\r\n                                                        Log.d(&quot;Location&quot;, &quot;Last known location:&quot; + location.toString());\r\n                                                } else {\r\n                                                        Log.d(&quot;Location&quot;, &quot;Last Known location not available&quot;);\r\n                                                }\r\n                                        }\r\n                                });\r\n                }\r\n        }\r\n\r\n        //per chiedere la posizione aggiornata\r\n        private void startLocationUpdates() {\r\n                if (checkLocationPermission()) {\r\n                        requestingLocationUpdates = true;\r\n                        LocationRequest locationRequest = LocationRequest.create();\r\n                        locationRequest.setInterval(1000); //in ms.\r\n                        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n                        fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, Looper.getMainLooper());\r\n\r\n                }\r\n        }\r\n        @SuppressLint(&quot;MissingPermission&quot;)\r\n        @Override\r\n        public void onMapReady(@NonNull GoogleMap googleMap) {\r\n                gMap = googleMap;\r\n                gMap.setMyLocationEnabled(true);\r\n                // Add a marker in Sydney and move the camera\r\n                LatLng sydney = new LatLng(latitude,longitude);\r\n                gMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\r\n                gMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\r\n                gMap.clear(); //clear old markers\r\n        }\r\n}\r\n```\r\nMy themanifest code is:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;my_key&quot; &gt;&lt;/meta-data&gt;\r\n```\r\nin the manifest I have ACCESS_COARSE_LOCATION and ACCESS_FINE_LOCATION and in the code I check the permissions(checkLocationPermission()). why does it crash at the first start, when the app asks me for permissions?\r\n\r\n","title":"ERROR:java.lang.SecurityException: my location requires permission ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION","body":"<p>hi everyone i'm trying to get the user's location, but when i ask for permissions google maps doesn't load. Specifically I have this error:</p>\n<pre><code>2022-07-03 12:46:39.032 12031-12031/com.example.progetto E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.progetto, PID: 12031\n    java.lang.SecurityException: my location requires permission ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION\n        at com.google.maps.api.android.lib6.impl.bj.J(:com.google.android.gms.dynamite_mapsdynamite@222413068@22.24.13 (100700-0):10)\n        at com.google.android.gms.maps.internal.i.ba(:com.google.android.gms.dynamite_mapsdynamite@222413068@22.24.13 (100700-0):172)\n        at et.onTransact(:com.google.android.gms.dynamite_mapsdynamite@222413068@22.24.13 (100700-0):4)\n        at android.os.Binder.transact(Binder.java:914)\n        at com.google.android.gms.internal.maps.zza.zzc(com.google.android.gms:play-services-maps@@18.0.0:2)\n        at com.google.android.gms.maps.internal.zzg.setMyLocationEnabled(com.google.android.gms:play-services-maps@@18.0.0:3)\n        at com.google.android.gms.maps.GoogleMap.setMyLocationEnabled(com.google.android.gms:play-services-maps@@18.0.0:1)\n        at com.example.progetto.MapsLine.onMapReady(MapsLine.java:207)\n        at com.google.android.gms.maps.zzat.zzb(com.google.android.gms:play-services-maps@@18.0.0:1)\n        at com.google.android.gms.maps.internal.zzaq.zza(com.google.android.gms:play-services-maps@@18.0.0:5)\n        at com.google.android.gms.internal.maps.zzb.onTransact(com.google.android.gms:play-services-maps@@18.0.0:3)\n        at android.os.Binder.transact(Binder.java:914)\n        at es.bc(:com.google.android.gms.dynamite_mapsdynamite@222413068@22.24.13 (100700-0):2)\n        at com.google.maps.api.android.lib6.impl.bf.run(:com.google.android.gms.dynamite_mapsdynamite@222413068@22.24.13 (100700-0):1)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n<p>My code is:</p>\n<pre><code>public class MapsLine extends Fragment implements OnMapReadyCallback {\n        private static final int MY_PERMISSION_REQUEST_ACCESS_FINE_LOCATION = 0;\n        private FusedLocationProviderClient fusedLocationClient;\n        private LocationCallback locationCallback;\n        private boolean requestingLocationUpdates = true;\n        GoogleMap gMap;\n        double latitude;\n        double longitude;\n        @Override\n        public View onCreateView(@NonNull @NotNull LayoutInflater inflater, @Nullable @org.jetbrains.annotations.Nullable ViewGroup container, @Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\n                return inflater.inflate(R.layout.fragment_maps_line, container, false);\n        }\n        @Override\n        public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n                super.onViewCreated(view, savedInstanceState);\n                SupportMapFragment supportMapFragment = (SupportMapFragment)\n                        getChildFragmentManager().findFragmentById(R.id.map);\n                supportMapFragment.getMapAsync(this);\n        }\n        @Override\n        public void onCreate(Bundle savedInstanceState) {\n                super.onCreate(savedInstanceState);\n                Log.d(&quot;MainActivity&quot;, &quot;onCreate&quot;);\n                fusedLocationClient = LocationServices.getFusedLocationProviderClient(getActivity());\n                //callback per gli aggiornamenti di posizione\n                locationCallback = new LocationCallback() {\n                        @Override\n                        public void onLocationResult(LocationResult locationResult) {\n                                if (locationResult == null) {\n                                        Log.d(&quot;main_activiyt_maps&quot;, &quot;location request is null&quot;);\n                                        return;\n                                }\n                                //aggiorno i dati nelle textView con le informazioni della posizione aggiornata\n                                for (Location location : locationResult.getLocations()) {\n                                        Log.d(&quot;Location&quot;, &quot;New Location received: &quot; + location.toString());\n                                        latitude = location.getLatitude();\n                                        longitude=location.getLongitude();\n                                        Log.d(&quot;main_activiyt_maps&quot;, String.valueOf(latitude));\n                                        Log.d(&quot;main_activiyt_maps&quot;, String.valueOf(longitude));\n                                }\n                        }\n                };\n        }\n        @Override\n        public void onPause() {\n                super.onPause();\n                fusedLocationClient.removeLocationUpdates(locationCallback);\n                requestingLocationUpdates = false;\n        }\n        @Override\n        public void onResume() {\n                super.onResume();\n                Log.d(&quot;MainActivity&quot;, &quot;onResume&quot;);\n                if (checkLocationPermission()) {\n                        Log.d(&quot;MainActivity&quot;, &quot;Permessi OK&quot;);\n                        //richiedo l'ultima posizione\n                        //richiedo aggiornamenti sulla posizione\n                        startLocationUpdates();\n                }\n        }\n        public boolean checkLocationPermission() {\n                if (ContextCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                        //ho i permessi, scrivo nella casella di testo che va tutto bene\n                        Log.d(&quot;Location&quot;, &quot;The permission is granted&quot;);\n                        return true;\n                } else {\n                        //non ho i permessi, devo richiederli\n                        Log.d(&quot;Location&quot;, &quot;Ask for permission&quot;);\n\n                        ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, MY_PERMISSION_REQUEST_ACCESS_FINE_LOCATION);\n                        return false;\n                }\n        }\n        @Override\n        public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n                switch (requestCode) {\n                        case MY_PERMISSION_REQUEST_ACCESS_FINE_LOCATION: {\n                                // If request is cancelled, the result arrays are empty.\n                                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                                        // permission was granted\n                                        Log.d(&quot;Location&quot;, &quot;Now the permission is granted&quot;);\n                                        fusedLocationClient = LocationServices.getFusedLocationProviderClient(getActivity());\n                                } else {\n                                        // permission was not granted\n                                        Log.d(&quot;Location&quot;, &quot;Permission still not granted&quot;);\n                                }\n                                break;\n                        }\n        }\n}\n        public void getLastKnownLocation() {\n                if (checkLocationPermission()) {\n                        fusedLocationClient.getLastLocation()\n                                .addOnSuccessListener(getActivity(), new OnSuccessListener&lt;Location&gt;() {\n                                        @Override\n                                        public void onSuccess(Location location) {\n                                                // Got last known location. In some rare situations this can be null.\n                                                if (location != null) {\n                                                        Log.d(&quot;Location&quot;, &quot;Last known location:&quot; + location.toString());\n                                                } else {\n                                                        Log.d(&quot;Location&quot;, &quot;Last Known location not available&quot;);\n                                                }\n                                        }\n                                });\n                }\n        }\n\n        //per chiedere la posizione aggiornata\n        private void startLocationUpdates() {\n                if (checkLocationPermission()) {\n                        requestingLocationUpdates = true;\n                        LocationRequest locationRequest = LocationRequest.create();\n                        locationRequest.setInterval(1000); //in ms.\n                        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n                        fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, Looper.getMainLooper());\n\n                }\n        }\n        @SuppressLint(&quot;MissingPermission&quot;)\n        @Override\n        public void onMapReady(@NonNull GoogleMap googleMap) {\n                gMap = googleMap;\n                gMap.setMyLocationEnabled(true);\n                // Add a marker in Sydney and move the camera\n                LatLng sydney = new LatLng(latitude,longitude);\n                gMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\n                gMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\n                gMap.clear(); //clear old markers\n        }\n}\n</code></pre>\n<p>My themanifest code is:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n &lt;meta-data\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\n            android:value=&quot;my_key&quot; &gt;&lt;/meta-data&gt;\n</code></pre>\n<p>in the manifest I have ACCESS_COARSE_LOCATION and ACCESS_FINE_LOCATION and in the code I check the permissions(checkLocationPermission()). why does it crash at the first start, when the app asks me for permissions?</p>\n"},{"tags":["java","arrays","loops","oop"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - ÈÄÄ„Åó„Åü"},"score":0,"creation_date":1656841127,"post_id":72845410,"comment_id":128665483,"body_markdown":"I believe it goes like this: `while(scan.hasNextLine()) {`. You don&#39;t need the BurfferedReader either: `Scanner scan = new Scanner(fin);`","body":"I believe it goes like this: <code>while(scan.hasNextLine()) {</code>. You don&#39;t need the BurfferedReader either: <code>Scanner scan = new Scanner(fin);</code>"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1656841546,"post_id":72845410,"comment_id":128665545,"body_markdown":"Actually, I&#39;d say the scanner is unnecessary, since only whole lines are read, and a buffered reader can do that.","body":"Actually, I&#39;d say the scanner is unnecessary, since only whole lines are read, and a buffered reader can do that."},{"owner":{"account_id":25712851,"reputation":3,"user_id":19471080,"display_name":"Shazwani Rashid"},"score":0,"creation_date":1656842708,"post_id":72845410,"comment_id":128665774,"body_markdown":"@DevilsHnd : i did that. then ArrayIndexOutOfBoundsException appeared","body":"@DevilsHnd : i did that. then ArrayIndexOutOfBoundsException appeared"},{"owner":{"account_id":25712851,"reputation":3,"user_id":19471080,"display_name":"Shazwani Rashid"},"score":0,"creation_date":1656843027,"post_id":72845410,"comment_id":128665830,"body_markdown":"@RealSkeptic : whenever i remove scanner, this _Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n\tat Forensic.main(Forensic.java:28)_ appeared","body":"@RealSkeptic : whenever i remove scanner, this <i>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 \tat Forensic.main(Forensic.java:28)</i> appeared"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1656843578,"post_id":72845410,"comment_id":128665905,"body_markdown":"@ShazwaniRashid that&#39;s not because of the scanner. It&#39;s because you have a line with no commas, and you don&#39;t check first that your array has at least 3 elements. It seems the first line in your text file is empty.","body":"@ShazwaniRashid that&#39;s not because of the scanner. It&#39;s because you have a line with no commas, and you don&#39;t check first that your array has at least 3 elements. It seems the first line in your text file is empty."},{"owner":{"account_id":25712851,"reputation":3,"user_id":19471080,"display_name":"Shazwani Rashid"},"score":0,"creation_date":1656843790,"post_id":72845410,"comment_id":128665940,"body_markdown":"@RealSkeptic : may you show me which line? Not clear what you say","body":"@RealSkeptic : may you show me which line? Not clear what you say"},{"owner":{"account_id":25712851,"reputation":3,"user_id":19471080,"display_name":"Shazwani Rashid"},"score":0,"creation_date":1656843828,"post_id":72845410,"comment_id":128665945,"body_markdown":"@kleopatra i put the screenshot at the link below the code","body":"@kleopatra i put the screenshot at the link below the code"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1656844037,"post_id":72845410,"comment_id":128665971,"body_markdown":"repeating: don&#39;t show screenshots (or otherwise created images) of plain text - they are useless in multiple respects, here f.i. they can&#39;t to copied to reproduce the problem. That said: you have competing readers - the scanner and the bufferedReader. Drop one or the other as already suggested in the very first comment by @DevilsHnd","body":"repeating: don&#39;t show screenshots (or otherwise created images) of plain text - they are useless in multiple respects, here f.i. they can&#39;t to copied to reproduce the problem. That said: you have competing readers - the scanner and the bufferedReader. Drop one or the other as already suggested in the very first comment by @DevilsHnd"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656844906,"creation_date":1656844906,"answer_id":72845799,"question_id":72845410,"body_markdown":"In Java, there are many ways to read a file, format its contents and write the formatted contents to another file but you seem to be mixing them all together.\r\n\r\nThe below code shows one way, which uses class `java.util.Scanner`.  \r\n(Notes after the code.)\r\n```java\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.Scanner;\r\n\r\npublic class Forensic {\r\n\r\n    public static void main(String[] args) {\r\n        Path source = Paths.get(&quot;Bill.txt&quot;);\r\n        try (Scanner scan = new Scanner(source);\r\n             PrintWriter printBelow = new PrintWriter(&quot;BelowAmount.txt&quot;)) {\r\n            printBelow.println(&quot;Payment less than or equal to RM 1000&quot;);\r\n            printBelow.println(&quot;Record\\t\\tUser ID\\t\\t\\tPayment&quot;);\r\n            while (scan.hasNextLine()) {\r\n                String string = scan.nextLine();\r\n                String[] cols = string.split(&quot;,&quot;);\r\n                if (cols.length == 3) {\r\n                    printBelow.printf(&quot;%s\\t\\t\\t%s\\t\\t\\t\\t%s%n&quot;, cols[0], cols[1], cols[2]);\r\n                }\r\n            }\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nDon&#39;t assume that the contents of the file you are reading is as you expect it to be. Hence, in the above code, after calling method `split`, I check to make sure that the line read from the file has the expected format.\r\n\r\nRefer to [Scanning and Formatting][1] in Oracle&#39;s Java tutorials.\r\n\r\nRefer to the [API documentation][2] to see how to create and use classes like `java.io.PrintWriter`, for example. It has a constructor that takes a string argument. Hence no need to create a `File` and then a `FileWriter` in order to create a `PrintWriter`.\r\n\r\nI also advise using [try-with-resources][3] to ensure that you close all the files you use in your program.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/io/scanfor.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/index.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Why the ouput display the first line of the data in .txt?","body":"<p>In Java, there are many ways to read a file, format its contents and write the formatted contents to another file but you seem to be mixing them all together.</p>\n<p>The below code shows one way, which uses class <code>java.util.Scanner</code>.<br />\n(Notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.PrintWriter;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Scanner;\n\npublic class Forensic {\n\n    public static void main(String[] args) {\n        Path source = Paths.get(&quot;Bill.txt&quot;);\n        try (Scanner scan = new Scanner(source);\n             PrintWriter printBelow = new PrintWriter(&quot;BelowAmount.txt&quot;)) {\n            printBelow.println(&quot;Payment less than or equal to RM 1000&quot;);\n            printBelow.println(&quot;Record\\t\\tUser ID\\t\\t\\tPayment&quot;);\n            while (scan.hasNextLine()) {\n                String string = scan.nextLine();\n                String[] cols = string.split(&quot;,&quot;);\n                if (cols.length == 3) {\n                    printBelow.printf(&quot;%s\\t\\t\\t%s\\t\\t\\t\\t%s%n&quot;, cols[0], cols[1], cols[2]);\n                }\n            }\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Don't assume that the contents of the file you are reading is as you expect it to be. Hence, in the above code, after calling method <code>split</code>, I check to make sure that the line read from the file has the expected format.</p>\n<p>Refer to <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/scanfor.html\" rel=\"nofollow noreferrer\">Scanning and Formatting</a> in Oracle's Java tutorials.</p>\n<p>Refer to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/index.html\" rel=\"nofollow noreferrer\">API documentation</a> to see how to create and use classes like <code>java.io.PrintWriter</code>, for example. It has a constructor that takes a string argument. Hence no need to create a <code>File</code> and then a <code>FileWriter</code> in order to create a <code>PrintWriter</code>.</p>\n<p>I also advise using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> to ensure that you close all the files you use in your program.</p>\n"}],"owner":{"account_id":25712851,"reputation":3,"user_id":19471080,"display_name":"Shazwani Rashid"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72845799,"answer_count":1,"score":0,"last_activity_date":1656847440,"creation_date":1656840821,"question_id":72845410,"body_markdown":"Why the data only print for the second line only? Supposedly it will print all the data by columns right? Which line I made a mistake on this java programming?\r\n\r\n**What I&#39;ve done and won&#39;t work:**\r\n\r\n - Put for(int i=0; i &lt; cols.length; i++);\r\n - Put  while (sc.hasNextLine())\r\n\r\nAbove information that i stated is both give me \r\nthis:\r\n```none\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\tat Forensic.main(Forensic.java:28)\r\n```\r\n-------------- \r\n```java\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Forensic \r\n{\r\n    public static void main(String[] args) throws IOException\r\n    {\r\n        try\r\n        {\r\n            File fin = new File(&quot;Bill.txt&quot;);                                            \r\n            FileReader fileReader = new FileReader(fin);\r\n            BufferedReader bufReader = new BufferedReader(fileReader);\r\n    \r\n            File foutBelow = new File(&quot;BelowAmount.txt&quot;);\r\n            FileWriter writerBelow = new FileWriter(foutBelow);\r\n            PrintWriter printBelow = new PrintWriter(writerBelow);\r\n    \r\n            printBelow.println(&quot;Payment less than or equal to RM 1000&quot;);\r\n            printBelow.println(&quot;Record\\t\\tUser ID\\t\\t\\tPayment&quot;);\r\n    \r\n            String string = &quot;&quot;; \r\n            Scanner scan = new Scanner(bufReader);\r\n            while((string = bufReader.readLine()) != null)\r\n            {   \r\n                string = scan.nextLine();\r\n                String cols[] = string.split(&quot;,&quot;); \r\n    \r\n                printBelow.println(cols[0] + &quot;\\t\\t\\t&quot; + cols[1] + &quot;\\t\\t\\t\\t&quot; + cols[2]);\r\n            }\r\n            System.out.println(&quot;Data successfully transfered&quot;);\r\n    \r\n            bufReader.close();\r\n            printBelow.close();\r\n        }\r\n        catch (FileNotFoundException fnfE)\r\n        { \r\n            System.out.println(&quot;File not found&quot;);\r\n        }\r\n        catch (IOException ioE)                                           \r\n        { \r\n            ioE.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n&gt; in Bill.txt file\r\n```none\r\n1208,236,289.90\r\n1209,221,299.70\r\n1210,236,479.60\r\n1211,236,200.00\r\n1212,221,560.60\r\n1213,289,4000.00\r\n1214,289,235.60\r\n1215,236,280.50\r\n1216,221,100.20\r\n1217,221,2800.30\r\n1218,236,1400.70\r\n1219,289,778.90\r\n1220,289,778.90\r\n1221,236,420.50\r\n1222,277,235.60\r\n1223,277,229.90\r\n1224,236,479.60\r\n1225,221,300.20\r\n1226,289,1400.70\r\n1227,236,479.60\r\n```\r\n&gt; Output of BelowAmount.txt\r\n```none\r\nPayment less than or equal to RM 1000\r\nRecord\t\tUser ID\t\t\tPayment\r\n1209\t\t\t221\t\t\t\t299.70\r\n```\r\nThe output is above. Display directly second row of the data. ","title":"Why the ouput display the first line of the data in .txt?","body":"<p>Why the data only print for the second line only? Supposedly it will print all the data by columns right? Which line I made a mistake on this java programming?</p>\n<p><strong>What I've done and won't work:</strong></p>\n<ul>\n<li>Put for(int i=0; i &lt; cols.length; i++);</li>\n<li>Put  while (sc.hasNextLine())</li>\n</ul>\n<p>Above information that i stated is both give me\nthis:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n    at Forensic.main(Forensic.java:28)\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.*;\n\npublic class Forensic \n{\n    public static void main(String[] args) throws IOException\n    {\n        try\n        {\n            File fin = new File(&quot;Bill.txt&quot;);                                            \n            FileReader fileReader = new FileReader(fin);\n            BufferedReader bufReader = new BufferedReader(fileReader);\n    \n            File foutBelow = new File(&quot;BelowAmount.txt&quot;);\n            FileWriter writerBelow = new FileWriter(foutBelow);\n            PrintWriter printBelow = new PrintWriter(writerBelow);\n    \n            printBelow.println(&quot;Payment less than or equal to RM 1000&quot;);\n            printBelow.println(&quot;Record\\t\\tUser ID\\t\\t\\tPayment&quot;);\n    \n            String string = &quot;&quot;; \n            Scanner scan = new Scanner(bufReader);\n            while((string = bufReader.readLine()) != null)\n            {   \n                string = scan.nextLine();\n                String cols[] = string.split(&quot;,&quot;); \n    \n                printBelow.println(cols[0] + &quot;\\t\\t\\t&quot; + cols[1] + &quot;\\t\\t\\t\\t&quot; + cols[2]);\n            }\n            System.out.println(&quot;Data successfully transfered&quot;);\n    \n            bufReader.close();\n            printBelow.close();\n        }\n        catch (FileNotFoundException fnfE)\n        { \n            System.out.println(&quot;File not found&quot;);\n        }\n        catch (IOException ioE)                                           \n        { \n            ioE.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>in Bill.txt file</p>\n</blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>1208,236,289.90\n1209,221,299.70\n1210,236,479.60\n1211,236,200.00\n1212,221,560.60\n1213,289,4000.00\n1214,289,235.60\n1215,236,280.50\n1216,221,100.20\n1217,221,2800.30\n1218,236,1400.70\n1219,289,778.90\n1220,289,778.90\n1221,236,420.50\n1222,277,235.60\n1223,277,229.90\n1224,236,479.60\n1225,221,300.20\n1226,289,1400.70\n1227,236,479.60\n</code></pre>\n<blockquote>\n<p>Output of BelowAmount.txt</p>\n</blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Payment less than or equal to RM 1000\nRecord      User ID         Payment\n1209            221             299.70\n</code></pre>\n<p>The output is above. Display directly second row of the data.</p>\n"},{"tags":["java","html","spring-boot","thymeleaf","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":19170174,"reputation":312,"user_id":14004073,"display_name":"Pavel Polyakoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656847340,"creation_date":1656847340,"answer_id":72846056,"question_id":72812514,"body_markdown":"I would append some unique identifier of your `entry` to the name of your `&lt;select&gt;` with some sort of separator and then accept form data on backend to a Map. Kinda like this:\r\n\r\n**HTML**\r\n```\r\n&lt;form class=&quot;myForms&quot; id=&quot;uploadCheckerForm&quot; method=&quot;post&quot; th:action=&quot;@{uploadStatus}&quot;&gt;\r\n  &lt;table&gt;\r\n    &lt;tr th:replace=&quot;fragment/form-fragments::checkerMainLine()&quot;&gt;&lt;/tr&gt;\r\n    &lt;tr th:each=&quot;entry : ${uploadList}&quot;&gt;\r\n      &lt;td&gt;&lt;select id=&quot;transactionCategory&quot; th:name=&quot;&#39;transactionCategory_&#39; + ${entry.guid}&quot;&gt;\r\n        &lt;option&gt;Select&lt;/option&gt;\r\n        &lt;option th:each=&quot;cat : ${transactionCategoryList}&quot;\r\n             th:text=&quot;${cat.name}&quot; th:value=&quot;${cat.id}&quot;&gt;\r\n        &lt;/option&gt;&lt;/select&gt;\r\n      &lt;/td&gt;\r\n      &lt;td th:text=&quot;${entry.Comment}&quot;&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\n**Controller**\r\n```\r\n@PostMapping( &quot;/uploadStatus&quot; )\r\npublic String uploadStatus( @RequestParam Map&lt;String, Long&gt; params ) {\r\n    for ( Map.Entry&lt;String, Long&gt; entry : params.entrySet() ) {\r\n        if ( entry.getKey().startsWith( &quot;transactionCategory_&quot; ) ) continue; // skip\r\n\r\n        Long entryId = Long.parseLong( entry.getKey().replace( &quot;transactionCategory_&quot;, &quot;&quot; ) ); // get entry ID\r\n\r\n        SomeDAO.instance().uploadStatus( entryId, entry.getValue() ); // do what you need to do with id of entry and chosen category ID\r\n    }\r\n\r\n    return &quot;redirect:/&quot;;\r\n}\r\n```","title":"html thymeleaf directly post in a select option","body":"<p>I would append some unique identifier of your <code>entry</code> to the name of your <code>&lt;select&gt;</code> with some sort of separator and then accept form data on backend to a Map. Kinda like this:</p>\n<p><strong>HTML</strong></p>\n<pre><code>&lt;form class=&quot;myForms&quot; id=&quot;uploadCheckerForm&quot; method=&quot;post&quot; th:action=&quot;@{uploadStatus}&quot;&gt;\n  &lt;table&gt;\n    &lt;tr th:replace=&quot;fragment/form-fragments::checkerMainLine()&quot;&gt;&lt;/tr&gt;\n    &lt;tr th:each=&quot;entry : ${uploadList}&quot;&gt;\n      &lt;td&gt;&lt;select id=&quot;transactionCategory&quot; th:name=&quot;'transactionCategory_' + ${entry.guid}&quot;&gt;\n        &lt;option&gt;Select&lt;/option&gt;\n        &lt;option th:each=&quot;cat : ${transactionCategoryList}&quot;\n             th:text=&quot;${cat.name}&quot; th:value=&quot;${cat.id}&quot;&gt;\n        &lt;/option&gt;&lt;/select&gt;\n      &lt;/td&gt;\n      &lt;td th:text=&quot;${entry.Comment}&quot;&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping( &quot;/uploadStatus&quot; )\npublic String uploadStatus( @RequestParam Map&lt;String, Long&gt; params ) {\n    for ( Map.Entry&lt;String, Long&gt; entry : params.entrySet() ) {\n        if ( entry.getKey().startsWith( &quot;transactionCategory_&quot; ) ) continue; // skip\n\n        Long entryId = Long.parseLong( entry.getKey().replace( &quot;transactionCategory_&quot;, &quot;&quot; ) ); // get entry ID\n\n        SomeDAO.instance().uploadStatus( entryId, entry.getValue() ); // do what you need to do with id of entry and chosen category ID\n    }\n\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":25191402,"reputation":21,"user_id":19031567,"display_name":"Bianca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656847340,"creation_date":1656577416,"question_id":72812514,"body_markdown":"I want directly push the selected option. But i dont find a solution. Maybe u can help me?\r\n\r\nI have a table with a list of entities. And i will offer a select for every entity. But i want to save the selection directly.\r\nI need the entry.id and the cat.id.\r\n\r\nThis is what i have.\r\n\r\n```\r\n&lt;form class=&quot;myForms&quot; id=&quot;uploadCheckerForm&quot; method=&quot;post&quot; th:action=&quot;@{uploadStatus}&quot;&gt;\r\n  &lt;table&gt;\r\n    &lt;tr th:replace=&quot;fragment/form-fragments::checkerMainLine()&quot;&gt;&lt;/tr&gt;\r\n    &lt;tr th:each=&quot;entry : ${uploadList}&quot;&gt;\r\n      &lt;td&gt;&lt;select th:id=&quot;transactionCategory&quot; th:name=&quot;transactionCategory&quot;&gt;\r\n        &lt;option&gt;Select&lt;/option&gt;\r\n        &lt;option th:each=&quot;cat : ${transactionCategoryList}&quot;\r\n             th:text=&quot;${cat.name}&quot; th:value=&quot;${cat.id}&quot;&gt;\r\n        &lt;/option&gt;&lt;/select&gt;\r\n      &lt;/td&gt;\r\n      &lt;td th:text=&quot;${entry.Comment}&quot;&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\nWhat have i to do, that it directly post this infos?\r\n\r\nThanks for help!","title":"html thymeleaf directly post in a select option","body":"<p>I want directly push the selected option. But i dont find a solution. Maybe u can help me?</p>\n<p>I have a table with a list of entities. And i will offer a select for every entity. But i want to save the selection directly.\nI need the entry.id and the cat.id.</p>\n<p>This is what i have.</p>\n<pre><code>&lt;form class=&quot;myForms&quot; id=&quot;uploadCheckerForm&quot; method=&quot;post&quot; th:action=&quot;@{uploadStatus}&quot;&gt;\n  &lt;table&gt;\n    &lt;tr th:replace=&quot;fragment/form-fragments::checkerMainLine()&quot;&gt;&lt;/tr&gt;\n    &lt;tr th:each=&quot;entry : ${uploadList}&quot;&gt;\n      &lt;td&gt;&lt;select th:id=&quot;transactionCategory&quot; th:name=&quot;transactionCategory&quot;&gt;\n        &lt;option&gt;Select&lt;/option&gt;\n        &lt;option th:each=&quot;cat : ${transactionCategoryList}&quot;\n             th:text=&quot;${cat.name}&quot; th:value=&quot;${cat.id}&quot;&gt;\n        &lt;/option&gt;&lt;/select&gt;\n      &lt;/td&gt;\n      &lt;td th:text=&quot;${entry.Comment}&quot;&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n<p>What have i to do, that it directly post this infos?</p>\n<p>Thanks for help!</p>\n"},{"tags":["java","kotlin","opengl","libgdx"],"comments":[{"owner":{"account_id":8496744,"reputation":12357,"user_id":6371123,"display_name":"G.M."},"score":0,"creation_date":1656675438,"post_id":72828623,"comment_id":128635926,"body_markdown":"[`glEnable(GL_DEPTH_TEST)`](https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glEnable.xhtml)?  If it&#39;s *not* a case of simply enabling depth testing then I think you&#39;ll need to provide more info/context.","body":"<a href=\"https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glEnable.xhtml\" rel=\"nofollow noreferrer\"><code>glEnable(GL_DEPTH_TEST)</code></a>?  If it&#39;s <i>not</i> a case of simply enabling depth testing then I think you&#39;ll need to provide more info/context."},{"owner":{"account_id":11275997,"reputation":120,"user_id":8270036,"display_name":"Pylvain"},"score":0,"creation_date":1656675838,"post_id":72828623,"comment_id":128636044,"body_markdown":"You cannot specify a depth component with SpriteBatch directly. Where do I specify the depth ?","body":"You cannot specify a depth component with SpriteBatch directly. Where do I specify the depth ?"},{"owner":{"account_id":8496744,"reputation":12357,"user_id":6371123,"display_name":"G.M."},"score":0,"creation_date":1656675993,"post_id":72828623,"comment_id":128636086,"body_markdown":"Ah, okay.  I&#39;m not familiar with `SpriteBatch` -- you might want to add the associated [tag](https://stackoverflow.com/questions/tagged/spritebatch).","body":"Ah, okay.  I&#39;m not familiar with <code>SpriteBatch</code> -- you might want to add the associated <a href=\"https://stackoverflow.com/questions/tagged/spritebatch\">tag</a>."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1656678019,"post_id":72828623,"comment_id":128636734,"body_markdown":"Not possible if there‚Äôs any transparency in the sprite textures. The transparent areas would occlude things behind them if they aren‚Äôt drawn in order. Assuming these are all fully opaque sprites that *should* look like opaque rectangles, SpriteBatch cannot batch sprites that are in different Z planes into the same draw call. It can be done with DecalBatch or the third party FlexBatch library.","body":"Not possible if there‚Äôs any transparency in the sprite textures. The transparent areas would occlude things behind them if they aren‚Äôt drawn in order. Assuming these are all fully opaque sprites that <i>should</i> look like opaque rectangles, SpriteBatch cannot batch sprites that are in different Z planes into the same draw call. It can be done with DecalBatch or the third party FlexBatch library."}],"answers":[{"tags":[],"owner":{"account_id":11275997,"reputation":120,"user_id":8270036,"display_name":"Pylvain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656846747,"creation_date":1656846747,"answer_id":72846006,"question_id":72828623,"body_markdown":"Fixed by switching to ```DecalBatch``` instead of SpriteBatch. Here are the GL commands I use before drawing with the DecalBatch to enable depth-testing :\r\n```kotlin\r\n Gdx.gl.apply {\r\n            glClearColor(0f, 0f, 0f, 0f);\r\n            glEnable(GL20.GL_DEPTH_TEST)\r\n            glClear(GL20.GL_COLOR_BUFFER_BIT or GL20.GL_DEPTH_BUFFER_BIT)\r\n            glClearDepthf(1f)\r\n            glDepthFunc(GL20.GL_LESS)\r\n        }\r\n```","title":"Using opengl ZBuffer with Libgdx Spritebatch","body":"<p>Fixed by switching to <code>DecalBatch</code> instead of SpriteBatch. Here are the GL commands I use before drawing with the DecalBatch to enable depth-testing :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> Gdx.gl.apply {\n            glClearColor(0f, 0f, 0f, 0f);\n            glEnable(GL20.GL_DEPTH_TEST)\n            glClear(GL20.GL_COLOR_BUFFER_BIT or GL20.GL_DEPTH_BUFFER_BIT)\n            glClearDepthf(1f)\n            glDepthFunc(GL20.GL_LESS)\n        }\n</code></pre>\n"}],"owner":{"account_id":11275997,"reputation":120,"user_id":8270036,"display_name":"Pylvain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72846006,"answer_count":1,"score":0,"last_activity_date":1656846747,"creation_date":1656675138,"question_id":72828623,"body_markdown":"I&#39;m writing a 2d game engine using libgdx where multiple layers of sprites have to be rendered using SpriteBatch with an OrthgraphicCamera. My layers are sorted with a z component : higher z layers should be rendered on top of layers with a lower z.\r\n\r\nCurrently, I have to render layers sorted by their z component to achieve that. Is there a way, using opengl Z-buffer, to have them rendered out of order, and still show up correctly ?\r\n","title":"Using opengl ZBuffer with Libgdx Spritebatch","body":"<p>I'm writing a 2d game engine using libgdx where multiple layers of sprites have to be rendered using SpriteBatch with an OrthgraphicCamera. My layers are sorted with a z component : higher z layers should be rendered on top of layers with a lower z.</p>\n<p>Currently, I have to render layers sorted by their z component to achieve that. Is there a way, using opengl Z-buffer, to have them rendered out of order, and still show up correctly ?</p>\n"},{"tags":["java","sql","jdbc","mybatis","mapper"],"answers":[{"tags":[],"owner":{"account_id":477468,"reputation":1017,"user_id":888986,"display_name":"Professor Falken"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1367699084,"creation_date":1318917174,"answer_id":7802969,"question_id":7174225,"body_markdown":"Yes, most databases allow this.  Usually you have to delimit your SQL statements with something.  In PostGRES and MySQL it&#39;s a semicolon (;).  In Microsoft SQL server you should use the keyword GO.  [ May 2013 Update:  As of SQL Server 2012, you can and should use semicolons to delimit your statements.  After SQL Server 2012 (ie. the next version and beyond) these will be mandatory.  Using GO is now the deprecated way to do things in SQL2012 and beyond).  ]\r\n\r\nMySQL / PostGRES example:\r\n\r\n     DELETE FROM DUMMYTABLE_A where X=${value};\r\n     DELETE FROM DUMMYTABLE_B where X=${value};\r\n     DELETE FROM DUMMYTABLE_C where X=${value};\r\n\r\nMS-SQL example:\r\n\r\n     DELETE FROM DUMMYTABLE_A where X=${value}\r\n     GO\r\n     DELETE FROM DUMMYTABLE_B where X=${value}\r\n     GO\r\n     DELETE FROM DUMMYTABLE_C where X=${value}\r\n\r\nBetter databases (ie. not MySQL) will also support transactions with BEGIN TRAN / COMMIT TRAN / ROLLBACK TRAN.  Using transactions you can actually batch all the statements into one atomic operation, where if part of it failed, all three would be rolled back.  See http://www.sqlteam.com/article/introduction-to-transactions for some more information about those.\r\n\r\nMost likely all you need is the semicolons between your SQL statements though! \r\n","title":"MyBatis executing multiple sql statements in one go, is that possible?","body":"<p>Yes, most databases allow this.  Usually you have to delimit your SQL statements with something.  In PostGRES and MySQL it's a semicolon (;).  In Microsoft SQL server you should use the keyword GO.  [ May 2013 Update:  As of SQL Server 2012, you can and should use semicolons to delimit your statements.  After SQL Server 2012 (ie. the next version and beyond) these will be mandatory.  Using GO is now the deprecated way to do things in SQL2012 and beyond).  ]</p>\n\n<p>MySQL / PostGRES example:</p>\n\n<pre><code> DELETE FROM DUMMYTABLE_A where X=${value};\n DELETE FROM DUMMYTABLE_B where X=${value};\n DELETE FROM DUMMYTABLE_C where X=${value};\n</code></pre>\n\n<p>MS-SQL example:</p>\n\n<pre><code> DELETE FROM DUMMYTABLE_A where X=${value}\n GO\n DELETE FROM DUMMYTABLE_B where X=${value}\n GO\n DELETE FROM DUMMYTABLE_C where X=${value}\n</code></pre>\n\n<p>Better databases (ie. not MySQL) will also support transactions with BEGIN TRAN / COMMIT TRAN / ROLLBACK TRAN.  Using transactions you can actually batch all the statements into one atomic operation, where if part of it failed, all three would be rolled back.  See <a href=\"http://www.sqlteam.com/article/introduction-to-transactions\">http://www.sqlteam.com/article/introduction-to-transactions</a> for some more information about those.</p>\n\n<p>Most likely all you need is the semicolons between your SQL statements though! </p>\n"},{"tags":[],"owner":{"account_id":1033623,"reputation":618,"user_id":1041434,"display_name":"StrekoZ"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1322731237,"creation_date":1322730116,"answer_id":8338725,"question_id":7174225,"body_markdown":"I&#39;m using myBatis with Oracle. I guess there is something similar in other DB. Actually you always can create procedures in DB, which usually is better for the future, when you have to support the project.\r\n\r\n    &lt;delete id=&quot;deleteUnfinishedData&quot; parameterType=&quot;map&quot;&gt;\r\n        {call\r\n            declare\r\n            begin\r\n                delete from TABLE1 where id = #{valueFromMap1};\r\n                delete from TABLE2 where id = #{valueFromMap2};\r\n            end\r\n        }\r\n    &lt;/delete&gt;","title":"MyBatis executing multiple sql statements in one go, is that possible?","body":"<p>I'm using myBatis with Oracle. I guess there is something similar in other DB. Actually you always can create procedures in DB, which usually is better for the future, when you have to support the project.</p>\n\n<pre><code>&lt;delete id=\"deleteUnfinishedData\" parameterType=\"map\"&gt;\n    {call\n        declare\n        begin\n            delete from TABLE1 where id = #{valueFromMap1};\n            delete from TABLE2 where id = #{valueFromMap2};\n        end\n    }\n&lt;/delete&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6661204,"reputation":109,"user_id":5140519,"display_name":"Sunil Poudel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552626058,"creation_date":1552626058,"answer_id":55175829,"question_id":7174225,"body_markdown":"if anyone got an error like  \r\n\r\n&gt; Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL\r\n&gt; syntax; check the manual that corresponds to your MariaDB server\r\n&gt; version for the right syntax to use near &#39;UPDATE mytable\r\n\r\nYou can fix this by allowing multi queries in your driver.\r\nFor mariadb it would be the same as MySQL\r\n\r\nallowMultiQuery=true\r\n\r\ndescribed in following mybatis issue\r\n[https://github.com/mybatis/mybatis-3/issues/1497][1]\r\n\r\n\r\n  [1]: https://github.com/mybatis/mybatis-3/issues/1497","title":"MyBatis executing multiple sql statements in one go, is that possible?","body":"<p>if anyone got an error like  </p>\n\n<blockquote>\n  <p>Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL\n  syntax; check the manual that corresponds to your MariaDB server\n  version for the right syntax to use near 'UPDATE mytable</p>\n</blockquote>\n\n<p>You can fix this by allowing multi queries in your driver.\nFor mariadb it would be the same as MySQL</p>\n\n<p>allowMultiQuery=true</p>\n\n<p>described in following mybatis issue\n<a href=\"https://github.com/mybatis/mybatis-3/issues/1497\" rel=\"nofollow noreferrer\">https://github.com/mybatis/mybatis-3/issues/1497</a></p>\n"},{"tags":[],"owner":{"account_id":2534270,"reputation":878,"user_id":2201814,"accept_rate":44,"display_name":"MHSaffari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656846445,"creation_date":1656846445,"answer_id":72845970,"question_id":7174225,"body_markdown":"This code works for multiple `Select` in one go in `MSSQL`:\r\n\r\n```xml\r\n&lt;select id=&quot;selectMultipleQueries&quot; resultSets=&quot;movies,genres&quot; resultMap=&quot;multipleQueriesResult&quot;&gt;\r\n        BEGIN\r\n            select M.ID_         as mId,\r\n                   M.NAME_       as mName,\r\n            from TestMyBatis.dbo.Movie as M\r\n            where M.ID_ = #{id,jdbcType=INTEGER,mode=IN};\r\n            select G.ID_ as gId, \r\n                   G.NAME_ as gName\r\n            from TestMyBatis.dbo.Genre as G\r\n            where G.ID_ = #{id,jdbcType=INTEGER,mode=IN};\r\n        END\r\n&lt;/select&gt;\r\n```","title":"MyBatis executing multiple sql statements in one go, is that possible?","body":"<p>This code works for multiple <code>Select</code> in one go in <code>MSSQL</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;select id=&quot;selectMultipleQueries&quot; resultSets=&quot;movies,genres&quot; resultMap=&quot;multipleQueriesResult&quot;&gt;\n        BEGIN\n            select M.ID_         as mId,\n                   M.NAME_       as mName,\n            from TestMyBatis.dbo.Movie as M\n            where M.ID_ = #{id,jdbcType=INTEGER,mode=IN};\n            select G.ID_ as gId, \n                   G.NAME_ as gName\n            from TestMyBatis.dbo.Genre as G\n            where G.ID_ = #{id,jdbcType=INTEGER,mode=IN};\n        END\n&lt;/select&gt;\n</code></pre>\n"}],"owner":{"account_id":62398,"reputation":15301,"user_id":185432,"accept_rate":63,"display_name":"Marco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53425,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":7802969,"answer_count":4,"score":18,"last_activity_date":1656846445,"creation_date":1314182946,"question_id":7174225,"body_markdown":"i was wondering if it is possible to execute multiple sql statements in 1 go.\r\nFor example the scenario that i want to delete rows from multiple tables, is there a way i can do things like..\r\n\r\n    &lt;delete id=&quot;delete&quot; parameterType=&quot;String&quot;&gt;\r\n        DELETE FROM DUMMYTABLE_A where X=${value}\r\n        DELETE FROM DUMMYTABLE_B where X=${value}\r\n    &lt;/delete&gt;\r\n\r\n","title":"MyBatis executing multiple sql statements in one go, is that possible?","body":"<p>i was wondering if it is possible to execute multiple sql statements in 1 go.\nFor example the scenario that i want to delete rows from multiple tables, is there a way i can do things like..</p>\n\n<pre><code>&lt;delete id=\"delete\" parameterType=\"String\"&gt;\n    DELETE FROM DUMMYTABLE_A where X=${value}\n    DELETE FROM DUMMYTABLE_B where X=${value}\n&lt;/delete&gt;\n</code></pre>\n"},{"tags":["python","java","collections","google-earth-engine"],"answers":[{"tags":[],"owner":{"account_id":23232784,"reputation":45,"user_id":17557035,"display_name":"nkwilder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653438548,"creation_date":1653438548,"answer_id":72370810,"question_id":71744089,"body_markdown":"You should be able to do this using [geemap][1].\r\n\r\n`gdf = geemap.ee_to_pandas(df)`\r\n\r\n\r\n\r\n  [1]: https://geemap.org/notebooks/geopandas/","title":"Convert earth engine feature collection to a dataframe in python","body":"<p>You should be able to do this using <a href=\"https://geemap.org/notebooks/geopandas/\" rel=\"nofollow noreferrer\">geemap</a>.</p>\n<p><code>gdf = geemap.ee_to_pandas(df)</code></p>\n"},{"tags":[],"owner":{"account_id":19212160,"reputation":11,"user_id":14037751,"display_name":"Krishna Kafle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656846336,"creation_date":1656846336,"answer_id":72845956,"question_id":71744089,"body_markdown":"Feature collection to pandas dataframe:\r\n\r\n    nested_list = results.reduceColumns(ee.Reducer.toList(len(column_df)), column_df).values().get(0)\r\n    data = nested_list.getInfo()\r\n    data\r\n    \r\n    # dont forget we need to call the callback method &quot;getInfo&quot; to retrieve the data\r\n    df = pd.DataFrame(data, columns=column_df)\r\n    # we obtain the data frame as per our demand\r\n    df\r\nYou can visit the blog post:\r\n[https://kaflekrishna.com.np/blog-detail/extraction-raster-values-point-samples-google-earth-engine-gee/][1]\r\n\r\nFind: &quot;Method 1: Feature collection to pandas dataframe&quot; on step 11, then you can convert feature collection to pandas dataframe, you will find the whole case scenario in which I faced &amp; used this example as well.\r\n\r\n  [1]: https://kaflekrishna.com.np/blog-detail/extraction-raster-values-point-samples-google-earth-engine-gee/","title":"Convert earth engine feature collection to a dataframe in python","body":"<p>Feature collection to pandas dataframe:</p>\n<pre><code>nested_list = results.reduceColumns(ee.Reducer.toList(len(column_df)), column_df).values().get(0)\ndata = nested_list.getInfo()\ndata\n\n# dont forget we need to call the callback method &quot;getInfo&quot; to retrieve the data\ndf = pd.DataFrame(data, columns=column_df)\n# we obtain the data frame as per our demand\ndf\n</code></pre>\n<p>You can visit the blog post:\n<a href=\"https://kaflekrishna.com.np/blog-detail/extraction-raster-values-point-samples-google-earth-engine-gee/\" rel=\"nofollow noreferrer\">https://kaflekrishna.com.np/blog-detail/extraction-raster-values-point-samples-google-earth-engine-gee/</a></p>\n<p>Find: &quot;Method 1: Feature collection to pandas dataframe&quot; on step 11, then you can convert feature collection to pandas dataframe, you will find the whole case scenario in which I faced &amp; used this example as well.</p>\n"}],"owner":{"account_id":18894371,"reputation":350,"user_id":13783882,"display_name":"jimmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1775,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656846336,"creation_date":1649108736,"question_id":71744089,"body_markdown":"I uploaded a shapefile in my earth engine account as a feature collection and I now I need to use it in a jupyter lab notebook. \r\n\r\nI use the following code to import the collection:\r\n\r\n    df = ee.FeatureCollection(&#39;users/my_user/my_shape&#39;)\r\n\r\nBut now I don&#39;t know how to convert to into a dataframe. Any ideas? \r\n\r\n \r\n","title":"Convert earth engine feature collection to a dataframe in python","body":"<p>I uploaded a shapefile in my earth engine account as a feature collection and I now I need to use it in a jupyter lab notebook.</p>\n<p>I use the following code to import the collection:</p>\n<pre><code>df = ee.FeatureCollection('users/my_user/my_shape')\n</code></pre>\n<p>But now I don't know how to convert to into a dataframe. Any ideas?</p>\n"},{"tags":["java","selenium","testng","winappdriver"],"comments":[{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1656852294,"post_id":72845951,"comment_id":128667565,"body_markdown":"how do you run appium? from command line? have you started cmd with admin permissions?","body":"how do you run appium? from command line? have you started cmd with admin permissions?"},{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":1,"creation_date":1656852927,"post_id":72845951,"comment_id":128667691,"body_markdown":"seems your appium server is unavailable. Also make sure you enabled [developer mode](https://learn.microsoft.com/en-us/windows/apps/get-started/enable-your-device-for-development)","body":"seems your appium server is unavailable. Also make sure you enabled <a href=\"https://learn.microsoft.com/en-us/windows/apps/get-started/enable-your-device-for-development\" rel=\"nofollow noreferrer\">developer mode</a>"}],"owner":{"account_id":18187374,"reputation":145,"user_id":13233818,"display_name":"yakov sachuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656846307,"creation_date":1656846307,"question_id":72845951,"body_markdown":"I try to run an automation on notepad file on windows via winnap driver.\r\nand I get :  &quot;FAILED CONFIGURATION: @BeforeMethod setUp\r\n              org.openqa.selenium.WebDriverException: Connection refused: no further \r\n              information&quot;\r\n\r\nWhat is can be ? \r\n\r\nJAVA : \r\n\r\n    package com.mytest;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n    import org.testng.annotations.AfterMethod;\r\n    import org.testng.annotations.AfterSuite;\r\n    import org.testng.annotations.BeforeClass;\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import io.appium.java_client.windows.WindowsDriver;\r\n    \r\n    \r\n    \r\n    public class NotePadTest {\r\n    \tpublic static WindowsDriver driver = null ;\r\n    \t\r\n    \t@BeforeMethod\r\n    \tpublic void setUp() {\r\n    \t\tDesiredCapabilities cap = new DesiredCapabilities();\r\n    \t\tcap.setCapability(&quot;app&quot;,&quot;C:\\\\Windows\\\\System32\\\\notepad.exe&quot;);\r\n    \t\tcap.setCapability( &quot;platform&quot;, &quot;Windows&quot;);\r\n    \t\tcap.setCapability( &quot;deviceName&quot;, &quot;WindowsPC&quot;);\r\n    \t\ttry {\r\n    \t\t\tdriver = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), cap);\r\n    \t\t} catch (MalformedURLException e) {\r\n    \t\t\t// TODO: handle exception\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\tdriver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@AfterMethod\r\n    \tpublic void clenUp() {\r\n    \t\tdriver.quit();\r\n    \t\tsetUp();\r\n    \t}\r\n    \t\r\n    \t@AfterSuite\r\n    \tpublic void tearDown() {\r\n    \t\tdriver.quit();\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void checkHelpAboutNowTest() {\r\n    \t\tdriver.findElementByName(&quot;App theme&quot;).click();\r\n    \t}\r\n   \t\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bm2WC.png","title":"Faild to run desktop Automaition with winapp driver : FAILED CONFIGURATION","body":"<p>I try to run an automation on notepad file on windows via winnap driver.\nand I get :  &quot;FAILED CONFIGURATION: @BeforeMethod setUp\norg.openqa.selenium.WebDriverException: Connection refused: no further\ninformation&quot;</p>\n<p>What is can be ?</p>\n<p>JAVA :</p>\n<pre><code>package com.mytest;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.testng.annotations.AfterMethod;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Test;\n\nimport io.appium.java_client.windows.WindowsDriver;\n\n\n\npublic class NotePadTest {\n    public static WindowsDriver driver = null ;\n    \n    @BeforeMethod\n    public void setUp() {\n        DesiredCapabilities cap = new DesiredCapabilities();\n        cap.setCapability(&quot;app&quot;,&quot;C:\\\\Windows\\\\System32\\\\notepad.exe&quot;);\n        cap.setCapability( &quot;platform&quot;, &quot;Windows&quot;);\n        cap.setCapability( &quot;deviceName&quot;, &quot;WindowsPC&quot;);\n        try {\n            driver = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), cap);\n        } catch (MalformedURLException e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }\n        \n        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS); \n    }\n    \n    \n    @AfterMethod\n    public void clenUp() {\n        driver.quit();\n        setUp();\n    }\n    \n    @AfterSuite\n    public void tearDown() {\n        driver.quit();\n    }\n    \n    @Test\n    public void checkHelpAboutNowTest() {\n        driver.findElementByName(&quot;App theme&quot;).click();\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bm2WC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bm2WC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1656843094,"post_id":72845608,"comment_id":128665840,"body_markdown":"&quot;It is saved as same as the user is entering it while signing in&quot; - how do yo save it?","body":"&quot;It is saved as same as the user is entering it while signing in&quot; - how do yo save it?"}],"answers":[{"tags":[],"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656845415,"creation_date":1656845415,"answer_id":72845851,"question_id":72845608,"body_markdown":"Your `SecurityConfig` is ok. \r\n\r\nI think you misunderstand the usage of `auth.userDetailsService(userDetailsService).passwordEncoder(this.passwordEncoder());`\r\nhere.\r\n\r\nThis code will apply `BCryptPasswordEncoder` on the password when authorization and authentication, not when you store your user into DB.\r\n\r\nYou should encode your users&#39; passwords by hand when persisting them on the DB.\r\n\r\nSomething like this:\r\n\r\n```java\r\n@Autowired\r\nprivate BCryptPasswordEncoder passwordEncoder;\r\n\r\npublic User registerNewUserAccount(UserDto accountDto) throws EmailExistsException {\r\n    if (emailExist(accountDto.getEmail())) {\r\n        throw new EmailExistsException(\r\n          &quot;There is an account with that email adress:&quot; + accountDto.getEmail());\r\n    }\r\n    User user = new User();\r\n    user.setFirstName(accountDto.getFirstName());\r\n    user.setLastName(accountDto.getLastName());\r\n    \r\n    // Encoding user&#39;s password:\r\n    user.setPassword(passwordEncoder.encode(accountDto.getPassword()));\r\n    \r\n    user.setEmail(accountDto.getEmail());\r\n    user.setRole(new Role(Integer.valueOf(1), user));\r\n    return repository.save(user);\r\n}\r\n```","title":"Password is not getting encoded in spring security","body":"<p>Your <code>SecurityConfig</code> is ok.</p>\n<p>I think you misunderstand the usage of <code>auth.userDetailsService(userDetailsService).passwordEncoder(this.passwordEncoder());</code>\nhere.</p>\n<p>This code will apply <code>BCryptPasswordEncoder</code> on the password when authorization and authentication, not when you store your user into DB.</p>\n<p>You should encode your users' passwords by hand when persisting them on the DB.</p>\n<p>Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate BCryptPasswordEncoder passwordEncoder;\n\npublic User registerNewUserAccount(UserDto accountDto) throws EmailExistsException {\n    if (emailExist(accountDto.getEmail())) {\n        throw new EmailExistsException(\n          &quot;There is an account with that email adress:&quot; + accountDto.getEmail());\n    }\n    User user = new User();\n    user.setFirstName(accountDto.getFirstName());\n    user.setLastName(accountDto.getLastName());\n    \n    // Encoding user's password:\n    user.setPassword(passwordEncoder.encode(accountDto.getPassword()));\n    \n    user.setEmail(accountDto.getEmail());\n    user.setRole(new Role(Integer.valueOf(1), user));\n    return repository.save(user);\n}\n</code></pre>\n"}],"owner":{"account_id":19306526,"reputation":203,"user_id":14113217,"display_name":"Palak Kharbanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1021,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72845851,"answer_count":1,"score":0,"last_activity_date":1656845415,"creation_date":1656842982,"question_id":72845608,"body_markdown":"   The password is not getting encoded. It is saved as same as the user is entering it while signing in. I have tried using BCryptPasswordEncoder but it is not working. Seems like I am making a mistake somewhere. Please help! \r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private UserDetailsServiceImpl userDetailsService;\r\n    \r\n        @Autowired\r\n        private JwtAuthenticationEntryPoint unauthorizedHandler;\r\n    \r\n        /**\r\n         * Password Encoder Bean\r\n         */\r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        /**\r\n         * Authentication Manager Bean.\r\n         * It is required for login process\r\n         */\r\n        @Bean\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Autowired\r\n        private JwtAuthenticationFilter jwtAuthenticationFilter;\r\n    \r\n        /**\r\n         * Method for configuring the authentication service based on user details\r\n         * provided\r\n         */\r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(this.passwordEncoder());\r\n        }\r\n    \r\n        /**\r\n         * Method for configuring HTTP requests for the application\r\n         */\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/generate-token&quot;).permitAll()\r\n                    .antMatchers(HttpMethod.POST).permitAll()\r\n                    .antMatchers(HttpMethod.OPTIONS).permitAll()\r\n                    .anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(unauthorizedHandler)\r\n                    .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n            // Check JWT authentication token before any request\r\n            http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n    }\r\n\r\n\r\nThis is the security configuration class. I suspect error is here only in this class maybe\r\n\r\n","title":"Password is not getting encoded in spring security","body":"<p>The password is not getting encoded. It is saved as same as the user is entering it while signing in. I have tried using BCryptPasswordEncoder but it is not working. Seems like I am making a mistake somewhere. Please help!</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private JwtAuthenticationEntryPoint unauthorizedHandler;\n\n    /**\n     * Password Encoder Bean\n     */\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    /**\n     * Authentication Manager Bean.\n     * It is required for login process\n     */\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Autowired\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\n\n    /**\n     * Method for configuring the authentication service based on user details\n     * provided\n     */\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(this.passwordEncoder());\n    }\n\n    /**\n     * Method for configuring HTTP requests for the application\n     */\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/generate-token&quot;).permitAll()\n                .antMatchers(HttpMethod.POST).permitAll()\n                .antMatchers(HttpMethod.OPTIONS).permitAll()\n                .anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(unauthorizedHandler)\n                .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        // Check JWT authentication token before any request\n        http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n<p>This is the security configuration class. I suspect error is here only in this class maybe</p>\n"},{"tags":["c#","java","linked-list"],"comments":[{"owner":{"account_id":58535,"reputation":21614,"user_id":175216,"accept_rate":100,"display_name":"Asad"},"score":0,"creation_date":1267386869,"post_id":2352399,"comment_id":2326169,"body_markdown":"http://stackoverflow.com/questions/1980953/is-there-a-java-equivalent-to-cs-yield-keyword","body":"<a href=\"http://stackoverflow.com/questions/1980953/is-there-a-java-equivalent-to-cs-yield-keyword\" title=\"is there a java equivalent to cs yield keyword\">stackoverflow.com/questions/1980953/&hellip;</a>"},{"owner":{"account_id":92026,"reputation":35050,"user_id":1977903,"accept_rate":96,"display_name":"bragboy"},"score":3,"creation_date":1267387170,"post_id":2352399,"comment_id":2326190,"body_markdown":"i dont know C#. Curious, what does yield return do?","body":"i dont know C#. Curious, what does yield return do?"},{"owner":{"account_id":58535,"reputation":21614,"user_id":175216,"accept_rate":100,"display_name":"Asad"},"score":0,"creation_date":1267387340,"post_id":2352399,"comment_id":2326204,"body_markdown":"check this: http://msdn.microsoft.com/en-us/library/9k7k7cf0(VS.80).aspx","body":"check this: <a href=\"http://msdn.microsoft.com/en-us/library/9k7k7cf0(VS.80).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/9k7k7cf0(VS.80).aspx</a>"},{"owner":{"account_id":92026,"reputation":35050,"user_id":1977903,"accept_rate":96,"display_name":"bragboy"},"score":0,"creation_date":1267387741,"post_id":2352399,"comment_id":2326245,"body_markdown":"Thanks read it. That seems too much compiler (programming language) centric to me. In java, its tough but achievable.","body":"Thanks read it. That seems too much compiler (programming language) centric to me. In java, its tough but achievable."},{"owner":{"account_id":21226,"reputation":22405,"user_id":51428,"accept_rate":82,"display_name":"flq"},"score":9,"creation_date":1267389613,"post_id":2352399,"comment_id":2326401,"body_markdown":"too much compiler centric? If I imagine I&#39;d have to program myself all the things that compiler programs for me...","body":"too much compiler centric? If I imagine I&#39;d have to program myself all the things that compiler programs for me..."},{"owner":{"account_id":82818,"reputation":58383,"user_id":232593,"accept_rate":79,"display_name":"Merlyn Morgan-Graham"},"score":0,"creation_date":1348080313,"post_id":2352399,"comment_id":16822886,"body_markdown":"Using yield return with this example provides no real value.  You can simply return the linked list as `IEnumerable&lt;something&gt;`.  `yield return` only provides value when you have a generator function that immediately yields the values rather than pushing them to a container.","body":"Using yield return with this example provides no real value.  You can simply return the linked list as <code>IEnumerable&lt;something&gt;</code>.  <code>yield return</code> only provides value when you have a generator function that immediately yields the values rather than pushing them to a container."},{"owner":{"account_id":158776,"reputation":6092,"user_id":377657,"accept_rate":86,"display_name":"rwong"},"score":1,"creation_date":1404315816,"post_id":2352399,"comment_id":37993514,"body_markdown":"@MerlynMorgan-Graham or when the computation (generator function) is expensive and lazy-evaluation is required.","body":"@MerlynMorgan-Graham or when the computation (generator function) is expensive and lazy-evaluation is required."},{"owner":{"account_id":82818,"reputation":58383,"user_id":232593,"accept_rate":79,"display_name":"Merlyn Morgan-Graham"},"score":0,"creation_date":1404325576,"post_id":2352399,"comment_id":37999005,"body_markdown":"@rwong: That&#39;s just a rewording of what I said. If the list is already fully constructed in memory, it wasn&#39;t &quot;lazy evaluated&quot;. If the function &quot;pushed them to a container&quot; as I said, and as described in the OP&#39;s question, the results were eagerly evaluated.","body":"@rwong: That&#39;s just a rewording of what I said. If the list is already fully constructed in memory, it wasn&#39;t &quot;lazy evaluated&quot;. If the function &quot;pushed them to a container&quot; as I said, and as described in the OP&#39;s question, the results were eagerly evaluated."},{"owner":{"account_id":8141629,"reputation":5543,"user_id":6131611,"accept_rate":100,"display_name":"Pavel"},"score":0,"creation_date":1522656528,"post_id":2352399,"comment_id":86221731,"body_markdown":"Related: https://stackoverflow.com/q/11570132","body":"Related: <a href=\"https://stackoverflow.com/q/11570132\">stackoverflow.com/q/11570132</a>"}],"answers":[{"tags":[],"owner":{"account_id":58535,"reputation":21614,"user_id":175216,"accept_rate":100,"display_name":"Asad"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1267388699,"creation_date":1267386974,"answer_id":2352419,"question_id":2352399,"body_markdown":"try this \r\n\r\n - [**com.infomancers.collections.yield**][1]\r\n\r\ncheck this article for a sample implementation as well: \r\n\r\n \r\n\r\n - [**Implementation details for Java\r\n   Yielder**][2]\r\n\r\n  [1]: http://chaoticjava.com/yielder/api/\r\n  [2]: http://chaoticjava.com/posts/implementation-details-for-java-yielder/","title":"Yield Return In Java","body":"<p>try this </p>\n\n<ul>\n<li><a href=\"http://chaoticjava.com/yielder/api/\" rel=\"noreferrer\"><strong>com.infomancers.collections.yield</strong></a></li>\n</ul>\n\n<p>check this article for a sample implementation as well: </p>\n\n<ul>\n<li><a href=\"http://chaoticjava.com/posts/implementation-details-for-java-yielder/\" rel=\"noreferrer\"><strong>Implementation details for Java\nYielder</strong></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":103724,"reputation":1965,"user_id":277659,"accept_rate":62,"display_name":"Denise"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1267389470,"creation_date":1267389470,"answer_id":2352577,"question_id":2352399,"body_markdown":"If you want the full functionality of `yield return`, you probably need to set this up in two threads-- one for the first method, and one for the second. Then the first thread should `wait` until the second thread puts its value somewhere accessible and `notify`s it that it&#39;s ready. Then the first thread would process that value, `wait` for the next value, etc.","title":"Yield Return In Java","body":"<p>If you want the full functionality of <code>yield return</code>, you probably need to set this up in two threads-- one for the first method, and one for the second. Then the first thread should <code>wait</code> until the second thread puts its value somewhere accessible and <code>notify</code>s it that it's ready. Then the first thread would process that value, <code>wait</code> for the next value, etc.</p>\n"},{"tags":[],"owner":{"account_id":31685,"reputation":3185,"user_id":87206,"display_name":"CurtainDog"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1267400345,"creation_date":1267400345,"answer_id":2353151,"question_id":2352399,"body_markdown":"I don&#39;t understand why people are talking about threads... is there something I don&#39;t know about yield return?\r\n\r\nTo my understanding yield return just saves the method stack and restores it at a later time. To implement yield return you just have to save the state manually. See the Java iterator classes for details, though for a linked list you can just get away with saving the current item. For an array you&#39;d just need the index.","title":"Yield Return In Java","body":"<p>I don't understand why people are talking about threads... is there something I don't know about yield return?</p>\n\n<p>To my understanding yield return just saves the method stack and restores it at a later time. To implement yield return you just have to save the state manually. See the Java iterator classes for details, though for a linked list you can just get away with saving the current item. For an array you'd just need the index.</p>\n"},{"tags":[],"owner":{"account_id":669558,"reputation":11,"user_id":498205,"display_name":"Oren ZBM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288952457,"creation_date":1288952457,"answer_id":4105015,"question_id":2352399,"body_markdown":"Just to help readers understand the small details.\r\n\r\nIf you create a new list containing all the resulting elements and return the list, then this is a good implementation, simple enough to code. You can have as interesting data structure as you need, and when scanning it for the right entries, just return a list of all the matches, and your client will iterate on the list.\r\n\r\nIf you want to save a state, it may be more complicated. You&#39;ll need to get to where you&#39;ve been every time your function is called. Not to mention re-entrant issues, etc.\r\n\r\nThe solution with threads does not create a new list. And it is as simple as the first solution. The only issue is that you involve a thread synchronization which is a bit more hard to code, and has its performance penalties.\r\n\r\nSo, yes, yield return is great and is missing from Java. Yet there are workarounds.","title":"Yield Return In Java","body":"<p>Just to help readers understand the small details.</p>\n\n<p>If you create a new list containing all the resulting elements and return the list, then this is a good implementation, simple enough to code. You can have as interesting data structure as you need, and when scanning it for the right entries, just return a list of all the matches, and your client will iterate on the list.</p>\n\n<p>If you want to save a state, it may be more complicated. You'll need to get to where you've been every time your function is called. Not to mention re-entrant issues, etc.</p>\n\n<p>The solution with threads does not create a new list. And it is as simple as the first solution. The only issue is that you involve a thread synchronization which is a bit more hard to code, and has its performance penalties.</p>\n\n<p>So, yes, yield return is great and is missing from Java. Yet there are workarounds.</p>\n"},{"tags":[],"owner":{"account_id":153641,"reputation":1976,"user_id":369031,"accept_rate":100,"display_name":"voidvector"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1340748004,"creation_date":1340748004,"answer_id":11216571,"question_id":2352399,"body_markdown":"You can return an anonymous implementation of Iterable. The effects are pretty pretty similar, just that this is a lot more verbose.  \r\n\r\n\tpublic Iterable&lt;String&gt; getStuff() {\r\n\t\treturn new Iterable&lt;String&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Iterator&lt;String&gt; iterator() {\r\n\t\t\t\treturn new Iterator&lt;String&gt;() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic boolean hasNext() {\r\n\t\t\t\t\t\t// TODO code to check next\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic String next() {\r\n\t\t\t\t\t\t// TODO code to go to next\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void remove() {\r\n\t\t\t\t\t\t// TODO code to remove item or throw exception\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n","title":"Yield Return In Java","body":"<p>You can return an anonymous implementation of Iterable. The effects are pretty pretty similar, just that this is a lot more verbose.  </p>\n\n<pre><code>public Iterable&lt;String&gt; getStuff() {\n    return new Iterable&lt;String&gt;() {\n\n        @Override\n        public Iterator&lt;String&gt; iterator() {\n            return new Iterator&lt;String&gt;() {\n\n                @Override\n                public boolean hasNext() {\n                    // TODO code to check next\n                }\n\n                @Override\n                public String next() {\n                    // TODO code to go to next\n                }\n\n                @Override\n                public void remove() {\n                    // TODO code to remove item or throw exception\n                }\n\n            };\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2763889,"reputation":371,"user_id":2380173,"display_name":"Garth Pickell"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1368528280,"creation_date":1368528280,"answer_id":16541126,"question_id":2352399,"body_markdown":"&quot;yield return&quot; is a very sophisticated compiler trick. It basically lets you declaratively implement IEnumerable without any of the annoying details of &quot;figuring out&quot; how to build your iterator. The unfortunate thing is that it does not translate into other languages well because very few compilers have such a capability. In some ways &quot;yield return&quot; is as damning as revolutionary.\r\n\r\nBasically in C#, the compiler will generate two implementations of IEnumerable and IEnumerator (of T). It does this by basically realizing your &quot;method&quot;&#39;s local variables as instance fields in generated implementation classes as well as examining the frames containing a &quot;yield return&quot; artifact. Once you know this, it should be possible for a well rounded developer to accomplish the same thing explicitly... although not as concisely. To demonstrate, I will CONCAT!\r\n\r\n    public static &lt;T&gt; Iterable&lt;T&gt; concat(Iterable&lt;T&gt; x, Iterable&lt;T&gt; y)\r\n    {\r\n        for(T e: x)\r\n    \t{\r\n    \t\tyield return e;\r\n    \t}\r\n    \r\n        for(T e: y)\r\n    \t{\r\n    \t\tyield return e;\r\n    \t}\r\n    }\r\n    \r\n    // becomes ....\r\n    \r\n    public static &lt;E&gt; Iterator&lt;E&gt; concat_(Iterable&lt;E&gt; x, Iterator&lt;E&gt; y)\r\n    {\r\n    \tT e1, e2;\r\n    \tIterator&lt;E&gt; i1, i2;\r\n    \r\n    \tIterator&lt;E&gt; s;\r\n    \tIterator&lt;E&gt; s4 = new Iterator&lt;E&gt;()\r\n    \t{\r\n    \t\tpublic bool hasNext()\r\n    \t\t{\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\tpublic E next()\r\n    \t\t{\r\n    \t\t\tthrow ... ;\r\n    \t\t}\r\n    \r\n    \t\tpublic void remove()\r\n    \t\t{\r\n    \t\t\tthrow ... ;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tIterator&lt;E&gt; s3 = new Iterator&lt;E&gt;()\r\n    \t{\r\n    \t\tIterator&lt;E&gt; act()\r\n    \t\t{\r\n    \t\t\tif(i2.hasNext())\r\n    \t\t\t{\r\n    \t\t\t\treturn i2;\r\n    \t\t\t}\r\n    \r\n    \t\t\ti2 = y.iterator();\r\n    \t\t\treturn (s = s4);\r\n    \t\t}\r\n    \r\n    \t\tpublic bool hasNext()\r\n    \t\t{\r\n    \t\t\treturn act().hasNext();\r\n    \t\t}\r\n    \r\n    \t\tpublic E next()\r\n    \t\t{\r\n    \t\t\treturn act().next();\r\n    \t\t}\r\n    \r\n    \t\tpublic void remove()\r\n    \t\t{\r\n    \t\t\treturn i2.remove();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tIterator&lt;E&gt; s2 = new Iterator&lt;E&gt;()\r\n    \t{\r\n    \t\tIterator&lt;E&gt; act()\r\n    \t\t{\r\n    \t\t\tif(i1.hasNext())\r\n    \t\t\t{\r\n    \t\t\t\treturn i1;\r\n    \t\t\t}\r\n    \r\n    \t\t\ti2 = y.iterator();\r\n    \t\t\treturn (s = s3);\r\n    \t\t}\r\n    \r\n    \t\tpublic bool hasNext()\r\n    \t\t{\r\n    \t\t\treturn act().hasNext();\r\n    \t\t}\r\n    \r\n    \t\tpublic E next()\r\n    \t\t{\r\n    \t\t\treturn act().next();\r\n    \t\t}\r\n    \r\n    \t\tpublic void remove()\r\n    \t\t{\r\n    \t\t\treturn i1.remove();\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tIterator&lt;E&gt; s1 = new Iterator&lt;E&gt;()\r\n    \t{\r\n    \t\tIterator&lt;E&gt; act()\r\n    \t\t{\r\n    \t\t\ti1 = x.iterator();\r\n    \t\t\treturn s = s2;\r\n    \t\t}\r\n    \r\n    \t\tpublic bool hasNext()\r\n    \t\t{\r\n    \t\t\treturn act().hasNext();\r\n    \t\t}\r\n    \r\n    \t\tpublic E next()\r\n    \t\t{\r\n    \t\t\treturn act().next();\r\n    \t\t}\r\n    \r\n    \t\tpublic void remove()\r\n    \t\t{\r\n    \t\t\treturn act().remove();\r\n    \t\t}\r\n    \t};\r\n    \r\n    \ts = s1;\r\n    \treturn new Iterator&lt;T&gt;()\r\n    \t{\r\n    \t\tpublic bool hasNext()\r\n    \t\t{\r\n    \t\t\treturn s.hasNext();\r\n    \t\t}\r\n    \r\n    \t\tpublic E next()\r\n    \t\t{\r\n    \t\t\treturn s.next();\r\n    \t\t}\r\n    \r\n    \t\tpublic void remove()\r\n    \t\t{\r\n    \t\t\treturn s.remove();\r\n    \t\t}\r\n    \t};\r\n    }\r\n    \r\n    public static &lt;T&gt; Iterable&lt;T&gt; concat(Iterable&lt;T&gt; x, Iterable&lt;T&gt; y)\r\n    {\r\n    \treturn new Iterable&lt;T&gt;()\r\n    \t{\r\n    \t\tpublic Iterator&lt;T&gt; iterator()\r\n    \t\t{\r\n    \t\t\treturn concat_(x, y)\r\n    \t\t}\r\n    \t};\r\n    }\r\n    \r\n    // tada!\r\n\r\nIf you all will pardon my 3AM pseudo java...\r\n","title":"Yield Return In Java","body":"<p>\"yield return\" is a very sophisticated compiler trick. It basically lets you declaratively implement IEnumerable without any of the annoying details of \"figuring out\" how to build your iterator. The unfortunate thing is that it does not translate into other languages well because very few compilers have such a capability. In some ways \"yield return\" is as damning as revolutionary.</p>\n\n<p>Basically in C#, the compiler will generate two implementations of IEnumerable and IEnumerator (of T). It does this by basically realizing your \"method\"'s local variables as instance fields in generated implementation classes as well as examining the frames containing a \"yield return\" artifact. Once you know this, it should be possible for a well rounded developer to accomplish the same thing explicitly... although not as concisely. To demonstrate, I will CONCAT!</p>\n\n<pre><code>public static &lt;T&gt; Iterable&lt;T&gt; concat(Iterable&lt;T&gt; x, Iterable&lt;T&gt; y)\n{\n    for(T e: x)\n    {\n        yield return e;\n    }\n\n    for(T e: y)\n    {\n        yield return e;\n    }\n}\n\n// becomes ....\n\npublic static &lt;E&gt; Iterator&lt;E&gt; concat_(Iterable&lt;E&gt; x, Iterator&lt;E&gt; y)\n{\n    T e1, e2;\n    Iterator&lt;E&gt; i1, i2;\n\n    Iterator&lt;E&gt; s;\n    Iterator&lt;E&gt; s4 = new Iterator&lt;E&gt;()\n    {\n        public bool hasNext()\n        {\n            return false;\n        }\n\n        public E next()\n        {\n            throw ... ;\n        }\n\n        public void remove()\n        {\n            throw ... ;\n        }\n    }\n\n    Iterator&lt;E&gt; s3 = new Iterator&lt;E&gt;()\n    {\n        Iterator&lt;E&gt; act()\n        {\n            if(i2.hasNext())\n            {\n                return i2;\n            }\n\n            i2 = y.iterator();\n            return (s = s4);\n        }\n\n        public bool hasNext()\n        {\n            return act().hasNext();\n        }\n\n        public E next()\n        {\n            return act().next();\n        }\n\n        public void remove()\n        {\n            return i2.remove();\n        }\n    }\n\n    Iterator&lt;E&gt; s2 = new Iterator&lt;E&gt;()\n    {\n        Iterator&lt;E&gt; act()\n        {\n            if(i1.hasNext())\n            {\n                return i1;\n            }\n\n            i2 = y.iterator();\n            return (s = s3);\n        }\n\n        public bool hasNext()\n        {\n            return act().hasNext();\n        }\n\n        public E next()\n        {\n            return act().next();\n        }\n\n        public void remove()\n        {\n            return i1.remove();\n        }\n    };\n\n    Iterator&lt;E&gt; s1 = new Iterator&lt;E&gt;()\n    {\n        Iterator&lt;E&gt; act()\n        {\n            i1 = x.iterator();\n            return s = s2;\n        }\n\n        public bool hasNext()\n        {\n            return act().hasNext();\n        }\n\n        public E next()\n        {\n            return act().next();\n        }\n\n        public void remove()\n        {\n            return act().remove();\n        }\n    };\n\n    s = s1;\n    return new Iterator&lt;T&gt;()\n    {\n        public bool hasNext()\n        {\n            return s.hasNext();\n        }\n\n        public E next()\n        {\n            return s.next();\n        }\n\n        public void remove()\n        {\n            return s.remove();\n        }\n    };\n}\n\npublic static &lt;T&gt; Iterable&lt;T&gt; concat(Iterable&lt;T&gt; x, Iterable&lt;T&gt; y)\n{\n    return new Iterable&lt;T&gt;()\n    {\n        public Iterator&lt;T&gt; iterator()\n        {\n            return concat_(x, y)\n        }\n    };\n}\n\n// tada!\n</code></pre>\n\n<p>If you all will pardon my 3AM pseudo java...</p>\n"},{"tags":[],"owner":{"account_id":4369055,"reputation":5,"user_id":3563930,"display_name":"Heiner Kuecker"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1398246519,"creation_date":1398246519,"answer_id":23240695,"question_id":2352399,"body_markdown":"use my java library to realize yield return without using threads or byte code manipulation\r\n\r\nhttp://www.heinerkuecker.de/YieldReturnForNested.html","title":"Yield Return In Java","body":"<p>use my java library to realize yield return without using threads or byte code manipulation</p>\n\n<p><a href=\"http://www.heinerkuecker.de/YieldReturnForNested.html\" rel=\"nofollow\">http://www.heinerkuecker.de/YieldReturnForNested.html</a></p>\n"},{"tags":[],"owner":{"account_id":17452338,"reputation":11,"user_id":12652056,"display_name":"sunneo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628275776,"creation_date":1578139200,"answer_id":59590437,"question_id":2352399,"body_markdown":"a yield return operation can be regarded as \r\n\r\n 1. put some checkpoint there \r\n 2. write a value in somewhere\r\n 3. when resume is acquired, jump to instruction next to it.\r\n\r\ntherefore I implement it as a state machine alike class, coroutine.\r\nwithin this mechanism, each instruction has its instruction pointer, index, and\r\ninstruction may has a label along with it, so we can use jmp(label) to jump to the label.\r\n\r\n1. add some mechanism to achieve a goto syntax: addInstruction(..) and jmp()\r\n2. and store status/variable in somewhere: setVariable(name,value), yield(value)\r\n3. a way to temporarily suspend / resume: exec()\r\n\r\nfor example:\r\n```java\r\n    public class FibbonaciCoroutine implements Iterator&lt;BigInteger&gt; {\r\n    \tBigInteger[] bucket = { new BigInteger(&quot;1&quot;), new BigInteger(&quot;1&quot;), new BigInteger(&quot;0&quot;) };\r\n    \tint idx = 2;\r\n    \tCoroutine coroutine = new Coroutine((pthis) -&gt; {\r\n    \r\n    \t\tpthis.addInstruction(&quot;_label1&quot;, (me) -&gt; {\r\n    \t\t\tint p1 = idx - 2;\r\n    \t\t\tint p2 = idx - 1;\r\n    \t\t\tif (p1 &lt; 0)\r\n    \t\t\t\tp1 += 3;\r\n    \t\t\tif (p2 &lt; 0)\r\n    \t\t\t\tp2 += 3;\r\n    \t\t\tbucket[idx] = bucket[p1].add(bucket[p2]);\r\n    \t\t\tidx = (idx + 1) % bucket.length;\r\n    \r\n    \t\t\tme.yield(bucket[idx]);\r\n    \r\n    \t\t});\r\n    \t\t// goto\r\n    \t\tpthis.addInstruction((me) -&gt; {\r\n    \t\t\tme.jmp(&quot;_label1&quot;);\r\n    \t\t});\r\n    \t\tpthis.start();\r\n    \t});\r\n    \r\n    \t@Override\r\n    \tpublic boolean hasNext() {\r\n    \t\treturn !coroutine.isStopped();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic BigInteger next() {\r\n    \t\twhile (coroutine.exec())\r\n    \t\t\t;\r\n    \t\treturn coroutine.getYieldValue();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] argv) {\r\n    \t\tFibbonaciCoroutine cor = new FibbonaciCoroutine();\r\n    \t\tfor (int i = 0; i &lt; 100 &amp;&amp; cor.hasNext(); ++i) {\r\n    \t\t\tSystem.out.printf(&quot;%d &quot;, cor.next());\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n```\r\nsee [FibonacciCoroutine.java](https://github.com/sunneo/utility.java/blob/master/src/com/example/sharp/coroutine/example/FibbonaciCoroutine.java)\r\n\r\n\r\nBack to your question...\r\n```\r\n    LinkedListObject&lt;something&gt; current = first;\r\n    While (current != null){\r\n       yield return current.getValue();\r\n       current = current.getNext()\r\n    }\r\n```\r\nis able to convert to following code\r\n```java\r\n   //some where in class, or use Var&lt;&gt; to wrap it.\r\n   Var&lt;LinkedListObject&lt;something&gt; &gt; current = new Var&lt;&gt;(first);\r\n   Coroutine cor = new Coroutine();\r\n   cor.While((ins)-&gt;current.get() != null).run((ins)-&gt;{\r\n       ins.addInstruction((c)-&gt;c.yield(current.get().getValue()) );\r\n       // wrap it with lambda for being a checkpoint\r\n       ins.addInstruction( (c)-&gt;current.set(current.get().getNext()) );\r\n   });\r\n```\r\n so we can use its getYieldValue() to retrive result, or simply call\r\n coroutine.iterator to convert coroutine into an iterator\r\n  ","title":"Yield Return In Java","body":"<p>a yield return operation can be regarded as</p>\n<ol>\n<li>put some checkpoint there</li>\n<li>write a value in somewhere</li>\n<li>when resume is acquired, jump to instruction next to it.</li>\n</ol>\n<p>therefore I implement it as a state machine alike class, coroutine.\nwithin this mechanism, each instruction has its instruction pointer, index, and\ninstruction may has a label along with it, so we can use jmp(label) to jump to the label.</p>\n<ol>\n<li>add some mechanism to achieve a goto syntax: addInstruction(..) and jmp()</li>\n<li>and store status/variable in somewhere: setVariable(name,value), yield(value)</li>\n<li>a way to temporarily suspend / resume: exec()</li>\n</ol>\n<p>for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class FibbonaciCoroutine implements Iterator&lt;BigInteger&gt; {\n        BigInteger[] bucket = { new BigInteger(&quot;1&quot;), new BigInteger(&quot;1&quot;), new BigInteger(&quot;0&quot;) };\n        int idx = 2;\n        Coroutine coroutine = new Coroutine((pthis) -&gt; {\n    \n            pthis.addInstruction(&quot;_label1&quot;, (me) -&gt; {\n                int p1 = idx - 2;\n                int p2 = idx - 1;\n                if (p1 &lt; 0)\n                    p1 += 3;\n                if (p2 &lt; 0)\n                    p2 += 3;\n                bucket[idx] = bucket[p1].add(bucket[p2]);\n                idx = (idx + 1) % bucket.length;\n    \n                me.yield(bucket[idx]);\n    \n            });\n            // goto\n            pthis.addInstruction((me) -&gt; {\n                me.jmp(&quot;_label1&quot;);\n            });\n            pthis.start();\n        });\n    \n        @Override\n        public boolean hasNext() {\n            return !coroutine.isStopped();\n        }\n    \n        @Override\n        public BigInteger next() {\n            while (coroutine.exec())\n                ;\n            return coroutine.getYieldValue();\n        }\n    \n        public static void main(String[] argv) {\n            FibbonaciCoroutine cor = new FibbonaciCoroutine();\n            for (int i = 0; i &lt; 100 &amp;&amp; cor.hasNext(); ++i) {\n                System.out.printf(&quot;%d &quot;, cor.next());\n            }\n        }\n    \n    }\n</code></pre>\n<p>see <a href=\"https://github.com/sunneo/utility.java/blob/master/src/com/example/sharp/coroutine/example/FibbonaciCoroutine.java\" rel=\"nofollow noreferrer\">FibonacciCoroutine.java</a></p>\n<p>Back to your question...</p>\n<pre><code>    LinkedListObject&lt;something&gt; current = first;\n    While (current != null){\n       yield return current.getValue();\n       current = current.getNext()\n    }\n</code></pre>\n<p>is able to convert to following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>   //some where in class, or use Var&lt;&gt; to wrap it.\n   Var&lt;LinkedListObject&lt;something&gt; &gt; current = new Var&lt;&gt;(first);\n   Coroutine cor = new Coroutine();\n   cor.While((ins)-&gt;current.get() != null).run((ins)-&gt;{\n       ins.addInstruction((c)-&gt;c.yield(current.get().getValue()) );\n       // wrap it with lambda for being a checkpoint\n       ins.addInstruction( (c)-&gt;current.set(current.get().getNext()) );\n   });\n</code></pre>\n<p>so we can use its getYieldValue() to retrive result, or simply call\ncoroutine.iterator to convert coroutine into an iterator</p>\n"},{"tags":[],"owner":{"account_id":1520944,"reputation":1198,"user_id":1420614,"accept_rate":100,"display_name":"tfrascaroli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607464428,"creation_date":1605598386,"answer_id":64870975,"question_id":2352399,"body_markdown":"It&#39;s been ages since this question was posted, and I&#39;m quite unsure about writing an answer to such an old question, but another way of achieving this has occurred to me and I want to present it here in case it helps anyone searching for this, given the fact that this SO thread was one of the very first hits in Google.\r\n\r\nThe code shown below has been compiled in my head. There&#39;s absolutely no guarantee it&#39;s correct, but the idea behind it is.\r\n\r\n**Use callbacks**\r\n\r\nYes, I know, it is not the same as a `yield return`. But I don&#39;t think OP wanted specifically a replacement that could be (with the appropriate amount of sugar) dropped into a `for (var x : &lt;some_iterator&gt;)`. My approach instead does something more akin to C#&#39;s `linq` (or Java&#39;s `stream()`), not the `yield`ed return.\r\n\r\n    @FunctionalInterface\r\n    public interface Looper&lt;T&gt; {\r\n        void each(T item);\r\n    }\r\n    \r\n\r\n\r\n    public interface Loopable&lt;T&gt; {\r\n        void forEach(Looper&lt;? super T&gt; looper);\r\n    }\r\n\r\nThen you would implement `Loopable&lt;T&gt;` in your code, creating this pseudo-iterator. Which is really not, it&#39;s just making use of `@FunctionalInterface`s, which is Java&#39;s way of doing callbacks (_sorta_)\r\n\r\n    public class WhatEvs implements Loopable&lt;WhatEvs&gt; {\r\n        // ...\r\n        @Override\r\n        public void forEach(Looper&lt;? super T&gt; looper) {\r\n            while(your_condition) {\r\n                WhatEvs nextItem = getNextItem();\r\n                looper.each(nextItem);\r\n            }\r\n        }\r\n    }","title":"Yield Return In Java","body":"<p>It's been ages since this question was posted, and I'm quite unsure about writing an answer to such an old question, but another way of achieving this has occurred to me and I want to present it here in case it helps anyone searching for this, given the fact that this SO thread was one of the very first hits in Google.</p>\n<p>The code shown below has been compiled in my head. There's absolutely no guarantee it's correct, but the idea behind it is.</p>\n<p><strong>Use callbacks</strong></p>\n<p>Yes, I know, it is not the same as a <code>yield return</code>. But I don't think OP wanted specifically a replacement that could be (with the appropriate amount of sugar) dropped into a <code>for (var x : &lt;some_iterator&gt;)</code>. My approach instead does something more akin to C#'s <code>linq</code> (or Java's <code>stream()</code>), not the <code>yield</code>ed return.</p>\n<pre><code>@FunctionalInterface\npublic interface Looper&lt;T&gt; {\n    void each(T item);\n}\n\n\n\npublic interface Loopable&lt;T&gt; {\n    void forEach(Looper&lt;? super T&gt; looper);\n}\n</code></pre>\n<p>Then you would implement <code>Loopable&lt;T&gt;</code> in your code, creating this pseudo-iterator. Which is really not, it's just making use of <code>@FunctionalInterface</code>s, which is Java's way of doing callbacks (<em>sorta</em>)</p>\n<pre><code>public class WhatEvs implements Loopable&lt;WhatEvs&gt; {\n    // ...\n    @Override\n    public void forEach(Looper&lt;? super T&gt; looper) {\n        while(your_condition) {\n            WhatEvs nextItem = getNextItem();\n            looper.each(nextItem);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16378317,"reputation":21,"user_id":11829949,"display_name":"In Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656845280,"creation_date":1656461952,"answer_id":72794457,"question_id":2352399,"body_markdown":"I think the best way Java can offer is `Stream.generate()` method. Your case would look like this.\r\n\r\n\r\n    static &lt;something&gt; Stream&lt;something&gt; someMethod() {\r\n            LinkedListObject&lt;something&gt; someObject = ...;\r\n            var current = new AtomicReference&lt;&gt;(someObject);\r\n            Supplier&lt;something&gt; getElement = () -&gt; {\r\n                if (current.get() != null) {\r\n                    var currentObject = current.get();\r\n                    /// ... some code ...\r\n                    current.set(current.get().getNext());\r\n                    return currentObject.getValue();\r\n                }\r\n                \r\n                return null;\r\n            };\r\n    \r\n            return Stream.generate(getElement).takeWhile(Objects::nonNull);\r\n    }\r\n\r\nNote that using `AtomicReference` is neccesary since code within any lambda cannot change values/references in variables declared outside of this lambda. \r\n\r\nConsidering that you wish to stop yielding as soon as you meet `null`, we can write that in a much simplier way.\r\n\r\n    static &lt;something&gt; Stream&lt;something&gt; someMethod() {\r\n            LinkedListObject&lt;something&gt; someObject = ...;\r\n            return Stream.iterate(someObject, something::getNext)\r\n                         .takeWhile(Objects::nonNull)\r\n                         .peek(current -&gt; {/* some code */})\r\n                         .map(something::getValue);\r\n    }\r\n\r\n","title":"Yield Return In Java","body":"<p>I think the best way Java can offer is <code>Stream.generate()</code> method. Your case would look like this.</p>\n<pre><code>static &lt;something&gt; Stream&lt;something&gt; someMethod() {\n        LinkedListObject&lt;something&gt; someObject = ...;\n        var current = new AtomicReference&lt;&gt;(someObject);\n        Supplier&lt;something&gt; getElement = () -&gt; {\n            if (current.get() != null) {\n                var currentObject = current.get();\n                /// ... some code ...\n                current.set(current.get().getNext());\n                return currentObject.getValue();\n            }\n            \n            return null;\n        };\n\n        return Stream.generate(getElement).takeWhile(Objects::nonNull);\n}\n</code></pre>\n<p>Note that using <code>AtomicReference</code> is neccesary since code within any lambda cannot change values/references in variables declared outside of this lambda.</p>\n<p>Considering that you wish to stop yielding as soon as you meet <code>null</code>, we can write that in a much simplier way.</p>\n<pre><code>static &lt;something&gt; Stream&lt;something&gt; someMethod() {\n        LinkedListObject&lt;something&gt; someObject = ...;\n        return Stream.iterate(someObject, something::getNext)\n                     .takeWhile(Objects::nonNull)\n                     .peek(current -&gt; {/* some code */})\n                     .map(something::getValue);\n}\n</code></pre>\n"}],"owner":{"account_id":27197,"reputation":13083,"user_id":71515,"accept_rate":93,"display_name":"Kasper Holdum"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45373,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"answer_count":10,"score":67,"last_activity_date":1656845280,"creation_date":1267386705,"question_id":2352399,"body_markdown":"I&#39;ve created a linked list in java using generics, and now I want to be able to iterate over all the elements in the list. In C# I would use `yield return` inside the linked list while going over the list of elements contained in the list.\r\n\r\nHow would I go about creating a java version of the above where I can iterate over all the items contained in the linked list?\r\n\r\nI&#39;m looking to be able to write code ala\r\n\r\n    LinkedList&lt;something&gt; authors = new LinkedList&lt;something&gt;();\r\n    for (Iterator&lt;something&gt; i = authors.Values ; i.HasNext())\r\n          doSomethingWith(i.Value);\r\n\r\nAnd was thinking that the Value &#39;property&#39;/method would consist of code resembling\r\n\r\n    LinkedListObject&lt;something&gt; current = first;\r\n    While (current != null){\r\n     yield return current.getValue();\r\n     current = current.getNext()\r\n    }\r\n\r\nEdit: Notice that I&#39;m not interested in using any 3rd party APIs. Built-in java functionality only.","title":"Yield Return In Java","body":"<p>I've created a linked list in java using generics, and now I want to be able to iterate over all the elements in the list. In C# I would use <code>yield return</code> inside the linked list while going over the list of elements contained in the list.</p>\n\n<p>How would I go about creating a java version of the above where I can iterate over all the items contained in the linked list?</p>\n\n<p>I'm looking to be able to write code ala</p>\n\n<pre><code>LinkedList&lt;something&gt; authors = new LinkedList&lt;something&gt;();\nfor (Iterator&lt;something&gt; i = authors.Values ; i.HasNext())\n      doSomethingWith(i.Value);\n</code></pre>\n\n<p>And was thinking that the Value 'property'/method would consist of code resembling</p>\n\n<pre><code>LinkedListObject&lt;something&gt; current = first;\nWhile (current != null){\n yield return current.getValue();\n current = current.getNext()\n}\n</code></pre>\n\n<p>Edit: Notice that I'm not interested in using any 3rd party APIs. Built-in java functionality only.</p>\n"},{"tags":["java","spring","spring-boot","junit"],"comments":[{"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"score":0,"creation_date":1656843291,"post_id":72844612,"comment_id":128665870,"body_markdown":"What is the version of spring-boot? Can you check if `TestRestTemplate` explicitly configured with rootUri somewhere in your project? Is port 8080 explicitly configured somewhere in  your project? If yes, can you share that configuration?","body":"What is the version of spring-boot? Can you check if <code>TestRestTemplate</code> explicitly configured with rootUri somewhere in your project? Is port 8080 explicitly configured somewhere in  your project? If yes, can you share that configuration?"},{"owner":{"account_id":1502034,"reputation":358,"user_id":1406372,"accept_rate":75,"display_name":"Gilberto T."},"score":0,"creation_date":1656843556,"post_id":72844612,"comment_id":128665902,"body_markdown":"Spring Boot version is `2.7.1` (added to the question) and I did not configured `TestRestTemplate` in other parts of the projects.\n\nRegarding the port number, I didn&#39;t configured it and `application.yaml` is empty at the moment.","body":"Spring Boot version is <code>2.7.1</code> (added to the question) and I did not configured <code>TestRestTemplate</code> in other parts of the projects.  Regarding the port number, I didn&#39;t configured it and <code>application.yaml</code> is empty at the moment."},{"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"score":0,"creation_date":1656844238,"post_id":72844612,"comment_id":128665998,"body_markdown":"Is it possible for you to share minimum reproducible example? With same spring-boot version and no other configurations, it&#39;s launching tomcat on random port for me","body":"Is it possible for you to share minimum reproducible example? With same spring-boot version and no other configurations, it&#39;s launching tomcat on random port for me"},{"owner":{"account_id":1502034,"reputation":358,"user_id":1406372,"accept_rate":75,"display_name":"Gilberto T."},"score":0,"creation_date":1656844898,"post_id":72844612,"comment_id":128666101,"body_markdown":"@ShivajiPote I&#39;ve added to my post details on the controller and Gradle build file open that it may help.","body":"@ShivajiPote I&#39;ve added to my post details on the controller and Gradle build file open that it may help."},{"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"score":1,"creation_date":1656845499,"post_id":72844612,"comment_id":128666226,"body_markdown":"What I meant is push your changes to some public (like GitHub) repository where we could reproduce problem and try to fix it. BTW how do you know it&#39;s launching server on 8080? Is it logged somewhere? like this `2022-07-03 12:48:19.721  INFO 8135 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 54799 (http) with context path &#39;&#39;`","body":"What I meant is push your changes to some public (like GitHub) repository where we could reproduce problem and try to fix it. BTW how do you know it&#39;s launching server on 8080? Is it logged somewhere? like this <code>2022-07-03 12:48:19.721  INFO 8135 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 54799 (http) with context path &#39;&#39;</code>"},{"owner":{"account_id":1502034,"reputation":358,"user_id":1406372,"accept_rate":75,"display_name":"Gilberto T."},"score":0,"creation_date":1656850362,"post_id":72844612,"comment_id":128667207,"body_markdown":"@ShivajiPote You&#39;ve right. I don&#39;t know for what reason the service didn&#39;t start, so I assume that `@Autowired` worked for a short time. I moved to previous commit and started to introduce the test again an now it works.","body":"@ShivajiPote You&#39;ve right. I don&#39;t know for what reason the service didn&#39;t start, so I assume that <code>@Autowired</code> worked for a short time. I moved to previous commit and started to introduce the test again an now it works."}],"answers":[{"tags":[],"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656840039,"creation_date":1656835582,"answer_id":72844861,"question_id":72844612,"body_markdown":"I propose you to use `org.springframework.test.web.servlet.MockMvc` for testing your endpoints. You can read [this](https://stackoverflow.com/a/35603473/11121568) to see why you should use `MockMvc`.\r\n\r\n&gt; MockMvc provides support for Spring MVC testing. It encapsulates all web application beans and makes them available for testing.\r\n\r\nYou can perform your test this way:\r\n\r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureMockMvc\r\npublic class ApiDocumentationControllerIntegrationTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void getOpenApiDocumentationShouldReturnOk() {\r\n        // Act\r\n        ResultActions response = mockMvc.perform(//\r\n                get(&quot;/api-docs&quot;));\r\n\r\n        // Assert\r\n        response.andDo(print()).//\r\n                andExpect(status().isOk())//\r\n    }\r\n}\r\n```\r\n\r\nRead more about testing with `MockMvc` [here](https://www.baeldung.com/spring-boot-testing) and [here](https://howtodoinjava.com/spring-boot2/testing/spring-boot-mockmvc-example/).\r\n\r\n**UPDATE**\r\n\r\nThere is another approach to initiate the `MockMvc` instance in your test class:\r\n\r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic class ApiDocumentationControllerIntegrationTest {\r\n\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n    private MockMvc mockMvc;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n    }\r\n\r\n}\r\n```","title":"Endpoint testing with Spring Boot and JUnit 5","body":"<p>I propose you to use <code>org.springframework.test.web.servlet.MockMvc</code> for testing your endpoints. You can read <a href=\"https://stackoverflow.com/a/35603473/11121568\">this</a> to see why you should use <code>MockMvc</code>.</p>\n<blockquote>\n<p>MockMvc provides support for Spring MVC testing. It encapsulates all web application beans and makes them available for testing.</p>\n</blockquote>\n<p>You can perform your test this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc\npublic class ApiDocumentationControllerIntegrationTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void getOpenApiDocumentationShouldReturnOk() {\n        // Act\n        ResultActions response = mockMvc.perform(//\n                get(&quot;/api-docs&quot;));\n\n        // Assert\n        response.andDo(print()).//\n                andExpect(status().isOk())//\n    }\n}\n</code></pre>\n<p>Read more about testing with <code>MockMvc</code> <a href=\"https://www.baeldung.com/spring-boot-testing\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://howtodoinjava.com/spring-boot2/testing/spring-boot-mockmvc-example/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>UPDATE</strong></p>\n<p>There is another approach to initiate the <code>MockMvc</code> instance in your test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class ApiDocumentationControllerIntegrationTest {\n\n    @Autowired\n    private WebApplicationContext webApplicationContext;\n    private MockMvc mockMvc;\n\n    @Before\n    public void setUp() {\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1502034,"reputation":358,"user_id":1406372,"accept_rate":75,"display_name":"Gilberto T."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1077,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656844850,"creation_date":1656832714,"question_id":72844612,"body_markdown":"Feeling very stupid, but I&#39;m not able to test an endpoint in Spring Boot (version `2.7.1`) with JUnit 5.\r\n\r\nBriefly, I want to test the real endpoint response, so I&#39;ve created a test class like explained in [Testing the Web Layer](https://spring.io/guides/gs/testing-web/). Herein the code:\r\n\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.test.web.client.TestRestTemplate;\r\nimport org.springframework.http.HttpStatus;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic class ApiDocumentationControllerIntegrationTest {\r\n\r\n  @Autowired\r\n  private TestRestTemplate restTemplate;\r\n\r\n  @Test\r\n  public void getOpenApiDocumentationShouldReturnOk() {\r\n    assertThat(restTemplate.getForEntity(&quot;/api-docs&quot;, String.class).getStatusCode())\r\n      .isEqualTo(HttpStatus.OK);\r\n  }\r\n}\r\n```\r\n\r\nBut when I run the test, `TestRestTemplate` calls `http://localhost:8080/api-docs` ignoring the fact that server should be listen to a random port.\r\n\r\nWhat am I missing? As other examples suggest, I&#39;ve tried to add:\r\n\r\n```java\r\n  @LocalServerPort\r\n  private int randomServerPort;\r\n```\r\n\r\nBut in this case I have an exception during the launch of the test:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Could not resolve placeholder &#39;local.server.port&#39; in value &quot;${local.server.port}&quot;\r\n```\r\n\r\nI&#39;ve tried to set `0` as port ‚Äîthat should be considered a random port by the framework‚Äî with no success. Spring complains it cannot listen `localhost:0`.\r\n\r\nService configuration is empty (AKA `application.yaml` is empty and I didn&#39;t set params in other ways), so all the configuration values are the default ones by Spring Boot.\r\n\r\nProbably it is a problem for dummies but since yesterday I&#39;m looking for a solution but I didn&#39;t find it.\r\n\r\n## More details\r\n\r\n### Controller\r\n\r\n```java\r\n@Slf4j\r\n@Controller\r\npublic class ApiDocumentationController {\r\n\r\n  private final Resource resourceFile;\r\n  private final ObjectMapper yamlReader;\r\n  private final ObjectMapper jsonWriter;\r\n\r\n  public ApiDocumentationController(@Value(&quot;classpath:openapi/api-documentation.yaml&quot;) Resource resourceFile,\r\n                                    @Qualifier(&quot;yamlReader&quot;) ObjectMapper yamlReader,\r\n                                    ObjectMapper objectMapper) {\r\n    this.resourceFile = resourceFile;\r\n    this.yamlReader = yamlReader;\r\n    this.jsonWriter = objectMapper;\r\n  }\r\n\r\n  @GetMapping(value = &quot;/api-docs&quot;, produces = {MediaType.APPLICATION_JSON_VALUE})\r\n  public ResponseEntity&lt;String&gt; getOpenApiDocumentation() {\r\n    return Try.of(() -&gt; yamlReader.readValue(resourceFile.getInputStream(), Object.class))\r\n      .mapTry(jsonWriter::writeValueAsString)\r\n      .map(apiDocumentation -&gt; ResponseEntity.status(HttpStatus.OK).body(apiDocumentation))\r\n      .get();  // FIXME This forced Try::get is ugly\r\n  }\r\n}\r\n```\r\n\r\n### Launcher\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class AirportTravellersInsightsServiceApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(AirportTravellersInsightsServiceApplication.class, args);\r\n  }\r\n```\r\n\r\n### Gradle build\r\n\r\n*(This is an excerpt of `build.gradle`.)*\r\n\r\nTest mentioned above is in `integrationTest` source set.\r\n\r\n```\r\nplugins {\r\n  id &#39;org.springframework.boot&#39; version &#39;2.7.1&#39;\r\n  id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n  id &#39;java&#39;\r\n  id &#39;jacoco&#39;\r\n  id &#39;checkstyle&#39;\r\n  id &#39;idea&#39;\r\n}\r\n\r\ngroup = &#39;example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n  mavenCentral()\r\n}\r\n\r\next.versions = [\r\n  checkstyleVersion: &quot;8.39&quot;,\r\n  vavrVersion:       &quot;0.10.4&quot;\r\n]\r\n\r\ndependencies {\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n  implementation &#39;org.projectlombok:lombok&#39;\r\n  annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n  implementation &quot;io.vavr:vavr:${versions.vavrVersion}&quot;\r\n  implementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml&#39;\r\n  // TEST\r\n  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n  testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n  testImplementation &#39;org.junit.jupiter:junit-jupiter-api&#39;\r\n  testRuntimeOnly &quot;org.junit.jupiter:junit-jupiter-engine&quot;\r\n  testAnnotationProcessor &#39;org.projectlombok:lombok&#39;\r\n}\r\n\r\nsourceSets {\r\n  integrationTest {\r\n    compileClasspath += sourceSets.main.output\r\n    compileClasspath += sourceSets.test.output\r\n    runtimeClasspath += sourceSets.main.output\r\n    runtimeClasspath += sourceSets.test.output\r\n  }\r\n}\r\n\r\nconfigurations {\r\n  compileOnly {\r\n    extendsFrom annotationProcessor\r\n  }\r\n  integrationTestImplementation.extendsFrom testImplementation\r\n  integrationTestRuntimeOnly.extendsFrom runtimeOnly\r\n  implementation {\r\n    exclude module: &#39;spring-boot-starter-tomcat&#39;\r\n  }\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n  useJUnitPlatform()\r\n}\r\n\r\ntask integrationTest(type: Test, description: &#39;Runs integration tests.&#39;, group: LifecycleBasePlugin.VERIFICATION_GROUP) {\r\n  useJUnitPlatform()\r\n  testClassesDirs = sourceSets.integrationTest.output.classesDirs\r\n  classpath = sourceSets.integrationTest.runtimeClasspath\r\n  shouldRunAfter test\r\n}\r\ncheck.dependsOn integrationTest\r\n\r\n```","title":"Endpoint testing with Spring Boot and JUnit 5","body":"<p>Feeling very stupid, but I'm not able to test an endpoint in Spring Boot (version <code>2.7.1</code>) with JUnit 5.</p>\n<p>Briefly, I want to test the real endpoint response, so I've created a test class like explained in <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">Testing the Web Layer</a>. Herein the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.web.client.TestRestTemplate;\nimport org.springframework.http.HttpStatus;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class ApiDocumentationControllerIntegrationTest {\n\n  @Autowired\n  private TestRestTemplate restTemplate;\n\n  @Test\n  public void getOpenApiDocumentationShouldReturnOk() {\n    assertThat(restTemplate.getForEntity(&quot;/api-docs&quot;, String.class).getStatusCode())\n      .isEqualTo(HttpStatus.OK);\n  }\n}\n</code></pre>\n<p>But when I run the test, <code>TestRestTemplate</code> calls <code>http://localhost:8080/api-docs</code> ignoring the fact that server should be listen to a random port.</p>\n<p>What am I missing? As other examples suggest, I've tried to add:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @LocalServerPort\n  private int randomServerPort;\n</code></pre>\n<p>But in this case I have an exception during the launch of the test:</p>\n<pre><code>java.lang.IllegalArgumentException: Could not resolve placeholder 'local.server.port' in value &quot;${local.server.port}&quot;\n</code></pre>\n<p>I've tried to set <code>0</code> as port ‚Äîthat should be considered a random port by the framework‚Äî with no success. Spring complains it cannot listen <code>localhost:0</code>.</p>\n<p>Service configuration is empty (AKA <code>application.yaml</code> is empty and I didn't set params in other ways), so all the configuration values are the default ones by Spring Boot.</p>\n<p>Probably it is a problem for dummies but since yesterday I'm looking for a solution but I didn't find it.</p>\n<h2>More details</h2>\n<h3>Controller</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Controller\npublic class ApiDocumentationController {\n\n  private final Resource resourceFile;\n  private final ObjectMapper yamlReader;\n  private final ObjectMapper jsonWriter;\n\n  public ApiDocumentationController(@Value(&quot;classpath:openapi/api-documentation.yaml&quot;) Resource resourceFile,\n                                    @Qualifier(&quot;yamlReader&quot;) ObjectMapper yamlReader,\n                                    ObjectMapper objectMapper) {\n    this.resourceFile = resourceFile;\n    this.yamlReader = yamlReader;\n    this.jsonWriter = objectMapper;\n  }\n\n  @GetMapping(value = &quot;/api-docs&quot;, produces = {MediaType.APPLICATION_JSON_VALUE})\n  public ResponseEntity&lt;String&gt; getOpenApiDocumentation() {\n    return Try.of(() -&gt; yamlReader.readValue(resourceFile.getInputStream(), Object.class))\n      .mapTry(jsonWriter::writeValueAsString)\n      .map(apiDocumentation -&gt; ResponseEntity.status(HttpStatus.OK).body(apiDocumentation))\n      .get();  // FIXME This forced Try::get is ugly\n  }\n}\n</code></pre>\n<h3>Launcher</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class AirportTravellersInsightsServiceApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(AirportTravellersInsightsServiceApplication.class, args);\n  }\n</code></pre>\n<h3>Gradle build</h3>\n<p><em>(This is an excerpt of <code>build.gradle</code>.)</em></p>\n<p>Test mentioned above is in <code>integrationTest</code> source set.</p>\n<pre><code>plugins {\n  id 'org.springframework.boot' version '2.7.1'\n  id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n  id 'java'\n  id 'jacoco'\n  id 'checkstyle'\n  id 'idea'\n}\n\ngroup = 'example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n  mavenCentral()\n}\n\next.versions = [\n  checkstyleVersion: &quot;8.39&quot;,\n  vavrVersion:       &quot;0.10.4&quot;\n]\n\ndependencies {\n  implementation 'org.springframework.boot:spring-boot-starter-web'\n  implementation 'org.projectlombok:lombok'\n  annotationProcessor 'org.projectlombok:lombok'\n  implementation &quot;io.vavr:vavr:${versions.vavrVersion}&quot;\n  implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-yaml'\n  // TEST\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n  testImplementation 'org.springframework.security:spring-security-test'\n  testImplementation 'org.junit.jupiter:junit-jupiter-api'\n  testRuntimeOnly &quot;org.junit.jupiter:junit-jupiter-engine&quot;\n  testAnnotationProcessor 'org.projectlombok:lombok'\n}\n\nsourceSets {\n  integrationTest {\n    compileClasspath += sourceSets.main.output\n    compileClasspath += sourceSets.test.output\n    runtimeClasspath += sourceSets.main.output\n    runtimeClasspath += sourceSets.test.output\n  }\n}\n\nconfigurations {\n  compileOnly {\n    extendsFrom annotationProcessor\n  }\n  integrationTestImplementation.extendsFrom testImplementation\n  integrationTestRuntimeOnly.extendsFrom runtimeOnly\n  implementation {\n    exclude module: 'spring-boot-starter-tomcat'\n  }\n}\n\ntasks.named('test') {\n  useJUnitPlatform()\n}\n\ntask integrationTest(type: Test, description: 'Runs integration tests.', group: LifecycleBasePlugin.VERIFICATION_GROUP) {\n  useJUnitPlatform()\n  testClassesDirs = sourceSets.integrationTest.output.classesDirs\n  classpath = sourceSets.integrationTest.runtimeClasspath\n  shouldRunAfter test\n}\ncheck.dependsOn integrationTest\n\n</code></pre>\n"},{"tags":["java","eclipse","powershell"],"answers":[{"tags":[],"owner":{"account_id":13869174,"reputation":166,"user_id":10012914,"display_name":"Zeus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634419664,"creation_date":1632698301,"answer_id":69339696,"question_id":69339670,"body_markdown":"To open terminal you first use Ctrl + alt +t. After the terminal is open enter command powershell. This will open ‚Äúpowershell‚Äù terminal.","title":"Open PowerShell terminal in Eclipse","body":"<p>To open terminal you first use Ctrl + alt +t. After the terminal is open enter command powershell. This will open ‚Äúpowershell‚Äù terminal.</p>\n"},{"tags":[],"owner":{"account_id":2222612,"reputation":922,"user_id":1961655,"accept_rate":36,"display_name":"Asaf Magen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656844802,"creation_date":1656844802,"answer_id":72845794,"question_id":69339670,"body_markdown":"Adding PowerShell to eclipse terminal selection:\r\n\r\nGo to Windows -&gt; Preferences. search for terminal\r\nunder local terminal click add and select PowerShell exec from your system.\r\n[![enter image description here][1]][1]\r\n\r\nTo view the terminal view go to Window -&gt; show view -&gt; other -&gt; terminal\r\n[![enter image description here][2]][2]\r\n\r\nby clicking one or buttons you can either open a new terminal window or switch to any terminal for the dropdown terminals selection.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lBJDh.png\r\n  [2]: https://i.stack.imgur.com/7pxZq.png\r\n  [3]: https://i.stack.imgur.com/Ys79S.png","title":"Open PowerShell terminal in Eclipse","body":"<p>Adding PowerShell to eclipse terminal selection:</p>\n<p>Go to Windows -&gt; Preferences. search for terminal\nunder local terminal click add and select PowerShell exec from your system.\n<a href=\"https://i.stack.imgur.com/lBJDh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lBJDh.png\" alt=\"enter image description here\" /></a></p>\n<p>To view the terminal view go to Window -&gt; show view -&gt; other -&gt; terminal\n<a href=\"https://i.stack.imgur.com/7pxZq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7pxZq.png\" alt=\"enter image description here\" /></a></p>\n<p>by clicking one or buttons you can either open a new terminal window or switch to any terminal for the dropdown terminals selection.</p>\n<p><a href=\"https://i.stack.imgur.com/Ys79S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ys79S.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13869174,"reputation":166,"user_id":10012914,"display_name":"Zeus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656844802,"creation_date":1632697928,"question_id":69339670,"body_markdown":"In Eclipse I need to run awsokta that is setup using PowerShell terminal. Is there a way to open PowerShell terminal in Eclipse?","title":"Open PowerShell terminal in Eclipse","body":"<p>In Eclipse I need to run awsokta that is setup using PowerShell terminal. Is there a way to open PowerShell terminal in Eclipse?</p>\n"},{"tags":["java","string","integer","switch-statement"],"answers":[{"tags":[],"owner":{"account_id":11008048,"reputation":584,"user_id":8086401,"display_name":"Muraino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656754834,"creation_date":1656754437,"answer_id":72838000,"question_id":72837936,"body_markdown":"Well this approach is not possible, it has to be same data type\r\nBut you can to this\r\n\r\nTry to convert the int to string then you will be fine.\r\n\r\n    int list;\r\n\r\n      switch(list.toString()){\r\n        case &quot;1&quot;: ...code...\r\n             break;\r\n        case &quot;2&quot;: ...code...\r\n             break;\r\n        case &quot;XY&quot;: ...code...\r\n             break;\r\n        default: ....code...\r\n              break;\r\n      }\r\n\r\n","title":"Is it possible to use Integers and Strings as cases in a switch case?","body":"<p>Well this approach is not possible, it has to be same data type\nBut you can to this</p>\n<p>Try to convert the int to string then you will be fine.</p>\n<pre><code>int list;\n\n  switch(list.toString()){\n    case &quot;1&quot;: ...code...\n         break;\n    case &quot;2&quot;: ...code...\n         break;\n    case &quot;XY&quot;: ...code...\n         break;\n    default: ....code...\n          break;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656764162,"creation_date":1656754793,"answer_id":72838043,"question_id":72837936,"body_markdown":"I think, it will work. \r\n\r\nIt depends on your jdk, because the switch statement has been &quot;tuned&quot; a few times. If you can &quot;compare&quot; a String in a switch statement, then this will work and the stage is yours. \r\n\r\nI looked it up, you need at least jdk7.  https://docs.oracle.com/javase/8/docs/technotes/guides/language/strings-switch.html\r\n\r\nConvert the ints to String like this:\r\n\r\n    int x = 5; \r\n    String intString = x + &quot;&quot; ;  //string concatenation or StringBuilder, your choice\r\n\r\n    \r\n      switch(intString){\r\n        case &quot;1&quot;: ...code...\r\n             break;\r\n        case &quot;2&quot;: ...code...\r\n             break;\r\n        case &quot;XY&quot;: ...code...\r\n             break;\r\n        default: ....code...\r\n              break;\r\n      }\r\n\r\nSorry for the many edits, I just hate my smartphone. ","title":"Is it possible to use Integers and Strings as cases in a switch case?","body":"<p>I think, it will work.</p>\n<p>It depends on your jdk, because the switch statement has been &quot;tuned&quot; a few times. If you can &quot;compare&quot; a String in a switch statement, then this will work and the stage is yours.</p>\n<p>I looked it up, you need at least jdk7.  <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/strings-switch.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/language/strings-switch.html</a></p>\n<p>Convert the ints to String like this:</p>\n<pre><code>int x = 5; \nString intString = x + &quot;&quot; ;  //string concatenation or StringBuilder, your choice\n\n\n  switch(intString){\n    case &quot;1&quot;: ...code...\n         break;\n    case &quot;2&quot;: ...code...\n         break;\n    case &quot;XY&quot;: ...code...\n         break;\n    default: ....code...\n          break;\n  }\n</code></pre>\n<p>Sorry for the many edits, I just hate my smartphone.</p>\n"},{"tags":[],"owner":{"account_id":8523595,"reputation":13,"user_id":6389643,"display_name":"moslem Khanbeiki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656755581,"creation_date":1656755581,"answer_id":72838119,"question_id":72837936,"body_markdown":"You can use enum.\r\n\r\nPay attention to the following code example:\r\n\r\n    public enum MethodClick {\r\n        Error,\r\n        OnClick,\r\n        OnDelete\r\n    }\r\n\r\n      MethodClick methodClick;\r\n        switch (methodClick){\r\n            case Error:\r\n                break;\r\n            case OnClick:\r\n                break;\r\n            case OnDelete:\r\n        }\r\n","title":"Is it possible to use Integers and Strings as cases in a switch case?","body":"<p>You can use enum.</p>\n<p>Pay attention to the following code example:</p>\n<pre><code>public enum MethodClick {\n    Error,\n    OnClick,\n    OnDelete\n}\n\n  MethodClick methodClick;\n    switch (methodClick){\n        case Error:\n            break;\n        case OnClick:\n            break;\n        case OnDelete:\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656755925,"creation_date":1656755925,"answer_id":72838163,"question_id":72837936,"body_markdown":"What you are looking for is called pattern matching for switch statements. This is a feature that has been offered with Java 17 as you can see [here][1]. However, this feature is still in preview. With that in mind you could modify your code to look like so, and then enable preview features in order to make it work. An example would be:\r\n\r\n```java\r\npublic static void main(String... args) {\r\n  var list = new ArrayList&lt;&gt;();\r\n  list.add(1);\r\n  list.add(2);\r\n  list.add(&quot;test&quot;);\r\n  for (var element : list) {\r\n     var result = switch (element) {\r\n\t case Integer i -&gt; i * 2;\r\n\t case String s -&gt; String.format(&quot;This is a formatted string %s&quot;, s);\r\n\t default -&gt; element;\r\n     };\r\n     System.out.println(result);\r\n  }\r\n}\r\n```\r\n\r\nAnd then enabled preview features when compiling.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/406","title":"Is it possible to use Integers and Strings as cases in a switch case?","body":"<p>What you are looking for is called pattern matching for switch statements. This is a feature that has been offered with Java 17 as you can see <a href=\"https://openjdk.org/jeps/406\" rel=\"nofollow noreferrer\">here</a>. However, this feature is still in preview. With that in mind you could modify your code to look like so, and then enable preview features in order to make it work. An example would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n  var list = new ArrayList&lt;&gt;();\n  list.add(1);\n  list.add(2);\n  list.add(&quot;test&quot;);\n  for (var element : list) {\n     var result = switch (element) {\n     case Integer i -&gt; i * 2;\n     case String s -&gt; String.format(&quot;This is a formatted string %s&quot;, s);\n     default -&gt; element;\n     };\n     System.out.println(result);\n  }\n}\n</code></pre>\n<p>And then enabled preview features when compiling.</p>\n"},{"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656843682,"creation_date":1656758163,"answer_id":72838381,"question_id":72837936,"body_markdown":"A way to do this that should work even on older versions of Java and doesn&#39;t require the use of preview features from the latest versions is to combine the use of `instanceof` and `switch`:\r\n\r\n```Java\r\n\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\n\r\nclass Ideone\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tList list = new ArrayList&lt;&gt;();\r\n\t\tlist.add(1);\r\n\t\tlist.add(2);\r\n\t\tlist.add(&quot;XY&quot;);\r\n\t\tlist.add(3);\r\n\t\tlist.add(&quot;test&quot;);\r\n\t\tfor (var element : list) {\r\n\t\t\tif (element instanceof Integer) {\r\n\t\t\t\tInteger element2 = (Integer) element;\r\n\t\t\t\tswitch (element2) {\r\n\t\t\t\t\tcase 1: System.out.println(1); break;\r\n\t\t\t\t\tcase 2: System.out.println(2); break;\r\n\t\t\t\t\tdefault: System.out.println(&quot;Not 1 or 2&quot;); \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (element instanceof String) {\r\n\t\t\t\tString element3 = (String) element;\r\n\t\t\t\tswitch (element3) {\r\n\t\t\t\t\tcase &quot;XY&quot;: System.out.println(&quot;XY&quot;); break;\r\n\t\t\t\t\tdefault: System.out.println(&quot;NOT XY&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\t\r\n}\r\n```\r\n**Output:**\r\n\r\n*1*\r\n\r\n*2*\r\n\r\n*XY*\r\n\r\n*Not 1 or 2*\r\n\r\n*NOT XY*","title":"Is it possible to use Integers and Strings as cases in a switch case?","body":"<p>A way to do this that should work even on older versions of Java and doesn't require the use of preview features from the latest versions is to combine the use of <code>instanceof</code> and <code>switch</code>:</p>\n<pre><code>\nimport java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\nclass Ideone\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        List list = new ArrayList&lt;&gt;();\n        list.add(1);\n        list.add(2);\n        list.add(&quot;XY&quot;);\n        list.add(3);\n        list.add(&quot;test&quot;);\n        for (var element : list) {\n            if (element instanceof Integer) {\n                Integer element2 = (Integer) element;\n                switch (element2) {\n                    case 1: System.out.println(1); break;\n                    case 2: System.out.println(2); break;\n                    default: System.out.println(&quot;Not 1 or 2&quot;); \n                }\n            }\n            if (element instanceof String) {\n                String element3 = (String) element;\n                switch (element3) {\n                    case &quot;XY&quot;: System.out.println(&quot;XY&quot;); break;\n                    default: System.out.println(&quot;NOT XY&quot;);\n                }\n            }\n        }\n    }   \n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<p><em>1</em></p>\n<p><em>2</em></p>\n<p><em>XY</em></p>\n<p><em>Not 1 or 2</em></p>\n<p><em>NOT XY</em></p>\n"}],"owner":{"account_id":20045822,"reputation":45,"user_id":14695508,"display_name":"NobleRuckus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1033,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72838381,"answer_count":5,"score":1,"last_activity_date":1656843682,"creation_date":1656753819,"question_id":72837936,"body_markdown":"I&#39;ve done some looking around and haven&#39;t really found much direct info on this so I&#39;d like to just ask it directly.\r\n\r\nIs it possible to use integers and strings in a switch case? I know the switch is of one type (int, string, etc), but is there a way around it? For example:\r\n\r\n```\r\nint list;\r\n\r\nswitch(list)\r\n{\r\n     case 1: ...code...\r\n             break;\r\n     case 2: ...code...\r\n             break;\r\n     case XY: ...code...\r\n             break;\r\n}\r\n```\r\n\r\nI know this would throw an error of mismatched data. But is it possible to work around the error? Would something like Integer.toString() work to convert the int to a string? Just want to get some thoughts and information on the subject.\r\n\r\n","title":"Is it possible to use Integers and Strings as cases in a switch case?","body":"<p>I've done some looking around and haven't really found much direct info on this so I'd like to just ask it directly.</p>\n<p>Is it possible to use integers and strings in a switch case? I know the switch is of one type (int, string, etc), but is there a way around it? For example:</p>\n<pre><code>int list;\n\nswitch(list)\n{\n     case 1: ...code...\n             break;\n     case 2: ...code...\n             break;\n     case XY: ...code...\n             break;\n}\n</code></pre>\n<p>I know this would throw an error of mismatched data. But is it possible to work around the error? Would something like Integer.toString() work to convert the int to a string? Just want to get some thoughts and information on the subject.</p>\n"},{"tags":["java","dom4j"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656843281,"creation_date":1656843281,"answer_id":72845639,"question_id":44281111,"body_markdown":"You may have one of 2 issues here:\r\n\r\n 1. you wrote your data correctly but the editor that displays the data can not display those symbols\r\n 2. The data is lost\r\n\r\nSo you need to find out which one. When I dealt with similar issues I used this tool that I wrote myself and published it as an Open source library. The utility allows you to convert symbols into Unicode sequences  and vise-versa. Here is a small example:\r\n\r\n    String testStr1 = &quot;‰∏≠Êñá&quot;;\r\n    String encoded1 = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(testStr1);\r\n    String restored = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(encoded1);\r\n    System.out.println(testStr1 + &quot;\\n&quot; +encoded1 + &quot;\\n&quot; + restored);\r\nThe output of this code is:\r\n\r\n    ‰∏≠Êñá\r\n    \\u4e2d\\u6587\r\n    ‰∏≠Êñá\r\n\r\nSo here is what I would do: copy-paste your question marks from your xml and encode them into unicode sequences. If you see any codes similar to the ones above than your issue is a display issue and the content is correct. If you see something like `\\u003f\\u003f\\u003f\\u003f` (code \\u003f is for &#39;?&#39;) than you lost your info. There are different ways to deal with your problem but one quick workaround would be to use my utility and convert all the Chinese Strings into unicode sequences and than change the format from `\\u4e2d\\u6587` to `U+4e2d U+6587` (See [Unicode in XML and other Markup Languages][1]). The last conversion you will have to write on your own. So to summarize: you can use my utility for diagnosing the problem and then if you wish also for fixing the problem as well. The open-source library (written and maintained by me) is called MgntUtils and you can get it as Maven artifact [here][2] or on Github with source code and Javadoc included [here][3]. And here is a Javadoc for [StringUnicodeEncoderDecoder][4] class\r\n\r\n\r\n  [1]: https://www.w3.org/TR/unicode-xml/#:~:text=Characters%20are%20denoted%20using%20the,%22%F4%8F%BF%BD%22.\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases\r\n  [4]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html","title":"How to create XML string using dom4j with a title consisting of Chinese characters using GBK encoding?","body":"<p>You may have one of 2 issues here:</p>\n<ol>\n<li>you wrote your data correctly but the editor that displays the data can not display those symbols</li>\n<li>The data is lost</li>\n</ol>\n<p>So you need to find out which one. When I dealt with similar issues I used this tool that I wrote myself and published it as an Open source library. The utility allows you to convert symbols into Unicode sequences  and vise-versa. Here is a small example:</p>\n<pre><code>String testStr1 = &quot;‰∏≠Êñá&quot;;\nString encoded1 = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(testStr1);\nString restored = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(encoded1);\nSystem.out.println(testStr1 + &quot;\\n&quot; +encoded1 + &quot;\\n&quot; + restored);\n</code></pre>\n<p>The output of this code is:</p>\n<pre><code>‰∏≠Êñá\n\\u4e2d\\u6587\n‰∏≠Êñá\n</code></pre>\n<p>So here is what I would do: copy-paste your question marks from your xml and encode them into unicode sequences. If you see any codes similar to the ones above than your issue is a display issue and the content is correct. If you see something like <code>\\u003f\\u003f\\u003f\\u003f</code> (code \\u003f is for '?') than you lost your info. There are different ways to deal with your problem but one quick workaround would be to use my utility and convert all the Chinese Strings into unicode sequences and than change the format from <code>\\u4e2d\\u6587</code> to <code>U+4e2d U+6587</code> (See <a href=\"https://www.w3.org/TR/unicode-xml/#:%7E:text=Characters%20are%20denoted%20using%20the,%22%F4%8F%BF%BD%22.\" rel=\"nofollow noreferrer\">Unicode in XML and other Markup Languages</a>). The last conversion you will have to write on your own. So to summarize: you can use my utility for diagnosing the problem and then if you wish also for fixing the problem as well. The open-source library (written and maintained by me) is called MgntUtils and you can get it as Maven artifact <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a> or on Github with source code and Javadoc included <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">here</a>. And here is a Javadoc for <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html\" rel=\"nofollow noreferrer\">StringUnicodeEncoderDecoder</a> class</p>\n"}],"owner":{"account_id":1914717,"reputation":1379,"user_id":1727525,"accept_rate":57,"display_name":"Tangoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656843281,"creation_date":1496223468,"question_id":44281111,"body_markdown":"I am going to generate XML string using `dom4j`, quite simple, shown below:\r\n\r\n    Document document = DocumentHelper.createDocument();\r\n\r\n\tdocument.setXMLEncoding(&quot;GBK&quot;);\r\n\r\n\tElement rss = document.addElement(&quot;rss&quot;);\r\n\trss.addAttribute(&quot;version&quot;, &quot;2.0&quot;);\r\n\tElement channel = rss.addElement(&quot;channel&quot;);\r\n\tElement title = channel.addElement(&quot;title&quot;);\r\n\ttitle.setText(&quot;‰∏≠Êñá&quot;);\r\n\r\n\tSystem.out.println(document.asXML());\r\n\r\nIt prints out like below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;GBK&quot;?&gt;\r\n    &lt;rss version=&quot;2.0&quot;&gt;&lt;channel&gt;&lt;title&gt;????&lt;/title&gt;&lt;/channel&gt;&lt;/rss&gt;\r\n\r\nI can&#39;t figure out why `&lt;title&gt;????&lt;/title&gt;` happens, what should I do?\r\n\r\nI have done quite a lot of search before asking.","title":"How to create XML string using dom4j with a title consisting of Chinese characters using GBK encoding?","body":"<p>I am going to generate XML string using <code>dom4j</code>, quite simple, shown below:</p>\n<pre><code>Document document = DocumentHelper.createDocument();\n\ndocument.setXMLEncoding(&quot;GBK&quot;);\n\nElement rss = document.addElement(&quot;rss&quot;);\nrss.addAttribute(&quot;version&quot;, &quot;2.0&quot;);\nElement channel = rss.addElement(&quot;channel&quot;);\nElement title = channel.addElement(&quot;title&quot;);\ntitle.setText(&quot;‰∏≠Êñá&quot;);\n\nSystem.out.println(document.asXML());\n</code></pre>\n<p>It prints out like below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;GBK&quot;?&gt;\n&lt;rss version=&quot;2.0&quot;&gt;&lt;channel&gt;&lt;title&gt;????&lt;/title&gt;&lt;/channel&gt;&lt;/rss&gt;\n</code></pre>\n<p>I can't figure out why <code>&lt;title&gt;????&lt;/title&gt;</code> happens, what should I do?</p>\n<p>I have done quite a lot of search before asking.</p>\n"},{"tags":["java","encryption","cryptography","bouncycastle","jasypt"],"comments":[{"owner":{"account_id":15988,"reputation":872878,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":0,"creation_date":1456679919,"post_id":35685679,"comment_id":59048702,"body_markdown":"Don&#39;t.  Use wrapper libraries that make all the correct decisions.  Read http://blog.slaks.net/2015-11-18/common-crypto-pitfalls/","body":"Don&#39;t.  Use wrapper libraries that make all the correct decisions.  Read <a href=\"http://blog.slaks.net/2015-11-18/common-crypto-pitfalls/\" rel=\"nofollow noreferrer\">blog.slaks.net/2015-11-18/common-crypto-pitfalls</a>"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1456680721,"post_id":35685679,"comment_id":59049001,"body_markdown":"I&#39;ve changed the question to directly explain which scheme provides &quot;the highest security levels&quot;. Asking for offsite explanations / directions is off topic and asking for &quot;the best&quot; is subjective. Both would be reasons to close the question.","body":"I&#39;ve changed the question to directly explain which scheme provides &quot;the highest security levels&quot;. Asking for offsite explanations / directions is off topic and asking for &quot;the best&quot; is subjective. Both would be reasons to close the question."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1456688870,"post_id":35685679,"comment_id":59052316,"body_markdown":"you don&#39;t need a library; not too difficult to use java APIs. my example - https://gist.github.com/zhong-j-yu/9d23c850e580d60ddd46","body":"you don&#39;t need a library; not too difficult to use java APIs. my example - <a href=\"https://gist.github.com/zhong-j-yu/9d23c850e580d60ddd46\" rel=\"nofollow noreferrer\">gist.github.com/zhong-j-yu/9d23c850e580d60ddd46</a>"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1456694746,"post_id":35685679,"comment_id":59054571,"body_markdown":"@bayou.io Yes, you do. As your code is vulnerable because it doesn&#39;t use a regular MAC, instead using an encrypted hash. If you use that for authentication may for instance be vulnerable against padding oracle attack. Don&#39;t use comments as answers, especially because we cannot downvote them.","body":"@bayou.io Yes, you do. As your code is vulnerable because it doesn&#39;t use a regular MAC, instead using an encrypted hash. If you use that for authentication may for instance be vulnerable against padding oracle attack. Don&#39;t use comments as answers, especially because we cannot downvote them."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1456696243,"post_id":35685679,"comment_id":59055106,"body_markdown":"@bayou.io You are using ECB mode as well. Did you ever create a cryptographic wrapper library before? If not, **don&#39;t post them as answers**.","body":"@bayou.io You are using ECB mode as well. Did you ever create a cryptographic wrapper library before? If not, <b>don&#39;t post them as answers</b>."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":1,"creation_date":1456706768,"post_id":35685679,"comment_id":59058294,"body_markdown":"@MaartenBodewes -- how can I learn from you if I didn&#39;t expose my ignorance first? :)","body":"@MaartenBodewes -- how can I learn from you if I didn&#39;t expose my ignorance first? :)"}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1656843273,"creation_date":1456681490,"answer_id":35685998,"question_id":35685679,"body_markdown":"First of all you should install the unlimited cryptography files from Oracle*. After doing so you should have fewer `EncryptionOperationNotPossibleException`s and higher security levels should become available.\r\n\r\n\r\nFurthermore, for the highest level encryption possible I would not use JaSypt at all, because [it doesn&#39;t seem to provide any integrity checking or authentication of ciphertext](https://security.stackexchange.com/questions/29726/jasypt-message-integrity). For just confidentiality that doesn&#39;t *seem* to matter. But in practice you&#39;d need to check that against your threat model.\r\n\r\nIf you&#39;d decide to use JaSypt (which I personally dislike) you should probably go for `PBEWITHHMACSHA512ANDAES_256` as highest level possibility. Make sure you understand PBKDF2 and work factors (iteration count, e.g. [`setKeyObtentionIterations`](http://www.jasypt.org/api/jasypt/1.8/org/jasypt/encryption/pbe/config/SimplePBEConfig.html#setKeyObtentionIterations%28java.lang.String%29).\r\n\r\nYou don&#39;t need Bouncy Castle. AES is considered secure; all Bouncy Castle does - for your example that uses JaSypt - is adding obscure ciphers. In the above list, everything other than AES is less secure than AES.\r\n\r\n\\* This is an old answer, generally [the unlimited cryptography extensions aren&#39;t necessary anymore](https://bugs.openjdk.org/browse/JDK-8189377)\r\n","title":"What Java encryption algorithms should I use?","body":"<p>First of all you should install the unlimited cryptography files from Oracle*. After doing so you should have fewer <code>EncryptionOperationNotPossibleException</code>s and higher security levels should become available.</p>\n<p>Furthermore, for the highest level encryption possible I would not use JaSypt at all, because <a href=\"https://security.stackexchange.com/questions/29726/jasypt-message-integrity\">it doesn't seem to provide any integrity checking or authentication of ciphertext</a>. For just confidentiality that doesn't <em>seem</em> to matter. But in practice you'd need to check that against your threat model.</p>\n<p>If you'd decide to use JaSypt (which I personally dislike) you should probably go for <code>PBEWITHHMACSHA512ANDAES_256</code> as highest level possibility. Make sure you understand PBKDF2 and work factors (iteration count, e.g. <a href=\"http://www.jasypt.org/api/jasypt/1.8/org/jasypt/encryption/pbe/config/SimplePBEConfig.html#setKeyObtentionIterations%28java.lang.String%29\" rel=\"nofollow noreferrer\"><code>setKeyObtentionIterations</code></a>.</p>\n<p>You don't need Bouncy Castle. AES is considered secure; all Bouncy Castle does - for your example that uses JaSypt - is adding obscure ciphers. In the above list, everything other than AES is less secure than AES.</p>\n<p>* This is an old answer, generally <a href=\"https://bugs.openjdk.org/browse/JDK-8189377\" rel=\"nofollow noreferrer\">the unlimited cryptography extensions aren't necessary anymore</a></p>\n"}],"owner":{"account_id":290055,"reputation":1699,"user_id":591374,"accept_rate":61,"display_name":"MusikPolice"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13283,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"closed_date":1456820986,"answer_count":1,"score":12,"last_activity_date":1656843273,"creation_date":1456679857,"question_id":35685679,"body_markdown":"I&#39;m working on a program that needs to store binary information encrypted at rest. Unfortunately, I can&#39;t seem to find a resource that explains which encryption schemes are best for different applications.\r\n\r\nSince encryption is complicated and I&#39;m not an expert, I&#39;ve decided to use a library called [Jasypt][1] that wraps Java&#39;s built-in encryption functions. To figure out what algorithms are available to me, I wrote a few unit tests.\r\n\r\nThe first test calls Jasypt&#39;s `AlgorithmRegistry.getAllPBEAlgorithms()` function and lists out all available encryption algorithms:\r\n\r\n    PBEWITHHMACSHA1ANDAES_128\r\n    PBEWITHHMACSHA1ANDAES_256\r\n    PBEWITHHMACSHA224ANDAES_128\r\n    PBEWITHHMACSHA224ANDAES_256\r\n    PBEWITHHMACSHA256ANDAES_128\r\n    PBEWITHHMACSHA256ANDAES_256\r\n    PBEWITHHMACSHA384ANDAES_128\r\n    PBEWITHHMACSHA384ANDAES_256\r\n    PBEWITHHMACSHA512ANDAES_128\r\n    PBEWITHHMACSHA512ANDAES_256\r\n    PBEWITHMD5ANDDES\r\n    PBEWITHMD5ANDTRIPLEDES\r\n    PBEWITHSHA1ANDDESEDE\r\n    PBEWITHSHA1ANDRC2_128\r\n    PBEWITHSHA1ANDRC2_40\r\n    PBEWITHSHA1ANDRC4_128\r\n    PBEWITHSHA1ANDRC4_40\r\n\r\nAt runtime, Jasypt will throw an `EncryptionOperationNotPossibleException` if you try to use an algorithm that for some reason isn&#39;t supported or violates Java&#39;s encryption rules. Interestingly, if I attempt to use each of the &#39;available&#39; algorithms to encrypt and then decrypt some arbitrary data, and only print out the ones that don&#39;t throw that exception, I get this slimmed down list:\r\n\r\n    PBEWITHMD5ANDDES\r\n    PBEWITHSHA1ANDDESEDE\r\n    PBEWITHSHA1ANDRC2_128\r\n    PBEWITHSHA1ANDRC2_40\r\n    PBEWITHSHA1ANDRC4_128\r\n    PBEWITHSHA1ANDRC4_40\r\n\r\nThe list of available algorithms can be expanded by pulling in the [BouncyCastle][2] JCE and registering it by executing `Security.addProvider(new BouncyCastleProvider())`. If I repeat the previous test after doing this, I get a much bigger list of algorithms to choose from:\r\n\r\n    PBEWITHMD2ANDDES\r\n    PBEWITHMD5AND128BITAES-CBC-OPENSSL\r\n    PBEWITHMD5AND192BITAES-CBC-OPENSSL\r\n    PBEWITHMD5AND256BITAES-CBC-OPENSSL\r\n    PBEWITHMD5ANDDES\r\n    PBEWITHMD5ANDRC2\r\n    PBEWITHSHA1ANDDES\r\n    PBEWITHSHA1ANDDESEDE\r\n    PBEWITHSHA1ANDRC2\r\n    PBEWITHSHA1ANDRC2_128\r\n    PBEWITHSHA1ANDRC2_40\r\n    PBEWITHSHA1ANDRC4_128\r\n    PBEWITHSHA1ANDRC4_40\r\n    PBEWITHSHA256AND128BITAES-CBC-BC\r\n    PBEWITHSHA256AND192BITAES-CBC-BC\r\n    PBEWITHSHA256AND256BITAES-CBC-BC\r\n    PBEWITHSHAAND128BITAES-CBC-BC\r\n    PBEWITHSHAAND128BITRC2-CBC\r\n    PBEWITHSHAAND128BITRC4\r\n    PBEWITHSHAAND192BITAES-CBC-BC\r\n    PBEWITHSHAAND2-KEYTRIPLEDES-CBC\r\n    PBEWITHSHAAND256BITAES-CBC-BC\r\n    PBEWITHSHAAND3-KEYTRIPLEDES-CBC\r\n    PBEWITHSHAAND40BITRC2-CBC\r\n    PBEWITHSHAAND40BITRC4\r\n    PBEWITHSHAANDIDEA-CBC\r\n    PBEWITHSHAANDTWOFISH-CBC\r\n\r\nUnfortunately, now I have no idea which of these many algorithms is most appropriate for my application. I have an inkling that AES is the right way to go, and it looks like `PBEWITHSHA256AND256BITAES-CBC-BC` is the AES implementation with the longest key length, but I don&#39;t know where to go to confirm that suspicion.\r\n\r\nWhich of these schemes would provide the highest security levels and which have obvious security issues?\r\n\r\n**EDIT:** I want to be able to distribute my code without requiring the end user to install the unlimited cryptography files, as that will almost certainly be beyond the capabilities of not so tech savvy users. What I really want is the strongest encryption that I can get without using the unlimited strength jurisdiction files.\r\n\r\n  [1]: http://www.jasypt.org/\r\n  [2]: http://www.bouncycastle.org/","title":"What Java encryption algorithms should I use?","body":"<p>I'm working on a program that needs to store binary information encrypted at rest. Unfortunately, I can't seem to find a resource that explains which encryption schemes are best for different applications.</p>\n\n<p>Since encryption is complicated and I'm not an expert, I've decided to use a library called <a href=\"http://www.jasypt.org/\" rel=\"noreferrer\">Jasypt</a> that wraps Java's built-in encryption functions. To figure out what algorithms are available to me, I wrote a few unit tests.</p>\n\n<p>The first test calls Jasypt's <code>AlgorithmRegistry.getAllPBEAlgorithms()</code> function and lists out all available encryption algorithms:</p>\n\n<pre><code>PBEWITHHMACSHA1ANDAES_128\nPBEWITHHMACSHA1ANDAES_256\nPBEWITHHMACSHA224ANDAES_128\nPBEWITHHMACSHA224ANDAES_256\nPBEWITHHMACSHA256ANDAES_128\nPBEWITHHMACSHA256ANDAES_256\nPBEWITHHMACSHA384ANDAES_128\nPBEWITHHMACSHA384ANDAES_256\nPBEWITHHMACSHA512ANDAES_128\nPBEWITHHMACSHA512ANDAES_256\nPBEWITHMD5ANDDES\nPBEWITHMD5ANDTRIPLEDES\nPBEWITHSHA1ANDDESEDE\nPBEWITHSHA1ANDRC2_128\nPBEWITHSHA1ANDRC2_40\nPBEWITHSHA1ANDRC4_128\nPBEWITHSHA1ANDRC4_40\n</code></pre>\n\n<p>At runtime, Jasypt will throw an <code>EncryptionOperationNotPossibleException</code> if you try to use an algorithm that for some reason isn't supported or violates Java's encryption rules. Interestingly, if I attempt to use each of the 'available' algorithms to encrypt and then decrypt some arbitrary data, and only print out the ones that don't throw that exception, I get this slimmed down list:</p>\n\n<pre><code>PBEWITHMD5ANDDES\nPBEWITHSHA1ANDDESEDE\nPBEWITHSHA1ANDRC2_128\nPBEWITHSHA1ANDRC2_40\nPBEWITHSHA1ANDRC4_128\nPBEWITHSHA1ANDRC4_40\n</code></pre>\n\n<p>The list of available algorithms can be expanded by pulling in the <a href=\"http://www.bouncycastle.org/\" rel=\"noreferrer\">BouncyCastle</a> JCE and registering it by executing <code>Security.addProvider(new BouncyCastleProvider())</code>. If I repeat the previous test after doing this, I get a much bigger list of algorithms to choose from:</p>\n\n<pre><code>PBEWITHMD2ANDDES\nPBEWITHMD5AND128BITAES-CBC-OPENSSL\nPBEWITHMD5AND192BITAES-CBC-OPENSSL\nPBEWITHMD5AND256BITAES-CBC-OPENSSL\nPBEWITHMD5ANDDES\nPBEWITHMD5ANDRC2\nPBEWITHSHA1ANDDES\nPBEWITHSHA1ANDDESEDE\nPBEWITHSHA1ANDRC2\nPBEWITHSHA1ANDRC2_128\nPBEWITHSHA1ANDRC2_40\nPBEWITHSHA1ANDRC4_128\nPBEWITHSHA1ANDRC4_40\nPBEWITHSHA256AND128BITAES-CBC-BC\nPBEWITHSHA256AND192BITAES-CBC-BC\nPBEWITHSHA256AND256BITAES-CBC-BC\nPBEWITHSHAAND128BITAES-CBC-BC\nPBEWITHSHAAND128BITRC2-CBC\nPBEWITHSHAAND128BITRC4\nPBEWITHSHAAND192BITAES-CBC-BC\nPBEWITHSHAAND2-KEYTRIPLEDES-CBC\nPBEWITHSHAAND256BITAES-CBC-BC\nPBEWITHSHAAND3-KEYTRIPLEDES-CBC\nPBEWITHSHAAND40BITRC2-CBC\nPBEWITHSHAAND40BITRC4\nPBEWITHSHAANDIDEA-CBC\nPBEWITHSHAANDTWOFISH-CBC\n</code></pre>\n\n<p>Unfortunately, now I have no idea which of these many algorithms is most appropriate for my application. I have an inkling that AES is the right way to go, and it looks like <code>PBEWITHSHA256AND256BITAES-CBC-BC</code> is the AES implementation with the longest key length, but I don't know where to go to confirm that suspicion.</p>\n\n<p>Which of these schemes would provide the highest security levels and which have obvious security issues?</p>\n\n<p><strong>EDIT:</strong> I want to be able to distribute my code without requiring the end user to install the unlimited cryptography files, as that will almost certainly be beyond the capabilities of not so tech savvy users. What I really want is the strongest encryption that I can get without using the unlimited strength jurisdiction files.</p>\n"},{"tags":["java","gradle","classnotfoundexception"],"comments":[{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1656843382,"post_id":72845594,"comment_id":128665879,"body_markdown":"try with the command line and add `--debug` this should give more details about the error.","body":"try with the command line and add <code>--debug</code> this should give more details about the error."},{"owner":{"account_id":10487879,"reputation":289,"user_id":8253322,"display_name":"Maher Ben Taleb Ali"},"score":0,"creation_date":1656843638,"post_id":72845594,"comment_id":128665916,"body_markdown":"debug doesn&#39;t give to much intel\n\n**java.lang.NoClassDefFoundError: Could not initialize class com.tobris.meta.loader.XMLViews\ncom.tobris.meta.loader.ViewLoader.importView(ViewLoader.java:270)\ncom.tobris.meta.loader.ViewLoader.createDefaults(ViewLoader.java:794\ncom.tobris.meta.loader.ViewLoader.importDefault(ViewLoader.java:780)\ncom.tobris.meta.loader.ViewLoader.doLast(ViewLoader.java:134)\ncom.google.inject.persist.jpa.JpaLocalTxnInterceptor.invoke(JpaLocalTxnInterceptor.java:64)\ncom.tobris.meta.loader.ModuleManager.lambda$null$4(ModuleManager.java:136)**","body":"debug doesn&#39;t give to much intel  <b>java.lang.NoClassDefFoundError: Could not initialize class com.tobris.meta.loader.XMLViews com.tobris.meta.loader.ViewLoader.importView(ViewLoader.java&zwnj;&#8203;:270) com.tobris.meta.loader.ViewLoader.createDefaults(ViewLoader.&zwnj;&#8203;java:794 com.tobris.meta.loader.ViewLoader.importDefault(ViewLoader.j&zwnj;&#8203;ava:780) com.tobris.meta.loader.ViewLoader.doLast(ViewLoader.java:134&zwnj;&#8203;) com.google.inject.persist.jpa.JpaLocalTxnInterceptor.invoke(&zwnj;&#8203;JpaLocalTxnIntercept&zwnj;&#8203;or.java:64) com.tobris.meta.loader.ModuleManager.lambda$null$4(ModuleMan&zwnj;&#8203;ager.java:136)</b>"},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1656844063,"post_id":72845594,"comment_id":128665975,"body_markdown":"Can you share the ModuleManager.java line 136 ? maybe update the question if you can,\nand this is not a missing dependency issue i guess.","body":"Can you share the ModuleManager.java line 136 ? maybe update the question if you can, and this is not a missing dependency issue i guess."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1656844674,"post_id":72845594,"comment_id":128666058,"body_markdown":"&quot;Could not initialize&quot; simply means some class&#39;s static initializer threw an exception. It&#39;s possible that exception is itself a NoClassDefFoundError that _does not_ have a message indicating initialization failed (which is the one that indicates: You&#39;re missing a dependency), but you didn&#39;t paste anything about a NCDFE. Conclusion: You pulled the idea that a dep is missing out of your left nostril, as far as we can tell: I think you have misunderstood the error. A bit logical; NCDFErr is a weird choice by the JVM. There shuold be a cause, that will explain what went wrong.","body":"&quot;Could not initialize&quot; simply means some class&#39;s static initializer threw an exception. It&#39;s possible that exception is itself a NoClassDefFoundError that <i>does not</i> have a message indicating initialization failed (which is the one that indicates: You&#39;re missing a dependency), but you didn&#39;t paste anything about a NCDFE. Conclusion: You pulled the idea that a dep is missing out of your left nostril, as far as we can tell: I think you have misunderstood the error. A bit logical; NCDFErr is a weird choice by the JVM. There shuold be a cause, that will explain what went wrong."},{"owner":{"account_id":10487879,"reputation":289,"user_id":8253322,"display_name":"Maher Ben Taleb Ali"},"score":0,"creation_date":1656844757,"post_id":72845594,"comment_id":128666073,"body_markdown":"**moduleManager.java line 136** \n`newlyInstalledModules.forEach(m -&gt; viewLoader.doLast(m, update));`\n\n`\nprotected void doLast(Module module, boolean update) {\n    // generate default views\n    importDefault(module);\n`\n`final String xml = createDefaults(module, klass);`\n\n`  private String createDefaults(Module module, final Class&lt;?&gt; klass) {\n    List&lt;AbstractView&gt; views = createDefaults(klass);\n    for (AbstractView view : views) {\n      importView(view, module, false, null, 10);\n    }\n    return XMLViews.toXml(views, false);\n  }`","body":"<b>moduleManager.java line 136</b>  <code>newlyInstalledModules.forEach(m -&gt; viewLoader.doLast(m, update));</code>  ` protected void doLast(Module module, boolean update) {     // generate default views     importDefault(module); ` <code>final String xml = createDefaults(module, klass);</code>  `  private String createDefaults(Module module, final Class&lt;?&gt; klass) {     List&lt;AbstractView&gt; views = createDefaults(klass);     for (AbstractView view : views) {       importView(view, module, false, null, 10);     }     return XMLViews.toXml(views, false);   }`"},{"owner":{"account_id":10487879,"reputation":289,"user_id":8253322,"display_name":"Maher Ben Taleb Ali"},"score":0,"creation_date":1656844853,"post_id":72845594,"comment_id":128666095,"body_markdown":"I was changing the dependencies while that error happened that&#39;s why I am suspecting that.","body":"I was changing the dependencies while that error happened that&#39;s why I am suspecting that."}],"owner":{"account_id":10487879,"reputation":289,"user_id":8253322,"display_name":"Maher Ben Taleb Ali"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656842847,"creation_date":1656842847,"question_id":72845594,"body_markdown":"I am facing **java.lang.NoClassDefFoundError: Could not initialize class com.tobris.meta.loader.XMLViews** the error doesn&#39;t tell to much. is there a way to extend the error and see what dependency is missing?\r\n\r\nthese are the imports from **XMLViews.java**\r\n```\r\nimport javax.annotation.Nullable;\r\nimport javax.inject.Inject;\r\nimport javax.persistence.TypedQuery;\r\nimport javax.xml.XMLConstants;\r\nimport javax.xml.bind.JAXBContext;\r\nimport javax.xml.bind.JAXBElement;\r\nimport javax.xml.bind.JAXBException;\r\nimport javax.xml.bind.Marshaller;\r\nimport javax.xml.bind.Unmarshaller;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\nimport javax.xml.namespace.NamespaceContext;\r\nimport javax.xml.namespace.QName;\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.parsers.ParserConfigurationException;\r\nimport javax.xml.validation.Schema;\r\nimport javax.xml.validation.SchemaFactory;\r\nimport javax.xml.xpath.XPath;\r\nimport javax.xml.xpath.XPathConstants;\r\nimport javax.xml.xpath.XPathExpression;\r\nimport javax.xml.xpath.XPathExpressionException;\r\nimport javax.xml.xpath.XPathFactory;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\nimport org.w3c.dom.NamedNodeMap;\r\nimport org.w3c.dom.Node;\r\nimport org.w3c.dom.NodeList;\r\nimport org.xml.sax.InputSource;\r\nimport org.xml.sax.SAXException;\r\n```\r\nand these are the dependencies from my **gradle.build** \r\n```\r\n  \timplementation &quot;com.google.guava:guava:28.1-jre&quot;\r\n  \timplementation &quot;com.opencsv:opencsv:3.9&quot;\r\n\timplementation &#39;org.apache.commons:commons-csv:1.9.0&#39;\r\n\timplementation &quot;gradle.plugin.nl.javadude.gradle.plugins:license-gradle-plugin:0.14.0&quot;\r\n  \timplementation &quot;org.yaml:snakeyaml:\r\n\t\r\n    implementation &quot;org.hibernate:hibernate-core:5.6.1.Final&quot;\r\n    implementation &quot;org.hibernate:hibernate-hikaricp:5.6.1.Final&quot;\r\n    implementation &quot;org.hibernate:hibernate-validator:5.4.1.Final&quot;\r\n    implementation &#39;org.hibernate:hibernate-jcache:5.6.1.Final&#39;\r\n    \r\n\timplementation &#39;com.github.ben-manes.caffeine:jcache:2.6.2&#39;\r\n   \t\r\n  \timplementation &#39;org.hibernate:hibernate-entitymanager:5.6.1.Final&#39;\r\n  \timplementation &quot;org.hibernate:hibernate-search-orm:5.7.0.Final&quot;\r\n  \t\r\n  \timplementation &quot;gradle.plugin.nl.javadude.gradle.plugins:license-gradle-plugin:0.14.0&quot;\r\n\t\r\n    implementation  &quot;org.slf4j:slf4j-api:1.7.36&quot;\r\n \timplementation &quot;org.slf4j:jul-to-slf4j:1.7.36&quot;\r\n  \timplementation &quot;org.slf4j:jcl-over-slf4j:1.7.36&quot;\r\n  \timplementation &quot;org.slf4j:log4j-over-slf4j:1.7.36&quot;\r\n\timplementation &#39;ch.qos.logback:logback-classic:1.3.0-alpha14&#39;\r\n\timplementation &#39;commons-cli:commons-cli:1.4&#39;\r\n\timplementation &#39;com.google.inject:guice:4.2.2&#39;\r\n\timplementation &#39;com.google.inject.extensions:guice-servlet:4.2.2&#39;\r\n\timplementation &#39;com.google.inject.extensions:guice-persist:4.2.2&#39;\r\n\timplementation &#39;com.google.inject.extensions:guice-multibindings:4.2.2&#39;\r\n\timplementation &#39;org.jboss.resteasy:resteasy-jaxrs:3.15.1.Final&#39;\r\n\timplementation &#39;org.flywaydb:flyway-core:8.5.13&#39;\r\n\timplementation &#39;org.apache.shiro:shiro-guice:1.8.0&#39;\r\n\t\r\n\timplementation &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\t\r\n\timplementation &#39;javax.xml.parsers:jaxp-api:1.4.5&#39;\r\n\t\r\n\timplementation &quot;javax.servlet:javax.servlet-api:3.1.0&quot;\r\n\timplementation &quot;javax.servlet.jsp:javax.servlet.jsp-api:2.3.1&quot;\r\n\timplementation &#39;javax.validation:validation-api:2.0.1.Final&#39;\r\n\t\r\n\timplementation &#39;org.eclipse.birt.runtime:org.eclipse.birt.runtime:4.5.0a&#39;\r\n\t\r\n```","title":"java.lang.NoClassDefFoundError: Could not initialize class, find which dependency is missing","body":"<p>I am facing <strong>java.lang.NoClassDefFoundError: Could not initialize class com.tobris.meta.loader.XMLViews</strong> the error doesn't tell to much. is there a way to extend the error and see what dependency is missing?</p>\n<p>these are the imports from <strong>XMLViews.java</strong></p>\n<pre><code>import javax.annotation.Nullable;\nimport javax.inject.Inject;\nimport javax.persistence.TypedQuery;\nimport javax.xml.XMLConstants;\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.JAXBElement;\nimport javax.xml.bind.JAXBException;\nimport javax.xml.bind.Marshaller;\nimport javax.xml.bind.Unmarshaller;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.namespace.NamespaceContext;\nimport javax.xml.namespace.QName;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.validation.Schema;\nimport javax.xml.validation.SchemaFactory;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathExpression;\nimport javax.xml.xpath.XPathExpressionException;\nimport javax.xml.xpath.XPathFactory;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.NamedNodeMap;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.InputSource;\nimport org.xml.sax.SAXException;\n</code></pre>\n<p>and these are the dependencies from my <strong>gradle.build</strong></p>\n<pre><code>    implementation &quot;com.google.guava:guava:28.1-jre&quot;\n    implementation &quot;com.opencsv:opencsv:3.9&quot;\n    implementation 'org.apache.commons:commons-csv:1.9.0'\n    implementation &quot;gradle.plugin.nl.javadude.gradle.plugins:license-gradle-plugin:0.14.0&quot;\n    implementation &quot;org.yaml:snakeyaml:\n    \n    implementation &quot;org.hibernate:hibernate-core:5.6.1.Final&quot;\n    implementation &quot;org.hibernate:hibernate-hikaricp:5.6.1.Final&quot;\n    implementation &quot;org.hibernate:hibernate-validator:5.4.1.Final&quot;\n    implementation 'org.hibernate:hibernate-jcache:5.6.1.Final'\n    \n    implementation 'com.github.ben-manes.caffeine:jcache:2.6.2'\n    \n    implementation 'org.hibernate:hibernate-entitymanager:5.6.1.Final'\n    implementation &quot;org.hibernate:hibernate-search-orm:5.7.0.Final&quot;\n    \n    implementation &quot;gradle.plugin.nl.javadude.gradle.plugins:license-gradle-plugin:0.14.0&quot;\n    \n    implementation  &quot;org.slf4j:slf4j-api:1.7.36&quot;\n    implementation &quot;org.slf4j:jul-to-slf4j:1.7.36&quot;\n    implementation &quot;org.slf4j:jcl-over-slf4j:1.7.36&quot;\n    implementation &quot;org.slf4j:log4j-over-slf4j:1.7.36&quot;\n    implementation 'ch.qos.logback:logback-classic:1.3.0-alpha14'\n    implementation 'commons-cli:commons-cli:1.4'\n    implementation 'com.google.inject:guice:4.2.2'\n    implementation 'com.google.inject.extensions:guice-servlet:4.2.2'\n    implementation 'com.google.inject.extensions:guice-persist:4.2.2'\n    implementation 'com.google.inject.extensions:guice-multibindings:4.2.2'\n    implementation 'org.jboss.resteasy:resteasy-jaxrs:3.15.1.Final'\n    implementation 'org.flywaydb:flyway-core:8.5.13'\n    implementation 'org.apache.shiro:shiro-guice:1.8.0'\n    \n    implementation 'javax.xml.bind:jaxb-api:2.3.1'  \n    implementation 'javax.xml.parsers:jaxp-api:1.4.5'\n    \n    implementation &quot;javax.servlet:javax.servlet-api:3.1.0&quot;\n    implementation &quot;javax.servlet.jsp:javax.servlet.jsp-api:2.3.1&quot;\n    implementation 'javax.validation:validation-api:2.0.1.Final'\n    \n    implementation 'org.eclipse.birt.runtime:org.eclipse.birt.runtime:4.5.0a'\n    \n</code></pre>\n"},{"tags":["java","soap","soap-client","spring-ws","mtom"],"answers":[{"tags":[],"owner":{"account_id":15558369,"reputation":1,"user_id":11224098,"display_name":"kemisabo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656842763,"creation_date":1656842763,"answer_id":72845588,"question_id":72358236,"body_markdown":"Okay, finally after long debugging, the integration works. But I did not change a single letter in my code. It seems the service provider changed something at their end, to which they did not confirm upon enquiring. I know its like what?? are you serious?? I was just trying to debug a code which was completely fine all this time??\r\ncommon...I know its disappointing..Just wanted to post the answer so that someone who&#39;s facing a similar issue an already debugged all possible aspects should check the very basic - 1) if they are using the updated and correct wsdl file 2) make sure the service provider/consumer has the right set of configuration in place.","title":"spring ws soap mtom request error - Cannot create message: incorrect content-type for SOAP version. Got multipart/related; but expected text/xml","body":"<p>Okay, finally after long debugging, the integration works. But I did not change a single letter in my code. It seems the service provider changed something at their end, to which they did not confirm upon enquiring. I know its like what?? are you serious?? I was just trying to debug a code which was completely fine all this time??\ncommon...I know its disappointing..Just wanted to post the answer so that someone who's facing a similar issue an already debugged all possible aspects should check the very basic - 1) if they are using the updated and correct wsdl file 2) make sure the service provider/consumer has the right set of configuration in place.</p>\n"}],"owner":{"account_id":15558369,"reputation":1,"user_id":11224098,"display_name":"kemisabo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72845588,"answer_count":1,"score":0,"last_activity_date":1656842763,"creation_date":1653374353,"question_id":72358236,"body_markdown":"I am trying to send a mtom enabled soap request which works fine when invoked via SoapUI, but it gives the below error when sent using spring ws api-\r\n\r\n```\r\nSEVERE: SAAJ0533: Cannot create message: incorrect content-type for SOAP version. Got multipart/related; boundary=&quot;----=_Part_0_1559020039.1653221075665&quot;; \r\n\ttype=&quot;application/soap+xml&quot;; start-info=&quot;text/xml&quot;, but expected text/xml\r\n\r\n\r\norg.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: Unable to internalize message; nested exception is com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Unable to internalize message\r\n```\r\n\r\nHere is the code for the Soap client:-\r\n```\r\nFileUploadRequestType fileUploadRequestType = this.objectFactory.createFileUploadRequestType();\r\n\r\n\t\tfileUploadRequestType.setFileType(FileTypeType.TXT);\r\n\t\tfileUploadRequestType.setFileName(&quot;Transactions_20200424_80.txt&quot;);\r\n\r\n\t\tfileUploadRequestType.setAttachmentID(new DataHandler(\r\n\t\t\t\tThread.currentThread().getContextClassLoader()\r\n\t\t\t\t\t\t.getResource(&quot;Transactions_20200424_80.txt&quot;)));\r\n\r\n\t\tJAXBElement&lt;FileUploadRequestType&gt; fileRequestJAXBElement\r\n\t\t\t\t= objectFactory.createFileUploadRequest(fileUploadRequestType);\r\n\r\n\t\tWebServiceMessageCallback webServiceMessageCallback = (WebServiceMessage message) -&gt; {\r\n\r\n\t\t\tSoapHeader soapHeader = ((SoapMessage) message).getSoapHeader();\r\n\t\t\tRequestContextType requestContextType = objectFactory.createRequestContextType();\r\n\t\t\trequestContextType.setRequestID(&quot;c09e319d-8e9f-4a32-9226-0df9f9bf3601&quot;);\r\n\t\t\trequestContextType.setServiceName(SrvcNameType.LYREPORT);\r\n\t\t\trequestContextType.setRequestChannel(ChannelType.SYSTEM);\r\n\t\t\trequestContextType.setMessageTime(LocalDateTime.now().truncatedTo(ChronoUnit.SECONDS).toString());\r\n\t\t\trequestContextType.setPartner(PartnerType.ALPHA);\r\n\t\t\tJAXBElement&lt;RequestContextType&gt; headerJAXBElement = objectFactory.createRequestContext(requestContextType);\r\n\r\n\t\t\t// create a marshaller\r\n\t\t\tJAXBContext context = null;\r\n\t\t\tMarshaller marshaller = null;\r\n\t\t\ttry {\r\n\t\t\t\tcontext = JAXBContext.newInstance(RequestContextType.class);\r\n\t\t\t\tmarshaller = context.createMarshaller();\r\n\t\t\t\tmarshaller.marshal(headerJAXBElement, soapHeader.getResult());\r\n\t\t\t} catch (JAXBException e) {\r\n\t\t\t\tSystem.out.println(&quot;Error while marshalling headers.&quot;);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tResponseContextType responseContextType = null;\r\n\t\ttry {\r\n\t\t\tgetWebServiceTemplate().marshalSendAndReceive(fileRequestJAXBElement, webServiceMessageCallback);\r\n\t\t\tresponseContextType = MtomClientConfig.responseContextType;\r\n\r\n\t\t} catch (WebServiceIOException e) {\r\n\t\t\tSystem.out.println(&quot;Could not connect to the soap web service.&quot;);\r\n\t\t\tthrow new RuntimeException(e.getLocalizedMessage());\r\n\t\t} \r\n```\r\n\r\n\r\nHere is the Configuration:-\r\n```\r\n@Configuration\r\npublic class MtomClientConfig {\r\n\r\n    public static ResponseContextType responseContextType = new ResponseContextType();\r\n\r\n    @Bean\r\n    public Jaxb2Marshaller marshaller() {\r\n\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(&quot;org.springframework.ws.samples.mtom.client.sws&quot;);\r\n        marshaller.setMtomEnabled(true);\r\n        return marshaller;\r\n    }\r\n\r\n    @Bean\r\n    public SaajSoapMessageFactory saajSoapMessageFactory() {\r\n        SaajSoapMessageFactory messageFactory = new SaajSoapMessageFactory();\r\n        return messageFactory;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public SaajMtomClient saajClient(Jaxb2Marshaller marshaller, SaajSoapMessageFactory saajSoapMessageFactory ) throws SOAPException {\r\n\r\n        WebServiceTemplate webServiceTemplate = new WebServiceTemplate();\r\n        HttpsUrlConnectionMessageSender messageSender = new HttpsUrlConnectionMessageSender();\r\n        messageSender.setTrustManagers(new TrustManager[]{new UnTrustworthyTrustManager()});\r\n\r\n        webServiceTemplate.setMessageSender(messageSender);\r\n        webServiceTemplate.setMessageFactory(saajSoapMessageFactory);\r\n        \r\n        SaajMtomClient client = new SaajMtomClient();\r\n        client.setWebServiceTemplate(webServiceTemplate);\r\n        client.setDefaultUri(&quot;https://host:port/GW/AlphaServices/FileUpload&quot;);\r\n        client.setMarshaller(marshaller);\r\n        client.setUnmarshaller(marshaller);\r\n        return client;\r\n    }\r\n}\r\n```\r\n\r\nI also tried setting the SOAP version 1.2 by configuring the below MessageFactories but then it gives the below error:-\r\n```\r\nSEVERE: SAAJ0415: InputStream does not represent a valid SOAP 1.2 Message\r\n\r\norg.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: InputStream does not represent a valid SOAP 1.2 Message; nested exception is javax.xml.soap.SOAPException: InputStream does not represent a valid SOAP 1.2 Message\r\n```\r\nMessageFactory to set SOAP version 1.2:-\r\n```\r\n    @Bean\r\n    public SaajSoapMessageFactory saajSoapMessageFactory() {\r\n        SaajSoapMessageFactory messageFactory = new SaajSoapMessageFactory();\r\n        messageFactory.setSoapVersion(SoapVersion.SOAP_12);\r\n        return messageFactory;\r\n    }\r\n\r\n//    @Bean\r\n//    public WebServiceMessageFactory webServiceMessageFactory() throws SOAPException {\r\n//        SaajSoapMessageFactory saajSoapMessageFactory = new SaajSoapMessageFactory();\r\n//        saajSoapMessageFactory.setSoapVersion(SoapVersion.SOAP_12);\r\n//        return saajSoapMessageFactory;\r\n//    }\r\n```\r\n\r\nAlso another point I think I should add to the problem is that, when I tried sending the request without the headers section(commented the code inside WebServiceMessageCallback), it actually worked but obviously received a bad response from the webservice, but the point here is that it actually worked without headers may be that&#39;s where we need to look.\r\n\r\nPlease let me know if I should add more info to the question.\r\n\r\n","title":"spring ws soap mtom request error - Cannot create message: incorrect content-type for SOAP version. Got multipart/related; but expected text/xml","body":"<p>I am trying to send a mtom enabled soap request which works fine when invoked via SoapUI, but it gives the below error when sent using spring ws api-</p>\n<pre><code>SEVERE: SAAJ0533: Cannot create message: incorrect content-type for SOAP version. Got multipart/related; boundary=&quot;----=_Part_0_1559020039.1653221075665&quot;; \n    type=&quot;application/soap+xml&quot;; start-info=&quot;text/xml&quot;, but expected text/xml\n\n\norg.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: Unable to internalize message; nested exception is com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Unable to internalize message\n</code></pre>\n<p>Here is the code for the Soap client:-</p>\n<pre><code>FileUploadRequestType fileUploadRequestType = this.objectFactory.createFileUploadRequestType();\n\n        fileUploadRequestType.setFileType(FileTypeType.TXT);\n        fileUploadRequestType.setFileName(&quot;Transactions_20200424_80.txt&quot;);\n\n        fileUploadRequestType.setAttachmentID(new DataHandler(\n                Thread.currentThread().getContextClassLoader()\n                        .getResource(&quot;Transactions_20200424_80.txt&quot;)));\n\n        JAXBElement&lt;FileUploadRequestType&gt; fileRequestJAXBElement\n                = objectFactory.createFileUploadRequest(fileUploadRequestType);\n\n        WebServiceMessageCallback webServiceMessageCallback = (WebServiceMessage message) -&gt; {\n\n            SoapHeader soapHeader = ((SoapMessage) message).getSoapHeader();\n            RequestContextType requestContextType = objectFactory.createRequestContextType();\n            requestContextType.setRequestID(&quot;c09e319d-8e9f-4a32-9226-0df9f9bf3601&quot;);\n            requestContextType.setServiceName(SrvcNameType.LYREPORT);\n            requestContextType.setRequestChannel(ChannelType.SYSTEM);\n            requestContextType.setMessageTime(LocalDateTime.now().truncatedTo(ChronoUnit.SECONDS).toString());\n            requestContextType.setPartner(PartnerType.ALPHA);\n            JAXBElement&lt;RequestContextType&gt; headerJAXBElement = objectFactory.createRequestContext(requestContextType);\n\n            // create a marshaller\n            JAXBContext context = null;\n            Marshaller marshaller = null;\n            try {\n                context = JAXBContext.newInstance(RequestContextType.class);\n                marshaller = context.createMarshaller();\n                marshaller.marshal(headerJAXBElement, soapHeader.getResult());\n            } catch (JAXBException e) {\n                System.out.println(&quot;Error while marshalling headers.&quot;);\n                e.printStackTrace();\n            }\n        };\n\n        ResponseContextType responseContextType = null;\n        try {\n            getWebServiceTemplate().marshalSendAndReceive(fileRequestJAXBElement, webServiceMessageCallback);\n            responseContextType = MtomClientConfig.responseContextType;\n\n        } catch (WebServiceIOException e) {\n            System.out.println(&quot;Could not connect to the soap web service.&quot;);\n            throw new RuntimeException(e.getLocalizedMessage());\n        } \n</code></pre>\n<p>Here is the Configuration:-</p>\n<pre><code>@Configuration\npublic class MtomClientConfig {\n\n    public static ResponseContextType responseContextType = new ResponseContextType();\n\n    @Bean\n    public Jaxb2Marshaller marshaller() {\n\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n        marshaller.setContextPath(&quot;org.springframework.ws.samples.mtom.client.sws&quot;);\n        marshaller.setMtomEnabled(true);\n        return marshaller;\n    }\n\n    @Bean\n    public SaajSoapMessageFactory saajSoapMessageFactory() {\n        SaajSoapMessageFactory messageFactory = new SaajSoapMessageFactory();\n        return messageFactory;\n    }\n\n\n    @Bean\n    public SaajMtomClient saajClient(Jaxb2Marshaller marshaller, SaajSoapMessageFactory saajSoapMessageFactory ) throws SOAPException {\n\n        WebServiceTemplate webServiceTemplate = new WebServiceTemplate();\n        HttpsUrlConnectionMessageSender messageSender = new HttpsUrlConnectionMessageSender();\n        messageSender.setTrustManagers(new TrustManager[]{new UnTrustworthyTrustManager()});\n\n        webServiceTemplate.setMessageSender(messageSender);\n        webServiceTemplate.setMessageFactory(saajSoapMessageFactory);\n        \n        SaajMtomClient client = new SaajMtomClient();\n        client.setWebServiceTemplate(webServiceTemplate);\n        client.setDefaultUri(&quot;https://host:port/GW/AlphaServices/FileUpload&quot;);\n        client.setMarshaller(marshaller);\n        client.setUnmarshaller(marshaller);\n        return client;\n    }\n}\n</code></pre>\n<p>I also tried setting the SOAP version 1.2 by configuring the below MessageFactories but then it gives the below error:-</p>\n<pre><code>SEVERE: SAAJ0415: InputStream does not represent a valid SOAP 1.2 Message\n\norg.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: InputStream does not represent a valid SOAP 1.2 Message; nested exception is javax.xml.soap.SOAPException: InputStream does not represent a valid SOAP 1.2 Message\n</code></pre>\n<p>MessageFactory to set SOAP version 1.2:-</p>\n<pre><code>    @Bean\n    public SaajSoapMessageFactory saajSoapMessageFactory() {\n        SaajSoapMessageFactory messageFactory = new SaajSoapMessageFactory();\n        messageFactory.setSoapVersion(SoapVersion.SOAP_12);\n        return messageFactory;\n    }\n\n//    @Bean\n//    public WebServiceMessageFactory webServiceMessageFactory() throws SOAPException {\n//        SaajSoapMessageFactory saajSoapMessageFactory = new SaajSoapMessageFactory();\n//        saajSoapMessageFactory.setSoapVersion(SoapVersion.SOAP_12);\n//        return saajSoapMessageFactory;\n//    }\n</code></pre>\n<p>Also another point I think I should add to the problem is that, when I tried sending the request without the headers section(commented the code inside WebServiceMessageCallback), it actually worked but obviously received a bad response from the webservice, but the point here is that it actually worked without headers may be that's where we need to look.</p>\n<p>Please let me know if I should add more info to the question.</p>\n"},{"tags":["java","swing","radio-button","applet"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1376273727,"post_id":18178621,"comment_id":26635247,"body_markdown":"Your process for programming is off. If you can&#39;t use an IDE that notifies you immediately of compilation errors, then you should compile your code early and often as you add to it, perhaps after each 1-2 new lines. The key here is to not add any new code until ***all*** compilation errors are fixed. Otherwise you risk ending up with a rat&#39;s nest of errors like we see here.","body":"Your process for programming is off. If you can&#39;t use an IDE that notifies you immediately of compilation errors, then you should compile your code early and often as you add to it, perhaps after each 1-2 new lines. The key here is to not add any new code until <b><i>all</i></b> compilation errors are fixed. Otherwise you risk ending up with a rat&#39;s nest of errors like we see here."},{"owner":{"account_id":2779772,"reputation":25,"user_id":2392513,"display_name":"Programming Noob"},"score":0,"creation_date":1376274679,"post_id":18178621,"comment_id":26635417,"body_markdown":"I didn&#39;t use an IDE for this, I just typed it up in notepad like a barbarian.  This is my first Java assignment so I figured I would try it out without an IDE.","body":"I didn&#39;t use an IDE for this, I just typed it up in notepad like a barbarian.  This is my first Java assignment so I figured I would try it out without an IDE."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1376275413,"post_id":18178621,"comment_id":26635572,"body_markdown":"Regardless, the process is the same: 1) fix all compilation errors early. 2) **Never** add good code to bad. 3) Study and learn from all error messages.","body":"Regardless, the process is the same: 1) fix all compilation errors early. 2) <b>Never</b> add good code to bad. 3) Study and learn from all error messages."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1376275565,"post_id":18178621,"comment_id":26635600,"body_markdown":"*&quot;Swing, SWT, and AWT&quot;*  Concentrate on Swing, ignore SWT unless it is an explicit requirement, ignore all the AWT **components** (is my advice).  Re AWT/Swing, see this answer on [Swing extras over AWT](http://stackoverflow.com/a/6255978/418556) for many good reasons to abandon using AWT components.","body":"<i>&quot;Swing, SWT, and AWT&quot;</i>  Concentrate on Swing, ignore SWT unless it is an explicit requirement, ignore all the AWT <b>components</b> (is my advice).  Re AWT/Swing, see this answer on <a href=\"http://stackoverflow.com/a/6255978/418556\">Swing extras over AWT</a> for many good reasons to abandon using AWT components."},{"owner":{"account_id":2779772,"reputation":25,"user_id":2392513,"display_name":"Programming Noob"},"score":1,"creation_date":1376275607,"post_id":18178621,"comment_id":26635608,"body_markdown":"I see.  I was never instructed to compile as I go along (which I suppose wouldn&#39;t be necessary with an IDE).  All I have to go along with my programming ventures is my online school lessons, which are quite poorly instructed unfortunately.  Thank you for the input, I&#39;ll keep this in mind; as well as get an IDE.","body":"I see.  I was never instructed to compile as I go along (which I suppose wouldn&#39;t be necessary with an IDE).  All I have to go along with my programming ventures is my online school lessons, which are quite poorly instructed unfortunately.  Thank you for the input, I&#39;ll keep this in mind; as well as get an IDE."},{"owner":{"account_id":2779772,"reputation":25,"user_id":2392513,"display_name":"Programming Noob"},"score":0,"creation_date":1376275682,"post_id":18178621,"comment_id":26635631,"body_markdown":"Swing is what I&#39;ll be programming in, I suppose I worded that poorly.  I&#39;ll be coding with Swing, but had to research and learn about SWT and AWT.","body":"Swing is what I&#39;ll be programming in, I suppose I worded that poorly.  I&#39;ll be coding with Swing, but had to research and learn about SWT and AWT."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1376360569,"post_id":18178621,"comment_id":26672744,"body_markdown":"BTW - Why code an applet?  If it is due to spec. by teacher, please refer them to [Why CS teachers should stop teaching Java applets](http://programmers.blogoverflow.com/2013/05/why-cs-teachers-should-stop-teaching-java-applets/).","body":"BTW - Why code an applet?  If it is due to spec. by teacher, please refer them to <a href=\"http://programmers.blogoverflow.com/2013/05/why-cs-teachers-should-stop-teaching-java-applets/\" rel=\"nofollow noreferrer\">Why CS teachers should stop teaching Java applets</a>."},{"owner":{"account_id":2779772,"reputation":25,"user_id":2392513,"display_name":"Programming Noob"},"score":0,"creation_date":1376369598,"post_id":18178621,"comment_id":26674746,"body_markdown":"Yes, it was the instructions that I was given by the teacher.  I&#39;ll direct them to that article!","body":"Yes, it was the instructions that I was given by the teacher.  I&#39;ll direct them to that article!"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1376277249,"creation_date":1376273145,"answer_id":18178636,"question_id":18178621,"body_markdown":"Change...\r\n\r\n    picture = newJLabel(createImageIcon(&quot;images/&quot;+ windowsString + &quot;.gif&quot;));\r\n\r\nto...\r\n\r\n    picture = new JLabel(createImageIcon(&quot;images/&quot;+ windowsString + &quot;.gif&quot;));\r\n\r\nChange\r\n\r\n    radiopanel.add(macButton);\r\n\r\nto...\r\n\r\n    radioPanel.add(macButton);\r\n\r\nJava is case sensitve, variable names case must match\r\n\r\nThis...\r\n\r\n    JComponent newContentPane = new RadioButtonDemo();\r\n\r\nI suspect is a copy/paste error.  You change the `class` name of the original code, but forgot to change any references to it.\r\n\r\nTry...\r\n\r\n    JComponent newContentPane = new OSButtons();\r\n\r\nInstead\r\n\r\n**Update**\r\n\r\nOkay. Let&#39;s assume that you have your source files in `C:\\Users\\Keith\\Desktop\\components`.\r\n\r\nAt the command prompt your would compile them by using something like...\r\n\r\n    C:\\&gt; cd C:\\Users\\Keith\\Desktop\r\n    C:\\Users\\Keith\\Desktop&gt; javac components.OSButtons.java\r\n    C:\\Users\\Keith\\Desktop&gt; java components.OSButtons\r\n\r\nThere is a direct coalition between the package name and the expected directory of the class files.","title":"Troubleshooting a Swing Radio Buttons Applet","body":"<p>Change...</p>\n\n<pre><code>picture = newJLabel(createImageIcon(\"images/\"+ windowsString + \".gif\"));\n</code></pre>\n\n<p>to...</p>\n\n<pre><code>picture = new JLabel(createImageIcon(\"images/\"+ windowsString + \".gif\"));\n</code></pre>\n\n<p>Change</p>\n\n<pre><code>radiopanel.add(macButton);\n</code></pre>\n\n<p>to...</p>\n\n<pre><code>radioPanel.add(macButton);\n</code></pre>\n\n<p>Java is case sensitve, variable names case must match</p>\n\n<p>This...</p>\n\n<pre><code>JComponent newContentPane = new RadioButtonDemo();\n</code></pre>\n\n<p>I suspect is a copy/paste error.  You change the <code>class</code> name of the original code, but forgot to change any references to it.</p>\n\n<p>Try...</p>\n\n<pre><code>JComponent newContentPane = new OSButtons();\n</code></pre>\n\n<p>Instead</p>\n\n<p><strong>Update</strong></p>\n\n<p>Okay. Let's assume that you have your source files in <code>C:\\Users\\Keith\\Desktop\\components</code>.</p>\n\n<p>At the command prompt your would compile them by using something like...</p>\n\n<pre><code>C:\\&gt; cd C:\\Users\\Keith\\Desktop\nC:\\Users\\Keith\\Desktop&gt; javac components.OSButtons.java\nC:\\Users\\Keith\\Desktop&gt; java components.OSButtons\n</code></pre>\n\n<p>There is a direct coalition between the package name and the expected directory of the class files.</p>\n"}],"owner":{"account_id":2779772,"reputation":25,"user_id":2392513,"display_name":"Programming Noob"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18178636,"answer_count":1,"score":1,"last_activity_date":1656842708,"creation_date":1376273036,"question_id":18178621,"body_markdown":"I have to create a Swing applet for a school assignment, and was given a link (http://java.sun.com/docs/books/tutorial/uiswing/components/index.html) to look at various Swing tutorials and use one of them to create a unique Java applet.  I chose to follow the code for the How To Use Radio Buttons tutorial.  I read through the code and typed it up while changing things so that they would match my pictures.  The code I have is \r\n\r\n    package components;\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n\r\n    public class OSButtons extends JPanel implements ActionListener {\r\n\r\n        static String windowsString = &quot;Windows&quot;;\r\n        static String linuxString = &quot;Linux&quot;;\r\n        static String macString = &quot;Mac&quot;;\r\n\r\n        JLabel picture;\r\n\r\n        public OSButtons() {\r\n            super(new BorderLayout());\r\n\r\n            JRadioButton windowsButton = new JRadioButton(windowsString);\r\n            windowsButton.setMnemonic(KeyEvent.VK_W);\r\n            windowsButton.setActionCommand(windowsString);\r\n            windowsButton.setSelected(true);\r\n\r\n            JRadioButton linuxButton = new JRadioButton(linuxString);\r\n            linuxButton.setMnemonic(KeyEvent.VK_L);\r\n            linuxButton.setActionCommand(linuxString);\r\n\r\n            JRadioButton macButton = new JRadioButton(macString);\r\n            macButton.setMnemonic(KeyEvent.VK_M);\r\n            macButton.setActionCommand(macString);\r\n\r\n            ButtonGroup group = new ButtonGroup();\r\n            group.add(windowsButton);\r\n            group.add(linuxButton);\r\n            group.add(macButton);\r\n\r\n            windowsButton.addActionListener(this);\r\n            linuxButton.addActionListener(this);\r\n            macButton.addActionListener(this);\r\n\r\n            picture = new JLabel(createImageIcon(&quot;images/&quot; + windowsString + &quot;.gif&quot;));\r\n            picture.setPreferredSize(new Dimension(200, 150));\r\n\r\n            JPanel radioPanel = new JPanel(new GridLayout(0, 1));\r\n            radioPanel.add(windowsButton);\r\n            radioPanel.add(linuxButton);\r\n            radioPanel.add(macButton);\r\n\r\n            add(radioPanel, BorderLayout.LINE_START);\r\n            add(picture, BorderLayout.CENTER);\r\n            setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\r\n        }\r\n\r\n        public void actionPerformed(ActionEvent e) {\r\n            picture.setIcon(createImageIcon(&quot;images/&quot; + e.getActionCommand() + &quot;.gif&quot;));\r\n        }\r\n\r\n        protected static ImageIcon createImageIcon(String path) {\r\n            java.net.URL imgURL = OSButtons.class.getResource(path);\r\n            if (imgURL != null) {\r\n                return new ImageIcon(imgURL);\r\n            } else {\r\n                System.err.println(&quot;Couldn&#39;t find file: &quot; + path);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        private static void createAndShowGUI() {\r\n            JFrame frame = new JFrame(&quot;OSButtons&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n            JComponent newContentPane = new RadioButtonDemo();\r\n            newContentPane.setOpaque(true);\r\n            frame.setContentPane(newContentPane);\r\n\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            javax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    createAndShowGUI();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nI hope that&#39;s readable.  Anyways, I compiled the code and it came up with these errors:\r\n\r\n![enter image description here][1]\r\n\r\nI really have no idea how to proceed from here as far as fixing these, this assignment was kind of thrown onto me and I had to research Swing, SWT, and AWT completely on my own.  Any help that could be offered would be greatly appreciated.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/dTj6R.jpg","title":"Troubleshooting a Swing Radio Buttons Applet","body":"<p>I have to create a Swing applet for a school assignment, and was given a link (<a href=\"http://java.sun.com/docs/books/tutorial/uiswing/components/index.html\" rel=\"nofollow noreferrer\">http://java.sun.com/docs/books/tutorial/uiswing/components/index.html</a>) to look at various Swing tutorials and use one of them to create a unique Java applet.  I chose to follow the code for the How To Use Radio Buttons tutorial.  I read through the code and typed it up while changing things so that they would match my pictures.  The code I have is </p>\n\n<pre><code>package components;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class OSButtons extends JPanel implements ActionListener {\n\n    static String windowsString = \"Windows\";\n    static String linuxString = \"Linux\";\n    static String macString = \"Mac\";\n\n    JLabel picture;\n\n    public OSButtons() {\n        super(new BorderLayout());\n\n        JRadioButton windowsButton = new JRadioButton(windowsString);\n        windowsButton.setMnemonic(KeyEvent.VK_W);\n        windowsButton.setActionCommand(windowsString);\n        windowsButton.setSelected(true);\n\n        JRadioButton linuxButton = new JRadioButton(linuxString);\n        linuxButton.setMnemonic(KeyEvent.VK_L);\n        linuxButton.setActionCommand(linuxString);\n\n        JRadioButton macButton = new JRadioButton(macString);\n        macButton.setMnemonic(KeyEvent.VK_M);\n        macButton.setActionCommand(macString);\n\n        ButtonGroup group = new ButtonGroup();\n        group.add(windowsButton);\n        group.add(linuxButton);\n        group.add(macButton);\n\n        windowsButton.addActionListener(this);\n        linuxButton.addActionListener(this);\n        macButton.addActionListener(this);\n\n        picture = new JLabel(createImageIcon(\"images/\" + windowsString + \".gif\"));\n        picture.setPreferredSize(new Dimension(200, 150));\n\n        JPanel radioPanel = new JPanel(new GridLayout(0, 1));\n        radioPanel.add(windowsButton);\n        radioPanel.add(linuxButton);\n        radioPanel.add(macButton);\n\n        add(radioPanel, BorderLayout.LINE_START);\n        add(picture, BorderLayout.CENTER);\n        setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        picture.setIcon(createImageIcon(\"images/\" + e.getActionCommand() + \".gif\"));\n    }\n\n    protected static ImageIcon createImageIcon(String path) {\n        java.net.URL imgURL = OSButtons.class.getResource(path);\n        if (imgURL != null) {\n            return new ImageIcon(imgURL);\n        } else {\n            System.err.println(\"Couldn't find file: \" + path);\n            return null;\n        }\n    }\n\n    private static void createAndShowGUI() {\n        JFrame frame = new JFrame(\"OSButtons\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JComponent newContentPane = new RadioButtonDemo();\n        newContentPane.setOpaque(true);\n        frame.setContentPane(newContentPane);\n\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                createAndShowGUI();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>I hope that's readable.  Anyways, I compiled the code and it came up with these errors:</p>\n\n<p><img src=\"https://i.stack.imgur.com/dTj6R.jpg\" alt=\"enter image description here\"></p>\n\n<p>I really have no idea how to proceed from here as far as fixing these, this assignment was kind of thrown onto me and I had to research Swing, SWT, and AWT completely on my own.  Any help that could be offered would be greatly appreciated.</p>\n"},{"tags":["java","multithreading","synchronization","synchronized","runnable"],"comments":[{"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"score":0,"creation_date":1315268327,"post_id":7313657,"comment_id":8815796,"body_markdown":"the queue is faulty (the Object monitor is not fair, and the second thread might get to run before the first), the only reason I can imagine is to ensure that when a runnable is submitted twice to a executor/thread it doesn&#39;t create races","body":"the queue is faulty (the Object monitor is not fair, and the second thread might get to run before the first), the only reason I can imagine is to ensure that when a runnable is submitted twice to a executor/thread it doesn&#39;t create races"},{"owner":{"account_id":452761,"reputation":385,"user_id":849368,"display_name":"MHP"},"score":0,"creation_date":1315268414,"post_id":7313657,"comment_id":8815807,"body_markdown":"@irreputable My professor did it in an example. I would never personally--except I am waiting to see if there is any brilliant reason for doing it that no one hasn&#39;t been pointed out yet.","body":"@irreputable My professor did it in an example. I would never personally--except I am waiting to see if there is any brilliant reason for doing it that no one hasn&#39;t been pointed out yet."},{"owner":{"account_id":452761,"reputation":385,"user_id":849368,"display_name":"MHP"},"score":0,"creation_date":1315268638,"post_id":7313657,"comment_id":8815838,"body_markdown":"@ratchet Good point. I guess you would only want the synchronized run it if there is a strange reason why another Thread might be executed on the same object. But even then, I would solve it differently I think.","body":"@ratchet Good point. I guess you would only want the synchronized run it if there is a strange reason why another Thread might be executed on the same object. But even then, I would solve it differently I think."},{"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"score":2,"creation_date":1315268988,"post_id":7313657,"comment_id":8815871,"body_markdown":"@MHP an atomic boolean hasRun and a `if(!hasRun.CompareAndSwap(false,true))return;` in the run is better (as it doesn&#39;t block a thread and ensures the run is only executed once) but requires extra code and a separate var","body":"@MHP an atomic boolean hasRun and a <code>if(!hasRun.CompareAndSwap(false,true))return;</code> in the run is better (as it doesn&#39;t block a thread and ensures the run is only executed once) but requires extra code and a separate var"},{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":0,"creation_date":1315271252,"post_id":7313657,"comment_id":8816093,"body_markdown":"It&#39;s quite odd.  I&#39;m a bit worried about the teaching you are getting.  You obviously can see through the fog, but that&#39;s probably not the case for everyone in your class.  It&#39;s an annoying situation when you have to do homework: you do the normal thing or the thing your professor does?","body":"It&#39;s quite odd.  I&#39;m a bit worried about the teaching you are getting.  You obviously can see through the fog, but that&#39;s probably not the case for everyone in your class.  It&#39;s an annoying situation when you have to do homework: you do the normal thing or the thing your professor does?"}],"answers":[{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656842694,"creation_date":1315266827,"answer_id":7313680,"question_id":7313657,"body_markdown":"There is 1 advantage to using `synchronized void blah()` over `void blah() { synchronized(this) {` and that is your resulting bytecode will be 1 byte shorter, since the synchronization will be part of the method signature instead of an operation by itself. This may influence the chance to inline the method by the JIT compiler. Other than that there is no difference.\r\n\r\nThe best option is to use an internal `private final Object lock = new Object()` to prevent someone from potentially locking your monitor. It achieves the same result without the downside of the evil outside locking. You do have that extra byte, but it rarely makes a difference.\r\n\r\nSo I would say no, don&#39;t use the `synchronized` keyword in the signature. Instead, use something like\r\n\r\n    public class ThreadedClass implements Runnable{\r\n        private final Object lock = new Object();\r\n    \r\n        public void run(){\r\n            synchronized(lock) {\r\n                while(true)\r\n                     //do some stuff in a thread\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nEdit in response to comment:\r\n\r\nConsider what synchronization does: it prevents other threads from entering the same code block. So imagine you have a class like the one below. Let&#39;s say the current size is 10. Someone tries to perform an add and it forces a resize of the backing array. While they&#39;re in the middle of resizing the array, someone calls a `makeExactSize(5)` on a different thread. Now all of a sudden you&#39;re trying to access `data[6]` and it bombs out on you. Synchronization is supposed to prevent that from happening. In multithreaded programs you simply NEED synchronization.\r\n\r\n    class Stack {\r\n        int[] data = new int[10];\r\n        int pos = 0;\r\n    \r\n        void add(int inc) {\r\n            if(pos == data.length) {\r\n                int[] tmp = new int[pos*2];\r\n                for(int i = 0; i &lt; pos; i++) tmp[i] = data[i];\r\n                data = tmp;\r\n            }\r\n            data[pos++] = inc;\r\n        }\r\n    \r\n        int remove() {\r\n            return data[pos--];\r\n        }\r\n    \r\n        void makeExactSize(int size) {\r\n            int[] tmp = new int[size];\r\n            for(int i = 0; i &lt; size; i++) tmp[i] = data[i];\r\n            data = tmp;\r\n        }\r\n    }","title":"Should you synchronize the run method? Why or why not?","body":"<p>There is 1 advantage to using <code>synchronized void blah()</code> over <code>void blah() { synchronized(this) {</code> and that is your resulting bytecode will be 1 byte shorter, since the synchronization will be part of the method signature instead of an operation by itself. This may influence the chance to inline the method by the JIT compiler. Other than that there is no difference.</p>\n<p>The best option is to use an internal <code>private final Object lock = new Object()</code> to prevent someone from potentially locking your monitor. It achieves the same result without the downside of the evil outside locking. You do have that extra byte, but it rarely makes a difference.</p>\n<p>So I would say no, don't use the <code>synchronized</code> keyword in the signature. Instead, use something like</p>\n<pre><code>public class ThreadedClass implements Runnable{\n    private final Object lock = new Object();\n\n    public void run(){\n        synchronized(lock) {\n            while(true)\n                 //do some stuff in a thread\n            }\n        }\n    }\n}\n</code></pre>\n<p>Edit in response to comment:</p>\n<p>Consider what synchronization does: it prevents other threads from entering the same code block. So imagine you have a class like the one below. Let's say the current size is 10. Someone tries to perform an add and it forces a resize of the backing array. While they're in the middle of resizing the array, someone calls a <code>makeExactSize(5)</code> on a different thread. Now all of a sudden you're trying to access <code>data[6]</code> and it bombs out on you. Synchronization is supposed to prevent that from happening. In multithreaded programs you simply NEED synchronization.</p>\n<pre><code>class Stack {\n    int[] data = new int[10];\n    int pos = 0;\n\n    void add(int inc) {\n        if(pos == data.length) {\n            int[] tmp = new int[pos*2];\n            for(int i = 0; i &lt; pos; i++) tmp[i] = data[i];\n            data = tmp;\n        }\n        data[pos++] = inc;\n    }\n\n    int remove() {\n        return data[pos--];\n    }\n\n    void makeExactSize(int size) {\n        int[] tmp = new int[size];\n        for(int i = 0; i &lt; size; i++) tmp[i] = data[i];\n        data = tmp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315267499,"creation_date":1315267097,"answer_id":7313712,"question_id":7313657,"body_markdown":"Well you could theoretically call the run method itself without problem (after all it is public). But that doesn&#39;t mean one should do it. So basically there&#39;s no reason to do this, apart from adding negligible overhead to the thread calling run(). Well except if you use the instance multiple times calling `new Thread` - although I&#39;m a) not sure that&#39;s legal with the threading API and b) seems completely useless.\r\n\r\nAlso your `createThreadQueue` doesn&#39;t work. `synchronized` on a non-static method synchronizes on the instance object (ie `this`), so all three threads will run in parallel.","title":"Should you synchronize the run method? Why or why not?","body":"<p>Well you could theoretically call the run method itself without problem (after all it is public). But that doesn't mean one should do it. So basically there's no reason to do this, apart from adding negligible overhead to the thread calling run(). Well except if you use the instance multiple times calling <code>new Thread</code> - although I'm a) not sure that's legal with the threading API and b) seems completely useless.</p>\n\n<p>Also your <code>createThreadQueue</code> doesn't work. <code>synchronized</code> on a non-static method synchronizes on the instance object (ie <code>this</code>), so all three threads will run in parallel.</p>\n"},{"tags":[],"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1315272083,"creation_date":1315272083,"answer_id":7314091,"question_id":7313657,"body_markdown":"Why?  Minimal extra safety and I don&#39;t see any plausible scenario where it would make a difference.\r\n\r\nWhy not?  It&#39;s not standard.  If you are coding as part of a team, when some other member sees your synchronized `run` he&#39;ll probably waste 30 minutes trying to figure out what is so special either with your `run` or with the framework you are using to run the `Runnable`&#39;s.","title":"Should you synchronize the run method? Why or why not?","body":"<p>Why?  Minimal extra safety and I don't see any plausible scenario where it would make a difference.</p>\n\n<p>Why not?  It's not standard.  If you are coding as part of a team, when some other member sees your synchronized <code>run</code> he'll probably waste 30 minutes trying to figure out what is so special either with your <code>run</code> or with the framework you are using to run the <code>Runnable</code>'s.</p>\n"},{"tags":[],"owner":{"account_id":165635,"reputation":7046,"user_id":389255,"accept_rate":63,"display_name":"James Gan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315273282,"creation_date":1315273282,"answer_id":7314176,"question_id":7313657,"body_markdown":"From my experience, it&#39;s not useful to add &quot;synchronized&quot; keyword to run() method. If we need synchronize multiple threads, or we need a thread-safe queue, we can use more appropriate components, such as ConcurrentLinkedQueue.","title":"Should you synchronize the run method? Why or why not?","body":"<p>From my experience, it's not useful to add \"synchronized\" keyword to run() method. If we need synchronize multiple threads, or we need a thread-safe queue, we can use more appropriate components, such as ConcurrentLinkedQueue.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1536663996,"creation_date":1315302284,"answer_id":7317915,"question_id":7313657,"body_markdown":"Synchronizing the `run(`) method of a `Runnable` is completely pointless *unless* you want to share the `Runnable` among multiple threads *and* you want to sequentialize the execution of those threads. Which is basically a contradiction in terms.\r\n\r\nThere is in theory another much more complicated scenario in which you might want to synchronize the `run()` method, which again involves sharing the `Runnable` among multiple threads but also makes use of `wait()` and `notify()`. I&#39;ve never encountered it in 21+ years of Java.","title":"Should you synchronize the run method? Why or why not?","body":"<p>Synchronizing the <code>run(</code>) method of a <code>Runnable</code> is completely pointless <em>unless</em> you want to share the <code>Runnable</code> among multiple threads <em>and</em> you want to sequentialize the execution of those threads. Which is basically a contradiction in terms.</p>\n\n<p>There is in theory another much more complicated scenario in which you might want to synchronize the <code>run()</code> method, which again involves sharing the <code>Runnable</code> among multiple threads but also makes use of <code>wait()</code> and <code>notify()</code>. I've never encountered it in 21+ years of Java.</p>\n"},{"tags":[],"owner":{"account_id":1924499,"reputation":769,"user_id":1735269,"accept_rate":40,"display_name":"somshivam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470585509,"creation_date":1470585509,"answer_id":38815929,"question_id":7313657,"body_markdown":"Go through the code comments and uncomment and run the different blocks to clearly see the difference, note synchronization will have a difference only if the same runnable instance is used, if each thread started gets a new runnable it won&#39;t make any difference.\r\n\r\n\r\n    class Kat{\r\n    \r\n    public static void main(String... args){\r\n      Thread t1;\r\n      // MyUsualRunnable is usual stuff, only this will allow concurrency\r\n      MyUsualRunnable m0 = new MyUsualRunnable();\r\n      for(int i = 0; i &lt; 5; i++){\r\n      t1 = new Thread(m0);//*imp*  here all threads created are passed the same runnable instance\r\n      t1.start();\r\n      }\r\n    \r\n      // run() method is synchronized , concurrency killed\r\n      // uncomment below block and run to see the difference\r\n    \r\n      MySynchRunnable1 m1 = new MySynchRunnable1();\r\n      for(int i = 0; i &lt; 5; i++){\r\n      t1 = new Thread(m1);//*imp*  here all threads created are passed the same runnable instance, m1\r\n      // if new insances of runnable above were created for each loop then synchronizing will have no effect\r\n    \r\n      t1.start();\r\n    }\r\n    \r\n      // run() method has synchronized block which lock on runnable instance , concurrency killed\r\n      // uncomment below block and run to see the difference\r\n      /*\r\n      MySynchRunnable2 m2 = new MySynchRunnable2();\r\n      for(int i = 0; i &lt; 5; i++){\r\n      // if new insances of runnable above were created for each loop then synchronizing will have no effect\r\n      t1 = new Thread(m2);//*imp*  here all threads created are passed the same runnable instance, m2\r\n      t1.start();\r\n    }*/\r\n    \r\n    }\r\n    }\r\n    \r\n    class MyUsualRunnable implements Runnable{\r\n      @Override\r\n      public void  run(){\r\n        try {Thread.sleep(1000);} catch (InterruptedException e) {}\r\n    }\r\n    }\r\n    \r\n    class MySynchRunnable1 implements Runnable{\r\n      // this is implicit synchronization\r\n      //on the runnable instance as the run()\r\n      // method is synchronized\r\n      @Override\r\n      public synchronized void  run(){\r\n        try {Thread.sleep(1000);} catch (InterruptedException e) {}\r\n    }\r\n    }\r\n    \r\n    class MySynchRunnable2 implements Runnable{\r\n      // this is explicit synchronization\r\n      //on the runnable instance\r\n      //inside the synchronized block\r\n      // MySynchRunnable2 is totally equivalent to MySynchRunnable1\r\n      // usually we never synchronize on this or synchronize the run() method\r\n      @Override\r\n      public void  run(){\r\n        synchronized(this){\r\n        try {Thread.sleep(1000);} catch (InterruptedException e) {}\r\n      }\r\n    }\r\n    }\r\n\r\n","title":"Should you synchronize the run method? Why or why not?","body":"<p>Go through the code comments and uncomment and run the different blocks to clearly see the difference, note synchronization will have a difference only if the same runnable instance is used, if each thread started gets a new runnable it won't make any difference.</p>\n\n<pre><code>class Kat{\n\npublic static void main(String... args){\n  Thread t1;\n  // MyUsualRunnable is usual stuff, only this will allow concurrency\n  MyUsualRunnable m0 = new MyUsualRunnable();\n  for(int i = 0; i &lt; 5; i++){\n  t1 = new Thread(m0);//*imp*  here all threads created are passed the same runnable instance\n  t1.start();\n  }\n\n  // run() method is synchronized , concurrency killed\n  // uncomment below block and run to see the difference\n\n  MySynchRunnable1 m1 = new MySynchRunnable1();\n  for(int i = 0; i &lt; 5; i++){\n  t1 = new Thread(m1);//*imp*  here all threads created are passed the same runnable instance, m1\n  // if new insances of runnable above were created for each loop then synchronizing will have no effect\n\n  t1.start();\n}\n\n  // run() method has synchronized block which lock on runnable instance , concurrency killed\n  // uncomment below block and run to see the difference\n  /*\n  MySynchRunnable2 m2 = new MySynchRunnable2();\n  for(int i = 0; i &lt; 5; i++){\n  // if new insances of runnable above were created for each loop then synchronizing will have no effect\n  t1 = new Thread(m2);//*imp*  here all threads created are passed the same runnable instance, m2\n  t1.start();\n}*/\n\n}\n}\n\nclass MyUsualRunnable implements Runnable{\n  @Override\n  public void  run(){\n    try {Thread.sleep(1000);} catch (InterruptedException e) {}\n}\n}\n\nclass MySynchRunnable1 implements Runnable{\n  // this is implicit synchronization\n  //on the runnable instance as the run()\n  // method is synchronized\n  @Override\n  public synchronized void  run(){\n    try {Thread.sleep(1000);} catch (InterruptedException e) {}\n}\n}\n\nclass MySynchRunnable2 implements Runnable{\n  // this is explicit synchronization\n  //on the runnable instance\n  //inside the synchronized block\n  // MySynchRunnable2 is totally equivalent to MySynchRunnable1\n  // usually we never synchronize on this or synchronize the run() method\n  @Override\n  public void  run(){\n    synchronized(this){\n    try {Thread.sleep(1000);} catch (InterruptedException e) {}\n  }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":452761,"reputation":385,"user_id":849368,"display_name":"MHP"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47408,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":7317915,"answer_count":6,"score":37,"last_activity_date":1656842694,"creation_date":1315266476,"question_id":7313657,"body_markdown":"I have always thought that synchronizing the run method in a java class which implements Runnable is redundant. **I am trying to figure out why people do this:**\r\n\r\n    public class ThreadedClass implements Runnable{\r\n        //other stuff\r\n        public synchronized void run(){\r\n            while(true)\r\n                 //do some stuff in a thread\r\n            }\r\n        }\r\n    }\r\n\r\nIt seems redundant and unnecessary since they are obtaining the object&#39;s lock for another thread. Or rather, they are making explicit that only one thread has access to the run() method. But since its the run method, isn&#39;t it itself its own thread? Therefore, only it can access itself and it doesn&#39;t need a separate locking mechanism?\r\n\r\nI found a suggestion online that by synchronizing the run method you could potentially create a de-facto thread queue for instance by doing this:\r\n\r\n     public void createThreadQueue(){\r\n        ThreadedClass a = new ThreadedClass();\r\n        new Thread(a, &quot;First one&quot;).start();\r\n        new Thread(a, &quot;Second one, waiting on the first one&quot;).start();\r\n        new Thread(a, &quot;Third one, waiting on the other two...&quot;).start();\r\n     }\r\n\r\nI would never do that personally, but it lends to the question of why anyone would synchronize the run method. ***Any ideas why or why not one should synchronize the run method?***\r\n","title":"Should you synchronize the run method? Why or why not?","body":"<p>I have always thought that synchronizing the run method in a java class which implements Runnable is redundant. <strong>I am trying to figure out why people do this:</strong></p>\n\n<pre><code>public class ThreadedClass implements Runnable{\n    //other stuff\n    public synchronized void run(){\n        while(true)\n             //do some stuff in a thread\n        }\n    }\n}\n</code></pre>\n\n<p>It seems redundant and unnecessary since they are obtaining the object's lock for another thread. Or rather, they are making explicit that only one thread has access to the run() method. But since its the run method, isn't it itself its own thread? Therefore, only it can access itself and it doesn't need a separate locking mechanism?</p>\n\n<p>I found a suggestion online that by synchronizing the run method you could potentially create a de-facto thread queue for instance by doing this:</p>\n\n<pre><code> public void createThreadQueue(){\n    ThreadedClass a = new ThreadedClass();\n    new Thread(a, \"First one\").start();\n    new Thread(a, \"Second one, waiting on the first one\").start();\n    new Thread(a, \"Third one, waiting on the other two...\").start();\n }\n</code></pre>\n\n<p>I would never do that personally, but it lends to the question of why anyone would synchronize the run method. <strong><em>Any ideas why or why not one should synchronize the run method?</em></strong></p>\n"},{"tags":["java","eclipse","internet-radio"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1517318953,"post_id":48522605,"comment_id":84039777,"body_markdown":"What line in your code above throws the NPE? Where is your stacktrace?  Also, have you searched on this exception and reviewed this decent answers to be found in this similar question: [What is a NullPointerException, and how do I fix it?](http://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"What line in your code above throws the NPE? Where is your stacktrace?  Also, have you searched on this exception and reviewed this decent answers to be found in this similar question: <a href=\"http://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":12833440,"reputation":1,"user_id":9283866,"display_name":"Nireki"},"score":0,"creation_date":1517319945,"post_id":48522605,"comment_id":84040441,"body_markdown":"The line &quot;m.play.close()&quot; Causes the exception","body":"The line &quot;m.play.close()&quot; Causes the exception"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1517320161,"post_id":48522605,"comment_id":84040579,"body_markdown":"Which is code you&#39;ve not posted above -- How can we understand what is causing bugs in code not shown? You need to show that code and its context.","body":"Which is code you&#39;ve not posted above -- How can we understand what is causing bugs in code not shown? You need to show that code and its context."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1517320323,"post_id":48522605,"comment_id":84040698,"body_markdown":"Also, what variable on that line is null? m? play? Have you tested this? Have you used a debugger?","body":"Also, what variable on that line is null? m? play? Have you tested this? Have you used a debugger?"},{"owner":{"account_id":12833440,"reputation":1,"user_id":9283866,"display_name":"Nireki"},"score":0,"creation_date":1517320331,"post_id":48522605,"comment_id":84040704,"body_markdown":"Sorry, i&#180;ve edited it now!","body":"Sorry, i&#180;ve edited it now!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1517320425,"post_id":48522605,"comment_id":84040779,"body_markdown":"You&#39;re calling close on play before starting the thread. The object is created within the run method, so it is null when you close it.","body":"You&#39;re calling close on play before starting the thread. The object is created within the run method, so it is null when you close it."},{"owner":{"account_id":12833440,"reputation":1,"user_id":9283866,"display_name":"Nireki"},"score":0,"creation_date":1517320791,"post_id":48522605,"comment_id":84041031,"body_markdown":"But the thread is already started! At the first click is only y.start(); but then isRunning is set to true so at the second click the threat gets stopped.","body":"But the thread is already started! At the first click is only y.start(); but then isRunning is set to true so at the second click the threat gets stopped."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1517320855,"post_id":48522605,"comment_id":84041084,"body_markdown":"That doesn&#39;t matter at all since you&#39;re creating a completely new Main object since you&#39;re using local variables. Sorry but this code has many issues, and if this were my project, I&#39;d consider starting over, refactoring the non-GUI elements out of the GUI. You&#39;re extending Thread for instance, using the `@SuppressWarnings(&quot;deprecation&quot;)` annotation (!), and most important for your purposes, using local variables where fields should be used. Consider refactoring this so that it&#39;s much cleaner and easier to debug and enhance.","body":"That doesn&#39;t matter at all since you&#39;re creating a completely new Main object since you&#39;re using local variables. Sorry but this code has many issues, and if this were my project, I&#39;d consider starting over, refactoring the non-GUI elements out of the GUI. You&#39;re extending Thread for instance, using the <code>@SuppressWarnings(&quot;deprecation&quot;)</code> annotation (!), and most important for your purposes, using local variables where fields should be used. Consider refactoring this so that it&#39;s much cleaner and easier to debug and enhance."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1517320965,"post_id":48522605,"comment_id":84041170,"body_markdown":"Every time this MouseListener code is called, a new Main object is created. And so even if you&#39;ve got the thread running, you&#39;re calling close on a Thread that hasn&#39;t been started. Again, refactor, simplify, use first principles.","body":"Every time this MouseListener code is called, a new Main object is created. And so even if you&#39;ve got the thread running, you&#39;re calling close on a Thread that hasn&#39;t been started. Again, refactor, simplify, use first principles."},{"owner":{"account_id":12833440,"reputation":1,"user_id":9283866,"display_name":"Nireki"},"score":0,"creation_date":1517321065,"post_id":48522605,"comment_id":84041232,"body_markdown":"Ohh okay. I will try to fix this","body":"Ohh okay. I will try to fix this"},{"owner":{"account_id":12833440,"reputation":1,"user_id":9283866,"display_name":"Nireki"},"score":0,"creation_date":1517321207,"post_id":48522605,"comment_id":84041323,"body_markdown":"Okay now I&#180;m getting an IllegalThreadStateException when I try to restart the Thread with y.start() ( after closing the Player, this is working now, thank you!)","body":"Okay now I&#180;m getting an IllegalThreadStateException when I try to restart the Thread with y.start() ( after closing the Player, this is working now, thank you!)"},{"owner":{"account_id":12833440,"reputation":1,"user_id":9283866,"display_name":"Nireki"},"score":0,"creation_date":1517321591,"post_id":48522605,"comment_id":84041596,"body_markdown":"Okay I&#180;ve found the soloution myself :D I simply create a new Thread after stopping the old one! Thank you for your help !!","body":"Okay I&#180;ve found the soloution myself :D I simply create a new Thread after stopping the old one! Thank you for your help !!"}],"owner":{"account_id":12833440,"reputation":1,"user_id":9283866,"display_name":"Nireki"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1517320197,"answer_count":0,"score":0,"last_activity_date":1656842301,"creation_date":1517318852,"question_id":48522605,"body_markdown":"I&#180;m writing an internet radio application. I&#180;m running a JavaZoom Player in one thread but I can&#180;t close the player from the main frame. I always get an NullPointerException. Here is the code of the Player :\r\n\r\n    import java.net.*;\r\n    import java.util.Scanner;\r\n    import java.io.*;\r\n    import java.net.*;\r\n    import javazoom.jl.decoder.JavaLayerException;\r\n    import javazoom.jl.player.Player;\r\n    import javax.*;\r\n    import javax.swing.ImageIcon;\r\n    \r\n    public class Main extends Thread {\r\n        public static URL radiourl;\r\n        public Player play;\r\n        public static int art = 0;\r\n        public static String radio = null;\r\n        InputStream stream;\r\n    \r\n        public void run() {\r\n            int valuehere = RadioGui.value;\r\n            switch (valuehere) {\r\n            case 1:\r\n                radio = &quot;http://mp3-live.swr3.de/swr3_m.m3u&quot;;\r\n                art = 1;\r\n                break;\r\n            case 2:\r\n                radio = &quot;http://www.wdr.de/wdrlive/media/einslivedigi.m3u&quot;;\r\n                art = 1;\r\n                break;\r\n            case 3:\r\n                radio = &quot;http://www.wdr.de/wdrlive/media/wdr2.m3u&quot;;\r\n                art = 1;\r\n                break;\r\n            case 4:\r\n                radio = &quot;http://sunshinelive.hoerradar.de/sunshinelive-live-mp3-hq&quot;;\r\n                art = 2;\r\n                break;\r\n            default:\r\n            }\r\n            if (art == 1) {\r\n                try {\r\n                    URL url = new URL(radio);\r\n                    System.out.println(url);\r\n                    Scanner scan = new Scanner(url.openStream());\r\n                    String radiourl;\r\n                    String radioendurl = null;\r\n                    while (scan.hasNext()) {\r\n                        radiourl = scan.nextLine();\r\n                        if (radiourl.contains(&quot;.mp3&quot;)) {\r\n                            radioendurl = radiourl;\r\n                        }\r\n                    }\r\n                    url = new URL(radioendurl);\r\n                    stream = url.openStream();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            if (art == 2) {\r\n                try {\r\n                    URL url = new URL(radio);\r\n                    stream = url.openStream();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            try {\r\n                play = new Player(stream);\r\n                RadioGui.isRunning = true;\r\n                System.out.println(RadioGui.isRunning);\r\n                play.play();\r\n            } catch (JavaLayerException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    \r\n    \t\r\n\r\nIn the real Main(yes I know this class is called Main but it isnt the real Main...) I cant close the player(When I type m(Main).play.close();.\r\nThe code that causes the error:\r\n\r\n    label.addMouseListener(new MouseAdapter() {\r\n\t\t\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseClicked(MouseEvent arg0) {\r\n\t\t\t\tsendername = (String)sender.getSelectedItem();\r\n\t\t\t\tif(sendername.equals(&quot;SWR 3&quot;)){\r\n\t\t\t\t\tvalue = 1;\r\n\t\t\t\t\tbild.setIcon(new ImageIcon(RadioGui.class.getResource(&quot;/Images/swr 3.png&quot;)));\r\n\t\t\t\t\tname.setText(sendername);\r\n\t\t\t\t}\r\n\t\t\t\tif(sendername.equals(&quot;1 Live DIGGi&quot;)){\r\n\t\t\t\t\tvalue = 2;\r\n\t\t\t\t\tbild.setIcon(new ImageIcon(RadioGui.class.getResource(&quot;/Images/1livediggi.png&quot;)));\r\n\t\t\t\t\tname.setText(sendername);\r\n\t\t\t\t}\r\n\t\t\t\tif(sendername.equals(&quot;WDR 2&quot;)){\r\n\t\t\t\t\tvalue = 3;\r\n\t\t\t\t\tbild.setIcon(new ImageIcon(RadioGui.class.getResource(&quot;/Images/wdr2.gif&quot;)));\r\n\t\t\t\t\tname.setText(sendername);\r\n\t\t\t\t}\r\n\t\t\t\tif(sendername.equals(&quot;SUNSHINE LIVE&quot;)){\r\n\t\t\t\t\tvalue = 4;\r\n\t\t\t\t\tbild.setIcon(new ImageIcon(RadioGui.class.getResource(&quot;/Images/sunshine.png&quot;)));\r\n\t\t\t\t\tname.setText(sendername);\r\n\t\t\t\t}\r\n\t\t\t\tMain m = new Main();\r\n\t\t\t\tThread y = new Thread(m);\r\n\t\t\t\tif(isRunning==true){\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tThread.sleep(100);\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\ty.stop();\r\n\t\t\t\t\tm.play.close();//Here is the error\r\n\t\t\t\t\tSystem.out.println(y.isAlive());\r\n\t\t\t\t\tSystem.out.println(m.play.isComplete());\r\n\t\t\t\t\tisRunning = false;\r\n\t\t\t\t\ty.start();\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\ty.start();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});","title":"JavaZoom player issue with closing it","body":"<p>I¬¥m writing an internet radio application. I¬¥m running a JavaZoom Player in one thread but I can¬¥t close the player from the main frame. I always get an NullPointerException. Here is the code of the Player :</p>\n\n<pre><code>import java.net.*;\nimport java.util.Scanner;\nimport java.io.*;\nimport java.net.*;\nimport javazoom.jl.decoder.JavaLayerException;\nimport javazoom.jl.player.Player;\nimport javax.*;\nimport javax.swing.ImageIcon;\n\npublic class Main extends Thread {\n    public static URL radiourl;\n    public Player play;\n    public static int art = 0;\n    public static String radio = null;\n    InputStream stream;\n\n    public void run() {\n        int valuehere = RadioGui.value;\n        switch (valuehere) {\n        case 1:\n            radio = \"http://mp3-live.swr3.de/swr3_m.m3u\";\n            art = 1;\n            break;\n        case 2:\n            radio = \"http://www.wdr.de/wdrlive/media/einslivedigi.m3u\";\n            art = 1;\n            break;\n        case 3:\n            radio = \"http://www.wdr.de/wdrlive/media/wdr2.m3u\";\n            art = 1;\n            break;\n        case 4:\n            radio = \"http://sunshinelive.hoerradar.de/sunshinelive-live-mp3-hq\";\n            art = 2;\n            break;\n        default:\n        }\n        if (art == 1) {\n            try {\n                URL url = new URL(radio);\n                System.out.println(url);\n                Scanner scan = new Scanner(url.openStream());\n                String radiourl;\n                String radioendurl = null;\n                while (scan.hasNext()) {\n                    radiourl = scan.nextLine();\n                    if (radiourl.contains(\".mp3\")) {\n                        radioendurl = radiourl;\n                    }\n                }\n                url = new URL(radioendurl);\n                stream = url.openStream();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        if (art == 2) {\n            try {\n                URL url = new URL(radio);\n                stream = url.openStream();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        try {\n            play = new Player(stream);\n            RadioGui.isRunning = true;\n            System.out.println(RadioGui.isRunning);\n            play.play();\n        } catch (JavaLayerException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>In the real Main(yes I know this class is called Main but it isnt the real Main...) I cant close the player(When I type m(Main).play.close();.\nThe code that causes the error:</p>\n\n<pre><code>label.addMouseListener(new MouseAdapter() {\n        @SuppressWarnings(\"deprecation\")\n        @Override\n        public void mouseClicked(MouseEvent arg0) {\n            sendername = (String)sender.getSelectedItem();\n            if(sendername.equals(\"SWR 3\")){\n                value = 1;\n                bild.setIcon(new ImageIcon(RadioGui.class.getResource(\"/Images/swr 3.png\")));\n                name.setText(sendername);\n            }\n            if(sendername.equals(\"1 Live DIGGi\")){\n                value = 2;\n                bild.setIcon(new ImageIcon(RadioGui.class.getResource(\"/Images/1livediggi.png\")));\n                name.setText(sendername);\n            }\n            if(sendername.equals(\"WDR 2\")){\n                value = 3;\n                bild.setIcon(new ImageIcon(RadioGui.class.getResource(\"/Images/wdr2.gif\")));\n                name.setText(sendername);\n            }\n            if(sendername.equals(\"SUNSHINE LIVE\")){\n                value = 4;\n                bild.setIcon(new ImageIcon(RadioGui.class.getResource(\"/Images/sunshine.png\")));\n                name.setText(sendername);\n            }\n            Main m = new Main();\n            Thread y = new Thread(m);\n            if(isRunning==true){\n                try {\n                    Thread.sleep(100);\n                } catch (InterruptedException e) {\n\n                }\n                y.stop();\n                m.play.close();//Here is the error\n                System.out.println(y.isAlive());\n                System.out.println(m.play.isComplete());\n                isRunning = false;\n                y.start();\n            }\n            else{\n            y.start();\n            }\n        }\n    });\n</code></pre>\n"},{"tags":["java","maven","cxf","guava"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656835618,"post_id":72844262,"comment_id":128664486,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25616031,"reputation":1,"user_id":19388629,"display_name":"Jessica Jindal"},"score":0,"creation_date":1656839095,"post_id":72844262,"comment_id":128665050,"body_markdown":"dependencies provided","body":"dependencies provided"}],"owner":{"account_id":25616031,"reputation":1,"user_id":19388629,"display_name":"Jessica Jindal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656841505,"creation_date":1656828370,"question_id":72844262,"body_markdown":"In my build.gradle file i am using Guava 19.0 and cxf-rt-rs-client 3.4.4 jar, but while deploying the project, i am getting the below error:\r\n\r\n&gt; [&quot;Exception in thread \\&quot;main\\&quot; com.google.common.util.concurrent.UncheckedExecutionException: org.apache.cxf.bus.extension.ExtensionException: Could not load extension class org.apache.cxf.common.util.ASMHelperImpl.&quot;, &quot;\\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2199)&quot;, &quot;\\tat com.google.common.cache.LocalCache.get(LocalCache.java:3932)&quot;, &quot;\\tat com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3936)&quot;, &quot;\\tat com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4806)&quot;, &quot;\\tat com.google.common.cache.LocalCache$LocalLoadingCache.getUnchecked(LocalCache.java:4812)&quot;, &quot;\\tat com.cloudera.api.ClouderaManagerClientBuilder.build(ClouderaManagerClientBuilder.java:272)&quot;, &quot;\\tat com.cloudera.api.ClouderaManagerClientBuilder.build(ClouderaManagerClientBuilder.java:252)&quot;, &quot;\\tat com.cisco.ivsg.cm.client.service.CmService.connect(CmService.java:395)&quot;, &quot;\\tat com.cisco.ivsg.cm.client.action.CmCommand.executeCommand(CmCommand.java:95)&quot;, &quot;\\tat com.cisco.ivsg.cm.client.action.CmCommand.main(CmCommand.java:83)&quot;, &quot;Caused by: org.apache.cxf.bus.extension.ExtensionException: Could not load extension class org.apache.cxf.common.util.ASMHelperImpl.&quot;, &quot;\\tat org.apache.cxf.bus.extension.Extension.tryClass(Extension.java:183)&quot;, &quot;\\tat org.apache.cxf.bus.extension.Extension.getClassObject(Extension.java:199)&quot;, &quot;\\tat org.apache.cxf.bus.extension.ExtensionManagerImpl.activateAllByType(ExtensionManagerImpl.java:139)&quot;, &quot;\\tat org.apache.cxf.bus.extension.ExtensionManagerBus.&lt;init&gt;(ExtensionManagerBus.java:145)&quot;, &quot;\\tat org.apache.cxf.bus.extension.ExtensionManagerBus.&lt;init&gt;(ExtensionManagerBus.java:151)&quot;, &quot;\\tat org.apache.cxf.bus.CXFBusFactory.createBus(CXFBusFactory.java:40)&quot;, &quot;\\tat org.apache.cxf.bus.CXFBusFactory.createBus(CXFBusFactory.java:36)&quot;, &quot;\\tat org.apache.cxf.bus.CXFBusFactory.createBus(CXFBusFactory.java:32)&quot;, &quot;\\tat org.apache.cxf.BusFactory.getDefaultBus(BusFactory.java:107)&quot;, &quot;\\tat org.apache.cxf.BusFactory.createThreadBus(BusFactory.java:243)&quot;, &quot;\\tat org.apache.cxf.BusFactory.getThreadDefaultBus(BusFactory.java:227)&quot;, &quot;\\tat org.apache.cxf.BusFactory.getThreadDefaultBus(BusFactory.java:214)&quot;, &quot;\\tat org.apache.cxf.jaxrs.JAXRSServiceFactoryBean.getBus(JAXRSServiceFactoryBean.java:69)&quot;, &quot;\\tat org.apache.cxf.jaxrs.JAXRSServiceFactoryBean.createResourceInfo(JAXRSServiceFactoryBean.java:202)&quot;, &quot;\\tat org.apache.cxf.jaxrs.JAXRSServiceFactoryBean.setResourceClass(JAXRSServiceFactoryBean.java:148)&quot;, &quot;\\tat org.apache.cxf.jaxrs.client.JAXRSClientFactoryBean.setServiceClass(JAXRSClientFactoryBean.java:171)&quot;, &quot;\\tat org.apache.cxf.jaxrs.client.JAXRSClientFactoryBean.setResourceClass(JAXRSClientFactoryBean.java:162)&quot;, &quot;\\tat com.cloudera.api.ClouderaManagerClientBuilder$1.load(ClouderaManagerClientBuilder.java:103)&quot;, &quot;\\tat com.cloudera.api.ClouderaManagerClientBuilder$1.load(ClouderaManagerClientBuilder.java:99)&quot;, &quot;\\tat com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3522)&quot;, &quot;\\tat com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2315)&quot;, &quot;\\tat com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2278)&quot;, &quot;\\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2193)&quot;, &quot;\\t... 9 more&quot;, &quot;Caused by: java.lang.IncompatibleClassChangeError: Implementing class&quot;, &quot;\\tat java.lang.ClassLoader.defineClass1(Native Method)&quot;, &quot;\\tat java.lang.ClassLoader.defineClass(ClassLoader.java:763)&quot;, &quot;\\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)&quot;, &quot;\\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)&quot;, &quot;\\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)&quot;, &quot;\\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)&quot;, &quot;\\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)&quot;, &quot;\\tat java.security.AccessController.doPrivileged(Native Method)&quot;, &quot;\\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)&quot;, &quot;\\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)&quot;, &quot;\\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)&quot;, &quot;\\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)&quot;, &quot;\\tat org.apache.cxf.bus.extension.Extension.tryClass(Extension.java:164)&quot;, &quot;\\t... 31 more&quot;]\r\n\r\n\r\nDependencies in build file:\r\n    \r\n    `compile group: &#39;com.cloudera.api&#39;, name: &#39;cloudera-manager-api&#39;, version:&#39;6.3.0&#39;\r\n        compile group: &#39;org.slf4j&#39;, name: &#39;slf4j-log4j12&#39;, version:&#39;1.7.21&#39;\r\n        compile group: &#39;com.github.stefanbirkner&#39;, name: &#39;system-rules&#39;, version:&#39;1.3.0&#39;\r\n        compile group: &#39;org.eclipse.persistence&#39;, name: &#39;eclipselink&#39;, version:&#39;2.4.2&#39;\r\n        compile group: &#39;org.apache.cxf&#39;, name: &#39;cxf-rt-transports-http&#39;, version:&#39;2.7.7&#39;\r\n        compile group: &#39;org.json&#39;, name: &#39;json&#39;, version:&#39;20140107&#39;\r\n    \r\n        compile group: &#39;org.slf4j&#39;, name: &#39;slf4j-api&#39;, version:&#39;1.7.30&#39;\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version:&#39;4.12&#39;\r\n        compile files(&#39;src/resources/javamail-4.0.jar&#39;)\r\n        compile(group: &#39;commonlibs&#39;, name: &#39;aes128-encryption&#39;, version: &#39;1.1.3&#39;)\r\n        compile group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;, version: &#39;4.5.13&#39;\r\n        compile group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-core&#39;, version: &#39;2.10.3&#39;\r\n        compile group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.13.0&#39;\r\n        compile group: &#39;com.fasterxml.jackson.jaxrs&#39;, name: &#39;jackson-jaxrs-base&#39;, version: &#39;2.10.3&#39;\r\n        compile group: &#39;com.fasterxml.jackson.jaxrs&#39;, name: &#39;jackson-jaxrs-json-provider&#39;, version: &#39;2.10.3&#39;\r\n        compile group: &#39;com.fasterxml.jackson.module&#39;, name: &#39;jackson-module-jaxb-annotations&#39;, version: &#39;2.10.3&#39;\r\n        compile group: &#39;org.apache.cxf&#39;, name: &#39;cxf-rt-rs-client&#39;, version: &#39;3.4.4&#39;\r\n    \tcompile\tgroup: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;19.0&#39;\r\n\r\nCan you please suggest on what shall i do further, as i have already tried keeping cxf 3.4.2 and guava 30-jre, guava-15.0, but none of them worked.\r\n\r\n\r\n\r\n\r\n","title":"com.google.common.util.concurrent .UncheckedExecutionException: org.apache.cxf.bus.extension.ExtensionException","body":"<p>In my build.gradle file i am using Guava 19.0 and cxf-rt-rs-client 3.4.4 jar, but while deploying the project, i am getting the below error:</p>\n<blockquote>\n<p>[&quot;Exception in thread &quot;main&quot; com.google.common.util.concurrent.UncheckedExecutionException: org.apache.cxf.bus.extension.ExtensionException: Could not load extension class org.apache.cxf.common.util.ASMHelperImpl.&quot;, &quot;\\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2199)&quot;, &quot;\\tat com.google.common.cache.LocalCache.get(LocalCache.java:3932)&quot;, &quot;\\tat com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3936)&quot;, &quot;\\tat com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4806)&quot;, &quot;\\tat com.google.common.cache.LocalCache$LocalLoadingCache.getUnchecked(LocalCache.java:4812)&quot;, &quot;\\tat com.cloudera.api.ClouderaManagerClientBuilder.build(ClouderaManagerClientBuilder.java:272)&quot;, &quot;\\tat com.cloudera.api.ClouderaManagerClientBuilder.build(ClouderaManagerClientBuilder.java:252)&quot;, &quot;\\tat com.cisco.ivsg.cm.client.service.CmService.connect(CmService.java:395)&quot;, &quot;\\tat com.cisco.ivsg.cm.client.action.CmCommand.executeCommand(CmCommand.java:95)&quot;, &quot;\\tat com.cisco.ivsg.cm.client.action.CmCommand.main(CmCommand.java:83)&quot;, &quot;Caused by: org.apache.cxf.bus.extension.ExtensionException: Could not load extension class org.apache.cxf.common.util.ASMHelperImpl.&quot;, &quot;\\tat org.apache.cxf.bus.extension.Extension.tryClass(Extension.java:183)&quot;, &quot;\\tat org.apache.cxf.bus.extension.Extension.getClassObject(Extension.java:199)&quot;, &quot;\\tat org.apache.cxf.bus.extension.ExtensionManagerImpl.activateAllByType(ExtensionManagerImpl.java:139)&quot;, &quot;\\tat org.apache.cxf.bus.extension.ExtensionManagerBus.(ExtensionManagerBus.java:145)&quot;, &quot;\\tat org.apache.cxf.bus.extension.ExtensionManagerBus.(ExtensionManagerBus.java:151)&quot;, &quot;\\tat org.apache.cxf.bus.CXFBusFactory.createBus(CXFBusFactory.java:40)&quot;, &quot;\\tat org.apache.cxf.bus.CXFBusFactory.createBus(CXFBusFactory.java:36)&quot;, &quot;\\tat org.apache.cxf.bus.CXFBusFactory.createBus(CXFBusFactory.java:32)&quot;, &quot;\\tat org.apache.cxf.BusFactory.getDefaultBus(BusFactory.java:107)&quot;, &quot;\\tat org.apache.cxf.BusFactory.createThreadBus(BusFactory.java:243)&quot;, &quot;\\tat org.apache.cxf.BusFactory.getThreadDefaultBus(BusFactory.java:227)&quot;, &quot;\\tat org.apache.cxf.BusFactory.getThreadDefaultBus(BusFactory.java:214)&quot;, &quot;\\tat org.apache.cxf.jaxrs.JAXRSServiceFactoryBean.getBus(JAXRSServiceFactoryBean.java:69)&quot;, &quot;\\tat org.apache.cxf.jaxrs.JAXRSServiceFactoryBean.createResourceInfo(JAXRSServiceFactoryBean.java:202)&quot;, &quot;\\tat org.apache.cxf.jaxrs.JAXRSServiceFactoryBean.setResourceClass(JAXRSServiceFactoryBean.java:148)&quot;, &quot;\\tat org.apache.cxf.jaxrs.client.JAXRSClientFactoryBean.setServiceClass(JAXRSClientFactoryBean.java:171)&quot;, &quot;\\tat org.apache.cxf.jaxrs.client.JAXRSClientFactoryBean.setResourceClass(JAXRSClientFactoryBean.java:162)&quot;, &quot;\\tat com.cloudera.api.ClouderaManagerClientBuilder$1.load(ClouderaManagerClientBuilder.java:103)&quot;, &quot;\\tat com.cloudera.api.ClouderaManagerClientBuilder$1.load(ClouderaManagerClientBuilder.java:99)&quot;, &quot;\\tat com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3522)&quot;, &quot;\\tat com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2315)&quot;, &quot;\\tat com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2278)&quot;, &quot;\\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2193)&quot;, &quot;\\t... 9 more&quot;, &quot;Caused by: java.lang.IncompatibleClassChangeError: Implementing class&quot;, &quot;\\tat java.lang.ClassLoader.defineClass1(Native Method)&quot;, &quot;\\tat java.lang.ClassLoader.defineClass(ClassLoader.java:763)&quot;, &quot;\\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)&quot;, &quot;\\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)&quot;, &quot;\\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)&quot;, &quot;\\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)&quot;, &quot;\\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)&quot;, &quot;\\tat java.security.AccessController.doPrivileged(Native Method)&quot;, &quot;\\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)&quot;, &quot;\\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)&quot;, &quot;\\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)&quot;, &quot;\\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)&quot;, &quot;\\tat org.apache.cxf.bus.extension.Extension.tryClass(Extension.java:164)&quot;, &quot;\\t... 31 more&quot;]</p>\n</blockquote>\n<p>Dependencies in build file:</p>\n<pre><code>`compile group: 'com.cloudera.api', name: 'cloudera-manager-api', version:'6.3.0'\n    compile group: 'org.slf4j', name: 'slf4j-log4j12', version:'1.7.21'\n    compile group: 'com.github.stefanbirkner', name: 'system-rules', version:'1.3.0'\n    compile group: 'org.eclipse.persistence', name: 'eclipselink', version:'2.4.2'\n    compile group: 'org.apache.cxf', name: 'cxf-rt-transports-http', version:'2.7.7'\n    compile group: 'org.json', name: 'json', version:'20140107'\n\n    compile group: 'org.slf4j', name: 'slf4j-api', version:'1.7.30'\n    testCompile group: 'junit', name: 'junit', version:'4.12'\n    compile files('src/resources/javamail-4.0.jar')\n    compile(group: 'commonlibs', name: 'aes128-encryption', version: '1.1.3')\n    compile group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.13'\n    compile group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.10.3'\n    compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.13.0'\n    compile group: 'com.fasterxml.jackson.jaxrs', name: 'jackson-jaxrs-base', version: '2.10.3'\n    compile group: 'com.fasterxml.jackson.jaxrs', name: 'jackson-jaxrs-json-provider', version: '2.10.3'\n    compile group: 'com.fasterxml.jackson.module', name: 'jackson-module-jaxb-annotations', version: '2.10.3'\n    compile group: 'org.apache.cxf', name: 'cxf-rt-rs-client', version: '3.4.4'\n    compile group: 'com.google.guava', name: 'guava', version: '19.0'\n</code></pre>\n<p>Can you please suggest on what shall i do further, as i have already tried keeping cxf 3.4.2 and guava 30-jre, guava-15.0, but none of them worked.</p>\n"},{"tags":["java","android","firebase","kotlin","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1616099975,"creation_date":1616099975,"answer_id":66698806,"question_id":66698325,"body_markdown":"Data is loaded from Firebase asynchronously, since it may have to come from the server. While the data is being loaded, your main code continues to run. Then when the data is available, the task completes and your `onSuccess` gets called. \r\n\r\nIt&#39;s easiest to see what this means in practice by running in a debugger, or by adding some logging:\r\n\r\n```\r\nDatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\r\nLog.i(&quot;Firebase&quot;, &quot;1. Starting to load data&quot;);\r\nTask&lt;DataSnapshot&gt; dataSnapshotTask = mDatabase.get();\r\nfor (DataSnapshot parking: parkingsData) {\r\n    Log.i(&quot;Firebase&quot;, &quot;2. Got data&quot;);\r\n}\r\nLog.i(&quot;Firebase&quot;, &quot;3. After starting to load data&quot;);\r\n```\r\n\r\nWhen you run this code, it prints:\r\n\r\n&gt; 1. Starting to load data\r\n&gt;\r\n&gt; 3. After starting to load data\r\n&gt;\r\n&gt; 2. Got data\r\n\r\nThis is probably not the order that you expected, but it actually working as intended. It also explains why you&#39;re not getting a result from your `getParkingLots` function: by the time your `return parkings` runs, the `parkings.add(parking.getValue(Parking.class))` hasn&#39;t been called yet!\r\n\r\n---\r\n\r\nThe solution for this is always the same: any code that needs the data from the database, needs to be inside your `onSuccess` method or be called from there. This means you **can&#39;t return the parking lots** from the function, but you can pass in a callback that takes them as a parameter. Or you could return a `Task&lt;HashMap&lt;String, Parking&gt;&gt;` pretty similar to what Firebase does got `get()`.\r\n\r\nFor an example of the callback, see my longer explanation on: https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519","title":"How to wait for Firebase Task to complete to get result as an await function","body":"<p>Data is loaded from Firebase asynchronously, since it may have to come from the server. While the data is being loaded, your main code continues to run. Then when the data is available, the task completes and your <code>onSuccess</code> gets called.</p>\n<p>It's easiest to see what this means in practice by running in a debugger, or by adding some logging:</p>\n<pre><code>DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\nLog.i(&quot;Firebase&quot;, &quot;1. Starting to load data&quot;);\nTask&lt;DataSnapshot&gt; dataSnapshotTask = mDatabase.get();\nfor (DataSnapshot parking: parkingsData) {\n    Log.i(&quot;Firebase&quot;, &quot;2. Got data&quot;);\n}\nLog.i(&quot;Firebase&quot;, &quot;3. After starting to load data&quot;);\n</code></pre>\n<p>When you run this code, it prints:</p>\n<blockquote>\n<ol>\n<li><p>Starting to load data</p>\n</li>\n<li><p>After starting to load data</p>\n</li>\n<li><p>Got data</p>\n</li>\n</ol>\n</blockquote>\n<p>This is probably not the order that you expected, but it actually working as intended. It also explains why you're not getting a result from your <code>getParkingLots</code> function: by the time your <code>return parkings</code> runs, the <code>parkings.add(parking.getValue(Parking.class))</code> hasn't been called yet!</p>\n<hr />\n<p>The solution for this is always the same: any code that needs the data from the database, needs to be inside your <code>onSuccess</code> method or be called from there. This means you <strong>can't return the parking lots</strong> from the function, but you can pass in a callback that takes them as a parameter. Or you could return a <code>Task&lt;HashMap&lt;String, Parking&gt;&gt;</code> pretty similar to what Firebase does got <code>get()</code>.</p>\n<p>For an example of the callback, see my longer explanation on: <a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\">getContactsFromFirebase() method return an empty list</a></p>\n"},{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656840909,"creation_date":1641851373,"answer_id":70659254,"question_id":66698325,"body_markdown":"I don&#39;t think it&#39;s possible to do in &quot;an await fashion&quot; in **Java**.\r\n\r\nBut in **Kotlin** we can use [coroutines][1] for that.\r\n\r\n    suspend fun getParkingLots(): HashMap&lt;String, Parking&gt; {\r\n        val database: DatabaseReference = FirebaseDatabase.getInstance().reference\r\n        val task: Task&lt;DataSnapshot&gt; = database.get()\r\n        val deferredDataSnapshot: Deferred&lt;DataSnapshot&gt; = task.asDeferred()\r\n        val parkingsData: Iterable&lt;DataSnapshot&gt; = deferredDataSnapshot.await().children // or can use just task.await()\r\n         \r\n        // ... use parkingsData\r\n    }\r\n\r\nUsing [`Task.asDeferred`][2] extension function we can convert a `Task` into a [`Deferred`][3] object.\r\nOr can use [`Task.await()`][4] without converting the `task` to the `Deferred` object.\r\n\r\nTo use `Task.asDeferred()` extension function use dependency:\r\n\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.5.2&#39;\r\n\r\nTo call `suspend` function we need to launch a coroutine\r\n    \r\n    someCoroutineScope.launch {\r\n        val parkings = getParkingLots()\r\n    }\r\n\r\n`someCoroutineScope` is a [`CoroutineScope`][5] instance. In android it can be [`viewModelScope`][6] in [`ViewModel`][7] class and [`lifecycleScope`][8] in `Activity` or `Fragment`, or some custom `CoroutineScope` instance. Dependencies:\r\n\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.4.0&#39;\r\n\r\n \r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/coroutines-overview.html\r\n  [2]: https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-play-services/kotlinx.coroutines.tasks/as-deferred.html\r\n  [3]: https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-deferred/\r\n  [4]: https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-play-services/kotlinx.coroutines.tasks/await.html\r\n  [5]: https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-scope/\r\n  [6]: https://developer.android.com/topic/libraries/architecture/coroutines#viewmodelscope\r\n  [7]: https://developer.android.com/topic/libraries/architecture/viewmodel\r\n  [8]: https://developer.android.com/topic/libraries/architecture/coroutines#lifecyclescope","title":"How to wait for Firebase Task to complete to get result as an await function","body":"<p>I don't think it's possible to do in &quot;an await fashion&quot; in <strong>Java</strong>.</p>\n<p>But in <strong>Kotlin</strong> we can use <a href=\"https://kotlinlang.org/docs/coroutines-overview.html\" rel=\"nofollow noreferrer\">coroutines</a> for that.</p>\n<pre><code>suspend fun getParkingLots(): HashMap&lt;String, Parking&gt; {\n    val database: DatabaseReference = FirebaseDatabase.getInstance().reference\n    val task: Task&lt;DataSnapshot&gt; = database.get()\n    val deferredDataSnapshot: Deferred&lt;DataSnapshot&gt; = task.asDeferred()\n    val parkingsData: Iterable&lt;DataSnapshot&gt; = deferredDataSnapshot.await().children // or can use just task.await()\n     \n    // ... use parkingsData\n}\n</code></pre>\n<p>Using <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-play-services/kotlinx.coroutines.tasks/as-deferred.html\" rel=\"nofollow noreferrer\"><code>Task.asDeferred</code></a> extension function we can convert a <code>Task</code> into a <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-deferred/\" rel=\"nofollow noreferrer\"><code>Deferred</code></a> object.\nOr can use <a href=\"https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-play-services/kotlinx.coroutines.tasks/await.html\" rel=\"nofollow noreferrer\"><code>Task.await()</code></a> without converting the <code>task</code> to the <code>Deferred</code> object.</p>\n<p>To use <code>Task.asDeferred()</code> extension function use dependency:</p>\n<pre><code>implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.5.2'\n</code></pre>\n<p>To call <code>suspend</code> function we need to launch a coroutine</p>\n<pre><code>someCoroutineScope.launch {\n    val parkings = getParkingLots()\n}\n</code></pre>\n<p><code>someCoroutineScope</code> is a <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-scope/\" rel=\"nofollow noreferrer\"><code>CoroutineScope</code></a> instance. In android it can be <a href=\"https://developer.android.com/topic/libraries/architecture/coroutines#viewmodelscope\" rel=\"nofollow noreferrer\"><code>viewModelScope</code></a> in <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\"><code>ViewModel</code></a> class and <a href=\"https://developer.android.com/topic/libraries/architecture/coroutines#lifecyclescope\" rel=\"nofollow noreferrer\"><code>lifecycleScope</code></a> in <code>Activity</code> or <code>Fragment</code>, or some custom <code>CoroutineScope</code> instance. Dependencies:</p>\n<pre><code>implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0'\nimplementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.4.0'\n</code></pre>\n"}],"owner":{"account_id":20995495,"reputation":13,"user_id":15427433,"display_name":"Avviator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66698806,"answer_count":2,"score":1,"last_activity_date":1656840909,"creation_date":1616097727,"question_id":66698325,"body_markdown":"I am using the Real Time Database from Firebase on java for Android and I am trying to write a set of helper function to facilitate read and write functions from/to the RTDB.\r\n\r\nMy function looks like the following and is supposed to return a HashMap of my Parking objects on the database; I get a reference to my database and add an `onSuccessListener` where I iterate through the snapshot and add each `Parking` object to my HashMap and return the HashMap `parkings`.\r\n\r\nThe problem is the function returns `parkings` with no values in it before the onSuccessListener runs.\r\n\r\n    public static ArrayList&lt;Parking&gt; getParkingLots() {\r\n        DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\r\n        Task&lt;DataSnapshot&gt; dataSnapshotTask = mDatabase.get();\r\n        ArrayList&lt;Parking&gt; parkings = new ArrayList&lt;Parking&gt;();\r\n        dataSnapshotTask.addOnSuccessListener(new OnSuccessListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(DataSnapshot dataSnapshot) {\r\n                Iterable&lt;DataSnapshot&gt; parkingsData = dataSnapshot.getChildren();\r\n                for (DataSnapshot parking :\r\n                        parkingsData) {\r\n                    parkings.add(parking.getValue(Parking.class));\r\n                }\r\n            }\r\n        });\r\n        return parkings;\r\n    }\r\n\r\nI tried this implementation as well where I directly try and get the results from the Task `datSnapshotTask` but I get an exeption thrown\r\n`java.lang.IllegalStateException: Task is not yet complete`.\r\n\r\n       public static HashMap&lt;String, Parking&gt; getParkingLots() {\r\n        DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\r\n        Task&lt;DataSnapshot&gt; dataSnapshotTask = mDatabase.get();\r\n        Iterable&lt;DataSnapshot&gt; parkingsData = dataSnapshotTask.getResult().getChildren();\r\n        HashMap&lt;String, Parking&gt; parkings = new HashMap&lt;String, Parking&gt;();\r\n        for (DataSnapshot parking :\r\n                parkingsData) {\r\n            parkings.put(parking.getKey(), parking.getValue(Parking.class));\r\n        }\r\n\r\n        return parkings;\r\n    }\r\n\r\nIs there a way to get the results from the Task in an await fashion ?","title":"How to wait for Firebase Task to complete to get result as an await function","body":"<p>I am using the Real Time Database from Firebase on java for Android and I am trying to write a set of helper function to facilitate read and write functions from/to the RTDB.</p>\n<p>My function looks like the following and is supposed to return a HashMap of my Parking objects on the database; I get a reference to my database and add an <code>onSuccessListener</code> where I iterate through the snapshot and add each <code>Parking</code> object to my HashMap and return the HashMap <code>parkings</code>.</p>\n<p>The problem is the function returns <code>parkings</code> with no values in it before the onSuccessListener runs.</p>\n<pre><code>public static ArrayList&lt;Parking&gt; getParkingLots() {\n    DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\n    Task&lt;DataSnapshot&gt; dataSnapshotTask = mDatabase.get();\n    ArrayList&lt;Parking&gt; parkings = new ArrayList&lt;Parking&gt;();\n    dataSnapshotTask.addOnSuccessListener(new OnSuccessListener&lt;DataSnapshot&gt;() {\n        @Override\n        public void onSuccess(DataSnapshot dataSnapshot) {\n            Iterable&lt;DataSnapshot&gt; parkingsData = dataSnapshot.getChildren();\n            for (DataSnapshot parking :\n                    parkingsData) {\n                parkings.add(parking.getValue(Parking.class));\n            }\n        }\n    });\n    return parkings;\n}\n</code></pre>\n<p>I tried this implementation as well where I directly try and get the results from the Task <code>datSnapshotTask</code> but I get an exeption thrown\n<code>java.lang.IllegalStateException: Task is not yet complete</code>.</p>\n<pre><code>   public static HashMap&lt;String, Parking&gt; getParkingLots() {\n    DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\n    Task&lt;DataSnapshot&gt; dataSnapshotTask = mDatabase.get();\n    Iterable&lt;DataSnapshot&gt; parkingsData = dataSnapshotTask.getResult().getChildren();\n    HashMap&lt;String, Parking&gt; parkings = new HashMap&lt;String, Parking&gt;();\n    for (DataSnapshot parking :\n            parkingsData) {\n        parkings.put(parking.getKey(), parking.getValue(Parking.class));\n    }\n\n    return parkings;\n}\n</code></pre>\n<p>Is there a way to get the results from the Task in an await fashion ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8778,"page":1214,"page_size":100}
